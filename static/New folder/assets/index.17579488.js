var eU=Object.defineProperty,tU=Object.defineProperties;var rU=Object.getOwnPropertyDescriptors;var LC=Object.getOwnPropertySymbols;var iU=Object.prototype.hasOwnProperty,nU=Object.prototype.propertyIsEnumerable;var rx=(a,t,r)=>t in a?eU(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r,dl=(a,t)=>{for(var r in t||(t={}))iU.call(t,r)&&rx(a,r,t[r]);if(LC)for(var r of LC(t))nU.call(t,r)&&rx(a,r,t[r]);return a},Hl=(a,t)=>tU(a,rU(t));var PC=(a,t,r)=>(rx(a,typeof t!="symbol"?t+"":t,r),r);const sU=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))n(c);new MutationObserver(c=>{for(const p of c)if(p.type==="childList")for(const y of p.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&n(y)}).observe(document,{childList:!0,subtree:!0});function r(c){const p={};return c.integrity&&(p.integrity=c.integrity),c.referrerpolicy&&(p.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?p.credentials="include":c.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function n(c){if(c.ep)return;c.ep=!0;const p=r(c);fetch(c.href,p)}};sU();var ix=function(a){a=a||{};var t=typeof a!="undefined"?a:{},r=!1,n=!1;t.onRuntimeInitialized=function(){r=!0,n&&typeof t.onModuleLoaded=="function"&&t.onModuleLoaded(t)},t.onModuleParsed=function(){n=!0,r&&typeof t.onModuleLoaded=="function"&&t.onModuleLoaded(t)};function c(Oe){if(typeof Oe!="string")return!1;const Ye=Oe.split(".");return Ye.length<2||Ye.length>3?!1:Ye[0]==1&&Ye[1]>=0&&Ye[1]<=3?!0:!(Ye[0]!=0||Ye[1]>10)}t.isVersionSupported=c;var p={},y;for(y in t)t.hasOwnProperty(y)&&(p[y]=t[y]);t.arguments=[],t.thisProgram="./this.program",t.quit=function(Oe,Ye){throw Ye},t.preRun=[],t.postRun=[];var v=!1,E=!1,_=!1,k=!1;if(t.ENVIRONMENT)if(t.ENVIRONMENT==="WEB")v=!0;else if(t.ENVIRONMENT==="WORKER")E=!0;else if(t.ENVIRONMENT==="NODE")_=!0;else if(t.ENVIRONMENT==="SHELL")k=!0;else throw new Error("Module['ENVIRONMENT'] value is not valid. must be one of: WEB|WORKER|NODE|SHELL.");else v=typeof window=="object",E=typeof importScripts=="function",_=typeof process=="object"&&typeof require=="function"&&!v&&!E,k=!v&&!_&&!E;if(_){var R,B;t.read=function(Ye,vt){var qt;return qt=Ci(Ye),qt||(R||(R=require("fs")),B||(B=require("path")),Ye=B.normalize(Ye),qt=R.readFileSync(Ye)),vt?qt:qt.toString()},t.readBinary=function(Ye){var vt=t.read(Ye,!0);return vt.buffer||(vt=new Uint8Array(vt)),oe(vt.buffer),vt},process.argv.length>1&&(t.thisProgram=process.argv[1].replace(/\\/g,"/")),t.arguments=process.argv.slice(2),process.on("uncaughtException",function(Oe){if(!(Oe instanceof Gf))throw Oe}),process.on("unhandledRejection",function(Oe,Ye){process.exit(1)}),t.inspect=function(){return"[Emscripten Module object]"}}else k?(typeof read!="undefined"&&(t.read=function(Ye){var vt=Ci(Ye);return vt?ei(vt):read(Ye)}),t.readBinary=function(Ye){var vt;return vt=Ci(Ye),vt||(typeof readbuffer=="function"?new Uint8Array(readbuffer(Ye)):(vt=read(Ye,"binary"),oe(typeof vt=="object"),vt))},typeof scriptArgs!="undefined"?t.arguments=scriptArgs:typeof arguments!="undefined"&&(t.arguments=arguments),typeof quit=="function"&&(t.quit=function(Oe,Ye){quit(Oe)})):(v||E)&&(t.read=function(Ye){try{var vt=new XMLHttpRequest;return vt.open("GET",Ye,!1),vt.send(null),vt.responseText}catch(Y){var qt=Ci(Ye);if(qt)return ei(qt);throw Y}},E&&(t.readBinary=function(Ye){try{var vt=new XMLHttpRequest;return vt.open("GET",Ye,!1),vt.responseType="arraybuffer",vt.send(null),new Uint8Array(vt.response)}catch(Y){var qt=Ci(Ye);if(qt)return qt;throw Y}}),t.readAsync=function(Ye,vt,qt){var Y=new XMLHttpRequest;Y.open("GET",Ye,!0),Y.responseType="arraybuffer",Y.onload=function(){if(Y.status==200||Y.status==0&&Y.response){vt(Y.response);return}var Or=Ci(Ye);if(Or){vt(Or.buffer);return}qt()},Y.onerror=qt,Y.send(null)},t.setWindowTitle=function(Oe){document.title=Oe});t.print=typeof console!="undefined"?console.log.bind(console):typeof print!="undefined"?print:null,t.printErr=typeof printErr!="undefined"?printErr:typeof console!="undefined"&&console.warn.bind(console)||t.print,t.print=t.print,t.printErr=t.printErr;for(y in p)p.hasOwnProperty(y)&&(t[y]=p[y]);p=void 0;var M=16;function F(Oe){oe(!Dt);var Ye=Et;return Et=Et+Oe+15&-16,Ye}function H(Oe){oe(yr);var Ye=Me[yr>>2],vt=Ye+Oe+15&-16;if(Me[yr>>2]=vt,vt>=kt){var qt=Yr();if(!qt)return Me[yr>>2]=Ye,0}return Ye}function U(Oe,Ye){Ye||(Ye=M);var vt=Oe=Math.ceil(Oe/Ye)*Ye;return vt}function Z(Oe){switch(Oe){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:{if(Oe[Oe.length-1]==="*")return 4;if(Oe[0]==="i"){var Ye=parseInt(Oe.substr(1));return oe(Ye%8===0),Ye/8}else return 0}}}new Array(0);var K=8,fe=0;function oe(Oe,Ye){Oe||$a("Assertion failed: "+Ye)}function we(Oe,Ye,vt,qt){switch(vt=vt||"i8",vt.charAt(vt.length-1)==="*"&&(vt="i32"),vt){case"i1":Qe[Oe>>0]=Ye;break;case"i8":Qe[Oe>>0]=Ye;break;case"i16":ce[Oe>>1]=Ye;break;case"i32":Me[Oe>>2]=Ye;break;case"i64":tempI64=[Ye>>>0,(tempDouble=Ye,+lr(tempDouble)>=1?tempDouble>0?(gi(+Vr(tempDouble/4294967296),4294967295)|0)>>>0:~~+Sr((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],Me[Oe>>2]=tempI64[0],Me[Oe+4>>2]=tempI64[1];break;case"float":ot[Oe>>2]=Ye;break;case"double":Se[Oe>>3]=Ye;break;default:$a("invalid type for setValue: "+vt)}}var be=2,ve=4;function ne(Oe,Ye,vt,qt){var Y,hi;typeof Oe=="number"?(Y=!0,hi=Oe):(Y=!1,hi=Oe.length);var Or=typeof Ye=="string"?Ye:null,Ni;if(vt==ve?Ni=qt:Ni=[typeof jf=="function"?jf:F,Qb,F,H][vt===void 0?be:vt](Math.max(hi,Or?1:Ye.length)),Y){var e;for(qt=Ni,oe((Ni&3)==0),e=Ni+(hi&-4);qt<e;qt+=4)Me[qt>>2]=0;for(e=Ni+hi;qt<e;)Qe[qt++>>0]=0;return Ni}if(Or==="i8")return Oe.subarray||Oe.slice?Ue.set(Oe,Ni):Ue.set(new Uint8Array(Oe),Ni),Ni;for(var gs=0,br,tl,fa;gs<hi;){var rf=Oe[gs];if(br=Or||Ye[gs],br===0){gs++;continue}br=="i64"&&(br="i32"),we(Ni+gs,rf,br),fa!==br&&(tl=Z(br),fa=br),gs+=tl}return Ni}function ae(Oe,Ye){if(Ye===0||!Oe)return"";for(var vt=0,qt,Y=0;qt=Ue[Oe+Y>>0],vt|=qt,!(qt==0&&!Ye||(Y++,Ye&&Y==Ye)););Ye||(Ye=Y);var hi="";if(vt<128){for(var Or=1024,Ni;Ye>0;)Ni=String.fromCharCode.apply(String,Ue.subarray(Oe,Oe+Math.min(Ye,Or))),hi=hi?hi+Ni:Ni,Oe+=Or,Ye-=Or;return hi}return xe(Oe)}var ye=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function de(Oe,Ye){for(var vt=Ye;Oe[vt];)++vt;if(vt-Ye>16&&Oe.subarray&&ye)return ye.decode(Oe.subarray(Ye,vt));for(var qt,Y,hi,Or,Ni,e,gs="";;){if(qt=Oe[Ye++],!qt)return gs;if(!(qt&128)){gs+=String.fromCharCode(qt);continue}if(Y=Oe[Ye++]&63,(qt&224)==192){gs+=String.fromCharCode((qt&31)<<6|Y);continue}if(hi=Oe[Ye++]&63,(qt&240)==224?qt=(qt&15)<<12|Y<<6|hi:(Or=Oe[Ye++]&63,(qt&248)==240?qt=(qt&7)<<18|Y<<12|hi<<6|Or:(Ni=Oe[Ye++]&63,(qt&252)==248?qt=(qt&3)<<24|Y<<18|hi<<12|Or<<6|Ni:(e=Oe[Ye++]&63,qt=(qt&1)<<30|Y<<24|hi<<18|Or<<12|Ni<<6|e))),qt<65536)gs+=String.fromCharCode(qt);else{var br=qt-65536;gs+=String.fromCharCode(55296|br>>10,56320|br&1023)}}}function xe(Oe){return de(Ue,Oe)}function le(Oe,Ye,vt,qt){if(!(qt>0))return 0;for(var Y=vt,hi=vt+qt-1,Or=0;Or<Oe.length;++Or){var Ni=Oe.charCodeAt(Or);if(Ni>=55296&&Ni<=57343&&(Ni=65536+((Ni&1023)<<10)|Oe.charCodeAt(++Or)&1023),Ni<=127){if(vt>=hi)break;Ye[vt++]=Ni}else if(Ni<=2047){if(vt+1>=hi)break;Ye[vt++]=192|Ni>>6,Ye[vt++]=128|Ni&63}else if(Ni<=65535){if(vt+2>=hi)break;Ye[vt++]=224|Ni>>12,Ye[vt++]=128|Ni>>6&63,Ye[vt++]=128|Ni&63}else if(Ni<=2097151){if(vt+3>=hi)break;Ye[vt++]=240|Ni>>18,Ye[vt++]=128|Ni>>12&63,Ye[vt++]=128|Ni>>6&63,Ye[vt++]=128|Ni&63}else if(Ni<=67108863){if(vt+4>=hi)break;Ye[vt++]=248|Ni>>24,Ye[vt++]=128|Ni>>18&63,Ye[vt++]=128|Ni>>12&63,Ye[vt++]=128|Ni>>6&63,Ye[vt++]=128|Ni&63}else{if(vt+5>=hi)break;Ye[vt++]=252|Ni>>30,Ye[vt++]=128|Ni>>24&63,Ye[vt++]=128|Ni>>18&63,Ye[vt++]=128|Ni>>12&63,Ye[vt++]=128|Ni>>6&63,Ye[vt++]=128|Ni&63}}return Ye[vt]=0,vt-Y}function re(Oe){for(var Ye=0,vt=0;vt<Oe.length;++vt){var qt=Oe.charCodeAt(vt);qt>=55296&&qt<=57343&&(qt=65536+((qt&1023)<<10)|Oe.charCodeAt(++vt)&1023),qt<=127?++Ye:qt<=2047?Ye+=2:qt<=65535?Ye+=3:qt<=2097151?Ye+=4:qt<=67108863?Ye+=5:Ye+=6}return Ye}typeof TextDecoder!="undefined"&&new TextDecoder("utf-16le");var he=65536,me=16777216,Re=16777216;function Ie(Oe,Ye){return Oe%Ye>0&&(Oe+=Ye-Oe%Ye),Oe}var Ne,Qe,Ue,ce,Me,ot,Se;function Xe(Oe){t.buffer=Ne=Oe}function ct(){t.HEAP8=Qe=new Int8Array(Ne),t.HEAP16=ce=new Int16Array(Ne),t.HEAP32=Me=new Int32Array(Ne),t.HEAPU8=Ue=new Uint8Array(Ne),t.HEAPU16=new Uint16Array(Ne),t.HEAPU32=new Uint32Array(Ne),t.HEAPF32=ot=new Float32Array(Ne),t.HEAPF64=Se=new Float64Array(Ne)}var $e,Et,Dt,er,Gt,Ht,Kt,yr;$e=Et=er=Gt=Ht=Kt=yr=0,Dt=!1;function Ur(){$a("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+kt+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}t.reallocBuffer||(t.reallocBuffer=function(Oe){var Ye;try{if(ArrayBuffer.transfer)Ye=ArrayBuffer.transfer(Ne,Oe);else{var vt=Qe;Ye=new ArrayBuffer(Oe);var qt=new Int8Array(Ye);qt.set(vt)}}catch{return!1}var Y=Wb(Ye);return Y?Ye:!1});function Yr(){var Oe=t.usingWasm?he:me,Ye=2147483648-Oe;if(Me[yr>>2]>Ye)return!1;var vt=kt;for(kt=Math.max(kt,Re);kt<Me[yr>>2];)kt<=536870912?kt=Ie(2*kt,Oe):kt=Math.min(Ie((3*kt+2147483648)/4,Oe),Ye);var qt=t.reallocBuffer(kt);return!qt||qt.byteLength!=kt?(kt=vt,!1):(Xe(qt),ct(),!0)}var oi;try{oi=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get),oi(new ArrayBuffer(4))}catch{oi=function(Ye){return Ye.byteLength}}var xt=t.TOTAL_STACK||5242880,kt=t.TOTAL_MEMORY||16777216;kt<xt&&t.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+kt+"! (TOTAL_STACK="+xt+")"),t.buffer?Ne=t.buffer:(Ne=new ArrayBuffer(kt),t.buffer=Ne),ct();function rr(){return kt}if(Me[0]=1668509029,ce[1]=25459,Ue[2]!==115||Ue[3]!==99)throw"Runtime error: expected the system to be little-endian!";function mt(Oe){for(;Oe.length>0;){var Ye=Oe.shift();if(typeof Ye=="function"){Ye();continue}var vt=Ye.func;typeof vt=="number"?Ye.arg===void 0?t.dynCall_v(vt):t.dynCall_vi(vt,Ye.arg):vt(Ye.arg===void 0?null:Ye.arg)}}var ft=[],Ut=[],ir=[],vr=[],nt=[],De=!1;function Te(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)Rr(t.preRun.shift());mt(ft)}function gt(){De||(De=!0,mt(Ut))}function zt(){mt(ir)}function Bt(){mt(vr)}function bt(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Nt(t.postRun.shift());mt(nt)}function Rr(Oe){ft.unshift(Oe)}function Ct(Oe){ir.unshift(Oe)}function Nt(Oe){nt.unshift(Oe)}var lr=Math.abs,Sr=Math.ceil,Vr=Math.floor,gi=Math.min,ki=0,mi=null;function Fe(Oe){ki++,t.monitorRunDependencies&&t.monitorRunDependencies(ki)}function Ke(Oe){if(ki--,t.monitorRunDependencies&&t.monitorRunDependencies(ki),ki==0&&mi){var Ye=mi;mi=null,Ye()}}t.preloadedImages={},t.preloadedAudios={};var dt=null,Ot="data:application/octet-stream;base64,";function $t(Oe){return String.prototype.startsWith?Oe.startsWith(Ot):Oe.indexOf(Ot)===0}$e=K,Et=$e+18640,Ut.push(),dt="data:application/octet-stream;base64,vBoAACwbAADkGgAAehsAACAAAAAAAAAAvBoAAKEbAADkGgAAvhsAACAAAAAAAAAAvBoAAOcbAADkGgAAAxwAADgAAAAAAAAAvBoAACUcAADkGgAAShwAADgAAAAAAAAA5BoAAI4mAABQAAAAAAAAAOQaAAB6HAAAiAAAAAAAAADkGgAA0xwAAJgAAAAAAAAA5BoAACcdAACoAAAAAAAAAOQaAABbHQAAuAAAAAAAAAC8GgAAhh0AAOQaAACqHQAA0AAAAAAAAAC8GgAASB4AAOQaAADmHgAA6AAAAAAAAADkGgAAfh8AAIgAAAAAAAAA5BoAAAcgAADoAAAAAAAAAOQaAAChIAAA6AAAAAAAAADkGgAARyEAAOgAAAAAAAAA5BoAAN0hAAA4AQAAAAAAALwaAACIIgAA5BoAADMjAABQAQAAAAAAAOQaAADYIwAAiAAAAAAAAADkGgAAbiQAAFABAAAAAAAA5BoAABUlAABQAQAAAAAAAOQaAADIJQAAUAEAAAAAAADkGgAAqDEAAGgAAAAAAAAA5BoAALomAACwAQAAAAAAAOQaAAArJwAAmAAAAAAAAADkGgAAlycAANABAAAAAAAAvBoAAE0oAADkGgAAAykAAOgBAAAAAAAA5BoAALMpAACwAQAAAAAAAOQaAABUKgAA6AEAAAAAAADkGgAABisAAOgBAAAAAAAA5BoAAMQrAADoAQAAAAAAAOQaAAByLAAAOAIAAAAAAAC8GgAANS0AAOQaAAD4LQAAUAIAAAAAAADkGgAAtS4AALABAAAAAAAA5BoAAGMvAABQAgAAAAAAAOQaAAAiMAAAUAIAAAAAAADkGgAA7TAAAFACAAAAAAAA5BoAANMxAABoAAAAAAAAAOQaAABJMgAACAAAAAAAAAC8GgAAFjIAAOQaAABcMgAAsAIAAAAAAADkGgAAbDMAAHgDAAAAAAAA5BoAAOE3AABgAwAAAAAAALwaAAAsNAAA5BoAAJM0AADoAgAAAAAAAOQaAAAANQAAEAMAAAAAAAC8GgAAizUAALwaAAClNQAA5BoAAP81AAAYAwAAAAAAAOQaAABfNgAAEAMAAAAAAADkGgAA3TYAABgDAAAAAAAA5BoAAEY3AAAQAwAAAAAAALwaAAAtOAAA5BoAAFs4AABgAwAAAAAAAOQaAADMOAAAqAMAAAAAAADkGgAAEjkAAHgDAAAAAAAA5BoAAPg4AAAQAwAAAAAAALwaAAAyOQAA5BoAAAc6AACoAwAAAAAAAOQaAAApOgAAqAMAAAAAAADkGgAATzoAAOADAAAAAAAAvBoAAKE6AAC8GgAA0EQAAOQaAAAwRQAAAAQAAAAAAADkGgAA3UQAABAEAAAAAAAAvBoAAP5EAADkGgAAC0UAAPADAAAAAAAA5BoAABJGAADoAwAAAAAAAOQaAAAiRgAAKAQAAAAAAADkGgAAV0YAAAAEAAAAAAAA5BoAADNGAABIBAAAAAAAAAAAAAAIAAAAAQAAAAIAAAAAAAAAEAAAAAMAAAAEAAAAAQAAAAEAAAABAAAAAAAAACgAAAAFAAAABgAAAAIAAAACAAAAAgAAAP//////////AAAAADgAAAAHAAAACAAAAAEAAAADAAAAAQAAAAQAAAAFAAAAAgAAAAYAAAAHAAAAAwAAAAEAAAAIAAAAAAAAAEAAAAAJAAAACgAAAAEAAAADAAAABAAAAAQAAAAFAAAAAgAAAAYAAAAHAAAABQAAAAkAAAAKAAAAAAAAAFAAAAALAAAADAAAAAMAAAALAAAADAAAAAQAAAANAAAABgAAAAcAAAAOAAAADwAAAAUAAAAAAAAAWAAAAA0AAAAOAAAABgAAABAAAAAIAAAAEQAAABIAAAAHAAAAEwAAABQAAAAJAAAAFQAAABYAAAAKAAAAAQAAAAAAAABoAAAADwAAABAAAAAIAAAACwAAABcAAAAEAAAADQAAAAYAAAALAAAADgAAAA8AAAAJAAAAAgAAAAoAAAD/////AAAAAIgAAAARAAAAEgAAAAEAAAAMAAAAAQAAAA0AAAAYAAAAGQAAAA4AAAAPAAAAGgAAAAEAAAAAAAAAeAAAABEAAAATAAAAEAAAAAwAAAARAAAADQAAABgAAAAZAAAADgAAAA8AAAAaAAAAAQAAAAAAAAAYAQAAEQAAABQAAAASAAAADAAAABMAAAANAAAAGAAAABkAAAAOAAAADwAAABoAAAACAAAAAAAAAPgAAAAVAAAAFgAAABQAAAAMAAAAFQAAABYAAAAbAAAAHAAAAA4AAAAPAAAAHQAAAAMAAAAAAAAA2AAAABcAAAAYAAAAFwAAAAwAAAAYAAAAGQAAAB4AAAAfAAAADgAAAA8AAAAgAAAABAAAAAAAAADAAAAAGQAAABoAAAAhAAAAGgAAAAMAAAAAAAAA6AAAABEAAAAbAAAAAQAAAAwAAAABAAAADQAAABgAAAAZAAAADgAAAA8AAAAaAAAAAQAAAAAAAAAIAQAAHAAAAB0AAAAbAAAADAAAABwAAAANAAAAGAAAABkAAAAOAAAADwAAACIAAAAFAAAAAAAAAIABAAARAAAAHgAAAB0AAAAMAAAAHgAAAA0AAAAYAAAAGQAAAA4AAAAPAAAAGgAAAAYAAAAAAAAAYAEAAB8AAAAgAAAAHwAAAAwAAAAgAAAAIQAAACMAAAAkAAAADgAAAA8AAAAlAAAABwAAAAAAAABAAQAAIQAAACIAAAAiAAAADAAAACMAAAAkAAAAJgAAACcAAAAOAAAADwAAACgAAAAIAAAAAAAAACgBAAAjAAAAJAAAACkAAAAlAAAABAAAAAAAAABQAQAAEQAAACUAAAABAAAADAAAAAEAAAANAAAAGAAAABkAAAAOAAAADwAAABoAAAABAAAAAAAAAHABAAAmAAAAJwAAACYAAAAMAAAAJwAAAA0AAAAYAAAAGQAAAA4AAAAPAAAAKgAAAAkAAAAAAAAAkAEAACgAAAApAAAACwAAAAsAAAAXAAAABAAAACsAAAAoAAAAKQAAAA4AAAAPAAAACQAAAAUAAAAMAAAAAAAAAKABAAAqAAAAKwAAACoAAAArAAAALAAAAC0AAAAsAAAALQAAAC4AAAAvAAAALgAAAAoAAAAAAAAAGAIAACoAAAAsAAAAMAAAACsAAAAxAAAALQAAACwAAAAtAAAALgAAAC8AAAAuAAAACwAAAAAAAAAIAgAALQAAAC4AAAAyAAAAKwAAADMAAAAtAAAALAAAAC0AAAAuAAAALwAAAC8AAAAMAAAAAAAAAPgBAAAvAAAAMAAAADQAAAArAAAANQAAADYAAAAwAAAAMQAAAC4AAAAvAAAAMgAAAA0AAAAAAAAA2AEAADEAAAAyAAAANwAAACsAAAA4AAAAOQAAADMAAAA0AAAALgAAAC8AAAA1AAAADgAAAAAAAADAAQAAMwAAADQAAAA2AAAAOgAAAAYAAAAAAAAAgAIAACoAAAA1AAAAOwAAACsAAAA8AAAALQAAACwAAAAtAAAALgAAAC8AAAAuAAAADwAAAAAAAABwAgAANgAAADcAAAA9AAAAKwAAAD4AAAAtAAAALAAAAC0AAAAuAAAALwAAADcAAAAQAAAAAAAAAGACAAA4AAAAOQAAAD8AAAArAAAAQAAAAEEAAAA4AAAAOQAAAC4AAAAvAAAAOgAAABEAAAAAAAAAQAIAADoAAAA7AAAAQgAAACsAAABDAAAARAAAADsAAAA8AAAALgAAAC8AAAA9AAAAEgAAAAAAAAAoAgAAPAAAAD0AAAA+AAAARQAAAAcAAAAAAAAAkAIAAD4AAAA/AAAADQAAAAsAAAAXAAAABAAAAD8AAABGAAAARwAAAA4AAAAPAAAACQAAAAIAAAAOAAAAAAAAAKACAAABAAAAQAAAAAEAAAACAAAAAAAAALACAABBAAAAQgAAAAAAAAC4AgAAQQAAAEMAAAAAAAAAyAIAAEQAAABFAAAASAAAAEkAAABKAAAASwAAAAMAAABMAAAATQAAAEAAAABBAAAATgAAAEYAAABPAAAAQgAAAEMAAAAEAAAARwAAAAAAAADYAgAASAAAAEkAAABEAAAARQAAAEYAAABHAAAASAAAAAUAAABQAAAASQAAAFEAAAABAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAwAASgAAAEsAAABKAAAAUgAAAAAAAADwAgAATAAAAE0AAAAIAAAAAAAAAOgCAABOAAAATwAAAAgAAAD/////AAAAADADAABQAAAAUQAAAEsAAABTAAAAAAAAACADAABSAAAAUwAAAAkAAAAAAAAAGAMAAFQAAABVAAAACQAAAAAAAABQAwAAVgAAAFcAAABMAAAAVAAAAAAAAABAAwAAWAAAAFkAAAAJAAAAAAAAAGgDAABaAAAAWwAAAE0AAABOAAAATwAAAFAAAABRAAAABgAAAFUAAABSAAAAVgAAAAAAAAABAAAABQAAAAIAAAAFAAAAAwAAAAUAAAAEAAAAAAAAAHgDAABcAAAAXQAAAEgAAAABAAAAVwAAAEsAAAADAAAATAAAAE0AAAABAAAAUwAAAE4AAAABAAAAWAAAAFQAAABVAAAAAQAAAAEAAAAAAAAAiAMAAFwAAABeAAAASAAAAFkAAABXAAAASwAAAAMAAABMAAAATQAAAFYAAABTAAAATgAAAF8AAABYAAAAVAAAAFUAAAAHAAAAYAAAAAAAAACYAwAAYQAAAGIAAABXAAAAWgAAAAAAAACoAwAAXAAAAGMAAABbAAAAAQAAAFcAAABLAAAACAAAAEwAAABNAAAAAQAAAFMAAABOAAAAAQAAAAAAAACwAwAAXAAAAGQAAABbAAAAXAAAAFcAAABLAAAACQAAAEwAAABNAAAAWAAAAFMAAABOAAAAZQAAAAAAAADAAwAAXAAAAGYAAABbAAAAXQAAAFcAAABLAAAACgAAAEwAAABNAAAAWQAAAFMAAABOAAAAZwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAFZVVVUCAAAAAAAAAAIAAACamZmZAwAAAFZVVVUDAAAAJUmSJAMAAAAAAAAAAwAAAMhxHMcEAAAAmpmZmQQAAABGF110BAAAAFZVVVUEAAAAPLETOwQAAAAlSZIkBAAAABIREREEAAAAAAAAAAQAAADi4eHhBQAAAMhxHMcFAAAAy2sorwUAAACamZmZBQAAAIdhGIYFAAAARhdddAUAAACRhSxkBQAAAFZVVVUFAAAAexSuRwUAAAA8sRM7BQAAANtLaC8FAAAAJUmSJAUAAAASlnsaBQAAABIREREFAAAAhRBCCAUAAAAAAAAABQAAAAgffPAGAAAA4uHh4QYAAADVQR3UBgAAAMhxHMcGAAAATZHPugYAAADLayivBgAAAKVBGqQGAAAAmpmZmQYAAAD6GJyPBgAAAIdhGIYGAAAAGPQFfQYAAABGF110BgAAAG3BFmwGAAAAkYUsZAYAAAC6gphcBgAAAFZVVVUGAAAAcwpeTgYAAAB7FK5HBgAAAEJBQUEGAAAAPLETOwYAAACzzyE1BgAAANtLaC8GAAAAnxLkKQYAAAAlSZIkBgAAAN1HcB8GAAAAEpZ7GgYAAAD45bEVBgAAABIREREGAAAA/BSXDAYAAACFEEIIBgAAAAVBEAQGAAAAAAAAAAYAAAD5gR/4BwAAAAgffPAHAAAAwBoT6QcAAADi4eHhBwAAAGwH5toHAAAA1UEd1AcAAACRaIXNBwAAAMhxHMcHAAAAOXDgwAcAAABNkc+6BwAAAE8b6LQHAAAAy2sorwcAAAAH9o6pBwAAAKVBGqQHAAAAUunIngcAAACamZmZBwAAAM4Pi5QHAAAA+hicjwcAAAD3kMuKBwAAAIdhGIYHAAAAgoGBgQcAAAAY9AV9BwAAABjIpHgHAAAARhdddAcAAADBBS5wBwAAAG3BFmwHAAAAaYEWaAcAAACRhSxkBwAAAAYWWGAHAAAAuoKYXAcAAAAJI+1YBwAAAFZVVVUHAAAAr37QUQcAAABzCl5OBwAAAAZq/UoHAAAAexSuRwcAAABXhm9EBwAAAEJBQUEHAAAAz8siPgcAAAA8sRM7BwAAADmBEzgHAAAAs88hNQcAAACjND4yBwAAANtLaC8HAAAA2bSfLAcAAACfEuQpBwAAAIkLNScHAAAAJUmSJAcAAAATePshBwAAAN1HcB8HAAAA22rwHAcAAAASlnsaBwAAABmBERgHAAAA+OWxFQcAAAAUgVwTBwAAABIREREHAAAAv1bPDgcAAAD8FJcMBwAAAKcQaAoHAAAAhRBCCAcAAAAw3SQGBwAAAAVBEAQHAAAAEQgEAgcAAAAAAAAABwAAACDwB/wIAAAA+YEf+AgAAADlWUb0CAAAAAgffPAIAAAAMXvA7AgAAADAGhPpCAAAAJGsc+UIAAAA4uHh4QgAAABAbl3eCAAAAGwH5toIAAAATGV71wgAAADVQR3UCAAAAPdYy9AIAAAAkWiFzQgAAABWMEvKCAAAAMhxHMcIAAAAHfD4wwgAAAA5cODACAAAAJq40r0IAAAATZHPuggAAADew9a3CAAAAE8b6LQIAAAAB2QDsggAAADLayivCAAAAK0BV6wIAAAAB/aOqQgAAABuGtCmCAAAAKVBGqQIAAAAmD9toQgAAABS6cieCAAAAO8ULZwIAAAAmpmZmQgAAACBTw6XCAAAAM4Pi5QIAAAAnrQPkggAAAD6GJyPCAAAANQYMI0IAAAA95DLiggAAAALX26ICAAAAIdhGIYIAAAArHfJgwgAAACCgYGBCAAAANFfQH8IAAAAGPQFfQgAAACPINJ6CAAAABjIpHgIAAAARM59dggAAABGF110CAAAAPWHQnIIAAAAwQUucAgAAAC1dh9uCAAAAG3BFmwIAAAAFs0TaggAAABpgRZoCAAAAKbGHmYIAAAAkYUsZAgAAABxpz9iCAAAAAYWWGAIAAAAjrt1XggAAAC6gphcCAAAALFWwFoIAAAACSPtWAgAAADG0x5XCAAAAFZVVVUIAAAAkJSQUwgAAACvftBRCAAAAFEBFVAIAAAAcwpeTggAAABziKtMCAAAAAZq/UoIAAAAPJ5TSQgAAAB7FK5HCAAAAIC8DEYIAAAAV4ZvRAgAAABeYtZCCAAAAEJBQUEIAAAA/BOwPwgAAADPyyI+CAAAAEhamTwIAAAAPLETOwgAAADCwpE5CAAAADmBEzgIAAAAPt+YNggAAACzzyE1CAAAALZFrjMIAAAAozQ+MggAAAAUkNEwCAAAANtLaC8IAAAABVwCLggAAADZtJ8sCAAAANFKQCsIAAAAnxLkKQgAAAApAYsoCAAAAIkLNScIAAAACSfiJQgAAAAlSZIkCAAAAIpnRSMIAAAAE3j7IQgAAADHcLQgCAAAAN1HcB8IAAAAtPMuHggAAADbavAcCAAAAAWktBsIAAAAEpZ7GggAAAAJOEUZCAAAABmBERgIAAAAlWjgFggAAAD45bEVCAAAAOHwhRQIAAAAFIFcEwgAAAB2jjUSCAAAABIREREIAAAAEAHvDwgAAAC/Vs8OCAAAAIkKsg0IAAAA/BSXDAgAAADDbn4LCAAAAKcQaAoIAAAAkfNTCQgAAACFEEIICAAAAKVgMgcIAAAAMN0kBggAAAB+fxkFCAAAAAVBEAQIAAAAUhsJAwgAAAARCAQCCAAAAAIBAQEIAAAA/////wAAAADQAwAAaAAAAGkAAAAKAAAACwAAAF4AAABqAAAACwAAAP////8AAAAA4AMAAGsAAABsAAAADAAAAAwAAABeAAAAagAAAA0AAAD/////HBcAAAUAAAAAAAAAAAAAAF8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAAQAAAAyEgAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJxIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAABkAAAA6AMAABAnAACghgEAQEIPAICWmAAA4fUFX3CJAP8JLw8AAAAAAgAAAAMAAAAFAAAABwAAAAsAAAANAAAAEQAAABMAAAAXAAAAHQAAAB8AAAAlAAAAKQAAACsAAAAvAAAANQAAADsAAAA9AAAAQwAAAEcAAABJAAAATwAAAFMAAABZAAAAYQAAAGUAAABnAAAAawAAAG0AAABxAAAAfwAAAIMAAACJAAAAiwAAAJUAAACXAAAAnQAAAKMAAACnAAAArQAAALMAAAC1AAAAvwAAAMEAAADFAAAAxwAAANMAAAABAAAACwAAAA0AAAARAAAAEwAAABcAAAAdAAAAHwAAACUAAAApAAAAKwAAAC8AAAA1AAAAOwAAAD0AAABDAAAARwAAAEkAAABPAAAAUwAAAFkAAABhAAAAZQAAAGcAAABrAAAAbQAAAHEAAAB5AAAAfwAAAIMAAACJAAAAiwAAAI8AAACVAAAAlwAAAJ0AAACjAAAApwAAAKkAAACtAAAAswAAALUAAAC7AAAAvwAAAMEAAADFAAAAxwAAANEAAAACAAAAAAAAAPADAABtAAAAbgAAAG8AAABwAAAAEgAAAAEAAAABAAAAAwAAAAAAAAAYBAAAbQAAAHEAAABvAAAAcAAAABIAAAACAAAAAgAAAAQAAAAAAAAAKAQAAHIAAABzAAAAYAAAAAAAAAA4BAAAcgAAAHQAAABgAAAATjVkcmFjbzExRW5jb2RlckJhc2VJTlNfMThFbmNvZGVyT3B0aW9uc0Jhc2VJTlNfMTdHZW9tZXRyeUF0dHJpYnV0ZTRUeXBlRUVFRUUATjVkcmFjbzI4QXR0cmlidXRlT2N0YWhlZHJvblRyYW5zZm9ybUUATjVkcmFjbzE4QXR0cmlidXRlVHJhbnNmb3JtRQBONWRyYWNvMzBBdHRyaWJ1dGVRdWFudGl6YXRpb25UcmFuc2Zvcm1FAE41ZHJhY28xN0F0dHJpYnV0ZXNFbmNvZGVyRQBONWRyYWNvMjNLZFRyZWVBdHRyaWJ1dGVzRW5jb2RlckUATjVkcmFjbzI2U2VxdWVudGlhbEF0dHJpYnV0ZUVuY29kZXJFAE41ZHJhY28zN1NlcXVlbnRpYWxBdHRyaWJ1dGVFbmNvZGVyc0NvbnRyb2xsZXJFAE41ZHJhY28yOFByZWRpY3Rpb25TY2hlbWVEZWx0YUVuY29kZXJJaU5TXzM3UHJlZGljdGlvblNjaGVtZVdyYXBFbmNvZGluZ1RyYW5zZm9ybUlpaUVFRUUATjVkcmFjbzIzUHJlZGljdGlvblNjaGVtZUVuY29kZXJJaU5TXzM3UHJlZGljdGlvblNjaGVtZVdyYXBFbmNvZGluZ1RyYW5zZm9ybUlpaUVFRUUATjVkcmFjbzM3UHJlZGljdGlvblNjaGVtZVR5cGVkRW5jb2RlckludGVyZmFjZUlpaUVFAE41ZHJhY28zMlByZWRpY3Rpb25TY2hlbWVFbmNvZGVySW50ZXJmYWNlRQBONWRyYWNvMjVQcmVkaWN0aW9uU2NoZW1lSW50ZXJmYWNlRQBONWRyYWNvNDhNZXNoUHJlZGljdGlvblNjaGVtZUdlb21ldHJpY05vcm1hbFByZWRpY3RvckFyZWFJaU5TXzM3UHJlZGljdGlvblNjaGVtZVdyYXBFbmNvZGluZ1RyYW5zZm9ybUlpaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMTFDb3JuZXJUYWJsZUVFRUVFAE41ZHJhY280OE1lc2hQcmVkaWN0aW9uU2NoZW1lR2VvbWV0cmljTm9ybWFsUHJlZGljdG9yQmFzZUlpTlNfMzdQcmVkaWN0aW9uU2NoZW1lV3JhcEVuY29kaW5nVHJhbnNmb3JtSWlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQyTWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxFbmNvZGVySWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRW5jb2RpbmdUcmFuc2Zvcm1JaWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzExQ29ybmVyVGFibGVFRUVFRQBONWRyYWNvMjdNZXNoUHJlZGljdGlvblNjaGVtZUVuY29kZXJJaU5TXzM3UHJlZGljdGlvblNjaGVtZVdyYXBFbmNvZGluZ1RyYW5zZm9ybUlpaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMTFDb3JuZXJUYWJsZUVFRUVFAE41ZHJhY280NE1lc2hQcmVkaWN0aW9uU2NoZW1lVGV4Q29vcmRzUG9ydGFibGVFbmNvZGVySWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRW5jb2RpbmdUcmFuc2Zvcm1JaWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzExQ29ybmVyVGFibGVFRUVFRQBONWRyYWNvNTZNZXNoUHJlZGljdGlvblNjaGVtZUNvbnN0cmFpbmVkTXVsdGlQYXJhbGxlbG9ncmFtRW5jb2RlcklpTlNfMzdQcmVkaWN0aW9uU2NoZW1lV3JhcEVuY29kaW5nVHJhbnNmb3JtSWlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQwTWVzaFByZWRpY3Rpb25TY2hlbWVQYXJhbGxlbG9ncmFtRW5jb2RlcklpTlNfMzdQcmVkaWN0aW9uU2NoZW1lV3JhcEVuY29kaW5nVHJhbnNmb3JtSWlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQ4TWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxQcmVkaWN0b3JBcmVhSWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRW5jb2RpbmdUcmFuc2Zvcm1JaWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQ4TWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxQcmVkaWN0b3JCYXNlSWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRW5jb2RpbmdUcmFuc2Zvcm1JaWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQyTWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxFbmNvZGVySWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRW5jb2RpbmdUcmFuc2Zvcm1JaWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzI3TWVzaFByZWRpY3Rpb25TY2hlbWVFbmNvZGVySWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRW5jb2RpbmdUcmFuc2Zvcm1JaWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQ0TWVzaFByZWRpY3Rpb25TY2hlbWVUZXhDb29yZHNQb3J0YWJsZUVuY29kZXJJaU5TXzM3UHJlZGljdGlvblNjaGVtZVdyYXBFbmNvZGluZ1RyYW5zZm9ybUlpaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFRUVFRQBONWRyYWNvNTZNZXNoUHJlZGljdGlvblNjaGVtZUNvbnN0cmFpbmVkTXVsdGlQYXJhbGxlbG9ncmFtRW5jb2RlcklpTlNfMzdQcmVkaWN0aW9uU2NoZW1lV3JhcEVuY29kaW5nVHJhbnNmb3JtSWlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18yNE1lc2hBdHRyaWJ1dGVDb3JuZXJUYWJsZUVFRUVFAE41ZHJhY280ME1lc2hQcmVkaWN0aW9uU2NoZW1lUGFyYWxsZWxvZ3JhbUVuY29kZXJJaU5TXzM3UHJlZGljdGlvblNjaGVtZVdyYXBFbmNvZGluZ1RyYW5zZm9ybUlpaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFRUVFRQB1c2VfYnVpbHRfaW5fYXR0cmlidXRlX2NvbXByZXNzaW9uAE41ZHJhY28zM1NlcXVlbnRpYWxJbnRlZ2VyQXR0cmlidXRlRW5jb2RlckUATjVkcmFjbzI4UHJlZGljdGlvblNjaGVtZURlbHRhRW5jb2RlcklpTlNfNjJQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkNhbm9uaWNhbGl6ZWRFbmNvZGluZ1RyYW5zZm9ybUlpRUVFRQBONWRyYWNvMjNQcmVkaWN0aW9uU2NoZW1lRW5jb2RlcklpTlNfNjJQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkNhbm9uaWNhbGl6ZWRFbmNvZGluZ1RyYW5zZm9ybUlpRUVFRQBONWRyYWNvNDhNZXNoUHJlZGljdGlvblNjaGVtZUdlb21ldHJpY05vcm1hbFByZWRpY3RvckFyZWFJaU5TXzYyUHJlZGljdGlvblNjaGVtZU5vcm1hbE9jdGFoZWRyb25DYW5vbmljYWxpemVkRW5jb2RpbmdUcmFuc2Zvcm1JaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMTFDb3JuZXJUYWJsZUVFRUVFAE41ZHJhY280OE1lc2hQcmVkaWN0aW9uU2NoZW1lR2VvbWV0cmljTm9ybWFsUHJlZGljdG9yQmFzZUlpTlNfNjJQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkNhbm9uaWNhbGl6ZWRFbmNvZGluZ1RyYW5zZm9ybUlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQyTWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxFbmNvZGVySWlOU182MlByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uQ2Fub25pY2FsaXplZEVuY29kaW5nVHJhbnNmb3JtSWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzExQ29ybmVyVGFibGVFRUVFRQBONWRyYWNvMjdNZXNoUHJlZGljdGlvblNjaGVtZUVuY29kZXJJaU5TXzYyUHJlZGljdGlvblNjaGVtZU5vcm1hbE9jdGFoZWRyb25DYW5vbmljYWxpemVkRW5jb2RpbmdUcmFuc2Zvcm1JaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMTFDb3JuZXJUYWJsZUVFRUVFAE41ZHJhY280NE1lc2hQcmVkaWN0aW9uU2NoZW1lVGV4Q29vcmRzUG9ydGFibGVFbmNvZGVySWlOU182MlByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uQ2Fub25pY2FsaXplZEVuY29kaW5nVHJhbnNmb3JtSWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzExQ29ybmVyVGFibGVFRUVFRQBONWRyYWNvNTZNZXNoUHJlZGljdGlvblNjaGVtZUNvbnN0cmFpbmVkTXVsdGlQYXJhbGxlbG9ncmFtRW5jb2RlcklpTlNfNjJQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkNhbm9uaWNhbGl6ZWRFbmNvZGluZ1RyYW5zZm9ybUlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQwTWVzaFByZWRpY3Rpb25TY2hlbWVQYXJhbGxlbG9ncmFtRW5jb2RlcklpTlNfNjJQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkNhbm9uaWNhbGl6ZWRFbmNvZGluZ1RyYW5zZm9ybUlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQ4TWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxQcmVkaWN0b3JBcmVhSWlOU182MlByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uQ2Fub25pY2FsaXplZEVuY29kaW5nVHJhbnNmb3JtSWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQ4TWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxQcmVkaWN0b3JCYXNlSWlOU182MlByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uQ2Fub25pY2FsaXplZEVuY29kaW5nVHJhbnNmb3JtSWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQyTWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxFbmNvZGVySWlOU182MlByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uQ2Fub25pY2FsaXplZEVuY29kaW5nVHJhbnNmb3JtSWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzI3TWVzaFByZWRpY3Rpb25TY2hlbWVFbmNvZGVySWlOU182MlByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uQ2Fub25pY2FsaXplZEVuY29kaW5nVHJhbnNmb3JtSWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQ0TWVzaFByZWRpY3Rpb25TY2hlbWVUZXhDb29yZHNQb3J0YWJsZUVuY29kZXJJaU5TXzYyUHJlZGljdGlvblNjaGVtZU5vcm1hbE9jdGFoZWRyb25DYW5vbmljYWxpemVkRW5jb2RpbmdUcmFuc2Zvcm1JaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFRUVFRQBONWRyYWNvNTZNZXNoUHJlZGljdGlvblNjaGVtZUNvbnN0cmFpbmVkTXVsdGlQYXJhbGxlbG9ncmFtRW5jb2RlcklpTlNfNjJQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkNhbm9uaWNhbGl6ZWRFbmNvZGluZ1RyYW5zZm9ybUlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18yNE1lc2hBdHRyaWJ1dGVDb3JuZXJUYWJsZUVFRUVFAE41ZHJhY280ME1lc2hQcmVkaWN0aW9uU2NoZW1lUGFyYWxsZWxvZ3JhbUVuY29kZXJJaU5TXzYyUHJlZGljdGlvblNjaGVtZU5vcm1hbE9jdGFoZWRyb25DYW5vbmljYWxpemVkRW5jb2RpbmdUcmFuc2Zvcm1JaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFRUVFRQBONWRyYWNvMzJTZXF1ZW50aWFsTm9ybWFsQXR0cmlidXRlRW5jb2RlckUATjVkcmFjbzM4U2VxdWVudGlhbFF1YW50aXphdGlvbkF0dHJpYnV0ZUVuY29kZXJFAHByZWRpY3Rpb25fc2NoZW1lAE41ZHJhY28xMUVuY29kZXJCYXNlSU5TXzE4RW5jb2Rlck9wdGlvbnNCYXNlSWlFRUVFAE41ZHJhY283RW5jb2RlckUAIABONWRyYWNvMTNFeHBlcnRFbmNvZGVyRQBlbmNvZGluZ19tZXRob2QAcXVhbnRpemF0aW9uX2JpdHMASW52YWxpZCBlbmNvZGluZyBtZXRob2QuAGVuY29kaW5nX3NwZWVkAGRlY29kaW5nX3NwZWVkAHF1YW50aXphdGlvbl9vcmlnaW4AcXVhbnRpemF0aW9uX3JhbmdlAHN5bWJvbF9lbmNvZGluZ19tZXRob2QAc3ltYm9sX2VuY29kaW5nX2NvbXByZXNzaW9uX2xldmVsAHN0YW5kYXJkX2VkZ2VicmVha2VyAHByZWRpY3RpdmVfZWRnZWJyZWFrZXIAZWRnZWJyZWFrZXJfbWV0aG9kAE41ZHJhY28yMk1lc2hFZGdlYnJlYWtlckVuY29kZXJFAEFsbCB0cmlhbmdsZXMgYXJlIGRlZ2VuZXJhdGUuAEZhaWxlZCB0byBwcm9jZXNzIG1lc2ggaG9sZXMuAEZhaWxlZCB0byBpbml0aWFsaXplIGF0dHJpYnV0ZSBkYXRhLgBGYWlsZWQgdG8gZW5jb2RlIG1lc2ggY29tcG9uZW50LgBGYWlsZWQgdG8gZW5jb2RlIHNwbGl0IGRhdGEuAE41ZHJhY28xM1RyYXZlcnNlckJhc2VJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFTlNfMzZNZXNoQXR0cmlidXRlSW5kaWNlc0VuY29kaW5nT2JzZXJ2ZXJJUzFfRUVFRQBONWRyYWNvMTlEZXB0aEZpcnN0VHJhdmVyc2VySU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRU5TXzM2TWVzaEF0dHJpYnV0ZUluZGljZXNFbmNvZGluZ09ic2VydmVySVMxX0VFRUUATjVkcmFjbzIyTWVzaFRyYXZlcnNhbFNlcXVlbmNlcklOU18xOURlcHRoRmlyc3RUcmF2ZXJzZXJJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFTlNfMzZNZXNoQXR0cmlidXRlSW5kaWNlc0VuY29kaW5nT2JzZXJ2ZXJJUzJfRUVFRUVFAE41ZHJhY28xNVBvaW50c1NlcXVlbmNlckUATjVkcmFjbzEzVHJhdmVyc2VyQmFzZUlOU18xMUNvcm5lclRhYmxlRU5TXzM2TWVzaEF0dHJpYnV0ZUluZGljZXNFbmNvZGluZ09ic2VydmVySVMxX0VFRUUATjVkcmFjbzE5RGVwdGhGaXJzdFRyYXZlcnNlcklOU18xMUNvcm5lclRhYmxlRU5TXzM2TWVzaEF0dHJpYnV0ZUluZGljZXNFbmNvZGluZ09ic2VydmVySVMxX0VFRUUATjVkcmFjbzIyTWVzaFRyYXZlcnNhbFNlcXVlbmNlcklOU18xOURlcHRoRmlyc3RUcmF2ZXJzZXJJTlNfMTFDb3JuZXJUYWJsZUVOU18zNk1lc2hBdHRyaWJ1dGVJbmRpY2VzRW5jb2RpbmdPYnNlcnZlcklTMl9FRUVFRUUATjVkcmFjbzI4TWF4UHJlZGljdGlvbkRlZ3JlZVRyYXZlcnNlcklOU18xMUNvcm5lclRhYmxlRU5TXzM2TWVzaEF0dHJpYnV0ZUluZGljZXNFbmNvZGluZ09ic2VydmVySVMxX0VFRUUATjVkcmFjbzIyTWVzaFRyYXZlcnNhbFNlcXVlbmNlcklOU18yOE1heFByZWRpY3Rpb25EZWdyZWVUcmF2ZXJzZXJJTlNfMTFDb3JuZXJUYWJsZUVOU18zNk1lc2hBdHRyaWJ1dGVJbmRpY2VzRW5jb2RpbmdPYnNlcnZlcklTMl9FRUVFRUUAc3BsaXRfbWVzaF9vbl9zZWFtcwBONWRyYWNvMjZNZXNoRWRnZWJyZWFrZXJFbmNvZGVySW1wbElOU18zMU1lc2hFZGdlYnJlYWtlclRyYXZlcnNhbEVuY29kZXJFRUUATjVkcmFjbzM1TWVzaEVkZ2VicmVha2VyRW5jb2RlckltcGxJbnRlcmZhY2VFAE41ZHJhY28yNk1lc2hFZGdlYnJlYWtlckVuY29kZXJJbXBsSU5TXzM4TWVzaEVkZ2VicmVha2VyVHJhdmVyc2FsVmFsZW5jZUVuY29kZXJFRUUAc3RvcmVfbnVtYmVyX29mX2VuY29kZWRfZmFjZXMATjVkcmFjbzExTWVzaEVuY29kZXJFAGNvbXByZXNzX2Nvbm5lY3Rpdml0eQBONWRyYWNvMTVMaW5lYXJTZXF1ZW5jZXJFAE41ZHJhY28yMU1lc2hTZXF1ZW50aWFsRW5jb2RlckUATjVkcmFjbzE3UG9pbnRDbG91ZEVuY29kZXJFAEludmFsaWQgaW5wdXQgZ2VvbWV0cnkuAEZhaWxlZCB0byBpbml0aWFsaXplIGVuY29kZXIuAEZhaWxlZCB0byBlbmNvZGUgaW50ZXJuYWwgZGF0YS4ARmFpbGVkIHRvIGVuY29kZSBwb2ludCBhdHRyaWJ1dGVzLgBzdG9yZV9udW1iZXJfb2ZfZW5jb2RlZF9wb2ludHMARmFpbGVkIHRvIGVuY29kZSBtZXRhZGF0YS4ARFJBQ08ATjVkcmFjbzIzUG9pbnRDbG91ZEtkVHJlZUVuY29kZXJFAE41ZHJhY28yN1BvaW50Q2xvdWRTZXF1ZW50aWFsRW5jb2RlckUATjVkcmFjbzRNZXNoRQBhbGxvY2F0b3I8VD46OmFsbG9jYXRlKHNpemVfdCBuKSAnbicgZXhjZWVkcyBtYXhpbXVtIHN1cHBvcnRlZCBzaXplAE41ZHJhY28xMFBvaW50Q2xvdWRFABEACgAREREAAAAABQAAAAAAAAkAAAAACwAAAAAAAAAAEQAPChEREQMKBwABEwkLCwAACQYLAAALAAYRAAAAERERAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAABEACgoREREACgAAAgAJCwAAAAkACwAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAwAAAAACQwAAAAAAAwAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAADQAAAAQNAAAAAAkOAAAAAAAOAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAA8AAAAADwAAAAAJEAAAAAAAEAAAEAAAEgAAABISEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASAAAAEhISAAAAAAAACQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAAAAAAACgAAAAAKAAAAAAkLAAAAAAALAAALAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAADAAAAAAJDAAAAAAADAAADAAALSsgICAwWDB4AChudWxsKQAtMFgrMFggMFgtMHgrMHggMHgAaW5mAElORgBOQU4AMDEyMzQ1Njc4OUFCQ0RFRi4AVCEiGQ0BAgMRSxwMEAQLHRIeJ2hub3BxYiAFBg8TFBUaCBYHKCQXGAkKDhsfJSODgn0mKis8PT4/Q0dKTVhZWltcXV5fYGFjZGVmZ2lqa2xyc3R5ent8AElsbGVnYWwgYnl0ZSBzZXF1ZW5jZQBEb21haW4gZXJyb3IAUmVzdWx0IG5vdCByZXByZXNlbnRhYmxlAE5vdCBhIHR0eQBQZXJtaXNzaW9uIGRlbmllZABPcGVyYXRpb24gbm90IHBlcm1pdHRlZABObyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5AE5vIHN1Y2ggcHJvY2VzcwBGaWxlIGV4aXN0cwBWYWx1ZSB0b28gbGFyZ2UgZm9yIGRhdGEgdHlwZQBObyBzcGFjZSBsZWZ0IG9uIGRldmljZQBPdXQgb2YgbWVtb3J5AFJlc291cmNlIGJ1c3kASW50ZXJydXB0ZWQgc3lzdGVtIGNhbGwAUmVzb3VyY2UgdGVtcG9yYXJpbHkgdW5hdmFpbGFibGUASW52YWxpZCBzZWVrAENyb3NzLWRldmljZSBsaW5rAFJlYWQtb25seSBmaWxlIHN5c3RlbQBEaXJlY3Rvcnkgbm90IGVtcHR5AENvbm5lY3Rpb24gcmVzZXQgYnkgcGVlcgBPcGVyYXRpb24gdGltZWQgb3V0AENvbm5lY3Rpb24gcmVmdXNlZABIb3N0IGlzIGRvd24ASG9zdCBpcyB1bnJlYWNoYWJsZQBBZGRyZXNzIGluIHVzZQBCcm9rZW4gcGlwZQBJL08gZXJyb3IATm8gc3VjaCBkZXZpY2Ugb3IgYWRkcmVzcwBCbG9jayBkZXZpY2UgcmVxdWlyZWQATm8gc3VjaCBkZXZpY2UATm90IGEgZGlyZWN0b3J5AElzIGEgZGlyZWN0b3J5AFRleHQgZmlsZSBidXN5AEV4ZWMgZm9ybWF0IGVycm9yAEludmFsaWQgYXJndW1lbnQAQXJndW1lbnQgbGlzdCB0b28gbG9uZwBTeW1ib2xpYyBsaW5rIGxvb3AARmlsZW5hbWUgdG9vIGxvbmcAVG9vIG1hbnkgb3BlbiBmaWxlcyBpbiBzeXN0ZW0ATm8gZmlsZSBkZXNjcmlwdG9ycyBhdmFpbGFibGUAQmFkIGZpbGUgZGVzY3JpcHRvcgBObyBjaGlsZCBwcm9jZXNzAEJhZCBhZGRyZXNzAEZpbGUgdG9vIGxhcmdlAFRvbyBtYW55IGxpbmtzAE5vIGxvY2tzIGF2YWlsYWJsZQBSZXNvdXJjZSBkZWFkbG9jayB3b3VsZCBvY2N1cgBTdGF0ZSBub3QgcmVjb3ZlcmFibGUAUHJldmlvdXMgb3duZXIgZGllZABPcGVyYXRpb24gY2FuY2VsZWQARnVuY3Rpb24gbm90IGltcGxlbWVudGVkAE5vIG1lc3NhZ2Ugb2YgZGVzaXJlZCB0eXBlAElkZW50aWZpZXIgcmVtb3ZlZABEZXZpY2Ugbm90IGEgc3RyZWFtAE5vIGRhdGEgYXZhaWxhYmxlAERldmljZSB0aW1lb3V0AE91dCBvZiBzdHJlYW1zIHJlc291cmNlcwBMaW5rIGhhcyBiZWVuIHNldmVyZWQAUHJvdG9jb2wgZXJyb3IAQmFkIG1lc3NhZ2UARmlsZSBkZXNjcmlwdG9yIGluIGJhZCBzdGF0ZQBOb3QgYSBzb2NrZXQARGVzdGluYXRpb24gYWRkcmVzcyByZXF1aXJlZABNZXNzYWdlIHRvbyBsYXJnZQBQcm90b2NvbCB3cm9uZyB0eXBlIGZvciBzb2NrZXQAUHJvdG9jb2wgbm90IGF2YWlsYWJsZQBQcm90b2NvbCBub3Qgc3VwcG9ydGVkAFNvY2tldCB0eXBlIG5vdCBzdXBwb3J0ZWQATm90IHN1cHBvcnRlZABQcm90b2NvbCBmYW1pbHkgbm90IHN1cHBvcnRlZABBZGRyZXNzIGZhbWlseSBub3Qgc3VwcG9ydGVkIGJ5IHByb3RvY29sAEFkZHJlc3Mgbm90IGF2YWlsYWJsZQBOZXR3b3JrIGlzIGRvd24ATmV0d29yayB1bnJlYWNoYWJsZQBDb25uZWN0aW9uIHJlc2V0IGJ5IG5ldHdvcmsAQ29ubmVjdGlvbiBhYm9ydGVkAE5vIGJ1ZmZlciBzcGFjZSBhdmFpbGFibGUAU29ja2V0IGlzIGNvbm5lY3RlZABTb2NrZXQgbm90IGNvbm5lY3RlZABDYW5ub3Qgc2VuZCBhZnRlciBzb2NrZXQgc2h1dGRvd24AT3BlcmF0aW9uIGFscmVhZHkgaW4gcHJvZ3Jlc3MAT3BlcmF0aW9uIGluIHByb2dyZXNzAFN0YWxlIGZpbGUgaGFuZGxlAFJlbW90ZSBJL08gZXJyb3IAUXVvdGEgZXhjZWVkZWQATm8gbWVkaXVtIGZvdW5kAFdyb25nIG1lZGl1bSB0eXBlAE5vIGVycm9yIGluZm9ybWF0aW9uAABpbmZpbml0eQBuYW4AJWQAJWYAdGVybWluYXRpbmcgd2l0aCAlcyBleGNlcHRpb24gb2YgdHlwZSAlczogJXMAdGVybWluYXRpbmcgd2l0aCAlcyBleGNlcHRpb24gb2YgdHlwZSAlcwB0ZXJtaW5hdGluZyB3aXRoICVzIGZvcmVpZ24gZXhjZXB0aW9uAHRlcm1pbmF0aW5nAHVuY2F1Z2h0AFN0OWV4Y2VwdGlvbgBOMTBfX2N4eGFiaXYxMTZfX3NoaW1fdHlwZV9pbmZvRQBTdDl0eXBlX2luZm8ATjEwX19jeHhhYml2MTIwX19zaV9jbGFzc190eXBlX2luZm9FAE4xMF9fY3h4YWJpdjExN19fY2xhc3NfdHlwZV9pbmZvRQBwdGhyZWFkX29uY2UgZmFpbHVyZSBpbiBfX2N4YV9nZXRfZ2xvYmFsc19mYXN0KCkAY2Fubm90IGNyZWF0ZSBwdGhyZWFkIGtleSBmb3IgX19jeGFfZ2V0X2dsb2JhbHMoKQBjYW5ub3QgemVybyBvdXQgdGhyZWFkIHZhbHVlIGZvciBfX2N4YV9nZXRfZ2xvYmFscygpAHRlcm1pbmF0ZV9oYW5kbGVyIHVuZXhwZWN0ZWRseSByZXR1cm5lZABTdDExbG9naWNfZXJyb3IAU3QxMmxlbmd0aF9lcnJvcgBOMTBfX2N4eGFiaXYxMTlfX3BvaW50ZXJfdHlwZV9pbmZvRQBOMTBfX2N4eGFiaXYxMTdfX3BiYXNlX3R5cGVfaW5mb0U=";var Cr=Et;Et+=16;function ai(Oe){return jf(Oe)}function jt(){return!!jt.uncaught_exception}var ni={last:0,caught:[],infos:{},deAdjust:function(Oe){if(!Oe||ni.infos[Oe])return Oe;for(var Ye in ni.infos){var vt=ni.infos[Ye];if(vt.adjusted===Oe)return Ye}return Oe},addRef:function(Oe){if(!!Oe){var Ye=ni.infos[Oe];Ye.refcount++}},decRef:function(Oe){if(!!Oe){var Ye=ni.infos[Oe];oe(Ye.refcount>0),Ye.refcount--,Ye.refcount===0&&!Ye.rethrown&&(Ye.destructor&&t.dynCall_vi(Ye.destructor,Oe),delete ni.infos[Oe],___cxa_free_exception(Oe))}},clearRef:function(Oe){if(!!Oe){var Ye=ni.infos[Oe];Ye.refcount=0}}};function Mn(Oe){var Ye=ni.infos[Oe];return Ye&&!Ye.caught&&(Ye.caught=!0,jt.uncaught_exception--),Ye&&(Ye.rethrown=!1),ni.caught.push(Oe),ni.addRef(ni.deAdjust(Oe)),Oe}function Tt(){throw fe=!0,"Pure virtual function called!"}function ur(Oe){throw ni.last||(ni.last=Oe),Oe+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function Pr(){var Oe=ni.last;if(!Oe)return Qh(0),0|0;var Ye=ni.infos[Oe],vt=Ye.type;if(!vt)return Qh(0),Oe|0;var qt=Array.prototype.slice.call(arguments);t.___cxa_is_pointer_type(vt),Pr.buffer||(Pr.buffer=jf(4)),Me[Pr.buffer>>2]=Oe,Oe=Pr.buffer;for(var Y=0;Y<qt.length;Y++)if(qt[Y]&&t.___cxa_can_catch(qt[Y],vt,Oe))return Oe=Me[Oe>>2],Ye.adjusted=Oe,Qh(qt[Y]),Oe|0;return Oe=Me[Oe>>2],Qh(vt),Oe|0}function xr(Oe,Ye,vt){throw ni.infos[Oe]={ptr:Oe,adjusted:Oe,type:Ye,destructor:vt,refcount:0,caught:!1,rethrown:!1},ni.last=Oe,"uncaught_exception"in jt?jt.uncaught_exception++:jt.uncaught_exception=1,Oe+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}var Fr=ne([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",be);function qi(){}var ui={varargs:0,get:function(Oe){ui.varargs+=4;var Ye=Me[ui.varargs-4>>2];return Ye},getStr:function(){var Oe=ae(ui.get());return Oe},get64:function(){var Oe=ui.get(),Ye=ui.get();return Oe>=0?oe(Ye===0):oe(Ye===-1),Oe},getZero:function(){oe(ui.get()===0)}};function Li(Oe,Ye){ui.varargs=Ye;try{var vt=ui.getStreamFromFD(),qt=ui.get(),Y=ui.get(),hi=ui.get(),Or=ui.get(),Ni=Y;return FS.llseek(vt,Ni,Or),Me[hi>>2]=vt.position,vt.getdents&&Ni===0&&Or===0&&(vt.getdents=null),0}catch(e){return(typeof FS=="undefined"||!(e instanceof FS.ErrnoError))&&$a(e),-e.errno}}function hn(){var Oe=t._fflush;Oe&&Oe(0);var Ye=Pi.printChar;if(!!Ye){var vt=Pi.buffers;vt[1].length&&Ye(1,10),vt[2].length&&Ye(2,10)}}function Pi(Oe,Ye){ui.varargs=Ye;try{var vt=ui.get(),qt=ui.get(),Y=ui.get(),hi=0;Pi.buffers||(Pi.buffers=[null,[],[]],Pi.printChar=function(br,tl){var fa=Pi.buffers[br];oe(fa),tl===0||tl===10?((br===1?t.print:t.printErr)(de(fa,0)),fa.length=0):fa.push(tl)});for(var Or=0;Or<Y;Or++){for(var Ni=Me[qt+Or*8>>2],e=Me[qt+(Or*8+4)>>2],gs=0;gs<e;gs++)Pi.printChar(vt,Ue[Ni+gs]);hi+=e}return hi}catch(br){return(typeof FS=="undefined"||!(br instanceof FS.ErrnoError))&&$a(br),-br.errno}}function ji(Oe,Ye){ui.varargs=Ye;try{var vt=ui.getStreamFromFD();return FS.close(vt),0}catch(qt){return(typeof FS=="undefined"||!(qt instanceof FS.ErrnoError))&&$a(qt),-qt.errno}}function un(){t.abort()}var Kn=Sr,ks=lr,Jn=Vr;function Ti(){$a("trap!")}function ss(Oe,Ye,vt){return Ue.set(Ue.subarray(Ye,Ye+vt),Oe),Oe}var Dn={};function os(Oe){return Dn[Oe]||0}var rn=1,$0={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function js(Oe,Ye){return Oe==0?$0.EINVAL:(Me[Oe>>2]=rn,Dn[rn]=0,rn++,0)}function $s(Oe,Ye){$s.seen||($s.seen={}),!(Oe in $s.seen)&&(t.dynCall_v(Ye),$s.seen[Oe]=1)}function ii(Oe,Ye){return Oe in Dn?(Dn[Oe]=Ye,0):$0.EINVAL}function pt(Oe){return t.___errno_location&&(Me[t.___errno_location()>>2]=Oe),Oe}yr=F(4),er=Gt=U(Et),Ht=er+xt,Kt=U(Ht),Me[yr>>2]=Kt,Dt=!0;var Xt=!1;function Jr(Oe,Ye,vt){var qt=vt>0?vt:re(Oe)+1,Y=new Array(qt),hi=le(Oe,Y,0,Y.length);return Ye&&(Y.length=hi),Y}function ei(Oe){for(var Ye=[],vt=0;vt<Oe.length;vt++){var qt=Oe[vt];qt>255&&(Xt&&oe(!1,"Character code "+qt+" ("+String.fromCharCode(qt)+")  at offset "+vt+" not in 0x00-0xFF."),qt&=255),Ye.push(String.fromCharCode(qt))}return Ye.join("")}var dn=typeof atob=="function"?atob:function(Oe){var Ye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",vt="",qt,Y,hi,Or,Ni,e,gs,br=0;Oe=Oe.replace(/[^A-Za-z0-9\+\/\=]/g,"");do Or=Ye.indexOf(Oe.charAt(br++)),Ni=Ye.indexOf(Oe.charAt(br++)),e=Ye.indexOf(Oe.charAt(br++)),gs=Ye.indexOf(Oe.charAt(br++)),qt=Or<<2|Ni>>4,Y=(Ni&15)<<4|e>>2,hi=(e&3)<<6|gs,vt=vt+String.fromCharCode(qt),e!==64&&(vt=vt+String.fromCharCode(Y)),gs!==64&&(vt=vt+String.fromCharCode(hi));while(br<Oe.length);return vt};function Gn(Oe){if(typeof _=="boolean"&&_){var Ye;try{Ye=Buffer.from(Oe,"base64")}catch{Ye=new Buffer(Oe,"base64")}return new Uint8Array(Ye.buffer,Ye.byteOffset,Ye.byteLength)}try{for(var vt=dn(Oe),qt=new Uint8Array(vt.length),Y=0;Y<vt.length;++Y)qt[Y]=vt.charCodeAt(Y);return qt}catch{throw new Error("Converting base64 string to bytes failed.")}}function Ci(Oe){if(!!$t(Oe))return Gn(Oe.slice(Ot.length))}function So(Oe,Ye){try{return t.dynCall_ii(Oe,Ye)}catch(vt){if(typeof vt!="number"&&vt!=="longjmp")throw vt;t.setThrew(1,0)}}function wa(Oe,Ye,vt){try{return t.dynCall_iii(Oe,Ye,vt)}catch(qt){if(typeof qt!="number"&&qt!=="longjmp")throw qt;t.setThrew(1,0)}}function yc(Oe,Ye,vt,qt){try{return t.dynCall_iiii(Oe,Ye,vt,qt)}catch(Y){if(typeof Y!="number"&&Y!=="longjmp")throw Y;t.setThrew(1,0)}}function Dl(Oe,Ye,vt,qt,Y,hi,Or){try{return t.dynCall_iiiiiii(Oe,Ye,vt,qt,Y,hi,Or)}catch(Ni){if(typeof Ni!="number"&&Ni!=="longjmp")throw Ni;t.setThrew(1,0)}}function gb(Oe){try{t.dynCall_v(Oe)}catch(Ye){if(typeof Ye!="number"&&Ye!=="longjmp")throw Ye;t.setThrew(1,0)}}function bb(Oe,Ye){try{t.dynCall_vi(Oe,Ye)}catch(vt){if(typeof vt!="number"&&vt!=="longjmp")throw vt;t.setThrew(1,0)}}function Vh(Oe,Ye,vt){try{t.dynCall_vii(Oe,Ye,vt)}catch(qt){if(typeof qt!="number"&&qt!=="longjmp")throw qt;t.setThrew(1,0)}}function B1(Oe,Ye,vt,qt){try{t.dynCall_viii(Oe,Ye,vt,qt)}catch(Y){if(typeof Y!="number"&&Y!=="longjmp")throw Y;t.setThrew(1,0)}}function yb(Oe,Ye,vt,qt,Y){try{t.dynCall_viiii(Oe,Ye,vt,qt,Y)}catch(hi){if(typeof hi!="number"&&hi!=="longjmp")throw hi;t.setThrew(1,0)}}function I1(Oe,Ye,vt,qt,Y,hi){try{t.dynCall_viiiii(Oe,Ye,vt,qt,Y,hi)}catch(Or){if(typeof Or!="number"&&Or!=="longjmp")throw Or;t.setThrew(1,0)}}function vb(Oe,Ye,vt,qt,Y,hi,Or){try{t.dynCall_viiiiii(Oe,Ye,vt,qt,Y,hi,Or)}catch(Ni){if(typeof Ni!="number"&&Ni!=="longjmp")throw Ni;t.setThrew(1,0)}}t.asmGlobalArg={Math,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Float32Array,Float64Array,NaN:NaN,Infinity:1/0,byteLength:oi},t.asmLibraryArg={abort:$a,assert:oe,enlargeMemory:Yr,getTotalMemory:rr,abortOnCannotGrowMemory:Ur,invoke_ii:So,invoke_iii:wa,invoke_iiii:yc,invoke_iiiiiii:Dl,invoke_v:gb,invoke_vi:bb,invoke_vii:Vh,invoke_viii:B1,invoke_viiii:yb,invoke_viiiii:I1,invoke_viiiiii:vb,__ZSt18uncaught_exceptionv:jt,___cxa_allocate_exception:ai,___cxa_begin_catch:Mn,___cxa_find_matching_catch:Pr,___cxa_pure_virtual:Tt,___cxa_throw:xr,___gxx_personality_v0:qi,___resumeException:ur,___setErrNo:pt,___syscall140:Li,___syscall146:Pi,___syscall6:ji,_abort:un,_emscripten_memcpy_big:ss,_llvm_ceil_f64:Kn,_llvm_fabs_f64:ks,_llvm_floor_f64:Jn,_llvm_trap:Ti,_pthread_getspecific:os,_pthread_key_create:js,_pthread_once:$s,_pthread_setspecific:ii,flush_NO_FILESYSTEM:hn,DYNAMICTOP_PTR:yr,tempDoublePtr:Cr,ABORT:fe,STACKTOP:Gt,STACK_MAX:Ht,cttz_i8:Fr};var qr=function(Oe,Ye,vt){var qt=Oe.Int8Array,Y=new qt(vt),hi=Oe.Int16Array,Or=new hi(vt),Ni=Oe.Int32Array,e=new Ni(vt),gs=Oe.Uint8Array,br=new gs(vt),tl=Oe.Uint16Array,fa=new tl(vt),rf=Oe.Uint32Array;new rf(vt);var Cc=Oe.Float32Array,bi=new Cc(vt),qh=Oe.Float64Array,N0=new qh(vt),Lu=Oe.byteLength,x2=Ye.DYNAMICTOP_PTR|0,En=Ye.tempDoublePtr|0;Ye.ABORT|0;var q=Ye.STACKTOP|0;Ye.STACK_MAX|0;var Pl=Ye.cttz_i8|0,nf=Oe.NaN,Sc=Oe.Infinity,Ze=0,bn=Oe.Math.floor,u0=Oe.Math.abs;Oe.Math.sqrt,Oe.Math.pow,Oe.Math.cos,Oe.Math.sin,Oe.Math.tan,Oe.Math.acos,Oe.Math.asin,Oe.Math.atan,Oe.Math.atan2,Oe.Math.exp,Oe.Math.log;var yi=Oe.Math.ceil,_r=Oe.Math.imul,n0=Oe.Math.min;Oe.Math.max;var S0=Oe.Math.clz32,Zt=Oe.Math.fround,rl=Ye.abort;Ye.assert;var r6=Ye.enlargeMemory,i6=Ye.getTotalMemory,n6=Ye.abortOnCannotGrowMemory;Ye.invoke_ii,Ye.invoke_iii,Ye.invoke_iiii,Ye.invoke_iiiiiii,Ye.invoke_v,Ye.invoke_vi,Ye.invoke_vii,Ye.invoke_viii,Ye.invoke_viiii,Ye.invoke_viiiii,Ye.invoke_viiiiii,Ye.__ZSt18uncaught_exceptionv;var An=Ye.___cxa_allocate_exception;Ye.___cxa_begin_catch,Ye.___cxa_find_matching_catch;var ro=Ye.___cxa_pure_virtual,yn=Ye.___cxa_throw;Ye.___gxx_personality_v0,Ye.___resumeException;var zs=Ye.___setErrNo,Zh=Ye.___syscall140,Jb=Ye.___syscall146,E2=Ye.___syscall6,Xb=Ye._abort,s6=Ye._emscripten_memcpy_big;Ye._llvm_ceil_f64,Ye._llvm_fabs_f64,Ye._llvm_floor_f64;var o6=Ye._llvm_trap,Q1=Ye._pthread_getspecific,qb=Ye._pthread_key_create,J1=Ye._pthread_once,a6=Ye._pthread_setspecific;Ye.flush_NO_FILESYSTEM,Zt(0);const vi=Zt(0);function X1(i){return Lu(i)&16777215||Lu(i)<=16777215||Lu(i)>2147483648?!1:(Y=new qt(i),Or=new hi(i),e=new Ni(i),br=new gs(i),fa=new tl(i),new rf(i),bi=new Cc(i),N0=new qh(i),vt=i,!0)}function _2(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0;if(!!i){s=i+-8|0,o=e[4516]|0,l=e[i+-4>>2]|0,i=l&-8,f=s+i|0;do if(l&1)b=s,w=i,x=s;else{if(h=e[s>>2]|0,!(l&3)||(u=s+(0-h)|0,g=h+i|0,u>>>0<o>>>0))return;if((e[4517]|0)==(u|0)){if(d=f+4|0,m=e[d>>2]|0,(m&3|0)!=3){b=u,w=g,x=u;break}e[4514]=g,e[d>>2]=m&-2,e[u+4>>2]=g|1,e[u+g>>2]=g;return}if(m=h>>>3,h>>>0<256)if(h=e[u+8>>2]|0,d=e[u+12>>2]|0,(d|0)==(h|0)){e[4512]=e[4512]&~(1<<m),b=u,w=g,x=u;break}else{e[h+12>>2]=d,e[d+8>>2]=h,b=u,w=g,x=u;break}h=e[u+24>>2]|0,d=e[u+12>>2]|0;do if((d|0)==(u|0)){if(m=u+16|0,C=m+4|0,S=e[C>>2]|0,S)L=S,P=C;else if(D=e[m>>2]|0,D)L=D,P=m;else{I=0;break}for(;;){if(C=L+20|0,S=e[C>>2]|0,S|0){L=S,P=C;continue}if(C=L+16|0,S=e[C>>2]|0,S)L=S,P=C;else break}e[P>>2]=0,I=L}else C=e[u+8>>2]|0,e[C+12>>2]=d,e[d+8>>2]=C,I=d;while(0);if(h){if(d=e[u+28>>2]|0,C=18352+(d<<2)|0,(e[C>>2]|0)==(u|0)){if(e[C>>2]=I,!I){e[4513]=e[4513]&~(1<<d),b=u,w=g,x=u;break}}else if(e[h+16+(((e[h+16>>2]|0)!=(u|0)&1)<<2)>>2]=I,!I){b=u,w=g,x=u;break}e[I+24>>2]=h,d=u+16|0,C=e[d>>2]|0,C|0&&(e[I+16>>2]=C,e[C+24>>2]=I),C=e[d+4>>2]|0,C?(e[I+20>>2]=C,e[C+24>>2]=I,b=u,w=g,x=u):(b=u,w=g,x=u)}else b=u,w=g,x=u}while(0);if(!(x>>>0>=f>>>0)&&(s=f+4|0,i=e[s>>2]|0,!!(i&1))){if(i&2)e[s>>2]=i&-2,e[b+4>>2]=w|1,e[x+w>>2]=w,Q=w;else{if((e[4518]|0)==(f|0)){if(I=(e[4515]|0)+w|0,e[4515]=I,e[4518]=b,e[b+4>>2]=I|1,(b|0)!=(e[4517]|0))return;e[4517]=0,e[4514]=0;return}if((e[4517]|0)==(f|0)){I=(e[4514]|0)+w|0,e[4514]=I,e[4517]=x,e[b+4>>2]=I|1,e[x+I>>2]=I;return}I=(i&-8)+w|0,L=i>>>3;do if(i>>>0<256)if(P=e[f+8>>2]|0,o=e[f+12>>2]|0,(o|0)==(P|0)){e[4512]=e[4512]&~(1<<L);break}else{e[P+12>>2]=o,e[o+8>>2]=P;break}else{P=e[f+24>>2]|0,o=e[f+12>>2]|0;do if((o|0)==(f|0)){if(l=f+16|0,C=l+4|0,d=e[C>>2]|0,d)X=d,j=C;else if(S=e[l>>2]|0,S)X=S,j=l;else{N=0;break}for(;;){if(C=X+20|0,d=e[C>>2]|0,d|0){X=d,j=C;continue}if(C=X+16|0,d=e[C>>2]|0,d)X=d,j=C;else break}e[j>>2]=0,N=X}else C=e[f+8>>2]|0,e[C+12>>2]=o,e[o+8>>2]=C,N=o;while(0);if(P|0){if(o=e[f+28>>2]|0,u=18352+(o<<2)|0,(e[u>>2]|0)==(f|0)){if(e[u>>2]=N,!N){e[4513]=e[4513]&~(1<<o);break}}else if(e[P+16+(((e[P+16>>2]|0)!=(f|0)&1)<<2)>>2]=N,!N)break;e[N+24>>2]=P,o=f+16|0,u=e[o>>2]|0,u|0&&(e[N+16>>2]=u,e[u+24>>2]=N),u=e[o+4>>2]|0,u|0&&(e[N+20>>2]=u,e[u+24>>2]=N)}}while(0);if(e[b+4>>2]=I|1,e[x+I>>2]=I,(b|0)==(e[4517]|0)){e[4514]=I;return}else Q=I}if(w=Q>>>3,Q>>>0<256){x=18088+(w<<1<<2)|0,i=e[4512]|0,s=1<<w,i&s?(s=x+8|0,V=e[s>>2]|0,G=s):(e[4512]=i|s,V=x,G=x+8|0),e[G>>2]=b,e[V+12>>2]=b,e[b+8>>2]=V,e[b+12>>2]=x;return}x=Q>>>8,x?Q>>>0>16777215?ee=31:(V=(x+1048320|0)>>>16&8,G=x<<V,x=(G+520192|0)>>>16&4,s=G<<x,G=(s+245760|0)>>>16&2,i=14-(x|V|G)+(s<<G>>>15)|0,ee=Q>>>(i+7|0)&1|i<<1):ee=0,i=18352+(ee<<2)|0,e[b+28>>2]=ee,e[b+20>>2]=0,e[b+16>>2]=0,G=e[4513]|0,s=1<<ee;do if(G&s){for(V=Q<<((ee|0)==31?0:25-(ee>>>1)|0),x=e[i>>2]|0;;){if((e[x+4>>2]&-8|0)==(Q|0)){J=73;break}if(O=x+16+(V>>>31<<2)|0,w=e[O>>2]|0,w)V=V<<1,x=w;else{J=72;break}}if((J|0)==72){e[O>>2]=b,e[b+24>>2]=x,e[b+12>>2]=b,e[b+8>>2]=b;break}else if((J|0)==73){V=x+8|0,P=e[V>>2]|0,e[P+12>>2]=b,e[V>>2]=b,e[b+8>>2]=P,e[b+12>>2]=x,e[b+24>>2]=0;break}}else e[4513]=G|s,e[i>>2]=b,e[b+24>>2]=i,e[b+12>>2]=b,e[b+8>>2]=b;while(0);if(b=(e[4520]|0)+-1|0,e[4520]=b,!b)$=18504;else return;for(;b=e[$>>2]|0,b;)$=b+8|0;e[4520]=-1}}}function Zb(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=vi,O=vi,$=vi,ie=0,se=0,ue=0,Ee=0;if(o=Y[s+11>>0]|0,l=o<<24>>24<0,f=l?e[s>>2]|0:s,h=l?e[s+4>>2]|0:o&255,h>>>0>3){for(o=f,l=h,u=h;g=_r(br[o>>0]|br[o+1>>0]<<8|br[o+2>>0]<<16|br[o+3>>0]<<24,1540483477)|0,l=(_r(g>>>24^g,1540483477)|0)^(_r(l,1540483477)|0),u=u+-4|0,!(u>>>0<=3);)o=o+4|0;o=h+-4|0,u=o&-4,d=o-u|0,m=f+(u+4)|0,b=l}else d=h,m=f,b=h;switch(d|0){case 3:{w=br[m+2>>0]<<16^b,x=6;break}case 2:{w=b,x=6;break}case 1:{C=b,x=7;break}default:S=b}(x|0)==6&&(C=br[m+1>>0]<<8^w,x=7),(x|0)==7&&(S=_r(C^br[m>>0],1540483477)|0),m=_r(S>>>13^S,1540483477)|0,S=m>>>15^m,m=i+4|0,C=e[m>>2]|0,w=(C|0)==0;e:do if(w)I=0;else if(b=C+-1|0,d=(b&C|0)==0,d?D=S&b:S>>>0<C>>>0?D=S:D=(S>>>0)%(C>>>0)|0,l=e[(e[i>>2]|0)+(D<<2)>>2]|0,(l|0)!=0&&(u=e[l>>2]|0,(u|0)!=0)){if(l=(h|0)==0,d){if(l){for(d=u;;){if(o=e[d+4>>2]|0,!((o|0)==(S|0)|(o&b|0)==(D|0))){I=D;break e}if(o=Y[d+8+11>>0]|0,!((o<<24>>24<0?e[d+12>>2]|0:o&255)|0)){L=d;break}if(d=e[d>>2]|0,!d){I=D;break e}}return P=L+20|0,P|0}else N=u;t:for(;;){if(d=e[N+4>>2]|0,!((d|0)==(S|0)|(d&b|0)==(D|0))){I=D;break e}d=N+8|0,o=Y[d+11>>0]|0,g=o<<24>>24<0,X=o&255;do if(((g?e[N+12>>2]|0:X)|0)==(h|0)){if(o=e[d>>2]|0,g){if(vs(o,f,h)|0)break;L=N,x=63;break t}if((Y[f>>0]|0)==(o&255)<<24>>24){o=d,j=X,Q=f;do{if(j=j+-1|0,o=o+1|0,!j){L=N,x=63;break t}Q=Q+1|0}while((Y[o>>0]|0)==(Y[Q>>0]|0))}}while(0);if(N=e[N>>2]|0,!N){I=D;break e}}if((x|0)==63)return P=L+20|0,P|0}if(l){for(b=u;;){if(X=e[b+4>>2]|0,(X|0)!=(S|0)&&(X>>>0<C>>>0?V=X:V=(X>>>0)%(C>>>0)|0,(V|0)!=(D|0))){I=D;break e}if(X=Y[b+8+11>>0]|0,!((X<<24>>24<0?e[b+12>>2]|0:X&255)|0)){L=b;break}if(b=e[b>>2]|0,!b){I=D;break e}}return P=L+20|0,P|0}else G=u;t:for(;;){if(b=e[G+4>>2]|0,(b|0)!=(S|0)&&(b>>>0<C>>>0?ee=b:ee=(b>>>0)%(C>>>0)|0,(ee|0)!=(D|0))){I=D;break e}b=G+8|0,l=Y[b+11>>0]|0,X=l<<24>>24<0,d=l&255;do if(((X?e[G+12>>2]|0:d)|0)==(h|0)){if(l=e[b>>2]|0,X){if(vs(l,f,h)|0)break;L=G,x=63;break t}if((Y[f>>0]|0)==(l&255)<<24>>24){l=b,g=d,Q=f;do{if(g=g+-1|0,l=l+1|0,!g){L=G,x=63;break t}Q=Q+1|0}while((Y[l>>0]|0)==(Y[Q>>0]|0))}}while(0);if(G=e[G>>2]|0,!G){I=D;break e}}if((x|0)==63)return P=L+20|0,P|0}else I=D;while(0);D=It(24)|0,T0(D+8|0,s),e[D+20>>2]=0,e[D+4>>2]=S,e[D>>2]=0,s=i+12|0,J=Zt(((e[s>>2]|0)+1|0)>>>0),O=Zt(C>>>0),$=Zt(bi[i+16>>2]);do if(w|Zt($*O)<J){if(G=C<<1|(C>>>0<3|(C+-1&C|0)!=0)&1,f=~~Zt(yi(Zt(J/$)))>>>0,Sm(i,G>>>0<f>>>0?f:G),G=e[m>>2]|0,f=G+-1|0,!(f&G)){ie=G,se=f&S;break}S>>>0<G>>>0?(ie=G,se=S):(ie=G,se=(S>>>0)%(G>>>0)|0)}else ie=C,se=I;while(0);return I=(e[i>>2]|0)+(se<<2)|0,se=e[I>>2]|0,se?(e[D>>2]=e[se>>2],Ee=se,x=61):(C=i+8|0,e[D>>2]=e[C>>2],e[C>>2]=D,e[I>>2]=C,C=e[D>>2]|0,C|0&&(I=e[C+4>>2]|0,C=ie+-1|0,C&ie?I>>>0<ie>>>0?ue=I:ue=(I>>>0)%(ie>>>0)|0:ue=I&C,Ee=(e[i>>2]|0)+(ue<<2)|0,x=61)),(x|0)==61&&(e[Ee>>2]=D),e[s>>2]=(e[s>>2]|0)+1,L=D,P=L+20|0,P|0}function q1(i,s,o,l,f){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0;var h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0;h=i+4|0,u=e[h>>2]|0,g=i+100|0,u>>>0<(e[g>>2]|0)>>>0?(e[h>>2]=u+1,d=br[u>>0]|0,m=0):(d=io(i)|0,m=0);e:for(;;){switch(d|0){case 46:{b=8;break e}case 48:break;default:{w=0,x=0,C=1,S=0,D=0,I=d,L=m,P=0,N=0,X=0,j=0;break e}}if(u=e[h>>2]|0,u>>>0<(e[g>>2]|0)>>>0){e[h>>2]=u+1,d=br[u>>0]|0,m=1;continue}else{d=io(i)|0,m=1;continue}}if((b|0)==8)if(d=e[h>>2]|0,d>>>0<(e[g>>2]|0)>>>0?(e[h>>2]=d+1,Q=br[d>>0]|0):Q=io(i)|0,(Q|0)==48)for(d=0,u=0;;)if(V=e[h>>2]|0,V>>>0<(e[g>>2]|0)>>>0?(e[h>>2]=V+1,G=br[V>>0]|0):G=io(i)|0,V=Qt(d|0,u|0,-1,-1)|0,ee=Ze,(G|0)==48)d=V,u=ee;else{w=1,x=0,C=1,S=0,D=0,I=G,L=1,P=0,N=0,X=V,j=ee;break}else w=1,x=0,C=1,S=0,D=0,I=Q,L=m,P=0,N=0,X=0,j=0;for(;;){if(m=I+-48|0,Q=I|32,m>>>0>=10){if(G=(I|0)==46,!(G|(Q+-97|0)>>>0<6)){J=I;break}if(G)if(!w)O=1,$=x,ie=C,se=S,ue=D,Ee=L,Pe=N,ge=P,Be=N,_e=P;else{J=46;break}else b=20}else b=20;if((b|0)==20){b=0,G=(I|0)>57?Q+-87|0:m;do if((P|0)<0|(P|0)==0&N>>>0<8)We=x,lt=C,et=S,Ve=G+(D<<4)|0;else if((P|0)<0|(P|0)==0&N>>>0<14){Ce=C*.0625,We=x,lt=Ce,et=S+Ce*+(G|0),Ve=D;break}else{m=(x|0)!=0|(G|0)==0,We=m?x:1,lt=C,et=m?S:S+C*.5,Ve=D;break}while(0);G=Qt(N|0,P|0,1,0)|0,O=w,$=We,ie=lt,se=et,ue=Ve,Ee=1,Pe=X,ge=j,Be=G,_e=Ze}if(G=e[h>>2]|0,G>>>0<(e[g>>2]|0)>>>0){e[h>>2]=G+1,w=O,x=$,C=ie,S=se,D=ue,I=br[G>>0]|0,L=Ee,P=_e,N=Be,X=Pe,j=ge;continue}else{w=O,x=$,C=ie,S=se,D=ue,I=io(i)|0,L=Ee,P=_e,N=Be,X=Pe,j=ge;continue}}do if(!L)ge=(e[g>>2]|0)==0,ge||(e[h>>2]=(e[h>>2]|0)+-1),f?(ge||(e[h>>2]=(e[h>>2]|0)+-1),(w|0)==0|ge||(e[h>>2]=(e[h>>2]|0)+-1)):md(i,0),He=+(l|0)*0;else{if(ge=(w|0)==0,Pe=ge?N:X,Be=ge?P:j,(P|0)<0|(P|0)==0&N>>>0<8)for(ge=D,_e=N,Ee=P;;)if(I=ge<<4,ue=_e,_e=Qt(_e|0,Ee|0,1,0)|0,(Ee|0)<0|(Ee|0)==0&ue>>>0<7)ge=I,Ee=Ze;else{st=I;break}else st=D;if((J|32|0)==112)if(Ee=ld(i,f)|0,ge=Ze,(Ee|0)==0&(ge|0)==-2147483648){if(!f){md(i,0),He=0;break}e[g>>2]|0?(e[h>>2]=(e[h>>2]|0)+-1,Je=0,it=0):(Je=0,it=0)}else Je=Ee,it=ge;else e[g>>2]|0?(e[h>>2]=(e[h>>2]|0)+-1,Je=0,it=0):(Je=0,it=0);if(ge=e0(Pe|0,Be|0,2)|0,Ee=Qt(ge|0,Ze|0,-32,-1)|0,ge=Qt(Ee|0,Ze|0,Je|0,it|0)|0,Ee=Ze,!st){He=+(l|0)*0;break}if(_e=0-o|0,I=((_e|0)<0)<<31>>31,(Ee|0)>(I|0)|(Ee|0)==(I|0)&ge>>>0>_e>>>0){_e=ca()|0,e[_e>>2]=34,He=+(l|0)*17976931348623157e292*17976931348623157e292;break}if(_e=o+-106|0,I=((_e|0)<0)<<31>>31,(Ee|0)<(I|0)|(Ee|0)==(I|0)&ge>>>0<_e>>>0){_e=ca()|0,e[_e>>2]=34,He=+(l|0)*22250738585072014e-324*22250738585072014e-324;break}if((st|0)>-1)for(se=S,_e=st,I=ge,ue=Ee;;)if($=!(se>=.5),x=_e<<1|($^1)&1,ie=se+($?se:se+-1),$=Qt(I|0,ue|0,-1,-1)|0,O=Ze,(x|0)>-1)se=ie,_e=x,I=$,ue=O;else{ze=ie,Ge=x,ke=$,ut=O;break}else ze=S,Ge=st,ke=ge,ut=Ee;ue=((s|0)<0)<<31>>31,I=Gi(32,0,o|0,((o|0)<0)<<31>>31|0)|0,_e=Qt(I|0,Ze|0,ke|0,ut|0)|0,I=Ze,(I|0)<(ue|0)|(I|0)==(ue|0)&_e>>>0<s>>>0?(_e|0)>0?(tt=_e,b=59):(at=0,Mt=84,b=61):(tt=s,b=59),(b|0)==59&&((tt|0)<53?(at=tt,Mt=84-tt|0,b=61):(Pt=0,yt=tt,Vt=+(l|0))),(b|0)==61&&(se=+(l|0),Pt=+SC(+Uy(1,Mt),se),yt=at,Vt=se),_e=(Ge&1|0)==0&(ze!=0&(yt|0)<32),se=(_e?0:ze)*Vt+(Pt+Vt*+((Ge+(_e&1)|0)>>>0))-Pt,se==0&&(_e=ca()|0,e[_e>>2]=34),He=+TC(se,ke)}while(0);return+He}function Z1(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0;if(f=q,q=q+16|0,h=f+4|0,u=f,!(JI(i,o)|0))return g=0,q=f,g|0;if(o=i+84|0,d=e[o>>2]|0,m=i+88|0,b=e[m>>2]|0,(b|0)!=(d|0)&&(e[m>>2]=b+(~((b+-4-d|0)>>>2)<<2)),e[o>>2]=0,e[m>>2]=0,e[i+92>>2]=0,d|0&&Ae(d),d=i+72|0,m=e[d>>2]|0,o=i+76|0,(e[o>>2]|0)!=(m|0)&&(e[o>>2]=m),e[d>>2]=0,e[o>>2]=0,e[i+80>>2]=0,m|0&&Ae(m),m=i+64|0,o=e[m>>2]|0,(e[o+4>>2]|0)!=(e[o>>2]|0)){d=i+12|0,b=l+84|0,w=l+68|0,x=s+96|0,C=i+24|0,S=0,D=o;do{e[u>>2]=(S>>>0)/3|0,e[h>>2]=e[u>>2],o=Hy(D,h)|0,D=e[m>>2]|0;do if(!o){if(I=e[(e[D+12>>2]|0)+(S<<2)>>2]|0,(I|0)==-1){L=(e[i>>2]|0)+(S>>>5<<2)|0,e[L>>2]=e[L>>2]|1<<(S&31),L=S+1|0,P=((L>>>0)%3|0|0)==0?S+-2|0:L,(P|0)==-1?N=-1:N=e[(e[D>>2]|0)+(P<<2)>>2]|0,P=(e[d>>2]|0)+(N>>>5<<2)|0,e[P>>2]=e[P>>2]|1<<(N&31),P=(((S>>>0)%3|0|0)==0?2:-1)+S|0,(P|0)==-1?X=-1:X=e[(e[D>>2]|0)+(P<<2)>>2]|0,P=(e[d>>2]|0)+(X>>>5<<2)|0,e[P>>2]=e[P>>2]|1<<(X&31);break}if(I>>>0>=S>>>0){if(P=S+1|0,L=((P>>>0)%3|0|0)==0?S+-2|0:P,j=I+(((I>>>0)%3|0|0)==0?2:-1)|0,Q=(L|0)==-1,Y[b>>0]|0){if(Q?Ee=-1:Ee=e[(e[x>>2]|0)+(((L|0)/3|0)*12|0)+(((L|0)%3|0)<<2)>>2]|0,G=(j|0)==-1,G?Pe=-1:Pe=e[(e[x>>2]|0)+(((j|0)/3|0)*12|0)+(((j|0)%3|0)<<2)>>2]|0,(Ee|0)==(Pe|0)){O=L+1|0,Q?ge=-1:ge=((O>>>0)%3|0|0)==0?L+-2|0:O;do if(G)Be=-1;else if((j>>>0)%3|0){Be=j+-1|0;break}else{Be=j+2|0;break}while(0);if((ge|0)==-1?_e=-1:_e=e[(e[x>>2]|0)+(((ge|0)/3|0)*12|0)+(((ge|0)%3|0)<<2)>>2]|0,(Be|0)==-1?Ce=-1:Ce=e[(e[x>>2]|0)+(((Be|0)/3|0)*12|0)+(((Be|0)%3|0)<<2)>>2]|0,(_e|0)==(Ce|0))break}}else if(Q?V=-1:V=e[(e[x>>2]|0)+(((L|0)/3|0)*12|0)+(((L|0)%3|0)<<2)>>2]|0,G=(j|0)==-1,G?ee=-1:ee=e[(e[x>>2]|0)+(((j|0)/3|0)*12|0)+(((j|0)%3|0)<<2)>>2]|0,J=e[w>>2]|0,(e[J+(V<<2)>>2]|0)==(e[J+(ee<<2)>>2]|0)){O=L+1|0,Q?$=-1:$=((O>>>0)%3|0|0)==0?L+-2|0:O;do if(G)ie=-1;else if((j>>>0)%3|0){ie=j+-1|0;break}else{ie=j+2|0;break}while(0);if(($|0)==-1?se=-1:se=e[(e[x>>2]|0)+((($|0)/3|0)*12|0)+((($|0)%3|0)<<2)>>2]|0,(ie|0)==-1?ue=-1:ue=e[(e[x>>2]|0)+(((ie|0)/3|0)*12|0)+(((ie|0)%3|0)<<2)>>2]|0,(e[J+(se<<2)>>2]|0)==(e[J+(ue<<2)>>2]|0))break}Y[C>>0]=0,j=e[i>>2]|0,G=j+(S>>>5<<2)|0,e[G>>2]=e[G>>2]|1<<(S&31),G=j+(I>>>5<<2)|0,e[G>>2]=e[G>>2]|1<<(I&31),G=((P>>>0)%3|0|0)==0?S+-2|0:P,(G|0)==-1?We=-1:We=e[(e[D>>2]|0)+(G<<2)>>2]|0,G=(e[d>>2]|0)+(We>>>5<<2)|0,e[G>>2]=e[G>>2]|1<<(We&31),G=(((S>>>0)%3|0|0)==0?2:-1)+S|0,(G|0)==-1?lt=-1:lt=e[(e[D>>2]|0)+(G<<2)>>2]|0,G=(e[d>>2]|0)+(lt>>>5<<2)|0,e[G>>2]=e[G>>2]|1<<(lt&31),G=I+1|0,j=((G>>>0)%3|0|0)==0?I+-2|0:G,(j|0)==-1?et=-1:et=e[(e[D>>2]|0)+(j<<2)>>2]|0,j=(e[d>>2]|0)+(et>>>5<<2)|0,e[j>>2]=e[j>>2]|1<<(et&31),j=(((I>>>0)%3|0|0)==0?2:-1)+I|0,(j|0)==-1?Ve=-1:Ve=e[(e[D>>2]|0)+(j<<2)>>2]|0,j=(e[d>>2]|0)+(Ve>>>5<<2)|0,e[j>>2]=e[j>>2]|1<<(Ve&31)}}while(0);S=S+1|0}while(S>>>0<(e[D+4>>2]|0)-(e[D>>2]|0)>>2>>>0)}return(s|0)!=0&(l|0)!=0?(Wf(i,s,l),g=1,q=f,g|0):(p6(i,0,0),g=1,q=f,g|0)}function Yh(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0;l=q,q=q+32|0,f=l+12|0,h=l+8|0,u=l+4|0,g=l,d=i+8|0;e:do if(e[d>>2]|0&&(m=e[i>>2]|0,b=i+4|0,e[i>>2]=b,e[(e[b>>2]|0)+8>>2]=0,e[b>>2]=0,e[d>>2]=0,w=e[m+4>>2]|0,x=(w|0)==0?m:w,x|0)){for(w=i+4|0,m=x,x=e[s>>2]|0;(x|0)!=(e[o>>2]|0);){C=m+16|0,e[C>>2]=e[x+16>>2],(m|0)!=(x|0)&&(e[u>>2]=e[x+20>>2],e[g>>2]=x+24,e[h>>2]=e[u>>2],e[f>>2]=e[g>>2],co(m+20|0,h,f)),S=m+8|0,D=e[S>>2]|0;do if(D)if(I=e[D>>2]|0,(I|0)==(m|0)){if(e[D>>2]=0,L=e[D+4>>2]|0,L)N=L;else{P=D;break}for(;;){if(L=e[N>>2]|0,L|0){N=L;continue}if(L=e[N+4>>2]|0,L)N=L;else break}P=N;break}else{if(e[D+4>>2]=0,I)X=I;else{P=D;break}for(;;){if(L=e[X>>2]|0,L|0){X=L;continue}if(L=e[X+4>>2]|0,L)X=L;else break}P=X;break}else P=0;while(0);D=e[b>>2]|0;do if(D){for(I=e[C>>2]|0,L=D;;){if((I|0)<(e[L+16>>2]|0))if(j=e[L>>2]|0,j)V=j;else{Q=22;break}else if(G=L+4|0,j=e[G>>2]|0,j)V=j;else{Q=25;break}L=V}if((Q|0)==22){Q=0,ee=L,J=L;break}else if((Q|0)==25){Q=0,ee=L,J=G;break}}else ee=b,J=b;while(0);if(e[m>>2]=0,e[m+4>>2]=0,e[S>>2]=ee,e[J>>2]=m,D=e[e[i>>2]>>2]|0,D?(e[i>>2]=D,O=e[J>>2]|0):O=m,of(e[w>>2]|0,O),e[d>>2]=(e[d>>2]|0)+1,D=e[x+4>>2]|0,D){for(I=D;S=e[I>>2]|0,S;)I=S;$=I}else if(C=x+8|0,I=e[C>>2]|0,(e[I>>2]|0)==(x|0))$=I;else{I=C;do C=e[I>>2]|0,I=C+8|0,j=e[I>>2]|0;while((e[j>>2]|0)!=(C|0));$=j}if(e[s>>2]=$,P)m=P,x=$;else break e}if(x=e[m+8>>2]|0,!x)ie=m;else{for(w=x;x=e[w+8>>2]|0,x;)w=x;ie=w}ju(i,ie)}while(0);if(ie=e[s>>2]|0,$=e[o>>2]|0,(ie|0)==($|0)){q=l;return}for(o=i+4|0,P=i+4|0,O=ie;;){ys(f,i,O+16|0),ie=e[o>>2]|0;do if(ie){for(J=e[f>>2]|0,ee=e[J+16>>2]|0,G=ie;;){if((ee|0)<(e[G+16>>2]|0))if(V=e[G>>2]|0,V)se=V;else{Q=43;break}else if(ue=G+4|0,V=e[ue>>2]|0,V)se=V;else{Q=46;break}G=se}if((Q|0)==43){Q=0,Ee=G,Pe=G,ge=J;break}else if((Q|0)==46){Q=0,Ee=G,Pe=ue,ge=J;break}}else Ee=o,Pe=o,ge=e[f>>2]|0;while(0);if(e[ge>>2]=0,e[ge+4>>2]=0,e[ge+8>>2]=Ee,e[Pe>>2]=ge,ie=e[e[i>>2]>>2]|0,ie?(e[i>>2]=ie,Be=e[Pe>>2]|0):Be=ge,of(e[P>>2]|0,Be),e[d>>2]=(e[d>>2]|0)+1,ie=e[O+4>>2]|0,ie){for(ee=ie;I=e[ee>>2]|0,I;)ee=I;_e=ee}else if(w=O+8|0,ee=e[w>>2]|0,(e[ee>>2]|0)==(O|0))_e=ee;else{ee=w;do w=e[ee>>2]|0,ee=w+8|0,I=e[ee>>2]|0;while((e[I>>2]|0)!=(w|0));_e=I}if(e[s>>2]=_e,(_e|0)==($|0))break;O=_e}q=l}function l6(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0;h=i+8|0,pd(h,s,l,f),l=f>>>0>1073741823?-1:f<<2,u=Fl(l)|0,Tr(u|0,0,l|0)|0,l=e[i+48>>2]|0,g=e[i+56>>2]|0,d=e[g>>2]|0,m=(e[g+4>>2]|0)-d|0,b=m>>2;e:do if((m|0)>4){for(w=e[i+52>>2]|0,x=i+16|0,C=i+32|0,S=i+12|0,D=i+28|0,I=i+20|0,L=i+24|0,P=l+12|0,N=(f|0)>0,X=d,j=b;Q=j,j=j+-1|0,!(b>>>0<=j>>>0);){if(V=e[X+(j<<2)>>2]|0,G=_r(j,f)|0,(V|0)!=-1&&(ee=e[(e[P>>2]|0)+(V<<2)>>2]|0,(ee|0)!=-1))if(V=e[l>>2]|0,J=e[w>>2]|0,O=e[J+(e[V+(ee<<2)>>2]<<2)>>2]|0,$=ee+1|0,ie=(($>>>0)%3|0|0)==0?ee+-2|0:$,(ie|0)==-1?se=-1:se=e[V+(ie<<2)>>2]|0,ie=e[J+(se<<2)>>2]|0,$=(((ee>>>0)%3|0|0)==0?2:-1)+ee|0,($|0)==-1?ue=-1:ue=e[V+($<<2)>>2]|0,$=e[J+(ue<<2)>>2]|0,(O|0)<(j|0)&(ie|0)<(j|0)&($|0)<(j|0)){if(J=_r(O,f)|0,O=_r(ie,f)|0,ie=_r($,f)|0,N){$=0;do e[u+($<<2)>>2]=(e[s+($+ie<<2)>>2]|0)+(e[s+($+O<<2)>>2]|0)-(e[s+($+J<<2)>>2]|0),$=$+1|0;while(($|0)!=(f|0))}if($=s+(G<<2)|0,J=o+(G<<2)|0,O=e[h>>2]|0,(O|0)>0)for(ie=0,V=u,ee=O;;){if((ee|0)>0){O=0;do Ee=e[V+(O<<2)>>2]|0,Pe=e[x>>2]|0,(Ee|0)>(Pe|0)?(ge=e[C>>2]|0,e[ge+(O<<2)>>2]=Pe,Be=ge):(ge=e[S>>2]|0,Pe=e[C>>2]|0,e[Pe+(O<<2)>>2]=(Ee|0)<(ge|0)?ge:Ee,Be=Pe),O=O+1|0;while((O|0)<(e[h>>2]|0));_e=Be}else _e=e[C>>2]|0;if(O=(e[$+(ie<<2)>>2]|0)-(e[_e+(ie<<2)>>2]|0)|0,Pe=J+(ie<<2)|0,e[Pe>>2]=O,(O|0)>=(e[D>>2]|0)?(O|0)>(e[L>>2]|0)&&(Ce=O-(e[I>>2]|0)|0,We=42):(Ce=(e[I>>2]|0)+O|0,We=42),(We|0)==42&&(We=0,e[Pe>>2]=Ce),ie=ie+1|0,ee=e[h>>2]|0,(ie|0)>=(ee|0))break;V=_e}}else We=16;else We=16;if((We|0)==16&&(We=0,V=s+(G<<2)|0,ee=o+(G<<2)|0,ie=e[h>>2]|0,(ie|0)>0))for(J=0,$=s+((_r(Q+-2|0,f)|0)<<2)|0,Pe=ie;;){if((Pe|0)>0){ie=0;do O=e[$+(ie<<2)>>2]|0,Ee=e[x>>2]|0,(O|0)>(Ee|0)?(ge=e[C>>2]|0,e[ge+(ie<<2)>>2]=Ee,lt=ge):(ge=e[S>>2]|0,Ee=e[C>>2]|0,e[Ee+(ie<<2)>>2]=(O|0)<(ge|0)?ge:O,lt=Ee),ie=ie+1|0;while((ie|0)<(e[h>>2]|0));et=lt}else et=e[C>>2]|0;if(ie=(e[V+(J<<2)>>2]|0)-(e[et+(J<<2)>>2]|0)|0,Ee=ee+(J<<2)|0,e[Ee>>2]=ie,(ie|0)>=(e[D>>2]|0)?(ie|0)>(e[L>>2]|0)&&(Ve=ie-(e[I>>2]|0)|0,We=29):(Ve=(e[I>>2]|0)+ie|0,We=29),(We|0)==29&&(We=0,e[Ee>>2]=Ve),J=J+1|0,Pe=e[h>>2]|0,(J|0)>=(Pe|0))break;$=et}if((Q|0)<=2)break e}qe()}while(0);if((f|0)>0&&Tr(u|0,0,f<<2|0)|0,f=e[h>>2]|0,(f|0)<=0)return F0(u),1;for(g=i+16|0,et=i+32|0,Ve=i+12|0,lt=i+28|0,_e=i+20|0,Ce=i+24|0,i=0,Be=u,ue=f;;){if((ue|0)>0){f=0;do se=e[Be+(f<<2)>>2]|0,l=e[g>>2]|0,(se|0)>(l|0)?(b=e[et>>2]|0,e[b+(f<<2)>>2]=l,He=b):(b=e[Ve>>2]|0,l=e[et>>2]|0,e[l+(f<<2)>>2]=(se|0)<(b|0)?b:se,He=l),f=f+1|0;while((f|0)<(e[h>>2]|0));st=He}else st=e[et>>2]|0;if(f=(e[s+(i<<2)>>2]|0)-(e[st+(i<<2)>>2]|0)|0,l=o+(i<<2)|0,e[l>>2]=f,(f|0)>=(e[lt>>2]|0)?(f|0)>(e[Ce>>2]|0)&&(Je=f-(e[_e>>2]|0)|0,We=56):(Je=(e[_e>>2]|0)+f|0,We=56),(We|0)==56&&(We=0,e[l>>2]=Je),i=i+1|0,ue=e[h>>2]|0,(i|0)>=(ue|0))break;Be=st}return F0(u),1}function k2(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0;h=i+8|0,pd(h,s,l,f),l=f>>>0>1073741823?-1:f<<2,u=Fl(l)|0,Tr(u|0,0,l|0)|0,l=e[i+48>>2]|0,g=e[i+56>>2]|0,d=e[g>>2]|0,m=(e[g+4>>2]|0)-d|0,b=m>>2;e:do if((m|0)>4){for(w=e[i+52>>2]|0,x=i+16|0,C=i+32|0,S=i+12|0,D=i+28|0,I=i+20|0,L=i+24|0,P=l+64|0,N=l+28|0,X=(f|0)>0,j=d,Q=b;V=Q,Q=Q+-1|0,!(b>>>0<=Q>>>0);){if(G=e[j+(Q<<2)>>2]|0,ee=_r(Q,f)|0,(G|0)!=-1&&(e[(e[l>>2]|0)+(G>>>5<<2)>>2]&1<<(G&31)|0)==0&&(J=e[(e[(e[P>>2]|0)+12>>2]|0)+(G<<2)>>2]|0,(J|0)!=-1)&&(G=e[N>>2]|0,O=e[w>>2]|0,$=e[O+(e[G+(J<<2)>>2]<<2)>>2]|0,ie=J+1|0,se=e[O+(e[G+((((ie>>>0)%3|0|0)==0?J+-2|0:ie)<<2)>>2]<<2)>>2]|0,ie=e[O+(e[G+((((J>>>0)%3|0|0)==0?2:-1)+J<<2)>>2]<<2)>>2]|0,($|0)<(Q|0)&(se|0)<(Q|0)&(ie|0)<(Q|0))){if(J=_r($,f)|0,$=_r(se,f)|0,se=_r(ie,f)|0,X){ie=0;do e[u+(ie<<2)>>2]=(e[s+(ie+se<<2)>>2]|0)+(e[s+(ie+$<<2)>>2]|0)-(e[s+(ie+J<<2)>>2]|0),ie=ie+1|0;while((ie|0)!=(f|0))}if(ie=s+(ee<<2)|0,J=o+(ee<<2)|0,$=e[h>>2]|0,($|0)>0)for(se=0,G=u,O=$;;){if((O|0)>0){$=0;do ue=e[G+($<<2)>>2]|0,Ee=e[x>>2]|0,(ue|0)>(Ee|0)?(Pe=e[C>>2]|0,e[Pe+($<<2)>>2]=Ee,ge=Pe):(Pe=e[S>>2]|0,Ee=e[C>>2]|0,e[Ee+($<<2)>>2]=(ue|0)<(Pe|0)?Pe:ue,ge=Ee),$=$+1|0;while(($|0)<(e[h>>2]|0));Be=ge}else Be=e[C>>2]|0;if($=(e[ie+(se<<2)>>2]|0)-(e[Be+(se<<2)>>2]|0)|0,Ee=J+(se<<2)|0,e[Ee>>2]=$,($|0)>=(e[D>>2]|0)?($|0)>(e[L>>2]|0)&&(_e=$-(e[I>>2]|0)|0,Ce=39):(_e=(e[I>>2]|0)+$|0,Ce=39),(Ce|0)==39&&(Ce=0,e[Ee>>2]=_e),se=se+1|0,O=e[h>>2]|0,(se|0)>=(O|0))break;G=Be}}else Ce=13;if((Ce|0)==13&&(Ce=0,G=s+(ee<<2)|0,O=o+(ee<<2)|0,se=e[h>>2]|0,(se|0)>0))for(J=0,ie=s+((_r(V+-2|0,f)|0)<<2)|0,Ee=se;;){if((Ee|0)>0){se=0;do $=e[ie+(se<<2)>>2]|0,ue=e[x>>2]|0,($|0)>(ue|0)?(Pe=e[C>>2]|0,e[Pe+(se<<2)>>2]=ue,We=Pe):(Pe=e[S>>2]|0,ue=e[C>>2]|0,e[ue+(se<<2)>>2]=($|0)<(Pe|0)?Pe:$,We=ue),se=se+1|0;while((se|0)<(e[h>>2]|0));lt=We}else lt=e[C>>2]|0;if(se=(e[G+(J<<2)>>2]|0)-(e[lt+(J<<2)>>2]|0)|0,ue=O+(J<<2)|0,e[ue>>2]=se,(se|0)>=(e[D>>2]|0)?(se|0)>(e[L>>2]|0)&&(et=se-(e[I>>2]|0)|0,Ce=26):(et=(e[I>>2]|0)+se|0,Ce=26),(Ce|0)==26&&(Ce=0,e[ue>>2]=et),J=J+1|0,Ee=e[h>>2]|0,(J|0)>=(Ee|0))break;ie=lt}if((V|0)<=2)break e}qe()}while(0);if((f|0)>0&&Tr(u|0,0,f<<2|0)|0,f=e[h>>2]|0,(f|0)<=0)return F0(u),1;for(g=i+16|0,lt=i+32|0,et=i+12|0,We=i+28|0,Be=i+20|0,_e=i+24|0,i=0,ge=u,l=f;;){if((l|0)>0){f=0;do b=e[ge+(f<<2)>>2]|0,d=e[g>>2]|0,(b|0)>(d|0)?(m=e[lt>>2]|0,e[m+(f<<2)>>2]=d,Ve=m):(m=e[et>>2]|0,d=e[lt>>2]|0,e[d+(f<<2)>>2]=(b|0)<(m|0)?m:b,Ve=d),f=f+1|0;while((f|0)<(e[h>>2]|0));He=Ve}else He=e[lt>>2]|0;if(f=(e[s+(i<<2)>>2]|0)-(e[He+(i<<2)>>2]|0)|0,d=o+(i<<2)|0,e[d>>2]=f,(f|0)>=(e[We>>2]|0)?(f|0)>(e[_e>>2]|0)&&(st=f-(e[Be>>2]|0)|0,Ce=53):(st=(e[Be>>2]|0)+f|0,Ce=53),(Ce|0)==53&&(Ce=0,e[d>>2]=st),i=i+1|0,l=e[h>>2]|0,(i|0)>=(l|0))break;ge=He}return F0(u),1}function il(i,s,o,l,f){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0;var h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0;if(h=q,q=q+48|0,u=h+28|0,g=h+24|0,d=h,m=h+12|0,b=h+40|0,(s|0)<0)return w=0,q=h,w|0;if(!s)return w=1,q=h,w|0;if(x=(o|0)>1,C=x?o:1,e[d>>2]=0,o=d+4|0,e[o>>2]=0,e[d+8>>2]=0,ol(d,s),S=d+8|0,x)for(x=0,D=0;;){I=1,L=e[i+(D<<2)>>2]|0;do P=e[i+(I+D<<2)>>2]|0,L=L>>>0<P>>>0?P:L,I=I+1|0;while((I|0)!=(C|0));if(I=(S0(L|0)|0)^31,P=L>>>0>x>>>0?L:x,N=(L|0)==0?1:I+1|0,e[u>>2]=N,I=e[o>>2]|0,I>>>0<(e[S>>2]|0)>>>0?(e[I>>2]=N,e[o>>2]=I+4):pi(d,u),D=D+C|0,(D|0)>=(s|0)){X=P;break}else x=P}else for(x=0,D=0;;)if(P=e[i+(x<<2)>>2]|0,I=(S0(P|0)|0)^31,N=P>>>0>D>>>0?P:D,j=(P|0)==0?1:I+1|0,e[u>>2]=j,I=e[o>>2]|0,I>>>0<(e[S>>2]|0)>>>0?(e[I>>2]=j,e[o>>2]=I+4):pi(d,u),x=x+C|0,(x|0)>=(s|0)){X=N;break}else D=N;if(e[m>>2]=0,D=m+4|0,e[D>>2]=0,e[m+8>>2]=0,x=e[d>>2]|0,S=(e[o>>2]|0)-x|0,N=S>>2,N)if(N>>>0>1073741823&&qe(),I=It(S)|0,e[D>>2]=I,e[m>>2]=I,e[m+8>>2]=I+(N<<2),N=I,(S|0)>0)if(j=I+(S>>>2<<2)|0,Fi(I|0,x|0,S|0)|0,e[D>>2]=j,S=j-N>>2,(j|0)==(I|0))Q=S,V=I,G=0,ee=0;else for(j=0,x=0,P=0;;)if(J=Qt(x|0,P|0,e[I+(j<<2)>>2]|0,0)|0,O=Ze,j=j+1|0,j>>>0>=S>>>0){Q=S,V=I,G=J,ee=O;break}else x=J,P=O;else $=N,ie=18;else $=0,ie=18;if((ie|0)==18&&(Q=0,V=$,G=0,ee=0),$=Ls(V,Q,32,u)|0,Q=Ze,V=e[u>>2]<<3,N=e0(V|0,((V|0)<0)<<31>>31|0,1)|0,V=Ze,P=Wr(G|0,ee|0,C|0,0)|0,ee=Qt($|0,Q|0,P|0,Ze|0)|0,P=Qt(ee|0,Ze|0,N|0,V|0)|0,V=Ze,N=e[m>>2]|0,N|0&&(m=e[D>>2]|0,(m|0)!=(N|0)&&(e[D>>2]=m+(~((m+-4-N|0)>>>2)<<2)),Ae(N)),N=Ls(i,s,X,u)|0,m=e[u>>2]|0,D=((X-m|0)/64|0)+m<<3,ee=m<<3,Q=Qt(N|0,Ze|0,ee|0,((ee|0)<0)<<31>>31|0)|0,ee=Qt(Q|0,Ze|0,D|0,((D|0)<0)<<31>>31|0)|0,D=Ze,Q=(S0((X>>>0>1?X:1)|0)|0)^30,l){e[u>>2]=0,e[u+4>>2]=0,e[u+8>>2]=0,N=It(32)|0,e[u>>2]=N,e[u+8>>2]=-2147483616,e[u+4>>2]=22,$=N,G=13044,x=$+22|0;do Y[$>>0]=Y[G>>0]|0,$=$+1|0,G=G+1|0;while(($|0)<(x|0));if(Y[N+22>>0]=0,N=(go(l,u)|0)==0,(Y[u+11>>0]|0)<0&&Ae(e[u>>2]|0),N)ie=32;else{e[u>>2]=0,e[u+4>>2]=0,e[u+8>>2]=0,N=It(32)|0,e[u>>2]=N,e[u+8>>2]=-2147483616,e[u+4>>2]=22,$=N,G=13044,x=$+22|0;do Y[$>>0]=Y[G>>0]|0,$=$+1|0,G=G+1|0;while(($|0)<(x|0));Y[N+22>>0]=0,N=_k(l,u)|0,(Y[u+11>>0]|0)<0&&Ae(e[u>>2]|0),se=N}}else ie=32;switch((ie|0)==32&&(se=Q>>>0<18&((V|0)>(D|0)|(V|0)==(D|0)&P>>>0>=ee>>>0)&1),Y[b>>0]=se,ee=f+16|0,P=e[ee+4>>2]|0,(P|0)>0|(P|0)==0&(e[ee>>2]|0)>>>0>0||(e[g>>2]=e[f+4>>2],e[u>>2]=e[g>>2],wi(f,u,b,b+1|0)|0),se|0){case 0:{ue=im(i,s,C,d,f)|0;break}case 1:{ue=K1(i,s,X,m,l,f)|0;break}default:ue=0}return f=e[d>>2]|0,f|0&&(d=e[o>>2]|0,(d|0)!=(f|0)&&(e[o>>2]=d+(~((d+-4-f|0)>>>2)<<2)),Ae(f)),w=ue,q=h,w|0}function Y1(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0;if((s|0)<0||(o=i+12|0,l=e[o>>2]|0,f=e[i+8>>2]|0,h=f,u=l,l-f>>2>>>0<=s>>>0))return;if(f=h+(s<<2)|0,l=e[(e[f>>2]|0)+56>>2]|0,g=e[(e[h+(s<<2)>>2]|0)+60>>2]|0,h=f+4|0,(h|0)!=(u|0)){d=h,h=f;do m=e[d>>2]|0,e[d>>2]=0,b=e[h>>2]|0,e[h>>2]=m,b|0&&(m=b+88|0,w=e[m>>2]|0,e[m>>2]=0,w|0&&(m=e[w+8>>2]|0,m|0&&(x=w+12|0,(e[x>>2]|0)!=(m|0)&&(e[x>>2]=m),Ae(m)),Ae(w)),w=e[b+68>>2]|0,w|0&&(m=b+72|0,x=e[m>>2]|0,(x|0)!=(w|0)&&(e[m>>2]=x+(~((x+-4-w|0)>>>2)<<2)),Ae(w)),w=b+64|0,x=e[w>>2]|0,e[w>>2]=0,x|0&&(w=e[x>>2]|0,w|0&&(m=x+4|0,(e[m>>2]|0)!=(w|0)&&(e[m>>2]=w),Ae(w)),Ae(x)),Ae(b)),d=d+4|0,h=h+4|0;while((d|0)!=(u|0));d=e[o>>2]|0,(d|0)!=(h|0)&&(C=h,S=d,D=24)}else C=f,S=u,D=24;if((D|0)==24){D=S;do S=D+-4|0,e[o>>2]=S,u=e[S>>2]|0,e[S>>2]=0,u|0&&(S=u+88|0,f=e[S>>2]|0,e[S>>2]=0,f|0&&(S=e[f+8>>2]|0,S|0&&(d=f+12|0,(e[d>>2]|0)!=(S|0)&&(e[d>>2]=S),Ae(S)),Ae(f)),f=e[u+68>>2]|0,f|0&&(S=u+72|0,d=e[S>>2]|0,(d|0)!=(f|0)&&(e[S>>2]=d+(~((d+-4-f|0)>>>2)<<2)),Ae(f)),f=u+64|0,d=e[f>>2]|0,e[f>>2]=0,d|0&&(f=e[d>>2]|0,f|0&&(S=d+4|0,(e[S>>2]|0)!=(f|0)&&(e[S>>2]=f),Ae(f)),Ae(d)),Ae(u)),D=e[o>>2]|0;while((D|0)!=(C|0))}C=e[i+4>>2]|0;e:do if(C|0){for(D=C+44|0,o=e[D>>2]|0,u=e[C+40>>2]|0;;){if((u|0)==(o|0))break e;if(I=u+4|0,(e[(e[u>>2]|0)+40>>2]|0)==(g|0))break;u=I}if((I|0)!=(o|0)){d=I,f=u;do S=e[d>>2]|0,e[d>>2]=0,h=e[f>>2]|0,e[f>>2]=S,h|0&&(Kf(h),Ae(h)),d=d+4|0,f=f+4|0;while((d|0)!=(o|0));if(d=e[D>>2]|0,(d|0)==(f|0))break;L=f,P=d}else L=u,P=o;d=P;do h=d+-4|0,e[D>>2]=h,S=e[h>>2]|0,e[h>>2]=0,S|0&&(Kf(S),Ae(S)),d=e[D>>2]|0;while((d|0)!=(L|0))}while(0);e:do if((l|0)<5){L=e[i+20+(l*12|0)>>2]|0,P=i+20+(l*12|0)+4|0,I=e[P>>2]|0,g=I;t:do if((L|0)==(I|0))N=L;else for(C=L;;){if((e[C>>2]|0)==(s|0)){N=C;break t}if(C=C+4|0,(C|0)==(I|0))break e}while(0);(N|0)!=(I|0)&&(L=N+4|0,C=g-L|0,d=C>>2,d?(Q0(N|0,L|0,C|0)|0,X=e[P>>2]|0):X=I,C=N+(d<<2)|0,(X|0)!=(C|0)&&(e[P>>2]=X+(~((X+-4-C|0)>>>2)<<2)))}while(0);if(X=e[i+24>>2]|0,N=e[i+20>>2]|0,l=N,(X|0)!=(N|0)){C=X-N>>2,N=0;do X=l+(N<<2)|0,d=e[X>>2]|0,(d|0)>(s|0)&&(e[X>>2]=d+-1),N=N+1|0;while(N>>>0<C>>>0)}if(C=e[i+36>>2]|0,N=e[i+32>>2]|0,l=N,(C|0)!=(N|0)){d=C-N>>2,N=0;do C=l+(N<<2)|0,X=e[C>>2]|0,(X|0)>(s|0)&&(e[C>>2]=X+-1),N=N+1|0;while(N>>>0<d>>>0)}if(d=e[i+48>>2]|0,N=e[i+44>>2]|0,l=N,(d|0)!=(N|0)){X=d-N>>2,N=0;do d=l+(N<<2)|0,C=e[d>>2]|0,(C|0)>(s|0)&&(e[d>>2]=C+-1),N=N+1|0;while(N>>>0<X>>>0)}if(X=e[i+60>>2]|0,N=e[i+56>>2]|0,l=N,(X|0)!=(N|0)){C=X-N>>2,N=0;do X=l+(N<<2)|0,d=e[X>>2]|0,(d|0)>(s|0)&&(e[X>>2]=d+-1),N=N+1|0;while(N>>>0<C>>>0)}if(C=e[i+72>>2]|0,N=e[i+68>>2]|0,i=N,(C|0)!=(N|0)){l=C-N>>2,N=0;do C=i+(N<<2)|0,d=e[C>>2]|0,(d|0)>(s|0)&&(e[C>>2]=d+-1),N=N+1|0;while(N>>>0<l>>>0)}}function f6(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0;o=q,q=q+32|0,l=o+16|0,f=o,h=s+4|0,u=e[(e[h>>2]|0)+48>>2]|0,g=s+12|0,s=e[g>>2]|0,d=It(32)|0,e[l>>2]=d,e[l+8>>2]=-2147483616,e[l+4>>2]=17,m=d,b=12932,w=m+17|0;do Y[m>>0]=Y[b>>0]|0,m=m+1|0,b=b+1|0;while((m|0)<(w|0));if(Y[d+17>>0]=0,d=u+16|0,x=e[d>>2]|0,x){C=d,S=x;e:for(;;){for(x=S;!((e[x+16>>2]|0)>=(s|0));)if(D=e[x+4>>2]|0,D)x=D;else{I=C;break e}if(S=e[x>>2]|0,S)C=x;else{I=x;break}}(I|0)!=(d|0)&&(s|0)>=(e[I+16>>2]|0)&&(s=I+20|0,(go(s,l)|0)!=0)?L=bo(s,l,-1)|0:P=10}else P=10;(P|0)==10&&(L=bo(u,l,-1)|0),(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0),u=(1<<L)+-1|0,e[l>>2]=-1,e[l+4>>2]=-1,e[l+8>>2]=-1,e[l+12>>2]=-1,u&1|0&&(L=(S0(u|0)|0)^31,(L+-1|0)>>>0<=28)&&(e[l>>2]=L+1,u=2<<L,e[l+4>>2]=u+-1,L=u+-2|0,e[l+8>>2]=L,e[l+12>>2]=(L|0)/2|0),L=U_(e[g>>2]|0,e[h>>2]|0)|0,u=e[(e[h>>2]|0)+48>>2]|0,s=e[g>>2]|0,I=It(32)|0,e[f>>2]=I,e[f+8>>2]=-2147483616,e[f+4>>2]=17,m=I,b=12804,w=m+17|0;do Y[m>>0]=Y[b>>0]|0,m=m+1|0,b=b+1|0;while((m|0)<(w|0));if(Y[I+17>>0]=0,I=u+16|0,b=e[I>>2]|0,b){m=I,w=b;e:for(;;){for(b=w;!((e[b+16>>2]|0)>=(s|0));)if(d=e[b+4>>2]|0,d)b=d;else{N=m;break e}if(w=e[b>>2]|0,w)m=b;else{N=b;break}}(N|0)!=(I|0)&&(s|0)>=(e[N+16>>2]|0)&&(s=N+20|0,(go(s,f)|0)!=0)?X=bo(s,f,L)|0:P=25}else P=25;switch((P|0)==25&&(X=bo(u,f,L)|0),(Y[f+11>>0]|0)<0&&Ae(e[f>>2]|0),X|0){case 6:{X=e[g>>2]|0,L=e[h>>2]|0,u=e[(e[(e[L+4>>2]|0)+8>>2]|0)+(X<<2)>>2]|0;do if((kn[e[(e[L>>2]|0)+8>>2]&127](L)|0)==1)if(hd(f,L,6,X,l,514),s=e[f>>2]|0,s){Q=f,V=s;break}else{e[f>>2]=0,j=f,P=34;break}else j=f,P=34;while(0);(P|0)==34&&(X=It(24)|0,e[X+4>>2]=u,u=X+8|0,e[u>>2]=e[l>>2],e[u+4>>2]=e[l+4>>2],e[u+8>>2]=e[l+8>>2],e[u+12>>2]=e[l+12>>2],e[X>>2]=2320,u=X,e[f>>2]=u,Q=j,V=u),e[i>>2]=V,e[Q>>2]=0,q=o;return}case 0:{Q=e[g>>2]|0,g=e[h>>2]|0,h=e[(e[(e[g+4>>2]|0)+8>>2]|0)+(Q<<2)>>2]|0;do if((kn[e[(e[g>>2]|0)+8>>2]&127](g)|0)==1)if(hd(f,g,0,Q,l,514),V=e[f>>2]|0,V){ee=f,J=V;break}else{e[f>>2]=0,G=f,P=41;break}else G=f,P=41;while(0);(P|0)==41&&(P=It(24)|0,e[P+4>>2]=h,h=P+8|0,e[h>>2]=e[l>>2],e[h+4>>2]=e[l+4>>2],e[h+8>>2]=e[l+8>>2],e[h+12>>2]=e[l+12>>2],e[P>>2]=2320,l=P,e[f>>2]=l,ee=G,J=l),e[i>>2]=J,e[ee>>2]=0,q=o;return}default:{e[i>>2]=0,q=o;return}}}function Yb(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0;for(s=q,q=q+32|0,o=s+20|0,l=s+8|0,f=s,h=i+4|0,u=e[h>>2]|0,g=e[i>>2]|0,d=u-g|0,m=d>>2,e[o>>2]=0,b=o+4|0,e[b>>2]=0,w=o+8|0,e[w>>2]=0,x=g,m|0&&((d|0)<0&&qe(),d=((m+-1|0)>>>5)+1|0,C=It(d<<2)|0,e[o>>2]=C,e[w>>2]=d,e[b>>2]=m,b=m>>>5,Tr(C|0,0,b<<2|0)|0,d=m&31,m=C+(b<<2)|0,d|0&&(e[m>>2]=e[m>>2]&~(-1>>>(32-d|0)))),e[l>>2]=0,d=l+4|0,e[d>>2]=0,e[l+8>>2]=0,m=i+12|0,b=f+4|0,C=l+8|0,w=x,x=u,u=g;(x|0)!=(u|0);){for(S=0,D=0,I=u,L=w;;){g=e[o>>2]|0;do if(e[g+(D>>>5<<2)>>2]&1<<(D&31))Ve=S,He=I;else{for(P=e[l>>2]|0,N=e[d>>2]|0,(N|0)==(P|0)?X=P:(j=N+(~((N+-8-P|0)>>>3)<<3)|0,e[d>>2]=j,X=j),j=D;;){if(N=j+1|0,Q=((N>>>0)%3|0|0)==0?j+-2|0:N,(Q|0)==-1){V=j,G=I,ee=g,J=L,O=P,$=X;break}if(N=e[(e[m>>2]|0)+(Q<<2)>>2]|0,Q=N+1|0,(N|0)==-1){V=j,G=I,ee=g,J=L,O=P,$=X;break}if(ie=((Q>>>0)%3|0|0)==0?N+-2|0:Q,!((ie|0)!=(D|0)&(ie|0)!=-1)){V=j,G=I,ee=g,J=L,O=P,$=X;break}if(!(e[g+(ie>>>5<<2)>>2]&1<<(ie&31)))j=ie;else{V=j,G=I,ee=g,J=L,O=P,$=X;break}}e:for(;;){if(P=ee+(V>>>5<<2)|0,e[P>>2]=e[P>>2]|1<<(V&31),P=V+1|0,ie=((P>>>0)%3|0|0)==0?V+-2|0:P,P=e[J+(ie<<2)>>2]|0,se=(((V>>>0)%3|0|0)==0?2:-1)+V|0,(O|0)!=($|0))if((se|0)==-1){Q=O;do{if((e[Q>>2]|0)==(P|0)&&(N=e[Q+4>>2]|0,(N|0)!=-1)){ue=N,Ee=-1,Pe=-1,ge=25;break e}Q=Q+8|0}while((Q|0)!=($|0))}else{Q=O;do{if((e[Q>>2]|0)==(P|0)&&(Be=e[Q+4>>2]|0,_e=e[(e[m>>2]|0)+(se<<2)>>2]|0,(_e|0)!=(Be|0))){ge=24;break e}Q=Q+8|0}while((Q|0)!=($|0))}if(e[f>>2]=0,e[f>>2]=e[J+(se<<2)>>2],e[b>>2]=ie,($|0)==(e[C>>2]|0)?AL(l,f):(Q=f,P=e[Q+4>>2]|0,N=$,e[N>>2]=e[Q>>2],e[N+4>>2]=P,e[d>>2]=(e[d>>2]|0)+8),(se|0)==-1){ge=38;break}if(P=e[(e[m>>2]|0)+(se<<2)>>2]|0,(P|0)==-1){ge=38;break}if(N=P+(((P>>>0)%3|0|0)==0?2:-1)|0,!((N|0)!=(j|0)&(N|0)!=-1)){ge=40;break}P=e[i>>2]|0,V=N,G=P,ee=e[o>>2]|0,J=P,O=e[l>>2]|0,$=e[d>>2]|0}if((ge|0)==24?(ge=0,(Be|0)==-1?(Ce=-1,We=-1,lt=_e,et=se):(ue=Be,Ee=_e,Pe=se,ge=25)):(ge|0)==38&&(ge=0,ge=40),(ge|0)==25)ge=0,Ce=ue,We=e[(e[m>>2]|0)+(ue<<2)>>2]|0,lt=Ee,et=Pe;else if((ge|0)==40){ge=0,Ve=S,He=e[i>>2]|0;break}(lt|0)!=-1&&(e[(e[m>>2]|0)+(lt<<2)>>2]=-1),j=e[m>>2]|0,(We|0)!=-1&&(e[j+(We<<2)>>2]=-1),e[j+(et<<2)>>2]=-1,e[j+(Ce<<2)>>2]=-1,Ve=1,He=G}while(0);if(D=D+1|0,st=e[h>>2]|0,L=He,D>>>0>=st-He>>2>>>0)break;S=Ve,I=He}if(Ve)w=L,x=st,u=He;else break}return He=e[l>>2]|0,He|0&&(l=e[d>>2]|0,(l|0)!=(He|0)&&(e[d>>2]=l+(~((l+-8-He|0)>>>3)<<3)),Ae(He)),He=e[o>>2]|0,He?(Ae(He),q=s,1):(q=s,1)}function co(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0;l=i+8|0;e:do if(e[l>>2]|0&&(f=e[i>>2]|0,h=i+4|0,e[i>>2]=h,e[(e[h>>2]|0)+8>>2]=0,e[h>>2]=0,e[l>>2]=0,u=e[f+4>>2]|0,g=(u|0)==0?f:u,g|0)){for(u=i+4|0,f=g,g=e[s>>2]|0;(g|0)!=(e[o>>2]|0);){d=f+16|0,M3(d,g+16|0)|0,M3(f+28|0,g+28|0)|0,m=f+8|0,b=e[m>>2]|0;do if(b)if(w=e[b>>2]|0,(w|0)==(f|0)){if(e[b>>2]=0,x=e[b+4>>2]|0,x)S=x;else{C=b;break}for(;;){if(x=e[S>>2]|0,x|0){S=x;continue}if(x=e[S+4>>2]|0,x)S=x;else break}C=S;break}else{if(e[b+4>>2]=0,w)D=w;else{C=b;break}for(;;){if(x=e[D>>2]|0,x|0){D=x;continue}if(x=e[D+4>>2]|0,x)D=x;else break}C=D;break}else C=0;while(0);b=e[h>>2]|0;do if(b){for(w=Y[d+11>>0]|0,x=w<<24>>24<0,I=x?e[f+20>>2]|0:w&255,w=x?e[d>>2]|0:d,x=b;;){if(L=x+16|0,P=Y[L+11>>0]|0,N=P<<24>>24<0,X=N?e[x+20>>2]|0:P&255,P=X>>>0<I>>>0?X:I,(P|0)!=0&&(j=vs(w,N?e[L>>2]|0:L,P)|0,(j|0)!=0)?(j|0)<0?Q=22:Q=24:I>>>0<X>>>0?Q=22:Q=24,(Q|0)==22)if(Q=0,X=e[x>>2]|0,X)V=X;else{Q=23;break}else if((Q|0)==24)if(Q=0,G=x+4|0,X=e[G>>2]|0,X)V=X;else{Q=26;break}x=V}if((Q|0)==23){Q=0,ee=x,J=x;break}else if((Q|0)==26){Q=0,ee=G,J=x;break}}else ee=h,J=h;while(0);if(e[f>>2]=0,e[f+4>>2]=0,e[m>>2]=J,e[ee>>2]=f,b=e[e[i>>2]>>2]|0,b?(e[i>>2]=b,O=e[ee>>2]|0):O=f,of(e[u>>2]|0,O),e[l>>2]=(e[l>>2]|0)+1,b=e[g+4>>2]|0,b){for(I=b;m=e[I>>2]|0,m;)I=m;$=I}else if(d=g+8|0,I=e[d>>2]|0,(e[I>>2]|0)==(g|0))$=I;else{I=d;do d=e[I>>2]|0,I=d+8|0,w=e[I>>2]|0;while((e[w>>2]|0)!=(d|0));$=w}if(e[s>>2]=$,C)f=C,g=$;else break e}if(g=e[f+8>>2]|0,!g)ie=f;else{for(u=g;g=e[u+8>>2]|0,g;)u=g;ie=u}hs(i,ie)}while(0);if(ie=e[s>>2]|0,$=e[o>>2]|0,(ie|0)!=($|0))for(se=ie;;){if(bm(i,se+16|0)|0,ie=e[se+4>>2]|0,ie){for(C=ie;u=e[C>>2]|0,u;)C=u;ue=C}else if(o=se+8|0,C=e[o>>2]|0,(e[C>>2]|0)==(se|0))ue=C;else{C=o;do o=e[C>>2]|0,C=o+8|0,l=e[C>>2]|0;while((e[l>>2]|0)!=(o|0));ue=l}if(e[s>>2]=ue,(ue|0)==($|0))break;se=ue}}function x0(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0;f=q,q=q+16|0,h=f,u=s+4|0,e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=0,g=It(16)|0,e[h>>2]=g,e[h+8>>2]=-2147483632,e[h+4>>2]=15,d=g,m=12916,b=d+15|0;do Y[d>>0]=Y[m>>0]|0,d=d+1|0,m=m+1|0;while((d|0)<(b|0));switch(Y[g+15>>0]=0,g=bo(u,h,-1)|0,(Y[h+11>>0]|0)<0&&Ae(e[h>>2]|0),g|0){case 0:{w=It(56)|0,d=w,b=d+56|0;do e[d>>2]=0,d=d+4|0;while((d|0)<(b|0));Im(w),x=3728,C=w;break}case-1:{if((sl(u)|0)==10){w=It(56)|0,d=w,b=d+56|0;do e[d>>2]=0,d=d+4|0;while((d|0)<(b|0));Im(w),x=3728,C=w}else S=6;break}default:S=6}e:do if((S|0)==6){w=o+8|0,D=o+12|0,I=e[D>>2]|0,L=e[w>>2]|0;t:do if((I-L|0)>0){P=h+8|0,N=h+4|0,X=s+20|0,j=h+11|0,Q=0,V=L,G=I;r:for(;;){switch(ee=e[(e[V+(Q<<2)>>2]|0)+28>>2]|0,ee|0){case 9:{S=12;break}case 6:case 5:case 4:case 2:{J=V,O=G;break}default:{if((ee|2|0)!=3)break r;(ee|0)==9?S=12:(J=V,O=G)}}if((S|0)==12){S=0,e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=0,ee=It(32)|0,e[h>>2]=ee,e[P>>2]=-2147483616,e[N>>2]=17,d=ee,m=12932,b=d+17|0;do Y[d>>0]=Y[m>>0]|0,d=d+1|0,m=m+1|0;while((d|0)<(b|0));if(Y[ee+17>>0]=0,$=e[X>>2]|0,$){ie=X,se=$;i:for(;;){for($=se;!((e[$+16>>2]|0)>=0);)if(ue=e[$+4>>2]|0,ue)$=ue;else{Ee=ie;break i}if(se=e[$>>2]|0,se)ie=$;else{Ee=$;break}}(Ee|0)!=(X|0)&&(e[Ee+16>>2]|0)<=0&&(ie=Ee+20|0,(go(ie,h)|0)!=0)?Pe=bo(ie,h,-1)|0:S=21}else S=21;if((S|0)==21&&(S=0,Pe=bo(u,h,-1)|0),(Y[j>>0]|0)<0&&Ae(e[h>>2]|0),(Pe|0)<1)break;J=e[w>>2]|0,O=e[D>>2]|0}if(Q=Q+1|0,(Q|0)>=(O-J>>2|0))break t;V=J,G=O}if((g|0)!=1){G=It(56)|0,d=G,b=d+56|0;do e[d>>2]=0,d=d+4|0;while((d|0)<(b|0));Im(G),x=3728,C=G;break e}e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=0,V=It(32)|0,e[h>>2]=V,e[h+8>>2]=-2147483616,e[h+4>>2]=24,d=V,m=12950,b=d+24|0;do Y[d>>0]=Y[m>>0]|0,d=d+1|0,m=m+1|0;while((d|0)<(b|0));Y[V+24>>0]=0,e[i>>2]=-1,T0(i+4|0,h),(Y[h+11>>0]|0)<0&&Ae(e[h>>2]|0),q=f;return}while(0);D=It(56)|0,d=D,b=d+56|0;do e[d>>2]=0,d=d+4|0;while((d|0)<(b|0));Im(D),x=3668,C=D}while(0);e[C>>2]=x,L3(C,o),Nu(i,C,u,l),e[i>>2]|0||(l=i+4|0,(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0),e[s+40>>2]=e[C+52>>2],e[s+44>>2]=0,e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0),On[e[(e[C>>2]|0)+4>>2]&127](C),q=f}function Cs(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0;if(s=q,q=q+32|0,o=s+4|0,l=s,f=i+16|0,h=e[f>>2]|0,h>>>0>112){e[f>>2]=h+-113,h=i+4|0,f=e[h>>2]|0,u=e[f>>2]|0,g=f+4|0,e[h>>2]=g,f=i+8|0,d=e[f>>2]|0,m=i+12|0,b=e[m>>2]|0,w=b;do if((d|0)==(b|0)){if(x=e[i>>2]|0,C=x,g>>>0>x>>>0){S=g,D=((S-C>>2)+1|0)/-2|0,I=g+(D<<2)|0,L=d-S|0,S=L>>2,S?(Q0(I|0,g|0,L|0)|0,P=e[h>>2]|0):P=g,L=I+(S<<2)|0,e[f>>2]=L,e[h>>2]=P+(D<<2),N=L;break}if(L=w-C>>1,C=(L|0)==0?1:L,C>>>0>1073741823&&(L=An(8)|0,c0(L,14941),e[L>>2]=6944,yn(L|0,1080,114)),L=It(C<<2)|0,D=L,S=L+(C>>>2<<2)|0,I=S,X=L+(C<<2)|0,(g|0)==(d|0))j=I,Q=x;else{x=S,S=I,C=g;do e[x>>2]=e[C>>2],x=S+4|0,S=x,C=C+4|0;while((C|0)!=(d|0));j=S,Q=e[i>>2]|0}e[i>>2]=D,e[h>>2]=I,e[f>>2]=j,e[m>>2]=X,Q?(Ae(Q),N=e[f>>2]|0):N=j}else N=d;while(0);e[N>>2]=u,e[f>>2]=(e[f>>2]|0)+4,q=s;return}if(f=i+8|0,u=e[f>>2]|0,N=i+4|0,d=u-(e[N>>2]|0)|0,Q=i+12|0,j=e[Q>>2]|0,m=j-(e[i>>2]|0)|0,d>>>0>=m>>>0){for(h=m>>1,m=(h|0)==0?1:h,e[o+12>>2]=0,e[o+16>>2]=i+12,m>>>0>1073741823&&(h=An(8)|0,c0(h,14941),e[h>>2]=6944,yn(h|0,1080,114)),h=It(m<<2)|0,e[o>>2]=h,g=h+(d>>2<<2)|0,d=o+8|0,e[d>>2]=g,w=o+4|0,e[w>>2]=g,g=o+12|0,e[g>>2]=h+(m<<2),m=It(4068)|0,e[l>>2]=m,Qs(o,l),l=e[f>>2]|0;V=e[N>>2]|0,(l|0)!=(V|0);)m=l+-4|0,Ri(o,m),l=m;m=V,V=e[i>>2]|0,e[i>>2]=e[o>>2],e[o>>2]=V,e[N>>2]=e[w>>2],e[w>>2]=m,w=e[f>>2]|0,e[f>>2]=e[d>>2],e[d>>2]=w,h=e[Q>>2]|0,e[Q>>2]=e[g>>2],e[g>>2]=h,h=w,(l|0)!=(h|0)&&(e[d>>2]=h+(~((h+-4-m|0)>>>2)<<2)),V|0&&Ae(V),q=s;return}if((j|0)!=(u|0)){u=It(4068)|0,e[o>>2]=u,Qs(i,o),q=s;return}u=It(4068)|0,e[o>>2]=u,Ri(i,o),o=e[N>>2]|0,u=e[o>>2]|0,j=o+4|0,e[N>>2]=j,o=e[f>>2]|0,V=e[Q>>2]|0,m=V;do if((o|0)==(V|0)){if(h=e[i>>2]|0,d=h,j>>>0>h>>>0){l=j,w=((l-d>>2)+1|0)/-2|0,g=j+(w<<2)|0,P=o-l|0,l=P>>2,l?(Q0(g|0,j|0,P|0)|0,G=e[N>>2]|0):G=j,P=g+(l<<2)|0,e[f>>2]=P,e[N>>2]=G+(w<<2),ee=P;break}if(P=m-d>>1,d=(P|0)==0?1:P,d>>>0>1073741823&&(P=An(8)|0,c0(P,14941),e[P>>2]=6944,yn(P|0,1080,114)),P=It(d<<2)|0,w=P,l=P+(d>>>2<<2)|0,g=l,b=P+(d<<2)|0,(j|0)==(o|0))J=g,O=h;else{h=l,l=g,d=j;do e[h>>2]=e[d>>2],h=l+4|0,l=h,d=d+4|0;while((d|0)!=(o|0));J=l,O=e[i>>2]|0}e[i>>2]=w,e[N>>2]=g,e[f>>2]=J,e[Q>>2]=b,O?(Ae(O),ee=e[f>>2]|0):ee=J}else ee=o;while(0);e[ee>>2]=u,e[f>>2]=(e[f>>2]|0)+4,q=s}function Wf(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0;if(l=q,q=q+16|0,f=l+8|0,h=l+4|0,u=l,g=i+64|0,d=e[g>>2]|0,(e[d+28>>2]|0)==(e[d+24>>2]|0)){q=l;return}for(m=s+96|0,s=i+52|0,b=o+84|0,w=o+68|0,o=i+56|0,x=i+60|0,C=i+12|0,S=i+28|0,D=i+40|0,I=i+44|0,L=i+48|0,P=0,N=0,X=d;;){if(d=e[(e[X+24>>2]|0)+(N<<2)>>2]|0,(d|0)==-1)j=P,Q=X;else{V=P+1|0,G=e[(e[m>>2]|0)+(((d|0)/3|0)*12|0)+(((d|0)%3|0)<<2)>>2]|0,Y[b>>0]|0?ee=G:ee=e[(e[w>>2]|0)+(G<<2)>>2]|0,e[f>>2]=ee,G=e[o>>2]|0,G>>>0<(e[x>>2]|0)>>>0?(e[G>>2]=ee,e[o>>2]=G+4):pi(s,f),e[f>>2]=d,e[h>>2]=0;e:do if(!(e[(e[C>>2]|0)+(N>>>5<<2)>>2]&1<<(N&31)))J=d;else{if(G=d+1|0,O=((G>>>0)%3|0|0)==0?d+-2|0:G,(O|0)!=-1&&(e[(e[i>>2]|0)+(O>>>5<<2)>>2]&1<<(O&31)|0)==0&&(G=e[(e[(e[g>>2]|0)+12>>2]|0)+(O<<2)>>2]|0,O=G+1|0,(G|0)!=-1)){if($=((O>>>0)%3|0|0)==0?G+-2|0:O,e[h>>2]=$,($|0)==-1){J=d;break}else ie=$;for(;e[f>>2]=ie,$=ie+1|0,O=(($>>>0)%3|0|0)==0?ie+-2|0:$,!((O|0)==-1||e[(e[i>>2]|0)+(O>>>5<<2)>>2]&1<<(O&31)|0||($=e[(e[(e[g>>2]|0)+12>>2]|0)+(O<<2)>>2]|0,O=$+1|0,($|0)==-1));)if(G=((O>>>0)%3|0|0)==0?$+-2|0:O,e[h>>2]=G,(G|0)==-1){J=ie;break e}else ie=G;e[h>>2]=-1,J=ie;break}e[h>>2]=-1,J=d}while(0);e[(e[S>>2]|0)+(J<<2)>>2]=P,d=e[I>>2]|0,(d|0)==(e[L>>2]|0)?pi(D,f):(e[d>>2]=e[f>>2],e[I>>2]=d+4),d=e[g>>2]|0,G=e[f>>2]|0;e:do if((G|0)!=-1&&(O=(((G>>>0)%3|0|0)==0?2:-1)+G|0,(O|0)!=-1)&&($=e[(e[d+12>>2]|0)+(O<<2)>>2]|0,($|0)!=-1))if(O=$+((($>>>0)%3|0|0)==0?2:-1)|0,e[h>>2]=O,(O|0)!=-1&(O|0)!=(G|0)){for($=V,se=P,ue=O;;){O=ue+1|0,Ee=((O>>>0)%3|0|0)==0?ue+-2|0:O;do if(e[(e[i>>2]|0)+(Ee>>>5<<2)>>2]&1<<(Ee&31))if(O=$+1|0,Pe=e[(e[m>>2]|0)+(((ue|0)/3|0)*12|0)+(((ue|0)%3|0)<<2)>>2]|0,Y[b>>0]|0?ge=Pe:ge=e[(e[w>>2]|0)+(Pe<<2)>>2]|0,e[u>>2]=ge,Pe=e[o>>2]|0,Pe>>>0<(e[x>>2]|0)>>>0?(e[Pe>>2]=ge,e[o>>2]=Pe+4):pi(s,u),Pe=e[I>>2]|0,(Pe|0)==(e[L>>2]|0)){pi(D,h),Be=O,_e=$;break}else{e[Pe>>2]=e[h>>2],e[I>>2]=Pe+4,Be=O,_e=$;break}else Be=$,_e=se;while(0);if(e[(e[S>>2]|0)+(e[h>>2]<<2)>>2]=_e,Ce=e[g>>2]|0,Ee=e[h>>2]|0,(Ee|0)==-1||(O=(((Ee>>>0)%3|0|0)==0?2:-1)+Ee|0,(O|0)==-1)||(Ee=e[(e[Ce+12>>2]|0)+(O<<2)>>2]|0,(Ee|0)==-1))break;if(ue=Ee+(((Ee>>>0)%3|0|0)==0?2:-1)|0,e[h>>2]=ue,(ue|0)!=-1&&(ue|0)!=(e[f>>2]|0))$=Be,se=_e;else{We=Be,lt=Ce;break e}}e[h>>2]=-1,We=Be,lt=Ce}else We=V,lt=d;else et=28;while(0);(et|0)==28&&(et=0,e[h>>2]=-1,We=V,lt=d),j=We,Q=lt}if(N=N+1|0,N>>>0>=(e[Q+28>>2]|0)-(e[Q+24>>2]|0)>>2>>>0)break;P=j,X=Q}q=l}function Qf(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0;switch(s|0){case 0:{l=-149,f=24,h=4;break}case 1:{l=-1074,f=53,h=4;break}case 2:{l=-1074,f=53,h=4;break}default:u=0}e:do if((h|0)==4){s=i+4|0,g=i+100|0;do d=e[s>>2]|0,d>>>0<(e[g>>2]|0)>>>0?(e[s>>2]=d+1,m=br[d>>0]|0):m=io(i)|0;while((CC(m)|0)!=0);t:do switch(m|0){case 43:case 45:if(d=1-(((m|0)==45&1)<<1)|0,b=e[s>>2]|0,b>>>0<(e[g>>2]|0)>>>0){e[s>>2]=b+1,w=br[b>>0]|0,x=d;break t}else{w=io(i)|0,x=d;break t}default:w=m,x=1}while(0);for(d=0,b=w;;){if((b|32|0)!=(Y[17452+d>>0]|0)){C=d,S=b;break}do if(d>>>0<7)if(D=e[s>>2]|0,D>>>0<(e[g>>2]|0)>>>0){e[s>>2]=D+1,I=br[D>>0]|0;break}else{I=io(i)|0;break}else I=b;while(0);if(D=d+1|0,D>>>0<8)d=D,b=I;else{C=D,S=I;break}}t:do switch(C|0){case 8:break;case 3:{h=23;break}default:{if(b=(o|0)!=0,b&C>>>0>3){if((C|0)==8)break t;h=23;break t}r:do if(C)L=C,P=S;else for(d=0,D=S;;){if((D|32|0)!=(Y[17461+d>>0]|0)){L=d,P=D;break r}do if(d>>>0<2)if(N=e[s>>2]|0,N>>>0<(e[g>>2]|0)>>>0){e[s>>2]=N+1,X=br[N>>0]|0;break}else{X=io(i)|0;break}else X=D;while(0);if(N=d+1|0,N>>>0<3)d=N,D=X;else{L=N,P=X;break}}while(0);switch(L|0){case 3:{if(D=e[s>>2]|0,D>>>0<(e[g>>2]|0)>>>0?(e[s>>2]=D+1,j=br[D>>0]|0):j=io(i)|0,(j|0)==40)Q=1;else{if(!(e[g>>2]|0)){u=nf;break e}e[s>>2]=(e[s>>2]|0)+-1,u=nf;break e}for(;D=e[s>>2]|0,D>>>0<(e[g>>2]|0)>>>0?(e[s>>2]=D+1,V=br[D>>0]|0):V=io(i)|0,!(!((V+-48|0)>>>0<10|(V+-65|0)>>>0<26)&&!((V|0)==95|(V+-97|0)>>>0<26));)Q=Q+1|0;if((V|0)==41){u=nf;break e}if(D=(e[g>>2]|0)==0,D||(e[s>>2]=(e[s>>2]|0)+-1),!b){d=ca()|0,e[d>>2]=22,md(i,0),u=0;break e}if(Q)G=Q;else{u=nf;break e}for(;;)if(G=G+-1|0,D||(e[s>>2]=(e[s>>2]|0)+-1),!G){u=nf;break e}break}case 0:{if((P|0)==48){if(D=e[s>>2]|0,D>>>0<(e[g>>2]|0)>>>0?(e[s>>2]=D+1,ee=br[D>>0]|0):ee=io(i)|0,(ee|32|0)==120){u=+q1(i,f,l,x,o);break e}e[g>>2]|0&&(e[s>>2]=(e[s>>2]|0)+-1),J=48}else J=P;u=+cP(i,J,f,l,x,o);break e}default:{e[g>>2]|0&&(e[s>>2]=(e[s>>2]|0)+-1),D=ca()|0,e[D>>2]=22,md(i,0),u=0;break e}}}}while(0);if((h|0)==23&&(D=(e[g>>2]|0)==0,D||(e[s>>2]=(e[s>>2]|0)+-1),(o|0)!=0&C>>>0>3)){b=C;do D||(e[s>>2]=(e[s>>2]|0)+-1),b=b+-1|0;while(b>>>0>3)}u=+Zt(Zt(x|0)*Zt(Sc))}while(0);return+u}function Kb(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0;if(s=q,q=q+16|0,o=s+4|0,l=s,f=e[i+64>>2]|0,!f){q=s;return}if(h=kn[e[(e[f>>2]|0)+32>>2]&127](f)|0,!h){q=s;return}if(f=h+24|0,u=h+28|0,g=((e[u>>2]|0)-(e[f>>2]|0)>>2)-(e[h+44>>2]|0)|0,d=i+56|0,m=e[d>>2]|0,((e[m+12>>2]|0)-(e[m+8>>2]|0)|0)>4){for(e[o>>2]=0,b=o+4|0,e[b>>2]=0,e[o+8>>2]=0,w=o+8|0,x=0,C=m;;){if(!(e[(e[(e[C+8>>2]|0)+(x<<2)>>2]|0)+56>>2]|0))S=C;else{m=M0[e[(e[i>>2]|0)+56>>2]&127](i,x)|0,e[l>>2]=m,D=m;do if(m|0)if(I=e[b>>2]|0,(I|0)==(e[w>>2]|0)){pi(o,l);break}else{e[I>>2]=D,e[b>>2]=(e[b>>2]|0)+4;break}while(0);S=e[d>>2]|0}if(x=x+1|0,(x|0)>=((e[S+12>>2]|0)-(e[S+8>>2]|0)>>2|0))break;C=S}if(C=e[u>>2]|0,u=e[f>>2]|0,f=u,(C|0)==(u|0))L=g,P=e[o>>2]|0;else for(x=C-u>>2,u=h+12|0,h=e[b>>2]|0,C=e[o>>2]|0,o=(h|0)==(C|0),d=C,l=h-C>>2,C=S+96|0,S=g,h=0;;){if(w=e[f+(h<<2)>>2]|0,(w|0)==-1)N=S;else{D=e[C>>2]|0,m=e[D+(((w|0)/3|0)*12|0)+(((w|0)%3|0)<<2)>>2]|0,I=(((w>>>0)%3|0|0)==0?2:-1)+w|0;e:do if((I|0)!=-1&&(X=e[(e[u>>2]|0)+(I<<2)>>2]|0,(X|0)!=-1)&&(j=X+(((X>>>0)%3|0|0)==0?2:-1)|0,(j|0)!=-1)){if(o)for(X=0,Q=j,V=m;;){if(G=V,V=e[D+(((Q|0)/3|0)*12|0)+(((Q|0)%3|0)<<2)>>2]|0,ee=X+((V|0)!=(G|0)&1)|0,(Q|0)==(w|0)){J=ee;break e}if(G=(((Q>>>0)%3|0|0)==0?2:-1)+Q|0,(G|0)==-1){J=ee;break e}if(O=e[(e[u>>2]|0)+(G<<2)>>2]|0,(O|0)==-1){J=ee;break e}if(Q=O+(((O>>>0)%3|0|0)==0?2:-1)|0,(Q|0)==-1){J=ee;break e}else X=ee}else $=0,ie=j,se=w,ue=m;for(;;){X=e[D+(((ie|0)/3|0)*12|0)+(((ie|0)%3|0)<<2)>>2]|0;t:do if((X|0)==(ue|0))for(Q=0;;){if(V=e[(e[d+(Q<<2)>>2]|0)+28>>2]|0,Q=Q+1|0,(e[V+(ie<<2)>>2]|0)!=(e[V+(se<<2)>>2]|0)){Ee=ue,Pe=28;break t}if(Q>>>0>=l>>>0){ge=ue,Be=$;break}}else Ee=X,Pe=28;while(0);if((Pe|0)==28&&(Pe=0,ge=Ee,Be=$+1|0),(ie|0)==(w|0)){J=Be;break e}if(X=(((ie>>>0)%3|0|0)==0?2:-1)+ie|0,(X|0)==-1){J=Be;break e}if(Q=e[(e[u>>2]|0)+(X<<2)>>2]|0,(Q|0)==-1){J=Be;break e}if(X=Q+(((Q>>>0)%3|0|0)==0?2:-1)|0,(X|0)==-1){J=Be;break}else Q=ie,$=Be,ie=X,ue=ge,se=Q}}else J=0;while(0);w=e[f+(h<<2)>>2]|0,D=w+1|0,(w|0)!=-1&&(m=((D>>>0)%3|0|0)==0?w+-2|0:D,(m|0)!=-1)&&(D=e[(e[u>>2]|0)+(m<<2)>>2]|0,m=D+1|0,(D|0)!=-1)?_e=((((m>>>0)%3|0|0)==0?D+-2|0:m)|0)==-1:_e=1,N=J+S+(((J|0)!=0&(_e^1))<<31>>31)|0}if(h=h+1|0,h>>>0>=x>>>0){L=N,P=d;break}else S=N}P|0&&(N=e[b>>2]|0,(N|0)!=(P|0)&&(e[b>>2]=N+(~((N+-4-P|0)>>>2)<<2)),Ae(P)),Ce=L}else Ce=g;e[i+52>>2]=Ce,q=s}function K1(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0;if(u=q,q=q+32|0,g=u+4|0,d=u,m=u+16|0,b=(S0(l|0)|0)^31,(l|0)>0){if(b>>>0>17)return w=0,q=u,w|0;x=b+1|0}else x=1;do if(f){b=It(48)|0,e[g>>2]=b,e[g+8>>2]=-2147483600,e[g+4>>2]=33,l=b,C=13067,S=l+33|0;do Y[l>>0]=Y[C>>0]|0,l=l+1|0,C=C+1|0;while((l|0)<(S|0));if(Y[b+33>>0]=0,D=(go(f,g)|0)==0,(Y[g+11>>0]|0)<0&&Ae(e[g>>2]|0),D)I=x;else{D=It(48)|0,e[g>>2]=D,e[g+8>>2]=-2147483600,e[g+4>>2]=33,l=D,C=13067,S=l+33|0;do Y[l>>0]=Y[C>>0]|0,l=l+1|0,C=C+1|0;while((l|0)<(S|0));if(Y[D+33>>0]=0,C=_k(f,g)|0,(Y[g+11>>0]|0)<0&&Ae(e[g>>2]|0),(C|0)<4){I=x+-2|0;break}if((C|0)<6){I=x+-1|0;break}if((C|0)>9){I=x+2|0;break}else{I=x+((C|0)>7&1)|0;break}}}else I=x;while(0);x=(I|0)>1?I:1,I=(x|0)<18?x:18,Y[m>>0]=I,x=h+16|0,f=e[x+4>>2]|0,(f|0)>0|(f|0)==0&(e[x>>2]|0)>>>0>0||(e[d>>2]=e[h+4>>2],e[g>>2]=e[d>>2],wi(h,g,m,m+1|0)|0);do switch(I&31){case 1:case 0:return w=sd(i,s,o,h)|0,q=u,w|0;case 2:return w=Zf(i,s,o,h)|0,q=u,w|0;case 3:return w=k6(i,s,o,h)|0,q=u,w|0;case 4:return w=_6(i,s,o,h)|0,q=u,w|0;case 5:return w=E6(i,s,o,h)|0,q=u,w|0;case 6:return w=by(i,s,o,h)|0,q=u,w|0;case 7:return w=gy(i,s,o,h)|0,q=u,w|0;case 8:return w=my(i,s,o,h)|0,q=u,w|0;case 9:return w=x6(i,s,o,h)|0,q=u,w|0;case 10:return w=A6(i,s,o,h)|0,q=u,w|0;case 11:return w=w6(i,s,o,h)|0,q=u,w|0;case 12:return w=py(i,s,o,h)|0,q=u,w|0;case 13:return w=Yo(i,s,o,h)|0,q=u,w|0;case 14:return w=v6(i,s,o,h)|0,q=u,w|0;case 15:return w=y6(i,s,o,h)|0,q=u,w|0;case 16:return w=b6(i,s,o,h)|0,q=u,w|0;case 17:return w=dy(i,s,o,h)|0,q=u,w|0;case 18:return w=g6(i,s,o,h)|0,q=u,w|0;default:return w=0,q=u,w|0}while(0);return 0}function $b(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;if(f=q,q=q+16|0,h=f,u=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(w=s+(d<<3)|0,x=e[w>>2]|0,C=e[w+4>>2]|0,w=Qt(x|0,C|0,m|0,b|0)|0,S=Ze,D=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=D,L=S,P=w;break}else g=D,m=w,b=S;else I=0,L=0,P=0;if(b=I+1|0,e[i+12>>2]=b,m=i+4|0,g=e[m>>2]|0,o=e[i>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Uo(i,b-d|0),N=+(P>>>0)+4294967296*+(L>>>0),L=(I|0)<0,L)j=0,Q=12;else{P=e[i>>2]|0,d=0,g=0;do o=s+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*1048576+.5)>>>0,w=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[P+(g<<3)>>2]=w,d=w+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==1048576){if(L)return X=0,q=f,X|0}else j=d,Q=12}if((Q|0)==12){e[u>>2]=0,d=u+4|0,e[d>>2]=0,e[u+8>>2]=0;do if(b)if(b>>>0>1073741823)qe();else{g=b<<2,P=It(g)|0,e[u>>2]=P,w=P+(b<<2)|0,e[u+8>>2]=w,Tr(P|0,0,g|0)|0,e[d>>2]=w,V=P,G=w;break}else V=0,G=0;while(0);if(!L&&(e[V>>2]=0,I|0)){w=1;do e[V+(w<<2)>>2]=w,w=w+1|0;while((w|0)!=(b|0))}e[h>>2]=i,r3(V,G,h);e:do if((j|0)<1048576)h=(e[i>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=1048576-j+(e[h>>2]|0),ee=0;else{if(h=e[u>>2]|0,(I|0)<=0){for(G=(j|0)>1048576;;)if(!G){ee=0;break e}}for(G=e[i>>2]|0,V=j+-1048576|0,w=j;;){for(N=1048576/+(w|0),P=I,g=V,o=w;;){if(S=G+(e[h+(P<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(D=m-~~+bn(+(N*+(m>>>0)))|0,C=(D|0)==0?1:D,D=(C|0)<(m|0)?C:m+-1|0,C=(D|0)>(g|0)?g:D,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==1048576){J=S,O=1048576;break}if((P|0)>1)P=P+-1|0,g=S,o=m;else{J=S,O=m;break}}if((Q|0)==28)if(Q=0,(P|0)==(I|0)){ee=1;break e}else J=g,O=o;if((J|0)>0)V=J,w=O;else{ee=0;break}}}while(0);if(O=e[u>>2]|0,O|0&&(u=e[d>>2]|0,(u|0)!=(O|0)&&(e[d>>2]=u+(~((u+-4-O|0)>>>2)<<2)),Ae(O)),(ee|0)!=0|L)return X=0,q=f,X|0}ee=e[i>>2]|0,O=0,u=0;do e[ee+(O<<3)+4>>2]=u,u=(e[ee+(O<<3)>>2]|0)+u|0,O=O+1|0;while((O|0)!=(b|0));if((u|0)!=1048576)return X=0,q=f,X|0;if(L)$=0;else for(L=e[i>>2]|0,u=0,N=0;;)if(O=e[L+(u<<3)>>2]|0,O?(ee=s+(u<<3)|0,se=+((e[ee>>2]|0)>>>0)+4294967296*+((e[ee+4>>2]|0)>>>0),ie=N+ +V0(+(O>>>0)*95367431640625e-20)*se):ie=N,u=u+1|0,(u|0)==(b|0)){$=ie;break}else N=ie;return ie=+yi(+-$),b=+u0(ie)>=1?ie>0?~~+n0(+bn(ie/4294967296),4294967295)>>>0:~~+yi((ie-+(~~ie>>>0))/4294967296)>>>0:0,u=i+16|0,e[u>>2]=~~ie>>>0,e[u+4>>2]=b,X=Ws(i,l)|0,q=f,X|0}function u6(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;if(f=q,q=q+16|0,h=f,u=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(w=s+(d<<3)|0,x=e[w>>2]|0,C=e[w+4>>2]|0,w=Qt(x|0,C|0,m|0,b|0)|0,S=Ze,D=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=D,L=S,P=w;break}else g=D,m=w,b=S;else I=0,L=0,P=0;if(b=I+1|0,e[i+12>>2]=b,m=i+4|0,g=e[m>>2]|0,o=e[i>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Uo(i,b-d|0),N=+(P>>>0)+4294967296*+(L>>>0),L=(I|0)<0,L)j=0,Q=12;else{P=e[i>>2]|0,d=0,g=0;do o=s+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*1048576+.5)>>>0,w=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[P+(g<<3)>>2]=w,d=w+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==1048576){if(L)return X=0,q=f,X|0}else j=d,Q=12}if((Q|0)==12){e[u>>2]=0,d=u+4|0,e[d>>2]=0,e[u+8>>2]=0;do if(b)if(b>>>0>1073741823)qe();else{g=b<<2,P=It(g)|0,e[u>>2]=P,w=P+(b<<2)|0,e[u+8>>2]=w,Tr(P|0,0,g|0)|0,e[d>>2]=w,V=P,G=w;break}else V=0,G=0;while(0);if(!L&&(e[V>>2]=0,I|0)){w=1;do e[V+(w<<2)>>2]=w,w=w+1|0;while((w|0)!=(b|0))}e[h>>2]=i,i3(V,G,h);e:do if((j|0)<1048576)h=(e[i>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=1048576-j+(e[h>>2]|0),ee=0;else{if(h=e[u>>2]|0,(I|0)<=0){for(G=(j|0)>1048576;;)if(!G){ee=0;break e}}for(G=e[i>>2]|0,V=j+-1048576|0,w=j;;){for(N=1048576/+(w|0),P=I,g=V,o=w;;){if(S=G+(e[h+(P<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(D=m-~~+bn(+(N*+(m>>>0)))|0,C=(D|0)==0?1:D,D=(C|0)<(m|0)?C:m+-1|0,C=(D|0)>(g|0)?g:D,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==1048576){J=S,O=1048576;break}if((P|0)>1)P=P+-1|0,g=S,o=m;else{J=S,O=m;break}}if((Q|0)==28)if(Q=0,(P|0)==(I|0)){ee=1;break e}else J=g,O=o;if((J|0)>0)V=J,w=O;else{ee=0;break}}}while(0);if(O=e[u>>2]|0,O|0&&(u=e[d>>2]|0,(u|0)!=(O|0)&&(e[d>>2]=u+(~((u+-4-O|0)>>>2)<<2)),Ae(O)),(ee|0)!=0|L)return X=0,q=f,X|0}ee=e[i>>2]|0,O=0,u=0;do e[ee+(O<<3)+4>>2]=u,u=(e[ee+(O<<3)>>2]|0)+u|0,O=O+1|0;while((O|0)!=(b|0));if((u|0)!=1048576)return X=0,q=f,X|0;if(L)$=0;else for(L=e[i>>2]|0,u=0,N=0;;)if(O=e[L+(u<<3)>>2]|0,O?(ee=s+(u<<3)|0,se=+((e[ee>>2]|0)>>>0)+4294967296*+((e[ee+4>>2]|0)>>>0),ie=N+ +V0(+(O>>>0)*95367431640625e-20)*se):ie=N,u=u+1|0,(u|0)==(b|0)){$=ie;break}else N=ie;return ie=+yi(+-$),b=+u0(ie)>=1?ie>0?~~+n0(+bn(ie/4294967296),4294967295)>>>0:~~+yi((ie-+(~~ie>>>0))/4294967296)>>>0:0,u=i+16|0,e[u>>2]=~~ie>>>0,e[u+4>>2]=b,X=Ws(i,l)|0,q=f,X|0}function $1(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;if(f=q,q=q+16|0,h=f,u=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(w=s+(d<<3)|0,x=e[w>>2]|0,C=e[w+4>>2]|0,w=Qt(x|0,C|0,m|0,b|0)|0,S=Ze,D=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=D,L=S,P=w;break}else g=D,m=w,b=S;else I=0,L=0,P=0;if(b=I+1|0,e[i+12>>2]=b,m=i+4|0,g=e[m>>2]|0,o=e[i>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Uo(i,b-d|0),N=+(P>>>0)+4294967296*+(L>>>0),L=(I|0)<0,L)j=0,Q=12;else{P=e[i>>2]|0,d=0,g=0;do o=s+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*1048576+.5)>>>0,w=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[P+(g<<3)>>2]=w,d=w+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==1048576){if(L)return X=0,q=f,X|0}else j=d,Q=12}if((Q|0)==12){e[u>>2]=0,d=u+4|0,e[d>>2]=0,e[u+8>>2]=0;do if(b)if(b>>>0>1073741823)qe();else{g=b<<2,P=It(g)|0,e[u>>2]=P,w=P+(b<<2)|0,e[u+8>>2]=w,Tr(P|0,0,g|0)|0,e[d>>2]=w,V=P,G=w;break}else V=0,G=0;while(0);if(!L&&(e[V>>2]=0,I|0)){w=1;do e[V+(w<<2)>>2]=w,w=w+1|0;while((w|0)!=(b|0))}e[h>>2]=i,n3(V,G,h);e:do if((j|0)<1048576)h=(e[i>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=1048576-j+(e[h>>2]|0),ee=0;else{if(h=e[u>>2]|0,(I|0)<=0){for(G=(j|0)>1048576;;)if(!G){ee=0;break e}}for(G=e[i>>2]|0,V=j+-1048576|0,w=j;;){for(N=1048576/+(w|0),P=I,g=V,o=w;;){if(S=G+(e[h+(P<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(D=m-~~+bn(+(N*+(m>>>0)))|0,C=(D|0)==0?1:D,D=(C|0)<(m|0)?C:m+-1|0,C=(D|0)>(g|0)?g:D,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==1048576){J=S,O=1048576;break}if((P|0)>1)P=P+-1|0,g=S,o=m;else{J=S,O=m;break}}if((Q|0)==28)if(Q=0,(P|0)==(I|0)){ee=1;break e}else J=g,O=o;if((J|0)>0)V=J,w=O;else{ee=0;break}}}while(0);if(O=e[u>>2]|0,O|0&&(u=e[d>>2]|0,(u|0)!=(O|0)&&(e[d>>2]=u+(~((u+-4-O|0)>>>2)<<2)),Ae(O)),(ee|0)!=0|L)return X=0,q=f,X|0}ee=e[i>>2]|0,O=0,u=0;do e[ee+(O<<3)+4>>2]=u,u=(e[ee+(O<<3)>>2]|0)+u|0,O=O+1|0;while((O|0)!=(b|0));if((u|0)!=1048576)return X=0,q=f,X|0;if(L)$=0;else for(L=e[i>>2]|0,u=0,N=0;;)if(O=e[L+(u<<3)>>2]|0,O?(ee=s+(u<<3)|0,se=+((e[ee>>2]|0)>>>0)+4294967296*+((e[ee+4>>2]|0)>>>0),ie=N+ +V0(+(O>>>0)*95367431640625e-20)*se):ie=N,u=u+1|0,(u|0)==(b|0)){$=ie;break}else N=ie;return ie=+yi(+-$),b=+u0(ie)>=1?ie>0?~~+n0(+bn(ie/4294967296),4294967295)>>>0:~~+yi((ie-+(~~ie>>>0))/4294967296)>>>0:0,u=i+16|0,e[u>>2]=~~ie>>>0,e[u+4>>2]=b,X=Ws(i,l)|0,q=f,X|0}function Kh(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;if(f=q,q=q+16|0,h=f,u=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(w=s+(d<<3)|0,x=e[w>>2]|0,C=e[w+4>>2]|0,w=Qt(x|0,C|0,m|0,b|0)|0,S=Ze,D=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=D,L=S,P=w;break}else g=D,m=w,b=S;else I=0,L=0,P=0;if(b=I+1|0,e[i+12>>2]=b,m=i+4|0,g=e[m>>2]|0,o=e[i>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Uo(i,b-d|0),N=+(P>>>0)+4294967296*+(L>>>0),L=(I|0)<0,L)j=0,Q=12;else{P=e[i>>2]|0,d=0,g=0;do o=s+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*1048576+.5)>>>0,w=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[P+(g<<3)>>2]=w,d=w+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==1048576){if(L)return X=0,q=f,X|0}else j=d,Q=12}if((Q|0)==12){e[u>>2]=0,d=u+4|0,e[d>>2]=0,e[u+8>>2]=0;do if(b)if(b>>>0>1073741823)qe();else{g=b<<2,P=It(g)|0,e[u>>2]=P,w=P+(b<<2)|0,e[u+8>>2]=w,Tr(P|0,0,g|0)|0,e[d>>2]=w,V=P,G=w;break}else V=0,G=0;while(0);if(!L&&(e[V>>2]=0,I|0)){w=1;do e[V+(w<<2)>>2]=w,w=w+1|0;while((w|0)!=(b|0))}e[h>>2]=i,s3(V,G,h);e:do if((j|0)<1048576)h=(e[i>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=1048576-j+(e[h>>2]|0),ee=0;else{if(h=e[u>>2]|0,(I|0)<=0){for(G=(j|0)>1048576;;)if(!G){ee=0;break e}}for(G=e[i>>2]|0,V=j+-1048576|0,w=j;;){for(N=1048576/+(w|0),P=I,g=V,o=w;;){if(S=G+(e[h+(P<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(D=m-~~+bn(+(N*+(m>>>0)))|0,C=(D|0)==0?1:D,D=(C|0)<(m|0)?C:m+-1|0,C=(D|0)>(g|0)?g:D,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==1048576){J=S,O=1048576;break}if((P|0)>1)P=P+-1|0,g=S,o=m;else{J=S,O=m;break}}if((Q|0)==28)if(Q=0,(P|0)==(I|0)){ee=1;break e}else J=g,O=o;if((J|0)>0)V=J,w=O;else{ee=0;break}}}while(0);if(O=e[u>>2]|0,O|0&&(u=e[d>>2]|0,(u|0)!=(O|0)&&(e[d>>2]=u+(~((u+-4-O|0)>>>2)<<2)),Ae(O)),(ee|0)!=0|L)return X=0,q=f,X|0}ee=e[i>>2]|0,O=0,u=0;do e[ee+(O<<3)+4>>2]=u,u=(e[ee+(O<<3)>>2]|0)+u|0,O=O+1|0;while((O|0)!=(b|0));if((u|0)!=1048576)return X=0,q=f,X|0;if(L)$=0;else for(L=e[i>>2]|0,u=0,N=0;;)if(O=e[L+(u<<3)>>2]|0,O?(ee=s+(u<<3)|0,se=+((e[ee>>2]|0)>>>0)+4294967296*+((e[ee+4>>2]|0)>>>0),ie=N+ +V0(+(O>>>0)*95367431640625e-20)*se):ie=N,u=u+1|0,(u|0)==(b|0)){$=ie;break}else N=ie;return ie=+yi(+-$),b=+u0(ie)>=1?ie>0?~~+n0(+bn(ie/4294967296),4294967295)>>>0:~~+yi((ie-+(~~ie>>>0))/4294967296)>>>0:0,u=i+16|0,e[u>>2]=~~ie>>>0,e[u+4>>2]=b,X=Ws(i,l)|0,q=f,X|0}function ey(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;if(f=q,q=q+16|0,h=f,u=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(w=s+(d<<3)|0,x=e[w>>2]|0,C=e[w+4>>2]|0,w=Qt(x|0,C|0,m|0,b|0)|0,S=Ze,D=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=D,L=S,P=w;break}else g=D,m=w,b=S;else I=0,L=0,P=0;if(b=I+1|0,e[i+12>>2]=b,m=i+4|0,g=e[m>>2]|0,o=e[i>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Uo(i,b-d|0),N=+(P>>>0)+4294967296*+(L>>>0),L=(I|0)<0,L)j=0,Q=12;else{P=e[i>>2]|0,d=0,g=0;do o=s+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*1048576+.5)>>>0,w=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[P+(g<<3)>>2]=w,d=w+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==1048576){if(L)return X=0,q=f,X|0}else j=d,Q=12}if((Q|0)==12){e[u>>2]=0,d=u+4|0,e[d>>2]=0,e[u+8>>2]=0;do if(b)if(b>>>0>1073741823)qe();else{g=b<<2,P=It(g)|0,e[u>>2]=P,w=P+(b<<2)|0,e[u+8>>2]=w,Tr(P|0,0,g|0)|0,e[d>>2]=w,V=P,G=w;break}else V=0,G=0;while(0);if(!L&&(e[V>>2]=0,I|0)){w=1;do e[V+(w<<2)>>2]=w,w=w+1|0;while((w|0)!=(b|0))}e[h>>2]=i,o3(V,G,h);e:do if((j|0)<1048576)h=(e[i>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=1048576-j+(e[h>>2]|0),ee=0;else{if(h=e[u>>2]|0,(I|0)<=0){for(G=(j|0)>1048576;;)if(!G){ee=0;break e}}for(G=e[i>>2]|0,V=j+-1048576|0,w=j;;){for(N=1048576/+(w|0),P=I,g=V,o=w;;){if(S=G+(e[h+(P<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(D=m-~~+bn(+(N*+(m>>>0)))|0,C=(D|0)==0?1:D,D=(C|0)<(m|0)?C:m+-1|0,C=(D|0)>(g|0)?g:D,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==1048576){J=S,O=1048576;break}if((P|0)>1)P=P+-1|0,g=S,o=m;else{J=S,O=m;break}}if((Q|0)==28)if(Q=0,(P|0)==(I|0)){ee=1;break e}else J=g,O=o;if((J|0)>0)V=J,w=O;else{ee=0;break}}}while(0);if(O=e[u>>2]|0,O|0&&(u=e[d>>2]|0,(u|0)!=(O|0)&&(e[d>>2]=u+(~((u+-4-O|0)>>>2)<<2)),Ae(O)),(ee|0)!=0|L)return X=0,q=f,X|0}ee=e[i>>2]|0,O=0,u=0;do e[ee+(O<<3)+4>>2]=u,u=(e[ee+(O<<3)>>2]|0)+u|0,O=O+1|0;while((O|0)!=(b|0));if((u|0)!=1048576)return X=0,q=f,X|0;if(L)$=0;else for(L=e[i>>2]|0,u=0,N=0;;)if(O=e[L+(u<<3)>>2]|0,O?(ee=s+(u<<3)|0,se=+((e[ee>>2]|0)>>>0)+4294967296*+((e[ee+4>>2]|0)>>>0),ie=N+ +V0(+(O>>>0)*95367431640625e-20)*se):ie=N,u=u+1|0,(u|0)==(b|0)){$=ie;break}else N=ie;return ie=+yi(+-$),b=+u0(ie)>=1?ie>0?~~+n0(+bn(ie/4294967296),4294967295)>>>0:~~+yi((ie-+(~~ie>>>0))/4294967296)>>>0:0,u=i+16|0,e[u>>2]=~~ie>>>0,e[u+4>>2]=b,X=Ws(i,l)|0,q=f,X|0}function em(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;if(f=q,q=q+16|0,h=f,u=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(w=s+(d<<3)|0,x=e[w>>2]|0,C=e[w+4>>2]|0,w=Qt(x|0,C|0,m|0,b|0)|0,S=Ze,D=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=D,L=S,P=w;break}else g=D,m=w,b=S;else I=0,L=0,P=0;if(b=I+1|0,e[i+12>>2]=b,m=i+4|0,g=e[m>>2]|0,o=e[i>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Uo(i,b-d|0),N=+(P>>>0)+4294967296*+(L>>>0),L=(I|0)<0,L)j=0,Q=12;else{P=e[i>>2]|0,d=0,g=0;do o=s+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*524288+.5)>>>0,w=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[P+(g<<3)>>2]=w,d=w+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==524288){if(L)return X=0,q=f,X|0}else j=d,Q=12}if((Q|0)==12){e[u>>2]=0,d=u+4|0,e[d>>2]=0,e[u+8>>2]=0;do if(b)if(b>>>0>1073741823)qe();else{g=b<<2,P=It(g)|0,e[u>>2]=P,w=P+(b<<2)|0,e[u+8>>2]=w,Tr(P|0,0,g|0)|0,e[d>>2]=w,V=P,G=w;break}else V=0,G=0;while(0);if(!L&&(e[V>>2]=0,I|0)){w=1;do e[V+(w<<2)>>2]=w,w=w+1|0;while((w|0)!=(b|0))}e[h>>2]=i,u3(V,G,h);e:do if((j|0)<524288)h=(e[i>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=524288-j+(e[h>>2]|0),ee=0;else{if(h=e[u>>2]|0,(I|0)<=0){for(G=(j|0)>524288;;)if(!G){ee=0;break e}}for(G=e[i>>2]|0,V=j+-524288|0,w=j;;){for(N=524288/+(w|0),P=I,g=V,o=w;;){if(S=G+(e[h+(P<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(D=m-~~+bn(+(N*+(m>>>0)))|0,C=(D|0)==0?1:D,D=(C|0)<(m|0)?C:m+-1|0,C=(D|0)>(g|0)?g:D,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==524288){J=S,O=524288;break}if((P|0)>1)P=P+-1|0,g=S,o=m;else{J=S,O=m;break}}if((Q|0)==28)if(Q=0,(P|0)==(I|0)){ee=1;break e}else J=g,O=o;if((J|0)>0)V=J,w=O;else{ee=0;break}}}while(0);if(O=e[u>>2]|0,O|0&&(u=e[d>>2]|0,(u|0)!=(O|0)&&(e[d>>2]=u+(~((u+-4-O|0)>>>2)<<2)),Ae(O)),(ee|0)!=0|L)return X=0,q=f,X|0}ee=e[i>>2]|0,O=0,u=0;do e[ee+(O<<3)+4>>2]=u,u=(e[ee+(O<<3)>>2]|0)+u|0,O=O+1|0;while((O|0)!=(b|0));if((u|0)!=524288)return X=0,q=f,X|0;if(L)$=0;else for(L=e[i>>2]|0,u=0,N=0;;)if(O=e[L+(u<<3)>>2]|0,O?(ee=s+(u<<3)|0,se=+((e[ee>>2]|0)>>>0)+4294967296*+((e[ee+4>>2]|0)>>>0),ie=N+ +V0(+(O>>>0)*19073486328125e-19)*se):ie=N,u=u+1|0,(u|0)==(b|0)){$=ie;break}else N=ie;return ie=+yi(+-$),b=+u0(ie)>=1?ie>0?~~+n0(+bn(ie/4294967296),4294967295)>>>0:~~+yi((ie-+(~~ie>>>0))/4294967296)>>>0:0,u=i+16|0,e[u>>2]=~~ie>>>0,e[u+4>>2]=b,X=Ws(i,l)|0,q=f,X|0}function Jf(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;if(f=q,q=q+16|0,h=f,u=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(w=s+(d<<3)|0,x=e[w>>2]|0,C=e[w+4>>2]|0,w=Qt(x|0,C|0,m|0,b|0)|0,S=Ze,D=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=D,L=S,P=w;break}else g=D,m=w,b=S;else I=0,L=0,P=0;if(b=I+1|0,e[i+12>>2]=b,m=i+4|0,g=e[m>>2]|0,o=e[i>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Uo(i,b-d|0),N=+(P>>>0)+4294967296*+(L>>>0),L=(I|0)<0,L)j=0,Q=12;else{P=e[i>>2]|0,d=0,g=0;do o=s+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*262144+.5)>>>0,w=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[P+(g<<3)>>2]=w,d=w+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==262144){if(L)return X=0,q=f,X|0}else j=d,Q=12}if((Q|0)==12){e[u>>2]=0,d=u+4|0,e[d>>2]=0,e[u+8>>2]=0;do if(b)if(b>>>0>1073741823)qe();else{g=b<<2,P=It(g)|0,e[u>>2]=P,w=P+(b<<2)|0,e[u+8>>2]=w,Tr(P|0,0,g|0)|0,e[d>>2]=w,V=P,G=w;break}else V=0,G=0;while(0);if(!L&&(e[V>>2]=0,I|0)){w=1;do e[V+(w<<2)>>2]=w,w=w+1|0;while((w|0)!=(b|0))}e[h>>2]=i,a3(V,G,h);e:do if((j|0)<262144)h=(e[i>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=262144-j+(e[h>>2]|0),ee=0;else{if(h=e[u>>2]|0,(I|0)<=0){for(G=(j|0)>262144;;)if(!G){ee=0;break e}}for(G=e[i>>2]|0,V=j+-262144|0,w=j;;){for(N=262144/+(w|0),P=I,g=V,o=w;;){if(S=G+(e[h+(P<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(D=m-~~+bn(+(N*+(m>>>0)))|0,C=(D|0)==0?1:D,D=(C|0)<(m|0)?C:m+-1|0,C=(D|0)>(g|0)?g:D,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==262144){J=S,O=262144;break}if((P|0)>1)P=P+-1|0,g=S,o=m;else{J=S,O=m;break}}if((Q|0)==28)if(Q=0,(P|0)==(I|0)){ee=1;break e}else J=g,O=o;if((J|0)>0)V=J,w=O;else{ee=0;break}}}while(0);if(O=e[u>>2]|0,O|0&&(u=e[d>>2]|0,(u|0)!=(O|0)&&(e[d>>2]=u+(~((u+-4-O|0)>>>2)<<2)),Ae(O)),(ee|0)!=0|L)return X=0,q=f,X|0}ee=e[i>>2]|0,O=0,u=0;do e[ee+(O<<3)+4>>2]=u,u=(e[ee+(O<<3)>>2]|0)+u|0,O=O+1|0;while((O|0)!=(b|0));if((u|0)!=262144)return X=0,q=f,X|0;if(L)$=0;else for(L=e[i>>2]|0,u=0,N=0;;)if(O=e[L+(u<<3)>>2]|0,O?(ee=s+(u<<3)|0,se=+((e[ee>>2]|0)>>>0)+4294967296*+((e[ee+4>>2]|0)>>>0),ie=N+ +V0(+(O>>>0)*3814697265625e-18)*se):ie=N,u=u+1|0,(u|0)==(b|0)){$=ie;break}else N=ie;return ie=+yi(+-$),b=+u0(ie)>=1?ie>0?~~+n0(+bn(ie/4294967296),4294967295)>>>0:~~+yi((ie-+(~~ie>>>0))/4294967296)>>>0:0,u=i+16|0,e[u>>2]=~~ie>>>0,e[u+4>>2]=b,X=Ws(i,l)|0,q=f,X|0}function ty(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;if(f=q,q=q+16|0,h=f,u=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(w=s+(d<<3)|0,x=e[w>>2]|0,C=e[w+4>>2]|0,w=Qt(x|0,C|0,m|0,b|0)|0,S=Ze,D=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=D,L=S,P=w;break}else g=D,m=w,b=S;else I=0,L=0,P=0;if(b=I+1|0,e[i+12>>2]=b,m=i+4|0,g=e[m>>2]|0,o=e[i>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Uo(i,b-d|0),N=+(P>>>0)+4294967296*+(L>>>0),L=(I|0)<0,L)j=0,Q=12;else{P=e[i>>2]|0,d=0,g=0;do o=s+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*65536+.5)>>>0,w=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[P+(g<<3)>>2]=w,d=w+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==65536){if(L)return X=0,q=f,X|0}else j=d,Q=12}if((Q|0)==12){e[u>>2]=0,d=u+4|0,e[d>>2]=0,e[u+8>>2]=0;do if(b)if(b>>>0>1073741823)qe();else{g=b<<2,P=It(g)|0,e[u>>2]=P,w=P+(b<<2)|0,e[u+8>>2]=w,Tr(P|0,0,g|0)|0,e[d>>2]=w,V=P,G=w;break}else V=0,G=0;while(0);if(!L&&(e[V>>2]=0,I|0)){w=1;do e[V+(w<<2)>>2]=w,w=w+1|0;while((w|0)!=(b|0))}e[h>>2]=i,l3(V,G,h);e:do if((j|0)<65536)h=(e[i>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=65536-j+(e[h>>2]|0),ee=0;else{if(h=e[u>>2]|0,(I|0)<=0){for(G=(j|0)>65536;;)if(!G){ee=0;break e}}for(G=e[i>>2]|0,V=j+-65536|0,w=j;;){for(N=65536/+(w|0),P=I,g=V,o=w;;){if(S=G+(e[h+(P<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(D=m-~~+bn(+(N*+(m>>>0)))|0,C=(D|0)==0?1:D,D=(C|0)<(m|0)?C:m+-1|0,C=(D|0)>(g|0)?g:D,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==65536){J=S,O=65536;break}if((P|0)>1)P=P+-1|0,g=S,o=m;else{J=S,O=m;break}}if((Q|0)==28)if(Q=0,(P|0)==(I|0)){ee=1;break e}else J=g,O=o;if((J|0)>0)V=J,w=O;else{ee=0;break}}}while(0);if(O=e[u>>2]|0,O|0&&(u=e[d>>2]|0,(u|0)!=(O|0)&&(e[d>>2]=u+(~((u+-4-O|0)>>>2)<<2)),Ae(O)),(ee|0)!=0|L)return X=0,q=f,X|0}ee=e[i>>2]|0,O=0,u=0;do e[ee+(O<<3)+4>>2]=u,u=(e[ee+(O<<3)>>2]|0)+u|0,O=O+1|0;while((O|0)!=(b|0));if((u|0)!=65536)return X=0,q=f,X|0;if(L)$=0;else for(L=e[i>>2]|0,u=0,N=0;;)if(O=e[L+(u<<3)>>2]|0,O?(ee=s+(u<<3)|0,se=+((e[ee>>2]|0)>>>0)+4294967296*+((e[ee+4>>2]|0)>>>0),ie=N+ +V0(+(O>>>0)*152587890625e-16)*se):ie=N,u=u+1|0,(u|0)==(b|0)){$=ie;break}else N=ie;return ie=+yi(+-$),b=+u0(ie)>=1?ie>0?~~+n0(+bn(ie/4294967296),4294967295)>>>0:~~+yi((ie-+(~~ie>>>0))/4294967296)>>>0:0,u=i+16|0,e[u>>2]=~~ie>>>0,e[u+4>>2]=b,X=Ws(i,l)|0,q=f,X|0}function ry(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;if(f=q,q=q+16|0,h=f,u=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(w=s+(d<<3)|0,x=e[w>>2]|0,C=e[w+4>>2]|0,w=Qt(x|0,C|0,m|0,b|0)|0,S=Ze,D=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=D,L=S,P=w;break}else g=D,m=w,b=S;else I=0,L=0,P=0;if(b=I+1|0,e[i+12>>2]=b,m=i+4|0,g=e[m>>2]|0,o=e[i>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Uo(i,b-d|0),N=+(P>>>0)+4294967296*+(L>>>0),L=(I|0)<0,L)j=0,Q=12;else{P=e[i>>2]|0,d=0,g=0;do o=s+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*32768+.5)>>>0,w=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[P+(g<<3)>>2]=w,d=w+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==32768){if(L)return X=0,q=f,X|0}else j=d,Q=12}if((Q|0)==12){e[u>>2]=0,d=u+4|0,e[d>>2]=0,e[u+8>>2]=0;do if(b)if(b>>>0>1073741823)qe();else{g=b<<2,P=It(g)|0,e[u>>2]=P,w=P+(b<<2)|0,e[u+8>>2]=w,Tr(P|0,0,g|0)|0,e[d>>2]=w,V=P,G=w;break}else V=0,G=0;while(0);if(!L&&(e[V>>2]=0,I|0)){w=1;do e[V+(w<<2)>>2]=w,w=w+1|0;while((w|0)!=(b|0))}e[h>>2]=i,f3(V,G,h);e:do if((j|0)<32768)h=(e[i>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=32768-j+(e[h>>2]|0),ee=0;else{if(h=e[u>>2]|0,(I|0)<=0){for(G=(j|0)>32768;;)if(!G){ee=0;break e}}for(G=e[i>>2]|0,V=j+-32768|0,w=j;;){for(N=32768/+(w|0),P=I,g=V,o=w;;){if(S=G+(e[h+(P<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(D=m-~~+bn(+(N*+(m>>>0)))|0,C=(D|0)==0?1:D,D=(C|0)<(m|0)?C:m+-1|0,C=(D|0)>(g|0)?g:D,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==32768){J=S,O=32768;break}if((P|0)>1)P=P+-1|0,g=S,o=m;else{J=S,O=m;break}}if((Q|0)==28)if(Q=0,(P|0)==(I|0)){ee=1;break e}else J=g,O=o;if((J|0)>0)V=J,w=O;else{ee=0;break}}}while(0);if(O=e[u>>2]|0,O|0&&(u=e[d>>2]|0,(u|0)!=(O|0)&&(e[d>>2]=u+(~((u+-4-O|0)>>>2)<<2)),Ae(O)),(ee|0)!=0|L)return X=0,q=f,X|0}ee=e[i>>2]|0,O=0,u=0;do e[ee+(O<<3)+4>>2]=u,u=(e[ee+(O<<3)>>2]|0)+u|0,O=O+1|0;while((O|0)!=(b|0));if((u|0)!=32768)return X=0,q=f,X|0;if(L)$=0;else for(L=e[i>>2]|0,u=0,N=0;;)if(O=e[L+(u<<3)>>2]|0,O?(ee=s+(u<<3)|0,se=+((e[ee>>2]|0)>>>0)+4294967296*+((e[ee+4>>2]|0)>>>0),ie=N+ +V0(+(O>>>0)*30517578125e-15)*se):ie=N,u=u+1|0,(u|0)==(b|0)){$=ie;break}else N=ie;return ie=+yi(+-$),b=+u0(ie)>=1?ie>0?~~+n0(+bn(ie/4294967296),4294967295)>>>0:~~+yi((ie-+(~~ie>>>0))/4294967296)>>>0:0,u=i+16|0,e[u>>2]=~~ie>>>0,e[u+4>>2]=b,X=Ws(i,l)|0,q=f,X|0}function c6(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;if(f=q,q=q+16|0,h=f,u=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(w=s+(d<<3)|0,x=e[w>>2]|0,C=e[w+4>>2]|0,w=Qt(x|0,C|0,m|0,b|0)|0,S=Ze,D=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=D,L=S,P=w;break}else g=D,m=w,b=S;else I=0,L=0,P=0;if(b=I+1|0,e[i+12>>2]=b,m=i+4|0,g=e[m>>2]|0,o=e[i>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Uo(i,b-d|0),N=+(P>>>0)+4294967296*+(L>>>0),L=(I|0)<0,L)j=0,Q=12;else{P=e[i>>2]|0,d=0,g=0;do o=s+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*8192+.5)>>>0,w=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[P+(g<<3)>>2]=w,d=w+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==8192){if(L)return X=0,q=f,X|0}else j=d,Q=12}if((Q|0)==12){e[u>>2]=0,d=u+4|0,e[d>>2]=0,e[u+8>>2]=0;do if(b)if(b>>>0>1073741823)qe();else{g=b<<2,P=It(g)|0,e[u>>2]=P,w=P+(b<<2)|0,e[u+8>>2]=w,Tr(P|0,0,g|0)|0,e[d>>2]=w,V=P,G=w;break}else V=0,G=0;while(0);if(!L&&(e[V>>2]=0,I|0)){w=1;do e[V+(w<<2)>>2]=w,w=w+1|0;while((w|0)!=(b|0))}e[h>>2]=i,c3(V,G,h);e:do if((j|0)<8192)h=(e[i>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=8192-j+(e[h>>2]|0),ee=0;else{if(h=e[u>>2]|0,(I|0)<=0){for(G=(j|0)>8192;;)if(!G){ee=0;break e}}for(G=e[i>>2]|0,V=j+-8192|0,w=j;;){for(N=8192/+(w|0),P=I,g=V,o=w;;){if(S=G+(e[h+(P<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(D=m-~~+bn(+(N*+(m>>>0)))|0,C=(D|0)==0?1:D,D=(C|0)<(m|0)?C:m+-1|0,C=(D|0)>(g|0)?g:D,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==8192){J=S,O=8192;break}if((P|0)>1)P=P+-1|0,g=S,o=m;else{J=S,O=m;break}}if((Q|0)==28)if(Q=0,(P|0)==(I|0)){ee=1;break e}else J=g,O=o;if((J|0)>0)V=J,w=O;else{ee=0;break}}}while(0);if(O=e[u>>2]|0,O|0&&(u=e[d>>2]|0,(u|0)!=(O|0)&&(e[d>>2]=u+(~((u+-4-O|0)>>>2)<<2)),Ae(O)),(ee|0)!=0|L)return X=0,q=f,X|0}ee=e[i>>2]|0,O=0,u=0;do e[ee+(O<<3)+4>>2]=u,u=(e[ee+(O<<3)>>2]|0)+u|0,O=O+1|0;while((O|0)!=(b|0));if((u|0)!=8192)return X=0,q=f,X|0;if(L)$=0;else for(L=e[i>>2]|0,u=0,N=0;;)if(O=e[L+(u<<3)>>2]|0,O?(ee=s+(u<<3)|0,se=+((e[ee>>2]|0)>>>0)+4294967296*+((e[ee+4>>2]|0)>>>0),ie=N+ +V0(+(O>>>0)*.0001220703125)*se):ie=N,u=u+1|0,(u|0)==(b|0)){$=ie;break}else N=ie;return ie=+yi(+-$),b=+u0(ie)>=1?ie>0?~~+n0(+bn(ie/4294967296),4294967295)>>>0:~~+yi((ie-+(~~ie>>>0))/4294967296)>>>0:0,u=i+16|0,e[u>>2]=~~ie>>>0,e[u+4>>2]=b,X=Ws(i,l)|0,q=f,X|0}function C2(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;if(f=q,q=q+16|0,h=f,u=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(w=s+(d<<3)|0,x=e[w>>2]|0,C=e[w+4>>2]|0,w=Qt(x|0,C|0,m|0,b|0)|0,S=Ze,D=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=D,L=S,P=w;break}else g=D,m=w,b=S;else I=0,L=0,P=0;if(b=I+1|0,e[i+12>>2]=b,m=i+4|0,g=e[m>>2]|0,o=e[i>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Uo(i,b-d|0),N=+(P>>>0)+4294967296*+(L>>>0),L=(I|0)<0,L)j=0,Q=12;else{P=e[i>>2]|0,d=0,g=0;do o=s+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*4096+.5)>>>0,w=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[P+(g<<3)>>2]=w,d=w+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==4096){if(L)return X=0,q=f,X|0}else j=d,Q=12}if((Q|0)==12){e[u>>2]=0,d=u+4|0,e[d>>2]=0,e[u+8>>2]=0;do if(b)if(b>>>0>1073741823)qe();else{g=b<<2,P=It(g)|0,e[u>>2]=P,w=P+(b<<2)|0,e[u+8>>2]=w,Tr(P|0,0,g|0)|0,e[d>>2]=w,V=P,G=w;break}else V=0,G=0;while(0);if(!L&&(e[V>>2]=0,I|0)){w=1;do e[V+(w<<2)>>2]=w,w=w+1|0;while((w|0)!=(b|0))}e[h>>2]=i,h3(V,G,h);e:do if((j|0)<4096)h=(e[i>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=4096-j+(e[h>>2]|0),ee=0;else{if(h=e[u>>2]|0,(I|0)<=0){for(G=(j|0)>4096;;)if(!G){ee=0;break e}}for(G=e[i>>2]|0,V=j+-4096|0,w=j;;){for(N=4096/+(w|0),P=I,g=V,o=w;;){if(S=G+(e[h+(P<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(D=m-~~+bn(+(N*+(m>>>0)))|0,C=(D|0)==0?1:D,D=(C|0)<(m|0)?C:m+-1|0,C=(D|0)>(g|0)?g:D,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==4096){J=S,O=4096;break}if((P|0)>1)P=P+-1|0,g=S,o=m;else{J=S,O=m;break}}if((Q|0)==28)if(Q=0,(P|0)==(I|0)){ee=1;break e}else J=g,O=o;if((J|0)>0)V=J,w=O;else{ee=0;break}}}while(0);if(O=e[u>>2]|0,O|0&&(u=e[d>>2]|0,(u|0)!=(O|0)&&(e[d>>2]=u+(~((u+-4-O|0)>>>2)<<2)),Ae(O)),(ee|0)!=0|L)return X=0,q=f,X|0}ee=e[i>>2]|0,O=0,u=0;do e[ee+(O<<3)+4>>2]=u,u=(e[ee+(O<<3)>>2]|0)+u|0,O=O+1|0;while((O|0)!=(b|0));if((u|0)!=4096)return X=0,q=f,X|0;if(L)$=0;else for(L=e[i>>2]|0,u=0,N=0;;)if(O=e[L+(u<<3)>>2]|0,O?(ee=s+(u<<3)|0,se=+((e[ee>>2]|0)>>>0)+4294967296*+((e[ee+4>>2]|0)>>>0),ie=N+ +V0(+(O>>>0)*.000244140625)*se):ie=N,u=u+1|0,(u|0)==(b|0)){$=ie;break}else N=ie;return ie=+yi(+-$),b=+u0(ie)>=1?ie>0?~~+n0(+bn(ie/4294967296),4294967295)>>>0:~~+yi((ie-+(~~ie>>>0))/4294967296)>>>0:0,u=i+16|0,e[u>>2]=~~ie>>>0,e[u+4>>2]=b,X=Ws(i,l)|0,q=f,X|0}function tm(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;if(f=q,q=q+16|0,h=f,u=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(w=s+(d<<3)|0,x=e[w>>2]|0,C=e[w+4>>2]|0,w=Qt(x|0,C|0,m|0,b|0)|0,S=Ze,D=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=D,L=S,P=w;break}else g=D,m=w,b=S;else I=0,L=0,P=0;if(b=I+1|0,e[i+12>>2]=b,m=i+4|0,g=e[m>>2]|0,o=e[i>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Uo(i,b-d|0),N=+(P>>>0)+4294967296*+(L>>>0),L=(I|0)<0,L)j=0,Q=12;else{P=e[i>>2]|0,d=0,g=0;do o=s+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*4096+.5)>>>0,w=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[P+(g<<3)>>2]=w,d=w+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==4096){if(L)return X=0,q=f,X|0}else j=d,Q=12}if((Q|0)==12){e[u>>2]=0,d=u+4|0,e[d>>2]=0,e[u+8>>2]=0;do if(b)if(b>>>0>1073741823)qe();else{g=b<<2,P=It(g)|0,e[u>>2]=P,w=P+(b<<2)|0,e[u+8>>2]=w,Tr(P|0,0,g|0)|0,e[d>>2]=w,V=P,G=w;break}else V=0,G=0;while(0);if(!L&&(e[V>>2]=0,I|0)){w=1;do e[V+(w<<2)>>2]=w,w=w+1|0;while((w|0)!=(b|0))}e[h>>2]=i,d3(V,G,h);e:do if((j|0)<4096)h=(e[i>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=4096-j+(e[h>>2]|0),ee=0;else{if(h=e[u>>2]|0,(I|0)<=0){for(G=(j|0)>4096;;)if(!G){ee=0;break e}}for(G=e[i>>2]|0,V=j+-4096|0,w=j;;){for(N=4096/+(w|0),P=I,g=V,o=w;;){if(S=G+(e[h+(P<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(D=m-~~+bn(+(N*+(m>>>0)))|0,C=(D|0)==0?1:D,D=(C|0)<(m|0)?C:m+-1|0,C=(D|0)>(g|0)?g:D,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==4096){J=S,O=4096;break}if((P|0)>1)P=P+-1|0,g=S,o=m;else{J=S,O=m;break}}if((Q|0)==28)if(Q=0,(P|0)==(I|0)){ee=1;break e}else J=g,O=o;if((J|0)>0)V=J,w=O;else{ee=0;break}}}while(0);if(O=e[u>>2]|0,O|0&&(u=e[d>>2]|0,(u|0)!=(O|0)&&(e[d>>2]=u+(~((u+-4-O|0)>>>2)<<2)),Ae(O)),(ee|0)!=0|L)return X=0,q=f,X|0}ee=e[i>>2]|0,O=0,u=0;do e[ee+(O<<3)+4>>2]=u,u=(e[ee+(O<<3)>>2]|0)+u|0,O=O+1|0;while((O|0)!=(b|0));if((u|0)!=4096)return X=0,q=f,X|0;if(L)$=0;else for(L=e[i>>2]|0,u=0,N=0;;)if(O=e[L+(u<<3)>>2]|0,O?(ee=s+(u<<3)|0,se=+((e[ee>>2]|0)>>>0)+4294967296*+((e[ee+4>>2]|0)>>>0),ie=N+ +V0(+(O>>>0)*.000244140625)*se):ie=N,u=u+1|0,(u|0)==(b|0)){$=ie;break}else N=ie;return ie=+yi(+-$),b=+u0(ie)>=1?ie>0?~~+n0(+bn(ie/4294967296),4294967295)>>>0:~~+yi((ie-+(~~ie>>>0))/4294967296)>>>0:0,u=i+16|0,e[u>>2]=~~ie>>>0,e[u+4>>2]=b,X=Ws(i,l)|0,q=f,X|0}function iy(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;if(f=q,q=q+16|0,h=f,u=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(w=s+(d<<3)|0,x=e[w>>2]|0,C=e[w+4>>2]|0,w=Qt(x|0,C|0,m|0,b|0)|0,S=Ze,D=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=D,L=S,P=w;break}else g=D,m=w,b=S;else I=0,L=0,P=0;if(b=I+1|0,e[i+12>>2]=b,m=i+4|0,g=e[m>>2]|0,o=e[i>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Uo(i,b-d|0),N=+(P>>>0)+4294967296*+(L>>>0),L=(I|0)<0,L)j=0,Q=12;else{P=e[i>>2]|0,d=0,g=0;do o=s+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*4096+.5)>>>0,w=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[P+(g<<3)>>2]=w,d=w+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==4096){if(L)return X=0,q=f,X|0}else j=d,Q=12}if((Q|0)==12){e[u>>2]=0,d=u+4|0,e[d>>2]=0,e[u+8>>2]=0;do if(b)if(b>>>0>1073741823)qe();else{g=b<<2,P=It(g)|0,e[u>>2]=P,w=P+(b<<2)|0,e[u+8>>2]=w,Tr(P|0,0,g|0)|0,e[d>>2]=w,V=P,G=w;break}else V=0,G=0;while(0);if(!L&&(e[V>>2]=0,I|0)){w=1;do e[V+(w<<2)>>2]=w,w=w+1|0;while((w|0)!=(b|0))}e[h>>2]=i,p3(V,G,h);e:do if((j|0)<4096)h=(e[i>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=4096-j+(e[h>>2]|0),ee=0;else{if(h=e[u>>2]|0,(I|0)<=0){for(G=(j|0)>4096;;)if(!G){ee=0;break e}}for(G=e[i>>2]|0,V=j+-4096|0,w=j;;){for(N=4096/+(w|0),P=I,g=V,o=w;;){if(S=G+(e[h+(P<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(D=m-~~+bn(+(N*+(m>>>0)))|0,C=(D|0)==0?1:D,D=(C|0)<(m|0)?C:m+-1|0,C=(D|0)>(g|0)?g:D,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==4096){J=S,O=4096;break}if((P|0)>1)P=P+-1|0,g=S,o=m;else{J=S,O=m;break}}if((Q|0)==28)if(Q=0,(P|0)==(I|0)){ee=1;break e}else J=g,O=o;if((J|0)>0)V=J,w=O;else{ee=0;break}}}while(0);if(O=e[u>>2]|0,O|0&&(u=e[d>>2]|0,(u|0)!=(O|0)&&(e[d>>2]=u+(~((u+-4-O|0)>>>2)<<2)),Ae(O)),(ee|0)!=0|L)return X=0,q=f,X|0}ee=e[i>>2]|0,O=0,u=0;do e[ee+(O<<3)+4>>2]=u,u=(e[ee+(O<<3)>>2]|0)+u|0,O=O+1|0;while((O|0)!=(b|0));if((u|0)!=4096)return X=0,q=f,X|0;if(L)$=0;else for(L=e[i>>2]|0,u=0,N=0;;)if(O=e[L+(u<<3)>>2]|0,O?(ee=s+(u<<3)|0,se=+((e[ee>>2]|0)>>>0)+4294967296*+((e[ee+4>>2]|0)>>>0),ie=N+ +V0(+(O>>>0)*.000244140625)*se):ie=N,u=u+1|0,(u|0)==(b|0)){$=ie;break}else N=ie;return ie=+yi(+-$),b=+u0(ie)>=1?ie>0?~~+n0(+bn(ie/4294967296),4294967295)>>>0:~~+yi((ie-+(~~ie>>>0))/4294967296)>>>0:0,u=i+16|0,e[u>>2]=~~ie>>>0,e[u+4>>2]=b,X=Ws(i,l)|0,q=f,X|0}function ny(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;if(f=q,q=q+16|0,h=f,u=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(w=s+(d<<3)|0,x=e[w>>2]|0,C=e[w+4>>2]|0,w=Qt(x|0,C|0,m|0,b|0)|0,S=Ze,D=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=D,L=S,P=w;break}else g=D,m=w,b=S;else I=0,L=0,P=0;if(b=I+1|0,e[i+12>>2]=b,m=i+4|0,g=e[m>>2]|0,o=e[i>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Uo(i,b-d|0),N=+(P>>>0)+4294967296*+(L>>>0),L=(I|0)<0,L)j=0,Q=12;else{P=e[i>>2]|0,d=0,g=0;do o=s+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*4096+.5)>>>0,w=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[P+(g<<3)>>2]=w,d=w+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==4096){if(L)return X=0,q=f,X|0}else j=d,Q=12}if((Q|0)==12){e[u>>2]=0,d=u+4|0,e[d>>2]=0,e[u+8>>2]=0;do if(b)if(b>>>0>1073741823)qe();else{g=b<<2,P=It(g)|0,e[u>>2]=P,w=P+(b<<2)|0,e[u+8>>2]=w,Tr(P|0,0,g|0)|0,e[d>>2]=w,V=P,G=w;break}else V=0,G=0;while(0);if(!L&&(e[V>>2]=0,I|0)){w=1;do e[V+(w<<2)>>2]=w,w=w+1|0;while((w|0)!=(b|0))}e[h>>2]=i,m3(V,G,h);e:do if((j|0)<4096)h=(e[i>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=4096-j+(e[h>>2]|0),ee=0;else{if(h=e[u>>2]|0,(I|0)<=0){for(G=(j|0)>4096;;)if(!G){ee=0;break e}}for(G=e[i>>2]|0,V=j+-4096|0,w=j;;){for(N=4096/+(w|0),P=I,g=V,o=w;;){if(S=G+(e[h+(P<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(D=m-~~+bn(+(N*+(m>>>0)))|0,C=(D|0)==0?1:D,D=(C|0)<(m|0)?C:m+-1|0,C=(D|0)>(g|0)?g:D,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==4096){J=S,O=4096;break}if((P|0)>1)P=P+-1|0,g=S,o=m;else{J=S,O=m;break}}if((Q|0)==28)if(Q=0,(P|0)==(I|0)){ee=1;break e}else J=g,O=o;if((J|0)>0)V=J,w=O;else{ee=0;break}}}while(0);if(O=e[u>>2]|0,O|0&&(u=e[d>>2]|0,(u|0)!=(O|0)&&(e[d>>2]=u+(~((u+-4-O|0)>>>2)<<2)),Ae(O)),(ee|0)!=0|L)return X=0,q=f,X|0}ee=e[i>>2]|0,O=0,u=0;do e[ee+(O<<3)+4>>2]=u,u=(e[ee+(O<<3)>>2]|0)+u|0,O=O+1|0;while((O|0)!=(b|0));if((u|0)!=4096)return X=0,q=f,X|0;if(L)$=0;else for(L=e[i>>2]|0,u=0,N=0;;)if(O=e[L+(u<<3)>>2]|0,O?(ee=s+(u<<3)|0,se=+((e[ee>>2]|0)>>>0)+4294967296*+((e[ee+4>>2]|0)>>>0),ie=N+ +V0(+(O>>>0)*.000244140625)*se):ie=N,u=u+1|0,(u|0)==(b|0)){$=ie;break}else N=ie;return ie=+yi(+-$),b=+u0(ie)>=1?ie>0?~~+n0(+bn(ie/4294967296),4294967295)>>>0:~~+yi((ie-+(~~ie>>>0))/4294967296)>>>0:0,u=i+16|0,e[u>>2]=~~ie>>>0,e[u+4>>2]=b,X=Ws(i,l)|0,q=f,X|0}function sy(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;if(f=q,q=q+16|0,h=f,u=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(w=s+(d<<3)|0,x=e[w>>2]|0,C=e[w+4>>2]|0,w=Qt(x|0,C|0,m|0,b|0)|0,S=Ze,D=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=D,L=S,P=w;break}else g=D,m=w,b=S;else I=0,L=0,P=0;if(b=I+1|0,e[i+12>>2]=b,m=i+4|0,g=e[m>>2]|0,o=e[i>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Uo(i,b-d|0),N=+(P>>>0)+4294967296*+(L>>>0),L=(I|0)<0,L)j=0,Q=12;else{P=e[i>>2]|0,d=0,g=0;do o=s+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*4096+.5)>>>0,w=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[P+(g<<3)>>2]=w,d=w+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==4096){if(L)return X=0,q=f,X|0}else j=d,Q=12}if((Q|0)==12){e[u>>2]=0,d=u+4|0,e[d>>2]=0,e[u+8>>2]=0;do if(b)if(b>>>0>1073741823)qe();else{g=b<<2,P=It(g)|0,e[u>>2]=P,w=P+(b<<2)|0,e[u+8>>2]=w,Tr(P|0,0,g|0)|0,e[d>>2]=w,V=P,G=w;break}else V=0,G=0;while(0);if(!L&&(e[V>>2]=0,I|0)){w=1;do e[V+(w<<2)>>2]=w,w=w+1|0;while((w|0)!=(b|0))}e[h>>2]=i,g3(V,G,h);e:do if((j|0)<4096)h=(e[i>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=4096-j+(e[h>>2]|0),ee=0;else{if(h=e[u>>2]|0,(I|0)<=0){for(G=(j|0)>4096;;)if(!G){ee=0;break e}}for(G=e[i>>2]|0,V=j+-4096|0,w=j;;){for(N=4096/+(w|0),P=I,g=V,o=w;;){if(S=G+(e[h+(P<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(D=m-~~+bn(+(N*+(m>>>0)))|0,C=(D|0)==0?1:D,D=(C|0)<(m|0)?C:m+-1|0,C=(D|0)>(g|0)?g:D,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==4096){J=S,O=4096;break}if((P|0)>1)P=P+-1|0,g=S,o=m;else{J=S,O=m;break}}if((Q|0)==28)if(Q=0,(P|0)==(I|0)){ee=1;break e}else J=g,O=o;if((J|0)>0)V=J,w=O;else{ee=0;break}}}while(0);if(O=e[u>>2]|0,O|0&&(u=e[d>>2]|0,(u|0)!=(O|0)&&(e[d>>2]=u+(~((u+-4-O|0)>>>2)<<2)),Ae(O)),(ee|0)!=0|L)return X=0,q=f,X|0}ee=e[i>>2]|0,O=0,u=0;do e[ee+(O<<3)+4>>2]=u,u=(e[ee+(O<<3)>>2]|0)+u|0,O=O+1|0;while((O|0)!=(b|0));if((u|0)!=4096)return X=0,q=f,X|0;if(L)$=0;else for(L=e[i>>2]|0,u=0,N=0;;)if(O=e[L+(u<<3)>>2]|0,O?(ee=s+(u<<3)|0,se=+((e[ee>>2]|0)>>>0)+4294967296*+((e[ee+4>>2]|0)>>>0),ie=N+ +V0(+(O>>>0)*.000244140625)*se):ie=N,u=u+1|0,(u|0)==(b|0)){$=ie;break}else N=ie;return ie=+yi(+-$),b=+u0(ie)>=1?ie>0?~~+n0(+bn(ie/4294967296),4294967295)>>>0:~~+yi((ie-+(~~ie>>>0))/4294967296)>>>0:0,u=i+16|0,e[u>>2]=~~ie>>>0,e[u+4>>2]=b,X=Ws(i,l)|0,q=f,X|0}function h6(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;if(f=q,q=q+16|0,h=f,u=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(w=s+(d<<3)|0,x=e[w>>2]|0,C=e[w+4>>2]|0,w=Qt(x|0,C|0,m|0,b|0)|0,S=Ze,D=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=D,L=S,P=w;break}else g=D,m=w,b=S;else I=0,L=0,P=0;if(b=I+1|0,e[i+12>>2]=b,m=i+4|0,g=e[m>>2]|0,o=e[i>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Uo(i,b-d|0),N=+(P>>>0)+4294967296*+(L>>>0),L=(I|0)<0,L)j=0,Q=12;else{P=e[i>>2]|0,d=0,g=0;do o=s+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*4096+.5)>>>0,w=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[P+(g<<3)>>2]=w,d=w+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==4096){if(L)return X=0,q=f,X|0}else j=d,Q=12}if((Q|0)==12){e[u>>2]=0,d=u+4|0,e[d>>2]=0,e[u+8>>2]=0;do if(b)if(b>>>0>1073741823)qe();else{g=b<<2,P=It(g)|0,e[u>>2]=P,w=P+(b<<2)|0,e[u+8>>2]=w,Tr(P|0,0,g|0)|0,e[d>>2]=w,V=P,G=w;break}else V=0,G=0;while(0);if(!L&&(e[V>>2]=0,I|0)){w=1;do e[V+(w<<2)>>2]=w,w=w+1|0;while((w|0)!=(b|0))}e[h>>2]=i,b3(V,G,h);e:do if((j|0)<4096)h=(e[i>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=4096-j+(e[h>>2]|0),ee=0;else{if(h=e[u>>2]|0,(I|0)<=0){for(G=(j|0)>4096;;)if(!G){ee=0;break e}}for(G=e[i>>2]|0,V=j+-4096|0,w=j;;){for(N=4096/+(w|0),P=I,g=V,o=w;;){if(S=G+(e[h+(P<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(D=m-~~+bn(+(N*+(m>>>0)))|0,C=(D|0)==0?1:D,D=(C|0)<(m|0)?C:m+-1|0,C=(D|0)>(g|0)?g:D,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==4096){J=S,O=4096;break}if((P|0)>1)P=P+-1|0,g=S,o=m;else{J=S,O=m;break}}if((Q|0)==28)if(Q=0,(P|0)==(I|0)){ee=1;break e}else J=g,O=o;if((J|0)>0)V=J,w=O;else{ee=0;break}}}while(0);if(O=e[u>>2]|0,O|0&&(u=e[d>>2]|0,(u|0)!=(O|0)&&(e[d>>2]=u+(~((u+-4-O|0)>>>2)<<2)),Ae(O)),(ee|0)!=0|L)return X=0,q=f,X|0}ee=e[i>>2]|0,O=0,u=0;do e[ee+(O<<3)+4>>2]=u,u=(e[ee+(O<<3)>>2]|0)+u|0,O=O+1|0;while((O|0)!=(b|0));if((u|0)!=4096)return X=0,q=f,X|0;if(L)$=0;else for(L=e[i>>2]|0,u=0,N=0;;)if(O=e[L+(u<<3)>>2]|0,O?(ee=s+(u<<3)|0,se=+((e[ee>>2]|0)>>>0)+4294967296*+((e[ee+4>>2]|0)>>>0),ie=N+ +V0(+(O>>>0)*.000244140625)*se):ie=N,u=u+1|0,(u|0)==(b|0)){$=ie;break}else N=ie;return ie=+yi(+-$),b=+u0(ie)>=1?ie>0?~~+n0(+bn(ie/4294967296),4294967295)>>>0:~~+yi((ie-+(~~ie>>>0))/4294967296)>>>0:0,u=i+16|0,e[u>>2]=~~ie>>>0,e[u+4>>2]=b,X=Ws(i,l)|0,q=f,X|0}function d6(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;if(f=q,q=q+16|0,h=f,u=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(w=s+(d<<3)|0,x=e[w>>2]|0,C=e[w+4>>2]|0,w=Qt(x|0,C|0,m|0,b|0)|0,S=Ze,D=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=D,L=S,P=w;break}else g=D,m=w,b=S;else I=0,L=0,P=0;if(b=I+1|0,e[i+12>>2]=b,m=i+4|0,g=e[m>>2]|0,o=e[i>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Uo(i,b-d|0),N=+(P>>>0)+4294967296*+(L>>>0),L=(I|0)<0,L)j=0,Q=12;else{P=e[i>>2]|0,d=0,g=0;do o=s+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*4096+.5)>>>0,w=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[P+(g<<3)>>2]=w,d=w+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==4096){if(L)return X=0,q=f,X|0}else j=d,Q=12}if((Q|0)==12){e[u>>2]=0,d=u+4|0,e[d>>2]=0,e[u+8>>2]=0;do if(b)if(b>>>0>1073741823)qe();else{g=b<<2,P=It(g)|0,e[u>>2]=P,w=P+(b<<2)|0,e[u+8>>2]=w,Tr(P|0,0,g|0)|0,e[d>>2]=w,V=P,G=w;break}else V=0,G=0;while(0);if(!L&&(e[V>>2]=0,I|0)){w=1;do e[V+(w<<2)>>2]=w,w=w+1|0;while((w|0)!=(b|0))}e[h>>2]=i,y3(V,G,h);e:do if((j|0)<4096)h=(e[i>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=4096-j+(e[h>>2]|0),ee=0;else{if(h=e[u>>2]|0,(I|0)<=0){for(G=(j|0)>4096;;)if(!G){ee=0;break e}}for(G=e[i>>2]|0,V=j+-4096|0,w=j;;){for(N=4096/+(w|0),P=I,g=V,o=w;;){if(S=G+(e[h+(P<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(D=m-~~+bn(+(N*+(m>>>0)))|0,C=(D|0)==0?1:D,D=(C|0)<(m|0)?C:m+-1|0,C=(D|0)>(g|0)?g:D,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==4096){J=S,O=4096;break}if((P|0)>1)P=P+-1|0,g=S,o=m;else{J=S,O=m;break}}if((Q|0)==28)if(Q=0,(P|0)==(I|0)){ee=1;break e}else J=g,O=o;if((J|0)>0)V=J,w=O;else{ee=0;break}}}while(0);if(O=e[u>>2]|0,O|0&&(u=e[d>>2]|0,(u|0)!=(O|0)&&(e[d>>2]=u+(~((u+-4-O|0)>>>2)<<2)),Ae(O)),(ee|0)!=0|L)return X=0,q=f,X|0}ee=e[i>>2]|0,O=0,u=0;do e[ee+(O<<3)+4>>2]=u,u=(e[ee+(O<<3)>>2]|0)+u|0,O=O+1|0;while((O|0)!=(b|0));if((u|0)!=4096)return X=0,q=f,X|0;if(L)$=0;else for(L=e[i>>2]|0,u=0,N=0;;)if(O=e[L+(u<<3)>>2]|0,O?(ee=s+(u<<3)|0,se=+((e[ee>>2]|0)>>>0)+4294967296*+((e[ee+4>>2]|0)>>>0),ie=N+ +V0(+(O>>>0)*.000244140625)*se):ie=N,u=u+1|0,(u|0)==(b|0)){$=ie;break}else N=ie;return ie=+yi(+-$),b=+u0(ie)>=1?ie>0?~~+n0(+bn(ie/4294967296),4294967295)>>>0:~~+yi((ie-+(~~ie>>>0))/4294967296)>>>0:0,u=i+16|0,e[u>>2]=~~ie>>>0,e[u+4>>2]=b,X=Ws(i,l)|0,q=f,X|0}function S2(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;if(f=q,q=q+16|0,h=f,u=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(w=s+(d<<3)|0,x=e[w>>2]|0,C=e[w+4>>2]|0,w=Qt(x|0,C|0,m|0,b|0)|0,S=Ze,D=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=D,L=S,P=w;break}else g=D,m=w,b=S;else I=0,L=0,P=0;if(b=I+1|0,e[i+12>>2]=b,m=i+4|0,g=e[m>>2]|0,o=e[i>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Uo(i,b-d|0),N=+(P>>>0)+4294967296*+(L>>>0),L=(I|0)<0,L)j=0,Q=12;else{P=e[i>>2]|0,d=0,g=0;do o=s+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*4096+.5)>>>0,w=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[P+(g<<3)>>2]=w,d=w+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==4096){if(L)return X=0,q=f,X|0}else j=d,Q=12}if((Q|0)==12){e[u>>2]=0,d=u+4|0,e[d>>2]=0,e[u+8>>2]=0;do if(b)if(b>>>0>1073741823)qe();else{g=b<<2,P=It(g)|0,e[u>>2]=P,w=P+(b<<2)|0,e[u+8>>2]=w,Tr(P|0,0,g|0)|0,e[d>>2]=w,V=P,G=w;break}else V=0,G=0;while(0);if(!L&&(e[V>>2]=0,I|0)){w=1;do e[V+(w<<2)>>2]=w,w=w+1|0;while((w|0)!=(b|0))}e[h>>2]=i,v3(V,G,h);e:do if((j|0)<4096)h=(e[i>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=4096-j+(e[h>>2]|0),ee=0;else{if(h=e[u>>2]|0,(I|0)<=0){for(G=(j|0)>4096;;)if(!G){ee=0;break e}}for(G=e[i>>2]|0,V=j+-4096|0,w=j;;){for(N=4096/+(w|0),P=I,g=V,o=w;;){if(S=G+(e[h+(P<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(D=m-~~+bn(+(N*+(m>>>0)))|0,C=(D|0)==0?1:D,D=(C|0)<(m|0)?C:m+-1|0,C=(D|0)>(g|0)?g:D,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==4096){J=S,O=4096;break}if((P|0)>1)P=P+-1|0,g=S,o=m;else{J=S,O=m;break}}if((Q|0)==28)if(Q=0,(P|0)==(I|0)){ee=1;break e}else J=g,O=o;if((J|0)>0)V=J,w=O;else{ee=0;break}}}while(0);if(O=e[u>>2]|0,O|0&&(u=e[d>>2]|0,(u|0)!=(O|0)&&(e[d>>2]=u+(~((u+-4-O|0)>>>2)<<2)),Ae(O)),(ee|0)!=0|L)return X=0,q=f,X|0}ee=e[i>>2]|0,O=0,u=0;do e[ee+(O<<3)+4>>2]=u,u=(e[ee+(O<<3)>>2]|0)+u|0,O=O+1|0;while((O|0)!=(b|0));if((u|0)!=4096)return X=0,q=f,X|0;if(L)$=0;else for(L=e[i>>2]|0,u=0,N=0;;)if(O=e[L+(u<<3)>>2]|0,O?(ee=s+(u<<3)|0,se=+((e[ee>>2]|0)>>>0)+4294967296*+((e[ee+4>>2]|0)>>>0),ie=N+ +V0(+(O>>>0)*.000244140625)*se):ie=N,u=u+1|0,(u|0)==(b|0)){$=ie;break}else N=ie;return ie=+yi(+-$),b=+u0(ie)>=1?ie>0?~~+n0(+bn(ie/4294967296),4294967295)>>>0:~~+yi((ie-+(~~ie>>>0))/4294967296)>>>0:0,u=i+16|0,e[u>>2]=~~ie>>>0,e[u+4>>2]=b,X=Ws(i,l)|0,q=f,X|0}function oy(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0;h=q,q=q+32|0,l=h+16|0,u=h+8|0,g=h,d=f>>>0>1073741823?-1:f<<2,m=Fl(d)|0,Tr(m|0,0,d|0)|0,d=e[i+28>>2]|0,b=i+36|0,w=e[b>>2]|0,x=e[w+4>>2]|0,C=e[w>>2]|0,S=x-C|0;e:do if((S|0)>4){for(D=S>>2,I=e[i+32>>2]|0,L=i+8|0,P=u+4|0,N=g+4|0,X=l+4|0,j=d+12|0,Q=(f|0)>0,V=m+4|0,G=u+4|0,ee=g+4|0,J=l+4|0,O=D+-1|0,x-C>>2>>>0>O>>>0?($=D,ie=O,se=C):qe();;){if(O=e[se+(ie<<2)>>2]|0,D=_r(ie,f)|0,(O|0)!=-1&&(ue=e[(e[j>>2]|0)+(O<<2)>>2]|0,(ue|0)!=-1))if(O=e[d>>2]|0,Ee=e[I>>2]|0,Pe=e[Ee+(e[O+(ue<<2)>>2]<<2)>>2]|0,ge=ue+1|0,Be=((ge>>>0)%3|0|0)==0?ue+-2|0:ge,(Be|0)==-1?_e=-1:_e=e[O+(Be<<2)>>2]|0,Be=e[Ee+(_e<<2)>>2]|0,ge=(((ue>>>0)%3|0|0)==0?2:-1)+ue|0,(ge|0)==-1?Ce=-1:Ce=e[O+(ge<<2)>>2]|0,ge=e[Ee+(Ce<<2)>>2]|0,(Pe|0)<(ie|0)&(Be|0)<(ie|0)&(ge|0)<(ie|0)){if(Ee=_r(Pe,f)|0,Pe=_r(Be,f)|0,Be=_r(ge,f)|0,Q){ge=0;do e[m+(ge<<2)>>2]=(e[s+(ge+Be<<2)>>2]|0)+(e[s+(ge+Pe<<2)>>2]|0)-(e[s+(ge+Ee<<2)>>2]|0),ge=ge+1|0;while((ge|0)!=(f|0))}ge=s+(D<<2)|0,Ee=o+(D<<2)|0,Pe=e[ge+4>>2]|0,Be=e[m>>2]|0,O=e[V>>2]|0,e[u>>2]=e[ge>>2],e[G>>2]=Pe,e[g>>2]=Be,e[ee>>2]=O,Is(l,L,u,g),e[Ee>>2]=e[l>>2],e[Ee+4>>2]=e[J>>2]}else We=15;else We=15;if((We|0)==15&&(We=0,Ee=s+(D<<2)|0,O=s+((_r($+-2|0,f)|0)<<2)|0,Be=o+(D<<2)|0,Pe=e[Ee+4>>2]|0,ge=e[O>>2]|0,ue=e[O+4>>2]|0,e[u>>2]=e[Ee>>2],e[P>>2]=Pe,e[g>>2]=ge,e[N>>2]=ue,Is(l,L,u,g),e[Be>>2]=e[l>>2],e[Be+4>>2]=e[X>>2]),($|0)<=2)break e;if(Be=e[b>>2]|0,se=e[Be>>2]|0,ue=ie+-1|0,(e[Be+4>>2]|0)-se>>2>>>0<=ue>>>0)break;Be=ie,ie=ue,$=Be}qe()}while(0);return(f|0)<=0?(lt=i+8|0,et=s+4|0,Ve=e[s>>2]|0,He=e[et>>2]|0,st=m+4|0,Je=e[m>>2]|0,it=e[st>>2]|0,e[u>>2]=Ve,ze=u+4|0,e[ze>>2]=He,e[g>>2]=Je,Ge=g+4|0,e[Ge>>2]=it,Is(l,lt,u,g),ke=e[l>>2]|0,e[o>>2]=ke,ut=l+4|0,tt=e[ut>>2]|0,at=o+4|0,e[at>>2]=tt,F0(m),q=h,1):(Tr(m|0,0,f<<2|0)|0,lt=i+8|0,et=s+4|0,Ve=e[s>>2]|0,He=e[et>>2]|0,st=m+4|0,Je=e[m>>2]|0,it=e[st>>2]|0,e[u>>2]=Ve,ze=u+4|0,e[ze>>2]=He,e[g>>2]=Je,Ge=g+4|0,e[Ge>>2]=it,Is(l,lt,u,g),ke=e[l>>2]|0,e[o>>2]=ke,ut=l+4|0,tt=e[ut>>2]|0,at=o+4|0,e[at>>2]=tt,F0(m),q=h,1)}function pn(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0;if(o=q,q=q+32|0,l=o,f=o+20|0,h=o+24|0,u=o+8|0,g=e[i>>2]|0,d=g+8|0,m=g,g=e[m>>2]|0,b=e[m+4>>2]|0,m=Qt(g|0,b|0,e[d>>2]|0,e[d+4>>2]|0)|0,d=Ze,w=Qt(m|0,d|0,(m|0)==0&(d|0)==0&1|0,0)|0,d=~~((+(g>>>0)+4294967296*+(b>>>0))/(+(w>>>0)+4294967296*+(Ze>>>0))*256+.5)>>>0,w=d>>>0<255?d:255,d=w+((w|0)==0&1)&255,Y[h>>0]=d,w=i+12|0,b=i+16|0,g=((e[b>>2]|0)-(e[w>>2]|0)<<1)+64|0,e[u>>2]=0,m=u+4|0,e[m>>2]=0,e[u+8>>2]=0,!g)x=0;else{(g|0)<0&&qe(),C=It(g)|0,e[m>>2]=C,e[u>>2]=C,e[u+8>>2]=C+g,S=g,g=C;do Y[g>>0]=0,g=(e[m>>2]|0)+1|0,e[m>>2]=g,S=S+-1|0;while((S|0)!=0);x=e[u>>2]|0}S=i+28|0,g=(e[S>>2]|0)+-1|0;e:do if((g|0)>-1)for(C=i+24|0,D=g,I=0,L=4096,P=d;;){if(N=(e[C>>2]&1<<D|0)!=0,X=(N?0-(P&255)&255:P)&255,L>>>0<X<<12>>>0?(j=I,Q=L):(Y[x+I>>0]=L,j=I+1|0,Q=L>>>8),Wr(e[3780+(X<<3)>>2]|0,0,Q|0,0)|0,V=Q+(N?0:0-P&255)+(_r((Q+Ze|0)>>>(e[3780+(X<<3)+4>>2]|0),256-X|0)|0)|0,X=D+-1|0,(X|0)<=-1){G=j,ee=V;break e}D=X,I=j,L=V,P=Y[h>>0]|0}else G=0,ee=4096;while(0);if(j=e[b>>2]|0,(e[w>>2]|0)==(j|0))J=G,O=ee;else for(Q=G,G=ee,ee=j;;){for(ee=ee+-4|0,j=e[ee>>2]|0,d=31,g=Q,P=G;L=Y[h>>0]|0,I=(1<<d&j|0)!=0,D=(I?0-(L&255)&255:L)&255,P>>>0<D<<12>>>0?($=g,ie=P):(Y[x+g>>0]=P,$=g+1|0,ie=P>>>8),Wr(e[3780+(D<<3)>>2]|0,0,ie|0,0)|0,P=ie+(I?0:0-L&255)+(_r((ie+Ze|0)>>>(e[3780+(D<<3)+4>>2]|0),256-D|0)|0)|0,!((d|0)<=0);)d=d+-1|0,g=$;if((e[w>>2]|0)==(ee|0)){J=$,O=P;break}else Q=$,G=P}G=O+-4096|0;do if(G>>>0>=64){if(G>>>0<16384){$=x+J|0,Q=O+12288|0,Y[$>>0]=Q,se=2,ue=Q>>>8,Ee=$+1|0,Pe=25;break}G>>>0<4194304?($=x+J|0,Q=O+8384512|0,Y[$>>0]=Q,Y[$+1>>0]=Q>>>8,se=3,ue=Q>>>16,Ee=$+2|0,Pe=25):ge=J}else se=1,ue=G,Ee=x+J|0,Pe=25;while(0);if((Pe|0)==25&&(Y[Ee>>0]=ue,ge=se+J|0),J=s+16|0,se=J,ue=e[se+4>>2]|0,(ue|0)>0|(ue|0)==0&(e[se>>2]|0)>>>0>0||(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+1|0)|0),p0(ge,s)|0,h=e[u>>2]|0,se=J,J=e[se+4>>2]|0,(J|0)>0|(J|0)==0&(e[se>>2]|0)>>>0>0||(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+ge|0)|0),ge=l,e[ge>>2]=0,e[ge+4>>2]=0,O2(i,2,l),l=e[i+12>>2]|0,ge=e[b>>2]|0,(ge|0)!=(l|0)&&(e[b>>2]=ge+(~((ge+-4-l|0)>>>2)<<2)),e[i+24>>2]=0,e[S>>2]=0,S=e[u>>2]|0,!S){q=o;return}(e[m>>2]|0)!=(S|0)&&(e[m>>2]=S),Ae(S),q=o}function p6(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0;if(o=q,q=q+16|0,s=o+8|0,l=o+4|0,f=o,h=i+64|0,u=e[h>>2]|0,(e[u+28>>2]|0)==(e[u+24>>2]|0)){q=o;return}for(g=i+52|0,d=i+56|0,m=i+60|0,b=i+12|0,w=i+28|0,x=i+40|0,C=i+44|0,S=i+48|0,D=0,I=0,L=u;;){if(u=e[(e[L+24>>2]|0)+(I<<2)>>2]|0,(u|0)==-1)P=D,N=L;else{X=D+1|0,e[s>>2]=D,j=e[d>>2]|0,(j|0)==(e[m>>2]|0)?pi(g,s):(e[j>>2]=D,e[d>>2]=j+4),e[l>>2]=u,e[f>>2]=0;e:do if(!(e[(e[b>>2]|0)+(I>>>5<<2)>>2]&1<<(I&31)))Q=u;else{if(j=u+1|0,V=((j>>>0)%3|0|0)==0?u+-2|0:j,(V|0)!=-1&&(e[(e[i>>2]|0)+(V>>>5<<2)>>2]&1<<(V&31)|0)==0&&(j=e[(e[(e[h>>2]|0)+12>>2]|0)+(V<<2)>>2]|0,V=j+1|0,(j|0)!=-1)){if(G=((V>>>0)%3|0|0)==0?j+-2|0:V,e[f>>2]=G,(G|0)==-1){Q=u;break}else ee=G;for(;e[l>>2]=ee,G=ee+1|0,V=((G>>>0)%3|0|0)==0?ee+-2|0:G,!((V|0)==-1||e[(e[i>>2]|0)+(V>>>5<<2)>>2]&1<<(V&31)|0||(G=e[(e[(e[h>>2]|0)+12>>2]|0)+(V<<2)>>2]|0,V=G+1|0,(G|0)==-1));)if(j=((V>>>0)%3|0|0)==0?G+-2|0:V,e[f>>2]=j,(j|0)==-1){Q=ee;break e}else ee=j;e[f>>2]=-1,Q=ee;break}e[f>>2]=-1,Q=u}while(0);e[(e[w>>2]|0)+(Q<<2)>>2]=e[s>>2],u=e[C>>2]|0,(u|0)==(e[S>>2]|0)?pi(x,l):(e[u>>2]=e[l>>2],e[C>>2]=u+4),u=e[h>>2]|0,j=e[l>>2]|0;e:do if((j|0)!=-1&&(V=(((j>>>0)%3|0|0)==0?2:-1)+j|0,(V|0)!=-1)&&(G=e[(e[u+12>>2]|0)+(V<<2)>>2]|0,(G|0)!=-1))if(V=G+(((G>>>0)%3|0|0)==0?2:-1)|0,e[f>>2]=V,(V|0)!=-1&(V|0)!=(j|0)){for(G=X,J=V;;){V=J+1|0,O=((V>>>0)%3|0|0)==0?J+-2|0:V;do if(e[(e[i>>2]|0)+(O>>>5<<2)>>2]&1<<(O&31))if(V=G+1|0,e[s>>2]=G,$=e[d>>2]|0,($|0)==(e[m>>2]|0)?pi(g,s):(e[$>>2]=G,e[d>>2]=$+4),$=e[C>>2]|0,($|0)==(e[S>>2]|0)){pi(x,f),ie=V;break}else{e[$>>2]=e[f>>2],e[C>>2]=$+4,ie=V;break}else ie=G;while(0);if(e[(e[w>>2]|0)+(e[f>>2]<<2)>>2]=e[s>>2],se=e[h>>2]|0,O=e[f>>2]|0,(O|0)==-1||(V=(((O>>>0)%3|0|0)==0?2:-1)+O|0,(V|0)==-1)||(O=e[(e[se+12>>2]|0)+(V<<2)>>2]|0,(O|0)==-1))break;if(J=O+(((O>>>0)%3|0|0)==0?2:-1)|0,e[f>>2]=J,(J|0)!=-1&&(J|0)!=(e[l>>2]|0))G=ie;else{ue=ie,Ee=se;break e}}e[f>>2]=-1,ue=ie,Ee=se}else ue=X,Ee=u;else Pe=26;while(0);(Pe|0)==26&&(Pe=0,e[f>>2]=-1,ue=X,Ee=u),P=ue,N=Ee}if(I=I+1|0,I>>>0>=(e[N+28>>2]|0)-(e[N+24>>2]|0)>>2>>>0)break;D=P,L=N}q=o}function $h(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;o=q,q=q+16|0,l=o+8|0,f=o+4|0,h=o,u=i+124|0,e[u>>2]=(e[u>>2]|0)+1,u=i+88|0,g=i+120|0,d=e[g>>2]|0,m=d+1|0;do if((d|0)!=-1)if(b=((m>>>0)%3|0|0)==0?d+-2|0:m,(d>>>0)%3|0){w=d+-1|0,x=b;break}else{w=d+2|0,x=b;break}else w=-1,x=-1;while(0);switch(m=i+104|0,b=i+92|0,C=e[b>>2]|0,S=C+(x<<2)|0,D=e[m>>2]|0,I=D+(e[S>>2]<<2)|0,L=e[I>>2]|0,s|0){case 1:case 0:{if(e[I>>2]=L+-1,I=D+(e[C+(w<<2)>>2]<<2)|0,e[I>>2]=(e[I>>2]|0)+-1,(s|0)==1){if((w|0)!=-1&&(I=e[(e[(e[u>>2]|0)+12>>2]|0)+(w<<2)>>2]|0,(I|0)!=-1)){for(P=i+64|0,N=1,X=I;;){if(I=e[P>>2]|0,j=e[(e[I>>2]|0)+36>>2]|0,e[f>>2]=(X>>>0)/3|0,e[l>>2]=e[f>>2],M0[j&127](I,l)|0){Q=N;break}if(I=X+1|0,j=((I>>>0)%3|0|0)==0?X+-2|0:I,(j|0)==-1){V=12;break}if(X=e[(e[(e[u>>2]|0)+12>>2]|0)+(j<<2)>>2]|0,j=N+1|0,(X|0)==-1){Q=j;break}else N=j}(V|0)==12&&(Q=N+1|0),G=Q,ee=e[m>>2]|0,J=e[b>>2]|0}else G=1,ee=D,J=C;if(e[ee+(e[J+(e[g>>2]<<2)>>2]<<2)>>2]=G,G=i+108|0,g=e[G>>2]|0,J=g-ee>>2,ee=g,(x|0)!=-1&&(g=e[(e[(e[u>>2]|0)+12>>2]|0)+(x<<2)>>2]|0,(g|0)!=-1)){for(x=i+64|0,Q=1,N=g;;){if(g=e[x>>2]|0,X=e[(e[g>>2]|0)+36>>2]|0,e[h>>2]=(N>>>0)/3|0,e[l>>2]=e[h>>2],M0[X&127](g,l)|0){O=Q;break}if(g=N+1|0,e[(e[b>>2]|0)+((((g>>>0)%3|0|0)==0?N+-2|0:g)<<2)>>2]=J,g=(((N>>>0)%3|0|0)==0?2:-1)+N|0,(g|0)==-1){V=20;break}if(N=e[(e[(e[u>>2]|0)+12>>2]|0)+(g<<2)>>2]|0,g=Q+1|0,(N|0)==-1){O=g;break}else Q=g}(V|0)==20&&(O=Q+1|0),$=O,ie=e[G>>2]|0}else $=1,ie=ee;e[l>>2]=$,ie>>>0<(e[i+112>>2]|0)>>>0?(e[ie>>2]=$,e[G>>2]=ie+4):pi(m,l)}break}case 5:{m=D+(e[C+(d<<2)>>2]<<2)|0,e[m>>2]=(e[m>>2]|0)+-1,m=D+(e[S>>2]<<2)|0,e[m>>2]=(e[m>>2]|0)+-1,m=D+(e[C+(w<<2)>>2]<<2)|0,e[m>>2]=(e[m>>2]|0)+-2;break}case 3:{m=D+(e[C+(d<<2)>>2]<<2)|0,e[m>>2]=(e[m>>2]|0)+-1,m=D+(e[S>>2]<<2)|0,e[m>>2]=(e[m>>2]|0)+-2,m=D+(e[C+(w<<2)>>2]<<2)|0,e[m>>2]=(e[m>>2]|0)+-1;break}case 7:{m=D+(e[C+(d<<2)>>2]<<2)|0,e[m>>2]=(e[m>>2]|0)+-2,m=D+(e[S>>2]<<2)|0,e[m>>2]=(e[m>>2]|0)+-2,m=D+(e[C+(w<<2)>>2]<<2)|0,e[m>>2]=(e[m>>2]|0)+-2;break}}if(m=i+116|0,w=e[m>>2]|0,(w|0)==-1){e[m>>2]=s,q=o;return}C=e[i+128>>2]|0,(L|0)<(C|0)?se=C:(D=e[i+132>>2]|0,se=(L|0)>(D|0)?D:L),L=se-C|0,C=e[i+136>>2]|0,i=e[3384+(w<<2)>>2]|0,e[l>>2]=i,w=C+(L*12|0)+4|0,se=e[w>>2]|0,se>>>0<(e[C+(L*12|0)+8>>2]|0)>>>0?(e[se>>2]=i,e[w>>2]=se+4):pi(C+(L*12|0)|0,l),e[m>>2]=s,q=o}function Tc(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0;h=q,q=q+32|0,l=h+16|0,u=h+8|0,g=h,d=f>>>0>1073741823?-1:f<<2,m=Fl(d)|0,Tr(m|0,0,d|0)|0,d=e[i+28>>2]|0,b=i+36|0,w=e[b>>2]|0,x=e[w+4>>2]|0,C=e[w>>2]|0,S=x-C|0;e:do if((S|0)>4){for(D=S>>2,I=e[i+32>>2]|0,L=i+8|0,P=u+4|0,N=g+4|0,X=l+4|0,j=d+64|0,Q=d+28|0,V=(f|0)>0,G=m+4|0,ee=u+4|0,J=g+4|0,O=l+4|0,$=D+-1|0,x-C>>2>>>0>$>>>0?(ie=D,se=$,ue=C):qe();;){if($=e[ue+(se<<2)>>2]|0,D=_r(se,f)|0,($|0)!=-1&&(e[(e[d>>2]|0)+($>>>5<<2)>>2]&1<<($&31)|0)==0&&(Ee=e[(e[(e[j>>2]|0)+12>>2]|0)+($<<2)>>2]|0,(Ee|0)!=-1)&&($=e[Q>>2]|0,Pe=e[I>>2]|0,ge=e[Pe+(e[$+(Ee<<2)>>2]<<2)>>2]|0,Be=Ee+1|0,_e=e[Pe+(e[$+((((Be>>>0)%3|0|0)==0?Ee+-2|0:Be)<<2)>>2]<<2)>>2]|0,Be=e[Pe+(e[$+((((Ee>>>0)%3|0|0)==0?2:-1)+Ee<<2)>>2]<<2)>>2]|0,(ge|0)<(se|0)&(_e|0)<(se|0)&(Be|0)<(se|0))){if(Ee=_r(ge,f)|0,ge=_r(_e,f)|0,_e=_r(Be,f)|0,V){Be=0;do e[m+(Be<<2)>>2]=(e[s+(Be+_e<<2)>>2]|0)+(e[s+(Be+ge<<2)>>2]|0)-(e[s+(Be+Ee<<2)>>2]|0),Be=Be+1|0;while((Be|0)!=(f|0))}Be=s+(D<<2)|0,Ee=o+(D<<2)|0,ge=e[Be+4>>2]|0,_e=e[m>>2]|0,$=e[G>>2]|0,e[u>>2]=e[Be>>2],e[ee>>2]=ge,e[g>>2]=_e,e[J>>2]=$,Is(l,L,u,g),e[Ee>>2]=e[l>>2],e[Ee+4>>2]=e[O>>2]}else Ee=s+(D<<2)|0,$=s+((_r(ie+-2|0,f)|0)<<2)|0,_e=o+(D<<2)|0,ge=e[Ee+4>>2]|0,Be=e[$>>2]|0,Pe=e[$+4>>2]|0,e[u>>2]=e[Ee>>2],e[P>>2]=ge,e[g>>2]=Be,e[N>>2]=Pe,Is(l,L,u,g),e[_e>>2]=e[l>>2],e[_e+4>>2]=e[X>>2];if((ie|0)<=2)break e;if(_e=e[b>>2]|0,ue=e[_e>>2]|0,Pe=se+-1|0,(e[_e+4>>2]|0)-ue>>2>>>0<=Pe>>>0)break;_e=se,se=Pe,ie=_e}qe()}while(0);return(f|0)<=0?(Ce=i+8|0,We=s+4|0,lt=e[s>>2]|0,et=e[We>>2]|0,Ve=m+4|0,He=e[m>>2]|0,st=e[Ve>>2]|0,e[u>>2]=lt,Je=u+4|0,e[Je>>2]=et,e[g>>2]=He,it=g+4|0,e[it>>2]=st,Is(l,Ce,u,g),ze=e[l>>2]|0,e[o>>2]=ze,Ge=l+4|0,ke=e[Ge>>2]|0,ut=o+4|0,e[ut>>2]=ke,F0(m),q=h,1):(Tr(m|0,0,f<<2|0)|0,Ce=i+8|0,We=s+4|0,lt=e[s>>2]|0,et=e[We>>2]|0,Ve=m+4|0,He=e[m>>2]|0,st=e[Ve>>2]|0,e[u>>2]=lt,Je=u+4|0,e[Je>>2]=et,e[g>>2]=He,it=g+4|0,e[it>>2]=st,Is(l,Ce,u,g),ze=e[l>>2]|0,e[o>>2]=ze,Ge=l+4|0,ke=e[Ge>>2]|0,ut=o+4|0,e[ut>>2]=ke,F0(m),q=h,1)}function T2(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;if(o=i+4|0,!s){l=e[i>>2]|0,e[i>>2]=0,l|0&&Ae(l),e[o>>2]=0;return}s>>>0>1073741823&&(l=An(8)|0,c0(l,14941),e[l>>2]=6944,yn(l|0,1080,114)),l=It(s<<2)|0,f=e[i>>2]|0,e[i>>2]=l,f|0&&Ae(f),e[o>>2]=s,o=0;do e[(e[i>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(s|0));if(o=i+8|0,f=e[o>>2]|0,!f)return;if(l=e[f+4>>2]|0,h=s+-1|0,u=(h&s|0)==0,u?g=l&h:l>>>0<s>>>0?g=l:g=(l>>>0)%(s>>>0)|0,e[(e[i>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,w=f;else return;e:for(;;){f=m,o=b,g=w;t:for(;;){r:do if(u)for(l=o;;){if(x=e[l+4>>2]&h,(x|0)==(d|0)){C=l;break r}if(S=(e[i>>2]|0)+(x<<2)|0,!(e[S>>2]|0)){D=l,I=x,L=S;break t}S=l+8|0,P=S+2|0,N=l+12|0,X=S+6|0,j=e[l>>2]|0;i:do if(!j)Q=l;else for(V=Or[S>>1]|0,G=l,ee=j;;){if(J=ee+8|0,V<<16>>16!=(Or[J>>1]|0)){Q=G;break i}if((Or[P>>1]|0)!=(Or[J+2>>1]|0)){Q=G;break i}if((Or[N>>1]|0)!=(Or[ee+12>>1]|0)){Q=G;break i}if((Or[X>>1]|0)!=(Or[J+6>>1]|0)){Q=G;break i}if(J=e[ee>>2]|0,J)O=ee,ee=J,G=O;else{Q=ee;break}}while(0);if(e[g>>2]=e[Q>>2],e[Q>>2]=e[e[(e[i>>2]|0)+(x<<2)>>2]>>2],e[e[(e[i>>2]|0)+(x<<2)>>2]>>2]=l,l=e[f>>2]|0,!l){$=43;break e}}else for(l=o;;){if(X=e[l+4>>2]|0,X>>>0<s>>>0?ie=X:ie=(X>>>0)%(s>>>0)|0,(ie|0)==(d|0)){C=l;break r}if(X=(e[i>>2]|0)+(ie<<2)|0,!(e[X>>2]|0)){D=l,I=ie,L=X;break t}X=l+8|0,N=X+2|0,P=l+12|0,j=X+6|0,S=e[l>>2]|0;i:do if(!S)se=l;else for(G=Or[X>>1]|0,ee=l,V=S;;){if(O=V+8|0,G<<16>>16!=(Or[O>>1]|0)){se=ee;break i}if((Or[N>>1]|0)!=(Or[O+2>>1]|0)){se=ee;break i}if((Or[P>>1]|0)!=(Or[V+12>>1]|0)){se=ee;break i}if((Or[j>>1]|0)!=(Or[O+6>>1]|0)){se=ee;break i}if(O=e[V>>2]|0,O)J=V,V=O,ee=J;else{se=V;break}}while(0);if(e[g>>2]=e[se>>2],e[se>>2]=e[e[(e[i>>2]|0)+(ie<<2)>>2]>>2],e[e[(e[i>>2]|0)+(ie<<2)>>2]>>2]=l,l=e[f>>2]|0,!l){$=43;break e}}while(0);if(o=e[C>>2]|0,o)f=C,g=C;else{$=43;break e}}if(e[L>>2]=g,b=e[D>>2]|0,b)d=I,m=D,w=D;else{$=43;break}}$|0}function ed(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;if(o=i+4|0,!s){l=e[i>>2]|0,e[i>>2]=0,l|0&&Ae(l),e[o>>2]=0;return}s>>>0>1073741823&&(l=An(8)|0,c0(l,14941),e[l>>2]=6944,yn(l|0,1080,114)),l=It(s<<2)|0,f=e[i>>2]|0,e[i>>2]=l,f|0&&Ae(f),e[o>>2]=s,o=0;do e[(e[i>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(s|0));if(o=i+8|0,f=e[o>>2]|0,!f)return;if(l=e[f+4>>2]|0,h=s+-1|0,u=(h&s|0)==0,u?g=l&h:l>>>0<s>>>0?g=l:g=(l>>>0)%(s>>>0)|0,e[(e[i>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,w=f;else return;e:for(;;){f=m,o=b,g=w;t:for(;;){r:do if(u)for(l=o;;){if(x=e[l+4>>2]&h,(x|0)==(d|0)){C=l;break r}if(S=(e[i>>2]|0)+(x<<2)|0,!(e[S>>2]|0)){D=l,I=x,L=S;break t}S=l+8|0,P=S+1|0,N=S+2|0,X=S+3|0,j=e[l>>2]|0;i:do if(!j)Q=l;else for(V=Y[S>>0]|0,G=l,ee=j;;){if(J=ee+8|0,V<<24>>24!=(Y[J>>0]|0)){Q=G;break i}if((Y[P>>0]|0)!=(Y[J+1>>0]|0)){Q=G;break i}if((Y[N>>0]|0)!=(Y[J+2>>0]|0)){Q=G;break i}if((Y[X>>0]|0)!=(Y[J+3>>0]|0)){Q=G;break i}if(J=e[ee>>2]|0,J)O=ee,ee=J,G=O;else{Q=ee;break}}while(0);if(e[g>>2]=e[Q>>2],e[Q>>2]=e[e[(e[i>>2]|0)+(x<<2)>>2]>>2],e[e[(e[i>>2]|0)+(x<<2)>>2]>>2]=l,l=e[f>>2]|0,!l){$=43;break e}}else for(l=o;;){if(X=e[l+4>>2]|0,X>>>0<s>>>0?ie=X:ie=(X>>>0)%(s>>>0)|0,(ie|0)==(d|0)){C=l;break r}if(X=(e[i>>2]|0)+(ie<<2)|0,!(e[X>>2]|0)){D=l,I=ie,L=X;break t}X=l+8|0,N=X+1|0,P=X+2|0,j=X+3|0,S=e[l>>2]|0;i:do if(!S)se=l;else for(G=Y[X>>0]|0,ee=l,V=S;;){if(O=V+8|0,G<<24>>24!=(Y[O>>0]|0)){se=ee;break i}if((Y[N>>0]|0)!=(Y[O+1>>0]|0)){se=ee;break i}if((Y[P>>0]|0)!=(Y[O+2>>0]|0)){se=ee;break i}if((Y[j>>0]|0)!=(Y[O+3>>0]|0)){se=ee;break i}if(O=e[V>>2]|0,O)J=V,V=O,ee=J;else{se=V;break}}while(0);if(e[g>>2]=e[se>>2],e[se>>2]=e[e[(e[i>>2]|0)+(ie<<2)>>2]>>2],e[e[(e[i>>2]|0)+(ie<<2)>>2]>>2]=l,l=e[f>>2]|0,!l){$=43;break e}}while(0);if(o=e[C>>2]|0,o)f=C,g=C;else{$=43;break e}}if(e[L>>2]=g,b=e[D>>2]|0,b)d=I,m=D,w=D;else{$=43;break}}$|0}function rm(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0;if(o=i+4|0,!s){l=e[i>>2]|0,e[i>>2]=0,l|0&&Ae(l),e[o>>2]=0;return}s>>>0>1073741823&&(l=An(8)|0,c0(l,14941),e[l>>2]=6944,yn(l|0,1080,114)),l=It(s<<2)|0,f=e[i>>2]|0,e[i>>2]=l,f|0&&Ae(f),e[o>>2]=s,o=0;do e[(e[i>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(s|0));if(o=i+8|0,f=e[o>>2]|0,!f)return;if(l=e[f+4>>2]|0,h=s+-1|0,u=(h&s|0)==0,u?g=l&h:l>>>0<s>>>0?g=l:g=(l>>>0)%(s>>>0)|0,e[(e[i>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,w=f;else return;e:for(;;){f=m,o=b,g=w;t:for(;;){r:do if(u)for(l=o;;){if(x=e[l+4>>2]&h,(x|0)==(d|0)){C=l;break r}if(S=(e[i>>2]|0)+(x<<2)|0,!(e[S>>2]|0)){D=l,I=x,L=S;break t}S=l+12|0,P=l+16|0,N=l+20|0,X=e[l>>2]|0;i:do if(!X)j=l;else for(Q=e[l+8>>2]|0,V=l,G=X;;){if((Q|0)!=(e[G+8>>2]|0)){j=V;break i}if((e[S>>2]|0)!=(e[G+12>>2]|0)){j=V;break i}if((e[P>>2]|0)!=(e[G+16>>2]|0)){j=V;break i}if((e[N>>2]|0)!=(e[G+20>>2]|0)){j=V;break i}if(ee=e[G>>2]|0,ee)J=G,G=ee,V=J;else{j=G;break}}while(0);if(e[g>>2]=e[j>>2],e[j>>2]=e[e[(e[i>>2]|0)+(x<<2)>>2]>>2],e[e[(e[i>>2]|0)+(x<<2)>>2]>>2]=l,l=e[f>>2]|0,!l){O=43;break e}}else for(l=o;;){if(N=e[l+4>>2]|0,N>>>0<s>>>0?$=N:$=(N>>>0)%(s>>>0)|0,($|0)==(d|0)){C=l;break r}if(N=(e[i>>2]|0)+($<<2)|0,!(e[N>>2]|0)){D=l,I=$,L=N;break t}N=l+12|0,P=l+16|0,S=l+20|0,X=e[l>>2]|0;i:do if(!X)ie=l;else for(V=e[l+8>>2]|0,G=l,Q=X;;){if((V|0)!=(e[Q+8>>2]|0)){ie=G;break i}if((e[N>>2]|0)!=(e[Q+12>>2]|0)){ie=G;break i}if((e[P>>2]|0)!=(e[Q+16>>2]|0)){ie=G;break i}if((e[S>>2]|0)!=(e[Q+20>>2]|0)){ie=G;break i}if(J=e[Q>>2]|0,J)ee=Q,Q=J,G=ee;else{ie=Q;break}}while(0);if(e[g>>2]=e[ie>>2],e[ie>>2]=e[e[(e[i>>2]|0)+($<<2)>>2]>>2],e[e[(e[i>>2]|0)+($<<2)>>2]>>2]=l,l=e[f>>2]|0,!l){O=43;break e}}while(0);if(o=e[C>>2]|0,o)f=C,g=C;else{O=43;break e}}if(e[L>>2]=g,b=e[D>>2]|0,b)d=I,m=D,w=D;else{O=43;break}}O|0}function im(i,s,o,l,f){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0;var h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0;if(h=q,q=q+352|0,u=h+340|0,g=h+336|0,d=h+80|0,m=h+48|0,b=h,Tr(d|0,0,256)|0,w=e[l+4>>2]|0,x=e[l>>2]|0,C=x,(w|0)!=(x|0)){S=w-x>>2,x=0;do w=d+(e[C+(x<<2)>>2]<<3)|0,D=w,I=Qt(e[D>>2]|0,e[D+4>>2]|0,1,0)|0,D=w,e[D>>2]=I,e[D+4>>2]=Ze,x=x+1|0;while(x>>>0<S>>>0)}ll(m),S=e0(s|0,((s|0)<0)<<31>>31|0,5)|0,x=Ze,C=b+40|0,D=C,e[D>>2]=0,e[D+4>>2]=0,D=b,I=D+36|0;do e[D>>2]=0,D=D+4|0;while((D|0)<(I|0));if(ny(b,d,32,f)|0,d=b+16|0,D=e0(e[d>>2]|0,e[d+4>>2]|0,1)|0,d=f+4|0,I=(e[d>>2]|0)-(e[f>>2]|0)|0,w=C,e[w>>2]=I,e[w+4>>2]=0,w=Qt(D|0,Ze|0,39,0)|0,D=s0(w|0,Ze|0,3)|0,w=Qt(D|0,Ze|0,8,0)|0,D=Qt(w|0,Ze|0,I|0,0)|0,ds(f,D,Ze),D=b+24|0,e[D>>2]=(e[f>>2]|0)+(e[C>>2]|0),C=b+28|0,e[C>>2]=0,I=b+32|0,e[I>>2]=16384,q6(m,S,x,0)|0,x=s-o|0,(x|0)>-1){s=(o|0)>0,S=m+16|0,w=m+12|0,L=x;do{if(P=e[l>>2]|0,N=e[P+(((L|0)/(o|0)|0)<<2)>>2]|0,X=e[b>>2]|0,j=e[X+(N<<3)>>2]|0,Q=e[I>>2]|0,V=j<<10,Q>>>0<V>>>0)G=Q,ee=P;else{P=Q;do Q=e[D>>2]|0,J=e[C>>2]|0,e[C>>2]=J+1,Y[Q+J>>0]=P,P=(e[I>>2]|0)>>>8,e[I>>2]=P;while(P>>>0>=V>>>0);G=P,ee=e[l>>2]|0}if(e[I>>2]=(((G>>>0)/(j>>>0)|0)<<12)+((G>>>0)%(j>>>0)|0)+(e[X+(N<<3)+4>>2]|0),V=x-L|0,J=e[ee+(((V|0)/(o|0)|0)<<2)>>2]|0,s&(J|0)>0){Q=0;do{if(O=e[i+(Q+V<<2)>>2]|0,$=S,ie=e[$+4>>2]|0,(ie|0)>0|(ie|0)==0&(e[$>>2]|0)>>>0>0){$=e[w>>2]|0,ie=$+4|0,se=0,ue=e[ie>>2]|0;do Ee=ue>>>3,Pe=ue&7,ge=(e[$>>2]|0)+Ee|0,Y[ge>>0]=(1<<Pe^255)&(br[ge>>0]|0),ge=(e[$>>2]|0)+Ee|0,Y[ge>>0]=(O>>>se&1)<<Pe|(br[ge>>0]|0),ue=(e[ie>>2]|0)+1|0,e[ie>>2]=ue,se=se+1|0;while((se|0)!=(J|0))}Q=Q+1|0}while((Q|0)!=(o|0))}L=L-o|0}while((L|0)>-1)}return af(b,f),z(m),L=e[m>>2]|0,o=m+4|0,w=f+16|0,S=e[w+4>>2]|0,(S|0)>0|(S|0)==0&(e[w>>2]|0)>>>0>0||(w=(e[o>>2]|0)-L|0,e[g>>2]=e[d>>2],e[u>>2]=e[g>>2],wi(f,u,L,L+w|0)|0),w=e[b>>2]|0,w|0&&(L=b+4|0,b=e[L>>2]|0,(b|0)!=(w|0)&&(e[L>>2]=b+(~((b+-8-w|0)>>>3)<<3)),Ae(w)),w=m+12|0,b=e[w>>2]|0,e[w>>2]=0,b|0&&Ae(b),b=e[m>>2]|0,b?((e[o>>2]|0)!=(b|0)&&(e[o>>2]=b),Ae(b),q=h,1):(q=h,1)}function nm(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0;if(o=i+4|0,!s){l=e[i>>2]|0,e[i>>2]=0,l|0&&Ae(l),e[o>>2]=0;return}s>>>0>1073741823&&(l=An(8)|0,c0(l,14941),e[l>>2]=6944,yn(l|0,1080,114)),l=It(s<<2)|0,f=e[i>>2]|0,e[i>>2]=l,f|0&&Ae(f),e[o>>2]=s,o=0;do e[(e[i>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(s|0));if(o=i+8|0,f=e[o>>2]|0,!f)return;if(l=e[f+4>>2]|0,h=s+-1|0,u=(h&s|0)==0,u?g=l&h:l>>>0<s>>>0?g=l:g=(l>>>0)%(s>>>0)|0,e[(e[i>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,w=f;else return;e:for(;;){f=m,o=b,g=w;t:for(;;){r:do if(u)for(l=o;;){if(x=e[l+4>>2]&h,(x|0)==(d|0)){C=l;break r}if(S=(e[i>>2]|0)+(x<<2)|0,!(e[S>>2]|0)){D=l,I=x,L=S;break t}S=l+8|0,P=l+12|0,N=e[l>>2]|0;i:do if(!N)X=l;else for(j=Or[S>>1]|0,Q=S+2|0,V=l,G=N;;){if(ee=G+8|0,j<<16>>16!=(Or[ee>>1]|0)){X=V;break i}if((Or[Q>>1]|0)!=(Or[ee+2>>1]|0)){X=V;break i}if((Or[P>>1]|0)!=(Or[G+12>>1]|0)){X=V;break i}if(ee=e[G>>2]|0,ee)J=G,G=ee,V=J;else{X=G;break}}while(0);if(e[g>>2]=e[X>>2],e[X>>2]=e[e[(e[i>>2]|0)+(x<<2)>>2]>>2],e[e[(e[i>>2]|0)+(x<<2)>>2]>>2]=l,l=e[f>>2]|0,!l){O=41;break e}}else for(l=o;;){if(P=e[l+4>>2]|0,P>>>0<s>>>0?$=P:$=(P>>>0)%(s>>>0)|0,($|0)==(d|0)){C=l;break r}if(P=(e[i>>2]|0)+($<<2)|0,!(e[P>>2]|0)){D=l,I=$,L=P;break t}P=l+8|0,N=l+12|0,S=e[l>>2]|0;i:do if(!S)ie=l;else for(V=Or[P>>1]|0,G=P+2|0,Q=l,j=S;;){if(J=j+8|0,V<<16>>16!=(Or[J>>1]|0)){ie=Q;break i}if((Or[G>>1]|0)!=(Or[J+2>>1]|0)){ie=Q;break i}if((Or[N>>1]|0)!=(Or[j+12>>1]|0)){ie=Q;break i}if(J=e[j>>2]|0,J)ee=j,j=J,Q=ee;else{ie=j;break}}while(0);if(e[g>>2]=e[ie>>2],e[ie>>2]=e[e[(e[i>>2]|0)+($<<2)>>2]>>2],e[e[(e[i>>2]|0)+($<<2)>>2]>>2]=l,l=e[f>>2]|0,!l){O=41;break e}}while(0);if(o=e[C>>2]|0,o)f=C,g=C;else{O=41;break e}}if(e[L>>2]=g,b=e[D>>2]|0,b)d=I,m=D,w=D;else{O=41;break}}O|0}function ay(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0;if(o=i+4|0,!s){l=e[i>>2]|0,e[i>>2]=0,l|0&&Ae(l),e[o>>2]=0;return}s>>>0>1073741823&&(l=An(8)|0,c0(l,14941),e[l>>2]=6944,yn(l|0,1080,114)),l=It(s<<2)|0,f=e[i>>2]|0,e[i>>2]=l,f|0&&Ae(f),e[o>>2]=s,o=0;do e[(e[i>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(s|0));if(o=i+8|0,f=e[o>>2]|0,!f)return;if(l=e[f+4>>2]|0,h=s+-1|0,u=(h&s|0)==0,u?g=l&h:l>>>0<s>>>0?g=l:g=(l>>>0)%(s>>>0)|0,e[(e[i>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,w=f;else return;e:for(;;){f=m,o=b,g=w;t:for(;;){r:do if(u)for(l=o;;){if(x=e[l+4>>2]&h,(x|0)==(d|0)){C=l;break r}if(S=(e[i>>2]|0)+(x<<2)|0,!(e[S>>2]|0)){D=l,I=x,L=S;break t}S=l+8|0,P=S+1|0,N=S+2|0,X=e[l>>2]|0;i:do if(!X)j=l;else for(Q=Y[S>>0]|0,V=l,G=X;;){if(ee=G+8|0,Q<<24>>24!=(Y[ee>>0]|0)){j=V;break i}if((Y[P>>0]|0)!=(Y[ee+1>>0]|0)){j=V;break i}if((Y[N>>0]|0)!=(Y[ee+2>>0]|0)){j=V;break i}if(ee=e[G>>2]|0,ee)J=G,G=ee,V=J;else{j=G;break}}while(0);if(e[g>>2]=e[j>>2],e[j>>2]=e[e[(e[i>>2]|0)+(x<<2)>>2]>>2],e[e[(e[i>>2]|0)+(x<<2)>>2]>>2]=l,l=e[f>>2]|0,!l){O=41;break e}}else for(l=o;;){if(N=e[l+4>>2]|0,N>>>0<s>>>0?$=N:$=(N>>>0)%(s>>>0)|0,($|0)==(d|0)){C=l;break r}if(N=(e[i>>2]|0)+($<<2)|0,!(e[N>>2]|0)){D=l,I=$,L=N;break t}N=l+8|0,P=N+1|0,X=N+2|0,S=e[l>>2]|0;i:do if(!S)ie=l;else for(V=Y[N>>0]|0,G=l,Q=S;;){if(J=Q+8|0,V<<24>>24!=(Y[J>>0]|0)){ie=G;break i}if((Y[P>>0]|0)!=(Y[J+1>>0]|0)){ie=G;break i}if((Y[X>>0]|0)!=(Y[J+2>>0]|0)){ie=G;break i}if(J=e[Q>>2]|0,J)ee=Q,Q=J,G=ee;else{ie=Q;break}}while(0);if(e[g>>2]=e[ie>>2],e[ie>>2]=e[e[(e[i>>2]|0)+($<<2)>>2]>>2],e[e[(e[i>>2]|0)+($<<2)>>2]>>2]=l,l=e[f>>2]|0,!l){O=41;break e}}while(0);if(o=e[C>>2]|0,o)f=C,g=C;else{O=41;break e}}if(e[L>>2]=g,b=e[D>>2]|0,b)d=I,m=D,w=D;else{O=41;break}}O|0}function ly(i,s){i=+i,s=+s;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0;N0[En>>3]=i,o=e[En>>2]|0,l=e[En+4>>2]|0,N0[En>>3]=s,f=e[En>>2]|0,h=e[En+4>>2]|0,u=s0(o|0,l|0,52)|0,g=u&2047,u=s0(f|0,h|0,52)|0,d=u&2047,u=l&-2147483648,m=e0(f|0,h|0,1)|0,b=Ze;e:do if(!((m|0)==0&(b|0)==0)&&(w=B3(s)|0,x=Ze&2147483647,!((g|0)==2047|(x>>>0>2146435072|(x|0)==2146435072&w>>>0>0)))){if(w=e0(o|0,l|0,1)|0,x=Ze,!(x>>>0>b>>>0|(x|0)==(b|0)&w>>>0>m>>>0))return+((w|0)==(m|0)&(x|0)==(b|0)?i*0:i);if(g)I=g,L=o,P=l&1048575|1048576;else{if(x=e0(o|0,l|0,12)|0,w=Ze,(w|0)>-1|(w|0)==-1&x>>>0>4294967295)for(C=0,S=x,x=w;;)if(w=C+-1|0,S=e0(S|0,x|0,1)|0,x=Ze,(x|0)>-1|(x|0)==-1&S>>>0>4294967295)C=w;else{D=w;break}else D=0;C=e0(o|0,l|0,1-D|0)|0,I=D,L=C,P=Ze}if(d)X=d,j=f,Q=h&1048575|1048576;else{if(C=e0(f|0,h|0,12)|0,S=Ze,(S|0)>-1|(S|0)==-1&C>>>0>4294967295)for(x=0,w=C,C=S;;)if(S=x+-1|0,w=e0(w|0,C|0,1)|0,C=Ze,(C|0)>-1|(C|0)==-1&w>>>0>4294967295)x=S;else{N=S;break}else N=0;x=e0(f|0,h|0,1-N|0)|0,X=N,j=x,Q=Ze}x=Gi(L|0,P|0,j|0,Q|0)|0,w=Ze,C=(w|0)>-1|(w|0)==-1&x>>>0>4294967295;t:do if((I|0)>(X|0)){for(S=I,V=w,G=C,ee=L,J=P,O=x;;){if(G){if((O|0)==0&(V|0)==0)break;$=O,ie=V}else $=ee,ie=J;if(se=e0($|0,ie|0,1)|0,ue=Ze,Ee=S+-1|0,Pe=Gi(se|0,ue|0,j|0,Q|0)|0,ge=Ze,Be=(ge|0)>-1|(ge|0)==-1&Pe>>>0>4294967295,(Ee|0)>(X|0))S=Ee,V=ge,G=Be,ee=se,J=ue,O=Pe;else{_e=Ee,Ce=Be,We=Pe,lt=ge,et=se,Ve=ue;break t}}He=i*0;break e}else _e=I,Ce=C,We=x,lt=w,et=L,Ve=P;while(0);if(Ce)if((We|0)==0&(lt|0)==0){He=i*0;break}else st=lt,Je=We;else st=Ve,Je=et;if(st>>>0<1048576|(st|0)==1048576&Je>>>0<0)for(w=_e,x=Je,C=st;;)if(O=e0(x|0,C|0,1)|0,J=Ze,ee=w+-1|0,J>>>0<1048576|(J|0)==1048576&O>>>0<0)w=ee,x=O,C=J;else{it=ee,ze=O,Ge=J;break}else it=_e,ze=Je,Ge=st;(it|0)>0?(C=Qt(ze|0,Ge|0,0,-1048576)|0,x=Ze,w=e0(it|0,0,52)|0,ke=x|Ze,ut=C|w):(w=s0(ze|0,Ge|0,1-it|0)|0,ke=Ze,ut=w),e[En>>2]=ut,e[En+4>>2]=ke|u,He=+N0[En>>3]}else tt=3;while(0);return(tt|0)==3&&(at=i*s,He=at/at),+He}function ho(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0;if(o=i+4|0,!s){l=e[i>>2]|0,e[i>>2]=0,l|0&&Ae(l),e[o>>2]=0;return}s>>>0>1073741823&&(l=An(8)|0,c0(l,14941),e[l>>2]=6944,yn(l|0,1080,114)),l=It(s<<2)|0,f=e[i>>2]|0,e[i>>2]=l,f|0&&Ae(f),e[o>>2]=s,o=0;do e[(e[i>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(s|0));if(o=i+8|0,f=e[o>>2]|0,!f)return;if(l=e[f+4>>2]|0,h=s+-1|0,u=(h&s|0)==0,u?g=l&h:l>>>0<s>>>0?g=l:g=(l>>>0)%(s>>>0)|0,e[(e[i>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,w=f;else return;e:for(;;){f=m,o=b,g=w;t:for(;;){r:do if(u)for(l=o;;){if(x=e[l+4>>2]&h,(x|0)==(d|0)){C=l;break r}if(S=(e[i>>2]|0)+(x<<2)|0,!(e[S>>2]|0)){D=l,I=x,L=S;break t}S=l+12|0,P=l+16|0,N=e[l>>2]|0;i:do if(!N)X=l;else for(j=e[l+8>>2]|0,Q=l,V=N;;){if((j|0)!=(e[V+8>>2]|0)){X=Q;break i}if((e[S>>2]|0)!=(e[V+12>>2]|0)){X=Q;break i}if((e[P>>2]|0)!=(e[V+16>>2]|0)){X=Q;break i}if(G=e[V>>2]|0,G)ee=V,V=G,Q=ee;else{X=V;break}}while(0);if(e[g>>2]=e[X>>2],e[X>>2]=e[e[(e[i>>2]|0)+(x<<2)>>2]>>2],e[e[(e[i>>2]|0)+(x<<2)>>2]>>2]=l,l=e[f>>2]|0,!l){J=41;break e}}else for(l=o;;){if(P=e[l+4>>2]|0,P>>>0<s>>>0?O=P:O=(P>>>0)%(s>>>0)|0,(O|0)==(d|0)){C=l;break r}if(P=(e[i>>2]|0)+(O<<2)|0,!(e[P>>2]|0)){D=l,I=O,L=P;break t}P=l+12|0,S=l+16|0,N=e[l>>2]|0;i:do if(!N)$=l;else for(Q=e[l+8>>2]|0,V=l,j=N;;){if((Q|0)!=(e[j+8>>2]|0)){$=V;break i}if((e[P>>2]|0)!=(e[j+12>>2]|0)){$=V;break i}if((e[S>>2]|0)!=(e[j+16>>2]|0)){$=V;break i}if(ee=e[j>>2]|0,ee)G=j,j=ee,V=G;else{$=j;break}}while(0);if(e[g>>2]=e[$>>2],e[$>>2]=e[e[(e[i>>2]|0)+(O<<2)>>2]>>2],e[e[(e[i>>2]|0)+(O<<2)>>2]>>2]=l,l=e[f>>2]|0,!l){J=41;break e}}while(0);if(o=e[C>>2]|0,o)f=C,g=C;else{J=41;break e}}if(e[L>>2]=g,b=e[D>>2]|0,b)d=I,m=D,w=D;else{J=41;break}}J|0}function td(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0;if(o=i+4|0,!s){l=e[i>>2]|0,e[i>>2]=0,l|0&&Ae(l),e[o>>2]=0;return}s>>>0>1073741823&&(l=An(8)|0,c0(l,14941),e[l>>2]=6944,yn(l|0,1080,114)),l=It(s<<2)|0,f=e[i>>2]|0,e[i>>2]=l,f|0&&Ae(f),e[o>>2]=s,o=0;do e[(e[i>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(s|0));if(o=i+8|0,f=e[o>>2]|0,!f)return;if(l=e[f+4>>2]|0,h=s+-1|0,u=(h&s|0)==0,u?g=l&h:l>>>0<s>>>0?g=l:g=(l>>>0)%(s>>>0)|0,e[(e[i>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,w=f;else return;e:for(;;){f=m,o=b,g=w;t:for(;;){for(x=o;l=e[x+4>>2]|0,u?C=l&h:l>>>0<s>>>0?C=l:C=(l>>>0)%(s>>>0)|0,(C|0)!=(d|0);){if(S=(e[i>>2]|0)+(C<<2)|0,!(e[S>>2]|0))break t;l=e[x>>2]|0;r:do if(!l)D=x;else{if(I=x+8|0,L=Y[I+11>>0]|0,P=L<<24>>24<0,N=L&255,L=P?e[x+12>>2]|0:N,X=(L|0)==0,P)for(P=x,j=l;;){if(Q=j+8|0,V=Y[Q+11>>0]|0,G=V<<24>>24<0,(L|0)!=((G?e[j+12>>2]|0:V&255)|0)){D=P;break r}if(!X&&vs(e[I>>2]|0,G?e[Q>>2]|0:Q,L)|0){D=P;break r}if(Q=e[j>>2]|0,Q)G=j,j=Q,P=G;else{D=j;break r}}if(X)for(P=x,j=l;;){if(G=Y[j+8+11>>0]|0,(G<<24>>24<0?e[j+12>>2]|0:G&255)|0){D=P;break r}if(G=e[j>>2]|0,G)Q=j,j=G,P=Q;else{D=j;break r}}for(P=x,j=l;;){if(X=j+8|0,Q=Y[X+11>>0]|0,G=Q<<24>>24<0,(L|0)!=((G?e[j+12>>2]|0:Q&255)|0)){D=P;break r}if(Q=G?e[X>>2]|0:X,(Y[Q>>0]|0)==(e[I>>2]&255)<<24>>24)ee=I,J=N,O=Q;else{D=P;break r}for(;J=J+-1|0,ee=ee+1|0,!!J;)if(O=O+1|0,(Y[ee>>0]|0)!=(Y[O>>0]|0)){D=P;break r}if(Q=e[j>>2]|0,Q)X=j,j=Q,P=X;else{D=j;break}}}while(0);if(e[g>>2]=e[D>>2],e[D>>2]=e[e[(e[i>>2]|0)+(C<<2)>>2]>>2],e[e[(e[i>>2]|0)+(C<<2)>>2]>>2]=x,l=e[f>>2]|0,l)x=l;else{$=43;break e}}if(o=e[x>>2]|0,o)f=x,g=x;else{$=43;break e}}if(e[S>>2]=g,b=e[x>>2]|0,b)d=C,m=x,w=x;else{$=43;break}}$|0}function sm(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0;if(o=q,q=q+48|0,l=o+8|0,f=o+4|0,h=o,u=i+44|0,p0(e[u>>2]|0,s)|0,e[u>>2]|0){if(_n(l),Sn(l),g=e[u>>2]|0,(g|0)>0){u=i+40|0,d=g;do g=d,d=d+-1|0,Wn(l,(e[(e[u>>2]|0)+(d>>>5<<2)>>2]&1<<(d&31)|0)!=0);while((g|0)>1)}pn(l,s),ln(l)}if(d=i+56|0,p0(e[d>>2]|0,s)|0,e[d>>2]|0){if(_n(l),Sn(l),u=e[d>>2]|0,(u|0)>1){d=i+52|0,g=u;do u=g,g=g+-2|0,Wn(l,(e[(e[d>>2]|0)+(g>>>5<<2)>>2]&1<<(g&31)|0)!=0),m=u+-1|0,Wn(l,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0);while((u|0)>3)}pn(l,s),ln(l)}if(d=i+68|0,p0(e[d>>2]|0,s)|0,e[d>>2]|0){if(_n(l),Sn(l),g=e[d>>2]|0,(g|0)>2){d=i+64|0,u=g;do g=u,u=u+-3|0,Wn(l,(e[(e[d>>2]|0)+(u>>>5<<2)>>2]&1<<(u&31)|0)!=0),m=g+-2|0,Wn(l,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0),m=g+-1|0,Wn(l,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0);while((g|0)>5)}pn(l,s),ln(l)}if(d=i+80|0,p0(e[d>>2]|0,s)|0,e[d>>2]|0){if(_n(l),Sn(l),u=e[d>>2]|0,(u|0)>3){d=i+76|0,g=u;do u=g,g=g+-4|0,Wn(l,(e[(e[d>>2]|0)+(g>>>5<<2)>>2]&1<<(g&31)|0)!=0),m=u+-3|0,Wn(l,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0),m=u+-2|0,Wn(l,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0),m=u+-1|0,Wn(l,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0);while((u|0)>7)}pn(l,s),ln(l)}return e[h>>2]=e[i+12>>2],d=s+16|0,g=d,u=e[g>>2]|0,m=e[g+4>>2]|0,(m|0)>0|(m|0)==0&u>>>0>0?(b=m,w=u):(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+4|0)|0,u=d,b=e[u+4>>2]|0,w=e[u>>2]|0),e[h>>2]=e[i+20>>2],(b|0)>0|(b|0)==0&w>>>0>0?(q=o,1):(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+4|0)|0,q=o,1)}function om(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0;if(o=q,q=q+48|0,l=o+8|0,f=o+4|0,h=o,u=i+64|0,p0(e[u>>2]|0,s)|0,e[u>>2]|0){if(_n(l),Sn(l),g=e[u>>2]|0,(g|0)>0){u=i+60|0,d=g;do g=d,d=d+-1|0,Wn(l,(e[(e[u>>2]|0)+(d>>>5<<2)>>2]&1<<(d&31)|0)!=0);while((g|0)>1)}pn(l,s),ln(l)}if(d=i+76|0,p0(e[d>>2]|0,s)|0,e[d>>2]|0){if(_n(l),Sn(l),u=e[d>>2]|0,(u|0)>1){d=i+72|0,g=u;do u=g,g=g+-2|0,Wn(l,(e[(e[d>>2]|0)+(g>>>5<<2)>>2]&1<<(g&31)|0)!=0),m=u+-1|0,Wn(l,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0);while((u|0)>3)}pn(l,s),ln(l)}if(d=i+88|0,p0(e[d>>2]|0,s)|0,e[d>>2]|0){if(_n(l),Sn(l),g=e[d>>2]|0,(g|0)>2){d=i+84|0,u=g;do g=u,u=u+-3|0,Wn(l,(e[(e[d>>2]|0)+(u>>>5<<2)>>2]&1<<(u&31)|0)!=0),m=g+-2|0,Wn(l,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0),m=g+-1|0,Wn(l,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0);while((g|0)>5)}pn(l,s),ln(l)}if(d=i+100|0,p0(e[d>>2]|0,s)|0,e[d>>2]|0){if(_n(l),Sn(l),u=e[d>>2]|0,(u|0)>3){d=i+96|0,g=u;do u=g,g=g+-4|0,Wn(l,(e[(e[d>>2]|0)+(g>>>5<<2)>>2]&1<<(g&31)|0)!=0),m=u+-3|0,Wn(l,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0),m=u+-2|0,Wn(l,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0),m=u+-1|0,Wn(l,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0);while((u|0)>7)}pn(l,s),ln(l)}return e[h>>2]=e[i+12>>2],d=s+16|0,g=d,u=e[g>>2]|0,m=e[g+4>>2]|0,(m|0)>0|(m|0)==0&u>>>0>0?(b=m,w=u):(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+4|0)|0,u=d,b=e[u+4>>2]|0,w=e[u>>2]|0),e[h>>2]=e[i+16>>2],(b|0)>0|(b|0)==0&w>>>0>0?(q=o,1):(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+4|0)|0,q=o,1)}function am(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0;if(o=i+4|0,!s){l=e[i>>2]|0,e[i>>2]=0,l|0&&Ae(l),e[o>>2]=0;return}s>>>0>1073741823&&(l=An(8)|0,c0(l,14941),e[l>>2]=6944,yn(l|0,1080,114)),l=It(s<<2)|0,f=e[i>>2]|0,e[i>>2]=l,f|0&&Ae(f),e[o>>2]=s,o=0;do e[(e[i>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(s|0));if(o=i+8|0,f=e[o>>2]|0,!f)return;if(l=e[f+4>>2]|0,h=s+-1|0,u=(h&s|0)==0,u?g=l&h:l>>>0<s>>>0?g=l:g=(l>>>0)%(s>>>0)|0,e[(e[i>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,w=f;else return;e:for(;;){f=m,o=b,g=w;t:for(;;){r:do if(u)for(l=o;;){if(x=e[l+4>>2]&h,(x|0)==(d|0)){C=l;break r}if(S=(e[i>>2]|0)+(x<<2)|0,!(e[S>>2]|0)){D=l,I=x,L=S;break t}S=l+8|0,P=e[l>>2]|0;i:do if(!P)N=l;else for(X=Or[S>>1]|0,j=S+2|0,Q=l,V=P;;){if(G=V+8|0,X<<16>>16!=(Or[G>>1]|0)){N=Q;break i}if((Or[j>>1]|0)!=(Or[G+2>>1]|0)){N=Q;break i}if(G=e[V>>2]|0,G)ee=V,V=G,Q=ee;else{N=V;break}}while(0);if(e[g>>2]=e[N>>2],e[N>>2]=e[e[(e[i>>2]|0)+(x<<2)>>2]>>2],e[e[(e[i>>2]|0)+(x<<2)>>2]>>2]=l,l=e[f>>2]|0,!l){J=39;break e}}else for(l=o;;){if(P=e[l+4>>2]|0,P>>>0<s>>>0?O=P:O=(P>>>0)%(s>>>0)|0,(O|0)==(d|0)){C=l;break r}if(P=(e[i>>2]|0)+(O<<2)|0,!(e[P>>2]|0)){D=l,I=O,L=P;break t}P=l+8|0,S=e[l>>2]|0;i:do if(!S)$=l;else for(Q=Or[P>>1]|0,V=P+2|0,j=l,X=S;;){if(ee=X+8|0,Q<<16>>16!=(Or[ee>>1]|0)){$=j;break i}if((Or[V>>1]|0)!=(Or[ee+2>>1]|0)){$=j;break i}if(ee=e[X>>2]|0,ee)G=X,X=ee,j=G;else{$=X;break}}while(0);if(e[g>>2]=e[$>>2],e[$>>2]=e[e[(e[i>>2]|0)+(O<<2)>>2]>>2],e[e[(e[i>>2]|0)+(O<<2)>>2]>>2]=l,l=e[f>>2]|0,!l){J=39;break e}}while(0);if(o=e[C>>2]|0,o)f=C,g=C;else{J=39;break e}}if(e[L>>2]=g,b=e[D>>2]|0,b)d=I,m=D,w=D;else{J=39;break}}J|0}function Pu(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0;if(o=i+4|0,!s){l=e[i>>2]|0,e[i>>2]=0,l|0&&Ae(l),e[o>>2]=0;return}s>>>0>1073741823&&(l=An(8)|0,c0(l,14941),e[l>>2]=6944,yn(l|0,1080,114)),l=It(s<<2)|0,f=e[i>>2]|0,e[i>>2]=l,f|0&&Ae(f),e[o>>2]=s,o=0;do e[(e[i>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(s|0));if(o=i+8|0,f=e[o>>2]|0,!f)return;if(l=e[f+4>>2]|0,h=s+-1|0,u=(h&s|0)==0,u?g=l&h:l>>>0<s>>>0?g=l:g=(l>>>0)%(s>>>0)|0,e[(e[i>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,w=f;else return;e:for(;;){f=m,o=b,g=w;t:for(;;){r:do if(u)for(l=o;;){if(x=e[l+4>>2]&h,(x|0)==(d|0)){C=l;break r}if(S=(e[i>>2]|0)+(x<<2)|0,!(e[S>>2]|0)){D=l,I=x,L=S;break t}S=l+8|0,P=e[l>>2]|0;i:do if(!P)N=l;else for(X=Y[S>>0]|0,j=S+1|0,Q=l,V=P;;){if(G=V+8|0,X<<24>>24!=(Y[G>>0]|0)){N=Q;break i}if((Y[j>>0]|0)!=(Y[G+1>>0]|0)){N=Q;break i}if(G=e[V>>2]|0,G)ee=V,V=G,Q=ee;else{N=V;break}}while(0);if(e[g>>2]=e[N>>2],e[N>>2]=e[e[(e[i>>2]|0)+(x<<2)>>2]>>2],e[e[(e[i>>2]|0)+(x<<2)>>2]>>2]=l,l=e[f>>2]|0,!l){J=39;break e}}else for(l=o;;){if(P=e[l+4>>2]|0,P>>>0<s>>>0?O=P:O=(P>>>0)%(s>>>0)|0,(O|0)==(d|0)){C=l;break r}if(P=(e[i>>2]|0)+(O<<2)|0,!(e[P>>2]|0)){D=l,I=O,L=P;break t}P=l+8|0,S=e[l>>2]|0;i:do if(!S)$=l;else for(Q=Y[P>>0]|0,V=P+1|0,j=l,X=S;;){if(ee=X+8|0,Q<<24>>24!=(Y[ee>>0]|0)){$=j;break i}if((Y[V>>0]|0)!=(Y[ee+1>>0]|0)){$=j;break i}if(ee=e[X>>2]|0,ee)G=X,X=ee,j=G;else{$=X;break}}while(0);if(e[g>>2]=e[$>>2],e[$>>2]=e[e[(e[i>>2]|0)+(O<<2)>>2]>>2],e[e[(e[i>>2]|0)+(O<<2)>>2]>>2]=l,l=e[f>>2]|0,!l){J=39;break e}}while(0);if(o=e[C>>2]|0,o)f=C,g=C;else{J=39;break e}}if(e[L>>2]=g,b=e[D>>2]|0,b)d=I,m=D,w=D;else{J=39;break}}J|0}function Xf(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0;if(o=q,q=q+48|0,l=o+32|0,f=o+28|0,h=o+16|0,u=o,g=i+16|0,d=e[g>>2]|0,d|0){m=e[s>>2]|0,b=g,w=d;e:for(;;){for(d=w;!((e[d+16>>2]|0)>=(m|0));)if(x=e[d+4>>2]|0,x)d=x;else{C=b;break e}if(w=e[d>>2]|0,w)b=d;else{C=d;break}}if((C|0)!=(g|0)&&(m|0)>=(e[C+16>>2]|0))return S=C,D=S+20|0,q=o,D|0}if(Q2(h),e[u>>2]=e[s>>2],s=u+4|0,e[u+8>>2]=0,C=u+12|0,e[C>>2]=0,m=u+8|0,e[s>>2]=m,b=e[h>>2]|0,w=h+4|0,(b|0)!=(w|0))for(x=m,I=b;;){if(b=I+16|0,e[f>>2]=x,e[l>>2]=e[f>>2],__(s,l,b,b)|0,b=e[I+4>>2]|0,b){for(P=b;d=e[P>>2]|0,d;)P=d;N=P}else if(L=I+8|0,P=e[L>>2]|0,(e[P>>2]|0)==(I|0))N=P;else{P=L;do L=e[P>>2]|0,P=L+8|0,X=e[P>>2]|0;while((e[X>>2]|0)!=(L|0));N=X}if((N|0)==(w|0))break;I=N}N=i+12|0,I=e[g>>2]|0;do if(I){for(l=e[u>>2]|0,f=i+16|0,x=I;;){if(b=e[x+16>>2]|0,(l|0)<(b|0))if(d=e[x>>2]|0,d)Q=x,V=d;else{j=23;break}else{if((b|0)>=(l|0)){j=27;break}if(G=x+4|0,b=e[G>>2]|0,b)Q=G,V=b;else{j=26;break}}f=Q,x=V}if((j|0)==23){ee=x,J=x;break}else if((j|0)==26){ee=x,J=G;break}else if((j|0)==27){ee=x,J=f;break}}else ee=g,J=g;while(0);return g=e[J>>2]|0,g?$=g:(j=It(32)|0,e[j+16>>2]=e[u>>2],G=j+20|0,e[G>>2]=e[s>>2],V=j+24|0,Q=e[u+8>>2]|0,e[V>>2]=Q,I=e[C>>2]|0,e[j+28>>2]=I,I?(e[Q+8>>2]=V,e[s>>2]=m,e[m>>2]=0,e[C>>2]=0):e[G>>2]=V,e[j>>2]=0,e[j+4>>2]=0,e[j+8>>2]=ee,e[J>>2]=j,ee=e[e[N>>2]>>2]|0,ee?(e[N>>2]=ee,O=e[J>>2]|0):O=j,of(e[i+16>>2]|0,O),O=i+20|0,e[O>>2]=(e[O>>2]|0)+1,$=j),hs(u+4|0,e[m>>2]|0),hs(h,e[w>>2]|0),S=$,D=S+20|0,q=o,D|0}function M2(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0;if(o=Y[s+11>>0]|0,l=o<<24>>24<0,f=l?e[s>>2]|0:s,h=l?e[s+4>>2]|0:o&255,h>>>0>3){for(o=f,s=h,l=h;u=_r(br[o>>0]|br[o+1>>0]<<8|br[o+2>>0]<<16|br[o+3>>0]<<24,1540483477)|0,s=(_r(u>>>24^u,1540483477)|0)^(_r(s,1540483477)|0),l=l+-4|0,!(l>>>0<=3);)o=o+4|0;o=h+-4|0,l=o&-4,g=o-l|0,d=f+(l+4)|0,m=s}else g=h,d=f,m=h;switch(g|0){case 3:{b=br[d+2>>0]<<16^m,w=6;break}case 2:{b=m,w=6;break}case 1:{x=m,w=7;break}default:C=m}if((w|0)==6&&(x=br[d+1>>0]<<8^b,w=7),(w|0)==7&&(C=_r(x^br[d>>0],1540483477)|0),d=_r(C>>>13^C,1540483477)|0,C=d>>>15^d,d=e[i+4>>2]|0,!d||(x=d+-1|0,b=(x&d|0)==0,b?D=C&x:C>>>0<d>>>0?D=C:D=(C>>>0)%(d>>>0)|0,m=e[(e[i>>2]|0)+(D<<2)>>2]|0,!m)||(i=e[m>>2]|0,!i))return S=0,S|0;if(m=(h|0)==0,b){b=i;e:for(;;){if(g=e[b+4>>2]|0,s=(g|0)==(C|0),!(s|(g&x|0)==(D|0))){S=0,w=40;break}do if(s&&(g=b+8|0,l=Y[g+11>>0]|0,o=l<<24>>24<0,u=l&255,((o?e[b+12>>2]|0:u)|0)==(h|0))){if(l=e[g>>2]|0,I=o?l:g,o){if(m){S=b,w=40;break e}if(vs(I,f,h)|0)break;S=b,w=40;break e}if(m){S=b,w=40;break e}if((Y[f>>0]|0)==(l&255)<<24>>24){l=g,g=u,u=f;do{if(g=g+-1|0,l=l+1|0,!g){S=b,w=40;break e}u=u+1|0}while((Y[l>>0]|0)==(Y[u>>0]|0))}}while(0);if(b=e[b>>2]|0,!b){S=0,w=40;break}}if((w|0)==40)return S|0}else L=i;e:for(;;){i=e[L+4>>2]|0;do if((i|0)==(C|0)){if(b=L+8|0,x=Y[b+11>>0]|0,s=x<<24>>24<0,u=x&255,((s?e[L+12>>2]|0:u)|0)==(h|0)){if(x=e[b>>2]|0,l=s?x:b,s){if(m){S=L,w=40;break e}if(vs(l,f,h)|0)break;S=L,w=40;break e}if(m){S=L,w=40;break e}if((Y[f>>0]|0)==(x&255)<<24>>24){x=b,b=u,u=f;do{if(b=b+-1|0,x=x+1|0,!b){S=L,w=40;break e}u=u+1|0}while((Y[x>>0]|0)==(Y[u>>0]|0))}}}else if(i>>>0<d>>>0?P=i:P=(i>>>0)%(d>>>0)|0,(P|0)!=(D|0)){S=0,w=40;break e}while(0);if(L=e[L>>2]|0,!L){S=0,w=40;break}}return(w|0)==40?S|0:0}function lm(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0;if(o=i+4|0,!s){l=e[i>>2]|0,e[i>>2]=0,l|0&&Ae(l),e[o>>2]=0;return}s>>>0>1073741823&&(l=An(8)|0,c0(l,14941),e[l>>2]=6944,yn(l|0,1080,114)),l=It(s<<2)|0,f=e[i>>2]|0,e[i>>2]=l,f|0&&Ae(f),e[o>>2]=s,o=0;do e[(e[i>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(s|0));if(o=i+8|0,f=e[o>>2]|0,!f)return;if(l=e[f+4>>2]|0,h=s+-1|0,u=(h&s|0)==0,u?g=l&h:l>>>0<s>>>0?g=l:g=(l>>>0)%(s>>>0)|0,e[(e[i>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,w=f;else return;e:for(;;){f=m,o=b,g=w;t:for(;;){r:do if(u)for(l=o;;){if(x=e[l+4>>2]&h,(x|0)==(d|0)){C=l;break r}if(S=(e[i>>2]|0)+(x<<2)|0,!(e[S>>2]|0)){D=l,I=x,L=S;break t}S=l+12|0,P=e[l>>2]|0;i:do if(!P)N=l;else for(X=e[l+8>>2]|0,j=l,Q=P;;){if((X|0)!=(e[Q+8>>2]|0)){N=j;break i}if((e[S>>2]|0)!=(e[Q+12>>2]|0)){N=j;break i}if(V=e[Q>>2]|0,V)G=Q,Q=V,j=G;else{N=Q;break}}while(0);if(e[g>>2]=e[N>>2],e[N>>2]=e[e[(e[i>>2]|0)+(x<<2)>>2]>>2],e[e[(e[i>>2]|0)+(x<<2)>>2]>>2]=l,l=e[f>>2]|0,!l){ee=39;break e}}else for(l=o;;){if(S=e[l+4>>2]|0,S>>>0<s>>>0?J=S:J=(S>>>0)%(s>>>0)|0,(J|0)==(d|0)){C=l;break r}if(S=(e[i>>2]|0)+(J<<2)|0,!(e[S>>2]|0)){D=l,I=J,L=S;break t}S=l+12|0,P=e[l>>2]|0;i:do if(!P)O=l;else for(j=e[l+8>>2]|0,Q=l,X=P;;){if((j|0)!=(e[X+8>>2]|0)){O=Q;break i}if((e[S>>2]|0)!=(e[X+12>>2]|0)){O=Q;break i}if(G=e[X>>2]|0,G)V=X,X=G,Q=V;else{O=X;break}}while(0);if(e[g>>2]=e[O>>2],e[O>>2]=e[e[(e[i>>2]|0)+(J<<2)>>2]>>2],e[e[(e[i>>2]|0)+(J<<2)>>2]>>2]=l,l=e[f>>2]|0,!l){ee=39;break e}}while(0);if(o=e[C>>2]|0,o)f=C,g=C;else{ee=39;break e}}if(e[L>>2]=g,b=e[D>>2]|0,b)d=I,m=D,w=D;else{ee=39;break}}ee|0}function fy(i,s,o,l,f){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0;var h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0;h=i+4|0,u=e[s>>2]|0,s=u;do if((u|0)!=(h|0)){if(g=u+16|0,d=Y[g+11>>0]|0,m=d<<24>>24<0,b=m?e[u+20>>2]|0:d&255,d=Y[f+11>>0]|0,w=d<<24>>24<0,x=w?e[f+4>>2]|0:d&255,d=b>>>0<x>>>0,C=d?b:x,(C|0)!=0&&(S=vs(w?e[f>>2]|0:f,m?e[g>>2]|0:g,C)|0,(S|0)!=0)){if((S|0)<0)break}else D=4;if((D|0)==4&&x>>>0<b>>>0)break;if(S=x>>>0<b>>>0?x:b,(S|0)!=0&&(b=vs(m?e[g>>2]|0:g,w?e[f>>2]|0:f,S)|0,(b|0)!=0)?(b|0)>=0&&(D=37):D=21,(D|0)==21&&!d&&(D=37),(D|0)==37)return e[o>>2]=s,e[l>>2]=s,I=l,I|0;if(d=e[u+4>>2]|0,b=(d|0)==0,b)if(S=u+8|0,g=e[S>>2]|0,(e[g>>2]|0)==(u|0))L=g;else{g=S;do S=e[g>>2]|0,g=S+8|0,m=e[g>>2]|0;while((e[m>>2]|0)!=(S|0));L=m}else{for(g=d;m=e[g>>2]|0,m;)g=m;L=g}do if((L|0)!=(h|0)){if(d=L+16|0,m=Y[d+11>>0]|0,S=m<<24>>24<0,C=S?e[L+20>>2]|0:m&255,m=C>>>0<x>>>0?C:x,(m|0)!=0&&(P=vs(w?e[f>>2]|0:f,S?e[d>>2]|0:d,m)|0,(P|0)!=0)){if((P|0)<0)break}else D=31;if((D|0)==31&&x>>>0<C>>>0)break;return I=Zi(i,o,f)|0,I|0}while(0);return b?(e[o>>2]=s,I=u+4|0,I|0):(e[o>>2]=L,I=L,I|0)}while(0);L=e[u>>2]|0;do if((e[i>>2]|0)==(u|0))N=s;else{if(L)for(h=L;;)if(b=e[h+4>>2]|0,b)h=b;else{X=h;break}else for(h=u;;)if(l=e[h+8>>2]|0,(e[l>>2]|0)==(h|0))h=l;else{X=l;break}if(h=X,b=X+16|0,l=Y[f+11>>0]|0,x=l<<24>>24<0,w=x?e[f+4>>2]|0:l&255,l=Y[b+11>>0]|0,g=l<<24>>24<0,C=g?e[X+20>>2]|0:l&255,l=w>>>0<C>>>0?w:C,(l|0)!=0&&(P=vs(g?e[b>>2]|0:b,x?e[f>>2]|0:f,l)|0,(P|0)!=0)){if((P|0)<0){N=h;break}}else D=13;if((D|0)==13&&C>>>0<w>>>0){N=h;break}return I=Zi(i,o,f)|0,I|0}while(0);return L?(e[o>>2]=N,I=N+4|0,I|0):(e[o>>2]=u,I=u,I|0)}function Nu(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;if(f=q,q=q+16|0,h=f,e[s+48>>2]=o,e[s+44>>2]=l,l=e[s+8>>2]|0,u=s+12|0,g=e[u>>2]|0,(g|0)!=(l|0)){d=g;do g=d+-4|0,e[u>>2]=g,m=e[g>>2]|0,e[g>>2]=0,m|0&&On[e[(e[m>>2]|0)+4>>2]&127](m),d=e[u>>2]|0;while((d|0)!=(l|0))}if(l=e[s+20>>2]|0,d=s+24|0,u=e[d>>2]|0,(u|0)!=(l|0)&&(e[d>>2]=u+(~((u+-4-l|0)>>>2)<<2)),l=e[s+32>>2]|0,u=s+36|0,d=e[u>>2]|0,(d|0)!=(l|0)&&(e[u>>2]=d+(~((d+-4-l|0)>>>2)<<2)),!(e[s+4>>2]|0)){l=It(32)|0,e[h>>2]=l,e[h+8>>2]=-2147483616,e[h+4>>2]=23,b=l,w=14670,x=b+23|0;do Y[b>>0]=Y[w>>0]|0,b=b+1|0,w=w+1|0;while((b|0)<(x|0));Y[l+23>>0]=0,e[i>>2]=-1,T0(i+4|0,h),(Y[h+11>>0]|0)<0&&Ae(e[h>>2]|0),q=f;return}if(cy(i,s),e[i>>2]|0){q=f;return}if(l=i+4|0,d=l+11|0,(Y[d>>0]|0)<0&&Ae(e[l>>2]|0),PL(i,s),e[i>>2]|0){q=f;return}if((Y[d>>0]|0)<0&&Ae(e[l>>2]|0),!(kn[e[(e[s>>2]|0)+16>>2]&127](s)|0)){u=It(32)|0,e[h>>2]=u,e[h+8>>2]=-2147483616,e[h+4>>2]=29,b=u,w=14694,x=b+29|0;do Y[b>>0]=Y[w>>0]|0,b=b+1|0,w=w+1|0;while((b|0)<(x|0));Y[u+29>>0]=0,e[i>>2]=-1,T0(l,h),(Y[h+11>>0]|0)<0&&Ae(e[h>>2]|0),q=f;return}if(!(kn[e[(e[s>>2]|0)+20>>2]&127](s)|0)){u=It(32)|0,e[h>>2]=u,e[h+8>>2]=-2147483616,e[h+4>>2]=31,b=u,w=14724,x=b+31|0;do Y[b>>0]=Y[w>>0]|0,b=b+1|0,w=w+1|0;while((b|0)<(x|0));Y[u+31>>0]=0,e[i>>2]=-1,T0(l,h),(Y[h+11>>0]|0)<0&&Ae(e[h>>2]|0),q=f;return}if(l4[e[(e[s>>2]|0)+24>>2]&15](i,s),e[i>>2]|0){q=f;return}if((Y[d>>0]|0)<0&&Ae(e[l>>2]|0),!(kn[e[(e[s>>2]|0)+28>>2]&127](s)|0)){d=It(48)|0,e[h>>2]=d,e[h+8>>2]=-2147483600,e[h+4>>2]=34,b=d,w=14756,x=b+34|0;do Y[b>>0]=Y[w>>0]|0,b=b+1|0,w=w+1|0;while((b|0)<(x|0));Y[d+34>>0]=0,e[i>>2]=-1,T0(l,h),(Y[h+11>>0]|0)<0&&Ae(e[h>>2]|0),q=f;return}l=It(32)|0,e[h>>2]=l,e[h+8>>2]=-2147483616,e[h+4>>2]=30,b=l,w=14791,x=b+30|0;do Y[b>>0]=Y[w>>0]|0,b=b+1|0,w=w+1|0;while((b|0)<(x|0));Y[l+30>>0]=0,l=G2(o,h,0)|0,(Y[h+11>>0]|0)<0&&Ae(e[h>>2]|0),l&&On[e[(e[s>>2]|0)+48>>2]&127](s),e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,q=f}function R2(i,s,o,l,f){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0;var h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0;if(h=i,u=s,g=u,d=o,m=l,b=m,!g)return w=(f|0)!=0,b?w?(e[f>>2]=i|0,e[f+4>>2]=s&0,x=0,C=0,Ze=x,C|0):(x=0,C=0,Ze=x,C|0):(w&&(e[f>>2]=(h>>>0)%(d>>>0),e[f+4>>2]=0),x=0,C=(h>>>0)/(d>>>0)>>>0,Ze=x,C|0);w=(b|0)==0;do if(d){if(!w){if(S=(S0(b|0)|0)-(S0(g|0)|0)|0,S>>>0<=31){D=S+1|0,I=31-S|0,L=S-31>>31,P=D,N=h>>>(D>>>0)&L|g<<I,X=g>>>(D>>>0)&L,j=0,Q=h<<I;break}return f?(e[f>>2]=i|0,e[f+4>>2]=u|s&0,x=0,C=0,Ze=x,C|0):(x=0,C=0,Ze=x,C|0)}if(I=d-1|0,I&d|0){L=(S0(d|0)|0)+33-(S0(g|0)|0)|0,D=64-L|0,S=32-L|0,V=S>>31,G=L-32|0,ee=G>>31,P=L,N=S-1>>31&g>>>(G>>>0)|(g<<S|h>>>(L>>>0))&ee,X=ee&g>>>(L>>>0),j=h<<D&V,Q=(g<<D|h>>>(G>>>0))&V|h<<S&L-33>>31;break}return f|0&&(e[f>>2]=I&h,e[f+4>>2]=0),(d|0)==1?(x=u|s&0,C=i|0|0,Ze=x,C|0):(I=Vk(d|0)|0,x=g>>>(I>>>0)|0,C=g<<32-I|h>>>(I>>>0)|0,Ze=x,C|0)}else{if(w)return f|0&&(e[f>>2]=(g>>>0)%(d>>>0),e[f+4>>2]=0),x=0,C=(g>>>0)/(d>>>0)>>>0,Ze=x,C|0;if(!h)return f|0&&(e[f>>2]=0,e[f+4>>2]=(g>>>0)%(b>>>0)),x=0,C=(g>>>0)/(b>>>0)>>>0,Ze=x,C|0;if(I=b-1|0,!(I&b))return f|0&&(e[f>>2]=i|0,e[f+4>>2]=I&g|s&0),x=0,C=g>>>((Vk(b|0)|0)>>>0),Ze=x,C|0;if(I=(S0(b|0)|0)-(S0(g|0)|0)|0,I>>>0<=30){L=I+1|0,S=31-I|0,P=L,N=g<<S|h>>>(L>>>0),X=g>>>(L>>>0),j=0,Q=h<<S;break}return f?(e[f>>2]=i|0,e[f+4>>2]=u|s&0,x=0,C=0,Ze=x,C|0):(x=0,C=0,Ze=x,C|0)}while(0);if(!P)J=Q,O=j,$=X,ie=N,se=0,ue=0;else{s=o|0|0,o=m|l&0,l=Qt(s|0,o|0,-1,-1)|0,m=Ze,u=Q,Q=j,j=X,X=N,N=P,P=0;do i=u,u=Q>>>31|u<<1,Q=P|Q<<1,h=X<<1|i>>>31|0,i=X>>>31|j<<1|0,Gi(l|0,m|0,h|0,i|0)|0,g=Ze,b=g>>31|((g|0)<0?-1:0)<<1,P=b&1,X=Gi(h|0,i|0,b&s|0,(((g|0)<0?-1:0)>>31|((g|0)<0?-1:0)<<1)&o|0)|0,j=Ze,N=N-1|0;while((N|0)!=0);J=u,O=Q,$=j,ie=X,se=0,ue=P}return P=O,O=0,f|0&&(e[f>>2]=ie,e[f+4>>2]=$),x=(P|0)>>>31|(J|O)<<1|(O<<1|P>>>31)&0|se,C=(P<<1|0>>>31)&-2|ue,Ze=x,C|0}function D2(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0;s=q,q=q+32|0,o=s+4|0,l=s,f=s+16|0,h=i+48|0,u=e[h>>2]|0,g=It(32)|0,e[o>>2]=g,e[o+8>>2]=-2147483616,e[o+4>>2]=20,d=g,m=13101,b=d+20|0;do Y[d>>0]=Y[m>>0]|0,d=d+1|0,m=m+1|0;while((d|0)<(b|0));Y[g+20>>0]=0,g=Ek(u+24|0,o)|0,(Y[o+11>>0]|0)<0&&Ae(e[o>>2]|0),u=e[h>>2]|0,w=It(32)|0,e[o>>2]=w,e[o+8>>2]=-2147483616,e[o+4>>2]=22,d=w,m=13122,b=d+22|0;do Y[d>>0]=Y[m>>0]|0,d=d+1|0,m=m+1|0;while((d|0)<(b|0));Y[w+22>>0]=0,w=Ek(u+24|0,o)|0,(Y[o+11>>0]|0)<0&&Ae(e[o>>2]|0),u=i+64|0,x=e[u>>2]|0,e[u>>2]=0,x|0&&On[e[(e[x>>2]|0)+4>>2]&127](x),x=e[i+56>>2]|0,C=(((e[x+100>>2]|0)-(e[x+96>>2]|0)|0)/12|0)>>>0<1e3,x=e[h>>2]|0,S=It(32)|0,e[o>>2]=S,e[o+8>>2]=-2147483616,e[o+4>>2]=18,d=S,m=13145,b=d+18|0;do Y[d>>0]=Y[m>>0]|0,d=d+1|0,m=m+1|0;while((d|0)<(b|0));switch(Y[S+18>>0]=0,S=bo(x,o,-1)|0,(Y[o+11>>0]|0)<0&&Ae(e[o>>2]|0),S|0){case-1:{g&&C|((sl(e[h>>2]|0)|0)>4|w^1)?D=13:D=17;break}case 0:{g?D=13:D=21;break}case 2:{D=17;break}default:D=21}if((D|0)==13?(g=e[i+44>>2]|0,Y[f>>0]=0,w=g+16|0,h=e[w+4>>2]|0,(h|0)>0|(h|0)==0&(e[w>>2]|0)>>>0>0||(e[l>>2]=e[g+4>>2],e[o>>2]=e[l>>2],wi(g,o,f,f+1|0)|0),g=It(296)|0,FL(g),w=e[u>>2]|0,e[u>>2]=g,w?(On[e[(e[w>>2]|0)+4>>2]&127](w),D=21):I=g):(D|0)==17&&(w=e[i+44>>2]|0,Y[f>>0]=2,g=w+16|0,h=e[g+4>>2]|0,(h|0)>0|(h|0)==0&(e[g>>2]|0)>>>0>0||(e[l>>2]=e[w+4>>2],e[o>>2]=e[l>>2],wi(w,o,f,f+1|0)|0),f=It(360)|0,_L(f),o=e[u>>2]|0,e[u>>2]=f,o?(On[e[(e[o>>2]|0)+4>>2]&127](o),D=21):I=f),(D|0)==21)if(D=e[u>>2]|0,D)I=D;else return L=0,q=s,L|0;return L=M0[e[(e[I>>2]|0)+8>>2]&127](I,i)|0,q=s,L|0}function Is(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0;if(f=s+12|0,h=e[f>>2]|0,u=o+4|0,g=(e[u>>2]|0)-h|0,d=o,e[d>>2]=(e[o>>2]|0)-h,e[d+4>>2]=g,g=(e[l>>2]|0)-h|0,d=l+4|0,m=(e[d>>2]|0)-h|0,h=l,e[h>>2]=g,e[h+4>>2]=m,h=e[f>>2]|0,(((m|0)>-1?m:0-m|0)+((g|0)>-1?g:0-g|0)|0)>(h|0)?(b=e[o>>2]|0,w=e[u>>2]|0,(b|0)>-1?(w|0)<=-1?(b|0)<1?(x=-1,C=-1):S=6:(x=1,C=1):(w|0)<1?(x=-1,C=-1):S=6,(S|0)==6&&(x=(b|0)>0?1:-1,C=(w|0)>0?1:-1),D=_r(h,x)|0,I=_r(h,C)|0,h=(b<<1)-D|0,e[o>>2]=h,b=(w<<1)-I|0,e[u>>2]=b,(_r(x,C)|0)>-1?(C=0-b|0,e[o>>2]=C,L=0-h|0,P=C):(e[o>>2]=b,L=h,P=b),e[o>>2]=(P+D|0)/2|0,e[u>>2]=(L+I|0)/2|0,I=e[l>>2]|0,L=e[d>>2]|0,(I|0)>-1?(L|0)<=-1?(I|0)<1?(N=-1,X=-1):S=14:(N=1,X=1):(L|0)<1?(N=-1,X=-1):S=14,(S|0)==14&&(N=(I|0)>0?1:-1,X=(L|0)>0?1:-1),D=e[f>>2]|0,f=_r(D,N)|0,P=_r(D,X)|0,D=(I<<1)-f|0,e[l>>2]=D,I=(L<<1)-P|0,e[d>>2]=I,(_r(N,X)|0)>-1?(X=0-I|0,e[l>>2]=X,j=0-D|0,Q=X):(e[l>>2]=I,j=D,Q=I),I=(Q+f|0)/2|0,e[l>>2]=I,f=(j+P|0)/2|0,e[d>>2]=f,V=I,G=f):(V=g,G=m),V?(V|0)<0&(G|0)<1?(ee=V,J=G):S=22:G?S=22:(ee=V,J=G),(S|0)==22){switch(V?O=(V|0)>0?(G>>31)+2|0:(G|0)<1?0:3:O=(G|0)==0?0:(G|0)>0?3:1,G=e[o>>2]|0,V=e[u>>2]|0,O|0){case 1:{O=o,e[O>>2]=V,e[O+4>>2]=0-G,$=e[d>>2]|0,ie=0-(e[l>>2]|0)|0;break}case 2:{O=o,e[O>>2]=0-G,e[O+4>>2]=0-V,$=0-(e[l>>2]|0)|0,ie=0-(e[d>>2]|0)|0;break}case 3:{O=o,e[O>>2]=0-V,e[O+4>>2]=G,$=0-(e[d>>2]|0)|0,ie=e[l>>2]|0;break}default:O=o,e[O>>2]=G,e[O+4>>2]=V,$=e[l>>2]|0,ie=e[d>>2]|0}d=l,e[d>>2]=$,e[d+4>>2]=ie,ee=$,J=ie}if(ie=(e[o>>2]|0)-ee|0,e[i>>2]=ie,ee=(e[u>>2]|0)-J|0,J=i+4|0,e[J>>2]=ee,(ie|0)<0?se=(e[s+4>>2]|0)+ie|0:se=ie,e[i>>2]=se,(ee|0)>=0){ue=ee,e[J>>2]=ue;return}ue=(e[s+4>>2]|0)+ee|0,e[J>>2]=ue}function Mc(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0;if(o=i+4|0,!s){l=e[i>>2]|0,e[i>>2]=0,l|0&&Ae(l),e[o>>2]=0;return}s>>>0>1073741823&&(l=An(8)|0,c0(l,14941),e[l>>2]=6944,yn(l|0,1080,114)),l=It(s<<2)|0,f=e[i>>2]|0,e[i>>2]=l,f|0&&Ae(f),e[o>>2]=s,o=0;do e[(e[i>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(s|0));if(o=i+8|0,f=e[o>>2]|0,!f)return;if(l=e[f+4>>2]|0,h=s+-1|0,u=(h&s|0)==0,u?g=l&h:l>>>0<s>>>0?g=l:g=(l>>>0)%(s>>>0)|0,e[(e[i>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,w=f;else return;e:for(;;){t:do if(u)for(f=m,o=b,g=w;;){for(l=o;x=e[l+4>>2]&h,(x|0)!=(d|0);){if(C=(e[i>>2]|0)+(x<<2)|0,!(e[C>>2]|0)){S=l,D=g,I=x,L=C;break t}for(C=l+8|0,P=l;N=e[P>>2]|0,!!N;)if((Or[C>>1]|0)==(Or[N+8>>1]|0))P=N;else break;if(e[g>>2]=N,e[P>>2]=e[e[(e[i>>2]|0)+(x<<2)>>2]>>2],e[e[(e[i>>2]|0)+(x<<2)>>2]>>2]=l,C=e[f>>2]|0,C)l=C;else{X=37;break e}}if(o=e[l>>2]|0,o)f=l,g=l;else{X=37;break e}}else for(g=m,f=b,o=w;;){for(C=f;j=e[C+4>>2]|0,j>>>0<s>>>0?Q=j:Q=(j>>>0)%(s>>>0)|0,(Q|0)!=(d|0);){if(j=(e[i>>2]|0)+(Q<<2)|0,!(e[j>>2]|0)){S=C,D=o,I=Q,L=j;break t}for(j=C+8|0,V=C;G=e[V>>2]|0,!!G;)if((Or[j>>1]|0)==(Or[G+8>>1]|0))V=G;else break;if(e[o>>2]=G,e[V>>2]=e[e[(e[i>>2]|0)+(Q<<2)>>2]>>2],e[e[(e[i>>2]|0)+(Q<<2)>>2]>>2]=C,j=e[g>>2]|0,j)C=j;else{X=37;break e}}if(f=e[C>>2]|0,f)g=C,o=C;else{X=37;break e}}while(0);if(e[L>>2]=D,b=e[S>>2]|0,b)d=I,m=S,w=S;else{X=37;break}}X|0}function uy(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0;if(o=i+4|0,!s){l=e[i>>2]|0,e[i>>2]=0,l|0&&Ae(l),e[o>>2]=0;return}s>>>0>1073741823&&(l=An(8)|0,c0(l,14941),e[l>>2]=6944,yn(l|0,1080,114)),l=It(s<<2)|0,f=e[i>>2]|0,e[i>>2]=l,f|0&&Ae(f),e[o>>2]=s,o=0;do e[(e[i>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(s|0));if(o=i+8|0,f=e[o>>2]|0,!f)return;if(l=e[f+4>>2]|0,h=s+-1|0,u=(h&s|0)==0,u?g=l&h:l>>>0<s>>>0?g=l:g=(l>>>0)%(s>>>0)|0,e[(e[i>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,w=f;else return;e:for(;;){t:do if(u)for(f=m,o=b,g=w;;){for(l=o;x=e[l+4>>2]&h,(x|0)!=(d|0);){if(C=(e[i>>2]|0)+(x<<2)|0,!(e[C>>2]|0)){S=l,D=g,I=x,L=C;break t}for(C=l+8|0,P=l;N=e[P>>2]|0,!!N;)if((Y[C>>0]|0)==(Y[N+8>>0]|0))P=N;else break;if(e[g>>2]=N,e[P>>2]=e[e[(e[i>>2]|0)+(x<<2)>>2]>>2],e[e[(e[i>>2]|0)+(x<<2)>>2]>>2]=l,C=e[f>>2]|0,C)l=C;else{X=37;break e}}if(o=e[l>>2]|0,o)f=l,g=l;else{X=37;break e}}else for(g=m,f=b,o=w;;){for(C=f;j=e[C+4>>2]|0,j>>>0<s>>>0?Q=j:Q=(j>>>0)%(s>>>0)|0,(Q|0)!=(d|0);){if(j=(e[i>>2]|0)+(Q<<2)|0,!(e[j>>2]|0)){S=C,D=o,I=Q,L=j;break t}for(j=C+8|0,V=C;G=e[V>>2]|0,!!G;)if((Y[j>>0]|0)==(Y[G+8>>0]|0))V=G;else break;if(e[o>>2]=G,e[V>>2]=e[e[(e[i>>2]|0)+(Q<<2)>>2]>>2],e[e[(e[i>>2]|0)+(Q<<2)>>2]>>2]=C,j=e[g>>2]|0,j)C=j;else{X=37;break e}}if(f=e[C>>2]|0,f)g=C,o=C;else{X=37;break e}}while(0);if(e[L>>2]=D,b=e[S>>2]|0,b)d=I,m=S,w=S;else{X=37;break}}X|0}function Rc(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0;if(h=e[o>>2]|0,o=e[s>>2]|0,u=h-o|0,g=i+8|0,d=e[g>>2]|0,u>>>0<64){if(d>>>0<=1)return m=0,m|0;for(b=e[f>>2]|0,w=0,x=1;;)if(C=(e[b+(w<<2)>>2]|0)>>>0>(e[b+(x<<2)>>2]|0)>>>0?x:w,x=x+1|0,x>>>0>=d>>>0){m=C;break}else w=C;return m|0}if(d){if(d=e[i+1128>>2]|0,w=e[f>>2]|0,f=e[i+1140>>2]|0,x=e[l>>2]|0,l=s+4|0,b=s+8|0,(h|0)==(o|0)){s=0;do C=d+(s<<2)|0,e[C>>2]=0,S=(e[i>>2]|0)-(e[w+(s<<2)>>2]|0)|0,e[f+(s<<2)>>2]=S,S|0&&(S=e[C>>2]|0,D=u-S|0,e[C>>2]=D>>>0<S>>>0?S:D),s=s+1|0,D=e[g>>2]|0;while(s>>>0<D>>>0);I=D}else{s=0;do{if(D=d+(s<<2)|0,e[D>>2]=0,S=(e[i>>2]|0)-(e[w+(s<<2)>>2]|0)|0,e[f+(s<<2)>>2]=S,S|0){C=(e[x+(s<<2)>>2]|0)+(1<<S+-1)|0,S=e[b>>2]|0,L=e[(e[l>>2]|0)+24>>2]|0,P=o,N=e[D>>2]|0;do X=L+((_r(P,S)|0)<<2)+(s<<2)|0,N=N+((e[X>>2]|0)>>>0<C>>>0&1)|0,e[D>>2]=N,P=P+1|0;while((P|0)!=(h|0));P=u-N|0,e[D>>2]=P>>>0<N>>>0?N:P}s=s+1|0,P=e[g>>2]|0}while(s>>>0<P>>>0);I=P}if(I)for(s=e[i+1140>>2]|0,g=i+1128|0,u=0,h=0,o=0;;)if(e[s+(h<<2)>>2]|0?(l=e[(e[g>>2]|0)+(h<<2)>>2]|0,b=u>>>0<l>>>0,j=b?l:u,Q=b?h:o):(j=u,Q=o),h=h+1|0,h>>>0>=I>>>0){V=Q;break}else u=j,o=Q;else V=0}else V=0;return Q=i+1088|0,o=i+1104|0,j=e[o>>2]|0,u=32-j|0,(u|0)<4?(I=V&15,h=4-u|0,e[o>>2]=h,u=i+1100|0,g=e[u>>2]|I>>>h,e[u>>2]=g,h=i+1092|0,s=e[h>>2]|0,(s|0)==(e[i+1096>>2]|0)?pi(Q,u):(e[s>>2]=g,e[h>>2]=s+4),e[u>>2]=I<<32-(e[o>>2]|0),m=V,m|0):(I=i+1100|0,u=e[I>>2]|V<<28>>>j,e[I>>2]=u,s=j+4|0,e[o>>2]=s,(s|0)!=32?(m=V,m|0):(s=i+1092|0,j=e[s>>2]|0,(j|0)==(e[i+1096>>2]|0)?pi(Q,I):(e[j>>2]=u,e[s>>2]=j+4),e[I>>2]=0,e[o>>2]=0,m=V,m|0))}function fm(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0;if(o=i+4|0,!s){l=e[i>>2]|0,e[i>>2]=0,l|0&&Ae(l),e[o>>2]=0;return}s>>>0>1073741823&&(l=An(8)|0,c0(l,14941),e[l>>2]=6944,yn(l|0,1080,114)),l=It(s<<2)|0,f=e[i>>2]|0,e[i>>2]=l,f|0&&Ae(f),e[o>>2]=s,o=0;do e[(e[i>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(s|0));if(o=i+8|0,f=e[o>>2]|0,!f)return;if(l=e[f+4>>2]|0,h=s+-1|0,u=(h&s|0)==0,u?g=l&h:l>>>0<s>>>0?g=l:g=(l>>>0)%(s>>>0)|0,e[(e[i>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,w=f;else return;e:for(;;){t:do if(u)for(f=m,o=b,g=w;;){for(l=o;x=e[l+4>>2]&h,(x|0)!=(d|0);){if(C=(e[i>>2]|0)+(x<<2)|0,!(e[C>>2]|0)){S=l,D=g,I=x,L=C;break t}for(C=l+8|0,P=l;N=e[P>>2]|0,!!N;)if((e[C>>2]|0)==(e[N+8>>2]|0))P=N;else break;if(e[g>>2]=N,e[P>>2]=e[e[(e[i>>2]|0)+(x<<2)>>2]>>2],e[e[(e[i>>2]|0)+(x<<2)>>2]>>2]=l,C=e[f>>2]|0,C)l=C;else{X=37;break e}}if(o=e[l>>2]|0,o)f=l,g=l;else{X=37;break e}}else for(g=m,f=b,o=w;;){for(C=f;j=e[C+4>>2]|0,j>>>0<s>>>0?Q=j:Q=(j>>>0)%(s>>>0)|0,(Q|0)!=(d|0);){if(j=(e[i>>2]|0)+(Q<<2)|0,!(e[j>>2]|0)){S=C,D=o,I=Q,L=j;break t}for(j=C+8|0,V=C;G=e[V>>2]|0,!!G;)if((e[j>>2]|0)==(e[G+8>>2]|0))V=G;else break;if(e[o>>2]=G,e[V>>2]=e[e[(e[i>>2]|0)+(Q<<2)>>2]>>2],e[e[(e[i>>2]|0)+(Q<<2)>>2]>>2]=C,j=e[g>>2]|0,j)C=j;else{X=37;break e}}if(f=e[C>>2]|0,f)g=C,o=C;else{X=37;break e}}while(0);if(e[L>>2]=D,b=e[S>>2]|0,b)d=I,m=S,w=S;else{X=37;break}}X|0}function um(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0;if(o=i+4|0,!s){l=e[i>>2]|0,e[i>>2]=0,l|0&&Ae(l),e[o>>2]=0;return}s>>>0>1073741823&&(l=An(8)|0,c0(l,14941),e[l>>2]=6944,yn(l|0,1080,114)),l=It(s<<2)|0,f=e[i>>2]|0,e[i>>2]=l,f|0&&Ae(f),e[o>>2]=s,o=0;do e[(e[i>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(s|0));if(o=i+8|0,f=e[o>>2]|0,!f||(l=e[f+4>>2]|0,h=s+-1|0,u=(h&s|0)==0,u?g=l&h:l>>>0<s>>>0?g=l:g=(l>>>0)%(s>>>0)|0,e[(e[i>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,!o))return;l=i+24|0,d=g,g=f,m=o,o=f;e:for(;;){f=g,b=m,w=o;t:for(;;){for(x=b;C=e[x+4>>2]|0,u?S=C&h:C>>>0<s>>>0?S=C:S=(C>>>0)%(s>>>0)|0,(S|0)!=(d|0);){if(D=(e[i>>2]|0)+(S<<2)|0,!(e[D>>2]|0))break t;C=e[x>>2]|0;r:do if(!C)I=x;else{if(L=e[x+8>>2]|0,P=e[l>>2]|0,N=e[P+8>>2]|0,X=(e[P+12>>2]|0)-N|0,P=N,N=X>>>2,(X|0)>0)j=x,Q=C;else for(X=C;;)if(V=e[X>>2]|0,V)X=V;else{I=X;break r}for(;;){X=e[Q+8>>2]|0,V=0;do if(G=e[P+(V<<2)>>2]|0,Y[G+84>>0]|0?(J=X,O=L):(ee=e[G+68>>2]|0,J=e[ee+(X<<2)>>2]|0,O=e[ee+(L<<2)>>2]|0),V=V+1|0,(O|0)!=(J|0)){I=j;break r}while((V|0)<(N|0));if(V=e[Q>>2]|0,V)X=Q,Q=V,j=X;else{I=Q;break}}}while(0);if(e[w>>2]=e[I>>2],e[I>>2]=e[e[(e[i>>2]|0)+(S<<2)>>2]>>2],e[e[(e[i>>2]|0)+(S<<2)>>2]>>2]=x,C=e[f>>2]|0,C)x=C;else{$=38;break e}}if(b=e[x>>2]|0,b)f=x,w=x;else{$=38;break e}}if(e[D>>2]=w,m=e[x>>2]|0,m)d=S,g=x,o=x;else{$=38;break}}$|0}function cy(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0;if(o=q,q=q+16|0,l=o+4|0,f=o,h=o+12|0,u=o+11|0,g=o+10|0,d=o+8|0,m=s+44|0,b=e[m>>2]|0,w=b+16|0,x=e[w+4>>2]|0,(x|0)>0|(x|0)==0&(e[w>>2]|0)>>>0>0||(e[f>>2]=e[b+4>>2],e[l>>2]=e[f>>2],wi(b,l,14849,14854)|0),b=kn[e[(e[s>>2]|0)+8>>2]&127](s)|0,Y[h>>0]=b,Y[u>>0]=2,Y[g>>0]=(b&255|0)==0?3:2,b=e[m>>2]|0,w=b+16|0,x=e[w+4>>2]|0,(x|0)>0|(x|0)==0&(e[w>>2]|0)>>>0>0?(D=b,I=6):(e[f>>2]=e[b+4>>2],e[l>>2]=e[f>>2],wi(b,l,u,u+1|0)|0,u=e[m>>2]|0,w=u+16|0,x=e[w+4>>2]|0,(x|0)>0|(x|0)==0&(e[w>>2]|0)>>>0>0?(D=u,I=6):(e[f>>2]=e[u+4>>2],e[l>>2]=e[f>>2],wi(u,l,g,g+1|0)|0,g=e[m>>2]|0,w=g+16|0,x=e[w+4>>2]|0,(x|0)>0|(x|0)==0&(e[w>>2]|0)>>>0>0?(C=f,S=g):(e[f>>2]=e[g+4>>2],e[l>>2]=e[f>>2],wi(g,l,h,h+1|0)|0,C=f,S=e[m>>2]|0))),(I|0)==6&&(C=f,S=D),D=kn[e[(e[s>>2]|0)+12>>2]&127](s)|0,Y[d>>0]=D,D=S+16|0,C=e[D+4>>2]|0,(C|0)>0|(C|0)==0&(e[D>>2]|0)>>>0>0||(e[f>>2]=e[S+4>>2],e[l>>2]=e[f>>2],wi(S,l,d,d+1|0)|0),Or[d>>1]=(e[(e[s+4>>2]|0)+4>>2]|0)==0?0:-32768,s=e[m>>2]|0,m=s+16|0,S=e[m+4>>2]|0,(S|0)>0|(S|0)==0&(e[m>>2]|0)>>>0>0){e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,q=o;return}e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,d,d+2|0)|0,e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,q=o}function Dc(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=vi,N=0,X=vi,j=vi,Q=vi,V=vi;if(l=q,q=q+16|0,f=l,h=i+4|0,(e[h>>2]|0)!=-1)return u=0,q=l,u|0;e[h>>2]=o,o=Y[s+24>>0]|0,h=o<<24>>24,g=i+20|0,bi[g>>2]=Zt(0),e[f>>2]=0,d=f+4|0,e[d>>2]=0,e[f+8>>2]=0;do if(o<<24>>24)if(o<<24>>24<0)qe();else{m=h<<2,b=It(m)|0,e[f>>2]=b,w=b+(h<<2)|0,e[f+8>>2]=w,Tr(b|0,0,m|0)|0,m=b+(h<<2)|0,e[d>>2]=m,x=b,C=m,S=w;break}else x=0,C=0,S=0;while(0);d=i+8|0,f=e[d>>2]|0,w=i+12|0,f?(m=e[w>>2]|0,(m|0)!=(f|0)&&(e[w>>2]=m+(~((m+-4-f|0)>>>2)<<2)),Ae(f),f=i+16|0,e[f>>2]=0,e[w>>2]=0,e[d>>2]=0,D=f):D=i+16|0,e[d>>2]=x,e[w>>2]=C,e[D>>2]=S,S=h>>>0>1073741823?-1:h<<2,D=Fl(S)|0,C=Fl(S)|0,S=s+48|0,w=e[S>>2]|0,f=s+40|0,i=e[f>>2]|0,m=e[s>>2]|0,Fi(C|0,(e[m>>2]|0)+w|0,i|0)|0,Fi(x|0,(e[m>>2]|0)+w|0,i|0)|0,i=S,S=e[i>>2]|0,w=e[i+4>>2]|0,i=f,f=e[i>>2]|0,m=e[i+4>>2]|0,i=e[s>>2]|0,Fi(D|0,(e[i>>2]|0)+S|0,f|0)|0,x=e[s+80>>2]|0;e:do if(x>>>0>1){if(o<<24>>24<=0){for(s=1;;)if(b=Wr(f|0,m|0,s|0,0)|0,I=Qt(b|0,Ze|0,S|0,w|0)|0,Fi(C|0,(e[i>>2]|0)+I|0,f|0)|0,s=s+1|0,s>>>0>=x>>>0)break e}s=e[d>>2]|0,I=1;do{b=Wr(f|0,m|0,I|0,0)|0,L=Qt(b|0,Ze|0,S|0,w|0)|0,Fi(C|0,(e[i>>2]|0)+L|0,f|0)|0,L=0;do b=s+(L<<2)|0,P=Zt(bi[b>>2]),N=C+(L<<2)|0,X=Zt(bi[N>>2]),P>X?(bi[b>>2]=X,j=Zt(bi[N>>2])):j=X,N=D+(L<<2)|0,Zt(bi[N>>2])<j&&(bi[N>>2]=j),L=L+1|0;while((L|0)!=(h|0));I=I+1|0}while(I>>>0<x>>>0)}while(0);if(o<<24>>24>0)for(o=e[d>>2]|0,d=0,j=Zt(bi[g>>2]);;)if(X=Zt(bi[D+(d<<2)>>2]),P=Zt(X-Zt(bi[o+(d<<2)>>2])),P>j?(bi[g>>2]=P,Q=P):Q=j,d=d+1|0,(d|0)==(h|0)){V=Q;break}else j=Q;else V=Zt(bi[g>>2]);return V==Zt(0)&&(bi[g>>2]=Zt(1)),F0(C),F0(D),u=1,q=l,u|0}function rd(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0;if(h=i+8|0,pd(h,s,l,f),u=l-f|0,(u|0)>0)for(l=0-f|0,g=i+16|0,d=i+32|0,m=i+12|0,b=i+28|0,w=i+20|0,x=i+24|0,C=u,u=e[h>>2]|0;;){if(S=s+(C<<2)|0,D=o+(C<<2)|0,(u|0)>0)for(I=0,L=S+(l<<2)|0,P=u;;){if((P|0)>0){N=0;do X=e[L+(N<<2)>>2]|0,j=e[g>>2]|0,(X|0)>(j|0)?(Q=e[d>>2]|0,e[Q+(N<<2)>>2]=j,V=Q):(Q=e[m>>2]|0,j=e[d>>2]|0,e[j+(N<<2)>>2]=(X|0)<(Q|0)?Q:X,V=j),N=N+1|0;while((N|0)<(e[h>>2]|0));G=V}else G=e[d>>2]|0;if(N=(e[S+(I<<2)>>2]|0)-(e[G+(I<<2)>>2]|0)|0,j=D+(I<<2)|0,e[j>>2]=N,(N|0)>=(e[b>>2]|0)?(N|0)>(e[x>>2]|0)&&(ee=N-(e[w>>2]|0)|0,J=31):(ee=(e[w>>2]|0)+N|0,J=31),(J|0)==31&&(J=0,e[j>>2]=ee),I=I+1|0,j=e[h>>2]|0,(I|0)>=(j|0)){O=j;break}else L=G,P=j}else O=u;if(C=C-f|0,(C|0)<=0){$=O;break}else u=O}else $=e[h>>2]|0;if(O=f>>>0>1073741823?-1:f<<2,f=Fl(O)|0,Tr(f|0,0,O|0)|0,($|0)<=0)return F0(f),1;for(O=i+16|0,u=i+32|0,C=i+12|0,G=i+28|0,ee=i+20|0,w=i+24|0,i=0,x=f,b=$;;){if((b|0)>0){$=0;do d=e[x+($<<2)>>2]|0,V=e[O>>2]|0,(d|0)>(V|0)?(m=e[u>>2]|0,e[m+($<<2)>>2]=V,ie=m):(m=e[C>>2]|0,V=e[u>>2]|0,e[V+($<<2)>>2]=(d|0)<(m|0)?m:d,ie=V),$=$+1|0;while(($|0)<(e[h>>2]|0));se=ie}else se=e[u>>2]|0;if($=(e[s+(i<<2)>>2]|0)-(e[se+(i<<2)>>2]|0)|0,V=o+(i<<2)|0,e[V>>2]=$,($|0)>=(e[G>>2]|0)?($|0)>(e[w>>2]|0)&&(ue=$-(e[ee>>2]|0)|0,J=16):(ue=(e[ee>>2]|0)+$|0,J=16),(J|0)==16&&(J=0,e[V>>2]=ue),i=i+1|0,b=e[h>>2]|0,(i|0)>=(b|0))break;x=se}return F0(f),1}function Bc(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;if(f=e[i>>2]|0,h=f,u=(e[s>>2]|0)-h|0,s=f+(u>>2<<2)|0,g=e[o>>2]|0,o=e[l>>2]|0,l=o-g|0,d=l>>2,m=g,b=o,(l|0)<=0)return w=s,w|0;if(l=i+8|0,x=e[l>>2]|0,C=i+4|0,S=e[C>>2]|0,D=S,(d|0)<=(x-D>>2|0)){if(I=s,L=D-I|0,P=L>>2,(d|0)>(P|0)){if(N=m+(P<<2)|0,P=N,(N|0)==(b|0))X=S;else{for(j=b+-4-P|0,Q=N,N=S;e[N>>2]=e[Q>>2],Q=Q+4|0,(Q|0)!=(b|0);)N=N+4|0;N=S+((j>>>2)+1<<2)|0,e[C>>2]=N,X=N}if((L|0)>0)V=P,G=X;else return w=s,w|0}else V=o,G=S;if(o=G-(s+(d<<2))>>2,X=s+(o<<2)|0,X>>>0<S>>>0){for(P=(S+(0-o<<2)+~I|0)>>>2,I=X,L=G;e[L>>2]=e[I>>2],I=I+4|0,!(I>>>0>=S>>>0);)L=L+4|0;e[C>>2]=G+(P+1<<2)}if(o|0){o=X,X=G;do o=o+-4|0,X=X+-4|0,e[X>>2]=e[o>>2];while((o|0)!=(s|0))}if(o=V,(m|0)==(o|0))return w=s,w|0;for(ee=s,J=m;;)if(e[ee>>2]=e[J>>2],J=J+4|0,(J|0)==(o|0)){w=s;break}else ee=ee+4|0;return w|0}ee=(D-h>>2)+d|0,ee>>>0>1073741823&&qe(),d=x-h|0,h=d>>1,x=d>>2>>>0<536870911?h>>>0<ee>>>0?ee:h:1073741823,h=s,ee=u>>2;do if(x)if(x>>>0>1073741823)d=An(8)|0,c0(d,14941),e[d>>2]=6944,yn(d|0,1080,114);else{d=It(x<<2)|0,O=d,$=d;break}else O=0,$=0;while(0);if(d=$+(ee<<2)|0,ee=$+(x<<2)|0,(b|0)==(m|0))ie=d;else{for(x=((b+-4-g|0)>>>2)+1|0,g=m,m=d;e[m>>2]=e[g>>2],g=g+4|0,(g|0)!=(b|0);)m=m+4|0;ie=d+(x<<2)|0}return(u|0)>0&&Fi(O|0,f|0,u|0)|0,u=D-h|0,(u|0)>0?(Fi(ie|0,s|0,u|0)|0,se=ie+(u>>>2<<2)|0):se=ie,e[i>>2]=$,e[C>>2]=se,e[l>>2]=ee,f?(Ae(f),w=d,w|0):(w=d,w|0)}function id(i,s,o,l,f,h,u){i=i|0,o=o|0,l=l|0,f=f|0,h=h|0,u=u|0;var g=0;switch(o|0){case 1:{o=It(60)|0,e[o>>2]=1528,e[o+4>>2]=l,u=o+8|0,e[u>>2]=e[f>>2],e[u+4>>2]=e[f+4>>2],e[u+8>>2]=e[f+8>>2],e[u+12>>2]=e[f+12>>2],e[u+16>>2]=e[f+16>>2],e[u+20>>2]=e[f+20>>2],uf(o+32|0,f+24|0),u=o+44|0,e[u>>2]=e[h>>2],e[u+4>>2]=e[h+4>>2],e[u+8>>2]=e[h+8>>2],e[u+12>>2]=e[h+12>>2],e[o>>2]=1948,g=o,e[i>>2]=g;return}case 4:{o=It(168)|0,BL(o,l,f,h),g=o,e[i>>2]=g;return}case 5:{o=It(104)|0,e[o>>2]=1528,e[o+4>>2]=l,u=o+8|0,e[u>>2]=e[f>>2],e[u+4>>2]=e[f+4>>2],e[u+8>>2]=e[f+8>>2],e[u+12>>2]=e[f+12>>2],e[u+16>>2]=e[f+16>>2],e[u+20>>2]=e[f+20>>2],uf(o+32|0,f+24|0),u=o+44|0,e[u>>2]=e[h>>2],e[u+4>>2]=e[h+4>>2],e[u+8>>2]=e[h+8>>2],e[u+12>>2]=e[h+12>>2],e[o>>2]=2004,e[o+60>>2]=0,e[o+64>>2]=0,e[o+76>>2]=0,e[o+80>>2]=0,e[o+84>>2]=0,u=o+88|0,e[u>>2]=e[h>>2],e[u+4>>2]=e[h+4>>2],e[u+8>>2]=e[h+8>>2],e[u+12>>2]=e[h+12>>2],g=o,e[i>>2]=g;return}case 6:{o=It(140)|0,e[o>>2]=1528,e[o+4>>2]=l,l=o+8|0,e[l>>2]=e[f>>2],e[l+4>>2]=e[f+4>>2],e[l+8>>2]=e[f+8>>2],e[l+12>>2]=e[f+12>>2],e[l+16>>2]=e[f+16>>2],e[l+20>>2]=e[f+20>>2],uf(o+32|0,f+24|0),f=o+44|0,e[f>>2]=e[h>>2],e[f+4>>2]=e[h+4>>2],e[f+8>>2]=e[h+8>>2],e[f+12>>2]=e[h+12>>2],e[o>>2]=2060,e[o+64>>2]=0,e[o+68>>2]=0,f=o+72|0,e[f>>2]=e[h>>2],e[f+4>>2]=e[h+4>>2],e[f+8>>2]=e[h+8>>2],e[f+12>>2]=e[h+12>>2],e[o+60>>2]=2116,e[o+88>>2]=1,h=o+92|0,e[h>>2]=-1,e[h+4>>2]=-1,e[h+8>>2]=-1,e[h+12>>2]=-1,_n(o+108|0),g=o,e[i>>2]=g;return}default:{g=0,e[i>>2]=g;return}}}function hy(i,s,o,l,f,h,u){i=i|0,o=o|0,l=l|0,f=f|0,h=h|0,u=u|0;var g=0;switch(o|0){case 1:{o=It(60)|0,e[o>>2]=1528,e[o+4>>2]=l,u=o+8|0,e[u>>2]=e[f>>2],e[u+4>>2]=e[f+4>>2],e[u+8>>2]=e[f+8>>2],e[u+12>>2]=e[f+12>>2],e[u+16>>2]=e[f+16>>2],e[u+20>>2]=e[f+20>>2],uf(o+32|0,f+24|0),u=o+44|0,e[u>>2]=e[h>>2],e[u+4>>2]=e[h+4>>2],e[u+8>>2]=e[h+8>>2],e[u+12>>2]=e[h+12>>2],e[o>>2]=1640,g=o,e[i>>2]=g;return}case 4:{o=It(168)|0,LL(o,l,f,h),g=o,e[i>>2]=g;return}case 5:{o=It(104)|0,e[o>>2]=1528,e[o+4>>2]=l,u=o+8|0,e[u>>2]=e[f>>2],e[u+4>>2]=e[f+4>>2],e[u+8>>2]=e[f+8>>2],e[u+12>>2]=e[f+12>>2],e[u+16>>2]=e[f+16>>2],e[u+20>>2]=e[f+20>>2],uf(o+32|0,f+24|0),u=o+44|0,e[u>>2]=e[h>>2],e[u+4>>2]=e[h+4>>2],e[u+8>>2]=e[h+8>>2],e[u+12>>2]=e[h+12>>2],e[o>>2]=1696,e[o+60>>2]=0,e[o+64>>2]=0,e[o+76>>2]=0,e[o+80>>2]=0,e[o+84>>2]=0,u=o+88|0,e[u>>2]=e[h>>2],e[u+4>>2]=e[h+4>>2],e[u+8>>2]=e[h+8>>2],e[u+12>>2]=e[h+12>>2],g=o,e[i>>2]=g;return}case 6:{o=It(140)|0,e[o>>2]=1528,e[o+4>>2]=l,l=o+8|0,e[l>>2]=e[f>>2],e[l+4>>2]=e[f+4>>2],e[l+8>>2]=e[f+8>>2],e[l+12>>2]=e[f+12>>2],e[l+16>>2]=e[f+16>>2],e[l+20>>2]=e[f+20>>2],uf(o+32|0,f+24|0),f=o+44|0,e[f>>2]=e[h>>2],e[f+4>>2]=e[h+4>>2],e[f+8>>2]=e[h+8>>2],e[f+12>>2]=e[h+12>>2],e[o>>2]=1752,e[o+64>>2]=0,e[o+68>>2]=0,f=o+72|0,e[f>>2]=e[h>>2],e[f+4>>2]=e[h+4>>2],e[f+8>>2]=e[h+8>>2],e[f+12>>2]=e[h+12>>2],e[o+60>>2]=1808,e[o+88>>2]=1,h=o+92|0,e[h>>2]=-1,e[h+4>>2]=-1,e[h+8>>2]=-1,e[h+12>>2]=-1,_n(o+108|0),g=o,e[i>>2]=g;return}default:{g=0,e[i>>2]=g;return}}}function m6(i,s,o,l,f,h,u){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,u=u|0;var g=0,d=0;switch(o|0){case 1:{o=It(40)|0,e[o+4>>2]=l,u=o+8|0,e[u>>2]=e[f>>2],e[u+4>>2]=e[f+4>>2],e[u+8>>2]=e[f+8>>2],e[u+12>>2]=e[f+12>>2],u=o+24|0,e[u>>2]=e[h>>2],e[u+4>>2]=e[h+4>>2],e[u+8>>2]=e[h+8>>2],e[u+12>>2]=e[h+12>>2],e[o>>2]=2628,g=o,e[i>>2]=g;return}case 4:{o=It(152)|0,e[o+4>>2]=l,u=o+8|0,e[u>>2]=e[f>>2],e[u+4>>2]=e[f+4>>2],e[u+8>>2]=e[f+8>>2],e[u+12>>2]=e[f+12>>2],u=o+24|0,e[u>>2]=e[h>>2],e[u+4>>2]=e[h+4>>2],e[u+8>>2]=e[h+8>>2],e[u+12>>2]=e[h+12>>2],e[o>>2]=2684,u=o+96|0,s=o+40|0,d=s+52|0;do e[s>>2]=0,s=s+4|0;while((s|0)<(d|0));Zy(u),e[o+136>>2]=0,e[o+140>>2]=0,e[o+144>>2]=0,g=o,e[i>>2]=g;return}case 5:{o=It(84)|0,e[o+4>>2]=l,u=o+8|0,e[u>>2]=e[f>>2],e[u+4>>2]=e[f+4>>2],e[u+8>>2]=e[f+8>>2],e[u+12>>2]=e[f+12>>2],u=o+24|0,e[u>>2]=e[h>>2],e[u+4>>2]=e[h+4>>2],e[u+8>>2]=e[h+8>>2],e[u+12>>2]=e[h+12>>2],e[o>>2]=2740,e[o+40>>2]=0,e[o+44>>2]=0,e[o+56>>2]=0,e[o+60>>2]=0,e[o+64>>2]=0,u=o+68|0,e[u>>2]=e[h>>2],e[u+4>>2]=e[h+4>>2],e[u+8>>2]=e[h+8>>2],e[u+12>>2]=e[h+12>>2],g=o,e[i>>2]=g;return}case 6:{o=It(120)|0,e[o+4>>2]=l,l=o+8|0,e[l>>2]=e[f>>2],e[l+4>>2]=e[f+4>>2],e[l+8>>2]=e[f+8>>2],e[l+12>>2]=e[f+12>>2],f=o+24|0,e[f>>2]=e[h>>2],e[f+4>>2]=e[h+4>>2],e[f+8>>2]=e[h+8>>2],e[f+12>>2]=e[h+12>>2],e[o>>2]=2796,e[o+44>>2]=0,e[o+48>>2]=0,f=o+52|0,e[f>>2]=e[h>>2],e[f+4>>2]=e[h+4>>2],e[f+8>>2]=e[h+8>>2],e[f+12>>2]=e[h+12>>2],e[o+40>>2]=2852,e[o+68>>2]=1,h=o+72|0,e[h>>2]=-1,e[h+4>>2]=-1,e[h+8>>2]=-1,e[h+12>>2]=-1,_n(o+88|0),g=o,e[i>>2]=g;return}default:{g=0,e[i>>2]=g;return}}}function $n(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0;switch(s-i>>2|0){case 2:return l=s+-4|0,f=e[l>>2]|0,h=e[i>>2]|0,u=e[o>>2]|0,g=e[u>>2]|0,d=(e[u+4>>2]|0)-g>>3,d>>>0<=f>>>0&&qe(),m=g,d>>>0<=h>>>0&&qe(),(e[m+(f<<3)>>2]|0)>>>0>=(e[m+(h<<3)>>2]|0)>>>0?(b=1,b|0):(e[i>>2]=f,e[l>>2]=h,b=1,b|0);case 3:return Tn(i,i+4|0,s+-4|0,o)|0,b=1,b|0;case 4:return po(i,i+4|0,i+8|0,s+-4|0,o)|0,b=1,b|0;case 5:return Le(i,i+4|0,i+8|0,i+12|0,s+-4|0,o)|0,b=1,b|0;case 1:case 0:return b=1,b|0;default:{h=i+8|0,Tn(i,i+4|0,h,o)|0,l=i+12|0;e:do if((l|0)!=(s|0)){f=e[o>>2]|0,m=e[f>>2]|0,u=(e[f+4>>2]|0)-m>>3,d=m,m=l,g=0,w=h;t:for(;;){if(x=e[m>>2]|0,C=e[w>>2]|0,u>>>0<=x>>>0){S=14;break}if(u>>>0<=C>>>0){S=16;break}if(D=d+(x<<3)|0,(e[D>>2]|0)>>>0<(e[d+(C<<3)>>2]|0)>>>0){for(I=w,L=m,P=C;;){if(e[L>>2]=P,(I|0)==(i|0)){N=i;break}if(C=I+-4|0,P=e[C>>2]|0,u>>>0<=P>>>0){S=20;break t}if((e[D>>2]|0)>>>0>=(e[d+(P<<3)>>2]|0)>>>0){N=I;break}else X=I,I=C,L=X}if(e[N>>2]=x,L=g+1|0,(L|0)==8){j=0,Q=(m+4|0)==(s|0);break e}else V=L}else V=g;if(L=m+4|0,(L|0)==(s|0)){j=1,Q=0;break e}else I=m,m=L,g=V,w=I}((S|0)==14||(S|0)==16||(S|0)==20)&&qe()}else j=1,Q=0;while(0);return b=Q|j,b|0}}return 0}function qf(i,s,o,l,f,h,u){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,u=u|0;var g=0,d=0;switch(o|0){case 1:{o=It(40)|0,e[o+4>>2]=l,u=o+8|0,e[u>>2]=e[f>>2],e[u+4>>2]=e[f+4>>2],e[u+8>>2]=e[f+8>>2],e[u+12>>2]=e[f+12>>2],u=o+24|0,e[u>>2]=e[h>>2],e[u+4>>2]=e[h+4>>2],e[u+8>>2]=e[h+8>>2],e[u+12>>2]=e[h+12>>2],e[o>>2]=2376,g=o,e[i>>2]=g;return}case 4:{o=It(152)|0,e[o+4>>2]=l,u=o+8|0,e[u>>2]=e[f>>2],e[u+4>>2]=e[f+4>>2],e[u+8>>2]=e[f+8>>2],e[u+12>>2]=e[f+12>>2],u=o+24|0,e[u>>2]=e[h>>2],e[u+4>>2]=e[h+4>>2],e[u+8>>2]=e[h+8>>2],e[u+12>>2]=e[h+12>>2],e[o>>2]=2432,u=o+96|0,s=o+40|0,d=s+52|0;do e[s>>2]=0,s=s+4|0;while((s|0)<(d|0));Zy(u),e[o+136>>2]=0,e[o+140>>2]=0,e[o+144>>2]=0,g=o,e[i>>2]=g;return}case 5:{o=It(84)|0,e[o+4>>2]=l,u=o+8|0,e[u>>2]=e[f>>2],e[u+4>>2]=e[f+4>>2],e[u+8>>2]=e[f+8>>2],e[u+12>>2]=e[f+12>>2],u=o+24|0,e[u>>2]=e[h>>2],e[u+4>>2]=e[h+4>>2],e[u+8>>2]=e[h+8>>2],e[u+12>>2]=e[h+12>>2],e[o>>2]=2488,e[o+40>>2]=0,e[o+44>>2]=0,e[o+56>>2]=0,e[o+60>>2]=0,e[o+64>>2]=0,u=o+68|0,e[u>>2]=e[h>>2],e[u+4>>2]=e[h+4>>2],e[u+8>>2]=e[h+8>>2],e[u+12>>2]=e[h+12>>2],g=o,e[i>>2]=g;return}case 6:{o=It(120)|0,e[o+4>>2]=l,l=o+8|0,e[l>>2]=e[f>>2],e[l+4>>2]=e[f+4>>2],e[l+8>>2]=e[f+8>>2],e[l+12>>2]=e[f+12>>2],f=o+24|0,e[f>>2]=e[h>>2],e[f+4>>2]=e[h+4>>2],e[f+8>>2]=e[h+8>>2],e[f+12>>2]=e[h+12>>2],e[o>>2]=2544,e[o+44>>2]=0,e[o+48>>2]=0,f=o+52|0,e[f>>2]=e[h>>2],e[f+4>>2]=e[h+4>>2],e[f+8>>2]=e[h+8>>2],e[f+12>>2]=e[h+12>>2],e[o+40>>2]=2600,e[o+68>>2]=1,h=o+72|0,e[h>>2]=-1,e[h+4>>2]=-1,e[h+8>>2]=-1,e[h+12>>2]=-1,_n(o+88|0),g=o,e[i>>2]=g;return}default:{g=0,e[i>>2]=g;return}}}function Fu(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=vi,L=vi,P=vi,N=0,X=0,j=0,Q=0,V=0;o=e[s>>2]|0,s=i+4|0,l=e[s>>2]|0,f=(l|0)==0;e:do if(f)m=0;else if(h=l+-1|0,u=(h&l|0)==0,u?g=h&o:o>>>0<l>>>0?g=o:g=(o>>>0)%(l>>>0)|0,d=e[(e[i>>2]|0)+(g<<2)>>2]|0,!d)m=g;else{if(u){for(u=d;;){if(b=e[u>>2]|0,!b){m=g;break e}if(w=e[b+4>>2]|0,!((w|0)==(o|0)|(w&h|0)==(g|0))){m=g;break e}if((e[b+8>>2]|0)==(o|0)){x=b;break}else u=b}return C=x+12|0,C|0}else S=d;for(;;){if(u=e[S>>2]|0,!u){m=g;break e}if(h=e[u+4>>2]|0,(h|0)!=(o|0)&&(h>>>0<l>>>0?D=h:D=(h>>>0)%(l>>>0)|0,(D|0)!=(g|0))){m=g;break e}if((e[u+8>>2]|0)==(o|0)){x=u;break}else S=u}return C=x+12|0,C|0}while(0);S=It(16)|0,e[S+8>>2]=o,e[S+12>>2]=0,e[S+4>>2]=o,e[S>>2]=0,g=i+12|0,I=Zt(((e[g>>2]|0)+1|0)>>>0),L=Zt(l>>>0),P=Zt(bi[i+16>>2]);do if(f|Zt(P*L)<I){if(D=l<<1|(l>>>0<3|(l+-1&l|0)!=0)&1,d=~~Zt(yi(Zt(I/P)))>>>0,F_(i,D>>>0<d>>>0?d:D),D=e[s>>2]|0,d=D+-1|0,!(d&D)){N=D,X=d&o;break}o>>>0<D>>>0?(N=D,X=o):(N=D,X=(o>>>0)%(D>>>0)|0)}else N=l,X=m;while(0);return m=(e[i>>2]|0)+(X<<2)|0,X=e[m>>2]|0,X?(e[S>>2]=e[X>>2],Q=X,V=30):(l=i+8|0,e[S>>2]=e[l>>2],e[l>>2]=S,e[m>>2]=l,l=e[S>>2]|0,l|0&&(m=e[l+4>>2]|0,l=N+-1|0,l&N?m>>>0<N>>>0?j=m:j=(m>>>0)%(N>>>0)|0:j=m&l,Q=(e[i>>2]|0)+(j<<2)|0,V=30)),(V|0)==30&&(e[Q>>2]=S),e[g>>2]=(e[g>>2]|0)+1,x=S,C=x+12|0,C|0}function nd(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0;if(o=q,q=q+16|0,l=o+4|0,f=o,e[i+64>>2]=s,h=i+128|0,e[h>>2]=2,u=i+132|0,e[u>>2]=7,g=kn[e[(e[s>>2]|0)+32>>2]&127](s)|0,s=i+88|0,e[s>>2]=g,d=i+104|0,m=(e[g+28>>2]|0)-(e[g+24>>2]|0)>>2,g=i+108|0,b=e[g>>2]|0,w=e[d>>2]|0,x=b-w>>2,C=w,S=b,m>>>0<=x>>>0?m>>>0<x>>>0&&(D=C+(m<<2)|0,(D|0)!=(S|0))?(C=S+(~((S+-4-D|0)>>>2)<<2)|0,e[g>>2]=C,I=C,L=w):(I=b,L=w):(K0(d,m-x|0),I=e[g>>2]|0,L=e[d>>2]|0),(I|0)!=(L|0)){L=0;do I=e[s>>2]|0,e[f>>2]=L,e[l>>2]=e[f>>2],x=II(I,l)|0,I=e[d>>2]|0,e[I+(L<<2)>>2]=x,L=L+1|0;while(L>>>0<(e[g>>2]|0)-I>>2>>>0)}if(g=i+92|0,L=e[s>>2]|0,d=e[L>>2]|0,l=(e[L+4>>2]|0)-d>>2,f=i+96|0,I=e[f>>2]|0,x=e[g>>2]|0,m=I-x>>2,w=x,x=I,l>>>0<=m>>>0?l>>>0<m>>>0&&(I=w+(l<<2)|0,(I|0)!=(x|0))?(e[f>>2]=x+(~((x+-4-I|0)>>>2)<<2),P=L,N=d):(P=L,N=d):(K0(g,l-m|0),m=e[s>>2]|0,P=m,N=e[m>>2]|0),m=e[P+4>>2]|0,(m|0)!=(N|0)){N=e[g>>2]|0,g=e[P>>2]|0,P=m-g>>2,m=0;do e[N+(m<<2)>>2]=e[g+(m<<2)>>2],m=m+1|0;while(m>>>0<P>>>0)}if(P=(e[u>>2]|0)-(e[h>>2]|0)+1|0,h=i+136|0,u=i+140|0,i=e[u>>2]|0,m=e[h>>2]|0,g=(i-m|0)/12|0,N=i,P>>>0>g>>>0)return Dy(h,P-g|0),q=o,1;if(P>>>0>=g>>>0||(g=m+(P*12|0)|0,(g|0)==(N|0)))return q=o,1;for(X=N;N=X+-12|0,e[u>>2]=N,P=e[N>>2]|0,P?(N=X+-8|0,m=e[N>>2]|0,(m|0)!=(P|0)&&(e[N>>2]=m+(~((m+-4-P|0)>>>2)<<2)),Ae(P),j=e[u>>2]|0):j=N,(j|0)!=(g|0);)X=j;return q=o,1}function g6(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;f=q,q=q+64|0,h=f+48|0,u=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)qe();else{m=It(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Tr(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,w=m,x=b;break}else w=0,x=0;while(0);if(o=(s|0)>0,o){g=0;do b=w+(e[i+(g<<2)>>2]<<3)|0,m=b,C=Qt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Ze,g=g+1|0;while((g|0)!=(s|0))}g=u+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=u,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if($b(u,w,x-w>>3,l)|0,w=u+16|0,x=e0(e[w>>2]|0,e[w+4>>2]|0,1)|0,w=(e[l+4>>2]|0)-(e[l>>2]|0)|0,m=g,e[m>>2]=w,e[m+4>>2]=0,m=Qt(x|0,Ze|0,39,0)|0,x=s0(m|0,Ze|0,3)|0,m=Qt(x|0,Ze|0,8,0)|0,x=Qt(m|0,Ze|0,w|0,0)|0,ds(l,x,Ze),x=u+24|0,e[x>>2]=(e[l>>2]|0)+(e[g>>2]|0),g=u+28|0,e[g>>2]=0,w=u+32|0,e[w>>2]=4194304,o){o=s,s=4194304;do{if(m=o,o=o+-1|0,C=e[i+(o<<2)>>2]|0,b=e[u>>2]|0,S=e[b+(C<<3)>>2]|0,D=S<<10,s>>>0<D>>>0)I=s;else for(L=s;;)if(P=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Y[P+N>>0]=L,N=(e[w>>2]|0)>>>8,e[w>>2]=N,N>>>0<D>>>0){I=N;break}else L=N;s=(((I>>>0)/(S>>>0)|0)<<20)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[w>>2]=s}while((m|0)>1)}return Oc(u,l),l=e[u>>2]|0,l|0&&(s=u+4|0,u=e[s>>2]|0,(u|0)!=(l|0)&&(e[s>>2]=u+(~((u+-8-l|0)>>>3)<<3)),Ae(l)),l=e[h>>2]|0,l?(h=e[d>>2]|0,(h|0)!=(l|0)&&(e[d>>2]=h+(~((h+-8-l|0)>>>3)<<3)),Ae(l),q=f,1):(q=f,1)}function dy(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;f=q,q=q+64|0,h=f+48|0,u=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)qe();else{m=It(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Tr(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,w=m,x=b;break}else w=0,x=0;while(0);if(o=(s|0)>0,o){g=0;do b=w+(e[i+(g<<2)>>2]<<3)|0,m=b,C=Qt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Ze,g=g+1|0;while((g|0)!=(s|0))}g=u+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=u,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(u6(u,w,x-w>>3,l)|0,w=u+16|0,x=e0(e[w>>2]|0,e[w+4>>2]|0,1)|0,w=(e[l+4>>2]|0)-(e[l>>2]|0)|0,m=g,e[m>>2]=w,e[m+4>>2]=0,m=Qt(x|0,Ze|0,39,0)|0,x=s0(m|0,Ze|0,3)|0,m=Qt(x|0,Ze|0,8,0)|0,x=Qt(m|0,Ze|0,w|0,0)|0,ds(l,x,Ze),x=u+24|0,e[x>>2]=(e[l>>2]|0)+(e[g>>2]|0),g=u+28|0,e[g>>2]=0,w=u+32|0,e[w>>2]=4194304,o){o=s,s=4194304;do{if(m=o,o=o+-1|0,C=e[i+(o<<2)>>2]|0,b=e[u>>2]|0,S=e[b+(C<<3)>>2]|0,D=S<<10,s>>>0<D>>>0)I=s;else for(L=s;;)if(P=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Y[P+N>>0]=L,N=(e[w>>2]|0)>>>8,e[w>>2]=N,N>>>0<D>>>0){I=N;break}else L=N;s=(((I>>>0)/(S>>>0)|0)<<20)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[w>>2]=s}while((m|0)>1)}return Oc(u,l),l=e[u>>2]|0,l|0&&(s=u+4|0,u=e[s>>2]|0,(u|0)!=(l|0)&&(e[s>>2]=u+(~((u+-8-l|0)>>>3)<<3)),Ae(l)),l=e[h>>2]|0,l?(h=e[d>>2]|0,(h|0)!=(l|0)&&(e[d>>2]=h+(~((h+-8-l|0)>>>3)<<3)),Ae(l),q=f,1):(q=f,1)}function b6(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;f=q,q=q+64|0,h=f+48|0,u=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)qe();else{m=It(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Tr(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,w=m,x=b;break}else w=0,x=0;while(0);if(o=(s|0)>0,o){g=0;do b=w+(e[i+(g<<2)>>2]<<3)|0,m=b,C=Qt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Ze,g=g+1|0;while((g|0)!=(s|0))}g=u+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=u,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if($1(u,w,x-w>>3,l)|0,w=u+16|0,x=e0(e[w>>2]|0,e[w+4>>2]|0,1)|0,w=(e[l+4>>2]|0)-(e[l>>2]|0)|0,m=g,e[m>>2]=w,e[m+4>>2]=0,m=Qt(x|0,Ze|0,39,0)|0,x=s0(m|0,Ze|0,3)|0,m=Qt(x|0,Ze|0,8,0)|0,x=Qt(m|0,Ze|0,w|0,0)|0,ds(l,x,Ze),x=u+24|0,e[x>>2]=(e[l>>2]|0)+(e[g>>2]|0),g=u+28|0,e[g>>2]=0,w=u+32|0,e[w>>2]=4194304,o){o=s,s=4194304;do{if(m=o,o=o+-1|0,C=e[i+(o<<2)>>2]|0,b=e[u>>2]|0,S=e[b+(C<<3)>>2]|0,D=S<<10,s>>>0<D>>>0)I=s;else for(L=s;;)if(P=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Y[P+N>>0]=L,N=(e[w>>2]|0)>>>8,e[w>>2]=N,N>>>0<D>>>0){I=N;break}else L=N;s=(((I>>>0)/(S>>>0)|0)<<20)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[w>>2]=s}while((m|0)>1)}return Oc(u,l),l=e[u>>2]|0,l|0&&(s=u+4|0,u=e[s>>2]|0,(u|0)!=(l|0)&&(e[s>>2]=u+(~((u+-8-l|0)>>>3)<<3)),Ae(l)),l=e[h>>2]|0,l?(h=e[d>>2]|0,(h|0)!=(l|0)&&(e[d>>2]=h+(~((h+-8-l|0)>>>3)<<3)),Ae(l),q=f,1):(q=f,1)}function y6(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;f=q,q=q+64|0,h=f+48|0,u=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)qe();else{m=It(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Tr(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,w=m,x=b;break}else w=0,x=0;while(0);if(o=(s|0)>0,o){g=0;do b=w+(e[i+(g<<2)>>2]<<3)|0,m=b,C=Qt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Ze,g=g+1|0;while((g|0)!=(s|0))}g=u+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=u,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(Kh(u,w,x-w>>3,l)|0,w=u+16|0,x=e0(e[w>>2]|0,e[w+4>>2]|0,1)|0,w=(e[l+4>>2]|0)-(e[l>>2]|0)|0,m=g,e[m>>2]=w,e[m+4>>2]=0,m=Qt(x|0,Ze|0,39,0)|0,x=s0(m|0,Ze|0,3)|0,m=Qt(x|0,Ze|0,8,0)|0,x=Qt(m|0,Ze|0,w|0,0)|0,ds(l,x,Ze),x=u+24|0,e[x>>2]=(e[l>>2]|0)+(e[g>>2]|0),g=u+28|0,e[g>>2]=0,w=u+32|0,e[w>>2]=4194304,o){o=s,s=4194304;do{if(m=o,o=o+-1|0,C=e[i+(o<<2)>>2]|0,b=e[u>>2]|0,S=e[b+(C<<3)>>2]|0,D=S<<10,s>>>0<D>>>0)I=s;else for(L=s;;)if(P=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Y[P+N>>0]=L,N=(e[w>>2]|0)>>>8,e[w>>2]=N,N>>>0<D>>>0){I=N;break}else L=N;s=(((I>>>0)/(S>>>0)|0)<<20)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[w>>2]=s}while((m|0)>1)}return Oc(u,l),l=e[u>>2]|0,l|0&&(s=u+4|0,u=e[s>>2]|0,(u|0)!=(l|0)&&(e[s>>2]=u+(~((u+-8-l|0)>>>3)<<3)),Ae(l)),l=e[h>>2]|0,l?(h=e[d>>2]|0,(h|0)!=(l|0)&&(e[d>>2]=h+(~((h+-8-l|0)>>>3)<<3)),Ae(l),q=f,1):(q=f,1)}function v6(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;f=q,q=q+64|0,h=f+48|0,u=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)qe();else{m=It(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Tr(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,w=m,x=b;break}else w=0,x=0;while(0);if(o=(s|0)>0,o){g=0;do b=w+(e[i+(g<<2)>>2]<<3)|0,m=b,C=Qt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Ze,g=g+1|0;while((g|0)!=(s|0))}g=u+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=u,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(ey(u,w,x-w>>3,l)|0,w=u+16|0,x=e0(e[w>>2]|0,e[w+4>>2]|0,1)|0,w=(e[l+4>>2]|0)-(e[l>>2]|0)|0,m=g,e[m>>2]=w,e[m+4>>2]=0,m=Qt(x|0,Ze|0,39,0)|0,x=s0(m|0,Ze|0,3)|0,m=Qt(x|0,Ze|0,8,0)|0,x=Qt(m|0,Ze|0,w|0,0)|0,ds(l,x,Ze),x=u+24|0,e[x>>2]=(e[l>>2]|0)+(e[g>>2]|0),g=u+28|0,e[g>>2]=0,w=u+32|0,e[w>>2]=4194304,o){o=s,s=4194304;do{if(m=o,o=o+-1|0,C=e[i+(o<<2)>>2]|0,b=e[u>>2]|0,S=e[b+(C<<3)>>2]|0,D=S<<10,s>>>0<D>>>0)I=s;else for(L=s;;)if(P=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Y[P+N>>0]=L,N=(e[w>>2]|0)>>>8,e[w>>2]=N,N>>>0<D>>>0){I=N;break}else L=N;s=(((I>>>0)/(S>>>0)|0)<<20)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[w>>2]=s}while((m|0)>1)}return Oc(u,l),l=e[u>>2]|0,l|0&&(s=u+4|0,u=e[s>>2]|0,(u|0)!=(l|0)&&(e[s>>2]=u+(~((u+-8-l|0)>>>3)<<3)),Ae(l)),l=e[h>>2]|0,l?(h=e[d>>2]|0,(h|0)!=(l|0)&&(e[d>>2]=h+(~((h+-8-l|0)>>>3)<<3)),Ae(l),q=f,1):(q=f,1)}function Yo(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;f=q,q=q+64|0,h=f+48|0,u=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)qe();else{m=It(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Tr(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,w=m,x=b;break}else w=0,x=0;while(0);if(o=(s|0)>0,o){g=0;do b=w+(e[i+(g<<2)>>2]<<3)|0,m=b,C=Qt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Ze,g=g+1|0;while((g|0)!=(s|0))}g=u+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=u,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(em(u,w,x-w>>3,l)|0,w=u+16|0,x=e0(e[w>>2]|0,e[w+4>>2]|0,1)|0,w=(e[l+4>>2]|0)-(e[l>>2]|0)|0,m=g,e[m>>2]=w,e[m+4>>2]=0,m=Qt(x|0,Ze|0,39,0)|0,x=s0(m|0,Ze|0,3)|0,m=Qt(x|0,Ze|0,8,0)|0,x=Qt(m|0,Ze|0,w|0,0)|0,ds(l,x,Ze),x=u+24|0,e[x>>2]=(e[l>>2]|0)+(e[g>>2]|0),g=u+28|0,e[g>>2]=0,w=u+32|0,e[w>>2]=2097152,o){o=s,s=2097152;do{if(m=o,o=o+-1|0,C=e[i+(o<<2)>>2]|0,b=e[u>>2]|0,S=e[b+(C<<3)>>2]|0,D=S<<10,s>>>0<D>>>0)I=s;else for(L=s;;)if(P=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Y[P+N>>0]=L,N=(e[w>>2]|0)>>>8,e[w>>2]=N,N>>>0<D>>>0){I=N;break}else L=N;s=(((I>>>0)/(S>>>0)|0)<<19)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[w>>2]=s}while((m|0)>1)}return P6(u,l),l=e[u>>2]|0,l|0&&(s=u+4|0,u=e[s>>2]|0,(u|0)!=(l|0)&&(e[s>>2]=u+(~((u+-8-l|0)>>>3)<<3)),Ae(l)),l=e[h>>2]|0,l?(h=e[d>>2]|0,(h|0)!=(l|0)&&(e[d>>2]=h+(~((h+-8-l|0)>>>3)<<3)),Ae(l),q=f,1):(q=f,1)}function py(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;f=q,q=q+64|0,h=f+48|0,u=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)qe();else{m=It(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Tr(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,w=m,x=b;break}else w=0,x=0;while(0);if(o=(s|0)>0,o){g=0;do b=w+(e[i+(g<<2)>>2]<<3)|0,m=b,C=Qt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Ze,g=g+1|0;while((g|0)!=(s|0))}g=u+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=u,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(Jf(u,w,x-w>>3,l)|0,w=u+16|0,x=e0(e[w>>2]|0,e[w+4>>2]|0,1)|0,w=(e[l+4>>2]|0)-(e[l>>2]|0)|0,m=g,e[m>>2]=w,e[m+4>>2]=0,m=Qt(x|0,Ze|0,39,0)|0,x=s0(m|0,Ze|0,3)|0,m=Qt(x|0,Ze|0,8,0)|0,x=Qt(m|0,Ze|0,w|0,0)|0,ds(l,x,Ze),x=u+24|0,e[x>>2]=(e[l>>2]|0)+(e[g>>2]|0),g=u+28|0,e[g>>2]=0,w=u+32|0,e[w>>2]=1048576,o){o=s,s=1048576;do{if(m=o,o=o+-1|0,C=e[i+(o<<2)>>2]|0,b=e[u>>2]|0,S=e[b+(C<<3)>>2]|0,D=S<<10,s>>>0<D>>>0)I=s;else for(L=s;;)if(P=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Y[P+N>>0]=L,N=(e[w>>2]|0)>>>8,e[w>>2]=N,N>>>0<D>>>0){I=N;break}else L=N;s=(((I>>>0)/(S>>>0)|0)<<18)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[w>>2]=s}while((m|0)>1)}return _m(u,l),l=e[u>>2]|0,l|0&&(s=u+4|0,u=e[s>>2]|0,(u|0)!=(l|0)&&(e[s>>2]=u+(~((u+-8-l|0)>>>3)<<3)),Ae(l)),l=e[h>>2]|0,l?(h=e[d>>2]|0,(h|0)!=(l|0)&&(e[d>>2]=h+(~((h+-8-l|0)>>>3)<<3)),Ae(l),q=f,1):(q=f,1)}function w6(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;f=q,q=q+64|0,h=f+48|0,u=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)qe();else{m=It(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Tr(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,w=m,x=b;break}else w=0,x=0;while(0);if(o=(s|0)>0,o){g=0;do b=w+(e[i+(g<<2)>>2]<<3)|0,m=b,C=Qt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Ze,g=g+1|0;while((g|0)!=(s|0))}g=u+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=u,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(ty(u,w,x-w>>3,l)|0,w=u+16|0,x=e0(e[w>>2]|0,e[w+4>>2]|0,1)|0,w=(e[l+4>>2]|0)-(e[l>>2]|0)|0,m=g,e[m>>2]=w,e[m+4>>2]=0,m=Qt(x|0,Ze|0,39,0)|0,x=s0(m|0,Ze|0,3)|0,m=Qt(x|0,Ze|0,8,0)|0,x=Qt(m|0,Ze|0,w|0,0)|0,ds(l,x,Ze),x=u+24|0,e[x>>2]=(e[l>>2]|0)+(e[g>>2]|0),g=u+28|0,e[g>>2]=0,w=u+32|0,e[w>>2]=262144,o){o=s,s=262144;do{if(m=o,o=o+-1|0,C=e[i+(o<<2)>>2]|0,b=e[u>>2]|0,S=e[b+(C<<3)>>2]|0,D=S<<10,s>>>0<D>>>0)I=s;else for(L=s;;)if(P=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Y[P+N>>0]=L,N=(e[w>>2]|0)>>>8,e[w>>2]=N,N>>>0<D>>>0){I=N;break}else L=N;s=(((I>>>0)/(S>>>0)|0)<<16)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[w>>2]=s}while((m|0)>1)}return Iy(u,l),l=e[u>>2]|0,l|0&&(s=u+4|0,u=e[s>>2]|0,(u|0)!=(l|0)&&(e[s>>2]=u+(~((u+-8-l|0)>>>3)<<3)),Ae(l)),l=e[h>>2]|0,l?(h=e[d>>2]|0,(h|0)!=(l|0)&&(e[d>>2]=h+(~((h+-8-l|0)>>>3)<<3)),Ae(l),q=f,1):(q=f,1)}function A6(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;f=q,q=q+64|0,h=f+48|0,u=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)qe();else{m=It(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Tr(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,w=m,x=b;break}else w=0,x=0;while(0);if(o=(s|0)>0,o){g=0;do b=w+(e[i+(g<<2)>>2]<<3)|0,m=b,C=Qt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Ze,g=g+1|0;while((g|0)!=(s|0))}g=u+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=u,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(ry(u,w,x-w>>3,l)|0,w=u+16|0,x=e0(e[w>>2]|0,e[w+4>>2]|0,1)|0,w=(e[l+4>>2]|0)-(e[l>>2]|0)|0,m=g,e[m>>2]=w,e[m+4>>2]=0,m=Qt(x|0,Ze|0,39,0)|0,x=s0(m|0,Ze|0,3)|0,m=Qt(x|0,Ze|0,8,0)|0,x=Qt(m|0,Ze|0,w|0,0)|0,ds(l,x,Ze),x=u+24|0,e[x>>2]=(e[l>>2]|0)+(e[g>>2]|0),g=u+28|0,e[g>>2]=0,w=u+32|0,e[w>>2]=131072,o){o=s,s=131072;do{if(m=o,o=o+-1|0,C=e[i+(o<<2)>>2]|0,b=e[u>>2]|0,S=e[b+(C<<3)>>2]|0,D=S<<10,s>>>0<D>>>0)I=s;else for(L=s;;)if(P=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Y[P+N>>0]=L,N=(e[w>>2]|0)>>>8,e[w>>2]=N,N>>>0<D>>>0){I=N;break}else L=N;s=(((I>>>0)/(S>>>0)|0)<<15)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[w>>2]=s}while((m|0)>1)}return N6(u,l),l=e[u>>2]|0,l|0&&(s=u+4|0,u=e[s>>2]|0,(u|0)!=(l|0)&&(e[s>>2]=u+(~((u+-8-l|0)>>>3)<<3)),Ae(l)),l=e[h>>2]|0,l?(h=e[d>>2]|0,(h|0)!=(l|0)&&(e[d>>2]=h+(~((h+-8-l|0)>>>3)<<3)),Ae(l),q=f,1):(q=f,1)}function x6(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;f=q,q=q+64|0,h=f+48|0,u=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)qe();else{m=It(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Tr(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,w=m,x=b;break}else w=0,x=0;while(0);if(o=(s|0)>0,o){g=0;do b=w+(e[i+(g<<2)>>2]<<3)|0,m=b,C=Qt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Ze,g=g+1|0;while((g|0)!=(s|0))}g=u+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=u,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(c6(u,w,x-w>>3,l)|0,w=u+16|0,x=e0(e[w>>2]|0,e[w+4>>2]|0,1)|0,w=(e[l+4>>2]|0)-(e[l>>2]|0)|0,m=g,e[m>>2]=w,e[m+4>>2]=0,m=Qt(x|0,Ze|0,39,0)|0,x=s0(m|0,Ze|0,3)|0,m=Qt(x|0,Ze|0,8,0)|0,x=Qt(m|0,Ze|0,w|0,0)|0,ds(l,x,Ze),x=u+24|0,e[x>>2]=(e[l>>2]|0)+(e[g>>2]|0),g=u+28|0,e[g>>2]=0,w=u+32|0,e[w>>2]=32768,o){o=s,s=32768;do{if(m=o,o=o+-1|0,C=e[i+(o<<2)>>2]|0,b=e[u>>2]|0,S=e[b+(C<<3)>>2]|0,D=S<<10,s>>>0<D>>>0)I=s;else for(L=s;;)if(P=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Y[P+N>>0]=L,N=(e[w>>2]|0)>>>8,e[w>>2]=N,N>>>0<D>>>0){I=N;break}else L=N;s=(((I>>>0)/(S>>>0)|0)<<13)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[w>>2]=s}while((m|0)>1)}return Hc(u,l),l=e[u>>2]|0,l|0&&(s=u+4|0,u=e[s>>2]|0,(u|0)!=(l|0)&&(e[s>>2]=u+(~((u+-8-l|0)>>>3)<<3)),Ae(l)),l=e[h>>2]|0,l?(h=e[d>>2]|0,(h|0)!=(l|0)&&(e[d>>2]=h+(~((h+-8-l|0)>>>3)<<3)),Ae(l),q=f,1):(q=f,1)}function my(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;f=q,q=q+64|0,h=f+48|0,u=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)qe();else{m=It(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Tr(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,w=m,x=b;break}else w=0,x=0;while(0);if(o=(s|0)>0,o){g=0;do b=w+(e[i+(g<<2)>>2]<<3)|0,m=b,C=Qt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Ze,g=g+1|0;while((g|0)!=(s|0))}g=u+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=u,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(C2(u,w,x-w>>3,l)|0,w=u+16|0,x=e0(e[w>>2]|0,e[w+4>>2]|0,1)|0,w=(e[l+4>>2]|0)-(e[l>>2]|0)|0,m=g,e[m>>2]=w,e[m+4>>2]=0,m=Qt(x|0,Ze|0,39,0)|0,x=s0(m|0,Ze|0,3)|0,m=Qt(x|0,Ze|0,8,0)|0,x=Qt(m|0,Ze|0,w|0,0)|0,ds(l,x,Ze),x=u+24|0,e[x>>2]=(e[l>>2]|0)+(e[g>>2]|0),g=u+28|0,e[g>>2]=0,w=u+32|0,e[w>>2]=16384,o){o=s,s=16384;do{if(m=o,o=o+-1|0,C=e[i+(o<<2)>>2]|0,b=e[u>>2]|0,S=e[b+(C<<3)>>2]|0,D=S<<10,s>>>0<D>>>0)I=s;else for(L=s;;)if(P=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Y[P+N>>0]=L,N=(e[w>>2]|0)>>>8,e[w>>2]=N,N>>>0<D>>>0){I=N;break}else L=N;s=(((I>>>0)/(S>>>0)|0)<<12)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[w>>2]=s}while((m|0)>1)}return af(u,l),l=e[u>>2]|0,l|0&&(s=u+4|0,u=e[s>>2]|0,(u|0)!=(l|0)&&(e[s>>2]=u+(~((u+-8-l|0)>>>3)<<3)),Ae(l)),l=e[h>>2]|0,l?(h=e[d>>2]|0,(h|0)!=(l|0)&&(e[d>>2]=h+(~((h+-8-l|0)>>>3)<<3)),Ae(l),q=f,1):(q=f,1)}function gy(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;f=q,q=q+64|0,h=f+48|0,u=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)qe();else{m=It(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Tr(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,w=m,x=b;break}else w=0,x=0;while(0);if(o=(s|0)>0,o){g=0;do b=w+(e[i+(g<<2)>>2]<<3)|0,m=b,C=Qt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Ze,g=g+1|0;while((g|0)!=(s|0))}g=u+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=u,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(tm(u,w,x-w>>3,l)|0,w=u+16|0,x=e0(e[w>>2]|0,e[w+4>>2]|0,1)|0,w=(e[l+4>>2]|0)-(e[l>>2]|0)|0,m=g,e[m>>2]=w,e[m+4>>2]=0,m=Qt(x|0,Ze|0,39,0)|0,x=s0(m|0,Ze|0,3)|0,m=Qt(x|0,Ze|0,8,0)|0,x=Qt(m|0,Ze|0,w|0,0)|0,ds(l,x,Ze),x=u+24|0,e[x>>2]=(e[l>>2]|0)+(e[g>>2]|0),g=u+28|0,e[g>>2]=0,w=u+32|0,e[w>>2]=16384,o){o=s,s=16384;do{if(m=o,o=o+-1|0,C=e[i+(o<<2)>>2]|0,b=e[u>>2]|0,S=e[b+(C<<3)>>2]|0,D=S<<10,s>>>0<D>>>0)I=s;else for(L=s;;)if(P=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Y[P+N>>0]=L,N=(e[w>>2]|0)>>>8,e[w>>2]=N,N>>>0<D>>>0){I=N;break}else L=N;s=(((I>>>0)/(S>>>0)|0)<<12)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[w>>2]=s}while((m|0)>1)}return af(u,l),l=e[u>>2]|0,l|0&&(s=u+4|0,u=e[s>>2]|0,(u|0)!=(l|0)&&(e[s>>2]=u+(~((u+-8-l|0)>>>3)<<3)),Ae(l)),l=e[h>>2]|0,l?(h=e[d>>2]|0,(h|0)!=(l|0)&&(e[d>>2]=h+(~((h+-8-l|0)>>>3)<<3)),Ae(l),q=f,1):(q=f,1)}function by(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;f=q,q=q+64|0,h=f+48|0,u=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)qe();else{m=It(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Tr(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,w=m,x=b;break}else w=0,x=0;while(0);if(o=(s|0)>0,o){g=0;do b=w+(e[i+(g<<2)>>2]<<3)|0,m=b,C=Qt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Ze,g=g+1|0;while((g|0)!=(s|0))}g=u+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=u,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(iy(u,w,x-w>>3,l)|0,w=u+16|0,x=e0(e[w>>2]|0,e[w+4>>2]|0,1)|0,w=(e[l+4>>2]|0)-(e[l>>2]|0)|0,m=g,e[m>>2]=w,e[m+4>>2]=0,m=Qt(x|0,Ze|0,39,0)|0,x=s0(m|0,Ze|0,3)|0,m=Qt(x|0,Ze|0,8,0)|0,x=Qt(m|0,Ze|0,w|0,0)|0,ds(l,x,Ze),x=u+24|0,e[x>>2]=(e[l>>2]|0)+(e[g>>2]|0),g=u+28|0,e[g>>2]=0,w=u+32|0,e[w>>2]=16384,o){o=s,s=16384;do{if(m=o,o=o+-1|0,C=e[i+(o<<2)>>2]|0,b=e[u>>2]|0,S=e[b+(C<<3)>>2]|0,D=S<<10,s>>>0<D>>>0)I=s;else for(L=s;;)if(P=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Y[P+N>>0]=L,N=(e[w>>2]|0)>>>8,e[w>>2]=N,N>>>0<D>>>0){I=N;break}else L=N;s=(((I>>>0)/(S>>>0)|0)<<12)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[w>>2]=s}while((m|0)>1)}return af(u,l),l=e[u>>2]|0,l|0&&(s=u+4|0,u=e[s>>2]|0,(u|0)!=(l|0)&&(e[s>>2]=u+(~((u+-8-l|0)>>>3)<<3)),Ae(l)),l=e[h>>2]|0,l?(h=e[d>>2]|0,(h|0)!=(l|0)&&(e[d>>2]=h+(~((h+-8-l|0)>>>3)<<3)),Ae(l),q=f,1):(q=f,1)}function E6(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;f=q,q=q+64|0,h=f+48|0,u=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)qe();else{m=It(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Tr(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,w=m,x=b;break}else w=0,x=0;while(0);if(o=(s|0)>0,o){g=0;do b=w+(e[i+(g<<2)>>2]<<3)|0,m=b,C=Qt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Ze,g=g+1|0;while((g|0)!=(s|0))}g=u+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=u,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(ny(u,w,x-w>>3,l)|0,w=u+16|0,x=e0(e[w>>2]|0,e[w+4>>2]|0,1)|0,w=(e[l+4>>2]|0)-(e[l>>2]|0)|0,m=g,e[m>>2]=w,e[m+4>>2]=0,m=Qt(x|0,Ze|0,39,0)|0,x=s0(m|0,Ze|0,3)|0,m=Qt(x|0,Ze|0,8,0)|0,x=Qt(m|0,Ze|0,w|0,0)|0,ds(l,x,Ze),x=u+24|0,e[x>>2]=(e[l>>2]|0)+(e[g>>2]|0),g=u+28|0,e[g>>2]=0,w=u+32|0,e[w>>2]=16384,o){o=s,s=16384;do{if(m=o,o=o+-1|0,C=e[i+(o<<2)>>2]|0,b=e[u>>2]|0,S=e[b+(C<<3)>>2]|0,D=S<<10,s>>>0<D>>>0)I=s;else for(L=s;;)if(P=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Y[P+N>>0]=L,N=(e[w>>2]|0)>>>8,e[w>>2]=N,N>>>0<D>>>0){I=N;break}else L=N;s=(((I>>>0)/(S>>>0)|0)<<12)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[w>>2]=s}while((m|0)>1)}return af(u,l),l=e[u>>2]|0,l|0&&(s=u+4|0,u=e[s>>2]|0,(u|0)!=(l|0)&&(e[s>>2]=u+(~((u+-8-l|0)>>>3)<<3)),Ae(l)),l=e[h>>2]|0,l?(h=e[d>>2]|0,(h|0)!=(l|0)&&(e[d>>2]=h+(~((h+-8-l|0)>>>3)<<3)),Ae(l),q=f,1):(q=f,1)}function _6(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;f=q,q=q+64|0,h=f+48|0,u=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)qe();else{m=It(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Tr(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,w=m,x=b;break}else w=0,x=0;while(0);if(o=(s|0)>0,o){g=0;do b=w+(e[i+(g<<2)>>2]<<3)|0,m=b,C=Qt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Ze,g=g+1|0;while((g|0)!=(s|0))}g=u+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=u,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(sy(u,w,x-w>>3,l)|0,w=u+16|0,x=e0(e[w>>2]|0,e[w+4>>2]|0,1)|0,w=(e[l+4>>2]|0)-(e[l>>2]|0)|0,m=g,e[m>>2]=w,e[m+4>>2]=0,m=Qt(x|0,Ze|0,39,0)|0,x=s0(m|0,Ze|0,3)|0,m=Qt(x|0,Ze|0,8,0)|0,x=Qt(m|0,Ze|0,w|0,0)|0,ds(l,x,Ze),x=u+24|0,e[x>>2]=(e[l>>2]|0)+(e[g>>2]|0),g=u+28|0,e[g>>2]=0,w=u+32|0,e[w>>2]=16384,o){o=s,s=16384;do{if(m=o,o=o+-1|0,C=e[i+(o<<2)>>2]|0,b=e[u>>2]|0,S=e[b+(C<<3)>>2]|0,D=S<<10,s>>>0<D>>>0)I=s;else for(L=s;;)if(P=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Y[P+N>>0]=L,N=(e[w>>2]|0)>>>8,e[w>>2]=N,N>>>0<D>>>0){I=N;break}else L=N;s=(((I>>>0)/(S>>>0)|0)<<12)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[w>>2]=s}while((m|0)>1)}return af(u,l),l=e[u>>2]|0,l|0&&(s=u+4|0,u=e[s>>2]|0,(u|0)!=(l|0)&&(e[s>>2]=u+(~((u+-8-l|0)>>>3)<<3)),Ae(l)),l=e[h>>2]|0,l?(h=e[d>>2]|0,(h|0)!=(l|0)&&(e[d>>2]=h+(~((h+-8-l|0)>>>3)<<3)),Ae(l),q=f,1):(q=f,1)}function k6(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;f=q,q=q+64|0,h=f+48|0,u=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)qe();else{m=It(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Tr(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,w=m,x=b;break}else w=0,x=0;while(0);if(o=(s|0)>0,o){g=0;do b=w+(e[i+(g<<2)>>2]<<3)|0,m=b,C=Qt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Ze,g=g+1|0;while((g|0)!=(s|0))}g=u+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=u,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(h6(u,w,x-w>>3,l)|0,w=u+16|0,x=e0(e[w>>2]|0,e[w+4>>2]|0,1)|0,w=(e[l+4>>2]|0)-(e[l>>2]|0)|0,m=g,e[m>>2]=w,e[m+4>>2]=0,m=Qt(x|0,Ze|0,39,0)|0,x=s0(m|0,Ze|0,3)|0,m=Qt(x|0,Ze|0,8,0)|0,x=Qt(m|0,Ze|0,w|0,0)|0,ds(l,x,Ze),x=u+24|0,e[x>>2]=(e[l>>2]|0)+(e[g>>2]|0),g=u+28|0,e[g>>2]=0,w=u+32|0,e[w>>2]=16384,o){o=s,s=16384;do{if(m=o,o=o+-1|0,C=e[i+(o<<2)>>2]|0,b=e[u>>2]|0,S=e[b+(C<<3)>>2]|0,D=S<<10,s>>>0<D>>>0)I=s;else for(L=s;;)if(P=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Y[P+N>>0]=L,N=(e[w>>2]|0)>>>8,e[w>>2]=N,N>>>0<D>>>0){I=N;break}else L=N;s=(((I>>>0)/(S>>>0)|0)<<12)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[w>>2]=s}while((m|0)>1)}return af(u,l),l=e[u>>2]|0,l|0&&(s=u+4|0,u=e[s>>2]|0,(u|0)!=(l|0)&&(e[s>>2]=u+(~((u+-8-l|0)>>>3)<<3)),Ae(l)),l=e[h>>2]|0,l?(h=e[d>>2]|0,(h|0)!=(l|0)&&(e[d>>2]=h+(~((h+-8-l|0)>>>3)<<3)),Ae(l),q=f,1):(q=f,1)}function Zf(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;f=q,q=q+64|0,h=f+48|0,u=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)qe();else{m=It(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Tr(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,w=m,x=b;break}else w=0,x=0;while(0);if(o=(s|0)>0,o){g=0;do b=w+(e[i+(g<<2)>>2]<<3)|0,m=b,C=Qt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Ze,g=g+1|0;while((g|0)!=(s|0))}g=u+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=u,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(d6(u,w,x-w>>3,l)|0,w=u+16|0,x=e0(e[w>>2]|0,e[w+4>>2]|0,1)|0,w=(e[l+4>>2]|0)-(e[l>>2]|0)|0,m=g,e[m>>2]=w,e[m+4>>2]=0,m=Qt(x|0,Ze|0,39,0)|0,x=s0(m|0,Ze|0,3)|0,m=Qt(x|0,Ze|0,8,0)|0,x=Qt(m|0,Ze|0,w|0,0)|0,ds(l,x,Ze),x=u+24|0,e[x>>2]=(e[l>>2]|0)+(e[g>>2]|0),g=u+28|0,e[g>>2]=0,w=u+32|0,e[w>>2]=16384,o){o=s,s=16384;do{if(m=o,o=o+-1|0,C=e[i+(o<<2)>>2]|0,b=e[u>>2]|0,S=e[b+(C<<3)>>2]|0,D=S<<10,s>>>0<D>>>0)I=s;else for(L=s;;)if(P=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Y[P+N>>0]=L,N=(e[w>>2]|0)>>>8,e[w>>2]=N,N>>>0<D>>>0){I=N;break}else L=N;s=(((I>>>0)/(S>>>0)|0)<<12)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[w>>2]=s}while((m|0)>1)}return af(u,l),l=e[u>>2]|0,l|0&&(s=u+4|0,u=e[s>>2]|0,(u|0)!=(l|0)&&(e[s>>2]=u+(~((u+-8-l|0)>>>3)<<3)),Ae(l)),l=e[h>>2]|0,l?(h=e[d>>2]|0,(h|0)!=(l|0)&&(e[d>>2]=h+(~((h+-8-l|0)>>>3)<<3)),Ae(l),q=f,1):(q=f,1)}function sd(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;f=q,q=q+64|0,h=f+48|0,u=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)qe();else{m=It(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Tr(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,w=m,x=b;break}else w=0,x=0;while(0);if(o=(s|0)>0,o){g=0;do b=w+(e[i+(g<<2)>>2]<<3)|0,m=b,C=Qt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Ze,g=g+1|0;while((g|0)!=(s|0))}g=u+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=u,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(S2(u,w,x-w>>3,l)|0,w=u+16|0,x=e0(e[w>>2]|0,e[w+4>>2]|0,1)|0,w=(e[l+4>>2]|0)-(e[l>>2]|0)|0,m=g,e[m>>2]=w,e[m+4>>2]=0,m=Qt(x|0,Ze|0,39,0)|0,x=s0(m|0,Ze|0,3)|0,m=Qt(x|0,Ze|0,8,0)|0,x=Qt(m|0,Ze|0,w|0,0)|0,ds(l,x,Ze),x=u+24|0,e[x>>2]=(e[l>>2]|0)+(e[g>>2]|0),g=u+28|0,e[g>>2]=0,w=u+32|0,e[w>>2]=16384,o){o=s,s=16384;do{if(m=o,o=o+-1|0,C=e[i+(o<<2)>>2]|0,b=e[u>>2]|0,S=e[b+(C<<3)>>2]|0,D=S<<10,s>>>0<D>>>0)I=s;else for(L=s;;)if(P=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Y[P+N>>0]=L,N=(e[w>>2]|0)>>>8,e[w>>2]=N,N>>>0<D>>>0){I=N;break}else L=N;s=(((I>>>0)/(S>>>0)|0)<<12)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[w>>2]=s}while((m|0)>1)}return af(u,l),l=e[u>>2]|0,l|0&&(s=u+4|0,u=e[s>>2]|0,(u|0)!=(l|0)&&(e[s>>2]=u+(~((u+-8-l|0)>>>3)<<3)),Ae(l)),l=e[h>>2]|0,l?(h=e[d>>2]|0,(h|0)!=(l|0)&&(e[d>>2]=h+(~((h+-8-l|0)>>>3)<<3)),Ae(l),q=f,1):(q=f,1)}function B2(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0;if(f=e[s>>2]|0,h=s+4|0,u=e[h>>2]|0,g=((e[o>>2]|0)-f<<3)+(e[o+4>>2]|0)-u|0,o=f,(g|0)<=0){d=l+4|0,m=e[l>>2]|0,e[i>>2]=m,b=i+4|0,w=e[d>>2]|0,e[b>>2]=w;return}if(u?(f=32-u|0,I=(g|0)<(f|0)?g:f,L=-1>>>(f-I|0)&-1<<u&e[o>>2],o=l+4|0,u=e[o>>2]|0,f=32-u|0,P=f>>>0<I>>>0?f:I,N=e[l>>2]|0,X=e[N>>2]&~(-1>>>(f-P|0)&-1<<u),e[N>>2]=X,u=e[o>>2]|0,f=e[h>>2]|0,e[N>>2]=(u>>>0>f>>>0?L<<u-f:L>>>(f-u|0))|X,X=(e[o>>2]|0)+P|0,u=N+(X>>>5<<2)|0,e[l>>2]=u,N=X&31,e[o>>2]=N,X=I-P|0,(X|0)>0?(f=e[u>>2]&~(-1>>>(32-X|0)),e[u>>2]=f,e[u>>2]=f|L>>>((e[h>>2]|0)+P|0),e[o>>2]=X,j=X):j=N,N=(e[s>>2]|0)+4|0,e[s>>2]=N,x=g-I|0,C=o,S=N,D=j):(f=l+4|0,x=g,C=f,S=o,D=e[f>>2]|0),j=32-D|0,N=-1<<D,(x|0)>31){for(D=~N,o=~x,I=x+((o|0)>-64?o:-64)+32&-32,o=x,g=S;X=e[g>>2]|0,P=e[l>>2]|0,h=e[P>>2]&D,e[P>>2]=h,e[P>>2]=h|X<<e[C>>2],h=P+4|0,e[l>>2]=h,e[h>>2]=e[h>>2]&N|X>>>j,g=(e[s>>2]|0)+4|0,e[s>>2]=g,!((o|0)<=63);)o=o+-32|0;Q=x+-32-I|0,V=g}else Q=x,V=S;if((Q|0)<=0){d=C,m=e[l>>2]|0,e[i>>2]=m,b=i+4|0,w=e[d>>2]|0,e[b>>2]=w;return}if(S=e[V>>2]&-1>>>(32-Q|0),V=(j|0)<(Q|0)?j:Q,x=e[l>>2]|0,g=e[x>>2]&~(-1<<e[C>>2]&-1>>>(j-V|0)),e[x>>2]=g,e[x>>2]=g|S<<e[C>>2],g=(e[C>>2]|0)+V|0,j=x+(g>>>5<<2)|0,e[l>>2]=j,e[C>>2]=g&31,g=Q-V|0,(g|0)<=0){d=C,m=e[l>>2]|0,e[i>>2]=m,b=i+4|0,w=e[d>>2]|0,e[b>>2]=w;return}e[j>>2]=e[j>>2]&~(-1>>>(32-g|0))|S>>>V,e[C>>2]=g,d=C,m=e[l>>2]|0,e[i>>2]=m,b=i+4|0,w=e[d>>2]|0,e[b>>2]=w}function Ic(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0;o=q,q=q+16|0,l=o+4|0,f=o,h=o+9|0,u=o+8|0,g=e[(e[i+184>>2]|0)+(s<<2)>>2]&255,Y[h>>0]=g,s=i+4|0,d=e[(e[s>>2]|0)+44>>2]|0,m=d+16|0,b=e[m+4>>2]|0,(b|0)>0|(b|0)==0&(e[m>>2]|0)>>>0>0?w=g:(e[f>>2]=e[d+4>>2],e[l>>2]=e[f>>2],wi(d,l,h,h+1|0)|0,w=Y[h>>0]|0);e:do if(w<<24>>24>-1){switch(d=i+172|0,g=e[(e[d>>2]|0)+((w<<24>>24)*136|0)>>2]|0,m=(kn[e[(e[i>>2]|0)+40>>2]&127](i)|0)+56|0,b=Y[h>>0]|0,x=e[d>>2]|0,d=e[x+(b*136|0)+132>>2]|0,e[(e[(e[m>>2]|0)+84>>2]|0)+(g<<2)>>2]|0){case 0:{C=d,S=7;break e}case 1:{if(Y[x+(b*136|0)+28>>0]|0){C=d,S=7;break e}break}}b=e[(e[s>>2]|0)+44>>2]|0,Y[u>>0]=1,x=b+16|0,g=e[x+4>>2]|0,(g|0)>0|(g|0)==0&(e[x>>2]|0)>>>0>0||(e[f>>2]=e[b+4>>2],e[l>>2]=e[f>>2],wi(b,l,u,u+1|0)|0),D=d}else C=e[i+68>>2]|0,S=7;while(0);return(S|0)==7&&(S=e[(e[s>>2]|0)+44>>2]|0,Y[u>>0]=0,i=S+16|0,h=e[i+4>>2]|0,(h|0)>0|(h|0)==0&(e[i>>2]|0)>>>0>0||(e[f>>2]=e[S+4>>2],e[l>>2]=e[f>>2],wi(S,l,u,u+1|0)|0),D=C),C=e[(e[s>>2]|0)+44>>2]|0,Y[u>>0]=D,D=C+16|0,s=e[D+4>>2]|0,(s|0)>0|(s|0)==0&(e[D>>2]|0)>>>0>0?(q=o,1):(e[f>>2]=e[C+4>>2],e[l>>2]=e[f>>2],wi(C,l,u,u+1|0)|0,q=o,1)}function sf(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;if(u=q,q=q+16|0,g=u+4|0,d=u,m=i+60|0,e[i+64>>2]=h,h=i+8|0,pd(h,s,l,f),l=i+56|0,b=e[l>>2]|0,w=e[b+4>>2]|0,x=e[b>>2]|0,C=w-x|0,(C|0)<=0)return q=u,1;for(S=(C>>>2)+-1|0,C=i+68|0,D=i+16|0,I=i+32|0,L=i+12|0,P=i+28|0,N=i+20|0,X=i+24|0,w-x>>2>>>0>S>>>0?(j=S,Q=x):qe();;){if(e[d>>2]=e[Q+(j<<2)>>2],e[g>>2]=e[d>>2],K_(m,g,s,j)|0,b=_r(j,f)|0,x=s+(b<<2)|0,S=o+(b<<2)|0,b=e[h>>2]|0,(b|0)>0)for(w=0,i=C,V=b;;){if((V|0)>0){b=0;do G=e[i+(b<<2)>>2]|0,ee=e[D>>2]|0,(G|0)>(ee|0)?(J=e[I>>2]|0,e[J+(b<<2)>>2]=ee,O=J):(J=e[L>>2]|0,ee=e[I>>2]|0,e[ee+(b<<2)>>2]=(G|0)<(J|0)?J:G,O=ee),b=b+1|0;while((b|0)<(e[h>>2]|0));$=O}else $=e[I>>2]|0;if(b=(e[x+(w<<2)>>2]|0)-(e[$+(w<<2)>>2]|0)|0,ee=S+(w<<2)|0,e[ee>>2]=b,(b|0)>=(e[P>>2]|0)?(b|0)>(e[X>>2]|0)&&(ie=b-(e[N>>2]|0)|0,se=18):(ie=(e[N>>2]|0)+b|0,se=18),(se|0)==18&&(se=0,e[ee>>2]=ie),w=w+1|0,V=e[h>>2]|0,(w|0)>=(V|0))break;i=$}if(j=j+-1|0,(j|0)<=-1){se=3;break}if(i=e[l>>2]|0,Q=e[i>>2]|0,(e[i+4>>2]|0)-Q>>2>>>0<=j>>>0){se=4;break}}return(se|0)==3?(q=u,1):((se|0)==4&&qe(),0)}function C6(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0;if(u=q,q=q+16|0,g=u+4|0,d=u,m=i+60|0,e[i+64>>2]=h,h=i+8|0,pd(h,s,l,f),l=i+56|0,b=e[l>>2]|0,w=e[b+4>>2]|0,x=e[b>>2]|0,C=w-x|0,(C|0)<=0)return q=u,1;for(S=(C>>>2)+-1|0,C=i+68|0,D=i+16|0,I=i+32|0,L=i+12|0,P=i+28|0,N=i+20|0,X=i+24|0,w-x>>2>>>0>S>>>0?(j=S,Q=x):qe();;){if(e[d>>2]=e[Q+(j<<2)>>2],e[g>>2]=e[d>>2],Y_(m,g,s,j)|0,b=_r(j,f)|0,x=s+(b<<2)|0,S=o+(b<<2)|0,b=e[h>>2]|0,(b|0)>0)for(w=0,i=C,V=b;;){if((V|0)>0){b=0;do G=e[i+(b<<2)>>2]|0,ee=e[D>>2]|0,(G|0)>(ee|0)?(J=e[I>>2]|0,e[J+(b<<2)>>2]=ee,O=J):(J=e[L>>2]|0,ee=e[I>>2]|0,e[ee+(b<<2)>>2]=(G|0)<(J|0)?J:G,O=ee),b=b+1|0;while((b|0)<(e[h>>2]|0));$=O}else $=e[I>>2]|0;if(b=(e[x+(w<<2)>>2]|0)-(e[$+(w<<2)>>2]|0)|0,ee=S+(w<<2)|0,e[ee>>2]=b,(b|0)>=(e[P>>2]|0)?(b|0)>(e[X>>2]|0)&&(ie=b-(e[N>>2]|0)|0,se=18):(ie=(e[N>>2]|0)+b|0,se=18),(se|0)==18&&(se=0,e[ee>>2]=ie),w=w+1|0,V=e[h>>2]|0,(w|0)>=(V|0))break;i=$}if(j=j+-1|0,(j|0)<=-1){se=3;break}if(i=e[l>>2]|0,Q=e[i>>2]|0,(e[i+4>>2]|0)-Q>>2>>>0<=j>>>0){se=4;break}}return(se|0)==3?(q=u,1):((se|0)==4&&qe(),0)}function yy(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0;if(s=q,q=q+16|0,o=s+4|0,l=s,f=i+12|0,h=e[f>>2]|0,u=(e[h+4>>2]|0)-(e[h>>2]|0)>>2,!u)return q=s,1;for(g=i+152|0,d=i+140|0,m=i+144|0,b=i+148|0,i=0,w=h;;){if(e[l>>2]=(i>>>0)/3|0,e[o>>2]=e[l>>2],!(Hy(w,o)|0)&&(h=e[f>>2]|0,(e[(e[h+12>>2]|0)+(i<<2)>>2]|0)==-1)&&(x=i+1|0,C=((x>>>0)%3|0|0)==0?i+-2|0:x,(C|0)==-1?S=-1:S=e[(e[h>>2]|0)+(C<<2)>>2]|0,C=e[g>>2]|0,(e[C+(S<<2)>>2]|0)==-1)){if(h=e[m>>2]|0,x=e[b>>2]|0,(h|0)==(x<<5|0)){if((h+1|0)<0){D=11;break}I=x<<6,x=h+32&-32,ua(d,h>>>0<1073741823?I>>>0<x>>>0?x:I:2147483647),L=e[m>>2]|0,P=e[g>>2]|0}else L=h,P=C;if(e[m>>2]=L+1,C=(e[d>>2]|0)+(L>>>5<<2)|0,e[C>>2]=e[C>>2]&~(1<<(L&31)),C=P+(S<<2)|0,(e[C>>2]|0)==-1)for(I=i,x=C;;){e[x>>2]=h,C=I+1|0;e:do if((I|0)!=-1&&(N=((C>>>0)%3|0|0)==0?I+-2|0:C,(N|0)!=-1)){for(X=e[f>>2]|0,j=e[X+12>>2]|0,Q=N;N=e[j+(Q<<2)>>2]|0,(N|0)!=-1;)if(V=N+1|0,G=((V>>>0)%3|0|0)==0?N+-2|0:V,(G|0)==-1){ee=-1,J=-1;break e}else Q=G;j=Q+1|0,G=((j>>>0)%3|0|0)==0?Q+-2|0:j,(G|0)==-1?(ee=Q,J=-1):(ee=Q,J=e[(e[X>>2]|0)+(G<<2)>>2]|0)}else ee=-1,J=-1;while(0);if(x=P+(J<<2)|0,(e[x>>2]|0)!=-1)break;I=ee}}if(I=i+1|0,I>>>0>=u>>>0){D=3;break}i=I,w=e[f>>2]|0}return(D|0)==3?(q=s,1):((D|0)==11&&qe(),0)}function Lc(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0;if(l=q,q=q+32|0,f=l+8|0,h=l,u=i+4|0,g=e[u>>2]|0,g>>>0>=s>>>0){e[u>>2]=s,q=l;return}if(d=i+8|0,m=e[d>>2]|0,b=m<<5,w=s-g|0,b>>>0<w>>>0|g>>>0>(b-w|0)>>>0?(e[f>>2]=0,x=f+4|0,e[x>>2]=0,C=f+8|0,e[C>>2]=0,(s|0)<0&&qe(),S=m<<6,m=s+31&-32,ua(f,b>>>0<1073741823?S>>>0<m>>>0?m:S:2147483647),S=e[u>>2]|0,e[x>>2]=S+w,m=e[i>>2]|0,b=m,D=e[f>>2]|0,I=(b+(S>>>5<<2)-m<<3)+(S&31)|0,(I|0)>0?(S=I>>>5,Q0(D|0,m|0,S<<2|0)|0,m=I&31,I=D+(S<<2)|0,L=I,m?(X=-1>>>(32-m|0),e[I>>2]=e[I>>2]&~X|e[b+(S<<2)>>2]&X,P=m,N=L):(P=0,N=L)):(P=0,N=D),e[h>>2]=N,e[h+4>>2]=P,P=h,h=e[P>>2]|0,N=e[P+4>>2]|0,P=e[i>>2]|0,e[i>>2]=e[f>>2],e[f>>2]=P,f=e[u>>2]|0,e[u>>2]=e[x>>2],e[x>>2]=f,f=e[d>>2]|0,e[d>>2]=e[C>>2],e[C>>2]=f,P|0&&Ae(P),j=h,Q=N):(N=(e[i>>2]|0)+(g>>>5<<2)|0,e[u>>2]=s,j=N,Q=g&31),!w){q=l;return}if(g=(Q|0)==0,N=j,o){if(g?(V=w,G=j,ee=N):(o=32-Q|0,s=o>>>0>w>>>0?w:o,e[N>>2]=e[N>>2]|-1>>>(o-s|0)&-1<<Q,o=N+4|0,V=w-s|0,G=o,ee=o),o=V>>>5,Tr(G|0,-1,o<<2|0)|0,G=V&31,V=ee+(o<<2)|0,!G){q=l;return}e[V>>2]=e[V>>2]|-1>>>(32-G|0),q=l;return}else{if(g?(J=w,O=j,$=N):(j=32-Q|0,g=j>>>0>w>>>0?w:j,e[N>>2]=e[N>>2]&~(-1>>>(j-g|0)&-1<<Q),Q=N+4|0,J=w-g|0,O=Q,$=Q),Q=J>>>5,Tr(O|0,0,Q<<2|0)|0,O=J&31,J=$+(Q<<2)|0,!O){q=l;return}e[J>>2]=e[J>>2]&~(-1>>>(32-O|0)),q=l;return}}function vy(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0;return i=q,q=q+48|0,f=i+36|0,h=i+24|0,u=i+12|0,g=i,s?(e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,m=jc(o)|0,m>>>0>4294967279&&qe(),m>>>0<11?(Y[f+11>>0]=m,m?(w=f,x=7):b=f):(C=m+16&-16,S=It(C)|0,e[f>>2]=S,e[f+8>>2]=C|-2147483648,e[f+4>>2]=m,w=S,x=7),(x|0)==7&&(Fi(w|0,o|0,m|0)|0,b=w),Y[b+m>>0]=0,e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=0,m=jc(l)|0,m>>>0>4294967279&&qe(),m>>>0<11?(Y[h+11>>0]=m,m?(I=h,x=13):D=h):(b=m+16&-16,w=It(b)|0,e[h>>2]=w,e[h+8>>2]=b|-2147483648,e[h+4>>2]=m,I=w,x=13),(x|0)==13&&(Fi(I|0,l|0,m|0)|0,D=I),Y[D+m>>0]=0,e[u>>2]=0,e[u+4>>2]=0,e[u+8>>2]=0,m=jc(o)|0,m>>>0>4294967279&&qe(),m>>>0<11?(Y[u+11>>0]=m,m?(P=u,x=19):L=u):(D=m+16&-16,I=It(D)|0,e[u>>2]=I,e[u+8>>2]=D|-2147483648,e[u+4>>2]=m,P=I,x=19),(x|0)==19&&(Fi(P|0,o|0,m|0)|0,L=P),Y[L+m>>0]=0,e[g>>2]=0,e[g+4>>2]=0,e[g+8>>2]=0,m=jc(l)|0,m>>>0>4294967279&&qe(),m>>>0<11?(Y[g+11>>0]=m,m?(X=g,x=25):N=g):(L=m+16&-16,P=It(L)|0,e[g>>2]=P,e[g+8>>2]=L|-2147483648,e[g+4>>2]=m,X=P,x=25),(x|0)==25&&(Fi(X|0,l|0,m|0)|0,N=X),Y[N+m>>0]=0,IF(s,u,g),(Y[g+11>>0]|0)<0&&Ae(e[g>>2]|0),(Y[u+11>>0]|0)<0&&Ae(e[u>>2]|0),(Y[h+11>>0]|0)<0&&Ae(e[h>>2]|0),(Y[f+11>>0]|0)<0&&Ae(e[f>>2]|0),d=1,q=i,d|0):(d=0,q=i,d|0)}function wy(i,s){i=i|0,s=s|0;var o=0,l=0,f=0;e[i>>2]=e[s>>2],o=s+4|0,e[i+4>>2]=e[o>>2],l=s+8|0,e[i+8>>2]=e[l>>2],f=s+12|0,e[i+12>>2]=e[f>>2],e[o>>2]=0,e[l>>2]=0,e[f>>2]=0,f=s+16|0,e[i+16>>2]=e[f>>2],l=s+20|0,e[i+20>>2]=e[l>>2],o=s+24|0,e[i+24>>2]=e[o>>2],e[f>>2]=0,e[l>>2]=0,e[o>>2]=0,Y[i+28>>0]=Y[s+28>>0]|0,o=i+32|0,l=s+32|0,e[o>>2]=0,f=i+36|0,e[f>>2]=0,e[i+40>>2]=0,e[o>>2]=e[l>>2],o=s+36|0,e[f>>2]=e[o>>2],f=s+40|0,e[i+40>>2]=e[f>>2],e[f>>2]=0,e[o>>2]=0,e[l>>2]=0,l=i+44|0,o=s+44|0,e[l>>2]=0,f=i+48|0,e[f>>2]=0,e[i+52>>2]=0,e[l>>2]=e[o>>2],l=s+48|0,e[f>>2]=e[l>>2],f=s+52|0,e[i+52>>2]=e[f>>2],e[f>>2]=0,e[l>>2]=0,e[o>>2]=0,o=i+56|0,l=s+56|0,e[o>>2]=0,f=i+60|0,e[f>>2]=0,e[i+64>>2]=0,e[o>>2]=e[l>>2],o=s+60|0,e[f>>2]=e[o>>2],f=s+64|0,e[i+64>>2]=e[f>>2],e[f>>2]=0,e[o>>2]=0,e[l>>2]=0,e[i+68>>2]=e[s+68>>2],e[i+72>>2]=e[s+72>>2],l=i+76|0,o=s+76|0,e[l>>2]=0,f=i+80|0,e[f>>2]=0,e[i+84>>2]=0,e[l>>2]=e[o>>2],l=s+80|0,e[f>>2]=e[l>>2],f=s+84|0,e[i+84>>2]=e[f>>2],e[f>>2]=0,e[l>>2]=0,e[o>>2]=0,o=i+88|0,l=s+88|0,e[o>>2]=0,f=i+92|0,e[f>>2]=0,e[i+96>>2]=0,e[o>>2]=e[l>>2],o=s+92|0,e[f>>2]=e[o>>2],f=s+96|0,e[i+96>>2]=e[f>>2],e[f>>2]=0,e[o>>2]=0,e[l>>2]=0,Y[i+100>>0]=Y[s+100>>0]|0,l=i+104|0,o=s+104|0,e[l>>2]=0,f=i+108|0,e[f>>2]=0,e[i+112>>2]=0,e[l>>2]=e[o>>2],l=s+108|0,e[f>>2]=e[l>>2],f=s+112|0,e[i+112>>2]=e[f>>2],e[f>>2]=0,e[l>>2]=0,e[o>>2]=0,o=i+116|0,l=s+116|0,e[o>>2]=0,f=i+120|0,e[f>>2]=0,e[i+124>>2]=0,e[o>>2]=e[l>>2],o=s+120|0,e[f>>2]=e[o>>2],f=s+124|0,e[i+124>>2]=e[f>>2],e[f>>2]=0,e[o>>2]=0,e[l>>2]=0,e[i+128>>2]=e[s+128>>2],e[i+132>>2]=e[s+132>>2]}function Ay(i,s,o,l,f){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0;var h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0;if(h=q,q=q+48|0,u=h+36|0,g=h+24|0,d=h+8|0,m=h+4|0,b=h,w=l+4|0,W6(u,s,(e[w>>2]|0)-(e[l>>2]|0)>>2,2,f,o,1),f=e[u>>2]|0,x=(e[e[f>>2]>>2]|0)+(e[f+48>>2]|0)|0,e[d>>2]=-1,e[d+4>>2]=-1,e[d+8>>2]=-1,e[d+12>>2]=-1,C=e[s+4>>2]|0,(C+-2|0)>>>0<=28){if(e[d>>2]=C,s=1<<C,e[d+4>>2]=s+-1,C=s+-2|0,e[d+8>>2]=C,e[d+12>>2]=(C|0)/2|0,C=e[l>>2]|0,(e[w>>2]|0)==(C|0))S=f;else{for(s=o+84|0,D=o+68|0,I=o+48|0,L=o+40|0,P=0,N=0,X=C;C=e[X+(P<<2)>>2]|0,Y[s>>0]|0?j=C:j=e[(e[D>>2]|0)+(C<<2)>>2]|0,C=I,Q=e[C>>2]|0,V=e[C+4>>2]|0,C=L,G=e[C>>2]|0,ee=Wr(G|0,e[C+4>>2]|0,j|0,0)|0,C=Qt(ee|0,Ze|0,Q|0,V|0)|0,Fi(g|0,(e[e[o>>2]>>2]|0)+C|0,G|0)|0,I6(d,g,m,b),e[x+(N<<2)>>2]=e[m>>2],e[x+((N|1)<<2)>>2]=e[b>>2],P=P+1|0,X=e[l>>2]|0,!(P>>>0>=(e[w>>2]|0)-X>>2>>>0);)N=N+2|0;S=e[u>>2]|0}e[i>>2]=S,e[u>>2]=0,q=h;return}if(e[i>>2]=0,e[u>>2]=0,!f){q=h;return}u=f+88|0,i=e[u>>2]|0,e[u>>2]=0,i|0&&(u=e[i+8>>2]|0,u|0&&(S=i+12|0,(e[S>>2]|0)!=(u|0)&&(e[S>>2]=u),Ae(u)),Ae(i)),i=e[f+68>>2]|0,i|0&&(u=f+72|0,S=e[u>>2]|0,(S|0)!=(i|0)&&(e[u>>2]=S+(~((S+-4-i|0)>>>2)<<2)),Ae(i)),i=f+64|0,S=e[i>>2]|0,e[i>>2]=0,S|0&&(i=e[S>>2]|0,i|0&&(u=S+4|0,(e[u>>2]|0)!=(i|0)&&(e[u>>2]=i),Ae(i)),Ae(S)),Ae(f),q=h}function I2(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;if(o=i+8|0,l=e[o>>2]|0,f=i+4|0,h=e[f>>2]|0,((l-h|0)/136|0)>>>0>=s>>>0){u=s,g=h;do e[g>>2]=-1,kk(g+4|0),Y[g+100>>0]=1,d=g+104|0,e[d>>2]=0,e[d+4>>2]=0,e[d+8>>2]=0,e[d+12>>2]=0,e[d+16>>2]=0,e[d+20>>2]=0,e[d+24>>2]=0,g=(e[f>>2]|0)+136|0,e[f>>2]=g,u=u+-1|0;while((u|0)!=0);return}u=e[i>>2]|0,g=(h-u|0)/136|0,h=g+s|0,h>>>0>31580641&&qe(),d=(l-u|0)/136|0,u=d<<1,l=d>>>0<15790320?u>>>0<h>>>0?h:u:31580641;do if(l)if(l>>>0>31580641)u=An(8)|0,c0(u,14941),e[u>>2]=6944,yn(u|0,1080,114);else{m=It(l*136|0)|0;break}else m=0;while(0);u=m+(g*136|0)|0,g=u,h=m+(l*136|0)|0,l=s,s=g,m=u;do e[m>>2]=-1,kk(m+4|0),Y[m+100>>0]=1,d=m+104|0,e[d>>2]=0,e[d+4>>2]=0,e[d+8>>2]=0,e[d+12>>2]=0,e[d+16>>2]=0,e[d+20>>2]=0,e[d+24>>2]=0,m=s+136|0,s=m,l=l+-1|0;while((l|0)!=0);if(l=e[i>>2]|0,m=e[f>>2]|0,(m|0)==(l|0))b=g,w=l,x=l;else{d=m,m=g,g=u;do d=d+-136|0,wy(g+-136|0,d),g=m+-136|0,m=g;while((d|0)!=(l|0));b=m,w=e[i>>2]|0,x=e[f>>2]|0}if(e[i>>2]=b,e[f>>2]=s,e[o>>2]=h,h=w,(x|0)!=(h|0)){o=x;do x=e[o+-20>>2]|0,x|0&&(s=o+-16|0,f=e[s>>2]|0,(f|0)!=(x|0)&&(e[s>>2]=f+(~((f+-4-x|0)>>>2)<<2)),Ae(x)),x=e[o+-32>>2]|0,x|0&&(f=o+-28|0,s=e[f>>2]|0,(s|0)!=(x|0)&&(e[f>>2]=s+(~((s+-4-x|0)>>>2)<<2)),Ae(x)),Z6(o+-132|0),o=o+-136|0;while((o|0)!=(h|0))}!w||Ae(w)}function Ou(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0;o=e[s>>2]|0,s=i+12|0,l=(o|0)==-1,f=o+1|0;do if(l)u=-1,g=-1;else if(h=((f>>>0)%3|0|0)==0?o+-2|0:f,(o>>>0)%3|0){u=h,g=o+-1|0;break}else{u=h,g=o+2|0;break}while(0);if(f=l?-1:(o>>>0)/3|0,h=i+28|0,d=(e[h>>2]|0)+(f>>>5<<2)|0,e[d>>2]=1<<(f&31)|e[d>>2],d=i+172|0,f=i+176|0,m=i+280|0,!l&&(l=e[(e[(e[s>>2]|0)+12>>2]|0)+(o<<2)>>2]|0,(l|0)!=-1)&&(i=(l>>>0)/3|0,(e[(e[h>>2]|0)+(i>>>5<<2)>>2]&1<<(i&31)|0)==0)&&(i=e[d>>2]|0,(e[f>>2]|0)!=(i|0))){l=o>>>5,b=1<<(o&31),o=0,w=i;do i=(e[m>>2]|0)+(o<<5)|0,b&e[(e[w+(o*136|0)+4>>2]|0)+(l<<2)>>2]?Wn(i,1):Wn(i,0),o=o+1|0,w=e[d>>2]|0;while(o>>>0<(((e[f>>2]|0)-w|0)/136|0)>>>0)}if((u|0)!=-1&&(w=e[(e[(e[s>>2]|0)+12>>2]|0)+(u<<2)>>2]|0,(w|0)!=-1)&&(o=(w>>>0)/3|0,(e[(e[h>>2]|0)+(o>>>5<<2)>>2]&1<<(o&31)|0)==0)&&(o=e[d>>2]|0,(e[f>>2]|0)!=(o|0))){w=u>>>5,l=1<<(u&31),u=0,b=o;do o=(e[m>>2]|0)+(u<<5)|0,l&e[(e[b+(u*136|0)+4>>2]|0)+(w<<2)>>2]?Wn(o,1):Wn(o,0),u=u+1|0,b=e[d>>2]|0;while(u>>>0<(((e[f>>2]|0)-b|0)/136|0)>>>0)}if((g|0)==-1||(b=e[(e[(e[s>>2]|0)+12>>2]|0)+(g<<2)>>2]|0,(b|0)==-1)||(s=(b>>>0)/3|0,e[(e[h>>2]|0)+(s>>>5<<2)>>2]&1<<(s&31)|0)||(s=e[d>>2]|0,(e[f>>2]|0)==(s|0)))return 1;h=g>>>5,b=1<<(g&31),g=0,u=s;do s=(e[m>>2]|0)+(g<<5)|0,b&e[(e[u+(g*136|0)+4>>2]|0)+(h<<2)>>2]?Wn(s,1):Wn(s,0),g=g+1|0,u=e[d>>2]|0;while(g>>>0<(((e[f>>2]|0)-u|0)/136|0)>>>0);return 1}function L2(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0;if(o=q,q=q+16|0,l=o+4|0,f=o,h=o+8|0,u=i+4|0,g=i+8|0,p0((e[g>>2]|0)-(e[u>>2]|0)>>2,s)|0,d=e[u>>2]|0,(e[g>>2]|0)==(d|0))return q=o,1;m=i+32|0,i=s+16|0,b=s+4|0,w=h+1|0,x=h+1|0,C=h+1|0,S=h+1|0,D=0,I=d;do d=e[(e[(e[m>>2]|0)+8>>2]|0)+(e[I+(D<<2)>>2]<<2)>>2]|0,Y[h>>0]=e[d+56>>2],L=i,P=e[L>>2]|0,N=e[L+4>>2]|0,(N|0)>0|(N|0)==0&P>>>0>0?(X=N,j=P):(e[f>>2]=e[b>>2],e[l>>2]=e[f>>2],wi(s,l,h,S)|0,P=i,X=e[P+4>>2]|0,j=e[P>>2]|0),Y[h>>0]=e[d+28>>2],(X|0)>0|(X|0)==0&j>>>0>0?(Q=X,V=j):(e[f>>2]=e[b>>2],e[l>>2]=e[f>>2],wi(s,l,h,C)|0,P=i,Q=e[P+4>>2]|0,V=e[P>>2]|0),Y[h>>0]=Y[d+24>>0]|0,(Q|0)>0|(Q|0)==0&V>>>0>0?(G=Q,ee=V):(e[f>>2]=e[b>>2],e[l>>2]=e[f>>2],wi(s,l,h,x)|0,P=i,G=e[P+4>>2]|0,ee=e[P>>2]|0),Y[h>>0]=Y[d+32>>0]|0,(G|0)>0|(G|0)==0&ee>>>0>0||(e[f>>2]=e[b>>2],e[l>>2]=e[f>>2],wi(s,l,h,w)|0),p0(e[d+60>>2]|0,s)|0,D=D+1|0,I=e[u>>2]|0;while(D>>>0<(e[g>>2]|0)-I>>2>>>0);return q=o,1}function P2(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0;if(l=q,q=q+32|0,f=l+16|0,h=l+12|0,u=l+8|0,g=l+4|0,d=l,Q2(i),e[i+16>>2]=0,e[i+20>>2]=0,e[i+12>>2]=i+16,m=i+24|0,Q2(m),b=s+4|0,(i|0)!=(b|0)&&(e[u>>2]=e[b>>2],e[g>>2]=s+8,e[h>>2]=e[u>>2],e[f>>2]=e[g>>2],co(i,h,f)),b=s+28|0,(m|0)!=(b|0)&&(e[u>>2]=e[b>>2],e[g>>2]=s+32,e[h>>2]=e[u>>2],e[f>>2]=e[g>>2],co(m,h,f)),e[d>>2]=0,m=o+8|0,b=o+12|0,o=e[b>>2]|0,w=e[m>>2]|0,(o-w|0)<=0){q=l;return}for(x=s+20|0,s=w,w=o,o=0;;){if(C=e[(e[s+(o<<2)>>2]|0)+56>>2]|0,S=e[x>>2]|0,S){D=x,I=S;e:for(;;){for(S=I;!((e[S+16>>2]|0)>=(C|0));)if(L=e[S+4>>2]|0,L)S=L;else{P=D;break e}if(I=e[S>>2]|0,I)D=S;else{P=S;break}}(P|0)!=(x|0)&&(C|0)>=(e[P+16>>2]|0)?(D=P+20|0,I=Xf(i,d)|0,(I|0)!=(D|0)&&(e[u>>2]=e[D>>2],e[g>>2]=P+24,e[h>>2]=e[u>>2],e[f>>2]=e[g>>2],co(I,h,f)),N=e[d>>2]|0,X=e[m>>2]|0,j=e[b>>2]|0):(N=o,X=s,j=w)}else N=o,X=s,j=w;if(o=N+1|0,e[d>>2]=o,(o|0)>=(j-X>>2|0))break;s=X,w=j}q=l}function Ws(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0;if(o=q,q=q+16|0,l=o+4|0,f=o,h=o+8|0,u=i+12|0,p0(e[u>>2]|0,s)|0,!(e[u>>2]|0))return g=1,q=o,g|0;for(d=s+16|0,m=s+4|0,b=h+1|0,w=h+1|0,x=h+1|0,C=0;;){if(S=e[i>>2]|0,D=e[S+(C<<3)>>2]|0,D>>>0>63)if(D>>>0>16383)if(D>>>0>4194303){g=0,I=20;break}else L=2,I=13;else L=1,I=13;else if(D)L=0,I=13;else{for(P=C+1|0,N=0;;){if(e[S+(P+N<<3)>>2]|0){X=N;break}if(j=N+1|0,j>>>0<63)N=j;else{X=j;break}}Y[h>>0]=X<<2|3,N=d,P=e[N+4>>2]|0,(P|0)>0|(P|0)==0&(e[N>>2]|0)>>>0>0||(e[f>>2]=e[m>>2],e[l>>2]=e[f>>2],wi(s,l,h,x)|0),Q=X+C|0}if((I|0)==13)if(I=0,Y[h>>0]=L|D<<2,N=d,P=e[N+4>>2]|0,(P|0)>0|(P|0)==0&(e[N>>2]|0)>>>0>0||(e[f>>2]=e[m>>2],e[l>>2]=e[f>>2],wi(s,l,h,w)|0),!L)Q=C;else{N=0;do N=N+1|0,Y[h>>0]=D>>>((N<<3)+-2|0),P=d,S=e[P+4>>2]|0,(S|0)>0|(S|0)==0&(e[P>>2]|0)>>>0>0||(e[f>>2]=e[m>>2],e[l>>2]=e[f>>2],wi(s,l,h,b)|0);while((N|0)<(L|0));Q=C}if(C=Q+1|0,C>>>0>=(e[u>>2]|0)>>>0){g=1,I=20;break}}return(I|0)==20?(q=o,g|0):0}function wi(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0;if(f=e[i>>2]|0,h=f,u=(e[s>>2]|0)-h|0,s=f+u|0,g=l-o|0,(g|0)<=0)return d=s,d|0;if(m=i+8|0,b=e[m>>2]|0,w=i+4|0,x=e[w>>2]|0,C=x,(g|0)<=(b-C|0)){if(S=C-s|0,(g|0)>(S|0)){if(D=o+S|0,(D|0)==(l|0))I=x;else for(L=D,P=x;;)if(Y[P>>0]=Y[L>>0]|0,L=L+1|0,N=(e[w>>2]|0)+1|0,e[w>>2]=N,(L|0)==(l|0)){I=N;break}else P=N;if((S|0)>0)X=D,j=I;else return d=s,d|0}else X=l,j=x;if(I=j-(s+g)|0,D=s+I|0,D>>>0<x>>>0){S=D,D=j;do Y[D>>0]=Y[S>>0]|0,S=S+1|0,D=(e[w>>2]|0)+1|0,e[w>>2]=D;while((S|0)!=(x|0))}if(I|0&&Q0(j+(0-I)|0,s|0,I|0)|0,(X|0)==(o|0))return d=s,d|0;for(Q=o,V=s;;)if(Y[V>>0]=Y[Q>>0]|0,Q=Q+1|0,(Q|0)==(X|0)){d=s;break}else V=V+1|0;return d|0}if(V=C-h+g|0,(V|0)<0&&qe(),g=b-h|0,h=g<<1,b=g>>>0<1073741823?h>>>0<V>>>0?V:h:2147483647,h=s,b?G=It(b)|0:G=0,V=G+u|0,u=V,g=G+b|0,(o|0)==(l|0))ee=u,J=f;else{f=o,o=u,u=V;do Y[u>>0]=Y[f>>0]|0,u=o+1|0,o=u,f=f+1|0;while((f|0)!=(l|0));ee=o,J=e[i>>2]|0}return o=h-J|0,l=V+(0-o)|0,(o|0)>0&&Fi(l|0,J|0,o|0)|0,o=(e[w>>2]|0)-h|0,(o|0)>0?(h=ee,Fi(h|0,s|0,o|0)|0,O=h+o|0,$=e[i>>2]|0):(O=ee,$=J),e[i>>2]=l,e[w>>2]=O,e[m>>2]=g,$?(Ae($),d=V,d|0):(d=V,d|0)}function od(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0;switch(l=q,q=q+16|0,f=l,h=e[(e[s+4>>2]|0)+(o<<2)>>2]|0,o=e[s+28>>2]|0,s=e[(e[(e[o+4>>2]|0)+8>>2]|0)+(h<<2)>>2]|0,e[s+28>>2]|0){case 5:case 6:case 3:case 4:case 1:case 2:{u=It(40)|0,I3(u),g=u,d=g,e[i>>2]=d,q=l;return}case 9:{m=3;break}}if((m|0)==3){u=e[o+48>>2]|0,o=It(32)|0,e[f>>2]=o,e[f+8>>2]=-2147483616,e[f+4>>2]=17,b=o,w=12932,x=b+17|0;do Y[b>>0]=Y[w>>0]|0,b=b+1|0,w=w+1|0;while((b|0)<(x|0));if(Y[o+17>>0]=0,o=u+16|0,w=e[o>>2]|0,w){C=o,S=w;e:for(;;){for(w=S;!((e[w+16>>2]|0)>=(h|0));)if(D=e[w+4>>2]|0,D)w=D;else{I=C;break e}if(S=e[w>>2]|0,S)C=w;else{I=w;break}}(I|0)!=(o|0)&&(h|0)>=(e[I+16>>2]|0)&&(h=I+20|0,(go(h,f)|0)!=0)?L=bo(h,f,-1)|0:m=12}else m=12;if((m|0)==12&&(L=bo(u,f,-1)|0),(Y[f+11>>0]|0)<0&&Ae(e[f>>2]|0),(L|0)>0)if((e[s+56>>2]|0)==1){s=It(48)|0,b=s,x=b+48|0;do e[b>>2]=0,b=b+4|0;while((b|0)<(x|0));I3(s),e[s>>2]=2256,e[s+40>>2]=1152,e[s+44>>2]=-1,g=s,d=g,e[i>>2]=d,q=l;return}else{s=It(64)|0,lF(s),g=s,d=g,e[i>>2]=d,q=l;return}}s=It(36)|0,Gk(s),g=s,d=g,e[i>>2]=d,q=l}function of(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0;if(o=(s|0)==(i|0),Y[s+12>>0]=o&1,!o){for(l=s;;){if(f=l+8|0,h=e[f>>2]|0,s=h+12|0,Y[s>>0]|0){u=23;break}if(g=h+8|0,d=e[g>>2]|0,o=e[d>>2]|0,(o|0)==(h|0)){if(m=e[d+4>>2]|0,!m){u=7;break}if(b=m+12|0,!(Y[b>>0]|0))w=b;else{u=7;break}}else{if(!o){u=16;break}if(b=o+12|0,!(Y[b>>0]|0))w=b;else{u=16;break}}if(Y[s>>0]=1,s=(d|0)==(i|0),Y[d+12>>0]=s&1,Y[w>>0]=1,s){u=23;break}else l=d}if((u|0)==7){(e[h>>2]|0)==(l|0)?(x=h,C=d):(w=h+4|0,i=e[w>>2]|0,s=e[i>>2]|0,e[w>>2]=s,s?(e[s+8>>2]=h,S=e[g>>2]|0):S=d,e[i+8>>2]=S,S=e[g>>2]|0,e[((e[S>>2]|0)==(h|0)?S:S+4|0)>>2]=i,e[i>>2]=h,e[g>>2]=i,x=i,C=e[i+8>>2]|0),Y[x+12>>0]=1,Y[C+12>>0]=0,x=e[C>>2]|0,i=x+4|0,S=e[i>>2]|0,e[C>>2]=S,S|0&&(e[S+8>>2]=C),S=C+8|0,e[x+8>>2]=e[S>>2],s=e[S>>2]|0,e[((e[s>>2]|0)==(C|0)?s:s+4|0)>>2]=x,e[i>>2]=C,e[S>>2]=x;return}else if((u|0)==16){(e[h>>2]|0)==(l|0)?(x=l+4|0,S=e[x>>2]|0,e[h>>2]=S,S?(e[S+8>>2]=h,D=e[g>>2]|0):D=d,e[f>>2]=D,D=e[g>>2]|0,e[((e[D>>2]|0)==(h|0)?D:D+4|0)>>2]=l,e[x>>2]=h,e[g>>2]=l,I=l,L=e[l+8>>2]|0):(I=h,L=d),Y[I+12>>0]=1,Y[L+12>>0]=0,I=L+4|0,d=e[I>>2]|0,h=e[d>>2]|0,e[I>>2]=h,h|0&&(e[h+8>>2]=L),h=L+8|0,e[d+8>>2]=e[h>>2],I=e[h>>2]|0,e[((e[I>>2]|0)==(L|0)?I:I+4|0)>>2]=d,e[d>>2]=L,e[h>>2]=d;return}else if((u|0)==23)return}}function S6(i,s,o,l,f){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0;var h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=vi,G=vi;if(h=q,q=q+16|0,u=h,g=l+4|0,d=Y[o+24>>0]|0,m=d<<24>>24,W6(i,s,(e[g>>2]|0)-(e[l>>2]|0)>>2,m,f,o,1),f=e[i>>2]|0,i=(e[e[f>>2]>>2]|0)+(e[f+48>>2]|0)|0,f=e[s+4>>2]|0,kC(u),oC(u,Zt(bi[s+20>>2]),(1<<f)+-1|0),f=Fl(m>>>0>1073741823?-1:m<<2)|0,b=e[g>>2]|0,g=e[l>>2]|0,l=g,(b|0)==(g|0)){F0(f),q=h;return}if(w=o+68|0,x=o+48|0,C=o+40|0,S=s+8|0,s=(Y[o+84>>0]|0)==0,D=b-g>>2,d<<24>>24>0)I=0,L=0;else{d=0;do g=e[l+(d<<2)>>2]|0,s?P=e[(e[w>>2]|0)+(g<<2)>>2]|0:P=g,g=x,b=e[g>>2]|0,N=e[g+4>>2]|0,g=C,X=e[g>>2]|0,j=Wr(X|0,e[g+4>>2]|0,P|0,0)|0,g=Qt(j|0,Ze|0,b|0,N|0)|0,Fi(f|0,(e[e[o>>2]>>2]|0)+g|0,X|0)|0,d=d+1|0;while(d>>>0<D>>>0);F0(f),q=h;return}for(;;){for(d=e[l+(I<<2)>>2]|0,s?Q=e[(e[w>>2]|0)+(d<<2)>>2]|0:Q=d,d=x,P=e[d>>2]|0,X=e[d+4>>2]|0,d=C,g=e[d>>2]|0,N=Wr(g|0,e[d+4>>2]|0,Q|0,0)|0,d=Qt(N|0,Ze|0,P|0,X|0)|0,Fi(f|0,(e[e[o>>2]>>2]|0)+d|0,g|0)|0,g=e[S>>2]|0,V=Zt(bi[u>>2]),d=0,X=L;G=Zt(bi[f+(d<<2)>>2]),P=~~Zt(bn(Zt(Zt(V*Zt(G-Zt(bi[g+(d<<2)>>2])))+Zt(.5)))),e[i+(X<<2)>>2]=P,d=d+1|0,(d|0)!=(m|0);)X=X+1|0;if(I=I+1|0,I>>>0>=D>>>0)break;L=L+m|0}F0(f),q=h}function ad(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0;l=e[s>>2]|0,s=i+12|0,f=(l|0)==-1;do if(f)h=1,u=-1,g=-1;else{if(d=l+(((l>>>0)%3|0|0)==0?2:-1)|0,(d|0)!=-1){for(m=e[(e[s>>2]|0)+12>>2]|0,b=d;;){if(d=e[m+(b<<2)>>2]|0,(d|0)==-1){w=0,x=b;break}if(C=d+1|0,b=((C>>>0)%3|0|0)==0?d+-2|0:C,(b|0)==-1){w=1,x=-1;break}}if(f){h=w,u=-1,g=x;break}else S=w,D=x}else S=1,D=-1;h=S,u=e[(e[e[s>>2]>>2]|0)+(l<<2)>>2]|0,g=D}while(0);if(o?(o=(e[i+84>>2]|0)+(u>>>5<<2)|0,e[o>>2]=e[o>>2]|1<<(u&31),I=1):I=0,o=e[(e[i+152>>2]|0)+(u<<2)>>2]|0,D=(e[i+140>>2]|0)+(o>>>5<<2)|0,e[D>>2]=e[D>>2]|1<<(o&31),h?(L=-1,P=-1):(h=(((g>>>0)%3|0|0)==0?2:-1)+g|0,(h|0)==-1?(L=-1,P=g):(L=e[(e[e[s>>2]>>2]|0)+(h<<2)>>2]|0,P=g)),(L|0)==(u|0))return N=I,N|0;for(g=e[i+84>>2]|0,i=I,I=L,L=P;;){P=g+(I>>>5<<2)|0,e[P>>2]=e[P>>2]|1<<(I&31),P=i+1|0,h=L+1|0;e:do if((L|0)!=-1&&(o=((h>>>0)%3|0|0)==0?L+-2|0:h,(o|0)!=-1)){for(D=e[s>>2]|0,l=e[D+12>>2]|0,S=o;o=e[l+(S<<2)>>2]|0,(o|0)!=-1;)if(x=o+1|0,w=((x>>>0)%3|0|0)==0?o+-2|0:x,(w|0)==-1){X=-1,j=-1;break e}else S=w;l=(((S>>>0)%3|0|0)==0?2:-1)+S|0,(l|0)==-1?(X=-1,j=S):(X=e[(e[D>>2]|0)+(l<<2)>>2]|0,j=S)}else X=-1,j=-1;while(0);if((X|0)==(u|0)){N=P;break}else i=P,I=X,L=j}return N|0}function ld(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0;switch(o=i+4|0,l=e[o>>2]|0,f=i+100|0,l>>>0<(e[f>>2]|0)>>>0?(e[o>>2]=l+1,h=br[l>>0]|0):h=io(i)|0,h|0){case 43:case 45:{l=(h|0)==45&1,u=e[o>>2]|0,u>>>0<(e[f>>2]|0)>>>0?(e[o>>2]=u+1,g=br[u>>0]|0):g=io(i)|0,(s|0)!=0&(g+-48|0)>>>0>9&&(e[f>>2]|0)!=0?(e[o>>2]=(e[o>>2]|0)+-1,d=l,m=g):(d=l,m=g);break}default:d=0,m=h}if((m+-48|0)>>>0>9)e[f>>2]|0?(e[o>>2]=(e[o>>2]|0)+-1,b=-2147483648,w=0):(b=-2147483648,w=0);else{for(h=0,g=m;h=g+-48+(h*10|0)|0,m=e[o>>2]|0,m>>>0<(e[f>>2]|0)>>>0?(e[o>>2]=m+1,x=br[m>>0]|0):x=io(i)|0,(x+-48|0)>>>0<10&(h|0)<214748364;)g=x;if(g=((h|0)<0)<<31>>31,(x+-48|0)>>>0<10)for(m=x,l=h,s=g;;)if(u=Wr(l|0,s|0,10,0)|0,C=Ze,S=Qt(m|0,((m|0)<0)<<31>>31|0,-48,-1)|0,D=Qt(S|0,Ze|0,u|0,C|0)|0,C=Ze,u=e[o>>2]|0,u>>>0<(e[f>>2]|0)>>>0?(e[o>>2]=u+1,I=br[u>>0]|0):I=io(i)|0,(I+-48|0)>>>0<10&((C|0)<21474836|(C|0)==21474836&D>>>0<2061584302))m=I,l=D,s=C;else{L=I,P=D,N=C;break}else L=x,P=h,N=g;if((L+-48|0)>>>0<10)do L=e[o>>2]|0,L>>>0<(e[f>>2]|0)>>>0?(e[o>>2]=L+1,X=br[L>>0]|0):X=io(i)|0;while((X+-48|0)>>>0<10);e[f>>2]|0&&(e[o>>2]=(e[o>>2]|0)+-1),o=(d|0)!=0,d=Gi(0,0,P|0,N|0)|0,b=o?Ze:N,w=o?d:P}return Ze=b,w|0}function cm(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0;if(s=i+1176|0,o=e[s>>2]|0,o|0){if(l=i+1180|0,f=e[l>>2]|0,(f|0)==(o|0))h=o;else{for(u=f;f=u+-12|0,e[l>>2]=f,g=e[f>>2]|0,g?(f=u+-8|0,m=e[f>>2]|0,(m|0)!=(g|0)&&(e[f>>2]=m+(~((m+-4-g|0)>>>2)<<2)),Ae(g),d=e[l>>2]|0):d=f,(d|0)!=(o|0);)u=d;h=e[s>>2]|0}Ae(h)}if(h=i+1164|0,s=e[h>>2]|0,s|0){if(d=i+1168|0,u=e[d>>2]|0,(u|0)==(s|0))b=s;else{for(o=u;u=o+-12|0,e[d>>2]=u,l=e[u>>2]|0,l?(u=o+-8|0,g=e[u>>2]|0,(g|0)!=(l|0)&&(e[u>>2]=g+(~((g+-4-l|0)>>>2)<<2)),Ae(l),w=e[d>>2]|0):w=u,(w|0)!=(s|0);)o=w;b=e[h>>2]|0}Ae(b)}if(b=e[i+1152>>2]|0,b|0&&(h=i+1156|0,w=e[h>>2]|0,(w|0)!=(b|0)&&(e[h>>2]=w+(~((w+-4-b|0)>>>2)<<2)),Ae(b)),b=e[i+1140>>2]|0,b|0&&(w=i+1144|0,h=e[w>>2]|0,(h|0)!=(b|0)&&(e[w>>2]=h+(~((h+-4-b|0)>>>2)<<2)),Ae(b)),b=e[i+1128>>2]|0,!b){x=i+1108|0,yo(x),C=i+1088|0,yo(C),S=i+1068|0,yo(S),D=i+1036|0,ln(D),I=i+12|0,D_(I);return}h=i+1132|0,w=e[h>>2]|0,(w|0)!=(b|0)&&(e[h>>2]=w+(~((w+-4-b|0)>>>2)<<2)),Ae(b),x=i+1108|0,yo(x),C=i+1088|0,yo(C),S=i+1068|0,yo(S),D=i+1036|0,ln(D),I=i+12|0,D_(I)}function T6(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0;if(o=q,q=q+16|0,l=o,f=i+4|0,h=e[f>>2]|0,u=e[(e[i>>2]|0)+52>>2]|0,h){if(!($o[u&31](i,s,e[(e[h+4>>2]|0)+80>>2]|0)|0))return g=0,q=o,g|0}else if(!($o[u&31](i,s,0)|0))return g=0,q=o,g|0;if(!(Y[i+28>>0]|0))return g=1,q=o,g|0;h=e[i+8>>2]|0,u=e[i+32>>2]|0,i=e[h+80>>2]|0,e[l>>2]=0,d=l+4|0,e[d>>2]=0,e[l+8>>2]=0;do if(i)if(i>>>0>1073741823)qe();else{m=i<<2,b=It(m)|0,e[l>>2]=b,w=b+(i<<2)|0,e[l+8>>2]=w,Tr(b|0,0,m|0)|0,e[d>>2]=w,x=b,C=w,S=b;break}else x=0,C=0,S=0;while(0);l=e[s+4>>2]|0,i=e[s>>2]|0,s=i;e:do if((l|0)!=(i|0)){if(b=l-i>>2,Y[h+84>>0]|0){for(w=0;;)if(e[x+(e[s+(w<<2)>>2]<<2)>>2]=w,w=w+1|0,w>>>0>=b>>>0)break e}w=e[h+68>>2]|0,m=0;do e[x+(e[w+(e[s+(m<<2)>>2]<<2)>>2]<<2)>>2]=m,m=m+1|0;while(m>>>0<b>>>0)}while(0);s=e[(e[(e[f>>2]|0)+4>>2]|0)+80>>2]|0;e:do if(s|0){if(f=e[u+68>>2]|0,Y[h+84>>0]|0){for(i=0;;)if(e[f+(i<<2)>>2]=e[x+(i<<2)>>2],i=i+1|0,i>>>0>=s>>>0)break e}i=e[h+68>>2]|0,l=0;do e[f+(l<<2)>>2]=e[x+(e[i+(l<<2)>>2]<<2)>>2],l=l+1|0;while(l>>>0<s>>>0)}while(0);return x|0&&((C|0)!=(x|0)&&(e[d>>2]=C+(~((C+-4-x|0)>>>2)<<2)),Ae(S)),g=1,q=o,g|0}function Hu(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0;o=q,q=q+16|0,l=o,e[i>>2]=0,e[i+8>>2]=s,YI(i+12|0),_n(i+1036|0),$f(i+1068|0),$f(i+1088|0),$f(i+1108|0),f=i+1128|0,e[f>>2]=0,h=i+1132|0,e[h>>2]=0,e[i+1136>>2]=0,u=(s|0)==0;do if(!u)if(s>>>0>1073741823)qe();else{g=s<<2,d=It(g)|0,e[f>>2]=d,m=d+(s<<2)|0,e[i+1136>>2]=m,Tr(d|0,0,g|0)|0,e[h>>2]=m;break}while(0);if(h=i+1140|0,e[h>>2]=0,f=i+1144|0,e[f>>2]=0,e[i+1148>>2]=0,u||(m=s<<2,g=It(m)|0,e[h>>2]=g,h=g+(s<<2)|0,e[i+1148>>2]=h,Tr(g|0,0,m|0)|0,e[f>>2]=h),h=i+1152|0,e[h>>2]=0,f=i+1156|0,e[f>>2]=0,e[i+1160>>2]=0,u||(m=s<<2,g=It(m)|0,e[h>>2]=g,h=g+(s<<2)|0,e[i+1160>>2]=h,Tr(g|0,0,m|0)|0,e[f>>2]=h),h=s<<5|1,e[l>>2]=0,f=l+4|0,e[f>>2]=0,e[l+8>>2]=0,u||(m=s<<2,g=It(m)|0,e[l>>2]=g,d=g+(s<<2)|0,e[l+8>>2]=d,Tr(g|0,0,m|0)|0,e[f>>2]=d),z2(i+1164|0,h,l),d=e[l>>2]|0,d|0&&(m=e[f>>2]|0,(m|0)!=(d|0)&&(e[f>>2]=m+(~((m+-4-d|0)>>>2)<<2)),Ae(d)),e[l>>2]=0,d=l+4|0,e[d>>2]=0,e[l+8>>2]=0,u||(u=s<<2,m=It(u)|0,e[l>>2]=m,f=m+(s<<2)|0,e[l+8>>2]=f,Tr(m|0,0,u|0)|0,e[d>>2]=f),z2(i+1176|0,h,l),h=e[l>>2]|0,!h){q=o;return}l=e[d>>2]|0,(l|0)!=(h|0)&&(e[d>>2]=l+(~((l+-4-h|0)>>>2)<<2)),Ae(h),q=o}function hm(i,s,o,l,f){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0;var h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0;if(h=q,q=q+16|0,u=h,g=s+16|0,e[i>>2]=e[g>>2],e[i+4>>2]=e[g+4>>2],e[i+8>>2]=e[g+8>>2],e[i+12>>2]=e[g+12>>2],e[i+16>>2]=e[g+16>>2],e[i+20>>2]=e[g+20>>2],d=i+8|0,e[d>>2]=(e[d>>2]|0)+l,d=(l|0)>0,d)for(m=s+4|0,b=i+16|0,w=i+12|0,x=e[s>>2]|0,C=x,S=0,D=C,I=x,x=C;C=e[o+(S<<2)>>2]|0,L=e[m>>2]|0,L-I>>2>>>0>C>>>0?(P=D,N=x):(X=C+1|0,e[u>>2]=0,j=L-I>>2,Q=I,V=L,X>>>0<=j>>>0?(X>>>0<j>>>0&&(L=Q+(X<<2)|0,(L|0)!=(V|0))&&(e[m>>2]=V+(~((V+-4-L|0)>>>2)<<2)),G=D):(W0(s,X-j|0,u),G=e[s>>2]|0),P=G,N=G),j=N+(C<<2)|0,X=e[j>>2]|0,I=N,(X|0)<=1?((X|0)==0&&(e[b>>2]=(e[b>>2]|0)+1,C>>>0>(e[w>>2]|0)>>>0)&&(e[w>>2]=C),ee=0):(J=+(X|0),ee=+V0(J)*J),X=(e[j>>2]|0)+1|0,e[j>>2]=X,J=+(X|0),O=+V0(J)*J-ee,N0[i>>3]=+N0[i>>3]+O,S=S+1|0,(S|0)!=(l|0);)D=P,x=N;if(f){e[g>>2]=e[i>>2],e[g+4>>2]=e[i+4>>2],e[g+8>>2]=e[i+8>>2],e[g+12>>2]=e[i+12>>2],e[g+16>>2]=e[i+16>>2],q=h;return}if(!d){q=h;return}d=e[s>>2]|0,s=0;do i=d+(e[o+(s<<2)>>2]<<2)|0,e[i>>2]=(e[i>>2]|0)+-1,s=s+1|0;while((s|0)!=(l|0));q=h}function dm(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0;e:do if(s>>>0<=20)do switch(s|0){case 9:{l=(e[o>>2]|0)+(4-1)&~(4-1),f=e[l>>2]|0,e[o>>2]=l+4,e[i>>2]=f;break e}case 10:{f=(e[o>>2]|0)+(4-1)&~(4-1),l=e[f>>2]|0,e[o>>2]=f+4,f=i,e[f>>2]=l,e[f+4>>2]=((l|0)<0)<<31>>31;break e}case 11:{l=(e[o>>2]|0)+(4-1)&~(4-1),f=e[l>>2]|0,e[o>>2]=l+4,l=i,e[l>>2]=f,e[l+4>>2]=0;break e}case 12:{l=(e[o>>2]|0)+(8-1)&~(8-1),f=l,h=e[f>>2]|0,u=e[f+4>>2]|0,e[o>>2]=l+8,l=i,e[l>>2]=h,e[l+4>>2]=u;break e}case 13:{u=(e[o>>2]|0)+(4-1)&~(4-1),l=e[u>>2]|0,e[o>>2]=u+4,u=(l&65535)<<16>>16,l=i,e[l>>2]=u,e[l+4>>2]=((u|0)<0)<<31>>31;break e}case 14:{u=(e[o>>2]|0)+(4-1)&~(4-1),l=e[u>>2]|0,e[o>>2]=u+4,u=i,e[u>>2]=l&65535,e[u+4>>2]=0;break e}case 15:{u=(e[o>>2]|0)+(4-1)&~(4-1),l=e[u>>2]|0,e[o>>2]=u+4,u=(l&255)<<24>>24,l=i,e[l>>2]=u,e[l+4>>2]=((u|0)<0)<<31>>31;break e}case 16:{u=(e[o>>2]|0)+(4-1)&~(4-1),l=e[u>>2]|0,e[o>>2]=u+4,u=i,e[u>>2]=l&255,e[u+4>>2]=0;break e}case 17:{u=(e[o>>2]|0)+(8-1)&~(8-1),g=+N0[u>>3],e[o>>2]=u+8,N0[i>>3]=g;break e}case 18:{u=(e[o>>2]|0)+(8-1)&~(8-1),g=+N0[u>>3],e[o>>2]=u+8,N0[i>>3]=g;break e}default:break e}while(0);while(0)}function M6(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0;if(s=q,q=q+16|0,o=s+4|0,l=s,f=s+8|0,!(kn[e[(e[i>>2]|0)+32>>2]&127](i)|0))return h=0,q=s,h|0;u=i+44|0,g=e[u>>2]|0,d=i+8|0,m=i+12|0,b=e[m>>2]|0,w=e[d>>2]|0,Y[f>>0]=(b-w|0)>>>2,x=g+16|0,C=e[x+4>>2]|0,(C|0)>0|(C|0)==0&(e[x>>2]|0)>>>0>0?(S=d,D=w,I=b):(e[l>>2]=e[g+4>>2],e[o>>2]=e[l>>2],wi(g,o,f,f+1|0)|0,S=d,D=e[d>>2]|0,I=e[m>>2]|0);e:do if((D|0)!=(I|0)){for(m=i+4|0,d=D;;){if(f=e[d>>2]|0,d=d+4|0,!($o[e[(e[f>>2]|0)+8>>2]&31](f,i,e[m>>2]|0)|0)){h=0;break}if((d|0)==(I|0))break e}return q=s,h|0}while(0);if(!(MP(i)|0))return h=0,q=s,h|0;I=i+32|0,D=e[I>>2]|0,d=i+36|0,m=e[d>>2]|0;e:do if((D|0)!=(m|0)){f=D;do{if(!(M0[e[(e[i>>2]|0)+40>>2]&127](i,e[f>>2]|0)|0)){h=0,L=18;break}f=f+4|0}while((f|0)!=(m|0));if((L|0)==18)return q=s,h|0;if(f=e[I>>2]|0,o=e[d>>2]|0,(f|0)!=(o|0)){for(g=f;;){if(f=e[(e[S>>2]|0)+(e[g>>2]<<2)>>2]|0,g=g+4|0,!(M0[e[(e[f>>2]|0)+12>>2]&127](f,e[u>>2]|0)|0)){h=0;break}if((g|0)==(o|0))break e}return q=s,h|0}}while(0);return h=kn[e[(e[i>>2]|0)+44>>2]&127](i)|0,q=s,h|0}function N2(i,s){i=i|0,s=s|0,pn(i,s),pn(i+32|0,s),pn(i+64|0,s),pn(i+96|0,s),pn(i+128|0,s),pn(i+160|0,s),pn(i+192|0,s),pn(i+224|0,s),pn(i+256|0,s),pn(i+288|0,s),pn(i+320|0,s),pn(i+352|0,s),pn(i+384|0,s),pn(i+416|0,s),pn(i+448|0,s),pn(i+480|0,s),pn(i+512|0,s),pn(i+544|0,s),pn(i+576|0,s),pn(i+608|0,s),pn(i+640|0,s),pn(i+672|0,s),pn(i+704|0,s),pn(i+736|0,s),pn(i+768|0,s),pn(i+800|0,s),pn(i+832|0,s),pn(i+864|0,s),pn(i+896|0,s),pn(i+928|0,s),pn(i+960|0,s),pn(i+992|0,s),pn(i+1024|0,s)}function pm(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0;l=q,q=q+64|0,f=l+60|0,h=l,u=It(80)|0,g=e[s+8>>2]|0,e[u+4>>2]=0,e[u>>2]=3232,d=u+8|0,m=u+12|0,b=m+44|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(b|0));e[d>>2]=3256,w=u+56|0,e[w>>2]=0,e[u+60>>2]=0,e[u+64>>2]=0,e[u+68>>2]=g,e[u+72>>2]=o,x=u+76|0,e[x>>2]=0,C=u,S=e[s+12>>2]|0,D=h+4|0,m=D+4|0,b=m+40|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(b|0));if(e[h>>2]=3256,m=h+48|0,e[m>>2]=0,b=h+52|0,e[b>>2]=0,e[h+56>>2]=0,I=S,e[D>>2]=I,L=((e[I+4>>2]|0)-(e[S>>2]|0)>>2>>>0)/3|0,Y[f>>0]=0,mo(h+24|0,L,f),L=e[D>>2]|0,D=(e[L+28>>2]|0)-(e[L+24>>2]|0)>>2,Y[f>>0]=0,mo(h+36|0,D,f),e[h+8>>2]=S,e[h+12>>2]=o,e[h+16>>2]=g,e[h+20>>2]=u,e[x>>2]=s+72,ud(d,h)|0,Yt(w,e[m>>2]|0,e[b>>2]|0),e[i>>2]=C,e[h>>2]=3256,C=e[m>>2]|0,C|0&&(m=e[b>>2]|0,(m|0)!=(C|0)&&(e[b>>2]=m+(~((m+-4-C|0)>>>2)<<2)),Ae(C)),e[h>>2]=3276,C=e[h+36>>2]|0,C|0&&Ae(C),C=e[h+24>>2]|0,!C){q=l;return}Ae(C),q=l}function R6(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0;o=q,q=q+32|0,l=o,f=i+4|0,h=e[i>>2]|0,u=(e[f>>2]|0)-h>>2,g=u+1|0,g>>>0>1073741823&&qe(),d=i+8|0,m=(e[d>>2]|0)-h|0,h=m>>1,b=m>>2>>>0<536870911?h>>>0<g>>>0?g:h:1073741823,e[l+12>>2]=0,e[l+16>>2]=i+8;do if(b)if(b>>>0>1073741823)h=An(8)|0,c0(h,14941),e[h>>2]=6944,yn(h|0,1080,114);else{w=It(b<<2)|0;break}else w=0;while(0);if(e[l>>2]=w,h=w+(u<<2)|0,u=l+8|0,g=l+4|0,e[g>>2]=h,m=w+(b<<2)|0,b=l+12|0,e[b>>2]=m,w=e[s>>2]|0,e[s>>2]=0,e[h>>2]=w,w=h+4|0,e[u>>2]=w,s=e[i>>2]|0,x=e[f>>2]|0,(x|0)==(s|0)){C=h,S=b,D=u,I=s,L=w,P=x,N=m,X=C,e[i>>2]=X,e[g>>2]=I,e[f>>2]=L,e[D>>2]=P,j=e[d>>2]|0,e[d>>2]=N,e[S>>2]=j,e[l>>2]=I,J6(l),q=o;return}else Q=x,V=h;do Q=Q+-4|0,h=e[Q>>2]|0,e[Q>>2]=0,e[V+-4>>2]=h,V=(e[g>>2]|0)+-4|0,e[g>>2]=V;while((Q|0)!=(s|0));C=V,S=b,D=u,I=e[i>>2]|0,L=e[u>>2]|0,P=e[f>>2]|0,N=e[b>>2]|0,X=C,e[i>>2]=X,e[g>>2]=I,e[f>>2]=L,e[D>>2]=P,j=e[d>>2]|0,e[d>>2]=N,e[S>>2]=j,e[l>>2]=I,J6(l),q=o}function mm(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0;if(o=q,q=q+32|0,l=o+12|0,f=o,h=MN(s,0)|0,!h){e[i>>2]=0,q=o;return}u=e[s+100>>2]|0,g=e[s+96>>2]|0,s=u-g|0,d=(s|0)/12|0,e[l>>2]=0,m=l+4|0,e[m>>2]=0,e[l+8>>2]=0,b=g;do if(s)if(d>>>0>357913941)qe();else{w=It(s)|0,e[l>>2]=w,e[l+8>>2]=w+(d*12|0),Tr(w|0,0,s|0)|0,e[m>>2]=w+s,x=w;break}else x=0;while(0);e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0;e:do if((u|0)!=(g|0)){if(s=f+4|0,w=f+8|0,Y[h+84>>0]|0){for(C=0;;)if(S=b+(C*12|0)|0,e[f>>2]=e[S>>2],e[f+4>>2]=e[S+4>>2],e[f+8>>2]=e[S+8>>2],e[x+(C*12|0)>>2]=e[f>>2],e[x+(C*12|0)+4>>2]=e[s>>2],e[x+(C*12|0)+8>>2]=e[w>>2],C=C+1|0,C>>>0>=d>>>0)break e}C=e[h+68>>2]|0,S=0;do D=e[C+(e[b+(S*12|0)>>2]<<2)>>2]|0,e[f>>2]=D,I=e[C+(e[b+(S*12|0)+4>>2]<<2)>>2]|0,e[s>>2]=I,L=e[C+(e[b+(S*12|0)+8>>2]<<2)>>2]|0,e[w>>2]=L,e[x+(S*12|0)>>2]=D,e[x+(S*12|0)+4>>2]=I,e[x+(S*12|0)+8>>2]=L,S=S+1|0;while(S>>>0<d>>>0)}while(0);dk(i,l),i=e[l>>2]|0,i|0&&(l=e[m>>2]|0,(l|0)!=(i|0)&&(e[m>>2]=l+(~(((l+-12-i|0)>>>0)/12|0)*12|0)),Ae(i)),q=o}function gm(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0;o=q,q=q+16|0,l=o,e[i>>2]=0,e[i+8>>2]=s,_n(i+12|0),$f(i+44|0),$f(i+64|0),$f(i+84|0),f=i+104|0,e[f>>2]=0,h=i+108|0,e[h>>2]=0,e[i+112>>2]=0,u=(s|0)==0;do if(!u)if(s>>>0>1073741823)qe();else{g=s<<2,d=It(g)|0,e[f>>2]=d,m=d+(s<<2)|0,e[i+112>>2]=m,Tr(d|0,0,g|0)|0,e[h>>2]=m;break}while(0);if(h=i+116|0,e[h>>2]=0,f=i+120|0,e[f>>2]=0,e[i+124>>2]=0,u||(m=s<<2,g=It(m)|0,e[h>>2]=g,h=g+(s<<2)|0,e[i+124>>2]=h,Tr(g|0,0,m|0)|0,e[f>>2]=h),h=i+128|0,e[h>>2]=0,f=i+132|0,e[f>>2]=0,e[i+136>>2]=0,u||(m=s<<2,g=It(m)|0,e[h>>2]=g,h=g+(s<<2)|0,e[i+136>>2]=h,Tr(g|0,0,m|0)|0,e[f>>2]=h),h=s<<5|1,e[l>>2]=0,f=l+4|0,e[f>>2]=0,e[l+8>>2]=0,u||(m=s<<2,g=It(m)|0,e[l>>2]=g,d=g+(s<<2)|0,e[l+8>>2]=d,Tr(g|0,0,m|0)|0,e[f>>2]=d),z2(i+140|0,h,l),d=e[l>>2]|0,d|0&&(m=e[f>>2]|0,(m|0)!=(d|0)&&(e[f>>2]=m+(~((m+-4-d|0)>>>2)<<2)),Ae(d)),e[l>>2]=0,d=l+4|0,e[d>>2]=0,e[l+8>>2]=0,u||(u=s<<2,m=It(u)|0,e[l>>2]=m,f=m+(s<<2)|0,e[l+8>>2]=f,Tr(m|0,0,u|0)|0,e[d>>2]=f),z2(i+152|0,h,l),h=e[l>>2]|0,!h){q=o;return}l=e[d>>2]|0,(l|0)!=(h|0)&&(e[d>>2]=l+(~((l+-4-h|0)>>>2)<<2)),Ae(h),q=o}function xy(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0;o=q,q=q+16|0,l=o,e[i>>2]=0,e[i+8>>2]=s,$f(i+12|0),$f(i+32|0),$f(i+52|0),$f(i+72|0),f=i+92|0,e[f>>2]=0,h=i+96|0,e[h>>2]=0,e[i+100>>2]=0,u=(s|0)==0;do if(!u)if(s>>>0>1073741823)qe();else{g=s<<2,d=It(g)|0,e[f>>2]=d,m=d+(s<<2)|0,e[i+100>>2]=m,Tr(d|0,0,g|0)|0,e[h>>2]=m;break}while(0);if(h=i+104|0,e[h>>2]=0,f=i+108|0,e[f>>2]=0,e[i+112>>2]=0,u||(m=s<<2,g=It(m)|0,e[h>>2]=g,h=g+(s<<2)|0,e[i+112>>2]=h,Tr(g|0,0,m|0)|0,e[f>>2]=h),h=i+116|0,e[h>>2]=0,f=i+120|0,e[f>>2]=0,e[i+124>>2]=0,u||(m=s<<2,g=It(m)|0,e[h>>2]=g,h=g+(s<<2)|0,e[i+124>>2]=h,Tr(g|0,0,m|0)|0,e[f>>2]=h),h=s<<5|1,e[l>>2]=0,f=l+4|0,e[f>>2]=0,e[l+8>>2]=0,u||(m=s<<2,g=It(m)|0,e[l>>2]=g,d=g+(s<<2)|0,e[l+8>>2]=d,Tr(g|0,0,m|0)|0,e[f>>2]=d),z2(i+128|0,h,l),d=e[l>>2]|0,d|0&&(m=e[f>>2]|0,(m|0)!=(d|0)&&(e[f>>2]=m+(~((m+-4-d|0)>>>2)<<2)),Ae(d)),e[l>>2]=0,d=l+4|0,e[d>>2]=0,e[l+8>>2]=0,u||(u=s<<2,m=It(u)|0,e[l>>2]=m,f=m+(s<<2)|0,e[l+8>>2]=f,Tr(m|0,0,u|0)|0,e[d>>2]=f),z2(i+140|0,h,l),h=e[l>>2]|0,!h){q=o;return}l=e[d>>2]|0,(l|0)!=(h|0)&&(e[d>>2]=l+(~((l+-4-h|0)>>>2)<<2)),Ae(h),q=o}function bm(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0;o=It(40)|0,l=o+16|0,T0(l,s),T0(o+28|0,s+12|0),s=i+4|0,f=e[s>>2]|0;do if(f){for(h=Y[o+27>>0]|0,u=h<<24>>24<0,g=u?e[o+20>>2]|0:h&255,h=u?e[l>>2]|0:l,u=f;;){if(d=u+16|0,m=Y[d+11>>0]|0,b=m<<24>>24<0,w=b?e[u+20>>2]|0:m&255,m=w>>>0<g>>>0?w:g,(m|0)!=0&&(x=vs(h,b?e[d>>2]|0:d,m)|0,(x|0)!=0)?(x|0)<0?C=7:C=9:g>>>0<w>>>0?C=7:C=9,(C|0)==7)if(C=0,w=e[u>>2]|0,w)S=w;else{C=8;break}else if((C|0)==9)if(C=0,D=u+4|0,w=e[D>>2]|0,w)S=w;else{C=11;break}u=S}if((C|0)==8){I=u,L=u;break}else if((C|0)==11){I=u,L=D;break}}else I=s,L=s;while(0);return e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=I,e[L>>2]=o,I=e[e[i>>2]>>2]|0,I?(e[i>>2]=I,P=e[L>>2]|0,N=i+4|0,X=e[N>>2]|0,of(X,P),j=i+8|0,Q=e[j>>2]|0,V=Q+1|0,e[j>>2]=V,o|0):(P=o,N=i+4|0,X=e[N>>2]|0,of(X,P),j=i+8|0,Q=e[j>>2]|0,V=Q+1|0,e[j>>2]=V,o|0)}function fd(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=vi,V=vi;if(f=q,q=q+16|0,h=f,u=Y[o+24>>0]|0,g=u<<24>>24,W6(i,s,l,g,0,o,1),d=e[i>>2]|0,i=(e[e[d>>2]>>2]|0)+(e[d+48>>2]|0)|0,d=e[s+4>>2]|0,kC(h),oC(h,Zt(bi[s+20>>2]),(1<<d)+-1|0),d=Fl(g>>>0>1073741823?-1:g<<2)|0,!l){F0(d),q=f;return}if(m=o+68|0,b=o+48|0,w=o+40|0,x=s+8|0,s=(Y[o+84>>0]|0)==0,u<<24>>24>0)C=0,S=0;else{u=0;do s?D=e[(e[m>>2]|0)+(u<<2)>>2]|0:D=u,I=b,L=e[I>>2]|0,P=e[I+4>>2]|0,I=w,N=e[I>>2]|0,X=Wr(N|0,e[I+4>>2]|0,D|0,0)|0,I=Qt(X|0,Ze|0,L|0,P|0)|0,Fi(d|0,(e[e[o>>2]>>2]|0)+I|0,N|0)|0,u=u+1|0;while((u|0)!=(l|0));F0(d),q=f;return}for(;;){for(s?j=e[(e[m>>2]|0)+(S<<2)>>2]|0:j=S,u=b,D=e[u>>2]|0,N=e[u+4>>2]|0,u=w,I=e[u>>2]|0,P=Wr(I|0,e[u+4>>2]|0,j|0,0)|0,u=Qt(P|0,Ze|0,D|0,N|0)|0,Fi(d|0,(e[e[o>>2]>>2]|0)+u|0,I|0)|0,I=e[x>>2]|0,Q=Zt(bi[h>>2]),u=0,N=C;V=Zt(bi[d+(u<<2)>>2]),D=~~Zt(bn(Zt(Zt(Q*Zt(V-Zt(bi[I+(u<<2)>>2])))+Zt(.5)))),e[i+(N<<2)>>2]=D,u=u+1|0,(u|0)!=(g|0);)N=N+1|0;if(S=S+1|0,(S|0)==(l|0))break;C=C+g|0}F0(d),q=f}function Pc(i){i=i|0;var s=0,o=0,l=0;if(e[i>>2]=3340,EL(i+200|0),s=e[i+184>>2]|0,s|0&&(o=i+188|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),z_(i+172|0),s=e[i+152>>2]|0,s|0&&(l=i+156|0,o=e[l>>2]|0,(o|0)!=(s|0)&&(e[l>>2]=o+(~((o+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+140>>2]|0,s|0&&Ae(s),s=e[i+128>>2]|0,s|0){o=s;do s=o,o=e[o>>2]|0,Ae(s);while((o|0)!=0)}o=i+120|0,s=e[o>>2]|0,e[o>>2]=0,s|0&&Ae(s),s=e[i+108>>2]|0,s|0&&(o=i+112|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~(((l+-12-s|0)>>>0)/12|0)*12|0)),Ae(s)),s=e[i+96>>2]|0,s|0&&(l=i+100|0,o=e[l>>2]|0,(o|0)!=(s|0)&&(e[l>>2]=o+(~((o+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+84>>2]|0,s|0&&Ae(s),s=e[i+72>>2]|0,s|0&&(o=i+76|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+52>>2]|0,s|0&&(l=i+56|0,o=e[l>>2]|0,(o|0)!=(s|0)&&(e[l>>2]=o+(~((o+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+40>>2]|0,s|0&&(o=i+44|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+28>>2]|0,s|0&&Ae(s),s=e[i+16>>2]|0,s|0&&(l=i+20|0,o=e[l>>2]|0,(o|0)!=(s|0)&&(e[l>>2]=o+(~((o+-4-s|0)>>>2)<<2)),Ae(s)),s=i+12|0,i=e[s>>2]|0,e[s>>2]=0,i&&(ff(i),Ae(i))}function Ey(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0;if(s=i+140|0,o=e[s>>2]|0,o|0){if(l=i+144|0,f=e[l>>2]|0,(f|0)==(o|0))h=o;else{for(u=f;f=u+-12|0,e[l>>2]=f,g=e[f>>2]|0,g?(f=u+-8|0,m=e[f>>2]|0,(m|0)!=(g|0)&&(e[f>>2]=m+(~((m+-4-g|0)>>>2)<<2)),Ae(g),d=e[l>>2]|0):d=f,(d|0)!=(o|0);)u=d;h=e[s>>2]|0}Ae(h)}if(h=i+128|0,s=e[h>>2]|0,s|0){if(d=i+132|0,u=e[d>>2]|0,(u|0)==(s|0))b=s;else{for(o=u;u=o+-12|0,e[d>>2]=u,l=e[u>>2]|0,l?(u=o+-8|0,g=e[u>>2]|0,(g|0)!=(l|0)&&(e[u>>2]=g+(~((g+-4-l|0)>>>2)<<2)),Ae(l),w=e[d>>2]|0):w=u,(w|0)!=(s|0);)o=w;b=e[h>>2]|0}Ae(b)}if(b=e[i+116>>2]|0,b|0&&(h=i+120|0,w=e[h>>2]|0,(w|0)!=(b|0)&&(e[h>>2]=w+(~((w+-4-b|0)>>>2)<<2)),Ae(b)),b=e[i+104>>2]|0,b|0&&(w=i+108|0,h=e[w>>2]|0,(h|0)!=(b|0)&&(e[w>>2]=h+(~((h+-4-b|0)>>>2)<<2)),Ae(b)),b=e[i+92>>2]|0,!b){x=i+72|0,yo(x),C=i+52|0,yo(C),S=i+32|0,yo(S),D=i+12|0,yo(D);return}h=i+96|0,w=e[h>>2]|0,(w|0)!=(b|0)&&(e[h>>2]=w+(~((w+-4-b|0)>>>2)<<2)),Ae(b),x=i+72|0,yo(x),C=i+52|0,yo(C),S=i+32|0,yo(S),D=i+12|0,yo(D)}function ym(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0;if(s=i+152|0,o=e[s>>2]|0,o|0){if(l=i+156|0,f=e[l>>2]|0,(f|0)==(o|0))h=o;else{for(u=f;f=u+-12|0,e[l>>2]=f,g=e[f>>2]|0,g?(f=u+-8|0,m=e[f>>2]|0,(m|0)!=(g|0)&&(e[f>>2]=m+(~((m+-4-g|0)>>>2)<<2)),Ae(g),d=e[l>>2]|0):d=f,(d|0)!=(o|0);)u=d;h=e[s>>2]|0}Ae(h)}if(h=i+140|0,s=e[h>>2]|0,s|0){if(d=i+144|0,u=e[d>>2]|0,(u|0)==(s|0))b=s;else{for(o=u;u=o+-12|0,e[d>>2]=u,l=e[u>>2]|0,l?(u=o+-8|0,g=e[u>>2]|0,(g|0)!=(l|0)&&(e[u>>2]=g+(~((g+-4-l|0)>>>2)<<2)),Ae(l),w=e[d>>2]|0):w=u,(w|0)!=(s|0);)o=w;b=e[h>>2]|0}Ae(b)}if(b=e[i+128>>2]|0,b|0&&(h=i+132|0,w=e[h>>2]|0,(w|0)!=(b|0)&&(e[h>>2]=w+(~((w+-4-b|0)>>>2)<<2)),Ae(b)),b=e[i+116>>2]|0,b|0&&(w=i+120|0,h=e[w>>2]|0,(h|0)!=(b|0)&&(e[w>>2]=h+(~((h+-4-b|0)>>>2)<<2)),Ae(b)),b=e[i+104>>2]|0,!b){x=i+84|0,yo(x),C=i+64|0,yo(C),S=i+44|0,yo(S),D=i+12|0,ln(D);return}h=i+108|0,w=e[h>>2]|0,(w|0)!=(b|0)&&(e[h>>2]=w+(~((w+-4-b|0)>>>2)<<2)),Ae(b),x=i+84|0,yo(x),C=i+64|0,yo(C),S=i+44|0,yo(S),D=i+12|0,ln(D)}function _y(i){i=i|0;var s=0,o=0,l=0;if(e[i>>2]=3080,$6(i+200|0),s=e[i+184>>2]|0,s|0&&(o=i+188|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),z_(i+172|0),s=e[i+152>>2]|0,s|0&&(l=i+156|0,o=e[l>>2]|0,(o|0)!=(s|0)&&(e[l>>2]=o+(~((o+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+140>>2]|0,s|0&&Ae(s),s=e[i+128>>2]|0,s|0){o=s;do s=o,o=e[o>>2]|0,Ae(s);while((o|0)!=0)}o=i+120|0,s=e[o>>2]|0,e[o>>2]=0,s|0&&Ae(s),s=e[i+108>>2]|0,s|0&&(o=i+112|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~(((l+-12-s|0)>>>0)/12|0)*12|0)),Ae(s)),s=e[i+96>>2]|0,s|0&&(l=i+100|0,o=e[l>>2]|0,(o|0)!=(s|0)&&(e[l>>2]=o+(~((o+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+84>>2]|0,s|0&&Ae(s),s=e[i+72>>2]|0,s|0&&(o=i+76|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+52>>2]|0,s|0&&(l=i+56|0,o=e[l>>2]|0,(o|0)!=(s|0)&&(e[l>>2]=o+(~((o+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+40>>2]|0,s|0&&(o=i+44|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+28>>2]|0,s|0&&Ae(s),s=e[i+16>>2]|0,s|0&&(l=i+20|0,o=e[l>>2]|0,(o|0)!=(s|0)&&(e[l>>2]=o+(~((o+-4-s|0)>>>2)<<2)),Ae(s)),s=i+12|0,i=e[s>>2]|0,e[s>>2]=0,i&&(ff(i),Ae(i))}function ky(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0;if(o=q,q=q+48|0,l=o+44|0,f=o+40|0,h=o+36|0,u=o+32|0,g=o,e[u>>2]=e[i+60>>2],d=s+16|0,m=d,b=e[m+4>>2]|0,(b|0)>0|(b|0)==0&(e[m>>2]|0)>>>0>0||(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,u,u+4|0)|0),_n(g),Sn(g),(e[u>>2]|0)>0){m=i+56|0,b=1,w=0;do x=b,b=(e[(e[m>>2]|0)+(w>>>5<<2)>>2]&1<<(w&31)|0)!=0,Wn(g,x^b^1),w=w+1|0;while((w|0)<(e[u>>2]|0))}return pn(g,s),e[h>>2]=e[i+12>>2],u=d,w=e[u>>2]|0,b=e[u+4>>2]|0,(b|0)>0|(b|0)==0&w>>>0>0?(C=b,S=w):(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+4|0)|0,w=d,C=e[w+4>>2]|0,S=e[w>>2]|0),e[h>>2]=e[i+20>>2],(C|0)>0|(C|0)==0&S>>>0>0?(ln(g),q=o,1):(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+4|0)|0,ln(g),q=o,1)}function vm(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0;for(o=e[s>>2]|0,s=e[o>>2]|0,l=e[i+4>>2]|0,f=e[o+4>>2]|0,h=l+-1|0,u=(h&l|0)==0,u?g=h&f:f>>>0<l>>>0?g=f:g=(f>>>0)%(l>>>0)|0,f=(e[i>>2]|0)+(g<<2)|0,d=e[f>>2]|0;m=e[d>>2]|0,(m|0)!=(o|0);)d=m;(d|0)!=(i+8|0)?(m=e[d+4>>2]|0,u?b=m&h:m>>>0<l>>>0?b=m:b=(m>>>0)%(l>>>0)|0,(b|0)==(g|0)?(w=s,x=21):x=13):x=13;do if((x|0)==13){if(s|0&&(b=e[s+4>>2]|0,u?C=b&h:b>>>0<l>>>0?C=b:C=(b>>>0)%(l>>>0)|0,(C|0)==(g|0))){S=s,D=s,x=22;break}e[f>>2]=0,w=e[o>>2]|0,x=21}while(0);return(x|0)==21&&(f=w,w?(S=w,D=f,x=22):I=f),(x|0)==22&&(x=e[S+4>>2]|0,u?L=x&h:x>>>0<l>>>0?L=x:L=(x>>>0)%(l>>>0)|0,(L|0)==(g|0)?I=D:(e[(e[i>>2]|0)+(L<<2)>>2]=d,I=e[o>>2]|0)),e[d>>2]=I,e[o>>2]=0,I=i+12|0,e[I>>2]=(e[I>>2]|0)+-1,o&&(I=o+8|0,i=e[o+20>>2]|0,i|0&&(d=o+24|0,(e[d>>2]|0)!=(i|0)&&(e[d>>2]=i),Ae(i)),(Y[I+11>>0]|0)<0&&Ae(e[I>>2]|0),Ae(o)),s|0}function D6(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0;if(s=q,q=q+16|0,o=s+4|0,l=s,e[o>>2]=0,f=o+4|0,e[f>>2]=0,e[o+8>>2]=0,h=i+56|0,u=e[h>>2]|0,g=(e[u+100>>2]|0)-(e[u+96>>2]|0)|0,d=(g|0)/12|0,!g)m=0,b=0;else{for(g=o+8|0,w=0,x=0,C=u,u=0,S=0;D=e[C+96>>2]|0,I=e[D+(x*12|0)>>2]|0,L=I-w|0,P=((L|0)>-1?L:0-L|0)<<1|L>>>31,e[l>>2]=P,(u|0)==(S|0)?(pi(o,l),N=e[f>>2]|0,X=e[g>>2]|0):(e[u>>2]=P,P=u+4|0,e[f>>2]=P,N=P,X=S),P=e[D+(x*12|0)+4>>2]|0,L=P-I|0,I=((L|0)>-1?L:0-L|0)<<1|L>>>31,e[l>>2]=I,(N|0)==(X|0)?(pi(o,l),j=e[f>>2]|0,Q=e[g>>2]|0):(e[N>>2]=I,I=N+4|0,e[f>>2]=I,j=I,Q=X),I=e[D+(x*12|0)+8>>2]|0,D=I-P|0,P=((D|0)>-1?D:0-D|0)<<1|D>>>31,e[l>>2]=P,(j|0)==(Q|0)?pi(o,l):(e[j>>2]=P,e[f>>2]=j+4),P=x+1|0,!(P>>>0>=d>>>0);)w=I,x=P,C=e[h>>2]|0,u=e[f>>2]|0,S=e[g>>2]|0;m=e[o>>2]|0,b=e[f>>2]|0}return il(m,b-m>>2,1,0,e[i+44>>2]|0)|0,i=e[o>>2]|0,i?(o=e[f>>2]|0,(o|0)!=(i|0)&&(e[f>>2]=o+(~((o+-4-i|0)>>>2)<<2)),Ae(i),q=s,1):(q=s,1)}function Cy(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0;if(o=e[i+12>>2]|0,l=i+108|0,f=e[l>>2]|0,h=e[f+80>>2]|0,Y[s+84>>0]=0,u=s+68|0,g=s+72|0,d=e[g>>2]|0,m=e[u>>2]|0,b=d-m>>2,w=m,m=d,h>>>0<=b>>>0?h>>>0<b>>>0&&(d=w+(h<<2)|0,(d|0)!=(m|0))?(e[g>>2]=m+(~((m+-4-d|0)>>>2)<<2),x=f,C=h):(x=f,C=h):(W0(u,h-b|0,3220),b=e[l>>2]|0,x=b,C=e[b+80>>2]|0),b=(e[x+100>>2]|0)-(e[x+96>>2]|0)|0,l=(b|0)/12|0,!b)return S=1,S|0;for(b=i+112|0,i=s+68|0,s=e[x+96>>2]|0,x=0;;){if(h=x*3|0,(h|0)==-1){S=0,D=12;break}if(u=e[o>>2]|0,f=e[u+(h<<2)>>2]|0,(f|0)==-1){S=0,D=12;break}if(d=e[(e[b>>2]|0)+12>>2]|0,m=e[d+(f<<2)>>2]|0,m>>>0>=C>>>0){S=0,D=12;break}if(f=e[i>>2]|0,e[f+(e[s+(x*12|0)>>2]<<2)>>2]=m,m=h+1|0,(m|0)==-1){S=0,D=12;break}if(g=e[u+(m<<2)>>2]|0,(g|0)==-1){S=0,D=12;break}if(m=e[d+(g<<2)>>2]|0,m>>>0>=C>>>0){S=0,D=12;break}if(e[f+(e[s+(x*12|0)+4>>2]<<2)>>2]=m,m=h+2|0,(m|0)==-1){S=0,D=12;break}if(h=e[u+(m<<2)>>2]|0,(h|0)==-1){S=0,D=12;break}if(m=e[d+(h<<2)>>2]|0,m>>>0>=C>>>0){S=0,D=12;break}if(e[f+(e[s+(x*12|0)+8>>2]<<2)>>2]=m,x=x+1|0,x>>>0>=l>>>0){S=1,D=12;break}}return(D|0)==12?S|0:0}function Sy(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0;if(o=q,q=q+48|0,l=o+44|0,f=o+40|0,h=o+36|0,u=o+32|0,g=o,e[u>>2]=e[i+80>>2],d=s+16|0,m=d,b=e[m+4>>2]|0,(b|0)>0|(b|0)==0&(e[m>>2]|0)>>>0>0||(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,u,u+4|0)|0),_n(g),Sn(g),(e[u>>2]|0)>0){m=i+76|0,b=1,w=0;do x=b,b=(e[(e[m>>2]|0)+(w>>>5<<2)>>2]&1<<(w&31)|0)!=0,Wn(g,x^b^1),w=w+1|0;while((w|0)<(e[u>>2]|0))}return pn(g,s),e[h>>2]=e[i+12>>2],u=d,w=e[u>>2]|0,b=e[u+4>>2]|0,(b|0)>0|(b|0)==0&w>>>0>0?(C=b,S=w):(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+4|0)|0,w=d,C=e[w+4>>2]|0,S=e[w>>2]|0),e[h>>2]=e[i+16>>2],(C|0)>0|(C|0)==0&S>>>0>0?(ln(g),q=o,1):(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+4|0)|0,ln(g),q=o,1)}function B6(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0;if(s=q,q=q+16|0,o=s+4|0,l=s,f=i+8|0,h=i+12|0,u=e[h>>2]|0,ol(e[i+4>>2]|0,(e[u+28>>2]|0)-(e[u+24>>2]|0)>>2),u=i+96|0,g=e[h>>2]|0,d=(e[g+28>>2]|0)-(e[g+24>>2]|0)>>2,e[o>>2]=0,g=i+100|0,m=e[g>>2]|0,b=e[u>>2]|0,w=m-b>>2,x=b,b=m,d>>>0<=w>>>0?d>>>0<w>>>0&&(m=x+(d<<2)|0,(m|0)!=(b|0))&&(e[g>>2]=b+(~((b+-4-m|0)>>>2)<<2)):W0(u,d-w|0,o),w=i+116|0,i=e[w>>2]|0,i){if(d=e[i>>2]|0,(e[i+4>>2]|0)==(d|0))return C=1,q=s,C|0;for(i=0,h=d;;){if(e[l>>2]=e[h+(i<<2)>>2],e[o>>2]=e[l>>2],i=i+1|0,!($_(f,o)|0)){C=0,S=15;break}if(d=e[w>>2]|0,h=e[d>>2]|0,i>>>0>=(e[d+4>>2]|0)-h>>2>>>0){C=1,S=15;break}}if((S|0)==15)return q=s,C|0}else{if(d=e[h>>2]|0,h=(e[d+4>>2]|0)-(e[d>>2]|0)>>2,d=(h>>>0)/3|0,h>>>0<=2)return C=1,q=s,C|0;for(h=0;;){if(e[l>>2]=h*3,e[o>>2]=e[l>>2],h=h+1|0,!($_(f,o)|0)){C=0,S=15;break}if((h|0)>=(d|0)){C=1,S=15;break}}if((S|0)==15)return q=s,C|0}return 0}function Ty(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0;if(o=e[i+12>>2]|0,l=i+68|0,f=e[l>>2]|0,h=e[f+80>>2]|0,Y[s+84>>0]=0,u=s+68|0,g=s+72|0,d=e[g>>2]|0,m=e[u>>2]|0,b=d-m>>2,w=m,m=d,h>>>0<=b>>>0?h>>>0<b>>>0&&(d=w+(h<<2)|0,(d|0)!=(m|0))?(e[g>>2]=m+(~((m+-4-d|0)>>>2)<<2),x=f,C=h):(x=f,C=h):(W0(u,h-b|0,3220),b=e[l>>2]|0,x=b,C=e[b+80>>2]|0),b=(e[x+100>>2]|0)-(e[x+96>>2]|0)|0,l=(b|0)/12|0,!b)return S=1,S|0;for(b=i+72|0,i=s+68|0,s=e[x+96>>2]|0,x=0;;){if(h=x*3|0,(h|0)==-1){S=0,D=12;break}if(u=e[o>>2]|0,f=e[u+(h<<2)>>2]|0,(f|0)==-1){S=0,D=12;break}if(d=e[(e[b>>2]|0)+12>>2]|0,m=e[d+(f<<2)>>2]|0,m>>>0>=C>>>0){S=0,D=12;break}if(f=e[i>>2]|0,e[f+(e[s+(x*12|0)>>2]<<2)>>2]=m,m=h+1|0,(m|0)==-1){S=0,D=12;break}if(g=e[u+(m<<2)>>2]|0,(g|0)==-1){S=0,D=12;break}if(m=e[d+(g<<2)>>2]|0,m>>>0>=C>>>0){S=0,D=12;break}if(e[f+(e[s+(x*12|0)+4>>2]<<2)>>2]=m,m=h+2|0,(m|0)==-1){S=0,D=12;break}if(h=e[u+(m<<2)>>2]|0,(h|0)==-1){S=0,D=12;break}if(m=e[d+(h<<2)>>2]|0,m>>>0>=C>>>0){S=0,D=12;break}if(e[f+(e[s+(x*12|0)+8>>2]<<2)>>2]=m,x=x+1|0,x>>>0>=l>>>0){S=1,D=12;break}}return(D|0)==12?S|0:0}function F2(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0;return o=q,q=q+16|0,l=o+12|0,f=o+8|0,h=o+4|0,u=o,s?(h=e[e[i+8>>2]>>2]|0,e[l>>2]=s,i=h+4|0,u=h+8|0,b=e[u>>2]|0,(b|0)==(e[h+12>>2]|0)?pi(i,l):(e[b>>2]=s,e[u>>2]=b+4),b=e[l>>2]|0,s=h+16|0,m=h+20|0,h=e[m>>2]|0,g=e[s>>2]|0,d=h-g>>2,w=g,(b|0)<(d|0)?(x=w,C=b):(g=b+1|0,e[f>>2]=-1,S=h,g>>>0<=d>>>0?g>>>0<d>>>0&&(h=w+(g<<2)|0,(h|0)!=(S|0))?(e[m>>2]=S+(~((S+-4-h|0)>>>2)<<2),D=b,I=w):(D=b,I=w):(W0(s,g-d|0,f),D=e[l>>2]|0,I=e[s>>2]|0),x=I,C=D),e[x+(C<<2)>>2]=((e[u>>2]|0)-(e[i>>2]|0)>>2)+-1,q=o,1):(g=It(76)|0,d=It(12)|0,m=e[(e[i+4>>2]|0)+80>>2]|0,e[d+4>>2]=0,e[d>>2]=3584,e[d+8>>2]=m,e[u>>2]=d,C3(g,u,0),d=g,e[h>>2]=d,g=i+12|0,m=e[g>>2]|0,m>>>0<(e[i+16>>2]|0)>>>0?(e[h>>2]=0,e[m>>2]=d,e[g>>2]=m+4,b=h):(Ea(i+8|0,h),b=h),h=e[b>>2]|0,e[b>>2]=0,h|0&&On[e[(e[h>>2]|0)+4>>2]&127](h),h=e[u>>2]|0,e[u>>2]=0,h?(On[e[(e[h>>2]|0)+4>>2]&127](h),q=o,1):(q=o,1))}function O2(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;l=i+8|0,f=e[l>>2]|0,h=e[i>>2]|0,u=h;do if(f-h>>3>>>0>=s>>>0){if(g=i+4|0,d=e[g>>2]|0,m=d-h>>3,b=m>>>0<s>>>0,w=b?m:s,x=d,w|0)for(d=w,w=u;C=o,S=e[C+4>>2]|0,D=w,e[D>>2]=e[C>>2],e[D+4>>2]=S,d=d+-1|0,d;)w=w+8|0;if(b){for(w=s-m|0,d=w,S=x;D=o,C=e[D+4>>2]|0,P=S,e[P>>2]=e[D>>2],e[P+4>>2]=C,d=d+-1|0,d;)S=S+8|0;I=g,L=x+(w<<3)|0;break}else{if(w=u+(s<<3)|0,(w|0)==(x|0))return;I=g,L=x+(~((x+-8-w|0)>>>3)<<3)|0;break}}else{for(S=h,h?(d=i+4|0,m=e[d>>2]|0,(m|0)!=(u|0)&&(e[d>>2]=m+(~((m+-8-h|0)>>>3)<<3)),Ae(S),e[l>>2]=0,e[d>>2]=0,e[i>>2]=0,N=0):N=f,s>>>0>536870911&&qe(),d=N>>2,S=N>>3>>>0<268435455?d>>>0<s>>>0?s:d:536870911,S>>>0>536870911&&qe(),d=It(S<<3)|0,m=i+4|0,e[m>>2]=d,e[i>>2]=d,e[l>>2]=d+(S<<3),S=s,b=d;C=o,P=e[C+4>>2]|0,D=b,e[D>>2]=e[C>>2],e[D+4>>2]=P,S=S+-1|0,S;)b=b+8|0;I=m,L=d+(s<<3)|0}while(0);e[I>>2]=L}function I6(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;f=+Zt(bi[s>>2]),h=+u0(+f),u=+Zt(bi[s+4>>2]),g=h+ +u0(+u),h=+Zt(bi[s+8>>2]),d=g+ +u0(+h),s=d>1e-6,g=1/d,m=e[i+12>>2]|0,d=+(m|0),b=~~+bn(+((s?g*f:1)*d+.5)),w=~~+bn(+((s?g*u:0)*d+.5)),x=(b|0)>-1,C=m-(x?b:0-b|0)-((w|0)>-1?w:0-w|0)|0,b=(C|0)<0,S=(b?(w|0)>0?C:0-C|0:0)+w|0,w=b?0:C,C=(s?g*h:0)<0?0-w|0:w;do if(x)I=m+C|0,L=m+S|0;else if((S|0)<0?D=(C|0)>-1?C:0-C|0:D=(e[i+8>>2]|0)-((C|0)>-1?C:0-C|0)|0,(C|0)<0){I=(S|0)>-1?S:0-S|0,L=D;break}else{I=(e[i+8>>2]|0)-((S|0)>-1?S:0-S|0)|0,L=D;break}while(0);if(S=(L|0)==0,C=(I|0)==0,D=e[i+8>>2]|0,!(I|L)){P=D,N=D,e[o>>2]=P,e[l>>2]=N;return}if(i=(D|0)==(I|0),S&i){P=I,N=I,e[o>>2]=P,e[l>>2]=N;return}if(x=(D|0)==(L|0),C&x){P=L,N=L,e[o>>2]=P,e[l>>2]=N;return}if(S&(m|0)<(I|0)){P=0,N=(m<<1)-I|0,e[o>>2]=P,e[l>>2]=N;return}if(x&(m|0)>(I|0)){P=L,N=(m<<1)-I|0,e[o>>2]=P,e[l>>2]=N;return}if(i&(m|0)>(L|0)){P=(m<<1)-L|0,N=I,e[o>>2]=P,e[l>>2]=N;return}if(!C){P=L,N=I,e[o>>2]=P,e[l>>2]=N;return}P=(m|0)<(L|0)?(m<<1)-L|0:L,N=0,e[o>>2]=P,e[l>>2]=N}function ud(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0;if(o=i+4|0,l=s+4|0,e[o>>2]=e[l>>2],e[o+4>>2]=e[l+4>>2],e[o+8>>2]=e[l+8>>2],e[o+12>>2]=e[l+12>>2],e[o+16>>2]=e[l+16>>2],l=i+24|0,o=s+24|0,(i|0)==(s|0))return i|0;if(f=s+28|0,h=e[f>>2]|0,!h)u=0;else{g=i+32|0;do if(h>>>0>e[g>>2]<<5>>>0)if(d=e[l>>2]|0,d?(Ae(d),e[l>>2]=0,e[g>>2]=0,e[i+28>>2]=0,m=e[f>>2]|0):m=h,(m|0)<0)qe();else{d=((m+-1|0)>>>5)+1|0,b=It(d<<2)|0,e[l>>2]=b,e[i+28>>2]=0,e[g>>2]=d,w=e[f>>2]|0,x=b;break}else w=h,x=e[l>>2]|0;while(0);Q0(x|0,e[o>>2]|0,((w+-1|0)>>>5<<2)+4|0)|0,u=e[f>>2]|0}if(e[i+28>>2]=u,u=i+36|0,f=s+36|0,w=s+40|0,s=e[w>>2]|0,!s)C=0;else{o=i+44|0;do if(s>>>0>e[o>>2]<<5>>>0)if(x=e[u>>2]|0,x?(Ae(x),e[u>>2]=0,e[o>>2]=0,e[i+40>>2]=0,S=e[w>>2]|0):S=s,(S|0)<0)qe();else{x=((S+-1|0)>>>5)+1|0,l=It(x<<2)|0,e[u>>2]=l,e[i+40>>2]=0,e[o>>2]=x,D=e[w>>2]|0,I=l;break}else D=s,I=e[u>>2]|0;while(0);Q0(I|0,e[f>>2]|0,((D+-1|0)>>>5<<2)+4|0)|0,C=e[w>>2]|0}return e[i+40>>2]=C,i|0}function Nc(i,s,o,l,f){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0;var h=0,u=0,g=0,d=0,m=0,b=0,w=0;return h=q,q=q+32|0,u=h+12|0,g=h,e[i>>2]=e[l>>2],l=i+4|0,e[l>>2]=(e[o>>2]|0)-(e[s>>2]|0),d=f+16|0,m=d,b=e[m+4>>2]|0,!((b|0)>0|(b|0)==0&(e[m>>2]|0)>>>0>0)&&(m=f+4|0,e[g>>2]=e[m>>2],e[u>>2]=e[g>>2],wi(f,u,i,i+4|0)|0,b=d,d=e[b+4>>2]|0,!((d|0)>0|(d|0)==0&(e[b>>2]|0)>>>0>0))&&(e[g>>2]=e[m>>2],e[u>>2]=e[g>>2],wi(f,u,l,l+4|0)|0),w=g,e[l>>2]|0?(l=i+12|0,Ss(l),w=i+1068|0,al(w),m=i+1088|0,al(m),b=i+1108|0,al(b),e[g>>2]=e[s>>2],e[g+4>>2]=e[s+4>>2],e[g+8>>2]=e[s+8>>2],e[u>>2]=e[o>>2],e[u+4>>2]=e[o+4>>2],e[u+8>>2]=e[o+8>>2],oP(i,g,u),N2(l,f),ts(w,f),ts(m,f),ts(b,f),q=h,1):(q=h,1)}function wm(i,s,o,l,f){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0;var h=0,u=0,g=0,d=0,m=0,b=0,w=0;return h=q,q=q+32|0,u=h+12|0,g=h,e[i>>2]=e[l>>2],l=i+4|0,e[l>>2]=(e[o>>2]|0)-(e[s>>2]|0),d=f+16|0,m=d,b=e[m+4>>2]|0,!((b|0)>0|(b|0)==0&(e[m>>2]|0)>>>0>0)&&(m=f+4|0,e[g>>2]=e[m>>2],e[u>>2]=e[g>>2],wi(f,u,i,i+4|0)|0,b=d,d=e[b+4>>2]|0,!((d|0)>0|(d|0)==0&(e[b>>2]|0)>>>0>0))&&(e[g>>2]=e[m>>2],e[u>>2]=e[g>>2],wi(f,u,l,l+4|0)|0),w=g,e[l>>2]|0?(l=i+12|0,Ss(l),w=i+1068|0,al(w),m=i+1088|0,al(m),b=i+1108|0,al(b),e[g>>2]=e[s>>2],e[g+4>>2]=e[s+4>>2],e[g+8>>2]=e[s+8>>2],e[u>>2]=e[o>>2],e[u+4>>2]=e[o+4>>2],e[u+8>>2]=e[o+8>>2],fP(i,g,u),N2(l,f),ts(w,f),ts(m,f),ts(b,f),q=h,1):(q=h,1)}function H2(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0;if(o=q,q=q+32|0,l=o,f=i+8|0,h=e[f>>2]|0,u=i+4|0,g=e[u>>2]|0,d=g,h-g>>2>>>0>=s>>>0){Tr(g|0,0,s<<2|0)|0,e[u>>2]=g+(s<<2),q=o;return}m=e[i>>2]|0,b=g-m>>2,w=b+s|0,x=m,w>>>0>1073741823&&qe(),C=h-m|0,S=C>>1,D=C>>2>>>0<536870911?S>>>0<w>>>0?w:S:1073741823,e[l+12>>2]=0,e[l+16>>2]=i+8;do if(D)if(D>>>0>1073741823)S=An(8)|0,c0(S,14941),e[S>>2]=6944,yn(S|0,1080,114);else{I=It(D<<2)|0;break}else I=0;while(0);if(e[l>>2]=I,S=I+(b<<2)|0,b=l+8|0,w=l+4|0,e[w>>2]=S,C=I+(D<<2)|0,D=l+12|0,e[D>>2]=C,I=S+(s<<2)|0,Tr(S|0,0,s<<2|0)|0,e[b>>2]=I,(d|0)==(x|0))L=S,P=D,N=b,X=m,j=I,Q=g,V=C,G=h;else{h=d,d=S;do h=h+-4|0,S=e[h>>2]|0,e[h>>2]=0,e[d+-4>>2]=S,d=(e[w>>2]|0)+-4|0,e[w>>2]=d;while((h|0)!=(x|0));L=d,P=D,N=b,X=e[i>>2]|0,j=e[b>>2]|0,Q=e[u>>2]|0,V=e[D>>2]|0,G=e[f>>2]|0}e[i>>2]=L,e[w>>2]=X,e[u>>2]=j,e[N>>2]=Q,e[f>>2]=V,e[P>>2]=G,e[l>>2]=X,J6(l),q=o}function Fc(i,s,o,l,f){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0;var h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0;if(o=q,q=q+16|0,h=o,u=e[i+124>>2]|0,!u){q=o;return}if(g=u+-1|0,d=(g&u|0)==0,d?m=g&f:u>>>0>f>>>0?m=f:m=(f>>>0)%(u>>>0)|0,b=e[(e[i+120>>2]|0)+(m<<2)>>2]|0,!b){q=o;return}if(w=e[b>>2]|0,!w){q=o;return}e:do if(d){for(b=w;;){if(x=e[b+4>>2]|0,C=(x|0)==(f|0),!(C|(x&g|0)==(m|0))){S=24;break}if(C&&(e[b+8>>2]|0)==(f|0)){D=b;break e}if(b=e[b>>2]|0,!b){S=24;break}}if((S|0)==24){q=o;return}}else{for(b=w;;){if(C=e[b+4>>2]|0,(C|0)==(f|0)){if((e[b+8>>2]|0)==(f|0)){D=b;break e}}else if(C>>>0<u>>>0?I=C:I=(C>>>0)%(u>>>0)|0,(I|0)!=(m|0)){S=24;break}if(b=e[b>>2]|0,!b){S=24;break}}if((S|0)==24){q=o;return}}while(0);if(S=e[D+12>>2]|0,(S|0)==-1){q=o;return}e[h>>2]=S,e[h+4>>2]=s,Y[h+8>>0]=l&1,l=i+112|0,s=e[l>>2]|0,(s|0)==(e[i+116>>2]|0)?kL(i+108|0,h):(e[s>>2]=e[h>>2],e[s+4>>2]=e[h+4>>2],e[s+8>>2]=e[h+8>>2],e[l>>2]=(e[l>>2]|0)+12),q=o}function L6(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0;if(o=Or[s>>1]|0,l=Or[s+2>>1]|0,f=Or[s+4>>1]|0,h=Or[s+6>>1]|0,s=((((o^318)&65535)+239^l&65535)+239^f&65535)+239^h&65535,u=e[i+4>>2]|0,!u||(d=u+-1|0,m=(d&u|0)==0,m?b=s&d:s>>>0<u>>>0?b=s:b=(s>>>0)%(u>>>0)|0,w=e[(e[i>>2]|0)+(b<<2)>>2]|0,!w)||(i=e[w>>2]|0,!i))return g=0,g|0;if(m){for(m=i;;){if(w=e[m+4>>2]|0,x=(w|0)==(s|0),!(x|(w&d|0)==(b|0))){g=0,C=25;break}if(x&&(x=m+8|0,(Or[x>>1]|0)==o<<16>>16)&&(Or[x+2>>1]|0)==l<<16>>16&&(Or[m+12>>1]|0)==f<<16>>16&&(Or[x+6>>1]|0)==h<<16>>16){g=m,C=25;break}if(m=e[m>>2]|0,!m){g=0,C=25;break}}if((C|0)==25)return g|0}else S=i;for(;;){if(i=e[S+4>>2]|0,(i|0)==(s|0)){if(m=S+8|0,(Or[m>>1]|0)==o<<16>>16&&(Or[m+2>>1]|0)==l<<16>>16&&(Or[S+12>>1]|0)==f<<16>>16&&(Or[m+6>>1]|0)==h<<16>>16){g=S,C=25;break}}else if(i>>>0<u>>>0?D=i:D=(i>>>0)%(u>>>0)|0,(D|0)!=(b|0)){g=0,C=25;break}if(S=e[S>>2]|0,!S){g=0,C=25;break}}return(C|0)==25?g|0:0}function My(i,s,o,l,f){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0;var h=0,u=0,g=0,d=0,m=0,b=0,w=0;return h=q,q=q+32|0,u=h+12|0,g=h,e[i>>2]=e[l>>2],l=i+4|0,e[l>>2]=(e[o>>2]|0)-(e[s>>2]|0),d=f+16|0,m=d,b=e[m+4>>2]|0,!((b|0)>0|(b|0)==0&(e[m>>2]|0)>>>0>0)&&(m=f+4|0,e[g>>2]=e[m>>2],e[u>>2]=e[g>>2],wi(f,u,i,i+4|0)|0,b=d,d=e[b+4>>2]|0,!((d|0)>0|(d|0)==0&(e[b>>2]|0)>>>0>0))&&(e[g>>2]=e[m>>2],e[u>>2]=e[g>>2],wi(f,u,l,l+4|0)|0),w=g,e[l>>2]|0?(l=i+12|0,al(l),w=i+32|0,al(w),m=i+52|0,al(m),b=i+72|0,al(b),e[g>>2]=e[s>>2],e[g+4>>2]=e[s+4>>2],e[g+8>>2]=e[s+8>>2],e[u>>2]=e[o>>2],e[u+4>>2]=e[o+4>>2],e[u+8>>2]=e[o+8>>2],nP(i,g,u),ts(l,f),ts(w,f),ts(m,f),ts(b,f),q=h,1):(q=h,1)}function es(i,s,o,l,f){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0;var h=0,u=0,g=0,d=0,m=0,b=0,w=0;return h=q,q=q+32|0,u=h+12|0,g=h,e[i>>2]=e[l>>2],l=i+4|0,e[l>>2]=(e[o>>2]|0)-(e[s>>2]|0),d=f+16|0,m=d,b=e[m+4>>2]|0,!((b|0)>0|(b|0)==0&(e[m>>2]|0)>>>0>0)&&(m=f+4|0,e[g>>2]=e[m>>2],e[u>>2]=e[g>>2],wi(f,u,i,i+4|0)|0,b=d,d=e[b+4>>2]|0,!((d|0)>0|(d|0)==0&(e[b>>2]|0)>>>0>0))&&(e[g>>2]=e[m>>2],e[u>>2]=e[g>>2],wi(f,u,l,l+4|0)|0),w=g,e[l>>2]|0?(l=i+12|0,Sn(l),w=i+44|0,al(w),m=i+64|0,al(m),b=i+84|0,al(b),e[g>>2]=e[s>>2],e[g+4>>2]=e[s+4>>2],e[g+8>>2]=e[s+8>>2],e[u>>2]=e[o>>2],e[u+4>>2]=e[o+4>>2],e[u+8>>2]=e[o+8>>2],uP(i,g,u),pn(l,f),ts(w,f),ts(m,f),ts(b,f),q=h,1):(q=h,1)}function Ry(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0;if(i=q,q=q+16|0,l=i+4|0,f=i,h=i+8|0,u=o+11|0,g=Y[u>>0]|0,d=g<<24>>24<0,d){if(m=e[o+4>>2]|0,m>>>0>255)return b=0,q=i,b|0;w=m}else w=g&255;return w?(w=o+4|0,m=e[w>>2]|0,Y[h>>0]=d?m:g&255,d=s+16|0,x=d,C=e[x>>2]|0,S=e[x+4>>2]|0,(S|0)>0|(S|0)==0&C>>>0>0?(D=g,I=S,L=C,P=m):(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+1|0)|0,h=d,D=Y[u>>0]|0,I=e[h+4>>2]|0,L=e[h>>2]|0,P=e[w>>2]|0),w=D<<24>>24<0,h=w?e[o>>2]|0:o,(I|0)>0|(I|0)==0&L>>>0>0||(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+(w?P:D&255)|0)|0),b=1,q=i,b|0):(Y[h>>0]=0,w=s+16|0,m=e[w+4>>2]|0,(m|0)>0|(m|0)==0&(e[w>>2]|0)>>>0>0||(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+1|0)|0),b=1,q=i,b|0)}function Am(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0;o=i+4|0,l=e[i>>2]|0,f=((e[o>>2]|0)-l|0)/24|0,h=f+1|0,h>>>0>178956970&&qe(),u=i+8|0,g=((e[u>>2]|0)-l|0)/24|0,l=g<<1,d=g>>>0<89478485?l>>>0<h>>>0?h:l:178956970;do if(d)if(d>>>0>178956970)l=An(8)|0,c0(l,14941),e[l>>2]=6944,yn(l|0,1080,114);else{m=It(d*24|0)|0;break}else m=0;while(0);if(l=m+(f*24|0)|0,h=l,g=m+(d*24|0)|0,e[l>>2]=1180,e[m+(f*24|0)+4>>2]=e[s+4>>2],uf(m+(f*24|0)+8|0,s+8|0),e[m+(f*24|0)+20>>2]=e[s+20>>2],s=l+24|0,f=e[i>>2]|0,m=e[o>>2]|0,(m|0)==(f|0))b=h,w=f,x=f;else{d=m,m=h,h=l;do e[h+-24>>2]=1180,e[h+-20>>2]=e[d+-20>>2],l=h+-16|0,C=d+-16|0,e[l>>2]=0,S=h+-12|0,e[S>>2]=0,e[h+-8>>2]=0,e[l>>2]=e[C>>2],l=d+-12|0,e[S>>2]=e[l>>2],S=d+-8|0,e[h+-8>>2]=e[S>>2],e[S>>2]=0,e[l>>2]=0,e[C>>2]=0,e[h+-4>>2]=e[d+-4>>2],d=d+-24|0,h=m+-24|0,m=h;while((d|0)!=(f|0));b=m,w=e[i>>2]|0,x=e[o>>2]|0}if(e[i>>2]=b,e[o>>2]=s,e[u>>2]=g,g=w,(x|0)!=(g|0)){u=x;do u=u+-24|0,On[e[e[u>>2]>>2]&127](u);while((u|0)!=(g|0))}!w||Ae(w)}function cd(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0;if(o=Y[s>>0]|0,l=Y[s+1>>0]|0,f=Y[s+2>>0]|0,h=Y[s+3>>0]|0,s=(((o&255^318)+239^l&255)+239^f&255)+239^h&255,u=e[i+4>>2]|0,!u||(d=u+-1|0,m=(d&u|0)==0,m?b=s&d:s>>>0<u>>>0?b=s:b=(s>>>0)%(u>>>0)|0,w=e[(e[i>>2]|0)+(b<<2)>>2]|0,!w)||(i=e[w>>2]|0,!i))return g=0,g|0;if(m){for(m=i;;){if(w=e[m+4>>2]|0,x=(w|0)==(s|0),!(x|(w&d|0)==(b|0))){g=0,C=25;break}if(x&&(x=m+8|0,(Y[x>>0]|0)==o<<24>>24)&&(Y[x+1>>0]|0)==l<<24>>24&&(Y[x+2>>0]|0)==f<<24>>24&&(Y[x+3>>0]|0)==h<<24>>24){g=m,C=25;break}if(m=e[m>>2]|0,!m){g=0,C=25;break}}if((C|0)==25)return g|0}else S=i;for(;;){if(i=e[S+4>>2]|0,(i|0)==(s|0)){if(m=S+8|0,(Y[m>>0]|0)==o<<24>>24&&(Y[m+1>>0]|0)==l<<24>>24&&(Y[m+2>>0]|0)==f<<24>>24&&(Y[m+3>>0]|0)==h<<24>>24){g=S,C=25;break}}else if(i>>>0<u>>>0?D=i:D=(i>>>0)%(u>>>0)|0,(D|0)!=(b|0)){g=0,C=25;break}if(S=e[S>>2]|0,!S){g=0,C=25;break}}return(C|0)==25?g|0:0}function nl(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0;if(l=q,q=q+32|0,u=l+24|0,g=l+16|0,d=l,m=l+8|0,b=i+40|0,e[i+44>>2]=h,h=i+36|0,w=e[h>>2]|0,x=e[w+4>>2]|0,C=e[w>>2]|0,S=x-C|0,(S|0)<=0)return q=l,1;for(D=(S>>>2)+-1|0,S=i+8|0,I=i+48|0,L=i+52|0,i=g+4|0,P=d+4|0,N=u+4|0,x-C>>2>>>0>D>>>0?(X=D,j=C):qe();;){if(e[m>>2]=e[j+(X<<2)>>2],e[u>>2]=e[m>>2],K_(b,u,s,X)|0,w=_r(X,f)|0,C=s+(w<<2)|0,D=o+(w<<2)|0,w=e[C+4>>2]|0,x=e[I>>2]|0,Q=e[L>>2]|0,e[g>>2]=e[C>>2],e[i>>2]=w,e[d>>2]=x,e[P>>2]=Q,Is(u,S,g,d),e[D>>2]=e[u>>2],e[D+4>>2]=e[N>>2],X=X+-1|0,(X|0)<=-1){V=3;break}if(D=e[h>>2]|0,j=e[D>>2]|0,(e[D+4>>2]|0)-j>>2>>>0<=X>>>0){V=4;break}}return(V|0)==3?(q=l,1):((V|0)==4&&qe(),0)}function hd(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0;u=q,q=q+32|0,g=u,d=u+16|0,m=e[(e[(e[s+4>>2]|0)+8>>2]|0)+(l<<2)>>2]|0;do if((o+-1|0)>>>0<6&(kn[e[(e[s>>2]|0)+8>>2]&127](s)|0)==1){if(b=kn[e[(e[s>>2]|0)+52>>2]&127](s)|0,w=M0[e[(e[s>>2]|0)+60>>2]&127](s,l)|0,(b|0)==0|(w|0)==0){e[i>>2]=0,q=u;return}if(x=M0[e[(e[s>>2]|0)+56>>2]&127](s,l)|0,x){if(e[g>>2]=e[s+56>>2],e[g+4>>2]=x,e[g+12>>2]=w,e[g+8>>2]=w+12,m6(i,d,o,m,f,g,h),!(e[i>>2]|0)){e[i>>2]=0;break}q=u;return}else{if(e[g>>2]=e[s+56>>2],e[g+4>>2]=b,e[g+12>>2]=w,e[g+8>>2]=w+12,qf(i,d,o,m,f,g,h),!(e[i>>2]|0)){e[i>>2]=0;break}q=u;return}}while(0);e[i>>2]=0,q=u}function xm(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0;if(l=q,q=q+32|0,u=l+24|0,g=l+16|0,d=l,m=l+8|0,b=i+40|0,e[i+44>>2]=h,h=i+36|0,w=e[h>>2]|0,x=e[w+4>>2]|0,C=e[w>>2]|0,S=x-C|0,(S|0)<=0)return q=l,1;for(D=(S>>>2)+-1|0,S=i+8|0,I=i+48|0,L=i+52|0,i=g+4|0,P=d+4|0,N=u+4|0,x-C>>2>>>0>D>>>0?(X=D,j=C):qe();;){if(e[m>>2]=e[j+(X<<2)>>2],e[u>>2]=e[m>>2],Y_(b,u,s,X)|0,w=_r(X,f)|0,C=s+(w<<2)|0,D=o+(w<<2)|0,w=e[C+4>>2]|0,x=e[I>>2]|0,Q=e[L>>2]|0,e[g>>2]=e[C>>2],e[i>>2]=w,e[d>>2]=x,e[P>>2]=Q,Is(u,S,g,d),e[D>>2]=e[u>>2],e[D+4>>2]=e[N>>2],X=X+-1|0,(X|0)<=-1){V=3;break}if(D=e[h>>2]|0,j=e[D>>2]|0,(e[D+4>>2]|0)-j>>2>>>0<=X>>>0){V=4;break}}return(V|0)==3?(q=l,1):((V|0)==4&&qe(),0)}function Aa(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0;if(l=e[s>>2]|0,s=e[o>>2]|0,f=s-l>>2,h=i+8|0,u=e[h>>2]|0,g=e[i>>2]|0,d=g,m=s,f>>>0<=u-g>>2>>>0){if(b=i+4|0,w=(e[b>>2]|0)-g>>2,x=f>>>0>w>>>0,C=x?l+(w<<2)|0:s,s=C-l|0,w=s>>2,w|0&&Q0(g|0,l|0,s|0)|0,s=d+(w<<2)|0,!x){if(x=e[b>>2]|0,(x|0)==(s|0))return;e[b>>2]=x+(~((x+-4-s|0)>>>2)<<2);return}if(s=e[o>>2]|0,o=C,(s|0)==(o|0))return;for(x=e[b>>2]|0,w=s+-4-C|0,C=o,o=x;e[o>>2]=e[C>>2],C=C+4|0,(C|0)!=(s|0);)o=o+4|0;e[b>>2]=x+((w>>>2)+1<<2);return}if(w=g,g?(u=i+4|0,x=e[u>>2]|0,(x|0)!=(d|0)&&(e[u>>2]=x+(~((x+-4-g|0)>>>2)<<2)),Ae(w),e[h>>2]=0,e[u>>2]=0,e[i>>2]=0,S=0):S=u,f>>>0>1073741823&&qe(),u=S>>1,w=S>>2>>>0<536870911?u>>>0<f>>>0?f:u:1073741823,w>>>0>1073741823&&qe(),u=It(w<<2)|0,f=i+4|0,e[f>>2]=u,e[i>>2]=u,e[h>>2]=u+(w<<2),w=l,(m|0)!=(w|0)){for(h=m+-4-l|0,l=w,w=u;e[w>>2]=e[l>>2],l=l+4|0,(l|0)!=(m|0);)w=w+4|0;e[f>>2]=u+((h>>>2)+1<<2)}}function Em(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0;l=q,q=q+112|0,f=l+100|0,h=l,u=It(120)|0,g=e[s+8>>2]|0,e[u+4>>2]=0,e[u>>2]=3296,d=u+8|0,m=u+12|0,b=m+44|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(b|0));e[d>>2]=3320,m=u+56|0,b=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(b|0));e[u+96>>2]=0,e[u+100>>2]=0,e[u+104>>2]=0,e[u+108>>2]=g,e[u+112>>2]=o,d=u+116|0,e[d>>2]=0,w=u,x=e[s+12>>2]|0,C=h+4|0,m=C+4|0,b=m+40|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(b|0));e[h>>2]=3320,m=h+48|0,b=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(b|0));e[h+88>>2]=0,e[h+92>>2]=0,e[h+96>>2]=0,m=x,e[C>>2]=m,b=((e[m+4>>2]|0)-(e[x>>2]|0)>>2>>>0)/3|0,Y[f>>0]=0,mo(h+24|0,b,f),b=e[C>>2]|0,C=(e[b+28>>2]|0)-(e[b+24>>2]|0)>>2,Y[f>>0]=0,mo(h+36|0,C,f),e[h+8>>2]=x,e[h+12>>2]=o,e[h+16>>2]=g,e[h+20>>2]=u,e[d>>2]=s+72,jI(u,h),e[i>>2]=w,Tm(h),q=l}function Dy(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0;if(o=i+8|0,l=e[o>>2]|0,f=i+4|0,h=e[f>>2]|0,u=h,((l-h|0)/12|0)>>>0>=s>>>0){Tr(h|0,0,s*12|0)|0,e[f>>2]=u+(s*12|0);return}g=e[i>>2]|0,d=(h-g|0)/12|0,h=d+s|0,m=g,h>>>0>357913941&&qe(),b=(l-g|0)/12|0,l=b<<1,w=b>>>0<178956970?l>>>0<h>>>0?h:l:357913941;do if(w)if(w>>>0>357913941)l=An(8)|0,c0(l,14941),e[l>>2]=6944,yn(l|0,1080,114);else{x=It(w*12|0)|0;break}else x=0;while(0);if(l=x+(d*12|0)|0,d=l,h=x+(w*12|0)|0,Tr(l|0,0,s*12|0)|0,w=l+(s*12|0)|0,(u|0)==(m|0))C=d,S=g,D=u;else{g=u,u=d,d=l;do l=d+-12|0,s=g,g=g+-12|0,e[l>>2]=0,x=d+-8|0,e[x>>2]=0,e[d+-4>>2]=0,e[l>>2]=e[g>>2],l=s+-8|0,e[x>>2]=e[l>>2],x=s+-4|0,e[d+-4>>2]=e[x>>2],e[x>>2]=0,e[l>>2]=0,e[g>>2]=0,d=u+-12|0,u=d;while((g|0)!=(m|0));C=u,S=e[i>>2]|0,D=e[f>>2]|0}if(e[i>>2]=C,e[f>>2]=w,e[o>>2]=h,h=S,(D|0)!=(h|0)){o=D;do D=o,o=o+-12|0,w=e[o>>2]|0,w|0&&(f=D+-8|0,D=e[f>>2]|0,(D|0)!=(w|0)&&(e[f>>2]=D+(~((D+-4-w|0)>>>2)<<2)),Ae(w));while((o|0)!=(h|0))}!S||Ae(S)}function By(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0;if(o=e[i+12>>2]|0,l=i+68|0,f=e[l>>2]|0,h=e[f+80>>2]|0,Y[s+84>>0]=0,u=s+68|0,g=s+72|0,d=e[g>>2]|0,m=e[u>>2]|0,b=d-m>>2,w=m,m=d,h>>>0<=b>>>0?h>>>0<b>>>0&&(d=w+(h<<2)|0,(d|0)!=(m|0))?(e[g>>2]=m+(~((m+-4-d|0)>>>2)<<2),x=f,C=h):(x=f,C=h):(W0(u,h-b|0,3220),b=e[l>>2]|0,x=b,C=e[b+80>>2]|0),b=(e[x+100>>2]|0)-(e[x+96>>2]|0)|0,l=(b|0)/12|0,!b)return S=1,S|0;for(b=i+72|0,i=s+68|0,s=e[x+96>>2]|0,x=e[o+28>>2]|0,o=0;;){if(h=o*3|0,u=e[x+(h<<2)>>2]|0,(u|0)==-1){S=0,D=11;break}if(f=e[(e[b>>2]|0)+12>>2]|0,d=e[f+(u<<2)>>2]|0,d>>>0>=C>>>0){S=0,D=11;break}if(u=e[i>>2]|0,e[u+(e[s+(o*12|0)>>2]<<2)>>2]=d,d=e[x+(h+1<<2)>>2]|0,(d|0)==-1){S=0,D=11;break}if(m=e[f+(d<<2)>>2]|0,m>>>0>=C>>>0){S=0,D=11;break}if(e[u+(e[s+(o*12|0)+4>>2]<<2)>>2]=m,m=e[x+(h+2<<2)>>2]|0,(m|0)==-1){S=0,D=11;break}if(h=e[f+(m<<2)>>2]|0,h>>>0>=C>>>0){S=0,D=11;break}if(e[u+(e[s+(o*12|0)+8>>2]<<2)>>2]=h,o=o+1|0,o>>>0>=l>>>0){S=1,D=11;break}}return(D|0)==11?S|0:0}function Oc(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;o=q,q=q+32|0,l=o,f=i+40|0,h=(e[s>>2]|0)+(e[f>>2]|0)|0,u=i+24|0,g=e[i+32>>2]|0,d=g+-4194304|0;do if(d>>>0>=64){if(d>>>0<16384){m=i+28|0,b=(e[u>>2]|0)+(e[m>>2]|0)|0,w=g+-4177920|0,Y[b>>0]=w,Y[b+1>>0]=w>>>8,x=(e[m>>2]|0)+2|0;break}if(d>>>0<4194304){m=i+28|0,w=(e[u>>2]|0)+(e[m>>2]|0)|0,b=g+4194304|0,Y[w>>0]=b,Y[w+1>>0]=b>>>8,Y[w+2>>0]=b>>>16,x=(e[m>>2]|0)+3|0;break}if(d>>>0<1073741824){m=i+28|0,b=(e[u>>2]|0)+(e[m>>2]|0)|0,w=g+-1077936128|0,Y[b>>0]=w,Y[b+1>>0]=w>>>8,Y[b+2>>0]=w>>>16,Y[b+3>>0]=w>>>24,x=(e[m>>2]|0)+4|0;break}else{x=e[i+28>>2]|0;break}}else m=i+28|0,Y[(e[u>>2]|0)+(e[m>>2]|0)>>0]=d,x=(e[m>>2]|0)+1|0;while(0);if(d=((x|0)<0)<<31>>31,ll(l),Vu(x,d,l)|0,u=l+4|0,i=(e[u>>2]|0)-(e[l>>2]|0)|0,Q0(h+i|0,h|0,x|0)|0,Fi(h|0,e[l>>2]|0,i|0)|0,h=f,f=e[h>>2]|0,g=e[h+4>>2]|0,h=Qt(i|0,0,x|0,d|0)|0,d=Qt(h|0,Ze|0,f|0,g|0)|0,ds(s,d,Ze),d=l+12|0,s=e[d>>2]|0,e[d>>2]=0,s|0&&Ae(s),s=e[l>>2]|0,!s){q=o;return}(e[u>>2]|0)!=(s|0)&&(e[u>>2]=s),Ae(s),q=o}function P6(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;o=q,q=q+32|0,l=o,f=i+40|0,h=(e[s>>2]|0)+(e[f>>2]|0)|0,u=i+24|0,g=e[i+32>>2]|0,d=g+-2097152|0;do if(d>>>0>=64){if(d>>>0<16384){m=i+28|0,b=(e[u>>2]|0)+(e[m>>2]|0)|0,w=g+-2080768|0,Y[b>>0]=w,Y[b+1>>0]=w>>>8,x=(e[m>>2]|0)+2|0;break}if(d>>>0<4194304){m=i+28|0,w=(e[u>>2]|0)+(e[m>>2]|0)|0,b=g+6291456|0,Y[w>>0]=b,Y[w+1>>0]=b>>>8,Y[w+2>>0]=b>>>16,x=(e[m>>2]|0)+3|0;break}if(d>>>0<1073741824){m=i+28|0,b=(e[u>>2]|0)+(e[m>>2]|0)|0,w=g+-1075838976|0,Y[b>>0]=w,Y[b+1>>0]=w>>>8,Y[b+2>>0]=w>>>16,Y[b+3>>0]=w>>>24,x=(e[m>>2]|0)+4|0;break}else{x=e[i+28>>2]|0;break}}else m=i+28|0,Y[(e[u>>2]|0)+(e[m>>2]|0)>>0]=d,x=(e[m>>2]|0)+1|0;while(0);if(d=((x|0)<0)<<31>>31,ll(l),Vu(x,d,l)|0,u=l+4|0,i=(e[u>>2]|0)-(e[l>>2]|0)|0,Q0(h+i|0,h|0,x|0)|0,Fi(h|0,e[l>>2]|0,i|0)|0,h=f,f=e[h>>2]|0,g=e[h+4>>2]|0,h=Qt(i|0,0,x|0,d|0)|0,d=Qt(h|0,Ze|0,f|0,g|0)|0,ds(s,d,Ze),d=l+12|0,s=e[d>>2]|0,e[d>>2]=0,s|0&&Ae(s),s=e[l>>2]|0,!s){q=o;return}(e[u>>2]|0)!=(s|0)&&(e[u>>2]=s),Ae(s),q=o}function _m(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;o=q,q=q+32|0,l=o,f=i+40|0,h=(e[s>>2]|0)+(e[f>>2]|0)|0,u=i+24|0,g=e[i+32>>2]|0,d=g+-1048576|0;do if(d>>>0>=64){if(d>>>0<16384){m=i+28|0,b=(e[u>>2]|0)+(e[m>>2]|0)|0,w=g+-1032192|0,Y[b>>0]=w,Y[b+1>>0]=w>>>8,x=(e[m>>2]|0)+2|0;break}if(d>>>0<4194304){m=i+28|0,w=(e[u>>2]|0)+(e[m>>2]|0)|0,b=g+7340032|0,Y[w>>0]=b,Y[w+1>>0]=b>>>8,Y[w+2>>0]=b>>>16,x=(e[m>>2]|0)+3|0;break}if(d>>>0<1073741824){m=i+28|0,b=(e[u>>2]|0)+(e[m>>2]|0)|0,w=g+-1074790400|0,Y[b>>0]=w,Y[b+1>>0]=w>>>8,Y[b+2>>0]=w>>>16,Y[b+3>>0]=w>>>24,x=(e[m>>2]|0)+4|0;break}else{x=e[i+28>>2]|0;break}}else m=i+28|0,Y[(e[u>>2]|0)+(e[m>>2]|0)>>0]=d,x=(e[m>>2]|0)+1|0;while(0);if(d=((x|0)<0)<<31>>31,ll(l),Vu(x,d,l)|0,u=l+4|0,i=(e[u>>2]|0)-(e[l>>2]|0)|0,Q0(h+i|0,h|0,x|0)|0,Fi(h|0,e[l>>2]|0,i|0)|0,h=f,f=e[h>>2]|0,g=e[h+4>>2]|0,h=Qt(i|0,0,x|0,d|0)|0,d=Qt(h|0,Ze|0,f|0,g|0)|0,ds(s,d,Ze),d=l+12|0,s=e[d>>2]|0,e[d>>2]=0,s|0&&Ae(s),s=e[l>>2]|0,!s){q=o;return}(e[u>>2]|0)!=(s|0)&&(e[u>>2]=s),Ae(s),q=o}function km(i,s,o,l,f,h,u){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,u=u|0;var g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;if(i=q,q=q+96|0,g=i,!s)return d=-1,q=i,d|0;if(qy(g),Bm(g,o,0,f&255,u,0,f<<1,0,0,0),u=z6(s,g,1,l)|0,o=e[(e[s+8>>2]|0)+(u<<2)>>2]|0,l|0){m=o+84|0,b=o+68|0,w=o+40|0,x=o+64|0,o=0;do Y[m>>0]|0?C=o:C=e[(e[b>>2]|0)+(o<<2)>>2]|0,S=h+((_r(o,f)|0)<<1)|0,D=w,I=e[D>>2]|0,L=Wr(I|0,e[D+4>>2]|0,C|0,0)|0,Fi((e[e[x>>2]>>2]|0)+L|0,S|0,I|0)|0,o=o+1|0;while((o|0)!=(l|0))}return o=s+80|0,s=e[o>>2]|0,s?(s|0)==(l|0)?P=10:N=-1:(e[o>>2]=l,P=10),(P|0)==10&&(N=u),u=g+88|0,P=e[u>>2]|0,e[u>>2]=0,P|0&&(u=e[P+8>>2]|0,u|0&&(l=P+12|0,(e[l>>2]|0)!=(u|0)&&(e[l>>2]=u),Ae(u)),Ae(P)),P=e[g+68>>2]|0,P|0&&(u=g+72|0,l=e[u>>2]|0,(l|0)!=(P|0)&&(e[u>>2]=l+(~((l+-4-P|0)>>>2)<<2)),Ae(P)),P=g+64|0,g=e[P>>2]|0,e[P>>2]=0,g|0&&(P=e[g>>2]|0,P|0&&(l=g+4|0,(e[l>>2]|0)!=(P|0)&&(e[l>>2]=P),Ae(P)),Ae(g)),d=N,q=i,d|0}function E0(i,s,o,l,f,h,u){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,u=u|0;var g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;if(i=q,q=q+96|0,g=i,!s)return d=-1,q=i,d|0;if(qy(g),Bm(g,o,0,f&255,u,0,f<<2,0,0,0),u=z6(s,g,1,l)|0,o=e[(e[s+8>>2]|0)+(u<<2)>>2]|0,l|0){m=o+84|0,b=o+68|0,w=o+40|0,x=o+64|0,o=0;do Y[m>>0]|0?C=o:C=e[(e[b>>2]|0)+(o<<2)>>2]|0,S=h+((_r(o,f)|0)<<2)|0,D=w,I=e[D>>2]|0,L=Wr(I|0,e[D+4>>2]|0,C|0,0)|0,Fi((e[e[x>>2]>>2]|0)+L|0,S|0,I|0)|0,o=o+1|0;while((o|0)!=(l|0))}return o=s+80|0,s=e[o>>2]|0,s?(s|0)==(l|0)?P=10:N=-1:(e[o>>2]=l,P=10),(P|0)==10&&(N=u),u=g+88|0,P=e[u>>2]|0,e[u>>2]=0,P|0&&(u=e[P+8>>2]|0,u|0&&(l=P+12|0,(e[l>>2]|0)!=(u|0)&&(e[l>>2]=u),Ae(u)),Ae(P)),P=e[g+68>>2]|0,P|0&&(u=g+72|0,l=e[u>>2]|0,(l|0)!=(P|0)&&(e[u>>2]=l+(~((l+-4-P|0)>>>2)<<2)),Ae(P)),P=g+64|0,g=e[P>>2]|0,e[P>>2]=0,g|0&&(P=e[g>>2]|0,P|0&&(l=g+4|0,(e[l>>2]|0)!=(P|0)&&(e[l>>2]=P),Ae(P)),Ae(g)),d=N,q=i,d|0}function Iy(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;o=q,q=q+32|0,l=o,f=i+40|0,h=(e[s>>2]|0)+(e[f>>2]|0)|0,u=i+24|0,g=e[i+32>>2]|0,d=g+-262144|0;do if(d>>>0>=64){if(d>>>0<16384){m=i+28|0,b=(e[u>>2]|0)+(e[m>>2]|0)|0,w=g+-245760|0,Y[b>>0]=w,Y[b+1>>0]=w>>>8,x=(e[m>>2]|0)+2|0;break}if(d>>>0<4194304){m=i+28|0,w=(e[u>>2]|0)+(e[m>>2]|0)|0,b=g+8126464|0,Y[w>>0]=b,Y[w+1>>0]=b>>>8,Y[w+2>>0]=b>>>16,x=(e[m>>2]|0)+3|0;break}if(d>>>0<1073741824){m=i+28|0,b=(e[u>>2]|0)+(e[m>>2]|0)|0,w=g+-1074003968|0,Y[b>>0]=w,Y[b+1>>0]=w>>>8,Y[b+2>>0]=w>>>16,Y[b+3>>0]=w>>>24,x=(e[m>>2]|0)+4|0;break}else{x=e[i+28>>2]|0;break}}else m=i+28|0,Y[(e[u>>2]|0)+(e[m>>2]|0)>>0]=d,x=(e[m>>2]|0)+1|0;while(0);if(d=((x|0)<0)<<31>>31,ll(l),Vu(x,d,l)|0,u=l+4|0,i=(e[u>>2]|0)-(e[l>>2]|0)|0,Q0(h+i|0,h|0,x|0)|0,Fi(h|0,e[l>>2]|0,i|0)|0,h=f,f=e[h>>2]|0,g=e[h+4>>2]|0,h=Qt(i|0,0,x|0,d|0)|0,d=Qt(h|0,Ze|0,f|0,g|0)|0,ds(s,d,Ze),d=l+12|0,s=e[d>>2]|0,e[d>>2]=0,s|0&&Ae(s),s=e[l>>2]|0,!s){q=o;return}(e[u>>2]|0)!=(s|0)&&(e[u>>2]=s),Ae(s),q=o}function N6(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;o=q,q=q+32|0,l=o,f=i+40|0,h=(e[s>>2]|0)+(e[f>>2]|0)|0,u=i+24|0,g=e[i+32>>2]|0,d=g+-131072|0;do if(d>>>0>=64){if(d>>>0<16384){m=i+28|0,b=(e[u>>2]|0)+(e[m>>2]|0)|0,w=g+-114688|0,Y[b>>0]=w,Y[b+1>>0]=w>>>8,x=(e[m>>2]|0)+2|0;break}if(d>>>0<4194304){m=i+28|0,w=(e[u>>2]|0)+(e[m>>2]|0)|0,b=g+8257536|0,Y[w>>0]=b,Y[w+1>>0]=b>>>8,Y[w+2>>0]=b>>>16,x=(e[m>>2]|0)+3|0;break}if(d>>>0<1073741824){m=i+28|0,b=(e[u>>2]|0)+(e[m>>2]|0)|0,w=g+-1073872896|0,Y[b>>0]=w,Y[b+1>>0]=w>>>8,Y[b+2>>0]=w>>>16,Y[b+3>>0]=w>>>24,x=(e[m>>2]|0)+4|0;break}else{x=e[i+28>>2]|0;break}}else m=i+28|0,Y[(e[u>>2]|0)+(e[m>>2]|0)>>0]=d,x=(e[m>>2]|0)+1|0;while(0);if(d=((x|0)<0)<<31>>31,ll(l),Vu(x,d,l)|0,u=l+4|0,i=(e[u>>2]|0)-(e[l>>2]|0)|0,Q0(h+i|0,h|0,x|0)|0,Fi(h|0,e[l>>2]|0,i|0)|0,h=f,f=e[h>>2]|0,g=e[h+4>>2]|0,h=Qt(i|0,0,x|0,d|0)|0,d=Qt(h|0,Ze|0,f|0,g|0)|0,ds(s,d,Ze),d=l+12|0,s=e[d>>2]|0,e[d>>2]=0,s|0&&Ae(s),s=e[l>>2]|0,!s){q=o;return}(e[u>>2]|0)!=(s|0)&&(e[u>>2]=s),Ae(s),q=o}function Hc(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;o=q,q=q+32|0,l=o,f=i+40|0,h=(e[s>>2]|0)+(e[f>>2]|0)|0,u=i+24|0,g=e[i+32>>2]|0,d=g+-32768|0;do if(d>>>0>=64){if(d>>>0<16384){m=i+28|0,b=(e[u>>2]|0)+(e[m>>2]|0)|0,w=g+-16384|0,Y[b>>0]=w,Y[b+1>>0]=w>>>8,x=(e[m>>2]|0)+2|0;break}if(d>>>0<4194304){m=i+28|0,w=(e[u>>2]|0)+(e[m>>2]|0)|0,b=g+8355840|0,Y[w>>0]=b,Y[w+1>>0]=b>>>8,Y[w+2>>0]=b>>>16,x=(e[m>>2]|0)+3|0;break}if(d>>>0<1073741824){m=i+28|0,b=(e[u>>2]|0)+(e[m>>2]|0)|0,w=g+-1073774592|0,Y[b>>0]=w,Y[b+1>>0]=w>>>8,Y[b+2>>0]=w>>>16,Y[b+3>>0]=w>>>24,x=(e[m>>2]|0)+4|0;break}else{x=e[i+28>>2]|0;break}}else m=i+28|0,Y[(e[u>>2]|0)+(e[m>>2]|0)>>0]=d,x=(e[m>>2]|0)+1|0;while(0);if(d=((x|0)<0)<<31>>31,ll(l),Vu(x,d,l)|0,u=l+4|0,i=(e[u>>2]|0)-(e[l>>2]|0)|0,Q0(h+i|0,h|0,x|0)|0,Fi(h|0,e[l>>2]|0,i|0)|0,h=f,f=e[h>>2]|0,g=e[h+4>>2]|0,h=Qt(i|0,0,x|0,d|0)|0,d=Qt(h|0,Ze|0,f|0,g|0)|0,ds(s,d,Ze),d=l+12|0,s=e[d>>2]|0,e[d>>2]=0,s|0&&Ae(s),s=e[l>>2]|0,!s){q=o;return}(e[u>>2]|0)!=(s|0)&&(e[u>>2]=s),Ae(s),q=o}function F6(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0;if(o=e[s>>2]|0,l=e[s+4>>2]|0,f=e[s+8>>2]|0,h=e[s+12>>2]|0,s=(((o^318)+239^l)+239^f)+239^h,u=e[i+4>>2]|0,!u||(d=u+-1|0,m=(d&u|0)==0,m?b=s&d:s>>>0<u>>>0?b=s:b=(s>>>0)%(u>>>0)|0,w=e[(e[i>>2]|0)+(b<<2)>>2]|0,!w)||(i=e[w>>2]|0,!i))return g=0,g|0;if(m){for(m=i;;){if(w=e[m+4>>2]|0,x=(w|0)==(s|0),!(x|(w&d|0)==(b|0))){g=0,C=25;break}if(x&&(e[m+8>>2]|0)==(o|0)&&(e[m+12>>2]|0)==(l|0)&&(e[m+16>>2]|0)==(f|0)&&(e[m+20>>2]|0)==(h|0)){g=m,C=25;break}if(m=e[m>>2]|0,!m){g=0,C=25;break}}if((C|0)==25)return g|0}else S=i;for(;;){if(i=e[S+4>>2]|0,(i|0)==(s|0)){if((e[S+8>>2]|0)==(o|0)&&(e[S+12>>2]|0)==(l|0)&&(e[S+16>>2]|0)==(f|0)&&(e[S+20>>2]|0)==(h|0)){g=S,C=25;break}}else if(i>>>0<u>>>0?D=i:D=(i>>>0)%(u>>>0)|0,(D|0)!=(b|0)){g=0,C=25;break}if(S=e[S>>2]|0,!S){g=0,C=25;break}}return(C|0)==25?g|0:0}function dd(i,s,o,l,f,h,u){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,u=u|0;var g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;if(i=q,q=q+96|0,g=i,!s)return d=-1,q=i,d|0;if(qy(g),Bm(g,o,0,f&255,u,0,f,0,0,0),u=z6(s,g,1,l)|0,o=e[(e[s+8>>2]|0)+(u<<2)>>2]|0,l|0){m=o+84|0,b=o+68|0,w=o+40|0,x=o+64|0,o=0;do Y[m>>0]|0?C=o:C=e[(e[b>>2]|0)+(o<<2)>>2]|0,S=h+(_r(o,f)|0)|0,D=w,I=e[D>>2]|0,L=Wr(I|0,e[D+4>>2]|0,C|0,0)|0,Fi((e[e[x>>2]>>2]|0)+L|0,S|0,I|0)|0,o=o+1|0;while((o|0)!=(l|0))}return o=s+80|0,s=e[o>>2]|0,s?(s|0)==(l|0)?P=10:N=-1:(e[o>>2]=l,P=10),(P|0)==10&&(N=u),u=g+88|0,P=e[u>>2]|0,e[u>>2]=0,P|0&&(u=e[P+8>>2]|0,u|0&&(l=P+12|0,(e[l>>2]|0)!=(u|0)&&(e[l>>2]=u),Ae(u)),Ae(P)),P=e[g+68>>2]|0,P|0&&(u=g+72|0,l=e[u>>2]|0,(l|0)!=(P|0)&&(e[u>>2]=l+(~((l+-4-P|0)>>>2)<<2)),Ae(P)),P=g+64|0,g=e[P>>2]|0,e[P>>2]=0,g|0&&(P=e[g>>2]|0,P|0&&(l=g+4|0,(e[l>>2]|0)!=(P|0)&&(e[l>>2]=P),Ae(P)),Ae(g)),d=N,q=i,d|0}function O6(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0;u=q,q=q+32|0,g=u,d=u+16|0,m=e[(e[(e[s+4>>2]|0)+8>>2]|0)+(l<<2)>>2]|0;do if((o+-1|0)>>>0<6&(kn[e[(e[s>>2]|0)+8>>2]&127](s)|0)==1){if(b=kn[e[(e[s>>2]|0)+52>>2]&127](s)|0,w=M0[e[(e[s>>2]|0)+60>>2]&127](s,l)|0,(b|0)==0|(w|0)==0){e[i>>2]=0,q=u;return}if(x=M0[e[(e[s>>2]|0)+56>>2]&127](s,l)|0,x){if(e[g>>2]=e[s+56>>2],e[g+4>>2]=x,e[g+12>>2]=w,e[g+8>>2]=w+12,id(i,d,o,m,f,g,h),!(e[i>>2]|0)){e[i>>2]=0;break}q=u;return}else{if(e[g>>2]=e[s+56>>2],e[g+4>>2]=b,e[g+12>>2]=w,e[g+8>>2]=w+12,hy(i,d,o,m,f,g,h),!(e[i>>2]|0)){e[i>>2]=0;break}q=u;return}}while(0);e[i>>2]=0,q=u}function bs(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0;if(l=e[o>>2]|0,f=e[o+4>>2]|0,(l|0)==(f|0))h=0,u=i+12|0,g=i+8|0;else for(o=e[s>>2]|0,s=i+8|0,d=i+12|0,i=0,m=l;;){if(l=e[m>>2]|0,b=e[o+(l<<2)>>2]|0,b>>>0<i>>>0)w=i;else{if(x=e[s>>2]|0,C=(e[d>>2]|0)-x|0,S=x,(C|0)>0){x=C>>>2,C=0;do D=e[S+(C<<2)>>2]|0,I=e[D+68>>2]|0,Y[D+84>>0]|0?L=l:L=e[I+(l<<2)>>2]|0,e[I+(b<<2)>>2]=L,C=C+1|0;while((C|0)<(x|0))}w=b+1|0}if(m=m+4|0,(m|0)==(f|0)){h=w,u=d,g=s;break}else i=w}if(w=e[u>>2]|0,i=e[g>>2]|0,(w-i|0)>0)P=0,N=i,X=w;else return;for(;w=e[N+(P<<2)>>2]|0,Y[w+84>>0]=0,i=w+68|0,s=w+72|0,w=e[s>>2]|0,d=e[i>>2]|0,f=w-d>>2,m=d,d=w,h>>>0<=f>>>0?h>>>0<f>>>0&&(w=m+(h<<2)|0,(w|0)!=(d|0))?(e[s>>2]=d+(~((d+-4-w|0)>>>2)<<2),j=N,Q=X):(j=N,Q=X):(W0(i,h-f|0,5908),j=e[g>>2]|0,Q=e[u>>2]|0),P=P+1|0,!((P|0)>=(Q-j>>2|0));)N=j,X=Q}function H6(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0;if(l=s,f=o-l>>2,h=i+8|0,u=e[h>>2]|0,g=e[i>>2]|0,d=g,f>>>0<=u-g>>2>>>0){if(m=i+4|0,b=(e[m>>2]|0)-g>>2,w=f>>>0>b>>>0,x=s+(b<<2)|0,b=w?x:o,C=b,S=C-l|0,D=S>>2,D|0&&Q0(g|0,s|0,S|0)|0,S=d+(D<<2)|0,!w){if(w=e[m>>2]|0,(w|0)==(S|0))return;e[m>>2]=w+(~((w+-4-S|0)>>>2)<<2);return}if((b|0)==(o|0))return;for(b=e[m>>2]|0,S=((o+-4-C|0)>>>2)+1|0,C=x,x=b;e[x>>2]=e[C>>2],C=C+4|0,(C|0)!=(o|0);)x=x+4|0;e[m>>2]=b+(S<<2);return}if(S=g,g?(u=i+4|0,b=e[u>>2]|0,(b|0)!=(d|0)&&(e[u>>2]=b+(~((b+-4-g|0)>>>2)<<2)),Ae(S),e[h>>2]=0,e[u>>2]=0,e[i>>2]=0,I=0):I=u,f>>>0>1073741823&&qe(),u=I>>1,S=I>>2>>>0<536870911?u>>>0<f>>>0?f:u:1073741823,S>>>0>1073741823&&qe(),u=It(S<<2)|0,f=i+4|0,e[f>>2]=u,e[i>>2]=u,e[h>>2]=u+(S<<2),(s|0)!=(o|0)){for(S=((o+-4-l|0)>>>2)+1|0,l=s,s=u;e[s>>2]=e[l>>2],l=l+4|0,(l|0)!=(o|0);)s=s+4|0;e[f>>2]=u+(S<<2)}}function U6(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0;if(o=q,q=q+16|0,l=o,f=i+76|0,h=e[f>>2]|0,u=i+80|0,g=e[u>>2]|0,(g|0)!=(h|0)&&(e[u>>2]=g+(~((g+-4-h|0)>>>2)<<2)),e[f>>2]=0,e[u>>2]=0,e[i+84>>2]=0,h|0&&Ae(h),h=i+64|0,u=e[h>>2]|0,f=i+68|0,(e[f>>2]|0)!=(u|0)&&(e[f>>2]=u),e[h>>2]=0,e[f>>2]=0,e[i+72>>2]=0,u|0&&Ae(u),u=s+4|0,f=e[u>>2]|0,h=e[s>>2]|0,g=((f-h|0)/12|0)*3|0,d=i+4|0,m=e[d>>2]|0,b=e[i>>2]|0,w=m-b>>2,x=b,b=m,m=h,g>>>0<=w>>>0?g>>>0<w>>>0&&(C=x+(g<<2)|0,(C|0)!=(b|0))?(e[d>>2]=b+(~((b+-4-C|0)>>>2)<<2),S=f,D=h,I=m):(S=f,D=h,I=m):(K0(i,g-w|0),w=e[s>>2]|0,S=e[u>>2]|0,D=w,I=w),(S|0)!=(D|0)){D=e[i>>2]|0,w=(S-I|0)/12|0,S=0;do u=S*3|0,e[D+(u<<2)>>2]=e[I+(S*12|0)>>2],e[D+(u+1<<2)>>2]=e[I+(S*12|0)+4>>2],e[D+(u+2<<2)>>2]=e[I+(S*12|0)+8>>2],S=S+1|0;while(S>>>0<w>>>0)}return e[l>>2]=-1,_P(i,l)|0?(Yb(i)|0,rP(i,e[l>>2]|0)|0,L=1,q=o,L|0):(L=0,q=o,L|0)}function af(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;o=q,q=q+32|0,l=o,f=i+40|0,h=(e[s>>2]|0)+(e[f>>2]|0)|0,u=i+24|0,g=e[i+32>>2]|0,d=g+-16384|0;do if(d>>>0>=64){if(d>>>0<16384){m=i+28|0,b=(e[u>>2]|0)+(e[m>>2]|0)|0,Y[b>>0]=g,Y[b+1>>0]=g>>>8,w=(e[m>>2]|0)+2|0;break}if(d>>>0<4194304){m=i+28|0,b=(e[u>>2]|0)+(e[m>>2]|0)|0,x=g+8372224|0,Y[b>>0]=x,Y[b+1>>0]=x>>>8,Y[b+2>>0]=x>>>16,w=(e[m>>2]|0)+3|0;break}if(d>>>0<1073741824){m=i+28|0,x=(e[u>>2]|0)+(e[m>>2]|0)|0,b=g+-1073758208|0,Y[x>>0]=b,Y[x+1>>0]=b>>>8,Y[x+2>>0]=b>>>16,Y[x+3>>0]=b>>>24,w=(e[m>>2]|0)+4|0;break}else{w=e[i+28>>2]|0;break}}else m=i+28|0,Y[(e[u>>2]|0)+(e[m>>2]|0)>>0]=d,w=(e[m>>2]|0)+1|0;while(0);if(d=((w|0)<0)<<31>>31,ll(l),Vu(w,d,l)|0,u=l+4|0,i=(e[u>>2]|0)-(e[l>>2]|0)|0,Q0(h+i|0,h|0,w|0)|0,Fi(h|0,e[l>>2]|0,i|0)|0,h=f,f=e[h>>2]|0,g=e[h+4>>2]|0,h=Qt(i|0,0,w|0,d|0)|0,d=Qt(h|0,Ze|0,f|0,g|0)|0,ds(s,d,Ze),d=l+12|0,s=e[d>>2]|0,e[d>>2]=0,s|0&&Ae(s),s=e[l>>2]|0,!s){q=o;return}(e[u>>2]|0)!=(s|0)&&(e[u>>2]=s),Ae(s),q=o}function Uu(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0;if(l=s,f=o-l>>2,h=i+8|0,u=e[h>>2]|0,g=e[i>>2]|0,d=g,f>>>0<=u-g>>2>>>0){if(m=i+4|0,b=(e[m>>2]|0)-g>>2,w=f>>>0>b>>>0,x=s+(b<<2)|0,b=w?x:o,C=b,S=C-l|0,D=S>>2,D|0&&Q0(g|0,s|0,S|0)|0,S=d+(D<<2)|0,!w){if(w=e[m>>2]|0,(w|0)==(S|0))return;e[m>>2]=w+(~((w+-4-S|0)>>>2)<<2);return}if((b|0)==(o|0))return;for(b=e[m>>2]|0,S=o+-4-C|0,C=x,x=b;e[x>>2]=e[C>>2],C=C+4|0,(C|0)!=(o|0);)x=x+4|0;e[m>>2]=b+((S>>>2)+1<<2);return}if(S=g,g?(u=i+4|0,b=e[u>>2]|0,(b|0)!=(d|0)&&(e[u>>2]=b+(~((b+-4-g|0)>>>2)<<2)),Ae(S),e[h>>2]=0,e[u>>2]=0,e[i>>2]=0,I=0):I=u,f>>>0>1073741823&&qe(),u=I>>1,S=I>>2>>>0<536870911?u>>>0<f>>>0?f:u:1073741823,S>>>0>1073741823&&qe(),u=It(S<<2)|0,f=i+4|0,e[f>>2]=u,e[i>>2]=u,e[h>>2]=u+(S<<2),(s|0)!=(o|0)){for(S=o+-4-l|0,l=s,s=u;e[s>>2]=e[l>>2],l=l+4|0,(l|0)!=(o|0);)s=s+4|0;e[f>>2]=u+((S>>>2)+1<<2)}}function A(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0;if(f=q,q=q+80|0,h=f,u=f+64|0,Wy(h),g=e[(e[i+8>>2]|0)+56>>2]|0,d=_r(Qy(5)|0,o)|0,Bm(h,g,0,o&255,5,0,d,((d|0)<0)<<31>>31,0,0),d=It(96)|0,S3(d,h),e3(d,s)|0,e[u>>2]=d,K6(i,u),d=e[u>>2]|0,e[u>>2]=0,d|0&&(u=d+88|0,s=e[u>>2]|0,e[u>>2]=0,s|0&&(u=e[s+8>>2]|0,u|0&&(h=s+12|0,(e[h>>2]|0)!=(u|0)&&(e[h>>2]=u),Ae(u)),Ae(s)),s=e[d+68>>2]|0,s|0&&(u=d+72|0,h=e[u>>2]|0,(h|0)!=(s|0)&&(e[u>>2]=h+(~((h+-4-s|0)>>>2)<<2)),Ae(s)),s=d+64|0,h=e[s>>2]|0,e[s>>2]=0,h|0&&(s=e[h>>2]|0,s|0&&(u=h+4|0,(e[u>>2]|0)!=(s|0)&&(e[u>>2]=s),Ae(s)),Ae(h)),Ae(d)),!l){q=f;return}if(d=e[i+32>>2]|0,Y[d+84>>0]=0,i=d+68|0,h=d+72|0,d=e[h>>2]|0,s=e[i>>2]|0,u=d-s>>2,o=d,u>>>0<l>>>0){W0(i,l-u|0,1516),q=f;return}if(u>>>0<=l>>>0){q=f;return}if(u=s+(l<<2)|0,(u|0)==(o|0)){q=f;return}e[h>>2]=o+(~((o+-4-u|0)>>>2)<<2),q=f}function T(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0;if(o=q,q=q+16|0,l=o+4|0,f=o,h=i+4|0,u=e[h>>2]|0,g=i+8|0,d=e[g>>2]|0,(d|0)==(u|0)?m=u:(b=d+(~((d+-4-u|0)>>>2)<<2)|0,e[g>>2]=b,m=b),b=i+16|0,u=e[b>>2]|0,d=i+20|0,w=e[d>>2]|0,x=u,(w|0)!=(u|0)&&(e[d>>2]=w+(~((w+-4-x|0)>>>2)<<2)),w=e[s>>2]|0,u=e[s+4>>2]|0,(w|0)==(u|0)){q=o;return}for(s=i+12|0,i=w,w=m,m=x;x=e[i>>2]|0,e[l>>2]=x,(w|0)==(e[s>>2]|0)?(pi(h,l),C=e[b>>2]|0):(e[w>>2]=x,e[g>>2]=w+4,C=m),x=e[l>>2]|0,S=e[d>>2]|0,D=S-C>>2,I=C,(x|0)<(D|0)?(L=I,P=x,N=C):(X=x+1|0,e[f>>2]=-1,j=S,X>>>0<=D>>>0?X>>>0<D>>>0&&(S=I+(X<<2)|0,(S|0)!=(j|0))?(e[d>>2]=j+(~((j+-4-S|0)>>>2)<<2),Q=x,V=I,G=C):(Q=x,V=I,G=C):(W0(b,X-D|0,f),D=e[b>>2]|0,Q=e[l>>2]|0,V=D,G=D),L=V,P=Q,N=G),w=e[g>>2]|0,e[L+(P<<2)>>2]=(w-(e[h>>2]|0)>>2)+-1,i=i+4|0,(i|0)!=(u|0);)m=N;q=o}function W(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0;if(o=Or[s>>1]|0,l=Or[s+2>>1]|0,f=Or[s+4>>1]|0,s=(((o^318)&65535)+239^l&65535)+239^f&65535,h=e[i+4>>2]|0,!h||(g=h+-1|0,d=(g&h|0)==0,d?m=s&g:s>>>0<h>>>0?m=s:m=(s>>>0)%(h>>>0)|0,b=e[(e[i>>2]|0)+(m<<2)>>2]|0,!b)||(i=e[b>>2]|0,!i))return u=0,u|0;if(d){for(d=i;;){if(b=e[d+4>>2]|0,w=(b|0)==(s|0),!(w|(b&g|0)==(m|0))){u=0,x=23;break}if(w&&(w=d+8|0,(Or[w>>1]|0)==o<<16>>16)&&(Or[w+2>>1]|0)==l<<16>>16&&(Or[d+12>>1]|0)==f<<16>>16){u=d,x=23;break}if(d=e[d>>2]|0,!d){u=0,x=23;break}}if((x|0)==23)return u|0}else C=i;for(;;){if(i=e[C+4>>2]|0,(i|0)==(s|0)){if(d=C+8|0,(Or[d>>1]|0)==o<<16>>16&&(Or[d+2>>1]|0)==l<<16>>16&&(Or[C+12>>1]|0)==f<<16>>16){u=C,x=23;break}}else if(i>>>0<h>>>0?S=i:S=(i>>>0)%(h>>>0)|0,(S|0)!=(m|0)){u=0,x=23;break}if(C=e[C>>2]|0,!C){u=0,x=23;break}}return(x|0)==23?u|0:0}function z(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0;if(s=q,q=q+32|0,o=s,l=i+16|0,f=l,h=e[f>>2]|0,u=e[f+4>>2]|0,!((u|0)>0|(u|0)==0&h>>>0>0)){q=s;return}f=Qt(e[(e[i+12>>2]|0)+4>>2]|0,0,7,0)|0,g=s0(f|0,Ze|0,3)|0,f=Ze,Y[i+24>>0]|0?(d=e[i>>2]|0,C=i+4|0,S=d+((e[C>>2]|0)-d)|0,d=Qt(h|0,u|0,8,0)|0,u=S+(0-d)|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,Y[o+24>>0]=0,Vu(g,f,o)|0,d=o+4|0,S=(e[d>>2]|0)-(e[o>>2]|0)|0,Q0(u+S|0,u+8|0,g|0)|0,Fi(u|0,e[o>>2]|0,S|0)|0,u=l,h=Qt(e[u>>2]|0,e[u+4>>2]|0,8-S|0,0)|0,S=l,e[S>>2]=h,e[S+4>>2]=Ze,S=o+12|0,h=e[S>>2]|0,e[S>>2]=0,h|0&&Ae(h),h=e[o>>2]|0,h|0&&((e[d>>2]|0)!=(h|0)&&(e[d>>2]=h),Ae(h)),h=l,m=C,b=C,w=e[h>>2]|0,x=e[h+4>>2]|0):(d=i+4|0,m=d,b=d,w=h,x=u),h=e[m>>2]|0,m=e[i>>2]|0,C=h-m|0,d=Gi(g|0,f|0,w|0,x|0)|0,x=Qt(d|0,Ze|0,C|0,0)|0,d=m,m=h,C>>>0>=x>>>0?C>>>0>x>>>0&&(h=d+x|0,(h|0)!=(m|0))&&(e[b>>2]=h):Oa(i,x-C|0),C=l,e[C>>2]=0,e[C+4>>2]=0,q=s}function te(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0;if(e[s>>2]=1,o=i+4|0,l=s+8|0,f=s+12|0,s=e[l>>2]|0,h=(e[f>>2]|0)-s|0,h>>>0<4294967292?(jy(l,h+4|0,0),u=e[l>>2]|0):u=s,s=u+h|0,h=br[o>>0]|br[o+1>>0]<<8|br[o+2>>0]<<16|br[o+3>>0]<<24,Y[s>>0]=h,Y[s+1>>0]=h>>8,Y[s+2>>0]=h>>16,Y[s+3>>0]=h>>24,h=i+8|0,s=i+12|0,o=e[h>>2]|0,(e[s>>2]|0)!=(o|0)){u=0,g=o;do o=g+(u<<2)|0,d=e[l>>2]|0,m=(e[f>>2]|0)-d|0,m>>>0<4294967292?(jy(l,m+4|0,0),b=e[l>>2]|0):b=d,d=b+m|0,m=br[o>>0]|br[o+1>>0]<<8|br[o+2>>0]<<16|br[o+3>>0]<<24,Y[d>>0]=m,Y[d+1>>0]=m>>8,Y[d+2>>0]=m>>16,Y[d+3>>0]=m>>24,u=u+1|0,g=e[h>>2]|0;while(u>>>0<(e[s>>2]|0)-g>>2>>>0)}if(g=i+20|0,i=e[l>>2]|0,s=(e[f>>2]|0)-i|0,s>>>0<4294967292){jy(l,s+4|0,0),w=e[l>>2]|0,x=w+s|0,C=br[g>>0]|br[g+1>>0]<<8|br[g+2>>0]<<16|br[g+3>>0]<<24,Y[x>>0]=C,Y[x+1>>0]=C>>8,Y[x+2>>0]=C>>16,Y[x+3>>0]=C>>24;return}else{w=i,x=w+s|0,C=br[g>>0]|br[g+1>>0]<<8|br[g+2>>0]<<16|br[g+3>>0]<<24,Y[x>>0]=C,Y[x+1>>0]=C>>8,Y[x+2>>0]=C>>16,Y[x+3>>0]=C>>24;return}}function pe(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0;l=i+8|0,f=e[l>>2]|0,h=e[i>>2]|0,u=h;do if(f-h>>2>>>0>=s>>>0){if(g=i+4|0,d=e[g>>2]|0,m=d-h>>2,b=m>>>0<s>>>0,w=b?m:s,x=d,w|0)for(d=w,w=u;e[w>>2]=e[o>>2],d=d+-1|0,d;)w=w+4|0;if(b){for(w=s-m|0,d=w,D=x;e[D>>2]=e[o>>2],d=d+-1|0,d;)D=D+4|0;C=g,S=x+(w<<2)|0;break}else{if(w=u+(s<<2)|0,(w|0)==(x|0))return;C=g,S=x+(~((x+-4-w|0)>>>2)<<2)|0;break}}else{for(D=h,h?(d=i+4|0,m=e[d>>2]|0,(m|0)!=(u|0)&&(e[d>>2]=m+(~((m+-4-h|0)>>>2)<<2)),Ae(D),e[l>>2]=0,e[d>>2]=0,e[i>>2]=0,I=0):I=f,s>>>0>1073741823&&qe(),d=I>>1,D=I>>2>>>0<536870911?d>>>0<s>>>0?s:d:1073741823,D>>>0>1073741823&&qe(),d=It(D<<2)|0,m=i+4|0,e[m>>2]=d,e[i>>2]=d,e[l>>2]=d+(D<<2),D=s,b=d;e[b>>2]=e[o>>2],D=D+-1|0,D;)b=b+4|0;C=m,S=d+(s<<2)|0}while(0);e[C>>2]=S}function Le(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0;return u=po(i,s,o,l,h)|0,g=e[f>>2]|0,d=e[l>>2]|0,m=e[h>>2]|0,h=e[m>>2]|0,b=(e[m+4>>2]|0)-h>>3,b>>>0<=g>>>0&&qe(),w=h,b>>>0<=d>>>0&&qe(),(e[w+(g<<3)>>2]|0)>>>0>=(e[w+(d<<3)>>2]|0)>>>0?(x=u,x|0):(e[l>>2]=g,e[f>>2]=d,d=e[l>>2]|0,f=e[o>>2]|0,b>>>0<=d>>>0&&qe(),b>>>0<=f>>>0&&qe(),(e[w+(d<<3)>>2]|0)>>>0>=(e[w+(f<<3)>>2]|0)>>>0?(x=u+1|0,x|0):(e[o>>2]=d,e[l>>2]=f,f=e[o>>2]|0,l=e[s>>2]|0,b>>>0<=f>>>0&&qe(),b>>>0<=l>>>0&&qe(),(e[w+(f<<3)>>2]|0)>>>0>=(e[w+(l<<3)>>2]|0)>>>0?(x=u+2|0,x|0):(e[s>>2]=f,e[o>>2]=l,l=e[s>>2]|0,o=e[i>>2]|0,b>>>0<=l>>>0&&qe(),b>>>0<=o>>>0&&qe(),(e[w+(l<<3)>>2]|0)>>>0>=(e[w+(o<<3)>>2]|0)>>>0?(x=u+3|0,x|0):(e[i>>2]=l,e[s>>2]=o,x=u+4|0,x|0))))}function je(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0;if(o=Y[s>>0]|0,l=Y[s+1>>0]|0,f=Y[s+2>>0]|0,s=((o&255^318)+239^l&255)+239^f&255,h=e[i+4>>2]|0,!h||(g=h+-1|0,d=(g&h|0)==0,d?m=s&g:s>>>0<h>>>0?m=s:m=(s>>>0)%(h>>>0)|0,b=e[(e[i>>2]|0)+(m<<2)>>2]|0,!b)||(i=e[b>>2]|0,!i))return u=0,u|0;if(d){for(d=i;;){if(b=e[d+4>>2]|0,w=(b|0)==(s|0),!(w|(b&g|0)==(m|0))){u=0,x=23;break}if(w&&(w=d+8|0,(Y[w>>0]|0)==o<<24>>24)&&(Y[w+1>>0]|0)==l<<24>>24&&(Y[w+2>>0]|0)==f<<24>>24){u=d,x=23;break}if(d=e[d>>2]|0,!d){u=0,x=23;break}}if((x|0)==23)return u|0}else C=i;for(;;){if(i=e[C+4>>2]|0,(i|0)==(s|0)){if(d=C+8|0,(Y[d>>0]|0)==o<<24>>24&&(Y[d+1>>0]|0)==l<<24>>24&&(Y[d+2>>0]|0)==f<<24>>24){u=C,x=23;break}}else if(i>>>0<h>>>0?S=i:S=(i>>>0)%(h>>>0)|0,(S|0)!=(m|0)){u=0,x=23;break}if(C=e[C>>2]|0,!C){u=0,x=23;break}}return(x|0)==23?u|0:0}function rt(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0;if(s=q,q=q+16|0,o=s,l=i+36|0,f=i+4|0,h=i+8|0,u=(e[h>>2]|0)-(e[f>>2]|0)>>2,g=i+40|0,d=e[g>>2]|0,m=e[l>>2]|0,b=d-m>>2,w=m,m=d,u>>>0<=b>>>0){if(u>>>0<b>>>0&&(d=w+(u<<2)|0,(d|0)!=(m|0))){w=m;do m=w+-4|0,e[g>>2]=m,x=e[m>>2]|0,e[m>>2]=0,x|0&&On[e[(e[x>>2]|0)+4>>2]&127](x),w=e[g>>2]|0;while((w|0)!=(d|0))}}else Ko(l,u-b|0);if((e[h>>2]|0)==(e[f>>2]|0))return C=1,q=s,C|0;for(b=i+52|0,u=i+48|0,d=0;;){if(Nm[e[(e[i>>2]|0)+56>>2]&15](o,i,d),w=(e[l>>2]|0)+(d<<2)|0,g=e[o>>2]|0,e[o>>2]=0,x=e[w>>2]|0,e[w>>2]=g,x|0&&On[e[(e[x>>2]|0)+4>>2]&127](x),x=e[o>>2]|0,e[o>>2]=0,x|0&&On[e[(e[x>>2]|0)+4>>2]&127](x),x=e[(e[l>>2]|0)+(d<<2)>>2]|0,!x){C=0,S=19;break}if(d>>>0<(e[b>>2]|0)>>>0&&e[(e[u>>2]|0)+(d>>>5<<2)>>2]&1<<(d&31)|0&&vC(x),d=d+1|0,d>>>0>=(e[h>>2]|0)-(e[f>>2]|0)>>2>>>0){C=1,S=19;break}}return(S|0)==19?(q=s,C|0):0}function ht(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0;l=q,q=q+16|0,f=l+4|0,h=l,p0(e[o+12>>2]|0,s)|0,u=e[o+8>>2]|0;e:do if(u|0){for(g=s+16|0,d=s+4|0,m=u;;){if(b=m,!(Ry(0,s,b+8|0)|0)){w=0;break}if(x=b+20|0,C=(e[b+24>>2]|0)-(e[x>>2]|0)|0,p0(C,s)|0,b=e[x>>2]|0,x=g,S=e[x+4>>2]|0,(S|0)>0|(S|0)==0&(e[x>>2]|0)>>>0>0||(e[h>>2]=e[d>>2],e[f>>2]=e[h>>2],wi(s,f,b,b+C|0)|0),m=e[m>>2]|0,!m)break e}return q=l,w|0}while(0);if(p0(e[o+32>>2]|0,s)|0,f=e[o+28>>2]|0,f)D=f;else return w=1,q=l,w|0;for(;;){if(f=D,!(Ry(0,s,f+8|0)|0)){w=0,I=10;break}if(ht(i,s,e[f+20>>2]|0)|0,D=e[D>>2]|0,!D){w=1,I=10;break}}return(I|0)==10?(q=l,w|0):0}function Ft(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0;return o=q,q=q+16|0,l=o+8|0,f=o+4|0,h=o,u=i+8|0,g=i+12|0,d=e[u>>2]|0,(e[g>>2]|0)==(d|0)?(m=It(76)|0,HF(m,s),b=m,e[h>>2]=b,m=e[g>>2]|0,m>>>0<(e[i+16>>2]|0)>>>0?(e[h>>2]=0,e[m>>2]=b,e[g>>2]=m+4,w=h):(Ea(u,h),w=h),h=e[w>>2]|0,e[w>>2]=0,h?(On[e[(e[h>>2]|0)+4>>2]&127](h),q=o,1):(q=o,1)):(h=e[d>>2]|0,e[l>>2]=s,d=h+4|0,w=h+8|0,u=e[w>>2]|0,(u|0)==(e[h+12>>2]|0)?pi(d,l):(e[u>>2]=s,e[w>>2]=u+4),u=e[l>>2]|0,s=h+16|0,m=h+20|0,h=e[m>>2]|0,g=e[s>>2]|0,b=h-g>>2,i=g,(u|0)<(b|0)?(x=i,C=u):(g=u+1|0,e[f>>2]=-1,S=h,g>>>0<=b>>>0?g>>>0<b>>>0&&(h=i+(g<<2)|0,(h|0)!=(S|0))?(e[m>>2]=S+(~((S+-4-h|0)>>>2)<<2),D=u,I=i):(D=u,I=i):(W0(s,g-b|0,f),D=e[l>>2]|0,I=e[s>>2]|0),x=I,C=D),e[x+(C<<2)>>2]=((e[w>>2]|0)-(e[d>>2]|0)>>2)+-1,q=o,1)}function Yt(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0;if(l=o,f=s,h=l-f|0,u=h>>2,g=i+8|0,d=e[g>>2]|0,m=e[i>>2]|0,b=m,u>>>0>d-m>>2>>>0){if(w=m,m?(d=i+4|0,C=e[d>>2]|0,(C|0)!=(b|0)&&(e[d>>2]=C+(~((C+-4-m|0)>>>2)<<2)),Ae(w),e[g>>2]=0,e[d>>2]=0,e[i>>2]=0,x=0):x=d,u>>>0>1073741823&&qe(),d=x>>1,w=x>>2>>>0<536870911?d>>>0<u>>>0?u:d:1073741823,w>>>0>1073741823&&qe(),d=It(w<<2)|0,x=i+4|0,e[x>>2]=d,e[i>>2]=d,e[g>>2]=d+(w<<2),(h|0)<=0)return;Fi(d|0,s|0,h|0)|0,e[x>>2]=d+(h>>>2<<2);return}if(h=i+4|0,i=e[h>>2]|0,d=i-m>>2,m=u>>>0>d>>>0,u=m?s+(d<<2)|0:o,o=i,d=i,(u|0)==(s|0))S=b;else{for(i=u+-4-f|0,f=s,s=b;e[s>>2]=e[f>>2],f=f+4|0,(f|0)!=(u|0);)s=s+4|0;S=b+((i>>>2)+1<<2)|0}if(m){if(m=l-u|0,(m|0)<=0)return;Fi(d|0,u|0,m|0)|0,e[h>>2]=(e[h>>2]|0)+(m>>>2<<2);return}else{if((S|0)==(o|0))return;e[h>>2]=o+(~((o+-4-S|0)>>>2)<<2);return}}function wr(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0;f=q,q=q+96|0,h=f+40|0,u=f,Qk(h,o),P2(u,s,o),M_(h,u),hs(u+24|0,e[u+28>>2]|0),ju(u+12|0,e[u+16>>2]|0),hs(u,e[u+4>>2]|0),Y6(i,h,l),e[i>>2]|0||(l=i+4|0,(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0),e[s+40>>2]=e[h+40>>2],e[s+44>>2]=e[h+44>>2],e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0),e[h>>2]=2968,hs(h+28|0,e[h+32>>2]|0),ju(h+16|0,e[h+20>>2]|0),hs(h+4|0,e[h+8>>2]|0),q=f}function hr(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0;if(o=e[s>>2]|0,l=e[s+4>>2]|0,f=e[s+8>>2]|0,s=((o^318)+239^l)+239^f,h=e[i+4>>2]|0,!h||(g=h+-1|0,d=(g&h|0)==0,d?m=s&g:s>>>0<h>>>0?m=s:m=(s>>>0)%(h>>>0)|0,b=e[(e[i>>2]|0)+(m<<2)>>2]|0,!b)||(i=e[b>>2]|0,!i))return u=0,u|0;if(d){for(d=i;;){if(b=e[d+4>>2]|0,w=(b|0)==(s|0),!(w|(b&g|0)==(m|0))){u=0,x=23;break}if(w&&(e[d+8>>2]|0)==(o|0)&&(e[d+12>>2]|0)==(l|0)&&(e[d+16>>2]|0)==(f|0)){u=d,x=23;break}if(d=e[d>>2]|0,!d){u=0,x=23;break}}if((x|0)==23)return u|0}else C=i;for(;;){if(i=e[C+4>>2]|0,(i|0)==(s|0)){if((e[C+8>>2]|0)==(o|0)&&(e[C+12>>2]|0)==(l|0)&&(e[C+16>>2]|0)==(f|0)){u=C,x=23;break}}else if(i>>>0<h>>>0?S=i:S=(i>>>0)%(h>>>0)|0,(S|0)!=(m|0)){u=0,x=23;break}if(C=e[C>>2]|0,!C){u=0,x=23;break}}return(x|0)==23?u|0:0}function zr(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0;if(l=q,q=q+16|0,f=l,!(j6(i,s,o)|0)||(Y[(e[i+8>>2]|0)+24>>0]|0)!=3)return h=0,q=l,h|0;u=e[s+48>>2]|0,s=It(32)|0,e[f>>2]=s,e[f+8>>2]=-2147483616,e[f+4>>2]=17,g=s,d=12932,m=g+17|0;do Y[g>>0]=Y[d>>0]|0,g=g+1|0,d=d+1|0;while((g|0)<(m|0));if(Y[s+17>>0]=0,s=u+16|0,d=e[s>>2]|0,d){g=s,m=d;e:for(;;){for(d=m;!((e[d+16>>2]|0)>=(o|0));)if(b=e[d+4>>2]|0,b)d=b;else{w=g;break e}if(m=e[d>>2]|0,m)g=d;else{w=d;break}}(w|0)!=(s|0)&&(e[w+16>>2]|0)<=(o|0)&&(o=w+20|0,(go(o,f)|0)!=0)?x=bo(o,f,-1)|0:C=12}else C=12;return(C|0)==12&&(x=bo(u,f,-1)|0),(Y[f+11>>0]|0)<0&&Ae(e[f>>2]|0),(x|0)<1?(h=0,q=l,h|0):(L3(i+40|0,x),h=1,q=l,h|0)}function Zr(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0;if(l=s,f=o-l|0,h=i+8|0,u=e[h>>2]|0,g=e[i>>2]|0,d=g,f>>>0>(u-g|0)>>>0){if(g?(u=i+4|0,(e[u>>2]|0)!=(d|0)&&(e[u>>2]=d),Ae(d),e[h>>2]=0,e[u>>2]=0,e[i>>2]=0,m=0):m=u,(f|0)<0&&qe(),u=m<<1,b=m>>>0<1073741823?u>>>0<f>>>0?f:u:2147483647,(b|0)<0&&qe(),u=It(b)|0,m=i+4|0,e[m>>2]=u,e[i>>2]=u,e[h>>2]=u+b,(s|0)==(o|0))return;w=s,x=u;do Y[x>>0]=Y[w>>0]|0,w=w+1|0,x=(e[m>>2]|0)+1|0,e[m>>2]=x;while((w|0)!=(o|0));return}if(w=i+4|0,i=(e[w>>2]|0)-g|0,g=f>>>0>i>>>0,f=s+i|0,i=g?f:o,(i|0)==(s|0))C=d;else{for(x=s,s=d;Y[s>>0]=Y[x>>0]|0,x=x+1|0,(x|0)!=(i|0);)s=s+1|0;C=d+(i-l)|0}if(!g){if((e[w>>2]|0)==(C|0))return;e[w>>2]=C;return}if((i|0)!=(o|0)){i=f,f=e[w>>2]|0;do Y[f>>0]=Y[i>>0]|0,i=i+1|0,f=(e[w>>2]|0)+1|0,e[w>>2]=f;while((i|0)!=(o|0))}}function ci(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;l=o>>>1&1431655765|o<<1&-1431655766,o=l>>>2&858993459|l<<2&-858993460,l=o>>>4&252645135|o<<4&-252645136,o=l>>>8&16711935|l<<8&-16711936,l=32-s|0,f=(o>>>16|o<<16)>>>l,o=f-(f>>>1&1431655765)|0,h=(o>>>2&858993459)+(o&858993459)|0,o=(_r((h>>>4)+h&252645135,16843009)|0)>>>24,h=s-o|0,u=e[i>>2]|0,g=u,d=Qt(e[g>>2]|0,e[g+4>>2]|0,h|0,((h|0)<0)<<31>>31|0)|0,h=u,e[h>>2]=d,e[h+4>>2]=Ze,h=u+8|0,u=h,d=Qt(e[u>>2]|0,e[u+4>>2]|0,o|0,0)|0,o=h,e[o>>2]=d,e[o+4>>2]=Ze,o=i+28|0,d=e[o>>2]|0,h=32-d|0,u=i+24|0;do if((h|0)>=(s|0)){if(g=-1>>>l<<d,m=e[u>>2]&~g|g&f<<d,e[u>>2]=m,g=d+s|0,e[o>>2]=g,(g|0)!=32)return;if(g=i+16|0,b=e[g>>2]|0,(b|0)==(e[i+20>>2]|0)){pi(i+12|0,u),w=0,x=0;break}else{e[b>>2]=m,e[g>>2]=b+4,w=0,x=0;break}}else b=-1>>>d<<d,g=e[u>>2]&~b|b&f<<d,e[u>>2]=g,b=i+16|0,m=e[b>>2]|0,(m|0)==(e[i+20>>2]|0)?pi(i+12|0,u):(e[m>>2]=g,e[b>>2]=m+4),m=s-h|0,w=m,x=-1>>>(32-m|0)&f>>>h;while(0);e[u>>2]=x,e[o>>2]=w}function xi(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0;l=s&255,f=(o|0)!=0;e:do if(f&(i&3|0)!=0)for(h=s&255,u=i,g=o;;){if((Y[u>>0]|0)==h<<24>>24){d=u,m=g,b=6;break e}if(w=u+1|0,x=g+-1|0,C=(x|0)!=0,C&(w&3|0)!=0)u=w,g=x;else{S=w,D=x,I=C,b=5;break}}else S=i,D=o,I=f,b=5;while(0);(b|0)==5&&(I?(d=S,m=D,b=6):(L=S,P=0));e:do if((b|0)==6)if(S=s&255,(Y[d>>0]|0)==S<<24>>24)L=d,P=m;else{D=_r(l,16843009)|0;t:do if(m>>>0>3){for(I=d,f=m;o=e[I>>2]^D,!((o&-2139062144^-2139062144)&o+-16843009|0);)if(o=I+4|0,i=f+-4|0,i>>>0>3)I=o,f=i;else{N=o,X=i,b=11;break t}j=I,Q=f}else N=d,X=m,b=11;while(0);if((b|0)==11)if(X)j=N,Q=X;else{L=N,P=0;break}for(;;){if((Y[j>>0]|0)==S<<24>>24){L=j,P=Q;break e}if(D=j+1|0,Q=Q+-1|0,Q)j=D;else{L=D,P=0;break}}}while(0);return(P|0?L:0)|0}function Ri(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0;o=i+4|0,l=e[o>>2]|0,f=e[i>>2]|0,h=f;do if((l|0)==(f|0)){if(u=i+8|0,g=e[u>>2]|0,d=i+12|0,m=e[d>>2]|0,b=m,g>>>0<m>>>0){m=g,w=((b-m>>2)+1|0)/2|0,x=g+(w<<2)|0,C=m-l|0,m=C>>2,S=x+(0-m<<2)|0,m?(Q0(S|0,l|0,C|0)|0,D=S,I=e[u>>2]|0):(D=x,I=g),e[o>>2]=D,e[u>>2]=I+(w<<2),L=D;break}if(w=b-h>>1,b=(w|0)==0?1:w,b>>>0>1073741823&&(w=An(8)|0,c0(w,14941),e[w>>2]=6944,yn(w|0,1080,114)),w=It(b<<2)|0,S=w,C=w+((b+3|0)>>>2<<2)|0,x=C,m=w+(b<<2)|0,(l|0)==(g|0))P=x,N=l;else{b=C,w=x,X=l;do e[b>>2]=e[X>>2],b=w+4|0,w=b,X=X+4|0;while((X|0)!=(g|0));P=w,N=e[i>>2]|0}e[i>>2]=S,e[o>>2]=x,e[u>>2]=P,e[d>>2]=m,N?(Ae(N),L=e[o>>2]|0):L=C}else L=l;while(0);e[L+-4>>2]=e[s>>2],e[o>>2]=(e[o>>2]|0)+-4}function Ai(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0;return o=q,q=q+16|0,l=o+4|0,f=o,h=o+8|0,u=i+4|0,(e[u>>2]|0)==-1?(g=0,q=o,g|0):(d=e[i+8>>2]|0,m=s+16|0,b=m,w=e[b>>2]|0,x=e[b+4>>2]|0,(x|0)>0|(x|0)==0&w>>>0>0?(D=x,I=w):(b=(e[i+12>>2]|0)-d|0,C=s+4|0,e[f>>2]=e[C>>2],e[l>>2]=e[f>>2],wi(s,l,d,d+b|0)|0,b=m,d=e[b>>2]|0,S=e[b+4>>2]|0,b=i+20|0,(S|0)>0|(S|0)==0&d>>>0>0?(D=S,I=d):(e[f>>2]=e[C>>2],e[l>>2]=e[f>>2],wi(s,l,b,b+4|0)|0,b=m,D=e[b+4>>2]|0,I=e[b>>2]|0)),Y[h>>0]=e[u>>2],(D|0)>0|(D|0)==0&I>>>0>0||(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+1|0)|0),g=1,q=o,g|0)}function Hi(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0;if(l=q,q=q+16|0,f=l+4|0,h=l,u=i+8|0,i=e[u>>2]|0,g=e[i+40>>2]|0,d=Fl((g|0)>-1?g:-1)|0,m=s+4|0,b=e[m>>2]|0,w=e[s>>2]|0,(b|0)==(w|0))return F0(d),q=l,1;for(x=o+16|0,C=o+4|0,S=d+g|0,g=0,D=w,w=i,I=i,i=b;b=e[D+(g<<2)>>2]|0,Y[w+84>>0]|0?L=b:L=e[(e[w+68>>2]|0)+(b<<2)>>2]|0,b=I+48|0,P=e[b>>2]|0,N=e[b+4>>2]|0,b=I+40|0,X=e[b>>2]|0,j=Wr(X|0,e[b+4>>2]|0,L|0,0)|0,b=Qt(j|0,Ze|0,P|0,N|0)|0,Fi(d|0,(e[e[I>>2]>>2]|0)+b|0,X|0)|0,X=x,b=e[X+4>>2]|0,(b|0)>0|(b|0)==0&(e[X>>2]|0)>>>0>0?(Q=D,V=i):(e[h>>2]=e[C>>2],e[f>>2]=e[h>>2],wi(o,f,d,S)|0,Q=e[s>>2]|0,V=e[m>>2]|0),X=g+1|0,!(X>>>0>=V-Q>>2>>>0);)b=e[u>>2]|0,g=X,D=Q,w=b,I=b,i=V;return F0(d),q=l,1}function an(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0;if(l=(e[s>>2]|0)*3|0,(l|0)==-1)return f=0,h=-1,e[o>>2]=h,f|0;if(s=e[i+12>>2]|0,u=e[s+12>>2]|0,(e[u+(l<<2)>>2]|0)==-1)return f=0,h=l,e[o>>2]=h,f|0;if(g=e[s>>2]|0,s=e[i+152>>2]|0,(e[s+(e[g+(l<<2)>>2]<<2)>>2]|0)==-1){if(i=l+1|0,d=((i>>>0)%3|0|0)==0?l+-2|0:i,(d|0)==-1)return f=0,h=-1,e[o>>2]=h,f|0;if((e[u+(d<<2)>>2]|0)==-1)return f=0,h=d,e[o>>2]=h,f|0;if((e[s+(e[g+(d<<2)>>2]<<2)>>2]|0)==-1){if(i=d+1|0,m=((i>>>0)%3|0|0)==0?d+-2|0:i,(m|0)==-1)return f=0,h=-1,e[o>>2]=h,f|0;if((e[u+(m<<2)>>2]|0)==-1)return f=0,h=m,e[o>>2]=h,f|0;if((e[s+(e[g+(m<<2)>>2]<<2)>>2]|0)==-1)return g=m+1|0,f=1,h=((g>>>0)%3|0|0)==0?m+-2|0:g,e[o>>2]=h,f|0;b=m}else b=d}else b=l;for(;l=(((b>>>0)%3|0|0)==0?2:-1)+b|0,!((l|0)==-1||(d=e[u+(l<<2)>>2]|0,(d|0)==-1)||(l=d+(((d>>>0)%3|0|0)==0?2:-1)|0,(l|0)==-1));)b=l;return f=0,h=(((b>>>0)%3|0|0)==0?2:-1)+b|0,e[o>>2]=h,f|0}function Zi(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0;if(l=i+4|0,f=e[l>>2]|0,!f)return e[s>>2]=l,h=l,h|0;for(l=Y[o+11>>0]|0,u=l<<24>>24<0,g=u?e[o+4>>2]|0:l&255,l=u?e[o>>2]|0:o,o=i+4|0,i=f;;){if(f=i+16|0,u=Y[f+11>>0]|0,d=u<<24>>24<0,m=d?e[i+20>>2]|0:u&255,u=m>>>0<g>>>0,b=u?m:g,(b|0)!=0&&(w=vs(l,d?e[f>>2]|0:f,b)|0,(w|0)!=0)?(w|0)<0?x=8:x=10:g>>>0<m>>>0?x=8:x=10,(x|0)==8)if(x=0,w=e[i>>2]|0,w)C=i,S=w;else{x=9;break}else if((x|0)==10){if(x=0,w=g>>>0<m>>>0?g:m,(w|0)!=0&&(m=vs(d?e[f>>2]|0:f,l,w)|0,(m|0)!=0)){if((m|0)>=0){x=16;break}}else x=12;if((x|0)==12&&(x=0,!u)){x=16;break}if(D=i+4|0,u=e[D>>2]|0,u)C=D,S=u;else{x=15;break}}o=C,i=S}return(x|0)==9?(e[s>>2]=i,h=i,h|0):(x|0)==15?(e[s>>2]=i,h=D,h|0):(x|0)==16?(e[s>>2]=i,h=o,h|0):0}function Nn(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;if(l=q,q=q+32|0,f=l+24|0,h=l+16|0,u=l+8|0,g=l,d=i+4|0,m=e[d>>2]|0,b=e[s>>2]|0,w=e[s+4>>2]|0,s=e[o>>2]|0,x=e[o+4>>2]|0,o=s-b<<3,e[d>>2]=m-w+x+o,d=(e[i>>2]|0)+(m>>>5<<2)|0,i=m&31,m=d,(w|0)!=(i|0)){e[f>>2]=b,e[f+4>>2]=w,e[h>>2]=s,e[h+4>>2]=x,e[u>>2]=m,e[u+4>>2]=i,B2(g,f,h,u),q=l;return}u=x-w+o|0,o=b,(u|0)>0?(w?(b=32-w|0,x=(u|0)<(b|0)?u:b,h=-1>>>(b-x|0)&-1<<w,e[d>>2]=e[d>>2]&~h|e[o>>2]&h,h=x+w|0,b=o+4|0,C=u-x|0,S=d+(h>>>5<<2)|0,D=h&31,I=b,L=b):(C=u,S=d,D=0,I=b,L=o),b=(C|0)/32|0,Q0(S|0,I|0,b<<2|0)|0,I=C-(b<<5)|0,C=S+(b<<2)|0,S=C,(I|0)>0?(h=-1>>>(32-I|0),e[C>>2]=e[C>>2]&~h|e[L+(b<<2)>>2]&h,P=I,N=S):(P=D,N=S)):(P=w,N=m),e[g>>2]=N,e[g+4>>2]=P,q=l}function z0(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0;f=q,q=q+16|0,h=f,u=s+4|0,e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=0,g=It(16)|0,e[h>>2]=g,e[h+8>>2]=-2147483632,e[h+4>>2]=15,d=g,m=12916,b=d+15|0;do Y[d>>0]=Y[m>>0]|0,d=d+1|0,m=m+1|0;while((d|0)<(b|0));switch(Y[g+15>>0]=0,g=bo(u,h,-1)|0,(Y[h+11>>0]|0)<0&&Ae(e[h>>2]|0),g|0){case-1:{(sl(u)|0)==10?w=6:w=5;break}case 1:{w=5;break}default:w=6}if((w|0)==5?(g=It(68)|0,UO(g),x=g):(w|0)==6&&(w=It(64)|0,fH(w),x=w),_O(x,o),Nu(i,x,u,l),e[i>>2]|0){C=e[x>>2]|0,S=C+4|0,D=e[S>>2]|0,On[D&127](x),q=f;return}l=i+4|0,(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0),e[s+40>>2]=e[x+52>>2],e[s+44>>2]=e[x+60>>2],e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,C=e[x>>2]|0,S=C+4|0,D=e[S>>2]|0,On[D&127](x),q=f}function Qs(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;o=i+8|0,l=e[o>>2]|0,f=i+12|0,h=e[f>>2]|0,u=h;do if((l|0)==(h|0)){if(g=i+4|0,d=e[g>>2]|0,m=e[i>>2]|0,b=m,d>>>0>m>>>0){w=d,x=((w-b>>2)+1|0)/-2|0,C=d+(x<<2)|0,S=l-w|0,w=S>>2,w?(Q0(C|0,d|0,S|0)|0,D=e[g>>2]|0):D=d,S=C+(w<<2)|0,e[o>>2]=S,e[g>>2]=D+(x<<2),I=S;break}if(S=u-b>>1,b=(S|0)==0?1:S,b>>>0>1073741823&&(S=An(8)|0,c0(S,14941),e[S>>2]=6944,yn(S|0,1080,114)),S=It(b<<2)|0,x=S,w=S+(b>>>2<<2)|0,C=w,L=S+(b<<2)|0,(d|0)==(l|0))P=C,N=m;else{m=w,w=C,b=d;do e[m>>2]=e[b>>2],m=w+4|0,w=m,b=b+4|0;while((b|0)!=(l|0));P=w,N=e[i>>2]|0}e[i>>2]=x,e[g>>2]=C,e[o>>2]=P,e[f>>2]=L,N?(Ae(N),I=e[o>>2]|0):I=P}else I=l;while(0);e[I>>2]=e[s>>2],e[o>>2]=(e[o>>2]|0)+4}function cs(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0;if(s=q,q=q+16|0,o=s+4|0,l=s,f=i+8|0,h=i+12|0,u=e[h>>2]|0,ol(e[i+4>>2]|0,(e[u+56>>2]|0)-(e[u+52>>2]|0)>>2),u=i+76|0,i=e[u>>2]|0,i){if(g=e[i>>2]|0,(e[i+4>>2]|0)==(g|0))return d=1,q=s,d|0;for(i=0,h=g;;){if(e[l>>2]=e[h+(i<<2)>>2],e[o>>2]=e[l>>2],i=i+1|0,!(ek(f,o)|0)){d=0,m=10;break}if(g=e[u>>2]|0,h=e[g>>2]|0,i>>>0>=(e[g+4>>2]|0)-h>>2>>>0){d=1,m=10;break}}if((m|0)==10)return q=s,d|0}else{if(g=e[(e[h>>2]|0)+64>>2]|0,h=(e[g+4>>2]|0)-(e[g>>2]|0)>>2,g=(h>>>0)/3|0,h>>>0<=2)return d=1,q=s,d|0;for(h=0;;){if(e[l>>2]=h*3,e[o>>2]=e[l>>2],h=h+1|0,!(ek(f,o)|0)){d=0,m=10;break}if((h|0)>=(g|0)){d=1,m=10;break}}if((m|0)==10)return q=s,d|0}return 0}function ts(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0;if(o=q,q=q+16|0,l=o+8|0,f=o+4|0,h=o,u=i+12|0,g=i+4|0,d=e[g>>2]|0,(d|0)==(e[i+8>>2]|0)?(pi(i,u),m=e[g>>2]|0):(e[d>>2]=e[u>>2],b=d+4|0,e[g>>2]=b,m=b),b=e[i>>2]|0,e[h>>2]=m-b,m=s+16|0,d=m,w=e[d+4>>2]|0,(w|0)>0|(w|0)==0&(e[d>>2]|0)>>>0>0?x=b:(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+4|0)|0,d=e[i>>2]|0,w=e[h>>2]|0,h=m,m=e[h+4>>2]|0,(m|0)>0|(m|0)==0&(e[h>>2]|0)>>>0>0?x=d:(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,d,d+w|0)|0,x=e[i>>2]|0)),f=e[g>>2]|0,(f|0)==(x|0)){e[u>>2]=0,C=i+16|0,e[C>>2]=0,q=o;return}e[g>>2]=f+(~((f+-4-x|0)>>>2)<<2),e[u>>2]=0,C=i+16|0,e[C>>2]=0,q=o}function Ko(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0;if(o=i+8|0,l=e[o>>2]|0,f=i+4|0,h=e[f>>2]|0,u=h,l-h>>2>>>0>=s>>>0){Tr(h|0,0,s<<2|0)|0,e[f>>2]=h+(s<<2);return}g=e[i>>2]|0,d=h-g>>2,h=d+s|0,m=g,h>>>0>1073741823&&qe(),b=l-g|0,l=b>>1,w=b>>2>>>0<536870911?l>>>0<h>>>0?h:l:1073741823;do if(w)if(w>>>0>1073741823)l=An(8)|0,c0(l,14941),e[l>>2]=6944,yn(l|0,1080,114);else{x=It(w<<2)|0;break}else x=0;while(0);if(l=x+(d<<2)|0,Tr(l|0,0,s<<2|0)|0,s=l,d=x+(w<<2)|0,w=x+(h<<2)|0,(u|0)==(m|0))C=s,S=g,D=u;else{g=u,u=s,s=l;do g=g+-4|0,l=e[g>>2]|0,e[g>>2]=0,e[s+-4>>2]=l,s=u+-4|0,u=s;while((g|0)!=(m|0));C=u,S=e[i>>2]|0,D=e[f>>2]|0}if(e[i>>2]=C,e[f>>2]=w,e[o>>2]=d,d=S,(D|0)!=(d|0)){o=D;do o=o+-4|0,D=e[o>>2]|0,e[o>>2]=0,D|0&&On[e[(e[D>>2]|0)+4>>2]&127](D);while((o|0)!=(d|0))}!S||Ae(S)}function Ss(i){i=i|0,Sn(i),Sn(i+32|0),Sn(i+64|0),Sn(i+96|0),Sn(i+128|0),Sn(i+160|0),Sn(i+192|0),Sn(i+224|0),Sn(i+256|0),Sn(i+288|0),Sn(i+320|0),Sn(i+352|0),Sn(i+384|0),Sn(i+416|0),Sn(i+448|0),Sn(i+480|0),Sn(i+512|0),Sn(i+544|0),Sn(i+576|0),Sn(i+608|0),Sn(i+640|0),Sn(i+672|0),Sn(i+704|0),Sn(i+736|0),Sn(i+768|0),Sn(i+800|0),Sn(i+832|0),Sn(i+864|0),Sn(i+896|0),Sn(i+928|0),Sn(i+960|0),Sn(i+992|0),Sn(i+1024|0)}function No(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=Zt(h);var u=0,g=0,d=0,m=0,b=0,w=0;u=q,q=q+16|0,g=u,d=u+4|0,e[g>>2]=s,s=i+4|0,i=It(32)|0,e[d>>2]=i,e[d+8>>2]=-2147483616,e[d+4>>2]=17,m=i,b=12932,w=m+17|0;do Y[m>>0]=Y[b>>0]|0,m=m+1|0,b=b+1|0;while((m|0)<(w|0));Y[i+17>>0]=0,j2(Xf(s,g)|0,d,o),(Y[d+11>>0]|0)<0&&Ae(e[d>>2]|0),o=It(32)|0,e[d>>2]=o,e[d+8>>2]=-2147483616,e[d+4>>2]=19,m=o,b=13005,w=m+19|0;do Y[m>>0]=Y[b>>0]|0,m=m+1|0,b=b+1|0;while((m|0)<(w|0));Y[o+19>>0]=0,vL(Xf(s,g)|0,d,f,l),(Y[d+11>>0]|0)<0&&Ae(e[d>>2]|0),l=It(32)|0,e[d>>2]=l,e[d+8>>2]=-2147483616,e[d+4>>2]=18,m=l,b=13025,w=m+18|0;do Y[m>>0]=Y[b>>0]|0,m=m+1|0,b=b+1|0;while((m|0)<(w|0));if(Y[l+18>>0]=0,OP(Xf(s,g)|0,d,h),(Y[d+11>>0]|0)>=0){q=u;return}Ae(e[d>>2]|0),q=u}function rs(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0;if(l=o,f=s,h=l-f|0,u=h>>2,g=i+8|0,d=e[g>>2]|0,m=e[i>>2]|0,b=m,u>>>0<=d-m>>2>>>0)if(w=i+4|0,x=(e[w>>2]|0)-m>>2,C=u>>>0>x>>>0,S=C?s+(x<<2)|0:o,o=S,x=o-f|0,f=x>>2,f|0&&Q0(m|0,s|0,x|0)|0,x=b+(f<<2)|0,C){if(C=l-o|0,(C|0)<=0)return;Fi(e[w>>2]|0,S|0,C|0)|0,e[w>>2]=(e[w>>2]|0)+(C>>>2<<2);return}else{if(C=e[w>>2]|0,(C|0)==(x|0))return;e[w>>2]=C+(~((C+-4-x|0)>>>2)<<2);return}x=m,m?(d=i+4|0,C=e[d>>2]|0,(C|0)!=(b|0)&&(e[d>>2]=C+(~((C+-4-m|0)>>>2)<<2)),Ae(x),e[g>>2]=0,e[d>>2]=0,e[i>>2]=0,D=0):D=d,u>>>0>1073741823&&qe(),d=D>>1,x=D>>2>>>0<536870911?d>>>0<u>>>0?u:d:1073741823,x>>>0>1073741823&&qe(),d=It(x<<2)|0,u=i+4|0,e[u>>2]=d,e[i>>2]=d,e[g>>2]=d+(x<<2),!((h|0)<=0)&&(Fi(d|0,s|0,h|0)|0,e[u>>2]=d+(h>>>2<<2))}function Ls(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0;f=q,q=q+16|0,h=f,u=o+1|0,e[h>>2]=0,g=h+4|0,e[g>>2]=0,e[h+8>>2]=0;do if(u)if(u>>>0>1073741823)qe();else{d=It(u<<2)|0,e[h>>2]=d,m=d+(u<<2)|0,e[h+8>>2]=m,Tr(d|0,0,(o<<2)+4|0)|0,e[g>>2]=m,b=d,w=m,x=d;break}else b=0,w=0,x=0;while(0);if((s|0)>0){h=0;do d=b+(e[i+(h<<2)>>2]<<2)|0,e[d>>2]=(e[d>>2]|0)+1,h=h+1|0;while((h|0)!=(s|0))}if(C=+(s|0),(o|0)<0)S=0,D=0;else for(o=0,I=0,s=0;;)if(h=e[b+(s<<2)>>2]|0,L=+(h|0),(h|0)>0?(P=o+1|0,N=I+ +V0(L/C)*L):(P=o,N=I),s=s+1|0,(s|0)==(u|0)){S=P,D=N;break}else o=P,I=N;return l|0&&(e[l>>2]=S),N=-D,S=~~N>>>0,l=+u0(N)>=1?N>0?~~+n0(+bn(N/4294967296),4294967295)>>>0:~~+yi((N-+(~~N>>>0))/4294967296)>>>0:0,b?((w|0)!=(b|0)&&(e[g>>2]=w+(~((w+-4-b|0)>>>2)<<2)),Ae(x),Ze=l,q=f,S|0):(Ze=l,q=f,S|0)}function Ps(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0;if(s=q,q=q+16|0,o=s+4|0,l=s,f=i+8|0,h=i+12|0,u=e[h>>2]|0,ol(e[i+4>>2]|0,(e[u+28>>2]|0)-(e[u+24>>2]|0)>>2),u=i+76|0,i=e[u>>2]|0,i){if(g=e[i>>2]|0,(e[i+4>>2]|0)==(g|0))return d=1,q=s,d|0;for(i=0,h=g;;){if(e[l>>2]=e[h+(i<<2)>>2],e[o>>2]=e[l>>2],i=i+1|0,!(rk(f,o)|0)){d=0,m=10;break}if(g=e[u>>2]|0,h=e[g>>2]|0,i>>>0>=(e[g+4>>2]|0)-h>>2>>>0){d=1,m=10;break}}if((m|0)==10)return q=s,d|0}else{if(g=e[h>>2]|0,h=(e[g+4>>2]|0)-(e[g>>2]|0)>>2,g=(h>>>0)/3|0,h>>>0<=2)return d=1,q=s,d|0;for(h=0;;){if(e[l>>2]=h*3,e[o>>2]=e[l>>2],h=h+1|0,!(rk(f,o)|0)){d=0,m=10;break}if((h|0)>=(g|0)){d=1,m=10;break}}if((m|0)==10)return q=s,d|0}return 0}function ys(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;if(l=q,q=q+16|0,f=l+4|0,h=l,u=It(32)|0,e[i>>2]=u,e[i+4>>2]=s+4,s=i+8|0,Y[s>>0]=0,e[u+16>>2]=e[o>>2],i=u+20|0,e[u+24>>2]=0,e[u+28>>2]=0,g=u+24|0,e[i>>2]=g,u=e[o+4>>2]|0,d=o+8|0,(u|0)==(d|0)){Y[s>>0]=1,q=l;return}for(o=g,g=u;;){if(u=g+16|0,e[h>>2]=o,e[f>>2]=e[h>>2],__(i,f,u,u)|0,u=e[g+4>>2]|0,u){for(b=u;x=e[b>>2]|0,x;)b=x;w=b}else if(m=g+8|0,b=e[m>>2]|0,(e[b>>2]|0)==(g|0))w=b;else{b=m;do m=e[b>>2]|0,b=m+8|0,x=e[b>>2]|0;while((e[x>>2]|0)!=(m|0));w=x}if((w|0)==(d|0))break;g=w}Y[s>>0]=1,q=l}function Fo(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0;l=q,q=q+16|0,f=l,e[f>>2]=s,h=i+8|0,((e[i+12>>2]|0)-(e[h>>2]|0)>>2|0)<=(s|0)&&zI(h,s+1|0),u=e[(e[o>>2]|0)+56>>2]|0;do if((u|0)<5)if(g=i+20+(u*12|0)+4|0,d=e[g>>2]|0,(d|0)==(e[i+20+(u*12|0)+8>>2]|0)){pi(i+20+(u*12|0)|0,f);break}else{e[d>>2]=s,e[g>>2]=d+4;break}while(0);if(s=e[o>>2]|0,u=e[f>>2]|0,e[s+60>>2]=u,f=(e[h>>2]|0)+(u<<2)|0,e[o>>2]=0,o=e[f>>2]|0,e[f>>2]=s,!o){q=l;return}s=o+88|0,f=e[s>>2]|0,e[s>>2]=0,f|0&&(s=e[f+8>>2]|0,s|0&&(u=f+12|0,(e[u>>2]|0)!=(s|0)&&(e[u>>2]=s),Ae(s)),Ae(f)),f=e[o+68>>2]|0,f|0&&(s=o+72|0,u=e[s>>2]|0,(u|0)!=(f|0)&&(e[s>>2]=u+(~((u+-4-f|0)>>>2)<<2)),Ae(f)),f=o+64|0,u=e[f>>2]|0,e[f>>2]=0,u|0&&(f=e[u>>2]|0,f|0&&(s=u+4|0,(e[s>>2]|0)!=(f|0)&&(e[s>>2]=f),Ae(f)),Ae(u)),Ae(o),q=l}function Uc(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0;l=q,q=q+48|0,f=l+16|0,h=l,u=l+32|0,g=i+28|0,d=e[g>>2]|0,e[u>>2]=d,m=i+20|0,b=(e[m>>2]|0)-d|0,e[u+4>>2]=b,e[u+8>>2]=s,e[u+12>>2]=o,s=b+o|0,b=i+60|0,e[h>>2]=e[b>>2],e[h+4>>2]=u,e[h+8>>2]=2,d=r4(Jb(146,h|0)|0)|0;e:do if((s|0)!=(d|0)){for(h=2,w=s,x=u,C=d;!((C|0)<0);)if(w=w-C|0,S=e[x+4>>2]|0,D=C>>>0>S>>>0,I=D?x+8|0:x,L=h+(D<<31>>31)|0,P=C-(D?S:0)|0,e[I>>2]=(e[I>>2]|0)+P,S=I+4|0,e[S>>2]=(e[S>>2]|0)-P,e[f>>2]=e[b>>2],e[f+4>>2]=I,e[f+8>>2]=L,C=r4(Jb(146,f|0)|0)|0,(w|0)==(C|0)){N=3;break e}else h=L,x=I;e[i+16>>2]=0,e[g>>2]=0,e[m>>2]=0,e[i>>2]=e[i>>2]|32,(h|0)==2?X=0:X=o-(e[x+4>>2]|0)|0}else N=3;while(0);return(N|0)==3&&(N=e[i+44>>2]|0,e[i+16>>2]=N+(e[i+48>>2]|0),i=N,e[g>>2]=i,e[m>>2]=i,X=o),q=l,X|0}function xa(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0;if(e[i>>2]=5880,s=e[i+68>>2]|0,s|0&&(o=i+72|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+56>>2]|0,s|0&&(l=i+60|0,o=e[l>>2]|0,(o|0)!=(s|0)&&(e[l>>2]=o+(~((o+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+44>>2]|0,s|0&&(o=i+48|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+32>>2]|0,s|0&&(l=i+36|0,o=e[l>>2]|0,(o|0)!=(s|0)&&(e[l>>2]=o+(~((o+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+20>>2]|0,s|0&&(o=i+24|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),B_(i+8|0),s=i+4|0,i=e[s>>2]|0,e[s>>2]=0,!!i){if(s=i+40|0,l=e[s>>2]|0,l|0){if(o=i+44|0,f=e[o>>2]|0,(f|0)==(l|0))h=l;else{u=f;do f=u+-4|0,e[o>>2]=f,g=e[f>>2]|0,e[f>>2]=0,g|0&&(Kf(g),Ae(g)),u=e[o>>2]|0;while((u|0)!=(l|0));h=e[s>>2]|0}Ae(h)}Kf(i),Ae(i)}}function Mo(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0;if(s=i+12|0,o=e[i>>2]|0,l=i+8|0,f=e[l>>2]|0,h=(f|0)==-1,!(Y[s>>0]|0)){do if(!h&&(u=(((f>>>0)%3|0|0)==0?2:-1)+f|0,(u|0)!=-1)&&(e[(e[o>>2]|0)+(u>>>5<<2)>>2]&1<<(u&31)|0)==0&&(g=e[(e[(e[o+64>>2]|0)+12>>2]|0)+(u<<2)>>2]|0,(g|0)!=-1))if((g>>>0)%3|0){d=g+-1|0;break}else{d=g+2|0;break}else d=-1;while(0);e[l>>2]=d;return}if(d=f+1|0,!h&&(h=((d>>>0)%3|0|0)==0?f+-2|0:d,(h|0)!=-1)&&(e[(e[o>>2]|0)+(h>>>5<<2)>>2]&1<<(h&31)|0)==0&&(d=e[(e[(e[o+64>>2]|0)+12>>2]|0)+(h<<2)>>2]|0,h=d+1|0,(d|0)!=-1)){if(f=((h>>>0)%3|0|0)==0?d+-2|0:h,e[l>>2]=f,(f|0)!=-1){if((f|0)!=(e[i+4>>2]|0))return;e[l>>2]=-1;return}}else e[l>>2]=-1;f=e[i+4>>2]|0;do if((f|0)!=-1&&(i=(((f>>>0)%3|0|0)==0?2:-1)+f|0,(i|0)!=-1)&&(e[(e[o>>2]|0)+(i>>>5<<2)>>2]&1<<(i&31)|0)==0&&(h=e[(e[(e[o+64>>2]|0)+12>>2]|0)+(i<<2)>>2]|0,(h|0)!=-1))if((h>>>0)%3|0){m=h+-1|0;break}else{m=h+2|0;break}else m=-1;while(0);e[l>>2]=m,Y[s>>0]=0}function Ea(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;o=i+4|0,l=e[i>>2]|0,f=(e[o>>2]|0)-l>>2,h=f+1|0,h>>>0>1073741823&&qe(),u=i+8|0,g=(e[u>>2]|0)-l|0,l=g>>1,d=g>>2>>>0<536870911?l>>>0<h>>>0?h:l:1073741823;do if(d)if(d>>>0>1073741823)l=An(8)|0,c0(l,14941),e[l>>2]=6944,yn(l|0,1080,114);else{m=It(d<<2)|0;break}else m=0;while(0);if(l=m+(f<<2)|0,f=l,h=m+(d<<2)|0,d=e[s>>2]|0,e[s>>2]=0,e[l>>2]=d,d=l+4|0,s=e[i>>2]|0,m=e[o>>2]|0,(m|0)==(s|0))b=f,w=s,x=s;else{g=m,m=f,f=l;do g=g+-4|0,l=e[g>>2]|0,e[g>>2]=0,e[f+-4>>2]=l,f=m+-4|0,m=f;while((g|0)!=(s|0));b=m,w=e[i>>2]|0,x=e[o>>2]|0}if(e[i>>2]=b,e[o>>2]=d,e[u>>2]=h,h=w,(x|0)!=(h|0)){u=x;do u=u+-4|0,x=e[u>>2]|0,e[u>>2]=0,x|0&&On[e[(e[x>>2]|0)+4>>2]&127](x);while((u|0)!=(h|0))}!w||Ae(w)}function Y0(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0;o=i+4|0,i=e[o>>2]|0;do if(i|0){l=Y[s+11>>0]|0,f=l<<24>>24<0,h=f?e[s+4>>2]|0:l&255,l=f?e[s>>2]|0:s,f=o,u=i;e:for(;;){for(g=u;;){if(d=g+16|0,m=Y[d+11>>0]|0,b=m<<24>>24<0,w=b?e[g+20>>2]|0:m&255,m=h>>>0<w>>>0?h:w,(m|0)!=0&&(x=vs(b?e[d>>2]|0:d,l,m)|0,(x|0)!=0)){if((x|0)>=0)break}else C=6;if((C|0)==6&&(C=0,w>>>0>=h>>>0))break;if(w=e[g+4>>2]|0,w)g=w;else{S=f;break e}}if(u=e[g>>2]|0,u)f=g;else{S=g;break}}if((S|0)!=(o|0)){if(f=S+16|0,u=Y[f+11>>0]|0,w=u<<24>>24<0,x=w?e[S+20>>2]|0:u&255,u=x>>>0<h>>>0?x:h,u|0&&(m=vs(l,w?e[f>>2]|0:f,u)|0,m|0)){if((m|0)<0)break;return D=S,D|0}if(h>>>0>=x>>>0)return D=S,D|0}}while(0);return D=o,D|0}function U2(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0;if(l=i+8|0,f=e[l>>2]|0,h=i+4|0,u=e[h>>2]|0,((f-u|0)/12|0)>>>0>=s>>>0){g=s,d=u;do e[d>>2]=e[o>>2],e[d+4>>2]=e[o+4>>2],e[d+8>>2]=e[o+8>>2],d=(e[h>>2]|0)+12|0,e[h>>2]=d,g=g+-1|0;while((g|0)!=0);return}g=e[i>>2]|0,d=(u-g|0)/12|0,u=d+s|0,u>>>0>357913941&&qe(),m=(f-g|0)/12|0,g=m<<1,f=m>>>0<178956970?g>>>0<u>>>0?u:g:357913941;do if(f)if(f>>>0>357913941)g=An(8)|0,c0(g,14941),e[g>>2]=6944,yn(g|0,1080,114);else{b=It(f*12|0)|0;break}else b=0;while(0);g=b+(d*12|0)|0,d=b+(f*12|0)|0,f=s,s=g,b=g;do e[s>>2]=e[o>>2],e[s+4>>2]=e[o+4>>2],e[s+8>>2]=e[o+8>>2],s=b+12|0,b=s,f=f+-1|0;while((f|0)!=0);f=e[i>>2]|0,s=(e[h>>2]|0)-f|0,o=g+(((s|0)/-12|0)*12|0)|0,(s|0)>0&&Fi(o|0,f|0,s|0)|0,e[i>>2]=o,e[h>>2]=b,e[l>>2]=d,f&&Ae(f)}function lf(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;o=i+4|0,l=e[i>>2]|0,f=(e[o>>2]|0)-l>>2,h=f+1|0,h>>>0>1073741823&&qe(),u=i+8|0,g=(e[u>>2]|0)-l|0,l=g>>1,d=g>>2>>>0<536870911?l>>>0<h>>>0?h:l:1073741823;do if(d)if(d>>>0>1073741823)l=An(8)|0,c0(l,14941),e[l>>2]=6944,yn(l|0,1080,114);else{m=It(d<<2)|0;break}else m=0;while(0);if(l=m+(f<<2)|0,f=l,h=m+(d<<2)|0,d=e[s>>2]|0,e[s>>2]=0,e[l>>2]=d,d=l+4|0,s=e[i>>2]|0,m=e[o>>2]|0,(m|0)==(s|0))b=f,w=s,x=s;else{g=m,m=f,f=l;do g=g+-4|0,l=e[g>>2]|0,e[g>>2]=0,e[f+-4>>2]=l,f=m+-4|0,m=f;while((g|0)!=(s|0));b=m,w=e[i>>2]|0,x=e[o>>2]|0}if(e[i>>2]=b,e[o>>2]=d,e[u>>2]=h,h=w,(x|0)!=(h|0)){u=x;do u=u+-4|0,x=e[u>>2]|0,e[u>>2]=0,x|0&&(Kf(x),Ae(x));while((u|0)!=(h|0))}!w||Ae(w)}function Tn(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;return f=e[s>>2]|0,h=e[i>>2]|0,u=e[l>>2]|0,l=e[u>>2]|0,g=(e[u+4>>2]|0)-l>>3,g>>>0<=f>>>0&&qe(),d=l,g>>>0<=h>>>0&&qe(),l=e[d+(f<<3)>>2]|0,m=e[o>>2]|0,g>>>0<=m>>>0&&qe(),b=d+(h<<3)|0,w=(e[d+(m<<3)>>2]|0)>>>0<l>>>0,l>>>0<(e[b>>2]|0)>>>0?w?(e[i>>2]=m,e[o>>2]=h,x=1,x|0):(e[i>>2]=f,e[s>>2]=h,l=e[o>>2]|0,g>>>0<=l>>>0&&qe(),(e[d+(l<<3)>>2]|0)>>>0>=(e[b>>2]|0)>>>0?(x=1,x|0):(e[s>>2]=l,e[o>>2]=h,x=2,x|0)):w?(e[s>>2]=m,e[o>>2]=f,f=e[s>>2]|0,o=e[i>>2]|0,g>>>0<=f>>>0&&qe(),g>>>0<=o>>>0&&qe(),(e[d+(f<<3)>>2]|0)>>>0>=(e[d+(o<<3)>>2]|0)>>>0?(x=1,x|0):(e[i>>2]=f,e[s>>2]=o,x=2,x|0)):(x=0,x|0)}function Yf(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0;f=q,q=q+96|0,h=f+40|0,u=f,Wk(h,o),P2(u,s,o),M_(h,u),hs(u+24|0,e[u+28>>2]|0),ju(u+12|0,e[u+16>>2]|0),hs(u,e[u+4>>2]|0),Y6(i,h,l),e[h>>2]=2968,hs(h+28|0,e[h+32>>2]|0),ju(h+16|0,e[h+20>>2]|0),hs(h+4|0,e[h+8>>2]|0),q=f}function Oo(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0;if(i=q,q=q+16|0,f=i,!s)return h=0,q=i,h|0;if(u=s+96|0,g=s+100|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,s=e[g>>2]|0,d=e[u>>2]|0,m=(s-d|0)/12|0,b=d,d=s,m>>>0>=o>>>0){if(m>>>0>o>>>0&&(s=b+(o*12|0)|0,(s|0)!=(d|0))&&(e[g>>2]=d+(~(((d+-12-s|0)>>>0)/12|0)*12|0)),!o)return h=1,q=i,h|0}else U2(u,o-m|0,f);for(m=0,s=e[u>>2]|0;;)if(d=m*3|0,b=e[l+(d<<2)>>2]|0,w=e[l+(d+1<<2)>>2]|0,x=e[l+(d+2<<2)>>2]|0,d=((e[g>>2]|0)-s|0)/12|0,C=m,m=m+1|0,C>>>0<d>>>0?(S=s,D=s):(e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,U2(u,m-d|0,f),d=e[u>>2]|0,S=d,D=d),e[S+(C*12|0)>>2]=b,e[S+(C*12|0)+4>>2]=w,e[S+(C*12|0)+8>>2]=x,(m|0)==(o|0)){h=1;break}else s=D;return q=i,h|0}function V0(i){i=+i;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0;N0[En>>3]=i,s=e[En>>2]|0,o=e[En+4>>2]|0,l=(o|0)<0;do if(l|o>>>0<1048576){if((s|0)==0&(o&2147483647|0)==0){f=-1/(i*i);break}if(l){f=(i-i)/0;break}else{N0[En>>3]=i*0x40000000000000,h=e[En+4>>2]|0,u=-1077,g=h,d=e[En>>2]|0,m=9;break}}else o>>>0<=2146435071?(s|0)==0&!0&(o|0)==1072693248?f=0:(u=-1023,g=o,d=s,m=9):f=i;while(0);return(m|0)==9&&(m=g+614242|0,e[En>>2]=d,e[En+4>>2]=(m&1048575)+1072079006,i=+N0[En>>3]+-1,b=i*i*.5,w=i/(i+2),x=w*w,C=x*x,N0[En>>3]=i-b,d=e[En+4>>2]|0,e[En>>2]=0,e[En+4>>2]=d,S=+N0[En>>3],D=i-S-b+w*(b+(C*(C*(C*.15313837699209373+.22222198432149784)+.3999999999940942)+x*(C*(C*(C*.14798198605116586+.1818357216161805)+.2857142874366239)+.6666666666666735))),C=S*1.4426950407214463,x=+(u+(m>>>20)|0),b=C+x,f=b+(C+(x-b)+(D*1.4426950407214463+(D+S)*16751713164886512e-26))),+f}function Cm(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0;o=q,q=q+16|0,l=o,f=It(32)|0,e[l>>2]=f,e[l+8>>2]=-2147483616,e[l+4>>2]=17,h=f,u=12804,g=h+17|0;do Y[h>>0]=Y[u>>0]|0,h=h+1|0,u=u+1|0;while((h|0)<(g|0));if(Y[f+17>>0]=0,f=s+16|0,u=e[f>>2]|0,u){h=f,g=u;e:for(;;){for(u=g;!((e[u+16>>2]|0)>=(i|0));)if(d=e[u+4>>2]|0,d)u=d;else{m=h;break e}if(g=e[u>>2]|0,g)h=u;else{m=u;break}}(m|0)!=(f|0)&&(e[m+16>>2]|0)<=(i|0)&&(i=m+20|0,(go(i,l)|0)!=0)?b=i:w=10}else w=10;return(w|0)==10&&(b=s),s=bo(b,l,-1)|0,(Y[l+11>>0]|0)>=0?(x=(s|0)==-1,C=s>>>0>6,S=C?-2:s,D=x?-1:S,q=o,D|0):(Ae(e[l>>2]|0),x=(s|0)==-1,C=s>>>0>6,S=C?-2:s,D=x?-1:S,q=o,D|0)}function MI(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0;if(l=q,q=q+16|0,f=l,h=e[o>>2]|0,e[o>>2]=0,e[f>>2]=h,Fo(i,s,f),h=e[f>>2]|0,e[f>>2]=0,h|0&&(f=h+88|0,o=e[f>>2]|0,e[f>>2]=0,o|0&&(f=e[o+8>>2]|0,f|0&&(u=o+12|0,(e[u>>2]|0)!=(f|0)&&(e[u>>2]=f),Ae(f)),Ae(o)),o=e[h+68>>2]|0,o|0&&(f=h+72|0,u=e[f>>2]|0,(u|0)!=(o|0)&&(e[f>>2]=u+(~((u+-4-o|0)>>>2)<<2)),Ae(o)),o=h+64|0,u=e[o>>2]|0,e[o>>2]=0,u|0&&(o=e[u>>2]|0,o|0&&(f=u+4|0,(e[f>>2]|0)!=(o|0)&&(e[f>>2]=o),Ae(o)),Ae(u)),Ae(h)),h=i+84|0,u=i+88|0,i=e[u>>2]|0,o=e[h>>2]|0,f=i-o>>2,(f|0)>(s|0)){q=l;return}if(g=s+1|0,s=i,g>>>0>f>>>0){QI(h,g-f|0),q=l;return}if(g>>>0>=f>>>0){q=l;return}if(f=o+(g<<2)|0,(f|0)==(s|0)){q=l;return}e[u>>2]=s+(~((s+-4-f|0)>>>2)<<2),q=l}function RI(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0;o=q,q=q+16|0,l=o,f=i+4|0,e[f>>2]=s,e[i+8>>2]=e[s+56>>2],h=e[i+184>>2]|0,u=i+188|0,g=e[u>>2]|0,(g|0)!=(h|0)&&(e[u>>2]=g+(~((g+-4-h|0)>>>2)<<2)),h=e[s+48>>2]|0,s=It(32)|0,e[l>>2]=s,e[l+8>>2]=-2147483616,e[l+4>>2]=19,g=s,u=14285,d=g+19|0;do Y[g>>0]=Y[u>>0]|0,g=g+1|0,u=u+1|0;while((g|0)<(d|0));if(Y[s+19>>0]=0,s=(go(h,l)|0)==0,(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0),h=e[(e[f>>2]|0)+48>>2]|0,s)return s=(sl(h)|0)>5&1,Y[i+352>>0]=s,q=o,1;s=It(32)|0,e[l>>2]=s,e[l+8>>2]=-2147483616,e[l+4>>2]=19,g=s,u=14285,d=g+19|0;do Y[g>>0]=Y[u>>0]|0,g=g+1|0,u=u+1|0;while((g|0)<(d|0));return Y[s+19>>0]=0,s=(G2(h,l,0)|0)&1,Y[i+352>>0]=s,(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0),q=o,1}function A_(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0;if(s=i+108|0,o=(e[i+112>>2]|0)-(e[s>>2]|0)|0,l=(o|0)/12|0,f=i+4|0,p0(l,e[(e[f>>2]|0)+44>>2]|0)|0,!o)return 1;for(o=0,i=0;h=e[s>>2]|0,u=h+(o*12|0)+4|0,p0((e[u>>2]|0)-i|0,e[(e[f>>2]|0)+44>>2]|0)|0,p0((e[u>>2]|0)-(e[h+(o*12|0)>>2]|0)|0,e[(e[f>>2]|0)+44>>2]|0)|0,o=o+1|0,!(o>>>0>=l>>>0);)i=e[u>>2]|0;q6(e[(e[f>>2]|0)+44>>2]|0,l,0,0)|0,i=0;do o=e[(e[f>>2]|0)+44>>2]|0,u=o+16|0,h=e[u+4>>2]|0,(h|0)>0|(h|0)==0&(e[u>>2]|0)>>>0>0&&(u=e[o+12>>2]|0,o=u+4|0,h=e[o>>2]|0,g=Y[(e[s>>2]|0)+(i*12|0)+8>>0]&1,d=h>>>3,m=h&7,h=(e[u>>2]|0)+d|0,Y[h>>0]=(1<<m^255)&(br[h>>0]|0),h=(e[u>>2]|0)+d|0,Y[h>>0]=g<<m|(br[h>>0]|0),e[o>>2]=(e[o>>2]|0)+1),i=i+1|0;while(i>>>0<l>>>0);return z(e[(e[f>>2]|0)+44>>2]|0),1}function DI(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0;o=q,q=q+16|0,l=o,f=i+4|0,e[f>>2]=s,e[i+8>>2]=e[s+56>>2],h=e[i+184>>2]|0,u=i+188|0,g=e[u>>2]|0,(g|0)!=(h|0)&&(e[u>>2]=g+(~((g+-4-h|0)>>>2)<<2)),h=e[s+48>>2]|0,s=It(32)|0,e[l>>2]=s,e[l+8>>2]=-2147483616,e[l+4>>2]=19,g=s,u=14285,d=g+19|0;do Y[g>>0]=Y[u>>0]|0,g=g+1|0,u=u+1|0;while((g|0)<(d|0));if(Y[s+19>>0]=0,s=(go(h,l)|0)==0,(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0),h=e[(e[f>>2]|0)+48>>2]|0,s)return s=(sl(h)|0)>5&1,Y[i+288>>0]=s,q=o,1;s=It(32)|0,e[l>>2]=s,e[l+8>>2]=-2147483616,e[l+4>>2]=19,g=s,u=14285,d=g+19|0;do Y[g>>0]=Y[u>>0]|0,g=g+1|0,u=u+1|0;while((g|0)<(d|0));return Y[s+19>>0]=0,s=(G2(h,l,0)|0)&1,Y[i+288>>0]=s,(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0),q=o,1}function BI(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0;if(h=q,q=q+32|0,u=h+16|0,g=h+8|0,d=h,m=l-f|0,l=i+8|0,(m|0)>0){i=0-f|0,b=g+4|0,w=d+4|0,x=u+4|0,C=m;do m=s+(C<<2)|0,S=m+(i<<2)|0,D=o+(C<<2)|0,I=e[m+4>>2]|0,L=e[S>>2]|0,P=e[S+4>>2]|0,e[g>>2]=e[m>>2],e[b>>2]=I,e[d>>2]=L,e[w>>2]=P,Is(u,l,g,d),e[D>>2]=e[u>>2],e[D+4>>2]=e[x>>2],C=C-f|0;while((C|0)>0)}return C=f>>>0>1073741823?-1:f<<2,f=Fl(C)|0,Tr(f|0,0,C|0)|0,C=e[s+4>>2]|0,x=e[f>>2]|0,w=e[f+4>>2]|0,e[g>>2]=e[s>>2],e[g+4>>2]=C,e[d>>2]=x,e[d+4>>2]=w,Is(u,l,g,d),e[o>>2]=e[u>>2],e[o+4>>2]=e[u+4>>2],F0(f),q=h,1}function x_(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0;o=q,q=q+32|0,l=o+12|0,f=o,h=e[s+100>>2]|0,u=e[s+96>>2]|0,s=h-u|0,g=(s|0)/12|0,e[l>>2]=0,d=l+4|0,e[d>>2]=0,e[l+8>>2]=0,m=u;do if(s)if(g>>>0>357913941)qe();else{b=It(s)|0,e[l>>2]=b,e[l+8>>2]=b+(g*12|0),Tr(b|0,0,s|0)|0,e[d>>2]=b+s,w=b;break}else w=0;while(0);if(e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,(h|0)!=(u|0)){u=f+4|0,h=f+8|0,s=0;do b=m+(s*12|0)|0,e[f>>2]=e[b>>2],e[f+4>>2]=e[b+4>>2],e[f+8>>2]=e[b+8>>2],e[w+(s*12|0)>>2]=e[f>>2],e[w+(s*12|0)+4>>2]=e[u>>2],e[w+(s*12|0)+8>>2]=e[h>>2],s=s+1|0;while(s>>>0<g>>>0)}if(dk(i,l),i=e[l>>2]|0,!i){q=o;return}l=e[d>>2]|0,(l|0)!=(i|0)&&(e[d>>2]=l+(~(((l+-12-i|0)>>>0)/12|0)*12|0)),Ae(i),q=o}function V6(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0;s>>>0>4294967279&&qe(),o=i+11|0,l=Y[o>>0]|0,f=l<<24>>24<0,f?(h=e[i+4>>2]|0,u=(e[i+8>>2]&2147483647)+-1|0):(h=l&255,u=10),g=h>>>0>s>>>0?h:s,s=g>>>0<11,d=s?10:(g+16&-16)+-1|0;do if((d|0)!=(u|0)){do if(s)g=e[i>>2]|0,f?(m=0,b=g,w=i,x=13):(eu(i,g,(l&255)+1|0)|0,Ae(g),x=16);else if(g=d+1|0,C=It(g)|0,f){m=1,b=e[i>>2]|0,w=C,x=13;break}else{eu(C,i,(l&255)+1|0)|0,S=C,D=g,I=i+4|0,x=15;break}while(0);if((x|0)==13&&(g=i+4|0,eu(w,b,(e[g>>2]|0)+1|0)|0,Ae(b),m?(S=w,D=d+1|0,I=g,x=15):x=16),(x|0)==15){e[i+8>>2]=D|-2147483648,e[I>>2]=h,e[i>>2]=S;break}else if((x|0)==16){Y[o>>0]=h;break}}while(0)}function II(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0;if(o=e[s>>2]|0,(o|0)==-1)return l=-1,l|0;if(s=e[(e[i+24>>2]|0)+(o<<2)>>2]|0,(s|0)==-1)return l=0,l|0;o=i+12|0,i=0,f=0,h=s;e:for(;;){t:do if(f){if(u=i+1|0,g=(((h>>>0)%3|0|0)==0?2:-1)+h|0,(g|0)==-1){l=u,d=15;break e}if(m=e[(e[o>>2]|0)+(g<<2)>>2]|0,(m|0)==-1){l=u,d=15;break e}if((m>>>0)%3|0){b=m+-1|0,w=u;break}else{b=m+2|0,w=u;break}}else for(u=i,m=h;;){if(g=u+1|0,x=m+1|0,C=((x>>>0)%3|0|0)==0?m+-2|0:x,(C|0)==-1){b=s,w=g;break t}if(x=e[(e[o>>2]|0)+(C<<2)>>2]|0,C=x+1|0,(x|0)==-1){b=s,w=g;break t}if(m=((C>>>0)%3|0|0)==0?x+-2|0:C,(m|0)==-1){b=s,w=g;break t}if((m|0)==(s|0)){l=g,d=15;break e}else u=g}while(0);if((b|0)==-1){l=w,d=15;break}else i=w,f=1,h=b}return(d|0)==15?l|0:0}function Ho(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0;if(l=i+8|0,Tn(i,i+4|0,l,o)|0,f=i+12|0,(f|0)==(s|0))return;h=e[o>>2]|0,o=e[h>>2]|0,u=(e[h+4>>2]|0)-o>>3,g=o,o=f,f=l;e:for(;;){if(l=e[o>>2]|0,d=e[f>>2]|0,u>>>0<=l>>>0){m=5;break}if(u>>>0<=d>>>0){m=7;break}if(b=g+(l<<3)|0,(e[b>>2]|0)>>>0<(e[g+(d<<3)>>2]|0)>>>0){for(w=f,x=o,C=d;;){if(e[x>>2]=C,(w|0)==(i|0)){S=i;break}if(d=w+-4|0,C=e[d>>2]|0,u>>>0<=C>>>0){m=11;break e}if((e[b>>2]|0)>>>0>=(e[g+(C<<3)>>2]|0)>>>0){S=w;break}else D=w,w=d,x=D}e[S>>2]=l}if(x=o+4|0,(x|0)==(s|0)){m=3;break}else w=o,o=x,f=w}(m|0)!=3&&((m|0)==5||(m|0)==7||(m|0)==11)&&qe()}function po(i,s,o,l,f){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0;var h=0,u=0,g=0,d=0,m=0,b=0,w=0;return h=Tn(i,s,o,f)|0,u=e[l>>2]|0,g=e[o>>2]|0,d=e[f>>2]|0,f=e[d>>2]|0,m=(e[d+4>>2]|0)-f>>3,m>>>0<=u>>>0&&qe(),b=f,m>>>0<=g>>>0&&qe(),(e[b+(u<<3)>>2]|0)>>>0>=(e[b+(g<<3)>>2]|0)>>>0?(w=h,w|0):(e[o>>2]=u,e[l>>2]=g,g=e[o>>2]|0,l=e[s>>2]|0,m>>>0<=g>>>0&&qe(),m>>>0<=l>>>0&&qe(),(e[b+(g<<3)>>2]|0)>>>0>=(e[b+(l<<3)>>2]|0)>>>0?(w=h+1|0,w|0):(e[s>>2]=g,e[o>>2]=l,l=e[s>>2]|0,o=e[i>>2]|0,m>>>0<=l>>>0&&qe(),m>>>0<=o>>>0&&qe(),(e[b+(l<<3)>>2]|0)>>>0>=(e[b+(o<<3)>>2]|0)>>>0?(w=h+2|0,w|0):(e[i>>2]=l,e[s>>2]=o,w=h+3|0,w|0)))}function Fi(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0;if((o|0)>=8192)return s6(i|0,s|0,o|0)|0;if(l=i|0,f=i+o|0,(i&3)==(s&3)){for(;i&3;){if(!o)return l|0;Y[i>>0]=Y[s>>0]|0,i=i+1|0,s=s+1|0,o=o-1|0}for(h=f&-4|0,o=h-64|0;(i|0)<=(o|0);)e[i>>2]=e[s>>2],e[i+4>>2]=e[s+4>>2],e[i+8>>2]=e[s+8>>2],e[i+12>>2]=e[s+12>>2],e[i+16>>2]=e[s+16>>2],e[i+20>>2]=e[s+20>>2],e[i+24>>2]=e[s+24>>2],e[i+28>>2]=e[s+28>>2],e[i+32>>2]=e[s+32>>2],e[i+36>>2]=e[s+36>>2],e[i+40>>2]=e[s+40>>2],e[i+44>>2]=e[s+44>>2],e[i+48>>2]=e[s+48>>2],e[i+52>>2]=e[s+52>>2],e[i+56>>2]=e[s+56>>2],e[i+60>>2]=e[s+60>>2],i=i+64|0,s=s+64|0;for(;(i|0)<(h|0);)e[i>>2]=e[s>>2],i=i+4|0,s=s+4|0}else for(h=f-4|0;(i|0)<(h|0);)Y[i>>0]=Y[s>>0]|0,Y[i+1>>0]=Y[s+1>>0]|0,Y[i+2>>0]=Y[s+2>>0]|0,Y[i+3>>0]=Y[s+3>>0]|0,i=i+4|0,s=s+4|0;for(;(i|0)<(f|0);)Y[i>>0]=Y[s>>0]|0,i=i+1|0,s=s+1|0;return l|0}function E_(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0;if(o=q,q=q+16|0,l=o+4|0,f=o,e[i>>2]=1216,h=i+4|0,e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=0,e[h+12>>2]=0,e[h+16>>2]=0,e[h+20>>2]=0,e[h+24>>2]=0,e[h+28>>2]=0,e[l>>2]=s,s=i+4|0,h=i+8|0,pi(s,l),u=e[l>>2]|0,g=i+20|0,d=e[g>>2]|0,m=i+16|0,i=e[m>>2]|0,b=d-i>>2,w=i,(u|0)<(b|0)){x=w,C=u,S=e[h>>2]|0,D=e[s>>2]|0,I=S-D|0,L=I>>2,P=L+-1|0,N=x+(C<<2)|0,e[N>>2]=P,q=o;return}i=u+1|0,e[f>>2]=-1,X=d,i>>>0<=b>>>0?i>>>0<b>>>0&&(d=w+(i<<2)|0,(d|0)!=(X|0))?(e[g>>2]=X+(~((X+-4-d|0)>>>2)<<2),j=u,Q=w):(j=u,Q=w):(W0(m,i-b|0,f),j=e[l>>2]|0,Q=e[m>>2]|0),x=Q,C=j,S=e[h>>2]|0,D=e[s>>2]|0,I=S-D|0,L=I>>2,P=L+-1|0,N=x+(C<<2)|0,e[N>>2]=P,q=o}function LI(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0;s=i+4|0,o=e[s>>2]|0,l=(e[o+12>>2]|0)-(e[o+8>>2]|0)|0,o=l>>2;e:do if((l|0)>0){for(f=0;;){if(!(M0[e[(e[i>>2]|0)+36>>2]&127](i,f)|0)){h=0;break}if(f=f+1|0,u=e[s>>2]|0,g=(e[u+12>>2]|0)-(e[u+8>>2]|0)>>2,(f|0)>=(g|0)){d=g;break e}}return h|0}else d=o;while(0);if(o=i+20|0,s=i+24|0,l=e[s>>2]|0,f=e[o>>2]|0,g=l-f>>2,u=f,f=l,d>>>0<=g>>>0?d>>>0<g>>>0&&(l=u+(d<<2)|0,(l|0)!=(f|0))&&(e[s>>2]=f+(~((f+-4-l|0)>>>2)<<2)):K0(o,d-g|0),g=e[i+12>>2]|0,d=e[i+8>>2]|0,i=d,(g|0)==(d|0))return h=1,h|0;l=g-d>>2,d=0;do{if(g=e[i+(d<<2)>>2]|0,f=e[g+8>>2]|0,s=e[g+4>>2]|0,g=s,(f|0)!=(s|0)&&(u=e[o>>2]|0,m=f-s>>2,e[u+(e[g>>2]<<2)>>2]=d,m>>>0>1)){s=1;do e[u+(e[g+(s<<2)>>2]<<2)>>2]=d,s=s+1|0;while(s>>>0<m>>>0)}d=d+1|0}while(d>>>0<l>>>0);return h=1,h|0}function PI(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0;if(o=e[s+88>>2]|0,!o||(e[o>>2]|0)!=1)return l=0,l|0;if(f=o+8|0,o=e[f>>2]|0,e[i+4>>2]=br[o>>0]|br[o+1>>0]<<8|br[o+2>>0]<<16|br[o+3>>0]<<24,h=i+8|0,u=s+24|0,s=Y[u>>0]|0,g=s<<24>>24,d=i+12|0,m=e[d>>2]|0,b=e[h>>2]|0,w=m-b>>2,x=b,b=m,w>>>0>=g>>>0?w>>>0>g>>>0&&(m=x+(g<<2)|0,(m|0)!=(b|0))?(e[d>>2]=b+(~((b+-4-m|0)>>>2)<<2),C=s,S=o):(C=s,S=o):(K0(h,g-w|0),C=Y[u>>0]|0,S=e[f>>2]|0),f=S+4|0,u=br[f>>0]|br[f+1>>0]<<8|br[f+2>>0]<<16|br[f+3>>0]<<24,C<<24>>24>0)for(f=e[h>>2]|0,h=C<<24>>24,C=u,w=4,g=0;;)if(e[f+(g<<2)>>2]=C,w=w+4|0,g=g+1|0,o=S+w|0,s=br[o>>0]|br[o+1>>0]<<8|br[o+2>>0]<<16|br[o+3>>0]<<24,(g|0)>=(h|0)){D=s;break}else C=s;else D=u;return e[i+20>>2]=D,l=1,l|0}function NI(i,s,o,l,f){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0;var h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;do if(tu(i,e[s+8>>2]|0)|0)Xk(0,s,o,l);else{if(!(tu(i,e[s>>2]|0)|0)){h=e[i+8>>2]|0,G3[e[(e[h>>2]|0)+24>>2]&3](h,s,o,l,f);break}if((e[s+16>>2]|0)!=(o|0)&&(h=s+20|0,(e[h>>2]|0)!=(o|0))){if(e[s+32>>2]=l,u=s+44|0,(e[u>>2]|0)==4)break;g=s+52|0,Y[g>>0]=0,d=s+53|0,Y[d>>0]=0,m=e[i+8>>2]|0,f4[e[(e[m>>2]|0)+20>>2]&3](m,s,o,o,1,f),Y[d>>0]|0?Y[g>>0]|0?x=3:(b=3,w=11):(b=4,w=11),(w|0)==11&&(e[h>>2]=o,h=s+40|0,e[h>>2]=(e[h>>2]|0)+1,(e[s+36>>2]|0)==1&&(e[s+24>>2]|0)==2&&(Y[s+54>>0]=1),x=b),e[u>>2]=x;break}(l|0)==1&&(e[s+32>>2]=1)}while(0)}function __(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0;return f=q,q=q+16|0,h=f+12|0,u=f+8|0,g=f,e[g>>2]=e[s>>2],e[h>>2]=e[g>>2],g=fy(i,h,u,f+4|0,o)|0,o=e[g>>2]|0,o|0?(d=o,q=f,d|0):(o=It(40)|0,T0(o+16|0,l),T0(o+28|0,l+12|0),l=e[u>>2]|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=l,e[g>>2]=o,l=e[e[i>>2]>>2]|0,l?(e[i>>2]=l,m=e[g>>2]|0):m=o,of(e[i+4>>2]|0,m),m=i+8|0,e[m>>2]=(e[m>>2]|0)+1,d=o,q=f,d|0)}function mo(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;if(l=q,q=q+16|0,f=l,h=i+4|0,e[h>>2]=0,!s){q=l;return}if(u=i+8|0,g=e[u>>2]|0,d=g<<5,d>>>0<s>>>0?(e[f>>2]=0,m=f+4|0,e[m>>2]=0,b=f+8|0,e[b>>2]=0,(s|0)<0&&qe(),w=g<<6,g=s+31&-32,ua(f,d>>>0<1073741823?w>>>0<g>>>0?g:w:2147483647),w=e[i>>2]|0,e[i>>2]=e[f>>2],e[f>>2]=w,f=e[h>>2]|0,e[h>>2]=s,e[m>>2]=f,f=e[u>>2]|0,e[u>>2]=e[b>>2],e[b>>2]=f,w|0&&Ae(w),x=i):(e[h>>2]=s,x=i),i=e[x>>2]|0,x=i,h=i,i=s>>>5,w=i<<2,Y[o>>0]|0){if(Tr(h|0,-1,w|0)|0,w=s&31,s=x+(i<<2)|0,!w){q=l;return}e[s>>2]=e[s>>2]|-1>>>(32-w|0),q=l;return}else{if(Tr(h|0,0,w|0)|0,o=s&31,f=x+(i<<2)|0,!o){q=l;return}e[f>>2]=e[f>>2]&~(-1>>>(32-o|0)),q=l;return}}function k_(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;return o=q,q=q+16|0,l=o+8|0,f=o+4|0,h=o,e[h>>2]=e[i+12>>2],u=s+16|0,g=u,d=e[g>>2]|0,m=e[g+4>>2]|0,(m|0)>0|(m|0)==0&d>>>0>0?(b=m,w=d):(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+4|0)|0,d=u,b=e[d+4>>2]|0,w=e[d>>2]|0),e[h>>2]=e[i+20>>2],(b|0)>0|(b|0)==0&w>>>0>0?(x=i+88|0,pn(x,s),q=o,1):(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+4|0)|0,x=i+88|0,pn(x,s),q=o,1)}function C_(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;return o=q,q=q+16|0,l=o+8|0,f=o+4|0,h=o,e[h>>2]=e[i+12>>2],u=s+16|0,g=u,d=e[g>>2]|0,m=e[g+4>>2]|0,(m|0)>0|(m|0)==0&d>>>0>0?(b=m,w=d):(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+4|0)|0,d=u,b=e[d+4>>2]|0,w=e[d>>2]|0),e[h>>2]=e[i+16>>2],(b|0)>0|(b|0)==0&w>>>0>0?(x=i+108|0,pn(x,s),q=o,1):(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+4|0)|0,x=i+108|0,pn(x,s),q=o,1)}function FI(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0;if(s=i+32|0,o=e[i+64>>2]|0,l=(kn[e[(e[o>>2]|0)+40>>2]&127](o)|0)+56|0,o=e[l>>2]|0,q6(s,(((e[o+100>>2]|0)-(e[o+96>>2]|0)|0)/12|0)*3|0,0,1)|0,o=i+68|0,l=e[o>>2]|0,f=(e[i+72>>2]|0)-l|0,(f|0)<=0){z(s);return}for(h=i+48|0,u=i+44|0,i=(f>>>2)+-1|0,f=l;;){if(l=e[f+(i<<2)>>2]|0,g=e[3124+(l<<2)>>2]|0,d=h,m=e[d+4>>2]|0,(m|0)>0|(m|0)==0&(e[d>>2]|0)>>>0>0&&(d=e[u>>2]|0,171>>>l&1|0)){m=d+4|0,b=0,w=e[m>>2]|0;do x=w>>>3,C=w&7,S=(e[d>>2]|0)+x|0,Y[S>>0]=(1<<C^255)&(br[S>>0]|0),S=(e[d>>2]|0)+x|0,Y[S>>0]=(l>>>b&1)<<C|(br[S>>0]|0),w=(e[m>>2]|0)+1|0,e[m>>2]=w,b=b+1|0;while((b|0)!=(g|0))}if(g=i+-1|0,(g|0)<=-1)break;i=g,f=e[o>>2]|0}z(s)}function OI(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0;if(f=q,q=q+48|0,h=f,u=f+32|0,!s)return g=0,q=f,g|0;ll(h);do if((Jy(s,0)|0)!=-1){if(o){if(!(kn[e[(e[s>>2]|0)+16>>2]&127](s)|0)){d=0;break}On[e[(e[s>>2]|0)+20>>2]&127](s)}Yf(u,i,s,h),m=(e[u>>2]|0)==0,b=u+4|0,(Y[b+11>>0]|0)<0&&Ae(e[b>>2]|0),m?(m=e[h>>2]|0,b=h+4|0,Zr(l,m,m+((e[b>>2]|0)-m)|0),d=(e[b>>2]|0)-(e[h>>2]|0)|0):d=0}else d=0;while(0);return l=h+12|0,u=e[l>>2]|0,e[l>>2]=0,u|0&&Ae(u),u=e[h>>2]|0,u|0&&(l=h+4|0,(e[l>>2]|0)!=(u|0)&&(e[l>>2]=u),Ae(u)),g=d,q=f,g|0}function HI(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0;return o=q,q=q+16|0,l=o,f=e[(e[i>>2]|0)+8>>2]|0,h=i+8|0,u=i+12|0,g=(e[u>>2]|0)-(e[h>>2]|0)>>2,d=e[s>>2]|0,e[s>>2]=0,e[l>>2]=d,Nm[f&15](i,g,l),g=e[l>>2]|0,e[l>>2]=0,g?(l=g+88|0,i=e[l>>2]|0,e[l>>2]=0,i|0&&(l=e[i+8>>2]|0,l|0&&(f=i+12|0,(e[f>>2]|0)!=(l|0)&&(e[f>>2]=l),Ae(l)),Ae(i)),i=e[g+68>>2]|0,i|0&&(l=g+72|0,f=e[l>>2]|0,(f|0)!=(i|0)&&(e[l>>2]=f+(~((f+-4-i|0)>>>2)<<2)),Ae(i)),i=g+64|0,f=e[i>>2]|0,e[i>>2]=0,f|0&&(i=e[f>>2]|0,i|0&&(l=f+4|0,(e[l>>2]|0)!=(i|0)&&(e[l>>2]=i),Ae(i)),Ae(f)),Ae(g),m=e[u>>2]|0,b=e[h>>2]|0,w=m-b|0,x=w>>2,C=x+-1|0,q=o,C|0):(m=e[u>>2]|0,b=e[h>>2]|0,w=m-b|0,x=w>>2,C=x+-1|0,q=o,C|0)}function UI(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0;if(Y[i+352>>0]|0||(s=i+8|0,o=e[s>>2]|0,l=(e[o+12>>2]|0)-(e[o+8>>2]|0)|0,o=l>>2,f=i+172|0,N_(f,o+-1|0),!((o|0)!=1&(l|0)>0)))return 1;for(l=i+12|0,i=0,h=0;u=e[(e[(e[s>>2]|0)+8>>2]|0)+(i<<2)>>2]|0,e[u+56>>2]|0?(d=e[f>>2]|0,e[d+(h*136|0)>>2]=i,m=e[d+(h*136|0)+104>>2]|0,b=d+(h*136|0)+108|0,w=e[b>>2]|0,(w|0)!=(m|0)&&(e[b>>2]=w+(~((w+-4-m|0)>>>2)<<2)),m=e[l>>2]|0,ol(d+(h*136|0)+104|0,(e[m+4>>2]|0)-(e[m>>2]|0)>>2),m=e[f>>2]|0,e[m+(h*136|0)+128>>2]=0,Z1(m+(h*136|0)+4|0,e[s>>2]|0,e[l>>2]|0,u)|0,g=h+1|0):g=h,i=i+1|0,!((i|0)>=(o|0));)h=g;return 1}function VI(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0;if(Y[i+288>>0]|0||(s=i+8|0,o=e[s>>2]|0,l=(e[o+12>>2]|0)-(e[o+8>>2]|0)|0,o=l>>2,f=i+172|0,N_(f,o+-1|0),!((o|0)!=1&(l|0)>0)))return 1;for(l=i+12|0,i=0,h=0;u=e[(e[(e[s>>2]|0)+8>>2]|0)+(i<<2)>>2]|0,e[u+56>>2]|0?(d=e[f>>2]|0,e[d+(h*136|0)>>2]=i,m=e[d+(h*136|0)+104>>2]|0,b=d+(h*136|0)+108|0,w=e[b>>2]|0,(w|0)!=(m|0)&&(e[b>>2]=w+(~((w+-4-m|0)>>>2)<<2)),m=e[l>>2]|0,ol(d+(h*136|0)+104|0,(e[m+4>>2]|0)-(e[m>>2]|0)>>2),m=e[f>>2]|0,e[m+(h*136|0)+128>>2]=0,Z1(m+(h*136|0)+4|0,e[s>>2]|0,e[l>>2]|0,u)|0,g=h+1|0):g=h,i=i+1|0,!((i|0)>=(o|0));)h=g;return 1}function Uo(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0;if(o=i+8|0,l=e[o>>2]|0,f=i+4|0,h=e[f>>2]|0,l-h>>3>>>0>=s>>>0){u=s,g=h;do d=g,e[d>>2]=0,e[d+4>>2]=0,g=(e[f>>2]|0)+8|0,e[f>>2]=g,u=u+-1|0;while((u|0)!=0);return}u=e[i>>2]|0,g=h-u>>3,h=g+s|0,h>>>0>536870911&&qe(),d=l-u|0,u=d>>2,l=d>>3>>>0<268435455?u>>>0<h>>>0?h:u:536870911;do if(l)if(l>>>0>536870911)u=An(8)|0,c0(u,14941),e[u>>2]=6944,yn(u|0,1080,114);else{m=It(l<<3)|0;break}else m=0;while(0);u=m+(g<<3)|0,g=m+(l<<3)|0,l=s,s=u,m=u;do h=s,e[h>>2]=0,e[h+4>>2]=0,s=m+8|0,m=s,l=l+-1|0;while((l|0)!=0);l=e[i>>2]|0,s=(e[f>>2]|0)-l|0,h=u+(0-(s>>3)<<3)|0,(s|0)>0&&Fi(h|0,l|0,s|0)|0,e[i>>2]=h,e[f>>2]=m,e[o>>2]=g,l&&Ae(l)}function Vu(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0;l=q,q=q+16|0,f=l+4|0,h=l,u=l+8|0,g=i&255,Y[u>>0]=g&127;do if(s>>>0>0|(s|0)==0&i>>>0>127)if(Y[u>>0]=g|-128,d=o+16|0,m=e[d+4>>2]|0,(m|0)>0|(m|0)==0&(e[d>>2]|0)>>>0>0){b=0;break}else{e[h>>2]=e[o+4>>2],e[f>>2]=e[h>>2],wi(o,f,u,u+1|0)|0,d=s0(i|0,s|0,7)|0,b=Vu(d,Ze,o)|0;break}else{if(d=o+16|0,m=e[d+4>>2]|0,(m|0)>0|(m|0)==0&(e[d>>2]|0)>>>0>0){b=0;break}return e[h>>2]=e[o+4>>2],e[f>>2]=e[h>>2],wi(o,f,u,u+1|0)|0,w=1,q=l,w|0}while(0);return w=b,q=l,w|0}function jI(i,s){i=i|0,s=s|0;var o=0;if(o=i+8|0,ud(o,s)|0,(o|0)==(s|0)){e[i+92>>2]=e[s+84>>2];return}else{Yt(i+56|0,e[s+48>>2]|0,e[s+52>>2]|0),Yt(i+68|0,e[s+60>>2]|0,e[s+64>>2]|0),Yt(i+80|0,e[s+72>>2]|0,e[s+76>>2]|0),e[i+92>>2]=e[s+84>>2],rs(i+96|0,e[s+88>>2]|0,e[s+92>>2]|0);return}}function GI(i,s,o,l,f){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0;var h=0,u=0,g=0;if(h=e[(e[(e[l+4>>2]|0)+8>>2]|0)+(o<<2)>>2]|0,(s|0)==-1?u=U_(o,l)|0:u=s,(u|0)==-2)g=0;else{do if((kn[e[(e[l>>2]|0)+8>>2]&127](l)|0)==1){if(O6(i,l,u,o,f,514),e[i>>2]|0)return;e[i>>2]=0;break}while(0);o=It(44)|0,e[o>>2]=1528,e[o+4>>2]=h,h=o+8|0,e[h>>2]=e[f>>2],e[h+4>>2]=e[f+4>>2],e[h+8>>2]=e[f+8>>2],e[h+12>>2]=e[f+12>>2],e[h+16>>2]=e[f+16>>2],e[h+20>>2]=e[f+20>>2],uf(o+32|0,f+24|0),e[o>>2]=1584,g=o}e[i>>2]=g}function S_(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0;l=q,q=q+224|0,f=l+120|0,h=l+80|0,u=l,g=l+136|0,d=h,m=d+40|0;do e[d>>2]=0,d=d+4|0;while((d|0)<(m|0));return e[f>>2]=e[o>>2],(t3(0,s,f,u,h)|0)<0?b=-1:((e[i+76>>2]|0)>-1,o=e[i>>2]|0,d=o&32,(Y[i+74>>0]|0)<1&&(e[i>>2]=o&-33),o=i+48|0,e[o>>2]|0?D=t3(i,s,f,u,h)|0:(m=i+44|0,w=e[m>>2]|0,e[m>>2]=g,x=i+28|0,e[x>>2]=g,C=i+20|0,e[C>>2]=g,e[o>>2]=80,S=i+16|0,e[S>>2]=g+80,g=t3(i,s,f,u,h)|0,w?($o[e[i+36>>2]&31](i,0,0)|0,I=(e[C>>2]|0)==0?-1:g,e[m>>2]=w,e[o>>2]=0,e[S>>2]=0,e[x>>2]=0,e[C>>2]=0,D=I):D=g),h=e[i>>2]|0,e[i>>2]=h|d,b=(h&32|0)==0?D:-1),q=l,b|0}function j6(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0;return l=q,q=q+16|0,f=l,eC(i,s,o)|0,(kn[e[(e[i>>2]|0)+32>>2]&127](i)|0)<<24>>24==1&&((e[(e[i+8>>2]|0)+28>>2]|0)+-1|0)>>>0>=6?(h=0,q=l,h|0):(u=Cm(o,e[s+48>>2]|0)|0,Nm[e[(e[i>>2]|0)+48>>2]&15](f,i,u),u=i+36|0,s=e[f>>2]|0,e[f>>2]=0,o=e[u>>2]|0,e[u>>2]=s,o?(On[e[(e[o>>2]|0)+4>>2]&127](o),o=e[f>>2]|0,e[f>>2]=0,o|0&&On[e[(e[o>>2]|0)+4>>2]&127](o),g=e[u>>2]|0):(e[f>>2]=0,g=s),!g||M0[e[(e[i>>2]|0)+36>>2]&127](i,g)|0||(g=e[u>>2]|0,e[u>>2]=0,!g)?(h=1,q=l,h|0):(On[e[(e[g>>2]|0)+4>>2]&127](g),h=1,q=l,h|0))}function zI(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0;if(o=i+4|0,l=e[o>>2]|0,f=e[i>>2]|0,h=l-f>>2,u=l,h>>>0<s>>>0){H2(i,s-h|0);return}if(!(h>>>0<=s>>>0)&&(h=f+(s<<2)|0,(h|0)!=(u|0))){g=u;do u=g+-4|0,e[o>>2]=u,s=e[u>>2]|0,e[u>>2]=0,s|0&&(u=s+88|0,f=e[u>>2]|0,e[u>>2]=0,f|0&&(u=e[f+8>>2]|0,u|0&&(i=f+12|0,(e[i>>2]|0)!=(u|0)&&(e[i>>2]=u),Ae(u)),Ae(f)),f=e[s+68>>2]|0,f|0&&(u=s+72|0,i=e[u>>2]|0,(i|0)!=(f|0)&&(e[u>>2]=i+(~((i+-4-f|0)>>>2)<<2)),Ae(f)),f=s+64|0,i=e[f>>2]|0,e[f>>2]=0,i|0&&(f=e[i>>2]|0,f|0&&(u=i+4|0,(e[u>>2]|0)!=(f|0)&&(e[u>>2]=f),Ae(f)),Ae(i)),Ae(s)),g=e[o>>2]|0;while((g|0)!=(h|0))}}function W0(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0;if(l=i+8|0,f=e[l>>2]|0,h=i+4|0,u=e[h>>2]|0,g=u,f-u>>2>>>0>=s>>>0){for(d=s,m=g;e[m>>2]=e[o>>2],d=d+-1|0,d;)m=m+4|0;e[h>>2]=g+(s<<2);return}g=e[i>>2]|0,m=u-g|0,u=m>>2,d=u+s|0,d>>>0>1073741823&&qe(),b=f-g|0,f=b>>1,w=b>>2>>>0<536870911?f>>>0<d>>>0?d:f:1073741823;do if(w)if(w>>>0>1073741823)f=An(8)|0,c0(f,14941),e[f>>2]=6944,yn(f|0,1080,114);else{f=It(w<<2)|0,x=f,C=f;break}else x=0,C=0;while(0);for(f=x+(u<<2)|0,u=x+(w<<2)|0,w=s,d=f;e[d>>2]=e[o>>2],w=w+-1|0,w;)d=d+4|0;(m|0)>0&&Fi(C|0,g|0,m|0)|0,e[i>>2]=x,e[h>>2]=f+(s<<2),e[l>>2]=u,g&&Ae(g)}function WI(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0;l=(e[i>>2]|0)+1794895138|0,f=bd(e[i+8>>2]|0,l)|0,h=bd(e[i+12>>2]|0,l)|0,u=bd(e[i+16>>2]|0,l)|0;e:do if(f>>>0<s>>>2>>>0&&(g=s-(f<<2)|0,h>>>0<g>>>0&u>>>0<g>>>0)&&((u|h)&3|0)==0){for(g=h>>>2,d=u>>>2,m=0,b=f;;){if(w=b>>>1,x=m+w|0,C=x<<1,S=C+g|0,D=bd(e[i+(S<<2)>>2]|0,l)|0,I=bd(e[i+(S+1<<2)>>2]|0,l)|0,!(I>>>0<s>>>0&D>>>0<(s-I|0)>>>0)){L=0;break e}if(Y[i+(I+D)>>0]|0){L=0;break e}if(D=CN(o,i+I|0)|0,!D)break;if(I=(D|0)<0,(b|0)==1){L=0;break e}else m=I?m:x,b=I?w:b-w|0}b=C+d|0,m=bd(e[i+(b<<2)>>2]|0,l)|0,g=bd(e[i+(b+1<<2)>>2]|0,l)|0,g>>>0<s>>>0&m>>>0<(s-g|0)>>>0?L=(Y[i+(g+m)>>0]|0)==0?i+g|0:0:L=0}else L=0;while(0);return L|0}function G6(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0;f=q,q=q+64|0,h=f,u=e[i>>2]|0,g=i+(e[u+-8>>2]|0)|0,d=e[u+-4>>2]|0,e[h>>2]=o,e[h+4>>2]=i,e[h+8>>2]=s,e[h+12>>2]=l,l=h+16|0,s=h+20|0,i=h+24|0,u=h+28|0,m=h+32|0,b=h+40|0,w=l,x=w+36|0;do e[w>>2]=0,w=w+4|0;while((w|0)<(x|0));Or[l+36>>1]=0,Y[l+38>>0]=0;e:do if(tu(d,o)|0)e[h+48>>2]=1,f4[e[(e[d>>2]|0)+20>>2]&3](d,h,g,g,1,0),C=(e[i>>2]|0)==1?g:0;else{switch(G3[e[(e[d>>2]|0)+24>>2]&3](d,h,g,1,0),e[h+36>>2]|0){case 0:{C=(e[b>>2]|0)==1&(e[u>>2]|0)==1&(e[m>>2]|0)==1?e[s>>2]|0:0;break e}case 1:break;default:{C=0;break e}}if((e[i>>2]|0)!=1&&!((e[b>>2]|0)==0&(e[u>>2]|0)==1&(e[m>>2]|0)==1)){C=0;break}C=e[l>>2]|0}while(0);return q=f,C|0}function QI(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;if(o=i+8|0,l=e[o>>2]|0,f=i+4|0,h=e[f>>2]|0,u=h,l-h>>2>>>0>=s>>>0){for(g=s,d=u;e[d>>2]=1,g=g+-1|0,g;)d=d+4|0;e[f>>2]=u+(s<<2);return}u=e[i>>2]|0,d=h-u|0,h=d>>2,g=h+s|0,g>>>0>1073741823&&qe(),m=l-u|0,l=m>>1,b=m>>2>>>0<536870911?l>>>0<g>>>0?g:l:1073741823;do if(b)if(b>>>0>1073741823)l=An(8)|0,c0(l,14941),e[l>>2]=6944,yn(l|0,1080,114);else{l=It(b<<2)|0,w=l,x=l;break}else w=0,x=0;while(0);for(l=w+(h<<2)|0,h=w+(b<<2)|0,b=s,g=l;e[g>>2]=1,b=b+-1|0,b;)g=g+4|0;(d|0)>0&&Fi(x|0,u|0,d|0)|0,e[i>>2]=w,e[f>>2]=l+(s<<2),e[o>>2]=h,u&&Ae(u)}function JI(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0;return o=q,q=q+16|0,l=o,s?(h=i+84|0,u=e[h>>2]|0,g=i+88|0,d=e[g>>2]|0,(d|0)!=(u|0)&&(e[g>>2]=d+(~((d+-4-u|0)>>>2)<<2)),e[h>>2]=0,e[g>>2]=0,e[i+92>>2]=0,u|0&&Ae(u),u=i+72|0,g=e[u>>2]|0,h=i+76|0,(e[h>>2]|0)!=(g|0)&&(e[h>>2]=g),e[u>>2]=0,e[h>>2]=0,e[i+80>>2]=0,g|0&&Ae(g),g=s+4|0,h=(e[g>>2]|0)-(e[s>>2]|0)>>2,Y[l>>0]=0,mo(i,h,l),h=s+24|0,u=s+28|0,d=(e[u>>2]|0)-(e[h>>2]|0)>>2,Y[l>>0]=0,mo(i+12|0,d,l),pe(i+28|0,(e[g>>2]|0)-(e[s>>2]|0)>>2,5868),ol(i+52|0,(e[u>>2]|0)-(e[h>>2]|0)>>2),ol(i+40|0,(e[u>>2]|0)-(e[h>>2]|0)>>2),e[i+64>>2]=s,Y[i+24>>0]=1,f=1,q=o,f|0):(f=0,q=o,f|0)}function XI(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0;if(s=i+12|0,o=e[i>>2]|0,l=i+8|0,f=e[l>>2]|0,h=(f|0)==-1,!(Y[s>>0]|0)){do if(!h&&(u=(((f>>>0)%3|0|0)==0?2:-1)+f|0,(u|0)!=-1)&&(g=e[(e[o+12>>2]|0)+(u<<2)>>2]|0,(g|0)!=-1))if((g>>>0)%3|0){d=g+-1|0;break}else{d=g+2|0;break}else d=-1;while(0);e[l>>2]=d;return}if(d=f+1|0,!h&&(h=((d>>>0)%3|0|0)==0?f+-2|0:d,(h|0)!=-1)&&(d=e[(e[o+12>>2]|0)+(h<<2)>>2]|0,h=d+1|0,(d|0)!=-1)){if(f=((h>>>0)%3|0|0)==0?d+-2|0:h,e[l>>2]=f,(f|0)!=-1){if((f|0)!=(e[i+4>>2]|0))return;e[l>>2]=-1;return}}else e[l>>2]=-1;f=e[i+4>>2]|0;do if((f|0)!=-1&&(i=(((f>>>0)%3|0|0)==0?2:-1)+f|0,(i|0)!=-1)&&(h=e[(e[o+12>>2]|0)+(i<<2)>>2]|0,(h|0)!=-1))if((h>>>0)%3|0){m=h+-1|0;break}else{m=h+2|0;break}else m=-1;while(0);e[l>>2]=m,Y[s>>0]=0}function T_(i,s){i=i|0,s=s|0;var o=0,l=vi,f=0,h=0;if((s|0)!=1?s+-1&s?o=is(s)|0:o=s:o=2,s=e[i+4>>2]|0,o>>>0>s>>>0){um(i,o);return}o>>>0>=s>>>0||(l=Zt((e[i+12>>2]|0)>>>0),f=~~Zt(yi(Zt(l/Zt(bi[i+20>>2]))))>>>0,s>>>0>2&(s+-1&s|0)==0?h=1<<32-(S0(f+-1|0)|0):h=is(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=s>>>0)&&um(i,f))}function qI(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0;if(l=q,q=q+48|0,f=l,h=l+32|0,u=i+4|0,g=e[u>>2]|0,!g)return d=0,q=l,d|0;do if(s)if(kn[e[(e[g>>2]|0)+16>>2]&127](g)|0){m=e[u>>2]|0,On[e[(e[m>>2]|0)+20>>2]&127](m);break}else return d=0,q=l,d|0;while(0);return ll(f),Y6(h,e[i>>2]|0,f),i=(e[h>>2]|0)==0,u=h+4|0,(Y[u+11>>0]|0)<0&&Ae(e[u>>2]|0),i?(i=e[f>>2]|0,u=f+4|0,Zr(o,i,i+((e[u>>2]|0)-i)|0),b=(e[u>>2]|0)-(e[f>>2]|0)|0):b=0,u=f+12|0,i=e[u>>2]|0,e[u>>2]=0,i|0&&Ae(i),i=e[f>>2]|0,i|0&&(u=f+4|0,(e[u>>2]|0)!=(i|0)&&(e[u>>2]=i),Ae(i)),d=b,q=l,d|0}function go(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0;if(o=e[i+4>>2]|0,!o)return l=0,l|0;for(i=Y[s+11>>0]|0,f=i<<24>>24<0,h=f?e[s+4>>2]|0:i&255,i=f?e[s>>2]|0:s,s=o;;){if(o=s+16|0,f=Y[o+11>>0]|0,u=f<<24>>24<0,g=u?e[s+20>>2]|0:f&255,f=g>>>0<h>>>0,d=f?g:h,(d|0)!=0&&(m=vs(i,u?e[o>>2]|0:o,d)|0,(m|0)!=0)?(m|0)<0?b=7:b=8:h>>>0<g>>>0?b=7:b=8,(b|0)==7)b=0,w=s;else if((b|0)==8){if(b=0,m=h>>>0<g>>>0?h:g,(m|0)!=0&&(g=vs(u?e[o>>2]|0:o,i,m)|0,(g|0)!=0)){if((g|0)>=0){l=1,b=14;break}}else b=10;if((b|0)==10&&(b=0,!f)){l=1,b=14;break}w=s+4|0}if(s=e[w>>2]|0,!s){l=0,b=14;break}}return(b|0)==14?l|0:0}function M_(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0;if(o=q,q=q+16|0,l=o+12|0,f=o+8|0,h=o+4|0,u=o,g=i+4|0,d=(g|0)==(s|0),d||(e[h>>2]=e[s>>2],e[u>>2]=s+4,e[f>>2]=e[h>>2],e[l>>2]=e[u>>2],co(g,f,l)),d||(e[h>>2]=e[s+12>>2],e[u>>2]=s+16,e[f>>2]=e[h>>2],e[l>>2]=e[u>>2],Yh(i+16|0,f,l)),d){q=o;return}e[h>>2]=e[s+24>>2],e[u>>2]=s+28,e[f>>2]=e[h>>2],e[l>>2]=e[u>>2],co(i+28|0,f,l),q=o}function z6(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0;return f=q,q=q+16|0,h=f+4|0,u=f,wL(h,i,s,o,l),l=e[h>>2]|0,l?(e[h>>2]=0,e[u>>2]=l,l=HI(i,u)|0,i=e[u>>2]|0,e[u>>2]=0,i?(u=i+88|0,o=e[u>>2]|0,e[u>>2]=0,o|0&&(u=e[o+8>>2]|0,u|0&&(s=o+12|0,(e[s>>2]|0)!=(u|0)&&(e[s>>2]=u),Ae(u)),Ae(o)),o=e[i+68>>2]|0,o|0&&(u=i+72|0,s=e[u>>2]|0,(s|0)!=(o|0)&&(e[u>>2]=s+(~((s+-4-o|0)>>>2)<<2)),Ae(o)),o=i+64|0,s=e[o>>2]|0,e[o>>2]=0,s|0&&(o=e[s>>2]|0,o|0&&(u=s+4|0,(e[u>>2]|0)!=(o|0)&&(e[u>>2]=o),Ae(o)),Ae(s)),Ae(i),g=l,e[h>>2]=0,q=f,g|0):(g=l,e[h>>2]=0,q=f,g|0)):(g=-1,e[h>>2]=0,q=f,g|0)}function ZI(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0;if(l=q,q=q+16|0,f=l+4|0,h=l,u=e[i+8>>2]|0,g=u+24|0,d=Y[g>>0]|0,m=s+4|0,A(i,(e[m>>2]|0)-(e[s>>2]|0)>>2,d,o),o=e[i+32>>2]|0,i=(e[e[o>>2]>>2]|0)+(e[o+48>>2]|0)|0,o=e[s>>2]|0,s=e[m>>2]|0,(o|0)==(s|0))return b=1,q=l,b|0;for(m=u+84|0,w=u+68|0,x=0,C=o;;){if(o=e[C>>2]|0,Y[m>>0]|0?S=o:S=e[(e[w>>2]|0)+(o<<2)>>2]|0,e[h>>2]=S,o=Y[g>>0]|0,e[f>>2]=e[h>>2],!(w3(u,f,o,i+(x<<2)|0)|0)){b=0,D=7;break}if(C=C+4|0,(C|0)==(s|0)){b=1,D=7;break}else x=x+d|0}return(D|0)==7?(q=l,b|0):0}function R_(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0;if(e[i>>2]=1392,s=i+72|0,o=e[s>>2]|0,e[s>>2]=0,o|0&&On[e[(e[o>>2]|0)+4>>2]&127](o),o=e[i+60>>2]|0,o|0&&(s=i+64|0,l=e[s>>2]|0,(l|0)!=(o|0)&&(e[s>>2]=l+(~((l+-4-o|0)>>>2)<<2)),Ae(o)),o=e[i+48>>2]|0,o|0&&Ae(o),o=i+36|0,l=e[o>>2]|0,l|0){if(s=i+40|0,f=e[s>>2]|0,(f|0)==(l|0))h=l;else{u=f;do f=u+-4|0,e[s>>2]=f,g=e[f>>2]|0,e[f>>2]=0,g|0&&On[e[(e[g>>2]|0)+4>>2]&127](g),u=e[s>>2]|0;while((u|0)!=(l|0));h=e[o>>2]|0}Ae(h)}e[i>>2]=1216,h=e[i+16>>2]|0,h|0&&(o=i+20|0,l=e[o>>2]|0,(l|0)!=(h|0)&&(e[o>>2]=l+(~((l+-4-h|0)>>>2)<<2)),Ae(h)),h=e[i+4>>2]|0,h&&(l=i+8|0,i=e[l>>2]|0,(i|0)!=(h|0)&&(e[l>>2]=i+(~((i+-4-h|0)>>>2)<<2)),Ae(h))}function D_(i){i=i|0,ln(i+992|0),ln(i+960|0),ln(i+928|0),ln(i+896|0),ln(i+864|0),ln(i+832|0),ln(i+800|0),ln(i+768|0),ln(i+736|0),ln(i+704|0),ln(i+672|0),ln(i+640|0),ln(i+608|0),ln(i+576|0),ln(i+544|0),ln(i+512|0),ln(i+480|0),ln(i+448|0),ln(i+416|0),ln(i+384|0),ln(i+352|0),ln(i+320|0),ln(i+288|0),ln(i+256|0),ln(i+224|0),ln(i+192|0),ln(i+160|0),ln(i+128|0),ln(i+96|0),ln(i+64|0),ln(i+32|0),ln(i)}function YI(i){i=i|0,_n(i),_n(i+32|0),_n(i+64|0),_n(i+96|0),_n(i+128|0),_n(i+160|0),_n(i+192|0),_n(i+224|0),_n(i+256|0),_n(i+288|0),_n(i+320|0),_n(i+352|0),_n(i+384|0),_n(i+416|0),_n(i+448|0),_n(i+480|0),_n(i+512|0),_n(i+544|0),_n(i+576|0),_n(i+608|0),_n(i+640|0),_n(i+672|0),_n(i+704|0),_n(i+736|0),_n(i+768|0),_n(i+800|0),_n(i+832|0),_n(i+864|0),_n(i+896|0),_n(i+928|0),_n(i+960|0),_n(i+992|0)}function KI(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0;return i=q,q=q+16|0,f=i,(o|0)<0|((s|0)==0|(l|0)==0)||(u=e[s+8>>2]|0,((e[s+12>>2]|0)-u>>2|0)<=(o|0))?(h=0,q=i,h|0):(g=s+4|0,e[g>>2]|0||(d=It(52)|0,e[d>>2]=0,e[d+4>>2]=0,e[d+8>>2]=0,e[d+12>>2]=0,bi[d+16>>2]=Zt(1),m=d+20|0,e[m>>2]=0,e[m+4>>2]=0,e[m+8>>2]=0,e[m+12>>2]=0,bi[d+36>>2]=Zt(1),e[d+40>>2]=0,e[d+44>>2]=0,e[d+48>>2]=0,e[s+4>>2]=d),d=e[(e[u+(o<<2)>>2]|0)+60>>2]|0,o=It(44)|0,A3(o,l),e[o+40>>2]=d,d=e[g>>2]|0,e[f>>2]=o,XP(d,f)|0,d=e[f>>2]|0,e[f>>2]=0,d?(Kf(d),Ae(d),h=1,q=i,h|0):(h=1,q=i,h|0))}function pd(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;if(e[i>>2]=l,f=i+24|0,h=i+28|0,u=e[h>>2]|0,g=e[f>>2]|0,d=u-g>>2,m=g,g=u,d>>>0>=l>>>0?d>>>0>l>>>0&&(u=m+(l<<2)|0,(u|0)!=(g|0))&&(e[h>>2]=g+(~((g+-4-u|0)>>>2)<<2)):K0(f,l-d|0),!!o){if(d=e[s>>2]|0,(o|0)>1)for(l=d,f=d,u=1;;)if(g=e[s+(u<<2)>>2]|0,h=(g|0)<(f|0),m=h?g:f,b=h?l:(g|0)>(l|0)?g:l,u=u+1|0,(u|0)==(o|0)){w=b,x=m;break}else l=b,f=m;else w=d,x=d;e[i+4>>2]=x,e[i+8>>2]=w,d=Gi(w|0,((w|0)<0)<<31>>31|0,x|0,((x|0)<0)<<31>>31|0)|0,x=Ze,x>>>0<0|(x|0)==0&d>>>0<2147483647&&(x=d+1|0,e[i+12>>2]=x,d=(x|0)/2|0,w=i+16|0,e[w>>2]=d,e[i+20>>2]=0-d,!(x&1|0)&&(e[w>>2]=d+-1))}}function W6(i,s,o,l,f,h,u){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,u=u|0;var g=0,d=0;if(s=q,q=q+64|0,g=s,d=u?6:5,Wy(g),u=e[h+56>>2]|0,h=_r(Qy(d)|0,l)|0,Bm(g,u,0,l&255,d,0,h,((h|0)<0)<<31>>31,0,0),h=It(96)|0,S3(h,g),e[i>>2]=h,e3(h,o)|0,o=h+84|0,!f){if(Y[o>>0]=1,i=e[h+68>>2]|0,g=h+72|0,d=e[g>>2]|0,(d|0)==(i|0)){q=s;return}e[g>>2]=d+(~((d+-4-i|0)>>>2)<<2),q=s;return}if(Y[o>>0]=0,o=h+68|0,i=h+72|0,h=e[i>>2]|0,d=e[o>>2]|0,g=h-d>>2,l=h,g>>>0<f>>>0){W0(o,f-g|0,1200),q=s;return}if(g>>>0<=f>>>0){q=s;return}if(g=d+(f<<2)|0,(g|0)==(l|0)){q=s;return}e[i>>2]=l+(~((l+-4-g|0)>>>2)<<2),q=s}function $I(i,s){i=i|0,s=s|0;var o=0,l=vi,f=0,h=0;if((s|0)!=1?s+-1&s?o=is(s)|0:o=s:o=2,s=e[i+4>>2]|0,o>>>0>s>>>0){T2(i,o);return}o>>>0>=s>>>0||(l=Zt((e[i+12>>2]|0)>>>0),f=~~Zt(yi(Zt(l/Zt(bi[i+16>>2]))))>>>0,s>>>0>2&(s+-1&s|0)==0?h=1<<32-(S0(f+-1|0)|0):h=is(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=s>>>0)&&T2(i,f))}function eL(i,s){i=i|0,s=s|0;var o=0,l=vi,f=0,h=0;if((s|0)!=1?s+-1&s?o=is(s)|0:o=s:o=2,s=e[i+4>>2]|0,o>>>0>s>>>0){nm(i,o);return}o>>>0>=s>>>0||(l=Zt((e[i+12>>2]|0)>>>0),f=~~Zt(yi(Zt(l/Zt(bi[i+16>>2]))))>>>0,s>>>0>2&(s+-1&s|0)==0?h=1<<32-(S0(f+-1|0)|0):h=is(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=s>>>0)&&nm(i,f))}function tL(i,s){i=i|0,s=s|0;var o=0,l=vi,f=0,h=0;if((s|0)!=1?s+-1&s?o=is(s)|0:o=s:o=2,s=e[i+4>>2]|0,o>>>0>s>>>0){am(i,o);return}o>>>0>=s>>>0||(l=Zt((e[i+12>>2]|0)>>>0),f=~~Zt(yi(Zt(l/Zt(bi[i+16>>2]))))>>>0,s>>>0>2&(s+-1&s|0)==0?h=1<<32-(S0(f+-1|0)|0):h=is(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=s>>>0)&&am(i,f))}function rL(i,s){i=i|0,s=s|0;var o=0,l=vi,f=0,h=0;if((s|0)!=1?s+-1&s?o=is(s)|0:o=s:o=2,s=e[i+4>>2]|0,o>>>0>s>>>0){Mc(i,o);return}o>>>0>=s>>>0||(l=Zt((e[i+12>>2]|0)>>>0),f=~~Zt(yi(Zt(l/Zt(bi[i+16>>2]))))>>>0,s>>>0>2&(s+-1&s|0)==0?h=1<<32-(S0(f+-1|0)|0):h=is(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=s>>>0)&&Mc(i,f))}function iL(i,s){i=i|0,s=s|0;var o=0,l=vi,f=0,h=0;if((s|0)!=1?s+-1&s?o=is(s)|0:o=s:o=2,s=e[i+4>>2]|0,o>>>0>s>>>0){rm(i,o);return}o>>>0>=s>>>0||(l=Zt((e[i+12>>2]|0)>>>0),f=~~Zt(yi(Zt(l/Zt(bi[i+16>>2]))))>>>0,s>>>0>2&(s+-1&s|0)==0?h=1<<32-(S0(f+-1|0)|0):h=is(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=s>>>0)&&rm(i,f))}function nL(i,s){i=i|0,s=s|0;var o=0,l=vi,f=0,h=0;if((s|0)!=1?s+-1&s?o=is(s)|0:o=s:o=2,s=e[i+4>>2]|0,o>>>0>s>>>0){ho(i,o);return}o>>>0>=s>>>0||(l=Zt((e[i+12>>2]|0)>>>0),f=~~Zt(yi(Zt(l/Zt(bi[i+16>>2]))))>>>0,s>>>0>2&(s+-1&s|0)==0?h=1<<32-(S0(f+-1|0)|0):h=is(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=s>>>0)&&ho(i,f))}function sL(i,s){i=i|0,s=s|0;var o=0,l=vi,f=0,h=0;if((s|0)!=1?s+-1&s?o=is(s)|0:o=s:o=2,s=e[i+4>>2]|0,o>>>0>s>>>0){lm(i,o);return}o>>>0>=s>>>0||(l=Zt((e[i+12>>2]|0)>>>0),f=~~Zt(yi(Zt(l/Zt(bi[i+16>>2]))))>>>0,s>>>0>2&(s+-1&s|0)==0?h=1<<32-(S0(f+-1|0)|0):h=is(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=s>>>0)&&lm(i,f))}function oL(i,s){i=i|0,s=s|0;var o=0,l=vi,f=0,h=0;if((s|0)!=1?s+-1&s?o=is(s)|0:o=s:o=2,s=e[i+4>>2]|0,o>>>0>s>>>0){ed(i,o);return}o>>>0>=s>>>0||(l=Zt((e[i+12>>2]|0)>>>0),f=~~Zt(yi(Zt(l/Zt(bi[i+16>>2]))))>>>0,s>>>0>2&(s+-1&s|0)==0?h=1<<32-(S0(f+-1|0)|0):h=is(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=s>>>0)&&ed(i,f))}function aL(i,s){i=i|0,s=s|0;var o=0,l=vi,f=0,h=0;if((s|0)!=1?s+-1&s?o=is(s)|0:o=s:o=2,s=e[i+4>>2]|0,o>>>0>s>>>0){ay(i,o);return}o>>>0>=s>>>0||(l=Zt((e[i+12>>2]|0)>>>0),f=~~Zt(yi(Zt(l/Zt(bi[i+16>>2]))))>>>0,s>>>0>2&(s+-1&s|0)==0?h=1<<32-(S0(f+-1|0)|0):h=is(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=s>>>0)&&ay(i,f))}function lL(i,s){i=i|0,s=s|0;var o=0,l=vi,f=0,h=0;if((s|0)!=1?s+-1&s?o=is(s)|0:o=s:o=2,s=e[i+4>>2]|0,o>>>0>s>>>0){Pu(i,o);return}o>>>0>=s>>>0||(l=Zt((e[i+12>>2]|0)>>>0),f=~~Zt(yi(Zt(l/Zt(bi[i+16>>2]))))>>>0,s>>>0>2&(s+-1&s|0)==0?h=1<<32-(S0(f+-1|0)|0):h=is(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=s>>>0)&&Pu(i,f))}function fL(i,s){i=i|0,s=s|0;var o=0,l=vi,f=0,h=0;if((s|0)!=1?s+-1&s?o=is(s)|0:o=s:o=2,s=e[i+4>>2]|0,o>>>0>s>>>0){uy(i,o);return}o>>>0>=s>>>0||(l=Zt((e[i+12>>2]|0)>>>0),f=~~Zt(yi(Zt(l/Zt(bi[i+16>>2]))))>>>0,s>>>0>2&(s+-1&s|0)==0?h=1<<32-(S0(f+-1|0)|0):h=is(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=s>>>0)&&uy(i,f))}function p0(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0;o=q,q=q+16|0,l=o+4|0,f=o,h=o+8|0,Y[h>>0]=i&127;do if(i>>>0>127)if(Y[h>>0]=i|128,u=s+16|0,g=e[u+4>>2]|0,(g|0)>0|(g|0)==0&(e[u>>2]|0)>>>0>0){d=0;break}else{e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+1|0)|0,d=p0(i>>>7,s)|0;break}else{if(u=s+16|0,g=e[u+4>>2]|0,(g|0)>0|(g|0)==0&(e[u>>2]|0)>>>0>0){d=0;break}return e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+1|0)|0,m=1,q=o,m|0}while(0);return m=d,q=o,m|0}function uL(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0;return l=q,q=q+16|0,f=l,S6(f,i+40|0,e[i+8>>2]|0,s,o),K6(i,f),i=e[f>>2]|0,e[f>>2]=0,i?(f=i+88|0,o=e[f>>2]|0,e[f>>2]=0,o|0&&(f=e[o+8>>2]|0,f|0&&(s=o+12|0,(e[s>>2]|0)!=(f|0)&&(e[s>>2]=f),Ae(f)),Ae(o)),o=e[i+68>>2]|0,o|0&&(f=i+72|0,s=e[f>>2]|0,(s|0)!=(o|0)&&(e[f>>2]=s+(~((s+-4-o|0)>>>2)<<2)),Ae(o)),o=i+64|0,s=e[o>>2]|0,e[o>>2]=0,s|0&&(o=e[s>>2]|0,o|0&&(f=s+4|0,(e[f>>2]|0)!=(o|0)&&(e[f>>2]=o),Ae(o)),Ae(s)),Ae(i),q=l,1):(q=l,1)}function Sm(i,s){i=i|0,s=s|0;var o=0,l=vi,f=0,h=0;if((s|0)!=1?s+-1&s?o=is(s)|0:o=s:o=2,s=e[i+4>>2]|0,o>>>0>s>>>0){td(i,o);return}o>>>0>=s>>>0||(l=Zt((e[i+12>>2]|0)>>>0),f=~~Zt(yi(Zt(l/Zt(bi[i+16>>2]))))>>>0,s>>>0>2&(s+-1&s|0)==0?h=1<<32-(S0(f+-1|0)|0):h=is(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=s>>>0)&&td(i,f))}function cL(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0;return l=q,q=q+48|0,f=l,h=l+32|0,s?(ll(f),(Jy(s,0)|0)!=-1&&kn[e[(e[s>>2]|0)+16>>2]&127](s)|0?(On[e[(e[s>>2]|0)+20>>2]&127](s),wr(h,i,s,f),s=(e[h>>2]|0)==0,i=h+4|0,(Y[i+11>>0]|0)<0&&Ae(e[i>>2]|0),s?(s=e[f>>2]|0,i=f+4|0,Zr(o,s,s+((e[i>>2]|0)-s)|0),g=(e[i>>2]|0)-(e[f>>2]|0)|0):g=0):g=0,i=f+12|0,s=e[i>>2]|0,e[i>>2]=0,s|0&&Ae(s),s=e[f>>2]|0,s|0&&(i=f+4|0,(e[i>>2]|0)!=(s|0)&&(e[i>>2]=s),Ae(s)),u=g,q=l,u|0):(u=0,q=l,u|0)}function hL(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0;return l=q,q=q+16|0,f=l,Ay(f,i+40|0,e[i+8>>2]|0,s,o),K6(i,f),i=e[f>>2]|0,e[f>>2]=0,i?(f=i+88|0,o=e[f>>2]|0,e[f>>2]=0,o|0&&(f=e[o+8>>2]|0,f|0&&(s=o+12|0,(e[s>>2]|0)!=(f|0)&&(e[s>>2]=f),Ae(f)),Ae(o)),o=e[i+68>>2]|0,o|0&&(f=i+72|0,s=e[f>>2]|0,(s|0)!=(o|0)&&(e[f>>2]=s+(~((s+-4-o|0)>>>2)<<2)),Ae(o)),o=i+64|0,s=e[o>>2]|0,e[o>>2]=0,s|0&&(o=e[s>>2]|0,o|0&&(f=s+4|0,(e[f>>2]|0)!=(o|0)&&(e[f>>2]=o),Ae(o)),Ae(s)),Ae(i),q=l,1):(q=l,1)}function B_(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0;if(s=e[i>>2]|0,!!s){if(o=i+4|0,l=e[o>>2]|0,(l|0)==(s|0))f=s;else{h=l;do l=h+-4|0,e[o>>2]=l,u=e[l>>2]|0,e[l>>2]=0,u|0&&(l=u+88|0,g=e[l>>2]|0,e[l>>2]=0,g|0&&(l=e[g+8>>2]|0,l|0&&(d=g+12|0,(e[d>>2]|0)!=(l|0)&&(e[d>>2]=l),Ae(l)),Ae(g)),g=e[u+68>>2]|0,g|0&&(l=u+72|0,d=e[l>>2]|0,(d|0)!=(g|0)&&(e[l>>2]=d+(~((d+-4-g|0)>>>2)<<2)),Ae(g)),g=u+64|0,d=e[g>>2]|0,e[g>>2]=0,d|0&&(g=e[d>>2]|0,g|0&&(l=d+4|0,(e[l>>2]|0)!=(g|0)&&(e[l>>2]=g),Ae(g)),Ae(d)),Ae(u)),h=e[o>>2]|0;while((h|0)!=(s|0));f=e[i>>2]|0}Ae(f)}}function dL(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0;f=(l|0)<0;do if(s){if(f)return h=0,h|0;m=i+4|0,u=e[m>>2]|0,g=e[i>>2]|0,d=u-g|0;do if(0<(l|0)|(l|0)==0&d>>>0<o>>>0){if(d>>>0<o>>>0){Oa(i,o-d|0);break}d>>>0>o>>>0&&(b=g+o|0,(b|0)!=(u|0))&&(e[m>>2]=b),w=15}else w=15;while(0);if((w|0)==15&&(o|0)==0)break;Q0(e[i>>2]|0,s|0,o|0)|0}else{if(f)return h=0,h|0;if(u=i+4|0,g=e[u>>2]|0,d=e[i>>2]|0,m=g-d|0,m>>>0<o>>>0){Oa(i,o-m|0);break}m>>>0>o>>>0&&(m=d+o|0,(m|0)!=(g|0))&&(e[u>>2]=m)}while(0);return o=i+24|0,i=o,s=Qt(e[i>>2]|0,e[i+4>>2]|0,1,0)|0,i=o,e[i>>2]=s,e[i+4>>2]=Ze,h=1,h|0}function pL(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0;if(o=q,q=q+16|0,l=o+4|0,f=o,h=o+8|0,!(L2(i,s)|0))return u=0,q=o,u|0;if(g=i+36|0,d=i+40|0,i=e[g>>2]|0,(e[d>>2]|0)==(i|0))return u=1,q=o,u|0;m=s+16|0,b=s+4|0,w=h+1|0,x=0,C=i;do i=e[C+(x<<2)>>2]|0,S=kn[e[(e[i>>2]|0)+32>>2]&127](i)|0,Y[h>>0]=S,S=m,i=e[S+4>>2]|0,(i|0)>0|(i|0)==0&(e[S>>2]|0)>>>0>0||(e[f>>2]=e[b>>2],e[l>>2]=e[f>>2],wi(s,l,h,w)|0),x=x+1|0,C=e[g>>2]|0;while(x>>>0<(e[d>>2]|0)-C>>2>>>0);return u=1,q=o,u|0}function Q6(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0;s=q,q=q+16|0,o=s,Q2(i),e[i+16>>2]=0,e[i+20>>2]=0,e[i+12>>2]=i+16,l=i+24|0,Q2(l),e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,i=It(32)|0,e[o>>2]=i,e[o+8>>2]=-2147483616,e[o+4>>2]=20,f=i,h=13101,u=f+20|0;do Y[f>>0]=Y[h>>0]|0,f=f+1|0,h=h+1|0;while((f|0)<(u|0));Y[i+20>>0]=0,Oy(l,o,1),(Y[o+11>>0]|0)<0&&Ae(e[o>>2]|0),e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,i=It(32)|0,e[o>>2]=i,e[o+8>>2]=-2147483616,e[o+4>>2]=22,f=i,h=13122,u=f+22|0;do Y[f>>0]=Y[h>>0]|0,f=f+1|0,h=h+1|0;while((f|0)<(u|0));if(Y[i+22>>0]=0,Oy(l,o,1),(Y[o+11>>0]|0)>=0){q=s;return}Ae(e[o>>2]|0),q=s}function J6(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0;if(s=e[i+4>>2]|0,o=i+8|0,l=e[o>>2]|0,(l|0)!=(s|0)){f=l;do l=f+-4|0,e[o>>2]=l,h=e[l>>2]|0,e[l>>2]=0,h|0&&(l=h+88|0,u=e[l>>2]|0,e[l>>2]=0,u|0&&(l=e[u+8>>2]|0,l|0&&(g=u+12|0,(e[g>>2]|0)!=(l|0)&&(e[g>>2]=l),Ae(l)),Ae(u)),u=e[h+68>>2]|0,u|0&&(l=h+72|0,g=e[l>>2]|0,(g|0)!=(u|0)&&(e[l>>2]=g+(~((g+-4-u|0)>>>2)<<2)),Ae(u)),u=h+64|0,g=e[u>>2]|0,e[u>>2]=0,g|0&&(u=e[g>>2]|0,u|0&&(l=g+4|0,(e[l>>2]|0)!=(u|0)&&(e[l>>2]=u),Ae(u)),Ae(g)),Ae(h)),f=e[o>>2]|0;while((f|0)!=(s|0))}s=e[i>>2]|0,s&&Ae(s)}function mL(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0;return o=q,q=q+16|0,l=o+8|0,f=o+4|0,h=o,e[h>>2]=e[i+12>>2],u=s+16|0,g=u,d=e[g>>2]|0,m=e[g+4>>2]|0,(m|0)>0|(m|0)==0&d>>>0>0?(b=m,w=d):(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+4|0)|0,d=u,b=e[d+4>>2]|0,w=e[d>>2]|0),e[h>>2]=e[i+20>>2],(b|0)>0|(b|0)==0&w>>>0>0?(q=o,1):(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+4|0)|0,q=o,1)}function sl(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0;s=q,q=q+16|0,o=s,l=It(16)|0,e[o>>2]=l,e[o+8>>2]=-2147483632,e[o+4>>2]=14,f=l,h=12975,u=f+14|0;do Y[f>>0]=Y[h>>0]|0,f=f+1|0,h=h+1|0;while((f|0)<(u|0));Y[l+14>>0]=0,l=bo(i,o,-1)|0,(Y[o+11>>0]|0)<0&&Ae(e[o>>2]|0),g=It(16)|0,e[o>>2]=g,e[o+8>>2]=-2147483632,e[o+4>>2]=14,f=g,h=12990,u=f+14|0;do Y[f>>0]=Y[h>>0]|0,f=f+1|0,h=h+1|0;while((f|0)<(u|0));return Y[g+14>>0]=0,g=bo(i,o,-1)|0,(Y[o+11>>0]|0)>=0?(d=(l|0)<(g|0),m=d?g:l,b=(m|0)==-1,w=b?5:m,q=s,w|0):(Ae(e[o>>2]|0),d=(l|0)<(g|0),m=d?g:l,b=(m|0)==-1,w=b?5:m,q=s,w|0)}function gL(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0;return o=q,q=q+16|0,l=o+8|0,f=o+4|0,h=o,e[h>>2]=e[i+12>>2],u=s+16|0,g=u,d=e[g>>2]|0,m=e[g+4>>2]|0,(m|0)>0|(m|0)==0&d>>>0>0?(b=m,w=d):(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+4|0)|0,d=u,b=e[d+4>>2]|0,w=e[d>>2]|0),e[h>>2]=e[i+16>>2],(b|0)>0|(b|0)==0&w>>>0>0?(q=o,1):(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+4|0)|0,q=o,1)}function X6(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0;f=It(32)|0,e[i>>2]=f,e[i+4>>2]=s+8,s=i+8|0,Y[s>>0]=0,h=f+8|0,e[h>>2]=e[l>>2],e[h+4>>2]=e[l+4>>2],e[h+8>>2]=e[l+8>>2],e[l>>2]=0,e[l+4>>2]=0,e[l+8>>2]=0,h=f+20|0,u=l+12|0,e[h>>2]=0,e[f+24>>2]=0,e[f+28>>2]=0,f=l+16|0,l=e[f>>2]|0,g=e[u>>2]|0,d=l-g|0,d?(Oa(h,d),m=e[u>>2]|0,b=e[f>>2]|0,w=e[h>>2]|0):(m=g,b=l,w=0),Fi(w|0,m|0,b-m|0)|0,Y[s>>0]=1,s=e[i>>2]|0,e[s+4>>2]=o,e[s>>2]=0}function bL(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0;if(s=i+32|0,pn(i,s),o=i+80|0,l=e[o>>2]|0,l|0&&(f=i+84|0,(e[f>>2]|0)>0)&&(pn(l,s),(e[f>>2]|0)>1)){l=1;do pn((e[o>>2]|0)+(l<<5)|0,s),l=l+1|0;while((l|0)<(e[f>>2]|0))}if(f=i+136|0,l=i+140|0,i=e[f>>2]|0,(e[l>>2]|0)!=(i|0))for(o=0,h=i;i=h,p0((e[i+(o*12|0)+4>>2]|0)-(e[i+(o*12|0)>>2]|0)>>2,s)|0,i=e[f>>2]|0,u=e[i+(o*12|0)>>2]|0,g=(e[i+(o*12|0)+4>>2]|0)-u>>2,g?(il(u,g,1,0,s)|0,d=e[f>>2]|0):d=i,o=o+1|0,!(o>>>0>=(((e[l>>2]|0)-d|0)/12|0)>>>0);)h=d}function yL(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0;l=o+16|0,f=e[l>>2]|0,f?(h=f,u=5):Ik(o)|0?g=0:(h=e[l>>2]|0,u=5);e:do if((u|0)==5){if(f=o+20|0,l=e[f>>2]|0,d=l,(h-l|0)>>>0<s>>>0){g=$o[e[o+36>>2]&31](o,i,s)|0;break}t:do if((Y[o+75>>0]|0)>-1){for(l=s;;){if(!l){m=0,b=i,w=s,x=d;break t}if(C=l+-1|0,(Y[i+C>>0]|0)==10)break;l=C}if(C=$o[e[o+36>>2]&31](o,i,l)|0,C>>>0<l>>>0){g=C;break e}m=l,b=i+l|0,w=s-l|0,x=e[f>>2]|0}else m=0,b=i,w=s,x=d;while(0);Fi(x|0,b|0,w|0)|0,e[f>>2]=(e[f>>2]|0)+w,g=m+w|0}while(0);return g|0}function I_(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0;if(s=i+12|0,o=e[s>>2]|0,e[s>>2]=0,o|0){if(s=e[o+28>>2]|0,s|0){l=s;do s=l,l=e[l>>2]|0,I_(s+8|0),Ae(s);while((l|0)!=0)}if(l=o+20|0,s=e[l>>2]|0,e[l>>2]=0,s|0&&Ae(s),s=e[o+8>>2]|0,s|0){l=s;do s=l,l=e[l>>2]|0,f=s+8|0,h=e[s+20>>2]|0,h|0&&(u=s+24|0,(e[u>>2]|0)!=(h|0)&&(e[u>>2]=h),Ae(h)),(Y[f+11>>0]|0)<0&&Ae(e[f>>2]|0),Ae(s);while((l|0)!=0)}l=e[o>>2]|0,e[o>>2]=0,l|0&&Ae(l),Ae(o)}(Y[i+11>>0]|0)>=0||Ae(e[i>>2]|0)}function vL(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0;if(f=q,q=q+32|0,h=f+12|0,u=f,e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=0,(l|0)>0){g=u+11|0,d=u+4|0,m=0;do(m|0)>0&&zF(h,12890)|0,Mk(u,Zt(bi[o+(m<<2)>>2])),b=Y[g>>0]|0,w=b<<24>>24<0,W_(h,w?e[u>>2]|0:u,w?e[d>>2]|0:b&255)|0,(Y[g>>0]|0)<0&&Ae(e[u>>2]|0),m=m+1|0;while((m|0)<(l|0))}if(M3(Ly(i,s)|0,h)|0,(Y[h+11>>0]|0)>=0){q=f;return}Ae(e[h>>2]|0),q=f}function wL(i,s,o,l,f){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0;var h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0;if((e[o+56>>2]|0)==-1){h=0,e[i>>2]=h;return}u=It(96)|0,S3(u,o),o=u;do if(l)Y[u+84>>0]=1,x=e[u+68>>2]|0,C=u+72|0,m=e[C>>2]|0,(m|0)!=(x|0)&&(e[C>>2]=m+(~((m+-4-x|0)>>>2)<<2)),e[u+80>>2]=e[s+80>>2];else{if(g=e[s+80>>2]|0,Y[u+84>>0]=0,d=u+68|0,m=u+72|0,b=e[m>>2]|0,w=e[d>>2]|0,x=b-w>>2,C=b,g>>>0>x>>>0){W0(d,g-x|0,5908);break}g>>>0<x>>>0&&(x=w+(g<<2)|0,(x|0)!=(C|0))&&(e[m>>2]=C+(~((C+-4-x|0)>>>2)<<2))}while(0);if(!f){h=o,e[i>>2]=h;return}e3(u,f)|0,h=o,e[i>>2]=h}function AL(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;o=i+4|0,l=e[i>>2]|0,f=(e[o>>2]|0)-l|0,h=f>>3,u=h+1|0,u>>>0>536870911&&qe(),g=i+8|0,d=(e[g>>2]|0)-l|0,m=d>>2,b=d>>3>>>0<268435455?m>>>0<u>>>0?u:m:536870911;do if(b)if(b>>>0>536870911)m=An(8)|0,c0(m,14941),e[m>>2]=6944,yn(m|0,1080,114);else{m=It(b<<3)|0,w=m,x=m;break}else w=0,x=0;while(0);m=w+(h<<3)|0,h=s,s=e[h+4>>2]|0,u=m,e[u>>2]=e[h>>2],e[u+4>>2]=s,(f|0)>0&&Fi(x|0,l|0,f|0)|0,e[i>>2]=w,e[o>>2]=m+8,e[g>>2]=w+(b<<3),l&&Ae(l)}function xL(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0;if(o=q,q=q+16|0,l=o,(kn[e[(e[s>>2]|0)+20>>2]&127](s)|0)<=0)return f=1,q=o,f|0;for(h=i+4|0,u=i+20|0,g=i+24|0,d=i+16|0,i=0;m=e[(e[h>>2]|0)+4>>2]|0,b=Jy(m,M0[e[(e[s>>2]|0)+24>>2]&127](s,i)|0)|0,e[l>>2]=b,(b|0)!=-1;)if(m=e[u>>2]|0,(m|0)==(e[g>>2]|0)?pi(d,l):(e[m>>2]=b,e[u>>2]=m+4),kN(e[h>>2]|0,e[l>>2]|0)|0,i=i+1|0,(i|0)>=(kn[e[(e[s>>2]|0)+20>>2]&127](s)|0)){f=1,w=9;break}return(w|0)==9?(q=o,f|0):(f=0,q=o,f|0)}function L_(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0;if(e[i>>2]=1276,B_(i+60|0),s=e[i+48>>2]|0,s|0&&(o=i+52|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),s=i+36|0,l=e[s>>2]|0,l|0){if(o=i+40|0,f=e[o>>2]|0,(f|0)==(l|0))h=l;else{u=f;do f=u+-24|0,e[o>>2]=f,On[e[e[f>>2]>>2]&127](f),u=e[o>>2]|0;while((u|0)!=(l|0));h=e[s>>2]|0}Ae(h)}e[i>>2]=1216,h=e[i+16>>2]|0,h|0&&(s=i+20|0,l=e[s>>2]|0,(l|0)!=(h|0)&&(e[s>>2]=l+(~((l+-4-h|0)>>>2)<<2)),Ae(h)),h=e[i+4>>2]|0,h&&(l=i+8|0,i=e[l>>2]|0,(i|0)!=(h|0)&&(e[l>>2]=i+(~((i+-4-h|0)>>>2)<<2)),Ae(h))}function ua(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0;if(o=q,q=q+32|0,l=o+16|0,f=o+8|0,h=o,u=i+8|0,e[u>>2]<<5>>>0>=s>>>0){q=o;return}e[l>>2]=0,g=l+4|0,e[g>>2]=0,d=l+8|0,e[d>>2]=0,(s|0)<0&&qe(),m=((s+-1|0)>>>5)+1|0,s=It(m<<2)|0,e[l>>2]=s,e[g>>2]=0,e[d>>2]=m,m=e[i>>2]|0,e[f>>2]=m,e[f+4>>2]=0,s=i+4|0,b=e[s>>2]|0,e[h>>2]=m+(b>>>5<<2),e[h+4>>2]=b&31,Nn(l,f,h),h=e[i>>2]|0,e[i>>2]=e[l>>2],e[l>>2]=h,l=e[s>>2]|0,e[s>>2]=e[g>>2],e[g>>2]=l,l=e[u>>2]|0,e[u>>2]=e[d>>2],e[d>>2]=l,h|0&&Ae(h),q=o}function EL(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0;if(s=i+136|0,o=e[s>>2]|0,o|0){if(l=i+140|0,f=e[l>>2]|0,(f|0)==(o|0))h=o;else{for(u=f;f=u+-12|0,e[l>>2]=f,g=e[f>>2]|0,g?(f=u+-8|0,m=e[f>>2]|0,(m|0)!=(g|0)&&(e[f>>2]=m+(~((m+-4-g|0)>>>2)<<2)),Ae(g),d=e[l>>2]|0):d=f,(d|0)!=(o|0);)u=d;h=e[s>>2]|0}Ae(h)}if(h=e[i+104>>2]|0,h|0&&(s=i+108|0,d=e[s>>2]|0,(d|0)!=(h|0)&&(e[s>>2]=d+(~((d+-4-h|0)>>>2)<<2)),Ae(h)),h=e[i+92>>2]|0,!h){$6(i);return}d=i+96|0,s=e[d>>2]|0,(s|0)!=(h|0)&&(e[d>>2]=s+(~((s+-4-h|0)>>>2)<<2)),Ae(h),$6(i)}function _L(i){i=i|0;var s=0,o=0,l=0,f=0;e[i>>2]=3340,s=i+72|0,o=i+136|0,l=i+4|0,f=l+64|0;do e[l>>2]=0,l=l+4|0;while((l|0)<(f|0));l=s,f=l+64|0;do e[l>>2]=0,l=l+4|0;while((l|0)<(f|0));bi[o>>2]=Zt(1),o=i+140|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[i+164>>2]=-1,o=i+168|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+24>>2]=0,_n(i+200|0),ll(i+232|0),o=i+316|0,l=i+264|0,f=l+52|0;do e[l>>2]=0,l=l+4|0;while((l|0)<(f|0));e[o>>2]=-1,e[i+320>>2]=-1,e[i+324>>2]=0,e[i+328>>2]=2,e[i+332>>2]=7,e[i+336>>2]=0,e[i+340>>2]=0,e[i+344>>2]=0,Y[i+352>>0]=0}function kL(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0;o=i+4|0,l=e[i>>2]|0,f=(e[o>>2]|0)-l|0,h=(f|0)/12|0,u=h+1|0,u>>>0>357913941&&qe(),g=i+8|0,d=((e[g>>2]|0)-l|0)/12|0,m=d<<1,b=d>>>0<178956970?m>>>0<u>>>0?u:m:357913941;do if(b)if(b>>>0>357913941)m=An(8)|0,c0(m,14941),e[m>>2]=6944,yn(m|0,1080,114);else{w=It(b*12|0)|0;break}else w=0;while(0);m=w+(h*12|0)|0,e[m>>2]=e[s>>2],e[m+4>>2]=e[s+4>>2],e[m+8>>2]=e[s+8>>2],s=m+(((f|0)/-12|0)*12|0)|0,(f|0)>0&&Fi(s|0,l|0,f|0)|0,e[i>>2]=s,e[o>>2]=m+12,e[g>>2]=w+(b*12|0),l&&Ae(l)}function q6(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0;return f=i+16|0,h=f,u=e[h+4>>2]|0,(o|0)<0|(o|0)==0&s>>>0<1|((u|0)>0|(u|0)==0&(e[h>>2]|0)>>>0>0)?(g=0,g|0):(Y[i+24>>0]=l&1,h=Qt(s|0,o|0,7,0)|0,o=m0(h|0,Ze|0,8,0)|0,h=Ze,s=f,e[s>>2]=o,e[s+4>>2]=h,s=i+4|0,f=e[s>>2]|0,u=e[i>>2]|0,d=f-u|0,m=Qt(d|0,0,8,0)|0,b=l?m:d,m=Qt(b|0,(l?Ze:0)|0,o|0,h|0)|0,h=u,u=f,d>>>0>=m>>>0?(d>>>0>m>>>0&&(f=h+m|0,(f|0)!=(u|0))&&(e[s>>2]=f),w=h):(Oa(i,m-d|0),w=e[i>>2]|0),d=It(8)|0,e[d>>2]=w+b,e[d+4>>2]=0,b=i+12|0,i=e[b>>2]|0,e[b>>2]=d,i?(Ae(i),g=1,g|0):(g=1,g|0))}function Ly(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0;return o=q,q=q+16|0,l=o,f=Zi(i,l,s)|0,h=e[f>>2]|0,h|0?(u=h,g=u+28|0,q=o,g|0):(h=It(40)|0,T0(h+16|0,s),s=h+28|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,s=e[l>>2]|0,e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=s,e[f>>2]=h,s=e[e[i>>2]>>2]|0,s?(e[i>>2]=s,d=e[f>>2]|0):d=h,of(e[i+4>>2]|0,d),d=i+8|0,e[d>>2]=(e[d>>2]|0)+1,u=h,g=u+28|0,q=o,g|0)}function P_(i,s,o,l,f,h,u,g){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,u=u|0,g=g|0;var d=0,m=0,b=0,w=0,x=0,C=0;d=q,q=q+16|0,m=d,(-18-s|0)>>>0<o>>>0&&qe(),(Y[i+11>>0]|0)<0?b=e[i>>2]|0:b=i,s>>>0<2147483623?(w=o+s|0,o=s<<1,x=w>>>0<o>>>0?o:w,C=x>>>0<11?11:x+16&-16):C=-17,x=It(C)|0,f|0&&eu(x,b,f)|0,u|0&&eu(x+f|0,g,u)|0,g=l-h|0,l=g-f|0,l|0&&eu(x+f+u|0,b+f+h|0,l)|0,(s|0)!=10&&Ae(b),e[i>>2]=x,e[i+8>>2]=C|-2147483648,C=g+u|0,e[i+4>>2]=C,Y[m>>0]=0,yd(x+C|0,m),q=d}function K0(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;if(o=i+8|0,l=e[o>>2]|0,f=i+4|0,h=e[f>>2]|0,l-h>>2>>>0>=s>>>0){Tr(h|0,0,s<<2|0)|0,e[f>>2]=h+(s<<2);return}u=e[i>>2]|0,g=h-u|0,h=g>>2,d=h+s|0,d>>>0>1073741823&&qe(),m=l-u|0,l=m>>1,b=m>>2>>>0<536870911?l>>>0<d>>>0?d:l:1073741823;do if(b)if(b>>>0>1073741823)l=An(8)|0,c0(l,14941),e[l>>2]=6944,yn(l|0,1080,114);else{l=It(b<<2)|0,w=l,x=l;break}else w=0,x=0;while(0);l=w+(h<<2)|0,Tr(l|0,0,s<<2|0)|0,(g|0)>0&&Fi(x|0,u|0,g|0)|0,e[i>>2]=w,e[f>>2]=l+(s<<2),e[o>>2]=w+(b<<2),u&&Ae(u)}function CL(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0;f=It(32)|0,e[i>>2]=f,e[i+4>>2]=s+8,s=i+8|0,Y[s>>0]=0,T0(f+8|0,l),h=f+20|0,u=l+12|0,e[h>>2]=0,e[f+24>>2]=0,e[f+28>>2]=0,f=l+16|0,l=e[f>>2]|0,g=e[u>>2]|0,d=l-g|0,d?(Oa(h,d),m=e[u>>2]|0,b=e[f>>2]|0,w=e[h>>2]|0):(m=g,b=l,w=0),Fi(w|0,m|0,b-m|0)|0,Y[s>>0]=1,s=e[i>>2]|0,e[s+4>>2]=o,e[s>>2]=0}function SL(i,s,o){i=i|0,s=s|0,o=Zt(o);var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;for(l=q,q=q+16|0,f=l,h=s+11|0,u=Y[h>>0]|0,u<<24>>24<0?g=e[s+4>>2]|0:g=u&255,d=+o,m=g,g=u;;){if(g<<24>>24<0?b=e[s>>2]|0:b=s,N0[f>>3]=d,w=tC(b,m+1|0,17468,f)|0,(w|0)>-1)if(w>>>0>m>>>0)x=w;else break;else x=m<<1|1;Dm(s,x,0),m=x,g=Y[h>>0]|0}for(Dm(s,w,0),e[i>>2]=e[s>>2],e[i+4>>2]=e[s+4>>2],e[i+8>>2]=e[s+8>>2],i=0;(i|0)!=3;)e[s+(i<<2)>>2]=0,i=i+1|0;q=l}function Oa(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0;if(o=i+8|0,l=e[o>>2]|0,f=i+4|0,h=e[f>>2]|0,(l-h|0)>>>0>=s>>>0){u=s,g=h;do Y[g>>0]=0,g=(e[f>>2]|0)+1|0,e[f>>2]=g,u=u+-1|0;while((u|0)!=0);return}u=e[i>>2]|0,g=h-u|0,h=g+s|0,(h|0)<0&&qe(),d=l-u|0,u=d<<1,l=d>>>0<1073741823?u>>>0<h>>>0?h:u:2147483647,l?m=It(l)|0:m=0,u=m+g|0,g=m+l|0,l=s,s=u,m=u;do Y[m>>0]=0,m=s+1|0,s=m,l=l+-1|0;while((l|0)!=0);l=e[i>>2]|0,m=(e[f>>2]|0)-l|0,h=u+(0-m)|0,(m|0)>0&&Fi(h|0,l|0,m|0)|0,e[i>>2]=h,e[f>>2]=s,e[o>>2]=g,l&&Ae(l)}function N_(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0;if(o=i+4|0,l=e[o>>2]|0,f=e[i>>2]|0,h=(l-f|0)/136|0,u=l,h>>>0<s>>>0){I2(i,s-h|0);return}if(!(h>>>0<=s>>>0)&&(h=f+(s*136|0)|0,(h|0)!=(u|0))){g=u;do e[o>>2]=g+-136,u=e[g+-20>>2]|0,u|0&&(s=g+-16|0,f=e[s>>2]|0,(f|0)!=(u|0)&&(e[s>>2]=f+(~((f+-4-u|0)>>>2)<<2)),Ae(u)),u=e[g+-32>>2]|0,u|0&&(f=g+-28|0,s=e[f>>2]|0,(s|0)!=(u|0)&&(e[f>>2]=s+(~((s+-4-u|0)>>>2)<<2)),Ae(u)),Z6(g+-132|0),g=e[o>>2]|0;while((g|0)!=(h|0))}}function F_(i,s){i=i|0,s=s|0;var o=0,l=vi,f=0,h=0;if((s|0)!=1?s+-1&s?o=is(s)|0:o=s:o=2,s=e[i+4>>2]|0,o>>>0>s>>>0){fm(i,o);return}o>>>0>=s>>>0||(l=Zt((e[i+12>>2]|0)>>>0),f=~~Zt(yi(Zt(l/Zt(bi[i+16>>2]))))>>>0,s>>>0>2&(s+-1&s|0)==0?h=1<<32-(S0(f+-1|0)|0):h=is(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=s>>>0)&&fm(i,f))}function ff(i){i=i|0;var s=0,o=0,l=0;s=e[i+76>>2]|0,s|0&&(o=i+80|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+64>>2]|0,s|0&&(l=i+68|0,(e[l>>2]|0)!=(s|0)&&(e[l>>2]=s),Ae(s)),s=e[i+48>>2]|0,s|0&&(l=i+52|0,o=e[l>>2]|0,(o|0)!=(s|0)&&(e[l>>2]=o+(~((o+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+24>>2]|0,s|0&&(o=i+28|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+12>>2]|0,s|0&&(l=i+16|0,o=e[l>>2]|0,(o|0)!=(s|0)&&(e[l>>2]=o+(~((o+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i>>2]|0,s&&(o=i+4|0,i=e[o>>2]|0,(i|0)!=(s|0)&&(e[o>>2]=i+(~((i+-4-s|0)>>>2)<<2)),Ae(s))}function TL(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0;for(l=q,q=q+16|0,f=l,h=s+11|0,u=Y[h>>0]|0,u<<24>>24<0?g=e[s+4>>2]|0:g=u&255,d=g,g=u;;){if(g<<24>>24<0?m=e[s>>2]|0:m=s,e[f>>2]=o,b=tC(m,d+1|0,17465,f)|0,(b|0)>-1)if(b>>>0>d>>>0)w=b;else break;else w=d<<1|1;Dm(s,w,0),d=w,g=Y[h>>0]|0}for(Dm(s,b,0),e[i>>2]=e[s>>2],e[i+4>>2]=e[s+4>>2],e[i+8>>2]=e[s+8>>2],i=0;(i|0)!=3;)e[s+(i<<2)>>2]=0,i=i+1|0;q=l}function ML(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0;if(s=i+8|0,o=e[s>>2]|0,(o|0)<0)return l=0,l|0;if(f=i+4|0,i=e[f>>2]|0,h=i+4|0,u=e[h>>2]|0,g=e[i>>2]|0,d=u-g>>2,m=g,g=u,o>>>0<=d>>>0?(o>>>0<d>>>0&&(u=m+(o<<2)|0,(u|0)!=(g|0))&&(e[h>>2]=g+(~((g+-4-u|0)>>>2)<<2)),b=o):(K0(i,o-d|0),b=e[s>>2]|0),(b|0)<=0)return l=1,l|0;for(s=e[f>>2]|0,f=e[s>>2]|0,d=(e[s+4>>2]|0)-f>>2,o=f,f=0;;){if(d>>>0<=f>>>0){w=10;break}if(e[o+(f<<2)>>2]=f,f=f+1|0,(f|0)>=(b|0)){l=1,w=12;break}}if((w|0)==10)qe();else if((w|0)==12)return l|0;return 0}function O_(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0;o=q,q=q+16|0,l=o,f=It(32)|0,e[l>>2]=f,e[l+8>>2]=-2147483616,e[l+4>>2]=30,h=f,u=14791,g=h+30|0;do Y[h>>0]=Y[u>>0]|0,h=h+1|0,u=u+1|0;while((h|0)<(g|0));Y[f+30>>0]=0,f=i+4|0,Oy(f,l,s),(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0),i=It(32)|0,e[l>>2]=i,e[l+8>>2]=-2147483616,e[l+4>>2]=29,h=i,u=14510,g=h+29|0;do Y[h>>0]=Y[u>>0]|0,h=h+1|0,u=u+1|0;while((h|0)<(g|0));if(Y[i+29>>0]=0,Oy(f,l,s),(Y[l+11>>0]|0)>=0){q=o;return}Ae(e[l>>2]|0),q=o}function Z6(i){i=i|0;var s=0,o=0,l=0;s=e[i+84>>2]|0,s|0&&(o=i+88|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+72>>2]|0,s|0&&(l=i+76|0,(e[l>>2]|0)!=(s|0)&&(e[l>>2]=s),Ae(s)),s=e[i+52>>2]|0,s|0&&(l=i+56|0,o=e[l>>2]|0,(o|0)!=(s|0)&&(e[l>>2]=o+(~((o+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+40>>2]|0,s|0&&(o=i+44|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+28>>2]|0,s|0&&(l=i+32|0,o=e[l>>2]|0,(o|0)!=(s|0)&&(e[l>>2]=o+(~((o+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+12>>2]|0,s|0&&Ae(s),s=e[i>>2]|0,s&&Ae(s)}function Vc(i){i=i|0;var s=0,o=0,l=0,f=0;e[i>>2]=1336,s=i+32|0,o=e[s>>2]|0,e[s>>2]=0,o|0&&(s=o+88|0,l=e[s>>2]|0,e[s>>2]=0,l|0&&(s=e[l+8>>2]|0,s|0&&(f=l+12|0,(e[f>>2]|0)!=(s|0)&&(e[f>>2]=s),Ae(s)),Ae(l)),l=e[o+68>>2]|0,l|0&&(s=o+72|0,f=e[s>>2]|0,(f|0)!=(l|0)&&(e[s>>2]=f+(~((f+-4-l|0)>>>2)<<2)),Ae(l)),l=o+64|0,f=e[l>>2]|0,e[l>>2]=0,f|0&&(l=e[f>>2]|0,l|0&&(s=f+4|0,(e[s>>2]|0)!=(l|0)&&(e[s>>2]=l),Ae(l)),Ae(f)),Ae(o)),o=e[i+16>>2]|0,o&&(f=i+20|0,i=e[f>>2]|0,(i|0)!=(o|0)&&(e[f>>2]=i+(~((i+-4-o|0)>>>2)<<2)),Ae(o))}function RL(){var i=0,s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0;i=q,q=q+48|0,s=i+32|0,o=i+24|0,l=i+16|0,f=i,h=i+36|0,i=FF()|0,i|0&&(u=e[i>>2]|0,u|0)&&(i=u+48|0,g=e[i>>2]|0,d=e[i+4>>2]|0,(g&-256|0)==1126902528&(d|0)==1129074247||(e[o>>2]=17607,gd(17557,o)),(g|0)==1126902529&(d|0)==1129074247?m=e[u+44>>2]|0:m=u+80|0,e[h>>2]=m,m=e[u>>2]|0,u=e[m+4>>2]|0,$o[e[(e[250]|0)+16>>2]&31](1e3,m,h)|0?(m=e[h>>2]|0,h=kn[e[(e[m>>2]|0)+8>>2]&127](m)|0,e[f>>2]=17607,e[f+4>>2]=u,e[f+8>>2]=h,gd(17471,f)):(e[l>>2]=17607,e[l+4>>2]=u,gd(17516,l))),gd(17595,s)}function DL(i,s,o){i=i|0,s=s|0,o=o|0;var l=0;do if(i){if(s>>>0<128){Y[i>>0]=s,l=1;break}if(o=(DC()|0)+188|0,!(e[e[o>>2]>>2]|0))if((s&-128|0)==57216){Y[i>>0]=s,l=1;break}else{o=ca()|0,e[o>>2]=84,l=-1;break}if(s>>>0<2048){Y[i>>0]=s>>>6|192,Y[i+1>>0]=s&63|128,l=2;break}if(s>>>0<55296|(s&-8192|0)==57344){Y[i>>0]=s>>>12|224,Y[i+1>>0]=s>>>6&63|128,Y[i+2>>0]=s&63|128,l=3;break}if((s+-65536|0)>>>0<1048576){Y[i>>0]=s>>>18|240,Y[i+1>>0]=s>>>12&63|128,Y[i+2>>0]=s>>>6&63|128,Y[i+3>>0]=s&63|128,l=4;break}else{o=ca()|0,e[o>>2]=84,l=-1;break}}else l=1;while(0);return l|0}function pi(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0;o=i+4|0,l=e[i>>2]|0,f=(e[o>>2]|0)-l|0,h=f>>2,u=h+1|0,u>>>0>1073741823&&qe(),g=i+8|0,d=(e[g>>2]|0)-l|0,m=d>>1,b=d>>2>>>0<536870911?m>>>0<u>>>0?u:m:1073741823;do if(b)if(b>>>0>1073741823)m=An(8)|0,c0(m,14941),e[m>>2]=6944,yn(m|0,1080,114);else{m=It(b<<2)|0,w=m,x=m;break}else w=0,x=0;while(0);m=w+(h<<2)|0,e[m>>2]=e[s>>2],(f|0)>0&&Fi(x|0,l|0,f|0)|0,e[i>>2]=w,e[o>>2]=m+4,e[g>>2]=w+(b<<2),l&&Ae(l)}function io(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0;return s=i+104|0,o=e[s>>2]|0,(o|0)!=0&&(e[i+108>>2]|0)>=(o|0)?l=4:(o=CF(i)|0,(o|0)>=0?(f=e[s>>2]|0,s=i+8|0,f?(h=e[s>>2]|0,u=e[i+4>>2]|0,g=f-(e[i+108>>2]|0)|0,f=h,(h-u|0)<(g|0)?(d=f,m=f):(d=u+(g+-1)|0,m=f)):(f=e[s>>2]|0,d=f,m=f),e[i+100>>2]=d,d=i+4|0,m?(f=e[d>>2]|0,d=i+108|0,e[d>>2]=m+1-f+(e[d>>2]|0),b=f):b=e[d>>2]|0,f=b+-1|0,(o|0)==(br[f>>0]|0|0)||(Y[f>>0]=o),w=o):l=4),(l|0)==4&&(e[i+100>>2]=0,w=-1),w|0}function BL(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0,e[i>>2]=1528,e[i+4>>2]=s,s=i+8|0,e[s>>2]=e[o>>2],e[s+4>>2]=e[o+4>>2],e[s+8>>2]=e[o+8>>2],e[s+12>>2]=e[o+12>>2],e[s+16>>2]=e[o+16>>2],e[s+20>>2]=e[o+20>>2],uf(i+32|0,o+24|0),e[i>>2]=2144,o=i+44|0,e[o>>2]=e[l>>2],e[o+4>>2]=e[l+4>>2],e[o+8>>2]=e[l+8>>2],e[o+12>>2]=e[l+12>>2],e[i>>2]=2200,l=i+112|0,o=i+60|0,s=o+52|0;do e[o>>2]=0,o=o+4|0;while((o|0)<(s|0));Zy(l),e[i+152>>2]=0,e[i+156>>2]=0,e[i+160>>2]=0}function IL(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0;l=q,q=q+16|0,f=l,h=It(16)|0,e[f>>2]=h,e[f+8>>2]=-2147483632,e[f+4>>2]=14,u=h,g=12975,d=u+14|0;do Y[u>>0]=Y[g>>0]|0,u=u+1|0,g=g+1|0;while((u|0)<(d|0));Y[h+14>>0]=0,j2(i,f,s),(Y[f+11>>0]|0)<0&&Ae(e[f>>2]|0),s=It(16)|0,e[f>>2]=s,e[f+8>>2]=-2147483632,e[f+4>>2]=14,u=s,g=12990,d=u+14|0;do Y[u>>0]=Y[g>>0]|0,u=u+1|0,g=g+1|0;while((u|0)<(d|0));if(Y[s+14>>0]=0,j2(i,f,o),(Y[f+11>>0]|0)>=0){q=l;return}Ae(e[f>>2]|0),q=l}function Tm(i){i=i|0;var s=0,o=0,l=0;e[i>>2]=3320,s=e[i+88>>2]|0,s|0&&(o=i+92|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+72>>2]|0,s|0&&(l=i+76|0,o=e[l>>2]|0,(o|0)!=(s|0)&&(e[l>>2]=o+(~((o+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+60>>2]|0,s|0&&(o=i+64|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+48>>2]|0,s|0&&(l=i+52|0,o=e[l>>2]|0,(o|0)!=(s|0)&&(e[l>>2]=o+(~((o+-4-s|0)>>>2)<<2)),Ae(s)),e[i>>2]=3276,s=e[i+36>>2]|0,s|0&&Ae(s),s=e[i+24>>2]|0,s&&Ae(s)}function LL(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0,e[i>>2]=1528,e[i+4>>2]=s,s=i+8|0,e[s>>2]=e[o>>2],e[s+4>>2]=e[o+4>>2],e[s+8>>2]=e[o+8>>2],e[s+12>>2]=e[o+12>>2],e[s+16>>2]=e[o+16>>2],e[s+20>>2]=e[o+20>>2],uf(i+32|0,o+24|0),e[i>>2]=1836,o=i+44|0,e[o>>2]=e[l>>2],e[o+4>>2]=e[l+4>>2],e[o+8>>2]=e[l+8>>2],e[o+12>>2]=e[l+12>>2],e[i>>2]=1892,l=i+112|0,o=i+60|0,s=o+52|0;do e[o>>2]=0,o=o+4|0;while((o|0)<(s|0));Zy(l),e[i+152>>2]=0,e[i+156>>2]=0,e[i+160>>2]=0}function H_(i){i=i|0;var s=0,o=0,l=0;e[i>>2]=2200,s=e[i+152>>2]|0,s|0&&(o=i+156|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+112>>2]|0,s|0&&(l=i+116|0,o=e[l>>2]|0,(o|0)!=(s|0)&&(e[l>>2]=o+(~((o+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+96>>2]|0,s|0&&Ae(s),s=e[i+84>>2]|0,s|0&&Ae(s),s=e[i+72>>2]|0,s|0&&Ae(s),s=e[i+60>>2]|0,s|0&&Ae(s),e[i>>2]=1528,s=e[i+32>>2]|0,s&&(o=i+36|0,i=e[o>>2]|0,(i|0)!=(s|0)&&(e[o>>2]=i+(~((i+-4-s|0)>>>2)<<2)),Ae(s))}function PL(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0;if(o=q,q=q+16|0,l=o,f=e[(e[s+4>>2]|0)+4>>2]|0,!f){e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,q=o;return}if(YL(o+12|0,e[s+44>>2]|0,f)|0)e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0;else{f=It(32)|0,e[l>>2]=f,e[l+8>>2]=-2147483616,e[l+4>>2]=26,s=f,h=14822,u=s+26|0;do Y[s>>0]=Y[h>>0]|0,s=s+1|0,h=h+1|0;while((s|0)<(u|0));Y[f+26>>0]=0,e[i>>2]=-1,T0(i+4|0,l),(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0)}q=o}function U_(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0;if(o=s+48|0,(sl(e[o>>2]|0)|0)>9||(kn[e[(e[s>>2]|0)+8>>2]&127](s)|0)!=1)return l=0,l|0;f=s+4|0,s=(e[(e[(e[f>>2]|0)+8>>2]|0)+(i<<2)>>2]|0)+56|0,i=e[s>>2]|0;do if((i|0)==3){if((sl(e[o>>2]|0)|0)<4)return l=5,l|0;h=e[s>>2]|0;break}else h=i;while(0);return i=sl(e[o>>2]|0)|0,(h|0)==1?(l=(i|0)<4?6:0,l|0):(i|0)>7?(l=0,l|0):(sl(e[o>>2]|0)|0)>1?(l=1,l|0):((e[(e[f>>2]|0)+80>>2]|0)>>>0<40?1:4)|0}function V_(i){i=i|0;var s=0,o=0,l=0;e[i>>2]=1892,s=e[i+152>>2]|0,s|0&&(o=i+156|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+112>>2]|0,s|0&&(l=i+116|0,o=e[l>>2]|0,(o|0)!=(s|0)&&(e[l>>2]=o+(~((o+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+96>>2]|0,s|0&&Ae(s),s=e[i+84>>2]|0,s|0&&Ae(s),s=e[i+72>>2]|0,s|0&&Ae(s),s=e[i+60>>2]|0,s|0&&Ae(s),e[i>>2]=1528,s=e[i+32>>2]|0,s&&(o=i+36|0,i=e[o>>2]|0,(i|0)!=(s|0)&&(e[o>>2]=i+(~((i+-4-s|0)>>>2)<<2)),Ae(s))}function NL(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0;f=q,q=q+128|0,h=f+124|0,u=f,g=u,d=6284,m=g+124|0;do e[g>>2]=e[d>>2],g=g+4|0,d=d+4|0;while((g|0)<(m|0));return(s+-1|0)>>>0>2147483646?s?(h=ca()|0,e[h>>2]=75,C=-1):(b=h,w=1,x=4):(b=i,w=s,x=4),(x|0)==4&&(x=-2-b|0,s=w>>>0>x>>>0?x:w,e[u+48>>2]=s,w=u+20|0,e[w>>2]=b,e[u+44>>2]=b,x=b+s|0,b=u+16|0,e[b>>2]=x,e[u+28>>2]=x,x=S_(u,o,l)|0,s&&(s=e[w>>2]|0,Y[s+(((s|0)==(e[b>>2]|0))<<31>>31)>>0]=0),C=x),q=f,C|0}function FL(i){i=i|0;var s=0,o=0,l=0,f=0;e[i>>2]=3080,s=i+72|0,o=i+136|0,l=i+4|0,f=l+64|0;do e[l>>2]=0,l=l+4|0;while((l|0)<(f|0));l=s,f=l+64|0;do e[l>>2]=0,l=l+4|0;while((l|0)<(f|0));bi[o>>2]=Zt(1),o=i+140|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[i+164>>2]=-1,o=i+168|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+24>>2]=0,_n(i+200|0),ll(i+232|0),o=i+264|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,Y[o+24>>0]=0}function OL(i,s,o,l){i=i|0,s=s|0,o=o|0,l=+l;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0;return i=q,q=q+16|0,f=i,s?(e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,u=jc(o)|0,u>>>0>4294967279&&qe(),u>>>0<11?(Y[f+11>>0]=u,u?(d=f,m=7):g=f):(b=u+16&-16,w=It(b)|0,e[f>>2]=w,e[f+8>>2]=b|-2147483648,e[f+4>>2]=u,d=w,m=7),(m|0)==7&&(Fi(d|0,o|0,u|0)|0,g=d),Y[g+u>>0]=0,GN(s,f,l),(Y[f+11>>0]|0)<0&&Ae(e[f>>2]|0),h=1,q=i,h|0):(h=0,q=i,h|0)}function HL(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0;return i=q,q=q+16|0,f=i,s?(e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,u=jc(o)|0,u>>>0>4294967279&&qe(),u>>>0<11?(Y[f+11>>0]=u,u?(d=f,m=7):g=f):(b=u+16&-16,w=It(b)|0,e[f>>2]=w,e[f+8>>2]=b|-2147483648,e[f+4>>2]=u,d=w,m=7),(m|0)==7&&(Fi(d|0,o|0,u|0)|0,g=d),Y[g+u>>0]=0,zN(s,f,l),(Y[f+11>>0]|0)<0&&Ae(e[f>>2]|0),h=1,q=i,h|0):(h=0,q=i,h|0)}function Kf(i){i=i|0;var s=0,o=0,l=0,f=0,h=0;if(s=e[i+28>>2]|0,s|0){o=s;do s=o,o=e[o>>2]|0,l=s+8|0,f=s+20|0,h=e[f>>2]|0,e[f>>2]=0,h|0&&(Kf(h),Ae(h)),(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0),Ae(s);while((o|0)!=0)}if(o=i+20|0,s=e[o>>2]|0,e[o>>2]=0,s|0&&Ae(s),s=e[i+8>>2]|0,s|0){o=s;do s=o,o=e[o>>2]|0,l=s+8|0,h=e[s+20>>2]|0,h|0&&(f=s+24|0,(e[f>>2]|0)!=(h|0)&&(e[f>>2]=h),Ae(h)),(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0),Ae(s);while((o|0)!=0)}o=e[i>>2]|0,e[i>>2]=0,o&&Ae(o)}function UL(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0;if(o=q,q=q+16|0,l=o,l4[e[(e[s>>2]|0)+64>>2]&15](i,s),e[i>>2]|0){q=o;return}f=i+4|0,(Y[f+11>>0]|0)<0&&Ae(e[f>>2]|0),f=e[s+48>>2]|0,h=It(32)|0,e[l>>2]=h,e[l+8>>2]=-2147483616,e[l+4>>2]=29,u=h,g=14510,d=u+29|0;do Y[u>>0]=Y[g>>0]|0,u=u+1|0,g=g+1|0;while((u|0)<(d|0));Y[h+29>>0]=0,h=G2(f,l,0)|0,(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0),h&&On[e[(e[s>>2]|0)+68>>2]&127](s),e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,q=o}function Y6(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0;if(l=q,q=q+16|0,f=l,h=e[s+48>>2]|0,!h){u=It(32)|0,e[f>>2]=u,e[f+8>>2]=-2147483616,e[f+4>>2]=23,g=u,d=14670,m=g+23|0;do Y[g>>0]=Y[d>>0]|0,g=g+1|0,d=d+1|0;while((g|0)<(m|0));Y[u+23>>0]=0,e[i>>2]=-1,T0(i+4|0,f),(Y[f+11>>0]|0)<0&&Ae(e[f>>2]|0),q=l;return}if(f=e[s+52>>2]|0,f){z0(i,s,f,o),q=l;return}else{x0(i,s,h,o),q=l;return}}function j_(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0;if(Sn(i),s=i+84|0,o=e[s>>2]|0,!((o|0)<=0)){l=o<<5,f=Fl(o>>>0>134217727|l>>>0>4294967291?-1:l+4|0)|0,e[f>>2]=o,l=f+4|0,f=l+(o<<5)|0,o=l;do _n(o),o=o+32|0;while((o|0)!=(f|0));if(f=i+80|0,i=e[f>>2]|0,e[f>>2]=l,i|0){if(l=i+-4|0,o=e[l>>2]|0,o|0){h=i+(o<<5)|0;do h=h+-32|0,ln(h);while((h|0)!=(i|0))}F0(l)}if((e[s>>2]|0)>0)u=0;else return;do Sn((e[f>>2]|0)+(u<<5)|0),u=u+1|0;while((u|0)<(e[s>>2]|0))}}function G_(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0;if(!s||e[s+4>>2]|0)return l=0,l|0;if(i=It(52)|0,A3(i,o),e[i+40>>2]=0,e[i+44>>2]=0,e[i+48>>2]=0,o=s+4|0,s=e[o>>2]|0,e[o>>2]=i,!s)return l=1,l|0;if(i=s+40|0,o=e[i>>2]|0,o|0){if(f=s+44|0,h=e[f>>2]|0,(h|0)==(o|0))u=o;else{g=h;do h=g+-4|0,e[f>>2]=h,d=e[h>>2]|0,e[h>>2]=0,d|0&&(Kf(d),Ae(d)),g=e[f>>2]|0;while((g|0)!=(o|0));u=e[i>>2]|0}Ae(u)}return Kf(s),Ae(s),l=1,l|0}function Wn(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0;o=e[i>>2]|0,s?(s=o+8|0,l=s,f=Qt(e[l>>2]|0,e[l+4>>2]|0,1,0)|0,l=s,e[l>>2]=f,e[l+4>>2]=Ze,l=i+28|0,f=e[l>>2]|0,s=i+24|0,e[s>>2]=e[s>>2]|1<<f,h=l,u=f):(f=o,l=Qt(e[f>>2]|0,e[f+4>>2]|0,1,0)|0,f=o,e[f>>2]=l,e[f+4>>2]=Ze,f=i+28|0,h=f,u=e[f>>2]|0),f=u+1|0,e[h>>2]=f,(f|0)==32&&(f=i+24|0,u=i+16|0,l=e[u>>2]|0,(l|0)==(e[i+20>>2]|0)?pi(i+12|0,f):(e[l>>2]=e[f>>2],e[u>>2]=l+4),e[h>>2]=0,e[f>>2]=0)}function K6(i,s){i=i|0,s=s|0;var o=0,l=0;o=i+32|0,i=e[s>>2]|0,e[s>>2]=0,s=e[o>>2]|0,e[o>>2]=i,s&&(i=s+88|0,o=e[i>>2]|0,e[i>>2]=0,o|0&&(i=e[o+8>>2]|0,i|0&&(l=o+12|0,(e[l>>2]|0)!=(i|0)&&(e[l>>2]=i),Ae(i)),Ae(o)),o=e[s+68>>2]|0,o|0&&(i=s+72|0,l=e[i>>2]|0,(l|0)!=(o|0)&&(e[i>>2]=l+(~((l+-4-o|0)>>>2)<<2)),Ae(o)),o=s+64|0,l=e[o>>2]|0,e[o>>2]=0,l|0&&(o=e[l>>2]|0,o|0&&(i=l+4|0,(e[i>>2]|0)!=(o|0)&&(e[i>>2]=o),Ae(o)),Ae(l)),Ae(s))}function VL(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0;return l=q,q=q+16|0,f=l,s|0&&(h=i+11|0,u=Y[h>>0]|0,u<<24>>24<0?(g=e[i+4>>2]|0,d=(e[i+8>>2]&2147483647)+-1|0):(g=u&255,d=10),(d-g|0)>>>0<s>>>0?(XL(i,d,s-d+g|0,g,g,0,0),m=Y[h>>0]|0):m=u,m<<24>>24<0?b=e[i>>2]|0:b=i,nO(b+g|0,s,o)|0,o=g+s|0,(Y[h>>0]|0)<0?e[i+4>>2]=o:Y[h>>0]=o,Y[f>>0]=0,yd(b+o|0,f)),q=l,i|0}function jL(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0;l=q,q=q+48|0,f=l+4|0,h=l,u=e[s+12>>2]|0,g=e[s+4>>2]|0,s=f,d=s+36|0;do e[s>>2]=0,s=s+4|0;while((s|0)<(d|0));if(GI(h,o,u,g,f),g=e[f+24>>2]|0,!g){m=e[h>>2]|0,e[i>>2]=m,q=l;return}u=f+28|0,f=e[u>>2]|0,(f|0)!=(g|0)&&(e[u>>2]=f+(~((f+-4-g|0)>>>2)<<2)),Ae(g),m=e[h>>2]|0,e[i>>2]=m,q=l}function GL(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0;l=q,q=q+16|0,f=l,h=i+11|0,u=Y[h>>0]|0,g=u<<24>>24<0,g?d=(e[i+8>>2]&2147483647)+-1|0:d=10;do if(d>>>0>=o>>>0)if(g?m=e[i>>2]|0:m=i,DO(m,s,o)|0,Y[f>>0]=0,yd(m+o|0,f),(Y[h>>0]|0)<0){e[i+4>>2]=o;break}else{Y[h>>0]=o;break}else g?b=e[i+4>>2]|0:b=u&255,P_(i,d,o-d|0,b,0,b,o,s);while(0);return q=l,i|0}function z_(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0;if(s=e[i>>2]|0,!!s){if(o=i+4|0,l=e[o>>2]|0,(l|0)==(s|0))f=s;else{h=l;do e[o>>2]=h+-136,l=e[h+-20>>2]|0,l|0&&(u=h+-16|0,g=e[u>>2]|0,(g|0)!=(l|0)&&(e[u>>2]=g+(~((g+-4-l|0)>>>2)<<2)),Ae(l)),l=e[h+-32>>2]|0,l|0&&(g=h+-28|0,u=e[g>>2]|0,(u|0)!=(l|0)&&(e[g>>2]=u+(~((u+-4-l|0)>>>2)<<2)),Ae(l)),Z6(h+-132|0),h=e[o>>2]|0;while((h|0)!=(s|0));f=e[i>>2]|0}Ae(f)}}function W_(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0;return l=q,q=q+16|0,f=l,h=i+11|0,u=Y[h>>0]|0,g=u<<24>>24<0,g?(d=e[i+4>>2]|0,m=(e[i+8>>2]&2147483647)+-1|0):(d=u&255,m=10),(m-d|0)>>>0>=o>>>0?o|0&&(g?b=e[i>>2]|0:b=i,eu(b+d|0,s,o)|0,g=d+o|0,(Y[h>>0]|0)<0?e[i+4>>2]=g:Y[h>>0]=g,Y[f>>0]=0,yd(b+g|0,f)):P_(i,m,o-m+d|0,d,d,0,o,s),q=l,i|0}function Mm(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0;if(e[i>>2]=3608,s=e[i+32>>2]|0,s|0&&(o=i+36|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+20>>2]|0,s|0&&(l=i+24|0,o=e[l>>2]|0,(o|0)!=(s|0)&&(e[l>>2]=o+(~((o+-4-s|0)>>>2)<<2)),Ae(s)),s=i+8|0,o=e[s>>2]|0,!!o){if(l=i+12|0,i=e[l>>2]|0,(i|0)==(o|0))f=o;else{h=i;do i=h+-4|0,e[l>>2]=i,u=e[i>>2]|0,e[i>>2]=0,u|0&&On[e[(e[u>>2]|0)+4>>2]&127](u),h=e[l>>2]|0;while((h|0)!=(o|0));f=e[s>>2]|0}Ae(f)}}function zL(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0;if(o=i+4|0,(kn[e[(e[s>>2]|0)+20>>2]&127](s)|0)<=0)return l=1,l|0;for(i=0;;){if(f=e[(e[o>>2]|0)+4>>2]|0,h=Jy(f,M0[e[(e[s>>2]|0)+24>>2]&127](s,i)|0)|0,(h|0)==-1){l=0,u=6;break}if(f=e[(e[s>>2]|0)+28>>2]|0,g=_N(e[o>>2]|0,h)|0,i=i+1|0,!(M0[f&127](s,g)|0)){l=0,u=6;break}if((i|0)>=(kn[e[(e[s>>2]|0)+20>>2]&127](s)|0)){l=1,u=6;break}}return(u|0)==6?l|0:0}function WL(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0;if(nC(i,s,o)|0,!(kn[e[(e[i>>2]|0)+52>>2]&127](i)|0))return l=0,l|0;if(o=i+4|0,f=i+8|0,h=e[o>>2]|0,(e[f>>2]|0)==(h|0))return l=1,l|0;for(u=i+36|0,i=0,g=h;;){if(h=e[(e[u>>2]|0)+(i<<2)>>2]|0,!($o[e[(e[h>>2]|0)+8>>2]&31](h,s,e[g+(i<<2)>>2]|0)|0)){l=0,d=7;break}if(i=i+1|0,g=e[o>>2]|0,i>>>0>=(e[f>>2]|0)-g>>2>>>0){l=1,d=7;break}}return(d|0)==7?l|0:0}function T0(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0;o=q,q=q+16|0,l=o,e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,(Y[s+11>>0]|0)<0?(f=e[s>>2]|0,h=e[s+4>>2]|0,h>>>0>4294967279&&qe(),h>>>0<11?(Y[i+11>>0]=h,u=i):(g=h+16&-16,d=It(g)|0,e[i>>2]=d,e[i+8>>2]=g|-2147483648,e[i+4>>2]=h,u=d),eu(u,f,h)|0,Y[l>>0]=0,yd(u+h|0,l)):(e[i>>2]=e[s>>2],e[i+4>>2]=e[s+4>>2],e[i+8>>2]=e[s+8>>2]),q=o}function Q_(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0;if(o=q,q=q+16|0,l=o+8|0,f=o+4|0,h=o,e[h>>2]=e[(e[s+4>>2]|0)+80>>2],u=e[s+44>>2]|0,s=u+16|0,g=e[s+4>>2]|0,(g|0)>0|(g|0)==0&(e[s>>2]|0)>>>0>0){e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,q=o;return}e[f>>2]=e[u+4>>2],e[l>>2]=e[f>>2],wi(u,l,h,h+4|0)|0,e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,q=o}function J_(i,s,o,l,f){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0;var h=0,u=0;Y[s+53>>0]=1;do if((e[s+4>>2]|0)==(l|0)){if(Y[s+52>>0]=1,i=s+16|0,h=e[i>>2]|0,!h){if(e[i>>2]=o,e[s+24>>2]=f,e[s+36>>2]=1,!((f|0)==1&&(e[s+48>>2]|0)==1))break;Y[s+54>>0]=1;break}if((h|0)!=(o|0)){h=s+36|0,e[h>>2]=(e[h>>2]|0)+1,Y[s+54>>0]=1;break}h=s+24|0,i=e[h>>2]|0,(i|0)==2?(e[h>>2]=f,u=f):u=i,(u|0)==1&&(e[s+48>>2]|0)==1&&(Y[s+54>>0]=1)}while(0)}function QL(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0;if(o=i+36|0,l=i+40|0,f=e[o>>2]|0,(e[l>>2]|0)!=(f|0)){h=0,u=f;do Ai(u+(h*24|0)|0,s)|0,h=h+1|0,u=e[o>>2]|0;while(h>>>0<(((e[l>>2]|0)-u|0)/24|0)>>>0)}if(u=i+48|0,l=i+52|0,i=e[u>>2]|0,(e[l>>2]|0)==(i|0))return 1;g=0,d=i;do i=e[d+(g<<2)>>2]|0,p0(i<<1^i>>31,s)|0,g=g+1|0,d=e[u>>2]|0;while(g>>>0<(e[l>>2]|0)-d>>2>>>0);return 1}function Tr(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0;if(l=i+o|0,s=s&255,(o|0)>=67){for(;i&3;)Y[i>>0]=s,i=i+1|0;for(f=l&-4|0,h=f-64|0,u=s|s<<8|s<<16|s<<24;(i|0)<=(h|0);)e[i>>2]=u,e[i+4>>2]=u,e[i+8>>2]=u,e[i+12>>2]=u,e[i+16>>2]=u,e[i+20>>2]=u,e[i+24>>2]=u,e[i+28>>2]=u,e[i+32>>2]=u,e[i+36>>2]=u,e[i+40>>2]=u,e[i+44>>2]=u,e[i+48>>2]=u,e[i+52>>2]=u,e[i+56>>2]=u,e[i+60>>2]=u,i=i+64|0;for(;(i|0)<(f|0);)e[i>>2]=u,i=i+4|0}for(;(i|0)<(l|0);)Y[i>>0]=s,i=i+1|0;return l-o|0}function JL(i,s,o,l,f){i=i|0,s=s|0,o=o|0,l=l|0;var h=0;do if(tu(i,e[s+8>>2]|0)|0)Xk(0,s,o,l);else if(tu(i,e[s>>2]|0)|0){if((e[s+16>>2]|0)!=(o|0)&&(h=s+20|0,(e[h>>2]|0)!=(o|0))){e[s+32>>2]=l,e[h>>2]=o,h=s+40|0,e[h>>2]=(e[h>>2]|0)+1,(e[s+36>>2]|0)==1&&(e[s+24>>2]|0)==2&&(Y[s+54>>0]=1),e[s+44>>2]=4;break}(l|0)==1&&(e[s+32>>2]=1)}while(0)}function $6(i){i=i|0;var s=0,o=0,l=0,f=0;if(s=i+80|0,o=e[s>>2]|0,e[s>>2]=0,o|0){if(s=o+-4|0,l=e[s>>2]|0,l|0){f=o+(l<<5)|0;do f=f+-32|0,ln(f);while((f|0)!=(o|0))}F0(s)}if(s=e[i+68>>2]|0,s|0&&(o=i+72|0,f=e[o>>2]|0,(f|0)!=(s|0)&&(e[o>>2]=f+(~((f+-4-s|0)>>>2)<<2)),Ae(s)),s=i+44|0,f=e[s>>2]|0,e[s>>2]=0,f|0&&Ae(f),f=e[i+32>>2]|0,!f){ln(i);return}s=i+36|0,(e[s>>2]|0)!=(f|0)&&(e[s>>2]=f),Ae(f),ln(i)}function X_(i){i=i|0;var s=0,o=0,l=0;e[i>>2]=2684,s=e[i+136>>2]|0,s|0&&(o=i+140|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+96>>2]|0,s|0&&(l=i+100|0,o=e[l>>2]|0,(o|0)!=(s|0)&&(e[l>>2]=o+(~((o+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+76>>2]|0,s|0&&Ae(s),s=e[i+64>>2]|0,s|0&&Ae(s),s=e[i+52>>2]|0,s|0&&Ae(s),s=e[i+40>>2]|0,s&&Ae(s)}function XL(i,s,o,l,f,h,u){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,u=u|0;var g=0,d=0,m=0,b=0;(-17-s|0)>>>0<o>>>0&&qe(),(Y[i+11>>0]|0)<0?g=e[i>>2]|0:g=i,s>>>0<2147483623?(d=o+s|0,o=s<<1,m=d>>>0<o>>>0?o:d,b=m>>>0<11?11:m+16&-16):b=-17,m=It(b)|0,f|0&&eu(m,g,f)|0,d=l-h-f|0,d|0&&eu(m+f+u|0,g+f+h|0,d)|0,(s|0)!=10&&Ae(g),e[i>>2]=m,e[i+8>>2]=b|-2147483648}function q_(i){i=i|0;var s=0,o=0,l=0;e[i>>2]=2432,s=e[i+136>>2]|0,s|0&&(o=i+140|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+96>>2]|0,s|0&&(l=i+100|0,o=e[l>>2]|0,(o|0)!=(s|0)&&(e[l>>2]=o+(~((o+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+76>>2]|0,s|0&&Ae(s),s=e[i+64>>2]|0,s|0&&Ae(s),s=e[i+52>>2]|0,s|0&&Ae(s),s=e[i+40>>2]|0,s&&Ae(s)}function Rm(i,s){if(i=i|0,s=s|0,s){Rm(i,e[s>>2]|0),Rm(i,e[s+4>>2]|0),hs(s+20|0,e[s+24>>2]|0),Ae(s);return}else return}function qL(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0;if(bs(i,s,o),o=e[i+100>>2]|0,l=e[i+96>>2]|0,i=l,(o|0)!=(l|0)){f=e[s>>2]|0,s=(o-l|0)/12|0,l=0;do o=i+(l*12|0)|0,e[o>>2]=e[f+(e[o>>2]<<2)>>2],o=i+(l*12|0)+4|0,e[o>>2]=e[f+(e[o>>2]<<2)>>2],o=i+(l*12|0)+8|0,e[o>>2]=e[f+(e[o>>2]<<2)>>2],l=l+1|0;while(l>>>0<s>>>0)}}function e3(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0;return o=i+64|0,(e[o>>2]|0)==0&&(l=It(32)|0,jF(l),f=e[o>>2]|0,e[o>>2]=l,f|0)&&(l=e[f>>2]|0,l|0&&(h=f+4|0,(e[h>>2]|0)!=(l|0)&&(e[h>>2]=l),Ae(l)),Ae(f)),f=Qy(e[i+28>>2]|0)|0,l=_r(f,Y[i+24>>0]|0)|0,f=((l|0)<0)<<31>>31,h=e[o>>2]|0,u=Wr(l|0,f|0,s|0,0)|0,dL(h,0,u,Ze)|0?(oN(i,e[o>>2]|0,l,f,0,0),e[i+80>>2]=s,g=1,g|0):(g=0,g|0)}function ZL(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0;if(l=q,q=q+64|0,f=l,tu(i,s)|0)d=1;else if((s|0)!=0&&(h=G6(s,1024,1008,0)|0,(h|0)!=0)){s=f+4|0,u=s+52|0;do e[s>>2]=0,s=s+4|0;while((s|0)<(u|0));e[f>>2]=h,e[f+8>>2]=i,e[f+12>>2]=-1,e[f+48>>2]=1,j3[e[(e[h>>2]|0)+28>>2]&7](h,f,e[o>>2]|0,1),(e[f+24>>2]|0)==1?(e[o>>2]=e[f+16>>2],g=1):g=0,d=g}else d=0;return q=l,d|0}function YL(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0;if(!o)return l=0,l|0;if(f=o+40|0,h=o+44|0,p0((e[h>>2]|0)-(e[f>>2]|0)>>2,s)|0,u=e[f>>2]|0,f=e[h>>2]|0,(u|0)!=(f|0)){h=u;do u=e[h>>2]|0,u|0&&(p0(e[u+40>>2]|0,s)|0,ht(i,s,u)|0),h=h+4|0;while((h|0)!=(f|0))}return ht(i,s,o)|0,l=1,l|0}function hs(i,s){i=i|0,s=s|0;var o=0;!s||(hs(i,e[s>>2]|0),hs(i,e[s+4>>2]|0),i=s+16|0,o=s+28|0,(Y[o+11>>0]|0)<0&&Ae(e[o>>2]|0),(Y[i+11>>0]|0)<0&&Ae(e[i>>2]|0),Ae(s))}function ln(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0;if(s=q,q=q+16|0,o=s,l=o,e[l>>2]=0,e[l+4>>2]=0,O2(i,2,o),o=e[i+12>>2]|0,l=i+16|0,f=e[l>>2]|0,(f|0)==(o|0)?h=o:(u=f+(~((f+-4-o|0)>>>2)<<2)|0,e[l>>2]=u,h=u),e[i+24>>2]=0,e[i+28>>2]=0,o|0&&((h|0)!=(o|0)&&(e[l>>2]=h+(~((h+-4-o|0)>>>2)<<2)),Ae(o)),o=e[i>>2]|0,!o){q=s;return}h=i+4|0,i=e[h>>2]|0,(i|0)!=(o|0)&&(e[h>>2]=i+(~((i+-8-o|0)>>>3)<<3)),Ae(o),q=s}function Z_(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0,Wt=0,cr=0,mr=0,Gr=0,dr=0,Er=0,nr=0,Mr=0,Nr=0,ar=0,gr=0,or=0,tr=0,jr=0,Xr=0,Qr=0,Hr=0;s=q,q=q+16|0,o=s;do if(i>>>0<245){if(l=i>>>0<11?16:i+11&-8,f=l>>>3,h=e[4512]|0,u=h>>>f,u&3|0)return g=(u&1^1)+f|0,d=18088+(g<<1<<2)|0,m=d+8|0,b=e[m>>2]|0,w=b+8|0,x=e[w>>2]|0,(x|0)==(d|0)?e[4512]=h&~(1<<g):(e[x+12>>2]=d,e[m>>2]=x),x=g<<3,e[b+4>>2]=x|3,g=b+x+4|0,e[g>>2]=e[g>>2]|1,C=w,q=s,C|0;if(w=e[4514]|0,l>>>0>w>>>0){if(u|0)return g=2<<f,x=u<<f&(g|0-g),g=(x&0-x)+-1|0,x=g>>>12&16,f=g>>>x,g=f>>>5&8,u=f>>>g,f=u>>>2&4,b=u>>>f,u=b>>>1&2,m=b>>>u,b=m>>>1&1,d=(g|x|f|u|b)+(m>>>b)|0,b=18088+(d<<1<<2)|0,m=b+8|0,u=e[m>>2]|0,f=u+8|0,x=e[f>>2]|0,(x|0)==(b|0)?(g=h&~(1<<d),e[4512]=g,S=g):(e[x+12>>2]=b,e[m>>2]=x,S=h),x=d<<3,d=x-l|0,e[u+4>>2]=l|3,m=u+l|0,e[m+4>>2]=d|1,e[u+x>>2]=d,w|0&&(x=e[4517]|0,u=w>>>3,b=18088+(u<<1<<2)|0,g=1<<u,S&g?(g=b+8|0,D=e[g>>2]|0,I=g):(e[4512]=S|g,D=b,I=b+8|0),e[I>>2]=x,e[D+12>>2]=x,e[x+8>>2]=D,e[x+12>>2]=b),e[4514]=d,e[4517]=m,C=f,q=s,C|0;if(f=e[4513]|0,f){if(m=(f&0-f)+-1|0,d=m>>>12&16,b=m>>>d,m=b>>>5&8,x=b>>>m,b=x>>>2&4,g=x>>>b,x=g>>>1&2,u=g>>>x,g=u>>>1&1,L=e[18352+((m|d|b|x|g)+(u>>>g)<<2)>>2]|0,g=(e[L+4>>2]&-8)-l|0,u=e[L+16+(((e[L+16>>2]|0)==0&1)<<2)>>2]|0,!u)P=L,N=g;else for(x=L,L=g,g=u;;)if(u=(e[g+4>>2]&-8)-l|0,b=u>>>0<L>>>0,d=b?u:L,u=b?g:x,g=e[g+16+(((e[g+16>>2]|0)==0&1)<<2)>>2]|0,g)x=u,L=d;else{P=u,N=d;break}if(L=P+l|0,L>>>0>P>>>0){x=e[P+24>>2]|0,g=e[P+12>>2]|0;do if((g|0)==(P|0)){if(d=P+20|0,u=e[d>>2]|0,u)j=u,Q=d;else if(b=P+16|0,m=e[b>>2]|0,m)j=m,Q=b;else{X=0;break}for(;;){if(d=j+20|0,u=e[d>>2]|0,u|0){j=u,Q=d;continue}if(d=j+16|0,u=e[d>>2]|0,u)j=u,Q=d;else break}e[Q>>2]=0,X=j}else d=e[P+8>>2]|0,e[d+12>>2]=g,e[g+8>>2]=d,X=g;while(0);do if(x|0){if(g=e[P+28>>2]|0,d=18352+(g<<2)|0,(P|0)==(e[d>>2]|0)){if(e[d>>2]=X,!X){e[4513]=f&~(1<<g);break}}else if(e[x+16+(((e[x+16>>2]|0)!=(P|0)&1)<<2)>>2]=X,!X)break;e[X+24>>2]=x,g=e[P+16>>2]|0,g|0&&(e[X+16>>2]=g,e[g+24>>2]=X),g=e[P+20>>2]|0,g|0&&(e[X+20>>2]=g,e[g+24>>2]=X)}while(0);return N>>>0<16?(x=N+l|0,e[P+4>>2]=x|3,f=P+x+4|0,e[f>>2]=e[f>>2]|1):(e[P+4>>2]=l|3,e[L+4>>2]=N|1,e[L+N>>2]=N,w|0&&(f=e[4517]|0,x=w>>>3,g=18088+(x<<1<<2)|0,d=1<<x,h&d?(d=g+8|0,V=e[d>>2]|0,G=d):(e[4512]=h|d,V=g,G=g+8|0),e[G>>2]=f,e[V+12>>2]=f,e[f+8>>2]=V,e[f+12>>2]=g),e[4514]=N,e[4517]=L),C=P+8|0,q=s,C|0}else ee=l}else ee=l}else ee=l}else if(i>>>0<=4294967231)if(g=i+11|0,f=g&-8,d=e[4513]|0,d){x=0-f|0,u=g>>>8,u?f>>>0>16777215?J=31:(g=(u+1048320|0)>>>16&8,b=u<<g,u=(b+520192|0)>>>16&4,m=b<<u,b=(m+245760|0)>>>16&2,O=14-(u|g|b)+(m<<b>>>15)|0,J=f>>>(O+7|0)&1|O<<1):J=0,O=e[18352+(J<<2)>>2]|0;e:do if(!O)$=0,ie=0,se=x,ue=57;else for(b=0,m=x,g=O,u=f<<((J|0)==31?0:25-(J>>>1)|0),Ee=0;;){if(Pe=(e[g+4>>2]&-8)-f|0,Pe>>>0<m>>>0)if(Pe)Ce=g,We=Pe;else{ge=0,Be=g,_e=g,ue=61;break e}else Ce=b,We=m;if(Pe=e[g+20>>2]|0,g=e[g+16+(u>>>31<<2)>>2]|0,lt=(Pe|0)==0|(Pe|0)==(g|0)?Ee:Pe,Pe=(g|0)==0,Pe){$=lt,ie=Ce,se=We,ue=57;break}else b=Ce,m=We,u=u<<((Pe^1)&1),Ee=lt}while(0);if((ue|0)==57){if(($|0)==0&(ie|0)==0){if(O=2<<J,x=d&(O|0-O),!x){ee=f;break}O=(x&0-x)+-1|0,x=O>>>12&16,l=O>>>x,O=l>>>5&8,L=l>>>O,l=L>>>2&4,h=L>>>l,L=h>>>1&2,w=h>>>L,h=w>>>1&1,et=0,Ve=e[18352+((O|x|l|L|h)+(w>>>h)<<2)>>2]|0}else et=ie,Ve=$;Ve?(ge=se,Be=Ve,_e=et,ue=61):(He=et,st=se)}if((ue|0)==61)for(;;)if(ue=0,h=(e[Be+4>>2]&-8)-f|0,w=h>>>0<ge>>>0,L=w?h:ge,h=w?Be:_e,Be=e[Be+16+(((e[Be+16>>2]|0)==0&1)<<2)>>2]|0,Be)ge=L,_e=h,ue=61;else{He=h,st=L;break}if((He|0)!=0&&st>>>0<((e[4514]|0)-f|0)>>>0){if(h=He+f|0,h>>>0<=He>>>0)return C=0,q=s,C|0;L=e[He+24>>2]|0,w=e[He+12>>2]|0;do if((w|0)==(He|0)){if(l=He+20|0,x=e[l>>2]|0,x)it=x,ze=l;else if(O=He+16|0,Ee=e[O>>2]|0,Ee)it=Ee,ze=O;else{Je=0;break}for(;;){if(l=it+20|0,x=e[l>>2]|0,x|0){it=x,ze=l;continue}if(l=it+16|0,x=e[l>>2]|0,x)it=x,ze=l;else break}e[ze>>2]=0,Je=it}else l=e[He+8>>2]|0,e[l+12>>2]=w,e[w+8>>2]=l,Je=w;while(0);do if(L){if(w=e[He+28>>2]|0,l=18352+(w<<2)|0,(He|0)==(e[l>>2]|0)){if(e[l>>2]=Je,!Je){l=d&~(1<<w),e[4513]=l,Ge=l;break}}else if(e[L+16+(((e[L+16>>2]|0)!=(He|0)&1)<<2)>>2]=Je,!Je){Ge=d;break}e[Je+24>>2]=L,l=e[He+16>>2]|0,l|0&&(e[Je+16>>2]=l,e[l+24>>2]=Je),l=e[He+20>>2]|0,l&&(e[Je+20>>2]=l,e[l+24>>2]=Je),Ge=d}else Ge=d;while(0);do if(st>>>0>=16){if(e[He+4>>2]=f|3,e[h+4>>2]=st|1,e[h+st>>2]=st,d=st>>>3,st>>>0<256){L=18088+(d<<1<<2)|0,l=e[4512]|0,w=1<<d,l&w?(w=L+8|0,ke=e[w>>2]|0,ut=w):(e[4512]=l|w,ke=L,ut=L+8|0),e[ut>>2]=h,e[ke+12>>2]=h,e[h+8>>2]=ke,e[h+12>>2]=L;break}if(L=st>>>8,L?st>>>0>16777215?tt=31:(w=(L+1048320|0)>>>16&8,l=L<<w,L=(l+520192|0)>>>16&4,d=l<<L,l=(d+245760|0)>>>16&2,x=14-(L|w|l)+(d<<l>>>15)|0,tt=st>>>(x+7|0)&1|x<<1):tt=0,x=18352+(tt<<2)|0,e[h+28>>2]=tt,l=h+16|0,e[l+4>>2]=0,e[l>>2]=0,l=1<<tt,!(Ge&l)){e[4513]=Ge|l,e[x>>2]=h,e[h+24>>2]=x,e[h+12>>2]=h,e[h+8>>2]=h;break}for(l=st<<((tt|0)==31?0:25-(tt>>>1)|0),d=e[x>>2]|0;;){if((e[d+4>>2]&-8|0)==(st|0)){ue=97;break}if(at=d+16+(l>>>31<<2)|0,x=e[at>>2]|0,x)l=l<<1,d=x;else{ue=96;break}}if((ue|0)==96){e[at>>2]=h,e[h+24>>2]=d,e[h+12>>2]=h,e[h+8>>2]=h;break}else if((ue|0)==97){l=d+8|0,x=e[l>>2]|0,e[x+12>>2]=h,e[l>>2]=h,e[h+8>>2]=x,e[h+12>>2]=d,e[h+24>>2]=0;break}}else x=st+f|0,e[He+4>>2]=x|3,l=He+x+4|0,e[l>>2]=e[l>>2]|1;while(0);return C=He+8|0,q=s,C|0}else ee=f}else ee=f;else ee=-1;while(0);if(He=e[4514]|0,He>>>0>=ee>>>0)return st=He-ee|0,at=e[4517]|0,st>>>0>15?(tt=at+ee|0,e[4517]=tt,e[4514]=st,e[tt+4>>2]=st|1,e[at+He>>2]=st,e[at+4>>2]=ee|3):(e[4514]=0,e[4517]=0,e[at+4>>2]=He|3,st=at+He+4|0,e[st>>2]=e[st>>2]|1),C=at+8|0,q=s,C|0;if(at=e[4515]|0,at>>>0>ee>>>0)return st=at-ee|0,e[4515]=st,He=e[4518]|0,tt=He+ee|0,e[4518]=tt,e[tt+4>>2]=st|1,e[He+4>>2]=ee|3,C=He+8|0,q=s,C|0;if(e[4630]|0?Mt=e[4632]|0:(e[4632]=4096,e[4631]=4096,e[4633]=-1,e[4634]=-1,e[4635]=0,e[4623]=0,e[4630]=o&-16^1431655768,Mt=4096),o=ee+48|0,He=ee+47|0,st=Mt+He|0,tt=0-Mt|0,Mt=st&tt,Mt>>>0<=ee>>>0||(Ge=e[4622]|0,Ge|0&&(ke=e[4620]|0,ut=ke+Mt|0,ut>>>0<=ke>>>0|ut>>>0>Ge>>>0)))return C=0,q=s,C|0;e:do if(e[4623]&4)St=0,ue=133;else{Ge=e[4518]|0;t:do if(Ge){for(ut=18496;ke=e[ut>>2]|0,!(ke>>>0<=Ge>>>0&&(Pt=ut+4|0,(ke+(e[Pt>>2]|0)|0)>>>0>Ge>>>0));)if(ke=e[ut+8>>2]|0,ke)ut=ke;else{ue=118;break t}if(d=st-at&tt,d>>>0<2147483647)if(ke=zc(d|0)|0,(ke|0)==((e[ut>>2]|0)+(e[Pt>>2]|0)|0))if((ke|0)==-1)yt=d;else{Vt=d,Lt=ke,ue=135;break e}else At=ke,_t=d,ue=126;else yt=0}else ue=118;while(0);do if((ue|0)==118)if(Ge=zc(0)|0,(Ge|0)!=-1&&(f=Ge,d=e[4631]|0,ke=d+-1|0,Je=((ke&f|0)==0?0:(ke+f&0-d)-f|0)+Mt|0,f=e[4620]|0,d=Je+f|0,Je>>>0>ee>>>0&Je>>>0<2147483647)){if(ke=e[4622]|0,ke|0&&d>>>0<=f>>>0|d>>>0>ke>>>0){yt=0;break}if(ke=zc(Je|0)|0,(ke|0)==(Ge|0)){Vt=Je,Lt=Ge,ue=135;break e}else At=ke,_t=Je,ue=126}else yt=0;while(0);do if((ue|0)==126){if(Je=0-_t|0,!(o>>>0>_t>>>0&(_t>>>0<2147483647&(At|0)!=-1)))if((At|0)==-1){yt=0;break}else{Vt=_t,Lt=At,ue=135;break e}if(ke=e[4632]|0,Ge=He-_t+ke&0-ke,Ge>>>0>=2147483647){Vt=_t,Lt=At,ue=135;break e}if((zc(Ge|0)|0)==-1){zc(Je|0)|0,yt=0;break}else{Vt=Ge+_t|0,Lt=At,ue=135;break e}}while(0);e[4623]=e[4623]|4,St=yt,ue=133}while(0);if((ue|0)==133&&Mt>>>0<2147483647&&(yt=zc(Mt|0)|0,Mt=zc(0)|0,At=Mt-yt|0,_t=At>>>0>(ee+40|0)>>>0,!((yt|0)==-1|_t^1|yt>>>0<Mt>>>0&((yt|0)!=-1&(Mt|0)!=-1)^1))&&(Vt=_t?At:St,Lt=yt,ue=135),(ue|0)==135){yt=(e[4620]|0)+Vt|0,e[4620]=yt,yt>>>0>(e[4621]|0)>>>0&&(e[4621]=yt),yt=e[4518]|0;do if(yt){for(St=18496;;){if(fr=e[St>>2]|0,Wt=St+4|0,cr=e[Wt>>2]|0,(Lt|0)==(fr+cr|0)){ue=143;break}if(At=e[St+8>>2]|0,At)St=At;else break}if((ue|0)==143&&(e[St+12>>2]&8|0)==0&&Lt>>>0>yt>>>0&fr>>>0<=yt>>>0){e[Wt>>2]=cr+Vt,At=(e[4515]|0)+Vt|0,_t=yt+8|0,Mt=(_t&7|0)==0?0:0-_t&7,_t=yt+Mt|0,He=At-Mt|0,e[4518]=_t,e[4515]=He,e[_t+4>>2]=He|1,e[yt+At+4>>2]=40,e[4519]=e[4634];break}for(Lt>>>0<(e[4516]|0)>>>0&&(e[4516]=Lt),At=Lt+Vt|0,He=18496;;){if((e[He>>2]|0)==(At|0)){ue=151;break}if(_t=e[He+8>>2]|0,_t)He=_t;else{mr=18496;break}}if((ue|0)==151)if(e[He+12>>2]&8)mr=18496;else{e[He>>2]=Lt,St=He+4|0,e[St>>2]=(e[St>>2]|0)+Vt,St=Lt+8|0,_t=Lt+((St&7|0)==0?0:0-St&7)|0,St=At+8|0,Mt=At+((St&7|0)==0?0:0-St&7)|0,St=_t+ee|0,o=Mt-_t-ee|0,e[_t+4>>2]=ee|3;do if((yt|0)!=(Mt|0)){if((e[4517]|0)==(Mt|0)){Pt=(e[4514]|0)+o|0,e[4514]=Pt,e[4517]=St,e[St+4>>2]=Pt|1,e[St+Pt>>2]=Pt;break}if(Pt=e[Mt+4>>2]|0,(Pt&3|0)==1){tt=Pt&-8,at=Pt>>>3;e:do if(Pt>>>0<256)if(st=e[Mt+8>>2]|0,Ge=e[Mt+12>>2]|0,(Ge|0)==(st|0)){e[4512]=e[4512]&~(1<<at);break}else{e[st+12>>2]=Ge,e[Ge+8>>2]=st;break}else{st=e[Mt+24>>2]|0,Ge=e[Mt+12>>2]|0;do if((Ge|0)==(Mt|0)){if(Je=Mt+16|0,ke=Je+4|0,d=e[ke>>2]|0,d)dr=d,Er=ke;else if(f=e[Je>>2]|0,f)dr=f,Er=Je;else{Gr=0;break}for(;;){if(ke=dr+20|0,d=e[ke>>2]|0,d|0){dr=d,Er=ke;continue}if(ke=dr+16|0,d=e[ke>>2]|0,d)dr=d,Er=ke;else break}e[Er>>2]=0,Gr=dr}else ke=e[Mt+8>>2]|0,e[ke+12>>2]=Ge,e[Ge+8>>2]=ke,Gr=Ge;while(0);if(!st)break;Ge=e[Mt+28>>2]|0,ke=18352+(Ge<<2)|0;do if((e[ke>>2]|0)!=(Mt|0)){if(e[st+16+(((e[st+16>>2]|0)!=(Mt|0)&1)<<2)>>2]=Gr,!Gr)break e}else{if(e[ke>>2]=Gr,Gr|0)break;e[4513]=e[4513]&~(1<<Ge);break e}while(0);if(e[Gr+24>>2]=st,Ge=Mt+16|0,ke=e[Ge>>2]|0,ke|0&&(e[Gr+16>>2]=ke,e[ke+24>>2]=Gr),ke=e[Ge+4>>2]|0,!ke)break;e[Gr+20>>2]=ke,e[ke+24>>2]=Gr}while(0);nr=Mt+tt|0,Mr=tt+o|0}else nr=Mt,Mr=o;if(at=nr+4|0,e[at>>2]=e[at>>2]&-2,e[St+4>>2]=Mr|1,e[St+Mr>>2]=Mr,at=Mr>>>3,Mr>>>0<256){Pt=18088+(at<<1<<2)|0,ut=e[4512]|0,ke=1<<at,ut&ke?(ke=Pt+8|0,Nr=e[ke>>2]|0,ar=ke):(e[4512]=ut|ke,Nr=Pt,ar=Pt+8|0),e[ar>>2]=St,e[Nr+12>>2]=St,e[St+8>>2]=Nr,e[St+12>>2]=Pt;break}Pt=Mr>>>8;do if(!Pt)gr=0;else{if(Mr>>>0>16777215){gr=31;break}ke=(Pt+1048320|0)>>>16&8,ut=Pt<<ke,at=(ut+520192|0)>>>16&4,Ge=ut<<at,ut=(Ge+245760|0)>>>16&2,d=14-(at|ke|ut)+(Ge<<ut>>>15)|0,gr=Mr>>>(d+7|0)&1|d<<1}while(0);if(Pt=18352+(gr<<2)|0,e[St+28>>2]=gr,tt=St+16|0,e[tt+4>>2]=0,e[tt>>2]=0,tt=e[4513]|0,d=1<<gr,!(tt&d)){e[4513]=tt|d,e[Pt>>2]=St,e[St+24>>2]=Pt,e[St+12>>2]=St,e[St+8>>2]=St;break}for(d=Mr<<((gr|0)==31?0:25-(gr>>>1)|0),tt=e[Pt>>2]|0;;){if((e[tt+4>>2]&-8|0)==(Mr|0)){ue=192;break}if(or=tt+16+(d>>>31<<2)|0,Pt=e[or>>2]|0,Pt)d=d<<1,tt=Pt;else{ue=191;break}}if((ue|0)==191){e[or>>2]=St,e[St+24>>2]=tt,e[St+12>>2]=St,e[St+8>>2]=St;break}else if((ue|0)==192){d=tt+8|0,Pt=e[d>>2]|0,e[Pt+12>>2]=St,e[d>>2]=St,e[St+8>>2]=Pt,e[St+12>>2]=tt,e[St+24>>2]=0;break}}else Pt=(e[4515]|0)+o|0,e[4515]=Pt,e[4518]=St,e[St+4>>2]=Pt|1;while(0);return C=_t+8|0,q=s,C|0}for(;St=e[mr>>2]|0,!(St>>>0<=yt>>>0&&(tr=St+(e[mr+4>>2]|0)|0,tr>>>0>yt>>>0));)mr=e[mr+8>>2]|0;_t=tr+-47|0,St=_t+8|0,o=_t+((St&7|0)==0?0:0-St&7)|0,St=yt+16|0,_t=o>>>0<St>>>0?yt:o,o=_t+8|0,Mt=Vt+-40|0,At=Lt+8|0,He=(At&7|0)==0?0:0-At&7,At=Lt+He|0,Pt=Mt-He|0,e[4518]=At,e[4515]=Pt,e[At+4>>2]=Pt|1,e[Lt+Mt+4>>2]=40,e[4519]=e[4634],Mt=_t+4|0,e[Mt>>2]=27,e[o>>2]=e[4624],e[o+4>>2]=e[4625],e[o+8>>2]=e[4626],e[o+12>>2]=e[4627],e[4624]=Lt,e[4625]=Vt,e[4627]=0,e[4626]=o,o=_t+24|0;do Pt=o,o=o+4|0,e[o>>2]=7;while((Pt+8|0)>>>0<tr>>>0);if((_t|0)!=(yt|0)){if(o=_t-yt|0,e[Mt>>2]=e[Mt>>2]&-2,e[yt+4>>2]=o|1,e[_t>>2]=o,Pt=o>>>3,o>>>0<256){At=18088+(Pt<<1<<2)|0,He=e[4512]|0,d=1<<Pt,He&d?(d=At+8|0,jr=e[d>>2]|0,Xr=d):(e[4512]=He|d,jr=At,Xr=At+8|0),e[Xr>>2]=yt,e[jr+12>>2]=yt,e[yt+8>>2]=jr,e[yt+12>>2]=At;break}if(At=o>>>8,At?o>>>0>16777215?Qr=31:(d=(At+1048320|0)>>>16&8,He=At<<d,At=(He+520192|0)>>>16&4,Pt=He<<At,He=(Pt+245760|0)>>>16&2,ut=14-(At|d|He)+(Pt<<He>>>15)|0,Qr=o>>>(ut+7|0)&1|ut<<1):Qr=0,ut=18352+(Qr<<2)|0,e[yt+28>>2]=Qr,e[yt+20>>2]=0,e[St>>2]=0,He=e[4513]|0,Pt=1<<Qr,!(He&Pt)){e[4513]=He|Pt,e[ut>>2]=yt,e[yt+24>>2]=ut,e[yt+12>>2]=yt,e[yt+8>>2]=yt;break}for(Pt=o<<((Qr|0)==31?0:25-(Qr>>>1)|0),He=e[ut>>2]|0;;){if((e[He+4>>2]&-8|0)==(o|0)){ue=213;break}if(Hr=He+16+(Pt>>>31<<2)|0,ut=e[Hr>>2]|0,ut)Pt=Pt<<1,He=ut;else{ue=212;break}}if((ue|0)==212){e[Hr>>2]=yt,e[yt+24>>2]=He,e[yt+12>>2]=yt,e[yt+8>>2]=yt;break}else if((ue|0)==213){Pt=He+8|0,o=e[Pt>>2]|0,e[o+12>>2]=yt,e[Pt>>2]=yt,e[yt+8>>2]=o,e[yt+12>>2]=He,e[yt+24>>2]=0;break}}}else o=e[4516]|0,(o|0)==0|Lt>>>0<o>>>0&&(e[4516]=Lt),e[4624]=Lt,e[4625]=Vt,e[4627]=0,e[4521]=e[4630],e[4520]=-1,e[4525]=18088,e[4524]=18088,e[4527]=18096,e[4526]=18096,e[4529]=18104,e[4528]=18104,e[4531]=18112,e[4530]=18112,e[4533]=18120,e[4532]=18120,e[4535]=18128,e[4534]=18128,e[4537]=18136,e[4536]=18136,e[4539]=18144,e[4538]=18144,e[4541]=18152,e[4540]=18152,e[4543]=18160,e[4542]=18160,e[4545]=18168,e[4544]=18168,e[4547]=18176,e[4546]=18176,e[4549]=18184,e[4548]=18184,e[4551]=18192,e[4550]=18192,e[4553]=18200,e[4552]=18200,e[4555]=18208,e[4554]=18208,e[4557]=18216,e[4556]=18216,e[4559]=18224,e[4558]=18224,e[4561]=18232,e[4560]=18232,e[4563]=18240,e[4562]=18240,e[4565]=18248,e[4564]=18248,e[4567]=18256,e[4566]=18256,e[4569]=18264,e[4568]=18264,e[4571]=18272,e[4570]=18272,e[4573]=18280,e[4572]=18280,e[4575]=18288,e[4574]=18288,e[4577]=18296,e[4576]=18296,e[4579]=18304,e[4578]=18304,e[4581]=18312,e[4580]=18312,e[4583]=18320,e[4582]=18320,e[4585]=18328,e[4584]=18328,e[4587]=18336,e[4586]=18336,o=Vt+-40|0,Pt=Lt+8|0,St=(Pt&7|0)==0?0:0-Pt&7,Pt=Lt+St|0,_t=o-St|0,e[4518]=Pt,e[4515]=_t,e[Pt+4>>2]=_t|1,e[Lt+o+4>>2]=40,e[4519]=e[4634];while(0);if(Lt=e[4515]|0,Lt>>>0>ee>>>0)return Vt=Lt-ee|0,e[4515]=Vt,Lt=e[4518]|0,yt=Lt+ee|0,e[4518]=yt,e[yt+4>>2]=Vt|1,e[Lt+4>>2]=ee|3,C=Lt+8|0,q=s,C|0}return Lt=ca()|0,e[Lt>>2]=12,C=0,q=s,C|0}function KL(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0,Wt=0,cr=0,mr=0,Gr=0,dr=0,Er=0,nr=0,Mr=0,Nr=0,ar=0,gr=0,or=0,tr=0,jr=0,Xr=0,Qr=0,Hr=0,Ir=0,Ar=0,kr=0,Dr=0,ti=0,fi=0,Br=0,di=0,ri=0,Xi=0,nn=0,mn=0,R0=0,gn=0,Qn=0,Hn=0,xn=0,Ii=0,zi=0,Di=0,Qi=0,Bi=0,tn=0,Ui=0,sn=0,Wi=0,Mi=0,Vi=0,Si=0,Yi=0,cn=0,Un=0,h0=0,D0=0,o0=0,Ts=0,J0=0,as=0,_0=0,Bn=0,H0=0,In=0,vn=0,X0=0,Ln=0,Do=0,vo=0,ul=0,wo=0,cl=0,ka=0,hf=0,qn=0,hl=0,Yn=0,Va=0,Ol=0;h=q,q=q+240|0,u=h+104|0,g=h+224|0,d=h+176|0,m=h+160|0,b=h+228|0,w=h+72|0,x=h+40|0,C=h+132|0,S=h,D=h+172|0,I=h+156|0,L=h+152|0,P=h+148|0,N=h+144|0,X=h+128|0,j=i+8|0,pd(j,s,l,f),l=e[i+48>>2]|0,Q=e[i+52>>2]|0,V=d,G=V+48|0;do e[V>>2]=0,V=V+4|0;while((V|0)<(G|0));f?(K0(d,f),ee=e[d+12>>2]|0,J=e[d+16>>2]|0):(ee=0,J=0),V=d+16|0,G=J-ee>>2,O=ee,ee=J,G>>>0>=f>>>0?G>>>0>f>>>0&&(J=O+(f<<2)|0,(J|0)!=(ee|0))&&(e[V>>2]=ee+(~((ee+-4-J|0)>>>2)<<2)):K0(d+12|0,f-G|0),G=d+24|0,J=d+28|0,ee=e[J>>2]|0,V=e[G>>2]|0,O=ee-V>>2,$=V,V=ee,O>>>0>=f>>>0?O>>>0>f>>>0&&(ee=$+(f<<2)|0,(ee|0)!=(V|0))&&(e[J>>2]=V+(~((V+-4-ee|0)>>>2)<<2)):K0(G,f-O|0),O=d+36|0,G=d+40|0,ee=e[G>>2]|0,V=e[O>>2]|0,J=ee-V>>2,$=V,V=ee,J>>>0>=f>>>0?J>>>0>f>>>0&&(ee=$+(f<<2)|0,(ee|0)!=(V|0))&&(e[G>>2]=V+(~((V+-4-ee|0)>>>2)<<2)):K0(O,f-J|0),e[m>>2]=0,J=m+4|0,e[J>>2]=0,e[m+8>>2]=0,O=(f|0)==0;do if(!O)if(f>>>0>1073741823)qe();else{ee=f<<2,V=It(ee)|0,e[m>>2]=V,G=V+(f<<2)|0,e[m+8>>2]=G,Tr(V|0,0,ee|0)|0,e[J>>2]=G;break}while(0);G=i+152|0,ee=i+156|0,V=e[ee>>2]|0,$=e[G>>2]|0,ie=V-$>>2,se=$,$=V,ie>>>0>=f>>>0?ie>>>0>f>>>0&&(V=se+(f<<2)|0,(V|0)!=($|0))&&(e[ee>>2]=$+(~(($+-4-V|0)>>>2)<<2)):K0(G,f-ie|0),e[w>>2]=0,e[w+4>>2]=0,e[w+8>>2]=0,e[w+12>>2]=0,e[w+16>>2]=0,e[w+20>>2]=0,e[w+24>>2]=0,e[w+28>>2]=0,e[x>>2]=0,e[x+4>>2]=0,e[x+8>>2]=0,e[x+12>>2]=0,e[x+16>>2]=0,e[x+20>>2]=0,e[x+24>>2]=0,e[x+28>>2]=0,e[C>>2]=0,ie=C+4|0,e[ie>>2]=0,e[C+8>>2]=0,O?(ue=0,Ee=0,Pe=0,ge=0):(O=f<<2,V=It(O)|0,e[C>>2]=V,$=V+(f<<2)|0,e[C+8>>2]=$,Tr(V|0,0,O|0)|0,e[ie>>2]=$,ue=V,Ee=$,Pe=$,ge=V),V=i+56|0,$=e[V>>2]|0,O=e[$+4>>2]|0,ee=e[$>>2]|0,se=O-ee|0;e:do if((se|0)>4){Be=se>>>2,_e=l+64|0,Ce=l+28|0,We=(f|0)>0,lt=S+4|0,et=S+8|0,Ve=S+12|0,He=i+152|0,st=i+112|0,Je=S+16|0,it=S+28|0,ze=i+16|0,Ge=i+32|0,ke=i+12|0,ut=i+28|0,tt=i+20|0,at=i+24|0,Mt=S+28|0,Pt=S+16|0,yt=S+20|0,Vt=S+32|0,Lt=b+1|0,At=f<<2,_t=(f|0)==1,St=Be+-1|0,O-ee>>2>>>0>St>>>0?(fr=Be,Wt=St,cr=ee,mr=ue,Gr=ge,dr=Pe,Er=ue,nr=Ee,Mr=ue,Nr=Ee):(ar=$,qe());t:for(;;){St=e[cr+(Wt<<2)>>2]|0,Be=(((St>>>0)%3|0|0)==0?2:-1)+St|0,gr=Be>>>5,or=1<<(Be&31),tr=(St|0)==-1|(Be|0)==-1,jr=1,Xr=0,Qr=St;r:for(;;){for(Hr=jr^1,Ir=Xr,Ar=Qr;;){if((Ar|0)==-1){kr=Ir;break r}if(Dr=e[d+(Ir*12|0)>>2]|0,(e[(e[l>>2]|0)+(Ar>>>5<<2)>>2]&1<<(Ar&31)|0)==0&&(ti=e[(e[(e[_e>>2]|0)+12>>2]|0)+(Ar<<2)>>2]|0,(ti|0)!=-1)&&(fi=e[Ce>>2]|0,Br=e[Q>>2]|0,di=e[Br+(e[fi+(ti<<2)>>2]<<2)>>2]|0,ri=ti+1|0,Xi=e[Br+(e[fi+((((ri>>>0)%3|0|0)==0?ti+-2|0:ri)<<2)>>2]<<2)>>2]|0,ri=e[Br+(e[fi+((((ti>>>0)%3|0|0)==0?2:-1)+ti<<2)>>2]<<2)>>2]|0,(di|0)<(Wt|0)&(Xi|0)<(Wt|0)&(ri|0)<(Wt|0))){if(ti=_r(di,f)|0,di=_r(Xi,f)|0,Xi=_r(ri,f)|0,We){ri=0;do e[Dr+(ri<<2)>>2]=(e[s+(ri+Xi<<2)>>2]|0)+(e[s+(ri+di<<2)>>2]|0)-(e[s+(ri+ti<<2)>>2]|0),ri=ri+1|0;while((ri|0)!=(f|0))}if(ri=Ir+1|0,(ri|0)==4){kr=4;break r}else nn=ri}else nn=Ir;do if(jr)ri=Ar+1|0,ti=((ri>>>0)%3|0|0)==0?Ar+-2|0:ri,(ti|0)!=-1&&(e[(e[l>>2]|0)+(ti>>>5<<2)>>2]&1<<(ti&31)|0)==0&&(ri=e[(e[(e[_e>>2]|0)+12>>2]|0)+(ti<<2)>>2]|0,ti=ri+1|0,(ri|0)!=-1)?mn=((ti>>>0)%3|0|0)==0?ri+-2|0:ti:mn=-1;else if(ti=(((Ar>>>0)%3|0|0)==0?2:-1)+Ar|0,(ti|0)!=-1&&(e[(e[l>>2]|0)+(ti>>>5<<2)>>2]&1<<(ti&31)|0)==0&&(ri=e[(e[(e[_e>>2]|0)+12>>2]|0)+(ti<<2)>>2]|0,(ri|0)!=-1))if((ri>>>0)%3|0){mn=ri+-1|0;break}else{mn=ri+2|0;break}else mn=-1;while(0);if((mn|0)==(St|0)){kr=nn;break r}if((mn|0)!=-1|Hr)Ir=nn,Ar=mn;else break}if(tr){jr=0,Xr=nn,Qr=-1;continue}if(e[(e[l>>2]|0)+(gr<<2)>>2]&or|0){jr=0,Xr=nn,Qr=-1;continue}if(Ar=e[(e[(e[_e>>2]|0)+12>>2]|0)+(Be<<2)>>2]|0,(Ar|0)==-1){jr=0,Xr=nn,Qr=-1;continue}if((Ar>>>0)%3|0){jr=0,Xr=nn,Qr=Ar+-1|0;continue}else{jr=0,Xr=nn,Qr=Ar+2|0;continue}}if(Qr=_r(Wt,f)|0,e[S>>2]=0,e[lt>>2]=0,Y[et>>0]=0,e[Ve>>2]=0,e[Ve+4>>2]=0,e[Ve+8>>2]=0,e[Ve+12>>2]=0,e[Ve+16>>2]=0,e[Ve+20>>2]=0,e[Ve+24>>2]=0,Xr=s+((_r(fr+-2|0,f)|0)<<2)|0,jr=s+(Qr<<2)|0,Be=e[He>>2]|0,We)for(or=0,gr=0;;)if(tr=(e[Xr+(or<<2)>>2]|0)-(e[jr+(or<<2)>>2]|0)|0,St=((tr|0)>-1?tr:0-tr|0)+gr|0,e[mr+(or<<2)>>2]=tr,e[Be+(or<<2)>>2]=tr<<1^tr>>31,or=or+1|0,(or|0)==(f|0)){R0=St;break}else gr=St;else R0=0;if(Jc(u,st,Be,f),gr=Gc(u)|0,or=Ze,St=Qc(u)|0,tr=Qt(St|0,Ze|0,gr|0,or|0)|0,or=Ze,gr=(kr|0)>0,gr?(St=kr+-1|0,Ar=x+(St<<3)|0,Ir=Ar,Hr=Qt(e[Ir>>2]|0,e[Ir+4>>2]|0,kr|0,((kr|0)<0)<<31>>31|0)|0,Ir=Ze,ri=Ar,e[ri>>2]=Hr,e[ri+4>>2]=Ir,gn=+yi(+(+Wc(Hr,e[w+(St<<3)>>2]|0)*(+(Hr>>>0)+4294967296*+(Ir|0)))),Ir=Qt(tr|0,or|0,~~gn>>>0|0,(+u0(gn)>=1?gn>0?~~+n0(+bn(gn/4294967296),4294967295)>>>0:~~+yi((gn-+(~~gn>>>0))/4294967296)>>>0:0)|0)|0,Qn=Ir):Qn=tr,tr=S,e[tr>>2]=Qn,e[tr+4>>2]=R0,Y[et>>0]=0,e[Ve>>2]=0,Uu(Je,Xr,Xr+(f<<2)|0),e[D>>2]=Gr,e[I>>2]=dr,e[g>>2]=e[D>>2],e[u>>2]=e[I>>2],Aa(it,g,u),(kr|0)<1)Hn=Nr,xn=Mr,Ii=nr,zi=Er,Di=dr,Qi=Gr,Bi=Gr;else for(tr=b+kr|0,Ir=e[C>>2]|0,or=kr+-1|0,Hr=w+(or<<3)|0,St=x+(or<<3)|0,or=Ir,ri=e[ie>>2]|0,Ar=tr+-1|0,ti=(Ar|0)==(b|0),di=tr+-2|0,Xi=Lt>>>0<di>>>0,Dr=~kr,fi=kr+2+((Dr|0)>-2?Dr:-2)|0,Dr=ri,Br=Ar>>>0>b>>>0,tn=0,Ui=1;;){tn=tn+1|0,Tr(b|0,1,fi|0)|0,Tr(b|0,0,tn|0)|0;r:for(;;){if(We)for(Tr(e[m>>2]|0,0,At|0)|0,sn=e[m>>2]|0,Wi=0,Mi=0;;){if(Y[b+Wi>>0]|0)cn=Mi;else{Vi=e[d+(Wi*12|0)>>2]|0,Si=0;do Yi=sn+(Si<<2)|0,e[Yi>>2]=(e[Yi>>2]|0)+(e[Vi+(Si<<2)>>2]|0),Si=Si+1|0;while((Si|0)!=(f|0));cn=(1<<Wi|Mi&255)&255}if(Wi=Wi+1|0,(Wi|0)==(kr|0)){Un=cn;break}else Mi=cn}else for(Mi=0,Wi=0;;)if(Y[b+Mi>>0]|0?h0=Wi:h0=(1<<Mi|Wi&255)&255,Mi=Mi+1|0,(Mi|0)==(kr|0)){Un=h0;break}else Wi=h0;Wi=e[m>>2]|0;do if(We){if(e[Wi>>2]=(e[Wi>>2]|0)/(Ui|0)|0,_t)D0=e[He>>2]|0;else{Mi=1;do sn=Wi+(Mi<<2)|0,e[sn>>2]=(e[sn>>2]|0)/(Ui|0)|0,Mi=Mi+1|0;while((Mi|0)!=(f|0));if(Mi=e[He>>2]|0,We)D0=Mi;else{o0=0,Ts=Mi;break}}for(Mi=0,sn=0;;)if(Si=(e[Wi+(Mi<<2)>>2]|0)-(e[jr+(Mi<<2)>>2]|0)|0,Vi=((Si|0)>-1?Si:0-Si|0)+sn|0,e[Ir+(Mi<<2)>>2]=Si,e[D0+(Mi<<2)>>2]=Si<<1^Si>>31,Mi=Mi+1|0,(Mi|0)==(f|0)){o0=Vi,Ts=D0;break}else sn=Vi}else o0=0,Ts=e[He>>2]|0;while(0);if(Jc(u,st,Ts,f),Wi=Gc(u)|0,sn=Ze,Mi=Qc(u)|0,Vi=Qt(Mi|0,Ze|0,Wi|0,sn|0)|0,sn=Ze,gr?(Wi=Hr,Mi=Qt(e[Wi>>2]|0,e[Wi+4>>2]|0,Ui|0,0)|0,Wi=St,Si=e[Wi>>2]|0,Yi=e[Wi+4>>2]|0,gn=+yi(+(+Wc(Si,Mi)*(+(Si>>>0)+4294967296*+(Yi|0)))),Yi=Qt(Vi|0,sn|0,~~gn>>>0|0,(+u0(gn)>=1?gn>0?~~+n0(+bn(gn/4294967296),4294967295)>>>0:~~+yi((gn-+(~~gn>>>0))/4294967296)>>>0:0)|0)|0,J0=Yi):J0=Vi,Vi=e[S>>2]|0,(J0|0)>=(Vi|0)&&!((J0|0)<=(Vi|0)&&(o0|0)<(e[lt>>2]|0))||(Vi=S,e[Vi>>2]=J0,e[Vi+4>>2]=o0,Y[et>>0]=Un,e[Ve>>2]=Ui,e[L>>2]=e[m>>2],e[P>>2]=e[J>>2],e[g>>2]=e[L>>2],e[u>>2]=e[P>>2],Aa(Je,g,u),e[N>>2]=or,e[X>>2]=ri,e[g>>2]=e[N>>2],e[u>>2]=e[X>>2],Aa(it,g,u)),ti)break;for(as=Y[Ar>>0]|0,Vi=-1,Yi=as;sn=Vi+-1|0,_0=tr+sn|0,Si=Yi,Yi=Y[_0>>0]|0,!((Yi&255)<(Si&255));)if((_0|0)==(b|0)){Bn=86;break r}else Vi=sn;if(sn=tr+Vi|0,(Yi&255)<(as&255))H0=Ar,In=as;else for(Si=tr,Mi=Ar;;)if(Wi=Mi+-1|0,(Yi&255)<(br[Si+-2>>0]|0)){H0=Wi,In=1;break}else vn=Mi,Mi=Wi,Si=vn;if(Y[_0>>0]=In,Y[H0>>0]=Yi,(Vi|0)<-1)X0=sn,Ln=Ar;else continue;for(;;)if(Si=Y[X0>>0]|0,Y[X0>>0]=Y[Ln>>0]|0,Y[Ln>>0]=Si,Si=X0+1|0,Mi=Ln+-1|0,Si>>>0<Mi>>>0)X0=Si,Ln=Mi;else continue r}if((Bn|0)==86&&(Bn=0,Br)&&(sn=Y[b>>0]|0,Y[b>>0]=as,Y[Ar>>0]=sn,Xi)){sn=di,Vi=Lt;do Yi=Y[Vi>>0]|0,Y[Vi>>0]=Y[sn>>0]|0,Y[sn>>0]=Yi,Vi=Vi+1|0,sn=sn+-1|0;while(Vi>>>0<sn>>>0)}if((Ui|0)>=(kr|0)){Hn=Dr,xn=Ir,Ii=Dr,zi=Ir,Di=ri,Qi=or,Bi=Ir;break}else Ui=Ui+1|0}if(gr&&(Ui=e[Ve>>2]|0,Ir=w+(kr+-1<<3)|0,or=Ir,ri=Qt(e[or>>2]|0,e[or+4>>2]|0,Ui|0,((Ui|0)<0)<<31>>31|0)|0,Ui=Ir,e[Ui>>2]=ri,e[Ui+4>>2]=Ze),We){Ui=e[it>>2]|0,ri=e[G>>2]|0,Ir=0;do or=e[Ui+(Ir<<2)>>2]|0,e[ri+(Ir<<2)>>2]=or<<1^or>>31,Ir=Ir+1|0;while((Ir|0)!=(f|0));Do=ri}else Do=e[G>>2]|0;if(t4(u,st,Do,f),gr){ri=kr+-1|0,vo=i+60+(ri*12|0)|0,Ir=i+60+(ri*12|0)+4|0,Ui=i+60+(ri*12|0)+8|0,ri=0;do{if(or=e[Ir>>2]|0,Dr=e[Ui>>2]|0,di=(or|0)==(Dr<<5|0),1<<ri&br[et>>0]){if(di){if((or+1|0)<0){Bn=119;break t}di=Dr<<6,Dr=or+32&-32,ua(vo,or>>>0<1073741823?di>>>0<Dr>>>0?Dr:di:2147483647),wo=e[Ir>>2]|0}else wo=or;e[Ir>>2]=wo+1,or=(e[vo>>2]|0)+(wo>>>5<<2)|0,e[or>>2]=e[or>>2]&~(1<<(wo&31))}else{if(di){if((or+1|0)<0){Bn=114;break t}Xi=Dr<<6,Ar=or+32&-32,ua(vo,or>>>0<1073741823?Xi>>>0<Ar>>>0?Ar:Xi:2147483647),ul=e[Ir>>2]|0}else ul=or;e[Ir>>2]=ul+1,Xi=(e[vo>>2]|0)+(ul>>>5<<2)|0,e[Xi>>2]=e[Xi>>2]|1<<(ul&31)}ri=ri+1|0}while((ri|0)<(kr|0))}if(ri=o+(Qr<<2)|0,Ir=e[j>>2]|0,(Ir|0)>0)for(Ui=0,gr=e[Je>>2]|0,or=Ir;;){if((or|0)>0){Ir=0;do di=e[gr+(Ir<<2)>>2]|0,Dr=e[ze>>2]|0,(di|0)>(Dr|0)?(Xi=e[Ge>>2]|0,e[Xi+(Ir<<2)>>2]=Dr,cl=Xi):(Xi=e[ke>>2]|0,Dr=e[Ge>>2]|0,e[Dr+(Ir<<2)>>2]=(di|0)<(Xi|0)?Xi:di,cl=Dr),Ir=Ir+1|0;while((Ir|0)<(e[j>>2]|0));ka=cl}else ka=e[Ge>>2]|0;Ir=(e[jr+(Ui<<2)>>2]|0)-(e[ka+(Ui<<2)>>2]|0)|0,Dr=ri+(Ui<<2)|0,e[Dr>>2]=Ir;do if((Ir|0)<(e[ut>>2]|0))hf=(e[tt>>2]|0)+Ir|0,Bn=109;else{if((Ir|0)<=(e[at>>2]|0))break;hf=Ir-(e[tt>>2]|0)|0,Bn=109}while(0);if((Bn|0)==109&&(Bn=0,e[Dr>>2]=hf),Ui=Ui+1|0,or=e[j>>2]|0,(Ui|0)>=(or|0))break;gr=ka}if(gr=e[Mt>>2]|0,gr|0&&(or=e[Vt>>2]|0,(or|0)!=(gr|0)&&(e[Vt>>2]=or+(~((or+-4-gr|0)>>>2)<<2)),Ae(gr)),gr=e[Pt>>2]|0,gr|0&&(or=e[yt>>2]|0,(or|0)!=(gr|0)&&(e[yt>>2]=or+(~((or+-4-gr|0)>>>2)<<2)),Ae(gr)),(fr|0)<=2){qn=zi,hl=Ii;break e}if(gr=e[V>>2]|0,cr=e[gr>>2]|0,or=Wt+-1|0,(e[gr+4>>2]|0)-cr>>2>>>0<=or>>>0){ar=gr,Bn=18;break}else gr=Wt,Wt=or,mr=Bi,Gr=Qi,dr=Di,Er=zi,nr=Ii,Mr=xn,Nr=Hn,fr=gr}((Bn|0)==18||(Bn|0)==114||(Bn|0)==119)&&qe()}else qn=ue,hl=Ee;while(0);if(Ee=e[d>>2]|0,(f|0)>0&&(e[Ee>>2]=0,(f|0)!=1)){ue=1;do e[Ee+(ue<<2)>>2]=0,ue=ue+1|0;while((ue|0)!=(f|0))}if(f=e[j>>2]|0,(f|0)>0)for(ue=i+16|0,vo=i+32|0,ar=i+12|0,fr=i+28|0,Hn=i+20|0,Nr=i+24|0,i=0,xn=Ee,Ee=f;;){if((Ee|0)>0){f=0;do Mr=e[xn+(f<<2)>>2]|0,Ii=e[ue>>2]|0,(Mr|0)>(Ii|0)?(nr=e[vo>>2]|0,e[nr+(f<<2)>>2]=Ii,Yn=nr):(nr=e[ar>>2]|0,Ii=e[vo>>2]|0,e[Ii+(f<<2)>>2]=(Mr|0)<(nr|0)?nr:Mr,Yn=Ii),f=f+1|0;while((f|0)<(e[j>>2]|0));Va=Yn}else Va=e[vo>>2]|0;if(f=(e[s+(i<<2)>>2]|0)-(e[Va+(i<<2)>>2]|0)|0,Ii=o+(i<<2)|0,e[Ii>>2]=f,(f|0)>=(e[fr>>2]|0)?(f|0)>(e[Nr>>2]|0)&&(Ol=f-(e[Hn>>2]|0)|0,Bn=145):(Ol=(e[Hn>>2]|0)+f|0,Bn=145),(Bn|0)==145&&(Bn=0,e[Ii>>2]=Ol),i=i+1|0,Ee=e[j>>2]|0,(i|0)>=(Ee|0))break;xn=Va}return qn|0&&((hl|0)!=(qn|0)&&(e[ie>>2]=hl+(~((hl+-4-qn|0)>>>2)<<2)),Ae(qn)),qn=e[m>>2]|0,qn|0&&(m=e[J>>2]|0,(m|0)!=(qn|0)&&(e[J>>2]=m+(~((m+-4-qn|0)>>>2)<<2)),Ae(qn)),qn=e[d+36>>2]|0,qn|0&&(m=d+40|0,J=e[m>>2]|0,(J|0)!=(qn|0)&&(e[m>>2]=J+(~((J+-4-qn|0)>>>2)<<2)),Ae(qn)),qn=e[d+24>>2]|0,qn|0&&(J=d+28|0,m=e[J>>2]|0,(m|0)!=(qn|0)&&(e[J>>2]=m+(~((m+-4-qn|0)>>>2)<<2)),Ae(qn)),qn=e[d+12>>2]|0,qn|0&&(m=d+16|0,J=e[m>>2]|0,(J|0)!=(qn|0)&&(e[m>>2]=J+(~((J+-4-qn|0)>>>2)<<2)),Ae(qn)),qn=e[d>>2]|0,qn?(J=d+4|0,d=e[J>>2]|0,(d|0)!=(qn|0)&&(e[J>>2]=d+(~((d+-4-qn|0)>>>2)<<2)),Ae(qn),q=h,1):(q=h,1)}function $L(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0,Wt=0,cr=0,mr=0,Gr=0,dr=0,Er=0,nr=0,Mr=0,Nr=0,ar=0,gr=0,or=0,tr=0,jr=0,Xr=0,Qr=0,Hr=0,Ir=0,Ar=0,kr=0,Dr=0,ti=0,fi=0,Br=0,di=0,ri=0,Xi=0,nn=0,mn=0,R0=0,gn=0,Qn=0,Hn=0,xn=0,Ii=0,zi=0,Di=0,Qi=0,Bi=0,tn=0,Ui=0,sn=0,Wi=0,Mi=0,Vi=0,Si=0,Yi=0,cn=0,Un=0,h0=0,D0=0,o0=0,Ts=0,J0=0,as=0,_0=0,Bn=0,H0=0,In=0,vn=0,X0=0,Ln=0,Do=0,vo=0,ul=0,wo=0,cl=0,ka=0,hf=0,qn=0,hl=0,Yn=0,Va=0,Ol=0,Xc=0,qc=0;h=q,q=q+240|0,u=h+104|0,g=h+224|0,d=h+176|0,m=h+160|0,b=h+228|0,w=h+72|0,x=h+40|0,C=h+132|0,S=h,D=h+172|0,I=h+156|0,L=h+152|0,P=h+148|0,N=h+144|0,X=h+128|0,j=i+8|0,pd(j,s,l,f),l=e[i+48>>2]|0,Q=e[i+52>>2]|0,V=d,G=V+48|0;do e[V>>2]=0,V=V+4|0;while((V|0)<(G|0));f?(K0(d,f),ee=e[d+12>>2]|0,J=e[d+16>>2]|0):(ee=0,J=0),V=d+16|0,G=J-ee>>2,O=ee,ee=J,G>>>0>=f>>>0?G>>>0>f>>>0&&(J=O+(f<<2)|0,(J|0)!=(ee|0))&&(e[V>>2]=ee+(~((ee+-4-J|0)>>>2)<<2)):K0(d+12|0,f-G|0),G=d+24|0,J=d+28|0,ee=e[J>>2]|0,V=e[G>>2]|0,O=ee-V>>2,$=V,V=ee,O>>>0>=f>>>0?O>>>0>f>>>0&&(ee=$+(f<<2)|0,(ee|0)!=(V|0))&&(e[J>>2]=V+(~((V+-4-ee|0)>>>2)<<2)):K0(G,f-O|0),O=d+36|0,G=d+40|0,ee=e[G>>2]|0,V=e[O>>2]|0,J=ee-V>>2,$=V,V=ee,J>>>0>=f>>>0?J>>>0>f>>>0&&(ee=$+(f<<2)|0,(ee|0)!=(V|0))&&(e[G>>2]=V+(~((V+-4-ee|0)>>>2)<<2)):K0(O,f-J|0),e[m>>2]=0,J=m+4|0,e[J>>2]=0,e[m+8>>2]=0,O=(f|0)==0;do if(!O)if(f>>>0>1073741823)qe();else{ee=f<<2,V=It(ee)|0,e[m>>2]=V,G=V+(f<<2)|0,e[m+8>>2]=G,Tr(V|0,0,ee|0)|0,e[J>>2]=G;break}while(0);G=i+152|0,ee=i+156|0,V=e[ee>>2]|0,$=e[G>>2]|0,ie=V-$>>2,se=$,$=V,ie>>>0>=f>>>0?ie>>>0>f>>>0&&(V=se+(f<<2)|0,(V|0)!=($|0))&&(e[ee>>2]=$+(~(($+-4-V|0)>>>2)<<2)):K0(G,f-ie|0),e[w>>2]=0,e[w+4>>2]=0,e[w+8>>2]=0,e[w+12>>2]=0,e[w+16>>2]=0,e[w+20>>2]=0,e[w+24>>2]=0,e[w+28>>2]=0,e[x>>2]=0,e[x+4>>2]=0,e[x+8>>2]=0,e[x+12>>2]=0,e[x+16>>2]=0,e[x+20>>2]=0,e[x+24>>2]=0,e[x+28>>2]=0,e[C>>2]=0,ie=C+4|0,e[ie>>2]=0,e[C+8>>2]=0,O?(ue=0,Ee=0,Pe=0,ge=0):(O=f<<2,V=It(O)|0,e[C>>2]=V,$=V+(f<<2)|0,e[C+8>>2]=$,Tr(V|0,0,O|0)|0,e[ie>>2]=$,ue=V,Ee=$,Pe=$,ge=V),V=i+56|0,$=e[V>>2]|0,O=e[$+4>>2]|0,ee=e[$>>2]|0,se=O-ee|0;e:do if((se|0)>4){Be=se>>>2,_e=l+12|0,Ce=(f|0)>0,We=S+4|0,lt=S+8|0,et=S+12|0,Ve=i+152|0,He=i+112|0,st=S+16|0,Je=S+28|0,it=i+16|0,ze=i+32|0,Ge=i+12|0,ke=i+28|0,ut=i+20|0,tt=i+24|0,at=S+28|0,Mt=S+16|0,Pt=S+20|0,yt=S+32|0,Vt=b+1|0,Lt=f<<2,At=(f|0)==1,_t=Be+-1|0,O-ee>>2>>>0>_t>>>0?(St=Be,fr=_t,Wt=ee,cr=ue,mr=ge,Gr=Pe,dr=ue,Er=Ee,nr=ue,Mr=Ee):(Nr=$,qe());t:for(;;){_t=e[Wt+(fr<<2)>>2]|0,Be=(((_t>>>0)%3|0|0)==0?2:-1)+_t|0,ar=(_t|0)==-1|(Be|0)==-1,gr=1,or=0,tr=_t;r:for(;;){for(jr=gr^1,Xr=or,Qr=tr;;){if((Qr|0)==-1){Hr=Xr;break r}if(Ir=e[d+(Xr*12|0)>>2]|0,Ar=e[_e>>2]|0,kr=e[Ar+(Qr<<2)>>2]|0,(kr|0)!=-1)if(Dr=e[l>>2]|0,ti=e[Q>>2]|0,fi=e[ti+(e[Dr+(kr<<2)>>2]<<2)>>2]|0,Br=kr+1|0,di=((Br>>>0)%3|0|0)==0?kr+-2|0:Br,(di|0)==-1?ri=-1:ri=e[Dr+(di<<2)>>2]|0,di=e[ti+(ri<<2)>>2]|0,Br=(((kr>>>0)%3|0|0)==0?2:-1)+kr|0,(Br|0)==-1?Xi=-1:Xi=e[Dr+(Br<<2)>>2]|0,Br=e[ti+(Xi<<2)>>2]|0,(fi|0)<(fr|0)&(di|0)<(fr|0)&(Br|0)<(fr|0)){if(ti=_r(fi,f)|0,fi=_r(di,f)|0,di=_r(Br,f)|0,Ce){Br=0;do e[Ir+(Br<<2)>>2]=(e[s+(Br+di<<2)>>2]|0)+(e[s+(Br+fi<<2)>>2]|0)-(e[s+(Br+ti<<2)>>2]|0),Br=Br+1|0;while((Br|0)!=(f|0))}if(Br=Xr+1|0,(Br|0)==4){Hr=4;break r}else nn=Br}else nn=Xr;else nn=Xr;do if(gr)Br=Qr+1|0,ti=((Br>>>0)%3|0|0)==0?Qr+-2|0:Br,(ti|0)!=-1&&(Br=e[Ar+(ti<<2)>>2]|0,ti=Br+1|0,(Br|0)!=-1)?mn=((ti>>>0)%3|0|0)==0?Br+-2|0:ti:mn=-1;else if(ti=(((Qr>>>0)%3|0|0)==0?2:-1)+Qr|0,(ti|0)!=-1&&(Br=e[Ar+(ti<<2)>>2]|0,(Br|0)!=-1))if((Br>>>0)%3|0){mn=Br+-1|0;break}else{mn=Br+2|0;break}else mn=-1;while(0);if((mn|0)==(_t|0)){Hr=nn;break r}if((mn|0)!=-1|jr)Xr=nn,Qr=mn;else break}if(ar){gr=0,or=nn,tr=-1;continue}if(Qr=e[Ar+(Be<<2)>>2]|0,(Qr|0)==-1){gr=0,or=nn,tr=-1;continue}if((Qr>>>0)%3|0){gr=0,or=nn,tr=Qr+-1|0;continue}else{gr=0,or=nn,tr=Qr+2|0;continue}}if(tr=_r(fr,f)|0,e[S>>2]=0,e[We>>2]=0,Y[lt>>0]=0,e[et>>2]=0,e[et+4>>2]=0,e[et+8>>2]=0,e[et+12>>2]=0,e[et+16>>2]=0,e[et+20>>2]=0,e[et+24>>2]=0,or=s+((_r(St+-2|0,f)|0)<<2)|0,gr=s+(tr<<2)|0,Be=e[Ve>>2]|0,Ce)for(ar=0,_t=0;;)if(Qr=(e[or+(ar<<2)>>2]|0)-(e[gr+(ar<<2)>>2]|0)|0,Xr=((Qr|0)>-1?Qr:0-Qr|0)+_t|0,e[cr+(ar<<2)>>2]=Qr,e[Be+(ar<<2)>>2]=Qr<<1^Qr>>31,ar=ar+1|0,(ar|0)==(f|0)){R0=Xr;break}else _t=Xr;else R0=0;if(Jc(u,He,Be,f),_t=Gc(u)|0,ar=Ze,Xr=Qc(u)|0,Qr=Qt(Xr|0,Ze|0,_t|0,ar|0)|0,ar=Ze,_t=(Hr|0)>0,_t?(Xr=Hr+-1|0,jr=x+(Xr<<3)|0,Br=jr,ti=Qt(e[Br>>2]|0,e[Br+4>>2]|0,Hr|0,((Hr|0)<0)<<31>>31|0)|0,Br=Ze,fi=jr,e[fi>>2]=ti,e[fi+4>>2]=Br,gn=+yi(+(+Wc(ti,e[w+(Xr<<3)>>2]|0)*(+(ti>>>0)+4294967296*+(Br|0)))),Br=Qt(Qr|0,ar|0,~~gn>>>0|0,(+u0(gn)>=1?gn>0?~~+n0(+bn(gn/4294967296),4294967295)>>>0:~~+yi((gn-+(~~gn>>>0))/4294967296)>>>0:0)|0)|0,Qn=Br):Qn=Qr,Qr=S,e[Qr>>2]=Qn,e[Qr+4>>2]=R0,Y[lt>>0]=0,e[et>>2]=0,Uu(st,or,or+(f<<2)|0),e[D>>2]=mr,e[I>>2]=Gr,e[g>>2]=e[D>>2],e[u>>2]=e[I>>2],Aa(Je,g,u),(Hr|0)<1)Hn=Mr,xn=nr,Ii=Er,zi=dr,Di=Gr,Qi=mr,Bi=mr;else for(Qr=b+Hr|0,Br=e[C>>2]|0,ar=Hr+-1|0,ti=w+(ar<<3)|0,Xr=x+(ar<<3)|0,ar=Br,fi=e[ie>>2]|0,jr=Qr+-1|0,di=(jr|0)==(b|0),Ir=Qr+-2|0,Dr=Vt>>>0<Ir>>>0,kr=~Hr,tn=Hr+2+((kr|0)>-2?kr:-2)|0,kr=fi,Ui=jr>>>0>b>>>0,sn=0,Wi=1;;){sn=sn+1|0,Tr(b|0,1,tn|0)|0,Tr(b|0,0,sn|0)|0;r:for(;;){if(Ce)for(Tr(e[m>>2]|0,0,Lt|0)|0,Mi=e[m>>2]|0,Vi=0,Si=0;;){if(Y[b+Vi>>0]|0)h0=Si;else{Yi=e[d+(Vi*12|0)>>2]|0,cn=0;do Un=Mi+(cn<<2)|0,e[Un>>2]=(e[Un>>2]|0)+(e[Yi+(cn<<2)>>2]|0),cn=cn+1|0;while((cn|0)!=(f|0));h0=(1<<Vi|Si&255)&255}if(Vi=Vi+1|0,(Vi|0)==(Hr|0)){D0=h0;break}else Si=h0}else for(Si=0,Vi=0;;)if(Y[b+Si>>0]|0?o0=Vi:o0=(1<<Si|Vi&255)&255,Si=Si+1|0,(Si|0)==(Hr|0)){D0=o0;break}else Vi=o0;Vi=e[m>>2]|0;do if(Ce){if(e[Vi>>2]=(e[Vi>>2]|0)/(Wi|0)|0,At)Ts=e[Ve>>2]|0;else{Si=1;do Mi=Vi+(Si<<2)|0,e[Mi>>2]=(e[Mi>>2]|0)/(Wi|0)|0,Si=Si+1|0;while((Si|0)!=(f|0));if(Si=e[Ve>>2]|0,Ce)Ts=Si;else{J0=0,as=Si;break}}for(Si=0,Mi=0;;)if(cn=(e[Vi+(Si<<2)>>2]|0)-(e[gr+(Si<<2)>>2]|0)|0,Yi=((cn|0)>-1?cn:0-cn|0)+Mi|0,e[Br+(Si<<2)>>2]=cn,e[Ts+(Si<<2)>>2]=cn<<1^cn>>31,Si=Si+1|0,(Si|0)==(f|0)){J0=Yi,as=Ts;break}else Mi=Yi}else J0=0,as=e[Ve>>2]|0;while(0);if(Jc(u,He,as,f),Vi=Gc(u)|0,Mi=Ze,Si=Qc(u)|0,Yi=Qt(Si|0,Ze|0,Vi|0,Mi|0)|0,Mi=Ze,_t?(Vi=ti,Si=Qt(e[Vi>>2]|0,e[Vi+4>>2]|0,Wi|0,0)|0,Vi=Xr,cn=e[Vi>>2]|0,Un=e[Vi+4>>2]|0,gn=+yi(+(+Wc(cn,Si)*(+(cn>>>0)+4294967296*+(Un|0)))),Un=Qt(Yi|0,Mi|0,~~gn>>>0|0,(+u0(gn)>=1?gn>0?~~+n0(+bn(gn/4294967296),4294967295)>>>0:~~+yi((gn-+(~~gn>>>0))/4294967296)>>>0:0)|0)|0,_0=Un):_0=Yi,Yi=e[S>>2]|0,(_0|0)>=(Yi|0)&&!((_0|0)<=(Yi|0)&&(J0|0)<(e[We>>2]|0))||(Yi=S,e[Yi>>2]=_0,e[Yi+4>>2]=J0,Y[lt>>0]=D0,e[et>>2]=Wi,e[L>>2]=e[m>>2],e[P>>2]=e[J>>2],e[g>>2]=e[L>>2],e[u>>2]=e[P>>2],Aa(st,g,u),e[N>>2]=ar,e[X>>2]=fi,e[g>>2]=e[N>>2],e[u>>2]=e[X>>2],Aa(Je,g,u)),di)break;for(Bn=Y[jr>>0]|0,Yi=-1,Un=Bn;Mi=Yi+-1|0,H0=Qr+Mi|0,cn=Un,Un=Y[H0>>0]|0,!((Un&255)<(cn&255));)if((H0|0)==(b|0)){In=86;break r}else Yi=Mi;if(Mi=Qr+Yi|0,(Un&255)<(Bn&255))vn=jr,X0=Bn;else for(cn=Qr,Si=jr;;)if(Vi=Si+-1|0,(Un&255)<(br[cn+-2>>0]|0)){vn=Vi,X0=1;break}else Ln=Si,Si=Vi,cn=Ln;if(Y[H0>>0]=X0,Y[vn>>0]=Un,(Yi|0)<-1)Do=Mi,vo=jr;else continue;for(;;)if(cn=Y[Do>>0]|0,Y[Do>>0]=Y[vo>>0]|0,Y[vo>>0]=cn,cn=Do+1|0,Si=vo+-1|0,cn>>>0<Si>>>0)Do=cn,vo=Si;else continue r}if((In|0)==86&&(In=0,Ui)&&(Mi=Y[b>>0]|0,Y[b>>0]=Bn,Y[jr>>0]=Mi,Dr)){Mi=Ir,Yi=Vt;do Un=Y[Yi>>0]|0,Y[Yi>>0]=Y[Mi>>0]|0,Y[Mi>>0]=Un,Yi=Yi+1|0,Mi=Mi+-1|0;while(Yi>>>0<Mi>>>0)}if((Wi|0)>=(Hr|0)){Hn=kr,xn=Br,Ii=kr,zi=Br,Di=fi,Qi=ar,Bi=Br;break}else Wi=Wi+1|0}if(_t&&(Wi=e[et>>2]|0,Br=w+(Hr+-1<<3)|0,ar=Br,fi=Qt(e[ar>>2]|0,e[ar+4>>2]|0,Wi|0,((Wi|0)<0)<<31>>31|0)|0,Wi=Br,e[Wi>>2]=fi,e[Wi+4>>2]=Ze),Ce){Wi=e[Je>>2]|0,fi=e[G>>2]|0,Br=0;do ar=e[Wi+(Br<<2)>>2]|0,e[fi+(Br<<2)>>2]=ar<<1^ar>>31,Br=Br+1|0;while((Br|0)!=(f|0));ul=fi}else ul=e[G>>2]|0;if(t4(u,He,ul,f),_t){fi=Hr+-1|0,wo=i+60+(fi*12|0)|0,Br=i+60+(fi*12|0)+4|0,Wi=i+60+(fi*12|0)+8|0,fi=0;do{if(ar=e[Br>>2]|0,kr=e[Wi>>2]|0,Ir=(ar|0)==(kr<<5|0),1<<fi&br[lt>>0]){if(Ir){if((ar+1|0)<0){In=119;break t}Ir=kr<<6,kr=ar+32&-32,ua(wo,ar>>>0<1073741823?Ir>>>0<kr>>>0?kr:Ir:2147483647),ka=e[Br>>2]|0}else ka=ar;e[Br>>2]=ka+1,ar=(e[wo>>2]|0)+(ka>>>5<<2)|0,e[ar>>2]=e[ar>>2]&~(1<<(ka&31))}else{if(Ir){if((ar+1|0)<0){In=114;break t}Dr=kr<<6,jr=ar+32&-32,ua(wo,ar>>>0<1073741823?Dr>>>0<jr>>>0?jr:Dr:2147483647),cl=e[Br>>2]|0}else cl=ar;e[Br>>2]=cl+1,Dr=(e[wo>>2]|0)+(cl>>>5<<2)|0,e[Dr>>2]=e[Dr>>2]|1<<(cl&31)}fi=fi+1|0}while((fi|0)<(Hr|0))}if(fi=o+(tr<<2)|0,Br=e[j>>2]|0,(Br|0)>0)for(Wi=0,_t=e[st>>2]|0,ar=Br;;){if((ar|0)>0){Br=0;do Ir=e[_t+(Br<<2)>>2]|0,kr=e[it>>2]|0,(Ir|0)>(kr|0)?(Dr=e[ze>>2]|0,e[Dr+(Br<<2)>>2]=kr,hf=Dr):(Dr=e[Ge>>2]|0,kr=e[ze>>2]|0,e[kr+(Br<<2)>>2]=(Ir|0)<(Dr|0)?Dr:Ir,hf=kr),Br=Br+1|0;while((Br|0)<(e[j>>2]|0));qn=hf}else qn=e[ze>>2]|0;Br=(e[gr+(Wi<<2)>>2]|0)-(e[qn+(Wi<<2)>>2]|0)|0,kr=fi+(Wi<<2)|0,e[kr>>2]=Br;do if((Br|0)<(e[ke>>2]|0))hl=(e[ut>>2]|0)+Br|0,In=109;else{if((Br|0)<=(e[tt>>2]|0))break;hl=Br-(e[ut>>2]|0)|0,In=109}while(0);if((In|0)==109&&(In=0,e[kr>>2]=hl),Wi=Wi+1|0,ar=e[j>>2]|0,(Wi|0)>=(ar|0))break;_t=qn}if(_t=e[at>>2]|0,_t|0&&(ar=e[yt>>2]|0,(ar|0)!=(_t|0)&&(e[yt>>2]=ar+(~((ar+-4-_t|0)>>>2)<<2)),Ae(_t)),_t=e[Mt>>2]|0,_t|0&&(ar=e[Pt>>2]|0,(ar|0)!=(_t|0)&&(e[Pt>>2]=ar+(~((ar+-4-_t|0)>>>2)<<2)),Ae(_t)),(St|0)<=2){Yn=zi,Va=Ii;break e}if(_t=e[V>>2]|0,Wt=e[_t>>2]|0,ar=fr+-1|0,(e[_t+4>>2]|0)-Wt>>2>>>0<=ar>>>0){Nr=_t,In=18;break}else _t=fr,fr=ar,cr=Bi,mr=Qi,Gr=Di,dr=zi,Er=Ii,nr=xn,Mr=Hn,St=_t}((In|0)==18||(In|0)==114||(In|0)==119)&&qe()}else Yn=ue,Va=Ee;while(0);if(Ee=e[d>>2]|0,(f|0)>0&&(e[Ee>>2]=0,(f|0)!=1)){ue=1;do e[Ee+(ue<<2)>>2]=0,ue=ue+1|0;while((ue|0)!=(f|0))}if(f=e[j>>2]|0,(f|0)>0)for(ue=i+16|0,wo=i+32|0,Nr=i+12|0,St=i+28|0,Hn=i+20|0,Mr=i+24|0,i=0,xn=Ee,Ee=f;;){if((Ee|0)>0){f=0;do nr=e[xn+(f<<2)>>2]|0,Ii=e[ue>>2]|0,(nr|0)>(Ii|0)?(Er=e[wo>>2]|0,e[Er+(f<<2)>>2]=Ii,Ol=Er):(Er=e[Nr>>2]|0,Ii=e[wo>>2]|0,e[Ii+(f<<2)>>2]=(nr|0)<(Er|0)?Er:nr,Ol=Ii),f=f+1|0;while((f|0)<(e[j>>2]|0));Xc=Ol}else Xc=e[wo>>2]|0;if(f=(e[s+(i<<2)>>2]|0)-(e[Xc+(i<<2)>>2]|0)|0,Ii=o+(i<<2)|0,e[Ii>>2]=f,(f|0)>=(e[St>>2]|0)?(f|0)>(e[Mr>>2]|0)&&(qc=f-(e[Hn>>2]|0)|0,In=145):(qc=(e[Hn>>2]|0)+f|0,In=145),(In|0)==145&&(In=0,e[Ii>>2]=qc),i=i+1|0,Ee=e[j>>2]|0,(i|0)>=(Ee|0))break;xn=Xc}return Yn|0&&((Va|0)!=(Yn|0)&&(e[ie>>2]=Va+(~((Va+-4-Yn|0)>>>2)<<2)),Ae(Yn)),Yn=e[m>>2]|0,Yn|0&&(m=e[J>>2]|0,(m|0)!=(Yn|0)&&(e[J>>2]=m+(~((m+-4-Yn|0)>>>2)<<2)),Ae(Yn)),Yn=e[d+36>>2]|0,Yn|0&&(m=d+40|0,J=e[m>>2]|0,(J|0)!=(Yn|0)&&(e[m>>2]=J+(~((J+-4-Yn|0)>>>2)<<2)),Ae(Yn)),Yn=e[d+24>>2]|0,Yn|0&&(J=d+28|0,m=e[J>>2]|0,(m|0)!=(Yn|0)&&(e[J>>2]=m+(~((m+-4-Yn|0)>>>2)<<2)),Ae(Yn)),Yn=e[d+12>>2]|0,Yn|0&&(m=d+16|0,J=e[m>>2]|0,(J|0)!=(Yn|0)&&(e[m>>2]=J+(~((J+-4-Yn|0)>>>2)<<2)),Ae(Yn)),Yn=e[d>>2]|0,Yn?(J=d+4|0,d=e[J>>2]|0,(d|0)!=(Yn|0)&&(e[J>>2]=d+(~((d+-4-Yn|0)>>>2)<<2)),Ae(Yn),q=h,1):(q=h,1)}function is(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0;s=q,q=q+16|0,o=s,l=s+8|0,f=s+4|0,e[l>>2]=i;do if(i>>>0>=212){h=(i>>>0)/210|0,u=h*210|0,e[f>>2]=i-u,g=0,d=h,h=(Fk(6640,6832,f,o)|0)-6640>>2,m=u;e:for(;;){for(b=(e[6640+(h<<2)>>2]|0)+m|0,u=5;;){if(u>>>0>=47){w=211,x=g,C=8;break}if(S=e[6448+(u<<2)>>2]|0,D=(b>>>0)/(S>>>0)|0,D>>>0<S>>>0){C=106;break e}if((b|0)==(_r(D,S)|0)){I=g;break}else u=u+1|0}t:do if((C|0)==8){r:for(;;){C=0,u=(b>>>0)/(w>>>0)|0;do if(u>>>0>=w>>>0)if((b|0)!=(_r(u,w)|0))if(S=w+10|0,D=(b>>>0)/(S>>>0)|0,D>>>0>=S>>>0)if((b|0)!=(_r(D,S)|0))if(D=w+12|0,L=(b>>>0)/(D>>>0)|0,L>>>0>=D>>>0)if((b|0)!=(_r(L,D)|0))if(L=w+16|0,P=(b>>>0)/(L>>>0)|0,P>>>0>=L>>>0)if((b|0)!=(_r(P,L)|0))if(P=w+18|0,N=(b>>>0)/(P>>>0)|0,N>>>0>=P>>>0)if((b|0)!=(_r(N,P)|0))if(N=w+22|0,X=(b>>>0)/(N>>>0)|0,X>>>0>=N>>>0)if((b|0)!=(_r(X,N)|0))if(X=w+28|0,j=(b>>>0)/(X>>>0)|0,j>>>0>=X>>>0)if((b|0)==(_r(j,X)|0))Q=X,V=9,G=x;else{if(j=w+30|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+36|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+40|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+42|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+46|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+52|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+58|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+60|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+66|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+70|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+72|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+78|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+82|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+88|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+96|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+100|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+102|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+106|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+108|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+112|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+120|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+126|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+130|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+136|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+138|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+142|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+148|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+150|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+156|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+162|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+166|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+168|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+172|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+178|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+180|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+186|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+190|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+192|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+196|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}if(j=w+198|0,ee=(b>>>0)/(j>>>0)|0,ee>>>0<j>>>0){Q=j,V=1,G=b;break}if((b|0)==(_r(ee,j)|0)){Q=j,V=9,G=x;break}j=w+208|0,ee=(b>>>0)/(j>>>0)|0,J=ee>>>0<j>>>0,O=(b|0)==(_r(ee,j)|0),Q=J|O?j:w+210|0,V=J?1:O?9:0,G=J?b:x}else Q=X,V=1,G=b;else Q=N,V=9,G=x;else Q=N,V=1,G=b;else Q=P,V=9,G=x;else Q=P,V=1,G=b;else Q=L,V=9,G=x;else Q=L,V=1,G=b;else Q=D,V=9,G=x;else Q=D,V=1,G=b;else Q=S,V=9,G=x;else Q=S,V=1,G=b;else Q=w,V=9,G=x;else Q=w,V=1,G=b;while(0);switch(V&15){case 9:{I=G;break t}case 0:{w=Q,x=G,C=8;break}default:break r}}if(!V)I=G;else{C=107;break e}}while(0);u=h+1|0,S=(u|0)==48,D=d+(S&1)|0,g=I,d=D,h=S?0:u,m=D*210|0}if((C|0)==106){e[l>>2]=b,$=b;break}else if((C|0)==107){e[l>>2]=b,$=G;break}}else m=Fk(6448,6640,l,o)|0,$=e[m>>2]|0;while(0);return q=s,$|0}function eP(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0,Wt=0,cr=0,mr=0,Gr=0,dr=0,Er=0,nr=0,Mr=0,Nr=0,ar=0,gr=0,or=0,tr=0,jr=0,Xr=0,Qr=0,Hr=0,Ir=0,Ar=0,kr=0,Dr=0,ti=0,fi=0,Br=0,di=0,ri=0,Xi=0,nn=0,mn=0,R0=0,gn=0,Qn=0,Hn=0,xn=0,Ii=0,zi=0,Di=0,Qi=0,Bi=0,tn=0,Ui=0,sn=0,Wi=0,Mi=0,Vi=0,Si=0,Yi=0,cn=0,Un=0,h0=0,D0=0,o0=0,Ts=0,J0=0,as=0,_0=0,Bn=0,H0=0,In=0,vn=0,X0=0;h=q,q=q+256|0,l=h+104|0,u=h+240|0,g=h+224|0,d=h+160|0,m=h+140|0,b=h+248|0,w=h+72|0,x=h+40|0,C=h+128|0,S=h,D=h+232|0,I=h+220|0,L=h+216|0,P=h+212|0,N=h+208|0,X=h+152|0,j=e[i+28>>2]|0,Q=e[i+32>>2]|0,V=d,G=V+48|0;do e[V>>2]=0,V=V+4|0;while((V|0)<(G|0));f?(K0(d,f),ee=e[d+12>>2]|0,J=e[d+16>>2]|0):(ee=0,J=0),V=d+16|0,G=J-ee>>2,O=ee,ee=J,G>>>0>=f>>>0?G>>>0>f>>>0&&(J=O+(f<<2)|0,(J|0)!=(ee|0))&&(e[V>>2]=ee+(~((ee+-4-J|0)>>>2)<<2)):K0(d+12|0,f-G|0),G=d+24|0,J=d+28|0,ee=e[J>>2]|0,V=e[G>>2]|0,O=ee-V>>2,$=V,V=ee,O>>>0>=f>>>0?O>>>0>f>>>0&&(ee=$+(f<<2)|0,(ee|0)!=(V|0))&&(e[J>>2]=V+(~((V+-4-ee|0)>>>2)<<2)):K0(G,f-O|0),O=d+36|0,G=d+40|0,ee=e[G>>2]|0,V=e[O>>2]|0,J=ee-V>>2,$=V,V=ee,J>>>0>=f>>>0?J>>>0>f>>>0&&(ee=$+(f<<2)|0,(ee|0)!=(V|0))&&(e[G>>2]=V+(~((V+-4-ee|0)>>>2)<<2)):K0(O,f-J|0),e[m>>2]=0,J=m+4|0,e[J>>2]=0,e[m+8>>2]=0,O=(f|0)==0;do if(!O)if(f>>>0>1073741823)qe();else{ee=f<<2,V=It(ee)|0,e[m>>2]=V,G=V+(f<<2)|0,e[m+8>>2]=G,Tr(V|0,0,ee|0)|0,e[J>>2]=G;break}while(0);G=i+136|0,ee=i+140|0,V=e[ee>>2]|0,$=e[G>>2]|0,ie=V-$>>2,se=$,$=V,ie>>>0>=f>>>0?ie>>>0>f>>>0&&(V=se+(f<<2)|0,(V|0)!=($|0))&&(e[ee>>2]=$+(~(($+-4-V|0)>>>2)<<2)):K0(G,f-ie|0),e[w>>2]=0,e[w+4>>2]=0,e[w+8>>2]=0,e[w+12>>2]=0,e[w+16>>2]=0,e[w+20>>2]=0,e[w+24>>2]=0,e[w+28>>2]=0,e[x>>2]=0,e[x+4>>2]=0,e[x+8>>2]=0,e[x+12>>2]=0,e[x+16>>2]=0,e[x+20>>2]=0,e[x+24>>2]=0,e[x+28>>2]=0,e[C>>2]=0,ie=C+4|0,e[ie>>2]=0,e[C+8>>2]=0,O?(ue=0,Ee=0,Pe=0,ge=0):(O=f<<2,V=It(O)|0,e[C>>2]=V,$=V+(f<<2)|0,e[C+8>>2]=$,Tr(V|0,0,O|0)|0,e[ie>>2]=$,ue=V,Ee=$,Pe=$,ge=V),V=i+36|0,$=e[V>>2]|0,O=e[$+4>>2]|0,ee=e[$>>2]|0,se=O-ee|0;e:do if((se|0)>4){Be=se>>>2,_e=j+64|0,Ce=j+28|0,We=(f|0)>0,lt=S+4|0,et=S+8|0,Ve=S+12|0,He=i+136|0,st=i+96|0,Je=S+16|0,it=S+28|0,ze=i+8|0,Ge=u+4|0,ke=g+4|0,ut=l+4|0,tt=S+28|0,at=S+16|0,Mt=S+20|0,Pt=S+32|0,yt=b+1|0,Vt=f<<2,Lt=(f|0)==1,At=Be+-1|0,O-ee>>2>>>0>At>>>0?(_t=Be,St=At,fr=ee,Wt=ue,cr=ge,mr=Pe,Gr=ue,dr=Ee):qe();t:for(;;){At=e[fr+(St<<2)>>2]|0,Be=(((At>>>0)%3|0|0)==0?2:-1)+At|0,Er=Be>>>5,nr=1<<(Be&31),Mr=(At|0)==-1|(Be|0)==-1,Nr=1,ar=0,gr=At;r:for(;;){for(or=Nr^1,tr=ar,jr=gr;;){if((jr|0)==-1){Xr=tr;break r}if(Qr=e[d+(tr*12|0)>>2]|0,(e[(e[j>>2]|0)+(jr>>>5<<2)>>2]&1<<(jr&31)|0)==0&&(Hr=e[(e[(e[_e>>2]|0)+12>>2]|0)+(jr<<2)>>2]|0,(Hr|0)!=-1)&&(Ir=e[Ce>>2]|0,Ar=e[Q>>2]|0,kr=e[Ar+(e[Ir+(Hr<<2)>>2]<<2)>>2]|0,Dr=Hr+1|0,ti=e[Ar+(e[Ir+((((Dr>>>0)%3|0|0)==0?Hr+-2|0:Dr)<<2)>>2]<<2)>>2]|0,Dr=e[Ar+(e[Ir+((((Hr>>>0)%3|0|0)==0?2:-1)+Hr<<2)>>2]<<2)>>2]|0,(kr|0)<(St|0)&(ti|0)<(St|0)&(Dr|0)<(St|0))){if(Hr=_r(kr,f)|0,kr=_r(ti,f)|0,ti=_r(Dr,f)|0,We){Dr=0;do e[Qr+(Dr<<2)>>2]=(e[s+(Dr+ti<<2)>>2]|0)+(e[s+(Dr+kr<<2)>>2]|0)-(e[s+(Dr+Hr<<2)>>2]|0),Dr=Dr+1|0;while((Dr|0)!=(f|0))}if(Dr=tr+1|0,(Dr|0)==4){Xr=4;break r}else fi=Dr}else fi=tr;do if(Nr)Dr=jr+1|0,Hr=((Dr>>>0)%3|0|0)==0?jr+-2|0:Dr,(Hr|0)!=-1&&(e[(e[j>>2]|0)+(Hr>>>5<<2)>>2]&1<<(Hr&31)|0)==0&&(Dr=e[(e[(e[_e>>2]|0)+12>>2]|0)+(Hr<<2)>>2]|0,Hr=Dr+1|0,(Dr|0)!=-1)?Br=((Hr>>>0)%3|0|0)==0?Dr+-2|0:Hr:Br=-1;else if(Hr=(((jr>>>0)%3|0|0)==0?2:-1)+jr|0,(Hr|0)!=-1&&(e[(e[j>>2]|0)+(Hr>>>5<<2)>>2]&1<<(Hr&31)|0)==0&&(Dr=e[(e[(e[_e>>2]|0)+12>>2]|0)+(Hr<<2)>>2]|0,(Dr|0)!=-1))if((Dr>>>0)%3|0){Br=Dr+-1|0;break}else{Br=Dr+2|0;break}else Br=-1;while(0);if((Br|0)==(At|0)){Xr=fi;break r}if((Br|0)!=-1|or)tr=fi,jr=Br;else break}if(Mr){Nr=0,ar=fi,gr=-1;continue}if(e[(e[j>>2]|0)+(Er<<2)>>2]&nr|0){Nr=0,ar=fi,gr=-1;continue}if(jr=e[(e[(e[_e>>2]|0)+12>>2]|0)+(Be<<2)>>2]|0,(jr|0)==-1){Nr=0,ar=fi,gr=-1;continue}if((jr>>>0)%3|0){Nr=0,ar=fi,gr=jr+-1|0;continue}else{Nr=0,ar=fi,gr=jr+2|0;continue}}if(gr=_r(St,f)|0,e[S>>2]=0,e[lt>>2]=0,Y[et>>0]=0,e[Ve>>2]=0,e[Ve+4>>2]=0,e[Ve+8>>2]=0,e[Ve+12>>2]=0,e[Ve+16>>2]=0,e[Ve+20>>2]=0,e[Ve+24>>2]=0,ar=s+((_r(_t+-2|0,f)|0)<<2)|0,Nr=s+(gr<<2)|0,Be=e[He>>2]|0,We)for(nr=0,Er=0;;)if(Mr=(e[ar+(nr<<2)>>2]|0)-(e[Nr+(nr<<2)>>2]|0)|0,At=((Mr|0)>-1?Mr:0-Mr|0)+Er|0,e[Wt+(nr<<2)>>2]=Mr,e[Be+(nr<<2)>>2]=Mr<<1^Mr>>31,nr=nr+1|0,(nr|0)==(f|0)){di=At;break}else Er=At;else di=0;if(Jc(l,st,Be,f),Er=Gc(l)|0,nr=Ze,At=Qc(l)|0,Mr=Qt(At|0,Ze|0,Er|0,nr|0)|0,nr=Ze,Er=(Xr|0)>0,Er?(At=Xr+-1|0,jr=x+(At<<3)|0,tr=jr,or=Qt(e[tr>>2]|0,e[tr+4>>2]|0,Xr|0,((Xr|0)<0)<<31>>31|0)|0,tr=Ze,Dr=jr,e[Dr>>2]=or,e[Dr+4>>2]=tr,ri=+yi(+(+Wc(or,e[w+(At<<3)>>2]|0)*(+(or>>>0)+4294967296*+(tr|0)))),tr=Qt(Mr|0,nr|0,~~ri>>>0|0,(+u0(ri)>=1?ri>0?~~+n0(+bn(ri/4294967296),4294967295)>>>0:~~+yi((ri-+(~~ri>>>0))/4294967296)>>>0:0)|0)|0,Xi=tr):Xi=Mr,Mr=S,e[Mr>>2]=Xi,e[Mr+4>>2]=di,Y[et>>0]=0,e[Ve>>2]=0,Uu(Je,ar,ar+(f<<2)|0),e[D>>2]=cr,e[I>>2]=mr,e[u>>2]=e[D>>2],e[l>>2]=e[I>>2],Aa(it,u,l),(Xr|0)<1)nn=dr,mn=Gr,R0=mr,gn=cr,Qn=cr;else for(Mr=b+Xr|0,tr=e[C>>2]|0,nr=Xr+-1|0,or=w+(nr<<3)|0,At=x+(nr<<3)|0,nr=tr,Dr=e[ie>>2]|0,jr=Mr+-1|0,Hr=(jr|0)==(b|0),kr=Mr+-2|0,ti=yt>>>0<kr>>>0,Qr=~Xr,Ir=Xr+2+((Qr|0)>-2?Qr:-2)|0,Qr=Dr,Ar=jr>>>0>b>>>0,Hn=0,xn=1;;){Hn=Hn+1|0,Tr(b|0,1,Ir|0)|0,Tr(b|0,0,Hn|0)|0;r:for(;;){if(We)for(Tr(e[m>>2]|0,0,Vt|0)|0,Ii=e[m>>2]|0,zi=0,Di=0;;){if(Y[b+zi>>0]|0)Ui=Di;else{Qi=e[d+(zi*12|0)>>2]|0,Bi=0;do tn=Ii+(Bi<<2)|0,e[tn>>2]=(e[tn>>2]|0)+(e[Qi+(Bi<<2)>>2]|0),Bi=Bi+1|0;while((Bi|0)!=(f|0));Ui=(1<<zi|Di&255)&255}if(zi=zi+1|0,(zi|0)==(Xr|0)){sn=Ui;break}else Di=Ui}else for(Di=0,zi=0;;)if(Y[b+Di>>0]|0?Wi=zi:Wi=(1<<Di|zi&255)&255,Di=Di+1|0,(Di|0)==(Xr|0)){sn=Wi;break}else zi=Wi;zi=e[m>>2]|0;do if(We){if(e[zi>>2]=(e[zi>>2]|0)/(xn|0)|0,Lt)Mi=e[He>>2]|0;else{Di=1;do Ii=zi+(Di<<2)|0,e[Ii>>2]=(e[Ii>>2]|0)/(xn|0)|0,Di=Di+1|0;while((Di|0)!=(f|0));if(Di=e[He>>2]|0,We)Mi=Di;else{Vi=0,Si=Di;break}}for(Di=0,Ii=0;;)if(Bi=(e[zi+(Di<<2)>>2]|0)-(e[Nr+(Di<<2)>>2]|0)|0,Qi=((Bi|0)>-1?Bi:0-Bi|0)+Ii|0,e[tr+(Di<<2)>>2]=Bi,e[Mi+(Di<<2)>>2]=Bi<<1^Bi>>31,Di=Di+1|0,(Di|0)==(f|0)){Vi=Qi,Si=Mi;break}else Ii=Qi}else Vi=0,Si=e[He>>2]|0;while(0);if(Jc(l,st,Si,f),zi=Gc(l)|0,Ii=Ze,Di=Qc(l)|0,Qi=Qt(Di|0,Ze|0,zi|0,Ii|0)|0,Ii=Ze,Er?(zi=or,Di=Qt(e[zi>>2]|0,e[zi+4>>2]|0,xn|0,0)|0,zi=At,Bi=e[zi>>2]|0,tn=e[zi+4>>2]|0,ri=+yi(+(+Wc(Bi,Di)*(+(Bi>>>0)+4294967296*+(tn|0)))),tn=Qt(Qi|0,Ii|0,~~ri>>>0|0,(+u0(ri)>=1?ri>0?~~+n0(+bn(ri/4294967296),4294967295)>>>0:~~+yi((ri-+(~~ri>>>0))/4294967296)>>>0:0)|0)|0,Yi=tn):Yi=Qi,Qi=e[S>>2]|0,(Yi|0)>=(Qi|0)&&!((Yi|0)<=(Qi|0)&&(Vi|0)<(e[lt>>2]|0))||(Qi=S,e[Qi>>2]=Yi,e[Qi+4>>2]=Vi,Y[et>>0]=sn,e[Ve>>2]=xn,e[L>>2]=e[m>>2],e[P>>2]=e[J>>2],e[u>>2]=e[L>>2],e[l>>2]=e[P>>2],Aa(Je,u,l),e[N>>2]=nr,e[X>>2]=Dr,e[u>>2]=e[N>>2],e[l>>2]=e[X>>2],Aa(it,u,l)),Hr)break;for(cn=Y[jr>>0]|0,Qi=-1,tn=cn;Ii=Qi+-1|0,Un=Mr+Ii|0,Bi=tn,tn=Y[Un>>0]|0,!((tn&255)<(Bi&255));)if((Un|0)==(b|0)){h0=86;break r}else Qi=Ii;if(Ii=Mr+Qi|0,(tn&255)<(cn&255))D0=jr,o0=cn;else for(Bi=Mr,Di=jr;;)if(zi=Di+-1|0,(tn&255)<(br[Bi+-2>>0]|0)){D0=zi,o0=1;break}else Ts=Di,Di=zi,Bi=Ts;if(Y[Un>>0]=o0,Y[D0>>0]=tn,(Qi|0)<-1)J0=Ii,as=jr;else continue;for(;;)if(Bi=Y[J0>>0]|0,Y[J0>>0]=Y[as>>0]|0,Y[as>>0]=Bi,Bi=J0+1|0,Di=as+-1|0,Bi>>>0<Di>>>0)J0=Bi,as=Di;else continue r}if((h0|0)==86&&(h0=0,Ar)&&(Ii=Y[b>>0]|0,Y[b>>0]=cn,Y[jr>>0]=Ii,ti)){Ii=kr,Qi=yt;do tn=Y[Qi>>0]|0,Y[Qi>>0]=Y[Ii>>0]|0,Y[Ii>>0]=tn,Qi=Qi+1|0,Ii=Ii+-1|0;while(Qi>>>0<Ii>>>0)}if((xn|0)>=(Xr|0)){nn=Qr,mn=tr,R0=Dr,gn=nr,Qn=tr;break}else xn=xn+1|0}if(Er&&(xn=e[Ve>>2]|0,tr=w+(Xr+-1<<3)|0,nr=tr,Dr=Qt(e[nr>>2]|0,e[nr+4>>2]|0,xn|0,((xn|0)<0)<<31>>31|0)|0,xn=tr,e[xn>>2]=Dr,e[xn+4>>2]=Ze),We){xn=e[it>>2]|0,Dr=e[G>>2]|0,tr=0;do nr=e[xn+(tr<<2)>>2]|0,e[Dr+(tr<<2)>>2]=nr<<1^nr>>31,tr=tr+1|0;while((tr|0)!=(f|0));_0=Dr}else _0=e[G>>2]|0;if(t4(l,st,_0,f),Er){Dr=Xr+-1|0,Bn=i+40+(Dr*12|0)|0,tr=i+40+(Dr*12|0)+4|0,xn=i+40+(Dr*12|0)+8|0,Dr=0;do{if(nr=e[tr>>2]|0,Qr=e[xn>>2]|0,kr=(nr|0)==(Qr<<5|0),1<<Dr&br[et>>0]){if(kr){if((nr+1|0)<0){h0=106;break t}kr=Qr<<6,Qr=nr+32&-32,ua(Bn,nr>>>0<1073741823?kr>>>0<Qr>>>0?Qr:kr:2147483647),In=e[tr>>2]|0}else In=nr;e[tr>>2]=In+1,nr=(e[Bn>>2]|0)+(In>>>5<<2)|0,e[nr>>2]=e[nr>>2]&~(1<<(In&31))}else{if(kr){if((nr+1|0)<0){h0=101;break t}ti=Qr<<6,jr=nr+32&-32,ua(Bn,nr>>>0<1073741823?ti>>>0<jr>>>0?jr:ti:2147483647),H0=e[tr>>2]|0}else H0=nr;e[tr>>2]=H0+1,ti=(e[Bn>>2]|0)+(H0>>>5<<2)|0,e[ti>>2]=e[ti>>2]|1<<(H0&31)}Dr=Dr+1|0}while((Dr|0)<(Xr|0))}if(Dr=e[Je>>2]|0,tr=o+(gr<<2)|0,xn=e[Nr+4>>2]|0,Er=e[Dr>>2]|0,nr=e[Dr+4>>2]|0,e[u>>2]=e[Nr>>2],e[Ge>>2]=xn,e[g>>2]=Er,e[ke>>2]=nr,Is(l,ze,u,g),e[tr>>2]=e[l>>2],e[tr+4>>2]=e[ut>>2],tr=e[tt>>2]|0,tr|0&&(nr=e[Pt>>2]|0,(nr|0)!=(tr|0)&&(e[Pt>>2]=nr+(~((nr+-4-tr|0)>>>2)<<2)),Ae(tr)),tr=e[at>>2]|0,tr|0&&(nr=e[Mt>>2]|0,(nr|0)!=(tr|0)&&(e[Mt>>2]=nr+(~((nr+-4-tr|0)>>>2)<<2)),Ae(tr)),(_t|0)<=2){vn=mn,X0=nn;break e}if(tr=e[V>>2]|0,fr=e[tr>>2]|0,nr=St+-1|0,(e[tr+4>>2]|0)-fr>>2>>>0<=nr>>>0){h0=18;break}else tr=St,St=nr,Wt=Qn,cr=gn,mr=R0,Gr=mn,dr=nn,_t=tr}((h0|0)==18||(h0|0)==101||(h0|0)==106)&&qe()}else vn=ue,X0=Ee;while(0);return(f|0)>0&&Tr(e[d>>2]|0,0,f<<2|0)|0,f=e[d>>2]|0,Ee=e[s+4>>2]|0,ue=e[f>>2]|0,Bn=e[f+4>>2]|0,e[u>>2]=e[s>>2],e[u+4>>2]=Ee,e[g>>2]=ue,e[g+4>>2]=Bn,Is(l,i+8|0,u,g),e[o>>2]=e[l>>2],e[o+4>>2]=e[l+4>>2],vn|0&&((X0|0)!=(vn|0)&&(e[ie>>2]=X0+(~((X0+-4-vn|0)>>>2)<<2)),Ae(vn)),vn=e[m>>2]|0,vn|0&&(m=e[J>>2]|0,(m|0)!=(vn|0)&&(e[J>>2]=m+(~((m+-4-vn|0)>>>2)<<2)),Ae(vn)),vn=e[d+36>>2]|0,vn|0&&(m=d+40|0,J=e[m>>2]|0,(J|0)!=(vn|0)&&(e[m>>2]=J+(~((J+-4-vn|0)>>>2)<<2)),Ae(vn)),vn=e[d+24>>2]|0,vn|0&&(J=d+28|0,m=e[J>>2]|0,(m|0)!=(vn|0)&&(e[J>>2]=m+(~((m+-4-vn|0)>>>2)<<2)),Ae(vn)),vn=e[d+12>>2]|0,vn|0&&(m=d+16|0,J=e[m>>2]|0,(J|0)!=(vn|0)&&(e[m>>2]=J+(~((J+-4-vn|0)>>>2)<<2)),Ae(vn)),vn=e[d>>2]|0,vn?(J=d+4|0,d=e[J>>2]|0,(d|0)!=(vn|0)&&(e[J>>2]=d+(~((d+-4-vn|0)>>>2)<<2)),Ae(vn),q=h,1):(q=h,1)}function tP(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0,Wt=0,cr=0,mr=0,Gr=0,dr=0,Er=0,nr=0,Mr=0,Nr=0,ar=0,gr=0,or=0,tr=0,jr=0,Xr=0,Qr=0,Hr=0,Ir=0,Ar=0,kr=0,Dr=0,ti=0,fi=0,Br=0,di=0,ri=0,Xi=0,nn=0,mn=0,R0=0,gn=0,Qn=0,Hn=0,xn=0,Ii=0,zi=0,Di=0,Qi=0,Bi=0,tn=0,Ui=0,sn=0,Wi=0,Mi=0,Vi=0,Si=0,Yi=0,cn=0,Un=0,h0=0,D0=0,o0=0,Ts=0,J0=0,as=0,_0=0,Bn=0,H0=0,In=0,vn=0,X0=0,Ln=0,Do=0;h=q,q=q+256|0,l=h+104|0,u=h+240|0,g=h+224|0,d=h+160|0,m=h+140|0,b=h+248|0,w=h+72|0,x=h+40|0,C=h+128|0,S=h,D=h+232|0,I=h+220|0,L=h+216|0,P=h+212|0,N=h+208|0,X=h+152|0,j=e[i+28>>2]|0,Q=e[i+32>>2]|0,V=d,G=V+48|0;do e[V>>2]=0,V=V+4|0;while((V|0)<(G|0));f?(K0(d,f),ee=e[d+12>>2]|0,J=e[d+16>>2]|0):(ee=0,J=0),V=d+16|0,G=J-ee>>2,O=ee,ee=J,G>>>0>=f>>>0?G>>>0>f>>>0&&(J=O+(f<<2)|0,(J|0)!=(ee|0))&&(e[V>>2]=ee+(~((ee+-4-J|0)>>>2)<<2)):K0(d+12|0,f-G|0),G=d+24|0,J=d+28|0,ee=e[J>>2]|0,V=e[G>>2]|0,O=ee-V>>2,$=V,V=ee,O>>>0>=f>>>0?O>>>0>f>>>0&&(ee=$+(f<<2)|0,(ee|0)!=(V|0))&&(e[J>>2]=V+(~((V+-4-ee|0)>>>2)<<2)):K0(G,f-O|0),O=d+36|0,G=d+40|0,ee=e[G>>2]|0,V=e[O>>2]|0,J=ee-V>>2,$=V,V=ee,J>>>0>=f>>>0?J>>>0>f>>>0&&(ee=$+(f<<2)|0,(ee|0)!=(V|0))&&(e[G>>2]=V+(~((V+-4-ee|0)>>>2)<<2)):K0(O,f-J|0),e[m>>2]=0,J=m+4|0,e[J>>2]=0,e[m+8>>2]=0,O=(f|0)==0;do if(!O)if(f>>>0>1073741823)qe();else{ee=f<<2,V=It(ee)|0,e[m>>2]=V,G=V+(f<<2)|0,e[m+8>>2]=G,Tr(V|0,0,ee|0)|0,e[J>>2]=G;break}while(0);G=i+136|0,ee=i+140|0,V=e[ee>>2]|0,$=e[G>>2]|0,ie=V-$>>2,se=$,$=V,ie>>>0>=f>>>0?ie>>>0>f>>>0&&(V=se+(f<<2)|0,(V|0)!=($|0))&&(e[ee>>2]=$+(~(($+-4-V|0)>>>2)<<2)):K0(G,f-ie|0),e[w>>2]=0,e[w+4>>2]=0,e[w+8>>2]=0,e[w+12>>2]=0,e[w+16>>2]=0,e[w+20>>2]=0,e[w+24>>2]=0,e[w+28>>2]=0,e[x>>2]=0,e[x+4>>2]=0,e[x+8>>2]=0,e[x+12>>2]=0,e[x+16>>2]=0,e[x+20>>2]=0,e[x+24>>2]=0,e[x+28>>2]=0,e[C>>2]=0,ie=C+4|0,e[ie>>2]=0,e[C+8>>2]=0,O?(ue=0,Ee=0,Pe=0,ge=0):(O=f<<2,V=It(O)|0,e[C>>2]=V,$=V+(f<<2)|0,e[C+8>>2]=$,Tr(V|0,0,O|0)|0,e[ie>>2]=$,ue=V,Ee=$,Pe=$,ge=V),V=i+36|0,$=e[V>>2]|0,O=e[$+4>>2]|0,ee=e[$>>2]|0,se=O-ee|0;e:do if((se|0)>4){Be=se>>>2,_e=j+12|0,Ce=(f|0)>0,We=S+4|0,lt=S+8|0,et=S+12|0,Ve=i+136|0,He=i+96|0,st=S+16|0,Je=S+28|0,it=i+8|0,ze=u+4|0,Ge=g+4|0,ke=l+4|0,ut=S+28|0,tt=S+16|0,at=S+20|0,Mt=S+32|0,Pt=b+1|0,yt=f<<2,Vt=(f|0)==1,Lt=Be+-1|0,O-ee>>2>>>0>Lt>>>0?(At=Be,_t=Lt,St=ue,fr=ge,Wt=Pe,cr=ue,mr=Ee,Gr=ee):qe();t:for(;;){Lt=e[Gr+(_t<<2)>>2]|0,Be=(((Lt>>>0)%3|0|0)==0?2:-1)+Lt|0,dr=(Lt|0)==-1|(Be|0)==-1,Er=1,nr=0,Mr=Lt;r:for(;;){for(Nr=Er^1,ar=nr,gr=Mr;;){if((gr|0)==-1){or=ar;break r}if(tr=e[d+(ar*12|0)>>2]|0,jr=e[_e>>2]|0,Xr=e[jr+(gr<<2)>>2]|0,(Xr|0)!=-1)if(Qr=e[j>>2]|0,Hr=e[Q>>2]|0,Ir=e[Hr+(e[Qr+(Xr<<2)>>2]<<2)>>2]|0,Ar=Xr+1|0,kr=((Ar>>>0)%3|0|0)==0?Xr+-2|0:Ar,(kr|0)==-1?Dr=-1:Dr=e[Qr+(kr<<2)>>2]|0,kr=e[Hr+(Dr<<2)>>2]|0,Ar=(((Xr>>>0)%3|0|0)==0?2:-1)+Xr|0,(Ar|0)==-1?ti=-1:ti=e[Qr+(Ar<<2)>>2]|0,Ar=e[Hr+(ti<<2)>>2]|0,(Ir|0)<(_t|0)&(kr|0)<(_t|0)&(Ar|0)<(_t|0)){if(Hr=_r(Ir,f)|0,Ir=_r(kr,f)|0,kr=_r(Ar,f)|0,Ce){Ar=0;do e[tr+(Ar<<2)>>2]=(e[s+(Ar+kr<<2)>>2]|0)+(e[s+(Ar+Ir<<2)>>2]|0)-(e[s+(Ar+Hr<<2)>>2]|0),Ar=Ar+1|0;while((Ar|0)!=(f|0))}if(Ar=ar+1|0,(Ar|0)==4){or=4;break r}else fi=Ar}else fi=ar;else fi=ar;do if(Er)Ar=gr+1|0,Hr=((Ar>>>0)%3|0|0)==0?gr+-2|0:Ar,(Hr|0)!=-1&&(Ar=e[jr+(Hr<<2)>>2]|0,Hr=Ar+1|0,(Ar|0)!=-1)?Br=((Hr>>>0)%3|0|0)==0?Ar+-2|0:Hr:Br=-1;else if(Hr=(((gr>>>0)%3|0|0)==0?2:-1)+gr|0,(Hr|0)!=-1&&(Ar=e[jr+(Hr<<2)>>2]|0,(Ar|0)!=-1))if((Ar>>>0)%3|0){Br=Ar+-1|0;break}else{Br=Ar+2|0;break}else Br=-1;while(0);if((Br|0)==(Lt|0)){or=fi;break r}if((Br|0)!=-1|Nr)ar=fi,gr=Br;else break}if(dr){Er=0,nr=fi,Mr=-1;continue}if(gr=e[jr+(Be<<2)>>2]|0,(gr|0)==-1){Er=0,nr=fi,Mr=-1;continue}if((gr>>>0)%3|0){Er=0,nr=fi,Mr=gr+-1|0;continue}else{Er=0,nr=fi,Mr=gr+2|0;continue}}if(Mr=_r(_t,f)|0,e[S>>2]=0,e[We>>2]=0,Y[lt>>0]=0,e[et>>2]=0,e[et+4>>2]=0,e[et+8>>2]=0,e[et+12>>2]=0,e[et+16>>2]=0,e[et+20>>2]=0,e[et+24>>2]=0,nr=s+((_r(At+-2|0,f)|0)<<2)|0,Er=s+(Mr<<2)|0,Be=e[Ve>>2]|0,Ce)for(dr=0,Lt=0;;)if(gr=(e[nr+(dr<<2)>>2]|0)-(e[Er+(dr<<2)>>2]|0)|0,ar=((gr|0)>-1?gr:0-gr|0)+Lt|0,e[St+(dr<<2)>>2]=gr,e[Be+(dr<<2)>>2]=gr<<1^gr>>31,dr=dr+1|0,(dr|0)==(f|0)){di=ar;break}else Lt=ar;else di=0;if(Jc(l,He,Be,f),Lt=Gc(l)|0,dr=Ze,ar=Qc(l)|0,gr=Qt(ar|0,Ze|0,Lt|0,dr|0)|0,dr=Ze,Lt=(or|0)>0,Lt?(ar=or+-1|0,Nr=x+(ar<<3)|0,Ar=Nr,Hr=Qt(e[Ar>>2]|0,e[Ar+4>>2]|0,or|0,((or|0)<0)<<31>>31|0)|0,Ar=Ze,Ir=Nr,e[Ir>>2]=Hr,e[Ir+4>>2]=Ar,ri=+yi(+(+Wc(Hr,e[w+(ar<<3)>>2]|0)*(+(Hr>>>0)+4294967296*+(Ar|0)))),Ar=Qt(gr|0,dr|0,~~ri>>>0|0,(+u0(ri)>=1?ri>0?~~+n0(+bn(ri/4294967296),4294967295)>>>0:~~+yi((ri-+(~~ri>>>0))/4294967296)>>>0:0)|0)|0,Xi=Ar):Xi=gr,gr=S,e[gr>>2]=Xi,e[gr+4>>2]=di,Y[lt>>0]=0,e[et>>2]=0,Uu(st,nr,nr+(f<<2)|0),e[D>>2]=fr,e[I>>2]=Wt,e[u>>2]=e[D>>2],e[l>>2]=e[I>>2],Aa(Je,u,l),(or|0)<1)nn=mr,mn=cr,R0=Wt,gn=fr,Qn=fr;else for(gr=b+or|0,Ar=e[C>>2]|0,dr=or+-1|0,Hr=w+(dr<<3)|0,ar=x+(dr<<3)|0,dr=Ar,Ir=e[ie>>2]|0,Nr=gr+-1|0,kr=(Nr|0)==(b|0),tr=gr+-2|0,Qr=Pt>>>0<tr>>>0,Xr=~or,Hn=or+2+((Xr|0)>-2?Xr:-2)|0,Xr=Ir,xn=Nr>>>0>b>>>0,Ii=0,zi=1;;){Ii=Ii+1|0,Tr(b|0,1,Hn|0)|0,Tr(b|0,0,Ii|0)|0;r:for(;;){if(Ce)for(Tr(e[m>>2]|0,0,yt|0)|0,Di=e[m>>2]|0,Qi=0,Bi=0;;){if(Y[b+Qi>>0]|0)Wi=Bi;else{tn=e[d+(Qi*12|0)>>2]|0,Ui=0;do sn=Di+(Ui<<2)|0,e[sn>>2]=(e[sn>>2]|0)+(e[tn+(Ui<<2)>>2]|0),Ui=Ui+1|0;while((Ui|0)!=(f|0));Wi=(1<<Qi|Bi&255)&255}if(Qi=Qi+1|0,(Qi|0)==(or|0)){Mi=Wi;break}else Bi=Wi}else for(Bi=0,Qi=0;;)if(Y[b+Bi>>0]|0?Vi=Qi:Vi=(1<<Bi|Qi&255)&255,Bi=Bi+1|0,(Bi|0)==(or|0)){Mi=Vi;break}else Qi=Vi;Qi=e[m>>2]|0;do if(Ce){if(e[Qi>>2]=(e[Qi>>2]|0)/(zi|0)|0,Vt)Si=e[Ve>>2]|0;else{Bi=1;do Di=Qi+(Bi<<2)|0,e[Di>>2]=(e[Di>>2]|0)/(zi|0)|0,Bi=Bi+1|0;while((Bi|0)!=(f|0));if(Bi=e[Ve>>2]|0,Ce)Si=Bi;else{Yi=0,cn=Bi;break}}for(Bi=0,Di=0;;)if(Ui=(e[Qi+(Bi<<2)>>2]|0)-(e[Er+(Bi<<2)>>2]|0)|0,tn=((Ui|0)>-1?Ui:0-Ui|0)+Di|0,e[Ar+(Bi<<2)>>2]=Ui,e[Si+(Bi<<2)>>2]=Ui<<1^Ui>>31,Bi=Bi+1|0,(Bi|0)==(f|0)){Yi=tn,cn=Si;break}else Di=tn}else Yi=0,cn=e[Ve>>2]|0;while(0);if(Jc(l,He,cn,f),Qi=Gc(l)|0,Di=Ze,Bi=Qc(l)|0,tn=Qt(Bi|0,Ze|0,Qi|0,Di|0)|0,Di=Ze,Lt?(Qi=Hr,Bi=Qt(e[Qi>>2]|0,e[Qi+4>>2]|0,zi|0,0)|0,Qi=ar,Ui=e[Qi>>2]|0,sn=e[Qi+4>>2]|0,ri=+yi(+(+Wc(Ui,Bi)*(+(Ui>>>0)+4294967296*+(sn|0)))),sn=Qt(tn|0,Di|0,~~ri>>>0|0,(+u0(ri)>=1?ri>0?~~+n0(+bn(ri/4294967296),4294967295)>>>0:~~+yi((ri-+(~~ri>>>0))/4294967296)>>>0:0)|0)|0,Un=sn):Un=tn,tn=e[S>>2]|0,(Un|0)>=(tn|0)&&!((Un|0)<=(tn|0)&&(Yi|0)<(e[We>>2]|0))||(tn=S,e[tn>>2]=Un,e[tn+4>>2]=Yi,Y[lt>>0]=Mi,e[et>>2]=zi,e[L>>2]=e[m>>2],e[P>>2]=e[J>>2],e[u>>2]=e[L>>2],e[l>>2]=e[P>>2],Aa(st,u,l),e[N>>2]=dr,e[X>>2]=Ir,e[u>>2]=e[N>>2],e[l>>2]=e[X>>2],Aa(Je,u,l)),kr)break;for(h0=Y[Nr>>0]|0,tn=-1,sn=h0;Di=tn+-1|0,D0=gr+Di|0,Ui=sn,sn=Y[D0>>0]|0,!((sn&255)<(Ui&255));)if((D0|0)==(b|0)){o0=86;break r}else tn=Di;if(Di=gr+tn|0,(sn&255)<(h0&255))Ts=Nr,J0=h0;else for(Ui=gr,Bi=Nr;;)if(Qi=Bi+-1|0,(sn&255)<(br[Ui+-2>>0]|0)){Ts=Qi,J0=1;break}else as=Bi,Bi=Qi,Ui=as;if(Y[D0>>0]=J0,Y[Ts>>0]=sn,(tn|0)<-1)_0=Di,Bn=Nr;else continue;for(;;)if(Ui=Y[_0>>0]|0,Y[_0>>0]=Y[Bn>>0]|0,Y[Bn>>0]=Ui,Ui=_0+1|0,Bi=Bn+-1|0,Ui>>>0<Bi>>>0)_0=Ui,Bn=Bi;else continue r}if((o0|0)==86&&(o0=0,xn)&&(Di=Y[b>>0]|0,Y[b>>0]=h0,Y[Nr>>0]=Di,Qr)){Di=tr,tn=Pt;do sn=Y[tn>>0]|0,Y[tn>>0]=Y[Di>>0]|0,Y[Di>>0]=sn,tn=tn+1|0,Di=Di+-1|0;while(tn>>>0<Di>>>0)}if((zi|0)>=(or|0)){nn=Xr,mn=Ar,R0=Ir,gn=dr,Qn=Ar;break}else zi=zi+1|0}if(Lt&&(zi=e[et>>2]|0,Ar=w+(or+-1<<3)|0,dr=Ar,Ir=Qt(e[dr>>2]|0,e[dr+4>>2]|0,zi|0,((zi|0)<0)<<31>>31|0)|0,zi=Ar,e[zi>>2]=Ir,e[zi+4>>2]=Ze),Ce){zi=e[Je>>2]|0,Ir=e[G>>2]|0,Ar=0;do dr=e[zi+(Ar<<2)>>2]|0,e[Ir+(Ar<<2)>>2]=dr<<1^dr>>31,Ar=Ar+1|0;while((Ar|0)!=(f|0));H0=Ir}else H0=e[G>>2]|0;if(t4(l,He,H0,f),Lt){Ir=or+-1|0,In=i+40+(Ir*12|0)|0,Ar=i+40+(Ir*12|0)+4|0,zi=i+40+(Ir*12|0)+8|0,Ir=0;do{if(dr=e[Ar>>2]|0,Xr=e[zi>>2]|0,tr=(dr|0)==(Xr<<5|0),1<<Ir&br[lt>>0]){if(tr){if((dr+1|0)<0){o0=106;break t}tr=Xr<<6,Xr=dr+32&-32,ua(In,dr>>>0<1073741823?tr>>>0<Xr>>>0?Xr:tr:2147483647),X0=e[Ar>>2]|0}else X0=dr;e[Ar>>2]=X0+1,dr=(e[In>>2]|0)+(X0>>>5<<2)|0,e[dr>>2]=e[dr>>2]&~(1<<(X0&31))}else{if(tr){if((dr+1|0)<0){o0=101;break t}Qr=Xr<<6,Nr=dr+32&-32,ua(In,dr>>>0<1073741823?Qr>>>0<Nr>>>0?Nr:Qr:2147483647),vn=e[Ar>>2]|0}else vn=dr;e[Ar>>2]=vn+1,Qr=(e[In>>2]|0)+(vn>>>5<<2)|0,e[Qr>>2]=e[Qr>>2]|1<<(vn&31)}Ir=Ir+1|0}while((Ir|0)<(or|0))}if(Ir=e[st>>2]|0,Ar=o+(Mr<<2)|0,zi=e[Er+4>>2]|0,Lt=e[Ir>>2]|0,dr=e[Ir+4>>2]|0,e[u>>2]=e[Er>>2],e[ze>>2]=zi,e[g>>2]=Lt,e[Ge>>2]=dr,Is(l,it,u,g),e[Ar>>2]=e[l>>2],e[Ar+4>>2]=e[ke>>2],Ar=e[ut>>2]|0,Ar|0&&(dr=e[Mt>>2]|0,(dr|0)!=(Ar|0)&&(e[Mt>>2]=dr+(~((dr+-4-Ar|0)>>>2)<<2)),Ae(Ar)),Ar=e[tt>>2]|0,Ar|0&&(dr=e[at>>2]|0,(dr|0)!=(Ar|0)&&(e[at>>2]=dr+(~((dr+-4-Ar|0)>>>2)<<2)),Ae(Ar)),(At|0)<=2){Ln=mn,Do=nn;break e}if(Ar=e[V>>2]|0,Gr=e[Ar>>2]|0,dr=_t+-1|0,(e[Ar+4>>2]|0)-Gr>>2>>>0<=dr>>>0){o0=18;break}else Ar=_t,_t=dr,St=Qn,fr=gn,Wt=R0,cr=mn,mr=nn,At=Ar}((o0|0)==18||(o0|0)==101||(o0|0)==106)&&qe()}else Ln=ue,Do=Ee;while(0);return(f|0)>0&&Tr(e[d>>2]|0,0,f<<2|0)|0,f=e[d>>2]|0,Ee=e[s+4>>2]|0,ue=e[f>>2]|0,In=e[f+4>>2]|0,e[u>>2]=e[s>>2],e[u+4>>2]=Ee,e[g>>2]=ue,e[g+4>>2]=In,Is(l,i+8|0,u,g),e[o>>2]=e[l>>2],e[o+4>>2]=e[l+4>>2],Ln|0&&((Do|0)!=(Ln|0)&&(e[ie>>2]=Do+(~((Do+-4-Ln|0)>>>2)<<2)),Ae(Ln)),Ln=e[m>>2]|0,Ln|0&&(m=e[J>>2]|0,(m|0)!=(Ln|0)&&(e[J>>2]=m+(~((m+-4-Ln|0)>>>2)<<2)),Ae(Ln)),Ln=e[d+36>>2]|0,Ln|0&&(m=d+40|0,J=e[m>>2]|0,(J|0)!=(Ln|0)&&(e[m>>2]=J+(~((J+-4-Ln|0)>>>2)<<2)),Ae(Ln)),Ln=e[d+24>>2]|0,Ln|0&&(J=d+28|0,m=e[J>>2]|0,(m|0)!=(Ln|0)&&(e[J>>2]=m+(~((m+-4-Ln|0)>>>2)<<2)),Ae(Ln)),Ln=e[d+12>>2]|0,Ln|0&&(m=d+16|0,J=e[m>>2]|0,(J|0)!=(Ln|0)&&(e[m>>2]=J+(~((J+-4-Ln|0)>>>2)<<2)),Ae(Ln)),Ln=e[d>>2]|0,Ln?(J=d+4|0,d=e[J>>2]|0,(d|0)!=(Ln|0)&&(e[J>>2]=d+(~((d+-4-Ln|0)>>>2)<<2)),Ae(Ln),q=h,1):(q=h,1)}function rP(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0,Wt=0,cr=0,mr=0,Gr=0,dr=0,Er=0,nr=0,Mr=0,Nr=0,ar=0,gr=0,or=0,tr=0,jr=0,Xr=0,Qr=0,Hr=0,Ir=0,Ar=0,kr=0,Dr=0,ti=0,fi=0,Br=0,di=0,ri=0,Xi=0,nn=0,mn=0,R0=0,gn=0,Qn=0,Hn=0,xn=0,Ii=0,zi=0,Di=0,Qi=0,Bi=0,tn=0,Ui=0,sn=0,Wi=0,Mi=0,Vi=0,Si=0,Yi=0,cn=0,Un=0,h0=0,D0=0,o0=0,Ts=0,J0=0,as=0,_0=0,Bn=0,H0=0,In=0,vn=0,X0=0,Ln=0,Do=0,vo=0,ul=0,wo=0,cl=0,ka=0,hf=0,qn=0,hl=0,Yn=0,Va=0,Ol=0,Xc=0,qc=0,z3=0,u4=0,W3=0,c4=0,Q3=0,h4=0,J3=0,d4=0,X3=0,p4=0,q3=0,m4=0,Z3=0,g4=0,Y3=0,b4=0,K3=0,$3=0,y4=0,ex=0,tx=0,Gu=0;o=q,q=q+32|0,l=o+16|0,f=o+4|0,h=o,e[i+36>>2]=s,u=i+24|0,g=i+28|0,d=e[g>>2]|0,m=e[u>>2]|0,b=d-m>>2,w=m,m=d,b>>>0>=s>>>0?b>>>0>s>>>0&&(d=w+(s<<2)|0,(d|0)!=(m|0))&&(e[g>>2]=m+(~((m+-4-d|0)>>>2)<<2)):W0(u,s-b|0,5828),e[l>>2]=0,b=l+4|0,e[b>>2]=0,d=l+8|0,e[d>>2]=0,s?((s|0)<0&&qe(),m=((s+-1|0)>>>5)+1|0,w=It(m<<2)|0,e[l>>2]=w,e[d>>2]=m,e[b>>2]=s,m=s>>>5,Tr(w|0,0,m<<2|0)|0,x=s&31,C=w+(m<<2)|0,m=w,x?(e[C>>2]=e[C>>2]&~(-1>>>(32-x|0)),S=s,D=m,I=w):(S=s,D=m,I=w)):(S=0,D=0,I=0),w=i+4|0,m=e[i>>2]|0,x=(e[w>>2]|0)-m|0,C=x>>2,e[f>>2]=0,L=f+4|0,e[L>>2]=0,P=f+8|0,e[P>>2]=0;do if(C)if((x|0)<0&&qe(),N=((C+-1|0)>>>5)+1|0,X=It(N<<2)|0,e[f>>2]=X,e[P>>2]=N,e[L>>2]=C,N=C>>>5,Tr(X|0,0,N<<2|0)|0,j=C&31,Q=X+(N<<2)|0,j|0&&(e[Q>>2]=e[Q>>2]&~(-1>>>(32-j|0))),C>>>0>2){j=i+12|0,Q=i+32|0,N=i+52|0,X=i+56|0,V=i+48|0,G=s,ee=m,J=0,O=D,$=I;e:for(;;){if(ie=ee,se=J*3|0,(se|0)!=-1)if(ue=e[ie+(se<<2)>>2]|0,Ee=se+1|0,Pe=((Ee>>>0)%3|0|0)==0?se+-2|0:Ee,(Pe|0)==-1?ge=-1:ge=e[ie+(Pe<<2)>>2]|0,Pe=(((se>>>0)%3|0|0)==0?2:-1)+se|0,(Pe|0)==-1?Be=-1:Be=e[ie+(Pe<<2)>>2]|0,(ue|0)!=(ge|0)&&!((ue|0)==(Be|0)|(ge|0)==(Be|0)))for(ue=0,Pe=G,ie=$,Ee=O;;){if(_e=ue+se|0,e[(e[f>>2]|0)+(_e>>>5<<2)>>2]&1<<(_e&31))at=Pe,Mt=Ee,Pt=ie;else{if(Ce=e[(e[i>>2]|0)+(_e<<2)>>2]|0,e[h>>2]=Ce,!(e[ie+(Ce>>>5<<2)>>2]&1<<(Ce&31)))We=0,lt=Pe,et=Ce;else{if(Ce=e[g>>2]|0,(Ce|0)==(e[Q>>2]|0)?pi(u,5828):(e[Ce>>2]=-1,e[g>>2]=Ce+4),Ce=e[N>>2]|0,(Ce|0)==(e[X>>2]|0)?pi(V,h):(e[Ce>>2]=e[h>>2],e[N>>2]=Ce+4),Ce=e[b>>2]|0,Ve=e[d>>2]|0,(Ce|0)==(Ve<<5|0)){if((Ce+1|0)<0){He=50;break e}st=Ve<<6,Ve=Ce+32&-32,ua(l,Ce>>>0<1073741823?st>>>0<Ve>>>0?Ve:st:2147483647),Je=e[b>>2]|0}else Je=Ce;e[b>>2]=Je+1,Ce=(e[l>>2]|0)+(Je>>>5<<2)|0,e[Ce>>2]=e[Ce>>2]&~(1<<(Je&31)),e[h>>2]=Pe,We=1,lt=Pe+1|0,et=Pe}Ce=e[l>>2]|0,st=Ce+(et>>>5<<2)|0,e[st>>2]=e[st>>2]|1<<(et&31),st=Ce;t:do if(We)for(Ve=_e;;){if((Ve|0)==-1){He=64;break t}it=(e[f>>2]|0)+(Ve>>>5<<2)|0,e[it>>2]=e[it>>2]|1<<(Ve&31),it=e[h>>2]|0,e[(e[u>>2]|0)+(it<<2)>>2]=Ve,e[(e[i>>2]|0)+(Ve<<2)>>2]=it,it=Ve+1|0,ze=((it>>>0)%3|0|0)==0?Ve+-2|0:it;do if((ze|0)==-1)Ge=-1;else{if(it=e[(e[j>>2]|0)+(ze<<2)>>2]|0,ke=it+1|0,(it|0)==-1){Ge=-1;break}Ge=((ke>>>0)%3|0|0)==0?it+-2|0:ke}while(0);if((Ge|0)==(_e|0))break;Ve=Ge}else for(Ve=_e;;){if((Ve|0)==-1){He=64;break t}ze=(e[f>>2]|0)+(Ve>>>5<<2)|0,e[ze>>2]=e[ze>>2]|1<<(Ve&31),e[(e[u>>2]|0)+(e[h>>2]<<2)>>2]=Ve,ze=Ve+1|0,ke=((ze>>>0)%3|0|0)==0?Ve+-2|0:ze;do if((ke|0)==-1)ut=-1;else{if(ze=e[(e[j>>2]|0)+(ke<<2)>>2]|0,it=ze+1|0,(ze|0)==-1){ut=-1;break}ut=((it>>>0)%3|0|0)==0?ze+-2|0:it}while(0);if((ut|0)==(_e|0))break;Ve=ut}while(0);t:do if((He|0)==64){if(He=0,(_e|0)==-1||(Ve=(((_e>>>0)%3|0|0)==0?2:-1)+_e|0,(Ve|0)==-1)||(ke=e[(e[j>>2]|0)+(Ve<<2)>>2]|0,(ke|0)==-1)||(Ve=ke+(((ke>>>0)%3|0|0)==0?2:-1)|0,(Ve|0)==-1))break;if(!We){for(ke=Ve;;)if(it=(e[f>>2]|0)+(ke>>>5<<2)|0,e[it>>2]=e[it>>2]|1<<(ke&31),it=(((ke>>>0)%3|0|0)==0?2:-1)+ke|0,(it|0)==-1||(ze=e[(e[j>>2]|0)+(it<<2)>>2]|0,(ze|0)==-1)||(ke=ze+(((ze>>>0)%3|0|0)==0?2:-1)|0,(ke|0)==-1))break t}ke=e[i>>2]|0,ze=Ve;do{if(it=(e[f>>2]|0)+(ze>>>5<<2)|0,e[it>>2]=e[it>>2]|1<<(ze&31),e[ke+(ze<<2)>>2]=e[h>>2],it=(((ze>>>0)%3|0|0)==0?2:-1)+ze|0,(it|0)==-1||(tt=e[(e[j>>2]|0)+(it<<2)>>2]|0,(tt|0)==-1))break t;ze=tt+(((tt>>>0)%3|0|0)==0?2:-1)|0}while((ze|0)!=-1)}while(0);at=lt,Mt=st,Pt=Ce}if((ue|0)<2)ue=ue+1|0,Pe=at,ie=Pt,Ee=Mt;else{yt=at,Vt=Mt,Lt=Pt;break}}else yt=G,Vt=O,Lt=$;else yt=G,Vt=O,Lt=$;if(J=J+1|0,ee=e[i>>2]|0,J>>>0>=(((e[w>>2]|0)-ee>>2>>>0)/3|0)>>>0){He=18;break}else G=yt,O=Vt,$=Lt}if((He|0)==18){At=Vt,_t=e[b>>2]|0;break}else(He|0)==50&&qe()}else At=D,_t=S;else At=D,_t=S;while(0);S=i+44|0,e[S>>2]=0,i=At,At=_t>>>5,D=i+(At<<2)|0,He=_t&31,_t=(At|0)!=0;e:do if(At|He|0)if(He){if(_t)for(Lt=0,Vt=i,b=0;;)if(e[Vt>>2]&1?(Qn=b,Hn=Lt):(w=b+1|0,e[S>>2]=w,Qn=w,Hn=w),e[Vt>>2]&2?(xn=Qn,Ii=Hn):(w=Qn+1|0,e[S>>2]=w,xn=w,Ii=w),e[Vt>>2]&4?(zi=xn,Di=Ii):(w=xn+1|0,e[S>>2]=w,zi=w,Di=w),e[Vt>>2]&8?(Qi=zi,Bi=Di):(w=zi+1|0,e[S>>2]=w,Qi=w,Bi=w),e[Vt>>2]&16?(tn=Qi,Ui=Bi):(w=Qi+1|0,e[S>>2]=w,tn=w,Ui=w),e[Vt>>2]&32?(sn=tn,Wi=Ui):(w=tn+1|0,e[S>>2]=w,sn=w,Wi=w),e[Vt>>2]&64?(Mi=sn,Vi=Wi):(w=sn+1|0,e[S>>2]=w,Mi=w,Vi=w),e[Vt>>2]&128?(Si=Mi,Yi=Vi):(w=Mi+1|0,e[S>>2]=w,Si=w,Yi=w),e[Vt>>2]&256?(cn=Si,Un=Yi):(w=Si+1|0,e[S>>2]=w,cn=w,Un=w),e[Vt>>2]&512?(h0=cn,D0=Un):(w=cn+1|0,e[S>>2]=w,h0=w,D0=w),e[Vt>>2]&1024?(o0=h0,Ts=D0):(w=h0+1|0,e[S>>2]=w,o0=w,Ts=w),e[Vt>>2]&2048?(J0=o0,as=Ts):(w=o0+1|0,e[S>>2]=w,J0=w,as=w),e[Vt>>2]&4096?(_0=J0,Bn=as):(w=J0+1|0,e[S>>2]=w,_0=w,Bn=w),e[Vt>>2]&8192?(H0=_0,In=Bn):(w=_0+1|0,e[S>>2]=w,H0=w,In=w),e[Vt>>2]&16384?(vn=H0,X0=In):(w=H0+1|0,e[S>>2]=w,vn=w,X0=w),e[Vt>>2]&32768?(Ln=vn,Do=X0):(w=vn+1|0,e[S>>2]=w,Ln=w,Do=w),e[Vt>>2]&65536?(vo=Ln,ul=Do):(w=Ln+1|0,e[S>>2]=w,vo=w,ul=w),e[Vt>>2]&131072?(wo=vo,cl=ul):(w=vo+1|0,e[S>>2]=w,wo=w,cl=w),e[Vt>>2]&262144?(ka=wo,hf=cl):(w=wo+1|0,e[S>>2]=w,ka=w,hf=w),e[Vt>>2]&524288?(qn=ka,hl=hf):(w=ka+1|0,e[S>>2]=w,qn=w,hl=w),e[Vt>>2]&1048576?(Yn=qn,Va=hl):(w=qn+1|0,e[S>>2]=w,Yn=w,Va=w),e[Vt>>2]&2097152?(Ol=Yn,Xc=Va):(w=Yn+1|0,e[S>>2]=w,Ol=w,Xc=w),e[Vt>>2]&4194304?(qc=Ol,z3=Xc):(w=Ol+1|0,e[S>>2]=w,qc=w,z3=w),e[Vt>>2]&8388608?(u4=qc,W3=z3):(w=qc+1|0,e[S>>2]=w,u4=w,W3=w),e[Vt>>2]&16777216?(c4=u4,Q3=W3):(w=u4+1|0,e[S>>2]=w,c4=w,Q3=w),e[Vt>>2]&33554432?(h4=c4,J3=Q3):(w=c4+1|0,e[S>>2]=w,h4=w,J3=w),e[Vt>>2]&67108864?(d4=h4,X3=J3):(w=h4+1|0,e[S>>2]=w,d4=w,X3=w),e[Vt>>2]&134217728?(p4=d4,q3=X3):(w=d4+1|0,e[S>>2]=w,p4=w,q3=w),e[Vt>>2]&268435456?(m4=p4,Z3=q3):(w=p4+1|0,e[S>>2]=w,m4=w,Z3=w),e[Vt>>2]&536870912?(g4=m4,Y3=Z3):(w=m4+1|0,e[S>>2]=w,g4=w,Y3=w),e[Vt>>2]&1073741824?(b4=g4,K3=Y3):(w=g4+1|0,e[S>>2]=w,b4=w,K3=w),(e[Vt>>2]|0)>-1?(w=b4+1|0,e[S>>2]=w,$3=w,y4=w):($3=b4,y4=K3),w=Vt+4|0,(D|0)==(w|0)){ex=w,tx=y4;break}else Lt=y4,Vt=w,b=$3;else ex=i,tx=0;for(b=0,Vt=tx;e[ex>>2]&1<<b?Gu=Vt:(Lt=Vt+1|0,e[S>>2]=Lt,Gu=Lt),b=b+1|0,(b|0)!=(He|0);)Vt=Gu}else for(b=i,Vt=0,Lt=_t;;){t:do if(Lt){if(e[b>>2]&1?St=Vt:(yt=Vt+1|0,e[S>>2]=yt,St=yt),e[b>>2]&2?fr=St:(yt=St+1|0,e[S>>2]=yt,fr=yt),e[b>>2]&4?Wt=fr:(yt=fr+1|0,e[S>>2]=yt,Wt=yt),e[b>>2]&8?cr=Wt:(yt=Wt+1|0,e[S>>2]=yt,cr=yt),e[b>>2]&16?mr=cr:(yt=cr+1|0,e[S>>2]=yt,mr=yt),e[b>>2]&32?Gr=mr:(yt=mr+1|0,e[S>>2]=yt,Gr=yt),e[b>>2]&64?dr=Gr:(yt=Gr+1|0,e[S>>2]=yt,dr=yt),e[b>>2]&128?Er=dr:(yt=dr+1|0,e[S>>2]=yt,Er=yt),e[b>>2]&256?nr=Er:(yt=Er+1|0,e[S>>2]=yt,nr=yt),e[b>>2]&512?Mr=nr:(yt=nr+1|0,e[S>>2]=yt,Mr=yt),e[b>>2]&1024?Nr=Mr:(yt=Mr+1|0,e[S>>2]=yt,Nr=yt),e[b>>2]&2048?ar=Nr:(yt=Nr+1|0,e[S>>2]=yt,ar=yt),e[b>>2]&4096?gr=ar:(yt=ar+1|0,e[S>>2]=yt,gr=yt),e[b>>2]&8192?or=gr:(yt=gr+1|0,e[S>>2]=yt,or=yt),e[b>>2]&16384?tr=or:(yt=or+1|0,e[S>>2]=yt,tr=yt),e[b>>2]&32768?jr=tr:(yt=tr+1|0,e[S>>2]=yt,jr=yt),e[b>>2]&65536?Xr=jr:(yt=jr+1|0,e[S>>2]=yt,Xr=yt),e[b>>2]&131072?Qr=Xr:(yt=Xr+1|0,e[S>>2]=yt,Qr=yt),e[b>>2]&262144?Hr=Qr:(yt=Qr+1|0,e[S>>2]=yt,Hr=yt),e[b>>2]&524288?Ir=Hr:(yt=Hr+1|0,e[S>>2]=yt,Ir=yt),e[b>>2]&1048576?Ar=Ir:(yt=Ir+1|0,e[S>>2]=yt,Ar=yt),e[b>>2]&2097152?kr=Ar:(yt=Ar+1|0,e[S>>2]=yt,kr=yt),e[b>>2]&4194304?Dr=kr:(yt=kr+1|0,e[S>>2]=yt,Dr=yt),e[b>>2]&8388608?ti=Dr:(yt=Dr+1|0,e[S>>2]=yt,ti=yt),e[b>>2]&16777216?fi=ti:(yt=ti+1|0,e[S>>2]=yt,fi=yt),e[b>>2]&33554432?Br=fi:(yt=fi+1|0,e[S>>2]=yt,Br=yt),e[b>>2]&67108864?di=Br:(yt=Br+1|0,e[S>>2]=yt,di=yt),e[b>>2]&134217728?ri=di:(yt=di+1|0,e[S>>2]=yt,ri=yt),e[b>>2]&268435456?Xi=ri:(yt=ri+1|0,e[S>>2]=yt,Xi=yt),e[b>>2]&536870912?nn=Xi:(yt=Xi+1|0,e[S>>2]=yt,nn=yt),e[b>>2]&1073741824?mn=nn:(yt=nn+1|0,e[S>>2]=yt,mn=yt),(e[b>>2]|0)<=-1){R0=mn;break}yt=mn+1|0,e[S>>2]=yt,R0=yt}else for(yt=0,w=Vt;;){if(e[b>>2]&1<<yt?gn=w:(Pt=w+1|0,e[S>>2]=Pt,gn=Pt),(yt|0)==31){R0=gn;break t}if(yt=yt+1|0,yt)w=gn;else break e}while(0);if(b=b+4|0,(D|0)==(b|0))break;Vt=R0,Lt=1}while(0);return Gu=e[f>>2]|0,Gu|0&&Ae(Gu),Gu=e[l>>2]|0,Gu?(Ae(Gu),q=o,1):(q=o,1)}function iP(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0,Wt=0,cr=0,mr=0,Gr=0,dr=0,Er=0,nr=0,Mr=0,Nr=0,ar=0,gr=0,or=0,tr=0,jr=0,Xr=0,Qr=0,Hr=0,Ir=0,Ar=0,kr=0,Dr=0,ti=0,fi=0,Br=0,di=vi,ri=0,Xi=0,nn=0,mn=0,R0=vi,gn=0,Qn=0,Hn=0,xn=0,Ii=0;if(s=q,q=q+80|0,o=s+60|0,l=s+48|0,f=s+24|0,h=s+12|0,u=s,g=i+28|0,d=e[g>>2]|0,m=e[d+4>>2]|0,b=e[m+80>>2]|0,w=i+4|0,x=i+8|0,C=e[x>>2]|0,S=e[w>>2]|0,D=(C|0)==(S|0),I=S,D)return e[i+72>>2]=0,L=1,q=s,L|0;P=e[m+8>>2]|0,N=C-S>>2,S=0,C=0;do S=S+(Y[(e[P+(e[I+(C<<2)>>2]<<2)>>2]|0)+24>>0]|0)|0,C=C+1|0;while(C>>>0<N>>>0);if(e[i+72>>2]=S,D)return L=1,q=s,L|0;D=f+4|0,S=f+8|0,N=o+8|0,C=o+4|0,P=o+11|0,X=f+12|0,j=o+8|0,Q=o+4|0,V=o+11|0,G=h+4|0,ee=h+8|0,J=u+8|0,O=u+4|0,$=o+11|0,ie=o+4|0,se=u+11|0,ue=o+8|0,Ee=o+4|0,Pe=o+11|0,ge=o+11|0,Be=o+4|0,_e=h+8|0,Ce=i+40|0,We=i+44|0,lt=i+36|0,et=i+64|0,Ve=i+68|0,He=i+60|0,st=f+8|0,Je=f+20|0,it=l+8|0,ze=l+4|0,Ge=l+11|0,ke=f+4|0,ut=f+8|0,tt=h+4|0,at=h+8|0,Mt=h+8|0,Pt=i+52|0,yt=i+56|0,Vt=i+48|0,i=f+8|0,Lt=0,At=I,I=m,m=d;e:for(;;){switch(d=e[At+(Lt<<2)>>2]|0,_t=e[(e[I+8>>2]|0)+(d<<2)>>2]|0,e[_t+28>>2]|0){case 9:{e[f>>2]=1180,e[D>>2]=-1,e[S>>2]=0,e[S+4>>2]=0,e[S+8>>2]=0,e[S+12>>2]=0,St=e[m+48>>2]|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,fr=It(32)|0,e[o>>2]=fr,e[N>>2]=-2147483616,e[C>>2]=17,Wt=fr,cr=12932,mr=Wt+17|0;do Y[Wt>>0]=Y[cr>>0]|0,Wt=Wt+1|0,cr=cr+1|0;while((Wt|0)<(mr|0));if(Y[fr+17>>0]=0,Gr=St+16|0,dr=e[Gr>>2]|0,dr){Er=Gr,nr=dr;t:for(;;){for(dr=nr;!((e[dr+16>>2]|0)>=(d|0));)if(Mr=e[dr+4>>2]|0,Mr)dr=Mr;else{Nr=Er;break t}if(nr=e[dr>>2]|0,nr)Er=dr;else{Nr=dr;break}}(Nr|0)!=(Gr|0)&&(d|0)>=(e[Nr+16>>2]|0)&&(Er=Nr+20|0,(go(Er,o)|0)!=0)?ar=bo(Er,o,-1)|0:gr=17}else gr=17;if((gr|0)==17&&(gr=0,ar=bo(St,o,-1)|0),(Y[P>>0]|0)<0&&Ae(e[o>>2]|0),(ar|0)<1)or=1;else{Er=e[(e[g>>2]|0)+48>>2]|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,nr=It(32)|0,e[o>>2]=nr,e[j>>2]=-2147483616,e[Q>>2]=19,Wt=nr,cr=13005,mr=Wt+19|0;do Y[Wt>>0]=Y[cr>>0]|0,Wt=Wt+1|0,cr=cr+1|0;while((Wt|0)<(mr|0));if(Y[nr+19>>0]=0,St=Er+16|0,Gr=e[St>>2]|0,Gr){fr=St,Mr=Gr;t:for(;;){for(Gr=Mr;!((e[Gr+16>>2]|0)>=(d|0));)if(tr=e[Gr+4>>2]|0,tr)Gr=tr;else{jr=fr;break t}if(Mr=e[Gr>>2]|0,Mr)fr=Gr;else{jr=Gr;break}}(jr|0)!=(St|0)&&(d|0)>=(e[jr+16>>2]|0)?Xr=jr+20|0:gr=29}else gr=29;if((gr|0)==29&&(gr=0,Xr=Er),!(go(Xr,o)|0))Qr=0;else{fr=e[(e[g>>2]|0)+48>>2]|0,e[l>>2]=0,e[l+4>>2]=0,e[l+8>>2]=0,Mr=It(32)|0,e[l>>2]=Mr,e[it>>2]=-2147483616,e[ze>>2]=18,Wt=Mr,cr=13025,mr=Wt+18|0;do Y[Wt>>0]=Y[cr>>0]|0,Wt=Wt+1|0,cr=cr+1|0;while((Wt|0)<(mr|0));if(Y[Mr+18>>0]=0,Er=fr+16|0,St=e[Er>>2]|0,St){nr=Er,dr=St;t:for(;;){for(St=dr;!((e[St+16>>2]|0)>=(d|0));)if(tr=e[St+4>>2]|0,tr)St=tr;else{Hr=nr;break t}if(dr=e[St>>2]|0,dr)nr=St;else{Hr=St;break}}(Hr|0)!=(Er|0)&&(d|0)>=(e[Hr+16>>2]|0)?Ir=Hr+20|0:gr=39}else gr=39;(gr|0)==39&&(gr=0,Ir=fr),nr=(go(Ir,l)|0)!=0,(Y[Ge>>0]|0)<0&&Ae(e[l>>2]|0),Qr=nr}if((Y[V>>0]|0)<0&&Ae(e[o>>2]|0),Qr){if(nr=_t+24|0,dr=Y[nr>>0]|0,Mr=dr<<24>>24,e[h>>2]=0,e[G>>2]=0,e[ee>>2]=0,!(dr<<24>>24))Ar=0;else{if(dr<<24>>24<0){gr=48;break e}dr=Mr<<2,Gr=It(dr)|0,e[h>>2]=Gr,tr=Gr+(Mr<<2)|0,e[_e>>2]=tr,Tr(Gr|0,0,dr|0)|0,e[G>>2]=tr,Ar=Gr}Gr=e[(e[g>>2]|0)+48>>2]|0,e[u>>2]=0,e[u+4>>2]=0,e[u+8>>2]=0,tr=It(32)|0,e[u>>2]=tr,e[J>>2]=-2147483616,e[O>>2]=19,Wt=tr,cr=13005,mr=Wt+19|0;do Y[Wt>>0]=Y[cr>>0]|0,Wt=Wt+1|0,cr=cr+1|0;while((Wt|0)<(mr|0));if(Y[tr+19>>0]=0,fr=Y[nr>>0]|0,Er=fr<<24>>24,dr=Gr+16|0,Mr=e[dr>>2]|0,Mr){kr=dr,Dr=Mr;t:for(;;){for(Mr=Dr;!((e[Mr+16>>2]|0)>=(d|0));)if(ti=e[Mr+4>>2]|0,ti)Mr=ti;else{fi=kr;break t}if(Dr=e[Mr>>2]|0,Dr)kr=Mr;else{fi=Mr;break}}if((fi|0)!=(dr|0)&&(d|0)>=(e[fi+16>>2]|0)&&(kr=fi+20|0,(go(kr,u)|0)!=0)){if(Dr=Y0(kr,u)|0,(Dr|0)!=(fi+24|0)){if(T0(o,Dr+28|0),Dr=Y[ge>>0]|0,kr=Dr<<24>>24<0,!((kr?e[Be>>2]|0:Dr&255)|0))Br=Dr;else{if(fr<<24>>24>0){tr=kr?e[o>>2]|0:o,kr=0;do{if(di=Zt(s4(tr,l)),St=tr,tr=e[l>>2]|0,(St|0)==(tr|0))break;bi[Ar+(kr<<2)>>2]=di,kr=kr+1|0}while((kr|0)<(Er|0));ri=Y[ge>>0]|0}else ri=Dr;Br=ri}Br<<24>>24<0&&Ae(e[o>>2]|0)}}else gr=69}else gr=69;if((gr|0)==69&&(gr=0,kr=Y0(Gr,u)|0,(kr|0)!=(Gr+4|0))){if(T0(o,kr+28|0),kr=Y[$>>0]|0,tr=kr<<24>>24<0,!((tr?e[ie>>2]|0:kr&255)|0))Xi=kr;else{if(fr<<24>>24>0){dr=tr?e[o>>2]|0:o,tr=0;do{if(di=Zt(s4(dr,l)),St=dr,dr=e[l>>2]|0,(St|0)==(dr|0))break;bi[Ar+(tr<<2)>>2]=di,tr=tr+1|0}while((tr|0)<(Er|0));nn=Y[$>>0]|0}else nn=kr;Xi=nn}Xi<<24>>24<0&&Ae(e[o>>2]|0)}(Y[se>>0]|0)<0&&Ae(e[u>>2]|0),Er=e[(e[g>>2]|0)+48>>2]|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,tr=It(32)|0,e[o>>2]=tr,e[ue>>2]=-2147483616,e[Ee>>2]=18,Wt=tr,cr=13025,mr=Wt+18|0;do Y[Wt>>0]=Y[cr>>0]|0,Wt=Wt+1|0,cr=cr+1|0;while((Wt|0)<(mr|0));Y[tr+18>>0]=0,cr=Er+16|0,Wt=e[cr>>2]|0;do if(Wt){mr=cr,kr=Wt;t:for(;;){for(dr=kr;!((e[dr+16>>2]|0)>=(d|0));)if(fr=e[dr+4>>2]|0,fr)dr=fr;else{mn=mr;break t}if(kr=e[dr>>2]|0,kr)mr=dr;else{mn=dr;break}}if((mn|0)!=(cr|0)&&(d|0)>=(e[mn+16>>2]|0)){if(mr=mn+20|0,!(go(mr,o)|0)){gr=91;break}R0=Zt(Vy(mr,o,Zt(1)))}else gr=91}else gr=91;while(0);(gr|0)==91&&(gr=0,R0=Zt(Vy(Er,o,Zt(1)))),(Y[Pe>>0]|0)<0&&Ae(e[o>>2]|0),Nk(f,ar,e[h>>2]|0,Y[nr>>0]|0,R0),d=e[h>>2]|0,d|0&&(cr=e[G>>2]|0,(cr|0)!=(d|0)&&(e[G>>2]=cr+(~((cr+-4-d|0)>>>2)<<2)),Ae(d))}else Dc(f,_t,ar)|0;if(d=e[Ce>>2]|0,(d|0)==(e[We>>2]|0))Am(lt,f);else{if(e[d>>2]=1180,e[d+4>>2]=e[D>>2],gn=d+8|0,e[gn>>2]=0,cr=d+12|0,e[cr>>2]=0,e[d+16>>2]=0,Wt=(e[X>>2]|0)-(e[st>>2]|0)|0,tr=Wt>>2,tr|0){if(tr>>>0>1073741823){gr=103;break e}mr=It(Wt)|0,e[cr>>2]=mr,e[gn>>2]=mr,e[d+16>>2]=mr+(tr<<2),tr=e[st>>2]|0,Wt=(e[X>>2]|0)-tr|0,(Wt|0)>0&&(Fi(mr|0,tr|0,Wt|0)|0,e[cr>>2]=mr+(Wt>>>2<<2))}e[d+20>>2]=e[Je>>2],e[Ce>>2]=(e[Ce>>2]|0)+24}fd(o,f,_t,b),d=e[et>>2]|0,d>>>0<(e[Ve>>2]|0)>>>0?(Wt=e[o>>2]|0,e[o>>2]=0,e[d>>2]=Wt,e[et>>2]=d+4):R6(He,o),d=e[o>>2]|0,e[o>>2]=0,d|0&&(Wt=d+88|0,mr=e[Wt>>2]|0,e[Wt>>2]=0,mr|0&&(Wt=e[mr+8>>2]|0,Wt|0&&(cr=mr+12|0,(e[cr>>2]|0)!=(Wt|0)&&(e[cr>>2]=Wt),Ae(Wt)),Ae(mr)),mr=e[d+68>>2]|0,mr|0&&(Wt=d+72|0,cr=e[Wt>>2]|0,(cr|0)!=(mr|0)&&(e[Wt>>2]=cr+(~((cr+-4-mr|0)>>>2)<<2)),Ae(mr)),mr=d+64|0,cr=e[mr>>2]|0,e[mr>>2]=0,cr|0&&(mr=e[cr>>2]|0,mr|0&&(Wt=cr+4|0,(e[Wt>>2]|0)!=(mr|0)&&(e[Wt>>2]=mr),Ae(mr)),Ae(cr)),Ae(d)),or=0}if(e[f>>2]=1180,d=e[S>>2]|0,d|0&&(cr=e[X>>2]|0,(cr|0)!=(d|0)&&(e[X>>2]=cr+(~((cr+-4-d|0)>>>2)<<2)),Ae(d)),or|0){L=0,gr=169;break e}break}case 1:case 3:case 5:{if(d=_t+24|0,cr=Y[d>>0]|0,mr=cr<<24>>24,e[f>>2]=0,e[ke>>2]=0,e[ut>>2]=0,!(cr<<24>>24))Qn=0;else{if(cr<<24>>24<0){gr=137;break e}for(cr=It(mr<<2)|0,e[ke>>2]=cr,e[f>>2]=cr,Wt=cr+(mr<<2)|0,e[i>>2]=Wt,tr=mr,mr=cr;e[mr>>2]=2147483647,tr=tr+-1|0,tr;)mr=mr+4|0;e[ke>>2]=Wt,Qn=Y[d>>0]|0}if(mr=Qn<<24>>24,e[h>>2]=0,e[tt>>2]=0,e[at>>2]=0,!(Qn<<24>>24))Hn=0;else{if(Qn<<24>>24<0){gr=144;break e}tr=mr<<2,nr=It(tr)|0,e[h>>2]=nr,Er=nr+(mr<<2)|0,e[Mt>>2]=Er,Tr(nr|0,0,tr|0)|0,e[tt>>2]=Er,Hn=nr}nr=_t+80|0,Er=Y[d>>0]|0;t:do if(!(e[nr>>2]|0))xn=Er;else for(tr=0,mr=Er,cr=Hn;;){if(e[l>>2]=tr,e[o>>2]=e[l>>2],w3(_t,o,mr,cr)|0,kr=Y[d>>0]|0,kr<<24>>24>0){Mr=e[f>>2]|0,fr=e[h>>2]|0,Gr=kr<<24>>24,Dr=0;do St=Mr+(Dr<<2)|0,ti=e[fr+(Dr<<2)>>2]|0,(e[St>>2]|0)>(ti|0)&&(e[St>>2]=ti),Dr=Dr+1|0;while((Dr|0)<(Gr|0))}if(Gr=tr+1|0,Gr>>>0>=(e[nr>>2]|0)>>>0){xn=kr;break t}tr=Gr,mr=kr,cr=e[h>>2]|0}while(0);if(xn<<24>>24>0)for(nr=0,_t=xn;Er=(e[f>>2]|0)+(nr<<2)|0,Wt=e[Pt>>2]|0,(Wt|0)==(e[yt>>2]|0)?(pi(Vt,Er),Ii=Y[d>>0]|0):(e[Wt>>2]=e[Er>>2],e[Pt>>2]=Wt+4,Ii=_t),nr=nr+1|0,!((nr|0)>=(Ii<<24>>24|0));)_t=Ii;_t=e[h>>2]|0,_t|0&&(nr=e[tt>>2]|0,(nr|0)!=(_t|0)&&(e[tt>>2]=nr+(~((nr+-4-_t|0)>>>2)<<2)),Ae(_t)),_t=e[f>>2]|0,_t|0&&(nr=e[ke>>2]|0,(nr|0)!=(_t|0)&&(e[ke>>2]=nr+(~((nr+-4-_t|0)>>>2)<<2)),Ae(_t));break}}if(_t=Lt+1|0,nr=e[w>>2]|0,_t>>>0>=(e[x>>2]|0)-nr>>2>>>0){L=1,gr=169;break}d=e[g>>2]|0,Lt=_t,At=nr,I=e[d+4>>2]|0,m=d}if((gr|0)==48)qe();else if((gr|0)==103)qe();else if((gr|0)==137)qe();else if((gr|0)==144)qe();else if((gr|0)==169)return q=s,L|0;return 0}function nP(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0,Wt=0,cr=0,mr=0,Gr=0,dr=0,Er=0,nr=0,Mr=0,Nr=0,ar=0,gr=0,or=0,tr=0,jr=0,Xr=0,Qr=0,Hr=0,Ir=0,Ar=0,kr=0,Dr=0,ti=0,fi=0,Br=0,di=0,ri=0,Xi=0,nn=0,mn=0,R0=0,gn=0,Qn=0,Hn=0;l=q,q=q+32|0,f=l,h=i+8|0,u=e[h>>2]|0,e[f>>2]=0,g=f+4|0,e[g>>2]=0,e[f+8>>2]=0;do if(u)if(u>>>0>1073741823)qe();else{d=u<<2,m=It(d)|0,e[f>>2]=m,b=m+(u<<2)|0,e[f+8>>2]=b,Tr(m|0,0,d|0)|0,e[g>>2]=b,w=b,x=m;break}else w=0,x=0;while(0);m=i+128|0,b=e[m>>2]|0,d=e[b>>2]|0,C=b+4|0,d?(u=e[C>>2]|0,(u|0)!=(d|0)&&(e[C>>2]=u+(~((u+-4-d|0)>>>2)<<2)),Ae(d),d=b+8|0,e[d>>2]=0,e[C>>2]=0,e[b>>2]=0,S=d,D=e[f>>2]|0,I=e[g>>2]|0,L=e[h>>2]|0):(S=b+8|0,D=x,I=w,L=u),e[b>>2]=D,e[C>>2]=I,e[S>>2]=e[f+8>>2],e[f>>2]=0,S=f+4|0,e[S>>2]=0,e[f+8>>2]=0;do if(L)if(L>>>0>1073741823)qe();else{I=L<<2,C=It(I)|0,e[f>>2]=C,D=C+(L<<2)|0,e[f+8>>2]=D,Tr(C|0,0,I|0)|0,e[S>>2]=D,P=D,N=C;break}else P=0,N=0;while(0);if(L=i+140|0,C=e[L>>2]|0,D=e[C>>2]|0,I=C+4|0,D?(P=e[I>>2]|0,(P|0)!=(D|0)&&(e[I>>2]=P+(~((P+-4-D|0)>>>2)<<2)),Ae(D),D=C+8|0,e[D>>2]=0,e[I>>2]=0,e[C>>2]=0,X=D,j=e[f>>2]|0,Q=e[S>>2]|0):(X=C+8|0,j=N,Q=P),e[C>>2]=j,e[I>>2]=Q,e[X>>2]=e[f+8>>2],X=e[s>>2]|0,Q=s+4|0,I=e[Q>>2]|0,j=e[Q+4>>2]|0,Q=e[o>>2]|0,C=o+4|0,S=e[C>>2]|0,D=e[C+4>>2]|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[f+16>>2]=0,e[f+20>>2]=0,C=f+8|0,P=f+4|0,N=f+16|0,b=f+20|0,g=I,Cs(f),d=e[P>>2]|0,u=(e[b>>2]|0)+(e[N>>2]|0)|0,(e[C>>2]|0)==(d|0)?V=0:V=(e[d+(((u>>>0)/113|0)<<2)>>2]|0)+(((u>>>0)%113|0)*36|0)|0,e[V>>2]=X,u=V+4|0,e[u>>2]=I,e[u+4>>2]=j,e[V+12>>2]=Q,u=V+16|0,e[u>>2]=S,e[u+4>>2]=D,e[V+24>>2]=0,e[V+28>>2]=Q-X,e[V+32>>2]=0,V=(e[b>>2]|0)+1|0,e[b>>2]=V,V|0)for(X=i+116|0,Q=i+48|0,u=i+44|0,d=i+36|0,w=i+40|0,x=i+32|0,G=s+8|0,ee=o+8|0,J=i+28|0,O=i+24|0,$=i+16|0,ie=i+20|0,se=i+12|0,ue=i+88|0,Ee=i+84|0,Pe=i+76|0,ge=i+80|0,Be=i+72|0,_e=g+4|0,Ce=g+24|0,We=g+24|0,lt=S+24|0,et=V;;){V=e[N>>2]|0,Ve=et+-1|0,He=Ve+V|0,st=e[P>>2]|0,Je=e[st+(((He>>>0)/113|0)<<2)>>2]|0,it=(He>>>0)%113|0,He=e[Je+(it*36|0)>>2]|0,ze=e[Je+(it*36|0)+12>>2]|0,Ge=e[Je+(it*36|0)+24>>2]|0,ke=e[Je+(it*36|0)+32>>2]|0,e[b>>2]=Ve,Ve=e[C>>2]|0,it=Ve-st>>2,(1-et-V+((it|0)==0?0:(it*113|0)+-1|0)|0)>>>0>225&&(Ae(e[Ve+-4>>2]|0),e[C>>2]=(e[C>>2]|0)+-4),e[s>>2]=He,e[o>>2]=ze,Ve=e[m>>2]|0,it=((e[h>>2]|0)+-1|0)==(Ge|0)?0:Ge+1|0,Ge=(e[L>>2]|0)+(ke*12|0)|0,V=ze-He|0,st=(e[i>>2]|0)-(e[(e[Ge>>2]|0)+(it<<2)>>2]|0)|0;e:do if(st){if(V>>>0<3){if(Je=e[X>>2]|0,e[Je>>2]=it,ut=e[h>>2]|0,ut>>>0>1)for(tt=1,at=ut,Mt=it;;)if(Mt=(Mt|0)==(at+-1|0)?0:Mt+1|0,e[Je+(tt<<2)>>2]=Mt,tt=tt+1|0,Pt=e[h>>2]|0,tt>>>0>=Pt>>>0){yt=Pt;break}else at=Pt;else yt=ut;if(V)Lt=0,At=yt;else{Vt=99;break}for(;;){if(at=(e[Ce>>2]|0)+((_r(e[_e>>2]|0,He+Lt|0)|0)<<2)|0,!At)_t=0;else{tt=0;do{Mt=e[(e[X>>2]|0)+(tt<<2)>>2]|0,Je=(e[i>>2]|0)-(e[(e[Ge>>2]|0)+(Mt<<2)>>2]|0)|0;do if(Je|0){if(Pt=e[Q>>2]|0,St=32-Pt|0,fr=32-Je|0,Wt=e[at+(Mt<<2)>>2]<<fr,(Je|0)>(St|0)){cr=Wt>>>fr,fr=Je-St|0,e[Q>>2]=fr,St=e[u>>2]|cr>>>fr,e[u>>2]=St,fr=e[d>>2]|0,(fr|0)==(e[w>>2]|0)?pi(x,u):(e[fr>>2]=St,e[d>>2]=fr+4),e[u>>2]=cr<<32-(e[Q>>2]|0);break}if(cr=e[u>>2]|Wt>>>Pt,e[u>>2]=cr,Wt=Pt+Je|0,e[Q>>2]=Wt,(Wt|0)!=32)break;Wt=e[d>>2]|0,(Wt|0)==(e[w>>2]|0)?pi(x,u):(e[Wt>>2]=cr,e[d>>2]=Wt+4),e[u>>2]=0,e[Q>>2]=0}while(0);tt=tt+1|0,Je=e[h>>2]|0}while(tt>>>0<Je>>>0);_t=Je}if(Lt=Lt+1|0,Lt>>>0>=V>>>0){Vt=99;break e}else At=_t}}ut=ke+1|0,rs(Ve+(ut*12|0)|0,e[Ve+(ke*12|0)>>2]|0,e[Ve+(ke*12|0)+4>>2]|0),tt=(e[(e[m>>2]|0)+(ut*12|0)>>2]|0)+(it<<2)|0,at=(e[tt>>2]|0)+(1<<st+-1)|0,e[tt>>2]=at,tt=e[G>>2]|0,Je=e[ee>>2]|0;t:do if((ze|0)==(He|0))mr=He;else{if(Mt=e[We>>2]|0,tt)Er=ze,nr=He;else{if((e[Mt+(it<<2)>>2]|0)>>>0<at>>>0){mr=ze;break}else Gr=ze,dr=He;for(;;){Wt=Gr;do{if(Wt=Wt+-1|0,(dr|0)==(Wt|0)){mr=dr;break t}cr=(e[lt>>2]|0)+((_r(Wt,Je)|0)<<2)+(it<<2)|0}while((e[cr>>2]|0)>>>0>=at>>>0);if(dr=dr+1|0,(dr|0)==(Wt|0)){mr=Wt;break t}else Gr=Wt}}for(;;){for(cr=nr;;){if(Mr=Mt+((_r(cr,tt)|0)<<2)|0,(e[Mr+(it<<2)>>2]|0)>>>0>=at>>>0){Nr=Er;break}if(Pt=cr+1|0,(Pt|0)==(Er|0)){mr=Er;break t}else cr=Pt}for(;;){if(Nr=Nr+-1|0,(cr|0)==(Nr|0)){mr=cr;break t}if(ar=(e[lt>>2]|0)+((_r(Nr,Je)|0)<<2)|0,(e[ar+(it<<2)>>2]|0)>>>0<at>>>0){gr=0;break}}do Wt=Mr+(gr<<2)|0,Pt=ar+(gr<<2)|0,fr=e[Wt>>2]|0,e[Wt>>2]=e[Pt>>2],e[Pt>>2]=fr,gr=gr+1|0;while((gr|0)!=(tt|0));if(nr=cr+1|0,(nr|0)==(Nr|0)){mr=Nr;break}else Er=Nr}}while(0);at=(S0(V|0)|0)^31,Je=mr-He|0,Mt=ze-mr|0,fr=Je>>>0<Mt>>>0,(Je|0)!=(Mt|0)&&(Pt=e[ue>>2]|0,fr&&(e[Ee>>2]=e[Ee>>2]|1<<31-Pt),Wt=Pt+1|0,e[ue>>2]=Wt,(Wt|0)==32&&(Wt=e[Pe>>2]|0,(Wt|0)==(e[ge>>2]|0)?pi(Be,Ee):(e[Wt>>2]=e[Ee>>2],e[Pe>>2]=Wt+4),e[ue>>2]=0,e[Ee>>2]=0)),Wt=V>>>1;do if(fr){if(Pt=e[J>>2]|0,St=32-Pt|0,or=32-at|0,tr=Wt-Je<<or,(at|0)>(St|0)){jr=tr>>>or,or=at-St|0,e[J>>2]=or,St=e[O>>2]|jr>>>or,e[O>>2]=St,or=e[$>>2]|0,(or|0)==(e[ie>>2]|0)?pi(se,O):(e[or>>2]=St,e[$>>2]=or+4),e[O>>2]=jr<<32-(e[J>>2]|0);break}jr=e[O>>2]|tr>>>Pt,e[O>>2]=jr,tr=Pt+at|0,e[J>>2]=tr,(tr|0)==32&&(tr=e[$>>2]|0,(tr|0)==(e[ie>>2]|0)?pi(se,O):(e[tr>>2]=jr,e[$>>2]=tr+4),e[O>>2]=0,e[J>>2]=0)}else{if(tr=e[J>>2]|0,jr=32-tr|0,Pt=32-at|0,or=Wt-Mt<<Pt,(at|0)>(jr|0)){St=or>>>Pt,Pt=at-jr|0,e[J>>2]=Pt,jr=e[O>>2]|St>>>Pt,e[O>>2]=jr,Pt=e[$>>2]|0,(Pt|0)==(e[ie>>2]|0)?pi(se,O):(e[Pt>>2]=jr,e[$>>2]=Pt+4),e[O>>2]=St<<32-(e[J>>2]|0);break}St=e[O>>2]|or>>>tr,e[O>>2]=St,or=tr+at|0,e[J>>2]=or,(or|0)==32&&(or=e[$>>2]|0,(or|0)==(e[ie>>2]|0)?pi(se,O):(e[or>>2]=St,e[$>>2]=or+4),e[O>>2]=0,e[J>>2]=0)}while(0);at=e[L>>2]|0,Wt=e[at+(ke*12|0)>>2]|0,fr=Wt+(it<<2)|0,e[fr>>2]=(e[fr>>2]|0)+1,rs(at+(ut*12|0)|0,Wt,e[at+(ke*12|0)+4>>2]|0),(mr|0)!=(He|0)&&(at=e[C>>2]|0,Wt=e[P>>2]|0,fr=at-Wt>>2,or=e[N>>2]|0,St=e[b>>2]|0,(((fr|0)==0?0:(fr*113|0)+-1|0)|0)==(St+or|0)?(Cs(f),Xr=e[N>>2]|0,Qr=e[b>>2]|0,Hr=e[C>>2]|0,Ir=e[P>>2]|0):(Xr=or,Qr=St,Hr=at,Ir=Wt),Wt=Qr+Xr|0,(Hr|0)==(Ir|0)?Ar=0:Ar=(e[Ir+(((Wt>>>0)/113|0)<<2)>>2]|0)+(((Wt>>>0)%113|0)*36|0)|0,e[Ar>>2]=He,Wt=Ar+4|0,e[Wt>>2]=I,e[Wt+4>>2]=j,e[Ar+12>>2]=mr,e[Ar+16>>2]=g,e[Ar+20>>2]=tt,e[Ar+24>>2]=it,e[Ar+28>>2]=Je,e[Ar+32>>2]=ke,e[b>>2]=(e[b>>2]|0)+1),(ze|0)!=(mr|0)?(Wt=e[C>>2]|0,at=e[P>>2]|0,St=Wt-at>>2,or=e[N>>2]|0,fr=e[b>>2]|0,(((St|0)==0?0:(St*113|0)+-1|0)|0)==(fr+or|0)?(Cs(f),kr=e[N>>2]|0,Dr=e[b>>2]|0,ti=e[C>>2]|0,fi=e[P>>2]|0):(kr=or,Dr=fr,ti=Wt,fi=at),at=Dr+kr|0,(ti|0)==(fi|0)?Br=0:Br=(e[fi+(((at>>>0)/113|0)<<2)>>2]|0)+(((at>>>0)%113|0)*36|0)|0,e[Br>>2]=mr,e[Br+4>>2]=g,e[Br+8>>2]=tt,e[Br+12>>2]=ze,at=Br+16|0,e[at>>2]=S,e[at+4>>2]=D,e[Br+24>>2]=it,e[Br+28>>2]=Mt,e[Br+32>>2]=ut,at=(e[b>>2]|0)+1|0,e[b>>2]=at,di=at):Vt=99}else Vt=99;while(0);if((Vt|0)==99&&(Vt=0,di=e[b>>2]|0),di)et=di;else break}di=e[P>>2]|0,et=e[N>>2]|0,Br=di+(((et>>>0)/113|0)<<2)|0,D=e[C>>2]|0,S=D,g=di,(D|0)==(di|0)?(ri=0,Xi=0):(mr=(e[Br>>2]|0)+(((et>>>0)%113|0)*36|0)|0,ri=mr,Xi=mr),mr=Br,Br=Xi;e:for(;;){Xi=Br;do{if(et=Xi,(ri|0)==(et|0))break e;Xi=et+36|0}while((Xi-(e[mr>>2]|0)|0)!=4068);Xi=mr+4|0,mr=Xi,Br=e[Xi>>2]|0}if(e[b>>2]=0,b=S-g>>2,b>>>0>2){g=di;do Ae(e[g>>2]|0),g=(e[P>>2]|0)+4|0,e[P>>2]=g,nn=e[C>>2]|0,mn=nn-g>>2;while(mn>>>0>2);R0=mn,gn=g,Qn=nn}else R0=b,gn=di,Qn=D;switch(R0|0){case 1:{Hn=56,Vt=113;break}case 2:{Hn=113,Vt=113;break}}if((Vt|0)==113&&(e[N>>2]=Hn),(gn|0)!=(Qn|0)){Hn=gn;do Ae(e[Hn>>2]|0),Hn=Hn+4|0;while((Hn|0)!=(Qn|0));Qn=e[P>>2]|0,P=e[C>>2]|0,(P|0)!=(Qn|0)&&(e[C>>2]=P+(~((P+-4-Qn|0)>>>2)<<2))}if(Qn=e[f>>2]|0,!Qn){q=l;return}Ae(Qn),q=l}function sP(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0;if(o=q,q=q+80|0,l=o+56|0,f=o+52|0,h=o+48|0,u=o+68|0,g=o,d=o+44|0,m=o+40|0,b=o+36|0,w=o+32|0,x=o+28|0,C=o+24|0,S=o+20|0,D=o+16|0,I=o+12|0,Y[s+288>>0]|0?(x_(l,e[s+8>>2]|0),N=s+12|0,P=e[l>>2]|0,e[l>>2]=0,L=e[N>>2]|0,e[N>>2]=P,L?(ff(L),Ae(L),L=e[l>>2]|0,e[l>>2]=0,L|0&&(ff(L),Ae(L))):e[l>>2]=0):(mm(l,e[s+8>>2]|0),L=s+12|0,P=e[l>>2]|0,e[l>>2]=0,N=e[L>>2]|0,e[L>>2]=P,N?(ff(N),Ae(N),N=e[l>>2]|0,e[l>>2]=0,N|0&&(ff(N),Ae(N))):e[l>>2]=0),L=s+12|0,P=e[L>>2]|0,P|0&&(((e[P+4>>2]|0)-(e[P>>2]|0)>>2>>>0)/3|0|0)!=(e[P+40>>2]|0)){if(N=s+200|0,e[s+264>>2]=s,X=s+4|0,p0(((e[P+28>>2]|0)-(e[P+24>>2]|0)>>2)-(e[P+44>>2]|0)|0,e[(e[X>>2]|0)+44>>2]|0)|0,P=e[L>>2]|0,p0((((e[P+4>>2]|0)-(e[P>>2]|0)>>2>>>0)/3|0)-(e[P+40>>2]|0)|0,e[(e[X>>2]|0)+44>>2]|0)|0,P=s+28|0,j=s+8|0,Q=e[j>>2]|0,V=((e[Q+100>>2]|0)-(e[Q+96>>2]|0)|0)/12|0,Y[l>>0]=0,mo(P,V,l),V=e[L>>2]|0,Q=(e[V+28>>2]|0)-(e[V+24>>2]|0)>>2,e[l>>2]=-1,pe(s+52|0,Q,l),Q=s+40|0,V=e[Q>>2]|0,G=s+44|0,ee=e[G>>2]|0,(ee|0)!=(V|0)&&(e[G>>2]=ee+(~((ee+-4-V|0)>>>2)<<2)),V=e[L>>2]|0,ee=(e[V+4>>2]|0)-(e[V>>2]|0)>>2,ol(Q,ee-((ee>>>0)%3|0)|0),ee=s+84|0,Q=e[L>>2]|0,V=(e[Q+28>>2]|0)-(e[Q+24>>2]|0)>>2,Y[l>>0]=0,mo(ee,V,l),V=s+96|0,Q=e[V>>2]|0,G=s+100|0,J=e[G>>2]|0,(J|0)!=(Q|0)&&(e[G>>2]=J+(~((J+-4-Q|0)>>>2)<<2)),e[s+164>>2]=-1,Q=s+168|0,e[Q>>2]=0,J=e[s+108>>2]|0,O=s+112|0,$=e[O>>2]|0,($|0)!=(J|0)&&(e[O>>2]=$+(~((($+-12-J|0)>>>0)/12|0)*12|0)),J=s+132|0,e[J>>2]|0){if($=s+128|0,O=e[$>>2]|0,O|0){ie=O;do O=ie,ie=e[ie>>2]|0,Ae(O);while((ie|0)!=0)}if(e[$>>2]=0,$=e[s+124>>2]|0,$|0){ie=s+120|0,O=0;do e[(e[ie>>2]|0)+(O<<2)>>2]=0,O=O+1|0;while((O|0)!=($|0))}e[J>>2]=0}if(e[s+144>>2]=0,J=e[L>>2]|0,$=(e[J+28>>2]|0)-(e[J+24>>2]|0)>>2,e[l>>2]=-1,pe(s+152|0,$,l),$=s+72|0,J=e[$>>2]|0,O=s+76|0,ie=e[O>>2]|0,(ie|0)!=(J|0)&&(e[O>>2]=ie+(~((ie+-4-J|0)>>>2)<<2)),J=e[L>>2]|0,ol($,((e[J+4>>2]|0)-(e[J>>2]|0)>>2>>>0)/3|0),e[s+64>>2]=0,!(yy(s)|0)){J=It(32)|0,e[l>>2]=J,e[l+8>>2]=-2147483616,e[l+4>>2]=29,se=J,ue=13227,Ee=se+29|0;do Y[se>>0]=Y[ue>>0]|0,se=se+1|0,ue=ue+1|0;while((se|0)<(Ee|0));Y[J+29>>0]=0,e[i>>2]=-1,T0(i+4|0,l),(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0),q=o;return}if(!(VI(s)|0)){J=It(48)|0,e[l>>2]=J,e[l+8>>2]=-2147483600,e[l+4>>2]=36,se=J,ue=13257,Ee=se+36|0;do Y[se>>0]=Y[ue>>0]|0,se=se+1|0,ue=ue+1|0;while((se|0)<(Ee|0));Y[J+36>>0]=0,e[i>>2]=-1,T0(i+4|0,l),(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0),q=o;return}J=s+172|0,ie=s+176|0,Pe=(((e[ie>>2]|0)-(e[J>>2]|0)|0)/136|0)&255,Y[u>>0]=Pe,ge=e[(e[X>>2]|0)+44>>2]|0,Be=ge+16|0,_e=e[Be+4>>2]|0,(_e|0)>0|(_e|0)==0&(e[Be>>2]|0)>>>0>0?Ce=Pe:(e[f>>2]=e[ge+4>>2],e[l>>2]=e[f>>2],wi(ge,l,u,u+1|0)|0,Ce=Y[u>>0]|0),u=s+284|0,e[u>>2]=Ce&255,Ce=e[L>>2]|0,ge=(e[Ce+4>>2]|0)-(e[Ce>>2]|0)|0,Ce=ge>>2,j_(N),e[g>>2]=0,Pe=g+4|0,e[Pe>>2]=0,e[g+8>>2]=0;e:do if((ge|0)>0){Be=s+104|0,_e=g+8|0,We=0;t:for(;;){if(lt=(We>>>0)/3|0,et=lt>>>5,Ve=1<<(lt&31),(e[(e[P>>2]|0)+(et<<2)>>2]&Ve|0)==0&&(He=e[L>>2]|0,e[d>>2]=lt,e[l>>2]=e[d>>2],!(Hy(He,l)|0))){e[f>>2]=0,e[m>>2]=lt,e[l>>2]=e[m>>2],lt=an(s,l,f)|0,Wn(N,lt),He=e[f>>2]|0,st=(He|0)==-1;do if(lt){do if(st)Je=-1,it=-1,ze=-1;else{if(Ge=e[e[L>>2]>>2]|0,ke=e[Ge+(He<<2)>>2]|0,ut=He+1|0,tt=((ut>>>0)%3|0|0)==0?He+-2|0:ut,(tt|0)==-1?at=-1:at=e[Ge+(tt<<2)>>2]|0,tt=(((He>>>0)%3|0|0)==0?2:-1)+He|0,(tt|0)==-1){Je=-1,it=at,ze=ke;break}Je=e[Ge+(tt<<2)>>2]|0,it=at,ze=ke}while(0);if(ke=e[ee>>2]|0,tt=ke+(ze>>>5<<2)|0,e[tt>>2]=e[tt>>2]|1<<(ze&31),tt=ke+(it>>>5<<2)|0,e[tt>>2]=e[tt>>2]|1<<(it&31),tt=ke+(Je>>>5<<2)|0,e[tt>>2]=e[tt>>2]|1<<(Je&31),e[l>>2]=1,tt=e[G>>2]|0,tt>>>0<(e[Be>>2]|0)>>>0?(e[tt>>2]=1,e[G>>2]=tt+4):pi(V,l),tt=(e[P>>2]|0)+(et<<2)|0,e[tt>>2]=e[tt>>2]|Ve,tt=He+1|0,st?Mt=-1:Mt=((tt>>>0)%3|0|0)==0?He+-2|0:tt,e[l>>2]=Mt,ke=e[Pe>>2]|0,ke>>>0<(e[_e>>2]|0)>>>0?(e[ke>>2]=Mt,e[Pe>>2]=ke+4):pi(g,l),st||(ke=((tt>>>0)%3|0|0)==0?He+-2|0:tt,(ke|0)==-1)||(tt=e[(e[(e[L>>2]|0)+12>>2]|0)+(ke<<2)>>2]|0,ke=(tt|0)==-1,Ge=ke?-1:(tt>>>0)/3|0,ke)||e[(e[P>>2]|0)+(Ge>>>5<<2)>>2]&1<<(Ge&31)|0)break;if(e[b>>2]=tt,e[l>>2]=e[b>>2],!(lk(s,l)|0)){Pt=65;break t}}else if(tt=He+1|0,st?yt=-1:yt=((tt>>>0)%3|0|0)==0?He+-2|0:tt,e[w>>2]=yt,e[l>>2]=e[w>>2],ad(s,l,1)|0,e[x>>2]=e[f>>2],e[l>>2]=e[x>>2],!(lk(s,l)|0)){Pt=71;break t}while(0)}if(We=We+1|0,(We|0)>=(Ce|0)){Pt=77;break e}}if((Pt|0)==65){e[l>>2]=0,e[l+4>>2]=0,e[l+8>>2]=0,We=It(48)|0,e[l>>2]=We,e[l+8>>2]=-2147483600,e[l+4>>2]=32,se=We,ue=13294,Ee=se+32|0;do Y[se>>0]=Y[ue>>0]|0,se=se+1|0,ue=ue+1|0;while((se|0)<(Ee|0));Y[We+32>>0]=0,e[i>>2]=-1,T0(i+4|0,l),(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0)}else if((Pt|0)==71){e[l>>2]=0,e[l+4>>2]=0,e[l+8>>2]=0,_e=It(48)|0,e[l>>2]=_e,e[l+8>>2]=-2147483600,e[l+4>>2]=32,se=_e,ue=13294,Ee=se+32|0;do Y[se>>0]=Y[ue>>0]|0,se=se+1|0,ue=ue+1|0;while((se|0)<(Ee|0));Y[_e+32>>0]=0,e[i>>2]=-1,T0(i+4|0,l),(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0)}}else Pt=77;while(0);do if((Pt|0)==77){if(Ce=e[$>>2]|0,x=e[O>>2]|0,w=x,(Ce|0)!=(x|0)&&(yt=x+-4|0,Ce>>>0<yt>>>0)){x=Ce,Ce=yt;do yt=e[x>>2]|0,e[x>>2]=e[Ce>>2],e[Ce>>2]=yt,x=x+4|0,Ce=Ce+-4|0;while(x>>>0<Ce>>>0)}if(e[C>>2]=w,e[S>>2]=e[g>>2],e[D>>2]=e[Pe>>2],e[h>>2]=e[C>>2],e[f>>2]=e[S>>2],e[l>>2]=e[D>>2],Bc($,h,f,l)|0,(e[ie>>2]|0)!=(e[J>>2]|0)&&(Ce=e[j>>2]|0,x=((e[Ce+100>>2]|0)-(e[Ce+96>>2]|0)|0)/12|0,Y[l>>0]=0,mo(P,x,l),x=e[$>>2]|0,Ce=e[O>>2]|0,(x|0)!=(Ce|0))){_e=x;do e[I>>2]=e[_e>>2],e[l>>2]=e[I>>2],Ou(s,l)|0,_e=_e+4|0;while((_e|0)!=(Ce|0))}if(FI(N),Ce=s+232|0,pn(N,Ce),_e=s+280|0,w=e[_e>>2]|0,w|0&&(e[u>>2]|0)>0&&(pn(w,Ce),(e[u>>2]|0)>1)){w=1;do pn((e[_e>>2]|0)+(w<<5)|0,Ce),w=w+1|0;while((w|0)<(e[u>>2]|0))}if(p0((e[s+272>>2]|0)-(e[s+268>>2]|0)>>2,e[(e[X>>2]|0)+44>>2]|0)|0,p0(e[Q>>2]|0,e[(e[X>>2]|0)+44>>2]|0)|0,A_(s)|0){w=e[(e[X>>2]|0)+44>>2]|0,_e=e[Ce>>2]|0,x=w+16|0,yt=e[x+4>>2]|0,(yt|0)>0|(yt|0)==0&(e[x>>2]|0)>>>0>0||(x=(e[s+236>>2]|0)-_e|0,e[f>>2]=e[w+4>>2],e[l>>2]=e[f>>2],wi(w,l,_e,_e+x|0)|0),e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0;break}else{e[l>>2]=0,e[l+4>>2]=0,e[l+8>>2]=0,x=It(32)|0,e[l>>2]=x,e[l+8>>2]=-2147483616,e[l+4>>2]=28,se=x,ue=13327,Ee=se+28|0;do Y[se>>0]=Y[ue>>0]|0,se=se+1|0,ue=ue+1|0;while((se|0)<(Ee|0));Y[x+28>>0]=0,e[i>>2]=-1,T0(i+4|0,l),(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0);break}}while(0);f=e[g>>2]|0,f|0&&(g=e[Pe>>2]|0,(g|0)!=(f|0)&&(e[Pe>>2]=g+(~((g+-4-f|0)>>>2)<<2)),Ae(f)),q=o;return}f=It(32)|0,e[l>>2]=f,e[l+8>>2]=-2147483616,e[l+4>>2]=29,se=f,ue=13197,Ee=se+29|0;do Y[se>>0]=Y[ue>>0]|0,se=se+1|0,ue=ue+1|0;while((se|0)<(Ee|0));Y[f+29>>0]=0,e[i>>2]=-1,T0(i+4|0,l),(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0),q=o}function oP(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0,Wt=0,cr=0,mr=0,Gr=0,dr=0,Er=0,nr=0,Mr=0,Nr=0,ar=0,gr=0,or=0,tr=0,jr=0,Xr=0,Qr=0,Hr=0,Ir=0,Ar=0,kr=0,Dr=0,ti=0,fi=0,Br=0,di=0,ri=0,Xi=0,nn=0,mn=0;l=q,q=q+48|0,f=l+36|0,h=l+24|0,u=l,g=i+8|0,d=e[g>>2]|0,e[f>>2]=0,m=f+4|0,e[m>>2]=0,e[f+8>>2]=0;do if(d)if(d>>>0>1073741823)qe();else{b=d<<2,w=It(b)|0,e[f>>2]=w,x=w+(d<<2)|0,e[f+8>>2]=x,Tr(w|0,0,b|0)|0,e[m>>2]=x,C=x,S=w;break}else C=0,S=0;while(0);w=i+1164|0,x=e[w>>2]|0,b=e[x>>2]|0,D=x+4|0,b?(d=e[D>>2]|0,(d|0)!=(b|0)&&(e[D>>2]=d+(~((d+-4-b|0)>>>2)<<2)),Ae(b),b=x+8|0,e[b>>2]=0,e[D>>2]=0,e[x>>2]=0,I=b,L=e[f>>2]|0,P=e[m>>2]|0,N=e[g>>2]|0):(I=x+8|0,L=S,P=C,N=d),e[x>>2]=L,e[D>>2]=P,e[I>>2]=e[f+8>>2],e[f>>2]=0,I=f+4|0,e[I>>2]=0,e[f+8>>2]=0;do if(N)if(N>>>0>1073741823)qe();else{P=N<<2,D=It(P)|0,e[f>>2]=D,L=D+(N<<2)|0,e[f+8>>2]=L,Tr(D|0,0,P|0)|0,e[I>>2]=L,X=L,j=D;break}else X=0,j=0;while(0);if(N=i+1176|0,D=e[N>>2]|0,L=e[D>>2]|0,P=D+4|0,L?(X=e[P>>2]|0,(X|0)!=(L|0)&&(e[P>>2]=X+(~((X+-4-L|0)>>>2)<<2)),Ae(L),L=D+8|0,e[L>>2]=0,e[P>>2]=0,e[D>>2]=0,Q=L,V=e[f>>2]|0,G=e[I>>2]|0):(Q=D+8|0,V=j,G=X),e[D>>2]=V,e[P>>2]=G,e[Q>>2]=e[f+8>>2],Q=e[s>>2]|0,G=s+4|0,P=e[G>>2]|0,V=e[G+4>>2]|0,G=e[o>>2]|0,D=o+4|0,I=e[D>>2]|0,L=e[D+4>>2]|0,e[u>>2]=0,e[u+4>>2]=0,e[u+8>>2]=0,e[u+12>>2]=0,e[u+16>>2]=0,e[u+20>>2]=0,D=u+8|0,X=u+4|0,j=u+16|0,x=u+20|0,m=P,Cs(u),b=e[X>>2]|0,d=(e[x>>2]|0)+(e[j>>2]|0)|0,(e[D>>2]|0)==(b|0)?ee=0:ee=(e[b+(((d>>>0)/113|0)<<2)>>2]|0)+(((d>>>0)%113|0)*36|0)|0,e[ee>>2]=Q,d=ee+4|0,e[d>>2]=P,e[d+4>>2]=V,e[ee+12>>2]=G,d=ee+16|0,e[d>>2]=I,e[d+4>>2]=L,e[ee+24>>2]=0,e[ee+28>>2]=G-Q,e[ee+32>>2]=0,ee=(e[x>>2]|0)+1|0,e[x>>2]=ee,ee|0)for(Q=i+1152|0,G=i+1084|0,d=i+1080|0,b=i+1072|0,C=i+1076|0,S=i+1068|0,J=s+8|0,O=o+8|0,$=i+1124|0,ie=i+1120|0,se=i+1112|0,ue=i+1116|0,Ee=i+1108|0,Pe=m+4|0,ge=m+24|0,Be=m+24|0,_e=I+24|0,Ce=ee;;){ee=e[j>>2]|0,We=Ce+-1|0,lt=We+ee|0,et=e[X>>2]|0,Ve=e[et+(((lt>>>0)/113|0)<<2)>>2]|0,He=(lt>>>0)%113|0,lt=e[Ve+(He*36|0)>>2]|0,st=e[Ve+(He*36|0)+12>>2]|0,Je=e[Ve+(He*36|0)+24>>2]|0,it=e[Ve+(He*36|0)+32>>2]|0,e[x>>2]=We,We=e[D>>2]|0,He=We-et>>2,(1-Ce-ee+((He|0)==0?0:(He*113|0)+-1|0)|0)>>>0>225&&(Ae(e[We+-4>>2]|0),e[D>>2]=(e[D>>2]|0)+-4),e[s>>2]=lt,e[o>>2]=st,We=e[w>>2]|0,He=We+(it*12|0)|0,ee=(e[N>>2]|0)+(it*12|0)|0,e[h>>2]=e[s>>2],e[h+4>>2]=e[s+4>>2],e[h+8>>2]=e[s+8>>2],e[f>>2]=e[o>>2],e[f+4>>2]=e[o+4>>2],e[f+8>>2]=e[o+8>>2],et=Rc(i,h,f,He,ee,Je)|0,Je=st-lt|0,Ve=(e[i>>2]|0)-(e[(e[ee>>2]|0)+(et<<2)>>2]|0)|0;e:do if(Ve){if(Je>>>0<3){if(ze=e[Q>>2]|0,e[ze>>2]=et,Ge=e[g>>2]|0,Ge>>>0>1)for(ke=1,ut=Ge,tt=et;;)if(tt=(tt|0)==(ut+-1|0)?0:tt+1|0,e[ze+(ke<<2)>>2]=tt,ke=ke+1|0,at=e[g>>2]|0,ke>>>0>=at>>>0){Mt=at;break}else ut=at;else Mt=Ge;if(Je)yt=0,Vt=Mt;else{Pt=87;break}for(;;){if(ut=(e[ge>>2]|0)+((_r(e[Pe>>2]|0,lt+yt|0)|0)<<2)|0,!Vt)Lt=0;else{ke=0;do{tt=e[(e[Q>>2]|0)+(ke<<2)>>2]|0,ze=(e[i>>2]|0)-(e[(e[ee>>2]|0)+(tt<<2)>>2]|0)|0;do if(ze|0){if(at=e[G>>2]|0,At=32-at|0,_t=32-ze|0,St=e[ut+(tt<<2)>>2]<<_t,(ze|0)>(At|0)){fr=St>>>_t,_t=ze-At|0,e[G>>2]=_t,At=e[d>>2]|fr>>>_t,e[d>>2]=At,_t=e[b>>2]|0,(_t|0)==(e[C>>2]|0)?pi(S,d):(e[_t>>2]=At,e[b>>2]=_t+4),e[d>>2]=fr<<32-(e[G>>2]|0);break}if(fr=e[d>>2]|St>>>at,e[d>>2]=fr,St=at+ze|0,e[G>>2]=St,(St|0)!=32)break;St=e[b>>2]|0,(St|0)==(e[C>>2]|0)?pi(S,d):(e[St>>2]=fr,e[b>>2]=St+4),e[d>>2]=0,e[G>>2]=0}while(0);ke=ke+1|0,ze=e[g>>2]|0}while(ke>>>0<ze>>>0);Lt=ze}if(yt=yt+1|0,yt>>>0>=Je>>>0){Pt=87;break e}else Vt=Lt}}Ge=it+1|0,ke=e[w>>2]|0,ut=ke+(Ge*12|0)|0,(ut|0)==(He|0)?Wt=ke:(rs(ut,e[He>>2]|0,e[We+(it*12|0)+4>>2]|0),Wt=e[w>>2]|0),ut=(e[Wt+(Ge*12|0)>>2]|0)+(et<<2)|0,ke=(e[ut>>2]|0)+(1<<Ve+-1)|0,e[ut>>2]=ke,ut=e[J>>2]|0,ze=e[O>>2]|0;t:do if((st|0)==(lt|0))cr=lt;else{if(tt=e[Be>>2]|0,ut)dr=st,Er=lt;else{if((e[tt+(et<<2)>>2]|0)>>>0<ke>>>0){cr=st;break}else mr=st,Gr=lt;for(;;){St=mr;do{if(St=St+-1|0,(Gr|0)==(St|0)){cr=Gr;break t}fr=(e[_e>>2]|0)+((_r(St,ze)|0)<<2)+(et<<2)|0}while((e[fr>>2]|0)>>>0>=ke>>>0);if(Gr=Gr+1|0,(Gr|0)==(St|0)){cr=St;break t}else mr=St}}for(;;){for(fr=Er;;){if(nr=tt+((_r(fr,ut)|0)<<2)|0,(e[nr+(et<<2)>>2]|0)>>>0>=ke>>>0){Mr=dr;break}if(at=fr+1|0,(at|0)==(dr|0)){cr=dr;break t}else fr=at}for(;;){if(Mr=Mr+-1|0,(fr|0)==(Mr|0)){cr=fr;break t}if(Nr=(e[_e>>2]|0)+((_r(Mr,ze)|0)<<2)|0,(e[Nr+(et<<2)>>2]|0)>>>0<ke>>>0){ar=0;break}}do St=nr+(ar<<2)|0,at=Nr+(ar<<2)|0,_t=e[St>>2]|0,e[St>>2]=e[at>>2],e[at>>2]=_t,ar=ar+1|0;while((ar|0)!=(ut|0));if(Er=fr+1|0,(Er|0)==(Mr|0)){cr=Mr;break}else dr=Mr}}while(0);if(ke=(S0(Je|0)|0)^31,ze=cr-lt|0,tt=st-cr|0,_t=ze>>>0<tt>>>0,(ze|0)!=(tt|0)&&(at=e[$>>2]|0,_t&&(e[ie>>2]=e[ie>>2]|1<<31-at),St=at+1|0,e[$>>2]=St,(St|0)==32&&(St=e[se>>2]|0,(St|0)==(e[ue>>2]|0)?pi(Ee,ie):(e[St>>2]=e[ie>>2],e[se>>2]=St+4),e[$>>2]=0,e[ie>>2]=0)),St=Je>>>1,_t){if(_t=St-ze|0,ke|0)for(at=0,At=1<<ke+-1;Wn(i+12+(at<<5)|0,(At&_t|0)!=0),at=at+1|0,(at|0)!=(ke|0);)At=At>>>1}else if(At=St-tt|0,ke|0)for(at=0,_t=1<<ke+-1;Wn(i+12+(at<<5)|0,(_t&At|0)!=0),at=at+1|0,(at|0)!=(ke|0);)_t=_t>>>1;_t=e[N>>2]|0,ke=e[_t+(it*12|0)>>2]|0,at=ke+(et<<2)|0,e[at>>2]=(e[at>>2]|0)+1,rs(_t+(Ge*12|0)|0,ke,e[_t+(it*12|0)+4>>2]|0),(cr|0)!=(lt|0)&&(_t=e[D>>2]|0,ke=e[X>>2]|0,at=_t-ke>>2,At=e[j>>2]|0,St=e[x>>2]|0,(((at|0)==0?0:(at*113|0)+-1|0)|0)==(St+At|0)?(Cs(u),gr=e[j>>2]|0,or=e[x>>2]|0,tr=e[D>>2]|0,jr=e[X>>2]|0):(gr=At,or=St,tr=_t,jr=ke),ke=or+gr|0,(tr|0)==(jr|0)?Xr=0:Xr=(e[jr+(((ke>>>0)/113|0)<<2)>>2]|0)+(((ke>>>0)%113|0)*36|0)|0,e[Xr>>2]=lt,ke=Xr+4|0,e[ke>>2]=P,e[ke+4>>2]=V,e[Xr+12>>2]=cr,e[Xr+16>>2]=m,e[Xr+20>>2]=ut,e[Xr+24>>2]=et,e[Xr+28>>2]=ze,e[Xr+32>>2]=it,e[x>>2]=(e[x>>2]|0)+1),(st|0)!=(cr|0)?(ke=e[D>>2]|0,_t=e[X>>2]|0,St=ke-_t>>2,At=e[j>>2]|0,at=e[x>>2]|0,(((St|0)==0?0:(St*113|0)+-1|0)|0)==(at+At|0)?(Cs(u),Qr=e[j>>2]|0,Hr=e[x>>2]|0,Ir=e[D>>2]|0,Ar=e[X>>2]|0):(Qr=At,Hr=at,Ir=ke,Ar=_t),_t=Hr+Qr|0,(Ir|0)==(Ar|0)?kr=0:kr=(e[Ar+(((_t>>>0)/113|0)<<2)>>2]|0)+(((_t>>>0)%113|0)*36|0)|0,e[kr>>2]=cr,e[kr+4>>2]=m,e[kr+8>>2]=ut,e[kr+12>>2]=st,_t=kr+16|0,e[_t>>2]=I,e[_t+4>>2]=L,e[kr+24>>2]=et,e[kr+28>>2]=tt,e[kr+32>>2]=Ge,_t=(e[x>>2]|0)+1|0,e[x>>2]=_t,Dr=_t):Pt=87}else Pt=87;while(0);if((Pt|0)==87&&(Pt=0,Dr=e[x>>2]|0),Dr)Ce=Dr;else break}Dr=e[X>>2]|0,Ce=e[j>>2]|0,kr=Dr+(((Ce>>>0)/113|0)<<2)|0,L=e[D>>2]|0,I=L,m=Dr,(L|0)==(Dr|0)?(ti=0,fi=0):(cr=(e[kr>>2]|0)+(((Ce>>>0)%113|0)*36|0)|0,ti=cr,fi=cr),cr=kr,kr=fi;e:for(;;){fi=kr;do{if(Ce=fi,(ti|0)==(Ce|0))break e;fi=Ce+36|0}while((fi-(e[cr>>2]|0)|0)!=4068);fi=cr+4|0,cr=fi,kr=e[fi>>2]|0}if(e[x>>2]=0,x=I-m>>2,x>>>0>2){m=Dr;do Ae(e[m>>2]|0),m=(e[X>>2]|0)+4|0,e[X>>2]=m,Br=e[D>>2]|0,di=Br-m>>2;while(di>>>0>2);ri=di,Xi=m,nn=Br}else ri=x,Xi=Dr,nn=L;switch(ri|0){case 1:{mn=56,Pt=101;break}case 2:{mn=113,Pt=101;break}}if((Pt|0)==101&&(e[j>>2]=mn),(Xi|0)!=(nn|0)){mn=Xi;do Ae(e[mn>>2]|0),mn=mn+4|0;while((mn|0)!=(nn|0));nn=e[X>>2]|0,X=e[D>>2]|0,(X|0)!=(nn|0)&&(e[D>>2]=X+(~((X+-4-nn|0)>>>2)<<2))}if(nn=e[u>>2]|0,!nn){q=l;return}Ae(nn),q=l}function aP(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0,Wt=0,cr=0,mr=0,Gr=0,dr=0,Er=0,nr=0,Mr=0,Nr=0,ar=0,gr=0,or=0,tr=0,jr=0,Xr=0,Qr=0,Hr=0,Ir=0,Ar=0,kr=0,Dr=0,ti=0,fi=0,Br=0,di=0;o=q,q=q+1424|0,l=o+1408|0,f=o+1396|0,h=o+1420|0,u=o+1200|0,g=o+12|0,d=o,m=o+1384|0,b=o+1372|0,w=o+1360|0,x=o+1348|0,C=o+1336|0,S=o+1324|0,D=o+1312|0,I=o+1300|0,L=o+1288|0,P=o+1276|0,N=o+1264|0,X=o+1252|0,j=o+1240|0,Q=o+1228|0,V=i+28|0,G=10-(sl(e[(e[V>>2]|0)+48>>2]|0)|0)|0,ee=(G|0)<6?G:6,Y[h>>0]=ee,(ee&255|0)==6&&(e[i+72>>2]|0)>15&&(Y[h>>0]=5),ee=s+16|0,G=e[ee+4>>2]|0,(G|0)>0|(G|0)==0&(e[ee>>2]|0)>>>0>0||(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+1|0)|0),ee=e[V>>2]|0,G=e[(e[ee+4>>2]|0)+80>>2]|0,J=i+72|0,O=e[J>>2]|0,e[u>>2]=G,$=u+4|0,e[$>>2]=O,e[u+8>>2]=O<<2,ie=u+12|0,se=_r(O,G)|0,e[ie>>2]=0,ue=u+16|0,e[ue>>2]=0,e[u+20>>2]=0;do if(se)if(se>>>0>1073741823)qe();else{Ee=se<<2,Pe=It(Ee)|0,e[ie>>2]=Pe,ge=Pe+(se<<2)|0,e[u+20>>2]=ge,Tr(Pe|0,0,Ee|0)|0,e[ue>>2]=ge,Be=Pe;break}else Be=0;while(0);se=u+24|0,e[se>>2]=Be,ie=i+4|0,Pe=i+8|0,ge=e[ie>>2]|0;e:do if((e[Pe>>2]|0)!=(ge|0)){Ee=g+4|0,_e=g+8|0,Ce=g+8|0,We=(G|0)==0,lt=g+4|0,et=g+8|0,Ve=d+4|0,He=d+8|0,st=d+8|0,Je=i+48|0,it=g+8|0,ze=i+60|0,Ge=0,ke=0,ut=0,tt=0,at=ge,Mt=ee;t:for(;;){switch(Pt=e[(e[(e[Mt+4>>2]|0)+8>>2]|0)+(e[at+(tt<<2)>>2]<<2)>>2]|0,e[Pt+28>>2]|0){case 1:case 3:case 5:case 2:case 4:case 6:{yt=Pt,Vt=ke;break}case 9:{yt=e[(e[ze>>2]|0)+(ke<<2)>>2]|0,Vt=ke+1|0;break}default:{Lt=0;break e}}if(!yt){Lt=0;break e}r:do switch(e[yt+28>>2]|0){case 6:{if(We){At=ut,_t=yt+24|0;break r}Pt=yt+84|0,St=yt+68|0,fr=yt+48|0,Wt=yt+40|0,cr=yt+24|0,mr=0;do Y[Pt>>0]|0?Gr=mr:Gr=e[(e[St>>2]|0)+(mr<<2)>>2]|0,dr=fr,Er=e[dr>>2]|0,nr=e[dr+4>>2]|0,dr=Wt,Mr=Wr(e[dr>>2]|0,e[dr+4>>2]|0,Gr|0,0)|0,dr=Qt(Mr|0,Ze|0,Er|0,nr|0)|0,Fi((e[se>>2]|0)+((_r(e[$>>2]|0,mr)|0)<<2)+(Ge<<2)|0,(e[e[yt>>2]>>2]|0)+dr|0,Y[cr>>0]<<2|0)|0,mr=mr+1|0;while((mr|0)!=(G|0));At=ut,_t=cr;break}case 1:case 3:case 5:{if(cr=yt+24|0,mr=Y[cr>>0]|0,Wt=mr<<24>>24,e[g>>2]=0,e[lt>>2]=0,e[et>>2]=0,!(mr<<24>>24))Nr=0;else{if(mr<<24>>24<0){ar=24;break t}mr=Wt<<2,fr=It(mr)|0,e[g>>2]=fr,St=fr+(Wt<<2)|0,e[it>>2]=St,Tr(fr|0,0,mr|0)|0,e[lt>>2]=St,Nr=Y[cr>>0]|0}if(St=Nr<<24>>24,e[d>>2]=0,e[Ve>>2]=0,e[He>>2]=0,!(Nr<<24>>24))gr=0,or=0;else{if(Nr<<24>>24<0){ar=30;break t}mr=St<<2,fr=It(mr)|0,e[d>>2]=fr,Wt=fr+(St<<2)|0,e[st>>2]=Wt,Tr(fr|0,0,mr|0)|0,e[Ve>>2]=Wt,gr=fr,or=fr}if(We)tr=or,jr=gr;else{fr=yt+84|0,Wt=yt+68|0,mr=0;do{if(Y[fr>>0]|0?Xr=mr:Xr=e[(e[Wt>>2]|0)+(mr<<2)>>2]|0,St=e[g>>2]|0,e[f>>2]=Xr,Pt=Y[cr>>0]|0,e[l>>2]=e[f>>2],w3(yt,l,Pt,St)|0,St=Y[cr>>0]|0,Pt=St<<24>>24,St<<24>>24>0){St=e[g>>2]|0,dr=e[Je>>2]|0,nr=e[d>>2]|0,Er=0;do e[nr+(Er<<2)>>2]=(e[St+(Er<<2)>>2]|0)-(e[dr+(Er+ut<<2)>>2]|0),Er=Er+1|0;while((Er|0)<(Pt|0));Qr=nr}else Qr=e[d>>2]|0;Fi((e[se>>2]|0)+((_r(e[$>>2]|0,mr)|0)<<2)+(Ge<<2)|0,Qr|0,Pt<<2|0)|0,mr=mr+1|0}while(mr>>>0<G>>>0);mr=e[d>>2]|0,tr=mr,jr=mr}mr=ut+(Y[cr>>0]|0)|0,tr|0&&(Wt=e[Ve>>2]|0,(Wt|0)!=(tr|0)&&(e[Ve>>2]=Wt+(~((Wt+-4-tr|0)>>>2)<<2)),Ae(jr)),Wt=e[g>>2]|0,Wt|0&&(fr=e[lt>>2]|0,(fr|0)!=(Wt|0)&&(e[lt>>2]=fr+(~((fr+-4-Wt|0)>>>2)<<2)),Ae(Wt)),At=mr,_t=cr;break}default:{if(mr=yt+24|0,Wt=Y[mr>>0]|0,fr=Wt<<24>>24,e[g>>2]=0,e[Ee>>2]=0,e[_e>>2]=0,!(Wt<<24>>24))Hr=0,Ir=0;else{if(Wt<<24>>24<0){ar=53;break t}Wt=fr<<2,nr=It(Wt)|0,e[g>>2]=nr,Er=nr+(fr<<2)|0,e[Ce>>2]=Er,Tr(nr|0,0,Wt|0)|0,e[Ee>>2]=Er,Hr=nr,Ir=nr}if(We)Ar=Ir,kr=Hr;else{nr=yt+84|0,Er=yt+68|0,Wt=0;do Y[nr>>0]|0?Dr=Wt:Dr=e[(e[Er>>2]|0)+(Wt<<2)>>2]|0,fr=e[g>>2]|0,e[f>>2]=Dr,dr=Y[mr>>0]|0,e[l>>2]=e[f>>2],pP(yt,l,dr,fr)|0,Fi((e[se>>2]|0)+((_r(e[$>>2]|0,Wt)|0)<<2)+(Ge<<2)|0,e[g>>2]|0,Y[mr>>0]<<2|0)|0,Wt=Wt+1|0;while(Wt>>>0<G>>>0);Wt=e[g>>2]|0,Ar=Wt,kr=Wt}Ar|0&&(Wt=e[Ee>>2]|0,(Wt|0)!=(Ar|0)&&(e[Ee>>2]=Wt+(~((Wt+-4-Ar|0)>>>2)<<2)),Ae(kr)),At=ut,_t=mr}}while(0);if(Wt=tt+1|0,Er=e[ie>>2]|0,Wt>>>0>=(e[Pe>>2]|0)-Er>>2>>>0){ar=66;break}Ge=Ge+(Y[_t>>0]|0)|0,ke=Vt,ut=At,tt=Wt,at=Er,Mt=e[V>>2]|0}if((ar|0)==24)qe();else if((ar|0)==30)qe();else if((ar|0)==53)qe();else if((ar|0)==66){ti=e[J>>2]|0,fi=e[se>>2]|0,ar=67;break}}else ti=O,fi=Be,ar=67;while(0);e:do if((ar|0)==67){if(Be=_r(ti,G)|0,(Be|0)>0)for(O=0,se=0;;)if(J=e[fi+(O<<2)>>2]|0,J?(V=(S0(J|0)|0)^31,Br=(V|0)<(se|0)?se:V+1|0):Br=se,O=O+1|0,(O|0)>=(Be|0)){di=Br;break}else se=Br;else di=0;switch(Y[h>>0]|0){case 6:{if(Hu(g,ti),e[m>>2]=0,e[m+4>>2]=u,se=e[$>>2]|0,e[m+8>>2]=se,e[b>>2]=e[u>>2],e[b+4>>2]=u,e[b+8>>2]=se,e[d>>2]=di,e[f>>2]=e[m>>2],e[f+4>>2]=e[m+4>>2],e[f+8>>2]=e[m+8>>2],e[l>>2]=e[b>>2],e[l+4>>2]=e[b+4>>2],e[l+8>>2]=e[b+8>>2],se=Nc(g,f,l,d,s)|0,cm(g),!se){Lt=0;break e}break}case 5:{if(Hu(g,ti),e[w>>2]=0,e[w+4>>2]=u,se=e[$>>2]|0,e[w+8>>2]=se,e[x>>2]=e[u>>2],e[x+4>>2]=u,e[x+8>>2]=se,e[d>>2]=di,e[f>>2]=e[w>>2],e[f+4>>2]=e[w+4>>2],e[f+8>>2]=e[w+8>>2],e[l>>2]=e[x>>2],e[l+4>>2]=e[x+4>>2],e[l+8>>2]=e[x+8>>2],se=wm(g,f,l,d,s)|0,cm(g),!se){Lt=0;break e}break}case 4:{if(Hu(g,ti),e[C>>2]=0,e[C+4>>2]=u,se=e[$>>2]|0,e[C+8>>2]=se,e[S>>2]=e[u>>2],e[S+4>>2]=u,e[S+8>>2]=se,e[d>>2]=di,e[f>>2]=e[C>>2],e[f+4>>2]=e[C+4>>2],e[f+8>>2]=e[C+8>>2],e[l>>2]=e[S>>2],e[l+4>>2]=e[S+4>>2],e[l+8>>2]=e[S+8>>2],se=wm(g,f,l,d,s)|0,cm(g),!se){Lt=0;break e}break}case 3:{if(gm(g,ti),e[D>>2]=0,e[D+4>>2]=u,se=e[$>>2]|0,e[D+8>>2]=se,e[I>>2]=e[u>>2],e[I+4>>2]=u,e[I+8>>2]=se,e[d>>2]=di,e[f>>2]=e[D>>2],e[f+4>>2]=e[D+4>>2],e[f+8>>2]=e[D+8>>2],e[l>>2]=e[I>>2],e[l+4>>2]=e[I+4>>2],e[l+8>>2]=e[I+8>>2],se=es(g,f,l,d,s)|0,ym(g),!se){Lt=0;break e}break}case 2:{if(gm(g,ti),e[L>>2]=0,e[L+4>>2]=u,se=e[$>>2]|0,e[L+8>>2]=se,e[P>>2]=e[u>>2],e[P+4>>2]=u,e[P+8>>2]=se,e[d>>2]=di,e[f>>2]=e[L>>2],e[f+4>>2]=e[L+4>>2],e[f+8>>2]=e[L+8>>2],e[l>>2]=e[P>>2],e[l+4>>2]=e[P+4>>2],e[l+8>>2]=e[P+8>>2],se=es(g,f,l,d,s)|0,ym(g),!se){Lt=0;break e}break}case 1:{if(xy(g,ti),e[N>>2]=0,e[N+4>>2]=u,se=e[$>>2]|0,e[N+8>>2]=se,e[X>>2]=e[u>>2],e[X+4>>2]=u,e[X+8>>2]=se,e[d>>2]=di,e[f>>2]=e[N>>2],e[f+4>>2]=e[N+4>>2],e[f+8>>2]=e[N+8>>2],e[l>>2]=e[X>>2],e[l+4>>2]=e[X+4>>2],e[l+8>>2]=e[X+8>>2],se=My(g,f,l,d,s)|0,Ey(g),!se){Lt=0;break e}break}case 0:{if(xy(g,ti),e[j>>2]=0,e[j+4>>2]=u,se=e[$>>2]|0,e[j+8>>2]=se,e[Q>>2]=e[u>>2],e[Q+4>>2]=u,e[Q+8>>2]=se,e[d>>2]=di,e[f>>2]=e[j>>2],e[f+4>>2]=e[j+4>>2],e[f+8>>2]=e[j+8>>2],e[l>>2]=e[Q>>2],e[l+4>>2]=e[Q+4>>2],e[l+8>>2]=e[Q+8>>2],se=My(g,f,l,d,s)|0,Ey(g),!se){Lt=0;break e}break}default:{Lt=0;break e}}Lt=1}while(0);return g=e[u+12>>2]|0,g?(u=e[ue>>2]|0,(u|0)!=(g|0)&&(e[ue>>2]=u+(~((u+-4-g|0)>>>2)<<2)),Ae(g),q=o,Lt|0):(q=o,Lt|0)}function lP(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0;if(o=q,q=q+80|0,l=o+56|0,f=o+52|0,h=o+48|0,u=o+68|0,g=o,d=o+44|0,m=o+40|0,b=o+36|0,w=o+32|0,x=o+28|0,C=o+24|0,S=o+20|0,D=o+16|0,I=o+12|0,Y[s+352>>0]|0?(x_(l,e[s+8>>2]|0),N=s+12|0,P=e[l>>2]|0,e[l>>2]=0,L=e[N>>2]|0,e[N>>2]=P,L?(ff(L),Ae(L),L=e[l>>2]|0,e[l>>2]=0,L|0&&(ff(L),Ae(L))):e[l>>2]=0):(mm(l,e[s+8>>2]|0),L=s+12|0,P=e[l>>2]|0,e[l>>2]=0,N=e[L>>2]|0,e[L>>2]=P,N?(ff(N),Ae(N),N=e[l>>2]|0,e[l>>2]=0,N|0&&(ff(N),Ae(N))):e[l>>2]=0),L=s+12|0,P=e[L>>2]|0,P|0&&(((e[P+4>>2]|0)-(e[P>>2]|0)>>2>>>0)/3|0|0)!=(e[P+40>>2]|0)){if(P=s+200|0,nd(P,s)|0,N=e[L>>2]|0,X=s+4|0,p0(((e[N+28>>2]|0)-(e[N+24>>2]|0)>>2)-(e[N+44>>2]|0)|0,e[(e[X>>2]|0)+44>>2]|0)|0,N=e[L>>2]|0,p0((((e[N+4>>2]|0)-(e[N>>2]|0)>>2>>>0)/3|0)-(e[N+40>>2]|0)|0,e[(e[X>>2]|0)+44>>2]|0)|0,N=s+28|0,j=s+8|0,Q=e[j>>2]|0,V=((e[Q+100>>2]|0)-(e[Q+96>>2]|0)|0)/12|0,Y[l>>0]=0,mo(N,V,l),V=e[L>>2]|0,Q=(e[V+28>>2]|0)-(e[V+24>>2]|0)>>2,e[l>>2]=-1,pe(s+52|0,Q,l),Q=s+40|0,V=e[Q>>2]|0,G=s+44|0,ee=e[G>>2]|0,(ee|0)!=(V|0)&&(e[G>>2]=ee+(~((ee+-4-V|0)>>>2)<<2)),V=e[L>>2]|0,ee=(e[V+4>>2]|0)-(e[V>>2]|0)>>2,ol(Q,ee-((ee>>>0)%3|0)|0),ee=s+84|0,Q=e[L>>2]|0,V=(e[Q+28>>2]|0)-(e[Q+24>>2]|0)>>2,Y[l>>0]=0,mo(ee,V,l),V=s+96|0,Q=e[V>>2]|0,G=s+100|0,J=e[G>>2]|0,(J|0)!=(Q|0)&&(e[G>>2]=J+(~((J+-4-Q|0)>>>2)<<2)),e[s+164>>2]=-1,Q=s+168|0,e[Q>>2]=0,J=e[s+108>>2]|0,O=s+112|0,$=e[O>>2]|0,($|0)!=(J|0)&&(e[O>>2]=$+(~((($+-12-J|0)>>>0)/12|0)*12|0)),J=s+132|0,e[J>>2]|0){if($=s+128|0,O=e[$>>2]|0,O|0){ie=O;do O=ie,ie=e[ie>>2]|0,Ae(O);while((ie|0)!=0)}if(e[$>>2]=0,$=e[s+124>>2]|0,$|0){ie=s+120|0,O=0;do e[(e[ie>>2]|0)+(O<<2)>>2]=0,O=O+1|0;while((O|0)!=($|0))}e[J>>2]=0}if(e[s+144>>2]=0,J=e[L>>2]|0,$=(e[J+28>>2]|0)-(e[J+24>>2]|0)>>2,e[l>>2]=-1,pe(s+152|0,$,l),$=s+72|0,J=e[$>>2]|0,O=s+76|0,ie=e[O>>2]|0,(ie|0)!=(J|0)&&(e[O>>2]=ie+(~((ie+-4-J|0)>>>2)<<2)),J=e[L>>2]|0,ol($,((e[J+4>>2]|0)-(e[J>>2]|0)>>2>>>0)/3|0),e[s+64>>2]=0,!(yy(s)|0)){J=It(32)|0,e[l>>2]=J,e[l+8>>2]=-2147483616,e[l+4>>2]=29,se=J,ue=13227,Ee=se+29|0;do Y[se>>0]=Y[ue>>0]|0,se=se+1|0,ue=ue+1|0;while((se|0)<(Ee|0));Y[J+29>>0]=0,e[i>>2]=-1,T0(i+4|0,l),(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0),q=o;return}if(!(UI(s)|0)){J=It(48)|0,e[l>>2]=J,e[l+8>>2]=-2147483600,e[l+4>>2]=36,se=J,ue=13257,Ee=se+36|0;do Y[se>>0]=Y[ue>>0]|0,se=se+1|0,ue=ue+1|0;while((se|0)<(Ee|0));Y[J+36>>0]=0,e[i>>2]=-1,T0(i+4|0,l),(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0),q=o;return}J=s+172|0,ie=s+176|0,Pe=(((e[ie>>2]|0)-(e[J>>2]|0)|0)/136|0)&255,Y[u>>0]=Pe,ge=e[(e[X>>2]|0)+44>>2]|0,Be=ge+16|0,_e=e[Be+4>>2]|0,(_e|0)>0|(_e|0)==0&(e[Be>>2]|0)>>>0>0?Ce=Pe:(e[f>>2]=e[ge+4>>2],e[l>>2]=e[f>>2],wi(ge,l,u,u+1|0)|0,Ce=Y[u>>0]|0),e[s+284>>2]=Ce&255,Ce=e[L>>2]|0,u=(e[Ce+4>>2]|0)-(e[Ce>>2]|0)|0,Ce=u>>2,j_(P),e[g>>2]=0,ge=g+4|0,e[ge>>2]=0,e[g+8>>2]=0;e:do if((u|0)>0){Pe=s+104|0,Be=g+8|0,_e=0;t:for(;;){if(We=(_e>>>0)/3|0,lt=We>>>5,et=1<<(We&31),(e[(e[N>>2]|0)+(lt<<2)>>2]&et|0)==0&&(Ve=e[L>>2]|0,e[d>>2]=We,e[l>>2]=e[d>>2],!(Hy(Ve,l)|0))){e[f>>2]=0,e[m>>2]=We,e[l>>2]=e[m>>2],We=an(s,l,f)|0,Wn(P,We),Ve=e[f>>2]|0,He=(Ve|0)==-1;do if(We){do if(He)st=-1,Je=-1,it=-1;else{if(ze=e[e[L>>2]>>2]|0,Ge=e[ze+(Ve<<2)>>2]|0,ke=Ve+1|0,ut=((ke>>>0)%3|0|0)==0?Ve+-2|0:ke,(ut|0)==-1?tt=-1:tt=e[ze+(ut<<2)>>2]|0,ut=(((Ve>>>0)%3|0|0)==0?2:-1)+Ve|0,(ut|0)==-1){st=-1,Je=tt,it=Ge;break}st=e[ze+(ut<<2)>>2]|0,Je=tt,it=Ge}while(0);if(Ge=e[ee>>2]|0,ut=Ge+(it>>>5<<2)|0,e[ut>>2]=e[ut>>2]|1<<(it&31),ut=Ge+(Je>>>5<<2)|0,e[ut>>2]=e[ut>>2]|1<<(Je&31),ut=Ge+(st>>>5<<2)|0,e[ut>>2]=e[ut>>2]|1<<(st&31),e[l>>2]=1,ut=e[G>>2]|0,ut>>>0<(e[Pe>>2]|0)>>>0?(e[ut>>2]=1,e[G>>2]=ut+4):pi(V,l),ut=(e[N>>2]|0)+(lt<<2)|0,e[ut>>2]=e[ut>>2]|et,ut=Ve+1|0,He?at=-1:at=((ut>>>0)%3|0|0)==0?Ve+-2|0:ut,e[l>>2]=at,Ge=e[ge>>2]|0,Ge>>>0<(e[Be>>2]|0)>>>0?(e[Ge>>2]=at,e[ge>>2]=Ge+4):pi(g,l),He||(Ge=((ut>>>0)%3|0|0)==0?Ve+-2|0:ut,(Ge|0)==-1)||(ut=e[(e[(e[L>>2]|0)+12>>2]|0)+(Ge<<2)>>2]|0,Ge=(ut|0)==-1,ze=Ge?-1:(ut>>>0)/3|0,Ge)||e[(e[N>>2]|0)+(ze>>>5<<2)>>2]&1<<(ze&31)|0)break;if(e[b>>2]=ut,e[l>>2]=e[b>>2],!(nk(s,l)|0)){Mt=65;break t}}else if(ut=Ve+1|0,He?Pt=-1:Pt=((ut>>>0)%3|0|0)==0?Ve+-2|0:ut,e[w>>2]=Pt,e[l>>2]=e[w>>2],ad(s,l,1)|0,e[x>>2]=e[f>>2],e[l>>2]=e[x>>2],!(nk(s,l)|0)){Mt=71;break t}while(0)}if(_e=_e+1|0,(_e|0)>=(Ce|0)){Mt=77;break e}}if((Mt|0)==65){e[l>>2]=0,e[l+4>>2]=0,e[l+8>>2]=0,_e=It(48)|0,e[l>>2]=_e,e[l+8>>2]=-2147483600,e[l+4>>2]=32,se=_e,ue=13294,Ee=se+32|0;do Y[se>>0]=Y[ue>>0]|0,se=se+1|0,ue=ue+1|0;while((se|0)<(Ee|0));Y[_e+32>>0]=0,e[i>>2]=-1,T0(i+4|0,l),(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0)}else if((Mt|0)==71){e[l>>2]=0,e[l+4>>2]=0,e[l+8>>2]=0,Be=It(48)|0,e[l>>2]=Be,e[l+8>>2]=-2147483600,e[l+4>>2]=32,se=Be,ue=13294,Ee=se+32|0;do Y[se>>0]=Y[ue>>0]|0,se=se+1|0,ue=ue+1|0;while((se|0)<(Ee|0));Y[Be+32>>0]=0,e[i>>2]=-1,T0(i+4|0,l),(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0)}}else Mt=77;while(0);do if((Mt|0)==77){if(Ce=e[$>>2]|0,x=e[O>>2]|0,w=x,(Ce|0)!=(x|0)&&(Pt=x+-4|0,Ce>>>0<Pt>>>0)){x=Ce,Ce=Pt;do Pt=e[x>>2]|0,e[x>>2]=e[Ce>>2],e[Ce>>2]=Pt,x=x+4|0,Ce=Ce+-4|0;while(x>>>0<Ce>>>0)}if(e[C>>2]=w,e[S>>2]=e[g>>2],e[D>>2]=e[ge>>2],e[h>>2]=e[C>>2],e[f>>2]=e[S>>2],e[l>>2]=e[D>>2],Bc($,h,f,l)|0,(e[ie>>2]|0)!=(e[J>>2]|0)&&(Ce=e[j>>2]|0,x=((e[Ce+100>>2]|0)-(e[Ce+96>>2]|0)|0)/12|0,Y[l>>0]=0,mo(N,x,l),x=e[$>>2]|0,Ce=e[O>>2]|0,(x|0)!=(Ce|0))){Be=x;do e[I>>2]=e[Be>>2],e[l>>2]=e[I>>2],Ou(s,l)|0,Be=Be+4|0;while((Be|0)!=(Ce|0))}if(bL(P),p0(e[s+324>>2]|0,e[(e[X>>2]|0)+44>>2]|0)|0,p0(e[Q>>2]|0,e[(e[X>>2]|0)+44>>2]|0)|0,A_(s)|0){Ce=e[(e[X>>2]|0)+44>>2]|0,Be=e[s+232>>2]|0,w=Ce+16|0,x=e[w+4>>2]|0,(x|0)>0|(x|0)==0&(e[w>>2]|0)>>>0>0||(w=(e[s+236>>2]|0)-Be|0,e[f>>2]=e[Ce+4>>2],e[l>>2]=e[f>>2],wi(Ce,l,Be,Be+w|0)|0),e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0;break}else{e[l>>2]=0,e[l+4>>2]=0,e[l+8>>2]=0,w=It(32)|0,e[l>>2]=w,e[l+8>>2]=-2147483616,e[l+4>>2]=28,se=w,ue=13327,Ee=se+28|0;do Y[se>>0]=Y[ue>>0]|0,se=se+1|0,ue=ue+1|0;while((se|0)<(Ee|0));Y[w+28>>0]=0,e[i>>2]=-1,T0(i+4|0,l),(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0);break}}while(0);f=e[g>>2]|0,f|0&&(g=e[ge>>2]|0,(g|0)!=(f|0)&&(e[ge>>2]=g+(~((g+-4-f|0)>>>2)<<2)),Ae(f)),q=o;return}f=It(32)|0,e[l>>2]=f,e[l+8>>2]=-2147483616,e[l+4>>2]=29,se=f,ue=13197,Ee=se+29|0;do Y[se>>0]=Y[ue>>0]|0,se=se+1|0,ue=ue+1|0;while((se|0)<(Ee|0));Y[f+29>>0]=0,e[i>>2]=-1,T0(i+4|0,l),(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0),q=o}function fP(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0,Wt=0,cr=0,mr=0,Gr=0,dr=0,Er=0,nr=0,Mr=0,Nr=0,ar=0,gr=0,or=0,tr=0,jr=0,Xr=0,Qr=0,Hr=0,Ir=0,Ar=0,kr=0,Dr=0,ti=0,fi=0,Br=0,di=0;l=q,q=q+32|0,f=l,h=i+8|0,u=e[h>>2]|0,e[f>>2]=0,g=f+4|0,e[g>>2]=0,e[f+8>>2]=0;do if(u)if(u>>>0>1073741823)qe();else{d=u<<2,m=It(d)|0,e[f>>2]=m,b=m+(u<<2)|0,e[f+8>>2]=b,Tr(m|0,0,d|0)|0,e[g>>2]=b,w=b,x=m;break}else w=0,x=0;while(0);m=i+1164|0,b=e[m>>2]|0,d=e[b>>2]|0,C=b+4|0,d?(u=e[C>>2]|0,(u|0)!=(d|0)&&(e[C>>2]=u+(~((u+-4-d|0)>>>2)<<2)),Ae(d),d=b+8|0,e[d>>2]=0,e[C>>2]=0,e[b>>2]=0,S=d,D=e[f>>2]|0,I=e[g>>2]|0,L=e[h>>2]|0):(S=b+8|0,D=x,I=w,L=u),e[b>>2]=D,e[C>>2]=I,e[S>>2]=e[f+8>>2],e[f>>2]=0,S=f+4|0,e[S>>2]=0,e[f+8>>2]=0;do if(L)if(L>>>0>1073741823)qe();else{I=L<<2,C=It(I)|0,e[f>>2]=C,D=C+(L<<2)|0,e[f+8>>2]=D,Tr(C|0,0,I|0)|0,e[S>>2]=D,P=D,N=C;break}else P=0,N=0;while(0);if(L=i+1176|0,C=e[L>>2]|0,D=e[C>>2]|0,I=C+4|0,D?(P=e[I>>2]|0,(P|0)!=(D|0)&&(e[I>>2]=P+(~((P+-4-D|0)>>>2)<<2)),Ae(D),D=C+8|0,e[D>>2]=0,e[I>>2]=0,e[C>>2]=0,X=D,j=e[f>>2]|0,Q=e[S>>2]|0):(X=C+8|0,j=N,Q=P),e[C>>2]=j,e[I>>2]=Q,e[X>>2]=e[f+8>>2],X=e[s>>2]|0,Q=s+4|0,I=e[Q>>2]|0,j=e[Q+4>>2]|0,Q=e[o>>2]|0,C=o+4|0,S=e[C>>2]|0,D=e[C+4>>2]|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[f+16>>2]=0,e[f+20>>2]=0,C=f+8|0,P=f+4|0,N=f+16|0,b=f+20|0,g=I,Cs(f),d=e[P>>2]|0,u=(e[b>>2]|0)+(e[N>>2]|0)|0,(e[C>>2]|0)==(d|0)?V=0:V=(e[d+(((u>>>0)/113|0)<<2)>>2]|0)+(((u>>>0)%113|0)*36|0)|0,e[V>>2]=X,u=V+4|0,e[u>>2]=I,e[u+4>>2]=j,e[V+12>>2]=Q,u=V+16|0,e[u>>2]=S,e[u+4>>2]=D,e[V+24>>2]=0,e[V+28>>2]=Q-X,e[V+32>>2]=0,V=(e[b>>2]|0)+1|0,e[b>>2]=V,V|0)for(X=i+1152|0,Q=i+1084|0,u=i+1080|0,d=i+1072|0,w=i+1076|0,x=i+1068|0,G=s+8|0,ee=o+8|0,J=i+1124|0,O=i+1120|0,$=i+1112|0,ie=i+1116|0,se=i+1108|0,ue=g+4|0,Ee=g+24|0,Pe=g+24|0,ge=S+24|0,Be=V;;){V=e[N>>2]|0,_e=Be+-1|0,Ce=_e+V|0,We=e[P>>2]|0,lt=e[We+(((Ce>>>0)/113|0)<<2)>>2]|0,et=(Ce>>>0)%113|0,Ce=e[lt+(et*36|0)>>2]|0,Ve=e[lt+(et*36|0)+12>>2]|0,He=e[lt+(et*36|0)+24>>2]|0,st=e[lt+(et*36|0)+32>>2]|0,e[b>>2]=_e,_e=e[C>>2]|0,et=_e-We>>2,(1-Be-V+((et|0)==0?0:(et*113|0)+-1|0)|0)>>>0>225&&(Ae(e[_e+-4>>2]|0),e[C>>2]=(e[C>>2]|0)+-4),e[s>>2]=Ce,e[o>>2]=Ve,_e=e[m>>2]|0,et=((e[h>>2]|0)+-1|0)==(He|0)?0:He+1|0,He=(e[L>>2]|0)+(st*12|0)|0,V=Ve-Ce|0,We=(e[i>>2]|0)-(e[(e[He>>2]|0)+(et<<2)>>2]|0)|0;e:do if(We){if(V>>>0<3){if(lt=e[X>>2]|0,e[lt>>2]=et,Je=e[h>>2]|0,Je>>>0>1)for(it=1,ze=Je,Ge=et;;)if(Ge=(Ge|0)==(ze+-1|0)?0:Ge+1|0,e[lt+(it<<2)>>2]=Ge,it=it+1|0,ke=e[h>>2]|0,it>>>0>=ke>>>0){ut=ke;break}else ze=ke;else ut=Je;if(V)at=0,Mt=ut;else{tt=85;break}for(;;){if(ze=(e[Ee>>2]|0)+((_r(e[ue>>2]|0,Ce+at|0)|0)<<2)|0,!Mt)Pt=0;else{it=0;do{Ge=e[(e[X>>2]|0)+(it<<2)>>2]|0,lt=(e[i>>2]|0)-(e[(e[He>>2]|0)+(Ge<<2)>>2]|0)|0;do if(lt|0){if(ke=e[Q>>2]|0,yt=32-ke|0,Vt=32-lt|0,Lt=e[ze+(Ge<<2)>>2]<<Vt,(lt|0)>(yt|0)){At=Lt>>>Vt,Vt=lt-yt|0,e[Q>>2]=Vt,yt=e[u>>2]|At>>>Vt,e[u>>2]=yt,Vt=e[d>>2]|0,(Vt|0)==(e[w>>2]|0)?pi(x,u):(e[Vt>>2]=yt,e[d>>2]=Vt+4),e[u>>2]=At<<32-(e[Q>>2]|0);break}if(At=e[u>>2]|Lt>>>ke,e[u>>2]=At,Lt=ke+lt|0,e[Q>>2]=Lt,(Lt|0)!=32)break;Lt=e[d>>2]|0,(Lt|0)==(e[w>>2]|0)?pi(x,u):(e[Lt>>2]=At,e[d>>2]=Lt+4),e[u>>2]=0,e[Q>>2]=0}while(0);it=it+1|0,lt=e[h>>2]|0}while(it>>>0<lt>>>0);Pt=lt}if(at=at+1|0,at>>>0>=V>>>0){tt=85;break e}else Mt=Pt}}Je=st+1|0,rs(_e+(Je*12|0)|0,e[_e+(st*12|0)>>2]|0,e[_e+(st*12|0)+4>>2]|0),it=(e[(e[m>>2]|0)+(Je*12|0)>>2]|0)+(et<<2)|0,ze=(e[it>>2]|0)+(1<<We+-1)|0,e[it>>2]=ze,it=e[G>>2]|0,lt=e[ee>>2]|0;t:do if((Ve|0)==(Ce|0))_t=Ce;else{if(Ge=e[Pe>>2]|0,it)Wt=Ve,cr=Ce;else{if((e[Ge+(et<<2)>>2]|0)>>>0<ze>>>0){_t=Ve;break}else St=Ve,fr=Ce;for(;;){Lt=St;do{if(Lt=Lt+-1|0,(fr|0)==(Lt|0)){_t=fr;break t}At=(e[ge>>2]|0)+((_r(Lt,lt)|0)<<2)+(et<<2)|0}while((e[At>>2]|0)>>>0>=ze>>>0);if(fr=fr+1|0,(fr|0)==(Lt|0)){_t=Lt;break t}else St=Lt}}for(;;){for(At=cr;;){if(mr=Ge+((_r(At,it)|0)<<2)|0,(e[mr+(et<<2)>>2]|0)>>>0>=ze>>>0){Gr=Wt;break}if(ke=At+1|0,(ke|0)==(Wt|0)){_t=Wt;break t}else At=ke}for(;;){if(Gr=Gr+-1|0,(At|0)==(Gr|0)){_t=At;break t}if(dr=(e[ge>>2]|0)+((_r(Gr,lt)|0)<<2)|0,(e[dr+(et<<2)>>2]|0)>>>0<ze>>>0){Er=0;break}}do Lt=mr+(Er<<2)|0,ke=dr+(Er<<2)|0,Vt=e[Lt>>2]|0,e[Lt>>2]=e[ke>>2],e[ke>>2]=Vt,Er=Er+1|0;while((Er|0)!=(it|0));if(cr=At+1|0,(cr|0)==(Gr|0)){_t=Gr;break}else Wt=Gr}}while(0);if(ze=(S0(V|0)|0)^31,lt=_t-Ce|0,Ge=Ve-_t|0,Vt=lt>>>0<Ge>>>0,(lt|0)!=(Ge|0)&&(ke=e[J>>2]|0,Vt&&(e[O>>2]=e[O>>2]|1<<31-ke),Lt=ke+1|0,e[J>>2]=Lt,(Lt|0)==32&&(Lt=e[$>>2]|0,(Lt|0)==(e[ie>>2]|0)?pi(se,O):(e[Lt>>2]=e[O>>2],e[$>>2]=Lt+4),e[J>>2]=0,e[O>>2]=0)),Lt=V>>>1,Vt){if(Vt=Lt-lt|0,ze|0)for(ke=0,yt=1<<ze+-1;Wn(i+12+(ke<<5)|0,(yt&Vt|0)!=0),ke=ke+1|0,(ke|0)!=(ze|0);)yt=yt>>>1}else if(yt=Lt-Ge|0,ze|0)for(ke=0,Vt=1<<ze+-1;Wn(i+12+(ke<<5)|0,(Vt&yt|0)!=0),ke=ke+1|0,(ke|0)!=(ze|0);)Vt=Vt>>>1;Vt=e[L>>2]|0,ze=e[Vt+(st*12|0)>>2]|0,ke=ze+(et<<2)|0,e[ke>>2]=(e[ke>>2]|0)+1,rs(Vt+(Je*12|0)|0,ze,e[Vt+(st*12|0)+4>>2]|0),(_t|0)!=(Ce|0)&&(Vt=e[C>>2]|0,ze=e[P>>2]|0,ke=Vt-ze>>2,yt=e[N>>2]|0,Lt=e[b>>2]|0,(((ke|0)==0?0:(ke*113|0)+-1|0)|0)==(Lt+yt|0)?(Cs(f),nr=e[N>>2]|0,Mr=e[b>>2]|0,Nr=e[C>>2]|0,ar=e[P>>2]|0):(nr=yt,Mr=Lt,Nr=Vt,ar=ze),ze=Mr+nr|0,(Nr|0)==(ar|0)?gr=0:gr=(e[ar+(((ze>>>0)/113|0)<<2)>>2]|0)+(((ze>>>0)%113|0)*36|0)|0,e[gr>>2]=Ce,ze=gr+4|0,e[ze>>2]=I,e[ze+4>>2]=j,e[gr+12>>2]=_t,e[gr+16>>2]=g,e[gr+20>>2]=it,e[gr+24>>2]=et,e[gr+28>>2]=lt,e[gr+32>>2]=st,e[b>>2]=(e[b>>2]|0)+1),(Ve|0)!=(_t|0)?(ze=e[C>>2]|0,Vt=e[P>>2]|0,Lt=ze-Vt>>2,yt=e[N>>2]|0,ke=e[b>>2]|0,(((Lt|0)==0?0:(Lt*113|0)+-1|0)|0)==(ke+yt|0)?(Cs(f),or=e[N>>2]|0,tr=e[b>>2]|0,jr=e[C>>2]|0,Xr=e[P>>2]|0):(or=yt,tr=ke,jr=ze,Xr=Vt),Vt=tr+or|0,(jr|0)==(Xr|0)?Qr=0:Qr=(e[Xr+(((Vt>>>0)/113|0)<<2)>>2]|0)+(((Vt>>>0)%113|0)*36|0)|0,e[Qr>>2]=_t,e[Qr+4>>2]=g,e[Qr+8>>2]=it,e[Qr+12>>2]=Ve,Vt=Qr+16|0,e[Vt>>2]=S,e[Vt+4>>2]=D,e[Qr+24>>2]=et,e[Qr+28>>2]=Ge,e[Qr+32>>2]=Je,Vt=(e[b>>2]|0)+1|0,e[b>>2]=Vt,Hr=Vt):tt=85}else tt=85;while(0);if((tt|0)==85&&(tt=0,Hr=e[b>>2]|0),Hr)Be=Hr;else break}Hr=e[P>>2]|0,Be=e[N>>2]|0,Qr=Hr+(((Be>>>0)/113|0)<<2)|0,D=e[C>>2]|0,S=D,g=Hr,(D|0)==(Hr|0)?(Ir=0,Ar=0):(_t=(e[Qr>>2]|0)+(((Be>>>0)%113|0)*36|0)|0,Ir=_t,Ar=_t),_t=Qr,Qr=Ar;e:for(;;){Ar=Qr;do{if(Be=Ar,(Ir|0)==(Be|0))break e;Ar=Be+36|0}while((Ar-(e[_t>>2]|0)|0)!=4068);Ar=_t+4|0,_t=Ar,Qr=e[Ar>>2]|0}if(e[b>>2]=0,b=S-g>>2,b>>>0>2){g=Hr;do Ae(e[g>>2]|0),g=(e[P>>2]|0)+4|0,e[P>>2]=g,kr=e[C>>2]|0,Dr=kr-g>>2;while(Dr>>>0>2);ti=Dr,fi=g,Br=kr}else ti=b,fi=Hr,Br=D;switch(ti|0){case 1:{di=56,tt=99;break}case 2:{di=113,tt=99;break}}if((tt|0)==99&&(e[N>>2]=di),(fi|0)!=(Br|0)){di=fi;do Ae(e[di>>2]|0),di=di+4|0;while((di|0)!=(Br|0));Br=e[P>>2]|0,P=e[C>>2]|0,(P|0)!=(Br|0)&&(e[C>>2]=P+(~((P+-4-Br|0)>>>2)<<2))}if(Br=e[f>>2]|0,!Br){q=l;return}Ae(Br),q=l}function uP(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0,Wt=0,cr=0,mr=0,Gr=0,dr=0,Er=0,nr=0,Mr=0,Nr=0,ar=0,gr=0,or=0,tr=0,jr=0,Xr=0,Qr=0,Hr=0,Ir=0,Ar=0,kr=0,Dr=0,ti=0,fi=0,Br=0,di=0,ri=0;l=q,q=q+32|0,f=l,h=i+8|0,u=e[h>>2]|0,e[f>>2]=0,g=f+4|0,e[g>>2]=0,e[f+8>>2]=0;do if(u)if(u>>>0>1073741823)qe();else{d=u<<2,m=It(d)|0,e[f>>2]=m,b=m+(u<<2)|0,e[f+8>>2]=b,Tr(m|0,0,d|0)|0,e[g>>2]=b,w=b,x=m;break}else w=0,x=0;while(0);m=i+140|0,b=e[m>>2]|0,d=e[b>>2]|0,C=b+4|0,d?(u=e[C>>2]|0,(u|0)!=(d|0)&&(e[C>>2]=u+(~((u+-4-d|0)>>>2)<<2)),Ae(d),d=b+8|0,e[d>>2]=0,e[C>>2]=0,e[b>>2]=0,S=d,D=e[f>>2]|0,I=e[g>>2]|0,L=e[h>>2]|0):(S=b+8|0,D=x,I=w,L=u),e[b>>2]=D,e[C>>2]=I,e[S>>2]=e[f+8>>2],e[f>>2]=0,S=f+4|0,e[S>>2]=0,e[f+8>>2]=0;do if(L)if(L>>>0>1073741823)qe();else{I=L<<2,C=It(I)|0,e[f>>2]=C,D=C+(L<<2)|0,e[f+8>>2]=D,Tr(C|0,0,I|0)|0,e[S>>2]=D,P=D,N=C;break}else P=0,N=0;while(0);if(L=i+152|0,C=e[L>>2]|0,D=e[C>>2]|0,I=C+4|0,D?(P=e[I>>2]|0,(P|0)!=(D|0)&&(e[I>>2]=P+(~((P+-4-D|0)>>>2)<<2)),Ae(D),D=C+8|0,e[D>>2]=0,e[I>>2]=0,e[C>>2]=0,X=D,j=e[f>>2]|0,Q=e[S>>2]|0):(X=C+8|0,j=N,Q=P),e[C>>2]=j,e[I>>2]=Q,e[X>>2]=e[f+8>>2],X=e[s>>2]|0,Q=s+4|0,I=e[Q>>2]|0,j=e[Q+4>>2]|0,Q=e[o>>2]|0,C=o+4|0,S=e[C>>2]|0,D=e[C+4>>2]|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[f+16>>2]=0,e[f+20>>2]=0,C=f+8|0,P=f+4|0,N=f+16|0,b=f+20|0,g=I,Cs(f),d=e[P>>2]|0,u=(e[b>>2]|0)+(e[N>>2]|0)|0,(e[C>>2]|0)==(d|0)?V=0:V=(e[d+(((u>>>0)/113|0)<<2)>>2]|0)+(((u>>>0)%113|0)*36|0)|0,e[V>>2]=X,u=V+4|0,e[u>>2]=I,e[u+4>>2]=j,e[V+12>>2]=Q,u=V+16|0,e[u>>2]=S,e[u+4>>2]=D,e[V+24>>2]=0,e[V+28>>2]=Q-X,e[V+32>>2]=0,V=(e[b>>2]|0)+1|0,e[b>>2]=V,V|0)for(X=i+128|0,Q=i+60|0,u=i+56|0,d=i+48|0,w=i+52|0,x=i+44|0,G=s+8|0,ee=o+8|0,J=i+12|0,O=i+100|0,$=i+96|0,ie=i+88|0,se=i+92|0,ue=i+84|0,Ee=g+4|0,Pe=g+24|0,ge=g+24|0,Be=S+24|0,_e=V;;){V=e[N>>2]|0,Ce=_e+-1|0,We=Ce+V|0,lt=e[P>>2]|0,et=e[lt+(((We>>>0)/113|0)<<2)>>2]|0,Ve=(We>>>0)%113|0,We=e[et+(Ve*36|0)>>2]|0,He=e[et+(Ve*36|0)+12>>2]|0,st=e[et+(Ve*36|0)+24>>2]|0,Je=e[et+(Ve*36|0)+32>>2]|0,e[b>>2]=Ce,Ce=e[C>>2]|0,Ve=Ce-lt>>2,(1-_e-V+((Ve|0)==0?0:(Ve*113|0)+-1|0)|0)>>>0>225&&(Ae(e[Ce+-4>>2]|0),e[C>>2]=(e[C>>2]|0)+-4),e[s>>2]=We,e[o>>2]=He,Ce=e[m>>2]|0,Ve=((e[h>>2]|0)+-1|0)==(st|0)?0:st+1|0,st=(e[L>>2]|0)+(Je*12|0)|0,V=He-We|0,lt=(e[i>>2]|0)-(e[(e[st>>2]|0)+(Ve<<2)>>2]|0)|0;e:do if(lt){if(V>>>0<3){if(et=e[X>>2]|0,e[et>>2]=Ve,it=e[h>>2]|0,it>>>0>1)for(ze=1,Ge=it,ke=Ve;;)if(ke=(ke|0)==(Ge+-1|0)?0:ke+1|0,e[et+(ze<<2)>>2]=ke,ze=ze+1|0,ut=e[h>>2]|0,ze>>>0>=ut>>>0){tt=ut;break}else Ge=ut;else tt=it;if(V)Mt=0,Pt=tt;else{at=81;break}for(;;){if(Ge=(e[Pe>>2]|0)+((_r(e[Ee>>2]|0,We+Mt|0)|0)<<2)|0,!Pt)yt=0;else{ze=0;do{ke=e[(e[X>>2]|0)+(ze<<2)>>2]|0,et=(e[i>>2]|0)-(e[(e[st>>2]|0)+(ke<<2)>>2]|0)|0;do if(et|0){if(ut=e[Q>>2]|0,Vt=32-ut|0,Lt=32-et|0,At=e[Ge+(ke<<2)>>2]<<Lt,(et|0)>(Vt|0)){_t=At>>>Lt,Lt=et-Vt|0,e[Q>>2]=Lt,Vt=e[u>>2]|_t>>>Lt,e[u>>2]=Vt,Lt=e[d>>2]|0,(Lt|0)==(e[w>>2]|0)?pi(x,u):(e[Lt>>2]=Vt,e[d>>2]=Lt+4),e[u>>2]=_t<<32-(e[Q>>2]|0);break}if(_t=e[u>>2]|At>>>ut,e[u>>2]=_t,At=ut+et|0,e[Q>>2]=At,(At|0)!=32)break;At=e[d>>2]|0,(At|0)==(e[w>>2]|0)?pi(x,u):(e[At>>2]=_t,e[d>>2]=At+4),e[u>>2]=0,e[Q>>2]=0}while(0);ze=ze+1|0,et=e[h>>2]|0}while(ze>>>0<et>>>0);yt=et}if(Mt=Mt+1|0,Mt>>>0>=V>>>0){at=81;break e}else Pt=yt}}it=Je+1|0,rs(Ce+(it*12|0)|0,e[Ce+(Je*12|0)>>2]|0,e[Ce+(Je*12|0)+4>>2]|0),ze=(e[(e[m>>2]|0)+(it*12|0)>>2]|0)+(Ve<<2)|0,Ge=(e[ze>>2]|0)+(1<<lt+-1)|0,e[ze>>2]=Ge,ze=e[G>>2]|0,et=e[ee>>2]|0;t:do if((He|0)==(We|0))St=We;else{if(ke=e[ge>>2]|0,ze)cr=He,mr=We;else{if((e[ke+(Ve<<2)>>2]|0)>>>0<Ge>>>0){St=He;break}else fr=He,Wt=We;for(;;){At=fr;do{if(At=At+-1|0,(Wt|0)==(At|0)){St=Wt;break t}_t=(e[Be>>2]|0)+((_r(At,et)|0)<<2)+(Ve<<2)|0}while((e[_t>>2]|0)>>>0>=Ge>>>0);if(Wt=Wt+1|0,(Wt|0)==(At|0)){St=At;break t}else fr=At}}for(;;){for(_t=mr;;){if(Gr=ke+((_r(_t,ze)|0)<<2)|0,(e[Gr+(Ve<<2)>>2]|0)>>>0>=Ge>>>0){dr=cr;break}if(ut=_t+1|0,(ut|0)==(cr|0)){St=cr;break t}else _t=ut}for(;;){if(dr=dr+-1|0,(_t|0)==(dr|0)){St=_t;break t}if(Er=(e[Be>>2]|0)+((_r(dr,et)|0)<<2)|0,(e[Er+(Ve<<2)>>2]|0)>>>0<Ge>>>0){nr=0;break}}do At=Gr+(nr<<2)|0,ut=Er+(nr<<2)|0,Lt=e[At>>2]|0,e[At>>2]=e[ut>>2],e[ut>>2]=Lt,nr=nr+1|0;while((nr|0)!=(ze|0));if(mr=_t+1|0,(mr|0)==(dr|0)){St=dr;break}else cr=dr}}while(0);Ge=(S0(V|0)|0)^31,et=St-We|0,ke=He-St|0,Lt=et>>>0<ke>>>0,(et|0)!=(ke|0)&&(ut=e[O>>2]|0,Lt&&(e[$>>2]=e[$>>2]|1<<31-ut),At=ut+1|0,e[O>>2]=At,(At|0)==32&&(At=e[ie>>2]|0,(At|0)==(e[se>>2]|0)?pi(ue,$):(e[At>>2]=e[$>>2],e[ie>>2]=At+4),e[O>>2]=0,e[$>>2]=0)),At=V>>>1,Lt?ci(J,Ge,At-et|0):ci(J,Ge,At-ke|0),At=e[L>>2]|0,Ge=e[At+(Je*12|0)>>2]|0,Lt=Ge+(Ve<<2)|0,e[Lt>>2]=(e[Lt>>2]|0)+1,rs(At+(it*12|0)|0,Ge,e[At+(Je*12|0)+4>>2]|0),(St|0)!=(We|0)&&(At=e[C>>2]|0,Ge=e[P>>2]|0,Lt=At-Ge>>2,ut=e[N>>2]|0,Vt=e[b>>2]|0,(((Lt|0)==0?0:(Lt*113|0)+-1|0)|0)==(Vt+ut|0)?(Cs(f),Mr=e[N>>2]|0,Nr=e[b>>2]|0,ar=e[C>>2]|0,gr=e[P>>2]|0):(Mr=ut,Nr=Vt,ar=At,gr=Ge),Ge=Nr+Mr|0,(ar|0)==(gr|0)?or=0:or=(e[gr+(((Ge>>>0)/113|0)<<2)>>2]|0)+(((Ge>>>0)%113|0)*36|0)|0,e[or>>2]=We,Ge=or+4|0,e[Ge>>2]=I,e[Ge+4>>2]=j,e[or+12>>2]=St,e[or+16>>2]=g,e[or+20>>2]=ze,e[or+24>>2]=Ve,e[or+28>>2]=et,e[or+32>>2]=Je,e[b>>2]=(e[b>>2]|0)+1),(He|0)!=(St|0)?(et=e[C>>2]|0,Ge=e[P>>2]|0,At=et-Ge>>2,Vt=e[N>>2]|0,ut=e[b>>2]|0,(((At|0)==0?0:(At*113|0)+-1|0)|0)==(ut+Vt|0)?(Cs(f),tr=e[N>>2]|0,jr=e[b>>2]|0,Xr=e[C>>2]|0,Qr=e[P>>2]|0):(tr=Vt,jr=ut,Xr=et,Qr=Ge),Ge=jr+tr|0,(Xr|0)==(Qr|0)?Hr=0:Hr=(e[Qr+(((Ge>>>0)/113|0)<<2)>>2]|0)+(((Ge>>>0)%113|0)*36|0)|0,e[Hr>>2]=St,e[Hr+4>>2]=g,e[Hr+8>>2]=ze,e[Hr+12>>2]=He,Ge=Hr+16|0,e[Ge>>2]=S,e[Ge+4>>2]=D,e[Hr+24>>2]=Ve,e[Hr+28>>2]=ke,e[Hr+32>>2]=it,ke=(e[b>>2]|0)+1|0,e[b>>2]=ke,Ir=ke):at=81}else at=81;while(0);if((at|0)==81&&(at=0,Ir=e[b>>2]|0),Ir)_e=Ir;else break}Ir=e[P>>2]|0,_e=e[N>>2]|0,Hr=Ir+(((_e>>>0)/113|0)<<2)|0,D=e[C>>2]|0,S=D,g=Ir,(D|0)==(Ir|0)?(Ar=0,kr=0):(St=(e[Hr>>2]|0)+(((_e>>>0)%113|0)*36|0)|0,Ar=St,kr=St),St=Hr,Hr=kr;e:for(;;){kr=Hr;do{if(_e=kr,(Ar|0)==(_e|0))break e;kr=_e+36|0}while((kr-(e[St>>2]|0)|0)!=4068);kr=St+4|0,St=kr,Hr=e[kr>>2]|0}if(e[b>>2]=0,b=S-g>>2,b>>>0>2){g=Ir;do Ae(e[g>>2]|0),g=(e[P>>2]|0)+4|0,e[P>>2]=g,Dr=e[C>>2]|0,ti=Dr-g>>2;while(ti>>>0>2);fi=ti,Br=g,di=Dr}else fi=b,Br=Ir,di=D;switch(fi|0){case 1:{ri=56,at=95;break}case 2:{ri=113,at=95;break}}if((at|0)==95&&(e[N>>2]=ri),(Br|0)!=(di|0)){ri=Br;do Ae(e[ri>>2]|0),ri=ri+4|0;while((ri|0)!=(di|0));di=e[P>>2]|0,P=e[C>>2]|0,(P|0)!=(di|0)&&(e[C>>2]=P+(~((P+-4-di|0)>>>2)<<2))}if(di=e[f>>2]|0,!di){q=l;return}Ae(di),q=l}function cP(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0,Wt=0,cr=0,mr=0,Gr=0,dr=0,Er=0,nr=0,Mr=0,Nr=0,ar=0,gr=0,or=0,tr=0,jr=0,Xr=0,Qr=0,Hr=0,Ir=0,Ar=0,kr=0,Dr=0,ti=0,fi=0,Br=0,di=0,ri=0,Xi=0,nn=0,mn=0,R0=0,gn=0,Qn=0,Hn=0,xn=0,Ii=0,zi=0,Di=0,Qi=0,Bi=0,tn=0,Ui=0,sn=0,Wi=0,Mi=0,Vi=0,Si=0,Yi=0,cn=0,Un=0,h0=0,D0=0,o0=0,Ts=0,J0=0,as=0,_0=0,Bn=0,H0=0,In=0,vn=0,X0=0;u=q,q=q+512|0,g=u,d=l+o|0,m=0-d|0,b=i+4|0,w=i+100|0,x=s,s=0;e:for(;;){switch(x|0){case 46:{C=6;break e}case 48:break;default:{S=0,D=x,I=s,L=0,P=0;break e}}if(N=e[b>>2]|0,N>>>0<(e[w>>2]|0)>>>0){e[b>>2]=N+1,x=br[N>>0]|0,s=1;continue}else{x=io(i)|0,s=1;continue}}if((C|0)==6)if(x=e[b>>2]|0,x>>>0<(e[w>>2]|0)>>>0?(e[b>>2]=x+1,X=br[x>>0]|0):X=io(i)|0,(X|0)==48)for(x=0,N=0;;)if(j=Qt(x|0,N|0,-1,-1)|0,Q=Ze,V=e[b>>2]|0,V>>>0<(e[w>>2]|0)>>>0?(e[b>>2]=V+1,G=br[V>>0]|0):G=io(i)|0,(G|0)==48)x=j,N=Q;else{S=1,D=G,I=1,L=j,P=Q;break}else S=1,D=X,I=s,L=0,P=0;e[g>>2]=0,s=D+-48|0,X=(D|0)==46;e:do if(X|s>>>0<10){G=g+496|0,N=0,x=0,Q=0,j=S,V=I,ee=D,J=X,O=s,$=L,ie=P,se=0,ue=0;t:for(;;){do if(J)if(!j)Ee=N,Pe=x,ge=1,Be=Q,_e=V,Ce=se,We=ue,lt=se,et=ue;else break t;else{if(Ve=Qt(se|0,ue|0,1,0)|0,He=Ze,st=(ee|0)!=48,(x|0)>=125){if(!st){Ee=N,Pe=x,ge=j,Be=Q,_e=V,Ce=$,We=ie,lt=Ve,et=He;break}e[G>>2]=e[G>>2]|1,Ee=N,Pe=x,ge=j,Be=Q,_e=V,Ce=$,We=ie,lt=Ve,et=He;break}Je=g+(x<<2)|0,N?it=ee+-48+((e[Je>>2]|0)*10|0)|0:it=O,e[Je>>2]=it,Je=N+1|0,ze=(Je|0)==9,Ee=ze?0:Je,Pe=x+(ze&1)|0,ge=j,Be=st?Ve:Q,_e=1,Ce=$,We=ie,lt=Ve,et=He}while(0);if(He=e[b>>2]|0,He>>>0<(e[w>>2]|0)>>>0?(e[b>>2]=He+1,Ge=br[He>>0]|0):Ge=io(i)|0,O=Ge+-48|0,J=(Ge|0)==46,J|O>>>0<10)N=Ee,x=Pe,Q=Be,j=ge,V=_e,ee=Ge,$=Ce,ie=We,se=lt,ue=et;else{ke=Ee,ut=Pe,tt=Be,at=ge,Mt=Ge,Pt=_e,yt=lt,Vt=Ce,Lt=et,At=We,C=29;break e}}_t=N,St=x,fr=Q,Wt=se,cr=ue,mr=$,Gr=ie,dr=(V|0)!=0,C=37}else ke=0,ut=0,tt=0,at=S,Mt=D,Pt=I,yt=0,Vt=L,Lt=0,At=P,C=29;while(0);do if((C|0)==29){if(P=(at|0)==0,L=P?yt:Vt,I=P?Lt:At,P=(Pt|0)!=0,!(P&(Mt|32|0)==101))if((Mt|0)>-1){_t=ke,St=ut,fr=tt,Wt=yt,cr=Lt,mr=L,Gr=I,dr=P,C=37;break}else{Er=ke,nr=ut,Mr=tt,Nr=yt,ar=Lt,gr=P,or=L,tr=I,C=39;break}if(P=ld(i,h)|0,D=Ze,(P|0)==0&(D|0)==-2147483648){if(!h){md(i,0),jr=0;break}e[w>>2]|0?(e[b>>2]=(e[b>>2]|0)+-1,Xr=0,Qr=0):(Xr=0,Qr=0)}else Xr=P,Qr=D;D=Qt(Xr|0,Qr|0,L|0,I|0)|0,Hr=ke,Ir=ut,Ar=tt,kr=D,Dr=yt,ti=Ze,fi=Lt,C=41}while(0);(C|0)==37&&(e[w>>2]|0?(e[b>>2]=(e[b>>2]|0)+-1,dr?(Hr=_t,Ir=St,Ar=fr,kr=mr,Dr=Wt,ti=Gr,fi=cr,C=41):C=40):(Er=_t,nr=St,Mr=fr,Nr=Wt,ar=cr,gr=dr,or=mr,tr=Gr,C=39)),(C|0)==39&&(gr?(Hr=Er,Ir=nr,Ar=Mr,kr=or,Dr=Nr,ti=tr,fi=ar,C=41):C=40);do if((C|0)==40)ar=ca()|0,e[ar>>2]=22,md(i,0),jr=0;else if((C|0)==41){if(ar=e[g>>2]|0,!ar){jr=+(f|0)*0;break}if(((fi|0)<0|(fi|0)==0&Dr>>>0<10)&((kr|0)==(Dr|0)&(ti|0)==(fi|0))&&(o|0)>30|(ar>>>o|0)==0){jr=+(f|0)*+(ar>>>0);break}if(ar=(l|0)/-2|0,tr=((ar|0)<0)<<31>>31,(ti|0)>(tr|0)|(ti|0)==(tr|0)&kr>>>0>ar>>>0){ar=ca()|0,e[ar>>2]=34,jr=+(f|0)*17976931348623157e292*17976931348623157e292;break}if(ar=l+-106|0,tr=((ar|0)<0)<<31>>31,(ti|0)<(tr|0)|(ti|0)==(tr|0)&kr>>>0<ar>>>0){ar=ca()|0,e[ar>>2]=34,jr=+(f|0)*22250738585072014e-324*22250738585072014e-324;break}if(!Hr)Br=Ir;else{if((Hr|0)<9){for(ar=g+(Ir<<2)|0,tr=Hr,Nr=e[ar>>2]|0;Nr=Nr*10|0,!((tr|0)>=8);)tr=tr+1|0;e[ar>>2]=Nr}Br=Ir+1|0}if((Ar|0)<9&&(Ar|0)<=(kr|0)&(kr|0)<18){if((kr|0)==9){jr=+(f|0)*+((e[g>>2]|0)>>>0);break}if((kr|0)<9){jr=+(f|0)*+((e[g>>2]|0)>>>0)/+(e[6408+(8-kr<<2)>>2]|0);break}if(tr=o+27+(_r(kr,-3)|0)|0,V=e[g>>2]|0,(tr|0)>30|(V>>>tr|0)==0){jr=+(f|0)*+(V>>>0)*+(e[6408+(kr+-10<<2)>>2]|0);break}}if(V=(kr|0)%9|0,!V)di=0,ri=Br,Xi=0,nn=kr;else{if(tr=(kr|0)>-1?V:V+9|0,V=e[6408+(8-tr<<2)>>2]|0,Br){ie=1e9/(V|0)|0,$=0,ue=0,se=kr,Q=0;do x=g+(Q<<2)|0,N=e[x>>2]|0,or=((N>>>0)/(V>>>0)|0)+$|0,e[x>>2]=or,$=_r(ie,(N>>>0)%(V>>>0)|0)|0,N=(Q|0)==(ue|0)&(or|0)==0,se=N?se+-9|0:se,ue=N?ue+1&127:ue,Q=Q+1|0;while((Q|0)!=(Br|0));$?(e[g+(Br<<2)>>2]=$,mn=ue,R0=Br+1|0,gn=se):(mn=ue,R0=Br,gn=se)}else mn=0,R0=0,gn=kr;di=0,ri=R0,Xi=mn,nn=9-tr+gn|0}e:for(;;){for(Q=(nn|0)<18,V=(nn|0)==18,ie=g+(Xi<<2)|0,Nr=di,ar=ri;;){if(!Q){if(!V){Qn=Nr,Hn=Xi,xn=nn,Ii=ar;break e}if((e[ie>>2]|0)>>>0>=9007199){Qn=Nr,Hn=Xi,xn=18,Ii=ar;break e}}for(N=0,zi=ar,or=ar+127|0;x=or&127,Mr=g+(x<<2)|0,nr=e0(e[Mr>>2]|0,0,29)|0,Er=Qt(nr|0,Ze|0,N|0,0)|0,nr=Ze,nr>>>0>0|(nr|0)==0&Er>>>0>1e9?(gr=W2(Er|0,nr|0,1e9,0)|0,Gr=Yy(Er|0,nr|0,1e9,0)|0,Di=gr,Qi=Gr):(Di=0,Qi=Er),e[Mr>>2]=Qi,Mr=(x|0)==(Xi|0),zi=(Qi|0)==0&(((x|0)!=(zi+127&127|0)|Mr)^1)?x:zi,!Mr;)N=Di,or=x+-1|0;if(Nr=Nr+-29|0,Di|0)break;ar=zi}ar=Xi+127&127,ie=zi+127&127,V=g+((zi+126&127)<<2)|0,(ar|0)==(zi|0)?(e[V>>2]=e[V>>2]|e[g+(ie<<2)>>2],Bi=ie):Bi=zi,e[g+(ar<<2)>>2]=Di,di=Nr,ri=Bi,Xi=ar,nn=nn+9|0}e:for(;;){for(tr=Ii+1&127,se=g+((Ii+127&127)<<2)|0,ue=Qn,$=Hn,ar=xn;;){for(ie=(ar|0)==18,V=(ar|0)>27?9:1,tn=ue,Ui=$;;){for(Q=0;;){if(or=Q+Ui&127,(or|0)==(Ii|0)){sn=2,C=88;break}if(N=e[g+(or<<2)>>2]|0,or=e[6440+(Q<<2)>>2]|0,N>>>0<or>>>0){sn=2,C=88;break}if(N>>>0>or>>>0)break;if(or=Q+1|0,(Q|0)<1)Q=or;else{sn=or,C=88;break}}if((C|0)==88&&(C=0,ie&(sn|0)==2)){Wi=0,Mi=0,Vi=Ii;break e}if(Si=V+tn|0,(Ui|0)==(Ii|0))tn=Si,Ui=Ii;else break}ie=(1<<V)+-1|0,Q=1e9>>>V,Yi=0,cn=Ui,Un=ar,or=Ui;do N=g+(or<<2)|0,x=e[N>>2]|0,Mr=(x>>>V)+Yi|0,e[N>>2]=Mr,Yi=_r(x&ie,Q)|0,x=(or|0)==(cn|0)&(Mr|0)==0,Un=x?Un+-9|0:Un,cn=x?cn+1&127:cn,or=or+1&127;while((or|0)!=(Ii|0));if(!Yi){ue=Si,$=cn,ar=Un;continue}if((tr|0)!=(cn|0))break;e[se>>2]=e[se>>2]|1,ue=Si,$=cn,ar=Un}e[g+(Ii<<2)>>2]=Yi,Qn=Si,Hn=cn,xn=Un,Ii=tr}for(;ar=Mi+Ui&127,$=Vi+1&127,(ar|0)==(Vi|0)?(e[g+($+-1<<2)>>2]=0,h0=$):h0=Vi,Wi=Wi*1e9+ +((e[g+(ar<<2)>>2]|0)>>>0),Mi=Mi+1|0,(Mi|0)!=2;)Vi=h0;if(D0=+(f|0),o0=Wi*D0,ar=tn+53|0,$=ar-l|0,ue=($|0)<(o|0),se=ue?($|0)>0?$:0:o,(se|0)<53?(Ts=+SC(+Uy(1,105-se|0),o0),J0=+RC(o0,+Uy(1,53-se|0)),as=Ts,_0=J0,Bn=Ts+(o0-J0)):(as=0,_0=0,Bn=o0),Nr=Ui+2&127,(Nr|0)!=(h0|0)){or=e[g+(Nr<<2)>>2]|0;do if(or>>>0>=5e8){if((or|0)!=5e8){H0=D0*.75+_0;break}if((Ui+3&127|0)==(h0|0)){H0=D0*.5+_0;break}else{H0=D0*.75+_0;break}}else{if((or|0)==0&&(Ui+3&127|0)==(h0|0)){H0=_0;break}H0=D0*.25+_0}while(0);(53-se|0)>1&&+RC(H0,1)==0?In=H0+1:In=H0}else In=_0;D0=Bn+In-as;do if((ar&2147483647|0)>(-2-d|0)){if(or=!(+u0(+D0)>=9007199254740992),Nr=tn+((or^1)&1)|0,o0=or?D0:D0*.5,(Nr+50|0)<=(m|0)&&!(In!=0&(ue&((se|0)!=($|0)|or)))){vn=o0,X0=Nr;break}or=ca()|0,e[or>>2]=34,vn=o0,X0=Nr}else vn=D0,X0=tn;while(0);jr=+TC(vn,X0)}while(0);return q=u,+jr}function hP(i,s,o,l,f,h){i=i|0,s=+s,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0,Wt=0,cr=0,mr=0,Gr=0,dr=0,Er=0,nr=0,Mr=0,Nr=0,ar=0,gr=0,or=0,tr=0,jr=0,Xr=0,Qr=0,Hr=0,Ir=0,Ar=0;u=q,q=q+560|0,g=u+8|0,d=u,m=u+524|0,b=m,w=u+512|0,e[d>>2]=0,x=w+12|0,B3(s)|0,(Ze|0)<0?(C=-s,S=1,D=15511):(C=s,S=(f&2049|0)!=0&1,D=(f&2048|0)==0?(f&1|0)==0?15512:15517:15514),B3(C)|0;do if(!0&(Ze&2146435072|0)==2146435072)I=(h&32|0)!=0,L=S+3|0,Vo(i,32,o,L,f&-65537),Ro(i,D,S),Ro(i,C!=C|!1?I?17461:15538:I?15530:15534,3),Vo(i,32,o,L,f^8192),P=L;else{if(s=+UH(C,d)*2,L=s!=0,L&&(e[d>>2]=(e[d>>2]|0)+-1),I=h|32,(I|0)==97){N=h&32,X=(N|0)==0?D:D+9|0,j=S|2,Q=12-l|0;do if(l>>>0>11|(Q|0)==0)ee=s;else{V=8,G=Q;do G=G+-1|0,V=V*16;while((G|0)!=0);if((Y[X>>0]|0)==45){ee=-(V+(-s-V));break}else{ee=s+V-V;break}}while(0);for(Q=e[d>>2]|0,G=(Q|0)<0?0-Q|0:Q,J=V2(G,((G|0)<0)<<31>>31,x)|0,(J|0)==(x|0)?(G=w+11|0,Y[G>>0]=48,O=G):O=J,Y[O+-1>>0]=(Q>>31&2)+43,Q=O+-2|0,Y[Q>>0]=h+15,J=(l|0)<1,G=(f&8|0)==0,$=m,ie=ee;se=~~ie,ue=$+1|0,Y[$>>0]=N|br[15542+se>>0],ie=(ie-+(se|0))*16,(ue-b|0)==1&&!(G&(J&ie==0))?(Y[ue>>0]=46,Ee=$+2|0):Ee=ue,ie!=0;)$=Ee;$=Ee,(l|0)!=0&&(-2-b+$|0)<(l|0)?(Pe=$-b|0,ge=l+2|0):(J=$-b|0,Pe=J,ge=J),J=x-Q|0,$=J+j+ge|0,Vo(i,32,o,$,f),Ro(i,X,j),Vo(i,48,o,$,f^65536),Ro(i,m,Pe),Vo(i,48,ge-Pe|0,0,0),Ro(i,Q,J),Vo(i,32,o,$,f^8192),P=$;break}$=(l|0)<0?6:l,L?(J=(e[d>>2]|0)+-28|0,e[d>>2]=J,Be=s*268435456,_e=J):(Be=s,_e=e[d>>2]|0),J=(_e|0)<0?g:g+288|0,G=J,ie=Be;do N=~~ie>>>0,e[G>>2]=N,G=G+4|0,ie=(ie-+(N>>>0))*1e9;while(ie!=0);if((_e|0)>0)for(L=J,Q=G,j=_e;;){if(X=(j|0)<29?j:29,N=Q+-4|0,N>>>0>=L>>>0){ue=N,N=0;do se=e0(e[ue>>2]|0,0,X|0)|0,Ce=Qt(se|0,Ze|0,N|0,0)|0,se=Ze,We=Yy(Ce|0,se|0,1e9,0)|0,e[ue>>2]=We,N=W2(Ce|0,se|0,1e9,0)|0,ue=ue+-4|0;while(ue>>>0>=L>>>0);N?(ue=L+-4|0,e[ue>>2]=N,lt=ue):lt=L}else lt=L;for(ue=Q;!(ue>>>0<=lt>>>0);)if(se=ue+-4|0,!(e[se>>2]|0))ue=se;else break;if(N=(e[d>>2]|0)-X|0,e[d>>2]=N,(N|0)>0)L=lt,Q=ue,j=N;else{et=lt,Ve=ue,He=N;break}}else et=J,Ve=G,He=_e;if((He|0)<0)for(j=(($+25|0)/9|0)+1|0,Q=(I|0)==102,L=et,N=Ve,se=He;;){if(Ce=0-se|0,We=(Ce|0)<9?Ce:9,L>>>0<N>>>0){Ce=(1<<We)+-1|0,st=1e9>>>We,Je=0,it=L;do ze=e[it>>2]|0,e[it>>2]=(ze>>>We)+Je,Je=_r(ze&Ce,st)|0,it=it+4|0;while(it>>>0<N>>>0);it=(e[L>>2]|0)==0?L+4|0:L,Je?(e[N>>2]=Je,Ge=it,ke=N+4|0):(Ge=it,ke=N)}else Ge=(e[L>>2]|0)==0?L+4|0:L,ke=N;if(it=Q?J:Ge,st=(ke-it>>2|0)>(j|0)?it+(j<<2)|0:ke,se=(e[d>>2]|0)+We|0,e[d>>2]=se,(se|0)>=0){ut=Ge,tt=st;break}else L=Ge,N=st}else ut=et,tt=Ve;if(N=J,ut>>>0<tt>>>0)if(L=(N-ut>>2)*9|0,se=e[ut>>2]|0,se>>>0<10)at=L;else for(j=L,L=10;;)if(L=L*10|0,Q=j+1|0,se>>>0<L>>>0){at=Q;break}else j=Q;else at=0;if(j=(I|0)==103,L=($|0)!=0,se=$-((I|0)!=102?at:0)+((L&j)<<31>>31)|0,(se|0)<(((tt-N>>2)*9|0)+-9|0)){if(Q=se+9216|0,se=J+4+(((Q|0)/9|0)+-1024<<2)|0,G=(Q|0)%9|0,(G|0)<8)for(Q=G,G=10;;)if(st=G*10|0,(Q|0)<7)Q=Q+1|0,G=st;else{Mt=st;break}else Mt=10;if(G=e[se>>2]|0,Q=(G>>>0)%(Mt>>>0)|0,I=(se+4|0)==(tt|0),I&(Q|0)==0)_t=se,St=at,fr=ut;else if(V=(((G>>>0)/(Mt>>>0)|0)&1|0)==0?9007199254740992:9007199254740994,st=(Mt|0)/2|0,ie=Q>>>0<st>>>0?.5:I&(Q|0)==(st|0)?1:1.5,S?(st=(Y[D>>0]|0)==45,Pt=st?-ie:ie,yt=st?-V:V):(Pt=ie,yt=V),st=G-Q|0,e[se>>2]=st,yt+Pt!=yt){if(Q=st+Mt|0,e[se>>2]=Q,Q>>>0>999999999)for(Q=ut,st=se;;)if(G=st+-4|0,e[st>>2]=0,G>>>0<Q>>>0?(I=Q+-4|0,e[I>>2]=0,Vt=I):Vt=Q,I=(e[G>>2]|0)+1|0,e[G>>2]=I,I>>>0>999999999)Q=Vt,st=G;else{Lt=Vt,At=G;break}else Lt=ut,At=se;if(st=(N-Lt>>2)*9|0,Q=e[Lt>>2]|0,Q>>>0<10)_t=At,St=st,fr=Lt;else for(G=st,st=10;;)if(st=st*10|0,I=G+1|0,Q>>>0<st>>>0){_t=At,St=I,fr=Lt;break}else G=I}else _t=se,St=at,fr=ut;G=_t+4|0,Wt=St,cr=tt>>>0>G>>>0?G:tt,mr=fr}else Wt=at,cr=tt,mr=ut;for(G=cr;;){if(G>>>0<=mr>>>0){Gr=0;break}if(st=G+-4|0,!(e[st>>2]|0))G=st;else{Gr=1;break}}se=0-Wt|0;do if(j)if(st=$+((L^1)&1)|0,(st|0)>(Wt|0)&(Wt|0)>-5?(dr=h+-1|0,Er=st+-1-Wt|0):(dr=h+-2|0,Er=st+-1|0),st=f&8,st)Mr=dr,Nr=Er,ar=st;else{if(Gr&&(Q=e[G+-4>>2]|0,(Q|0)!=0))if((Q>>>0)%10|0)nr=0;else for(I=0,it=10;;)if(it=it*10|0,Ce=I+1|0,(Q>>>0)%(it>>>0)|0|0){nr=Ce;break}else I=Ce;else nr=9;if(I=((G-N>>2)*9|0)+-9|0,(dr|32|0)==102){it=I-nr|0,Q=(it|0)>0?it:0,Mr=dr,Nr=(Er|0)<(Q|0)?Er:Q,ar=0;break}else{Q=I+Wt-nr|0,I=(Q|0)>0?Q:0,Mr=dr,Nr=(Er|0)<(I|0)?Er:I,ar=0;break}}else Mr=h,Nr=$,ar=f&8;while(0);if($=Nr|ar,N=($|0)!=0&1,L=(Mr|32|0)==102,L)gr=0,or=(Wt|0)>0?Wt:0;else{if(j=(Wt|0)<0?se:Wt,I=V2(j,((j|0)<0)<<31>>31,x)|0,j=x,(j-I|0)<2)for(Q=I;;)if(it=Q+-1|0,Y[it>>0]=48,(j-it|0)<2)Q=it;else{tr=it;break}else tr=I;Y[tr+-1>>0]=(Wt>>31&2)+43,Q=tr+-2|0,Y[Q>>0]=Mr,gr=Q,or=j-Q|0}if(Q=S+1+Nr+N+or|0,Vo(i,32,o,Q,f),Ro(i,D,S),Vo(i,48,o,Q,f^65536),L){se=mr>>>0>J>>>0?J:mr,it=m+9|0,We=it,Je=m+8|0,Ce=se;do{if(ue=V2(e[Ce>>2]|0,0,it)|0,(Ce|0)==(se|0))(ue|0)==(it|0)?(Y[Je>>0]=48,jr=Je):jr=ue;else if(ue>>>0>m>>>0)for(Tr(m|0,48,ue-b|0)|0,X=ue;;)if(ze=X+-1|0,ze>>>0>m>>>0)X=ze;else{jr=ze;break}else jr=ue;Ro(i,jr,We-jr|0),Ce=Ce+4|0}while(Ce>>>0<=J>>>0);if($|0&&Ro(i,15558,1),Ce>>>0<G>>>0&(Nr|0)>0)for(J=Nr,We=Ce;;){if(Je=V2(e[We>>2]|0,0,it)|0,Je>>>0>m>>>0)for(Tr(m|0,48,Je-b|0)|0,se=Je;;)if(L=se+-1|0,L>>>0>m>>>0)se=L;else{Xr=L;break}else Xr=Je;if(Ro(i,Xr,(J|0)<9?J:9),We=We+4|0,se=J+-9|0,We>>>0<G>>>0&(J|0)>9)J=se;else{Qr=se;break}}else Qr=Nr;Vo(i,48,Qr+9|0,9,0)}else{if(J=Gr?G:mr+4|0,(Nr|0)>-1)for(We=m+9|0,it=(ar|0)==0,Ce=We,$=0-b|0,se=m+8|0,ue=Nr,L=mr;;){N=V2(e[L>>2]|0,0,We)|0,(N|0)==(We|0)?(Y[se>>0]=48,Hr=se):Hr=N;do if((L|0)==(mr|0)){if(N=Hr+1|0,Ro(i,Hr,1),it&(ue|0)<1){Ir=N;break}Ro(i,15558,1),Ir=N}else{if(Hr>>>0<=m>>>0){Ir=Hr;break}for(Tr(m|0,48,Hr+$|0)|0,N=Hr;;)if(j=N+-1|0,j>>>0>m>>>0)N=j;else{Ir=j;break}}while(0);if(Je=Ce-Ir|0,Ro(i,Ir,(ue|0)>(Je|0)?Je:ue),N=ue-Je|0,L=L+4|0,L>>>0<J>>>0&(N|0)>-1)ue=N;else{Ar=N;break}}else Ar=Nr;Vo(i,48,Ar+18|0,18,0),Ro(i,gr,x-gr|0)}Vo(i,32,o,Q,f^8192),P=Q}while(0);return q=u,((P|0)<(o|0)?o:P)|0}function t3(i,s,o,l,f){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0;var h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0,Wt=0,cr=0,mr=0,Gr=0,dr=0,Er=0,nr=0,Mr=0,Nr=0,ar=0,gr=0,or=0,tr=0,jr=0,Xr=0,Qr=0,Hr=0,Ir=0,Ar=0,kr=0,Dr=0,ti=0;h=q,q=q+64|0,u=h+16|0,g=h,d=h+24|0,m=h+8|0,b=h+20|0,e[u>>2]=s,s=(i|0)!=0,w=d+40|0,x=w,C=d+39|0,d=m+4|0,S=0,D=0,I=0;e:for(;;){do if((D|0)>-1)if((S|0)>(2147483647-D|0)){L=ca()|0,e[L>>2]=75,P=-1;break}else{P=S+D|0;break}else P=D;while(0);if(L=e[u>>2]|0,N=Y[L>>0]|0,N<<24>>24)j=N,Q=L;else{X=88;break}t:for(;;){switch(j<<24>>24){case 37:{V=Q,G=Q,X=9;break t}case 0:{ee=Q;break t}}N=Q+1|0,e[u>>2]=N,j=Y[N>>0]|0,Q=N}t:do if((X|0)==9)for(;;){if(X=0,(Y[G+1>>0]|0)!=37){ee=V;break t}if(N=V+1|0,G=G+2|0,e[u>>2]=G,(Y[G>>0]|0)!=37){ee=N;break}else V=N,X=9}while(0);if(N=ee-L|0,s&&Ro(i,L,N),N|0){S=N,D=P;continue}if(N=(vd(Y[(e[u>>2]|0)+1>>0]|0)|0)==0,J=e[u>>2]|0,!N&&(Y[J+2>>0]|0)==36?(O=(Y[J+1>>0]|0)+-48|0,$=1,ie=3):(O=-1,$=I,ie=1),N=J+ie|0,e[u>>2]=N,J=Y[N>>0]|0,se=(J<<24>>24)+-32|0,se>>>0>31|(1<<se&75913|0)==0)ue=0,Ee=J,Pe=N;else for(se=0,ge=J,J=N;;)if(N=1<<(ge<<24>>24)+-32|se,Be=J+1|0,e[u>>2]=Be,_e=Y[Be>>0]|0,Ce=(_e<<24>>24)+-32|0,Ce>>>0>31|(1<<Ce&75913|0)==0){ue=N,Ee=_e,Pe=Be;break}else se=N,ge=_e,J=Be;if(Ee<<24>>24==42){if((vd(Y[Pe+1>>0]|0)|0)!=0&&(J=e[u>>2]|0,(Y[J+2>>0]|0)==36))ge=J+1|0,e[f+((Y[ge>>0]|0)+-48<<2)>>2]=10,We=e[l+((Y[ge>>0]|0)+-48<<3)>>2]|0,lt=1,et=J+3|0;else{if($|0){Ve=-1;break}s?(J=(e[o>>2]|0)+(4-1)&~(4-1),ge=e[J>>2]|0,e[o>>2]=J+4,He=ge):He=0,We=He,lt=0,et=(e[u>>2]|0)+1|0}e[u>>2]=et,ge=(We|0)<0,st=ge?0-We|0:We,Je=ge?ue|8192:ue,it=lt,ze=et}else{if(ge=Ok(u)|0,(ge|0)<0){Ve=-1;break}st=ge,Je=ue,it=$,ze=e[u>>2]|0}do if((Y[ze>>0]|0)==46){if((Y[ze+1>>0]|0)!=42){e[u>>2]=ze+1,ge=Ok(u)|0,Ge=ge,ke=e[u>>2]|0;break}if(vd(Y[ze+2>>0]|0)|0&&(ge=e[u>>2]|0,(Y[ge+3>>0]|0)==36)){J=ge+2|0,e[f+((Y[J>>0]|0)+-48<<2)>>2]=10,se=e[l+((Y[J>>0]|0)+-48<<3)>>2]|0,J=ge+4|0,e[u>>2]=J,Ge=se,ke=J;break}if(it|0){Ve=-1;break e}s?(J=(e[o>>2]|0)+(4-1)&~(4-1),se=e[J>>2]|0,e[o>>2]=J+4,ut=se):ut=0,se=(e[u>>2]|0)+2|0,e[u>>2]=se,Ge=ut,ke=se}else Ge=-1,ke=ze;while(0);for(se=0,J=ke;;){if(((Y[J>>0]|0)+-65|0)>>>0>57){Ve=-1;break e}if(ge=J,J=J+1|0,e[u>>2]=J,tt=Y[(Y[ge>>0]|0)+-65+(15030+(se*58|0))>>0]|0,at=tt&255,(at+-1|0)>>>0>=8)break;se=at}if(!(tt<<24>>24)){Ve=-1;break}ge=(O|0)>-1;do if(tt<<24>>24==19)if(ge){Ve=-1;break e}else X=50;else{if(ge){e[f+(O<<2)>>2]=at,Be=l+(O<<3)|0,_e=e[Be+4>>2]|0,N=g,e[N>>2]=e[Be>>2],e[N+4>>2]=_e,X=50;break}if(!s){Ve=0;break e}dm(g,at,o),Mt=e[u>>2]|0}while(0);if((X|0)==50)if(X=0,s)Mt=J;else{S=0,D=P,I=it;continue}ge=Y[Mt+-1>>0]|0,_e=(se|0)!=0&(ge&15|0)==3?ge&-33:ge,ge=Je&-65537,N=(Je&8192|0)==0?Je:ge;t:do switch(_e|0){case 110:switch((se&255)<<24>>24){case 0:{e[e[g>>2]>>2]=P,S=0,D=P,I=it;continue e}case 1:{e[e[g>>2]>>2]=P,S=0,D=P,I=it;continue e}case 2:{Be=e[g>>2]|0,e[Be>>2]=P,e[Be+4>>2]=((P|0)<0)<<31>>31,S=0,D=P,I=it;continue e}case 3:{Or[e[g>>2]>>1]=P,S=0,D=P,I=it;continue e}case 4:{Y[e[g>>2]>>0]=P,S=0,D=P,I=it;continue e}case 6:{e[e[g>>2]>>2]=P,S=0,D=P,I=it;continue e}case 7:{Be=e[g>>2]|0,e[Be>>2]=P,e[Be+4>>2]=((P|0)<0)<<31>>31,S=0,D=P,I=it;continue e}default:{S=0,D=P,I=it;continue e}}case 112:{Pt=120,yt=Ge>>>0>8?Ge:8,Vt=N|8,X=62;break}case 88:case 120:{Pt=_e,yt=Ge,Vt=N,X=62;break}case 111:{Be=g,Ce=e[Be>>2]|0,Lt=e[Be+4>>2]|0,Be=FN(Ce,Lt,w)|0,At=x-Be|0,_t=Be,St=0,fr=15494,Wt=(N&8|0)==0|(Ge|0)>(At|0)?Ge:At+1|0,cr=N,mr=Ce,Gr=Lt,X=68;break}case 105:case 100:if(Lt=g,Ce=e[Lt>>2]|0,At=e[Lt+4>>2]|0,(At|0)<0){Lt=Gi(0,0,Ce|0,At|0)|0,Be=Ze,dr=g,e[dr>>2]=Lt,e[dr+4>>2]=Be,Er=1,nr=15494,Mr=Lt,Nr=Be,X=67;break t}else{Er=(N&2049|0)!=0&1,nr=(N&2048|0)==0?(N&1|0)==0?15494:15496:15495,Mr=Ce,Nr=At,X=67;break t}case 117:{At=g,Er=0,nr=15494,Mr=e[At>>2]|0,Nr=e[At+4>>2]|0,X=67;break}case 99:{Y[C>>0]=e[g>>2],ar=C,gr=0,or=15494,tr=w,jr=1,Xr=ge;break}case 109:{At=ca()|0,Qr=YO(e[At>>2]|0)|0,X=72;break}case 115:{At=e[g>>2]|0,Qr=At|0?At:15504,X=72;break}case 67:{e[m>>2]=e[g>>2],e[d>>2]=0,e[g>>2]=m,Hr=-1,Ir=m,X=76;break}case 83:{At=e[g>>2]|0,Ge?(Hr=Ge,Ir=At,X=76):(Vo(i,32,st,0,N),Ar=0,X=85);break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{S=hP(i,+N0[g>>3],st,Ge,N,_e)|0,D=P,I=it;continue e}default:ar=L,gr=0,or=15494,tr=w,jr=Ge,Xr=N}while(0);t:do if((X|0)==62)X=0,L=g,_e=e[L>>2]|0,se=e[L+4>>2]|0,L=DN(_e,se,w,Pt&32)|0,J=(Vt&8|0)==0|(_e|0)==0&(se|0)==0,_t=L,St=J?0:2,fr=J?15494:15494+(Pt>>4)|0,Wt=yt,cr=Vt,mr=_e,Gr=se,X=68;else if((X|0)==67)X=0,_t=V2(Mr,Nr,w)|0,St=Er,fr=nr,Wt=Ge,cr=N,mr=Mr,Gr=Nr,X=68;else if((X|0)==72)X=0,se=xi(Qr,0,Ge)|0,_e=(se|0)==0,ar=Qr,gr=0,or=15494,tr=_e?Qr+Ge|0:se,jr=_e?Ge:se-Qr|0,Xr=ge;else if((X|0)==76){for(X=0,se=Ir,_e=0,J=0;;){if(L=e[se>>2]|0,!L){kr=_e,Dr=J;break}if(At=dC(b,L)|0,(At|0)<0|At>>>0>(Hr-_e|0)>>>0){kr=_e,Dr=At;break}if(L=At+_e|0,Hr>>>0>L>>>0)se=se+4|0,_e=L,J=At;else{kr=L,Dr=At;break}}if((Dr|0)<0){Ve=-1;break e}if(Vo(i,32,st,kr,N),!kr)Ar=0,X=85;else for(J=Ir,_e=0;;){if(se=e[J>>2]|0,!se){Ar=kr,X=85;break t}if(At=dC(b,se)|0,_e=At+_e|0,(_e|0)>(kr|0)){Ar=kr,X=85;break t}if(Ro(i,b,At),_e>>>0>=kr>>>0){Ar=kr,X=85;break}else J=J+4|0}}while(0);if((X|0)==68)X=0,ge=(mr|0)!=0|(Gr|0)!=0,J=(Wt|0)!=0|ge,_e=x-_t+((ge^1)&1)|0,ar=J?_t:w,gr=St,or=fr,tr=w,jr=J?(Wt|0)>(_e|0)?Wt:_e:Wt,Xr=(Wt|0)>-1?cr&-65537:cr;else if((X|0)==85){X=0,Vo(i,32,st,Ar,N^8192),S=(st|0)>(Ar|0)?st:Ar,D=P,I=it;continue}_e=tr-ar|0,J=(jr|0)<(_e|0)?_e:jr,ge=J+gr|0,At=(st|0)<(ge|0)?ge:st,Vo(i,32,At,ge,Xr),Ro(i,or,gr),Vo(i,48,At,ge,Xr^65536),Vo(i,48,J,_e,0),Ro(i,ar,_e),Vo(i,32,At,ge,Xr^8192),S=At,D=P,I=it}e:do if((X|0)==88)if(i)Ve=P;else if(I){for(it=1;;){if(D=e[f+(it<<2)>>2]|0,!D){ti=it;break}if(dm(l+(it<<3)|0,D,o),D=it+1|0,(it|0)<9)it=D;else{ti=D;break}}if((ti|0)<10)for(it=ti;;){if(e[f+(it<<2)>>2]|0){Ve=-1;break e}if((it|0)<9)it=it+1|0;else{Ve=1;break}}else Ve=1}else Ve=0;while(0);return q=h,Ve|0}function dP(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=vi,fr=vi,Wt=vi,cr=0,mr=0,Gr=0,dr=0,Er=0;s=q,q=q+64|0,o=s+28|0,l=s+16|0,f=s+4|0,h=s,u=i,g=i+80|0,d=e[g>>2]|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=u,m=o+20|0,bi[m>>2]=Zt(1),e[o+24>>2]=u,T_(o,d),d=e[g>>2]|0,e[l>>2]=0,u=l+4|0,e[u>>2]=0,e[l+8>>2]=0,b=(d|0)==0;do if(!b)if(d>>>0>1073741823)qe();else{w=d<<2,x=It(w)|0,e[l>>2]=x,C=x+(d<<2)|0,e[l+8>>2]=C,Tr(x|0,0,w|0)|0,e[u>>2]=C;break}while(0);if(e[f>>2]=0,d=f+4|0,e[d>>2]=0,e[f+8>>2]=0,e[h>>2]=0,!b){for(b=o+16|0,C=o+4|0,w=o+12|0,x=o+8|0,S=f+8|0,D=o+24|0,I=0,L=0;;){if(P=e[b>>2]|0,N=e[P+8>>2]|0,X=(e[P+12>>2]|0)-N|0,P=(X|0)>0,j=N,P)for(N=X>>>2,Q=0,V=0;;)if(G=e[j+(Q<<2)>>2]|0,Y[G+84>>0]|0?ee=L:ee=e[(e[G+68>>2]|0)+(L<<2)>>2]|0,G=ee+239^V,Q=Q+1|0,(Q|0)>=(N|0)){J=G;break}else V=G;else J=0;V=e[C>>2]|0,N=(V|0)==0;e:do if(N)ge=44;else if(Q=V+-1|0,G=(Q&V|0)==0,G?O=Q&J:J>>>0<V>>>0?O=J:O=(J>>>0)%(V>>>0)|0,$=e[(e[o>>2]|0)+(O<<2)>>2]|0,($|0)!=0&&(ie=e[$>>2]|0,(ie|0)!=0)){$=e[D>>2]|0,se=$+8|0,ue=$+12|0;t:do if(G)for($=ie;;){if(Ee=e[$+4>>2]|0,Pe=(Ee|0)==(J|0),!(Pe|(Ee&Q|0)==(O|0))){ge=44;break e}r:do if(Pe){if(Ee=e[$+8>>2]|0,Be=e[se>>2]|0,_e=(e[ue>>2]|0)-Be|0,Ce=Be,(_e|0)<=0){We=$;break t}for(Be=_e>>>2,_e=0;;){if(lt=e[Ce+(_e<<2)>>2]|0,Y[lt+84>>0]|0?(Ve=L,He=Ee):(et=e[lt+68>>2]|0,Ve=e[et+(L<<2)>>2]|0,He=e[et+(Ee<<2)>>2]|0),_e=_e+1|0,(He|0)!=(Ve|0))break r;if((_e|0)>=(Be|0)){st=$,ge=42;break t}}}while(0);if($=e[$>>2]|0,!$){ge=44;break e}}else for($=ie;;){Pe=e[$+4>>2]|0;r:do if((Pe|0)!=(J|0)){if(Pe>>>0<V>>>0?Je=Pe:Je=(Pe>>>0)%(V>>>0)|0,(Je|0)!=(O|0)){ge=44;break e}}else{if(Be=e[$+8>>2]|0,_e=e[se>>2]|0,Ee=(e[ue>>2]|0)-_e|0,Ce=_e,(Ee|0)<=0){We=$;break t}for(_e=Ee>>>2,Ee=0;;){if(et=e[Ce+(Ee<<2)>>2]|0,Y[et+84>>0]|0?(it=L,ze=Be):(lt=e[et+68>>2]|0,it=e[lt+(L<<2)>>2]|0,ze=e[lt+(Be<<2)>>2]|0),Ee=Ee+1|0,(ze|0)!=(it|0))break r;if((Ee|0)>=(_e|0)){st=$,ge=42;break t}}}while(0);if($=e[$>>2]|0,!$){ge=44;break e}}while(0);if((ge|0)==42)if(ge=0,st)We=st;else{ge=44;break}e[(e[l>>2]|0)+(L<<2)>>2]=e[We+12>>2],Ge=I}else ge=44;while(0);do if((ge|0)==44){if(ge=0,P)for(ue=X>>>2,se=0,ie=0;;)if(Q=e[j+(se<<2)>>2]|0,Y[Q+84>>0]|0?ke=L:ke=e[(e[Q+68>>2]|0)+(L<<2)>>2]|0,Q=ke+239^ie,se=se+1|0,(se|0)>=(ue|0)){ut=Q;break}else ie=Q;else ut=0;e:do if(N)at=0,ge=76;else if(ie=V+-1|0,ue=(ie&V|0)==0,ue?tt=ie&ut:ut>>>0<V>>>0?tt=ut:tt=(ut>>>0)%(V>>>0)|0,se=e[(e[o>>2]|0)+(tt<<2)>>2]|0,(se|0)!=0&&(Q=e[se>>2]|0,(Q|0)!=0)){if(se=e[D>>2]|0,G=se+8|0,$=se+12|0,ue)for(ue=Q;;){if(se=e[ue+4>>2]|0,!((se|0)==(ut|0)|(se&ie|0)==(tt|0))){at=tt,ge=76;break e}if(se=e[ue+8>>2]|0,Pe=e[G>>2]|0,_e=(e[$>>2]|0)-Pe|0,Ee=Pe,(_e|0)<=0){Mt=L;break e}for(Pe=_e>>>2,_e=0;Be=e[Ee+(_e<<2)>>2]|0,Y[Be+84>>0]|0?(Pt=L,yt=se):(Ce=e[Be+68>>2]|0,Pt=e[Ce+(L<<2)>>2]|0,yt=e[Ce+(se<<2)>>2]|0),_e=_e+1|0,(yt|0)==(Pt|0);)if((_e|0)>=(Pe|0)){Mt=L;break e}if(ue=e[ue>>2]|0,!ue){at=tt,ge=76;break e}}else Vt=Q;for(;;){if(ue=e[Vt+4>>2]|0,(ue|0)!=(ut|0)&&(ue>>>0<V>>>0?Lt=ue:Lt=(ue>>>0)%(V>>>0)|0,(Lt|0)!=(tt|0))){at=tt,ge=76;break e}if(ue=e[Vt+8>>2]|0,ie=e[G>>2]|0,Pe=(e[$>>2]|0)-ie|0,_e=ie,(Pe|0)<=0){Mt=L;break e}for(ie=Pe>>>2,Pe=0;se=e[_e+(Pe<<2)>>2]|0,Y[se+84>>0]|0?(At=L,_t=ue):(Ee=e[se+68>>2]|0,At=e[Ee+(L<<2)>>2]|0,_t=e[Ee+(ue<<2)>>2]|0),Pe=Pe+1|0,(_t|0)==(At|0);)if((Pe|0)>=(ie|0)){Mt=L;break e}if(Vt=e[Vt>>2]|0,!Vt){at=tt,ge=76;break}}}else at=tt,ge=76;while(0);if((ge|0)==76){ge=0,$=It(16)|0,e[$+8>>2]=L,e[$+12>>2]=I,e[$+4>>2]=ut,e[$>>2]=0,St=Zt(((e[w>>2]|0)+1|0)>>>0),fr=Zt(V>>>0),Wt=Zt(bi[m>>2]);do if(N|Zt(Wt*fr)<St){if(G=V<<1|(V>>>0<3|(V+-1&V|0)!=0)&1,Q=~~Zt(yi(Zt(St/Wt)))>>>0,T_(o,G>>>0<Q>>>0?Q:G),G=e[C>>2]|0,Q=G+-1|0,!(Q&G)){cr=G,mr=Q&ut;break}ut>>>0<G>>>0?(cr=G,mr=ut):(cr=G,mr=(ut>>>0)%(G>>>0)|0)}else cr=V,mr=at;while(0);G=(e[o>>2]|0)+(mr<<2)|0,Q=e[G>>2]|0,Q?(e[$>>2]=e[Q>>2],dr=Q,ge=89):(e[$>>2]=e[x>>2],e[x>>2]=$,e[G>>2]=x,G=e[$>>2]|0,G|0&&(ie=e[G+4>>2]|0,G=cr+-1|0,G&cr?ie>>>0<cr>>>0?Gr=ie:Gr=(ie>>>0)%(cr>>>0)|0:Gr=ie&G,dr=(e[o>>2]|0)+(Gr<<2)|0,ge=89)),(ge|0)==89&&(ge=0,e[dr>>2]=$),e[w>>2]=(e[w>>2]|0)+1,Mt=e[h>>2]|0}if(Q=I+1|0,e[(e[l>>2]|0)+(Mt<<2)>>2]=I,G=e[d>>2]|0,(G|0)==(e[S>>2]|0)){pi(f,h),Ge=Q;break}else{e[G>>2]=e[h>>2],e[d>>2]=G+4,Ge=Q;break}}while(0);if(L=(e[h>>2]|0)+1|0,e[h>>2]=L,Er=e[g>>2]|0,L>>>0>=Er>>>0)break;I=Ge}(Ge|0)!=(Er|0)&&(Nm[e[(e[i>>2]|0)+24>>2]&15](i,l,f),e[g>>2]=Ge)}if(Ge=e[f>>2]|0,Ge|0&&(f=e[d>>2]|0,(f|0)!=(Ge|0)&&(e[d>>2]=f+(~((f+-4-Ge|0)>>>2)<<2)),Ae(Ge)),Ge=e[l>>2]|0,Ge|0&&(l=e[u>>2]|0,(l|0)!=(Ge|0)&&(e[u>>2]=l+(~((l+-4-Ge|0)>>>2)<<2)),Ae(Ge)),Ge=e[o+8>>2]|0,Ge|0){l=Ge;do Ge=l,l=e[l>>2]|0,Ae(Ge);while((l|0)!=0)}if(l=e[o>>2]|0,e[o>>2]=0,!l){q=s;return}Ae(l),q=s}function Y_(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0;f=q,q=q+80|0,h=f+76|0,u=f+72|0,g=f+48|0,d=f+24|0,m=f,b=i+32|0,w=e[s>>2]|0,s=w+1|0,(w|0)!=-1?(x=((s>>>0)%3|0|0)==0?w+-2|0:s,s=(((w>>>0)%3|0|0)==0?2:-1)+w|0,(x|0)==-1?C=-1:C=e[(e[e[b>>2]>>2]|0)+(x<<2)>>2]|0,(s|0)==-1?(S=C,D=-1):(S=C,D=e[(e[e[b>>2]>>2]|0)+(s<<2)>>2]|0)):(S=-1,D=-1),s=e[i+36>>2]|0,b=e[s>>2]|0,C=(e[s+4>>2]|0)-b>>2,C>>>0<=S>>>0&&qe(),x=b,b=e[x+(S<<2)>>2]|0,C>>>0<=D>>>0&&qe(),s=e[x+(D<<2)>>2]|0,D=(b|0)<(l|0);do if(D&(s|0)<(l|0)){if(x=b<<1,C=e[o+(x<<2)>>2]|0,S=((C|0)<0)<<31>>31,w=e[o+((x|1)<<2)>>2]|0,x=((w|0)<0)<<31>>31,I=s<<1,L=e[o+(I<<2)>>2]|0,P=e[o+((I|1)<<2)>>2]|0,!((L|0)!=(C|0)|(P|0)!=(w|0)))return e[i+8>>2]=C,e[i+12>>2]=w,q=f,1;if(I=i+4|0,N=e[(e[I>>2]|0)+(l<<2)>>2]|0,e[g>>2]=0,e[g+4>>2]=0,e[g+8>>2]=0,e[g+12>>2]=0,e[g+16>>2]=0,e[g+20>>2]=0,X=e[i>>2]|0,Y[X+84>>0]|0?j=N:j=e[(e[X+68>>2]|0)+(N<<2)>>2]|0,e[u>>2]=j,N=Y[X+24>>0]|0,e[h>>2]=e[u>>2],Nl(X,h,N,g)|0,N=e[(e[I>>2]|0)+(b<<2)>>2]|0,e[d>>2]=0,e[d+4>>2]=0,e[d+8>>2]=0,e[d+12>>2]=0,e[d+16>>2]=0,e[d+20>>2]=0,X=e[i>>2]|0,Y[X+84>>0]|0?Q=N:Q=e[(e[X+68>>2]|0)+(N<<2)>>2]|0,e[u>>2]=Q,N=Y[X+24>>0]|0,e[h>>2]=e[u>>2],Nl(X,h,N,d)|0,N=e[(e[I>>2]|0)+(s<<2)>>2]|0,e[m>>2]=0,e[m+4>>2]=0,e[m+8>>2]=0,e[m+12>>2]=0,e[m+16>>2]=0,e[m+20>>2]=0,I=e[i>>2]|0,Y[I+84>>0]|0?V=N:V=e[(e[I+68>>2]|0)+(N<<2)>>2]|0,e[u>>2]=V,N=Y[I+24>>0]|0,e[h>>2]=e[u>>2],Nl(I,h,N,m)|0,N=m,I=d,X=e[I>>2]|0,G=e[I+4>>2]|0,I=Gi(e[N>>2]|0,e[N+4>>2]|0,X|0,G|0)|0,N=Ze,ee=m+8|0,J=d+8|0,O=e[J>>2]|0,$=e[J+4>>2]|0,J=Gi(e[ee>>2]|0,e[ee+4>>2]|0,O|0,$|0)|0,ee=Ze,ie=m+16|0,se=d+16|0,ue=e[se>>2]|0,Ee=e[se+4>>2]|0,se=Gi(e[ie>>2]|0,e[ie+4>>2]|0,ue|0,Ee|0)|0,ie=Ze,Pe=Wr(I|0,N|0,I|0,N|0)|0,ge=Ze,Be=Wr(J|0,ee|0,J|0,ee|0)|0,_e=Qt(Be|0,Ze|0,Pe|0,ge|0)|0,ge=Ze,Pe=Wr(se|0,ie|0,se|0,ie|0)|0,Be=Qt(_e|0,ge|0,Pe|0,Ze|0)|0,Pe=Ze,(Be|0)==0&(Pe|0)==0)break;switch(ge=g,_e=Gi(e[ge>>2]|0,e[ge+4>>2]|0,X|0,G|0)|0,G=Ze,X=g+8|0,ge=Gi(e[X>>2]|0,e[X+4>>2]|0,O|0,$|0)|0,$=Ze,O=g+16|0,X=Gi(e[O>>2]|0,e[O+4>>2]|0,ue|0,Ee|0)|0,Ee=Ze,ue=Wr(_e|0,G|0,I|0,N|0)|0,O=Ze,Ce=Wr(ge|0,$|0,J|0,ee|0)|0,We=Qt(Ce|0,Ze|0,ue|0,O|0)|0,O=Ze,ue=Wr(X|0,Ee|0,se|0,ie|0)|0,Ce=Qt(We|0,O|0,ue|0,Ze|0)|0,ue=Ze,O=Gi(L|0,((L|0)<0)<<31>>31|0,C|0,S|0)|0,L=Ze,We=Gi(P|0,((P|0)<0)<<31>>31|0,w|0,x|0)|0,P=Ze,lt=Wr(Be|0,Pe|0,C|0,S|0)|0,S=Ze,C=Wr(Be|0,Pe|0,w|0,x|0)|0,x=Ze,w=Wr(Ce|0,ue|0,O|0,L|0)|0,et=Ze,Ve=Wr(Ce|0,ue|0,We|0,P|0)|0,He=Ze,st=Qt(w|0,et|0,lt|0,S|0)|0,S=Ze,lt=Qt(Ve|0,He|0,C|0,x|0)|0,x=Ze,C=Wr(Ce|0,ue|0,I|0,N|0)|0,N=Ze,I=Wr(Ce|0,ue|0,J|0,ee|0)|0,ee=Ze,J=Wr(Ce|0,ue|0,se|0,ie|0)|0,ie=Ze,se=m0(C|0,N|0,Be|0,Pe|0)|0,N=Ze,C=m0(I|0,ee|0,Be|0,Pe|0)|0,ee=Ze,I=m0(J|0,ie|0,Be|0,Pe|0)|0,ie=Ze,J=Gi(_e|0,G|0,se|0,N|0)|0,N=Ze,se=Gi(ge|0,$|0,C|0,ee|0)|0,ee=Ze,C=Gi(X|0,Ee|0,I|0,ie|0)|0,ie=Ze,I=Wr(J|0,N|0,J|0,N|0)|0,N=Ze,J=Wr(se|0,ee|0,se|0,ee|0)|0,ee=Qt(J|0,Ze|0,I|0,N|0)|0,N=Ze,I=Wr(C|0,ie|0,C|0,ie|0)|0,ie=Qt(ee|0,N|0,I|0,Ze|0)|0,I=Ze,N=Gi(0,0,O|0,L|0)|0,L=Ze,O=Wr(ie|0,I|0,Be|0,Pe|0)|0,I=Ze,O|0){case 0:{I?(ze=1,Ge=0,ke=O,ut=I,tt=23):(Je=0,it=0);break}case 1:{I?(ze=1,Ge=0,ke=O,ut=I,tt=23):(at=1,Mt=0,tt=24);break}default:ze=1,Ge=0,ke=O,ut=I,tt=23}if((tt|0)==23)for(;;)if(tt=0,ie=e0(ze|0,Ge|0,1)|0,ee=Ze,C=ke,ke=s0(ke|0,ut|0,2)|0,ut>>>0>0|(ut|0)==0&C>>>0>7)ze=ie,Ge=ee,ut=Ze,tt=23;else{at=ie,Mt=ee,tt=24;break}if((tt|0)==24)for(;;)if(tt=0,ee=W2(O|0,I|0,at|0,Mt|0)|0,ie=Qt(ee|0,Ze|0,at|0,Mt|0)|0,ee=s0(ie|0,Ze|0,1)|0,ie=Ze,C=Wr(ee|0,ie|0,ee|0,ie|0)|0,J=Ze,J>>>0>I>>>0|(J|0)==(I|0)&C>>>0>O>>>0)at=ee,Mt=ie,tt=24;else{Je=ee,it=ie;break}if(O=Wr(Je|0,it|0,We|0,P|0)|0,I=Ze,ie=Wr(Je|0,it|0,N|0,L|0)|0,ee=Ze,C=Qt(O|0,I|0,st|0,S|0)|0,J=Ze,se=Qt(ie|0,ee|0,lt|0,x|0)|0,Ee=Ze,X=m0(C|0,J|0,Be|0,Pe|0)|0,J=Ze,C=m0(se|0,Ee|0,Be|0,Pe|0)|0,Ee=Ze,se=Gi(st|0,S|0,O|0,I|0)|0,I=Ze,O=Gi(lt|0,x|0,ie|0,ee|0)|0,ee=Ze,ie=m0(se|0,I|0,Be|0,Pe|0)|0,I=Ze,se=m0(O|0,ee|0,Be|0,Pe|0)|0,ee=Ze,O=l<<1,$=e[o+(O<<2)>>2]|0,ge=(($|0)<0)<<31>>31,G=e[o+((O|1)<<2)>>2]|0,O=((G|0)<0)<<31>>31,_e=Gi($|0,ge|0,X|0,J|0)|0,ue=Ze,Ce=Gi(G|0,O|0,C|0,Ee|0)|0,He=Ze,Ve=Wr(_e|0,ue|0,_e|0,ue|0)|0,ue=Ze,_e=Wr(Ce|0,He|0,Ce|0,He|0)|0,He=Qt(_e|0,Ze|0,Ve|0,ue|0)|0,ue=Ze,Ve=Gi($|0,ge|0,ie|0,I|0)|0,ge=Ze,$=Gi(G|0,O|0,se|0,ee|0)|0,O=Ze,G=Wr(Ve|0,ge|0,Ve|0,ge|0)|0,ge=Ze,Ve=Wr($|0,O|0,$|0,O|0)|0,O=Qt(Ve|0,Ze|0,G|0,ge|0)|0,ge=Ze,G=i+16|0,Ve=i+20|0,$=e[Ve>>2]|0,_e=e[i+24>>2]|0,Ce=($|0)==(_e<<5|0),ue>>>0<ge>>>0|(ue|0)==(ge|0)&He>>>0<O>>>0){do if(Ce)if(($+1|0)<0)qe();else{O=_e<<6,He=$+32&-32,ua(G,$>>>0<1073741823?O>>>0<He>>>0?He:O:2147483647),Pt=e[Ve>>2]|0;break}else Pt=$;while(0);e[Ve>>2]=Pt+1,Pe=(e[G>>2]|0)+(Pt>>>5<<2)|0,e[Pe>>2]=e[Pe>>2]|1<<(Pt&31),yt=X,Vt=C}else{do if(Ce)if(($+1|0)<0)qe();else{Pe=_e<<6,Be=$+32&-32,ua(G,$>>>0<1073741823?Pe>>>0<Be>>>0?Be:Pe:2147483647),Lt=e[Ve>>2]|0;break}else Lt=$;while(0);e[Ve>>2]=Lt+1,$=(e[G>>2]|0)+(Lt>>>5<<2)|0,e[$>>2]=e[$>>2]&~(1<<(Lt&31)),yt=ie,Vt=se}return e[i+8>>2]=yt,e[i+12>>2]=Vt,q=f,1}while(0);do if(D)At=b<<1;else{if((l|0)>0){At=(l<<1)+-2|0;break}return Vt=i+8|0,e[Vt>>2]=0,e[Vt+4>>2]=0,q=f,1}while(0);return e[i+8>>2]=e[o+(At<<2)>>2],e[i+12>>2]=e[o+(At+1<<2)>>2],q=f,1}function K_(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0;f=q,q=q+80|0,h=f+76|0,u=f+72|0,g=f+48|0,d=f+24|0,m=f,b=i+32|0,w=e[s>>2]|0,s=w+1|0;do if((w|0)!=-1)if(x=((s>>>0)%3|0|0)==0?w+-2|0:s,(w>>>0)%3|0){C=w+-1|0,S=x;break}else{C=w+2|0,S=x;break}else C=-1,S=-1;while(0);w=e[(e[b>>2]|0)+28>>2]|0,b=e[w+(S<<2)>>2]|0,S=e[w+(C<<2)>>2]|0,C=e[i+36>>2]|0,w=e[C>>2]|0,s=(e[C+4>>2]|0)-w>>2,s>>>0<=b>>>0&&qe(),x=w,w=e[x+(b<<2)>>2]|0,s>>>0<=S>>>0&&qe(),C=e[x+(S<<2)>>2]|0,S=(w|0)<(l|0);do if(S&(C|0)<(l|0)){if(x=w<<1,s=e[o+(x<<2)>>2]|0,b=((s|0)<0)<<31>>31,D=e[o+((x|1)<<2)>>2]|0,x=((D|0)<0)<<31>>31,I=C<<1,L=e[o+(I<<2)>>2]|0,P=e[o+((I|1)<<2)>>2]|0,!((L|0)!=(s|0)|(P|0)!=(D|0)))return e[i+8>>2]=s,e[i+12>>2]=D,q=f,1;if(I=i+4|0,N=e[(e[I>>2]|0)+(l<<2)>>2]|0,e[g>>2]=0,e[g+4>>2]=0,e[g+8>>2]=0,e[g+12>>2]=0,e[g+16>>2]=0,e[g+20>>2]=0,X=e[i>>2]|0,Y[X+84>>0]|0?j=N:j=e[(e[X+68>>2]|0)+(N<<2)>>2]|0,e[u>>2]=j,N=Y[X+24>>0]|0,e[h>>2]=e[u>>2],Nl(X,h,N,g)|0,N=e[(e[I>>2]|0)+(w<<2)>>2]|0,e[d>>2]=0,e[d+4>>2]=0,e[d+8>>2]=0,e[d+12>>2]=0,e[d+16>>2]=0,e[d+20>>2]=0,X=e[i>>2]|0,Y[X+84>>0]|0?Q=N:Q=e[(e[X+68>>2]|0)+(N<<2)>>2]|0,e[u>>2]=Q,N=Y[X+24>>0]|0,e[h>>2]=e[u>>2],Nl(X,h,N,d)|0,N=e[(e[I>>2]|0)+(C<<2)>>2]|0,e[m>>2]=0,e[m+4>>2]=0,e[m+8>>2]=0,e[m+12>>2]=0,e[m+16>>2]=0,e[m+20>>2]=0,I=e[i>>2]|0,Y[I+84>>0]|0?V=N:V=e[(e[I+68>>2]|0)+(N<<2)>>2]|0,e[u>>2]=V,N=Y[I+24>>0]|0,e[h>>2]=e[u>>2],Nl(I,h,N,m)|0,N=m,I=d,X=e[I>>2]|0,G=e[I+4>>2]|0,I=Gi(e[N>>2]|0,e[N+4>>2]|0,X|0,G|0)|0,N=Ze,ee=m+8|0,J=d+8|0,O=e[J>>2]|0,$=e[J+4>>2]|0,J=Gi(e[ee>>2]|0,e[ee+4>>2]|0,O|0,$|0)|0,ee=Ze,ie=m+16|0,se=d+16|0,ue=e[se>>2]|0,Ee=e[se+4>>2]|0,se=Gi(e[ie>>2]|0,e[ie+4>>2]|0,ue|0,Ee|0)|0,ie=Ze,Pe=Wr(I|0,N|0,I|0,N|0)|0,ge=Ze,Be=Wr(J|0,ee|0,J|0,ee|0)|0,_e=Qt(Be|0,Ze|0,Pe|0,ge|0)|0,ge=Ze,Pe=Wr(se|0,ie|0,se|0,ie|0)|0,Be=Qt(_e|0,ge|0,Pe|0,Ze|0)|0,Pe=Ze,(Be|0)==0&(Pe|0)==0)break;switch(ge=g,_e=Gi(e[ge>>2]|0,e[ge+4>>2]|0,X|0,G|0)|0,G=Ze,X=g+8|0,ge=Gi(e[X>>2]|0,e[X+4>>2]|0,O|0,$|0)|0,$=Ze,O=g+16|0,X=Gi(e[O>>2]|0,e[O+4>>2]|0,ue|0,Ee|0)|0,Ee=Ze,ue=Wr(_e|0,G|0,I|0,N|0)|0,O=Ze,Ce=Wr(ge|0,$|0,J|0,ee|0)|0,We=Qt(Ce|0,Ze|0,ue|0,O|0)|0,O=Ze,ue=Wr(X|0,Ee|0,se|0,ie|0)|0,Ce=Qt(We|0,O|0,ue|0,Ze|0)|0,ue=Ze,O=Gi(L|0,((L|0)<0)<<31>>31|0,s|0,b|0)|0,L=Ze,We=Gi(P|0,((P|0)<0)<<31>>31|0,D|0,x|0)|0,P=Ze,lt=Wr(Be|0,Pe|0,s|0,b|0)|0,b=Ze,s=Wr(Be|0,Pe|0,D|0,x|0)|0,x=Ze,D=Wr(Ce|0,ue|0,O|0,L|0)|0,et=Ze,Ve=Wr(Ce|0,ue|0,We|0,P|0)|0,He=Ze,st=Qt(D|0,et|0,lt|0,b|0)|0,b=Ze,lt=Qt(Ve|0,He|0,s|0,x|0)|0,x=Ze,s=Wr(Ce|0,ue|0,I|0,N|0)|0,N=Ze,I=Wr(Ce|0,ue|0,J|0,ee|0)|0,ee=Ze,J=Wr(Ce|0,ue|0,se|0,ie|0)|0,ie=Ze,se=m0(s|0,N|0,Be|0,Pe|0)|0,N=Ze,s=m0(I|0,ee|0,Be|0,Pe|0)|0,ee=Ze,I=m0(J|0,ie|0,Be|0,Pe|0)|0,ie=Ze,J=Gi(_e|0,G|0,se|0,N|0)|0,N=Ze,se=Gi(ge|0,$|0,s|0,ee|0)|0,ee=Ze,s=Gi(X|0,Ee|0,I|0,ie|0)|0,ie=Ze,I=Wr(J|0,N|0,J|0,N|0)|0,N=Ze,J=Wr(se|0,ee|0,se|0,ee|0)|0,ee=Qt(J|0,Ze|0,I|0,N|0)|0,N=Ze,I=Wr(s|0,ie|0,s|0,ie|0)|0,ie=Qt(ee|0,N|0,I|0,Ze|0)|0,I=Ze,N=Gi(0,0,O|0,L|0)|0,L=Ze,O=Wr(ie|0,I|0,Be|0,Pe|0)|0,I=Ze,O|0){case 0:{I?(ze=1,Ge=0,ke=O,ut=I,tt=22):(Je=0,it=0);break}case 1:{I?(ze=1,Ge=0,ke=O,ut=I,tt=22):(at=1,Mt=0,tt=23);break}default:ze=1,Ge=0,ke=O,ut=I,tt=22}if((tt|0)==22)for(;;)if(tt=0,ie=e0(ze|0,Ge|0,1)|0,ee=Ze,s=ke,ke=s0(ke|0,ut|0,2)|0,ut>>>0>0|(ut|0)==0&s>>>0>7)ze=ie,Ge=ee,ut=Ze,tt=22;else{at=ie,Mt=ee,tt=23;break}if((tt|0)==23)for(;;)if(tt=0,ee=W2(O|0,I|0,at|0,Mt|0)|0,ie=Qt(ee|0,Ze|0,at|0,Mt|0)|0,ee=s0(ie|0,Ze|0,1)|0,ie=Ze,s=Wr(ee|0,ie|0,ee|0,ie|0)|0,J=Ze,J>>>0>I>>>0|(J|0)==(I|0)&s>>>0>O>>>0)at=ee,Mt=ie,tt=23;else{Je=ee,it=ie;break}if(O=Wr(Je|0,it|0,We|0,P|0)|0,I=Ze,ie=Wr(Je|0,it|0,N|0,L|0)|0,ee=Ze,s=Qt(O|0,I|0,st|0,b|0)|0,J=Ze,se=Qt(ie|0,ee|0,lt|0,x|0)|0,Ee=Ze,X=m0(s|0,J|0,Be|0,Pe|0)|0,J=Ze,s=m0(se|0,Ee|0,Be|0,Pe|0)|0,Ee=Ze,se=Gi(st|0,b|0,O|0,I|0)|0,I=Ze,O=Gi(lt|0,x|0,ie|0,ee|0)|0,ee=Ze,ie=m0(se|0,I|0,Be|0,Pe|0)|0,I=Ze,se=m0(O|0,ee|0,Be|0,Pe|0)|0,ee=Ze,O=l<<1,$=e[o+(O<<2)>>2]|0,ge=(($|0)<0)<<31>>31,G=e[o+((O|1)<<2)>>2]|0,O=((G|0)<0)<<31>>31,_e=Gi($|0,ge|0,X|0,J|0)|0,ue=Ze,Ce=Gi(G|0,O|0,s|0,Ee|0)|0,He=Ze,Ve=Wr(_e|0,ue|0,_e|0,ue|0)|0,ue=Ze,_e=Wr(Ce|0,He|0,Ce|0,He|0)|0,He=Qt(_e|0,Ze|0,Ve|0,ue|0)|0,ue=Ze,Ve=Gi($|0,ge|0,ie|0,I|0)|0,ge=Ze,$=Gi(G|0,O|0,se|0,ee|0)|0,O=Ze,G=Wr(Ve|0,ge|0,Ve|0,ge|0)|0,ge=Ze,Ve=Wr($|0,O|0,$|0,O|0)|0,O=Qt(Ve|0,Ze|0,G|0,ge|0)|0,ge=Ze,G=i+16|0,Ve=i+20|0,$=e[Ve>>2]|0,_e=e[i+24>>2]|0,Ce=($|0)==(_e<<5|0),ue>>>0<ge>>>0|(ue|0)==(ge|0)&He>>>0<O>>>0){do if(Ce)if(($+1|0)<0)qe();else{O=_e<<6,He=$+32&-32,ua(G,$>>>0<1073741823?O>>>0<He>>>0?He:O:2147483647),Pt=e[Ve>>2]|0;break}else Pt=$;while(0);e[Ve>>2]=Pt+1,Pe=(e[G>>2]|0)+(Pt>>>5<<2)|0,e[Pe>>2]=e[Pe>>2]|1<<(Pt&31),yt=X,Vt=s}else{do if(Ce)if(($+1|0)<0)qe();else{Pe=_e<<6,Be=$+32&-32,ua(G,$>>>0<1073741823?Pe>>>0<Be>>>0?Be:Pe:2147483647),Lt=e[Ve>>2]|0;break}else Lt=$;while(0);e[Ve>>2]=Lt+1,$=(e[G>>2]|0)+(Lt>>>5<<2)|0,e[$>>2]=e[$>>2]&~(1<<(Lt&31)),yt=ie,Vt=se}return e[i+8>>2]=yt,e[i+12>>2]=Vt,q=f,1}while(0);do if(S)At=w<<1;else{if((l|0)>0){At=(l<<1)+-2|0;break}return Vt=i+8|0,e[Vt>>2]=0,e[Vt+4>>2]=0,q=f,1}while(0);return e[i+8>>2]=e[o+(At<<2)>>2],e[i+12>>2]=e[o+(At+1<<2)>>2],q=f,1}function Nl(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=vi,Q=0,V=0,G=0,ee=0;if(!l)return f=0,f|0;do switch(e[i+28>>2]|0){case 1:{if(h=i+24|0,u=Y[h>>0]|0,(u<<24>>24>o<<24>>24?o:u)<<24>>24>0)for(g=e[e[i>>2]>>2]|0,d=i+40|0,m=Wr(e[d>>2]|0,e[d+4>>2]|0,e[s>>2]|0,0)|0,d=i+48|0,b=Qt(m|0,Ze|0,e[d>>2]|0,e[d+4>>2]|0)|0,d=g+b|0,b=0;;)if(g=Y[d>>0]|0,m=l+(b<<3)|0,e[m>>2]=g,e[m+4>>2]=((g|0)<0)<<31>>31,b=b+1|0,g=Y[h>>0]|0,(b|0)>=((g<<24>>24>o<<24>>24?o:g)<<24>>24|0)){w=g;break}else d=d+1|0;else w=u;return d=w<<24>>24,w<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(d<<3)|0,0,(o<<24>>24)-d<<3|0)|0,f=1,f|0)}case 2:{if(d=i+24|0,b=Y[d>>0]|0,(b<<24>>24>o<<24>>24?o:b)<<24>>24>0)for(h=e[e[i>>2]>>2]|0,g=i+40|0,m=Wr(e[g>>2]|0,e[g+4>>2]|0,e[s>>2]|0,0)|0,g=i+48|0,x=Qt(m|0,Ze|0,e[g>>2]|0,e[g+4>>2]|0)|0,g=h+x|0,x=0;;)if(h=l+(x<<3)|0,e[h>>2]=br[g>>0],e[h+4>>2]=0,x=x+1|0,h=Y[d>>0]|0,(x|0)>=((h<<24>>24>o<<24>>24?o:h)<<24>>24|0)){C=h;break}else g=g+1|0;else C=b;return g=C<<24>>24,C<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(g<<3)|0,0,(o<<24>>24)-g<<3|0)|0,f=1,f|0)}case 3:{if(g=i+24|0,x=Y[g>>0]|0,(x<<24>>24>o<<24>>24?o:x)<<24>>24>0)for(d=e[e[i>>2]>>2]|0,u=i+40|0,h=Wr(e[u>>2]|0,e[u+4>>2]|0,e[s>>2]|0,0)|0,u=i+48|0,m=Qt(h|0,Ze|0,e[u>>2]|0,e[u+4>>2]|0)|0,u=d+m|0,m=0;;)if(d=Or[u>>1]|0,h=l+(m<<3)|0,e[h>>2]=d,e[h+4>>2]=((d|0)<0)<<31>>31,m=m+1|0,d=Y[g>>0]|0,(m|0)>=((d<<24>>24>o<<24>>24?o:d)<<24>>24|0)){S=d;break}else u=u+2|0;else S=x;return u=S<<24>>24,S<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(u<<3)|0,0,(o<<24>>24)-u<<3|0)|0,f=1,f|0)}case 4:{if(u=i+24|0,m=Y[u>>0]|0,(m<<24>>24>o<<24>>24?o:m)<<24>>24>0)for(g=e[e[i>>2]>>2]|0,b=i+40|0,d=Wr(e[b>>2]|0,e[b+4>>2]|0,e[s>>2]|0,0)|0,b=i+48|0,h=Qt(d|0,Ze|0,e[b>>2]|0,e[b+4>>2]|0)|0,b=g+h|0,h=0;;)if(g=l+(h<<3)|0,e[g>>2]=fa[b>>1],e[g+4>>2]=0,h=h+1|0,g=Y[u>>0]|0,(h|0)>=((g<<24>>24>o<<24>>24?o:g)<<24>>24|0)){D=g;break}else b=b+2|0;else D=m;return b=D<<24>>24,D<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(b<<3)|0,0,(o<<24>>24)-b<<3|0)|0,f=1,f|0)}case 5:{if(b=i+24|0,h=Y[b>>0]|0,(h<<24>>24>o<<24>>24?o:h)<<24>>24>0)for(u=e[e[i>>2]>>2]|0,x=i+40|0,g=Wr(e[x>>2]|0,e[x+4>>2]|0,e[s>>2]|0,0)|0,x=i+48|0,d=Qt(g|0,Ze|0,e[x>>2]|0,e[x+4>>2]|0)|0,x=u+d|0,d=0;;)if(u=e[x>>2]|0,g=l+(d<<3)|0,e[g>>2]=u,e[g+4>>2]=((u|0)<0)<<31>>31,d=d+1|0,u=Y[b>>0]|0,(d|0)>=((u<<24>>24>o<<24>>24?o:u)<<24>>24|0)){I=u;break}else x=x+4|0;else I=h;return x=I<<24>>24,I<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(x<<3)|0,0,(o<<24>>24)-x<<3|0)|0,f=1,f|0)}case 6:{if(x=i+24|0,d=Y[x>>0]|0,(d<<24>>24>o<<24>>24?o:d)<<24>>24>0)for(b=e[e[i>>2]>>2]|0,m=i+40|0,u=Wr(e[m>>2]|0,e[m+4>>2]|0,e[s>>2]|0,0)|0,m=i+48|0,g=Qt(u|0,Ze|0,e[m>>2]|0,e[m+4>>2]|0)|0,m=b+g|0,g=0;;)if(b=l+(g<<3)|0,e[b>>2]=e[m>>2],e[b+4>>2]=0,g=g+1|0,b=Y[x>>0]|0,(g|0)>=((b<<24>>24>o<<24>>24?o:b)<<24>>24|0)){L=b;break}else m=m+4|0;else L=d;return m=L<<24>>24,L<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(m<<3)|0,0,(o<<24>>24)-m<<3|0)|0,f=1,f|0)}case 7:{if(m=i+24|0,g=Y[m>>0]|0,(g<<24>>24>o<<24>>24?o:g)<<24>>24>0)for(x=e[e[i>>2]>>2]|0,h=i+40|0,b=Wr(e[h>>2]|0,e[h+4>>2]|0,e[s>>2]|0,0)|0,h=i+48|0,u=Qt(b|0,Ze|0,e[h>>2]|0,e[h+4>>2]|0)|0,h=x+u|0,u=0;;)if(x=h,b=e[x+4>>2]|0,P=l+(u<<3)|0,e[P>>2]=e[x>>2],e[P+4>>2]=b,u=u+1|0,b=Y[m>>0]|0,(u|0)>=((b<<24>>24>o<<24>>24?o:b)<<24>>24|0)){N=b;break}else h=h+8|0;else N=g;return h=N<<24>>24,N<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(h<<3)|0,0,(o<<24>>24)-h<<3|0)|0,f=1,f|0)}case 8:{if(h=i+24|0,u=Y[h>>0]|0,(u<<24>>24>o<<24>>24?o:u)<<24>>24>0)for(m=e[e[i>>2]>>2]|0,d=i+40|0,b=Wr(e[d>>2]|0,e[d+4>>2]|0,e[s>>2]|0,0)|0,d=i+48|0,P=Qt(b|0,Ze|0,e[d>>2]|0,e[d+4>>2]|0)|0,d=m+P|0,P=0;;)if(m=d,b=e[m+4>>2]|0,x=l+(P<<3)|0,e[x>>2]=e[m>>2],e[x+4>>2]=b,P=P+1|0,b=Y[h>>0]|0,(P|0)>=((b<<24>>24>o<<24>>24?o:b)<<24>>24|0)){X=b;break}else d=d+8|0;else X=u;return d=X<<24>>24,X<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(d<<3)|0,0,(o<<24>>24)-d<<3|0)|0,f=1,f|0)}case 9:{if(d=i+24|0,P=Y[d>>0]|0,(P<<24>>24>o<<24>>24?o:P)<<24>>24>0)for(h=e[e[i>>2]>>2]|0,g=i+40|0,b=Wr(e[g>>2]|0,e[g+4>>2]|0,e[s>>2]|0,0)|0,g=i+48|0,x=Qt(b|0,Ze|0,e[g>>2]|0,e[g+4>>2]|0)|0,g=h+x|0,x=0;;)if(j=Zt(bi[g>>2]),h=+u0(+j)>=1?+j>0?~~+n0(+bn(+j/4294967296),4294967295)>>>0:~~+yi((+j-+(~~+j>>>0))/4294967296)>>>0:0,b=l+(x<<3)|0,e[b>>2]=~~+j>>>0,e[b+4>>2]=h,x=x+1|0,h=Y[d>>0]|0,(x|0)>=((h<<24>>24>o<<24>>24?o:h)<<24>>24|0)){Q=h;break}else g=g+4|0;else Q=P;return g=Q<<24>>24,Q<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(g<<3)|0,0,(o<<24>>24)-g<<3|0)|0,f=1,f|0)}case 10:{if(g=i+24|0,x=Y[g>>0]|0,(x<<24>>24>o<<24>>24?o:x)<<24>>24>0)for(d=e[e[i>>2]>>2]|0,u=i+40|0,h=Wr(e[u>>2]|0,e[u+4>>2]|0,e[s>>2]|0,0)|0,u=i+48|0,b=Qt(h|0,Ze|0,e[u>>2]|0,e[u+4>>2]|0)|0,u=d+b|0,b=0;;)if(V=+N0[u>>3],d=+u0(V)>=1?V>0?~~+n0(+bn(V/4294967296),4294967295)>>>0:~~+yi((V-+(~~V>>>0))/4294967296)>>>0:0,h=l+(b<<3)|0,e[h>>2]=~~V>>>0,e[h+4>>2]=d,b=b+1|0,d=Y[g>>0]|0,(b|0)>=((d<<24>>24>o<<24>>24?o:d)<<24>>24|0)){G=d;break}else u=u+8|0;else G=x;return u=G<<24>>24,G<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(u<<3)|0,0,(o<<24>>24)-u<<3|0)|0,f=1,f|0)}case 11:{if(u=i+24|0,b=Y[u>>0]|0,(b<<24>>24>o<<24>>24?o:b)<<24>>24>0)for(g=e[e[i>>2]>>2]|0,P=i+40|0,d=Wr(e[P>>2]|0,e[P+4>>2]|0,e[s>>2]|0,0)|0,P=i+48|0,h=Qt(d|0,Ze|0,e[P>>2]|0,e[P+4>>2]|0)|0,P=g+h|0,h=0;;)if(g=l+(h<<3)|0,e[g>>2]=br[P>>0],e[g+4>>2]=0,h=h+1|0,g=Y[u>>0]|0,(h|0)>=((g<<24>>24>o<<24>>24?o:g)<<24>>24|0)){ee=g;break}else P=P+1|0;else ee=b;return P=ee<<24>>24,ee<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(P<<3)|0,0,(o<<24>>24)-P<<3|0)|0,f=1,f|0)}default:return f=0,f|0}while(0);return 0}function $_(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0;if(o=q,q=q+16|0,l=o+8|0,f=o,(e[i+92>>2]|0)==(e[i+88>>2]|0))return q=o,1;if(h=i+52|0,u=e[h>>2]|0,(u|0)==(e[i+56>>2]|0)?(pi(i+48|0,s),g=s):(e[u>>2]=e[s>>2],e[h>>2]=u+4,g=s),s=i+84|0,e[s>>2]=0,u=i+4|0,h=e[u>>2]|0,d=e[g>>2]|0,m=d+1|0,(d|0)!=-1?(b=((m>>>0)%3|0|0)==0?d+-2|0:m,(b|0)==-1?w=-1:w=e[(e[h>>2]|0)+(b<<2)>>2]|0,b=(((d>>>0)%3|0|0)==0?2:-1)+d|0,(b|0)==-1?(x=w,C=-1):(x=w,C=e[(e[h>>2]|0)+(b<<2)>>2]|0)):(x=-1,C=-1),b=i+36|0,h=e[b>>2]|0,w=h+(x>>>5<<2)|0,d=1<<(x&31),m=e[w>>2]|0,m&d?I=h:(e[w>>2]=m|d,d=e[g>>2]|0,m=d+1|0,(d|0)==-1?S=-1:S=((m>>>0)%3|0|0)==0?d+-2|0:m,e[f>>2]=S,m=e[(e[(e[i+16>>2]|0)+96>>2]|0)+(((S>>>0)/3|0)*12|0)+(((S>>>0)%3|0)<<2)>>2]|0,S=e[i+20>>2]|0,e[l>>2]=m,d=e[S+4>>2]|0,S=d+4|0,w=e[S>>2]|0,(w|0)==(e[d+8>>2]|0)?pi(d,l):(e[w>>2]=m,e[S>>2]=w+4),w=i+12|0,S=e[w>>2]|0,m=S+4|0,d=e[m>>2]|0,(d|0)==(e[S+8>>2]|0)?(pi(S,f),D=e[w>>2]|0):(e[d>>2]=e[f>>2],e[m>>2]=d+4,D=S),S=D+24|0,e[(e[D+12>>2]|0)+(x<<2)>>2]=e[S>>2],e[S>>2]=(e[S>>2]|0)+1,I=e[b>>2]|0),h=I+(C>>>5<<2)|0,I=1<<(C&31),S=e[h>>2]|0,!(S&I)){e[h>>2]=S|I,I=e[g>>2]|0;do if((I|0)!=-1)if((I>>>0)%3|0){L=I+-1|0;break}else{L=I+2|0;break}else L=-1;while(0);e[f>>2]=L,I=e[(e[(e[i+16>>2]|0)+96>>2]|0)+(((L>>>0)/3|0)*12|0)+(((L>>>0)%3|0)<<2)>>2]|0,L=e[i+20>>2]|0,e[l>>2]=I,S=e[L+4>>2]|0,L=S+4|0,h=e[L>>2]|0,(h|0)==(e[S+8>>2]|0)?pi(S,l):(e[h>>2]=I,e[L>>2]=h+4),h=i+12|0,L=e[h>>2]|0,I=L+4|0,S=e[I>>2]|0,(S|0)==(e[L+8>>2]|0)?(pi(L,f),P=e[h>>2]|0):(e[S>>2]=e[f>>2],e[I>>2]=S+4,P=L),L=P+24|0,e[(e[P+12>>2]|0)+(C<<2)>>2]=e[L>>2],e[L>>2]=(e[L>>2]|0)+1}L=e[g>>2]|0,(L|0)==-1?N=-1:N=e[(e[e[u>>2]>>2]|0)+(L<<2)>>2]|0,L=(e[b>>2]|0)+(N>>>5<<2)|0,C=1<<(N&31),P=e[L>>2]|0,C&P||(e[L>>2]=P|C,C=e[g>>2]|0,e[f>>2]=C,P=e[(e[(e[i+16>>2]|0)+96>>2]|0)+(((C>>>0)/3|0)*12|0)+(((C>>>0)%3|0)<<2)>>2]|0,C=e[i+20>>2]|0,e[l>>2]=P,L=e[C+4>>2]|0,C=L+4|0,S=e[C>>2]|0,(S|0)==(e[L+8>>2]|0)?pi(L,l):(e[S>>2]=P,e[C>>2]=S+4),S=i+12|0,C=e[S>>2]|0,P=C+4|0,L=e[P>>2]|0,(L|0)==(e[C+8>>2]|0)?(pi(C,f),X=e[S>>2]|0):(e[L>>2]=e[f>>2],e[P>>2]=L+4,X=C),C=X+24|0,e[(e[X+12>>2]|0)+(N<<2)>>2]=e[C>>2],e[C>>2]=(e[C>>2]|0)+1),C=e[s>>2]|0;e:do if((C|0)<3){for(N=i+24|0,X=i+16|0,L=i+20|0,P=i+12|0,S=i+88|0,I=C;;){for(h=I;j=i+48+(h*12|0)+4|0,Q=e[j>>2]|0,(e[i+48+(h*12|0)>>2]|0)==(Q|0);)if((h|0)<2)h=h+1|0;else break e;if(x=Q+-4|0,D=e[x>>2]|0,e[j>>2]=x,e[s>>2]=h,e[g>>2]=D,(D|0)==-1)break;x=(D>>>0)/3|0,d=e[N>>2]|0;do if(e[d+(x>>>5<<2)>>2]&1<<(x&31))et=h;else{m=D,w=d;t:for(;;){if(V=(m>>>0)/3|0,G=w+(V>>>5<<2)|0,e[G>>2]=1<<(V&31)|e[G>>2],G=e[g>>2]|0,(G|0)==-1?ee=-1:ee=e[(e[e[u>>2]>>2]|0)+(G<<2)>>2]|0,V=(e[b>>2]|0)+(ee>>>5<<2)|0,J=1<<(ee&31),O=e[V>>2]|0,J&O?se=G:(e[V>>2]=O|J,J=e[g>>2]|0,e[f>>2]=J,O=e[(e[(e[X>>2]|0)+96>>2]|0)+(((J>>>0)/3|0)*12|0)+(((J>>>0)%3|0)<<2)>>2]|0,J=e[L>>2]|0,e[l>>2]=O,V=e[J+4>>2]|0,J=V+4|0,$=e[J>>2]|0,($|0)==(e[V+8>>2]|0)?pi(V,l):(e[$>>2]=O,e[J>>2]=$+4),$=e[P>>2]|0,J=$+4|0,O=e[J>>2]|0,(O|0)==(e[$+8>>2]|0)?(pi($,f),ie=e[P>>2]|0):(e[O>>2]=e[f>>2],e[J>>2]=O+4,ie=$),$=ie+24|0,e[(e[ie+12>>2]|0)+(ee<<2)>>2]=e[$>>2],e[$>>2]=(e[$>>2]|0)+1,se=e[g>>2]|0),G=e[u>>2]|0,(se|0)==-1){ue=93;break}$=se+1|0,O=(($>>>0)%3|0|0)==0?se+-2|0:$,(O|0)==-1?Ee=-1:Ee=e[(e[G+12>>2]|0)+(O<<2)>>2]|0,O=(((se>>>0)%3|0|0)==0?2:-1)+se|0,(O|0)==-1?Pe=-1:Pe=e[(e[G+12>>2]|0)+(O<<2)>>2]|0,O=(Ee|0)==-1,$=O?-1:(Ee>>>0)/3|0,J=(Pe|0)==-1,V=J?-1:(Pe>>>0)/3|0,O?ge=1:ge=(e[(e[N>>2]|0)+($>>>5<<2)>>2]&1<<($&31)|0)!=0;do if(J)if(ge){ue=93;break t}else ue=82;else{if(e[(e[N>>2]|0)+(V>>>5<<2)>>2]&1<<(V&31)|0)if(ge){ue=93;break t}else{ue=82;break}if($=e[(e[G>>2]|0)+(Pe<<2)>>2]|0,1<<($&31)&e[(e[b>>2]|0)+($>>>5<<2)>>2]?_e=0:(Be=(e[S>>2]|0)+($<<2)|0,$=e[Be>>2]|0,e[Be>>2]=$+1,_e=($|0)>0?1:2),ge&&(_e|0)<=(e[s>>2]|0)){Ce=Pe;break}if(e[l>>2]=Pe,$=i+48+(_e*12|0)+4|0,Be=e[$>>2]|0,(Be|0)==(e[i+48+(_e*12|0)+8>>2]|0)?pi(i+48+(_e*12|0)|0,l):(e[Be>>2]=Pe,e[$>>2]=Be+4),(e[s>>2]|0)>(_e|0)&&(e[s>>2]=_e),ge){ue=93;break t}else ue=82}while(0);if((ue|0)==82){if(ue=0,O?We=-1:We=e[(e[e[u>>2]>>2]|0)+(Ee<<2)>>2]|0,1<<(We&31)&e[(e[b>>2]|0)+(We>>>5<<2)>>2]?lt=0:(G=(e[S>>2]|0)+(We<<2)|0,V=e[G>>2]|0,e[G>>2]=V+1,lt=(V|0)>0?1:2),(lt|0)>(e[s>>2]|0))break;Ce=Ee}e[g>>2]=Ce,m=Ce,w=e[N>>2]|0}if((ue|0)==93){ue=0,et=e[s>>2]|0;break}e[l>>2]=Ee,w=i+48+(lt*12|0)+4|0,m=e[w>>2]|0,(m|0)==(e[i+48+(lt*12|0)+8>>2]|0)?pi(i+48+(lt*12|0)|0,l):(e[m>>2]=Ee,e[w>>2]=m+4),m=e[s>>2]|0,(m|0)>(lt|0)?(e[s>>2]=lt,Ve=lt):Ve=m,et=Ve}while(0);if((et|0)<3)I=et;else break e}return q=o,1}while(0);return e[g>>2]=-1,q=o,1}function r3(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0;l=i,i=s;e:for(;;){for(s=i,f=i+-4|0,h=l;;){u=h;t:for(;;){switch(g=u,d=s-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(w=u+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=Le(u,u+(d<<2)|0,w,w+(d<<2)|0,f,o)|0):x=Tn(u,w,f,o)|0,C=e[u>>2]|0,d=e[w>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,D=(e[S+4>>2]|0)-m>>3,D>>>0<=C>>>0){b=20;break e}if(I=m,D>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,L=e[I+(d<<3)>>2]|0,m>>>0<L>>>0){P=f,N=x;break}else X=f;for(;X=X+-4|0,(u|0)!=(X|0);){if(j=e[X>>2]|0,D>>>0<=j>>>0){b=51;break e}if((e[I+(j<<3)>>2]|0)>>>0<L>>>0){b=53;break t}}if(L=u+4|0,d=e[f>>2]|0,D>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=L;else{if((L|0)==(f|0)){b=84;break e}else V=L;for(;;){if(G=e[V>>2]|0,D>>>0<=G>>>0){b=32;break e}if(m>>>0<(e[I+(G<<3)>>2]|0)>>>0)break;if(L=V+4|0,(L|0)==(f|0)){b=84;break e}else V=L}e[V>>2]=d,e[f>>2]=G,Q=V+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[u>>2]|0,ee=e[o>>2]|0,m=e[ee>>2]|0,D=(e[ee+4>>2]|0)-m>>3,D>>>0<=I>>>0){b=38;break e}for(L=m,m=f,J=Q,O=I;;){for(I=L+(O<<3)|0,$=D>>>0>O>>>0,ie=J;;){if(se=e[ie>>2]|0,D>>>0<=se>>>0){b=40;break e}if(ue=e[I>>2]|0,ue>>>0<(e[L+(se<<3)>>2]|0)>>>0)break;if($)ie=ie+4|0;else{b=38;break e}}if(D>>>0>O>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Pe=e[Ee>>2]|0,D>>>0<=Pe>>>0){b=47;break e}while(ue>>>0<(e[L+(Pe<<3)>>2]|0)>>>0);if(ie>>>0>=Ee>>>0){u=ie;continue t}if($=e[ie>>2]|0,e[ie>>2]=Pe,e[Ee>>2]=$,O=e[u>>2]|0,D>>>0<=O>>>0){b=38;break e}else m=Ee,J=ie+4|0}}(b|0)==53&&(b=0,e[u>>2]=j,e[X>>2]=C,P=X,N=x+1|0),J=u+4|0;t:do if(J>>>0<P>>>0){if(m=e[J>>2]|0,O=e[o>>2]|0,D=e[O>>2]|0,L=(e[O+4>>2]|0)-D>>3,L>>>0>m>>>0)ge=P,Be=J,_e=N,Ce=w,We=L,lt=D,et=O,Ve=m;else{b=57;break e}for(;;){for(O=e[o>>2]|0,m=O+4|0,D=e[Ce>>2]|0,L=Be,d=lt,$=We,He=et,I=Ve;;){if(se=d,$>>>0<=D>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(D<<3)>>2]|0)>>>0)break;if(se=L+4|0,st=e[se>>2]|0,d=e[O>>2]|0,$=(e[m>>2]|0)-d>>3,$>>>0<=st>>>0){b=57;break e}else L=se,He=O,I=st}if(O=e[Ce>>2]|0,lt=e[He>>2]|0,We=(e[He+4>>2]|0)-lt>>3,$=lt,d=$+(O<<3)|0,We>>>0>O>>>0)Je=ge;else{b=65;break e}do if(Je=Je+-4|0,it=e[Je>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[$+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(L>>>0>Je>>>0){ze=Ce,Ge=_e,ke=L;break t}if(e[L>>2]=it,e[Je>>2]=I,Be=L+4|0,Ve=e[Be>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else ge=Je,_e=_e+1|0,Ce=(Ce|0)==(L|0)?Je:Ce,et=He}}else ze=w,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,$=e[ut>>2]|0,O=(e[ut+4>>2]|0)-$>>3,O>>>0<=J>>>0){b=72;break e}if(m=$,O>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,tt=Ge+1|0):tt=Ge}else tt=Ge;if(!tt){if(at=$n(u,ke,o)|0,d=ke+4|0,$n(d,i,o)|0){b=83;break}if(at){h=d;continue}}if(d=ke,(d-g|0)>=(s-d|0)){b=82;break}r3(u,ke,o),h=ke+4|0}if((b|0)==82){b=0,r3(ke+4|0,i,o),l=u,i=ke;continue}else if((b|0)==83)if(b=0,at){b=84;break}else{l=u,i=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[u>>2]|0,l=e[o>>2]|0,at=e[l>>2]|0,g=(e[l+4>>2]|0)-at>>3,g>>>0<=b>>>0&&qe(),tt=at,g>>>0<=ke>>>0&&qe(),(e[tt+(b<<3)>>2]|0)>>>0>=(e[tt+(ke<<3)>>2]|0)>>>0)return;e[u>>2]=b,e[f>>2]=ke;return}case 11:{Tn(u,u+4|0,f,o)|0;return}case 12:{po(u,u+4|0,u+8|0,f,o)|0;return}case 13:{Le(u,u+4|0,u+8|0,u+12|0,f,o)|0;return}case 15:{Ho(u,i,o);return}case 20:{qe();break}case 22:{qe();break}case 26:{qe();break}case 32:{qe();break}case 38:{qe();break}case 40:{qe();break}case 46:{qe();break}case 47:{qe();break}case 51:{qe();break}case 57:{qe();break}case 59:{qe();break}case 65:{We>>>0>(e[ge+-4>>2]|0)>>>0,qe();break}case 66:{qe();break}case 72:{qe();break}case 74:{qe();break}case 84:return}}function i3(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0;l=i,i=s;e:for(;;){for(s=i,f=i+-4|0,h=l;;){u=h;t:for(;;){switch(g=u,d=s-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(w=u+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=Le(u,u+(d<<2)|0,w,w+(d<<2)|0,f,o)|0):x=Tn(u,w,f,o)|0,C=e[u>>2]|0,d=e[w>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,D=(e[S+4>>2]|0)-m>>3,D>>>0<=C>>>0){b=20;break e}if(I=m,D>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,L=e[I+(d<<3)>>2]|0,m>>>0<L>>>0){P=f,N=x;break}else X=f;for(;X=X+-4|0,(u|0)!=(X|0);){if(j=e[X>>2]|0,D>>>0<=j>>>0){b=51;break e}if((e[I+(j<<3)>>2]|0)>>>0<L>>>0){b=53;break t}}if(L=u+4|0,d=e[f>>2]|0,D>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=L;else{if((L|0)==(f|0)){b=84;break e}else V=L;for(;;){if(G=e[V>>2]|0,D>>>0<=G>>>0){b=32;break e}if(m>>>0<(e[I+(G<<3)>>2]|0)>>>0)break;if(L=V+4|0,(L|0)==(f|0)){b=84;break e}else V=L}e[V>>2]=d,e[f>>2]=G,Q=V+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[u>>2]|0,ee=e[o>>2]|0,m=e[ee>>2]|0,D=(e[ee+4>>2]|0)-m>>3,D>>>0<=I>>>0){b=38;break e}for(L=m,m=f,J=Q,O=I;;){for(I=L+(O<<3)|0,$=D>>>0>O>>>0,ie=J;;){if(se=e[ie>>2]|0,D>>>0<=se>>>0){b=40;break e}if(ue=e[I>>2]|0,ue>>>0<(e[L+(se<<3)>>2]|0)>>>0)break;if($)ie=ie+4|0;else{b=38;break e}}if(D>>>0>O>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Pe=e[Ee>>2]|0,D>>>0<=Pe>>>0){b=47;break e}while(ue>>>0<(e[L+(Pe<<3)>>2]|0)>>>0);if(ie>>>0>=Ee>>>0){u=ie;continue t}if($=e[ie>>2]|0,e[ie>>2]=Pe,e[Ee>>2]=$,O=e[u>>2]|0,D>>>0<=O>>>0){b=38;break e}else m=Ee,J=ie+4|0}}(b|0)==53&&(b=0,e[u>>2]=j,e[X>>2]=C,P=X,N=x+1|0),J=u+4|0;t:do if(J>>>0<P>>>0){if(m=e[J>>2]|0,O=e[o>>2]|0,D=e[O>>2]|0,L=(e[O+4>>2]|0)-D>>3,L>>>0>m>>>0)ge=P,Be=J,_e=N,Ce=w,We=L,lt=D,et=O,Ve=m;else{b=57;break e}for(;;){for(O=e[o>>2]|0,m=O+4|0,D=e[Ce>>2]|0,L=Be,d=lt,$=We,He=et,I=Ve;;){if(se=d,$>>>0<=D>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(D<<3)>>2]|0)>>>0)break;if(se=L+4|0,st=e[se>>2]|0,d=e[O>>2]|0,$=(e[m>>2]|0)-d>>3,$>>>0<=st>>>0){b=57;break e}else L=se,He=O,I=st}if(O=e[Ce>>2]|0,lt=e[He>>2]|0,We=(e[He+4>>2]|0)-lt>>3,$=lt,d=$+(O<<3)|0,We>>>0>O>>>0)Je=ge;else{b=65;break e}do if(Je=Je+-4|0,it=e[Je>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[$+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(L>>>0>Je>>>0){ze=Ce,Ge=_e,ke=L;break t}if(e[L>>2]=it,e[Je>>2]=I,Be=L+4|0,Ve=e[Be>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else ge=Je,_e=_e+1|0,Ce=(Ce|0)==(L|0)?Je:Ce,et=He}}else ze=w,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,$=e[ut>>2]|0,O=(e[ut+4>>2]|0)-$>>3,O>>>0<=J>>>0){b=72;break e}if(m=$,O>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,tt=Ge+1|0):tt=Ge}else tt=Ge;if(!tt){if(at=$n(u,ke,o)|0,d=ke+4|0,$n(d,i,o)|0){b=83;break}if(at){h=d;continue}}if(d=ke,(d-g|0)>=(s-d|0)){b=82;break}i3(u,ke,o),h=ke+4|0}if((b|0)==82){b=0,i3(ke+4|0,i,o),l=u,i=ke;continue}else if((b|0)==83)if(b=0,at){b=84;break}else{l=u,i=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[u>>2]|0,l=e[o>>2]|0,at=e[l>>2]|0,g=(e[l+4>>2]|0)-at>>3,g>>>0<=b>>>0&&qe(),tt=at,g>>>0<=ke>>>0&&qe(),(e[tt+(b<<3)>>2]|0)>>>0>=(e[tt+(ke<<3)>>2]|0)>>>0)return;e[u>>2]=b,e[f>>2]=ke;return}case 11:{Tn(u,u+4|0,f,o)|0;return}case 12:{po(u,u+4|0,u+8|0,f,o)|0;return}case 13:{Le(u,u+4|0,u+8|0,u+12|0,f,o)|0;return}case 15:{Ho(u,i,o);return}case 20:{qe();break}case 22:{qe();break}case 26:{qe();break}case 32:{qe();break}case 38:{qe();break}case 40:{qe();break}case 46:{qe();break}case 47:{qe();break}case 51:{qe();break}case 57:{qe();break}case 59:{qe();break}case 65:{We>>>0>(e[ge+-4>>2]|0)>>>0,qe();break}case 66:{qe();break}case 72:{qe();break}case 74:{qe();break}case 84:return}}function n3(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0;l=i,i=s;e:for(;;){for(s=i,f=i+-4|0,h=l;;){u=h;t:for(;;){switch(g=u,d=s-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(w=u+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=Le(u,u+(d<<2)|0,w,w+(d<<2)|0,f,o)|0):x=Tn(u,w,f,o)|0,C=e[u>>2]|0,d=e[w>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,D=(e[S+4>>2]|0)-m>>3,D>>>0<=C>>>0){b=20;break e}if(I=m,D>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,L=e[I+(d<<3)>>2]|0,m>>>0<L>>>0){P=f,N=x;break}else X=f;for(;X=X+-4|0,(u|0)!=(X|0);){if(j=e[X>>2]|0,D>>>0<=j>>>0){b=51;break e}if((e[I+(j<<3)>>2]|0)>>>0<L>>>0){b=53;break t}}if(L=u+4|0,d=e[f>>2]|0,D>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=L;else{if((L|0)==(f|0)){b=84;break e}else V=L;for(;;){if(G=e[V>>2]|0,D>>>0<=G>>>0){b=32;break e}if(m>>>0<(e[I+(G<<3)>>2]|0)>>>0)break;if(L=V+4|0,(L|0)==(f|0)){b=84;break e}else V=L}e[V>>2]=d,e[f>>2]=G,Q=V+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[u>>2]|0,ee=e[o>>2]|0,m=e[ee>>2]|0,D=(e[ee+4>>2]|0)-m>>3,D>>>0<=I>>>0){b=38;break e}for(L=m,m=f,J=Q,O=I;;){for(I=L+(O<<3)|0,$=D>>>0>O>>>0,ie=J;;){if(se=e[ie>>2]|0,D>>>0<=se>>>0){b=40;break e}if(ue=e[I>>2]|0,ue>>>0<(e[L+(se<<3)>>2]|0)>>>0)break;if($)ie=ie+4|0;else{b=38;break e}}if(D>>>0>O>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Pe=e[Ee>>2]|0,D>>>0<=Pe>>>0){b=47;break e}while(ue>>>0<(e[L+(Pe<<3)>>2]|0)>>>0);if(ie>>>0>=Ee>>>0){u=ie;continue t}if($=e[ie>>2]|0,e[ie>>2]=Pe,e[Ee>>2]=$,O=e[u>>2]|0,D>>>0<=O>>>0){b=38;break e}else m=Ee,J=ie+4|0}}(b|0)==53&&(b=0,e[u>>2]=j,e[X>>2]=C,P=X,N=x+1|0),J=u+4|0;t:do if(J>>>0<P>>>0){if(m=e[J>>2]|0,O=e[o>>2]|0,D=e[O>>2]|0,L=(e[O+4>>2]|0)-D>>3,L>>>0>m>>>0)ge=P,Be=J,_e=N,Ce=w,We=L,lt=D,et=O,Ve=m;else{b=57;break e}for(;;){for(O=e[o>>2]|0,m=O+4|0,D=e[Ce>>2]|0,L=Be,d=lt,$=We,He=et,I=Ve;;){if(se=d,$>>>0<=D>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(D<<3)>>2]|0)>>>0)break;if(se=L+4|0,st=e[se>>2]|0,d=e[O>>2]|0,$=(e[m>>2]|0)-d>>3,$>>>0<=st>>>0){b=57;break e}else L=se,He=O,I=st}if(O=e[Ce>>2]|0,lt=e[He>>2]|0,We=(e[He+4>>2]|0)-lt>>3,$=lt,d=$+(O<<3)|0,We>>>0>O>>>0)Je=ge;else{b=65;break e}do if(Je=Je+-4|0,it=e[Je>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[$+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(L>>>0>Je>>>0){ze=Ce,Ge=_e,ke=L;break t}if(e[L>>2]=it,e[Je>>2]=I,Be=L+4|0,Ve=e[Be>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else ge=Je,_e=_e+1|0,Ce=(Ce|0)==(L|0)?Je:Ce,et=He}}else ze=w,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,$=e[ut>>2]|0,O=(e[ut+4>>2]|0)-$>>3,O>>>0<=J>>>0){b=72;break e}if(m=$,O>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,tt=Ge+1|0):tt=Ge}else tt=Ge;if(!tt){if(at=$n(u,ke,o)|0,d=ke+4|0,$n(d,i,o)|0){b=83;break}if(at){h=d;continue}}if(d=ke,(d-g|0)>=(s-d|0)){b=82;break}n3(u,ke,o),h=ke+4|0}if((b|0)==82){b=0,n3(ke+4|0,i,o),l=u,i=ke;continue}else if((b|0)==83)if(b=0,at){b=84;break}else{l=u,i=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[u>>2]|0,l=e[o>>2]|0,at=e[l>>2]|0,g=(e[l+4>>2]|0)-at>>3,g>>>0<=b>>>0&&qe(),tt=at,g>>>0<=ke>>>0&&qe(),(e[tt+(b<<3)>>2]|0)>>>0>=(e[tt+(ke<<3)>>2]|0)>>>0)return;e[u>>2]=b,e[f>>2]=ke;return}case 11:{Tn(u,u+4|0,f,o)|0;return}case 12:{po(u,u+4|0,u+8|0,f,o)|0;return}case 13:{Le(u,u+4|0,u+8|0,u+12|0,f,o)|0;return}case 15:{Ho(u,i,o);return}case 20:{qe();break}case 22:{qe();break}case 26:{qe();break}case 32:{qe();break}case 38:{qe();break}case 40:{qe();break}case 46:{qe();break}case 47:{qe();break}case 51:{qe();break}case 57:{qe();break}case 59:{qe();break}case 65:{We>>>0>(e[ge+-4>>2]|0)>>>0,qe();break}case 66:{qe();break}case 72:{qe();break}case 74:{qe();break}case 84:return}}function s3(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0;l=i,i=s;e:for(;;){for(s=i,f=i+-4|0,h=l;;){u=h;t:for(;;){switch(g=u,d=s-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(w=u+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=Le(u,u+(d<<2)|0,w,w+(d<<2)|0,f,o)|0):x=Tn(u,w,f,o)|0,C=e[u>>2]|0,d=e[w>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,D=(e[S+4>>2]|0)-m>>3,D>>>0<=C>>>0){b=20;break e}if(I=m,D>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,L=e[I+(d<<3)>>2]|0,m>>>0<L>>>0){P=f,N=x;break}else X=f;for(;X=X+-4|0,(u|0)!=(X|0);){if(j=e[X>>2]|0,D>>>0<=j>>>0){b=51;break e}if((e[I+(j<<3)>>2]|0)>>>0<L>>>0){b=53;break t}}if(L=u+4|0,d=e[f>>2]|0,D>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=L;else{if((L|0)==(f|0)){b=84;break e}else V=L;for(;;){if(G=e[V>>2]|0,D>>>0<=G>>>0){b=32;break e}if(m>>>0<(e[I+(G<<3)>>2]|0)>>>0)break;if(L=V+4|0,(L|0)==(f|0)){b=84;break e}else V=L}e[V>>2]=d,e[f>>2]=G,Q=V+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[u>>2]|0,ee=e[o>>2]|0,m=e[ee>>2]|0,D=(e[ee+4>>2]|0)-m>>3,D>>>0<=I>>>0){b=38;break e}for(L=m,m=f,J=Q,O=I;;){for(I=L+(O<<3)|0,$=D>>>0>O>>>0,ie=J;;){if(se=e[ie>>2]|0,D>>>0<=se>>>0){b=40;break e}if(ue=e[I>>2]|0,ue>>>0<(e[L+(se<<3)>>2]|0)>>>0)break;if($)ie=ie+4|0;else{b=38;break e}}if(D>>>0>O>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Pe=e[Ee>>2]|0,D>>>0<=Pe>>>0){b=47;break e}while(ue>>>0<(e[L+(Pe<<3)>>2]|0)>>>0);if(ie>>>0>=Ee>>>0){u=ie;continue t}if($=e[ie>>2]|0,e[ie>>2]=Pe,e[Ee>>2]=$,O=e[u>>2]|0,D>>>0<=O>>>0){b=38;break e}else m=Ee,J=ie+4|0}}(b|0)==53&&(b=0,e[u>>2]=j,e[X>>2]=C,P=X,N=x+1|0),J=u+4|0;t:do if(J>>>0<P>>>0){if(m=e[J>>2]|0,O=e[o>>2]|0,D=e[O>>2]|0,L=(e[O+4>>2]|0)-D>>3,L>>>0>m>>>0)ge=P,Be=J,_e=N,Ce=w,We=L,lt=D,et=O,Ve=m;else{b=57;break e}for(;;){for(O=e[o>>2]|0,m=O+4|0,D=e[Ce>>2]|0,L=Be,d=lt,$=We,He=et,I=Ve;;){if(se=d,$>>>0<=D>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(D<<3)>>2]|0)>>>0)break;if(se=L+4|0,st=e[se>>2]|0,d=e[O>>2]|0,$=(e[m>>2]|0)-d>>3,$>>>0<=st>>>0){b=57;break e}else L=se,He=O,I=st}if(O=e[Ce>>2]|0,lt=e[He>>2]|0,We=(e[He+4>>2]|0)-lt>>3,$=lt,d=$+(O<<3)|0,We>>>0>O>>>0)Je=ge;else{b=65;break e}do if(Je=Je+-4|0,it=e[Je>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[$+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(L>>>0>Je>>>0){ze=Ce,Ge=_e,ke=L;break t}if(e[L>>2]=it,e[Je>>2]=I,Be=L+4|0,Ve=e[Be>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else ge=Je,_e=_e+1|0,Ce=(Ce|0)==(L|0)?Je:Ce,et=He}}else ze=w,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,$=e[ut>>2]|0,O=(e[ut+4>>2]|0)-$>>3,O>>>0<=J>>>0){b=72;break e}if(m=$,O>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,tt=Ge+1|0):tt=Ge}else tt=Ge;if(!tt){if(at=$n(u,ke,o)|0,d=ke+4|0,$n(d,i,o)|0){b=83;break}if(at){h=d;continue}}if(d=ke,(d-g|0)>=(s-d|0)){b=82;break}s3(u,ke,o),h=ke+4|0}if((b|0)==82){b=0,s3(ke+4|0,i,o),l=u,i=ke;continue}else if((b|0)==83)if(b=0,at){b=84;break}else{l=u,i=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[u>>2]|0,l=e[o>>2]|0,at=e[l>>2]|0,g=(e[l+4>>2]|0)-at>>3,g>>>0<=b>>>0&&qe(),tt=at,g>>>0<=ke>>>0&&qe(),(e[tt+(b<<3)>>2]|0)>>>0>=(e[tt+(ke<<3)>>2]|0)>>>0)return;e[u>>2]=b,e[f>>2]=ke;return}case 11:{Tn(u,u+4|0,f,o)|0;return}case 12:{po(u,u+4|0,u+8|0,f,o)|0;return}case 13:{Le(u,u+4|0,u+8|0,u+12|0,f,o)|0;return}case 15:{Ho(u,i,o);return}case 20:{qe();break}case 22:{qe();break}case 26:{qe();break}case 32:{qe();break}case 38:{qe();break}case 40:{qe();break}case 46:{qe();break}case 47:{qe();break}case 51:{qe();break}case 57:{qe();break}case 59:{qe();break}case 65:{We>>>0>(e[ge+-4>>2]|0)>>>0,qe();break}case 66:{qe();break}case 72:{qe();break}case 74:{qe();break}case 84:return}}function o3(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0;l=i,i=s;e:for(;;){for(s=i,f=i+-4|0,h=l;;){u=h;t:for(;;){switch(g=u,d=s-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(w=u+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=Le(u,u+(d<<2)|0,w,w+(d<<2)|0,f,o)|0):x=Tn(u,w,f,o)|0,C=e[u>>2]|0,d=e[w>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,D=(e[S+4>>2]|0)-m>>3,D>>>0<=C>>>0){b=20;break e}if(I=m,D>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,L=e[I+(d<<3)>>2]|0,m>>>0<L>>>0){P=f,N=x;break}else X=f;for(;X=X+-4|0,(u|0)!=(X|0);){if(j=e[X>>2]|0,D>>>0<=j>>>0){b=51;break e}if((e[I+(j<<3)>>2]|0)>>>0<L>>>0){b=53;break t}}if(L=u+4|0,d=e[f>>2]|0,D>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=L;else{if((L|0)==(f|0)){b=84;break e}else V=L;for(;;){if(G=e[V>>2]|0,D>>>0<=G>>>0){b=32;break e}if(m>>>0<(e[I+(G<<3)>>2]|0)>>>0)break;if(L=V+4|0,(L|0)==(f|0)){b=84;break e}else V=L}e[V>>2]=d,e[f>>2]=G,Q=V+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[u>>2]|0,ee=e[o>>2]|0,m=e[ee>>2]|0,D=(e[ee+4>>2]|0)-m>>3,D>>>0<=I>>>0){b=38;break e}for(L=m,m=f,J=Q,O=I;;){for(I=L+(O<<3)|0,$=D>>>0>O>>>0,ie=J;;){if(se=e[ie>>2]|0,D>>>0<=se>>>0){b=40;break e}if(ue=e[I>>2]|0,ue>>>0<(e[L+(se<<3)>>2]|0)>>>0)break;if($)ie=ie+4|0;else{b=38;break e}}if(D>>>0>O>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Pe=e[Ee>>2]|0,D>>>0<=Pe>>>0){b=47;break e}while(ue>>>0<(e[L+(Pe<<3)>>2]|0)>>>0);if(ie>>>0>=Ee>>>0){u=ie;continue t}if($=e[ie>>2]|0,e[ie>>2]=Pe,e[Ee>>2]=$,O=e[u>>2]|0,D>>>0<=O>>>0){b=38;break e}else m=Ee,J=ie+4|0}}(b|0)==53&&(b=0,e[u>>2]=j,e[X>>2]=C,P=X,N=x+1|0),J=u+4|0;t:do if(J>>>0<P>>>0){if(m=e[J>>2]|0,O=e[o>>2]|0,D=e[O>>2]|0,L=(e[O+4>>2]|0)-D>>3,L>>>0>m>>>0)ge=P,Be=J,_e=N,Ce=w,We=L,lt=D,et=O,Ve=m;else{b=57;break e}for(;;){for(O=e[o>>2]|0,m=O+4|0,D=e[Ce>>2]|0,L=Be,d=lt,$=We,He=et,I=Ve;;){if(se=d,$>>>0<=D>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(D<<3)>>2]|0)>>>0)break;if(se=L+4|0,st=e[se>>2]|0,d=e[O>>2]|0,$=(e[m>>2]|0)-d>>3,$>>>0<=st>>>0){b=57;break e}else L=se,He=O,I=st}if(O=e[Ce>>2]|0,lt=e[He>>2]|0,We=(e[He+4>>2]|0)-lt>>3,$=lt,d=$+(O<<3)|0,We>>>0>O>>>0)Je=ge;else{b=65;break e}do if(Je=Je+-4|0,it=e[Je>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[$+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(L>>>0>Je>>>0){ze=Ce,Ge=_e,ke=L;break t}if(e[L>>2]=it,e[Je>>2]=I,Be=L+4|0,Ve=e[Be>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else ge=Je,_e=_e+1|0,Ce=(Ce|0)==(L|0)?Je:Ce,et=He}}else ze=w,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,$=e[ut>>2]|0,O=(e[ut+4>>2]|0)-$>>3,O>>>0<=J>>>0){b=72;break e}if(m=$,O>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,tt=Ge+1|0):tt=Ge}else tt=Ge;if(!tt){if(at=$n(u,ke,o)|0,d=ke+4|0,$n(d,i,o)|0){b=83;break}if(at){h=d;continue}}if(d=ke,(d-g|0)>=(s-d|0)){b=82;break}o3(u,ke,o),h=ke+4|0}if((b|0)==82){b=0,o3(ke+4|0,i,o),l=u,i=ke;continue}else if((b|0)==83)if(b=0,at){b=84;break}else{l=u,i=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[u>>2]|0,l=e[o>>2]|0,at=e[l>>2]|0,g=(e[l+4>>2]|0)-at>>3,g>>>0<=b>>>0&&qe(),tt=at,g>>>0<=ke>>>0&&qe(),(e[tt+(b<<3)>>2]|0)>>>0>=(e[tt+(ke<<3)>>2]|0)>>>0)return;e[u>>2]=b,e[f>>2]=ke;return}case 11:{Tn(u,u+4|0,f,o)|0;return}case 12:{po(u,u+4|0,u+8|0,f,o)|0;return}case 13:{Le(u,u+4|0,u+8|0,u+12|0,f,o)|0;return}case 15:{Ho(u,i,o);return}case 20:{qe();break}case 22:{qe();break}case 26:{qe();break}case 32:{qe();break}case 38:{qe();break}case 40:{qe();break}case 46:{qe();break}case 47:{qe();break}case 51:{qe();break}case 57:{qe();break}case 59:{qe();break}case 65:{We>>>0>(e[ge+-4>>2]|0)>>>0,qe();break}case 66:{qe();break}case 72:{qe();break}case 74:{qe();break}case 84:return}}function a3(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0;l=i,i=s;e:for(;;){for(s=i,f=i+-4|0,h=l;;){u=h;t:for(;;){switch(g=u,d=s-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(w=u+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=Le(u,u+(d<<2)|0,w,w+(d<<2)|0,f,o)|0):x=Tn(u,w,f,o)|0,C=e[u>>2]|0,d=e[w>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,D=(e[S+4>>2]|0)-m>>3,D>>>0<=C>>>0){b=20;break e}if(I=m,D>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,L=e[I+(d<<3)>>2]|0,m>>>0<L>>>0){P=f,N=x;break}else X=f;for(;X=X+-4|0,(u|0)!=(X|0);){if(j=e[X>>2]|0,D>>>0<=j>>>0){b=51;break e}if((e[I+(j<<3)>>2]|0)>>>0<L>>>0){b=53;break t}}if(L=u+4|0,d=e[f>>2]|0,D>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=L;else{if((L|0)==(f|0)){b=84;break e}else V=L;for(;;){if(G=e[V>>2]|0,D>>>0<=G>>>0){b=32;break e}if(m>>>0<(e[I+(G<<3)>>2]|0)>>>0)break;if(L=V+4|0,(L|0)==(f|0)){b=84;break e}else V=L}e[V>>2]=d,e[f>>2]=G,Q=V+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[u>>2]|0,ee=e[o>>2]|0,m=e[ee>>2]|0,D=(e[ee+4>>2]|0)-m>>3,D>>>0<=I>>>0){b=38;break e}for(L=m,m=f,J=Q,O=I;;){for(I=L+(O<<3)|0,$=D>>>0>O>>>0,ie=J;;){if(se=e[ie>>2]|0,D>>>0<=se>>>0){b=40;break e}if(ue=e[I>>2]|0,ue>>>0<(e[L+(se<<3)>>2]|0)>>>0)break;if($)ie=ie+4|0;else{b=38;break e}}if(D>>>0>O>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Pe=e[Ee>>2]|0,D>>>0<=Pe>>>0){b=47;break e}while(ue>>>0<(e[L+(Pe<<3)>>2]|0)>>>0);if(ie>>>0>=Ee>>>0){u=ie;continue t}if($=e[ie>>2]|0,e[ie>>2]=Pe,e[Ee>>2]=$,O=e[u>>2]|0,D>>>0<=O>>>0){b=38;break e}else m=Ee,J=ie+4|0}}(b|0)==53&&(b=0,e[u>>2]=j,e[X>>2]=C,P=X,N=x+1|0),J=u+4|0;t:do if(J>>>0<P>>>0){if(m=e[J>>2]|0,O=e[o>>2]|0,D=e[O>>2]|0,L=(e[O+4>>2]|0)-D>>3,L>>>0>m>>>0)ge=P,Be=J,_e=N,Ce=w,We=L,lt=D,et=O,Ve=m;else{b=57;break e}for(;;){for(O=e[o>>2]|0,m=O+4|0,D=e[Ce>>2]|0,L=Be,d=lt,$=We,He=et,I=Ve;;){if(se=d,$>>>0<=D>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(D<<3)>>2]|0)>>>0)break;if(se=L+4|0,st=e[se>>2]|0,d=e[O>>2]|0,$=(e[m>>2]|0)-d>>3,$>>>0<=st>>>0){b=57;break e}else L=se,He=O,I=st}if(O=e[Ce>>2]|0,lt=e[He>>2]|0,We=(e[He+4>>2]|0)-lt>>3,$=lt,d=$+(O<<3)|0,We>>>0>O>>>0)Je=ge;else{b=65;break e}do if(Je=Je+-4|0,it=e[Je>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[$+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(L>>>0>Je>>>0){ze=Ce,Ge=_e,ke=L;break t}if(e[L>>2]=it,e[Je>>2]=I,Be=L+4|0,Ve=e[Be>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else ge=Je,_e=_e+1|0,Ce=(Ce|0)==(L|0)?Je:Ce,et=He}}else ze=w,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,$=e[ut>>2]|0,O=(e[ut+4>>2]|0)-$>>3,O>>>0<=J>>>0){b=72;break e}if(m=$,O>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,tt=Ge+1|0):tt=Ge}else tt=Ge;if(!tt){if(at=$n(u,ke,o)|0,d=ke+4|0,$n(d,i,o)|0){b=83;break}if(at){h=d;continue}}if(d=ke,(d-g|0)>=(s-d|0)){b=82;break}a3(u,ke,o),h=ke+4|0}if((b|0)==82){b=0,a3(ke+4|0,i,o),l=u,i=ke;continue}else if((b|0)==83)if(b=0,at){b=84;break}else{l=u,i=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[u>>2]|0,l=e[o>>2]|0,at=e[l>>2]|0,g=(e[l+4>>2]|0)-at>>3,g>>>0<=b>>>0&&qe(),tt=at,g>>>0<=ke>>>0&&qe(),(e[tt+(b<<3)>>2]|0)>>>0>=(e[tt+(ke<<3)>>2]|0)>>>0)return;e[u>>2]=b,e[f>>2]=ke;return}case 11:{Tn(u,u+4|0,f,o)|0;return}case 12:{po(u,u+4|0,u+8|0,f,o)|0;return}case 13:{Le(u,u+4|0,u+8|0,u+12|0,f,o)|0;return}case 15:{Ho(u,i,o);return}case 20:{qe();break}case 22:{qe();break}case 26:{qe();break}case 32:{qe();break}case 38:{qe();break}case 40:{qe();break}case 46:{qe();break}case 47:{qe();break}case 51:{qe();break}case 57:{qe();break}case 59:{qe();break}case 65:{We>>>0>(e[ge+-4>>2]|0)>>>0,qe();break}case 66:{qe();break}case 72:{qe();break}case 74:{qe();break}case 84:return}}function l3(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0;l=i,i=s;e:for(;;){for(s=i,f=i+-4|0,h=l;;){u=h;t:for(;;){switch(g=u,d=s-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(w=u+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=Le(u,u+(d<<2)|0,w,w+(d<<2)|0,f,o)|0):x=Tn(u,w,f,o)|0,C=e[u>>2]|0,d=e[w>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,D=(e[S+4>>2]|0)-m>>3,D>>>0<=C>>>0){b=20;break e}if(I=m,D>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,L=e[I+(d<<3)>>2]|0,m>>>0<L>>>0){P=f,N=x;break}else X=f;for(;X=X+-4|0,(u|0)!=(X|0);){if(j=e[X>>2]|0,D>>>0<=j>>>0){b=51;break e}if((e[I+(j<<3)>>2]|0)>>>0<L>>>0){b=53;break t}}if(L=u+4|0,d=e[f>>2]|0,D>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=L;else{if((L|0)==(f|0)){b=84;break e}else V=L;for(;;){if(G=e[V>>2]|0,D>>>0<=G>>>0){b=32;break e}if(m>>>0<(e[I+(G<<3)>>2]|0)>>>0)break;if(L=V+4|0,(L|0)==(f|0)){b=84;break e}else V=L}e[V>>2]=d,e[f>>2]=G,Q=V+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[u>>2]|0,ee=e[o>>2]|0,m=e[ee>>2]|0,D=(e[ee+4>>2]|0)-m>>3,D>>>0<=I>>>0){b=38;break e}for(L=m,m=f,J=Q,O=I;;){for(I=L+(O<<3)|0,$=D>>>0>O>>>0,ie=J;;){if(se=e[ie>>2]|0,D>>>0<=se>>>0){b=40;break e}if(ue=e[I>>2]|0,ue>>>0<(e[L+(se<<3)>>2]|0)>>>0)break;if($)ie=ie+4|0;else{b=38;break e}}if(D>>>0>O>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Pe=e[Ee>>2]|0,D>>>0<=Pe>>>0){b=47;break e}while(ue>>>0<(e[L+(Pe<<3)>>2]|0)>>>0);if(ie>>>0>=Ee>>>0){u=ie;continue t}if($=e[ie>>2]|0,e[ie>>2]=Pe,e[Ee>>2]=$,O=e[u>>2]|0,D>>>0<=O>>>0){b=38;break e}else m=Ee,J=ie+4|0}}(b|0)==53&&(b=0,e[u>>2]=j,e[X>>2]=C,P=X,N=x+1|0),J=u+4|0;t:do if(J>>>0<P>>>0){if(m=e[J>>2]|0,O=e[o>>2]|0,D=e[O>>2]|0,L=(e[O+4>>2]|0)-D>>3,L>>>0>m>>>0)ge=P,Be=J,_e=N,Ce=w,We=L,lt=D,et=O,Ve=m;else{b=57;break e}for(;;){for(O=e[o>>2]|0,m=O+4|0,D=e[Ce>>2]|0,L=Be,d=lt,$=We,He=et,I=Ve;;){if(se=d,$>>>0<=D>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(D<<3)>>2]|0)>>>0)break;if(se=L+4|0,st=e[se>>2]|0,d=e[O>>2]|0,$=(e[m>>2]|0)-d>>3,$>>>0<=st>>>0){b=57;break e}else L=se,He=O,I=st}if(O=e[Ce>>2]|0,lt=e[He>>2]|0,We=(e[He+4>>2]|0)-lt>>3,$=lt,d=$+(O<<3)|0,We>>>0>O>>>0)Je=ge;else{b=65;break e}do if(Je=Je+-4|0,it=e[Je>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[$+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(L>>>0>Je>>>0){ze=Ce,Ge=_e,ke=L;break t}if(e[L>>2]=it,e[Je>>2]=I,Be=L+4|0,Ve=e[Be>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else ge=Je,_e=_e+1|0,Ce=(Ce|0)==(L|0)?Je:Ce,et=He}}else ze=w,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,$=e[ut>>2]|0,O=(e[ut+4>>2]|0)-$>>3,O>>>0<=J>>>0){b=72;break e}if(m=$,O>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,tt=Ge+1|0):tt=Ge}else tt=Ge;if(!tt){if(at=$n(u,ke,o)|0,d=ke+4|0,$n(d,i,o)|0){b=83;break}if(at){h=d;continue}}if(d=ke,(d-g|0)>=(s-d|0)){b=82;break}l3(u,ke,o),h=ke+4|0}if((b|0)==82){b=0,l3(ke+4|0,i,o),l=u,i=ke;continue}else if((b|0)==83)if(b=0,at){b=84;break}else{l=u,i=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[u>>2]|0,l=e[o>>2]|0,at=e[l>>2]|0,g=(e[l+4>>2]|0)-at>>3,g>>>0<=b>>>0&&qe(),tt=at,g>>>0<=ke>>>0&&qe(),(e[tt+(b<<3)>>2]|0)>>>0>=(e[tt+(ke<<3)>>2]|0)>>>0)return;e[u>>2]=b,e[f>>2]=ke;return}case 11:{Tn(u,u+4|0,f,o)|0;return}case 12:{po(u,u+4|0,u+8|0,f,o)|0;return}case 13:{Le(u,u+4|0,u+8|0,u+12|0,f,o)|0;return}case 15:{Ho(u,i,o);return}case 20:{qe();break}case 22:{qe();break}case 26:{qe();break}case 32:{qe();break}case 38:{qe();break}case 40:{qe();break}case 46:{qe();break}case 47:{qe();break}case 51:{qe();break}case 57:{qe();break}case 59:{qe();break}case 65:{We>>>0>(e[ge+-4>>2]|0)>>>0,qe();break}case 66:{qe();break}case 72:{qe();break}case 74:{qe();break}case 84:return}}function f3(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0;l=i,i=s;e:for(;;){for(s=i,f=i+-4|0,h=l;;){u=h;t:for(;;){switch(g=u,d=s-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(w=u+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=Le(u,u+(d<<2)|0,w,w+(d<<2)|0,f,o)|0):x=Tn(u,w,f,o)|0,C=e[u>>2]|0,d=e[w>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,D=(e[S+4>>2]|0)-m>>3,D>>>0<=C>>>0){b=20;break e}if(I=m,D>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,L=e[I+(d<<3)>>2]|0,m>>>0<L>>>0){P=f,N=x;break}else X=f;for(;X=X+-4|0,(u|0)!=(X|0);){if(j=e[X>>2]|0,D>>>0<=j>>>0){b=51;break e}if((e[I+(j<<3)>>2]|0)>>>0<L>>>0){b=53;break t}}if(L=u+4|0,d=e[f>>2]|0,D>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=L;else{if((L|0)==(f|0)){b=84;break e}else V=L;for(;;){if(G=e[V>>2]|0,D>>>0<=G>>>0){b=32;break e}if(m>>>0<(e[I+(G<<3)>>2]|0)>>>0)break;if(L=V+4|0,(L|0)==(f|0)){b=84;break e}else V=L}e[V>>2]=d,e[f>>2]=G,Q=V+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[u>>2]|0,ee=e[o>>2]|0,m=e[ee>>2]|0,D=(e[ee+4>>2]|0)-m>>3,D>>>0<=I>>>0){b=38;break e}for(L=m,m=f,J=Q,O=I;;){for(I=L+(O<<3)|0,$=D>>>0>O>>>0,ie=J;;){if(se=e[ie>>2]|0,D>>>0<=se>>>0){b=40;break e}if(ue=e[I>>2]|0,ue>>>0<(e[L+(se<<3)>>2]|0)>>>0)break;if($)ie=ie+4|0;else{b=38;break e}}if(D>>>0>O>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Pe=e[Ee>>2]|0,D>>>0<=Pe>>>0){b=47;break e}while(ue>>>0<(e[L+(Pe<<3)>>2]|0)>>>0);if(ie>>>0>=Ee>>>0){u=ie;continue t}if($=e[ie>>2]|0,e[ie>>2]=Pe,e[Ee>>2]=$,O=e[u>>2]|0,D>>>0<=O>>>0){b=38;break e}else m=Ee,J=ie+4|0}}(b|0)==53&&(b=0,e[u>>2]=j,e[X>>2]=C,P=X,N=x+1|0),J=u+4|0;t:do if(J>>>0<P>>>0){if(m=e[J>>2]|0,O=e[o>>2]|0,D=e[O>>2]|0,L=(e[O+4>>2]|0)-D>>3,L>>>0>m>>>0)ge=P,Be=J,_e=N,Ce=w,We=L,lt=D,et=O,Ve=m;else{b=57;break e}for(;;){for(O=e[o>>2]|0,m=O+4|0,D=e[Ce>>2]|0,L=Be,d=lt,$=We,He=et,I=Ve;;){if(se=d,$>>>0<=D>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(D<<3)>>2]|0)>>>0)break;if(se=L+4|0,st=e[se>>2]|0,d=e[O>>2]|0,$=(e[m>>2]|0)-d>>3,$>>>0<=st>>>0){b=57;break e}else L=se,He=O,I=st}if(O=e[Ce>>2]|0,lt=e[He>>2]|0,We=(e[He+4>>2]|0)-lt>>3,$=lt,d=$+(O<<3)|0,We>>>0>O>>>0)Je=ge;else{b=65;break e}do if(Je=Je+-4|0,it=e[Je>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[$+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(L>>>0>Je>>>0){ze=Ce,Ge=_e,ke=L;break t}if(e[L>>2]=it,e[Je>>2]=I,Be=L+4|0,Ve=e[Be>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else ge=Je,_e=_e+1|0,Ce=(Ce|0)==(L|0)?Je:Ce,et=He}}else ze=w,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,$=e[ut>>2]|0,O=(e[ut+4>>2]|0)-$>>3,O>>>0<=J>>>0){b=72;break e}if(m=$,O>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,tt=Ge+1|0):tt=Ge}else tt=Ge;if(!tt){if(at=$n(u,ke,o)|0,d=ke+4|0,$n(d,i,o)|0){b=83;break}if(at){h=d;continue}}if(d=ke,(d-g|0)>=(s-d|0)){b=82;break}f3(u,ke,o),h=ke+4|0}if((b|0)==82){b=0,f3(ke+4|0,i,o),l=u,i=ke;continue}else if((b|0)==83)if(b=0,at){b=84;break}else{l=u,i=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[u>>2]|0,l=e[o>>2]|0,at=e[l>>2]|0,g=(e[l+4>>2]|0)-at>>3,g>>>0<=b>>>0&&qe(),tt=at,g>>>0<=ke>>>0&&qe(),(e[tt+(b<<3)>>2]|0)>>>0>=(e[tt+(ke<<3)>>2]|0)>>>0)return;e[u>>2]=b,e[f>>2]=ke;return}case 11:{Tn(u,u+4|0,f,o)|0;return}case 12:{po(u,u+4|0,u+8|0,f,o)|0;return}case 13:{Le(u,u+4|0,u+8|0,u+12|0,f,o)|0;return}case 15:{Ho(u,i,o);return}case 20:{qe();break}case 22:{qe();break}case 26:{qe();break}case 32:{qe();break}case 38:{qe();break}case 40:{qe();break}case 46:{qe();break}case 47:{qe();break}case 51:{qe();break}case 57:{qe();break}case 59:{qe();break}case 65:{We>>>0>(e[ge+-4>>2]|0)>>>0,qe();break}case 66:{qe();break}case 72:{qe();break}case 74:{qe();break}case 84:return}}function u3(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0;l=i,i=s;e:for(;;){for(s=i,f=i+-4|0,h=l;;){u=h;t:for(;;){switch(g=u,d=s-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(w=u+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=Le(u,u+(d<<2)|0,w,w+(d<<2)|0,f,o)|0):x=Tn(u,w,f,o)|0,C=e[u>>2]|0,d=e[w>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,D=(e[S+4>>2]|0)-m>>3,D>>>0<=C>>>0){b=20;break e}if(I=m,D>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,L=e[I+(d<<3)>>2]|0,m>>>0<L>>>0){P=f,N=x;break}else X=f;for(;X=X+-4|0,(u|0)!=(X|0);){if(j=e[X>>2]|0,D>>>0<=j>>>0){b=51;break e}if((e[I+(j<<3)>>2]|0)>>>0<L>>>0){b=53;break t}}if(L=u+4|0,d=e[f>>2]|0,D>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=L;else{if((L|0)==(f|0)){b=84;break e}else V=L;for(;;){if(G=e[V>>2]|0,D>>>0<=G>>>0){b=32;break e}if(m>>>0<(e[I+(G<<3)>>2]|0)>>>0)break;if(L=V+4|0,(L|0)==(f|0)){b=84;break e}else V=L}e[V>>2]=d,e[f>>2]=G,Q=V+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[u>>2]|0,ee=e[o>>2]|0,m=e[ee>>2]|0,D=(e[ee+4>>2]|0)-m>>3,D>>>0<=I>>>0){b=38;break e}for(L=m,m=f,J=Q,O=I;;){for(I=L+(O<<3)|0,$=D>>>0>O>>>0,ie=J;;){if(se=e[ie>>2]|0,D>>>0<=se>>>0){b=40;break e}if(ue=e[I>>2]|0,ue>>>0<(e[L+(se<<3)>>2]|0)>>>0)break;if($)ie=ie+4|0;else{b=38;break e}}if(D>>>0>O>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Pe=e[Ee>>2]|0,D>>>0<=Pe>>>0){b=47;break e}while(ue>>>0<(e[L+(Pe<<3)>>2]|0)>>>0);if(ie>>>0>=Ee>>>0){u=ie;continue t}if($=e[ie>>2]|0,e[ie>>2]=Pe,e[Ee>>2]=$,O=e[u>>2]|0,D>>>0<=O>>>0){b=38;break e}else m=Ee,J=ie+4|0}}(b|0)==53&&(b=0,e[u>>2]=j,e[X>>2]=C,P=X,N=x+1|0),J=u+4|0;t:do if(J>>>0<P>>>0){if(m=e[J>>2]|0,O=e[o>>2]|0,D=e[O>>2]|0,L=(e[O+4>>2]|0)-D>>3,L>>>0>m>>>0)ge=P,Be=J,_e=N,Ce=w,We=L,lt=D,et=O,Ve=m;else{b=57;break e}for(;;){for(O=e[o>>2]|0,m=O+4|0,D=e[Ce>>2]|0,L=Be,d=lt,$=We,He=et,I=Ve;;){if(se=d,$>>>0<=D>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(D<<3)>>2]|0)>>>0)break;if(se=L+4|0,st=e[se>>2]|0,d=e[O>>2]|0,$=(e[m>>2]|0)-d>>3,$>>>0<=st>>>0){b=57;break e}else L=se,He=O,I=st}if(O=e[Ce>>2]|0,lt=e[He>>2]|0,We=(e[He+4>>2]|0)-lt>>3,$=lt,d=$+(O<<3)|0,We>>>0>O>>>0)Je=ge;else{b=65;break e}do if(Je=Je+-4|0,it=e[Je>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[$+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(L>>>0>Je>>>0){ze=Ce,Ge=_e,ke=L;break t}if(e[L>>2]=it,e[Je>>2]=I,Be=L+4|0,Ve=e[Be>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else ge=Je,_e=_e+1|0,Ce=(Ce|0)==(L|0)?Je:Ce,et=He}}else ze=w,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,$=e[ut>>2]|0,O=(e[ut+4>>2]|0)-$>>3,O>>>0<=J>>>0){b=72;break e}if(m=$,O>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,tt=Ge+1|0):tt=Ge}else tt=Ge;if(!tt){if(at=$n(u,ke,o)|0,d=ke+4|0,$n(d,i,o)|0){b=83;break}if(at){h=d;continue}}if(d=ke,(d-g|0)>=(s-d|0)){b=82;break}u3(u,ke,o),h=ke+4|0}if((b|0)==82){b=0,u3(ke+4|0,i,o),l=u,i=ke;continue}else if((b|0)==83)if(b=0,at){b=84;break}else{l=u,i=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[u>>2]|0,l=e[o>>2]|0,at=e[l>>2]|0,g=(e[l+4>>2]|0)-at>>3,g>>>0<=b>>>0&&qe(),tt=at,g>>>0<=ke>>>0&&qe(),(e[tt+(b<<3)>>2]|0)>>>0>=(e[tt+(ke<<3)>>2]|0)>>>0)return;e[u>>2]=b,e[f>>2]=ke;return}case 11:{Tn(u,u+4|0,f,o)|0;return}case 12:{po(u,u+4|0,u+8|0,f,o)|0;return}case 13:{Le(u,u+4|0,u+8|0,u+12|0,f,o)|0;return}case 15:{Ho(u,i,o);return}case 20:{qe();break}case 22:{qe();break}case 26:{qe();break}case 32:{qe();break}case 38:{qe();break}case 40:{qe();break}case 46:{qe();break}case 47:{qe();break}case 51:{qe();break}case 57:{qe();break}case 59:{qe();break}case 65:{We>>>0>(e[ge+-4>>2]|0)>>>0,qe();break}case 66:{qe();break}case 72:{qe();break}case 74:{qe();break}case 84:return}}function c3(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0;l=i,i=s;e:for(;;){for(s=i,f=i+-4|0,h=l;;){u=h;t:for(;;){switch(g=u,d=s-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(w=u+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=Le(u,u+(d<<2)|0,w,w+(d<<2)|0,f,o)|0):x=Tn(u,w,f,o)|0,C=e[u>>2]|0,d=e[w>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,D=(e[S+4>>2]|0)-m>>3,D>>>0<=C>>>0){b=20;break e}if(I=m,D>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,L=e[I+(d<<3)>>2]|0,m>>>0<L>>>0){P=f,N=x;break}else X=f;for(;X=X+-4|0,(u|0)!=(X|0);){if(j=e[X>>2]|0,D>>>0<=j>>>0){b=51;break e}if((e[I+(j<<3)>>2]|0)>>>0<L>>>0){b=53;break t}}if(L=u+4|0,d=e[f>>2]|0,D>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=L;else{if((L|0)==(f|0)){b=84;break e}else V=L;for(;;){if(G=e[V>>2]|0,D>>>0<=G>>>0){b=32;break e}if(m>>>0<(e[I+(G<<3)>>2]|0)>>>0)break;if(L=V+4|0,(L|0)==(f|0)){b=84;break e}else V=L}e[V>>2]=d,e[f>>2]=G,Q=V+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[u>>2]|0,ee=e[o>>2]|0,m=e[ee>>2]|0,D=(e[ee+4>>2]|0)-m>>3,D>>>0<=I>>>0){b=38;break e}for(L=m,m=f,J=Q,O=I;;){for(I=L+(O<<3)|0,$=D>>>0>O>>>0,ie=J;;){if(se=e[ie>>2]|0,D>>>0<=se>>>0){b=40;break e}if(ue=e[I>>2]|0,ue>>>0<(e[L+(se<<3)>>2]|0)>>>0)break;if($)ie=ie+4|0;else{b=38;break e}}if(D>>>0>O>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Pe=e[Ee>>2]|0,D>>>0<=Pe>>>0){b=47;break e}while(ue>>>0<(e[L+(Pe<<3)>>2]|0)>>>0);if(ie>>>0>=Ee>>>0){u=ie;continue t}if($=e[ie>>2]|0,e[ie>>2]=Pe,e[Ee>>2]=$,O=e[u>>2]|0,D>>>0<=O>>>0){b=38;break e}else m=Ee,J=ie+4|0}}(b|0)==53&&(b=0,e[u>>2]=j,e[X>>2]=C,P=X,N=x+1|0),J=u+4|0;t:do if(J>>>0<P>>>0){if(m=e[J>>2]|0,O=e[o>>2]|0,D=e[O>>2]|0,L=(e[O+4>>2]|0)-D>>3,L>>>0>m>>>0)ge=P,Be=J,_e=N,Ce=w,We=L,lt=D,et=O,Ve=m;else{b=57;break e}for(;;){for(O=e[o>>2]|0,m=O+4|0,D=e[Ce>>2]|0,L=Be,d=lt,$=We,He=et,I=Ve;;){if(se=d,$>>>0<=D>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(D<<3)>>2]|0)>>>0)break;if(se=L+4|0,st=e[se>>2]|0,d=e[O>>2]|0,$=(e[m>>2]|0)-d>>3,$>>>0<=st>>>0){b=57;break e}else L=se,He=O,I=st}if(O=e[Ce>>2]|0,lt=e[He>>2]|0,We=(e[He+4>>2]|0)-lt>>3,$=lt,d=$+(O<<3)|0,We>>>0>O>>>0)Je=ge;else{b=65;break e}do if(Je=Je+-4|0,it=e[Je>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[$+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(L>>>0>Je>>>0){ze=Ce,Ge=_e,ke=L;break t}if(e[L>>2]=it,e[Je>>2]=I,Be=L+4|0,Ve=e[Be>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else ge=Je,_e=_e+1|0,Ce=(Ce|0)==(L|0)?Je:Ce,et=He}}else ze=w,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,$=e[ut>>2]|0,O=(e[ut+4>>2]|0)-$>>3,O>>>0<=J>>>0){b=72;break e}if(m=$,O>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,tt=Ge+1|0):tt=Ge}else tt=Ge;if(!tt){if(at=$n(u,ke,o)|0,d=ke+4|0,$n(d,i,o)|0){b=83;break}if(at){h=d;continue}}if(d=ke,(d-g|0)>=(s-d|0)){b=82;break}c3(u,ke,o),h=ke+4|0}if((b|0)==82){b=0,c3(ke+4|0,i,o),l=u,i=ke;continue}else if((b|0)==83)if(b=0,at){b=84;break}else{l=u,i=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[u>>2]|0,l=e[o>>2]|0,at=e[l>>2]|0,g=(e[l+4>>2]|0)-at>>3,g>>>0<=b>>>0&&qe(),tt=at,g>>>0<=ke>>>0&&qe(),(e[tt+(b<<3)>>2]|0)>>>0>=(e[tt+(ke<<3)>>2]|0)>>>0)return;e[u>>2]=b,e[f>>2]=ke;return}case 11:{Tn(u,u+4|0,f,o)|0;return}case 12:{po(u,u+4|0,u+8|0,f,o)|0;return}case 13:{Le(u,u+4|0,u+8|0,u+12|0,f,o)|0;return}case 15:{Ho(u,i,o);return}case 20:{qe();break}case 22:{qe();break}case 26:{qe();break}case 32:{qe();break}case 38:{qe();break}case 40:{qe();break}case 46:{qe();break}case 47:{qe();break}case 51:{qe();break}case 57:{qe();break}case 59:{qe();break}case 65:{We>>>0>(e[ge+-4>>2]|0)>>>0,qe();break}case 66:{qe();break}case 72:{qe();break}case 74:{qe();break}case 84:return}}function h3(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0;l=i,i=s;e:for(;;){for(s=i,f=i+-4|0,h=l;;){u=h;t:for(;;){switch(g=u,d=s-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(w=u+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=Le(u,u+(d<<2)|0,w,w+(d<<2)|0,f,o)|0):x=Tn(u,w,f,o)|0,C=e[u>>2]|0,d=e[w>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,D=(e[S+4>>2]|0)-m>>3,D>>>0<=C>>>0){b=20;break e}if(I=m,D>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,L=e[I+(d<<3)>>2]|0,m>>>0<L>>>0){P=f,N=x;break}else X=f;for(;X=X+-4|0,(u|0)!=(X|0);){if(j=e[X>>2]|0,D>>>0<=j>>>0){b=51;break e}if((e[I+(j<<3)>>2]|0)>>>0<L>>>0){b=53;break t}}if(L=u+4|0,d=e[f>>2]|0,D>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=L;else{if((L|0)==(f|0)){b=84;break e}else V=L;for(;;){if(G=e[V>>2]|0,D>>>0<=G>>>0){b=32;break e}if(m>>>0<(e[I+(G<<3)>>2]|0)>>>0)break;if(L=V+4|0,(L|0)==(f|0)){b=84;break e}else V=L}e[V>>2]=d,e[f>>2]=G,Q=V+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[u>>2]|0,ee=e[o>>2]|0,m=e[ee>>2]|0,D=(e[ee+4>>2]|0)-m>>3,D>>>0<=I>>>0){b=38;break e}for(L=m,m=f,J=Q,O=I;;){for(I=L+(O<<3)|0,$=D>>>0>O>>>0,ie=J;;){if(se=e[ie>>2]|0,D>>>0<=se>>>0){b=40;break e}if(ue=e[I>>2]|0,ue>>>0<(e[L+(se<<3)>>2]|0)>>>0)break;if($)ie=ie+4|0;else{b=38;break e}}if(D>>>0>O>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Pe=e[Ee>>2]|0,D>>>0<=Pe>>>0){b=47;break e}while(ue>>>0<(e[L+(Pe<<3)>>2]|0)>>>0);if(ie>>>0>=Ee>>>0){u=ie;continue t}if($=e[ie>>2]|0,e[ie>>2]=Pe,e[Ee>>2]=$,O=e[u>>2]|0,D>>>0<=O>>>0){b=38;break e}else m=Ee,J=ie+4|0}}(b|0)==53&&(b=0,e[u>>2]=j,e[X>>2]=C,P=X,N=x+1|0),J=u+4|0;t:do if(J>>>0<P>>>0){if(m=e[J>>2]|0,O=e[o>>2]|0,D=e[O>>2]|0,L=(e[O+4>>2]|0)-D>>3,L>>>0>m>>>0)ge=P,Be=J,_e=N,Ce=w,We=L,lt=D,et=O,Ve=m;else{b=57;break e}for(;;){for(O=e[o>>2]|0,m=O+4|0,D=e[Ce>>2]|0,L=Be,d=lt,$=We,He=et,I=Ve;;){if(se=d,$>>>0<=D>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(D<<3)>>2]|0)>>>0)break;if(se=L+4|0,st=e[se>>2]|0,d=e[O>>2]|0,$=(e[m>>2]|0)-d>>3,$>>>0<=st>>>0){b=57;break e}else L=se,He=O,I=st}if(O=e[Ce>>2]|0,lt=e[He>>2]|0,We=(e[He+4>>2]|0)-lt>>3,$=lt,d=$+(O<<3)|0,We>>>0>O>>>0)Je=ge;else{b=65;break e}do if(Je=Je+-4|0,it=e[Je>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[$+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(L>>>0>Je>>>0){ze=Ce,Ge=_e,ke=L;break t}if(e[L>>2]=it,e[Je>>2]=I,Be=L+4|0,Ve=e[Be>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else ge=Je,_e=_e+1|0,Ce=(Ce|0)==(L|0)?Je:Ce,et=He}}else ze=w,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,$=e[ut>>2]|0,O=(e[ut+4>>2]|0)-$>>3,O>>>0<=J>>>0){b=72;break e}if(m=$,O>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,tt=Ge+1|0):tt=Ge}else tt=Ge;if(!tt){if(at=$n(u,ke,o)|0,d=ke+4|0,$n(d,i,o)|0){b=83;break}if(at){h=d;continue}}if(d=ke,(d-g|0)>=(s-d|0)){b=82;break}h3(u,ke,o),h=ke+4|0}if((b|0)==82){b=0,h3(ke+4|0,i,o),l=u,i=ke;continue}else if((b|0)==83)if(b=0,at){b=84;break}else{l=u,i=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[u>>2]|0,l=e[o>>2]|0,at=e[l>>2]|0,g=(e[l+4>>2]|0)-at>>3,g>>>0<=b>>>0&&qe(),tt=at,g>>>0<=ke>>>0&&qe(),(e[tt+(b<<3)>>2]|0)>>>0>=(e[tt+(ke<<3)>>2]|0)>>>0)return;e[u>>2]=b,e[f>>2]=ke;return}case 11:{Tn(u,u+4|0,f,o)|0;return}case 12:{po(u,u+4|0,u+8|0,f,o)|0;return}case 13:{Le(u,u+4|0,u+8|0,u+12|0,f,o)|0;return}case 15:{Ho(u,i,o);return}case 20:{qe();break}case 22:{qe();break}case 26:{qe();break}case 32:{qe();break}case 38:{qe();break}case 40:{qe();break}case 46:{qe();break}case 47:{qe();break}case 51:{qe();break}case 57:{qe();break}case 59:{qe();break}case 65:{We>>>0>(e[ge+-4>>2]|0)>>>0,qe();break}case 66:{qe();break}case 72:{qe();break}case 74:{qe();break}case 84:return}}function d3(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0;l=i,i=s;e:for(;;){for(s=i,f=i+-4|0,h=l;;){u=h;t:for(;;){switch(g=u,d=s-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(w=u+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=Le(u,u+(d<<2)|0,w,w+(d<<2)|0,f,o)|0):x=Tn(u,w,f,o)|0,C=e[u>>2]|0,d=e[w>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,D=(e[S+4>>2]|0)-m>>3,D>>>0<=C>>>0){b=20;break e}if(I=m,D>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,L=e[I+(d<<3)>>2]|0,m>>>0<L>>>0){P=f,N=x;break}else X=f;for(;X=X+-4|0,(u|0)!=(X|0);){if(j=e[X>>2]|0,D>>>0<=j>>>0){b=51;break e}if((e[I+(j<<3)>>2]|0)>>>0<L>>>0){b=53;break t}}if(L=u+4|0,d=e[f>>2]|0,D>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=L;else{if((L|0)==(f|0)){b=84;break e}else V=L;for(;;){if(G=e[V>>2]|0,D>>>0<=G>>>0){b=32;break e}if(m>>>0<(e[I+(G<<3)>>2]|0)>>>0)break;if(L=V+4|0,(L|0)==(f|0)){b=84;break e}else V=L}e[V>>2]=d,e[f>>2]=G,Q=V+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[u>>2]|0,ee=e[o>>2]|0,m=e[ee>>2]|0,D=(e[ee+4>>2]|0)-m>>3,D>>>0<=I>>>0){b=38;break e}for(L=m,m=f,J=Q,O=I;;){for(I=L+(O<<3)|0,$=D>>>0>O>>>0,ie=J;;){if(se=e[ie>>2]|0,D>>>0<=se>>>0){b=40;break e}if(ue=e[I>>2]|0,ue>>>0<(e[L+(se<<3)>>2]|0)>>>0)break;if($)ie=ie+4|0;else{b=38;break e}}if(D>>>0>O>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Pe=e[Ee>>2]|0,D>>>0<=Pe>>>0){b=47;break e}while(ue>>>0<(e[L+(Pe<<3)>>2]|0)>>>0);if(ie>>>0>=Ee>>>0){u=ie;continue t}if($=e[ie>>2]|0,e[ie>>2]=Pe,e[Ee>>2]=$,O=e[u>>2]|0,D>>>0<=O>>>0){b=38;break e}else m=Ee,J=ie+4|0}}(b|0)==53&&(b=0,e[u>>2]=j,e[X>>2]=C,P=X,N=x+1|0),J=u+4|0;t:do if(J>>>0<P>>>0){if(m=e[J>>2]|0,O=e[o>>2]|0,D=e[O>>2]|0,L=(e[O+4>>2]|0)-D>>3,L>>>0>m>>>0)ge=P,Be=J,_e=N,Ce=w,We=L,lt=D,et=O,Ve=m;else{b=57;break e}for(;;){for(O=e[o>>2]|0,m=O+4|0,D=e[Ce>>2]|0,L=Be,d=lt,$=We,He=et,I=Ve;;){if(se=d,$>>>0<=D>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(D<<3)>>2]|0)>>>0)break;if(se=L+4|0,st=e[se>>2]|0,d=e[O>>2]|0,$=(e[m>>2]|0)-d>>3,$>>>0<=st>>>0){b=57;break e}else L=se,He=O,I=st}if(O=e[Ce>>2]|0,lt=e[He>>2]|0,We=(e[He+4>>2]|0)-lt>>3,$=lt,d=$+(O<<3)|0,We>>>0>O>>>0)Je=ge;else{b=65;break e}do if(Je=Je+-4|0,it=e[Je>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[$+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(L>>>0>Je>>>0){ze=Ce,Ge=_e,ke=L;break t}if(e[L>>2]=it,e[Je>>2]=I,Be=L+4|0,Ve=e[Be>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else ge=Je,_e=_e+1|0,Ce=(Ce|0)==(L|0)?Je:Ce,et=He}}else ze=w,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,$=e[ut>>2]|0,O=(e[ut+4>>2]|0)-$>>3,O>>>0<=J>>>0){b=72;break e}if(m=$,O>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,tt=Ge+1|0):tt=Ge}else tt=Ge;if(!tt){if(at=$n(u,ke,o)|0,d=ke+4|0,$n(d,i,o)|0){b=83;break}if(at){h=d;continue}}if(d=ke,(d-g|0)>=(s-d|0)){b=82;break}d3(u,ke,o),h=ke+4|0}if((b|0)==82){b=0,d3(ke+4|0,i,o),l=u,i=ke;continue}else if((b|0)==83)if(b=0,at){b=84;break}else{l=u,i=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[u>>2]|0,l=e[o>>2]|0,at=e[l>>2]|0,g=(e[l+4>>2]|0)-at>>3,g>>>0<=b>>>0&&qe(),tt=at,g>>>0<=ke>>>0&&qe(),(e[tt+(b<<3)>>2]|0)>>>0>=(e[tt+(ke<<3)>>2]|0)>>>0)return;e[u>>2]=b,e[f>>2]=ke;return}case 11:{Tn(u,u+4|0,f,o)|0;return}case 12:{po(u,u+4|0,u+8|0,f,o)|0;return}case 13:{Le(u,u+4|0,u+8|0,u+12|0,f,o)|0;return}case 15:{Ho(u,i,o);return}case 20:{qe();break}case 22:{qe();break}case 26:{qe();break}case 32:{qe();break}case 38:{qe();break}case 40:{qe();break}case 46:{qe();break}case 47:{qe();break}case 51:{qe();break}case 57:{qe();break}case 59:{qe();break}case 65:{We>>>0>(e[ge+-4>>2]|0)>>>0,qe();break}case 66:{qe();break}case 72:{qe();break}case 74:{qe();break}case 84:return}}function p3(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0;l=i,i=s;e:for(;;){for(s=i,f=i+-4|0,h=l;;){u=h;t:for(;;){switch(g=u,d=s-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(w=u+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=Le(u,u+(d<<2)|0,w,w+(d<<2)|0,f,o)|0):x=Tn(u,w,f,o)|0,C=e[u>>2]|0,d=e[w>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,D=(e[S+4>>2]|0)-m>>3,D>>>0<=C>>>0){b=20;break e}if(I=m,D>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,L=e[I+(d<<3)>>2]|0,m>>>0<L>>>0){P=f,N=x;break}else X=f;for(;X=X+-4|0,(u|0)!=(X|0);){if(j=e[X>>2]|0,D>>>0<=j>>>0){b=51;break e}if((e[I+(j<<3)>>2]|0)>>>0<L>>>0){b=53;break t}}if(L=u+4|0,d=e[f>>2]|0,D>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=L;else{if((L|0)==(f|0)){b=84;break e}else V=L;for(;;){if(G=e[V>>2]|0,D>>>0<=G>>>0){b=32;break e}if(m>>>0<(e[I+(G<<3)>>2]|0)>>>0)break;if(L=V+4|0,(L|0)==(f|0)){b=84;break e}else V=L}e[V>>2]=d,e[f>>2]=G,Q=V+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[u>>2]|0,ee=e[o>>2]|0,m=e[ee>>2]|0,D=(e[ee+4>>2]|0)-m>>3,D>>>0<=I>>>0){b=38;break e}for(L=m,m=f,J=Q,O=I;;){for(I=L+(O<<3)|0,$=D>>>0>O>>>0,ie=J;;){if(se=e[ie>>2]|0,D>>>0<=se>>>0){b=40;break e}if(ue=e[I>>2]|0,ue>>>0<(e[L+(se<<3)>>2]|0)>>>0)break;if($)ie=ie+4|0;else{b=38;break e}}if(D>>>0>O>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Pe=e[Ee>>2]|0,D>>>0<=Pe>>>0){b=47;break e}while(ue>>>0<(e[L+(Pe<<3)>>2]|0)>>>0);if(ie>>>0>=Ee>>>0){u=ie;continue t}if($=e[ie>>2]|0,e[ie>>2]=Pe,e[Ee>>2]=$,O=e[u>>2]|0,D>>>0<=O>>>0){b=38;break e}else m=Ee,J=ie+4|0}}(b|0)==53&&(b=0,e[u>>2]=j,e[X>>2]=C,P=X,N=x+1|0),J=u+4|0;t:do if(J>>>0<P>>>0){if(m=e[J>>2]|0,O=e[o>>2]|0,D=e[O>>2]|0,L=(e[O+4>>2]|0)-D>>3,L>>>0>m>>>0)ge=P,Be=J,_e=N,Ce=w,We=L,lt=D,et=O,Ve=m;else{b=57;break e}for(;;){for(O=e[o>>2]|0,m=O+4|0,D=e[Ce>>2]|0,L=Be,d=lt,$=We,He=et,I=Ve;;){if(se=d,$>>>0<=D>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(D<<3)>>2]|0)>>>0)break;if(se=L+4|0,st=e[se>>2]|0,d=e[O>>2]|0,$=(e[m>>2]|0)-d>>3,$>>>0<=st>>>0){b=57;break e}else L=se,He=O,I=st}if(O=e[Ce>>2]|0,lt=e[He>>2]|0,We=(e[He+4>>2]|0)-lt>>3,$=lt,d=$+(O<<3)|0,We>>>0>O>>>0)Je=ge;else{b=65;break e}do if(Je=Je+-4|0,it=e[Je>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[$+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(L>>>0>Je>>>0){ze=Ce,Ge=_e,ke=L;break t}if(e[L>>2]=it,e[Je>>2]=I,Be=L+4|0,Ve=e[Be>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else ge=Je,_e=_e+1|0,Ce=(Ce|0)==(L|0)?Je:Ce,et=He}}else ze=w,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,$=e[ut>>2]|0,O=(e[ut+4>>2]|0)-$>>3,O>>>0<=J>>>0){b=72;break e}if(m=$,O>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,tt=Ge+1|0):tt=Ge}else tt=Ge;if(!tt){if(at=$n(u,ke,o)|0,d=ke+4|0,$n(d,i,o)|0){b=83;break}if(at){h=d;continue}}if(d=ke,(d-g|0)>=(s-d|0)){b=82;break}p3(u,ke,o),h=ke+4|0}if((b|0)==82){b=0,p3(ke+4|0,i,o),l=u,i=ke;continue}else if((b|0)==83)if(b=0,at){b=84;break}else{l=u,i=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[u>>2]|0,l=e[o>>2]|0,at=e[l>>2]|0,g=(e[l+4>>2]|0)-at>>3,g>>>0<=b>>>0&&qe(),tt=at,g>>>0<=ke>>>0&&qe(),(e[tt+(b<<3)>>2]|0)>>>0>=(e[tt+(ke<<3)>>2]|0)>>>0)return;e[u>>2]=b,e[f>>2]=ke;return}case 11:{Tn(u,u+4|0,f,o)|0;return}case 12:{po(u,u+4|0,u+8|0,f,o)|0;return}case 13:{Le(u,u+4|0,u+8|0,u+12|0,f,o)|0;return}case 15:{Ho(u,i,o);return}case 20:{qe();break}case 22:{qe();break}case 26:{qe();break}case 32:{qe();break}case 38:{qe();break}case 40:{qe();break}case 46:{qe();break}case 47:{qe();break}case 51:{qe();break}case 57:{qe();break}case 59:{qe();break}case 65:{We>>>0>(e[ge+-4>>2]|0)>>>0,qe();break}case 66:{qe();break}case 72:{qe();break}case 74:{qe();break}case 84:return}}function m3(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0;l=i,i=s;e:for(;;){for(s=i,f=i+-4|0,h=l;;){u=h;t:for(;;){switch(g=u,d=s-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(w=u+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=Le(u,u+(d<<2)|0,w,w+(d<<2)|0,f,o)|0):x=Tn(u,w,f,o)|0,C=e[u>>2]|0,d=e[w>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,D=(e[S+4>>2]|0)-m>>3,D>>>0<=C>>>0){b=20;break e}if(I=m,D>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,L=e[I+(d<<3)>>2]|0,m>>>0<L>>>0){P=f,N=x;break}else X=f;for(;X=X+-4|0,(u|0)!=(X|0);){if(j=e[X>>2]|0,D>>>0<=j>>>0){b=51;break e}if((e[I+(j<<3)>>2]|0)>>>0<L>>>0){b=53;break t}}if(L=u+4|0,d=e[f>>2]|0,D>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=L;else{if((L|0)==(f|0)){b=84;break e}else V=L;for(;;){if(G=e[V>>2]|0,D>>>0<=G>>>0){b=32;break e}if(m>>>0<(e[I+(G<<3)>>2]|0)>>>0)break;if(L=V+4|0,(L|0)==(f|0)){b=84;break e}else V=L}e[V>>2]=d,e[f>>2]=G,Q=V+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[u>>2]|0,ee=e[o>>2]|0,m=e[ee>>2]|0,D=(e[ee+4>>2]|0)-m>>3,D>>>0<=I>>>0){b=38;break e}for(L=m,m=f,J=Q,O=I;;){for(I=L+(O<<3)|0,$=D>>>0>O>>>0,ie=J;;){if(se=e[ie>>2]|0,D>>>0<=se>>>0){b=40;break e}if(ue=e[I>>2]|0,ue>>>0<(e[L+(se<<3)>>2]|0)>>>0)break;if($)ie=ie+4|0;else{b=38;break e}}if(D>>>0>O>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Pe=e[Ee>>2]|0,D>>>0<=Pe>>>0){b=47;break e}while(ue>>>0<(e[L+(Pe<<3)>>2]|0)>>>0);if(ie>>>0>=Ee>>>0){u=ie;continue t}if($=e[ie>>2]|0,e[ie>>2]=Pe,e[Ee>>2]=$,O=e[u>>2]|0,D>>>0<=O>>>0){b=38;break e}else m=Ee,J=ie+4|0}}(b|0)==53&&(b=0,e[u>>2]=j,e[X>>2]=C,P=X,N=x+1|0),J=u+4|0;t:do if(J>>>0<P>>>0){if(m=e[J>>2]|0,O=e[o>>2]|0,D=e[O>>2]|0,L=(e[O+4>>2]|0)-D>>3,L>>>0>m>>>0)ge=P,Be=J,_e=N,Ce=w,We=L,lt=D,et=O,Ve=m;else{b=57;break e}for(;;){for(O=e[o>>2]|0,m=O+4|0,D=e[Ce>>2]|0,L=Be,d=lt,$=We,He=et,I=Ve;;){if(se=d,$>>>0<=D>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(D<<3)>>2]|0)>>>0)break;if(se=L+4|0,st=e[se>>2]|0,d=e[O>>2]|0,$=(e[m>>2]|0)-d>>3,$>>>0<=st>>>0){b=57;break e}else L=se,He=O,I=st}if(O=e[Ce>>2]|0,lt=e[He>>2]|0,We=(e[He+4>>2]|0)-lt>>3,$=lt,d=$+(O<<3)|0,We>>>0>O>>>0)Je=ge;else{b=65;break e}do if(Je=Je+-4|0,it=e[Je>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[$+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(L>>>0>Je>>>0){ze=Ce,Ge=_e,ke=L;break t}if(e[L>>2]=it,e[Je>>2]=I,Be=L+4|0,Ve=e[Be>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else ge=Je,_e=_e+1|0,Ce=(Ce|0)==(L|0)?Je:Ce,et=He}}else ze=w,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,$=e[ut>>2]|0,O=(e[ut+4>>2]|0)-$>>3,O>>>0<=J>>>0){b=72;break e}if(m=$,O>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,tt=Ge+1|0):tt=Ge}else tt=Ge;if(!tt){if(at=$n(u,ke,o)|0,d=ke+4|0,$n(d,i,o)|0){b=83;break}if(at){h=d;continue}}if(d=ke,(d-g|0)>=(s-d|0)){b=82;break}m3(u,ke,o),h=ke+4|0}if((b|0)==82){b=0,m3(ke+4|0,i,o),l=u,i=ke;continue}else if((b|0)==83)if(b=0,at){b=84;break}else{l=u,i=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[u>>2]|0,l=e[o>>2]|0,at=e[l>>2]|0,g=(e[l+4>>2]|0)-at>>3,g>>>0<=b>>>0&&qe(),tt=at,g>>>0<=ke>>>0&&qe(),(e[tt+(b<<3)>>2]|0)>>>0>=(e[tt+(ke<<3)>>2]|0)>>>0)return;e[u>>2]=b,e[f>>2]=ke;return}case 11:{Tn(u,u+4|0,f,o)|0;return}case 12:{po(u,u+4|0,u+8|0,f,o)|0;return}case 13:{Le(u,u+4|0,u+8|0,u+12|0,f,o)|0;return}case 15:{Ho(u,i,o);return}case 20:{qe();break}case 22:{qe();break}case 26:{qe();break}case 32:{qe();break}case 38:{qe();break}case 40:{qe();break}case 46:{qe();break}case 47:{qe();break}case 51:{qe();break}case 57:{qe();break}case 59:{qe();break}case 65:{We>>>0>(e[ge+-4>>2]|0)>>>0,qe();break}case 66:{qe();break}case 72:{qe();break}case 74:{qe();break}case 84:return}}function g3(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0;l=i,i=s;e:for(;;){for(s=i,f=i+-4|0,h=l;;){u=h;t:for(;;){switch(g=u,d=s-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(w=u+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=Le(u,u+(d<<2)|0,w,w+(d<<2)|0,f,o)|0):x=Tn(u,w,f,o)|0,C=e[u>>2]|0,d=e[w>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,D=(e[S+4>>2]|0)-m>>3,D>>>0<=C>>>0){b=20;break e}if(I=m,D>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,L=e[I+(d<<3)>>2]|0,m>>>0<L>>>0){P=f,N=x;break}else X=f;for(;X=X+-4|0,(u|0)!=(X|0);){if(j=e[X>>2]|0,D>>>0<=j>>>0){b=51;break e}if((e[I+(j<<3)>>2]|0)>>>0<L>>>0){b=53;break t}}if(L=u+4|0,d=e[f>>2]|0,D>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=L;else{if((L|0)==(f|0)){b=84;break e}else V=L;for(;;){if(G=e[V>>2]|0,D>>>0<=G>>>0){b=32;break e}if(m>>>0<(e[I+(G<<3)>>2]|0)>>>0)break;if(L=V+4|0,(L|0)==(f|0)){b=84;break e}else V=L}e[V>>2]=d,e[f>>2]=G,Q=V+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[u>>2]|0,ee=e[o>>2]|0,m=e[ee>>2]|0,D=(e[ee+4>>2]|0)-m>>3,D>>>0<=I>>>0){b=38;break e}for(L=m,m=f,J=Q,O=I;;){for(I=L+(O<<3)|0,$=D>>>0>O>>>0,ie=J;;){if(se=e[ie>>2]|0,D>>>0<=se>>>0){b=40;break e}if(ue=e[I>>2]|0,ue>>>0<(e[L+(se<<3)>>2]|0)>>>0)break;if($)ie=ie+4|0;else{b=38;break e}}if(D>>>0>O>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Pe=e[Ee>>2]|0,D>>>0<=Pe>>>0){b=47;break e}while(ue>>>0<(e[L+(Pe<<3)>>2]|0)>>>0);if(ie>>>0>=Ee>>>0){u=ie;continue t}if($=e[ie>>2]|0,e[ie>>2]=Pe,e[Ee>>2]=$,O=e[u>>2]|0,D>>>0<=O>>>0){b=38;break e}else m=Ee,J=ie+4|0}}(b|0)==53&&(b=0,e[u>>2]=j,e[X>>2]=C,P=X,N=x+1|0),J=u+4|0;t:do if(J>>>0<P>>>0){if(m=e[J>>2]|0,O=e[o>>2]|0,D=e[O>>2]|0,L=(e[O+4>>2]|0)-D>>3,L>>>0>m>>>0)ge=P,Be=J,_e=N,Ce=w,We=L,lt=D,et=O,Ve=m;else{b=57;break e}for(;;){for(O=e[o>>2]|0,m=O+4|0,D=e[Ce>>2]|0,L=Be,d=lt,$=We,He=et,I=Ve;;){if(se=d,$>>>0<=D>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(D<<3)>>2]|0)>>>0)break;if(se=L+4|0,st=e[se>>2]|0,d=e[O>>2]|0,$=(e[m>>2]|0)-d>>3,$>>>0<=st>>>0){b=57;break e}else L=se,He=O,I=st}if(O=e[Ce>>2]|0,lt=e[He>>2]|0,We=(e[He+4>>2]|0)-lt>>3,$=lt,d=$+(O<<3)|0,We>>>0>O>>>0)Je=ge;else{b=65;break e}do if(Je=Je+-4|0,it=e[Je>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[$+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(L>>>0>Je>>>0){ze=Ce,Ge=_e,ke=L;break t}if(e[L>>2]=it,e[Je>>2]=I,Be=L+4|0,Ve=e[Be>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else ge=Je,_e=_e+1|0,Ce=(Ce|0)==(L|0)?Je:Ce,et=He}}else ze=w,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,$=e[ut>>2]|0,O=(e[ut+4>>2]|0)-$>>3,O>>>0<=J>>>0){b=72;break e}if(m=$,O>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,tt=Ge+1|0):tt=Ge}else tt=Ge;if(!tt){if(at=$n(u,ke,o)|0,d=ke+4|0,$n(d,i,o)|0){b=83;break}if(at){h=d;continue}}if(d=ke,(d-g|0)>=(s-d|0)){b=82;break}g3(u,ke,o),h=ke+4|0}if((b|0)==82){b=0,g3(ke+4|0,i,o),l=u,i=ke;continue}else if((b|0)==83)if(b=0,at){b=84;break}else{l=u,i=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[u>>2]|0,l=e[o>>2]|0,at=e[l>>2]|0,g=(e[l+4>>2]|0)-at>>3,g>>>0<=b>>>0&&qe(),tt=at,g>>>0<=ke>>>0&&qe(),(e[tt+(b<<3)>>2]|0)>>>0>=(e[tt+(ke<<3)>>2]|0)>>>0)return;e[u>>2]=b,e[f>>2]=ke;return}case 11:{Tn(u,u+4|0,f,o)|0;return}case 12:{po(u,u+4|0,u+8|0,f,o)|0;return}case 13:{Le(u,u+4|0,u+8|0,u+12|0,f,o)|0;return}case 15:{Ho(u,i,o);return}case 20:{qe();break}case 22:{qe();break}case 26:{qe();break}case 32:{qe();break}case 38:{qe();break}case 40:{qe();break}case 46:{qe();break}case 47:{qe();break}case 51:{qe();break}case 57:{qe();break}case 59:{qe();break}case 65:{We>>>0>(e[ge+-4>>2]|0)>>>0,qe();break}case 66:{qe();break}case 72:{qe();break}case 74:{qe();break}case 84:return}}function b3(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0;l=i,i=s;e:for(;;){for(s=i,f=i+-4|0,h=l;;){u=h;t:for(;;){switch(g=u,d=s-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(w=u+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=Le(u,u+(d<<2)|0,w,w+(d<<2)|0,f,o)|0):x=Tn(u,w,f,o)|0,C=e[u>>2]|0,d=e[w>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,D=(e[S+4>>2]|0)-m>>3,D>>>0<=C>>>0){b=20;break e}if(I=m,D>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,L=e[I+(d<<3)>>2]|0,m>>>0<L>>>0){P=f,N=x;break}else X=f;for(;X=X+-4|0,(u|0)!=(X|0);){if(j=e[X>>2]|0,D>>>0<=j>>>0){b=51;break e}if((e[I+(j<<3)>>2]|0)>>>0<L>>>0){b=53;break t}}if(L=u+4|0,d=e[f>>2]|0,D>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=L;else{if((L|0)==(f|0)){b=84;break e}else V=L;for(;;){if(G=e[V>>2]|0,D>>>0<=G>>>0){b=32;break e}if(m>>>0<(e[I+(G<<3)>>2]|0)>>>0)break;if(L=V+4|0,(L|0)==(f|0)){b=84;break e}else V=L}e[V>>2]=d,e[f>>2]=G,Q=V+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[u>>2]|0,ee=e[o>>2]|0,m=e[ee>>2]|0,D=(e[ee+4>>2]|0)-m>>3,D>>>0<=I>>>0){b=38;break e}for(L=m,m=f,J=Q,O=I;;){for(I=L+(O<<3)|0,$=D>>>0>O>>>0,ie=J;;){if(se=e[ie>>2]|0,D>>>0<=se>>>0){b=40;break e}if(ue=e[I>>2]|0,ue>>>0<(e[L+(se<<3)>>2]|0)>>>0)break;if($)ie=ie+4|0;else{b=38;break e}}if(D>>>0>O>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Pe=e[Ee>>2]|0,D>>>0<=Pe>>>0){b=47;break e}while(ue>>>0<(e[L+(Pe<<3)>>2]|0)>>>0);if(ie>>>0>=Ee>>>0){u=ie;continue t}if($=e[ie>>2]|0,e[ie>>2]=Pe,e[Ee>>2]=$,O=e[u>>2]|0,D>>>0<=O>>>0){b=38;break e}else m=Ee,J=ie+4|0}}(b|0)==53&&(b=0,e[u>>2]=j,e[X>>2]=C,P=X,N=x+1|0),J=u+4|0;t:do if(J>>>0<P>>>0){if(m=e[J>>2]|0,O=e[o>>2]|0,D=e[O>>2]|0,L=(e[O+4>>2]|0)-D>>3,L>>>0>m>>>0)ge=P,Be=J,_e=N,Ce=w,We=L,lt=D,et=O,Ve=m;else{b=57;break e}for(;;){for(O=e[o>>2]|0,m=O+4|0,D=e[Ce>>2]|0,L=Be,d=lt,$=We,He=et,I=Ve;;){if(se=d,$>>>0<=D>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(D<<3)>>2]|0)>>>0)break;if(se=L+4|0,st=e[se>>2]|0,d=e[O>>2]|0,$=(e[m>>2]|0)-d>>3,$>>>0<=st>>>0){b=57;break e}else L=se,He=O,I=st}if(O=e[Ce>>2]|0,lt=e[He>>2]|0,We=(e[He+4>>2]|0)-lt>>3,$=lt,d=$+(O<<3)|0,We>>>0>O>>>0)Je=ge;else{b=65;break e}do if(Je=Je+-4|0,it=e[Je>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[$+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(L>>>0>Je>>>0){ze=Ce,Ge=_e,ke=L;break t}if(e[L>>2]=it,e[Je>>2]=I,Be=L+4|0,Ve=e[Be>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else ge=Je,_e=_e+1|0,Ce=(Ce|0)==(L|0)?Je:Ce,et=He}}else ze=w,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,$=e[ut>>2]|0,O=(e[ut+4>>2]|0)-$>>3,O>>>0<=J>>>0){b=72;break e}if(m=$,O>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,tt=Ge+1|0):tt=Ge}else tt=Ge;if(!tt){if(at=$n(u,ke,o)|0,d=ke+4|0,$n(d,i,o)|0){b=83;break}if(at){h=d;continue}}if(d=ke,(d-g|0)>=(s-d|0)){b=82;break}b3(u,ke,o),h=ke+4|0}if((b|0)==82){b=0,b3(ke+4|0,i,o),l=u,i=ke;continue}else if((b|0)==83)if(b=0,at){b=84;break}else{l=u,i=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[u>>2]|0,l=e[o>>2]|0,at=e[l>>2]|0,g=(e[l+4>>2]|0)-at>>3,g>>>0<=b>>>0&&qe(),tt=at,g>>>0<=ke>>>0&&qe(),(e[tt+(b<<3)>>2]|0)>>>0>=(e[tt+(ke<<3)>>2]|0)>>>0)return;e[u>>2]=b,e[f>>2]=ke;return}case 11:{Tn(u,u+4|0,f,o)|0;return}case 12:{po(u,u+4|0,u+8|0,f,o)|0;return}case 13:{Le(u,u+4|0,u+8|0,u+12|0,f,o)|0;return}case 15:{Ho(u,i,o);return}case 20:{qe();break}case 22:{qe();break}case 26:{qe();break}case 32:{qe();break}case 38:{qe();break}case 40:{qe();break}case 46:{qe();break}case 47:{qe();break}case 51:{qe();break}case 57:{qe();break}case 59:{qe();break}case 65:{We>>>0>(e[ge+-4>>2]|0)>>>0,qe();break}case 66:{qe();break}case 72:{qe();break}case 74:{qe();break}case 84:return}}function y3(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0;l=i,i=s;e:for(;;){for(s=i,f=i+-4|0,h=l;;){u=h;t:for(;;){switch(g=u,d=s-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(w=u+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=Le(u,u+(d<<2)|0,w,w+(d<<2)|0,f,o)|0):x=Tn(u,w,f,o)|0,C=e[u>>2]|0,d=e[w>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,D=(e[S+4>>2]|0)-m>>3,D>>>0<=C>>>0){b=20;break e}if(I=m,D>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,L=e[I+(d<<3)>>2]|0,m>>>0<L>>>0){P=f,N=x;break}else X=f;for(;X=X+-4|0,(u|0)!=(X|0);){if(j=e[X>>2]|0,D>>>0<=j>>>0){b=51;break e}if((e[I+(j<<3)>>2]|0)>>>0<L>>>0){b=53;break t}}if(L=u+4|0,d=e[f>>2]|0,D>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=L;else{if((L|0)==(f|0)){b=84;break e}else V=L;for(;;){if(G=e[V>>2]|0,D>>>0<=G>>>0){b=32;break e}if(m>>>0<(e[I+(G<<3)>>2]|0)>>>0)break;if(L=V+4|0,(L|0)==(f|0)){b=84;break e}else V=L}e[V>>2]=d,e[f>>2]=G,Q=V+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[u>>2]|0,ee=e[o>>2]|0,m=e[ee>>2]|0,D=(e[ee+4>>2]|0)-m>>3,D>>>0<=I>>>0){b=38;break e}for(L=m,m=f,J=Q,O=I;;){for(I=L+(O<<3)|0,$=D>>>0>O>>>0,ie=J;;){if(se=e[ie>>2]|0,D>>>0<=se>>>0){b=40;break e}if(ue=e[I>>2]|0,ue>>>0<(e[L+(se<<3)>>2]|0)>>>0)break;if($)ie=ie+4|0;else{b=38;break e}}if(D>>>0>O>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Pe=e[Ee>>2]|0,D>>>0<=Pe>>>0){b=47;break e}while(ue>>>0<(e[L+(Pe<<3)>>2]|0)>>>0);if(ie>>>0>=Ee>>>0){u=ie;continue t}if($=e[ie>>2]|0,e[ie>>2]=Pe,e[Ee>>2]=$,O=e[u>>2]|0,D>>>0<=O>>>0){b=38;break e}else m=Ee,J=ie+4|0}}(b|0)==53&&(b=0,e[u>>2]=j,e[X>>2]=C,P=X,N=x+1|0),J=u+4|0;t:do if(J>>>0<P>>>0){if(m=e[J>>2]|0,O=e[o>>2]|0,D=e[O>>2]|0,L=(e[O+4>>2]|0)-D>>3,L>>>0>m>>>0)ge=P,Be=J,_e=N,Ce=w,We=L,lt=D,et=O,Ve=m;else{b=57;break e}for(;;){for(O=e[o>>2]|0,m=O+4|0,D=e[Ce>>2]|0,L=Be,d=lt,$=We,He=et,I=Ve;;){if(se=d,$>>>0<=D>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(D<<3)>>2]|0)>>>0)break;if(se=L+4|0,st=e[se>>2]|0,d=e[O>>2]|0,$=(e[m>>2]|0)-d>>3,$>>>0<=st>>>0){b=57;break e}else L=se,He=O,I=st}if(O=e[Ce>>2]|0,lt=e[He>>2]|0,We=(e[He+4>>2]|0)-lt>>3,$=lt,d=$+(O<<3)|0,We>>>0>O>>>0)Je=ge;else{b=65;break e}do if(Je=Je+-4|0,it=e[Je>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[$+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(L>>>0>Je>>>0){ze=Ce,Ge=_e,ke=L;break t}if(e[L>>2]=it,e[Je>>2]=I,Be=L+4|0,Ve=e[Be>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else ge=Je,_e=_e+1|0,Ce=(Ce|0)==(L|0)?Je:Ce,et=He}}else ze=w,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,$=e[ut>>2]|0,O=(e[ut+4>>2]|0)-$>>3,O>>>0<=J>>>0){b=72;break e}if(m=$,O>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,tt=Ge+1|0):tt=Ge}else tt=Ge;if(!tt){if(at=$n(u,ke,o)|0,d=ke+4|0,$n(d,i,o)|0){b=83;break}if(at){h=d;continue}}if(d=ke,(d-g|0)>=(s-d|0)){b=82;break}y3(u,ke,o),h=ke+4|0}if((b|0)==82){b=0,y3(ke+4|0,i,o),l=u,i=ke;continue}else if((b|0)==83)if(b=0,at){b=84;break}else{l=u,i=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[u>>2]|0,l=e[o>>2]|0,at=e[l>>2]|0,g=(e[l+4>>2]|0)-at>>3,g>>>0<=b>>>0&&qe(),tt=at,g>>>0<=ke>>>0&&qe(),(e[tt+(b<<3)>>2]|0)>>>0>=(e[tt+(ke<<3)>>2]|0)>>>0)return;e[u>>2]=b,e[f>>2]=ke;return}case 11:{Tn(u,u+4|0,f,o)|0;return}case 12:{po(u,u+4|0,u+8|0,f,o)|0;return}case 13:{Le(u,u+4|0,u+8|0,u+12|0,f,o)|0;return}case 15:{Ho(u,i,o);return}case 20:{qe();break}case 22:{qe();break}case 26:{qe();break}case 32:{qe();break}case 38:{qe();break}case 40:{qe();break}case 46:{qe();break}case 47:{qe();break}case 51:{qe();break}case 57:{qe();break}case 59:{qe();break}case 65:{We>>>0>(e[ge+-4>>2]|0)>>>0,qe();break}case 66:{qe();break}case 72:{qe();break}case 74:{qe();break}case 84:return}}function v3(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0;l=i,i=s;e:for(;;){for(s=i,f=i+-4|0,h=l;;){u=h;t:for(;;){switch(g=u,d=s-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(w=u+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=Le(u,u+(d<<2)|0,w,w+(d<<2)|0,f,o)|0):x=Tn(u,w,f,o)|0,C=e[u>>2]|0,d=e[w>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,D=(e[S+4>>2]|0)-m>>3,D>>>0<=C>>>0){b=20;break e}if(I=m,D>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,L=e[I+(d<<3)>>2]|0,m>>>0<L>>>0){P=f,N=x;break}else X=f;for(;X=X+-4|0,(u|0)!=(X|0);){if(j=e[X>>2]|0,D>>>0<=j>>>0){b=51;break e}if((e[I+(j<<3)>>2]|0)>>>0<L>>>0){b=53;break t}}if(L=u+4|0,d=e[f>>2]|0,D>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=L;else{if((L|0)==(f|0)){b=84;break e}else V=L;for(;;){if(G=e[V>>2]|0,D>>>0<=G>>>0){b=32;break e}if(m>>>0<(e[I+(G<<3)>>2]|0)>>>0)break;if(L=V+4|0,(L|0)==(f|0)){b=84;break e}else V=L}e[V>>2]=d,e[f>>2]=G,Q=V+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[u>>2]|0,ee=e[o>>2]|0,m=e[ee>>2]|0,D=(e[ee+4>>2]|0)-m>>3,D>>>0<=I>>>0){b=38;break e}for(L=m,m=f,J=Q,O=I;;){for(I=L+(O<<3)|0,$=D>>>0>O>>>0,ie=J;;){if(se=e[ie>>2]|0,D>>>0<=se>>>0){b=40;break e}if(ue=e[I>>2]|0,ue>>>0<(e[L+(se<<3)>>2]|0)>>>0)break;if($)ie=ie+4|0;else{b=38;break e}}if(D>>>0>O>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Pe=e[Ee>>2]|0,D>>>0<=Pe>>>0){b=47;break e}while(ue>>>0<(e[L+(Pe<<3)>>2]|0)>>>0);if(ie>>>0>=Ee>>>0){u=ie;continue t}if($=e[ie>>2]|0,e[ie>>2]=Pe,e[Ee>>2]=$,O=e[u>>2]|0,D>>>0<=O>>>0){b=38;break e}else m=Ee,J=ie+4|0}}(b|0)==53&&(b=0,e[u>>2]=j,e[X>>2]=C,P=X,N=x+1|0),J=u+4|0;t:do if(J>>>0<P>>>0){if(m=e[J>>2]|0,O=e[o>>2]|0,D=e[O>>2]|0,L=(e[O+4>>2]|0)-D>>3,L>>>0>m>>>0)ge=P,Be=J,_e=N,Ce=w,We=L,lt=D,et=O,Ve=m;else{b=57;break e}for(;;){for(O=e[o>>2]|0,m=O+4|0,D=e[Ce>>2]|0,L=Be,d=lt,$=We,He=et,I=Ve;;){if(se=d,$>>>0<=D>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(D<<3)>>2]|0)>>>0)break;if(se=L+4|0,st=e[se>>2]|0,d=e[O>>2]|0,$=(e[m>>2]|0)-d>>3,$>>>0<=st>>>0){b=57;break e}else L=se,He=O,I=st}if(O=e[Ce>>2]|0,lt=e[He>>2]|0,We=(e[He+4>>2]|0)-lt>>3,$=lt,d=$+(O<<3)|0,We>>>0>O>>>0)Je=ge;else{b=65;break e}do if(Je=Je+-4|0,it=e[Je>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[$+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(L>>>0>Je>>>0){ze=Ce,Ge=_e,ke=L;break t}if(e[L>>2]=it,e[Je>>2]=I,Be=L+4|0,Ve=e[Be>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else ge=Je,_e=_e+1|0,Ce=(Ce|0)==(L|0)?Je:Ce,et=He}}else ze=w,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,$=e[ut>>2]|0,O=(e[ut+4>>2]|0)-$>>3,O>>>0<=J>>>0){b=72;break e}if(m=$,O>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,tt=Ge+1|0):tt=Ge}else tt=Ge;if(!tt){if(at=$n(u,ke,o)|0,d=ke+4|0,$n(d,i,o)|0){b=83;break}if(at){h=d;continue}}if(d=ke,(d-g|0)>=(s-d|0)){b=82;break}v3(u,ke,o),h=ke+4|0}if((b|0)==82){b=0,v3(ke+4|0,i,o),l=u,i=ke;continue}else if((b|0)==83)if(b=0,at){b=84;break}else{l=u,i=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[u>>2]|0,l=e[o>>2]|0,at=e[l>>2]|0,g=(e[l+4>>2]|0)-at>>3,g>>>0<=b>>>0&&qe(),tt=at,g>>>0<=ke>>>0&&qe(),(e[tt+(b<<3)>>2]|0)>>>0>=(e[tt+(ke<<3)>>2]|0)>>>0)return;e[u>>2]=b,e[f>>2]=ke;return}case 11:{Tn(u,u+4|0,f,o)|0;return}case 12:{po(u,u+4|0,u+8|0,f,o)|0;return}case 13:{Le(u,u+4|0,u+8|0,u+12|0,f,o)|0;return}case 15:{Ho(u,i,o);return}case 20:{qe();break}case 22:{qe();break}case 26:{qe();break}case 32:{qe();break}case 38:{qe();break}case 40:{qe();break}case 46:{qe();break}case 47:{qe();break}case 51:{qe();break}case 57:{qe();break}case 59:{qe();break}case 65:{We>>>0>(e[ge+-4>>2]|0)>>>0,qe();break}case 66:{qe();break}case 72:{qe();break}case 74:{qe();break}case 84:return}}function pP(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0;if(!l)return f=0,f|0;do switch(e[i+28>>2]|0){case 1:{if(h=i+24|0,u=Y[h>>0]|0,(u<<24>>24>o<<24>>24?o:u)<<24>>24>0)for(g=e[e[i>>2]>>2]|0,d=i+40|0,m=Wr(e[d>>2]|0,e[d+4>>2]|0,e[s>>2]|0,0)|0,d=i+48|0,b=Qt(m|0,Ze|0,e[d>>2]|0,e[d+4>>2]|0)|0,d=g+b|0,b=0;;)if(e[l+(b<<2)>>2]=Y[d>>0],b=b+1|0,g=Y[h>>0]|0,(b|0)>=((g<<24>>24>o<<24>>24?o:g)<<24>>24|0)){w=g;break}else d=d+1|0;else w=u;return d=w<<24>>24,w<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(d<<2)|0,0,(o<<24>>24)-d<<2|0)|0,f=1,f|0)}case 2:{if(d=i+24|0,b=Y[d>>0]|0,(b<<24>>24>o<<24>>24?o:b)<<24>>24>0)for(h=e[e[i>>2]>>2]|0,g=i+40|0,m=Wr(e[g>>2]|0,e[g+4>>2]|0,e[s>>2]|0,0)|0,g=i+48|0,x=Qt(m|0,Ze|0,e[g>>2]|0,e[g+4>>2]|0)|0,g=h+x|0,x=0;;)if(e[l+(x<<2)>>2]=br[g>>0],x=x+1|0,h=Y[d>>0]|0,(x|0)>=((h<<24>>24>o<<24>>24?o:h)<<24>>24|0)){C=h;break}else g=g+1|0;else C=b;return g=C<<24>>24,C<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(g<<2)|0,0,(o<<24>>24)-g<<2|0)|0,f=1,f|0)}case 3:{if(g=i+24|0,x=Y[g>>0]|0,(x<<24>>24>o<<24>>24?o:x)<<24>>24>0)for(d=e[e[i>>2]>>2]|0,u=i+40|0,h=Wr(e[u>>2]|0,e[u+4>>2]|0,e[s>>2]|0,0)|0,u=i+48|0,m=Qt(h|0,Ze|0,e[u>>2]|0,e[u+4>>2]|0)|0,u=d+m|0,m=0;;)if(e[l+(m<<2)>>2]=Or[u>>1],m=m+1|0,d=Y[g>>0]|0,(m|0)>=((d<<24>>24>o<<24>>24?o:d)<<24>>24|0)){S=d;break}else u=u+2|0;else S=x;return u=S<<24>>24,S<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(u<<2)|0,0,(o<<24>>24)-u<<2|0)|0,f=1,f|0)}case 4:{if(u=i+24|0,m=Y[u>>0]|0,(m<<24>>24>o<<24>>24?o:m)<<24>>24>0)for(g=e[e[i>>2]>>2]|0,b=i+40|0,d=Wr(e[b>>2]|0,e[b+4>>2]|0,e[s>>2]|0,0)|0,b=i+48|0,h=Qt(d|0,Ze|0,e[b>>2]|0,e[b+4>>2]|0)|0,b=g+h|0,h=0;;)if(e[l+(h<<2)>>2]=fa[b>>1],h=h+1|0,g=Y[u>>0]|0,(h|0)>=((g<<24>>24>o<<24>>24?o:g)<<24>>24|0)){D=g;break}else b=b+2|0;else D=m;return b=D<<24>>24,D<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(b<<2)|0,0,(o<<24>>24)-b<<2|0)|0,f=1,f|0)}case 5:{if(b=i+24|0,h=Y[b>>0]|0,(h<<24>>24>o<<24>>24?o:h)<<24>>24>0)for(u=e[e[i>>2]>>2]|0,x=i+40|0,g=Wr(e[x>>2]|0,e[x+4>>2]|0,e[s>>2]|0,0)|0,x=i+48|0,d=Qt(g|0,Ze|0,e[x>>2]|0,e[x+4>>2]|0)|0,x=u+d|0,d=0;;)if(e[l+(d<<2)>>2]=e[x>>2],d=d+1|0,u=Y[b>>0]|0,(d|0)>=((u<<24>>24>o<<24>>24?o:u)<<24>>24|0)){I=u;break}else x=x+4|0;else I=h;return x=I<<24>>24,I<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(x<<2)|0,0,(o<<24>>24)-x<<2|0)|0,f=1,f|0)}case 6:{if(x=i+24|0,d=Y[x>>0]|0,(d<<24>>24>o<<24>>24?o:d)<<24>>24>0)for(b=e[e[i>>2]>>2]|0,m=i+40|0,u=Wr(e[m>>2]|0,e[m+4>>2]|0,e[s>>2]|0,0)|0,m=i+48|0,g=Qt(u|0,Ze|0,e[m>>2]|0,e[m+4>>2]|0)|0,m=b+g|0,g=0;;)if(e[l+(g<<2)>>2]=e[m>>2],g=g+1|0,b=Y[x>>0]|0,(g|0)>=((b<<24>>24>o<<24>>24?o:b)<<24>>24|0)){L=b;break}else m=m+4|0;else L=d;return m=L<<24>>24,L<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(m<<2)|0,0,(o<<24>>24)-m<<2|0)|0,f=1,f|0)}case 7:{if(m=i+24|0,g=Y[m>>0]|0,(g<<24>>24>o<<24>>24?o:g)<<24>>24>0)for(x=e[e[i>>2]>>2]|0,h=i+40|0,b=Wr(e[h>>2]|0,e[h+4>>2]|0,e[s>>2]|0,0)|0,h=i+48|0,u=Qt(b|0,Ze|0,e[h>>2]|0,e[h+4>>2]|0)|0,h=x+u|0,u=0;;)if(e[l+(u<<2)>>2]=e[h>>2],u=u+1|0,x=Y[m>>0]|0,(u|0)>=((x<<24>>24>o<<24>>24?o:x)<<24>>24|0)){P=x;break}else h=h+8|0;else P=g;return h=P<<24>>24,P<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(h<<2)|0,0,(o<<24>>24)-h<<2|0)|0,f=1,f|0)}case 8:{if(h=i+24|0,u=Y[h>>0]|0,(u<<24>>24>o<<24>>24?o:u)<<24>>24>0)for(m=e[e[i>>2]>>2]|0,d=i+40|0,x=Wr(e[d>>2]|0,e[d+4>>2]|0,e[s>>2]|0,0)|0,d=i+48|0,b=Qt(x|0,Ze|0,e[d>>2]|0,e[d+4>>2]|0)|0,d=m+b|0,b=0;;)if(e[l+(b<<2)>>2]=e[d>>2],b=b+1|0,m=Y[h>>0]|0,(b|0)>=((m<<24>>24>o<<24>>24?o:m)<<24>>24|0)){N=m;break}else d=d+8|0;else N=u;return d=N<<24>>24,N<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(d<<2)|0,0,(o<<24>>24)-d<<2|0)|0,f=1,f|0)}case 9:{if(d=i+24|0,b=Y[d>>0]|0,(b<<24>>24>o<<24>>24?o:b)<<24>>24>0)for(h=e[e[i>>2]>>2]|0,g=i+40|0,m=Wr(e[g>>2]|0,e[g+4>>2]|0,e[s>>2]|0,0)|0,g=i+48|0,x=Qt(m|0,Ze|0,e[g>>2]|0,e[g+4>>2]|0)|0,g=h+x|0,x=0;;)if(h=~~Zt(bi[g>>2])>>>0,e[l+(x<<2)>>2]=h,x=x+1|0,h=Y[d>>0]|0,(x|0)>=((h<<24>>24>o<<24>>24?o:h)<<24>>24|0)){X=h;break}else g=g+4|0;else X=b;return g=X<<24>>24,X<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(g<<2)|0,0,(o<<24>>24)-g<<2|0)|0,f=1,f|0)}case 10:{if(g=i+24|0,x=Y[g>>0]|0,(x<<24>>24>o<<24>>24?o:x)<<24>>24>0)for(d=e[e[i>>2]>>2]|0,u=i+40|0,h=Wr(e[u>>2]|0,e[u+4>>2]|0,e[s>>2]|0,0)|0,u=i+48|0,m=Qt(h|0,Ze|0,e[u>>2]|0,e[u+4>>2]|0)|0,u=d+m|0,m=0;;)if(e[l+(m<<2)>>2]=~~+N0[u>>3]>>>0,m=m+1|0,d=Y[g>>0]|0,(m|0)>=((d<<24>>24>o<<24>>24?o:d)<<24>>24|0)){j=d;break}else u=u+8|0;else j=x;return u=j<<24>>24,j<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(u<<2)|0,0,(o<<24>>24)-u<<2|0)|0,f=1,f|0)}case 11:{if(u=i+24|0,m=Y[u>>0]|0,(m<<24>>24>o<<24>>24?o:m)<<24>>24>0)for(g=e[e[i>>2]>>2]|0,b=i+40|0,d=Wr(e[b>>2]|0,e[b+4>>2]|0,e[s>>2]|0,0)|0,b=i+48|0,h=Qt(d|0,Ze|0,e[b>>2]|0,e[b+4>>2]|0)|0,b=g+h|0,h=0;;)if(e[l+(h<<2)>>2]=br[b>>0],h=h+1|0,g=Y[u>>0]|0,(h|0)>=((g<<24>>24>o<<24>>24?o:g)<<24>>24|0)){Q=g;break}else b=b+1|0;else Q=m;return b=Q<<24>>24,Q<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(b<<2)|0,0,(o<<24>>24)-b<<2|0)|0,f=1,f|0)}default:return f=0,f|0}while(0);return 0}function w3(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0;if(!l)return f=0,f|0;do switch(e[i+28>>2]|0){case 1:{if(h=i+24|0,u=Y[h>>0]|0,(u<<24>>24>o<<24>>24?o:u)<<24>>24>0)for(g=e[e[i>>2]>>2]|0,d=i+40|0,m=Wr(e[d>>2]|0,e[d+4>>2]|0,e[s>>2]|0,0)|0,d=i+48|0,b=Qt(m|0,Ze|0,e[d>>2]|0,e[d+4>>2]|0)|0,d=g+b|0,b=0;;)if(e[l+(b<<2)>>2]=Y[d>>0],b=b+1|0,g=Y[h>>0]|0,(b|0)>=((g<<24>>24>o<<24>>24?o:g)<<24>>24|0)){w=g;break}else d=d+1|0;else w=u;return d=w<<24>>24,w<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(d<<2)|0,0,(o<<24>>24)-d<<2|0)|0,f=1,f|0)}case 2:{if(d=i+24|0,b=Y[d>>0]|0,(b<<24>>24>o<<24>>24?o:b)<<24>>24>0)for(h=e[e[i>>2]>>2]|0,g=i+40|0,m=Wr(e[g>>2]|0,e[g+4>>2]|0,e[s>>2]|0,0)|0,g=i+48|0,x=Qt(m|0,Ze|0,e[g>>2]|0,e[g+4>>2]|0)|0,g=h+x|0,x=0;;)if(e[l+(x<<2)>>2]=br[g>>0],x=x+1|0,h=Y[d>>0]|0,(x|0)>=((h<<24>>24>o<<24>>24?o:h)<<24>>24|0)){C=h;break}else g=g+1|0;else C=b;return g=C<<24>>24,C<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(g<<2)|0,0,(o<<24>>24)-g<<2|0)|0,f=1,f|0)}case 3:{if(g=i+24|0,x=Y[g>>0]|0,(x<<24>>24>o<<24>>24?o:x)<<24>>24>0)for(d=e[e[i>>2]>>2]|0,u=i+40|0,h=Wr(e[u>>2]|0,e[u+4>>2]|0,e[s>>2]|0,0)|0,u=i+48|0,m=Qt(h|0,Ze|0,e[u>>2]|0,e[u+4>>2]|0)|0,u=d+m|0,m=0;;)if(e[l+(m<<2)>>2]=Or[u>>1],m=m+1|0,d=Y[g>>0]|0,(m|0)>=((d<<24>>24>o<<24>>24?o:d)<<24>>24|0)){S=d;break}else u=u+2|0;else S=x;return u=S<<24>>24,S<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(u<<2)|0,0,(o<<24>>24)-u<<2|0)|0,f=1,f|0)}case 4:{if(u=i+24|0,m=Y[u>>0]|0,(m<<24>>24>o<<24>>24?o:m)<<24>>24>0)for(g=e[e[i>>2]>>2]|0,b=i+40|0,d=Wr(e[b>>2]|0,e[b+4>>2]|0,e[s>>2]|0,0)|0,b=i+48|0,h=Qt(d|0,Ze|0,e[b>>2]|0,e[b+4>>2]|0)|0,b=g+h|0,h=0;;)if(e[l+(h<<2)>>2]=fa[b>>1],h=h+1|0,g=Y[u>>0]|0,(h|0)>=((g<<24>>24>o<<24>>24?o:g)<<24>>24|0)){D=g;break}else b=b+2|0;else D=m;return b=D<<24>>24,D<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(b<<2)|0,0,(o<<24>>24)-b<<2|0)|0,f=1,f|0)}case 5:{if(b=i+24|0,h=Y[b>>0]|0,(h<<24>>24>o<<24>>24?o:h)<<24>>24>0)for(u=e[e[i>>2]>>2]|0,x=i+40|0,g=Wr(e[x>>2]|0,e[x+4>>2]|0,e[s>>2]|0,0)|0,x=i+48|0,d=Qt(g|0,Ze|0,e[x>>2]|0,e[x+4>>2]|0)|0,x=u+d|0,d=0;;)if(e[l+(d<<2)>>2]=e[x>>2],d=d+1|0,u=Y[b>>0]|0,(d|0)>=((u<<24>>24>o<<24>>24?o:u)<<24>>24|0)){I=u;break}else x=x+4|0;else I=h;return x=I<<24>>24,I<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(x<<2)|0,0,(o<<24>>24)-x<<2|0)|0,f=1,f|0)}case 6:{if(x=i+24|0,d=Y[x>>0]|0,(d<<24>>24>o<<24>>24?o:d)<<24>>24>0)for(b=e[e[i>>2]>>2]|0,m=i+40|0,u=Wr(e[m>>2]|0,e[m+4>>2]|0,e[s>>2]|0,0)|0,m=i+48|0,g=Qt(u|0,Ze|0,e[m>>2]|0,e[m+4>>2]|0)|0,m=b+g|0,g=0;;)if(e[l+(g<<2)>>2]=e[m>>2],g=g+1|0,b=Y[x>>0]|0,(g|0)>=((b<<24>>24>o<<24>>24?o:b)<<24>>24|0)){L=b;break}else m=m+4|0;else L=d;return m=L<<24>>24,L<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(m<<2)|0,0,(o<<24>>24)-m<<2|0)|0,f=1,f|0)}case 7:{if(m=i+24|0,g=Y[m>>0]|0,(g<<24>>24>o<<24>>24?o:g)<<24>>24>0)for(x=e[e[i>>2]>>2]|0,h=i+40|0,b=Wr(e[h>>2]|0,e[h+4>>2]|0,e[s>>2]|0,0)|0,h=i+48|0,u=Qt(b|0,Ze|0,e[h>>2]|0,e[h+4>>2]|0)|0,h=x+u|0,u=0;;)if(e[l+(u<<2)>>2]=e[h>>2],u=u+1|0,x=Y[m>>0]|0,(u|0)>=((x<<24>>24>o<<24>>24?o:x)<<24>>24|0)){P=x;break}else h=h+8|0;else P=g;return h=P<<24>>24,P<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(h<<2)|0,0,(o<<24>>24)-h<<2|0)|0,f=1,f|0)}case 8:{if(h=i+24|0,u=Y[h>>0]|0,(u<<24>>24>o<<24>>24?o:u)<<24>>24>0)for(m=e[e[i>>2]>>2]|0,d=i+40|0,x=Wr(e[d>>2]|0,e[d+4>>2]|0,e[s>>2]|0,0)|0,d=i+48|0,b=Qt(x|0,Ze|0,e[d>>2]|0,e[d+4>>2]|0)|0,d=m+b|0,b=0;;)if(e[l+(b<<2)>>2]=e[d>>2],b=b+1|0,m=Y[h>>0]|0,(b|0)>=((m<<24>>24>o<<24>>24?o:m)<<24>>24|0)){N=m;break}else d=d+8|0;else N=u;return d=N<<24>>24,N<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(d<<2)|0,0,(o<<24>>24)-d<<2|0)|0,f=1,f|0)}case 9:{if(d=i+24|0,b=Y[d>>0]|0,(b<<24>>24>o<<24>>24?o:b)<<24>>24>0)for(h=e[e[i>>2]>>2]|0,g=i+40|0,m=Wr(e[g>>2]|0,e[g+4>>2]|0,e[s>>2]|0,0)|0,g=i+48|0,x=Qt(m|0,Ze|0,e[g>>2]|0,e[g+4>>2]|0)|0,g=h+x|0,x=0;;)if(h=~~Zt(bi[g>>2]),e[l+(x<<2)>>2]=h,x=x+1|0,h=Y[d>>0]|0,(x|0)>=((h<<24>>24>o<<24>>24?o:h)<<24>>24|0)){X=h;break}else g=g+4|0;else X=b;return g=X<<24>>24,X<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(g<<2)|0,0,(o<<24>>24)-g<<2|0)|0,f=1,f|0)}case 10:{if(g=i+24|0,x=Y[g>>0]|0,(x<<24>>24>o<<24>>24?o:x)<<24>>24>0)for(d=e[e[i>>2]>>2]|0,u=i+40|0,h=Wr(e[u>>2]|0,e[u+4>>2]|0,e[s>>2]|0,0)|0,u=i+48|0,m=Qt(h|0,Ze|0,e[u>>2]|0,e[u+4>>2]|0)|0,u=d+m|0,m=0;;)if(e[l+(m<<2)>>2]=~~+N0[u>>3],m=m+1|0,d=Y[g>>0]|0,(m|0)>=((d<<24>>24>o<<24>>24?o:d)<<24>>24|0)){j=d;break}else u=u+8|0;else j=x;return u=j<<24>>24,j<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(u<<2)|0,0,(o<<24>>24)-u<<2|0)|0,f=1,f|0)}case 11:{if(u=i+24|0,m=Y[u>>0]|0,(m<<24>>24>o<<24>>24?o:m)<<24>>24>0)for(g=e[e[i>>2]>>2]|0,b=i+40|0,d=Wr(e[b>>2]|0,e[b+4>>2]|0,e[s>>2]|0,0)|0,b=i+48|0,h=Qt(d|0,Ze|0,e[b>>2]|0,e[b+4>>2]|0)|0,b=g+h|0,h=0;;)if(e[l+(h<<2)>>2]=br[b>>0],h=h+1|0,g=Y[u>>0]|0,(h|0)>=((g<<24>>24>o<<24>>24?o:g)<<24>>24|0)){Q=g;break}else b=b+1|0;else Q=m;return b=Q<<24>>24,Q<<24>>24>=o<<24>>24?(f=1,f|0):(Tr(l+(b<<2)|0,0,(o<<24>>24)-b<<2|0)|0,f=1,f|0)}default:return f=0,f|0}while(0);return 0}function mP(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=vi,ue=0,Ee=0,Pe=0,ge=0,Be=vi;if(l=q,q=q+48|0,f=l+36|0,h=l+24|0,u=l+12|0,g=l,!(j6(i,s,o)|0)||(m=e[(e[(e[s+4>>2]|0)+8>>2]|0)+(o<<2)>>2]|0,(e[m+28>>2]|0)!=9))return d=0,q=l,d|0;b=s+48|0,s=e[b>>2]|0,w=It(32)|0,e[f>>2]=w,e[f+8>>2]=-2147483616,e[f+4>>2]=17,x=w,C=12932,S=x+17|0;do Y[x>>0]=Y[C>>0]|0,x=x+1|0,C=C+1|0;while((x|0)<(S|0));if(Y[w+17>>0]=0,w=s+16|0,D=e[w>>2]|0,D){I=w,L=D;e:for(;;){for(D=L;!((e[D+16>>2]|0)>=(o|0));)if(P=e[D+4>>2]|0,P)D=P;else{N=I;break e}if(L=e[D>>2]|0,L)I=D;else{N=D;break}}(N|0)!=(w|0)&&(e[N+16>>2]|0)<=(o|0)&&(w=N+20|0,(go(w,f)|0)!=0)?X=bo(w,f,-1)|0:j=12}else j=12;if((j|0)==12&&(X=bo(s,f,-1)|0),(Y[f+11>>0]|0)<0&&Ae(e[f>>2]|0),(X|0)<1)return d=0,q=l,d|0;s=e[b>>2]|0,w=It(32)|0,e[f>>2]=w,e[f+8>>2]=-2147483616,e[f+4>>2]=19,x=w,C=13005,S=x+19|0;do Y[x>>0]=Y[C>>0]|0,x=x+1|0,C=C+1|0;while((x|0)<(S|0));if(Y[w+19>>0]=0,w=s+16|0,N=e[w>>2]|0,N){I=w,L=N;e:for(;;){for(N=L;!((e[N+16>>2]|0)>=(o|0));)if(P=e[N+4>>2]|0,P)N=P;else{Q=I;break e}if(L=e[N>>2]|0,L)I=N;else{Q=N;break}}(Q|0)!=(w|0)&&(e[Q+16>>2]|0)<=(o|0)?V=Q+20|0:j=24}else j=24;if((j|0)==24&&(V=s),!(go(V,f)|0))G=0;else{V=e[b>>2]|0,e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=0,s=It(32)|0,e[h>>2]=s,e[h+8>>2]=-2147483616,e[h+4>>2]=18,x=s,C=13025,S=x+18|0;do Y[x>>0]=Y[C>>0]|0,x=x+1|0,C=C+1|0;while((x|0)<(S|0));if(Y[s+18>>0]=0,s=V+16|0,Q=e[s>>2]|0,Q){w=s,I=Q;e:for(;;){for(Q=I;!((e[Q+16>>2]|0)>=(o|0));)if(L=e[Q+4>>2]|0,L)Q=L;else{ee=w;break e}if(I=e[Q>>2]|0,I)w=Q;else{ee=Q;break}}(ee|0)!=(s|0)&&(e[ee+16>>2]|0)<=(o|0)?J=ee+20|0:j=34}else j=34;(j|0)==34&&(J=V),V=(go(J,h)|0)!=0,(Y[h+11>>0]|0)<0&&Ae(e[h>>2]|0),G=V}if((Y[f+11>>0]|0)<0&&Ae(e[f>>2]|0),!G)return Dc(i+40|0,m,X)|0,d=1,q=l,d|0;G=m+24|0,m=Y[G>>0]|0,V=m<<24>>24,e[u>>2]=0,J=u+4|0,e[J>>2]=0,e[u+8>>2]=0;do if(m<<24>>24)if(m<<24>>24<0)qe();else{ee=V<<2,s=It(ee)|0,e[u>>2]=s,w=s+(V<<2)|0,e[u+8>>2]=w,Tr(s|0,0,ee|0)|0,e[J>>2]=w,O=s;break}else O=0;while(0);V=e[b>>2]|0,e[g>>2]=0,e[g+4>>2]=0,e[g+8>>2]=0,m=It(32)|0,e[g>>2]=m,e[g+8>>2]=-2147483616,e[g+4>>2]=19,x=m,C=13005,S=x+19|0;do Y[x>>0]=Y[C>>0]|0,x=x+1|0,C=C+1|0;while((x|0)<(S|0));if(Y[m+19>>0]=0,m=Y[G>>0]|0,s=m<<24>>24,w=V+16|0,ee=e[w>>2]|0,ee){I=w,N=ee;e:for(;;){for(ee=N;!((e[ee+16>>2]|0)>=(o|0));)if(L=e[ee+4>>2]|0,L)ee=L;else{$=I;break e}if(N=e[ee>>2]|0,N)I=ee;else{$=ee;break}}if(($|0)!=(w|0)&&(e[$+16>>2]|0)<=(o|0)&&(w=$+20|0,(go(w,g)|0)!=0)){if(I=Y0(w,g)|0,(I|0)!=($+24|0)){if(T0(f,I+28|0),I=f+11|0,$=Y[I>>0]|0,w=$<<24>>24<0,!((w?e[f+4>>2]|0:$&255)|0))ie=$;else{if(m<<24>>24>0){N=w?e[f>>2]|0:f,w=0;do{if(se=Zt(s4(N,h)),Q=N,N=e[h>>2]|0,(Q|0)==(N|0))break;bi[O+(w<<2)>>2]=se,w=w+1|0}while((w|0)<(s|0));ue=Y[I>>0]|0}else ue=$;ie=ue}ie<<24>>24<0&&Ae(e[f>>2]|0)}}else j=64}else j=64;if((j|0)==64&&(ie=Y0(V,g)|0,(ie|0)!=(V+4|0))){if(T0(f,ie+28|0),ie=f+11|0,V=Y[ie>>0]|0,ue=V<<24>>24<0,!((ue?e[f+4>>2]|0:V&255)|0))Ee=V;else{if(m<<24>>24>0){m=ue?e[f>>2]|0:f,ue=0;do{if(se=Zt(s4(m,h)),$=m,m=e[h>>2]|0,($|0)==(m|0))break;bi[O+(ue<<2)>>2]=se,ue=ue+1|0}while((ue|0)<(s|0));Pe=Y[ie>>0]|0}else Pe=V;Ee=Pe}Ee<<24>>24<0&&Ae(e[f>>2]|0)}(Y[g+11>>0]|0)<0&&Ae(e[g>>2]|0),g=e[b>>2]|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,b=It(32)|0,e[f>>2]=b,e[f+8>>2]=-2147483616,e[f+4>>2]=18,x=b,C=13025,S=x+18|0;do Y[x>>0]=Y[C>>0]|0,x=x+1|0,C=C+1|0;while((x|0)<(S|0));if(Y[b+18>>0]=0,b=g+16|0,C=e[b>>2]|0,C){x=b,S=C;e:for(;;){for(C=S;!((e[C+16>>2]|0)>=(o|0));)if(Ee=e[C+4>>2]|0,Ee)C=Ee;else{ge=x;break e}if(S=e[C>>2]|0,S)x=C;else{ge=C;break}}(ge|0)!=(b|0)&&(e[ge+16>>2]|0)<=(o|0)&&(o=ge+20|0,(go(o,f)|0)!=0)?Be=Zt(Vy(o,f,Zt(1))):j=86}else j=86;return(j|0)==86&&(Be=Zt(Vy(g,f,Zt(1)))),(Y[f+11>>0]|0)<0&&Ae(e[f>>2]|0),Nk(i+40|0,X,e[u>>2]|0,Y[G>>0]|0,Be),G=e[u>>2]|0,G|0&&(u=e[J>>2]|0,(u|0)!=(G|0)&&(e[J>>2]=u+(~((u+-4-G|0)>>>2)<<2)),Ae(G)),d=1,q=l,d|0}function gP(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0,Wt=0,cr=0,mr=0,Gr=0,dr=0,Er=0,nr=0,Mr=0,Nr=0,ar=0,gr=0,or=0;if(f=q,q=q+64|0,l=f+48|0,u=f+36|0,g=f+24|0,d=f+16|0,m=f+8|0,b=f,w=f+32|0,x=i+60|0,e[i+68>>2]=h,h=i+108|0,Sn(h),C=i+56|0,S=e[C>>2]|0,D=(e[S+4>>2]|0)-(e[S>>2]|0)|0,I=D>>2,e[u>>2]=0,e[u+4>>2]=0,e[u+8>>2]=0,L=g,e[L>>2]=0,e[L+4>>2]=0,L=d,e[L>>2]=0,e[L+4>>2]=0,L=m,e[L>>2]=0,e[L+4>>2]=0,L=b,e[L>>2]=0,e[L+4>>2]=0,(D|0)<=0)return q=f,1;for(D=u+4|0,L=u+8|0,P=i+104|0,N=g+4|0,X=i+100|0,j=d+4|0,Q=i+8|0,V=i+16|0,G=i+32|0,ee=i+12|0,J=i+28|0,O=i+20|0,$=i+24|0,ie=i+96|0,i=m+4|0,se=b+4|0,ue=e[S>>2]|0,(e[S+4>>2]|0)==(ue|0)?qe():(Ee=0,Pe=ue);;){e[w>>2]=e[Pe+(Ee<<2)>>2],e[l>>2]=e[w>>2],Ny(x,l,u),ue=e[u>>2]|0,S=(ue|0)>-1?ue:0-ue|0,ge=e[D>>2]|0,Be=(ge|0)>-1?ge:0-ge|0,_e=Qt(Be|0,((Be|0)<0)<<31>>31|0,S|0,((S|0)<0)<<31>>31|0)|0,S=e[L>>2]|0,Be=(S|0)>-1,Ce=Be?S:0-S|0,S=Qt(_e|0,Ze|0,Ce|0,((Ce|0)<0)<<31>>31|0)|0,Ce=Ze,(S|0)==0&(Ce|0)==0?(_e=e[P>>2]|0,We=_e,lt=u,et=ge,Ve=_e):(_e=e[P>>2]|0,He=((_e|0)<0)<<31>>31,st=Wr(_e|0,He|0,ue|0,((ue|0)<0)<<31>>31|0)|0,ue=m0(st|0,Ze|0,S|0,Ce|0)|0,e[u>>2]=ue,st=Wr(_e|0,He|0,ge|0,((ge|0)<0)<<31>>31|0)|0,ge=m0(st|0,Ze|0,S|0,Ce|0)|0,e[D>>2]=ge,Ce=_e-((ue|0)>-1?ue:0-ue|0)-((ge|0)>-1?ge:0-ge|0)|0,We=Be?Ce:0-Ce|0,lt=L,et=ge,Ve=_e),e[lt>>2]=We,_e=e[u>>2]|0;do if((_e|0)<=-1)if((et|0)<0?(ge=e[L>>2]|0,Je=(ge|0)>-1?ge:0-ge|0,it=ge):(ge=e[L>>2]|0,Je=(e[X>>2]|0)-((ge|0)>-1?ge:0-ge|0)|0,it=ge),(it|0)<0){ze=(et|0)>-1?et:0-et|0,Ge=Je,ke=it;break}else{ze=(e[X>>2]|0)-((et|0)>-1?et:0-et|0)|0,Ge=Je,ke=it;break}else ge=e[L>>2]|0,ze=ge+Ve|0,Ge=Ve+et|0,ke=ge;while(0);ge=(Ge|0)==0,Ce=(ze|0)==0,Be=e[X>>2]|0;do if(ze|Ge)if(ue=(Be|0)==(ze|0),ge&ue)ut=ze,tt=ze;else if(S=(Be|0)==(Ge|0),Ce&S)ut=Ge,tt=Ge;else{if(ge&(Ve|0)<(ze|0)){ut=0,tt=(Ve<<1)-ze|0;break}if(S&(Ve|0)>(ze|0)){ut=Ge,tt=(Ve<<1)-ze|0;break}if(ue&(Ve|0)>(Ge|0)){ut=(Ve<<1)-Ge|0,tt=ze;break}Ce?(ut=(Ve|0)<(Ge|0)?(Ve<<1)-Ge|0:Ge,tt=0):(ut=Ge,tt=ze)}else ut=Be,tt=Be;while(0);e[g>>2]=ut,e[N>>2]=tt,Ce=0-et|0,ge=0-ke|0,e[u>>2]=0-_e,e[D>>2]=Ce,e[L>>2]=ge,(_e|0)<1?(at=Ve-ke|0,Mt=Ve-et|0):(ue=(ke|0)<1?ge:ke,ge=(et|0)<1?Ce:et,at=(ke|0)>0?ge:Be-ge|0,Mt=(et|0)>0?ue:Be-ue|0),ue=(Mt|0)==0,ge=(at|0)==0;do if((at|Mt|0)!=0&&(Ce=(Be|0)==(at|0),!(ue&Ce))&&(S=(Be|0)==(Mt|0),!(ge&S))){if(ue&(Ve|0)<(at|0)){Pt=0,yt=(Ve<<1)-at|0;break}if(S&(Ve|0)>(at|0)){Pt=Be,yt=(Ve<<1)-at|0;break}if(Ce&(Ve|0)>(Mt|0)){Pt=(Ve<<1)-Mt|0,yt=Be;break}ge?(Pt=(Ve|0)<(Mt|0)?(Ve<<1)-Mt|0:Mt,yt=0):(Pt=Mt,yt=at)}else Pt=Be,yt=Be;while(0);if(e[d>>2]=Pt,e[j>>2]=yt,Be=Ee<<1,ge=s+(Be<<2)|0,ue=e[Q>>2]|0,(ue|0)>0){for(_e=0,Ce=g,S=ue;;){if((S|0)>0){ue=0;do st=e[Ce+(ue<<2)>>2]|0,He=e[V>>2]|0,(st|0)>(He|0)?(Vt=e[G>>2]|0,e[Vt+(ue<<2)>>2]=He,Lt=Vt):(Vt=e[ee>>2]|0,He=e[G>>2]|0,e[He+(ue<<2)>>2]=(st|0)<(Vt|0)?Vt:st,Lt=He),ue=ue+1|0,He=e[Q>>2]|0;while((ue|0)<(He|0));At=Lt,_t=He}else At=e[G>>2]|0,_t=S;if(ue=(e[ge+(_e<<2)>>2]|0)-(e[At+(_e<<2)>>2]|0)|0,He=m+(_e<<2)|0,e[He>>2]=ue,St=e[J>>2]|0,(ue|0)>=(St|0)?(ue|0)>(e[$>>2]|0)&&(fr=ue-(e[O>>2]|0)|0,Wt=52):(fr=(e[O>>2]|0)+ue|0,Wt=52),(Wt|0)==52&&(Wt=0,e[He>>2]=fr),_e=_e+1|0,(_e|0)>=(_t|0))break;Ce=At,S=_t}if((_t|0)>0)for(S=0,Ce=d,_e=_t,He=St;;){if((_e|0)>0){ue=0;do st=e[Ce+(ue<<2)>>2]|0,Vt=e[V>>2]|0,(st|0)>(Vt|0)?e[At+(ue<<2)>>2]=Vt:(Vt=e[ee>>2]|0,e[At+(ue<<2)>>2]=(st|0)<(Vt|0)?Vt:st),ue=ue+1|0,cr=e[Q>>2]|0;while((ue|0)<(cr|0));mr=e[J>>2]|0,Gr=cr}else mr=He,Gr=_e;if(ue=(e[ge+(S<<2)>>2]|0)-(e[At+(S<<2)>>2]|0)|0,st=b+(S<<2)|0,e[st>>2]=ue,(ue|0)>=(mr|0)?(ue|0)>(e[$>>2]|0)&&(dr=ue-(e[O>>2]|0)|0,Wt=65):(dr=(e[O>>2]|0)+ue|0,Wt=65),(Wt|0)==65&&(Wt=0,e[st>>2]=dr),S=S+1|0,(S|0)>=(Gr|0))break;Ce=At,_e=Gr,He=mr}}if(He=e[m>>2]|0,_e=e[P>>2]|0,(_e|0)>=(He|0)?(He|0)<(0-_e|0)?Er=(e[ie>>2]|0)+He|0:Er=He:Er=He-(e[ie>>2]|0)|0,e[m>>2]=Er,He=e[i>>2]|0,(_e|0)>=(He|0)?(He|0)<(0-_e|0)?nr=(e[ie>>2]|0)+He|0:nr=He:nr=He-(e[ie>>2]|0)|0,e[i>>2]=nr,He=e[b>>2]|0,(_e|0)>=(He|0)?(He|0)<(0-_e|0)?Mr=(e[ie>>2]|0)+He|0:Mr=He:Mr=He-(e[ie>>2]|0)|0,e[b>>2]=Mr,He=e[se>>2]|0,(_e|0)>=(He|0)?(He|0)<(0-_e|0)?Nr=(e[ie>>2]|0)+He|0:Nr=He:Nr=He-(e[ie>>2]|0)|0,e[se>>2]=Nr,(((nr|0)>-1?nr:0-nr|0)+((Er|0)>-1?Er:0-Er|0)|0)<(((Mr|0)>-1?Mr:0-Mr|0)+((Nr|0)>-1?Nr:0-Nr|0)|0)?(Wn(h,0),ar=m):(Wn(h,1),ar=b),He=e[ar>>2]|0,(He|0)<0?gr=(e[ie>>2]|0)+He|0:gr=He,He=o+(Be<<2)|0,e[He>>2]=gr,_e=e[ar+4>>2]|0,(_e|0)<0?or=(e[ie>>2]|0)+_e|0:or=_e,e[He+4>>2]=or,Ee=Ee+1|0,(Ee|0)>=(I|0)){Wt=3;break}if(He=e[C>>2]|0,Pe=e[He>>2]|0,(e[He+4>>2]|0)-Pe>>2>>>0<=Ee>>>0){Wt=4;break}}return(Wt|0)==3?(q=f,1):((Wt|0)==4&&qe(),0)}function bP(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0,Wt=0,cr=0,mr=0,Gr=0,dr=0,Er=0,nr=0,Mr=0,Nr=0,ar=0,gr=0,or=0;if(f=q,q=q+64|0,l=f+48|0,u=f+36|0,g=f+24|0,d=f+16|0,m=f+8|0,b=f,w=f+32|0,x=i+60|0,e[i+68>>2]=h,h=i+108|0,Sn(h),C=i+56|0,S=e[C>>2]|0,D=(e[S+4>>2]|0)-(e[S>>2]|0)|0,I=D>>2,e[u>>2]=0,e[u+4>>2]=0,e[u+8>>2]=0,L=g,e[L>>2]=0,e[L+4>>2]=0,L=d,e[L>>2]=0,e[L+4>>2]=0,L=m,e[L>>2]=0,e[L+4>>2]=0,L=b,e[L>>2]=0,e[L+4>>2]=0,(D|0)<=0)return q=f,1;for(D=u+4|0,L=u+8|0,P=i+104|0,N=g+4|0,X=i+100|0,j=d+4|0,Q=i+8|0,V=i+16|0,G=i+32|0,ee=i+12|0,J=i+28|0,O=i+20|0,$=i+24|0,ie=i+96|0,i=m+4|0,se=b+4|0,ue=e[S>>2]|0,(e[S+4>>2]|0)==(ue|0)?qe():(Ee=0,Pe=ue);;){e[w>>2]=e[Pe+(Ee<<2)>>2],e[l>>2]=e[w>>2],Py(x,l,u),ue=e[u>>2]|0,S=(ue|0)>-1?ue:0-ue|0,ge=e[D>>2]|0,Be=(ge|0)>-1?ge:0-ge|0,_e=Qt(Be|0,((Be|0)<0)<<31>>31|0,S|0,((S|0)<0)<<31>>31|0)|0,S=e[L>>2]|0,Be=(S|0)>-1,Ce=Be?S:0-S|0,S=Qt(_e|0,Ze|0,Ce|0,((Ce|0)<0)<<31>>31|0)|0,Ce=Ze,(S|0)==0&(Ce|0)==0?(_e=e[P>>2]|0,We=_e,lt=u,et=ge,Ve=_e):(_e=e[P>>2]|0,He=((_e|0)<0)<<31>>31,st=Wr(_e|0,He|0,ue|0,((ue|0)<0)<<31>>31|0)|0,ue=m0(st|0,Ze|0,S|0,Ce|0)|0,e[u>>2]=ue,st=Wr(_e|0,He|0,ge|0,((ge|0)<0)<<31>>31|0)|0,ge=m0(st|0,Ze|0,S|0,Ce|0)|0,e[D>>2]=ge,Ce=_e-((ue|0)>-1?ue:0-ue|0)-((ge|0)>-1?ge:0-ge|0)|0,We=Be?Ce:0-Ce|0,lt=L,et=ge,Ve=_e),e[lt>>2]=We,_e=e[u>>2]|0;do if((_e|0)<=-1)if((et|0)<0?(ge=e[L>>2]|0,Je=(ge|0)>-1?ge:0-ge|0,it=ge):(ge=e[L>>2]|0,Je=(e[X>>2]|0)-((ge|0)>-1?ge:0-ge|0)|0,it=ge),(it|0)<0){ze=(et|0)>-1?et:0-et|0,Ge=Je,ke=it;break}else{ze=(e[X>>2]|0)-((et|0)>-1?et:0-et|0)|0,Ge=Je,ke=it;break}else ge=e[L>>2]|0,ze=ge+Ve|0,Ge=Ve+et|0,ke=ge;while(0);ge=(Ge|0)==0,Ce=(ze|0)==0,Be=e[X>>2]|0;do if(ze|Ge)if(ue=(Be|0)==(ze|0),ge&ue)ut=ze,tt=ze;else if(S=(Be|0)==(Ge|0),Ce&S)ut=Ge,tt=Ge;else{if(ge&(Ve|0)<(ze|0)){ut=0,tt=(Ve<<1)-ze|0;break}if(S&(Ve|0)>(ze|0)){ut=Ge,tt=(Ve<<1)-ze|0;break}if(ue&(Ve|0)>(Ge|0)){ut=(Ve<<1)-Ge|0,tt=ze;break}Ce?(ut=(Ve|0)<(Ge|0)?(Ve<<1)-Ge|0:Ge,tt=0):(ut=Ge,tt=ze)}else ut=Be,tt=Be;while(0);e[g>>2]=ut,e[N>>2]=tt,Ce=0-et|0,ge=0-ke|0,e[u>>2]=0-_e,e[D>>2]=Ce,e[L>>2]=ge,(_e|0)<1?(at=Ve-ke|0,Mt=Ve-et|0):(ue=(ke|0)<1?ge:ke,ge=(et|0)<1?Ce:et,at=(ke|0)>0?ge:Be-ge|0,Mt=(et|0)>0?ue:Be-ue|0),ue=(Mt|0)==0,ge=(at|0)==0;do if((at|Mt|0)!=0&&(Ce=(Be|0)==(at|0),!(ue&Ce))&&(S=(Be|0)==(Mt|0),!(ge&S))){if(ue&(Ve|0)<(at|0)){Pt=0,yt=(Ve<<1)-at|0;break}if(S&(Ve|0)>(at|0)){Pt=Be,yt=(Ve<<1)-at|0;break}if(Ce&(Ve|0)>(Mt|0)){Pt=(Ve<<1)-Mt|0,yt=Be;break}ge?(Pt=(Ve|0)<(Mt|0)?(Ve<<1)-Mt|0:Mt,yt=0):(Pt=Mt,yt=at)}else Pt=Be,yt=Be;while(0);if(e[d>>2]=Pt,e[j>>2]=yt,Be=Ee<<1,ge=s+(Be<<2)|0,ue=e[Q>>2]|0,(ue|0)>0){for(_e=0,Ce=g,S=ue;;){if((S|0)>0){ue=0;do st=e[Ce+(ue<<2)>>2]|0,He=e[V>>2]|0,(st|0)>(He|0)?(Vt=e[G>>2]|0,e[Vt+(ue<<2)>>2]=He,Lt=Vt):(Vt=e[ee>>2]|0,He=e[G>>2]|0,e[He+(ue<<2)>>2]=(st|0)<(Vt|0)?Vt:st,Lt=He),ue=ue+1|0,He=e[Q>>2]|0;while((ue|0)<(He|0));At=Lt,_t=He}else At=e[G>>2]|0,_t=S;if(ue=(e[ge+(_e<<2)>>2]|0)-(e[At+(_e<<2)>>2]|0)|0,He=m+(_e<<2)|0,e[He>>2]=ue,St=e[J>>2]|0,(ue|0)>=(St|0)?(ue|0)>(e[$>>2]|0)&&(fr=ue-(e[O>>2]|0)|0,Wt=52):(fr=(e[O>>2]|0)+ue|0,Wt=52),(Wt|0)==52&&(Wt=0,e[He>>2]=fr),_e=_e+1|0,(_e|0)>=(_t|0))break;Ce=At,S=_t}if((_t|0)>0)for(S=0,Ce=d,_e=_t,He=St;;){if((_e|0)>0){ue=0;do st=e[Ce+(ue<<2)>>2]|0,Vt=e[V>>2]|0,(st|0)>(Vt|0)?e[At+(ue<<2)>>2]=Vt:(Vt=e[ee>>2]|0,e[At+(ue<<2)>>2]=(st|0)<(Vt|0)?Vt:st),ue=ue+1|0,cr=e[Q>>2]|0;while((ue|0)<(cr|0));mr=e[J>>2]|0,Gr=cr}else mr=He,Gr=_e;if(ue=(e[ge+(S<<2)>>2]|0)-(e[At+(S<<2)>>2]|0)|0,st=b+(S<<2)|0,e[st>>2]=ue,(ue|0)>=(mr|0)?(ue|0)>(e[$>>2]|0)&&(dr=ue-(e[O>>2]|0)|0,Wt=65):(dr=(e[O>>2]|0)+ue|0,Wt=65),(Wt|0)==65&&(Wt=0,e[st>>2]=dr),S=S+1|0,(S|0)>=(Gr|0))break;Ce=At,_e=Gr,He=mr}}if(He=e[m>>2]|0,_e=e[P>>2]|0,(_e|0)>=(He|0)?(He|0)<(0-_e|0)?Er=(e[ie>>2]|0)+He|0:Er=He:Er=He-(e[ie>>2]|0)|0,e[m>>2]=Er,He=e[i>>2]|0,(_e|0)>=(He|0)?(He|0)<(0-_e|0)?nr=(e[ie>>2]|0)+He|0:nr=He:nr=He-(e[ie>>2]|0)|0,e[i>>2]=nr,He=e[b>>2]|0,(_e|0)>=(He|0)?(He|0)<(0-_e|0)?Mr=(e[ie>>2]|0)+He|0:Mr=He:Mr=He-(e[ie>>2]|0)|0,e[b>>2]=Mr,He=e[se>>2]|0,(_e|0)>=(He|0)?(He|0)<(0-_e|0)?Nr=(e[ie>>2]|0)+He|0:Nr=He:Nr=He-(e[ie>>2]|0)|0,e[se>>2]=Nr,(((nr|0)>-1?nr:0-nr|0)+((Er|0)>-1?Er:0-Er|0)|0)<(((Mr|0)>-1?Mr:0-Mr|0)+((Nr|0)>-1?Nr:0-Nr|0)|0)?(Wn(h,0),ar=m):(Wn(h,1),ar=b),He=e[ar>>2]|0,(He|0)<0?gr=(e[ie>>2]|0)+He|0:gr=He,He=o+(Be<<2)|0,e[He>>2]=gr,_e=e[ar+4>>2]|0,(_e|0)<0?or=(e[ie>>2]|0)+_e|0:or=_e,e[He+4>>2]=or,Ee=Ee+1|0,(Ee|0)>=(I|0)){Wt=3;break}if(He=e[C>>2]|0,Pe=e[He>>2]|0,(e[He+4>>2]|0)-Pe>>2>>>0<=Ee>>>0){Wt=4;break}}return(Wt|0)==3?(q=f,1):((Wt|0)==4&&qe(),0)}function ek(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0;if(o=q,q=q+16|0,l=o+8|0,f=o,h=e[s>>2]|0,(h|0)==-1||(g=(h>>>0)/3|0,d=i+24|0,e[(e[d>>2]|0)+(g>>>5<<2)>>2]&1<<(g&31)|0))return u=1,q=o,u|0;g=i+48|0,m=e[g>>2]|0,b=i+52|0,w=e[b>>2]|0,(w|0)==(m|0)?x=m:(C=w+(~((w+-4-m|0)>>>2)<<2)|0,e[b>>2]=C,x=C),C=i+56|0,(x|0)==(e[C>>2]|0)?pi(g,s):(e[x>>2]=h,e[b>>2]=x+4),x=i+4|0,h=e[x>>2]|0,m=e[s>>2]|0,w=m+1|0;do if((m|0)!=-1)if(S=e[h+28>>2]|0,D=e[S+((((w>>>0)%3|0|0)==0?m+-2|0:w)<<2)>>2]|0,(m>>>0)%3|0){I=D,L=m+-1|0,P=S;break}else{I=D,L=m+2|0,P=S;break}else S=e[h+28>>2]|0,I=e[S+-4>>2]|0,L=-1,P=S;while(0);if(h=e[P+(L<<2)>>2]|0,(I|0)==-1|(h|0)==-1)return u=0,q=o,u|0;if(L=i+36|0,P=e[L>>2]|0,m=P+(I>>>5<<2)|0,w=1<<(I&31),S=e[m>>2]|0,S&w?j=P:(e[m>>2]=S|w,w=e[s>>2]|0,S=w+1|0,(w|0)==-1?N=-1:N=((S>>>0)%3|0|0)==0?w+-2|0:S,e[f>>2]=N,S=e[(e[(e[i+16>>2]|0)+96>>2]|0)+(((N>>>0)/3|0)*12|0)+(((N>>>0)%3|0)<<2)>>2]|0,N=e[i+20>>2]|0,e[l>>2]=S,w=e[N+4>>2]|0,N=w+4|0,m=e[N>>2]|0,(m|0)==(e[w+8>>2]|0)?pi(w,l):(e[m>>2]=S,e[N>>2]=m+4),m=i+12|0,N=e[m>>2]|0,S=N+4|0,w=e[S>>2]|0,(w|0)==(e[N+8>>2]|0)?(pi(N,f),X=e[m>>2]|0):(e[w>>2]=e[f>>2],e[S>>2]=w+4,X=N),N=X+24|0,e[(e[X+12>>2]|0)+(I<<2)>>2]=e[N>>2],e[N>>2]=(e[N>>2]|0)+1,j=e[L>>2]|0),P=j+(h>>>5<<2)|0,j=1<<(h&31),N=e[P>>2]|0,!(N&j)){e[P>>2]=N|j,j=e[s>>2]|0;do if((j|0)!=-1)if((j>>>0)%3|0){Q=j+-1|0;break}else{Q=j+2|0;break}else Q=-1;while(0);e[f>>2]=Q,j=e[(e[(e[i+16>>2]|0)+96>>2]|0)+(((Q>>>0)/3|0)*12|0)+(((Q>>>0)%3|0)<<2)>>2]|0,Q=e[i+20>>2]|0,e[l>>2]=j,N=e[Q+4>>2]|0,Q=N+4|0,P=e[Q>>2]|0,(P|0)==(e[N+8>>2]|0)?pi(N,l):(e[P>>2]=j,e[Q>>2]=P+4),P=i+12|0,Q=e[P>>2]|0,j=Q+4|0,N=e[j>>2]|0,(N|0)==(e[Q+8>>2]|0)?(pi(Q,f),V=e[P>>2]|0):(e[N>>2]=e[f>>2],e[j>>2]=N+4,V=Q),Q=V+24|0,e[(e[V+12>>2]|0)+(h<<2)>>2]=e[Q>>2],e[Q>>2]=(e[Q>>2]|0)+1}if(Q=e[g>>2]|0,h=e[b>>2]|0,(Q|0)==(h|0))return u=1,q=o,u|0;V=i+16|0,N=i+20|0,j=i+12|0,i=h,h=Q;e:for(;;){if(Q=e[i+-4>>2]|0,e[s>>2]=Q,P=(Q>>>0)/3|0,(Q|0)!=-1&&(Q=(e[d>>2]|0)+(P>>>5<<2)|0,I=1<<(P&31),P=e[Q>>2]|0,(P&I|0)==0)){if(e[Q>>2]=P|I,I=e[x>>2]|0,P=e[s>>2]|0,Q=e[(e[I+28>>2]|0)+(P<<2)>>2]|0,(Q|0)==-1){u=0,G=79;break}else ee=Q,J=I,O=P;t:for(;;){P=(e[L>>2]|0)+(ee>>>5<<2)|0,I=1<<(ee&31),Q=e[P>>2]|0;do if(Q&I)se=O,ue=J,G=59;else{if(X=e[(e[J+40>>2]|0)+(ee<<2)>>2]|0,(X|0)==-1?$=1:(w=e[(e[e[J+64>>2]>>2]|0)+(X<<2)>>2]|0,$=(1<<(w&31)&e[(e[J+12>>2]|0)+(w>>>5<<2)>>2]|0)!=0),e[P>>2]=Q|I,w=e[s>>2]|0,e[f>>2]=w,X=e[(e[(e[V>>2]|0)+96>>2]|0)+(((w>>>0)/3|0)*12|0)+(((w>>>0)%3|0)<<2)>>2]|0,w=e[N>>2]|0,e[l>>2]=X,S=e[w+4>>2]|0,w=S+4|0,m=e[w>>2]|0,(m|0)==(e[S+8>>2]|0)?pi(S,l):(e[m>>2]=X,e[w>>2]=m+4),m=e[j>>2]|0,w=m+4|0,X=e[w>>2]|0,(X|0)==(e[m+8>>2]|0)?(pi(m,f),ie=e[j>>2]|0):(e[X>>2]=e[f>>2],e[w>>2]=X+4,ie=m),m=ie+24|0,e[(e[ie+12>>2]|0)+(ee<<2)>>2]=e[m>>2],e[m>>2]=(e[m>>2]|0)+1,m=e[x>>2]|0,X=e[s>>2]|0,$){se=X,ue=m,G=59;break}w=X+1|0;do if((X|0)==-1)Ee=-1;else{if(S=((w>>>0)%3|0|0)==0?X+-2|0:w,(S|0)==-1){Ee=-1;break}if(e[(e[m>>2]|0)+(S>>>5<<2)>>2]&1<<(S&31)|0){Ee=-1;break}Ee=e[(e[(e[m+64>>2]|0)+12>>2]|0)+(S<<2)>>2]|0}while(0);e[s>>2]=Ee,Pe=(Ee>>>0)/3|0,ge=m}while(0);if((G|0)==59){if(G=0,I=se+1|0,(se|0)==-1){G=60;break}Q=((I>>>0)%3|0|0)==0?se+-2|0:I;do if((Q|0)==-1)Be=-1;else{if(e[(e[ue>>2]|0)+(Q>>>5<<2)>>2]&1<<(Q&31)|0){Be=-1;break}Be=e[(e[(e[ue+64>>2]|0)+12>>2]|0)+(Q<<2)>>2]|0}while(0);e[l>>2]=Be,Q=(((se>>>0)%3|0|0)==0?2:-1)+se|0;do if((Q|0)==-1)_e=-1;else{if(e[(e[ue>>2]|0)+(Q>>>5<<2)>>2]&1<<(Q&31)|0){_e=-1;break}_e=e[(e[(e[ue+64>>2]|0)+12>>2]|0)+(Q<<2)>>2]|0}while(0);Q=(Be|0)==-1,I=(Be>>>0)/3|0,P=Q?-1:I,w=(_e|0)==-1,X=(_e>>>0)/3|0,S=w?-1:X;do if(Q)G=69;else{if(D=e[d>>2]|0,e[D+(P>>>5<<2)>>2]&1<<(P&31)|0){G=69;break}if(w){Ce=Be,We=I;break}if(e[D+(S>>>5<<2)>>2]&1<<(S&31))Ce=Be,We=I;else{G=74;break t}}while(0);if((G|0)==69){if(G=0,w){G=71;break}if(!(e[(e[d>>2]|0)+(S>>>5<<2)>>2]&1<<(S&31)))Ce=_e,We=X;else{G=71;break}}e[s>>2]=Ce,Pe=We,ge=ue}if(I=(e[d>>2]|0)+(Pe>>>5<<2)|0,e[I>>2]=e[I>>2]|1<<(Pe&31),O=e[s>>2]|0,ee=e[(e[ge+28>>2]|0)+(O<<2)>>2]|0,(ee|0)==-1){u=0,G=79;break e}else J=ge}do if((G|0)==60)G=0,e[l>>2]=-1,G=71;else if((G|0)==74)if(G=0,I=e[b>>2]|0,e[I+-4>>2]=_e,(I|0)==(e[C>>2]|0)){pi(g,l),lt=e[b>>2]|0;break}else{e[I>>2]=e[l>>2],P=I+4|0,e[b>>2]=P,lt=P;break}while(0);(G|0)==71&&(G=0,P=(e[b>>2]|0)+-4|0,e[b>>2]=P,lt=P),et=e[g>>2]|0,Ve=lt}else P=i+-4|0,e[b>>2]=P,et=h,Ve=P;if((et|0)==(Ve|0)){u=1,G=79;break}else i=Ve,h=et}return(G|0)==79?(q=o,u|0):0}function A3(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=vi,He=vi,st=vi,Je=0,it=0,ze=0,Ge=0;o=q,q=q+16|0,l=o,f=i+16|0,e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,bi[f>>2]=Zt(1),h=i+20|0,e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=0,e[h+12>>2]=0,bi[i+36>>2]=Zt(1),u=e[s+8>>2]|0;e:do if(u|0)for(g=i+4|0,d=i+12|0,m=i+8|0,b=u,w=u;;){if(x=b+8|0,C=Y[x+11>>0]|0,S=C<<24>>24<0,D=S?e[x>>2]|0:x,I=S?e[b+12>>2]|0:C&255,I>>>0>3){for(C=D,S=I,L=I;P=_r(br[C>>0]|br[C+1>>0]<<8|br[C+2>>0]<<16|br[C+3>>0]<<24,1540483477)|0,S=(_r(P>>>24^P,1540483477)|0)^(_r(S,1540483477)|0),L=L+-4|0,!(L>>>0<=3);)C=C+4|0;C=I+-4|0,L=C&-4,N=C-L|0,X=D+(L+4)|0,j=S}else N=I,X=D,j=I;switch(N|0){case 3:{Q=br[X+2>>0]<<16^j,V=8;break}case 2:{Q=j,V=8;break}case 1:{G=j,V=9;break}default:ee=j}(V|0)==8&&(V=0,G=br[X+1>>0]<<8^Q,V=9),(V|0)==9&&(V=0,ee=_r(G^br[X>>0],1540483477)|0),L=_r(ee>>>13^ee,1540483477)|0,C=L>>>15^L,L=e[g>>2]|0,P=(L|0)==0;t:do if(P)Ee=0,V=50;else if(J=L+-1|0,O=(J&L|0)==0,O?$=C&J:C>>>0<L>>>0?$=C:$=(C>>>0)%(L>>>0)|0,ie=e[(e[i>>2]|0)+($<<2)>>2]|0,(ie|0)!=0&&(se=e[ie>>2]|0,(se|0)!=0)){if(ie=(I|0)==0,O){if(ie)for(O=se;;){if(ue=e[O+4>>2]|0,!((ue|0)==(C|0)|(ue&J|0)==($|0))){Ee=$,V=50;break t}if(ue=Y[O+8+11>>0]|0,!((ue<<24>>24<0?e[O+12>>2]|0:ue&255)|0))break t;if(O=e[O>>2]|0,!O){Ee=$,V=50;break t}}else Pe=se;for(;;){if(O=e[Pe+4>>2]|0,!((O|0)==(C|0)|(O&J|0)==($|0))){Ee=$,V=50;break t}O=Pe+8|0,ue=Y[O+11>>0]|0,ge=ue<<24>>24<0,Be=ue&255;do if(((ge?e[Pe+12>>2]|0:Be)|0)==(I|0)){if(ue=e[O>>2]|0,ge){if(vs(ue,D,I)|0)break;break t}if((Y[D>>0]|0)==(ue&255)<<24>>24){ue=O,_e=Be,Ce=D;do{if(_e=_e+-1|0,ue=ue+1|0,!_e)break t;Ce=Ce+1|0}while((Y[ue>>0]|0)==(Y[Ce>>0]|0))}}while(0);if(Pe=e[Pe>>2]|0,!Pe){Ee=$,V=50;break t}}}if(ie)for(J=se;;){if(Be=e[J+4>>2]|0,(Be|0)!=(C|0)&&(Be>>>0<L>>>0?We=Be:We=(Be>>>0)%(L>>>0)|0,(We|0)!=($|0))){Ee=$,V=50;break t}if(Be=Y[J+8+11>>0]|0,!((Be<<24>>24<0?e[J+12>>2]|0:Be&255)|0))break t;if(J=e[J>>2]|0,!J){Ee=$,V=50;break t}}else lt=se;for(;;){if(J=e[lt+4>>2]|0,(J|0)!=(C|0)&&(J>>>0<L>>>0?et=J:et=(J>>>0)%(L>>>0)|0,(et|0)!=($|0))){Ee=$,V=50;break t}J=lt+8|0,ie=Y[J+11>>0]|0,Be=ie<<24>>24<0,O=ie&255;do if(((Be?e[lt+12>>2]|0:O)|0)==(I|0)){if(ie=e[J>>2]|0,Be){if(vs(ie,D,I)|0)break;break t}if((Y[D>>0]|0)==(ie&255)<<24>>24){ie=J,ge=O,Ce=D;do{if(ge=ge+-1|0,ie=ie+1|0,!ge)break t;Ce=Ce+1|0}while((Y[ie>>0]|0)==(Y[Ce>>0]|0))}}while(0);if(lt=e[lt>>2]|0,!lt){Ee=$,V=50;break}}}else Ee=$,V=50;while(0);if((V|0)==50){V=0,CL(l,i,C,x),Ve=Zt(((e[d>>2]|0)+1|0)>>>0),He=Zt(L>>>0),st=Zt(bi[f>>2]);do if(P|Zt(st*He)<Ve){if(D=L<<1|(L>>>0<3|(L+-1&L|0)!=0)&1,I=~~Zt(yi(Zt(Ve/st)))>>>0,Sm(i,D>>>0<I>>>0?I:D),D=e[g>>2]|0,I=D+-1|0,!(I&D)){Je=D,it=I&C;break}C>>>0<D>>>0?(Je=D,it=C):(Je=D,it=(C>>>0)%(D>>>0)|0)}else Je=L,it=Ee;while(0);L=e[(e[i>>2]|0)+(it<<2)>>2]|0,L?(e[e[l>>2]>>2]=e[L>>2],e[L>>2]=e[l>>2]):(e[e[l>>2]>>2]=e[m>>2],e[m>>2]=e[l>>2],e[(e[i>>2]|0)+(it<<2)>>2]=m,C=e[l>>2]|0,P=e[C>>2]|0,P|0&&(x=e[P+4>>2]|0,P=Je+-1|0,P&Je?x>>>0<Je>>>0?ze=x:ze=(x>>>0)%(Je>>>0)|0:ze=x&P,e[(e[i>>2]|0)+(ze<<2)>>2]=C)),e[d>>2]=(e[d>>2]|0)+1}if(L=e[w>>2]|0,L)b=L,w=L;else break e}while(0);if(l=e[s+28>>2]|0,l)Ge=l;else{q=o;return}do{if(l=Ge,s=It(40)|0,A3(s,e[l+20>>2]|0),ze=Zb(h,l+8|0)|0,l=e[ze>>2]|0,e[ze>>2]=s,l|0){if(s=e[l+28>>2]|0,s|0){ze=s;do s=ze,ze=e[ze>>2]|0,I_(s+8|0),Ae(s);while((ze|0)!=0)}if(ze=l+20|0,s=e[ze>>2]|0,e[ze>>2]=0,s|0&&Ae(s),s=e[l+8>>2]|0,s|0){ze=s;do s=ze,ze=e[ze>>2]|0,i=s+8|0,Je=e[s+20>>2]|0,Je|0&&(it=s+24|0,(e[it>>2]|0)!=(Je|0)&&(e[it>>2]=Je),Ae(Je)),(Y[i+11>>0]|0)<0&&Ae(e[i>>2]|0),Ae(s);while((ze|0)!=0)}ze=e[l>>2]|0,e[l>>2]=0,ze|0&&Ae(ze),Ae(l)}Ge=e[Ge>>2]|0}while((Ge|0)!=0);q=o}function tk(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=vi,tt=vi,at=vi,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0;if(l=q,q=q+48|0,f=l+16|0,h=l+12|0,u=l,g=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,bi[g>>2]=Zt(1),d=i+80|0,m=e[d>>2]|0,e[u>>2]=0,b=u+4|0,e[b>>2]=0,e[u+8>>2]=0,m){for(m>>>0>1073741823&&qe(),w=m<<2,x=It(w)|0,e[u>>2]=x,C=x+(m<<2)|0,e[u+8>>2]=C,Tr(x|0,0,w|0)|0,e[b>>2]=C,C=s+48|0,w=s+40|0,m=f+4|0,S=f+12|0,D=f+8|0,I=i+40|0,L=i+64|0,P=e[o>>2]|0,o=x,N=0,X=0,j=x,Q=x,V=0,G=x;;){x=C,ee=e[x>>2]|0,J=e[x+4>>2]|0,x=w,O=Wr(e[x>>2]|0,e[x+4>>2]|0,P+N|0,0)|0,x=Qt(O|0,Ze|0,ee|0,J|0)|0,J=(e[e[s>>2]>>2]|0)+x|0,x=br[J>>0]|br[J+1>>0]<<8|br[J+2>>0]<<16|br[J+3>>0]<<24,e[h>>2]=x,J=x&65535,ee=x>>>16,O=ee&65535,$=(x&65535^318)+239^ee,ee=(V|0)==0;e:do if(ee)it=0,Ce=46;else{ie=V+-1|0,se=(ie&V|0)==0,se?ue=$&ie:$>>>0<V>>>0?ue=$:ue=($>>>0)%(V>>>0)|0,Ee=e[(e[f>>2]|0)+(ue<<2)>>2]|0;do if(Ee|0&&(Pe=e[Ee>>2]|0,Pe|0)){t:do if(se)for(ge=Pe;;){if(Be=e[ge+4>>2]|0,_e=(Be|0)==($|0),!(_e|(Be&ie|0)==(ue|0))){Ce=27;break t}if(_e&&(_e=ge+8|0,(Or[_e>>1]|0)==J<<16>>16)&&(Or[_e+2>>1]|0)==O<<16>>16){We=ge,Ce=26;break t}if(ge=e[ge>>2]|0,!ge){Ce=27;break}}else for(ge=Pe;;){if(_e=e[ge+4>>2]|0,(_e|0)==($|0)){if(Be=ge+8|0,(Or[Be>>1]|0)==J<<16>>16&&(Or[Be+2>>1]|0)==O<<16>>16){We=ge,Ce=26;break t}}else if(_e>>>0<V>>>0?lt=_e:lt=(_e>>>0)%(V>>>0)|0,(lt|0)!=(ue|0)){Ce=27;break t}if(ge=e[ge>>2]|0,!ge){Ce=27;break}}while(0);if((Ce|0)==26){Ce=0,e[G+(N<<2)>>2]=e[We+12>>2],et=o,Ve=X,He=Q,st=j,Je=G;break e}else if((Ce|0)==27)if(Ce=0,ee){it=0,Ce=46;break e}else break}while(0);if(ie=V+-1|0,se=(ie&V|0)==0,se?ze=ie&$:$>>>0<V>>>0?ze=$:ze=($>>>0)%(V>>>0)|0,Ee=e[(e[f>>2]|0)+(ze<<2)>>2]|0,(Ee|0)!=0&&(Pe=e[Ee>>2]|0,(Pe|0)!=0)){if(se)for(se=Pe;;){if(Ee=e[se+4>>2]|0,!((Ee|0)==($|0)|(Ee&ie|0)==(ze|0))){it=ze,Ce=46;break e}if(Ee=se+8|0,(Or[Ee>>1]|0)==J<<16>>16&&(Or[Ee+2>>1]|0)==O<<16>>16){Ce=61;break e}if(se=e[se>>2]|0,!se){it=ze,Ce=46;break e}}else Ge=Pe;for(;;){if(se=e[Ge+4>>2]|0,(se|0)!=($|0)&&(se>>>0<V>>>0?ke=se:ke=(se>>>0)%(V>>>0)|0,(ke|0)!=(ze|0))){it=ze,Ce=46;break e}if(se=Ge+8|0,(Or[se>>1]|0)==J<<16>>16&&(Or[se+2>>1]|0)==O<<16>>16){Ce=61;break e}if(Ge=e[Ge>>2]|0,!Ge){it=ze,Ce=46;break}}}else it=ze,Ce=46}while(0);if((Ce|0)==46){Ce=0,O=It(16)|0,J=O+8|0,Or[J>>1]=x,Or[J+2>>1]=x>>>16,e[O+12>>2]=X,e[O+4>>2]=$,e[O>>2]=0,ut=Zt(((e[S>>2]|0)+1|0)>>>0),tt=Zt(V>>>0),at=Zt(bi[g>>2]);do if(ee|Zt(at*tt)<ut){if(J=V<<1|(V>>>0<3|(V+-1&V|0)!=0)&1,Pe=~~Zt(yi(Zt(ut/at)))>>>0,tL(f,J>>>0<Pe>>>0?Pe:J),J=e[m>>2]|0,Pe=J+-1|0,!(Pe&J)){Mt=J,Pt=Pe&$;break}$>>>0<J>>>0?(Mt=J,Pt=$):(Mt=J,Pt=($>>>0)%(J>>>0)|0)}else Mt=V,Pt=it;while(0);$=(e[f>>2]|0)+(Pt<<2)|0,ee=e[$>>2]|0,ee?(e[O>>2]=e[ee>>2],Vt=ee,Ce=59):(e[O>>2]=e[D>>2],e[D>>2]=O,e[$>>2]=D,$=e[O>>2]|0,$|0&&(x=e[$+4>>2]|0,$=Mt+-1|0,$&Mt?x>>>0<Mt>>>0?yt=x:yt=(x>>>0)%(Mt>>>0)|0:yt=x&$,Vt=(e[f>>2]|0)+(yt<<2)|0,Ce=59)),(Ce|0)==59&&(Ce=0,e[Vt>>2]=O),e[S>>2]=(e[S>>2]|0)+1,Ce=61}if((Ce|0)==61&&(Ce=0,ee=I,$=e[ee>>2]|0,x=Wr($|0,e[ee+4>>2]|0,X|0,0)|0,Fi((e[e[L>>2]>>2]|0)+x|0,h|0,$|0)|0,$=e[u>>2]|0,e[$+(N<<2)>>2]=X,et=$,Ve=X+1|0,He=$,st=$,Je=$),$=N+1|0,Lt=e[d>>2]|0,$>>>0>=Lt>>>0)break;o=et,N=$,X=Ve,j=st,Q=He,V=e[m>>2]|0,G=Je}if((Ve|0)==(Lt|0))At=st;else{if(st=i+84|0,Y[st>>0]|0)if(Y[st>>0]=0,st=i+68|0,et=i+72|0,V=e[et>>2]|0,G=e[st>>2]|0,He=V-G>>2,m=G,G=V,Lt>>>0<=He>>>0?(Lt>>>0<He>>>0&&(V=m+(Lt<<2)|0,(V|0)!=(G|0))&&(e[et>>2]=G+(~((G+-4-V|0)>>>2)<<2)),St=Lt):(W0(st,Lt-He|0,1204),St=e[d>>2]|0),He=e[u>>2]|0,!St)_t=He;else{u=e[i+68>>2]|0,i=0;do e[u+(i<<2)>>2]=e[He+(i<<2)>>2],i=i+1|0;while(i>>>0<St>>>0);_t=He}else if(Je=e[i+72>>2]|0,G=e[i+68>>2]|0,m=G,(Je|0)==(G|0))_t=et;else{V=Je-G>>2,G=0;do Je=m+(G<<2)|0,e[Je>>2]=e[He+(e[Je>>2]<<2)>>2],G=G+1|0;while(G>>>0<V>>>0);_t=et}e[d>>2]=Ve,At=_t}At&&(_t=e[b>>2]|0,(_t|0)!=(At|0)&&(e[b>>2]=_t+(~((_t+-4-At|0)>>>2)<<2)),Ae(At)),fr=Ve}else fr=0;if(Ve=e[f+8>>2]|0,Ve|0){At=Ve;do Ve=At,At=e[At>>2]|0,Ae(Ve);while((At|0)!=0)}return At=e[f>>2]|0,e[f>>2]=0,At?(Ae(At),q=l,fr|0):(q=l,fr|0)}function rk(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0;if(o=q,q=q+16|0,l=o+8|0,f=o,h=e[s>>2]|0,(h|0)==-1||(g=(h>>>0)/3|0,d=i+24|0,e[(e[d>>2]|0)+(g>>>5<<2)>>2]&1<<(g&31)|0))return u=1,q=o,u|0;if(g=i+48|0,m=e[g>>2]|0,b=i+52|0,w=e[b>>2]|0,(w|0)==(m|0)?x=m:(C=w+(~((w+-4-m|0)>>>2)<<2)|0,e[b>>2]=C,x=C),C=i+56|0,(x|0)==(e[C>>2]|0)?pi(g,s):(e[x>>2]=h,e[b>>2]=x+4),x=i+4|0,h=e[x>>2]|0,m=e[s>>2]|0,w=m+1|0,(m|0)==-1||(S=((w>>>0)%3|0|0)==0?m+-2|0:w,(S|0)==-1?D=-1:D=e[(e[h>>2]|0)+(S<<2)>>2]|0,S=(((m>>>0)%3|0|0)==0?2:-1)+m|0,(S|0)==-1)||(m=e[(e[h>>2]|0)+(S<<2)>>2]|0,(D|0)==-1|(m|0)==-1))return u=0,q=o,u|0;if(S=i+36|0,h=e[S>>2]|0,w=h+(D>>>5<<2)|0,I=1<<(D&31),L=e[w>>2]|0,L&I?X=h:(e[w>>2]=L|I,I=e[s>>2]|0,L=I+1|0,(I|0)==-1?P=-1:P=((L>>>0)%3|0|0)==0?I+-2|0:L,e[f>>2]=P,L=e[(e[(e[i+16>>2]|0)+96>>2]|0)+(((P>>>0)/3|0)*12|0)+(((P>>>0)%3|0)<<2)>>2]|0,P=e[i+20>>2]|0,e[l>>2]=L,I=e[P+4>>2]|0,P=I+4|0,w=e[P>>2]|0,(w|0)==(e[I+8>>2]|0)?pi(I,l):(e[w>>2]=L,e[P>>2]=w+4),w=i+12|0,P=e[w>>2]|0,L=P+4|0,I=e[L>>2]|0,(I|0)==(e[P+8>>2]|0)?(pi(P,f),N=e[w>>2]|0):(e[I>>2]=e[f>>2],e[L>>2]=I+4,N=P),P=N+24|0,e[(e[N+12>>2]|0)+(D<<2)>>2]=e[P>>2],e[P>>2]=(e[P>>2]|0)+1,X=e[S>>2]|0),h=X+(m>>>5<<2)|0,X=1<<(m&31),P=e[h>>2]|0,!(P&X)){e[h>>2]=P|X,X=e[s>>2]|0;do if((X|0)!=-1)if((X>>>0)%3|0){j=X+-1|0;break}else{j=X+2|0;break}else j=-1;while(0);e[f>>2]=j,X=e[(e[(e[i+16>>2]|0)+96>>2]|0)+(((j>>>0)/3|0)*12|0)+(((j>>>0)%3|0)<<2)>>2]|0,j=e[i+20>>2]|0,e[l>>2]=X,P=e[j+4>>2]|0,j=P+4|0,h=e[j>>2]|0,(h|0)==(e[P+8>>2]|0)?pi(P,l):(e[h>>2]=X,e[j>>2]=h+4),h=i+12|0,j=e[h>>2]|0,X=j+4|0,P=e[X>>2]|0,(P|0)==(e[j+8>>2]|0)?(pi(j,f),Q=e[h>>2]|0):(e[P>>2]=e[f>>2],e[X>>2]=P+4,Q=j),j=Q+24|0,e[(e[Q+12>>2]|0)+(m<<2)>>2]=e[j>>2],e[j>>2]=(e[j>>2]|0)+1}if(j=e[g>>2]|0,m=e[b>>2]|0,(j|0)==(m|0))return u=1,q=o,u|0;Q=i+16|0,P=i+20|0,X=i+12|0,i=m,m=j;e:for(;;){if(j=e[i+-4>>2]|0,e[s>>2]=j,h=(j>>>0)/3|0,(j|0)!=-1&&(j=(e[d>>2]|0)+(h>>>5<<2)|0,D=1<<(h&31),h=e[j>>2]|0,(h&D|0)==0)){if(e[j>>2]=h|D,D=e[s>>2]|0,(D|0)==-1){u=0,V=80;break}h=e[x>>2]|0,j=D;t:for(;;){if(D=e[(e[h>>2]|0)+(j<<2)>>2]|0,(D|0)==-1){u=0,V=80;break e}N=(e[S>>2]|0)+(D>>>5<<2)|0,I=1<<(D&31),L=e[N>>2]|0;do if(L&I)ie=j,se=h,V=64;else{w=e[(e[h+24>>2]|0)+(D<<2)>>2]|0,G=w+1|0;do if((w|0)==-1)ee=1;else{if(J=((G>>>0)%3|0|0)==0?w+-2|0:G,(J|0)==-1){ee=1;break}if(O=e[(e[h+12>>2]|0)+(J<<2)>>2]|0,J=O+1|0,(O|0)==-1){ee=1;break}ee=((((J>>>0)%3|0|0)==0?O+-2|0:J)|0)==-1}while(0);if(e[N>>2]=L|I,G=e[s>>2]|0,e[f>>2]=G,w=e[(e[(e[Q>>2]|0)+96>>2]|0)+(((G>>>0)/3|0)*12|0)+(((G>>>0)%3|0)<<2)>>2]|0,G=e[P>>2]|0,e[l>>2]=w,J=e[G+4>>2]|0,G=J+4|0,O=e[G>>2]|0,(O|0)==(e[J+8>>2]|0)?pi(J,l):(e[O>>2]=w,e[G>>2]=O+4),O=e[X>>2]|0,G=O+4|0,w=e[G>>2]|0,(w|0)==(e[O+8>>2]|0)?(pi(O,f),$=e[X>>2]|0):(e[w>>2]=e[f>>2],e[G>>2]=w+4,$=O),O=$+24|0,e[(e[$+12>>2]|0)+(D<<2)>>2]=e[O>>2],e[O>>2]=(e[O>>2]|0)+1,O=e[x>>2]|0,w=e[s>>2]|0,ee)if((w|0)==-1){V=63;break t}else{ie=w,se=O,V=64;break}do if((w|0)==-1)ue=-1;else{if(G=w+1|0,J=((G>>>0)%3|0|0)==0?w+-2|0:G,(J|0)==-1){ue=-1;break}ue=e[(e[O+12>>2]|0)+(J<<2)>>2]|0}while(0);e[s>>2]=ue,Ee=(ue>>>0)/3|0,Pe=O}while(0);if((V|0)==64){V=0,D=ie+1|0,I=((D>>>0)%3|0|0)==0?ie+-2|0:D,(I|0)==-1?ge=-1:ge=e[(e[se+12>>2]|0)+(I<<2)>>2]|0,e[l>>2]=ge,I=(((ie>>>0)%3|0|0)==0?2:-1)+ie|0,(I|0)==-1?Be=-1:Be=e[(e[se+12>>2]|0)+(I<<2)>>2]|0,I=(ge|0)==-1,D=(ge>>>0)/3|0,L=I?-1:D,N=(Be|0)==-1,w=(Be>>>0)/3|0,J=N?-1:w;do if(I)V=70;else{if(G=e[d>>2]|0,e[G+(L>>>5<<2)>>2]&1<<(L&31)|0){V=70;break}if(N){_e=ge,Ce=D;break}if(e[G+(J>>>5<<2)>>2]&1<<(J&31))_e=ge,Ce=D;else{V=75;break t}}while(0);if((V|0)==70){if(V=0,N){V=72;break}if(!(e[(e[d>>2]|0)+(J>>>5<<2)>>2]&1<<(J&31)))_e=Be,Ce=w;else{V=72;break}}e[s>>2]=_e,Ee=Ce,Pe=se}if(D=(e[d>>2]|0)+(Ee>>>5<<2)|0,e[D>>2]=e[D>>2]|1<<(Ee&31),j=e[s>>2]|0,(j|0)==-1){u=0,V=80;break e}else h=Pe}do if((V|0)==63)V=0,e[l>>2]=-1,V=72;else if((V|0)==75)if(V=0,h=e[b>>2]|0,e[h+-4>>2]=Be,(h|0)==(e[C>>2]|0)){pi(g,l),We=e[b>>2]|0;break}else{e[h>>2]=e[l>>2],j=h+4|0,e[b>>2]=j,We=j;break}while(0);(V|0)==72&&(V=0,j=(e[b>>2]|0)+-4|0,e[b>>2]=j,We=j),lt=e[g>>2]|0,et=We}else j=i+-4|0,e[b>>2]=j,lt=m,et=j;if((lt|0)==(et|0)){u=1,V=80;break}else i=et,m=lt}return(V|0)==80?(q=o,u|0):0}function x3(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=vi,ut=vi,tt=vi,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0;if(l=q,q=q+48|0,f=l+20|0,h=l,u=l+8|0,g=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,bi[g>>2]=Zt(1),d=i+80|0,m=e[d>>2]|0,e[u>>2]=0,b=u+4|0,e[b>>2]=0,e[u+8>>2]=0,m){for(m>>>0>1073741823&&qe(),w=m<<2,x=It(w)|0,e[u>>2]=x,C=x+(m<<2)|0,e[u+8>>2]=C,Tr(x|0,0,w|0)|0,e[b>>2]=C,C=s+48|0,w=s+40|0,m=f+4|0,S=f+12|0,D=f+8|0,I=i+40|0,L=i+64|0,P=e[o>>2]|0,o=x,N=0,X=0,j=x,Q=x,V=x,x=0;;){G=C,ee=e[G>>2]|0,J=e[G+4>>2]|0,G=w,O=Wr(e[G>>2]|0,e[G+4>>2]|0,P+N|0,0)|0,G=Qt(O|0,Ze|0,ee|0,J|0)|0,J=(e[e[s>>2]>>2]|0)+G|0,G=J,ee=br[G>>0]|br[G+1>>0]<<8|br[G+2>>0]<<16|br[G+3>>0]<<24,G=J+4|0,J=br[G>>0]|br[G+1>>0]<<8|br[G+2>>0]<<16|br[G+3>>0]<<24,G=h,e[G>>2]=ee,e[G+4>>2]=J,G=(ee^318)+239^J,O=(x|0)==0;e:do if(O)Je=0,_e=46;else{$=x+-1|0,ie=($&x|0)==0,ie?se=G&$:G>>>0<x>>>0?se=G:se=(G>>>0)%(x>>>0)|0,ue=e[(e[f>>2]|0)+(se<<2)>>2]|0;do if(ue|0&&(Ee=e[ue>>2]|0,Ee|0)){t:do if(ie)for(Pe=Ee;;){if(ge=e[Pe+4>>2]|0,Be=(ge|0)==(G|0),!(Be|(ge&$|0)==(se|0))){_e=27;break t}if(Be&&(e[Pe+8>>2]|0)==(ee|0)&&(e[Pe+12>>2]|0)==(J|0)){Ce=Pe,_e=26;break t}if(Pe=e[Pe>>2]|0,!Pe){_e=27;break}}else for(Pe=Ee;;){if(Be=e[Pe+4>>2]|0,(Be|0)==(G|0)){if((e[Pe+8>>2]|0)==(ee|0)&&(e[Pe+12>>2]|0)==(J|0)){Ce=Pe,_e=26;break t}}else if(Be>>>0<x>>>0?We=Be:We=(Be>>>0)%(x>>>0)|0,(We|0)!=(se|0)){_e=27;break t}if(Pe=e[Pe>>2]|0,!Pe){_e=27;break}}while(0);if((_e|0)==26){_e=0,e[j+(N<<2)>>2]=e[Ce+16>>2],lt=o,et=X,Ve=V,He=Q,st=j;break e}else if((_e|0)==27)if(_e=0,O){Je=0,_e=46;break e}else break}while(0);if($=x+-1|0,ie=($&x|0)==0,ie?it=$&G:G>>>0<x>>>0?it=G:it=(G>>>0)%(x>>>0)|0,ue=e[(e[f>>2]|0)+(it<<2)>>2]|0,(ue|0)!=0&&(Ee=e[ue>>2]|0,(Ee|0)!=0)){if(ie)for(ie=Ee;;){if(ue=e[ie+4>>2]|0,!((ue|0)==(G|0)|(ue&$|0)==(it|0))){Je=it,_e=46;break e}if((e[ie+8>>2]|0)==(ee|0)&&(e[ie+12>>2]|0)==(J|0)){_e=61;break e}if(ie=e[ie>>2]|0,!ie){Je=it,_e=46;break e}}else ze=Ee;for(;;){if(ie=e[ze+4>>2]|0,(ie|0)!=(G|0)&&(ie>>>0<x>>>0?Ge=ie:Ge=(ie>>>0)%(x>>>0)|0,(Ge|0)!=(it|0))){Je=it,_e=46;break e}if((e[ze+8>>2]|0)==(ee|0)&&(e[ze+12>>2]|0)==(J|0)){_e=61;break e}if(ze=e[ze>>2]|0,!ze){Je=it,_e=46;break}}}else Je=it,_e=46}while(0);if((_e|0)==46){_e=0,Ee=It(20)|0,ie=Ee+8|0,e[ie>>2]=ee,e[ie+4>>2]=J,e[Ee+16>>2]=X,e[Ee+4>>2]=G,e[Ee>>2]=0,ke=Zt(((e[S>>2]|0)+1|0)>>>0),ut=Zt(x>>>0),tt=Zt(bi[g>>2]);do if(O|Zt(tt*ut)<ke){if(ie=x<<1|(x>>>0<3|(x+-1&x|0)!=0)&1,$=~~Zt(yi(Zt(ke/tt)))>>>0,sL(f,ie>>>0<$>>>0?$:ie),ie=e[m>>2]|0,$=ie+-1|0,!($&ie)){at=ie,Mt=$&G;break}G>>>0<ie>>>0?(at=ie,Mt=G):(at=ie,Mt=(G>>>0)%(ie>>>0)|0)}else at=x,Mt=Je;while(0);G=(e[f>>2]|0)+(Mt<<2)|0,O=e[G>>2]|0,O?(e[Ee>>2]=e[O>>2],yt=O,_e=59):(e[Ee>>2]=e[D>>2],e[D>>2]=Ee,e[G>>2]=D,G=e[Ee>>2]|0,G|0&&(J=e[G+4>>2]|0,G=at+-1|0,G&at?J>>>0<at>>>0?Pt=J:Pt=(J>>>0)%(at>>>0)|0:Pt=J&G,yt=(e[f>>2]|0)+(Pt<<2)|0,_e=59)),(_e|0)==59&&(_e=0,e[yt>>2]=Ee),e[S>>2]=(e[S>>2]|0)+1,_e=61}if((_e|0)==61&&(_e=0,O=I,G=e[O>>2]|0,J=Wr(G|0,e[O+4>>2]|0,X|0,0)|0,Fi((e[e[L>>2]>>2]|0)+J|0,h|0,G|0)|0,G=e[u>>2]|0,e[G+(N<<2)>>2]=X,lt=G,et=X+1|0,Ve=G,He=G,st=G),G=N+1|0,Vt=e[d>>2]|0,G>>>0>=Vt>>>0)break;o=lt,N=G,X=et,j=st,Q=He,V=Ve,x=e[m>>2]|0}if((et|0)==(Vt|0))Lt=He;else{if(He=i+84|0,Y[He>>0]|0)if(Y[He>>0]=0,He=i+68|0,lt=i+72|0,Q=e[lt>>2]|0,x=e[He>>2]|0,Ve=Q-x>>2,V=x,x=Q,Vt>>>0<=Ve>>>0?(Vt>>>0<Ve>>>0&&(Q=V+(Vt<<2)|0,(Q|0)!=(x|0))&&(e[lt>>2]=x+(~((x+-4-Q|0)>>>2)<<2)),_t=Vt):(W0(He,Vt-Ve|0,1204),_t=e[d>>2]|0),Ve=e[u>>2]|0,!_t)At=Ve;else{u=e[i+68>>2]|0,i=0;do e[u+(i<<2)>>2]=e[Ve+(i<<2)>>2],i=i+1|0;while(i>>>0<_t>>>0);At=Ve}else if(m=e[i+72>>2]|0,x=e[i+68>>2]|0,V=x,(m|0)==(x|0))At=lt;else{Q=m-x>>2,x=0;do m=V+(x<<2)|0,e[m>>2]=e[Ve+(e[m>>2]<<2)>>2],x=x+1|0;while(x>>>0<Q>>>0);At=lt}e[d>>2]=et,Lt=At}Lt&&(At=e[b>>2]|0,(At|0)!=(Lt|0)&&(e[b>>2]=At+(~((At+-4-Lt|0)>>>2)<<2)),Ae(Lt)),St=et}else St=0;if(et=e[f+8>>2]|0,et|0){Lt=et;do et=Lt,Lt=e[Lt>>2]|0,Ae(et);while((Lt|0)!=0)}return Lt=e[f>>2]|0,e[f>>2]=0,Lt?(Ae(Lt),q=l,St|0):(q=l,St|0)}function ik(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=vi,tt=vi,at=vi,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0;if(l=q,q=q+48|0,f=l+12|0,h=l+32|0,u=l,g=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,bi[g>>2]=Zt(1),d=i+80|0,m=e[d>>2]|0,e[u>>2]=0,b=u+4|0,e[b>>2]=0,e[u+8>>2]=0,m){for(m>>>0>1073741823&&qe(),w=m<<2,x=It(w)|0,e[u>>2]=x,C=x+(m<<2)|0,e[u+8>>2]=C,Tr(x|0,0,w|0)|0,e[b>>2]=C,C=s+48|0,w=s+40|0,m=f+4|0,S=f+12|0,D=f+8|0,I=i+40|0,L=i+64|0,P=e[o>>2]|0,o=x,N=0,X=0,j=x,Q=x,V=0,G=x;;){x=C,ee=e[x>>2]|0,J=e[x+4>>2]|0,x=w,O=Wr(e[x>>2]|0,e[x+4>>2]|0,P+N|0,0)|0,x=Qt(O|0,Ze|0,ee|0,J|0)|0,J=(e[e[s>>2]>>2]|0)+x|0,x=br[J>>0]|br[J+1>>0]<<8,Or[h>>1]=x,J=x&255,ee=(x&65535)>>>8,O=ee&255,$=((x&255^318)+239<<16>>16^ee)&65535,ee=(V|0)==0;e:do if(ee)it=0,Ce=46;else{ie=V+-1|0,se=(ie&V|0)==0,se?ue=ie&$:V>>>0>$>>>0?ue=$:ue=($>>>0)%(V>>>0)|0,Ee=e[(e[f>>2]|0)+(ue<<2)>>2]|0;do if(Ee|0&&(Pe=e[Ee>>2]|0,Pe|0)){t:do if(se)for(ge=Pe;;){if(Be=e[ge+4>>2]|0,_e=(Be|0)==($|0),!(_e|(Be&ie|0)==(ue|0))){Ce=27;break t}if(_e&&(_e=ge+8|0,(Y[_e>>0]|0)==J<<24>>24)&&(Y[_e+1>>0]|0)==O<<24>>24){We=ge,Ce=26;break t}if(ge=e[ge>>2]|0,!ge){Ce=27;break}}else for(ge=Pe;;){if(_e=e[ge+4>>2]|0,(_e|0)==($|0)){if(Be=ge+8|0,(Y[Be>>0]|0)==J<<24>>24&&(Y[Be+1>>0]|0)==O<<24>>24){We=ge,Ce=26;break t}}else if(_e>>>0<V>>>0?lt=_e:lt=(_e>>>0)%(V>>>0)|0,(lt|0)!=(ue|0)){Ce=27;break t}if(ge=e[ge>>2]|0,!ge){Ce=27;break}}while(0);if((Ce|0)==26){Ce=0,e[G+(N<<2)>>2]=e[We+12>>2],et=o,Ve=X,He=Q,st=j,Je=G;break e}else if((Ce|0)==27)if(Ce=0,ee){it=0,Ce=46;break e}else break}while(0);if(ie=V+-1|0,se=(ie&V|0)==0,se?ze=ie&$:V>>>0>$>>>0?ze=$:ze=($>>>0)%(V>>>0)|0,Ee=e[(e[f>>2]|0)+(ze<<2)>>2]|0,(Ee|0)!=0&&(Pe=e[Ee>>2]|0,(Pe|0)!=0)){if(se)for(se=Pe;;){if(Ee=e[se+4>>2]|0,!((Ee|0)==($|0)|(Ee&ie|0)==(ze|0))){it=ze,Ce=46;break e}if(Ee=se+8|0,(Y[Ee>>0]|0)==J<<24>>24&&(Y[Ee+1>>0]|0)==O<<24>>24){Ce=61;break e}if(se=e[se>>2]|0,!se){it=ze,Ce=46;break e}}else Ge=Pe;for(;;){if(se=e[Ge+4>>2]|0,(se|0)!=($|0)&&(se>>>0<V>>>0?ke=se:ke=(se>>>0)%(V>>>0)|0,(ke|0)!=(ze|0))){it=ze,Ce=46;break e}if(se=Ge+8|0,(Y[se>>0]|0)==J<<24>>24&&(Y[se+1>>0]|0)==O<<24>>24){Ce=61;break e}if(Ge=e[Ge>>2]|0,!Ge){it=ze,Ce=46;break}}}else it=ze,Ce=46}while(0);if((Ce|0)==46){Ce=0,O=It(16)|0,J=O+8|0,Y[J>>0]=x,Y[J+1>>0]=x>>8,e[O+12>>2]=X,e[O+4>>2]=$,e[O>>2]=0,ut=Zt(((e[S>>2]|0)+1|0)>>>0),tt=Zt(V>>>0),at=Zt(bi[g>>2]);do if(ee|Zt(at*tt)<ut){if(J=V<<1|(V>>>0<3|(V+-1&V|0)!=0)&1,Pe=~~Zt(yi(Zt(ut/at)))>>>0,lL(f,J>>>0<Pe>>>0?Pe:J),J=e[m>>2]|0,Pe=J+-1|0,!(Pe&J)){Mt=J,Pt=Pe&$;break}J>>>0>$>>>0?(Mt=J,Pt=$):(Mt=J,Pt=($>>>0)%(J>>>0)|0)}else Mt=V,Pt=it;while(0);$=(e[f>>2]|0)+(Pt<<2)|0,ee=e[$>>2]|0,ee?(e[O>>2]=e[ee>>2],Vt=ee,Ce=59):(e[O>>2]=e[D>>2],e[D>>2]=O,e[$>>2]=D,$=e[O>>2]|0,$|0&&(x=e[$+4>>2]|0,$=Mt+-1|0,$&Mt?x>>>0<Mt>>>0?yt=x:yt=(x>>>0)%(Mt>>>0)|0:yt=x&$,Vt=(e[f>>2]|0)+(yt<<2)|0,Ce=59)),(Ce|0)==59&&(Ce=0,e[Vt>>2]=O),e[S>>2]=(e[S>>2]|0)+1,Ce=61}if((Ce|0)==61&&(Ce=0,ee=I,$=e[ee>>2]|0,x=Wr($|0,e[ee+4>>2]|0,X|0,0)|0,Fi((e[e[L>>2]>>2]|0)+x|0,h|0,$|0)|0,$=e[u>>2]|0,e[$+(N<<2)>>2]=X,et=$,Ve=X+1|0,He=$,st=$,Je=$),$=N+1|0,Lt=e[d>>2]|0,$>>>0>=Lt>>>0)break;o=et,N=$,X=Ve,j=st,Q=He,V=e[m>>2]|0,G=Je}if((Ve|0)==(Lt|0))At=st;else{if(st=i+84|0,Y[st>>0]|0)if(Y[st>>0]=0,st=i+68|0,et=i+72|0,V=e[et>>2]|0,G=e[st>>2]|0,He=V-G>>2,m=G,G=V,Lt>>>0<=He>>>0?(Lt>>>0<He>>>0&&(V=m+(Lt<<2)|0,(V|0)!=(G|0))&&(e[et>>2]=G+(~((G+-4-V|0)>>>2)<<2)),St=Lt):(W0(st,Lt-He|0,1204),St=e[d>>2]|0),He=e[u>>2]|0,!St)_t=He;else{u=e[i+68>>2]|0,i=0;do e[u+(i<<2)>>2]=e[He+(i<<2)>>2],i=i+1|0;while(i>>>0<St>>>0);_t=He}else if(Je=e[i+72>>2]|0,G=e[i+68>>2]|0,m=G,(Je|0)==(G|0))_t=et;else{V=Je-G>>2,G=0;do Je=m+(G<<2)|0,e[Je>>2]=e[He+(e[Je>>2]<<2)>>2],G=G+1|0;while(G>>>0<V>>>0);_t=et}e[d>>2]=Ve,At=_t}At&&(_t=e[b>>2]|0,(_t|0)!=(At|0)&&(e[b>>2]=_t+(~((_t+-4-At|0)>>>2)<<2)),Ae(At)),fr=Ve}else fr=0;if(Ve=e[f+8>>2]|0,Ve|0){At=Ve;do Ve=At,At=e[At>>2]|0,Ae(Ve);while((At|0)!=0)}return At=e[f>>2]|0,e[f>>2]=0,At?(Ae(At),q=l,fr|0):(q=l,fr|0)}function nk(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0;if(o=q,q=q+16|0,l=o+8|0,f=o,h=o+4|0,u=i+16|0,g=e[u>>2]|0,d=i+20|0,m=e[d>>2]|0,(m|0)==(g|0)?b=g:(w=m+(~((m+-4-g|0)>>>2)<<2)|0,e[d>>2]=w,b=w),w=i+24|0,(b|0)==(e[w>>2]|0)?(pi(u,s),x=e[u>>2]|0,C=e[d>>2]|0):(e[b>>2]=e[s>>2],m=b+4|0,e[d>>2]=m,x=g,C=m),m=e[i+8>>2]|0,g=(e[m+100>>2]|0)-(e[m+96>>2]|0)|0,m=(g|0)/12|0,(x|0)==(C|0))return q=o,1;x=i+28|0,b=(g|0)>0,g=i+164|0,S=i+12|0,D=i+76|0,I=i+80|0,L=i+72|0,P=i+200|0,N=i+320|0,X=i+152|0,j=i+84|0,Q=i+324|0,V=i+292|0,G=i+304|0,ee=i+316|0,J=i+328|0,O=i+336|0,$=i+332|0,ie=i+168|0,se=i+140|0,ue=i+120|0,Ee=C;do{C=e[Ee+-4>>2]|0,e[s>>2]=C;e:do if((C|0)!=-1&&(Pe=(C>>>0)/3|0,ge=e[x>>2]|0,(e[ge+(Pe>>>5<<2)>>2]&1<<(Pe&31)|0)==0)){if(b){Pe=0,Be=ge;t:for(;;){ge=Pe+1|0,e[g>>2]=(e[g>>2]|0)+1,_e=e[s>>2]|0,Ce=(_e|0)==-1?-1:(_e>>>0)/3|0,_e=Be+(Ce>>>5<<2)|0,e[_e>>2]=1<<(Ce&31)|e[_e>>2],_e=e[D>>2]|0,(_e|0)==(e[I>>2]|0)?pi(L,s):(e[_e>>2]=e[s>>2],e[D>>2]=_e+4),e[N>>2]=e[s>>2],_e=e[s>>2]|0,(_e|0)==-1?We=-1:We=e[(e[e[S>>2]>>2]|0)+(_e<<2)>>2]|0,lt=(e[(e[X>>2]|0)+(We<<2)>>2]|0)!=-1,et=(e[j>>2]|0)+(We>>>5<<2)|0,Ve=1<<(We&31),He=e[et>>2]|0;do if(He&Ve)st=_e,Je=38;else{if(e[et>>2]=He|Ve,lt){st=e[s>>2]|0,Je=38;break}e[Q>>2]=(e[Q>>2]|0)+1,it=e[N>>2]|0,ze=it+1|0;do if((it|0)!=-1)if(Ge=((ze>>>0)%3|0|0)==0?it+-2|0:ze,(it>>>0)%3|0){ke=it+-1|0,ut=Ge;break}else{ke=it+2|0,ut=Ge;break}else ke=-1,ut=-1;while(0);it=e[V>>2]|0,ze=e[G>>2]|0,Ge=ze+(e[it+(ut<<2)>>2]<<2)|0,tt=e[Ge>>2]|0,e[Ge>>2]=tt+-1,Ge=ze+(e[it+(ke<<2)>>2]<<2)|0,e[Ge>>2]=(e[Ge>>2]|0)+-1,Ge=e[ee>>2]|0,(Ge|0)!=-1&&(it=e[J>>2]|0,(tt|0)<(it|0)?at=it:(ze=e[$>>2]|0,at=(tt|0)>(ze|0)?ze:tt),tt=at-it|0,it=e[O>>2]|0,ze=e[3384+(Ge<<2)>>2]|0,e[l>>2]=ze,Ge=it+(tt*12|0)+4|0,Mt=e[Ge>>2]|0,Mt>>>0<(e[it+(tt*12|0)+8>>2]|0)>>>0?(e[Mt>>2]=ze,e[Ge>>2]=Mt+4):pi(it+(tt*12|0)|0,l)),e[ee>>2]=0,tt=e[s>>2]|0,it=tt+1|0,(tt|0)!=-1&&(Mt=((it>>>0)%3|0|0)==0?tt+-2|0:it,(Mt|0)!=-1)?Pt=e[(e[(e[S>>2]|0)+12>>2]|0)+(Mt<<2)>>2]|0:Pt=-1,e[s>>2]=Pt}while(0);if((Je|0)==38){if(Je=0,_e=st+1|0,(st|0)==-1){Je=43;break}if(Ve=((_e>>>0)%3|0|0)==0?st+-2|0:_e,(Ve|0)==-1?yt=-1:yt=e[(e[(e[S>>2]|0)+12>>2]|0)+(Ve<<2)>>2]|0,e[f>>2]=yt,Ve=(((st>>>0)%3|0|0)==0?2:-1)+st|0,(Ve|0)==-1?Vt=-1:Vt=e[(e[(e[S>>2]|0)+12>>2]|0)+(Ve<<2)>>2]|0,Ve=(yt|0)==-1,He=Ve?-1:(yt>>>0)/3|0,Lt=(Vt|0)==-1,At=Lt?-1:(Vt>>>0)/3|0,et=((_e>>>0)%3|0|0)==0?st+-2|0:_e,(et|0)!=-1&&(_e=e[(e[S>>2]|0)+12>>2]|0,Mt=e[_e+(et<<2)>>2]|0,(Mt|0)!=-1)&&(et=(Mt>>>0)/3|0,Mt=e[x>>2]|0,(e[Mt+(et>>>5<<2)>>2]&1<<(et&31)|0)==0)){et=(((st>>>0)%3|0|0)==0?2:-1)+st|0;do if((et|0)!=-1){if(it=e[_e+(et<<2)>>2]|0,(it|0)==-1)break;if(tt=(it>>>0)/3|0,!(e[Mt+(tt>>>5<<2)>>2]&1<<(tt&31))){Je=62;break t}}while(0);Lt||Fc(i,e[g>>2]|0,Ce,0,At),$h(P,3),_t=e[f>>2]|0}else{if(Ve)St=st;else if(Fc(i,e[g>>2]|0,Ce,1,He),Mt=e[s>>2]|0,(Mt|0)==-1){Je=52;break}else St=Mt;if(Mt=(((St>>>0)%3|0|0)==0?2:-1)+St|0,(Mt|0)==-1){Je=52;break}if(et=e[(e[(e[S>>2]|0)+12>>2]|0)+(Mt<<2)>>2]|0,(et|0)==-1){Je=52;break}if(Mt=(et>>>0)/3|0,e[(e[x>>2]|0)+(Mt>>>5<<2)>>2]&1<<(Mt&31)|0){Je=52;break}$h(P,5),_t=Vt}e[s>>2]=_t}if((ge|0)>=(m|0))break e;Pe=ge,Be=e[x>>2]|0}do if((Je|0)==43)Je=0,e[f>>2]=-1,Je=54;else if((Je|0)==52)Je=0,Lt||Fc(i,e[g>>2]|0,Ce,0,At),Je=54;else if((Je|0)==62)if(Je=0,$h(P,1),e[ie>>2]=(e[ie>>2]|0)+1,lt&&(Be=e[(e[X>>2]|0)+(We<<2)>>2]|0,(1<<(Be&31)&e[(e[se>>2]|0)+(Be>>>5<<2)>>2]|0)==0)&&(e[h>>2]=e[s>>2],e[l>>2]=e[h>>2],ad(i,l,0)|0),Be=e[g>>2]|0,e[l>>2]=Ce,Pe=Fu(ue,l)|0,e[Pe>>2]=Be,Be=e[d>>2]|0,e[Be+-4>>2]=Vt,(Be|0)==(e[w>>2]|0)){pi(u,f);break}else{e[Be>>2]=e[f>>2],e[d>>2]=Be+4;break}while(0);(Je|0)==54&&(Je=0,$h(P,7),e[d>>2]=(e[d>>2]|0)+-4)}}else Je=11;while(0);(Je|0)==11&&(Je=0,e[d>>2]=Ee+-4),Ee=e[d>>2]|0}while((e[u>>2]|0)!=(Ee|0));return q=o,1}function yP(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=vi,ue=vi,Ee=vi,Pe=0,ge=0,Be=0,_e=0;if(l=q,q=q+64|0,f=l+40|0,h=l+16|0,u=l,g=M2(i,s)|0,g|0&&(e[h>>2]=g,e[f>>2]=e[h>>2],vm(i,f)|0),e[u>>2]=0,g=u+4|0,e[g>>2]=0,e[u+8>>2]=0,Oa(u,8),d=o,o=d,m=br[o>>0]|br[o+1>>0]<<8|br[o+2>>0]<<16|br[o+3>>0]<<24,o=d+4|0,d=br[o>>0]|br[o+1>>0]<<8|br[o+2>>0]<<16|br[o+3>>0]<<24,o=e[u>>2]|0,b=o,Y[b>>0]=m,Y[b+1>>0]=m>>8,Y[b+2>>0]=m>>16,Y[b+3>>0]=m>>24,m=o+4|0,Y[m>>0]=d,Y[m+1>>0]=d>>8,Y[m+2>>0]=d>>16,Y[m+3>>0]=d>>24,T0(h,s),s=h+12|0,e[s>>2]=0,d=h+16|0,e[d>>2]=0,e[h+20>>2]=0,m=e[g>>2]|0,o=e[u>>2]|0,b=m-o|0,b?(Oa(s,b),w=e[u>>2]|0,x=e[g>>2]|0,C=e[s>>2]|0):(w=o,x=m,C=0),Fi(C|0,w|0,x-w|0)|0,w=h+11|0,x=Y[w>>0]|0,C=x<<24>>24<0,s=C?e[h>>2]|0:h,b=C?e[h+4>>2]|0:x&255,b>>>0>3){for(x=s,C=b,m=b;o=_r(br[x>>0]|br[x+1>>0]<<8|br[x+2>>0]<<16|br[x+3>>0]<<24,1540483477)|0,C=(_r(o>>>24^o,1540483477)|0)^(_r(C,1540483477)|0),m=m+-4|0,!(m>>>0<=3);)x=x+4|0;x=b+-4|0,m=x&-4,S=x-m|0,D=s+(m+4)|0,I=C}else S=b,D=s,I=b;switch(S|0){case 3:{L=br[D+2>>0]<<16^I,P=10;break}case 2:{L=I,P=10;break}case 1:{N=I,P=11;break}default:X=I}(P|0)==10&&(N=br[D+1>>0]<<8^L,P=11),(P|0)==11&&(X=_r(N^br[D>>0],1540483477)|0),D=_r(X>>>13^X,1540483477)|0,X=D>>>15^D,D=i+4|0,N=e[D>>2]|0,L=(N|0)==0;e:do if(L)Q=0,P=52;else if(I=N+-1|0,S=(I&N|0)==0,S?j=X&I:X>>>0<N>>>0?j=X:j=(X>>>0)%(N>>>0)|0,C=e[(e[i>>2]|0)+(j<<2)>>2]|0,(C|0)!=0&&(m=e[C>>2]|0,(m|0)!=0)){if(C=(b|0)==0,S){if(C)for(S=m;;){if(x=e[S+4>>2]|0,!((x|0)==(X|0)|(x&I|0)==(j|0))){Q=j,P=52;break e}if(x=Y[S+8+11>>0]|0,!((x<<24>>24<0?e[S+12>>2]|0:x&255)|0))break e;if(S=e[S>>2]|0,!S){Q=j,P=52;break e}}else V=m;for(;;){if(S=e[V+4>>2]|0,!((S|0)==(X|0)|(S&I|0)==(j|0))){Q=j,P=52;break e}S=V+8|0,x=Y[S+11>>0]|0,o=x<<24>>24<0,G=x&255;do if(((o?e[V+12>>2]|0:G)|0)==(b|0)){if(x=e[S>>2]|0,o){if(vs(x,s,b)|0)break;break e}if((Y[s>>0]|0)==(x&255)<<24>>24){x=S,ee=G,J=s;do{if(ee=ee+-1|0,x=x+1|0,!ee)break e;J=J+1|0}while((Y[x>>0]|0)==(Y[J>>0]|0))}}while(0);if(V=e[V>>2]|0,!V){Q=j,P=52;break e}}}if(C)for(I=m;;){if(G=e[I+4>>2]|0,(G|0)!=(X|0)&&(G>>>0<N>>>0?O=G:O=(G>>>0)%(N>>>0)|0,(O|0)!=(j|0))){Q=j,P=52;break e}if(G=Y[I+8+11>>0]|0,!((G<<24>>24<0?e[I+12>>2]|0:G&255)|0))break e;if(I=e[I>>2]|0,!I){Q=j,P=52;break e}}else $=m;for(;;){if(I=e[$+4>>2]|0,(I|0)!=(X|0)&&(I>>>0<N>>>0?ie=I:ie=(I>>>0)%(N>>>0)|0,(ie|0)!=(j|0))){Q=j,P=52;break e}I=$+8|0,C=Y[I+11>>0]|0,G=C<<24>>24<0,S=C&255;do if(((G?e[$+12>>2]|0:S)|0)==(b|0)){if(C=e[I>>2]|0,G){if(vs(C,s,b)|0)break;break e}if((Y[s>>0]|0)==(C&255)<<24>>24){C=I,o=S,J=s;do{if(o=o+-1|0,C=C+1|0,!o)break e;J=J+1|0}while((Y[C>>0]|0)==(Y[J>>0]|0))}}while(0);if($=e[$>>2]|0,!$){Q=j,P=52;break}}}else Q=j,P=52;while(0);if((P|0)==52){X6(f,i,X,h),P=i+12|0,se=Zt(((e[P>>2]|0)+1|0)>>>0),ue=Zt(N>>>0),Ee=Zt(bi[i+16>>2]);do if(L|Zt(Ee*ue)<se){if(j=N<<1|(N>>>0<3|(N+-1&N|0)!=0)&1,$=~~Zt(yi(Zt(se/Ee)))>>>0,Sm(i,j>>>0<$>>>0?$:j),j=e[D>>2]|0,$=j+-1|0,!($&j)){Pe=j,ge=$&X;break}X>>>0<j>>>0?(Pe=j,ge=X):(Pe=j,ge=(X>>>0)%(j>>>0)|0)}else Pe=N,ge=Q;while(0);Q=e[(e[i>>2]|0)+(ge<<2)>>2]|0,Q?(e[e[f>>2]>>2]=e[Q>>2],e[Q>>2]=e[f>>2],Be=f):(N=i+8|0,e[e[f>>2]>>2]=e[N>>2],e[N>>2]=e[f>>2],e[(e[i>>2]|0)+(ge<<2)>>2]=N,N=e[f>>2]|0,ge=e[N>>2]|0,ge&&(X=e[ge+4>>2]|0,ge=Pe+-1|0,ge&Pe?X>>>0<Pe>>>0?_e=X:_e=(X>>>0)%(Pe>>>0)|0:_e=X&ge,e[(e[i>>2]|0)+(_e<<2)>>2]=N),Be=f),e[P>>2]=(e[P>>2]|0)+1,e[Be>>2]=0}if(Be=e[h+12>>2]|0,Be|0&&((e[d>>2]|0)!=(Be|0)&&(e[d>>2]=Be),Ae(Be)),(Y[w>>0]|0)<0&&Ae(e[h>>2]|0),h=e[u>>2]|0,!h){q=l;return}(e[g>>2]|0)!=(h|0)&&(e[g>>2]=h),Ae(h),q=l}function Py(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0,Wt=0,cr=0,mr=0,Gr=0,dr=0,Er=0,nr=0,Mr=0,Nr=0,ar=0,gr=0,or=0,tr=0,jr=0,Xr=0;l=q,q=q+96|0,f=l+92|0,h=l+88|0,u=l+72|0,g=l+48|0,d=l+24|0,m=l,b=i+16|0,w=e[b>>2]|0,x=e[s>>2]|0,e[u>>2]=w,e[u+4>>2]=x,s=u+8|0,e[s>>2]=x,Y[u+12>>0]=1,C=(x|0)==-1,C?S=-1:S=e[(e[w>>2]|0)+(x<<2)>>2]|0,w=i+20|0,D=e[w>>2]|0,I=e[D>>2]|0,(e[D+4>>2]|0)-I>>2>>>0<=S>>>0&&qe(),D=i+8|0,L=e[(e[D>>2]|0)+(e[I+(S<<2)>>2]<<2)>>2]|0,S=i+4|0,I=e[S>>2]|0,Y[I+84>>0]|0?P=L:P=e[(e[I+68>>2]|0)+(L<<2)>>2]|0,e[g>>2]=0,e[g+4>>2]=0,e[g+8>>2]=0,e[g+12>>2]=0,e[g+16>>2]=0,e[g+20>>2]=0,e[h>>2]=P,P=Y[I+24>>0]|0,e[f>>2]=e[h>>2],Nl(I,f,P,g)|0,P=i+28|0,i=(e[P>>2]|0)==0;e:do if(C)Gr=i,dr=0,Er=0,nr=0,Mr=0,Nr=0,ar=0;else{for(I=d+8|0,L=g+8|0,N=d+16|0,X=g+16|0,j=m+8|0,Q=m+16|0,V=x,G=x,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=i,Ee=x;;){do if(ue){if(Pe=Ee+1|0,(Ee|0)==-1){ge=V,Be=-1,_e=-1,Ce=-1;break}if(We=((Pe>>>0)%3|0|0)==0?Ee+-2|0:Pe,(V|0)!=-1)if((V>>>0)%3|0){lt=V,et=V+-1|0,Ve=We,He=V,st=19;break}else{lt=V,et=V+2|0,Ve=We,He=V,st=19;break}else lt=-1,et=-1,Ve=We,He=-1,st=19}else if(We=G+1|0,Pe=((We>>>0)%3|0|0)==0?G+-2|0:We,(G>>>0)%3|0){lt=V,et=G+-1|0,Ve=Pe,He=Ee,st=19;break}else{lt=V,et=G+2|0,Ve=Pe,He=Ee,st=19;break}while(0);if((st|0)==19&&(st=0,(Ve|0)==-1?(ge=lt,Be=-1,_e=et,Ce=He):(ge=lt,Be=e[(e[e[b>>2]>>2]|0)+(Ve<<2)>>2]|0,_e=et,Ce=He)),Je=e[w>>2]|0,Pe=e[Je>>2]|0,(e[Je+4>>2]|0)-Pe>>2>>>0<=Be>>>0){st=22;break}if(We=e[(e[D>>2]|0)+(e[Pe+(Be<<2)>>2]<<2)>>2]|0,Pe=e[S>>2]|0,Y[Pe+84>>0]|0?it=We:it=e[(e[Pe+68>>2]|0)+(We<<2)>>2]|0,e[d>>2]=0,e[d+4>>2]=0,e[d+8>>2]=0,e[d+12>>2]=0,e[d+16>>2]=0,e[d+20>>2]=0,e[h>>2]=it,We=Y[Pe+24>>0]|0,e[f>>2]=e[h>>2],Nl(Pe,f,We,d)|0,(_e|0)==-1?ze=-1:ze=e[(e[e[b>>2]>>2]|0)+(_e<<2)>>2]|0,Ge=e[w>>2]|0,We=e[Ge>>2]|0,(e[Ge+4>>2]|0)-We>>2>>>0<=ze>>>0){st=28;break}if(Pe=e[(e[D>>2]|0)+(e[We+(ze<<2)>>2]<<2)>>2]|0,We=e[S>>2]|0,Y[We+84>>0]|0?ke=Pe:ke=e[(e[We+68>>2]|0)+(Pe<<2)>>2]|0,e[m>>2]=0,e[m+4>>2]=0,e[m+8>>2]=0,e[m+12>>2]=0,e[m+16>>2]=0,e[m+20>>2]=0,e[h>>2]=ke,Pe=Y[We+24>>0]|0,e[f>>2]=e[h>>2],Nl(We,f,Pe,m)|0,Pe=d,We=g,ut=e[We>>2]|0,tt=e[We+4>>2]|0,We=Gi(e[Pe>>2]|0,e[Pe+4>>2]|0,ut|0,tt|0)|0,Pe=Ze,at=I,Mt=L,Pt=e[Mt>>2]|0,yt=e[Mt+4>>2]|0,Mt=Gi(e[at>>2]|0,e[at+4>>2]|0,Pt|0,yt|0)|0,at=Ze,Vt=N,Lt=X,At=e[Lt>>2]|0,_t=e[Lt+4>>2]|0,Lt=Gi(e[Vt>>2]|0,e[Vt+4>>2]|0,At|0,_t|0)|0,Vt=Ze,St=m,fr=Gi(e[St>>2]|0,e[St+4>>2]|0,ut|0,tt|0)|0,tt=Ze,ut=j,St=Gi(e[ut>>2]|0,e[ut+4>>2]|0,Pt|0,yt|0)|0,yt=Ze,Pt=Q,ut=Gi(e[Pt>>2]|0,e[Pt+4>>2]|0,At|0,_t|0)|0,_t=Ze,At=Wr(ut|0,_t|0,Mt|0,at|0)|0,Pt=Ze,Wt=Wr(St|0,yt|0,Lt|0,Vt|0)|0,cr=Ze,mr=Wr(fr|0,tt|0,Lt|0,Vt|0)|0,Vt=Ze,Lt=Wr(ut|0,_t|0,We|0,Pe|0)|0,_t=Ze,ut=Wr(St|0,yt|0,We|0,Pe|0)|0,Pe=Ze,We=Wr(fr|0,tt|0,Mt|0,at|0)|0,at=Ze,Mt=Gi(ee|0,J|0,Wt|0,cr|0)|0,cr=Qt(Mt|0,Ze|0,At|0,Pt|0)|0,Pt=Ze,At=Qt(mr|0,Vt|0,O|0,$|0)|0,Vt=Gi(At|0,Ze|0,Lt|0,_t|0)|0,_t=Ze,Lt=Gi(ie|0,se|0,We|0,at|0)|0,at=Qt(Lt|0,Ze|0,ut|0,Pe|0)|0,Pe=Ze,XI(u),G=e[s>>2]|0,ut=(e[P>>2]|0)==0,(G|0)==-1){Gr=ut,dr=Pt,Er=cr,nr=_t,Mr=Vt,Nr=Pe,ar=at;break e}else V=ge,ee=cr,J=Pt,O=Vt,$=_t,ie=at,se=Pe,ue=ut,Ee=Ce}((st|0)==22||(st|0)==28)&&qe()}while(0);if(i=(dr|0)>-1|(dr|0)==-1&Er>>>0>4294967295,Ge=Gi(0,0,Er|0,dr|0)|0,st=i?dr:Ze,Je=(nr|0)>-1|(nr|0)==-1&Mr>>>0>4294967295,Ce=Gi(0,0,Mr|0,nr|0)|0,ge=Je?nr:Ze,P=(Nr|0)>-1|(Nr|0)==-1&ar>>>0>4294967295,s=Gi(0,0,ar|0,Nr|0)|0,u=Qt((Je?Mr:Ce)|0,ge|0,(P?ar:s)|0,(P?Nr:Ze)|0)|0,P=Qt(u|0,Ze|0,(i?Er:Ge)|0,st|0)|0,st=Ze,Gr){if((P|0)<=536870912){gr=Er,or=Mr,tr=ar,e[o>>2]=gr,jr=o+4|0,e[jr>>2]=or,Xr=o+8|0,e[Xr>>2]=tr,q=l;return}Gr=s0(P|0,st|0,29)|0,Ge=Gr&7,Gr=m0(Er|0,dr|0,Ge|0,0)|0,i=m0(Mr|0,nr|0,Ge|0,0)|0,u=m0(ar|0,Nr|0,Ge|0,0)|0,gr=Gr,or=i,tr=u,e[o>>2]=gr,jr=o+4|0,e[jr>>2]=or,Xr=o+8|0,e[Xr>>2]=tr,q=l;return}else{if(!((st|0)>0|(st|0)==0&P>>>0>536870912)){gr=Er,or=Mr,tr=ar,e[o>>2]=gr,jr=o+4|0,e[jr>>2]=or,Xr=o+8|0,e[Xr>>2]=tr,q=l;return}u=s0(P|0,st|0,29)|0,st=Ze,P=m0(Er|0,dr|0,u|0,st|0)|0,dr=m0(Mr|0,nr|0,u|0,st|0)|0,nr=m0(ar|0,Nr|0,u|0,st|0)|0,gr=P,or=dr,tr=nr,e[o>>2]=gr,jr=o+4|0,e[jr>>2]=or,Xr=o+8|0,e[Xr>>2]=tr,q=l;return}}function vP(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=vi,Pe=vi,ge=vi,Be=0,_e=0,Ce=0,We=0;if(l=q,q=q+64|0,f=l+40|0,h=l+16|0,u=l,g=M2(i,s)|0,g|0&&(e[h>>2]=g,e[f>>2]=e[h>>2],vm(i,f)|0),e[u>>2]=0,g=u+4|0,e[g>>2]=0,e[u+8>>2]=0,d=o+11|0,m=Y[d>>0]|0,b=o+4|0,w=e[b>>2]|0,x=m<<24>>24<0?w:m&255,x?(Oa(u,x),C=Y[d>>0]|0,S=e[b>>2]|0,D=e[u>>2]|0):(C=m,S=w,D=0),b=C<<24>>24<0,Fi(D|0,(b?e[o>>2]|0:o)|0,(b?S:C&255)|0)|0,T0(h,s),s=h+12|0,e[s>>2]=0,C=h+16|0,e[C>>2]=0,e[h+20>>2]=0,S=e[g>>2]|0,b=e[u>>2]|0,o=S-b|0,o?(Oa(s,o),I=e[u>>2]|0,L=e[g>>2]|0,P=e[s>>2]|0):(I=b,L=S,P=0),Fi(P|0,I|0,L-I|0)|0,I=h+11|0,L=Y[I>>0]|0,P=L<<24>>24<0,s=P?e[h>>2]|0:h,o=P?e[h+4>>2]|0:L&255,o>>>0>3){for(L=s,P=o,S=o;b=_r(br[L>>0]|br[L+1>>0]<<8|br[L+2>>0]<<16|br[L+3>>0]<<24,1540483477)|0,P=(_r(b>>>24^b,1540483477)|0)^(_r(P,1540483477)|0),S=S+-4|0,!(S>>>0<=3);)L=L+4|0;L=o+-4|0,S=L&-4,N=L-S|0,X=s+(S+4)|0,j=P}else N=o,X=s,j=o;switch(N|0){case 3:{Q=br[X+2>>0]<<16^j,V=12;break}case 2:{Q=j,V=12;break}case 1:{G=j,V=13;break}default:ee=j}(V|0)==12&&(G=br[X+1>>0]<<8^Q,V=13),(V|0)==13&&(ee=_r(G^br[X>>0],1540483477)|0),X=_r(ee>>>13^ee,1540483477)|0,ee=X>>>15^X,X=i+4|0,G=e[X>>2]|0,Q=(G|0)==0;e:do if(Q)O=0,V=54;else if(j=G+-1|0,N=(j&G|0)==0,N?J=ee&j:ee>>>0<G>>>0?J=ee:J=(ee>>>0)%(G>>>0)|0,P=e[(e[i>>2]|0)+(J<<2)>>2]|0,(P|0)!=0&&(S=e[P>>2]|0,(S|0)!=0)){if(P=(o|0)==0,N){if(P)for(N=S;;){if(L=e[N+4>>2]|0,!((L|0)==(ee|0)|(L&j|0)==(J|0))){O=J,V=54;break e}if(L=Y[N+8+11>>0]|0,!((L<<24>>24<0?e[N+12>>2]|0:L&255)|0))break e;if(N=e[N>>2]|0,!N){O=J,V=54;break e}}else $=S;for(;;){if(N=e[$+4>>2]|0,!((N|0)==(ee|0)|(N&j|0)==(J|0))){O=J,V=54;break e}N=$+8|0,L=Y[N+11>>0]|0,b=L<<24>>24<0,D=L&255;do if(((b?e[$+12>>2]|0:D)|0)==(o|0)){if(L=e[N>>2]|0,b){if(vs(L,s,o)|0)break;break e}if((Y[s>>0]|0)==(L&255)<<24>>24){L=N,d=D,x=s;do{if(d=d+-1|0,L=L+1|0,!d)break e;x=x+1|0}while((Y[L>>0]|0)==(Y[x>>0]|0))}}while(0);if($=e[$>>2]|0,!$){O=J,V=54;break e}}}if(P)for(j=S;;){if(D=e[j+4>>2]|0,(D|0)!=(ee|0)&&(D>>>0<G>>>0?ie=D:ie=(D>>>0)%(G>>>0)|0,(ie|0)!=(J|0))){O=J,V=54;break e}if(D=Y[j+8+11>>0]|0,!((D<<24>>24<0?e[j+12>>2]|0:D&255)|0))break e;if(j=e[j>>2]|0,!j){O=J,V=54;break e}}else se=S;for(;;){if(j=e[se+4>>2]|0,(j|0)!=(ee|0)&&(j>>>0<G>>>0?ue=j:ue=(j>>>0)%(G>>>0)|0,(ue|0)!=(J|0))){O=J,V=54;break e}j=se+8|0,P=Y[j+11>>0]|0,D=P<<24>>24<0,N=P&255;do if(((D?e[se+12>>2]|0:N)|0)==(o|0)){if(P=e[j>>2]|0,D){if(vs(P,s,o)|0)break;break e}if((Y[s>>0]|0)==(P&255)<<24>>24){P=j,b=N,x=s;do{if(b=b+-1|0,P=P+1|0,!b)break e;x=x+1|0}while((Y[P>>0]|0)==(Y[x>>0]|0))}}while(0);if(se=e[se>>2]|0,!se){O=J,V=54;break}}}else O=J,V=54;while(0);if((V|0)==54){X6(f,i,ee,h),V=i+12|0,Ee=Zt(((e[V>>2]|0)+1|0)>>>0),Pe=Zt(G>>>0),ge=Zt(bi[i+16>>2]);do if(Q|Zt(ge*Pe)<Ee){if(J=G<<1|(G>>>0<3|(G+-1&G|0)!=0)&1,se=~~Zt(yi(Zt(Ee/ge)))>>>0,Sm(i,J>>>0<se>>>0?se:J),J=e[X>>2]|0,se=J+-1|0,!(se&J)){Be=J,_e=se&ee;break}ee>>>0<J>>>0?(Be=J,_e=ee):(Be=J,_e=(ee>>>0)%(J>>>0)|0)}else Be=G,_e=O;while(0);O=e[(e[i>>2]|0)+(_e<<2)>>2]|0,O?(e[e[f>>2]>>2]=e[O>>2],e[O>>2]=e[f>>2],Ce=f):(G=i+8|0,e[e[f>>2]>>2]=e[G>>2],e[G>>2]=e[f>>2],e[(e[i>>2]|0)+(_e<<2)>>2]=G,G=e[f>>2]|0,_e=e[G>>2]|0,_e&&(ee=e[_e+4>>2]|0,_e=Be+-1|0,_e&Be?ee>>>0<Be>>>0?We=ee:We=(ee>>>0)%(Be>>>0)|0:We=ee&_e,e[(e[i>>2]|0)+(We<<2)>>2]=G),Ce=f),e[V>>2]=(e[V>>2]|0)+1,e[Ce>>2]=0}if(Ce=e[h+12>>2]|0,Ce|0&&((e[C>>2]|0)!=(Ce|0)&&(e[C>>2]=Ce),Ae(Ce)),(Y[I>>0]|0)<0&&Ae(e[h>>2]|0),h=e[u>>2]|0,!h){q=l;return}(e[g>>2]|0)!=(h|0)&&(e[g>>2]=h),Ae(h),q=l}function sk(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=vi,tt=vi,at=vi,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0;if(l=q,q=q+48|0,f=l+12|0,h=l+32|0,u=l,g=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,bi[g>>2]=Zt(1),d=i+80|0,m=e[d>>2]|0,e[u>>2]=0,b=u+4|0,e[b>>2]=0,e[u+8>>2]=0,m){for(m>>>0>1073741823&&qe(),w=m<<2,x=It(w)|0,e[u>>2]=x,C=x+(m<<2)|0,e[u+8>>2]=C,Tr(x|0,0,w|0)|0,e[b>>2]=C,C=s+48|0,w=s+40|0,m=f+4|0,S=f+12|0,D=f+8|0,I=i+40|0,L=i+64|0,P=e[o>>2]|0,o=0,N=x,X=0,j=0,Q=x,V=x,G=x;;){x=C,ee=e[x>>2]|0,J=e[x+4>>2]|0,x=w,O=Wr(e[x>>2]|0,e[x+4>>2]|0,P+X|0,0)|0,x=Qt(O|0,Ze|0,ee|0,J|0)|0,J=(e[e[s>>2]>>2]|0)+x|0,x=br[J>>0]|br[J+1>>0]<<8,Or[h>>1]=x,J=(x^318)&65535;e:do if(o){ee=o+-1|0,O=(ee&o|0)==0,O?$=ee&J:o>>>0>J>>>0?$=J:$=(J>>>0)%(o>>>0)|0,ie=e[f>>2]|0,se=e[ie+($<<2)>>2]|0;t:do if(se|0&&(ue=e[se>>2]|0,ue|0)){r:do if(O)for(Ee=ue;;){if(Pe=e[Ee+4>>2]|0,ge=(Pe|0)==(J|0),!(ge|(Pe&ee|0)==($|0)))break t;if(ge&&(Or[Ee+8>>1]|0)==x<<16>>16){Be=Ee;break r}if(Ee=e[Ee>>2]|0,!Ee)break t}else for(Ee=ue;;){if(ge=e[Ee+4>>2]|0,(ge|0)==(J|0)){if((Or[Ee+8>>1]|0)==x<<16>>16){Be=Ee;break r}}else if(ge>>>0<o>>>0?_e=ge:_e=(ge>>>0)%(o>>>0)|0,(_e|0)!=($|0))break t;if(Ee=e[Ee>>2]|0,!Ee)break t}while(0);e[G+(X<<2)>>2]=e[Be+12>>2],Ce=N,We=j,lt=V,et=Q,Ve=G;break e}while(0);if(O?He=ee&J:o>>>0>J>>>0?He=J:He=(J>>>0)%(o>>>0)|0,se=e[ie+(He<<2)>>2]|0,!se)st=He,Je=o,it=0,ze=40;else{if(O)for(ue=se;;){if(ue=e[ue>>2]|0,!ue){st=He,Je=o,it=0,ze=40;break e}if(Ee=e[ue+4>>2]|0,!((Ee|0)==(J|0)|(Ee&ee|0)==(He|0))){st=He,Je=o,it=0,ze=40;break e}if((Or[ue+8>>1]|0)==x<<16>>16){ze=55;break e}}else Ge=se;for(;;){if(Ge=e[Ge>>2]|0,!Ge){st=He,Je=o,it=0,ze=40;break e}if(ue=e[Ge+4>>2]|0,(ue|0)!=(J|0)&&(ue>>>0<o>>>0?ke=ue:ke=(ue>>>0)%(o>>>0)|0,(ke|0)!=(He|0))){st=He,Je=o,it=0,ze=40;break e}if((Or[Ge+8>>1]|0)==x<<16>>16){ze=55;break}}}}else st=0,Je=0,it=1,ze=40;while(0);if((ze|0)==40){ze=0,se=It(16)|0,Or[se+8>>1]=x,e[se+12>>2]=j,e[se+4>>2]=J,e[se>>2]=0,ut=Zt(((e[S>>2]|0)+1|0)>>>0),tt=Zt(Je>>>0),at=Zt(bi[g>>2]);do if(it|Zt(at*tt)<ut){if(ue=Je<<1|(Je>>>0<3|(Je+-1&Je|0)!=0)&1,ee=~~Zt(yi(Zt(ut/at)))>>>0,rL(f,ue>>>0<ee>>>0?ee:ue),ue=e[m>>2]|0,ee=ue+-1|0,!(ee&ue)){Mt=ue,Pt=ee&J;break}ue>>>0>J>>>0?(Mt=ue,Pt=J):(Mt=ue,Pt=(J>>>0)%(ue>>>0)|0)}else Mt=Je,Pt=st;while(0);J=(e[f>>2]|0)+(Pt<<2)|0,x=e[J>>2]|0,x?(e[se>>2]=e[x>>2],Vt=x,ze=53):(e[se>>2]=e[D>>2],e[D>>2]=se,e[J>>2]=D,J=e[se>>2]|0,J|0&&(ue=e[J+4>>2]|0,J=Mt+-1|0,J&Mt?ue>>>0<Mt>>>0?yt=ue:yt=(ue>>>0)%(Mt>>>0)|0:yt=ue&J,Vt=(e[f>>2]|0)+(yt<<2)|0,ze=53)),(ze|0)==53&&(ze=0,e[Vt>>2]=se),e[S>>2]=(e[S>>2]|0)+1,ze=55}if((ze|0)==55&&(ze=0,x=I,J=e[x>>2]|0,ue=Wr(J|0,e[x+4>>2]|0,j|0,0)|0,Fi((e[e[L>>2]>>2]|0)+ue|0,h|0,J|0)|0,J=e[u>>2]|0,e[J+(X<<2)>>2]=j,Ce=J,We=j+1|0,lt=J,et=J,Ve=J),J=X+1|0,Lt=e[d>>2]|0,J>>>0>=Lt>>>0)break;o=e[m>>2]|0,N=Ce,X=J,j=We,Q=et,V=lt,G=Ve}if((We|0)==(Lt|0))At=et;else{if(et=i+84|0,Y[et>>0]|0)if(Y[et>>0]=0,et=i+68|0,Ce=i+72|0,Q=e[Ce>>2]|0,G=e[et>>2]|0,lt=Q-G>>2,V=G,G=Q,Lt>>>0<=lt>>>0?(Lt>>>0<lt>>>0&&(Q=V+(Lt<<2)|0,(Q|0)!=(G|0))&&(e[Ce>>2]=G+(~((G+-4-Q|0)>>>2)<<2)),St=Lt):(W0(et,Lt-lt|0,1204),St=e[d>>2]|0),lt=e[u>>2]|0,!St)_t=lt;else{u=e[i+68>>2]|0,i=0;do e[u+(i<<2)>>2]=e[lt+(i<<2)>>2],i=i+1|0;while(i>>>0<St>>>0);_t=lt}else if(Ve=e[i+72>>2]|0,G=e[i+68>>2]|0,V=G,(Ve|0)==(G|0))_t=Ce;else{Q=Ve-G>>2,G=0;do Ve=V+(G<<2)|0,e[Ve>>2]=e[lt+(e[Ve>>2]<<2)>>2],G=G+1|0;while(G>>>0<Q>>>0);_t=Ce}e[d>>2]=We,At=_t}At&&(_t=e[b>>2]|0,(_t|0)!=(At|0)&&(e[b>>2]=_t+(~((_t+-4-At|0)>>>2)<<2)),Ae(At)),fr=We}else fr=0;if(We=e[f+8>>2]|0,We|0){At=We;do We=At,At=e[At>>2]|0,Ae(We);while((At|0)!=0)}return At=e[f>>2]|0,e[f>>2]=0,At?(Ae(At),q=l,fr|0):(q=l,fr|0)}function wP(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=vi,ue=vi,Ee=vi,Pe=0,ge=0,Be=0,_e=0;if(l=q,q=q+64|0,f=l+40|0,h=l+16|0,u=l,g=M2(i,s)|0,g|0&&(e[h>>2]=g,e[f>>2]=e[h>>2],vm(i,f)|0),e[u>>2]=0,g=u+4|0,e[g>>2]=0,e[u+8>>2]=0,Oa(u,4),d=e[u>>2]|0,m=br[o>>0]|br[o+1>>0]<<8|br[o+2>>0]<<16|br[o+3>>0]<<24,Y[d>>0]=m,Y[d+1>>0]=m>>8,Y[d+2>>0]=m>>16,Y[d+3>>0]=m>>24,T0(h,s),s=h+12|0,e[s>>2]=0,m=h+16|0,e[m>>2]=0,e[h+20>>2]=0,d=e[g>>2]|0,o=e[u>>2]|0,b=d-o|0,b?(Oa(s,b),w=e[u>>2]|0,x=e[g>>2]|0,C=e[s>>2]|0):(w=o,x=d,C=0),Fi(C|0,w|0,x-w|0)|0,w=h+11|0,x=Y[w>>0]|0,C=x<<24>>24<0,s=C?e[h>>2]|0:h,b=C?e[h+4>>2]|0:x&255,b>>>0>3){for(x=s,C=b,d=b;o=_r(br[x>>0]|br[x+1>>0]<<8|br[x+2>>0]<<16|br[x+3>>0]<<24,1540483477)|0,C=(_r(o>>>24^o,1540483477)|0)^(_r(C,1540483477)|0),d=d+-4|0,!(d>>>0<=3);)x=x+4|0;x=b+-4|0,d=x&-4,S=x-d|0,D=s+(d+4)|0,I=C}else S=b,D=s,I=b;switch(S|0){case 3:{L=br[D+2>>0]<<16^I,P=10;break}case 2:{L=I,P=10;break}case 1:{N=I,P=11;break}default:X=I}(P|0)==10&&(N=br[D+1>>0]<<8^L,P=11),(P|0)==11&&(X=_r(N^br[D>>0],1540483477)|0),D=_r(X>>>13^X,1540483477)|0,X=D>>>15^D,D=i+4|0,N=e[D>>2]|0,L=(N|0)==0;e:do if(L)Q=0,P=52;else if(I=N+-1|0,S=(I&N|0)==0,S?j=X&I:X>>>0<N>>>0?j=X:j=(X>>>0)%(N>>>0)|0,C=e[(e[i>>2]|0)+(j<<2)>>2]|0,(C|0)!=0&&(d=e[C>>2]|0,(d|0)!=0)){if(C=(b|0)==0,S){if(C)for(S=d;;){if(x=e[S+4>>2]|0,!((x|0)==(X|0)|(x&I|0)==(j|0))){Q=j,P=52;break e}if(x=Y[S+8+11>>0]|0,!((x<<24>>24<0?e[S+12>>2]|0:x&255)|0))break e;if(S=e[S>>2]|0,!S){Q=j,P=52;break e}}else V=d;for(;;){if(S=e[V+4>>2]|0,!((S|0)==(X|0)|(S&I|0)==(j|0))){Q=j,P=52;break e}S=V+8|0,x=Y[S+11>>0]|0,o=x<<24>>24<0,G=x&255;do if(((o?e[V+12>>2]|0:G)|0)==(b|0)){if(x=e[S>>2]|0,o){if(vs(x,s,b)|0)break;break e}if((Y[s>>0]|0)==(x&255)<<24>>24){x=S,ee=G,J=s;do{if(ee=ee+-1|0,x=x+1|0,!ee)break e;J=J+1|0}while((Y[x>>0]|0)==(Y[J>>0]|0))}}while(0);if(V=e[V>>2]|0,!V){Q=j,P=52;break e}}}if(C)for(I=d;;){if(G=e[I+4>>2]|0,(G|0)!=(X|0)&&(G>>>0<N>>>0?O=G:O=(G>>>0)%(N>>>0)|0,(O|0)!=(j|0))){Q=j,P=52;break e}if(G=Y[I+8+11>>0]|0,!((G<<24>>24<0?e[I+12>>2]|0:G&255)|0))break e;if(I=e[I>>2]|0,!I){Q=j,P=52;break e}}else $=d;for(;;){if(I=e[$+4>>2]|0,(I|0)!=(X|0)&&(I>>>0<N>>>0?ie=I:ie=(I>>>0)%(N>>>0)|0,(ie|0)!=(j|0))){Q=j,P=52;break e}I=$+8|0,C=Y[I+11>>0]|0,G=C<<24>>24<0,S=C&255;do if(((G?e[$+12>>2]|0:S)|0)==(b|0)){if(C=e[I>>2]|0,G){if(vs(C,s,b)|0)break;break e}if((Y[s>>0]|0)==(C&255)<<24>>24){C=I,o=S,J=s;do{if(o=o+-1|0,C=C+1|0,!o)break e;J=J+1|0}while((Y[C>>0]|0)==(Y[J>>0]|0))}}while(0);if($=e[$>>2]|0,!$){Q=j,P=52;break}}}else Q=j,P=52;while(0);if((P|0)==52){X6(f,i,X,h),P=i+12|0,se=Zt(((e[P>>2]|0)+1|0)>>>0),ue=Zt(N>>>0),Ee=Zt(bi[i+16>>2]);do if(L|Zt(Ee*ue)<se){if(j=N<<1|(N>>>0<3|(N+-1&N|0)!=0)&1,$=~~Zt(yi(Zt(se/Ee)))>>>0,Sm(i,j>>>0<$>>>0?$:j),j=e[D>>2]|0,$=j+-1|0,!($&j)){Pe=j,ge=$&X;break}X>>>0<j>>>0?(Pe=j,ge=X):(Pe=j,ge=(X>>>0)%(j>>>0)|0)}else Pe=N,ge=Q;while(0);Q=e[(e[i>>2]|0)+(ge<<2)>>2]|0,Q?(e[e[f>>2]>>2]=e[Q>>2],e[Q>>2]=e[f>>2],Be=f):(N=i+8|0,e[e[f>>2]>>2]=e[N>>2],e[N>>2]=e[f>>2],e[(e[i>>2]|0)+(ge<<2)>>2]=N,N=e[f>>2]|0,ge=e[N>>2]|0,ge&&(X=e[ge+4>>2]|0,ge=Pe+-1|0,ge&Pe?X>>>0<Pe>>>0?_e=X:_e=(X>>>0)%(Pe>>>0)|0:_e=X&ge,e[(e[i>>2]|0)+(_e<<2)>>2]=N),Be=f),e[P>>2]=(e[P>>2]|0)+1,e[Be>>2]=0}if(Be=e[h+12>>2]|0,Be|0&&((e[m>>2]|0)!=(Be|0)&&(e[m>>2]=Be),Ae(Be)),(Y[w>>0]|0)<0&&Ae(e[h>>2]|0),h=e[u>>2]|0,!h){q=l;return}(e[g>>2]|0)!=(h|0)&&(e[g>>2]=h),Ae(h),q=l}function ok(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=vi,tt=vi,at=vi,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0;if(l=q,q=q+48|0,f=l+12|0,h=l+32|0,u=l,g=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,bi[g>>2]=Zt(1),d=i+80|0,m=e[d>>2]|0,e[u>>2]=0,b=u+4|0,e[b>>2]=0,e[u+8>>2]=0,m){for(m>>>0>1073741823&&qe(),w=m<<2,x=It(w)|0,e[u>>2]=x,C=x+(m<<2)|0,e[u+8>>2]=C,Tr(x|0,0,w|0)|0,e[b>>2]=C,C=s+48|0,w=s+40|0,m=f+4|0,S=f+12|0,D=f+8|0,I=i+40|0,L=i+64|0,P=e[o>>2]|0,o=0,N=x,X=0,j=0,Q=x,V=x,G=x;;){x=C,ee=e[x>>2]|0,J=e[x+4>>2]|0,x=w,O=Wr(e[x>>2]|0,e[x+4>>2]|0,P+X|0,0)|0,x=Qt(O|0,Ze|0,ee|0,J|0)|0,J=Y[(e[e[s>>2]>>2]|0)+x>>0]|0,Y[h>>0]=J,x=J&255^318;e:do if(o){ee=o+-1|0,O=(ee&o|0)==0,O?$=ee&x:x>>>0<o>>>0?$=x:$=(x>>>0)%(o>>>0)|0,ie=e[f>>2]|0,se=e[ie+($<<2)>>2]|0;t:do if(se|0&&(ue=e[se>>2]|0,ue|0)){r:do if(O)for(Ee=ue;;){if(Pe=e[Ee+4>>2]|0,ge=(Pe|0)==(x|0),!(ge|(Pe&ee|0)==($|0)))break t;if(ge&&(Y[Ee+8>>0]|0)==J<<24>>24){Be=Ee;break r}if(Ee=e[Ee>>2]|0,!Ee)break t}else for(Ee=ue;;){if(ge=e[Ee+4>>2]|0,(ge|0)==(x|0)){if((Y[Ee+8>>0]|0)==J<<24>>24){Be=Ee;break r}}else if(ge>>>0<o>>>0?_e=ge:_e=(ge>>>0)%(o>>>0)|0,(_e|0)!=($|0))break t;if(Ee=e[Ee>>2]|0,!Ee)break t}while(0);e[G+(X<<2)>>2]=e[Be+12>>2],Ce=N,We=j,lt=V,et=Q,Ve=G;break e}while(0);if(O?He=ee&x:x>>>0<o>>>0?He=x:He=(x>>>0)%(o>>>0)|0,se=e[ie+(He<<2)>>2]|0,!se)st=He,Je=o,it=0,ze=40;else{if(O)for(ue=se;;){if(ue=e[ue>>2]|0,!ue){st=He,Je=o,it=0,ze=40;break e}if(Ee=e[ue+4>>2]|0,!((Ee|0)==(x|0)|(Ee&ee|0)==(He|0))){st=He,Je=o,it=0,ze=40;break e}if((Y[ue+8>>0]|0)==J<<24>>24){ze=55;break e}}else Ge=se;for(;;){if(Ge=e[Ge>>2]|0,!Ge){st=He,Je=o,it=0,ze=40;break e}if(ue=e[Ge+4>>2]|0,(ue|0)!=(x|0)&&(ue>>>0<o>>>0?ke=ue:ke=(ue>>>0)%(o>>>0)|0,(ke|0)!=(He|0))){st=He,Je=o,it=0,ze=40;break e}if((Y[Ge+8>>0]|0)==J<<24>>24){ze=55;break}}}}else st=0,Je=0,it=1,ze=40;while(0);if((ze|0)==40){ze=0,se=It(16)|0,Y[se+8>>0]=J,e[se+12>>2]=j,e[se+4>>2]=x,e[se>>2]=0,ut=Zt(((e[S>>2]|0)+1|0)>>>0),tt=Zt(Je>>>0),at=Zt(bi[g>>2]);do if(it|Zt(at*tt)<ut){if(ue=Je<<1|(Je>>>0<3|(Je+-1&Je|0)!=0)&1,ee=~~Zt(yi(Zt(ut/at)))>>>0,fL(f,ue>>>0<ee>>>0?ee:ue),ue=e[m>>2]|0,ee=ue+-1|0,!(ee&ue)){Mt=ue,Pt=ee&x;break}x>>>0<ue>>>0?(Mt=ue,Pt=x):(Mt=ue,Pt=(x>>>0)%(ue>>>0)|0)}else Mt=Je,Pt=st;while(0);x=(e[f>>2]|0)+(Pt<<2)|0,J=e[x>>2]|0,J?(e[se>>2]=e[J>>2],Vt=J,ze=53):(e[se>>2]=e[D>>2],e[D>>2]=se,e[x>>2]=D,x=e[se>>2]|0,x|0&&(ue=e[x+4>>2]|0,x=Mt+-1|0,x&Mt?ue>>>0<Mt>>>0?yt=ue:yt=(ue>>>0)%(Mt>>>0)|0:yt=ue&x,Vt=(e[f>>2]|0)+(yt<<2)|0,ze=53)),(ze|0)==53&&(ze=0,e[Vt>>2]=se),e[S>>2]=(e[S>>2]|0)+1,ze=55}if((ze|0)==55&&(ze=0,J=I,x=e[J>>2]|0,ue=Wr(x|0,e[J+4>>2]|0,j|0,0)|0,Fi((e[e[L>>2]>>2]|0)+ue|0,h|0,x|0)|0,x=e[u>>2]|0,e[x+(X<<2)>>2]=j,Ce=x,We=j+1|0,lt=x,et=x,Ve=x),x=X+1|0,Lt=e[d>>2]|0,x>>>0>=Lt>>>0)break;o=e[m>>2]|0,N=Ce,X=x,j=We,Q=et,V=lt,G=Ve}if((We|0)==(Lt|0))At=et;else{if(et=i+84|0,Y[et>>0]|0)if(Y[et>>0]=0,et=i+68|0,Ce=i+72|0,Q=e[Ce>>2]|0,G=e[et>>2]|0,lt=Q-G>>2,V=G,G=Q,Lt>>>0<=lt>>>0?(Lt>>>0<lt>>>0&&(Q=V+(Lt<<2)|0,(Q|0)!=(G|0))&&(e[Ce>>2]=G+(~((G+-4-Q|0)>>>2)<<2)),St=Lt):(W0(et,Lt-lt|0,1204),St=e[d>>2]|0),lt=e[u>>2]|0,!St)_t=lt;else{u=e[i+68>>2]|0,i=0;do e[u+(i<<2)>>2]=e[lt+(i<<2)>>2],i=i+1|0;while(i>>>0<St>>>0);_t=lt}else if(Ve=e[i+72>>2]|0,G=e[i+68>>2]|0,V=G,(Ve|0)==(G|0))_t=Ce;else{Q=Ve-G>>2,G=0;do Ve=V+(G<<2)|0,e[Ve>>2]=e[lt+(e[Ve>>2]<<2)>>2],G=G+1|0;while(G>>>0<Q>>>0);_t=Ce}e[d>>2]=We,At=_t}At&&(_t=e[b>>2]|0,(_t|0)!=(At|0)&&(e[b>>2]=_t+(~((_t+-4-At|0)>>>2)<<2)),Ae(At)),fr=We}else fr=0;if(We=e[f+8>>2]|0,We|0){At=We;do We=At,At=e[At>>2]|0,Ae(We);while((At|0)!=0)}return At=e[f>>2]|0,e[f>>2]=0,At?(Ae(At),q=l,fr|0):(q=l,fr|0)}function E3(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=vi,tt=vi,at=vi,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0;if(l=q,q=q+48|0,f=l+16|0,h=l+12|0,u=l,g=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,bi[g>>2]=Zt(1),d=i+80|0,m=e[d>>2]|0,e[u>>2]=0,b=u+4|0,e[b>>2]=0,e[u+8>>2]=0,m){for(m>>>0>1073741823&&qe(),w=m<<2,x=It(w)|0,e[u>>2]=x,C=x+(m<<2)|0,e[u+8>>2]=C,Tr(x|0,0,w|0)|0,e[b>>2]=C,C=s+48|0,w=s+40|0,m=f+4|0,S=f+12|0,D=f+8|0,I=i+40|0,L=i+64|0,P=e[o>>2]|0,o=0,N=x,X=0,j=0,Q=x,V=x,G=x;;){x=C,ee=e[x>>2]|0,J=e[x+4>>2]|0,x=w,O=Wr(e[x>>2]|0,e[x+4>>2]|0,P+X|0,0)|0,x=Qt(O|0,Ze|0,ee|0,J|0)|0,J=(e[e[s>>2]>>2]|0)+x|0,x=br[J>>0]|br[J+1>>0]<<8|br[J+2>>0]<<16|br[J+3>>0]<<24,e[h>>2]=x,J=x^318;e:do if(o){ee=o+-1|0,O=(ee&o|0)==0,O?$=ee&J:J>>>0<o>>>0?$=J:$=(J>>>0)%(o>>>0)|0,ie=e[f>>2]|0,se=e[ie+($<<2)>>2]|0;t:do if(se|0&&(ue=e[se>>2]|0,ue|0)){r:do if(O)for(Ee=ue;;){if(Pe=e[Ee+4>>2]|0,ge=(Pe|0)==(J|0),!(ge|(Pe&ee|0)==($|0)))break t;if(ge&&(e[Ee+8>>2]|0)==(x|0)){Be=Ee;break r}if(Ee=e[Ee>>2]|0,!Ee)break t}else for(Ee=ue;;){if(ge=e[Ee+4>>2]|0,(ge|0)==(J|0)){if((e[Ee+8>>2]|0)==(x|0)){Be=Ee;break r}}else if(ge>>>0<o>>>0?_e=ge:_e=(ge>>>0)%(o>>>0)|0,(_e|0)!=($|0))break t;if(Ee=e[Ee>>2]|0,!Ee)break t}while(0);e[G+(X<<2)>>2]=e[Be+12>>2],Ce=N,We=j,lt=V,et=Q,Ve=G;break e}while(0);if(O?He=ee&J:J>>>0<o>>>0?He=J:He=(J>>>0)%(o>>>0)|0,se=e[ie+(He<<2)>>2]|0,!se)st=He,Je=o,it=0,ze=40;else{if(O)for(ue=se;;){if(ue=e[ue>>2]|0,!ue){st=He,Je=o,it=0,ze=40;break e}if(Ee=e[ue+4>>2]|0,!((Ee|0)==(J|0)|(Ee&ee|0)==(He|0))){st=He,Je=o,it=0,ze=40;break e}if((e[ue+8>>2]|0)==(x|0)){ze=55;break e}}else Ge=se;for(;;){if(Ge=e[Ge>>2]|0,!Ge){st=He,Je=o,it=0,ze=40;break e}if(ue=e[Ge+4>>2]|0,(ue|0)!=(J|0)&&(ue>>>0<o>>>0?ke=ue:ke=(ue>>>0)%(o>>>0)|0,(ke|0)!=(He|0))){st=He,Je=o,it=0,ze=40;break e}if((e[Ge+8>>2]|0)==(x|0)){ze=55;break}}}}else st=0,Je=0,it=1,ze=40;while(0);if((ze|0)==40){ze=0,se=It(16)|0,e[se+8>>2]=x,e[se+12>>2]=j,e[se+4>>2]=J,e[se>>2]=0,ut=Zt(((e[S>>2]|0)+1|0)>>>0),tt=Zt(Je>>>0),at=Zt(bi[g>>2]);do if(it|Zt(at*tt)<ut){if(ue=Je<<1|(Je>>>0<3|(Je+-1&Je|0)!=0)&1,ee=~~Zt(yi(Zt(ut/at)))>>>0,F_(f,ue>>>0<ee>>>0?ee:ue),ue=e[m>>2]|0,ee=ue+-1|0,!(ee&ue)){Mt=ue,Pt=ee&J;break}J>>>0<ue>>>0?(Mt=ue,Pt=J):(Mt=ue,Pt=(J>>>0)%(ue>>>0)|0)}else Mt=Je,Pt=st;while(0);J=(e[f>>2]|0)+(Pt<<2)|0,x=e[J>>2]|0,x?(e[se>>2]=e[x>>2],Vt=x,ze=53):(e[se>>2]=e[D>>2],e[D>>2]=se,e[J>>2]=D,J=e[se>>2]|0,J|0&&(ue=e[J+4>>2]|0,J=Mt+-1|0,J&Mt?ue>>>0<Mt>>>0?yt=ue:yt=(ue>>>0)%(Mt>>>0)|0:yt=ue&J,Vt=(e[f>>2]|0)+(yt<<2)|0,ze=53)),(ze|0)==53&&(ze=0,e[Vt>>2]=se),e[S>>2]=(e[S>>2]|0)+1,ze=55}if((ze|0)==55&&(ze=0,x=I,J=e[x>>2]|0,ue=Wr(J|0,e[x+4>>2]|0,j|0,0)|0,Fi((e[e[L>>2]>>2]|0)+ue|0,h|0,J|0)|0,J=e[u>>2]|0,e[J+(X<<2)>>2]=j,Ce=J,We=j+1|0,lt=J,et=J,Ve=J),J=X+1|0,Lt=e[d>>2]|0,J>>>0>=Lt>>>0)break;o=e[m>>2]|0,N=Ce,X=J,j=We,Q=et,V=lt,G=Ve}if((We|0)==(Lt|0))At=et;else{if(et=i+84|0,Y[et>>0]|0)if(Y[et>>0]=0,et=i+68|0,Ce=i+72|0,Q=e[Ce>>2]|0,G=e[et>>2]|0,lt=Q-G>>2,V=G,G=Q,Lt>>>0<=lt>>>0?(Lt>>>0<lt>>>0&&(Q=V+(Lt<<2)|0,(Q|0)!=(G|0))&&(e[Ce>>2]=G+(~((G+-4-Q|0)>>>2)<<2)),St=Lt):(W0(et,Lt-lt|0,1204),St=e[d>>2]|0),lt=e[u>>2]|0,!St)_t=lt;else{u=e[i+68>>2]|0,i=0;do e[u+(i<<2)>>2]=e[lt+(i<<2)>>2],i=i+1|0;while(i>>>0<St>>>0);_t=lt}else if(Ve=e[i+72>>2]|0,G=e[i+68>>2]|0,V=G,(Ve|0)==(G|0))_t=Ce;else{Q=Ve-G>>2,G=0;do Ve=V+(G<<2)|0,e[Ve>>2]=e[lt+(e[Ve>>2]<<2)>>2],G=G+1|0;while(G>>>0<Q>>>0);_t=Ce}e[d>>2]=We,At=_t}At&&(_t=e[b>>2]|0,(_t|0)!=(At|0)&&(e[b>>2]=_t+(~((_t+-4-At|0)>>>2)<<2)),Ae(At)),fr=We}else fr=0;if(We=e[f+8>>2]|0,We|0){At=We;do We=At,At=e[At>>2]|0,Ae(We);while((At|0)!=0)}return At=e[f>>2]|0,e[f>>2]=0,At?(Ae(At),q=l,fr|0):(q=l,fr|0)}function Ny(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0,Wt=0,cr=0,mr=0,Gr=0,dr=0,Er=0,nr=0,Mr=0,Nr=0;l=q,q=q+96|0,f=l+92|0,h=l+88|0,u=l+72|0,g=l+48|0,d=l+24|0,m=l,b=i+16|0,w=e[b>>2]|0,x=e[s>>2]|0,e[u>>2]=w,e[u+4>>2]=x,s=u+8|0,e[s>>2]=x,Y[u+12>>0]=1,C=e[(e[w+28>>2]|0)+(x<<2)>>2]|0,w=i+20|0,S=e[w>>2]|0,D=e[S>>2]|0,(e[S+4>>2]|0)-D>>2>>>0<=C>>>0&&qe(),S=i+8|0,I=e[(e[S>>2]|0)+(e[D+(C<<2)>>2]<<2)>>2]|0,C=i+4|0,D=e[C>>2]|0,Y[D+84>>0]|0?L=I:L=e[(e[D+68>>2]|0)+(I<<2)>>2]|0,e[g>>2]=0,e[g+4>>2]=0,e[g+8>>2]=0,e[g+12>>2]=0,e[g+16>>2]=0,e[g+20>>2]=0,e[h>>2]=L,L=Y[D+24>>0]|0,e[f>>2]=e[h>>2],Nl(D,f,L,g)|0,L=i+28|0,i=(e[L>>2]|0)==0;e:do if((x|0)!=-1){for(D=d+8|0,I=g+8|0,P=d+16|0,N=g+16|0,X=m+8|0,j=m+16|0,Q=x,V=x,G=0,ee=0,J=0,O=0,$=0,ie=0,se=i,ue=x;;){do if(se)if(Ee=ue+1|0,(ue|0)!=-1)if(Pe=((Ee>>>0)%3|0|0)==0?ue+-2|0:Ee,(Q|0)!=-1)if((Q>>>0)%3|0){ge=Q,Be=Q+-1|0,_e=Pe,Ce=Q;break}else{ge=Q,Be=Q+2|0,_e=Pe,Ce=Q;break}else ge=-1,Be=-1,_e=Pe,Ce=-1;else ge=Q,Be=-1,_e=-1,Ce=-1;else if(Pe=V+1|0,Ee=((Pe>>>0)%3|0|0)==0?V+-2|0:Pe,(V>>>0)%3|0){ge=Q,Be=V+-1|0,_e=Ee,Ce=ue;break}else{ge=Q,Be=V+2|0,_e=Ee,Ce=ue;break}while(0);if(Ee=e[(e[(e[b>>2]|0)+28>>2]|0)+(_e<<2)>>2]|0,We=e[w>>2]|0,Pe=e[We>>2]|0,(e[We+4>>2]|0)-Pe>>2>>>0<=Ee>>>0){lt=17;break}if(et=e[(e[S>>2]|0)+(e[Pe+(Ee<<2)>>2]<<2)>>2]|0,Ee=e[C>>2]|0,Y[Ee+84>>0]|0?Ve=et:Ve=e[(e[Ee+68>>2]|0)+(et<<2)>>2]|0,e[d>>2]=0,e[d+4>>2]=0,e[d+8>>2]=0,e[d+12>>2]=0,e[d+16>>2]=0,e[d+20>>2]=0,e[h>>2]=Ve,et=Y[Ee+24>>0]|0,e[f>>2]=e[h>>2],Nl(Ee,f,et,d)|0,et=e[(e[(e[b>>2]|0)+28>>2]|0)+(Be<<2)>>2]|0,He=e[w>>2]|0,Ee=e[He>>2]|0,(e[He+4>>2]|0)-Ee>>2>>>0<=et>>>0){lt=21;break}if(Pe=e[(e[S>>2]|0)+(e[Ee+(et<<2)>>2]<<2)>>2]|0,et=e[C>>2]|0,Y[et+84>>0]|0?st=Pe:st=e[(e[et+68>>2]|0)+(Pe<<2)>>2]|0,e[m>>2]=0,e[m+4>>2]=0,e[m+8>>2]=0,e[m+12>>2]=0,e[m+16>>2]=0,e[m+20>>2]=0,e[h>>2]=st,Pe=Y[et+24>>0]|0,e[f>>2]=e[h>>2],Nl(et,f,Pe,m)|0,Pe=d,et=g,Ee=e[et>>2]|0,Je=e[et+4>>2]|0,et=Gi(e[Pe>>2]|0,e[Pe+4>>2]|0,Ee|0,Je|0)|0,Pe=Ze,it=D,ze=I,Ge=e[ze>>2]|0,ke=e[ze+4>>2]|0,ze=Gi(e[it>>2]|0,e[it+4>>2]|0,Ge|0,ke|0)|0,it=Ze,ut=P,tt=N,at=e[tt>>2]|0,Mt=e[tt+4>>2]|0,tt=Gi(e[ut>>2]|0,e[ut+4>>2]|0,at|0,Mt|0)|0,ut=Ze,Pt=m,yt=Gi(e[Pt>>2]|0,e[Pt+4>>2]|0,Ee|0,Je|0)|0,Je=Ze,Ee=X,Pt=Gi(e[Ee>>2]|0,e[Ee+4>>2]|0,Ge|0,ke|0)|0,ke=Ze,Ge=j,Ee=Gi(e[Ge>>2]|0,e[Ge+4>>2]|0,at|0,Mt|0)|0,Mt=Ze,at=Wr(Ee|0,Mt|0,ze|0,it|0)|0,Ge=Ze,Vt=Wr(Pt|0,ke|0,tt|0,ut|0)|0,Lt=Ze,At=Wr(yt|0,Je|0,tt|0,ut|0)|0,ut=Ze,tt=Wr(Ee|0,Mt|0,et|0,Pe|0)|0,Mt=Ze,Ee=Wr(Pt|0,ke|0,et|0,Pe|0)|0,Pe=Ze,et=Wr(yt|0,Je|0,ze|0,it|0)|0,it=Ze,ze=Gi(G|0,ee|0,Vt|0,Lt|0)|0,Lt=Qt(ze|0,Ze|0,at|0,Ge|0)|0,Ge=Ze,at=Qt(At|0,ut|0,J|0,O|0)|0,ut=Gi(at|0,Ze|0,tt|0,Mt|0)|0,Mt=Ze,tt=Gi($|0,ie|0,et|0,it|0)|0,it=Qt(tt|0,Ze|0,Ee|0,Pe|0)|0,Pe=Ze,Mo(u),V=e[s>>2]|0,Ee=(e[L>>2]|0)==0,(V|0)==-1){_t=Ee,St=Ge,fr=Lt,Wt=Mt,cr=ut,mr=Pe,Gr=it;break e}else Q=ge,G=Lt,ee=Ge,J=ut,O=Mt,$=it,ie=Pe,se=Ee,ue=Ce}((lt|0)==17||(lt|0)==21)&&qe()}else _t=i,St=0,fr=0,Wt=0,cr=0,mr=0,Gr=0;while(0);if(i=(St|0)>-1|(St|0)==-1&fr>>>0>4294967295,He=Gi(0,0,fr|0,St|0)|0,lt=i?St:Ze,We=(Wt|0)>-1|(Wt|0)==-1&cr>>>0>4294967295,Ce=Gi(0,0,cr|0,Wt|0)|0,ge=We?Wt:Ze,L=(mr|0)>-1|(mr|0)==-1&Gr>>>0>4294967295,s=Gi(0,0,Gr|0,mr|0)|0,u=Qt((We?cr:Ce)|0,ge|0,(L?Gr:s)|0,(L?mr:Ze)|0)|0,L=Qt(u|0,Ze|0,(i?fr:He)|0,lt|0)|0,lt=Ze,_t){if((L|0)<=536870912){dr=fr,Er=cr,nr=Gr,e[o>>2]=dr,Mr=o+4|0,e[Mr>>2]=Er,Nr=o+8|0,e[Nr>>2]=nr,q=l;return}_t=s0(L|0,lt|0,29)|0,He=_t&7,_t=m0(fr|0,St|0,He|0,0)|0,i=m0(cr|0,Wt|0,He|0,0)|0,u=m0(Gr|0,mr|0,He|0,0)|0,dr=_t,Er=i,nr=u,e[o>>2]=dr,Mr=o+4|0,e[Mr>>2]=Er,Nr=o+8|0,e[Nr>>2]=nr,q=l;return}else{if(!((lt|0)>0|(lt|0)==0&L>>>0>536870912)){dr=fr,Er=cr,nr=Gr,e[o>>2]=dr,Mr=o+4|0,e[Mr>>2]=Er,Nr=o+8|0,e[Nr>>2]=nr,q=l;return}u=s0(L|0,lt|0,29)|0,lt=Ze,L=m0(fr|0,St|0,u|0,lt|0)|0,St=m0(cr|0,Wt|0,u|0,lt|0)|0,Wt=m0(Gr|0,mr|0,u|0,lt|0)|0,dr=L,Er=St,nr=Wt,e[o>>2]=dr,Mr=o+4|0,e[Mr>>2]=Er,Nr=o+8|0,e[Nr>>2]=nr,q=l;return}}function ak(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=vi,et=vi,Ve=vi,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0;if(l=q,q=q+48|0,f=l+28|0,h=l+8|0,u=l,g=l+16|0,d=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,bi[d>>2]=Zt(1),m=i+80|0,b=e[m>>2]|0,e[g>>2]=0,w=g+4|0,e[w>>2]=0,e[g+8>>2]=0,b){for(b>>>0>1073741823&&qe(),x=b<<2,C=It(x)|0,e[g>>2]=C,S=C+(b<<2)|0,e[g+8>>2]=S,Tr(C|0,0,x|0)|0,e[w>>2]=S,S=e[o>>2]|0,o=s+48|0,x=s+40|0,C=f+4|0,b=f+12|0,D=f+8|0,I=i+40|0,L=i+64|0,P=0,N=0;;){if(X=o,j=e[X>>2]|0,Q=e[X+4>>2]|0,X=x,V=Wr(e[X>>2]|0,e[X+4>>2]|0,S+P|0,0)|0,X=Qt(V|0,Ze|0,j|0,Q|0)|0,Q=(e[e[s>>2]>>2]|0)+X|0,X=Q,j=br[X>>0]|br[X+1>>0]<<8|br[X+2>>0]<<16|br[X+3>>0]<<24,X=Q+4|0,Q=br[X>>0]|br[X+1>>0]<<8|br[X+2>>0]<<16|br[X+3>>0]<<24,X=h,e[X>>2]=j,e[X+4>>2]=Q,X=u,e[X>>2]=j,e[X+4>>2]=Q,Q=L6(f,u)|0,Q)O=e[g>>2]|0,e[O+(P<<2)>>2]=e[Q+16>>2],ze=N,Ge=O;else{X=u,j=e[X>>2]|0,V=e[X+4>>2]|0,X=j&65535,G=s0(j|0,V|0,16)|0,ee=G&65535,J=V&65535,O=s0(j|0,V|0,48)|0,$=O&65535,ie=((((X^318)&65535)+239^G&65535)+239^V&65535)+239^O&65535,O=e[C>>2]|0,G=(O|0)==0;e:do if(G)Be=0,_e=31;else if(se=O+-1|0,ue=(se&O|0)==0,ue?Ee=ie&se:ie>>>0<O>>>0?Ee=ie:Ee=(ie>>>0)%(O>>>0)|0,Pe=e[(e[f>>2]|0)+(Ee<<2)>>2]|0,(Pe|0)!=0&&(ge=e[Pe>>2]|0,(ge|0)!=0)){if(ue)for(ue=ge;;){if(Pe=e[ue+4>>2]|0,!((Pe|0)==(ie|0)|(Pe&se|0)==(Ee|0))){Be=Ee,_e=31;break e}if(Pe=ue+8|0,(Or[Pe>>1]|0)==X<<16>>16&&(Or[Pe+2>>1]|0)==ee<<16>>16&&(Or[ue+12>>1]|0)==J<<16>>16&&(Or[Pe+6>>1]|0)==$<<16>>16)break e;if(ue=e[ue>>2]|0,!ue){Be=Ee,_e=31;break e}}else Ce=ge;for(;;){if(ue=e[Ce+4>>2]|0,(ue|0)!=(ie|0)&&(ue>>>0<O>>>0?We=ue:We=(ue>>>0)%(O>>>0)|0,(We|0)!=(Ee|0))){Be=Ee,_e=31;break e}if(ue=Ce+8|0,(Or[ue>>1]|0)==X<<16>>16&&(Or[ue+2>>1]|0)==ee<<16>>16&&(Or[Ce+12>>1]|0)==J<<16>>16&&(Or[ue+6>>1]|0)==$<<16>>16)break e;if(Ce=e[Ce>>2]|0,!Ce){Be=Ee,_e=31;break}}}else Be=Ee,_e=31;while(0);if((_e|0)==31){_e=0,$=It(20)|0,J=$+8|0,ee=J,Or[ee>>1]=j,Or[ee+2>>1]=j>>>16,ee=J+4|0,Or[ee>>1]=V,Or[ee+2>>1]=V>>>16,e[$+16>>2]=N,e[$+4>>2]=ie,e[$>>2]=0,lt=Zt(((e[b>>2]|0)+1|0)>>>0),et=Zt(O>>>0),Ve=Zt(bi[d>>2]);do if(G|Zt(Ve*et)<lt){if(ee=O<<1|(O>>>0<3|(O+-1&O|0)!=0)&1,J=~~Zt(yi(Zt(lt/Ve)))>>>0,$I(f,ee>>>0<J>>>0?J:ee),ee=e[C>>2]|0,J=ee+-1|0,!(J&ee)){He=ee,st=J&ie;break}ie>>>0<ee>>>0?(He=ee,st=ie):(He=ee,st=(ie>>>0)%(ee>>>0)|0)}else He=O,st=Be;while(0);O=(e[f>>2]|0)+(st<<2)|0,ie=e[O>>2]|0,ie?(e[$>>2]=e[ie>>2],it=ie,_e=44):(e[$>>2]=e[D>>2],e[D>>2]=$,e[O>>2]=D,O=e[$>>2]|0,O|0&&(G=e[O+4>>2]|0,O=He+-1|0,O&He?G>>>0<He>>>0?Je=G:Je=(G>>>0)%(He>>>0)|0:Je=G&O,it=(e[f>>2]|0)+(Je<<2)|0,_e=44)),(_e|0)==44&&(_e=0,e[it>>2]=$),e[b>>2]=(e[b>>2]|0)+1}ie=I,O=e[ie>>2]|0,G=Wr(O|0,e[ie+4>>2]|0,N|0,0)|0,Fi((e[e[L>>2]>>2]|0)+G|0,h|0,O|0)|0,O=e[g>>2]|0,e[O+(P<<2)>>2]=N,ze=N+1|0,Ge=O}if(P=P+1|0,ke=e[m>>2]|0,P>>>0>=ke>>>0)break;N=ze}if((ze|0)==(ke|0))ut=Ge;else{if(N=i+84|0,Y[N>>0]|0)if(Y[N>>0]=0,N=i+68|0,Ge=i+72|0,I=e[Ge>>2]|0,h=e[N>>2]|0,L=I-h>>2,P=h,h=I,ke>>>0<=L>>>0?(ke>>>0<L>>>0&&(I=P+(ke<<2)|0,(I|0)!=(h|0))&&(e[Ge>>2]=h+(~((h+-4-I|0)>>>2)<<2)),at=ke):(W0(N,ke-L|0,1204),at=e[m>>2]|0),L=e[g>>2]|0,!at)tt=L;else{g=e[i+68>>2]|0,i=0;do e[g+(i<<2)>>2]=e[L+(i<<2)>>2],i=i+1|0;while(i>>>0<at>>>0);tt=L}else if(P=e[i+72>>2]|0,h=e[i+68>>2]|0,L=h,(P|0)==(h|0))tt=Ge;else{I=P-h>>2,h=0;do P=L+(h<<2)|0,e[P>>2]=e[Ge+(e[P>>2]<<2)>>2],h=h+1|0;while(h>>>0<I>>>0);tt=Ge}e[m>>2]=ze,ut=tt}ut&&(tt=e[w>>2]|0,(tt|0)!=(ut|0)&&(e[w>>2]=tt+(~((tt+-4-ut|0)>>>2)<<2)),Ae(ut)),Mt=ze}else Mt=0;if(ze=e[f+8>>2]|0,ze|0){ut=ze;do ze=ut,ut=e[ut>>2]|0,Ae(ze);while((ut|0)!=0)}return ut=e[f>>2]|0,e[f>>2]=0,ut?(Ae(ut),q=l,Mt|0):(q=l,Mt|0)}function lk(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0;if(o=q,q=q+16|0,l=o+8|0,f=o,h=o+4|0,u=i+16|0,g=e[u>>2]|0,d=i+20|0,m=e[d>>2]|0,(m|0)==(g|0)?b=g:(w=m+(~((m+-4-g|0)>>>2)<<2)|0,e[d>>2]=w,b=w),w=i+24|0,(b|0)==(e[w>>2]|0)?(pi(u,s),x=e[u>>2]|0,C=e[d>>2]|0):(e[b>>2]=e[s>>2],m=b+4|0,e[d>>2]=m,x=g,C=m),m=e[i+8>>2]|0,g=(e[m+100>>2]|0)-(e[m+96>>2]|0)|0,m=(g|0)/12|0,(x|0)==(C|0))return q=o,1;x=i+28|0,b=(g|0)>0,g=i+164|0,S=i+12|0,D=i+76|0,I=i+80|0,L=i+72|0,P=i+152|0,N=i+84|0,X=i+272|0,j=i+276|0,Q=i+268|0,V=i+168|0,G=i+140|0,ee=i+120|0,J=C;do{C=e[J+-4>>2]|0,e[s>>2]=C;e:do if((C|0)!=-1&&(O=(C>>>0)/3|0,$=e[x>>2]|0,(e[$+(O>>>5<<2)>>2]&1<<(O&31)|0)==0)){if(b){O=0,ie=$;t:for(;;){$=O+1|0,e[g>>2]=(e[g>>2]|0)+1,se=e[s>>2]|0,ue=(se|0)==-1?-1:(se>>>0)/3|0,se=ie+(ue>>>5<<2)|0,e[se>>2]=1<<(ue&31)|e[se>>2],se=e[D>>2]|0,(se|0)==(e[I>>2]|0)?pi(L,s):(e[se>>2]=e[s>>2],e[D>>2]=se+4),se=e[s>>2]|0,(se|0)==-1?Ee=-1:Ee=e[(e[e[S>>2]>>2]|0)+(se<<2)>>2]|0,Pe=(e[(e[P>>2]|0)+(Ee<<2)>>2]|0)!=-1,ge=(e[N>>2]|0)+(Ee>>>5<<2)|0,Be=1<<(Ee&31),_e=e[ge>>2]|0;do if(_e&Be)Ce=se,We=30;else{if(e[ge>>2]=_e|Be,Pe){Ce=e[s>>2]|0,We=30;break}e[l>>2]=0,lt=e[X>>2]|0,(lt|0)==(e[j>>2]|0)?pi(Q,l):(e[lt>>2]=0,e[X>>2]=lt+4),lt=e[s>>2]|0,et=lt+1|0,(lt|0)!=-1&&(Ve=((et>>>0)%3|0|0)==0?lt+-2|0:et,(Ve|0)!=-1)?He=e[(e[(e[S>>2]|0)+12>>2]|0)+(Ve<<2)>>2]|0:He=-1,e[s>>2]=He}while(0);if((We|0)==30){if(We=0,se=Ce+1|0,(Ce|0)==-1){We=35;break}if(Be=((se>>>0)%3|0|0)==0?Ce+-2|0:se,(Be|0)==-1?st=-1:st=e[(e[(e[S>>2]|0)+12>>2]|0)+(Be<<2)>>2]|0,e[f>>2]=st,Be=(((Ce>>>0)%3|0|0)==0?2:-1)+Ce|0,(Be|0)==-1?Je=-1:Je=e[(e[(e[S>>2]|0)+12>>2]|0)+(Be<<2)>>2]|0,Be=(st|0)==-1,_e=Be?-1:(st>>>0)/3|0,it=(Je|0)==-1,ze=it?-1:(Je>>>0)/3|0,ge=((se>>>0)%3|0|0)==0?Ce+-2|0:se,(ge|0)!=-1&&(se=e[(e[S>>2]|0)+12>>2]|0,Ve=e[se+(ge<<2)>>2]|0,(Ve|0)!=-1)&&(ge=(Ve>>>0)/3|0,Ve=e[x>>2]|0,(e[Ve+(ge>>>5<<2)>>2]&1<<(ge&31)|0)==0)){ge=(((Ce>>>0)%3|0|0)==0?2:-1)+Ce|0;do if((ge|0)!=-1){if(et=e[se+(ge<<2)>>2]|0,(et|0)==-1)break;if(lt=(et>>>0)/3|0,!(e[Ve+(lt>>>5<<2)>>2]&1<<(lt&31))){We=63;break t}}while(0);it||Fc(i,e[g>>2]|0,ue,0,ze),e[l>>2]=3,Ve=e[X>>2]|0,(Ve|0)==(e[j>>2]|0)?pi(Q,l):(e[Ve>>2]=3,e[X>>2]=Ve+4),Ge=e[f>>2]|0}else{if(Be)ke=Ce;else if(Fc(i,e[g>>2]|0,ue,1,_e),Ve=e[s>>2]|0,(Ve|0)==-1){We=44;break}else ke=Ve;if(Ve=(((ke>>>0)%3|0|0)==0?2:-1)+ke|0,(Ve|0)==-1){We=44;break}if(ge=e[(e[(e[S>>2]|0)+12>>2]|0)+(Ve<<2)>>2]|0,(ge|0)==-1){We=44;break}if(Ve=(ge>>>0)/3|0,e[(e[x>>2]|0)+(Ve>>>5<<2)>>2]&1<<(Ve&31)|0){We=44;break}e[l>>2]=5,Ve=e[X>>2]|0,(Ve|0)==(e[j>>2]|0)?pi(Q,l):(e[Ve>>2]=5,e[X>>2]=Ve+4),Ge=Je}e[s>>2]=Ge}if(($|0)>=(m|0))break e;O=$,ie=e[x>>2]|0}do if((We|0)==35)We=0,e[f>>2]=-1,We=46;else if((We|0)==44)We=0,it||Fc(i,e[g>>2]|0,ue,0,ze),We=46;else if((We|0)==63)if(We=0,e[l>>2]=1,ie=e[X>>2]|0,(ie|0)==(e[j>>2]|0)?pi(Q,l):(e[ie>>2]=1,e[X>>2]=ie+4),e[V>>2]=(e[V>>2]|0)+1,Pe&&(ie=e[(e[P>>2]|0)+(Ee<<2)>>2]|0,(1<<(ie&31)&e[(e[G>>2]|0)+(ie>>>5<<2)>>2]|0)==0)&&(e[h>>2]=e[s>>2],e[l>>2]=e[h>>2],ad(i,l,0)|0),ie=e[g>>2]|0,e[l>>2]=ue,O=Fu(ee,l)|0,e[O>>2]=ie,ie=e[d>>2]|0,e[ie+-4>>2]=Je,(ie|0)==(e[w>>2]|0)){pi(u,f);break}else{e[ie>>2]=e[f>>2],e[d>>2]=ie+4;break}while(0);(We|0)==46&&(We=0,e[l>>2]=7,ie=e[X>>2]|0,(ie|0)==(e[j>>2]|0)?pi(Q,l):(e[ie>>2]=7,e[X>>2]=ie+4),e[d>>2]=(e[d>>2]|0)+-4)}}else We=11;while(0);(We|0)==11&&(We=0,e[d>>2]=J+-4),J=e[d>>2]|0}while((e[u>>2]|0)!=(J|0));return q=o,1}function fk(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=vi,Ve=vi,He=vi,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0;if(l=q,q=q+48|0,f=l+20|0,h=l+16|0,u=l+12|0,g=l,d=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,bi[d>>2]=Zt(1),m=i+80|0,b=e[m>>2]|0,e[g>>2]=0,w=g+4|0,e[w>>2]=0,e[g+8>>2]=0,b){for(b>>>0>1073741823&&qe(),x=b<<2,C=It(x)|0,e[g>>2]=C,S=C+(b<<2)|0,e[g+8>>2]=S,Tr(C|0,0,x|0)|0,e[w>>2]=S,S=e[o>>2]|0,o=s+48|0,x=s+40|0,C=f+4|0,b=f+12|0,D=f+8|0,I=i+40|0,L=i+64|0,P=0,N=0;;){if(X=o,j=e[X>>2]|0,Q=e[X+4>>2]|0,X=x,V=Wr(e[X>>2]|0,e[X+4>>2]|0,S+P|0,0)|0,X=Qt(V|0,Ze|0,j|0,Q|0)|0,Q=(e[e[s>>2]>>2]|0)+X|0,X=br[Q>>0]|br[Q+1>>0]<<8|br[Q+2>>0]<<16|br[Q+3>>0]<<24,e[h>>2]=X,e[u>>2]=X,X=cd(f,u)|0,X)O=e[g>>2]|0,e[O+(P<<2)>>2]=e[X+12>>2],Ge=N,ke=O;else{Q=e[u>>2]|0,j=Q&255,V=Q>>>8,G=V&255,ee=Q>>>16,J=ee&255,O=Q>>>24,$=O&255,ie=V&255,V=ee&255,ee=(((Q&255^318)+239^ie)+239^V)+239^O,O=e[C>>2]|0,se=(O|0)==0;e:do if(se)_e=0,Ce=31;else if(ue=O+-1|0,Ee=(ue&O|0)==0,Ee?Pe=ee&ue:ee>>>0<O>>>0?Pe=ee:Pe=(ee>>>0)%(O>>>0)|0,ge=e[(e[f>>2]|0)+(Pe<<2)>>2]|0,(ge|0)!=0&&(Be=e[ge>>2]|0,(Be|0)!=0)){if(Ee)for(Ee=Be;;){if(ge=e[Ee+4>>2]|0,!((ge|0)==(ee|0)|(ge&ue|0)==(Pe|0))){_e=Pe,Ce=31;break e}if(ge=Ee+8|0,(Y[ge>>0]|0)==j<<24>>24&&(Y[ge+1>>0]|0)==G<<24>>24&&(Y[ge+2>>0]|0)==J<<24>>24&&(Y[ge+3>>0]|0)==$<<24>>24)break e;if(Ee=e[Ee>>2]|0,!Ee){_e=Pe,Ce=31;break e}}else We=Be;for(;;){if(Ee=e[We+4>>2]|0,(Ee|0)!=(ee|0)&&(Ee>>>0<O>>>0?lt=Ee:lt=(Ee>>>0)%(O>>>0)|0,(lt|0)!=(Pe|0))){_e=Pe,Ce=31;break e}if(Ee=We+8|0,(Y[Ee>>0]|0)==j<<24>>24&&(Y[Ee+1>>0]|0)==G<<24>>24&&(Y[Ee+2>>0]|0)==J<<24>>24&&(Y[Ee+3>>0]|0)==$<<24>>24)break e;if(We=e[We>>2]|0,!We){_e=Pe,Ce=31;break}}}else _e=Pe,Ce=31;while(0);if((Ce|0)==31){Ce=0,$=It(16)|0,J=$+8|0,G=Q&-16776961|V<<16|ie<<8,Y[J>>0]=G,Y[J+1>>0]=G>>8,Y[J+2>>0]=G>>16,Y[J+3>>0]=G>>24,e[$+12>>2]=N,e[$+4>>2]=ee,e[$>>2]=0,et=Zt(((e[b>>2]|0)+1|0)>>>0),Ve=Zt(O>>>0),He=Zt(bi[d>>2]);do if(se|Zt(He*Ve)<et){if(G=O<<1|(O>>>0<3|(O+-1&O|0)!=0)&1,J=~~Zt(yi(Zt(et/He)))>>>0,oL(f,G>>>0<J>>>0?J:G),G=e[C>>2]|0,J=G+-1|0,!(J&G)){st=G,Je=J&ee;break}ee>>>0<G>>>0?(st=G,Je=ee):(st=G,Je=(ee>>>0)%(G>>>0)|0)}else st=O,Je=_e;while(0);O=(e[f>>2]|0)+(Je<<2)|0,ee=e[O>>2]|0,ee?(e[$>>2]=e[ee>>2],ze=ee,Ce=44):(e[$>>2]=e[D>>2],e[D>>2]=$,e[O>>2]=D,O=e[$>>2]|0,O|0&&(se=e[O+4>>2]|0,O=st+-1|0,O&st?se>>>0<st>>>0?it=se:it=(se>>>0)%(st>>>0)|0:it=se&O,ze=(e[f>>2]|0)+(it<<2)|0,Ce=44)),(Ce|0)==44&&(Ce=0,e[ze>>2]=$),e[b>>2]=(e[b>>2]|0)+1}ee=I,O=e[ee>>2]|0,se=Wr(O|0,e[ee+4>>2]|0,N|0,0)|0,Fi((e[e[L>>2]>>2]|0)+se|0,h|0,O|0)|0,O=e[g>>2]|0,e[O+(P<<2)>>2]=N,Ge=N+1|0,ke=O}if(P=P+1|0,ut=e[m>>2]|0,P>>>0>=ut>>>0)break;N=Ge}if((Ge|0)==(ut|0))tt=ke;else{if(N=i+84|0,Y[N>>0]|0)if(Y[N>>0]=0,N=i+68|0,ke=i+72|0,I=e[ke>>2]|0,h=e[N>>2]|0,L=I-h>>2,P=h,h=I,ut>>>0<=L>>>0?(ut>>>0<L>>>0&&(I=P+(ut<<2)|0,(I|0)!=(h|0))&&(e[ke>>2]=h+(~((h+-4-I|0)>>>2)<<2)),Mt=ut):(W0(N,ut-L|0,1204),Mt=e[m>>2]|0),L=e[g>>2]|0,!Mt)at=L;else{g=e[i+68>>2]|0,i=0;do e[g+(i<<2)>>2]=e[L+(i<<2)>>2],i=i+1|0;while(i>>>0<Mt>>>0);at=L}else if(P=e[i+72>>2]|0,h=e[i+68>>2]|0,L=h,(P|0)==(h|0))at=ke;else{I=P-h>>2,h=0;do P=L+(h<<2)|0,e[P>>2]=e[ke+(e[P>>2]<<2)>>2],h=h+1|0;while(h>>>0<I>>>0);at=ke}e[m>>2]=Ge,tt=at}tt&&(at=e[w>>2]|0,(at|0)!=(tt|0)&&(e[w>>2]=at+(~((at+-4-tt|0)>>>2)<<2)),Ae(tt)),Pt=Ge}else Pt=0;if(Ge=e[f+8>>2]|0,Ge|0){tt=Ge;do Ge=tt,tt=e[tt>>2]|0,Ae(Ge);while((tt|0)!=0)}return tt=e[f>>2]|0,e[f>>2]=0,tt?(Ae(tt),q=l,Pt|0):(q=l,Pt|0)}function _3(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=vi,He=vi,st=vi,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0;if(l=q,q=q+80|0,f=l+48|0,h=l+32|0,u=l+16|0,g=l,d=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,bi[d>>2]=Zt(1),m=i+80|0,b=e[m>>2]|0,e[g>>2]=0,w=g+4|0,e[w>>2]=0,e[g+8>>2]=0,b){for(b>>>0>1073741823&&qe(),x=b<<2,C=It(x)|0,e[g>>2]=C,S=C+(b<<2)|0,e[g+8>>2]=S,Tr(C|0,0,x|0)|0,e[w>>2]=S,S=e[o>>2]|0,o=s+48|0,x=s+40|0,C=u+4|0,b=u+8|0,D=u+12|0,I=f+4|0,L=f+12|0,P=f+8|0,N=i+40|0,X=i+64|0,j=0,Q=0;;){V=o,G=e[V>>2]|0,ee=e[V+4>>2]|0,V=x,J=Wr(e[V>>2]|0,e[V+4>>2]|0,S+Q|0,0)|0,V=Qt(J|0,Ze|0,G|0,ee|0)|0,ee=(e[e[s>>2]>>2]|0)+V|0,V=h,G=ee,J=V+16|0;do Y[V>>0]=Y[G>>0]|0,V=V+1|0,G=G+1|0;while((V|0)<(J|0));if(Q0(u|0,ee|0,16)|0,G=F6(f,u)|0,G)se=e[g>>2]|0,e[se+(Q<<2)>>2]=e[G+24>>2],ke=j,ut=se;else{V=e[u>>2]|0,J=e[C>>2]|0,O=e[b>>2]|0,$=e[D>>2]|0,ie=(((V^318)+239^J)+239^O)+239^$,se=e[I>>2]|0,ue=(se|0)==0;e:do if(ue)Ce=0,We=31;else if(Ee=se+-1|0,Pe=(Ee&se|0)==0,Pe?ge=ie&Ee:ie>>>0<se>>>0?ge=ie:ge=(ie>>>0)%(se>>>0)|0,Be=e[(e[f>>2]|0)+(ge<<2)>>2]|0,(Be|0)!=0&&(_e=e[Be>>2]|0,(_e|0)!=0)){if(Pe)for(Pe=_e;;){if(Be=e[Pe+4>>2]|0,!((Be|0)==(ie|0)|(Be&Ee|0)==(ge|0))){Ce=ge,We=31;break e}if((e[Pe+8>>2]|0)==(V|0)&&(e[Pe+12>>2]|0)==(J|0)&&(e[Pe+16>>2]|0)==(O|0)&&(e[Pe+20>>2]|0)==($|0))break e;if(Pe=e[Pe>>2]|0,!Pe){Ce=ge,We=31;break e}}else lt=_e;for(;;){if(Pe=e[lt+4>>2]|0,(Pe|0)!=(ie|0)&&(Pe>>>0<se>>>0?et=Pe:et=(Pe>>>0)%(se>>>0)|0,(et|0)!=(ge|0))){Ce=ge,We=31;break e}if((e[lt+8>>2]|0)==(V|0)&&(e[lt+12>>2]|0)==(J|0)&&(e[lt+16>>2]|0)==(O|0)&&(e[lt+20>>2]|0)==($|0))break e;if(lt=e[lt>>2]|0,!lt){Ce=ge,We=31;break}}}else Ce=ge,We=31;while(0);if((We|0)==31){We=0,ee=It(28)|0,e[ee+8>>2]=V,e[ee+12>>2]=J,e[ee+16>>2]=O,e[ee+20>>2]=$,e[ee+24>>2]=j,e[ee+4>>2]=ie,e[ee>>2]=0,Ve=Zt(((e[L>>2]|0)+1|0)>>>0),He=Zt(se>>>0),st=Zt(bi[d>>2]);do if(ue|Zt(st*He)<Ve){if(_e=se<<1|(se>>>0<3|(se+-1&se|0)!=0)&1,Pe=~~Zt(yi(Zt(Ve/st)))>>>0,iL(f,_e>>>0<Pe>>>0?Pe:_e),_e=e[I>>2]|0,Pe=_e+-1|0,!(Pe&_e)){Je=_e,it=Pe&ie;break}ie>>>0<_e>>>0?(Je=_e,it=ie):(Je=_e,it=(ie>>>0)%(_e>>>0)|0)}else Je=se,it=Ce;while(0);se=(e[f>>2]|0)+(it<<2)|0,ie=e[se>>2]|0,ie?(e[ee>>2]=e[ie>>2],Ge=ie,We=44):(e[ee>>2]=e[P>>2],e[P>>2]=ee,e[se>>2]=P,se=e[ee>>2]|0,se|0&&(ue=e[se+4>>2]|0,se=Je+-1|0,se&Je?ue>>>0<Je>>>0?ze=ue:ze=(ue>>>0)%(Je>>>0)|0:ze=ue&se,Ge=(e[f>>2]|0)+(ze<<2)|0,We=44)),(We|0)==44&&(We=0,e[Ge>>2]=ee),e[L>>2]=(e[L>>2]|0)+1}ie=N,se=e[ie>>2]|0,ue=Wr(se|0,e[ie+4>>2]|0,j|0,0)|0,Fi((e[e[X>>2]>>2]|0)+ue|0,h|0,se|0)|0,se=e[g>>2]|0,e[se+(Q<<2)>>2]=j,ke=j+1|0,ut=se}if(Q=Q+1|0,tt=e[m>>2]|0,Q>>>0>=tt>>>0)break;j=ke}if((ke|0)==(tt|0))at=ut;else{if(j=i+84|0,Y[j>>0]|0)if(Y[j>>0]=0,j=i+68|0,ut=i+72|0,N=e[ut>>2]|0,h=e[j>>2]|0,X=N-h>>2,Q=h,h=N,tt>>>0<=X>>>0?(tt>>>0<X>>>0&&(N=Q+(tt<<2)|0,(N|0)!=(h|0))&&(e[ut>>2]=h+(~((h+-4-N|0)>>>2)<<2)),Pt=tt):(W0(j,tt-X|0,1204),Pt=e[m>>2]|0),X=e[g>>2]|0,!Pt)Mt=X;else{g=e[i+68>>2]|0,i=0;do e[g+(i<<2)>>2]=e[X+(i<<2)>>2],i=i+1|0;while(i>>>0<Pt>>>0);Mt=X}else if(Q=e[i+72>>2]|0,h=e[i+68>>2]|0,X=h,(Q|0)==(h|0))Mt=ut;else{N=Q-h>>2,h=0;do Q=X+(h<<2)|0,e[Q>>2]=e[ut+(e[Q>>2]<<2)>>2],h=h+1|0;while(h>>>0<N>>>0);Mt=ut}e[m>>2]=ke,at=Mt}at&&(Mt=e[w>>2]|0,(Mt|0)!=(at|0)&&(e[w>>2]=Mt+(~((Mt+-4-at|0)>>>2)<<2)),Ae(at)),yt=ke}else yt=0;if(ke=e[f+8>>2]|0,ke|0){at=ke;do ke=at,at=e[at>>2]|0,Ae(ke);while((at|0)!=0)}return at=e[f>>2]|0,e[f>>2]=0,at?(Ae(at),q=l,yt|0):(q=l,yt|0)}function uk(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=vi,lt=vi,et=vi,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0;if(l=q,q=q+48|0,f=l+12|0,h=l+38|0,u=l+32|0,g=l,d=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,bi[d>>2]=Zt(1),m=i+80|0,b=e[m>>2]|0,e[g>>2]=0,w=g+4|0,e[w>>2]=0,e[g+8>>2]=0,b){for(b>>>0>1073741823&&qe(),x=b<<2,C=It(x)|0,e[g>>2]=C,S=C+(b<<2)|0,e[g+8>>2]=S,Tr(C|0,0,x|0)|0,e[w>>2]=S,S=e[o>>2]|0,o=s+48|0,x=s+40|0,C=u+2|0,b=u+4|0,D=f+4|0,I=f+12|0,L=f+8|0,P=i+40|0,N=i+64|0,X=0,j=0;;){if(Q=o,V=e[Q>>2]|0,G=e[Q+4>>2]|0,Q=x,ee=Wr(e[Q>>2]|0,e[Q+4>>2]|0,S+j|0,0)|0,Q=Qt(ee|0,Ze|0,V|0,G|0)|0,G=(e[e[s>>2]>>2]|0)+Q|0,Y[h>>0]=Y[G>>0]|0,Y[h+1>>0]=Y[G+1>>0]|0,Y[h+2>>0]=Y[G+2>>0]|0,Y[h+3>>0]=Y[G+3>>0]|0,Y[h+4>>0]=Y[G+4>>0]|0,Y[h+5>>0]=Y[G+5>>0]|0,Q0(u|0,G|0,6)|0,G=W(f,u)|0,G)O=e[g>>2]|0,e[O+(j<<2)>>2]=e[G+16>>2],it=X,ze=O;else{Q=Or[u>>1]|0,V=Or[C>>1]|0,ee=Or[b>>1]|0,J=(((Q^318)&65535)+239^V&65535)+239^ee&65535,O=e[D>>2]|0,$=(O|0)==0;e:do if($)ge=0,Be=29;else if(ie=O+-1|0,se=(ie&O|0)==0,se?ue=J&ie:J>>>0<O>>>0?ue=J:ue=(J>>>0)%(O>>>0)|0,Ee=e[(e[f>>2]|0)+(ue<<2)>>2]|0,(Ee|0)!=0&&(Pe=e[Ee>>2]|0,(Pe|0)!=0)){if(se)for(se=Pe;;){if(Ee=e[se+4>>2]|0,!((Ee|0)==(J|0)|(Ee&ie|0)==(ue|0))){ge=ue,Be=29;break e}if(Ee=se+8|0,(Or[Ee>>1]|0)==Q<<16>>16&&(Or[Ee+2>>1]|0)==V<<16>>16&&(Or[se+12>>1]|0)==ee<<16>>16)break e;if(se=e[se>>2]|0,!se){ge=ue,Be=29;break e}}else _e=Pe;for(;;){if(se=e[_e+4>>2]|0,(se|0)!=(J|0)&&(se>>>0<O>>>0?Ce=se:Ce=(se>>>0)%(O>>>0)|0,(Ce|0)!=(ue|0))){ge=ue,Be=29;break e}if(se=_e+8|0,(Or[se>>1]|0)==Q<<16>>16&&(Or[se+2>>1]|0)==V<<16>>16&&(Or[_e+12>>1]|0)==ee<<16>>16)break e;if(_e=e[_e>>2]|0,!_e){ge=ue,Be=29;break}}}else ge=ue,Be=29;while(0);if((Be|0)==29){Be=0,Pe=It(20)|0,Or[Pe+8>>1]=Q,Or[Pe+10>>1]=V,Or[Pe+12>>1]=ee,e[Pe+16>>2]=X,e[Pe+4>>2]=J,e[Pe>>2]=0,We=Zt(((e[I>>2]|0)+1|0)>>>0),lt=Zt(O>>>0),et=Zt(bi[d>>2]);do if($|Zt(et*lt)<We){if(se=O<<1|(O>>>0<3|(O+-1&O|0)!=0)&1,ie=~~Zt(yi(Zt(We/et)))>>>0,eL(f,se>>>0<ie>>>0?ie:se),se=e[D>>2]|0,ie=se+-1|0,!(ie&se)){Ve=se,He=ie&J;break}J>>>0<se>>>0?(Ve=se,He=J):(Ve=se,He=(J>>>0)%(se>>>0)|0)}else Ve=O,He=ge;while(0);O=(e[f>>2]|0)+(He<<2)|0,J=e[O>>2]|0,J?(e[Pe>>2]=e[J>>2],Je=J,Be=42):(e[Pe>>2]=e[L>>2],e[L>>2]=Pe,e[O>>2]=L,O=e[Pe>>2]|0,O|0&&($=e[O+4>>2]|0,O=Ve+-1|0,O&Ve?$>>>0<Ve>>>0?st=$:st=($>>>0)%(Ve>>>0)|0:st=$&O,Je=(e[f>>2]|0)+(st<<2)|0,Be=42)),(Be|0)==42&&(Be=0,e[Je>>2]=Pe),e[I>>2]=(e[I>>2]|0)+1}J=P,O=e[J>>2]|0,$=Wr(O|0,e[J+4>>2]|0,X|0,0)|0,Fi((e[e[N>>2]>>2]|0)+$|0,h|0,O|0)|0,O=e[g>>2]|0,e[O+(j<<2)>>2]=X,it=X+1|0,ze=O}if(j=j+1|0,Ge=e[m>>2]|0,j>>>0>=Ge>>>0)break;X=it}if((it|0)==(Ge|0))ke=ze;else{if(X=i+84|0,Y[X>>0]|0)if(Y[X>>0]=0,X=i+68|0,ze=i+72|0,P=e[ze>>2]|0,h=e[X>>2]|0,N=P-h>>2,j=h,h=P,Ge>>>0<=N>>>0?(Ge>>>0<N>>>0&&(P=j+(Ge<<2)|0,(P|0)!=(h|0))&&(e[ze>>2]=h+(~((h+-4-P|0)>>>2)<<2)),tt=Ge):(W0(X,Ge-N|0,1204),tt=e[m>>2]|0),N=e[g>>2]|0,!tt)ut=N;else{g=e[i+68>>2]|0,i=0;do e[g+(i<<2)>>2]=e[N+(i<<2)>>2],i=i+1|0;while(i>>>0<tt>>>0);ut=N}else if(j=e[i+72>>2]|0,h=e[i+68>>2]|0,N=h,(j|0)==(h|0))ut=ze;else{P=j-h>>2,h=0;do j=N+(h<<2)|0,e[j>>2]=e[ze+(e[j>>2]<<2)>>2],h=h+1|0;while(h>>>0<P>>>0);ut=ze}e[m>>2]=it,ke=ut}ke&&(ut=e[w>>2]|0,(ut|0)!=(ke|0)&&(e[w>>2]=ut+(~((ut+-4-ke|0)>>>2)<<2)),Ae(ke)),at=it}else at=0;if(it=e[f+8>>2]|0,it|0){ke=it;do it=ke,ke=e[ke>>2]|0,Ae(it);while((ke|0)!=0)}return ke=e[f>>2]|0,e[f>>2]=0,ke?(Ae(ke),q=l,at|0):(q=l,at|0)}function AP(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0;if(o=q,q=q+80|0,l=o+72|0,f=o+64|0,h=o,u=o+68|0,g=o+60|0,d=i+352|0,Y[d>>0]|0&&(m=kn[e[(e[i>>2]|0)+40>>2]&127](i)|0,((e[m+12>>2]|0)-(e[m+8>>2]|0)|0)>0))return m=(kn[e[(e[i>>2]|0)+40>>2]&127](i)|0)+8|0,b=e[e[m>>2]>>2]|0,e[l>>2]=s,m=b+4|0,w=b+8|0,x=e[w>>2]|0,(x|0)==(e[b+12>>2]|0)?pi(m,l):(e[x>>2]=s,e[w>>2]=x+4),x=e[l>>2]|0,C=b+16|0,S=b+20|0,b=e[S>>2]|0,D=e[C>>2]|0,I=b-D>>2,L=D,(x|0)<(I|0)?(P=L,N=x):(D=x+1|0,e[f>>2]=-1,X=b,D>>>0<=I>>>0?D>>>0<I>>>0&&(b=L+(D<<2)|0,(b|0)!=(X|0))?(e[S>>2]=X+(~((X+-4-b|0)>>>2)<<2),j=x,Q=L):(j=x,Q=L):(W0(C,D-I|0,f),j=e[l>>2]|0,Q=e[C>>2]|0),P=Q,N=j),e[P+(N<<2)>>2]=((e[w>>2]|0)-(e[m>>2]|0)>>2)+-1,V=1,q=o,V|0;m=(kn[e[(e[i>>2]|0)+40>>2]&127](i)|0)+56|0,w=e[(e[(e[m>>2]|0)+84>>2]|0)+(s<<2)>>2]|0,m=(kn[e[(e[i>>2]|0)+40>>2]&127](i)|0)+4|0,N=e[(e[(e[m>>2]|0)+8>>2]|0)+(s<<2)>>2]|0,e[f>>2]=-1,m=i+172|0,P=e[i+176>>2]|0,j=e[m>>2]|0,Q=j;e:do if((P|0)==(j|0))G=-1;else{for(C=(P-j|0)/136|0,I=0;(e[Q+(I*136|0)>>2]|0)!=(s|0);)if(D=I+1|0,D>>>0<C>>>0)I=D;else{G=-1;break e}e[f>>2]=I,G=I}while(0);e:do if(Y[d>>0]|0)ue=24;else{j=(e[N+56>>2]|0)==0;do if(!((w|0)==0|j)){if((w|0)==1&&Y[Q+(G*136|0)+28>>0]|0)break;P=Q+(G*136|0)+104|0,C=Q+(G*136|0)+4|0,D=(e[Q+(G*136|0)+60>>2]|0)-(e[Q+(G*136|0)+56>>2]|0)>>2,e[l>>2]=-1,pe(Q+(G*136|0)+116|0,D,l),D=It(80)|0,L=e[i+8>>2]|0,e[D+4>>2]=0,e[D>>2]=3164,x=D+8|0,b=D+12|0,X=b+44|0;do e[b>>2]=0,b=b+4|0;while((b|0)<(X|0));e[x>>2]=3188,S=D+56|0,e[S>>2]=0,e[D+60>>2]=0,e[D+64>>2]=0,e[D+68>>2]=L,e[D+72>>2]=P,ee=D+76|0,e[ee>>2]=0,J=h+4|0,b=J+4|0,X=b+40|0;do e[b>>2]=0,b=b+4|0;while((b|0)<(X|0));e[h>>2]=3188,b=h+48|0,e[b>>2]=0,X=h+52|0,e[X>>2]=0,e[h+56>>2]=0,e[J>>2]=C,O=e[Q+(G*136|0)+68>>2]|0,$=((e[O+4>>2]|0)-(e[O>>2]|0)>>2>>>0)/3|0,Y[l>>0]=0,mo(h+24|0,$,l),$=e[J>>2]|0,O=(e[$+56>>2]|0)-(e[$+52>>2]|0)>>2,Y[l>>0]=0,mo(h+36|0,O,l),e[h+8>>2]=C,e[h+12>>2]=P,e[h+16>>2]=L,e[h+20>>2]=D,e[ee>>2]=i+72,ud(x,h)|0,Yt(S,e[b>>2]|0,e[X>>2]|0),O=D,e[h>>2]=3188,$=e[b>>2]|0,$|0&&(b=e[X>>2]|0,(b|0)!=($|0)&&(e[X>>2]=b+(~((b+-4-$|0)>>>2)<<2)),Ae($)),e[h>>2]=3208,$=e[h+36>>2]|0,$|0&&Ae($),$=e[h+24>>2]|0,$|0&&Ae($),ie=0,se=O,ue=42;break e}while(0);j?ue=24:(I=e[i+12>>2]|0,O=(e[I+28>>2]|0)-(e[I+24>>2]|0)>>2,e[l>>2]=-1,pe(Q+(G*136|0)+116|0,O,l),Y[(e[m>>2]|0)+((e[f>>2]|0)*136|0)+100>>0]=0,Ee=Q+(G*136|0)+104|0,ue=26)}while(0);if((ue|0)==24&&(Ee=i+40|0,ue=26),(ue|0)==26){G=(kn[e[(e[i>>2]|0)+40>>2]&127](i)|0)+48|0;do if((sl(e[G>>2]|0)|0)==0&&(e[N+56>>2]|0)==0){if(Y[d>>0]|0&&(Q=e[i+8>>2]|0,((e[Q+12>>2]|0)-(e[Q+8>>2]|0)|0)>=5)){ue=31;break}Em(l,i,Ee),Pe=1,ge=e[l>>2]|0}else ue=31;while(0);(ue|0)==31&&(pm(l,i,Ee),Pe=0,ge=e[l>>2]|0),ge?(ie=Pe,se=ge,ue=42):Be=0}return(ue|0)==42&&(ue=e[f>>2]|0,(ue|0)==-1?_e=i+68|0:_e=(e[m>>2]|0)+(ue*136|0)+132|0,e[_e>>2]=ie,ie=It(76)|0,e[u>>2]=se,C3(ie,u,s),s=ie,ie=e[u>>2]|0,e[u>>2]=0,ie|0&&On[e[(e[ie>>2]|0)+4>>2]&127](ie),ie=i+188|0,u=e[ie>>2]|0,(u|0)==(e[i+192>>2]|0)?pi(i+184|0,f):(e[u>>2]=e[f>>2],e[ie>>2]=u+4),u=kn[e[(e[i>>2]|0)+40>>2]&127](i)|0,e[g>>2]=s,i=u+12|0,ie=e[i>>2]|0,ie>>>0<(e[u+16>>2]|0)>>>0?(e[g>>2]=0,e[ie>>2]=s,e[i>>2]=ie+4,Ce=g):(Ea(u+8|0,g),Ce=g),g=e[Ce>>2]|0,e[Ce>>2]=0,g&&On[e[(e[g>>2]|0)+4>>2]&127](g),Be=1),V=Be,q=o,V|0}function xP(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0;if(o=q,q=q+80|0,l=o+72|0,f=o+64|0,h=o,u=o+68|0,g=o+60|0,d=i+288|0,Y[d>>0]|0&&(m=kn[e[(e[i>>2]|0)+40>>2]&127](i)|0,((e[m+12>>2]|0)-(e[m+8>>2]|0)|0)>0))return m=(kn[e[(e[i>>2]|0)+40>>2]&127](i)|0)+8|0,b=e[e[m>>2]>>2]|0,e[l>>2]=s,m=b+4|0,w=b+8|0,x=e[w>>2]|0,(x|0)==(e[b+12>>2]|0)?pi(m,l):(e[x>>2]=s,e[w>>2]=x+4),x=e[l>>2]|0,C=b+16|0,S=b+20|0,b=e[S>>2]|0,D=e[C>>2]|0,I=b-D>>2,L=D,(x|0)<(I|0)?(P=L,N=x):(D=x+1|0,e[f>>2]=-1,X=b,D>>>0<=I>>>0?D>>>0<I>>>0&&(b=L+(D<<2)|0,(b|0)!=(X|0))?(e[S>>2]=X+(~((X+-4-b|0)>>>2)<<2),j=x,Q=L):(j=x,Q=L):(W0(C,D-I|0,f),j=e[l>>2]|0,Q=e[C>>2]|0),P=Q,N=j),e[P+(N<<2)>>2]=((e[w>>2]|0)-(e[m>>2]|0)>>2)+-1,V=1,q=o,V|0;m=(kn[e[(e[i>>2]|0)+40>>2]&127](i)|0)+56|0,w=e[(e[(e[m>>2]|0)+84>>2]|0)+(s<<2)>>2]|0,m=(kn[e[(e[i>>2]|0)+40>>2]&127](i)|0)+4|0,N=e[(e[(e[m>>2]|0)+8>>2]|0)+(s<<2)>>2]|0,e[f>>2]=-1,m=i+172|0,P=e[i+176>>2]|0,j=e[m>>2]|0,Q=j;e:do if((P|0)==(j|0))G=-1;else{for(C=(P-j|0)/136|0,I=0;(e[Q+(I*136|0)>>2]|0)!=(s|0);)if(D=I+1|0,D>>>0<C>>>0)I=D;else{G=-1;break e}e[f>>2]=I,G=I}while(0);e:do if(Y[d>>0]|0)ue=24;else{j=(e[N+56>>2]|0)==0;do if(!((w|0)==0|j)){if((w|0)==1&&Y[Q+(G*136|0)+28>>0]|0)break;P=Q+(G*136|0)+104|0,C=Q+(G*136|0)+4|0,D=(e[Q+(G*136|0)+60>>2]|0)-(e[Q+(G*136|0)+56>>2]|0)>>2,e[l>>2]=-1,pe(Q+(G*136|0)+116|0,D,l),D=It(80)|0,L=e[i+8>>2]|0,e[D+4>>2]=0,e[D>>2]=3164,x=D+8|0,b=D+12|0,X=b+44|0;do e[b>>2]=0,b=b+4|0;while((b|0)<(X|0));e[x>>2]=3188,S=D+56|0,e[S>>2]=0,e[D+60>>2]=0,e[D+64>>2]=0,e[D+68>>2]=L,e[D+72>>2]=P,ee=D+76|0,e[ee>>2]=0,J=h+4|0,b=J+4|0,X=b+40|0;do e[b>>2]=0,b=b+4|0;while((b|0)<(X|0));e[h>>2]=3188,b=h+48|0,e[b>>2]=0,X=h+52|0,e[X>>2]=0,e[h+56>>2]=0,e[J>>2]=C,O=e[Q+(G*136|0)+68>>2]|0,$=((e[O+4>>2]|0)-(e[O>>2]|0)>>2>>>0)/3|0,Y[l>>0]=0,mo(h+24|0,$,l),$=e[J>>2]|0,O=(e[$+56>>2]|0)-(e[$+52>>2]|0)>>2,Y[l>>0]=0,mo(h+36|0,O,l),e[h+8>>2]=C,e[h+12>>2]=P,e[h+16>>2]=L,e[h+20>>2]=D,e[ee>>2]=i+72,ud(x,h)|0,Yt(S,e[b>>2]|0,e[X>>2]|0),O=D,e[h>>2]=3188,$=e[b>>2]|0,$|0&&(b=e[X>>2]|0,(b|0)!=($|0)&&(e[X>>2]=b+(~((b+-4-$|0)>>>2)<<2)),Ae($)),e[h>>2]=3208,$=e[h+36>>2]|0,$|0&&Ae($),$=e[h+24>>2]|0,$|0&&Ae($),ie=0,se=O,ue=42;break e}while(0);j?ue=24:(I=e[i+12>>2]|0,O=(e[I+28>>2]|0)-(e[I+24>>2]|0)>>2,e[l>>2]=-1,pe(Q+(G*136|0)+116|0,O,l),Y[(e[m>>2]|0)+((e[f>>2]|0)*136|0)+100>>0]=0,Ee=Q+(G*136|0)+104|0,ue=26)}while(0);if((ue|0)==24&&(Ee=i+40|0,ue=26),(ue|0)==26){G=(kn[e[(e[i>>2]|0)+40>>2]&127](i)|0)+48|0;do if((sl(e[G>>2]|0)|0)==0&&(e[N+56>>2]|0)==0){if(Y[d>>0]|0&&(Q=e[i+8>>2]|0,((e[Q+12>>2]|0)-(e[Q+8>>2]|0)|0)>=5)){ue=31;break}Em(l,i,Ee),Pe=1,ge=e[l>>2]|0}else ue=31;while(0);(ue|0)==31&&(pm(l,i,Ee),Pe=0,ge=e[l>>2]|0),ge?(ie=Pe,se=ge,ue=42):Be=0}return(ue|0)==42&&(ue=e[f>>2]|0,(ue|0)==-1?_e=i+68|0:_e=(e[m>>2]|0)+(ue*136|0)+132|0,e[_e>>2]=ie,ie=It(76)|0,e[u>>2]=se,C3(ie,u,s),s=ie,ie=e[u>>2]|0,e[u>>2]=0,ie|0&&On[e[(e[ie>>2]|0)+4>>2]&127](ie),ie=i+188|0,u=e[ie>>2]|0,(u|0)==(e[i+192>>2]|0)?pi(i+184|0,f):(e[u>>2]=e[f>>2],e[ie>>2]=u+4),u=kn[e[(e[i>>2]|0)+40>>2]&127](i)|0,e[g>>2]=s,i=u+12|0,ie=e[i>>2]|0,ie>>>0<(e[u+16>>2]|0)>>>0?(e[g>>2]=0,e[ie>>2]=s,e[i>>2]=ie+4,Ce=g):(Ea(u+8|0,g),Ce=g),g=e[Ce>>2]|0,e[Ce>>2]=0,g&&On[e[(e[g>>2]|0)+4>>2]&127](g),Be=1),V=Be,q=o,V|0}function EP(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0,Wt=0,cr=0;if(f=q,q=q+64|0,l=f+48|0,u=f+40|0,g=f+32|0,d=f+16|0,m=f+8|0,b=f,w=f+28|0,x=i+8|0,C=e[x>>2]|0,(C+-2|0)>>>0<=28&&(e[i+72>>2]=C,S=1<<C,e[i+76>>2]=S+-1,C=S+-2|0,e[i+80>>2]=C,e[i+84>>2]=(C|0)/2|0),C=i+40|0,e[i+48>>2]=h,h=i+88|0,Sn(h),S=i+36|0,D=e[S>>2]|0,I=(e[D+4>>2]|0)-(e[D>>2]|0)|0,L=I>>2,e[d>>2]=0,e[d+4>>2]=0,e[d+8>>2]=0,P=m,e[P>>2]=0,e[P+4>>2]=0,P=b,e[P>>2]=0,e[P+4>>2]=0,(I|0)<=0)return q=f,1;for(I=d+4|0,P=d+8|0,N=i+84|0,X=i+80|0,j=u+4|0,Q=g+4|0,V=l+4|0,G=m+4|0,ee=u+4|0,J=g+4|0,O=l+4|0,$=b+4|0,ie=i+76|0,i=m+4|0,se=b+4|0,ue=e[D>>2]|0,(e[D+4>>2]|0)==(ue|0)?qe():(Ee=0,Pe=ue);;){e[w>>2]=e[Pe+(Ee<<2)>>2],e[l>>2]=e[w>>2],Ny(C,l,d),ue=e[d>>2]|0,D=(ue|0)>-1?ue:0-ue|0,ge=e[I>>2]|0,Be=(ge|0)>-1?ge:0-ge|0,_e=Qt(Be|0,((Be|0)<0)<<31>>31|0,D|0,((D|0)<0)<<31>>31|0)|0,D=e[P>>2]|0,Be=(D|0)>-1,Ce=Be?D:0-D|0,D=Qt(_e|0,Ze|0,Ce|0,((Ce|0)<0)<<31>>31|0)|0,Ce=Ze,(D|0)==0&(Ce|0)==0?(_e=e[N>>2]|0,We=_e,lt=d,et=ge,Ve=_e):(_e=e[N>>2]|0,He=((_e|0)<0)<<31>>31,st=Wr(_e|0,He|0,ue|0,((ue|0)<0)<<31>>31|0)|0,ue=m0(st|0,Ze|0,D|0,Ce|0)|0,e[d>>2]=ue,st=Wr(_e|0,He|0,ge|0,((ge|0)<0)<<31>>31|0)|0,ge=m0(st|0,Ze|0,D|0,Ce|0)|0,e[I>>2]=ge,Ce=_e-((ue|0)>-1?ue:0-ue|0)-((ge|0)>-1?ge:0-ge|0)|0,We=Be?Ce:0-Ce|0,lt=P,et=ge,Ve=_e),e[lt>>2]=We,_e=e[d>>2]|0;do if((_e|0)<=-1)if((et|0)<0?(ge=e[P>>2]|0,Je=(ge|0)>-1?ge:0-ge|0,it=ge):(ge=e[P>>2]|0,Je=(e[X>>2]|0)-((ge|0)>-1?ge:0-ge|0)|0,it=ge),(it|0)<0){ze=(et|0)>-1?et:0-et|0,Ge=Je,ke=it;break}else{ze=(e[X>>2]|0)-((et|0)>-1?et:0-et|0)|0,Ge=Je,ke=it;break}else ge=e[P>>2]|0,ze=ge+Ve|0,Ge=Ve+et|0,ke=ge;while(0);ge=(Ge|0)==0,Ce=(ze|0)==0,Be=e[X>>2]|0;do if(ze|Ge)if(ue=(Be|0)==(ze|0),ge&ue)ut=ze,tt=ze;else if(D=(Be|0)==(Ge|0),Ce&D)ut=Ge,tt=Ge;else{if(ge&(Ve|0)<(ze|0)){ut=0,tt=(Ve<<1)-ze|0;break}if(D&(Ve|0)>(ze|0)){ut=Ge,tt=(Ve<<1)-ze|0;break}if(ue&(Ve|0)>(Ge|0)){ut=(Ve<<1)-Ge|0,tt=ze;break}Ce?(ut=(Ve|0)<(Ge|0)?(Ve<<1)-Ge|0:Ge,tt=0):(ut=Ge,tt=ze)}else ut=Be,tt=Be;while(0);Ce=0-et|0,ge=0-ke|0,e[d>>2]=0-_e,e[I>>2]=Ce,e[P>>2]=ge,(_e|0)<1?(at=Ve-ke|0,Mt=Ve-et|0):(ue=(ke|0)<1?ge:ke,ge=(et|0)<1?Ce:et,at=(ke|0)>0?ge:Be-ge|0,Mt=(et|0)>0?ue:Be-ue|0),ue=(Mt|0)==0,ge=(at|0)==0;do if((at|Mt|0)!=0&&(Ce=(Be|0)==(at|0),!(ue&Ce))&&(D=(Be|0)==(Mt|0),!(ge&D))){if(ue&(Ve|0)<(at|0)){Pt=0,yt=(Ve<<1)-at|0;break}if(D&(Ve|0)>(at|0)){Pt=Be,yt=(Ve<<1)-at|0;break}if(Ce&(Ve|0)>(Mt|0)){Pt=(Ve<<1)-Mt|0,yt=Be;break}ge?(Pt=(Ve|0)<(Mt|0)?(Ve<<1)-Mt|0:Mt,yt=0):(Pt=Mt,yt=at)}else Pt=Be,yt=Be;while(0);if(Be=Ee<<1,ge=s+(Be<<2)|0,ue=ge+4|0,_e=e[ue>>2]|0,e[u>>2]=e[ge>>2],e[j>>2]=_e,e[g>>2]=ut,e[Q>>2]=tt,Is(l,x,u,g),_e=e[l>>2]|0,e[m>>2]=_e,Ce=e[V>>2]|0,e[G>>2]=Ce,D=e[ue>>2]|0,e[u>>2]=e[ge>>2],e[ee>>2]=D,e[g>>2]=Pt,e[J>>2]=yt,Is(l,x,u,g),D=e[l>>2]|0,e[b>>2]=D,ge=e[O>>2]|0,e[$>>2]=ge,ue=e[N>>2]|0,(ue|0)>=(_e|0)?(_e|0)<(0-ue|0)?Vt=(e[ie>>2]|0)+_e|0:Vt=_e:Vt=_e-(e[ie>>2]|0)|0,e[m>>2]=Vt,(ue|0)>=(Ce|0)?(Ce|0)<(0-ue|0)?Lt=(e[ie>>2]|0)+Ce|0:Lt=Ce:Lt=Ce-(e[ie>>2]|0)|0,e[i>>2]=Lt,(ue|0)>=(D|0)?(D|0)<(0-ue|0)?At=(e[ie>>2]|0)+D|0:At=D:At=D-(e[ie>>2]|0)|0,e[b>>2]=At,(ue|0)>=(ge|0)?(ge|0)<(0-ue|0)?_t=(e[ie>>2]|0)+ge|0:_t=ge:_t=ge-(e[ie>>2]|0)|0,e[se>>2]=_t,(((Lt|0)>-1?Lt:0-Lt|0)+((Vt|0)>-1?Vt:0-Vt|0)|0)<(((At|0)>-1?At:0-At|0)+((_t|0)>-1?_t:0-_t|0)|0)?(Wn(h,0),St=m):(Wn(h,1),St=b),ge=e[St>>2]|0,(ge|0)<0?fr=(e[ie>>2]|0)+ge|0:fr=ge,ge=o+(Be<<2)|0,e[ge>>2]=fr,Be=e[St+4>>2]|0,(Be|0)<0?Wt=(e[ie>>2]|0)+Be|0:Wt=Be,e[ge+4>>2]=Wt,Ee=Ee+1|0,(Ee|0)>=(L|0)){cr=5;break}if(ge=e[S>>2]|0,Pe=e[ge>>2]|0,(e[ge+4>>2]|0)-Pe>>2>>>0<=Ee>>>0){cr=6;break}}return(cr|0)==5?(q=f,1):((cr|0)==6&&qe(),0)}function _P(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0;if(o=q,q=q+48|0,l=o+24|0,f=o+12|0,h=o,!s)return u=0,q=o,u|0;if(g=i+12|0,d=i+4|0,m=e[d>>2]|0,b=e[i>>2]|0,w=m-b>>2,x=i+16|0,C=e[x>>2]|0,S=e[g>>2]|0,D=C-S>>2,I=S,S=C,w>>>0<=D>>>0?w>>>0<D>>>0&&(C=I+(w<<2)|0,(C|0)!=(S|0))?(e[x>>2]=S+(~((S+-4-C|0)>>>2)<<2),L=b,P=m):(L=b,P=m):(W0(g,w-D|0,5828),L=e[i>>2]|0,P=e[d>>2]|0),e[l>>2]=0,D=l+4|0,e[D>>2]=0,e[l+8>>2]=0,ol(l,P-L>>2),L=e[d>>2]|0,P=e[i>>2]|0,(L|0)==(P|0))N=L,X=L;else for(w=e[l>>2]|0,m=w,b=m,C=0,S=L,L=m,m=P,P=w;;)if(w=e[m+(C<<2)>>2]|0,x=e[D>>2]|0,w>>>0<x-P>>2>>>0?(j=b,Q=L,V=m,G=S):(I=w+1|0,e[f>>2]=0,ee=x-P>>2,J=P,O=x,I>>>0<=ee>>>0?I>>>0<ee>>>0&&(x=J+(I<<2)|0,(x|0)!=(O|0))?(e[D>>2]=O+(~((O+-4-x|0)>>>2)<<2),$=b,ie=S,se=m):($=b,ie=S,se=m):(W0(l,I-ee|0,f),$=e[l>>2]|0,ie=e[d>>2]|0,se=e[i>>2]|0),j=$,Q=$,V=se,G=ie),ee=Q+(w<<2)|0,e[ee>>2]=(e[ee>>2]|0)+1,C=C+1|0,C>>>0>=G-V>>2>>>0){N=V,X=G;break}else b=j,S=G,L=Q,m=V,P=Q;if(Q=X-N|0,N=Q>>2,e[f>>2]=0,X=f+4|0,e[X>>2]=0,e[f+8>>2]=0,!N)ue=0,Ee=0;else{for(N>>>0>536870911&&qe(),P=It(Q<<1)|0,e[X>>2]=P,e[f>>2]=P,Q=P+(N<<3)|0,e[f+8>>2]=Q,V=N,N=P,m=P;L=N,e[L>>2]=-1,e[L+4>>2]=-1,L=m+8|0,G=V+-1|0,G;)V=G,N=L,m=L;e[X>>2]=Q,ue=P,Ee=P}P=e[D>>2]|0,Q=e[l>>2]|0,m=P-Q|0,N=m>>2,e[h>>2]=0,V=h+4|0,e[V>>2]=0,e[h+8>>2]=0,L=Q;do if(N)if(N>>>0>1073741823)qe();else{G=It(m)|0,e[h>>2]=G,S=G+(N<<2)|0,e[h+8>>2]=S,Tr(G|0,0,m|0)|0,e[V>>2]=S,Pe=G,ge=S,Be=G;break}else Pe=0,ge=0,Be=0;while(0);if((P|0)!=(Q|0))for(Q=0,P=0;e[Pe+(P<<2)>>2]=Q,m=P+1|0,m>>>0<N>>>0;)Q=(e[L+(P<<2)>>2]|0)+Q|0,P=m;if(P=e[d>>2]|0,d=e[i>>2]|0,Q=d,(P|0)!=(d|0))for(m=i+40|0,i=P-d>>2,d=ue,P=ue,h=ue,G=ue,S=ue,j=ue,b=0,C=Pe;;){ie=e[Q+(b<<2)>>2]|0,se=b+1|0,$=((se>>>0)%3|0|0)==0?b+-2|0:se,($|0)==-1?_e=-1:_e=e[Q+($<<2)>>2]|0,$=((b>>>0)%3|0|0)==0,se=($?2:-1)+b|0,(se|0)==-1?Ce=-1:Ce=e[Q+(se<<2)>>2]|0,$&&(_e|0)==(Ce|0)|((ie|0)==(_e|0)|(ie|0)==(Ce|0))?(e[m>>2]=(e[m>>2]|0)+1,We=d,lt=P,et=h,Ve=G,He=S,st=j,Je=b+2|0,it=C):ze=51;e:do if((ze|0)==51){ze=0,$=e[L+(Ce<<2)>>2]|0;t:do if(($|0)>0){for(se=0,ee=e[C+(Ce<<2)>>2]|0;;){if(w=e[S+(ee<<3)>>2]|0,(w|0)==-1){Ge=d,ke=P,ut=G,tt=S;break t}if((w|0)==(_e|0)&&(w=e[S+(ee<<3)+4>>2]|0,(w|0)==-1?at=-1:at=e[Q+(w<<2)>>2]|0,(ie|0)!=(at|0)))break;if(w=se+1|0,(w|0)<($|0))se=w,ee=ee+1|0;else{Ge=d,ke=P,ut=G,tt=S;break t}}for(w=e[G+(ee<<3)+4>>2]|0,I=se,x=ee,O=P;I=I+1|0,!((I|0)>=($|0)||(J=x+1|0,e[O+(x<<3)>>2]=e[O+(J<<3)>>2],e[O+(x<<3)+4>>2]=e[O+(J<<3)+4>>2],(e[d+(x<<3)>>2]|0)==-1));)x=J,O=d;if(e[h+(x<<3)>>2]=-1,(w|0)==-1)Ge=h,ke=h,ut=h,tt=h;else{O=e[g>>2]|0,e[O+(b<<2)>>2]=w,e[O+(w<<2)>>2]=b,We=h,lt=h,et=h,Ve=h,He=h,st=j,Je=b,it=C;break e}}else Ge=d,ke=P,ut=G,tt=S;while(0);if($=e[L+(_e<<2)>>2]|0,($|0)>0){for(O=0,I=e[Pe+(_e<<2)>>2]|0;Mt=j+(I<<3)|0,(e[Mt>>2]|0)!=-1;)if(O=O+1|0,(O|0)>=($|0)){We=j,lt=j,et=j,Ve=j,He=j,st=j,Je=b,it=Pe;break e}else I=I+1|0;e[Mt>>2]=Ce,e[ue+(I<<3)+4>>2]=b,We=ue,lt=ue,et=ue,Ve=ue,He=ue,st=ue,Je=b,it=Pe}else We=Ge,lt=ke,et=h,Ve=ut,He=tt,st=j,Je=b,it=C}while(0);if(b=Je+1|0,b>>>0>=i>>>0)break;d=We,P=lt,h=et,G=Ve,S=He,j=st,C=it}return e[s>>2]=N,Pe?((ge|0)!=(Pe|0)&&(e[V>>2]=ge+(~((ge+-4-Pe|0)>>>2)<<2)),Ae(Be),Be=e[f>>2]|0,Pt=Be,yt=Be):(Pt=ue,yt=Ee),Pt|0&&(Be=e[X>>2]|0,(Be|0)!=(Pt|0)&&(e[X>>2]=Be+(~((Be+-8-Pt|0)>>>3)<<3)),Ae(yt)),yt=e[l>>2]|0,yt|0&&(l=e[D>>2]|0,(l|0)!=(yt|0)&&(e[D>>2]=l+(~((l+-4-yt|0)>>>2)<<2)),Ae(yt)),u=1,q=o,u|0}function ck(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=vi,lt=vi,et=vi,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0;if(l=q,q=q+48|0,f=l+12|0,h=l+35|0,u=l+32|0,g=l,d=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,bi[d>>2]=Zt(1),m=i+80|0,b=e[m>>2]|0,e[g>>2]=0,w=g+4|0,e[w>>2]=0,e[g+8>>2]=0,b){for(b>>>0>1073741823&&qe(),x=b<<2,C=It(x)|0,e[g>>2]=C,S=C+(b<<2)|0,e[g+8>>2]=S,Tr(C|0,0,x|0)|0,e[w>>2]=S,S=e[o>>2]|0,o=s+48|0,x=s+40|0,C=u+1|0,b=u+2|0,D=f+4|0,I=f+12|0,L=f+8|0,P=i+40|0,N=i+64|0,X=0,j=0;;){if(Q=o,V=e[Q>>2]|0,G=e[Q+4>>2]|0,Q=x,ee=Wr(e[Q>>2]|0,e[Q+4>>2]|0,S+X|0,0)|0,Q=Qt(ee|0,Ze|0,V|0,G|0)|0,G=(e[e[s>>2]>>2]|0)+Q|0,Y[h>>0]=Y[G>>0]|0,Y[h+1>>0]=Y[G+1>>0]|0,Y[h+2>>0]=Y[G+2>>0]|0,Q0(u|0,G|0,3)|0,G=je(f,u)|0,G)O=e[g>>2]|0,e[O+(X<<2)>>2]=e[G+12>>2],it=j,ze=O;else{Q=Y[u>>0]|0,V=Y[C>>0]|0,ee=Y[b>>0]|0,J=((Q&255^318)+239^V&255)+239^ee&255,O=e[D>>2]|0,$=(O|0)==0;e:do if($)ge=0,Be=29;else if(ie=O+-1|0,se=(ie&O|0)==0,se?ue=J&ie:J>>>0<O>>>0?ue=J:ue=(J>>>0)%(O>>>0)|0,Ee=e[(e[f>>2]|0)+(ue<<2)>>2]|0,(Ee|0)!=0&&(Pe=e[Ee>>2]|0,(Pe|0)!=0)){if(se)for(se=Pe;;){if(Ee=e[se+4>>2]|0,!((Ee|0)==(J|0)|(Ee&ie|0)==(ue|0))){ge=ue,Be=29;break e}if(Ee=se+8|0,(Y[Ee>>0]|0)==Q<<24>>24&&(Y[Ee+1>>0]|0)==V<<24>>24&&(Y[Ee+2>>0]|0)==ee<<24>>24)break e;if(se=e[se>>2]|0,!se){ge=ue,Be=29;break e}}else _e=Pe;for(;;){if(se=e[_e+4>>2]|0,(se|0)!=(J|0)&&(se>>>0<O>>>0?Ce=se:Ce=(se>>>0)%(O>>>0)|0,(Ce|0)!=(ue|0))){ge=ue,Be=29;break e}if(se=_e+8|0,(Y[se>>0]|0)==Q<<24>>24&&(Y[se+1>>0]|0)==V<<24>>24&&(Y[se+2>>0]|0)==ee<<24>>24)break e;if(_e=e[_e>>2]|0,!_e){ge=ue,Be=29;break}}}else ge=ue,Be=29;while(0);if((Be|0)==29){Be=0,Pe=It(16)|0,Y[Pe+8>>0]=Q,Y[Pe+9>>0]=V,Y[Pe+10>>0]=ee,e[Pe+12>>2]=j,e[Pe+4>>2]=J,e[Pe>>2]=0,We=Zt(((e[I>>2]|0)+1|0)>>>0),lt=Zt(O>>>0),et=Zt(bi[d>>2]);do if($|Zt(et*lt)<We){if(se=O<<1|(O>>>0<3|(O+-1&O|0)!=0)&1,ie=~~Zt(yi(Zt(We/et)))>>>0,aL(f,se>>>0<ie>>>0?ie:se),se=e[D>>2]|0,ie=se+-1|0,!(ie&se)){Ve=se,He=ie&J;break}J>>>0<se>>>0?(Ve=se,He=J):(Ve=se,He=(J>>>0)%(se>>>0)|0)}else Ve=O,He=ge;while(0);O=(e[f>>2]|0)+(He<<2)|0,J=e[O>>2]|0,J?(e[Pe>>2]=e[J>>2],Je=J,Be=42):(e[Pe>>2]=e[L>>2],e[L>>2]=Pe,e[O>>2]=L,O=e[Pe>>2]|0,O|0&&($=e[O+4>>2]|0,O=Ve+-1|0,O&Ve?$>>>0<Ve>>>0?st=$:st=($>>>0)%(Ve>>>0)|0:st=$&O,Je=(e[f>>2]|0)+(st<<2)|0,Be=42)),(Be|0)==42&&(Be=0,e[Je>>2]=Pe),e[I>>2]=(e[I>>2]|0)+1}J=P,O=e[J>>2]|0,$=Wr(O|0,e[J+4>>2]|0,j|0,0)|0,Fi((e[e[N>>2]>>2]|0)+$|0,h|0,O|0)|0,O=e[g>>2]|0,e[O+(X<<2)>>2]=j,it=j+1|0,ze=O}if(X=X+1|0,Ge=e[m>>2]|0,X>>>0>=Ge>>>0)break;j=it}if((it|0)==(Ge|0))ke=ze;else{if(j=i+84|0,Y[j>>0]|0)if(Y[j>>0]=0,j=i+68|0,ze=i+72|0,P=e[ze>>2]|0,h=e[j>>2]|0,N=P-h>>2,X=h,h=P,Ge>>>0<=N>>>0?(Ge>>>0<N>>>0&&(P=X+(Ge<<2)|0,(P|0)!=(h|0))&&(e[ze>>2]=h+(~((h+-4-P|0)>>>2)<<2)),tt=Ge):(W0(j,Ge-N|0,1204),tt=e[m>>2]|0),N=e[g>>2]|0,!tt)ut=N;else{g=e[i+68>>2]|0,i=0;do e[g+(i<<2)>>2]=e[N+(i<<2)>>2],i=i+1|0;while(i>>>0<tt>>>0);ut=N}else if(X=e[i+72>>2]|0,h=e[i+68>>2]|0,N=h,(X|0)==(h|0))ut=ze;else{P=X-h>>2,h=0;do X=N+(h<<2)|0,e[X>>2]=e[ze+(e[X>>2]<<2)>>2],h=h+1|0;while(h>>>0<P>>>0);ut=ze}e[m>>2]=it,ke=ut}ke&&(ut=e[w>>2]|0,(ut|0)!=(ke|0)&&(e[w>>2]=ut+(~((ut+-4-ke|0)>>>2)<<2)),Ae(ke)),at=it}else at=0;if(it=e[f+8>>2]|0,it|0){ke=it;do it=ke,ke=e[ke>>2]|0,Ae(it);while((ke|0)!=0)}return ke=e[f>>2]|0,e[f>>2]=0,ke?(Ae(ke),q=l,at|0):(q=l,at|0)}function kP(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0,Pt=0,yt=0,Vt=0,Lt=0,At=0,_t=0,St=0,fr=0,Wt=0,cr=0;if(f=q,q=q+64|0,l=f+48|0,u=f+40|0,g=f+32|0,d=f+16|0,m=f+8|0,b=f,w=f+28|0,x=i+8|0,C=e[x>>2]|0,(C+-2|0)>>>0<=28&&(e[i+72>>2]=C,S=1<<C,e[i+76>>2]=S+-1,C=S+-2|0,e[i+80>>2]=C,e[i+84>>2]=(C|0)/2|0),C=i+40|0,e[i+48>>2]=h,h=i+88|0,Sn(h),S=i+36|0,D=e[S>>2]|0,I=(e[D+4>>2]|0)-(e[D>>2]|0)|0,L=I>>2,e[d>>2]=0,e[d+4>>2]=0,e[d+8>>2]=0,P=m,e[P>>2]=0,e[P+4>>2]=0,P=b,e[P>>2]=0,e[P+4>>2]=0,(I|0)<=0)return q=f,1;for(I=d+4|0,P=d+8|0,N=i+84|0,X=i+80|0,j=u+4|0,Q=g+4|0,V=l+4|0,G=m+4|0,ee=u+4|0,J=g+4|0,O=l+4|0,$=b+4|0,ie=i+76|0,i=m+4|0,se=b+4|0,ue=e[D>>2]|0,(e[D+4>>2]|0)==(ue|0)?qe():(Ee=0,Pe=ue);;){e[w>>2]=e[Pe+(Ee<<2)>>2],e[l>>2]=e[w>>2],Py(C,l,d),ue=e[d>>2]|0,D=(ue|0)>-1?ue:0-ue|0,ge=e[I>>2]|0,Be=(ge|0)>-1?ge:0-ge|0,_e=Qt(Be|0,((Be|0)<0)<<31>>31|0,D|0,((D|0)<0)<<31>>31|0)|0,D=e[P>>2]|0,Be=(D|0)>-1,Ce=Be?D:0-D|0,D=Qt(_e|0,Ze|0,Ce|0,((Ce|0)<0)<<31>>31|0)|0,Ce=Ze,(D|0)==0&(Ce|0)==0?(_e=e[N>>2]|0,We=_e,lt=d,et=ge,Ve=_e):(_e=e[N>>2]|0,He=((_e|0)<0)<<31>>31,st=Wr(_e|0,He|0,ue|0,((ue|0)<0)<<31>>31|0)|0,ue=m0(st|0,Ze|0,D|0,Ce|0)|0,e[d>>2]=ue,st=Wr(_e|0,He|0,ge|0,((ge|0)<0)<<31>>31|0)|0,ge=m0(st|0,Ze|0,D|0,Ce|0)|0,e[I>>2]=ge,Ce=_e-((ue|0)>-1?ue:0-ue|0)-((ge|0)>-1?ge:0-ge|0)|0,We=Be?Ce:0-Ce|0,lt=P,et=ge,Ve=_e),e[lt>>2]=We,_e=e[d>>2]|0;do if((_e|0)<=-1)if((et|0)<0?(ge=e[P>>2]|0,Je=(ge|0)>-1?ge:0-ge|0,it=ge):(ge=e[P>>2]|0,Je=(e[X>>2]|0)-((ge|0)>-1?ge:0-ge|0)|0,it=ge),(it|0)<0){ze=(et|0)>-1?et:0-et|0,Ge=Je,ke=it;break}else{ze=(e[X>>2]|0)-((et|0)>-1?et:0-et|0)|0,Ge=Je,ke=it;break}else ge=e[P>>2]|0,ze=ge+Ve|0,Ge=Ve+et|0,ke=ge;while(0);ge=(Ge|0)==0,Ce=(ze|0)==0,Be=e[X>>2]|0;do if(ze|Ge)if(ue=(Be|0)==(ze|0),ge&ue)ut=ze,tt=ze;else if(D=(Be|0)==(Ge|0),Ce&D)ut=Ge,tt=Ge;else{if(ge&(Ve|0)<(ze|0)){ut=0,tt=(Ve<<1)-ze|0;break}if(D&(Ve|0)>(ze|0)){ut=Ge,tt=(Ve<<1)-ze|0;break}if(ue&(Ve|0)>(Ge|0)){ut=(Ve<<1)-Ge|0,tt=ze;break}Ce?(ut=(Ve|0)<(Ge|0)?(Ve<<1)-Ge|0:Ge,tt=0):(ut=Ge,tt=ze)}else ut=Be,tt=Be;while(0);Ce=0-et|0,ge=0-ke|0,e[d>>2]=0-_e,e[I>>2]=Ce,e[P>>2]=ge,(_e|0)<1?(at=Ve-ke|0,Mt=Ve-et|0):(ue=(ke|0)<1?ge:ke,ge=(et|0)<1?Ce:et,at=(ke|0)>0?ge:Be-ge|0,Mt=(et|0)>0?ue:Be-ue|0),ue=(Mt|0)==0,ge=(at|0)==0;do if((at|Mt|0)!=0&&(Ce=(Be|0)==(at|0),!(ue&Ce))&&(D=(Be|0)==(Mt|0),!(ge&D))){if(ue&(Ve|0)<(at|0)){Pt=0,yt=(Ve<<1)-at|0;break}if(D&(Ve|0)>(at|0)){Pt=Be,yt=(Ve<<1)-at|0;break}if(Ce&(Ve|0)>(Mt|0)){Pt=(Ve<<1)-Mt|0,yt=Be;break}ge?(Pt=(Ve|0)<(Mt|0)?(Ve<<1)-Mt|0:Mt,yt=0):(Pt=Mt,yt=at)}else Pt=Be,yt=Be;while(0);if(Be=Ee<<1,ge=s+(Be<<2)|0,ue=ge+4|0,_e=e[ue>>2]|0,e[u>>2]=e[ge>>2],e[j>>2]=_e,e[g>>2]=ut,e[Q>>2]=tt,Is(l,x,u,g),_e=e[l>>2]|0,e[m>>2]=_e,Ce=e[V>>2]|0,e[G>>2]=Ce,D=e[ue>>2]|0,e[u>>2]=e[ge>>2],e[ee>>2]=D,e[g>>2]=Pt,e[J>>2]=yt,Is(l,x,u,g),D=e[l>>2]|0,e[b>>2]=D,ge=e[O>>2]|0,e[$>>2]=ge,ue=e[N>>2]|0,(ue|0)>=(_e|0)?(_e|0)<(0-ue|0)?Vt=(e[ie>>2]|0)+_e|0:Vt=_e:Vt=_e-(e[ie>>2]|0)|0,e[m>>2]=Vt,(ue|0)>=(Ce|0)?(Ce|0)<(0-ue|0)?Lt=(e[ie>>2]|0)+Ce|0:Lt=Ce:Lt=Ce-(e[ie>>2]|0)|0,e[i>>2]=Lt,(ue|0)>=(D|0)?(D|0)<(0-ue|0)?At=(e[ie>>2]|0)+D|0:At=D:At=D-(e[ie>>2]|0)|0,e[b>>2]=At,(ue|0)>=(ge|0)?(ge|0)<(0-ue|0)?_t=(e[ie>>2]|0)+ge|0:_t=ge:_t=ge-(e[ie>>2]|0)|0,e[se>>2]=_t,(((Lt|0)>-1?Lt:0-Lt|0)+((Vt|0)>-1?Vt:0-Vt|0)|0)<(((At|0)>-1?At:0-At|0)+((_t|0)>-1?_t:0-_t|0)|0)?(Wn(h,0),St=m):(Wn(h,1),St=b),ge=e[St>>2]|0,(ge|0)<0?fr=(e[ie>>2]|0)+ge|0:fr=ge,ge=o+(Be<<2)|0,e[ge>>2]=fr,Be=e[St+4>>2]|0,(Be|0)<0?Wt=(e[ie>>2]|0)+Be|0:Wt=Be,e[ge+4>>2]=Wt,Ee=Ee+1|0,(Ee|0)>=(L|0)){cr=5;break}if(ge=e[S>>2]|0,Pe=e[ge>>2]|0,(e[ge+4>>2]|0)-Pe>>2>>>0<=Ee>>>0){cr=6;break}}return(cr|0)==5?(q=f,1):((cr|0)==6&&qe(),0)}function k3(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=vi,et=vi,Ve=vi,He=0,st=0,Je=0,it=0,ze=0,Ge=0,ke=0,ut=0,tt=0,at=0,Mt=0;if(l=q,q=q+64|0,f=l+36|0,h=l+24|0,u=l+12|0,g=l,d=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,bi[d>>2]=Zt(1),m=i+80|0,b=e[m>>2]|0,e[g>>2]=0,w=g+4|0,e[w>>2]=0,e[g+8>>2]=0,b){for(b>>>0>1073741823&&qe(),x=b<<2,C=It(x)|0,e[g>>2]=C,S=C+(b<<2)|0,e[g+8>>2]=S,Tr(C|0,0,x|0)|0,e[w>>2]=S,S=e[o>>2]|0,o=s+48|0,x=s+40|0,C=u+4|0,b=u+8|0,D=f+4|0,I=f+12|0,L=f+8|0,P=i+40|0,N=i+64|0,X=0,j=0;;){Q=o,V=e[Q>>2]|0,G=e[Q+4>>2]|0,Q=x,ee=Wr(e[Q>>2]|0,e[Q+4>>2]|0,S+j|0,0)|0,Q=Qt(ee|0,Ze|0,V|0,G|0)|0,G=(e[e[s>>2]>>2]|0)+Q|0,Q=h,V=G,ee=Q+12|0;do Y[Q>>0]=Y[V>>0]|0,Q=Q+1|0,V=V+1|0;while((Q|0)<(ee|0));if(Q0(u|0,G|0,12)|0,V=hr(f,u)|0,V)$=e[g>>2]|0,e[$+(j<<2)>>2]=e[V+20>>2],ze=X,Ge=$;else{Q=e[u>>2]|0,ee=e[C>>2]|0,J=e[b>>2]|0,O=((Q^318)+239^ee)+239^J,$=e[D>>2]|0,ie=($|0)==0;e:do if(ie)Be=0,_e=29;else if(se=$+-1|0,ue=(se&$|0)==0,ue?Ee=O&se:O>>>0<$>>>0?Ee=O:Ee=(O>>>0)%($>>>0)|0,Pe=e[(e[f>>2]|0)+(Ee<<2)>>2]|0,(Pe|0)!=0&&(ge=e[Pe>>2]|0,(ge|0)!=0)){if(ue)for(ue=ge;;){if(Pe=e[ue+4>>2]|0,!((Pe|0)==(O|0)|(Pe&se|0)==(Ee|0))){Be=Ee,_e=29;break e}if((e[ue+8>>2]|0)==(Q|0)&&(e[ue+12>>2]|0)==(ee|0)&&(e[ue+16>>2]|0)==(J|0))break e;if(ue=e[ue>>2]|0,!ue){Be=Ee,_e=29;break e}}else Ce=ge;for(;;){if(ue=e[Ce+4>>2]|0,(ue|0)!=(O|0)&&(ue>>>0<$>>>0?We=ue:We=(ue>>>0)%($>>>0)|0,(We|0)!=(Ee|0))){Be=Ee,_e=29;break e}if((e[Ce+8>>2]|0)==(Q|0)&&(e[Ce+12>>2]|0)==(ee|0)&&(e[Ce+16>>2]|0)==(J|0))break e;if(Ce=e[Ce>>2]|0,!Ce){Be=Ee,_e=29;break}}}else Be=Ee,_e=29;while(0);if((_e|0)==29){_e=0,G=It(24)|0,e[G+8>>2]=Q,e[G+12>>2]=ee,e[G+16>>2]=J,e[G+20>>2]=X,e[G+4>>2]=O,e[G>>2]=0,lt=Zt(((e[I>>2]|0)+1|0)>>>0),et=Zt($>>>0),Ve=Zt(bi[d>>2]);do if(ie|Zt(Ve*et)<lt){if(ge=$<<1|($>>>0<3|($+-1&$|0)!=0)&1,ue=~~Zt(yi(Zt(lt/Ve)))>>>0,nL(f,ge>>>0<ue>>>0?ue:ge),ge=e[D>>2]|0,ue=ge+-1|0,!(ue&ge)){He=ge,st=ue&O;break}O>>>0<ge>>>0?(He=ge,st=O):(He=ge,st=(O>>>0)%(ge>>>0)|0)}else He=$,st=Be;while(0);$=(e[f>>2]|0)+(st<<2)|0,O=e[$>>2]|0,O?(e[G>>2]=e[O>>2],it=O,_e=42):(e[G>>2]=e[L>>2],e[L>>2]=G,e[$>>2]=L,$=e[G>>2]|0,$|0&&(ie=e[$+4>>2]|0,$=He+-1|0,$&He?ie>>>0<He>>>0?Je=ie:Je=(ie>>>0)%(He>>>0)|0:Je=ie&$,it=(e[f>>2]|0)+(Je<<2)|0,_e=42)),(_e|0)==42&&(_e=0,e[it>>2]=G),e[I>>2]=(e[I>>2]|0)+1}O=P,$=e[O>>2]|0,ie=Wr($|0,e[O+4>>2]|0,X|0,0)|0,Fi((e[e[N>>2]>>2]|0)+ie|0,h|0,$|0)|0,$=e[g>>2]|0,e[$+(j<<2)>>2]=X,ze=X+1|0,Ge=$}if(j=j+1|0,ke=e[m>>2]|0,j>>>0>=ke>>>0)break;X=ze}if((ze|0)==(ke|0))ut=Ge;else{if(X=i+84|0,Y[X>>0]|0)if(Y[X>>0]=0,X=i+68|0,Ge=i+72|0,P=e[Ge>>2]|0,h=e[X>>2]|0,N=P-h>>2,j=h,h=P,ke>>>0<=N>>>0?(ke>>>0<N>>>0&&(P=j+(ke<<2)|0,(P|0)!=(h|0))&&(e[Ge>>2]=h+(~((h+-4-P|0)>>>2)<<2)),at=ke):(W0(X,ke-N|0,1204),at=e[m>>2]|0),N=e[g>>2]|0,!at)tt=N;else{g=e[i+68>>2]|0,i=0;do e[g+(i<<2)>>2]=e[N+(i<<2)>>2],i=i+1|0;while(i>>>0<at>>>0);tt=N}else if(j=e[i+72>>2]|0,h=e[i+68>>2]|0,N=h,(j|0)==(h|0))tt=Ge;else{P=j-h>>2,h=0;do j=N+(h<<2)|0,e[j>>2]=e[Ge+(e[j>>2]<<2)>>2],h=h+1|0;while(h>>>0<P>>>0);tt=Ge}e[m>>2]=ze,ut=tt}ut&&(tt=e[w>>2]|0,(tt|0)!=(ut|0)&&(e[w>>2]=tt+(~((tt+-4-ut|0)>>>2)<<2)),Ae(ut)),Mt=ze}else Mt=0;if(ze=e[f+8>>2]|0,ze|0){ut=ze;do ze=ut,ut=e[ut>>2]|0,Ae(ze);while((ut|0)!=0)}return ut=e[f>>2]|0,e[f>>2]=0,ut?(Ae(ut),q=l,Mt|0):(q=l,Mt|0)}function CP(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0;o=q,q=q+32|0,l=o+4|0,f=o,h=o+16|0,u=s+56|0,g=e[u>>2]|0,d=(e[g+100>>2]|0)-(e[g+96>>2]|0)|0,g=(d|0)/12|0,m=s+44|0,p0(g,e[m>>2]|0)|0,p0(e[(e[u>>2]|0)+80>>2]|0,e[m>>2]|0)|0,b=e[s+48>>2]|0,w=It(32)|0,e[l>>2]=w,e[l+8>>2]=-2147483616,e[l+4>>2]=21,x=w,C=14562,S=x+21|0;do Y[x>>0]=Y[C>>0]|0,x=x+1|0,C=C+1|0;while((x|0)<(S|0));if(Y[w+21>>0]=0,w=G2(b,l,0)|0,(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0),b=e[m>>2]|0,w){Y[h>>0]=0,w=b+16|0,C=e[w+4>>2]|0,(C|0)>0|(C|0)==0&(e[w>>2]|0)>>>0>0||(e[f>>2]=e[b+4>>2],e[l>>2]=e[f>>2],wi(b,l,h,h+1|0)|0),D6(s)|0,e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,q=o;return}if(Y[h>>0]=1,s=b+16|0,w=e[s+4>>2]|0,(w|0)>0|(w|0)==0&(e[s>>2]|0)>>>0>0||(e[f>>2]=e[b+4>>2],e[l>>2]=e[f>>2],wi(b,l,h,h+1|0)|0),b=e[u>>2]|0,s=e[b+80>>2]|0,s>>>0<256){if(!d){e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,q=o;return}for(w=h+1|0,C=h+1|0,x=h+1|0,S=0,D=b;I=e[D+96>>2]|0,L=e[m>>2]|0,Y[h>>0]=e[I+(S*12|0)>>2],P=L+16|0,N=e[P>>2]|0,X=e[P+4>>2]|0,(X|0)>0|(X|0)==0&N>>>0>0?(j=N,Q=L,V=X):(e[f>>2]=e[L+4>>2],e[l>>2]=e[f>>2],wi(L,l,h,x)|0,L=e[m>>2]|0,X=L+16|0,j=e[X>>2]|0,Q=L,V=e[X+4>>2]|0),Y[h>>0]=e[I+(S*12|0)+4>>2],(V|0)>0|(V|0)==0&j>>>0>0?(G=V,ee=j,J=Q):(e[f>>2]=e[Q+4>>2],e[l>>2]=e[f>>2],wi(Q,l,h,C)|0,X=e[m>>2]|0,L=X+16|0,G=e[L+4>>2]|0,ee=e[L>>2]|0,J=X),Y[h>>0]=e[I+(S*12|0)+8>>2],(G|0)>0|(G|0)==0&ee>>>0>0||(e[f>>2]=e[J+4>>2],e[l>>2]=e[f>>2],wi(J,l,h,w)|0),I=S+1|0,!(I>>>0>=g>>>0);)S=I,D=e[u>>2]|0;e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,q=o;return}if(s>>>0<65536){if(!d){e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,q=o;return}for(D=h+2|0,S=h+2|0,w=h+2|0,J=0,ee=b;G=e[ee+96>>2]|0,C=e[m>>2]|0,Or[h>>1]=e[G+(J*12|0)>>2],Q=C+16|0,j=e[Q>>2]|0,V=e[Q+4>>2]|0,(V|0)>0|(V|0)==0&j>>>0>0?(O=V,$=j,ie=C):(e[f>>2]=e[C+4>>2],e[l>>2]=e[f>>2],wi(C,l,h,w)|0,C=e[m>>2]|0,j=C+16|0,O=e[j+4>>2]|0,$=e[j>>2]|0,ie=C),Or[h>>1]=e[G+(J*12|0)+4>>2],(O|0)>0|(O|0)==0&$>>>0>0?(se=O,ue=$,Ee=ie):(e[f>>2]=e[ie+4>>2],e[l>>2]=e[f>>2],wi(ie,l,h,S)|0,C=e[m>>2]|0,j=C+16|0,se=e[j+4>>2]|0,ue=e[j>>2]|0,Ee=C),Or[h>>1]=e[G+(J*12|0)+8>>2],(se|0)>0|(se|0)==0&ue>>>0>0||(e[f>>2]=e[Ee+4>>2],e[l>>2]=e[f>>2],wi(Ee,l,h,D)|0),G=J+1|0,!(G>>>0>=g>>>0);)J=G,ee=e[u>>2]|0;e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,q=o;return}if(ee=(d|0)!=0,s>>>0<2097152){if(ee)Pe=0,ge=b;else{e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,q=o;return}for(;s=e[ge+96>>2]|0,p0(e[s+(Pe*12|0)>>2]|0,e[m>>2]|0)|0,p0(e[s+(Pe*12|0)+4>>2]|0,e[m>>2]|0)|0,p0(e[s+(Pe*12|0)+8>>2]|0,e[m>>2]|0)|0,s=Pe+1|0,!(s>>>0>=g>>>0);)Pe=s,ge=e[u>>2]|0;e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,q=o;return}if(!ee){e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,q=o;return}for(ee=0,ge=b;b=(e[ge+96>>2]|0)+(ee*12|0)|0,Pe=e[m>>2]|0,s=Pe+16|0,d=e[s+4>>2]|0,(d|0)>0|(d|0)==0&(e[s>>2]|0)>>>0>0||(e[f>>2]=e[Pe+4>>2],e[l>>2]=e[f>>2],wi(Pe,l,b,b+12|0)|0),b=ee+1|0,!(b>>>0>=g>>>0);)ee=b,ge=e[u>>2]|0;e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,q=o}function SP(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0;switch(l=q,q=q+32|0,f=l+16|0,h=l+12|0,u=l+8|0,g=l+4|0,d=l,e[s+28>>2]|0){case 9:{switch(m=e[o>>2]|0,Y[s+24>>0]|0){case 1:{e[h>>2]=m,e[f>>2]=e[h>>2],b=E3(i,s,f)|0;break}case 2:{e[u>>2]=m,e[f>>2]=e[u>>2],b=x3(i,s,f)|0;break}case 3:{e[g>>2]=m,e[f>>2]=e[g>>2],b=k3(i,s,f)|0;break}case 4:{e[d>>2]=m,e[f>>2]=e[d>>2],b=_3(i,s,f)|0;break}default:b=0}w=b;break}case 1:{switch(b=e[o>>2]|0,Y[s+24>>0]|0){case 1:{e[h>>2]=b,e[f>>2]=e[h>>2],x=ok(i,s,f)|0;break}case 2:{e[u>>2]=b,e[f>>2]=e[u>>2],x=ik(i,s,f)|0;break}case 3:{e[g>>2]=b,e[f>>2]=e[g>>2],x=ck(i,s,f)|0;break}case 4:{e[d>>2]=b,e[f>>2]=e[d>>2],x=fk(i,s,f)|0;break}default:x=0}w=x;break}case 11:case 2:{switch(x=e[o>>2]|0,Y[s+24>>0]|0){case 1:{e[h>>2]=x,e[f>>2]=e[h>>2],C=ok(i,s,f)|0;break}case 2:{e[u>>2]=x,e[f>>2]=e[u>>2],C=ik(i,s,f)|0;break}case 3:{e[g>>2]=x,e[f>>2]=e[g>>2],C=ck(i,s,f)|0;break}case 4:{e[d>>2]=x,e[f>>2]=e[d>>2],C=fk(i,s,f)|0;break}default:C=0}w=C;break}case 4:{switch(C=e[o>>2]|0,Y[s+24>>0]|0){case 1:{e[h>>2]=C,e[f>>2]=e[h>>2],S=sk(i,s,f)|0;break}case 2:{e[u>>2]=C,e[f>>2]=e[u>>2],S=tk(i,s,f)|0;break}case 3:{e[g>>2]=C,e[f>>2]=e[g>>2],S=uk(i,s,f)|0;break}case 4:{e[d>>2]=C,e[f>>2]=e[d>>2],S=ak(i,s,f)|0;break}default:S=0}w=S;break}case 3:{switch(S=e[o>>2]|0,Y[s+24>>0]|0){case 1:{e[h>>2]=S,e[f>>2]=e[h>>2],D=sk(i,s,f)|0;break}case 2:{e[u>>2]=S,e[f>>2]=e[u>>2],D=tk(i,s,f)|0;break}case 3:{e[g>>2]=S,e[f>>2]=e[g>>2],D=uk(i,s,f)|0;break}case 4:{e[d>>2]=S,e[f>>2]=e[d>>2],D=ak(i,s,f)|0;break}default:D=0}w=D;break}case 6:{switch(D=e[o>>2]|0,Y[s+24>>0]|0){case 1:{e[h>>2]=D,e[f>>2]=e[h>>2],I=E3(i,s,f)|0;break}case 2:{e[u>>2]=D,e[f>>2]=e[u>>2],I=x3(i,s,f)|0;break}case 3:{e[g>>2]=D,e[f>>2]=e[g>>2],I=k3(i,s,f)|0;break}case 4:{e[d>>2]=D,e[f>>2]=e[d>>2],I=_3(i,s,f)|0;break}default:I=0}w=I;break}case 5:{switch(I=e[o>>2]|0,Y[s+24>>0]|0){case 1:{e[h>>2]=I,e[f>>2]=e[h>>2],L=E3(i,s,f)|0;break}case 2:{e[u>>2]=I,e[f>>2]=e[u>>2],L=x3(i,s,f)|0;break}case 3:{e[g>>2]=I,e[f>>2]=e[g>>2],L=k3(i,s,f)|0;break}case 4:{e[d>>2]=I,e[f>>2]=e[d>>2],L=_3(i,s,f)|0;break}default:L=0}w=L;break}default:return P=-1,q=l,P|0}return P=(w|0)==0?-1:w,q=l,P|0}function TP(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0;if(l=q,q=q+32|0,f=l+16|0,h=l+12|0,u=l+29|0,g=l,d=l+28|0,!(e[(e[i+8>>2]|0)+80>>2]|0))return m=1,q=l,m|0;if(Y[u>>0]=-2,b=i+36|0,w=e[b>>2]|0,w?M0[e[(e[i>>2]|0)+40>>2]&127](i,w)|0?(w=e[b>>2]|0,x=(kn[e[(e[w>>2]|0)+8>>2]&127](w)|0)&255,Y[u>>0]=x,C=5):S=0:C=5,(C|0)==5){x=o+16|0,w=x,D=e[w+4>>2]|0,(D|0)>0|(D|0)==0&(e[w>>2]|0)>>>0>0||(e[h>>2]=e[o+4>>2],e[f>>2]=e[h>>2],wi(o,f,u,u+1|0)|0),u=e[b>>2]|0,u|0&&(w=(kn[e[(e[u>>2]|0)+36>>2]&127](u)|0)&255,Y[g>>0]=w,w=x,u=e[w+4>>2]|0,!((u|0)>0|(u|0)==0&(e[w>>2]|0)>>>0>0))&&(e[h>>2]=e[o+4>>2],e[f>>2]=e[h>>2],wi(o,f,g,g+1|0)|0),w=e[i+32>>2]|0,u=Y[w+24>>0]|0,D=_r(e[w+80>>2]|0,u)|0,I=(e[e[w>>2]>>2]|0)+(e[w+48>>2]|0)|0,e[g>>2]=0,w=g+4|0,e[w>>2]=0,e[g+8>>2]=0,L=(D|0)==0;do if(L)j=0;else if(D>>>0>1073741823)qe();else{P=D<<2,N=It(P)|0,e[g>>2]=N,X=N+(D<<2)|0,e[g+8>>2]=X,Tr(N|0,0,P|0)|0,e[w>>2]=X,j=N;break}while(0);N=e[b>>2]|0;do if(N){if(BC[e[(e[N>>2]|0)+44>>2]&31](N,I,j,D,u,e[s>>2]|0)|0,X=e[b>>2]|0,!X){Q=I,V=e[g>>2]|0,C=20;break}kn[e[(e[X>>2]|0)+32>>2]&127](X)|0||(X=e[g>>2]|0,Q=e[b>>2]|0?X:I,V=X,C=20)}else Q=I,V=j,C=20;while(0);(C|0)==20&&oF(Q,D,V),V=i+4|0,i=e[V>>2]|0;do if(i){Q=e[i+48>>2]|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,j=It(48)|0,e[f>>2]=j,e[f+8>>2]=-2147483600,e[f+4>>2]=34,I=j,N=9835,X=I+34|0;do Y[I>>0]=Y[N>>0]|0,I=I+1|0,N=N+1|0;while((I|0)<(X|0));if(Y[j+34>>0]=0,N=G2(Q,f,1)|0,(Y[f+11>>0]|0)<0&&Ae(e[f>>2]|0),N)C=27;else{if(L)G=1;else{N=e[g>>2]|0,I=0,X=0;do X=e[N+(I<<2)>>2]|X,I=I+1|0;while((I|0)!=(D|0));X?G=((S0(X|0)|0)>>>3^3)+1|0:G=1}if(Y[d>>0]=0,I=x,N=e[I>>2]|0,Q=e[I+4>>2]|0,(Q|0)>0|(Q|0)==0&N>>>0>0?(ee=Q,J=N):(e[h>>2]=e[o+4>>2],e[f>>2]=e[h>>2],wi(o,f,d,d+1|0)|0,N=x,ee=e[N+4>>2]|0,J=e[N>>2]|0),Y[d>>0]=G,(ee|0)>0|(ee|0)==0&J>>>0>0||(e[h>>2]=e[o+4>>2],e[f>>2]=e[h>>2],wi(o,f,d,d+1|0)|0),(G|0)==(Qy(5)|0)){N=e[g>>2]|0,Q=x,I=e[Q+4>>2]|0,(I|0)>0|(I|0)==0&(e[Q>>2]|0)>>>0>0||(e[h>>2]=e[o+4>>2],e[f>>2]=e[h>>2],wi(o,f,N,N+(D<<2)|0)|0),C=48;break}if(L)C=48;else{N=o+4|0,Q=0;do I=(e[g>>2]|0)+(Q<<2)|0,j=x,P=e[j+4>>2]|0,(P|0)>0|(P|0)==0&(e[j>>2]|0)>>>0>0||(e[h>>2]=e[N>>2],e[f>>2]=e[h>>2],wi(o,f,I,I+G|0)|0),Q=Q+1|0;while(Q>>>0<D>>>0);C=48}}}else C=27;while(0);(C|0)==27&&(Y[d>>0]=1,D=x,x=e[D+4>>2]|0,(x|0)>0|(x|0)==0&(e[D>>2]|0)>>>0>0||(e[h>>2]=e[o+4>>2],e[f>>2]=e[h>>2],wi(o,f,d,d+1|0)|0),Q2(f),d=e[V>>2]|0,d|0&&HP(f,10-(sl(e[d+48>>2]|0)|0)|0)|0,d=il(e[g>>2]|0,_r((e[s+4>>2]|0)-(e[s>>2]|0)>>2,u)|0,u,f,o)|0,hs(f,e[f+4>>2]|0),d?C=48:O=0),(C|0)==48&&(C=e[b>>2]|0,C&&M0[e[(e[C>>2]|0)+40>>2]&127](C,o)|0,O=1),o=e[g>>2]|0,o|0&&(g=e[w>>2]|0,(g|0)!=(o|0)&&(e[w>>2]=g+(~((g+-4-o|0)>>>2)<<2)),Ae(o)),S=O}return m=S,q=l,m|0}function MP(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0,w=0,x=0,C=0,S=0,D=0,I=0,L=0,P=0,N=0,X=0,j=0,Q=0,V=0,G=0,ee=0,J=0,O=0,$=0,ie=0,se=0,ue=0,Ee=0,Pe=0,ge=0,Be=0,_e=0,Ce=0,We=0,lt=0,et=0,Ve=0,He=0,st=0,Je=0,it=0,ze=0,Ge=0;for(s=q,q=q+48|0,o=s+24|0,l=s+12|0,f=s,h=i+32|0,u=i+8|0,g=i+12|0,d=e[g>>2]|0,m=e[u>>2]|0,b=d-m>>2,w=i+36|0,x=e[w>>2]|0,C=e[h>>2]|0,S=x-C>>2,D=C,C=x,x=m,b>>>0<=S>>>0?b>>>0<S>>>0&&(I=D+(b<<2)|0,(I|0)!=(C|0))?(e[w>>2]=C+(~((C+-4-I|0)>>>2)<<2),L=x,P=m,N=d):(L=x,P=m,N=d):(K0(h,b-S|0),S=e[u>>2]|0,L=S,P=S,N=e[g>>2]|0),S=N-P|0,b=S>>2,e[o>>2]=0,d=o+4|0,e[d>>2]=0,m=o+8|0,e[m>>2]=0,b|0&&((S|0)<0&&qe(),S=((b+-1|0)>>>5)+1|0,x=It(S<<2)|0,e[o>>2]=x,e[m>>2]=S,e[d>>2]=b,d=b>>>5,Tr(x|0,0,d<<2|0)|0,S=b&31,b=x+(d<<2)|0,S|0&&(e[b>>2]=e[b>>2]&~(-1>>>(32-S|0)))),S=i+20|0,b=0,d=L,L=P,P=N;;){if(b>>>0<P-L>>2>>>0)X=0,j=0,Q=b,V=L,G=d;else{ee=25;break}for(;;){N=j>>>5,x=1<<(j&31);do if(e[(e[o>>2]|0)+(N<<2)>>2]&x)Ee=X,Pe=Q,ge=V;else{if(m=e[G+(j<<2)>>2]|0,(e[m+8>>2]|0)!=(e[m+4>>2]|0)){for(I=0,C=1,w=G,D=m;;){for(m=e[(e[D+4>>2]|0)+(I<<2)>>2]|0,J=0,O=w;;){if($=e[O+(j<<2)>>2]|0,(J|0)>=(M0[e[(e[$>>2]|0)+24>>2]&127]($,m)|0)){ie=C;break}if($=e[(e[u>>2]|0)+(j<<2)>>2]|0,se=$o[e[(e[$>>2]|0)+28>>2]&31]($,m,J)|0,(se|0)!=(j|0)&&($=e[(e[S>>2]|0)+(se<<2)>>2]|0,(1<<($&31)&e[(e[o>>2]|0)+($>>>5<<2)>>2]|0)==0)){ie=0;break}J=J+1|0,O=e[u>>2]|0}if(I=I+1|0,w=e[u>>2]|0,D=e[w+(j<<2)>>2]|0,I>>>0>=(e[D+8>>2]|0)-(e[D+4>>2]|0)>>2>>>0)break;C=ie}if(C=w,ie)ue=C;else{Ee=X,Pe=Q,ge=C;break}}else ue=V;e[(e[h>>2]|0)+(Q<<2)>>2]=j,C=(e[o>>2]|0)+(N<<2)|0,e[C>>2]=e[C>>2]|x,Ee=1,Pe=Q+1|0,ge=ue}while(0);if(j=j+1|0,Be=e[g>>2]|0,_e=Be-ge>>2,G=ge,j>>>0>=_e>>>0)break;X=Ee,Q=Pe,V=ge}if(Pe>>>0<_e>>>0&(Ee^1)){Ce=0;break}else b=Pe,d=G,L=ge,P=Be}if((ee|0)==25){e[l>>2]=0,ee=l+4|0,e[ee>>2]=0,e[l+8>>2]=0,Be=e[i+4>>2]|0,i=(e[Be+12>>2]|0)-(e[Be+8>>2]|0)|0,Be=i>>2,e[f>>2]=0,ge=f+4|0,e[ge>>2]=0,G=f+8|0,e[G>>2]=0,Be|0&&((i|0)<0&&qe(),i=((Be+-1|0)>>>5)+1|0,Pe=It(i<<2)|0,e[f>>2]=Pe,e[G>>2]=i,e[ge>>2]=Be,ge=Be>>>5,Tr(Pe|0,0,ge<<2|0)|0,i=Be&31,Be=Pe+(ge<<2)|0,i|0&&(e[Be>>2]=e[Be>>2]&~(-1>>>(32-i|0))));e:do if((P|0)==(L|0))We=1;else for(i=0,Be=d,ge=L,Pe=P;;){if(G=e[(e[h>>2]|0)+(i<<2)>>2]|0,b=e[Be+(G<<2)>>2]|0,Ee=(e[b+8>>2]|0)-(e[b+4>>2]|0)|0,b=Ee>>2,(Ee|0)<8)lt=ge,et=Pe;else{for(Ee=e[ee>>2]|0,_e=e[l>>2]|0,V=Ee-_e>>2,Q=_e,_e=Ee,b>>>0<=V>>>0?(b>>>0<V>>>0&&(Ee=Q+(b<<2)|0,(Ee|0)!=(_e|0))&&(e[ee>>2]=_e+(~((_e+-4-Ee|0)>>>2)<<2)),Ve=0):(K0(l,b-V|0),Ve=0);(Ve|0)<(b|0);){He=0,st=0,Je=Ve;for(;;){if(V=e[(e[u>>2]|0)+(G<<2)>>2]|0,Ee=e[(e[V+4>>2]|0)+(He<<2)>>2]|0,_e=He>>>5,Q=1<<(He&31),e[(e[f>>2]|0)+(_e<<2)>>2]&Q)ze=st,Ge=Je;else{for(X=0,j=1,ue=V;;){if((X|0)>=(M0[e[(e[ue>>2]|0)+24>>2]&127](ue,Ee)|0)){it=j;break}if(V=e[(e[u>>2]|0)+(G<<2)>>2]|0,ie=$o[e[(e[V>>2]|0)+28>>2]&31](V,Ee,X)|0,V=(e[(e[f>>2]|0)+(ie>>>5<<2)>>2]&1<<(ie&31)|0)!=0,ie=j&V,!V){it=ie;break}X=X+1|0,j=ie,ue=e[(e[u>>2]|0)+(G<<2)>>2]|0}it?(e[(e[l>>2]|0)+(Je<<2)>>2]=He,ue=(e[f>>2]|0)+(_e<<2)|0,e[ue>>2]=e[ue>>2]|Q,ze=1,Ge=Je+1|0):(ze=st,Ge=Je)}if(He=He+1|0,(He|0)>=(b|0))break;st=ze,Je=Ge}if(ze|(Ge|0)>=(b|0))Ve=Ge;else{We=0;break e}}T(e[(e[u>>2]|0)+(G<<2)>>2]|0,l),lt=e[u>>2]|0,et=e[g>>2]|0}if(i=i+1|0,i>>>0>=et-lt>>2>>>0){We=1;break}else Be=lt,ge=lt,Pe=et}while(0);et=e[f>>2]|0,et|0&&Ae(et),et=e[l>>2]|0,et|0&&(l=e[ee>>2]|0,(l|0)!=(et|0)&&(e[ee>>2]=l+(~((l+-4-et|0)>>>2)<<2)),Ae(et)),Ce=We}return We=e[o>>2]|0,We?(Ae(We),q=s,Ce|0):(q=s,Ce|0)}function RP(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0;l=q,q=q+16|0,f=l,h=i+4|0,e[h>>2]=s,u=e[s+64>>2]|0,s=((e[u+4>>2]|0)-(e[u>>2]|0)>>2>>>0)/3|0,Y[f>>0]=0,mo(i+24|0,s,f),s=e[h>>2]|0,h=(e[s+56>>2]|0)-(e[s+52>>2]|0)>>2,Y[f>>0]=0,mo(i+36|0,h,f),f=i+8|0,e[f>>2]=e[o>>2],e[f+4>>2]=e[o+4>>2],e[f+8>>2]=e[o+8>>2],e[f+12>>2]=e[o+12>>2],q=l}function jc(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0;s=i;e:do if(!(s&3))o=i,l=4;else for(f=i,h=s;;){if(!(Y[f>>0]|0)){u=h;break e}if(g=f+1|0,h=g,h&3)f=g;else{o=g,l=4;break}}while(0);if((l|0)==4){for(l=o;d=e[l>>2]|0,!((d&-2139062144^-2139062144)&d+-16843009);)l=l+4|0;if(!((d&255)<<24>>24))m=l;else for(d=l;;)if(l=d+1|0,Y[l>>0]|0)d=l;else{m=l;break}u=m}return u-s|0}function Dm(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0;l=q,q=q+16|0,f=l,h=i+11|0,u=Y[h>>0]|0,g=u<<24>>24<0,g?d=e[i+4>>2]|0:d=u&255;do if(d>>>0>=s>>>0)if(g){u=(e[i>>2]|0)+s|0,Y[f>>0]=0,yd(u,f),e[i+4>>2]=s;break}else{Y[f>>0]=0,yd(i+s|0,f),Y[h>>0]=s;break}else VL(i,s-d|0,o)|0;while(0);q=l}function DP(i){i=i|0;var s=0,o=0,l=0;!i||(s=i+88|0,o=e[s>>2]|0,e[s>>2]=0,o|0&&(s=e[o+8>>2]|0,s|0&&(l=o+12|0,(e[l>>2]|0)!=(s|0)&&(e[l>>2]=s),Ae(s)),Ae(o)),o=e[i+68>>2]|0,o|0&&(s=i+72|0,l=e[s>>2]|0,(l|0)!=(o|0)&&(e[s>>2]=l+(~((l+-4-o|0)>>>2)<<2)),Ae(o)),o=i+64|0,l=e[o>>2]|0,e[o>>2]=0,l|0&&(o=e[l>>2]|0,o|0&&(s=l+4|0,(e[s>>2]|0)!=(o|0)&&(e[s>>2]=o),Ae(o)),Ae(l)),Ae(i))}function Bm(i,s,o,l,f,h,u,g,d,m){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,u=u|0,g=g|0,d=d|0,m=m|0;var b=0,w=0,x=0;e[i>>2]=o,o|0&&(b=o+16|0,w=e[b+4>>2]|0,x=i+8|0,e[x>>2]=e[b>>2],e[x+4>>2]=w,w=o+24|0,o=e[w+4>>2]|0,x=i+16|0,e[x>>2]=e[w>>2],e[x+4>>2]=o),Y[i+24>>0]=l,e[i+28>>2]=f,Y[i+32>>0]=h&1,h=i+40|0,e[h>>2]=u,e[h+4>>2]=g,g=i+48|0,e[g>>2]=d,e[g+4>>2]=m,e[i+56>>2]=s}function BP(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0;(e[s+76>>2]|0)>=0&&(fl()|0)!=0?(o=i&255,l=i&255,(l|0)!=(Y[s+75>>0]|0)&&(f=s+20|0,h=e[f>>2]|0,h>>>0<(e[s+16>>2]|0)>>>0)?(e[f>>2]=h+1,Y[h>>0]=o,u=l):u=hk(s,i)|0,g=u):d=3;do if((d|0)==3){if(u=i&255,l=i&255,(l|0)!=(Y[s+75>>0]|0)&&(o=s+20|0,h=e[o>>2]|0,h>>>0<(e[s+16>>2]|0)>>>0)){e[o>>2]=h+1,Y[h>>0]=u,g=l;break}g=hk(s,i)|0}while(0);return g|0}function IP(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0;return o=q,q=q+16|0,l=o+4|0,f=o,h=o+8|0,u=e[i+4>>2]|0,(u|0)==-1?(g=0,q=o,g|0):(Y[h>>0]=u,u=s+16|0,i=e[u+4>>2]|0,(i|0)>0|(i|0)==0&(e[u>>2]|0)>>>0>0||(e[f>>2]=e[s+4>>2],e[l>>2]=e[f>>2],wi(s,l,h,h+1|0)|0),g=1,q=o,g|0)}function hk(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0,m=0,b=0;o=q,q=q+16|0,l=o,f=s&255,Y[l>>0]=f,h=i+16|0,u=e[h>>2]|0,u?(g=u,d=4):Ik(i)|0?m=-1:(g=e[h>>2]|0,d=4);do if((d|0)==4){if(u=i+20|0,h=e[u>>2]|0,h>>>0<g>>>0&&(b=s&255,(b|0)!=(Y[i+75>>0]|0))){e[u>>2]=h+1,Y[h>>0]=f,m=b;break}($o[e[i+36>>2]&31](i,l,1)|0)==1?m=br[l>>0]|0:m=-1}while(0);return q=o,m|0}function dk(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0;o=It(88)|0,l=o+60|0,f=o,h=f+60|0;do e[f>>2]=0,f=f+4|0;while((f|0)<(h|0));e[l>>2]=o,l=o+64|0,e[l>>2]=0,e[l+4>>2]=0,e[l+8>>2]=0,e[l+12>>2]=0,e[l+16>>2]=0,e[l+20>>2]=0,l=U6(o,s)|0,e[i>>2]=l?o:0,i=l?0:o,!l&&(ff(i),Ae(i))}function ju(i,s){if(i=i|0,s=s|0,s){ju(i,e[s>>2]|0),ju(i,e[s+4>>2]|0),hs(s+20|0,e[s+24>>2]|0),Ae(s);return}else return}function LP(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0;l=q,q=q+16|0,f=l,h=i+4|0,e[h>>2]=s,u=((e[s+4>>2]|0)-(e[s>>2]|0)>>2>>>0)/3|0,Y[f>>0]=0,mo(i+24|0,u,f),u=e[h>>2]|0,h=(e[u+28>>2]|0)-(e[u+24>>2]|0)>>2,Y[f>>0]=0,mo(i+36|0,h,f),f=i+8|0,e[f>>2]=e[o>>2],e[f+4>>2]=e[o+4>>2],e[f+8>>2]=e[o+8>>2],e[f+12>>2]=e[o+12>>2],q=l}function pk(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0;l=q,q=q+16|0,f=l,h=l+4|0,e[f>>2]=s,s=i+4|0,i=It(32)|0,e[h>>2]=i,e[h+8>>2]=-2147483616,e[h+4>>2]=17,u=i,g=12932,d=u+17|0;do Y[u>>0]=Y[g>>0]|0,u=u+1|0,g=g+1|0;while((u|0)<(d|0));if(Y[i+17>>0]=0,j2(Xf(s,f)|0,h,o),(Y[h+11>>0]|0)>=0){q=l;return}Ae(e[h>>2]|0),q=l}function PP(i,s){i=i|0,s=s|0;var o=0,l=0,f=0;return o=e[i+16>>2]|0,((e[i+20>>2]|0)-o>>2|0)<=(s|0)||(f=e[o+(s<<2)>>2]|0,(f|0)<0)?(l=0,l|0):(s=i+48|0,(e[i+52>>2]|0)>>>0<=f>>>0&&Lc(s,f+1|0,0),o=(e[s>>2]|0)+(f>>>5<<2)|0,e[o>>2]=e[o>>2]|1<<(f&31),o=e[i+36>>2]|0,(e[i+40>>2]|0)-o>>2>>>0<=f>>>0?(l=1,l|0):(vC(e[o+(f<<2)>>2]|0),l=1,l|0))}function NP(i){i=i|0,i&&(e[i>>2]=1136,hs(i+28|0,e[i+32>>2]|0),Rm(i+16|0,e[i+20>>2]|0),hs(i+4|0,e[i+8>>2]|0),Ae(i))}function FP(i){i=i|0,e[i>>2]=1136,hs(i+28|0,e[i+32>>2]|0),Rm(i+16|0,e[i+20>>2]|0),hs(i+4|0,e[i+8>>2]|0)}function V2(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0;if(s>>>0>0|(s|0)==0&i>>>0>4294967295){for(l=o,f=i,h=s;s=Yy(f|0,h|0,10,0)|0,l=l+-1|0,Y[l>>0]=s&255|48,s=f,f=W2(f|0,h|0,10,0)|0,h>>>0>9|(h|0)==9&s>>>0>4294967295;)h=Ze;u=f,g=l}else u=i,g=o;if(!u)d=g;else for(o=u,u=g;;)if(g=u+-1|0,Y[g>>0]=(o>>>0)%10|0|48,o>>>0<10){d=g;break}else o=(o>>>0)/10|0,u=g;return d|0}function Fy(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0,d=0;for(s=i;o=s+1|0,CC(Y[s>>0]|0)|0;)s=o;switch(i=Y[s>>0]|0,i<<24>>24|0){case 45:{l=1,f=5;break}case 43:{l=0,f=5;break}default:h=0,u=s,g=i}if((f|0)==5&&(h=l,u=o,g=Y[o>>0]|0),!(vd(g<<24>>24)|0))d=0;else for(g=0,o=u;;)if(u=(g*10|0)+48-(Y[o>>0]|0)|0,o=o+1|0,vd(Y[o>>0]|0)|0)g=u;else{d=u;break}return(h|0?d:0-d|0)|0}function OP(i,s,o){i=i|0,s=s|0,o=Zt(o);var l=0,f=0,h=0;l=q,q=q+16|0,f=l,Mk(f,o),h=Ly(i,s)|0,s=h+11|0,(Y[s>>0]|0)<0?(Y[e[h>>2]>>0]=0,e[h+4>>2]=0):(Y[h>>0]=0,Y[s>>0]=0),V6(h,0),e[h>>2]=e[f>>2],e[h+4>>2]=e[f+4>>2],e[h+8>>2]=e[f+8>>2],q=l}function Oy(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0;l=q,q=q+16|0,f=l,Rk(f,o&1),o=Ly(i,s)|0,s=o+11|0,(Y[s>>0]|0)<0?(Y[e[o>>2]>>0]=0,e[o+4>>2]=0):(Y[o>>0]=0,Y[s>>0]=0),V6(o,0),e[o>>2]=e[f>>2],e[o+4>>2]=e[f+4>>2],e[o+8>>2]=e[f+8>>2],q=l}function j2(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0;l=q,q=q+16|0,f=l,Rk(f,o),o=Ly(i,s)|0,s=o+11|0,(Y[s>>0]|0)<0?(Y[e[o>>2]>>0]=0,e[o+4>>2]=0):(Y[o>>0]=0,Y[s>>0]=0),V6(o,0),e[o>>2]=e[f>>2],e[o+4>>2]=e[f+4>>2],e[o+8>>2]=e[f+8>>2],q=l}function G2(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0;return l=Y0(i,s)|0,(l|0)==(i+4|0)?(f=-1,h=(f|0)==-1,u=(f|0)!=0,g=h?o:u,g|0):(i=l+28|0,(Y[i+11>>0]|0)<0?d=e[i>>2]|0:d=i,f=Fy(d)|0,h=(f|0)==-1,u=(f|0)!=0,g=h?o:u,g|0)}function HP(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0;if(o=q,q=q+16|0,l=o,s>>>0>10)return f=0,q=o,f|0;h=It(48)|0,e[l>>2]=h,e[l+8>>2]=-2147483600,e[l+4>>2]=33,u=h,g=13067,d=u+33|0;do Y[u>>0]=Y[g>>0]|0,u=u+1|0,g=g+1|0;while((u|0)<(d|0));return Y[h+33>>0]=0,j2(i,l,s),(Y[l+11>>0]|0)<0&&Ae(e[l>>2]|0),f=1,q=o,f|0}function mk(i){i=i|0,e[i>>2]=1136,hs(i+28|0,e[i+32>>2]|0),Rm(i+16|0,e[i+20>>2]|0),hs(i+4|0,e[i+8>>2]|0),Ae(i)}function Hy(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0;return o=e[s>>2]|0,(o|0)==-1||(s=o*3|0,(s|0)==-1)||(o=e[i>>2]|0,i=e[o+(s<<2)>>2]|0,l=s+1|0,f=((l>>>0)%3|0|0)==0?s+-2|0:l,(f|0)==-1?h=-1:h=e[o+(f<<2)>>2]|0,f=(((s>>>0)%3|0|0)==0?2:-1)+s|0,(f|0)==-1?u=-1:u=e[o+(f<<2)>>2]|0,(i|0)==(h|0))?1:(i|0)==(u|0)|(h|0)==(u|0)|0}function UP(i){i=i|0,e[i>>2]=2968,hs(i+28|0,e[i+32>>2]|0),ju(i+16|0,e[i+20>>2]|0),hs(i+4|0,e[i+8>>2]|0)}function VP(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0;for(o=0;;){if((br[15560+o>>0]|0)==(i|0)){l=2;break}if(f=o+1|0,(f|0)==87){h=15648,u=87,l=5;break}else o=f}if((l|0)==2&&(o?(h=15648,u=o,l=5):g=15648),(l|0)==5)for(;;){l=0,o=h;do i=o,o=o+1|0;while((Y[i>>0]|0)!=0);if(u=u+-1|0,u)h=o,l=5;else{g=o;break}}return PH(g,e[s+20>>2]|0)|0}function gk(i,s){i=+i,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0;switch(N0[En>>3]=i,o=e[En>>2]|0,l=e[En+4>>2]|0,f=s0(o|0,l|0,52)|0,f&2047){case 0:{i!=0?(h=+gk(i*0xffffffffffffffff,s),u=h,g=(e[s>>2]|0)+-64|0):(u=i,g=0),e[s>>2]=g,d=u;break}case 2047:{d=i;break}default:e[s>>2]=(f&2047)+-1022,e[En>>2]=o,e[En+4>>2]=l&-2146435073|1071644672,d=+N0[En>>3]}return+d}function bk(i){i=i|0,e[i>>2]=2968,hs(i+28|0,e[i+32>>2]|0),ju(i+16|0,e[i+20>>2]|0),hs(i+4|0,e[i+8>>2]|0),Ae(i)}function Uy(i,s){i=+i,s=s|0;var o=0,l=0,f=0,h=0,u=0;return(s|0)<=1023?(s|0)<-1022?(o=i*22250738585072014e-324,l=(s|0)<-2044,f=s+2044|0,h=l?o*22250738585072014e-324:o,u=l?(f|0)>-1022?f:-1022:s+1022|0):(h=i,u=s):(o=i*898846567431158e293,f=(s|0)>2046,l=s+-2046|0,h=f?o*898846567431158e293:o,u=f?(l|0)<1023?l:1023:s+-1023|0),s=e0(u+1023|0,0,52)|0,u=Ze,e[En>>2]=s,e[En+4>>2]=u,+(h*+N0[En>>3])}function jP(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0;if(!(e[i+80>>2]|0))return s=0,s|0;if(o=i+8|0,l=i+12|0,i=e[o>>2]|0,((e[l>>2]|0)-i|0)>0)f=0,h=i;else return s=1,s|0;for(;;){if(i=e[h+(f<<2)>>2]|0,f=f+1|0,!(PN(i,i)|0)){s=0,u=5;break}if(h=e[o>>2]|0,(f|0)>=((e[l>>2]|0)-h>>2|0)){s=1,u=5;break}}return(u|0)==5?s|0:0}function GP(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0;if(o=i+36|0,l=i+40|0,f=e[o>>2]|0,(e[l>>2]|0)==(f|0))return h=1,h|0;for(u=i+60|0,i=0,g=f;;){if(f=e[g+(i<<2)>>2]|0,i=i+1|0,!($o[e[(e[f>>2]|0)+20>>2]&31](f,u,s)|0)){h=0,d=5;break}if(g=e[o>>2]|0,i>>>0>=(e[l>>2]|0)-g>>2>>>0){h=1,d=5;break}}return(d|0)==5?h|0:0}function zP(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0;if(o=i+36|0,l=i+40|0,i=e[o>>2]|0,(e[l>>2]|0)==(i|0))return f=1,f|0;for(h=0,u=i;;){if(i=e[u+(h<<2)>>2]|0,h=h+1|0,!(M0[e[(e[i>>2]|0)+24>>2]&127](i,s)|0)){f=0,g=4;break}if(u=e[o>>2]|0,h>>>0>=(e[l>>2]|0)-u>>2>>>0){f=1,g=4;break}}return(g|0)==4?f|0:0}function uf(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0;e[i>>2]=0,o=i+4|0,e[o>>2]=0,e[i+8>>2]=0,l=s+4|0,f=(e[l>>2]|0)-(e[s>>2]|0)|0,h=f>>2,h&&(h>>>0>1073741823&&qe(),u=It(f)|0,e[o>>2]=u,e[i>>2]=u,e[i+8>>2]=u+(h<<2),h=e[s>>2]|0,s=(e[l>>2]|0)-h|0,!((s|0)<=0)&&(Fi(u|0,h|0,s|0)|0,e[o>>2]=u+(s>>>2<<2)))}function ol(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0;o=i+8|0,l=e[i>>2]|0,!((e[o>>2]|0)-l>>2>>>0>=s>>>0)&&(f=i+4|0,s>>>0>1073741823&&(h=An(8)|0,c0(h,14941),e[h>>2]=6944,yn(h|0,1080,114)),h=(e[f>>2]|0)-l|0,u=It(s<<2)|0,(h|0)>0&&Fi(u|0,l|0,h|0)|0,e[i>>2]=u,e[f>>2]=u+(h>>2<<2),e[o>>2]=u+(s<<2),l&&Ae(l))}function WP(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0,g=0;if(s=i+36|0,o=i+40|0,l=e[s>>2]|0,(e[o>>2]|0)==(l|0))return f=1,f|0;for(h=i+60|0,i=0,u=l;;){if(l=e[u+(i<<2)>>2]|0,i=i+1|0,!(M0[e[(e[l>>2]|0)+16>>2]&127](l,h)|0)){f=0,g=5;break}if(u=e[s>>2]|0,i>>>0>=(e[o>>2]|0)-u>>2>>>0){f=1,g=5;break}}return(g|0)==5?f|0:0}function yk(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0;o=q,q=q+16|0,l=o,f=It(16)|0,e[l>>2]=f,e[l+8>>2]=-2147483632,e[l+4>>2]=15,h=f,u=12916,g=h+15|0;do Y[h>>0]=Y[u>>0]|0,h=h+1|0,u=u+1|0;while((h|0)<(g|0));if(Y[f+15>>0]=0,j2(i+4|0,l,s),(Y[l+11>>0]|0)>=0){q=o;return}Ae(e[l>>2]|0),q=o}function QP(i,s){i=i|0,s=s|0;var o=0,l=0;if(e[i>>2]=0,e[i+4>>2]=s,s|0&&(o=G6(s,992,976,0)|0,o|0)){if(l=It(56)|0,Qk(l,o),o=e[i>>2]|0,e[i>>2]=l,!o)return;On[e[(e[o>>2]|0)+4>>2]&127](o);return}o=It(56)|0,Wk(o,s),s=e[i>>2]|0,e[i>>2]=o,s&&On[e[(e[s>>2]|0)+4>>2]&127](s)}function vk(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0;if(o=e[i+176>>2]|0,l=e[i+172>>2]|0,i=l,(o|0)==(l|0))return 0;for(f=(o-l|0)/136|0,l=0;;){if((e[i+(l*136|0)>>2]|0)==(s|0)){h=4;break}if(o=l+1|0,o>>>0<f>>>0)l=o;else{h=6;break}}return(h|0)==4?((Y[i+(l*136|0)+100>>0]|0)==0?0:i+(l*136|0)+4|0)|0:((h|0)==6,0)}function JP(i,s){i=i|0,s=s|0;var o=0,l=0;return o=e[i+72>>2]|0,!o||(e[o+4>>2]=i+60,!(kn[e[(e[o>>2]|0)+12>>2]&127](o)|0))||!(kn[e[(e[i>>2]|0)+40>>2]&127](i)|0)||!(M0[e[(e[i>>2]|0)+44>>2]&127](i,s)|0)?(l=0,l|0):(l=M0[e[(e[i>>2]|0)+48>>2]&127](i,s)|0,l|0)}function z2(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0;if(e[i>>2]=0,l=i+4|0,e[l>>2]=0,e[i+8>>2]=0,!!s){s>>>0>357913941&&qe(),f=It(s*12|0)|0,e[l>>2]=f,e[i>>2]=f,e[i+8>>2]=f+(s*12|0),i=s,s=f;do uf(s,o),s=(e[l>>2]|0)+12|0,e[l>>2]=s,i=i+-1|0;while((i|0)!=0)}}function XP(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0;return o=e[s>>2]|0,o?(f=i+44|0,h=e[f>>2]|0,h>>>0<(e[i+48>>2]|0)>>>0?(e[s>>2]=0,e[h>>2]=o,e[f>>2]=(e[f>>2]|0)+4,l=1,l|0):(lf(i+40|0,s),l=1,l|0)):(l=0,l|0)}function qP(i){i=i|0;var s=0,o=0,l=0;if(e[i>>2]=2880,e[i+40>>2]=1180,s=e[i+48>>2]|0,s|0&&(o=i+52|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),e[i>>2]=1460,s=i+36|0,l=e[s>>2]|0,e[s>>2]=0,!l){Vc(i),Ae(i);return}On[e[(e[l>>2]|0)+4>>2]&127](l),Vc(i),Ae(i)}function ZP(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0;e[s>>2]=2,o=i+4|0,i=s+8|0,l=e[i>>2]|0,f=(e[s+12>>2]|0)-l|0,f>>>0<4294967292?(jy(i,f+4|0,0),h=e[i>>2]|0):h=l,l=h+f|0,f=br[o>>0]|br[o+1>>0]<<8|br[o+2>>0]<<16|br[o+3>>0]<<24,Y[l>>0]=f,Y[l+1>>0]=f>>8,Y[l+2>>0]=f>>16,Y[l+3>>0]=f>>24}function YP(i){i=i|0;var s=0,o=0,l=0,f=0;if(e[i>>2]=3164,s=i+8|0,e[s>>2]=3188,o=e[i+56>>2]|0,o|0&&(l=i+60|0,f=e[l>>2]|0,(f|0)!=(o|0)&&(e[l>>2]=f+(~((f+-4-o|0)>>>2)<<2)),Ae(o)),e[s>>2]=3208,s=e[i+44>>2]|0,s|0&&Ae(s),s=e[i+32>>2]|0,!s){Ae(i);return}Ae(s),Ae(i)}function Vy(i,s,o){i=i|0,s=s|0,o=Zt(o);var l=0,f=vi,h=0;return l=Y0(i,s)|0,(l|0)==(i+4|0)?(f=o,Zt(f)):(i=l+28|0,(Y[i+11>>0]|0)<0?h=e[i>>2]|0:h=i,f=Zt(+QH(h)),Zt(f))}function Sn(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0;if(s=q,q=q+16|0,o=s,l=o,e[l>>2]=0,e[l+4>>2]=0,O2(i,2,o),o=e[i+12>>2]|0,l=i+16|0,f=e[l>>2]|0,(f|0)==(o|0)){h=i+24|0,e[h>>2]=0,u=i+28|0,e[u>>2]=0,q=s;return}e[l>>2]=f+(~((f+-4-o|0)>>>2)<<2),h=i+24|0,e[h>>2]=0,u=i+28|0,e[u>>2]=0,q=s}function wk(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0,g=0,d=0;o=e[i+176>>2]|0,l=e[i+172>>2]|0,f=l;e:do if((o|0)!=(l|0)){for(h=(o-l|0)/136|0,u=0;(e[f+(u*136|0)>>2]|0)!=(s|0);)if(g=u+1|0,g>>>0<h>>>0)u=g;else break e;return d=f+(u*136|0)+104|0,d|0}while(0);return d=i+40|0,d|0}function KP(i){i=i|0;var s=0,o=0,l=0,f=0;if(e[i>>2]=3232,s=i+8|0,e[s>>2]=3256,o=e[i+56>>2]|0,o|0&&(l=i+60|0,f=e[l>>2]|0,(f|0)!=(o|0)&&(e[l>>2]=f+(~((f+-4-o|0)>>>2)<<2)),Ae(o)),e[s>>2]=3276,s=e[i+44>>2]|0,s|0&&Ae(s),s=e[i+32>>2]|0,!s){Ae(i);return}Ae(s),Ae(i)}function $P(i){i=i|0;var s=0,o=0,l=0;if(e[i>>2]=2880,e[i+40>>2]=1180,s=e[i+48>>2]|0,s|0&&(o=i+52|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),e[i>>2]=1460,s=i+36|0,l=e[s>>2]|0,e[s>>2]=0,!l){Vc(i);return}On[e[(e[l>>2]|0)+4>>2]&127](l),Vc(i)}function eN(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0,u=0;Y1(i,s),!((s|0)<=-1)&&(o=i+88|0,l=e[o>>2]|0,f=e[i+84>>2]|0,!((l-f>>2|0)<=(s|0))&&(i=f+(s<<2)|0,s=i+4|0,f=l-s|0,h=f>>2,h?(Q0(i|0,s|0,f|0)|0,u=e[o>>2]|0):u=l,f=i+(h<<2)|0,(u|0)!=(f|0)&&(e[o>>2]=u+(~((u+-4-f|0)>>>2)<<2))))}function tN(i){i=i|0;var s=0,o=0,l=0,f=0,h=0,u=0;if(s=e[i+32>>2]|0,o=e[i+36>>2]|0,(s|0)==(o|0))return l=1,l|0;for(f=i+8|0,h=i+44|0,i=s;;){if(s=e[(e[f>>2]|0)+(e[i>>2]<<2)>>2]|0,i=i+4|0,!(M0[e[(e[s>>2]|0)+20>>2]&127](s,e[h>>2]|0)|0)){l=0,u=5;break}if((i|0)==(o|0)){l=1,u=5;break}}return(u|0)==5?l|0:0}function rN(i){i=i|0;var s=0,o=0,l=0,f=0;e[i>>2]=3164,s=i+8|0,e[s>>2]=3188,o=e[i+56>>2]|0,o|0&&(l=i+60|0,f=e[l>>2]|0,(f|0)!=(o|0)&&(e[l>>2]=f+(~((f+-4-o|0)>>>2)<<2)),Ae(o)),e[s>>2]=3208,s=e[i+44>>2]|0,s|0&&Ae(s),s=e[i+32>>2]|0,s&&Ae(s)}function Ak(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0;l=q,q=q+128|0,f=l,h=f,u=h+124|0;do e[h>>2]=0,h=h+4|0;while((h|0)<(u|0));return h=f+4|0,e[h>>2]=i,u=f+8|0,e[u>>2]=-1,e[f+44>>2]=i,e[f+76>>2]=-1,md(f,0),g=+Qf(f,o,1),o=(e[h>>2]|0)-(e[u>>2]|0)+(e[f+108>>2]|0)|0,s|0&&(e[s>>2]=o|0?i+o|0:i),q=l,+g}function xk(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0;i=s+16|0,f=e[i>>2]|0;do if(f){if((f|0)!=(o|0)){h=s+36|0,e[h>>2]=(e[h>>2]|0)+1,e[s+24>>2]=2,Y[s+54>>0]=1;break}h=s+24|0,(e[h>>2]|0)==2&&(e[h>>2]=l)}else e[i>>2]=o,e[s+24>>2]=l,e[s+36>>2]=1;while(0)}function iN(i){i=i|0;var s=0,o=0,l=0;return s=i+74|0,o=Y[s>>0]|0,Y[s>>0]=o+255|o,o=i+20|0,s=i+28|0,(e[o>>2]|0)>>>0>(e[s>>2]|0)>>>0&&$o[e[i+36>>2]&31](i,0,0)|0,e[i+16>>2]=0,e[s>>2]=0,e[o>>2]=0,o=e[i>>2]|0,o&4?(e[i>>2]=o|32,l=-1):(s=(e[i+44>>2]|0)+(e[i+48>>2]|0)|0,e[i+8>>2]=s,e[i+4>>2]=s,l=o<<27>>31),l|0}function Ek(i,s){i=i|0,s=s|0;var o=0,l=0,f=0;return o=Y0(i,s)|0,(o|0)==(i+4|0)?(l=0,l|0):(i=o+28|0,(Y[i+11>>0]|0)<0?f=e[i>>2]|0:f=i,l=((Fy(f)|0)+1|0)>>>0>1,l|0)}function nN(i){i=i|0;var s=0,o=0,l=0;if(e[i>>2]=5840,s=e[i+96>>2]|0,s|0&&(o=i+100|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~(((l+-12-s|0)>>>0)/12|0)*12|0)),Ae(s)),s=e[i+84>>2]|0,!s){xa(i),Ae(i);return}l=i+88|0,o=e[l>>2]|0,(o|0)!=(s|0)&&(e[l>>2]=o+(~((o+-4-s|0)>>>2)<<2)),Ae(s),xa(i),Ae(i)}function sN(i){i=i|0;var s=0,o=0,l=0,f=0;e[i>>2]=3232,s=i+8|0,e[s>>2]=3256,o=e[i+56>>2]|0,o|0&&(l=i+60|0,f=e[l>>2]|0,(f|0)!=(o|0)&&(e[l>>2]=f+(~((f+-4-o|0)>>>2)<<2)),Ae(o)),e[s>>2]=3276,s=e[i+44>>2]|0,s|0&&Ae(s),s=e[i+32>>2]|0,s&&Ae(s)}function bo(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0;return l=Y0(i,s)|0,(l|0)==(i+4|0)?(f=o,f|0):(o=l+28|0,(Y[o+11>>0]|0)<0?h=e[o>>2]|0:h=o,f=Fy(h)|0,f|0)}function m0(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0,u=0,g=0,d=0;return f=s>>31|((s|0)<0?-1:0)<<1,h=((s|0)<0?-1:0)>>31|((s|0)<0?-1:0)<<1,u=l>>31|((l|0)<0?-1:0)<<1,g=((l|0)<0?-1:0)>>31|((l|0)<0?-1:0)<<1,d=Gi(f^i|0,h^s|0,f|0,h|0)|0,s=Ze,i=u^f,f=g^h,Gi((R2(d,s,Gi(u^o|0,g^l|0,u|0,g|0)|0,Ze,0)|0)^i|0,Ze^f|0,i|0,f|0)|0}function oN(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0,g=0,d=0;e[i>>2]=s,u=s+16|0,g=e[u+4>>2]|0,d=i+8|0,e[d>>2]=e[u>>2],e[d+4>>2]=g,g=s+24|0,s=e[g+4>>2]|0,d=i+16|0,e[d>>2]=e[g>>2],e[d+4>>2]=s,s=i+40|0,e[s>>2]=o,e[s+4>>2]=l,l=i+48|0,e[l>>2]=f,e[l+4>>2]=h}function jy(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0;o=i+4|0,l=e[o>>2]|0,f=e[i>>2]|0,h=l-f|0,u=f,f=l,h>>>0>=s>>>0?h>>>0>s>>>0&&(l=u+s|0,(l|0)!=(f|0))&&(e[o>>2]=l):Oa(i,s-h|0),h=i+24|0,i=h,s=Qt(e[i>>2]|0,e[i+4>>2]|0,1,0)|0,i=h,e[i>>2]=s,e[i+4>>2]=Ze}function _k(i,s){i=i|0,s=s|0;var o=0,l=0,f=0;return o=Y0(i,s)|0,(o|0)==(i+4|0)?(l=-1,l|0):(i=o+28|0,(Y[i+11>>0]|0)<0?f=e[i>>2]|0:f=i,l=Fy(f)|0,l|0)}function aN(i){i=i|0;var s=0,o=0,l=0;if(e[i>>2]=5840,s=e[i+96>>2]|0,s|0&&(o=i+100|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~(((l+-12-s|0)>>>0)/12|0)*12|0)),Ae(s)),s=e[i+84>>2]|0,!s){xa(i);return}l=i+88|0,o=e[l>>2]|0,(o|0)!=(s|0)&&(e[l>>2]=o+(~((o+-4-s|0)>>>2)<<2)),Ae(s),xa(i)}function kk(i){i=i|0;var s=0,o=0,l=0;e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,e[i+16>>2]=0,e[i+20>>2]=0,Y[i+24>>0]=1,s=i+68|0,o=i+28|0,l=o+40|0;do e[o>>2]=0,o=o+4|0;while((o|0)<(l|0));e[s>>2]=i,s=i+72|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,e[s+16>>2]=0,e[s+20>>2]=0}function lN(i){i=i|0;var s=0,o=0,l=0;if(e[i>>2]=3188,s=e[i+48>>2]|0,s|0&&(o=i+52|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),e[i>>2]=3208,s=e[i+36>>2]|0,s|0&&Ae(s),s=e[i+24>>2]|0,!s){Ae(i);return}Ae(s),Ae(i)}function fN(i){i=i|0;var s=0,o=0,l=0;if(e[i>>2]=2004,s=e[i+76>>2]|0,s|0&&Ae(s),e[i>>2]=1528,s=e[i+32>>2]|0,!s){Ae(i);return}o=i+36|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s),Ae(i)}function Vo(i,s,o,l,f){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0;var h=0,u=0,g=0;if(h=q,q=q+256|0,u=h,(o|0)>(l|0)&(f&73728|0)==0){if(f=o-l|0,Tr(u|0,s<<24>>24|0,(f>>>0<256?f:256)|0)|0,f>>>0>255){s=o-l|0,l=f;do Ro(i,u,256),l=l+-256|0;while(l>>>0>255);g=s&255}else g=f;Ro(i,u,g)}q=h}function uN(i){i=i|0;var s=0,o=0,l=0;if(e[i>>2]=3256,s=e[i+48>>2]|0,s|0&&(o=i+52|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),e[i>>2]=3276,s=e[i+36>>2]|0,s|0&&Ae(s),s=e[i+24>>2]|0,!s){Ae(i);return}Ae(s),Ae(i)}function cN(i){i=i|0;var s=0,o=0,l=0;if(e[i>>2]=1696,s=e[i+76>>2]|0,s|0&&Ae(s),e[i>>2]=1528,s=e[i+32>>2]|0,!s){Ae(i);return}o=i+36|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s),Ae(i)}function hN(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0;var u=0;tu(i,e[s+8>>2]|0)|0?J_(0,s,o,l,f):(u=e[i+8>>2]|0,f4[e[(e[u>>2]|0)+20>>2]&3](u,s,o,l,f,h))}function dN(i){i=i|0;var s=0,o=0,l=0;e[i>>2]=3188,s=e[i+48>>2]|0,s|0&&(o=i+52|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),e[i>>2]=3208,s=e[i+36>>2]|0,s|0&&Ae(s),s=e[i+24>>2]|0,s&&Ae(s)}function pN(i){i=i|0;var s=0,o=0,l=0;if(e[i>>2]=2060,ln(i+108|0),e[i>>2]=1528,s=e[i+32>>2]|0,!s){Ae(i);return}o=i+36|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s),Ae(i)}function mN(i){i=i|0;var s=0,o=0,l=0;e[i>>2]=3256,s=e[i+48>>2]|0,s|0&&(o=i+52|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),e[i>>2]=3276,s=e[i+36>>2]|0,s|0&&Ae(s),s=e[i+24>>2]|0,s&&Ae(s)}function gN(i){i=i|0;var s=0,o=0,l=0;if(e[i>>2]=1752,ln(i+108|0),e[i>>2]=1528,s=e[i+32>>2]|0,!s){Ae(i);return}o=i+36|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s),Ae(i)}function vs(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0,g=0,d=0;e:do if(!o)l=0;else{for(f=i,h=o,u=s;g=Y[f>>0]|0,d=Y[u>>0]|0,g<<24>>24==d<<24>>24;)if(h=h+-1|0,h)f=f+1|0,u=u+1|0;else{l=0;break e}l=(g&255)-(d&255)|0}while(0);return l|0}function Ck(i){return i=i|0,!(e[i+44>>2]|0)||!(e[i+48>>2]|0)||!(e[i+24>>2]|0)||!(e[i+28>>2]|0)?0:e[i+32>>2]|0?(e[i+36>>2]|0)!=0|0:0}function bN(i){i=i|0;var s=0,o=0;e[i>>2]=2004,s=e[i+76>>2]|0,s|0&&Ae(s),e[i>>2]=1528,s=e[i+32>>2]|0,s&&(o=i+36|0,i=e[o>>2]|0,(i|0)!=(s|0)&&(e[o>>2]=i+(~((i+-4-s|0)>>>2)<<2)),Ae(s))}function Sk(i){i=i|0;var s=0,o=0;for(e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,s=0;(s|0)!=3;)e[i+(s<<2)>>2]=0,s=s+1|0;(Y[i+11>>0]|0)<0?o=(e[i+8>>2]&2147483647)+-1|0:o=10,Dm(i,o,0)}function Gc(i){i=i|0;var s=0,o=0,l=0,f=0,h=0;return s=e[i+8>>2]|0,(s|0)<2?(o=0,l=0,Ze=o,l|0):(f=+(s|0),h=+V0(f)*f,f=+yi(+(h-+N0[i>>3])),o=+u0(f)>=1?f>0?~~+n0(+bn(f/4294967296),4294967295)>>>0:~~+yi((f-+(~~f>>>0))/4294967296)>>>0:0,l=~~f>>>0,Ze=o,l|0)}function yN(i){i=i|0;var s=0,o=0;e[i>>2]=1696,s=e[i+76>>2]|0,s|0&&Ae(s),e[i>>2]=1528,s=e[i+32>>2]|0,s&&(o=i+36|0,i=e[o>>2]|0,(i|0)!=(s|0)&&(e[o>>2]=i+(~((i+-4-s|0)>>>2)<<2)),Ae(s))}function vN(i,s){i=i|0,s=s|0;var o=0,l=0,f=0;return o=e[i+16>>2]|0,((e[i+20>>2]|0)-o>>2|0)<=(s|0)||(f=e[o+(s<<2)>>2]|0,(f|0)<0)?(l=0,l|0):(s=e[(e[i+36>>2]|0)+(f<<2)>>2]|0,f=e[s+32>>2]|0,f|0?(l=f,l|0):(l=e[s+8>>2]|0,l|0))}function wN(i){i=i|0;var s=0,o=0,l=0;e[i>>2]=1216,s=e[i+16>>2]|0,s|0&&(o=i+20|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s)),s=e[i+4>>2]|0,s&&(l=i+8|0,i=e[l>>2]|0,(i|0)!=(s|0)&&(e[l>>2]=i+(~((i+-4-s|0)>>>2)<<2)),Ae(s))}function AN(i){i=i|0;var s=0,o=0;e[i>>2]=2060,ln(i+108|0),e[i>>2]=1528,s=e[i+32>>2]|0,s&&(o=i+36|0,i=e[o>>2]|0,(i|0)!=(s|0)&&(e[o>>2]=i+(~((i+-4-s|0)>>>2)<<2)),Ae(s))}function Tk(i){return i=i|0,!(e[i+64>>2]|0)||!(e[i+68>>2]|0)||!(e[i+44>>2]|0)||!(e[i+48>>2]|0)?0:e[i+52>>2]|0?(e[i+56>>2]|0)!=0|0:0}function xN(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0;tu(i,e[s+8>>2]|0)|0?xk(0,s,o,l):(f=e[i+8>>2]|0,j3[e[(e[f>>2]|0)+28>>2]&7](f,s,o,l))}function EN(i){i=i|0;var s=0,o=0;e[i>>2]=1752,ln(i+108|0),e[i>>2]=1528,s=e[i+32>>2]|0,s&&(o=i+36|0,i=e[o>>2]|0,(i|0)!=(s|0)&&(e[o>>2]=i+(~((i+-4-s|0)>>>2)<<2)),Ae(s))}function _N(i,s){i=i|0,s=s|0;var o=0,l=0;return(s|0)<0||(l=e[i+4>>2]|0,((e[l+12>>2]|0)-(e[l+8>>2]|0)>>2|0)<=(s|0))?(o=0,o|0):(l=e[(e[i+8>>2]|0)+(e[(e[i+20>>2]|0)+(s<<2)>>2]<<2)>>2]|0,o=M0[e[(e[l>>2]|0)+36>>2]&127](l,s)|0,o|0)}function kN(i,s){i=i|0,s=s|0;var o=0,l=0;return(s|0)<0||(l=e[i+4>>2]|0,((e[l+12>>2]|0)-(e[l+8>>2]|0)>>2|0)<=(s|0))?(o=0,o|0):(l=e[(e[i+8>>2]|0)+(e[(e[i+20>>2]|0)+(s<<2)>>2]<<2)>>2]|0,o=M0[e[(e[l>>2]|0)+32>>2]&127](l,s)|0,o|0)}function CN(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0;if(o=Y[i>>0]|0,l=Y[s>>0]|0,o<<24>>24==0||o<<24>>24!=l<<24>>24)f=l,h=o;else{o=s,s=i;do s=s+1|0,o=o+1|0,i=Y[s>>0]|0,l=Y[o>>0]|0;while(!(i<<24>>24==0||i<<24>>24!=l<<24>>24));f=l,h=i}return(h&255)-(f&255)|0}function Mk(i,s){i=i|0,s=Zt(s);var o=0,l=0;o=q,q=q+16|0,l=o,Sk(l),SL(i,l,s),fC(l),q=o}function yo(i){i=i|0;var s=0,o=0,l=0,f=0,h=0;s=e[i>>2]|0,o=i+4|0,l=e[o>>2]|0,(l|0)==(s|0)?f=s:(h=l+(~((l+-4-s|0)>>>2)<<2)|0,e[o>>2]=h,f=h),e[i+12>>2]=0,e[i+16>>2]=0,s&&((f|0)!=(s|0)&&(e[o>>2]=f+(~((f+-4-s|0)>>>2)<<2)),Ae(s))}function SN(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0;return l=e[i+16>>2]|0,((e[i+20>>2]|0)-l>>2|0)<=(s|0)||(h=e[l+(s<<2)>>2]|0,(h|0)<0)?(f=-1,f|0):(f=e[(e[(e[(e[i+36>>2]|0)+(h<<2)>>2]|0)+16>>2]|0)+(o<<2)>>2]|0,f|0)}function Rk(i,s){i=i|0,s=s|0;var o=0,l=0;o=q,q=q+16|0,l=o,Sk(l),TL(i,l,s),fC(l),q=o}function TN(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0,u=0;return l=q,q=q+32|0,f=l,h=l+20|0,e[f>>2]=e[i+60>>2],e[f+4>>2]=0,e[f+8>>2]=s,e[f+12>>2]=h,e[f+16>>2]=o,(r4(Zh(140,f|0)|0)|0)<0?(e[h>>2]=-1,u=-1):u=e[h>>2]|0,q=l,u|0}function MN(i,s){i=i|0,s=s|0;var o=0,l=0;return(s|0)==-1|(s|0)>4||(l=e[i+20+(s*12|0)>>2]|0,((e[i+20+(s*12|0)+4>>2]|0)-l|0)<=0)||(s=e[l>>2]|0,(s|0)==-1)?(o=0,o|0):(o=e[(e[i+8>>2]|0)+(s<<2)>>2]|0,o|0)}function Dk(i){return i=i|0,!(e[i+40>>2]|0)||!(e[i+24>>2]|0)||!(e[i+28>>2]|0)?0:e[i+32>>2]|0?(e[i+36>>2]|0)!=0|0:0}function RN(i,s){i=i|0,s=s|0;var o=0,l=0,f=0;return o=e[i+16>>2]|0,((e[i+20>>2]|0)-o>>2|0)<=(s|0)||(f=e[o+(s<<2)>>2]|0,(f|0)<0)?(l=0,l|0):(s=e[(e[i+36>>2]|0)+(f<<2)>>2]|0,l=(e[s+20>>2]|0)-(e[s+16>>2]|0)>>2,l|0)}function Gy(i){i=i|0;var s=0;return!(e[i+24>>2]|0)||!(e[i+28>>2]|0)||!(e[i+32>>2]|0)?(s=0,s|0):(s=(e[i+36>>2]|0)!=0,s|0)}function Bk(i){return i=i|0,!(e[i+60>>2]|0)||!(e[i+44>>2]|0)||!(e[i+48>>2]|0)?0:e[i+52>>2]|0?(e[i+56>>2]|0)!=0|0:0}function C3(i,s,o){i=i|0,s=s|0,o=o|0;var l=0;E_(i,o),e[i>>2]=1392,o=i+72|0,l=i+36|0,i=l+36|0;do e[l>>2]=0,l=l+4|0;while((l|0)<(i|0));l=e[s>>2]|0,e[s>>2]=0,e[o>>2]=l}function S3(i,s){i=i|0,s=s|0;var o=0,l=0;o=i,l=s,s=o+64|0;do e[o>>2]=e[l>>2],o=o+4|0,l=l+4|0;while((o|0)<(s|0));l=i+64|0,e[i+88>>2]=0,e[l>>2]=0,e[l+4>>2]=0,e[l+8>>2]=0,e[l+12>>2]=0,e[l+16>>2]=0,Y[l+20>>0]=0}function DN(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0;if((i|0)==0&(s|0)==0)f=o;else for(h=o,o=s,s=i;;)if(i=h+-1|0,Y[i>>0]=br[15542+(s&15)>>0]|0|l,s=s0(s|0,o|0,4)|0,o=Ze,(s|0)==0&(o|0)==0){f=i;break}else h=i;return f|0}function Ik(i){i=i|0;var s=0,o=0,l=0;return s=i+74|0,o=Y[s>>0]|0,Y[s>>0]=o+255|o,o=e[i>>2]|0,o&8?(e[i>>2]=o|32,l=-1):(e[i+8>>2]=0,e[i+4>>2]=0,s=e[i+44>>2]|0,e[i+28>>2]=s,e[i+20>>2]=s,e[i+16>>2]=s+(e[i+48>>2]|0),l=0),l|0}function BN(i,s){i=i|0,s=s|0;var o=0,l=0;return o=e[s+88>>2]|0,!o||(e[o>>2]|0)!=2?(l=0,l|0):(s=e[o+8>>2]|0,e[i+4>>2]=br[s>>0]|br[s+1>>0]<<8|br[s+2>>0]<<16|br[s+3>>0]<<24,l=1,l|0)}function zy(i){i=i|0;var s=0;return!(e[i+44>>2]|0)||!(e[i+48>>2]|0)||!(e[i+52>>2]|0)?(s=0,s|0):(s=(e[i+56>>2]|0)!=0,s|0)}function IN(i){i=i|0,X_(i),Ae(i)}function Lk(i,s){i=i|0,s=s|0;var o=0;return e[s+56>>2]|0||(Y[s+24>>0]|0)!=3?(o=0,o|0):(e[i+40>>2]=s,o=1,o|0)}function Pk(i,s){i=i|0,s=s|0;var o=0;return e[s+56>>2]|0||(Y[s+24>>0]|0)!=3?(o=0,o|0):(e[i+44>>2]=s,o=1,o|0)}function ds(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0;if(o=i+4|0,l=e[o>>2]|0,f=e[i>>2]|0,h=l-f|0,h>>>0<s>>>0){Oa(i,s-h|0);return}h>>>0<=s>>>0||(h=f+s|0,(h|0)!=(l|0)&&(e[o>>2]=h))}function Nk(i,s,o,l,f){i=i|0,s=s|0,o=o|0,l=l|0,f=Zt(f),e[i+4>>2]=s,H6(i+8|0,o,o+(l<<2)|0),bi[i+20>>2]=f}function LN(i,s){i=i|0,s=s|0;var o=0;return!(kn[e[(e[i>>2]|0)+40>>2]&127](i)|0)||!(M0[e[(e[i>>2]|0)+44>>2]&127](i,s)|0)?(o=0,o|0):(o=M0[e[(e[i>>2]|0)+48>>2]&127](i,s)|0,o|0)}function PN(i,s){i=i|0,s=s|0;var o=0,l=0,f=0;return o=q,q=q+16|0,l=o+4|0,f=o,e[f>>2]=0,e[l>>2]=e[f>>2],f=SP(i,s,l)|0,q=o,f|0}function Fk(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0;for(l=e[o>>2]|0,o=i,f=s-i>>2;f;)i=(f|0)/2|0,s=o+(i<<2)|0,h=(e[s>>2]|0)>>>0<l>>>0,o=h?s+4|0:o,f=h?f+-1-i|0:i;return o|0}function Wy(i){i=i|0;var s=0;e[i>>2]=0,s=i+8|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,Y[i+24>>0]=1,e[i+28>>2]=9,s=i+40|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,e[i+56>>2]=-1,e[i+60>>2]=0}function NN(i){i=i|0,q_(i),Ae(i)}function Ok(i){i=i|0;var s=0,o=0,l=0,f=0,h=0;if(!(vd(Y[e[i>>2]>>0]|0)|0))s=0;else for(o=0;;)if(l=e[i>>2]|0,f=(o*10|0)+-48+(Y[l>>0]|0)|0,h=l+1|0,e[i>>2]=h,vd(Y[h>>0]|0)|0)o=f;else{s=f;break}return s|0}function Hk(i,s){i=i|0,s=s|0;var o=0;return e[s+56>>2]|0||(Y[s+24>>0]|0)!=3?(o=0,o|0):(e[i+60>>2]=s,o=1,o|0)}function Uk(i,s){i=i|0,s=s|0;var o=0;return e[s+56>>2]|0||(Y[s+24>>0]|0)!=3?(o=0,o|0):(e[i+64>>2]=s,o=1,o|0)}function zc(i){i=i|0;var s=0,o=0;return s=e[x2>>2]|0,o=s+i|0,(i|0)>0&(o|0)<(s|0)|(o|0)<0?(n6()|0,zs(12),-1):(e[x2>>2]=o,(o|0)>(i6()|0)&&(r6()|0)==0?(e[x2>>2]=s,zs(12),-1):s|0)}function FN(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0;if((i|0)==0&(s|0)==0)l=o;else for(f=o,o=s,s=i;;)if(i=f+-1|0,Y[i>>0]=s&7|48,s=s0(s|0,o|0,3)|0,o=Ze,(s|0)==0&(o|0)==0){l=i;break}else f=i;return l|0}function T3(i){i=i|0;var s=0,o=0,l=0;if(e[i>>2]=1528,s=e[i+32>>2]|0,!s){Ae(i);return}o=i+36|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s),Ae(i)}function ON(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,tu(i,e[s+8>>2]|0)|0&&J_(0,s,o,l,f)}function HN(i){i=i|0;var s=0,o=0;s=e[i+64>>2]|0,s&&(o=kn[e[(e[s>>2]|0)+32>>2]&127](s)|0,o&&(e[i+60>>2]=(((e[o+4>>2]|0)-(e[o>>2]|0)>>2>>>0)/3|0)-(e[o+40>>2]|0)))}function UN(i){i=i|0,H_(i),Ae(i)}function Qy(i){i=i|0;var s=0;switch(i|0){case 11:case 2:case 1:{s=1;break}case 4:case 3:{s=2;break}case 6:case 5:{s=4;break}case 8:case 7:{s=8;break}case 9:{s=4;break}case 10:{s=8;break}default:s=-1}return s|0}function VN(){var i=0,s=0;return i=It(40)|0,e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,bi[i+16>>2]=Zt(1),s=i+20|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,bi[i+36>>2]=Zt(1),i|0}function jN(i,s){i=+i,s=+s;var o=0,l=0,f=0;return N0[En>>3]=i,o=e[En>>2]|0,l=e[En+4>>2]|0,N0[En>>3]=s,f=e[En+4>>2]&-2147483648|l&2147483647,e[En>>2]=o,e[En+4>>2]=f,+ +N0[En>>3]}function GN(i,s,o){i=i|0,s=s|0,o=+o;var l=0,f=0;l=q,q=q+16|0,f=l,N0[f>>3]=o,yP(i,s,f),q=l}function zN(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0;l=q,q=q+16|0,f=l,e[f>>2]=o,wP(i,s,f),q=l}function M3(i,s){i=i|0,s=s|0;var o=0,l=0;return(i|0)!=(s|0)&&(o=Y[s+11>>0]|0,l=o<<24>>24<0,GL(i,l?e[s>>2]|0:s,l?e[s+4>>2]|0:o&255)|0),i|0}function WN(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0;return o=i&65535,l=s&65535,f=_r(l,o)|0,h=i>>>16,i=(f>>>16)+(_r(l,h)|0)|0,l=s>>>16,s=_r(l,o)|0,Ze=(i>>>16)+(_r(l,h)|0)+(((i&65535)+s|0)>>>16)|0,i+s<<16|f&65535|0|0}function QN(i,s){i=i|0,s=s|0;var o=0,l=0,f=0;o=jc(s)|0,l=It(o+13|0)|0,e[l>>2]=o,e[l+4>>2]=o,e[l+8>>2]=0,f=gH(l)|0,Fi(f|0,s|0,o+1|0)|0,e[i>>2]=f}function Jy(i,s){i=i|0,s=s|0;var o=0,l=0;return(s|0)==-1|(s|0)>4||(l=e[i+20+(s*12|0)>>2]|0,((e[i+20+(s*12|0)+4>>2]|0)-l|0)<=0)?(o=-1,o|0):(o=e[l>>2]|0,o|0)}function JN(i){i=i|0,V_(i),Ae(i)}function XN(i){i=i|0;var s=0,o=0;e[i>>2]=1528,s=e[i+32>>2]|0,s&&(o=i+36|0,i=e[o>>2]|0,(i|0)!=(s|0)&&(e[o>>2]=i+(~((i+-4-s|0)>>>2)<<2)),Ae(s))}function qN(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0,tu(i,e[s+8>>2]|0)|0&&xk(0,s,o,l)}function Q0(i,s,o){i=i|0,s=s|0,o=o|0;var l=0;if((s|0)<(i|0)&(i|0)<(s+o|0)){for(l=i,s=s+o|0,i=i+o|0;(o|0)>0;)i=i-1|0,s=s-1|0,o=o-1|0,Y[i>>0]=Y[s>>0]|0;i=l}else Fi(i,s,o)|0;return i|0}function ZN(i){i=i|0;var s=0,o=0,l=0;if(e[i>>2]=1180,s=e[i+8>>2]|0,!s){Ae(i);return}o=i+12|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),Ae(s),Ae(i)}function YN(i){i=i|0;var s=0;if(e[i>>2]=2740,s=e[i+56>>2]|0,!s){Ae(i);return}Ae(s),Ae(i)}function KN(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0;return l=q,q=q+16|0,f=l,e[f>>2]=e[o>>2],h=$o[e[(e[i>>2]|0)+16>>2]&31](i,s,f)|0,h&&(e[o>>2]=e[f>>2]),q=l,h&1|0}function Xy(i,s){i=i|0,s=s|0;var o=0;return s>>>0>=2?(o=0,o|0):(e[i+28>>2]=s,o=1,o|0)}function $N(i){i=i|0;var s=0,o=0;if(e[i>>2]=3e3,s=i+64|0,o=e[s>>2]|0,e[s>>2]=0,!o){Mm(i);return}On[e[(e[o>>2]|0)+4>>2]&127](o),Mm(i)}function eF(i,s,o,l,f,h){return i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,E0(i,s,o,l,f,h,6)|0}function tF(i,s,o,l,f,h){return i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,km(i,s,o,l,f,h,4)|0}function rF(i,s,o,l,f,h){return i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,dd(i,s,o,l,f,h,2)|0}function iF(i,s,o,l,f,h){return i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,km(i,s,o,l,f,h,3)|0}function nF(i){i=i|0;var s=0;if(e[i>>2]=2488,s=e[i+56>>2]|0,!s){Ae(i);return}Ae(s),Ae(i)}function sF(i,s,o,l,f,h){return i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,dd(i,s,o,l,f,h,1)|0}function Vk(i){i=i|0;var s=0;return s=Y[Pl+(i&255)>>0]|0,(s|0)<8?s|0:(s=Y[Pl+(i>>8&255)>>0]|0,(s|0)<8?s+8|0:(s=Y[Pl+(i>>16&255)>>0]|0,(s|0)<8?s+16|0:(Y[Pl+(i>>>24)>>0]|0)+24|0))}function Wc(i,s){i=i|0,s=s|0;var o=0,l=0,f=0,h=0;return!i||(s|0)==0|(i|0)==(s|0)?(o=0,+o):(l=+(s>>>0)/+(i>>>0),f=1-l,h=l*+V0(l),o=-(h+f*+V0(f)),+o)}function oF(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0;if((s|0)>0)l=0;else return;do f=e[i+(l<<2)>>2]|0,e[o+(l<<2)>>2]=f<<1^f>>31,l=l+1|0;while((l|0)!=(s|0))}function aF(i){i=i|0;var s=0,o=0;s=EH(e[i>>2]|0)|0,i=s+8|0,o=e[i>>2]|0,e[i>>2]=o+-1,(o+-1|0)<0&&Ae(s)}function lF(i){i=i|0;var s=0;I3(i),e[i>>2]=2880,e[i+40>>2]=1180,e[i+44>>2]=-1,s=i+48|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0}function fF(i,s){i=i|0,s=s|0;var o=0;return Y[s+84>>0]=1,i=e[s+68>>2]|0,o=s+72|0,s=e[o>>2]|0,(s|0)==(i|0)||(e[o>>2]=s+(~((s+-4-i|0)>>>2)<<2)),1}function Qc(i){i=i|0;var s=0,o=0;return s=e[i+16>>2]|0,o=(((e[i+12>>2]|0)+1-s|0)/64|0)+s<<3,i=s<<3,s=Qt(o|0,((o|0)<0)<<31>>31|0,i|0,((i|0)<0)<<31>>31|0)|0,s|0}function uF(i,s,o,l,f,h){return i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,E0(i,s,o,l,f,h,5)|0}function cF(i,s,o,l,f,h){return i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,E0(i,s,o,l,f,h,9)|0}function hF(i){i=i|0;var s=0;if(e[i>>2]=3208,s=e[i+36>>2]|0,s|0&&Ae(s),s=e[i+24>>2]|0,!s){Ae(i);return}Ae(s),Ae(i)}function dF(i){i=i|0;var s=0;e[i>>2]=2740,s=e[i+56>>2]|0,s&&Ae(s)}function jk(i){i=i|0;var s=0,o=0;e[i>>2]=1460,s=i+36|0,o=e[s>>2]|0,e[s>>2]=0,o|0&&On[e[(e[o>>2]|0)+4>>2]&127](o),Vc(i),Ae(i)}function pF(i){i=i|0;var s=0,o=0;e[i>>2]=1180,s=e[i+8>>2]|0,s&&(o=i+12|0,i=e[o>>2]|0,(i|0)!=(s|0)&&(e[o>>2]=i+(~((i+-4-s|0)>>>2)<<2)),Ae(s))}function mF(i){i=i|0;var s=0;if(e[i>>2]=3276,s=e[i+36>>2]|0,s|0&&Ae(s),s=e[i+24>>2]|0,!s){Ae(i);return}Ae(s),Ae(i)}function Gk(i){i=i|0;var s=0;e[i>>2]=1336,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=-1,s=i+16|0,e[i+32>>2]=0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,Y[s+12>>0]=0}function gF(i){i=i|0,e[i>>2]=3296,Tm(i+8|0),Ae(i)}function bF(i){i=i|0;var s=0;e[i>>2]=2488,s=e[i+56>>2]|0,s&&Ae(s)}function zk(i){i=i|0;var s=0,o=0;e[i>>2]=1460,s=i+36|0,o=e[s>>2]|0,e[s>>2]=0,o|0&&On[e[(e[o>>2]|0)+4>>2]&127](o),Vc(i)}function Wk(i,s){i=i|0,s=s|0,e[i>>2]=2968,Q6(i+4|0),e[i+40>>2]=0,e[i+44>>2]=0,e[i>>2]=2984,e[i+48>>2]=s,e[i+52>>2]=0}function yF(i){i=i|0;var s=0,o=0;e[i>>2]=3e3,s=i+64|0,o=e[s>>2]|0,e[s>>2]=0,o|0&&On[e[(e[o>>2]|0)+4>>2]&127](o),Mm(i),Ae(i)}function al(i){i=i|0;var s=0,o=0,l=0;s=e[i>>2]|0,o=i+4|0,l=e[o>>2]|0,(l|0)!=(s|0)&&(e[o>>2]=l+(~((l+-4-s|0)>>>2)<<2)),e[i+12>>2]=0,e[i+16>>2]=0}function vF(i,s,o){i=i|0,s=s|0,o=o|0;var l=0,f=0,h=0;return l=i+20|0,f=e[l>>2]|0,h=(e[i+16>>2]|0)-f|0,i=h>>>0>o>>>0?o:h,Fi(f|0,s|0,i|0)|0,e[l>>2]=(e[l>>2]|0)+i,o|0}function wF(i){i=i|0;var s=0;e[i>>2]=3208,s=e[i+36>>2]|0,s|0&&Ae(s),s=e[i+24>>2]|0,s&&Ae(s)}function AF(i){i=i|0,e[i>>2]=3296,Tm(i+8|0)}function Qk(i,s){i=i|0,s=s|0,e[i>>2]=2968,Q6(i+4|0),e[i+40>>2]=0,e[i+44>>2]=0,e[i>>2]=2984,e[i+48>>2]=s,e[i+52>>2]=s}function Jk(i,s){i=i|0,s=s|0;var o=0;return o=e[s>>2]|0,(1<<(o&31)&e[(e[i+28>>2]|0)+(o>>>5<<2)>>2]|0)!=0|0}function xF(i,s,o){return i=i|0,s=s|0,o=o|0,$o[e[(e[i>>2]|0)+44>>2]&31](i,s,o)|0}function qy(i){i=i|0;var s=0;Wy(i),s=i+64|0,e[i+88>>2]=0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,e[s+16>>2]=0,Y[s+20>>0]=0}function EF(i){i=i|0,e[i>>2]=2796,ln(i+88|0),Ae(i)}function _F(i){i=i|0;var s=0;e[i>>2]=3276,s=e[i+36>>2]|0,s|0&&Ae(s),s=e[i+24>>2]|0,s&&Ae(s)}function Xk(i,s,o,l){s=s|0,o=o|0,l=l|0,(e[s+4>>2]|0)==(o|0)&&(o=s+28|0,(e[o>>2]|0)!=1)&&(e[o>>2]=l)}function kF(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=Zt(h),No(i,s,o,l,f,h)}function CF(i){i=i|0;var s=0,o=0,l=0;return s=q,q=q+16|0,o=s,(iN(i)|0)==0&&($o[e[i+32>>2]&31](i,o,1)|0)==1?l=br[o>>0]|0:l=-1,q=s,l|0}function md(i,s){i=i|0,s=s|0;var o=0,l=0,f=0;e[i+104>>2]=s,o=e[i+8>>2]|0,l=e[i+4>>2]|0,f=o-l|0,e[i+108>>2]=f,e[i+100>>2]=(s|0)!=0&(f|0)>(s|0)?l+s|0:o}function Zy(i){i=i|0;var s=0;e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,s=i+16|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,e[s+16>>2]=0}function SF(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=Zt(h),No(e[i>>2]|0,s,o,l,f,h)}function TF(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=Zt(h),kF(i,s,o,l,f,h)}function qk(i,s,o,l,f,h){return i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,eF(i,s,o,l,f,h)|0}function Zk(i,s,o,l,f,h){return i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,tF(i,s,o,l,f,h)|0}function MF(i){i=i|0;var s=0,o=0;!i||(s=e[i>>2]|0,s|0&&(o=i+4|0,(e[o>>2]|0)!=(s|0)&&(e[o>>2]=s),Ae(s)),Ae(i))}function RF(i){i=i|0,e[i>>2]=2544,ln(i+88|0),Ae(i)}function Yk(i,s,o,l,f,h){return i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,rF(i,s,o,l,f,h)|0}function Kk(i,s,o,l,f,h){return i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,iF(i,s,o,l,f,h)|0}function DF(i){i=i|0,e[i>>2]=2796,ln(i+88|0)}function Yy(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0;return f=q,q=q+16|0,h=f|0,R2(i,s,o,l,h)|0,q=f,Ze=e[h+4>>2]|0,e[h>>2]|0|0}function BF(i){i=i|0;var s=0;iC(i),e[i>>2]=5840,s=i+84|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0,e[s+16>>2]=0,e[s+20>>2]=0}function $k(i,s,o,l,f,h){return i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,sF(i,s,o,l,f,h)|0}function It(i){i=i|0;var s=0,o=0;for(s=(i|0)==0?1:i;;){if(i=Z_(s)|0,i|0){o=i;break}if(i=_H()|0,!i){o=0;break}IC[i&3]()}return o|0}function IF(i,s,o){i=i|0,s=s|0,o=o|0,vP(i,s,o)}function eC(i,s,o){return i=i|0,s=s|0,o=o|0,e[i+4>>2]=s,e[i+8>>2]=e[(e[(e[s+4>>2]|0)+8>>2]|0)+(o<<2)>>2],e[i+12>>2]=o,1}function R3(i,s,o,l,f,h){return i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,uF(i,s,o,l,f,h)|0}function D3(i,s,o,l,f,h){return i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,cF(i,s,o,l,f,h)|0}function LF(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=Zt(h),SF(i,s,o,l,f,h)}function PF(i){i=i|0,e[i>>2]=2544,ln(i+88|0)}function NF(i){i=i|0;var s=0,o=0,l=0;return s=q,q=q+16|0,o=s,l=qH(e[i+60>>2]|0)|0,e[o>>2]=l,l=r4(E2(6,o|0)|0)|0,q=s,l|0}function FF(){var i=0,s=0;if(i=q,q=q+16|0,J1(18612,3)|0)gd(17746,i);else return s=Q1(e[4654]|0)|0,q=i,s|0;return 0}function OF(i){i=i|0;var s=0;!i||(s=e[i>>2]|0,e[i>>2]=0,s|0&&On[e[(e[s>>2]|0)+4>>2]&127](s),Ae(i))}function Wr(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0;return f=i,i=o,o=WN(f,i)|0,h=Ze,Ze=(_r(s,i)|0)+(_r(l,f)|0)+h|h&0,o|0|0|0}function HF(i,s){i=i|0,s=s|0,E_(i,s),e[i>>2]=1276,s=i+36|0,i=s+40|0;do e[s>>2]=0,s=s+4|0;while((s|0)<(i|0))}function UF(i){i=i|0,Tm(i),Ae(i)}function _n(i){i=i|0,e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,e[i+16>>2]=0,e[i+20>>2]=0,e[i+24>>2]=0,e[i+28>>2]=0}function VF(i){i=i|0;var s=0;if(s=q,q=q+16|0,_2(i),a6(e[4654]|0,0)|0)gd(17845,s);else{q=s;return}}function jF(i){i=i|0;var s=0;e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,s=i+16|0,e[s>>2]=0,e[s+4>>2]=0,e[s+8>>2]=0,e[s+12>>2]=0}function GF(i,s){return i=i|0,s=s|0,Ai(i+40|0,s)|0}function zF(i,s){return i=i|0,s=s|0,W_(i,s,FH(s)|0)|0}function tC(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0,h=0;return f=q,q=q+16|0,h=f,e[h>>2]=l,l=NL(i,s,o,h)|0,q=f,l|0}function WF(i,s){return i=i|0,s=s|0,IP(i+40|0,s)|0}function rC(i,s,o,l){return i=i|0,s=s|0,o=o|0,l=l|0,KI(i,s,o,l)|0}function Im(i){i=i|0;var s=0;e[i>>2]=3608,e[i+52>>2]=0,s=i+4|0,i=s+44|0;do e[s>>2]=0,s=s+4|0;while((s|0)<(i|0))}function QF(i,s,o,l){return i=i|0,s=s|0,o=o|0,l=l|0,OI(i,s,o,l)|0}function JF(i,s){i=i|0,s=s|0;var o=0;return o=e[i+64>>2]|0,M0[e[(e[o>>2]|0)+24>>2]&127](o,s)|0}function ll(i){i=i|0,e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,e[i+16>>2]=0,e[i+20>>2]=0,Y[i+24>>0]=0}function gd(i,s){i=i|0,s=s|0;var o=0,l=0;o=q,q=q+16|0,l=o,e[l>>2]=s,s=e[1478]|0,S_(s,i,l)|0,BP(10,s)|0,Xb()}function XF(i,s,o,l,f,h,u){return i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,u=u|0,BC[i&31](s|0,o|0,l|0,f|0,h|0,u|0)|0}function qF(i){i=i|0;var s=0;s=e[i+56>>2]|0,e[i+60>>2]=((e[s+100>>2]|0)-(e[s+96>>2]|0)|0)/12|0}function ZF(i,s){i=i|0,s=s|0;var o=0;return o=e[i+64>>2]|0,M0[e[(e[o>>2]|0)+16>>2]&127](o,s)|0}function YF(i,s){i=i|0,s=s|0;var o=0;return o=e[i+64>>2]|0,M0[e[(e[o>>2]|0)+20>>2]&127](o,s)|0}function KF(i,s){i=i|0,s=s|0;var o=0;return o=e[i+64>>2]|0,M0[e[(e[o>>2]|0)+12>>2]&127](o,s)|0}function $F(){var i=0;if(i=q,q=q+16|0,qb(18616,117)|0)gd(17795,i);else{q=i;return}}function eO(i){i=i|0,e[i>>2]=1136,Q6(i+4|0),e[i+40>>2]=0,e[i+44>>2]=0,e[i>>2]=2944}function tO(i){i=i|0,Pc(i),Ae(i)}function rO(i,s,o,l,f,h,u){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,u=u|0,f4[i&3](s|0,o|0,l|0,f|0,h|0,u|0)}function iO(i,s){i=i|0,s=s|0;var o=0;o=e[s+64>>2]|0,l4[e[(e[o>>2]|0)+28>>2]&15](i,o)}function nO(i,s,o){return i=i|0,s=s|0,o=o|0,s|0&&Tr(i|0,(NH(o)|0)&255|0,s|0)|0,i|0}function Ky(i){return 4}function sO(i,s,o){return s=s|0,o=o|0,G_(0,s,o)|0}function e0(i,s,o){return i=i|0,s=s|0,o=o|0,(o|0)<32?(Ze=s<<o|(i&(1<<o)-1<<32-o)>>>32-o,i<<o):(Ze=i<<o-32,0)}function oO(){}function Qt(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0;return f=i+o>>>0,Ze=s+l+(f>>>0<i>>>0|0)>>>0,f|0|0}function aO(i,s){i=i|0,s=s|0;var o=0;return s?o=WI(e[s>>2]|0,e[s+4>>2]|0,i)|0:o=0,(o|0?o:i)|0}function Gi(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0;var f=0;return f=s-l>>>0,f=s-l-(o>>>0>i>>>0|0)>>>0,Ze=f,i-o>>>0|0|0}function s0(i,s,o){return i=i|0,s=s|0,o=o|0,(o|0)<32?(Ze=s>>>o,i>>>o|(s&(1<<o)-1)<<32-o):(Ze=0,s>>>o-32|0)}function lO(i,s,o,l){return i=i|0,s=s|0,o=o|0,l=l|0,vy(i,s,o,l)|0}function fO(i){i=i|0,_y(i),Ae(i)}function uO(i,s,o,l){return i=i|0,s=s|0,o=o|0,l=+l,OL(i,s,o,l)|0}function $y(i){return 5}function iC(i){i=i|0;var s=0;e[i>>2]=5880,s=i+4|0,i=s+80|0;do e[s>>2]=0,s=s+4|0;while((s|0)<(i|0))}function e4(i){return 6}function cO(i,s,o,l){return i=i|0,s=s|0,o=o|0,l=l|0,HL(i,s,o,l)|0}function hO(i,s,o){i=i|0,s=s|0,o=o|0,pk(i,s,o)}function dO(i,s){i=i|0,s=s|0,O_(e[i>>2]|0,s)}function pO(i,s,o){i=i|0,s=s|0,o=o|0,hO(i,s,o)}function t4(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0,hm(i,s,o,l,1)}function Jc(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0,hm(i,s,o,l,0)}function mO(i,s,o,l){return i=i|0,s=s|0,o=o|0,l=l|0,Oo(i,s,o,l)|0}function gO(i,s,o){return i=i|0,s=s|0,o=o|0,cL(i,s,o)|0}function bO(i){i=i|0;var s=0;return s=e[i+64>>2]|0,kn[e[(e[s>>2]|0)+32>>2]&127](s)|0}function nC(i,s,o){return i=i|0,s=s|0,o=o|0,e[i+28>>2]=s,e[i+32>>2]=o,1}function yO(i,s){i=i|0,e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0}function vO(i,s,o){i=i|0,s=s|0,o=o|0,pk(e[i>>2]|0,s,o)}function sC(i,s,o){return i=i|0,s=s|0,o=o|0,G_(i,s,o)|0}function wO(i,s,o){return i=i|0,s=s|0,o=o|0,sO(i,s,o)|0}function AO(i,s,o,l,f,h){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,h=h|0,G3[i&3](s|0,o|0,l|0,f|0,h|0)}function r4(i){i=i|0;var s=0,o=0;return i>>>0>4294963200?(s=ca()|0,e[s>>2]=0-i,o=-1):o=i,o|0}function xO(i,s,o){return i=i|0,s=s|0,o=o|0,qI(i,s,o)|0}function $f(i){i=i|0,e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0,e[i+12>>2]=0,e[i+16>>2]=0}function EO(i,s){return i=i|0,s=s|0,e[i+8>>2]=s,e[i+12>>2]=-1,1}function _O(i,s){i=i|0,s=s|0,e[i+56>>2]=s,L3(i,s)}function kO(i,s,o){i=i|0,s=s|0,o=o|0,vO(i,s,o)}function B3(i){i=+i;var s=0;return N0[En>>3]=i,s=e[En>>2]|0,Ze=e[En+4>>2]|0,s|0}function oC(i,s,o){i=i|0,s=Zt(s),o=o|0;var l=vi;l=Zt(Zt(o|0)/s),bi[i>>2]=l}function CO(i,s){i=i|0,s=s|0,O_(i,s)}function I3(i){i=i|0,Gk(i),e[i>>2]=1460,e[i+36>>2]=0}function aC(i){i=i|0,Im(i),e[i>>2]=3424,e[i+56>>2]=0,e[i+60>>2]=0}function SO(i){i=i|0;var s=0;return i?s=(G6(i,1024,1112,0)|0)!=0&1:s=0,s|0}function TO(i,s,o){i=i|0,s=s|0,o=o|0,lC(e[i>>2]|0,s,o)}function lC(i,s,o){i=i|0,s=s|0,o=o|0,IL(i+4|0,s,o)}function MO(i){i=i|0;var s=0;return s=It(8)|0,QP(s,i),s|0}function fC(i){i=i|0,(Y[i+11>>0]|0)<0&&Ae(e[i>>2]|0)}function uC(i){i=i|0,i&&On[e[(e[i>>2]|0)+4>>2]&127](i)}function RO(i,s,o,l,f){i=i|0,s=s|0,o=o|0,l=l|0,f=f|0,j3[i&7](s|0,o|0,l|0,f|0)}function DO(i,s,o){return i=i|0,s=s|0,o=o|0,o|0&&Q0(i|0,s|0,o|0)|0,i|0}function BO(i,s,o){i=i|0,s=s|0,o=o|0,TO(i,s,o)}function eu(i,s,o){return i=i|0,s=s|0,o=o|0,o|0&&Fi(i|0,s|0,o|0)|0,i|0}function cC(i){i=i|0,e[i+52>>2]=e[(e[i+4>>2]|0)+80>>2]}function IO(i,s){i=i|0,s=s|0,dO(i,s)}function LO(i){i=i|0,e[i+52>>2]=e[(e[i+56>>2]|0)+80>>2]}function hC(i,s){return-1}function PO(i){i=i|0,R_(i),Ae(i)}function NO(i,s,o){i=i|0,s=s|0,o=o|0,jO(i,s,o)}function FO(i,s){i=i|0,s=s|0,yk(e[i>>2]|0,s)}function OO(i,s,o,l){return i=i|0,s=s|0,o=o|0,l=l|0,$o[i&31](s|0,o|0,l|0)|0}function HO(i,s){return i=i|0,s=s|0,(cH(i,s)|0)<<24>>24|0}function c0(i,s){i=i|0,s=s|0,e[i>>2]=6924,QN(i+4|0,s)}function UO(i){i=i|0,aC(i),e[i>>2]=3e3,e[i+64>>2]=0}function dC(i,s){i=i|0,s=s|0;var o=0;return i?o=DL(i,s,0)|0:o=0,o|0}function VO(i,s){i=i|0,s=s|0,CO(i,s)}function pC(i){return i=i|0,e[i+12>>2]|0}function jO(i,s,o){i=i|0,s=s|0,o=o|0,lC(i,s,o)}function GO(){var i=0;return i=It(64)|0,Wy(i),i|0}function zO(i,s){i=i|0,s=s|0,FO(i,s)}function WO(i){i=i|0,i&&(Kf(i),Ae(i))}function i4(i){return i=i|0,e[i+4>>2]|0}function Ro(i,s,o){i=i|0,s=s|0,o=o|0,e[i>>2]&32||yL(s,o,i)|0}function QO(i){return i=i|0,dH(i)|0}function JO(i,s,o,l){i=i|0,s=s|0,o=o|0,l=l|0,Nm[i&15](s|0,o|0,l|0)}function XO(){var i=0;return i=It(96)|0,qy(i),i|0}function qO(i){return i=i|0,pH(i)|0}function ZO(i){i=i|0;var s=0;return s=q,q=q+i|0,q=q+15&-16,s|0}function YO(i){i=i|0;var s=0;return s=(DC()|0)+188|0,VP(i,e[s>>2]|0)|0}function KO(i){return i=i|0,((e[i+100>>2]|0)-(e[i+96>>2]|0)|0)/12|0|0}function $O(i,s){i=i|0,s=s|0,rH(i,s)}function Ha(i,s,o,l,f,h){return rl(3),0}function eH(){var i=0;return i=It(12)|0,aH(i),i|0}function tH(i){i=i|0,Vc(i),Ae(i)}function tu(i,s,o){return i=i|0,s=s|0,(i|0)==(s|0)|0}function bd(i,s){i=i|0,s=s|0;var o=0;return o=yC(i|0)|0,((s|0)==0?i:o)|0}function mC(i){return i=i|0,(e[i+12>>2]|0)-(e[i+8>>2]|0)>>2|0}function L3(i,s){i=i|0,s=s|0,e[i+4>>2]=s}function W2(i,s,o,l){return i=i|0,s=s|0,o=o|0,l=l|0,R2(i,s,o,l,0)|0}function rH(i,s){i=i|0,s=s|0,yk(i,s)}function Q2(i){i=i|0,e[i+4>>2]=0,e[i+8>>2]=0,e[i>>2]=i+4}function iH(i){return i=i|0,EC(i)|0}function nH(){var i=0;return i=It(84)|0,iC(i),i|0}function sH(i){i=i|0,L_(i),Ae(i)}function oH(i){return i=i|0,DH(i)|0}function aH(i){i=i|0,e[i>>2]=0,e[i+4>>2]=0,e[i+8>>2]=0}function gC(i){i=i|0,e[i>>2]=6924,aF(i+4|0)}function lH(i,s,o){return i=i|0,s=s|0,o=o|0,M0[i&127](s|0,o|0)|0}function bC(i,s,o,l,f,h){rl(10)}function yC(i){return i=i|0,(i&255)<<24|(i>>8&255)<<16|(i>>16&255)<<8|i>>>24|0}function fH(i){i=i|0,aC(i),e[i>>2]=3504}function yd(i,s){i=i|0,s=s|0,Y[i>>0]=Y[s>>0]|0}function uH(i,s,o){return-1}function cH(i,s){return i=i|0,s=s|0,Y[(e[i>>2]|0)+s>>0]|0}function hH(i){return i=i|0,(e[i+4>>2]|0)-(e[i>>2]|0)|0}function P3(i){i=i|0,Mm(i),Ae(i)}function dH(i){return i=i|0,e[(e[i>>2]|0)+40>>2]|0}function pH(i){return i=i|0,e[(e[i>>2]|0)+44>>2]|0}function Lm(i){i=i|0,i&&Ae(i)}function vC(i){i=i|0,Y[i+28>>0]=1}function mH(i,s){}function n4(i,s){return 1}function gH(i){return i=i|0,i+12|0}function bH(i,s,o){i=i|0,s=s|0,o=o|0,l4[i&15](s|0,o|0)}function yH(i,s){i=i|0,s=s|0,e[i+80>>2]=s}function vH(){var i=0;return i=It(48)|0,HH(i),i|0}function wH(i){return i=i|0,IH(i+4|0)|0}function AH(){var i=0;return i=It(108)|0,BF(i),i|0}function xH(i){return i=i|0,(Y[i+32>>0]|0)!=0|0}function EH(i){return i=i|0,i+-12|0}function wC(i,s,o,l,f){rl(9)}function _H(){var i=0;return i=e[4655]|0,e[4655]=i+0,i|0}function kH(i){return i=i|0,e[i+56>>2]|0}function CH(i){i=i|0,xa(i),Ae(i)}function AC(i){i=i|0,Ae(i)}function SH(i){return i=i|0,Y[i+24>>0]|0}function _a(i,s){return 0}function TH(i){return i=i|0,e[i+48>>2]|0}function MH(i,s){return i=i|0,s=s|0,kn[i&127](s|0)|0}function RH(i){return i=i|0,e[i+60>>2]|0}function Pm(i){return i=i|0,e[i+28>>2]|0}function xC(i){i=i|0,gC(i),Ae(i)}function qe(i){Xb()}function EC(i){return i=i|0,e[i+40>>2]|0}function DH(i){return i=i|0,e[i+44>>2]|0}function s4(i,s){return i=i|0,s=s|0,Zt(+Ak(i,s,0))}function _C(i){return 3}function BH(i,s){i=i|0,q=i}function kC(i){i=i|0,bi[i>>2]=Zt(1)}function CC(i){return i=i|0,((i|0)==32|(i+-9|0)>>>0<5)&1|0}function N3(i){return i=i|0,e[i+80>>2]|0}function IH(i){return i=i|0,e[i>>2]|0}function o4(i,s,o,l){rl(8)}function LH(i,s){i=i|0,s=s|0,On[i&127](s|0)}function PH(i,s){return i=i|0,s=s|0,aO(i,s)|0}function NH(i){return i=i|0,i&255|0}function FH(i){return i=i|0,jc(i)|0}function OH(i,s){return i=i|0,s=s|0,+ +Ak(i,s,1)}function Ua(i,s,o){return rl(2),0}function F3(i){return 2}function ps(i){return 1}function HH(i){i=i|0,eO(i)}function SC(i,s){return i=+i,s=+s,+ +jN(i,s)}function TC(i,s){return i=+i,s=s|0,+ +Uy(i,s)}function UH(i,s){return i=+i,s=s|0,+ +gk(i,s)}function VH(){return 3}function O3(i,s,o){rl(7)}function H3(){return 0}function MC(){return-1}function U3(){return It(1)|0}function jH(){return 4}function vd(i){return i=i|0,(i+-48|0)>>>0<10|0}function V3(){return 1}function GH(){return 2}function RC(i,s){return i=+i,s=+s,+ +ly(i,s)}function t0(i,s){return rl(1),0}function J2(i){o6()}function zH(i){i=i|0,IC[i&3]()}function WH(){ro()}function QH(i){return i=i|0,+ +OH(i,0)}function DC(){return KH()|0}function a4(i,s){rl(6)}function Fl(i){return i=i|0,It(i)|0}function F0(i){i=i|0,Ae(i)}function JH(i){i=i|0,q=i}function Ae(i){i=i|0,_2(i)}function XH(i){i=i|0,Ze=i}function qH(i){return i=i|0,i|0}function O0(i){return rl(0),0}function ru(i){}function fl(i){return 0}function ZH(){return Ze|0}function ca(){return 18544}function YH(){return q|0}function cf(i){rl(5)}function KH(){return 6040}function $H(){rl(4)}var kn=[O0,F3,ps,ps,F3,iP,fl,fl,fl,WP,rt,ps,i4,fl,fl,ps,fl,ps,ps,zy,$y,Bk,ps,e4,Tk,ps,Pm,Ky,zy,ps,zy,$y,Bk,ps,e4,Tk,ps,Pm,Ky,zy,ps,_C,fl,i4,ps,fl,ps,_C,ps,Gy,Ky,Gy,$y,Dk,ps,e4,Ck,ps,Pm,ps,Gy,Ky,Gy,$y,Dk,ps,e4,Ck,ps,Pm,ps,F3,ps,ps,D2,ps,M6,LI,tN,bO,pC,i4,cs,Ps,B6,pC,i4,ps,fl,fl,ML,fl,ps,fl,jP,NF,wH,O0,O0,O0,O0,O0,O0,O0,O0,O0,O0,O0,O0,O0,O0,O0,O0,O0,O0,O0,O0,O0,O0,O0,O0,O0,O0,O0,O0,O0,O0,O0],M0=[t0,BN,PI,L2,LN,_a,_a,_a,n4,aP,QL,EO,n4,n4,xL,zL,pL,JP,RN,PP,vN,GP,zP,T6,hC,_a,gL,_a,Hk,Sy,_a,Uk,C_,Xy,om,_a,Hk,Sy,_a,Uk,C_,Xy,om,WF,hC,_a,mL,sm,_a,Lk,ky,_a,Pk,k_,Xy,sm,_a,Lk,ky,_a,Pk,k_,Xy,GF,YF,JF,KF,ZF,DI,vk,wk,xP,Ic,Jk,By,Ty,Cy,RI,vk,wk,AP,Ic,Jk,n4,_a,_a,F2,fF,Ft,F2,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0,t0],$o=[Ua,nC,uH,eC,xF,Hi,WL,SN,j6,TP,ZI,zr,hL,mP,uL,Uc,TN,vF,ZL,Ua,Ua,Ua,Ua,Ua,Ua,Ua,Ua,Ua,Ua,Ua,Ua,Ua],BC=[Ha,rd,l6,C6,bP,$L,k2,sf,gP,KL,BI,oy,tP,xm,kP,Tc,eP,nl,EP,Ha,Ha,Ha,Ha,Ha,Ha,Ha,Ha,Ha,Ha,Ha,Ha,Ha],IC=[$H,WH,RL,$F],On=[cf,FP,mk,ru,F0,pF,ZN,wN,J2,L_,sH,Vc,tH,R_,PO,zk,jk,XN,J2,T3,T3,yN,cN,EN,gN,ru,F0,J2,V_,JN,T3,bN,fN,AN,pN,ru,F0,J2,H_,UN,zk,jk,ru,F0,F0,q_,NN,bF,nF,PF,RF,ru,F0,F0,X_,IN,dF,YN,DF,EF,ru,F0,$P,qP,mk,UP,bk,bk,$N,yF,Kb,HN,_y,fO,rN,YP,dN,lN,wF,hF,sN,KP,mN,uN,_F,mF,AF,gF,Tm,UF,Pc,tO,Mm,J2,P3,LO,qF,ru,F0,J2,P3,cC,P3,cC,aN,nN,dP,xa,CH,ru,AC,ru,ru,AC,gC,xC,xC,VF,cf,cf,cf,cf,cf,cf,cf,cf,cf,cf],l4=[a4,ZP,te,UL,iO,sP,lP,CP,yO,Q_,Q_,eN,Y1,a4,a4,a4],Nm=[O3,od,jL,Py,Ny,f6,Py,Ny,RP,LP,MI,qL,Fo,bs,O3,O3],j3=[o4,Yf,wr,qN,xN,o4,o4,o4],G3=[wC,JL,NI,wC],f4=[bC,ON,hN,bC];return{___cxa_can_catch:KN,___cxa_is_pointer_type:SO,___divdi3:m0,___muldi3:Wr,___udivdi3:W2,___uremdi3:Yy,_bitshift64Lshr:s0,_bitshift64Shl:e0,_emscripten_bind_DracoInt8Array_DracoInt8Array_0:eH,_emscripten_bind_DracoInt8Array_GetValue_1:HO,_emscripten_bind_DracoInt8Array___destroy___0:MF,_emscripten_bind_DracoInt8Array_size_0:hH,_emscripten_bind_Encoder_EncodeMeshToDracoBuffer_2:gO,_emscripten_bind_Encoder_EncodePointCloudToDracoBuffer_3:QF,_emscripten_bind_Encoder_Encoder_0:vH,_emscripten_bind_Encoder_GetNumberOfEncodedFaces_0:oH,_emscripten_bind_Encoder_GetNumberOfEncodedPoints_0:iH,_emscripten_bind_Encoder_SetAttributeExplicitQuantization_5:TF,_emscripten_bind_Encoder_SetAttributeQuantization_2:pO,_emscripten_bind_Encoder_SetEncodingMethod_1:$O,_emscripten_bind_Encoder_SetSpeedOptions_2:NO,_emscripten_bind_Encoder_SetTrackEncodedProperties_1:VO,_emscripten_bind_Encoder___destroy___0:NP,_emscripten_bind_ExpertEncoder_EncodeToDracoBuffer_2:xO,_emscripten_bind_ExpertEncoder_ExpertEncoder_1:MO,_emscripten_bind_ExpertEncoder_GetNumberOfEncodedFaces_0:qO,_emscripten_bind_ExpertEncoder_GetNumberOfEncodedPoints_0:QO,_emscripten_bind_ExpertEncoder_SetAttributeExplicitQuantization_5:LF,_emscripten_bind_ExpertEncoder_SetAttributeQuantization_2:kO,_emscripten_bind_ExpertEncoder_SetEncodingMethod_1:zO,_emscripten_bind_ExpertEncoder_SetSpeedOptions_2:BO,_emscripten_bind_ExpertEncoder_SetTrackEncodedProperties_1:IO,_emscripten_bind_ExpertEncoder___destroy___0:OF,_emscripten_bind_GeometryAttribute_GeometryAttribute_0:GO,_emscripten_bind_GeometryAttribute___destroy___0:Lm,_emscripten_bind_MeshBuilder_AddFacesToMesh_3:mO,_emscripten_bind_MeshBuilder_AddFloatAttributeToMesh_5:D3,_emscripten_bind_MeshBuilder_AddFloatAttribute_5:D3,_emscripten_bind_MeshBuilder_AddInt16Attribute_5:Kk,_emscripten_bind_MeshBuilder_AddInt32AttributeToMesh_5:R3,_emscripten_bind_MeshBuilder_AddInt32Attribute_5:R3,_emscripten_bind_MeshBuilder_AddInt8Attribute_5:$k,_emscripten_bind_MeshBuilder_AddMetadataToMesh_2:wO,_emscripten_bind_MeshBuilder_AddMetadata_2:sC,_emscripten_bind_MeshBuilder_AddUInt16Attribute_5:Zk,_emscripten_bind_MeshBuilder_AddUInt32Attribute_5:qk,_emscripten_bind_MeshBuilder_AddUInt8Attribute_5:Yk,_emscripten_bind_MeshBuilder_MeshBuilder_0:U3,_emscripten_bind_MeshBuilder_SetMetadataForAttribute_3:rC,_emscripten_bind_MeshBuilder___destroy___0:Lm,_emscripten_bind_Mesh_Mesh_0:AH,_emscripten_bind_Mesh___destroy___0:uC,_emscripten_bind_Mesh_num_attributes_0:mC,_emscripten_bind_Mesh_num_faces_0:KO,_emscripten_bind_Mesh_num_points_0:N3,_emscripten_bind_Mesh_set_num_points_1:yH,_emscripten_bind_MetadataBuilder_AddDoubleEntry_3:uO,_emscripten_bind_MetadataBuilder_AddIntEntry_3:cO,_emscripten_bind_MetadataBuilder_AddStringEntry_3:lO,_emscripten_bind_MetadataBuilder_MetadataBuilder_0:U3,_emscripten_bind_MetadataBuilder___destroy___0:Lm,_emscripten_bind_Metadata_Metadata_0:VN,_emscripten_bind_Metadata___destroy___0:WO,_emscripten_bind_PointAttribute_PointAttribute_0:XO,_emscripten_bind_PointAttribute___destroy___0:DP,_emscripten_bind_PointAttribute_attribute_type_0:kH,_emscripten_bind_PointAttribute_byte_offset_0:TH,_emscripten_bind_PointAttribute_byte_stride_0:EC,_emscripten_bind_PointAttribute_data_type_0:Pm,_emscripten_bind_PointAttribute_normalized_0:xH,_emscripten_bind_PointAttribute_num_components_0:SH,_emscripten_bind_PointAttribute_size_0:N3,_emscripten_bind_PointAttribute_unique_id_0:RH,_emscripten_bind_PointCloudBuilder_AddFloatAttribute_5:D3,_emscripten_bind_PointCloudBuilder_AddInt16Attribute_5:Kk,_emscripten_bind_PointCloudBuilder_AddInt32Attribute_5:R3,_emscripten_bind_PointCloudBuilder_AddInt8Attribute_5:$k,_emscripten_bind_PointCloudBuilder_AddMetadata_2:sC,_emscripten_bind_PointCloudBuilder_AddUInt16Attribute_5:Zk,_emscripten_bind_PointCloudBuilder_AddUInt32Attribute_5:qk,_emscripten_bind_PointCloudBuilder_AddUInt8Attribute_5:Yk,_emscripten_bind_PointCloudBuilder_PointCloudBuilder_0:U3,_emscripten_bind_PointCloudBuilder_SetMetadataForAttribute_3:rC,_emscripten_bind_PointCloudBuilder___destroy___0:Lm,_emscripten_bind_PointCloud_PointCloud_0:nH,_emscripten_bind_PointCloud___destroy___0:uC,_emscripten_bind_PointCloud_num_attributes_0:mC,_emscripten_bind_PointCloud_num_points_0:N3,_emscripten_bind_VoidPtr___destroy___0:Lm,_emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE:MC,_emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD:H3,_emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH:V3,_emscripten_enum_draco_GeometryAttribute_Type_COLOR:GH,_emscripten_enum_draco_GeometryAttribute_Type_GENERIC:jH,_emscripten_enum_draco_GeometryAttribute_Type_INVALID:MC,_emscripten_enum_draco_GeometryAttribute_Type_NORMAL:V3,_emscripten_enum_draco_GeometryAttribute_Type_POSITION:H3,_emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD:VH,_emscripten_enum_draco_MeshEncoderMethod_MESH_EDGEBREAKER_ENCODING:V3,_emscripten_enum_draco_MeshEncoderMethod_MESH_SEQUENTIAL_ENCODING:H3,_emscripten_replace_memory:X1,_free:_2,_i64Add:Qt,_i64Subtract:Gi,_llvm_bswap_i32:yC,_malloc:Z_,_memcpy:Fi,_memmove:Q0,_memset:Tr,_sbrk:zc,dynCall_ii:MH,dynCall_iii:lH,dynCall_iiii:OO,dynCall_iiiiiii:XF,dynCall_v:zH,dynCall_vi:LH,dynCall_vii:bH,dynCall_viii:JO,dynCall_viiii:RO,dynCall_viiiii:AO,dynCall_viiiiii:rO,establishStackSpace:BH,getTempRet0:ZH,runPostSets:oO,setTempRet0:XH,setThrew:mH,stackAlloc:ZO,stackRestore:JH,stackSave:YH}}(t.asmGlobalArg,t.asmLibraryArg,Ne);t.___cxa_can_catch=qr.___cxa_can_catch,t.___cxa_is_pointer_type=qr.___cxa_is_pointer_type,t.___divdi3=qr.___divdi3,t.___muldi3=qr.___muldi3,t.___udivdi3=qr.___udivdi3,t.___uremdi3=qr.___uremdi3,t._bitshift64Lshr=qr._bitshift64Lshr,t._bitshift64Shl=qr._bitshift64Shl;var wb=t._emscripten_bind_DracoInt8Array_DracoInt8Array_0=qr._emscripten_bind_DracoInt8Array_DracoInt8Array_0,Ab=t._emscripten_bind_DracoInt8Array_GetValue_1=qr._emscripten_bind_DracoInt8Array_GetValue_1,yA=t._emscripten_bind_DracoInt8Array___destroy___0=qr._emscripten_bind_DracoInt8Array___destroy___0,vA=t._emscripten_bind_DracoInt8Array_size_0=qr._emscripten_bind_DracoInt8Array_size_0,xb=t._emscripten_bind_Encoder_EncodeMeshToDracoBuffer_2=qr._emscripten_bind_Encoder_EncodeMeshToDracoBuffer_2,$l=t._emscripten_bind_Encoder_EncodePointCloudToDracoBuffer_3=qr._emscripten_bind_Encoder_EncodePointCloudToDracoBuffer_3,wA=t._emscripten_bind_Encoder_Encoder_0=qr._emscripten_bind_Encoder_Encoder_0,AA=t._emscripten_bind_Encoder_GetNumberOfEncodedFaces_0=qr._emscripten_bind_Encoder_GetNumberOfEncodedFaces_0,p2=t._emscripten_bind_Encoder_GetNumberOfEncodedPoints_0=qr._emscripten_bind_Encoder_GetNumberOfEncodedPoints_0,jh=t._emscripten_bind_Encoder_SetAttributeExplicitQuantization_5=qr._emscripten_bind_Encoder_SetAttributeExplicitQuantization_5,xA=t._emscripten_bind_Encoder_SetAttributeQuantization_2=qr._emscripten_bind_Encoder_SetAttributeQuantization_2,EA=t._emscripten_bind_Encoder_SetEncodingMethod_1=qr._emscripten_bind_Encoder_SetEncodingMethod_1,_A=t._emscripten_bind_Encoder_SetSpeedOptions_2=qr._emscripten_bind_Encoder_SetSpeedOptions_2,kA=t._emscripten_bind_Encoder_SetTrackEncodedProperties_1=qr._emscripten_bind_Encoder_SetTrackEncodedProperties_1,L1=t._emscripten_bind_Encoder___destroy___0=qr._emscripten_bind_Encoder___destroy___0,Eb=t._emscripten_bind_ExpertEncoder_EncodeToDracoBuffer_2=qr._emscripten_bind_ExpertEncoder_EncodeToDracoBuffer_2,CA=t._emscripten_bind_ExpertEncoder_ExpertEncoder_1=qr._emscripten_bind_ExpertEncoder_ExpertEncoder_1,_b=t._emscripten_bind_ExpertEncoder_GetNumberOfEncodedFaces_0=qr._emscripten_bind_ExpertEncoder_GetNumberOfEncodedFaces_0,kb=t._emscripten_bind_ExpertEncoder_GetNumberOfEncodedPoints_0=qr._emscripten_bind_ExpertEncoder_GetNumberOfEncodedPoints_0,m2=t._emscripten_bind_ExpertEncoder_SetAttributeExplicitQuantization_5=qr._emscripten_bind_ExpertEncoder_SetAttributeExplicitQuantization_5,g2=t._emscripten_bind_ExpertEncoder_SetAttributeQuantization_2=qr._emscripten_bind_ExpertEncoder_SetAttributeQuantization_2,P1=t._emscripten_bind_ExpertEncoder_SetEncodingMethod_1=qr._emscripten_bind_ExpertEncoder_SetEncodingMethod_1,Cb=t._emscripten_bind_ExpertEncoder_SetSpeedOptions_2=qr._emscripten_bind_ExpertEncoder_SetSpeedOptions_2,Sb=t._emscripten_bind_ExpertEncoder_SetTrackEncodedProperties_1=qr._emscripten_bind_ExpertEncoder_SetTrackEncodedProperties_1,b2=t._emscripten_bind_ExpertEncoder___destroy___0=qr._emscripten_bind_ExpertEncoder___destroy___0,SA=t._emscripten_bind_GeometryAttribute_GeometryAttribute_0=qr._emscripten_bind_GeometryAttribute_GeometryAttribute_0,Tb=t._emscripten_bind_GeometryAttribute___destroy___0=qr._emscripten_bind_GeometryAttribute___destroy___0,Ya=t._emscripten_bind_MeshBuilder_AddFacesToMesh_3=qr._emscripten_bind_MeshBuilder_AddFacesToMesh_3,TA=t._emscripten_bind_MeshBuilder_AddFloatAttributeToMesh_5=qr._emscripten_bind_MeshBuilder_AddFloatAttributeToMesh_5,MA=t._emscripten_bind_MeshBuilder_AddFloatAttribute_5=qr._emscripten_bind_MeshBuilder_AddFloatAttribute_5,N1=t._emscripten_bind_MeshBuilder_AddInt16Attribute_5=qr._emscripten_bind_MeshBuilder_AddInt16Attribute_5,Mb=t._emscripten_bind_MeshBuilder_AddInt32AttributeToMesh_5=qr._emscripten_bind_MeshBuilder_AddInt32AttributeToMesh_5,Vf=t._emscripten_bind_MeshBuilder_AddInt32Attribute_5=qr._emscripten_bind_MeshBuilder_AddInt32Attribute_5,F1=t._emscripten_bind_MeshBuilder_AddInt8Attribute_5=qr._emscripten_bind_MeshBuilder_AddInt8Attribute_5,ef=t._emscripten_bind_MeshBuilder_AddMetadataToMesh_2=qr._emscripten_bind_MeshBuilder_AddMetadataToMesh_2,y2=t._emscripten_bind_MeshBuilder_AddMetadata_2=qr._emscripten_bind_MeshBuilder_AddMetadata_2,O1=t._emscripten_bind_MeshBuilder_AddUInt16Attribute_5=qr._emscripten_bind_MeshBuilder_AddUInt16Attribute_5,vc=t._emscripten_bind_MeshBuilder_AddUInt32Attribute_5=qr._emscripten_bind_MeshBuilder_AddUInt32Attribute_5,RA=t._emscripten_bind_MeshBuilder_AddUInt8Attribute_5=qr._emscripten_bind_MeshBuilder_AddUInt8Attribute_5,DA=t._emscripten_bind_MeshBuilder_MeshBuilder_0=qr._emscripten_bind_MeshBuilder_MeshBuilder_0,BA=t._emscripten_bind_MeshBuilder_SetMetadataForAttribute_3=qr._emscripten_bind_MeshBuilder_SetMetadataForAttribute_3,IA=t._emscripten_bind_MeshBuilder___destroy___0=qr._emscripten_bind_MeshBuilder___destroy___0,Rb=t._emscripten_bind_Mesh_Mesh_0=qr._emscripten_bind_Mesh_Mesh_0,Db=t._emscripten_bind_Mesh___destroy___0=qr._emscripten_bind_Mesh___destroy___0,LA=t._emscripten_bind_Mesh_num_attributes_0=qr._emscripten_bind_Mesh_num_attributes_0,PA=t._emscripten_bind_Mesh_num_faces_0=qr._emscripten_bind_Mesh_num_faces_0,NA=t._emscripten_bind_Mesh_num_points_0=qr._emscripten_bind_Mesh_num_points_0,FA=t._emscripten_bind_Mesh_set_num_points_1=qr._emscripten_bind_Mesh_set_num_points_1,Bb=t._emscripten_bind_MetadataBuilder_AddDoubleEntry_3=qr._emscripten_bind_MetadataBuilder_AddDoubleEntry_3,OA=t._emscripten_bind_MetadataBuilder_AddIntEntry_3=qr._emscripten_bind_MetadataBuilder_AddIntEntry_3,Ib=t._emscripten_bind_MetadataBuilder_AddStringEntry_3=qr._emscripten_bind_MetadataBuilder_AddStringEntry_3,v2=t._emscripten_bind_MetadataBuilder_MetadataBuilder_0=qr._emscripten_bind_MetadataBuilder_MetadataBuilder_0,wc=t._emscripten_bind_MetadataBuilder___destroy___0=qr._emscripten_bind_MetadataBuilder___destroy___0,HA=t._emscripten_bind_Metadata_Metadata_0=qr._emscripten_bind_Metadata_Metadata_0,UA=t._emscripten_bind_Metadata___destroy___0=qr._emscripten_bind_Metadata___destroy___0,VA=t._emscripten_bind_PointAttribute_PointAttribute_0=qr._emscripten_bind_PointAttribute_PointAttribute_0,Gh=t._emscripten_bind_PointAttribute___destroy___0=qr._emscripten_bind_PointAttribute___destroy___0,eo=t._emscripten_bind_PointAttribute_attribute_type_0=qr._emscripten_bind_PointAttribute_attribute_type_0,jA=t._emscripten_bind_PointAttribute_byte_offset_0=qr._emscripten_bind_PointAttribute_byte_offset_0,Lb=t._emscripten_bind_PointAttribute_byte_stride_0=qr._emscripten_bind_PointAttribute_byte_stride_0,zh=t._emscripten_bind_PointAttribute_data_type_0=qr._emscripten_bind_PointAttribute_data_type_0,GA=t._emscripten_bind_PointAttribute_normalized_0=qr._emscripten_bind_PointAttribute_normalized_0,Pb=t._emscripten_bind_PointAttribute_num_components_0=qr._emscripten_bind_PointAttribute_num_components_0,zA=t._emscripten_bind_PointAttribute_size_0=qr._emscripten_bind_PointAttribute_size_0,H1=t._emscripten_bind_PointAttribute_unique_id_0=qr._emscripten_bind_PointAttribute_unique_id_0,Nb=t._emscripten_bind_PointCloudBuilder_AddFloatAttribute_5=qr._emscripten_bind_PointCloudBuilder_AddFloatAttribute_5,WA=t._emscripten_bind_PointCloudBuilder_AddInt16Attribute_5=qr._emscripten_bind_PointCloudBuilder_AddInt16Attribute_5,QA=t._emscripten_bind_PointCloudBuilder_AddInt32Attribute_5=qr._emscripten_bind_PointCloudBuilder_AddInt32Attribute_5,Fb=t._emscripten_bind_PointCloudBuilder_AddInt8Attribute_5=qr._emscripten_bind_PointCloudBuilder_AddInt8Attribute_5,Ob=t._emscripten_bind_PointCloudBuilder_AddMetadata_2=qr._emscripten_bind_PointCloudBuilder_AddMetadata_2,JA=t._emscripten_bind_PointCloudBuilder_AddUInt16Attribute_5=qr._emscripten_bind_PointCloudBuilder_AddUInt16Attribute_5,Wh=t._emscripten_bind_PointCloudBuilder_AddUInt32Attribute_5=qr._emscripten_bind_PointCloudBuilder_AddUInt32Attribute_5,tf=t._emscripten_bind_PointCloudBuilder_AddUInt8Attribute_5=qr._emscripten_bind_PointCloudBuilder_AddUInt8Attribute_5,w2=t._emscripten_bind_PointCloudBuilder_PointCloudBuilder_0=qr._emscripten_bind_PointCloudBuilder_PointCloudBuilder_0,U1=t._emscripten_bind_PointCloudBuilder_SetMetadataForAttribute_3=qr._emscripten_bind_PointCloudBuilder_SetMetadataForAttribute_3,Hb=t._emscripten_bind_PointCloudBuilder___destroy___0=qr._emscripten_bind_PointCloudBuilder___destroy___0,Bl=t._emscripten_bind_PointCloud_PointCloud_0=qr._emscripten_bind_PointCloud_PointCloud_0,Bu=t._emscripten_bind_PointCloud___destroy___0=qr._emscripten_bind_PointCloud___destroy___0,V1=t._emscripten_bind_PointCloud_num_attributes_0=qr._emscripten_bind_PointCloud_num_attributes_0,XA=t._emscripten_bind_PointCloud_num_points_0=qr._emscripten_bind_PointCloud_num_points_0,Ub=t._emscripten_bind_VoidPtr___destroy___0=qr._emscripten_bind_VoidPtr___destroy___0,qA=t._emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE=qr._emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE,Vb=t._emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD=qr._emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD,j1=t._emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH=qr._emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH,Ac=t._emscripten_enum_draco_GeometryAttribute_Type_COLOR=qr._emscripten_enum_draco_GeometryAttribute_Type_COLOR,Il=t._emscripten_enum_draco_GeometryAttribute_Type_GENERIC=qr._emscripten_enum_draco_GeometryAttribute_Type_GENERIC,jb=t._emscripten_enum_draco_GeometryAttribute_Type_INVALID=qr._emscripten_enum_draco_GeometryAttribute_Type_INVALID,Gb=t._emscripten_enum_draco_GeometryAttribute_Type_NORMAL=qr._emscripten_enum_draco_GeometryAttribute_Type_NORMAL,ZA=t._emscripten_enum_draco_GeometryAttribute_Type_POSITION=qr._emscripten_enum_draco_GeometryAttribute_Type_POSITION,YA=t._emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD=qr._emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD,KA=t._emscripten_enum_draco_MeshEncoderMethod_MESH_EDGEBREAKER_ENCODING=qr._emscripten_enum_draco_MeshEncoderMethod_MESH_EDGEBREAKER_ENCODING,zb=t._emscripten_enum_draco_MeshEncoderMethod_MESH_SEQUENTIAL_ENCODING=qr._emscripten_enum_draco_MeshEncoderMethod_MESH_SEQUENTIAL_ENCODING,Wb=t._emscripten_replace_memory=qr._emscripten_replace_memory;t._free=qr._free,t._i64Add=qr._i64Add,t._i64Subtract=qr._i64Subtract,t._llvm_bswap_i32=qr._llvm_bswap_i32;var jf=t._malloc=qr._malloc;t._memcpy=qr._memcpy,t._memmove=qr._memmove,t._memset=qr._memset,t._sbrk=qr._sbrk,t.establishStackSpace=qr.establishStackSpace,t.getTempRet0=qr.getTempRet0,t.runPostSets=qr.runPostSets;var Qh=t.setTempRet0=qr.setTempRet0;t.setThrew=qr.setThrew;var Qb=t.stackAlloc=qr.stackAlloc;if(t.stackRestore=qr.stackRestore,t.stackSave=qr.stackSave,t.dynCall_ii=qr.dynCall_ii,t.dynCall_iii=qr.dynCall_iii,t.dynCall_iiii=qr.dynCall_iiii,t.dynCall_iiiiiii=qr.dynCall_iiiiiii,t.dynCall_v=qr.dynCall_v,t.dynCall_vi=qr.dynCall_vi,t.dynCall_vii=qr.dynCall_vii,t.dynCall_viii=qr.dynCall_viii,t.dynCall_viiii=qr.dynCall_viiii,t.dynCall_viiiii=qr.dynCall_viiiii,t.dynCall_viiiiii=qr.dynCall_viiiiii,t.asm=qr,dt)if($t(dt)||(typeof t.locateFile=="function"?dt=t.locateFile(dt):t.memoryInitializerPrefixURL&&(dt=t.memoryInitializerPrefixURL+dt)),_||k){var G1=t.readBinary(dt);Ue.set(G1,K)}else{let Oe=function(){t.readAsync(dt,xc,function(){throw"could not load memory initializer "+dt})};Fe();var xc=function(Ye){Ye.byteLength&&(Ye=new Uint8Array(Ye)),Ue.set(Ye,K),t.memoryInitializerRequest&&delete t.memoryInitializerRequest.response,Ke()},z1=Ci(dt);if(z1)xc(z1.buffer);else if(t.memoryInitializerRequest){let Ye=function(){var vt=t.memoryInitializerRequest,qt=vt.response;if(vt.status!==200&&vt.status!==0){var Y=Ci(t.memoryInitializerRequestURL);if(Y)qt=Y.buffer;else{console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+vt.status+", retrying "+dt),Oe();return}}xc(qt)};t.memoryInitializerRequest.response?setTimeout(Ye,0):t.memoryInitializerRequest.addEventListener("load",Ye)}else Oe()}t.then=function(Oe){if(t.calledRun)Oe(t);else{var Ye=t.onRuntimeInitialized;t.onRuntimeInitialized=function(){Ye&&Ye(),Oe(t)}}return t};function Gf(Oe){this.name="ExitStatus",this.message="Program terminated with exit("+Oe+")",this.status=Oe}Gf.prototype=new Error,Gf.prototype.constructor=Gf;var Ka;mi=function Oe(){t.calledRun||A2(),t.calledRun||(mi=Oe)};function A2(Oe){if(Oe=Oe||t.arguments,ki>0||(Te(),ki>0)||t.calledRun)return;function Ye(){t.calledRun||(t.calledRun=!0,!fe&&(gt(),zt(),t.onRuntimeInitialized&&t.onRuntimeInitialized(),bt()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),Ye()},1)):Ye()}t.run=A2;function W1(Oe,Ye){Ye&&t.noExitRuntime&&Oe===0||(t.noExitRuntime||(fe=!0,Gt=Ka,Bt(),t.onExit&&t.onExit(Oe)),_&&process.exit(Oe),t.quit(Oe,new Gf(Oe)))}t.exit=W1;function $a(Oe){throw t.onAbort&&t.onAbort(Oe),Oe!==void 0?(t.print(Oe),t.printErr(Oe),Oe=JSON.stringify(Oe)):Oe="",fe=!0,"abort("+Oe+"). Build with -s ASSERTIONS=1 for more info."}if(t.abort=$a,t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();t.noExitRuntime=!0,A2();function ms(){}ms.prototype=Object.create(ms.prototype),ms.prototype.constructor=ms,ms.prototype.__class__=ms,ms.__cache__={},t.WrapperObject=ms;function Zo(Oe){return(Oe||ms).__cache__}t.getCache=Zo;function Jh(Oe,Ye){var vt=Zo(Ye),qt=vt[Oe];return qt||(qt=Object.create((Ye||ms).prototype),qt.ptr=Oe,vt[Oe]=qt)}t.wrapPointer=Jh;function $A(Oe,Ye){return Jh(Oe.ptr,Ye)}t.castObject=$A,t.NULL=Jh(0);function e6(Oe){if(!Oe.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";Oe.__destroy__(),delete Zo(Oe.__class__)[Oe.ptr]}t.destroy=e6;function t6(Oe,Ye){return Oe.ptr===Ye.ptr}t.compare=t6;function Iu(Oe){return Oe.ptr}t.getPointer=Iu;function Ec(Oe){return Oe.__class__}t.getClass=Ec;var en={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(en.needed){for(var Oe=0;Oe<en.temps.length;Oe++)t._free(en.temps[Oe]);en.temps.length=0,t._free(en.buffer),en.buffer=0,en.size+=en.needed,en.needed=0}en.buffer||(en.size+=128,en.buffer=t._malloc(en.size),oe(en.buffer)),en.pos=0},alloc:function(Oe,Ye){oe(en.buffer);var vt=Ye.BYTES_PER_ELEMENT,qt=Oe.length*vt;qt=qt+7&-8;var Y;return en.pos+qt>=en.size?(oe(qt>0),en.needed+=qt,Y=t._malloc(qt),en.temps.push(Y)):(Y=en.buffer+en.pos,en.pos+=qt),Y},copy:function(Oe,Ye,vt){var qt=vt,Y=Ye.BYTES_PER_ELEMENT;switch(Y){case 2:qt>>=1;break;case 4:qt>>=2;break;case 8:qt>>=3;break}for(var hi=0;hi<Oe.length;hi++)Ye[qt+hi]=Oe[hi]}};function _c(Oe){if(typeof Oe=="string"){var Ye=Jr(Oe),vt=en.alloc(Ye,Qe);return en.copy(Ye,Qe,vt),vt}return Oe}function kc(Oe){if(typeof Oe=="object"){var Ye=en.alloc(Oe,Qe);return en.copy(Oe,Qe,Ye),Ye}return Oe}function Xh(Oe){if(typeof Oe=="object"){var Ye=en.alloc(Oe,ce);return en.copy(Oe,ce,Ye),Ye}return Oe}function zf(Oe){if(typeof Oe=="object"){var Ye=en.alloc(Oe,Me);return en.copy(Oe,Me,Ye),Ye}return Oe}function el(Oe){if(typeof Oe=="object"){var Ye=en.alloc(Oe,ot);return en.copy(Oe,ot,Ye),Ye}return Oe}function Gs(){this.ptr=Bl(),Zo(Gs)[this.ptr]=this}Gs.prototype=Object.create(ms.prototype),Gs.prototype.constructor=Gs,Gs.prototype.__class__=Gs,Gs.__cache__={},t.PointCloud=Gs,Gs.prototype.num_attributes=Gs.prototype.num_attributes=function(){var Oe=this.ptr;return V1(Oe)},Gs.prototype.num_points=Gs.prototype.num_points=function(){var Oe=this.ptr;return XA(Oe)},Gs.prototype.__destroy__=Gs.prototype.__destroy__=function(){var Oe=this.ptr;Bu(Oe)};function zn(Oe){Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),this.ptr=CA(Oe),Zo(zn)[this.ptr]=this}zn.prototype=Object.create(ms.prototype),zn.prototype.constructor=zn,zn.prototype.__class__=zn,zn.__cache__={},t.ExpertEncoder=zn,zn.prototype.SetEncodingMethod=zn.prototype.SetEncodingMethod=function(Oe){var Ye=this.ptr;Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),P1(Ye,Oe)},zn.prototype.SetAttributeQuantization=zn.prototype.SetAttributeQuantization=function(Oe,Ye){var vt=this.ptr;Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),g2(vt,Oe,Ye)},zn.prototype.SetAttributeExplicitQuantization=zn.prototype.SetAttributeExplicitQuantization=function(Oe,Ye,vt,qt,Y){var hi=this.ptr;en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),typeof qt=="object"&&(qt=el(qt)),Y&&typeof Y=="object"&&(Y=Y.ptr),m2(hi,Oe,Ye,vt,qt,Y)},zn.prototype.SetSpeedOptions=zn.prototype.SetSpeedOptions=function(Oe,Ye){var vt=this.ptr;Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),Cb(vt,Oe,Ye)},zn.prototype.SetTrackEncodedProperties=zn.prototype.SetTrackEncodedProperties=function(Oe){var Ye=this.ptr;Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Sb(Ye,Oe)},zn.prototype.EncodeToDracoBuffer=zn.prototype.EncodeToDracoBuffer=function(Oe,Ye){var vt=this.ptr;return Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),Eb(vt,Oe,Ye)},zn.prototype.GetNumberOfEncodedPoints=zn.prototype.GetNumberOfEncodedPoints=function(){var Oe=this.ptr;return kb(Oe)},zn.prototype.GetNumberOfEncodedFaces=zn.prototype.GetNumberOfEncodedFaces=function(){var Oe=this.ptr;return _b(Oe)},zn.prototype.__destroy__=zn.prototype.__destroy__=function(){var Oe=this.ptr;b2(Oe)};function v0(){this.ptr=VA(),Zo(v0)[this.ptr]=this}v0.prototype=Object.create(ms.prototype),v0.prototype.constructor=v0,v0.prototype.__class__=v0,v0.__cache__={},t.PointAttribute=v0,v0.prototype.size=v0.prototype.size=function(){var Oe=this.ptr;return zA(Oe)},v0.prototype.attribute_type=v0.prototype.attribute_type=function(){var Oe=this.ptr;return eo(Oe)},v0.prototype.data_type=v0.prototype.data_type=function(){var Oe=this.ptr;return zh(Oe)},v0.prototype.num_components=v0.prototype.num_components=function(){var Oe=this.ptr;return Pb(Oe)},v0.prototype.normalized=v0.prototype.normalized=function(){var Oe=this.ptr;return!!GA(Oe)},v0.prototype.byte_stride=v0.prototype.byte_stride=function(){var Oe=this.ptr;return Lb(Oe)},v0.prototype.byte_offset=v0.prototype.byte_offset=function(){var Oe=this.ptr;return jA(Oe)},v0.prototype.unique_id=v0.prototype.unique_id=function(){var Oe=this.ptr;return H1(Oe)},v0.prototype.__destroy__=v0.prototype.__destroy__=function(){var Oe=this.ptr;Gh(Oe)};function f0(){this.ptr=wA(),Zo(f0)[this.ptr]=this}f0.prototype=Object.create(ms.prototype),f0.prototype.constructor=f0,f0.prototype.__class__=f0,f0.__cache__={},t.Encoder=f0,f0.prototype.SetEncodingMethod=f0.prototype.SetEncodingMethod=function(Oe){var Ye=this.ptr;Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),EA(Ye,Oe)},f0.prototype.SetAttributeQuantization=f0.prototype.SetAttributeQuantization=function(Oe,Ye){var vt=this.ptr;Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),xA(vt,Oe,Ye)},f0.prototype.SetAttributeExplicitQuantization=f0.prototype.SetAttributeExplicitQuantization=function(Oe,Ye,vt,qt,Y){var hi=this.ptr;en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),typeof qt=="object"&&(qt=el(qt)),Y&&typeof Y=="object"&&(Y=Y.ptr),jh(hi,Oe,Ye,vt,qt,Y)},f0.prototype.SetSpeedOptions=f0.prototype.SetSpeedOptions=function(Oe,Ye){var vt=this.ptr;Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),_A(vt,Oe,Ye)},f0.prototype.SetTrackEncodedProperties=f0.prototype.SetTrackEncodedProperties=function(Oe){var Ye=this.ptr;Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),kA(Ye,Oe)},f0.prototype.EncodeMeshToDracoBuffer=f0.prototype.EncodeMeshToDracoBuffer=function(Oe,Ye){var vt=this.ptr;return Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),xb(vt,Oe,Ye)},f0.prototype.EncodePointCloudToDracoBuffer=f0.prototype.EncodePointCloudToDracoBuffer=function(Oe,Ye,vt){var qt=this.ptr;return Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),$l(qt,Oe,Ye,vt)},f0.prototype.GetNumberOfEncodedPoints=f0.prototype.GetNumberOfEncodedPoints=function(){var Oe=this.ptr;return p2(Oe)},f0.prototype.GetNumberOfEncodedFaces=f0.prototype.GetNumberOfEncodedFaces=function(){var Oe=this.ptr;return AA(Oe)},f0.prototype.__destroy__=f0.prototype.__destroy__=function(){var Oe=this.ptr;L1(Oe)};function Xn(){this.ptr=DA(),Zo(Xn)[this.ptr]=this}Xn.prototype=Object.create(ms.prototype),Xn.prototype.constructor=Xn,Xn.prototype.__class__=Xn,Xn.__cache__={},t.MeshBuilder=Xn,Xn.prototype.AddFacesToMesh=Xn.prototype.AddFacesToMesh=function(Oe,Ye,vt){var qt=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),typeof vt=="object"&&(vt=zf(vt)),!!Ya(qt,Oe,Ye,vt)},Xn.prototype.AddFloatAttributeToMesh=Xn.prototype.AddFloatAttributeToMesh=function(Oe,Ye,vt,qt,Y){var hi=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),qt&&typeof qt=="object"&&(qt=qt.ptr),typeof Y=="object"&&(Y=el(Y)),TA(hi,Oe,Ye,vt,qt,Y)},Xn.prototype.AddInt32AttributeToMesh=Xn.prototype.AddInt32AttributeToMesh=function(Oe,Ye,vt,qt,Y){var hi=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),qt&&typeof qt=="object"&&(qt=qt.ptr),typeof Y=="object"&&(Y=zf(Y)),Mb(hi,Oe,Ye,vt,qt,Y)},Xn.prototype.AddMetadataToMesh=Xn.prototype.AddMetadataToMesh=function(Oe,Ye){var vt=this.ptr;return Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),!!ef(vt,Oe,Ye)},Xn.prototype.AddFloatAttribute=Xn.prototype.AddFloatAttribute=function(Oe,Ye,vt,qt,Y){var hi=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),qt&&typeof qt=="object"&&(qt=qt.ptr),typeof Y=="object"&&(Y=el(Y)),MA(hi,Oe,Ye,vt,qt,Y)},Xn.prototype.AddInt8Attribute=Xn.prototype.AddInt8Attribute=function(Oe,Ye,vt,qt,Y){var hi=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),qt&&typeof qt=="object"&&(qt=qt.ptr),typeof Y=="object"&&(Y=kc(Y)),F1(hi,Oe,Ye,vt,qt,Y)},Xn.prototype.AddUInt8Attribute=Xn.prototype.AddUInt8Attribute=function(Oe,Ye,vt,qt,Y){var hi=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),qt&&typeof qt=="object"&&(qt=qt.ptr),typeof Y=="object"&&(Y=kc(Y)),RA(hi,Oe,Ye,vt,qt,Y)},Xn.prototype.AddInt16Attribute=Xn.prototype.AddInt16Attribute=function(Oe,Ye,vt,qt,Y){var hi=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),qt&&typeof qt=="object"&&(qt=qt.ptr),typeof Y=="object"&&(Y=Xh(Y)),N1(hi,Oe,Ye,vt,qt,Y)},Xn.prototype.AddUInt16Attribute=Xn.prototype.AddUInt16Attribute=function(Oe,Ye,vt,qt,Y){var hi=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),qt&&typeof qt=="object"&&(qt=qt.ptr),typeof Y=="object"&&(Y=Xh(Y)),O1(hi,Oe,Ye,vt,qt,Y)},Xn.prototype.AddInt32Attribute=Xn.prototype.AddInt32Attribute=function(Oe,Ye,vt,qt,Y){var hi=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),qt&&typeof qt=="object"&&(qt=qt.ptr),typeof Y=="object"&&(Y=zf(Y)),Vf(hi,Oe,Ye,vt,qt,Y)},Xn.prototype.AddUInt32Attribute=Xn.prototype.AddUInt32Attribute=function(Oe,Ye,vt,qt,Y){var hi=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),qt&&typeof qt=="object"&&(qt=qt.ptr),typeof Y=="object"&&(Y=zf(Y)),vc(hi,Oe,Ye,vt,qt,Y)},Xn.prototype.AddMetadata=Xn.prototype.AddMetadata=function(Oe,Ye){var vt=this.ptr;return Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),!!y2(vt,Oe,Ye)},Xn.prototype.SetMetadataForAttribute=Xn.prototype.SetMetadataForAttribute=function(Oe,Ye,vt){var qt=this.ptr;return Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),!!BA(qt,Oe,Ye,vt)},Xn.prototype.__destroy__=Xn.prototype.__destroy__=function(){var Oe=this.ptr;IA(Oe)};function aa(){this.ptr=wb(),Zo(aa)[this.ptr]=this}aa.prototype=Object.create(ms.prototype),aa.prototype.constructor=aa,aa.prototype.__class__=aa,aa.__cache__={},t.DracoInt8Array=aa,aa.prototype.GetValue=aa.prototype.GetValue=function(Oe){var Ye=this.ptr;return Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ab(Ye,Oe)},aa.prototype.size=aa.prototype.size=function(){var Oe=this.ptr;return vA(Oe)},aa.prototype.__destroy__=aa.prototype.__destroy__=function(){var Oe=this.ptr;yA(Oe)};function To(){this.ptr=v2(),Zo(To)[this.ptr]=this}To.prototype=Object.create(ms.prototype),To.prototype.constructor=To,To.prototype.__class__=To,To.__cache__={},t.MetadataBuilder=To,To.prototype.AddStringEntry=To.prototype.AddStringEntry=function(Oe,Ye,vt){var qt=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"?Ye=Ye.ptr:Ye=_c(Ye),vt&&typeof vt=="object"?vt=vt.ptr:vt=_c(vt),!!Ib(qt,Oe,Ye,vt)},To.prototype.AddIntEntry=To.prototype.AddIntEntry=function(Oe,Ye,vt){var qt=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"?Ye=Ye.ptr:Ye=_c(Ye),vt&&typeof vt=="object"&&(vt=vt.ptr),!!OA(qt,Oe,Ye,vt)},To.prototype.AddDoubleEntry=To.prototype.AddDoubleEntry=function(Oe,Ye,vt){var qt=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"?Ye=Ye.ptr:Ye=_c(Ye),vt&&typeof vt=="object"&&(vt=vt.ptr),!!Bb(qt,Oe,Ye,vt)},To.prototype.__destroy__=To.prototype.__destroy__=function(){var Oe=this.ptr;wc(Oe)};function la(){this.ptr=SA(),Zo(la)[this.ptr]=this}la.prototype=Object.create(ms.prototype),la.prototype.constructor=la,la.prototype.__class__=la,la.__cache__={},t.GeometryAttribute=la,la.prototype.__destroy__=la.prototype.__destroy__=function(){var Oe=this.ptr;Tb(Oe)};function to(){this.ptr=Rb(),Zo(to)[this.ptr]=this}to.prototype=Object.create(ms.prototype),to.prototype.constructor=to,to.prototype.__class__=to,to.__cache__={},t.Mesh=to,to.prototype.num_faces=to.prototype.num_faces=function(){var Oe=this.ptr;return PA(Oe)},to.prototype.num_attributes=to.prototype.num_attributes=function(){var Oe=this.ptr;return LA(Oe)},to.prototype.num_points=to.prototype.num_points=function(){var Oe=this.ptr;return NA(Oe)},to.prototype.set_num_points=to.prototype.set_num_points=function(Oe){var Ye=this.ptr;Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),FA(Ye,Oe)},to.prototype.__destroy__=to.prototype.__destroy__=function(){var Oe=this.ptr;Db(Oe)};function P0(){this.ptr=w2(),Zo(P0)[this.ptr]=this}P0.prototype=Object.create(ms.prototype),P0.prototype.constructor=P0,P0.prototype.__class__=P0,P0.__cache__={},t.PointCloudBuilder=P0,P0.prototype.AddFloatAttribute=P0.prototype.AddFloatAttribute=function(Oe,Ye,vt,qt,Y){var hi=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),qt&&typeof qt=="object"&&(qt=qt.ptr),typeof Y=="object"&&(Y=el(Y)),Nb(hi,Oe,Ye,vt,qt,Y)},P0.prototype.AddInt8Attribute=P0.prototype.AddInt8Attribute=function(Oe,Ye,vt,qt,Y){var hi=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),qt&&typeof qt=="object"&&(qt=qt.ptr),typeof Y=="object"&&(Y=kc(Y)),Fb(hi,Oe,Ye,vt,qt,Y)},P0.prototype.AddUInt8Attribute=P0.prototype.AddUInt8Attribute=function(Oe,Ye,vt,qt,Y){var hi=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),qt&&typeof qt=="object"&&(qt=qt.ptr),typeof Y=="object"&&(Y=kc(Y)),tf(hi,Oe,Ye,vt,qt,Y)},P0.prototype.AddInt16Attribute=P0.prototype.AddInt16Attribute=function(Oe,Ye,vt,qt,Y){var hi=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),qt&&typeof qt=="object"&&(qt=qt.ptr),typeof Y=="object"&&(Y=Xh(Y)),WA(hi,Oe,Ye,vt,qt,Y)},P0.prototype.AddUInt16Attribute=P0.prototype.AddUInt16Attribute=function(Oe,Ye,vt,qt,Y){var hi=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),qt&&typeof qt=="object"&&(qt=qt.ptr),typeof Y=="object"&&(Y=Xh(Y)),JA(hi,Oe,Ye,vt,qt,Y)},P0.prototype.AddInt32Attribute=P0.prototype.AddInt32Attribute=function(Oe,Ye,vt,qt,Y){var hi=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),qt&&typeof qt=="object"&&(qt=qt.ptr),typeof Y=="object"&&(Y=zf(Y)),QA(hi,Oe,Ye,vt,qt,Y)},P0.prototype.AddUInt32Attribute=P0.prototype.AddUInt32Attribute=function(Oe,Ye,vt,qt,Y){var hi=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),qt&&typeof qt=="object"&&(qt=qt.ptr),typeof Y=="object"&&(Y=zf(Y)),Wh(hi,Oe,Ye,vt,qt,Y)},P0.prototype.AddMetadata=P0.prototype.AddMetadata=function(Oe,Ye){var vt=this.ptr;return Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),!!Ob(vt,Oe,Ye)},P0.prototype.SetMetadataForAttribute=P0.prototype.SetMetadataForAttribute=function(Oe,Ye,vt){var qt=this.ptr;return Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Ye&&typeof Ye=="object"&&(Ye=Ye.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),!!U1(qt,Oe,Ye,vt)},P0.prototype.__destroy__=P0.prototype.__destroy__=function(){var Oe=this.ptr;Hb(Oe)};function Fa(){throw"cannot construct a VoidPtr, no constructor in IDL"}Fa.prototype=Object.create(ms.prototype),Fa.prototype.constructor=Fa,Fa.prototype.__class__=Fa,Fa.__cache__={},t.VoidPtr=Fa,Fa.prototype.__destroy__=Fa.prototype.__destroy__=function(){var Oe=this.ptr;Ub(Oe)};function Ll(){this.ptr=HA(),Zo(Ll)[this.ptr]=this}return Ll.prototype=Object.create(ms.prototype),Ll.prototype.constructor=Ll,Ll.prototype.__class__=Ll,Ll.__cache__={},t.Metadata=Ll,Ll.prototype.__destroy__=Ll.prototype.__destroy__=function(){var Oe=this.ptr;UA(Oe)},function(){function Oe(){t.MESH_SEQUENTIAL_ENCODING=zb(),t.MESH_EDGEBREAKER_ENCODING=KA(),t.INVALID_GEOMETRY_TYPE=qA(),t.POINT_CLOUD=Vb(),t.TRIANGULAR_MESH=j1(),t.INVALID=jb(),t.POSITION=ZA(),t.NORMAL=Gb(),t.COLOR=Ac(),t.TEX_COORD=YA(),t.GENERIC=Il()}t.calledRun?Oe():Ct(Oe)}(),typeof t.onModuleParsed=="function"&&t.onModuleParsed(),a};typeof exports=="object"&&typeof module=="object"?module.exports=ix:typeof define=="function"&&define.amd?define([],function(){return ix}):typeof exports=="object"&&(exports.DracoEncoderModule=ix);(function(a,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):(a=a||self,a.CodeMirror=t())})(globalThis,function(){var a=navigator.userAgent,t=navigator.platform,r=/gecko\/\d/i.test(a),n=/MSIE \d/.test(a),c=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(a),p=/Edge\/(\d+)/.exec(a),y=n||c||p,v=y&&(n?document.documentMode||6:+(p||c)[1]),E=!p&&/WebKit\//.test(a),_=E&&/Qt\/\d+\.\d+/.test(a),k=!p&&/Chrome\//.test(a),R=/Opera\//.test(a),B=/Apple Computer/.test(navigator.vendor),M=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(a),F=/PhantomJS/.test(a),H=B&&(/Mobile\/\w+/.test(a)||navigator.maxTouchPoints>2),U=/Android/.test(a),Z=H||U||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(a),K=H||/Mac/.test(t),fe=/\bCrOS\b/.test(a),oe=/win/i.test(t),we=R&&a.match(/Version\/(\d*\.\d*)/);we&&(we=Number(we[1])),we&&we>=15&&(R=!1,E=!0);var be=K&&(_||R&&(we==null||we<12.11)),ve=r||y&&v>=9;function ne(A){return new RegExp("(^|\\s)"+A+"(?:$|\\s)\\s*")}var ae=function(A,T){var W=A.className,z=ne(T).exec(W);if(z){var te=W.slice(z.index+z[0].length);A.className=W.slice(0,z.index)+(te?z[1]+te:"")}};function ye(A){for(var T=A.childNodes.length;T>0;--T)A.removeChild(A.firstChild);return A}function de(A,T){return ye(A).appendChild(T)}function xe(A,T,W,z){var te=document.createElement(A);if(W&&(te.className=W),z&&(te.style.cssText=z),typeof T=="string")te.appendChild(document.createTextNode(T));else if(T)for(var pe=0;pe<T.length;++pe)te.appendChild(T[pe]);return te}function le(A,T,W,z){var te=xe(A,T,W,z);return te.setAttribute("role","presentation"),te}var re;document.createRange?re=function(A,T,W,z){var te=document.createRange();return te.setEnd(z||A,W),te.setStart(A,T),te}:re=function(A,T,W){var z=document.body.createTextRange();try{z.moveToElementText(A.parentNode)}catch{return z}return z.collapse(!0),z.moveEnd("character",W),z.moveStart("character",T),z};function he(A,T){if(T.nodeType==3&&(T=T.parentNode),A.contains)return A.contains(T);do if(T.nodeType==11&&(T=T.host),T==A)return!0;while(T=T.parentNode)}function me(){var A;try{A=document.activeElement}catch{A=document.body||null}for(;A&&A.shadowRoot&&A.shadowRoot.activeElement;)A=A.shadowRoot.activeElement;return A}function Re(A,T){var W=A.className;ne(T).test(W)||(A.className+=(W?" ":"")+T)}function Ie(A,T){for(var W=A.split(" "),z=0;z<W.length;z++)W[z]&&!ne(W[z]).test(T)&&(T+=" "+W[z]);return T}var Ne=function(A){A.select()};H?Ne=function(A){A.selectionStart=0,A.selectionEnd=A.value.length}:y&&(Ne=function(A){try{A.select()}catch{}});function Qe(A){var T=Array.prototype.slice.call(arguments,1);return function(){return A.apply(null,T)}}function Ue(A,T,W){T||(T={});for(var z in A)A.hasOwnProperty(z)&&(W!==!1||!T.hasOwnProperty(z))&&(T[z]=A[z]);return T}function ce(A,T,W,z,te){T==null&&(T=A.search(/[^\s\u00a0]/),T==-1&&(T=A.length));for(var pe=z||0,Le=te||0;;){var je=A.indexOf("	",pe);if(je<0||je>=T)return Le+(T-pe);Le+=je-pe,Le+=W-Le%W,pe=je+1}}var Me=function(){this.id=null,this.f=null,this.time=0,this.handler=Qe(this.onTimeout,this)};Me.prototype.onTimeout=function(A){A.id=0,A.time<=+new Date?A.f():setTimeout(A.handler,A.time-+new Date)},Me.prototype.set=function(A,T){this.f=T;var W=+new Date+A;(!this.id||W<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,A),this.time=W)};function ot(A,T){for(var W=0;W<A.length;++W)if(A[W]==T)return W;return-1}var Se=50,Xe={toString:function(){return"CodeMirror.Pass"}},ct={scroll:!1},$e={origin:"*mouse"},Et={origin:"+move"};function Dt(A,T,W){for(var z=0,te=0;;){var pe=A.indexOf("	",z);pe==-1&&(pe=A.length);var Le=pe-z;if(pe==A.length||te+Le>=T)return z+Math.min(Le,T-te);if(te+=pe-z,te+=W-te%W,z=pe+1,te>=T)return z}}var er=[""];function Gt(A){for(;er.length<=A;)er.push(Ht(er)+" ");return er[A]}function Ht(A){return A[A.length-1]}function Kt(A,T){for(var W=[],z=0;z<A.length;z++)W[z]=T(A[z],z);return W}function yr(A,T,W){for(var z=0,te=W(T);z<A.length&&W(A[z])<=te;)z++;A.splice(z,0,T)}function Ur(){}function Yr(A,T){var W;return Object.create?W=Object.create(A):(Ur.prototype=A,W=new Ur),T&&Ue(T,W),W}var oi=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function xt(A){return/\w/.test(A)||A>"\x80"&&(A.toUpperCase()!=A.toLowerCase()||oi.test(A))}function kt(A,T){return T?T.source.indexOf("\\w")>-1&&xt(A)?!0:T.test(A):xt(A)}function rr(A){for(var T in A)if(A.hasOwnProperty(T)&&A[T])return!1;return!0}var mt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ft(A){return A.charCodeAt(0)>=768&&mt.test(A)}function Ut(A,T,W){for(;(W<0?T>0:T<A.length)&&ft(A.charAt(T));)T+=W;return T}function ir(A,T,W){for(var z=T>W?-1:1;;){if(T==W)return T;var te=(T+W)/2,pe=z<0?Math.ceil(te):Math.floor(te);if(pe==T)return A(pe)?T:W;A(pe)?W=pe:T=pe+z}}function vr(A,T,W,z){if(!A)return z(T,W,"ltr",0);for(var te=!1,pe=0;pe<A.length;++pe){var Le=A[pe];(Le.from<W&&Le.to>T||T==W&&Le.to==T)&&(z(Math.max(Le.from,T),Math.min(Le.to,W),Le.level==1?"rtl":"ltr",pe),te=!0)}te||z(T,W,"ltr")}var nt=null;function De(A,T,W){var z;nt=null;for(var te=0;te<A.length;++te){var pe=A[te];if(pe.from<T&&pe.to>T)return te;pe.to==T&&(pe.from!=pe.to&&W=="before"?z=te:nt=te),pe.from==T&&(pe.from!=pe.to&&W!="before"?z=te:nt=te)}return z!=null?z:nt}var Te=function(){var A="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",T="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function W(ht){return ht<=247?A.charAt(ht):1424<=ht&&ht<=1524?"R":1536<=ht&&ht<=1785?T.charAt(ht-1536):1774<=ht&&ht<=2220?"r":8192<=ht&&ht<=8203?"w":ht==8204?"b":"L"}var z=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,te=/[stwN]/,pe=/[LRr]/,Le=/[Lb1n]/,je=/[1n]/;function rt(ht,Ft,Yt){this.level=ht,this.from=Ft,this.to=Yt}return function(ht,Ft){var Yt=Ft=="ltr"?"L":"R";if(ht.length==0||Ft=="ltr"&&!z.test(ht))return!1;for(var wr=ht.length,hr=[],zr=0;zr<wr;++zr)hr.push(W(ht.charCodeAt(zr)));for(var Zr=0,ci=Yt;Zr<wr;++Zr){var xi=hr[Zr];xi=="m"?hr[Zr]=ci:ci=xi}for(var Ri=0,Ai=Yt;Ri<wr;++Ri){var Hi=hr[Ri];Hi=="1"&&Ai=="r"?hr[Ri]="n":pe.test(Hi)&&(Ai=Hi,Hi=="r"&&(hr[Ri]="R"))}for(var an=1,Zi=hr[0];an<wr-1;++an){var Nn=hr[an];Nn=="+"&&Zi=="1"&&hr[an+1]=="1"?hr[an]="1":Nn==","&&Zi==hr[an+1]&&(Zi=="1"||Zi=="n")&&(hr[an]=Zi),Zi=Nn}for(var z0=0;z0<wr;++z0){var Qs=hr[z0];if(Qs==",")hr[z0]="N";else if(Qs=="%"){var cs=void 0;for(cs=z0+1;cs<wr&&hr[cs]=="%";++cs);for(var ts=z0&&hr[z0-1]=="!"||cs<wr&&hr[cs]=="1"?"1":"N",Ko=z0;Ko<cs;++Ko)hr[Ko]=ts;z0=cs-1}}for(var Ss=0,No=Yt;Ss<wr;++Ss){var rs=hr[Ss];No=="L"&&rs=="1"?hr[Ss]="L":pe.test(rs)&&(No=rs)}for(var Ls=0;Ls<wr;++Ls)if(te.test(hr[Ls])){var Ps=void 0;for(Ps=Ls+1;Ps<wr&&te.test(hr[Ps]);++Ps);for(var ys=(Ls?hr[Ls-1]:Yt)=="L",Fo=(Ps<wr?hr[Ps]:Yt)=="L",Uc=ys==Fo?ys?"L":"R":Yt,xa=Ls;xa<Ps;++xa)hr[xa]=Uc;Ls=Ps-1}for(var Mo=[],Ea,Y0=0;Y0<wr;)if(Le.test(hr[Y0])){var U2=Y0;for(++Y0;Y0<wr&&Le.test(hr[Y0]);++Y0);Mo.push(new rt(0,U2,Y0))}else{var lf=Y0,Tn=Mo.length,Yf=Ft=="rtl"?1:0;for(++Y0;Y0<wr&&hr[Y0]!="L";++Y0);for(var Oo=lf;Oo<Y0;)if(je.test(hr[Oo])){lf<Oo&&(Mo.splice(Tn,0,new rt(1,lf,Oo)),Tn+=Yf);var V0=Oo;for(++Oo;Oo<Y0&&je.test(hr[Oo]);++Oo);Mo.splice(Tn,0,new rt(2,V0,Oo)),Tn+=Yf,lf=Oo}else++Oo;lf<Y0&&Mo.splice(Tn,0,new rt(1,lf,Y0))}return Ft=="ltr"&&(Mo[0].level==1&&(Ea=ht.match(/^\s+/))&&(Mo[0].from=Ea[0].length,Mo.unshift(new rt(0,0,Ea[0].length))),Ht(Mo).level==1&&(Ea=ht.match(/\s+$/))&&(Ht(Mo).to-=Ea[0].length,Mo.push(new rt(0,wr-Ea[0].length,wr)))),Ft=="rtl"?Mo.reverse():Mo}}();function gt(A,T){var W=A.order;return W==null&&(W=A.order=Te(A.text,T)),W}var zt=[],Bt=function(A,T,W){if(A.addEventListener)A.addEventListener(T,W,!1);else if(A.attachEvent)A.attachEvent("on"+T,W);else{var z=A._handlers||(A._handlers={});z[T]=(z[T]||zt).concat(W)}};function bt(A,T){return A._handlers&&A._handlers[T]||zt}function Rr(A,T,W){if(A.removeEventListener)A.removeEventListener(T,W,!1);else if(A.detachEvent)A.detachEvent("on"+T,W);else{var z=A._handlers,te=z&&z[T];if(te){var pe=ot(te,W);pe>-1&&(z[T]=te.slice(0,pe).concat(te.slice(pe+1)))}}}function Ct(A,T){var W=bt(A,T);if(!!W.length)for(var z=Array.prototype.slice.call(arguments,2),te=0;te<W.length;++te)W[te].apply(null,z)}function Nt(A,T,W){return typeof T=="string"&&(T={type:T,preventDefault:function(){this.defaultPrevented=!0}}),Ct(A,W||T.type,A,T),mi(T)||T.codemirrorIgnore}function lr(A){var T=A._handlers&&A._handlers.cursorActivity;if(!!T)for(var W=A.curOp.cursorActivityHandlers||(A.curOp.cursorActivityHandlers=[]),z=0;z<T.length;++z)ot(W,T[z])==-1&&W.push(T[z])}function Sr(A,T){return bt(A,T).length>0}function Vr(A){A.prototype.on=function(T,W){Bt(this,T,W)},A.prototype.off=function(T,W){Rr(this,T,W)}}function gi(A){A.preventDefault?A.preventDefault():A.returnValue=!1}function ki(A){A.stopPropagation?A.stopPropagation():A.cancelBubble=!0}function mi(A){return A.defaultPrevented!=null?A.defaultPrevented:A.returnValue==!1}function Fe(A){gi(A),ki(A)}function Ke(A){return A.target||A.srcElement}function dt(A){var T=A.which;return T==null&&(A.button&1?T=1:A.button&2?T=3:A.button&4&&(T=2)),K&&A.ctrlKey&&T==1&&(T=3),T}var Ot=function(){if(y&&v<9)return!1;var A=xe("div");return"draggable"in A||"dragDrop"in A}(),$t;function Cr(A){if($t==null){var T=xe("span","\u200B");de(A,xe("span",[T,document.createTextNode("x")])),A.firstChild.offsetHeight!=0&&($t=T.offsetWidth<=1&&T.offsetHeight>2&&!(y&&v<8))}var W=$t?xe("span","\u200B"):xe("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return W.setAttribute("cm-text",""),W}var ai;function jt(A){if(ai!=null)return ai;var T=de(A,document.createTextNode("A\u062EA")),W=re(T,0,1).getBoundingClientRect(),z=re(T,1,2).getBoundingClientRect();return ye(A),!W||W.left==W.right?!1:ai=z.right-W.right<3}var ni=`

b`.split(/\n/).length!=3?function(A){for(var T=0,W=[],z=A.length;T<=z;){var te=A.indexOf(`
`,T);te==-1&&(te=A.length);var pe=A.slice(T,A.charAt(te-1)=="\r"?te-1:te),Le=pe.indexOf("\r");Le!=-1?(W.push(pe.slice(0,Le)),T+=Le+1):(W.push(pe),T=te+1)}return W}:function(A){return A.split(/\r\n?|\n/)},Mn=window.getSelection?function(A){try{return A.selectionStart!=A.selectionEnd}catch{return!1}}:function(A){var T;try{T=A.ownerDocument.selection.createRange()}catch{}return!T||T.parentElement()!=A?!1:T.compareEndPoints("StartToEnd",T)!=0},Tt=function(){var A=xe("div");return"oncopy"in A?!0:(A.setAttribute("oncopy","return;"),typeof A.oncopy=="function")}(),ur=null;function Pr(A){if(ur!=null)return ur;var T=de(A,xe("span","x")),W=T.getBoundingClientRect(),z=re(T,0,1).getBoundingClientRect();return ur=Math.abs(W.left-z.left)>1}var xr={},Fr={};function qi(A,T){arguments.length>2&&(T.dependencies=Array.prototype.slice.call(arguments,2)),xr[A]=T}function ui(A,T){Fr[A]=T}function Li(A){if(typeof A=="string"&&Fr.hasOwnProperty(A))A=Fr[A];else if(A&&typeof A.name=="string"&&Fr.hasOwnProperty(A.name)){var T=Fr[A.name];typeof T=="string"&&(T={name:T}),A=Yr(T,A),A.name=T.name}else{if(typeof A=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(A))return Li("application/xml");if(typeof A=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(A))return Li("application/json")}return typeof A=="string"?{name:A}:A||{name:"null"}}function hn(A,T){T=Li(T);var W=xr[T.name];if(!W)return hn(A,"text/plain");var z=W(A,T);if(Pi.hasOwnProperty(T.name)){var te=Pi[T.name];for(var pe in te)!te.hasOwnProperty(pe)||(z.hasOwnProperty(pe)&&(z["_"+pe]=z[pe]),z[pe]=te[pe])}if(z.name=T.name,T.helperType&&(z.helperType=T.helperType),T.modeProps)for(var Le in T.modeProps)z[Le]=T.modeProps[Le];return z}var Pi={};function ji(A,T){var W=Pi.hasOwnProperty(A)?Pi[A]:Pi[A]={};Ue(T,W)}function un(A,T){if(T===!0)return T;if(A.copyState)return A.copyState(T);var W={};for(var z in T){var te=T[z];te instanceof Array&&(te=te.concat([])),W[z]=te}return W}function Kn(A,T){for(var W;A.innerMode&&(W=A.innerMode(T),!(!W||W.mode==A));)T=W.state,A=W.mode;return W||{mode:A,state:T}}function ks(A,T,W){return A.startState?A.startState(T,W):!0}var Jn=function(A,T,W){this.pos=this.start=0,this.string=A,this.tabSize=T||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=W};Jn.prototype.eol=function(){return this.pos>=this.string.length},Jn.prototype.sol=function(){return this.pos==this.lineStart},Jn.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Jn.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Jn.prototype.eat=function(A){var T=this.string.charAt(this.pos),W;if(typeof A=="string"?W=T==A:W=T&&(A.test?A.test(T):A(T)),W)return++this.pos,T},Jn.prototype.eatWhile=function(A){for(var T=this.pos;this.eat(A););return this.pos>T},Jn.prototype.eatSpace=function(){for(var A=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>A},Jn.prototype.skipToEnd=function(){this.pos=this.string.length},Jn.prototype.skipTo=function(A){var T=this.string.indexOf(A,this.pos);if(T>-1)return this.pos=T,!0},Jn.prototype.backUp=function(A){this.pos-=A},Jn.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ce(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ce(this.string,this.lineStart,this.tabSize):0)},Jn.prototype.indentation=function(){return ce(this.string,null,this.tabSize)-(this.lineStart?ce(this.string,this.lineStart,this.tabSize):0)},Jn.prototype.match=function(A,T,W){if(typeof A=="string"){var z=function(Le){return W?Le.toLowerCase():Le},te=this.string.substr(this.pos,A.length);if(z(te)==z(A))return T!==!1&&(this.pos+=A.length),!0}else{var pe=this.string.slice(this.pos).match(A);return pe&&pe.index>0?null:(pe&&T!==!1&&(this.pos+=pe[0].length),pe)}},Jn.prototype.current=function(){return this.string.slice(this.start,this.pos)},Jn.prototype.hideFirstChars=function(A,T){this.lineStart+=A;try{return T()}finally{this.lineStart-=A}},Jn.prototype.lookAhead=function(A){var T=this.lineOracle;return T&&T.lookAhead(A)},Jn.prototype.baseToken=function(){var A=this.lineOracle;return A&&A.baseToken(this.pos)};function Ti(A,T){if(T-=A.first,T<0||T>=A.size)throw new Error("There is no line "+(T+A.first)+" in the document.");for(var W=A;!W.lines;)for(var z=0;;++z){var te=W.children[z],pe=te.chunkSize();if(T<pe){W=te;break}T-=pe}return W.lines[T]}function ss(A,T,W){var z=[],te=T.line;return A.iter(T.line,W.line+1,function(pe){var Le=pe.text;te==W.line&&(Le=Le.slice(0,W.ch)),te==T.line&&(Le=Le.slice(T.ch)),z.push(Le),++te}),z}function Dn(A,T,W){var z=[];return A.iter(T,W,function(te){z.push(te.text)}),z}function os(A,T){var W=T-A.height;if(W)for(var z=A;z;z=z.parent)z.height+=W}function rn(A){if(A.parent==null)return null;for(var T=A.parent,W=ot(T.lines,A),z=T.parent;z;T=z,z=z.parent)for(var te=0;z.children[te]!=T;++te)W+=z.children[te].chunkSize();return W+T.first}function $0(A,T){var W=A.first;e:do{for(var z=0;z<A.children.length;++z){var te=A.children[z],pe=te.height;if(T<pe){A=te;continue e}T-=pe,W+=te.chunkSize()}return W}while(!A.lines);for(var Le=0;Le<A.lines.length;++Le){var je=A.lines[Le],rt=je.height;if(T<rt)break;T-=rt}return W+Le}function js(A,T){return T>=A.first&&T<A.first+A.size}function $s(A,T){return String(A.lineNumberFormatter(T+A.firstLineNumber))}function ii(A,T,W){if(W===void 0&&(W=null),!(this instanceof ii))return new ii(A,T,W);this.line=A,this.ch=T,this.sticky=W}function pt(A,T){return A.line-T.line||A.ch-T.ch}function Xt(A,T){return A.sticky==T.sticky&&pt(A,T)==0}function Jr(A){return ii(A.line,A.ch)}function ei(A,T){return pt(A,T)<0?T:A}function dn(A,T){return pt(A,T)<0?A:T}function Gn(A,T){return Math.max(A.first,Math.min(T,A.first+A.size-1))}function Ci(A,T){if(T.line<A.first)return ii(A.first,0);var W=A.first+A.size-1;return T.line>W?ii(W,Ti(A,W).text.length):So(T,Ti(A,T.line).text.length)}function So(A,T){var W=A.ch;return W==null||W>T?ii(A.line,T):W<0?ii(A.line,0):A}function wa(A,T){for(var W=[],z=0;z<T.length;z++)W[z]=Ci(A,T[z]);return W}var yc=function(A,T){this.state=A,this.lookAhead=T},Dl=function(A,T,W,z){this.state=T,this.doc=A,this.line=W,this.maxLookAhead=z||0,this.baseTokens=null,this.baseTokenPos=1};Dl.prototype.lookAhead=function(A){var T=this.doc.getLine(this.line+A);return T!=null&&A>this.maxLookAhead&&(this.maxLookAhead=A),T},Dl.prototype.baseToken=function(A){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=A;)this.baseTokenPos+=2;var T=this.baseTokens[this.baseTokenPos+1];return{type:T&&T.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-A}},Dl.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Dl.fromSaved=function(A,T,W){return T instanceof yc?new Dl(A,un(A.mode,T.state),W,T.lookAhead):new Dl(A,un(A.mode,T),W)},Dl.prototype.save=function(A){var T=A!==!1?un(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new yc(T,this.maxLookAhead):T};function gb(A,T,W,z){var te=[A.state.modeGen],pe={};Ab(A,T.text,A.doc.mode,W,function(ht,Ft){return te.push(ht,Ft)},pe,z);for(var Le=W.state,je=function(ht){W.baseTokens=te;var Ft=A.state.overlays[ht],Yt=1,wr=0;W.state=!0,Ab(A,T.text,Ft.mode,W,function(hr,zr){for(var Zr=Yt;wr<hr;){var ci=te[Yt];ci>hr&&te.splice(Yt,1,hr,te[Yt+1],ci),Yt+=2,wr=Math.min(hr,ci)}if(!!zr)if(Ft.opaque)te.splice(Zr,Yt-Zr,hr,"overlay "+zr),Yt=Zr+2;else for(;Zr<Yt;Zr+=2){var xi=te[Zr+1];te[Zr+1]=(xi?xi+" ":"")+"overlay "+zr}},pe),W.state=Le,W.baseTokens=null,W.baseTokenPos=1},rt=0;rt<A.state.overlays.length;++rt)je(rt);return{styles:te,classes:pe.bgClass||pe.textClass?pe:null}}function bb(A,T,W){if(!T.styles||T.styles[0]!=A.state.modeGen){var z=Vh(A,rn(T)),te=T.text.length>A.options.maxHighlightLength&&un(A.doc.mode,z.state),pe=gb(A,T,z);te&&(z.state=te),T.stateAfter=z.save(!te),T.styles=pe.styles,pe.classes?T.styleClasses=pe.classes:T.styleClasses&&(T.styleClasses=null),W===A.doc.highlightFrontier&&(A.doc.modeFrontier=Math.max(A.doc.modeFrontier,++A.doc.highlightFrontier))}return T.styles}function Vh(A,T,W){var z=A.doc,te=A.display;if(!z.mode.startState)return new Dl(z,!0,T);var pe=yA(A,T,W),Le=pe>z.first&&Ti(z,pe-1).stateAfter,je=Le?Dl.fromSaved(z,Le,pe):new Dl(z,ks(z.mode),pe);return z.iter(pe,T,function(rt){B1(A,rt.text,je);var ht=je.line;rt.stateAfter=ht==T-1||ht%5==0||ht>=te.viewFrom&&ht<te.viewTo?je.save():null,je.nextLine()}),W&&(z.modeFrontier=je.line),je}function B1(A,T,W,z){var te=A.doc.mode,pe=new Jn(T,A.options.tabSize,W);for(pe.start=pe.pos=z||0,T==""&&yb(te,W.state);!pe.eol();)I1(te,pe,W.state),pe.start=pe.pos}function yb(A,T){if(A.blankLine)return A.blankLine(T);if(!!A.innerMode){var W=Kn(A,T);if(W.mode.blankLine)return W.mode.blankLine(W.state)}}function I1(A,T,W,z){for(var te=0;te<10;te++){z&&(z[0]=Kn(A,W).mode);var pe=A.token(T,W);if(T.pos>T.start)return pe}throw new Error("Mode "+A.name+" failed to advance stream.")}var vb=function(A,T,W){this.start=A.start,this.end=A.pos,this.string=A.current(),this.type=T||null,this.state=W};function qr(A,T,W,z){var te=A.doc,pe=te.mode,Le;T=Ci(te,T);var je=Ti(te,T.line),rt=Vh(A,T.line,W),ht=new Jn(je.text,A.options.tabSize,rt),Ft;for(z&&(Ft=[]);(z||ht.pos<T.ch)&&!ht.eol();)ht.start=ht.pos,Le=I1(pe,ht,rt.state),z&&Ft.push(new vb(ht,Le,un(te.mode,rt.state)));return z?Ft:new vb(ht,Le,rt.state)}function wb(A,T){if(A)for(;;){var W=A.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!W)break;A=A.slice(0,W.index)+A.slice(W.index+W[0].length);var z=W[1]?"bgClass":"textClass";T[z]==null?T[z]=W[2]:new RegExp("(?:^|\\s)"+W[2]+"(?:$|\\s)").test(T[z])||(T[z]+=" "+W[2])}return A}function Ab(A,T,W,z,te,pe,Le){var je=W.flattenSpans;je==null&&(je=A.options.flattenSpans);var rt=0,ht=null,Ft=new Jn(T,A.options.tabSize,z),Yt,wr=A.options.addModeClass&&[null];for(T==""&&wb(yb(W,z.state),pe);!Ft.eol();){if(Ft.pos>A.options.maxHighlightLength?(je=!1,Le&&B1(A,T,z,Ft.pos),Ft.pos=T.length,Yt=null):Yt=wb(I1(W,Ft,z.state,wr),pe),wr){var hr=wr[0].name;hr&&(Yt="m-"+(Yt?hr+" "+Yt:hr))}if(!je||ht!=Yt){for(;rt<Ft.start;)rt=Math.min(Ft.start,rt+5e3),te(rt,ht);ht=Yt}Ft.start=Ft.pos}for(;rt<Ft.pos;){var zr=Math.min(Ft.pos,rt+5e3);te(zr,ht),rt=zr}}function yA(A,T,W){for(var z,te,pe=A.doc,Le=W?-1:T-(A.doc.mode.innerMode?1e3:100),je=T;je>Le;--je){if(je<=pe.first)return pe.first;var rt=Ti(pe,je-1),ht=rt.stateAfter;if(ht&&(!W||je+(ht instanceof yc?ht.lookAhead:0)<=pe.modeFrontier))return je;var Ft=ce(rt.text,null,A.options.tabSize);(te==null||z>Ft)&&(te=je-1,z=Ft)}return te}function vA(A,T){if(A.modeFrontier=Math.min(A.modeFrontier,T),!(A.highlightFrontier<T-10)){for(var W=A.first,z=T-1;z>W;z--){var te=Ti(A,z).stateAfter;if(te&&(!(te instanceof yc)||z+te.lookAhead<T)){W=z+1;break}}A.highlightFrontier=Math.min(A.highlightFrontier,W)}}var xb=!1,$l=!1;function wA(){xb=!0}function AA(){$l=!0}function p2(A,T,W){this.marker=A,this.from=T,this.to=W}function jh(A,T){if(A)for(var W=0;W<A.length;++W){var z=A[W];if(z.marker==T)return z}}function xA(A,T){for(var W,z=0;z<A.length;++z)A[z]!=T&&(W||(W=[])).push(A[z]);return W}function EA(A,T,W){var z=W&&window.WeakSet&&(W.markedSpans||(W.markedSpans=new WeakSet));z&&z.has(A.markedSpans)?A.markedSpans.push(T):(A.markedSpans=A.markedSpans?A.markedSpans.concat([T]):[T],z&&z.add(A.markedSpans)),T.marker.attachLine(A)}function _A(A,T,W){var z;if(A)for(var te=0;te<A.length;++te){var pe=A[te],Le=pe.marker,je=pe.from==null||(Le.inclusiveLeft?pe.from<=T:pe.from<T);if(je||pe.from==T&&Le.type=="bookmark"&&(!W||!pe.marker.insertLeft)){var rt=pe.to==null||(Le.inclusiveRight?pe.to>=T:pe.to>T);(z||(z=[])).push(new p2(Le,pe.from,rt?null:pe.to))}}return z}function kA(A,T,W){var z;if(A)for(var te=0;te<A.length;++te){var pe=A[te],Le=pe.marker,je=pe.to==null||(Le.inclusiveRight?pe.to>=T:pe.to>T);if(je||pe.from==T&&Le.type=="bookmark"&&(!W||pe.marker.insertLeft)){var rt=pe.from==null||(Le.inclusiveLeft?pe.from<=T:pe.from<T);(z||(z=[])).push(new p2(Le,rt?null:pe.from-T,pe.to==null?null:pe.to-T))}}return z}function L1(A,T){if(T.full)return null;var W=js(A,T.from.line)&&Ti(A,T.from.line).markedSpans,z=js(A,T.to.line)&&Ti(A,T.to.line).markedSpans;if(!W&&!z)return null;var te=T.from.ch,pe=T.to.ch,Le=pt(T.from,T.to)==0,je=_A(W,te,Le),rt=kA(z,pe,Le),ht=T.text.length==1,Ft=Ht(T.text).length+(ht?te:0);if(je)for(var Yt=0;Yt<je.length;++Yt){var wr=je[Yt];if(wr.to==null){var hr=jh(rt,wr.marker);hr?ht&&(wr.to=hr.to==null?null:hr.to+Ft):wr.to=te}}if(rt)for(var zr=0;zr<rt.length;++zr){var Zr=rt[zr];if(Zr.to!=null&&(Zr.to+=Ft),Zr.from==null){var ci=jh(je,Zr.marker);ci||(Zr.from=Ft,ht&&(je||(je=[])).push(Zr))}else Zr.from+=Ft,ht&&(je||(je=[])).push(Zr)}je&&(je=Eb(je)),rt&&rt!=je&&(rt=Eb(rt));var xi=[je];if(!ht){var Ri=T.text.length-2,Ai;if(Ri>0&&je)for(var Hi=0;Hi<je.length;++Hi)je[Hi].to==null&&(Ai||(Ai=[])).push(new p2(je[Hi].marker,null,null));for(var an=0;an<Ri;++an)xi.push(Ai);xi.push(rt)}return xi}function Eb(A){for(var T=0;T<A.length;++T){var W=A[T];W.from!=null&&W.from==W.to&&W.marker.clearWhenEmpty!==!1&&A.splice(T--,1)}return A.length?A:null}function CA(A,T,W){var z=null;if(A.iter(T.line,W.line+1,function(hr){if(hr.markedSpans)for(var zr=0;zr<hr.markedSpans.length;++zr){var Zr=hr.markedSpans[zr].marker;Zr.readOnly&&(!z||ot(z,Zr)==-1)&&(z||(z=[])).push(Zr)}}),!z)return null;for(var te=[{from:T,to:W}],pe=0;pe<z.length;++pe)for(var Le=z[pe],je=Le.find(0),rt=0;rt<te.length;++rt){var ht=te[rt];if(!(pt(ht.to,je.from)<0||pt(ht.from,je.to)>0)){var Ft=[rt,1],Yt=pt(ht.from,je.from),wr=pt(ht.to,je.to);(Yt<0||!Le.inclusiveLeft&&!Yt)&&Ft.push({from:ht.from,to:je.from}),(wr>0||!Le.inclusiveRight&&!wr)&&Ft.push({from:je.to,to:ht.to}),te.splice.apply(te,Ft),rt+=Ft.length-3}}return te}function _b(A){var T=A.markedSpans;if(!!T){for(var W=0;W<T.length;++W)T[W].marker.detachLine(A);A.markedSpans=null}}function kb(A,T){if(!!T){for(var W=0;W<T.length;++W)T[W].marker.attachLine(A);A.markedSpans=T}}function m2(A){return A.inclusiveLeft?-1:0}function g2(A){return A.inclusiveRight?1:0}function P1(A,T){var W=A.lines.length-T.lines.length;if(W!=0)return W;var z=A.find(),te=T.find(),pe=pt(z.from,te.from)||m2(A)-m2(T);if(pe)return-pe;var Le=pt(z.to,te.to)||g2(A)-g2(T);return Le||T.id-A.id}function Cb(A,T){var W=$l&&A.markedSpans,z;if(W)for(var te=void 0,pe=0;pe<W.length;++pe)te=W[pe],te.marker.collapsed&&(T?te.from:te.to)==null&&(!z||P1(z,te.marker)<0)&&(z=te.marker);return z}function Sb(A){return Cb(A,!0)}function b2(A){return Cb(A,!1)}function SA(A,T){var W=$l&&A.markedSpans,z;if(W)for(var te=0;te<W.length;++te){var pe=W[te];pe.marker.collapsed&&(pe.from==null||pe.from<T)&&(pe.to==null||pe.to>T)&&(!z||P1(z,pe.marker)<0)&&(z=pe.marker)}return z}function Tb(A,T,W,z,te){var pe=Ti(A,T),Le=$l&&pe.markedSpans;if(Le)for(var je=0;je<Le.length;++je){var rt=Le[je];if(!!rt.marker.collapsed){var ht=rt.marker.find(0),Ft=pt(ht.from,W)||m2(rt.marker)-m2(te),Yt=pt(ht.to,z)||g2(rt.marker)-g2(te);if(!(Ft>=0&&Yt<=0||Ft<=0&&Yt>=0)&&(Ft<=0&&(rt.marker.inclusiveRight&&te.inclusiveLeft?pt(ht.to,W)>=0:pt(ht.to,W)>0)||Ft>=0&&(rt.marker.inclusiveRight&&te.inclusiveLeft?pt(ht.from,z)<=0:pt(ht.from,z)<0)))return!0}}}function Ya(A){for(var T;T=Sb(A);)A=T.find(-1,!0).line;return A}function TA(A){for(var T;T=b2(A);)A=T.find(1,!0).line;return A}function MA(A){for(var T,W;T=b2(A);)A=T.find(1,!0).line,(W||(W=[])).push(A);return W}function N1(A,T){var W=Ti(A,T),z=Ya(W);return W==z?T:rn(z)}function Mb(A,T){if(T>A.lastLine())return T;var W=Ti(A,T),z;if(!Vf(A,W))return T;for(;z=b2(W);)W=z.find(1,!0).line;return rn(W)+1}function Vf(A,T){var W=$l&&T.markedSpans;if(W){for(var z=void 0,te=0;te<W.length;++te)if(z=W[te],!!z.marker.collapsed){if(z.from==null)return!0;if(!z.marker.widgetNode&&z.from==0&&z.marker.inclusiveLeft&&F1(A,T,z))return!0}}}function F1(A,T,W){if(W.to==null){var z=W.marker.find(1,!0);return F1(A,z.line,jh(z.line.markedSpans,W.marker))}if(W.marker.inclusiveRight&&W.to==T.text.length)return!0;for(var te=void 0,pe=0;pe<T.markedSpans.length;++pe)if(te=T.markedSpans[pe],te.marker.collapsed&&!te.marker.widgetNode&&te.from==W.to&&(te.to==null||te.to!=W.from)&&(te.marker.inclusiveLeft||W.marker.inclusiveRight)&&F1(A,T,te))return!0}function ef(A){A=Ya(A);for(var T=0,W=A.parent,z=0;z<W.lines.length;++z){var te=W.lines[z];if(te==A)break;T+=te.height}for(var pe=W.parent;pe;W=pe,pe=W.parent)for(var Le=0;Le<pe.children.length;++Le){var je=pe.children[Le];if(je==W)break;T+=je.height}return T}function y2(A){if(A.height==0)return 0;for(var T=A.text.length,W,z=A;W=Sb(z);){var te=W.find(0,!0);z=te.from.line,T+=te.from.ch-te.to.ch}for(z=A;W=b2(z);){var pe=W.find(0,!0);T-=z.text.length-pe.from.ch,z=pe.to.line,T+=z.text.length-pe.to.ch}return T}function O1(A){var T=A.display,W=A.doc;T.maxLine=Ti(W,W.first),T.maxLineLength=y2(T.maxLine),T.maxLineChanged=!0,W.iter(function(z){var te=y2(z);te>T.maxLineLength&&(T.maxLineLength=te,T.maxLine=z)})}var vc=function(A,T,W){this.text=A,kb(this,T),this.height=W?W(this):1};vc.prototype.lineNo=function(){return rn(this)},Vr(vc);function RA(A,T,W,z){A.text=T,A.stateAfter&&(A.stateAfter=null),A.styles&&(A.styles=null),A.order!=null&&(A.order=null),_b(A),kb(A,W);var te=z?z(A):1;te!=A.height&&os(A,te)}function DA(A){A.parent=null,_b(A)}var BA={},IA={};function Rb(A,T){if(!A||/^\s*$/.test(A))return null;var W=T.addModeClass?IA:BA;return W[A]||(W[A]=A.replace(/\S+/g,"cm-$&"))}function Db(A,T){var W=le("span",null,null,E?"padding-right: .1px":null),z={pre:le("pre",[W],"CodeMirror-line"),content:W,col:0,pos:0,cm:A,trailingSpace:!1,splitSpaces:A.getOption("lineWrapping")};T.measure={};for(var te=0;te<=(T.rest?T.rest.length:0);te++){var pe=te?T.rest[te-1]:T.line,Le=void 0;z.pos=0,z.addToken=PA,jt(A.display.measure)&&(Le=gt(pe,A.doc.direction))&&(z.addToken=FA(z.addToken,Le)),z.map=[];var je=T!=A.display.externalMeasured&&rn(pe);OA(pe,z,bb(A,pe,je)),pe.styleClasses&&(pe.styleClasses.bgClass&&(z.bgClass=Ie(pe.styleClasses.bgClass,z.bgClass||"")),pe.styleClasses.textClass&&(z.textClass=Ie(pe.styleClasses.textClass,z.textClass||""))),z.map.length==0&&z.map.push(0,0,z.content.appendChild(Cr(A.display.measure))),te==0?(T.measure.map=z.map,T.measure.cache={}):((T.measure.maps||(T.measure.maps=[])).push(z.map),(T.measure.caches||(T.measure.caches=[])).push({}))}if(E){var rt=z.content.lastChild;(/\bcm-tab\b/.test(rt.className)||rt.querySelector&&rt.querySelector(".cm-tab"))&&(z.content.className="cm-tab-wrap-hack")}return Ct(A,"renderLine",A,T.line,z.pre),z.pre.className&&(z.textClass=Ie(z.pre.className,z.textClass||"")),z}function LA(A){var T=xe("span","\u2022","cm-invalidchar");return T.title="\\u"+A.charCodeAt(0).toString(16),T.setAttribute("aria-label",T.title),T}function PA(A,T,W,z,te,pe,Le){if(!!T){var je=A.splitSpaces?NA(T,A.trailingSpace):T,rt=A.cm.state.specialChars,ht=!1,Ft;if(!rt.test(T))A.col+=T.length,Ft=document.createTextNode(je),A.map.push(A.pos,A.pos+T.length,Ft),y&&v<9&&(ht=!0),A.pos+=T.length;else{Ft=document.createDocumentFragment();for(var Yt=0;;){rt.lastIndex=Yt;var wr=rt.exec(T),hr=wr?wr.index-Yt:T.length-Yt;if(hr){var zr=document.createTextNode(je.slice(Yt,Yt+hr));y&&v<9?Ft.appendChild(xe("span",[zr])):Ft.appendChild(zr),A.map.push(A.pos,A.pos+hr,zr),A.col+=hr,A.pos+=hr}if(!wr)break;Yt+=hr+1;var Zr=void 0;if(wr[0]=="	"){var ci=A.cm.options.tabSize,xi=ci-A.col%ci;Zr=Ft.appendChild(xe("span",Gt(xi),"cm-tab")),Zr.setAttribute("role","presentation"),Zr.setAttribute("cm-text","	"),A.col+=xi}else wr[0]=="\r"||wr[0]==`
`?(Zr=Ft.appendChild(xe("span",wr[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),Zr.setAttribute("cm-text",wr[0]),A.col+=1):(Zr=A.cm.options.specialCharPlaceholder(wr[0]),Zr.setAttribute("cm-text",wr[0]),y&&v<9?Ft.appendChild(xe("span",[Zr])):Ft.appendChild(Zr),A.col+=1);A.map.push(A.pos,A.pos+1,Zr),A.pos++}}if(A.trailingSpace=je.charCodeAt(T.length-1)==32,W||z||te||ht||pe||Le){var Ri=W||"";z&&(Ri+=z),te&&(Ri+=te);var Ai=xe("span",[Ft],Ri,pe);if(Le)for(var Hi in Le)Le.hasOwnProperty(Hi)&&Hi!="style"&&Hi!="class"&&Ai.setAttribute(Hi,Le[Hi]);return A.content.appendChild(Ai)}A.content.appendChild(Ft)}}function NA(A,T){if(A.length>1&&!/  /.test(A))return A;for(var W=T,z="",te=0;te<A.length;te++){var pe=A.charAt(te);pe==" "&&W&&(te==A.length-1||A.charCodeAt(te+1)==32)&&(pe="\xA0"),z+=pe,W=pe==" "}return z}function FA(A,T){return function(W,z,te,pe,Le,je,rt){te=te?te+" cm-force-border":"cm-force-border";for(var ht=W.pos,Ft=ht+z.length;;){for(var Yt=void 0,wr=0;wr<T.length&&(Yt=T[wr],!(Yt.to>ht&&Yt.from<=ht));wr++);if(Yt.to>=Ft)return A(W,z,te,pe,Le,je,rt);A(W,z.slice(0,Yt.to-ht),te,pe,null,je,rt),pe=null,z=z.slice(Yt.to-ht),ht=Yt.to}}}function Bb(A,T,W,z){var te=!z&&W.widgetNode;te&&A.map.push(A.pos,A.pos+T,te),!z&&A.cm.display.input.needsContentAttribute&&(te||(te=A.content.appendChild(document.createElement("span"))),te.setAttribute("cm-marker",W.id)),te&&(A.cm.display.input.setUneditable(te),A.content.appendChild(te)),A.pos+=T,A.trailingSpace=!1}function OA(A,T,W){var z=A.markedSpans,te=A.text,pe=0;if(!z){for(var Le=1;Le<W.length;Le+=2)T.addToken(T,te.slice(pe,pe=W[Le]),Rb(W[Le+1],T.cm.options));return}for(var je=te.length,rt=0,ht=1,Ft="",Yt,wr,hr=0,zr,Zr,ci,xi,Ri;;){if(hr==rt){zr=Zr=ci=wr="",Ri=null,xi=null,hr=1/0;for(var Ai=[],Hi=void 0,an=0;an<z.length;++an){var Zi=z[an],Nn=Zi.marker;if(Nn.type=="bookmark"&&Zi.from==rt&&Nn.widgetNode)Ai.push(Nn);else if(Zi.from<=rt&&(Zi.to==null||Zi.to>rt||Nn.collapsed&&Zi.to==rt&&Zi.from==rt)){if(Zi.to!=null&&Zi.to!=rt&&hr>Zi.to&&(hr=Zi.to,Zr=""),Nn.className&&(zr+=" "+Nn.className),Nn.css&&(wr=(wr?wr+";":"")+Nn.css),Nn.startStyle&&Zi.from==rt&&(ci+=" "+Nn.startStyle),Nn.endStyle&&Zi.to==hr&&(Hi||(Hi=[])).push(Nn.endStyle,Zi.to),Nn.title&&((Ri||(Ri={})).title=Nn.title),Nn.attributes)for(var z0 in Nn.attributes)(Ri||(Ri={}))[z0]=Nn.attributes[z0];Nn.collapsed&&(!xi||P1(xi.marker,Nn)<0)&&(xi=Zi)}else Zi.from>rt&&hr>Zi.from&&(hr=Zi.from)}if(Hi)for(var Qs=0;Qs<Hi.length;Qs+=2)Hi[Qs+1]==hr&&(Zr+=" "+Hi[Qs]);if(!xi||xi.from==rt)for(var cs=0;cs<Ai.length;++cs)Bb(T,0,Ai[cs]);if(xi&&(xi.from||0)==rt){if(Bb(T,(xi.to==null?je+1:xi.to)-rt,xi.marker,xi.from==null),xi.to==null)return;xi.to==rt&&(xi=!1)}}if(rt>=je)break;for(var ts=Math.min(je,hr);;){if(Ft){var Ko=rt+Ft.length;if(!xi){var Ss=Ko>ts?Ft.slice(0,ts-rt):Ft;T.addToken(T,Ss,Yt?Yt+zr:zr,ci,rt+Ss.length==hr?Zr:"",wr,Ri)}if(Ko>=ts){Ft=Ft.slice(ts-rt),rt=ts;break}rt=Ko,ci=""}Ft=te.slice(pe,pe=W[ht++]),Yt=Rb(W[ht++],T.cm.options)}}}function Ib(A,T,W){this.line=T,this.rest=MA(T),this.size=this.rest?rn(Ht(this.rest))-W+1:1,this.node=this.text=null,this.hidden=Vf(A,T)}function v2(A,T,W){for(var z=[],te,pe=T;pe<W;pe=te){var Le=new Ib(A.doc,Ti(A.doc,pe),pe);te=pe+Le.size,z.push(Le)}return z}var wc=null;function HA(A){wc?wc.ops.push(A):A.ownsGroup=wc={ops:[A],delayedCallbacks:[]}}function UA(A){var T=A.delayedCallbacks,W=0;do{for(;W<T.length;W++)T[W].call(null);for(var z=0;z<A.ops.length;z++){var te=A.ops[z];if(te.cursorActivityHandlers)for(;te.cursorActivityCalled<te.cursorActivityHandlers.length;)te.cursorActivityHandlers[te.cursorActivityCalled++].call(null,te.cm)}}while(W<T.length)}function VA(A,T){var W=A.ownsGroup;if(!!W)try{UA(W)}finally{wc=null,T(W)}}var Gh=null;function eo(A,T){var W=bt(A,T);if(!!W.length){var z=Array.prototype.slice.call(arguments,2),te;wc?te=wc.delayedCallbacks:Gh?te=Gh:(te=Gh=[],setTimeout(jA,0));for(var pe=function(je){te.push(function(){return W[je].apply(null,z)})},Le=0;Le<W.length;++Le)pe(Le)}}function jA(){var A=Gh;Gh=null;for(var T=0;T<A.length;++T)A[T]()}function Lb(A,T,W,z){for(var te=0;te<T.changes.length;te++){var pe=T.changes[te];pe=="text"?zA(A,T):pe=="gutter"?Nb(A,T,W,z):pe=="class"?H1(A,T):pe=="widget"&&WA(A,T,z)}T.changes=null}function zh(A){return A.node==A.text&&(A.node=xe("div",null,null,"position: relative"),A.text.parentNode&&A.text.parentNode.replaceChild(A.node,A.text),A.node.appendChild(A.text),y&&v<8&&(A.node.style.zIndex=2)),A.node}function GA(A,T){var W=T.bgClass?T.bgClass+" "+(T.line.bgClass||""):T.line.bgClass;if(W&&(W+=" CodeMirror-linebackground"),T.background)W?T.background.className=W:(T.background.parentNode.removeChild(T.background),T.background=null);else if(W){var z=zh(T);T.background=z.insertBefore(xe("div",null,W),z.firstChild),A.display.input.setUneditable(T.background)}}function Pb(A,T){var W=A.display.externalMeasured;return W&&W.line==T.line?(A.display.externalMeasured=null,T.measure=W.measure,W.built):Db(A,T)}function zA(A,T){var W=T.text.className,z=Pb(A,T);T.text==T.node&&(T.node=z.pre),T.text.parentNode.replaceChild(z.pre,T.text),T.text=z.pre,z.bgClass!=T.bgClass||z.textClass!=T.textClass?(T.bgClass=z.bgClass,T.textClass=z.textClass,H1(A,T)):W&&(T.text.className=W)}function H1(A,T){GA(A,T),T.line.wrapClass?zh(T).className=T.line.wrapClass:T.node!=T.text&&(T.node.className="");var W=T.textClass?T.textClass+" "+(T.line.textClass||""):T.line.textClass;T.text.className=W||""}function Nb(A,T,W,z){if(T.gutter&&(T.node.removeChild(T.gutter),T.gutter=null),T.gutterBackground&&(T.node.removeChild(T.gutterBackground),T.gutterBackground=null),T.line.gutterClass){var te=zh(T);T.gutterBackground=xe("div",null,"CodeMirror-gutter-background "+T.line.gutterClass,"left: "+(A.options.fixedGutter?z.fixedPos:-z.gutterTotalWidth)+"px; width: "+z.gutterTotalWidth+"px"),A.display.input.setUneditable(T.gutterBackground),te.insertBefore(T.gutterBackground,T.text)}var pe=T.line.gutterMarkers;if(A.options.lineNumbers||pe){var Le=zh(T),je=T.gutter=xe("div",null,"CodeMirror-gutter-wrapper","left: "+(A.options.fixedGutter?z.fixedPos:-z.gutterTotalWidth)+"px");if(je.setAttribute("aria-hidden","true"),A.display.input.setUneditable(je),Le.insertBefore(je,T.text),T.line.gutterClass&&(je.className+=" "+T.line.gutterClass),A.options.lineNumbers&&(!pe||!pe["CodeMirror-linenumbers"])&&(T.lineNumber=je.appendChild(xe("div",$s(A.options,W),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+z.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+A.display.lineNumInnerWidth+"px"))),pe)for(var rt=0;rt<A.display.gutterSpecs.length;++rt){var ht=A.display.gutterSpecs[rt].className,Ft=pe.hasOwnProperty(ht)&&pe[ht];Ft&&je.appendChild(xe("div",[Ft],"CodeMirror-gutter-elt","left: "+z.gutterLeft[ht]+"px; width: "+z.gutterWidth[ht]+"px"))}}}function WA(A,T,W){T.alignable&&(T.alignable=null);for(var z=ne("CodeMirror-linewidget"),te=T.node.firstChild,pe=void 0;te;te=pe)pe=te.nextSibling,z.test(te.className)&&T.node.removeChild(te);Fb(A,T,W)}function QA(A,T,W,z){var te=Pb(A,T);return T.text=T.node=te.pre,te.bgClass&&(T.bgClass=te.bgClass),te.textClass&&(T.textClass=te.textClass),H1(A,T),Nb(A,T,W,z),Fb(A,T,z),T.node}function Fb(A,T,W){if(Ob(A,T.line,T,W,!0),T.rest)for(var z=0;z<T.rest.length;z++)Ob(A,T.rest[z],T,W,!1)}function Ob(A,T,W,z,te){if(!!T.widgets)for(var pe=zh(W),Le=0,je=T.widgets;Le<je.length;++Le){var rt=je[Le],ht=xe("div",[rt.node],"CodeMirror-linewidget"+(rt.className?" "+rt.className:""));rt.handleMouseEvents||ht.setAttribute("cm-ignore-events","true"),JA(rt,ht,W,z),A.display.input.setUneditable(ht),te&&rt.above?pe.insertBefore(ht,W.gutter||W.text):pe.appendChild(ht),eo(rt,"redraw")}}function JA(A,T,W,z){if(A.noHScroll){(W.alignable||(W.alignable=[])).push(T);var te=z.wrapperWidth;T.style.left=z.fixedPos+"px",A.coverGutter||(te-=z.gutterTotalWidth,T.style.paddingLeft=z.gutterTotalWidth+"px"),T.style.width=te+"px"}A.coverGutter&&(T.style.zIndex=5,T.style.position="relative",A.noHScroll||(T.style.marginLeft=-z.gutterTotalWidth+"px"))}function Wh(A){if(A.height!=null)return A.height;var T=A.doc.cm;if(!T)return 0;if(!he(document.body,A.node)){var W="position: relative;";A.coverGutter&&(W+="margin-left: -"+T.display.gutters.offsetWidth+"px;"),A.noHScroll&&(W+="width: "+T.display.wrapper.clientWidth+"px;"),de(T.display.measure,xe("div",[A.node],null,W))}return A.height=A.node.parentNode.offsetHeight}function tf(A,T){for(var W=Ke(T);W!=A.wrapper;W=W.parentNode)if(!W||W.nodeType==1&&W.getAttribute("cm-ignore-events")=="true"||W.parentNode==A.sizer&&W!=A.mover)return!0}function w2(A){return A.lineSpace.offsetTop}function U1(A){return A.mover.offsetHeight-A.lineSpace.offsetHeight}function Hb(A){if(A.cachedPaddingH)return A.cachedPaddingH;var T=de(A.measure,xe("pre","x","CodeMirror-line-like")),W=window.getComputedStyle?window.getComputedStyle(T):T.currentStyle,z={left:parseInt(W.paddingLeft),right:parseInt(W.paddingRight)};return!isNaN(z.left)&&!isNaN(z.right)&&(A.cachedPaddingH=z),z}function Bl(A){return Se-A.display.nativeBarWidth}function Bu(A){return A.display.scroller.clientWidth-Bl(A)-A.display.barWidth}function V1(A){return A.display.scroller.clientHeight-Bl(A)-A.display.barHeight}function XA(A,T,W){var z=A.options.lineWrapping,te=z&&Bu(A);if(!T.measure.heights||z&&T.measure.width!=te){var pe=T.measure.heights=[];if(z){T.measure.width=te;for(var Le=T.text.firstChild.getClientRects(),je=0;je<Le.length-1;je++){var rt=Le[je],ht=Le[je+1];Math.abs(rt.bottom-ht.bottom)>2&&pe.push((rt.bottom+ht.top)/2-W.top)}}pe.push(W.bottom-W.top)}}function Ub(A,T,W){if(A.line==T)return{map:A.measure.map,cache:A.measure.cache};if(A.rest){for(var z=0;z<A.rest.length;z++)if(A.rest[z]==T)return{map:A.measure.maps[z],cache:A.measure.caches[z]};for(var te=0;te<A.rest.length;te++)if(rn(A.rest[te])>W)return{map:A.measure.maps[te],cache:A.measure.caches[te],before:!0}}}function qA(A,T){T=Ya(T);var W=rn(T),z=A.display.externalMeasured=new Ib(A.doc,T,W);z.lineN=W;var te=z.built=Db(A,z);return z.text=te.pre,de(A.display.lineMeasure,te.pre),z}function Vb(A,T,W,z){return Il(A,Ac(A,T),W,z)}function j1(A,T){if(T>=A.display.viewFrom&&T<A.display.viewTo)return A.display.view[Gs(A,T)];var W=A.display.externalMeasured;if(W&&T>=W.lineN&&T<W.lineN+W.size)return W}function Ac(A,T){var W=rn(T),z=j1(A,W);z&&!z.text?z=null:z&&z.changes&&(Lb(A,z,W,_c(A)),A.curOp.forceUpdate=!0),z||(z=qA(A,T));var te=Ub(z,T,W);return{line:T,view:z,rect:null,map:te.map,cache:te.cache,before:te.before,hasHeights:!1}}function Il(A,T,W,z,te){T.before&&(W=-1);var pe=W+(z||""),Le;return T.cache.hasOwnProperty(pe)?Le=T.cache[pe]:(T.rect||(T.rect=T.view.text.getBoundingClientRect()),T.hasHeights||(XA(A,T.view,T.rect),T.hasHeights=!0),Le=YA(A,T,W,z),Le.bogus||(T.cache[pe]=Le)),{left:Le.left,right:Le.right,top:te?Le.rtop:Le.top,bottom:te?Le.rbottom:Le.bottom}}var jb={left:0,right:0,top:0,bottom:0};function Gb(A,T,W){for(var z,te,pe,Le,je,rt,ht=0;ht<A.length;ht+=3)if(je=A[ht],rt=A[ht+1],T<je?(te=0,pe=1,Le="left"):T<rt?(te=T-je,pe=te+1):(ht==A.length-3||T==rt&&A[ht+3]>T)&&(pe=rt-je,te=pe-1,T>=rt&&(Le="right")),te!=null){if(z=A[ht+2],je==rt&&W==(z.insertLeft?"left":"right")&&(Le=W),W=="left"&&te==0)for(;ht&&A[ht-2]==A[ht-3]&&A[ht-1].insertLeft;)z=A[(ht-=3)+2],Le="left";if(W=="right"&&te==rt-je)for(;ht<A.length-3&&A[ht+3]==A[ht+4]&&!A[ht+5].insertLeft;)z=A[(ht+=3)+2],Le="right";break}return{node:z,start:te,end:pe,collapse:Le,coverStart:je,coverEnd:rt}}function ZA(A,T){var W=jb;if(T=="left")for(var z=0;z<A.length&&(W=A[z]).left==W.right;z++);else for(var te=A.length-1;te>=0&&(W=A[te]).left==W.right;te--);return W}function YA(A,T,W,z){var te=Gb(T.map,W,z),pe=te.node,Le=te.start,je=te.end,rt=te.collapse,ht;if(pe.nodeType==3){for(var Ft=0;Ft<4;Ft++){for(;Le&&ft(T.line.text.charAt(te.coverStart+Le));)--Le;for(;te.coverStart+je<te.coverEnd&&ft(T.line.text.charAt(te.coverStart+je));)++je;if(y&&v<9&&Le==0&&je==te.coverEnd-te.coverStart?ht=pe.parentNode.getBoundingClientRect():ht=ZA(re(pe,Le,je).getClientRects(),z),ht.left||ht.right||Le==0)break;je=Le,Le=Le-1,rt="right"}y&&v<11&&(ht=KA(A.display.measure,ht))}else{Le>0&&(rt=z="right");var Yt;A.options.lineWrapping&&(Yt=pe.getClientRects()).length>1?ht=Yt[z=="right"?Yt.length-1:0]:ht=pe.getBoundingClientRect()}if(y&&v<9&&!Le&&(!ht||!ht.left&&!ht.right)){var wr=pe.parentNode.getClientRects()[0];wr?ht={left:wr.left,right:wr.left+en(A.display),top:wr.top,bottom:wr.bottom}:ht=jb}for(var hr=ht.top-T.rect.top,zr=ht.bottom-T.rect.top,Zr=(hr+zr)/2,ci=T.view.measure.heights,xi=0;xi<ci.length-1&&!(Zr<ci[xi]);xi++);var Ri=xi?ci[xi-1]:0,Ai=ci[xi],Hi={left:(rt=="right"?ht.right:ht.left)-T.rect.left,right:(rt=="left"?ht.left:ht.right)-T.rect.left,top:Ri,bottom:Ai};return!ht.left&&!ht.right&&(Hi.bogus=!0),A.options.singleCursorHeightPerLine||(Hi.rtop=hr,Hi.rbottom=zr),Hi}function KA(A,T){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Pr(A))return T;var W=screen.logicalXDPI/screen.deviceXDPI,z=screen.logicalYDPI/screen.deviceYDPI;return{left:T.left*W,right:T.right*W,top:T.top*z,bottom:T.bottom*z}}function zb(A){if(A.measure&&(A.measure.cache={},A.measure.heights=null,A.rest))for(var T=0;T<A.rest.length;T++)A.measure.caches[T]={}}function Wb(A){A.display.externalMeasure=null,ye(A.display.lineMeasure);for(var T=0;T<A.display.view.length;T++)zb(A.display.view[T])}function jf(A){Wb(A),A.display.cachedCharWidth=A.display.cachedTextHeight=A.display.cachedPaddingH=null,A.options.lineWrapping||(A.display.maxLineChanged=!0),A.display.lineNumChars=null}function Qh(){return k&&U?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Qb(){return k&&U?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function G1(A){var T=Ya(A),W=T.widgets,z=0;if(W)for(var te=0;te<W.length;++te)W[te].above&&(z+=Wh(W[te]));return z}function xc(A,T,W,z,te){if(!te){var pe=G1(T);W.top+=pe,W.bottom+=pe}if(z=="line")return W;z||(z="local");var Le=ef(T);if(z=="local"?Le+=w2(A.display):Le-=A.display.viewOffset,z=="page"||z=="window"){var je=A.display.lineSpace.getBoundingClientRect();Le+=je.top+(z=="window"?0:Qb());var rt=je.left+(z=="window"?0:Qh());W.left+=rt,W.right+=rt}return W.top+=Le,W.bottom+=Le,W}function z1(A,T,W){if(W=="div")return T;var z=T.left,te=T.top;if(W=="page")z-=Qh(),te-=Qb();else if(W=="local"||!W){var pe=A.display.sizer.getBoundingClientRect();z+=pe.left,te+=pe.top}var Le=A.display.lineSpace.getBoundingClientRect();return{left:z-Le.left,top:te-Le.top}}function Gf(A,T,W,z,te){return z||(z=Ti(A.doc,T.line)),xc(A,z,Vb(A,z,T.ch,te),W)}function Ka(A,T,W,z,te,pe){z=z||Ti(A.doc,T.line),te||(te=Ac(A,z));function Le(zr,Zr){var ci=Il(A,te,zr,Zr?"right":"left",pe);return Zr?ci.left=ci.right:ci.right=ci.left,xc(A,z,ci,W)}var je=gt(z,A.doc.direction),rt=T.ch,ht=T.sticky;if(rt>=z.text.length?(rt=z.text.length,ht="before"):rt<=0&&(rt=0,ht="after"),!je)return Le(ht=="before"?rt-1:rt,ht=="before");function Ft(zr,Zr,ci){var xi=je[Zr],Ri=xi.level==1;return Le(ci?zr-1:zr,Ri!=ci)}var Yt=De(je,rt,ht),wr=nt,hr=Ft(rt,Yt,ht=="before");return wr!=null&&(hr.other=Ft(rt,wr,ht!="before")),hr}function A2(A,T){var W=0;T=Ci(A.doc,T),A.options.lineWrapping||(W=en(A.display)*T.ch);var z=Ti(A.doc,T.line),te=ef(z)+w2(A.display);return{left:W,right:W,top:te,bottom:te+z.height}}function W1(A,T,W,z,te){var pe=ii(A,T,W);return pe.xRel=te,z&&(pe.outside=z),pe}function $a(A,T,W){var z=A.doc;if(W+=A.display.viewOffset,W<0)return W1(z.first,0,null,-1,-1);var te=$0(z,W),pe=z.first+z.size-1;if(te>pe)return W1(z.first+z.size-1,Ti(z,pe).text.length,null,1,1);T<0&&(T=0);for(var Le=Ti(z,te);;){var je=$A(A,Le,te,T,W),rt=SA(Le,je.ch+(je.xRel>0||je.outside>0?1:0));if(!rt)return je;var ht=rt.find(1);if(ht.line==te)return ht;Le=Ti(z,te=ht.line)}}function ms(A,T,W,z){z-=G1(T);var te=T.text.length,pe=ir(function(Le){return Il(A,W,Le-1).bottom<=z},te,0);return te=ir(function(Le){return Il(A,W,Le).top>z},pe,te),{begin:pe,end:te}}function Zo(A,T,W,z){W||(W=Ac(A,T));var te=xc(A,T,Il(A,W,z),"line").top;return ms(A,T,W,te)}function Jh(A,T,W,z){return A.bottom<=W?!1:A.top>W?!0:(z?A.left:A.right)>T}function $A(A,T,W,z,te){te-=ef(T);var pe=Ac(A,T),Le=G1(T),je=0,rt=T.text.length,ht=!0,Ft=gt(T,A.doc.direction);if(Ft){var Yt=(A.options.lineWrapping?t6:e6)(A,T,W,pe,Ft,z,te);ht=Yt.level!=1,je=ht?Yt.from:Yt.to-1,rt=ht?Yt.to:Yt.from-1}var wr=null,hr=null,zr=ir(function(an){var Zi=Il(A,pe,an);return Zi.top+=Le,Zi.bottom+=Le,Jh(Zi,z,te,!1)?(Zi.top<=te&&Zi.left<=z&&(wr=an,hr=Zi),!0):!1},je,rt),Zr,ci,xi=!1;if(hr){var Ri=z-hr.left<hr.right-z,Ai=Ri==ht;zr=wr+(Ai?0:1),ci=Ai?"after":"before",Zr=Ri?hr.left:hr.right}else{!ht&&(zr==rt||zr==je)&&zr++,ci=zr==0?"after":zr==T.text.length?"before":Il(A,pe,zr-(ht?1:0)).bottom+Le<=te==ht?"after":"before";var Hi=Ka(A,ii(W,zr,ci),"line",T,pe);Zr=Hi.left,xi=te<Hi.top?-1:te>=Hi.bottom?1:0}return zr=Ut(T.text,zr,1),W1(W,zr,ci,xi,z-Zr)}function e6(A,T,W,z,te,pe,Le){var je=ir(function(Yt){var wr=te[Yt],hr=wr.level!=1;return Jh(Ka(A,ii(W,hr?wr.to:wr.from,hr?"before":"after"),"line",T,z),pe,Le,!0)},0,te.length-1),rt=te[je];if(je>0){var ht=rt.level!=1,Ft=Ka(A,ii(W,ht?rt.from:rt.to,ht?"after":"before"),"line",T,z);Jh(Ft,pe,Le,!0)&&Ft.top>Le&&(rt=te[je-1])}return rt}function t6(A,T,W,z,te,pe,Le){var je=ms(A,T,z,Le),rt=je.begin,ht=je.end;/\s/.test(T.text.charAt(ht-1))&&ht--;for(var Ft=null,Yt=null,wr=0;wr<te.length;wr++){var hr=te[wr];if(!(hr.from>=ht||hr.to<=rt)){var zr=hr.level!=1,Zr=Il(A,z,zr?Math.min(ht,hr.to)-1:Math.max(rt,hr.from)).right,ci=Zr<pe?pe-Zr+1e9:Zr-pe;(!Ft||Yt>ci)&&(Ft=hr,Yt=ci)}}return Ft||(Ft=te[te.length-1]),Ft.from<rt&&(Ft={from:rt,to:Ft.to,level:Ft.level}),Ft.to>ht&&(Ft={from:Ft.from,to:ht,level:Ft.level}),Ft}var Iu;function Ec(A){if(A.cachedTextHeight!=null)return A.cachedTextHeight;if(Iu==null){Iu=xe("pre",null,"CodeMirror-line-like");for(var T=0;T<49;++T)Iu.appendChild(document.createTextNode("x")),Iu.appendChild(xe("br"));Iu.appendChild(document.createTextNode("x"))}de(A.measure,Iu);var W=Iu.offsetHeight/50;return W>3&&(A.cachedTextHeight=W),ye(A.measure),W||1}function en(A){if(A.cachedCharWidth!=null)return A.cachedCharWidth;var T=xe("span","xxxxxxxxxx"),W=xe("pre",[T],"CodeMirror-line-like");de(A.measure,W);var z=T.getBoundingClientRect(),te=(z.right-z.left)/10;return te>2&&(A.cachedCharWidth=te),te||10}function _c(A){for(var T=A.display,W={},z={},te=T.gutters.clientLeft,pe=T.gutters.firstChild,Le=0;pe;pe=pe.nextSibling,++Le){var je=A.display.gutterSpecs[Le].className;W[je]=pe.offsetLeft+pe.clientLeft+te,z[je]=pe.clientWidth}return{fixedPos:kc(T),gutterTotalWidth:T.gutters.offsetWidth,gutterLeft:W,gutterWidth:z,wrapperWidth:T.wrapper.clientWidth}}function kc(A){return A.scroller.getBoundingClientRect().left-A.sizer.getBoundingClientRect().left}function Xh(A){var T=Ec(A.display),W=A.options.lineWrapping,z=W&&Math.max(5,A.display.scroller.clientWidth/en(A.display)-3);return function(te){if(Vf(A.doc,te))return 0;var pe=0;if(te.widgets)for(var Le=0;Le<te.widgets.length;Le++)te.widgets[Le].height&&(pe+=te.widgets[Le].height);return W?pe+(Math.ceil(te.text.length/z)||1)*T:pe+T}}function zf(A){var T=A.doc,W=Xh(A);T.iter(function(z){var te=W(z);te!=z.height&&os(z,te)})}function el(A,T,W,z){var te=A.display;if(!W&&Ke(T).getAttribute("cm-not-content")=="true")return null;var pe,Le,je=te.lineSpace.getBoundingClientRect();try{pe=T.clientX-je.left,Le=T.clientY-je.top}catch{return null}var rt=$a(A,pe,Le),ht;if(z&&rt.xRel>0&&(ht=Ti(A.doc,rt.line).text).length==rt.ch){var Ft=ce(ht,ht.length,A.options.tabSize)-ht.length;rt=ii(rt.line,Math.max(0,Math.round((pe-Hb(A.display).left)/en(A.display))-Ft))}return rt}function Gs(A,T){if(T>=A.display.viewTo||(T-=A.display.viewFrom,T<0))return null;for(var W=A.display.view,z=0;z<W.length;z++)if(T-=W[z].size,T<0)return z}function zn(A,T,W,z){T==null&&(T=A.doc.first),W==null&&(W=A.doc.first+A.doc.size),z||(z=0);var te=A.display;if(z&&W<te.viewTo&&(te.updateLineNumbers==null||te.updateLineNumbers>T)&&(te.updateLineNumbers=T),A.curOp.viewChanged=!0,T>=te.viewTo)$l&&N1(A.doc,T)<te.viewTo&&f0(A);else if(W<=te.viewFrom)$l&&Mb(A.doc,W+z)>te.viewFrom?f0(A):(te.viewFrom+=z,te.viewTo+=z);else if(T<=te.viewFrom&&W>=te.viewTo)f0(A);else if(T<=te.viewFrom){var pe=Xn(A,W,W+z,1);pe?(te.view=te.view.slice(pe.index),te.viewFrom=pe.lineN,te.viewTo+=z):f0(A)}else if(W>=te.viewTo){var Le=Xn(A,T,T,-1);Le?(te.view=te.view.slice(0,Le.index),te.viewTo=Le.lineN):f0(A)}else{var je=Xn(A,T,T,-1),rt=Xn(A,W,W+z,1);je&&rt?(te.view=te.view.slice(0,je.index).concat(v2(A,je.lineN,rt.lineN)).concat(te.view.slice(rt.index)),te.viewTo+=z):f0(A)}var ht=te.externalMeasured;ht&&(W<ht.lineN?ht.lineN+=z:T<ht.lineN+ht.size&&(te.externalMeasured=null))}function v0(A,T,W){A.curOp.viewChanged=!0;var z=A.display,te=A.display.externalMeasured;if(te&&T>=te.lineN&&T<te.lineN+te.size&&(z.externalMeasured=null),!(T<z.viewFrom||T>=z.viewTo)){var pe=z.view[Gs(A,T)];if(pe.node!=null){var Le=pe.changes||(pe.changes=[]);ot(Le,W)==-1&&Le.push(W)}}}function f0(A){A.display.viewFrom=A.display.viewTo=A.doc.first,A.display.view=[],A.display.viewOffset=0}function Xn(A,T,W,z){var te=Gs(A,T),pe,Le=A.display.view;if(!$l||W==A.doc.first+A.doc.size)return{index:te,lineN:W};for(var je=A.display.viewFrom,rt=0;rt<te;rt++)je+=Le[rt].size;if(je!=T){if(z>0){if(te==Le.length-1)return null;pe=je+Le[te].size-T,te++}else pe=je-T;T+=pe,W+=pe}for(;N1(A.doc,W)!=W;){if(te==(z<0?0:Le.length-1))return null;W+=z*Le[te-(z<0?1:0)].size,te+=z}return{index:te,lineN:W}}function aa(A,T,W){var z=A.display,te=z.view;te.length==0||T>=z.viewTo||W<=z.viewFrom?(z.view=v2(A,T,W),z.viewFrom=T):(z.viewFrom>T?z.view=v2(A,T,z.viewFrom).concat(z.view):z.viewFrom<T&&(z.view=z.view.slice(Gs(A,T))),z.viewFrom=T,z.viewTo<W?z.view=z.view.concat(v2(A,z.viewTo,W)):z.viewTo>W&&(z.view=z.view.slice(0,Gs(A,W)))),z.viewTo=W}function To(A){for(var T=A.display.view,W=0,z=0;z<T.length;z++){var te=T[z];!te.hidden&&(!te.node||te.changes)&&++W}return W}function la(A){A.display.input.showSelection(A.display.input.prepareSelection())}function to(A,T){T===void 0&&(T=!0);var W=A.doc,z={},te=z.cursors=document.createDocumentFragment(),pe=z.selection=document.createDocumentFragment(),Le=A.options.$customCursor;Le&&(T=!0);for(var je=0;je<W.sel.ranges.length;je++)if(!(!T&&je==W.sel.primIndex)){var rt=W.sel.ranges[je];if(!(rt.from().line>=A.display.viewTo||rt.to().line<A.display.viewFrom)){var ht=rt.empty();if(Le){var Ft=Le(A,rt);Ft&&P0(A,Ft,te)}else(ht||A.options.showCursorWhenSelecting)&&P0(A,rt.head,te);ht||Ll(A,rt,pe)}}return z}function P0(A,T,W){var z=Ka(A,T,"div",null,null,!A.options.singleCursorHeightPerLine),te=W.appendChild(xe("div","\xA0","CodeMirror-cursor"));if(te.style.left=z.left+"px",te.style.top=z.top+"px",te.style.height=Math.max(0,z.bottom-z.top)*A.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(A.getWrapperElement().className)){var pe=Gf(A,T,"div",null,null),Le=pe.right-pe.left;te.style.width=(Le>0?Le:A.defaultCharWidth())+"px"}if(z.other){var je=W.appendChild(xe("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));je.style.display="",je.style.left=z.other.left+"px",je.style.top=z.other.top+"px",je.style.height=(z.other.bottom-z.other.top)*.85+"px"}}function Fa(A,T){return A.top-T.top||A.left-T.left}function Ll(A,T,W){var z=A.display,te=A.doc,pe=document.createDocumentFragment(),Le=Hb(A.display),je=Le.left,rt=Math.max(z.sizerWidth,Bu(A)-z.sizer.offsetLeft)-Le.right,ht=te.direction=="ltr";function Ft(Ai,Hi,an,Zi){Hi<0&&(Hi=0),Hi=Math.round(Hi),Zi=Math.round(Zi),pe.appendChild(xe("div",null,"CodeMirror-selected","position: absolute; left: "+Ai+`px;
                             top: `+Hi+"px; width: "+(an==null?rt-Ai:an)+`px;
                             height: `+(Zi-Hi)+"px"))}function Yt(Ai,Hi,an){var Zi=Ti(te,Ai),Nn=Zi.text.length,z0,Qs;function cs(Ss,No){return Gf(A,ii(Ai,Ss),"div",Zi,No)}function ts(Ss,No,rs){var Ls=Zo(A,Zi,null,Ss),Ps=No=="ltr"==(rs=="after")?"left":"right",ys=rs=="after"?Ls.begin:Ls.end-(/\s/.test(Zi.text.charAt(Ls.end-1))?2:1);return cs(ys,Ps)[Ps]}var Ko=gt(Zi,te.direction);return vr(Ko,Hi||0,an==null?Nn:an,function(Ss,No,rs,Ls){var Ps=rs=="ltr",ys=cs(Ss,Ps?"left":"right"),Fo=cs(No-1,Ps?"right":"left"),Uc=Hi==null&&Ss==0,xa=an==null&&No==Nn,Mo=Ls==0,Ea=!Ko||Ls==Ko.length-1;if(Fo.top-ys.top<=3){var Y0=(ht?Uc:xa)&&Mo,U2=(ht?xa:Uc)&&Ea,lf=Y0?je:(Ps?ys:Fo).left,Tn=U2?rt:(Ps?Fo:ys).right;Ft(lf,ys.top,Tn-lf,ys.bottom)}else{var Yf,Oo,V0,Cm;Ps?(Yf=ht&&Uc&&Mo?je:ys.left,Oo=ht?rt:ts(Ss,rs,"before"),V0=ht?je:ts(No,rs,"after"),Cm=ht&&xa&&Ea?rt:Fo.right):(Yf=ht?ts(Ss,rs,"before"):je,Oo=!ht&&Uc&&Mo?rt:ys.right,V0=!ht&&xa&&Ea?je:Fo.left,Cm=ht?ts(No,rs,"after"):rt),Ft(Yf,ys.top,Oo-Yf,ys.bottom),ys.bottom<Fo.top&&Ft(je,ys.bottom,null,Fo.top),Ft(V0,Fo.top,Cm-V0,Fo.bottom)}(!z0||Fa(ys,z0)<0)&&(z0=ys),Fa(Fo,z0)<0&&(z0=Fo),(!Qs||Fa(ys,Qs)<0)&&(Qs=ys),Fa(Fo,Qs)<0&&(Qs=Fo)}),{start:z0,end:Qs}}var wr=T.from(),hr=T.to();if(wr.line==hr.line)Yt(wr.line,wr.ch,hr.ch);else{var zr=Ti(te,wr.line),Zr=Ti(te,hr.line),ci=Ya(zr)==Ya(Zr),xi=Yt(wr.line,wr.ch,ci?zr.text.length+1:null).end,Ri=Yt(hr.line,ci?0:null,hr.ch).start;ci&&(xi.top<Ri.top-2?(Ft(xi.right,xi.top,null,xi.bottom),Ft(je,Ri.top,Ri.left,Ri.bottom)):Ft(xi.right,xi.top,Ri.left-xi.right,xi.bottom)),xi.bottom<Ri.top&&Ft(je,xi.bottom,null,Ri.top)}W.appendChild(pe)}function Oe(A){if(!!A.state.focused){var T=A.display;clearInterval(T.blinker);var W=!0;T.cursorDiv.style.visibility="",A.options.cursorBlinkRate>0?T.blinker=setInterval(function(){A.hasFocus()||Y(A),T.cursorDiv.style.visibility=(W=!W)?"":"hidden"},A.options.cursorBlinkRate):A.options.cursorBlinkRate<0&&(T.cursorDiv.style.visibility="hidden")}}function Ye(A){A.hasFocus()||(A.display.input.focus(),A.state.focused||qt(A))}function vt(A){A.state.delayingBlurEvent=!0,setTimeout(function(){A.state.delayingBlurEvent&&(A.state.delayingBlurEvent=!1,A.state.focused&&Y(A))},100)}function qt(A,T){A.state.delayingBlurEvent&&!A.state.draggingText&&(A.state.delayingBlurEvent=!1),A.options.readOnly!="nocursor"&&(A.state.focused||(Ct(A,"focus",A,T),A.state.focused=!0,Re(A.display.wrapper,"CodeMirror-focused"),!A.curOp&&A.display.selForContextMenu!=A.doc.sel&&(A.display.input.reset(),E&&setTimeout(function(){return A.display.input.reset(!0)},20)),A.display.input.receivedFocus()),Oe(A))}function Y(A,T){A.state.delayingBlurEvent||(A.state.focused&&(Ct(A,"blur",A,T),A.state.focused=!1,ae(A.display.wrapper,"CodeMirror-focused")),clearInterval(A.display.blinker),setTimeout(function(){A.state.focused||(A.display.shift=!1)},150))}function hi(A){for(var T=A.display,W=T.lineDiv.offsetTop,z=Math.max(0,T.scroller.getBoundingClientRect().top),te=T.lineDiv.getBoundingClientRect().top,pe=0,Le=0;Le<T.view.length;Le++){var je=T.view[Le],rt=A.options.lineWrapping,ht=void 0,Ft=0;if(!je.hidden){if(te+=je.line.height,y&&v<8){var Yt=je.node.offsetTop+je.node.offsetHeight;ht=Yt-W,W=Yt}else{var wr=je.node.getBoundingClientRect();ht=wr.bottom-wr.top,!rt&&je.text.firstChild&&(Ft=je.text.firstChild.getBoundingClientRect().right-wr.left-1)}var hr=je.line.height-ht;if((hr>.005||hr<-.005)&&(te<z&&(pe-=hr),os(je.line,ht),Or(je.line),je.rest))for(var zr=0;zr<je.rest.length;zr++)Or(je.rest[zr]);if(Ft>A.display.sizerWidth){var Zr=Math.ceil(Ft/en(A.display));Zr>A.display.maxLineLength&&(A.display.maxLineLength=Zr,A.display.maxLine=je.line,A.display.maxLineChanged=!0)}}}Math.abs(pe)>2&&(T.scroller.scrollTop+=pe)}function Or(A){if(A.widgets)for(var T=0;T<A.widgets.length;++T){var W=A.widgets[T],z=W.node.parentNode;z&&(W.height=z.offsetHeight)}}function Ni(A,T,W){var z=W&&W.top!=null?Math.max(0,W.top):A.scroller.scrollTop;z=Math.floor(z-w2(A));var te=W&&W.bottom!=null?W.bottom:z+A.wrapper.clientHeight,pe=$0(T,z),Le=$0(T,te);if(W&&W.ensure){var je=W.ensure.from.line,rt=W.ensure.to.line;je<pe?(pe=je,Le=$0(T,ef(Ti(T,je))+A.wrapper.clientHeight)):Math.min(rt,T.lastLine())>=Le&&(pe=$0(T,ef(Ti(T,rt))-A.wrapper.clientHeight),Le=rt)}return{from:pe,to:Math.max(Le,pe+1)}}function e(A,T){if(!Nt(A,"scrollCursorIntoView")){var W=A.display,z=W.sizer.getBoundingClientRect(),te=null;if(T.top+z.top<0?te=!0:T.bottom+z.top>(window.innerHeight||document.documentElement.clientHeight)&&(te=!1),te!=null&&!F){var pe=xe("div","\u200B",null,`position: absolute;
                         top: `+(T.top-W.viewOffset-w2(A.display))+`px;
                         height: `+(T.bottom-T.top+Bl(A)+W.barHeight)+`px;
                         left: `+T.left+"px; width: "+Math.max(2,T.right-T.left)+"px;");A.display.lineSpace.appendChild(pe),pe.scrollIntoView(te),A.display.lineSpace.removeChild(pe)}}}function gs(A,T,W,z){z==null&&(z=0);var te;!A.options.lineWrapping&&T==W&&(W=T.sticky=="before"?ii(T.line,T.ch+1,"before"):T,T=T.ch?ii(T.line,T.sticky=="before"?T.ch-1:T.ch,"after"):T);for(var pe=0;pe<5;pe++){var Le=!1,je=Ka(A,T),rt=!W||W==T?je:Ka(A,W);te={left:Math.min(je.left,rt.left),top:Math.min(je.top,rt.top)-z,right:Math.max(je.left,rt.left),bottom:Math.max(je.bottom,rt.bottom)+z};var ht=tl(A,te),Ft=A.doc.scrollTop,Yt=A.doc.scrollLeft;if(ht.scrollTop!=null&&(Lu(A,ht.scrollTop),Math.abs(A.doc.scrollTop-Ft)>1&&(Le=!0)),ht.scrollLeft!=null&&(En(A,ht.scrollLeft),Math.abs(A.doc.scrollLeft-Yt)>1&&(Le=!0)),!Le)break}return te}function br(A,T){var W=tl(A,T);W.scrollTop!=null&&Lu(A,W.scrollTop),W.scrollLeft!=null&&En(A,W.scrollLeft)}function tl(A,T){var W=A.display,z=Ec(A.display);T.top<0&&(T.top=0);var te=A.curOp&&A.curOp.scrollTop!=null?A.curOp.scrollTop:W.scroller.scrollTop,pe=V1(A),Le={};T.bottom-T.top>pe&&(T.bottom=T.top+pe);var je=A.doc.height+U1(W),rt=T.top<z,ht=T.bottom>je-z;if(T.top<te)Le.scrollTop=rt?0:T.top;else if(T.bottom>te+pe){var Ft=Math.min(T.top,(ht?je:T.bottom)-pe);Ft!=te&&(Le.scrollTop=Ft)}var Yt=A.options.fixedGutter?0:W.gutters.offsetWidth,wr=A.curOp&&A.curOp.scrollLeft!=null?A.curOp.scrollLeft:W.scroller.scrollLeft-Yt,hr=Bu(A)-W.gutters.offsetWidth,zr=T.right-T.left>hr;return zr&&(T.right=T.left+hr),T.left<10?Le.scrollLeft=0:T.left<wr?Le.scrollLeft=Math.max(0,T.left+Yt-(zr?0:10)):T.right>hr+wr-3&&(Le.scrollLeft=T.right+(zr?0:10)-hr),Le}function fa(A,T){T!=null&&(qh(A),A.curOp.scrollTop=(A.curOp.scrollTop==null?A.doc.scrollTop:A.curOp.scrollTop)+T)}function rf(A){qh(A);var T=A.getCursor();A.curOp.scrollToPos={from:T,to:T,margin:A.options.cursorScrollMargin}}function Cc(A,T,W){(T!=null||W!=null)&&qh(A),T!=null&&(A.curOp.scrollLeft=T),W!=null&&(A.curOp.scrollTop=W)}function bi(A,T){qh(A),A.curOp.scrollToPos=T}function qh(A){var T=A.curOp.scrollToPos;if(T){A.curOp.scrollToPos=null;var W=A2(A,T.from),z=A2(A,T.to);N0(A,W,z,T.margin)}}function N0(A,T,W,z){var te=tl(A,{left:Math.min(T.left,W.left),top:Math.min(T.top,W.top)-z,right:Math.max(T.right,W.right),bottom:Math.max(T.bottom,W.bottom)+z});Cc(A,te.scrollLeft,te.scrollTop)}function Lu(A,T){Math.abs(A.doc.scrollTop-T)<2||(r||J1(A,{top:T}),x2(A,T,!0),r&&J1(A),Zh(A,100))}function x2(A,T,W){T=Math.max(0,Math.min(A.display.scroller.scrollHeight-A.display.scroller.clientHeight,T)),!(A.display.scroller.scrollTop==T&&!W)&&(A.doc.scrollTop=T,A.display.scrollbars.setScrollTop(T),A.display.scroller.scrollTop!=T&&(A.display.scroller.scrollTop=T))}function En(A,T,W,z){T=Math.max(0,Math.min(T,A.display.scroller.scrollWidth-A.display.scroller.clientWidth)),!((W?T==A.doc.scrollLeft:Math.abs(A.doc.scrollLeft-T)<2)&&!z)&&(A.doc.scrollLeft=T,_2(A),A.display.scroller.scrollLeft!=T&&(A.display.scroller.scrollLeft=T),A.display.scrollbars.setScrollLeft(T))}function q(A){var T=A.display,W=T.gutters.offsetWidth,z=Math.round(A.doc.height+U1(A.display));return{clientHeight:T.scroller.clientHeight,viewHeight:T.wrapper.clientHeight,scrollWidth:T.scroller.scrollWidth,clientWidth:T.scroller.clientWidth,viewWidth:T.wrapper.clientWidth,barLeft:A.options.fixedGutter?W:0,docHeight:z,scrollHeight:z+Bl(A)+T.barHeight,nativeBarWidth:T.nativeBarWidth,gutterWidth:W}}var Pl=function(A,T,W){this.cm=W;var z=this.vert=xe("div",[xe("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),te=this.horiz=xe("div",[xe("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");z.tabIndex=te.tabIndex=-1,A(z),A(te),Bt(z,"scroll",function(){z.clientHeight&&T(z.scrollTop,"vertical")}),Bt(te,"scroll",function(){te.clientWidth&&T(te.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,y&&v<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Pl.prototype.update=function(A){var T=A.scrollWidth>A.clientWidth+1,W=A.scrollHeight>A.clientHeight+1,z=A.nativeBarWidth;if(W){this.vert.style.display="block",this.vert.style.bottom=T?z+"px":"0";var te=A.viewHeight-(T?z:0);this.vert.firstChild.style.height=Math.max(0,A.scrollHeight-A.clientHeight+te)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(T){this.horiz.style.display="block",this.horiz.style.right=W?z+"px":"0",this.horiz.style.left=A.barLeft+"px";var pe=A.viewWidth-A.barLeft-(W?z:0);this.horiz.firstChild.style.width=Math.max(0,A.scrollWidth-A.clientWidth+pe)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&A.clientHeight>0&&(z==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:W?z:0,bottom:T?z:0}},Pl.prototype.setScrollLeft=function(A){this.horiz.scrollLeft!=A&&(this.horiz.scrollLeft=A),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Pl.prototype.setScrollTop=function(A){this.vert.scrollTop!=A&&(this.vert.scrollTop=A),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Pl.prototype.zeroWidthHack=function(){var A=K&&!M?"12px":"18px";this.horiz.style.height=this.vert.style.width=A,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Me,this.disableVert=new Me},Pl.prototype.enableZeroWidthBar=function(A,T,W){A.style.pointerEvents="auto";function z(){var te=A.getBoundingClientRect(),pe=W=="vert"?document.elementFromPoint(te.right-1,(te.top+te.bottom)/2):document.elementFromPoint((te.right+te.left)/2,te.bottom-1);pe!=A?A.style.pointerEvents="none":T.set(1e3,z)}T.set(1e3,z)},Pl.prototype.clear=function(){var A=this.horiz.parentNode;A.removeChild(this.horiz),A.removeChild(this.vert)};var nf=function(){};nf.prototype.update=function(){return{bottom:0,right:0}},nf.prototype.setScrollLeft=function(){},nf.prototype.setScrollTop=function(){},nf.prototype.clear=function(){};function Sc(A,T){T||(T=q(A));var W=A.display.barWidth,z=A.display.barHeight;Ze(A,T);for(var te=0;te<4&&W!=A.display.barWidth||z!=A.display.barHeight;te++)W!=A.display.barWidth&&A.options.lineWrapping&&hi(A),Ze(A,q(A)),W=A.display.barWidth,z=A.display.barHeight}function Ze(A,T){var W=A.display,z=W.scrollbars.update(T);W.sizer.style.paddingRight=(W.barWidth=z.right)+"px",W.sizer.style.paddingBottom=(W.barHeight=z.bottom)+"px",W.heightForcer.style.borderBottom=z.bottom+"px solid transparent",z.right&&z.bottom?(W.scrollbarFiller.style.display="block",W.scrollbarFiller.style.height=z.bottom+"px",W.scrollbarFiller.style.width=z.right+"px"):W.scrollbarFiller.style.display="",z.bottom&&A.options.coverGutterNextToScrollbar&&A.options.fixedGutter?(W.gutterFiller.style.display="block",W.gutterFiller.style.height=z.bottom+"px",W.gutterFiller.style.width=T.gutterWidth+"px"):W.gutterFiller.style.display=""}var bn={native:Pl,null:nf};function u0(A){A.display.scrollbars&&(A.display.scrollbars.clear(),A.display.scrollbars.addClass&&ae(A.display.wrapper,A.display.scrollbars.addClass)),A.display.scrollbars=new bn[A.options.scrollbarStyle](function(T){A.display.wrapper.insertBefore(T,A.display.scrollbarFiller),Bt(T,"mousedown",function(){A.state.focused&&setTimeout(function(){return A.display.input.focus()},0)}),T.setAttribute("cm-not-content","true")},function(T,W){W=="horizontal"?En(A,T):Lu(A,T)},A),A.display.scrollbars.addClass&&Re(A.display.wrapper,A.display.scrollbars.addClass)}var yi=0;function _r(A){A.curOp={cm:A,viewChanged:!1,startHeight:A.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++yi,markArrays:null},HA(A.curOp)}function n0(A){var T=A.curOp;T&&VA(T,function(W){for(var z=0;z<W.ops.length;z++)W.ops[z].cm.curOp=null;S0(W)})}function S0(A){for(var T=A.ops,W=0;W<T.length;W++)Zt(T[W]);for(var z=0;z<T.length;z++)rl(T[z]);for(var te=0;te<T.length;te++)r6(T[te]);for(var pe=0;pe<T.length;pe++)i6(T[pe]);for(var Le=0;Le<T.length;Le++)n6(T[Le])}function Zt(A){var T=A.cm,W=T.display;Xb(T),A.updateMaxLine&&O1(T),A.mustUpdate=A.viewChanged||A.forceUpdate||A.scrollTop!=null||A.scrollToPos&&(A.scrollToPos.from.line<W.viewFrom||A.scrollToPos.to.line>=W.viewTo)||W.maxLineChanged&&T.options.lineWrapping,A.update=A.mustUpdate&&new E2(T,A.mustUpdate&&{top:A.scrollTop,ensure:A.scrollToPos},A.forceUpdate)}function rl(A){A.updatedDisplay=A.mustUpdate&&Q1(A.cm,A.update)}function r6(A){var T=A.cm,W=T.display;A.updatedDisplay&&hi(T),A.barMeasure=q(T),W.maxLineChanged&&!T.options.lineWrapping&&(A.adjustWidthTo=Vb(T,W.maxLine,W.maxLine.text.length).left+3,T.display.sizerWidth=A.adjustWidthTo,A.barMeasure.scrollWidth=Math.max(W.scroller.clientWidth,W.sizer.offsetLeft+A.adjustWidthTo+Bl(T)+T.display.barWidth),A.maxScrollLeft=Math.max(0,W.sizer.offsetLeft+A.adjustWidthTo-Bu(T))),(A.updatedDisplay||A.selectionChanged)&&(A.preparedSelection=W.input.prepareSelection())}function i6(A){var T=A.cm;A.adjustWidthTo!=null&&(T.display.sizer.style.minWidth=A.adjustWidthTo+"px",A.maxScrollLeft<T.doc.scrollLeft&&En(T,Math.min(T.display.scroller.scrollLeft,A.maxScrollLeft),!0),T.display.maxLineChanged=!1);var W=A.focus&&A.focus==me();A.preparedSelection&&T.display.input.showSelection(A.preparedSelection,W),(A.updatedDisplay||A.startHeight!=T.doc.height)&&Sc(T,A.barMeasure),A.updatedDisplay&&X1(T,A.barMeasure),A.selectionChanged&&Oe(T),T.state.focused&&A.updateInput&&T.display.input.reset(A.typing),W&&Ye(A.cm)}function n6(A){var T=A.cm,W=T.display,z=T.doc;if(A.updatedDisplay&&qb(T,A.update),W.wheelStartX!=null&&(A.scrollTop!=null||A.scrollLeft!=null||A.scrollToPos)&&(W.wheelStartX=W.wheelStartY=null),A.scrollTop!=null&&x2(T,A.scrollTop,A.forceScroll),A.scrollLeft!=null&&En(T,A.scrollLeft,!0,!0),A.scrollToPos){var te=gs(T,Ci(z,A.scrollToPos.from),Ci(z,A.scrollToPos.to),A.scrollToPos.margin);e(T,te)}var pe=A.maybeHiddenMarkers,Le=A.maybeUnhiddenMarkers;if(pe)for(var je=0;je<pe.length;++je)pe[je].lines.length||Ct(pe[je],"hide");if(Le)for(var rt=0;rt<Le.length;++rt)Le[rt].lines.length&&Ct(Le[rt],"unhide");W.wrapper.offsetHeight&&(z.scrollTop=T.display.scroller.scrollTop),A.changeObjs&&Ct(T,"changes",T,A.changeObjs),A.update&&A.update.finish()}function An(A,T){if(A.curOp)return T();_r(A);try{return T()}finally{n0(A)}}function ro(A,T){return function(){if(A.curOp)return T.apply(A,arguments);_r(A);try{return T.apply(A,arguments)}finally{n0(A)}}}function yn(A){return function(){if(this.curOp)return A.apply(this,arguments);_r(this);try{return A.apply(this,arguments)}finally{n0(this)}}}function zs(A){return function(){var T=this.cm;if(!T||T.curOp)return A.apply(this,arguments);_r(T);try{return A.apply(this,arguments)}finally{n0(T)}}}function Zh(A,T){A.doc.highlightFrontier<A.display.viewTo&&A.state.highlight.set(T,Qe(Jb,A))}function Jb(A){var T=A.doc;if(!(T.highlightFrontier>=A.display.viewTo)){var W=+new Date+A.options.workTime,z=Vh(A,T.highlightFrontier),te=[];T.iter(z.line,Math.min(T.first+T.size,A.display.viewTo+500),function(pe){if(z.line>=A.display.viewFrom){var Le=pe.styles,je=pe.text.length>A.options.maxHighlightLength?un(T.mode,z.state):null,rt=gb(A,pe,z,!0);je&&(z.state=je),pe.styles=rt.styles;var ht=pe.styleClasses,Ft=rt.classes;Ft?pe.styleClasses=Ft:ht&&(pe.styleClasses=null);for(var Yt=!Le||Le.length!=pe.styles.length||ht!=Ft&&(!ht||!Ft||ht.bgClass!=Ft.bgClass||ht.textClass!=Ft.textClass),wr=0;!Yt&&wr<Le.length;++wr)Yt=Le[wr]!=pe.styles[wr];Yt&&te.push(z.line),pe.stateAfter=z.save(),z.nextLine()}else pe.text.length<=A.options.maxHighlightLength&&B1(A,pe.text,z),pe.stateAfter=z.line%5==0?z.save():null,z.nextLine();if(+new Date>W)return Zh(A,A.options.workDelay),!0}),T.highlightFrontier=z.line,T.modeFrontier=Math.max(T.modeFrontier,z.line),te.length&&An(A,function(){for(var pe=0;pe<te.length;pe++)v0(A,te[pe],"text")})}}var E2=function(A,T,W){var z=A.display;this.viewport=T,this.visible=Ni(z,A.doc,T),this.editorIsHidden=!z.wrapper.offsetWidth,this.wrapperHeight=z.wrapper.clientHeight,this.wrapperWidth=z.wrapper.clientWidth,this.oldDisplayWidth=Bu(A),this.force=W,this.dims=_c(A),this.events=[]};E2.prototype.signal=function(A,T){Sr(A,T)&&this.events.push(arguments)},E2.prototype.finish=function(){for(var A=0;A<this.events.length;A++)Ct.apply(null,this.events[A])};function Xb(A){var T=A.display;!T.scrollbarsClipped&&T.scroller.offsetWidth&&(T.nativeBarWidth=T.scroller.offsetWidth-T.scroller.clientWidth,T.heightForcer.style.height=Bl(A)+"px",T.sizer.style.marginBottom=-T.nativeBarWidth+"px",T.sizer.style.borderRightWidth=Bl(A)+"px",T.scrollbarsClipped=!0)}function s6(A){if(A.hasFocus())return null;var T=me();if(!T||!he(A.display.lineDiv,T))return null;var W={activeElt:T};if(window.getSelection){var z=window.getSelection();z.anchorNode&&z.extend&&he(A.display.lineDiv,z.anchorNode)&&(W.anchorNode=z.anchorNode,W.anchorOffset=z.anchorOffset,W.focusNode=z.focusNode,W.focusOffset=z.focusOffset)}return W}function o6(A){if(!(!A||!A.activeElt||A.activeElt==me())&&(A.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(A.activeElt.nodeName)&&A.anchorNode&&he(document.body,A.anchorNode)&&he(document.body,A.focusNode))){var T=window.getSelection(),W=document.createRange();W.setEnd(A.anchorNode,A.anchorOffset),W.collapse(!1),T.removeAllRanges(),T.addRange(W),T.extend(A.focusNode,A.focusOffset)}}function Q1(A,T){var W=A.display,z=A.doc;if(T.editorIsHidden)return f0(A),!1;if(!T.force&&T.visible.from>=W.viewFrom&&T.visible.to<=W.viewTo&&(W.updateLineNumbers==null||W.updateLineNumbers>=W.viewTo)&&W.renderedView==W.view&&To(A)==0)return!1;Zb(A)&&(f0(A),T.dims=_c(A));var te=z.first+z.size,pe=Math.max(T.visible.from-A.options.viewportMargin,z.first),Le=Math.min(te,T.visible.to+A.options.viewportMargin);W.viewFrom<pe&&pe-W.viewFrom<20&&(pe=Math.max(z.first,W.viewFrom)),W.viewTo>Le&&W.viewTo-Le<20&&(Le=Math.min(te,W.viewTo)),$l&&(pe=N1(A.doc,pe),Le=Mb(A.doc,Le));var je=pe!=W.viewFrom||Le!=W.viewTo||W.lastWrapHeight!=T.wrapperHeight||W.lastWrapWidth!=T.wrapperWidth;aa(A,pe,Le),W.viewOffset=ef(Ti(A.doc,W.viewFrom)),A.display.mover.style.top=W.viewOffset+"px";var rt=To(A);if(!je&&rt==0&&!T.force&&W.renderedView==W.view&&(W.updateLineNumbers==null||W.updateLineNumbers>=W.viewTo))return!1;var ht=s6(A);return rt>4&&(W.lineDiv.style.display="none"),a6(A,W.updateLineNumbers,T.dims),rt>4&&(W.lineDiv.style.display=""),W.renderedView=W.view,o6(ht),ye(W.cursorDiv),ye(W.selectionDiv),W.gutters.style.height=W.sizer.style.minHeight=0,je&&(W.lastWrapHeight=T.wrapperHeight,W.lastWrapWidth=T.wrapperWidth,Zh(A,400)),W.updateLineNumbers=null,!0}function qb(A,T){for(var W=T.viewport,z=!0;;z=!1){if(!z||!A.options.lineWrapping||T.oldDisplayWidth==Bu(A)){if(W&&W.top!=null&&(W={top:Math.min(A.doc.height+U1(A.display)-V1(A),W.top)}),T.visible=Ni(A.display,A.doc,W),T.visible.from>=A.display.viewFrom&&T.visible.to<=A.display.viewTo)break}else z&&(T.visible=Ni(A.display,A.doc,W));if(!Q1(A,T))break;hi(A);var te=q(A);la(A),Sc(A,te),X1(A,te),T.force=!1}T.signal(A,"update",A),(A.display.viewFrom!=A.display.reportedViewFrom||A.display.viewTo!=A.display.reportedViewTo)&&(T.signal(A,"viewportChange",A,A.display.viewFrom,A.display.viewTo),A.display.reportedViewFrom=A.display.viewFrom,A.display.reportedViewTo=A.display.viewTo)}function J1(A,T){var W=new E2(A,T);if(Q1(A,W)){hi(A),qb(A,W);var z=q(A);la(A),Sc(A,z),X1(A,z),W.finish()}}function a6(A,T,W){var z=A.display,te=A.options.lineNumbers,pe=z.lineDiv,Le=pe.firstChild;function je(zr){var Zr=zr.nextSibling;return E&&K&&A.display.currentWheelTarget==zr?zr.style.display="none":zr.parentNode.removeChild(zr),Zr}for(var rt=z.view,ht=z.viewFrom,Ft=0;Ft<rt.length;Ft++){var Yt=rt[Ft];if(!Yt.hidden)if(!Yt.node||Yt.node.parentNode!=pe){var wr=QA(A,Yt,ht,W);pe.insertBefore(wr,Le)}else{for(;Le!=Yt.node;)Le=je(Le);var hr=te&&T!=null&&T<=ht&&Yt.lineNumber;Yt.changes&&(ot(Yt.changes,"gutter")>-1&&(hr=!1),Lb(A,Yt,ht,W)),hr&&(ye(Yt.lineNumber),Yt.lineNumber.appendChild(document.createTextNode($s(A.options,ht)))),Le=Yt.node.nextSibling}ht+=Yt.size}for(;Le;)Le=je(Le)}function vi(A){var T=A.gutters.offsetWidth;A.sizer.style.marginLeft=T+"px",eo(A,"gutterChanged",A)}function X1(A,T){A.display.sizer.style.minHeight=T.docHeight+"px",A.display.heightForcer.style.top=T.docHeight+"px",A.display.gutters.style.height=T.docHeight+A.display.barHeight+Bl(A)+"px"}function _2(A){var T=A.display,W=T.view;if(!(!T.alignWidgets&&(!T.gutters.firstChild||!A.options.fixedGutter))){for(var z=kc(T)-T.scroller.scrollLeft+A.doc.scrollLeft,te=T.gutters.offsetWidth,pe=z+"px",Le=0;Le<W.length;Le++)if(!W[Le].hidden){A.options.fixedGutter&&(W[Le].gutter&&(W[Le].gutter.style.left=pe),W[Le].gutterBackground&&(W[Le].gutterBackground.style.left=pe));var je=W[Le].alignable;if(je)for(var rt=0;rt<je.length;rt++)je[rt].style.left=pe}A.options.fixedGutter&&(T.gutters.style.left=z+te+"px")}}function Zb(A){if(!A.options.lineNumbers)return!1;var T=A.doc,W=$s(A.options,T.first+T.size-1),z=A.display;if(W.length!=z.lineNumChars){var te=z.measure.appendChild(xe("div",[xe("div",W)],"CodeMirror-linenumber CodeMirror-gutter-elt")),pe=te.firstChild.offsetWidth,Le=te.offsetWidth-pe;return z.lineGutter.style.width="",z.lineNumInnerWidth=Math.max(pe,z.lineGutter.offsetWidth-Le)+1,z.lineNumWidth=z.lineNumInnerWidth+Le,z.lineNumChars=z.lineNumInnerWidth?W.length:-1,z.lineGutter.style.width=z.lineNumWidth+"px",vi(A.display),!0}return!1}function q1(A,T){for(var W=[],z=!1,te=0;te<A.length;te++){var pe=A[te],Le=null;if(typeof pe!="string"&&(Le=pe.style,pe=pe.className),pe=="CodeMirror-linenumbers")if(T)z=!0;else continue;W.push({className:pe,style:Le})}return T&&!z&&W.push({className:"CodeMirror-linenumbers",style:null}),W}function Z1(A){var T=A.gutters,W=A.gutterSpecs;ye(T),A.lineGutter=null;for(var z=0;z<W.length;++z){var te=W[z],pe=te.className,Le=te.style,je=T.appendChild(xe("div",null,"CodeMirror-gutter "+pe));Le&&(je.style.cssText=Le),pe=="CodeMirror-linenumbers"&&(A.lineGutter=je,je.style.width=(A.lineNumWidth||1)+"px")}T.style.display=W.length?"":"none",vi(A)}function Yh(A){Z1(A.display),zn(A),_2(A)}function l6(A,T,W,z){var te=this;this.input=W,te.scrollbarFiller=xe("div",null,"CodeMirror-scrollbar-filler"),te.scrollbarFiller.setAttribute("cm-not-content","true"),te.gutterFiller=xe("div",null,"CodeMirror-gutter-filler"),te.gutterFiller.setAttribute("cm-not-content","true"),te.lineDiv=le("div",null,"CodeMirror-code"),te.selectionDiv=xe("div",null,null,"position: relative; z-index: 1"),te.cursorDiv=xe("div",null,"CodeMirror-cursors"),te.measure=xe("div",null,"CodeMirror-measure"),te.lineMeasure=xe("div",null,"CodeMirror-measure"),te.lineSpace=le("div",[te.measure,te.lineMeasure,te.selectionDiv,te.cursorDiv,te.lineDiv],null,"position: relative; outline: none");var pe=le("div",[te.lineSpace],"CodeMirror-lines");te.mover=xe("div",[pe],null,"position: relative"),te.sizer=xe("div",[te.mover],"CodeMirror-sizer"),te.sizerWidth=null,te.heightForcer=xe("div",null,null,"position: absolute; height: "+Se+"px; width: 1px;"),te.gutters=xe("div",null,"CodeMirror-gutters"),te.lineGutter=null,te.scroller=xe("div",[te.sizer,te.heightForcer,te.gutters],"CodeMirror-scroll"),te.scroller.setAttribute("tabIndex","-1"),te.wrapper=xe("div",[te.scrollbarFiller,te.gutterFiller,te.scroller],"CodeMirror"),te.wrapper.setAttribute("translate","no"),y&&v<8&&(te.gutters.style.zIndex=-1,te.scroller.style.paddingRight=0),!E&&!(r&&Z)&&(te.scroller.draggable=!0),A&&(A.appendChild?A.appendChild(te.wrapper):A(te.wrapper)),te.viewFrom=te.viewTo=T.first,te.reportedViewFrom=te.reportedViewTo=T.first,te.view=[],te.renderedView=null,te.externalMeasured=null,te.viewOffset=0,te.lastWrapHeight=te.lastWrapWidth=0,te.updateLineNumbers=null,te.nativeBarWidth=te.barHeight=te.barWidth=0,te.scrollbarsClipped=!1,te.lineNumWidth=te.lineNumInnerWidth=te.lineNumChars=null,te.alignWidgets=!1,te.cachedCharWidth=te.cachedTextHeight=te.cachedPaddingH=null,te.maxLine=null,te.maxLineLength=0,te.maxLineChanged=!1,te.wheelDX=te.wheelDY=te.wheelStartX=te.wheelStartY=null,te.shift=!1,te.selForContextMenu=null,te.activeTouch=null,te.gutterSpecs=q1(z.gutters,z.lineNumbers),Z1(te),W.init(te)}var k2=0,il=null;y?il=-.53:r?il=15:k?il=-.7:B&&(il=-1/3);function Y1(A){var T=A.wheelDeltaX,W=A.wheelDeltaY;return T==null&&A.detail&&A.axis==A.HORIZONTAL_AXIS&&(T=A.detail),W==null&&A.detail&&A.axis==A.VERTICAL_AXIS?W=A.detail:W==null&&(W=A.wheelDelta),{x:T,y:W}}function f6(A){var T=Y1(A);return T.x*=il,T.y*=il,T}function Yb(A,T){var W=Y1(T),z=W.x,te=W.y,pe=il;T.deltaMode===0&&(z=T.deltaX,te=T.deltaY,pe=1);var Le=A.display,je=Le.scroller,rt=je.scrollWidth>je.clientWidth,ht=je.scrollHeight>je.clientHeight;if(!!(z&&rt||te&&ht)){if(te&&K&&E){e:for(var Ft=T.target,Yt=Le.view;Ft!=je;Ft=Ft.parentNode)for(var wr=0;wr<Yt.length;wr++)if(Yt[wr].node==Ft){A.display.currentWheelTarget=Ft;break e}}if(z&&!r&&!R&&pe!=null){te&&ht&&Lu(A,Math.max(0,je.scrollTop+te*pe)),En(A,Math.max(0,je.scrollLeft+z*pe)),(!te||te&&ht)&&gi(T),Le.wheelStartX=null;return}if(te&&pe!=null){var hr=te*pe,zr=A.doc.scrollTop,Zr=zr+Le.wrapper.clientHeight;hr<0?zr=Math.max(0,zr+hr-50):Zr=Math.min(A.doc.height,Zr+hr+50),J1(A,{top:zr,bottom:Zr})}k2<20&&T.deltaMode!==0&&(Le.wheelStartX==null?(Le.wheelStartX=je.scrollLeft,Le.wheelStartY=je.scrollTop,Le.wheelDX=z,Le.wheelDY=te,setTimeout(function(){if(Le.wheelStartX!=null){var ci=je.scrollLeft-Le.wheelStartX,xi=je.scrollTop-Le.wheelStartY,Ri=xi&&Le.wheelDY&&xi/Le.wheelDY||ci&&Le.wheelDX&&ci/Le.wheelDX;Le.wheelStartX=Le.wheelStartY=null,Ri&&(il=(il*k2+Ri)/(k2+1),++k2)}},200)):(Le.wheelDX+=z,Le.wheelDY+=te))}}var co=function(A,T){this.ranges=A,this.primIndex=T};co.prototype.primary=function(){return this.ranges[this.primIndex]},co.prototype.equals=function(A){if(A==this)return!0;if(A.primIndex!=this.primIndex||A.ranges.length!=this.ranges.length)return!1;for(var T=0;T<this.ranges.length;T++){var W=this.ranges[T],z=A.ranges[T];if(!Xt(W.anchor,z.anchor)||!Xt(W.head,z.head))return!1}return!0},co.prototype.deepCopy=function(){for(var A=[],T=0;T<this.ranges.length;T++)A[T]=new x0(Jr(this.ranges[T].anchor),Jr(this.ranges[T].head));return new co(A,this.primIndex)},co.prototype.somethingSelected=function(){for(var A=0;A<this.ranges.length;A++)if(!this.ranges[A].empty())return!0;return!1},co.prototype.contains=function(A,T){T||(T=A);for(var W=0;W<this.ranges.length;W++){var z=this.ranges[W];if(pt(T,z.from())>=0&&pt(A,z.to())<=0)return W}return-1};var x0=function(A,T){this.anchor=A,this.head=T};x0.prototype.from=function(){return dn(this.anchor,this.head)},x0.prototype.to=function(){return ei(this.anchor,this.head)},x0.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Cs(A,T,W){var z=A&&A.options.selectionsMayTouch,te=T[W];T.sort(function(wr,hr){return pt(wr.from(),hr.from())}),W=ot(T,te);for(var pe=1;pe<T.length;pe++){var Le=T[pe],je=T[pe-1],rt=pt(je.to(),Le.from());if(z&&!Le.empty()?rt>0:rt>=0){var ht=dn(je.from(),Le.from()),Ft=ei(je.to(),Le.to()),Yt=je.empty()?Le.from()==Le.head:je.from()==je.head;pe<=W&&--W,T.splice(--pe,2,new x0(Yt?Ft:ht,Yt?ht:Ft))}}return new co(T,W)}function Wf(A,T){return new co([new x0(A,T||A)],0)}function Qf(A){return A.text?ii(A.from.line+A.text.length-1,Ht(A.text).length+(A.text.length==1?A.from.ch:0)):A.to}function Kb(A,T){if(pt(A,T.from)<0)return A;if(pt(A,T.to)<=0)return Qf(T);var W=A.line+T.text.length-(T.to.line-T.from.line)-1,z=A.ch;return A.line==T.to.line&&(z+=Qf(T).ch-T.to.ch),ii(W,z)}function K1(A,T){for(var W=[],z=0;z<A.sel.ranges.length;z++){var te=A.sel.ranges[z];W.push(new x0(Kb(te.anchor,T),Kb(te.head,T)))}return Cs(A.cm,W,A.sel.primIndex)}function $b(A,T,W){return A.line==T.line?ii(W.line,A.ch-T.ch+W.ch):ii(W.line+(A.line-T.line),A.ch)}function u6(A,T,W){for(var z=[],te=ii(A.first,0),pe=te,Le=0;Le<T.length;Le++){var je=T[Le],rt=$b(je.from,te,pe),ht=$b(Qf(je),te,pe);if(te=je.to,pe=ht,W=="around"){var Ft=A.sel.ranges[Le],Yt=pt(Ft.head,Ft.anchor)<0;z[Le]=new x0(Yt?ht:rt,Yt?rt:ht)}else z[Le]=new x0(rt,rt)}return new co(z,A.sel.primIndex)}function $1(A){A.doc.mode=hn(A.options,A.doc.modeOption),Kh(A)}function Kh(A){A.doc.iter(function(T){T.stateAfter&&(T.stateAfter=null),T.styles&&(T.styles=null)}),A.doc.modeFrontier=A.doc.highlightFrontier=A.doc.first,Zh(A,100),A.state.modeGen++,A.curOp&&zn(A)}function ey(A,T){return T.from.ch==0&&T.to.ch==0&&Ht(T.text)==""&&(!A.cm||A.cm.options.wholeLineUpdateBefore)}function em(A,T,W,z){function te(Ri){return W?W[Ri]:null}function pe(Ri,Ai,Hi){RA(Ri,Ai,Hi,z),eo(Ri,"change",Ri,T)}function Le(Ri,Ai){for(var Hi=[],an=Ri;an<Ai;++an)Hi.push(new vc(ht[an],te(an),z));return Hi}var je=T.from,rt=T.to,ht=T.text,Ft=Ti(A,je.line),Yt=Ti(A,rt.line),wr=Ht(ht),hr=te(ht.length-1),zr=rt.line-je.line;if(T.full)A.insert(0,Le(0,ht.length)),A.remove(ht.length,A.size-ht.length);else if(ey(A,T)){var Zr=Le(0,ht.length-1);pe(Yt,Yt.text,hr),zr&&A.remove(je.line,zr),Zr.length&&A.insert(je.line,Zr)}else if(Ft==Yt)if(ht.length==1)pe(Ft,Ft.text.slice(0,je.ch)+wr+Ft.text.slice(rt.ch),hr);else{var ci=Le(1,ht.length-1);ci.push(new vc(wr+Ft.text.slice(rt.ch),hr,z)),pe(Ft,Ft.text.slice(0,je.ch)+ht[0],te(0)),A.insert(je.line+1,ci)}else if(ht.length==1)pe(Ft,Ft.text.slice(0,je.ch)+ht[0]+Yt.text.slice(rt.ch),te(0)),A.remove(je.line+1,zr);else{pe(Ft,Ft.text.slice(0,je.ch)+ht[0],te(0)),pe(Yt,wr+Yt.text.slice(rt.ch),hr);var xi=Le(1,ht.length-1);zr>1&&A.remove(je.line+1,zr-1),A.insert(je.line+1,xi)}eo(A,"change",A,T)}function Jf(A,T,W){function z(te,pe,Le){if(te.linked)for(var je=0;je<te.linked.length;++je){var rt=te.linked[je];if(rt.doc!=pe){var ht=Le&&rt.sharedHist;W&&!ht||(T(rt.doc,ht),z(rt.doc,te,ht))}}}z(A,null,!0)}function ty(A,T){if(T.cm)throw new Error("This document is already in use.");A.doc=T,T.cm=A,zf(A),$1(A),ry(A),A.options.direction=T.direction,A.options.lineWrapping||O1(A),A.options.mode=T.modeOption,zn(A)}function ry(A){(A.doc.direction=="rtl"?Re:ae)(A.display.lineDiv,"CodeMirror-rtl")}function c6(A){An(A,function(){ry(A),zn(A)})}function C2(A){this.done=[],this.undone=[],this.undoDepth=A?A.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=A?A.maxGeneration:1}function tm(A,T){var W={from:Jr(T.from),to:Qf(T),text:ss(A,T.from,T.to)};return oy(A,W,T.from.line,T.to.line+1),Jf(A,function(z){return oy(z,W,T.from.line,T.to.line+1)},!0),W}function iy(A){for(;A.length;){var T=Ht(A);if(T.ranges)A.pop();else break}}function ny(A,T){if(T)return iy(A.done),Ht(A.done);if(A.done.length&&!Ht(A.done).ranges)return Ht(A.done);if(A.done.length>1&&!A.done[A.done.length-2].ranges)return A.done.pop(),Ht(A.done)}function sy(A,T,W,z){var te=A.history;te.undone.length=0;var pe=+new Date,Le,je;if((te.lastOp==z||te.lastOrigin==T.origin&&T.origin&&(T.origin.charAt(0)=="+"&&te.lastModTime>pe-(A.cm?A.cm.options.historyEventDelay:500)||T.origin.charAt(0)=="*"))&&(Le=ny(te,te.lastOp==z)))je=Ht(Le.changes),pt(T.from,T.to)==0&&pt(T.from,je.to)==0?je.to=Qf(T):Le.changes.push(tm(A,T));else{var rt=Ht(te.done);for((!rt||!rt.ranges)&&S2(A.sel,te.done),Le={changes:[tm(A,T)],generation:te.generation},te.done.push(Le);te.done.length>te.undoDepth;)te.done.shift(),te.done[0].ranges||te.done.shift()}te.done.push(W),te.generation=++te.maxGeneration,te.lastModTime=te.lastSelTime=pe,te.lastOp=te.lastSelOp=z,te.lastOrigin=te.lastSelOrigin=T.origin,je||Ct(A,"historyAdded")}function h6(A,T,W,z){var te=T.charAt(0);return te=="*"||te=="+"&&W.ranges.length==z.ranges.length&&W.somethingSelected()==z.somethingSelected()&&new Date-A.history.lastSelTime<=(A.cm?A.cm.options.historyEventDelay:500)}function d6(A,T,W,z){var te=A.history,pe=z&&z.origin;W==te.lastSelOp||pe&&te.lastSelOrigin==pe&&(te.lastModTime==te.lastSelTime&&te.lastOrigin==pe||h6(A,pe,Ht(te.done),T))?te.done[te.done.length-1]=T:S2(T,te.done),te.lastSelTime=+new Date,te.lastSelOrigin=pe,te.lastSelOp=W,z&&z.clearRedo!==!1&&iy(te.undone)}function S2(A,T){var W=Ht(T);W&&W.ranges&&W.equals(A)||T.push(A)}function oy(A,T,W,z){var te=T["spans_"+A.id],pe=0;A.iter(Math.max(A.first,W),Math.min(A.first+A.size,z),function(Le){Le.markedSpans&&((te||(te=T["spans_"+A.id]={}))[pe]=Le.markedSpans),++pe})}function pn(A){if(!A)return null;for(var T,W=0;W<A.length;++W)A[W].marker.explicitlyCleared?T||(T=A.slice(0,W)):T&&T.push(A[W]);return T?T.length?T:null:A}function p6(A,T){var W=T["spans_"+A.id];if(!W)return null;for(var z=[],te=0;te<T.text.length;++te)z.push(pn(W[te]));return z}function $h(A,T){var W=p6(A,T),z=L1(A,T);if(!W)return z;if(!z)return W;for(var te=0;te<W.length;++te){var pe=W[te],Le=z[te];if(pe&&Le){e:for(var je=0;je<Le.length;++je){for(var rt=Le[je],ht=0;ht<pe.length;++ht)if(pe[ht].marker==rt.marker)continue e;pe.push(rt)}}else Le&&(W[te]=Le)}return W}function Tc(A,T,W){for(var z=[],te=0;te<A.length;++te){var pe=A[te];if(pe.ranges){z.push(W?co.prototype.deepCopy.call(pe):pe);continue}var Le=pe.changes,je=[];z.push({changes:je});for(var rt=0;rt<Le.length;++rt){var ht=Le[rt],Ft=void 0;if(je.push({from:ht.from,to:ht.to,text:ht.text}),T)for(var Yt in ht)(Ft=Yt.match(/^spans_(\d+)$/))&&ot(T,Number(Ft[1]))>-1&&(Ht(je)[Yt]=ht[Yt],delete ht[Yt])}}return z}function T2(A,T,W,z){if(z){var te=A.anchor;if(W){var pe=pt(T,te)<0;pe!=pt(W,te)<0?(te=T,T=W):pe!=pt(T,W)<0&&(T=W)}return new x0(te,T)}else return new x0(W||T,T)}function ed(A,T,W,z,te){te==null&&(te=A.cm&&(A.cm.display.shift||A.extend)),ho(A,new co([T2(A.sel.primary(),T,W,te)],0),z)}function rm(A,T,W){for(var z=[],te=A.cm&&(A.cm.display.shift||A.extend),pe=0;pe<A.sel.ranges.length;pe++)z[pe]=T2(A.sel.ranges[pe],T[pe],null,te);var Le=Cs(A.cm,z,A.sel.primIndex);ho(A,Le,W)}function im(A,T,W,z){var te=A.sel.ranges.slice(0);te[T]=W,ho(A,Cs(A.cm,te,A.sel.primIndex),z)}function nm(A,T,W,z){ho(A,Wf(T,W),z)}function ay(A,T,W){var z={ranges:T.ranges,update:function(te){this.ranges=[];for(var pe=0;pe<te.length;pe++)this.ranges[pe]=new x0(Ci(A,te[pe].anchor),Ci(A,te[pe].head))},origin:W&&W.origin};return Ct(A,"beforeSelectionChange",A,z),A.cm&&Ct(A.cm,"beforeSelectionChange",A.cm,z),z.ranges!=T.ranges?Cs(A.cm,z.ranges,z.ranges.length-1):T}function ly(A,T,W){var z=A.history.done,te=Ht(z);te&&te.ranges?(z[z.length-1]=T,td(A,T,W)):ho(A,T,W)}function ho(A,T,W){td(A,T,W),d6(A,A.sel,A.cm?A.cm.curOp.id:NaN,W)}function td(A,T,W){(Sr(A,"beforeSelectionChange")||A.cm&&Sr(A.cm,"beforeSelectionChange"))&&(T=ay(A,T,W));var z=W&&W.bias||(pt(T.primary().head,A.sel.primary().head)<0?-1:1);sm(A,am(A,T,z,!0)),!(W&&W.scroll===!1)&&A.cm&&A.cm.getOption("readOnly")!="nocursor"&&rf(A.cm)}function sm(A,T){T.equals(A.sel)||(A.sel=T,A.cm&&(A.cm.curOp.updateInput=1,A.cm.curOp.selectionChanged=!0,lr(A.cm)),eo(A,"cursorActivity",A))}function om(A){sm(A,am(A,A.sel,null,!1))}function am(A,T,W,z){for(var te,pe=0;pe<T.ranges.length;pe++){var Le=T.ranges[pe],je=T.ranges.length==A.sel.ranges.length&&A.sel.ranges[pe],rt=Xf(A,Le.anchor,je&&je.anchor,W,z),ht=Xf(A,Le.head,je&&je.head,W,z);(te||rt!=Le.anchor||ht!=Le.head)&&(te||(te=T.ranges.slice(0,pe)),te[pe]=new x0(rt,ht))}return te?Cs(A.cm,te,T.primIndex):T}function Pu(A,T,W,z,te){var pe=Ti(A,T.line);if(pe.markedSpans)for(var Le=0;Le<pe.markedSpans.length;++Le){var je=pe.markedSpans[Le],rt=je.marker,ht="selectLeft"in rt?!rt.selectLeft:rt.inclusiveLeft,Ft="selectRight"in rt?!rt.selectRight:rt.inclusiveRight;if((je.from==null||(ht?je.from<=T.ch:je.from<T.ch))&&(je.to==null||(Ft?je.to>=T.ch:je.to>T.ch))){if(te&&(Ct(rt,"beforeCursorEnter"),rt.explicitlyCleared))if(pe.markedSpans){--Le;continue}else break;if(!rt.atomic)continue;if(W){var Yt=rt.find(z<0?1:-1),wr=void 0;if((z<0?Ft:ht)&&(Yt=M2(A,Yt,-z,Yt&&Yt.line==T.line?pe:null)),Yt&&Yt.line==T.line&&(wr=pt(Yt,W))&&(z<0?wr<0:wr>0))return Pu(A,Yt,T,z,te)}var hr=rt.find(z<0?-1:1);return(z<0?ht:Ft)&&(hr=M2(A,hr,z,hr.line==T.line?pe:null)),hr?Pu(A,hr,T,z,te):null}}return T}function Xf(A,T,W,z,te){var pe=z||1,Le=Pu(A,T,W,pe,te)||!te&&Pu(A,T,W,pe,!0)||Pu(A,T,W,-pe,te)||!te&&Pu(A,T,W,-pe,!0);return Le||(A.cantEdit=!0,ii(A.first,0))}function M2(A,T,W,z){return W<0&&T.ch==0?T.line>A.first?Ci(A,ii(T.line-1)):null:W>0&&T.ch==(z||Ti(A,T.line)).text.length?T.line<A.first+A.size-1?ii(T.line+1,0):null:new ii(T.line,T.ch+W)}function lm(A){A.setSelection(ii(A.firstLine(),0),ii(A.lastLine()),ct)}function fy(A,T,W){var z={canceled:!1,from:T.from,to:T.to,text:T.text,origin:T.origin,cancel:function(){return z.canceled=!0}};return W&&(z.update=function(te,pe,Le,je){te&&(z.from=Ci(A,te)),pe&&(z.to=Ci(A,pe)),Le&&(z.text=Le),je!==void 0&&(z.origin=je)}),Ct(A,"beforeChange",A,z),A.cm&&Ct(A.cm,"beforeChange",A.cm,z),z.canceled?(A.cm&&(A.cm.curOp.updateInput=2),null):{from:z.from,to:z.to,text:z.text,origin:z.origin}}function Nu(A,T,W){if(A.cm){if(!A.cm.curOp)return ro(A.cm,Nu)(A,T,W);if(A.cm.state.suppressEdits)return}if(!((Sr(A,"beforeChange")||A.cm&&Sr(A.cm,"beforeChange"))&&(T=fy(A,T,!0),!T))){var z=xb&&!W&&CA(A,T.from,T.to);if(z)for(var te=z.length-1;te>=0;--te)R2(A,{from:z[te].from,to:z[te].to,text:te?[""]:T.text,origin:T.origin});else R2(A,T)}}function R2(A,T){if(!(T.text.length==1&&T.text[0]==""&&pt(T.from,T.to)==0)){var W=K1(A,T);sy(A,T,W,A.cm?A.cm.curOp.id:NaN),Mc(A,T,W,L1(A,T));var z=[];Jf(A,function(te,pe){!pe&&ot(z,te.history)==-1&&(cy(te.history,T),z.push(te.history)),Mc(te,T,null,L1(te,T))})}}function D2(A,T,W){var z=A.cm&&A.cm.state.suppressEdits;if(!(z&&!W)){for(var te=A.history,pe,Le=A.sel,je=T=="undo"?te.done:te.undone,rt=T=="undo"?te.undone:te.done,ht=0;ht<je.length&&(pe=je[ht],!(W?pe.ranges&&!pe.equals(A.sel):!pe.ranges));ht++);if(ht!=je.length){for(te.lastOrigin=te.lastSelOrigin=null;;)if(pe=je.pop(),pe.ranges){if(S2(pe,rt),W&&!pe.equals(A.sel)){ho(A,pe,{clearRedo:!1});return}Le=pe}else if(z){je.push(pe);return}else break;var Ft=[];S2(Le,rt),rt.push({changes:Ft,generation:te.generation}),te.generation=pe.generation||++te.maxGeneration;for(var Yt=Sr(A,"beforeChange")||A.cm&&Sr(A.cm,"beforeChange"),wr=function(Zr){var ci=pe.changes[Zr];if(ci.origin=T,Yt&&!fy(A,ci,!1))return je.length=0,{};Ft.push(tm(A,ci));var xi=Zr?K1(A,ci):Ht(je);Mc(A,ci,xi,$h(A,ci)),!Zr&&A.cm&&A.cm.scrollIntoView({from:ci.from,to:Qf(ci)});var Ri=[];Jf(A,function(Ai,Hi){!Hi&&ot(Ri,Ai.history)==-1&&(cy(Ai.history,ci),Ri.push(Ai.history)),Mc(Ai,ci,null,$h(Ai,ci))})},hr=pe.changes.length-1;hr>=0;--hr){var zr=wr(hr);if(zr)return zr.v}}}}function Is(A,T){if(T!=0&&(A.first+=T,A.sel=new co(Kt(A.sel.ranges,function(te){return new x0(ii(te.anchor.line+T,te.anchor.ch),ii(te.head.line+T,te.head.ch))}),A.sel.primIndex),A.cm)){zn(A.cm,A.first,A.first-T,T);for(var W=A.cm.display,z=W.viewFrom;z<W.viewTo;z++)v0(A.cm,z,"gutter")}}function Mc(A,T,W,z){if(A.cm&&!A.cm.curOp)return ro(A.cm,Mc)(A,T,W,z);if(T.to.line<A.first){Is(A,T.text.length-1-(T.to.line-T.from.line));return}if(!(T.from.line>A.lastLine())){if(T.from.line<A.first){var te=T.text.length-1-(A.first-T.from.line);Is(A,te),T={from:ii(A.first,0),to:ii(T.to.line+te,T.to.ch),text:[Ht(T.text)],origin:T.origin}}var pe=A.lastLine();T.to.line>pe&&(T={from:T.from,to:ii(pe,Ti(A,pe).text.length),text:[T.text[0]],origin:T.origin}),T.removed=ss(A,T.from,T.to),W||(W=K1(A,T)),A.cm?uy(A.cm,T,z):em(A,T,z),td(A,W,ct),A.cantEdit&&Xf(A,ii(A.firstLine(),0))&&(A.cantEdit=!1)}}function uy(A,T,W){var z=A.doc,te=A.display,pe=T.from,Le=T.to,je=!1,rt=pe.line;A.options.lineWrapping||(rt=rn(Ya(Ti(z,pe.line))),z.iter(rt,Le.line+1,function(hr){if(hr==te.maxLine)return je=!0,!0})),z.sel.contains(T.from,T.to)>-1&&lr(A),em(z,T,W,Xh(A)),A.options.lineWrapping||(z.iter(rt,pe.line+T.text.length,function(hr){var zr=y2(hr);zr>te.maxLineLength&&(te.maxLine=hr,te.maxLineLength=zr,te.maxLineChanged=!0,je=!1)}),je&&(A.curOp.updateMaxLine=!0)),vA(z,pe.line),Zh(A,400);var ht=T.text.length-(Le.line-pe.line)-1;T.full?zn(A):pe.line==Le.line&&T.text.length==1&&!ey(A.doc,T)?v0(A,pe.line,"text"):zn(A,pe.line,Le.line+1,ht);var Ft=Sr(A,"changes"),Yt=Sr(A,"change");if(Yt||Ft){var wr={from:pe,to:Le,text:T.text,removed:T.removed,origin:T.origin};Yt&&eo(A,"change",A,wr),Ft&&(A.curOp.changeObjs||(A.curOp.changeObjs=[])).push(wr)}A.display.selForContextMenu=null}function Rc(A,T,W,z,te){var pe;z||(z=W),pt(z,W)<0&&(pe=[z,W],W=pe[0],z=pe[1]),typeof T=="string"&&(T=A.splitLines(T)),Nu(A,{from:W,to:z,text:T,origin:te})}function fm(A,T,W,z){W<A.line?A.line+=z:T<A.line&&(A.line=T,A.ch=0)}function um(A,T,W,z){for(var te=0;te<A.length;++te){var pe=A[te],Le=!0;if(pe.ranges){pe.copied||(pe=A[te]=pe.deepCopy(),pe.copied=!0);for(var je=0;je<pe.ranges.length;je++)fm(pe.ranges[je].anchor,T,W,z),fm(pe.ranges[je].head,T,W,z);continue}for(var rt=0;rt<pe.changes.length;++rt){var ht=pe.changes[rt];if(W<ht.from.line)ht.from=ii(ht.from.line+z,ht.from.ch),ht.to=ii(ht.to.line+z,ht.to.ch);else if(T<=ht.to.line){Le=!1;break}}Le||(A.splice(0,te+1),te=0)}}function cy(A,T){var W=T.from.line,z=T.to.line,te=T.text.length-(z-W)-1;um(A.done,W,z,te),um(A.undone,W,z,te)}function Dc(A,T,W,z){var te=T,pe=T;return typeof T=="number"?pe=Ti(A,Gn(A,T)):te=rn(T),te==null?null:(z(pe,te)&&A.cm&&v0(A.cm,te,W),pe)}function rd(A){this.lines=A,this.parent=null;for(var T=0,W=0;W<A.length;++W)A[W].parent=this,T+=A[W].height;this.height=T}rd.prototype={chunkSize:function(){return this.lines.length},removeInner:function(A,T){for(var W=A,z=A+T;W<z;++W){var te=this.lines[W];this.height-=te.height,DA(te),eo(te,"delete")}this.lines.splice(A,T)},collapse:function(A){A.push.apply(A,this.lines)},insertInner:function(A,T,W){this.height+=W,this.lines=this.lines.slice(0,A).concat(T).concat(this.lines.slice(A));for(var z=0;z<T.length;++z)T[z].parent=this},iterN:function(A,T,W){for(var z=A+T;A<z;++A)if(W(this.lines[A]))return!0}};function Bc(A){this.children=A;for(var T=0,W=0,z=0;z<A.length;++z){var te=A[z];T+=te.chunkSize(),W+=te.height,te.parent=this}this.size=T,this.height=W,this.parent=null}Bc.prototype={chunkSize:function(){return this.size},removeInner:function(A,T){this.size-=T;for(var W=0;W<this.children.length;++W){var z=this.children[W],te=z.chunkSize();if(A<te){var pe=Math.min(T,te-A),Le=z.height;if(z.removeInner(A,pe),this.height-=Le-z.height,te==pe&&(this.children.splice(W--,1),z.parent=null),(T-=pe)==0)break;A=0}else A-=te}if(this.size-T<25&&(this.children.length>1||!(this.children[0]instanceof rd))){var je=[];this.collapse(je),this.children=[new rd(je)],this.children[0].parent=this}},collapse:function(A){for(var T=0;T<this.children.length;++T)this.children[T].collapse(A)},insertInner:function(A,T,W){this.size+=T.length,this.height+=W;for(var z=0;z<this.children.length;++z){var te=this.children[z],pe=te.chunkSize();if(A<=pe){if(te.insertInner(A,T,W),te.lines&&te.lines.length>50){for(var Le=te.lines.length%25+25,je=Le;je<te.lines.length;){var rt=new rd(te.lines.slice(je,je+=25));te.height-=rt.height,this.children.splice(++z,0,rt),rt.parent=this}te.lines=te.lines.slice(0,Le),this.maybeSpill()}break}A-=pe}},maybeSpill:function(){if(!(this.children.length<=10)){var A=this;do{var T=A.children.splice(A.children.length-5,5),W=new Bc(T);if(A.parent){A.size-=W.size,A.height-=W.height;var te=ot(A.parent.children,A);A.parent.children.splice(te+1,0,W)}else{var z=new Bc(A.children);z.parent=A,A.children=[z,W],A=z}W.parent=A.parent}while(A.children.length>10);A.parent.maybeSpill()}},iterN:function(A,T,W){for(var z=0;z<this.children.length;++z){var te=this.children[z],pe=te.chunkSize();if(A<pe){var Le=Math.min(T,pe-A);if(te.iterN(A,Le,W))return!0;if((T-=Le)==0)break;A=0}else A-=pe}}};var id=function(A,T,W){if(W)for(var z in W)W.hasOwnProperty(z)&&(this[z]=W[z]);this.doc=A,this.node=T};id.prototype.clear=function(){var A=this.doc.cm,T=this.line.widgets,W=this.line,z=rn(W);if(!(z==null||!T)){for(var te=0;te<T.length;++te)T[te]==this&&T.splice(te--,1);T.length||(W.widgets=null);var pe=Wh(this);os(W,Math.max(0,W.height-pe)),A&&(An(A,function(){hy(A,W,-pe),v0(A,z,"widget")}),eo(A,"lineWidgetCleared",A,this,z))}},id.prototype.changed=function(){var A=this,T=this.height,W=this.doc.cm,z=this.line;this.height=null;var te=Wh(this)-T;!te||(Vf(this.doc,z)||os(z,z.height+te),W&&An(W,function(){W.curOp.forceUpdate=!0,hy(W,z,te),eo(W,"lineWidgetChanged",W,A,rn(z))}))},Vr(id);function hy(A,T,W){ef(T)<(A.curOp&&A.curOp.scrollTop||A.doc.scrollTop)&&fa(A,W)}function m6(A,T,W,z){var te=new id(A,W,z),pe=A.cm;return pe&&te.noHScroll&&(pe.display.alignWidgets=!0),Dc(A,T,"widget",function(Le){var je=Le.widgets||(Le.widgets=[]);if(te.insertAt==null?je.push(te):je.splice(Math.min(je.length,Math.max(0,te.insertAt)),0,te),te.line=Le,pe&&!Vf(A,Le)){var rt=ef(Le)<A.scrollTop;os(Le,Le.height+Wh(te)),rt&&fa(pe,te.height),pe.curOp.forceUpdate=!0}return!0}),pe&&eo(pe,"lineWidgetAdded",pe,te,typeof T=="number"?T:rn(T)),te}var $n=0,qf=function(A,T){this.lines=[],this.type=T,this.doc=A,this.id=++$n};qf.prototype.clear=function(){if(!this.explicitlyCleared){var A=this.doc.cm,T=A&&!A.curOp;if(T&&_r(A),Sr(this,"clear")){var W=this.find();W&&eo(this,"clear",W.from,W.to)}for(var z=null,te=null,pe=0;pe<this.lines.length;++pe){var Le=this.lines[pe],je=jh(Le.markedSpans,this);A&&!this.collapsed?v0(A,rn(Le),"text"):A&&(je.to!=null&&(te=rn(Le)),je.from!=null&&(z=rn(Le))),Le.markedSpans=xA(Le.markedSpans,je),je.from==null&&this.collapsed&&!Vf(this.doc,Le)&&A&&os(Le,Ec(A.display))}if(A&&this.collapsed&&!A.options.lineWrapping)for(var rt=0;rt<this.lines.length;++rt){var ht=Ya(this.lines[rt]),Ft=y2(ht);Ft>A.display.maxLineLength&&(A.display.maxLine=ht,A.display.maxLineLength=Ft,A.display.maxLineChanged=!0)}z!=null&&A&&this.collapsed&&zn(A,z,te+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,A&&om(A.doc)),A&&eo(A,"markerCleared",A,this,z,te),T&&n0(A),this.parent&&this.parent.clear()}},qf.prototype.find=function(A,T){A==null&&this.type=="bookmark"&&(A=1);for(var W,z,te=0;te<this.lines.length;++te){var pe=this.lines[te],Le=jh(pe.markedSpans,this);if(Le.from!=null&&(W=ii(T?pe:rn(pe),Le.from),A==-1))return W;if(Le.to!=null&&(z=ii(T?pe:rn(pe),Le.to),A==1))return z}return W&&{from:W,to:z}},qf.prototype.changed=function(){var A=this,T=this.find(-1,!0),W=this,z=this.doc.cm;!T||!z||An(z,function(){var te=T.line,pe=rn(T.line),Le=j1(z,pe);if(Le&&(zb(Le),z.curOp.selectionChanged=z.curOp.forceUpdate=!0),z.curOp.updateMaxLine=!0,!Vf(W.doc,te)&&W.height!=null){var je=W.height;W.height=null;var rt=Wh(W)-je;rt&&os(te,te.height+rt)}eo(z,"markerChanged",z,A)})},qf.prototype.attachLine=function(A){if(!this.lines.length&&this.doc.cm){var T=this.doc.cm.curOp;(!T.maybeHiddenMarkers||ot(T.maybeHiddenMarkers,this)==-1)&&(T.maybeUnhiddenMarkers||(T.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(A)},qf.prototype.detachLine=function(A){if(this.lines.splice(ot(this.lines,A),1),!this.lines.length&&this.doc.cm){var T=this.doc.cm.curOp;(T.maybeHiddenMarkers||(T.maybeHiddenMarkers=[])).push(this)}},Vr(qf);function Fu(A,T,W,z,te){if(z&&z.shared)return g6(A,T,W,z,te);if(A.cm&&!A.cm.curOp)return ro(A.cm,Fu)(A,T,W,z,te);var pe=new qf(A,te),Le=pt(T,W);if(z&&Ue(z,pe,!1),Le>0||Le==0&&pe.clearWhenEmpty!==!1)return pe;if(pe.replacedWith&&(pe.collapsed=!0,pe.widgetNode=le("span",[pe.replacedWith],"CodeMirror-widget"),z.handleMouseEvents||pe.widgetNode.setAttribute("cm-ignore-events","true"),z.insertLeft&&(pe.widgetNode.insertLeft=!0)),pe.collapsed){if(Tb(A,T.line,T,W,pe)||T.line!=W.line&&Tb(A,W.line,T,W,pe))throw new Error("Inserting collapsed marker partially overlapping an existing one");AA()}pe.addToHistory&&sy(A,{from:T,to:W,origin:"markText"},A.sel,NaN);var je=T.line,rt=A.cm,ht;if(A.iter(je,W.line+1,function(Yt){rt&&pe.collapsed&&!rt.options.lineWrapping&&Ya(Yt)==rt.display.maxLine&&(ht=!0),pe.collapsed&&je!=T.line&&os(Yt,0),EA(Yt,new p2(pe,je==T.line?T.ch:null,je==W.line?W.ch:null),A.cm&&A.cm.curOp),++je}),pe.collapsed&&A.iter(T.line,W.line+1,function(Yt){Vf(A,Yt)&&os(Yt,0)}),pe.clearOnEnter&&Bt(pe,"beforeCursorEnter",function(){return pe.clear()}),pe.readOnly&&(wA(),(A.history.done.length||A.history.undone.length)&&A.clearHistory()),pe.collapsed&&(pe.id=++$n,pe.atomic=!0),rt){if(ht&&(rt.curOp.updateMaxLine=!0),pe.collapsed)zn(rt,T.line,W.line+1);else if(pe.className||pe.startStyle||pe.endStyle||pe.css||pe.attributes||pe.title)for(var Ft=T.line;Ft<=W.line;Ft++)v0(rt,Ft,"text");pe.atomic&&om(rt.doc),eo(rt,"markerAdded",rt,pe)}return pe}var nd=function(A,T){this.markers=A,this.primary=T;for(var W=0;W<A.length;++W)A[W].parent=this};nd.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var A=0;A<this.markers.length;++A)this.markers[A].clear();eo(this,"clear")}},nd.prototype.find=function(A,T){return this.primary.find(A,T)},Vr(nd);function g6(A,T,W,z,te){z=Ue(z),z.shared=!1;var pe=[Fu(A,T,W,z,te)],Le=pe[0],je=z.widgetNode;return Jf(A,function(rt){je&&(z.widgetNode=je.cloneNode(!0)),pe.push(Fu(rt,Ci(rt,T),Ci(rt,W),z,te));for(var ht=0;ht<rt.linked.length;++ht)if(rt.linked[ht].isParent)return;Le=Ht(pe)}),new nd(pe,Le)}function dy(A){return A.findMarks(ii(A.first,0),A.clipPos(ii(A.lastLine())),function(T){return T.parent})}function b6(A,T){for(var W=0;W<T.length;W++){var z=T[W],te=z.find(),pe=A.clipPos(te.from),Le=A.clipPos(te.to);if(pt(pe,Le)){var je=Fu(A,pe,Le,z.primary,z.primary.type);z.markers.push(je),je.parent=z}}}function y6(A){for(var T=function(z){var te=A[z],pe=[te.primary.doc];Jf(te.primary.doc,function(rt){return pe.push(rt)});for(var Le=0;Le<te.markers.length;Le++){var je=te.markers[Le];ot(pe,je.doc)==-1&&(je.parent=null,te.markers.splice(Le--,1))}},W=0;W<A.length;W++)T(W)}var v6=0,Yo=function(A,T,W,z,te){if(!(this instanceof Yo))return new Yo(A,T,W,z,te);W==null&&(W=0),Bc.call(this,[new rd([new vc("",null)])]),this.first=W,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=W;var pe=ii(W,0);this.sel=Wf(pe),this.history=new C2(null),this.id=++v6,this.modeOption=T,this.lineSep=z,this.direction=te=="rtl"?"rtl":"ltr",this.extend=!1,typeof A=="string"&&(A=this.splitLines(A)),em(this,{from:pe,to:pe,text:A}),ho(this,Wf(pe),ct)};Yo.prototype=Yr(Bc.prototype,{constructor:Yo,iter:function(A,T,W){W?this.iterN(A-this.first,T-A,W):this.iterN(this.first,this.first+this.size,A)},insert:function(A,T){for(var W=0,z=0;z<T.length;++z)W+=T[z].height;this.insertInner(A-this.first,T,W)},remove:function(A,T){this.removeInner(A-this.first,T)},getValue:function(A){var T=Dn(this,this.first,this.first+this.size);return A===!1?T:T.join(A||this.lineSeparator())},setValue:zs(function(A){var T=ii(this.first,0),W=this.first+this.size-1;Nu(this,{from:T,to:ii(W,Ti(this,W).text.length),text:this.splitLines(A),origin:"setValue",full:!0},!0),this.cm&&Cc(this.cm,0,0),ho(this,Wf(T),ct)}),replaceRange:function(A,T,W,z){T=Ci(this,T),W=W?Ci(this,W):T,Rc(this,A,T,W,z)},getRange:function(A,T,W){var z=ss(this,Ci(this,A),Ci(this,T));return W===!1?z:W===""?z.join(""):z.join(W||this.lineSeparator())},getLine:function(A){var T=this.getLineHandle(A);return T&&T.text},getLineHandle:function(A){if(js(this,A))return Ti(this,A)},getLineNumber:function(A){return rn(A)},getLineHandleVisualStart:function(A){return typeof A=="number"&&(A=Ti(this,A)),Ya(A)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(A){return Ci(this,A)},getCursor:function(A){var T=this.sel.primary(),W;return A==null||A=="head"?W=T.head:A=="anchor"?W=T.anchor:A=="end"||A=="to"||A===!1?W=T.to():W=T.from(),W},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:zs(function(A,T,W){nm(this,Ci(this,typeof A=="number"?ii(A,T||0):A),null,W)}),setSelection:zs(function(A,T,W){nm(this,Ci(this,A),Ci(this,T||A),W)}),extendSelection:zs(function(A,T,W){ed(this,Ci(this,A),T&&Ci(this,T),W)}),extendSelections:zs(function(A,T){rm(this,wa(this,A),T)}),extendSelectionsBy:zs(function(A,T){var W=Kt(this.sel.ranges,A);rm(this,wa(this,W),T)}),setSelections:zs(function(A,T,W){if(!!A.length){for(var z=[],te=0;te<A.length;te++)z[te]=new x0(Ci(this,A[te].anchor),Ci(this,A[te].head||A[te].anchor));T==null&&(T=Math.min(A.length-1,this.sel.primIndex)),ho(this,Cs(this.cm,z,T),W)}}),addSelection:zs(function(A,T,W){var z=this.sel.ranges.slice(0);z.push(new x0(Ci(this,A),Ci(this,T||A))),ho(this,Cs(this.cm,z,z.length-1),W)}),getSelection:function(A){for(var T=this.sel.ranges,W,z=0;z<T.length;z++){var te=ss(this,T[z].from(),T[z].to());W=W?W.concat(te):te}return A===!1?W:W.join(A||this.lineSeparator())},getSelections:function(A){for(var T=[],W=this.sel.ranges,z=0;z<W.length;z++){var te=ss(this,W[z].from(),W[z].to());A!==!1&&(te=te.join(A||this.lineSeparator())),T[z]=te}return T},replaceSelection:function(A,T,W){for(var z=[],te=0;te<this.sel.ranges.length;te++)z[te]=A;this.replaceSelections(z,T,W||"+input")},replaceSelections:zs(function(A,T,W){for(var z=[],te=this.sel,pe=0;pe<te.ranges.length;pe++){var Le=te.ranges[pe];z[pe]={from:Le.from(),to:Le.to(),text:this.splitLines(A[pe]),origin:W}}for(var je=T&&T!="end"&&u6(this,z,T),rt=z.length-1;rt>=0;rt--)Nu(this,z[rt]);je?ly(this,je):this.cm&&rf(this.cm)}),undo:zs(function(){D2(this,"undo")}),redo:zs(function(){D2(this,"redo")}),undoSelection:zs(function(){D2(this,"undo",!0)}),redoSelection:zs(function(){D2(this,"redo",!0)}),setExtending:function(A){this.extend=A},getExtending:function(){return this.extend},historySize:function(){for(var A=this.history,T=0,W=0,z=0;z<A.done.length;z++)A.done[z].ranges||++T;for(var te=0;te<A.undone.length;te++)A.undone[te].ranges||++W;return{undo:T,redo:W}},clearHistory:function(){var A=this;this.history=new C2(this.history),Jf(this,function(T){return T.history=A.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(A){return A&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(A){return this.history.generation==(A||this.cleanGeneration)},getHistory:function(){return{done:Tc(this.history.done),undone:Tc(this.history.undone)}},setHistory:function(A){var T=this.history=new C2(this.history);T.done=Tc(A.done.slice(0),null,!0),T.undone=Tc(A.undone.slice(0),null,!0)},setGutterMarker:zs(function(A,T,W){return Dc(this,A,"gutter",function(z){var te=z.gutterMarkers||(z.gutterMarkers={});return te[T]=W,!W&&rr(te)&&(z.gutterMarkers=null),!0})}),clearGutter:zs(function(A){var T=this;this.iter(function(W){W.gutterMarkers&&W.gutterMarkers[A]&&Dc(T,W,"gutter",function(){return W.gutterMarkers[A]=null,rr(W.gutterMarkers)&&(W.gutterMarkers=null),!0})})}),lineInfo:function(A){var T;if(typeof A=="number"){if(!js(this,A)||(T=A,A=Ti(this,A),!A))return null}else if(T=rn(A),T==null)return null;return{line:T,handle:A,text:A.text,gutterMarkers:A.gutterMarkers,textClass:A.textClass,bgClass:A.bgClass,wrapClass:A.wrapClass,widgets:A.widgets}},addLineClass:zs(function(A,T,W){return Dc(this,A,T=="gutter"?"gutter":"class",function(z){var te=T=="text"?"textClass":T=="background"?"bgClass":T=="gutter"?"gutterClass":"wrapClass";if(!z[te])z[te]=W;else{if(ne(W).test(z[te]))return!1;z[te]+=" "+W}return!0})}),removeLineClass:zs(function(A,T,W){return Dc(this,A,T=="gutter"?"gutter":"class",function(z){var te=T=="text"?"textClass":T=="background"?"bgClass":T=="gutter"?"gutterClass":"wrapClass",pe=z[te];if(pe)if(W==null)z[te]=null;else{var Le=pe.match(ne(W));if(!Le)return!1;var je=Le.index+Le[0].length;z[te]=pe.slice(0,Le.index)+(!Le.index||je==pe.length?"":" ")+pe.slice(je)||null}else return!1;return!0})}),addLineWidget:zs(function(A,T,W){return m6(this,A,T,W)}),removeLineWidget:function(A){A.clear()},markText:function(A,T,W){return Fu(this,Ci(this,A),Ci(this,T),W,W&&W.type||"range")},setBookmark:function(A,T){var W={replacedWith:T&&(T.nodeType==null?T.widget:T),insertLeft:T&&T.insertLeft,clearWhenEmpty:!1,shared:T&&T.shared,handleMouseEvents:T&&T.handleMouseEvents};return A=Ci(this,A),Fu(this,A,A,W,"bookmark")},findMarksAt:function(A){A=Ci(this,A);var T=[],W=Ti(this,A.line).markedSpans;if(W)for(var z=0;z<W.length;++z){var te=W[z];(te.from==null||te.from<=A.ch)&&(te.to==null||te.to>=A.ch)&&T.push(te.marker.parent||te.marker)}return T},findMarks:function(A,T,W){A=Ci(this,A),T=Ci(this,T);var z=[],te=A.line;return this.iter(A.line,T.line+1,function(pe){var Le=pe.markedSpans;if(Le)for(var je=0;je<Le.length;je++){var rt=Le[je];!(rt.to!=null&&te==A.line&&A.ch>=rt.to||rt.from==null&&te!=A.line||rt.from!=null&&te==T.line&&rt.from>=T.ch)&&(!W||W(rt.marker))&&z.push(rt.marker.parent||rt.marker)}++te}),z},getAllMarks:function(){var A=[];return this.iter(function(T){var W=T.markedSpans;if(W)for(var z=0;z<W.length;++z)W[z].from!=null&&A.push(W[z].marker)}),A},posFromIndex:function(A){var T,W=this.first,z=this.lineSeparator().length;return this.iter(function(te){var pe=te.text.length+z;if(pe>A)return T=A,!0;A-=pe,++W}),Ci(this,ii(W,T))},indexFromPos:function(A){A=Ci(this,A);var T=A.ch;if(A.line<this.first||A.ch<0)return 0;var W=this.lineSeparator().length;return this.iter(this.first,A.line,function(z){T+=z.text.length+W}),T},copy:function(A){var T=new Yo(Dn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return T.scrollTop=this.scrollTop,T.scrollLeft=this.scrollLeft,T.sel=this.sel,T.extend=!1,A&&(T.history.undoDepth=this.history.undoDepth,T.setHistory(this.getHistory())),T},linkedDoc:function(A){A||(A={});var T=this.first,W=this.first+this.size;A.from!=null&&A.from>T&&(T=A.from),A.to!=null&&A.to<W&&(W=A.to);var z=new Yo(Dn(this,T,W),A.mode||this.modeOption,T,this.lineSep,this.direction);return A.sharedHist&&(z.history=this.history),(this.linked||(this.linked=[])).push({doc:z,sharedHist:A.sharedHist}),z.linked=[{doc:this,isParent:!0,sharedHist:A.sharedHist}],b6(z,dy(this)),z},unlinkDoc:function(A){if(A instanceof es&&(A=A.doc),this.linked)for(var T=0;T<this.linked.length;++T){var W=this.linked[T];if(W.doc==A){this.linked.splice(T,1),A.unlinkDoc(this),y6(dy(this));break}}if(A.history==this.history){var z=[A.id];Jf(A,function(te){return z.push(te.id)},!0),A.history=new C2(null),A.history.done=Tc(this.history.done,z),A.history.undone=Tc(this.history.undone,z)}},iterLinkedDocs:function(A){Jf(this,A)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(A){return this.lineSep?A.split(this.lineSep):ni(A)},lineSeparator:function(){return this.lineSep||`
`},setDirection:zs(function(A){A!="rtl"&&(A="ltr"),A!=this.direction&&(this.direction=A,this.iter(function(T){return T.order=null}),this.cm&&c6(this.cm))})}),Yo.prototype.eachLine=Yo.prototype.iter;var py=0;function w6(A){var T=this;if(my(T),!(Nt(T,A)||tf(T.display,A))){gi(A),y&&(py=+new Date);var W=el(T,A,!0),z=A.dataTransfer.files;if(!(!W||T.isReadOnly()))if(z&&z.length&&window.FileReader&&window.File)for(var te=z.length,pe=Array(te),Le=0,je=function(){++Le==te&&ro(T,function(){W=Ci(T.doc,W);var hr={from:W,to:W,text:T.doc.splitLines(pe.filter(function(zr){return zr!=null}).join(T.doc.lineSeparator())),origin:"paste"};Nu(T.doc,hr),ly(T.doc,Wf(Ci(T.doc,W),Ci(T.doc,Qf(hr))))})()},rt=function(hr,zr){if(T.options.allowDropFileTypes&&ot(T.options.allowDropFileTypes,hr.type)==-1){je();return}var Zr=new FileReader;Zr.onerror=function(){return je()},Zr.onload=function(){var ci=Zr.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(ci)){je();return}pe[zr]=ci,je()},Zr.readAsText(hr)},ht=0;ht<z.length;ht++)rt(z[ht],ht);else{if(T.state.draggingText&&T.doc.sel.contains(W)>-1){T.state.draggingText(A),setTimeout(function(){return T.display.input.focus()},20);return}try{var Ft=A.dataTransfer.getData("Text");if(Ft){var Yt;if(T.state.draggingText&&!T.state.draggingText.copy&&(Yt=T.listSelections()),td(T.doc,Wf(W,W)),Yt)for(var wr=0;wr<Yt.length;++wr)Rc(T.doc,"",Yt[wr].anchor,Yt[wr].head,"drag");T.replaceSelection(Ft,"around","paste"),T.display.input.focus()}}catch{}}}}function A6(A,T){if(y&&(!A.state.draggingText||+new Date-py<100)){Fe(T);return}if(!(Nt(A,T)||tf(A.display,T))&&(T.dataTransfer.setData("Text",A.getSelection()),T.dataTransfer.effectAllowed="copyMove",T.dataTransfer.setDragImage&&!B)){var W=xe("img",null,null,"position: fixed; left: 0; top: 0;");W.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",R&&(W.width=W.height=1,A.display.wrapper.appendChild(W),W._top=W.offsetTop),T.dataTransfer.setDragImage(W,0,0),R&&W.parentNode.removeChild(W)}}function x6(A,T){var W=el(A,T);if(!!W){var z=document.createDocumentFragment();P0(A,W,z),A.display.dragCursor||(A.display.dragCursor=xe("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),A.display.lineSpace.insertBefore(A.display.dragCursor,A.display.cursorDiv)),de(A.display.dragCursor,z)}}function my(A){A.display.dragCursor&&(A.display.lineSpace.removeChild(A.display.dragCursor),A.display.dragCursor=null)}function gy(A){if(!!document.getElementsByClassName){for(var T=document.getElementsByClassName("CodeMirror"),W=[],z=0;z<T.length;z++){var te=T[z].CodeMirror;te&&W.push(te)}W.length&&W[0].operation(function(){for(var pe=0;pe<W.length;pe++)A(W[pe])})}}var by=!1;function E6(){by||(_6(),by=!0)}function _6(){var A;Bt(window,"resize",function(){A==null&&(A=setTimeout(function(){A=null,gy(k6)},100))}),Bt(window,"blur",function(){return gy(Y)})}function k6(A){var T=A.display;T.cachedCharWidth=T.cachedTextHeight=T.cachedPaddingH=null,T.scrollbarsClipped=!1,A.setSize()}for(var Zf={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},sd=0;sd<10;sd++)Zf[sd+48]=Zf[sd+96]=String(sd);for(var B2=65;B2<=90;B2++)Zf[B2]=String.fromCharCode(B2);for(var Ic=1;Ic<=12;Ic++)Zf[Ic+111]=Zf[Ic+63235]="F"+Ic;var sf={};sf.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},sf.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},sf.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},sf.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},sf.default=K?sf.macDefault:sf.pcDefault;function C6(A){var T=A.split(/-(?!$)/);A=T[T.length-1];for(var W,z,te,pe,Le=0;Le<T.length-1;Le++){var je=T[Le];if(/^(cmd|meta|m)$/i.test(je))pe=!0;else if(/^a(lt)?$/i.test(je))W=!0;else if(/^(c|ctrl|control)$/i.test(je))z=!0;else if(/^s(hift)?$/i.test(je))te=!0;else throw new Error("Unrecognized modifier name: "+je)}return W&&(A="Alt-"+A),z&&(A="Ctrl-"+A),pe&&(A="Cmd-"+A),te&&(A="Shift-"+A),A}function yy(A){var T={};for(var W in A)if(A.hasOwnProperty(W)){var z=A[W];if(/^(name|fallthrough|(de|at)tach)$/.test(W))continue;if(z=="..."){delete A[W];continue}for(var te=Kt(W.split(" "),C6),pe=0;pe<te.length;pe++){var Le=void 0,je=void 0;pe==te.length-1?(je=te.join(" "),Le=z):(je=te.slice(0,pe+1).join(" "),Le="...");var rt=T[je];if(!rt)T[je]=Le;else if(rt!=Le)throw new Error("Inconsistent bindings for "+je)}delete A[W]}for(var ht in T)A[ht]=T[ht];return A}function Lc(A,T,W,z){T=I2(T);var te=T.call?T.call(A,z):T[A];if(te===!1)return"nothing";if(te==="...")return"multi";if(te!=null&&W(te))return"handled";if(T.fallthrough){if(Object.prototype.toString.call(T.fallthrough)!="[object Array]")return Lc(A,T.fallthrough,W,z);for(var pe=0;pe<T.fallthrough.length;pe++){var Le=Lc(A,T.fallthrough[pe],W,z);if(Le)return Le}}}function vy(A){var T=typeof A=="string"?A:Zf[A.keyCode];return T=="Ctrl"||T=="Alt"||T=="Shift"||T=="Mod"}function wy(A,T,W){var z=A;return T.altKey&&z!="Alt"&&(A="Alt-"+A),(be?T.metaKey:T.ctrlKey)&&z!="Ctrl"&&(A="Ctrl-"+A),(be?T.ctrlKey:T.metaKey)&&z!="Mod"&&(A="Cmd-"+A),!W&&T.shiftKey&&z!="Shift"&&(A="Shift-"+A),A}function Ay(A,T){if(R&&A.keyCode==34&&A.char)return!1;var W=Zf[A.keyCode];return W==null||A.altGraphKey?!1:(A.keyCode==3&&A.code&&(W=A.code),wy(W,A,T))}function I2(A){return typeof A=="string"?sf[A]:A}function Ou(A,T){for(var W=A.doc.sel.ranges,z=[],te=0;te<W.length;te++){for(var pe=T(W[te]);z.length&&pt(pe.from,Ht(z).to)<=0;){var Le=z.pop();if(pt(Le.from,pe.from)<0){pe.from=Le.from;break}}z.push(pe)}An(A,function(){for(var je=z.length-1;je>=0;je--)Rc(A.doc,"",z[je].from,z[je].to,"+delete");rf(A)})}function L2(A,T,W){var z=Ut(A.text,T+W,W);return z<0||z>A.text.length?null:z}function P2(A,T,W){var z=L2(A,T.ch,W);return z==null?null:new ii(T.line,z,W<0?"after":"before")}function Ws(A,T,W,z,te){if(A){T.doc.direction=="rtl"&&(te=-te);var pe=gt(W,T.doc.direction);if(pe){var Le=te<0?Ht(pe):pe[0],je=te<0==(Le.level==1),rt=je?"after":"before",ht;if(Le.level>0||T.doc.direction=="rtl"){var Ft=Ac(T,W);ht=te<0?W.text.length-1:0;var Yt=Il(T,Ft,ht).top;ht=ir(function(wr){return Il(T,Ft,wr).top==Yt},te<0==(Le.level==1)?Le.from:Le.to-1,ht),rt=="before"&&(ht=L2(W,ht,1))}else ht=te<0?Le.to:Le.from;return new ii(z,ht,rt)}}return new ii(z,te<0?W.text.length:0,te<0?"before":"after")}function wi(A,T,W,z){var te=gt(T,A.doc.direction);if(!te)return P2(T,W,z);W.ch>=T.text.length?(W.ch=T.text.length,W.sticky="before"):W.ch<=0&&(W.ch=0,W.sticky="after");var pe=De(te,W.ch,W.sticky),Le=te[pe];if(A.doc.direction=="ltr"&&Le.level%2==0&&(z>0?Le.to>W.ch:Le.from<W.ch))return P2(T,W,z);var je=function(xi,Ri){return L2(T,xi instanceof ii?xi.ch:xi,Ri)},rt,ht=function(xi){return A.options.lineWrapping?(rt=rt||Ac(A,T),Zo(A,T,rt,xi)):{begin:0,end:T.text.length}},Ft=ht(W.sticky=="before"?je(W,-1):W.ch);if(A.doc.direction=="rtl"||Le.level==1){var Yt=Le.level==1==z<0,wr=je(W,Yt?1:-1);if(wr!=null&&(Yt?wr<=Le.to&&wr<=Ft.end:wr>=Le.from&&wr>=Ft.begin)){var hr=Yt?"before":"after";return new ii(W.line,wr,hr)}}var zr=function(xi,Ri,Ai){for(var Hi=function(z0,Qs){return Qs?new ii(W.line,je(z0,1),"before"):new ii(W.line,z0,"after")};xi>=0&&xi<te.length;xi+=Ri){var an=te[xi],Zi=Ri>0==(an.level!=1),Nn=Zi?Ai.begin:je(Ai.end,-1);if(an.from<=Nn&&Nn<an.to||(Nn=Zi?an.from:je(an.to,-1),Ai.begin<=Nn&&Nn<Ai.end))return Hi(Nn,Zi)}},Zr=zr(pe+z,z,Ft);if(Zr)return Zr;var ci=z>0?Ft.end:je(Ft.begin,-1);return ci!=null&&!(z>0&&ci==T.text.length)&&(Zr=zr(z>0?0:te.length-1,z,ht(ci)),Zr)?Zr:null}var od={selectAll:lm,singleSelection:function(A){return A.setSelection(A.getCursor("anchor"),A.getCursor("head"),ct)},killLine:function(A){return Ou(A,function(T){if(T.empty()){var W=Ti(A.doc,T.head.line).text.length;return T.head.ch==W&&T.head.line<A.lastLine()?{from:T.head,to:ii(T.head.line+1,0)}:{from:T.head,to:ii(T.head.line,W)}}else return{from:T.from(),to:T.to()}})},deleteLine:function(A){return Ou(A,function(T){return{from:ii(T.from().line,0),to:Ci(A.doc,ii(T.to().line+1,0))}})},delLineLeft:function(A){return Ou(A,function(T){return{from:ii(T.from().line,0),to:T.from()}})},delWrappedLineLeft:function(A){return Ou(A,function(T){var W=A.charCoords(T.head,"div").top+5,z=A.coordsChar({left:0,top:W},"div");return{from:z,to:T.from()}})},delWrappedLineRight:function(A){return Ou(A,function(T){var W=A.charCoords(T.head,"div").top+5,z=A.coordsChar({left:A.display.lineDiv.offsetWidth+100,top:W},"div");return{from:T.from(),to:z}})},undo:function(A){return A.undo()},redo:function(A){return A.redo()},undoSelection:function(A){return A.undoSelection()},redoSelection:function(A){return A.redoSelection()},goDocStart:function(A){return A.extendSelection(ii(A.firstLine(),0))},goDocEnd:function(A){return A.extendSelection(ii(A.lastLine()))},goLineStart:function(A){return A.extendSelectionsBy(function(T){return of(A,T.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(A){return A.extendSelectionsBy(function(T){return ad(A,T.head)},{origin:"+move",bias:1})},goLineEnd:function(A){return A.extendSelectionsBy(function(T){return S6(A,T.head.line)},{origin:"+move",bias:-1})},goLineRight:function(A){return A.extendSelectionsBy(function(T){var W=A.cursorCoords(T.head,"div").top+5;return A.coordsChar({left:A.display.lineDiv.offsetWidth+100,top:W},"div")},Et)},goLineLeft:function(A){return A.extendSelectionsBy(function(T){var W=A.cursorCoords(T.head,"div").top+5;return A.coordsChar({left:0,top:W},"div")},Et)},goLineLeftSmart:function(A){return A.extendSelectionsBy(function(T){var W=A.cursorCoords(T.head,"div").top+5,z=A.coordsChar({left:0,top:W},"div");return z.ch<A.getLine(z.line).search(/\S/)?ad(A,T.head):z},Et)},goLineUp:function(A){return A.moveV(-1,"line")},goLineDown:function(A){return A.moveV(1,"line")},goPageUp:function(A){return A.moveV(-1,"page")},goPageDown:function(A){return A.moveV(1,"page")},goCharLeft:function(A){return A.moveH(-1,"char")},goCharRight:function(A){return A.moveH(1,"char")},goColumnLeft:function(A){return A.moveH(-1,"column")},goColumnRight:function(A){return A.moveH(1,"column")},goWordLeft:function(A){return A.moveH(-1,"word")},goGroupRight:function(A){return A.moveH(1,"group")},goGroupLeft:function(A){return A.moveH(-1,"group")},goWordRight:function(A){return A.moveH(1,"word")},delCharBefore:function(A){return A.deleteH(-1,"codepoint")},delCharAfter:function(A){return A.deleteH(1,"char")},delWordBefore:function(A){return A.deleteH(-1,"word")},delWordAfter:function(A){return A.deleteH(1,"word")},delGroupBefore:function(A){return A.deleteH(-1,"group")},delGroupAfter:function(A){return A.deleteH(1,"group")},indentAuto:function(A){return A.indentSelection("smart")},indentMore:function(A){return A.indentSelection("add")},indentLess:function(A){return A.indentSelection("subtract")},insertTab:function(A){return A.replaceSelection("	")},insertSoftTab:function(A){for(var T=[],W=A.listSelections(),z=A.options.tabSize,te=0;te<W.length;te++){var pe=W[te].from(),Le=ce(A.getLine(pe.line),pe.ch,z);T.push(Gt(z-Le%z))}A.replaceSelections(T)},defaultTab:function(A){A.somethingSelected()?A.indentSelection("add"):A.execCommand("insertTab")},transposeChars:function(A){return An(A,function(){for(var T=A.listSelections(),W=[],z=0;z<T.length;z++)if(!!T[z].empty()){var te=T[z].head,pe=Ti(A.doc,te.line).text;if(pe){if(te.ch==pe.length&&(te=new ii(te.line,te.ch-1)),te.ch>0)te=new ii(te.line,te.ch+1),A.replaceRange(pe.charAt(te.ch-1)+pe.charAt(te.ch-2),ii(te.line,te.ch-2),te,"+transpose");else if(te.line>A.doc.first){var Le=Ti(A.doc,te.line-1).text;Le&&(te=new ii(te.line,1),A.replaceRange(pe.charAt(0)+A.doc.lineSeparator()+Le.charAt(Le.length-1),ii(te.line-1,Le.length-1),te,"+transpose"))}}W.push(new x0(te,te))}A.setSelections(W)})},newlineAndIndent:function(A){return An(A,function(){for(var T=A.listSelections(),W=T.length-1;W>=0;W--)A.replaceRange(A.doc.lineSeparator(),T[W].anchor,T[W].head,"+input");T=A.listSelections();for(var z=0;z<T.length;z++)A.indentLine(T[z].from().line,null,!0);rf(A)})},openLine:function(A){return A.replaceSelection(`
`,"start")},toggleOverwrite:function(A){return A.toggleOverwrite()}};function of(A,T){var W=Ti(A.doc,T),z=Ya(W);return z!=W&&(T=rn(z)),Ws(!0,A,z,T,1)}function S6(A,T){var W=Ti(A.doc,T),z=TA(W);return z!=W&&(T=rn(z)),Ws(!0,A,W,T,-1)}function ad(A,T){var W=of(A,T.line),z=Ti(A.doc,W.line),te=gt(z,A.doc.direction);if(!te||te[0].level==0){var pe=Math.max(W.ch,z.text.search(/\S/)),Le=T.line==W.line&&T.ch<=pe&&T.ch;return ii(W.line,Le?0:pe,W.sticky)}return W}function ld(A,T,W){if(typeof T=="string"&&(T=od[T],!T))return!1;A.display.input.ensurePolled();var z=A.display.shift,te=!1;try{A.isReadOnly()&&(A.state.suppressEdits=!0),W&&(A.display.shift=!1),te=T(A)!=Xe}finally{A.display.shift=z,A.state.suppressEdits=!1}return te}function cm(A,T,W){for(var z=0;z<A.state.keyMaps.length;z++){var te=Lc(T,A.state.keyMaps[z],W,A);if(te)return te}return A.options.extraKeys&&Lc(T,A.options.extraKeys,W,A)||Lc(T,A.options.keyMap,W,A)}var T6=new Me;function Hu(A,T,W,z){var te=A.state.keySeq;if(te){if(vy(T))return"handled";if(/\'$/.test(T)?A.state.keySeq=null:T6.set(50,function(){A.state.keySeq==te&&(A.state.keySeq=null,A.display.input.reset())}),hm(A,te+" "+T,W,z))return!0}return hm(A,T,W,z)}function hm(A,T,W,z){var te=cm(A,T,z);return te=="multi"&&(A.state.keySeq=T),te=="handled"&&eo(A,"keyHandled",A,T,W),(te=="handled"||te=="multi")&&(gi(W),Oe(A)),!!te}function dm(A,T){var W=Ay(T,!0);return W?T.shiftKey&&!A.state.keySeq?Hu(A,"Shift-"+W,T,function(z){return ld(A,z,!0)})||Hu(A,W,T,function(z){if(typeof z=="string"?/^go[A-Z]/.test(z):z.motion)return ld(A,z)}):Hu(A,W,T,function(z){return ld(A,z)}):!1}function M6(A,T,W){return Hu(A,"'"+W+"'",T,function(z){return ld(A,z,!0)})}var N2=null;function pm(A){var T=this;if(!(A.target&&A.target!=T.display.input.getField())&&(T.curOp.focus=me(),!Nt(T,A))){y&&v<11&&A.keyCode==27&&(A.returnValue=!1);var W=A.keyCode;T.display.shift=W==16||A.shiftKey;var z=dm(T,A);R&&(N2=z?W:null,!z&&W==88&&!Tt&&(K?A.metaKey:A.ctrlKey)&&T.replaceSelection("",null,"cut")),r&&!K&&!z&&W==46&&A.shiftKey&&!A.ctrlKey&&document.execCommand&&document.execCommand("cut"),W==18&&!/\bCodeMirror-crosshair\b/.test(T.display.lineDiv.className)&&R6(T)}}function R6(A){var T=A.display.lineDiv;Re(T,"CodeMirror-crosshair");function W(z){(z.keyCode==18||!z.altKey)&&(ae(T,"CodeMirror-crosshair"),Rr(document,"keyup",W),Rr(document,"mouseover",W))}Bt(document,"keyup",W),Bt(document,"mouseover",W)}function mm(A){A.keyCode==16&&(this.doc.sel.shift=!1),Nt(this,A)}function gm(A){var T=this;if(!(A.target&&A.target!=T.display.input.getField())&&!(tf(T.display,A)||Nt(T,A)||A.ctrlKey&&!A.altKey||K&&A.metaKey)){var W=A.keyCode,z=A.charCode;if(R&&W==N2){N2=null,gi(A);return}if(!(R&&(!A.which||A.which<10)&&dm(T,A))){var te=String.fromCharCode(z==null?W:z);te!="\b"&&(M6(T,A,te)||T.display.input.onKeyPress(A))}}}var xy=400,bm=function(A,T,W){this.time=A,this.pos=T,this.button=W};bm.prototype.compare=function(A,T,W){return this.time+xy>A&&pt(T,this.pos)==0&&W==this.button};var fd,Pc;function Ey(A,T){var W=+new Date;return Pc&&Pc.compare(W,A,T)?(fd=Pc=null,"triple"):fd&&fd.compare(W,A,T)?(Pc=new bm(W,A,T),fd=null,"double"):(fd=new bm(W,A,T),Pc=null,"single")}function ym(A){var T=this,W=T.display;if(!(Nt(T,A)||W.activeTouch&&W.input.supportsTouch())){if(W.input.ensurePolled(),W.shift=A.shiftKey,tf(W,A)){E||(W.scroller.draggable=!1,setTimeout(function(){return W.scroller.draggable=!0},100));return}if(!F2(T,A)){var z=el(T,A),te=dt(A),pe=z?Ey(z,te):"single";window.focus(),te==1&&T.state.selectingText&&T.state.selectingText(A),!(z&&_y(T,te,z,pe,A))&&(te==1?z?vm(T,z,pe,A):Ke(A)==W.scroller&&gi(A):te==2?(z&&ed(T.doc,z),setTimeout(function(){return W.input.focus()},20)):te==3&&(ve?T.display.input.onContextMenu(A):vt(T)))}}}function _y(A,T,W,z,te){var pe="Click";return z=="double"?pe="Double"+pe:z=="triple"&&(pe="Triple"+pe),pe=(T==1?"Left":T==2?"Middle":"Right")+pe,Hu(A,wy(pe,te),te,function(Le){if(typeof Le=="string"&&(Le=od[Le]),!Le)return!1;var je=!1;try{A.isReadOnly()&&(A.state.suppressEdits=!0),je=Le(A,W)!=Xe}finally{A.state.suppressEdits=!1}return je})}function ky(A,T,W){var z=A.getOption("configureMouse"),te=z?z(A,T,W):{};if(te.unit==null){var pe=fe?W.shiftKey&&W.metaKey:W.altKey;te.unit=pe?"rectangle":T=="single"?"char":T=="double"?"word":"line"}return(te.extend==null||A.doc.extend)&&(te.extend=A.doc.extend||W.shiftKey),te.addNew==null&&(te.addNew=K?W.metaKey:W.ctrlKey),te.moveOnDrag==null&&(te.moveOnDrag=!(K?W.altKey:W.ctrlKey)),te}function vm(A,T,W,z){y?setTimeout(Qe(Ye,A),0):A.curOp.focus=me();var te=ky(A,W,z),pe=A.doc.sel,Le;A.options.dragDrop&&Ot&&!A.isReadOnly()&&W=="single"&&(Le=pe.contains(T))>-1&&(pt((Le=pe.ranges[Le]).from(),T)<0||T.xRel>0)&&(pt(Le.to(),T)>0||T.xRel<0)?D6(A,z,T,te):Sy(A,z,T,te)}function D6(A,T,W,z){var te=A.display,pe=!1,Le=ro(A,function(ht){E&&(te.scroller.draggable=!1),A.state.draggingText=!1,A.state.delayingBlurEvent&&(A.hasFocus()?A.state.delayingBlurEvent=!1:vt(A)),Rr(te.wrapper.ownerDocument,"mouseup",Le),Rr(te.wrapper.ownerDocument,"mousemove",je),Rr(te.scroller,"dragstart",rt),Rr(te.scroller,"drop",Le),pe||(gi(ht),z.addNew||ed(A.doc,W,null,null,z.extend),E&&!B||y&&v==9?setTimeout(function(){te.wrapper.ownerDocument.body.focus({preventScroll:!0}),te.input.focus()},20):te.input.focus())}),je=function(ht){pe=pe||Math.abs(T.clientX-ht.clientX)+Math.abs(T.clientY-ht.clientY)>=10},rt=function(){return pe=!0};E&&(te.scroller.draggable=!0),A.state.draggingText=Le,Le.copy=!z.moveOnDrag,Bt(te.wrapper.ownerDocument,"mouseup",Le),Bt(te.wrapper.ownerDocument,"mousemove",je),Bt(te.scroller,"dragstart",rt),Bt(te.scroller,"drop",Le),A.state.delayingBlurEvent=!0,setTimeout(function(){return te.input.focus()},20),te.scroller.dragDrop&&te.scroller.dragDrop()}function Cy(A,T,W){if(W=="char")return new x0(T,T);if(W=="word")return A.findWordAt(T);if(W=="line")return new x0(ii(T.line,0),Ci(A.doc,ii(T.line+1,0)));var z=W(A,T);return new x0(z.from,z.to)}function Sy(A,T,W,z){y&&vt(A);var te=A.display,pe=A.doc;gi(T);var Le,je,rt=pe.sel,ht=rt.ranges;if(z.addNew&&!z.extend?(je=pe.sel.contains(W),je>-1?Le=ht[je]:Le=new x0(W,W)):(Le=pe.sel.primary(),je=pe.sel.primIndex),z.unit=="rectangle")z.addNew||(Le=new x0(W,W)),W=el(A,T,!0,!0),je=-1;else{var Ft=Cy(A,W,z.unit);z.extend?Le=T2(Le,Ft.anchor,Ft.head,z.extend):Le=Ft}z.addNew?je==-1?(je=ht.length,ho(pe,Cs(A,ht.concat([Le]),je),{scroll:!1,origin:"*mouse"})):ht.length>1&&ht[je].empty()&&z.unit=="char"&&!z.extend?(ho(pe,Cs(A,ht.slice(0,je).concat(ht.slice(je+1)),0),{scroll:!1,origin:"*mouse"}),rt=pe.sel):im(pe,je,Le,$e):(je=0,ho(pe,new co([Le],0),$e),rt=pe.sel);var Yt=W;function wr(Ai){if(pt(Yt,Ai)!=0)if(Yt=Ai,z.unit=="rectangle"){for(var Hi=[],an=A.options.tabSize,Zi=ce(Ti(pe,W.line).text,W.ch,an),Nn=ce(Ti(pe,Ai.line).text,Ai.ch,an),z0=Math.min(Zi,Nn),Qs=Math.max(Zi,Nn),cs=Math.min(W.line,Ai.line),ts=Math.min(A.lastLine(),Math.max(W.line,Ai.line));cs<=ts;cs++){var Ko=Ti(pe,cs).text,Ss=Dt(Ko,z0,an);z0==Qs?Hi.push(new x0(ii(cs,Ss),ii(cs,Ss))):Ko.length>Ss&&Hi.push(new x0(ii(cs,Ss),ii(cs,Dt(Ko,Qs,an))))}Hi.length||Hi.push(new x0(W,W)),ho(pe,Cs(A,rt.ranges.slice(0,je).concat(Hi),je),{origin:"*mouse",scroll:!1}),A.scrollIntoView(Ai)}else{var No=Le,rs=Cy(A,Ai,z.unit),Ls=No.anchor,Ps;pt(rs.anchor,Ls)>0?(Ps=rs.head,Ls=dn(No.from(),rs.anchor)):(Ps=rs.anchor,Ls=ei(No.to(),rs.head));var ys=rt.ranges.slice(0);ys[je]=B6(A,new x0(Ci(pe,Ls),Ps)),ho(pe,Cs(A,ys,je),$e)}}var hr=te.wrapper.getBoundingClientRect(),zr=0;function Zr(Ai){var Hi=++zr,an=el(A,Ai,!0,z.unit=="rectangle");if(!!an)if(pt(an,Yt)!=0){A.curOp.focus=me(),wr(an);var Zi=Ni(te,pe);(an.line>=Zi.to||an.line<Zi.from)&&setTimeout(ro(A,function(){zr==Hi&&Zr(Ai)}),150)}else{var Nn=Ai.clientY<hr.top?-20:Ai.clientY>hr.bottom?20:0;Nn&&setTimeout(ro(A,function(){zr==Hi&&(te.scroller.scrollTop+=Nn,Zr(Ai))}),50)}}function ci(Ai){A.state.selectingText=!1,zr=1/0,Ai&&(gi(Ai),te.input.focus()),Rr(te.wrapper.ownerDocument,"mousemove",xi),Rr(te.wrapper.ownerDocument,"mouseup",Ri),pe.history.lastSelOrigin=null}var xi=ro(A,function(Ai){Ai.buttons===0||!dt(Ai)?ci(Ai):Zr(Ai)}),Ri=ro(A,ci);A.state.selectingText=Ri,Bt(te.wrapper.ownerDocument,"mousemove",xi),Bt(te.wrapper.ownerDocument,"mouseup",Ri)}function B6(A,T){var W=T.anchor,z=T.head,te=Ti(A.doc,W.line);if(pt(W,z)==0&&W.sticky==z.sticky)return T;var pe=gt(te);if(!pe)return T;var Le=De(pe,W.ch,W.sticky),je=pe[Le];if(je.from!=W.ch&&je.to!=W.ch)return T;var rt=Le+(je.from==W.ch==(je.level!=1)?0:1);if(rt==0||rt==pe.length)return T;var ht;if(z.line!=W.line)ht=(z.line-W.line)*(A.doc.direction=="ltr"?1:-1)>0;else{var Ft=De(pe,z.ch,z.sticky),Yt=Ft-Le||(z.ch-W.ch)*(je.level==1?-1:1);Ft==rt-1||Ft==rt?ht=Yt<0:ht=Yt>0}var wr=pe[rt+(ht?-1:0)],hr=ht==(wr.level==1),zr=hr?wr.from:wr.to,Zr=hr?"after":"before";return W.ch==zr&&W.sticky==Zr?T:new x0(new ii(W.line,zr,Zr),z)}function Ty(A,T,W,z){var te,pe;if(T.touches)te=T.touches[0].clientX,pe=T.touches[0].clientY;else try{te=T.clientX,pe=T.clientY}catch{return!1}if(te>=Math.floor(A.display.gutters.getBoundingClientRect().right))return!1;z&&gi(T);var Le=A.display,je=Le.lineDiv.getBoundingClientRect();if(pe>je.bottom||!Sr(A,W))return mi(T);pe-=je.top-Le.viewOffset;for(var rt=0;rt<A.display.gutterSpecs.length;++rt){var ht=Le.gutters.childNodes[rt];if(ht&&ht.getBoundingClientRect().right>=te){var Ft=$0(A.doc,pe),Yt=A.display.gutterSpecs[rt];return Ct(A,W,A,Ft,Yt.className,T),mi(T)}}}function F2(A,T){return Ty(A,T,"gutterClick",!0)}function O2(A,T){tf(A.display,T)||I6(A,T)||Nt(A,T,"contextmenu")||ve||A.display.input.onContextMenu(T)}function I6(A,T){return Sr(A,"gutterContextMenu")?Ty(A,T,"gutterContextMenu",!1):!1}function ud(A){A.display.wrapper.className=A.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+A.options.theme.replace(/(^|\s)\s*/g," cm-s-"),jf(A)}var Nc={toString:function(){return"CodeMirror.Init"}},wm={},H2={};function Fc(A){var T=A.optionHandlers;function W(z,te,pe,Le){A.defaults[z]=te,pe&&(T[z]=Le?function(je,rt,ht){ht!=Nc&&pe(je,rt,ht)}:pe)}A.defineOption=W,A.Init=Nc,W("value","",function(z,te){return z.setValue(te)},!0),W("mode",null,function(z,te){z.doc.modeOption=te,$1(z)},!0),W("indentUnit",2,$1,!0),W("indentWithTabs",!1),W("smartIndent",!0),W("tabSize",4,function(z){Kh(z),jf(z),zn(z)},!0),W("lineSeparator",null,function(z,te){if(z.doc.lineSep=te,!!te){var pe=[],Le=z.doc.first;z.doc.iter(function(rt){for(var ht=0;;){var Ft=rt.text.indexOf(te,ht);if(Ft==-1)break;ht=Ft+te.length,pe.push(ii(Le,Ft))}Le++});for(var je=pe.length-1;je>=0;je--)Rc(z.doc,te,pe[je],ii(pe[je].line,pe[je].ch+te.length))}}),W("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(z,te,pe){z.state.specialChars=new RegExp(te.source+(te.test("	")?"":"|	"),"g"),pe!=Nc&&z.refresh()}),W("specialCharPlaceholder",LA,function(z){return z.refresh()},!0),W("electricChars",!0),W("inputStyle",Z?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),W("spellcheck",!1,function(z,te){return z.getInputField().spellcheck=te},!0),W("autocorrect",!1,function(z,te){return z.getInputField().autocorrect=te},!0),W("autocapitalize",!1,function(z,te){return z.getInputField().autocapitalize=te},!0),W("rtlMoveVisually",!oe),W("wholeLineUpdateBefore",!0),W("theme","default",function(z){ud(z),Yh(z)},!0),W("keyMap","default",function(z,te,pe){var Le=I2(te),je=pe!=Nc&&I2(pe);je&&je.detach&&je.detach(z,Le),Le.attach&&Le.attach(z,je||null)}),W("extraKeys",null),W("configureMouse",null),W("lineWrapping",!1,My,!0),W("gutters",[],function(z,te){z.display.gutterSpecs=q1(te,z.options.lineNumbers),Yh(z)},!0),W("fixedGutter",!0,function(z,te){z.display.gutters.style.left=te?kc(z.display)+"px":"0",z.refresh()},!0),W("coverGutterNextToScrollbar",!1,function(z){return Sc(z)},!0),W("scrollbarStyle","native",function(z){u0(z),Sc(z),z.display.scrollbars.setScrollTop(z.doc.scrollTop),z.display.scrollbars.setScrollLeft(z.doc.scrollLeft)},!0),W("lineNumbers",!1,function(z,te){z.display.gutterSpecs=q1(z.options.gutters,te),Yh(z)},!0),W("firstLineNumber",1,Yh,!0),W("lineNumberFormatter",function(z){return z},Yh,!0),W("showCursorWhenSelecting",!1,la,!0),W("resetSelectionOnContextMenu",!0),W("lineWiseCopyCut",!0),W("pasteLinesPerSelection",!0),W("selectionsMayTouch",!1),W("readOnly",!1,function(z,te){te=="nocursor"&&(Y(z),z.display.input.blur()),z.display.input.readOnlyChanged(te)}),W("screenReaderLabel",null,function(z,te){te=te===""?null:te,z.display.input.screenReaderLabelChanged(te)}),W("disableInput",!1,function(z,te){te||z.display.input.reset()},!0),W("dragDrop",!0,L6),W("allowDropFileTypes",null),W("cursorBlinkRate",530),W("cursorScrollMargin",0),W("cursorHeight",1,la,!0),W("singleCursorHeightPerLine",!0,la,!0),W("workTime",100),W("workDelay",100),W("flattenSpans",!0,Kh,!0),W("addModeClass",!1,Kh,!0),W("pollInterval",100),W("undoDepth",200,function(z,te){return z.doc.history.undoDepth=te}),W("historyEventDelay",1250),W("viewportMargin",10,function(z){return z.refresh()},!0),W("maxHighlightLength",1e4,Kh,!0),W("moveInputWithCursor",!0,function(z,te){te||z.display.input.resetPosition()}),W("tabindex",null,function(z,te){return z.display.input.getField().tabIndex=te||""}),W("autofocus",null),W("direction","ltr",function(z,te){return z.doc.setDirection(te)},!0),W("phrases",null)}function L6(A,T,W){var z=W&&W!=Nc;if(!T!=!z){var te=A.display.dragFunctions,pe=T?Bt:Rr;pe(A.display.scroller,"dragstart",te.start),pe(A.display.scroller,"dragenter",te.enter),pe(A.display.scroller,"dragover",te.over),pe(A.display.scroller,"dragleave",te.leave),pe(A.display.scroller,"drop",te.drop)}}function My(A){A.options.lineWrapping?(Re(A.display.wrapper,"CodeMirror-wrap"),A.display.sizer.style.minWidth="",A.display.sizerWidth=null):(ae(A.display.wrapper,"CodeMirror-wrap"),O1(A)),zf(A),zn(A),jf(A),setTimeout(function(){return Sc(A)},100)}function es(A,T){var W=this;if(!(this instanceof es))return new es(A,T);this.options=T=T?Ue(T):{},Ue(wm,T,!1);var z=T.value;typeof z=="string"?z=new Yo(z,T.mode,null,T.lineSeparator,T.direction):T.mode&&(z.modeOption=T.mode),this.doc=z;var te=new es.inputStyles[T.inputStyle](this),pe=this.display=new l6(A,z,te,T);pe.wrapper.CodeMirror=this,ud(this),T.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),u0(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Me,keySeq:null,specialChars:null},T.autofocus&&!Z&&pe.input.focus(),y&&v<11&&setTimeout(function(){return W.display.input.reset(!0)},20),Ry(this),E6(),_r(this),this.curOp.forceUpdate=!0,ty(this,z),T.autofocus&&!Z||this.hasFocus()?setTimeout(function(){W.hasFocus()&&!W.state.focused&&qt(W)},20):Y(this);for(var Le in H2)H2.hasOwnProperty(Le)&&H2[Le](this,T[Le],Nc);Zb(this),T.finishInit&&T.finishInit(this);for(var je=0;je<Am.length;++je)Am[je](this);n0(this),E&&T.lineWrapping&&getComputedStyle(pe.lineDiv).textRendering=="optimizelegibility"&&(pe.lineDiv.style.textRendering="auto")}es.defaults=wm,es.optionHandlers=H2;function Ry(A){var T=A.display;Bt(T.scroller,"mousedown",ro(A,ym)),y&&v<11?Bt(T.scroller,"dblclick",ro(A,function(rt){if(!Nt(A,rt)){var ht=el(A,rt);if(!(!ht||F2(A,rt)||tf(A.display,rt))){gi(rt);var Ft=A.findWordAt(ht);ed(A.doc,Ft.anchor,Ft.head)}}})):Bt(T.scroller,"dblclick",function(rt){return Nt(A,rt)||gi(rt)}),Bt(T.scroller,"contextmenu",function(rt){return O2(A,rt)}),Bt(T.input.getField(),"contextmenu",function(rt){T.scroller.contains(rt.target)||O2(A,rt)});var W,z={end:0};function te(){T.activeTouch&&(W=setTimeout(function(){return T.activeTouch=null},1e3),z=T.activeTouch,z.end=+new Date)}function pe(rt){if(rt.touches.length!=1)return!1;var ht=rt.touches[0];return ht.radiusX<=1&&ht.radiusY<=1}function Le(rt,ht){if(ht.left==null)return!0;var Ft=ht.left-rt.left,Yt=ht.top-rt.top;return Ft*Ft+Yt*Yt>20*20}Bt(T.scroller,"touchstart",function(rt){if(!Nt(A,rt)&&!pe(rt)&&!F2(A,rt)){T.input.ensurePolled(),clearTimeout(W);var ht=+new Date;T.activeTouch={start:ht,moved:!1,prev:ht-z.end<=300?z:null},rt.touches.length==1&&(T.activeTouch.left=rt.touches[0].pageX,T.activeTouch.top=rt.touches[0].pageY)}}),Bt(T.scroller,"touchmove",function(){T.activeTouch&&(T.activeTouch.moved=!0)}),Bt(T.scroller,"touchend",function(rt){var ht=T.activeTouch;if(ht&&!tf(T,rt)&&ht.left!=null&&!ht.moved&&new Date-ht.start<300){var Ft=A.coordsChar(T.activeTouch,"page"),Yt;!ht.prev||Le(ht,ht.prev)?Yt=new x0(Ft,Ft):!ht.prev.prev||Le(ht,ht.prev.prev)?Yt=A.findWordAt(Ft):Yt=new x0(ii(Ft.line,0),Ci(A.doc,ii(Ft.line+1,0))),A.setSelection(Yt.anchor,Yt.head),A.focus(),gi(rt)}te()}),Bt(T.scroller,"touchcancel",te),Bt(T.scroller,"scroll",function(){T.scroller.clientHeight&&(Lu(A,T.scroller.scrollTop),En(A,T.scroller.scrollLeft,!0),Ct(A,"scroll",A))}),Bt(T.scroller,"mousewheel",function(rt){return Yb(A,rt)}),Bt(T.scroller,"DOMMouseScroll",function(rt){return Yb(A,rt)}),Bt(T.wrapper,"scroll",function(){return T.wrapper.scrollTop=T.wrapper.scrollLeft=0}),T.dragFunctions={enter:function(rt){Nt(A,rt)||Fe(rt)},over:function(rt){Nt(A,rt)||(x6(A,rt),Fe(rt))},start:function(rt){return A6(A,rt)},drop:ro(A,w6),leave:function(rt){Nt(A,rt)||my(A)}};var je=T.input.getField();Bt(je,"keyup",function(rt){return mm.call(A,rt)}),Bt(je,"keydown",ro(A,pm)),Bt(je,"keypress",ro(A,gm)),Bt(je,"focus",function(rt){return qt(A,rt)}),Bt(je,"blur",function(rt){return Y(A,rt)})}var Am=[];es.defineInitHook=function(A){return Am.push(A)};function cd(A,T,W,z){var te=A.doc,pe;W==null&&(W="add"),W=="smart"&&(te.mode.indent?pe=Vh(A,T).state:W="prev");var Le=A.options.tabSize,je=Ti(te,T),rt=ce(je.text,null,Le);je.stateAfter&&(je.stateAfter=null);var ht=je.text.match(/^\s*/)[0],Ft;if(!z&&!/\S/.test(je.text))Ft=0,W="not";else if(W=="smart"&&(Ft=te.mode.indent(pe,je.text.slice(ht.length),je.text),Ft==Xe||Ft>150)){if(!z)return;W="prev"}W=="prev"?T>te.first?Ft=ce(Ti(te,T-1).text,null,Le):Ft=0:W=="add"?Ft=rt+A.options.indentUnit:W=="subtract"?Ft=rt-A.options.indentUnit:typeof W=="number"&&(Ft=rt+W),Ft=Math.max(0,Ft);var Yt="",wr=0;if(A.options.indentWithTabs)for(var hr=Math.floor(Ft/Le);hr;--hr)wr+=Le,Yt+="	";if(wr<Ft&&(Yt+=Gt(Ft-wr)),Yt!=ht)return Rc(te,Yt,ii(T,0),ii(T,ht.length),"+input"),je.stateAfter=null,!0;for(var zr=0;zr<te.sel.ranges.length;zr++){var Zr=te.sel.ranges[zr];if(Zr.head.line==T&&Zr.head.ch<ht.length){var ci=ii(T,ht.length);im(te,zr,new x0(ci,ci));break}}}var nl=null;function hd(A){nl=A}function xm(A,T,W,z,te){var pe=A.doc;A.display.shift=!1,z||(z=pe.sel);var Le=+new Date-200,je=te=="paste"||A.state.pasteIncoming>Le,rt=ni(T),ht=null;if(je&&z.ranges.length>1)if(nl&&nl.text.join(`
`)==T){if(z.ranges.length%nl.text.length==0){ht=[];for(var Ft=0;Ft<nl.text.length;Ft++)ht.push(pe.splitLines(nl.text[Ft]))}}else rt.length==z.ranges.length&&A.options.pasteLinesPerSelection&&(ht=Kt(rt,function(xi){return[xi]}));for(var Yt=A.curOp.updateInput,wr=z.ranges.length-1;wr>=0;wr--){var hr=z.ranges[wr],zr=hr.from(),Zr=hr.to();hr.empty()&&(W&&W>0?zr=ii(zr.line,zr.ch-W):A.state.overwrite&&!je?Zr=ii(Zr.line,Math.min(Ti(pe,Zr.line).text.length,Zr.ch+Ht(rt).length)):je&&nl&&nl.lineWise&&nl.text.join(`
`)==rt.join(`
`)&&(zr=Zr=ii(zr.line,0)));var ci={from:zr,to:Zr,text:ht?ht[wr%ht.length]:rt,origin:te||(je?"paste":A.state.cutIncoming>Le?"cut":"+input")};Nu(A.doc,ci),eo(A,"inputRead",A,ci)}T&&!je&&Em(A,T),rf(A),A.curOp.updateInput<2&&(A.curOp.updateInput=Yt),A.curOp.typing=!0,A.state.pasteIncoming=A.state.cutIncoming=-1}function Aa(A,T){var W=A.clipboardData&&A.clipboardData.getData("Text");if(W)return A.preventDefault(),!T.isReadOnly()&&!T.options.disableInput&&An(T,function(){return xm(T,W,0,null,"paste")}),!0}function Em(A,T){if(!(!A.options.electricChars||!A.options.smartIndent))for(var W=A.doc.sel,z=W.ranges.length-1;z>=0;z--){var te=W.ranges[z];if(!(te.head.ch>100||z&&W.ranges[z-1].head.line==te.head.line)){var pe=A.getModeAt(te.head),Le=!1;if(pe.electricChars){for(var je=0;je<pe.electricChars.length;je++)if(T.indexOf(pe.electricChars.charAt(je))>-1){Le=cd(A,te.head.line,"smart");break}}else pe.electricInput&&pe.electricInput.test(Ti(A.doc,te.head.line).text.slice(0,te.head.ch))&&(Le=cd(A,te.head.line,"smart"));Le&&eo(A,"electricInput",A,te.head.line)}}}function Dy(A){for(var T=[],W=[],z=0;z<A.doc.sel.ranges.length;z++){var te=A.doc.sel.ranges[z].head.line,pe={anchor:ii(te,0),head:ii(te+1,0)};W.push(pe),T.push(A.getRange(pe.anchor,pe.head))}return{text:T,ranges:W}}function By(A,T,W,z){A.setAttribute("autocorrect",W?"":"off"),A.setAttribute("autocapitalize",z?"":"off"),A.setAttribute("spellcheck",!!T)}function Oc(){var A=xe("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),T=xe("div",[A],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return E?A.style.width="1000px":A.setAttribute("wrap","off"),H&&(A.style.border="1px solid black"),By(A),T}function P6(A){var T=A.optionHandlers,W=A.helpers={};A.prototype={constructor:A,focus:function(){window.focus(),this.display.input.focus()},setOption:function(z,te){var pe=this.options,Le=pe[z];pe[z]==te&&z!="mode"||(pe[z]=te,T.hasOwnProperty(z)&&ro(this,T[z])(this,te,Le),Ct(this,"optionChange",this,z))},getOption:function(z){return this.options[z]},getDoc:function(){return this.doc},addKeyMap:function(z,te){this.state.keyMaps[te?"push":"unshift"](I2(z))},removeKeyMap:function(z){for(var te=this.state.keyMaps,pe=0;pe<te.length;++pe)if(te[pe]==z||te[pe].name==z)return te.splice(pe,1),!0},addOverlay:yn(function(z,te){var pe=z.token?z:A.getMode(this.options,z);if(pe.startState)throw new Error("Overlays may not be stateful.");yr(this.state.overlays,{mode:pe,modeSpec:z,opaque:te&&te.opaque,priority:te&&te.priority||0},function(Le){return Le.priority}),this.state.modeGen++,zn(this)}),removeOverlay:yn(function(z){for(var te=this.state.overlays,pe=0;pe<te.length;++pe){var Le=te[pe].modeSpec;if(Le==z||typeof z=="string"&&Le.name==z){te.splice(pe,1),this.state.modeGen++,zn(this);return}}}),indentLine:yn(function(z,te,pe){typeof te!="string"&&typeof te!="number"&&(te==null?te=this.options.smartIndent?"smart":"prev":te=te?"add":"subtract"),js(this.doc,z)&&cd(this,z,te,pe)}),indentSelection:yn(function(z){for(var te=this.doc.sel.ranges,pe=-1,Le=0;Le<te.length;Le++){var je=te[Le];if(je.empty())je.head.line>pe&&(cd(this,je.head.line,z,!0),pe=je.head.line,Le==this.doc.sel.primIndex&&rf(this));else{var rt=je.from(),ht=je.to(),Ft=Math.max(pe,rt.line);pe=Math.min(this.lastLine(),ht.line-(ht.ch?0:1))+1;for(var Yt=Ft;Yt<pe;++Yt)cd(this,Yt,z);var wr=this.doc.sel.ranges;rt.ch==0&&te.length==wr.length&&wr[Le].from().ch>0&&im(this.doc,Le,new x0(rt,wr[Le].to()),ct)}}}),getTokenAt:function(z,te){return qr(this,z,te)},getLineTokens:function(z,te){return qr(this,ii(z),te,!0)},getTokenTypeAt:function(z){z=Ci(this.doc,z);var te=bb(this,Ti(this.doc,z.line)),pe=0,Le=(te.length-1)/2,je=z.ch,rt;if(je==0)rt=te[2];else for(;;){var ht=pe+Le>>1;if((ht?te[ht*2-1]:0)>=je)Le=ht;else if(te[ht*2+1]<je)pe=ht+1;else{rt=te[ht*2+2];break}}var Ft=rt?rt.indexOf("overlay "):-1;return Ft<0?rt:Ft==0?null:rt.slice(0,Ft-1)},getModeAt:function(z){var te=this.doc.mode;return te.innerMode?A.innerMode(te,this.getTokenAt(z).state).mode:te},getHelper:function(z,te){return this.getHelpers(z,te)[0]},getHelpers:function(z,te){var pe=[];if(!W.hasOwnProperty(te))return pe;var Le=W[te],je=this.getModeAt(z);if(typeof je[te]=="string")Le[je[te]]&&pe.push(Le[je[te]]);else if(je[te])for(var rt=0;rt<je[te].length;rt++){var ht=Le[je[te][rt]];ht&&pe.push(ht)}else je.helperType&&Le[je.helperType]?pe.push(Le[je.helperType]):Le[je.name]&&pe.push(Le[je.name]);for(var Ft=0;Ft<Le._global.length;Ft++){var Yt=Le._global[Ft];Yt.pred(je,this)&&ot(pe,Yt.val)==-1&&pe.push(Yt.val)}return pe},getStateAfter:function(z,te){var pe=this.doc;return z=Gn(pe,z==null?pe.first+pe.size-1:z),Vh(this,z+1,te).state},cursorCoords:function(z,te){var pe,Le=this.doc.sel.primary();return z==null?pe=Le.head:typeof z=="object"?pe=Ci(this.doc,z):pe=z?Le.from():Le.to(),Ka(this,pe,te||"page")},charCoords:function(z,te){return Gf(this,Ci(this.doc,z),te||"page")},coordsChar:function(z,te){return z=z1(this,z,te||"page"),$a(this,z.left,z.top)},lineAtHeight:function(z,te){return z=z1(this,{top:z,left:0},te||"page").top,$0(this.doc,z+this.display.viewOffset)},heightAtLine:function(z,te,pe){var Le=!1,je;if(typeof z=="number"){var rt=this.doc.first+this.doc.size-1;z<this.doc.first?z=this.doc.first:z>rt&&(z=rt,Le=!0),je=Ti(this.doc,z)}else je=z;return xc(this,je,{top:0,left:0},te||"page",pe||Le).top+(Le?this.doc.height-ef(je):0)},defaultTextHeight:function(){return Ec(this.display)},defaultCharWidth:function(){return en(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(z,te,pe,Le,je){var rt=this.display;z=Ka(this,Ci(this.doc,z));var ht=z.bottom,Ft=z.left;if(te.style.position="absolute",te.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(te),rt.sizer.appendChild(te),Le=="over")ht=z.top;else if(Le=="above"||Le=="near"){var Yt=Math.max(rt.wrapper.clientHeight,this.doc.height),wr=Math.max(rt.sizer.clientWidth,rt.lineSpace.clientWidth);(Le=="above"||z.bottom+te.offsetHeight>Yt)&&z.top>te.offsetHeight?ht=z.top-te.offsetHeight:z.bottom+te.offsetHeight<=Yt&&(ht=z.bottom),Ft+te.offsetWidth>wr&&(Ft=wr-te.offsetWidth)}te.style.top=ht+"px",te.style.left=te.style.right="",je=="right"?(Ft=rt.sizer.clientWidth-te.offsetWidth,te.style.right="0px"):(je=="left"?Ft=0:je=="middle"&&(Ft=(rt.sizer.clientWidth-te.offsetWidth)/2),te.style.left=Ft+"px"),pe&&br(this,{left:Ft,top:ht,right:Ft+te.offsetWidth,bottom:ht+te.offsetHeight})},triggerOnKeyDown:yn(pm),triggerOnKeyPress:yn(gm),triggerOnKeyUp:mm,triggerOnMouseDown:yn(ym),execCommand:function(z){if(od.hasOwnProperty(z))return od[z].call(null,this)},triggerElectric:yn(function(z){Em(this,z)}),findPosH:function(z,te,pe,Le){var je=1;te<0&&(je=-1,te=-te);for(var rt=Ci(this.doc,z),ht=0;ht<te&&(rt=_m(this.doc,rt,je,pe,Le),!rt.hitSide);++ht);return rt},moveH:yn(function(z,te){var pe=this;this.extendSelectionsBy(function(Le){return pe.display.shift||pe.doc.extend||Le.empty()?_m(pe.doc,Le.head,z,te,pe.options.rtlMoveVisually):z<0?Le.from():Le.to()},Et)}),deleteH:yn(function(z,te){var pe=this.doc.sel,Le=this.doc;pe.somethingSelected()?Le.replaceSelection("",null,"+delete"):Ou(this,function(je){var rt=_m(Le,je.head,z,te,!1);return z<0?{from:rt,to:je.head}:{from:je.head,to:rt}})}),findPosV:function(z,te,pe,Le){var je=1,rt=Le;te<0&&(je=-1,te=-te);for(var ht=Ci(this.doc,z),Ft=0;Ft<te;++Ft){var Yt=Ka(this,ht,"div");if(rt==null?rt=Yt.left:Yt.left=rt,ht=km(this,Yt,je,pe),ht.hitSide)break}return ht},moveV:yn(function(z,te){var pe=this,Le=this.doc,je=[],rt=!this.display.shift&&!Le.extend&&Le.sel.somethingSelected();if(Le.extendSelectionsBy(function(Ft){if(rt)return z<0?Ft.from():Ft.to();var Yt=Ka(pe,Ft.head,"div");Ft.goalColumn!=null&&(Yt.left=Ft.goalColumn),je.push(Yt.left);var wr=km(pe,Yt,z,te);return te=="page"&&Ft==Le.sel.primary()&&fa(pe,Gf(pe,wr,"div").top-Yt.top),wr},Et),je.length)for(var ht=0;ht<Le.sel.ranges.length;ht++)Le.sel.ranges[ht].goalColumn=je[ht]}),findWordAt:function(z){var te=this.doc,pe=Ti(te,z.line).text,Le=z.ch,je=z.ch;if(pe){var rt=this.getHelper(z,"wordChars");(z.sticky=="before"||je==pe.length)&&Le?--Le:++je;for(var ht=pe.charAt(Le),Ft=kt(ht,rt)?function(Yt){return kt(Yt,rt)}:/\s/.test(ht)?function(Yt){return/\s/.test(Yt)}:function(Yt){return!/\s/.test(Yt)&&!kt(Yt)};Le>0&&Ft(pe.charAt(Le-1));)--Le;for(;je<pe.length&&Ft(pe.charAt(je));)++je}return new x0(ii(z.line,Le),ii(z.line,je))},toggleOverwrite:function(z){z!=null&&z==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Re(this.display.cursorDiv,"CodeMirror-overwrite"):ae(this.display.cursorDiv,"CodeMirror-overwrite"),Ct(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==me()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:yn(function(z,te){Cc(this,z,te)}),getScrollInfo:function(){var z=this.display.scroller;return{left:z.scrollLeft,top:z.scrollTop,height:z.scrollHeight-Bl(this)-this.display.barHeight,width:z.scrollWidth-Bl(this)-this.display.barWidth,clientHeight:V1(this),clientWidth:Bu(this)}},scrollIntoView:yn(function(z,te){z==null?(z={from:this.doc.sel.primary().head,to:null},te==null&&(te=this.options.cursorScrollMargin)):typeof z=="number"?z={from:ii(z,0),to:null}:z.from==null&&(z={from:z,to:null}),z.to||(z.to=z.from),z.margin=te||0,z.from.line!=null?bi(this,z):N0(this,z.from,z.to,z.margin)}),setSize:yn(function(z,te){var pe=this,Le=function(rt){return typeof rt=="number"||/^\d+$/.test(String(rt))?rt+"px":rt};z!=null&&(this.display.wrapper.style.width=Le(z)),te!=null&&(this.display.wrapper.style.height=Le(te)),this.options.lineWrapping&&Wb(this);var je=this.display.viewFrom;this.doc.iter(je,this.display.viewTo,function(rt){if(rt.widgets){for(var ht=0;ht<rt.widgets.length;ht++)if(rt.widgets[ht].noHScroll){v0(pe,je,"widget");break}}++je}),this.curOp.forceUpdate=!0,Ct(this,"refresh",this)}),operation:function(z){return An(this,z)},startOperation:function(){return _r(this)},endOperation:function(){return n0(this)},refresh:yn(function(){var z=this.display.cachedTextHeight;zn(this),this.curOp.forceUpdate=!0,jf(this),Cc(this,this.doc.scrollLeft,this.doc.scrollTop),vi(this.display),(z==null||Math.abs(z-Ec(this.display))>.5||this.options.lineWrapping)&&zf(this),Ct(this,"refresh",this)}),swapDoc:yn(function(z){var te=this.doc;return te.cm=null,this.state.selectingText&&this.state.selectingText(),ty(this,z),jf(this),this.display.input.reset(),Cc(this,z.scrollLeft,z.scrollTop),this.curOp.forceScroll=!0,eo(this,"swapDoc",this,te),te}),phrase:function(z){var te=this.options.phrases;return te&&Object.prototype.hasOwnProperty.call(te,z)?te[z]:z},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Vr(A),A.registerHelper=function(z,te,pe){W.hasOwnProperty(z)||(W[z]=A[z]={_global:[]}),W[z][te]=pe},A.registerGlobalHelper=function(z,te,pe,Le){A.registerHelper(z,te,Le),W[z]._global.push({pred:pe,val:Le})}}function _m(A,T,W,z,te){var pe=T,Le=W,je=Ti(A,T.line),rt=te&&A.direction=="rtl"?-W:W;function ht(){var Ri=T.line+rt;return Ri<A.first||Ri>=A.first+A.size?!1:(T=new ii(Ri,T.ch,T.sticky),je=Ti(A,Ri))}function Ft(Ri){var Ai;if(z=="codepoint"){var Hi=je.text.charCodeAt(T.ch+(W>0?0:-1));if(isNaN(Hi))Ai=null;else{var an=W>0?Hi>=55296&&Hi<56320:Hi>=56320&&Hi<57343;Ai=new ii(T.line,Math.max(0,Math.min(je.text.length,T.ch+W*(an?2:1))),-W)}}else te?Ai=wi(A.cm,je,T,W):Ai=P2(je,T,W);if(Ai==null)if(!Ri&&ht())T=Ws(te,A.cm,je,T.line,rt);else return!1;else T=Ai;return!0}if(z=="char"||z=="codepoint")Ft();else if(z=="column")Ft(!0);else if(z=="word"||z=="group")for(var Yt=null,wr=z=="group",hr=A.cm&&A.cm.getHelper(T,"wordChars"),zr=!0;!(W<0&&!Ft(!zr));zr=!1){var Zr=je.text.charAt(T.ch)||`
`,ci=kt(Zr,hr)?"w":wr&&Zr==`
`?"n":!wr||/\s/.test(Zr)?null:"p";if(wr&&!zr&&!ci&&(ci="s"),Yt&&Yt!=ci){W<0&&(W=1,Ft(),T.sticky="after");break}if(ci&&(Yt=ci),W>0&&!Ft(!zr))break}var xi=Xf(A,T,pe,Le,!0);return Xt(pe,xi)&&(xi.hitSide=!0),xi}function km(A,T,W,z){var te=A.doc,pe=T.left,Le;if(z=="page"){var je=Math.min(A.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),rt=Math.max(je-.5*Ec(A.display),3);Le=(W>0?T.bottom:T.top)+W*rt}else z=="line"&&(Le=W>0?T.bottom+3:T.top-3);for(var ht;ht=$a(A,pe,Le),!!ht.outside;){if(W<0?Le<=0:Le>=te.height){ht.hitSide=!0;break}Le+=W*5}return ht}var E0=function(A){this.cm=A,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Me,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};E0.prototype.init=function(A){var T=this,W=this,z=W.cm,te=W.div=A.lineDiv;te.contentEditable=!0,By(te,z.options.spellcheck,z.options.autocorrect,z.options.autocapitalize);function pe(je){for(var rt=je.target;rt;rt=rt.parentNode){if(rt==te)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(rt.className))break}return!1}Bt(te,"paste",function(je){!pe(je)||Nt(z,je)||Aa(je,z)||v<=11&&setTimeout(ro(z,function(){return T.updateFromDOM()}),20)}),Bt(te,"compositionstart",function(je){T.composing={data:je.data,done:!1}}),Bt(te,"compositionupdate",function(je){T.composing||(T.composing={data:je.data,done:!1})}),Bt(te,"compositionend",function(je){T.composing&&(je.data!=T.composing.data&&T.readFromDOMSoon(),T.composing.done=!0)}),Bt(te,"touchstart",function(){return W.forceCompositionEnd()}),Bt(te,"input",function(){T.composing||T.readFromDOMSoon()});function Le(je){if(!(!pe(je)||Nt(z,je))){if(z.somethingSelected())hd({lineWise:!1,text:z.getSelections()}),je.type=="cut"&&z.replaceSelection("",null,"cut");else if(z.options.lineWiseCopyCut){var rt=Dy(z);hd({lineWise:!0,text:rt.text}),je.type=="cut"&&z.operation(function(){z.setSelections(rt.ranges,0,ct),z.replaceSelection("",null,"cut")})}else return;if(je.clipboardData){je.clipboardData.clearData();var ht=nl.text.join(`
`);if(je.clipboardData.setData("Text",ht),je.clipboardData.getData("Text")==ht){je.preventDefault();return}}var Ft=Oc(),Yt=Ft.firstChild;z.display.lineSpace.insertBefore(Ft,z.display.lineSpace.firstChild),Yt.value=nl.text.join(`
`);var wr=me();Ne(Yt),setTimeout(function(){z.display.lineSpace.removeChild(Ft),wr.focus(),wr==te&&W.showPrimarySelection()},50)}}Bt(te,"copy",Le),Bt(te,"cut",Le)},E0.prototype.screenReaderLabelChanged=function(A){A?this.div.setAttribute("aria-label",A):this.div.removeAttribute("aria-label")},E0.prototype.prepareSelection=function(){var A=to(this.cm,!1);return A.focus=me()==this.div,A},E0.prototype.showSelection=function(A,T){!A||!this.cm.display.view.length||((A.focus||T)&&this.showPrimarySelection(),this.showMultipleSelections(A))},E0.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},E0.prototype.showPrimarySelection=function(){var A=this.getSelection(),T=this.cm,W=T.doc.sel.primary(),z=W.from(),te=W.to();if(T.display.viewTo==T.display.viewFrom||z.line>=T.display.viewTo||te.line<T.display.viewFrom){A.removeAllRanges();return}var pe=dd(T,A.anchorNode,A.anchorOffset),Le=dd(T,A.focusNode,A.focusOffset);if(!(pe&&!pe.bad&&Le&&!Le.bad&&pt(dn(pe,Le),z)==0&&pt(ei(pe,Le),te)==0)){var je=T.display.view,rt=z.line>=T.display.viewFrom&&Iy(T,z)||{node:je[0].measure.map[2],offset:0},ht=te.line<T.display.viewTo&&Iy(T,te);if(!ht){var Ft=je[je.length-1].measure,Yt=Ft.maps?Ft.maps[Ft.maps.length-1]:Ft.map;ht={node:Yt[Yt.length-1],offset:Yt[Yt.length-2]-Yt[Yt.length-3]}}if(!rt||!ht){A.removeAllRanges();return}var wr=A.rangeCount&&A.getRangeAt(0),hr;try{hr=re(rt.node,rt.offset,ht.offset,ht.node)}catch{}hr&&(!r&&T.state.focused?(A.collapse(rt.node,rt.offset),hr.collapsed||(A.removeAllRanges(),A.addRange(hr))):(A.removeAllRanges(),A.addRange(hr)),wr&&A.anchorNode==null?A.addRange(wr):r&&this.startGracePeriod()),this.rememberSelection()}},E0.prototype.startGracePeriod=function(){var A=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){A.gracePeriod=!1,A.selectionChanged()&&A.cm.operation(function(){return A.cm.curOp.selectionChanged=!0})},20)},E0.prototype.showMultipleSelections=function(A){de(this.cm.display.cursorDiv,A.cursors),de(this.cm.display.selectionDiv,A.selection)},E0.prototype.rememberSelection=function(){var A=this.getSelection();this.lastAnchorNode=A.anchorNode,this.lastAnchorOffset=A.anchorOffset,this.lastFocusNode=A.focusNode,this.lastFocusOffset=A.focusOffset},E0.prototype.selectionInEditor=function(){var A=this.getSelection();if(!A.rangeCount)return!1;var T=A.getRangeAt(0).commonAncestorContainer;return he(this.div,T)},E0.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||me()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},E0.prototype.blur=function(){this.div.blur()},E0.prototype.getField=function(){return this.div},E0.prototype.supportsTouch=function(){return!0},E0.prototype.receivedFocus=function(){var A=this,T=this;this.selectionInEditor()?setTimeout(function(){return A.pollSelection()},20):An(this.cm,function(){return T.cm.curOp.selectionChanged=!0});function W(){T.cm.state.focused&&(T.pollSelection(),T.polling.set(T.cm.options.pollInterval,W))}this.polling.set(this.cm.options.pollInterval,W)},E0.prototype.selectionChanged=function(){var A=this.getSelection();return A.anchorNode!=this.lastAnchorNode||A.anchorOffset!=this.lastAnchorOffset||A.focusNode!=this.lastFocusNode||A.focusOffset!=this.lastFocusOffset},E0.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var A=this.getSelection(),T=this.cm;if(U&&k&&this.cm.display.gutterSpecs.length&&N6(A.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var W=dd(T,A.anchorNode,A.anchorOffset),z=dd(T,A.focusNode,A.focusOffset);W&&z&&An(T,function(){ho(T.doc,Wf(W,z),ct),(W.bad||z.bad)&&(T.curOp.selectionChanged=!0)})}}},E0.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var A=this.cm,T=A.display,W=A.doc.sel.primary(),z=W.from(),te=W.to();if(z.ch==0&&z.line>A.firstLine()&&(z=ii(z.line-1,Ti(A.doc,z.line-1).length)),te.ch==Ti(A.doc,te.line).text.length&&te.line<A.lastLine()&&(te=ii(te.line+1,0)),z.line<T.viewFrom||te.line>T.viewTo-1)return!1;var pe,Le,je;z.line==T.viewFrom||(pe=Gs(A,z.line))==0?(Le=rn(T.view[0].line),je=T.view[0].node):(Le=rn(T.view[pe].line),je=T.view[pe-1].node.nextSibling);var rt=Gs(A,te.line),ht,Ft;if(rt==T.view.length-1?(ht=T.viewTo-1,Ft=T.lineDiv.lastChild):(ht=rn(T.view[rt+1].line)-1,Ft=T.view[rt+1].node.previousSibling),!je)return!1;for(var Yt=A.doc.splitLines(F6(A,je,Ft,Le,ht)),wr=ss(A.doc,ii(Le,0),ii(ht,Ti(A.doc,ht).text.length));Yt.length>1&&wr.length>1;)if(Ht(Yt)==Ht(wr))Yt.pop(),wr.pop(),ht--;else if(Yt[0]==wr[0])Yt.shift(),wr.shift(),Le++;else break;for(var hr=0,zr=0,Zr=Yt[0],ci=wr[0],xi=Math.min(Zr.length,ci.length);hr<xi&&Zr.charCodeAt(hr)==ci.charCodeAt(hr);)++hr;for(var Ri=Ht(Yt),Ai=Ht(wr),Hi=Math.min(Ri.length-(Yt.length==1?hr:0),Ai.length-(wr.length==1?hr:0));zr<Hi&&Ri.charCodeAt(Ri.length-zr-1)==Ai.charCodeAt(Ai.length-zr-1);)++zr;if(Yt.length==1&&wr.length==1&&Le==z.line)for(;hr&&hr>z.ch&&Ri.charCodeAt(Ri.length-zr-1)==Ai.charCodeAt(Ai.length-zr-1);)hr--,zr++;Yt[Yt.length-1]=Ri.slice(0,Ri.length-zr).replace(/^\u200b+/,""),Yt[0]=Yt[0].slice(hr).replace(/\u200b+$/,"");var an=ii(Le,hr),Zi=ii(ht,wr.length?Ht(wr).length-zr:0);if(Yt.length>1||Yt[0]||pt(an,Zi))return Rc(A.doc,Yt,an,Zi,"+input"),!0},E0.prototype.ensurePolled=function(){this.forceCompositionEnd()},E0.prototype.reset=function(){this.forceCompositionEnd()},E0.prototype.forceCompositionEnd=function(){!this.composing||(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},E0.prototype.readFromDOMSoon=function(){var A=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(A.readDOMTimeout=null,A.composing)if(A.composing.done)A.composing=null;else return;A.updateFromDOM()},80))},E0.prototype.updateFromDOM=function(){var A=this;(this.cm.isReadOnly()||!this.pollContent())&&An(this.cm,function(){return zn(A.cm)})},E0.prototype.setUneditable=function(A){A.contentEditable="false"},E0.prototype.onKeyPress=function(A){A.charCode==0||this.composing||(A.preventDefault(),this.cm.isReadOnly()||ro(this.cm,xm)(this.cm,String.fromCharCode(A.charCode==null?A.keyCode:A.charCode),0))},E0.prototype.readOnlyChanged=function(A){this.div.contentEditable=String(A!="nocursor")},E0.prototype.onContextMenu=function(){},E0.prototype.resetPosition=function(){},E0.prototype.needsContentAttribute=!0;function Iy(A,T){var W=j1(A,T.line);if(!W||W.hidden)return null;var z=Ti(A.doc,T.line),te=Ub(W,z,T.line),pe=gt(z,A.doc.direction),Le="left";if(pe){var je=De(pe,T.ch);Le=je%2?"right":"left"}var rt=Gb(te.map,T.ch,Le);return rt.offset=rt.collapse=="right"?rt.end:rt.start,rt}function N6(A){for(var T=A;T;T=T.parentNode)if(/CodeMirror-gutter-wrapper/.test(T.className))return!0;return!1}function Hc(A,T){return T&&(A.bad=!0),A}function F6(A,T,W,z,te){var pe="",Le=!1,je=A.doc.lineSeparator(),rt=!1;function ht(hr){return function(zr){return zr.id==hr}}function Ft(){Le&&(pe+=je,rt&&(pe+=je),Le=rt=!1)}function Yt(hr){hr&&(Ft(),pe+=hr)}function wr(hr){if(hr.nodeType==1){var zr=hr.getAttribute("cm-text");if(zr){Yt(zr);return}var Zr=hr.getAttribute("cm-marker"),ci;if(Zr){var xi=A.findMarks(ii(z,0),ii(te+1,0),ht(+Zr));xi.length&&(ci=xi[0].find(0))&&Yt(ss(A.doc,ci.from,ci.to).join(je));return}if(hr.getAttribute("contenteditable")=="false")return;var Ri=/^(pre|div|p|li|table|br)$/i.test(hr.nodeName);if(!/^br$/i.test(hr.nodeName)&&hr.textContent.length==0)return;Ri&&Ft();for(var Ai=0;Ai<hr.childNodes.length;Ai++)wr(hr.childNodes[Ai]);/^(pre|p)$/i.test(hr.nodeName)&&(rt=!0),Ri&&(Le=!0)}else hr.nodeType==3&&Yt(hr.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;wr(T),T!=W;)T=T.nextSibling,rt=!1;return pe}function dd(A,T,W){var z;if(T==A.display.lineDiv){if(z=A.display.lineDiv.childNodes[W],!z)return Hc(A.clipPos(ii(A.display.viewTo-1)),!0);T=null,W=0}else for(z=T;;z=z.parentNode){if(!z||z==A.display.lineDiv)return null;if(z.parentNode&&z.parentNode==A.display.lineDiv)break}for(var te=0;te<A.display.view.length;te++){var pe=A.display.view[te];if(pe.node==z)return O6(pe,T,W)}}function O6(A,T,W){var z=A.text.firstChild,te=!1;if(!T||!he(z,T))return Hc(ii(rn(A.line),0),!0);if(T==z&&(te=!0,T=z.childNodes[W],W=0,!T)){var pe=A.rest?Ht(A.rest):A.line;return Hc(ii(rn(pe),pe.text.length),te)}var Le=T.nodeType==3?T:null,je=T;for(!Le&&T.childNodes.length==1&&T.firstChild.nodeType==3&&(Le=T.firstChild,W&&(W=Le.nodeValue.length));je.parentNode!=z;)je=je.parentNode;var rt=A.measure,ht=rt.maps;function Ft(ci,xi,Ri){for(var Ai=-1;Ai<(ht?ht.length:0);Ai++)for(var Hi=Ai<0?rt.map:ht[Ai],an=0;an<Hi.length;an+=3){var Zi=Hi[an+2];if(Zi==ci||Zi==xi){var Nn=rn(Ai<0?A.line:A.rest[Ai]),z0=Hi[an]+Ri;return(Ri<0||Zi!=ci)&&(z0=Hi[an+(Ri?1:0)]),ii(Nn,z0)}}}var Yt=Ft(Le,je,W);if(Yt)return Hc(Yt,te);for(var wr=je.nextSibling,hr=Le?Le.nodeValue.length-W:0;wr;wr=wr.nextSibling){if(Yt=Ft(wr,wr.firstChild,0),Yt)return Hc(ii(Yt.line,Yt.ch-hr),te);hr+=wr.textContent.length}for(var zr=je.previousSibling,Zr=W;zr;zr=zr.previousSibling){if(Yt=Ft(zr,zr.firstChild,-1),Yt)return Hc(ii(Yt.line,Yt.ch+Zr),te);Zr+=zr.textContent.length}}var bs=function(A){this.cm=A,this.prevInput="",this.pollingFast=!1,this.polling=new Me,this.hasSelection=!1,this.composing=null};bs.prototype.init=function(A){var T=this,W=this,z=this.cm;this.createField(A);var te=this.textarea;A.wrapper.insertBefore(this.wrapper,A.wrapper.firstChild),H&&(te.style.width="0px"),Bt(te,"input",function(){y&&v>=9&&T.hasSelection&&(T.hasSelection=null),W.poll()}),Bt(te,"paste",function(Le){Nt(z,Le)||Aa(Le,z)||(z.state.pasteIncoming=+new Date,W.fastPoll())});function pe(Le){if(!Nt(z,Le)){if(z.somethingSelected())hd({lineWise:!1,text:z.getSelections()});else if(z.options.lineWiseCopyCut){var je=Dy(z);hd({lineWise:!0,text:je.text}),Le.type=="cut"?z.setSelections(je.ranges,null,ct):(W.prevInput="",te.value=je.text.join(`
`),Ne(te))}else return;Le.type=="cut"&&(z.state.cutIncoming=+new Date)}}Bt(te,"cut",pe),Bt(te,"copy",pe),Bt(A.scroller,"paste",function(Le){if(!(tf(A,Le)||Nt(z,Le))){if(!te.dispatchEvent){z.state.pasteIncoming=+new Date,W.focus();return}var je=new Event("paste");je.clipboardData=Le.clipboardData,te.dispatchEvent(je)}}),Bt(A.lineSpace,"selectstart",function(Le){tf(A,Le)||gi(Le)}),Bt(te,"compositionstart",function(){var Le=z.getCursor("from");W.composing&&W.composing.range.clear(),W.composing={start:Le,range:z.markText(Le,z.getCursor("to"),{className:"CodeMirror-composing"})}}),Bt(te,"compositionend",function(){W.composing&&(W.poll(),W.composing.range.clear(),W.composing=null)})},bs.prototype.createField=function(A){this.wrapper=Oc(),this.textarea=this.wrapper.firstChild},bs.prototype.screenReaderLabelChanged=function(A){A?this.textarea.setAttribute("aria-label",A):this.textarea.removeAttribute("aria-label")},bs.prototype.prepareSelection=function(){var A=this.cm,T=A.display,W=A.doc,z=to(A);if(A.options.moveInputWithCursor){var te=Ka(A,W.sel.primary().head,"div"),pe=T.wrapper.getBoundingClientRect(),Le=T.lineDiv.getBoundingClientRect();z.teTop=Math.max(0,Math.min(T.wrapper.clientHeight-10,te.top+Le.top-pe.top)),z.teLeft=Math.max(0,Math.min(T.wrapper.clientWidth-10,te.left+Le.left-pe.left))}return z},bs.prototype.showSelection=function(A){var T=this.cm,W=T.display;de(W.cursorDiv,A.cursors),de(W.selectionDiv,A.selection),A.teTop!=null&&(this.wrapper.style.top=A.teTop+"px",this.wrapper.style.left=A.teLeft+"px")},bs.prototype.reset=function(A){if(!(this.contextMenuPending||this.composing)){var T=this.cm;if(T.somethingSelected()){this.prevInput="";var W=T.getSelection();this.textarea.value=W,T.state.focused&&Ne(this.textarea),y&&v>=9&&(this.hasSelection=W)}else A||(this.prevInput=this.textarea.value="",y&&v>=9&&(this.hasSelection=null))}},bs.prototype.getField=function(){return this.textarea},bs.prototype.supportsTouch=function(){return!1},bs.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!Z||me()!=this.textarea))try{this.textarea.focus()}catch{}},bs.prototype.blur=function(){this.textarea.blur()},bs.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},bs.prototype.receivedFocus=function(){this.slowPoll()},bs.prototype.slowPoll=function(){var A=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){A.poll(),A.cm.state.focused&&A.slowPoll()})},bs.prototype.fastPoll=function(){var A=!1,T=this;T.pollingFast=!0;function W(){var z=T.poll();!z&&!A?(A=!0,T.polling.set(60,W)):(T.pollingFast=!1,T.slowPoll())}T.polling.set(20,W)},bs.prototype.poll=function(){var A=this,T=this.cm,W=this.textarea,z=this.prevInput;if(this.contextMenuPending||!T.state.focused||Mn(W)&&!z&&!this.composing||T.isReadOnly()||T.options.disableInput||T.state.keySeq)return!1;var te=W.value;if(te==z&&!T.somethingSelected())return!1;if(y&&v>=9&&this.hasSelection===te||K&&/[\uf700-\uf7ff]/.test(te))return T.display.input.reset(),!1;if(T.doc.sel==T.display.selForContextMenu){var pe=te.charCodeAt(0);if(pe==8203&&!z&&(z="\u200B"),pe==8666)return this.reset(),this.cm.execCommand("undo")}for(var Le=0,je=Math.min(z.length,te.length);Le<je&&z.charCodeAt(Le)==te.charCodeAt(Le);)++Le;return An(T,function(){xm(T,te.slice(Le),z.length-Le,null,A.composing?"*compose":null),te.length>1e3||te.indexOf(`
`)>-1?W.value=A.prevInput="":A.prevInput=te,A.composing&&(A.composing.range.clear(),A.composing.range=T.markText(A.composing.start,T.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},bs.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},bs.prototype.onKeyPress=function(){y&&v>=9&&(this.hasSelection=null),this.fastPoll()},bs.prototype.onContextMenu=function(A){var T=this,W=T.cm,z=W.display,te=T.textarea;T.contextMenuPending&&T.contextMenuPending();var pe=el(W,A),Le=z.scroller.scrollTop;if(!pe||R)return;var je=W.options.resetSelectionOnContextMenu;je&&W.doc.sel.contains(pe)==-1&&ro(W,ho)(W.doc,Wf(pe),ct);var rt=te.style.cssText,ht=T.wrapper.style.cssText,Ft=T.wrapper.offsetParent.getBoundingClientRect();T.wrapper.style.cssText="position: static",te.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(A.clientY-Ft.top-5)+"px; left: "+(A.clientX-Ft.left-5)+`px;
      z-index: 1000; background: `+(y?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var Yt;E&&(Yt=window.scrollY),z.input.focus(),E&&window.scrollTo(null,Yt),z.input.reset(),W.somethingSelected()||(te.value=T.prevInput=" "),T.contextMenuPending=hr,z.selForContextMenu=W.doc.sel,clearTimeout(z.detectingSelectAll);function wr(){if(te.selectionStart!=null){var Zr=W.somethingSelected(),ci="\u200B"+(Zr?te.value:"");te.value="\u21DA",te.value=ci,T.prevInput=Zr?"":"\u200B",te.selectionStart=1,te.selectionEnd=ci.length,z.selForContextMenu=W.doc.sel}}function hr(){if(T.contextMenuPending==hr&&(T.contextMenuPending=!1,T.wrapper.style.cssText=ht,te.style.cssText=rt,y&&v<9&&z.scrollbars.setScrollTop(z.scroller.scrollTop=Le),te.selectionStart!=null)){(!y||y&&v<9)&&wr();var Zr=0,ci=function(){z.selForContextMenu==W.doc.sel&&te.selectionStart==0&&te.selectionEnd>0&&T.prevInput=="\u200B"?ro(W,lm)(W):Zr++<10?z.detectingSelectAll=setTimeout(ci,500):(z.selForContextMenu=null,z.input.reset())};z.detectingSelectAll=setTimeout(ci,200)}}if(y&&v>=9&&wr(),ve){Fe(A);var zr=function(){Rr(window,"mouseup",zr),setTimeout(hr,20)};Bt(window,"mouseup",zr)}else setTimeout(hr,50)},bs.prototype.readOnlyChanged=function(A){A||this.reset(),this.textarea.disabled=A=="nocursor",this.textarea.readOnly=!!A},bs.prototype.setUneditable=function(){},bs.prototype.needsContentAttribute=!1;function H6(A,T){if(T=T?Ue(T):{},T.value=A.value,!T.tabindex&&A.tabIndex&&(T.tabindex=A.tabIndex),!T.placeholder&&A.placeholder&&(T.placeholder=A.placeholder),T.autofocus==null){var W=me();T.autofocus=W==A||A.getAttribute("autofocus")!=null&&W==document.body}function z(){A.value=je.getValue()}var te;if(A.form&&(Bt(A.form,"submit",z),!T.leaveSubmitMethodAlone)){var pe=A.form;te=pe.submit;try{var Le=pe.submit=function(){z(),pe.submit=te,pe.submit(),pe.submit=Le}}catch{}}T.finishInit=function(rt){rt.save=z,rt.getTextArea=function(){return A},rt.toTextArea=function(){rt.toTextArea=isNaN,z(),A.parentNode.removeChild(rt.getWrapperElement()),A.style.display="",A.form&&(Rr(A.form,"submit",z),!T.leaveSubmitMethodAlone&&typeof A.form.submit=="function"&&(A.form.submit=te))}},A.style.display="none";var je=es(function(rt){return A.parentNode.insertBefore(rt,A.nextSibling)},T);return je}function U6(A){A.off=Rr,A.on=Bt,A.wheelEventPixels=f6,A.Doc=Yo,A.splitLines=ni,A.countColumn=ce,A.findColumn=Dt,A.isWordChar=xt,A.Pass=Xe,A.signal=Ct,A.Line=vc,A.changeEnd=Qf,A.scrollbarModel=bn,A.Pos=ii,A.cmpPos=pt,A.modes=xr,A.mimeModes=Fr,A.resolveMode=Li,A.getMode=hn,A.modeExtensions=Pi,A.extendMode=ji,A.copyState=un,A.startState=ks,A.innerMode=Kn,A.commands=od,A.keyMap=sf,A.keyName=Ay,A.isModifierKey=vy,A.lookupKey=Lc,A.normalizeKeyMap=yy,A.StringStream=Jn,A.SharedTextMarker=nd,A.TextMarker=qf,A.LineWidget=id,A.e_preventDefault=gi,A.e_stopPropagation=ki,A.e_stop=Fe,A.addClass=Re,A.contains=he,A.rmClass=ae,A.keyNames=Zf}Fc(es),P6(es);var af="iter insert remove copy getEditor constructor".split(" ");for(var Uu in Yo.prototype)Yo.prototype.hasOwnProperty(Uu)&&ot(af,Uu)<0&&(es.prototype[Uu]=function(A){return function(){return A.apply(this.doc,arguments)}}(Yo.prototype[Uu]));return Vr(Yo),es.inputStyles={textarea:bs,contenteditable:E0},es.defineMode=function(A){!es.defaults.mode&&A!="null"&&(es.defaults.mode=A),qi.apply(this,arguments)},es.defineMIME=ui,es.defineMode("null",function(){return{token:function(A){return A.skipToEnd()}}}),es.defineMIME("text/plain","null"),es.defineExtension=function(A,T){es.prototype[A]=T},es.defineDocExtension=function(A,T){Yo.prototype[A]=T},es.fromTextArea=H6,U6(es),es.version="5.65.2",es});(function(a){typeof exports=="object"&&typeof module=="object"?a(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){a.defineMode("javascript",function(t,r){var n=t.indentUnit,c=r.statementIndent,p=r.jsonld,y=r.json||p,v=r.trackScope!==!1,E=r.typescript,_=r.wordCharacters||/[\w$\xa1-\uffff]/,k=function(){function pt(So){return{type:So,style:"keyword"}}var Xt=pt("keyword a"),Jr=pt("keyword b"),ei=pt("keyword c"),dn=pt("keyword d"),Gn=pt("operator"),Ci={type:"atom",style:"atom"};return{if:pt("if"),while:Xt,with:Xt,else:Jr,do:Jr,try:Jr,finally:Jr,return:dn,break:dn,continue:dn,new:pt("new"),delete:ei,void:ei,throw:ei,debugger:pt("debugger"),var:pt("var"),const:pt("var"),let:pt("var"),function:pt("function"),catch:pt("catch"),for:pt("for"),switch:pt("switch"),case:pt("case"),default:pt("default"),in:Gn,typeof:Gn,instanceof:Gn,true:Ci,false:Ci,null:Ci,undefined:Ci,NaN:Ci,Infinity:Ci,this:pt("this"),class:pt("class"),super:pt("atom"),yield:ei,export:pt("export"),import:pt("import"),extends:ei,await:ei}}(),R=/[+\-*&%=<>!?|~^@]/,B=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function M(pt){for(var Xt=!1,Jr,ei=!1;(Jr=pt.next())!=null;){if(!Xt){if(Jr=="/"&&!ei)return;Jr=="["?ei=!0:ei&&Jr=="]"&&(ei=!1)}Xt=!Xt&&Jr=="\\"}}var F,H;function U(pt,Xt,Jr){return F=pt,H=Jr,Xt}function Z(pt,Xt){var Jr=pt.next();if(Jr=='"'||Jr=="'")return Xt.tokenize=K(Jr),Xt.tokenize(pt,Xt);if(Jr=="."&&pt.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return U("number","number");if(Jr=="."&&pt.match(".."))return U("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Jr))return U(Jr);if(Jr=="="&&pt.eat(">"))return U("=>","operator");if(Jr=="0"&&pt.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return U("number","number");if(/\d/.test(Jr))return pt.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),U("number","number");if(Jr=="/")return pt.eat("*")?(Xt.tokenize=fe,fe(pt,Xt)):pt.eat("/")?(pt.skipToEnd(),U("comment","comment")):ii(pt,Xt,1)?(M(pt),pt.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),U("regexp","string-2")):(pt.eat("="),U("operator","operator",pt.current()));if(Jr=="`")return Xt.tokenize=oe,oe(pt,Xt);if(Jr=="#"&&pt.peek()=="!")return pt.skipToEnd(),U("meta","meta");if(Jr=="#"&&pt.eatWhile(_))return U("variable","property");if(Jr=="<"&&pt.match("!--")||Jr=="-"&&pt.match("->")&&!/\S/.test(pt.string.slice(0,pt.start)))return pt.skipToEnd(),U("comment","comment");if(R.test(Jr))return(Jr!=">"||!Xt.lexical||Xt.lexical.type!=">")&&(pt.eat("=")?(Jr=="!"||Jr=="=")&&pt.eat("="):/[<>*+\-|&?]/.test(Jr)&&(pt.eat(Jr),Jr==">"&&pt.eat(Jr))),Jr=="?"&&pt.eat(".")?U("."):U("operator","operator",pt.current());if(_.test(Jr)){pt.eatWhile(_);var ei=pt.current();if(Xt.lastType!="."){if(k.propertyIsEnumerable(ei)){var dn=k[ei];return U(dn.type,dn.style,ei)}if(ei=="async"&&pt.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return U("async","keyword",ei)}return U("variable","variable",ei)}}function K(pt){return function(Xt,Jr){var ei=!1,dn;if(p&&Xt.peek()=="@"&&Xt.match(B))return Jr.tokenize=Z,U("jsonld-keyword","meta");for(;(dn=Xt.next())!=null&&!(dn==pt&&!ei);)ei=!ei&&dn=="\\";return ei||(Jr.tokenize=Z),U("string","string")}}function fe(pt,Xt){for(var Jr=!1,ei;ei=pt.next();){if(ei=="/"&&Jr){Xt.tokenize=Z;break}Jr=ei=="*"}return U("comment","comment")}function oe(pt,Xt){for(var Jr=!1,ei;(ei=pt.next())!=null;){if(!Jr&&(ei=="`"||ei=="$"&&pt.eat("{"))){Xt.tokenize=Z;break}Jr=!Jr&&ei=="\\"}return U("quasi","string-2",pt.current())}var we="([{}])";function be(pt,Xt){Xt.fatArrowAt&&(Xt.fatArrowAt=null);var Jr=pt.string.indexOf("=>",pt.start);if(!(Jr<0)){if(E){var ei=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(pt.string.slice(pt.start,Jr));ei&&(Jr=ei.index)}for(var dn=0,Gn=!1,Ci=Jr-1;Ci>=0;--Ci){var So=pt.string.charAt(Ci),wa=we.indexOf(So);if(wa>=0&&wa<3){if(!dn){++Ci;break}if(--dn==0){So=="("&&(Gn=!0);break}}else if(wa>=3&&wa<6)++dn;else if(_.test(So))Gn=!0;else if(/["'\/`]/.test(So))for(;;--Ci){if(Ci==0)return;var yc=pt.string.charAt(Ci-1);if(yc==So&&pt.string.charAt(Ci-2)!="\\"){Ci--;break}}else if(Gn&&!dn){++Ci;break}}Gn&&!dn&&(Xt.fatArrowAt=Ci)}}var ve={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function ne(pt,Xt,Jr,ei,dn,Gn){this.indented=pt,this.column=Xt,this.type=Jr,this.prev=dn,this.info=Gn,ei!=null&&(this.align=ei)}function ae(pt,Xt){if(!v)return!1;for(var Jr=pt.localVars;Jr;Jr=Jr.next)if(Jr.name==Xt)return!0;for(var ei=pt.context;ei;ei=ei.prev)for(var Jr=ei.vars;Jr;Jr=Jr.next)if(Jr.name==Xt)return!0}function ye(pt,Xt,Jr,ei,dn){var Gn=pt.cc;for(de.state=pt,de.stream=dn,de.marked=null,de.cc=Gn,de.style=Xt,pt.lexical.hasOwnProperty("align")||(pt.lexical.align=!0);;){var Ci=Gn.length?Gn.pop():y?Et:ct;if(Ci(Jr,ei)){for(;Gn.length&&Gn[Gn.length-1].lex;)Gn.pop()();return de.marked?de.marked:Jr=="variable"&&ae(pt,ei)?"variable-2":Xt}}}var de={state:null,column:null,marked:null,cc:null};function xe(){for(var pt=arguments.length-1;pt>=0;pt--)de.cc.push(arguments[pt])}function le(){return xe.apply(null,arguments),!0}function re(pt,Xt){for(var Jr=Xt;Jr;Jr=Jr.next)if(Jr.name==pt)return!0;return!1}function he(pt){var Xt=de.state;if(de.marked="def",!!v){if(Xt.context){if(Xt.lexical.info=="var"&&Xt.context&&Xt.context.block){var Jr=me(pt,Xt.context);if(Jr!=null){Xt.context=Jr;return}}else if(!re(pt,Xt.localVars)){Xt.localVars=new Ne(pt,Xt.localVars);return}}r.globalVars&&!re(pt,Xt.globalVars)&&(Xt.globalVars=new Ne(pt,Xt.globalVars))}}function me(pt,Xt){if(Xt)if(Xt.block){var Jr=me(pt,Xt.prev);return Jr?Jr==Xt.prev?Xt:new Ie(Jr,Xt.vars,!0):null}else return re(pt,Xt.vars)?Xt:new Ie(Xt.prev,new Ne(pt,Xt.vars),!1);else return null}function Re(pt){return pt=="public"||pt=="private"||pt=="protected"||pt=="abstract"||pt=="readonly"}function Ie(pt,Xt,Jr){this.prev=pt,this.vars=Xt,this.block=Jr}function Ne(pt,Xt){this.name=pt,this.next=Xt}var Qe=new Ne("this",new Ne("arguments",null));function Ue(){de.state.context=new Ie(de.state.context,de.state.localVars,!1),de.state.localVars=Qe}function ce(){de.state.context=new Ie(de.state.context,de.state.localVars,!0),de.state.localVars=null}function Me(){de.state.localVars=de.state.context.vars,de.state.context=de.state.context.prev}Me.lex=!0;function ot(pt,Xt){var Jr=function(){var ei=de.state,dn=ei.indented;if(ei.lexical.type=="stat")dn=ei.lexical.indented;else for(var Gn=ei.lexical;Gn&&Gn.type==")"&&Gn.align;Gn=Gn.prev)dn=Gn.indented;ei.lexical=new ne(dn,de.stream.column(),pt,null,ei.lexical,Xt)};return Jr.lex=!0,Jr}function Se(){var pt=de.state;pt.lexical.prev&&(pt.lexical.type==")"&&(pt.indented=pt.lexical.indented),pt.lexical=pt.lexical.prev)}Se.lex=!0;function Xe(pt){function Xt(Jr){return Jr==pt?le():pt==";"||Jr=="}"||Jr==")"||Jr=="]"?xe():le(Xt)}return Xt}function ct(pt,Xt){return pt=="var"?le(ot("vardef",Xt),Ot,Xe(";"),Se):pt=="keyword a"?le(ot("form"),er,ct,Se):pt=="keyword b"?le(ot("form"),ct,Se):pt=="keyword d"?de.stream.match(/^\s*$/,!1)?le():le(ot("stat"),Ht,Xe(";"),Se):pt=="debugger"?le(Xe(";")):pt=="{"?le(ot("}"),ce,gt,Se,Me):pt==";"?le():pt=="if"?(de.state.lexical.info=="else"&&de.state.cc[de.state.cc.length-1]==Se&&de.state.cc.pop()(),le(ot("form"),er,ct,Se,Mn)):pt=="function"?le(xr):pt=="for"?le(ot("form"),ce,Tt,ct,Me,Se):pt=="class"||E&&Xt=="interface"?(de.marked="keyword",le(ot("form",pt=="class"?pt:Xt),hn,Se)):pt=="variable"?E&&Xt=="declare"?(de.marked="keyword",le(ct)):E&&(Xt=="module"||Xt=="enum"||Xt=="type")&&de.stream.match(/^\s*\w/,!1)?(de.marked="keyword",Xt=="enum"?le($0):Xt=="type"?le(qi,Xe("operator"),Ct,Xe(";")):le(ot("form"),$t,Xe("{"),ot("}"),gt,Se,Se)):E&&Xt=="namespace"?(de.marked="keyword",le(ot("form"),Et,ct,Se)):E&&Xt=="abstract"?(de.marked="keyword",le(ct)):le(ot("stat"),ft):pt=="switch"?le(ot("form"),er,Xe("{"),ot("}","switch"),ce,gt,Se,Se,Me):pt=="case"?le(Et,Xe(":")):pt=="default"?le(Xe(":")):pt=="catch"?le(ot("form"),Ue,$e,ct,Se,Me):pt=="export"?le(ot("stat"),Kn,Se):pt=="import"?le(ot("stat"),Jn,Se):pt=="async"?le(ct):Xt=="@"?le(Et,ct):xe(ot("stat"),Et,Xe(";"),Se)}function $e(pt){if(pt=="(")return le(ui,Xe(")"))}function Et(pt,Xt){return Gt(pt,Xt,!1)}function Dt(pt,Xt){return Gt(pt,Xt,!0)}function er(pt){return pt!="("?xe():le(ot(")"),Ht,Xe(")"),Se)}function Gt(pt,Xt,Jr){if(de.state.fatArrowAt==de.stream.start){var ei=Jr?xt:oi;if(pt=="(")return le(Ue,ot(")"),De(ui,")"),Se,Xe("=>"),ei,Me);if(pt=="variable")return xe(Ue,$t,Xe("=>"),ei,Me)}var dn=Jr?yr:Kt;return ve.hasOwnProperty(pt)?le(dn):pt=="function"?le(xr,dn):pt=="class"||E&&Xt=="interface"?(de.marked="keyword",le(ot("form"),Li,Se)):pt=="keyword c"||pt=="async"?le(Jr?Dt:Et):pt=="("?le(ot(")"),Ht,Xe(")"),Se,dn):pt=="operator"||pt=="spread"?le(Jr?Dt:Et):pt=="["?le(ot("]"),rn,Se,dn):pt=="{"?Te(ir,"}",null,dn):pt=="quasi"?xe(Ur,dn):pt=="new"?le(kt(Jr)):le()}function Ht(pt){return pt.match(/[;\}\)\],]/)?xe():xe(Et)}function Kt(pt,Xt){return pt==","?le(Ht):yr(pt,Xt,!1)}function yr(pt,Xt,Jr){var ei=Jr==!1?Kt:yr,dn=Jr==!1?Et:Dt;if(pt=="=>")return le(Ue,Jr?xt:oi,Me);if(pt=="operator")return/\+\+|--/.test(Xt)||E&&Xt=="!"?le(ei):E&&Xt=="<"&&de.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?le(ot(">"),De(Ct,">"),Se,ei):Xt=="?"?le(Et,Xe(":"),dn):le(dn);if(pt=="quasi")return xe(Ur,ei);if(pt!=";"){if(pt=="(")return Te(Dt,")","call",ei);if(pt==".")return le(Ut,ei);if(pt=="[")return le(ot("]"),Ht,Xe("]"),Se,ei);if(E&&Xt=="as")return de.marked="keyword",le(Ct,ei);if(pt=="regexp")return de.state.lastType=de.marked="operator",de.stream.backUp(de.stream.pos-de.stream.start-1),le(dn)}}function Ur(pt,Xt){return pt!="quasi"?xe():Xt.slice(Xt.length-2)!="${"?le(Ur):le(Ht,Yr)}function Yr(pt){if(pt=="}")return de.marked="string-2",de.state.tokenize=oe,le(Ur)}function oi(pt){return be(de.stream,de.state),xe(pt=="{"?ct:Et)}function xt(pt){return be(de.stream,de.state),xe(pt=="{"?ct:Dt)}function kt(pt){return function(Xt){return Xt=="."?le(pt?mt:rr):Xt=="variable"&&E?le(Fe,pt?yr:Kt):xe(pt?Dt:Et)}}function rr(pt,Xt){if(Xt=="target")return de.marked="keyword",le(Kt)}function mt(pt,Xt){if(Xt=="target")return de.marked="keyword",le(yr)}function ft(pt){return pt==":"?le(Se,ct):xe(Kt,Xe(";"),Se)}function Ut(pt){if(pt=="variable")return de.marked="property",le()}function ir(pt,Xt){if(pt=="async")return de.marked="property",le(ir);if(pt=="variable"||de.style=="keyword"){if(de.marked="property",Xt=="get"||Xt=="set")return le(vr);var Jr;return E&&de.state.fatArrowAt==de.stream.start&&(Jr=de.stream.match(/^\s*:\s*/,!1))&&(de.state.fatArrowAt=de.stream.pos+Jr[0].length),le(nt)}else{if(pt=="number"||pt=="string")return de.marked=p?"property":de.style+" property",le(nt);if(pt=="jsonld-keyword")return le(nt);if(E&&Re(Xt))return de.marked="keyword",le(ir);if(pt=="[")return le(Et,zt,Xe("]"),nt);if(pt=="spread")return le(Dt,nt);if(Xt=="*")return de.marked="keyword",le(ir);if(pt==":")return xe(nt)}}function vr(pt){return pt!="variable"?xe(nt):(de.marked="property",le(xr))}function nt(pt){if(pt==":")return le(Dt);if(pt=="(")return xe(xr)}function De(pt,Xt,Jr){function ei(dn,Gn){if(Jr?Jr.indexOf(dn)>-1:dn==","){var Ci=de.state.lexical;return Ci.info=="call"&&(Ci.pos=(Ci.pos||0)+1),le(function(So,wa){return So==Xt||wa==Xt?xe():xe(pt)},ei)}return dn==Xt||Gn==Xt?le():Jr&&Jr.indexOf(";")>-1?xe(pt):le(Xe(Xt))}return function(dn,Gn){return dn==Xt||Gn==Xt?le():xe(pt,ei)}}function Te(pt,Xt,Jr){for(var ei=3;ei<arguments.length;ei++)de.cc.push(arguments[ei]);return le(ot(Xt,Jr),De(pt,Xt),Se)}function gt(pt){return pt=="}"?le():xe(ct,gt)}function zt(pt,Xt){if(E){if(pt==":")return le(Ct);if(Xt=="?")return le(zt)}}function Bt(pt,Xt){if(E&&(pt==":"||Xt=="in"))return le(Ct)}function bt(pt){if(E&&pt==":")return de.stream.match(/^\s*\w+\s+is\b/,!1)?le(Et,Rr,Ct):le(Ct)}function Rr(pt,Xt){if(Xt=="is")return de.marked="keyword",le()}function Ct(pt,Xt){if(Xt=="keyof"||Xt=="typeof"||Xt=="infer"||Xt=="readonly")return de.marked="keyword",le(Xt=="typeof"?Dt:Ct);if(pt=="variable"||Xt=="void")return de.marked="type",le(mi);if(Xt=="|"||Xt=="&")return le(Ct);if(pt=="string"||pt=="number"||pt=="atom")return le(mi);if(pt=="[")return le(ot("]"),De(Ct,"]",","),Se,mi);if(pt=="{")return le(ot("}"),lr,Se,mi);if(pt=="(")return le(De(ki,")"),Nt,mi);if(pt=="<")return le(De(Ct,">"),Ct);if(pt=="quasi")return xe(Vr,mi)}function Nt(pt){if(pt=="=>")return le(Ct)}function lr(pt){return pt.match(/[\}\)\]]/)?le():pt==","||pt==";"?le(lr):xe(Sr,lr)}function Sr(pt,Xt){if(pt=="variable"||de.style=="keyword")return de.marked="property",le(Sr);if(Xt=="?"||pt=="number"||pt=="string")return le(Sr);if(pt==":")return le(Ct);if(pt=="[")return le(Xe("variable"),Bt,Xe("]"),Sr);if(pt=="(")return xe(Fr,Sr);if(!pt.match(/[;\}\)\],]/))return le()}function Vr(pt,Xt){return pt!="quasi"?xe():Xt.slice(Xt.length-2)!="${"?le(Vr):le(Ct,gi)}function gi(pt){if(pt=="}")return de.marked="string-2",de.state.tokenize=oe,le(Vr)}function ki(pt,Xt){return pt=="variable"&&de.stream.match(/^\s*[?:]/,!1)||Xt=="?"?le(ki):pt==":"?le(Ct):pt=="spread"?le(ki):xe(Ct)}function mi(pt,Xt){if(Xt=="<")return le(ot(">"),De(Ct,">"),Se,mi);if(Xt=="|"||pt=="."||Xt=="&")return le(Ct);if(pt=="[")return le(Ct,Xe("]"),mi);if(Xt=="extends"||Xt=="implements")return de.marked="keyword",le(Ct);if(Xt=="?")return le(Ct,Xe(":"),Ct)}function Fe(pt,Xt){if(Xt=="<")return le(ot(">"),De(Ct,">"),Se,mi)}function Ke(){return xe(Ct,dt)}function dt(pt,Xt){if(Xt=="=")return le(Ct)}function Ot(pt,Xt){return Xt=="enum"?(de.marked="keyword",le($0)):xe($t,zt,jt,ni)}function $t(pt,Xt){if(E&&Re(Xt))return de.marked="keyword",le($t);if(pt=="variable")return he(Xt),le();if(pt=="spread")return le($t);if(pt=="[")return Te(ai,"]");if(pt=="{")return Te(Cr,"}")}function Cr(pt,Xt){return pt=="variable"&&!de.stream.match(/^\s*:/,!1)?(he(Xt),le(jt)):(pt=="variable"&&(de.marked="property"),pt=="spread"?le($t):pt=="}"?xe():pt=="["?le(Et,Xe("]"),Xe(":"),Cr):le(Xe(":"),$t,jt))}function ai(){return xe($t,jt)}function jt(pt,Xt){if(Xt=="=")return le(Dt)}function ni(pt){if(pt==",")return le(Ot)}function Mn(pt,Xt){if(pt=="keyword b"&&Xt=="else")return le(ot("form","else"),ct,Se)}function Tt(pt,Xt){if(Xt=="await")return le(Tt);if(pt=="(")return le(ot(")"),ur,Se)}function ur(pt){return pt=="var"?le(Ot,Pr):pt=="variable"?le(Pr):xe(Pr)}function Pr(pt,Xt){return pt==")"?le():pt==";"?le(Pr):Xt=="in"||Xt=="of"?(de.marked="keyword",le(Et,Pr)):xe(Et,Pr)}function xr(pt,Xt){if(Xt=="*")return de.marked="keyword",le(xr);if(pt=="variable")return he(Xt),le(xr);if(pt=="(")return le(Ue,ot(")"),De(ui,")"),Se,bt,ct,Me);if(E&&Xt=="<")return le(ot(">"),De(Ke,">"),Se,xr)}function Fr(pt,Xt){if(Xt=="*")return de.marked="keyword",le(Fr);if(pt=="variable")return he(Xt),le(Fr);if(pt=="(")return le(Ue,ot(")"),De(ui,")"),Se,bt,Me);if(E&&Xt=="<")return le(ot(">"),De(Ke,">"),Se,Fr)}function qi(pt,Xt){if(pt=="keyword"||pt=="variable")return de.marked="type",le(qi);if(Xt=="<")return le(ot(">"),De(Ke,">"),Se)}function ui(pt,Xt){return Xt=="@"&&le(Et,ui),pt=="spread"?le(ui):E&&Re(Xt)?(de.marked="keyword",le(ui)):E&&pt=="this"?le(zt,jt):xe($t,zt,jt)}function Li(pt,Xt){return pt=="variable"?hn(pt,Xt):Pi(pt,Xt)}function hn(pt,Xt){if(pt=="variable")return he(Xt),le(Pi)}function Pi(pt,Xt){if(Xt=="<")return le(ot(">"),De(Ke,">"),Se,Pi);if(Xt=="extends"||Xt=="implements"||E&&pt==",")return Xt=="implements"&&(de.marked="keyword"),le(E?Ct:Et,Pi);if(pt=="{")return le(ot("}"),ji,Se)}function ji(pt,Xt){if(pt=="async"||pt=="variable"&&(Xt=="static"||Xt=="get"||Xt=="set"||E&&Re(Xt))&&de.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return de.marked="keyword",le(ji);if(pt=="variable"||de.style=="keyword")return de.marked="property",le(un,ji);if(pt=="number"||pt=="string")return le(un,ji);if(pt=="[")return le(Et,zt,Xe("]"),un,ji);if(Xt=="*")return de.marked="keyword",le(ji);if(E&&pt=="(")return xe(Fr,ji);if(pt==";"||pt==",")return le(ji);if(pt=="}")return le();if(Xt=="@")return le(Et,ji)}function un(pt,Xt){if(Xt=="!"||Xt=="?")return le(un);if(pt==":")return le(Ct,jt);if(Xt=="=")return le(Dt);var Jr=de.state.lexical.prev,ei=Jr&&Jr.info=="interface";return xe(ei?Fr:xr)}function Kn(pt,Xt){return Xt=="*"?(de.marked="keyword",le(os,Xe(";"))):Xt=="default"?(de.marked="keyword",le(Et,Xe(";"))):pt=="{"?le(De(ks,"}"),os,Xe(";")):xe(ct)}function ks(pt,Xt){if(Xt=="as")return de.marked="keyword",le(Xe("variable"));if(pt=="variable")return xe(Dt,ks)}function Jn(pt){return pt=="string"?le():pt=="("?xe(Et):pt=="."?xe(Kt):xe(Ti,ss,os)}function Ti(pt,Xt){return pt=="{"?Te(Ti,"}"):(pt=="variable"&&he(Xt),Xt=="*"&&(de.marked="keyword"),le(Dn))}function ss(pt){if(pt==",")return le(Ti,ss)}function Dn(pt,Xt){if(Xt=="as")return de.marked="keyword",le(Ti)}function os(pt,Xt){if(Xt=="from")return de.marked="keyword",le(Et)}function rn(pt){return pt=="]"?le():xe(De(Dt,"]"))}function $0(){return xe(ot("form"),$t,Xe("{"),ot("}"),De(js,"}"),Se,Se)}function js(){return xe($t,jt)}function $s(pt,Xt){return pt.lastType=="operator"||pt.lastType==","||R.test(Xt.charAt(0))||/[,.]/.test(Xt.charAt(0))}function ii(pt,Xt,Jr){return Xt.tokenize==Z&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(Xt.lastType)||Xt.lastType=="quasi"&&/\{\s*$/.test(pt.string.slice(0,pt.pos-(Jr||0)))}return{startState:function(pt){var Xt={tokenize:Z,lastType:"sof",cc:[],lexical:new ne((pt||0)-n,0,"block",!1),localVars:r.localVars,context:r.localVars&&new Ie(null,null,!1),indented:pt||0};return r.globalVars&&typeof r.globalVars=="object"&&(Xt.globalVars=r.globalVars),Xt},token:function(pt,Xt){if(pt.sol()&&(Xt.lexical.hasOwnProperty("align")||(Xt.lexical.align=!1),Xt.indented=pt.indentation(),be(pt,Xt)),Xt.tokenize!=fe&&pt.eatSpace())return null;var Jr=Xt.tokenize(pt,Xt);return F=="comment"?Jr:(Xt.lastType=F=="operator"&&(H=="++"||H=="--")?"incdec":F,ye(Xt,Jr,F,H,pt))},indent:function(pt,Xt){if(pt.tokenize==fe||pt.tokenize==oe)return a.Pass;if(pt.tokenize!=Z)return 0;var Jr=Xt&&Xt.charAt(0),ei=pt.lexical,dn;if(!/^\s*else\b/.test(Xt))for(var Gn=pt.cc.length-1;Gn>=0;--Gn){var Ci=pt.cc[Gn];if(Ci==Se)ei=ei.prev;else if(Ci!=Mn&&Ci!=Me)break}for(;(ei.type=="stat"||ei.type=="form")&&(Jr=="}"||(dn=pt.cc[pt.cc.length-1])&&(dn==Kt||dn==yr)&&!/^[,\.=+\-*:?[\(]/.test(Xt));)ei=ei.prev;c&&ei.type==")"&&ei.prev.type=="stat"&&(ei=ei.prev);var So=ei.type,wa=Jr==So;return So=="vardef"?ei.indented+(pt.lastType=="operator"||pt.lastType==","?ei.info.length+1:0):So=="form"&&Jr=="{"?ei.indented:So=="form"?ei.indented+n:So=="stat"?ei.indented+($s(pt,Xt)?c||n:0):ei.info=="switch"&&!wa&&r.doubleIndentSwitch!=!1?ei.indented+(/^(?:case|default)\b/.test(Xt)?n:2*n):ei.align?ei.column+(wa?0:1):ei.indented+(wa?0:n)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:y?null:"/*",blockCommentEnd:y?null:"*/",blockCommentContinue:y?null:" * ",lineComment:y?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:y?"json":"javascript",jsonldMode:p,jsonMode:y,expressionAllowed:ii,skipExpression:function(pt){ye(pt,"atom","atom","true",new a.StringStream("",2,null))}}}),a.registerHelper("wordChars","javascript",/[\w$]/),a.defineMIME("text/javascript","javascript"),a.defineMIME("text/ecmascript","javascript"),a.defineMIME("application/javascript","javascript"),a.defineMIME("application/x-javascript","javascript"),a.defineMIME("application/ecmascript","javascript"),a.defineMIME("application/json",{name:"javascript",json:!0}),a.defineMIME("application/x-json",{name:"javascript",json:!0}),a.defineMIME("application/manifest+json",{name:"javascript",json:!0}),a.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),a.defineMIME("text/typescript",{name:"javascript",typescript:!0}),a.defineMIME("application/typescript",{name:"javascript",typescript:!0})});(function(a){typeof exports=="object"&&typeof module=="object"?a(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){a.defineMode("glsl",function(p,y){var v=p.indentUnit,E=y.keywords||t(r),_=y.builtins||t(n),k=y.blockKeywords||t("case do else for if switch while struct"),R=y.atoms||t("null"),B=y.hooks||{},M=y.multiLineStrings,F=/[+\-*&%=<>!?|\/]/,H;function U(be,ve){var ne=be.next();if(B[ne]){var ae=B[ne](be,ve);if(ae!==!1)return ae}if(ne=='"'||ne=="'")return ve.tokenize=Z(ne),ve.tokenize(be,ve);if(/[\[\]{}\(\),;\:\.]/.test(ne))return H=ne,"bracket";if(/\d/.test(ne))return be.eatWhile(/[\w\.]/),"number";if(ne=="/"){if(be.eat("*"))return ve.tokenize=K,K(be,ve);if(be.eat("/"))return be.skipToEnd(),"comment"}if(ne=="#")return be.eatWhile(/[\S]+/),be.eatWhile(/[\s]+/),be.eatWhile(/[\S]+/),be.eatWhile(/[\s]+/),"comment";if(F.test(ne))return be.eatWhile(F),"operator";be.eatWhile(/[\w\$_]/);var ye=be.current();return E.propertyIsEnumerable(ye)?(k.propertyIsEnumerable(ye)&&(H="newstatement"),"keyword"):_.propertyIsEnumerable(ye)?"builtin":R.propertyIsEnumerable(ye)?"atom":"word"}function Z(be){return function(ve,ne){for(var ae=!1,ye,de=!1;(ye=ve.next())!=null;){if(ye==be&&!ae){de=!0;break}ae=!ae&&ye=="\\"}return(de||!(ae||M))&&(ne.tokenize=U),"string"}}function K(be,ve){for(var ne=!1,ae;ae=be.next();){if(ae=="/"&&ne){ve.tokenize=U;break}ne=ae=="*"}return"comment"}function fe(be,ve,ne,ae,ye){this.indented=be,this.column=ve,this.type=ne,this.align=ae,this.prev=ye}function oe(be,ve,ne){return be.context=new fe(be.indented,ve,ne,null,be.context)}function we(be){var ve=be.context.type;return(ve==")"||ve=="]"||ve=="}")&&(be.indented=be.context.indented),be.context=be.context.prev}return{startState:function(be){return{tokenize:null,context:new fe((be||0)-v,0,"top",!1),indented:0,startOfLine:!0}},token:function(be,ve){var ne=ve.context;if(be.sol()&&(ne.align==null&&(ne.align=!1),ve.indented=be.indentation(),ve.startOfLine=!0),be.eatSpace())return null;H=null;var ae=(ve.tokenize||U)(be,ve);if(ae=="comment"||ae=="meta")return ae;if(ne.align==null&&(ne.align=!0),(H==";"||H==":")&&ne.type=="statement")we(ve);else if(H=="{")oe(ve,be.column(),"}");else if(H=="[")oe(ve,be.column(),"]");else if(H=="(")oe(ve,be.column(),")");else if(H=="}"){for(;ne.type=="statement";)ne=we(ve);for(ne.type=="}"&&(ne=we(ve));ne.type=="statement";)ne=we(ve)}else H==ne.type?we(ve):(ne.type=="}"||ne.type=="top"||ne.type=="statement"&&H=="newstatement")&&oe(ve,be.column(),"statement");return ve.startOfLine=!1,ae},indent:function(be,ve){if(be.tokenize!=U&&be.tokenize!=null)return 0;var ne=ve&&ve.charAt(0),ae=be.context,ye=ne==ae.type;return ae.type=="statement"?ae.indented+(ne=="{"?0:v):ae.align?ae.column+(ye?0:1):ae.indented+(ye?0:v)},electricChars:"{}"}});function t(p){for(var y={},v=p.split(" "),E=0;E<v.length;++E)y[v[E]]=!0;return y}var r="attribute const uniform varying break continue do for while if else in out inout float int void bool true false lowp mediump highp precision invariant discard return mat2 mat3 mat4 vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 sampler2D samplerCube struct gl_FragCoord gl_FragColor gl_Position",n="radians degrees sin cos tan asin acos atan pow exp log exp2 log2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not dFdx dFdy fwidth texture2D texture2DProj texture2DLod texture2DProjLod textureCube textureCubeLod require export";function c(p,y){return y.startOfLine?(p.skipToEnd(),"meta"):!1}(function(){a.defineMIME("text/x-glsl",{name:"glsl",keywords:t(r),builtins:t(n),blockKeywords:t("case do else for if switch while struct"),atoms:t("null"),hooks:{"#":c}})})()});(function(t,r){typeof exports=="object"&&typeof module=="object"?module.exports=r():typeof define=="function"&&define.amd?define([],r):typeof exports=="object"?exports.esprima=r():t.esprima=r()})(globalThis,function(){return function(a){var t={};function r(n){if(t[n])return t[n].exports;var c=t[n]={exports:{},id:n,loaded:!1};return a[n].call(c.exports,c,c.exports,r),c.loaded=!0,c.exports}return r.m=a,r.c=t,r.p="",r(0)}([function(a,t,r){var n=r(1),c=r(3),p=r(11),y=r(15);function v(k,R,B){var M=null,F=function(oe,we){B&&B(oe,we),M&&M.visit(oe,we)},H=typeof B=="function"?F:null,U=!1;if(R){U=typeof R.comment=="boolean"&&R.comment;var Z=typeof R.attachComment=="boolean"&&R.attachComment;(U||Z)&&(M=new n.CommentHandler,M.attach=Z,R.comment=!0,H=F)}var K;R&&typeof R.jsx=="boolean"&&R.jsx?K=new p.JSXParser(k,R,H):K=new c.Parser(k,R,H);var fe=K.parseProgram();return U&&(fe.comments=M.comments),K.config.tokens&&(fe.tokens=K.tokens),K.config.tolerant&&(fe.errors=K.errorHandler.errors),fe}t.parse=v;function E(k,R,B){var M=new y.Tokenizer(k,R),F;F=[];try{for(;;){var H=M.getNextToken();if(!H)break;B&&(H=B(H)),F.push(H)}}catch(U){M.errorHandler.tolerate(U)}return M.errorHandler.tolerant&&(F.errors=M.errors()),F}t.tokenize=E;var _=r(2);t.Syntax=_.Syntax,t.version="3.1.3"},function(a,t,r){var n=r(2),c=function(){function p(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return p.prototype.insertInnerComments=function(y,v){if(y.type===n.Syntax.BlockStatement&&y.body.length===0){for(var E=[],_=this.leading.length-1;_>=0;--_){var k=this.leading[_];v.end.offset>=k.start&&(E.unshift(k.comment),this.leading.splice(_,1),this.trailing.splice(_,1))}E.length&&(y.innerComments=E)}},p.prototype.findTrailingComments=function(y,v){var E=[];if(this.trailing.length>0){for(var _=this.trailing.length-1;_>=0;--_){var k=this.trailing[_];k.start>=v.end.offset&&E.unshift(k.comment)}return this.trailing.length=0,E}var R=this.stack[this.stack.length-1];if(R&&R.node.trailingComments){var B=R.node.trailingComments[0];B&&B.range[0]>=v.end.offset&&(E=R.node.trailingComments,delete R.node.trailingComments)}return E},p.prototype.findLeadingComments=function(y,v){for(var E=[],_;this.stack.length>0;){var k=this.stack[this.stack.length-1];if(k&&k.start>=v.start.offset)_=this.stack.pop().node;else break}if(_){for(var R=_.leadingComments?_.leadingComments.length:0,B=R-1;B>=0;--B){var M=_.leadingComments[B];M.range[1]<=v.start.offset&&(E.unshift(M),_.leadingComments.splice(B,1))}return _.leadingComments&&_.leadingComments.length===0&&delete _.leadingComments,E}for(var B=this.leading.length-1;B>=0;--B){var k=this.leading[B];k.start<=v.start.offset&&(E.unshift(k.comment),this.leading.splice(B,1))}return E},p.prototype.visitNode=function(y,v){if(!(y.type===n.Syntax.Program&&y.body.length>0)){this.insertInnerComments(y,v);var E=this.findTrailingComments(y,v),_=this.findLeadingComments(y,v);_.length>0&&(y.leadingComments=_),E.length>0&&(y.trailingComments=E),this.stack.push({node:y,start:v.start.offset})}},p.prototype.visitComment=function(y,v){var E=y.type[0]==="L"?"Line":"Block",_={type:E,value:y.value};if(y.range&&(_.range=y.range),y.loc&&(_.loc=y.loc),this.comments.push(_),this.attach){var k={comment:{type:E,value:y.value,range:[v.start.offset,v.end.offset]},start:v.start.offset};y.loc&&(k.comment.loc=y.loc),y.type=E,this.leading.push(k),this.trailing.push(k)}},p.prototype.visit=function(y,v){y.type==="LineComment"?this.visitComment(y,v):y.type==="BlockComment"?this.visitComment(y,v):this.attach&&this.visitNode(y,v)},p}();t.CommentHandler=c},function(a,t){t.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(a,t,r){var n=r(4),c=r(5),p=r(6),y=r(7),v=r(8),E=r(2),_=r(10),k="ArrowParameterPlaceHolder",R=function(){function B(M,F,H){F===void 0&&(F={}),this.config={range:typeof F.range=="boolean"&&F.range,loc:typeof F.loc=="boolean"&&F.loc,source:null,tokens:typeof F.tokens=="boolean"&&F.tokens,comment:typeof F.comment=="boolean"&&F.comment,tolerant:typeof F.tolerant=="boolean"&&F.tolerant},this.config.loc&&F.source&&F.source!==null&&(this.config.source=String(F.source)),this.delegate=H,this.errorHandler=new p.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new v.Scanner(M,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.sourceType=F&&F.sourceType==="module"?"module":"script",this.lookahead=null,this.hasLineTerminator=!1,this.context={allowIn:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:this.sourceType==="module"},this.tokens=[],this.startMarker={index:0,lineNumber:this.scanner.lineNumber,lineStart:0},this.lastMarker={index:0,lineNumber:this.scanner.lineNumber,lineStart:0},this.nextToken(),this.lastMarker={index:this.scanner.index,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart}}return B.prototype.throwError=function(M){for(var F=[],H=1;H<arguments.length;H++)F[H-1]=arguments[H];var U=Array.prototype.slice.call(arguments,1),Z=M.replace(/%(\d)/g,function(we,be){return n.assert(be<U.length,"Message reference must be in range"),U[be]}),K=this.lastMarker.index,fe=this.lastMarker.lineNumber,oe=this.lastMarker.index-this.lastMarker.lineStart+1;throw this.errorHandler.createError(K,fe,oe,Z)},B.prototype.tolerateError=function(M){for(var F=[],H=1;H<arguments.length;H++)F[H-1]=arguments[H];var U=Array.prototype.slice.call(arguments,1),Z=M.replace(/%(\d)/g,function(we,be){return n.assert(be<U.length,"Message reference must be in range"),U[be]}),K=this.lastMarker.index,fe=this.scanner.lineNumber,oe=this.lastMarker.index-this.lastMarker.lineStart+1;this.errorHandler.tolerateError(K,fe,oe,Z)},B.prototype.unexpectedTokenError=function(M,F){var H=F||c.Messages.UnexpectedToken,U;if(M?(F||(H=M.type===y.Token.EOF?c.Messages.UnexpectedEOS:M.type===y.Token.Identifier?c.Messages.UnexpectedIdentifier:M.type===y.Token.NumericLiteral?c.Messages.UnexpectedNumber:M.type===y.Token.StringLiteral?c.Messages.UnexpectedString:M.type===y.Token.Template?c.Messages.UnexpectedTemplate:c.Messages.UnexpectedToken,M.type===y.Token.Keyword&&(this.scanner.isFutureReservedWord(M.value)?H=c.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(M.value)&&(H=c.Messages.StrictReservedWord))),U=M.type===y.Token.Template?M.value.raw:M.value):U="ILLEGAL",H=H.replace("%0",U),M&&typeof M.lineNumber=="number"){var Z=M.start,K=M.lineNumber,fe=M.start-this.lastMarker.lineStart+1;return this.errorHandler.createError(Z,K,fe,H)}else{var Z=this.lastMarker.index,K=this.lastMarker.lineNumber,fe=Z-this.lastMarker.lineStart+1;return this.errorHandler.createError(Z,K,fe,H)}},B.prototype.throwUnexpectedToken=function(M,F){throw this.unexpectedTokenError(M,F)},B.prototype.tolerateUnexpectedToken=function(M,F){this.errorHandler.tolerate(this.unexpectedTokenError(M,F))},B.prototype.collectComments=function(){if(!this.config.comment)this.scanner.scanComments();else{var M=this.scanner.scanComments();if(M.length>0&&this.delegate)for(var F=0;F<M.length;++F){var H=M[F],U=void 0;U={type:H.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(H.slice[0],H.slice[1])},this.config.range&&(U.range=H.range),this.config.loc&&(U.loc=H.loc);var Z={start:{line:H.loc.start.line,column:H.loc.start.column,offset:H.range[0]},end:{line:H.loc.end.line,column:H.loc.end.column,offset:H.range[1]}};this.delegate(U,Z)}}},B.prototype.getTokenRaw=function(M){return this.scanner.source.slice(M.start,M.end)},B.prototype.convertToken=function(M){var F;return F={type:y.TokenName[M.type],value:this.getTokenRaw(M)},this.config.range&&(F.range=[M.start,M.end]),this.config.loc&&(F.loc={start:{line:this.startMarker.lineNumber,column:this.startMarker.index-this.startMarker.lineStart},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),M.regex&&(F.regex=M.regex),F},B.prototype.nextToken=function(){var M=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.lineNumber=this.scanner.lineNumber,this.lastMarker.lineStart=this.scanner.lineStart,this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.lineNumber=this.scanner.lineNumber,this.startMarker.lineStart=this.scanner.lineStart;var F;return F=this.scanner.lex(),this.hasLineTerminator=M&&F?M.lineNumber!==F.lineNumber:!1,F&&this.context.strict&&F.type===y.Token.Identifier&&this.scanner.isStrictModeReservedWord(F.value)&&(F.type=y.Token.Keyword),this.lookahead=F,this.config.tokens&&F.type!==y.Token.EOF&&this.tokens.push(this.convertToken(F)),M},B.prototype.nextRegexToken=function(){this.collectComments();var M=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(M))),this.lookahead=M,this.nextToken(),M},B.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.lineNumber,column:this.startMarker.index-this.startMarker.lineStart}},B.prototype.startNode=function(M){return{index:M.start,line:M.lineNumber,column:M.start-M.lineStart}},B.prototype.finalize=function(M,F){if(this.config.range&&(F.range=[M.index,this.lastMarker.index]),this.config.loc&&(F.loc={start:{line:M.line,column:M.column},end:{line:this.lastMarker.lineNumber,column:this.lastMarker.index-this.lastMarker.lineStart}},this.config.source&&(F.loc.source=this.config.source)),this.delegate){var H={start:{line:M.line,column:M.column,offset:M.index},end:{line:this.lastMarker.lineNumber,column:this.lastMarker.index-this.lastMarker.lineStart,offset:this.lastMarker.index}};this.delegate(F,H)}return F},B.prototype.expect=function(M){var F=this.nextToken();(F.type!==y.Token.Punctuator||F.value!==M)&&this.throwUnexpectedToken(F)},B.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var M=this.lookahead;M.type===y.Token.Punctuator&&M.value===","?this.nextToken():M.type===y.Token.Punctuator&&M.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(M)):this.tolerateUnexpectedToken(M,c.Messages.UnexpectedToken)}else this.expect(",")},B.prototype.expectKeyword=function(M){var F=this.nextToken();(F.type!==y.Token.Keyword||F.value!==M)&&this.throwUnexpectedToken(F)},B.prototype.match=function(M){return this.lookahead.type===y.Token.Punctuator&&this.lookahead.value===M},B.prototype.matchKeyword=function(M){return this.lookahead.type===y.Token.Keyword&&this.lookahead.value===M},B.prototype.matchContextualKeyword=function(M){return this.lookahead.type===y.Token.Identifier&&this.lookahead.value===M},B.prototype.matchAssign=function(){if(this.lookahead.type!==y.Token.Punctuator)return!1;var M=this.lookahead.value;return M==="="||M==="*="||M==="**="||M==="/="||M==="%="||M==="+="||M==="-="||M==="<<="||M===">>="||M===">>>="||M==="&="||M==="^="||M==="|="},B.prototype.isolateCoverGrammar=function(M){var F=this.context.isBindingElement,H=this.context.isAssignmentTarget,U=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var Z=M.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=F,this.context.isAssignmentTarget=H,this.context.firstCoverInitializedNameError=U,Z},B.prototype.inheritCoverGrammar=function(M){var F=this.context.isBindingElement,H=this.context.isAssignmentTarget,U=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var Z=M.call(this);return this.context.isBindingElement=this.context.isBindingElement&&F,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&H,this.context.firstCoverInitializedNameError=U||this.context.firstCoverInitializedNameError,Z},B.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type!==y.Token.EOF&&!this.match("}")&&this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.lineNumber=this.startMarker.lineNumber,this.lastMarker.lineStart=this.startMarker.lineStart)},B.prototype.parsePrimaryExpression=function(){var M=this.createNode(),F,H,U,Z;switch(this.lookahead.type){case y.Token.Identifier:this.sourceType==="module"&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),F=this.finalize(M,new _.Identifier(this.nextToken().value));break;case y.Token.NumericLiteral:case y.Token.StringLiteral:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,c.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,U=this.nextToken(),Z=this.getTokenRaw(U),F=this.finalize(M,new _.Literal(U.value,Z));break;case y.Token.BooleanLiteral:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,U=this.nextToken(),U.value=U.value==="true",Z=this.getTokenRaw(U),F=this.finalize(M,new _.Literal(U.value,Z));break;case y.Token.NullLiteral:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,U=this.nextToken(),U.value=null,Z=this.getTokenRaw(U),F=this.finalize(M,new _.Literal(U.value,Z));break;case y.Token.Template:F=this.parseTemplateLiteral();break;case y.Token.Punctuator:switch(H=this.lookahead.value,H){case"(":this.context.isBindingElement=!1,F=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":F=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":F=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,U=this.nextRegexToken(),Z=this.getTokenRaw(U),F=this.finalize(M,new _.RegexLiteral(U.value,Z,U.regex));break;default:this.throwUnexpectedToken(this.nextToken())}break;case y.Token.Keyword:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?F=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?F=this.finalize(M,new _.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?F=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),F=this.finalize(M,new _.ThisExpression)):this.matchKeyword("class")?F=this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:this.throwUnexpectedToken(this.nextToken())}return F},B.prototype.parseSpreadElement=function(){var M=this.createNode();this.expect("...");var F=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(M,new _.SpreadElement(F))},B.prototype.parseArrayInitializer=function(){var M=this.createNode(),F=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),F.push(null);else if(this.match("...")){var H=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),F.push(H)}else F.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(M,new _.ArrayExpression(F))},B.prototype.parsePropertyMethod=function(M){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var F=this.context.strict,H=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&M.firstRestricted&&this.tolerateUnexpectedToken(M.firstRestricted,M.message),this.context.strict&&M.stricted&&this.tolerateUnexpectedToken(M.stricted,M.message),this.context.strict=F,H},B.prototype.parsePropertyMethodFunction=function(){var M=!1,F=this.createNode(),H=this.context.allowYield;this.context.allowYield=!1;var U=this.parseFormalParameters(),Z=this.parsePropertyMethod(U);return this.context.allowYield=H,this.finalize(F,new _.FunctionExpression(null,U.params,Z,M))},B.prototype.parseObjectPropertyKey=function(){var M=this.createNode(),F=this.nextToken(),H=null;switch(F.type){case y.Token.StringLiteral:case y.Token.NumericLiteral:this.context.strict&&F.octal&&this.tolerateUnexpectedToken(F,c.Messages.StrictOctalLiteral);var U=this.getTokenRaw(F);H=this.finalize(M,new _.Literal(F.value,U));break;case y.Token.Identifier:case y.Token.BooleanLiteral:case y.Token.NullLiteral:case y.Token.Keyword:H=this.finalize(M,new _.Identifier(F.value));break;case y.Token.Punctuator:F.value==="["?(H=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):this.throwUnexpectedToken(F);break;default:this.throwUnexpectedToken(F)}return H},B.prototype.isPropertyKey=function(M,F){return M.type===E.Syntax.Identifier&&M.name===F||M.type===E.Syntax.Literal&&M.value===F},B.prototype.parseObjectProperty=function(M){var F=this.createNode(),H=this.lookahead,U,Z,K,fe=!1,oe=!1,we=!1;H.type===y.Token.Identifier?(this.nextToken(),Z=this.finalize(F,new _.Identifier(H.value))):this.match("*")?this.nextToken():(fe=this.match("["),Z=this.parseObjectPropertyKey());var be=this.qualifiedPropertyName(this.lookahead);if(H.type===y.Token.Identifier&&H.value==="get"&&be)U="get",fe=this.match("["),Z=this.parseObjectPropertyKey(),this.context.allowYield=!1,K=this.parseGetterMethod();else if(H.type===y.Token.Identifier&&H.value==="set"&&be)U="set",fe=this.match("["),Z=this.parseObjectPropertyKey(),K=this.parseSetterMethod();else if(H.type===y.Token.Punctuator&&H.value==="*"&&be)U="init",fe=this.match("["),Z=this.parseObjectPropertyKey(),K=this.parseGeneratorMethod(),oe=!0;else if(Z||this.throwUnexpectedToken(this.lookahead),U="init",this.match(":"))!fe&&this.isPropertyKey(Z,"__proto__")&&(M.value&&this.tolerateError(c.Messages.DuplicateProtoProperty),M.value=!0),this.nextToken(),K=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))K=this.parsePropertyMethodFunction(),oe=!0;else if(H.type===y.Token.Identifier){var ve=this.finalize(F,new _.Identifier(H.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),we=!0;var ne=this.isolateCoverGrammar(this.parseAssignmentExpression);K=this.finalize(F,new _.AssignmentPattern(ve,ne))}else we=!0,K=ve}else this.throwUnexpectedToken(this.nextToken());return this.finalize(F,new _.Property(U,Z,fe,K,oe,we))},B.prototype.parseObjectInitializer=function(){var M=this.createNode();this.expect("{");for(var F=[],H={value:!1};!this.match("}");)F.push(this.parseObjectProperty(H)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(M,new _.ObjectExpression(F))},B.prototype.parseTemplateHead=function(){n.assert(this.lookahead.head,"Template literal must start with a template head");var M=this.createNode(),F=this.nextToken(),H={raw:F.value.raw,cooked:F.value.cooked};return this.finalize(M,new _.TemplateElement(H,F.tail))},B.prototype.parseTemplateElement=function(){this.lookahead.type!==y.Token.Template&&this.throwUnexpectedToken();var M=this.createNode(),F=this.nextToken(),H={raw:F.value.raw,cooked:F.value.cooked};return this.finalize(M,new _.TemplateElement(H,F.tail))},B.prototype.parseTemplateLiteral=function(){var M=this.createNode(),F=[],H=[],U=this.parseTemplateHead();for(H.push(U);!U.tail;)F.push(this.parseExpression()),U=this.parseTemplateElement(),H.push(U);return this.finalize(M,new _.TemplateLiteral(H,F))},B.prototype.reinterpretExpressionAsPattern=function(M){switch(M.type){case E.Syntax.Identifier:case E.Syntax.MemberExpression:case E.Syntax.RestElement:case E.Syntax.AssignmentPattern:break;case E.Syntax.SpreadElement:M.type=E.Syntax.RestElement,this.reinterpretExpressionAsPattern(M.argument);break;case E.Syntax.ArrayExpression:M.type=E.Syntax.ArrayPattern;for(var F=0;F<M.elements.length;F++)M.elements[F]!==null&&this.reinterpretExpressionAsPattern(M.elements[F]);break;case E.Syntax.ObjectExpression:M.type=E.Syntax.ObjectPattern;for(var F=0;F<M.properties.length;F++)this.reinterpretExpressionAsPattern(M.properties[F].value);break;case E.Syntax.AssignmentExpression:M.type=E.Syntax.AssignmentPattern,delete M.operator,this.reinterpretExpressionAsPattern(M.left);break}},B.prototype.parseGroupExpression=function(){var M;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),M={type:k,params:[]};else{var F=this.lookahead,H=[];if(this.match("..."))M=this.parseRestElement(H),this.expect(")"),this.match("=>")||this.expect("=>"),M={type:k,params:[M]};else{var U=!1;if(this.context.isBindingElement=!0,M=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var Z=[];for(this.context.isAssignmentTarget=!1,Z.push(M);this.startMarker.index<this.scanner.length&&this.match(",");){if(this.nextToken(),this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),Z.push(this.parseRestElement(H)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1;for(var K=0;K<Z.length;K++)this.reinterpretExpressionAsPattern(Z[K]);U=!0,M={type:k,params:Z}}else Z.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(U)break}U||(M=this.finalize(this.startNode(F),new _.SequenceExpression(Z)))}if(!U){if(this.expect(")"),this.match("=>")&&(M.type===E.Syntax.Identifier&&M.name==="yield"&&(U=!0,M={type:k,params:[M]}),!U)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),M.type===E.Syntax.SequenceExpression)for(var K=0;K<M.expressions.length;K++)this.reinterpretExpressionAsPattern(M.expressions[K]);else this.reinterpretExpressionAsPattern(M);var fe=M.type===E.Syntax.SequenceExpression?M.expressions:[M];M={type:k,params:fe}}this.context.isBindingElement=!1}}}return M},B.prototype.parseArguments=function(){this.expect("(");var M=[];if(!this.match(")"))for(;;){var F=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(M.push(F),this.match(")"))break;this.expectCommaSeparator()}return this.expect(")"),M},B.prototype.isIdentifierName=function(M){return M.type===y.Token.Identifier||M.type===y.Token.Keyword||M.type===y.Token.BooleanLiteral||M.type===y.Token.NullLiteral},B.prototype.parseIdentifierName=function(){var M=this.createNode(),F=this.nextToken();return this.isIdentifierName(F)||this.throwUnexpectedToken(F),this.finalize(M,new _.Identifier(F.value))},B.prototype.parseNewExpression=function(){var M=this.createNode(),F=this.parseIdentifierName();n.assert(F.name==="new","New expression must start with `new`");var H;if(this.match("."))if(this.nextToken(),this.lookahead.type===y.Token.Identifier&&this.context.inFunctionBody&&this.lookahead.value==="target"){var U=this.parseIdentifierName();H=new _.MetaProperty(F,U)}else this.throwUnexpectedToken(this.lookahead);else{var Z=this.isolateCoverGrammar(this.parseLeftHandSideExpression),K=this.match("(")?this.parseArguments():[];H=new _.NewExpression(Z,K),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(M,H)},B.prototype.parseLeftHandSideExpressionAllowCall=function(){var M=this.lookahead,F=this.context.allowIn;this.context.allowIn=!0;var H;for(this.matchKeyword("super")&&this.context.inFunctionBody?(H=this.createNode(),this.nextToken(),H=this.finalize(H,new _.Super),!this.match("(")&&!this.match(".")&&!this.match("[")&&this.throwUnexpectedToken(this.lookahead)):H=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var U=this.parseIdentifierName();H=this.finalize(this.startNode(M),new _.StaticMemberExpression(H,U))}else if(this.match("(")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var Z=this.parseArguments();H=this.finalize(this.startNode(M),new _.CallExpression(H,Z))}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var U=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),H=this.finalize(this.startNode(M),new _.ComputedMemberExpression(H,U))}else if(this.lookahead.type===y.Token.Template&&this.lookahead.head){var K=this.parseTemplateLiteral();H=this.finalize(this.startNode(M),new _.TaggedTemplateExpression(H,K))}else break;return this.context.allowIn=F,H},B.prototype.parseSuper=function(){var M=this.createNode();return this.expectKeyword("super"),!this.match("[")&&!this.match(".")&&this.throwUnexpectedToken(this.lookahead),this.finalize(M,new _.Super)},B.prototype.parseLeftHandSideExpression=function(){n.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var M=this.startNode(this.lookahead),F=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var H=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),F=this.finalize(M,new _.ComputedMemberExpression(F,H))}else if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var H=this.parseIdentifierName();F=this.finalize(M,new _.StaticMemberExpression(F,H))}else if(this.lookahead.type===y.Token.Template&&this.lookahead.head){var U=this.parseTemplateLiteral();F=this.finalize(M,new _.TaggedTemplateExpression(F,U))}else break;return F},B.prototype.parseUpdateExpression=function(){var M,F=this.lookahead;if(this.match("++")||this.match("--")){var H=this.startNode(F),U=this.nextToken();M=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&M.type===E.Syntax.Identifier&&this.scanner.isRestrictedWord(M.name)&&this.tolerateError(c.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(c.Messages.InvalidLHSInAssignment);var Z=!0;M=this.finalize(H,new _.UpdateExpression(U.value,M,Z)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(M=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===y.Token.Punctuator&&(this.match("++")||this.match("--"))){this.context.strict&&M.type===E.Syntax.Identifier&&this.scanner.isRestrictedWord(M.name)&&this.tolerateError(c.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(c.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var K=this.nextToken().value,Z=!1;M=this.finalize(this.startNode(F),new _.UpdateExpression(K,M,Z))}return M},B.prototype.parseUnaryExpression=function(){var M;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var F=this.startNode(this.lookahead),H=this.nextToken();M=this.inheritCoverGrammar(this.parseUnaryExpression),M=this.finalize(F,new _.UnaryExpression(H.value,M)),this.context.strict&&M.operator==="delete"&&M.argument.type===E.Syntax.Identifier&&this.tolerateError(c.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else M=this.parseUpdateExpression();return M},B.prototype.parseExponentiationExpression=function(){var M=this.lookahead,F=this.inheritCoverGrammar(this.parseUnaryExpression);if(F.type!==E.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var H=F,U=this.isolateCoverGrammar(this.parseExponentiationExpression);F=this.finalize(this.startNode(M),new _.BinaryExpression("**",H,U))}return F},B.prototype.binaryPrecedence=function(M){var F=M.value,H;return M.type===y.Token.Punctuator?H=this.operatorPrecedence[F]||0:M.type===y.Token.Keyword?H=F==="instanceof"||this.context.allowIn&&F==="in"?7:0:H=0,H},B.prototype.parseBinaryExpression=function(){var M=this.lookahead,F=this.inheritCoverGrammar(this.parseExponentiationExpression),H=this.lookahead,U=this.binaryPrecedence(H);if(U>0){this.nextToken(),H.prec=U,this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var Z=[M,this.lookahead],K=F,fe=this.isolateCoverGrammar(this.parseExponentiationExpression),oe=[K,H,fe];U=this.binaryPrecedence(this.lookahead),!(U<=0);){for(;oe.length>2&&U<=oe[oe.length-2].prec;){fe=oe.pop();var we=oe.pop().value;K=oe.pop(),Z.pop();var be=this.startNode(Z[Z.length-1]);oe.push(this.finalize(be,new _.BinaryExpression(we,K,fe)))}H=this.nextToken(),H.prec=U,oe.push(H),Z.push(this.lookahead),oe.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var ve=oe.length-1;for(F=oe[ve],Z.pop();ve>1;){var be=this.startNode(Z.pop());F=this.finalize(be,new _.BinaryExpression(oe[ve-1].value,oe[ve-2],F)),ve-=2}}return F},B.prototype.parseConditionalExpression=function(){var M=this.lookahead,F=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var H=this.context.allowIn;this.context.allowIn=!0;var U=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=H,this.expect(":");var Z=this.isolateCoverGrammar(this.parseAssignmentExpression);F=this.finalize(this.startNode(M),new _.ConditionalExpression(F,U,Z)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return F},B.prototype.checkPatternParam=function(M,F){switch(F.type){case E.Syntax.Identifier:this.validateParam(M,F,F.name);break;case E.Syntax.RestElement:this.checkPatternParam(M,F.argument);break;case E.Syntax.AssignmentPattern:this.checkPatternParam(M,F.left);break;case E.Syntax.ArrayPattern:for(var H=0;H<F.elements.length;H++)F.elements[H]!==null&&this.checkPatternParam(M,F.elements[H]);break;case E.Syntax.YieldExpression:break;default:n.assert(F.type===E.Syntax.ObjectPattern,"Invalid type");for(var H=0;H<F.properties.length;H++)this.checkPatternParam(M,F.properties[H].value);break}},B.prototype.reinterpretAsCoverFormalsList=function(M){var F=[M],H;switch(M.type){case E.Syntax.Identifier:break;case k:F=M.params;break;default:return null}H={paramSet:{}};for(var U=0;U<F.length;++U){var Z=F[U];Z.type===E.Syntax.AssignmentPattern&&Z.right.type===E.Syntax.YieldExpression&&(Z.right.argument&&this.throwUnexpectedToken(this.lookahead),Z.right.type=E.Syntax.Identifier,Z.right.name="yield",delete Z.right.argument,delete Z.right.delegate),this.checkPatternParam(H,Z),F[U]=Z}if(this.context.strict||!this.context.allowYield)for(var U=0;U<F.length;++U){var Z=F[U];Z.type===E.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(H.message===c.Messages.StrictParamDupe){var K=this.context.strict?H.stricted:H.firstRestricted;this.throwUnexpectedToken(K,H.message)}return{params:F,stricted:H.stricted,firstRestricted:H.firstRestricted,message:H.message}},B.prototype.parseAssignmentExpression=function(){var M;if(!this.context.allowYield&&this.matchKeyword("yield"))M=this.parseYieldExpression();else{var F=this.lookahead,H=F;if(M=this.parseConditionalExpression(),M.type===k||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var U=this.reinterpretAsCoverFormalsList(M);if(U){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var Z=this.context.strict,K=this.context.allowYield;this.context.allowYield=!0;var fe=this.startNode(F);this.expect("=>");var oe=this.match("{")?this.parseFunctionSourceElements():this.isolateCoverGrammar(this.parseAssignmentExpression),we=oe.type!==E.Syntax.BlockStatement;this.context.strict&&U.firstRestricted&&this.throwUnexpectedToken(U.firstRestricted,U.message),this.context.strict&&U.stricted&&this.tolerateUnexpectedToken(U.stricted,U.message),M=this.finalize(fe,new _.ArrowFunctionExpression(U.params,oe,we)),this.context.strict=Z,this.context.allowYield=K}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(c.Messages.InvalidLHSInAssignment),this.context.strict&&M.type===E.Syntax.Identifier){var be=M;this.scanner.isRestrictedWord(be.name)&&this.tolerateUnexpectedToken(H,c.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(be.name)&&this.tolerateUnexpectedToken(H,c.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(M):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),H=this.nextToken();var ve=this.isolateCoverGrammar(this.parseAssignmentExpression);M=this.finalize(this.startNode(F),new _.AssignmentExpression(H.value,M,ve)),this.context.firstCoverInitializedNameError=null}}return M},B.prototype.parseExpression=function(){var M=this.lookahead,F=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var H=[];for(H.push(F);this.startMarker.index<this.scanner.length&&this.match(",");)this.nextToken(),H.push(this.isolateCoverGrammar(this.parseAssignmentExpression));F=this.finalize(this.startNode(M),new _.SequenceExpression(H))}return F},B.prototype.parseStatementListItem=function(){var M=null;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===y.Token.Keyword)switch(this.lookahead.value){case"export":this.sourceType!=="module"&&this.tolerateUnexpectedToken(this.lookahead,c.Messages.IllegalExportDeclaration),M=this.parseExportDeclaration();break;case"import":this.sourceType!=="module"&&this.tolerateUnexpectedToken(this.lookahead,c.Messages.IllegalImportDeclaration),M=this.parseImportDeclaration();break;case"const":M=this.parseLexicalDeclaration({inFor:!1});break;case"function":M=this.parseFunctionDeclaration();break;case"class":M=this.parseClassDeclaration();break;case"let":M=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:M=this.parseStatement();break}else M=this.parseStatement();return M},B.prototype.parseBlock=function(){var M=this.createNode();this.expect("{");for(var F=[];!this.match("}");)F.push(this.parseStatementListItem());return this.expect("}"),this.finalize(M,new _.BlockStatement(F))},B.prototype.parseLexicalBinding=function(M,F){var H=this.createNode(),U=[],Z=this.parsePattern(U,M);this.context.strict&&Z.type===E.Syntax.Identifier&&this.scanner.isRestrictedWord(Z.name)&&this.tolerateError(c.Messages.StrictVarName);var K=null;return M==="const"?!this.matchKeyword("in")&&!this.matchContextualKeyword("of")&&(this.expect("="),K=this.isolateCoverGrammar(this.parseAssignmentExpression)):(!F.inFor&&Z.type!==E.Syntax.Identifier||this.match("="))&&(this.expect("="),K=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(H,new _.VariableDeclarator(Z,K))},B.prototype.parseBindingList=function(M,F){for(var H=[this.parseLexicalBinding(M,F)];this.match(",");)this.nextToken(),H.push(this.parseLexicalBinding(M,F));return H},B.prototype.isLexicalDeclaration=function(){var M=this.scanner.index,F=this.scanner.lineNumber,H=this.scanner.lineStart;this.collectComments();var U=this.scanner.lex();return this.scanner.index=M,this.scanner.lineNumber=F,this.scanner.lineStart=H,U.type===y.Token.Identifier||U.type===y.Token.Punctuator&&U.value==="["||U.type===y.Token.Punctuator&&U.value==="{"||U.type===y.Token.Keyword&&U.value==="let"||U.type===y.Token.Keyword&&U.value==="yield"},B.prototype.parseLexicalDeclaration=function(M){var F=this.createNode(),H=this.nextToken().value;n.assert(H==="let"||H==="const","Lexical declaration must be either let or const");var U=this.parseBindingList(H,M);return this.consumeSemicolon(),this.finalize(F,new _.VariableDeclaration(U,H))},B.prototype.parseBindingRestElement=function(M,F){var H=this.createNode();this.expect("...");var U=this.parsePattern(M,F);return this.finalize(H,new _.RestElement(U))},B.prototype.parseArrayPattern=function(M,F){var H=this.createNode();this.expect("[");for(var U=[];!this.match("]");)if(this.match(","))this.nextToken(),U.push(null);else{if(this.match("...")){U.push(this.parseBindingRestElement(M,F));break}else U.push(this.parsePatternWithDefault(M,F));this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(H,new _.ArrayPattern(U))},B.prototype.parsePropertyPattern=function(M,F){var H=this.createNode(),U=!1,Z=!1,K=!1,fe,oe;if(this.lookahead.type===y.Token.Identifier){var we=this.lookahead;fe=this.parseVariableIdentifier();var be=this.finalize(H,new _.Identifier(we.value));if(this.match("=")){M.push(we),Z=!0,this.nextToken();var ve=this.parseAssignmentExpression();oe=this.finalize(this.startNode(we),new _.AssignmentPattern(be,ve))}else this.match(":")?(this.expect(":"),oe=this.parsePatternWithDefault(M,F)):(M.push(we),Z=!0,oe=be)}else U=this.match("["),fe=this.parseObjectPropertyKey(),this.expect(":"),oe=this.parsePatternWithDefault(M,F);return this.finalize(H,new _.Property("init",fe,U,oe,K,Z))},B.prototype.parseObjectPattern=function(M,F){var H=this.createNode(),U=[];for(this.expect("{");!this.match("}");)U.push(this.parsePropertyPattern(M,F)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(H,new _.ObjectPattern(U))},B.prototype.parsePattern=function(M,F){var H;return this.match("[")?H=this.parseArrayPattern(M,F):this.match("{")?H=this.parseObjectPattern(M,F):(this.matchKeyword("let")&&(F==="const"||F==="let")&&this.tolerateUnexpectedToken(this.lookahead,c.Messages.UnexpectedToken),M.push(this.lookahead),H=this.parseVariableIdentifier(F)),H},B.prototype.parsePatternWithDefault=function(M,F){var H=this.lookahead,U=this.parsePattern(M,F);if(this.match("=")){this.nextToken();var Z=this.context.allowYield;this.context.allowYield=!0;var K=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=Z,U=this.finalize(this.startNode(H),new _.AssignmentPattern(U,K))}return U},B.prototype.parseVariableIdentifier=function(M){var F=this.createNode(),H=this.nextToken();return H.type===y.Token.Keyword&&H.value==="yield"?(this.context.strict&&this.tolerateUnexpectedToken(H,c.Messages.StrictReservedWord),this.context.allowYield||this.throwUnexpectedToken(H)):H.type!==y.Token.Identifier?this.context.strict&&H.type===y.Token.Keyword&&this.scanner.isStrictModeReservedWord(H.value)?this.tolerateUnexpectedToken(H,c.Messages.StrictReservedWord):(this.context.strict||H.value!=="let"||M!=="var")&&this.throwUnexpectedToken(H):this.sourceType==="module"&&H.type===y.Token.Identifier&&H.value==="await"&&this.tolerateUnexpectedToken(H),this.finalize(F,new _.Identifier(H.value))},B.prototype.parseVariableDeclaration=function(M){var F=this.createNode(),H=[],U=this.parsePattern(H,"var");this.context.strict&&U.type===E.Syntax.Identifier&&this.scanner.isRestrictedWord(U.name)&&this.tolerateError(c.Messages.StrictVarName);var Z=null;return this.match("=")?(this.nextToken(),Z=this.isolateCoverGrammar(this.parseAssignmentExpression)):U.type!==E.Syntax.Identifier&&!M.inFor&&this.expect("="),this.finalize(F,new _.VariableDeclarator(U,Z))},B.prototype.parseVariableDeclarationList=function(M){var F={inFor:M.inFor},H=[];for(H.push(this.parseVariableDeclaration(F));this.match(",");)this.nextToken(),H.push(this.parseVariableDeclaration(F));return H},B.prototype.parseVariableStatement=function(){var M=this.createNode();this.expectKeyword("var");var F=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(M,new _.VariableDeclaration(F,"var"))},B.prototype.parseEmptyStatement=function(){var M=this.createNode();return this.expect(";"),this.finalize(M,new _.EmptyStatement)},B.prototype.parseExpressionStatement=function(){var M=this.createNode(),F=this.parseExpression();return this.consumeSemicolon(),this.finalize(M,new _.ExpressionStatement(F))},B.prototype.parseIfStatement=function(){var M=this.createNode(),F,H=null;this.expectKeyword("if"),this.expect("(");var U=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),F=this.finalize(this.createNode(),new _.EmptyStatement)):(this.expect(")"),F=this.parseStatement(),this.matchKeyword("else")&&(this.nextToken(),H=this.parseStatement())),this.finalize(M,new _.IfStatement(U,F,H))},B.prototype.parseDoWhileStatement=function(){var M=this.createNode();this.expectKeyword("do");var F=this.context.inIteration;this.context.inIteration=!0;var H=this.parseStatement();this.context.inIteration=F,this.expectKeyword("while"),this.expect("(");var U=this.parseExpression();return this.expect(")"),this.match(";")&&this.nextToken(),this.finalize(M,new _.DoWhileStatement(H,U))},B.prototype.parseWhileStatement=function(){var M=this.createNode(),F;this.expectKeyword("while"),this.expect("(");var H=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),F=this.finalize(this.createNode(),new _.EmptyStatement);else{this.expect(")");var U=this.context.inIteration;this.context.inIteration=!0,F=this.parseStatement(),this.context.inIteration=U}return this.finalize(M,new _.WhileStatement(H,F))},B.prototype.parseForStatement=function(){var M=null,F=null,H=null,U=!0,Z,K,fe=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){M=this.createNode(),this.nextToken();var oe=this.context.allowIn;this.context.allowIn=!1;var we=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=oe,we.length===1&&this.matchKeyword("in")){var be=we[0];be.init&&(be.id.type===E.Syntax.ArrayPattern||be.id.type===E.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(c.Messages.ForInOfLoopInitializer,"for-in"),M=this.finalize(M,new _.VariableDeclaration(we,"var")),this.nextToken(),Z=M,K=this.parseExpression(),M=null}else we.length===1&&we[0].init===null&&this.matchContextualKeyword("of")?(M=this.finalize(M,new _.VariableDeclaration(we,"var")),this.nextToken(),Z=M,K=this.parseAssignmentExpression(),M=null,U=!1):(M=this.finalize(M,new _.VariableDeclaration(we,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){M=this.createNode();var ve=this.nextToken().value;if(!this.context.strict&&this.lookahead.value==="in")M=this.finalize(M,new _.Identifier(ve)),this.nextToken(),Z=M,K=this.parseExpression(),M=null;else{var oe=this.context.allowIn;this.context.allowIn=!1;var we=this.parseBindingList(ve,{inFor:!0});this.context.allowIn=oe,we.length===1&&we[0].init===null&&this.matchKeyword("in")?(M=this.finalize(M,new _.VariableDeclaration(we,ve)),this.nextToken(),Z=M,K=this.parseExpression(),M=null):we.length===1&&we[0].init===null&&this.matchContextualKeyword("of")?(M=this.finalize(M,new _.VariableDeclaration(we,ve)),this.nextToken(),Z=M,K=this.parseAssignmentExpression(),M=null,U=!1):(this.consumeSemicolon(),M=this.finalize(M,new _.VariableDeclaration(we,ve)))}}else{var ne=this.lookahead,oe=this.context.allowIn;if(this.context.allowIn=!1,M=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=oe,this.matchKeyword("in"))(!this.context.isAssignmentTarget||M.type===E.Syntax.AssignmentExpression)&&this.tolerateError(c.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(M),Z=M,K=this.parseExpression(),M=null;else if(this.matchContextualKeyword("of"))(!this.context.isAssignmentTarget||M.type===E.Syntax.AssignmentExpression)&&this.tolerateError(c.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(M),Z=M,K=this.parseAssignmentExpression(),M=null,U=!1;else{if(this.match(",")){for(var ae=[M];this.match(",");)this.nextToken(),ae.push(this.isolateCoverGrammar(this.parseAssignmentExpression));M=this.finalize(this.startNode(ne),new _.SequenceExpression(ae))}this.expect(";")}}typeof Z=="undefined"&&(this.match(";")||(F=this.parseExpression()),this.expect(";"),this.match(")")||(H=this.parseExpression()));var ye;if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),ye=this.finalize(this.createNode(),new _.EmptyStatement);else{this.expect(")");var de=this.context.inIteration;this.context.inIteration=!0,ye=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=de}return typeof Z=="undefined"?this.finalize(fe,new _.ForStatement(M,F,H,ye)):U?this.finalize(fe,new _.ForInStatement(Z,K,ye)):this.finalize(fe,new _.ForOfStatement(Z,K,ye))},B.prototype.parseContinueStatement=function(){var M=this.createNode();this.expectKeyword("continue");var F=null;if(this.lookahead.type===y.Token.Identifier&&!this.hasLineTerminator){F=this.parseVariableIdentifier();var H="$"+F.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,H)||this.throwError(c.Messages.UnknownLabel,F.name)}return this.consumeSemicolon(),F===null&&!this.context.inIteration&&this.throwError(c.Messages.IllegalContinue),this.finalize(M,new _.ContinueStatement(F))},B.prototype.parseBreakStatement=function(){var M=this.createNode();this.expectKeyword("break");var F=null;if(this.lookahead.type===y.Token.Identifier&&!this.hasLineTerminator){F=this.parseVariableIdentifier();var H="$"+F.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,H)||this.throwError(c.Messages.UnknownLabel,F.name)}return this.consumeSemicolon(),F===null&&!this.context.inIteration&&!this.context.inSwitch&&this.throwError(c.Messages.IllegalBreak),this.finalize(M,new _.BreakStatement(F))},B.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(c.Messages.IllegalReturn);var M=this.createNode();this.expectKeyword("return");var F=!this.match(";")&&!this.match("}")&&!this.hasLineTerminator&&this.lookahead.type!==y.Token.EOF,H=F?this.parseExpression():null;return this.consumeSemicolon(),this.finalize(M,new _.ReturnStatement(H))},B.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(c.Messages.StrictModeWith);var M=this.createNode();this.expectKeyword("with"),this.expect("(");var F=this.parseExpression();this.expect(")");var H=this.parseStatement();return this.finalize(M,new _.WithStatement(F,H))},B.prototype.parseSwitchCase=function(){var M=this.createNode(),F;this.matchKeyword("default")?(this.nextToken(),F=null):(this.expectKeyword("case"),F=this.parseExpression()),this.expect(":");for(var H=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)H.push(this.parseStatementListItem());return this.finalize(M,new _.SwitchCase(F,H))},B.prototype.parseSwitchStatement=function(){var M=this.createNode();this.expectKeyword("switch"),this.expect("(");var F=this.parseExpression();this.expect(")");var H=this.context.inSwitch;this.context.inSwitch=!0;var U=[],Z=!1;for(this.expect("{");!this.match("}");){var K=this.parseSwitchCase();K.test===null&&(Z&&this.throwError(c.Messages.MultipleDefaultsInSwitch),Z=!0),U.push(K)}return this.expect("}"),this.context.inSwitch=H,this.finalize(M,new _.SwitchStatement(F,U))},B.prototype.parseLabelledStatement=function(){var M=this.createNode(),F=this.parseExpression(),H;if(F.type===E.Syntax.Identifier&&this.match(":")){this.nextToken();var U=F,Z="$"+U.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,Z)&&this.throwError(c.Messages.Redeclaration,"Label",U.name),this.context.labelSet[Z]=!0;var K=this.parseStatement();delete this.context.labelSet[Z],H=new _.LabeledStatement(U,K)}else this.consumeSemicolon(),H=new _.ExpressionStatement(F);return this.finalize(M,H)},B.prototype.parseThrowStatement=function(){var M=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(c.Messages.NewlineAfterThrow);var F=this.parseExpression();return this.consumeSemicolon(),this.finalize(M,new _.ThrowStatement(F))},B.prototype.parseCatchClause=function(){var M=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var F=[],H=this.parsePattern(F),U={},Z=0;Z<F.length;Z++){var K="$"+F[Z].value;Object.prototype.hasOwnProperty.call(U,K)&&this.tolerateError(c.Messages.DuplicateBinding,F[Z].value),U[K]=!0}this.context.strict&&H.type===E.Syntax.Identifier&&this.scanner.isRestrictedWord(H.name)&&this.tolerateError(c.Messages.StrictCatchVariable),this.expect(")");var fe=this.parseBlock();return this.finalize(M,new _.CatchClause(H,fe))},B.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},B.prototype.parseTryStatement=function(){var M=this.createNode();this.expectKeyword("try");var F=this.parseBlock(),H=this.matchKeyword("catch")?this.parseCatchClause():null,U=this.matchKeyword("finally")?this.parseFinallyClause():null;return!H&&!U&&this.throwError(c.Messages.NoCatchOrFinally),this.finalize(M,new _.TryStatement(F,H,U))},B.prototype.parseDebuggerStatement=function(){var M=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(M,new _.DebuggerStatement)},B.prototype.parseStatement=function(){var M=null;switch(this.lookahead.type){case y.Token.BooleanLiteral:case y.Token.NullLiteral:case y.Token.NumericLiteral:case y.Token.StringLiteral:case y.Token.Template:case y.Token.RegularExpression:M=this.parseExpressionStatement();break;case y.Token.Punctuator:var F=this.lookahead.value;F==="{"?M=this.parseBlock():F==="("?M=this.parseExpressionStatement():F===";"?M=this.parseEmptyStatement():M=this.parseExpressionStatement();break;case y.Token.Identifier:M=this.parseLabelledStatement();break;case y.Token.Keyword:switch(this.lookahead.value){case"break":M=this.parseBreakStatement();break;case"continue":M=this.parseContinueStatement();break;case"debugger":M=this.parseDebuggerStatement();break;case"do":M=this.parseDoWhileStatement();break;case"for":M=this.parseForStatement();break;case"function":M=this.parseFunctionDeclaration();break;case"if":M=this.parseIfStatement();break;case"return":M=this.parseReturnStatement();break;case"switch":M=this.parseSwitchStatement();break;case"throw":M=this.parseThrowStatement();break;case"try":M=this.parseTryStatement();break;case"var":M=this.parseVariableStatement();break;case"while":M=this.parseWhileStatement();break;case"with":M=this.parseWithStatement();break;default:M=this.parseExpressionStatement();break}break;default:this.throwUnexpectedToken(this.lookahead)}return M},B.prototype.parseFunctionSourceElements=function(){var M=this.createNode();this.expect("{");var F=this.parseDirectivePrologues(),H=this.context.labelSet,U=this.context.inIteration,Z=this.context.inSwitch,K=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.startMarker.index<this.scanner.length&&!this.match("}");)F.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=H,this.context.inIteration=U,this.context.inSwitch=Z,this.context.inFunctionBody=K,this.finalize(M,new _.BlockStatement(F))},B.prototype.validateParam=function(M,F,H){var U="$"+H;this.context.strict?(this.scanner.isRestrictedWord(H)&&(M.stricted=F,M.message=c.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(M.paramSet,U)&&(M.stricted=F,M.message=c.Messages.StrictParamDupe)):M.firstRestricted||(this.scanner.isRestrictedWord(H)?(M.firstRestricted=F,M.message=c.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(H)?(M.firstRestricted=F,M.message=c.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(M.paramSet,U)&&(M.stricted=F,M.message=c.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(M.paramSet,U,{value:!0,enumerable:!0,writable:!0,configurable:!0}):M.paramSet[U]=!0},B.prototype.parseRestElement=function(M){var F=this.createNode();this.expect("...");var H=this.parsePattern(M);return this.match("=")&&this.throwError(c.Messages.DefaultRestParameter),this.match(")")||this.throwError(c.Messages.ParameterAfterRestParameter),this.finalize(F,new _.RestElement(H))},B.prototype.parseFormalParameter=function(M){for(var F=[],H=this.match("...")?this.parseRestElement(F):this.parsePatternWithDefault(F),U=0;U<F.length;U++)this.validateParam(M,F[U],F[U].value);return M.params.push(H),!this.match(")")},B.prototype.parseFormalParameters=function(M){var F;if(F={params:[],firstRestricted:M},this.expect("("),!this.match(")"))for(F.paramSet={};this.startMarker.index<this.scanner.length&&this.parseFormalParameter(F);)this.expect(",");return this.expect(")"),{params:F.params,stricted:F.stricted,firstRestricted:F.firstRestricted,message:F.message}},B.prototype.parseFunctionDeclaration=function(M){var F=this.createNode();this.expectKeyword("function");var H=this.match("*");H&&this.nextToken();var U,Z=null,K=null;if(!M||!this.match("(")){var fe=this.lookahead;Z=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(fe.value)&&this.tolerateUnexpectedToken(fe,c.Messages.StrictFunctionName):this.scanner.isRestrictedWord(fe.value)?(K=fe,U=c.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(fe.value)&&(K=fe,U=c.Messages.StrictReservedWord)}var oe=this.context.allowYield;this.context.allowYield=!H;var we=this.parseFormalParameters(K),be=we.params,ve=we.stricted;K=we.firstRestricted,we.message&&(U=we.message);var ne=this.context.strict,ae=this.parseFunctionSourceElements();return this.context.strict&&K&&this.throwUnexpectedToken(K,U),this.context.strict&&ve&&this.tolerateUnexpectedToken(ve,U),this.context.strict=ne,this.context.allowYield=oe,this.finalize(F,new _.FunctionDeclaration(Z,be,ae,H))},B.prototype.parseFunctionExpression=function(){var M=this.createNode();this.expectKeyword("function");var F=this.match("*");F&&this.nextToken();var H,U=null,Z,K=this.context.allowYield;if(this.context.allowYield=!F,!this.match("(")){var fe=this.lookahead;U=!this.context.strict&&!F&&this.matchKeyword("yield")?this.parseIdentifierName():this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(fe.value)&&this.tolerateUnexpectedToken(fe,c.Messages.StrictFunctionName):this.scanner.isRestrictedWord(fe.value)?(Z=fe,H=c.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(fe.value)&&(Z=fe,H=c.Messages.StrictReservedWord)}var oe=this.parseFormalParameters(Z),we=oe.params,be=oe.stricted;Z=oe.firstRestricted,oe.message&&(H=oe.message);var ve=this.context.strict,ne=this.parseFunctionSourceElements();return this.context.strict&&Z&&this.throwUnexpectedToken(Z,H),this.context.strict&&be&&this.tolerateUnexpectedToken(be,H),this.context.strict=ve,this.context.allowYield=K,this.finalize(M,new _.FunctionExpression(U,we,ne,F))},B.prototype.parseDirective=function(){var M=this.lookahead,F=null,H=this.createNode(),U=this.parseExpression();return U.type===E.Syntax.Literal&&(F=this.getTokenRaw(M).slice(1,-1)),this.consumeSemicolon(),this.finalize(H,F?new _.Directive(U,F):new _.ExpressionStatement(U))},B.prototype.parseDirectivePrologues=function(){for(var M=null,F=[];;){var H=this.lookahead;if(H.type!==y.Token.StringLiteral)break;var U=this.parseDirective();F.push(U);var Z=U.directive;if(typeof Z!="string")break;Z==="use strict"?(this.context.strict=!0,M&&this.tolerateUnexpectedToken(M,c.Messages.StrictOctalLiteral)):!M&&H.octal&&(M=H)}return F},B.prototype.qualifiedPropertyName=function(M){switch(M.type){case y.Token.Identifier:case y.Token.StringLiteral:case y.Token.BooleanLiteral:case y.Token.NullLiteral:case y.Token.NumericLiteral:case y.Token.Keyword:return!0;case y.Token.Punctuator:return M.value==="["}return!1},B.prototype.parseGetterMethod=function(){var M=this.createNode();this.expect("("),this.expect(")");var F=!1,H={params:[],stricted:null,firstRestricted:null,message:null},U=this.context.allowYield;this.context.allowYield=!1;var Z=this.parsePropertyMethod(H);return this.context.allowYield=U,this.finalize(M,new _.FunctionExpression(null,H.params,Z,F))},B.prototype.parseSetterMethod=function(){var M=this.createNode(),F={params:[],firstRestricted:null,paramSet:{}},H=!1,U=this.context.allowYield;this.context.allowYield=!1,this.expect("("),this.match(")")?this.tolerateUnexpectedToken(this.lookahead):this.parseFormalParameter(F),this.expect(")");var Z=this.parsePropertyMethod(F);return this.context.allowYield=U,this.finalize(M,new _.FunctionExpression(null,F.params,Z,H))},B.prototype.parseGeneratorMethod=function(){var M=this.createNode(),F=!0,H=this.context.allowYield;this.context.allowYield=!0;var U=this.parseFormalParameters();this.context.allowYield=!1;var Z=this.parsePropertyMethod(U);return this.context.allowYield=H,this.finalize(M,new _.FunctionExpression(null,U.params,Z,F))},B.prototype.isStartOfExpression=function(){var M=!0,F=this.lookahead.value;switch(this.lookahead.type){case y.Token.Punctuator:M=F==="["||F==="("||F==="{"||F==="+"||F==="-"||F==="!"||F==="~"||F==="++"||F==="--"||F==="/"||F==="/=";break;case y.Token.Keyword:M=F==="class"||F==="delete"||F==="function"||F==="let"||F==="new"||F==="super"||F==="this"||F==="typeof"||F==="void"||F==="yield";break}return M},B.prototype.parseYieldExpression=function(){var M=this.createNode();this.expectKeyword("yield");var F=null,H=!1;if(!this.hasLineTerminator){var U=this.context.allowYield;this.context.allowYield=!1,H=this.match("*"),H?(this.nextToken(),F=this.parseAssignmentExpression()):this.isStartOfExpression()&&(F=this.parseAssignmentExpression()),this.context.allowYield=U}return this.finalize(M,new _.YieldExpression(F,H))},B.prototype.parseClassElement=function(M){var F=this.lookahead,H=this.createNode(),U,Z,K,fe=!1,oe=!1,we=!1;if(this.match("*"))this.nextToken();else{fe=this.match("["),Z=this.parseObjectPropertyKey();var be=Z;be.name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(F=this.lookahead,we=!0,fe=this.match("["),this.match("*")?this.nextToken():Z=this.parseObjectPropertyKey())}var ve=this.qualifiedPropertyName(this.lookahead);return F.type===y.Token.Identifier?F.value==="get"&&ve?(U="get",fe=this.match("["),Z=this.parseObjectPropertyKey(),this.context.allowYield=!1,K=this.parseGetterMethod()):F.value==="set"&&ve&&(U="set",fe=this.match("["),Z=this.parseObjectPropertyKey(),K=this.parseSetterMethod()):F.type===y.Token.Punctuator&&F.value==="*"&&ve&&(U="init",fe=this.match("["),Z=this.parseObjectPropertyKey(),K=this.parseGeneratorMethod(),oe=!0),!U&&Z&&this.match("(")&&(U="init",K=this.parsePropertyMethodFunction(),oe=!0),U||this.throwUnexpectedToken(this.lookahead),U==="init"&&(U="method"),fe||(we&&this.isPropertyKey(Z,"prototype")&&this.throwUnexpectedToken(F,c.Messages.StaticPrototype),!we&&this.isPropertyKey(Z,"constructor")&&((U!=="method"||!oe||K.generator)&&this.throwUnexpectedToken(F,c.Messages.ConstructorSpecialMethod),M.value?this.throwUnexpectedToken(F,c.Messages.DuplicateConstructor):M.value=!0,U="constructor")),this.finalize(H,new _.MethodDefinition(Z,fe,K,U,we))},B.prototype.parseClassElementList=function(){var M=[],F={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():M.push(this.parseClassElement(F));return this.expect("}"),M},B.prototype.parseClassBody=function(){var M=this.createNode(),F=this.parseClassElementList();return this.finalize(M,new _.ClassBody(F))},B.prototype.parseClassDeclaration=function(M){var F=this.createNode(),H=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var U=M&&this.lookahead.type!==y.Token.Identifier?null:this.parseVariableIdentifier(),Z=null;this.matchKeyword("extends")&&(this.nextToken(),Z=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var K=this.parseClassBody();return this.context.strict=H,this.finalize(F,new _.ClassDeclaration(U,Z,K))},B.prototype.parseClassExpression=function(){var M=this.createNode(),F=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var H=this.lookahead.type===y.Token.Identifier?this.parseVariableIdentifier():null,U=null;this.matchKeyword("extends")&&(this.nextToken(),U=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var Z=this.parseClassBody();return this.context.strict=F,this.finalize(M,new _.ClassExpression(H,U,Z))},B.prototype.parseProgram=function(){for(var M=this.createNode(),F=this.parseDirectivePrologues();this.startMarker.index<this.scanner.length;)F.push(this.parseStatementListItem());return this.finalize(M,new _.Program(F,this.sourceType))},B.prototype.parseModuleSpecifier=function(){var M=this.createNode();this.lookahead.type!==y.Token.StringLiteral&&this.throwError(c.Messages.InvalidModuleSpecifier);var F=this.nextToken(),H=this.getTokenRaw(F);return this.finalize(M,new _.Literal(F.value,H))},B.prototype.parseImportSpecifier=function(){var M=this.createNode(),F,H;return this.lookahead.type===y.Token.Identifier?(F=this.parseVariableIdentifier(),H=F,this.matchContextualKeyword("as")&&(this.nextToken(),H=this.parseVariableIdentifier())):(F=this.parseIdentifierName(),H=F,this.matchContextualKeyword("as")?(this.nextToken(),H=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(M,new _.ImportSpecifier(H,F))},B.prototype.parseNamedImports=function(){this.expect("{");for(var M=[];!this.match("}");)M.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),M},B.prototype.parseImportDefaultSpecifier=function(){var M=this.createNode(),F=this.parseIdentifierName();return this.finalize(M,new _.ImportDefaultSpecifier(F))},B.prototype.parseImportNamespaceSpecifier=function(){var M=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(c.Messages.NoAsAfterImportNamespace),this.nextToken();var F=this.parseIdentifierName();return this.finalize(M,new _.ImportNamespaceSpecifier(F))},B.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(c.Messages.IllegalImportDeclaration);var M=this.createNode();this.expectKeyword("import");var F,H=[];if(this.lookahead.type===y.Token.StringLiteral)F=this.parseModuleSpecifier();else{if(this.match("{")?H=H.concat(this.parseNamedImports()):this.match("*")?H.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(H.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?H.push(this.parseImportNamespaceSpecifier()):this.match("{")?H=H.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var U=this.lookahead.value?c.Messages.UnexpectedToken:c.Messages.MissingFromClause;this.throwError(U,this.lookahead.value)}this.nextToken(),F=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(M,new _.ImportDeclaration(H,F))},B.prototype.parseExportSpecifier=function(){var M=this.createNode(),F=this.parseIdentifierName(),H=F;return this.matchContextualKeyword("as")&&(this.nextToken(),H=this.parseIdentifierName()),this.finalize(M,new _.ExportSpecifier(F,H))},B.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(c.Messages.IllegalExportDeclaration);var M=this.createNode();this.expectKeyword("export");var F;if(this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var H=this.parseFunctionDeclaration(!0);F=this.finalize(M,new _.ExportDefaultDeclaration(H))}else if(this.matchKeyword("class")){var H=this.parseClassDeclaration(!0);F=this.finalize(M,new _.ExportDefaultDeclaration(H))}else{this.matchContextualKeyword("from")&&this.throwError(c.Messages.UnexpectedToken,this.lookahead.value);var H=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression();this.consumeSemicolon(),F=this.finalize(M,new _.ExportDefaultDeclaration(H))}else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var U=this.lookahead.value?c.Messages.UnexpectedToken:c.Messages.MissingFromClause;this.throwError(U,this.lookahead.value)}this.nextToken();var Z=this.parseModuleSpecifier();this.consumeSemicolon(),F=this.finalize(M,new _.ExportAllDeclaration(Z))}else if(this.lookahead.type===y.Token.Keyword){var H=void 0;switch(this.lookahead.value){case"let":case"const":H=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":H=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}F=this.finalize(M,new _.ExportNamedDeclaration(H,[],null))}else{var K=[],fe=null,oe=!1;for(this.expect("{");!this.match("}");)oe=oe||this.matchKeyword("default"),K.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");if(this.expect("}"),this.matchContextualKeyword("from"))this.nextToken(),fe=this.parseModuleSpecifier(),this.consumeSemicolon();else if(oe){var U=this.lookahead.value?c.Messages.UnexpectedToken:c.Messages.MissingFromClause;this.throwError(U,this.lookahead.value)}else this.consumeSemicolon();F=this.finalize(M,new _.ExportNamedDeclaration(null,K,fe))}return F},B}();t.Parser=R},function(a,t){function r(n,c){if(!n)throw new Error("ASSERT: "+c)}t.assert=r},function(a,t){t.Messages={UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",DefaultRestParameter:"Unexpected token =",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ConstructorSpecialMethod:"Class constructor may not be an accessor",DuplicateConstructor:"A class may only have one constructor",StaticPrototype:"Classes may not have static property named prototype",MissingFromClause:"Unexpected token",NoAsAfterImportNamespace:"Unexpected token",InvalidModuleSpecifier:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalExportDeclaration:"Unexpected token",DuplicateBinding:"Duplicate binding %0",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer"}},function(a,t){var r=function(){function n(){this.errors=[],this.tolerant=!1}return n.prototype.recordError=function(c){this.errors.push(c)},n.prototype.tolerate=function(c){if(this.tolerant)this.recordError(c);else throw c},n.prototype.constructError=function(c,p){var y=new Error(c);try{throw y}catch(v){Object.create&&Object.defineProperty&&(y=Object.create(v),Object.defineProperty(y,"column",{value:p}))}finally{return y}},n.prototype.createError=function(c,p,y,v){var E="Line "+p+": "+v,_=this.constructError(E,y);return _.index=c,_.lineNumber=p,_.description=v,_},n.prototype.throwError=function(c,p,y,v){throw this.createError(c,p,y,v)},n.prototype.tolerateError=function(c,p,y,v){var E=this.createError(c,p,y,v);if(this.tolerant)this.recordError(E);else throw E},n}();t.ErrorHandler=r},function(a,t){(function(n){n[n.BooleanLiteral=1]="BooleanLiteral",n[n.EOF=2]="EOF",n[n.Identifier=3]="Identifier",n[n.Keyword=4]="Keyword",n[n.NullLiteral=5]="NullLiteral",n[n.NumericLiteral=6]="NumericLiteral",n[n.Punctuator=7]="Punctuator",n[n.StringLiteral=8]="StringLiteral",n[n.RegularExpression=9]="RegularExpression",n[n.Template=10]="Template"})(t.Token||(t.Token={}));var r=t.Token;t.TokenName={},t.TokenName[r.BooleanLiteral]="Boolean",t.TokenName[r.EOF]="<end>",t.TokenName[r.Identifier]="Identifier",t.TokenName[r.Keyword]="Keyword",t.TokenName[r.NullLiteral]="Null",t.TokenName[r.NumericLiteral]="Numeric",t.TokenName[r.Punctuator]="Punctuator",t.TokenName[r.StringLiteral]="String",t.TokenName[r.RegularExpression]="RegularExpression",t.TokenName[r.Template]="Template"},function(a,t,r){var n=r(4),c=r(5),p=r(9),y=r(7);function v(k){return"0123456789abcdef".indexOf(k.toLowerCase())}function E(k){return"01234567".indexOf(k)}var _=function(){function k(R,B){this.source=R,this.errorHandler=B,this.trackComment=!1,this.length=R.length,this.index=0,this.lineNumber=R.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return k.prototype.eof=function(){return this.index>=this.length},k.prototype.throwUnexpectedToken=function(R){R===void 0&&(R=c.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,R)},k.prototype.tolerateUnexpectedToken=function(){this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,c.Messages.UnexpectedTokenIllegal)},k.prototype.skipSingleLineComment=function(R){var B,M,F;for(this.trackComment&&(B=[],M=this.index-R,F={start:{line:this.lineNumber,column:this.index-this.lineStart-R},end:{}});!this.eof();){var H=this.source.charCodeAt(this.index);if(++this.index,p.Character.isLineTerminator(H)){if(this.trackComment){F.end={line:this.lineNumber,column:this.index-this.lineStart-1};var U={multiLine:!1,slice:[M+R,this.index-1],range:[M,this.index-1],loc:F};B.push(U)}return H===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,B}}if(this.trackComment){F.end={line:this.lineNumber,column:this.index-this.lineStart};var U={multiLine:!1,slice:[M+R,this.index],range:[M,this.index],loc:F};B.push(U)}return B},k.prototype.skipMultiLineComment=function(){var R,B,M;for(this.trackComment&&(R=[],B=this.index-2,M={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var F=this.source.charCodeAt(this.index);if(p.Character.isLineTerminator(F))F===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(F===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){M.end={line:this.lineNumber,column:this.index-this.lineStart};var H={multiLine:!0,slice:[B+2,this.index-2],range:[B,this.index],loc:M};R.push(H)}return R}++this.index}else++this.index}if(this.trackComment){M.end={line:this.lineNumber,column:this.index-this.lineStart};var H={multiLine:!0,slice:[B+2,this.index],range:[B,this.index],loc:M};R.push(H)}return this.tolerateUnexpectedToken(),R},k.prototype.scanComments=function(){var R;this.trackComment&&(R=[]);for(var B=this.index===0;!this.eof();){var M=this.source.charCodeAt(this.index);if(p.Character.isWhiteSpace(M))++this.index;else if(p.Character.isLineTerminator(M))++this.index,M===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,B=!0;else if(M===47)if(M=this.source.charCodeAt(this.index+1),M===47){this.index+=2;var F=this.skipSingleLineComment(2);this.trackComment&&(R=R.concat(F)),B=!0}else if(M===42){this.index+=2;var F=this.skipMultiLineComment();this.trackComment&&(R=R.concat(F))}else break;else if(B&&M===45)if(this.source.charCodeAt(this.index+1)===45&&this.source.charCodeAt(this.index+2)===62){this.index+=3;var F=this.skipSingleLineComment(3);this.trackComment&&(R=R.concat(F))}else break;else if(M===60)if(this.source.slice(this.index+1,this.index+4)==="!--"){this.index+=4;var F=this.skipSingleLineComment(4);this.trackComment&&(R=R.concat(F))}else break;else break}return R},k.prototype.isFutureReservedWord=function(R){switch(R){case"enum":case"export":case"import":case"super":return!0;default:return!1}},k.prototype.isStrictModeReservedWord=function(R){switch(R){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},k.prototype.isRestrictedWord=function(R){return R==="eval"||R==="arguments"},k.prototype.isKeyword=function(R){switch(R.length){case 2:return R==="if"||R==="in"||R==="do";case 3:return R==="var"||R==="for"||R==="new"||R==="try"||R==="let";case 4:return R==="this"||R==="else"||R==="case"||R==="void"||R==="with"||R==="enum";case 5:return R==="while"||R==="break"||R==="catch"||R==="throw"||R==="const"||R==="yield"||R==="class"||R==="super";case 6:return R==="return"||R==="typeof"||R==="delete"||R==="switch"||R==="export"||R==="import";case 7:return R==="default"||R==="finally"||R==="extends";case 8:return R==="function"||R==="continue"||R==="debugger";case 10:return R==="instanceof";default:return!1}},k.prototype.codePointAt=function(R){var B=this.source.charCodeAt(R);if(B>=55296&&B<=56319){var M=this.source.charCodeAt(R+1);if(M>=56320&&M<=57343){var F=B;B=(F-55296)*1024+M-56320+65536}}return B},k.prototype.scanHexEscape=function(R){for(var B=R==="u"?4:2,M=0,F=0;F<B;++F)if(!this.eof()&&p.Character.isHexDigit(this.source.charCodeAt(this.index)))M=M*16+v(this.source[this.index++]);else return"";return String.fromCharCode(M)},k.prototype.scanUnicodeCodePointEscape=function(){var R=this.source[this.index],B=0;for(R==="}"&&this.throwUnexpectedToken();!this.eof()&&(R=this.source[this.index++],!!p.Character.isHexDigit(R.charCodeAt(0)));)B=B*16+v(R);return(B>1114111||R!=="}")&&this.throwUnexpectedToken(),p.Character.fromCodePoint(B)},k.prototype.getIdentifier=function(){for(var R=this.index++;!this.eof();){var B=this.source.charCodeAt(this.index);if(B===92)return this.index=R,this.getComplexIdentifier();if(B>=55296&&B<57343)return this.index=R,this.getComplexIdentifier();if(p.Character.isIdentifierPart(B))++this.index;else break}return this.source.slice(R,this.index)},k.prototype.getComplexIdentifier=function(){var R=this.codePointAt(this.index),B=p.Character.fromCodePoint(R);this.index+=B.length;var M;for(R===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,M=this.scanUnicodeCodePointEscape()):(M=this.scanHexEscape("u"),R=M.charCodeAt(0),(!M||M==="\\"||!p.Character.isIdentifierStart(R))&&this.throwUnexpectedToken()),B=M);!this.eof()&&(R=this.codePointAt(this.index),!!p.Character.isIdentifierPart(R));)M=p.Character.fromCodePoint(R),B+=M,this.index+=M.length,R===92&&(B=B.substr(0,B.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,M=this.scanUnicodeCodePointEscape()):(M=this.scanHexEscape("u"),R=M.charCodeAt(0),(!M||M==="\\"||!p.Character.isIdentifierPart(R))&&this.throwUnexpectedToken()),B+=M);return B},k.prototype.octalToDecimal=function(R){var B=R!=="0",M=E(R);return!this.eof()&&p.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(B=!0,M=M*8+E(this.source[this.index++]),"0123".indexOf(R)>=0&&!this.eof()&&p.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(M=M*8+E(this.source[this.index++]))),{code:M,octal:B}},k.prototype.scanIdentifier=function(){var R,B=this.index,M=this.source.charCodeAt(B)===92?this.getComplexIdentifier():this.getIdentifier();return M.length===1?R=y.Token.Identifier:this.isKeyword(M)?R=y.Token.Keyword:M==="null"?R=y.Token.NullLiteral:M==="true"||M==="false"?R=y.Token.BooleanLiteral:R=y.Token.Identifier,{type:R,value:M,lineNumber:this.lineNumber,lineStart:this.lineStart,start:B,end:this.index}},k.prototype.scanPunctuator=function(){var R={type:y.Token.Punctuator,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index},B=this.source[this.index];switch(B){case"(":case"{":B==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,B="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:B=this.source.substr(this.index,4),B===">>>="?this.index+=4:(B=B.substr(0,3),B==="==="||B==="!=="||B===">>>"||B==="<<="||B===">>="||B==="**="?this.index+=3:(B=B.substr(0,2),B==="&&"||B==="||"||B==="=="||B==="!="||B==="+="||B==="-="||B==="*="||B==="/="||B==="++"||B==="--"||B==="<<"||B===">>"||B==="&="||B==="|="||B==="^="||B==="%="||B==="<="||B===">="||B==="=>"||B==="**"?this.index+=2:(B=this.source[this.index],"<>=!+-*%&|^/".indexOf(B)>=0&&++this.index)))}return this.index===R.start&&this.throwUnexpectedToken(),R.end=this.index,R.value=B,R},k.prototype.scanHexLiteral=function(R){for(var B="";!this.eof()&&p.Character.isHexDigit(this.source.charCodeAt(this.index));)B+=this.source[this.index++];return B.length===0&&this.throwUnexpectedToken(),p.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:y.Token.NumericLiteral,value:parseInt("0x"+B,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:R,end:this.index}},k.prototype.scanBinaryLiteral=function(R){for(var B="",M;!this.eof()&&(M=this.source[this.index],!(M!=="0"&&M!=="1"));)B+=this.source[this.index++];return B.length===0&&this.throwUnexpectedToken(),this.eof()||(M=this.source.charCodeAt(this.index),(p.Character.isIdentifierStart(M)||p.Character.isDecimalDigit(M))&&this.throwUnexpectedToken()),{type:y.Token.NumericLiteral,value:parseInt(B,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:R,end:this.index}},k.prototype.scanOctalLiteral=function(R,B){var M="",F=!1;for(p.Character.isOctalDigit(R.charCodeAt(0))?(F=!0,M="0"+this.source[this.index++]):++this.index;!this.eof()&&p.Character.isOctalDigit(this.source.charCodeAt(this.index));)M+=this.source[this.index++];return!F&&M.length===0&&this.throwUnexpectedToken(),(p.Character.isIdentifierStart(this.source.charCodeAt(this.index))||p.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:y.Token.NumericLiteral,value:parseInt(M,8),octal:F,lineNumber:this.lineNumber,lineStart:this.lineStart,start:B,end:this.index}},k.prototype.isImplicitOctalLiteral=function(){for(var R=this.index+1;R<this.length;++R){var B=this.source[R];if(B==="8"||B==="9")return!1;if(!p.Character.isOctalDigit(B.charCodeAt(0)))return!0}return!0},k.prototype.scanNumericLiteral=function(){var R=this.index,B=this.source[R];n.assert(p.Character.isDecimalDigit(B.charCodeAt(0))||B===".","Numeric literal must start with a decimal digit or a decimal point");var M="";if(B!=="."){if(M=this.source[this.index++],B=this.source[this.index],M==="0"){if(B==="x"||B==="X")return++this.index,this.scanHexLiteral(R);if(B==="b"||B==="B")return++this.index,this.scanBinaryLiteral(R);if(B==="o"||B==="O")return this.scanOctalLiteral(B,R);if(B&&p.Character.isOctalDigit(B.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(B,R)}for(;p.Character.isDecimalDigit(this.source.charCodeAt(this.index));)M+=this.source[this.index++];B=this.source[this.index]}if(B==="."){for(M+=this.source[this.index++];p.Character.isDecimalDigit(this.source.charCodeAt(this.index));)M+=this.source[this.index++];B=this.source[this.index]}if(B==="e"||B==="E")if(M+=this.source[this.index++],B=this.source[this.index],(B==="+"||B==="-")&&(M+=this.source[this.index++]),p.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;p.Character.isDecimalDigit(this.source.charCodeAt(this.index));)M+=this.source[this.index++];else this.throwUnexpectedToken();return p.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:y.Token.NumericLiteral,value:parseFloat(M),lineNumber:this.lineNumber,lineStart:this.lineStart,start:R,end:this.index}},k.prototype.scanStringLiteral=function(){var R=this.index,B=this.source[R];n.assert(B==="'"||B==='"',"String literal must starts with a quote"),++this.index;for(var M=!1,F="";!this.eof();){var H=this.source[this.index++];if(H===B){B="";break}else if(H==="\\")if(H=this.source[this.index++],!H||!p.Character.isLineTerminator(H.charCodeAt(0)))switch(H){case"u":case"x":if(this.source[this.index]==="{")++this.index,F+=this.scanUnicodeCodePointEscape();else{var U=this.scanHexEscape(H);U||this.throwUnexpectedToken(),F+=U}break;case"n":F+=`
`;break;case"r":F+="\r";break;case"t":F+="	";break;case"b":F+="\b";break;case"f":F+="\f";break;case"v":F+="\v";break;case"8":case"9":F+=H,this.tolerateUnexpectedToken();break;default:if(H&&p.Character.isOctalDigit(H.charCodeAt(0))){var Z=this.octalToDecimal(H);M=Z.octal||M,F+=String.fromCharCode(Z.code)}else F+=H;break}else++this.lineNumber,H==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else{if(p.Character.isLineTerminator(H.charCodeAt(0)))break;F+=H}}return B!==""&&(this.index=R,this.throwUnexpectedToken()),{type:y.Token.StringLiteral,value:F,octal:M,lineNumber:this.lineNumber,lineStart:this.lineStart,start:R,end:this.index}},k.prototype.scanTemplate=function(){var R="",B=!1,M=this.index,F=this.source[M]==="`",H=!1,U=2;for(++this.index;!this.eof();){var Z=this.source[this.index++];if(Z==="`"){U=1,H=!0,B=!0;break}else if(Z==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,B=!0;break}R+=Z}else if(Z==="\\")if(Z=this.source[this.index++],p.Character.isLineTerminator(Z.charCodeAt(0)))++this.lineNumber,Z==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(Z){case"n":R+=`
`;break;case"r":R+="\r";break;case"t":R+="	";break;case"u":case"x":if(this.source[this.index]==="{")++this.index,R+=this.scanUnicodeCodePointEscape();else{var K=this.index,fe=this.scanHexEscape(Z);fe?R+=fe:(this.index=K,R+=Z)}break;case"b":R+="\b";break;case"f":R+="\f";break;case"v":R+="\v";break;default:Z==="0"?(p.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(c.Messages.TemplateOctalLiteral),R+="\0"):p.Character.isOctalDigit(Z.charCodeAt(0))?this.throwUnexpectedToken(c.Messages.TemplateOctalLiteral):R+=Z;break}else p.Character.isLineTerminator(Z.charCodeAt(0))?(++this.lineNumber,Z==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,R+=`
`):R+=Z}return B||this.throwUnexpectedToken(),F||this.curlyStack.pop(),{type:y.Token.Template,value:{cooked:R,raw:this.source.slice(M+1,this.index-U)},head:F,tail:H,lineNumber:this.lineNumber,lineStart:this.lineStart,start:M,end:this.index}},k.prototype.testRegExp=function(R,B){var M="\uFFFF",F=R,H=this;B.indexOf("u")>=0&&(F=F.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(U,Z,K){var fe=parseInt(Z||K,16);return fe>1114111&&H.throwUnexpectedToken(c.Messages.InvalidRegExp),fe<=65535?String.fromCharCode(fe):M}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,M));try{RegExp(F)}catch{this.throwUnexpectedToken(c.Messages.InvalidRegExp)}try{return new RegExp(R,B)}catch{return null}},k.prototype.scanRegExpBody=function(){var R=this.source[this.index];n.assert(R==="/","Regular expression literal must start with a slash");for(var B=this.source[this.index++],M=!1,F=!1;!this.eof();)if(R=this.source[this.index++],B+=R,R==="\\")R=this.source[this.index++],p.Character.isLineTerminator(R.charCodeAt(0))&&this.throwUnexpectedToken(c.Messages.UnterminatedRegExp),B+=R;else if(p.Character.isLineTerminator(R.charCodeAt(0)))this.throwUnexpectedToken(c.Messages.UnterminatedRegExp);else if(M)R==="]"&&(M=!1);else if(R==="/"){F=!0;break}else R==="["&&(M=!0);F||this.throwUnexpectedToken(c.Messages.UnterminatedRegExp);var H=B.substr(1,B.length-2);return{value:H,literal:B}},k.prototype.scanRegExpFlags=function(){for(var R="",B="";!this.eof();){var M=this.source[this.index];if(!p.Character.isIdentifierPart(M.charCodeAt(0)))break;if(++this.index,M==="\\"&&!this.eof())if(M=this.source[this.index],M==="u"){++this.index;var F=this.index;if(M=this.scanHexEscape("u"),M)for(B+=M,R+="\\u";F<this.index;++F)R+=this.source[F];else this.index=F,B+="u",R+="\\u";this.tolerateUnexpectedToken()}else R+="\\",this.tolerateUnexpectedToken();else B+=M,R+=M}return{value:B,literal:R}},k.prototype.scanRegExp=function(){var R=this.index,B=this.scanRegExpBody(),M=this.scanRegExpFlags(),F=this.testRegExp(B.value,M.value);return{type:y.Token.RegularExpression,value:F,literal:B.literal+M.literal,regex:{pattern:B.value,flags:M.value},lineNumber:this.lineNumber,lineStart:this.lineStart,start:R,end:this.index}},k.prototype.lex=function(){if(this.eof())return{type:y.Token.EOF,lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var R=this.source.charCodeAt(this.index);return p.Character.isIdentifierStart(R)?this.scanIdentifier():R===40||R===41||R===59?this.scanPunctuator():R===39||R===34?this.scanStringLiteral():R===46?p.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():p.Character.isDecimalDigit(R)?this.scanNumericLiteral():R===96||R===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():R>=55296&&R<57343&&p.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},k}();t.Scanner=_},function(a,t){var r={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};t.Character={fromCodePoint:function(n){return n<65536?String.fromCharCode(n):String.fromCharCode(55296+(n-65536>>10))+String.fromCharCode(56320+(n-65536&1023))},isWhiteSpace:function(n){return n===32||n===9||n===11||n===12||n===160||n>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(n)>=0},isLineTerminator:function(n){return n===10||n===13||n===8232||n===8233},isIdentifierStart:function(n){return n===36||n===95||n>=65&&n<=90||n>=97&&n<=122||n===92||n>=128&&r.NonAsciiIdentifierStart.test(t.Character.fromCodePoint(n))},isIdentifierPart:function(n){return n===36||n===95||n>=65&&n<=90||n>=97&&n<=122||n>=48&&n<=57||n===92||n>=128&&r.NonAsciiIdentifierPart.test(t.Character.fromCodePoint(n))},isDecimalDigit:function(n){return n>=48&&n<=57},isHexDigit:function(n){return n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102},isOctalDigit:function(n){return n>=48&&n<=55}}},function(a,t,r){var n=r(2),c=function(){function Ct(Nt){this.type=n.Syntax.ArrayExpression,this.elements=Nt}return Ct}();t.ArrayExpression=c;var p=function(){function Ct(Nt){this.type=n.Syntax.ArrayPattern,this.elements=Nt}return Ct}();t.ArrayPattern=p;var y=function(){function Ct(Nt,lr,Sr){this.type=n.Syntax.ArrowFunctionExpression,this.id=null,this.params=Nt,this.body=lr,this.generator=!1,this.expression=Sr}return Ct}();t.ArrowFunctionExpression=y;var v=function(){function Ct(Nt,lr,Sr){this.type=n.Syntax.AssignmentExpression,this.operator=Nt,this.left=lr,this.right=Sr}return Ct}();t.AssignmentExpression=v;var E=function(){function Ct(Nt,lr){this.type=n.Syntax.AssignmentPattern,this.left=Nt,this.right=lr}return Ct}();t.AssignmentPattern=E;var _=function(){function Ct(Nt,lr,Sr){var Vr=Nt==="||"||Nt==="&&";this.type=Vr?n.Syntax.LogicalExpression:n.Syntax.BinaryExpression,this.operator=Nt,this.left=lr,this.right=Sr}return Ct}();t.BinaryExpression=_;var k=function(){function Ct(Nt){this.type=n.Syntax.BlockStatement,this.body=Nt}return Ct}();t.BlockStatement=k;var R=function(){function Ct(Nt){this.type=n.Syntax.BreakStatement,this.label=Nt}return Ct}();t.BreakStatement=R;var B=function(){function Ct(Nt,lr){this.type=n.Syntax.CallExpression,this.callee=Nt,this.arguments=lr}return Ct}();t.CallExpression=B;var M=function(){function Ct(Nt,lr){this.type=n.Syntax.CatchClause,this.param=Nt,this.body=lr}return Ct}();t.CatchClause=M;var F=function(){function Ct(Nt){this.type=n.Syntax.ClassBody,this.body=Nt}return Ct}();t.ClassBody=F;var H=function(){function Ct(Nt,lr,Sr){this.type=n.Syntax.ClassDeclaration,this.id=Nt,this.superClass=lr,this.body=Sr}return Ct}();t.ClassDeclaration=H;var U=function(){function Ct(Nt,lr,Sr){this.type=n.Syntax.ClassExpression,this.id=Nt,this.superClass=lr,this.body=Sr}return Ct}();t.ClassExpression=U;var Z=function(){function Ct(Nt,lr){this.type=n.Syntax.MemberExpression,this.computed=!0,this.object=Nt,this.property=lr}return Ct}();t.ComputedMemberExpression=Z;var K=function(){function Ct(Nt,lr,Sr){this.type=n.Syntax.ConditionalExpression,this.test=Nt,this.consequent=lr,this.alternate=Sr}return Ct}();t.ConditionalExpression=K;var fe=function(){function Ct(Nt){this.type=n.Syntax.ContinueStatement,this.label=Nt}return Ct}();t.ContinueStatement=fe;var oe=function(){function Ct(){this.type=n.Syntax.DebuggerStatement}return Ct}();t.DebuggerStatement=oe;var we=function(){function Ct(Nt,lr){this.type=n.Syntax.ExpressionStatement,this.expression=Nt,this.directive=lr}return Ct}();t.Directive=we;var be=function(){function Ct(Nt,lr){this.type=n.Syntax.DoWhileStatement,this.body=Nt,this.test=lr}return Ct}();t.DoWhileStatement=be;var ve=function(){function Ct(){this.type=n.Syntax.EmptyStatement}return Ct}();t.EmptyStatement=ve;var ne=function(){function Ct(Nt){this.type=n.Syntax.ExportAllDeclaration,this.source=Nt}return Ct}();t.ExportAllDeclaration=ne;var ae=function(){function Ct(Nt){this.type=n.Syntax.ExportDefaultDeclaration,this.declaration=Nt}return Ct}();t.ExportDefaultDeclaration=ae;var ye=function(){function Ct(Nt,lr,Sr){this.type=n.Syntax.ExportNamedDeclaration,this.declaration=Nt,this.specifiers=lr,this.source=Sr}return Ct}();t.ExportNamedDeclaration=ye;var de=function(){function Ct(Nt,lr){this.type=n.Syntax.ExportSpecifier,this.exported=lr,this.local=Nt}return Ct}();t.ExportSpecifier=de;var xe=function(){function Ct(Nt){this.type=n.Syntax.ExpressionStatement,this.expression=Nt}return Ct}();t.ExpressionStatement=xe;var le=function(){function Ct(Nt,lr,Sr){this.type=n.Syntax.ForInStatement,this.left=Nt,this.right=lr,this.body=Sr,this.each=!1}return Ct}();t.ForInStatement=le;var re=function(){function Ct(Nt,lr,Sr){this.type=n.Syntax.ForOfStatement,this.left=Nt,this.right=lr,this.body=Sr}return Ct}();t.ForOfStatement=re;var he=function(){function Ct(Nt,lr,Sr,Vr){this.type=n.Syntax.ForStatement,this.init=Nt,this.test=lr,this.update=Sr,this.body=Vr}return Ct}();t.ForStatement=he;var me=function(){function Ct(Nt,lr,Sr,Vr){this.type=n.Syntax.FunctionDeclaration,this.id=Nt,this.params=lr,this.body=Sr,this.generator=Vr,this.expression=!1}return Ct}();t.FunctionDeclaration=me;var Re=function(){function Ct(Nt,lr,Sr,Vr){this.type=n.Syntax.FunctionExpression,this.id=Nt,this.params=lr,this.body=Sr,this.generator=Vr,this.expression=!1}return Ct}();t.FunctionExpression=Re;var Ie=function(){function Ct(Nt){this.type=n.Syntax.Identifier,this.name=Nt}return Ct}();t.Identifier=Ie;var Ne=function(){function Ct(Nt,lr,Sr){this.type=n.Syntax.IfStatement,this.test=Nt,this.consequent=lr,this.alternate=Sr}return Ct}();t.IfStatement=Ne;var Qe=function(){function Ct(Nt,lr){this.type=n.Syntax.ImportDeclaration,this.specifiers=Nt,this.source=lr}return Ct}();t.ImportDeclaration=Qe;var Ue=function(){function Ct(Nt){this.type=n.Syntax.ImportDefaultSpecifier,this.local=Nt}return Ct}();t.ImportDefaultSpecifier=Ue;var ce=function(){function Ct(Nt){this.type=n.Syntax.ImportNamespaceSpecifier,this.local=Nt}return Ct}();t.ImportNamespaceSpecifier=ce;var Me=function(){function Ct(Nt,lr){this.type=n.Syntax.ImportSpecifier,this.local=Nt,this.imported=lr}return Ct}();t.ImportSpecifier=Me;var ot=function(){function Ct(Nt,lr){this.type=n.Syntax.LabeledStatement,this.label=Nt,this.body=lr}return Ct}();t.LabeledStatement=ot;var Se=function(){function Ct(Nt,lr){this.type=n.Syntax.Literal,this.value=Nt,this.raw=lr}return Ct}();t.Literal=Se;var Xe=function(){function Ct(Nt,lr){this.type=n.Syntax.MetaProperty,this.meta=Nt,this.property=lr}return Ct}();t.MetaProperty=Xe;var ct=function(){function Ct(Nt,lr,Sr,Vr,gi){this.type=n.Syntax.MethodDefinition,this.key=Nt,this.computed=lr,this.value=Sr,this.kind=Vr,this.static=gi}return Ct}();t.MethodDefinition=ct;var $e=function(){function Ct(Nt,lr){this.type=n.Syntax.NewExpression,this.callee=Nt,this.arguments=lr}return Ct}();t.NewExpression=$e;var Et=function(){function Ct(Nt){this.type=n.Syntax.ObjectExpression,this.properties=Nt}return Ct}();t.ObjectExpression=Et;var Dt=function(){function Ct(Nt){this.type=n.Syntax.ObjectPattern,this.properties=Nt}return Ct}();t.ObjectPattern=Dt;var er=function(){function Ct(Nt,lr){this.type=n.Syntax.Program,this.body=Nt,this.sourceType=lr}return Ct}();t.Program=er;var Gt=function(){function Ct(Nt,lr,Sr,Vr,gi,ki){this.type=n.Syntax.Property,this.key=lr,this.computed=Sr,this.value=Vr,this.kind=Nt,this.method=gi,this.shorthand=ki}return Ct}();t.Property=Gt;var Ht=function(){function Ct(Nt,lr,Sr){this.type=n.Syntax.Literal,this.value=Nt,this.raw=lr,this.regex=Sr}return Ct}();t.RegexLiteral=Ht;var Kt=function(){function Ct(Nt){this.type=n.Syntax.RestElement,this.argument=Nt}return Ct}();t.RestElement=Kt;var yr=function(){function Ct(Nt){this.type=n.Syntax.ReturnStatement,this.argument=Nt}return Ct}();t.ReturnStatement=yr;var Ur=function(){function Ct(Nt){this.type=n.Syntax.SequenceExpression,this.expressions=Nt}return Ct}();t.SequenceExpression=Ur;var Yr=function(){function Ct(Nt){this.type=n.Syntax.SpreadElement,this.argument=Nt}return Ct}();t.SpreadElement=Yr;var oi=function(){function Ct(Nt,lr){this.type=n.Syntax.MemberExpression,this.computed=!1,this.object=Nt,this.property=lr}return Ct}();t.StaticMemberExpression=oi;var xt=function(){function Ct(){this.type=n.Syntax.Super}return Ct}();t.Super=xt;var kt=function(){function Ct(Nt,lr){this.type=n.Syntax.SwitchCase,this.test=Nt,this.consequent=lr}return Ct}();t.SwitchCase=kt;var rr=function(){function Ct(Nt,lr){this.type=n.Syntax.SwitchStatement,this.discriminant=Nt,this.cases=lr}return Ct}();t.SwitchStatement=rr;var mt=function(){function Ct(Nt,lr){this.type=n.Syntax.TaggedTemplateExpression,this.tag=Nt,this.quasi=lr}return Ct}();t.TaggedTemplateExpression=mt;var ft=function(){function Ct(Nt,lr){this.type=n.Syntax.TemplateElement,this.value=Nt,this.tail=lr}return Ct}();t.TemplateElement=ft;var Ut=function(){function Ct(Nt,lr){this.type=n.Syntax.TemplateLiteral,this.quasis=Nt,this.expressions=lr}return Ct}();t.TemplateLiteral=Ut;var ir=function(){function Ct(){this.type=n.Syntax.ThisExpression}return Ct}();t.ThisExpression=ir;var vr=function(){function Ct(Nt){this.type=n.Syntax.ThrowStatement,this.argument=Nt}return Ct}();t.ThrowStatement=vr;var nt=function(){function Ct(Nt,lr,Sr){this.type=n.Syntax.TryStatement,this.block=Nt,this.handler=lr,this.finalizer=Sr}return Ct}();t.TryStatement=nt;var De=function(){function Ct(Nt,lr){this.type=n.Syntax.UnaryExpression,this.operator=Nt,this.argument=lr,this.prefix=!0}return Ct}();t.UnaryExpression=De;var Te=function(){function Ct(Nt,lr,Sr){this.type=n.Syntax.UpdateExpression,this.operator=Nt,this.argument=lr,this.prefix=Sr}return Ct}();t.UpdateExpression=Te;var gt=function(){function Ct(Nt,lr){this.type=n.Syntax.VariableDeclaration,this.declarations=Nt,this.kind=lr}return Ct}();t.VariableDeclaration=gt;var zt=function(){function Ct(Nt,lr){this.type=n.Syntax.VariableDeclarator,this.id=Nt,this.init=lr}return Ct}();t.VariableDeclarator=zt;var Bt=function(){function Ct(Nt,lr){this.type=n.Syntax.WhileStatement,this.test=Nt,this.body=lr}return Ct}();t.WhileStatement=Bt;var bt=function(){function Ct(Nt,lr){this.type=n.Syntax.WithStatement,this.object=Nt,this.body=lr}return Ct}();t.WithStatement=bt;var Rr=function(){function Ct(Nt,lr){this.type=n.Syntax.YieldExpression,this.argument=Nt,this.delegate=lr}return Ct}();t.YieldExpression=Rr},function(a,t,r){var n=this&&this.__extends||function(F,H){for(var U in H)H.hasOwnProperty(U)&&(F[U]=H[U]);function Z(){this.constructor=F}F.prototype=H===null?Object.create(H):(Z.prototype=H.prototype,new Z)},c=r(9),p=r(7),y=r(3),v=r(12),E=r(13),_=r(10),k=r(14),R;(function(F){F[F.Identifier=100]="Identifier",F[F.Text=101]="Text"})(R||(R={})),p.TokenName[R.Identifier]="JSXIdentifier",p.TokenName[R.Text]="JSXText";function B(F){var H;switch(F.type){case E.JSXSyntax.JSXIdentifier:var U=F;H=U.name;break;case E.JSXSyntax.JSXNamespacedName:var Z=F;H=B(Z.namespace)+":"+B(Z.name);break;case E.JSXSyntax.JSXMemberExpression:var K=F;H=B(K.object)+"."+B(K.property);break}return H}var M=function(F){n(H,F);function H(U,Z,K){F.call(this,U,Z,K)}return H.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():F.prototype.parsePrimaryExpression.call(this)},H.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.lineNumber,this.scanner.lineStart=this.startMarker.lineStart},H.prototype.finishJSX=function(){this.nextToken()},H.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},H.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},H.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},H.prototype.scanXHTMLEntity=function(U){for(var Z="&",K=!0,fe=!1,oe=!1,we=!1;!this.scanner.eof()&&K&&!fe;){var be=this.scanner.source[this.scanner.index];if(be===U)break;if(fe=be===";",Z+=be,++this.scanner.index,!fe)switch(Z.length){case 2:oe=be==="#";break;case 3:oe&&(we=be==="x",K=we||c.Character.isDecimalDigit(be.charCodeAt(0)),oe=oe&&!we);break;default:K=K&&!(oe&&!c.Character.isDecimalDigit(be.charCodeAt(0))),K=K&&!(we&&!c.Character.isHexDigit(be.charCodeAt(0)));break}}if(K&&fe&&Z.length>2){var ve=Z.substr(1,Z.length-2);oe&&ve.length>1?Z=String.fromCharCode(parseInt(ve.substr(1),10)):we&&ve.length>2?Z=String.fromCharCode(parseInt("0"+ve.substr(1),16)):!oe&&!we&&v.XHTMLEntities[ve]&&(Z=v.XHTMLEntities[ve])}return Z},H.prototype.lexJSX=function(){var U=this.scanner.source.charCodeAt(this.scanner.index);if(U===60||U===62||U===47||U===58||U===61||U===123||U===125){var Z=this.scanner.source[this.scanner.index++];return{type:p.Token.Punctuator,value:Z,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index}}if(U===34||U===39){for(var K=this.scanner.index,fe=this.scanner.source[this.scanner.index++],oe="";!this.scanner.eof();){var we=this.scanner.source[this.scanner.index++];if(we===fe)break;we==="&"?oe+=this.scanXHTMLEntity(fe):oe+=we}return{type:p.Token.StringLiteral,value:oe,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:K,end:this.scanner.index}}if(U===46){var be=this.scanner.source.charCodeAt(this.scanner.index+1),ve=this.scanner.source.charCodeAt(this.scanner.index+2),Z=be===46&&ve===46?"...":".",K=this.scanner.index;return this.scanner.index+=Z.length,{type:p.Token.Punctuator,value:Z,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:K,end:this.scanner.index}}if(U===96)return{type:p.Token.Template,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(c.Character.isIdentifierStart(U)&&U!==92){var K=this.scanner.index;for(++this.scanner.index;!this.scanner.eof();){var we=this.scanner.source.charCodeAt(this.scanner.index);if(c.Character.isIdentifierPart(we)&&we!==92)++this.scanner.index;else if(we===45)++this.scanner.index;else break}var ne=this.scanner.source.slice(K,this.scanner.index);return{type:R.Identifier,value:ne,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:K,end:this.scanner.index}}this.scanner.throwUnexpectedToken()},H.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.lineNumber=this.scanner.lineNumber,this.startMarker.lineStart=this.scanner.lineStart;var U=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.lineNumber=this.scanner.lineNumber,this.lastMarker.lineStart=this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(U)),U},H.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.lineNumber=this.scanner.lineNumber,this.startMarker.lineStart=this.scanner.lineStart;for(var U=this.scanner.index,Z="";!this.scanner.eof();){var K=this.scanner.source[this.scanner.index];if(K==="{"||K==="<")break;++this.scanner.index,Z+=K,c.Character.isLineTerminator(K.charCodeAt(0))&&(++this.scanner.lineNumber,K==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.lineNumber=this.scanner.lineNumber,this.lastMarker.lineStart=this.scanner.lineStart;var fe={type:R.Text,value:Z,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:U,end:this.scanner.index};return Z.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(fe)),fe},H.prototype.peekJSXToken=function(){var U=this.scanner.index,Z=this.scanner.lineNumber,K=this.scanner.lineStart;this.scanner.scanComments();var fe=this.lexJSX();return this.scanner.index=U,this.scanner.lineNumber=Z,this.scanner.lineStart=K,fe},H.prototype.expectJSX=function(U){var Z=this.nextJSXToken();(Z.type!==p.Token.Punctuator||Z.value!==U)&&this.throwUnexpectedToken(Z)},H.prototype.matchJSX=function(U){var Z=this.peekJSXToken();return Z.type===p.Token.Punctuator&&Z.value===U},H.prototype.parseJSXIdentifier=function(){var U=this.createJSXNode(),Z=this.nextJSXToken();return Z.type!==R.Identifier&&this.throwUnexpectedToken(Z),this.finalize(U,new k.JSXIdentifier(Z.value))},H.prototype.parseJSXElementName=function(){var U=this.createJSXNode(),Z=this.parseJSXIdentifier();if(this.matchJSX(":")){var K=Z;this.expectJSX(":");var fe=this.parseJSXIdentifier();Z=this.finalize(U,new k.JSXNamespacedName(K,fe))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var oe=Z;this.expectJSX(".");var we=this.parseJSXIdentifier();Z=this.finalize(U,new k.JSXMemberExpression(oe,we))}return Z},H.prototype.parseJSXAttributeName=function(){var U=this.createJSXNode(),Z,K=this.parseJSXIdentifier();if(this.matchJSX(":")){var fe=K;this.expectJSX(":");var oe=this.parseJSXIdentifier();Z=this.finalize(U,new k.JSXNamespacedName(fe,oe))}else Z=K;return Z},H.prototype.parseJSXStringLiteralAttribute=function(){var U=this.createJSXNode(),Z=this.nextJSXToken();Z.type!==p.Token.StringLiteral&&this.throwUnexpectedToken(Z);var K=this.getTokenRaw(Z);return this.finalize(U,new _.Literal(Z.value,K))},H.prototype.parseJSXExpressionAttribute=function(){var U=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var Z=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(U,new k.JSXExpressionContainer(Z))},H.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},H.prototype.parseJSXNameValueAttribute=function(){var U=this.createJSXNode(),Z=this.parseJSXAttributeName(),K=null;return this.matchJSX("=")&&(this.expectJSX("="),K=this.parseJSXAttributeValue()),this.finalize(U,new k.JSXAttribute(Z,K))},H.prototype.parseJSXSpreadAttribute=function(){var U=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var Z=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(U,new k.JSXSpreadAttribute(Z))},H.prototype.parseJSXAttributes=function(){for(var U=[];!this.matchJSX("/")&&!this.matchJSX(">");){var Z=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();U.push(Z)}return U},H.prototype.parseJSXOpeningElement=function(){var U=this.createJSXNode();this.expectJSX("<");var Z=this.parseJSXElementName(),K=this.parseJSXAttributes(),fe=this.matchJSX("/");return fe&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(U,new k.JSXOpeningElement(Z,fe,K))},H.prototype.parseJSXBoundaryElement=function(){var U=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var Z=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(U,new k.JSXClosingElement(Z))}var K=this.parseJSXElementName(),fe=this.parseJSXAttributes(),oe=this.matchJSX("/");return oe&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(U,new k.JSXOpeningElement(K,oe,fe))},H.prototype.parseJSXEmptyExpression=function(){var U=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.lineNumber=this.scanner.lineNumber,this.lastMarker.lineStart=this.scanner.lineStart,this.finalize(U,new k.JSXEmptyExpression)},H.prototype.parseJSXExpressionContainer=function(){var U=this.createJSXNode();this.expectJSX("{");var Z;return this.matchJSX("}")?(Z=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),Z=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(U,new k.JSXExpressionContainer(Z))},H.prototype.parseJSXChildren=function(){for(var U=[];!this.scanner.eof();){var Z=this.createJSXChildNode(),K=this.nextJSXText();if(K.start<K.end){var fe=this.getTokenRaw(K),oe=this.finalize(Z,new k.JSXText(K.value,fe));U.push(oe)}if(this.scanner.source[this.scanner.index]==="{"){var we=this.parseJSXExpressionContainer();U.push(we)}else break}return U},H.prototype.parseComplexJSXElement=function(U){for(var Z=[];!this.scanner.eof();){U.children=U.children.concat(this.parseJSXChildren());var K=this.createJSXChildNode(),fe=this.parseJSXBoundaryElement();if(fe.type===E.JSXSyntax.JSXOpeningElement){var oe=fe;if(oe.selfClosing){var we=this.finalize(K,new k.JSXElement(oe,[],null));U.children.push(we)}else Z.push(U),U={node:K,opening:oe,closing:null,children:[]}}if(fe.type===E.JSXSyntax.JSXClosingElement){U.closing=fe;var be=B(U.opening.name),ve=B(U.closing.name);if(be!==ve&&this.tolerateError("Expected corresponding JSX closing tag for %0",be),Z.length>0){var we=this.finalize(U.node,new k.JSXElement(U.opening,U.children,U.closing));U=Z.pop(),U.children.push(we)}else break}}return U},H.prototype.parseJSXElement=function(){var U=this.createJSXNode(),Z=this.parseJSXOpeningElement(),K=[],fe=null;if(!Z.selfClosing){var oe=this.parseComplexJSXElement({node:U,opening:Z,closing:fe,children:K});K=oe.children,fe=oe.closing}return this.finalize(U,new k.JSXElement(Z,K,fe))},H.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var U=this.parseJSXElement();return this.finishJSX(),U},H}(y.Parser);t.JSXParser=M},function(a,t){t.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",frasl:"\u2044",euro:"\u20AC",image:"\u2111",weierp:"\u2118",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",lang:"\u27E8",rang:"\u27E9"}},function(a,t){t.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(a,t,r){var n=r(13),c=function(){function H(U){this.type=n.JSXSyntax.JSXClosingElement,this.name=U}return H}();t.JSXClosingElement=c;var p=function(){function H(U,Z,K){this.type=n.JSXSyntax.JSXElement,this.openingElement=U,this.children=Z,this.closingElement=K}return H}();t.JSXElement=p;var y=function(){function H(){this.type=n.JSXSyntax.JSXEmptyExpression}return H}();t.JSXEmptyExpression=y;var v=function(){function H(U){this.type=n.JSXSyntax.JSXExpressionContainer,this.expression=U}return H}();t.JSXExpressionContainer=v;var E=function(){function H(U){this.type=n.JSXSyntax.JSXIdentifier,this.name=U}return H}();t.JSXIdentifier=E;var _=function(){function H(U,Z){this.type=n.JSXSyntax.JSXMemberExpression,this.object=U,this.property=Z}return H}();t.JSXMemberExpression=_;var k=function(){function H(U,Z){this.type=n.JSXSyntax.JSXAttribute,this.name=U,this.value=Z}return H}();t.JSXAttribute=k;var R=function(){function H(U,Z){this.type=n.JSXSyntax.JSXNamespacedName,this.namespace=U,this.name=Z}return H}();t.JSXNamespacedName=R;var B=function(){function H(U,Z,K){this.type=n.JSXSyntax.JSXOpeningElement,this.name=U,this.selfClosing=Z,this.attributes=K}return H}();t.JSXOpeningElement=B;var M=function(){function H(U){this.type=n.JSXSyntax.JSXSpreadAttribute,this.argument=U}return H}();t.JSXSpreadAttribute=M;var F=function(){function H(U,Z){this.type=n.JSXSyntax.JSXText,this.value=U,this.raw=Z}return H}();t.JSXText=F},function(a,t,r){var n=r(8),c=r(6),p=r(7),y=function(){function E(){this.values=[],this.curly=this.paren=-1}return E.prototype.beforeFunctionExpression=function(_){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(_)>=0},E.prototype.isRegexStart=function(){var _=this.values[this.values.length-1],k=_!==null;switch(_){case"this":case"]":k=!1;break;case")":var R=this.values[this.paren-1];k=R==="if"||R==="while"||R==="for"||R==="with";break;case"}":if(k=!1,this.values[this.curly-3]==="function"){var B=this.values[this.curly-4];k=B?!this.beforeFunctionExpression(B):!1}else if(this.values[this.curly-4]==="function"){var M=this.values[this.curly-5];k=M?!this.beforeFunctionExpression(M):!0}}return k},E.prototype.push=function(_){_.type===p.Token.Punctuator||_.type===p.Token.Keyword?(_.value==="{"?this.curly=this.values.length:_.value==="("&&(this.paren=this.values.length),this.values.push(_.value)):this.values.push(null)},E}(),v=function(){function E(_,k){this.errorHandler=new c.ErrorHandler,this.errorHandler.tolerant=k?typeof k.tolerant=="boolean"&&k.tolerant:!1,this.scanner=new n.Scanner(_,this.errorHandler),this.scanner.trackComment=k?typeof k.comment=="boolean"&&k.comment:!1,this.trackRange=k?typeof k.range=="boolean"&&k.range:!1,this.trackLoc=k?typeof k.loc=="boolean"&&k.loc:!1,this.buffer=[],this.reader=new y}return E.prototype.errors=function(){return this.errorHandler.errors},E.prototype.getNextToken=function(){if(this.buffer.length===0){var _=this.scanner.scanComments();if(this.scanner.trackComment)for(var k=0;k<_.length;++k){var R=_[k],B=void 0,M=this.scanner.source.slice(R.slice[0],R.slice[1]);B={type:R.multiLine?"BlockComment":"LineComment",value:M},this.trackRange&&(B.range=R.range),this.trackLoc&&(B.loc=R.loc),this.buffer.push(B)}if(!this.scanner.eof()){var F=void 0;this.trackLoc&&(F={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var H=void 0;this.scanner.source[this.scanner.index]==="/"?H=this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.scanPunctuator():H=this.scanner.lex(),this.reader.push(H);var U=void 0;U={type:p.TokenName[H.type],value:this.scanner.source.slice(H.start,H.end)},this.trackRange&&(U.range=[H.start,H.end]),this.trackLoc&&(F.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},U.loc=F),H.regex&&(U.regex=H.regex),this.buffer.push(U)}}return this.buffer.shift()},E}();t.Tokenizer=v}])});var nx=function(){var a={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(n,c,p,y,v,E,_){var k=E.length-1;switch(v){case 1:this.$=n.replace(/\\(\\|")/g,"$1").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(n);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=E[k-1];case 13:this.$={};break;case 14:this.$=E[k-1];break;case 15:this.$=[E[k-2],E[k]];break;case 16:this.$={},this.$[E[k][0]]=E[k][1];break;case 17:this.$=E[k-2],E[k-2][E[k][0]]=E[k][1];break;case 18:this.$=[];break;case 19:this.$=E[k-1];break;case 20:this.$=[E[k]];break;case 21:this.$=E[k-2],E[k-2].push(E[k]);break}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(n,c){throw new Error(n)},parse:function(n){var c=this,p=[0],y=[null],v=[],E=this.table,_="",k=0,R=0,B=0,M=2,F=1;this.lexer.setInput(n),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,typeof this.lexer.yylloc=="undefined"&&(this.lexer.yylloc={});var H=this.lexer.yylloc;v.push(H),typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function U(le){p.length=p.length-2*le,y.length=y.length-le,v.length=v.length-le}function Z(){var le;return le=c.lexer.lex()||1,typeof le!="number"&&(le=c.symbols_[le]||le),le}for(var K,fe,oe,we,be,ve={},ne,ae,ye,de;;){if(oe=p[p.length-1],this.defaultActions[oe]?we=this.defaultActions[oe]:(K==null&&(K=Z()),we=E[oe]&&E[oe][K]),typeof we=="undefined"||!we.length||!we[0]){if(!B){de=[];for(ne in E[oe])this.terminals_[ne]&&ne>2&&de.push("'"+this.terminals_[ne]+"'");var xe="";this.lexer.showPosition?xe="Parse error on line "+(k+1)+`:
`+this.lexer.showPosition()+`
Expecting `+de.join(", ")+", got '"+this.terminals_[K]+"'":xe="Parse error on line "+(k+1)+": Unexpected "+(K==1?"end of input":"'"+(this.terminals_[K]||K)+"'"),this.parseError(xe,{text:this.lexer.match,token:this.terminals_[K]||K,line:this.lexer.yylineno,loc:H,expected:de})}if(B==3){if(K==F)throw new Error(xe||"Parsing halted.");R=this.lexer.yyleng,_=this.lexer.yytext,k=this.lexer.yylineno,H=this.lexer.yylloc,K=Z()}for(;!(M.toString()in E[oe]);){if(oe==0)throw new Error(xe||"Parsing halted.");U(1),oe=p[p.length-1]}fe=K,K=M,oe=p[p.length-1],we=E[oe]&&E[oe][M],B=3}if(we[0]instanceof Array&&we.length>1)throw new Error("Parse Error: multiple actions possible at state: "+oe+", token: "+K);switch(we[0]){case 1:p.push(K),y.push(this.lexer.yytext),v.push(this.lexer.yylloc),p.push(we[1]),K=null,fe?(K=fe,fe=null):(R=this.lexer.yyleng,_=this.lexer.yytext,k=this.lexer.yylineno,H=this.lexer.yylloc,B>0&&B--);break;case 2:if(ae=this.productions_[we[1]][1],ve.$=y[y.length-ae],ve._$={first_line:v[v.length-(ae||1)].first_line,last_line:v[v.length-1].last_line,first_column:v[v.length-(ae||1)].first_column,last_column:v[v.length-1].last_column},be=this.performAction.call(ve,_,R,k,this.yy,we[1],y,v),typeof be!="undefined")return be;ae&&(p=p.slice(0,-1*ae*2),y=y.slice(0,-1*ae),v=v.slice(0,-1*ae)),p.push(this.productions_[we[1]][0]),y.push(ve.$),v.push(ve._$),ye=E[p[p.length-2]][p[p.length-1]],p.push(ye);break;case 3:return!0}}}},t=function(){var r={EOF:1,parseError:function(c,p){if(this.yy.parseError)this.yy.parseError(c,p);else throw new Error(c)},setInput:function(n){return this._input=n,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var n=this._input[0];this.yytext+=n,this.yyleng++,this.match+=n,this.matched+=n;var c=n.match(/\n/);return c&&this.yylineno++,this._input=this._input.slice(1),n},unput:function(n){return this._input=n+this._input,this},more:function(){return this._more=!0,this},less:function(n){this._input=this.match.slice(n)+this._input},pastInput:function(){var n=this.matched.substr(0,this.matched.length-this.match.length);return(n.length>20?"...":"")+n.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var n=this.match;return n.length<20&&(n+=this._input.substr(0,20-n.length)),(n.substr(0,20)+(n.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var n=this.pastInput(),c=new Array(n.length+1).join("-");return n+this.upcomingInput()+`
`+c+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var n,c,p,y,v;this._more||(this.yytext="",this.match="");for(var E=this._currentRules(),_=0;_<E.length&&(p=this._input.match(this.rules[E[_]]),!(p&&(!c||p[0].length>c[0].length)&&(c=p,y=_,!this.options.flex)));_++);if(c)return v=c[0].match(/\n.*/g),v&&(this.yylineno+=v.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:v?v[v.length-1].length-1:this.yylloc.last_column+c[0].length},this.yytext+=c[0],this.match+=c[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(c[0].length),this.matched+=c[0],n=this.performAction.call(this,this.yy,this,E[y],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n||void 0;if(this._input==="")return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var c=this.next();return typeof c!="undefined"?c:this.lex()},begin:function(c){this.conditionStack.push(c)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(c){this.begin(c)}};return r.options={},r.performAction=function(c,p,y){switch(y){case 0:break;case 1:return 6;case 2:return p.yytext=p.yytext.substr(1,p.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},r.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],r.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}},r}();return a.lexer=t,a}();typeof require!="undefined"&&typeof exports!="undefined"&&(exports.parser=nx,exports.parse=function(){return nx.parse.apply(nx,arguments)},exports.main=function(t){if(!t[1])throw new Error("Usage: "+t[0]+" FILE");if(typeof process!="undefined")var r=require("fs").readFileSync(require("path").join(process.cwd(),t[1]),"utf8");else var n=require("file").path(require("file").cwd()),r=n.join(t[1]).read({charset:"utf-8"});return exports.parser.parse(r)},typeof module!="undefined"&&require.main===module&&exports.main(typeof process!="undefined"?process.argv.slice(1):require("system").args));(function(a){typeof exports=="object"&&typeof module=="object"?a(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){function t(n,c,p){var y=n.getWrapperElement(),v;return v=y.appendChild(document.createElement("div")),p?v.className="CodeMirror-dialog CodeMirror-dialog-bottom":v.className="CodeMirror-dialog CodeMirror-dialog-top",typeof c=="string"?v.innerHTML=c:v.appendChild(c),a.addClass(y,"dialog-opened"),v}function r(n,c){n.state.currentNotificationClose&&n.state.currentNotificationClose(),n.state.currentNotificationClose=c}a.defineExtension("openDialog",function(n,c,p){p||(p={}),r(this,null);var y=t(this,n,p.bottom),v=!1,E=this;function _(B){if(typeof B=="string")k.value=B;else{if(v)return;v=!0,a.rmClass(y.parentNode,"dialog-opened"),y.parentNode.removeChild(y),E.focus(),p.onClose&&p.onClose(y)}}var k=y.getElementsByTagName("input")[0],R;return k?(k.focus(),p.value&&(k.value=p.value,p.selectValueOnOpen!==!1&&k.select()),p.onInput&&a.on(k,"input",function(B){p.onInput(B,k.value,_)}),p.onKeyUp&&a.on(k,"keyup",function(B){p.onKeyUp(B,k.value,_)}),a.on(k,"keydown",function(B){p&&p.onKeyDown&&p.onKeyDown(B,k.value,_)||((B.keyCode==27||p.closeOnEnter!==!1&&B.keyCode==13)&&(k.blur(),a.e_stop(B),_()),B.keyCode==13&&c(k.value,B))}),p.closeOnBlur!==!1&&a.on(y,"focusout",function(B){B.relatedTarget!==null&&_()})):(R=y.getElementsByTagName("button")[0])&&(a.on(R,"click",function(){_(),E.focus()}),p.closeOnBlur!==!1&&a.on(R,"blur",_),R.focus()),_}),a.defineExtension("openConfirm",function(n,c,p){r(this,null);var y=t(this,n,p&&p.bottom),v=y.getElementsByTagName("button"),E=!1,_=this,k=1;function R(){E||(E=!0,a.rmClass(y.parentNode,"dialog-opened"),y.parentNode.removeChild(y),_.focus())}v[0].focus();for(var B=0;B<v.length;++B){var M=v[B];(function(F){a.on(M,"click",function(H){a.e_preventDefault(H),R(),F&&F(_)})})(c[B]),a.on(M,"blur",function(){--k,setTimeout(function(){k<=0&&R()},200)}),a.on(M,"focus",function(){++k})}}),a.defineExtension("openNotification",function(n,c){r(this,_);var p=t(this,n,c&&c.bottom),y=!1,v,E=c&&typeof c.duration!="undefined"?c.duration:5e3;function _(){y||(y=!0,clearTimeout(v),a.rmClass(p.parentNode,"dialog-opened"),p.parentNode.removeChild(p))}return a.on(p,"click",function(k){a.e_preventDefault(k),_()}),E&&(v=setTimeout(_,E)),_})});(function(a){typeof exports=="object"&&typeof module=="object"?a(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){var t="CodeMirror-hint",r="CodeMirror-hint-active";a.showHint=function(H,U,Z){if(!U)return H.showHint(Z);Z&&Z.async&&(U.async=!0);var K={hint:U};if(Z)for(var fe in Z)K[fe]=Z[fe];return H.showHint(K)},a.defineExtension("showHint",function(H){H=y(this,this.getCursor("start"),H);var U=this.listSelections();if(!(U.length>1)){if(this.somethingSelected()){if(!H.hint.supportsSelection)return;for(var Z=0;Z<U.length;Z++)if(U[Z].head.line!=U[Z].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var K=this.state.completionActive=new n(this,H);!K.options.hint||(a.signal(this,"startCompletion",this),K.update(!0))}}),a.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});function n(H,U){if(this.cm=H,this.options=U,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var Z=this;H.on("cursorActivity",this.activityFunc=function(){Z.cursorActivity()})}}var c=window.requestAnimationFrame||function(H){return setTimeout(H,1e3/60)},p=window.cancelAnimationFrame||clearTimeout;n.prototype={close:function(){!this.active()||(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&a.signal(this.data,"close"),this.widget&&this.widget.close(),a.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(H,U){var Z=H.list[U],K=this;this.cm.operation(function(){Z.hint?Z.hint(K.cm,H,Z):K.cm.replaceRange(v(Z),Z.from||H.from,Z.to||H.to,"complete"),a.signal(H,"pick",Z),K.cm.scrollIntoView()}),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(p(this.debounce),this.debounce=0);var H=this.startPos;this.data&&(H=this.data.from);var U=this.cm.getCursor(),Z=this.cm.getLine(U.line);if(U.line!=this.startPos.line||Z.length-U.ch!=this.startLen-this.startPos.ch||U.ch<H.ch||this.cm.somethingSelected()||!U.ch||this.options.closeCharacters.test(Z.charAt(U.ch-1)))this.close();else{var K=this;this.debounce=c(function(){K.update()}),this.widget&&this.widget.disable()}},update:function(H){if(this.tick!=null){var U=this,Z=++this.tick;B(this.options.hint,this.cm,this.options,function(K){U.tick==Z&&U.finishUpdate(K,H)})}},finishUpdate:function(H,U){this.data&&a.signal(this.data,"update");var Z=this.widget&&this.widget.picked||U&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=H,H&&H.list.length&&(Z&&H.list.length==1?this.pick(H,0):(this.widget=new k(this,H),a.signal(H,"shown")))}};function y(H,U,Z){var K=H.options.hintOptions,fe={};for(var oe in F)fe[oe]=F[oe];if(K)for(var oe in K)K[oe]!==void 0&&(fe[oe]=K[oe]);if(Z)for(var oe in Z)Z[oe]!==void 0&&(fe[oe]=Z[oe]);return fe.hint.resolve&&(fe.hint=fe.hint.resolve(H,U)),fe}function v(H){return typeof H=="string"?H:H.text}function E(H,U){var Z={Up:function(){U.moveFocus(-1)},Down:function(){U.moveFocus(1)},PageUp:function(){U.moveFocus(-U.menuSize()+1,!0)},PageDown:function(){U.moveFocus(U.menuSize()-1,!0)},Home:function(){U.setFocus(0)},End:function(){U.setFocus(U.length-1)},Enter:U.pick,Tab:U.pick,Esc:U.close},K=/Mac/.test(navigator.platform);K&&(Z["Ctrl-P"]=function(){U.moveFocus(-1)},Z["Ctrl-N"]=function(){U.moveFocus(1)});var fe=H.options.customKeys,oe=fe?{}:Z;function we(ne,ae){var ye;typeof ae!="string"?ye=function(de){return ae(de,U)}:Z.hasOwnProperty(ae)?ye=Z[ae]:ye=ae,oe[ne]=ye}if(fe)for(var be in fe)fe.hasOwnProperty(be)&&we(be,fe[be]);var ve=H.options.extraKeys;if(ve)for(var be in ve)ve.hasOwnProperty(be)&&we(be,ve[be]);return oe}function _(H,U){for(;U&&U!=H;){if(U.nodeName.toUpperCase()==="LI"&&U.parentNode==H)return U;U=U.parentNode}}function k(H,U){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=H,this.data=U,this.picked=!1;var Z=this,K=H.cm,fe=K.getInputField().ownerDocument,oe=fe.defaultView||fe.parentWindow,we=this.hints=fe.createElement("ul");we.setAttribute("role","listbox"),we.setAttribute("aria-expanded","true"),we.id=this.id;var be=H.cm.options.theme;we.className="CodeMirror-hints "+be,this.selectedHint=U.selectedHint||0;for(var ve=U.list,ne=0;ne<ve.length;++ne){var ae=we.appendChild(fe.createElement("li")),ye=ve[ne],de=t+(ne!=this.selectedHint?"":" "+r);ye.className!=null&&(de=ye.className+" "+de),ae.className=de,ne==this.selectedHint&&ae.setAttribute("aria-selected","true"),ae.id=this.id+"-"+ne,ae.setAttribute("role","option"),ye.render?ye.render(ae,U,ye):ae.appendChild(fe.createTextNode(ye.displayText||v(ye))),ae.hintId=ne}var xe=H.options.container||fe.body,le=K.cursorCoords(H.options.alignWithWord?U.from:null),re=le.left,he=le.bottom,me=!0,Re=0,Ie=0;if(xe!==fe.body){var Ne=["absolute","relative","fixed"].indexOf(oe.getComputedStyle(xe).position)!==-1,Qe=Ne?xe:xe.offsetParent,Ue=Qe.getBoundingClientRect(),ce=fe.body.getBoundingClientRect();Re=Ue.left-ce.left-Qe.scrollLeft,Ie=Ue.top-ce.top-Qe.scrollTop}we.style.left=re-Re+"px",we.style.top=he-Ie+"px";var Me=oe.innerWidth||Math.max(fe.body.offsetWidth,fe.documentElement.offsetWidth),ot=oe.innerHeight||Math.max(fe.body.offsetHeight,fe.documentElement.offsetHeight);xe.appendChild(we),K.getInputField().setAttribute("aria-autocomplete","list"),K.getInputField().setAttribute("aria-owns",this.id),K.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var Se=H.options.moveOnOverlap?we.getBoundingClientRect():new DOMRect,Xe=H.options.paddingForScrollbar?we.scrollHeight>we.clientHeight+1:!1,ct;setTimeout(function(){ct=K.getScrollInfo()});var $e=Se.bottom-ot;if($e>0){var Et=Se.bottom-Se.top,Dt=le.top-(le.bottom-Se.top);if(Dt-Et>0)we.style.top=(he=le.top-Et-Ie)+"px",me=!1;else if(Et>ot){we.style.height=ot-5+"px",we.style.top=(he=le.bottom-Se.top-Ie)+"px";var er=K.getCursor();U.from.ch!=er.ch&&(le=K.cursorCoords(er),we.style.left=(re=le.left-Re)+"px",Se=we.getBoundingClientRect())}}var Gt=Se.right-Me;if(Xe&&(Gt+=K.display.nativeBarWidth),Gt>0&&(Se.right-Se.left>Me&&(we.style.width=Me-5+"px",Gt-=Se.right-Se.left-Me),we.style.left=(re=le.left-Gt-Re)+"px"),Xe)for(var Ht=we.firstChild;Ht;Ht=Ht.nextSibling)Ht.style.paddingRight=K.display.nativeBarWidth+"px";if(K.addKeyMap(this.keyMap=E(H,{moveFocus:function(Ur,Yr){Z.changeActive(Z.selectedHint+Ur,Yr)},setFocus:function(Ur){Z.changeActive(Ur)},menuSize:function(){return Z.screenAmount()},length:ve.length,close:function(){H.close()},pick:function(){Z.pick()},data:U})),H.options.closeOnUnfocus){var Kt;K.on("blur",this.onBlur=function(){Kt=setTimeout(function(){H.close()},100)}),K.on("focus",this.onFocus=function(){clearTimeout(Kt)})}K.on("scroll",this.onScroll=function(){var Ur=K.getScrollInfo(),Yr=K.getWrapperElement().getBoundingClientRect();ct||(ct=K.getScrollInfo());var oi=he+ct.top-Ur.top,xt=oi-(oe.pageYOffset||(fe.documentElement||fe.body).scrollTop);if(me||(xt+=we.offsetHeight),xt<=Yr.top||xt>=Yr.bottom)return H.close();we.style.top=oi+"px",we.style.left=re+ct.left-Ur.left+"px"}),a.on(we,"dblclick",function(Ur){var Yr=_(we,Ur.target||Ur.srcElement);Yr&&Yr.hintId!=null&&(Z.changeActive(Yr.hintId),Z.pick())}),a.on(we,"click",function(Ur){var Yr=_(we,Ur.target||Ur.srcElement);Yr&&Yr.hintId!=null&&(Z.changeActive(Yr.hintId),H.options.completeOnSingleClick&&Z.pick())}),a.on(we,"mousedown",function(){setTimeout(function(){K.focus()},20)});var yr=this.getSelectedHintRange();return(yr.from!==0||yr.to!==0)&&this.scrollToActive(),a.signal(U,"select",ve[this.selectedHint],we.childNodes[this.selectedHint]),!0}k.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var H=this.completion.cm.getInputField();H.removeAttribute("aria-activedescendant"),H.removeAttribute("aria-owns");var U=this.completion.cm;this.completion.options.closeOnUnfocus&&(U.off("blur",this.onBlur),U.off("focus",this.onFocus)),U.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var H=this;this.keyMap={Enter:function(){H.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(H,U){if(H>=this.data.list.length?H=U?this.data.list.length-1:0:H<0&&(H=U?0:this.data.list.length-1),this.selectedHint!=H){var Z=this.hints.childNodes[this.selectedHint];Z&&(Z.className=Z.className.replace(" "+r,""),Z.removeAttribute("aria-selected")),Z=this.hints.childNodes[this.selectedHint=H],Z.className+=" "+r,Z.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",Z.id),this.scrollToActive(),a.signal(this.data,"select",this.data.list[this.selectedHint],Z)}},scrollToActive:function(){var H=this.getSelectedHintRange(),U=this.hints.childNodes[H.from],Z=this.hints.childNodes[H.to],K=this.hints.firstChild;U.offsetTop<this.hints.scrollTop?this.hints.scrollTop=U.offsetTop-K.offsetTop:Z.offsetTop+Z.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=Z.offsetTop+Z.offsetHeight-this.hints.clientHeight+K.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var H=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-H),to:Math.min(this.data.list.length-1,this.selectedHint+H)}}};function R(H,U){if(!H.somethingSelected())return U;for(var Z=[],K=0;K<U.length;K++)U[K].supportsSelection&&Z.push(U[K]);return Z}function B(H,U,Z,K){if(H.async)H(U,K,Z);else{var fe=H(U,Z);fe&&fe.then?fe.then(K):K(fe)}}function M(H,U){var Z=H.getHelpers(U,"hint"),K;if(Z.length){var fe=function(oe,we,be){var ve=R(oe,Z);function ne(ae){if(ae==ve.length)return we(null);B(ve[ae],oe,be,function(ye){ye&&ye.list.length>0?we(ye):ne(ae+1)})}ne(0)};return fe.async=!0,fe.supportsSelection=!0,fe}else return(K=H.getHelper(H.getCursor(),"hintWords"))?function(oe){return a.hint.fromList(oe,{words:K})}:a.hint.anyword?function(oe,we){return a.hint.anyword(oe,we)}:function(){}}a.registerHelper("hint","auto",{resolve:M}),a.registerHelper("hint","fromList",function(H,U){var Z=H.getCursor(),K=H.getTokenAt(Z),fe,oe=a.Pos(Z.line,K.start),we=Z;K.start<Z.ch&&/\w/.test(K.string.charAt(Z.ch-K.start-1))?fe=K.string.substr(0,Z.ch-K.start):(fe="",oe=Z);for(var be=[],ve=0;ve<U.words.length;ve++){var ne=U.words[ve];ne.slice(0,fe.length)==fe&&be.push(ne)}if(be.length)return{list:be,from:oe,to:we}}),a.commands.autocomplete=a.showHint;var F={hint:a.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};a.defineOption("hintOptions",null)});(function(a){typeof exports=="object"&&typeof module=="object"?a(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)})(function(a){a.TernServer=function(ce){var Me=this;this.options=ce||{};var ot=this.options.plugins||(this.options.plugins={});ot.doc_comment||(ot.doc_comment=!0),this.docs=Object.create(null),this.options.useWorker?this.server=new Ue(this):this.server=new tern.Server({getFile:function(Se,Xe){return c(Me,Se,Xe)},async:!0,defs:this.options.defs||[],plugins:ot}),this.trackChange=function(Se,Xe){v(Me,Se,Xe)},this.cachedArgHints=null,this.activeArgHints=null,this.jumpStack=[],this.getHint=function(Se,Xe){return _(Me,Se,Xe)},this.getHint.async=!0},a.TernServer.prototype={addDoc:function(ce,Me){var ot={doc:Me,name:ce,changed:null};return this.server.addFile(ce,Qe(this,ot)),a.on(Me,"change",this.trackChange),this.docs[ce]=ot},delDoc:function(ce){var Me=y(this,ce);!Me||(a.off(Me.doc,"change",this.trackChange),delete this.docs[Me.name],this.server.delFile(Me.name))},hideDoc:function(ce){Ne(this);var Me=y(this,ce);Me&&Me.changed&&E(this,Me)},complete:function(ce){ce.showHint({hint:this.getHint})},showType:function(ce,Me,ot){R(this,ce,Me,"type",ot)},showDocs:function(ce,Me,ot){R(this,ce,Me,"documentation",ot)},updateArgHints:function(ce){B(this,ce)},jumpToDef:function(ce){H(this,ce)},jumpBack:function(ce){U(this,ce)},rename:function(ce){oe(this,ce)},selectName:function(ce){we(this,ce)},request:function(ce,Me,ot,Se){var Xe=this,ct=p(this,ce.getDoc()),$e=ne(this,ct,Me,Se),Et=$e.query&&this.options.queryOptions&&this.options.queryOptions[$e.query.type];if(Et)for(var Dt in Et)$e.query[Dt]=Et[Dt];this.server.request($e,function(er,Gt){!er&&Xe.options.responseFilter&&(Gt=Xe.options.responseFilter(ct,Me,$e,er,Gt)),ot(er,Gt)})},destroy:function(){Ne(this),this.worker&&(this.worker.terminate(),this.worker=null)}};var t=a.Pos,r="CodeMirror-Tern-",n=250;function c(ce,Me,ot){var Se=ce.docs[Me];Se?ot(Qe(ce,Se)):ce.options.getFile?ce.options.getFile(Me,ot):ot(null)}function p(ce,Me,ot){for(var Se in ce.docs){var Xe=ce.docs[Se];if(Xe.doc==Me)return Xe}if(!ot){for(var ct=0;;++ct)if(Se="[doc"+(ct||"")+"]",!ce.docs[Se]){ot=Se;break}}return ce.addDoc(ot,Me)}function y(ce,Me){if(typeof Me=="string")return ce.docs[Me];if(Me instanceof a&&(Me=Me.getDoc()),Me instanceof a.Doc)return p(ce,Me)}function v(ce,Me,ot){var Se=p(ce,Me),Xe=ce.cachedArgHints;Xe&&Xe.doc==Me&&ye(Xe.start,ot.to)>=0&&(ce.cachedArgHints=null);var ct=Se.changed;ct==null&&(Se.changed=ct={from:ot.from.line,to:ot.from.line});var $e=ot.from.line+(ot.text.length-1);ot.from.line<ct.to&&(ct.to=ct.to-(ot.to.line-$e)),$e>=ct.to&&(ct.to=$e+1),ct.from>ot.from.line&&(ct.from=ot.from.line),Me.lineCount()>n&&ot.to-ct.from>100&&setTimeout(function(){Se.changed&&Se.changed.to-Se.changed.from>100&&E(ce,Se)},200)}function E(ce,Me){ce.server.request({files:[{type:"full",name:Me.name,text:Qe(ce,Me)}]},function(ot){ot?window.console.error(ot):Me.changed=null})}function _(ce,Me,ot){ce.request(Me,{type:"completions",types:!0,docs:!0,urls:!0},function(Se,Xe){if(Se)return Ie(ce,Me,Se);var ct=[],$e="",Et=Xe.start,Dt=Xe.end;Me.getRange(t(Et.line,Et.ch-2),Et)=='["'&&Me.getRange(Dt,t(Dt.line,Dt.ch+2))!='"]'&&($e='"]');for(var er=0;er<Xe.completions.length;++er){var Gt=Xe.completions[er],Ht=k(Gt.type);Xe.guess&&(Ht+=" "+r+"guess"),ct.push({text:Gt.name+$e,displayText:Gt.displayName||Gt.name,className:Ht,data:Gt})}var Kt={from:Et,to:Dt,list:ct},yr=null;a.on(Kt,"close",function(){me(yr)}),a.on(Kt,"update",function(){me(yr)}),a.on(Kt,"select",function(Ur,Yr){me(yr);var oi=ce.options.completionTip?ce.options.completionTip(Ur.data):Ur.data.doc;oi&&(yr=he(Yr.parentNode.getBoundingClientRect().right+window.pageXOffset,Yr.getBoundingClientRect().top+window.pageYOffset,oi,Me,r+"hint-doc"))}),ot(Kt)})}function k(ce){var Me;return ce=="?"?Me="unknown":ce=="number"||ce=="string"||ce=="bool"?Me=ce:/^fn\(/.test(ce)?Me="fn":/^\[/.test(ce)?Me="array":Me="object",r+"completion "+r+"completion-"+Me}function R(ce,Me,ot,Se,Xe){ce.request(Me,Se,function(ct,$e){if(ct)return Ie(ce,Me,ct);if(ce.options.typeTip)var Et=ce.options.typeTip($e);else{var Et=de("span",null,de("strong",null,$e.type||"not found"));if($e.doc&&Et.appendChild(document.createTextNode(" \u2014 "+$e.doc)),$e.url){Et.appendChild(document.createTextNode(" "));var Dt=Et.appendChild(de("a",null,"[docs]"));Dt.href=$e.url,Dt.target="_blank"}}le(Me,Et,ce),Xe&&Xe()},ot)}function B(ce,Me){if(Ne(ce),!Me.somethingSelected()){var ot=Me.getTokenAt(Me.getCursor()).state,Se=a.innerMode(Me.getMode(),ot);if(Se.mode.name=="javascript"){var Xe=Se.state.lexical;if(Xe.info=="call"){for(var ct,$e=Xe.pos||0,Et=Me.getOption("tabSize"),Dt=Me.getCursor().line,er=Math.max(0,Dt-9),Gt=!1;Dt>=er;--Dt){for(var Ht=Me.getLine(Dt),Kt=0,yr=0;;){var Ur=Ht.indexOf("	",yr);if(Ur==-1)break;Kt+=Et-(Ur+Kt)%Et-1,yr=Ur+1}if(ct=Xe.column-Kt,Ht.charAt(ct)=="("){Gt=!0;break}}if(!!Gt){var Yr=t(Dt,ct),oi=ce.cachedArgHints;if(oi&&oi.doc==Me.getDoc()&&ye(Yr,oi.start)==0)return M(ce,Me,$e);ce.request(Me,{type:"type",preferFunction:!0,end:Yr},function(xt,kt){xt||!kt.type||!/^fn\(/.test(kt.type)||(ce.cachedArgHints={start:Yr,type:F(kt.type),name:kt.exprName||kt.name||"fn",guess:kt.guess,doc:Me.getDoc()},M(ce,Me,$e))})}}}}}function M(ce,Me,ot){Ne(ce);for(var Se=ce.cachedArgHints,Xe=Se.type,ct=de("span",Se.guess?r+"fhint-guess":null,de("span",r+"fname",Se.name),"("),$e=0;$e<Xe.args.length;++$e){$e&&ct.appendChild(document.createTextNode(", "));var Et=Xe.args[$e];ct.appendChild(de("span",r+"farg"+($e==ot?" "+r+"farg-current":""),Et.name||"?")),Et.type!="?"&&(ct.appendChild(document.createTextNode(":\xA0")),ct.appendChild(de("span",r+"type",Et.type)))}ct.appendChild(document.createTextNode(Xe.rettype?") ->\xA0":")")),Xe.rettype&&ct.appendChild(de("span",r+"type",Xe.rettype));var Dt=Me.cursorCoords(null,"page"),er=ce.activeArgHints=he(Dt.right+1,Dt.bottom,ct,Me);setTimeout(function(){er.clear=re(Me,function(){ce.activeArgHints==er&&Ne(ce)})},20)}function F(ce){var Me=[],ot=3;function Se($e){for(var Et=0,Dt=ot;;){var er=ce.charAt(ot);if($e.test(er)&&!Et)return ce.slice(Dt,ot);/[{\[\(]/.test(er)?++Et:/[}\]\)]/.test(er)&&--Et,++ot}}if(ce.charAt(ot)!=")")for(;;){var Xe=ce.slice(ot).match(/^([^, \(\[\{]+): /);if(Xe&&(ot+=Xe[0].length,Xe=Xe[1]),Me.push({name:Xe,type:Se(/[\),]/)}),ce.charAt(ot)==")")break;ot+=2}var ct=ce.slice(ot).match(/^\) -> (.*)$/);return{args:Me,rettype:ct&&ct[1]}}function H(ce,Me){function ot(Se){var Xe={type:"definition",variable:Se||null},ct=p(ce,Me.getDoc());ce.server.request(ne(ce,ct,Xe),function($e,Et){if($e)return Ie(ce,Me,$e);if(!Et.file&&Et.url){window.open(Et.url);return}if(Et.file){var Dt=ce.docs[Et.file],er;if(Dt&&(er=K(Dt.doc,Et))){ce.jumpStack.push({file:ct.name,start:Me.getCursor("from"),end:Me.getCursor("to")}),Z(ce,ct,Dt,er.start,er.end);return}}Ie(ce,Me,"Could not find a definition.")})}fe(Me)?ot():xe(Me,"Jump to variable",function(Se){Se&&ot(Se)})}function U(ce,Me){var ot=ce.jumpStack.pop(),Se=ot&&ce.docs[ot.file];!Se||Z(ce,p(ce,Me.getDoc()),Se,ot.start,ot.end)}function Z(ce,Me,ot,Se,Xe){ot.doc.setSelection(Se,Xe),Me!=ot&&ce.options.switchToDoc&&(Ne(ce),ce.options.switchToDoc(ot.name,ot.doc))}function K(ce,Me){for(var ot=Me.context.slice(0,Me.contextOffset).split(`
`),Se=Me.start.line-(ot.length-1),Xe=t(Se,(ot.length==1?Me.start.ch:ce.getLine(Se).length)-ot[0].length),ct=ce.getLine(Se).slice(Xe.ch),$e=Se+1;$e<ce.lineCount()&&ct.length<Me.context.length;++$e)ct+=`
`+ce.getLine($e);if(ct.slice(0,Me.context.length)==Me.context)return Me;for(var Et=ce.getSearchCursor(Me.context,0,!1),Dt,er=1/0;Et.findNext();){var Gt=Et.from(),Ht=Math.abs(Gt.line-Xe.line)*1e4;Ht||(Ht=Math.abs(Gt.ch-Xe.ch)),Ht<er&&(Dt=Gt,er=Ht)}if(!Dt)return null;if(ot.length==1?Dt.ch+=ot[0].length:Dt=t(Dt.line+(ot.length-1),ot[ot.length-1].length),Me.start.line==Me.end.line)var Kt=t(Dt.line,Dt.ch+(Me.end.ch-Me.start.ch));else var Kt=t(Dt.line+(Me.end.line-Me.start.line),Me.end.ch);return{start:Dt,end:Kt}}function fe(ce){var Me=ce.getCursor("end"),ot=ce.getTokenAt(Me);return ot.start<Me.ch&&ot.type=="comment"?!1:/[\w)\]]/.test(ce.getLine(Me.line).slice(Math.max(Me.ch-1,0),Me.ch+1))}function oe(ce,Me){var ot=Me.getTokenAt(Me.getCursor());if(!/\w/.test(ot.string))return Ie(ce,Me,"Not at a variable");xe(Me,"New name for "+ot.string,function(Se){ce.request(Me,{type:"rename",newName:Se,fullDocs:!0},function(Xe,ct){if(Xe)return Ie(ce,Me,Xe);ve(ce,ct.changes)})})}function we(ce,Me){var ot=p(ce,Me.doc).name;ce.request(Me,{type:"refs"},function(Se,Xe){if(Se)return Ie(ce,Me,Se);for(var ct=[],$e=0,Et=Me.getCursor(),Dt=0;Dt<Xe.refs.length;Dt++){var er=Xe.refs[Dt];er.file==ot&&(ct.push({anchor:er.start,head:er.end}),ye(Et,er.start)>=0&&ye(Et,er.end)<=0&&($e=ct.length-1))}Me.setSelections(ct,$e)})}var be=0;function ve(ce,Me){for(var ot=Object.create(null),Se=0;Se<Me.length;++Se){var Xe=Me[Se];(ot[Xe.file]||(ot[Xe.file]=[])).push(Xe)}for(var ct in ot){var $e=ce.docs[ct],Et=ot[ct];if(!!$e){Et.sort(function(er,Gt){return ye(Gt.start,er.start)});for(var Dt="*rename"+ ++be,Se=0;Se<Et.length;++Se){var Xe=Et[Se];$e.doc.replaceRange(Xe.text,Xe.start,Xe.end,Dt)}}}}function ne(ce,Me,ot,Se){var Xe=[],ct=0,$e=!ot.fullDocs;$e||delete ot.fullDocs,typeof ot=="string"&&(ot={type:ot}),ot.lineCharPositions=!0,ot.end==null&&(ot.end=Se||Me.doc.getCursor("end"),Me.doc.somethingSelected()&&(ot.start=Me.doc.getCursor("start")));var Et=ot.start||ot.end;if(Me.changed)if(Me.doc.lineCount()>n&&$e!==!1&&Me.changed.to-Me.changed.from<100&&Me.changed.from<=Et.line&&Me.changed.to>ot.end.line){Xe.push(ae(Me,Et,ot.end)),ot.file="#0";var ct=Xe[0].offsetLines;ot.start!=null&&(ot.start=t(ot.start.line- -ct,ot.start.ch)),ot.end=t(ot.end.line-ct,ot.end.ch)}else Xe.push({type:"full",name:Me.name,text:Qe(ce,Me)}),ot.file=Me.name,Me.changed=null;else ot.file=Me.name;for(var Dt in ce.docs){var er=ce.docs[Dt];er.changed&&er!=Me&&(Xe.push({type:"full",name:er.name,text:Qe(ce,er)}),er.changed=null)}return{query:ot,files:Xe}}function ae(ce,Me,ot){for(var Se=ce.doc,Xe=null,ct=null,$e,Et=4,Dt=Me.line-1,er=Math.max(0,Dt-50);Dt>=er;--Dt){var Gt=Se.getLine(Dt),Ht=Gt.search(/\bfunction\b/);if(!(Ht<0)){var Kt=a.countColumn(Gt,null,Et);Xe!=null&&Xe<=Kt||(Xe=Kt,ct=Dt)}}ct==null&&(ct=er);var yr=Math.min(Se.lastLine(),ot.line+20);if(Xe==null||Xe==a.countColumn(Se.getLine(Me.line),null,Et))$e=yr;else for($e=ot.line+1;$e<yr;++$e){var Kt=a.countColumn(Se.getLine($e),null,Et);if(Kt<=Xe)break}var Ur=t(ct,0);return{type:"part",name:ce.name,offsetLines:Ur.line,text:Se.getRange(Ur,t($e,ot.line==$e?null:0))}}var ye=a.cmpPos;function de(ce,Me){var ot=document.createElement(ce);Me&&(ot.className=Me);for(var Se=2;Se<arguments.length;++Se){var Xe=arguments[Se];typeof Xe=="string"&&(Xe=document.createTextNode(Xe)),ot.appendChild(Xe)}return ot}function xe(ce,Me,ot){ce.openDialog?ce.openDialog(Me+": <input type=text>",ot):ot(prompt(Me,""))}function le(ce,Me,ot){ce.state.ternTooltip&&me(ce.state.ternTooltip);var Se=ce.cursorCoords(),Xe=ce.state.ternTooltip=he(Se.right+1,Se.bottom,Me,ce);function ct(){Dt=!0,Et||$e()}function $e(){ce.state.ternTooltip=null,Xe.parentNode&&Re(Xe),er()}var Et=!1,Dt=!1;a.on(Xe,"mousemove",function(){Et=!0}),a.on(Xe,"mouseout",function(Gt){var Ht=Gt.relatedTarget||Gt.toElement;(!Ht||!a.contains(Xe,Ht))&&(Dt?$e():Et=!1)}),setTimeout(ct,ot.options.hintDelay?ot.options.hintDelay:1700);var er=re(ce,$e)}function re(ce,Me){return ce.on("cursorActivity",Me),ce.on("blur",Me),ce.on("scroll",Me),ce.on("setDoc",Me),function(){ce.off("cursorActivity",Me),ce.off("blur",Me),ce.off("scroll",Me),ce.off("setDoc",Me)}}function he(ce,Me,ot,Se,Xe){var ct=de("div",r+"tooltip "+(Xe||""),ot);ct.style.left=ce+"px",ct.style.top=Me+"px";var $e=((Se.options||{}).hintOptions||{}).container||document.body;$e.appendChild(ct);var Et=Se.cursorCoords(),Dt=window.innerWidth,er=window.innerHeight,Gt=ct.getBoundingClientRect(),Ht=document.querySelector(".CodeMirror-hints"),Kt=Gt.bottom-er,yr=Gt.right-Dt;if(Ht&&yr>0){ct.style.left=0;var Gt=ct.getBoundingClientRect();ct.style.left=(ce=ce-Ht.offsetWidth-Gt.width)+"px",yr=Gt.right-Dt}if(Kt>0){var Ur=Gt.bottom-Gt.top,Yr=Et.top-(Et.bottom-Gt.top);Yr-Ur>0?ct.style.top=Et.top-Ur+"px":Ur>er&&(ct.style.height=er-5+"px",ct.style.top=Et.bottom-Gt.top+"px")}return yr>0&&(Gt.right-Gt.left>Dt&&(ct.style.width=Dt-5+"px",yr-=Gt.right-Gt.left-Dt),ct.style.left=ce-yr+"px"),ct}function me(ce){var Me=ce&&ce.parentNode;Me&&Me.removeChild(ce)}function Re(ce){ce.style.opacity="0",setTimeout(function(){me(ce)},1100)}function Ie(ce,Me,ot){ce.options.showError?ce.options.showError(Me,ot):le(Me,String(ot),ce)}function Ne(ce){ce.activeArgHints&&(ce.activeArgHints.clear&&ce.activeArgHints.clear(),me(ce.activeArgHints),ce.activeArgHints=null)}function Qe(ce,Me){var ot=Me.doc.getValue();return ce.options.fileFilter&&(ot=ce.options.fileFilter(ot,Me.name,Me.doc)),ot}function Ue(ce){var Me=ce.worker=new Worker(ce.options.workerScript);Me.postMessage({type:"init",defs:ce.options.defs,plugins:ce.options.plugins,scripts:ce.options.workerDeps});var ot=0,Se={};function Xe(ct,$e){$e&&(ct.id=++ot,Se[ot]=$e),Me.postMessage(ct)}Me.onmessage=function(ct){var $e=ct.data;$e.type=="getFile"?c(ce,$e.name,function(Et,Dt){Xe({type:"getFile",err:String(Et),text:Dt,id:$e.id})}):$e.type=="debug"?window.console.log($e.message):$e.id&&Se[$e.id]&&(Se[$e.id]($e.err,$e.body),delete Se[$e.id])},Me.onerror=function(ct){for(var $e in Se)Se[$e](ct);Se={}},this.addFile=function(ct,$e){Xe({type:"add",name:ct,text:$e})},this.delFile=function(ct){Xe({type:"del",name:ct})},this.request=function(ct,$e){Xe({type:"req",body:ct},$e)}}});(function(a){if(typeof exports=="object"&&typeof module!="undefined")module.exports=a();else if(typeof define=="function"&&define.amd)define([],a);else{var t;typeof window!="undefined"?t=window:typeof global!="undefined"?t=global:typeof self!="undefined"?t=self:t=this,t.acorn=a()}})(function(){return function a(t,r,n){function c(v,E){if(!r[v]){if(!t[v]){var _=typeof require=="function"&&require;if(!E&&_)return _(v,!0);if(p)return p(v,!0);var k=new Error("Cannot find module '"+v+"'");throw k.code="MODULE_NOT_FOUND",k}var R=r[v]={exports:{}};t[v][0].call(R.exports,function(B){var M=t[v][1][B];return c(M||B)},R,R.exports,a,t,r,n)}return r[v].exports}for(var p=typeof require=="function"&&require,y=0;y<n.length;y++)c(n[y]);return c}({1:[function(a,t,r){r.parse=M,r.parseExpressionAt=F,r.tokenizer=H,Object.defineProperty(r,"__esModule",{value:!0});var n=a("./state"),c=n.Parser,p=a("./options"),y=p.getOptions;a("./parseutil"),a("./statement"),a("./lval"),a("./expression"),r.Parser=n.Parser,r.plugins=n.plugins,r.defaultOptions=p.defaultOptions;var v=a("./location");r.SourceLocation=v.SourceLocation,r.getLineInfo=v.getLineInfo,r.Node=a("./node").Node;var E=a("./tokentype");r.TokenType=E.TokenType,r.tokTypes=E.types;var _=a("./tokencontext");r.TokContext=_.TokContext,r.tokContexts=_.types;var k=a("./identifier");r.isIdentifierChar=k.isIdentifierChar,r.isIdentifierStart=k.isIdentifierStart,r.Token=a("./tokenize").Token;var R=a("./whitespace");r.isNewLine=R.isNewLine,r.lineBreak=R.lineBreak,r.lineBreakG=R.lineBreakG;var B="1.0.1";r.version=B;function M(Z,K){var fe=U(K,Z),oe=fe.options.locations?[fe.pos,fe.curPosition()]:fe.pos;return fe.nextToken(),fe.parseTopLevel(fe.options.program||fe.startNodeAt(oe))}function F(Z,K,fe){var oe=U(fe,Z);return oe.nextToken(),oe.parseExpression()}function H(Z,K){return U(K,Z)}function U(Z,K){return new c(y(Z),String(K))}},{"./expression":2,"./identifier":3,"./location":4,"./lval":5,"./node":6,"./options":7,"./parseutil":8,"./state":9,"./statement":10,"./tokencontext":11,"./tokenize":12,"./tokentype":13,"./whitespace":15}],2:[function(a,t,r){var n=a("./tokentype").types,c=a("./state").Parser,p=a("./identifier").reservedWords,y=a("./util").has,v=c.prototype;v.checkPropClash=function(_,k){if(!(this.options.ecmaVersion>=6)){var R=_.key,B=void 0;switch(R.type){case"Identifier":B=R.name;break;case"Literal":B=String(R.value);break;default:return}var M=_.kind||"init",F=void 0;if(y(k,B)){F=k[B];var H=M!=="init";((this.strict||H)&&F[M]||!(H^F.init))&&this.raise(R.start,"Redefinition of property")}else F=k[B]={init:!1,get:!1,set:!1};F[M]=!0}},v.parseExpression=function(_,k){var R=this.markPosition(),B=this.parseMaybeAssign(_,k);if(this.type===n.comma){var M=this.startNodeAt(R);for(M.expressions=[B];this.eat(n.comma);)M.expressions.push(this.parseMaybeAssign(_,k));return this.finishNode(M,"SequenceExpression")}return B},v.parseMaybeAssign=function(_,k){if(this.type==n._yield&&this.inGenerator)return this.parseYield();var R=void 0;k?R=!1:(k={start:0},R=!0);var B=this.markPosition(),M=this.parseMaybeConditional(_,k);if(this.type.isAssign){var F=this.startNodeAt(B);return F.operator=this.value,F.left=this.type===n.eq?this.toAssignable(M):M,k.start=0,this.checkLVal(M),this.next(),F.right=this.parseMaybeAssign(_),this.finishNode(F,"AssignmentExpression")}else R&&k.start&&this.unexpected(k.start);return M},v.parseMaybeConditional=function(_,k){var R=this.markPosition(),B=this.parseExprOps(_,k);if(k&&k.start)return B;if(this.eat(n.question)){var M=this.startNodeAt(R);return M.test=B,M.consequent=this.parseMaybeAssign(),this.expect(n.colon),M.alternate=this.parseMaybeAssign(_),this.finishNode(M,"ConditionalExpression")}return B},v.parseExprOps=function(_,k){var R=this.markPosition(),B=this.parseMaybeUnary(k);return k&&k.start?B:this.parseExprOp(B,R,-1,_)},v.parseExprOp=function(_,k,R,B){var M=this.type.binop;if(M!=null&&(!B||this.type!==n._in)&&M>R){var F=this.startNodeAt(k);F.left=_,F.operator=this.value;var H=this.type;this.next();var U=this.markPosition();return F.right=this.parseExprOp(this.parseMaybeUnary(),U,M,B),this.finishNode(F,H===n.logicalOR||H===n.logicalAND?"LogicalExpression":"BinaryExpression"),this.parseExprOp(F,k,R,B)}return _},v.parseMaybeUnary=function(_){if(this.type.prefix){var k=this.startNode(),R=this.type===n.incDec;return k.operator=this.value,k.prefix=!0,this.next(),k.argument=this.parseMaybeUnary(),_&&_.start&&this.unexpected(_.start),R?this.checkLVal(k.argument):this.strict&&k.operator==="delete"&&k.argument.type==="Identifier"&&this.raise(k.start,"Deleting local variable in strict mode"),this.finishNode(k,R?"UpdateExpression":"UnaryExpression")}var B=this.markPosition(),M=this.parseExprSubscripts(_);if(_&&_.start)return M;for(;this.type.postfix&&!this.canInsertSemicolon();){var k=this.startNodeAt(B);k.operator=this.value,k.prefix=!1,k.argument=M,this.checkLVal(M),this.next(),M=this.finishNode(k,"UpdateExpression")}return M},v.parseExprSubscripts=function(_){var k=this.markPosition(),R=this.parseExprAtom(_);return _&&_.start?R:this.parseSubscripts(R,k)},v.parseSubscripts=function(_,k,R){if(this.eat(n.dot)){var B=this.startNodeAt(k);return B.object=_,B.property=this.parseIdent(!0),B.computed=!1,this.parseSubscripts(this.finishNode(B,"MemberExpression"),k,R)}else if(this.eat(n.bracketL)){var B=this.startNodeAt(k);return B.object=_,B.property=this.parseExpression(),B.computed=!0,this.expect(n.bracketR),this.parseSubscripts(this.finishNode(B,"MemberExpression"),k,R)}else if(!R&&this.eat(n.parenL)){var B=this.startNodeAt(k);return B.callee=_,B.arguments=this.parseExprList(n.parenR,!1),this.parseSubscripts(this.finishNode(B,"CallExpression"),k,R)}else if(this.type===n.backQuote){var B=this.startNodeAt(k);return B.tag=_,B.quasi=this.parseTemplate(),this.parseSubscripts(this.finishNode(B,"TaggedTemplateExpression"),k,R)}return _},v.parseExprAtom=function(_){var k=void 0;switch(this.type){case n._this:case n._super:var R=this.type===n._this?"ThisExpression":"Super";return k=this.startNode(),this.next(),this.finishNode(k,R);case n._yield:this.inGenerator&&unexpected();case n.name:var B=this.markPosition(),M=this.parseIdent(this.type!==n.name);return!this.canInsertSemicolon()&&this.eat(n.arrow)?this.parseArrowExpression(this.startNodeAt(B),[M]):M;case n.regexp:var F=this.value;return k=this.parseLiteral(F.value),k.regex={pattern:F.pattern,flags:F.flags},k;case n.num:case n.string:return this.parseLiteral(this.value);case n._null:case n._true:case n._false:return k=this.startNode(),k.value=this.type===n._null?null:this.type===n._true,k.raw=this.type.keyword,this.next(),this.finishNode(k,"Literal");case n.parenL:return this.parseParenAndDistinguishExpression();case n.bracketL:return k=this.startNode(),this.next(),this.options.ecmaVersion>=7&&this.type===n._for?this.parseComprehension(k,!1):(k.elements=this.parseExprList(n.bracketR,!0,!0,_),this.finishNode(k,"ArrayExpression"));case n.braceL:return this.parseObj(!1,_);case n._function:return k=this.startNode(),this.next(),this.parseFunction(k,!1);case n._class:return this.parseClass(this.startNode(),!1);case n._new:return this.parseNew();case n.backQuote:return this.parseTemplate();default:this.unexpected()}},v.parseLiteral=function(_){var k=this.startNode();return k.value=_,k.raw=this.input.slice(this.start,this.end),this.next(),this.finishNode(k,"Literal")},v.parseParenExpression=function(){this.expect(n.parenL);var _=this.parseExpression();return this.expect(n.parenR),_},v.parseParenAndDistinguishExpression=function(){var _=this.markPosition(),k=void 0;if(this.options.ecmaVersion>=6){if(this.next(),this.options.ecmaVersion>=7&&this.type===n._for)return this.parseComprehension(this.startNodeAt(_),!0);for(var R=this.markPosition(),B=[],M=!0,F={start:0},H=void 0,U=void 0;this.type!==n.parenR;)if(M?M=!1:this.expect(n.comma),this.type===n.ellipsis){H=this.start,B.push(this.parseRest());break}else this.type===n.parenL&&!U&&(U=this.start),B.push(this.parseMaybeAssign(!1,F));var Z=this.markPosition();if(this.expect(n.parenR),!this.canInsertSemicolon()&&this.eat(n.arrow))return U&&this.unexpected(U),this.parseArrowExpression(this.startNodeAt(_),B);B.length||this.unexpected(this.lastTokStart),H&&this.unexpected(H),F.start&&this.unexpected(F.start),B.length>1?(k=this.startNodeAt(R),k.expressions=B,this.finishNodeAt(k,"SequenceExpression",Z)):k=B[0]}else k=this.parseParenExpression();if(this.options.preserveParens){var K=this.startNodeAt(_);return K.expression=k,this.finishNode(K,"ParenthesizedExpression")}else return k};var E=[];v.parseNew=function(){var _=this.startNode(),k=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(n.dot))return _.meta=k,_.property=this.parseIdent(!0),_.property.name!=="target"&&this.raise(_.property.start,"The only valid meta property for new is new.target"),this.finishNode(_,"MetaProperty");var R=this.markPosition();return _.callee=this.parseSubscripts(this.parseExprAtom(),R,!0),this.eat(n.parenL)?_.arguments=this.parseExprList(n.parenR,!1):_.arguments=E,this.finishNode(_,"NewExpression")},v.parseTemplateElement=function(){var _=this.startNode();return _.value={raw:this.input.slice(this.start,this.end),cooked:this.value},this.next(),_.tail=this.type===n.backQuote,this.finishNode(_,"TemplateElement")},v.parseTemplate=function(){var _=this.startNode();this.next(),_.expressions=[];var k=this.parseTemplateElement();for(_.quasis=[k];!k.tail;)this.expect(n.dollarBraceL),_.expressions.push(this.parseExpression()),this.expect(n.braceR),_.quasis.push(k=this.parseTemplateElement());return this.next(),this.finishNode(_,"TemplateLiteral")},v.parseObj=function(_,k){var R=this.startNode(),B=!0,M={};for(R.properties=[],this.next();!this.eat(n.braceR);){if(B)B=!1;else if(this.expect(n.comma),this.afterTrailingComma(n.braceR))break;var F=this.startNode(),H=void 0,U=void 0;this.options.ecmaVersion>=6&&(F.method=!1,F.shorthand=!1,(_||k)&&(U=this.markPosition()),_||(H=this.eat(n.star))),this.parsePropertyName(F),this.eat(n.colon)?(F.value=_?this.parseMaybeDefault():this.parseMaybeAssign(!1,k),F.kind="init"):this.options.ecmaVersion>=6&&this.type===n.parenL?(_&&this.unexpected(),F.kind="init",F.method=!0,F.value=this.parseMethod(H)):this.options.ecmaVersion>=5&&!F.computed&&F.key.type==="Identifier"&&(F.key.name==="get"||F.key.name==="set")&&this.type!=n.comma&&this.type!=n.braceR?((H||_)&&this.unexpected(),F.kind=F.key.name,this.parsePropertyName(F),F.value=this.parseMethod(!1)):this.options.ecmaVersion>=6&&!F.computed&&F.key.type==="Identifier"?(F.kind="init",_?((this.isKeyword(F.key.name)||this.strict&&(p.strictBind(F.key.name)||p.strict(F.key.name))||!this.options.allowReserved&&this.isReservedWord(F.key.name))&&this.raise(F.key.start,"Binding "+F.key.name),F.value=this.parseMaybeDefault(U,F.key)):this.type===n.eq&&k?(k.start||(k.start=this.start),F.value=this.parseMaybeDefault(U,F.key)):F.value=F.key,F.shorthand=!0):this.unexpected(),this.checkPropClash(F,M),R.properties.push(this.finishNode(F,"Property"))}return this.finishNode(R,_?"ObjectPattern":"ObjectExpression")},v.parsePropertyName=function(_){if(this.options.ecmaVersion>=6)if(this.eat(n.bracketL)){_.computed=!0,_.key=this.parseMaybeAssign(),this.expect(n.bracketR);return}else _.computed=!1;_.key=this.type===n.num||this.type===n.string?this.parseExprAtom():this.parseIdent(!0)},v.initFunction=function(_){_.id=null,this.options.ecmaVersion>=6&&(_.generator=!1,_.expression=!1)},v.parseMethod=function(_){var k=this.startNode();this.initFunction(k),this.expect(n.parenL),k.params=this.parseBindingList(n.parenR,!1,!1);var R=void 0;return this.options.ecmaVersion>=6?(k.generator=_,R=!0):R=!1,this.parseFunctionBody(k,R),this.finishNode(k,"FunctionExpression")},v.parseArrowExpression=function(_,k){return this.initFunction(_),_.params=this.toAssignableList(k,!0),this.parseFunctionBody(_,!0),this.finishNode(_,"ArrowFunctionExpression")},v.parseFunctionBody=function(_,k){var R=k&&this.type!==n.braceL;if(R)_.body=this.parseMaybeAssign(),_.expression=!0;else{var B=this.inFunction,M=this.inGenerator,F=this.labels;this.inFunction=!0,this.inGenerator=_.generator,this.labels=[],_.body=this.parseBlock(!0),_.expression=!1,this.inFunction=B,this.inGenerator=M,this.labels=F}if(this.strict||!R&&_.body.body.length&&this.isUseStrict(_.body.body[0])){var H={},U=this.strict;this.strict=!0,_.id&&this.checkLVal(_.id,!0);for(var Z=0;Z<_.params.length;Z++)this.checkLVal(_.params[Z],!0,H);this.strict=U}},v.parseExprList=function(_,k,R,B){for(var M=[],F=!0;!this.eat(_);){if(F)F=!1;else if(this.expect(n.comma),k&&this.afterTrailingComma(_))break;R&&this.type===n.comma?M.push(null):this.type===n.ellipsis?M.push(this.parseSpread(B)):M.push(this.parseMaybeAssign(!1,B))}return M},v.parseIdent=function(_){var k=this.startNode();return _&&this.options.allowReserved=="never"&&(_=!1),this.type===n.name?(!_&&(!this.options.allowReserved&&this.isReservedWord(this.value)||this.strict&&p.strict(this.value)&&(this.options.ecmaVersion>=6||this.input.slice(this.start,this.end).indexOf("\\")==-1))&&this.raise(this.start,"The keyword '"+this.value+"' is reserved"),k.name=this.value):_&&this.type.keyword?k.name=this.type.keyword:this.unexpected(),this.next(),this.finishNode(k,"Identifier")},v.parseYield=function(){var _=this.startNode();return this.next(),this.type==n.semi||this.canInsertSemicolon()||this.type!=n.star&&!this.type.startsExpr?(_.delegate=!1,_.argument=null):(_.delegate=this.eat(n.star),_.argument=this.parseMaybeAssign()),this.finishNode(_,"YieldExpression")},v.parseComprehension=function(_,k){for(_.blocks=[];this.type===n._for;){var R=this.startNode();this.next(),this.expect(n.parenL),R.left=this.parseBindingAtom(),this.checkLVal(R.left,!0),this.expectContextual("of"),R.right=this.parseExpression(),this.expect(n.parenR),_.blocks.push(this.finishNode(R,"ComprehensionBlock"))}return _.filter=this.eat(n._if)?this.parseParenExpression():null,_.body=this.parseExpression(),this.expect(k?n.parenR:n.bracketR),_.generator=k,this.finishNode(_,"ComprehensionExpression")}},{"./identifier":3,"./state":9,"./tokentype":13,"./util":14}],3:[function(a,t,r){r.isIdentifierStart=F,r.isIdentifierChar=H,Object.defineProperty(r,"__esModule",{value:!0});function n(U){U=U.split(" ");var Z="",K=[];e:for(var fe=0;fe<U.length;++fe){for(var oe=0;oe<K.length;++oe)if(K[oe][0].length==U[fe].length){K[oe].push(U[fe]);continue e}K.push([U[fe]])}function we(ve){if(ve.length==1)return Z+="return str === "+JSON.stringify(ve[0])+";";Z+="switch(str){";for(var ne=0;ne<ve.length;++ne)Z+="case "+JSON.stringify(ve[ne])+":";Z+="return true}return false;"}if(K.length>3){K.sort(function(ve,ne){return ne.length-ve.length}),Z+="switch(str.length){";for(var fe=0;fe<K.length;++fe){var be=K[fe];Z+="case "+be[0].length+":",we(be)}Z+="}"}else we(U);return new Function("str",Z)}var c={3:n("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),5:n("class enum extends super const export import"),6:n("enum await"),strict:n("implements interface let package private protected public static yield"),strictBind:n("eval arguments")};r.reservedWords=c;var p="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",y={5:n(p),6:n(p+" let const class extends export import yield super")};r.keywords=y;var v="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",E="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19B0-\u19C0\u19C8\u19C9\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F1\uA900-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",_=new RegExp("["+v+"]"),k=new RegExp("["+v+E+"]");v=E=null;var R=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,17,26,6,37,11,29,3,35,5,7,2,4,43,157,99,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,98,21,11,25,71,55,7,1,65,0,16,3,2,2,2,26,45,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,955,52,76,44,33,24,27,35,42,34,4,0,13,47,15,3,22,0,38,17,2,24,133,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,32,4,287,47,21,1,2,0,185,46,82,47,21,0,60,42,502,63,32,0,449,56,1288,920,104,110,2962,1070,13266,568,8,30,114,29,19,47,17,3,32,20,6,18,881,68,12,0,67,12,16481,1,3071,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,1340,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,16355,541],B=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,1306,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,52,0,13,2,49,13,16,9,83,11,168,11,6,9,8,2,57,0,2,6,3,1,3,2,10,0,11,1,3,6,4,4,316,19,13,9,214,6,3,8,112,16,16,9,82,12,9,9,535,9,20855,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,4305,6,792618,239];function M(U,Z){for(var K=65536,fe=0;fe<Z.length;fe+=2){if(K+=Z[fe],K>U)return!1;if(K+=Z[fe+1],K>=U)return!0}}function F(U,Z){return U<65?U===36:U<91?!0:U<97?U===95:U<123?!0:U<=65535?U>=170&&_.test(String.fromCharCode(U)):Z===!1?!1:M(U,R)}function H(U,Z){return U<48?U===36:U<58?!0:U<65?!1:U<91?!0:U<97?U===95:U<123?!0:U<=65535?U>=170&&k.test(String.fromCharCode(U)):Z===!1?!1:M(U,R)||M(U,B)}},{}],4:[function(a,t,r){var n=function(){function k(R,B){for(var M in B){var F=B[M];F.configurable=!0,F.value&&(F.writable=!0)}Object.defineProperties(R,B)}return function(R,B,M){return B&&k(R.prototype,B),M&&k(R,M),R}}(),c=function(k,R){if(!(k instanceof R))throw new TypeError("Cannot call a class as a function")};r.getLineInfo=E,Object.defineProperty(r,"__esModule",{value:!0});var p=a("./state").Parser,y=a("./whitespace").lineBreakG,v=r.Position=function(){function k(R,B){c(this,k),this.line=R,this.column=B}return n(k,{offset:{value:function(B){return new k(this.line,this.column+B)}}}),k}();r.SourceLocation=function k(R,B,M){c(this,k),this.start=B,this.end=M,R.sourceFile!==null&&(this.source=R.sourceFile)};function E(k,R){for(var B=1,M=0;;){y.lastIndex=M;var F=y.exec(k);if(F&&F.index<R)++B,M=F.index+F[0].length;else return new v(B,R-M)}}var _=p.prototype;_.raise=function(k,R){var B=E(this.input,k);R+=" ("+B.line+":"+B.column+")";var M=new SyntaxError(R);throw M.pos=k,M.loc=B,M.raisedAt=this.pos,M},_.curPosition=function(){return new v(this.curLine,this.pos-this.lineStart)},_.markPosition=function(){return this.options.locations?[this.start,this.startLoc]:this.start}},{"./state":9,"./whitespace":15}],5:[function(a,t,r){var n=a("./tokentype").types,c=a("./state").Parser,p=a("./identifier").reservedWords,y=a("./util").has,v=c.prototype;v.toAssignable=function(E,_){if(this.options.ecmaVersion>=6&&E)switch(E.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":break;case"ObjectExpression":E.type="ObjectPattern";for(var k=0;k<E.properties.length;k++){var R=E.properties[k];R.kind!=="init"&&this.raise(R.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(R.value,_)}break;case"ArrayExpression":E.type="ArrayPattern",this.toAssignableList(E.elements,_);break;case"AssignmentExpression":E.operator==="="?E.type="AssignmentPattern":this.raise(E.left.end,"Only '=' operator can be used for specifying default value.");break;case"MemberExpression":if(!_)break;default:this.raise(E.start,"Assigning to rvalue")}return E},v.toAssignableList=function(E,_){var k=E.length;if(k){var R=E[k-1];if(R&&R.type=="RestElement")--k;else if(R&&R.type=="SpreadElement"){R.type="RestElement";var B=R.argument;this.toAssignable(B,_),B.type!=="Identifier"&&B.type!=="MemberExpression"&&B.type!=="ArrayPattern"&&this.unexpected(B.start),--k}}for(var M=0;M<k;M++){var F=E[M];F&&this.toAssignable(F,_)}return E},v.parseSpread=function(E){var _=this.startNode();return this.next(),_.argument=this.parseMaybeAssign(E),this.finishNode(_,"SpreadElement")},v.parseRest=function(){var E=this.startNode();return this.next(),E.argument=this.type===n.name||this.type===n.bracketL?this.parseBindingAtom():this.unexpected(),this.finishNode(E,"RestElement")},v.parseBindingAtom=function(){if(this.options.ecmaVersion<6)return this.parseIdent();switch(this.type){case n.name:return this.parseIdent();case n.bracketL:var E=this.startNode();return this.next(),E.elements=this.parseBindingList(n.bracketR,!0,!0),this.finishNode(E,"ArrayPattern");case n.braceL:return this.parseObj(!0);default:this.unexpected()}},v.parseBindingList=function(E,_,k){for(var R=[],B=!0;!this.eat(E);)if(B?B=!1:this.expect(n.comma),_&&this.type===n.comma)R.push(null);else{if(k&&this.afterTrailingComma(E))break;if(this.type===n.ellipsis){R.push(this.parseRest()),this.expect(E);break}else R.push(this.parseMaybeDefault())}return R},v.parseMaybeDefault=function(E,_){if(E=E||this.markPosition(),_=_||this.parseBindingAtom(),!this.eat(n.eq))return _;var k=this.startNodeAt(E);return k.operator="=",k.left=_,k.right=this.parseMaybeAssign(),this.finishNode(k,"AssignmentPattern")},v.checkLVal=function(E,_,k){switch(E.type){case"Identifier":this.strict&&(p.strictBind(E.name)||p.strict(E.name))&&this.raise(E.start,(_?"Binding ":"Assigning to ")+E.name+" in strict mode"),k&&(y(k,E.name)&&this.raise(E.start,"Argument name clash in strict mode"),k[E.name]=!0);break;case"MemberExpression":_&&this.raise(E.start,(_?"Binding":"Assigning to")+" member expression");break;case"ObjectPattern":for(var R=0;R<E.properties.length;R++)this.checkLVal(E.properties[R].value,_,k);break;case"ArrayPattern":for(var R=0;R<E.elements.length;R++){var B=E.elements[R];B&&this.checkLVal(B,_,k)}break;case"AssignmentPattern":this.checkLVal(E.left,_,k);break;case"RestElement":this.checkLVal(E.argument,_,k);break;default:this.raise(E.start,(_?"Binding":"Assigning to")+" rvalue")}}},{"./identifier":3,"./state":9,"./tokentype":13,"./util":14}],6:[function(a,t,r){var n=function(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(r,"__esModule",{value:!0});var c=a("./state").Parser,p=a("./location").SourceLocation,y=c.prototype,v=r.Node=function E(){n(this,E)};y.startNode=function(){var E=new v;return E.start=this.start,this.options.locations&&(E.loc=new p(this,this.startLoc)),this.options.directSourceFile&&(E.sourceFile=this.options.directSourceFile),this.options.ranges&&(E.range=[this.start,0]),E},y.startNodeAt=function(E){var _=new v,k=E;return this.options.locations&&(_.loc=new p(this,k[1]),k=E[0]),_.start=k,this.options.directSourceFile&&(_.sourceFile=this.options.directSourceFile),this.options.ranges&&(_.range=[k,0]),_},y.finishNode=function(E,_){return E.type=_,E.end=this.lastTokEnd,this.options.locations&&(E.loc.end=this.lastTokEndLoc),this.options.ranges&&(E.range[1]=this.lastTokEnd),E},y.finishNodeAt=function(E,_,k){return this.options.locations&&(E.loc.end=k[1],k=k[0]),E.type=_,E.end=k,this.options.ranges&&(E.range[1]=k),E}},{"./location":4,"./state":9}],7:[function(a,t,r){r.getOptions=E,Object.defineProperty(r,"__esModule",{value:!0});var n=a("./util"),c=n.has,p=n.isArray,y=a("./location").SourceLocation,v={ecmaVersion:5,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:!0,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1,plugins:{}};r.defaultOptions=v;function E(k){var R={};for(var B in v)R[B]=k&&c(k,B)?k[B]:v[B];return p(R.onToken)&&function(){var M=R.onToken;R.onToken=function(F){return M.push(F)}}(),p(R.onComment)&&(R.onComment=_(R,R.onComment)),R}function _(k,R){return function(B,M,F,H,U,Z){var K={type:B?"Block":"Line",value:M,start:F,end:H};k.locations&&(K.loc=new y(this,U,Z)),k.ranges&&(K.range=[F,H]),R.push(K)}}},{"./location":4,"./util":14}],8:[function(a,t,r){var n=a("./tokentype").types,c=a("./state").Parser,p=a("./whitespace").lineBreak,y=c.prototype;y.isUseStrict=function(v){return this.options.ecmaVersion>=5&&v.type==="ExpressionStatement"&&v.expression.type==="Literal"&&v.expression.value==="use strict"},y.eat=function(v){return this.type===v?(this.next(),!0):!1},y.isContextual=function(v){return this.type===n.name&&this.value===v},y.eatContextual=function(v){return this.value===v&&this.eat(n.name)},y.expectContextual=function(v){this.eatContextual(v)||this.unexpected()},y.canInsertSemicolon=function(){return this.type===n.eof||this.type===n.braceR||p.test(this.input.slice(this.lastTokEnd,this.start))},y.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},y.semicolon=function(){!this.eat(n.semi)&&!this.insertSemicolon()&&this.unexpected()},y.afterTrailingComma=function(v){if(this.type==v)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),this.next(),!0},y.expect=function(v){this.eat(v)||this.unexpected()},y.unexpected=function(v){this.raise(v!=null?v:this.start,"Unexpected token")}},{"./state":9,"./tokentype":13,"./whitespace":15}],9:[function(a,t,r){r.Parser=_,Object.defineProperty(r,"__esModule",{value:!0});var n=a("./identifier"),c=n.reservedWords,p=n.keywords,y=a("./tokentype"),v=y.types,E=y.lineBreak;function _(R,B,M){this.options=R,this.loadPlugins(this.options.plugins),this.sourceFile=this.options.sourceFile||null,this.isKeyword=p[this.options.ecmaVersion>=6?6:5],this.isReservedWord=c[this.options.ecmaVersion],this.input=B,M?(this.pos=M,this.lineStart=Math.max(0,this.input.lastIndexOf(`
`,M)),this.curLine=this.input.slice(0,this.lineStart).split(E).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=v.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=null,this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.strict=this.inModule=this.options.sourceType==="module",this.inFunction=this.inGenerator=!1,this.labels=[],this.pos===0&&this.options.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2)}_.prototype.extend=function(R,B){this[R]=B(this[R])};var k={};r.plugins=k,_.prototype.loadPlugins=function(R){for(var B in R){var M=r.plugins[B];if(!M)throw new Error("Plugin '"+B+"' not found");M(this,R[B])}}},{"./identifier":3,"./tokentype":13}],10:[function(a,t,r){var n=a("./tokentype").types,c=a("./state").Parser,p=a("./whitespace").lineBreak,y=c.prototype;y.parseTopLevel=function(k){var R=!0;for(k.body||(k.body=[]);this.type!==n.eof;){var B=this.parseStatement(!0,!0);k.body.push(B),R&&this.isUseStrict(B)&&this.setStrict(!0),R=!1}return this.next(),this.options.ecmaVersion>=6&&(k.sourceType=this.options.sourceType),this.finishNode(k,"Program")};var v={kind:"loop"},E={kind:"switch"};y.parseStatement=function(k,R){var B=this.type,M=this.startNode();switch(B){case n._break:case n._continue:return this.parseBreakContinueStatement(M,B.keyword);case n._debugger:return this.parseDebuggerStatement(M);case n._do:return this.parseDoStatement(M);case n._for:return this.parseForStatement(M);case n._function:return!k&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(M);case n._class:return k||this.unexpected(),this.parseClass(M,!0);case n._if:return this.parseIfStatement(M);case n._return:return this.parseReturnStatement(M);case n._switch:return this.parseSwitchStatement(M);case n._throw:return this.parseThrowStatement(M);case n._try:return this.parseTryStatement(M);case n._let:case n._const:k||this.unexpected();case n._var:return this.parseVarStatement(M,B);case n._while:return this.parseWhileStatement(M);case n._with:return this.parseWithStatement(M);case n.braceL:return this.parseBlock();case n.semi:return this.parseEmptyStatement(M);case n._export:case n._import:return this.options.allowImportExportEverywhere||(R||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),B===n._import?this.parseImport(M):this.parseExport(M);default:var F=this.value,H=this.parseExpression();return B===n.name&&H.type==="Identifier"&&this.eat(n.colon)?this.parseLabeledStatement(M,F,H):this.parseExpressionStatement(M,H)}},y.parseBreakContinueStatement=function(k,R){var B=R=="break";this.next(),this.eat(n.semi)||this.insertSemicolon()?k.label=null:this.type!==n.name?this.unexpected():(k.label=this.parseIdent(),this.semicolon());for(var M=0;M<this.labels.length;++M){var F=this.labels[M];if((k.label==null||F.name===k.label.name)&&(F.kind!=null&&(B||F.kind==="loop")||k.label&&B))break}return M===this.labels.length&&this.raise(k.start,"Unsyntactic "+R),this.finishNode(k,B?"BreakStatement":"ContinueStatement")},y.parseDebuggerStatement=function(k){return this.next(),this.semicolon(),this.finishNode(k,"DebuggerStatement")},y.parseDoStatement=function(k){return this.next(),this.labels.push(v),k.body=this.parseStatement(!1),this.labels.pop(),this.expect(n._while),k.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(n.semi):this.semicolon(),this.finishNode(k,"DoWhileStatement")},y.parseForStatement=function(k){if(this.next(),this.labels.push(v),this.expect(n.parenL),this.type===n.semi)return this.parseFor(k,null);if(this.type===n._var||this.type===n._let||this.type===n._const){var R=this.startNode(),B=this.type;return this.next(),this.parseVar(R,!0,B),this.finishNode(R,"VariableDeclaration"),(this.type===n._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&R.declarations.length===1&&!(B!==n._var&&R.declarations[0].init)?this.parseForIn(k,R):this.parseFor(k,R)}var M={start:0},F=this.parseExpression(!0,M);return this.type===n._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.toAssignable(F),this.checkLVal(F),this.parseForIn(k,F)):(M.start&&this.unexpected(M.start),this.parseFor(k,F))},y.parseFunctionStatement=function(k){return this.next(),this.parseFunction(k,!0)},y.parseIfStatement=function(k){return this.next(),k.test=this.parseParenExpression(),k.consequent=this.parseStatement(!1),k.alternate=this.eat(n._else)?this.parseStatement(!1):null,this.finishNode(k,"IfStatement")},y.parseReturnStatement=function(k){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(n.semi)||this.insertSemicolon()?k.argument=null:(k.argument=this.parseExpression(),this.semicolon()),this.finishNode(k,"ReturnStatement")},y.parseSwitchStatement=function(k){this.next(),k.discriminant=this.parseParenExpression(),k.cases=[],this.expect(n.braceL),this.labels.push(E);for(var R,B;this.type!=n.braceR;)if(this.type===n._case||this.type===n._default){var M=this.type===n._case;R&&this.finishNode(R,"SwitchCase"),k.cases.push(R=this.startNode()),R.consequent=[],this.next(),M?R.test=this.parseExpression():(B&&this.raise(this.lastTokStart,"Multiple default clauses"),B=!0,R.test=null),this.expect(n.colon)}else R||this.unexpected(),R.consequent.push(this.parseStatement(!0));return R&&this.finishNode(R,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(k,"SwitchStatement")},y.parseThrowStatement=function(k){return this.next(),p.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),k.argument=this.parseExpression(),this.semicolon(),this.finishNode(k,"ThrowStatement")};var _=[];y.parseTryStatement=function(k){if(this.next(),k.block=this.parseBlock(),k.handler=null,this.type===n._catch){var R=this.startNode();this.next(),this.expect(n.parenL),R.param=this.parseBindingAtom(),this.checkLVal(R.param,!0),this.expect(n.parenR),R.guard=null,R.body=this.parseBlock(),k.handler=this.finishNode(R,"CatchClause")}return k.guardedHandlers=_,k.finalizer=this.eat(n._finally)?this.parseBlock():null,!k.handler&&!k.finalizer&&this.raise(k.start,"Missing catch or finally clause"),this.finishNode(k,"TryStatement")},y.parseVarStatement=function(k,R){return this.next(),this.parseVar(k,!1,R),this.semicolon(),this.finishNode(k,"VariableDeclaration")},y.parseWhileStatement=function(k){return this.next(),k.test=this.parseParenExpression(),this.labels.push(v),k.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(k,"WhileStatement")},y.parseWithStatement=function(k){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),k.object=this.parseParenExpression(),k.body=this.parseStatement(!1),this.finishNode(k,"WithStatement")},y.parseEmptyStatement=function(k){return this.next(),this.finishNode(k,"EmptyStatement")},y.parseLabeledStatement=function(k,R,B){for(var M=0;M<this.labels.length;++M)this.labels[M].name===R&&this.raise(B.start,"Label '"+R+"' is already declared");var F=this.type.isLoop?"loop":this.type===n._switch?"switch":null;return this.labels.push({name:R,kind:F}),k.body=this.parseStatement(!0),this.labels.pop(),k.label=B,this.finishNode(k,"LabeledStatement")},y.parseExpressionStatement=function(k,R){return k.expression=R,this.semicolon(),this.finishNode(k,"ExpressionStatement")},y.parseBlock=function(k){var R=this.startNode(),B=!0,M=void 0;for(R.body=[],this.expect(n.braceL);!this.eat(n.braceR);){var F=this.parseStatement(!0);R.body.push(F),B&&k&&this.isUseStrict(F)&&(M=this.strict,this.setStrict(this.strict=!0)),B=!1}return M===!1&&this.setStrict(!1),this.finishNode(R,"BlockStatement")},y.parseFor=function(k,R){return k.init=R,this.expect(n.semi),k.test=this.type===n.semi?null:this.parseExpression(),this.expect(n.semi),k.update=this.type===n.parenR?null:this.parseExpression(),this.expect(n.parenR),k.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(k,"ForStatement")},y.parseForIn=function(k,R){var B=this.type===n._in?"ForInStatement":"ForOfStatement";return this.next(),k.left=R,k.right=this.parseExpression(),this.expect(n.parenR),k.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(k,B)},y.parseVar=function(k,R,B){for(k.declarations=[],k.kind=B.keyword;;){var M=this.startNode();if(M.id=this.parseBindingAtom(),this.checkLVal(M.id,!0),this.eat(n.eq)?M.init=this.parseMaybeAssign(R):B===n._const&&!(this.type===n._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():M.id.type!="Identifier"&&!(R&&(this.type===n._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):M.init=null,k.declarations.push(this.finishNode(M,"VariableDeclarator")),!this.eat(n.comma))break}return k},y.parseFunction=function(k,R,B){return this.initFunction(k),this.options.ecmaVersion>=6&&(k.generator=this.eat(n.star)),(R||this.type===n.name)&&(k.id=this.parseIdent()),this.expect(n.parenL),k.params=this.parseBindingList(n.parenR,!1,!1),this.parseFunctionBody(k,B),this.finishNode(k,R?"FunctionDeclaration":"FunctionExpression")},y.parseClass=function(k,R){this.next(),k.id=this.type===n.name?this.parseIdent():R?this.unexpected():null,k.superClass=this.eat(n._extends)?this.parseExprSubscripts():null;var B=this.startNode();for(B.body=[],this.expect(n.braceL);!this.eat(n.braceR);)if(!this.eat(n.semi)){var M=this.startNode(),F=this.eat(n.star);this.parsePropertyName(M),this.type!==n.parenL&&!M.computed&&M.key.type==="Identifier"&&M.key.name==="static"?(F&&this.unexpected(),M.static=!0,F=this.eat(n.star),this.parsePropertyName(M)):M.static=!1,M.kind="method",!M.computed&&!F&&(M.key.type==="Identifier"?this.type!==n.parenL&&(M.key.name==="get"||M.key.name==="set")?(M.kind=M.key.name,this.parsePropertyName(M)):!M.static&&M.key.name==="constructor"&&(M.kind="constructor"):!M.static&&M.key.type==="Literal"&&M.key.value==="constructor"&&(M.kind="constructor")),M.value=this.parseMethod(F),B.body.push(this.finishNode(M,"MethodDefinition"))}return k.body=this.finishNode(B,"ClassBody"),this.finishNode(k,R?"ClassDeclaration":"ClassExpression")},y.parseExport=function(k){if(this.next(),this.eat(n.star))return this.expectContextual("from"),k.source=this.type===n.string?this.parseExprAtom():this.unexpected(),this.semicolon(),this.finishNode(k,"ExportAllDeclaration");if(this.eat(n._default)){var R=this.parseMaybeAssign(),B=!0;return(R.type=="FunctionExpression"||R.type=="ClassExpression")&&(B=!1,R.id&&(R.type=R.type=="FunctionExpression"?"FunctionDeclaration":"ClassDeclaration")),k.declaration=R,B&&this.semicolon(),this.finishNode(k,"ExportDefaultDeclaration")}return this.type.keyword?(k.declaration=this.parseStatement(!0),k.specifiers=[],k.source=null):(k.declaration=null,k.specifiers=this.parseExportSpecifiers(),this.eatContextual("from")?k.source=this.type===n.string?this.parseExprAtom():this.unexpected():k.source=null,this.semicolon()),this.finishNode(k,"ExportNamedDeclaration")},y.parseExportSpecifiers=function(){var k=[],R=!0;for(this.expect(n.braceL);!this.eat(n.braceR);){if(R)R=!1;else if(this.expect(n.comma),this.afterTrailingComma(n.braceR))break;var B=this.startNode();B.local=this.parseIdent(this.type===n._default),B.exported=this.eatContextual("as")?this.parseIdent(!0):B.local,k.push(this.finishNode(B,"ExportSpecifier"))}return k},y.parseImport=function(k){return this.next(),this.type===n.string?(k.specifiers=_,k.source=this.parseExprAtom(),k.kind=""):(k.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),k.source=this.type===n.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(k,"ImportDeclaration")},y.parseImportSpecifiers=function(){var k=[],R=!0;if(this.type===n.name){var B=this.startNode();if(B.local=this.parseIdent(),this.checkLVal(B.local,!0),k.push(this.finishNode(B,"ImportDefaultSpecifier")),!this.eat(n.comma))return k}if(this.type===n.star){var B=this.startNode();return this.next(),this.expectContextual("as"),B.local=this.parseIdent(),this.checkLVal(B.local,!0),k.push(this.finishNode(B,"ImportNamespaceSpecifier")),k}for(this.expect(n.braceL);!this.eat(n.braceR);){if(R)R=!1;else if(this.expect(n.comma),this.afterTrailingComma(n.braceR))break;var B=this.startNode();B.imported=this.parseIdent(!0),B.local=this.eatContextual("as")?this.parseIdent():B.imported,this.checkLVal(B.local,!0),k.push(this.finishNode(B,"ImportSpecifier"))}return k}},{"./state":9,"./tokentype":13,"./whitespace":15}],11:[function(a,t,r){var n=function(k,R){if(!(k instanceof R))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(r,"__esModule",{value:!0});var c=a("./state").Parser,p=a("./tokentype").types,y=a("./whitespace").lineBreak,v=r.TokContext=function k(R,B,M,F){n(this,k),this.token=R,this.isExpr=B,this.preserveSpace=M,this.override=F},E={b_stat:new v("{",!1),b_expr:new v("{",!0),b_tmpl:new v("${",!0),p_stat:new v("(",!1),p_expr:new v("(",!0),q_tmpl:new v("`",!0,!0,function(k){return k.readTmplToken()}),f_expr:new v("function",!0)};r.types=E;var _=c.prototype;_.initialContext=function(){return[E.b_stat]},_.braceIsBlock=function(k){var R=void 0;return k===p.colon&&(R=this.curContext()).token=="{"?!R.isExpr:k===p._return?y.test(this.input.slice(this.lastTokEnd,this.start)):k===p._else||k===p.semi||k===p.eof?!0:k==p.braceL?this.curContext()===E.b_stat:!this.exprAllowed},_.updateContext=function(k){var R=void 0,B=this.type;B.keyword&&k==p.dot?this.exprAllowed=!1:(R=B.updateContext)?R.call(this,k):this.exprAllowed=B.beforeExpr},p.parenR.updateContext=p.braceR.updateContext=function(){if(this.context.length==1){this.exprAllowed=!0;return}var k=this.context.pop();k===E.b_stat&&this.curContext()===E.f_expr?(this.context.pop(),this.exprAllowed=!1):k===E.b_tmpl?this.exprAllowed=!0:this.exprAllowed=!k.isExpr},p.braceL.updateContext=function(k){this.context.push(this.braceIsBlock(k)?E.b_stat:E.b_expr),this.exprAllowed=!0},p.dollarBraceL.updateContext=function(){this.context.push(E.b_tmpl),this.exprAllowed=!0},p.parenL.updateContext=function(k){var R=k===p._if||k===p._for||k===p._with||k===p._while;this.context.push(R?E.p_stat:E.p_expr),this.exprAllowed=!0},p.incDec.updateContext=function(){},p._function.updateContext=function(){this.curContext()!==E.b_stat&&this.context.push(E.f_expr),this.exprAllowed=!1},p.backQuote.updateContext=function(){this.curContext()===E.q_tmpl?this.context.pop():this.context.push(E.q_tmpl),this.exprAllowed=!1}},{"./state":9,"./tokentype":13,"./whitespace":15}],12:[function(a,t,r){var n=function(be,ve){if(!(be instanceof ve))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(r,"__esModule",{value:!0});var c=a("./identifier"),p=c.isIdentifierStart,y=c.isIdentifierChar,v=a("./tokentype"),E=v.types,_=v.keywords,k=a("./state").Parser,R=a("./location").SourceLocation,B=a("./whitespace"),M=B.lineBreak,F=B.lineBreakG,H=B.isNewLine,U=B.nonASCIIwhitespace,Z=r.Token=function be(ve){n(this,be),this.type=ve.type,this.value=ve.value,this.start=ve.start,this.end=ve.end,ve.options.locations&&(this.loc=new R(ve,ve.startLoc,ve.endLoc)),ve.options.ranges&&(this.range=[ve.start,ve.end])},K=k.prototype;K.next=function(){this.options.onToken&&this.options.onToken(new Z(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},K.getToken=function(){return this.next(),new Z(this)},typeof Symbol!="undefined"&&(K[Symbol.iterator]=function(){var be=this;return{next:function(){var ne=be.getToken();return{done:ne.type===E.eof,value:ne}}}}),K.setStrict=function(be){if(this.strict=be,!(this.type!==E.num&&this.type!==E.string)){if(this.pos=this.start,this.options.locations)for(;this.pos<this.lineStart;)this.lineStart=this.input.lastIndexOf(`
`,this.lineStart-2)+1,--this.curLine;this.nextToken()}},K.curContext=function(){return this.context[this.context.length-1]},K.nextToken=function(){var be=this.curContext();if((!be||!be.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(E.eof);if(be.override)return be.override(this);this.readToken(this.fullCharCodeAtPos())},K.readToken=function(be){return p(be,this.options.ecmaVersion>=6)||be===92?this.readWord():this.getTokenFromCode(be)},K.fullCharCodeAtPos=function(){var be=this.input.charCodeAt(this.pos);if(be<=55295||be>=57344)return be;var ve=this.input.charCodeAt(this.pos+1);return(be<<10)+ve-56613888},K.skipBlockComment=function(){var be=this.options.onComment&&this.options.locations&&this.curPosition(),ve=this.pos,ne=this.input.indexOf("*/",this.pos+=2);if(ne===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=ne+2,this.options.locations){F.lastIndex=ve;for(var ae=void 0;(ae=F.exec(this.input))&&ae.index<this.pos;)++this.curLine,this.lineStart=ae.index+ae[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(ve+2,ne),ve,this.pos,be,this.options.locations&&this.curPosition())},K.skipLineComment=function(be){for(var ve=this.pos,ne=this.options.onComment&&this.options.locations&&this.curPosition(),ae=this.input.charCodeAt(this.pos+=be);this.pos<this.input.length&&ae!==10&&ae!==13&&ae!==8232&&ae!==8233;)++this.pos,ae=this.input.charCodeAt(this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(ve+be,this.pos),ve,this.pos,ne,this.options.locations&&this.curPosition())},K.skipSpace=function(){for(;this.pos<this.input.length;){var be=this.input.charCodeAt(this.pos);if(be===32)++this.pos;else if(be===13){++this.pos;var ve=this.input.charCodeAt(this.pos);ve===10&&++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos)}else if(be===10||be===8232||be===8233)++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);else if(be>8&&be<14)++this.pos;else if(be===47){var ve=this.input.charCodeAt(this.pos+1);if(ve===42)this.skipBlockComment();else if(ve===47)this.skipLineComment(2);else break}else if(be===160)++this.pos;else if(be>=5760&&U.test(String.fromCharCode(be)))++this.pos;else break}},K.finishToken=function(be,ve){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var ne=this.type;this.type=be,this.value=ve,this.updateContext(ne)},K.readToken_dot=function(){var be=this.input.charCodeAt(this.pos+1);if(be>=48&&be<=57)return this.readNumber(!0);var ve=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&be===46&&ve===46?(this.pos+=3,this.finishToken(E.ellipsis)):(++this.pos,this.finishToken(E.dot))},K.readToken_slash=function(){var be=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):be===61?this.finishOp(E.assign,2):this.finishOp(E.slash,1)},K.readToken_mult_modulo=function(be){var ve=this.input.charCodeAt(this.pos+1);return ve===61?this.finishOp(E.assign,2):this.finishOp(be===42?E.star:E.modulo,1)},K.readToken_pipe_amp=function(be){var ve=this.input.charCodeAt(this.pos+1);return ve===be?this.finishOp(be===124?E.logicalOR:E.logicalAND,2):ve===61?this.finishOp(E.assign,2):this.finishOp(be===124?E.bitwiseOR:E.bitwiseAND,1)},K.readToken_caret=function(){var be=this.input.charCodeAt(this.pos+1);return be===61?this.finishOp(E.assign,2):this.finishOp(E.bitwiseXOR,1)},K.readToken_plus_min=function(be){var ve=this.input.charCodeAt(this.pos+1);return ve===be?ve==45&&this.input.charCodeAt(this.pos+2)==62&&M.test(this.input.slice(this.lastTokEnd,this.pos))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(E.incDec,2):ve===61?this.finishOp(E.assign,2):this.finishOp(E.plusMin,1)},K.readToken_lt_gt=function(be){var ve=this.input.charCodeAt(this.pos+1),ne=1;return ve===be?(ne=be===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+ne)===61?this.finishOp(E.assign,ne+1):this.finishOp(E.bitShift,ne)):ve==33&&be==60&&this.input.charCodeAt(this.pos+2)==45&&this.input.charCodeAt(this.pos+3)==45?(this.inModule&&unexpected(),this.skipLineComment(4),this.skipSpace(),this.nextToken()):(ve===61&&(ne=this.input.charCodeAt(this.pos+2)===61?3:2),this.finishOp(E.relational,ne))},K.readToken_eq_excl=function(be){var ve=this.input.charCodeAt(this.pos+1);return ve===61?this.finishOp(E.equality,this.input.charCodeAt(this.pos+2)===61?3:2):be===61&&ve===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(E.arrow)):this.finishOp(be===61?E.eq:E.prefix,1)},K.getTokenFromCode=function(be){switch(be){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(E.parenL);case 41:return++this.pos,this.finishToken(E.parenR);case 59:return++this.pos,this.finishToken(E.semi);case 44:return++this.pos,this.finishToken(E.comma);case 91:return++this.pos,this.finishToken(E.bracketL);case 93:return++this.pos,this.finishToken(E.bracketR);case 123:return++this.pos,this.finishToken(E.braceL);case 125:return++this.pos,this.finishToken(E.braceR);case 58:return++this.pos,this.finishToken(E.colon);case 63:return++this.pos,this.finishToken(E.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(E.backQuote);case 48:var ve=this.input.charCodeAt(this.pos+1);if(ve===120||ve===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(ve===111||ve===79)return this.readRadixNumber(8);if(ve===98||ve===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(be);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo(be);case 124:case 38:return this.readToken_pipe_amp(be);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(be);case 60:case 62:return this.readToken_lt_gt(be);case 61:case 33:return this.readToken_eq_excl(be);case 126:return this.finishOp(E.prefix,1)}this.raise(this.pos,"Unexpected character '"+oe(be)+"'")},K.finishOp=function(be,ve){var ne=this.input.slice(this.pos,this.pos+ve);return this.pos+=ve,this.finishToken(be,ne)};var fe=!1;try{new RegExp("\uFFFF","u"),fe=!0}catch{}K.readRegexp=function(){for(var be=void 0,ve=void 0,ne=this.pos;;){this.pos>=this.input.length&&this.raise(ne,"Unterminated regular expression");var ae=this.input.charAt(this.pos);if(M.test(ae)&&this.raise(ne,"Unterminated regular expression"),be)be=!1;else{if(ae==="[")ve=!0;else if(ae==="]"&&ve)ve=!1;else if(ae==="/"&&!ve)break;be=ae==="\\"}++this.pos}var ye=this.input.slice(ne,this.pos);++this.pos;var de=this.readWord1(),xe=ye;if(de){var le=/^[gmsiy]*$/;this.options.ecmaVersion>=6&&(le=/^[gmsiyu]*$/),le.test(de)||this.raise(ne,"Invalid regular expression flag"),de.indexOf("u")>=0&&!fe&&(xe=xe.replace(/\\u([a-fA-F0-9]{4})|\\u\{([0-9a-fA-F]+)\}|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"))}try{new RegExp(xe)}catch(he){he instanceof SyntaxError&&this.raise(ne,"Error parsing regular expression: "+he.message),this.raise(he)}var re=void 0;try{re=new RegExp(ye,de)}catch{re=null}return this.finishToken(E.regexp,{pattern:ye,flags:de,value:re})},K.readInt=function(be,ve){for(var ne=this.pos,ae=0,ye=0,de=ve==null?1/0:ve;ye<de;++ye){var xe=this.input.charCodeAt(this.pos),le=void 0;if(xe>=97?le=xe-97+10:xe>=65?le=xe-65+10:xe>=48&&xe<=57?le=xe-48:le=1/0,le>=be)break;++this.pos,ae=ae*be+le}return this.pos===ne||ve!=null&&this.pos-ne!==ve?null:ae},K.readRadixNumber=function(be){this.pos+=2;var ve=this.readInt(be);return ve==null&&this.raise(this.start+2,"Expected number in radix "+be),p(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(E.num,ve)},K.readNumber=function(be){var ve=this.pos,ne=!1,ae=this.input.charCodeAt(this.pos)===48;!be&&this.readInt(10)===null&&this.raise(ve,"Invalid number"),this.input.charCodeAt(this.pos)===46&&(++this.pos,this.readInt(10),ne=!0);var ye=this.input.charCodeAt(this.pos);(ye===69||ye===101)&&(ye=this.input.charCodeAt(++this.pos),(ye===43||ye===45)&&++this.pos,this.readInt(10)===null&&this.raise(ve,"Invalid number"),ne=!0),p(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var de=this.input.slice(ve,this.pos),xe=void 0;return ne?xe=parseFloat(de):!ae||de.length===1?xe=parseInt(de,10):/[89]/.test(de)||this.strict?this.raise(ve,"Invalid number"):xe=parseInt(de,8),this.finishToken(E.num,xe)},K.readCodePoint=function(){var be=this.input.charCodeAt(this.pos),ve=void 0;return be===123?(this.options.ecmaVersion<6&&this.unexpected(),++this.pos,ve=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,ve>1114111&&this.unexpected()):ve=this.readHexChar(4),ve};function oe(be){return be<=65535?String.fromCharCode(be):String.fromCharCode((be-65536>>10)+55296,(be-65536&1023)+56320)}K.readString=function(be){for(var ve="",ne=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var ae=this.input.charCodeAt(this.pos);if(ae===be)break;ae===92?(ve+=this.input.slice(ne,this.pos),ve+=this.readEscapedChar(),ne=this.pos):(H(ae)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return ve+=this.input.slice(ne,this.pos++),this.finishToken(E.string,ve)},K.readTmplToken=function(){for(var be="",ve=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var ne=this.input.charCodeAt(this.pos);if(ne===96||ne===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&this.type===E.template?ne===36?(this.pos+=2,this.finishToken(E.dollarBraceL)):(++this.pos,this.finishToken(E.backQuote)):(be+=this.input.slice(ve,this.pos),this.finishToken(E.template,be));ne===92?(be+=this.input.slice(ve,this.pos),be+=this.readEscapedChar(),ve=this.pos):H(ne)?(be+=this.input.slice(ve,this.pos),++this.pos,ne===13&&this.input.charCodeAt(this.pos)===10?(++this.pos,be+=`
`):be+=String.fromCharCode(ne),this.options.locations&&(++this.curLine,this.lineStart=this.pos),ve=this.pos):++this.pos}},K.readEscapedChar=function(){var be=this.input.charCodeAt(++this.pos),ve=/^[0-7]+/.exec(this.input.slice(this.pos,this.pos+3));for(ve&&(ve=ve[0]);ve&&parseInt(ve,8)>255;)ve=ve.slice(0,-1);if(ve==="0"&&(ve=null),++this.pos,ve)return this.strict&&this.raise(this.pos-2,"Octal literal in strict mode"),this.pos+=ve.length-1,String.fromCharCode(parseInt(ve,8));switch(be){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return oe(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 48:return"\0";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:return String.fromCharCode(be)}},K.readHexChar=function(be){var ve=this.readInt(16,be);return ve===null&&this.raise(this.start,"Bad character escape sequence"),ve};var we;K.readWord1=function(){we=!1;for(var be="",ve=!0,ne=this.pos,ae=this.options.ecmaVersion>=6;this.pos<this.input.length;){var ye=this.fullCharCodeAtPos();if(y(ye,ae))this.pos+=ye<=65535?1:2;else if(ye===92){we=!0,be+=this.input.slice(ne,this.pos);var de=this.pos;this.input.charCodeAt(++this.pos)!=117&&this.raise(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var xe=this.readCodePoint();(ve?p:y)(xe,ae)||this.raise(de,"Invalid Unicode escape"),be+=oe(xe),ne=this.pos}else break;ve=!1}return be+this.input.slice(ne,this.pos)},K.readWord=function(){var be=this.readWord1(),ve=E.name;return(this.options.ecmaVersion>=6||!we)&&this.isKeyword(be)&&(ve=_[be]),this.finishToken(ve,be)}},{"./identifier":3,"./location":4,"./state":9,"./tokentype":13,"./whitespace":15}],13:[function(a,t,r){var n=function(R,B){if(!(R instanceof B))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(r,"__esModule",{value:!0});var c=r.TokenType=function R(B){var M=arguments[1]===void 0?{}:arguments[1];n(this,R),this.label=B,this.keyword=M.keyword,this.beforeExpr=!!M.beforeExpr,this.startsExpr=!!M.startsExpr,this.isLoop=!!M.isLoop,this.isAssign=!!M.isAssign,this.prefix=!!M.prefix,this.postfix=!!M.postfix,this.binop=M.binop||null,this.updateContext=null};function p(R,B){return new c(R,{beforeExpr:!0,binop:B})}var y={beforeExpr:!0},v={startsExpr:!0},E={num:new c("num",v),regexp:new c("regexp",v),string:new c("string",v),name:new c("name",v),eof:new c("eof"),bracketL:new c("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new c("]"),braceL:new c("{",{beforeExpr:!0,startsExpr:!0}),braceR:new c("}"),parenL:new c("(",{beforeExpr:!0,startsExpr:!0}),parenR:new c(")"),comma:new c(",",y),semi:new c(";",y),colon:new c(":",y),dot:new c("."),question:new c("?",y),arrow:new c("=>",y),template:new c("template"),ellipsis:new c("...",y),backQuote:new c("`",v),dollarBraceL:new c("${",{beforeExpr:!0,startsExpr:!0}),eq:new c("=",{beforeExpr:!0,isAssign:!0}),assign:new c("_=",{beforeExpr:!0,isAssign:!0}),incDec:new c("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new c("prefix",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:p("||",1),logicalAND:p("&&",2),bitwiseOR:p("|",3),bitwiseXOR:p("^",4),bitwiseAND:p("&",5),equality:p("==/!=",6),relational:p("</>",7),bitShift:p("<</>>",8),plusMin:new c("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:p("%",10),star:p("*",10),slash:p("/",10)};r.types=E;var _={};r.keywords=_;function k(R){var B=arguments[1]===void 0?{}:arguments[1];B.keyword=R,_[R]=E["_"+R]=new c(R,B)}k("break"),k("case",y),k("catch"),k("continue"),k("debugger"),k("default"),k("do",{isLoop:!0}),k("else",y),k("finally"),k("for",{isLoop:!0}),k("function"),k("if"),k("return",y),k("switch"),k("throw",y),k("try"),k("var"),k("let"),k("const"),k("while",{isLoop:!0}),k("with"),k("new",{beforeExpr:!0,startsExpr:!0}),k("this",v),k("super",v),k("class"),k("extends",y),k("export"),k("import"),k("yield",{beforeExpr:!0,startsExpr:!0}),k("null",v),k("true",v),k("false",v),k("in",{beforeExpr:!0,binop:7}),k("instanceof",{beforeExpr:!0,binop:7}),k("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),k("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),k("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},{}],14:[function(a,t,r){r.isArray=n,r.has=c,Object.defineProperty(r,"__esModule",{value:!0});function n(p){return Object.prototype.toString.call(p)==="[object Array]"}function c(p,y){return Object.prototype.hasOwnProperty.call(p,y)}},{}],15:[function(a,t,r){r.isNewLine=p,Object.defineProperty(r,"__esModule",{value:!0});var n=/\r\n?|\n|\u2028|\u2029/;r.lineBreak=n;var c=new RegExp(n.source,"g");r.lineBreakG=c;function p(v){return v===10||v===13||v===8232||v==8233}var y=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/;r.nonASCIIwhitespace=y},{}]},{},[1])(1)});(function(a){if(typeof exports=="object"&&typeof module!="undefined")module.exports=a();else if(typeof define=="function"&&define.amd)define([],a);else{var t;typeof window!="undefined"?t=window:typeof global!="undefined"?t=global:typeof self!="undefined"?t=self:t=this,(t.acorn||(t.acorn={})).loose=a()}})(function(){return function a(t,r,n){function c(v,E){if(!r[v]){if(!t[v]){var _=typeof require=="function"&&require;if(!E&&_)return _(v,!0);if(p)return p(v,!0);var k=new Error("Cannot find module '"+v+"'");throw k.code="MODULE_NOT_FOUND",k}var R=r[v]={exports:{}};t[v][0].call(R.exports,function(B){var M=t[v][1][B];return c(M||B)},R,R.exports,a,t,r,n)}return r[v].exports}for(var p=typeof require=="function"&&require,y=0;y<n.length;y++)c(n[y]);return c}({1:[function(a,t,r){var n=function(E){return E&&E.__esModule?E:{default:E}};r.parse_dammit=v,Object.defineProperty(r,"__esModule",{value:!0});var c=n(a("..")),p=a("./state"),y=p.LooseParser;a("./tokenize"),a("./parseutil"),a("./statement"),a("./expression"),r.LooseParser=p.LooseParser,c.defaultOptions.tabSize=4;function v(E,_){var k=new y(E,_);return k.next(),k.parseTopLevel()}c.parse_dammit=v,c.LooseParser=y},{"..":2,"./expression":3,"./parseutil":4,"./state":5,"./statement":6,"./tokenize":7}],2:[function(a,t,r){t.exports=typeof window!="undefined"?window.acorn:a("./acorn")},{}],3:[function(a,t,r){var n=a("./state").LooseParser,c=a("./parseutil").isDummy,p=a("..").tokTypes,y=n.prototype;y.checkLVal=function(v){if(!v)return v;switch(v.type){case"Identifier":case"MemberExpression":case"ObjectPattern":case"ArrayPattern":case"RestElement":case"AssignmentPattern":return v;default:return this.dummyIdent()}},y.parseExpression=function(v){var E=this.storeCurrentPos(),_=this.parseMaybeAssign(v);if(this.tok.type===p.comma){var k=this.startNodeAt(E);for(k.expressions=[_];this.eat(p.comma);)k.expressions.push(this.parseMaybeAssign(v));return this.finishNode(k,"SequenceExpression")}return _},y.parseParenExpression=function(){this.pushCx(),this.expect(p.parenL);var v=this.parseExpression();return this.popCx(),this.expect(p.parenR),v},y.parseMaybeAssign=function(v){var E=this.storeCurrentPos(),_=this.parseMaybeConditional(v);if(this.tok.type.isAssign){var k=this.startNodeAt(E);return k.operator=this.tok.value,k.left=this.tok.type===p.eq?this.toAssignable(_):this.checkLVal(_),this.next(),k.right=this.parseMaybeAssign(v),this.finishNode(k,"AssignmentExpression")}return _},y.parseMaybeConditional=function(v){var E=this.storeCurrentPos(),_=this.parseExprOps(v);if(this.eat(p.question)){var k=this.startNodeAt(E);return k.test=_,k.consequent=this.parseMaybeAssign(),k.alternate=this.expect(p.colon)?this.parseMaybeAssign(v):this.dummyIdent(),this.finishNode(k,"ConditionalExpression")}return _},y.parseExprOps=function(v){var E=this.storeCurrentPos(),_=this.curIndent,k=this.curLineStart;return this.parseExprOp(this.parseMaybeUnary(v),E,-1,v,_,k)},y.parseExprOp=function(v,E,_,k,R,B){if(this.curLineStart!=B&&this.curIndent<R&&this.tokenStartsLine())return v;var M=this.tok.type.binop;if(M!=null&&(!k||this.tok.type!==p._in)&&M>_){var F=this.startNodeAt(E);if(F.left=v,F.operator=this.tok.value,this.next(),this.curLineStart!=B&&this.curIndent<R&&this.tokenStartsLine())F.right=this.dummyIdent();else{var H=this.storeCurrentPos();F.right=this.parseExprOp(this.parseMaybeUnary(k),H,M,k,R,B)}return this.finishNode(F,/&&|\|\|/.test(F.operator)?"LogicalExpression":"BinaryExpression"),this.parseExprOp(F,E,_,k,R,B)}return v},y.parseMaybeUnary=function(v){if(this.tok.type.prefix){var E=this.startNode(),_=this.tok.type===p.incDec;return E.operator=this.tok.value,E.prefix=!0,this.next(),E.argument=this.parseMaybeUnary(v),_&&(E.argument=this.checkLVal(E.argument)),this.finishNode(E,_?"UpdateExpression":"UnaryExpression")}else if(this.tok.type===p.ellipsis){var E=this.startNode();return this.next(),E.argument=this.parseMaybeUnary(v),this.finishNode(E,"SpreadElement")}for(var k=this.storeCurrentPos(),R=this.parseExprSubscripts();this.tok.type.postfix&&!this.canInsertSemicolon();){var E=this.startNodeAt(k);E.operator=this.tok.value,E.prefix=!1,E.argument=this.checkLVal(R),this.next(),R=this.finishNode(E,"UpdateExpression")}return R},y.parseExprSubscripts=function(){var v=this.storeCurrentPos();return this.parseSubscripts(this.parseExprAtom(),v,!1,this.curIndent,this.curLineStart)},y.parseSubscripts=function(v,E,_,k,R){for(;;){if(this.curLineStart!=R&&this.curIndent<=k&&this.tokenStartsLine())if(this.tok.type==p.dot&&this.curIndent==k)--k;else return v;if(this.eat(p.dot)){var B=this.startNodeAt(E);B.object=v,this.curLineStart!=R&&this.curIndent<=k&&this.tokenStartsLine()?B.property=this.dummyIdent():B.property=this.parsePropertyAccessor()||this.dummyIdent(),B.computed=!1,v=this.finishNode(B,"MemberExpression")}else if(this.tok.type==p.bracketL){this.pushCx(),this.next();var B=this.startNodeAt(E);B.object=v,B.property=this.parseExpression(),B.computed=!0,this.popCx(),this.expect(p.bracketR),v=this.finishNode(B,"MemberExpression")}else if(!_&&this.tok.type==p.parenL){this.pushCx();var B=this.startNodeAt(E);B.callee=v,B.arguments=this.parseExprList(p.parenR),v=this.finishNode(B,"CallExpression")}else if(this.tok.type==p.backQuote){var B=this.startNodeAt(E);B.tag=v,B.quasi=this.parseTemplate(),v=this.finishNode(B,"TaggedTemplateExpression")}else return v}},y.parseExprAtom=function(){var v=void 0;switch(this.tok.type){case p._this:case p._super:var E=this.tok.type===p._this?"ThisExpression":"Super";return v=this.startNode(),this.next(),this.finishNode(v,E);case p.name:var _=this.storeCurrentPos(),k=this.parseIdent();return this.eat(p.arrow)?this.parseArrowExpression(this.startNodeAt(_),[k]):k;case p.regexp:v=this.startNode();var R=this.tok.value;return v.regex={pattern:R.pattern,flags:R.flags},v.value=R.value,v.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(v,"Literal");case p.num:case p.string:return v=this.startNode(),v.value=this.tok.value,v.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(v,"Literal");case p._null:case p._true:case p._false:return v=this.startNode(),v.value=this.tok.type===p._null?null:this.tok.type===p._true,v.raw=this.tok.type.keyword,this.next(),this.finishNode(v,"Literal");case p.parenL:var B=this.storeCurrentPos();this.next();var M=this.parseExpression();if(this.expect(p.parenR),this.eat(p.arrow))return this.parseArrowExpression(this.startNodeAt(B),M.expressions||(c(M)?[]:[M]));if(this.options.preserveParens){var F=this.startNodeAt(B);F.expression=M,M=this.finishNode(F,"ParenthesizedExpression")}return M;case p.bracketL:return v=this.startNode(),this.pushCx(),v.elements=this.parseExprList(p.bracketR,!0),this.finishNode(v,"ArrayExpression");case p.braceL:return this.parseObj();case p._class:return this.parseClass();case p._function:return v=this.startNode(),this.next(),this.parseFunction(v,!1);case p._new:return this.parseNew();case p._yield:return v=this.startNode(),this.next(),this.semicolon()||this.canInsertSemicolon()||this.tok.type!=p.star&&!this.tok.type.startsExpr?(v.delegate=!1,v.argument=null):(v.delegate=this.eat(p.star),v.argument=this.parseMaybeAssign()),this.finishNode(v,"YieldExpression");case p.backQuote:return this.parseTemplate();default:return this.dummyIdent()}},y.parseNew=function(){var v=this.startNode(),E=this.curIndent,_=this.curLineStart,k=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(p.dot))return v.meta=k,v.property=this.parseIdent(!0),this.finishNode(v,"MetaProperty");var R=this.storeCurrentPos();return v.callee=this.parseSubscripts(this.parseExprAtom(),R,!0,E,_),this.tok.type==p.parenL?(this.pushCx(),v.arguments=this.parseExprList(p.parenR)):v.arguments=[],this.finishNode(v,"NewExpression")},y.parseTemplateElement=function(){var v=this.startNode();return v.value={raw:this.input.slice(this.tok.start,this.tok.end),cooked:this.tok.value},this.next(),v.tail=this.tok.type===p.backQuote,this.finishNode(v,"TemplateElement")},y.parseTemplate=function(){var v=this.startNode();this.next(),v.expressions=[];var E=this.parseTemplateElement();for(v.quasis=[E];!E.tail;)this.next(),v.expressions.push(this.parseExpression()),this.expect(p.braceR)?E=this.parseTemplateElement():(E=this.startNode(),E.value={cooked:"",raw:""},E.tail=!0),v.quasis.push(E);return this.expect(p.backQuote),this.finishNode(v,"TemplateLiteral")},y.parseObj=function(){var v=this.startNode();v.properties=[],this.pushCx();var E=this.curIndent+1,_=this.curLineStart;for(this.eat(p.braceL),this.curIndent+1<E&&(E=this.curIndent,_=this.curLineStart);!this.closes(p.braceR,E,_);){var k=this.startNode(),R=void 0,B=void 0;if(this.options.ecmaVersion>=6&&(B=this.storeCurrentPos(),k.method=!1,k.shorthand=!1,R=this.eat(p.star)),this.parsePropertyName(k),c(k.key)){c(this.parseMaybeAssign())&&this.next(),this.eat(p.comma);continue}if(this.eat(p.colon))k.kind="init",k.value=this.parseMaybeAssign();else if(this.options.ecmaVersion>=6&&(this.tok.type===p.parenL||this.tok.type===p.braceL))k.kind="init",k.method=!0,k.value=this.parseMethod(R);else if(this.options.ecmaVersion>=5&&k.key.type==="Identifier"&&!k.computed&&(k.key.name==="get"||k.key.name==="set")&&this.tok.type!=p.comma&&this.tok.type!=p.braceR)k.kind=k.key.name,this.parsePropertyName(k),k.value=this.parseMethod(!1);else{if(k.kind="init",this.options.ecmaVersion>=6)if(this.eat(p.eq)){var M=this.startNodeAt(B);M.operator="=",M.left=k.key,M.right=this.parseMaybeAssign(),k.value=this.finishNode(M,"AssignmentExpression")}else k.value=k.key;else k.value=this.dummyIdent();k.shorthand=!0}v.properties.push(this.finishNode(k,"Property")),this.eat(p.comma)}return this.popCx(),this.eat(p.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.finishNode(v,"ObjectExpression")},y.parsePropertyName=function(v){if(this.options.ecmaVersion>=6)if(this.eat(p.bracketL)){v.computed=!0,v.key=this.parseExpression(),this.expect(p.bracketR);return}else v.computed=!1;var E=this.tok.type===p.num||this.tok.type===p.string?this.parseExprAtom():this.parseIdent();v.key=E||this.dummyIdent()},y.parsePropertyAccessor=function(){if(this.tok.type===p.name||this.tok.type.keyword)return this.parseIdent()},y.parseIdent=function(){var v=this.tok.type===p.name?this.tok.value:this.tok.type.keyword;if(!v)return this.dummyIdent();var E=this.startNode();return this.next(),E.name=v,this.finishNode(E,"Identifier")},y.initFunction=function(v){v.id=null,v.params=[],this.options.ecmaVersion>=6&&(v.generator=!1,v.expression=!1)},y.toAssignable=function(v){if(this.options.ecmaVersion>=6&&v)switch(v.type){case"ObjectExpression":v.type="ObjectPattern";for(var E=v.properties,_=0;_<E.length;_++)this.toAssignable(E[_].value);break;case"ArrayExpression":v.type="ArrayPattern",this.toAssignableList(v.elements);break;case"SpreadElement":v.type="RestElement",v.argument=this.toAssignable(v.argument);break;case"AssignmentExpression":v.type="AssignmentPattern";break}return this.checkLVal(v)},y.toAssignableList=function(v){for(var E=0;E<v.length;E++)this.toAssignable(v[E]);return v},y.parseFunctionParams=function(v){return this.pushCx(),v=this.parseExprList(p.parenR),this.toAssignableList(v)},y.parseMethod=function(v){var E=this.startNode();return this.initFunction(E),E.params=this.parseFunctionParams(),E.generator=v||!1,E.expression=this.options.ecmaVersion>=6&&this.tok.type!==p.braceL,E.body=E.expression?this.parseMaybeAssign():this.parseBlock(),this.finishNode(E,"FunctionExpression")},y.parseArrowExpression=function(v,E){return this.initFunction(v),v.params=this.toAssignableList(E),v.expression=this.tok.type!==p.braceL,v.body=v.expression?this.parseMaybeAssign():this.parseBlock(),this.finishNode(v,"ArrowFunctionExpression")},y.parseExprList=function(v,E){var _=this.curIndent,k=this.curLineStart,R=[];for(this.next();!this.closes(v,_+1,k);){if(this.eat(p.comma)){R.push(E?null:this.dummyIdent());continue}var B=this.parseMaybeAssign();if(c(B)){if(this.closes(v,_,k))break;this.next()}else R.push(B);this.eat(p.comma)}return this.popCx(),this.eat(v)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),R}},{"..":2,"./parseutil":4,"./state":5}],4:[function(a,t,r){r.isDummy=R,Object.defineProperty(r,"__esModule",{value:!0});var n=a("./state").LooseParser,c=a(".."),p=c.Node,y=c.SourceLocation,v=c.lineBreak,E=c.isNewLine,_=c.tokTypes,k=n.prototype;k.startNode=function(){var B=new p;return B.start=this.tok.start,this.options.locations&&(B.loc=new y(this.toks,this.tok.loc.start)),this.options.directSourceFile&&(B.sourceFile=this.options.directSourceFile),this.options.ranges&&(B.range=[this.tok.start,0]),B},k.storeCurrentPos=function(){return this.options.locations?[this.tok.start,this.tok.loc.start]:this.tok.start},k.startNodeAt=function(B){var M=new p;return this.options.locations?(M.start=B[0],M.loc=new y(this.toks,B[1]),B=B[0]):M.start=B,this.options.directSourceFile&&(M.sourceFile=this.options.directSourceFile),this.options.ranges&&(M.range=[B,0]),M},k.finishNode=function(B,M){return B.type=M,B.end=this.last.end,this.options.locations&&(B.loc.end=this.last.loc.end),this.options.ranges&&(B.range[1]=this.last.end),B},k.dummyIdent=function(){var B=this.startNode();return B.name="\u2716",this.finishNode(B,"Identifier")};function R(B){return B.name=="\u2716"}k.eat=function(B){return this.tok.type===B?(this.next(),!0):!1},k.isContextual=function(B){return this.tok.type===_.name&&this.tok.value===B},k.eatContextual=function(B){return this.tok.value===B&&this.eat(_.name)},k.canInsertSemicolon=function(){return this.tok.type===_.eof||this.tok.type===_.braceR||v.test(this.input.slice(this.last.end,this.tok.start))},k.semicolon=function(){return this.eat(_.semi)},k.expect=function(B){if(this.eat(B))return!0;for(var M=1;M<=2;M++)if(this.lookAhead(M).type==B){for(var F=0;F<M;F++)this.next();return!0}},k.pushCx=function(){this.context.push(this.curIndent)},k.popCx=function(){this.curIndent=this.context.pop()},k.lineEnd=function(B){for(;B<this.input.length&&!E(this.input.charCodeAt(B));)++B;return B},k.indentationAfter=function(B){for(var M=0;;++B){var F=this.input.charCodeAt(B);if(F===32)++M;else if(F===9)M+=this.options.tabSize;else return M}},k.closes=function(B,M,F,H){return this.tok.type===B||this.tok.type===_.eof?!0:F!=this.curLineStart&&this.curIndent<M&&this.tokenStartsLine()&&(!H||this.nextLineStart>=this.input.length||this.indentationAfter(this.nextLineStart)<M)},k.tokenStartsLine=function(){for(var B=this.tok.start-1;B>=this.curLineStart;--B){var M=this.input.charCodeAt(B);if(M!==9&&M!==32)return!1}return!0}},{"..":2,"./state":5}],5:[function(a,t,r){r.LooseParser=v,Object.defineProperty(r,"__esModule",{value:!0});var n=a(".."),c=n.tokenizer,p=n.SourceLocation,y=n.tokTypes;function v(E,_){if(this.toks=c(E,_),this.options=this.toks.options,this.input=this.toks.input,this.tok=this.last={type:y.eof,start:0,end:0},this.options.locations){var k=this.toks.curPosition();this.tok.loc=new p(this.toks,k,k)}this.ahead=[],this.context=[],this.curIndent=0,this.curLineStart=0,this.nextLineStart=this.lineEnd(this.curLineStart)+1}},{"..":2}],6:[function(a,t,r){var n=a("./state").LooseParser,c=a("./parseutil").isDummy,p=a(".."),y=p.getLineInfo,v=p.tokTypes,E=n.prototype;E.parseTopLevel=function(){var _=this.startNodeAt(this.options.locations?[0,y(this.input,0)]:0);for(_.body=[];this.tok.type!==v.eof;)_.body.push(this.parseStatement());return this.last=this.tok,this.options.ecmaVersion>=6&&(_.sourceType=this.options.sourceType),this.finishNode(_,"Program")},E.parseStatement=function(){var _=this.tok.type,k=this.startNode();switch(_){case v._break:case v._continue:this.next();var R=_===v._break;return this.semicolon()||this.canInsertSemicolon()?k.label=null:(k.label=this.tok.type===v.name?this.parseIdent():null,this.semicolon()),this.finishNode(k,R?"BreakStatement":"ContinueStatement");case v._debugger:return this.next(),this.semicolon(),this.finishNode(k,"DebuggerStatement");case v._do:return this.next(),k.body=this.parseStatement(),k.test=this.eat(v._while)?this.parseParenExpression():this.dummyIdent(),this.semicolon(),this.finishNode(k,"DoWhileStatement");case v._for:if(this.next(),this.pushCx(),this.expect(v.parenL),this.tok.type===v.semi)return this.parseFor(k,null);if(this.tok.type===v._var||this.tok.type===v._let||this.tok.type===v._const){var B=this.parseVar(!0);return B.declarations.length===1&&(this.tok.type===v._in||this.isContextual("of"))?this.parseForIn(k,B):this.parseFor(k,B)}var M=this.parseExpression(!0);return this.tok.type===v._in||this.isContextual("of")?this.parseForIn(k,this.toAssignable(M)):this.parseFor(k,M);case v._function:return this.next(),this.parseFunction(k,!0);case v._if:return this.next(),k.test=this.parseParenExpression(),k.consequent=this.parseStatement(),k.alternate=this.eat(v._else)?this.parseStatement():null,this.finishNode(k,"IfStatement");case v._return:return this.next(),this.eat(v.semi)||this.canInsertSemicolon()?k.argument=null:(k.argument=this.parseExpression(),this.semicolon()),this.finishNode(k,"ReturnStatement");case v._switch:var F=this.curIndent,H=this.curLineStart;this.next(),k.discriminant=this.parseParenExpression(),k.cases=[],this.pushCx(),this.expect(v.braceL);for(var U=void 0;!this.closes(v.braceR,F,H,!0);)if(this.tok.type===v._case||this.tok.type===v._default){var Z=this.tok.type===v._case;U&&this.finishNode(U,"SwitchCase"),k.cases.push(U=this.startNode()),U.consequent=[],this.next(),Z?U.test=this.parseExpression():U.test=null,this.expect(v.colon)}else U||(k.cases.push(U=this.startNode()),U.consequent=[],U.test=null),U.consequent.push(this.parseStatement());return U&&this.finishNode(U,"SwitchCase"),this.popCx(),this.eat(v.braceR),this.finishNode(k,"SwitchStatement");case v._throw:return this.next(),k.argument=this.parseExpression(),this.semicolon(),this.finishNode(k,"ThrowStatement");case v._try:if(this.next(),k.block=this.parseBlock(),k.handler=null,this.tok.type===v._catch){var K=this.startNode();this.next(),this.expect(v.parenL),K.param=this.toAssignable(this.parseExprAtom()),this.expect(v.parenR),K.guard=null,K.body=this.parseBlock(),k.handler=this.finishNode(K,"CatchClause")}return k.finalizer=this.eat(v._finally)?this.parseBlock():null,!k.handler&&!k.finalizer?k.block:this.finishNode(k,"TryStatement");case v._var:case v._let:case v._const:return this.parseVar();case v._while:return this.next(),k.test=this.parseParenExpression(),k.body=this.parseStatement(),this.finishNode(k,"WhileStatement");case v._with:return this.next(),k.object=this.parseParenExpression(),k.body=this.parseStatement(),this.finishNode(k,"WithStatement");case v.braceL:return this.parseBlock();case v.semi:return this.next(),this.finishNode(k,"EmptyStatement");case v._class:return this.parseClass(!0);case v._import:return this.parseImport();case v._export:return this.parseExport();default:var fe=this.parseExpression();return c(fe)?(this.next(),this.tok.type===v.eof?this.finishNode(k,"EmptyStatement"):this.parseStatement()):_===v.name&&fe.type==="Identifier"&&this.eat(v.colon)?(k.body=this.parseStatement(),k.label=fe,this.finishNode(k,"LabeledStatement")):(k.expression=fe,this.semicolon(),this.finishNode(k,"ExpressionStatement"))}},E.parseBlock=function(){var _=this.startNode();this.pushCx(),this.expect(v.braceL);var k=this.curIndent,R=this.curLineStart;for(_.body=[];!this.closes(v.braceR,k,R,!0);)_.body.push(this.parseStatement());return this.popCx(),this.eat(v.braceR),this.finishNode(_,"BlockStatement")},E.parseFor=function(_,k){return _.init=k,_.test=_.update=null,this.eat(v.semi)&&this.tok.type!==v.semi&&(_.test=this.parseExpression()),this.eat(v.semi)&&this.tok.type!==v.parenR&&(_.update=this.parseExpression()),this.popCx(),this.expect(v.parenR),_.body=this.parseStatement(),this.finishNode(_,"ForStatement")},E.parseForIn=function(_,k){var R=this.tok.type===v._in?"ForInStatement":"ForOfStatement";return this.next(),_.left=k,_.right=this.parseExpression(),this.popCx(),this.expect(v.parenR),_.body=this.parseStatement(),this.finishNode(_,R)},E.parseVar=function(_){var k=this.startNode();k.kind=this.tok.type.keyword,this.next(),k.declarations=[];do{var R=this.startNode();R.id=this.options.ecmaVersion>=6?this.toAssignable(this.parseExprAtom()):this.parseIdent(),R.init=this.eat(v.eq)?this.parseMaybeAssign(_):null,k.declarations.push(this.finishNode(R,"VariableDeclarator"))}while(this.eat(v.comma));if(!k.declarations.length){var R=this.startNode();R.id=this.dummyIdent(),k.declarations.push(this.finishNode(R,"VariableDeclarator"))}return _||this.semicolon(),this.finishNode(k,"VariableDeclaration")},E.parseClass=function(_){var k=this.startNode();this.next(),this.tok.type===v.name?k.id=this.parseIdent():_?k.id=this.dummyIdent():k.id=null,k.superClass=this.eat(v._extends)?this.parseExpression():null,k.body=this.startNode(),k.body.body=[],this.pushCx();var R=this.curIndent+1,B=this.curLineStart;for(this.eat(v.braceL),this.curIndent+1<R&&(R=this.curIndent,B=this.curLineStart);!this.closes(v.braceR,R,B);)if(!this.semicolon()){var M=this.startNode(),F=void 0;if(this.options.ecmaVersion>=6&&(M.static=!1,F=this.eat(v.star)),this.parsePropertyName(M),c(M.key)){c(this.parseMaybeAssign())&&this.next(),this.eat(v.comma);continue}M.key.type==="Identifier"&&!M.computed&&M.key.name==="static"&&this.tok.type!=v.parenL&&this.tok.type!=v.braceL?(M.static=!0,F=this.eat(v.star),this.parsePropertyName(M)):M.static=!1,this.options.ecmaVersion>=5&&M.key.type==="Identifier"&&!M.computed&&(M.key.name==="get"||M.key.name==="set")&&this.tok.type!==v.parenL&&this.tok.type!==v.braceL?(M.kind=M.key.name,this.parsePropertyName(M),M.value=this.parseMethod(!1)):(!M.computed&&!M.static&&!F&&(M.key.type==="Identifier"&&M.key.name==="constructor"||M.key.type==="Literal"&&M.key.value==="constructor")?M.kind="constructor":M.kind="method",M.value=this.parseMethod(F)),k.body.body.push(this.finishNode(M,"MethodDefinition"))}return this.popCx(),this.eat(v.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.semicolon(),this.finishNode(k.body,"ClassBody"),this.finishNode(k,_?"ClassDeclaration":"ClassExpression")},E.parseFunction=function(_,k){return this.initFunction(_),this.options.ecmaVersion>=6&&(_.generator=this.eat(v.star)),this.tok.type===v.name?_.id=this.parseIdent():k&&(_.id=this.dummyIdent()),_.params=this.parseFunctionParams(),_.body=this.parseBlock(),this.finishNode(_,k?"FunctionDeclaration":"FunctionExpression")},E.parseExport=function(){var _=this.startNode();if(this.next(),this.eat(v.star))return _.source=this.eatContextual("from")?this.parseExprAtom():null,this.finishNode(_,"ExportAllDeclaration");if(this.eat(v._default)){var k=this.parseMaybeAssign();if(k.id)switch(k.type){case"FunctionExpression":k.type="FunctionDeclaration";break;case"ClassExpression":k.type="ClassDeclaration";break}return _.declaration=k,this.semicolon(),this.finishNode(_,"ExportDefaultDeclaration")}return this.tok.type.keyword?(_.declaration=this.parseStatement(),_.specifiers=[],_.source=null):(_.declaration=null,_.specifiers=this.parseExportSpecifierList(),_.source=this.eatContextual("from")?this.parseExprAtom():null,this.semicolon()),this.finishNode(_,"ExportNamedDeclaration")},E.parseImport=function(){var _=this.startNode();if(this.next(),this.tok.type===v.string)_.specifiers=[],_.source=this.parseExprAtom(),_.kind="";else{var k=void 0;this.tok.type===v.name&&this.tok.value!=="from"&&(k=this.startNode(),k.local=this.parseIdent(),this.finishNode(k,"ImportDefaultSpecifier"),this.eat(v.comma)),_.specifiers=this.parseImportSpecifierList(),_.source=this.eatContextual("from")?this.parseExprAtom():null,k&&_.specifiers.unshift(k)}return this.semicolon(),this.finishNode(_,"ImportDeclaration")},E.parseImportSpecifierList=function(){var _=[];if(this.tok.type===v.star){var k=this.startNode();this.next(),this.eatContextual("as")&&(k.local=this.parseIdent()),_.push(this.finishNode(k,"ImportNamespaceSpecifier"))}else{var R=this.curIndent,B=this.curLineStart,M=this.nextLineStart;for(this.pushCx(),this.eat(v.braceL),this.curLineStart>M&&(M=this.curLineStart);!this.closes(v.braceR,R+(this.curLineStart<=M?1:0),B);){var k=this.startNode();if(this.eat(v.star))this.eatContextual("as")&&(k.local=this.parseIdent()),this.finishNode(k,"ImportNamespaceSpecifier");else{if(this.isContextual("from"))break;k.imported=this.parseIdent(),k.local=this.eatContextual("as")?this.parseIdent():k.imported,this.finishNode(k,"ImportSpecifier")}_.push(k),this.eat(v.comma)}this.eat(v.braceR),this.popCx()}return _},E.parseExportSpecifierList=function(){var _=[],k=this.curIndent,R=this.curLineStart,B=this.nextLineStart;for(this.pushCx(),this.eat(v.braceL),this.curLineStart>B&&(B=this.curLineStart);!this.closes(v.braceR,k+(this.curLineStart<=B?1:0),R)&&!this.isContextual("from");){var M=this.startNode();M.local=this.parseIdent(),M.exported=this.eatContextual("as")?this.parseIdent():M.local,this.finishNode(M,"ExportSpecifier"),_.push(M),this.eat(v.comma)}return this.eat(v.braceR),this.popCx(),_}},{"..":2,"./parseutil":4,"./state":5}],7:[function(a,t,r){var n=a(".."),c=n.tokTypes,p=n.Token,y=n.isNewLine,v=n.SourceLocation,E=n.getLineInfo,_=n.lineBreakG,k=a("./state").LooseParser,R=k.prototype;function B(M){return M<14&&M>8||M===32||M===160||y(M)}R.next=function(){if(this.last=this.tok,this.ahead.length?this.tok=this.ahead.shift():this.tok=this.readToken(),this.tok.start>=this.nextLineStart){for(;this.tok.start>=this.nextLineStart;)this.curLineStart=this.nextLineStart,this.nextLineStart=this.lineEnd(this.curLineStart)+1;this.curIndent=this.indentationAfter(this.curLineStart)}},R.readToken=function(){for(;;)try{return this.toks.next(),this.toks.type===c.dot&&this.input.substr(this.toks.end,1)==="."&&this.options.ecmaVersion>=6&&(this.toks.end++,this.toks.type=c.ellipsis),new p(this.toks)}catch(K){if(!(K instanceof SyntaxError))throw K;var M=K.message,F=K.raisedAt,H=!0;if(/unterminated/i.test(M))if(F=this.lineEnd(K.pos+1),/string/.test(M))H={start:K.pos,end:F,type:c.string,value:this.input.slice(K.pos+1,F)};else if(/regular expr/i.test(M)){var U=this.input.slice(K.pos,F);try{U=new RegExp(U)}catch{}H={start:K.pos,end:F,type:c.regexp,value:U}}else/template/.test(M)?H={start:K.pos,end:F,type:c.template,value:this.input.slice(K.pos,F)}:H=!1;else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number/i.test(M))for(;F<this.input.length&&!B(this.input.charCodeAt(F));)++F;else if(/character escape|expected hexadecimal/i.test(M))for(;F<this.input.length;){var Z=this.input.charCodeAt(F++);if(Z===34||Z===39||y(Z))break}else if(/unexpected character/i.test(M))F++,H=!1;else if(/regular expression/i.test(M))H=!0;else throw K;if(this.resetTo(F),H===!0&&(H={start:F,end:F,type:c.name,value:"\u2716"}),H)return this.options.locations&&(H.loc=new v(this.toks,E(this.input,H.start),E(this.input,H.end))),H}},R.resetTo=function(M){this.toks.pos=M;var F=this.input.charAt(M-1);if(this.toks.exprAllowed=!F||/[\[\{\(,;:?\/*=+\-~!|&%^<>]/.test(F)||/[enwfd]/.test(F)&&/\b(keywords|case|else|return|throw|new|in|(instance|type)of|delete|void)$/.test(this.input.slice(M-10,M)),this.options.locations){this.toks.curLine=1,this.toks.lineStart=_.lastIndex=0;for(var H=void 0;(H=_.exec(this.input))&&H.index<M;)++this.toks.curLine,this.toks.lineStart=H.index+H[0].length}},R.lookAhead=function(M){for(;M>this.ahead.length;)this.ahead.push(this.readToken());return this.ahead[M-1]}},{"..":2,"./state":5}]},{},[1])(1)});(function(a){if(typeof exports=="object"&&typeof module!="undefined")module.exports=a();else if(typeof define=="function"&&define.amd)define([],a);else{var t;typeof window!="undefined"?t=window:typeof global!="undefined"?t=global:typeof self!="undefined"?t=self:t=this,(t.acorn||(t.acorn={})).walk=a()}})(function(){return function a(t,r,n){function c(v,E){if(!r[v]){if(!t[v]){var _=typeof require=="function"&&require;if(!E&&_)return _(v,!0);if(p)return p(v,!0);var k=new Error("Cannot find module '"+v+"'");throw k.code="MODULE_NOT_FOUND",k}var R=r[v]={exports:{}};t[v][0].call(R.exports,function(B){var M=t[v][1][B];return c(M||B)},R,R.exports,a,t,r,n)}return r[v].exports}for(var p=typeof require=="function"&&require,y=0;y<n.length;y++)c(n[y]);return c}({1:[function(a,t,r){var n=function(Z,K){if(!(Z instanceof K))throw new TypeError("Cannot call a class as a function")};r.simple=c,r.ancestor=p,r.recursive=y,r.findNodeAt=_,r.findNodeAround=k,r.findNodeAfter=R,r.findNodeBefore=B,r.make=M,Object.defineProperty(r,"__esModule",{value:!0});function c(Z,K,fe,oe){fe||(fe=r.base),function we(be,ve,ne){var ae=ne||be.type,ye=K[ae];fe[ae](be,ve,we),ye&&ye(be,ve)}(Z,oe)}function p(Z,K,fe,oe){fe||(fe=r.base),oe||(oe=[]),function we(be,ve,ne){var ae=ne||be.type,ye=K[ae];be!=ve[ve.length-1]&&(ve=ve.slice(),ve.push(be)),fe[ae](be,ve,we),ye&&ye(be,ve)}(Z,oe)}function y(Z,K,fe,oe){var we=fe?r.make(fe,oe):oe;(function be(ve,ne,ae){we[ae||ve.type](ve,ne,be)})(Z,K)}function v(Z){return typeof Z=="string"?function(K){return K==Z}:Z||function(){return!0}}var E=function Z(K,fe){n(this,Z),this.node=K,this.state=fe};function _(Z,K,fe,oe,we,be){oe=v(oe),we||(we=r.base);try{(function ve(ne,ae,ye){var de=ye||ne.type;if((K==null||ne.start<=K)&&(fe==null||ne.end>=fe)&&we[de](ne,ae,ve),oe(de,ne)&&(K==null||ne.start==K)&&(fe==null||ne.end==fe))throw new E(ne,ae)})(Z,be)}catch(ve){if(ve instanceof E)return ve;throw ve}}function k(Z,K,fe,oe,we){fe=v(fe),oe||(oe=r.base);try{(function be(ve,ne,ae){var ye=ae||ve.type;if(!(ve.start>K||ve.end<K)&&(oe[ye](ve,ne,be),fe(ye,ve)))throw new E(ve,ne)})(Z,we)}catch(be){if(be instanceof E)return be;throw be}}function R(Z,K,fe,oe,we){fe=v(fe),oe||(oe=r.base);try{(function be(ve,ne,ae){if(!(ve.end<K)){var ye=ae||ve.type;if(ve.start>=K&&fe(ye,ve))throw new E(ve,ne);oe[ye](ve,ne,be)}})(Z,we)}catch(be){if(be instanceof E)return be;throw be}}function B(Z,K,fe,oe,we){fe=v(fe),oe||(oe=r.base);var be=void 0;return function ve(ne,ae,ye){if(!(ne.start>K)){var de=ye||ne.type;ne.end<=K&&(!be||be.node.end<ne.end)&&fe(de,ne)&&(be=new E(ne,ae)),oe[de](ne,ae,ve)}}(Z,we),be}function M(Z,K){K||(K=r.base);var fe={};for(var oe in K)fe[oe]=K[oe];for(var oe in Z)fe[oe]=Z[oe];return fe}function F(Z,K,fe){fe(Z,K)}function H(Z,K,fe){}var U={};r.base=U,U.Program=U.BlockStatement=function(Z,K,fe){for(var oe=0;oe<Z.body.length;++oe)fe(Z.body[oe],K,"Statement")},U.Statement=F,U.EmptyStatement=H,U.ExpressionStatement=U.ParenthesizedExpression=function(Z,K,fe){return fe(Z.expression,K,"Expression")},U.IfStatement=function(Z,K,fe){fe(Z.test,K,"Expression"),fe(Z.consequent,K,"Statement"),Z.alternate&&fe(Z.alternate,K,"Statement")},U.LabeledStatement=function(Z,K,fe){return fe(Z.body,K,"Statement")},U.BreakStatement=U.ContinueStatement=H,U.WithStatement=function(Z,K,fe){fe(Z.object,K,"Expression"),fe(Z.body,K,"Statement")},U.SwitchStatement=function(Z,K,fe){fe(Z.discriminant,K,"Expression");for(var oe=0;oe<Z.cases.length;++oe){var we=Z.cases[oe];we.test&&fe(we.test,K,"Expression");for(var be=0;be<we.consequent.length;++be)fe(we.consequent[be],K,"Statement")}},U.ReturnStatement=U.YieldExpression=function(Z,K,fe){Z.argument&&fe(Z.argument,K,"Expression")},U.ThrowStatement=U.SpreadElement=U.RestElement=function(Z,K,fe){return fe(Z.argument,K,"Expression")},U.TryStatement=function(Z,K,fe){fe(Z.block,K,"Statement"),Z.handler&&fe(Z.handler.body,K,"ScopeBody"),Z.finalizer&&fe(Z.finalizer,K,"Statement")},U.WhileStatement=U.DoWhileStatement=function(Z,K,fe){fe(Z.test,K,"Expression"),fe(Z.body,K,"Statement")},U.ForStatement=function(Z,K,fe){Z.init&&fe(Z.init,K,"ForInit"),Z.test&&fe(Z.test,K,"Expression"),Z.update&&fe(Z.update,K,"Expression"),fe(Z.body,K,"Statement")},U.ForInStatement=U.ForOfStatement=function(Z,K,fe){fe(Z.left,K,"ForInit"),fe(Z.right,K,"Expression"),fe(Z.body,K,"Statement")},U.ForInit=function(Z,K,fe){Z.type=="VariableDeclaration"?fe(Z,K):fe(Z,K,"Expression")},U.DebuggerStatement=H,U.FunctionDeclaration=function(Z,K,fe){return fe(Z,K,"Function")},U.VariableDeclaration=function(Z,K,fe){for(var oe=0;oe<Z.declarations.length;++oe){var we=Z.declarations[oe];we.init&&fe(we.init,K,"Expression")}},U.Function=function(Z,K,fe){return fe(Z.body,K,"ScopeBody")},U.ScopeBody=function(Z,K,fe){return fe(Z,K,"Statement")},U.Expression=F,U.ThisExpression=U.Super=U.MetaProperty=H,U.ArrayExpression=U.ArrayPattern=function(Z,K,fe){for(var oe=0;oe<Z.elements.length;++oe){var we=Z.elements[oe];we&&fe(we,K,"Expression")}},U.ObjectExpression=U.ObjectPattern=function(Z,K,fe){for(var oe=0;oe<Z.properties.length;++oe)fe(Z.properties[oe],K)},U.FunctionExpression=U.ArrowFunctionExpression=U.FunctionDeclaration,U.SequenceExpression=U.TemplateLiteral=function(Z,K,fe){for(var oe=0;oe<Z.expressions.length;++oe)fe(Z.expressions[oe],K,"Expression")},U.UnaryExpression=U.UpdateExpression=function(Z,K,fe){fe(Z.argument,K,"Expression")},U.BinaryExpression=U.AssignmentExpression=U.AssignmentPattern=U.LogicalExpression=function(Z,K,fe){fe(Z.left,K,"Expression"),fe(Z.right,K,"Expression")},U.ConditionalExpression=function(Z,K,fe){fe(Z.test,K,"Expression"),fe(Z.consequent,K,"Expression"),fe(Z.alternate,K,"Expression")},U.NewExpression=U.CallExpression=function(Z,K,fe){if(fe(Z.callee,K,"Expression"),Z.arguments)for(var oe=0;oe<Z.arguments.length;++oe)fe(Z.arguments[oe],K,"Expression")},U.MemberExpression=function(Z,K,fe){fe(Z.object,K,"Expression"),Z.computed&&fe(Z.property,K,"Expression")},U.ExportDeclaration=function(Z,K,fe){return fe(Z.declaration,K)},U.ImportDeclaration=function(Z,K,fe){for(var oe=0;oe<Z.specifiers.length;oe++)fe(Z.specifiers[oe],K)},U.ImportSpecifier=U.ImportBatchSpecifier=U.Identifier=U.Literal=H,U.TaggedTemplateExpression=function(Z,K,fe){fe(Z.tag,K,"Expression"),fe(Z.quasi,K)},U.ClassDeclaration=U.ClassExpression=function(Z,K,fe){Z.superClass&&fe(Z.superClass,K,"Expression");for(var oe=0;oe<Z.body.body.length;oe++)fe(Z.body.body[oe],K)},U.MethodDefinition=U.Property=function(Z,K,fe){Z.computed&&fe(Z.key,K,"Expression"),fe(Z.value,K,"Expression")},U.ComprehensionExpression=function(Z,K,fe){for(var oe=0;oe<Z.blocks.length;oe++)fe(Z.blocks[oe].right,K,"Expression");fe(Z.body,K,"Expression")}},{}]},{},[1])(1)});(function(){Object.create=Object.create||function(){if(!({__proto__:null}instanceof Object))return function(c){return{__proto__:c}};function t(){}var r=document.body.appendChild(document.createElement("iframe"));r.src="javascript:";var n=r.contentWindow.Object.prototype;return delete n.hasOwnProperty,delete n.isPrototypeOf,delete n.propertyIsEnumerable,delete n.valueOf,delete n.toString,delete n.toLocaleString,delete n.constructor,function(c){return t.prototype=c||n,new t}}();var a=Array.prototype;a.some=a.some||function(t){for(var r=0;r<this.length;++r)if(t(this[r],r))return!0},a.forEach=a.forEach||function(t){for(var r=0;r<this.length;++r)t(this[r],r)},a.indexOf=a.indexOf||function(t,r){for(var n=r||0;n<this.length;++n)if(this[n]===t)return n;return-1},a.lastIndexOf=a.lastIndexOf||function(t,r){for(var n=r==null?this.length-1:r;n>=0;++n)if(this[n]===t)return n;return-1},a.map=a.map||function(t){for(var r=[],n=0;n<this.length;++n)r.push(t(this[n],n));return r},Array.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},String.prototype.trim=String.prototype.trim||function(){for(var t=0,r=this.length;/\s/.test(this.charAt(t));)++t;for(;/\s/.test(this.charAt(r-1));)--r;return this.slice(t,r)};/*! JSON v3.2.4 | http://bestiejs.github.com/json3 | Copyright 2012, Kit Cambridge | http://kit.mit-license.org */window.JSON||function(){var t=void 0,r=!0,n=null,c={}.toString,p,y,v=typeof define=="function"&&define.c,E=!v&&typeof exports=="object"&&exports;E||v?typeof JSON=="object"&&JSON?v?E=JSON:(E.stringify=JSON.stringify,E.parse=JSON.parse):v&&(E=this.JSON={}):E=this.JSON||(this.JSON={});var _,k,R,B,M,F,H,U,Z,K,fe,oe,we,be=new Date(-0xc782b5b800cec),ve,ne,ae;try{be=be.getUTCFullYear()==-109252&&be.getUTCMonth()===0&&be.getUTCDate()==1&&be.getUTCHours()==10&&be.getUTCMinutes()==37&&be.getUTCSeconds()==6&&be.getUTCMilliseconds()==708}catch{}function ye(de){var xe,le,re,he=de=="json";if(he||de=="json-stringify"||de=="json-parse"){if(de=="json-stringify"||he){if(xe=typeof E.stringify=="function"&&be){(re=function(){return 1}).toJSON=re;try{xe=E.stringify(0)==="0"&&E.stringify(new Number)==="0"&&E.stringify(new String)=='""'&&E.stringify(c)===t&&E.stringify(t)===t&&E.stringify()===t&&E.stringify(re)==="1"&&E.stringify([re])=="[1]"&&E.stringify([t])=="[null]"&&E.stringify(n)=="null"&&E.stringify([t,c,n])=="[null,null,null]"&&E.stringify({A:[re,r,!1,n,`\0\b
\f\r	`]})=='{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'&&E.stringify(n,re)==="1"&&E.stringify([1,2],n,1)==`[
 1,
 2
]`&&E.stringify(new Date(-864e13))=='"-271821-04-20T00:00:00.000Z"'&&E.stringify(new Date(864e13))=='"+275760-09-13T00:00:00.000Z"'&&E.stringify(new Date(-621987552e5))=='"-000001-01-01T00:00:00.000Z"'&&E.stringify(new Date(-1))=='"1969-12-31T23:59:59.999Z"'}catch{xe=!1}}if(!he)return xe}if(de=="json-parse"||he){if(typeof E.parse=="function")try{if(E.parse("0")===0&&!E.parse(!1)&&(re=E.parse('{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'),le=re.a.length==5&&re.a[0]==1)){try{le=!E.parse('"	"')}catch{}if(le)try{le=E.parse("01")!=1}catch{}}}catch{le=!1}if(!he)return le}return xe&&le}}ye("json")||(be||(ve=Math.floor,ne=[0,31,59,90,120,151,181,212,243,273,304,334],ae=function(de,xe){return ne[xe]+365*(de-1970)+ve((de-1969+(xe=+(xe>1)))/4)-ve((de-1901+xe)/100)+ve((de-1601+xe)/400)}),(p={}.hasOwnProperty)||(p=function(de){var xe={},le;return(xe.__proto__=n,xe.__proto__={toString:1},xe).toString!=c?p=function(me){var he=this.__proto__,me=me in(this.__proto__=n,this);return this.__proto__=he,me}:(le=xe.constructor,p=function(re){var he=(this.constructor||le).prototype;return re in this&&!(re in he&&this[re]===he[re])}),xe=n,p.call(this,de)}),y=function(de,xe){var le=0,re,he,me;(re=function(){this.valueOf=0}).prototype.valueOf=0,he=new re;for(me in he)p.call(he,me)&&le++;re=he=n,le?le=le==2?function(Re,Ie){var Ne={},Qe=c.call(Re)=="[object Function]",Ue;for(Ue in Re)!(Qe&&Ue=="prototype")&&!p.call(Ne,Ue)&&(Ne[Ue]=1)&&p.call(Re,Ue)&&Ie(Ue)}:function(Re,Ie){var Ne=c.call(Re)=="[object Function]",Qe,Ue;for(Qe in Re)!(Ne&&Qe=="prototype")&&p.call(Re,Qe)&&!(Ue=Qe==="constructor")&&Ie(Qe);(Ue||p.call(Re,Qe="constructor"))&&Ie(Qe)}:(he=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],le=function(Re,Ie){var Ne=c.call(Re)=="[object Function]",Qe;for(Qe in Re)!(Ne&&Qe=="prototype")&&p.call(Re,Qe)&&Ie(Qe);for(Ne=he.length;Qe=he[--Ne];p.call(Re,Qe)&&Ie(Qe));}),le(de,xe)},ye("json-stringify")||(_={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},k=function(de,xe){return("000000"+(xe||0)).slice(-de)},R=function(de){for(var xe='"',le=0,re;re=de.charAt(le);le++)xe=xe+(`\\"\b\f
\r	`.indexOf(re)>-1?_[re]:_[re]=re<" "?"\\u00"+k(2,re.charCodeAt(0).toString(16)):re);return xe+'"'},B=function(de,xe,le,re,he,me,Re){var Ie=xe[de],Ne,Qe,Ue,ce,Me,ot,Se,Xe,ct;if(typeof Ie=="object"&&Ie)if(Ne=c.call(Ie),Ne=="[object Date]"&&!p.call(Ie,"toJSON"))if(Ie>-1/0&&Ie<1/0){if(ae){for(Ue=ve(Ie/864e5),Ne=ve(Ue/365.2425)+1970-1;ae(Ne+1,0)<=Ue;Ne++);for(Qe=ve((Ue-ae(Ne,0))/30.42);ae(Ne,Qe+1)<=Ue;Qe++);Ue=1+Ue-ae(Ne,Qe),ce=(Ie%864e5+864e5)%864e5,Me=ve(ce/36e5)%24,ot=ve(ce/6e4)%60,Se=ve(ce/1e3)%60,ce=ce%1e3}else Ne=Ie.getUTCFullYear(),Qe=Ie.getUTCMonth(),Ue=Ie.getUTCDate(),Me=Ie.getUTCHours(),ot=Ie.getUTCMinutes(),Se=Ie.getUTCSeconds(),ce=Ie.getUTCMilliseconds();Ie=(Ne<=0||Ne>=1e4?(Ne<0?"-":"+")+k(6,Ne<0?-Ne:Ne):k(4,Ne))+"-"+k(2,Qe+1)+"-"+k(2,Ue)+"T"+k(2,Me)+":"+k(2,ot)+":"+k(2,Se)+"."+k(3,ce)+"Z"}else Ie=n;else typeof Ie.toJSON=="function"&&(Ne!="[object Number]"&&Ne!="[object String]"&&Ne!="[object Array]"||p.call(Ie,"toJSON"))&&(Ie=Ie.toJSON(de));if(le&&(Ie=le.call(xe,de,Ie)),Ie===n)return"null";if(Ne=c.call(Ie),Ne=="[object Boolean]")return""+Ie;if(Ne=="[object Number]")return Ie>-1/0&&Ie<1/0?""+Ie:"null";if(Ne=="[object String]")return R(Ie);if(typeof Ie=="object"){for(de=Re.length;de--;)if(Re[de]===Ie)throw TypeError();if(Re.push(Ie),Xe=[],xe=me,me=me+he,Ne=="[object Array]"){for(Qe=0,de=Ie.length;Qe<de;ct||(ct=r),Qe++)Ne=B(Qe,Ie,le,re,he,me,Re),Xe.push(Ne===t?"null":Ne);de=ct?he?`[
`+me+Xe.join(`,
`+me)+`
`+xe+"]":"["+Xe.join(",")+"]":"[]"}else y(re||Ie,function($e){var Et=B($e,Ie,le,re,he,me,Re);Et!==t&&Xe.push(R($e)+":"+(he?" ":"")+Et),ct||(ct=r)}),de=ct?he?`{
`+me+Xe.join(`,
`+me)+`
`+xe+"}":"{"+Xe.join(",")+"}":"{}";return Re.pop(),de}},E.stringify=function(de,xe,le){var re,he,me,Re,Ie,Ne;if(typeof xe=="function"||typeof xe=="object"&&xe){if(c.call(xe)=="[object Function]")he=xe;else if(c.call(xe)=="[object Array]")for(me={},Re=0,Ie=xe.length;Re<Ie;Ne=xe[Re++],(c.call(Ne)=="[object String]"||c.call(Ne)=="[object Number]")&&(me[Ne]=1));}if(le)if(c.call(le)=="[object Number]"){if((le=le-le%1)>0)for(re="",le>10&&(le=10);re.length<le;re=re+" ");}else c.call(le)=="[object String]"&&(re=le.length<=10?le:le.slice(0,10));return B("",(Ne={},Ne[""]=de,Ne),he,me,re,"",[])}),ye("json-parse")||(M=String.fromCharCode,F={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"	",n:`
`,f:"\f",r:"\r"},H=function(){throw oe=we=n,SyntaxError()},U=function(){for(var de=we,xe=de.length,le,re,he,me,Re;oe<xe;)if(le=de.charAt(oe),`	\r
 `.indexOf(le)>-1)oe++;else{if("{}[]:,".indexOf(le)>-1)return oe++,le;if(le=='"'){for(re="@",oe++;oe<xe;)if(le=de.charAt(oe),le<" ")H();else if(le=="\\")if(le=de.charAt(++oe),'\\"/btnfr'.indexOf(le)>-1)re=re+F[le],oe++;else if(le=="u"){for(he=++oe,me=oe+4;oe<me;oe++)le=de.charAt(oe),le>="0"&&le<="9"||le>="a"&&le<="f"||le>="A"&&le<="F"||H();re=re+M("0x"+de.slice(he,oe))}else H();else{if(le=='"')break;re=re+le,oe++}if(de.charAt(oe)=='"')return oe++,re}else{if(he=oe,le=="-"&&(Re=r,le=de.charAt(++oe)),le>="0"&&le<="9"){for(le=="0"&&(le=de.charAt(oe+1),le>="0"&&le<="9")&&H();oe<xe&&(le=de.charAt(oe),le>="0"&&le<="9");oe++);if(de.charAt(oe)=="."){for(me=++oe;me<xe&&(le=de.charAt(me),le>="0"&&le<="9");me++);me==oe&&H(),oe=me}if(le=de.charAt(oe),le=="e"||le=="E"){for(le=de.charAt(++oe),(le=="+"||le=="-")&&oe++,me=oe;me<xe&&(le=de.charAt(me),le>="0"&&le<="9");me++);me==oe&&H(),oe=me}return+de.slice(he,oe)}if(Re&&H(),de.slice(oe,oe+4)=="true")return oe=oe+4,r;if(de.slice(oe,oe+5)=="false")return oe=oe+5,!1;if(de.slice(oe,oe+4)=="null")return oe=oe+4,n}H()}return"$"},Z=function(de){var xe,le;if(de=="$"&&H(),typeof de=="string"){if(de.charAt(0)=="@")return de.slice(1);if(de=="["){for(xe=[];de=U(),de!="]";le||(le=r))le&&(de==","?(de=U(),de=="]"&&H()):H()),de==","&&H(),xe.push(Z(de));return xe}if(de=="{"){for(xe={};de=U(),de!="}";le||(le=r))le&&(de==","?(de=U(),de=="}"&&H()):H()),(de==","||typeof de!="string"||de.charAt(0)!="@"||U()!=":")&&H(),xe[de.slice(1)]=Z(U());return xe}H()}return de},fe=function(de,xe,le){le=K(de,xe,le),le===t?delete de[xe]:de[xe]=le},K=function(de,xe,le){var re=de[xe],he;if(typeof re=="object"&&re)if(c.call(re)=="[object Array]")for(he=re.length;he--;)fe(re,he,le);else y(re,function(me){fe(re,me,le)});return le.call(de,xe,re)},E.parse=function(de,xe){var le,re;return oe=0,we=de,le=Z(U()),U()!="$"&&H(),oe=we=n,xe&&c.call(xe)=="[object Function]"?K((re={},re[""]=le,re),"",xe):le})),v&&define(function(){return E})}()})();(function(a,t){if(typeof exports=="object"&&typeof module=="object")return t(exports);if(typeof define=="function"&&define.amd)return define(["exports"],t);t((a.tern||(a.tern={})).signal={})})(globalThis,function(a){function t(c,p){var y=this._handlers||(this._handlers=Object.create(null));(y[c]||(y[c]=[])).push(p)}function r(c,p){var y=this._handlers&&this._handlers[c];if(y){for(var v=0;v<y.length;++v)if(y[v]==p){y.splice(v,1);break}}}function n(c,p,y,v,E){var _=this._handlers&&this._handlers[c];if(_)for(var k=0;k<_.length;++k)_[k].call(this,p,y,v,E)}a.mixin=function(c){return c.on=t,c.off=r,c.signal=n,c}});(function(a,t){if(typeof exports=="object"&&typeof module=="object")return t(exports,require("./infer"),require("./signal"),require("../acorn/acorn"),require("../acorn/walk"));if(typeof define=="function"&&define.amd)return define(["exports","./infer","./signal","../acorn/acorn","../acorn/walk"],t);t(a.tern||(a.tern={}),tern,tern.signal,acorn,acorn.walk)})(globalThis,function(a,t,r,n,c){var p=Object.create(null);a.registerPlugin=function(xt,kt){p[xt]=kt};var y=a.defaultOptions={debug:!1,async:!1,getFile:function(xt,kt){this.async&&kt(null,null)},defs:[],plugins:{},fetchTimeout:1e3,dependencyBudget:2e4,reuseInstances:!0,stripCRs:!1},v={completions:{takesFile:!0,run:ce},properties:{run:Me},type:{takesFile:!0,run:$e},documentation:{takesFile:!0,run:Et},definition:{takesFile:!0,run:Ht},refs:{takesFile:!0,fullFile:!0,run:Ur},rename:{takesFile:!0,fullFile:!0,run:Yr},files:{run:oi}};a.defineQueryType=function(xt,kt){v[xt]=kt};function E(xt,kt){this.name=xt,this.parent=kt,this.scope=this.text=this.ast=this.lineOffsets=null}E.prototype.asLineChar=function(xt){return re(this,xt)};function _(xt,kt,rr){xt.text=rr.options.stripCRs?kt.replace(/\r\n/g,`
`):kt,t.withContext(rr.cx,function(){xt.ast=t.parse(xt.text,rr.passes,{directSourceFile:xt,allowReturnOutsideFunction:!0})}),xt.lineOffsets=null}var k=a.Server=function(xt){this.cx=null,this.options=xt||{};for(var kt in y)xt.hasOwnProperty(kt)||(xt[kt]=y[kt]);this.handlers=Object.create(null),this.files=[],this.fileMap=Object.create(null),this.needsPurge=[],this.budgets=Object.create(null),this.uses=0,this.pending=0,this.asyncError=null,this.passes=Object.create(null),this.defs=xt.defs.slice(0);for(var rr in xt.plugins)if(xt.plugins.hasOwnProperty(rr)&&rr in p){var mt=p[rr](this,xt.plugins[rr]);if(mt&&mt.defs&&(mt.loadFirst?this.defs.unshift(mt.defs):this.defs.push(mt.defs)),mt&&mt.passes)for(var ft in mt.passes)mt.passes.hasOwnProperty(ft)&&(this.passes[ft]||(this.passes[ft]=[])).push(mt.passes[ft])}this.reset()};k.prototype=r.mixin({addFile:function(xt,kt,rr){rr&&!(rr in this.fileMap)&&(rr=null),M(this,xt,rr,kt)},delFile:function(xt){var kt=this.findFile(xt);kt&&(this.needsPurge.push(kt.name),this.files.splice(this.files.indexOf(kt),1),delete this.fileMap[xt])},reset:function(){this.signal("reset"),this.cx=new t.Context(this.defs,this),this.uses=0,this.budgets=Object.create(null);for(var xt=0;xt<this.files.length;++xt){var kt=this.files[xt];kt.scope=null}},request:function(xt,kt){var rr=ye(xt);if(rr)return kt(rr);var mt=this;R(this,xt,function(ft,Ut){kt(ft,Ut),mt.uses>40&&(mt.reset(),H(mt,null,function(){}))})},findFile:function(xt){return this.fileMap[xt]},flush:function(xt){var kt=this.cx;H(this,null,function(rr){if(rr)return xt(rr);t.withContext(kt,xt)})},startAsyncAction:function(){++this.pending},finishAsyncAction:function(xt){xt&&(this.asyncError=xt),--this.pending===0&&this.signal("everythingFetched")}});function R(xt,kt,rr){if(kt.query&&!v.hasOwnProperty(kt.query.type))return rr("No query type '"+kt.query.type+"' defined");var mt=kt.query;mt||rr(null,{});var ft=kt.files||[];ft.length&&++xt.uses;for(var Ut=0;Ut<ft.length;++Ut){var ir=ft[Ut];ir.type=="delete"?xt.delFile(ir.name):M(xt,ir.name,null,ir.type=="full"?ir.text:null)}var vr=typeof kt.timeout=="number"?[kt.timeout]:null;if(!mt){H(xt,vr,function(){});return}var nt=v[mt.type];if(nt.takesFile){if(typeof mt.file!="string")return rr(".query.file must be a string");/^#/.test(mt.file)||M(xt,mt.file,null)}H(xt,vr,function(De){if(De)return rr(De);var Te=nt.takesFile&&oe(xt,ft,mt.file);if(nt.fullFile&&Te.type=="part")return rr("Can't run a "+mt.type+" query on a file fragment");function gt(){var zt;try{zt=nt.run(xt,mt,Te)}catch(Bt){return xt.options.debug&&Bt.name!="TernError"&&console.error(Bt.stack),rr(Bt)}rr(null,zt)}t.withContext(xt.cx,vr?function(){t.withTimeout(vr[0],gt)}:gt)})}function B(xt,kt){return t.withContext(xt.cx,function(){kt.scope=xt.cx.topScope,xt.signal("beforeLoad",kt),t.analyze(kt.ast,kt.name,kt.scope,xt.passes),xt.signal("afterLoad",kt)}),kt}function M(xt,kt,rr,mt){var ft=xt.findFile(kt);if(ft){mt!=null&&(ft.scope&&(xt.needsPurge.push(kt),ft.scope=null),_(ft,mt,xt)),be(xt,ft.parent)>be(xt,rr)&&(ft.parent=rr,ft.excluded&&(ft.excluded=null));return}var Ut=new E(kt,rr);xt.files.push(Ut),xt.fileMap[kt]=Ut,mt!=null?_(Ut,mt,xt):xt.options.async?(xt.startAsyncAction(),xt.options.getFile(kt,function(ir,vr){_(Ut,vr||"",xt),xt.finishAsyncAction(ir)})):_(Ut,xt.options.getFile(kt)||"",xt)}function F(xt,kt,rr){var mt=function(){xt.off("everythingFetched",mt),clearTimeout(ft),H(xt,kt,rr)};xt.on("everythingFetched",mt);var ft=setTimeout(mt,xt.options.fetchTimeout)}function H(xt,kt,rr){if(xt.pending)return F(xt,kt,rr);var mt=xt.fetchError;if(mt)return xt.fetchError=null,rr(mt);xt.needsPurge.length>0&&t.withContext(xt.cx,function(){t.purge(xt.needsPurge),xt.needsPurge.length=0});for(var ft=!0,Ut=0;Ut<xt.files.length;){for(var ir=[];Ut<xt.files.length;++Ut){var vr=xt.files[Ut];vr.text==null?ft=!1:vr.scope==null&&!vr.excluded&&ir.push(vr)}ir.sort(function(Te,gt){return be(xt,Te.parent)-be(xt,gt.parent)});for(var nt=0;nt<ir.length;nt++){var vr=ir[nt];if(vr.parent&&!ne(xt,vr))vr.excluded=!0;else if(kt){var De=+new Date;t.withTimeout(kt[0],function(){B(xt,vr)}),kt[0]-=+new Date-De}else B(xt,vr)}}ft?rr():F(xt,kt,rr)}function U(xt){var kt=xt.indexOf(`
`);return kt<0?xt:xt.slice(0,kt)}function Z(xt,kt,rr){var mt=Math.max(0,rr-500),ft=null;if(!/^\s*$/.test(xt))for(;;){var Ut=kt.indexOf(xt,mt);if(Ut<0||Ut>rr+500)break;(ft==null||Math.abs(ft-rr)>Math.abs(Ut-rr))&&(ft=Ut),mt=Ut+xt.length}return ft}function K(xt){for(var kt=0;xt;++kt,xt=xt.prev);return kt}function fe(xt){var kt=new Error(xt);return kt.name="TernError",kt}function oe(xt,kt,rr){var mt=rr.match(/^#(\d+)$/);if(!mt)return xt.findFile(rr);var ft=kt[mt[1]];if(!ft||ft.type=="delete")throw fe("Reference to unknown file "+rr);if(ft.type=="full")return xt.findFile(ft.name);var Ut=ft.backing=xt.findFile(ft.name),ir;ft.offset=ir=le(Ut,ft.offsetLines==null?ft.offset:{line:ft.offsetLines,ch:0},!0);var vr=U(ft.text),nt=Z(vr,Ut.text,ir),De=nt==null?Math.max(0,Ut.text.lastIndexOf(`
`,ir)):nt,Te,gt;return t.withContext(xt.cx,function(){t.purge(ft.name,De,De+ft.text.length);var zt=ft.text,Bt;if(Bt=zt.match(/(?:"([^"]*)"|([\w$]+))\s*:\s*function\b/)){var bt=c.findNodeAround(ft.backing.ast,De,"ObjectExpression");bt&&bt.node.objType&&(Te={type:bt.node.objType,prop:Bt[2]||Bt[1]})}if(nt&&(Bt=vr.match(/^(.*?)\bfunction\b/))){for(var Rr=Bt[1].length,Ct="",Nt=0;Nt<Rr;++Nt)Ct+=" ";zt=Ct+zt.slice(Rr),gt=!0}var lr=t.scopeAt(Ut.ast,De,Ut.scope),Sr=t.scopeAt(Ut.ast,De+zt.length,Ut.scope),Vr=ft.scope=K(lr)<K(Sr)?Sr:lr;ft.ast=t.parse(zt,xt.passes,{directSourceFile:ft,allowReturnOutsideFunction:!0}),t.analyze(ft.ast,ft.name,Vr,xt.passes);e:if(Te||gt){var gi=t.scopeAt(ft.ast,vr.length,lr);if(!gi.fnType)break e;if(Te){var ki=Te.type.getProp(Te.prop);ki.addType(gi.fnType)}else if(gt){var mi=t.scopeAt(Ut.ast,De+vr.length,Ut.scope);if(mi==lr||!mi.fnType)break e;var Fe=mi.fnType,Ke=gi.fnType;if(!Ke||Ke.name!=Fe.name&&Fe.name)break e;for(var Nt=0,dt=Math.min(Fe.args.length,Ke.args.length);Nt<dt;++Nt)Fe.args[Nt].propagate(Ke.args[Nt]);Fe.self.propagate(Ke.self),Ke.retval.propagate(Fe.retval)}}}),ft}function we(xt){var kt=0;return c.simple(xt,{Expression:function(){++kt}}),kt}function be(xt,kt){for(var rr=0;kt;)kt=xt.findFile(kt).parent,++rr;return rr}function ve(xt,kt){for(;;){var rr=xt.findFile(kt.parent);if(!rr.parent)break;kt=rr}return kt.name}function ne(xt,kt){var rr=ve(xt,kt),mt=we(kt.ast),ft=xt.budgets[rr];return ft==null&&(ft=xt.budgets[rr]=xt.options.dependencyBudget),ft<mt?!1:(xt.budgets[rr]=ft-mt,!0)}function ae(xt){return typeof xt=="number"||typeof xt=="object"&&typeof xt.line=="number"&&typeof xt.ch=="number"}function ye(xt){if(xt.query){if(typeof xt.query.type!="string")return".query.type must be a string";if(xt.query.start&&!ae(xt.query.start))return".query.start must be a position";if(xt.query.end&&!ae(xt.query.end))return".query.end must be a position"}if(xt.files){if(!Array.isArray(xt.files))return"Files property must be an array";for(var kt=0;kt<xt.files.length;++kt){var rr=xt.files[kt];if(typeof rr!="object")return".files[n] must be objects";if(typeof rr.name!="string")return".files[n].name must be a string";if(rr.type=="delete")continue;if(typeof rr.text!="string")return".files[n].text must be a string";if(rr.type=="part"){if(!ae(rr.offset)&&typeof rr.offsetLines!="number")return".files[n].offset must be a position"}else if(rr.type!="full")return'.files[n].type must be "full" or "part"'}}}var de=25;function xe(xt,kt){for(var rr=xt.text,mt=xt.lineOffsets||(xt.lineOffsets=[0]),Ut=0,ir=0,ft=Math.min(Math.floor(kt/de),mt.length-1),Ut=mt[ft],ir=ft*de;ir<kt;){if(++ir,Ut=rr.indexOf(`
`,Ut)+1,Ut===0)return null;ir%de===0&&mt.push(Ut)}return Ut}var le=a.resolvePos=function(xt,kt,rr){if(typeof kt!="number"){var mt=xe(xt,kt.line);if(mt==null)if(rr)kt=xt.text.length;else throw fe("File doesn't contain a line "+kt.line);else kt=mt+kt.ch}if(kt>xt.text.length)if(rr)kt=xt.text.length;else throw fe("Position "+kt+" is outside of file.");return kt};function re(xt,kt){if(!xt)return{line:0,ch:0};for(var rr=xt.lineOffsets||(xt.lineOffsets=[0]),mt=xt.text,ft,Ut,ir=rr.length-1;ir>=0;--ir)rr[ir]<=kt&&(ft=ir*de,Ut=rr[ir]);for(;;){var vr=mt.indexOf(`
`,Ut);if(vr>=kt||vr<0)break;Ut=vr+1,++ft}return{line:ft,ch:kt-Ut}}var he=a.outputPos=function(xt,kt,rr){if(xt.lineCharPositions){var mt=re(kt,rr);return kt.type=="part"&&(mt.line+=kt.offsetLines!=null?kt.offsetLines:re(kt.backing,kt.offset).line),mt}else return rr+(kt.type=="part"?kt.offset:0)};function me(xt){for(var kt in xt)xt[kt]==null&&delete xt[kt];return xt}function Re(xt,kt,rr){rr!=null&&(xt[kt]=rr)}function Ie(xt,kt){typeof xt!="string"&&(xt=xt.name,kt=kt.name);var rr=/^[A-Z]/.test(xt),mt=/^[A-Z]/.test(kt);return rr==mt?xt<kt?-1:xt==kt?0:1:rr?1:-1}function Ne(xt,kt,rr){return xt.type=="Literal"&&typeof xt.value=="string"&&xt.start==kt-1&&xt.end<=rr+1}function Qe(xt,kt){for(var rr=0;rr<xt.properties.length;rr++){var mt=xt.properties[rr];if(mt.key.start<=kt&&mt.key.end>=kt)return mt}}var Ue="break do instanceof typeof case else new var catch finally return void continue for switch while debugger function this with default if throw delete in try".split(" ");function ce(xt,kt,rr){if(kt.end==null)throw fe("missing .query.end field");if(xt.passes.completion)for(var mt=0;mt<xt.passes.completion.length;mt++){var ft=xt.passes.completion[mt](rr,kt);if(ft)return ft}for(var Ut=le(rr,kt.end),ir=Ut,vr=rr.text;Ut&&n.isIdentifierChar(vr.charCodeAt(Ut-1));)--Ut;if(kt.expandWordForward!==!1)for(;ir<vr.length&&n.isIdentifierChar(vr.charCodeAt(ir));)++ir;var nt=vr.slice(Ut,ir),De=[],Te;kt.caseInsensitive&&(nt=nt.toLowerCase());var gt=kt.types||kt.depths||kt.docs||kt.urls||kt.origins;function zt(Fe,Ke,dt,Ot){if(!((Sr||kt.omitObjectPrototype!==!1)&&Ke==xt.cx.protos.Object&&!nt)&&!(kt.filter!==!1&&nt&&(kt.caseInsensitive?Fe.toLowerCase():Fe).indexOf(nt)!==0)&&!(Te&&Te.props[Fe])){for(var $t=0;$t<De.length;++$t){var Cr=De[$t];if((gt?Cr.name:Cr)==Fe)return}var ai=gt?{name:Fe}:Fe;if(De.push(ai),Ke&&(kt.types||kt.docs||kt.urls||kt.origins)){var jt=Ke.props[Fe];t.resetGuessing();var ni=jt.getType();ai.guess=t.didGuess(),kt.types&&(ai.type=t.toString(jt)),kt.docs&&Re(ai,"doc",jt.doc||ni&&ni.doc),kt.urls&&Re(ai,"url",jt.url||ni&&ni.url),kt.origins&&Re(ai,"origin",jt.origin||ni&&ni.origin)}kt.depths&&(ai.depth=dt),gt&&Ot&&Ot(ai)}}var Bt,bt,Rr,Ct,Nt=t.findExpressionAround(rr.ast,null,Ut,rr.scope),lr,Sr;if(Nt){if(Nt.node.type=="MemberExpression"&&Nt.node.object.end<Ut)lr=Nt;else if(Ne(Nt.node,Ut,ir)){var Vr=t.parentNode(Nt.node,rr.ast);Vr.type=="MemberExpression"&&Vr.property==Nt.node&&(lr={node:Vr,state:Nt.state})}else if(Nt.node.type=="ObjectExpression"){var gi=Qe(Nt.node,ir);gi?(Sr=Nt,bt=Ct=gi.key.name):!nt&&!/:\s*$/.test(rr.text.slice(0,Ut))&&(Sr=Nt,bt=Ct=!0)}}if(Sr)Rr=t.typeFromContext(rr.ast,Sr),Te=Sr.node.objType;else if(lr)bt=lr.node.property,bt=bt.type=="Literal"?bt.value.slice(1):bt.name,lr.node=lr.node.object,Rr=t.expressionType(lr);else if(vr.charAt(Ut-1)=="."){for(var ki=Ut-1;ki&&(vr.charAt(ki-1)=="."||n.isIdentifierChar(vr.charCodeAt(ki-1)));)ki--;var mi=vr.slice(ki,Ut-1);mi&&(Rr=t.def.parsePath(mi,rr.scope).getObjType(),bt=nt)}if(bt!=null){if(xt.cx.completingProperty=bt,Rr&&t.forAllPropertiesOf(Rr,zt),!De.length&&kt.guess!==!1&&Rr&&Rr.guessProperties&&Rr.guessProperties(function(Fe,Ke,dt){Fe!=bt&&Fe!="\u2716"&&zt(Fe,Ke,dt)}),!De.length&&nt.length>=2&&kt.guess!==!1)for(var bt in xt.cx.props)zt(bt,xt.cx.props[bt][0],0);Bt="memberCompletion"}else t.forAllLocalsAt(rr.ast,Ut,rr.scope,zt),kt.includeKeywords&&Ue.forEach(function(Fe){zt(Fe,null,0,function(Ke){Ke.isKeyword=!0})}),Bt="variableCompletion";return xt.passes[Bt]&&xt.passes[Bt].forEach(function(Fe){Fe(rr,Ut,ir,zt)}),kt.sort!==!1&&De.sort(Ie),xt.cx.completingProperty=null,{start:he(kt,rr,Ut),end:he(kt,rr,ir),isProperty:!!bt,isObjectKey:!!Ct,completions:De}}function Me(xt,kt){var rr=kt.prefix,mt=[];for(var ft in xt.cx.props)ft!="<i>"&&(!rr||ft.indexOf(rr)===0)&&mt.push(ft);return kt.sort!==!1&&mt.sort(Ie),{completions:mt}}var ot=a.findQueryExpr=function(xt,kt,rr){if(kt.end==null)throw fe("missing .query.end field");if(kt.variable){var mt=t.scopeAt(xt.ast,le(xt,kt.end),xt.scope);return{node:{type:"Identifier",name:kt.variable,start:kt.end,end:kt.end+1},state:mt}}else{var ft=kt.start&&le(xt,kt.start),Ut=le(xt,kt.end),ir=t.findExpressionAt(xt.ast,ft,Ut,xt.scope);return ir||(ir=t.findExpressionAround(xt.ast,ft,Ut,xt.scope),ir&&(ir.node.type=="ObjectExpression"||rr||(ft==null?Ut:ft)-ir.node.start<20||ir.node.end-Ut<20))?ir:null}};function Se(xt,kt,rr){var mt=ot(xt,kt,rr);if(mt)return mt;throw fe("No expression at the given position.")}function Xe(xt){return!xt||!(xt=xt.getType())||!(xt instanceof t.Obj)?null:xt}function ct(xt,kt,rr,mt){var ft;if(mt&&(t.resetGuessing(),ft=t.expressionType(mt)),xt.passes.typeAt){var Ut=le(rr,kt.end);xt.passes.typeAt.forEach(function(Te){ft=Te(rr,Ut,mt,ft)})}if(!ft)throw fe("No type found at the given position.");var ir;if(mt.node.type=="ObjectExpression"&&kt.end!=null&&(ir=Qe(mt.node,le(rr,kt.end)))){var vr=ir.key.name,nt=Xe(t.typeFromContext(rr.ast,mt));if(nt&&nt.hasProp(vr))ft=nt.hasProp(vr);else{var De=Xe(ft);De&&De.hasProp(vr)&&(ft=De.hasProp(vr))}}return ft}function $e(xt,kt,rr){var mt=ot(rr,kt),ft,Ut=ct(xt,kt,rr,mt),ir=Ut;if(kt.preferFunction?Ut=Ut.getFunctionType()||Ut.getType():Ut=Ut.getType(),mt&&(mt.node.type=="Identifier"?ft=mt.node.name:mt.node.type=="MemberExpression"&&!mt.node.computed&&(ft=mt.node.property.name)),kt.depth!=null&&typeof kt.depth!="number")throw fe(".query.depth must be a number");var vr={guess:t.didGuess(),type:t.toString(ir,kt.depth),name:Ut&&Ut.name,exprName:ft};return Ut&&Dt(Ut,vr),!vr.doc&&ir.doc&&(vr.doc=ir.doc),me(vr)}function Et(xt,kt,rr){var mt=ot(rr,kt),ft=ct(xt,kt,rr,mt),Ut={url:ft.url,doc:ft.doc,type:t.toString(ft)},ir=ft.getType();return ir&&Dt(ir,Ut),me(Ut)}function Dt(xt,kt){kt.url||(kt.url=xt.url),kt.doc||(kt.doc=xt.doc),kt.origin||(kt.origin=xt.origin);var rr,mt=t.cx().protos;!kt.url&&!kt.doc&&xt.proto&&(rr=xt.proto.hasCtor)&&xt.proto!=mt.Object&&xt.proto!=mt.Function&&xt.proto!=mt.Array&&(kt.url=rr.url,kt.doc=rr.doc)}var er=a.getSpan=function(xt){if(!!xt.origin){if(xt.originNode){var kt=xt.originNode;return/^Function/.test(kt.type)&&kt.id&&(kt=kt.id),{origin:xt.origin,node:kt}}if(xt.span)return{origin:xt.origin,span:xt.span}}},Gt=a.storeSpan=function(xt,kt,rr,mt){if(mt.origin=rr.origin,rr.span){var ft=/^(\d+)\[(\d+):(\d+)\]-(\d+)\[(\d+):(\d+)\]$/.exec(rr.span);mt.start=kt.lineCharPositions?{line:Number(ft[2]),ch:Number(ft[3])}:Number(ft[1]),mt.end=kt.lineCharPositions?{line:Number(ft[5]),ch:Number(ft[6])}:Number(ft[4])}else{var Ut=xt.findFile(rr.origin);mt.start=he(kt,Ut,rr.node.start),mt.end=he(kt,Ut,rr.node.end)}};function Ht(xt,kt,rr){var mt=ot(rr,kt),ft=ct(xt,kt,rr,mt);if(t.didGuess())return{};var Ut=er(ft),ir={url:ft.url,doc:ft.doc,origin:ft.origin};if(ft.types)for(var vr=ft.types.length-1;vr>=0;--vr){var nt=ft.types[vr];Dt(nt,ir),Ut||(Ut=er(nt))}if(Ut&&Ut.node){var De=Ut.node.sourceFile||xt.findFile(Ut.origin),Te=he(kt,De,Ut.node.start),gt=he(kt,De,Ut.node.end);ir.start=Te,ir.end=gt,ir.file=Ut.origin;var zt=Math.max(0,Ut.node.start-50);ir.contextOffset=Ut.node.start-zt,ir.context=De.text.slice(zt,zt+50)}else Ut&&(ir.file=Ut.origin,Gt(xt,kt,Ut,ir));return me(ir)}function Kt(xt,kt,rr,mt,ft){for(var Ut=mt.node.name,ir=mt.state;ir&&!(Ut in ir.props);ir=ir.prev);if(!ir)throw fe("Could not find a definition for "+Ut+" "+!!xt.cx.topScope.props.x);var vr,nt=[];function De(Bt){return function(bt,Rr){if(ft)for(var Ct=Rr;Ct!=ir;Ct=Ct.prev){var Nt=Ct.hasProp(ft);if(Nt)throw fe("Renaming `"+Ut+"` to `"+ft+"` would make a variable at line "+(re(Bt,bt.start).line+1)+" point to the definition at line "+(re(Bt,Nt.name.start).line+1))}nt.push({file:Bt.name,start:he(kt,Bt,bt.start),end:he(kt,Bt,bt.end)})}}if(ir.originNode){if(vr="local",ft){for(var Te=ir.prev;Te&&!(ft in Te.props);Te=Te.prev);Te&&t.findRefs(ir.originNode,ir,ft,Te,function(Bt){throw fe("Renaming `"+Ut+"` to `"+ft+"` would shadow the definition used at line "+(re(rr,Bt.start).line+1))})}t.findRefs(ir.originNode,ir,Ut,ir,De(rr))}else{vr="global";for(var gt=0;gt<xt.files.length;++gt){var zt=xt.files[gt];t.findRefs(zt.ast,zt.scope,Ut,ir,De(zt))}}return{refs:nt,type:vr,name:Ut}}function yr(xt,kt,rr,mt){var ft=t.expressionType(rr).getObjType();if(!ft)throw fe("Couldn't determine type of base object.");var Ut=[];function ir(De){return function(Te){Ut.push({file:De.name,start:he(kt,De,Te.start),end:he(kt,De,Te.end)})}}for(var vr=0;vr<xt.files.length;++vr){var nt=xt.files[vr];t.findPropRefs(nt.ast,nt.scope,ft,mt.name,ir(nt))}return{refs:Ut,name:mt.name}}function Ur(xt,kt,rr){var mt=Se(rr,kt,!0);if(mt.node.type=="Identifier")return Kt(xt,kt,rr,mt);if(mt.node.type=="MemberExpression"&&!mt.node.computed){var ft=mt.node.property;return mt.node=mt.node.object,yr(xt,kt,mt,ft)}else if(mt.node.type=="ObjectExpression")for(var Ut=le(rr,kt.end),ir=0;ir<mt.node.properties.length;++ir){var vr=mt.node.properties[ir].key;if(vr.start<=Ut&&vr.end>=Ut)return yr(xt,kt,mt,vr)}throw fe("Not at a variable or property name.")}function Yr(xt,kt,rr){if(typeof kt.newName!="string")throw fe(".query.newName should be a string");var mt=Se(rr,kt);if(!mt||mt.node.type!="Identifier")throw fe("Not at a variable.");var ft=Kt(xt,kt,rr,mt,kt.newName),Ut=ft.refs;delete ft.refs,ft.files=xt.files.map(function(De){return De.name});for(var ir=ft.changes=[],vr=0;vr<Ut.length;++vr){var nt=Ut[vr];nt.text=kt.newName,ir.push(nt)}return ft}function oi(xt){return{files:xt.files.map(function(kt){return kt.name})}}a.version="0.11.1"});(function(a){if(typeof exports=="object"&&typeof module=="object")return exports.init=a;if(typeof define=="function"&&define.amd)return define({init:a});tern.def={init:a}})(function(a,t){function r(ae,ye){return Object.prototype.hasOwnProperty.call(ae,ye)}var n=a.TypeParser=function(ae,ye,de,xe){this.pos=ye||0,this.spec=ae,this.base=de,this.forceNew=xe};function c(ae,ye,de){return ae.call?ae(ye,de):ae}function p(ae,ye){if(ye=="!ret"){if(ae.retval)return ae.retval;var de=new t.AVal;return ae.propagate(new t.IsCallee(t.ANull,[],null,de)),de}else return ae.getProp(ye)}function y(ae,ye){return function(de,xe){for(var le=[],re=0;re<ae.length;re++)le.push(c(ae[re],de,xe));return new t.Fn(name,t.ANull,le,c(ye,de,xe))}}function v(ae){return function(ye,de){for(var xe=new t.AVal,le=0;le<ae.length;le++)c(ae[le],ye,de).propagate(xe);return xe}}function E(ae){return function(ye,de){return new t.Arr(ae(ye,de))}}n.prototype={eat:function(ae){if(ae.length==1?this.spec.charAt(this.pos)==ae:this.spec.indexOf(ae,this.pos)==this.pos)return this.pos+=ae.length,!0},word:function(xe){for(var ye="",de,xe=xe||/[\w$]/;(de=this.spec.charAt(this.pos))&&xe.test(de);)ye+=de,++this.pos;return ye},error:function(){throw new Error("Unrecognized type spec: "+this.spec+" (at "+this.pos+")")},parseFnType:function(ae,ye,de){var xe=[],le=[],re=!1;if(!this.eat(")"))for(var he=0;;++he){var me=this.spec.indexOf(": ",this.pos),Re;me!=-1&&(Re=this.spec.slice(this.pos,me),/^[$\w?]+$/.test(Re)?this.pos=me+2:Re=null),le.push(Re);var Ie=this.parseType(ae);if(Ie.call&&(re=!0),xe.push(Ie),!this.eat(", ")){this.eat(")")||this.error();break}}var Ne,Qe,Ue,ce;if(this.eat(" -> ")){var Me=this.pos;Ne=this.parseType(!0),Ne.call&&(de?(Qe=Ne,Ne=t.ANull,Ue=Me):re=!0)}else Ne=t.ANull;return re?y(xe,Ne):(de&&(ce=this.base)?t.Fn.call(this.base,ye,t.ANull,xe,le,Ne):ce=new t.Fn(ye,t.ANull,xe,le,Ne),Qe&&(ce.computeRet=Qe),Ue!=null&&(ce.computeRetSource=this.spec.slice(Ue,this.pos)),ce)},parseType:function(ae,ye,de){var xe=this.parseTypeMaybeProp(ae,ye,de);if(!this.eat("|"))return xe;for(var le=[xe],re=xe.call;;){var he=this.parseTypeMaybeProp(ae,ye,de);if(le.push(he),he.call&&(re=!0),!this.eat("|"))break}if(re)return v(le);for(var me=new t.AVal,Re=0;Re<le.length;Re++)le[Re].propagate(me);return me},parseTypeMaybeProp:function(ae,ye,de){for(var xe=this.parseTypeInner(ae,ye,de);ae&&this.eat(".");)xe=this.extendWithProp(xe);return xe},extendWithProp:function(ae){var ye=this.word(/[\w<>$!]/)||this.error();return ae.apply?function(de,xe){return p(ae(de,xe),ye)}:p(ae,ye)},parseTypeInner:function(ae,ye,de){if(this.eat("fn("))return this.parseFnType(ae,ye,de);if(this.eat("[")){var xe=this.parseType(ae);return this.eat("]")||this.error(),xe.call?E(xe):de&&this.base?(t.Arr.call(this.base,xe),this.base):new t.Arr(xe)}else if(this.eat("+")){var le=this.word(/[\w$<>\.!]/),re=M(le+".prototype");return re instanceof t.Obj||(re=M(le)),re instanceof t.Obj?ae&&this.eat("[")?this.parsePoly(re):de&&this.forceNew?new t.Obj(re):t.getInstance(re):re}else if(ae&&this.eat("!")){var he=this.word(/\d/);if(he)return he=Number(he),function(Re,Ie){return Ie[he]||t.ANull};if(this.eat("this"))return function(Re){return Re};if(this.eat("custom:")){var me=this.word(/[\w$]/);return we[me]||function(){return t.ANull}}else return this.fromWord("!"+this.word(/[\w$<>\.!]/))}else return this.eat("?")?t.ANull:this.fromWord(this.word(/[\w$<>\.!`]/))},fromWord:function(ae){var ye=t.cx();switch(ae){case"number":return ye.num;case"string":return ye.str;case"bool":return ye.bool;case"<top>":return ye.topScope}return ye.localDefs&&ae in ye.localDefs?ye.localDefs[ae]:M(ae)},parsePoly:function(ae){var ye="<i>",de;(de=this.spec.slice(this.pos).match(/^\s*(\w+)\s*=\s*/))&&(ye=de[1],this.pos+=de[0].length);var xe=this.parseType(!0);if(this.eat("]")||this.error(),xe.call)return function(re,he){var me=t.getInstance(ae);return xe(re,he).propagate(me.defProp(ye)),me};var le=t.getInstance(ae);return xe.propagate(le.defProp(ye)),le}};function _(ae,ye,de,xe){var le=new n(ae,null,de,xe).parseType(!1,ye,!0);if(/^fn\(/.test(ae))for(var re=0;re<le.args.length;++re)(function(he){var me=le.args[he];me instanceof t.Fn&&me.args&&me.args.length&&k(le,function(Re,Ie){var Ne=Ie[he];Ne&&Ne.propagate(new t.IsCallee(t.cx().topScope,me.args,null,t.ANull))})})(re);return le}function k(ae,ye,de){var xe=ae.computeRet,le=ae.retval;ae.computeRet=function(re,he,me){var Re=ye(re,he,me),Ie=xe?xe(re,he,me):le;return de?Re:Ie}}var R=a.parseEffect=function(ae,ye){var de;if(ae.indexOf("propagate ")==0){var xe=new n(ae,10),le=xe.parseType(!0);xe.eat(" ")||xe.error();var re=xe.parseType(!0);k(ye,function(ce,Me){c(le,ce,Me).propagate(c(re,ce,Me))})}else if(ae.indexOf("call ")==0){var he=ae.indexOf("and return ",5)==5,xe=new n(ae,he?16:5),me=xe.parseType(!0),Re=null,Ie=[];for(xe.eat(" this=")&&(Re=xe.parseType(!0));xe.eat(" ");)Ie.push(xe.parseType(!0));k(ye,function(Me,ot){for(var Se=c(me,Me,ot),Xe=Re?c(Re,Me,ot):t.ANull,ct=[],$e=0;$e<Ie.length;++$e)ct.push(c(Ie[$e],Me,ot));var Et=he?new t.AVal:t.ANull;return Se.propagate(new t.IsCallee(Xe,ct,null,Et)),Et},he)}else if(de=ae.match(/^custom (\S+)\s*(.*)/)){var Ne=we[de[1]];Ne&&k(ye,de[2]?Ne(de[2]):Ne)}else if(ae.indexOf("copy ")==0){var xe=new n(ae,5),Qe=xe.parseType(!0);xe.eat(" ");var Ue=xe.parseType(!0);k(ye,function(Me,ot){var Se=c(Qe,Me,ot),Xe=c(Ue,Me,ot);Se.forAllProps(function(ct,$e,Et){Et&&ct!="<i>"&&Xe.propagate(new t.PropHasSubset(ct,$e))})})}else throw new Error("Unknown effect type: "+ae)},B,M=a.parsePath=function(ae,ye){var de=t.cx(),xe=de.paths[ae],le=ae;if(xe!=null)return xe;de.paths[ae]=t.ANull;var re=ye||B||de.topScope;if(de.localDefs){for(var he in de.localDefs)if(ae.indexOf(he)==0){if(ae==he)return de.paths[ae]=de.localDefs[ae];if(ae.charAt(he.length)=="."){re=de.localDefs[he],ae=ae.slice(he.length+1);break}}}for(var me=ae.split("."),Re=0;Re<me.length&&re!=t.ANull;++Re){var Ie=me[Re];if(Ie.charAt(0)=="!")if(Ie=="!proto")re=re instanceof t.Obj&&re.proto||t.ANull;else{var Ne=re.getFunctionType();if(!Ne)re=t.ANull;else if(Ie=="!ret")re=Ne.retval&&Ne.retval.getType(!1)||t.ANull;else{var Qe=Ne.args&&Ne.args[Number(Ie.slice(1))];re=Qe&&Qe.getType(!1)||t.ANull}}else if(re instanceof t.Obj){var Ue=Ie=="prototype"&&re instanceof t.Fn?re.getProp(Ie):re.props[Ie];!Ue||Ue.isEmpty()?re=t.ANull:re=Ue.types[0]}}return de.paths[le]=re==t.ANull?null:re,re};function F(ae){var ye=Object.create(ae.prototype);return ye.props=Object.create(null),ye.isShell=!0,ye}function H(ae){if(!ae["!type"]||/^(fn\(|\[)/.test(ae["!type"]))return!1;for(var ye in ae)if(ye!="!type"&&ye!="!doc"&&ye!="!url"&&ye!="!span"&&ye!="!data")return!1;return!0}function U(ae,ye,de){if(!ae){var xe=ye["!type"];if(xe)if(/^fn\(/.test(xe))ae=F(t.Fn);else if(xe.charAt(0)=="[")ae=F(t.Arr);else throw new Error("Invalid !type spec: "+xe);else ye["!stdProto"]?ae=t.cx().protos[ye["!stdProto"]]:ae=F(t.Obj);ae.name=de}for(var le in ye)if(r(ye,le)&&le.charCodeAt(0)!=33){var re=ye[le];if(typeof re=="string"||H(re))continue;var he=ae.defProp(le);U(he.getObjType(),re,de?de+"."+le:le).propagate(he)}return ae}function Z(ae,ye,de){if(ae.isShell){delete ae.isShell;var xe=ye["!type"];if(xe)_(xe,de,ae);else{var le=ye["!proto"]&&_(ye["!proto"]);t.Obj.call(ae,le instanceof t.Obj?le:!0,de)}}var re=ye["!effects"];if(re&&ae instanceof t.Fn)for(var he=0;he<re.length;++he)R(re[he],ae);K(ye,ae);for(var me in ye)if(r(ye,me)&&me.charCodeAt(0)!=33){var Re=ye[me],Ie=ae.defProp(me),Ne=de?de+"."+me:me;if(typeof Re=="string")Ie.isEmpty()&&_(Re,Ne).propagate(Ie);else{if(!H(Re))Z(Ie.getObjType(),Re,Ne);else if(Ie.isEmpty())_(Re["!type"],Ne,null,!0).propagate(Ie);else continue;Re["!doc"]&&(Ie.doc=Re["!doc"]),Re["!url"]&&(Ie.url=Re["!url"]),Re["!span"]&&(Ie.span=Re["!span"])}}return ae}function K(ae,ye){ae["!doc"]&&(ye.doc=ae["!doc"]),ae["!url"]&&(ye.url=ae["!url"]),ae["!span"]&&(ye.span=ae["!span"]),ae["!data"]&&(ye.metaData=ae["!data"])}function fe(ae,ye){var de=t.cx().parent,xe=de&&de.passes&&de.passes[ae];if(xe)for(var le=0;le<xe.length;le++)xe[le](ye)}function oe(ae,ye){var de=t.cx();t.addOrigin(de.curOrigin=ae["!name"]||"env#"+de.origins.length),de.localDefs=de.definitions[de.curOrigin]=Object.create(null),fe("preLoadDef",ae),U(ye,ae);var xe=ae["!define"];if(xe){for(var le in xe){var re=xe[le];de.localDefs[le]=typeof re=="string"?M(re):U(null,re,le)}for(var le in xe){var re=xe[le];typeof re!="string"&&Z(de.localDefs[le],xe[le],le)}}Z(ye,ae),fe("postLoadDef",ae),de.curOrigin=de.localDefs=null}a.load=function(ae,ye){ye||(ye=t.cx().topScope);var de=B;B=ye;try{oe(ae,ye)}finally{B=de}},a.parse=function(ae,ye,de){var xe=t.cx();ye&&(xe.origin=ye,xe.localDefs=xe.definitions[ye]);try{return typeof ae=="string"?_(ae,de):Z(U(null,ae,de),ae,de)}finally{ye&&(xe.origin=xe.localDefs=null)}};var we=Object.create(null);t.registerFunction=function(ae,ye){we[ae]=ye};var be=t.constraint("created, target, spec",{addType:function(ae){if(ae instanceof t.Obj&&this.created++<5){var ye=new t.Obj(ae),de=this.spec;if(de instanceof t.AVal&&(de=de.getObjType(!1)),de instanceof t.Obj)for(var xe in de.props){var le=de.props[xe].types[0],re=ye.defProp(xe);if(le&&le instanceof t.Obj&&le.props.value){var he=le.props.value.getType(!1);he&&re.addType(he)}}this.target.addType(ye)}}});t.registerFunction("Object_create",function(ae,ye,de){if(de&&de.length&&de[0].type=="Literal"&&de[0].value==null)return new t.Obj;var xe=new t.AVal;return ye[0]&&ye[0].propagate(new be(0,xe,ye[1])),xe});var ve=t.constraint("target",{addType:function(ae){ae instanceof t.Obj&&(ae.hasProp("value")?ae.getProp("value").propagate(this.target):ae.hasProp("get")&&ae.getProp("get").propagate(new t.IsCallee(t.ANull,[],null,this.target)))}});t.registerFunction("Object_defineProperty",function(ae,ye,de){if(de&&de.length>=3&&de[1].type=="Literal"&&typeof de[1].value=="string"){var xe=ye[0],le=new t.AVal;xe.propagate(new t.PropHasSubset(de[1].value,le,de[1])),ye[2].propagate(new ve(le))}return t.ANull}),t.registerFunction("Object_defineProperties",function(ae,ye,de){if(ye.length>=2){var xe=ye[0];ye[1].forAllProps(function(le,re,he){if(!!he){var me=new t.AVal;xe.propagate(new t.PropHasSubset(le,me,de&&de[1])),re.propagate(new ve(me))}})}return t.ANull});var ne=t.constraint("self, args, target",{addType:function(ae){if(ae instanceof t.Fn){this.target.addType(new t.Fn(ae.name,t.ANull,ae.args.slice(this.args.length),ae.argNames.slice(this.args.length),ae.retval)),this.self.propagate(ae.self);for(var ye=0;ye<Math.min(ae.args.length,this.args.length);++ye)this.args[ye].propagate(ae.args[ye])}}});return t.registerFunction("Function_bind",function(ae,ye){if(!ye.length)return t.ANull;var de=new t.AVal;return ae.propagate(new ne(ye[0],ye.slice(1),de)),de}),t.registerFunction("Array_ctor",function(ae,ye){var de=new t.Arr;if(ye.length!=1||!ye[0].hasType(t.cx().num))for(var xe=de.getProp("<i>"),le=0;le<ye.length;++le)ye[le].propagate(xe);return de}),t.registerFunction("Promise_ctor",function(ae,ye,de){if(ye.length<1)return t.ANull;var xe=new t.Obj(t.cx().definitions.ecma6["Promise.prototype"]),le=xe.defProp("value",de&&de[0]),re=new t.AVal;re.propagate(le);var he=new t.Fn("execute",t.ANull,[re],["value"],t.ANull),me=t.cx().definitions.ecma6.promiseReject;return ye[0].propagate(new t.IsCallee(t.ANull,[he,me],null,t.ANull)),xe}),a});(function(a){if(typeof exports=="object"&&typeof module=="object")return a(exports);if(typeof define=="function"&&define.amd)return define(["exports"],a);a(tern.comment||(tern.comment={}))})(function(a){function t(n){return n<14&&n>8||n===32||n===160}function r(n,c){for(;c>0;--c){var p=n.charCodeAt(c-1);if(p==10)break;if(!t(p))return!1}return!0}a.commentsBefore=function(n,c){var p=null,y=0,v;e:for(;c>0;){var E=n.charCodeAt(c-1);if(E==10)for(var _=--c,k=!1;_>0;--_)if(E=n.charCodeAt(_-1),E==47&&n.charCodeAt(_-2)==47){if(!r(n,_-2))break e;var R=n.slice(_,c);!y&&v?p[0]=R+`
`+p[0]:(p||(p=[])).unshift(R),v=!0,y=0,c=_-2;break}else if(E==10){if(!k&&++y>1)break e;break}else!k&&!t(E)&&(k=!0);else if(E==47&&n.charCodeAt(c-2)==42){for(var _=c-2;_>1;--_)if(n.charCodeAt(_-1)==42&&n.charCodeAt(_-2)==47){if(!r(n,_-2))break e;(p||(p=[])).unshift(n.slice(_,c-2)),v=!1,y=0;break}c=_-2}else if(t(E))--c;else break}return p},a.commentAfter=function(n,c){for(;c<n.length;){var p=n.charCodeAt(c);if(p==47){var y=n.charCodeAt(c+1),v;if(y==47)v=n.indexOf(`
`,c+2);else if(y==42)v=n.indexOf("*/",c+2);else return;return n.slice(c+2,v<0?n.length:v)}else t(p)&&++c}},a.ensureCommentsBefore=function(n,c){return c.hasOwnProperty("commentsBefore")?c.commentsBefore:c.commentsBefore=a.commentsBefore(n,c.start)}});(function(a,t){if(typeof exports=="object"&&typeof module=="object")return t(exports,require("../acorn"),require("../acorn/acorn_loose"),require("../acorn/walk"),require("./def"),require("./signal"));if(typeof define=="function"&&define.amd)return define(["exports","../acorn/acorn","../acorn/acorn_loose","../acorn/walk","./def","./signal"],t);t(a.tern||(a.tern={}),acorn,acorn,acorn.walk,tern.def,tern.signal)})(globalThis,function(a,t,r,n,c,p){var y=a.toString=function(Fe,Ke,dt){return!Fe||Fe==dt||Ke&&Ke<-3?"?":Fe.toString(Ke,dt)},v=a.ANull=p.mixin({addType:function(){},propagate:function(){},getProp:function(){return v},forAllProps:function(){},hasType:function(){return!1},isEmpty:function(){return!0},getFunctionType:function(){},getObjType:function(){},getType:function(){},gatherProperties:function(){},propagatesTo:function(){},typeHint:function(){},propHint:function(){},toString:function(){return"?"}});function E(Fe,Ke){var dt=Object.create(Fe);if(Ke)for(var Ot in Ke)dt[Ot]=Ke[Ot];return dt}var _=100,k=90,R=10,B=5,M=5,F=90,H=2,U=a.AVal=function(){this.types=[],this.forward=null,this.maxWeight=0};U.prototype=E(v,{addType:function(Fe,Ke){if(Ke=Ke||_,this.maxWeight<Ke){if(this.maxWeight=Ke,this.types.length==1&&this.types[0]==Fe)return;this.types.length=0}else if(this.maxWeight>Ke||this.types.indexOf(Fe)>-1)return;this.signal("addType",Fe),this.types.push(Fe);var dt=this.forward;dt&&Gt(function(Ot){for(var $t=0;$t<dt.length;++$t)Ot(Fe,dt[$t],Ke)})},propagate:function(Fe,Ke){if(!(Fe==v||Fe instanceof Ue&&this.forward&&this.forward.length>2)){Ke&&Ke!=_&&(Fe=new Qe(Fe,Ke)),(this.forward||(this.forward=[])).push(Fe);var dt=this.types;dt.length&&Gt(function(Ot){for(var $t=0;$t<dt.length;++$t)Ot(dt[$t],Fe,Ke)})}},getProp:function(Fe){if(Fe=="__proto__"||Fe=="\u2716")return v;var Ke=(this.props||(this.props=Object.create(null)))[Fe];return Ke||(Ke=this.props[Fe]=new U,this.propagate(new ve(Fe,Ke))),Ke},forAllProps:function(Fe){this.propagate(new ae(Fe))},hasType:function(Fe){return this.types.indexOf(Fe)>-1},isEmpty:function(){return this.types.length===0},getFunctionType:function(){for(var Fe=this.types.length-1;Fe>=0;--Fe)if(this.types[Fe]instanceof ot)return this.types[Fe]},getObjType:function(){for(var Fe=null,Ke=this.types.length-1;Ke>=0;--Ke){var dt=this.types[Ke];if(dt instanceof Me){if(dt.name)return dt;Fe||(Fe=dt)}}return Fe},getType:function(Fe){return this.types.length===0&&Fe!==!1?this.makeupType():this.types.length===1?this.types[0]:oe(this.types)},toString:function(Fe,Ke){if(this.types.length==0)return y(this.makeupType(),Fe,Ke);if(this.types.length==1)return y(this.types[0],Fe,Ke);var dt=fe(this.types);return dt.length>2?"?":dt.map(function(Ot){return y(Ot,Fe,Ke)}).join("|")},computedPropType:function(){if(!this.propertyOf)return null;if(this.propertyOf.hasProp("<i>")){var Fe=this.propertyOf.getProp("<i>");return Fe==this?null:Fe.getType()}else if(this.propertyOf.maybeProps&&this.propertyOf.maybeProps["<i>"]==this){for(var Ke in this.propertyOf.props){var dt=this.propertyOf.props[Ke];if(!dt.isEmpty())return dt}return null}},makeupType:function(){var Fe=this.computedPropType();if(Fe)return Fe;if(!this.forward)return null;for(var Ke=this.forward.length-1;Ke>=0;--Ke){var dt=this.forward[Ke].typeHint();if(dt&&!dt.isEmpty())return Vr=!0,dt}for(var Ot=Object.create(null),$t=null,Ke=0;Ke<this.forward.length;++Ke){var Cr=this.forward[Ke].propHint();Cr&&Cr!="length"&&Cr!="<i>"&&Cr!="\u2716"&&Cr!=$e.completingProperty&&(Ot[Cr]=!0,$t=Cr)}if(!$t)return null;var ai=ct($t);if(ai){var jt=[];e:for(var Ke=0;Ke<ai.length;++Ke){var ni=ai[Ke];for(var Cr in Ot)if(!ni.hasProp(Cr))continue e;ni.hasCtor&&(ni=re(ni)),jt.push(ni)}var Mn=oe(jt);if(Mn)return Vr=!0,Mn}},typeHint:function(){return this.types.length?this.getType():null},propagatesTo:function(){return this},gatherProperties:function(Fe,Ke){for(var dt=0;dt<this.types.length;++dt)this.types[dt].gatherProperties(Fe,Ke)},guessProperties:function(Fe){if(this.forward)for(var Ke=0;Ke<this.forward.length;++Ke){var dt=this.forward[Ke].propHint();dt&&Fe(dt,null,0)}var Ot=this.makeupType();Ot&&Ot.gatherProperties(Fe)}});function Z(Fe,Ke,dt){var Ot=Fe.getType(!1),$t=Ke.getType(!1);return!Ot||!$t?!0:K(Ot,$t,dt)}function K(Fe,Ke,dt){if(!Fe||dt>=5)return Ke;if(Fe==Ke||!Ke)return Fe;if(Fe.constructor!=Ke.constructor)return!1;if(Fe.constructor==Se){var Ot=Fe.getProp("<i>").getType(!1);if(!Ot)return Ke;var $t=Ke.getProp("<i>").getType(!1);if(!$t||K(Ot,$t,dt+1))return Ke}else if(Fe.constructor==Me){var Cr=0,ai=0,jt=0;for(var ni in Fe.props)Cr++,ni in Ke.props&&Z(Fe.props[ni],Ke.props[ni],dt+1)&&jt++;for(var ni in Ke.props)ai++;return Cr&&ai&&jt<Math.max(Cr,ai)/2?!1:Cr>ai?Fe:Ke}else return Fe.constructor==ot?Fe.args.length!=Ke.args.length||!Fe.args.every(function(Mn,Tt){return Z(Mn,Ke.args[Tt],dt+1)})||!Z(Fe.retval,Ke.retval,dt+1)||!Z(Fe.self,Ke.self,dt+1)?!1:Fe:!1}var fe=a.simplifyTypes=function(Fe){var Ke=[];e:for(var dt=0;dt<Fe.length;++dt){for(var Ot=Fe[dt],$t=0;$t<Ke.length;$t++){var Cr=K(Ot,Ke[$t],0);if(Cr){Ke[$t]=Cr;continue e}}Ke.push(Ot)}return Ke};function oe(Fe){for(var Ke=0,dt=0,Ot=0,$t=null,Cr=0;Cr<Fe.length;++Cr){var ai=Fe[Cr];if(ai instanceof Se)++Ke;else if(ai instanceof ot)++dt;else if(ai instanceof Me)++Ot;else if(ai instanceof ce){if($t&&ai.name!=$t.name)return null;$t=ai}}var jt=(Ke&&1)+(dt&&1)+(Ot&&1)+($t&&1);if(jt>1)return null;if($t)return $t;for(var ni=0,Mn=null,Cr=0;Cr<Fe.length;++Cr){var ai=Fe[Cr],Tt=0;if(Ke)Tt=ai.getProp("<i>").isEmpty()?1:2;else if(dt){Tt=1;for(var ur=0;ur<ai.args.length;++ur)ai.args[ur].isEmpty()||++Tt;ai.retval.isEmpty()||++Tt}else Ot&&(Tt=ai.name?100:2);Tt>=ni&&(ni=Tt,Mn=ai)}return Mn}function we(){}we.prototype=E(v,{init:function(){this.origin=$e.curOrigin}});var be=a.constraint=function(Fe,Ke){var dt="this.init();";Fe=Fe?Fe.split(", "):[];for(var Ot=0;Ot<Fe.length;++Ot)dt+="this."+Fe[Ot]+" = "+Fe[Ot]+";";var $t=Function.apply(null,Fe.concat([dt]));$t.prototype=Object.create(we.prototype);for(var Cr in Ke)Ke.hasOwnProperty(Cr)&&($t.prototype[Cr]=Ke[Cr]);return $t},ve=be("prop, target",{addType:function(Fe,Ke){Fe.getProp&&Fe.getProp(this.prop).propagate(this.target,Ke)},propHint:function(){return this.prop},propagatesTo:function(){if(this.prop=="<i>"||!/[^\w_]/.test(this.prop))return{target:this.target,pathExt:"."+this.prop}}}),ne=a.PropHasSubset=be("prop, type, originNode",{addType:function(Fe,Ke){if(Fe instanceof Me){var dt=Fe.defProp(this.prop,this.originNode);dt.origin||(dt.origin=this.origin),this.type.propagate(dt,Ke)}},propHint:function(){return this.prop}}),ae=be("c",{addType:function(Fe){Fe instanceof Me&&Fe.forAllProps(this.c)}});function ye(Fe,Ke){$e.disabledComputing={fn:Fe,prev:$e.disabledComputing};try{return Ke()}finally{$e.disabledComputing=$e.disabledComputing.prev}}var de=a.IsCallee=be("self, args, argNodes, retval",{init:function(){we.prototype.init.call(this),this.disabled=$e.disabledComputing},addType:function(Fe,Ke){if(Fe instanceof ot){for(var dt=0;dt<this.args.length;++dt)dt<Fe.args.length&&this.args[dt].propagate(Fe.args[dt],Ke),Fe.arguments&&this.args[dt].propagate(Fe.arguments,Ke);this.self.propagate(Fe.self,this.self==$e.topScope?F:Ke);var Ot=Fe.computeRet;if(Ot)for(var $t=this.disabled;$t;$t=$t.prev)($t.fn==Fe||Fe.originNode&&$t.fn.originNode==Fe.originNode)&&(Ot=null);Ot?Ot(this.self,this.args,this.argNodes).propagate(this.retval,Ke):Fe.retval.propagate(this.retval,Ke)}},typeHint:function(){for(var Fe=[],Ke=0;Ke<this.args.length;++Ke)Fe.push("?");return new ot(null,this.self,this.args,Fe,v)},propagatesTo:function(){return{target:this.retval,pathExt:".!ret"}}}),xe=be("propName, args, argNodes, retval",{init:function(){we.prototype.init.call(this),this.disabled=$e.disabledComputing},addType:function(Fe,Ke){var dt=new de(Fe,this.args,this.argNodes,this.retval);dt.disabled=this.disabled,Fe.getProp(this.propName).propagate(dt,Ke)},propHint:function(){return this.propName}}),le=a.IsCtor=be("target, noReuse",{addType:function(Fe,Ke){Fe instanceof ot&&($e.parent&&!$e.parent.options.reuseInstances&&(this.noReuse=!0),Fe.getProp("prototype").propagate(new he(this.noReuse?!1:Fe,this.target),Ke))}}),re=a.getInstance=function(Fe,Ke){if(Ke===!1)return new Me(Fe);Ke||(Ke=Fe.hasCtor),Fe.instances||(Fe.instances=[]);for(var dt=0;dt<Fe.instances.length;++dt){var Ot=Fe.instances[dt];if(Ot.ctor==Ke)return Ot.instance}var $t=new Me(Fe,Ke&&Ke.name);return $t.origin=Fe.origin,Fe.instances.push({ctor:Ke,instance:$t}),$t},he=a.IsProto=be("ctor, target",{addType:function(Fe,Ke){Fe instanceof Me&&((this.count=(this.count||0)+1)>8||(Fe==$e.protos.Array?this.target.addType(new Se):this.target.addType(re(Fe,this.ctor))))}}),me=be("fn",{addType:function(Fe,Ke){if(Fe instanceof Me&&!Fe.hasCtor){Fe.hasCtor=this.fn;var dt=new Ne(Fe,this.fn);dt.addType(this.fn),Fe.forAllProps(function(Ot,$t,Cr){Cr&&$t.propagate(dt)})}}}),Re=be("other, target",{addType:function(Fe,Ke){Fe==$e.str?this.target.addType($e.str,Ke):Fe==$e.num&&this.other.hasType($e.num)&&this.target.addType($e.num,Ke)},typeHint:function(){return this.other}}),Ie=a.IfObj=be("target",{addType:function(Fe,Ke){Fe instanceof Me&&this.target.addType(Fe,Ke)},propagatesTo:function(){return this.target}}),Ne=be("obj, ctor",{addType:function(Fe){Fe instanceof ot&&Fe.self&&Fe.self.isEmpty()&&Fe.self.addType(re(this.obj,this.ctor),H)}}),Qe=be("inner, weight",{addType:function(Fe,Ke){this.inner.addType(Fe,Math.min(Ke,this.weight))},propagatesTo:function(){return this.inner.propagatesTo()},typeHint:function(){return this.inner.typeHint()},propHint:function(){return this.inner.propHint()}}),Ue=a.Type=function(){};Ue.prototype=E(v,{constructor:Ue,propagate:function(Fe,Ke){Fe.addType(this,Ke)},hasType:function(Fe){return Fe==this},isEmpty:function(){return!1},typeHint:function(){return this},getType:function(){return this}});var ce=a.Prim=function(Fe,Ke){this.name=Ke,this.proto=Fe};ce.prototype=E(Ue.prototype,{constructor:ce,toString:function(){return this.name},getProp:function(Fe){return this.proto.hasProp(Fe)||v},gatherProperties:function(Fe,Ke){this.proto&&this.proto.gatherProperties(Fe,Ke)}});var Me=a.Obj=function(Fe,Ke){if(this.props||(this.props=Object.create(null)),this.proto=Fe===!0?$e.protos.Object:Fe,Fe&&!Ke&&Fe.name&&!(this instanceof ot)){var dt=/^(.*)\.prototype$/.exec(this.proto.name);dt&&(Ke=dt[1])}this.name=Ke,this.maybeProps=null,this.origin=$e.curOrigin};Me.prototype=E(Ue.prototype,{constructor:Me,toString:function(Fe){if(Fe==null&&(Fe=0),Fe<=0&&this.name)return this.name;var Ke=[],dt=!1;for(var Ot in this.props)if(Ot!="<i>"){if(Ke.length>5){dt=!0;break}Fe?Ke.push(Ot+": "+y(this.props[Ot],Fe-1,this)):Ke.push(Ot)}return Ke.sort(),dt&&Ke.push("..."),"{"+Ke.join(", ")+"}"},hasProp:function(Fe,Ke){var dt=this.props[Fe];if(Ke!==!1)for(var Ot=this.proto;Ot&&!dt;Ot=Ot.proto)dt=Ot.props[Fe];return dt},defProp:function(Fe,Ke){var dt=this.hasProp(Fe,!1);if(dt)return Ke&&!dt.originNode&&(dt.originNode=Ke),dt;if(Fe=="__proto__"||Fe=="\u2716")return v;var Ot=this.maybeProps&&this.maybeProps[Fe];return Ot?(delete this.maybeProps[Fe],this.maybeUnregProtoPropHandler()):(Ot=new U,Ot.propertyOf=this),this.props[Fe]=Ot,Ot.originNode=Ke,Ot.origin=$e.curOrigin,this.broadcastProp(Fe,Ot,!0),Ot},getProp:function(Fe){var Ke=this.hasProp(Fe,!0)||this.maybeProps&&this.maybeProps[Fe];if(Ke)return Ke;if(Fe=="__proto__"||Fe=="\u2716")return v;var dt=this.ensureMaybeProps()[Fe]=new U;return dt.propertyOf=this,dt},broadcastProp:function(Fe,Ke,dt){if(dt&&(this.signal("addProp",Fe,Ke),this instanceof Ht||Xe(Fe,this)),this.onNewProp)for(var Ot=0;Ot<this.onNewProp.length;++Ot){var $t=this.onNewProp[Ot];$t.onProtoProp?$t.onProtoProp(Fe,Ke,dt):$t(Fe,Ke,dt)}},onProtoProp:function(Fe,Ke,dt){var Ot=this.maybeProps&&this.maybeProps[Fe];Ot&&(delete this.maybeProps[Fe],this.maybeUnregProtoPropHandler(),this.proto.getProp(Fe).propagate(Ot)),this.broadcastProp(Fe,Ke,!1)},ensureMaybeProps:function(){return this.maybeProps||(this.proto&&this.proto.forAllProps(this),this.maybeProps=Object.create(null)),this.maybeProps},removeProp:function(Fe){var Ke=this.props[Fe];delete this.props[Fe],this.ensureMaybeProps()[Fe]=Ke,Ke.types.length=0},forAllProps:function(Fe){this.onNewProp||(this.onNewProp=[],this.proto&&this.proto.forAllProps(this)),this.onNewProp.push(Fe);for(var Ke=this;Ke;Ke=Ke.proto)for(var dt in Ke.props)Fe.onProtoProp?Fe.onProtoProp(dt,Ke.props[dt],Ke==this):Fe(dt,Ke.props[dt],Ke==this)},maybeUnregProtoPropHandler:function(){if(this.maybeProps){for(var Fe in this.maybeProps)return;this.maybeProps=null}!this.proto||this.onNewProp&&this.onNewProp.length||this.proto.unregPropHandler(this)},unregPropHandler:function(Fe){for(var Ke=0;Ke<this.onNewProp.length;++Ke)if(this.onNewProp[Ke]==Fe){this.onNewProp.splice(Ke,1);break}this.maybeUnregProtoPropHandler()},gatherProperties:function(Fe,Ke){for(var dt in this.props)dt!="<i>"&&Fe(dt,this,Ke);this.proto&&this.proto.gatherProperties(Fe,Ke+1)},getObjType:function(){return this}});var ot=a.Fn=function(Fe,Ke,dt,Ot,$t){Me.call(this,$e.protos.Function,Fe),this.self=Ke,this.args=dt,this.argNames=Ot,this.retval=$t};ot.prototype=E(Me.prototype,{constructor:ot,toString:function(Fe){Fe==null&&(Fe=0);for(var Ke="fn(",dt=0;dt<this.args.length;++dt){dt&&(Ke+=", ");var Ot=this.argNames[dt];Ot&&Ot!="?"&&(Ke+=Ot+": "),Ke+=Fe>-3?y(this.args[dt],Fe-1,this):"?"}return Ke+=")",this.retval.isEmpty()||(Ke+=" -> "+(Fe>-3?y(this.retval,Fe-1,this):"?")),Ke},getProp:function(Fe){if(Fe=="prototype"){var Ke=this.hasProp(Fe,!1);if(!Ke){Ke=this.defProp(Fe);var dt=new Me(!0,this.name&&this.name+".prototype");dt.origin=this.origin,Ke.addType(dt,R)}return Ke}return Me.prototype.getProp.call(this,Fe)},defProp:function(Fe,Ke){if(Fe=="prototype"){var dt=this.hasProp(Fe,!1);return dt||(dt=Me.prototype.defProp.call(this,Fe,Ke),dt.origin=this.origin,dt.propagate(new me(this)),dt)}return Me.prototype.defProp.call(this,Fe,Ke)},getFunctionType:function(){return this}});var Se=a.Arr=function(Fe){Me.call(this,$e.protos.Array);var Ke=this.defProp("<i>");Fe&&Fe.propagate(Ke)};Se.prototype=E(Me.prototype,{constructor:Se,toString:function(Fe){return Fe==null&&(Fe=0),"["+(Fe>-3?y(this.getProp("<i>"),Fe-1,this):"?")+"]"}});function Xe(Fe,Ke){var dt=$e.props[Fe]||($e.props[Fe]=[]);dt.push(Ke)}function ct(Fe){return $e.props[Fe]}a.Context=function(Fe,Ke){this.parent=Ke,this.props=Object.create(null),this.protos=Object.create(null),this.origins=[],this.curOrigin="ecma5",this.paths=Object.create(null),this.definitions=Object.create(null),this.purgeGen=0,this.workList=null,this.disabledComputing=null,a.withContext(this,function(){if($e.protos.Object=new Me(null,"Object.prototype"),$e.topScope=new Ht,$e.topScope.name="<top>",$e.protos.Array=new Me(!0,"Array.prototype"),$e.protos.Function=new Me(!0,"Function.prototype"),$e.protos.RegExp=new Me(!0,"RegExp.prototype"),$e.protos.String=new Me(!0,"String.prototype"),$e.protos.Number=new Me(!0,"Number.prototype"),$e.protos.Boolean=new Me(!0,"Boolean.prototype"),$e.str=new ce($e.protos.String,"string"),$e.bool=new ce($e.protos.Boolean,"bool"),$e.num=new ce($e.protos.Number,"number"),$e.curOrigin=null,Fe)for(var dt=0;dt<Fe.length;++dt)c.load(Fe[dt])})};var $e=null;a.cx=function(){return $e},a.withContext=function(Fe,Ke){var dt=$e;$e=Fe;try{return Ke()}finally{$e=dt}},a.TimedOut=function(){this.message="Timed out",this.stack=new Error().stack},a.TimedOut.prototype=Object.create(Error.prototype),a.TimedOut.prototype.name="infer.TimedOut";var Et;a.withTimeout=function(Fe,Ke){var dt=+new Date+Fe,Ot=Et;if(Ot&&Ot<dt)return Ke();Et=dt;try{return Ke()}finally{Et=Ot}},a.addOrigin=function(Fe){$e.origins.indexOf(Fe)<0&&$e.origins.push(Fe)};var Dt=20,er=1e-4;function Gt(Fe){if($e.workList)return Fe($e.workList);var Ke=[],dt=0,Ot=$e.workList=function(ai,jt,ni){dt<Dt-er*Ke.length&&Ke.push(ai,jt,ni,dt)};try{for(var $t=Fe(Ot),Cr=0;Cr<Ke.length;Cr+=4){if(Et&&+new Date>=Et)throw new a.TimedOut;dt=Ke[Cr+3]+1,Ke[Cr+1].addType(Ke[Cr],Ke[Cr+2])}return $t}finally{$e.workList=null}}var Ht=a.Scope=function(Fe){Me.call(this,Fe||!0),this.prev=Fe};Ht.prototype=E(Me.prototype,{constructor:Ht,defVar:function(Fe,Ke){for(var dt=this;;dt=dt.proto){var Ot=dt.props[Fe];if(Ot)return Ot;if(!dt.prev)return dt.defProp(Fe,Ke)}}});function Kt(Fe,Ke){Fe.fnType&&(Fe.fnType.instantiateScore=(Fe.fnType.instantiateScore||0)+Ke)}var yr={};function Ur(Fe,Ke){try{return n.simple(Fe,{Expression:function(){if(--Ke<=0)throw yr}}),!0}catch(dt){if(dt==yr)return!1;throw dt}}function Yr(Fe,Ke){var dt=Ke.fnType.instantiateScore;if(!$e.disabledComputing&&dt&&Ke.fnType.args.length&&Ur(Fe,dt*5))return Kt(Ke.prev,dt/2),oi(Fe,Ke),!0;Ke.fnType.instantiateScore=null}function oi(Fe,Ke){for(var dt=Ke.fnType,Ot=0;Ot<dt.args.length;++Ot)dt.args[Ot]=new U;dt.self=new U,dt.computeRet=function($t,Cr){return ye(dt,function(){var ai=$e.curOrigin;$e.curOrigin=dt.origin;var jt=new Ht(Ke.prev);jt.originNode=Ke.originNode;for(var ni in Ke.props)for(var Mn=jt.defProp(ni,Ke.props[ni].originNode),Tt=0;Tt<Cr.length;++Tt)dt.argNames[Tt]==ni&&Tt<Cr.length&&Cr[Tt].propagate(Mn);for(var ur=dt.argNames.length!=Cr.length?dt.argNames.slice(0,Cr.length):dt.argNames;ur.length<Cr.length;)ur.push("?");if(jt.fnType=new ot(dt.name,$t,Cr,ur,v),jt.fnType.originNode=dt.originNode,dt.arguments){var Pr=jt.fnType.arguments=new U;jt.defProp("arguments").addType(new Se(Pr));for(var Tt=0;Tt<Cr.length;++Tt)Cr[Tt].propagate(Pr)}return Fe.body.scope=jt,n.recursive(Fe.body,jt,null,rr),n.recursive(Fe.body,jt,null,gt),$e.curOrigin=ai,jt.fnType.retval})}}function xt(Fe){var Ke=Fe.fnType,dt=Ke.retval;if(dt==v)return;var Ot,$t;!dt.isEmpty()&&(Ot=dt.getType())instanceof Se&&(dt=$t=Ot.getProp("<i>"));function Cr(Tt,ur,Pr){if(!(Pr>3||!Tt.forward))for(var xr=0;xr<Tt.forward.length;++xr){var Fr=Tt.forward[xr].propagatesTo();if(!!Fr){var qi=ur,ui;if(Fr instanceof U)ui=Fr;else if(Fr.target instanceof U)qi+=Fr.pathExt,ui=Fr.target;else continue;if(ui==dt)return qi;var Li=Cr(ui,qi,Pr+1);if(Li)return Li}}}for(var ai=Cr(Ke.self,"!this",0),jt=0;!ai&&jt<Ke.args.length;++jt)ai=Cr(Ke.args[jt],"!"+jt,0);if(ai){$t&&(ai="["+ai+"]");var ni=new c.TypeParser(ai),Mn=ni.parseType(!0);return Ke.computeRet=Mn.apply?Mn:function(){return Mn},Ke.computeRetSource=ai,!0}}function kt(Fe,Ke){return Fe.defProp(Ke.name,Ke)}var rr=n.make({Function:function(Fe,Ke,dt){var Ot=Fe.body.scope=new Ht(Ke);Ot.originNode=Fe;for(var $t=[],Cr=[],ai=0;ai<Fe.params.length;++ai){var jt=Fe.params[ai];Cr.push(jt.name),$t.push(kt(Ot,jt))}if(Ot.fnType=new ot(Fe.id&&Fe.id.name,new U,$t,Cr,v),Ot.fnType.originNode=Fe,Fe.id){var ni=Fe.type=="FunctionDeclaration";kt(ni?Ke:Ot,Fe.id)}dt(Fe.body,Ot,"ScopeBody")},TryStatement:function(Fe,Ke,dt){if(dt(Fe.block,Ke,"Statement"),Fe.handler){var Ot=kt(Ke,Fe.handler.param);dt(Fe.handler.body,Ke,"ScopeBody");var $t=$e.definitions.ecma5;$t&&Ot.isEmpty()&&re($t["Error.prototype"]).propagate(Ot,M)}Fe.finalizer&&dt(Fe.finalizer,Ke,"Statement")},VariableDeclaration:function(Fe,Ke,dt){for(var Ot=0;Ot<Fe.declarations.length;++Ot){var $t=Fe.declarations[Ot];kt(Ke,$t.id),$t.init&&dt($t.init,Ke,"Expression")}}});function mt(Fe,Ke,dt){var Ot=Fe.property;return Fe.computed?Ot.type=="Literal"&&typeof Ot.value=="string"?Ot.value:(dt&&Te(Ot,Ke,dt,v),"<i>"):Ot.name}function ft(Fe){switch(Fe){case"+":case"-":case"~":return $e.num;case"!":return $e.bool;case"typeof":return $e.str;case"void":case"delete":return v}}function Ut(Fe){switch(Fe){case"==":case"!=":case"===":case"!==":case"<":case">":case">=":case"<=":case"in":case"instanceof":return!0}}function ir(Fe){if(Fe.regex)return re($e.protos.RegExp);switch(typeof Fe.value){case"boolean":return $e.bool;case"number":return $e.num;case"string":return $e.str;case"object":case"function":return Fe.value?re($e.protos.RegExp):v}}function vr(Fe){return function(Ke,dt,Ot,$t,Cr){var ai=Fe(Ke,dt,Ot,Cr);return $t&&ai.propagate($t),ai}}function nt(Fe){return function(Ke,dt,Ot,$t,Cr){return $t||($t=new U),Fe(Ke,dt,Ot,$t,Cr),$t}}var De={ArrayExpression:vr(function(Fe,Ke,dt){for(var Ot=new U,$t=0;$t<Fe.elements.length;++$t){var Cr=Fe.elements[$t];Cr&&Te(Cr,Ke,dt,Ot)}return new Se(Ot)}),ObjectExpression:vr(function(Fe,Ke,dt,Ot){var $t=Fe.objType=new Me(!0,Ot);$t.originNode=Fe;for(var Cr=0;Cr<Fe.properties.length;++Cr){var ai=Fe.properties[Cr],jt=ai.key,Ot;if(ai.value.name!="\u2716"){if(jt.type=="Identifier"?Ot=jt.name:typeof jt.value=="string"&&(Ot=jt.value),!Ot||ai.kind=="set"){Te(ai.value,Ke,dt,v);continue}var ni=$t.defProp(Ot,jt),Mn=ni;ni.initializer=!0,ai.kind=="get"&&(Mn=new de($t,[],null,ni)),Te(ai.value,Ke,dt,Mn,Ot)}}return $t}),FunctionExpression:vr(function(Fe,Ke,dt,Ot){var $t=Fe.body.scope,Cr=$t.fnType;return Ot&&!Cr.name&&(Cr.name=Ot),dt(Fe.body,Ke,"ScopeBody"),Yr(Fe,$t)||xt($t),Fe.id&&$t.getProp(Fe.id.name).addType(Cr),Cr}),SequenceExpression:vr(function(Fe,Ke,dt){for(var Ot=0,$t=Fe.expressions.length-1;Ot<$t;++Ot)Te(Fe.expressions[Ot],Ke,dt,v);return Te(Fe.expressions[$t],Ke,dt)}),UnaryExpression:vr(function(Fe,Ke,dt){return Te(Fe.argument,Ke,dt,v),ft(Fe.operator)}),UpdateExpression:vr(function(Fe,Ke,dt){return Te(Fe.argument,Ke,dt,v),$e.num}),BinaryExpression:vr(function(Fe,Ke,dt){if(Fe.operator=="+"){var Ot=Te(Fe.left,Ke,dt),$t=Te(Fe.right,Ke,dt);if(Ot.hasType($e.str)||$t.hasType($e.str))return $e.str;if(Ot.hasType($e.num)&&$t.hasType($e.num))return $e.num;var Cr=new U;return Ot.propagate(new Re($t,Cr)),$t.propagate(new Re(Ot,Cr)),Cr}else return Te(Fe.left,Ke,dt,v),Te(Fe.right,Ke,dt,v),Ut(Fe.operator)?$e.bool:$e.num}),AssignmentExpression:vr(function(Fe,Ke,dt){var Ot,$t,Cr;if(Fe.left.type=="MemberExpression"?(Cr=mt(Fe.left,Ke,dt),Fe.left.object.type=="Identifier"&&($t=Fe.left.object.name+"."+Cr)):$t=Fe.left.name,Fe.operator!="="&&Fe.operator!="+="?(Te(Fe.right,Ke,dt,v),Ot=$e.num):Ot=Te(Fe.right,Ke,dt,null,$t),Fe.left.type=="MemberExpression"){var ai=Te(Fe.left.object,Ke,dt);if(Cr=="prototype"&&Kt(Ke,20),Cr=="<i>"){var jt=Fe.left.property.name,ni=Ke.props[jt],Mn=ni&&ni.iteratesOver;if(Mn){Kt(Ke,20);var Tt=Fe.right.type=="MemberExpression"&&Fe.right.computed&&Fe.right.property.name==jt;return Mn.forAllProps(function(ur,Pr,xr){xr&&ur!="prototype"&&ur!="<i>"&&ai.propagate(new ne(ur,Tt?Pr:v))}),Ot}}ai.propagate(new ne(Cr,Ot,Fe.left.property))}else Ot.propagate(Ke.defVar(Fe.left.name,Fe.left));return Ot}),LogicalExpression:nt(function(Fe,Ke,dt,Ot){Te(Fe.left,Ke,dt,Ot),Te(Fe.right,Ke,dt,Ot)}),ConditionalExpression:nt(function(Fe,Ke,dt,Ot){Te(Fe.test,Ke,dt,v),Te(Fe.consequent,Ke,dt,Ot),Te(Fe.alternate,Ke,dt,Ot)}),NewExpression:nt(function(Fe,Ke,dt,Ot,$t){Fe.callee.type=="Identifier"&&Fe.callee.name in Ke.props&&Kt(Ke,20);for(var Cr=0,ai=[];Cr<Fe.arguments.length;++Cr)ai.push(Te(Fe.arguments[Cr],Ke,dt));var jt=Te(Fe.callee,Ke,dt),ni=new U;jt.propagate(new le(ni,$t&&/\.prototype$/.test($t))),ni.propagate(Ot,k),jt.propagate(new de(ni,ai,Fe.arguments,new Ie(Ot)))}),CallExpression:nt(function(Fe,Ke,dt,Ot){for(var $t=0,Cr=[];$t<Fe.arguments.length;++$t)Cr.push(Te(Fe.arguments[$t],Ke,dt));if(Fe.callee.type=="MemberExpression"){var ai=Te(Fe.callee.object,Ke,dt),jt=mt(Fe.callee,Ke,dt);(jt=="call"||jt=="apply")&&Ke.fnType&&Ke.fnType.args.indexOf(ai)>-1&&Kt(Ke,30),ai.propagate(new xe(jt,Cr,Fe.arguments,Ot))}else{var ni=Te(Fe.callee,Ke,dt);Ke.fnType&&Ke.fnType.args.indexOf(ni)>-1&&Kt(Ke,30);var Mn=ni.getFunctionType();Mn&&Mn.instantiateScore&&Ke.fnType&&Kt(Ke,Mn.instantiateScore/5),ni.propagate(new de($e.topScope,Cr,Fe.arguments,Ot))}}),MemberExpression:nt(function(Fe,Ke,dt,Ot){var $t=mt(Fe,Ke),Cr=Te(Fe.object,Ke,dt),ai=Cr.getProp($t);if($t=="<i>"){var jt=Te(Fe.property,Ke,dt);if(!jt.hasType($e.num))return ai.propagate(Ot,B)}ai.propagate(Ot)}),Identifier:vr(function(Fe,Ke){return Fe.name=="arguments"&&Ke.fnType&&!(Fe.name in Ke.props)&&Ke.defProp(Fe.name,Ke.fnType.originNode).addType(new Se(Ke.fnType.arguments=new U)),Ke.getProp(Fe.name)}),ThisExpression:vr(function(Fe,Ke){return Ke.fnType?Ke.fnType.self:$e.topScope}),Literal:vr(function(Fe){return ir(Fe)})};function Te(Fe,Ke,dt,Ot,$t){return De[Fe.type](Fe,Ke,dt,Ot,$t)}var gt=n.make({Expression:function(Fe,Ke,dt){Te(Fe,Ke,dt,v)},FunctionDeclaration:function(Fe,Ke,dt){var Ot=Fe.body.scope,$t=Ot.fnType;dt(Fe.body,Ke,"ScopeBody"),Yr(Fe,Ot)||xt(Ot);var Cr=Ke.getProp(Fe.id.name);Cr.addType($t)},VariableDeclaration:function(Fe,Ke,dt){for(var Ot=0;Ot<Fe.declarations.length;++Ot){var $t=Fe.declarations[Ot],Cr=Ke.getProp($t.id.name);$t.init&&Te($t.init,Ke,dt,Cr,$t.id.name)}},ReturnStatement:function(Fe,Ke,dt){if(!!Fe.argument){var Ot=v;Ke.fnType&&(Ke.fnType.retval==v&&(Ke.fnType.retval=new U),Ot=Ke.fnType.retval),Te(Fe.argument,Ke,dt,Ot)}},ForInStatement:function(Fe,Ke,dt){var Ot=Te(Fe.right,Ke,dt);if(Fe.right.type=="Identifier"&&Fe.right.name in Ke.props||Fe.right.type=="MemberExpression"&&Fe.right.property.name=="prototype"){Kt(Ke,5);var $t;Fe.left.type=="Identifier"?$t=Fe.left.name:Fe.left.type=="VariableDeclaration"&&($t=Fe.left.declarations[0].id.name),$t&&$t in Ke.props&&(Ke.getProp($t).iteratesOver=Ot)}dt(Fe.body,Ke,"Statement")},ScopeBody:function(Fe,Ke,dt){dt(Fe,Fe.scope||Ke)}});function zt(Fe,Ke){var dt=Fe&&Fe[Ke],Ot=Array.prototype.slice.call(arguments,2);if(dt)for(var $t=0;$t<dt.length;++$t)dt[$t].apply(null,Ot)}var Bt=a.parse=function(Fe,Ke,dt){var Ot;try{Ot=t.parse(Fe,dt)}catch{Ot=r.parse_dammit(Fe,dt)}return zt(Ke,"postParse",Ot,Fe),Ot};a.analyze=function(Fe,Ke,dt,Ot){typeof Fe=="string"&&(Fe=Bt(Fe)),Ke||(Ke="file#"+$e.origins.length),a.addOrigin($e.curOrigin=Ke),dt||(dt=$e.topScope),n.recursive(Fe,dt,null,rr),zt(Ot,"preInfer",Fe,dt),n.recursive(Fe,dt,null,gt),zt(Ot,"postInfer",Fe,dt),$e.curOrigin=null},a.purge=function(Fe,Ke,dt){var Ot=bt(Fe,Ke,dt);++$e.purgeGen,$e.topScope.purge(Ot);for(var $t in $e.props){for(var Cr=$e.props[$t],ai=0;ai<Cr.length;++ai){var jt=Cr[ai],ni=jt.props[$t];(!ni||Ot(ni,ni.originNode))&&Cr.splice(ai--,1)}Cr.length||delete $e.props[$t]}};function bt(Fe,Ke,dt){var Ot=Array.isArray(Fe);return Ot&&Fe.length==1&&(Fe=Fe[0],Ot=!1),Ot?dt==null?function($t){return Fe.indexOf($t.origin)>-1}:function($t,Cr){return Cr&&Cr.start>=Ke&&Cr.end<=dt&&Fe.indexOf($t.origin)>-1}:dt==null?function($t){return $t.origin==Fe}:function($t,Cr){return Cr&&Cr.start>=Ke&&Cr.end<=dt&&$t.origin==Fe}}U.prototype.purge=function(Fe){if(this.purgeGen!=$e.purgeGen){this.purgeGen=$e.purgeGen;for(var Ke=0;Ke<this.types.length;++Ke){var dt=this.types[Ke];Fe(dt,dt.originNode)?this.types.splice(Ke--,1):dt.purge(Fe)}if(this.forward)for(var Ke=0;Ke<this.forward.length;++Ke){var Ot=this.forward[Ke];Fe(Ot)?(this.forward.splice(Ke--,1),this.props&&(this.props=null)):Ot.purge&&Ot.purge(Fe)}}},v.purge=function(){},Me.prototype.purge=function(Fe){if(this.purgeGen==$e.purgeGen)return!0;this.purgeGen=$e.purgeGen;for(var Ke in this.props){var dt=this.props[Ke];Fe(dt,dt.originNode)&&this.removeProp(Ke),dt.purge(Fe)}},ot.prototype.purge=function(Fe){if(!Me.prototype.purge.call(this,Fe)){this.self.purge(Fe),this.retval.purge(Fe);for(var Ke=0;Ke<this.args.length;++Ke)this.args[Ke].purge(Fe)}};function Rr(Fe){Vr=!0;var Ke=ct(Fe);if(Ke)for(var dt=0;dt<Ke.length;++dt){var Ot=Ke[dt].getProp(Fe);if(!Ot.isEmpty())return Ot}return v}var Ct={ArrayExpression:function(Fe,Ke){for(var dt=new U,Ot=0;Ot<Fe.elements.length;++Ot){var $t=Fe.elements[Ot];$t&&Nt($t,Ke).propagate(dt)}return new Se(dt)},ObjectExpression:function(Fe){return Fe.objType},FunctionExpression:function(Fe){return Fe.body.scope.fnType},SequenceExpression:function(Fe,Ke){return Nt(Fe.expressions[Fe.expressions.length-1],Ke)},UnaryExpression:function(Fe){return ft(Fe.operator)},UpdateExpression:function(){return $e.num},BinaryExpression:function(Fe,Ke){if(Ut(Fe.operator))return $e.bool;if(Fe.operator=="+"){var dt=Nt(Fe.left,Ke),Ot=Nt(Fe.right,Ke);if(dt.hasType($e.str)||Ot.hasType($e.str))return $e.str}return $e.num},AssignmentExpression:function(Fe,Ke){return Nt(Fe.right,Ke)},LogicalExpression:function(Fe,Ke){var dt=Nt(Fe.left,Ke);return dt.isEmpty()?Nt(Fe.right,Ke):dt},ConditionalExpression:function(Fe,Ke){var dt=Nt(Fe.consequent,Ke);return dt.isEmpty()?Nt(Fe.alternate,Ke):dt},NewExpression:function(Fe,Ke){var dt=Nt(Fe.callee,Ke).getFunctionType(),Ot=dt&&dt.getProp("prototype").getObjType();return Ot?re(Ot,dt):v},CallExpression:function(Fe,Ke){var dt=Nt(Fe.callee,Ke).getFunctionType();if(!dt)return v;if(dt.computeRet){for(var Ot=0,$t=[];Ot<Fe.arguments.length;++Ot)$t.push(Nt(Fe.arguments[Ot],Ke));var Cr=v;return Fe.callee.type=="MemberExpression"&&(Cr=Nt(Fe.callee.object,Ke)),dt.computeRet(Cr,$t,Fe.arguments)}else return dt.retval},MemberExpression:function(Fe,Ke){var dt=mt(Fe,Ke),Ot=Nt(Fe.object,Ke).getType();return Ot?Ot.getProp(dt):dt=="<i>"?v:Rr(dt)},Identifier:function(Fe,Ke){return Ke.hasProp(Fe.name)||v},ThisExpression:function(Fe,Ke){return Ke.fnType?Ke.fnType.self:$e.topScope},Literal:function(Fe){return ir(Fe)}};function Nt(Fe,Ke){return Ct[Fe.type](Fe,Ke)}var lr=a.searchVisitor=n.make({Function:function(Fe,Ke,dt){var Ot=Fe.body.scope;Fe.id&&dt(Fe.id,Ot);for(var $t=0;$t<Fe.params.length;++$t)dt(Fe.params[$t],Ot);dt(Fe.body,Ot,"ScopeBody")},TryStatement:function(Fe,Ke,dt){Fe.handler&&dt(Fe.handler.param,Ke),n.base.TryStatement(Fe,Ke,dt)},VariableDeclaration:function(Fe,Ke,dt){for(var Ot=0;Ot<Fe.declarations.length;++Ot){var $t=Fe.declarations[Ot];dt($t.id,Ke),$t.init&&dt($t.init,Ke,"Expression")}}});a.fullVisitor=n.make({MemberExpression:function(Fe,Ke,dt){dt(Fe.object,Ke,"Expression"),dt(Fe.property,Ke,Fe.computed?"Expression":null)},ObjectExpression:function(Fe,Ke,dt){for(var Ot=0;Ot<Fe.properties.length;++Ot)dt(Fe.properties[Ot].value,Ke,"Expression"),dt(Fe.properties[Ot].key,Ke)}},lr),a.findExpressionAt=function(Fe,Ke,dt,Ot,$t){var Cr=$t||function(ai,jt){return jt.type=="Identifier"&&jt.name=="\u2716"?!1:Ct.hasOwnProperty(jt.type)};return n.findNodeAt(Fe,Ke,dt,Cr,lr,Ot||$e.topScope)},a.findExpressionAround=function(Fe,Ke,dt,Ot,$t){var Cr=$t||function(ai,jt){return Ke!=null&&jt.start>Ke||jt.type=="Identifier"&&jt.name=="\u2716"?!1:Ct.hasOwnProperty(jt.type)};return n.findNodeAround(Fe,dt,Cr,lr,Ot||$e.topScope)},a.expressionType=function(Fe){return Nt(Fe.node,Fe.state)},a.parentNode=function(Fe,Ke){var dt=[];function Ot($t,Cr,ai){if($t.start<=Fe.start&&$t.end>=Fe.end){var jt=dt[dt.length-1];if($t==Fe)throw{found:jt};jt!=$t&&dt.push($t),n.base[ai||$t.type]($t,Cr,Ot),jt!=$t&&dt.pop()}}try{Ot(Ke,null)}catch($t){if($t.found)return $t.found;throw $t}};var Sr={ArrayExpression:function(Fe,Ke,dt){return dt(Fe,!0).getProp("<i>")},ObjectExpression:function(Fe,Ke,dt){for(var Ot=0;Ot<Fe.properties.length;++Ot){var $t=Ke.properties[Ot];if($t.value==Ke)return dt(Fe,!0).getProp($t.key.name)}},UnaryExpression:function(Fe){return ft(Fe.operator)},UpdateExpression:function(){return $e.num},BinaryExpression:function(Fe){return Ut(Fe.operator)?$e.bool:$e.num},AssignmentExpression:function(Fe,Ke,dt){return dt(Fe.left)},LogicalExpression:function(Fe,Ke,dt){return dt(Fe,!0)},ConditionalExpression:function(Fe,Ke,dt){if(Fe.consequent==Ke||Fe.alternate==Ke)return dt(Fe,!0)},NewExpression:function(Fe,Ke,dt){return this.CallExpression(Fe,Ke,dt)},CallExpression:function(Fe,Ke,dt){for(var Ot=0;Ot<Fe.arguments.length;Ot++){var $t=Fe.arguments[Ot];if($t==Ke){var Cr=dt(Fe.callee).getFunctionType();if(Cr instanceof ot)return Cr.args[Ot];break}}},ReturnStatement:function(Fe,Ke,dt){var Ot=n.findNodeAround(Ke.sourceFile.ast,Ke.start,"Function");if(Ot){var $t=Ot.node.type=="FunctionExpression"?dt(Ot.node,!0).getFunctionType():Ot.node.body.scope.fnType;if($t)return $t.retval.getType()}},VariableDeclaration:function(Fe,Ke,dt){for(var Ot=0;Ot<Fe.declarations.length;Ot++){var $t=Fe.declarations[Ot];if($t.init==Ke)return dt($t.id)}}};a.typeFromContext=function(Fe,Ke){var dt=a.parentNode(Ke.node,Fe),Ot=null;return Sr.hasOwnProperty(dt.type)&&(Ot=Sr[dt.type](dt,Ke.node,function($t,Cr){var ai={node:$t,state:Ke.state},jt=Cr?a.typeFromContext(Fe,ai):a.expressionType(ai);return jt||v})),Ot||a.expressionType(Ke)};var Vr=!1;a.resetGuessing=function(Fe){Vr=Fe},a.didGuess=function(){return Vr},a.forAllPropertiesOf=function(Fe,Ke){Fe.gatherProperties(Ke,0)};var gi=n.make({},lr);a.findRefs=function(Fe,Ke,dt,Ot,$t){gi.Identifier=function(Cr,ai){if(Cr.name==dt){for(var jt=ai;jt;jt=jt.prev)if(jt==Ot&&$t(Cr,ai),dt in jt.props)return}},n.recursive(Fe,Ke,null,gi)};var ki=n.make({Function:function(Fe,Ke,dt){dt(Fe.body,Fe.body.scope,"ScopeBody")}});a.findPropRefs=function(Fe,Ke,dt,Ot,$t){n.simple(Fe,{MemberExpression:function(Cr,ai){Cr.computed||Cr.property.name!=Ot||Nt(Cr.object,ai).getType()==dt&&$t(Cr.property)},ObjectExpression:function(Cr,ai){if(Nt(Cr,ai).getType()==dt)for(var jt=0;jt<Cr.properties.length;++jt)Cr.properties[jt].key.name==Ot&&$t(Cr.properties[jt].key)}},ki,Ke)};var mi=a.scopeAt=function(Fe,Ke,dt){var Ot=n.findNodeAround(Fe,Ke,function($t,Cr){return $t=="ScopeBody"&&Cr.scope});return Ot?Ot.node.scope:dt||$e.topScope};a.forAllLocalsAt=function(Fe,Ke,dt,Ot){var $t=mi(Fe,Ke,dt);$t.gatherProperties(Ot,0)},c=a.def=c.init({},a)});(function(a){if(typeof exports=="object"&&typeof module=="object")return a(require("../lib/infer"),require("../lib/tern"),require("../lib/comment"),require("./js/editor/acorn"),require("./js/editor/acorn/walk"));if(typeof define=="function"&&define.amd)return define(["../lib/infer","../lib/tern","../lib/comment","./js/editor/acorn/acorn","./js/editor/acorn/walk"],a);a(tern,tern,tern.comment,acorn,acorn.walk)})(function(a,t,r,n,c){var p=1,y=101;t.registerPlugin("doc_comment",function(ve,ne){return ve.jsdocTypedefs=Object.create(null),ve.on("reset",function(){ve.jsdocTypedefs=Object.create(null)}),ve._docComment={weight:ne&&ne.strong?y:void 0,fullDocs:ne&&ne.fullDocs},{passes:{postParse:v,postInfer:_,postLoadDef:k}}});function v(ve,ne){function ae(ye){r.ensureCommentsBefore(ne,ye)}c.simple(ve,{VariableDeclaration:ae,FunctionDeclaration:ae,AssignmentExpression:function(ye){ye.operator=="="&&ae(ye)},ObjectExpression:function(ye){for(var de=0;de<ye.properties.length;++de)ae(ye.properties[de])},CallExpression:function(ye){E(ye)&&ae(ye)}})}function E(ve){return ve.callee.type=="MemberExpression"&&ve.callee.object.name=="Object"&&ve.callee.property.name=="defineProperty"&&ve.arguments.length>=3&&typeof ve.arguments[1].value=="string"}function _(ve,ne){oe(ve.sourceFile.text,ne),c.simple(ve,{VariableDeclaration:function(ae,ye){ae.commentsBefore&&R(ae,ae.commentsBefore,ye,ye.getProp(ae.declarations[0].id.name))},FunctionDeclaration:function(ae,ye){ae.commentsBefore&&R(ae,ae.commentsBefore,ye,ye.getProp(ae.id.name),ae.body.scope.fnType)},AssignmentExpression:function(ae,ye){ae.commentsBefore&&R(ae,ae.commentsBefore,ye,a.expressionType({node:ae.left,state:ye}))},ObjectExpression:function(ae,ye){for(var de=0;de<ae.properties.length;++de){var xe=ae.properties[de];xe.commentsBefore&&R(xe,xe.commentsBefore,ye,ae.objType.getProp(xe.key.name))}},CallExpression:function(ae,ye){if(ae.commentsBefore&&E(ae)){var de=a.expressionType({node:ae.arguments[0],state:ye}).getObjType();if(de&&de instanceof a.Obj){var xe=de.props[ae.arguments[1].value];xe&&R(ae,ae.commentsBefore,ye,xe)}}}},a.searchVisitor,ne)}function k(ve){var ne=ve["!typedef"],ae=a.cx(),ye=ve["!name"];if(ne)for(var de in ne)ae.parent.jsdocTypedefs[de]=Z(a.def.parse(ne[de],ye,de),de)}function R(ve,ne,ae,ye,de){fe(ve,ae,ye,ne);var xe=a.cx();!de&&ye instanceof a.AVal&&ye.types.length&&(de=ye.types[ye.types.length-1],(!(de instanceof a.Obj)||de.origin!=xe.curOrigin||de.doc)&&(de=null));var le=ne[ne.length-1];if(xe.parent._docComment.fullDocs)le=le.trim().replace(/\n[ \t]*\* ?/g,`
`);else{var re=le.search(/\.\s/);re>5&&(le=le.slice(0,re+1)),le=le.trim().replace(/\s*\n\s*\*\s*|\s{1,}/g," ")}le=le.replace(/^\s*\*+\s*/,""),ye instanceof a.AVal&&(ye.doc=le),de&&(de.doc=le)}function B(ve,ne){for(;/\s/.test(ve.charAt(ne));)++ne;return ne}function M(ve){if(!n.isIdentifierStart(ve.charCodeAt(0)))return!1;for(var ne=1;ne<ve.length;ne++)if(!n.isIdentifierChar(ve.charCodeAt(ne)))return!1;return!0}function F(ve,ne,ae,ye){for(var de=[],xe=[],le=!1,re=!0;ae=B(ne,ae),!(re&&ne.charAt(ae)==ye);re=!1){var he=ne.indexOf(":",ae);if(he<0)return null;var me=ne.slice(ae,he);if(!M(me))return null;de.push(me),ae=he+1;var Re=H(ve,ne,ae);if(!Re)return null;ae=Re.end,le=le||Re.madeUp,xe.push(Re.type),ae=B(ne,ae);var Ie=ne.charAt(ae);if(++ae,Ie==ye)break;if(Ie!=",")return null}return{labels:de,types:xe,end:ae,madeUp:le}}function H(ve,ne,ae){for(var ye,de=!1,xe=!1;;){var le=U(ve,ne,ae);if(!le)return null;if(xe=xe||le.madeUp,de?le.type.propagate(de):ye=le.type,ae=B(ne,le.end),ne.charAt(ae)!="|")break;ae++,de||(de=new a.AVal,ye.propagate(de),ye=de)}var re=!1;return ne.charAt(ae)=="="&&(++ae,re=!0),{type:ye,end:ae,isOptional:re,madeUp:xe}}function U(ve,ne,ae){ae=B(ne,ae);var ye,de=!1;if(ne.indexOf("function(",ae)==ae){var xe=F(ve,ne,ae+9,")"),le=a.ANull;if(!xe)return null;if(ae=B(ne,xe.end),ne.charAt(ae)==":"){++ae;var re=H(ve,ne,ae+1);if(!re)return null;ae=re.end,le=re.type,de=re.madeUp}ye=new a.Fn(null,a.ANull,xe.types,xe.labels,le)}else if(ne.charAt(ae)=="["){var he=H(ve,ne,ae+1);if(!he||(ae=B(ne,he.end),de=he.madeUp,ne.charAt(ae)!="]"))return null;++ae,ye=new a.Arr(he.type)}else if(ne.charAt(ae)=="{"){var me=F(ve,ne,ae+1,"}");if(!me)return null;ye=new a.Obj(!0);for(var Re=0;Re<me.types.length;++Re){var Ie=ye.defProp(me.labels[Re]);Ie.initializer=!0,me.types[Re].propagate(Ie)}ae=me.end,de=me.madeUp}else if(ne.charAt(ae)=="("){var he=H(ve,ne,ae+1);if(!he||(ae=B(ne,he.end),ne.charAt(ae)!=")"))return null;++ae,ye=he.type}else{var Ne=ae;if(!n.isIdentifierStart(ne.charCodeAt(ae)))return null;for(;n.isIdentifierChar(ne.charCodeAt(ae));)++ae;if(Ne==ae)return null;var Qe=ne.slice(Ne,ae);if(/^(number|integer)$/i.test(Qe))ye=a.cx().num;else if(/^bool(ean)?$/i.test(Qe))ye=a.cx().bool;else if(/^string$/i.test(Qe))ye=a.cx().str;else if(/^(null|undefined)$/i.test(Qe))ye=a.ANull;else if(/^array$/i.test(Qe)){var he=null;if(ne.charAt(ae)=="."&&ne.charAt(ae+1)=="<"){var Ue=H(ve,ne,ae+2);if(!Ue||(ae=B(ne,Ue.end),de=Ue.madeUp,ne.charAt(ae++)!=">"))return null;he=Ue.type}ye=new a.Arr(he)}else if(/^object$/i.test(Qe)){if(ye=new a.Obj(!0),ne.charAt(ae)=="."&&ne.charAt(ae+1)=="<"){var ce=H(ve,ne,ae+2);if(!ce||(ae=B(ne,ce.end),ne.charAt(ae++)!=","))return null;var Me=H(ve,ne,ae);if(!Me||(ae=B(ne,Me.end),de=ce.madeUp||Me.madeUp,ne.charAt(ae++)!=">"))return null;Me.type.propagate(ye.defProp("<i>"))}}else{for(;ne.charCodeAt(ae)==46||n.isIdentifierChar(ne.charCodeAt(ae));)++ae;var ot=ne.slice(Ne,ae),Se=a.cx(),Xe=Se.parent&&Se.parent.jsdocTypedefs,ct;Xe&&ot in Xe?ye=Xe[ot]:(ct=a.def.parsePath(ot,ve).getObjType())?ye=Z(ct,ot):(Se.jsdocPlaceholders||(Se.jsdocPlaceholders=Object.create(null)),ot in Se.jsdocPlaceholders?ye=Se.jsdocPlaceholders[ot]:ye=Se.jsdocPlaceholders[ot]=new a.Obj(null,ot),de=!0)}}return{type:ye,end:ae,madeUp:de}}function Z(ve,ne){if(ve instanceof a.Fn&&/^[A-Z]/.test(ne)){var ae=ve.getProp("prototype").getObjType();if(ae instanceof a.Obj)return a.getInstance(ae)}return ve}function K(ve,ne,ae){if(ae=B(ne,ae||0),ne.charAt(ae)!="{")return null;var ye=H(ve,ne,ae+1);if(!ye)return null;var de=B(ne,ye.end);return ne.charAt(de)!="}"?null:(ye.end=de+1,ye)}function fe(ve,ne,ae,ye){for(var de,xe,le,re,he,me,Re=0;Re<ye.length;++Re)for(var Ie=ye[Re],Ne=/(?:\n|\$|\*)\s*@(type|param|arg(?:ument)?|returns?|this)\s+(.*)/g,Qe;Qe=Ne.exec(Ie);){if(Qe[1]=="this"&&(me=H(ne,Qe[2],0))){he=me,re=!0;continue}if(!!(me=K(ne,Qe[2])))switch(re=!0,Qe[1]){case"returns":case"return":le=me;break;case"type":de=me;break;case"param":case"arg":case"argument":var Ue=Qe[2].slice(me.end).match(/^\s*(\[?)\s*([^\]\s=]+)\s*(?:=[^\]]+\s*)?(\]?).*/);if(!Ue)continue;var ce=Ue[2]+(me.isOptional||Ue[1]==="["&&Ue[3]==="]"?"?":"");(xe||(xe=Object.create(null)))[ce]=me;break}}re&&be(de,he,xe,le,ve,ae)}function oe(ve,ne){for(var ae=a.cx(),ye=/\s@typedef\s+(.*)/g,de;de=ye.exec(ve);){var xe=K(ne,de[1]),le=xe&&de[1].slice(xe.end).match(/^\s*(\S+)/);le&&(ae.parent.jsdocTypedefs[le[1]]=xe.type)}}function we(ve,ne){var ae=a.cx().parent._docComment.weight;ve.type.propagate(ne,ae||(ve.madeUp?p:void 0))}function be(ve,ne,ae,ye,de,xe){var le;if(de.type=="VariableDeclaration"){var re=de.declarations[0];re.init&&re.init.type=="FunctionExpression"&&(le=re.init.body.scope.fnType)}else de.type=="FunctionDeclaration"?le=de.body.scope.fnType:de.type=="AssignmentExpression"?de.right.type=="FunctionExpression"&&(le=de.right.body.scope.fnType):de.type=="CallExpression"||de.value.type=="FunctionExpression"&&(le=de.value.body.scope.fnType);if(le&&(ae||ye||ne)){if(ae)for(var he=0;he<le.argNames.length;++he){var me=le.argNames[he],Re=ae[me];!Re&&(Re=ae[me+"?"])&&(le.argNames[he]+="?"),Re&&we(Re,le.args[he])}ye&&we(ye,le.retval),ne&&we(ne,le.self)}else ve&&we(ve,xe)}});(function(a){if(typeof exports=="object"&&typeof module=="object")return a(require("./js/ternjs/tern/lib/infer"),require("./js/ternjs/lib/tern"));if(typeof define=="function"&&define.amd)return define(["./js/ternjs/lib/infer","./js/ternjs/lib/tern"],a);a(tern,tern)})(function(a,t){t.registerPlugin("threejs",function(r,n){return{defs:{"!name":"threejs",THREE:{Original:{"!url":"http://threejs.org/docs/#Reference/Original",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"todo"},Camera:{"!url":"http://threejs.org/docs/#Reference/cameras/Camera",prototype:{"!proto":"THREE.Object3D.prototype",matrixWorldInverse:{"!type":"+THREE.Matrix4","!doc":"This is the inverse of matrixWorld. MatrixWorld contains the Matrix which has the world transform of the Camera."},projectionMatrix:{"!type":"+THREE.Matrix4","!doc":"This is the matrix which contains the projection."},lookAt:{"!type":"fn(vector: +THREE.Vector3)","!doc":`vector \u2014 point to look at<br>
		<br>
		This makes the camera look at the vector position in the global space as long as the parent of this camera is the scene or at position (0,0,0).`}},"!doc":"Abstract base class for cameras. This class should always be inherited when you build a new camera.","!type":"fn()"},CubeCamera:{"!url":"http://threejs.org/docs/#Reference/cameras/CubeCamera",prototype:{"!proto":"THREE.Object3D.prototype",renderTarget:{"!type":"+THREE.WebGLRenderTargetCube","!doc":"The cube texture that gets generated."},updateCubeMap:{"!type":"fn(renderer: todo, scene: todo) -> todo","!doc":"Call this to update the renderTarget."}},"!doc":"Creates 6 cameras that render to a [page:WebGLRenderTargetCube].","!type":"fn(near: number, far: number, cubeResolution: number)"},OrthographicCamera:{"!url":"http://threejs.org/docs/#Reference/cameras/OrthographicCamera",prototype:{"!proto":"THREE.Camera.prototype",left:{"!type":"number","!doc":"Camera frustum left plane."},right:{"!type":"number","!doc":"Camera frustum right plane."},top:{"!type":"number","!doc":"Camera frustum top plane."},bottom:{"!type":"number","!doc":"Camera frustum bottom plane."},near:{"!type":"number","!doc":"Camera frustum near plane."},far:{"!type":"number","!doc":"Camera frustum far plane."},updateProjectionMatrix:{"!type":"fn()","!doc":"Updates the camera projection matrix. Must be called after change of parameters."}},"!doc":"Camera with orthographic projection.","!type":"fn(left: number, right: number, top: number, bottom: number, near: number, far: number)"},PerspectiveCamera:{"!url":"http://threejs.org/docs/#Reference/cameras/PerspectiveCamera",prototype:{"!proto":"THREE.Camera.prototype",fov:{"!type":"number","!doc":"Camera frustum vertical field of view, from bottom to top of view, in degrees."},aspect:{"!type":"number","!doc":"Camera frustum aspect ratio, window width divided by window height."},near:{"!type":"number","!doc":"Camera frustum near plane."},far:{"!type":"number","!doc":"Camera frustum far plane."},setLens:{"!type":"fn(focalLength: number, frameSize: number)","!doc":`Uses focal length (in mm) to estimate and set FOV 35mm (fullframe) camera is used if frame size is not specified.<br>
		Formula based on [link:http://www.bobatkins.com/photography/technical/field_of_view.html]`},setViewOffset:{"!type":"fn(fullWidth: number, fullHeight: number, x: number, y: number, width: number, height: number)","!doc":`For example, if you have 3x2 monitors and each monitor is 1920x1080 and the monitors are in grid like this:<br>

		<pre>+---+---+---+
| A | B | C |
+---+---+---+
| D | E | F |
+---+---+---+</pre>

		then for each monitor you would call it like this:<br>

		<code>var w = 1920;
var h = 1080;
var fullWidth = w * 3;
var fullHeight = h * 2;

// A
camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );
// B
camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );
// C
camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );
// D
camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );
// E
camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );
// F
camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );
</code>

		Note there is no reason monitors have to be the same size or in a grid.`},updateProjectionMatrix:{"!type":"fn()","!doc":"Updates the camera projection matrix. Must be called after change of parameters."}},"!doc":"Camera with perspective projection.","!type":"fn(fov: number, aspect: number, near: number, far: number)"},CustomBlendingEquations:{"!url":"http://threejs.org/docs/#Reference/constants/CustomBlendingEquations",prototype:{}},GLState:{"!url":"http://threejs.org/docs/#Reference/constants/GLState",prototype:{}},Materials:{"!url":"http://threejs.org/docs/#Reference/constants/Materials",prototype:{}},ShadowingTypes:{"!url":"http://threejs.org/docs/#Reference/constants/ShadowingTypes",prototype:{}},Textures:{"!url":"http://threejs.org/docs/#Reference/constants/Textures",prototype:{}},BufferAttribute:{"!url":"http://threejs.org/docs/#Reference/core/BufferAttribute",prototype:{array:{"!type":"[]","!doc":"Stores the data associated with this attribute; can be an Array or a Typed Array. This element should have <code>itemSize * numVertices</code> elements, where numVertices is the number of vertices in the associated [page:BufferGeometry geometry]."},itemSize:{"!type":"number","!doc":`Records how many items of the array are associated with a particular vertex. For instance, if this
		attribute is storing a 3-component vector (such as a position, normal, or color), then itemSize should be 3.`},length:{"!type":"number","!doc":"Gives the total number of elements in the array."},needsUpdate:{"!type":"bool","!doc":"Flag to indicate that this attribute has changed and should be re-send to the GPU. Set this to true when you modify the value of the array."},setX:{"!type":"fn(index, x)","!doc":"Sets the value of the array at <code>index * itemSize</code> to x"},setY:{"!type":"fn(index, y)","!doc":"Sets the value of the array at <code>index * itemSize + 1</code> to y"},setZ:{"!type":"fn(index, z)","!doc":"Sets the value of the array at <code>index * itemSize + 2</code> to z"},setXY:{"!type":"fn(index, x, y)","!doc":`Sets the value of the array at <code>index * itemSize</code> to x and 
		sets the value of the array at <code>index * itemSize + 1</code> to y`},setXYZ:{"!type":"fn(index, x, y, z)","!doc":`Sets the value of the array at <code>index * itemSize</code> to x,
		the value of the array at <code>index * itemSize + 1</code> to y, and
		the value of the array at <code>index * itemSize + 2</code> to z.`},setXYZW:{"!type":"fn(index, x, y, z, w)","!doc":`Sets the value of the array at <code>index * itemSize</code> to x,
		the value of the array at <code>index * itemSize + 1</code> to y, 
		the value of the array at <code>index * itemSize + 2</code> to z, and
		the value of the array at <code>index * itemSize + 3</code> to w.`},clone:{"!type":"fn() -> +THREE.BufferAttribute","!doc":"Copies this attribute."}},"!doc":"This class stores data for an attribute associated with a [page:BufferGeometry]. See that page for details and a usage example. This class is used to store builtin attributes such as vertex position, normals, color, etc., but can also be used in your code to store custom attributes in a [page:BufferGeometry].","!type":"fn(array: [], itemSize: number)"},BufferGeometry:{"!url":"http://threejs.org/docs/#Reference/core/BufferGeometry",prototype:{id:{"!type":"number","!doc":"Unique number for this buffergeometry instance."},attributes:{"!type":"Hashmap","!doc":`This hashmap has as id the name of the attribute to be set and as value the [page:BufferAttribute buffer] to set it to.
		Rather than accessing this property directly, use addAttribute and getAttribute to access attributes of this geometry.`},drawCalls:{"!type":"[]","!doc":`For geometries that use indexed triangles, this Array can be used to split the object into multiple WebGL draw calls. Each draw call will draw some subset of the vertices in this geometry using the configured [page:Material shader]. This may be necessary if, for instance, you have more than 65535 vertices in your object. 
		Each element is an object of the form:
		<code>{ start: Integer, count: Integer, index: Integer }</code>
		where start specifies the index of the first vertex in this draw call, count specifies how many vertices are included, and index specifies an optional offset.

		Use addDrawCall to add draw calls, rather than modifying this array directly.`},boundingBox:{"!type":"+THREE.Box3","!doc":`Bounding box.
		<code>{ min: new THREE.Vector3(), max: new THREE.Vector3() }</code>`},boundingSphere:{"!type":"+THREE.Sphere","!doc":`Bounding sphere.
		<code>{ radius: float }</code>`},morphTargets:{"!type":"[]","!doc":`Array of morph targets. Each morph target is a Javascript object:
		<code>{ name: "targetName", vertices: [ new THREE.Vertex(), ... ] }</code>
		Morph vertices match number and order of primary vertices.`},addAttribute:{"!type":"null","!doc":`Adds an attribute to this geometry. Use this rather than the attributes property, 
		because an internal array of attributes is maintained to speed up iterating over
		attributes.`},addDrawCall:{"!type":"fn(start: number, count: number, indexOffset: number)","!doc":"Adds a draw call to this geometry; see the drawcalls property for details."},applyMatrix:{"!type":"fn(matrix: +THREE.Matrix4)","!doc":"Bakes matrix transform directly into vertex coordinates."},computeVertexNormals:{"!type":"fn()","!doc":"Computes vertex normals by averaging face normals.<br>"},computeBoundingBox:{"!type":"fn()","!doc":`Computes bounding box of the geometry, updating [page:Geometry Geometry.boundingBox] attribute.<br>
		Bounding boxes aren't computed by default. They need to be explicitly computed, otherwise they are *null*.`},computeBoundingSphere:{"!type":"fn()","!doc":`Computes bounding sphere of the geometry, updating [page:Geometry Geometry.boundingSphere] attribute.<br>
		Bounding spheres aren't computed by default. They need to be explicitly computed, otherwise they are *null*.`},dispose:{"!type":"fn()","!doc":`Disposes the object from memory. <br>
		You need to call this when you want the bufferGeometry removed while the application is running.`},fromGeometry:{"!type":"fn()","!doc":"Populates this BufferGeometry with data from a [page:Geometry] object."},getAttribute:{"!type":"fn(name: string) -> +THREE.BufferAttribute","!doc":"Returns the [page:BufferAttribute attribute] with the specified name."},normalizeNormals:{"!type":"fn()","!doc":`Every normal vector in a geometry will have a magnitude of 1.
		This will correct lighting on the geometry surfaces.`}},"!doc":`<p>
		This class is an efficient alternative to [page:Geometry], because it stores all data, including
		vertex positions, face indices, normals, colors, UVs, and custom attributes within buffers; this
		reduces the cost of passing all this data to the GPU. 
		This also makes BufferGeometry harder to work with than [page:Geometry]; rather than accessing 
		position data as [page:Vector3] objects, color data as [page:Color] objects, and so on, you have to 
		access the raw data from the appropriate [page:BufferAttribute attribute] buffer. This makes 
		BufferGeometry best-suited for static objects where you don't need to manipulate the geometry much
		after instantiating it.
		</p>

		<h3>Example</h3>
		<code>
		var geometry = new THREE.BufferGeometry();
		// create a simple square shape. We duplicate the top left and bottom right
		// vertices because each vertex needs to appear once per triangle. 
		var vertexPositions = [ 
			[-1.0, -1.0,  1.0],
			[ 1.0, -1.0,  1.0],
			[ 1.0,  1.0,  1.0],

			[ 1.0,  1.0,  1.0],
			[-1.0,  1.0,  1.0],
			[-1.0, -1.0,  1.0]
		];
		var vertices = new Float32Array( vertexPositions.length * 3 ); // three components per vertex

		// components of the position vector for each vertex are stored
		// contiguously in the buffer.
		for ( var i = 0; i &lt; vertexPositions.length; i++ )
		{
			vertices[ i*3 + 0 ] = vertexPositions[i][0];
			vertices[ i*3 + 1 ] = vertexPositions[i][1];
			vertices[ i*3 + 2 ] = vertexPositions[i][2];
		}

		// itemSize = 3 because there are 3 values (components) per vertex
		geometry.setAttribute( 'position', new THREE.BufferAttribute( vertices, 3 ) );
		var material = new THREE.MeshBasicMaterial( { color: 0xff0000 } );
		var mesh = new THREE.Mesh( geometry, material );
		</code>
		<p>More examples: [example:webgl_buffergeometry Complex mesh with non-indexed faces], [example:webgl_buffergeometry_uint Complex mesh with indexed faces], [example:webgl_buffergeometry_lines Lines], [example:webgl_buffergeometry_lines_indexed Indexed Lines], [example:webgl_buffergeometry_particles Particles], and [example:webgl_buffergeometry_rawshader Raw Shaders].</p>

		
		<h3>Accessing attributes</h3>
		<p>
		WebGL stores data associated with individual vertices of a geometry in <emph>attributes</emph>. 
		Examples include the position of the vertex, the normal vector for the vertex, the vertex color,
		and so on. When using [page:Geometry], the [page:WebGLRenderer renderer] takes care of wrapping
		up this information into typed array buffers and sending this data to the shader. With 
		BufferGeometry, all of this data is stored in buffers associated with an individual attributes.
		This means that to get the position data associated with a vertex (for instance), you must call
		[page:.getAttribute] to access the 'position' [page:BufferAttribute attribute], then access the individual 
		x, y, and z coordinates of the position.  
		</p>
		<p>
		The following attributes are set by various members of this class:
		</p>
		<h4>[page:BufferAttribute position] (itemSize: 3)</h4>
		<div>
		Stores the x, y, and z coordinates of each vertex in this geometry. Set by [page:.fromGeometry]().
		</div>

		<h4>[page:BufferAttribute normal] (itemSize: 3)</h4>
		<div>
		Stores the x, y, and z components of the face or vertex normal vector of each vertex in this geometry.
		Set by [page:.fromGeometry]().
		</div>

		<h4>[page:BufferAttribute color] (itemSize: 3)</h4>
		<div>
		Stores the red, green, and blue channels of vertex color of each vertex in this geometry.
		Set by [page:.fromGeometry]().
		</div>

		<h4>[page:BufferAttribute tangent] (itemSize: 3)</h4>
		<div>
		Stores the x, y, and z components of the tangent vector of each vertex in this geometry. Set by [page:.computeTangents]().
		</div>

		<h4>[page:BufferAttribute index] (itemSize: 3)</h4>
		Allows for vertices to be re-used across multiple triangles; this is called using "indexed triangles," and works much the same as it does in [page:Geometry]: each triangle is associated with the index of three vertices. This attribute therefore stores the index of each vertex for each triangular face.

		If this attribute is not set, the [page:WebGLRenderer renderer] assumes that each three contiguous positions represent a single triangle.`,"!type":"fn()"},Clock:{"!url":"http://threejs.org/docs/#Reference/core/Clock",prototype:{autoStart:{"!type":"bool","!doc":"If set, starts the clock automatically when the first update is called."},startTime:{"!type":"number","!doc":`When the clock is running, It holds the start time of the clock. <br>
		This counted from the number of milliseconds elapsed since 1 January 1970 00:00:00 UTC.`},oldTime:{"!type":"number","!doc":`When the clock is running, It holds the previous time from a update.<br>
		This counted from the number of milliseconds elapsed since 1 January 1970 00:00:00 UTC.`},elapsedTime:{"!type":"number","!doc":`When the clock is running, It holds the time elapsed between the start of the clock to the previous update.<br>
		This counted from the number of milliseconds elapsed since 1 January 1970 00:00:00 UTC.`},running:{"!type":"bool","!doc":"This property keeps track whether the clock is running or not."},start:{"!type":"fn()","!doc":"Starts clock."},stop:{"!type":"fn()","!doc":"Stops clock."},getElapsedTime:{"!type":"fn() -> number","!doc":"Get the seconds passed since the clock started."},getDelta:{"!type":"fn() -> number","!doc":"Get the seconds passed since the last call to this method."}},"!doc":"Object for keeping track of time.","!type":"fn(autoStart: bool)"},EventDispatcher:{"!url":"http://threejs.org/docs/#Reference/core/EventDispatcher",prototype:{addEventListener:{"!type":"fn(type: string, listener: function)","!doc":"Adds a listener to an event type."},hasEventListener:{"!type":"fn(type: string, listener: function) -> bool","!doc":"Checks if listener is added to an event type."},removeEventListener:{"!type":"fn(type: string, listener: function)","!doc":"Removes a listener from an event type."},dispatchEvent:{"!type":"fn(type: string)","!doc":"Fire an event type."}},"!doc":`JavaScript events for custom objects.<br>
		<a href="https://github.com/mrdoob/eventdispatcher.js">https://github.com/mrdoob/eventdispatcher.js</a>`,"!type":"fn()"},Face3:{"!url":"http://threejs.org/docs/#Reference/core/Face3",prototype:{a:{"!type":"number","!doc":"Vertex A index."},b:{"!type":"number","!doc":"Vertex B index."},c:{"!type":"number","!doc":"Vertex C index."},normal:{"!type":"+THREE.Vector3","!doc":"Face normal."},color:{"!type":"+THREE.Color","!doc":"Face color."},vertexNormals:{"!type":"[]","!doc":"Array of 3 vertex normals."},vertexColors:{"!type":"[]","!doc":"Array of 3 vertex colors."},materialIndex:{"!type":"number","!doc":"Material index (points to [page:MultiMaterial MultiMaterial.materials])."},clone:{"!type":"fn() -> +THREE.Face3","!doc":"Creates a new clone of the Face3 object."}},"!doc":"Triangle face.","!type":"fn(a: number, b: number, c: number, normal: +THREE.Vector3, color: +THREE.Color, materialIndex: number)"},Geometry:{"!url":"http://threejs.org/docs/#Reference/core/Geometry",prototype:{id:{"!type":"number","!doc":"Unique number for this geometry instance."},name:{"!type":"string","!doc":"Name for this geometry. Default is an empty string."},vertices:{"!type":"[]","!doc":`Array of [page:Vector3 vertices].<br>
		The array of vertices holds every position of points in the model.<br>
		To signal an update in this array, [page:Geometry Geometry.verticesNeedUpdate] needs to be set to true.`},colors:{"!type":"[]","!doc":`Array of vertex [page:Color colors], matching number and order of vertices.<br>
		Used in [page:PointCloud] and [page:Line].<br>
		[page:Mesh Meshes] use per-face-use-of-vertex colors embedded directly in faces.<br>
		To signal an update in this array, [page:Geometry Geometry.colorsNeedUpdate] needs to be set to true.`},faces:{"!type":"[]","!doc":`Array of [page:Face3 triangles].<br>
		The array of faces describe how each vertex in the model is connected with each other.<br>
		To signal an update in this array, [page:Geometry Geometry.elementsNeedUpdate] needs to be set to true.`},faceVertexUvs:{"!type":"[]","!doc":`Array of face [page:UV] layers.<br>
		Each UV layer is an array of [page:UV]s matching the order and number of vertices in faces.<br>
		To signal an update in this array, [page:Geometry Geometry.uvsNeedUpdate] needs to be set to true.`},morphTargets:{"!type":"[]","!doc":`Array of morph targets. Each morph target is a Javascript object:
		<code>{ name: "targetName", vertices: [ new THREE.Vector3(), ... ] }</code>
		Morph vertices match number and order of primary vertices.`},morphNormals:{"!type":"[]","!doc":`Array of morph normals. Morph normals have similar structure as morph targets, each normal set is a Javascript object:
		<code>morphNormal = { name: "NormalName", normals: [ new THREE.Vector3(), ... ] }</code>`},skinWeights:{"!type":"[]","!doc":"Array of skinning weights, matching number and order of vertices."},skinIndices:{"!type":"[]","!doc":"Array of skinning indices, matching number and order of vertices."},boundingBox:{"!type":"object","!doc":`Bounding box.
		<code>{ min: new THREE.Vector3(), max: new THREE.Vector3() }</code>`},boundingSphere:{"!type":"object","!doc":`Bounding sphere.
		<code>{ radius: float }</code>`},dynamic:{"!type":"bool","!doc":`Set to *true* if attribute buffers will need to change in runtime (using "dirty" flags).<br>
		Unless set to true internal typed arrays corresponding to buffers will be deleted once sent to GPU.<br>
		Defaults to true.`},verticesNeedUpdate:{"!type":"bool","!doc":"Set to *true* if the vertices array has been updated."},elementsNeedUpdate:{"!type":"bool","!doc":"Set to *true* if the faces array has been updated."},uvsNeedUpdate:{"!type":"bool","!doc":"Set to *true* if the uvs array has been updated."},normalsNeedUpdate:{"!type":"bool","!doc":"Set to *true* if the normals array has been updated."},colorsNeedUpdate:{"!type":"bool","!doc":"Set to *true* if the colors array has been updated."},lineDistancesNeedUpdate:{"!type":"bool","!doc":"Set to *true* if the linedistances array has been updated."},lineDistances:{"!type":"array","!doc":`An array containing distances between vertices for Line geometries.
		This is required for LinePieces/LineDashedMaterial to render correctly.
		Line distances can also be generated with computeLineDistances.`},applyMatrix:{"!type":"fn(matrix: +THREE.Matrix4)","!doc":"Bakes matrix transform directly into vertex coordinates."},computeFaceNormals:{"!type":"fn()","!doc":"Computes face normals."},computeVertexNormals:{"!type":"fn()","!doc":`Computes vertex normals by averaging face normals.<br>
		Face normals must be existing / computed beforehand.`},computeMorphNormals:{"!type":"fn()","!doc":"Computes morph normals."},computeBoundingBox:{"!type":"fn()","!doc":"Computes bounding box of the geometry, updating [page:Geometry Geometry.boundingBox] attribute."},computeBoundingSphere:{"!type":"fn()","!doc":"Neither bounding boxes or bounding spheres are computed by default. They need to be explicitly computed, otherwise they are *null*."},merge:{"!type":"fn(geometry: +THREE.Geometry, matrix: +THREE.Matrix4, materialIndexOffset: number)","!doc":"Merge two geometries or geometry and geometry from object (using object's transform)"},mergeVertices:{"!type":"fn()","!doc":`Checks for duplicate vertices using hashmap.<br>
		Duplicated vertices are removed and faces' vertices are updated.`},clone:{"!type":"fn() -> +THREE.Geometry","!doc":"Creates a new clone of the Geometry."},dispose:{"!type":"fn()","!doc":`Removes The object from memory. <br>
		Don't forget to call this method when you remove a geometry because it can cause memory leaks.`}},"!doc":`Base class for geometries.<br>
		A geometry holds all data necessary to describe a 3D model.`,"!type":"fn()"},Object3D:{"!url":"http://threejs.org/docs/#Reference/core/Object3D",prototype:{id:{"!type":"number","!doc":"readonly \u2013 Unique number for this object instance."},uuid:{"!type":"string","!doc":`[link:http://en.wikipedia.org/wiki/Universally_unique_identifier UUID] of this object instance.
		This gets automatically assigned, so this shouldn't be edited.`},name:{"!type":"string","!doc":"Optional name of the object (doesn't need to be unique)."},parent:{"!type":"+THREE.Object3D","!doc":"Object's parent in the scene graph."},children:{"!type":"+THREE.Object3D","!doc":"Array with object's children."},position:{"!type":"+THREE.Vector3","!doc":"Object's local position."},rotation:{"!type":"+THREE.Euler","!doc":`Object's local rotation (<a href="https://en.wikipedia.org/wiki/Euler_angles" target="_blank">Euler angles</a>), in radians.`},scale:{"!type":"+THREE.Vector3","!doc":"Object's local scale."},up:{"!type":"+THREE.Vector3","!doc":"Up direction."},matrix:{"!type":"+THREE.Matrix4","!doc":"Local transform."},quaternion:{"!type":"+THREE.Quaternion","!doc":"Object's local rotation as [page:Quaternion Quaternion]."},visible:{"!type":"bool","!doc":"default \u2013 true"},castShadow:{"!type":"bool","!doc":"default \u2013 false"},receiveShadow:{"!type":"bool","!doc":"default \u2013 false"},frustumCulled:{"!type":"bool","!doc":"default \u2013 true"},matrixAutoUpdate:{"!type":"bool","!doc":"default \u2013 true"},matrixWorldNeedsUpdate:{"!type":"bool","!doc":"default \u2013 false"},userData:{"!type":"object","!doc":"An object that can be used to store custom data about the Object3d. It should not hold references to functions as these will not be cloned."},matrixWorld:{"!type":"+THREE.Matrix4","!doc":"The global transform of the object. If the Object3d has no parent, then it's identical to the local transform."},applyMatrix:{"!type":"fn(matrix: +THREE.Matrix4)","!doc":"This updates the position, rotation and scale with the matrix."},translateX:{"!type":"fn(distance: number)","!doc":"Translates object along x axis by distance."},translateY:{"!type":"fn(distance: number)","!doc":"Translates object along y axis by distance."},translateZ:{"!type":"fn(distance: number)","!doc":"Translates object along z axis by distance."},localToWorld:{"!type":"fn(vector: +THREE.Vector3) -> +THREE.Vector3","!doc":"Updates the vector from local space to world space."},worldToLocal:{"!type":"fn(vector: +THREE.Vector3) -> +THREE.Vector3","!doc":"Updates the vector from world space to local space."},lookAt:{"!type":"fn(vector: +THREE.Vector3)","!doc":"Rotates object to face point in space."},traverse:{"!type":"fn(callback: function)","!doc":"Executes the callback on this object and all descendants."},traverseVisible:{"!type":"fn(callback: function)","!doc":`Like traverse, but the callback will only be executed for visible objects.
		Descendants of invisible objects are not traversed.`},traverseAncestors:{"!type":"fn(callback: function)","!doc":"Executes the callback on this object and all ancestors."},updateMatrix:{"!type":"fn()","!doc":"Updates local transform."},updateMatrixWorld:{"!type":"fn(force: bool)","!doc":"Updates global transform of the object and its children."},clone:{"!type":"fn() -> +THREE.Object3D","!doc":"Creates a new clone of this object and all descendants."},getObjectByName:{"!type":"fn(name: string) -> +THREE.Object3D","!doc":"Searches through the object's children and returns the first with a matching name."},getObjectById:{"!type":"fn(id: number) -> +THREE.Object3D","!doc":"Searches through the object's children and returns the first with a matching id."},translateOnAxis:{"!type":"fn(axis: +THREE.Vector3, distance: number) -> +THREE.Object3D","!doc":"Translate an object by distance along an axis in object space. The axis is assumed to be normalized."},rotateOnAxis:{"!type":"fn(axis: +THREE.Vector3, angle: number) -> +THREE.Object3D","!doc":"Rotate an object along an axis in object space. The axis is assumed to be normalized."},raycast:{"!type":"fn(raycaster: +THREE.Raycaster, intersects: []) -> []","!doc":"Abstract method to get intersections between a casted ray and this object. Subclasses such as [page:Mesh], [page:Line], and [page:PointCloud] implement this method in order to participate in raycasting."}},"!doc":"Base class for scene graph objects.","!type":"fn()"},Raycaster:{"!url":"http://threejs.org/docs/#Reference/core/Raycaster",prototype:{ray:{"!type":"+THREE.Ray","!doc":"The Ray used for the raycasting."},near:{"!type":"float","!doc":`The near factor of the raycaster. This value indicates which objects can be discarded based on the distance.<br>
		This value shouldn't be negative and should be smaller than the far property.`},far:{"!type":"float","!doc":`The far factor of the raycaster. This value indicates which objects can be discarded based on the distance.<br>
		This value shouldn't be negative and should be larger than the near property.`},precision:{"!type":"float","!doc":"The precision factor of the raycaster when intersecting [page:Mesh] objects."},set:{"!type":"fn(origin: +THREE.Vector3, direction: +THREE.Vector3)","!doc":"Updates the ray with a new origin and direction."},setFromCamera:{"!type":"fn(coords: +THREE.Vector2, camera: +THREE.Camera)","!doc":"Updates the ray with a new origin and direction."},intersectObject:{"!type":"fn(object: +THREE.Object3D, recursive: bool) -> []","!doc":`Checks all intersection between the ray and the object with or without the descendants. Intersections are returned sorted by distance, closest first. An array of intersections is returned...
        <code>
            [ { distance, point, face, faceIndex, indices, object }, ... ]
        </code>
        <p>
        [page:Float distance] \u2013 distance between the origin of the ray and the intersection<br>
        [page:Vector3 point] \u2013 point of intersection, in world coordinates<br>
        [page:Face3 face] \u2013 intersected face<br>
        [page:Integer faceIndex] \u2013 index of the intersected face<br>
        [page:Array indices] \u2013 indices of vertices comprising the intersected face<br>
        [page:Object3D object] \u2013 the intersected object
    	</p>
        <p>
        When intersecting a [page:Mesh] with a [page:BufferGeometry], the *faceIndex* will be *undefined*, and *indices* will be set; when intersecting a [page:Mesh] with a [page:Geometry], *indices* will be *undefined*. 
        </p>
		<p>
		*Raycaster* delegates to the [page:Object3D.raycast raycast] method of the passed object, when evaluating whether the ray intersects the object or not. This allows [page:Mesh meshes] to respond differently to ray casting than [page:Line lines] and [page:PointCloud pointclouds].
		</p>
		<p>
		*Note* that for meshes, faces must be pointed towards the origin of the [page:.ray ray] in order to be detected; intersections of the ray passing through the back of a face will not be detected. To raycast against both faces of an object, you'll want to set the [page:Mesh.material material]'s [page:Material.side side] property to *THREE.DoubleSide*.  
		</p>`},intersectObjects:{"!type":"fn(objects: [], recursive: bool) -> []","!doc":"Checks all intersection between the ray and the objects with or without the descendants. Intersections are returned sorted by distance, closest first. Intersections are of the same form as those returned by [page:.intersectObject]."}},"!doc":"This class makes raycasting easier. Raycasting is used for picking and more.","!type":"fn(origin: +THREE.Vector3, direction: +THREE.Vector3, near: number, far: number)"},Lut:{"!url":"http://threejs.org/docs/#Reference/examples/Lut",prototype:{minV:{"!type":"number","!doc":"The minimum value to be represented with the lookup table. Default is 0."},maxV:{"!type":"number","!doc":"The maximum value to be represented with the lookup table. Default is 1."},copy:{"!type":"fn(lut: +THREE.Lut)","!doc":"Copies given lut."},setminV:{"!type":"fn(minV: number) -> +THREE.Lut","!doc":"Sets this Lut with the minimum value to be represented."},setmaxV:{"!type":"fn(maxV: number) -> +THREE.Lut","!doc":"Sets this Lut with the maximum value to be represented."},changeNumberOfColors:{"!type":"fn(numberOfColors: number) -> +THREE.Lut","!doc":"Sets this Lut with the number of colors to be used."},changeColorMap:{"!type":"fn(colorMap: number) -> +THREE.Lut","!doc":"Sets this Lut with the colormap to be used."},addColorMap:{"!type":"fn(colorMapName, arrayOfColors) -> +THREE.Lut","!doc":"Insert a new color map into the set of available color maps."},getColor:{"!type":"fn(value) -> +THREE.Lut","!doc":"Returns a Three.Color."}},"!doc":"Represents a lookup table for colormaps. It is used to determine the color values from a range of data values.","!type":"fn(colormap, numberOfColors)"},FontUtils:{"!url":"http://threejs.org/docs/#Reference/extras/FontUtils",prototype:{divisions:{"!type":"number","!doc":"The amount of segments in a curve. Default is 10."},style:{"!type":"string","!doc":'The style of the used font. Default is "normal".'},weight:{"!type":"string","!doc":'The weight of the used font. Default is "normal".'},face:{"!type":"string","!doc":'The name of the font. Default is "helvetiker".'},faces:{"!type":"object","!doc":"All Fonts which are already loaded in."},size:{"!type":"number","!doc":"The size of the used Font. Default is 150."},drawText:{"!type":"fn(text: string) -> object","!doc":"Calculates the path and offset of the text in the used font. It returns an  object like { paths : fontPaths, offset : width }."},Triangulate:{"!type":"fn(contour: [], indices: bool) -> []","!doc":"Triangulates a contour into an array of faces."},extractGlyphPoints:{"!type":"fn(c: string, face: string, scale: number, offset: number, path: +THREE.Path) -> object","!doc":"This ectracts the glyphPoints of the character of the face and returns an object containing the path and the new offset."},generateShapes:{"!type":"fn(text: string, parameters: object) -> []","!doc":"Generates shapes from the text and return them as an Array of [page:Shape]."},loadFace:{"!type":"fn(data: object) -> object","!doc":"This loads and saves the data of the face and return the data. When you add the font Data as javascriptfile, then this automatically get called. So there is no need to do this yourself."},getFace:{"!type":"fn() -> object","!doc":"Returns the used font its data based on its style and weight."}},"!doc":"A class for text operations in three.js (See [page:TextGeometry])"},GeometryUtils:{"!url":"http://threejs.org/docs/#Reference/extras/GeometryUtils",prototype:{},"!doc":"Contains handy functions geometry manipulations."},Curve:{"!url":"http://threejs.org/docs/#Reference/extras/core/Curve",prototype:{getPoint:{"!type":"fn(t) -> Vector","!doc":"Returns a vector for point t of the curve where t is between 0 and 1"},getPointAt:{"!type":"fn(u) -> Vector","!doc":"Returns a vector for point at relative position in curve according to arc length"},getPoints:{"!type":"fn(divisions) -> []","!doc":"Get sequence of points using getPoint( t )"},getSpacedPoints:{"!type":"fn(divisions) -> []","!doc":"Get sequence of equi-spaced points using getPointAt( u )"},getLength:{"!type":"fn() -> number","!doc":"Get total curve arc length"},getLengths:{"!type":"fn(divisions) -> []","!doc":"Get list of cumulative segment lengths"},updateArcLengths:{"!type":"fn()","!doc":"Update the cumlative segment distance cache"},getUtoTmapping:{"!type":"fn(u, distance) -> number","!doc":"Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant"},getTangent:{"!type":"fn(t) -> Vector","!doc":"Returns a unit vector tangent at t. If the subclassed curve do not implement its tangent derivation, 2 points a small delta apart will be used to find its gradient which seems to give a reasonable approximation"},getTangentAt:{"!type":"fn(u) -> Vector","!doc":"Returns tangent at equidistant point u on the curve"}},"!doc":"An extensible curve object which contains methods for interpolation.","!type":"fn()"},CurvePath:{"!url":"http://threejs.org/docs/#Reference/extras/core/CurvePath",prototype:{"!proto":"THREE.Curve.prototype",curves:{"!type":"array","!doc":"todo"},bends:{"!type":"array","!doc":"todo"},autoClose:{"!type":"boolean","!doc":"todo"},add:{"!type":"fn(curve: todo) -> todo","!doc":"todo"},closePath:{"!type":"fn() -> todo","!doc":"todo"},getBoundingBox:{"!type":"fn() -> todo","!doc":"todo"},getCurveLengths:{"!type":"fn() -> todo","!doc":"todo"}},"!doc":"todo","!type":"fn()"},Gyroscope:{"!url":"http://threejs.org/docs/#Reference/extras/core/Gyroscope",prototype:{"!proto":"THREE.Object3D.prototype"},"!doc":"todo","!type":"fn()"},Path:{"!url":"http://threejs.org/docs/#Reference/extras/core/Path",prototype:{"!proto":"THREE.CurvePath.prototype",actions:{"!type":"array","!doc":"The possible actions that define the path."},setFromPoints:{"!type":"fn(vectors) -> todo","!doc":"Adds to the Path from the points. The first vector defines the offset. After that the lines get defined."},moveTo:{"!type":"fn(x, y) -> todo","!doc":"This moves the offset to x and y"},lineTo:{"!type":"fn(x, y) -> todo","!doc":"This creates a line from the offset to X and Y and updates the offset to X and Y."},quadraticCurveTo:{"!type":"fn(aCPx, aCPy, aX, aY) -> todo","!doc":"This creates a quadratic curve from the offset to aX and aY with aCPx and aCPy as control point and updates the offset to aX and aY."},bezierCurveTo:{"!type":"fn(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY) -> todo","!doc":"This creates a bezier curve from the offset to aX and aY with aCP1x, aCP1y and aCP1x, aCP1y  as control points and updates the offset to aX and aY."},arc:{"!type":"fn(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) -> todo","!doc":"todo"},absarc:{"!type":"fn(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) -> todo","!doc":"todo"},ellipse:{"!type":"fn(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise) -> todo","!doc":"todo"},absellipse:{"!type":"fn(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise) -> todo","!doc":"todo"},toShapes:{"!type":"fn() -> todo","!doc":"todo"}},"!doc":"A 2d path representation, comprising of points, lines, and cubes,  similar to the html5 2d canvas api. It extends CurvePath.","!type":"fn(points: todo)"},Shape:{"!url":"http://threejs.org/docs/#Reference/extras/core/Shape",prototype:{"!proto":"THREE.Path.prototype",holes:{"!type":"array","!doc":"todo"},extractPoints:{"!type":"fn(divisions: todo) -> todo","!doc":"todo"},getPointsHoles:{"!type":"fn(divisions: todo) -> todo","!doc":"Get points of holes"}},"!doc":"Defines a 2d shape plane using paths.","!type":"fn()"},ArcCurve:{"!url":"http://threejs.org/docs/#Reference/extras/curves/ArcCurve",prototype:{"!proto":"THREE.EllipseCurve.prototype"},"!doc":"Alias for [page:EllipseCurve]"},CubicBezierCurve:{"!url":"http://threejs.org/docs/#Reference/extras/curves/CubicBezierCurve",prototype:{"!proto":"THREE.Curve.prototype",v0:"+THREE.Vector2",v1:"+THREE.Vector2",v2:"+THREE.Vector2",v3:"+THREE.Vector2"},"!doc":'Create a smooth 2d <a href="http://en.wikipedia.org/wiki/B%C3%A9zier_curve#mediaviewer/File:Bezier_curve.svg" target="_blank">cubic bezier curve</a>.'},CubicBezierCurve3:{"!url":"http://threejs.org/docs/#Reference/extras/curves/CubicBezierCurve3",prototype:{"!proto":"THREE.Curve.prototype",v0:"+THREE.Vector3",v1:"+THREE.Vector3",v2:"+THREE.Vector3",v3:"+THREE.Vector3"},"!doc":'Create a smooth 3d <a href="http://en.wikipedia.org/wiki/B%C3%A9zier_curve#mediaviewer/File:Bezier_curve.svg" target="_blank">cubic bezier curve</a>.',"!type":"fn(v0: +THREE.Vector3, v1: +THREE.Vector3, v2: +THREE.Vector3, v3: +THREE.Vector3)"},EllipseCurve:{"!url":"http://threejs.org/docs/#Reference/extras/curves/EllipseCurve",prototype:{"!proto":"THREE.Curve.prototype",aX:"number",aY:"number",xRadius:"Radians",yRadius:"Radians",aStartAngle:"number",aEndAngle:"number",aClockwise:"bool"},"!doc":"Creates a 2d curve in the shape of an ellipse.","!type":"fn(aX: number, aY: number, xRadius: number, yRadius: number, aStartAngle: Radians, aEndAngle: Radians, aClockwise: bool)"},LineCurve:{"!url":"http://threejs.org/docs/#Reference/extras/curves/LineCurve",prototype:{"!proto":"THREE.Curve.prototype",v1:"+THREE.Vector2",v2:"+THREE.Vector2"},"!doc":"A curve representing a 2d line segment","!type":"fn(v1: +THREE.Vector2, v2: +THREE.Vector2)"},LineCurve3:{"!url":"http://threejs.org/docs/#Reference/extras/curves/LineCurve3",prototype:{"!proto":"THREE.Curve.prototype",v1:"+THREE.Vector3",v2:"+THREE.Vector3"},"!doc":"A curve representing a 3d line segment","!type":"fn(v1: +THREE.Vector3, v2: +THREE.Vector3)"},QuadraticBezierCurve:{"!url":"http://threejs.org/docs/#Reference/extras/curves/QuadraticBezierCurve",prototype:{"!proto":"THREE.Curve.prototype",v0:"+THREE.Vector2",v1:"+THREE.Vector2",v2:"+THREE.Vector2"},"!doc":'Create a smooth 2d <a href="http://en.wikipedia.org/wiki/B%C3%A9zier_curve#mediaviewer/File:B%C3%A9zier_2_big.gif" target="_blank">quadratic bezier curve</a>.',"!type":"fn(v0: +THREE.Vector2, v1: +THREE.Vector2, v2: +THREE.Vector2)"},QuadraticBezierCurve3:{"!url":"http://threejs.org/docs/#Reference/extras/curves/QuadraticBezierCurve3",prototype:{"!proto":"THREE.Curve.prototype",v0:"+THREE.Vector3",v1:"+THREE.Vector3",v2:"+THREE.Vector3"},"!doc":'Create a smooth 3d <a href="http://en.wikipedia.org/wiki/B%C3%A9zier_curve#mediaviewer/File:B%C3%A9zier_2_big.gif" target="_blank">quadratic bezier curve</a>.',"!type":"fn(v0: +THREE.Vector3, v1: +THREE.Vector3, v2: +THREE.Vector3)"},SplineCurve:{"!url":"http://threejs.org/docs/#Reference/extras/curves/SplineCurve",prototype:{"!proto":"THREE.Curve.prototype",points:"[]"},"!doc":"Create a smooth 2d spline curve from a series of points","!type":"fn(points: [])"},BoxGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/BoxGeometry",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"BoxGeometry is the quadrilateral primitive geometry class. It is typically used for creating a cube or irregular quadrilateral of the dimensions provided with the 'width', 'height', and 'depth' constructor arguments.","!type":"fn(width: number, height: number, depth: number, widthSegments: number, heightSegments: number, depthSegments: number)"},CircleGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/CircleGeometry",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"CircleGeometry is a simple shape of Euclidean geometry.  It is contructed from a number of triangular segments that are oriented around a central point and extend as far out as a given radius.  It is built counter-clockwise from a start angle and a given central angle.  It can also be used to create regular polygons, where the number of segments determines the number of sides.","!type":"fn(radius: number, segments: number, thetaStart: number, thetaLength: number)"},CubeGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/CubeGeometry",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"Renamed CubeGeometry to BoxGeometry. see [page:BoxGeometry]."},CylinderGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/CylinderGeometry",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"A class for generating cylinder geometries","!type":"fn(radiusTop: number, radiusBottom: number, height: number, radiusSegments: number, heightSegments: number, openEnded: bool, thetaStart: number, thetaLength: number)"},DodecahedronGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/DodecahedronGeometry",prototype:{"!proto":"THREE.PolyhedronGeometry.prototype",parameters:{"!type":"object","!doc":"An object with all of the parameters that were used to generate the geometry."}},"!doc":"A class for generating a dodecahedron geometries.","!type":"fn(radius: number, detail: number)"},ExtrudeGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/ExtrudeGeometry",prototype:{"!proto":"THREE.Geometry.prototype",addShapeList:{"!type":"fn(shapes: [], options: object)","!doc":"Adds the shapes to the list to extrude."},addShape:{"!type":"fn(shape: +THREE.Shape, options: object)","!doc":"Add the shape to the list to extrude."}},"!doc":"Creates extruded geometry from a path shape","!type":"fn(shapes: [], options: object)"},IcosahedronGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/IcosahedronGeometry",prototype:{"!proto":"THREE.PolyhedronGeometry.prototype",parameters:{"!type":"object","!doc":"An object with all of the parameters that were used to generate the geometry."}},"!doc":"A class for generating an icosahedron geometry.","!type":"fn(radius: number, detail: number)"},LatheGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/LatheGeometry",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"Class for generating meshes with axial symmetry. Possible uses include donuts, pipes, vases etc. The lathe rotate around the Y axis.","!type":"fn(points: [], segments: number, phiStart: number, phiLength: number)"},OctahedronGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/OctahedronGeometry",prototype:{"!proto":"THREE.PolyhedronGeometry.prototype",parameters:{"!type":"object","!doc":"An object with all of the parameters that were used to generate the geometry."}},"!doc":"A class for generating an octahedron geometry.","!type":"fn(radius: number, detail: number)"},ParametricGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/ParametricGeometry",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"Generate geometry representing a parametric surface.","!type":"fn(func: function, slices: number, stacks: number)"},PlaneGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/PlaneGeometry",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"A class for generating plane geometries","!type":"fn(width: number, height: number, widthSegments: number, heightSegments: number)"},PolyhedronGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/PolyhedronGeometry",prototype:{"!proto":"THREE.Geometry.prototype",parameters:{"!type":"object","!doc":"An object with all of the parameters that were used to generate the geometry."}},"!doc":`A polyhedron is a solid in three dimensions with flat faces. This class will take an array of vertices,
			project them onto a sphere, and then divide them up to the desired level of detail. This class is used
			by [page:DodecahedronGeometry], [page:IcosahedronGeometry], [page:OctahedronGeometry],
			and [page:TetrahedronGeometry] to generate their respective geometries.`,"!type":"fn(vertices: [], faces: [], radius: number, detail: number)"},RingGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/RingGeometry",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"A class for generating a two-dimensional ring geometry.","!type":"fn(innerRadius: number, outerRadius: number, thetaSegments: number, phiSegments: number, thetaStart: number, thetaLength: number)"},ShapeGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/ShapeGeometry",prototype:{"!proto":"THREE.Geometry.prototype",addShape:{"!type":"fn(shape: +THREE.Shape, options: object)","!doc":"Adds a single shape to the geometry"}},"!doc":"Creates a one-sided polygonal geometry from one or more path shapes. Similar to [page:ExtrudeGeometry]","!type":"fn(shapes: [], options: object)"},SphereGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/SphereGeometry",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"A class for generating sphere geometries","!type":"fn(radius: number, widthSegments: number, heightSegments: number, phiStart: number, phiLength: number, thetaStart: number, thetaLength: number)"},TetrahedronGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/TetrahedronGeometry",prototype:{"!proto":"THREE.PolyhedronGeometry.prototype",parameters:{"!type":"object","!doc":"An object with all of the parameters that were used to generate the geometry."}},"!doc":"A class for generating a tetrahedron geometries.","!type":"fn(radius: number, detail: number)"},TextGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/TextGeometry",prototype:{"!proto":"THREE.ExtrudeGeometry.prototype"},"!doc":"This object creates an 3D object of text as a single object.","!type":"fn(text: string, parameters: object)"},TorusGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/TorusGeometry",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"A class for generating torus geometries","!type":"fn(radius: number, tube: number, radialSegments: number, tubularSegments: number, arc: number)"},TorusKnotGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/TorusKnotGeometry",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"Creates a torus knot, the particular shape of which is defined by a pair of coprime integers, p and q.  If p and q are not coprime, the result will be a torus link.","!type":"fn(radius: number, tube: number, radialSegments: number, tubularSegments: number, p: number, q: number, heightScale: number)"},TubeGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/TubeGeometry",prototype:{"!proto":"THREE.Geometry.prototype",parameters:{"!type":"object","!doc":"An object with all of the parameters that were used to generate the geometry."},tangents:{"!type":"[]","!doc":"An array of [page:Vector3] tangents"},normals:{"!type":"[]","!doc":"An array of [page:Vector3] normals"},binormals:{"!type":"[]","!doc":"An array of [page:Vector3] binormals"}},"!doc":"Creates a tube that extrudes along a 3d curve","!type":"fn(path: +THREE.Curve, segments: number, radius: number, radiusSegments: number, closed: bool)"},ArrowHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/ArrowHelper",prototype:{"!proto":"THREE.Object3D.prototype",line:{"!type":"+THREE.Line","!doc":"Contains the line part of the arrowHelper."},cone:{"!type":"+THREE.Mesh","!doc":"Contains the cone part of the arrowHelper."},setColor:{"!type":"fn(hex: number)","!doc":"Sets the color of the arrowHelper."},setLength:{"!type":"fn(length: number, headLength: number, headWidth: number)","!doc":"Sets the length of the arrowhelper."},setDirection:{"!type":"fn(dir: +THREE.Vector3)","!doc":"Sets the direction of the arrowhelper."}},"!doc":"An 3D arrow Object.","!type":"fn(dir: +THREE.Vector3, origin: +THREE.Vector3, length: number, hex: number, headLength: number, headWidth: number)"},AxisHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/AxisHelper",prototype:{"!proto":"THREE.Line.prototype"},"!doc":`An axis object to visualize the the 3 axes in a simple way. <br>
			The X axis is red. The Y axis is green. The Z axis is blue.`,"!type":"fn(size: number)"},BoundingBoxHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/BoundingBoxHelper",prototype:{"!proto":"THREE.Mesh.prototype",object:{"!type":"+THREE.Object3D","!doc":"Contains the object3D to show the world-axis-aligned boundingbox."},box:{"!type":"+THREE.Box3","!doc":"Contains the bounding box of the object."},update:{"!type":"fn()","!doc":"Updates the BoundingBoxHelper based on the object property."}},"!doc":"A helper object to show the world-axis-aligned bounding box for an object.","!type":"fn(object: +THREE.Object3D, hex: number)"},BoxHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/BoxHelper",prototype:{"!proto":"THREE.Line.prototype",update:{"!type":"fn(object: +THREE.Object3D)","!doc":`Updates the helper's geometry to match the dimensions of the [page:Geometry.boundingBox bounding box] of the passed object's geometry.

		<h2>Source</h2>

		[link:https://github.com/mrdoob/three.js/blob/master/src/[path].js src/[path].js]`}},"!doc":"Helper object to show a wireframe box (with no face diagonals) around an object","!type":"fn(object: +THREE.Object3D)"},CameraHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/CameraHelper",prototype:{"!proto":"THREE.Line.prototype",pointMap:{"!type":"object","!doc":"This contains the points to viualize the cameraHelper"},camera:{"!type":"+THREE.Camera","!doc":"The camera to visualize."},update:{"!type":"fn()","!doc":"Updates the helper based on the projectionMatrix of the camera."}},"!doc":`The camera Helper is an Object3D which helps visualizing what a camera contains in its frustum.<br>
		It visualizes the frustum with an line Geometry.`,"!type":"fn(camera: +THREE.Camera)"},DirectionalLightHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/DirectionalLightHelper",prototype:{"!proto":"THREE.Object3D.prototype",lightPlane:{"!type":"+THREE.Line","!doc":"Contains the line mesh showing the location of the directional light."},light:{"!type":"+THREE.DirectionalLight","!doc":"Contains the directionalLight."},targetLine:{"!type":"+THREE.Line","!doc":"Contains the line mesh that shows the direction of the light."},update:{"!type":"fn()","!doc":"Updates the helper to match the position and direction of the [page:.light]."}},"!doc":"Visualize a [page:DirectionalLight]'s effect on the scene","!type":"fn(light: +THREE.DirectionalLight, size: number)"},EdgesHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/EdgesHelper",prototype:{"!proto":"THREE.Line.prototype"},"!doc":`Creates a wireframe object that shows the "hard" edges of another object's geometry. To draw a full wireframe image of an object, see [page:WireframeHelper].`,"!type":"fn(object: +THREE.Object3D, color: +THREE.Color, thresholdAngle: number)"},FaceNormalsHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/FaceNormalsHelper",prototype:{"!proto":"THREE.Line.prototype",object:{"!type":"+THREE.Object3D","!doc":"The attached object"},update:{"!type":"fn()","!doc":"Updates the face normal preview based on movement of the object."}},"!doc":"Renders [page:ArrowHelper arrows] to visualize an object's [page:Face3 face] normals. Requires that the object's geometry be an instance of [page:Geometry] (does not work with [page:BufferGeometry]), and that face normals have been specified on all [page:Face3 faces] or calculated with [page:Geometry.computeFaceNormals computeFaceNormals].","!type":"fn(object: +THREE.Object3D, size: number, color: +THREE.Color, linewidth: number)"},GridHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/GridHelper",prototype:{"!proto":"THREE.Line.prototype"},"!doc":"The GridHelper is an object to define grids. Grids are two-dimensional arrays of lines.","!type":"fn(size: number, step: number)"},HemisphereLightHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/HemisphereLightHelper",prototype:{"!proto":"THREE.Object3D.prototype",lightSphere:{"!type":"+THREE.Mesh","!doc":"The sphere mesh that shows the location of the hemispherelight."},light:{"!type":"+THREE.HemisphereLight","!doc":"Contains the HemisphereLight."},update:{"!type":"fn()","!doc":"Updates the helper to match the position and direction of the [page:.light]."}},"!doc":"Creates a visual aid for a [page:HemisphereLight HemisphereLight].","!type":"fn(light: +THREE.HemisphereLight, sphereSize: number)"},PointLightHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/PointLightHelper",prototype:{"!proto":"THREE.Mesh.prototype",lightSphere:{"!type":"+THREE.Mesh","!doc":"todo"},light:{"!type":"+THREE.PointLight","!doc":"todo"},update:{"!type":"fn() -> todo","!doc":"todo"}},"!doc":"This display a helper for a pointLight","!type":"fn(light: todo, sphereSize: todo)"},SpotLightHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/SpotLightHelper",prototype:{"!proto":"THREE.Object3D.prototype",lightSphere:{"!type":"+THREE.Mesh","!doc":"todo"},light:{"!type":"+THREE.SpotLight","!doc":"todo"},lightCone:{"!type":"+THREE.Mesh","!doc":"todo"},update:{"!type":"fn() -> todo","!doc":"todo"}},"!doc":"todo","!type":"fn(light: todo, sphereSize: todo)"},VertexNormalsHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/VertexNormalsHelper",prototype:{"!proto":"THREE.Line.prototype",object:{"!type":"+THREE.Object3D","!doc":"The attached object"},update:{"!type":"fn()","!doc":"Updates the vertex normal preview based on movement of the object."}},"!doc":"Renders [page:ArrowHelper arrows] to visualize an object's vertex normal vectors. Requires that normals have been specified in a [page:BufferAttribute custom attribute] or have been calculated using [page:Geometry.computeVertexNormals computeVertexNormals].","!type":"fn(object: +THREE.Object3D, size: number, color: +THREE.Color, linewidth: number)"},WireframeHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/WireframeHelper",prototype:{"!proto":"THREE.Line.prototype"},"!doc":`Creates a wireframe object that shows the edges of another object's geometry. To draw a  wireframe image showing only "hard" edges (edges between non-coplanar faces), see [page:EdgesHelper].`,"!type":"fn(object: +THREE.Object3D, color: +THREE.Color)"},AmbientLight:{"!url":"http://threejs.org/docs/#Reference/lights/AmbientLight",prototype:{"!proto":"THREE.Light.prototype"},"!doc":"This light's color gets applied to all the objects in the scene globally.","!type":"fn(hex: number)"},DirectionalLight:{"!url":"http://threejs.org/docs/#Reference/lights/DirectionalLight",prototype:{"!proto":"THREE.Light.prototype",target:{"!type":"+THREE.Object3D","!doc":"Target used for shadow camera orientation."},intensity:{"!type":"number","!doc":`Light's intensity.<br>
			Default \u2014 *1.0*.`}},"!doc":"Affects objects using [page:MeshLambertMaterial] or [page:MeshPhongMaterial].","!type":"fn(hex: number, intensity: number)"},HemisphereLight:{"!url":"http://threejs.org/docs/#Reference/lights/HemisphereLight",prototype:{"!proto":"THREE.Light.prototype",groundColor:{"!type":"number","!doc":"Light's ground color.<br>"},intensity:{"!type":"number","!doc":`Light's intensity.<br>
			Default \u2014 *1.0*.`}},"!doc":"A light source positioned directly above the scene.","!type":"fn(skyColorHex: number, groundColorHex: number, intensity: number)"},Light:{"!url":"http://threejs.org/docs/#Reference/lights/Light",prototype:{"!proto":"THREE.Object3D.prototype",color:{"!type":"+THREE.Color","!doc":"Color of the light.<br>"}},"!doc":"Abstract base class for lights.","!type":"fn(hex: number)"},PointLight:{"!url":"http://threejs.org/docs/#Reference/lights/PointLight",prototype:{"!proto":"THREE.Light.prototype",intensity:{"!type":"number","!doc":`Light's intensity.<br>
			Default - *1.0*.`},distance:{"!type":"number","!doc":`If non-zero, light will attenuate linearly from maximum intensity at light *position* down to zero at *distance*.<br>
			Default \u2014 *0.0*.`}},"!doc":"Affects objects using [page:MeshLambertMaterial] or [page:MeshPhongMaterial].","!type":"fn(hex: number, intensity: number, distance: number)"},SpotLight:{"!url":"http://threejs.org/docs/#Reference/lights/SpotLight",prototype:{"!proto":"THREE.Light.prototype",target:{"!type":"+THREE.Object3D","!doc":`Spotlight focus points at target.position.<br>
			Default position \u2014 *(0,0,0)*.`},intensity:{"!type":"number","!doc":`Light's intensity.<br>
			Default \u2014 *1.0*.`},distance:{"!type":"number","!doc":`If non-zero, light will attenuate linearly from maximum intensity at light *position* down to zero at *distance*.<br>
			Default \u2014 *0.0*.`},angle:{"!type":"number","!doc":`Maximum extent of the spotlight, in radians, from its direction. Should be no more than *Math.PI/2*.<br>
			Default \u2014 *Math.PI/3*.`},exponent:{"!type":"number","!doc":`Rapidity of the falloff of light from its target direction.<br>
			Default \u2014 *10.0*.`}},"!doc":"A point light that can cast shadow in one direction.","!type":"fn(hex: number, intensity: number, distance: todo, angle: todo, exponent: todo)"},BabylonLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/BabylonLoader",prototype:{load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from url and call onLoad with the parsed response content."},parse:{"!type":"fn(json: object) -> +THREE.Object3D","!doc":`Parse a <em>JSON</em> structure and return an [page:Object3D object] or a [page:Scene scene].<br>
		Found objects are converted to [page:Mesh] with a [page:BufferGeometry] and a default [page:MeshPhongMaterial].<br>
		Lights are parsed accordingly.`}},"!doc":"A loader for loading a <em>.babylon</em> resource.","!type":"fn(manager: +THREE.LoadingManager)"},BufferGeometryLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/BufferGeometryLoader",prototype:{load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from url and call onLoad with the parsed response content."},parse:{"!type":"fn(json: object) -> +THREE.BufferGeometry","!doc":"Parse a <em>JSON</em> structure and return a [page:BufferGeometry]."}},"!doc":"A loader for loading a [page:BufferGeometry].","!type":"fn(manager: +THREE.LoadingManager)"},Cache:{"!url":"http://threejs.org/docs/#Reference/loaders/Cache",prototype:{files:{"!type":"object","!doc":"An [page:Object object] that hold cached values."},add:{"!type":"fn(key: string, value)","!doc":"Adds a cache entry with that key to hold the value. If this key already holds a value, it is overwritten."},get:{"!type":"fn(key: string)","!doc":"Get the value of key. If the key does not exist the null value is returned."},remove:{"!type":"fn(key: string)","!doc":"Remove the cached value associated with the key."},clear:{"!type":"fn()","!doc":"Remove all values from the cache."}},"!doc":"A simple caching classe, used internaly by [page:FileLoader].","!type":"fn()"},ColladaLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/ColladaLoader",prototype:{options:{"!type":"[]","!doc":`&nbsp;.[page:Boolean centerGeometry] \u2014 Force [page:Geometry] to always be centered at the local origin of the containing [page: Mesh].<br>
		&nbsp;.[page:Boolean convertUpAxis] \u2014 Axis conversion is done for geometries, animations, and controllers.<br>
		&nbsp;.[page:Boolean subdivideFaces] \u2014 Force subdivision into multiple [page: Face3].<br>
		&nbsp;.[page:String upAxis] \u2014 X, Y or Z<br>
		&nbsp;.[page:Boolean defaultEnvMap] \u2014 Cubemap to use for reflective or refractive materials.<br>`},geometries:{"!type":"object","!doc":"Parsed <em>.dae</em> geometries."},load:{"!type":"fn(url: string, onLoad: function, onProgress: function)","!doc":"Begin loading from url and call onLoad with the parsed response content."},parse:{"!type":"fn(doc: Document, callBack: function, url: string) -> object","!doc":"Parse an <em>XML Document</em> and return an [page:Object object] that contain loaded parts: .[page:Scene scene], .[page:Array morphs], .[page:Array skins], .[page:Array animations], .[page:Object dae]"},setPreferredShading:{"!type":"fn(shading: number)","!doc":`Set the .[page:Integer shading] property on the resource's materials.<br>
		Options are [page:Materials THREE.SmoothShading], [page:Materials THREE.FlatShading].`},applySkin:{"!type":"fn(geometry: +THREE.Geometry, instanceCtrl: object, frame: number)","!doc":"Apply a skin (vertices, animation, bones) from a <em>collada skin controller</em>, on the given [page:Geometry]."}},"!doc":"A loader for <em>Collada</em> files.","!type":"fn()"},ImageLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/ImageLoader",prototype:{crossOrigin:{"!type":"string","!doc":"The crossOrigin string to implement CORS for loading the url from a different domain that allows CORS."},load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from url and return the [page:Image image] object that will contain the data."},setCrossOrigin:{"!type":"fn(value: string)","!doc":"The crossOrigin string to implement CORS for loading the url from a different domain that allows CORS."}},"!doc":"A loader for loading an [page:Image].","!type":"fn(manager: +THREE.LoadingManager)"},Loader:{"!url":"http://threejs.org/docs/#Reference/loaders/Loader",prototype:{onLoadStart:{"!type":"function","!doc":"The default is a function with empty body."},onLoadProgress:{"!type":"function","!doc":"The default is a function with empty body."},onLoadComplete:{"!type":"function","!doc":"The default is a function with empty body."},crossOrigin:{"!type":"string","!doc":"The crossOrigin string to implement CORS for loading the url from a different domain that allows CORS."},updateProgress:{"!type":"fn(progress: object)","!doc":"Updates the DOM object with the progress made."},createMaterial:{"!type":"fn(m: object, texturePath: string) -> +THREE.Material","!doc":"Creates the Material based on the parameters m."},initMaterials:{"!type":"fn(materials: [], texturePath: string) -> []","!doc":"Creates an array of [page:Material] based on the array of parameters m. The index of the parameters decide the correct index of the materials."}},"!doc":"Base class for implementing loaders.","!type":"fn()"},LoadingManager:{"!url":"http://threejs.org/docs/#Reference/loaders/LoadingManager",prototype:{onLoad:{"!type":"function","!doc":"The function that needs to be called when all loaders are done."},onProgress:{"!type":"function","!doc":`The function that needs to be called when an item is complete. The arguments are url(The url of the item just loaded),<br>
		loaded(the amount of items already loaded), total( The total amount of items to be loaded.)`},onError:{"!type":"function","!doc":"The function that needs to be called when an item errors."},itemStart:{"!type":"fn(url: string)","!doc":"This should be called by any loader used by the manager when the loader starts loading an url. These shouldn't be called outside a loader."},itemEnd:{"!type":"fn(url: string)","!doc":"This should be called by any loader used by the manager when the loader ended loading an url.  These shouldn't be called outside a loader."}},"!doc":"Handles and keeps track of loaded and pending data.","!type":"fn(onLoad: function, onProgress: function, onError: function)"},MTLLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/MTLLoader",prototype:{load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from url and return the loaded material."},parse:{"!type":"fn(text: string) -> MTLLoaderMaterialCreator","!doc":"Parse a <em>mtl</em> text structure and return a [page:MTLLoaderMaterialCreator] instance.<br>"}},"!doc":"A loader for loading an <em>.mtl</em> resource, used internaly by [page:OBJLoader].","!type":"fn(baseUrl: string, options: object, crossOrigin: string)"},MaterialLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/MaterialLoader",prototype:{load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from url and return the [page:Material] object that will contain the data."},setCrossOrigin:{"!type":"fn(value: string)","!doc":"The crossOrigin string to implement CORS for loading the url from a different domain that allows CORS."},parse:{"!type":"fn(json: object) -> +THREE.Material","!doc":"Parse a <em>JSON</em> structure and create a new [page:Material] of the type [page:String json.type] with parameters defined in the json object."}},"!doc":"A loader for loading a [page:Material] in JSON format.","!type":"fn(manager: +THREE.LoadingManager)"},OBJLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/OBJLoader",prototype:{load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from url and call onLoad with the parsed response content."},parse:{"!type":"fn(text: string) -> +THREE.Object3D","!doc":`Parse an <em>obj</em> text structure and return an [page:Object3D].<br>
		Found objects are converted to [page:Mesh] with a [page:BufferGeometry] and a default [page:MeshLambertMaterial].`}},"!doc":"A loader for loading an <em>.obj</em> resource.","!type":"fn(manager: +THREE.LoadingManager)"},OBJMTLLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/OBJMTLLoader",prototype:{load:{"!type":"fn(objUrl: string, mtlUrl: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from urls and call onLoad with the parsed response content."},parse:{"!type":"fn(text: string, mtllibCallback: function) -> +THREE.Object3D","!doc":`Parse an <em>obj</em> text structure and return an [page:Object3D].<br>
		Found objects are converted to a [page:Mesh] and materials are converted to [page:MeshLambertMaterial].`}},"!doc":"A loader for loading a <em>.obj</em> and its <em>.mtl</em> together.","!type":"fn(manager: +THREE.LoadingManager)"},ObjectLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/ObjectLoader",prototype:{load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from url and call onLoad with the parsed response content."},parse:{"!type":"fn(json: object) -> +THREE.Object3D","!doc":"Parse a <em>JSON</em> content and return a threejs object."},setCrossOrigin:{"!type":"fn(value: string)","!doc":"[page:String value] \u2014 The crossOrigin string to implement CORS for loading the url from a different domain that allows CORS."}},"!doc":"A loader for loading a JSON resource.","!type":"fn(manager: +THREE.LoadingManager)"},PDBLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/PDBLoader",prototype:{load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from url and call onLoad with the parsed response content."},parsePDB:{"!type":"fn(text: string) -> object","!doc":"Parse a <em>pdb</em> text and return a <em>JSON</em> structure.<br>"},createModel:{"!type":"fn(json: object, callback: function)","!doc":"Parse a <em>(JSON) pdb</em> structure and return two [page:Geometry]: one for atoms, one for bonds.<br>"}},"!doc":`A loader for loading a <em>.pdb</em> resource.
		<br><br>
		The <a href="http://en.wikipedia.org/wiki/Protein_Data_Bank_(file_format)">Protein Data Bank file format</a> is a textual file format describing the three-dimensional structures of molecules.`,"!type":"fn(manager: +THREE.LoadingManager)"},SVGLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/SVGLoader",prototype:{load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from url and call onLoad with the response content."}},"!doc":"A loader for loading an <em>.svg</em> resource.","!type":"fn(manager: +THREE.LoadingManager)"},TGALoader:{"!url":"http://threejs.org/docs/#Reference/loaders/TGALoader",prototype:{load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function) -> +THREE.DataTexture","!doc":"Begin loading from url and pass the loaded [page:DataTexture texture] to onLoad. The [page:DataTexture texture] is also directly returned for immediate use (but may not be fully loaded)."}},"!doc":"Class for loading a <em>.tga</em> [page:DataTexture texture].","!type":"fn(manager: +THREE.LoadingManager)"},TextureLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/TextureLoader",prototype:{crossOrigin:{"!type":"string","!doc":`default \u2014 *null*.<br>
		If set, assigns the *crossOrigin* attribute of the image to the value of *crossOrigin*, prior to starting the load.`},load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from url and pass the loaded [page:Texture texture] to onLoad."}},"!doc":"Class for loading a [page:Texture texture].","!type":"fn(manager: +THREE.LoadingManager)"},FileLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/FileLoader",prototype:{cache:{"!type":"+THREE.Cache","!doc":"A [page:Cache cache] instance that hold the response from each request made through this loader, so each file is requested once."},crossOrigin:{"!type":"string","!doc":"The crossOrigin string to implement CORS for loading the url from a different domain that allows CORS."},responseType:{"!type":"string","!doc":"Can be set to change the response type."},load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from url and return the [page:String text] response that will contain the data."},setCrossOrigin:{"!type":"fn(value: string)","!doc":"[page:String value] \u2014 The crossOrigin string to implement CORS for loading the url from a different domain that allows CORS."},setResponseType:{"!type":"fn(value: string)","!doc":'[page:String value] \u2014 the empty string (default), "arraybuffer", "blob", "document", "json", or "text".'}},"!doc":"A low level class for loading resources with XMLHttpRequest, used internaly by most loaders.","!type":"fn(manager: +THREE.LoadingManager)"},GLTFLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/GLTFLoader",prototype:{"!proto":"THREE.Loader.prototype",load:{"!type":"fn(url: string, callback: function) -> +THREE.Object3D","!doc":"Begin loading from url and call the callback function with the parsed response content."}},"!doc":`A loader for loading a <em>.gltf</em> resource in <em>JSON</em> format.
		<br><br>
		The <a href="https://www.khronos.org/gltf">glTF file format</a> is a JSON file format to enable rapid delivery and loading of 3D content.`,"!type":"fn()"},LineBasicMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/LineBasicMaterial",prototype:{"!proto":"THREE.Material.prototype",color:{"!type":"number","!doc":"Sets the color of the line. Default is 0xffffff."},linewidth:{"!type":"number","!doc":'Due to limitations in the <a href="https://code.google.com/p/angleproject/" target="_blank">ANGLE layer</a>, on Windows platforms linewidth will always be 1 regardless of the set value.'},linecap:{"!type":"string","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:WebGLRenderer WebGL] renderer, but does work with the [page:CanvasRenderer Canvas] renderer."},linejoin:{"!type":"string","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:WebGLRenderer WebGL] renderer, but does work with the [page:CanvasRenderer Canvas] renderer."},vertexColors:{"!type":"bool","!doc":"This setting might not have any effect when used with certain renderers."},fog:{"!type":"bool","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:CanvasRenderer Canvas] renderer, but does work with the [page:WebGLRenderer WebGL] renderer."}},"!doc":"A material for drawing wireframe-style geometries.","!type":"fn(parameters: object)"},LineDashedMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/LineDashedMaterial",prototype:{"!proto":"THREE.Material.prototype",color:{"!type":"+THREE.Color","!doc":"Sets the color of the line. Default is 0xffffff."},linewidth:{"!type":"number","!doc":'Due to limitations in the <a href="https://code.google.com/p/angleproject/" target="_blank">ANGLE layer</a>, on Windows platforms linewidth will always be 1 regardless of the set value.'},scale:{"!type":"number","!doc":"The scale of the dashed part of a line."},dashSize:{"!type":"number","!doc":"The size of the dash. This is both the gap with the stroke. Default is 3."},gapSize:{"!type":"number","!doc":"The size of the gap. Default is 1."},vertexColors:{"!type":"bool","!doc":"This setting might not have any effect when used with certain renderers."},fog:{"!type":"boolean","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:CanvasRenderer Canvas] renderer, but does work with the [page:WebGLRenderer WebGL] renderer."}},"!doc":"A material for drawing wireframe-style geometries with dashed lines.","!type":"fn(parameters: object)"},Material:{"!url":"http://threejs.org/docs/#Reference/materials/Material",prototype:{id:{"!type":"number","!doc":"Unique number for this material instance."},name:{"!type":"string","!doc":"Material name. Default is an empty string."},opacity:{"!type":"number","!doc":"Default is *1.0*."},transparent:{"!type":"bool","!doc":"Default is *false*."},blendDst:{"!type":"number","!doc":"Blending destination. It's one of the blending mode constants defined in [page:Three Three.js]. Default is [page:CustomBlendingEquation OneMinusSrcAlphaFactor]."},blendEquation:{"!type":"number","!doc":"Blending equation to use when applying blending. It's one of the constants defined in [page:Three Three.js]. Default is [page:CustomBlendingEquation AddEquation.]"},depthTest:{"!type":"bool","!doc":"Whether to have depth test enabled when rendering this material. Default is *true*."},depthWrite:{"!type":"bool","!doc":"When drawing 2D overlays it can be useful to disable the depth writing in order to layer several things together without creating z-index artifacts."},polygonOffset:{"!type":"bool","!doc":"Whether to use polygon offset. Default is *false*. This corresponds to the *POLYGON_OFFSET_FILL* WebGL feature."},polygonOffsetFactor:{"!type":"number","!doc":"Sets the polygon offset factor. Default is *0*."},polygonOffsetUnits:{"!type":"number","!doc":"Sets the polygon offset units. Default is *0*."},alphaTest:{"!type":"number","!doc":"Sets the alpha value to be used when running an alpha test. Default is *0*."},overdraw:{"!type":"number","!doc":"Amount of triangle expansion at draw time. This is a workaround for cases when gaps appear between triangles when using [page:CanvasRenderer]. *0.5* tends to give good results across browsers. Default is *0*."},visible:{"!type":"bool","!doc":"Defines whether this material is visible. Default is *true*."},side:{"!type":"Enum","!doc":"Default is [page:Materials THREE.FrontSide]. Other options are [page:Materials THREE.BackSide] and [page:Materials THREE.DoubleSide]."},needsUpdate:{"!type":"bool","!doc":"This property is automatically set to *true* when instancing a new material."},clone:{"!type":"fn(material: material) -> +THREE.Material","!doc":"This clones the material in the optional parameter and returns it."},dispose:{"!type":"fn()","!doc":"This disposes the material."},setValues:{"!type":"fn(values: object)","!doc":"Sets the properties based on the *values*."}},"!doc":"Materials describe the appearance of [page:Object objects]. They are defined in a (mostly) renderer-independent way, so you don't have to rewrite materials if you decide to use a different renderer.","!type":"fn()"},MeshBasicMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/MeshBasicMaterial",prototype:{"!proto":"THREE.Material.prototype",color:{"!type":"number","!doc":"Sets the color of the geometry. Default is 0xffffff."},lightMap:{"!type":"+THREE.Texture","!doc":"Set light map. Default is null."},specularMap:{"!type":"+THREE.Texture","!doc":"Set specular map. Default is null."},alphaMap:{"!type":"+THREE.Texture","!doc":"Only the color of the texture is used, ignoring the alpha channel if one exists. For RGB and RGBA textures, the [page:WebGLRenderer WebGL] renderer will use the green channel when sampling this texture due to the extra bit of precision provided for green in DXT-compressed and uncompressed RGB 565 formats. Luminance-only and luminance/alpha textures will also still work as expected."},envMap:{"!type":"TextureCube","!doc":"Set env map. Default is null."},fog:{"!type":"bool","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:CanvasRenderer Canvas] renderer, but does work with the [page:WebGLRenderer WebGL] renderer."},shading:{"!type":"string","!doc":"Define shading type. Default is THREE.SmoothShading."},wireframe:{"!type":"bool","!doc":"Render geometry as wireframe. Default is false (i.e. render as flat polygons)."},wireframeLinewidth:{"!type":"number","!doc":'Due to limitations in the <a href="https://code.google.com/p/angleproject/" target="_blank">ANGLE layer</a>, on Windows platforms linewidth will always be 1 regardless of the set value.'},wireframeLinecap:{"!type":"string","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:WebGLRenderer WebGL] renderer, but does work with the [page:CanvasRenderer Canvas] renderer."},wireframeLinejoin:{"!type":"string","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:WebGLRenderer WebGL] renderer, but does work with the [page:CanvasRenderer Canvas] renderer."},vertexColors:{"!type":"boolean","!doc":"This setting might not have any effect when used with certain renderers."},morphTargets:{"!type":"bool","!doc":"Define whether the material uses morphTargets. Default is false."},map:{"!type":"+THREE.Texture","!doc":"Sets the texture map. Default is  null."},combine:{"!type":"number","!doc":"How to combine the result of the surface's color with the environment map, if any."},reflectivity:{"!type":"number","!doc":'How much the environment map affects the surface; also see "combine".'},refractionRatio:{"!type":"number","!doc":"The index of refraction for an environment map using [page:Textures THREE.CubeRefractionMapping]. Default is *0.98*."}},"!doc":"A material for drawing geometries in a simple shaded (flat or wireframe) way.","!type":"fn(parameters: object)"},MeshDepthMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/MeshDepthMaterial",prototype:{"!proto":"THREE.Material.prototype",morphTargets:{"!type":"boolean","!doc":"Define whether the material uses morphTargets. Default is false."},wireframe:{"!type":"boolean","!doc":"Render geometry as wireframe. Default is false (i.e. render as smooth shaded)."},wireframeLinewidth:{"!type":"number","!doc":`Controls wireframe thickness. Default is 1.<br><br>
			Due to limitations in the ANGLE layer, on Windows platforms linewidth will always be 1 regardless of the set value.`}},"!doc":"A material for drawing geometry by depth. Depth is based off of the camera near and far plane. White is nearest, black is farthest.","!type":"fn(parameters: object)"},MultiMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/MultiMaterial",prototype:{materials:{"!type":"[]","!doc":"Get or set the materials for the geometry."}},"!doc":`A Material to define multiple materials for the same geometry. 
		The geometry decides which material is used for which faces by the [page:Face3 faces materialindex].
		The materialindex corresponds with the index of the material in the materials array.`,"!type":"fn(materials: [])"},MeshLambertMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/MeshLambertMaterial",prototype:{"!proto":"THREE.Material.prototype",color:{"!type":"+THREE.Color","!doc":"Diffuse color of the material. Default is white.<br>"},emissive:{"!type":"+THREE.Color","!doc":"Emissive (light) color of the material, essentially a solid color unaffected by other lighting. Default is black.<br>"},wrapAround:{"!type":"boolean","!doc":`Define whether the diffuse lighting wraps around the model or not. This option adds a little more (tintable) light
			onto the side of the object in relation to a light.`},wrapRGB:{"!type":"+THREE.Vector3","!doc":`Decide how much of the wrap around values get used if the wrapAround option is set. The x, y, z values correspond
			to the r, g, b values respectively. The typical range is of each is from 0 to 1. For example setting all of the
			vector values to 0.5 will add a moderate amount of light to the side of the model. Changing *b* to 1 will
			tint the light on the side to be more blue. Defaults to *(1,1,1)*.`},map:{"!type":"+THREE.Texture","!doc":"Set color texture map. Default is null."},lightMap:{"!type":"+THREE.Texture","!doc":"Set light map. Default is null."},specularMap:{"!type":"+THREE.Texture","!doc":"Since this material does not have a specular component, the specular value affects only how much of the environment map affects the surface. Default is null."},alphaMap:{"!type":"+THREE.Texture","!doc":"Only the color of the texture is used, ignoring the alpha channel if one exists. For RGB and RGBA textures, the [page:WebGLRenderer WebGL] renderer will use the green channel when sampling this texture due to the extra bit of precision provided for green in DXT-compressed and uncompressed RGB 565 formats. Luminance-only and luminance/alpha textures will also still work as expected."},envMap:{"!type":"TextureCube","!doc":"Set env map. Default is null."},combine:{"!type":"number","!doc":"Options are [page:Textures THREE.Multiply] (default), [page:Textures THREE.MixOperation], [page:Textures THREE.AddOperation]. If mix is chosen, the reflectivity is used to blend between the two colors."},reflectivity:{"!type":"number","!doc":'How much the environment map affects the surface; also see "combine".'},refractionRatio:{"!type":"number","!doc":"The index of refraction for an environment map using [page:Textures THREE.CubeRefractionMapping]. Default is *0.98*."},fog:{"!type":"bool","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:CanvasRenderer Canvas] renderer, but does work with the [page:WebGLRenderer WebGL] renderer."},shading:{"!type":"number","!doc":"Options are [page:Materials THREE.SmoothShading] (default), [page:Materials THREE.FlatShading]."},wireframe:{"!type":"bool","!doc":"Whether the triangles' edges are displayed instead of surfaces. Default is *false*."},wireframeLinewidth:{"!type":"number","!doc":'Due to limitations in the <a href="https://code.google.com/p/angleproject/" target="_blank">ANGLE layer</a>, on Windows platforms linewidth will always be 1 regardless of the set value.'},wireframeLinecap:{"!type":"string","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:WebGLRenderer WebGL] renderer, but does work with the [page:CanvasRenderer Canvas] renderer."},wireframeLinejoin:{"!type":"string","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:WebGLRenderer WebGL] renderer, but does work with the [page:CanvasRenderer Canvas] renderer."},vertexColors:{"!type":"boolean","!doc":"This setting might not have any effect when used with certain renderers."},morphTargets:{"!type":"bool","!doc":"Define whether the material uses morphTargets. Default is *false*."},morphNormals:{"!type":"boolean","!doc":`Defines whether the material uses morphNormals. Set as true to pass morphNormal attributes from the [page:Geometry]
			to the shader. Default is *false*.`}},"!doc":"A material for non-shiny (Lambertian) surfaces, evaluated per vertex.","!type":"fn(parameters: object)"},MeshNormalMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/MeshNormalMaterial",prototype:{"!proto":"THREE.Material.prototype",wireframe:{"!type":"boolean","!doc":"Render geometry as wireframe. Default is false (i.e. render as smooth shaded)."},wireframeLinewidth:{"!type":"number","!doc":`Controls wireframe thickness. Default is 1.<br><br>
			Due to limitations in the ANGLE layer, on Windows platforms linewidth will always be 1 regardless of the set value.`},morphTargets:{"!type":"boolean","!doc":"Define whether the material uses morphTargets. Default is false."}},"!doc":"A material that maps the normal vectors to RGB colors.","!type":"fn(parameters: object)"},MeshPhongMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/MeshPhongMaterial",prototype:{"!proto":"THREE.Material.prototype",color:{"!type":"+THREE.Color","!doc":"Diffuse color of the material. Default is white.<br>"},emissive:{"!type":"+THREE.Color","!doc":"Emissive (light) color of the material, essentially a solid color unaffected by other lighting. Default is black.<br>"},specular:{"!type":"+THREE.Color","!doc":"Specular color of the material, i.e., how shiny the material is and the color of its shine. Setting this the same color as the diffuse value (times some intensity) makes the material more metallic-looking; setting this to some gray makes the material look more plastic. Default is dark gray.<br>"},shininess:{"!type":"number","!doc":"How shiny the specular highlight is; a higher value gives a sharper highlight. Default is *30*. It should not be set to 0."},metal:{"!type":"boolean","!doc":`If set to true the shader multiplies the specular highlight by the underlying color of the object, making
			it appear to be more metal-like and darker. If set to false the specular highlight is added ontop of the
			underlying colors.`},wrapAround:{"!type":"boolean","!doc":`Define whether the diffuse lighting wraps around the model or not. This option adds a little more (tintable) light
			onto the side of the object in relation to a light.`},wrapRGB:{"!type":"+THREE.Vector3","!doc":`Decide how much of the wrap around values get used if the wrapAround option is set. The x, y, z values correspond
			to the r, g, b values respectively. The typical range is of each is from 0 to 1. For example setting all of the
			vector values to 0.5 will add a moderate amount of light to the side of the model. Changing *b* to 1 will
			tint the light on the side to be more blue. Defaults to (1,1,1).`},map:{"!type":"+THREE.Texture","!doc":"Set color texture map. Default is null."},lightMap:{"!type":"+THREE.Texture","!doc":"Set light map. Default is null."},bumpMap:{"!type":"+THREE.Texture","!doc":`The texture to create a bump map. The black and white values map to the perceived depth in relation to the lights.
			Bump doesn't actually affect the geometry of the object, only the lighting. If a normal map is defined this will
			be ignored.`},bumpScale:{"!type":"number","!doc":"How much the bump map affects the material. Typical ranges are 0-1. Default is 1."},normalMap:{"!type":"+THREE.Texture","!doc":`The texture to create a normal map. The RGB values affect the surface normal for each pixel fragment and change
			the way the color is lit. Normal maps do not change the actual shape of the surface, only the lighting.`},normalScale:{"!type":"+THREE.Vector2","!doc":"How much the normal map affects the material. Typical ranges are 0-1. Default is (1,1)."},specularMap:{"!type":"+THREE.Texture","!doc":"The specular map value affects both how much the specular surface highlight contributes and how much of the environment map affects the surface. Default is null."},alphaMap:{"!type":"+THREE.Texture","!doc":"Only the color of the texture is used, ignoring the alpha channel if one exists. For RGB and RGBA textures, the [page:WebGLRenderer WebGL] renderer will use the green channel when sampling this texture due to the extra bit of precision provided for green in DXT-compressed and uncompressed RGB 565 formats. Luminance-only and luminance/alpha textures will also still work as expected."},envMap:{"!type":"TextureCube","!doc":"Set env map. Default is null."},combine:{"!type":"number","!doc":"Options are [page:Textures THREE.MultiplyOperation] (default), [page:Textures THREE.MixOperation], [page:Textures THREE.AddOperation]. If mix is chosen, the reflectivity is used to blend between the two colors."},reflectivity:{"!type":"number","!doc":'How much the environment map affects the surface; also see "combine".'},refractionRatio:{"!type":"number","!doc":"The index of refraction for an environment map using [page:Textures THREE.CubeRefractionMapping]. Default is *0.98*."},fog:{"!type":"bool","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:CanvasRenderer Canvas] renderer, but does work with the [page:WebGLRenderer WebGL] renderer."},shading:{"!type":"number","!doc":"Options are [page:Materials THREE.SmoothShading] (default), [page:Materials THREE.FlatShading]."},wireframe:{"!type":"bool","!doc":"Whether the triangles' edges are displayed instead of surfaces. Default is *false*."},wireframeLinewidth:{"!type":"number","!doc":'Due to limitations in the <a href="https://code.google.com/p/angleproject/" target="_blank">ANGLE layer</a>, on Windows platforms linewidth will always be 1 regardless of the set value.'},wireframeLinecap:{"!type":"string","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:WebGLRenderer WebGL] renderer, but does work with the [page:CanvasRenderer Canvas] renderer."},wireframeLinejoin:{"!type":"string","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:WebGLRenderer WebGL] renderer, but does work with the [page:CanvasRenderer Canvas] renderer."},vertexColors:{"!type":"bool","!doc":"This setting might not have any effect when used with certain renderers."},morphTargets:{"!type":"bool","!doc":"Define whether the material uses morphTargets. Default is *false*."},morphNormals:{"!type":"boolean","!doc":`Defines whether the material uses morphNormals. Set as true to pass morphNormal attributes from the [page:Geometry]
			to the shader. Default is *false*.`}},"!doc":"A material for shiny surfaces, evaluated per pixel.","!type":"fn(parameters: object)"},PointCloudMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/PointCloudMaterial",prototype:{"!proto":"THREE.Material.prototype",color:{"!type":"number","!doc":"Sets the color of the particles. Default is 0xffffff."},map:{"!type":"+THREE.Texture","!doc":"Sets the color of the particles using data from a texture."},size:{"!type":"number","!doc":"Sets the size of the particles. Default is 1.0."},sizeAttenuation:{"!type":"bool","!doc":"Specify whether particles' size will get smaller with the distance. Default is true."},vertexColors:{"!type":"bool","!doc":"This setting might not have any effect when used with certain renderers."},fog:{"!type":"bool","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:CanvasRenderer Canvas] renderer, but does work with the [page:WebGLRenderer WebGL] renderer."}},"!doc":"The default material used by [page:PointCloud particle] systems.","!type":"fn(parameters: object)"},RawShaderMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/RawShaderMaterial",prototype:{"!proto":"THREE.ShaderMaterial.prototype"},"!doc":"This class works just like [page:ShaderMaterial], except that definitions of built-in uniforms and attributes are not automatically prepended to the GLSL shader code."},ShaderMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/ShaderMaterial",prototype:{"!proto":"THREE.Material.prototype",uniforms:{"!type":"object","!doc":`Object specifying the uniforms to be passed to the shader code; keys are uniform names, values are definitions of the form
		<code>
		{ type: 'f', value: 1.0 }
		</code>
		where *type* is a <a href="#uniform-types">uniform type string</a>, and *value* is the value of the uniform. Names must match the name of the uniform, as defined in the GLSL code. Note that uniforms are refreshed on every frame, so updating the value of the uniform will immediately update the value available to the GLSL code.`},attributes:{"!type":"object","!doc":`<p>
		Object specifying the custom attributes to be passed to the shader code; keys are attribute names, values are definitions of the form
		<code>
		{ type: 'f', value: [1.0, 0.5, 2.0, ...] }
		</code>
		where *type* is an <a href="#attribute-types">attribute type string</a>, and *value* is an array containing an attribute value for each vertex in the geometry (or *undefined* if using [page:BufferGeometry]). Names must match the name of the attribute, as defined in the GLSL code.
		</p>
		<p>
		Note that attribute buffers are <emph>not</emph> refreshed automatically when their values change; if using [page:Geometry], set <code>needsUpdate = true</code> on the attribute definition. If using [page:BufferGeometry], set <code>needsUpdate = true</code> on the [page:BufferAttribute].
		</p>`},defines:{"!type":"object","!doc":`Defines custom constants using *#define* directives within the GLSL code for both the vertex shader and the fragment shader; each key/value pair yields another directive:
		<code>
		defines: {
			FOO: 15,
			BAR: true
		}
		</code>
		yields the lines
		<code>
		#define FOO 15
		#define BAR true
		</code>
		in the GLSL code.`},vertexShader:{"!type":"string","!doc":"Vertex shader GLSL code.  This is the actual code for the shader. In the example above, the *vertexShader* and *fragmentShader* code is extracted from the DOM; it could be passed as a string directly or loaded via AJAX instead."},fragmentShader:{"!type":"string","!doc":"Fragment shader GLSL code.  This is the actual code for the shader. In the example above, the *vertexShader* and *fragmentShader* code is extracted from the DOM; it could be passed as a string directly or loaded via AJAX instead."},shading:{"!type":"number","!doc":"Define shading type, which determines whether normals are smoothed between vertices; possible values are [page:Materials THREE.SmoothShading] or [page:Materials THREE.FlatShading]. Default is THREE.SmoothShading."},linewidth:{"!type":"number","!doc":'Due to limitations in the <a href="https://code.google.com/p/angleproject/" target="_blank">ANGLE layer</a>, on Windows platforms linewidth will always be 1 regardless of the set value.'},wireframe:{"!type":"bool","!doc":"Render geometry as wireframe (using GL_LINES instead of GL_TRIANGLES). Default is false (i.e. render as flat polygons)."},wireframeLinewidth:{"!type":"number","!doc":'Due to limitations in the <a href="https://code.google.com/p/angleproject/" target="_blank">ANGLE layer</a>, on Windows platforms linewidth will always be 1 regardless of the set value.'},fog:{"!type":"bool","!doc":"Define whether the material color is affected by global fog settings; true to pass fog uniforms to the shader. Default is false."},lights:{"!type":"bool","!doc":"Defines whether this material uses lighting; true to pass uniform data related to lighting to this shader"},vertexColors:{"!type":"bool","!doc":"Define how the vertices are colored, by defining how the *colors* attribute gets populated. Default is false."},morphTargets:{"!type":"bool","!doc":"Defines whether the material uses morphTargets; true morphTarget attributes to this shader"},morphNormals:{"!type":"boolean","!doc":`Defines whether the material uses morphNormals. Set as true to pass morphNormal attributes from the [page:Geometry]
			to the shader. Default is *false*.`},program:{"!type":"+THREE.WebGLProgram","!doc":"The compiled shader program associated with this material, generated by [page:WebGLRenderer]. You should not need to access this property."},clone:{"!type":"fn() -> +THREE.ShaderMaterial","!doc":"Generates a shallow copy of this material. Note that the vertexShader and fragmentShader are copied <emph>by reference</emph>, as are the definitions of the *attributes*; this means that clones of the material will share the same compiled [page:WebGLProgram]. However, the *uniforms* are copied <emph>by value</emph>, which allows you to have different sets of uniforms for different copies of the material."}},"!doc":`Material rendered with custom shaders. A shader is a small program written in [link:https://www.opengl.org/documentation/glsl/ GLSL] to run on the GPU. You may want to use a custom shader if you need to:
		<ul>
			<li>implement an effect not included with any of the built-in [page:Material materials]</li>
			<li>combine many objects into a single [page:Geometry] or [page:BufferGeometry] in order to improve performance</li>
			<li>associate custom data with individual vertices ("custom attributes")</li>
		</ul>
		Note that a ShaderMaterial will only be rendered properly by [page:WebGLRenderer], since the GLSL code in the vertexShader and fragmentShader properties must be compiled and run on the GPU using WebGL.`,"!type":"fn(parameters: object)"},SpriteCanvasMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/SpriteCanvasMaterial",prototype:{"!proto":"THREE.Material.prototype",color:{"!type":"+THREE.Color","!doc":"The color of the sprite. The material will set up the color for the context before calling the material's program."},program:{"!type":"fn(context: CanvasRenderingContext2D, color: +THREE.Color)","!doc":"Define a program that will use the context to draw the sprite."}},"!doc":"Create a material that can draw custom sprites using a 2d canvas.","!type":"fn(parameters: object)"},SpriteMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/SpriteMaterial",prototype:{"!proto":"THREE.Material.prototype",color:{"!type":"+THREE.Color","!doc":"The texture is multiplied by this color. The default is 0xffffff"},map:{"!type":"+THREE.Texture","!doc":"The texture map. Default is null."},rotation:{"!type":"Radians","!doc":"The rotation of the sprite in radians. Default is 0."},fog:{"!type":"boolean","!doc":"Whether or not this material affected by the scene's fog. Default is false"}},"!doc":"A material for a [page:Sprite].","!type":"fn(parameters: object)"},Box2:{"!url":"http://threejs.org/docs/#Reference/math/Box2",prototype:{min:{"!type":"+THREE.Vector2","!doc":"Lower (x, y) boundary of this box."},max:{"!type":"+THREE.Vector2","!doc":"Upper (x, y) boundary of this box."},set:{"!type":"fn(min: +THREE.Vector2, max: +THREE.Vector2) -> +THREE.Box2","!doc":"Sets the lower and upper (x, y) boundaries of this box."},expandByPoint:{"!type":"fn(point: +THREE.Vector2) -> +THREE.Box2","!doc":"Expands the boundaries of this box to include *point*."},clampPoint:{"!type":"fn(point: +THREE.Vector2, optionalTarget: +THREE.Vector2) -> +THREE.Vector2","!doc":"Clamps *point* within the bounds of this box."},isIntersectionBox:{"!type":"fn(box: +THREE.Box2) -> bool","!doc":"Determines whether or not this box intersects *box*."},setFromPoints:{"!type":"fn(points: []) -> +THREE.Box2","!doc":"Sets the upper and lower bounds of this box to include all of the points in *points*."},size:{"!type":"fn(optionalTarget: +THREE.Vector2) -> +THREE.Vector2","!doc":"Returns the width and height of this box."},union:{"!type":"fn(box: +THREE.Box2) -> +THREE.Box2","!doc":`Unions this box with *box* setting the upper bound of this box to the greater of the 
		two boxes' upper bounds and the lower bound of this box to the lesser of the two boxes'
		lower bounds.`},getParameter:{"!type":"fn(point: +THREE.Vector2, optionalTarget: +THREE.Vector2) -> +THREE.Vector2","!doc":"Returns a point as a proportion of this box's width and height."},expandByScalar:{"!type":"fn(scalar: float) -> +THREE.Box2","!doc":`Expands each dimension of the box by *scalar*. If negative, the dimensions of the box <br>
		will be contracted.`},intersect:{"!type":"fn(box: +THREE.Box2) -> +THREE.Box2","!doc":`Returns the intersection of this and *box*, setting the upper bound of this box to the lesser <br>
		of the two boxes' upper bounds and the lower bound of this box to the greater of the two boxes' <br>
		lower bounds.`},containsBox:{"!type":"fn(box: +THREE.Box2) -> bool","!doc":`Returns true if this box includes the entirety of *box*. If this and *box* overlap exactly,<br>
		this function also returns true.`},translate:{"!type":"fn(offset: +THREE.Vector2) -> +THREE.Box2","!doc":`Adds *offset* to both the upper and lower bounds of this box, effectively moving this box <br>
		*offset* units in 2D space.`},empty:{"!type":"fn() -> bool","!doc":`Returns true if this box includes zero points within its bounds.<br>
		Note that a box with equal lower and upper bounds still includes one point, the
		one both bounds share.`},clone:{"!type":"fn() -> +THREE.Box2","!doc":"Returns a copy of this box."},equals:{"!type":"fn(box: +THREE.Box2) -> bool","!doc":"Returns true if this box and *box* share the same lower and upper bounds."},expandByVector:{"!type":"fn(vector: +THREE.Vector2) -> +THREE.Box2","!doc":`Expands this box equilaterally by *vector*. The width of this box will be
		expanded by the x component of *vector* in both directions. The height of 
		this box will be expanded by the y component of *vector* in both directions.`},copy:{"!type":"fn(box: +THREE.Box2) -> +THREE.Box2","!doc":"Copies the values of *box* to this box."},makeEmpty:{"!type":"fn() -> +THREE.Box2","!doc":"Makes this box empty."},center:{"!type":"fn(optionalTarget: +THREE.Vector2) -> +THREE.Vector2","!doc":"Returns the center point of this box."},distanceToPoint:{"!type":"fn(point: +THREE.Vector2) -> number","!doc":`Returns the distance from any edge of this box to the specified point. <br>
		If the point lies inside of this box, the distance will be 0.`},containsPoint:{"!type":"fn(point: +THREE.Vector2) -> bool","!doc":"Returns true if the specified point lies within the boundaries of this box."},setFromCenterAndSize:{"!type":"fn(center: +THREE.Vector2, size: +THREE.Vector2) -> +THREE.Box2","!doc":`Centers this box on *center* and sets this box's width and height to the values specified
		in *size*.`}},"!doc":"Represents a boundary box in 2D space.","!type":"fn(min: +THREE.Vector2, max: +THREE.Vector2)"},Box3:{"!url":"http://threejs.org/docs/#Reference/math/Box3",prototype:{min:{"!type":"+THREE.Vector3","!doc":"Lower (x, y, z) boundary of this box."},max:{"!type":"+THREE.Vector3","!doc":"Upper (x, y, z) boundary of this box."},set:{"!type":"fn(min: +THREE.Vector3, max: +THREE.Vector3) -> +THREE.Box3","!doc":"Sets the lower and upper (x, y, z) boundaries of this box."},applyMatrix4:{"!type":"fn(matrix: +THREE.Matrix4) -> +THREE.Box3","!doc":"Transforms this Box3 with the supplied matrix."},clampPoint:{"!type":"fn(point: +THREE.Vector3, optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Clamps *point* within the bounds of this box."},isIntersectionBox:{"!type":"fn(box: +THREE.Box3) -> bool","!doc":"Determines whether or not this box intersects *box*."},setFromPoints:{"!type":"fn(points: []) -> +THREE.Box3","!doc":"Sets the upper and lower bounds of this box to include all of the points in *points*."},setFromObject:{"!type":"fn(object: +THREE.Object3D) -> +THREE.Box3","!doc":`Computes the world-axis-aligned bounding box of an object (including its children),
		accounting for both the object's, and childrens', world transforms`},size:{"!type":"fn(optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Returns the width, height, and depth of this box."},union:{"!type":"fn(box: +THREE.Box3) -> +THREE.Box3","!doc":`Unions this box with *box* setting the upper bound of this box to the greater of the 
		two boxes' upper bounds and the lower bound of this box to the lesser of the two boxes'
		lower bounds.`},getParameter:{"!type":"fn(point: +THREE.Vector3, optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Returns point as a proportion of this box's width and height."},intersect:{"!type":"fn(box: +THREE.Box3) -> +THREE.Box3","!doc":`Returns the intersection of this and *box*, setting the upper bound of this box to the lesser <br>
		of the two boxes' upper bounds and the lower bound of this box to the greater of the two boxes' <br>
		lower bounds.`},containsBox:{"!type":"fn(box: +THREE.Box3) -> bool","!doc":`Returns true if this box includes the entirety of *box*. If this and *box* overlap exactly,<br>
		this function also returns true.`},containsPoint:{"!type":"fn(point: +THREE.Vector3) -> bool","!doc":"Returns true if the specified point lies within the boundaries of this box."},translate:{"!type":"fn(offset: +THREE.Vector3) -> +THREE.Box3","!doc":`Adds *offset* to both the upper and lower bounds of this box, effectively moving this box <br>
		*offset* units in 3D space.`},empty:{"!type":"fn() -> bool","!doc":`Returns true if this box includes zero points within its bounds.<br>
		Note that a box with equal lower and upper bounds still includes one point, the
		one both bounds share.`},clone:{"!type":"fn() -> +THREE.Box3","!doc":"Returns a copy of this box."},equals:{"!type":"fn(box: +THREE.Box3) -> bool","!doc":"Returns true if this box and *box* share the same lower and upper bounds."},expandByPoint:{"!type":"fn(point: +THREE.Vector3) -> +THREE.Box3","!doc":"Expands the boundaries of this box to include *point*."},expandByScalar:{"!type":"fn(scalar: float) -> +THREE.Box3","!doc":`Expands each dimension of the box by *scalar*. If negative, the dimensions of the box <br>
		will be contracted.`},expandByVector:{"!type":"fn(vector: +THREE.Vector3) -> +THREE.Box3","!doc":`Expands this box equilaterally by *vector*. The width of this box will be
		expanded by the x component of *vector* in both directions. The height of 
		this box will be expanded by the y component of *vector* in both directions.
		The depth of this box will be expanded by the z component of *vector* in
		both directions.`},copy:{"!type":"fn(box: +THREE.Box3) -> +THREE.Box3","!doc":"Copies the values of *box* to this box."},makeEmpty:{"!type":"fn() -> +THREE.Box3","!doc":"Makes this box empty."},center:{"!type":"fn(optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Returns the center point of this box."},getBoundingSphere:{"!type":"fn(optionalTarget: +THREE.Sphere) -> +THREE.Sphere","!doc":"Gets a sphere that bounds the box."},distanceToPoint:{"!type":"fn(point: +THREE.Vector3) -> number","!doc":`Returns the distance from any edge of this box to the specified point. <br>
		If the point lies inside of this box, the distance will be 0.`},setFromCenterAndSize:{"!type":"fn(center: +THREE.Vector3, size: +THREE.Vector3) -> +THREE.Box3","!doc":`Centers this box on *center* and sets this box's width and height to the values specified
		in *size*.`}},"!doc":"Represents a boundary box in 3d space.","!type":"fn(min: +THREE.Vector3, max: +THREE.Vector3)"},Color:{"!url":"http://threejs.org/docs/#Reference/math/Color",prototype:{r:{"!type":"number","!doc":"Red channel value between 0 and 1. Default is 1."},g:{"!type":"number","!doc":"Green channel value between 0 and 1. Default is 1."},b:{"!type":"number","!doc":"Blue channel value between 0 and 1. Default is 1."},copy:{"!type":"fn(color: +THREE.Color) -> +THREE.Color","!doc":"Copies given color."},copyGammaToLinear:{"!type":"fn(color: +THREE.Color) -> +THREE.Color","!doc":"Copies given color making conversion from gamma to linear space."},copyLinearToGamma:{"!type":"fn(color: +THREE.Color) -> +THREE.Color","!doc":"Copies given color making conversion from linear to gamma space."},convertGammaToLinear:{"!type":"fn() -> +THREE.Color","!doc":"Converts this color from gamma to linear space."},convertLinearToGamma:{"!type":"fn() -> +THREE.Color","!doc":"Converts this color from linear to gamma space."},setRGB:{"!type":"fn(r: number, g: number, b: number) -> +THREE.Color","!doc":"Sets this color from RGB values."},getHex:{"!type":"fn() -> number","!doc":"Returns the hexadecimal value of this color."},getHexString:{"!type":"fn() -> string","!doc":"Returns the string formated hexadecimal value of this color."},setHex:{"!type":"fn(hex: number) -> +THREE.Color","!doc":"Sets this color from a hexadecimal value."},setStyle:{"!type":"fn(style: string) -> +THREE.Color","!doc":"Sets this color	from a CSS-style string."},getStyle:{"!type":"fn() -> string","!doc":"Returns the value of this color as a CSS-style string. Example: rgb(255,0,0)"},setHSL:{"!type":"fn(h: number, s: number, l: number) -> +THREE.Color","!doc":"Sets color from hsl"},offsetHSL:{"!type":"fn(h: number, s: number, l: number) -> +THREE.Color","!doc":"Adds given h, s, and l to this color's existing h, s, and l values."},add:{"!type":"fn(color: +THREE.Color) -> +THREE.Color","!doc":"Adds rgb values of given color to rgb values of this color"},addColors:{"!type":"fn(color1: +THREE.Color, color2: +THREE.Color) -> +THREE.Color","!doc":"Sets this color to the sum of color1 and color2"},addScalar:{"!type":"fn(s: number) -> +THREE.Color","!doc":"Adds s to the rgb values of this color"},multiply:{"!type":"fn(color: +THREE.Color) -> +THREE.Color","!doc":"Multiplies this color's rgb values by given color's rgb values"},multiplyScalar:{"!type":"fn(s: number) -> +THREE.Color","!doc":"Multiplies this color's rgb values by s"},lerp:{"!type":"fn(color: +THREE.Color, alpha) -> +THREE.Color","!doc":"Linear interpolation of this colors rgb values and the rgb values of the first argument. The alpha argument can be thought of as the percent between the two colors, where 0 is this color and 1 is the first argument."},toArray:{"!type":"fn(array: []) -> []","!doc":"Returns an array [r,g,b]"},equals:{"!type":"fn(c: +THREE.Color) -> +THREE.Color","!doc":"Compares this color and c and returns true if they are the same, false otherwise."},clone:{"!type":"fn() -> +THREE.Color","!doc":"Clones this color."},set:{"!type":"fn(value) -> +THREE.Color","!doc":"Delegates to .copy, .setStyle, or .setHex depending on input type."}},"!doc":"Represents a color.","!type":"fn(value)"},Euler:{"!url":"http://threejs.org/docs/#Reference/math/Euler",prototype:{x:"number",y:"number",z:"number",order:"string",set:{"!type":"fn(x: number, y: number, z: number, order: string) -> +THREE.Euler","!doc":"Sets the angles of this euler transform."},copy:{"!type":"fn(euler: +THREE.Euler) -> +THREE.Euler","!doc":"Copies value of *euler* to this euler."},setFromRotationMatrix:{"!type":"fn(m: +THREE.Matrix4, order: string) -> +THREE.Euler","!doc":"Sets the angles of this euler transform from a pure rotation matrix based on the orientation specified by order."},setFromQuaternion:{"!type":"fn(q: +THREE.Quaternion, order: string) -> +THREE.Euler","!doc":"Sets the angles of this euler transform from a normalized quaternion based on the orientation specified by order."},reorder:{"!type":"fn(newOrder: string) -> +THREE.Euler","!doc":`Resets the euler angle with a new order by creating a quaternion from this euler angle and then setting this euler angle with the quaternion and the new order. <br>
		WARNING: this discards revolution information.`},setFromVector3:{"!type":"fn(vector: +THREE.Vector3, order: string) -> +THREE.Euler","!doc":"Optionally Vector3 to the XYZ parameters of Euler, and order to the Euler's order property."},toVector3:{"!type":"fn() -> +THREE.Vector3","!doc":"Returns the Euler's XYZ properties as a Vector3."},fromArray:{"!type":"fn(array: []) -> +THREE.Euler","!doc":`Assigns this euler's x angle to array[0]. <br>
		Assigns this euler's y angle to array[1]. <br>
		Assigns this euler's z angle to array[2]. <br>
		Optionally assigns this euler's order to array[3].`},toArray:{"!type":"fn(array: []) -> []","!doc":"Returns an array [x, y, z, order]"},equals:{"!type":"fn(euler: +THREE.Euler) -> bool","!doc":"Checks for strict equality of this euler and *euler*."},clone:{"!type":"fn() -> +THREE.Euler","!doc":"Returns a new euler created from this euler."}},"!doc":`Euler Angles. <br><br>

		Euler angles describe a rotation transformation by rotating an object on its various axes in specified amounts per axis, and a specified axis order.
		(More information on <a href="http://en.wikipedia.org/wiki/Euler_angles" target="blank">Wikipedia</a>)`,"!type":"fn(x: number, y: number, z: number, order: string)"},Frustum:{"!url":"http://threejs.org/docs/#Reference/math/Frustum",prototype:{planes:{"!type":"[]","!doc":"Array of 6 [page:Plane planes]."},setFromMatrix:{"!type":"fn(matrix: +THREE.Matrix4) -> +THREE.Frustum","!doc":"Array of 6 [page:Plane planes]."},intersectsObject:{"!type":"fn(object: +THREE.Object3D) -> bool","!doc":"Checks whether the object's bounding sphere is intersecting the Frustum."},clone:{"!type":"fn() -> +THREE.Frustum","!doc":"Return a copy of this Frustum"},set:{"!type":"fn(p0: +THREE.Plane, p1: +THREE.Plane, p2: +THREE.Plane, p3: +THREE.Plane, p4: +THREE.Plane, p5: +THREE.Plane) -> bool","!doc":"Sets the current frustum from the passed planes. No plane order is implicitely implied."},copy:{"!type":"fn(frustum: +THREE.Frustum) -> +THREE.Frustum","!doc":"Copies the values of the passed frustum."},containsPoint:{"!type":"fn(point: +THREE.Vector3) -> bool","!doc":"Checks to see if the frustum contains the point."},intersectsSphere:{"!type":"fn(sphere: +THREE.Sphere) -> bool","!doc":"Check to see if the sphere intersects with the frustum."}},"!doc":`<a href="http://en.wikipedia.org/wiki/Frustum">Frustums</a> are used to determine what is inside the camera's field of view. They help speed up the rendering process.`,"!type":"fn(p0: +THREE.Plane, p1: +THREE.Plane, p2: +THREE.Plane, p3: +THREE.Plane, p4: +THREE.Plane, p5: +THREE.Plane)"},Line3:{"!url":"http://threejs.org/docs/#Reference/math/Line3",prototype:{start:"+THREE.Vector3",end:"+THREE.Vector3",set:{"!type":"fn(start: +THREE.Vector3, end: +THREE.Vector3) -> +THREE.Line3","!doc":"Sets the start and end values by copying the provided vectors."},copy:{"!type":"fn(line: +THREE.Line3) -> +THREE.Line3","!doc":"Copies the passed line's start and end vectors to this line."},clone:{"!type":"fn() -> +THREE.Line3","!doc":"Return a new copy of this [page:Line3]."},equals:{"!type":"fn(line: +THREE.Line3) -> bool","!doc":`<h3>[method:Float distance]()</h3>
		<div>
		Returns the length of the line segment.
		</div>
		Returns true if both line's start and end points are equal.`},distance:{"!type":"fn() -> number","!doc":"Returns the length of the line segment."},distanceSq:{"!type":"fn() -> number","!doc":"Returns the line segment's length squared."},applyMatrix4:{"!type":"fn(matrix: +THREE.Matrix4) -> +THREE.Line3","!doc":"Apply a matrix transform to the line segment."},at:{"!type":"fn(t: number, optionalTarget: +THREE.Vector3) -> Vector","!doc":"Return a vector at a certain position along the line. When t = 0, it returns the start vector, and when t=1 it returns the end vector."},center:{"!type":"fn(optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Return the center of the line segment."},delta:{"!type":"fn(optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Returns the delta vector of the line segment, or the end vector minus the start vector."},closestPointToPoint:{"!type":"fn(point: +THREE.Vector3, clampToLine: bool, optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Returns the closets point on the line. If clamp to line is true, then the returned value will be clamped to the line segment."},closestPointToPointParameter:{"!type":"fn(point: +THREE.Vector3, clampToLine: bool) -> number","!doc":"Returns a point parameter based on the closest point as projected on the line segement. If clamp to line is true, then the returned value will be between 0 and 1."}},"!doc":"A geometric line segment represented by a start and end point.","!type":"fn(start: +THREE.Vector3, end: +THREE.Vector3)"},Math:{"!url":"http://threejs.org/docs/#Reference/math/Math",prototype:{clamp:{"!type":"fn(x: number, a: number, b: number) -> number","!doc":"Clamps the *x* to be between *a* and *b*."},clampBottom:{"!type":"fn(x: number, a: number) -> number","!doc":"Clamps the *x* to be larger than *a*."},mapLinear:{"!type":"fn(x: number, a1: number, a2: number, b1: number, b2: number) -> number","!doc":"Linear mapping of *x* from range [*a1*, *a2*] to range [*b1*, *b2*]."},random16:{"!type":"fn() -> number","!doc":`Random float from 0 to 1 with 16 bits of randomness.<br>
		Standard Math.random() creates repetitive patterns when applied over larger space.`},randInt:{"!type":"fn(low: number, high: number) -> number","!doc":"Random integer from *low* to *high* interval."},randFloat:{"!type":"fn(low: number, high: number) -> number","!doc":"Random float from *low* to *high* interval."},randFloatSpread:{"!type":"fn(range: number) -> number","!doc":"Random float from *- range / 2* to *range / 2* interval."},sign:{"!type":"fn(x: number) -> number","!doc":"Returns -1 if *x* is less than 0, 1 if *x* is greater than 0, and 0 if *x* is zero."},degToRad:{"!type":"fn(degrees: number) -> number","!doc":"Converts degrees to radians."},radToDeg:{"!type":"fn(radians: number) -> number","!doc":"Converts radians to degrees"},smoothstep:{"!type":"fn(x: number, min: number, max: number) -> number","!doc":`Returns a value between 0-1 that represents the percentage that x has moved between min and max, but smoothed or slowed down the closer X is to the min and max.<br><br>
		
		[link:http://en.wikipedia.org/wiki/Smoothstep Wikipedia]`},smootherstep:{"!type":"fn(x: number, min: number, max: number) -> number","!doc":"Returns a value between 0-1. It works the same as smoothstep, but more smooth."}},"!doc":"Math utility functions"},Matrix3:{"!url":"http://threejs.org/docs/#Reference/math/Matrix3",prototype:{elements:{"!type":"Float32Array","!doc":"Float32Array with column-major matrix values."},transpose:{"!type":"fn() -> +THREE.Matrix3","!doc":"Transposes this matrix in place."},transposeIntoArray:{"!type":"fn(array: []) -> +THREE.Matrix3","!doc":"Transposes this matrix into the supplied array, and returns itself."},determinant:{"!type":"fn() -> number","!doc":"Returns the matrix's determinant."},set:{"!type":"fn(n11: number, n12: number, n13: number, n21: number, n22: number, n23: number, n31: number, n32: number, n33: number) -> +THREE.Matrix3","!doc":"Set the 3x3 matrix values to the given row-major sequence of values."},multiplyScalar:{"!type":"fn(scalar: number) -> +THREE.Matrix3","!doc":"Multiply every component of the matrix by a scalar value."},applyToBufferAttribute:{"!type":"fn(attribute: []) -> +THREE.BufferAttribute","!doc":"Multiply (apply) this matrix to every vector3 in the attribute."},getNormalMatrix:{"!type":"fn(matrix4: +THREE.Matrix4) -> +THREE.Matrix3","!doc":"Set this matrix as the normal matrix of the passed [page:Matrix4 matrix4]. The normal matrix is the inverse transpose of the matrix."},getInverse:{"!type":"fn(matrix4: +THREE.Matrix4, throwOnInvertible: bool) -> +THREE.Matrix3","!doc":"Set this matrix to the inverse of the passed matrix."},copy:{"!type":"fn(matrix: +THREE.Matrix3) -> +THREE.Matrix3","!doc":"Copy the values of the passed matrix."},clone:{"!type":"fn() -> +THREE.Matrix3","!doc":"Create a copy of the matrix."},identity:{"!type":"fn() -> +THREE.Matrix3","!doc":`Set as an identity matrix.<br><br>
		
		1, 0, 0<br>
		0, 1, 0<br>
		0, 0, 1<br>`}},"!doc":"A 3x3 matrix.","!type":"fn(n11: number, n12: number, n13: number, n21: number, n22: number, n23: number, n31: number, n32: number, n33: number)"},Matrix4:{"!url":"http://threejs.org/docs/#Reference/math/Matrix4",prototype:{elements:{"!type":"Float32Array","!doc":"A column-major list of matrix values."},set:{"!type":"fn(n11: number, n12: number, n13: number, n14: number, n21: number, n22: number, n23: number, n24: number, n31: number, n32: number, n33: number, n34: number, n41: number, n42: number, n43: number, n44: number) -> +THREE.Matrix4","!doc":"Sets all fields of this matrix to the supplied row-major values n11..n44."},identity:{"!type":"fn() -> +THREE.Matrix4","!doc":"Resets this matrix to identity."},copy:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Matrix4","!doc":"Copies a matrix *m* into this matrix."},copyPosition:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Matrix4","!doc":"Copies the translation component of the supplied matrix *m* into this matrix translation component."},makeBasis:{"!type":"fn(xAxis: +THREE.Vector3, zAxis: +THREE.Vector3, zAxis: +THREE.Vector3) -> +THREE.Matrix4","!doc":"Creates the basis matrix consisting of the three provided axis vectors.  Returns the current matrix."},extractBasis:{"!type":"fn(xAxis: +THREE.Vector3, zAxis: +THREE.Vector3, zAxis: +THREE.Vector3) -> +THREE.Matrix4","!doc":"Extracts basis of into the three axis vectors provided.  Returns the current matrix."},extractRotation:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Matrix4","!doc":"Extracts the rotation of the supplied matrix *m* into this matrix rotation component."},lookAt:{"!type":"fn(eye: +THREE.Vector3, center: +THREE.Vector3, up: +THREE.Vector3) -> +THREE.Matrix4","!doc":"Constructs a rotation matrix, looking from *eye* towards *center* with defined *up* vector."},multiply:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Matrix4","!doc":"Multiplies this matrix by *m*."},multiplyMatrices:{"!type":"fn(a: +THREE.Matrix4, b: +THREE.Matrix4) -> +THREE.Matrix4","!doc":"Sets this matrix to *a x b*."},multiplyScalar:{"!type":"fn(s: number) -> +THREE.Matrix4","!doc":"Multiplies this matrix by *s*."},determinant:{"!type":"fn() -> number","!doc":`Computes determinant of this matrix.<br>
		Based on [link:http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm]`},transpose:{"!type":"fn() -> +THREE.Matrix4","!doc":"Transposes this matrix."},flattenToArrayOffset:{"!type":"fn(flat: [], offset: number) -> []","!doc":"Flattens this matrix into supplied *flat* array starting from *offset* position in the array."},setPosition:{"!type":"fn(v: +THREE.Vector3) -> +THREE.Matrix4","!doc":"Sets the position component for this matrix from vector *v*."},getInverse:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Matrix4","!doc":`Sets this matrix to the inverse of matrix *m*.<br>
		Based on [link:http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm].`},makeRotationFromEuler:{"!type":"fn(euler: +THREE.Euler) -> +THREE.Matrix4","!doc":`Sets the rotation submatrix of this matrix to the rotation specified by Euler angles, the rest of the matrix is identity.<br>
		Default order is *"XYZ"*.`},makeRotationFromQuaternion:{"!type":"fn(q: +THREE.Quaternion) -> +THREE.Matrix4","!doc":"Sets the rotation submatrix of this matrix to the rotation specified by *q*. The rest of the matrix is identity."},scale:{"!type":"fn(v: +THREE.Vector3) -> +THREE.Matrix4","!doc":"Multiplies the columns of this matrix by vector *v*."},compose:{"!type":"fn(translation: +THREE.Vector3, quaternion: +THREE.Quaternion, scale: +THREE.Vector3) -> +THREE.Matrix4","!doc":"Sets this matrix to the transformation composed of *translation*, *quaternion* and *scale*."},decompose:{"!type":"fn(translation: +THREE.Vector3, quaternion: +THREE.Quaternion, scale: +THREE.Vector3) -> []","!doc":"Decomposes this matrix into the *translation*, *quaternion* and *scale* components."},makeTranslation:{"!type":"fn(x: number, y: number, z: number) -> +THREE.Matrix4","!doc":"Sets this matrix as translation transform."},makeRotationX:{"!type":"fn(theta: number) -> +THREE.Matrix4","!doc":"Sets this matrix as rotation transform around x axis by *theta* radians."},makeRotationY:{"!type":"fn(theta: number) -> +THREE.Matrix4","!doc":"Sets this matrix as rotation transform around y axis by *theta* radians."},makeRotationZ:{"!type":"fn(theta: number) -> +THREE.Matrix4","!doc":"Sets this matrix as rotation transform around z axis by *theta* radians."},makeRotationAxis:{"!type":"fn(axis: +THREE.Vector3, theta: number) -> +THREE.Matrix4","!doc":`Sets this matrix as rotation transform around *axis* by *angle* radians.<br>
		Based on [link:http://www.gamedev.net/reference/articles/article1199.asp].`},makeScale:{"!type":"fn(x: number, y: number, z: number) -> +THREE.Matrix4","!doc":"Sets this matrix as scale transform."},makePerspective:{"!type":"fn(left: number, right: number, top: number, bottom: number, near: number, far: number) -> +THREE.Matrix4","!doc":"Creates a perspective projection matrix."},makeOrthographic:{"!type":"fn(left: number, right: number, top: number, bottom: number, near: number, far: number) -> +THREE.Matrix4","!doc":"Creates an orthographic projection matrix."},clone:{"!type":"fn() -> +THREE.Matrix4","!doc":"Clones this matrix."},applyToBufferAttribute:{"!type":"fn(attribute: []) -> +THREE.BufferAttribute","!doc":"Multiply (apply) this matrix to every vector3 in the attribute."},getMaxScaleOnAxis:{"!type":"fn() -> number","!doc":"Gets the max scale value of the 3 axes."}},"!doc":"A 4x4 Matrix.","!type":"fn(n11: number, n12: number, n13: number, n14: number, n21: number, n22: number, n23: number, n24: number, n31: number, n32: number, n33: number, n34: number, n41: number, n42: number, n43: number, n44: number)"},Plane:{"!url":"http://threejs.org/docs/#Reference/math/Plane",prototype:{normal:"+THREE.Vector3",constant:"number",normalize:{"!type":"fn() -> +THREE.Plane","!doc":"Normalizes the normal vector, and adjusts the constant value accordingly."},set:{"!type":"fn(normal: +THREE.Vector3, constant: number) -> +THREE.Plane","!doc":"Sets the plane's values."},copy:{"!type":"fn(plane: +THREE.Plane) -> +THREE.Plane","!doc":"Copies the values of the passed plane to this plane."},applyMatrix4:{"!type":"fn(matrix: +THREE.Matrix4, optionalNormalMatrix: +THREE.Matrix3) -> +THREE.Plane","!doc":`Apply a Matrix4 to the plane. The second parameter is optional.
		
		<code>
		var optionalNormalMatrix = new THREE.Matrix3().getNormalMatrix( matrix ) 
		</code>`},orthoPoint:{"!type":"fn(point: +THREE.Vector3, optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Returns a vector in the same direction as the Plane's normal, but the magnitude is passed point's original distance to the plane."},isIntersectionLine:{"!type":"fn(line: +THREE.Line3) -> bool","!doc":"Tests whether a line segment intersects with the plane. (Do not mistake this for a collinear check.)"},intersectLine:{"!type":"fn(line: +THREE.Line3, optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Returns the intersection point of the passed line and the plane. Returns undefined if the line does not intersect. Returns the line's starting point if the line is coplanar with the plane."},setFromNormalAndCoplanarPoint:{"!type":"fn(normal: +THREE.Vector3, point: +THREE.Vector3) -> +THREE.Vector3","!doc":"Sets the plane's values as defined by a normal and arbitrary coplanar point."},clone:{"!type":"fn() -> +THREE.Plane","!doc":"Returns a new copy of this plane."},distanceToPoint:{"!type":"fn(point: +THREE.Vector3) -> number","!doc":"Returns the smallest distance from the point to the plane."},equals:{"!type":"fn(plane: +THREE.Plane) -> bool","!doc":"Checks to see if two planes are equal (their normals and constants match)"},setComponents:{"!type":"fn(x: number, y: number, z: number, w: number) -> +THREE.Plane","!doc":"Set the individual components that make up the plane."},distanceToSphere:{"!type":"fn(sphere: +THREE.Sphere) -> number","!doc":"Returns the smallest distance from an edge of the sphere to the plane."},setFromCoplanarPoints:{"!type":"fn(a: +THREE.Vector3, b: +THREE.Vector3, c: +THREE.Vector3) -> +THREE.Plane","!doc":"Defines the plane based on the 3 provided points. The winding order is counter clockwise, and determines which direction the normal will point."},projectPoint:{"!type":"fn(point: +THREE.Vector3, optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Projects a point onto the plane. The projected point is the closest point on the plane to the passed point, so a line drawn from the projected point and the passed point would be orthogonal to the plane."},negate:{"!type":"fn() -> +THREE.Plane","!doc":"Negates both the normal vector and constant, effectively mirroring the plane across the origin."},translate:{"!type":"fn(offset: +THREE.Vector3) -> +THREE.Plane","!doc":"Translates the plane the distance defined by the vector. Note that this only affects the constant (distance from origin) and will not affect the normal vector."},coplanarPoint:{"!type":"fn(optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Returns a coplanar point. (The projection of the normal vector at the origin onto the plane.)"}},"!doc":"A two dimensional surface that extends infinitely in 3d space.","!type":"fn(normal: +THREE.Vector3, constant: number)"},Quaternion:{"!url":"http://threejs.org/docs/#Reference/math/Quaternion",prototype:{x:"number",y:"number",z:"number",w:"number",set:{"!type":"fn(x: number, y: number, z: number, w: number) -> +THREE.Quaternion","!doc":"Sets values of this quaternion."},copy:{"!type":"fn(q: +THREE.Quaternion) -> +THREE.Quaternion","!doc":"Copies values of *q* to this quaternion."},setFromEuler:{"!type":"fn(euler: +THREE.Euler) -> +THREE.Quaternion","!doc":"Sets this quaternion from rotation specified by Euler angle."},setFromAxisAngle:{"!type":"fn(axis: +THREE.Vector3, angle: number) -> +THREE.Quaternion","!doc":`Sets this quaternion from rotation specified by axis and angle.<br>
		Adapted from [link:http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm].<br>
		*Axis* is asumed to be normalized, *angle* is in radians.`},setFromRotationMatrix:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Quaternion","!doc":`Sets this quaternion from rotation component of *m*.<br>
		Adapted from [link:http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm].`},setFromUnitVectors:{"!type":"fn(vFrom: +THREE.Vector3, vTo: +THREE.Vector3) -> +THREE.Quaternion","!doc":`Sets this quaternion to the rotation required to rotate direction vector *vFrom* to direction vector *vTo*.<br>
		Adapted from [link:http://lolengine.net/blog/2013/09/18/beautiful-maths-quaternion-from-vectors].<br>
		*vFrom* and *vTo* are assumed to be normalized.`},inverse:{"!type":"fn() -> +THREE.Quaternion","!doc":"Inverts this quaternion."},length:{"!type":"fn() -> number","!doc":"Computes length of this quaternion."},normalize:{"!type":"fn() -> +THREE.Quaternion","!doc":"Normalizes this quaternion."},multiply:{"!type":"fn(b: +THREE.Quaternion) -> +THREE.Quaternion","!doc":"Multiplies this quaternion by *b*."},multiplyQuaternions:{"!type":"fn(a: +THREE.Quaternion, b: +THREE.Quaternion) -> +THREE.Quaternion","!doc":`Sets this quaternion to *a x b*<br>
		Adapted from [link:http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm].`},multiplyVector3:{"!type":"fn(vector: +THREE.Vector3, dest: +THREE.Vector3) -> +THREE.Quaternion","!doc":`Rotates *vector* by this quaternion into *dest*.<br>
		If *dest* is not specified, result goes to *vec*.`},clone:{"!type":"fn() -> +THREE.Quaternion","!doc":"Clones this quaternion."},slerp:{"!type":"fn(qb: +THREE.Quaternion, t: float) -> +THREE.Quaternion","!doc":`Handles the spherical linear interpolation between this quaternion's configuration
		and that of *qb*. *t* represents how close to the current (0) or target (1) rotation the
		result should be.`},toArray:{"!type":"fn(array: []) -> []","!doc":"Returns the numerical elements of this quaternion in an array of format (x, y, z, w)."},equals:{"!type":"fn(v: +THREE.Quaternion) -> bool","!doc":`Compares each component of *v* to each component of this quaternion to determine if they
		represent the same rotation.`},lengthSq:{"!type":"fn() -> number","!doc":"Calculates the squared length of the quaternion."},fromArray:{"!type":"fn(array: []) -> +THREE.Quaternion","!doc":"Sets this quaternion's component values from an array."},conjugate:{"!type":"fn() -> +THREE.Quaternion","!doc":`Returns the rotational conjugate of this quaternion. The conjugate of a quaternion
		represents the same rotation in the opposite direction about the rotational axis.`}},"!doc":'Implementation of a <a href="http://en.wikipedia.org/wiki/Quaternion">quaternion</a>. This is used for rotating things without encountering the dreaded <a href="http://en.wikipedia.org/wiki/Gimbal_lock">gimbal lock</a> issue, amongst other advantages.',"!type":"fn(x: number, y: number, z: number, w: number)"},Ray:{"!url":"http://threejs.org/docs/#Reference/math/Ray",prototype:{origin:{"!type":"+THREE.Vector3","!doc":"The origin of the [page:Ray]."},direction:{"!type":"+THREE.Vector3","!doc":"The direction of the [page:Ray]. This must be normalized (with [page:Vector3].normalize) for the methods to operate properly."},applyMatrix4:{"!type":"fn(matrix4: +THREE.Matrix4) -> +THREE.Ray","!doc":"Transform this [page:Ray] by the [page:Matrix4]."},clone:{"!type":"fn() -> +THREE.Ray","!doc":"Create a clone of this [page:Ray]."},closestPointToPoint:{"!type":"fn(point: +THREE.Vector3, optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Get the point along this [page:Ray] that is closest to the [page:Vector3] provided."},copy:{"!type":"fn(ray: +THREE.Ray) -> +THREE.Ray","!doc":"Copy the properties of the provided [page:Ray], then return this [page:Ray]."},distanceToPlane:{"!type":"fn(plane: +THREE.Plane) -> number","!doc":"Get the distance from the origin to the [page:Plane], or *null* if the [page:Ray] doesn't intersect the [page:Plane]."},distanceToPoint:{"!type":"fn(point: +THREE.Vector3) -> number","!doc":"Get the distance of the closest approach between the [page:Ray] and the [page:Vector3]."},equals:{"!type":"fn(ray: +THREE.Ray) -> bool","!doc":"Return whether this and the other [page:Ray] have equal offsets and directions."},isIntersectionBox:{"!type":"fn(box: +THREE.Box3) -> bool","!doc":"Return whether or not this [page:Ray] intersects with the [page:Box3]."},isIntersectionPlane:{"!type":"fn(plane: +THREE.Plane) -> bool","!doc":"Return whether or not this [page:Ray] intersects with the [page:Plane]."},isIntersectionSphere:{"!type":"fn(sphere: +THREE.Sphere) -> bool","!doc":"Return whether or not this [page:Ray] intersects with the [page:Sphere]."},recast:{"!type":"fn(t: number) -> +THREE.Ray","!doc":"Shift the origin of this [page:Ray] along its direction by the distance given."},set:{"!type":"fn(origin: +THREE.Vector3, direction: +THREE.Vector3) -> +THREE.Ray","!doc":"Copy the parameters to the origin and direction properties."}},"!doc":"A ray that emits from an origin in a certain direction.","!type":"fn(origin: +THREE.Vector3, direction: +THREE.Vector3)"},Sphere:{"!url":"http://threejs.org/docs/#Reference/math/Sphere",prototype:{center:"+THREE.Vector3",radius:"number",applyMatrix4:{"!type":"fn(matrix: +THREE.Matrix4) -> +THREE.Sphere","!doc":"Transforms this sphere with the provided [page:Matrix4]."},clampPoint:{"!type":"fn(point: +THREE.Vector3, optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Clamps a point within the sphere. If the point is is outside the sphere, it will clamp it to the closets point on the edge of the sphere."},translate:{"!type":"fn(offset: +THREE.Vector3) -> +THREE.Sphere","!doc":"Translate the sphere's center by the provided offset vector."},clone:{"!type":"fn() -> +THREE.Sphere","!doc":"Provides a new copy of the sphere."},equals:{"!type":"fn(sphere: +THREE.Sphere) -> bool","!doc":"Checks to see if the two spheres' centers and radii are equal."},setFromPoints:{"!type":"fn(points: [], optionalCenter: +THREE.Vector3) -> +THREE.Sphere","!doc":"Computes the minimum bounding sphere for *points*. If *optionalCenter* is given, it is used as the sphere's center. Otherwise, the center of the axis-aligned bounding box encompassing *points* is calculated."},distanceToPoint:{"!type":"fn(point: +THREE.Vector3) -> number","!doc":"Returns the closest distance from the boundary of the sphere to the point. If the sphere contains the point, the distance will be negative."},getBoundingBox:{"!type":"fn(optionalTarget: Box) -> Box","!doc":"Returns a bounding box for the sphere, optionally setting a provided box target."},containsPoint:{"!type":"fn(point: +THREE.Vector3) -> bool","!doc":"Checks to see if the sphere contains the provided point inclusive of the edge of the sphere."},copy:{"!type":"fn(sphere: +THREE.Sphere) -> +THREE.Sphere","!doc":"Copies the values of the passed sphere to this sphere."},intersectsSphere:{"!type":"fn(sphere: +THREE.Sphere) -> bool","!doc":"Checks to see if two spheres intersect."},empty:{"!type":"fn() -> bool","!doc":"Checks to see if the sphere is empty (the radius set to 0)."}},"!doc":"A geometric sphere defined by a center position and radius.","!type":"fn(center: +THREE.Vector3, radius: number)"},Triangle:{"!url":"http://threejs.org/docs/#Reference/math/Triangle",prototype:{a:{"!type":"+THREE.Vector3","!doc":"The first [page:Vector3] of the triangle."},b:{"!type":"+THREE.Vector3","!doc":"The second [page:Vector3] of the triangle."},c:{"!type":"+THREE.Vector3","!doc":"The third [page:Vector3] of the triangle."},setFromPointsAndIndices:{"!type":"fn(points: [], i0: number, i1: number, i2: number) -> +THREE.Triangle","!doc":"Sets the triangle's vectors to the vectors in the array."},set:{"!type":"fn(a: +THREE.Vector3, b: +THREE.Vector3, c: +THREE.Vector3) -> +THREE.Triangle","!doc":"Sets the triangle's vectors to the passed vectors."},getNormal:{"!type":"fn(optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Return the calculated normal of the triangle."},getBarycoord:{"!type":"fn(point: +THREE.Vector3, optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":`Return a barycentric coordinate from the given vector. <br><br>
		[link:http://commons.wikimedia.org/wiki/File:Barycentric_coordinates_1.png](Picture of barycentric coordinates)`},clone:{"!type":"fn() -> +THREE.Triangle","!doc":"Return a new copy of this triangle."},getArea:{"!type":"fn() -> number","!doc":"Return the area of the triangle."},getMidpoint:{"!type":"fn(optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Return the midpoint of the triangle. Optionally sets a target vector."},equals:{"!type":"fn(triangle: +THREE.Triangle) -> bool","!doc":"Checks to see if two triangles are equal (share the same vectors)."},getPlane:{"!type":"fn(optionalTarget: +THREE.Plane) -> +THREE.Plane","!doc":"Return a [page:Plane plane] based on the triangle. Optionally sets a target plane."},containsPoint:{"!type":"fn(point: +THREE.Vector3) -> bool","!doc":"Checks to see if the passed vector is within the triangle."},copy:{"!type":"fn(triangle: +THREE.Triangle) -> +THREE.Triangle","!doc":"Copies the values of the vertices of the passed triangle to this triangle."}},"!doc":"A geometric triangle as defined by three vectors.","!type":"fn(a: +THREE.Vector3, b: +THREE.Vector3, c: +THREE.Vector3)"},Vector2:{"!url":"http://threejs.org/docs/#Reference/math/Vector2",prototype:{x:"number",y:"number",set:{"!type":"fn(x: number, y: number) -> +THREE.Vector2","!doc":"Sets value of this vector."},copy:{"!type":"fn(v: +THREE.Vector2) -> +THREE.Vector2","!doc":"Copies value of *v* to this vector."},add:{"!type":"fn(v: +THREE.Vector2) -> +THREE.Vector2","!doc":"Adds *v* to this vector."},addVectors:{"!type":"fn(a: +THREE.Vector2, b: +THREE.Vector2) -> +THREE.Vector2","!doc":"Sets this vector to *a + b*."},sub:{"!type":"fn(v: +THREE.Vector2) -> +THREE.Vector2","!doc":"Subtracts *v* from this vector."},subVectors:{"!type":"fn(a: +THREE.Vector2, b: +THREE.Vector2) -> +THREE.Vector2","!doc":"Sets this vector to *a - b*."},multiplyScalar:{"!type":"fn(s: number) -> +THREE.Vector2","!doc":"Multiplies this vector by scalar *s*."},divideScalar:{"!type":"fn(s: number) -> +THREE.Vector2","!doc":`Divides this vector by scalar *s*.<br>
		Set vector to *( 0, 0 )* if *s == 0*.`},negate:{"!type":"fn() -> +THREE.Vector2","!doc":"Inverts this vector."},dot:{"!type":"fn(v: +THREE.Vector2) -> number","!doc":"Computes dot product of this vector and *v*."},lengthSq:{"!type":"fn() -> number","!doc":"Computes squared length of this vector."},length:{"!type":"fn() -> number","!doc":"Computes length of this vector."},normalize:{"!type":"fn() -> +THREE.Vector2","!doc":"Normalizes this vector."},distanceTo:{"!type":"fn(v: +THREE.Vector2) -> number","!doc":"Computes distance of this vector to *v*."},distanceToSquared:{"!type":"fn(v: +THREE.Vector2) -> number","!doc":"Computes squared distance of this vector to *v*."},setLength:{"!type":"fn(l: number) -> +THREE.Vector2","!doc":"Normalizes this vector and multiplies it by *l*."},equals:{"!type":"fn(v: +THREE.Vector2) -> bool","!doc":"Checks for strict equality of this vector and *v*."},clone:{"!type":"fn() -> +THREE.Vector2","!doc":"Clones this vector."},clamp:{"!type":"fn(min: +THREE.Vector2, max: +THREE.Vector2) -> +THREE.Vector2","!doc":"If this vector's x or y value is greater than the max vector's x or y value, it is replaced by the corresponding value. <br>	If this vector's x or y value is less than the min vector's x or y value, it is replace by the corresponding value."},clampScalar:{"!type":"fn(min: number, max: number) -> +THREE.Vector2","!doc":"If this vector's x or y values are greater than the max value, they are replaced by the max value. <br>  If this vector's x or y values are less than the min value, they are replace by the min value."},floor:{"!type":"fn() -> +THREE.Vector2","!doc":"The components of the vector are rounded downwards (towards negative infinity) to an integer value."},ceil:{"!type":"fn() -> +THREE.Vector2","!doc":"The components of the vector are rounded upwards (towards positive infinity) to an integer value."},round:{"!type":"fn() -> +THREE.Vector2","!doc":"The components of the vector are rounded towards the nearest integer value."},roundToZero:{"!type":"fn() -> +THREE.Vector2","!doc":"The components of the vector are rounded towards zero (up if negative, down if positive) to an integer value."},lerp:{"!type":"fn(v: +THREE.Vector2, alpha: number) -> +THREE.Vector2","!doc":"Linear interpolation between this vector and v, where alpha is the percent along the line."},lerpVectors:{"!type":"fn(v1: +THREE.Vector2, v2: +THREE.Vector2, alpha: number) -> +THREE.Vector2","!doc":"Sets this vector to be the vector linearly interpolated between *v1* and *v2* with *alpha* factor."},setComponent:{"!type":"fn(index: number, value: number) -> undefined","!doc":`if index equals 0 method replaces this.x with value. <br>
		if index equals 1 method replaces this.y with value.`},addScalar:{"!type":"fn(s: number) -> +THREE.Vector2","!doc":"Add the scalar value s to this vector's x and y values."},getComponent:{"!type":"fn(index: number) -> number","!doc":`if index equals 0 returns the x value. <br>
		if index equals 1 returns the y value.`},fromArray:{"!type":"fn(array: []) -> +THREE.Vector2","!doc":"Sets this vector's x value to be array[0] and y value to be array[1]."},toArray:{"!type":"fn(array: []) -> []","!doc":"Returns an array [x, y]."},min:{"!type":"fn(v: +THREE.Vector2) -> +THREE.Vector2","!doc":"If this vector's x or y value is less than v's x or y value, replace that value with the corresponding min value."},max:{"!type":"fn(v: +THREE.Vector2) -> +THREE.Vector2","!doc":"If this vector's x or y value is greater than v's x or y value, replace that value with the corresponding max value."},setX:{"!type":"fn(x: number) -> +THREE.Vector2","!doc":"replace this vector's x value with x."},setY:{"!type":"fn(y: number) -> +THREE.Vector2","!doc":"replace this vector's y value with y."}},"!doc":"2D vector.","!type":"fn(x: number, y: number)"},Vector3:{"!url":"http://threejs.org/docs/#Reference/math/Vector3",prototype:{x:"number",y:"number",z:"number",set:{"!type":"fn(x: number, y: number, z: number) -> +THREE.Vector3","!doc":"Sets value of this vector."},setX:{"!type":"fn(x: number) -> +THREE.Vector3","!doc":"Sets x value of this vector."},setY:{"!type":"fn(y: number) -> +THREE.Vector3","!doc":"Sets y value of this vector."},setZ:{"!type":"fn(z: number) -> +THREE.Vector3","!doc":"Sets z value of this vector."},copy:{"!type":"fn(v: +THREE.Vector3) -> +THREE.Vector3","!doc":"Copies value of *v* to this vector."},add:{"!type":"fn(v: +THREE.Vector3) -> +THREE.Vector3","!doc":"Adds *v* to this vector."},addVectors:{"!type":"fn(a: +THREE.Vector3, b: +THREE.Vector3) -> +THREE.Vector3","!doc":"Sets this vector to *a + b*."},sub:{"!type":"fn(v: +THREE.Vector3) -> +THREE.Vector3","!doc":"Subtracts *v* from this vector."},subVectors:{"!type":"fn(a: +THREE.Vector3, b: +THREE.Vector3) -> +THREE.Vector3","!doc":"Sets this vector to *a - b*."},multiplyScalar:{"!type":"fn(s: number) -> +THREE.Vector3","!doc":"Multiplies this vector by scalar *s*."},divideScalar:{"!type":"fn(s: number) -> +THREE.Vector3","!doc":`Divides this vector by scalar *s*.<br>
		Set vector to *( 0, 0, 0 )* if *s == 0*.`},negate:{"!type":"fn() -> +THREE.Vector3","!doc":"Inverts this vector."},dot:{"!type":"fn(v: +THREE.Vector3) -> number","!doc":"Computes dot product of this vector and *v*."},lengthSq:{"!type":"fn() -> number","!doc":"Computes squared length of this vector."},length:{"!type":"fn() -> number","!doc":"Computes length of this vector."},lengthManhattan:{"!type":"fn() -> number","!doc":`Computes Manhattan length of this vector.<br>
		[link:http://en.wikipedia.org/wiki/Taxicab_geometry]`},normalize:{"!type":"fn() -> +THREE.Vector3","!doc":"Normalizes this vector. Transforms this Vector into a Unit vector by dividing the vector by it's length."},distanceTo:{"!type":"fn(v: +THREE.Vector3) -> number","!doc":"Computes distance of this vector to *v*."},distanceToSquared:{"!type":"fn(v: +THREE.Vector3) -> number","!doc":"Computes squared distance of this vector to *v*."},setLength:{"!type":"fn(l: number) -> +THREE.Vector3","!doc":"Normalizes this vector and multiplies it by *l*."},cross:{"!type":"fn(v: +THREE.Vector3) -> +THREE.Vector3","!doc":"Sets this vector to cross product of itself and *v*."},crossVectors:{"!type":"fn(a: +THREE.Vector3, b: +THREE.Vector3) -> +THREE.Vector3","!doc":"Sets this vector to cross product of *a* and *b*."},setFromMatrixPosition:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Vector3","!doc":"Sets this vector extracting position from matrix transform."},setFromMatrixScale:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Vector3","!doc":"Sets this vector extracting scale from matrix transform."},equals:{"!type":"fn(v: +THREE.Vector3) -> bool","!doc":"Checks for strict equality of this vector and *v*."},clone:{"!type":"fn() -> +THREE.Vector3","!doc":"Clones this vector."},clamp:{"!type":"fn(min: +THREE.Vector3, max: +THREE.Vector3) -> +THREE.Vector3","!doc":`If this vector's x, y or z value is greater than the max vector's x, y or z value, it is replaced by the corresponding value. <br><br>
		If this vector's x, y or z value is less than the min vector's x, y or z value, it is replace by the corresponding value.`},clampScalar:{"!type":"fn(min: number, max: number) -> +THREE.Vector3","!doc":"If this vector's x, y or z values are greater than the max value, they are replaced by the max value. <br>  If this vector's x, y or z values are less than the min value, they are replace by the min value."},floor:{"!type":"fn() -> +THREE.Vector3","!doc":"The components of the vector are rounded downwards (towards negative infinity) to an integer value."},ceil:{"!type":"fn() -> +THREE.Vector3","!doc":"The components of the vector are rounded upwards (towards positive infinity) to an integer value."},round:{"!type":"fn() -> +THREE.Vector3","!doc":"The components of the vector are rounded towards the nearest integer value."},roundToZero:{"!type":"fn() -> +THREE.Vector3","!doc":"The components of the vector are rounded towards zero (up if negative, down if positive) to an integer value."},applyMatrix3:{"!type":"fn(m: +THREE.Matrix3) -> +THREE.Vector3","!doc":"Multiplies this vector times a 3 x 3 matrix."},applyMatrix4:{"!type":"fn(m: +THREE.Matrix3) -> +THREE.Vector3","!doc":"Multiplies this vector by 4 x 3 subset of a Matrix4."},projectOnPlane:{"!type":"fn(planeNormal: +THREE.Vector3) -> +THREE.Vector3","!doc":"Projects this vector onto a plane by subtracting this vector projected onto the plane's normal from this vector."},projectOnVector:{"!type":"fn() -> +THREE.Vector3","!doc":"Projects this vector onto another vector."},addScalar:{"!type":"fn() -> +THREE.Vector3","!doc":"Adds a s to this vector."},divide:{"!type":"fn(v: +THREE.Vector3) -> +THREE.Vector3","!doc":"Divides this vector by vector v."},min:{"!type":"fn(v: +THREE.Vector3) -> +THREE.Vector3","!doc":"If this vector's x, y, or z value is less than vector v's x, y, or z value, that value is replaced by the corresponding vector v value."},max:{"!type":"fn(v: +THREE.Vector3) -> +THREE.Vector3","!doc":"If this vector's x, y, or z value is greater than vector v's x, y, or z value, that value is replaced by the corresponding vector v value."},setComponent:{"!type":"fn(index: number, value: number) -> +THREE.Vector3","!doc":`If index equals 0 the method sets this vector's x value to value <br>
		If index equals 1 the method sets this vector's y value to value <br>
		If index equals 2 the method sets this vector's z value to value`},transformDirection:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Vector3","!doc":"Transforms the direction of this vector by a matrix (a 3 x 3 subset of a Matrix4) and then normalizes the result."},multiplyVectors:{"!type":"fn(a: +THREE.Vector3, b: +THREE.Vector3) -> +THREE.Vector3","!doc":"Sets this vector equal to the result of multiplying vector a by vector b."},getComponent:{"!type":"fn(index: number) -> number","!doc":`Returns the value of the vector component x, y, or z by an index. <br><br>

		Index 0: x <br>
		Index 1: y <br>
		Index 2: z <br>`},applyAxisAngle:{"!type":"fn(axis: +THREE.Vector3, angle: number) -> +THREE.Vector3","!doc":"Applies a rotation specified by an axis and an angle to this vector."},lerp:{"!type":"fn(v: +THREE.Vector3, alpha: number) -> +THREE.Vector3","!doc":"Linear Interpolation between this vector and vector v, where alpha is the percent along the line."},lerpVectors:{"!type":"fn(v1: +THREE.Vector3, v2: +THREE.Vector3, alpha: number) -> +THREE.Vector3","!doc":"Sets this vector to be the vector linearly interpolated between *v1* and *v2* with *alpha* factor."},angleTo:{"!type":"fn(v: +THREE.Vector3) -> number","!doc":"Returns the angle between this vector and vector v in radians."},setFromMatrixColumn:{"!type":"fn(index: number, matrix: +THREE.Matrix4) -> +THREE.Vector3","!doc":"Sets this vector's x, y, and z equal to the column of the matrix specified by the index."},reflect:{"!type":"fn(normal: +THREE.Vector3) -> +THREE.Vector3","!doc":"Reflect incident vector off of plane orthogonal to normal. Normal is assumed to have unit length."},fromArray:{"!type":"fn(array: []) -> +THREE.Vector3","!doc":"Sets the vector's components based on an array formatted like [x, y, z]"},multiply:{"!type":"fn(v: +THREE.Vector3) -> +THREE.Vector3","!doc":"Multiplies this vector by vector v."},applyProjection:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Vector3","!doc":"Multiplies this vector and m, and divides by perspective."},toArray:{"!type":"fn(array: []) -> []","!doc":`Assigns this vector's x value to array[0]. <br>
		Assigns this vector's y value to array[1]. <br>
		Assigns this vector's z value to array[2]. <br>
		Returns the created array.`},applyEuler:{"!type":"fn(euler: +THREE.Euler) -> +THREE.Vector3","!doc":"Applies euler transform to this vector by converting the [page:Euler] object to a [page:Quaternion] and applying."},applyQuaternion:{"!type":"fn(quaternion: +THREE.Quaternion) -> +THREE.Vector3","!doc":"Applies a [page:Quaternion] transform to this vector."},project:{"!type":"fn(camera: +THREE.Camera) -> +THREE.Vector3","!doc":"Projects the vector with the camera."},unproject:{"!type":"fn(camera: +THREE.Camera) -> +THREE.Vector3","!doc":"Unprojects the vector with the camera."}},"!doc":"3D vector.","!type":"fn(x: number, y: number, z: number)"},Vector4:{"!url":"http://threejs.org/docs/#Reference/math/Vector4",prototype:{x:"number",y:"number",z:"number",w:"number",set:{"!type":"fn(x: number, y: number, z: number, w: number) -> +THREE.Vector4","!doc":"Sets value of this vector."},copy:{"!type":"fn(v: +THREE.Vector4) -> +THREE.Vector4","!doc":"Copies value of *v* to this vector."},add:{"!type":"fn(v: +THREE.Vector4) -> +THREE.Vector4","!doc":"Adds *v* to this vector."},addVectors:{"!type":"fn(a: +THREE.Vector4, b: +THREE.Vector4) -> +THREE.Vector4","!doc":"Sets this vector to *a + b*."},sub:{"!type":"fn(v: +THREE.Vector4) -> +THREE.Vector4","!doc":"Subtracts *v* from this vector."},subVectors:{"!type":"fn(a: +THREE.Vector4, b: +THREE.Vector4) -> +THREE.Vector4","!doc":"Sets this vector to *a - b*."},multiplyScalar:{"!type":"fn(s: number) -> +THREE.Vector4","!doc":"Multiplies this vector by scalar *s*."},divideScalar:{"!type":"fn(s: number) -> +THREE.Vector4","!doc":`Divides this vector by scalar *s*.<br>
		Set vector to *( 0, 0, 0 )* if *s == 0*.`},negate:{"!type":"fn() -> +THREE.Vector4","!doc":"Inverts this vector."},dot:{"!type":"fn(v: +THREE.Vector4) -> number","!doc":"Computes dot product of this vector and *v*."},lengthSq:{"!type":"fn() -> number","!doc":"Computes squared length of this vector."},length:{"!type":"fn() -> number","!doc":"Computes length of this vector."},normalize:{"!type":"fn() -> +THREE.Vector4","!doc":"Normalizes this vector."},setLength:{"!type":"fn(l: number) -> +THREE.Vector4","!doc":"Normalizes this vector and multiplies it by *l*."},lerp:{"!type":"fn(v: +THREE.Vector4, alpha: number) -> +THREE.Vector4","!doc":"Linearly interpolate between this vector and *v* with *alpha* factor."},lerpVectors:{"!type":"fn(v1: +THREE.Vector4, v2: +THREE.Vector4, alpha: number) -> +THREE.Vector4","!doc":"Sets this vector to be the vector linearly interpolated between *v1* and *v2* with *alpha* factor."},clone:{"!type":"fn() -> +THREE.Vector4","!doc":"Clones this vector."},clamp:{"!type":"fn(min: +THREE.Vector4, max: +THREE.Vector4) -> +THREE.Vector4","!doc":`If this vector's x, y, z, or w value is greater than the max vector's x, y, z, or w value, it is replaced by the corresponding value.<br><br>

		If this vector's x, y, z, or w value is less than the min vector's x, y, z, or w value, it is replace by the corresponding value.`},clampScalar:{"!type":"fn(min: number, max: number) -> +THREE.Vector4","!doc":`If this vector's x, y, z or w values are greater than the max value, they are replaced by the max value. <br>
		If this vector's x, y, z or w values are less than the min value, they are replace by the min value.`},floor:{"!type":"fn() -> +THREE.Vector4","!doc":"The components of the vector are rounded downwards (towards negative infinity) to an integer value."},ceil:{"!type":"fn() -> +THREE.Vector4","!doc":"The components of the vector are rounded upwards (towards positive infinity) to an integer value."},round:{"!type":"fn() -> +THREE.Vector4","!doc":"The components of the vector are rounded towards the nearest integer value."},roundToZero:{"!type":"fn() -> +THREE.Vector4","!doc":"The components of the vector are rounded towards zero (up if negative, down if positive) to an integer value."},applyMatrix4:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Vector4","!doc":"Transforms the vector by the matrix."},min:{"!type":"fn(v: +THREE.Vector4) -> +THREE.Vector4","!doc":"If this vector's x, y, z, or w value is less than vector v's x, y, z, or w value, that value is replaced by the corresponding vector v value."},max:{"!type":"fn(v: +THREE.Vector4) -> +THREE.Vector4","!doc":"If this vector's x, y, z, or w value is greater than vector v's x, y, z, or w value, that value is replaced by the corresponding vector v value."},addScalar:{"!type":"fn(s: number) -> +THREE.Vector4","!doc":"Adds a scalar value to all of the vector's components."},equals:{"!type":"fn(v: +THREE.Vector4) -> bool","!doc":"Checks to see if this vector matches vector v."},setAxisAngleFromRotationMatrix:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Vector4","!doc":`Sets this Vector4 to the computed <a href="http://en.wikipedia.org/wiki/Axis%E2%80%93angle_representation" target="_blank">axis-angle representation</a> of the rotation defined by Matrix4 m. Assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled).<br><br>

		The axis is stored in components (x, y, z) of the vector, and the rotation in radians is stored in component w`},setAxisAngleFromQuaternion:{"!type":"fn(q: +THREE.Quaternion) -> +THREE.Vector4","!doc":`Sets this Vector4 to the computed <a href="http://en.wikipedia.org/wiki/Axis%E2%80%93angle_representation" target="_blank">axis-angle representation</a> of the rotation defined by Quaternion q.<br><br>

		The axis is stored in components (x, y, z) of the vector, and the rotation in radians is stored in component w`},getComponent:{"!type":"fn(index: number) -> number","!doc":`Returns the value of the vector component x, y, or z by an index.<br><br>

		Index 0: x<br>
		Index 1: y<br>
		Index 2: z<br>
		Index 3: w<br>`},setComponent:{"!type":"fn(index: number, value: number)","!doc":`Sets the value of the vector component	x, y, or z by an index.<br><br>

		Index 0: x<br>
		Index 1: y<br>
		Index 2: z<br>
		Index 3: w<br>`},fromArray:{"!type":"fn(array: []) -> +THREE.Vector4","!doc":"Sets the vector's components based on an array formatted like [x, y, z, w]"},toArray:{"!type":"fn(array: []) -> []","!doc":"Returns an array in the format [x, y, z, w]"},lengthManhattan:{"!type":"fn() -> number","!doc":`Computes Manhattan length of this vector.<br>
		[link:http://en.wikipedia.org/wiki/Taxicab_geometry]`},setX:{"!type":"fn(x: number) -> +THREE.Vector4","!doc":"Sets the x component of the vector."},setY:{"!type":"fn(y: number) -> +THREE.Vector4","!doc":"Sets the y component of the vector."},setZ:{"!type":"fn(z: number) -> +THREE.Vector4","!doc":"Sets the z component of the vector."},setW:{"!type":"fn(w: number) -> +THREE.Vector4","!doc":"Sets the w component of the vector."}},"!doc":"4D vector.","!type":"fn(x: number, y: number, z: number, w: number)"},Bone:{"!url":"http://threejs.org/docs/#Reference/objects/Bone",prototype:{"!proto":"THREE.Object3D.prototype",skinMatrix:{"!type":"+THREE.Matrix4","!doc":"The matrix of the bone."},skin:{"!type":"+THREE.SkinnedMesh","!doc":"The skin that contains this bone."},update:{"!type":"fn(parentSkinMatrix: +THREE.Matrix4, forceUpdate: boolean) -> todo","!doc":"This updates the matrix of the bone and the matrices of its children."}},"!doc":"A bone which is part of a SkinnedMesh.","!type":"fn(belongsToSkin: +THREE.SkinnedMesh)"},LOD:{"!url":"http://threejs.org/docs/#Reference/objects/LOD",prototype:{"!proto":"THREE.Object3D.prototype",objects:{"!type":"array","!doc":"todo"},addLevel:{"!type":"fn(object: todo, distance: todo) -> todo","!doc":"todo"},getObjectForDistance:{"!type":"fn(distance: todo) -> todo","!doc":"todo"},update:{"!type":"fn(camera: todo) -> todo","!doc":"todo"}},"!doc":"todo","!type":"fn()"},Line:{"!url":"http://threejs.org/docs/#Reference/objects/Line",prototype:{"!proto":"THREE.Object3D.prototype",geometry:{"!type":"+THREE.Geometry","!doc":"Vertices representing the line segment(s)."},material:{"!type":"+THREE.Material","!doc":"Material for the line."},type:{"!type":"number","!doc":"In OpenGL terms, LineStrip is the classic GL_LINE_STRIP and LinePieces is the equivalent to GL_LINES."},raycast:{"!type":"fn(raycaster: +THREE.Raycaster, intersects: []) -> []","!doc":"Get intersections between a casted ray and this Line. [page:Raycaster.intersectObject] will call this method."}},"!doc":"A line or a series of lines.","!type":"fn(geometry: +THREE.Geometry, material: +THREE.Material, type: number)"},Mesh:{"!url":"http://threejs.org/docs/#Reference/objects/Mesh",prototype:{"!proto":"THREE.Object3D.prototype",geometry:{"!type":"+THREE.Geometry","!doc":"An instance of [page:Geometry], defining the object's structure."},material:{"!type":"+THREE.Material","!doc":"An instance of [page:Material], defining the object's appearance. Default is a [page:MeshBasicMaterial] with wireframe mode enabled and randomised color."},getMorphTargetIndexByName:{"!type":"fn(name: string) -> number","!doc":"Returns the index of a morph target defined by name."},updateMorphTargets:{"!type":"fn()","!doc":"Updates the morphtargets to have no influence on the object."},raycast:{"!type":"fn(raycaster: +THREE.Raycaster, intersects: []) -> []","!doc":"Get intersections between a casted ray and this mesh. [page:Raycaster.intersectObject] will call this method."}},"!doc":"Base class for Mesh objects, such as [page:MorphAnimMesh] and [page:SkinnedMesh].","!type":"fn(geometry: +THREE.Geometry, material: +THREE.Material)"},MorphAnimMesh:{"!url":"http://threejs.org/docs/#Reference/objects/MorphAnimMesh",prototype:{"!proto":"THREE.Object3D.prototype",directionBackwards:{"!type":"boolean","!doc":"todo"},direction:{"!type":"number","!doc":"todo"},endKeyframe:{"!type":"number","!doc":"todo"},mirroredLoop:{"!type":"boolean","!doc":"todo"},startKeyframe:{"!type":"number","!doc":"todo"},lastKeyframe:{"!type":"number","!doc":"todo"},length:{"!type":"number","!doc":"todo"},time:{"!type":"number","!doc":"todo"},duration:{"!type":"number","!doc":"todo"},currentKeyframe:{"!type":"number","!doc":"todo"},setDirectionForward:{"!type":"fn() -> todo","!doc":"todo"},playAnimation:{"!type":"fn(label: todo, fps: todo) -> todo","!doc":"todo"},setFrameRange:{"!type":"fn(start: todo, end: todo) -> todo","!doc":"todo"},setDirectionBackward:{"!type":"fn() -> todo","!doc":"todo"},parseAnimations:{"!type":"fn() -> todo","!doc":"todo"},updateAnimation:{"!type":"fn(delta: todo) -> todo","!doc":"todo"},setAnimationLabel:{"!type":"fn(label: todo, start: todo, end: todo) -> todo","!doc":"todo"}},"!doc":"todo","!type":"fn(geometry: todo, material: todo)"},PointCloud:{"!url":"http://threejs.org/docs/#Reference/objects/PointCloud",prototype:{"!proto":"THREE.Object3D.prototype",geometry:{"!type":"+THREE.Geometry","!doc":"An instance of [page:Geometry], where each vertex designates the position of a particle in the system."},material:{"!type":"+THREE.Material","!doc":"An instance of [page:Material], defining the object's appearance. Default is a [page:PointCloudMaterial] with randomised color."},clone:{"!type":"fn() -> +THREE.PointCloud","!doc":"This creates a clone of the particle system."},raycast:{"!type":"fn(raycaster: +THREE.Raycaster, intersects: []) -> []","!doc":"Get intersections between a casted ray and this PointCloud. [page:Raycaster.intersectObject] will call this method."}},"!doc":"A class for displaying particles in the form of variable size points. For example, if using the [page:WebGLRenderer], the particles are displayed using GL_POINTS.","!type":"fn(geometry: +THREE.Geometry, material: +THREE.Material)"},SkinnedMesh:{"!url":"http://threejs.org/docs/#Reference/objects/SkinnedMesh",prototype:{"!proto":"THREE.Object3D.prototype",bones:{"!type":"array","!doc":"This contains the array of bones for this mesh. These should be set in the constructor."},identityMatrix:{"!type":"+THREE.Matrix4","!doc":"This is an identityMatrix to calculate the bones matrices from."},useVertexTexture:{"!type":"boolean","!doc":"The boolean defines whether a vertex texture is used to calculate the bones. This boolean shouldn't be changed after constructor."},boneMatrices:{"!type":"array","!doc":"This array of matrices contains the matrices of the bones. These get calculated in the constructor."},pose:{"!type":"fn()","!doc":"This method sets the skinnedmesh in the rest pose."},addBone:{"!type":"fn(bone: +THREE.Bone) -> +THREE.Bone","!doc":"This method adds the bone to the skinnedmesh when it is provided. It creates a new bone and adds that when no bone is given."}},"!doc":"An 3d object that has bones data. These Bones can then be used to animate the vertices of the object.","!type":"fn(geometry: +THREE.Geometry, material: +THREE.Material, useVertexTexture: boolean)"},Sprite:{"!url":"http://threejs.org/docs/#Reference/objects/Sprite",prototype:{"!proto":"THREE.Object3D.prototype",material:{"!type":"+THREE.SpriteMaterial","!doc":"An instance of [page:Material], defining the object's appearance. Default is a [page:SpriteMaterial] which is a white plane."},clone:{"!type":"fn() -> +THREE.Sprite","!doc":"This creates a new clone of the sprite."}},"!doc":"A sprite is a plane in an 3d scene which faces always towards the camera.","!type":"fn(material: +THREE.Material)"},CanvasRenderer:{"!url":"http://threejs.org/docs/#Reference/renderers/CanvasRenderer",prototype:{info:{"!type":"object","!doc":"An object with a series of statistical information about the graphics board memory and the rendering process. Useful for debugging or just for the sake of curiosity. The object contains the following fields:"},domElement:{"!type":"DOMElement","!doc":`A [page:Canvas] where the renderer draws its output.<br>
			This is automatically created by the renderer in the constructor (if not provided already); you just need to add it to your page.`},autoClear:{"!type":"bool","!doc":"Defines whether the renderer should automatically clear its output before rendering."},sortObjects:{"!type":"bool","!doc":`Defines whether the renderer should sort objects. Default is true.<br>
      Note: Sorting is used to attempt to properly render objects that have some degree of transparency.  By definition, sorting objects may not work in all cases.  Depending on the needs of application, it may be neccessary to turn off sorting and use other methods to deal with transparency rendering e.g. manually determining the object rendering order.`},sortElements:{"!type":"boolean","!doc":"Defines whether the renderer should sort the face of each object. Default is true."},render:{"!type":"fn(scene: +THREE.Scene, camera: +THREE.Camera)","!doc":"Render a scene using a camera."},clear:{"!type":"fn()","!doc":"Tells the renderer to clear its color drawing buffer with the clearcolor."},setClearColor:{"!type":"fn(color: +THREE.Color, alpha: number)","!doc":"This set the clearColor and the clearAlpha."},setSize:{"!type":"fn(width: number, height: number)","!doc":"This set the size of the drawing canvas and if updateStyle is set, then the css of the canvas is updated too."},setClearColorHex:{"!type":"fn(hex: number, alpha: number)","!doc":"This set the clearColor and the clearAlpha."},getClearColorHex:{"!type":"fn() -> number","!doc":"Returns the [page:number hex] color."},getClearAlpha:{"!type":"fn() -> number","!doc":"Returns the alpha value."}},"!doc":`The Canvas renderer displays your beautifully crafted scenes <em>not</em> using WebGL, but draws it using the (slower) <a href="http://www.w3.org/html/wg/drafts/2dcontext/html5_canvas/">Canvas 2D Context</a> API.<br><br>
			This renderer can be a nice fallback from [page:WebGLRenderer] for simple scenes:

			<code>
			function webglAvailable() {
				try {
					var canvas = document.createElement( 'canvas' );
					return !!( window.WebGLRenderingContext &amp;&amp; (
						canvas.getContext( 'webgl' ) ||
						canvas.getContext( 'experimental-webgl' ) )
					);
				} catch ( e ) {
					return false;
				}
			}

			if ( webglAvailable() ) {
				renderer = new THREE.WebGLRenderer();
			} else {
				renderer = new THREE.CanvasRenderer();
			}
			</code>

			Note: both WebGLRenderer and CanvasRenderer are embedded in the web page using an HTML5 &lt;canvas&gt; tag.
			The "Canvas" in CanvasRenderer means it uses Canvas 2D instead of WebGL.<br><br>

			Don't confuse either CanvasRenderer with the SoftwareRenderer example, which simulates a screen buffer in a Javascript array.`,"!type":"fn(parameters: object)"},WebGLRenderTarget:{"!url":"http://threejs.org/docs/#Reference/renderers/WebGLRenderTarget",prototype:{wrapS:{"!type":"number","!doc":"The default is THREE.ClampToEdgeWrapping, where the edge is clamped to the outer edge texels. The other two choices are THREE.RepeatWrapping and THREE.MirroredRepeatWrapping."},wrapT:{"!type":"number","!doc":"The default is THREE.ClampToEdgeWrapping, where the edge is clamped to the outer edge texels. The other two choices are THREE.RepeatWrapping and THREE.MirroredRepeatWrapping."},magFilter:{"!type":"number","!doc":"How the texture is sampled when a texel covers more than one pixel. The default is THREE.LinearFilter, which takes the four closest texels and bilinearly interpolates among them. The other option is THREE.NearestFilter, which uses the value of the closest texel."},minFilter:{"!type":"number","!doc":"How the texture is sampled when a texel covers less than one pixel. The default is THREE.LinearMipMapLinearFilter, which uses mipmapping and a trilinear filter. Other choices are THREE.NearestFilter, THREE.NearestMipMapNearestFilter, THREE.NearestMipMapLinearFilter, THREE.LinearFilter, and THREE.LinearMipMapNearestFilter. These vary whether the nearest texel or nearest four texels are retrieved on the nearest mipmap or nearest two mipmaps. Interpolation occurs among the samples retrieved."},anisotropy:{"!type":"number","!doc":"The number of samples taken along the axis through the pixel that has the highest density of texels. By default, this value is 1. A higher value gives a less blurry result than a basic mipmap, at the cost of more texture samples being used. Use renderer.getMaxAnisotropy() to find the maximum valid anisotropy value for the GPU; this value is usually a power of 2."},repeat:{"!type":"+THREE.Vector2","!doc":"How many times the texture is repeated across the surface, in each direction U and V."},offset:{"!type":"+THREE.Vector2","!doc":"How much a single repetition of the texture is offset from the beginning, in each direction U and V. Typical range is 0.0 to 1.0."},format:{"!type":"number","!doc":"The default is THREE.RGBAFormat for the texture. Other formats are: THREE.AlphaFormat, THREE.RGBFormat, THREE.LuminanceFormat, and THREE.LuminanceAlphaFormat. There are also compressed texture formats, if the S3TC extension is supported: THREE.RGB_S3TC_DXT1_Format, THREE.RGBA_S3TC_DXT1_Format, THREE.RGBA_S3TC_DXT3_Format, and THREE.RGBA_S3TC_DXT5_Format."},type:{"!type":"number","!doc":"The default is THREE.UnsignedByteType. Other valid types (as WebGL allows) are THREE.ByteType, THREE.ShortType, THREE.UnsignedShortType, THREE.IntType, THREE.UnsignedIntType, THREE.HalfFloatType, THREE.FloatType, THREE.UnsignedShort4444Type, THREE.UnsignedShort5551Type, and THREE.UnsignedShort565Type."},depthBuffer:{"!type":"boolean","!doc":"Renders to the depth buffer. Default is true."},stencilBuffer:{"!type":"boolean","!doc":"Renders to the stencil buffer. Default is true."},generateMipmaps:{"!type":"boolean","!doc":"Whether to generate mipmaps (if possible) for a texture. True by default."},setSize:{"!type":"fn(width: number, height: number)","!doc":"Sets the size of the renderTarget."},clone:{"!type":"fn() -> RenderTarget","!doc":"Creates a copy of the render target."},dispose:{"!type":"fn()","!doc":"Dispatches a dispose event."}},"!doc":"A render target is a buffer where the video card draws pixels for a scene that is being rendered in the background. It is used in different effects.","!type":"fn(width: number, height: number, options: object)"},WebGLRenderTargetCube:{"!url":"http://threejs.org/docs/#Reference/renderers/WebGLRenderTargetCube",prototype:{"!proto":"THREE.WebGLRenderTarget.prototype"},"!doc":"[page:CubeCamera] uses this as its [page:WebGLRenderTarget]","!type":"fn(width: number, height: number, options: object)"},WebGLRenderer:{"!url":"http://threejs.org/docs/#Reference/renderers/WebGLRenderer",prototype:{domElement:{"!type":"DOMElement","!doc":`A [page:Canvas] where the renderer draws its output.<br>
		This is automatically created by the renderer in the constructor (if not provided already); you just need to add it to your page.`},context:{"!type":"WebGLRenderingContext","!doc":"The HTML5 Canvas's 'webgl' context obtained from the canvas where the renderer will draw."},autoClear:{"!type":"bool","!doc":"Defines whether the renderer should automatically clear its output before rendering."},autoClearColor:{"!type":"bool","!doc":"If autoClear is true, defines whether the renderer should clear the color buffer. Default is true."},autoClearDepth:{"!type":"bool","!doc":"If autoClear is true, defines whether the renderer should clear the depth buffer. Default is true."},autoClearStencil:{"!type":"bool","!doc":"If autoClear is true, defines whether the renderer should clear the stencil buffer. Default is true."},sortObjects:{"!type":"bool","!doc":"Note: Sorting is used to attempt to properly render objects that have some degree of transparency.  By definition, sorting objects may not work in all cases.  Depending on the needs of application, it may be neccessary to turn off sorting and use other methods to deal with transparency rendering e.g. manually determining the object rendering order."},autoUpdateObjects:{"!type":"bool","!doc":"Defines whether the renderer should auto update objects. Default is true."},shadowMapEnabled:{"!type":"bool","!doc":"Default is false. If set, use shadow maps in the scene."},shadowMapType:{"!type":"number","!doc":"Options are THREE.BasicShadowMap, THREE.PCFShadowMap, THREE.PCFSoftShadowMap. Default is THREE.PCFShadowMap."},shadowMapCullFace:{"!type":"number","!doc":"Default is THREE.CullFaceFront. The faces that needed to be culled. Possible values: THREE.CullFaceFront and THREE.CullFaceBack"},shadowMapCascade:{"!type":"bool","!doc":"Default is false. If Set, use cascaded shadowmaps. See [link:http://developer.download.nvidia.com/SDK/10.5/opengl/src/cascaded_shadow_maps/doc/cascaded_shadow_maps.pdf cascaded shadowmaps] for more information."},maxMorphTargets:{"!type":"number","!doc":"Default is 8. The maximum number of MorphTargets allowed in a shader. Keep in mind that the standard materials only allow 8 MorphTargets."},maxMorphNormals:{"!type":"number","!doc":"Default is 4. The maximum number of MorphNormals allowed in a shader. Keep in mind that the standard materials only allow 4 MorphNormals."},autoScaleCubemaps:{"!type":"bool","!doc":"Default is true. If set, then Cubemaps are scaled, when they are bigger than the maximum size, to make sure that they aren't bigger than the maximum size."},info:{"!type":"object","!doc":`<ul>
			<li>memory:
				<ul>
					<li>programs</li>
					<li>geometries</li>
					<li>textures</li>
				</ul>
			</li>
			<li>render:
				<ul>
					<li>calls</li>
					<li>vertices</li>
					<li>faces</li>
					<li>points</li>
				</ul>
			</li>
		</ul>`},shadowMapPlugin:{"!type":"+THREE.ShadowMapPlugin","!doc":"This contains the reference to the shadowMapPlugin."},getContext:{"!type":"fn() -> WebGLRenderingContext","!doc":"Return the WebGL context."},supportsVertexTextures:{"!type":"fn() -> bool","!doc":"Return a [page:Boolean] true if the context supports vertex textures."},setSize:{"!type":"fn(width: number, height: number)","!doc":"Resizes the output canvas to (width, height), and also sets the viewport to fit that size, starting in (0, 0)."},setViewport:{"!type":"fn(x: number, y: number, width: number, height: number)","!doc":"Sets the viewport to render from (x, y) to (x + width, y + height)."},setScissor:{"!type":"fn(x: number, y: number, width: number, height: number)","!doc":"Sets the scissor area from (x, y) to (x + width, y + height)."},enableScissorTest:{"!type":"fn(enable: bool)","!doc":"Enable the scissor test. When this is enabled, only the pixels within the defined scissor area will be affected by further renderer actions."},setClearColor:{"!type":"fn(color: +THREE.Color, alpha: number)","!doc":"Sets the clear color and opacity."},getClearColor:{"!type":"fn() -> +THREE.Color","!doc":"Returns a [page:Color THREE.Color] instance with the current clear color."},getClearAlpha:{"!type":"fn() -> number","!doc":"Returns a [page:Float float] with the current clear alpha. Ranges from 0 to 1."},clear:{"!type":"fn(color: bool, depth: bool, stencil: bool)","!doc":"Arguments default to true."},renderBufferImmediate:{"!type":"fn(object: +THREE.Object3D, program: shaderprogram, shading: +THREE.Material)","!doc":"Render an immediate buffer. Gets called by renderImmediateObject."},renderBufferDirect:{"!type":"fn(camera: +THREE.Camera, lights: [], fog: +THREE.Fog, material: +THREE.Material, geometryGroup: object, object: +THREE.Object3D)","!doc":"Render a buffer geometry group using the camera and with the correct material."},renderBuffer:{"!type":"fn(camera: +THREE.Camera, lights: [], fog: +THREE.Fog, material: +THREE.Material, geometryGroup: object, object: +THREE.Object3D)","!doc":"Render a geometry group using the camera and with the correct material."},render:{"!type":"fn(scene: +THREE.Scene, camera: +THREE.Camera, renderTarget: +THREE.WebGLRenderTarget, forceClear: bool)","!doc":"Even with forceClear set to true you can prevent certain buffers being cleared by setting either the .autoClearColor, .autoClearStencil or .autoClearDepth properties to false."},renderImmediateObject:{"!type":"fn(camera, lights, fog, material, object)","!doc":"Renders an immediate Object using a camera."},setDepthTest:{"!type":"fn(depthTest: boolean)","!doc":"This sets, based on depthTest, whether or not the depth data needs to be tested against the depth buffer."},setDepthWrite:{"!type":"fn(depthWrite: boolean)","!doc":"This sets, based on depthWrite, whether or not the depth data needs to be written in the depth buffer."},setBlending:{"!type":"fn(blending: number, blendEquation: number, blendSrc: number, blendDst: number)","!doc":"This method sets the correct blending."},setTexture:{"!type":"fn(texture: +THREE.Texture, slot: number)","!doc":"This method sets the correct texture to the correct slot for the wegl shader. The slot number can be found as a value of the uniform of the sampler."},setRenderTarget:{"!type":"fn(renderTarget: +THREE.WebGLRenderTarget)","!doc":"This method sets the active rendertarget."},supportsCompressedTextureS3TC:{"!type":"fn() -> boolean","!doc":"This method returns true if the webgl implementation supports compressed textures of the format S3TC."},getMaxAnisotropy:{"!type":"fn() -> number","!doc":"This returns the anisotropy level of the textures."},getPrecision:{"!type":"fn() -> string","!doc":'This gets the precision used by the shaders. It returns "highp","mediump" or "lowp".'},setMaterialFaces:{"!type":"fn(material: +THREE.Material)","!doc":"This sets which side needs to be culled in the webgl renderer."},supportsStandardDerivatives:{"!type":"fn() -> boolean","!doc":"This method returns true if the webgl implementation supports standard derivatives."},supportsFloatTextures:{"!type":"fn() -> boolean","!doc":"This method returns true if the webgl implementation supports float textures."},clearTarget:{"!type":"fn(renderTarget: +THREE.WebGLRenderTarget, color: boolean, depth: boolean, stencil: boolean)","!doc":"This method clears a rendertarget. To do this, it activates the rendertarget."}},"!doc":"The WebGL renderer displays your beautifully crafted scenes using WebGL, if your device supports it.","!type":"fn(parameters: object)"},ShaderChunk:{"!url":"http://threejs.org/docs/#Reference/renderers/shaders/ShaderChunk",prototype:{},"!doc":"Shader chunks for WebLG Shader library"},ShaderLib:{"!url":"http://threejs.org/docs/#Reference/renderers/shaders/ShaderLib",prototype:{},"!doc":"Webgl Shader Library for three.js"},UniformsLib:{"!url":"http://threejs.org/docs/#Reference/renderers/shaders/UniformsLib",prototype:{},"!doc":"Uniforms library for shared webgl shaders"},UniformsUtils:{"!url":"http://threejs.org/docs/#Reference/renderers/shaders/UniformsUtils",prototype:{},"!doc":"Uniform Utilities. Support merging and cloning of uniform variables"},WebGLProgram:{"!url":"http://threejs.org/docs/#Reference/renderers/webgl/WebGLProgram",prototype:{uniforms:"object",attributes:"object",id:"string",code:"string",usedTimes:"number",program:"object",vertexShader:"+THREE.WebGLShader",fragmentShader:"+THREE.WebGLShader"},"!doc":"Constructor for the GLSL program sent to vertex and fragment shaders, including default uniforms and attributes.","!type":"fn(renderer: +THREE.WebGLRenderer, code: object, material: +THREE.Material, parameters: object)"},WebGLShader:{"!url":"http://threejs.org/docs/#Reference/renderers/webgl/WebGLShader",prototype:{},"!doc":"todo"},ShadowMapPlugin:{"!url":"http://threejs.org/docs/#Reference/renderers/webgl/plugins/ShadowMapPlugin",prototype:{render:{"!type":"fn(scene: +THREE.Scene, camera: +THREE.Camera)","!doc":"Prepares the shadowmaps to be rendered defined in the scene."}},"!doc":"The Webglrenderer plugin class that allows shadowmaps to be rendered in the WebglRenderer. This plugin is automatically loaded in the Webglrenderer.","!type":"fn()"},SpritePlugin:{"!url":"http://threejs.org/docs/#Reference/renderers/webgl/plugins/SpritePlugin",prototype:{render:{"!type":"fn(scene: +THREE.Scene, camera: +THREE.Camera)","!doc":"Renders the sprites defined in the scene."}},"!doc":"The Webglrenderer plugin class that allows Sprites to be rendered in the WebglRenderer. This plugin is automatically loaded in the Webglrenderer.","!type":"fn()"},Fog:{"!url":"http://threejs.org/docs/#Reference/scenes/Fog",prototype:{name:{"!type":"string","!doc":"Default is the empty string."},color:{"!type":"+THREE.Color","!doc":"Fog color.  Example: If set to black, far away objects will be rendered black."},near:{"!type":"number","!doc":"Default is 1."},far:{"!type":"number","!doc":"Default is 1000."},clone:{"!type":"fn() -> +THREE.Fog","!doc":"Returns a copy of this."}},"!doc":"This class contains the parameters that define linear fog, i.e., that grows linearly denser with the distance.","!type":"fn(hex: number, near: number, far: number)"},FogExp2:{"!url":"http://threejs.org/docs/#Reference/scenes/FogExp2",prototype:{name:{"!type":"string","!doc":"Default is the empty string."},color:{"!type":"+THREE.Color","!doc":"Fog color. Example: If set to black, far away objects will be rendered black."},density:{"!type":"number","!doc":"Default is 0.00025."},clone:{"!type":"fn() -> +THREE.FogExp2","!doc":"Returns a copy of this."}},"!doc":"This class contains the parameters that define exponential fog, i.e., that grows exponentially denser with the distance.","!type":"fn(hex: number, density: number)"},Scene:{"!url":"http://threejs.org/docs/#Reference/scenes/Scene",prototype:{"!proto":"THREE.Object3D.prototype",fog:{"!type":"+THREE.Fog","!doc":"A [page:Fog fog] instance defining the type of fog that affects everything rendered in the scene. Default is null."},overrideMaterial:{"!type":"+THREE.Material","!doc":"If not null, it will force everything in the scene to be rendered with that material. Default is null."},autoUpdate:{"!type":"boolean","!doc":`Default is true. If set, then the renderer checks every frame if the scene and its objects needs matrix updates. 
		When it isn't, then you have to maintain all matrices in the scene yourself.`}},"!doc":"Scenes allow you to set up what and where is to be rendered by three.js. This is where you place objects, lights and cameras.","!type":"fn()"},CompressedTexture:{"!url":"http://threejs.org/docs/#Reference/textures/CompressedTexture",prototype:{"!proto":"THREE.Texture.prototype",flipY:{"!type":"boolean","!doc":"False by default. Flipping textures does not work for compressed textures."},generateMipmaps:{"!type":"boolean","!doc":"False by default. Mipmaps can't be generated for compressed textures"}},"!doc":"Creates a texture based on data in compressed form.","!type":"fn(mipmaps: [], width: number, height: number, format: number, type: number, mapping: number, wrapS: number, wrapT: number, magFilter: number, minFilter: number, anisotropy: number)"},DataTexture:{"!url":"http://threejs.org/docs/#Reference/textures/DataTexture",prototype:{"!proto":"THREE.Texture.prototype"},"!doc":"Creates a texture directly from bitmapdata, width and height.","!type":"fn(data: ArraybufferView, width: number, height: number, format: number, type: number, mapping: number, wrapS: number, wrapT: number, magFilter: number, minFilter: number, anisotropy: number)"},Texture:{"!url":"http://threejs.org/docs/#Reference/textures/Texture",prototype:{id:{"!type":"number","!doc":"Unique number for this texture instance."},image:{"!type":"Image","!doc":"An Image object, typically created using the [page:ImageLoader ImageLoader] class. The Image object can include an image (e.g., PNG, JPG, GIF, DDS), video (e.g., MP4, OGG/OGV), or set of six images for a cube map. To use video as a texture you need to have a playing HTML5 video element as a source for your texture image and continuously update this texture as long as video is playing."},mapping:{"!type":"object","!doc":"How the image is applied to the object. An object type of THREE.UVMapping is the default, where the U,V coordinates are used to apply the map, and a single texture is expected. The other types are THREE.CubeReflectionMapping, for cube maps used as a reflection map; THREE.CubeRefractionMapping, refraction mapping; and THREE.SphericalReflectionMapping, a spherical reflection map projection."},wrapS:{"!type":"number","!doc":"The default is THREE.ClampToEdgeWrapping, where the edge is clamped to the outer edge texels. The other two choices are THREE.RepeatWrapping and THREE.MirroredRepeatWrapping."},wrapT:{"!type":"number","!doc":"NOTE: tiling of images in textures only functions if image dimensions are powers of two (2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 2048, ...) in terms of pixels. Individual dimensions need not be equal, but each must be a power of two. This is a limitation of WebGL, not Three.js."},magFilter:{"!type":"number","!doc":"How the texture is sampled when a texel covers more than one pixel. The default is THREE.LinearFilter, which takes the four closest texels and bilinearly interpolates among them. The other option is THREE.NearestFilter, which uses the value of the closest texel."},minFilter:{"!type":"number","!doc":"How the texture is sampled when a texel covers less than one pixel. The default is THREE.LinearMipMapLinearFilter, which uses mipmapping and a trilinear filter. Other choices are THREE.NearestFilter, THREE.NearestMipMapNearestFilter, THREE.NearestMipMapLinearFilter, THREE.LinearFilter, and THREE.LinearMipMapNearestFilter. These vary whether the nearest texel or nearest four texels are retrieved on the nearest mipmap or nearest two mipmaps. Interpolation occurs among the samples retrieved."},format:{"!type":"number","!doc":"The default is THREE.RGBAFormat for the texture. Other formats are: THREE.AlphaFormat, THREE.RGBFormat, THREE.LuminanceFormat, and THREE.LuminanceAlphaFormat. There are also compressed texture formats, if the S3TC extension is supported: THREE.RGB_S3TC_DXT1_Format, THREE.RGBA_S3TC_DXT1_Format, THREE.RGBA_S3TC_DXT3_Format, and THREE.RGBA_S3TC_DXT5_Format."},type:{"!type":"number","!doc":"The default is THREE.UnsignedByteType. Other valid types (as WebGL allows) are THREE.ByteType, THREE.ShortType, THREE.UnsignedShortType, THREE.IntType, THREE.UnsignedIntType, THREE.FloatType, THREE.UnsignedShort4444Type, THREE.UnsignedShort5551Type, and THREE.UnsignedShort565Type."},anisotropy:{"!type":"number","!doc":"The number of samples taken along the axis through the pixel that has the highest density of texels. By default, this value is 1. A higher value gives a less blurry result than a basic mipmap, at the cost of more texture samples being used. Use renderer.getMaxAnisotropy() to find the maximum valid anisotropy value for the GPU; this value is usually a power of 2."},needsUpdate:{"!type":"boolean","!doc":"If a texture is changed after creation, set this flag to true so that the texture is properly set up. Particularly important for setting the wrap mode."},repeat:{"!type":"+THREE.Vector2","!doc":"How many times the texture is repeated across the surface, in each direction U and V."},offset:{"!type":"+THREE.Vector2","!doc":"How much a single repetition of the texture is offset from the beginning, in each direction U and V. Typical range is 0.0 to 1.0."},name:{"!type":"string","!doc":"Given name of the texture, empty string by default."},generateMipmaps:{"!type":"boolean","!doc":"Whether to generate mipmaps (if possible) for a texture. True by default."},flipY:{"!type":"boolean","!doc":"True by default. Flips the image's Y axis to match the WebGL texture coordinate space."},mipmaps:{"!type":"array","!doc":"Array of mipmaps generated."},unpackAlignment:{"!type":"number","!doc":'4 by default. Specifies the alignment requirements for the start of each pixel row in memory. The allowable values are 1 (byte-alignment), 2 (rows aligned to even-numbered bytes), 4 (word-alignment), and 8 (rows start on double-word boundaries). See <a href="http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml">glPixelStorei</a> for more information.'},premultiplyAlpha:{"!type":"boolean","!doc":"False by default, which is the norm for PNG images. Set to true if the RGB values have been stored premultiplied by alpha."},onUpdate:{"!type":"object","!doc":"A callback function, called when the texture is updated (e.g., when needsUpdate has been set to true and then the texture is used)."}},"!doc":"Create a texture to apply to a surface or as a reflection or refraction map.","!type":"fn(image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy)"}}}}})});(function(a){function t(p,y,v,E,_){this._listener=y,this._isOnce=v,this.context=E,this._signal=p,this._priority=_||0}function r(p,y){if(typeof p!="function")throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",y))}function n(){this._bindings=[],this._prevParams=null;var p=this;this.dispatch=function(){n.prototype.dispatch.apply(p,arguments)}}t.prototype={active:!0,params:null,execute:function(p){var y;return this.active&&this._listener&&(p=this.params?this.params.concat(p):p,y=this._listener.apply(this.context,p),this._isOnce&&this.detach()),y},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},n.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(p,y,v,E){var _=this._indexOfListener(p,v);if(_!==-1){if(p=this._bindings[_],p.isOnce()!==y)throw Error("You cannot add"+(y?"":"Once")+"() then add"+(y?"Once":"")+"() the same listener without removing the relationship first.")}else p=new t(this,p,y,v,E),this._addBinding(p);return this.memorize&&this._prevParams&&p.execute(this._prevParams),p},_addBinding:function(p){var y=this._bindings.length;do--y;while(this._bindings[y]&&p._priority<=this._bindings[y]._priority);this._bindings.splice(y+1,0,p)},_indexOfListener:function(p,y){for(var v=this._bindings.length,E;v--;)if(E=this._bindings[v],E._listener===p&&E.context===y)return v;return-1},has:function(p,y){return this._indexOfListener(p,y)!==-1},add:function(p,y,v){return r(p,"add"),this._registerListener(p,!1,y,v)},addOnce:function(p,y,v){return r(p,"addOnce"),this._registerListener(p,!0,y,v)},remove:function(p,y){r(p,"remove");var v=this._indexOfListener(p,y);return v!==-1&&(this._bindings[v]._destroy(),this._bindings.splice(v,1)),p},removeAll:function(){for(var p=this._bindings.length;p--;)this._bindings[p]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(p){if(this.active){var y=Array.prototype.slice.call(arguments),v=this._bindings.length,E;if(this.memorize&&(this._prevParams=y),v){E=this._bindings.slice(),this._shouldPropagate=!0;do v--;while(E[v]&&this._shouldPropagate&&E[v].execute(y)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var c=n;c.Signal=n,typeof define=="function"&&define.amd?define(function(){return c}):typeof module!="undefined"&&module.exports?module.exports=c:a.signals=c})(globalThis);const oU="modulepreload",NC={},aU="/",Wo=function(t,r){return!r||r.length===0?t():Promise.all(r.map(n=>{if(n=`${aU}${n}`,n in NC)return;NC[n]=!0;const c=n.endsWith(".css"),p=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${p}`))return;const y=document.createElement("link");if(y.rel=c?"stylesheet":oU,c||(y.as="script",y.crossOrigin=""),y.href=n,document.head.appendChild(y),c)return new Promise((v,E)=>{y.addEventListener("load",v),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t())};/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const _w="140",lU={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},fU={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CM=0,B5=1,SM=2,uU=3,cU=0,kw=1,TM=2,xp=3,_h=0,Ja=1,Lf=2,JE=1,hU=2,sc=0,Od=1,I5=2,L5=3,P5=4,MM=5,Id=100,RM=101,DM=102,N5=103,F5=104,BM=200,IM=201,LM=202,PM=203,XE=204,qE=205,NM=206,FM=207,OM=208,HM=209,UM=210,VM=0,ZE=1,jM=2,tw=3,GM=4,zM=5,WM=6,QM=7,Qg=0,JM=1,XM=2,Bf=0,qM=1,ZM=2,YM=3,KM=4,$M=5,Cw=300,kh=301,Ch=302,Wd=303,Sg=304,p1=306,Sh=1e3,ma=1001,Hp=1002,oo=1003,Tg=1004,dU=1004,Mg=1005,pU=1005,Es=1006,Sw=1007,mU=1007,Tu=1008,gU=1008,Th=1009,e7=1010,t7=1011,Up=1012,r7=1013,gg=1014,ic=1015,Vp=1016,i7=1017,n7=1018,Hd=1020,s7=1021,o7=1022,Al=1023,a7=1024,l7=1025,wh=1026,Qd=1027,f7=1028,u7=1029,c7=1030,h7=1031,d7=1033,Tv=33776,Mv=33777,Rv=33778,Dv=33779,O5=35840,H5=35841,U5=35842,V5=35843,p7=36196,j5=37492,G5=37496,z5=37808,W5=37809,Q5=37810,J5=37811,X5=37812,q5=37813,Z5=37814,Y5=37815,K5=37816,$5=37817,eE=37818,tE=37819,rE=37820,iE=37821,nE=36492,m7=2200,g7=2201,b7=2202,jp=2300,Jd=2301,Bv=2302,Nd=2400,Fd=2401,Rg=2402,Tw=2500,YE=2501,y7=0,v7=1,KE=2,lc=3e3,b0=3001,$E=3200,e8=3201,n2=0,w7=1,bU="",lu="srgb",bh="srgb-linear",yU=0,Iv=7680,vU=7681,wU=7682,AU=7683,xU=34055,EU=34056,_U=5386,kU=512,CU=513,SU=514,TU=515,MU=516,RU=517,DU=518,A7=519,Gp=35044,zp=35048,BU=35040,IU=35045,LU=35049,PU=35041,NU=35046,FU=35050,OU=35042,HU="100",sE="300 es",rw=1035;class dc{addEventListener(t,r){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[t]===void 0&&(n[t]=[]),n[t].indexOf(r)===-1&&n[t].push(r)}hasEventListener(t,r){if(this._listeners===void 0)return!1;const n=this._listeners;return n[t]!==void 0&&n[t].indexOf(r)!==-1}removeEventListener(t,r){if(this._listeners===void 0)return;const c=this._listeners[t];if(c!==void 0){const p=c.indexOf(r);p!==-1&&c.splice(p,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const n=this._listeners[t.type];if(n!==void 0){t.target=this;const c=n.slice(0);for(let p=0,y=c.length;p<y;p++)c[p].call(this,t);t.target=null}}}const ea=[];for(let a=0;a<256;a++)ea[a]=(a<16?"0":"")+a.toString(16);let FC=1234567;const Ud=Math.PI/180,Dg=180/Math.PI;function Cl(){const a=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(ea[a&255]+ea[a>>8&255]+ea[a>>16&255]+ea[a>>24&255]+"-"+ea[t&255]+ea[t>>8&255]+"-"+ea[t>>16&15|64]+ea[t>>24&255]+"-"+ea[r&63|128]+ea[r>>8&255]+"-"+ea[r>>16&255]+ea[r>>24&255]+ea[n&255]+ea[n>>8&255]+ea[n>>16&255]+ea[n>>24&255]).toLowerCase()}function ao(a,t,r){return Math.max(t,Math.min(r,a))}function t8(a,t){return(a%t+t)%t}function UU(a,t,r,n,c){return n+(a-t)*(c-n)/(r-t)}function VU(a,t,r){return a!==t?(r-a)/(t-a):0}function bg(a,t,r){return(1-r)*a+r*t}function jU(a,t,r,n){return bg(a,t,1-Math.exp(-r*n))}function GU(a,t=1){return t-Math.abs(t8(a,t*2)-t)}function zU(a,t,r){return a<=t?0:a>=r?1:(a=(a-t)/(r-t),a*a*(3-2*a))}function WU(a,t,r){return a<=t?0:a>=r?1:(a=(a-t)/(r-t),a*a*a*(a*(a*6-15)+10))}function QU(a,t){return a+Math.floor(Math.random()*(t-a+1))}function JU(a,t){return a+Math.random()*(t-a)}function XU(a){return a*(.5-Math.random())}function qU(a){a!==void 0&&(FC=a);let t=FC+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function ZU(a){return a*Ud}function YU(a){return a*Dg}function oE(a){return(a&a-1)===0&&a!==0}function x7(a){return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function iw(a){return Math.pow(2,Math.floor(Math.log(a)/Math.LN2))}function KU(a,t,r,n,c){const p=Math.cos,y=Math.sin,v=p(r/2),E=y(r/2),_=p((t+n)/2),k=y((t+n)/2),R=p((t-n)/2),B=y((t-n)/2),M=p((n-t)/2),F=y((n-t)/2);switch(c){case"XYX":a.set(v*k,E*R,E*B,v*_);break;case"YZY":a.set(E*B,v*k,E*R,v*_);break;case"ZXZ":a.set(E*R,E*B,v*k,v*_);break;case"XZX":a.set(v*k,E*F,E*M,v*_);break;case"YXY":a.set(E*M,v*k,E*F,v*_);break;case"ZYZ":a.set(E*F,E*M,v*k,v*_);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+c)}}function $U(a,t){switch(t.constructor){case Float32Array:return a;case Uint16Array:return a/65535;case Uint8Array:return a/255;case Int16Array:return Math.max(a/32767,-1);case Int8Array:return Math.max(a/127,-1);default:throw new Error("Invalid component type.")}}function eV(a,t){switch(t.constructor){case Float32Array:return a;case Uint16Array:return Math.round(a*65535);case Uint8Array:return Math.round(a*255);case Int16Array:return Math.round(a*32767);case Int8Array:return Math.round(a*127);default:throw new Error("Invalid component type.")}}var Cf=Object.freeze({__proto__:null,DEG2RAD:Ud,RAD2DEG:Dg,generateUUID:Cl,clamp:ao,euclideanModulo:t8,mapLinear:UU,inverseLerp:VU,lerp:bg,damp:jU,pingpong:GU,smoothstep:zU,smootherstep:WU,randInt:QU,randFloat:JU,randFloatSpread:XU,seededRandom:qU,degToRad:ZU,radToDeg:YU,isPowerOfTwo:oE,ceilPowerOfTwo:x7,floorPowerOfTwo:iw,setQuaternionFromProperEuler:KU,normalize:eV,denormalize:$U});class $r{constructor(t=0,r=0){this.x=t,this.y=r}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,r){return this.x=t,this.y=r,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,r){return r!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,r)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this}addScaledVector(t,r){return this.x+=t.x*r,this.y+=t.y*r,this}sub(t,r){return r!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,r)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const r=this.x,n=this.y,c=t.elements;return this.x=c[0]*r+c[3]*n+c[6],this.y=c[1]*r+c[4]*n+c[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this}clampScalar(t,r){return this.x=Math.max(t,Math.min(r,this.x)),this.y=Math.max(t,Math.min(r,this.y)),this}clampLength(t,r){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(r,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const r=this.x-t.x,n=this.y-t.y;return r*r+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this}lerpVectors(t,r,n){return this.x=t.x+(r.x-t.x)*n,this.y=t.y+(r.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,r=0){return this.x=t[r],this.y=t[r+1],this}toArray(t=[],r=0){return t[r]=this.x,t[r+1]=this.y,t}fromBufferAttribute(t,r,n){return n!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(r),this.y=t.getY(r),this}rotateAround(t,r){const n=Math.cos(r),c=Math.sin(r),p=this.x-t.x,y=this.y-t.y;return this.x=p*n-y*c+t.x,this.y=p*c+y*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}$r.prototype.isVector2=!0;class Zs{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,r,n,c,p,y,v,E,_){const k=this.elements;return k[0]=t,k[1]=c,k[2]=v,k[3]=r,k[4]=p,k[5]=E,k[6]=n,k[7]=y,k[8]=_,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const r=this.elements,n=t.elements;return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],this}extractBasis(t,r,n){return t.setFromMatrix3Column(this,0),r.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const r=t.elements;return this.set(r[0],r[4],r[8],r[1],r[5],r[9],r[2],r[6],r[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,r){const n=t.elements,c=r.elements,p=this.elements,y=n[0],v=n[3],E=n[6],_=n[1],k=n[4],R=n[7],B=n[2],M=n[5],F=n[8],H=c[0],U=c[3],Z=c[6],K=c[1],fe=c[4],oe=c[7],we=c[2],be=c[5],ve=c[8];return p[0]=y*H+v*K+E*we,p[3]=y*U+v*fe+E*be,p[6]=y*Z+v*oe+E*ve,p[1]=_*H+k*K+R*we,p[4]=_*U+k*fe+R*be,p[7]=_*Z+k*oe+R*ve,p[2]=B*H+M*K+F*we,p[5]=B*U+M*fe+F*be,p[8]=B*Z+M*oe+F*ve,this}multiplyScalar(t){const r=this.elements;return r[0]*=t,r[3]*=t,r[6]*=t,r[1]*=t,r[4]*=t,r[7]*=t,r[2]*=t,r[5]*=t,r[8]*=t,this}determinant(){const t=this.elements,r=t[0],n=t[1],c=t[2],p=t[3],y=t[4],v=t[5],E=t[6],_=t[7],k=t[8];return r*y*k-r*v*_-n*p*k+n*v*E+c*p*_-c*y*E}invert(){const t=this.elements,r=t[0],n=t[1],c=t[2],p=t[3],y=t[4],v=t[5],E=t[6],_=t[7],k=t[8],R=k*y-v*_,B=v*E-k*p,M=_*p-y*E,F=r*R+n*B+c*M;if(F===0)return this.set(0,0,0,0,0,0,0,0,0);const H=1/F;return t[0]=R*H,t[1]=(c*_-k*n)*H,t[2]=(v*n-c*y)*H,t[3]=B*H,t[4]=(k*r-c*E)*H,t[5]=(c*p-v*r)*H,t[6]=M*H,t[7]=(n*E-_*r)*H,t[8]=(y*r-n*p)*H,this}transpose(){let t;const r=this.elements;return t=r[1],r[1]=r[3],r[3]=t,t=r[2],r[2]=r[6],r[6]=t,t=r[5],r[5]=r[7],r[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const r=this.elements;return t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8],this}setUvTransform(t,r,n,c,p,y,v){const E=Math.cos(p),_=Math.sin(p);return this.set(n*E,n*_,-n*(E*y+_*v)+y+t,-c*_,c*E,-c*(-_*y+E*v)+v+r,0,0,1),this}scale(t,r){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=r,n[4]*=r,n[7]*=r,this}rotate(t){const r=Math.cos(t),n=Math.sin(t),c=this.elements,p=c[0],y=c[3],v=c[6],E=c[1],_=c[4],k=c[7];return c[0]=r*p+n*E,c[3]=r*y+n*_,c[6]=r*v+n*k,c[1]=-n*p+r*E,c[4]=-n*y+r*_,c[7]=-n*v+r*k,this}translate(t,r){const n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=r*n[2],n[4]+=r*n[5],n[7]+=r*n[8],this}equals(t){const r=this.elements,n=t.elements;for(let c=0;c<9;c++)if(r[c]!==n[c])return!1;return!0}fromArray(t,r=0){for(let n=0;n<9;n++)this.elements[n]=t[n+r];return this}toArray(t=[],r=0){const n=this.elements;return t[r]=n[0],t[r+1]=n[1],t[r+2]=n[2],t[r+3]=n[3],t[r+4]=n[4],t[r+5]=n[5],t[r+6]=n[6],t[r+7]=n[7],t[r+8]=n[8],t}clone(){return new this.constructor().fromArray(this.elements)}}Zs.prototype.isMatrix3=!0;function E7(a){for(let t=a.length-1;t>=0;--t)if(a[t]>65535)return!0;return!1}const tV={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Ep(a,t){return new tV[a](t)}function Bg(a){return document.createElementNS("http://www.w3.org/1999/xhtml",a)}function Vd(a){return a<.04045?a*.0773993808:Math.pow(a*.9478672986+.0521327014,2.4)}function Lv(a){return a<.0031308?a*12.92:1.055*Math.pow(a,.41666)-.055}const sx={[lu]:{[bh]:Vd},[bh]:{[lu]:Lv}},Gl={legacyMode:!0,get workingColorSpace(){return bh},set workingColorSpace(a){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(a,t,r){if(this.legacyMode||t===r||!t||!r)return a;if(sx[t]&&sx[t][r]!==void 0){const n=sx[t][r];return a.r=n(a.r),a.g=n(a.g),a.b=n(a.b),a}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(a,t){return this.convert(a,this.workingColorSpace,t)},toWorkingColorSpace:function(a,t){return this.convert(a,t,this.workingColorSpace)}},_7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Bo={r:0,g:0,b:0},df={h:0,s:0,l:0},v4={h:0,s:0,l:0};function ox(a,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?a+(t-a)*6*r:r<1/2?t:r<2/3?a+(t-a)*6*(2/3-r):a}function w4(a,t){return t.r=a.r,t.g=a.g,t.b=a.b,t}class _i{constructor(t,r,n){return r===void 0&&n===void 0?this.set(t):this.setRGB(t,r,n)}set(t){return t&&t.isColor?this.copy(t):typeof t=="number"?this.setHex(t):typeof t=="string"&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,r=lu){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,Gl.toWorkingColorSpace(this,r),this}setRGB(t,r,n,c=bh){return this.r=t,this.g=r,this.b=n,Gl.toWorkingColorSpace(this,c),this}setHSL(t,r,n,c=bh){if(t=t8(t,1),r=ao(r,0,1),n=ao(n,0,1),r===0)this.r=this.g=this.b=n;else{const p=n<=.5?n*(1+r):n+r-n*r,y=2*n-p;this.r=ox(y,p,t+1/3),this.g=ox(y,p,t),this.b=ox(y,p,t-1/3)}return Gl.toWorkingColorSpace(this,c),this}setStyle(t,r=lu){function n(p){p!==void 0&&parseFloat(p)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let c;if(c=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let p;const y=c[1],v=c[2];switch(y){case"rgb":case"rgba":if(p=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(v))return this.r=Math.min(255,parseInt(p[1],10))/255,this.g=Math.min(255,parseInt(p[2],10))/255,this.b=Math.min(255,parseInt(p[3],10))/255,Gl.toWorkingColorSpace(this,r),n(p[4]),this;if(p=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(v))return this.r=Math.min(100,parseInt(p[1],10))/100,this.g=Math.min(100,parseInt(p[2],10))/100,this.b=Math.min(100,parseInt(p[3],10))/100,Gl.toWorkingColorSpace(this,r),n(p[4]),this;break;case"hsl":case"hsla":if(p=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(v)){const E=parseFloat(p[1])/360,_=parseInt(p[2],10)/100,k=parseInt(p[3],10)/100;return n(p[4]),this.setHSL(E,_,k,r)}break}}else if(c=/^\#([A-Fa-f\d]+)$/.exec(t)){const p=c[1],y=p.length;if(y===3)return this.r=parseInt(p.charAt(0)+p.charAt(0),16)/255,this.g=parseInt(p.charAt(1)+p.charAt(1),16)/255,this.b=parseInt(p.charAt(2)+p.charAt(2),16)/255,Gl.toWorkingColorSpace(this,r),this;if(y===6)return this.r=parseInt(p.charAt(0)+p.charAt(1),16)/255,this.g=parseInt(p.charAt(2)+p.charAt(3),16)/255,this.b=parseInt(p.charAt(4)+p.charAt(5),16)/255,Gl.toWorkingColorSpace(this,r),this}return t&&t.length>0?this.setColorName(t,r):this}setColorName(t,r=lu){const n=_7[t.toLowerCase()];return n!==void 0?this.setHex(n,r):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Vd(t.r),this.g=Vd(t.g),this.b=Vd(t.b),this}copyLinearToSRGB(t){return this.r=Lv(t.r),this.g=Lv(t.g),this.b=Lv(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=lu){return Gl.fromWorkingColorSpace(w4(this,Bo),t),ao(Bo.r*255,0,255)<<16^ao(Bo.g*255,0,255)<<8^ao(Bo.b*255,0,255)<<0}getHexString(t=lu){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,r=bh){Gl.fromWorkingColorSpace(w4(this,Bo),r);const n=Bo.r,c=Bo.g,p=Bo.b,y=Math.max(n,c,p),v=Math.min(n,c,p);let E,_;const k=(v+y)/2;if(v===y)E=0,_=0;else{const R=y-v;switch(_=k<=.5?R/(y+v):R/(2-y-v),y){case n:E=(c-p)/R+(c<p?6:0);break;case c:E=(p-n)/R+2;break;case p:E=(n-c)/R+4;break}E/=6}return t.h=E,t.s=_,t.l=k,t}getRGB(t,r=bh){return Gl.fromWorkingColorSpace(w4(this,Bo),r),t.r=Bo.r,t.g=Bo.g,t.b=Bo.b,t}getStyle(t=lu){return Gl.fromWorkingColorSpace(w4(this,Bo),t),t!==lu?`color(${t} ${Bo.r} ${Bo.g} ${Bo.b})`:`rgb(${Bo.r*255|0},${Bo.g*255|0},${Bo.b*255|0})`}offsetHSL(t,r,n){return this.getHSL(df),df.h+=t,df.s+=r,df.l+=n,this.setHSL(df.h,df.s,df.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,r){return this.r=t.r+r.r,this.g=t.g+r.g,this.b=t.b+r.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,r){return this.r+=(t.r-this.r)*r,this.g+=(t.g-this.g)*r,this.b+=(t.b-this.b)*r,this}lerpColors(t,r,n){return this.r=t.r+(r.r-t.r)*n,this.g=t.g+(r.g-t.g)*n,this.b=t.b+(r.b-t.b)*n,this}lerpHSL(t,r){this.getHSL(df),t.getHSL(v4);const n=bg(df.h,v4.h,r),c=bg(df.s,v4.s,r),p=bg(df.l,v4.l,r);return this.setHSL(n,c,p),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,r=0){return this.r=t[r],this.g=t[r+1],this.b=t[r+2],this}toArray(t=[],r=0){return t[r]=this.r,t[r+1]=this.g,t[r+2]=this.b,t}fromBufferAttribute(t,r){return this.r=t.getX(r),this.g=t.getY(r),this.b=t.getZ(r),t.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}_i.NAMES=_7;_i.prototype.isColor=!0;_i.prototype.r=1;_i.prototype.g=1;_i.prototype.b=1;let X2;class Ph{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement=="undefined")return t.src;let r;if(t instanceof HTMLCanvasElement)r=t;else{X2===void 0&&(X2=Bg("canvas")),X2.width=t.width,X2.height=t.height;const n=X2.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),r=X2}return r.width>2048||r.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),r.toDataURL("image/jpeg",.6)):r.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement!="undefined"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&t instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&t instanceof ImageBitmap){const r=Bg("canvas");r.width=t.width,r.height=t.height;const n=r.getContext("2d");n.drawImage(t,0,0,t.width,t.height);const c=n.getImageData(0,0,t.width,t.height),p=c.data;for(let y=0;y<p.length;y++)p[y]=Vd(p[y]/255)*255;return n.putImageData(c,0,0),r}else if(t.data){const r=t.data.slice(0);for(let n=0;n<r.length;n++)r instanceof Uint8Array||r instanceof Uint8ClampedArray?r[n]=Math.floor(Vd(r[n]/255)*255):r[n]=Vd(r[n]);return{data:r,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}class yh{constructor(t=null){this.uuid=Cl(),this.data=t,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const r=t===void 0||typeof t=="string";if(!r&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const n={uuid:this.uuid,url:""},c=this.data;if(c!==null){let p;if(Array.isArray(c)){p=[];for(let y=0,v=c.length;y<v;y++)c[y].isDataTexture?p.push(ax(c[y].image)):p.push(ax(c[y]))}else p=ax(c);n.url=p}return r||(t.images[this.uuid]=n),n}}function ax(a){return typeof HTMLImageElement!="undefined"&&a instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&a instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&a instanceof ImageBitmap?Ph.getDataURL(a):a.data?{data:Array.prototype.slice.call(a.data),width:a.width,height:a.height,type:a.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}yh.prototype.isSource=!0;let rV=0;class Z0 extends dc{constructor(t=Z0.DEFAULT_IMAGE,r=Z0.DEFAULT_MAPPING,n=ma,c=ma,p=Es,y=Tu,v=Al,E=Th,_=1,k=lc){super(),Object.defineProperty(this,"id",{value:rV++}),this.uuid=Cl(),this.name="",this.source=new yh(t),this.mipmaps=[],this.mapping=r,this.wrapS=n,this.wrapT=c,this.magFilter=p,this.minFilter=y,this.anisotropy=_,this.format=v,this.internalFormat=null,this.type=E,this.offset=new $r(0,0),this.repeat=new $r(1,1),this.center=new $r(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Zs,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=k,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const r=t===void 0||typeof t=="string";if(!r&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData),r||(t.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==Cw)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Sh:t.x=t.x-Math.floor(t.x);break;case ma:t.x=t.x<0?0:1;break;case Hp:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case Sh:t.y=t.y-Math.floor(t.y);break;case ma:t.y=t.y<0?0:1;break;case Hp:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}}Z0.DEFAULT_IMAGE=null;Z0.DEFAULT_MAPPING=Cw;Z0.prototype.isTexture=!0;class j0{constructor(t=0,r=0,n=0,c=1){this.x=t,this.y=r,this.z=n,this.w=c}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,r,n,c){return this.x=t,this.y=r,this.z=n,this.w=c,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;case 3:this.w=r;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t,r){return r!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,r)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this.z=t.z+r.z,this.w=t.w+r.w,this}addScaledVector(t,r){return this.x+=t.x*r,this.y+=t.y*r,this.z+=t.z*r,this.w+=t.w*r,this}sub(t,r){return r!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,r)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this.z=t.z-r.z,this.w=t.w-r.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const r=this.x,n=this.y,c=this.z,p=this.w,y=t.elements;return this.x=y[0]*r+y[4]*n+y[8]*c+y[12]*p,this.y=y[1]*r+y[5]*n+y[9]*c+y[13]*p,this.z=y[2]*r+y[6]*n+y[10]*c+y[14]*p,this.w=y[3]*r+y[7]*n+y[11]*c+y[15]*p,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const r=Math.sqrt(1-t.w*t.w);return r<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/r,this.y=t.y/r,this.z=t.z/r),this}setAxisAngleFromRotationMatrix(t){let r,n,c,p;const E=t.elements,_=E[0],k=E[4],R=E[8],B=E[1],M=E[5],F=E[9],H=E[2],U=E[6],Z=E[10];if(Math.abs(k-B)<.01&&Math.abs(R-H)<.01&&Math.abs(F-U)<.01){if(Math.abs(k+B)<.1&&Math.abs(R+H)<.1&&Math.abs(F+U)<.1&&Math.abs(_+M+Z-3)<.1)return this.set(1,0,0,0),this;r=Math.PI;const fe=(_+1)/2,oe=(M+1)/2,we=(Z+1)/2,be=(k+B)/4,ve=(R+H)/4,ne=(F+U)/4;return fe>oe&&fe>we?fe<.01?(n=0,c=.707106781,p=.707106781):(n=Math.sqrt(fe),c=be/n,p=ve/n):oe>we?oe<.01?(n=.707106781,c=0,p=.707106781):(c=Math.sqrt(oe),n=be/c,p=ne/c):we<.01?(n=.707106781,c=.707106781,p=0):(p=Math.sqrt(we),n=ve/p,c=ne/p),this.set(n,c,p,r),this}let K=Math.sqrt((U-F)*(U-F)+(R-H)*(R-H)+(B-k)*(B-k));return Math.abs(K)<.001&&(K=1),this.x=(U-F)/K,this.y=(R-H)/K,this.z=(B-k)/K,this.w=Math.acos((_+M+Z-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this.z=Math.max(t.z,Math.min(r.z,this.z)),this.w=Math.max(t.w,Math.min(r.w,this.w)),this}clampScalar(t,r){return this.x=Math.max(t,Math.min(r,this.x)),this.y=Math.max(t,Math.min(r,this.y)),this.z=Math.max(t,Math.min(r,this.z)),this.w=Math.max(t,Math.min(r,this.w)),this}clampLength(t,r){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(r,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this.z+=(t.z-this.z)*r,this.w+=(t.w-this.w)*r,this}lerpVectors(t,r,n){return this.x=t.x+(r.x-t.x)*n,this.y=t.y+(r.y-t.y)*n,this.z=t.z+(r.z-t.z)*n,this.w=t.w+(r.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,r=0){return this.x=t[r],this.y=t[r+1],this.z=t[r+2],this.w=t[r+3],this}toArray(t=[],r=0){return t[r]=this.x,t[r+1]=this.y,t[r+2]=this.z,t[r+3]=this.w,t}fromBufferAttribute(t,r,n){return n!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(r),this.y=t.getY(r),this.z=t.getZ(r),this.w=t.getW(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}j0.prototype.isVector4=!0;class Ra extends dc{constructor(t,r,n={}){super(),this.width=t,this.height=r,this.depth=1,this.scissor=new j0(0,0,t,r),this.scissorTest=!1,this.viewport=new j0(0,0,t,r);const c={width:t,height:r,depth:1};this.texture=new Z0(c,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.internalFormat=n.internalFormat!==void 0?n.internalFormat:null,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Es,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null,this.samples=n.samples!==void 0?n.samples:0}setSize(t,r,n=1){(this.width!==t||this.height!==r||this.depth!==n)&&(this.width=t,this.height=r,this.depth=n,this.texture.image.width=t,this.texture.image.height=r,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,t,r),this.scissor.set(0,0,t,r)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;const r=Object.assign({},t.texture.image);return this.texture.source=new yh(r),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}Ra.prototype.isWebGLRenderTarget=!0;class m1 extends Z0{constructor(t=null,r=1,n=1,c=1){super(null),this.image={data:t,width:r,height:n,depth:c},this.magFilter=oo,this.minFilter=oo,this.wrapR=ma,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}m1.prototype.isDataArrayTexture=!0;class k7 extends Ra{constructor(t,r,n){super(t,r),this.depth=n,this.texture=new m1(null,t,r,n),this.texture.isRenderTargetTexture=!0}}k7.prototype.isWebGLArrayRenderTarget=!0;class Jg extends Z0{constructor(t=null,r=1,n=1,c=1){super(null),this.image={data:t,width:r,height:n,depth:c},this.magFilter=oo,this.minFilter=oo,this.wrapR=ma,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Jg.prototype.isData3DTexture=!0;class C7 extends Ra{constructor(t,r,n){super(t,r),this.depth=n,this.texture=new Jg(null,t,r,n),this.texture.isRenderTargetTexture=!0}}C7.prototype.isWebGL3DRenderTarget=!0;class S7 extends Ra{constructor(t,r,n,c={}){super(t,r,c);const p=this.texture;this.texture=[];for(let y=0;y<n;y++)this.texture[y]=p.clone(),this.texture[y].isRenderTargetTexture=!0}setSize(t,r,n=1){if(this.width!==t||this.height!==r||this.depth!==n){this.width=t,this.height=r,this.depth=n;for(let c=0,p=this.texture.length;c<p;c++)this.texture[c].image.width=t,this.texture[c].image.height=r,this.texture[c].image.depth=n;this.dispose()}return this.viewport.set(0,0,t,r),this.scissor.set(0,0,t,r),this}copy(t){this.dispose(),this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.texture.length=0;for(let r=0,n=t.texture.length;r<n;r++)this.texture[r]=t.texture[r].clone(),this.texture[r].isRenderTargetTexture=!0;return this}}S7.prototype.isWebGLMultipleRenderTargets=!0;class L0{constructor(t=0,r=0,n=0,c=1){this._x=t,this._y=r,this._z=n,this._w=c}static slerp(t,r,n,c){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(t,r,c)}static slerpFlat(t,r,n,c,p,y,v){let E=n[c+0],_=n[c+1],k=n[c+2],R=n[c+3];const B=p[y+0],M=p[y+1],F=p[y+2],H=p[y+3];if(v===0){t[r+0]=E,t[r+1]=_,t[r+2]=k,t[r+3]=R;return}if(v===1){t[r+0]=B,t[r+1]=M,t[r+2]=F,t[r+3]=H;return}if(R!==H||E!==B||_!==M||k!==F){let U=1-v;const Z=E*B+_*M+k*F+R*H,K=Z>=0?1:-1,fe=1-Z*Z;if(fe>Number.EPSILON){const we=Math.sqrt(fe),be=Math.atan2(we,Z*K);U=Math.sin(U*be)/we,v=Math.sin(v*be)/we}const oe=v*K;if(E=E*U+B*oe,_=_*U+M*oe,k=k*U+F*oe,R=R*U+H*oe,U===1-v){const we=1/Math.sqrt(E*E+_*_+k*k+R*R);E*=we,_*=we,k*=we,R*=we}}t[r]=E,t[r+1]=_,t[r+2]=k,t[r+3]=R}static multiplyQuaternionsFlat(t,r,n,c,p,y){const v=n[c],E=n[c+1],_=n[c+2],k=n[c+3],R=p[y],B=p[y+1],M=p[y+2],F=p[y+3];return t[r]=v*F+k*R+E*M-_*B,t[r+1]=E*F+k*B+_*R-v*M,t[r+2]=_*F+k*M+v*B-E*R,t[r+3]=k*F-v*R-E*B-_*M,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,r,n,c){return this._x=t,this._y=r,this._z=n,this._w=c,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,r){if(!(t&&t.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=t._x,c=t._y,p=t._z,y=t._order,v=Math.cos,E=Math.sin,_=v(n/2),k=v(c/2),R=v(p/2),B=E(n/2),M=E(c/2),F=E(p/2);switch(y){case"XYZ":this._x=B*k*R+_*M*F,this._y=_*M*R-B*k*F,this._z=_*k*F+B*M*R,this._w=_*k*R-B*M*F;break;case"YXZ":this._x=B*k*R+_*M*F,this._y=_*M*R-B*k*F,this._z=_*k*F-B*M*R,this._w=_*k*R+B*M*F;break;case"ZXY":this._x=B*k*R-_*M*F,this._y=_*M*R+B*k*F,this._z=_*k*F+B*M*R,this._w=_*k*R-B*M*F;break;case"ZYX":this._x=B*k*R-_*M*F,this._y=_*M*R+B*k*F,this._z=_*k*F-B*M*R,this._w=_*k*R+B*M*F;break;case"YZX":this._x=B*k*R+_*M*F,this._y=_*M*R+B*k*F,this._z=_*k*F-B*M*R,this._w=_*k*R-B*M*F;break;case"XZY":this._x=B*k*R-_*M*F,this._y=_*M*R-B*k*F,this._z=_*k*F+B*M*R,this._w=_*k*R+B*M*F;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+y)}return r!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,r){const n=r/2,c=Math.sin(n);return this._x=t.x*c,this._y=t.y*c,this._z=t.z*c,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const r=t.elements,n=r[0],c=r[4],p=r[8],y=r[1],v=r[5],E=r[9],_=r[2],k=r[6],R=r[10],B=n+v+R;if(B>0){const M=.5/Math.sqrt(B+1);this._w=.25/M,this._x=(k-E)*M,this._y=(p-_)*M,this._z=(y-c)*M}else if(n>v&&n>R){const M=2*Math.sqrt(1+n-v-R);this._w=(k-E)/M,this._x=.25*M,this._y=(c+y)/M,this._z=(p+_)/M}else if(v>R){const M=2*Math.sqrt(1+v-n-R);this._w=(p-_)/M,this._x=(c+y)/M,this._y=.25*M,this._z=(E+k)/M}else{const M=2*Math.sqrt(1+R-n-v);this._w=(y-c)/M,this._x=(p+_)/M,this._y=(E+k)/M,this._z=.25*M}return this._onChangeCallback(),this}setFromUnitVectors(t,r){let n=t.dot(r)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*r.z-t.z*r.y,this._y=t.z*r.x-t.x*r.z,this._z=t.x*r.y-t.y*r.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(ao(this.dot(t),-1,1)))}rotateTowards(t,r){const n=this.angleTo(t);if(n===0)return this;const c=Math.min(1,r/n);return this.slerp(t,c),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,r){return r!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,r)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,r){const n=t._x,c=t._y,p=t._z,y=t._w,v=r._x,E=r._y,_=r._z,k=r._w;return this._x=n*k+y*v+c*_-p*E,this._y=c*k+y*E+p*v-n*_,this._z=p*k+y*_+n*E-c*v,this._w=y*k-n*v-c*E-p*_,this._onChangeCallback(),this}slerp(t,r){if(r===0)return this;if(r===1)return this.copy(t);const n=this._x,c=this._y,p=this._z,y=this._w;let v=y*t._w+n*t._x+c*t._y+p*t._z;if(v<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,v=-v):this.copy(t),v>=1)return this._w=y,this._x=n,this._y=c,this._z=p,this;const E=1-v*v;if(E<=Number.EPSILON){const M=1-r;return this._w=M*y+r*this._w,this._x=M*n+r*this._x,this._y=M*c+r*this._y,this._z=M*p+r*this._z,this.normalize(),this._onChangeCallback(),this}const _=Math.sqrt(E),k=Math.atan2(_,v),R=Math.sin((1-r)*k)/_,B=Math.sin(r*k)/_;return this._w=y*R+this._w*B,this._x=n*R+this._x*B,this._y=c*R+this._y*B,this._z=p*R+this._z*B,this._onChangeCallback(),this}slerpQuaternions(t,r,n){return this.copy(t).slerp(r,n)}random(){const t=Math.random(),r=Math.sqrt(1-t),n=Math.sqrt(t),c=2*Math.PI*Math.random(),p=2*Math.PI*Math.random();return this.set(r*Math.cos(c),n*Math.sin(p),n*Math.cos(p),r*Math.sin(c))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,r=0){return this._x=t[r],this._y=t[r+1],this._z=t[r+2],this._w=t[r+3],this._onChangeCallback(),this}toArray(t=[],r=0){return t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._w,t}fromBufferAttribute(t,r){return this._x=t.getX(r),this._y=t.getY(r),this._z=t.getZ(r),this._w=t.getW(r),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}L0.prototype.isQuaternion=!0;class wt{constructor(t=0,r=0,n=0){this.x=t,this.y=r,this.z=n}set(t,r,n){return n===void 0&&(n=this.z),this.x=t,this.y=r,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,r){return r!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,r)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this.z=t.z+r.z,this}addScaledVector(t,r){return this.x+=t.x*r,this.y+=t.y*r,this.z+=t.z*r,this}sub(t,r){return r!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,r)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this.z=t.z-r.z,this}multiply(t,r){return r!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,r)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,r){return this.x=t.x*r.x,this.y=t.y*r.y,this.z=t.z*r.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(OC.setFromEuler(t))}applyAxisAngle(t,r){return this.applyQuaternion(OC.setFromAxisAngle(t,r))}applyMatrix3(t){const r=this.x,n=this.y,c=this.z,p=t.elements;return this.x=p[0]*r+p[3]*n+p[6]*c,this.y=p[1]*r+p[4]*n+p[7]*c,this.z=p[2]*r+p[5]*n+p[8]*c,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const r=this.x,n=this.y,c=this.z,p=t.elements,y=1/(p[3]*r+p[7]*n+p[11]*c+p[15]);return this.x=(p[0]*r+p[4]*n+p[8]*c+p[12])*y,this.y=(p[1]*r+p[5]*n+p[9]*c+p[13])*y,this.z=(p[2]*r+p[6]*n+p[10]*c+p[14])*y,this}applyQuaternion(t){const r=this.x,n=this.y,c=this.z,p=t.x,y=t.y,v=t.z,E=t.w,_=E*r+y*c-v*n,k=E*n+v*r-p*c,R=E*c+p*n-y*r,B=-p*r-y*n-v*c;return this.x=_*E+B*-p+k*-v-R*-y,this.y=k*E+B*-y+R*-p-_*-v,this.z=R*E+B*-v+_*-y-k*-p,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const r=this.x,n=this.y,c=this.z,p=t.elements;return this.x=p[0]*r+p[4]*n+p[8]*c,this.y=p[1]*r+p[5]*n+p[9]*c,this.z=p[2]*r+p[6]*n+p[10]*c,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this.z=Math.max(t.z,Math.min(r.z,this.z)),this}clampScalar(t,r){return this.x=Math.max(t,Math.min(r,this.x)),this.y=Math.max(t,Math.min(r,this.y)),this.z=Math.max(t,Math.min(r,this.z)),this}clampLength(t,r){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(r,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this.z+=(t.z-this.z)*r,this}lerpVectors(t,r,n){return this.x=t.x+(r.x-t.x)*n,this.y=t.y+(r.y-t.y)*n,this.z=t.z+(r.z-t.z)*n,this}cross(t,r){return r!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,r)):this.crossVectors(this,t)}crossVectors(t,r){const n=t.x,c=t.y,p=t.z,y=r.x,v=r.y,E=r.z;return this.x=c*E-p*v,this.y=p*y-n*E,this.z=n*v-c*y,this}projectOnVector(t){const r=t.lengthSq();if(r===0)return this.set(0,0,0);const n=t.dot(this)/r;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return lx.copy(this).projectOnVector(t),this.sub(lx)}reflect(t){return this.sub(lx.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const r=Math.sqrt(this.lengthSq()*t.lengthSq());if(r===0)return Math.PI/2;const n=this.dot(t)/r;return Math.acos(ao(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const r=this.x-t.x,n=this.y-t.y,c=this.z-t.z;return r*r+n*n+c*c}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,r,n){const c=Math.sin(r)*t;return this.x=c*Math.sin(n),this.y=Math.cos(r)*t,this.z=c*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,r,n){return this.x=t*Math.sin(r),this.y=n,this.z=t*Math.cos(r),this}setFromMatrixPosition(t){const r=t.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this}setFromMatrixScale(t){const r=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),c=this.setFromMatrixColumn(t,2).length();return this.x=r,this.y=n,this.z=c,this}setFromMatrixColumn(t,r){return this.fromArray(t.elements,r*4)}setFromMatrix3Column(t,r){return this.fromArray(t.elements,r*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,r=0){return this.x=t[r],this.y=t[r+1],this.z=t[r+2],this}toArray(t=[],r=0){return t[r]=this.x,t[r+1]=this.y,t[r+2]=this.z,t}fromBufferAttribute(t,r,n){return n!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(r),this.y=t.getY(r),this.z=t.getZ(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=(Math.random()-.5)*2,r=Math.random()*Math.PI*2,n=Math.sqrt(1-t**2);return this.x=n*Math.cos(r),this.y=n*Math.sin(r),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}wt.prototype.isVector3=!0;const lx=new wt,OC=new L0;class na{constructor(t=new wt(1/0,1/0,1/0),r=new wt(-1/0,-1/0,-1/0)){this.min=t,this.max=r}set(t,r){return this.min.copy(t),this.max.copy(r),this}setFromArray(t){let r=1/0,n=1/0,c=1/0,p=-1/0,y=-1/0,v=-1/0;for(let E=0,_=t.length;E<_;E+=3){const k=t[E],R=t[E+1],B=t[E+2];k<r&&(r=k),R<n&&(n=R),B<c&&(c=B),k>p&&(p=k),R>y&&(y=R),B>v&&(v=B)}return this.min.set(r,n,c),this.max.set(p,y,v),this}setFromBufferAttribute(t){let r=1/0,n=1/0,c=1/0,p=-1/0,y=-1/0,v=-1/0;for(let E=0,_=t.count;E<_;E++){const k=t.getX(E),R=t.getY(E),B=t.getZ(E);k<r&&(r=k),R<n&&(n=R),B<c&&(c=B),k>p&&(p=k),R>y&&(y=R),B>v&&(v=B)}return this.min.set(r,n,c),this.max.set(p,y,v),this}setFromPoints(t){this.makeEmpty();for(let r=0,n=t.length;r<n;r++)this.expandByPoint(t[r]);return this}setFromCenterAndSize(t,r){const n=wd.copy(r).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t,r=!1){return this.makeEmpty(),this.expandByObject(t,r)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,r=!1){t.updateWorldMatrix(!1,!1);const n=t.geometry;if(n!==void 0)if(r&&n.attributes!=null&&n.attributes.position!==void 0){const p=n.attributes.position;for(let y=0,v=p.count;y<v;y++)wd.fromBufferAttribute(p,y).applyMatrix4(t.matrixWorld),this.expandByPoint(wd)}else n.boundingBox===null&&n.computeBoundingBox(),fx.copy(n.boundingBox),fx.applyMatrix4(t.matrixWorld),this.union(fx);const c=t.children;for(let p=0,y=c.length;p<y;p++)this.expandByObject(c[p],r);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,r){return r.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,wd),wd.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let r,n;return t.normal.x>0?(r=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(r=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(r+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(r+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(r+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(r+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),r<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Fm),A4.subVectors(this.max,Fm),q2.subVectors(t.a,Fm),Z2.subVectors(t.b,Fm),Y2.subVectors(t.c,Fm),Zc.subVectors(Z2,q2),Yc.subVectors(Y2,Z2),Ad.subVectors(q2,Y2);let r=[0,-Zc.z,Zc.y,0,-Yc.z,Yc.y,0,-Ad.z,Ad.y,Zc.z,0,-Zc.x,Yc.z,0,-Yc.x,Ad.z,0,-Ad.x,-Zc.y,Zc.x,0,-Yc.y,Yc.x,0,-Ad.y,Ad.x,0];return!ux(r,q2,Z2,Y2,A4)||(r=[1,0,0,0,1,0,0,0,1],!ux(r,q2,Z2,Y2,A4))?!1:(x4.crossVectors(Zc,Yc),r=[x4.x,x4.y,x4.z],ux(r,q2,Z2,Y2,A4))}clampPoint(t,r){return r.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return wd.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=this.getSize(wd).length()*.5,t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(zu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),zu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),zu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),zu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),zu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),zu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),zu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),zu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(zu),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}na.prototype.isBox3=!0;const zu=[new wt,new wt,new wt,new wt,new wt,new wt,new wt,new wt],wd=new wt,fx=new na,q2=new wt,Z2=new wt,Y2=new wt,Zc=new wt,Yc=new wt,Ad=new wt,Fm=new wt,A4=new wt,x4=new wt,xd=new wt;function ux(a,t,r,n,c){for(let p=0,y=a.length-3;p<=y;p+=3){xd.fromArray(a,p);const v=c.x*Math.abs(xd.x)+c.y*Math.abs(xd.y)+c.z*Math.abs(xd.z),E=t.dot(xd),_=r.dot(xd),k=n.dot(xd);if(Math.max(-Math.max(E,_,k),Math.min(E,_,k))>v)return!1}return!0}const iV=new na,HC=new wt,E4=new wt,cx=new wt;class Mu{constructor(t=new wt,r=-1){this.center=t,this.radius=r}set(t,r){return this.center.copy(t),this.radius=r,this}setFromPoints(t,r){const n=this.center;r!==void 0?n.copy(r):iV.setFromPoints(t).getCenter(n);let c=0;for(let p=0,y=t.length;p<y;p++)c=Math.max(c,n.distanceToSquared(t[p]));return this.radius=Math.sqrt(c),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const r=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=r*r}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,r){const n=this.center.distanceToSquared(t);return r.copy(t),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){cx.subVectors(t,this.center);const r=cx.lengthSq();if(r>this.radius*this.radius){const n=Math.sqrt(r),c=(n-this.radius)*.5;this.center.add(cx.multiplyScalar(c/n)),this.radius+=c}return this}union(t){return this.center.equals(t.center)===!0?E4.set(0,0,1).multiplyScalar(t.radius):E4.subVectors(t.center,this.center).normalize().multiplyScalar(t.radius),this.expandByPoint(HC.copy(t.center).add(E4)),this.expandByPoint(HC.copy(t.center).sub(E4)),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Wu=new wt,hx=new wt,_4=new wt,Kc=new wt,dx=new wt,k4=new wt,px=new wt;class Nh{constructor(t=new wt,r=new wt(0,0,-1)){this.origin=t,this.direction=r}set(t,r){return this.origin.copy(t),this.direction.copy(r),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,r){return r.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Wu)),this}closestPointToPoint(t,r){r.subVectors(t,this.origin);const n=r.dot(this.direction);return n<0?r.copy(this.origin):r.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const r=Wu.subVectors(t,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(t):(Wu.copy(this.direction).multiplyScalar(r).add(this.origin),Wu.distanceToSquared(t))}distanceSqToSegment(t,r,n,c){hx.copy(t).add(r).multiplyScalar(.5),_4.copy(r).sub(t).normalize(),Kc.copy(this.origin).sub(hx);const p=t.distanceTo(r)*.5,y=-this.direction.dot(_4),v=Kc.dot(this.direction),E=-Kc.dot(_4),_=Kc.lengthSq(),k=Math.abs(1-y*y);let R,B,M,F;if(k>0)if(R=y*E-v,B=y*v-E,F=p*k,R>=0)if(B>=-F)if(B<=F){const H=1/k;R*=H,B*=H,M=R*(R+y*B+2*v)+B*(y*R+B+2*E)+_}else B=p,R=Math.max(0,-(y*B+v)),M=-R*R+B*(B+2*E)+_;else B=-p,R=Math.max(0,-(y*B+v)),M=-R*R+B*(B+2*E)+_;else B<=-F?(R=Math.max(0,-(-y*p+v)),B=R>0?-p:Math.min(Math.max(-p,-E),p),M=-R*R+B*(B+2*E)+_):B<=F?(R=0,B=Math.min(Math.max(-p,-E),p),M=B*(B+2*E)+_):(R=Math.max(0,-(y*p+v)),B=R>0?p:Math.min(Math.max(-p,-E),p),M=-R*R+B*(B+2*E)+_);else B=y>0?-p:p,R=Math.max(0,-(y*B+v)),M=-R*R+B*(B+2*E)+_;return n&&n.copy(this.direction).multiplyScalar(R).add(this.origin),c&&c.copy(_4).multiplyScalar(B).add(hx),M}intersectSphere(t,r){Wu.subVectors(t.center,this.origin);const n=Wu.dot(this.direction),c=Wu.dot(Wu)-n*n,p=t.radius*t.radius;if(c>p)return null;const y=Math.sqrt(p-c),v=n-y,E=n+y;return v<0&&E<0?null:v<0?this.at(E,r):this.at(v,r)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const r=t.normal.dot(this.direction);if(r===0)return t.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/r;return n>=0?n:null}intersectPlane(t,r){const n=this.distanceToPlane(t);return n===null?null:this.at(n,r)}intersectsPlane(t){const r=t.distanceToPoint(this.origin);return r===0||t.normal.dot(this.direction)*r<0}intersectBox(t,r){let n,c,p,y,v,E;const _=1/this.direction.x,k=1/this.direction.y,R=1/this.direction.z,B=this.origin;return _>=0?(n=(t.min.x-B.x)*_,c=(t.max.x-B.x)*_):(n=(t.max.x-B.x)*_,c=(t.min.x-B.x)*_),k>=0?(p=(t.min.y-B.y)*k,y=(t.max.y-B.y)*k):(p=(t.max.y-B.y)*k,y=(t.min.y-B.y)*k),n>y||p>c||((p>n||n!==n)&&(n=p),(y<c||c!==c)&&(c=y),R>=0?(v=(t.min.z-B.z)*R,E=(t.max.z-B.z)*R):(v=(t.max.z-B.z)*R,E=(t.min.z-B.z)*R),n>E||v>c)||((v>n||n!==n)&&(n=v),(E<c||c!==c)&&(c=E),c<0)?null:this.at(n>=0?n:c,r)}intersectsBox(t){return this.intersectBox(t,Wu)!==null}intersectTriangle(t,r,n,c,p){dx.subVectors(r,t),k4.subVectors(n,t),px.crossVectors(dx,k4);let y=this.direction.dot(px),v;if(y>0){if(c)return null;v=1}else if(y<0)v=-1,y=-y;else return null;Kc.subVectors(this.origin,t);const E=v*this.direction.dot(k4.crossVectors(Kc,k4));if(E<0)return null;const _=v*this.direction.dot(dx.cross(Kc));if(_<0||E+_>y)return null;const k=-v*Kc.dot(px);return k<0?null:this.at(k/y,p)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ji{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,r,n,c,p,y,v,E,_,k,R,B,M,F,H,U){const Z=this.elements;return Z[0]=t,Z[4]=r,Z[8]=n,Z[12]=c,Z[1]=p,Z[5]=y,Z[9]=v,Z[13]=E,Z[2]=_,Z[6]=k,Z[10]=R,Z[14]=B,Z[3]=M,Z[7]=F,Z[11]=H,Z[15]=U,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ji().fromArray(this.elements)}copy(t){const r=this.elements,n=t.elements;return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15],this}copyPosition(t){const r=this.elements,n=t.elements;return r[12]=n[12],r[13]=n[13],r[14]=n[14],this}setFromMatrix3(t){const r=t.elements;return this.set(r[0],r[3],r[6],0,r[1],r[4],r[7],0,r[2],r[5],r[8],0,0,0,0,1),this}extractBasis(t,r,n){return t.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,r,n){return this.set(t.x,r.x,n.x,0,t.y,r.y,n.y,0,t.z,r.z,n.z,0,0,0,0,1),this}extractRotation(t){const r=this.elements,n=t.elements,c=1/K2.setFromMatrixColumn(t,0).length(),p=1/K2.setFromMatrixColumn(t,1).length(),y=1/K2.setFromMatrixColumn(t,2).length();return r[0]=n[0]*c,r[1]=n[1]*c,r[2]=n[2]*c,r[3]=0,r[4]=n[4]*p,r[5]=n[5]*p,r[6]=n[6]*p,r[7]=0,r[8]=n[8]*y,r[9]=n[9]*y,r[10]=n[10]*y,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const r=this.elements,n=t.x,c=t.y,p=t.z,y=Math.cos(n),v=Math.sin(n),E=Math.cos(c),_=Math.sin(c),k=Math.cos(p),R=Math.sin(p);if(t.order==="XYZ"){const B=y*k,M=y*R,F=v*k,H=v*R;r[0]=E*k,r[4]=-E*R,r[8]=_,r[1]=M+F*_,r[5]=B-H*_,r[9]=-v*E,r[2]=H-B*_,r[6]=F+M*_,r[10]=y*E}else if(t.order==="YXZ"){const B=E*k,M=E*R,F=_*k,H=_*R;r[0]=B+H*v,r[4]=F*v-M,r[8]=y*_,r[1]=y*R,r[5]=y*k,r[9]=-v,r[2]=M*v-F,r[6]=H+B*v,r[10]=y*E}else if(t.order==="ZXY"){const B=E*k,M=E*R,F=_*k,H=_*R;r[0]=B-H*v,r[4]=-y*R,r[8]=F+M*v,r[1]=M+F*v,r[5]=y*k,r[9]=H-B*v,r[2]=-y*_,r[6]=v,r[10]=y*E}else if(t.order==="ZYX"){const B=y*k,M=y*R,F=v*k,H=v*R;r[0]=E*k,r[4]=F*_-M,r[8]=B*_+H,r[1]=E*R,r[5]=H*_+B,r[9]=M*_-F,r[2]=-_,r[6]=v*E,r[10]=y*E}else if(t.order==="YZX"){const B=y*E,M=y*_,F=v*E,H=v*_;r[0]=E*k,r[4]=H-B*R,r[8]=F*R+M,r[1]=R,r[5]=y*k,r[9]=-v*k,r[2]=-_*k,r[6]=M*R+F,r[10]=B-H*R}else if(t.order==="XZY"){const B=y*E,M=y*_,F=v*E,H=v*_;r[0]=E*k,r[4]=-R,r[8]=_*k,r[1]=B*R+H,r[5]=y*k,r[9]=M*R-F,r[2]=F*R-M,r[6]=v*k,r[10]=H*R+B}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromQuaternion(t){return this.compose(nV,t,sV)}lookAt(t,r,n){const c=this.elements;return pl.subVectors(t,r),pl.lengthSq()===0&&(pl.z=1),pl.normalize(),$c.crossVectors(n,pl),$c.lengthSq()===0&&(Math.abs(n.z)===1?pl.x+=1e-4:pl.z+=1e-4,pl.normalize(),$c.crossVectors(n,pl)),$c.normalize(),C4.crossVectors(pl,$c),c[0]=$c.x,c[4]=C4.x,c[8]=pl.x,c[1]=$c.y,c[5]=C4.y,c[9]=pl.y,c[2]=$c.z,c[6]=C4.z,c[10]=pl.z,this}multiply(t,r){return r!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,r)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,r){const n=t.elements,c=r.elements,p=this.elements,y=n[0],v=n[4],E=n[8],_=n[12],k=n[1],R=n[5],B=n[9],M=n[13],F=n[2],H=n[6],U=n[10],Z=n[14],K=n[3],fe=n[7],oe=n[11],we=n[15],be=c[0],ve=c[4],ne=c[8],ae=c[12],ye=c[1],de=c[5],xe=c[9],le=c[13],re=c[2],he=c[6],me=c[10],Re=c[14],Ie=c[3],Ne=c[7],Qe=c[11],Ue=c[15];return p[0]=y*be+v*ye+E*re+_*Ie,p[4]=y*ve+v*de+E*he+_*Ne,p[8]=y*ne+v*xe+E*me+_*Qe,p[12]=y*ae+v*le+E*Re+_*Ue,p[1]=k*be+R*ye+B*re+M*Ie,p[5]=k*ve+R*de+B*he+M*Ne,p[9]=k*ne+R*xe+B*me+M*Qe,p[13]=k*ae+R*le+B*Re+M*Ue,p[2]=F*be+H*ye+U*re+Z*Ie,p[6]=F*ve+H*de+U*he+Z*Ne,p[10]=F*ne+H*xe+U*me+Z*Qe,p[14]=F*ae+H*le+U*Re+Z*Ue,p[3]=K*be+fe*ye+oe*re+we*Ie,p[7]=K*ve+fe*de+oe*he+we*Ne,p[11]=K*ne+fe*xe+oe*me+we*Qe,p[15]=K*ae+fe*le+oe*Re+we*Ue,this}multiplyScalar(t){const r=this.elements;return r[0]*=t,r[4]*=t,r[8]*=t,r[12]*=t,r[1]*=t,r[5]*=t,r[9]*=t,r[13]*=t,r[2]*=t,r[6]*=t,r[10]*=t,r[14]*=t,r[3]*=t,r[7]*=t,r[11]*=t,r[15]*=t,this}determinant(){const t=this.elements,r=t[0],n=t[4],c=t[8],p=t[12],y=t[1],v=t[5],E=t[9],_=t[13],k=t[2],R=t[6],B=t[10],M=t[14],F=t[3],H=t[7],U=t[11],Z=t[15];return F*(+p*E*R-c*_*R-p*v*B+n*_*B+c*v*M-n*E*M)+H*(+r*E*M-r*_*B+p*y*B-c*y*M+c*_*k-p*E*k)+U*(+r*_*R-r*v*M-p*y*R+n*y*M+p*v*k-n*_*k)+Z*(-c*v*k-r*E*R+r*v*B+c*y*R-n*y*B+n*E*k)}transpose(){const t=this.elements;let r;return r=t[1],t[1]=t[4],t[4]=r,r=t[2],t[2]=t[8],t[8]=r,r=t[6],t[6]=t[9],t[9]=r,r=t[3],t[3]=t[12],t[12]=r,r=t[7],t[7]=t[13],t[13]=r,r=t[11],t[11]=t[14],t[14]=r,this}setPosition(t,r,n){const c=this.elements;return t.isVector3?(c[12]=t.x,c[13]=t.y,c[14]=t.z):(c[12]=t,c[13]=r,c[14]=n),this}invert(){const t=this.elements,r=t[0],n=t[1],c=t[2],p=t[3],y=t[4],v=t[5],E=t[6],_=t[7],k=t[8],R=t[9],B=t[10],M=t[11],F=t[12],H=t[13],U=t[14],Z=t[15],K=R*U*_-H*B*_+H*E*M-v*U*M-R*E*Z+v*B*Z,fe=F*B*_-k*U*_-F*E*M+y*U*M+k*E*Z-y*B*Z,oe=k*H*_-F*R*_+F*v*M-y*H*M-k*v*Z+y*R*Z,we=F*R*E-k*H*E-F*v*B+y*H*B+k*v*U-y*R*U,be=r*K+n*fe+c*oe+p*we;if(be===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const ve=1/be;return t[0]=K*ve,t[1]=(H*B*p-R*U*p-H*c*M+n*U*M+R*c*Z-n*B*Z)*ve,t[2]=(v*U*p-H*E*p+H*c*_-n*U*_-v*c*Z+n*E*Z)*ve,t[3]=(R*E*p-v*B*p-R*c*_+n*B*_+v*c*M-n*E*M)*ve,t[4]=fe*ve,t[5]=(k*U*p-F*B*p+F*c*M-r*U*M-k*c*Z+r*B*Z)*ve,t[6]=(F*E*p-y*U*p-F*c*_+r*U*_+y*c*Z-r*E*Z)*ve,t[7]=(y*B*p-k*E*p+k*c*_-r*B*_-y*c*M+r*E*M)*ve,t[8]=oe*ve,t[9]=(F*R*p-k*H*p-F*n*M+r*H*M+k*n*Z-r*R*Z)*ve,t[10]=(y*H*p-F*v*p+F*n*_-r*H*_-y*n*Z+r*v*Z)*ve,t[11]=(k*v*p-y*R*p-k*n*_+r*R*_+y*n*M-r*v*M)*ve,t[12]=we*ve,t[13]=(k*H*c-F*R*c+F*n*B-r*H*B-k*n*U+r*R*U)*ve,t[14]=(F*v*c-y*H*c-F*n*E+r*H*E+y*n*U-r*v*U)*ve,t[15]=(y*R*c-k*v*c+k*n*E-r*R*E-y*n*B+r*v*B)*ve,this}scale(t){const r=this.elements,n=t.x,c=t.y,p=t.z;return r[0]*=n,r[4]*=c,r[8]*=p,r[1]*=n,r[5]*=c,r[9]*=p,r[2]*=n,r[6]*=c,r[10]*=p,r[3]*=n,r[7]*=c,r[11]*=p,this}getMaxScaleOnAxis(){const t=this.elements,r=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],c=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(r,n,c))}makeTranslation(t,r,n){return this.set(1,0,0,t,0,1,0,r,0,0,1,n,0,0,0,1),this}makeRotationX(t){const r=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,r,-n,0,0,n,r,0,0,0,0,1),this}makeRotationY(t){const r=Math.cos(t),n=Math.sin(t);return this.set(r,0,n,0,0,1,0,0,-n,0,r,0,0,0,0,1),this}makeRotationZ(t){const r=Math.cos(t),n=Math.sin(t);return this.set(r,-n,0,0,n,r,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,r){const n=Math.cos(r),c=Math.sin(r),p=1-n,y=t.x,v=t.y,E=t.z,_=p*y,k=p*v;return this.set(_*y+n,_*v-c*E,_*E+c*v,0,_*v+c*E,k*v+n,k*E-c*y,0,_*E-c*v,k*E+c*y,p*E*E+n,0,0,0,0,1),this}makeScale(t,r,n){return this.set(t,0,0,0,0,r,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,r,n,c,p,y){return this.set(1,n,p,0,t,1,y,0,r,c,1,0,0,0,0,1),this}compose(t,r,n){const c=this.elements,p=r._x,y=r._y,v=r._z,E=r._w,_=p+p,k=y+y,R=v+v,B=p*_,M=p*k,F=p*R,H=y*k,U=y*R,Z=v*R,K=E*_,fe=E*k,oe=E*R,we=n.x,be=n.y,ve=n.z;return c[0]=(1-(H+Z))*we,c[1]=(M+oe)*we,c[2]=(F-fe)*we,c[3]=0,c[4]=(M-oe)*be,c[5]=(1-(B+Z))*be,c[6]=(U+K)*be,c[7]=0,c[8]=(F+fe)*ve,c[9]=(U-K)*ve,c[10]=(1-(B+H))*ve,c[11]=0,c[12]=t.x,c[13]=t.y,c[14]=t.z,c[15]=1,this}decompose(t,r,n){const c=this.elements;let p=K2.set(c[0],c[1],c[2]).length();const y=K2.set(c[4],c[5],c[6]).length(),v=K2.set(c[8],c[9],c[10]).length();this.determinant()<0&&(p=-p),t.x=c[12],t.y=c[13],t.z=c[14],pf.copy(this);const _=1/p,k=1/y,R=1/v;return pf.elements[0]*=_,pf.elements[1]*=_,pf.elements[2]*=_,pf.elements[4]*=k,pf.elements[5]*=k,pf.elements[6]*=k,pf.elements[8]*=R,pf.elements[9]*=R,pf.elements[10]*=R,r.setFromRotationMatrix(pf),n.x=p,n.y=y,n.z=v,this}makePerspective(t,r,n,c,p,y){y===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const v=this.elements,E=2*p/(r-t),_=2*p/(n-c),k=(r+t)/(r-t),R=(n+c)/(n-c),B=-(y+p)/(y-p),M=-2*y*p/(y-p);return v[0]=E,v[4]=0,v[8]=k,v[12]=0,v[1]=0,v[5]=_,v[9]=R,v[13]=0,v[2]=0,v[6]=0,v[10]=B,v[14]=M,v[3]=0,v[7]=0,v[11]=-1,v[15]=0,this}makeOrthographic(t,r,n,c,p,y){const v=this.elements,E=1/(r-t),_=1/(n-c),k=1/(y-p),R=(r+t)*E,B=(n+c)*_,M=(y+p)*k;return v[0]=2*E,v[4]=0,v[8]=0,v[12]=-R,v[1]=0,v[5]=2*_,v[9]=0,v[13]=-B,v[2]=0,v[6]=0,v[10]=-2*k,v[14]=-M,v[3]=0,v[7]=0,v[11]=0,v[15]=1,this}equals(t){const r=this.elements,n=t.elements;for(let c=0;c<16;c++)if(r[c]!==n[c])return!1;return!0}fromArray(t,r=0){for(let n=0;n<16;n++)this.elements[n]=t[n+r];return this}toArray(t=[],r=0){const n=this.elements;return t[r]=n[0],t[r+1]=n[1],t[r+2]=n[2],t[r+3]=n[3],t[r+4]=n[4],t[r+5]=n[5],t[r+6]=n[6],t[r+7]=n[7],t[r+8]=n[8],t[r+9]=n[9],t[r+10]=n[10],t[r+11]=n[11],t[r+12]=n[12],t[r+13]=n[13],t[r+14]=n[14],t[r+15]=n[15],t}}Ji.prototype.isMatrix4=!0;const K2=new wt,pf=new Ji,nV=new wt(0,0,0),sV=new wt(1,1,1),$c=new wt,C4=new wt,pl=new wt,UC=new Ji,VC=new L0;class lo{constructor(t=0,r=0,n=0,c=lo.DefaultOrder){this._x=t,this._y=r,this._z=n,this._order=c}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,r,n,c=this._order){return this._x=t,this._y=r,this._z=n,this._order=c,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,r=this._order,n=!0){const c=t.elements,p=c[0],y=c[4],v=c[8],E=c[1],_=c[5],k=c[9],R=c[2],B=c[6],M=c[10];switch(r){case"XYZ":this._y=Math.asin(ao(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(-k,M),this._z=Math.atan2(-y,p)):(this._x=Math.atan2(B,_),this._z=0);break;case"YXZ":this._x=Math.asin(-ao(k,-1,1)),Math.abs(k)<.9999999?(this._y=Math.atan2(v,M),this._z=Math.atan2(E,_)):(this._y=Math.atan2(-R,p),this._z=0);break;case"ZXY":this._x=Math.asin(ao(B,-1,1)),Math.abs(B)<.9999999?(this._y=Math.atan2(-R,M),this._z=Math.atan2(-y,_)):(this._y=0,this._z=Math.atan2(E,p));break;case"ZYX":this._y=Math.asin(-ao(R,-1,1)),Math.abs(R)<.9999999?(this._x=Math.atan2(B,M),this._z=Math.atan2(E,p)):(this._x=0,this._z=Math.atan2(-y,_));break;case"YZX":this._z=Math.asin(ao(E,-1,1)),Math.abs(E)<.9999999?(this._x=Math.atan2(-k,_),this._y=Math.atan2(-R,p)):(this._x=0,this._y=Math.atan2(v,M));break;case"XZY":this._z=Math.asin(-ao(y,-1,1)),Math.abs(y)<.9999999?(this._x=Math.atan2(B,_),this._y=Math.atan2(v,p)):(this._x=Math.atan2(-k,M),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,n===!0&&this._onChangeCallback(),this}setFromQuaternion(t,r,n){return UC.makeRotationFromQuaternion(t),this.setFromRotationMatrix(UC,r,n)}setFromVector3(t,r=this._order){return this.set(t.x,t.y,t.z,r)}reorder(t){return VC.setFromEuler(this),this.setFromQuaternion(VC,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],r=0){return t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}lo.prototype.isEuler=!0;lo.DefaultOrder="XYZ";lo.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Mw{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let oV=0;const jC=new wt,$2=new L0,Qu=new Ji,S4=new wt,Om=new wt,aV=new wt,lV=new L0,GC=new wt(1,0,0),zC=new wt(0,1,0),WC=new wt(0,0,1),fV={type:"added"},QC={type:"removed"};class Rn extends dc{constructor(){super(),Object.defineProperty(this,"id",{value:oV++}),this.uuid=Cl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Rn.DefaultUp.clone();const t=new wt,r=new lo,n=new L0,c=new wt(1,1,1);function p(){n.setFromEuler(r,!1)}function y(){r.setFromQuaternion(n,void 0,!1)}r._onChange(p),n._onChange(y),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:c},modelViewMatrix:{value:new Ji},normalMatrix:{value:new Zs}}),this.matrix=new Ji,this.matrixWorld=new Ji,this.matrixAutoUpdate=Rn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Mw,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,r){this.quaternion.setFromAxisAngle(t,r)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,r){return $2.setFromAxisAngle(t,r),this.quaternion.multiply($2),this}rotateOnWorldAxis(t,r){return $2.setFromAxisAngle(t,r),this.quaternion.premultiply($2),this}rotateX(t){return this.rotateOnAxis(GC,t)}rotateY(t){return this.rotateOnAxis(zC,t)}rotateZ(t){return this.rotateOnAxis(WC,t)}translateOnAxis(t,r){return jC.copy(t).applyQuaternion(this.quaternion),this.position.add(jC.multiplyScalar(r)),this}translateX(t){return this.translateOnAxis(GC,t)}translateY(t){return this.translateOnAxis(zC,t)}translateZ(t){return this.translateOnAxis(WC,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(Qu.copy(this.matrixWorld).invert())}lookAt(t,r,n){t.isVector3?S4.copy(t):S4.set(t,r,n);const c=this.parent;this.updateWorldMatrix(!0,!1),Om.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Qu.lookAt(Om,S4,this.up):Qu.lookAt(S4,Om,this.up),this.quaternion.setFromRotationMatrix(Qu),c&&(Qu.extractRotation(c.matrixWorld),$2.setFromRotationMatrix(Qu),this.quaternion.premultiply($2.invert()))}add(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.parent!==null&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(fV)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const r=this.children.indexOf(t);return r!==-1&&(t.parent=null,this.children.splice(r,1),t.dispatchEvent(QC)),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const r=this.children[t];r.parent=null,r.dispatchEvent(QC)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),Qu.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),Qu.multiply(t.parent.matrixWorld)),t.applyMatrix4(Qu),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,r){if(this[t]===r)return this;for(let n=0,c=this.children.length;n<c;n++){const y=this.children[n].getObjectByProperty(t,r);if(y!==void 0)return y}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Om,t,aV),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Om,lV,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return t.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(t){t(this);const r=this.children;for(let n=0,c=r.length;n<c;n++)r[n].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const r=this.children;for(let n=0,c=r.length;n<c;n++)r[n].traverseVisible(t)}traverseAncestors(t){const r=this.parent;r!==null&&(t(r),r.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const r=this.children;for(let n=0,c=r.length;n<c;n++)r[n].updateMatrixWorld(t)}updateWorldMatrix(t,r){const n=this.parent;if(t===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),r===!0){const c=this.children;for(let p=0,y=c.length;p<y;p++)c[p].updateWorldMatrix(!1,!0)}}toJSON(t){const r=t===void 0||typeof t=="string",n={};r&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const c={};c.uuid=this.uuid,c.type=this.type,this.name!==""&&(c.name=this.name),this.castShadow===!0&&(c.castShadow=!0),this.receiveShadow===!0&&(c.receiveShadow=!0),this.visible===!1&&(c.visible=!1),this.frustumCulled===!1&&(c.frustumCulled=!1),this.renderOrder!==0&&(c.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(c.userData=this.userData),c.layers=this.layers.mask,c.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(c.matrixAutoUpdate=!1),this.isInstancedMesh&&(c.type="InstancedMesh",c.count=this.count,c.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(c.instanceColor=this.instanceColor.toJSON()));function p(v,E){return v[E.uuid]===void 0&&(v[E.uuid]=E.toJSON(t)),E.uuid}if(this.isScene)this.background&&(this.background.isColor?c.background=this.background.toJSON():this.background.isTexture&&(c.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&(c.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){c.geometry=p(t.geometries,this.geometry);const v=this.geometry.parameters;if(v!==void 0&&v.shapes!==void 0){const E=v.shapes;if(Array.isArray(E))for(let _=0,k=E.length;_<k;_++){const R=E[_];p(t.shapes,R)}else p(t.shapes,E)}}if(this.isSkinnedMesh&&(c.bindMode=this.bindMode,c.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(p(t.skeletons,this.skeleton),c.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const v=[];for(let E=0,_=this.material.length;E<_;E++)v.push(p(t.materials,this.material[E]));c.material=v}else c.material=p(t.materials,this.material);if(this.children.length>0){c.children=[];for(let v=0;v<this.children.length;v++)c.children.push(this.children[v].toJSON(t).object)}if(this.animations.length>0){c.animations=[];for(let v=0;v<this.animations.length;v++){const E=this.animations[v];c.animations.push(p(t.animations,E))}}if(r){const v=y(t.geometries),E=y(t.materials),_=y(t.textures),k=y(t.images),R=y(t.shapes),B=y(t.skeletons),M=y(t.animations),F=y(t.nodes);v.length>0&&(n.geometries=v),E.length>0&&(n.materials=E),_.length>0&&(n.textures=_),k.length>0&&(n.images=k),R.length>0&&(n.shapes=R),B.length>0&&(n.skeletons=B),M.length>0&&(n.animations=M),F.length>0&&(n.nodes=F)}return n.object=c,n;function y(v){const E=[];for(const _ in v){const k=v[_];delete k.metadata,E.push(k)}return E}}clone(t){return new this.constructor().copy(this,t)}copy(t,r=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),r===!0)for(let n=0;n<t.children.length;n++){const c=t.children[n];this.add(c.clone())}return this}}Rn.DefaultUp=new wt(0,1,0);Rn.DefaultMatrixAutoUpdate=!0;Rn.prototype.isObject3D=!0;const mf=new wt,Ju=new wt,mx=new wt,Xu=new wt,ep=new wt,tp=new wt,JC=new wt,gx=new wt,bx=new wt,yx=new wt;class fo{constructor(t=new wt,r=new wt,n=new wt){this.a=t,this.b=r,this.c=n}static getNormal(t,r,n,c){c.subVectors(n,r),mf.subVectors(t,r),c.cross(mf);const p=c.lengthSq();return p>0?c.multiplyScalar(1/Math.sqrt(p)):c.set(0,0,0)}static getBarycoord(t,r,n,c,p){mf.subVectors(c,r),Ju.subVectors(n,r),mx.subVectors(t,r);const y=mf.dot(mf),v=mf.dot(Ju),E=mf.dot(mx),_=Ju.dot(Ju),k=Ju.dot(mx),R=y*_-v*v;if(R===0)return p.set(-2,-1,-1);const B=1/R,M=(_*E-v*k)*B,F=(y*k-v*E)*B;return p.set(1-M-F,F,M)}static containsPoint(t,r,n,c){return this.getBarycoord(t,r,n,c,Xu),Xu.x>=0&&Xu.y>=0&&Xu.x+Xu.y<=1}static getUV(t,r,n,c,p,y,v,E){return this.getBarycoord(t,r,n,c,Xu),E.set(0,0),E.addScaledVector(p,Xu.x),E.addScaledVector(y,Xu.y),E.addScaledVector(v,Xu.z),E}static isFrontFacing(t,r,n,c){return mf.subVectors(n,r),Ju.subVectors(t,r),mf.cross(Ju).dot(c)<0}set(t,r,n){return this.a.copy(t),this.b.copy(r),this.c.copy(n),this}setFromPointsAndIndices(t,r,n,c){return this.a.copy(t[r]),this.b.copy(t[n]),this.c.copy(t[c]),this}setFromAttributeAndIndices(t,r,n,c){return this.a.fromBufferAttribute(t,r),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,c),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return mf.subVectors(this.c,this.b),Ju.subVectors(this.a,this.b),mf.cross(Ju).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return fo.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,r){return fo.getBarycoord(t,this.a,this.b,this.c,r)}getUV(t,r,n,c,p){return fo.getUV(t,this.a,this.b,this.c,r,n,c,p)}containsPoint(t){return fo.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return fo.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,r){const n=this.a,c=this.b,p=this.c;let y,v;ep.subVectors(c,n),tp.subVectors(p,n),gx.subVectors(t,n);const E=ep.dot(gx),_=tp.dot(gx);if(E<=0&&_<=0)return r.copy(n);bx.subVectors(t,c);const k=ep.dot(bx),R=tp.dot(bx);if(k>=0&&R<=k)return r.copy(c);const B=E*R-k*_;if(B<=0&&E>=0&&k<=0)return y=E/(E-k),r.copy(n).addScaledVector(ep,y);yx.subVectors(t,p);const M=ep.dot(yx),F=tp.dot(yx);if(F>=0&&M<=F)return r.copy(p);const H=M*_-E*F;if(H<=0&&_>=0&&F<=0)return v=_/(_-F),r.copy(n).addScaledVector(tp,v);const U=k*F-M*R;if(U<=0&&R-k>=0&&M-F>=0)return JC.subVectors(p,c),v=(R-k)/(R-k+(M-F)),r.copy(c).addScaledVector(JC,v);const Z=1/(U+H+B);return y=H*Z,v=B*Z,r.copy(n).addScaledVector(ep,y).addScaledVector(tp,v)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let uV=0;class Ds extends dc{constructor(){super(),Object.defineProperty(this,"id",{value:uV++}),this.uuid=Cl(),this.name="",this.type="Material",this.blending=Od,this.side=_h,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=XE,this.blendDst=qE,this.blendEquation=Id,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=tw,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=A7,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Iv,this.stencilZFail=Iv,this.stencilZPass=Iv,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const r in t){const n=t[r];if(n===void 0){console.warn("THREE.Material: '"+r+"' parameter is undefined.");continue}if(r==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===JE;continue}const c=this[r];if(c===void 0){console.warn("THREE."+this.type+": '"+r+"' is not a property of this material.");continue}c&&c.isColor?c.set(n):c&&c.isVector3&&n&&n.isVector3?c.copy(n):this[r]=n}}toJSON(t){const r=t===void 0||typeof t=="string";r&&(t={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Od&&(n.blending=this.blending),this.side!==_h&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(n.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=this.flatShading),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function c(p){const y=[];for(const v in p){const E=p[v];delete E.metadata,y.push(E)}return y}if(r){const p=c(t.textures),y=c(t.images);p.length>0&&(n.textures=p),y.length>0&&(n.images=y)}return n}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const r=t.clippingPlanes;let n=null;if(r!==null){const c=r.length;n=new Array(c);for(let p=0;p!==c;++p)n[p]=r[p].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}Ds.prototype.isMaterial=!0;Ds.fromType=function(){return null};class Us extends Ds{constructor(t){super(),this.type="MeshBasicMaterial",this.color=new _i(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Qg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}Us.prototype.isMeshBasicMaterial=!0;const Ao=new wt,T4=new $r;class d0{constructor(t,r,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=r,this.count=t!==void 0?t.length/r:0,this.normalized=n===!0,this.usage=Gp,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}copyAt(t,r,n){t*=this.itemSize,n*=r.itemSize;for(let c=0,p=this.itemSize;c<p;c++)this.array[t+c]=r.array[n+c];return this}copyArray(t){return this.array.set(t),this}copyColorsArray(t){const r=this.array;let n=0;for(let c=0,p=t.length;c<p;c++){let y=t[c];y===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",c),y=new _i),r[n++]=y.r,r[n++]=y.g,r[n++]=y.b}return this}copyVector2sArray(t){const r=this.array;let n=0;for(let c=0,p=t.length;c<p;c++){let y=t[c];y===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",c),y=new $r),r[n++]=y.x,r[n++]=y.y}return this}copyVector3sArray(t){const r=this.array;let n=0;for(let c=0,p=t.length;c<p;c++){let y=t[c];y===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",c),y=new wt),r[n++]=y.x,r[n++]=y.y,r[n++]=y.z}return this}copyVector4sArray(t){const r=this.array;let n=0;for(let c=0,p=t.length;c<p;c++){let y=t[c];y===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",c),y=new j0),r[n++]=y.x,r[n++]=y.y,r[n++]=y.z,r[n++]=y.w}return this}applyMatrix3(t){if(this.itemSize===2)for(let r=0,n=this.count;r<n;r++)T4.fromBufferAttribute(this,r),T4.applyMatrix3(t),this.setXY(r,T4.x,T4.y);else if(this.itemSize===3)for(let r=0,n=this.count;r<n;r++)Ao.fromBufferAttribute(this,r),Ao.applyMatrix3(t),this.setXYZ(r,Ao.x,Ao.y,Ao.z);return this}applyMatrix4(t){for(let r=0,n=this.count;r<n;r++)Ao.fromBufferAttribute(this,r),Ao.applyMatrix4(t),this.setXYZ(r,Ao.x,Ao.y,Ao.z);return this}applyNormalMatrix(t){for(let r=0,n=this.count;r<n;r++)Ao.fromBufferAttribute(this,r),Ao.applyNormalMatrix(t),this.setXYZ(r,Ao.x,Ao.y,Ao.z);return this}transformDirection(t){for(let r=0,n=this.count;r<n;r++)Ao.fromBufferAttribute(this,r),Ao.transformDirection(t),this.setXYZ(r,Ao.x,Ao.y,Ao.z);return this}set(t,r=0){return this.array.set(t,r),this}getX(t){return this.array[t*this.itemSize]}setX(t,r){return this.array[t*this.itemSize]=r,this}getY(t){return this.array[t*this.itemSize+1]}setY(t,r){return this.array[t*this.itemSize+1]=r,this}getZ(t){return this.array[t*this.itemSize+2]}setZ(t,r){return this.array[t*this.itemSize+2]=r,this}getW(t){return this.array[t*this.itemSize+3]}setW(t,r){return this.array[t*this.itemSize+3]=r,this}setXY(t,r,n){return t*=this.itemSize,this.array[t+0]=r,this.array[t+1]=n,this}setXYZ(t,r,n,c){return t*=this.itemSize,this.array[t+0]=r,this.array[t+1]=n,this.array[t+2]=c,this}setXYZW(t,r,n,c,p){return t*=this.itemSize,this.array[t+0]=r,this.array[t+1]=n,this.array[t+2]=c,this.array[t+3]=p,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==Gp&&(t.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(t.updateRange=this.updateRange),t}}d0.prototype.isBufferAttribute=!0;class T7 extends d0{constructor(t,r,n){super(new Int8Array(t),r,n)}}class M7 extends d0{constructor(t,r,n){super(new Uint8Array(t),r,n)}}class R7 extends d0{constructor(t,r,n){super(new Uint8ClampedArray(t),r,n)}}class D7 extends d0{constructor(t,r,n){super(new Int16Array(t),r,n)}}class Rw extends d0{constructor(t,r,n){super(new Uint16Array(t),r,n)}}class B7 extends d0{constructor(t,r,n){super(new Int32Array(t),r,n)}}class Dw extends d0{constructor(t,r,n){super(new Uint32Array(t),r,n)}}class I7 extends d0{constructor(t,r,n){super(new Uint16Array(t),r,n)}}I7.prototype.isFloat16BufferAttribute=!0;class $i extends d0{constructor(t,r,n){super(new Float32Array(t),r,n)}}class L7 extends d0{constructor(t,r,n){super(new Float64Array(t),r,n)}}let cV=0;const Ul=new Ji,vx=new Rn,rp=new wt,ml=new na,Hm=new na,jo=new wt;class wn extends dc{constructor(){super(),Object.defineProperty(this,"id",{value:cV++}),this.uuid=Cl(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(E7(t)?Dw:Rw)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,r){return this.attributes[t]=r,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,r,n=0){this.groups.push({start:t,count:r,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,r){this.drawRange.start=t,this.drawRange.count=r}applyMatrix4(t){const r=this.attributes.position;r!==void 0&&(r.applyMatrix4(t),r.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const p=new Zs().getNormalMatrix(t);n.applyNormalMatrix(p),n.needsUpdate=!0}const c=this.attributes.tangent;return c!==void 0&&(c.transformDirection(t),c.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return Ul.makeRotationFromQuaternion(t),this.applyMatrix4(Ul),this}rotateX(t){return Ul.makeRotationX(t),this.applyMatrix4(Ul),this}rotateY(t){return Ul.makeRotationY(t),this.applyMatrix4(Ul),this}rotateZ(t){return Ul.makeRotationZ(t),this.applyMatrix4(Ul),this}translate(t,r,n){return Ul.makeTranslation(t,r,n),this.applyMatrix4(Ul),this}scale(t,r,n){return Ul.makeScale(t,r,n),this.applyMatrix4(Ul),this}lookAt(t){return vx.lookAt(t),vx.updateMatrix(),this.applyMatrix4(vx.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(rp).negate(),this.translate(rp.x,rp.y,rp.z),this}setFromPoints(t){const r=[];for(let n=0,c=t.length;n<c;n++){const p=t[n];r.push(p.x,p.y,p.z||0)}return this.setAttribute("position",new $i(r,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new na);const t=this.attributes.position,r=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new wt(-1/0,-1/0,-1/0),new wt(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),r)for(let n=0,c=r.length;n<c;n++){const p=r[n];ml.setFromBufferAttribute(p),this.morphTargetsRelative?(jo.addVectors(this.boundingBox.min,ml.min),this.boundingBox.expandByPoint(jo),jo.addVectors(this.boundingBox.max,ml.max),this.boundingBox.expandByPoint(jo)):(this.boundingBox.expandByPoint(ml.min),this.boundingBox.expandByPoint(ml.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Mu);const t=this.attributes.position,r=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new wt,1/0);return}if(t){const n=this.boundingSphere.center;if(ml.setFromBufferAttribute(t),r)for(let p=0,y=r.length;p<y;p++){const v=r[p];Hm.setFromBufferAttribute(v),this.morphTargetsRelative?(jo.addVectors(ml.min,Hm.min),ml.expandByPoint(jo),jo.addVectors(ml.max,Hm.max),ml.expandByPoint(jo)):(ml.expandByPoint(Hm.min),ml.expandByPoint(Hm.max))}ml.getCenter(n);let c=0;for(let p=0,y=t.count;p<y;p++)jo.fromBufferAttribute(t,p),c=Math.max(c,n.distanceToSquared(jo));if(r)for(let p=0,y=r.length;p<y;p++){const v=r[p],E=this.morphTargetsRelative;for(let _=0,k=v.count;_<k;_++)jo.fromBufferAttribute(v,_),E&&(rp.fromBufferAttribute(t,_),jo.add(rp)),c=Math.max(c,n.distanceToSquared(jo))}this.boundingSphere.radius=Math.sqrt(c),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,r=this.attributes;if(t===null||r.position===void 0||r.normal===void 0||r.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.array,c=r.position.array,p=r.normal.array,y=r.uv.array,v=c.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new d0(new Float32Array(4*v),4));const E=this.getAttribute("tangent").array,_=[],k=[];for(let ye=0;ye<v;ye++)_[ye]=new wt,k[ye]=new wt;const R=new wt,B=new wt,M=new wt,F=new $r,H=new $r,U=new $r,Z=new wt,K=new wt;function fe(ye,de,xe){R.fromArray(c,ye*3),B.fromArray(c,de*3),M.fromArray(c,xe*3),F.fromArray(y,ye*2),H.fromArray(y,de*2),U.fromArray(y,xe*2),B.sub(R),M.sub(R),H.sub(F),U.sub(F);const le=1/(H.x*U.y-U.x*H.y);!isFinite(le)||(Z.copy(B).multiplyScalar(U.y).addScaledVector(M,-H.y).multiplyScalar(le),K.copy(M).multiplyScalar(H.x).addScaledVector(B,-U.x).multiplyScalar(le),_[ye].add(Z),_[de].add(Z),_[xe].add(Z),k[ye].add(K),k[de].add(K),k[xe].add(K))}let oe=this.groups;oe.length===0&&(oe=[{start:0,count:n.length}]);for(let ye=0,de=oe.length;ye<de;++ye){const xe=oe[ye],le=xe.start,re=xe.count;for(let he=le,me=le+re;he<me;he+=3)fe(n[he+0],n[he+1],n[he+2])}const we=new wt,be=new wt,ve=new wt,ne=new wt;function ae(ye){ve.fromArray(p,ye*3),ne.copy(ve);const de=_[ye];we.copy(de),we.sub(ve.multiplyScalar(ve.dot(de))).normalize(),be.crossVectors(ne,de);const le=be.dot(k[ye])<0?-1:1;E[ye*4]=we.x,E[ye*4+1]=we.y,E[ye*4+2]=we.z,E[ye*4+3]=le}for(let ye=0,de=oe.length;ye<de;++ye){const xe=oe[ye],le=xe.start,re=xe.count;for(let he=le,me=le+re;he<me;he+=3)ae(n[he+0]),ae(n[he+1]),ae(n[he+2])}}computeVertexNormals(){const t=this.index,r=this.getAttribute("position");if(r!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new d0(new Float32Array(r.count*3),3),this.setAttribute("normal",n);else for(let B=0,M=n.count;B<M;B++)n.setXYZ(B,0,0,0);const c=new wt,p=new wt,y=new wt,v=new wt,E=new wt,_=new wt,k=new wt,R=new wt;if(t)for(let B=0,M=t.count;B<M;B+=3){const F=t.getX(B+0),H=t.getX(B+1),U=t.getX(B+2);c.fromBufferAttribute(r,F),p.fromBufferAttribute(r,H),y.fromBufferAttribute(r,U),k.subVectors(y,p),R.subVectors(c,p),k.cross(R),v.fromBufferAttribute(n,F),E.fromBufferAttribute(n,H),_.fromBufferAttribute(n,U),v.add(k),E.add(k),_.add(k),n.setXYZ(F,v.x,v.y,v.z),n.setXYZ(H,E.x,E.y,E.z),n.setXYZ(U,_.x,_.y,_.z)}else for(let B=0,M=r.count;B<M;B+=3)c.fromBufferAttribute(r,B+0),p.fromBufferAttribute(r,B+1),y.fromBufferAttribute(r,B+2),k.subVectors(y,p),R.subVectors(c,p),k.cross(R),n.setXYZ(B+0,k.x,k.y,k.z),n.setXYZ(B+1,k.x,k.y,k.z),n.setXYZ(B+2,k.x,k.y,k.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(t,r){if(!(t&&t.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);return}r===void 0&&(r=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const c in n){if(t.attributes[c]===void 0)continue;const y=n[c].array,v=t.attributes[c],E=v.array,_=v.itemSize*r,k=Math.min(E.length,y.length-_);for(let R=0,B=_;R<k;R++,B++)y[B]=E[R]}return this}normalizeNormals(){const t=this.attributes.normal;for(let r=0,n=t.count;r<n;r++)jo.fromBufferAttribute(t,r),jo.normalize(),t.setXYZ(r,jo.x,jo.y,jo.z)}toNonIndexed(){function t(v,E){const _=v.array,k=v.itemSize,R=v.normalized,B=new _.constructor(E.length*k);let M=0,F=0;for(let H=0,U=E.length;H<U;H++){v.isInterleavedBufferAttribute?M=E[H]*v.data.stride+v.offset:M=E[H]*k;for(let Z=0;Z<k;Z++)B[F++]=_[M++]}return new d0(B,k,R)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const r=new wn,n=this.index.array,c=this.attributes;for(const v in c){const E=c[v],_=t(E,n);r.setAttribute(v,_)}const p=this.morphAttributes;for(const v in p){const E=[],_=p[v];for(let k=0,R=_.length;k<R;k++){const B=_[k],M=t(B,n);E.push(M)}r.morphAttributes[v]=E}r.morphTargetsRelative=this.morphTargetsRelative;const y=this.groups;for(let v=0,E=y.length;v<E;v++){const _=y[v];r.addGroup(_.start,_.count,_.materialIndex)}return r}toJSON(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const E=this.parameters;for(const _ in E)E[_]!==void 0&&(t[_]=E[_]);return t}t.data={attributes:{}};const r=this.index;r!==null&&(t.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});const n=this.attributes;for(const E in n){const _=n[E];t.data.attributes[E]=_.toJSON(t.data)}const c={};let p=!1;for(const E in this.morphAttributes){const _=this.morphAttributes[E],k=[];for(let R=0,B=_.length;R<B;R++){const M=_[R];k.push(M.toJSON(t.data))}k.length>0&&(c[E]=k,p=!0)}p&&(t.data.morphAttributes=c,t.data.morphTargetsRelative=this.morphTargetsRelative);const y=this.groups;y.length>0&&(t.data.groups=JSON.parse(JSON.stringify(y)));const v=this.boundingSphere;return v!==null&&(t.data.boundingSphere={center:v.center.toArray(),radius:v.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const r={};this.name=t.name;const n=t.index;n!==null&&this.setIndex(n.clone(r));const c=t.attributes;for(const _ in c){const k=c[_];this.setAttribute(_,k.clone(r))}const p=t.morphAttributes;for(const _ in p){const k=[],R=p[_];for(let B=0,M=R.length;B<M;B++)k.push(R[B].clone(r));this.morphAttributes[_]=k}this.morphTargetsRelative=t.morphTargetsRelative;const y=t.groups;for(let _=0,k=y.length;_<k;_++){const R=y[_];this.addGroup(R.start,R.count,R.materialIndex)}const v=t.boundingBox;v!==null&&(this.boundingBox=v.clone());const E=t.boundingSphere;return E!==null&&(this.boundingSphere=E.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,t.parameters!==void 0&&(this.parameters=Object.assign({},t.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}wn.prototype.isBufferGeometry=!0;const XC=new Ji,ip=new Nh,wx=new Mu,eh=new wt,th=new wt,rh=new wt,Ax=new wt,xx=new wt,Ex=new wt,M4=new wt,R4=new wt,D4=new wt,B4=new $r,I4=new $r,L4=new $r,_x=new wt,P4=new wt;class Kr extends Rn{constructor(t=new wn,r=new Us){super(),this.type="Mesh",this.geometry=t,this.material=r,this.updateMorphTargets()}copy(t){return super.copy(t),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const r=t.morphAttributes,n=Object.keys(r);if(n.length>0){const c=r[n[0]];if(c!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let p=0,y=c.length;p<y;p++){const v=c[p].name||String(p);this.morphTargetInfluences.push(0),this.morphTargetDictionary[v]=p}}}}else{const r=t.morphTargets;r!==void 0&&r.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(t,r){const n=this.geometry,c=this.material,p=this.matrixWorld;if(c===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),wx.copy(n.boundingSphere),wx.applyMatrix4(p),t.ray.intersectsSphere(wx)===!1)||(XC.copy(p).invert(),ip.copy(t.ray).applyMatrix4(XC),n.boundingBox!==null&&ip.intersectsBox(n.boundingBox)===!1))return;let y;if(n.isBufferGeometry){const v=n.index,E=n.attributes.position,_=n.morphAttributes.position,k=n.morphTargetsRelative,R=n.attributes.uv,B=n.attributes.uv2,M=n.groups,F=n.drawRange;if(v!==null)if(Array.isArray(c))for(let H=0,U=M.length;H<U;H++){const Z=M[H],K=c[Z.materialIndex],fe=Math.max(Z.start,F.start),oe=Math.min(v.count,Math.min(Z.start+Z.count,F.start+F.count));for(let we=fe,be=oe;we<be;we+=3){const ve=v.getX(we),ne=v.getX(we+1),ae=v.getX(we+2);y=N4(this,K,t,ip,E,_,k,R,B,ve,ne,ae),y&&(y.faceIndex=Math.floor(we/3),y.face.materialIndex=Z.materialIndex,r.push(y))}}else{const H=Math.max(0,F.start),U=Math.min(v.count,F.start+F.count);for(let Z=H,K=U;Z<K;Z+=3){const fe=v.getX(Z),oe=v.getX(Z+1),we=v.getX(Z+2);y=N4(this,c,t,ip,E,_,k,R,B,fe,oe,we),y&&(y.faceIndex=Math.floor(Z/3),r.push(y))}}else if(E!==void 0)if(Array.isArray(c))for(let H=0,U=M.length;H<U;H++){const Z=M[H],K=c[Z.materialIndex],fe=Math.max(Z.start,F.start),oe=Math.min(E.count,Math.min(Z.start+Z.count,F.start+F.count));for(let we=fe,be=oe;we<be;we+=3){const ve=we,ne=we+1,ae=we+2;y=N4(this,K,t,ip,E,_,k,R,B,ve,ne,ae),y&&(y.faceIndex=Math.floor(we/3),y.face.materialIndex=Z.materialIndex,r.push(y))}}else{const H=Math.max(0,F.start),U=Math.min(E.count,F.start+F.count);for(let Z=H,K=U;Z<K;Z+=3){const fe=Z,oe=Z+1,we=Z+2;y=N4(this,c,t,ip,E,_,k,R,B,fe,oe,we),y&&(y.faceIndex=Math.floor(Z/3),r.push(y))}}}else n.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}Kr.prototype.isMesh=!0;function hV(a,t,r,n,c,p,y,v){let E;if(t.side===Ja?E=n.intersectTriangle(y,p,c,!0,v):E=n.intersectTriangle(c,p,y,t.side!==Lf,v),E===null)return null;P4.copy(v),P4.applyMatrix4(a.matrixWorld);const _=r.ray.origin.distanceTo(P4);return _<r.near||_>r.far?null:{distance:_,point:P4.clone(),object:a}}function N4(a,t,r,n,c,p,y,v,E,_,k,R){eh.fromBufferAttribute(c,_),th.fromBufferAttribute(c,k),rh.fromBufferAttribute(c,R);const B=a.morphTargetInfluences;if(p&&B){M4.set(0,0,0),R4.set(0,0,0),D4.set(0,0,0);for(let F=0,H=p.length;F<H;F++){const U=B[F],Z=p[F];U!==0&&(Ax.fromBufferAttribute(Z,_),xx.fromBufferAttribute(Z,k),Ex.fromBufferAttribute(Z,R),y?(M4.addScaledVector(Ax,U),R4.addScaledVector(xx,U),D4.addScaledVector(Ex,U)):(M4.addScaledVector(Ax.sub(eh),U),R4.addScaledVector(xx.sub(th),U),D4.addScaledVector(Ex.sub(rh),U)))}eh.add(M4),th.add(R4),rh.add(D4)}a.isSkinnedMesh&&(a.boneTransform(_,eh),a.boneTransform(k,th),a.boneTransform(R,rh));const M=hV(a,t,r,n,eh,th,rh,_x);if(M){v&&(B4.fromBufferAttribute(v,_),I4.fromBufferAttribute(v,k),L4.fromBufferAttribute(v,R),M.uv=fo.getUV(_x,eh,th,rh,B4,I4,L4,new $r)),E&&(B4.fromBufferAttribute(E,_),I4.fromBufferAttribute(E,k),L4.fromBufferAttribute(E,R),M.uv2=fo.getUV(_x,eh,th,rh,B4,I4,L4,new $r));const F={a:_,b:k,c:R,normal:new wt,materialIndex:0};fo.getNormal(eh,th,rh,F.normal),M.face=F}return M}class fs extends wn{constructor(t=1,r=1,n=1,c=1,p=1,y=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:r,depth:n,widthSegments:c,heightSegments:p,depthSegments:y};const v=this;c=Math.floor(c),p=Math.floor(p),y=Math.floor(y);const E=[],_=[],k=[],R=[];let B=0,M=0;F("z","y","x",-1,-1,n,r,t,y,p,0),F("z","y","x",1,-1,n,r,-t,y,p,1),F("x","z","y",1,1,t,n,r,c,y,2),F("x","z","y",1,-1,t,n,-r,c,y,3),F("x","y","z",1,-1,t,r,n,c,p,4),F("x","y","z",-1,-1,t,r,-n,c,p,5),this.setIndex(E),this.setAttribute("position",new $i(_,3)),this.setAttribute("normal",new $i(k,3)),this.setAttribute("uv",new $i(R,2));function F(H,U,Z,K,fe,oe,we,be,ve,ne,ae){const ye=oe/ve,de=we/ne,xe=oe/2,le=we/2,re=be/2,he=ve+1,me=ne+1;let Re=0,Ie=0;const Ne=new wt;for(let Qe=0;Qe<me;Qe++){const Ue=Qe*de-le;for(let ce=0;ce<he;ce++){const Me=ce*ye-xe;Ne[H]=Me*K,Ne[U]=Ue*fe,Ne[Z]=re,_.push(Ne.x,Ne.y,Ne.z),Ne[H]=0,Ne[U]=0,Ne[Z]=be>0?1:-1,k.push(Ne.x,Ne.y,Ne.z),R.push(ce/ve),R.push(1-Qe/ne),Re+=1}}for(let Qe=0;Qe<ne;Qe++)for(let Ue=0;Ue<ve;Ue++){const ce=B+Ue+he*Qe,Me=B+Ue+he*(Qe+1),ot=B+(Ue+1)+he*(Qe+1),Se=B+(Ue+1)+he*Qe;E.push(ce,Me,Se),E.push(Me,ot,Se),Ie+=6}v.addGroup(M,Ie,ae),M+=Ie,B+=Re}}static fromJSON(t){return new fs(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Wp(a){const t={};for(const r in a){t[r]={};for(const n in a[r]){const c=a[r][n];c&&(c.isColor||c.isMatrix3||c.isMatrix4||c.isVector2||c.isVector3||c.isVector4||c.isTexture||c.isQuaternion)?t[r][n]=c.clone():Array.isArray(c)?t[r][n]=c.slice():t[r][n]=c}}return t}function ha(a){const t={};for(let r=0;r<a.length;r++){const n=Wp(a[r]);for(const c in n)t[c]=n[c]}return t}const P7={clone:Wp,merge:ha};var dV=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,pV=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Tl extends Ds{constructor(t){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=dV,this.fragmentShader=pV,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&(t.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Wp(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const r=super.toJSON(t);r.glslVersion=this.glslVersion,r.uniforms={};for(const c in this.uniforms){const y=this.uniforms[c].value;y&&y.isTexture?r.uniforms[c]={type:"t",value:y.toJSON(t).uuid}:y&&y.isColor?r.uniforms[c]={type:"c",value:y.getHex()}:y&&y.isVector2?r.uniforms[c]={type:"v2",value:y.toArray()}:y&&y.isVector3?r.uniforms[c]={type:"v3",value:y.toArray()}:y&&y.isVector4?r.uniforms[c]={type:"v4",value:y.toArray()}:y&&y.isMatrix3?r.uniforms[c]={type:"m3",value:y.toArray()}:y&&y.isMatrix4?r.uniforms[c]={type:"m4",value:y.toArray()}:r.uniforms[c]={value:y}}Object.keys(this.defines).length>0&&(r.defines=this.defines),r.vertexShader=this.vertexShader,r.fragmentShader=this.fragmentShader;const n={};for(const c in this.extensions)this.extensions[c]===!0&&(n[c]=!0);return Object.keys(n).length>0&&(r.extensions=n),r}}Tl.prototype.isShaderMaterial=!0;class Xg extends Rn{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Ji,this.projectionMatrix=new Ji,this.projectionMatrixInverse=new Ji}copy(t,r){return super.copy(t,r),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return t.set(-r[8],-r[9],-r[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,r){super.updateWorldMatrix(t,r),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}Xg.prototype.isCamera=!0;class ko extends Xg{constructor(t=50,r=1,n=.1,c=2e3){super(),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=c,this.focus=10,this.aspect=r,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,r){return super.copy(t,r),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const r=.5*this.getFilmHeight()/t;this.fov=Dg*2*Math.atan(r),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(Ud*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return Dg*2*Math.atan(Math.tan(Ud*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,r,n,c,p,y){this.aspect=t/r,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=r,this.view.offsetX=n,this.view.offsetY=c,this.view.width=p,this.view.height=y,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let r=t*Math.tan(Ud*.5*this.fov)/this.zoom,n=2*r,c=this.aspect*n,p=-.5*c;const y=this.view;if(this.view!==null&&this.view.enabled){const E=y.fullWidth,_=y.fullHeight;p+=y.offsetX*c/E,r-=y.offsetY*n/_,c*=y.width/E,n*=y.height/_}const v=this.filmOffset;v!==0&&(p+=t*v/this.getFilmWidth()),this.projectionMatrix.makePerspective(p,p+c,r,r-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const r=super.toJSON(t);return r.object.fov=this.fov,r.object.zoom=this.zoom,r.object.near=this.near,r.object.far=this.far,r.object.focus=this.focus,r.object.aspect=this.aspect,this.view!==null&&(r.object.view=Object.assign({},this.view)),r.object.filmGauge=this.filmGauge,r.object.filmOffset=this.filmOffset,r}}ko.prototype.isPerspectiveCamera=!0;const np=90,sp=1;class Bw extends Rn{constructor(t,r,n){if(super(),this.type="CubeCamera",n.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=n;const c=new ko(np,sp,t,r);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new wt(1,0,0)),this.add(c);const p=new ko(np,sp,t,r);p.layers=this.layers,p.up.set(0,-1,0),p.lookAt(new wt(-1,0,0)),this.add(p);const y=new ko(np,sp,t,r);y.layers=this.layers,y.up.set(0,0,1),y.lookAt(new wt(0,1,0)),this.add(y);const v=new ko(np,sp,t,r);v.layers=this.layers,v.up.set(0,0,-1),v.lookAt(new wt(0,-1,0)),this.add(v);const E=new ko(np,sp,t,r);E.layers=this.layers,E.up.set(0,-1,0),E.lookAt(new wt(0,0,1)),this.add(E);const _=new ko(np,sp,t,r);_.layers=this.layers,_.up.set(0,-1,0),_.lookAt(new wt(0,0,-1)),this.add(_)}update(t,r){this.parent===null&&this.updateMatrixWorld();const n=this.renderTarget,[c,p,y,v,E,_]=this.children,k=t.getRenderTarget(),R=t.toneMapping,B=t.xr.enabled;t.toneMapping=Bf,t.xr.enabled=!1;const M=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(r,c),t.setRenderTarget(n,1),t.render(r,p),t.setRenderTarget(n,2),t.render(r,y),t.setRenderTarget(n,3),t.render(r,v),t.setRenderTarget(n,4),t.render(r,E),n.texture.generateMipmaps=M,t.setRenderTarget(n,5),t.render(r,_),t.setRenderTarget(k),t.toneMapping=R,t.xr.enabled=B,n.texture.needsPMREMUpdate=!0}}class g1 extends Z0{constructor(t,r,n,c,p,y,v,E,_,k){t=t!==void 0?t:[],r=r!==void 0?r:kh,super(t,r,n,c,p,y,v,E,_,k),this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}g1.prototype.isCubeTexture=!0;class Iw extends Ra{constructor(t,r={}){super(t,t,r);const n={width:t,height:t,depth:1},c=[n,n,n,n,n,n];this.texture=new g1(c,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Es}fromEquirectangularTexture(t,r){this.texture.type=r.type,this.texture.encoding=r.encoding,this.texture.generateMipmaps=r.generateMipmaps,this.texture.minFilter=r.minFilter,this.texture.magFilter=r.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},c=new fs(5,5,5),p=new Tl({name:"CubemapFromEquirect",uniforms:Wp(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Ja,blending:sc});p.uniforms.tEquirect.value=r;const y=new Kr(c,p),v=r.minFilter;return r.minFilter===Tu&&(r.minFilter=Es),new Bw(1,10,this).update(t,y),r.minFilter=v,y.geometry.dispose(),y.material.dispose(),this}clear(t,r,n,c){const p=t.getRenderTarget();for(let y=0;y<6;y++)t.setRenderTarget(this,y),t.clear(r,n,c);t.setRenderTarget(p)}}Iw.prototype.isWebGLCubeRenderTarget=!0;const kx=new wt,mV=new wt,gV=new Zs;class cu{constructor(t=new wt(1,0,0),r=0){this.normal=t,this.constant=r}set(t,r){return this.normal.copy(t),this.constant=r,this}setComponents(t,r,n,c){return this.normal.set(t,r,n),this.constant=c,this}setFromNormalAndCoplanarPoint(t,r){return this.normal.copy(t),this.constant=-r.dot(this.normal),this}setFromCoplanarPoints(t,r,n){const c=kx.subVectors(n,r).cross(mV.subVectors(t,r)).normalize();return this.setFromNormalAndCoplanarPoint(c,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,r){return r.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,r){const n=t.delta(kx),c=this.normal.dot(n);if(c===0)return this.distanceToPoint(t.start)===0?r.copy(t.start):null;const p=-(t.start.dot(this.normal)+this.constant)/c;return p<0||p>1?null:r.copy(n).multiplyScalar(p).add(t.start)}intersectsLine(t){const r=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return r<0&&n>0||n<0&&r>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,r){const n=r||gV.getNormalMatrix(t),c=this.coplanarPoint(kx).applyMatrix4(t),p=this.normal.applyMatrix3(n).normalize();return this.constant=-c.dot(p),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}cu.prototype.isPlane=!0;const op=new Mu,F4=new wt;class qg{constructor(t=new cu,r=new cu,n=new cu,c=new cu,p=new cu,y=new cu){this.planes=[t,r,n,c,p,y]}set(t,r,n,c,p,y){const v=this.planes;return v[0].copy(t),v[1].copy(r),v[2].copy(n),v[3].copy(c),v[4].copy(p),v[5].copy(y),this}copy(t){const r=this.planes;for(let n=0;n<6;n++)r[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t){const r=this.planes,n=t.elements,c=n[0],p=n[1],y=n[2],v=n[3],E=n[4],_=n[5],k=n[6],R=n[7],B=n[8],M=n[9],F=n[10],H=n[11],U=n[12],Z=n[13],K=n[14],fe=n[15];return r[0].setComponents(v-c,R-E,H-B,fe-U).normalize(),r[1].setComponents(v+c,R+E,H+B,fe+U).normalize(),r[2].setComponents(v+p,R+_,H+M,fe+Z).normalize(),r[3].setComponents(v-p,R-_,H-M,fe-Z).normalize(),r[4].setComponents(v-y,R-k,H-F,fe-K).normalize(),r[5].setComponents(v+y,R+k,H+F,fe+K).normalize(),this}intersectsObject(t){const r=t.geometry;return r.boundingSphere===null&&r.computeBoundingSphere(),op.copy(r.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(op)}intersectsSprite(t){return op.center.set(0,0,0),op.radius=.7071067811865476,op.applyMatrix4(t.matrixWorld),this.intersectsSphere(op)}intersectsSphere(t){const r=this.planes,n=t.center,c=-t.radius;for(let p=0;p<6;p++)if(r[p].distanceToPoint(n)<c)return!1;return!0}intersectsBox(t){const r=this.planes;for(let n=0;n<6;n++){const c=r[n];if(F4.x=c.normal.x>0?t.max.x:t.min.x,F4.y=c.normal.y>0?t.max.y:t.min.y,F4.z=c.normal.z>0?t.max.z:t.min.z,c.distanceToPoint(F4)<0)return!1}return!0}containsPoint(t){const r=this.planes;for(let n=0;n<6;n++)if(r[n].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function N7(){let a=null,t=!1,r=null,n=null;function c(p,y){r(p,y),n=a.requestAnimationFrame(c)}return{start:function(){t!==!0&&r!==null&&(n=a.requestAnimationFrame(c),t=!0)},stop:function(){a.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(p){r=p},setContext:function(p){a=p}}}function bV(a,t){const r=t.isWebGL2,n=new WeakMap;function c(_,k){const R=_.array,B=_.usage,M=a.createBuffer();a.bindBuffer(k,M),a.bufferData(k,R,B),_.onUploadCallback();let F;if(R instanceof Float32Array)F=5126;else if(R instanceof Uint16Array)if(_.isFloat16BufferAttribute)if(r)F=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else F=5123;else if(R instanceof Int16Array)F=5122;else if(R instanceof Uint32Array)F=5125;else if(R instanceof Int32Array)F=5124;else if(R instanceof Int8Array)F=5120;else if(R instanceof Uint8Array)F=5121;else if(R instanceof Uint8ClampedArray)F=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+R);return{buffer:M,type:F,bytesPerElement:R.BYTES_PER_ELEMENT,version:_.version}}function p(_,k,R){const B=k.array,M=k.updateRange;a.bindBuffer(R,_),M.count===-1?a.bufferSubData(R,0,B):(r?a.bufferSubData(R,M.offset*B.BYTES_PER_ELEMENT,B,M.offset,M.count):a.bufferSubData(R,M.offset*B.BYTES_PER_ELEMENT,B.subarray(M.offset,M.offset+M.count)),M.count=-1)}function y(_){return _.isInterleavedBufferAttribute&&(_=_.data),n.get(_)}function v(_){_.isInterleavedBufferAttribute&&(_=_.data);const k=n.get(_);k&&(a.deleteBuffer(k.buffer),n.delete(_))}function E(_,k){if(_.isGLBufferAttribute){const B=n.get(_);(!B||B.version<_.version)&&n.set(_,{buffer:_.buffer,type:_.type,bytesPerElement:_.elementSize,version:_.version});return}_.isInterleavedBufferAttribute&&(_=_.data);const R=n.get(_);R===void 0?n.set(_,c(_,k)):R.version<_.version&&(p(R.buffer,_,k),R.version=_.version)}return{get:y,remove:v,update:E}}class Lo extends wn{constructor(t=1,r=1,n=1,c=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:r,widthSegments:n,heightSegments:c};const p=t/2,y=r/2,v=Math.floor(n),E=Math.floor(c),_=v+1,k=E+1,R=t/v,B=r/E,M=[],F=[],H=[],U=[];for(let Z=0;Z<k;Z++){const K=Z*B-y;for(let fe=0;fe<_;fe++){const oe=fe*R-p;F.push(oe,-K,0),H.push(0,0,1),U.push(fe/v),U.push(1-Z/E)}}for(let Z=0;Z<E;Z++)for(let K=0;K<v;K++){const fe=K+_*Z,oe=K+_*(Z+1),we=K+1+_*(Z+1),be=K+1+_*Z;M.push(fe,oe,be),M.push(oe,we,be)}this.setIndex(M),this.setAttribute("position",new $i(F,3)),this.setAttribute("normal",new $i(H,3)),this.setAttribute("uv",new $i(U,2))}static fromJSON(t){return new Lo(t.width,t.height,t.widthSegments,t.heightSegments)}}var yV=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,vV=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,wV=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,AV=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,xV=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,EV=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,_V="vec3 transformed = vec3( position );",kV=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,CV=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,SV=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,TV=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,MV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,RV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,DV=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,BV=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,IV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,LV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,PV=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,NV=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,FV=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,OV=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,HV=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,UV=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,VV=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,jV=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,GV="gl_FragColor = linearToOutputTexel( gl_FragColor );",zV=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,WV=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,QV=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,JV=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,XV=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,qV=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ZV=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,YV=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,KV=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,$V=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,ej=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,tj=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,rj=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,ij=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,nj=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,sj=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,oj=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,aj=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,lj=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,fj=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,uj=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,cj=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,hj=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,dj=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,pj=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,mj=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,gj=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,bj=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,yj=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,vj=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,wj=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Aj=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,xj=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ej=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,_j=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,kj=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Cj=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Sj=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Tj=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Mj=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,Rj=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Dj=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Bj=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Ij=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Lj=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,Pj=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Nj=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,Fj=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,Oj=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Hj=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,Uj=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Vj=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,jj=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Gj=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,zj=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Wj=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Qj=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Jj=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Xj=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,qj=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Zj=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Yj=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Kj=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,$j=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,eG=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,tG=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,rG=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,iG=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,nG=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,sG=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,oG=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,aG=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,lG=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,fG=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uG=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,cG=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,hG=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const dG=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,pG=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,mG=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,gG=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,bG=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,yG=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vG=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,wG=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,AG=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,xG=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,EG=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,_G=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,kG=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,CG=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,SG=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,TG=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MG=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,RG=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,DG=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,BG=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,IG=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,LG=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,PG=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,NG=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,FG=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,OG=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,HG=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,UG=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,VG=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,jG=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,GG=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,zG=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,a0={alphamap_fragment:yV,alphamap_pars_fragment:vV,alphatest_fragment:wV,alphatest_pars_fragment:AV,aomap_fragment:xV,aomap_pars_fragment:EV,begin_vertex:_V,beginnormal_vertex:kV,bsdfs:CV,bumpmap_pars_fragment:SV,clipping_planes_fragment:TV,clipping_planes_pars_fragment:MV,clipping_planes_pars_vertex:RV,clipping_planes_vertex:DV,color_fragment:BV,color_pars_fragment:IV,color_pars_vertex:LV,color_vertex:PV,common:NV,cube_uv_reflection_fragment:FV,defaultnormal_vertex:OV,displacementmap_pars_vertex:HV,displacementmap_vertex:UV,emissivemap_fragment:VV,emissivemap_pars_fragment:jV,encodings_fragment:GV,encodings_pars_fragment:zV,envmap_fragment:WV,envmap_common_pars_fragment:QV,envmap_pars_fragment:JV,envmap_pars_vertex:XV,envmap_physical_pars_fragment:sj,envmap_vertex:qV,fog_vertex:ZV,fog_pars_vertex:YV,fog_fragment:KV,fog_pars_fragment:$V,gradientmap_pars_fragment:ej,lightmap_fragment:tj,lightmap_pars_fragment:rj,lights_lambert_vertex:ij,lights_pars_begin:nj,lights_toon_fragment:oj,lights_toon_pars_fragment:aj,lights_phong_fragment:lj,lights_phong_pars_fragment:fj,lights_physical_fragment:uj,lights_physical_pars_fragment:cj,lights_fragment_begin:hj,lights_fragment_maps:dj,lights_fragment_end:pj,logdepthbuf_fragment:mj,logdepthbuf_pars_fragment:gj,logdepthbuf_pars_vertex:bj,logdepthbuf_vertex:yj,map_fragment:vj,map_pars_fragment:wj,map_particle_fragment:Aj,map_particle_pars_fragment:xj,metalnessmap_fragment:Ej,metalnessmap_pars_fragment:_j,morphcolor_vertex:kj,morphnormal_vertex:Cj,morphtarget_pars_vertex:Sj,morphtarget_vertex:Tj,normal_fragment_begin:Mj,normal_fragment_maps:Rj,normal_pars_fragment:Dj,normal_pars_vertex:Bj,normal_vertex:Ij,normalmap_pars_fragment:Lj,clearcoat_normal_fragment_begin:Pj,clearcoat_normal_fragment_maps:Nj,clearcoat_pars_fragment:Fj,output_fragment:Oj,packing:Hj,premultiplied_alpha_fragment:Uj,project_vertex:Vj,dithering_fragment:jj,dithering_pars_fragment:Gj,roughnessmap_fragment:zj,roughnessmap_pars_fragment:Wj,shadowmap_pars_fragment:Qj,shadowmap_pars_vertex:Jj,shadowmap_vertex:Xj,shadowmask_pars_fragment:qj,skinbase_vertex:Zj,skinning_pars_vertex:Yj,skinning_vertex:Kj,skinnormal_vertex:$j,specularmap_fragment:eG,specularmap_pars_fragment:tG,tonemapping_fragment:rG,tonemapping_pars_fragment:iG,transmission_fragment:nG,transmission_pars_fragment:sG,uv_pars_fragment:oG,uv_pars_vertex:aG,uv_vertex:lG,uv2_pars_fragment:fG,uv2_pars_vertex:uG,uv2_vertex:cG,worldpos_vertex:hG,background_vert:dG,background_frag:pG,cube_vert:mG,cube_frag:gG,depth_vert:bG,depth_frag:yG,distanceRGBA_vert:vG,distanceRGBA_frag:wG,equirect_vert:AG,equirect_frag:xG,linedashed_vert:EG,linedashed_frag:_G,meshbasic_vert:kG,meshbasic_frag:CG,meshlambert_vert:SG,meshlambert_frag:TG,meshmatcap_vert:MG,meshmatcap_frag:RG,meshnormal_vert:DG,meshnormal_frag:BG,meshphong_vert:IG,meshphong_frag:LG,meshphysical_vert:PG,meshphysical_frag:NG,meshtoon_vert:FG,meshtoon_frag:OG,points_vert:HG,points_frag:UG,shadow_vert:VG,shadow_frag:jG,sprite_vert:GG,sprite_frag:zG},Oi={common:{diffuse:{value:new _i(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Zs},uv2Transform:{value:new Zs},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new $r(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new _i(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new _i(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Zs}},sprite:{diffuse:{value:new _i(16777215)},opacity:{value:1},center:{value:new $r(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Zs}}},Tf={basic:{uniforms:ha([Oi.common,Oi.specularmap,Oi.envmap,Oi.aomap,Oi.lightmap,Oi.fog]),vertexShader:a0.meshbasic_vert,fragmentShader:a0.meshbasic_frag},lambert:{uniforms:ha([Oi.common,Oi.specularmap,Oi.envmap,Oi.aomap,Oi.lightmap,Oi.emissivemap,Oi.fog,Oi.lights,{emissive:{value:new _i(0)}}]),vertexShader:a0.meshlambert_vert,fragmentShader:a0.meshlambert_frag},phong:{uniforms:ha([Oi.common,Oi.specularmap,Oi.envmap,Oi.aomap,Oi.lightmap,Oi.emissivemap,Oi.bumpmap,Oi.normalmap,Oi.displacementmap,Oi.fog,Oi.lights,{emissive:{value:new _i(0)},specular:{value:new _i(1118481)},shininess:{value:30}}]),vertexShader:a0.meshphong_vert,fragmentShader:a0.meshphong_frag},standard:{uniforms:ha([Oi.common,Oi.envmap,Oi.aomap,Oi.lightmap,Oi.emissivemap,Oi.bumpmap,Oi.normalmap,Oi.displacementmap,Oi.roughnessmap,Oi.metalnessmap,Oi.fog,Oi.lights,{emissive:{value:new _i(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:a0.meshphysical_vert,fragmentShader:a0.meshphysical_frag},toon:{uniforms:ha([Oi.common,Oi.aomap,Oi.lightmap,Oi.emissivemap,Oi.bumpmap,Oi.normalmap,Oi.displacementmap,Oi.gradientmap,Oi.fog,Oi.lights,{emissive:{value:new _i(0)}}]),vertexShader:a0.meshtoon_vert,fragmentShader:a0.meshtoon_frag},matcap:{uniforms:ha([Oi.common,Oi.bumpmap,Oi.normalmap,Oi.displacementmap,Oi.fog,{matcap:{value:null}}]),vertexShader:a0.meshmatcap_vert,fragmentShader:a0.meshmatcap_frag},points:{uniforms:ha([Oi.points,Oi.fog]),vertexShader:a0.points_vert,fragmentShader:a0.points_frag},dashed:{uniforms:ha([Oi.common,Oi.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:a0.linedashed_vert,fragmentShader:a0.linedashed_frag},depth:{uniforms:ha([Oi.common,Oi.displacementmap]),vertexShader:a0.depth_vert,fragmentShader:a0.depth_frag},normal:{uniforms:ha([Oi.common,Oi.bumpmap,Oi.normalmap,Oi.displacementmap,{opacity:{value:1}}]),vertexShader:a0.meshnormal_vert,fragmentShader:a0.meshnormal_frag},sprite:{uniforms:ha([Oi.sprite,Oi.fog]),vertexShader:a0.sprite_vert,fragmentShader:a0.sprite_frag},background:{uniforms:{uvTransform:{value:new Zs},t2D:{value:null}},vertexShader:a0.background_vert,fragmentShader:a0.background_frag},cube:{uniforms:ha([Oi.envmap,{opacity:{value:1}}]),vertexShader:a0.cube_vert,fragmentShader:a0.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:a0.equirect_vert,fragmentShader:a0.equirect_frag},distanceRGBA:{uniforms:ha([Oi.common,Oi.displacementmap,{referencePosition:{value:new wt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:a0.distanceRGBA_vert,fragmentShader:a0.distanceRGBA_frag},shadow:{uniforms:ha([Oi.lights,Oi.fog,{color:{value:new _i(0)},opacity:{value:1}}]),vertexShader:a0.shadow_vert,fragmentShader:a0.shadow_frag}};Tf.physical={uniforms:ha([Tf.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new $r(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new _i(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new $r},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new _i(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new _i(1,1,1)},specularColorMap:{value:null}}]),vertexShader:a0.meshphysical_vert,fragmentShader:a0.meshphysical_frag};function WG(a,t,r,n,c,p){const y=new _i(0);let v=c===!0?0:1,E,_,k=null,R=0,B=null;function M(H,U){let Z=!1,K=U.isScene===!0?U.background:null;K&&K.isTexture&&(K=t.get(K));const fe=a.xr,oe=fe.getSession&&fe.getSession();oe&&oe.environmentBlendMode==="additive"&&(K=null),K===null?F(y,v):K&&K.isColor&&(F(K,1),Z=!0),(a.autoClear||Z)&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil),K&&(K.isCubeTexture||K.mapping===p1)?(_===void 0&&(_=new Kr(new fs(1,1,1),new Tl({name:"BackgroundCubeMaterial",uniforms:Wp(Tf.cube.uniforms),vertexShader:Tf.cube.vertexShader,fragmentShader:Tf.cube.fragmentShader,side:Ja,depthTest:!1,depthWrite:!1,fog:!1})),_.geometry.deleteAttribute("normal"),_.geometry.deleteAttribute("uv"),_.onBeforeRender=function(we,be,ve){this.matrixWorld.copyPosition(ve.matrixWorld)},Object.defineProperty(_.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(_)),_.material.uniforms.envMap.value=K,_.material.uniforms.flipEnvMap.value=K.isCubeTexture&&K.isRenderTargetTexture===!1?-1:1,(k!==K||R!==K.version||B!==a.toneMapping)&&(_.material.needsUpdate=!0,k=K,R=K.version,B=a.toneMapping),_.layers.enableAll(),H.unshift(_,_.geometry,_.material,0,0,null)):K&&K.isTexture&&(E===void 0&&(E=new Kr(new Lo(2,2),new Tl({name:"BackgroundMaterial",uniforms:Wp(Tf.background.uniforms),vertexShader:Tf.background.vertexShader,fragmentShader:Tf.background.fragmentShader,side:_h,depthTest:!1,depthWrite:!1,fog:!1})),E.geometry.deleteAttribute("normal"),Object.defineProperty(E.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(E)),E.material.uniforms.t2D.value=K,K.matrixAutoUpdate===!0&&K.updateMatrix(),E.material.uniforms.uvTransform.value.copy(K.matrix),(k!==K||R!==K.version||B!==a.toneMapping)&&(E.material.needsUpdate=!0,k=K,R=K.version,B=a.toneMapping),E.layers.enableAll(),H.unshift(E,E.geometry,E.material,0,0,null))}function F(H,U){r.buffers.color.setClear(H.r,H.g,H.b,U,p)}return{getClearColor:function(){return y},setClearColor:function(H,U=1){y.set(H),v=U,F(y,v)},getClearAlpha:function(){return v},setClearAlpha:function(H){v=H,F(y,v)},render:M}}function QG(a,t,r,n){const c=a.getParameter(34921),p=n.isWebGL2?null:t.get("OES_vertex_array_object"),y=n.isWebGL2||p!==null,v={},E=U(null);let _=E,k=!1;function R(re,he,me,Re,Ie){let Ne=!1;if(y){const Qe=H(Re,me,he);_!==Qe&&(_=Qe,M(_.object)),Ne=Z(re,Re,me,Ie),Ne&&K(re,Re,me,Ie)}else{const Qe=he.wireframe===!0;(_.geometry!==Re.id||_.program!==me.id||_.wireframe!==Qe)&&(_.geometry=Re.id,_.program=me.id,_.wireframe=Qe,Ne=!0)}Ie!==null&&r.update(Ie,34963),(Ne||k)&&(k=!1,ne(re,he,me,Re),Ie!==null&&a.bindBuffer(34963,r.get(Ie).buffer))}function B(){return n.isWebGL2?a.createVertexArray():p.createVertexArrayOES()}function M(re){return n.isWebGL2?a.bindVertexArray(re):p.bindVertexArrayOES(re)}function F(re){return n.isWebGL2?a.deleteVertexArray(re):p.deleteVertexArrayOES(re)}function H(re,he,me){const Re=me.wireframe===!0;let Ie=v[re.id];Ie===void 0&&(Ie={},v[re.id]=Ie);let Ne=Ie[he.id];Ne===void 0&&(Ne={},Ie[he.id]=Ne);let Qe=Ne[Re];return Qe===void 0&&(Qe=U(B()),Ne[Re]=Qe),Qe}function U(re){const he=[],me=[],Re=[];for(let Ie=0;Ie<c;Ie++)he[Ie]=0,me[Ie]=0,Re[Ie]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:he,enabledAttributes:me,attributeDivisors:Re,object:re,attributes:{},index:null}}function Z(re,he,me,Re){const Ie=_.attributes,Ne=he.attributes;let Qe=0;const Ue=me.getAttributes();for(const ce in Ue)if(Ue[ce].location>=0){const ot=Ie[ce];let Se=Ne[ce];if(Se===void 0&&(ce==="instanceMatrix"&&re.instanceMatrix&&(Se=re.instanceMatrix),ce==="instanceColor"&&re.instanceColor&&(Se=re.instanceColor)),ot===void 0||ot.attribute!==Se||Se&&ot.data!==Se.data)return!0;Qe++}return _.attributesNum!==Qe||_.index!==Re}function K(re,he,me,Re){const Ie={},Ne=he.attributes;let Qe=0;const Ue=me.getAttributes();for(const ce in Ue)if(Ue[ce].location>=0){let ot=Ne[ce];ot===void 0&&(ce==="instanceMatrix"&&re.instanceMatrix&&(ot=re.instanceMatrix),ce==="instanceColor"&&re.instanceColor&&(ot=re.instanceColor));const Se={};Se.attribute=ot,ot&&ot.data&&(Se.data=ot.data),Ie[ce]=Se,Qe++}_.attributes=Ie,_.attributesNum=Qe,_.index=Re}function fe(){const re=_.newAttributes;for(let he=0,me=re.length;he<me;he++)re[he]=0}function oe(re){we(re,0)}function we(re,he){const me=_.newAttributes,Re=_.enabledAttributes,Ie=_.attributeDivisors;me[re]=1,Re[re]===0&&(a.enableVertexAttribArray(re),Re[re]=1),Ie[re]!==he&&((n.isWebGL2?a:t.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](re,he),Ie[re]=he)}function be(){const re=_.newAttributes,he=_.enabledAttributes;for(let me=0,Re=he.length;me<Re;me++)he[me]!==re[me]&&(a.disableVertexAttribArray(me),he[me]=0)}function ve(re,he,me,Re,Ie,Ne){n.isWebGL2===!0&&(me===5124||me===5125)?a.vertexAttribIPointer(re,he,me,Ie,Ne):a.vertexAttribPointer(re,he,me,Re,Ie,Ne)}function ne(re,he,me,Re){if(n.isWebGL2===!1&&(re.isInstancedMesh||Re.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;fe();const Ie=Re.attributes,Ne=me.getAttributes(),Qe=he.defaultAttributeValues;for(const Ue in Ne){const ce=Ne[Ue];if(ce.location>=0){let Me=Ie[Ue];if(Me===void 0&&(Ue==="instanceMatrix"&&re.instanceMatrix&&(Me=re.instanceMatrix),Ue==="instanceColor"&&re.instanceColor&&(Me=re.instanceColor)),Me!==void 0){const ot=Me.normalized,Se=Me.itemSize,Xe=r.get(Me);if(Xe===void 0)continue;const ct=Xe.buffer,$e=Xe.type,Et=Xe.bytesPerElement;if(Me.isInterleavedBufferAttribute){const Dt=Me.data,er=Dt.stride,Gt=Me.offset;if(Dt.isInstancedInterleavedBuffer){for(let Ht=0;Ht<ce.locationSize;Ht++)we(ce.location+Ht,Dt.meshPerAttribute);re.isInstancedMesh!==!0&&Re._maxInstanceCount===void 0&&(Re._maxInstanceCount=Dt.meshPerAttribute*Dt.count)}else for(let Ht=0;Ht<ce.locationSize;Ht++)oe(ce.location+Ht);a.bindBuffer(34962,ct);for(let Ht=0;Ht<ce.locationSize;Ht++)ve(ce.location+Ht,Se/ce.locationSize,$e,ot,er*Et,(Gt+Se/ce.locationSize*Ht)*Et)}else{if(Me.isInstancedBufferAttribute){for(let Dt=0;Dt<ce.locationSize;Dt++)we(ce.location+Dt,Me.meshPerAttribute);re.isInstancedMesh!==!0&&Re._maxInstanceCount===void 0&&(Re._maxInstanceCount=Me.meshPerAttribute*Me.count)}else for(let Dt=0;Dt<ce.locationSize;Dt++)oe(ce.location+Dt);a.bindBuffer(34962,ct);for(let Dt=0;Dt<ce.locationSize;Dt++)ve(ce.location+Dt,Se/ce.locationSize,$e,ot,Se*Et,Se/ce.locationSize*Dt*Et)}}else if(Qe!==void 0){const ot=Qe[Ue];if(ot!==void 0)switch(ot.length){case 2:a.vertexAttrib2fv(ce.location,ot);break;case 3:a.vertexAttrib3fv(ce.location,ot);break;case 4:a.vertexAttrib4fv(ce.location,ot);break;default:a.vertexAttrib1fv(ce.location,ot)}}}}be()}function ae(){xe();for(const re in v){const he=v[re];for(const me in he){const Re=he[me];for(const Ie in Re)F(Re[Ie].object),delete Re[Ie];delete he[me]}delete v[re]}}function ye(re){if(v[re.id]===void 0)return;const he=v[re.id];for(const me in he){const Re=he[me];for(const Ie in Re)F(Re[Ie].object),delete Re[Ie];delete he[me]}delete v[re.id]}function de(re){for(const he in v){const me=v[he];if(me[re.id]===void 0)continue;const Re=me[re.id];for(const Ie in Re)F(Re[Ie].object),delete Re[Ie];delete me[re.id]}}function xe(){le(),k=!0,_!==E&&(_=E,M(_.object))}function le(){E.geometry=null,E.program=null,E.wireframe=!1}return{setup:R,reset:xe,resetDefaultState:le,dispose:ae,releaseStatesOfGeometry:ye,releaseStatesOfProgram:de,initAttributes:fe,enableAttribute:oe,disableUnusedAttributes:be}}function JG(a,t,r,n){const c=n.isWebGL2;let p;function y(_){p=_}function v(_,k){a.drawArrays(p,_,k),r.update(k,p,1)}function E(_,k,R){if(R===0)return;let B,M;if(c)B=a,M="drawArraysInstanced";else if(B=t.get("ANGLE_instanced_arrays"),M="drawArraysInstancedANGLE",B===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}B[M](p,_,k,R),r.update(k,p,R)}this.setMode=y,this.render=v,this.renderInstances=E}function XG(a,t,r){let n;function c(){if(n!==void 0)return n;if(t.has("EXT_texture_filter_anisotropic")===!0){const ve=t.get("EXT_texture_filter_anisotropic");n=a.getParameter(ve.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function p(ve){if(ve==="highp"){if(a.getShaderPrecisionFormat(35633,36338).precision>0&&a.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";ve="mediump"}return ve==="mediump"&&a.getShaderPrecisionFormat(35633,36337).precision>0&&a.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const y=typeof WebGL2RenderingContext!="undefined"&&a instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&a instanceof WebGL2ComputeRenderingContext;let v=r.precision!==void 0?r.precision:"highp";const E=p(v);E!==v&&(console.warn("THREE.WebGLRenderer:",v,"not supported, using",E,"instead."),v=E);const _=y||t.has("WEBGL_draw_buffers"),k=r.logarithmicDepthBuffer===!0,R=a.getParameter(34930),B=a.getParameter(35660),M=a.getParameter(3379),F=a.getParameter(34076),H=a.getParameter(34921),U=a.getParameter(36347),Z=a.getParameter(36348),K=a.getParameter(36349),fe=B>0,oe=y||t.has("OES_texture_float"),we=fe&&oe,be=y?a.getParameter(36183):0;return{isWebGL2:y,drawBuffers:_,getMaxAnisotropy:c,getMaxPrecision:p,precision:v,logarithmicDepthBuffer:k,maxTextures:R,maxVertexTextures:B,maxTextureSize:M,maxCubemapSize:F,maxAttributes:H,maxVertexUniforms:U,maxVaryings:Z,maxFragmentUniforms:K,vertexTextures:fe,floatFragmentTextures:oe,floatVertexTextures:we,maxSamples:be}}function qG(a){const t=this;let r=null,n=0,c=!1,p=!1;const y=new cu,v=new Zs,E={value:null,needsUpdate:!1};this.uniform=E,this.numPlanes=0,this.numIntersection=0,this.init=function(R,B,M){const F=R.length!==0||B||n!==0||c;return c=B,r=k(R,M,0),n=R.length,F},this.beginShadows=function(){p=!0,k(null)},this.endShadows=function(){p=!1,_()},this.setState=function(R,B,M){const F=R.clippingPlanes,H=R.clipIntersection,U=R.clipShadows,Z=a.get(R);if(!c||F===null||F.length===0||p&&!U)p?k(null):_();else{const K=p?0:n,fe=K*4;let oe=Z.clippingState||null;E.value=oe,oe=k(F,B,fe,M);for(let we=0;we!==fe;++we)oe[we]=r[we];Z.clippingState=oe,this.numIntersection=H?this.numPlanes:0,this.numPlanes+=K}};function _(){E.value!==r&&(E.value=r,E.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function k(R,B,M,F){const H=R!==null?R.length:0;let U=null;if(H!==0){if(U=E.value,F!==!0||U===null){const Z=M+H*4,K=B.matrixWorldInverse;v.getNormalMatrix(K),(U===null||U.length<Z)&&(U=new Float32Array(Z));for(let fe=0,oe=M;fe!==H;++fe,oe+=4)y.copy(R[fe]).applyMatrix4(K,v),y.normal.toArray(U,oe),U[oe+3]=y.constant}E.value=U,E.needsUpdate=!0}return t.numPlanes=H,t.numIntersection=0,U}}function ZG(a){let t=new WeakMap;function r(y,v){return v===Wd?y.mapping=kh:v===Sg&&(y.mapping=Ch),y}function n(y){if(y&&y.isTexture&&y.isRenderTargetTexture===!1){const v=y.mapping;if(v===Wd||v===Sg)if(t.has(y)){const E=t.get(y).texture;return r(E,y.mapping)}else{const E=y.image;if(E&&E.height>0){const _=new Iw(E.height/2);return _.fromEquirectangularTexture(a,y),t.set(y,_),y.addEventListener("dispose",c),r(_.texture,y.mapping)}else return null}}return y}function c(y){const v=y.target;v.removeEventListener("dispose",c);const E=t.get(v);E!==void 0&&(t.delete(v),E.dispose())}function p(){t=new WeakMap}return{get:n,dispose:p}}class Fh extends Xg{constructor(t=-1,r=1,n=1,c=-1,p=.1,y=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=r,this.top=n,this.bottom=c,this.near=p,this.far=y,this.updateProjectionMatrix()}copy(t,r){return super.copy(t,r),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,r,n,c,p,y){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=r,this.view.offsetX=n,this.view.offsetY=c,this.view.width=p,this.view.height=y,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),r=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,c=(this.top+this.bottom)/2;let p=n-t,y=n+t,v=c+r,E=c-r;if(this.view!==null&&this.view.enabled){const _=(this.right-this.left)/this.view.fullWidth/this.zoom,k=(this.top-this.bottom)/this.view.fullHeight/this.zoom;p+=_*this.view.offsetX,y=p+_*this.view.width,v-=k*this.view.offsetY,E=v-k*this.view.height}this.projectionMatrix.makeOrthographic(p,y,v,E,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const r=super.toJSON(t);return r.object.zoom=this.zoom,r.object.left=this.left,r.object.right=this.right,r.object.top=this.top,r.object.bottom=this.bottom,r.object.near=this.near,r.object.far=this.far,this.view!==null&&(r.object.view=Object.assign({},this.view)),r}}Fh.prototype.isOrthographicCamera=!0;const _p=4,qC=[.125,.215,.35,.446,.526,.582],Ld=20,Cx=new Fh,ZC=new _i;let Sx=null;const Rd=(1+Math.sqrt(5))/2,ap=1/Rd,YC=[new wt(1,1,1),new wt(-1,1,1),new wt(1,1,-1),new wt(-1,1,-1),new wt(0,Rd,ap),new wt(0,Rd,-ap),new wt(ap,0,Rd),new wt(-ap,0,Rd),new wt(Rd,ap,0),new wt(-Rd,ap,0)];class nw{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,r=0,n=.1,c=100){Sx=this._renderer.getRenderTarget(),this._setSize(256);const p=this._allocateTargets();return p.depthBuffer=!0,this._sceneToCubeUV(t,n,c,p),r>0&&this._blur(p,0,0,r),this._applyPMREM(p),this._cleanup(p),p}fromEquirectangular(t,r=null){return this._fromTexture(t,r)}fromCubemap(t,r=null){return this._fromTexture(t,r)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=eS(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=$C(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(Sx),t.scissorTest=!1,O4(t,0,0,t.width,t.height)}_fromTexture(t,r){t.mapping===kh||t.mapping===Ch?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),Sx=this._renderer.getRenderTarget();const n=r||this._allocateTargets();return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),r=4*this._cubeSize,n={magFilter:Es,minFilter:Es,generateMipmaps:!1,type:Vp,format:Al,encoding:lc,depthBuffer:!1},c=KC(t,r,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=KC(t,r,n);const{_lodMax:p}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=YG(p)),this._blurMaterial=KG(p,t,r)}return c}_compileMaterial(t){const r=new Kr(this._lodPlanes[0],t);this._renderer.compile(r,Cx)}_sceneToCubeUV(t,r,n,c){const v=new ko(90,1,r,n),E=[1,-1,1,1,1,1],_=[1,1,1,-1,-1,-1],k=this._renderer,R=k.autoClear,B=k.toneMapping;k.getClearColor(ZC),k.toneMapping=Bf,k.autoClear=!1;const M=new Us({name:"PMREM.Background",side:Ja,depthWrite:!1,depthTest:!1}),F=new Kr(new fs,M);let H=!1;const U=t.background;U?U.isColor&&(M.color.copy(U),t.background=null,H=!0):(M.color.copy(ZC),H=!0);for(let Z=0;Z<6;Z++){const K=Z%3;K===0?(v.up.set(0,E[Z],0),v.lookAt(_[Z],0,0)):K===1?(v.up.set(0,0,E[Z]),v.lookAt(0,_[Z],0)):(v.up.set(0,E[Z],0),v.lookAt(0,0,_[Z]));const fe=this._cubeSize;O4(c,K*fe,Z>2?fe:0,fe,fe),k.setRenderTarget(c),H&&k.render(F,v),k.render(t,v)}F.geometry.dispose(),F.material.dispose(),k.toneMapping=B,k.autoClear=R,t.background=U}_textureToCubeUV(t,r){const n=this._renderer,c=t.mapping===kh||t.mapping===Ch;c?(this._cubemapMaterial===null&&(this._cubemapMaterial=eS()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=$C());const p=c?this._cubemapMaterial:this._equirectMaterial,y=new Kr(this._lodPlanes[0],p),v=p.uniforms;v.envMap.value=t;const E=this._cubeSize;O4(r,0,0,3*E,2*E),n.setRenderTarget(r),n.render(y,Cx)}_applyPMREM(t){const r=this._renderer,n=r.autoClear;r.autoClear=!1;for(let c=1;c<this._lodPlanes.length;c++){const p=Math.sqrt(this._sigmas[c]*this._sigmas[c]-this._sigmas[c-1]*this._sigmas[c-1]),y=YC[(c-1)%YC.length];this._blur(t,c-1,c,p,y)}r.autoClear=n}_blur(t,r,n,c,p){const y=this._pingPongRenderTarget;this._halfBlur(t,y,r,n,c,"latitudinal",p),this._halfBlur(y,t,n,n,c,"longitudinal",p)}_halfBlur(t,r,n,c,p,y,v){const E=this._renderer,_=this._blurMaterial;y!=="latitudinal"&&y!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const k=3,R=new Kr(this._lodPlanes[c],_),B=_.uniforms,M=this._sizeLods[n]-1,F=isFinite(p)?Math.PI/(2*M):2*Math.PI/(2*Ld-1),H=p/F,U=isFinite(p)?1+Math.floor(k*H):Ld;U>Ld&&console.warn(`sigmaRadians, ${p}, is too large and will clip, as it requested ${U} samples when the maximum is set to ${Ld}`);const Z=[];let K=0;for(let ve=0;ve<Ld;++ve){const ne=ve/H,ae=Math.exp(-ne*ne/2);Z.push(ae),ve===0?K+=ae:ve<U&&(K+=2*ae)}for(let ve=0;ve<Z.length;ve++)Z[ve]=Z[ve]/K;B.envMap.value=t.texture,B.samples.value=U,B.weights.value=Z,B.latitudinal.value=y==="latitudinal",v&&(B.poleAxis.value=v);const{_lodMax:fe}=this;B.dTheta.value=F,B.mipInt.value=fe-n;const oe=this._sizeLods[c],we=3*oe*(c>fe-_p?c-fe+_p:0),be=4*(this._cubeSize-oe);O4(r,we,be,3*oe,2*oe),E.setRenderTarget(r),E.render(R,Cx)}}function YG(a){const t=[],r=[],n=[];let c=a;const p=a-_p+1+qC.length;for(let y=0;y<p;y++){const v=Math.pow(2,c);r.push(v);let E=1/v;y>a-_p?E=qC[y-a+_p-1]:y===0&&(E=0),n.push(E);const _=1/(v-2),k=-_,R=1+_,B=[k,k,R,k,R,R,k,k,R,R,k,R],M=6,F=6,H=3,U=2,Z=1,K=new Float32Array(H*F*M),fe=new Float32Array(U*F*M),oe=new Float32Array(Z*F*M);for(let be=0;be<M;be++){const ve=be%3*2/3-1,ne=be>2?0:-1,ae=[ve,ne,0,ve+2/3,ne,0,ve+2/3,ne+1,0,ve,ne,0,ve+2/3,ne+1,0,ve,ne+1,0];K.set(ae,H*F*be),fe.set(B,U*F*be);const ye=[be,be,be,be,be,be];oe.set(ye,Z*F*be)}const we=new wn;we.setAttribute("position",new d0(K,H)),we.setAttribute("uv",new d0(fe,U)),we.setAttribute("faceIndex",new d0(oe,Z)),t.push(we),c>_p&&c--}return{lodPlanes:t,sizeLods:r,sigmas:n}}function KC(a,t,r){const n=new Ra(a,t,r);return n.texture.mapping=p1,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function O4(a,t,r,n,c){a.viewport.set(t,r,n,c),a.scissor.set(t,r,n,c)}function KG(a,t,r){const n=new Float32Array(Ld),c=new wt(0,1,0);return new Tl({name:"SphericalGaussianBlur",defines:{n:Ld,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/r,CUBEUV_MAX_MIP:`${a}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:c}},vertexShader:r8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:sc,depthTest:!1,depthWrite:!1})}function $C(){return new Tl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:r8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:sc,depthTest:!1,depthWrite:!1})}function eS(){return new Tl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:r8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:sc,depthTest:!1,depthWrite:!1})}function r8(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function $G(a){let t=new WeakMap,r=null;function n(v){if(v&&v.isTexture){const E=v.mapping,_=E===Wd||E===Sg,k=E===kh||E===Ch;if(_||k)if(v.isRenderTargetTexture&&v.needsPMREMUpdate===!0){v.needsPMREMUpdate=!1;let R=t.get(v);return r===null&&(r=new nw(a)),R=_?r.fromEquirectangular(v,R):r.fromCubemap(v,R),t.set(v,R),R.texture}else{if(t.has(v))return t.get(v).texture;{const R=v.image;if(_&&R&&R.height>0||k&&R&&c(R)){r===null&&(r=new nw(a));const B=_?r.fromEquirectangular(v):r.fromCubemap(v);return t.set(v,B),v.addEventListener("dispose",p),B.texture}else return null}}}return v}function c(v){let E=0;const _=6;for(let k=0;k<_;k++)v[k]!==void 0&&E++;return E===_}function p(v){const E=v.target;E.removeEventListener("dispose",p);const _=t.get(E);_!==void 0&&(t.delete(E),_.dispose())}function y(){t=new WeakMap,r!==null&&(r.dispose(),r=null)}return{get:n,dispose:y}}function ez(a){const t={};function r(n){if(t[n]!==void 0)return t[n];let c;switch(n){case"WEBGL_depth_texture":c=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":c=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":c=a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":c=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:c=a.getExtension(n)}return t[n]=c,c}return{has:function(n){return r(n)!==null},init:function(n){n.isWebGL2?r("EXT_color_buffer_float"):(r("WEBGL_depth_texture"),r("OES_texture_float"),r("OES_texture_half_float"),r("OES_texture_half_float_linear"),r("OES_standard_derivatives"),r("OES_element_index_uint"),r("OES_vertex_array_object"),r("ANGLE_instanced_arrays")),r("OES_texture_float_linear"),r("EXT_color_buffer_half_float"),r("WEBGL_multisampled_render_to_texture")},get:function(n){const c=r(n);return c===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),c}}}function tz(a,t,r,n){const c={},p=new WeakMap;function y(R){const B=R.target;B.index!==null&&t.remove(B.index);for(const F in B.attributes)t.remove(B.attributes[F]);B.removeEventListener("dispose",y),delete c[B.id];const M=p.get(B);M&&(t.remove(M),p.delete(B)),n.releaseStatesOfGeometry(B),B.isInstancedBufferGeometry===!0&&delete B._maxInstanceCount,r.memory.geometries--}function v(R,B){return c[B.id]===!0||(B.addEventListener("dispose",y),c[B.id]=!0,r.memory.geometries++),B}function E(R){const B=R.attributes;for(const F in B)t.update(B[F],34962);const M=R.morphAttributes;for(const F in M){const H=M[F];for(let U=0,Z=H.length;U<Z;U++)t.update(H[U],34962)}}function _(R){const B=[],M=R.index,F=R.attributes.position;let H=0;if(M!==null){const K=M.array;H=M.version;for(let fe=0,oe=K.length;fe<oe;fe+=3){const we=K[fe+0],be=K[fe+1],ve=K[fe+2];B.push(we,be,be,ve,ve,we)}}else{const K=F.array;H=F.version;for(let fe=0,oe=K.length/3-1;fe<oe;fe+=3){const we=fe+0,be=fe+1,ve=fe+2;B.push(we,be,be,ve,ve,we)}}const U=new(E7(B)?Dw:Rw)(B,1);U.version=H;const Z=p.get(R);Z&&t.remove(Z),p.set(R,U)}function k(R){const B=p.get(R);if(B){const M=R.index;M!==null&&B.version<M.version&&_(R)}else _(R);return p.get(R)}return{get:v,update:E,getWireframeAttribute:k}}function rz(a,t,r,n){const c=n.isWebGL2;let p;function y(B){p=B}let v,E;function _(B){v=B.type,E=B.bytesPerElement}function k(B,M){a.drawElements(p,M,v,B*E),r.update(M,p,1)}function R(B,M,F){if(F===0)return;let H,U;if(c)H=a,U="drawElementsInstanced";else if(H=t.get("ANGLE_instanced_arrays"),U="drawElementsInstancedANGLE",H===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}H[U](p,M,v,B*E,F),r.update(M,p,F)}this.setMode=y,this.setIndex=_,this.render=k,this.renderInstances=R}function iz(a){const t={geometries:0,textures:0},r={frame:0,calls:0,triangles:0,points:0,lines:0};function n(p,y,v){switch(r.calls++,y){case 4:r.triangles+=v*(p/3);break;case 1:r.lines+=v*(p/2);break;case 3:r.lines+=v*(p-1);break;case 2:r.lines+=v*p;break;case 0:r.points+=v*p;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",y);break}}function c(){r.frame++,r.calls=0,r.triangles=0,r.points=0,r.lines=0}return{memory:t,render:r,programs:null,autoReset:!0,reset:c,update:n}}function nz(a,t){return a[0]-t[0]}function sz(a,t){return Math.abs(t[1])-Math.abs(a[1])}function Tx(a,t){let r=1;const n=t.isInterleavedBufferAttribute?t.data.array:t.array;n instanceof Int8Array?r=127:n instanceof Int16Array?r=32767:n instanceof Int32Array?r=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",n),a.divideScalar(r)}function oz(a,t,r){const n={},c=new Float32Array(8),p=new WeakMap,y=new j0,v=[];for(let _=0;_<8;_++)v[_]=[_,0];function E(_,k,R,B){const M=_.morphTargetInfluences;if(t.isWebGL2===!0){const F=k.morphAttributes.position||k.morphAttributes.normal||k.morphAttributes.color,H=F!==void 0?F.length:0;let U=p.get(k);if(U===void 0||U.count!==H){let he=function(){le.dispose(),p.delete(k),k.removeEventListener("dispose",he)};U!==void 0&&U.texture.dispose();const fe=k.morphAttributes.position!==void 0,oe=k.morphAttributes.normal!==void 0,we=k.morphAttributes.color!==void 0,be=k.morphAttributes.position||[],ve=k.morphAttributes.normal||[],ne=k.morphAttributes.color||[];let ae=0;fe===!0&&(ae=1),oe===!0&&(ae=2),we===!0&&(ae=3);let ye=k.attributes.position.count*ae,de=1;ye>t.maxTextureSize&&(de=Math.ceil(ye/t.maxTextureSize),ye=t.maxTextureSize);const xe=new Float32Array(ye*de*4*H),le=new m1(xe,ye,de,H);le.type=ic,le.needsUpdate=!0;const re=ae*4;for(let me=0;me<H;me++){const Re=be[me],Ie=ve[me],Ne=ne[me],Qe=ye*de*4*me;for(let Ue=0;Ue<Re.count;Ue++){const ce=Ue*re;fe===!0&&(y.fromBufferAttribute(Re,Ue),Re.normalized===!0&&Tx(y,Re),xe[Qe+ce+0]=y.x,xe[Qe+ce+1]=y.y,xe[Qe+ce+2]=y.z,xe[Qe+ce+3]=0),oe===!0&&(y.fromBufferAttribute(Ie,Ue),Ie.normalized===!0&&Tx(y,Ie),xe[Qe+ce+4]=y.x,xe[Qe+ce+5]=y.y,xe[Qe+ce+6]=y.z,xe[Qe+ce+7]=0),we===!0&&(y.fromBufferAttribute(Ne,Ue),Ne.normalized===!0&&Tx(y,Ne),xe[Qe+ce+8]=y.x,xe[Qe+ce+9]=y.y,xe[Qe+ce+10]=y.z,xe[Qe+ce+11]=Ne.itemSize===4?y.w:1)}}U={count:H,texture:le,size:new $r(ye,de)},p.set(k,U),k.addEventListener("dispose",he)}let Z=0;for(let fe=0;fe<M.length;fe++)Z+=M[fe];const K=k.morphTargetsRelative?1:1-Z;B.getUniforms().setValue(a,"morphTargetBaseInfluence",K),B.getUniforms().setValue(a,"morphTargetInfluences",M),B.getUniforms().setValue(a,"morphTargetsTexture",U.texture,r),B.getUniforms().setValue(a,"morphTargetsTextureSize",U.size)}else{const F=M===void 0?0:M.length;let H=n[k.id];if(H===void 0||H.length!==F){H=[];for(let oe=0;oe<F;oe++)H[oe]=[oe,0];n[k.id]=H}for(let oe=0;oe<F;oe++){const we=H[oe];we[0]=oe,we[1]=M[oe]}H.sort(sz);for(let oe=0;oe<8;oe++)oe<F&&H[oe][1]?(v[oe][0]=H[oe][0],v[oe][1]=H[oe][1]):(v[oe][0]=Number.MAX_SAFE_INTEGER,v[oe][1]=0);v.sort(nz);const U=k.morphAttributes.position,Z=k.morphAttributes.normal;let K=0;for(let oe=0;oe<8;oe++){const we=v[oe],be=we[0],ve=we[1];be!==Number.MAX_SAFE_INTEGER&&ve?(U&&k.getAttribute("morphTarget"+oe)!==U[be]&&k.setAttribute("morphTarget"+oe,U[be]),Z&&k.getAttribute("morphNormal"+oe)!==Z[be]&&k.setAttribute("morphNormal"+oe,Z[be]),c[oe]=ve,K+=ve):(U&&k.hasAttribute("morphTarget"+oe)===!0&&k.deleteAttribute("morphTarget"+oe),Z&&k.hasAttribute("morphNormal"+oe)===!0&&k.deleteAttribute("morphNormal"+oe),c[oe]=0)}const fe=k.morphTargetsRelative?1:1-K;B.getUniforms().setValue(a,"morphTargetBaseInfluence",fe),B.getUniforms().setValue(a,"morphTargetInfluences",c)}}return{update:E}}function az(a,t,r,n){let c=new WeakMap;function p(E){const _=n.render.frame,k=E.geometry,R=t.get(E,k);return c.get(R)!==_&&(t.update(R),c.set(R,_)),E.isInstancedMesh&&(E.hasEventListener("dispose",v)===!1&&E.addEventListener("dispose",v),r.update(E.instanceMatrix,34962),E.instanceColor!==null&&r.update(E.instanceColor,34962)),R}function y(){c=new WeakMap}function v(E){const _=E.target;_.removeEventListener("dispose",v),r.remove(_.instanceMatrix),_.instanceColor!==null&&r.remove(_.instanceColor)}return{update:p,dispose:y}}const F7=new Z0,O7=new m1,H7=new Jg,U7=new g1,tS=[],rS=[],iS=new Float32Array(16),nS=new Float32Array(9),sS=new Float32Array(4);function b1(a,t,r){const n=a[0];if(n<=0||n>0)return a;const c=t*r;let p=tS[c];if(p===void 0&&(p=new Float32Array(c),tS[c]=p),t!==0){n.toArray(p,0);for(let y=1,v=0;y!==t;++y)v+=r,a[y].toArray(p,v)}return p}function Ia(a,t){if(a.length!==t.length)return!1;for(let r=0,n=a.length;r<n;r++)if(a[r]!==t[r])return!1;return!0}function La(a,t){for(let r=0,n=t.length;r<n;r++)a[r]=t[r]}function Lw(a,t){let r=rS[t];r===void 0&&(r=new Int32Array(t),rS[t]=r);for(let n=0;n!==t;++n)r[n]=a.allocateTextureUnit();return r}function lz(a,t){const r=this.cache;r[0]!==t&&(a.uniform1f(this.addr,t),r[0]=t)}function fz(a,t){const r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y)&&(a.uniform2f(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(Ia(r,t))return;a.uniform2fv(this.addr,t),La(r,t)}}function uz(a,t){const r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z)&&(a.uniform3f(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else if(t.r!==void 0)(r[0]!==t.r||r[1]!==t.g||r[2]!==t.b)&&(a.uniform3f(this.addr,t.r,t.g,t.b),r[0]=t.r,r[1]=t.g,r[2]=t.b);else{if(Ia(r,t))return;a.uniform3fv(this.addr,t),La(r,t)}}function cz(a,t){const r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z||r[3]!==t.w)&&(a.uniform4f(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(Ia(r,t))return;a.uniform4fv(this.addr,t),La(r,t)}}function hz(a,t){const r=this.cache,n=t.elements;if(n===void 0){if(Ia(r,t))return;a.uniformMatrix2fv(this.addr,!1,t),La(r,t)}else{if(Ia(r,n))return;sS.set(n),a.uniformMatrix2fv(this.addr,!1,sS),La(r,n)}}function dz(a,t){const r=this.cache,n=t.elements;if(n===void 0){if(Ia(r,t))return;a.uniformMatrix3fv(this.addr,!1,t),La(r,t)}else{if(Ia(r,n))return;nS.set(n),a.uniformMatrix3fv(this.addr,!1,nS),La(r,n)}}function pz(a,t){const r=this.cache,n=t.elements;if(n===void 0){if(Ia(r,t))return;a.uniformMatrix4fv(this.addr,!1,t),La(r,t)}else{if(Ia(r,n))return;iS.set(n),a.uniformMatrix4fv(this.addr,!1,iS),La(r,n)}}function mz(a,t){const r=this.cache;r[0]!==t&&(a.uniform1i(this.addr,t),r[0]=t)}function gz(a,t){const r=this.cache;Ia(r,t)||(a.uniform2iv(this.addr,t),La(r,t))}function bz(a,t){const r=this.cache;Ia(r,t)||(a.uniform3iv(this.addr,t),La(r,t))}function yz(a,t){const r=this.cache;Ia(r,t)||(a.uniform4iv(this.addr,t),La(r,t))}function vz(a,t){const r=this.cache;r[0]!==t&&(a.uniform1ui(this.addr,t),r[0]=t)}function wz(a,t){const r=this.cache;Ia(r,t)||(a.uniform2uiv(this.addr,t),La(r,t))}function Az(a,t){const r=this.cache;Ia(r,t)||(a.uniform3uiv(this.addr,t),La(r,t))}function xz(a,t){const r=this.cache;Ia(r,t)||(a.uniform4uiv(this.addr,t),La(r,t))}function Ez(a,t,r){const n=this.cache,c=r.allocateTextureUnit();n[0]!==c&&(a.uniform1i(this.addr,c),n[0]=c),r.setTexture2D(t||F7,c)}function _z(a,t,r){const n=this.cache,c=r.allocateTextureUnit();n[0]!==c&&(a.uniform1i(this.addr,c),n[0]=c),r.setTexture3D(t||H7,c)}function kz(a,t,r){const n=this.cache,c=r.allocateTextureUnit();n[0]!==c&&(a.uniform1i(this.addr,c),n[0]=c),r.setTextureCube(t||U7,c)}function Cz(a,t,r){const n=this.cache,c=r.allocateTextureUnit();n[0]!==c&&(a.uniform1i(this.addr,c),n[0]=c),r.setTexture2DArray(t||O7,c)}function Sz(a){switch(a){case 5126:return lz;case 35664:return fz;case 35665:return uz;case 35666:return cz;case 35674:return hz;case 35675:return dz;case 35676:return pz;case 5124:case 35670:return mz;case 35667:case 35671:return gz;case 35668:case 35672:return bz;case 35669:case 35673:return yz;case 5125:return vz;case 36294:return wz;case 36295:return Az;case 36296:return xz;case 35678:case 36198:case 36298:case 36306:case 35682:return Ez;case 35679:case 36299:case 36307:return _z;case 35680:case 36300:case 36308:case 36293:return kz;case 36289:case 36303:case 36311:case 36292:return Cz}}function Tz(a,t){a.uniform1fv(this.addr,t)}function Mz(a,t){const r=b1(t,this.size,2);a.uniform2fv(this.addr,r)}function Rz(a,t){const r=b1(t,this.size,3);a.uniform3fv(this.addr,r)}function Dz(a,t){const r=b1(t,this.size,4);a.uniform4fv(this.addr,r)}function Bz(a,t){const r=b1(t,this.size,4);a.uniformMatrix2fv(this.addr,!1,r)}function Iz(a,t){const r=b1(t,this.size,9);a.uniformMatrix3fv(this.addr,!1,r)}function Lz(a,t){const r=b1(t,this.size,16);a.uniformMatrix4fv(this.addr,!1,r)}function Pz(a,t){a.uniform1iv(this.addr,t)}function Nz(a,t){a.uniform2iv(this.addr,t)}function Fz(a,t){a.uniform3iv(this.addr,t)}function Oz(a,t){a.uniform4iv(this.addr,t)}function Hz(a,t){a.uniform1uiv(this.addr,t)}function Uz(a,t){a.uniform2uiv(this.addr,t)}function Vz(a,t){a.uniform3uiv(this.addr,t)}function jz(a,t){a.uniform4uiv(this.addr,t)}function Gz(a,t,r){const n=t.length,c=Lw(r,n);a.uniform1iv(this.addr,c);for(let p=0;p!==n;++p)r.setTexture2D(t[p]||F7,c[p])}function zz(a,t,r){const n=t.length,c=Lw(r,n);a.uniform1iv(this.addr,c);for(let p=0;p!==n;++p)r.setTexture3D(t[p]||H7,c[p])}function Wz(a,t,r){const n=t.length,c=Lw(r,n);a.uniform1iv(this.addr,c);for(let p=0;p!==n;++p)r.setTextureCube(t[p]||U7,c[p])}function Qz(a,t,r){const n=t.length,c=Lw(r,n);a.uniform1iv(this.addr,c);for(let p=0;p!==n;++p)r.setTexture2DArray(t[p]||O7,c[p])}function Jz(a){switch(a){case 5126:return Tz;case 35664:return Mz;case 35665:return Rz;case 35666:return Dz;case 35674:return Bz;case 35675:return Iz;case 35676:return Lz;case 5124:case 35670:return Pz;case 35667:case 35671:return Nz;case 35668:case 35672:return Fz;case 35669:case 35673:return Oz;case 5125:return Hz;case 36294:return Uz;case 36295:return Vz;case 36296:return jz;case 35678:case 36198:case 36298:case 36306:case 35682:return Gz;case 35679:case 36299:case 36307:return zz;case 35680:case 36300:case 36308:case 36293:return Wz;case 36289:case 36303:case 36311:case 36292:return Qz}}function Xz(a,t,r){this.id=a,this.addr=r,this.cache=[],this.setValue=Sz(t.type)}function qz(a,t,r){this.id=a,this.addr=r,this.cache=[],this.size=t.size,this.setValue=Jz(t.type)}function V7(a){this.id=a,this.seq=[],this.map={}}V7.prototype.setValue=function(a,t,r){const n=this.seq;for(let c=0,p=n.length;c!==p;++c){const y=n[c];y.setValue(a,t[y.id],r)}};const Mx=/(\w+)(\])?(\[|\.)?/g;function oS(a,t){a.seq.push(t),a.map[t.id]=t}function Zz(a,t,r){const n=a.name,c=n.length;for(Mx.lastIndex=0;;){const p=Mx.exec(n),y=Mx.lastIndex;let v=p[1];const E=p[2]==="]",_=p[3];if(E&&(v=v|0),_===void 0||_==="["&&y+2===c){oS(r,_===void 0?new Xz(v,a,t):new qz(v,a,t));break}else{let R=r.map[v];R===void 0&&(R=new V7(v),oS(r,R)),r=R}}}function Ah(a,t){this.seq=[],this.map={};const r=a.getProgramParameter(t,35718);for(let n=0;n<r;++n){const c=a.getActiveUniform(t,n),p=a.getUniformLocation(t,c.name);Zz(c,p,this)}}Ah.prototype.setValue=function(a,t,r,n){const c=this.map[t];c!==void 0&&c.setValue(a,r,n)};Ah.prototype.setOptional=function(a,t,r){const n=t[r];n!==void 0&&this.setValue(a,r,n)};Ah.upload=function(a,t,r,n){for(let c=0,p=t.length;c!==p;++c){const y=t[c],v=r[y.id];v.needsUpdate!==!1&&y.setValue(a,v.value,n)}};Ah.seqWithValue=function(a,t){const r=[];for(let n=0,c=a.length;n!==c;++n){const p=a[n];p.id in t&&r.push(p)}return r};function aS(a,t,r){const n=a.createShader(t);return a.shaderSource(n,r),a.compileShader(n),n}let Yz=0;function Kz(a,t){const r=a.split(`
`),n=[],c=Math.max(t-6,0),p=Math.min(t+6,r.length);for(let y=c;y<p;y++)n.push(y+1+": "+r[y]);return n.join(`
`)}function $z(a){switch(a){case lc:return["Linear","( value )"];case b0:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",a),["Linear","( value )"]}}function lS(a,t,r){const n=a.getShaderParameter(t,35713),c=a.getShaderInfoLog(t).trim();if(n&&c==="")return"";const p=/ERROR: 0:(\d+)/.exec(c);if(p){const y=parseInt(p[0]);return r.toUpperCase()+`

`+c+`

`+Kz(a.getShaderSource(t),y)}else return c}function eW(a,t){const r=$z(t);return"vec4 "+a+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"}function tW(a,t){let r;switch(t){case qM:r="Linear";break;case ZM:r="Reinhard";break;case YM:r="OptimizedCineon";break;case KM:r="ACESFilmic";break;case $M:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),r="Linear"}return"vec3 "+a+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function rW(a){return[a.extensionDerivatives||!!a.envMapCubeUVHeight||a.bumpMap||a.tangentSpaceNormalMap||a.clearcoatNormalMap||a.flatShading||a.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(a.extensionFragDepth||a.logarithmicDepthBuffer)&&a.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",a.extensionDrawBuffers&&a.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(a.extensionShaderTextureLOD||a.envMap||a.transmission)&&a.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ag).join(`
`)}function iW(a){const t=[];for(const r in a){const n=a[r];n!==!1&&t.push("#define "+r+" "+n)}return t.join(`
`)}function nW(a,t){const r={},n=a.getProgramParameter(t,35721);for(let c=0;c<n;c++){const p=a.getActiveAttrib(t,c),y=p.name;let v=1;p.type===35674&&(v=2),p.type===35675&&(v=3),p.type===35676&&(v=4),r[y]={type:p.type,location:a.getAttribLocation(t,y),locationSize:v}}return r}function ag(a){return a!==""}function fS(a,t){return a.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function uS(a,t){return a.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const sW=/^[ \t]*#include +<([\w\d./]+)>/gm;function aE(a){return a.replace(sW,oW)}function oW(a,t){const r=a0[t];if(r===void 0)throw new Error("Can not resolve #include <"+t+">");return aE(r)}const aW=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,lW=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function cS(a){return a.replace(lW,j7).replace(aW,fW)}function fW(a,t,r,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),j7(a,t,r,n)}function j7(a,t,r,n){let c="";for(let p=parseInt(t);p<parseInt(r);p++)c+=n.replace(/\[\s*i\s*\]/g,"[ "+p+" ]").replace(/UNROLLED_LOOP_INDEX/g,p);return c}function hS(a){let t="precision "+a.precision+` float;
precision `+a.precision+" int;";return a.precision==="highp"?t+=`
#define HIGH_PRECISION`:a.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:a.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function uW(a){let t="SHADOWMAP_TYPE_BASIC";return a.shadowMapType===kw?t="SHADOWMAP_TYPE_PCF":a.shadowMapType===TM?t="SHADOWMAP_TYPE_PCF_SOFT":a.shadowMapType===xp&&(t="SHADOWMAP_TYPE_VSM"),t}function cW(a){let t="ENVMAP_TYPE_CUBE";if(a.envMap)switch(a.envMapMode){case kh:case Ch:t="ENVMAP_TYPE_CUBE";break;case p1:t="ENVMAP_TYPE_CUBE_UV";break}return t}function hW(a){let t="ENVMAP_MODE_REFLECTION";if(a.envMap)switch(a.envMapMode){case Ch:t="ENVMAP_MODE_REFRACTION";break}return t}function dW(a){let t="ENVMAP_BLENDING_NONE";if(a.envMap)switch(a.combine){case Qg:t="ENVMAP_BLENDING_MULTIPLY";break;case JM:t="ENVMAP_BLENDING_MIX";break;case XM:t="ENVMAP_BLENDING_ADD";break}return t}function pW(a){const t=a.envMapCubeUVHeight;if(t===null)return null;const r=Math.log2(t)-2,n=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,r),7*16)),texelHeight:n,maxMip:r}}function mW(a,t,r,n){const c=a.getContext(),p=r.defines;let y=r.vertexShader,v=r.fragmentShader;const E=uW(r),_=cW(r),k=hW(r),R=dW(r),B=pW(r),M=r.isWebGL2?"":rW(r),F=iW(p),H=c.createProgram();let U,Z,K=r.glslVersion?"#version "+r.glslVersion+`
`:"";r.isRawShaderMaterial?(U=[F].filter(ag).join(`
`),U.length>0&&(U+=`
`),Z=[M,F].filter(ag).join(`
`),Z.length>0&&(Z+=`
`)):(U=[hS(r),"#define SHADER_NAME "+r.shaderName,F,r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.supportsVertexTextures?"#define VERTEX_TEXTURES":"",r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+k:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&r.flatShading===!1?"#define USE_MORPHNORMALS":"",r.morphColors&&r.isWebGL2?"#define USE_MORPHCOLORS":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+r.morphTextureStride:"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_COUNT "+r.morphTargetsCount:"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+E:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ag).join(`
`),Z=[M,hS(r),"#define SHADER_NAME "+r.shaderName,F,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+_:"",r.envMap?"#define "+k:"",r.envMap?"#define "+R:"",B?"#define CUBEUV_TEXEL_WIDTH "+B.texelWidth:"",B?"#define CUBEUV_TEXEL_HEIGHT "+B.texelHeight:"",B?"#define CUBEUV_MAX_MIP "+B.maxMip+".0":"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoat?"#define USE_CLEARCOAT":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaTest?"#define USE_ALPHATEST":"",r.sheen?"#define USE_SHEEN":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+E:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==Bf?"#define TONE_MAPPING":"",r.toneMapping!==Bf?a0.tonemapping_pars_fragment:"",r.toneMapping!==Bf?tW("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.opaque?"#define OPAQUE":"",a0.encodings_pars_fragment,eW("linearToOutputTexel",r.outputEncoding),r.useDepthPacking?"#define DEPTH_PACKING "+r.depthPacking:"",`
`].filter(ag).join(`
`)),y=aE(y),y=fS(y,r),y=uS(y,r),v=aE(v),v=fS(v,r),v=uS(v,r),y=cS(y),v=cS(v),r.isWebGL2&&r.isRawShaderMaterial!==!0&&(K=`#version 300 es
`,U=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+U,Z=["#define varying in",r.glslVersion===sE?"":"layout(location = 0) out highp vec4 pc_fragColor;",r.glslVersion===sE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+Z);const fe=K+U+y,oe=K+Z+v,we=aS(c,35633,fe),be=aS(c,35632,oe);if(c.attachShader(H,we),c.attachShader(H,be),r.index0AttributeName!==void 0?c.bindAttribLocation(H,0,r.index0AttributeName):r.morphTargets===!0&&c.bindAttribLocation(H,0,"position"),c.linkProgram(H),a.debug.checkShaderErrors){const ae=c.getProgramInfoLog(H).trim(),ye=c.getShaderInfoLog(we).trim(),de=c.getShaderInfoLog(be).trim();let xe=!0,le=!0;if(c.getProgramParameter(H,35714)===!1){xe=!1;const re=lS(c,we,"vertex"),he=lS(c,be,"fragment");console.error("THREE.WebGLProgram: Shader Error "+c.getError()+" - VALIDATE_STATUS "+c.getProgramParameter(H,35715)+`

Program Info Log: `+ae+`
`+re+`
`+he)}else ae!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ae):(ye===""||de==="")&&(le=!1);le&&(this.diagnostics={runnable:xe,programLog:ae,vertexShader:{log:ye,prefix:U},fragmentShader:{log:de,prefix:Z}})}c.deleteShader(we),c.deleteShader(be);let ve;this.getUniforms=function(){return ve===void 0&&(ve=new Ah(c,H)),ve};let ne;return this.getAttributes=function(){return ne===void 0&&(ne=nW(c,H)),ne},this.destroy=function(){n.releaseStatesOfProgram(this),c.deleteProgram(H),this.program=void 0},this.name=r.shaderName,this.id=Yz++,this.cacheKey=t,this.usedTimes=1,this.program=H,this.vertexShader=we,this.fragmentShader=be,this}let gW=0;class bW{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const r=t.vertexShader,n=t.fragmentShader,c=this._getShaderStage(r),p=this._getShaderStage(n),y=this._getShaderCacheForMaterial(t);return y.has(c)===!1&&(y.add(c),c.usedTimes++),y.has(p)===!1&&(y.add(p),p.usedTimes++),this}remove(t){const r=this.materialCache.get(t);for(const n of r)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const r=this.materialCache;return r.has(t)===!1&&r.set(t,new Set),r.get(t)}_getShaderStage(t){const r=this.shaderCache;if(r.has(t)===!1){const n=new yW(t);r.set(t,n)}return r.get(t)}}class yW{constructor(t){this.id=gW++,this.code=t,this.usedTimes=0}}function vW(a,t,r,n,c,p,y){const v=new Mw,E=new bW,_=[],k=c.isWebGL2,R=c.logarithmicDepthBuffer,B=c.vertexTextures;let M=c.precision;const F={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function H(ne,ae,ye,de,xe){const le=de.fog,re=xe.geometry,he=ne.isMeshStandardMaterial?de.environment:null,me=(ne.isMeshStandardMaterial?r:t).get(ne.envMap||he),Re=!!me&&me.mapping===p1?me.image.height:null,Ie=F[ne.type];ne.precision!==null&&(M=c.getMaxPrecision(ne.precision),M!==ne.precision&&console.warn("THREE.WebGLProgram.getParameters:",ne.precision,"not supported, using",M,"instead."));const Ne=re.morphAttributes.position||re.morphAttributes.normal||re.morphAttributes.color,Qe=Ne!==void 0?Ne.length:0;let Ue=0;re.morphAttributes.position!==void 0&&(Ue=1),re.morphAttributes.normal!==void 0&&(Ue=2),re.morphAttributes.color!==void 0&&(Ue=3);let ce,Me,ot,Se;if(Ie){const Dt=Tf[Ie];ce=Dt.vertexShader,Me=Dt.fragmentShader}else ce=ne.vertexShader,Me=ne.fragmentShader,E.update(ne),ot=E.getVertexShaderID(ne),Se=E.getFragmentShaderID(ne);const Xe=a.getRenderTarget(),ct=ne.alphaTest>0,$e=ne.clearcoat>0;return{isWebGL2:k,shaderID:Ie,shaderName:ne.type,vertexShader:ce,fragmentShader:Me,defines:ne.defines,customVertexShaderID:ot,customFragmentShaderID:Se,isRawShaderMaterial:ne.isRawShaderMaterial===!0,glslVersion:ne.glslVersion,precision:M,instancing:xe.isInstancedMesh===!0,instancingColor:xe.isInstancedMesh===!0&&xe.instanceColor!==null,supportsVertexTextures:B,outputEncoding:Xe===null?a.outputEncoding:Xe.isXRRenderTarget===!0?Xe.texture.encoding:lc,map:!!ne.map,matcap:!!ne.matcap,envMap:!!me,envMapMode:me&&me.mapping,envMapCubeUVHeight:Re,lightMap:!!ne.lightMap,aoMap:!!ne.aoMap,emissiveMap:!!ne.emissiveMap,bumpMap:!!ne.bumpMap,normalMap:!!ne.normalMap,objectSpaceNormalMap:ne.normalMapType===w7,tangentSpaceNormalMap:ne.normalMapType===n2,decodeVideoTexture:!!ne.map&&ne.map.isVideoTexture===!0&&ne.map.encoding===b0,clearcoat:$e,clearcoatMap:$e&&!!ne.clearcoatMap,clearcoatRoughnessMap:$e&&!!ne.clearcoatRoughnessMap,clearcoatNormalMap:$e&&!!ne.clearcoatNormalMap,displacementMap:!!ne.displacementMap,roughnessMap:!!ne.roughnessMap,metalnessMap:!!ne.metalnessMap,specularMap:!!ne.specularMap,specularIntensityMap:!!ne.specularIntensityMap,specularColorMap:!!ne.specularColorMap,opaque:ne.transparent===!1&&ne.blending===Od,alphaMap:!!ne.alphaMap,alphaTest:ct,gradientMap:!!ne.gradientMap,sheen:ne.sheen>0,sheenColorMap:!!ne.sheenColorMap,sheenRoughnessMap:!!ne.sheenRoughnessMap,transmission:ne.transmission>0,transmissionMap:!!ne.transmissionMap,thicknessMap:!!ne.thicknessMap,combine:ne.combine,vertexTangents:!!ne.normalMap&&!!re.attributes.tangent,vertexColors:ne.vertexColors,vertexAlphas:ne.vertexColors===!0&&!!re.attributes.color&&re.attributes.color.itemSize===4,vertexUvs:!!ne.map||!!ne.bumpMap||!!ne.normalMap||!!ne.specularMap||!!ne.alphaMap||!!ne.emissiveMap||!!ne.roughnessMap||!!ne.metalnessMap||!!ne.clearcoatMap||!!ne.clearcoatRoughnessMap||!!ne.clearcoatNormalMap||!!ne.displacementMap||!!ne.transmissionMap||!!ne.thicknessMap||!!ne.specularIntensityMap||!!ne.specularColorMap||!!ne.sheenColorMap||!!ne.sheenRoughnessMap,uvsVertexOnly:!(!!ne.map||!!ne.bumpMap||!!ne.normalMap||!!ne.specularMap||!!ne.alphaMap||!!ne.emissiveMap||!!ne.roughnessMap||!!ne.metalnessMap||!!ne.clearcoatNormalMap||ne.transmission>0||!!ne.transmissionMap||!!ne.thicknessMap||!!ne.specularIntensityMap||!!ne.specularColorMap||ne.sheen>0||!!ne.sheenColorMap||!!ne.sheenRoughnessMap)&&!!ne.displacementMap,fog:!!le,useFog:ne.fog===!0,fogExp2:le&&le.isFogExp2,flatShading:!!ne.flatShading,sizeAttenuation:ne.sizeAttenuation,logarithmicDepthBuffer:R,skinning:xe.isSkinnedMesh===!0,morphTargets:re.morphAttributes.position!==void 0,morphNormals:re.morphAttributes.normal!==void 0,morphColors:re.morphAttributes.color!==void 0,morphTargetsCount:Qe,morphTextureStride:Ue,numDirLights:ae.directional.length,numPointLights:ae.point.length,numSpotLights:ae.spot.length,numRectAreaLights:ae.rectArea.length,numHemiLights:ae.hemi.length,numDirLightShadows:ae.directionalShadowMap.length,numPointLightShadows:ae.pointShadowMap.length,numSpotLightShadows:ae.spotShadowMap.length,numClippingPlanes:y.numPlanes,numClipIntersection:y.numIntersection,dithering:ne.dithering,shadowMapEnabled:a.shadowMap.enabled&&ye.length>0,shadowMapType:a.shadowMap.type,toneMapping:ne.toneMapped?a.toneMapping:Bf,physicallyCorrectLights:a.physicallyCorrectLights,premultipliedAlpha:ne.premultipliedAlpha,doubleSided:ne.side===Lf,flipSided:ne.side===Ja,useDepthPacking:!!ne.depthPacking,depthPacking:ne.depthPacking||0,index0AttributeName:ne.index0AttributeName,extensionDerivatives:ne.extensions&&ne.extensions.derivatives,extensionFragDepth:ne.extensions&&ne.extensions.fragDepth,extensionDrawBuffers:ne.extensions&&ne.extensions.drawBuffers,extensionShaderTextureLOD:ne.extensions&&ne.extensions.shaderTextureLOD,rendererExtensionFragDepth:k||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:k||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:k||n.has("EXT_shader_texture_lod"),customProgramCacheKey:ne.customProgramCacheKey()}}function U(ne){const ae=[];if(ne.shaderID?ae.push(ne.shaderID):(ae.push(ne.customVertexShaderID),ae.push(ne.customFragmentShaderID)),ne.defines!==void 0)for(const ye in ne.defines)ae.push(ye),ae.push(ne.defines[ye]);return ne.isRawShaderMaterial===!1&&(Z(ae,ne),K(ae,ne),ae.push(a.outputEncoding)),ae.push(ne.customProgramCacheKey),ae.join()}function Z(ne,ae){ne.push(ae.precision),ne.push(ae.outputEncoding),ne.push(ae.envMapMode),ne.push(ae.envMapCubeUVHeight),ne.push(ae.combine),ne.push(ae.vertexUvs),ne.push(ae.fogExp2),ne.push(ae.sizeAttenuation),ne.push(ae.morphTargetsCount),ne.push(ae.morphAttributeCount),ne.push(ae.numDirLights),ne.push(ae.numPointLights),ne.push(ae.numSpotLights),ne.push(ae.numHemiLights),ne.push(ae.numRectAreaLights),ne.push(ae.numDirLightShadows),ne.push(ae.numPointLightShadows),ne.push(ae.numSpotLightShadows),ne.push(ae.shadowMapType),ne.push(ae.toneMapping),ne.push(ae.numClippingPlanes),ne.push(ae.numClipIntersection),ne.push(ae.depthPacking)}function K(ne,ae){v.disableAll(),ae.isWebGL2&&v.enable(0),ae.supportsVertexTextures&&v.enable(1),ae.instancing&&v.enable(2),ae.instancingColor&&v.enable(3),ae.map&&v.enable(4),ae.matcap&&v.enable(5),ae.envMap&&v.enable(6),ae.lightMap&&v.enable(7),ae.aoMap&&v.enable(8),ae.emissiveMap&&v.enable(9),ae.bumpMap&&v.enable(10),ae.normalMap&&v.enable(11),ae.objectSpaceNormalMap&&v.enable(12),ae.tangentSpaceNormalMap&&v.enable(13),ae.clearcoat&&v.enable(14),ae.clearcoatMap&&v.enable(15),ae.clearcoatRoughnessMap&&v.enable(16),ae.clearcoatNormalMap&&v.enable(17),ae.displacementMap&&v.enable(18),ae.specularMap&&v.enable(19),ae.roughnessMap&&v.enable(20),ae.metalnessMap&&v.enable(21),ae.gradientMap&&v.enable(22),ae.alphaMap&&v.enable(23),ae.alphaTest&&v.enable(24),ae.vertexColors&&v.enable(25),ae.vertexAlphas&&v.enable(26),ae.vertexUvs&&v.enable(27),ae.vertexTangents&&v.enable(28),ae.uvsVertexOnly&&v.enable(29),ae.fog&&v.enable(30),ne.push(v.mask),v.disableAll(),ae.useFog&&v.enable(0),ae.flatShading&&v.enable(1),ae.logarithmicDepthBuffer&&v.enable(2),ae.skinning&&v.enable(3),ae.morphTargets&&v.enable(4),ae.morphNormals&&v.enable(5),ae.morphColors&&v.enable(6),ae.premultipliedAlpha&&v.enable(7),ae.shadowMapEnabled&&v.enable(8),ae.physicallyCorrectLights&&v.enable(9),ae.doubleSided&&v.enable(10),ae.flipSided&&v.enable(11),ae.useDepthPacking&&v.enable(12),ae.dithering&&v.enable(13),ae.specularIntensityMap&&v.enable(14),ae.specularColorMap&&v.enable(15),ae.transmission&&v.enable(16),ae.transmissionMap&&v.enable(17),ae.thicknessMap&&v.enable(18),ae.sheen&&v.enable(19),ae.sheenColorMap&&v.enable(20),ae.sheenRoughnessMap&&v.enable(21),ae.decodeVideoTexture&&v.enable(22),ae.opaque&&v.enable(23),ne.push(v.mask)}function fe(ne){const ae=F[ne.type];let ye;if(ae){const de=Tf[ae];ye=P7.clone(de.uniforms)}else ye=ne.uniforms;return ye}function oe(ne,ae){let ye;for(let de=0,xe=_.length;de<xe;de++){const le=_[de];if(le.cacheKey===ae){ye=le,++ye.usedTimes;break}}return ye===void 0&&(ye=new mW(a,ae,ne,p),_.push(ye)),ye}function we(ne){if(--ne.usedTimes===0){const ae=_.indexOf(ne);_[ae]=_[_.length-1],_.pop(),ne.destroy()}}function be(ne){E.remove(ne)}function ve(){E.dispose()}return{getParameters:H,getProgramCacheKey:U,getUniforms:fe,acquireProgram:oe,releaseProgram:we,releaseShaderCache:be,programs:_,dispose:ve}}function wW(){let a=new WeakMap;function t(p){let y=a.get(p);return y===void 0&&(y={},a.set(p,y)),y}function r(p){a.delete(p)}function n(p,y,v){a.get(p)[y]=v}function c(){a=new WeakMap}return{get:t,remove:r,update:n,dispose:c}}function AW(a,t){return a.groupOrder!==t.groupOrder?a.groupOrder-t.groupOrder:a.renderOrder!==t.renderOrder?a.renderOrder-t.renderOrder:a.material.id!==t.material.id?a.material.id-t.material.id:a.z!==t.z?a.z-t.z:a.id-t.id}function dS(a,t){return a.groupOrder!==t.groupOrder?a.groupOrder-t.groupOrder:a.renderOrder!==t.renderOrder?a.renderOrder-t.renderOrder:a.z!==t.z?t.z-a.z:a.id-t.id}function pS(){const a=[];let t=0;const r=[],n=[],c=[];function p(){t=0,r.length=0,n.length=0,c.length=0}function y(R,B,M,F,H,U){let Z=a[t];return Z===void 0?(Z={id:R.id,object:R,geometry:B,material:M,groupOrder:F,renderOrder:R.renderOrder,z:H,group:U},a[t]=Z):(Z.id=R.id,Z.object=R,Z.geometry=B,Z.material=M,Z.groupOrder=F,Z.renderOrder=R.renderOrder,Z.z=H,Z.group=U),t++,Z}function v(R,B,M,F,H,U){const Z=y(R,B,M,F,H,U);M.transmission>0?n.push(Z):M.transparent===!0?c.push(Z):r.push(Z)}function E(R,B,M,F,H,U){const Z=y(R,B,M,F,H,U);M.transmission>0?n.unshift(Z):M.transparent===!0?c.unshift(Z):r.unshift(Z)}function _(R,B){r.length>1&&r.sort(R||AW),n.length>1&&n.sort(B||dS),c.length>1&&c.sort(B||dS)}function k(){for(let R=t,B=a.length;R<B;R++){const M=a[R];if(M.id===null)break;M.id=null,M.object=null,M.geometry=null,M.material=null,M.group=null}}return{opaque:r,transmissive:n,transparent:c,init:p,push:v,unshift:E,finish:k,sort:_}}function xW(){let a=new WeakMap;function t(n,c){let p;return a.has(n)===!1?(p=new pS,a.set(n,[p])):c>=a.get(n).length?(p=new pS,a.get(n).push(p)):p=a.get(n)[c],p}function r(){a=new WeakMap}return{get:t,dispose:r}}function EW(){const a={};return{get:function(t){if(a[t.id]!==void 0)return a[t.id];let r;switch(t.type){case"DirectionalLight":r={direction:new wt,color:new _i};break;case"SpotLight":r={position:new wt,direction:new wt,color:new _i,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new wt,color:new _i,distance:0,decay:0};break;case"HemisphereLight":r={direction:new wt,skyColor:new _i,groundColor:new _i};break;case"RectAreaLight":r={color:new _i,position:new wt,halfWidth:new wt,halfHeight:new wt};break}return a[t.id]=r,r}}}function _W(){const a={};return{get:function(t){if(a[t.id]!==void 0)return a[t.id];let r;switch(t.type){case"DirectionalLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $r};break;case"SpotLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $r};break;case"PointLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $r,shadowCameraNear:1,shadowCameraFar:1e3};break}return a[t.id]=r,r}}}let kW=0;function CW(a,t){return(t.castShadow?1:0)-(a.castShadow?1:0)}function SW(a,t){const r=new EW,n=_W(),c={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let k=0;k<9;k++)c.probe.push(new wt);const p=new wt,y=new Ji,v=new Ji;function E(k,R){let B=0,M=0,F=0;for(let ae=0;ae<9;ae++)c.probe[ae].set(0,0,0);let H=0,U=0,Z=0,K=0,fe=0,oe=0,we=0,be=0;k.sort(CW);const ve=R!==!0?Math.PI:1;for(let ae=0,ye=k.length;ae<ye;ae++){const de=k[ae],xe=de.color,le=de.intensity,re=de.distance,he=de.shadow&&de.shadow.map?de.shadow.map.texture:null;if(de.isAmbientLight)B+=xe.r*le*ve,M+=xe.g*le*ve,F+=xe.b*le*ve;else if(de.isLightProbe)for(let me=0;me<9;me++)c.probe[me].addScaledVector(de.sh.coefficients[me],le);else if(de.isDirectionalLight){const me=r.get(de);if(me.color.copy(de.color).multiplyScalar(de.intensity*ve),de.castShadow){const Re=de.shadow,Ie=n.get(de);Ie.shadowBias=Re.bias,Ie.shadowNormalBias=Re.normalBias,Ie.shadowRadius=Re.radius,Ie.shadowMapSize=Re.mapSize,c.directionalShadow[H]=Ie,c.directionalShadowMap[H]=he,c.directionalShadowMatrix[H]=de.shadow.matrix,oe++}c.directional[H]=me,H++}else if(de.isSpotLight){const me=r.get(de);if(me.position.setFromMatrixPosition(de.matrixWorld),me.color.copy(xe).multiplyScalar(le*ve),me.distance=re,me.coneCos=Math.cos(de.angle),me.penumbraCos=Math.cos(de.angle*(1-de.penumbra)),me.decay=de.decay,de.castShadow){const Re=de.shadow,Ie=n.get(de);Ie.shadowBias=Re.bias,Ie.shadowNormalBias=Re.normalBias,Ie.shadowRadius=Re.radius,Ie.shadowMapSize=Re.mapSize,c.spotShadow[Z]=Ie,c.spotShadowMap[Z]=he,c.spotShadowMatrix[Z]=de.shadow.matrix,be++}c.spot[Z]=me,Z++}else if(de.isRectAreaLight){const me=r.get(de);me.color.copy(xe).multiplyScalar(le),me.halfWidth.set(de.width*.5,0,0),me.halfHeight.set(0,de.height*.5,0),c.rectArea[K]=me,K++}else if(de.isPointLight){const me=r.get(de);if(me.color.copy(de.color).multiplyScalar(de.intensity*ve),me.distance=de.distance,me.decay=de.decay,de.castShadow){const Re=de.shadow,Ie=n.get(de);Ie.shadowBias=Re.bias,Ie.shadowNormalBias=Re.normalBias,Ie.shadowRadius=Re.radius,Ie.shadowMapSize=Re.mapSize,Ie.shadowCameraNear=Re.camera.near,Ie.shadowCameraFar=Re.camera.far,c.pointShadow[U]=Ie,c.pointShadowMap[U]=he,c.pointShadowMatrix[U]=de.shadow.matrix,we++}c.point[U]=me,U++}else if(de.isHemisphereLight){const me=r.get(de);me.skyColor.copy(de.color).multiplyScalar(le*ve),me.groundColor.copy(de.groundColor).multiplyScalar(le*ve),c.hemi[fe]=me,fe++}}K>0&&(t.isWebGL2||a.has("OES_texture_float_linear")===!0?(c.rectAreaLTC1=Oi.LTC_FLOAT_1,c.rectAreaLTC2=Oi.LTC_FLOAT_2):a.has("OES_texture_half_float_linear")===!0?(c.rectAreaLTC1=Oi.LTC_HALF_1,c.rectAreaLTC2=Oi.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),c.ambient[0]=B,c.ambient[1]=M,c.ambient[2]=F;const ne=c.hash;(ne.directionalLength!==H||ne.pointLength!==U||ne.spotLength!==Z||ne.rectAreaLength!==K||ne.hemiLength!==fe||ne.numDirectionalShadows!==oe||ne.numPointShadows!==we||ne.numSpotShadows!==be)&&(c.directional.length=H,c.spot.length=Z,c.rectArea.length=K,c.point.length=U,c.hemi.length=fe,c.directionalShadow.length=oe,c.directionalShadowMap.length=oe,c.pointShadow.length=we,c.pointShadowMap.length=we,c.spotShadow.length=be,c.spotShadowMap.length=be,c.directionalShadowMatrix.length=oe,c.pointShadowMatrix.length=we,c.spotShadowMatrix.length=be,ne.directionalLength=H,ne.pointLength=U,ne.spotLength=Z,ne.rectAreaLength=K,ne.hemiLength=fe,ne.numDirectionalShadows=oe,ne.numPointShadows=we,ne.numSpotShadows=be,c.version=kW++)}function _(k,R){let B=0,M=0,F=0,H=0,U=0;const Z=R.matrixWorldInverse;for(let K=0,fe=k.length;K<fe;K++){const oe=k[K];if(oe.isDirectionalLight){const we=c.directional[B];we.direction.setFromMatrixPosition(oe.matrixWorld),p.setFromMatrixPosition(oe.target.matrixWorld),we.direction.sub(p),we.direction.transformDirection(Z),B++}else if(oe.isSpotLight){const we=c.spot[F];we.position.setFromMatrixPosition(oe.matrixWorld),we.position.applyMatrix4(Z),we.direction.setFromMatrixPosition(oe.matrixWorld),p.setFromMatrixPosition(oe.target.matrixWorld),we.direction.sub(p),we.direction.transformDirection(Z),F++}else if(oe.isRectAreaLight){const we=c.rectArea[H];we.position.setFromMatrixPosition(oe.matrixWorld),we.position.applyMatrix4(Z),v.identity(),y.copy(oe.matrixWorld),y.premultiply(Z),v.extractRotation(y),we.halfWidth.set(oe.width*.5,0,0),we.halfHeight.set(0,oe.height*.5,0),we.halfWidth.applyMatrix4(v),we.halfHeight.applyMatrix4(v),H++}else if(oe.isPointLight){const we=c.point[M];we.position.setFromMatrixPosition(oe.matrixWorld),we.position.applyMatrix4(Z),M++}else if(oe.isHemisphereLight){const we=c.hemi[U];we.direction.setFromMatrixPosition(oe.matrixWorld),we.direction.transformDirection(Z),U++}}}return{setup:E,setupView:_,state:c}}function mS(a,t){const r=new SW(a,t),n=[],c=[];function p(){n.length=0,c.length=0}function y(R){n.push(R)}function v(R){c.push(R)}function E(R){r.setup(n,R)}function _(R){r.setupView(n,R)}return{init:p,state:{lightsArray:n,shadowsArray:c,lights:r},setupLights:E,setupLightsView:_,pushLight:y,pushShadow:v}}function TW(a,t){let r=new WeakMap;function n(p,y=0){let v;return r.has(p)===!1?(v=new mS(a,t),r.set(p,[v])):y>=r.get(p).length?(v=new mS(a,t),r.get(p).push(v)):v=r.get(p)[y],v}function c(){r=new WeakMap}return{get:n,dispose:c}}class Pw extends Ds{constructor(t){super(),this.type="MeshDepthMaterial",this.depthPacking=$E,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}Pw.prototype.isMeshDepthMaterial=!0;class Nw extends Ds{constructor(t){super(),this.type="MeshDistanceMaterial",this.referencePosition=new wt,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}Nw.prototype.isMeshDistanceMaterial=!0;const MW=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,RW=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function G7(a,t,r){let n=new qg;const c=new $r,p=new $r,y=new j0,v=new Pw({depthPacking:e8}),E=new Nw,_={},k=r.maxTextureSize,R={0:Ja,1:_h,2:Lf},B=new Tl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new $r},radius:{value:4}},vertexShader:MW,fragmentShader:RW}),M=B.clone();M.defines.HORIZONTAL_PASS=1;const F=new wn;F.setAttribute("position",new d0(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const H=new Kr(F,B),U=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=kw,this.render=function(oe,we,be){if(U.enabled===!1||U.autoUpdate===!1&&U.needsUpdate===!1||oe.length===0)return;const ve=a.getRenderTarget(),ne=a.getActiveCubeFace(),ae=a.getActiveMipmapLevel(),ye=a.state;ye.setBlending(sc),ye.buffers.color.setClear(1,1,1,1),ye.buffers.depth.setTest(!0),ye.setScissorTest(!1);for(let de=0,xe=oe.length;de<xe;de++){const le=oe[de],re=le.shadow;if(re===void 0){console.warn("THREE.WebGLShadowMap:",le,"has no shadow.");continue}if(re.autoUpdate===!1&&re.needsUpdate===!1)continue;c.copy(re.mapSize);const he=re.getFrameExtents();if(c.multiply(he),p.copy(re.mapSize),(c.x>k||c.y>k)&&(c.x>k&&(p.x=Math.floor(k/he.x),c.x=p.x*he.x,re.mapSize.x=p.x),c.y>k&&(p.y=Math.floor(k/he.y),c.y=p.y*he.y,re.mapSize.y=p.y)),re.map===null&&!re.isPointLightShadow&&this.type===xp&&(re.map=new Ra(c.x,c.y),re.map.texture.name=le.name+".shadowMap",re.mapPass=new Ra(c.x,c.y),re.camera.updateProjectionMatrix()),re.map===null){const Re={minFilter:oo,magFilter:oo,format:Al};re.map=new Ra(c.x,c.y,Re),re.map.texture.name=le.name+".shadowMap",re.camera.updateProjectionMatrix()}a.setRenderTarget(re.map),a.clear();const me=re.getViewportCount();for(let Re=0;Re<me;Re++){const Ie=re.getViewport(Re);y.set(p.x*Ie.x,p.y*Ie.y,p.x*Ie.z,p.y*Ie.w),ye.viewport(y),re.updateMatrices(le,Re),n=re.getFrustum(),fe(we,be,re.camera,le,this.type)}!re.isPointLightShadow&&this.type===xp&&Z(re,be),re.needsUpdate=!1}U.needsUpdate=!1,a.setRenderTarget(ve,ne,ae)};function Z(oe,we){const be=t.update(H);B.defines.VSM_SAMPLES!==oe.blurSamples&&(B.defines.VSM_SAMPLES=oe.blurSamples,M.defines.VSM_SAMPLES=oe.blurSamples,B.needsUpdate=!0,M.needsUpdate=!0),B.uniforms.shadow_pass.value=oe.map.texture,B.uniforms.resolution.value=oe.mapSize,B.uniforms.radius.value=oe.radius,a.setRenderTarget(oe.mapPass),a.clear(),a.renderBufferDirect(we,null,be,B,H,null),M.uniforms.shadow_pass.value=oe.mapPass.texture,M.uniforms.resolution.value=oe.mapSize,M.uniforms.radius.value=oe.radius,a.setRenderTarget(oe.map),a.clear(),a.renderBufferDirect(we,null,be,M,H,null)}function K(oe,we,be,ve,ne,ae){let ye=null;const de=be.isPointLight===!0?oe.customDistanceMaterial:oe.customDepthMaterial;if(de!==void 0?ye=de:ye=be.isPointLight===!0?E:v,a.localClippingEnabled&&we.clipShadows===!0&&we.clippingPlanes.length!==0||we.displacementMap&&we.displacementScale!==0||we.alphaMap&&we.alphaTest>0){const xe=ye.uuid,le=we.uuid;let re=_[xe];re===void 0&&(re={},_[xe]=re);let he=re[le];he===void 0&&(he=ye.clone(),re[le]=he),ye=he}return ye.visible=we.visible,ye.wireframe=we.wireframe,ae===xp?ye.side=we.shadowSide!==null?we.shadowSide:we.side:ye.side=we.shadowSide!==null?we.shadowSide:R[we.side],ye.alphaMap=we.alphaMap,ye.alphaTest=we.alphaTest,ye.clipShadows=we.clipShadows,ye.clippingPlanes=we.clippingPlanes,ye.clipIntersection=we.clipIntersection,ye.displacementMap=we.displacementMap,ye.displacementScale=we.displacementScale,ye.displacementBias=we.displacementBias,ye.wireframeLinewidth=we.wireframeLinewidth,ye.linewidth=we.linewidth,be.isPointLight===!0&&ye.isMeshDistanceMaterial===!0&&(ye.referencePosition.setFromMatrixPosition(be.matrixWorld),ye.nearDistance=ve,ye.farDistance=ne),ye}function fe(oe,we,be,ve,ne){if(oe.visible===!1)return;if(oe.layers.test(we.layers)&&(oe.isMesh||oe.isLine||oe.isPoints)&&(oe.castShadow||oe.receiveShadow&&ne===xp)&&(!oe.frustumCulled||n.intersectsObject(oe))){oe.modelViewMatrix.multiplyMatrices(be.matrixWorldInverse,oe.matrixWorld);const de=t.update(oe),xe=oe.material;if(Array.isArray(xe)){const le=de.groups;for(let re=0,he=le.length;re<he;re++){const me=le[re],Re=xe[me.materialIndex];if(Re&&Re.visible){const Ie=K(oe,Re,ve,be.near,be.far,ne);a.renderBufferDirect(be,null,de,Ie,oe,me)}}}else if(xe.visible){const le=K(oe,xe,ve,be.near,be.far,ne);a.renderBufferDirect(be,null,de,le,oe,null)}}const ye=oe.children;for(let de=0,xe=ye.length;de<xe;de++)fe(ye[de],we,be,ve,ne)}}function DW(a,t,r){const n=r.isWebGL2;function c(){let bt=!1;const Rr=new j0;let Ct=null;const Nt=new j0(0,0,0,0);return{setMask:function(lr){Ct!==lr&&!bt&&(a.colorMask(lr,lr,lr,lr),Ct=lr)},setLocked:function(lr){bt=lr},setClear:function(lr,Sr,Vr,gi,ki){ki===!0&&(lr*=gi,Sr*=gi,Vr*=gi),Rr.set(lr,Sr,Vr,gi),Nt.equals(Rr)===!1&&(a.clearColor(lr,Sr,Vr,gi),Nt.copy(Rr))},reset:function(){bt=!1,Ct=null,Nt.set(-1,0,0,0)}}}function p(){let bt=!1,Rr=null,Ct=null,Nt=null;return{setTest:function(lr){lr?Se(2929):Xe(2929)},setMask:function(lr){Rr!==lr&&!bt&&(a.depthMask(lr),Rr=lr)},setFunc:function(lr){if(Ct!==lr){if(lr)switch(lr){case VM:a.depthFunc(512);break;case ZE:a.depthFunc(519);break;case jM:a.depthFunc(513);break;case tw:a.depthFunc(515);break;case GM:a.depthFunc(514);break;case zM:a.depthFunc(518);break;case WM:a.depthFunc(516);break;case QM:a.depthFunc(517);break;default:a.depthFunc(515)}else a.depthFunc(515);Ct=lr}},setLocked:function(lr){bt=lr},setClear:function(lr){Nt!==lr&&(a.clearDepth(lr),Nt=lr)},reset:function(){bt=!1,Rr=null,Ct=null,Nt=null}}}function y(){let bt=!1,Rr=null,Ct=null,Nt=null,lr=null,Sr=null,Vr=null,gi=null,ki=null;return{setTest:function(mi){bt||(mi?Se(2960):Xe(2960))},setMask:function(mi){Rr!==mi&&!bt&&(a.stencilMask(mi),Rr=mi)},setFunc:function(mi,Fe,Ke){(Ct!==mi||Nt!==Fe||lr!==Ke)&&(a.stencilFunc(mi,Fe,Ke),Ct=mi,Nt=Fe,lr=Ke)},setOp:function(mi,Fe,Ke){(Sr!==mi||Vr!==Fe||gi!==Ke)&&(a.stencilOp(mi,Fe,Ke),Sr=mi,Vr=Fe,gi=Ke)},setLocked:function(mi){bt=mi},setClear:function(mi){ki!==mi&&(a.clearStencil(mi),ki=mi)},reset:function(){bt=!1,Rr=null,Ct=null,Nt=null,lr=null,Sr=null,Vr=null,gi=null,ki=null}}}const v=new c,E=new p,_=new y;let k={},R={},B=new WeakMap,M=[],F=null,H=!1,U=null,Z=null,K=null,fe=null,oe=null,we=null,be=null,ve=!1,ne=null,ae=null,ye=null,de=null,xe=null;const le=a.getParameter(35661);let re=!1,he=0;const me=a.getParameter(7938);me.indexOf("WebGL")!==-1?(he=parseFloat(/^WebGL (\d)/.exec(me)[1]),re=he>=1):me.indexOf("OpenGL ES")!==-1&&(he=parseFloat(/^OpenGL ES (\d)/.exec(me)[1]),re=he>=2);let Re=null,Ie={};const Ne=a.getParameter(3088),Qe=a.getParameter(2978),Ue=new j0().fromArray(Ne),ce=new j0().fromArray(Qe);function Me(bt,Rr,Ct){const Nt=new Uint8Array(4),lr=a.createTexture();a.bindTexture(bt,lr),a.texParameteri(bt,10241,9728),a.texParameteri(bt,10240,9728);for(let Sr=0;Sr<Ct;Sr++)a.texImage2D(Rr+Sr,0,6408,1,1,0,6408,5121,Nt);return lr}const ot={};ot[3553]=Me(3553,3553,1),ot[34067]=Me(34067,34069,6),v.setClear(0,0,0,1),E.setClear(1),_.setClear(0),Se(2929),E.setFunc(tw),Kt(!1),yr(B5),Se(2884),Gt(sc);function Se(bt){k[bt]!==!0&&(a.enable(bt),k[bt]=!0)}function Xe(bt){k[bt]!==!1&&(a.disable(bt),k[bt]=!1)}function ct(bt,Rr){return R[bt]!==Rr?(a.bindFramebuffer(bt,Rr),R[bt]=Rr,n&&(bt===36009&&(R[36160]=Rr),bt===36160&&(R[36009]=Rr)),!0):!1}function $e(bt,Rr){let Ct=M,Nt=!1;if(bt)if(Ct=B.get(Rr),Ct===void 0&&(Ct=[],B.set(Rr,Ct)),bt.isWebGLMultipleRenderTargets){const lr=bt.texture;if(Ct.length!==lr.length||Ct[0]!==36064){for(let Sr=0,Vr=lr.length;Sr<Vr;Sr++)Ct[Sr]=36064+Sr;Ct.length=lr.length,Nt=!0}}else Ct[0]!==36064&&(Ct[0]=36064,Nt=!0);else Ct[0]!==1029&&(Ct[0]=1029,Nt=!0);Nt&&(r.isWebGL2?a.drawBuffers(Ct):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ct))}function Et(bt){return F!==bt?(a.useProgram(bt),F=bt,!0):!1}const Dt={[Id]:32774,[RM]:32778,[DM]:32779};if(n)Dt[N5]=32775,Dt[F5]=32776;else{const bt=t.get("EXT_blend_minmax");bt!==null&&(Dt[N5]=bt.MIN_EXT,Dt[F5]=bt.MAX_EXT)}const er={[BM]:0,[IM]:1,[LM]:768,[XE]:770,[UM]:776,[OM]:774,[NM]:772,[PM]:769,[qE]:771,[HM]:775,[FM]:773};function Gt(bt,Rr,Ct,Nt,lr,Sr,Vr,gi){if(bt===sc){H===!0&&(Xe(3042),H=!1);return}if(H===!1&&(Se(3042),H=!0),bt!==MM){if(bt!==U||gi!==ve){if((Z!==Id||oe!==Id)&&(a.blendEquation(32774),Z=Id,oe=Id),gi)switch(bt){case Od:a.blendFuncSeparate(1,771,1,771);break;case I5:a.blendFunc(1,1);break;case L5:a.blendFuncSeparate(0,769,0,1);break;case P5:a.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",bt);break}else switch(bt){case Od:a.blendFuncSeparate(770,771,1,771);break;case I5:a.blendFunc(770,1);break;case L5:a.blendFuncSeparate(0,769,0,1);break;case P5:a.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",bt);break}K=null,fe=null,we=null,be=null,U=bt,ve=gi}return}lr=lr||Rr,Sr=Sr||Ct,Vr=Vr||Nt,(Rr!==Z||lr!==oe)&&(a.blendEquationSeparate(Dt[Rr],Dt[lr]),Z=Rr,oe=lr),(Ct!==K||Nt!==fe||Sr!==we||Vr!==be)&&(a.blendFuncSeparate(er[Ct],er[Nt],er[Sr],er[Vr]),K=Ct,fe=Nt,we=Sr,be=Vr),U=bt,ve=null}function Ht(bt,Rr){bt.side===Lf?Xe(2884):Se(2884);let Ct=bt.side===Ja;Rr&&(Ct=!Ct),Kt(Ct),bt.blending===Od&&bt.transparent===!1?Gt(sc):Gt(bt.blending,bt.blendEquation,bt.blendSrc,bt.blendDst,bt.blendEquationAlpha,bt.blendSrcAlpha,bt.blendDstAlpha,bt.premultipliedAlpha),E.setFunc(bt.depthFunc),E.setTest(bt.depthTest),E.setMask(bt.depthWrite),v.setMask(bt.colorWrite);const Nt=bt.stencilWrite;_.setTest(Nt),Nt&&(_.setMask(bt.stencilWriteMask),_.setFunc(bt.stencilFunc,bt.stencilRef,bt.stencilFuncMask),_.setOp(bt.stencilFail,bt.stencilZFail,bt.stencilZPass)),Yr(bt.polygonOffset,bt.polygonOffsetFactor,bt.polygonOffsetUnits),bt.alphaToCoverage===!0?Se(32926):Xe(32926)}function Kt(bt){ne!==bt&&(bt?a.frontFace(2304):a.frontFace(2305),ne=bt)}function yr(bt){bt!==CM?(Se(2884),bt!==ae&&(bt===B5?a.cullFace(1029):bt===SM?a.cullFace(1028):a.cullFace(1032))):Xe(2884),ae=bt}function Ur(bt){bt!==ye&&(re&&a.lineWidth(bt),ye=bt)}function Yr(bt,Rr,Ct){bt?(Se(32823),(de!==Rr||xe!==Ct)&&(a.polygonOffset(Rr,Ct),de=Rr,xe=Ct)):Xe(32823)}function oi(bt){bt?Se(3089):Xe(3089)}function xt(bt){bt===void 0&&(bt=33984+le-1),Re!==bt&&(a.activeTexture(bt),Re=bt)}function kt(bt,Rr){Re===null&&xt();let Ct=Ie[Re];Ct===void 0&&(Ct={type:void 0,texture:void 0},Ie[Re]=Ct),(Ct.type!==bt||Ct.texture!==Rr)&&(a.bindTexture(bt,Rr||ot[bt]),Ct.type=bt,Ct.texture=Rr)}function rr(){const bt=Ie[Re];bt!==void 0&&bt.type!==void 0&&(a.bindTexture(bt.type,null),bt.type=void 0,bt.texture=void 0)}function mt(){try{a.compressedTexImage2D.apply(a,arguments)}catch(bt){console.error("THREE.WebGLState:",bt)}}function ft(){try{a.texSubImage2D.apply(a,arguments)}catch(bt){console.error("THREE.WebGLState:",bt)}}function Ut(){try{a.texSubImage3D.apply(a,arguments)}catch(bt){console.error("THREE.WebGLState:",bt)}}function ir(){try{a.compressedTexSubImage2D.apply(a,arguments)}catch(bt){console.error("THREE.WebGLState:",bt)}}function vr(){try{a.texStorage2D.apply(a,arguments)}catch(bt){console.error("THREE.WebGLState:",bt)}}function nt(){try{a.texStorage3D.apply(a,arguments)}catch(bt){console.error("THREE.WebGLState:",bt)}}function De(){try{a.texImage2D.apply(a,arguments)}catch(bt){console.error("THREE.WebGLState:",bt)}}function Te(){try{a.texImage3D.apply(a,arguments)}catch(bt){console.error("THREE.WebGLState:",bt)}}function gt(bt){Ue.equals(bt)===!1&&(a.scissor(bt.x,bt.y,bt.z,bt.w),Ue.copy(bt))}function zt(bt){ce.equals(bt)===!1&&(a.viewport(bt.x,bt.y,bt.z,bt.w),ce.copy(bt))}function Bt(){a.disable(3042),a.disable(2884),a.disable(2929),a.disable(32823),a.disable(3089),a.disable(2960),a.disable(32926),a.blendEquation(32774),a.blendFunc(1,0),a.blendFuncSeparate(1,0,1,0),a.colorMask(!0,!0,!0,!0),a.clearColor(0,0,0,0),a.depthMask(!0),a.depthFunc(513),a.clearDepth(1),a.stencilMask(4294967295),a.stencilFunc(519,0,4294967295),a.stencilOp(7680,7680,7680),a.clearStencil(0),a.cullFace(1029),a.frontFace(2305),a.polygonOffset(0,0),a.activeTexture(33984),a.bindFramebuffer(36160,null),n===!0&&(a.bindFramebuffer(36009,null),a.bindFramebuffer(36008,null)),a.useProgram(null),a.lineWidth(1),a.scissor(0,0,a.canvas.width,a.canvas.height),a.viewport(0,0,a.canvas.width,a.canvas.height),k={},Re=null,Ie={},R={},B=new WeakMap,M=[],F=null,H=!1,U=null,Z=null,K=null,fe=null,oe=null,we=null,be=null,ve=!1,ne=null,ae=null,ye=null,de=null,xe=null,Ue.set(0,0,a.canvas.width,a.canvas.height),ce.set(0,0,a.canvas.width,a.canvas.height),v.reset(),E.reset(),_.reset()}return{buffers:{color:v,depth:E,stencil:_},enable:Se,disable:Xe,bindFramebuffer:ct,drawBuffers:$e,useProgram:Et,setBlending:Gt,setMaterial:Ht,setFlipSided:Kt,setCullFace:yr,setLineWidth:Ur,setPolygonOffset:Yr,setScissorTest:oi,activeTexture:xt,bindTexture:kt,unbindTexture:rr,compressedTexImage2D:mt,texImage2D:De,texImage3D:Te,texStorage2D:vr,texStorage3D:nt,texSubImage2D:ft,texSubImage3D:Ut,compressedTexSubImage2D:ir,scissor:gt,viewport:zt,reset:Bt}}function BW(a,t,r,n,c,p,y){const v=c.isWebGL2,E=c.maxTextures,_=c.maxCubemapSize,k=c.maxTextureSize,R=c.maxSamples,B=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,M=/OculusBrowser/g.test(navigator.userAgent),F=new WeakMap;let H;const U=new WeakMap;let Z=!1;try{Z=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function K(mt,ft){return Z?new OffscreenCanvas(mt,ft):Bg("canvas")}function fe(mt,ft,Ut,ir){let vr=1;if((mt.width>ir||mt.height>ir)&&(vr=ir/Math.max(mt.width,mt.height)),vr<1||ft===!0)if(typeof HTMLImageElement!="undefined"&&mt instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&mt instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&mt instanceof ImageBitmap){const nt=ft?iw:Math.floor,De=nt(vr*mt.width),Te=nt(vr*mt.height);H===void 0&&(H=K(De,Te));const gt=Ut?K(De,Te):H;return gt.width=De,gt.height=Te,gt.getContext("2d").drawImage(mt,0,0,De,Te),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+mt.width+"x"+mt.height+") to ("+De+"x"+Te+")."),gt}else return"data"in mt&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+mt.width+"x"+mt.height+")."),mt;return mt}function oe(mt){return oE(mt.width)&&oE(mt.height)}function we(mt){return v?!1:mt.wrapS!==ma||mt.wrapT!==ma||mt.minFilter!==oo&&mt.minFilter!==Es}function be(mt,ft){return mt.generateMipmaps&&ft&&mt.minFilter!==oo&&mt.minFilter!==Es}function ve(mt){a.generateMipmap(mt)}function ne(mt,ft,Ut,ir,vr=!1){if(v===!1)return ft;if(mt!==null){if(a[mt]!==void 0)return a[mt];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+mt+"'")}let nt=ft;return ft===6403&&(Ut===5126&&(nt=33326),Ut===5131&&(nt=33325),Ut===5121&&(nt=33321)),ft===33319&&(Ut===5126&&(nt=33328),Ut===5131&&(nt=33327),Ut===5121&&(nt=33323)),ft===6408&&(Ut===5126&&(nt=34836),Ut===5131&&(nt=34842),Ut===5121&&(nt=ir===b0&&vr===!1?35907:32856),Ut===32819&&(nt=32854),Ut===32820&&(nt=32855)),(nt===33325||nt===33326||nt===33327||nt===33328||nt===34842||nt===34836)&&t.get("EXT_color_buffer_float"),nt}function ae(mt,ft,Ut){return be(mt,Ut)===!0||mt.isFramebufferTexture&&mt.minFilter!==oo&&mt.minFilter!==Es?Math.log2(Math.max(ft.width,ft.height))+1:mt.mipmaps!==void 0&&mt.mipmaps.length>0?mt.mipmaps.length:mt.isCompressedTexture&&Array.isArray(mt.image)?ft.mipmaps.length:1}function ye(mt){return mt===oo||mt===Tg||mt===Mg?9728:9729}function de(mt){const ft=mt.target;ft.removeEventListener("dispose",de),le(ft),ft.isVideoTexture&&F.delete(ft)}function xe(mt){const ft=mt.target;ft.removeEventListener("dispose",xe),he(ft)}function le(mt){const ft=n.get(mt);if(ft.__webglInit===void 0)return;const Ut=mt.source,ir=U.get(Ut);if(ir){const vr=ir[ft.__cacheKey];vr.usedTimes--,vr.usedTimes===0&&re(mt),Object.keys(ir).length===0&&U.delete(Ut)}n.remove(mt)}function re(mt){const ft=n.get(mt);a.deleteTexture(ft.__webglTexture);const Ut=mt.source,ir=U.get(Ut);delete ir[ft.__cacheKey],y.memory.textures--}function he(mt){const ft=mt.texture,Ut=n.get(mt),ir=n.get(ft);if(ir.__webglTexture!==void 0&&(a.deleteTexture(ir.__webglTexture),y.memory.textures--),mt.depthTexture&&mt.depthTexture.dispose(),mt.isWebGLCubeRenderTarget)for(let vr=0;vr<6;vr++)a.deleteFramebuffer(Ut.__webglFramebuffer[vr]),Ut.__webglDepthbuffer&&a.deleteRenderbuffer(Ut.__webglDepthbuffer[vr]);else a.deleteFramebuffer(Ut.__webglFramebuffer),Ut.__webglDepthbuffer&&a.deleteRenderbuffer(Ut.__webglDepthbuffer),Ut.__webglMultisampledFramebuffer&&a.deleteFramebuffer(Ut.__webglMultisampledFramebuffer),Ut.__webglColorRenderbuffer&&a.deleteRenderbuffer(Ut.__webglColorRenderbuffer),Ut.__webglDepthRenderbuffer&&a.deleteRenderbuffer(Ut.__webglDepthRenderbuffer);if(mt.isWebGLMultipleRenderTargets)for(let vr=0,nt=ft.length;vr<nt;vr++){const De=n.get(ft[vr]);De.__webglTexture&&(a.deleteTexture(De.__webglTexture),y.memory.textures--),n.remove(ft[vr])}n.remove(ft),n.remove(mt)}let me=0;function Re(){me=0}function Ie(){const mt=me;return mt>=E&&console.warn("THREE.WebGLTextures: Trying to use "+mt+" texture units while this GPU supports only "+E),me+=1,mt}function Ne(mt){const ft=[];return ft.push(mt.wrapS),ft.push(mt.wrapT),ft.push(mt.magFilter),ft.push(mt.minFilter),ft.push(mt.anisotropy),ft.push(mt.internalFormat),ft.push(mt.format),ft.push(mt.type),ft.push(mt.generateMipmaps),ft.push(mt.premultiplyAlpha),ft.push(mt.flipY),ft.push(mt.unpackAlignment),ft.push(mt.encoding),ft.join()}function Qe(mt,ft){const Ut=n.get(mt);if(mt.isVideoTexture&&kt(mt),mt.isRenderTargetTexture===!1&&mt.version>0&&Ut.__version!==mt.version){const ir=mt.image;if(ir===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ir.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{$e(Ut,mt,ft);return}}r.activeTexture(33984+ft),r.bindTexture(3553,Ut.__webglTexture)}function Ue(mt,ft){const Ut=n.get(mt);if(mt.version>0&&Ut.__version!==mt.version){$e(Ut,mt,ft);return}r.activeTexture(33984+ft),r.bindTexture(35866,Ut.__webglTexture)}function ce(mt,ft){const Ut=n.get(mt);if(mt.version>0&&Ut.__version!==mt.version){$e(Ut,mt,ft);return}r.activeTexture(33984+ft),r.bindTexture(32879,Ut.__webglTexture)}function Me(mt,ft){const Ut=n.get(mt);if(mt.version>0&&Ut.__version!==mt.version){Et(Ut,mt,ft);return}r.activeTexture(33984+ft),r.bindTexture(34067,Ut.__webglTexture)}const ot={[Sh]:10497,[ma]:33071,[Hp]:33648},Se={[oo]:9728,[Tg]:9984,[Mg]:9986,[Es]:9729,[Sw]:9985,[Tu]:9987};function Xe(mt,ft,Ut){if(Ut?(a.texParameteri(mt,10242,ot[ft.wrapS]),a.texParameteri(mt,10243,ot[ft.wrapT]),(mt===32879||mt===35866)&&a.texParameteri(mt,32882,ot[ft.wrapR]),a.texParameteri(mt,10240,Se[ft.magFilter]),a.texParameteri(mt,10241,Se[ft.minFilter])):(a.texParameteri(mt,10242,33071),a.texParameteri(mt,10243,33071),(mt===32879||mt===35866)&&a.texParameteri(mt,32882,33071),(ft.wrapS!==ma||ft.wrapT!==ma)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),a.texParameteri(mt,10240,ye(ft.magFilter)),a.texParameteri(mt,10241,ye(ft.minFilter)),ft.minFilter!==oo&&ft.minFilter!==Es&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),t.has("EXT_texture_filter_anisotropic")===!0){const ir=t.get("EXT_texture_filter_anisotropic");if(ft.type===ic&&t.has("OES_texture_float_linear")===!1||v===!1&&ft.type===Vp&&t.has("OES_texture_half_float_linear")===!1)return;(ft.anisotropy>1||n.get(ft).__currentAnisotropy)&&(a.texParameterf(mt,ir.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ft.anisotropy,c.getMaxAnisotropy())),n.get(ft).__currentAnisotropy=ft.anisotropy)}}function ct(mt,ft){let Ut=!1;mt.__webglInit===void 0&&(mt.__webglInit=!0,ft.addEventListener("dispose",de));const ir=ft.source;let vr=U.get(ir);vr===void 0&&(vr={},U.set(ir,vr));const nt=Ne(ft);if(nt!==mt.__cacheKey){vr[nt]===void 0&&(vr[nt]={texture:a.createTexture(),usedTimes:0},y.memory.textures++,Ut=!0),vr[nt].usedTimes++;const De=vr[mt.__cacheKey];De!==void 0&&(vr[mt.__cacheKey].usedTimes--,De.usedTimes===0&&re(ft)),mt.__cacheKey=nt,mt.__webglTexture=vr[nt].texture}return Ut}function $e(mt,ft,Ut){let ir=3553;ft.isDataArrayTexture&&(ir=35866),ft.isData3DTexture&&(ir=32879);const vr=ct(mt,ft),nt=ft.source;if(r.activeTexture(33984+Ut),r.bindTexture(ir,mt.__webglTexture),nt.version!==nt.__currentVersion||vr===!0){a.pixelStorei(37440,ft.flipY),a.pixelStorei(37441,ft.premultiplyAlpha),a.pixelStorei(3317,ft.unpackAlignment),a.pixelStorei(37443,0);const De=we(ft)&&oe(ft.image)===!1;let Te=fe(ft.image,De,!1,k);Te=rr(ft,Te);const gt=oe(Te)||v,zt=p.convert(ft.format,ft.encoding);let Bt=p.convert(ft.type),bt=ne(ft.internalFormat,zt,Bt,ft.encoding,ft.isVideoTexture);Xe(ir,ft,gt);let Rr;const Ct=ft.mipmaps,Nt=v&&ft.isVideoTexture!==!0,lr=mt.__version===void 0||vr===!0,Sr=ae(ft,Te,gt);if(ft.isDepthTexture)bt=6402,v?ft.type===ic?bt=36012:ft.type===gg?bt=33190:ft.type===Hd?bt=35056:bt=33189:ft.type===ic&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),ft.format===wh&&bt===6402&&ft.type!==Up&&ft.type!==gg&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),ft.type=Up,Bt=p.convert(ft.type)),ft.format===Qd&&bt===6402&&(bt=34041,ft.type!==Hd&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),ft.type=Hd,Bt=p.convert(ft.type))),lr&&(Nt?r.texStorage2D(3553,1,bt,Te.width,Te.height):r.texImage2D(3553,0,bt,Te.width,Te.height,0,zt,Bt,null));else if(ft.isDataTexture)if(Ct.length>0&&gt){Nt&&lr&&r.texStorage2D(3553,Sr,bt,Ct[0].width,Ct[0].height);for(let Vr=0,gi=Ct.length;Vr<gi;Vr++)Rr=Ct[Vr],Nt?r.texSubImage2D(3553,Vr,0,0,Rr.width,Rr.height,zt,Bt,Rr.data):r.texImage2D(3553,Vr,bt,Rr.width,Rr.height,0,zt,Bt,Rr.data);ft.generateMipmaps=!1}else Nt?(lr&&r.texStorage2D(3553,Sr,bt,Te.width,Te.height),r.texSubImage2D(3553,0,0,0,Te.width,Te.height,zt,Bt,Te.data)):r.texImage2D(3553,0,bt,Te.width,Te.height,0,zt,Bt,Te.data);else if(ft.isCompressedTexture){Nt&&lr&&r.texStorage2D(3553,Sr,bt,Ct[0].width,Ct[0].height);for(let Vr=0,gi=Ct.length;Vr<gi;Vr++)Rr=Ct[Vr],ft.format!==Al?zt!==null?Nt?r.compressedTexSubImage2D(3553,Vr,0,0,Rr.width,Rr.height,zt,Rr.data):r.compressedTexImage2D(3553,Vr,bt,Rr.width,Rr.height,0,Rr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Nt?r.texSubImage2D(3553,Vr,0,0,Rr.width,Rr.height,zt,Bt,Rr.data):r.texImage2D(3553,Vr,bt,Rr.width,Rr.height,0,zt,Bt,Rr.data)}else if(ft.isDataArrayTexture)Nt?(lr&&r.texStorage3D(35866,Sr,bt,Te.width,Te.height,Te.depth),r.texSubImage3D(35866,0,0,0,0,Te.width,Te.height,Te.depth,zt,Bt,Te.data)):r.texImage3D(35866,0,bt,Te.width,Te.height,Te.depth,0,zt,Bt,Te.data);else if(ft.isData3DTexture)Nt?(lr&&r.texStorage3D(32879,Sr,bt,Te.width,Te.height,Te.depth),r.texSubImage3D(32879,0,0,0,0,Te.width,Te.height,Te.depth,zt,Bt,Te.data)):r.texImage3D(32879,0,bt,Te.width,Te.height,Te.depth,0,zt,Bt,Te.data);else if(ft.isFramebufferTexture){if(lr)if(Nt)r.texStorage2D(3553,Sr,bt,Te.width,Te.height);else{let Vr=Te.width,gi=Te.height;for(let ki=0;ki<Sr;ki++)r.texImage2D(3553,ki,bt,Vr,gi,0,zt,Bt,null),Vr>>=1,gi>>=1}}else if(Ct.length>0&&gt){Nt&&lr&&r.texStorage2D(3553,Sr,bt,Ct[0].width,Ct[0].height);for(let Vr=0,gi=Ct.length;Vr<gi;Vr++)Rr=Ct[Vr],Nt?r.texSubImage2D(3553,Vr,0,0,zt,Bt,Rr):r.texImage2D(3553,Vr,bt,zt,Bt,Rr);ft.generateMipmaps=!1}else Nt?(lr&&r.texStorage2D(3553,Sr,bt,Te.width,Te.height),r.texSubImage2D(3553,0,0,0,zt,Bt,Te)):r.texImage2D(3553,0,bt,zt,Bt,Te);be(ft,gt)&&ve(ir),nt.__currentVersion=nt.version,ft.onUpdate&&ft.onUpdate(ft)}mt.__version=ft.version}function Et(mt,ft,Ut){if(ft.image.length!==6)return;const ir=ct(mt,ft),vr=ft.source;if(r.activeTexture(33984+Ut),r.bindTexture(34067,mt.__webglTexture),vr.version!==vr.__currentVersion||ir===!0){a.pixelStorei(37440,ft.flipY),a.pixelStorei(37441,ft.premultiplyAlpha),a.pixelStorei(3317,ft.unpackAlignment),a.pixelStorei(37443,0);const nt=ft.isCompressedTexture||ft.image[0].isCompressedTexture,De=ft.image[0]&&ft.image[0].isDataTexture,Te=[];for(let Vr=0;Vr<6;Vr++)!nt&&!De?Te[Vr]=fe(ft.image[Vr],!1,!0,_):Te[Vr]=De?ft.image[Vr].image:ft.image[Vr],Te[Vr]=rr(ft,Te[Vr]);const gt=Te[0],zt=oe(gt)||v,Bt=p.convert(ft.format,ft.encoding),bt=p.convert(ft.type),Rr=ne(ft.internalFormat,Bt,bt,ft.encoding),Ct=v&&ft.isVideoTexture!==!0,Nt=mt.__version===void 0;let lr=ae(ft,gt,zt);Xe(34067,ft,zt);let Sr;if(nt){Ct&&Nt&&r.texStorage2D(34067,lr,Rr,gt.width,gt.height);for(let Vr=0;Vr<6;Vr++){Sr=Te[Vr].mipmaps;for(let gi=0;gi<Sr.length;gi++){const ki=Sr[gi];ft.format!==Al?Bt!==null?Ct?r.compressedTexSubImage2D(34069+Vr,gi,0,0,ki.width,ki.height,Bt,ki.data):r.compressedTexImage2D(34069+Vr,gi,Rr,ki.width,ki.height,0,ki.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ct?r.texSubImage2D(34069+Vr,gi,0,0,ki.width,ki.height,Bt,bt,ki.data):r.texImage2D(34069+Vr,gi,Rr,ki.width,ki.height,0,Bt,bt,ki.data)}}}else{Sr=ft.mipmaps,Ct&&Nt&&(Sr.length>0&&lr++,r.texStorage2D(34067,lr,Rr,Te[0].width,Te[0].height));for(let Vr=0;Vr<6;Vr++)if(De){Ct?r.texSubImage2D(34069+Vr,0,0,0,Te[Vr].width,Te[Vr].height,Bt,bt,Te[Vr].data):r.texImage2D(34069+Vr,0,Rr,Te[Vr].width,Te[Vr].height,0,Bt,bt,Te[Vr].data);for(let gi=0;gi<Sr.length;gi++){const mi=Sr[gi].image[Vr].image;Ct?r.texSubImage2D(34069+Vr,gi+1,0,0,mi.width,mi.height,Bt,bt,mi.data):r.texImage2D(34069+Vr,gi+1,Rr,mi.width,mi.height,0,Bt,bt,mi.data)}}else{Ct?r.texSubImage2D(34069+Vr,0,0,0,Bt,bt,Te[Vr]):r.texImage2D(34069+Vr,0,Rr,Bt,bt,Te[Vr]);for(let gi=0;gi<Sr.length;gi++){const ki=Sr[gi];Ct?r.texSubImage2D(34069+Vr,gi+1,0,0,Bt,bt,ki.image[Vr]):r.texImage2D(34069+Vr,gi+1,Rr,Bt,bt,ki.image[Vr])}}}be(ft,zt)&&ve(34067),vr.__currentVersion=vr.version,ft.onUpdate&&ft.onUpdate(ft)}mt.__version=ft.version}function Dt(mt,ft,Ut,ir,vr){const nt=p.convert(Ut.format,Ut.encoding),De=p.convert(Ut.type),Te=ne(Ut.internalFormat,nt,De,Ut.encoding);n.get(ft).__hasExternalTextures||(vr===32879||vr===35866?r.texImage3D(vr,0,Te,ft.width,ft.height,ft.depth,0,nt,De,null):r.texImage2D(vr,0,Te,ft.width,ft.height,0,nt,De,null)),r.bindFramebuffer(36160,mt),xt(ft)?B.framebufferTexture2DMultisampleEXT(36160,ir,vr,n.get(Ut).__webglTexture,0,oi(ft)):a.framebufferTexture2D(36160,ir,vr,n.get(Ut).__webglTexture,0),r.bindFramebuffer(36160,null)}function er(mt,ft,Ut){if(a.bindRenderbuffer(36161,mt),ft.depthBuffer&&!ft.stencilBuffer){let ir=33189;if(Ut||xt(ft)){const vr=ft.depthTexture;vr&&vr.isDepthTexture&&(vr.type===ic?ir=36012:vr.type===gg&&(ir=33190));const nt=oi(ft);xt(ft)?B.renderbufferStorageMultisampleEXT(36161,nt,ir,ft.width,ft.height):a.renderbufferStorageMultisample(36161,nt,ir,ft.width,ft.height)}else a.renderbufferStorage(36161,ir,ft.width,ft.height);a.framebufferRenderbuffer(36160,36096,36161,mt)}else if(ft.depthBuffer&&ft.stencilBuffer){const ir=oi(ft);Ut&&xt(ft)===!1?a.renderbufferStorageMultisample(36161,ir,35056,ft.width,ft.height):xt(ft)?B.renderbufferStorageMultisampleEXT(36161,ir,35056,ft.width,ft.height):a.renderbufferStorage(36161,34041,ft.width,ft.height),a.framebufferRenderbuffer(36160,33306,36161,mt)}else{const ir=ft.isWebGLMultipleRenderTargets===!0?ft.texture[0]:ft.texture,vr=p.convert(ir.format,ir.encoding),nt=p.convert(ir.type),De=ne(ir.internalFormat,vr,nt,ir.encoding),Te=oi(ft);Ut&&xt(ft)===!1?a.renderbufferStorageMultisample(36161,Te,De,ft.width,ft.height):xt(ft)?B.renderbufferStorageMultisampleEXT(36161,Te,De,ft.width,ft.height):a.renderbufferStorage(36161,De,ft.width,ft.height)}a.bindRenderbuffer(36161,null)}function Gt(mt,ft){if(ft&&ft.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(36160,mt),!(ft.depthTexture&&ft.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(ft.depthTexture).__webglTexture||ft.depthTexture.image.width!==ft.width||ft.depthTexture.image.height!==ft.height)&&(ft.depthTexture.image.width=ft.width,ft.depthTexture.image.height=ft.height,ft.depthTexture.needsUpdate=!0),Qe(ft.depthTexture,0);const ir=n.get(ft.depthTexture).__webglTexture,vr=oi(ft);if(ft.depthTexture.format===wh)xt(ft)?B.framebufferTexture2DMultisampleEXT(36160,36096,3553,ir,0,vr):a.framebufferTexture2D(36160,36096,3553,ir,0);else if(ft.depthTexture.format===Qd)xt(ft)?B.framebufferTexture2DMultisampleEXT(36160,33306,3553,ir,0,vr):a.framebufferTexture2D(36160,33306,3553,ir,0);else throw new Error("Unknown depthTexture format")}function Ht(mt){const ft=n.get(mt),Ut=mt.isWebGLCubeRenderTarget===!0;if(mt.depthTexture&&!ft.__autoAllocateDepthBuffer){if(Ut)throw new Error("target.depthTexture not supported in Cube render targets");Gt(ft.__webglFramebuffer,mt)}else if(Ut){ft.__webglDepthbuffer=[];for(let ir=0;ir<6;ir++)r.bindFramebuffer(36160,ft.__webglFramebuffer[ir]),ft.__webglDepthbuffer[ir]=a.createRenderbuffer(),er(ft.__webglDepthbuffer[ir],mt,!1)}else r.bindFramebuffer(36160,ft.__webglFramebuffer),ft.__webglDepthbuffer=a.createRenderbuffer(),er(ft.__webglDepthbuffer,mt,!1);r.bindFramebuffer(36160,null)}function Kt(mt,ft,Ut){const ir=n.get(mt);ft!==void 0&&Dt(ir.__webglFramebuffer,mt,mt.texture,36064,3553),Ut!==void 0&&Ht(mt)}function yr(mt){const ft=mt.texture,Ut=n.get(mt),ir=n.get(ft);mt.addEventListener("dispose",xe),mt.isWebGLMultipleRenderTargets!==!0&&(ir.__webglTexture===void 0&&(ir.__webglTexture=a.createTexture()),ir.__version=ft.version,y.memory.textures++);const vr=mt.isWebGLCubeRenderTarget===!0,nt=mt.isWebGLMultipleRenderTargets===!0,De=oe(mt)||v;if(vr){Ut.__webglFramebuffer=[];for(let Te=0;Te<6;Te++)Ut.__webglFramebuffer[Te]=a.createFramebuffer()}else if(Ut.__webglFramebuffer=a.createFramebuffer(),nt)if(c.drawBuffers){const Te=mt.texture;for(let gt=0,zt=Te.length;gt<zt;gt++){const Bt=n.get(Te[gt]);Bt.__webglTexture===void 0&&(Bt.__webglTexture=a.createTexture(),y.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(v&&mt.samples>0&&xt(mt)===!1){Ut.__webglMultisampledFramebuffer=a.createFramebuffer(),Ut.__webglColorRenderbuffer=a.createRenderbuffer(),a.bindRenderbuffer(36161,Ut.__webglColorRenderbuffer);const Te=p.convert(ft.format,ft.encoding),gt=p.convert(ft.type),zt=ne(ft.internalFormat,Te,gt,ft.encoding),Bt=oi(mt);a.renderbufferStorageMultisample(36161,Bt,zt,mt.width,mt.height),r.bindFramebuffer(36160,Ut.__webglMultisampledFramebuffer),a.framebufferRenderbuffer(36160,36064,36161,Ut.__webglColorRenderbuffer),a.bindRenderbuffer(36161,null),mt.depthBuffer&&(Ut.__webglDepthRenderbuffer=a.createRenderbuffer(),er(Ut.__webglDepthRenderbuffer,mt,!0)),r.bindFramebuffer(36160,null)}if(vr){r.bindTexture(34067,ir.__webglTexture),Xe(34067,ft,De);for(let Te=0;Te<6;Te++)Dt(Ut.__webglFramebuffer[Te],mt,ft,36064,34069+Te);be(ft,De)&&ve(34067),r.unbindTexture()}else if(nt){const Te=mt.texture;for(let gt=0,zt=Te.length;gt<zt;gt++){const Bt=Te[gt],bt=n.get(Bt);r.bindTexture(3553,bt.__webglTexture),Xe(3553,Bt,De),Dt(Ut.__webglFramebuffer,mt,Bt,36064+gt,3553),be(Bt,De)&&ve(3553)}r.unbindTexture()}else{let Te=3553;(mt.isWebGL3DRenderTarget||mt.isWebGLArrayRenderTarget)&&(v?Te=mt.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),r.bindTexture(Te,ir.__webglTexture),Xe(Te,ft,De),Dt(Ut.__webglFramebuffer,mt,ft,36064,Te),be(ft,De)&&ve(Te),r.unbindTexture()}mt.depthBuffer&&Ht(mt)}function Ur(mt){const ft=oe(mt)||v,Ut=mt.isWebGLMultipleRenderTargets===!0?mt.texture:[mt.texture];for(let ir=0,vr=Ut.length;ir<vr;ir++){const nt=Ut[ir];if(be(nt,ft)){const De=mt.isWebGLCubeRenderTarget?34067:3553,Te=n.get(nt).__webglTexture;r.bindTexture(De,Te),ve(De),r.unbindTexture()}}}function Yr(mt){if(v&&mt.samples>0&&xt(mt)===!1){const ft=mt.width,Ut=mt.height;let ir=16384;const vr=[36064],nt=mt.stencilBuffer?33306:36096;mt.depthBuffer&&vr.push(nt);const De=n.get(mt),Te=De.__ignoreDepthValues!==void 0?De.__ignoreDepthValues:!1;Te===!1&&(mt.depthBuffer&&(ir|=256),mt.stencilBuffer&&(ir|=1024)),r.bindFramebuffer(36008,De.__webglMultisampledFramebuffer),r.bindFramebuffer(36009,De.__webglFramebuffer),Te===!0&&(a.invalidateFramebuffer(36008,[nt]),a.invalidateFramebuffer(36009,[nt])),a.blitFramebuffer(0,0,ft,Ut,0,0,ft,Ut,ir,9728),M&&a.invalidateFramebuffer(36008,vr),r.bindFramebuffer(36008,null),r.bindFramebuffer(36009,De.__webglMultisampledFramebuffer)}}function oi(mt){return Math.min(R,mt.samples)}function xt(mt){const ft=n.get(mt);return v&&mt.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&ft.__useRenderToTexture!==!1}function kt(mt){const ft=y.render.frame;F.get(mt)!==ft&&(F.set(mt,ft),mt.update())}function rr(mt,ft){const Ut=mt.encoding,ir=mt.format,vr=mt.type;return mt.isCompressedTexture===!0||mt.isVideoTexture===!0||mt.format===rw||Ut!==lc&&(Ut===b0?v===!1?t.has("EXT_sRGB")===!0&&ir===Al?(mt.format=rw,mt.minFilter=Es,mt.generateMipmaps=!1):ft=Ph.sRGBToLinear(ft):(ir!==Al||vr!==Th)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Ut)),ft}this.allocateTextureUnit=Ie,this.resetTextureUnits=Re,this.setTexture2D=Qe,this.setTexture2DArray=Ue,this.setTexture3D=ce,this.setTextureCube=Me,this.rebindTextures=Kt,this.setupRenderTarget=yr,this.updateRenderTargetMipmap=Ur,this.updateMultisampleRenderTarget=Yr,this.setupDepthRenderbuffer=Ht,this.setupFrameBufferTexture=Dt,this.useMultisampledRTT=xt}function z7(a,t,r){const n=r.isWebGL2;function c(p,y=null){let v;if(p===Th)return 5121;if(p===i7)return 32819;if(p===n7)return 32820;if(p===e7)return 5120;if(p===t7)return 5122;if(p===Up)return 5123;if(p===r7)return 5124;if(p===gg)return 5125;if(p===ic)return 5126;if(p===Vp)return n?5131:(v=t.get("OES_texture_half_float"),v!==null?v.HALF_FLOAT_OES:null);if(p===s7)return 6406;if(p===Al)return 6408;if(p===a7)return 6409;if(p===l7)return 6410;if(p===wh)return 6402;if(p===Qd)return 34041;if(p===f7)return 6403;if(p===o7)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(p===rw)return v=t.get("EXT_sRGB"),v!==null?v.SRGB_ALPHA_EXT:null;if(p===u7)return 36244;if(p===c7)return 33319;if(p===h7)return 33320;if(p===d7)return 36249;if(p===Tv||p===Mv||p===Rv||p===Dv)if(y===b0)if(v=t.get("WEBGL_compressed_texture_s3tc_srgb"),v!==null){if(p===Tv)return v.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(p===Mv)return v.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(p===Rv)return v.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(p===Dv)return v.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(v=t.get("WEBGL_compressed_texture_s3tc"),v!==null){if(p===Tv)return v.COMPRESSED_RGB_S3TC_DXT1_EXT;if(p===Mv)return v.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(p===Rv)return v.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(p===Dv)return v.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(p===O5||p===H5||p===U5||p===V5)if(v=t.get("WEBGL_compressed_texture_pvrtc"),v!==null){if(p===O5)return v.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(p===H5)return v.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(p===U5)return v.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(p===V5)return v.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(p===p7)return v=t.get("WEBGL_compressed_texture_etc1"),v!==null?v.COMPRESSED_RGB_ETC1_WEBGL:null;if(p===j5||p===G5)if(v=t.get("WEBGL_compressed_texture_etc"),v!==null){if(p===j5)return y===b0?v.COMPRESSED_SRGB8_ETC2:v.COMPRESSED_RGB8_ETC2;if(p===G5)return y===b0?v.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:v.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(p===z5||p===W5||p===Q5||p===J5||p===X5||p===q5||p===Z5||p===Y5||p===K5||p===$5||p===eE||p===tE||p===rE||p===iE)if(v=t.get("WEBGL_compressed_texture_astc"),v!==null){if(p===z5)return y===b0?v.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:v.COMPRESSED_RGBA_ASTC_4x4_KHR;if(p===W5)return y===b0?v.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:v.COMPRESSED_RGBA_ASTC_5x4_KHR;if(p===Q5)return y===b0?v.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:v.COMPRESSED_RGBA_ASTC_5x5_KHR;if(p===J5)return y===b0?v.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:v.COMPRESSED_RGBA_ASTC_6x5_KHR;if(p===X5)return y===b0?v.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:v.COMPRESSED_RGBA_ASTC_6x6_KHR;if(p===q5)return y===b0?v.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:v.COMPRESSED_RGBA_ASTC_8x5_KHR;if(p===Z5)return y===b0?v.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:v.COMPRESSED_RGBA_ASTC_8x6_KHR;if(p===Y5)return y===b0?v.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:v.COMPRESSED_RGBA_ASTC_8x8_KHR;if(p===K5)return y===b0?v.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:v.COMPRESSED_RGBA_ASTC_10x5_KHR;if(p===$5)return y===b0?v.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:v.COMPRESSED_RGBA_ASTC_10x6_KHR;if(p===eE)return y===b0?v.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:v.COMPRESSED_RGBA_ASTC_10x8_KHR;if(p===tE)return y===b0?v.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:v.COMPRESSED_RGBA_ASTC_10x10_KHR;if(p===rE)return y===b0?v.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:v.COMPRESSED_RGBA_ASTC_12x10_KHR;if(p===iE)return y===b0?v.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:v.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(p===nE)if(v=t.get("EXT_texture_compression_bptc"),v!==null){if(p===nE)return y===b0?v.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:v.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return p===Hd?n?34042:(v=t.get("WEBGL_depth_texture"),v!==null?v.UNSIGNED_INT_24_8_WEBGL:null):a[p]!==void 0?a[p]:null}return{convert:c}}class i8 extends ko{constructor(t=[]){super(),this.cameras=t}}i8.prototype.isArrayCamera=!0;class xl extends Rn{constructor(){super(),this.type="Group"}}xl.prototype.isGroup=!0;const IW={type:"move"};class Rx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new xl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new xl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new wt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new wt),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new xl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new wt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new wt),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,r,n){let c=null,p=null,y=null;const v=this._targetRay,E=this._grip,_=this._hand;if(t&&r.session.visibilityState!=="visible-blurred")if(v!==null&&(c=r.getPose(t.targetRaySpace,n),c!==null&&(v.matrix.fromArray(c.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),c.linearVelocity?(v.hasLinearVelocity=!0,v.linearVelocity.copy(c.linearVelocity)):v.hasLinearVelocity=!1,c.angularVelocity?(v.hasAngularVelocity=!0,v.angularVelocity.copy(c.angularVelocity)):v.hasAngularVelocity=!1,this.dispatchEvent(IW))),_&&t.hand){y=!0;for(const H of t.hand.values()){const U=r.getJointPose(H,n);if(_.joints[H.jointName]===void 0){const K=new xl;K.matrixAutoUpdate=!1,K.visible=!1,_.joints[H.jointName]=K,_.add(K)}const Z=_.joints[H.jointName];U!==null&&(Z.matrix.fromArray(U.transform.matrix),Z.matrix.decompose(Z.position,Z.rotation,Z.scale),Z.jointRadius=U.radius),Z.visible=U!==null}const k=_.joints["index-finger-tip"],R=_.joints["thumb-tip"],B=k.position.distanceTo(R.position),M=.02,F=.005;_.inputState.pinching&&B>M+F?(_.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!_.inputState.pinching&&B<=M-F&&(_.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else E!==null&&t.gripSpace&&(p=r.getPose(t.gripSpace,n),p!==null&&(E.matrix.fromArray(p.transform.matrix),E.matrix.decompose(E.position,E.rotation,E.scale),p.linearVelocity?(E.hasLinearVelocity=!0,E.linearVelocity.copy(p.linearVelocity)):E.hasLinearVelocity=!1,p.angularVelocity?(E.hasAngularVelocity=!0,E.angularVelocity.copy(p.angularVelocity)):E.hasAngularVelocity=!1));return v!==null&&(v.visible=c!==null),E!==null&&(E.visible=p!==null),_!==null&&(_.visible=y!==null),this}}class n8 extends Z0{constructor(t,r,n,c,p,y,v,E,_,k){if(k=k!==void 0?k:wh,k!==wh&&k!==Qd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&k===wh&&(n=Up),n===void 0&&k===Qd&&(n=Hd),super(null,c,p,y,v,E,k,n,_),this.image={width:t,height:r},this.magFilter=v!==void 0?v:oo,this.minFilter=E!==void 0?E:oo,this.flipY=!1,this.generateMipmaps=!1}}n8.prototype.isDepthTexture=!0;class LW extends dc{constructor(t,r){super();const n=this;let c=null,p=1,y=null,v="local-floor",E=null,_=null,k=null,R=null,B=null,M=null;const F=r.getContextAttributes();let H=null,U=null;const Z=[],K=new Map,fe=new ko;fe.layers.enable(1),fe.viewport=new j0;const oe=new ko;oe.layers.enable(2),oe.viewport=new j0;const we=[fe,oe],be=new i8;be.layers.enable(1),be.layers.enable(2);let ve=null,ne=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Ne){let Qe=Z[Ne];return Qe===void 0&&(Qe=new Rx,Z[Ne]=Qe),Qe.getTargetRaySpace()},this.getControllerGrip=function(Ne){let Qe=Z[Ne];return Qe===void 0&&(Qe=new Rx,Z[Ne]=Qe),Qe.getGripSpace()},this.getHand=function(Ne){let Qe=Z[Ne];return Qe===void 0&&(Qe=new Rx,Z[Ne]=Qe),Qe.getHandSpace()};function ae(Ne){const Qe=K.get(Ne.inputSource);Qe&&Qe.dispatchEvent({type:Ne.type,data:Ne.inputSource})}function ye(){K.forEach(function(Ne,Qe){Ne.disconnect(Qe)}),K.clear(),ve=null,ne=null,t.setRenderTarget(H),B=null,R=null,k=null,c=null,U=null,Ie.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Ne){p=Ne,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Ne){v=Ne,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return E||y},this.setReferenceSpace=function(Ne){E=Ne},this.getBaseLayer=function(){return R!==null?R:B},this.getBinding=function(){return k},this.getFrame=function(){return M},this.getSession=function(){return c},this.setSession=async function(Ne){if(c=Ne,c!==null){if(H=t.getRenderTarget(),c.addEventListener("select",ae),c.addEventListener("selectstart",ae),c.addEventListener("selectend",ae),c.addEventListener("squeeze",ae),c.addEventListener("squeezestart",ae),c.addEventListener("squeezeend",ae),c.addEventListener("end",ye),c.addEventListener("inputsourceschange",de),F.xrCompatible!==!0&&await r.makeXRCompatible(),c.renderState.layers===void 0||t.capabilities.isWebGL2===!1){const Qe={antialias:c.renderState.layers===void 0?F.antialias:!0,alpha:F.alpha,depth:F.depth,stencil:F.stencil,framebufferScaleFactor:p};B=new XRWebGLLayer(c,r,Qe),c.updateRenderState({baseLayer:B}),U=new Ra(B.framebufferWidth,B.framebufferHeight,{format:Al,type:Th,encoding:t.outputEncoding})}else{let Qe=null,Ue=null,ce=null;F.depth&&(ce=F.stencil?35056:33190,Qe=F.stencil?Qd:wh,Ue=F.stencil?Hd:Up);const Me={colorFormat:t.outputEncoding===b0?35907:32856,depthFormat:ce,scaleFactor:p};k=new XRWebGLBinding(c,r),R=k.createProjectionLayer(Me),c.updateRenderState({layers:[R]}),U=new Ra(R.textureWidth,R.textureHeight,{format:Al,type:Th,depthTexture:new n8(R.textureWidth,R.textureHeight,Ue,void 0,void 0,void 0,void 0,void 0,void 0,Qe),stencilBuffer:F.stencil,encoding:t.outputEncoding,samples:F.antialias?4:0});const ot=t.properties.get(U);ot.__ignoreDepthValues=R.ignoreDepthValues}U.isXRRenderTarget=!0,this.setFoveation(1),y=await c.requestReferenceSpace(v),Ie.setContext(c),Ie.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};function de(Ne){const Qe=c.inputSources;for(let Ue=0;Ue<Qe.length;Ue++){const ce=Qe[Ue].handedness==="right"?1:0;K.set(Qe[Ue],Z[ce])}for(let Ue=0;Ue<Ne.removed.length;Ue++){const ce=Ne.removed[Ue],Me=K.get(ce);Me&&(Me.dispatchEvent({type:"disconnected",data:ce}),K.delete(ce))}for(let Ue=0;Ue<Ne.added.length;Ue++){const ce=Ne.added[Ue],Me=K.get(ce);Me&&Me.dispatchEvent({type:"connected",data:ce})}}const xe=new wt,le=new wt;function re(Ne,Qe,Ue){xe.setFromMatrixPosition(Qe.matrixWorld),le.setFromMatrixPosition(Ue.matrixWorld);const ce=xe.distanceTo(le),Me=Qe.projectionMatrix.elements,ot=Ue.projectionMatrix.elements,Se=Me[14]/(Me[10]-1),Xe=Me[14]/(Me[10]+1),ct=(Me[9]+1)/Me[5],$e=(Me[9]-1)/Me[5],Et=(Me[8]-1)/Me[0],Dt=(ot[8]+1)/ot[0],er=Se*Et,Gt=Se*Dt,Ht=ce/(-Et+Dt),Kt=Ht*-Et;Qe.matrixWorld.decompose(Ne.position,Ne.quaternion,Ne.scale),Ne.translateX(Kt),Ne.translateZ(Ht),Ne.matrixWorld.compose(Ne.position,Ne.quaternion,Ne.scale),Ne.matrixWorldInverse.copy(Ne.matrixWorld).invert();const yr=Se+Ht,Ur=Xe+Ht,Yr=er-Kt,oi=Gt+(ce-Kt),xt=ct*Xe/Ur*yr,kt=$e*Xe/Ur*yr;Ne.projectionMatrix.makePerspective(Yr,oi,xt,kt,yr,Ur)}function he(Ne,Qe){Qe===null?Ne.matrixWorld.copy(Ne.matrix):Ne.matrixWorld.multiplyMatrices(Qe.matrixWorld,Ne.matrix),Ne.matrixWorldInverse.copy(Ne.matrixWorld).invert()}this.updateCamera=function(Ne){if(c===null)return;be.near=oe.near=fe.near=Ne.near,be.far=oe.far=fe.far=Ne.far,(ve!==be.near||ne!==be.far)&&(c.updateRenderState({depthNear:be.near,depthFar:be.far}),ve=be.near,ne=be.far);const Qe=Ne.parent,Ue=be.cameras;he(be,Qe);for(let Me=0;Me<Ue.length;Me++)he(Ue[Me],Qe);be.matrixWorld.decompose(be.position,be.quaternion,be.scale),Ne.position.copy(be.position),Ne.quaternion.copy(be.quaternion),Ne.scale.copy(be.scale),Ne.matrix.copy(be.matrix),Ne.matrixWorld.copy(be.matrixWorld);const ce=Ne.children;for(let Me=0,ot=ce.length;Me<ot;Me++)ce[Me].updateMatrixWorld(!0);Ue.length===2?re(be,fe,oe):be.projectionMatrix.copy(fe.projectionMatrix)},this.getCamera=function(){return be},this.getFoveation=function(){if(R!==null)return R.fixedFoveation;if(B!==null)return B.fixedFoveation},this.setFoveation=function(Ne){R!==null&&(R.fixedFoveation=Ne),B!==null&&B.fixedFoveation!==void 0&&(B.fixedFoveation=Ne)};let me=null;function Re(Ne,Qe){if(_=Qe.getViewerPose(E||y),M=Qe,_!==null){const ce=_.views;B!==null&&(t.setRenderTargetFramebuffer(U,B.framebuffer),t.setRenderTarget(U));let Me=!1;ce.length!==be.cameras.length&&(be.cameras.length=0,Me=!0);for(let ot=0;ot<ce.length;ot++){const Se=ce[ot];let Xe=null;if(B!==null)Xe=B.getViewport(Se);else{const $e=k.getViewSubImage(R,Se);Xe=$e.viewport,ot===0&&(t.setRenderTargetTextures(U,$e.colorTexture,R.ignoreDepthValues?void 0:$e.depthStencilTexture),t.setRenderTarget(U))}const ct=we[ot];ct.matrix.fromArray(Se.transform.matrix),ct.projectionMatrix.fromArray(Se.projectionMatrix),ct.viewport.set(Xe.x,Xe.y,Xe.width,Xe.height),ot===0&&be.matrix.copy(ct.matrix),Me===!0&&be.cameras.push(ct)}}const Ue=c.inputSources;for(let ce=0;ce<Z.length;ce++){const Me=Ue[ce],ot=K.get(Me);ot!==void 0&&ot.update(Me,Qe,E||y)}me&&me(Ne,Qe),M=null}const Ie=new N7;Ie.setAnimationLoop(Re),this.setAnimationLoop=function(Ne){me=Ne},this.dispose=function(){}}}function PW(a,t){function r(H,U){H.fogColor.value.copy(U.color),U.isFog?(H.fogNear.value=U.near,H.fogFar.value=U.far):U.isFogExp2&&(H.fogDensity.value=U.density)}function n(H,U,Z,K,fe){U.isMeshBasicMaterial||U.isMeshLambertMaterial?c(H,U):U.isMeshToonMaterial?(c(H,U),k(H,U)):U.isMeshPhongMaterial?(c(H,U),_(H,U)):U.isMeshStandardMaterial?(c(H,U),R(H,U),U.isMeshPhysicalMaterial&&B(H,U,fe)):U.isMeshMatcapMaterial?(c(H,U),M(H,U)):U.isMeshDepthMaterial?c(H,U):U.isMeshDistanceMaterial?(c(H,U),F(H,U)):U.isMeshNormalMaterial?c(H,U):U.isLineBasicMaterial?(p(H,U),U.isLineDashedMaterial&&y(H,U)):U.isPointsMaterial?v(H,U,Z,K):U.isSpriteMaterial?E(H,U):U.isShadowMaterial?(H.color.value.copy(U.color),H.opacity.value=U.opacity):U.isShaderMaterial&&(U.uniformsNeedUpdate=!1)}function c(H,U){H.opacity.value=U.opacity,U.color&&H.diffuse.value.copy(U.color),U.emissive&&H.emissive.value.copy(U.emissive).multiplyScalar(U.emissiveIntensity),U.map&&(H.map.value=U.map),U.alphaMap&&(H.alphaMap.value=U.alphaMap),U.bumpMap&&(H.bumpMap.value=U.bumpMap,H.bumpScale.value=U.bumpScale,U.side===Ja&&(H.bumpScale.value*=-1)),U.displacementMap&&(H.displacementMap.value=U.displacementMap,H.displacementScale.value=U.displacementScale,H.displacementBias.value=U.displacementBias),U.emissiveMap&&(H.emissiveMap.value=U.emissiveMap),U.normalMap&&(H.normalMap.value=U.normalMap,H.normalScale.value.copy(U.normalScale),U.side===Ja&&H.normalScale.value.negate()),U.specularMap&&(H.specularMap.value=U.specularMap),U.alphaTest>0&&(H.alphaTest.value=U.alphaTest);const Z=t.get(U).envMap;if(Z&&(H.envMap.value=Z,H.flipEnvMap.value=Z.isCubeTexture&&Z.isRenderTargetTexture===!1?-1:1,H.reflectivity.value=U.reflectivity,H.ior.value=U.ior,H.refractionRatio.value=U.refractionRatio),U.lightMap){H.lightMap.value=U.lightMap;const oe=a.physicallyCorrectLights!==!0?Math.PI:1;H.lightMapIntensity.value=U.lightMapIntensity*oe}U.aoMap&&(H.aoMap.value=U.aoMap,H.aoMapIntensity.value=U.aoMapIntensity);let K;U.map?K=U.map:U.specularMap?K=U.specularMap:U.displacementMap?K=U.displacementMap:U.normalMap?K=U.normalMap:U.bumpMap?K=U.bumpMap:U.roughnessMap?K=U.roughnessMap:U.metalnessMap?K=U.metalnessMap:U.alphaMap?K=U.alphaMap:U.emissiveMap?K=U.emissiveMap:U.clearcoatMap?K=U.clearcoatMap:U.clearcoatNormalMap?K=U.clearcoatNormalMap:U.clearcoatRoughnessMap?K=U.clearcoatRoughnessMap:U.specularIntensityMap?K=U.specularIntensityMap:U.specularColorMap?K=U.specularColorMap:U.transmissionMap?K=U.transmissionMap:U.thicknessMap?K=U.thicknessMap:U.sheenColorMap?K=U.sheenColorMap:U.sheenRoughnessMap&&(K=U.sheenRoughnessMap),K!==void 0&&(K.isWebGLRenderTarget&&(K=K.texture),K.matrixAutoUpdate===!0&&K.updateMatrix(),H.uvTransform.value.copy(K.matrix));let fe;U.aoMap?fe=U.aoMap:U.lightMap&&(fe=U.lightMap),fe!==void 0&&(fe.isWebGLRenderTarget&&(fe=fe.texture),fe.matrixAutoUpdate===!0&&fe.updateMatrix(),H.uv2Transform.value.copy(fe.matrix))}function p(H,U){H.diffuse.value.copy(U.color),H.opacity.value=U.opacity}function y(H,U){H.dashSize.value=U.dashSize,H.totalSize.value=U.dashSize+U.gapSize,H.scale.value=U.scale}function v(H,U,Z,K){H.diffuse.value.copy(U.color),H.opacity.value=U.opacity,H.size.value=U.size*Z,H.scale.value=K*.5,U.map&&(H.map.value=U.map),U.alphaMap&&(H.alphaMap.value=U.alphaMap),U.alphaTest>0&&(H.alphaTest.value=U.alphaTest);let fe;U.map?fe=U.map:U.alphaMap&&(fe=U.alphaMap),fe!==void 0&&(fe.matrixAutoUpdate===!0&&fe.updateMatrix(),H.uvTransform.value.copy(fe.matrix))}function E(H,U){H.diffuse.value.copy(U.color),H.opacity.value=U.opacity,H.rotation.value=U.rotation,U.map&&(H.map.value=U.map),U.alphaMap&&(H.alphaMap.value=U.alphaMap),U.alphaTest>0&&(H.alphaTest.value=U.alphaTest);let Z;U.map?Z=U.map:U.alphaMap&&(Z=U.alphaMap),Z!==void 0&&(Z.matrixAutoUpdate===!0&&Z.updateMatrix(),H.uvTransform.value.copy(Z.matrix))}function _(H,U){H.specular.value.copy(U.specular),H.shininess.value=Math.max(U.shininess,1e-4)}function k(H,U){U.gradientMap&&(H.gradientMap.value=U.gradientMap)}function R(H,U){H.roughness.value=U.roughness,H.metalness.value=U.metalness,U.roughnessMap&&(H.roughnessMap.value=U.roughnessMap),U.metalnessMap&&(H.metalnessMap.value=U.metalnessMap),t.get(U).envMap&&(H.envMapIntensity.value=U.envMapIntensity)}function B(H,U,Z){H.ior.value=U.ior,U.sheen>0&&(H.sheenColor.value.copy(U.sheenColor).multiplyScalar(U.sheen),H.sheenRoughness.value=U.sheenRoughness,U.sheenColorMap&&(H.sheenColorMap.value=U.sheenColorMap),U.sheenRoughnessMap&&(H.sheenRoughnessMap.value=U.sheenRoughnessMap)),U.clearcoat>0&&(H.clearcoat.value=U.clearcoat,H.clearcoatRoughness.value=U.clearcoatRoughness,U.clearcoatMap&&(H.clearcoatMap.value=U.clearcoatMap),U.clearcoatRoughnessMap&&(H.clearcoatRoughnessMap.value=U.clearcoatRoughnessMap),U.clearcoatNormalMap&&(H.clearcoatNormalScale.value.copy(U.clearcoatNormalScale),H.clearcoatNormalMap.value=U.clearcoatNormalMap,U.side===Ja&&H.clearcoatNormalScale.value.negate())),U.transmission>0&&(H.transmission.value=U.transmission,H.transmissionSamplerMap.value=Z.texture,H.transmissionSamplerSize.value.set(Z.width,Z.height),U.transmissionMap&&(H.transmissionMap.value=U.transmissionMap),H.thickness.value=U.thickness,U.thicknessMap&&(H.thicknessMap.value=U.thicknessMap),H.attenuationDistance.value=U.attenuationDistance,H.attenuationColor.value.copy(U.attenuationColor)),H.specularIntensity.value=U.specularIntensity,H.specularColor.value.copy(U.specularColor),U.specularIntensityMap&&(H.specularIntensityMap.value=U.specularIntensityMap),U.specularColorMap&&(H.specularColorMap.value=U.specularColorMap)}function M(H,U){U.matcap&&(H.matcap.value=U.matcap)}function F(H,U){H.referencePosition.value.copy(U.referencePosition),H.nearDistance.value=U.nearDistance,H.farDistance.value=U.farDistance}return{refreshFogUniforms:r,refreshMaterialUniforms:n}}function NW(){const a=Bg("canvas");return a.style.display="block",a}function G0(a={}){const t=a.canvas!==void 0?a.canvas:NW(),r=a.context!==void 0?a.context:null,n=a.depth!==void 0?a.depth:!0,c=a.stencil!==void 0?a.stencil:!0,p=a.antialias!==void 0?a.antialias:!1,y=a.premultipliedAlpha!==void 0?a.premultipliedAlpha:!0,v=a.preserveDrawingBuffer!==void 0?a.preserveDrawingBuffer:!1,E=a.powerPreference!==void 0?a.powerPreference:"default",_=a.failIfMajorPerformanceCaveat!==void 0?a.failIfMajorPerformanceCaveat:!1;let k;r!==null?k=r.getContextAttributes().alpha:k=a.alpha!==void 0?a.alpha:!1;let R=null,B=null;const M=[],F=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=lc,this.physicallyCorrectLights=!1,this.toneMapping=Bf,this.toneMappingExposure=1;const H=this;let U=!1,Z=0,K=0,fe=null,oe=-1,we=null;const be=new j0,ve=new j0;let ne=null,ae=t.width,ye=t.height,de=1,xe=null,le=null;const re=new j0(0,0,ae,ye),he=new j0(0,0,ae,ye);let me=!1;const Re=new qg;let Ie=!1,Ne=!1,Qe=null;const Ue=new Ji,ce=new $r,Me=new wt,ot={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Se(){return fe===null?de:1}let Xe=r;function ct(Tt,ur){for(let Pr=0;Pr<Tt.length;Pr++){const xr=Tt[Pr],Fr=t.getContext(xr,ur);if(Fr!==null)return Fr}return null}try{const Tt={alpha:!0,depth:n,stencil:c,antialias:p,premultipliedAlpha:y,preserveDrawingBuffer:v,powerPreference:E,failIfMajorPerformanceCaveat:_};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${_w}`),t.addEventListener("webglcontextlost",bt,!1),t.addEventListener("webglcontextrestored",Rr,!1),Xe===null){const ur=["webgl2","webgl","experimental-webgl"];if(H.isWebGL1Renderer===!0&&ur.shift(),Xe=ct(ur,Tt),Xe===null)throw ct(ur)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Xe.getShaderPrecisionFormat===void 0&&(Xe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Tt){throw console.error("THREE.WebGLRenderer: "+Tt.message),Tt}let $e,Et,Dt,er,Gt,Ht,Kt,yr,Ur,Yr,oi,xt,kt,rr,mt,ft,Ut,ir,vr,nt,De,Te,gt;function zt(){$e=new ez(Xe),Et=new XG(Xe,$e,a),$e.init(Et),Te=new z7(Xe,$e,Et),Dt=new DW(Xe,$e,Et),er=new iz(Xe),Gt=new wW,Ht=new BW(Xe,$e,Dt,Gt,Et,Te,er),Kt=new ZG(H),yr=new $G(H),Ur=new bV(Xe,Et),gt=new QG(Xe,$e,Ur,Et),Yr=new tz(Xe,Ur,er,gt),oi=new az(Xe,Yr,Ur,er),vr=new oz(Xe,Et,Ht),ft=new qG(Gt),xt=new vW(H,Kt,yr,$e,Et,gt,ft),kt=new PW(H,Gt),rr=new xW,mt=new TW($e,Et),ir=new WG(H,Kt,Dt,oi,k,y),Ut=new G7(H,oi,Et),nt=new JG(Xe,$e,er,Et),De=new rz(Xe,$e,er,Et),er.programs=xt.programs,H.capabilities=Et,H.extensions=$e,H.properties=Gt,H.renderLists=rr,H.shadowMap=Ut,H.state=Dt,H.info=er}zt();const Bt=new LW(H,Xe);this.xr=Bt,this.getContext=function(){return Xe},this.getContextAttributes=function(){return Xe.getContextAttributes()},this.forceContextLoss=function(){const Tt=$e.get("WEBGL_lose_context");Tt&&Tt.loseContext()},this.forceContextRestore=function(){const Tt=$e.get("WEBGL_lose_context");Tt&&Tt.restoreContext()},this.getPixelRatio=function(){return de},this.setPixelRatio=function(Tt){Tt!==void 0&&(de=Tt,this.setSize(ae,ye,!1))},this.getSize=function(Tt){return Tt.set(ae,ye)},this.setSize=function(Tt,ur,Pr){if(Bt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ae=Tt,ye=ur,t.width=Math.floor(Tt*de),t.height=Math.floor(ur*de),Pr!==!1&&(t.style.width=Tt+"px",t.style.height=ur+"px"),this.setViewport(0,0,Tt,ur)},this.getDrawingBufferSize=function(Tt){return Tt.set(ae*de,ye*de).floor()},this.setDrawingBufferSize=function(Tt,ur,Pr){ae=Tt,ye=ur,de=Pr,t.width=Math.floor(Tt*Pr),t.height=Math.floor(ur*Pr),this.setViewport(0,0,Tt,ur)},this.getCurrentViewport=function(Tt){return Tt.copy(be)},this.getViewport=function(Tt){return Tt.copy(re)},this.setViewport=function(Tt,ur,Pr,xr){Tt.isVector4?re.set(Tt.x,Tt.y,Tt.z,Tt.w):re.set(Tt,ur,Pr,xr),Dt.viewport(be.copy(re).multiplyScalar(de).floor())},this.getScissor=function(Tt){return Tt.copy(he)},this.setScissor=function(Tt,ur,Pr,xr){Tt.isVector4?he.set(Tt.x,Tt.y,Tt.z,Tt.w):he.set(Tt,ur,Pr,xr),Dt.scissor(ve.copy(he).multiplyScalar(de).floor())},this.getScissorTest=function(){return me},this.setScissorTest=function(Tt){Dt.setScissorTest(me=Tt)},this.setOpaqueSort=function(Tt){xe=Tt},this.setTransparentSort=function(Tt){le=Tt},this.getClearColor=function(Tt){return Tt.copy(ir.getClearColor())},this.setClearColor=function(){ir.setClearColor.apply(ir,arguments)},this.getClearAlpha=function(){return ir.getClearAlpha()},this.setClearAlpha=function(){ir.setClearAlpha.apply(ir,arguments)},this.clear=function(Tt=!0,ur=!0,Pr=!0){let xr=0;Tt&&(xr|=16384),ur&&(xr|=256),Pr&&(xr|=1024),Xe.clear(xr)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",bt,!1),t.removeEventListener("webglcontextrestored",Rr,!1),rr.dispose(),mt.dispose(),Gt.dispose(),Kt.dispose(),yr.dispose(),oi.dispose(),gt.dispose(),xt.dispose(),Bt.dispose(),Bt.removeEventListener("sessionstart",gi),Bt.removeEventListener("sessionend",ki),Qe&&(Qe.dispose(),Qe=null),mi.stop()};function bt(Tt){Tt.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),U=!0}function Rr(){console.log("THREE.WebGLRenderer: Context Restored."),U=!1;const Tt=er.autoReset,ur=Ut.enabled,Pr=Ut.autoUpdate,xr=Ut.needsUpdate,Fr=Ut.type;zt(),er.autoReset=Tt,Ut.enabled=ur,Ut.autoUpdate=Pr,Ut.needsUpdate=xr,Ut.type=Fr}function Ct(Tt){const ur=Tt.target;ur.removeEventListener("dispose",Ct),Nt(ur)}function Nt(Tt){lr(Tt),Gt.remove(Tt)}function lr(Tt){const ur=Gt.get(Tt).programs;ur!==void 0&&(ur.forEach(function(Pr){xt.releaseProgram(Pr)}),Tt.isShaderMaterial&&xt.releaseShaderCache(Tt))}this.renderBufferDirect=function(Tt,ur,Pr,xr,Fr,qi){ur===null&&(ur=ot);const ui=Fr.isMesh&&Fr.matrixWorld.determinant()<0,Li=jt(Tt,ur,Pr,xr,Fr);Dt.setMaterial(xr,ui);let hn=Pr.index;const Pi=Pr.attributes.position;if(hn===null){if(Pi===void 0||Pi.count===0)return}else if(hn.count===0)return;let ji=1;xr.wireframe===!0&&(hn=Yr.getWireframeAttribute(Pr),ji=2),gt.setup(Fr,xr,Li,Pr,hn);let un,Kn=nt;hn!==null&&(un=Ur.get(hn),Kn=De,Kn.setIndex(un));const ks=hn!==null?hn.count:Pi.count,Jn=Pr.drawRange.start*ji,Ti=Pr.drawRange.count*ji,ss=qi!==null?qi.start*ji:0,Dn=qi!==null?qi.count*ji:1/0,os=Math.max(Jn,ss),rn=Math.min(ks,Jn+Ti,ss+Dn)-1,$0=Math.max(0,rn-os+1);if($0!==0){if(Fr.isMesh)xr.wireframe===!0?(Dt.setLineWidth(xr.wireframeLinewidth*Se()),Kn.setMode(1)):Kn.setMode(4);else if(Fr.isLine){let js=xr.linewidth;js===void 0&&(js=1),Dt.setLineWidth(js*Se()),Fr.isLineSegments?Kn.setMode(1):Fr.isLineLoop?Kn.setMode(2):Kn.setMode(3)}else Fr.isPoints?Kn.setMode(0):Fr.isSprite&&Kn.setMode(4);if(Fr.isInstancedMesh)Kn.renderInstances(os,$0,Fr.count);else if(Pr.isInstancedBufferGeometry){const js=Math.min(Pr.instanceCount,Pr._maxInstanceCount);Kn.renderInstances(os,$0,js)}else Kn.render(os,$0)}},this.compile=function(Tt,ur){B=mt.get(Tt),B.init(),F.push(B),Tt.traverseVisible(function(Pr){Pr.isLight&&Pr.layers.test(ur.layers)&&(B.pushLight(Pr),Pr.castShadow&&B.pushShadow(Pr))}),B.setupLights(H.physicallyCorrectLights),Tt.traverse(function(Pr){const xr=Pr.material;if(xr)if(Array.isArray(xr))for(let Fr=0;Fr<xr.length;Fr++){const qi=xr[Fr];Cr(qi,Tt,Pr)}else Cr(xr,Tt,Pr)}),F.pop(),B=null};let Sr=null;function Vr(Tt){Sr&&Sr(Tt)}function gi(){mi.stop()}function ki(){mi.start()}const mi=new N7;mi.setAnimationLoop(Vr),typeof self!="undefined"&&mi.setContext(self),this.setAnimationLoop=function(Tt){Sr=Tt,Bt.setAnimationLoop(Tt),Tt===null?mi.stop():mi.start()},Bt.addEventListener("sessionstart",gi),Bt.addEventListener("sessionend",ki),this.render=function(Tt,ur){if(ur!==void 0&&ur.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(U===!0)return;Tt.autoUpdate===!0&&Tt.updateMatrixWorld(),ur.parent===null&&ur.updateMatrixWorld(),Bt.enabled===!0&&Bt.isPresenting===!0&&(Bt.cameraAutoUpdate===!0&&Bt.updateCamera(ur),ur=Bt.getCamera()),Tt.isScene===!0&&Tt.onBeforeRender(H,Tt,ur,fe),B=mt.get(Tt,F.length),B.init(),F.push(B),Ue.multiplyMatrices(ur.projectionMatrix,ur.matrixWorldInverse),Re.setFromProjectionMatrix(Ue),Ne=this.localClippingEnabled,Ie=ft.init(this.clippingPlanes,Ne,ur),R=rr.get(Tt,M.length),R.init(),M.push(R),Fe(Tt,ur,0,H.sortObjects),R.finish(),H.sortObjects===!0&&R.sort(xe,le),Ie===!0&&ft.beginShadows();const Pr=B.state.shadowsArray;if(Ut.render(Pr,Tt,ur),Ie===!0&&ft.endShadows(),this.info.autoReset===!0&&this.info.reset(),ir.render(R,Tt),B.setupLights(H.physicallyCorrectLights),ur.isArrayCamera){const xr=ur.cameras;for(let Fr=0,qi=xr.length;Fr<qi;Fr++){const ui=xr[Fr];Ke(R,Tt,ui,ui.viewport)}}else Ke(R,Tt,ur);fe!==null&&(Ht.updateMultisampleRenderTarget(fe),Ht.updateRenderTargetMipmap(fe)),Tt.isScene===!0&&Tt.onAfterRender(H,Tt,ur),gt.resetDefaultState(),oe=-1,we=null,F.pop(),F.length>0?B=F[F.length-1]:B=null,M.pop(),M.length>0?R=M[M.length-1]:R=null};function Fe(Tt,ur,Pr,xr){if(Tt.visible===!1)return;if(Tt.layers.test(ur.layers)){if(Tt.isGroup)Pr=Tt.renderOrder;else if(Tt.isLOD)Tt.autoUpdate===!0&&Tt.update(ur);else if(Tt.isLight)B.pushLight(Tt),Tt.castShadow&&B.pushShadow(Tt);else if(Tt.isSprite){if(!Tt.frustumCulled||Re.intersectsSprite(Tt)){xr&&Me.setFromMatrixPosition(Tt.matrixWorld).applyMatrix4(Ue);const ui=oi.update(Tt),Li=Tt.material;Li.visible&&R.push(Tt,ui,Li,Pr,Me.z,null)}}else if((Tt.isMesh||Tt.isLine||Tt.isPoints)&&(Tt.isSkinnedMesh&&Tt.skeleton.frame!==er.render.frame&&(Tt.skeleton.update(),Tt.skeleton.frame=er.render.frame),!Tt.frustumCulled||Re.intersectsObject(Tt))){xr&&Me.setFromMatrixPosition(Tt.matrixWorld).applyMatrix4(Ue);const ui=oi.update(Tt),Li=Tt.material;if(Array.isArray(Li)){const hn=ui.groups;for(let Pi=0,ji=hn.length;Pi<ji;Pi++){const un=hn[Pi],Kn=Li[un.materialIndex];Kn&&Kn.visible&&R.push(Tt,ui,Kn,Pr,Me.z,un)}}else Li.visible&&R.push(Tt,ui,Li,Pr,Me.z,null)}}const qi=Tt.children;for(let ui=0,Li=qi.length;ui<Li;ui++)Fe(qi[ui],ur,Pr,xr)}function Ke(Tt,ur,Pr,xr){const Fr=Tt.opaque,qi=Tt.transmissive,ui=Tt.transparent;B.setupLightsView(Pr),qi.length>0&&dt(Fr,ur,Pr),xr&&Dt.viewport(be.copy(xr)),Fr.length>0&&Ot(Fr,ur,Pr),qi.length>0&&Ot(qi,ur,Pr),ui.length>0&&Ot(ui,ur,Pr),Dt.buffers.depth.setTest(!0),Dt.buffers.depth.setMask(!0),Dt.buffers.color.setMask(!0),Dt.setPolygonOffset(!1)}function dt(Tt,ur,Pr){const xr=Et.isWebGL2;Qe===null&&(Qe=new Ra(1,1,{generateMipmaps:!0,type:$e.has("EXT_color_buffer_half_float")?Vp:Th,minFilter:Tu,samples:xr&&p===!0?4:0})),H.getDrawingBufferSize(ce),xr?Qe.setSize(ce.x,ce.y):Qe.setSize(iw(ce.x),iw(ce.y));const Fr=H.getRenderTarget();H.setRenderTarget(Qe),H.clear();const qi=H.toneMapping;H.toneMapping=Bf,Ot(Tt,ur,Pr),H.toneMapping=qi,Ht.updateMultisampleRenderTarget(Qe),Ht.updateRenderTargetMipmap(Qe),H.setRenderTarget(Fr)}function Ot(Tt,ur,Pr){const xr=ur.isScene===!0?ur.overrideMaterial:null;for(let Fr=0,qi=Tt.length;Fr<qi;Fr++){const ui=Tt[Fr],Li=ui.object,hn=ui.geometry,Pi=xr===null?ui.material:xr,ji=ui.group;Li.layers.test(Pr.layers)&&$t(Li,ur,Pr,hn,Pi,ji)}}function $t(Tt,ur,Pr,xr,Fr,qi){Tt.onBeforeRender(H,ur,Pr,xr,Fr,qi),Tt.modelViewMatrix.multiplyMatrices(Pr.matrixWorldInverse,Tt.matrixWorld),Tt.normalMatrix.getNormalMatrix(Tt.modelViewMatrix),Fr.onBeforeRender(H,ur,Pr,xr,Tt,qi),Fr.transparent===!0&&Fr.side===Lf?(Fr.side=Ja,Fr.needsUpdate=!0,H.renderBufferDirect(Pr,ur,xr,Fr,Tt,qi),Fr.side=_h,Fr.needsUpdate=!0,H.renderBufferDirect(Pr,ur,xr,Fr,Tt,qi),Fr.side=Lf):H.renderBufferDirect(Pr,ur,xr,Fr,Tt,qi),Tt.onAfterRender(H,ur,Pr,xr,Fr,qi)}function Cr(Tt,ur,Pr){ur.isScene!==!0&&(ur=ot);const xr=Gt.get(Tt),Fr=B.state.lights,qi=B.state.shadowsArray,ui=Fr.state.version,Li=xt.getParameters(Tt,Fr.state,qi,ur,Pr),hn=xt.getProgramCacheKey(Li);let Pi=xr.programs;xr.environment=Tt.isMeshStandardMaterial?ur.environment:null,xr.fog=ur.fog,xr.envMap=(Tt.isMeshStandardMaterial?yr:Kt).get(Tt.envMap||xr.environment),Pi===void 0&&(Tt.addEventListener("dispose",Ct),Pi=new Map,xr.programs=Pi);let ji=Pi.get(hn);if(ji!==void 0){if(xr.currentProgram===ji&&xr.lightsStateVersion===ui)return ai(Tt,Li),ji}else Li.uniforms=xt.getUniforms(Tt),Tt.onBuild(Pr,Li,H),Tt.onBeforeCompile(Li,H),ji=xt.acquireProgram(Li,hn),Pi.set(hn,ji),xr.uniforms=Li.uniforms;const un=xr.uniforms;(!Tt.isShaderMaterial&&!Tt.isRawShaderMaterial||Tt.clipping===!0)&&(un.clippingPlanes=ft.uniform),ai(Tt,Li),xr.needsLights=Mn(Tt),xr.lightsStateVersion=ui,xr.needsLights&&(un.ambientLightColor.value=Fr.state.ambient,un.lightProbe.value=Fr.state.probe,un.directionalLights.value=Fr.state.directional,un.directionalLightShadows.value=Fr.state.directionalShadow,un.spotLights.value=Fr.state.spot,un.spotLightShadows.value=Fr.state.spotShadow,un.rectAreaLights.value=Fr.state.rectArea,un.ltc_1.value=Fr.state.rectAreaLTC1,un.ltc_2.value=Fr.state.rectAreaLTC2,un.pointLights.value=Fr.state.point,un.pointLightShadows.value=Fr.state.pointShadow,un.hemisphereLights.value=Fr.state.hemi,un.directionalShadowMap.value=Fr.state.directionalShadowMap,un.directionalShadowMatrix.value=Fr.state.directionalShadowMatrix,un.spotShadowMap.value=Fr.state.spotShadowMap,un.spotShadowMatrix.value=Fr.state.spotShadowMatrix,un.pointShadowMap.value=Fr.state.pointShadowMap,un.pointShadowMatrix.value=Fr.state.pointShadowMatrix);const Kn=ji.getUniforms(),ks=Ah.seqWithValue(Kn.seq,un);return xr.currentProgram=ji,xr.uniformsList=ks,ji}function ai(Tt,ur){const Pr=Gt.get(Tt);Pr.outputEncoding=ur.outputEncoding,Pr.instancing=ur.instancing,Pr.skinning=ur.skinning,Pr.morphTargets=ur.morphTargets,Pr.morphNormals=ur.morphNormals,Pr.morphColors=ur.morphColors,Pr.morphTargetsCount=ur.morphTargetsCount,Pr.numClippingPlanes=ur.numClippingPlanes,Pr.numIntersection=ur.numClipIntersection,Pr.vertexAlphas=ur.vertexAlphas,Pr.vertexTangents=ur.vertexTangents,Pr.toneMapping=ur.toneMapping}function jt(Tt,ur,Pr,xr,Fr){ur.isScene!==!0&&(ur=ot),Ht.resetTextureUnits();const qi=ur.fog,ui=xr.isMeshStandardMaterial?ur.environment:null,Li=fe===null?H.outputEncoding:fe.isXRRenderTarget===!0?fe.texture.encoding:lc,hn=(xr.isMeshStandardMaterial?yr:Kt).get(xr.envMap||ui),Pi=xr.vertexColors===!0&&!!Pr.attributes.color&&Pr.attributes.color.itemSize===4,ji=!!xr.normalMap&&!!Pr.attributes.tangent,un=!!Pr.morphAttributes.position,Kn=!!Pr.morphAttributes.normal,ks=!!Pr.morphAttributes.color,Jn=xr.toneMapped?H.toneMapping:Bf,Ti=Pr.morphAttributes.position||Pr.morphAttributes.normal||Pr.morphAttributes.color,ss=Ti!==void 0?Ti.length:0,Dn=Gt.get(xr),os=B.state.lights;if(Ie===!0&&(Ne===!0||Tt!==we)){const ei=Tt===we&&xr.id===oe;ft.setState(xr,Tt,ei)}let rn=!1;xr.version===Dn.__version?(Dn.needsLights&&Dn.lightsStateVersion!==os.state.version||Dn.outputEncoding!==Li||Fr.isInstancedMesh&&Dn.instancing===!1||!Fr.isInstancedMesh&&Dn.instancing===!0||Fr.isSkinnedMesh&&Dn.skinning===!1||!Fr.isSkinnedMesh&&Dn.skinning===!0||Dn.envMap!==hn||xr.fog===!0&&Dn.fog!==qi||Dn.numClippingPlanes!==void 0&&(Dn.numClippingPlanes!==ft.numPlanes||Dn.numIntersection!==ft.numIntersection)||Dn.vertexAlphas!==Pi||Dn.vertexTangents!==ji||Dn.morphTargets!==un||Dn.morphNormals!==Kn||Dn.morphColors!==ks||Dn.toneMapping!==Jn||Et.isWebGL2===!0&&Dn.morphTargetsCount!==ss)&&(rn=!0):(rn=!0,Dn.__version=xr.version);let $0=Dn.currentProgram;rn===!0&&($0=Cr(xr,ur,Fr));let js=!1,$s=!1,ii=!1;const pt=$0.getUniforms(),Xt=Dn.uniforms;if(Dt.useProgram($0.program)&&(js=!0,$s=!0,ii=!0),xr.id!==oe&&(oe=xr.id,$s=!0),js||we!==Tt){if(pt.setValue(Xe,"projectionMatrix",Tt.projectionMatrix),Et.logarithmicDepthBuffer&&pt.setValue(Xe,"logDepthBufFC",2/(Math.log(Tt.far+1)/Math.LN2)),we!==Tt&&(we=Tt,$s=!0,ii=!0),xr.isShaderMaterial||xr.isMeshPhongMaterial||xr.isMeshToonMaterial||xr.isMeshStandardMaterial||xr.envMap){const ei=pt.map.cameraPosition;ei!==void 0&&ei.setValue(Xe,Me.setFromMatrixPosition(Tt.matrixWorld))}(xr.isMeshPhongMaterial||xr.isMeshToonMaterial||xr.isMeshLambertMaterial||xr.isMeshBasicMaterial||xr.isMeshStandardMaterial||xr.isShaderMaterial)&&pt.setValue(Xe,"isOrthographic",Tt.isOrthographicCamera===!0),(xr.isMeshPhongMaterial||xr.isMeshToonMaterial||xr.isMeshLambertMaterial||xr.isMeshBasicMaterial||xr.isMeshStandardMaterial||xr.isShaderMaterial||xr.isShadowMaterial||Fr.isSkinnedMesh)&&pt.setValue(Xe,"viewMatrix",Tt.matrixWorldInverse)}if(Fr.isSkinnedMesh){pt.setOptional(Xe,Fr,"bindMatrix"),pt.setOptional(Xe,Fr,"bindMatrixInverse");const ei=Fr.skeleton;ei&&(Et.floatVertexTextures?(ei.boneTexture===null&&ei.computeBoneTexture(),pt.setValue(Xe,"boneTexture",ei.boneTexture,Ht),pt.setValue(Xe,"boneTextureSize",ei.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Jr=Pr.morphAttributes;return(Jr.position!==void 0||Jr.normal!==void 0||Jr.color!==void 0&&Et.isWebGL2===!0)&&vr.update(Fr,Pr,xr,$0),($s||Dn.receiveShadow!==Fr.receiveShadow)&&(Dn.receiveShadow=Fr.receiveShadow,pt.setValue(Xe,"receiveShadow",Fr.receiveShadow)),$s&&(pt.setValue(Xe,"toneMappingExposure",H.toneMappingExposure),Dn.needsLights&&ni(Xt,ii),qi&&xr.fog===!0&&kt.refreshFogUniforms(Xt,qi),kt.refreshMaterialUniforms(Xt,xr,de,ye,Qe),Ah.upload(Xe,Dn.uniformsList,Xt,Ht)),xr.isShaderMaterial&&xr.uniformsNeedUpdate===!0&&(Ah.upload(Xe,Dn.uniformsList,Xt,Ht),xr.uniformsNeedUpdate=!1),xr.isSpriteMaterial&&pt.setValue(Xe,"center",Fr.center),pt.setValue(Xe,"modelViewMatrix",Fr.modelViewMatrix),pt.setValue(Xe,"normalMatrix",Fr.normalMatrix),pt.setValue(Xe,"modelMatrix",Fr.matrixWorld),$0}function ni(Tt,ur){Tt.ambientLightColor.needsUpdate=ur,Tt.lightProbe.needsUpdate=ur,Tt.directionalLights.needsUpdate=ur,Tt.directionalLightShadows.needsUpdate=ur,Tt.pointLights.needsUpdate=ur,Tt.pointLightShadows.needsUpdate=ur,Tt.spotLights.needsUpdate=ur,Tt.spotLightShadows.needsUpdate=ur,Tt.rectAreaLights.needsUpdate=ur,Tt.hemisphereLights.needsUpdate=ur}function Mn(Tt){return Tt.isMeshLambertMaterial||Tt.isMeshToonMaterial||Tt.isMeshPhongMaterial||Tt.isMeshStandardMaterial||Tt.isShadowMaterial||Tt.isShaderMaterial&&Tt.lights===!0}this.getActiveCubeFace=function(){return Z},this.getActiveMipmapLevel=function(){return K},this.getRenderTarget=function(){return fe},this.setRenderTargetTextures=function(Tt,ur,Pr){Gt.get(Tt.texture).__webglTexture=ur,Gt.get(Tt.depthTexture).__webglTexture=Pr;const xr=Gt.get(Tt);xr.__hasExternalTextures=!0,xr.__hasExternalTextures&&(xr.__autoAllocateDepthBuffer=Pr===void 0,xr.__autoAllocateDepthBuffer||$e.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),xr.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Tt,ur){const Pr=Gt.get(Tt);Pr.__webglFramebuffer=ur,Pr.__useDefaultFramebuffer=ur===void 0},this.setRenderTarget=function(Tt,ur=0,Pr=0){fe=Tt,Z=ur,K=Pr;let xr=!0;if(Tt){const hn=Gt.get(Tt);hn.__useDefaultFramebuffer!==void 0?(Dt.bindFramebuffer(36160,null),xr=!1):hn.__webglFramebuffer===void 0?Ht.setupRenderTarget(Tt):hn.__hasExternalTextures&&Ht.rebindTextures(Tt,Gt.get(Tt.texture).__webglTexture,Gt.get(Tt.depthTexture).__webglTexture)}let Fr=null,qi=!1,ui=!1;if(Tt){const hn=Tt.texture;(hn.isData3DTexture||hn.isDataArrayTexture)&&(ui=!0);const Pi=Gt.get(Tt).__webglFramebuffer;Tt.isWebGLCubeRenderTarget?(Fr=Pi[ur],qi=!0):Et.isWebGL2&&Tt.samples>0&&Ht.useMultisampledRTT(Tt)===!1?Fr=Gt.get(Tt).__webglMultisampledFramebuffer:Fr=Pi,be.copy(Tt.viewport),ve.copy(Tt.scissor),ne=Tt.scissorTest}else be.copy(re).multiplyScalar(de).floor(),ve.copy(he).multiplyScalar(de).floor(),ne=me;if(Dt.bindFramebuffer(36160,Fr)&&Et.drawBuffers&&xr&&Dt.drawBuffers(Tt,Fr),Dt.viewport(be),Dt.scissor(ve),Dt.setScissorTest(ne),qi){const hn=Gt.get(Tt.texture);Xe.framebufferTexture2D(36160,36064,34069+ur,hn.__webglTexture,Pr)}else if(ui){const hn=Gt.get(Tt.texture),Pi=ur||0;Xe.framebufferTextureLayer(36160,36064,hn.__webglTexture,Pr||0,Pi)}oe=-1},this.readRenderTargetPixels=function(Tt,ur,Pr,xr,Fr,qi,ui){if(!(Tt&&Tt.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Li=Gt.get(Tt).__webglFramebuffer;if(Tt.isWebGLCubeRenderTarget&&ui!==void 0&&(Li=Li[ui]),Li){Dt.bindFramebuffer(36160,Li);try{const hn=Tt.texture,Pi=hn.format,ji=hn.type;if(Pi!==Al&&Te.convert(Pi)!==Xe.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const un=ji===Vp&&($e.has("EXT_color_buffer_half_float")||Et.isWebGL2&&$e.has("EXT_color_buffer_float"));if(ji!==Th&&Te.convert(ji)!==Xe.getParameter(35738)&&!(ji===ic&&(Et.isWebGL2||$e.has("OES_texture_float")||$e.has("WEBGL_color_buffer_float")))&&!un){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ur>=0&&ur<=Tt.width-xr&&Pr>=0&&Pr<=Tt.height-Fr&&Xe.readPixels(ur,Pr,xr,Fr,Te.convert(Pi),Te.convert(ji),qi)}finally{const hn=fe!==null?Gt.get(fe).__webglFramebuffer:null;Dt.bindFramebuffer(36160,hn)}}},this.copyFramebufferToTexture=function(Tt,ur,Pr=0){if(ur.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const xr=Math.pow(2,-Pr),Fr=Math.floor(ur.image.width*xr),qi=Math.floor(ur.image.height*xr);Ht.setTexture2D(ur,0),Xe.copyTexSubImage2D(3553,Pr,0,0,Tt.x,Tt.y,Fr,qi),Dt.unbindTexture()},this.copyTextureToTexture=function(Tt,ur,Pr,xr=0){const Fr=ur.image.width,qi=ur.image.height,ui=Te.convert(Pr.format),Li=Te.convert(Pr.type);Ht.setTexture2D(Pr,0),Xe.pixelStorei(37440,Pr.flipY),Xe.pixelStorei(37441,Pr.premultiplyAlpha),Xe.pixelStorei(3317,Pr.unpackAlignment),ur.isDataTexture?Xe.texSubImage2D(3553,xr,Tt.x,Tt.y,Fr,qi,ui,Li,ur.image.data):ur.isCompressedTexture?Xe.compressedTexSubImage2D(3553,xr,Tt.x,Tt.y,ur.mipmaps[0].width,ur.mipmaps[0].height,ui,ur.mipmaps[0].data):Xe.texSubImage2D(3553,xr,Tt.x,Tt.y,ui,Li,ur.image),xr===0&&Pr.generateMipmaps&&Xe.generateMipmap(3553),Dt.unbindTexture()},this.copyTextureToTexture3D=function(Tt,ur,Pr,xr,Fr=0){if(H.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const qi=Tt.max.x-Tt.min.x+1,ui=Tt.max.y-Tt.min.y+1,Li=Tt.max.z-Tt.min.z+1,hn=Te.convert(xr.format),Pi=Te.convert(xr.type);let ji;if(xr.isData3DTexture)Ht.setTexture3D(xr,0),ji=32879;else if(xr.isDataArrayTexture)Ht.setTexture2DArray(xr,0),ji=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Xe.pixelStorei(37440,xr.flipY),Xe.pixelStorei(37441,xr.premultiplyAlpha),Xe.pixelStorei(3317,xr.unpackAlignment);const un=Xe.getParameter(3314),Kn=Xe.getParameter(32878),ks=Xe.getParameter(3316),Jn=Xe.getParameter(3315),Ti=Xe.getParameter(32877),ss=Pr.isCompressedTexture?Pr.mipmaps[0]:Pr.image;Xe.pixelStorei(3314,ss.width),Xe.pixelStorei(32878,ss.height),Xe.pixelStorei(3316,Tt.min.x),Xe.pixelStorei(3315,Tt.min.y),Xe.pixelStorei(32877,Tt.min.z),Pr.isDataTexture||Pr.isData3DTexture?Xe.texSubImage3D(ji,Fr,ur.x,ur.y,ur.z,qi,ui,Li,hn,Pi,ss.data):Pr.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Xe.compressedTexSubImage3D(ji,Fr,ur.x,ur.y,ur.z,qi,ui,Li,hn,ss.data)):Xe.texSubImage3D(ji,Fr,ur.x,ur.y,ur.z,qi,ui,Li,hn,Pi,ss),Xe.pixelStorei(3314,un),Xe.pixelStorei(32878,Kn),Xe.pixelStorei(3316,ks),Xe.pixelStorei(3315,Jn),Xe.pixelStorei(32877,Ti),Fr===0&&xr.generateMipmaps&&Xe.generateMipmap(ji),Dt.unbindTexture()},this.initTexture=function(Tt){Ht.setTexture2D(Tt,0),Dt.unbindTexture()},this.resetState=function(){Z=0,K=0,fe=null,Dt.reset(),gt.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}G0.prototype.isWebGLRenderer=!0;class W7 extends G0{}W7.prototype.isWebGL1Renderer=!0;class y1{constructor(t,r=25e-5){this.name="",this.color=new _i(t),this.density=r}clone(){return new y1(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}y1.prototype.isFogExp2=!0;class v1{constructor(t,r=1,n=1e3){this.name="",this.color=new _i(t),this.near=r,this.far=n}clone(){return new v1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}v1.prototype.isFog=!0;class Mh extends Rn{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,r){return super.copy(t,r),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const r=super.toJSON(t);return this.fog!==null&&(r.object.fog=this.fog.toJSON()),r}}Mh.prototype.isScene=!0;class Oh{constructor(t,r){this.array=t,this.stride=r,this.count=t!==void 0?t.length/r:0,this.usage=Gp,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Cl()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,r,n){t*=this.stride,n*=r.stride;for(let c=0,p=this.stride;c<p;c++)this.array[t+c]=r.array[n+c];return this}set(t,r=0){return this.array.set(t,r),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Cl()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const r=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(r,this.stride);return n.setUsage(this.usage),n}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Cl()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}Oh.prototype.isInterleavedBuffer=!0;const Ca=new wt;class fc{constructor(t,r,n,c=!1){this.name="",this.data=t,this.itemSize=r,this.offset=n,this.normalized=c===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let r=0,n=this.data.count;r<n;r++)Ca.fromBufferAttribute(this,r),Ca.applyMatrix4(t),this.setXYZ(r,Ca.x,Ca.y,Ca.z);return this}applyNormalMatrix(t){for(let r=0,n=this.count;r<n;r++)Ca.fromBufferAttribute(this,r),Ca.applyNormalMatrix(t),this.setXYZ(r,Ca.x,Ca.y,Ca.z);return this}transformDirection(t){for(let r=0,n=this.count;r<n;r++)Ca.fromBufferAttribute(this,r),Ca.transformDirection(t),this.setXYZ(r,Ca.x,Ca.y,Ca.z);return this}setX(t,r){return this.data.array[t*this.data.stride+this.offset]=r,this}setY(t,r){return this.data.array[t*this.data.stride+this.offset+1]=r,this}setZ(t,r){return this.data.array[t*this.data.stride+this.offset+2]=r,this}setW(t,r){return this.data.array[t*this.data.stride+this.offset+3]=r,this}getX(t){return this.data.array[t*this.data.stride+this.offset]}getY(t){return this.data.array[t*this.data.stride+this.offset+1]}getZ(t){return this.data.array[t*this.data.stride+this.offset+2]}getW(t){return this.data.array[t*this.data.stride+this.offset+3]}setXY(t,r,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=r,this.data.array[t+1]=n,this}setXYZ(t,r,n,c){return t=t*this.data.stride+this.offset,this.data.array[t+0]=r,this.data.array[t+1]=n,this.data.array[t+2]=c,this}setXYZW(t,r,n,c,p){return t=t*this.data.stride+this.offset,this.data.array[t+0]=r,this.data.array[t+1]=n,this.data.array[t+2]=c,this.data.array[t+3]=p,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const r=[];for(let n=0;n<this.count;n++){const c=n*this.data.stride+this.offset;for(let p=0;p<this.itemSize;p++)r.push(this.data.array[c+p])}return new d0(new this.array.constructor(r),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new fc(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const r=[];for(let n=0;n<this.count;n++){const c=n*this.data.stride+this.offset;for(let p=0;p<this.itemSize;p++)r.push(this.data.array[c+p])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:r,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}fc.prototype.isInterleavedBufferAttribute=!0;class s2 extends Ds{constructor(t){super(),this.type="SpriteMaterial",this.color=new _i(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}s2.prototype.isSpriteMaterial=!0;let lp;const Um=new wt,fp=new wt,up=new wt,cp=new $r,Vm=new $r,Q7=new Ji,H4=new wt,jm=new wt,U4=new wt,gS=new $r,Dx=new $r,bS=new $r;class Mf extends Rn{constructor(t){if(super(),this.type="Sprite",lp===void 0){lp=new wn;const r=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Oh(r,5);lp.setIndex([0,1,2,0,2,3]),lp.setAttribute("position",new fc(n,3,0,!1)),lp.setAttribute("uv",new fc(n,2,3,!1))}this.geometry=lp,this.material=t!==void 0?t:new s2,this.center=new $r(.5,.5)}raycast(t,r){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),fp.setFromMatrixScale(this.matrixWorld),Q7.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),up.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&fp.multiplyScalar(-up.z);const n=this.material.rotation;let c,p;n!==0&&(p=Math.cos(n),c=Math.sin(n));const y=this.center;V4(H4.set(-.5,-.5,0),up,y,fp,c,p),V4(jm.set(.5,-.5,0),up,y,fp,c,p),V4(U4.set(.5,.5,0),up,y,fp,c,p),gS.set(0,0),Dx.set(1,0),bS.set(1,1);let v=t.ray.intersectTriangle(H4,jm,U4,!1,Um);if(v===null&&(V4(jm.set(-.5,.5,0),up,y,fp,c,p),Dx.set(0,1),v=t.ray.intersectTriangle(H4,U4,jm,!1,Um),v===null))return;const E=t.ray.origin.distanceTo(Um);E<t.near||E>t.far||r.push({distance:E,point:Um.clone(),uv:fo.getUV(Um,H4,jm,U4,gS,Dx,bS,new $r),face:null,object:this})}copy(t){return super.copy(t),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}Mf.prototype.isSprite=!0;function V4(a,t,r,n,c,p){cp.subVectors(a,r).addScalar(.5).multiply(n),c!==void 0?(Vm.x=p*cp.x-c*cp.y,Vm.y=c*cp.x+p*cp.y):Vm.copy(cp),a.copy(t),a.x+=Vm.x,a.y+=Vm.y,a.applyMatrix4(Q7)}const j4=new wt,yS=new wt;class J7 extends Rn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const r=t.levels;for(let n=0,c=r.length;n<c;n++){const p=r[n];this.addLevel(p.object.clone(),p.distance)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,r=0){r=Math.abs(r);const n=this.levels;let c;for(c=0;c<n.length&&!(r<n[c].distance);c++);return n.splice(c,0,{distance:r,object:t}),this.add(t),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const r=this.levels;if(r.length>0){let n,c;for(n=1,c=r.length;n<c&&!(t<r[n].distance);n++);return r[n-1].object}return null}raycast(t,r){if(this.levels.length>0){j4.setFromMatrixPosition(this.matrixWorld);const c=t.ray.origin.distanceTo(j4);this.getObjectForDistance(c).raycast(t,r)}}update(t){const r=this.levels;if(r.length>1){j4.setFromMatrixPosition(t.matrixWorld),yS.setFromMatrixPosition(this.matrixWorld);const n=j4.distanceTo(yS)/t.zoom;r[0].object.visible=!0;let c,p;for(c=1,p=r.length;c<p&&n>=r[c].distance;c++)r[c-1].object.visible=!1,r[c].object.visible=!0;for(this._currentLevel=c-1;c<p;c++)r[c].object.visible=!1}}toJSON(t){const r=super.toJSON(t);this.autoUpdate===!1&&(r.object.autoUpdate=!1),r.object.levels=[];const n=this.levels;for(let c=0,p=n.length;c<p;c++){const y=n[c];r.object.levels.push({object:y.object.uuid,distance:y.distance})}return r}}const vS=new wt,wS=new j0,AS=new j0,FW=new wt,xS=new Ji;class Zg extends Kr{constructor(t,r){super(t,r),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ji,this.bindMatrixInverse=new Ji}copy(t){return super.copy(t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this}bind(t,r){this.skeleton=t,r===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),r=this.matrixWorld),this.bindMatrix.copy(r),this.bindMatrixInverse.copy(r).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new j0,r=this.geometry.attributes.skinWeight;for(let n=0,c=r.count;n<c;n++){t.fromBufferAttribute(r,n);const p=1/t.manhattanLength();p!==1/0?t.multiplyScalar(p):t.set(1,0,0,0),r.setXYZW(n,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(t,r){const n=this.skeleton,c=this.geometry;wS.fromBufferAttribute(c.attributes.skinIndex,t),AS.fromBufferAttribute(c.attributes.skinWeight,t),vS.copy(r).applyMatrix4(this.bindMatrix),r.set(0,0,0);for(let p=0;p<4;p++){const y=AS.getComponent(p);if(y!==0){const v=wS.getComponent(p);xS.multiplyMatrices(n.bones[v].matrixWorld,n.boneInverses[v]),r.addScaledVector(FW.copy(vS).applyMatrix4(xS),y)}}return r.applyMatrix4(this.bindMatrixInverse)}}Zg.prototype.isSkinnedMesh=!0;class Yg extends Rn{constructor(){super(),this.type="Bone"}}Yg.prototype.isBone=!0;class jd extends Z0{constructor(t=null,r=1,n=1,c,p,y,v,E,_=oo,k=oo,R,B){super(null,y,v,E,_,k,c,p,R,B),this.image={data:t,width:r,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}jd.prototype.isDataTexture=!0;const ES=new Ji,OW=new Ji;class Kg{constructor(t=[],r=[]){this.uuid=Cl(),this.bones=t.slice(0),this.boneInverses=r,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const t=this.bones,r=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),r.length===0)this.calculateInverses();else if(t.length!==r.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,c=this.bones.length;n<c;n++)this.boneInverses.push(new Ji)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,r=this.bones.length;t<r;t++){const n=new Ji;this.bones[t]&&n.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let t=0,r=this.bones.length;t<r;t++){const n=this.bones[t];n&&n.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,r=this.bones.length;t<r;t++){const n=this.bones[t];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const t=this.bones,r=this.boneInverses,n=this.boneMatrices,c=this.boneTexture;for(let p=0,y=t.length;p<y;p++){const v=t[p]?t[p].matrixWorld:OW;ES.multiplyMatrices(v,r[p]),ES.toArray(n,p*16)}c!==null&&(c.needsUpdate=!0)}clone(){return new Kg(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=x7(t),t=Math.max(t,4);const r=new Float32Array(t*t*4);r.set(this.boneMatrices);const n=new jd(r,t,t,Al,ic);return n.needsUpdate=!0,this.boneMatrices=r,this.boneTexture=n,this.boneTextureSize=t,this}getBoneByName(t){for(let r=0,n=this.bones.length;r<n;r++){const c=this.bones[r];if(c.name===t)return c}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,r){this.uuid=t.uuid;for(let n=0,c=t.bones.length;n<c;n++){const p=t.bones[n];let y=r[p];y===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",p),y=new Yg),this.bones.push(y),this.boneInverses.push(new Ji().fromArray(t.boneInverses[n]))}return this.init(),this}toJSON(){const t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const r=this.bones,n=this.boneInverses;for(let c=0,p=r.length;c<p;c++){const y=r[c];t.bones.push(y.uuid);const v=n[c];t.boneInverses.push(v.toArray())}return t}}class Xd extends d0{constructor(t,r,n,c=1){typeof n=="number"&&(c=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(t,r,n),this.meshPerAttribute=c}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}Xd.prototype.isInstancedBufferAttribute=!0;const _S=new Ji,kS=new Ji,G4=[],Gm=new Kr;class Fw extends Kr{constructor(t,r,n){super(t,r),this.instanceMatrix=new Xd(new Float32Array(n*16),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}copy(t){return super.copy(t),this.instanceMatrix.copy(t.instanceMatrix),t.instanceColor!==null&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,this}getColorAt(t,r){r.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,r){r.fromArray(this.instanceMatrix.array,t*16)}raycast(t,r){const n=this.matrixWorld,c=this.count;if(Gm.geometry=this.geometry,Gm.material=this.material,Gm.material!==void 0)for(let p=0;p<c;p++){this.getMatrixAt(p,_S),kS.multiplyMatrices(n,_S),Gm.matrixWorld=kS,Gm.raycast(t,G4);for(let y=0,v=G4.length;y<v;y++){const E=G4[y];E.instanceId=p,E.object=this,r.push(E)}G4.length=0}}setColorAt(t,r){this.instanceColor===null&&(this.instanceColor=new Xd(new Float32Array(this.instanceMatrix.count*3),3)),r.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,r){r.toArray(this.instanceMatrix.array,t*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}Fw.prototype.isInstancedMesh=!0;class uo extends Ds{constructor(t){super(),this.type="LineBasicMaterial",this.color=new _i(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}uo.prototype.isLineBasicMaterial=!0;const CS=new wt,SS=new wt,TS=new Ji,Bx=new Nh,z4=new Mu;class _o extends Rn{constructor(t=new wn,r=new uo){super(),this.type="Line",this.geometry=t,this.material=r,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(t.index===null){const r=t.attributes.position,n=[0];for(let c=1,p=r.count;c<p;c++)CS.fromBufferAttribute(r,c-1),SS.fromBufferAttribute(r,c),n[c]=n[c-1],n[c]+=CS.distanceTo(SS);t.setAttribute("lineDistance",new $i(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(t,r){const n=this.geometry,c=this.matrixWorld,p=t.params.Line.threshold,y=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),z4.copy(n.boundingSphere),z4.applyMatrix4(c),z4.radius+=p,t.ray.intersectsSphere(z4)===!1)return;TS.copy(c).invert(),Bx.copy(t.ray).applyMatrix4(TS);const v=p/((this.scale.x+this.scale.y+this.scale.z)/3),E=v*v,_=new wt,k=new wt,R=new wt,B=new wt,M=this.isLineSegments?2:1;if(n.isBufferGeometry){const F=n.index,U=n.attributes.position;if(F!==null){const Z=Math.max(0,y.start),K=Math.min(F.count,y.start+y.count);for(let fe=Z,oe=K-1;fe<oe;fe+=M){const we=F.getX(fe),be=F.getX(fe+1);if(_.fromBufferAttribute(U,we),k.fromBufferAttribute(U,be),Bx.distanceSqToSegment(_,k,B,R)>E)continue;B.applyMatrix4(this.matrixWorld);const ne=t.ray.origin.distanceTo(B);ne<t.near||ne>t.far||r.push({distance:ne,point:R.clone().applyMatrix4(this.matrixWorld),index:fe,face:null,faceIndex:null,object:this})}}else{const Z=Math.max(0,y.start),K=Math.min(U.count,y.start+y.count);for(let fe=Z,oe=K-1;fe<oe;fe+=M){if(_.fromBufferAttribute(U,fe),k.fromBufferAttribute(U,fe+1),Bx.distanceSqToSegment(_,k,B,R)>E)continue;B.applyMatrix4(this.matrixWorld);const be=t.ray.origin.distanceTo(B);be<t.near||be>t.far||r.push({distance:be,point:R.clone().applyMatrix4(this.matrixWorld),index:fe,face:null,faceIndex:null,object:this})}}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const r=t.morphAttributes,n=Object.keys(r);if(n.length>0){const c=r[n[0]];if(c!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let p=0,y=c.length;p<y;p++){const v=c[p].name||String(p);this.morphTargetInfluences.push(0),this.morphTargetDictionary[v]=p}}}}else{const r=t.morphTargets;r!==void 0&&r.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}_o.prototype.isLine=!0;const MS=new wt,RS=new wt;class Pa extends _o{constructor(t,r){super(t,r),this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(t.index===null){const r=t.attributes.position,n=[];for(let c=0,p=r.count;c<p;c+=2)MS.fromBufferAttribute(r,c),RS.fromBufferAttribute(r,c+1),n[c]=c===0?0:n[c-1],n[c+1]=n[c]+MS.distanceTo(RS);t.setAttribute("lineDistance",new $i(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Pa.prototype.isLineSegments=!0;class Ow extends _o{constructor(t,r){super(t,r),this.type="LineLoop"}}Ow.prototype.isLineLoop=!0;class pc extends Ds{constructor(t){super(),this.type="PointsMaterial",this.color=new _i(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}pc.prototype.isPointsMaterial=!0;const DS=new Ji,lE=new Nh,W4=new Mu,Q4=new wt;class w1 extends Rn{constructor(t=new wn,r=new pc){super(),this.type="Points",this.geometry=t,this.material=r,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}raycast(t,r){const n=this.geometry,c=this.matrixWorld,p=t.params.Points.threshold,y=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),W4.copy(n.boundingSphere),W4.applyMatrix4(c),W4.radius+=p,t.ray.intersectsSphere(W4)===!1)return;DS.copy(c).invert(),lE.copy(t.ray).applyMatrix4(DS);const v=p/((this.scale.x+this.scale.y+this.scale.z)/3),E=v*v;if(n.isBufferGeometry){const _=n.index,R=n.attributes.position;if(_!==null){const B=Math.max(0,y.start),M=Math.min(_.count,y.start+y.count);for(let F=B,H=M;F<H;F++){const U=_.getX(F);Q4.fromBufferAttribute(R,U),BS(Q4,U,E,c,t,r,this)}}else{const B=Math.max(0,y.start),M=Math.min(R.count,y.start+y.count);for(let F=B,H=M;F<H;F++)Q4.fromBufferAttribute(R,F),BS(Q4,F,E,c,t,r,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const r=t.morphAttributes,n=Object.keys(r);if(n.length>0){const c=r[n[0]];if(c!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let p=0,y=c.length;p<y;p++){const v=c[p].name||String(p);this.morphTargetInfluences.push(0),this.morphTargetDictionary[v]=p}}}}else{const r=t.morphTargets;r!==void 0&&r.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}w1.prototype.isPoints=!0;function BS(a,t,r,n,c,p,y){const v=lE.distanceSqToPoint(a);if(v<r){const E=new wt;lE.closestPointToPoint(a,E),E.applyMatrix4(n);const _=c.ray.origin.distanceTo(E);if(_<c.near||_>c.far)return;p.push({distance:_,distanceToRay:Math.sqrt(v),point:E,index:t,face:null,object:y})}}class X7 extends Z0{constructor(t,r,n,c,p,y,v,E,_){super(t,r,n,c,p,y,v,E,_),this.minFilter=y!==void 0?y:Es,this.magFilter=p!==void 0?p:Es,this.generateMipmaps=!1;const k=this;function R(){k.needsUpdate=!0,t.requestVideoFrameCallback(R)}"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(R)}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}X7.prototype.isVideoTexture=!0;class q7 extends Z0{constructor(t,r,n){super({width:t,height:r}),this.format=n,this.magFilter=oo,this.minFilter=oo,this.generateMipmaps=!1,this.needsUpdate=!0}}q7.prototype.isFramebufferTexture=!0;class s8 extends Z0{constructor(t,r,n,c,p,y,v,E,_,k,R,B){super(null,y,v,E,_,k,c,p,R,B),this.image={width:r,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}s8.prototype.isCompressedTexture=!0;class $g extends Z0{constructor(t,r,n,c,p,y,v,E,_){super(t,r,n,c,p,y,v,E,_),this.needsUpdate=!0}}$g.prototype.isCanvasTexture=!0;class Ml{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,r){const n=this.getUtoTmapping(t);return this.getPoint(n,r)}getPoints(t=5){const r=[];for(let n=0;n<=t;n++)r.push(this.getPoint(n/t));return r}getSpacedPoints(t=5){const r=[];for(let n=0;n<=t;n++)r.push(this.getPointAt(n/t));return r}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const r=[];let n,c=this.getPoint(0),p=0;r.push(0);for(let y=1;y<=t;y++)n=this.getPoint(y/t),p+=n.distanceTo(c),r.push(p),c=n;return this.cacheArcLengths=r,r}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,r){const n=this.getLengths();let c=0;const p=n.length;let y;r?y=r:y=t*n[p-1];let v=0,E=p-1,_;for(;v<=E;)if(c=Math.floor(v+(E-v)/2),_=n[c]-y,_<0)v=c+1;else if(_>0)E=c-1;else{E=c;break}if(c=E,n[c]===y)return c/(p-1);const k=n[c],B=n[c+1]-k,M=(y-k)/B;return(c+M)/(p-1)}getTangent(t,r){let c=t-1e-4,p=t+1e-4;c<0&&(c=0),p>1&&(p=1);const y=this.getPoint(c),v=this.getPoint(p),E=r||(y.isVector2?new $r:new wt);return E.copy(v).sub(y).normalize(),E}getTangentAt(t,r){const n=this.getUtoTmapping(t);return this.getTangent(n,r)}computeFrenetFrames(t,r){const n=new wt,c=[],p=[],y=[],v=new wt,E=new Ji;for(let M=0;M<=t;M++){const F=M/t;c[M]=this.getTangentAt(F,new wt)}p[0]=new wt,y[0]=new wt;let _=Number.MAX_VALUE;const k=Math.abs(c[0].x),R=Math.abs(c[0].y),B=Math.abs(c[0].z);k<=_&&(_=k,n.set(1,0,0)),R<=_&&(_=R,n.set(0,1,0)),B<=_&&n.set(0,0,1),v.crossVectors(c[0],n).normalize(),p[0].crossVectors(c[0],v),y[0].crossVectors(c[0],p[0]);for(let M=1;M<=t;M++){if(p[M]=p[M-1].clone(),y[M]=y[M-1].clone(),v.crossVectors(c[M-1],c[M]),v.length()>Number.EPSILON){v.normalize();const F=Math.acos(ao(c[M-1].dot(c[M]),-1,1));p[M].applyMatrix4(E.makeRotationAxis(v,F))}y[M].crossVectors(c[M],p[M])}if(r===!0){let M=Math.acos(ao(p[0].dot(p[t]),-1,1));M/=t,c[0].dot(v.crossVectors(p[0],p[t]))>0&&(M=-M);for(let F=1;F<=t;F++)p[F].applyMatrix4(E.makeRotationAxis(c[F],M*F)),y[F].crossVectors(c[F],p[F])}return{tangents:c,normals:p,binormals:y}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class eb extends Ml{constructor(t=0,r=0,n=1,c=1,p=0,y=Math.PI*2,v=!1,E=0){super(),this.type="EllipseCurve",this.aX=t,this.aY=r,this.xRadius=n,this.yRadius=c,this.aStartAngle=p,this.aEndAngle=y,this.aClockwise=v,this.aRotation=E}getPoint(t,r){const n=r||new $r,c=Math.PI*2;let p=this.aEndAngle-this.aStartAngle;const y=Math.abs(p)<Number.EPSILON;for(;p<0;)p+=c;for(;p>c;)p-=c;p<Number.EPSILON&&(y?p=0:p=c),this.aClockwise===!0&&!y&&(p===c?p=-c:p=p-c);const v=this.aStartAngle+t*p;let E=this.aX+this.xRadius*Math.cos(v),_=this.aY+this.yRadius*Math.sin(v);if(this.aRotation!==0){const k=Math.cos(this.aRotation),R=Math.sin(this.aRotation),B=E-this.aX,M=_-this.aY;E=B*k-M*R+this.aX,_=B*R+M*k+this.aY}return n.set(E,_)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}eb.prototype.isEllipseCurve=!0;class o8 extends eb{constructor(t,r,n,c,p,y){super(t,r,n,n,c,p,y),this.type="ArcCurve"}}o8.prototype.isArcCurve=!0;function a8(){let a=0,t=0,r=0,n=0;function c(p,y,v,E){a=p,t=v,r=-3*p+3*y-2*v-E,n=2*p-2*y+v+E}return{initCatmullRom:function(p,y,v,E,_){c(y,v,_*(v-p),_*(E-y))},initNonuniformCatmullRom:function(p,y,v,E,_,k,R){let B=(y-p)/_-(v-p)/(_+k)+(v-y)/k,M=(v-y)/k-(E-y)/(k+R)+(E-v)/R;B*=k,M*=k,c(y,v,B,M)},calc:function(p){const y=p*p,v=y*p;return a+t*p+r*y+n*v}}}const J4=new wt,Ix=new a8,Lx=new a8,Px=new a8;class l8 extends Ml{constructor(t=[],r=!1,n="centripetal",c=.5){super(),this.type="CatmullRomCurve3",this.points=t,this.closed=r,this.curveType=n,this.tension=c}getPoint(t,r=new wt){const n=r,c=this.points,p=c.length,y=(p-(this.closed?0:1))*t;let v=Math.floor(y),E=y-v;this.closed?v+=v>0?0:(Math.floor(Math.abs(v)/p)+1)*p:E===0&&v===p-1&&(v=p-2,E=1);let _,k;this.closed||v>0?_=c[(v-1)%p]:(J4.subVectors(c[0],c[1]).add(c[0]),_=J4);const R=c[v%p],B=c[(v+1)%p];if(this.closed||v+2<p?k=c[(v+2)%p]:(J4.subVectors(c[p-1],c[p-2]).add(c[p-1]),k=J4),this.curveType==="centripetal"||this.curveType==="chordal"){const M=this.curveType==="chordal"?.5:.25;let F=Math.pow(_.distanceToSquared(R),M),H=Math.pow(R.distanceToSquared(B),M),U=Math.pow(B.distanceToSquared(k),M);H<1e-4&&(H=1),F<1e-4&&(F=H),U<1e-4&&(U=H),Ix.initNonuniformCatmullRom(_.x,R.x,B.x,k.x,F,H,U),Lx.initNonuniformCatmullRom(_.y,R.y,B.y,k.y,F,H,U),Px.initNonuniformCatmullRom(_.z,R.z,B.z,k.z,F,H,U)}else this.curveType==="catmullrom"&&(Ix.initCatmullRom(_.x,R.x,B.x,k.x,this.tension),Lx.initCatmullRom(_.y,R.y,B.y,k.y,this.tension),Px.initCatmullRom(_.z,R.z,B.z,k.z,this.tension));return n.set(Ix.calc(E),Lx.calc(E),Px.calc(E)),n}copy(t){super.copy(t),this.points=[];for(let r=0,n=t.points.length;r<n;r++){const c=t.points[r];this.points.push(c.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let r=0,n=this.points.length;r<n;r++){const c=this.points[r];t.points.push(c.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let r=0,n=t.points.length;r<n;r++){const c=t.points[r];this.points.push(new wt().fromArray(c))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}l8.prototype.isCatmullRomCurve3=!0;function IS(a,t,r,n,c){const p=(n-t)*.5,y=(c-r)*.5,v=a*a,E=a*v;return(2*r-2*n+p+y)*E+(-3*r+3*n-2*p-y)*v+p*a+r}function HW(a,t){const r=1-a;return r*r*t}function UW(a,t){return 2*(1-a)*a*t}function VW(a,t){return a*a*t}function yg(a,t,r,n){return HW(a,t)+UW(a,r)+VW(a,n)}function jW(a,t){const r=1-a;return r*r*r*t}function GW(a,t){const r=1-a;return 3*r*r*a*t}function zW(a,t){return 3*(1-a)*a*a*t}function WW(a,t){return a*a*a*t}function vg(a,t,r,n,c){return jW(a,t)+GW(a,r)+zW(a,n)+WW(a,c)}class Hw extends Ml{constructor(t=new $r,r=new $r,n=new $r,c=new $r){super(),this.type="CubicBezierCurve",this.v0=t,this.v1=r,this.v2=n,this.v3=c}getPoint(t,r=new $r){const n=r,c=this.v0,p=this.v1,y=this.v2,v=this.v3;return n.set(vg(t,c.x,p.x,y.x,v.x),vg(t,c.y,p.y,y.y,v.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}Hw.prototype.isCubicBezierCurve=!0;class f8 extends Ml{constructor(t=new wt,r=new wt,n=new wt,c=new wt){super(),this.type="CubicBezierCurve3",this.v0=t,this.v1=r,this.v2=n,this.v3=c}getPoint(t,r=new wt){const n=r,c=this.v0,p=this.v1,y=this.v2,v=this.v3;return n.set(vg(t,c.x,p.x,y.x,v.x),vg(t,c.y,p.y,y.y,v.y),vg(t,c.z,p.z,y.z,v.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}f8.prototype.isCubicBezierCurve3=!0;class tb extends Ml{constructor(t=new $r,r=new $r){super(),this.type="LineCurve",this.v1=t,this.v2=r}getPoint(t,r=new $r){const n=r;return t===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,r){return this.getPoint(t,r)}getTangent(t,r){const n=r||new $r;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}tb.prototype.isLineCurve=!0;class Z7 extends Ml{constructor(t=new wt,r=new wt){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=t,this.v2=r}getPoint(t,r=new wt){const n=r;return t===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,r){return this.getPoint(t,r)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class Uw extends Ml{constructor(t=new $r,r=new $r,n=new $r){super(),this.type="QuadraticBezierCurve",this.v0=t,this.v1=r,this.v2=n}getPoint(t,r=new $r){const n=r,c=this.v0,p=this.v1,y=this.v2;return n.set(yg(t,c.x,p.x,y.x),yg(t,c.y,p.y,y.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}Uw.prototype.isQuadraticBezierCurve=!0;class Vw extends Ml{constructor(t=new wt,r=new wt,n=new wt){super(),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=r,this.v2=n}getPoint(t,r=new wt){const n=r,c=this.v0,p=this.v1,y=this.v2;return n.set(yg(t,c.x,p.x,y.x),yg(t,c.y,p.y,y.y),yg(t,c.z,p.z,y.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}Vw.prototype.isQuadraticBezierCurve3=!0;class jw extends Ml{constructor(t=[]){super(),this.type="SplineCurve",this.points=t}getPoint(t,r=new $r){const n=r,c=this.points,p=(c.length-1)*t,y=Math.floor(p),v=p-y,E=c[y===0?y:y-1],_=c[y],k=c[y>c.length-2?c.length-1:y+1],R=c[y>c.length-3?c.length-1:y+2];return n.set(IS(v,E.x,_.x,k.x,R.x),IS(v,E.y,_.y,k.y,R.y)),n}copy(t){super.copy(t),this.points=[];for(let r=0,n=t.points.length;r<n;r++){const c=t.points[r];this.points.push(c.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let r=0,n=this.points.length;r<n;r++){const c=this.points[r];t.points.push(c.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let r=0,n=t.points.length;r<n;r++){const c=t.points[r];this.points.push(new $r().fromArray(c))}return this}}jw.prototype.isSplineCurve=!0;var u8=Object.freeze({__proto__:null,ArcCurve:o8,CatmullRomCurve3:l8,CubicBezierCurve:Hw,CubicBezierCurve3:f8,EllipseCurve:eb,LineCurve:tb,LineCurve3:Z7,QuadraticBezierCurve:Uw,QuadraticBezierCurve3:Vw,SplineCurve:jw});class Y7 extends Ml{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),r=this.curves[this.curves.length-1].getPoint(1);t.equals(r)||this.curves.push(new tb(r,t))}getPoint(t,r){const n=t*this.getLength(),c=this.getCurveLengths();let p=0;for(;p<c.length;){if(c[p]>=n){const y=c[p]-n,v=this.curves[p],E=v.getLength(),_=E===0?0:1-y/E;return v.getPointAt(_,r)}p++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let r=0;for(let n=0,c=this.curves.length;n<c;n++)r+=this.curves[n].getLength(),t.push(r);return this.cacheLengths=t,t}getSpacedPoints(t=40){const r=[];for(let n=0;n<=t;n++)r.push(this.getPoint(n/t));return this.autoClose&&r.push(r[0]),r}getPoints(t=12){const r=[];let n;for(let c=0,p=this.curves;c<p.length;c++){const y=p[c],v=y.isEllipseCurve?t*2:y.isLineCurve||y.isLineCurve3?1:y.isSplineCurve?t*y.points.length:t,E=y.getPoints(v);for(let _=0;_<E.length;_++){const k=E[_];n&&n.equals(k)||(r.push(k),n=k)}}return this.autoClose&&r.length>1&&!r[r.length-1].equals(r[0])&&r.push(r[0]),r}copy(t){super.copy(t),this.curves=[];for(let r=0,n=t.curves.length;r<n;r++){const c=t.curves[r];this.curves.push(c.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let r=0,n=this.curves.length;r<n;r++){const c=this.curves[r];t.curves.push(c.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let r=0,n=t.curves.length;r<n;r++){const c=t.curves[r];this.curves.push(new u8[c.type]().fromJSON(c))}return this}}class Qp extends Y7{constructor(t){super(),this.type="Path",this.currentPoint=new $r,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let r=1,n=t.length;r<n;r++)this.lineTo(t[r].x,t[r].y);return this}moveTo(t,r){return this.currentPoint.set(t,r),this}lineTo(t,r){const n=new tb(this.currentPoint.clone(),new $r(t,r));return this.curves.push(n),this.currentPoint.set(t,r),this}quadraticCurveTo(t,r,n,c){const p=new Uw(this.currentPoint.clone(),new $r(t,r),new $r(n,c));return this.curves.push(p),this.currentPoint.set(n,c),this}bezierCurveTo(t,r,n,c,p,y){const v=new Hw(this.currentPoint.clone(),new $r(t,r),new $r(n,c),new $r(p,y));return this.curves.push(v),this.currentPoint.set(p,y),this}splineThru(t){const r=[this.currentPoint.clone()].concat(t),n=new jw(r);return this.curves.push(n),this.currentPoint.copy(t[t.length-1]),this}arc(t,r,n,c,p,y){const v=this.currentPoint.x,E=this.currentPoint.y;return this.absarc(t+v,r+E,n,c,p,y),this}absarc(t,r,n,c,p,y){return this.absellipse(t,r,n,n,c,p,y),this}ellipse(t,r,n,c,p,y,v,E){const _=this.currentPoint.x,k=this.currentPoint.y;return this.absellipse(t+_,r+k,n,c,p,y,v,E),this}absellipse(t,r,n,c,p,y,v,E){const _=new eb(t,r,n,c,p,y,v,E);if(this.curves.length>0){const R=_.getPoint(0);R.equals(this.currentPoint)||this.lineTo(R.x,R.y)}this.curves.push(_);const k=_.getPoint(1);return this.currentPoint.copy(k),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class qd extends wn{constructor(t=[new $r(0,.5),new $r(.5,0),new $r(0,-.5)],r=12,n=0,c=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:t,segments:r,phiStart:n,phiLength:c},r=Math.floor(r),c=ao(c,0,Math.PI*2);const p=[],y=[],v=[],E=[],_=[],k=1/r,R=new wt,B=new $r,M=new wt,F=new wt,H=new wt;let U=0,Z=0;for(let K=0;K<=t.length-1;K++)switch(K){case 0:U=t[K+1].x-t[K].x,Z=t[K+1].y-t[K].y,M.x=Z*1,M.y=-U,M.z=Z*0,H.copy(M),M.normalize(),E.push(M.x,M.y,M.z);break;case t.length-1:E.push(H.x,H.y,H.z);break;default:U=t[K+1].x-t[K].x,Z=t[K+1].y-t[K].y,M.x=Z*1,M.y=-U,M.z=Z*0,F.copy(M),M.x+=H.x,M.y+=H.y,M.z+=H.z,M.normalize(),E.push(M.x,M.y,M.z),H.copy(F)}for(let K=0;K<=r;K++){const fe=n+K*k*c,oe=Math.sin(fe),we=Math.cos(fe);for(let be=0;be<=t.length-1;be++){R.x=t[be].x*oe,R.y=t[be].y,R.z=t[be].x*we,y.push(R.x,R.y,R.z),B.x=K/r,B.y=be/(t.length-1),v.push(B.x,B.y);const ve=E[3*be+0]*oe,ne=E[3*be+1],ae=E[3*be+0]*we;_.push(ve,ne,ae)}}for(let K=0;K<r;K++)for(let fe=0;fe<t.length-1;fe++){const oe=fe+K*t.length,we=oe,be=oe+t.length,ve=oe+t.length+1,ne=oe+1;p.push(we,be,ne),p.push(ve,ne,be)}this.setIndex(p),this.setAttribute("position",new $i(y,3)),this.setAttribute("uv",new $i(v,2)),this.setAttribute("normal",new $i(_,3))}static fromJSON(t){return new qd(t.points,t.segments,t.phiStart,t.phiLength)}}class Jp extends qd{constructor(t=1,r=1,n=4,c=8){const p=new Qp;p.absarc(0,-r/2,t,Math.PI*1.5,0),p.absarc(0,r/2,t,0,Math.PI*.5),super(p.getPoints(n),c),this.type="CapsuleGeometry",this.parameters={radius:t,height:r,capSegments:n,radialSegments:c}}static fromJSON(t){return new Jp(t.radius,t.length,t.capSegments,t.radialSegments)}}class Xp extends wn{constructor(t=1,r=8,n=0,c=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:r,thetaStart:n,thetaLength:c},r=Math.max(3,r);const p=[],y=[],v=[],E=[],_=new wt,k=new $r;y.push(0,0,0),v.push(0,0,1),E.push(.5,.5);for(let R=0,B=3;R<=r;R++,B+=3){const M=n+R/r*c;_.x=t*Math.cos(M),_.y=t*Math.sin(M),y.push(_.x,_.y,_.z),v.push(0,0,1),k.x=(y[B]/t+1)/2,k.y=(y[B+1]/t+1)/2,E.push(k.x,k.y)}for(let R=1;R<=r;R++)p.push(R,R+1,0);this.setIndex(p),this.setAttribute("position",new $i(y,3)),this.setAttribute("normal",new $i(v,3)),this.setAttribute("uv",new $i(E,2))}static fromJSON(t){return new Xp(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class As extends wn{constructor(t=1,r=1,n=1,c=8,p=1,y=!1,v=0,E=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:r,height:n,radialSegments:c,heightSegments:p,openEnded:y,thetaStart:v,thetaLength:E};const _=this;c=Math.floor(c),p=Math.floor(p);const k=[],R=[],B=[],M=[];let F=0;const H=[],U=n/2;let Z=0;K(),y===!1&&(t>0&&fe(!0),r>0&&fe(!1)),this.setIndex(k),this.setAttribute("position",new $i(R,3)),this.setAttribute("normal",new $i(B,3)),this.setAttribute("uv",new $i(M,2));function K(){const oe=new wt,we=new wt;let be=0;const ve=(r-t)/n;for(let ne=0;ne<=p;ne++){const ae=[],ye=ne/p,de=ye*(r-t)+t;for(let xe=0;xe<=c;xe++){const le=xe/c,re=le*E+v,he=Math.sin(re),me=Math.cos(re);we.x=de*he,we.y=-ye*n+U,we.z=de*me,R.push(we.x,we.y,we.z),oe.set(he,ve,me).normalize(),B.push(oe.x,oe.y,oe.z),M.push(le,1-ye),ae.push(F++)}H.push(ae)}for(let ne=0;ne<c;ne++)for(let ae=0;ae<p;ae++){const ye=H[ae][ne],de=H[ae+1][ne],xe=H[ae+1][ne+1],le=H[ae][ne+1];k.push(ye,de,le),k.push(de,xe,le),be+=6}_.addGroup(Z,be,0),Z+=be}function fe(oe){const we=F,be=new $r,ve=new wt;let ne=0;const ae=oe===!0?t:r,ye=oe===!0?1:-1;for(let xe=1;xe<=c;xe++)R.push(0,U*ye,0),B.push(0,ye,0),M.push(.5,.5),F++;const de=F;for(let xe=0;xe<=c;xe++){const re=xe/c*E+v,he=Math.cos(re),me=Math.sin(re);ve.x=ae*me,ve.y=U*ye,ve.z=ae*he,R.push(ve.x,ve.y,ve.z),B.push(0,ye,0),be.x=he*.5+.5,be.y=me*.5*ye+.5,M.push(be.x,be.y),F++}for(let xe=0;xe<c;xe++){const le=we+xe,re=de+xe;oe===!0?k.push(re,re+1,le):k.push(re+1,re,le),ne+=3}_.addGroup(Z,ne,oe===!0?1:2),Z+=ne}}static fromJSON(t){return new As(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class Rh extends As{constructor(t=1,r=1,n=8,c=1,p=!1,y=0,v=Math.PI*2){super(0,t,r,n,c,p,y,v),this.type="ConeGeometry",this.parameters={radius:t,height:r,radialSegments:n,heightSegments:c,openEnded:p,thetaStart:y,thetaLength:v}}static fromJSON(t){return new Rh(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class Au extends wn{constructor(t=[],r=[],n=1,c=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:r,radius:n,detail:c};const p=[],y=[];v(c),_(n),k(),this.setAttribute("position",new $i(p,3)),this.setAttribute("normal",new $i(p.slice(),3)),this.setAttribute("uv",new $i(y,2)),c===0?this.computeVertexNormals():this.normalizeNormals();function v(K){const fe=new wt,oe=new wt,we=new wt;for(let be=0;be<r.length;be+=3)M(r[be+0],fe),M(r[be+1],oe),M(r[be+2],we),E(fe,oe,we,K)}function E(K,fe,oe,we){const be=we+1,ve=[];for(let ne=0;ne<=be;ne++){ve[ne]=[];const ae=K.clone().lerp(oe,ne/be),ye=fe.clone().lerp(oe,ne/be),de=be-ne;for(let xe=0;xe<=de;xe++)xe===0&&ne===be?ve[ne][xe]=ae:ve[ne][xe]=ae.clone().lerp(ye,xe/de)}for(let ne=0;ne<be;ne++)for(let ae=0;ae<2*(be-ne)-1;ae++){const ye=Math.floor(ae/2);ae%2===0?(B(ve[ne][ye+1]),B(ve[ne+1][ye]),B(ve[ne][ye])):(B(ve[ne][ye+1]),B(ve[ne+1][ye+1]),B(ve[ne+1][ye]))}}function _(K){const fe=new wt;for(let oe=0;oe<p.length;oe+=3)fe.x=p[oe+0],fe.y=p[oe+1],fe.z=p[oe+2],fe.normalize().multiplyScalar(K),p[oe+0]=fe.x,p[oe+1]=fe.y,p[oe+2]=fe.z}function k(){const K=new wt;for(let fe=0;fe<p.length;fe+=3){K.x=p[fe+0],K.y=p[fe+1],K.z=p[fe+2];const oe=U(K)/2/Math.PI+.5,we=Z(K)/Math.PI+.5;y.push(oe,1-we)}F(),R()}function R(){for(let K=0;K<y.length;K+=6){const fe=y[K+0],oe=y[K+2],we=y[K+4],be=Math.max(fe,oe,we),ve=Math.min(fe,oe,we);be>.9&&ve<.1&&(fe<.2&&(y[K+0]+=1),oe<.2&&(y[K+2]+=1),we<.2&&(y[K+4]+=1))}}function B(K){p.push(K.x,K.y,K.z)}function M(K,fe){const oe=K*3;fe.x=t[oe+0],fe.y=t[oe+1],fe.z=t[oe+2]}function F(){const K=new wt,fe=new wt,oe=new wt,we=new wt,be=new $r,ve=new $r,ne=new $r;for(let ae=0,ye=0;ae<p.length;ae+=9,ye+=6){K.set(p[ae+0],p[ae+1],p[ae+2]),fe.set(p[ae+3],p[ae+4],p[ae+5]),oe.set(p[ae+6],p[ae+7],p[ae+8]),be.set(y[ye+0],y[ye+1]),ve.set(y[ye+2],y[ye+3]),ne.set(y[ye+4],y[ye+5]),we.copy(K).add(fe).add(oe).divideScalar(3);const de=U(we);H(be,ye+0,K,de),H(ve,ye+2,fe,de),H(ne,ye+4,oe,de)}}function H(K,fe,oe,we){we<0&&K.x===1&&(y[fe]=K.x-1),oe.x===0&&oe.z===0&&(y[fe]=we/2/Math.PI+.5)}function U(K){return Math.atan2(K.z,-K.x)}function Z(K){return Math.atan2(-K.y,Math.sqrt(K.x*K.x+K.z*K.z))}}static fromJSON(t){return new Au(t.vertices,t.indices,t.radius,t.details)}}class qp extends Au{constructor(t=1,r=0){const n=(1+Math.sqrt(5))/2,c=1/n,p=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-c,-n,0,-c,n,0,c,-n,0,c,n,-c,-n,0,-c,n,0,c,-n,0,c,n,0,-n,0,-c,n,0,-c,-n,0,c,n,0,c],y=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(p,y,t,r),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:r}}static fromJSON(t){return new qp(t.radius,t.detail)}}const X4=new wt,q4=new wt,Nx=new wt,Z4=new fo;class c8 extends wn{constructor(t=null,r=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:r},t!==null){const c=Math.pow(10,4),p=Math.cos(Ud*r),y=t.getIndex(),v=t.getAttribute("position"),E=y?y.count:v.count,_=[0,0,0],k=["a","b","c"],R=new Array(3),B={},M=[];for(let F=0;F<E;F+=3){y?(_[0]=y.getX(F),_[1]=y.getX(F+1),_[2]=y.getX(F+2)):(_[0]=F,_[1]=F+1,_[2]=F+2);const{a:H,b:U,c:Z}=Z4;if(H.fromBufferAttribute(v,_[0]),U.fromBufferAttribute(v,_[1]),Z.fromBufferAttribute(v,_[2]),Z4.getNormal(Nx),R[0]=`${Math.round(H.x*c)},${Math.round(H.y*c)},${Math.round(H.z*c)}`,R[1]=`${Math.round(U.x*c)},${Math.round(U.y*c)},${Math.round(U.z*c)}`,R[2]=`${Math.round(Z.x*c)},${Math.round(Z.y*c)},${Math.round(Z.z*c)}`,!(R[0]===R[1]||R[1]===R[2]||R[2]===R[0]))for(let K=0;K<3;K++){const fe=(K+1)%3,oe=R[K],we=R[fe],be=Z4[k[K]],ve=Z4[k[fe]],ne=`${oe}_${we}`,ae=`${we}_${oe}`;ae in B&&B[ae]?(Nx.dot(B[ae].normal)<=p&&(M.push(be.x,be.y,be.z),M.push(ve.x,ve.y,ve.z)),B[ae]=null):ne in B||(B[ne]={index0:_[K],index1:_[fe],normal:Nx.clone()})}}for(const F in B)if(B[F]){const{index0:H,index1:U}=B[F];X4.fromBufferAttribute(v,H),q4.fromBufferAttribute(v,U),M.push(X4.x,X4.y,X4.z),M.push(q4.x,q4.y,q4.z)}this.setAttribute("position",new $i(M,3))}}}class If extends Qp{constructor(t){super(t),this.uuid=Cl(),this.type="Shape",this.holes=[]}getPointsHoles(t){const r=[];for(let n=0,c=this.holes.length;n<c;n++)r[n]=this.holes[n].getPoints(t);return r}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let r=0,n=t.holes.length;r<n;r++){const c=t.holes[r];this.holes.push(c.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let r=0,n=this.holes.length;r<n;r++){const c=this.holes[r];t.holes.push(c.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let r=0,n=t.holes.length;r<n;r++){const c=t.holes[r];this.holes.push(new Qp().fromJSON(c))}return this}}const QW={triangulate:function(a,t,r=2){const n=t&&t.length,c=n?t[0]*r:a.length;let p=K7(a,0,c,r,!0);const y=[];if(!p||p.next===p.prev)return y;let v,E,_,k,R,B,M;if(n&&(p=YW(a,t,p,r)),a.length>80*r){v=_=a[0],E=k=a[1];for(let F=r;F<c;F+=r)R=a[F],B=a[F+1],R<v&&(v=R),B<E&&(E=B),R>_&&(_=R),B>k&&(k=B);M=Math.max(_-v,k-E),M=M!==0?1/M:0}return Ig(p,y,r,v,E,M),y}};function K7(a,t,r,n,c){let p,y;if(c===lQ(a,t,r,n)>0)for(p=t;p<r;p+=n)y=LS(p,a[p],a[p+1],y);else for(p=r-n;p>=t;p-=n)y=LS(p,a[p],a[p+1],y);return y&&Gw(y,y.next)&&(Pg(y),y=y.next),y}function Dh(a,t){if(!a)return a;t||(t=a);let r=a,n;do if(n=!1,!r.steiner&&(Gw(r,r.next)||Hs(r.prev,r,r.next)===0)){if(Pg(r),r=t=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==t);return t}function Ig(a,t,r,n,c,p,y){if(!a)return;!y&&p&&rQ(a,n,c,p);let v=a,E,_;for(;a.prev!==a.next;){if(E=a.prev,_=a.next,p?XW(a,n,c,p):JW(a)){t.push(E.i/r),t.push(a.i/r),t.push(_.i/r),Pg(a),a=_.next,v=_.next;continue}if(a=_,a===v){y?y===1?(a=qW(Dh(a),t,r),Ig(a,t,r,n,c,p,2)):y===2&&ZW(a,t,r,n,c,p):Ig(Dh(a),t,r,n,c,p,1);break}}}function JW(a){const t=a.prev,r=a,n=a.next;if(Hs(t,r,n)>=0)return!1;let c=a.next.next;for(;c!==a.prev;){if(kp(t.x,t.y,r.x,r.y,n.x,n.y,c.x,c.y)&&Hs(c.prev,c,c.next)>=0)return!1;c=c.next}return!0}function XW(a,t,r,n){const c=a.prev,p=a,y=a.next;if(Hs(c,p,y)>=0)return!1;const v=c.x<p.x?c.x<y.x?c.x:y.x:p.x<y.x?p.x:y.x,E=c.y<p.y?c.y<y.y?c.y:y.y:p.y<y.y?p.y:y.y,_=c.x>p.x?c.x>y.x?c.x:y.x:p.x>y.x?p.x:y.x,k=c.y>p.y?c.y>y.y?c.y:y.y:p.y>y.y?p.y:y.y,R=fE(v,E,t,r,n),B=fE(_,k,t,r,n);let M=a.prevZ,F=a.nextZ;for(;M&&M.z>=R&&F&&F.z<=B;){if(M!==a.prev&&M!==a.next&&kp(c.x,c.y,p.x,p.y,y.x,y.y,M.x,M.y)&&Hs(M.prev,M,M.next)>=0||(M=M.prevZ,F!==a.prev&&F!==a.next&&kp(c.x,c.y,p.x,p.y,y.x,y.y,F.x,F.y)&&Hs(F.prev,F,F.next)>=0))return!1;F=F.nextZ}for(;M&&M.z>=R;){if(M!==a.prev&&M!==a.next&&kp(c.x,c.y,p.x,p.y,y.x,y.y,M.x,M.y)&&Hs(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;F&&F.z<=B;){if(F!==a.prev&&F!==a.next&&kp(c.x,c.y,p.x,p.y,y.x,y.y,F.x,F.y)&&Hs(F.prev,F,F.next)>=0)return!1;F=F.nextZ}return!0}function qW(a,t,r){let n=a;do{const c=n.prev,p=n.next.next;!Gw(c,p)&&$7(c,n,n.next,p)&&Lg(c,p)&&Lg(p,c)&&(t.push(c.i/r),t.push(n.i/r),t.push(p.i/r),Pg(n),Pg(n.next),n=a=p),n=n.next}while(n!==a);return Dh(n)}function ZW(a,t,r,n,c,p){let y=a;do{let v=y.next.next;for(;v!==y.prev;){if(y.i!==v.i&&sQ(y,v)){let E=eR(y,v);y=Dh(y,y.next),E=Dh(E,E.next),Ig(y,t,r,n,c,p),Ig(E,t,r,n,c,p);return}v=v.next}y=y.next}while(y!==a)}function YW(a,t,r,n){const c=[];let p,y,v,E,_;for(p=0,y=t.length;p<y;p++)v=t[p]*n,E=p<y-1?t[p+1]*n:a.length,_=K7(a,v,E,n,!1),_===_.next&&(_.steiner=!0),c.push(nQ(_));for(c.sort(KW),p=0;p<c.length;p++)$W(c[p],r),r=Dh(r,r.next);return r}function KW(a,t){return a.x-t.x}function $W(a,t){if(t=eQ(a,t),t){const r=eR(t,a);Dh(t,t.next),Dh(r,r.next)}}function eQ(a,t){let r=t;const n=a.x,c=a.y;let p=-1/0,y;do{if(c<=r.y&&c>=r.next.y&&r.next.y!==r.y){const B=r.x+(c-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(B<=n&&B>p){if(p=B,B===n){if(c===r.y)return r;if(c===r.next.y)return r.next}y=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!y)return null;if(n===p)return y;const v=y,E=y.x,_=y.y;let k=1/0,R;r=y;do n>=r.x&&r.x>=E&&n!==r.x&&kp(c<_?n:p,c,E,_,c<_?p:n,c,r.x,r.y)&&(R=Math.abs(c-r.y)/(n-r.x),Lg(r,a)&&(R<k||R===k&&(r.x>y.x||r.x===y.x&&tQ(y,r)))&&(y=r,k=R)),r=r.next;while(r!==v);return y}function tQ(a,t){return Hs(a.prev,a,t.prev)<0&&Hs(t.next,a,a.next)<0}function rQ(a,t,r,n){let c=a;do c.z===null&&(c.z=fE(c.x,c.y,t,r,n)),c.prevZ=c.prev,c.nextZ=c.next,c=c.next;while(c!==a);c.prevZ.nextZ=null,c.prevZ=null,iQ(c)}function iQ(a){let t,r,n,c,p,y,v,E,_=1;do{for(r=a,a=null,p=null,y=0;r;){for(y++,n=r,v=0,t=0;t<_&&(v++,n=n.nextZ,!!n);t++);for(E=_;v>0||E>0&&n;)v!==0&&(E===0||!n||r.z<=n.z)?(c=r,r=r.nextZ,v--):(c=n,n=n.nextZ,E--),p?p.nextZ=c:a=c,c.prevZ=p,p=c;r=n}p.nextZ=null,_*=2}while(y>1);return a}function fE(a,t,r,n,c){return a=32767*(a-r)*c,t=32767*(t-n)*c,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,a|t<<1}function nQ(a){let t=a,r=a;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==a);return r}function kp(a,t,r,n,c,p,y,v){return(c-y)*(t-v)-(a-y)*(p-v)>=0&&(a-y)*(n-v)-(r-y)*(t-v)>=0&&(r-y)*(p-v)-(c-y)*(n-v)>=0}function sQ(a,t){return a.next.i!==t.i&&a.prev.i!==t.i&&!oQ(a,t)&&(Lg(a,t)&&Lg(t,a)&&aQ(a,t)&&(Hs(a.prev,a,t.prev)||Hs(a,t.prev,t))||Gw(a,t)&&Hs(a.prev,a,a.next)>0&&Hs(t.prev,t,t.next)>0)}function Hs(a,t,r){return(t.y-a.y)*(r.x-t.x)-(t.x-a.x)*(r.y-t.y)}function Gw(a,t){return a.x===t.x&&a.y===t.y}function $7(a,t,r,n){const c=K4(Hs(a,t,r)),p=K4(Hs(a,t,n)),y=K4(Hs(r,n,a)),v=K4(Hs(r,n,t));return!!(c!==p&&y!==v||c===0&&Y4(a,r,t)||p===0&&Y4(a,n,t)||y===0&&Y4(r,a,n)||v===0&&Y4(r,t,n))}function Y4(a,t,r){return t.x<=Math.max(a.x,r.x)&&t.x>=Math.min(a.x,r.x)&&t.y<=Math.max(a.y,r.y)&&t.y>=Math.min(a.y,r.y)}function K4(a){return a>0?1:a<0?-1:0}function oQ(a,t){let r=a;do{if(r.i!==a.i&&r.next.i!==a.i&&r.i!==t.i&&r.next.i!==t.i&&$7(r,r.next,a,t))return!0;r=r.next}while(r!==a);return!1}function Lg(a,t){return Hs(a.prev,a,a.next)<0?Hs(a,t,a.next)>=0&&Hs(a,a.prev,t)>=0:Hs(a,t,a.prev)<0||Hs(a,a.next,t)<0}function aQ(a,t){let r=a,n=!1;const c=(a.x+t.x)/2,p=(a.y+t.y)/2;do r.y>p!=r.next.y>p&&r.next.y!==r.y&&c<(r.next.x-r.x)*(p-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==a);return n}function eR(a,t){const r=new uE(a.i,a.x,a.y),n=new uE(t.i,t.x,t.y),c=a.next,p=t.prev;return a.next=t,t.prev=a,r.next=c,c.prev=r,n.next=r,r.prev=n,p.next=n,n.prev=p,n}function LS(a,t,r,n){const c=new uE(a,t,r);return n?(c.next=n.next,c.prev=n,n.next.prev=c,n.next=c):(c.prev=c,c.next=c),c}function Pg(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function uE(a,t,r){this.i=a,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function lQ(a,t,r,n){let c=0;for(let p=t,y=r-n;p<r;p+=n)c+=(a[y]-a[p])*(a[p+1]+a[y+1]),y=p;return c}class gu{static area(t){const r=t.length;let n=0;for(let c=r-1,p=0;p<r;c=p++)n+=t[c].x*t[p].y-t[p].x*t[c].y;return n*.5}static isClockWise(t){return gu.area(t)<0}static triangulateShape(t,r){const n=[],c=[],p=[];PS(t),NS(n,t);let y=t.length;r.forEach(PS);for(let E=0;E<r.length;E++)c.push(y),y+=r[E].length,NS(n,r[E]);const v=QW.triangulate(n,c);for(let E=0;E<v.length;E+=3)p.push(v.slice(E,E+3));return p}}function PS(a){const t=a.length;t>2&&a[t-1].equals(a[0])&&a.pop()}function NS(a,t){for(let r=0;r<t.length;r++)a.push(t[r].x),a.push(t[r].y)}class Pf extends wn{constructor(t=new If([new $r(.5,.5),new $r(-.5,.5),new $r(-.5,-.5),new $r(.5,-.5)]),r={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:r},t=Array.isArray(t)?t:[t];const n=this,c=[],p=[];for(let v=0,E=t.length;v<E;v++){const _=t[v];y(_)}this.setAttribute("position",new $i(c,3)),this.setAttribute("uv",new $i(p,2)),this.computeVertexNormals();function y(v){const E=[],_=r.curveSegments!==void 0?r.curveSegments:12,k=r.steps!==void 0?r.steps:1;let R=r.depth!==void 0?r.depth:1,B=r.bevelEnabled!==void 0?r.bevelEnabled:!0,M=r.bevelThickness!==void 0?r.bevelThickness:.2,F=r.bevelSize!==void 0?r.bevelSize:M-.1,H=r.bevelOffset!==void 0?r.bevelOffset:0,U=r.bevelSegments!==void 0?r.bevelSegments:3;const Z=r.extrudePath,K=r.UVGenerator!==void 0?r.UVGenerator:fQ;r.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),R=r.amount);let fe,oe=!1,we,be,ve,ne;Z&&(fe=Z.getSpacedPoints(k),oe=!0,B=!1,we=Z.computeFrenetFrames(k,!1),be=new wt,ve=new wt,ne=new wt),B||(U=0,M=0,F=0,H=0);const ae=v.extractPoints(_);let ye=ae.shape;const de=ae.holes;if(!gu.isClockWise(ye)){ye=ye.reverse();for(let Gt=0,Ht=de.length;Gt<Ht;Gt++){const Kt=de[Gt];gu.isClockWise(Kt)&&(de[Gt]=Kt.reverse())}}const le=gu.triangulateShape(ye,de),re=ye;for(let Gt=0,Ht=de.length;Gt<Ht;Gt++){const Kt=de[Gt];ye=ye.concat(Kt)}function he(Gt,Ht,Kt){return Ht||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ht.clone().multiplyScalar(Kt).add(Gt)}const me=ye.length,Re=le.length;function Ie(Gt,Ht,Kt){let yr,Ur,Yr;const oi=Gt.x-Ht.x,xt=Gt.y-Ht.y,kt=Kt.x-Gt.x,rr=Kt.y-Gt.y,mt=oi*oi+xt*xt,ft=oi*rr-xt*kt;if(Math.abs(ft)>Number.EPSILON){const Ut=Math.sqrt(mt),ir=Math.sqrt(kt*kt+rr*rr),vr=Ht.x-xt/Ut,nt=Ht.y+oi/Ut,De=Kt.x-rr/ir,Te=Kt.y+kt/ir,gt=((De-vr)*rr-(Te-nt)*kt)/(oi*rr-xt*kt);yr=vr+oi*gt-Gt.x,Ur=nt+xt*gt-Gt.y;const zt=yr*yr+Ur*Ur;if(zt<=2)return new $r(yr,Ur);Yr=Math.sqrt(zt/2)}else{let Ut=!1;oi>Number.EPSILON?kt>Number.EPSILON&&(Ut=!0):oi<-Number.EPSILON?kt<-Number.EPSILON&&(Ut=!0):Math.sign(xt)===Math.sign(rr)&&(Ut=!0),Ut?(yr=-xt,Ur=oi,Yr=Math.sqrt(mt)):(yr=oi,Ur=xt,Yr=Math.sqrt(mt/2))}return new $r(yr/Yr,Ur/Yr)}const Ne=[];for(let Gt=0,Ht=re.length,Kt=Ht-1,yr=Gt+1;Gt<Ht;Gt++,Kt++,yr++)Kt===Ht&&(Kt=0),yr===Ht&&(yr=0),Ne[Gt]=Ie(re[Gt],re[Kt],re[yr]);const Qe=[];let Ue,ce=Ne.concat();for(let Gt=0,Ht=de.length;Gt<Ht;Gt++){const Kt=de[Gt];Ue=[];for(let yr=0,Ur=Kt.length,Yr=Ur-1,oi=yr+1;yr<Ur;yr++,Yr++,oi++)Yr===Ur&&(Yr=0),oi===Ur&&(oi=0),Ue[yr]=Ie(Kt[yr],Kt[Yr],Kt[oi]);Qe.push(Ue),ce=ce.concat(Ue)}for(let Gt=0;Gt<U;Gt++){const Ht=Gt/U,Kt=M*Math.cos(Ht*Math.PI/2),yr=F*Math.sin(Ht*Math.PI/2)+H;for(let Ur=0,Yr=re.length;Ur<Yr;Ur++){const oi=he(re[Ur],Ne[Ur],yr);ct(oi.x,oi.y,-Kt)}for(let Ur=0,Yr=de.length;Ur<Yr;Ur++){const oi=de[Ur];Ue=Qe[Ur];for(let xt=0,kt=oi.length;xt<kt;xt++){const rr=he(oi[xt],Ue[xt],yr);ct(rr.x,rr.y,-Kt)}}}const Me=F+H;for(let Gt=0;Gt<me;Gt++){const Ht=B?he(ye[Gt],ce[Gt],Me):ye[Gt];oe?(ve.copy(we.normals[0]).multiplyScalar(Ht.x),be.copy(we.binormals[0]).multiplyScalar(Ht.y),ne.copy(fe[0]).add(ve).add(be),ct(ne.x,ne.y,ne.z)):ct(Ht.x,Ht.y,0)}for(let Gt=1;Gt<=k;Gt++)for(let Ht=0;Ht<me;Ht++){const Kt=B?he(ye[Ht],ce[Ht],Me):ye[Ht];oe?(ve.copy(we.normals[Gt]).multiplyScalar(Kt.x),be.copy(we.binormals[Gt]).multiplyScalar(Kt.y),ne.copy(fe[Gt]).add(ve).add(be),ct(ne.x,ne.y,ne.z)):ct(Kt.x,Kt.y,R/k*Gt)}for(let Gt=U-1;Gt>=0;Gt--){const Ht=Gt/U,Kt=M*Math.cos(Ht*Math.PI/2),yr=F*Math.sin(Ht*Math.PI/2)+H;for(let Ur=0,Yr=re.length;Ur<Yr;Ur++){const oi=he(re[Ur],Ne[Ur],yr);ct(oi.x,oi.y,R+Kt)}for(let Ur=0,Yr=de.length;Ur<Yr;Ur++){const oi=de[Ur];Ue=Qe[Ur];for(let xt=0,kt=oi.length;xt<kt;xt++){const rr=he(oi[xt],Ue[xt],yr);oe?ct(rr.x,rr.y+fe[k-1].y,fe[k-1].x+Kt):ct(rr.x,rr.y,R+Kt)}}}ot(),Se();function ot(){const Gt=c.length/3;if(B){let Ht=0,Kt=me*Ht;for(let yr=0;yr<Re;yr++){const Ur=le[yr];$e(Ur[2]+Kt,Ur[1]+Kt,Ur[0]+Kt)}Ht=k+U*2,Kt=me*Ht;for(let yr=0;yr<Re;yr++){const Ur=le[yr];$e(Ur[0]+Kt,Ur[1]+Kt,Ur[2]+Kt)}}else{for(let Ht=0;Ht<Re;Ht++){const Kt=le[Ht];$e(Kt[2],Kt[1],Kt[0])}for(let Ht=0;Ht<Re;Ht++){const Kt=le[Ht];$e(Kt[0]+me*k,Kt[1]+me*k,Kt[2]+me*k)}}n.addGroup(Gt,c.length/3-Gt,0)}function Se(){const Gt=c.length/3;let Ht=0;Xe(re,Ht),Ht+=re.length;for(let Kt=0,yr=de.length;Kt<yr;Kt++){const Ur=de[Kt];Xe(Ur,Ht),Ht+=Ur.length}n.addGroup(Gt,c.length/3-Gt,1)}function Xe(Gt,Ht){let Kt=Gt.length;for(;--Kt>=0;){const yr=Kt;let Ur=Kt-1;Ur<0&&(Ur=Gt.length-1);for(let Yr=0,oi=k+U*2;Yr<oi;Yr++){const xt=me*Yr,kt=me*(Yr+1),rr=Ht+yr+xt,mt=Ht+Ur+xt,ft=Ht+Ur+kt,Ut=Ht+yr+kt;Et(rr,mt,ft,Ut)}}}function ct(Gt,Ht,Kt){E.push(Gt),E.push(Ht),E.push(Kt)}function $e(Gt,Ht,Kt){Dt(Gt),Dt(Ht),Dt(Kt);const yr=c.length/3,Ur=K.generateTopUV(n,c,yr-3,yr-2,yr-1);er(Ur[0]),er(Ur[1]),er(Ur[2])}function Et(Gt,Ht,Kt,yr){Dt(Gt),Dt(Ht),Dt(yr),Dt(Ht),Dt(Kt),Dt(yr);const Ur=c.length/3,Yr=K.generateSideWallUV(n,c,Ur-6,Ur-3,Ur-2,Ur-1);er(Yr[0]),er(Yr[1]),er(Yr[3]),er(Yr[1]),er(Yr[2]),er(Yr[3])}function Dt(Gt){c.push(E[Gt*3+0]),c.push(E[Gt*3+1]),c.push(E[Gt*3+2])}function er(Gt){p.push(Gt.x),p.push(Gt.y)}}}toJSON(){const t=super.toJSON(),r=this.parameters.shapes,n=this.parameters.options;return uQ(r,n,t)}static fromJSON(t,r){const n=[];for(let p=0,y=t.shapes.length;p<y;p++){const v=r[t.shapes[p]];n.push(v)}const c=t.options.extrudePath;return c!==void 0&&(t.options.extrudePath=new u8[c.type]().fromJSON(c)),new Pf(n,t.options)}}const fQ={generateTopUV:function(a,t,r,n,c){const p=t[r*3],y=t[r*3+1],v=t[n*3],E=t[n*3+1],_=t[c*3],k=t[c*3+1];return[new $r(p,y),new $r(v,E),new $r(_,k)]},generateSideWallUV:function(a,t,r,n,c,p){const y=t[r*3],v=t[r*3+1],E=t[r*3+2],_=t[n*3],k=t[n*3+1],R=t[n*3+2],B=t[c*3],M=t[c*3+1],F=t[c*3+2],H=t[p*3],U=t[p*3+1],Z=t[p*3+2];return Math.abs(v-k)<Math.abs(y-_)?[new $r(y,1-E),new $r(_,1-R),new $r(B,1-F),new $r(H,1-Z)]:[new $r(v,1-E),new $r(k,1-R),new $r(M,1-F),new $r(U,1-Z)]}};function uQ(a,t,r){if(r.shapes=[],Array.isArray(a))for(let n=0,c=a.length;n<c;n++){const p=a[n];r.shapes.push(p.uuid)}else r.shapes.push(a.uuid);return t.extrudePath!==void 0&&(r.options.extrudePath=t.extrudePath.toJSON()),r}class Zp extends Au{constructor(t=1,r=0){const n=(1+Math.sqrt(5))/2,c=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],p=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(c,p,t,r),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:r}}static fromJSON(t){return new Zp(t.radius,t.detail)}}class Rf extends Au{constructor(t=1,r=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],c=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,c,t,r),this.type="OctahedronGeometry",this.parameters={radius:t,detail:r}}static fromJSON(t){return new Rf(t.radius,t.detail)}}class Yp extends wn{constructor(t=.5,r=1,n=8,c=1,p=0,y=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:r,thetaSegments:n,phiSegments:c,thetaStart:p,thetaLength:y},n=Math.max(3,n),c=Math.max(1,c);const v=[],E=[],_=[],k=[];let R=t;const B=(r-t)/c,M=new wt,F=new $r;for(let H=0;H<=c;H++){for(let U=0;U<=n;U++){const Z=p+U/n*y;M.x=R*Math.cos(Z),M.y=R*Math.sin(Z),E.push(M.x,M.y,M.z),_.push(0,0,1),F.x=(M.x/r+1)/2,F.y=(M.y/r+1)/2,k.push(F.x,F.y)}R+=B}for(let H=0;H<c;H++){const U=H*(n+1);for(let Z=0;Z<n;Z++){const K=Z+U,fe=K,oe=K+n+1,we=K+n+2,be=K+1;v.push(fe,oe,be),v.push(oe,we,be)}}this.setIndex(v),this.setAttribute("position",new $i(E,3)),this.setAttribute("normal",new $i(_,3)),this.setAttribute("uv",new $i(k,2))}static fromJSON(t){return new Yp(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class Zd extends wn{constructor(t=new If([new $r(0,.5),new $r(-.5,-.5),new $r(.5,-.5)]),r=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:r};const n=[],c=[],p=[],y=[];let v=0,E=0;if(Array.isArray(t)===!1)_(t);else for(let k=0;k<t.length;k++)_(t[k]),this.addGroup(v,E,k),v+=E,E=0;this.setIndex(n),this.setAttribute("position",new $i(c,3)),this.setAttribute("normal",new $i(p,3)),this.setAttribute("uv",new $i(y,2));function _(k){const R=c.length/3,B=k.extractPoints(r);let M=B.shape;const F=B.holes;gu.isClockWise(M)===!1&&(M=M.reverse());for(let U=0,Z=F.length;U<Z;U++){const K=F[U];gu.isClockWise(K)===!0&&(F[U]=K.reverse())}const H=gu.triangulateShape(M,F);for(let U=0,Z=F.length;U<Z;U++){const K=F[U];M=M.concat(K)}for(let U=0,Z=M.length;U<Z;U++){const K=M[U];c.push(K.x,K.y,0),p.push(0,0,1),y.push(K.x,K.y)}for(let U=0,Z=H.length;U<Z;U++){const K=H[U],fe=K[0]+R,oe=K[1]+R,we=K[2]+R;n.push(fe,oe,we),E+=3}}}toJSON(){const t=super.toJSON(),r=this.parameters.shapes;return cQ(r,t)}static fromJSON(t,r){const n=[];for(let c=0,p=t.shapes.length;c<p;c++){const y=r[t.shapes[c]];n.push(y)}return new Zd(n,t.curveSegments)}}function cQ(a,t){if(t.shapes=[],Array.isArray(a))for(let r=0,n=a.length;r<n;r++){const c=a[r];t.shapes.push(c.uuid)}else t.shapes.push(a.uuid);return t}class Nf extends wn{constructor(t=1,r=32,n=16,c=0,p=Math.PI*2,y=0,v=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:r,heightSegments:n,phiStart:c,phiLength:p,thetaStart:y,thetaLength:v},r=Math.max(3,Math.floor(r)),n=Math.max(2,Math.floor(n));const E=Math.min(y+v,Math.PI);let _=0;const k=[],R=new wt,B=new wt,M=[],F=[],H=[],U=[];for(let Z=0;Z<=n;Z++){const K=[],fe=Z/n;let oe=0;Z==0&&y==0?oe=.5/r:Z==n&&E==Math.PI&&(oe=-.5/r);for(let we=0;we<=r;we++){const be=we/r;R.x=-t*Math.cos(c+be*p)*Math.sin(y+fe*v),R.y=t*Math.cos(y+fe*v),R.z=t*Math.sin(c+be*p)*Math.sin(y+fe*v),F.push(R.x,R.y,R.z),B.copy(R).normalize(),H.push(B.x,B.y,B.z),U.push(be+oe,1-fe),K.push(_++)}k.push(K)}for(let Z=0;Z<n;Z++)for(let K=0;K<r;K++){const fe=k[Z][K+1],oe=k[Z][K],we=k[Z+1][K],be=k[Z+1][K+1];(Z!==0||y>0)&&M.push(fe,oe,be),(Z!==n-1||E<Math.PI)&&M.push(oe,we,be)}this.setIndex(M),this.setAttribute("position",new $i(F,3)),this.setAttribute("normal",new $i(H,3)),this.setAttribute("uv",new $i(U,2))}static fromJSON(t){return new Nf(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class Kp extends Au{constructor(t=1,r=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],c=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,c,t,r),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:r}}static fromJSON(t){return new Kp(t.radius,t.detail)}}class ql extends wn{constructor(t=1,r=.4,n=8,c=6,p=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:r,radialSegments:n,tubularSegments:c,arc:p},n=Math.floor(n),c=Math.floor(c);const y=[],v=[],E=[],_=[],k=new wt,R=new wt,B=new wt;for(let M=0;M<=n;M++)for(let F=0;F<=c;F++){const H=F/c*p,U=M/n*Math.PI*2;R.x=(t+r*Math.cos(U))*Math.cos(H),R.y=(t+r*Math.cos(U))*Math.sin(H),R.z=r*Math.sin(U),v.push(R.x,R.y,R.z),k.x=t*Math.cos(H),k.y=t*Math.sin(H),B.subVectors(R,k).normalize(),E.push(B.x,B.y,B.z),_.push(F/c),_.push(M/n)}for(let M=1;M<=n;M++)for(let F=1;F<=c;F++){const H=(c+1)*M+F-1,U=(c+1)*(M-1)+F-1,Z=(c+1)*(M-1)+F,K=(c+1)*M+F;y.push(H,U,K),y.push(U,Z,K)}this.setIndex(y),this.setAttribute("position",new $i(v,3)),this.setAttribute("normal",new $i(E,3)),this.setAttribute("uv",new $i(_,2))}static fromJSON(t){return new ql(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class $p extends wn{constructor(t=1,r=.4,n=64,c=8,p=2,y=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:r,tubularSegments:n,radialSegments:c,p,q:y},n=Math.floor(n),c=Math.floor(c);const v=[],E=[],_=[],k=[],R=new wt,B=new wt,M=new wt,F=new wt,H=new wt,U=new wt,Z=new wt;for(let fe=0;fe<=n;++fe){const oe=fe/n*p*Math.PI*2;K(oe,p,y,t,M),K(oe+.01,p,y,t,F),U.subVectors(F,M),Z.addVectors(F,M),H.crossVectors(U,Z),Z.crossVectors(H,U),H.normalize(),Z.normalize();for(let we=0;we<=c;++we){const be=we/c*Math.PI*2,ve=-r*Math.cos(be),ne=r*Math.sin(be);R.x=M.x+(ve*Z.x+ne*H.x),R.y=M.y+(ve*Z.y+ne*H.y),R.z=M.z+(ve*Z.z+ne*H.z),E.push(R.x,R.y,R.z),B.subVectors(R,M).normalize(),_.push(B.x,B.y,B.z),k.push(fe/n),k.push(we/c)}}for(let fe=1;fe<=n;fe++)for(let oe=1;oe<=c;oe++){const we=(c+1)*(fe-1)+(oe-1),be=(c+1)*fe+(oe-1),ve=(c+1)*fe+oe,ne=(c+1)*(fe-1)+oe;v.push(we,be,ne),v.push(be,ve,ne)}this.setIndex(v),this.setAttribute("position",new $i(E,3)),this.setAttribute("normal",new $i(_,3)),this.setAttribute("uv",new $i(k,2));function K(fe,oe,we,be,ve){const ne=Math.cos(fe),ae=Math.sin(fe),ye=we/oe*fe,de=Math.cos(ye);ve.x=be*(2+de)*.5*ne,ve.y=be*(2+de)*ae*.5,ve.z=be*Math.sin(ye)*.5}}static fromJSON(t){return new $p(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class e1 extends wn{constructor(t=new Vw(new wt(-1,-1,0),new wt(-1,1,0),new wt(1,1,0)),r=64,n=1,c=8,p=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:r,radius:n,radialSegments:c,closed:p};const y=t.computeFrenetFrames(r,p);this.tangents=y.tangents,this.normals=y.normals,this.binormals=y.binormals;const v=new wt,E=new wt,_=new $r;let k=new wt;const R=[],B=[],M=[],F=[];H(),this.setIndex(F),this.setAttribute("position",new $i(R,3)),this.setAttribute("normal",new $i(B,3)),this.setAttribute("uv",new $i(M,2));function H(){for(let fe=0;fe<r;fe++)U(fe);U(p===!1?r:0),K(),Z()}function U(fe){k=t.getPointAt(fe/r,k);const oe=y.normals[fe],we=y.binormals[fe];for(let be=0;be<=c;be++){const ve=be/c*Math.PI*2,ne=Math.sin(ve),ae=-Math.cos(ve);E.x=ae*oe.x+ne*we.x,E.y=ae*oe.y+ne*we.y,E.z=ae*oe.z+ne*we.z,E.normalize(),B.push(E.x,E.y,E.z),v.x=k.x+n*E.x,v.y=k.y+n*E.y,v.z=k.z+n*E.z,R.push(v.x,v.y,v.z)}}function Z(){for(let fe=1;fe<=r;fe++)for(let oe=1;oe<=c;oe++){const we=(c+1)*(fe-1)+(oe-1),be=(c+1)*fe+(oe-1),ve=(c+1)*fe+oe,ne=(c+1)*(fe-1)+oe;F.push(we,be,ne),F.push(be,ve,ne)}}function K(){for(let fe=0;fe<=r;fe++)for(let oe=0;oe<=c;oe++)_.x=fe/r,_.y=oe/c,M.push(_.x,_.y)}}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new e1(new u8[t.path.type]().fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class h8 extends wn{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},t!==null){const r=[],n=new Set,c=new wt,p=new wt;if(t.index!==null){const y=t.attributes.position,v=t.index;let E=t.groups;E.length===0&&(E=[{start:0,count:v.count,materialIndex:0}]);for(let _=0,k=E.length;_<k;++_){const R=E[_],B=R.start,M=R.count;for(let F=B,H=B+M;F<H;F+=3)for(let U=0;U<3;U++){const Z=v.getX(F+U),K=v.getX(F+(U+1)%3);c.fromBufferAttribute(y,Z),p.fromBufferAttribute(y,K),OS(c,p,n)===!0&&(r.push(c.x,c.y,c.z),r.push(p.x,p.y,p.z))}}}else{const y=t.attributes.position;for(let v=0,E=y.count/3;v<E;v++)for(let _=0;_<3;_++){const k=3*v+_,R=3*v+(_+1)%3;c.fromBufferAttribute(y,k),p.fromBufferAttribute(y,R),OS(c,p,n)===!0&&(r.push(c.x,c.y,c.z),r.push(p.x,p.y,p.z))}}this.setAttribute("position",new $i(r,3))}}}function OS(a,t,r){const n=`${a.x},${a.y},${a.z}-${t.x},${t.y},${t.z}`,c=`${t.x},${t.y},${t.z}-${a.x},${a.y},${a.z}`;return r.has(n)===!0||r.has(c)===!0?!1:(r.add(n),r.add(c),!0)}var HS=Object.freeze({__proto__:null,BoxGeometry:fs,BoxBufferGeometry:fs,CapsuleGeometry:Jp,CapsuleBufferGeometry:Jp,CircleGeometry:Xp,CircleBufferGeometry:Xp,ConeGeometry:Rh,ConeBufferGeometry:Rh,CylinderGeometry:As,CylinderBufferGeometry:As,DodecahedronGeometry:qp,DodecahedronBufferGeometry:qp,EdgesGeometry:c8,ExtrudeGeometry:Pf,ExtrudeBufferGeometry:Pf,IcosahedronGeometry:Zp,IcosahedronBufferGeometry:Zp,LatheGeometry:qd,LatheBufferGeometry:qd,OctahedronGeometry:Rf,OctahedronBufferGeometry:Rf,PlaneGeometry:Lo,PlaneBufferGeometry:Lo,PolyhedronGeometry:Au,PolyhedronBufferGeometry:Au,RingGeometry:Yp,RingBufferGeometry:Yp,ShapeGeometry:Zd,ShapeBufferGeometry:Zd,SphereGeometry:Nf,SphereBufferGeometry:Nf,TetrahedronGeometry:Kp,TetrahedronBufferGeometry:Kp,TorusGeometry:ql,TorusBufferGeometry:ql,TorusKnotGeometry:$p,TorusKnotBufferGeometry:$p,TubeGeometry:e1,TubeBufferGeometry:e1,WireframeGeometry:h8});class d8 extends Ds{constructor(t){super(),this.type="ShadowMaterial",this.color=new _i(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}d8.prototype.isShadowMaterial=!0;class zw extends Tl{constructor(t){super(t),this.type="RawShaderMaterial"}}zw.prototype.isRawShaderMaterial=!0;class q0 extends Ds{constructor(t){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new _i(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _i(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=n2,this.normalScale=new $r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}q0.prototype.isMeshStandardMaterial=!0;class Ru extends q0{constructor(t){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new $r(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ao(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(r){this.ior=(1+.4*r)/(1-.4*r)}}),this.sheenColor=new _i(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new _i(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new _i(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(t)}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}Ru.prototype.isMeshPhysicalMaterial=!0;class p8 extends Ds{constructor(t){super(),this.type="MeshPhongMaterial",this.color=new _i(16777215),this.specular=new _i(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _i(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=n2,this.normalScale=new $r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Qg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}p8.prototype.isMeshPhongMaterial=!0;class m8 extends Ds{constructor(t){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new _i(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _i(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=n2,this.normalScale=new $r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}m8.prototype.isMeshToonMaterial=!0;class g8 extends Ds{constructor(t){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=n2,this.normalScale=new $r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}g8.prototype.isMeshNormalMaterial=!0;class b8 extends Ds{constructor(t){super(),this.type="MeshLambertMaterial",this.color=new _i(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _i(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Qg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}b8.prototype.isMeshLambertMaterial=!0;class y8 extends Ds{constructor(t){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new _i(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=n2,this.normalScale=new $r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}y8.prototype.isMeshMatcapMaterial=!0;class Ww extends uo{constructor(t){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}Ww.prototype.isLineDashedMaterial=!0;const hQ={ShadowMaterial:d8,SpriteMaterial:s2,RawShaderMaterial:zw,ShaderMaterial:Tl,PointsMaterial:pc,MeshPhysicalMaterial:Ru,MeshStandardMaterial:q0,MeshPhongMaterial:p8,MeshToonMaterial:m8,MeshNormalMaterial:g8,MeshLambertMaterial:b8,MeshDepthMaterial:Pw,MeshDistanceMaterial:Nw,MeshBasicMaterial:Us,MeshMatcapMaterial:y8,LineDashedMaterial:Ww,LineBasicMaterial:uo,Material:Ds};Ds.fromType=function(a){return new hQ[a]};const xs={arraySlice:function(a,t,r){return xs.isTypedArray(a)?new a.constructor(a.subarray(t,r!==void 0?r:a.length)):a.slice(t,r)},convertArray:function(a,t,r){return!a||!r&&a.constructor===t?a:typeof t.BYTES_PER_ELEMENT=="number"?new t(a):Array.prototype.slice.call(a)},isTypedArray:function(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)},getKeyframeOrder:function(a){function t(c,p){return a[c]-a[p]}const r=a.length,n=new Array(r);for(let c=0;c!==r;++c)n[c]=c;return n.sort(t),n},sortedArray:function(a,t,r){const n=a.length,c=new a.constructor(n);for(let p=0,y=0;y!==n;++p){const v=r[p]*t;for(let E=0;E!==t;++E)c[y++]=a[v+E]}return c},flattenJSON:function(a,t,r,n){let c=1,p=a[0];for(;p!==void 0&&p[n]===void 0;)p=a[c++];if(p===void 0)return;let y=p[n];if(y!==void 0)if(Array.isArray(y))do y=p[n],y!==void 0&&(t.push(p.time),r.push.apply(r,y)),p=a[c++];while(p!==void 0);else if(y.toArray!==void 0)do y=p[n],y!==void 0&&(t.push(p.time),y.toArray(r,r.length)),p=a[c++];while(p!==void 0);else do y=p[n],y!==void 0&&(t.push(p.time),r.push(y)),p=a[c++];while(p!==void 0)},subclip:function(a,t,r,n,c=30){const p=a.clone();p.name=t;const y=[];for(let E=0;E<p.tracks.length;++E){const _=p.tracks[E],k=_.getValueSize(),R=[],B=[];for(let M=0;M<_.times.length;++M){const F=_.times[M]*c;if(!(F<r||F>=n)){R.push(_.times[M]);for(let H=0;H<k;++H)B.push(_.values[M*k+H])}}R.length!==0&&(_.times=xs.convertArray(R,_.times.constructor),_.values=xs.convertArray(B,_.values.constructor),y.push(_))}p.tracks=y;let v=1/0;for(let E=0;E<p.tracks.length;++E)v>p.tracks[E].times[0]&&(v=p.tracks[E].times[0]);for(let E=0;E<p.tracks.length;++E)p.tracks[E].shift(-1*v);return p.resetDuration(),p},makeClipAdditive:function(a,t=0,r=a,n=30){n<=0&&(n=30);const c=r.tracks.length,p=t/n;for(let y=0;y<c;++y){const v=r.tracks[y],E=v.ValueTypeName;if(E==="bool"||E==="string")continue;const _=a.tracks.find(function(Z){return Z.name===v.name&&Z.ValueTypeName===E});if(_===void 0)continue;let k=0;const R=v.getValueSize();v.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(k=R/3);let B=0;const M=_.getValueSize();_.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(B=M/3);const F=v.times.length-1;let H;if(p<=v.times[0]){const Z=k,K=R-k;H=xs.arraySlice(v.values,Z,K)}else if(p>=v.times[F]){const Z=F*R+k,K=Z+R-k;H=xs.arraySlice(v.values,Z,K)}else{const Z=v.createInterpolant(),K=k,fe=R-k;Z.evaluate(p),H=xs.arraySlice(Z.resultBuffer,K,fe)}E==="quaternion"&&new L0().fromArray(H).normalize().conjugate().toArray(H);const U=_.times.length;for(let Z=0;Z<U;++Z){const K=Z*M+B;if(E==="quaternion")L0.multiplyQuaternionsFlat(_.values,K,H,0,_.values,K);else{const fe=M-B*2;for(let oe=0;oe<fe;++oe)_.values[K+oe]-=H[oe]}}}return a.blendMode=YE,a}};class xu{constructor(t,r,n,c){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=c!==void 0?c:new r.constructor(n),this.sampleValues=r,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){const r=this.parameterPositions;let n=this._cachedIndex,c=r[n],p=r[n-1];e:{t:{let y;r:{i:if(!(t<c)){for(let v=n+2;;){if(c===void 0){if(t<p)break i;return n=r.length,this._cachedIndex=n,this.afterEnd_(n-1,t,p)}if(n===v)break;if(p=c,c=r[++n],t<c)break t}y=r.length;break r}if(!(t>=p)){const v=r[1];t<v&&(n=2,p=v);for(let E=n-2;;){if(p===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,c);if(n===E)break;if(c=p,p=r[--n-1],t>=p)break t}y=n,n=0;break r}break e}for(;n<y;){const v=n+y>>>1;t<r[v]?y=v:n=v+1}if(c=r[n],p=r[n-1],p===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,c);if(c===void 0)return n=r.length,this._cachedIndex=n,this.afterEnd_(n-1,p,t)}this._cachedIndex=n,this.intervalChanged_(n,p,c)}return this.interpolate_(n,p,t,c)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const r=this.resultBuffer,n=this.sampleValues,c=this.valueSize,p=t*c;for(let y=0;y!==c;++y)r[y]=n[p+y];return r}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}xu.prototype.beforeStart_=xu.prototype.copySampleValue_;xu.prototype.afterEnd_=xu.prototype.copySampleValue_;class tR extends xu{constructor(t,r,n,c){super(t,r,n,c),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Nd,endingEnd:Nd}}intervalChanged_(t,r,n){const c=this.parameterPositions;let p=t-2,y=t+1,v=c[p],E=c[y];if(v===void 0)switch(this.getSettings_().endingStart){case Fd:p=t,v=2*r-n;break;case Rg:p=c.length-2,v=r+c[p]-c[p+1];break;default:p=t,v=n}if(E===void 0)switch(this.getSettings_().endingEnd){case Fd:y=t,E=2*n-r;break;case Rg:y=1,E=n+c[1]-c[0];break;default:y=t-1,E=r}const _=(n-r)*.5,k=this.valueSize;this._weightPrev=_/(r-v),this._weightNext=_/(E-n),this._offsetPrev=p*k,this._offsetNext=y*k}interpolate_(t,r,n,c){const p=this.resultBuffer,y=this.sampleValues,v=this.valueSize,E=t*v,_=E-v,k=this._offsetPrev,R=this._offsetNext,B=this._weightPrev,M=this._weightNext,F=(n-r)/(c-r),H=F*F,U=H*F,Z=-B*U+2*B*H-B*F,K=(1+B)*U+(-1.5-2*B)*H+(-.5+B)*F+1,fe=(-1-M)*U+(1.5+M)*H+.5*F,oe=M*U-M*H;for(let we=0;we!==v;++we)p[we]=Z*y[k+we]+K*y[_+we]+fe*y[E+we]+oe*y[R+we];return p}}class v8 extends xu{constructor(t,r,n,c){super(t,r,n,c)}interpolate_(t,r,n,c){const p=this.resultBuffer,y=this.sampleValues,v=this.valueSize,E=t*v,_=E-v,k=(n-r)/(c-r),R=1-k;for(let B=0;B!==v;++B)p[B]=y[_+B]*R+y[E+B]*k;return p}}class rR extends xu{constructor(t,r,n,c){super(t,r,n,c)}interpolate_(t){return this.copySampleValue_(t-1)}}class Hf{constructor(t,r,n,c){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(r===void 0||r.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=xs.convertArray(r,this.TimeBufferType),this.values=xs.convertArray(n,this.ValueBufferType),this.setInterpolation(c||this.DefaultInterpolation)}static toJSON(t){const r=t.constructor;let n;if(r.toJSON!==this.toJSON)n=r.toJSON(t);else{n={name:t.name,times:xs.convertArray(t.times,Array),values:xs.convertArray(t.values,Array)};const c=t.getInterpolation();c!==t.DefaultInterpolation&&(n.interpolation=c)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new rR(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new v8(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new tR(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let r;switch(t){case jp:r=this.InterpolantFactoryMethodDiscrete;break;case Jd:r=this.InterpolantFactoryMethodLinear;break;case Bv:r=this.InterpolantFactoryMethodSmooth;break}if(r===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=r,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return jp;case this.InterpolantFactoryMethodLinear:return Jd;case this.InterpolantFactoryMethodSmooth:return Bv}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const r=this.times;for(let n=0,c=r.length;n!==c;++n)r[n]+=t}return this}scale(t){if(t!==1){const r=this.times;for(let n=0,c=r.length;n!==c;++n)r[n]*=t}return this}trim(t,r){const n=this.times,c=n.length;let p=0,y=c-1;for(;p!==c&&n[p]<t;)++p;for(;y!==-1&&n[y]>r;)--y;if(++y,p!==0||y!==c){p>=y&&(y=Math.max(y,1),p=y-1);const v=this.getValueSize();this.times=xs.arraySlice(n,p,y),this.values=xs.arraySlice(this.values,p*v,y*v)}return this}validate(){let t=!0;const r=this.getValueSize();r-Math.floor(r)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,c=this.values,p=n.length;p===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let y=null;for(let v=0;v!==p;v++){const E=n[v];if(typeof E=="number"&&isNaN(E)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,v,E),t=!1;break}if(y!==null&&y>E){console.error("THREE.KeyframeTrack: Out of order keys.",this,v,E,y),t=!1;break}y=E}if(c!==void 0&&xs.isTypedArray(c))for(let v=0,E=c.length;v!==E;++v){const _=c[v];if(isNaN(_)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,v,_),t=!1;break}}return t}optimize(){const t=xs.arraySlice(this.times),r=xs.arraySlice(this.values),n=this.getValueSize(),c=this.getInterpolation()===Bv,p=t.length-1;let y=1;for(let v=1;v<p;++v){let E=!1;const _=t[v],k=t[v+1];if(_!==k&&(v!==1||_!==t[0]))if(c)E=!0;else{const R=v*n,B=R-n,M=R+n;for(let F=0;F!==n;++F){const H=r[R+F];if(H!==r[B+F]||H!==r[M+F]){E=!0;break}}}if(E){if(v!==y){t[y]=t[v];const R=v*n,B=y*n;for(let M=0;M!==n;++M)r[B+M]=r[R+M]}++y}}if(p>0){t[y]=t[p];for(let v=p*n,E=y*n,_=0;_!==n;++_)r[E+_]=r[v+_];++y}return y!==t.length?(this.times=xs.arraySlice(t,0,y),this.values=xs.arraySlice(r,0,y*n)):(this.times=t,this.values=r),this}clone(){const t=xs.arraySlice(this.times,0),r=xs.arraySlice(this.values,0),n=this.constructor,c=new n(this.name,t,r);return c.createInterpolant=this.createInterpolant,c}}Hf.prototype.TimeBufferType=Float32Array;Hf.prototype.ValueBufferType=Float32Array;Hf.prototype.DefaultInterpolation=Jd;class o2 extends Hf{}o2.prototype.ValueTypeName="bool";o2.prototype.ValueBufferType=Array;o2.prototype.DefaultInterpolation=jp;o2.prototype.InterpolantFactoryMethodLinear=void 0;o2.prototype.InterpolantFactoryMethodSmooth=void 0;class w8 extends Hf{}w8.prototype.ValueTypeName="color";class t1 extends Hf{}t1.prototype.ValueTypeName="number";class iR extends xu{constructor(t,r,n,c){super(t,r,n,c)}interpolate_(t,r,n,c){const p=this.resultBuffer,y=this.sampleValues,v=this.valueSize,E=(n-r)/(c-r);let _=t*v;for(let k=_+v;_!==k;_+=4)L0.slerpFlat(p,0,y,_-v,y,_,E);return p}}class Bh extends Hf{InterpolantFactoryMethodLinear(t){return new iR(this.times,this.values,this.getValueSize(),t)}}Bh.prototype.ValueTypeName="quaternion";Bh.prototype.DefaultInterpolation=Jd;Bh.prototype.InterpolantFactoryMethodSmooth=void 0;class a2 extends Hf{}a2.prototype.ValueTypeName="string";a2.prototype.ValueBufferType=Array;a2.prototype.DefaultInterpolation=jp;a2.prototype.InterpolantFactoryMethodLinear=void 0;a2.prototype.InterpolantFactoryMethodSmooth=void 0;class r1 extends Hf{}r1.prototype.ValueTypeName="vector";class i1{constructor(t,r=-1,n,c=Tw){this.name=t,this.tracks=n,this.duration=r,this.blendMode=c,this.uuid=Cl(),this.duration<0&&this.resetDuration()}static parse(t){const r=[],n=t.tracks,c=1/(t.fps||1);for(let y=0,v=n.length;y!==v;++y)r.push(pQ(n[y]).scale(c));const p=new this(t.name,t.duration,r,t.blendMode);return p.uuid=t.uuid,p}static toJSON(t){const r=[],n=t.tracks,c={name:t.name,duration:t.duration,tracks:r,uuid:t.uuid,blendMode:t.blendMode};for(let p=0,y=n.length;p!==y;++p)r.push(Hf.toJSON(n[p]));return c}static CreateFromMorphTargetSequence(t,r,n,c){const p=r.length,y=[];for(let v=0;v<p;v++){let E=[],_=[];E.push((v+p-1)%p,v,(v+1)%p),_.push(0,1,0);const k=xs.getKeyframeOrder(E);E=xs.sortedArray(E,1,k),_=xs.sortedArray(_,1,k),!c&&E[0]===0&&(E.push(p),_.push(_[0])),y.push(new t1(".morphTargetInfluences["+r[v].name+"]",E,_).scale(1/n))}return new this(t,-1,y)}static findByName(t,r){let n=t;if(!Array.isArray(t)){const c=t;n=c.geometry&&c.geometry.animations||c.animations}for(let c=0;c<n.length;c++)if(n[c].name===r)return n[c];return null}static CreateClipsFromMorphTargetSequences(t,r,n){const c={},p=/^([\w-]*?)([\d]+)$/;for(let v=0,E=t.length;v<E;v++){const _=t[v],k=_.name.match(p);if(k&&k.length>1){const R=k[1];let B=c[R];B||(c[R]=B=[]),B.push(_)}}const y=[];for(const v in c)y.push(this.CreateFromMorphTargetSequence(v,c[v],r,n));return y}static parseAnimation(t,r){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(R,B,M,F,H){if(M.length!==0){const U=[],Z=[];xs.flattenJSON(M,U,Z,F),U.length!==0&&H.push(new R(B,U,Z))}},c=[],p=t.name||"default",y=t.fps||30,v=t.blendMode;let E=t.length||-1;const _=t.hierarchy||[];for(let R=0;R<_.length;R++){const B=_[R].keys;if(!(!B||B.length===0))if(B[0].morphTargets){const M={};let F;for(F=0;F<B.length;F++)if(B[F].morphTargets)for(let H=0;H<B[F].morphTargets.length;H++)M[B[F].morphTargets[H]]=-1;for(const H in M){const U=[],Z=[];for(let K=0;K!==B[F].morphTargets.length;++K){const fe=B[F];U.push(fe.time),Z.push(fe.morphTarget===H?1:0)}c.push(new t1(".morphTargetInfluence["+H+"]",U,Z))}E=M.length*y}else{const M=".bones["+r[R].name+"]";n(r1,M+".position",B,"pos",c),n(Bh,M+".quaternion",B,"rot",c),n(r1,M+".scale",B,"scl",c)}}return c.length===0?null:new this(p,E,c,v)}resetDuration(){const t=this.tracks;let r=0;for(let n=0,c=t.length;n!==c;++n){const p=this.tracks[n];r=Math.max(r,p.times[p.times.length-1])}return this.duration=r,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let r=0;r<this.tracks.length;r++)t=t&&this.tracks[r].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let r=0;r<this.tracks.length;r++)t.push(this.tracks[r].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function dQ(a){switch(a.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return t1;case"vector":case"vector2":case"vector3":case"vector4":return r1;case"color":return w8;case"quaternion":return Bh;case"bool":case"boolean":return o2;case"string":return a2}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+a)}function pQ(a){if(a.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=dQ(a.type);if(a.times===void 0){const r=[],n=[];xs.flattenJSON(a.keys,r,n,"value"),a.times=r,a.values=n}return t.parse!==void 0?t.parse(a):new t(a.name,a.times,a.values,a.interpolation)}const Yd={enabled:!1,files:{},add:function(a,t){this.enabled!==!1&&(this.files[a]=t)},get:function(a){if(this.enabled!==!1)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};class l2{constructor(t,r,n){const c=this;let p=!1,y=0,v=0,E;const _=[];this.onStart=void 0,this.onLoad=t,this.onProgress=r,this.onError=n,this.itemStart=function(k){v++,p===!1&&c.onStart!==void 0&&c.onStart(k,y,v),p=!0},this.itemEnd=function(k){y++,c.onProgress!==void 0&&c.onProgress(k,y,v),y===v&&(p=!1,c.onLoad!==void 0&&c.onLoad())},this.itemError=function(k){c.onError!==void 0&&c.onError(k)},this.resolveURL=function(k){return E?E(k):k},this.setURLModifier=function(k){return E=k,this},this.addHandler=function(k,R){return _.push(k,R),this},this.removeHandler=function(k){const R=_.indexOf(k);return R!==-1&&_.splice(R,2),this},this.getHandler=function(k){for(let R=0,B=_.length;R<B;R+=2){const M=_[R],F=_[R+1];if(M.global&&(M.lastIndex=0),M.test(k))return F}return null}}}const nR=new l2;class ya{constructor(t){this.manager=t!==void 0?t:nR,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,r){const n=this;return new Promise(function(c,p){n.load(t,c,r,p)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}const qu={};class Na extends ya{constructor(t){super(t)}load(t,r,n,c){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const p=Yd.get(t);if(p!==void 0)return this.manager.itemStart(t),setTimeout(()=>{r&&r(p),this.manager.itemEnd(t)},0),p;if(qu[t]!==void 0){qu[t].push({onLoad:r,onProgress:n,onError:c});return}qu[t]=[],qu[t].push({onLoad:r,onProgress:n,onError:c});const y=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),v=this.mimeType,E=this.responseType;fetch(y).then(_=>{if(_.status===200||_.status===0){if(_.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||_.body===void 0||_.body.getReader===void 0)return _;const k=qu[t],R=_.body.getReader(),B=_.headers.get("Content-Length"),M=B?parseInt(B):0,F=M!==0;let H=0;const U=new ReadableStream({start(Z){K();function K(){R.read().then(({done:fe,value:oe})=>{if(fe)Z.close();else{H+=oe.byteLength;const we=new ProgressEvent("progress",{lengthComputable:F,loaded:H,total:M});for(let be=0,ve=k.length;be<ve;be++){const ne=k[be];ne.onProgress&&ne.onProgress(we)}Z.enqueue(oe),K()}})}}});return new Response(U)}else throw Error(`fetch for "${_.url}" responded with ${_.status}: ${_.statusText}`)}).then(_=>{switch(E){case"arraybuffer":return _.arrayBuffer();case"blob":return _.blob();case"document":return _.text().then(k=>new DOMParser().parseFromString(k,v));case"json":return _.json();default:if(v===void 0)return _.text();{const R=/charset="?([^;"\s]*)"?/i.exec(v),B=R&&R[1]?R[1].toLowerCase():void 0,M=new TextDecoder(B);return _.arrayBuffer().then(F=>M.decode(F))}}}).then(_=>{Yd.add(t,_);const k=qu[t];delete qu[t];for(let R=0,B=k.length;R<B;R++){const M=k[R];M.onLoad&&M.onLoad(_)}}).catch(_=>{const k=qu[t];if(k===void 0)throw this.manager.itemError(t),_;delete qu[t];for(let R=0,B=k.length;R<B;R++){const M=k[R];M.onError&&M.onError(_)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class mQ extends ya{constructor(t){super(t)}load(t,r,n,c){const p=this,y=new Na(this.manager);y.setPath(this.path),y.setRequestHeader(this.requestHeader),y.setWithCredentials(this.withCredentials),y.load(t,function(v){try{r(p.parse(JSON.parse(v)))}catch(E){c?c(E):console.error(E),p.manager.itemError(t)}},n,c)}parse(t){const r=[];for(let n=0;n<t.length;n++){const c=i1.parse(t[n]);r.push(c)}return r}}class gQ extends ya{constructor(t){super(t)}load(t,r,n,c){const p=this,y=[],v=new s8,E=new Na(this.manager);E.setPath(this.path),E.setResponseType("arraybuffer"),E.setRequestHeader(this.requestHeader),E.setWithCredentials(p.withCredentials);let _=0;function k(R){E.load(t[R],function(B){const M=p.parse(B,!0);y[R]={width:M.width,height:M.height,format:M.format,mipmaps:M.mipmaps},_+=1,_===6&&(M.mipmapCount===1&&(v.minFilter=Es),v.image=y,v.format=M.format,v.needsUpdate=!0,r&&r(v))},n,c)}if(Array.isArray(t))for(let R=0,B=t.length;R<B;++R)k(R);else E.load(t,function(R){const B=p.parse(R,!0);if(B.isCubemap){const M=B.mipmaps.length/B.mipmapCount;for(let F=0;F<M;F++){y[F]={mipmaps:[]};for(let H=0;H<B.mipmapCount;H++)y[F].mipmaps.push(B.mipmaps[F*B.mipmapCount+H]),y[F].format=B.format,y[F].width=B.width,y[F].height=B.height}v.image=y}else v.image.width=B.width,v.image.height=B.height,v.mipmaps=B.mipmaps;B.mipmapCount===1&&(v.minFilter=Es),v.format=B.format,v.needsUpdate=!0,r&&r(v)},n,c);return v}}class Ng extends ya{constructor(t){super(t)}load(t,r,n,c){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const p=this,y=Yd.get(t);if(y!==void 0)return p.manager.itemStart(t),setTimeout(function(){r&&r(y),p.manager.itemEnd(t)},0),y;const v=Bg("img");function E(){k(),Yd.add(t,this),r&&r(this),p.manager.itemEnd(t)}function _(R){k(),c&&c(R),p.manager.itemError(t),p.manager.itemEnd(t)}function k(){v.removeEventListener("load",E,!1),v.removeEventListener("error",_,!1)}return v.addEventListener("load",E,!1),v.addEventListener("error",_,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(v.crossOrigin=this.crossOrigin),p.manager.itemStart(t),v.src=t,v}}class sR extends ya{constructor(t){super(t)}load(t,r,n,c){const p=new g1,y=new Ng(this.manager);y.setCrossOrigin(this.crossOrigin),y.setPath(this.path);let v=0;function E(_){y.load(t[_],function(k){p.images[_]=k,v++,v===6&&(p.needsUpdate=!0,r&&r(p))},void 0,c)}for(let _=0;_<t.length;++_)E(_);return p}}class A8 extends ya{constructor(t){super(t)}load(t,r,n,c){const p=this,y=new jd,v=new Na(this.manager);return v.setResponseType("arraybuffer"),v.setRequestHeader(this.requestHeader),v.setPath(this.path),v.setWithCredentials(p.withCredentials),v.load(t,function(E){const _=p.parse(E);!_||(_.image!==void 0?y.image=_.image:_.data!==void 0&&(y.image.width=_.width,y.image.height=_.height,y.image.data=_.data),y.wrapS=_.wrapS!==void 0?_.wrapS:ma,y.wrapT=_.wrapT!==void 0?_.wrapT:ma,y.magFilter=_.magFilter!==void 0?_.magFilter:Es,y.minFilter=_.minFilter!==void 0?_.minFilter:Es,y.anisotropy=_.anisotropy!==void 0?_.anisotropy:1,_.encoding!==void 0&&(y.encoding=_.encoding),_.flipY!==void 0&&(y.flipY=_.flipY),_.format!==void 0&&(y.format=_.format),_.type!==void 0&&(y.type=_.type),_.mipmaps!==void 0&&(y.mipmaps=_.mipmaps,y.minFilter=Tu),_.mipmapCount===1&&(y.minFilter=Es),_.generateMipmaps!==void 0&&(y.generateMipmaps=_.generateMipmaps),y.needsUpdate=!0,r&&r(y,_))},n,c),y}}class x8 extends ya{constructor(t){super(t)}load(t,r,n,c){const p=new Z0,y=new Ng(this.manager);return y.setCrossOrigin(this.crossOrigin),y.setPath(this.path),y.load(t,function(v){p.image=v,p.needsUpdate=!0,r!==void 0&&r(p)},n,c),p}}class Ff extends Rn{constructor(t,r=1){super(),this.type="Light",this.color=new _i(t),this.intensity=r}dispose(){}copy(t){return super.copy(t),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const r=super.toJSON(t);return r.object.color=this.color.getHex(),r.object.intensity=this.intensity,this.groundColor!==void 0&&(r.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(r.object.distance=this.distance),this.angle!==void 0&&(r.object.angle=this.angle),this.decay!==void 0&&(r.object.decay=this.decay),this.penumbra!==void 0&&(r.object.penumbra=this.penumbra),this.shadow!==void 0&&(r.object.shadow=this.shadow.toJSON()),r}}Ff.prototype.isLight=!0;class E8 extends Ff{constructor(t,r,n){super(t,n),this.type="HemisphereLight",this.position.copy(Rn.DefaultUp),this.updateMatrix(),this.groundColor=new _i(r)}copy(t){return Ff.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}E8.prototype.isHemisphereLight=!0;const US=new Ji,VS=new wt,jS=new wt;class _8{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new $r(512,512),this.map=null,this.mapPass=null,this.matrix=new Ji,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new qg,this._frameExtents=new $r(1,1),this._viewportCount=1,this._viewports=[new j0(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const r=this.camera,n=this.matrix;VS.setFromMatrixPosition(t.matrixWorld),r.position.copy(VS),jS.setFromMatrixPosition(t.target.matrixWorld),r.lookAt(jS),r.updateMatrixWorld(),US.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(US),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(r.projectionMatrix),n.multiply(r.matrixWorldInverse)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class oR extends _8{constructor(){super(new ko(50,1,.5,500)),this.focus=1}updateMatrices(t){const r=this.camera,n=Dg*2*t.angle*this.focus,c=this.mapSize.width/this.mapSize.height,p=t.distance||r.far;(n!==r.fov||c!==r.aspect||p!==r.far)&&(r.fov=n,r.aspect=c,r.far=p,r.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}oR.prototype.isSpotLightShadow=!0;class Qw extends Ff{constructor(t,r,n=0,c=Math.PI/3,p=0,y=1){super(t,r),this.type="SpotLight",this.position.copy(Rn.DefaultUp),this.updateMatrix(),this.target=new Rn,this.distance=n,this.angle=c,this.penumbra=p,this.decay=y,this.shadow=new oR}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}Qw.prototype.isSpotLight=!0;const GS=new Ji,zm=new wt,Fx=new wt;class aR extends _8{constructor(){super(new ko(90,1,.5,500)),this._frameExtents=new $r(4,2),this._viewportCount=6,this._viewports=[new j0(2,1,1,1),new j0(0,1,1,1),new j0(3,1,1,1),new j0(1,1,1,1),new j0(3,0,1,1),new j0(1,0,1,1)],this._cubeDirections=[new wt(1,0,0),new wt(-1,0,0),new wt(0,0,1),new wt(0,0,-1),new wt(0,1,0),new wt(0,-1,0)],this._cubeUps=[new wt(0,1,0),new wt(0,1,0),new wt(0,1,0),new wt(0,1,0),new wt(0,0,1),new wt(0,0,-1)]}updateMatrices(t,r=0){const n=this.camera,c=this.matrix,p=t.distance||n.far;p!==n.far&&(n.far=p,n.updateProjectionMatrix()),zm.setFromMatrixPosition(t.matrixWorld),n.position.copy(zm),Fx.copy(n.position),Fx.add(this._cubeDirections[r]),n.up.copy(this._cubeUps[r]),n.lookAt(Fx),n.updateMatrixWorld(),c.makeTranslation(-zm.x,-zm.y,-zm.z),GS.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(GS)}}aR.prototype.isPointLightShadow=!0;class rb extends Ff{constructor(t,r,n=0,c=1){super(t,r),this.type="PointLight",this.distance=n,this.decay=c,this.shadow=new aR}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}rb.prototype.isPointLight=!0;class lR extends _8{constructor(){super(new Fh(-5,5,5,-5,.5,500))}}lR.prototype.isDirectionalLightShadow=!0;class ib extends Ff{constructor(t,r){super(t,r),this.type="DirectionalLight",this.position.copy(Rn.DefaultUp),this.updateMatrix(),this.target=new Rn,this.shadow=new lR}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}ib.prototype.isDirectionalLight=!0;class k8 extends Ff{constructor(t,r){super(t,r),this.type="AmbientLight"}}k8.prototype.isAmbientLight=!0;class C8 extends Ff{constructor(t,r,n=10,c=10){super(t,r),this.type="RectAreaLight",this.width=n,this.height=c}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const r=super.toJSON(t);return r.object.width=this.width,r.object.height=this.height,r}}C8.prototype.isRectAreaLight=!0;class S8{constructor(){this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new wt)}set(t){for(let r=0;r<9;r++)this.coefficients[r].copy(t[r]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,r){const n=t.x,c=t.y,p=t.z,y=this.coefficients;return r.copy(y[0]).multiplyScalar(.282095),r.addScaledVector(y[1],.488603*c),r.addScaledVector(y[2],.488603*p),r.addScaledVector(y[3],.488603*n),r.addScaledVector(y[4],1.092548*(n*c)),r.addScaledVector(y[5],1.092548*(c*p)),r.addScaledVector(y[6],.315392*(3*p*p-1)),r.addScaledVector(y[7],1.092548*(n*p)),r.addScaledVector(y[8],.546274*(n*n-c*c)),r}getIrradianceAt(t,r){const n=t.x,c=t.y,p=t.z,y=this.coefficients;return r.copy(y[0]).multiplyScalar(.886227),r.addScaledVector(y[1],2*.511664*c),r.addScaledVector(y[2],2*.511664*p),r.addScaledVector(y[3],2*.511664*n),r.addScaledVector(y[4],2*.429043*n*c),r.addScaledVector(y[5],2*.429043*c*p),r.addScaledVector(y[6],.743125*p*p-.247708),r.addScaledVector(y[7],2*.429043*n*p),r.addScaledVector(y[8],.429043*(n*n-c*c)),r}add(t){for(let r=0;r<9;r++)this.coefficients[r].add(t.coefficients[r]);return this}addScaledSH(t,r){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(t.coefficients[n],r);return this}scale(t){for(let r=0;r<9;r++)this.coefficients[r].multiplyScalar(t);return this}lerp(t,r){for(let n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],r);return this}equals(t){for(let r=0;r<9;r++)if(!this.coefficients[r].equals(t.coefficients[r]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,r=0){const n=this.coefficients;for(let c=0;c<9;c++)n[c].fromArray(t,r+c*3);return this}toArray(t=[],r=0){const n=this.coefficients;for(let c=0;c<9;c++)n[c].toArray(t,r+c*3);return t}static getBasisAt(t,r){const n=t.x,c=t.y,p=t.z;r[0]=.282095,r[1]=.488603*c,r[2]=.488603*p,r[3]=.488603*n,r[4]=1.092548*n*c,r[5]=1.092548*c*p,r[6]=.315392*(3*p*p-1),r[7]=1.092548*n*p,r[8]=.546274*(n*n-c*c)}}S8.prototype.isSphericalHarmonics3=!0;class nb extends Ff{constructor(t=new S8,r=1){super(void 0,r),this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const r=super.toJSON(t);return r.object.sh=this.sh.toArray(),r}}nb.prototype.isLightProbe=!0;class fR extends ya{constructor(t){super(t),this.textures={}}load(t,r,n,c){const p=this,y=new Na(p.manager);y.setPath(p.path),y.setRequestHeader(p.requestHeader),y.setWithCredentials(p.withCredentials),y.load(t,function(v){try{r(p.parse(JSON.parse(v)))}catch(E){c?c(E):console.error(E),p.manager.itemError(t)}},n,c)}parse(t){const r=this.textures;function n(p){return r[p]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",p),r[p]}const c=Ds.fromType(t.type);if(t.uuid!==void 0&&(c.uuid=t.uuid),t.name!==void 0&&(c.name=t.name),t.color!==void 0&&c.color!==void 0&&c.color.setHex(t.color),t.roughness!==void 0&&(c.roughness=t.roughness),t.metalness!==void 0&&(c.metalness=t.metalness),t.sheen!==void 0&&(c.sheen=t.sheen),t.sheenColor!==void 0&&(c.sheenColor=new _i().setHex(t.sheenColor)),t.sheenRoughness!==void 0&&(c.sheenRoughness=t.sheenRoughness),t.emissive!==void 0&&c.emissive!==void 0&&c.emissive.setHex(t.emissive),t.specular!==void 0&&c.specular!==void 0&&c.specular.setHex(t.specular),t.specularIntensity!==void 0&&(c.specularIntensity=t.specularIntensity),t.specularColor!==void 0&&c.specularColor!==void 0&&c.specularColor.setHex(t.specularColor),t.shininess!==void 0&&(c.shininess=t.shininess),t.clearcoat!==void 0&&(c.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(c.clearcoatRoughness=t.clearcoatRoughness),t.transmission!==void 0&&(c.transmission=t.transmission),t.thickness!==void 0&&(c.thickness=t.thickness),t.attenuationDistance!==void 0&&(c.attenuationDistance=t.attenuationDistance),t.attenuationColor!==void 0&&c.attenuationColor!==void 0&&c.attenuationColor.setHex(t.attenuationColor),t.fog!==void 0&&(c.fog=t.fog),t.flatShading!==void 0&&(c.flatShading=t.flatShading),t.blending!==void 0&&(c.blending=t.blending),t.combine!==void 0&&(c.combine=t.combine),t.side!==void 0&&(c.side=t.side),t.shadowSide!==void 0&&(c.shadowSide=t.shadowSide),t.opacity!==void 0&&(c.opacity=t.opacity),t.transparent!==void 0&&(c.transparent=t.transparent),t.alphaTest!==void 0&&(c.alphaTest=t.alphaTest),t.depthTest!==void 0&&(c.depthTest=t.depthTest),t.depthWrite!==void 0&&(c.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(c.colorWrite=t.colorWrite),t.stencilWrite!==void 0&&(c.stencilWrite=t.stencilWrite),t.stencilWriteMask!==void 0&&(c.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(c.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(c.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(c.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(c.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(c.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(c.stencilZPass=t.stencilZPass),t.wireframe!==void 0&&(c.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(c.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(c.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(c.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(c.rotation=t.rotation),t.linewidth!==1&&(c.linewidth=t.linewidth),t.dashSize!==void 0&&(c.dashSize=t.dashSize),t.gapSize!==void 0&&(c.gapSize=t.gapSize),t.scale!==void 0&&(c.scale=t.scale),t.polygonOffset!==void 0&&(c.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(c.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(c.polygonOffsetUnits=t.polygonOffsetUnits),t.dithering!==void 0&&(c.dithering=t.dithering),t.alphaToCoverage!==void 0&&(c.alphaToCoverage=t.alphaToCoverage),t.premultipliedAlpha!==void 0&&(c.premultipliedAlpha=t.premultipliedAlpha),t.visible!==void 0&&(c.visible=t.visible),t.toneMapped!==void 0&&(c.toneMapped=t.toneMapped),t.userData!==void 0&&(c.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?c.vertexColors=t.vertexColors>0:c.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const p in t.uniforms){const y=t.uniforms[p];switch(c.uniforms[p]={},y.type){case"t":c.uniforms[p].value=n(y.value);break;case"c":c.uniforms[p].value=new _i().setHex(y.value);break;case"v2":c.uniforms[p].value=new $r().fromArray(y.value);break;case"v3":c.uniforms[p].value=new wt().fromArray(y.value);break;case"v4":c.uniforms[p].value=new j0().fromArray(y.value);break;case"m3":c.uniforms[p].value=new Zs().fromArray(y.value);break;case"m4":c.uniforms[p].value=new Ji().fromArray(y.value);break;default:c.uniforms[p].value=y.value}}if(t.defines!==void 0&&(c.defines=t.defines),t.vertexShader!==void 0&&(c.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(c.fragmentShader=t.fragmentShader),t.extensions!==void 0)for(const p in t.extensions)c.extensions[p]=t.extensions[p];if(t.shading!==void 0&&(c.flatShading=t.shading===1),t.size!==void 0&&(c.size=t.size),t.sizeAttenuation!==void 0&&(c.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(c.map=n(t.map)),t.matcap!==void 0&&(c.matcap=n(t.matcap)),t.alphaMap!==void 0&&(c.alphaMap=n(t.alphaMap)),t.bumpMap!==void 0&&(c.bumpMap=n(t.bumpMap)),t.bumpScale!==void 0&&(c.bumpScale=t.bumpScale),t.normalMap!==void 0&&(c.normalMap=n(t.normalMap)),t.normalMapType!==void 0&&(c.normalMapType=t.normalMapType),t.normalScale!==void 0){let p=t.normalScale;Array.isArray(p)===!1&&(p=[p,p]),c.normalScale=new $r().fromArray(p)}return t.displacementMap!==void 0&&(c.displacementMap=n(t.displacementMap)),t.displacementScale!==void 0&&(c.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(c.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(c.roughnessMap=n(t.roughnessMap)),t.metalnessMap!==void 0&&(c.metalnessMap=n(t.metalnessMap)),t.emissiveMap!==void 0&&(c.emissiveMap=n(t.emissiveMap)),t.emissiveIntensity!==void 0&&(c.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(c.specularMap=n(t.specularMap)),t.specularIntensityMap!==void 0&&(c.specularIntensityMap=n(t.specularIntensityMap)),t.specularColorMap!==void 0&&(c.specularColorMap=n(t.specularColorMap)),t.envMap!==void 0&&(c.envMap=n(t.envMap)),t.envMapIntensity!==void 0&&(c.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(c.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(c.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(c.lightMap=n(t.lightMap)),t.lightMapIntensity!==void 0&&(c.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(c.aoMap=n(t.aoMap)),t.aoMapIntensity!==void 0&&(c.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(c.gradientMap=n(t.gradientMap)),t.clearcoatMap!==void 0&&(c.clearcoatMap=n(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(c.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(c.clearcoatNormalMap=n(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(c.clearcoatNormalScale=new $r().fromArray(t.clearcoatNormalScale)),t.transmissionMap!==void 0&&(c.transmissionMap=n(t.transmissionMap)),t.thicknessMap!==void 0&&(c.thicknessMap=n(t.thicknessMap)),t.sheenColorMap!==void 0&&(c.sheenColorMap=n(t.sheenColorMap)),t.sheenRoughnessMap!==void 0&&(c.sheenRoughnessMap=n(t.sheenRoughnessMap)),c}setTextures(t){return this.textures=t,this}}class Sl{static decodeText(t){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(t);let r="";for(let n=0,c=t.length;n<c;n++)r+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(r))}catch{return r}}static extractUrlBase(t){const r=t.lastIndexOf("/");return r===-1?"./":t.slice(0,r+1)}static resolveURL(t,r){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(r)&&/^\//.test(t)&&(r=r.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:r+t)}}class T8 extends wn{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const t=super.toJSON(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}T8.prototype.isInstancedBufferGeometry=!0;class uR extends ya{constructor(t){super(t)}load(t,r,n,c){const p=this,y=new Na(p.manager);y.setPath(p.path),y.setRequestHeader(p.requestHeader),y.setWithCredentials(p.withCredentials),y.load(t,function(v){try{r(p.parse(JSON.parse(v)))}catch(E){c?c(E):console.error(E),p.manager.itemError(t)}},n,c)}parse(t){const r={},n={};function c(M,F){if(r[F]!==void 0)return r[F];const U=M.interleavedBuffers[F],Z=p(M,U.buffer),K=Ep(U.type,Z),fe=new Oh(K,U.stride);return fe.uuid=U.uuid,r[F]=fe,fe}function p(M,F){if(n[F]!==void 0)return n[F];const U=M.arrayBuffers[F],Z=new Uint32Array(U).buffer;return n[F]=Z,Z}const y=t.isInstancedBufferGeometry?new T8:new wn,v=t.data.index;if(v!==void 0){const M=Ep(v.type,v.array);y.setIndex(new d0(M,1))}const E=t.data.attributes;for(const M in E){const F=E[M];let H;if(F.isInterleavedBufferAttribute){const U=c(t.data,F.data);H=new fc(U,F.itemSize,F.offset,F.normalized)}else{const U=Ep(F.type,F.array),Z=F.isInstancedBufferAttribute?Xd:d0;H=new Z(U,F.itemSize,F.normalized)}F.name!==void 0&&(H.name=F.name),F.usage!==void 0&&H.setUsage(F.usage),F.updateRange!==void 0&&(H.updateRange.offset=F.updateRange.offset,H.updateRange.count=F.updateRange.count),y.setAttribute(M,H)}const _=t.data.morphAttributes;if(_)for(const M in _){const F=_[M],H=[];for(let U=0,Z=F.length;U<Z;U++){const K=F[U];let fe;if(K.isInterleavedBufferAttribute){const oe=c(t.data,K.data);fe=new fc(oe,K.itemSize,K.offset,K.normalized)}else{const oe=Ep(K.type,K.array);fe=new d0(oe,K.itemSize,K.normalized)}K.name!==void 0&&(fe.name=K.name),H.push(fe)}y.morphAttributes[M]=H}t.data.morphTargetsRelative&&(y.morphTargetsRelative=!0);const R=t.data.groups||t.data.drawcalls||t.data.offsets;if(R!==void 0)for(let M=0,F=R.length;M!==F;++M){const H=R[M];y.addGroup(H.start,H.count,H.materialIndex)}const B=t.data.boundingSphere;if(B!==void 0){const M=new wt;B.center!==void 0&&M.fromArray(B.center),y.boundingSphere=new Mu(M,B.radius)}return t.name&&(y.name=t.name),t.userData&&(y.userData=t.userData),y}}class Hh extends ya{constructor(t){super(t)}load(t,r,n,c){const p=this,y=this.path===""?Sl.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||y;const v=new Na(this.manager);v.setPath(this.path),v.setRequestHeader(this.requestHeader),v.setWithCredentials(this.withCredentials),v.load(t,function(E){let _=null;try{_=JSON.parse(E)}catch(R){c!==void 0&&c(R),console.error("THREE:ObjectLoader: Can't parse "+t+".",R.message);return}const k=_.metadata;if(k===void 0||k.type===void 0||k.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+t);return}p.parse(_,r)},n,c)}async loadAsync(t,r){const n=this,c=this.path===""?Sl.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||c;const p=new Na(this.manager);p.setPath(this.path),p.setRequestHeader(this.requestHeader),p.setWithCredentials(this.withCredentials);const y=await p.loadAsync(t,r),v=JSON.parse(y),E=v.metadata;if(E===void 0||E.type===void 0||E.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+t);return await n.parseAsync(v)}parse(t,r){const n=this.parseAnimations(t.animations),c=this.parseShapes(t.shapes),p=this.parseGeometries(t.geometries,c),y=this.parseImages(t.images,function(){r!==void 0&&r(_)}),v=this.parseTextures(t.textures,y),E=this.parseMaterials(t.materials,v),_=this.parseObject(t.object,p,E,v,n),k=this.parseSkeletons(t.skeletons,_);if(this.bindSkeletons(_,k),r!==void 0){let R=!1;for(const B in y)if(y[B]instanceof HTMLImageElement){R=!0;break}R===!1&&r(_)}return _}async parseAsync(t){const r=this.parseAnimations(t.animations),n=this.parseShapes(t.shapes),c=this.parseGeometries(t.geometries,n),p=await this.parseImagesAsync(t.images),y=this.parseTextures(t.textures,p),v=this.parseMaterials(t.materials,y),E=this.parseObject(t.object,c,v,y,r),_=this.parseSkeletons(t.skeletons,E);return this.bindSkeletons(E,_),E}parseShapes(t){const r={};if(t!==void 0)for(let n=0,c=t.length;n<c;n++){const p=new If().fromJSON(t[n]);r[p.uuid]=p}return r}parseSkeletons(t,r){const n={},c={};if(r.traverse(function(p){p.isBone&&(c[p.uuid]=p)}),t!==void 0)for(let p=0,y=t.length;p<y;p++){const v=new Kg().fromJSON(t[p],c);n[v.uuid]=v}return n}parseGeometries(t,r){const n={};if(t!==void 0){const c=new uR;for(let p=0,y=t.length;p<y;p++){let v;const E=t[p];switch(E.type){case"BufferGeometry":case"InstancedBufferGeometry":v=c.parse(E);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:E.type in HS?v=HS[E.type].fromJSON(E,r):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${E.type}"`)}v.uuid=E.uuid,E.name!==void 0&&(v.name=E.name),v.isBufferGeometry===!0&&E.userData!==void 0&&(v.userData=E.userData),n[E.uuid]=v}}return n}parseMaterials(t,r){const n={},c={};if(t!==void 0){const p=new fR;p.setTextures(r);for(let y=0,v=t.length;y<v;y++){const E=t[y];if(E.type==="MultiMaterial"){const _=[];for(let k=0;k<E.materials.length;k++){const R=E.materials[k];n[R.uuid]===void 0&&(n[R.uuid]=p.parse(R)),_.push(n[R.uuid])}c[E.uuid]=_}else n[E.uuid]===void 0&&(n[E.uuid]=p.parse(E)),c[E.uuid]=n[E.uuid]}}return c}parseAnimations(t){const r={};if(t!==void 0)for(let n=0;n<t.length;n++){const c=t[n],p=i1.parse(c);r[p.uuid]=p}return r}parseImages(t,r){const n=this,c={};let p;function y(E){return n.manager.itemStart(E),p.load(E,function(){n.manager.itemEnd(E)},void 0,function(){n.manager.itemError(E),n.manager.itemEnd(E)})}function v(E){if(typeof E=="string"){const _=E,k=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(_)?_:n.resourcePath+_;return y(k)}else return E.data?{data:Ep(E.type,E.data),width:E.width,height:E.height}:null}if(t!==void 0&&t.length>0){const E=new l2(r);p=new Ng(E),p.setCrossOrigin(this.crossOrigin);for(let _=0,k=t.length;_<k;_++){const R=t[_],B=R.url;if(Array.isArray(B)){const M=[];for(let F=0,H=B.length;F<H;F++){const U=B[F],Z=v(U);Z!==null&&(Z instanceof HTMLImageElement?M.push(Z):M.push(new jd(Z.data,Z.width,Z.height)))}c[R.uuid]=new yh(M)}else{const M=v(R.url);c[R.uuid]=new yh(M)}}}return c}async parseImagesAsync(t){const r=this,n={};let c;async function p(y){if(typeof y=="string"){const v=y,E=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(v)?v:r.resourcePath+v;return await c.loadAsync(E)}else return y.data?{data:Ep(y.type,y.data),width:y.width,height:y.height}:null}if(t!==void 0&&t.length>0){c=new Ng(this.manager),c.setCrossOrigin(this.crossOrigin);for(let y=0,v=t.length;y<v;y++){const E=t[y],_=E.url;if(Array.isArray(_)){const k=[];for(let R=0,B=_.length;R<B;R++){const M=_[R],F=await p(M);F!==null&&(F instanceof HTMLImageElement?k.push(F):k.push(new jd(F.data,F.width,F.height)))}n[E.uuid]=new yh(k)}else{const k=await p(E.url);n[E.uuid]=new yh(k)}}}return n}parseTextures(t,r){function n(p,y){return typeof p=="number"?p:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",p),y[p])}const c={};if(t!==void 0)for(let p=0,y=t.length;p<y;p++){const v=t[p];v.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',v.uuid),r[v.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",v.image);const E=r[v.image],_=E.data;let k;Array.isArray(_)?(k=new g1,_.length===6&&(k.needsUpdate=!0)):(_&&_.data?k=new jd:k=new Z0,_&&(k.needsUpdate=!0)),k.source=E,k.uuid=v.uuid,v.name!==void 0&&(k.name=v.name),v.mapping!==void 0&&(k.mapping=n(v.mapping,bQ)),v.offset!==void 0&&k.offset.fromArray(v.offset),v.repeat!==void 0&&k.repeat.fromArray(v.repeat),v.center!==void 0&&k.center.fromArray(v.center),v.rotation!==void 0&&(k.rotation=v.rotation),v.wrap!==void 0&&(k.wrapS=n(v.wrap[0],zS),k.wrapT=n(v.wrap[1],zS)),v.format!==void 0&&(k.format=v.format),v.type!==void 0&&(k.type=v.type),v.encoding!==void 0&&(k.encoding=v.encoding),v.minFilter!==void 0&&(k.minFilter=n(v.minFilter,WS)),v.magFilter!==void 0&&(k.magFilter=n(v.magFilter,WS)),v.anisotropy!==void 0&&(k.anisotropy=v.anisotropy),v.flipY!==void 0&&(k.flipY=v.flipY),v.premultiplyAlpha!==void 0&&(k.premultiplyAlpha=v.premultiplyAlpha),v.unpackAlignment!==void 0&&(k.unpackAlignment=v.unpackAlignment),v.userData!==void 0&&(k.userData=v.userData),c[v.uuid]=k}return c}parseObject(t,r,n,c,p){let y;function v(B){return r[B]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",B),r[B]}function E(B){if(B!==void 0){if(Array.isArray(B)){const M=[];for(let F=0,H=B.length;F<H;F++){const U=B[F];n[U]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",U),M.push(n[U])}return M}return n[B]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",B),n[B]}}function _(B){return c[B]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",B),c[B]}let k,R;switch(t.type){case"Scene":y=new Mh,t.background!==void 0&&(Number.isInteger(t.background)?y.background=new _i(t.background):y.background=_(t.background)),t.environment!==void 0&&(y.environment=_(t.environment)),t.fog!==void 0&&(t.fog.type==="Fog"?y.fog=new v1(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(y.fog=new y1(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":y=new ko(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(y.focus=t.focus),t.zoom!==void 0&&(y.zoom=t.zoom),t.filmGauge!==void 0&&(y.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(y.filmOffset=t.filmOffset),t.view!==void 0&&(y.view=Object.assign({},t.view));break;case"OrthographicCamera":y=new Fh(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(y.zoom=t.zoom),t.view!==void 0&&(y.view=Object.assign({},t.view));break;case"AmbientLight":y=new k8(t.color,t.intensity);break;case"DirectionalLight":y=new ib(t.color,t.intensity);break;case"PointLight":y=new rb(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":y=new C8(t.color,t.intensity,t.width,t.height);break;case"SpotLight":y=new Qw(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":y=new E8(t.color,t.groundColor,t.intensity);break;case"LightProbe":y=new nb().fromJSON(t);break;case"SkinnedMesh":k=v(t.geometry),R=E(t.material),y=new Zg(k,R),t.bindMode!==void 0&&(y.bindMode=t.bindMode),t.bindMatrix!==void 0&&y.bindMatrix.fromArray(t.bindMatrix),t.skeleton!==void 0&&(y.skeleton=t.skeleton);break;case"Mesh":k=v(t.geometry),R=E(t.material),y=new Kr(k,R);break;case"InstancedMesh":k=v(t.geometry),R=E(t.material);const B=t.count,M=t.instanceMatrix,F=t.instanceColor;y=new Fw(k,R,B),y.instanceMatrix=new Xd(new Float32Array(M.array),16),F!==void 0&&(y.instanceColor=new Xd(new Float32Array(F.array),F.itemSize));break;case"LOD":y=new J7;break;case"Line":y=new _o(v(t.geometry),E(t.material));break;case"LineLoop":y=new Ow(v(t.geometry),E(t.material));break;case"LineSegments":y=new Pa(v(t.geometry),E(t.material));break;case"PointCloud":case"Points":y=new w1(v(t.geometry),E(t.material));break;case"Sprite":y=new Mf(E(t.material));break;case"Group":y=new xl;break;case"Bone":y=new Yg;break;default:y=new Rn}if(y.uuid=t.uuid,t.name!==void 0&&(y.name=t.name),t.matrix!==void 0?(y.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(y.matrixAutoUpdate=t.matrixAutoUpdate),y.matrixAutoUpdate&&y.matrix.decompose(y.position,y.quaternion,y.scale)):(t.position!==void 0&&y.position.fromArray(t.position),t.rotation!==void 0&&y.rotation.fromArray(t.rotation),t.quaternion!==void 0&&y.quaternion.fromArray(t.quaternion),t.scale!==void 0&&y.scale.fromArray(t.scale)),t.castShadow!==void 0&&(y.castShadow=t.castShadow),t.receiveShadow!==void 0&&(y.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.bias!==void 0&&(y.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&&(y.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&&(y.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&y.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(y.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(y.visible=t.visible),t.frustumCulled!==void 0&&(y.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(y.renderOrder=t.renderOrder),t.userData!==void 0&&(y.userData=t.userData),t.layers!==void 0&&(y.layers.mask=t.layers),t.children!==void 0){const B=t.children;for(let M=0;M<B.length;M++)y.add(this.parseObject(B[M],r,n,c,p))}if(t.animations!==void 0){const B=t.animations;for(let M=0;M<B.length;M++){const F=B[M];y.animations.push(p[F])}}if(t.type==="LOD"){t.autoUpdate!==void 0&&(y.autoUpdate=t.autoUpdate);const B=t.levels;for(let M=0;M<B.length;M++){const F=B[M],H=y.getObjectByProperty("uuid",F.object);H!==void 0&&y.addLevel(H,F.distance)}}return y}bindSkeletons(t,r){Object.keys(r).length!==0&&t.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const c=r[n.skeleton];c===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(c,n.bindMatrix)}})}setTexturePath(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)}}const bQ={UVMapping:Cw,CubeReflectionMapping:kh,CubeRefractionMapping:Ch,EquirectangularReflectionMapping:Wd,EquirectangularRefractionMapping:Sg,CubeUVReflectionMapping:p1},zS={RepeatWrapping:Sh,ClampToEdgeWrapping:ma,MirroredRepeatWrapping:Hp},WS={NearestFilter:oo,NearestMipmapNearestFilter:Tg,NearestMipmapLinearFilter:Mg,LinearFilter:Es,LinearMipmapNearestFilter:Sw,LinearMipmapLinearFilter:Tu};class M8 extends ya{constructor(t){super(t),typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,r,n,c){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const p=this,y=Yd.get(t);if(y!==void 0)return p.manager.itemStart(t),setTimeout(function(){r&&r(y),p.manager.itemEnd(t)},0),y;const v={};v.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",v.headers=this.requestHeader,fetch(t,v).then(function(E){return E.blob()}).then(function(E){return createImageBitmap(E,Object.assign(p.options,{colorSpaceConversion:"none"}))}).then(function(E){Yd.add(t,E),r&&r(E),p.manager.itemEnd(t)}).catch(function(E){c&&c(E),p.manager.itemError(t),p.manager.itemEnd(t)}),p.manager.itemStart(t)}}M8.prototype.isImageBitmapLoader=!0;let $4;const R8={getContext:function(){return $4===void 0&&($4=new(window.AudioContext||window.webkitAudioContext)),$4},setContext:function(a){$4=a}};class D8 extends ya{constructor(t){super(t)}load(t,r,n,c){const p=this,y=new Na(this.manager);y.setResponseType("arraybuffer"),y.setPath(this.path),y.setRequestHeader(this.requestHeader),y.setWithCredentials(this.withCredentials),y.load(t,function(v){try{const E=v.slice(0);R8.getContext().decodeAudioData(E,function(k){r(k)})}catch(E){c?c(E):console.error(E),p.manager.itemError(t)}},n,c)}}class cR extends nb{constructor(t,r,n=1){super(void 0,n);const c=new _i().set(t),p=new _i().set(r),y=new wt(c.r,c.g,c.b),v=new wt(p.r,p.g,p.b),E=Math.sqrt(Math.PI),_=E*Math.sqrt(.75);this.sh.coefficients[0].copy(y).add(v).multiplyScalar(E),this.sh.coefficients[1].copy(y).sub(v).multiplyScalar(_)}}cR.prototype.isHemisphereLightProbe=!0;class hR extends nb{constructor(t,r=1){super(void 0,r);const n=new _i().set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}hR.prototype.isAmbientLightProbe=!0;const QS=new Ji,JS=new Ji,Ed=new Ji;class yQ{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ko,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ko,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const r=this._cache;if(r.focus!==t.focus||r.fov!==t.fov||r.aspect!==t.aspect*this.aspect||r.near!==t.near||r.far!==t.far||r.zoom!==t.zoom||r.eyeSep!==this.eyeSep){r.focus=t.focus,r.fov=t.fov,r.aspect=t.aspect*this.aspect,r.near=t.near,r.far=t.far,r.zoom=t.zoom,r.eyeSep=this.eyeSep,Ed.copy(t.projectionMatrix);const c=r.eyeSep/2,p=c*r.near/r.focus,y=r.near*Math.tan(Ud*r.fov*.5)/r.zoom;let v,E;JS.elements[12]=-c,QS.elements[12]=c,v=-y*r.aspect+p,E=y*r.aspect+p,Ed.elements[0]=2*r.near/(E-v),Ed.elements[8]=(E+v)/(E-v),this.cameraL.projectionMatrix.copy(Ed),v=-y*r.aspect-p,E=y*r.aspect-p,Ed.elements[0]=2*r.near/(E-v),Ed.elements[8]=(E+v)/(E-v),this.cameraR.projectionMatrix.copy(Ed)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(JS),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(QS)}}class B8{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=XS(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const r=XS();t=(r-this.oldTime)/1e3,this.oldTime=r,this.elapsedTime+=t}return t}}function XS(){return(typeof performance=="undefined"?Date:performance).now()}const _d=new wt,qS=new L0,vQ=new wt,kd=new wt;class dR extends Rn{constructor(){super(),this.type="AudioListener",this.context=R8.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new B8}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const r=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_d,qS,vQ),kd.set(0,0,-1).applyQuaternion(qS),r.positionX){const c=this.context.currentTime+this.timeDelta;r.positionX.linearRampToValueAtTime(_d.x,c),r.positionY.linearRampToValueAtTime(_d.y,c),r.positionZ.linearRampToValueAtTime(_d.z,c),r.forwardX.linearRampToValueAtTime(kd.x,c),r.forwardY.linearRampToValueAtTime(kd.y,c),r.forwardZ.linearRampToValueAtTime(kd.z,c),r.upX.linearRampToValueAtTime(n.x,c),r.upY.linearRampToValueAtTime(n.y,c),r.upZ.linearRampToValueAtTime(n.z,c)}else r.setPosition(_d.x,_d.y,_d.z),r.setOrientation(kd.x,kd.y,kd.z,n.x,n.y,n.z)}}class Jw extends Rn{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const r=this.context.createBufferSource();return r.buffer=this.buffer,r.loop=this.loop,r.loopStart=this.loopStart,r.loopEnd=this.loopEnd,r.onended=this.onEnded.bind(this),r.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=r,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,r=this.filters.length;t<r;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,r=this.filters.length;t<r;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}const Cd=new wt,ZS=new L0,wQ=new wt,Sd=new wt;class AQ extends Jw{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,r,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=r,this.panner.coneOuterGain=n,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Cd,ZS,wQ),Sd.set(0,0,1).applyQuaternion(ZS);const r=this.panner;if(r.positionX){const n=this.context.currentTime+this.listener.timeDelta;r.positionX.linearRampToValueAtTime(Cd.x,n),r.positionY.linearRampToValueAtTime(Cd.y,n),r.positionZ.linearRampToValueAtTime(Cd.z,n),r.orientationX.linearRampToValueAtTime(Sd.x,n),r.orientationY.linearRampToValueAtTime(Sd.y,n),r.orientationZ.linearRampToValueAtTime(Sd.z,n)}else r.setPosition(Cd.x,Cd.y,Cd.z),r.setOrientation(Sd.x,Sd.y,Sd.z)}}class pR{constructor(t,r=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=r,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const r=this.getFrequencyData();for(let n=0;n<r.length;n++)t+=r[n];return t/r.length}}class mR{constructor(t,r,n){this.binding=t,this.valueSize=n;let c,p,y;switch(r){case"quaternion":c=this._slerp,p=this._slerpAdditive,y=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":c=this._select,p=this._select,y=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:c=this._lerp,p=this._lerpAdditive,y=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=c,this._mixBufferRegionAdditive=p,this._setIdentity=y,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,r){const n=this.buffer,c=this.valueSize,p=t*c+c;let y=this.cumulativeWeight;if(y===0){for(let v=0;v!==c;++v)n[p+v]=n[v];y=r}else{y+=r;const v=r/y;this._mixBufferRegion(n,p,0,v,c)}this.cumulativeWeight=y}accumulateAdditive(t){const r=this.buffer,n=this.valueSize,c=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(r,c,0,t,n),this.cumulativeWeightAdditive+=t}apply(t){const r=this.valueSize,n=this.buffer,c=t*r+r,p=this.cumulativeWeight,y=this.cumulativeWeightAdditive,v=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,p<1){const E=r*this._origIndex;this._mixBufferRegion(n,c,E,1-p,r)}y>0&&this._mixBufferRegionAdditive(n,c,this._addIndex*r,1,r);for(let E=r,_=r+r;E!==_;++E)if(n[E]!==n[E+r]){v.setValue(n,c);break}}saveOriginalState(){const t=this.binding,r=this.buffer,n=this.valueSize,c=n*this._origIndex;t.getValue(r,c);for(let p=n,y=c;p!==y;++p)r[p]=r[c+p%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,r=t+this.valueSize;for(let n=t;n<r;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,r=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[r+n]=this.buffer[t+n]}_select(t,r,n,c,p){if(c>=.5)for(let y=0;y!==p;++y)t[r+y]=t[n+y]}_slerp(t,r,n,c){L0.slerpFlat(t,r,t,r,t,n,c)}_slerpAdditive(t,r,n,c,p){const y=this._workIndex*p;L0.multiplyQuaternionsFlat(t,y,t,r,t,n),L0.slerpFlat(t,r,t,r,t,y,c)}_lerp(t,r,n,c,p){const y=1-c;for(let v=0;v!==p;++v){const E=r+v;t[E]=t[E]*y+t[n+v]*c}}_lerpAdditive(t,r,n,c,p){for(let y=0;y!==p;++y){const v=r+y;t[v]=t[v]+t[n+y]*c}}}const I8="\\[\\]\\.:\\/",xQ=new RegExp("["+I8+"]","g"),L8="[^"+I8+"]",EQ="[^"+I8.replace("\\.","")+"]",_Q=/((?:WC+[\/:])*)/.source.replace("WC",L8),kQ=/(WCOD+)?/.source.replace("WCOD",EQ),CQ=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",L8),SQ=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",L8),TQ=new RegExp("^"+_Q+kQ+CQ+SQ+"$"),MQ=["material","materials","bones"];class RQ{constructor(t,r,n){const c=n||k0.parseTrackName(r);this._targetGroup=t,this._bindings=t.subscribe_(r,c)}getValue(t,r){this.bind();const n=this._targetGroup.nCachedObjects_,c=this._bindings[n];c!==void 0&&c.getValue(t,r)}setValue(t,r){const n=this._bindings;for(let c=this._targetGroup.nCachedObjects_,p=n.length;c!==p;++c)n[c].setValue(t,r)}bind(){const t=this._bindings;for(let r=this._targetGroup.nCachedObjects_,n=t.length;r!==n;++r)t[r].bind()}unbind(){const t=this._bindings;for(let r=this._targetGroup.nCachedObjects_,n=t.length;r!==n;++r)t[r].unbind()}}class k0{constructor(t,r,n){this.path=r,this.parsedPath=n||k0.parseTrackName(r),this.node=k0.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,r,n){return t&&t.isAnimationObjectGroup?new k0.Composite(t,r,n):new k0(t,r,n)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(xQ,"")}static parseTrackName(t){const r=TQ.exec(t);if(r===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]},c=n.nodeName&&n.nodeName.lastIndexOf(".");if(c!==void 0&&c!==-1){const p=n.nodeName.substring(c+1);MQ.indexOf(p)!==-1&&(n.nodeName=n.nodeName.substring(0,c),n.objectName=p)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}static findNode(t,r){if(r===void 0||r===""||r==="."||r===-1||r===t.name||r===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(r);if(n!==void 0)return n}if(t.children){const n=function(p){for(let y=0;y<p.length;y++){const v=p[y];if(v.name===r||v.uuid===r)return v;const E=n(v.children);if(E)return E}return null},c=n(t.children);if(c)return c}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,r){t[r]=this.targetObject[this.propertyName]}_getValue_array(t,r){const n=this.resolvedProperty;for(let c=0,p=n.length;c!==p;++c)t[r++]=n[c]}_getValue_arrayElement(t,r){t[r]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,r){this.resolvedProperty.toArray(t,r)}_setValue_direct(t,r){this.targetObject[this.propertyName]=t[r]}_setValue_direct_setNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,r){this.targetObject[this.propertyName]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,r){const n=this.resolvedProperty;for(let c=0,p=n.length;c!==p;++c)n[c]=t[r++]}_setValue_array_setNeedsUpdate(t,r){const n=this.resolvedProperty;for(let c=0,p=n.length;c!==p;++c)n[c]=t[r++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,r){const n=this.resolvedProperty;for(let c=0,p=n.length;c!==p;++c)n[c]=t[r++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,r){this.resolvedProperty[this.propertyIndex]=t[r]}_setValue_arrayElement_setNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty[this.propertyIndex]=t[r],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,r){this.resolvedProperty.fromArray(t,r)}_setValue_fromArray_setNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,r){this.resolvedProperty.fromArray(t,r),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,r){this.bind(),this.getValue(t,r)}_setValue_unbound(t,r){this.bind(),this.setValue(t,r)}bind(){let t=this.node;const r=this.parsedPath,n=r.objectName,c=r.propertyName;let p=r.propertyIndex;if(t||(t=k0.findNode(this.rootNode,r.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let _=r.objectIndex;switch(n){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let k=0;k<t.length;k++)if(t[k].name===_){_=k;break}break;default:if(t[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[n]}if(_!==void 0){if(t[_]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[_]}}const y=t[c];if(y===void 0){const _=r.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+_+"."+c+" but it wasn't found.",t);return}let v=this.Versioning.None;this.targetObject=t,t.needsUpdate!==void 0?v=this.Versioning.NeedsUpdate:t.matrixWorldNeedsUpdate!==void 0&&(v=this.Versioning.MatrixWorldNeedsUpdate);let E=this.BindingType.Direct;if(p!==void 0){if(c==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[p]!==void 0&&(p=t.morphTargetDictionary[p])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}E=this.BindingType.ArrayElement,this.resolvedProperty=y,this.propertyIndex=p}else y.fromArray!==void 0&&y.toArray!==void 0?(E=this.BindingType.HasFromToArray,this.resolvedProperty=y):Array.isArray(y)?(E=this.BindingType.EntireArray,this.resolvedProperty=y):this.propertyName=c;this.getValue=this.GetterByBindingType[E],this.setValue=this.SetterByBindingTypeAndVersioning[E][v]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}k0.Composite=RQ;k0.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};k0.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};k0.prototype.GetterByBindingType=[k0.prototype._getValue_direct,k0.prototype._getValue_array,k0.prototype._getValue_arrayElement,k0.prototype._getValue_toArray];k0.prototype.SetterByBindingTypeAndVersioning=[[k0.prototype._setValue_direct,k0.prototype._setValue_direct_setNeedsUpdate,k0.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[k0.prototype._setValue_array,k0.prototype._setValue_array_setNeedsUpdate,k0.prototype._setValue_array_setMatrixWorldNeedsUpdate],[k0.prototype._setValue_arrayElement,k0.prototype._setValue_arrayElement_setNeedsUpdate,k0.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[k0.prototype._setValue_fromArray,k0.prototype._setValue_fromArray_setNeedsUpdate,k0.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class gR{constructor(){this.uuid=Cl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let n=0,c=arguments.length;n!==c;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}add(){const t=this._objects,r=this._indicesByUUID,n=this._paths,c=this._parsedPaths,p=this._bindings,y=p.length;let v,E=t.length,_=this.nCachedObjects_;for(let k=0,R=arguments.length;k!==R;++k){const B=arguments[k],M=B.uuid;let F=r[M];if(F===void 0){F=E++,r[M]=F,t.push(B);for(let H=0,U=y;H!==U;++H)p[H].push(new k0(B,n[H],c[H]))}else if(F<_){v=t[F];const H=--_,U=t[H];r[U.uuid]=F,t[F]=U,r[M]=H,t[H]=B;for(let Z=0,K=y;Z!==K;++Z){const fe=p[Z],oe=fe[H];let we=fe[F];fe[F]=oe,we===void 0&&(we=new k0(B,n[Z],c[Z])),fe[H]=we}}else t[F]!==v&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=_}remove(){const t=this._objects,r=this._indicesByUUID,n=this._bindings,c=n.length;let p=this.nCachedObjects_;for(let y=0,v=arguments.length;y!==v;++y){const E=arguments[y],_=E.uuid,k=r[_];if(k!==void 0&&k>=p){const R=p++,B=t[R];r[B.uuid]=k,t[k]=B,r[_]=R,t[R]=E;for(let M=0,F=c;M!==F;++M){const H=n[M],U=H[R],Z=H[k];H[k]=U,H[R]=Z}}}this.nCachedObjects_=p}uncache(){const t=this._objects,r=this._indicesByUUID,n=this._bindings,c=n.length;let p=this.nCachedObjects_,y=t.length;for(let v=0,E=arguments.length;v!==E;++v){const _=arguments[v],k=_.uuid,R=r[k];if(R!==void 0)if(delete r[k],R<p){const B=--p,M=t[B],F=--y,H=t[F];r[M.uuid]=R,t[R]=M,r[H.uuid]=B,t[B]=H,t.pop();for(let U=0,Z=c;U!==Z;++U){const K=n[U],fe=K[B],oe=K[F];K[R]=fe,K[B]=oe,K.pop()}}else{const B=--y,M=t[B];B>0&&(r[M.uuid]=R),t[R]=M,t.pop();for(let F=0,H=c;F!==H;++F){const U=n[F];U[R]=U[B],U.pop()}}}this.nCachedObjects_=p}subscribe_(t,r){const n=this._bindingsIndicesByPath;let c=n[t];const p=this._bindings;if(c!==void 0)return p[c];const y=this._paths,v=this._parsedPaths,E=this._objects,_=E.length,k=this.nCachedObjects_,R=new Array(_);c=p.length,n[t]=c,y.push(t),v.push(r),p.push(R);for(let B=k,M=E.length;B!==M;++B){const F=E[B];R[B]=new k0(F,t,r)}return R}unsubscribe_(t){const r=this._bindingsIndicesByPath,n=r[t];if(n!==void 0){const c=this._paths,p=this._parsedPaths,y=this._bindings,v=y.length-1,E=y[v],_=t[v];r[_]=n,y[n]=E,y.pop(),p[n]=p[v],p.pop(),c[n]=c[v],c.pop()}}}gR.prototype.isAnimationObjectGroup=!0;class DQ{constructor(t,r,n=null,c=r.blendMode){this._mixer=t,this._clip=r,this._localRoot=n,this.blendMode=c;const p=r.tracks,y=p.length,v=new Array(y),E={endingStart:Nd,endingEnd:Nd};for(let _=0;_!==y;++_){const k=p[_].createInterpolant(null);v[_]=k,k.settings=E}this._interpolantSettings=E,this._interpolants=v,this._propertyBindings=new Array(y),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=g7,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,r){return this.loop=t,this.repetitions=r,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,r,n){if(t.fadeOut(r),this.fadeIn(r),n){const c=this._clip.duration,p=t._clip.duration,y=p/c,v=c/p;t.warp(1,y,r),this.warp(v,1,r)}return this}crossFadeTo(t,r,n){return t.crossFadeFrom(this,r,n)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,r,n){const c=this._mixer,p=c.time,y=this.timeScale;let v=this._timeScaleInterpolant;v===null&&(v=c._lendControlInterpolant(),this._timeScaleInterpolant=v);const E=v.parameterPositions,_=v.sampleValues;return E[0]=p,E[1]=p+n,_[0]=t/y,_[1]=r/y,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,r,n,c){if(!this.enabled){this._updateWeight(t);return}const p=this._startTime;if(p!==null){const E=(t-p)*n;if(E<0||n===0)return;this._startTime=null,r=n*E}r*=this._updateTimeScale(t);const y=this._updateTime(r),v=this._updateWeight(t);if(v>0){const E=this._interpolants,_=this._propertyBindings;switch(this.blendMode){case YE:for(let k=0,R=E.length;k!==R;++k)E[k].evaluate(y),_[k].accumulateAdditive(v);break;case Tw:default:for(let k=0,R=E.length;k!==R;++k)E[k].evaluate(y),_[k].accumulate(c,v)}}}_updateWeight(t){let r=0;if(this.enabled){r=this.weight;const n=this._weightInterpolant;if(n!==null){const c=n.evaluate(t)[0];r*=c,t>n.parameterPositions[1]&&(this.stopFading(),c===0&&(this.enabled=!1))}}return this._effectiveWeight=r,r}_updateTimeScale(t){let r=0;if(!this.paused){r=this.timeScale;const n=this._timeScaleInterpolant;n!==null&&(r*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),r===0?this.paused=!0:this.timeScale=r))}return this._effectiveTimeScale=r,r}_updateTime(t){const r=this._clip.duration,n=this.loop;let c=this.time+t,p=this._loopCount;const y=n===b7;if(t===0)return p===-1?c:y&&(p&1)===1?r-c:c;if(n===m7){p===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(c>=r)c=r;else if(c<0)c=0;else{this.time=c;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=c,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(p===-1&&(t>=0?(p=0,this._setEndings(!0,this.repetitions===0,y)):this._setEndings(this.repetitions===0,!0,y)),c>=r||c<0){const v=Math.floor(c/r);c-=r*v,p+=Math.abs(v);const E=this.repetitions-p;if(E<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,c=t>0?r:0,this.time=c,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(E===1){const _=t<0;this._setEndings(_,!_,y)}else this._setEndings(!1,!1,y);this._loopCount=p,this.time=c,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:v})}}else this.time=c;if(y&&(p&1)===1)return r-c}return c}_setEndings(t,r,n){const c=this._interpolantSettings;n?(c.endingStart=Fd,c.endingEnd=Fd):(t?c.endingStart=this.zeroSlopeAtStart?Fd:Nd:c.endingStart=Rg,r?c.endingEnd=this.zeroSlopeAtEnd?Fd:Nd:c.endingEnd=Rg)}_scheduleFading(t,r,n){const c=this._mixer,p=c.time;let y=this._weightInterpolant;y===null&&(y=c._lendControlInterpolant(),this._weightInterpolant=y);const v=y.parameterPositions,E=y.sampleValues;return v[0]=p,E[0]=r,v[1]=p+t,E[1]=n,this}}class P8 extends dc{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,r){const n=t._localRoot||this._root,c=t._clip.tracks,p=c.length,y=t._propertyBindings,v=t._interpolants,E=n.uuid,_=this._bindingsByRootAndName;let k=_[E];k===void 0&&(k={},_[E]=k);for(let R=0;R!==p;++R){const B=c[R],M=B.name;let F=k[M];if(F!==void 0)++F.referenceCount,y[R]=F;else{if(F=y[R],F!==void 0){F._cacheIndex===null&&(++F.referenceCount,this._addInactiveBinding(F,E,M));continue}const H=r&&r._propertyBindings[R].binding.parsedPath;F=new mR(k0.create(n,M,H),B.ValueTypeName,B.getValueSize()),++F.referenceCount,this._addInactiveBinding(F,E,M),y[R]=F}v[R].resultBuffer=F.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const n=(t._localRoot||this._root).uuid,c=t._clip.uuid,p=this._actionsByClip[c];this._bindAction(t,p&&p.knownActions[0]),this._addInactiveAction(t,c,n)}const r=t._propertyBindings;for(let n=0,c=r.length;n!==c;++n){const p=r[n];p.useCount++===0&&(this._lendBinding(p),p.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const r=t._propertyBindings;for(let n=0,c=r.length;n!==c;++n){const p=r[n];--p.useCount===0&&(p.restoreOriginalState(),this._takeBackBinding(p))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const r=t._cacheIndex;return r!==null&&r<this._nActiveActions}_addInactiveAction(t,r,n){const c=this._actions,p=this._actionsByClip;let y=p[r];if(y===void 0)y={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,p[r]=y;else{const v=y.knownActions;t._byClipCacheIndex=v.length,v.push(t)}t._cacheIndex=c.length,c.push(t),y.actionByRoot[n]=t}_removeInactiveAction(t){const r=this._actions,n=r[r.length-1],c=t._cacheIndex;n._cacheIndex=c,r[c]=n,r.pop(),t._cacheIndex=null;const p=t._clip.uuid,y=this._actionsByClip,v=y[p],E=v.knownActions,_=E[E.length-1],k=t._byClipCacheIndex;_._byClipCacheIndex=k,E[k]=_,E.pop(),t._byClipCacheIndex=null;const R=v.actionByRoot,B=(t._localRoot||this._root).uuid;delete R[B],E.length===0&&delete y[p],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const r=t._propertyBindings;for(let n=0,c=r.length;n!==c;++n){const p=r[n];--p.referenceCount===0&&this._removeInactiveBinding(p)}}_lendAction(t){const r=this._actions,n=t._cacheIndex,c=this._nActiveActions++,p=r[c];t._cacheIndex=c,r[c]=t,p._cacheIndex=n,r[n]=p}_takeBackAction(t){const r=this._actions,n=t._cacheIndex,c=--this._nActiveActions,p=r[c];t._cacheIndex=c,r[c]=t,p._cacheIndex=n,r[n]=p}_addInactiveBinding(t,r,n){const c=this._bindingsByRootAndName,p=this._bindings;let y=c[r];y===void 0&&(y={},c[r]=y),y[n]=t,t._cacheIndex=p.length,p.push(t)}_removeInactiveBinding(t){const r=this._bindings,n=t.binding,c=n.rootNode.uuid,p=n.path,y=this._bindingsByRootAndName,v=y[c],E=r[r.length-1],_=t._cacheIndex;E._cacheIndex=_,r[_]=E,r.pop(),delete v[p],Object.keys(v).length===0&&delete y[c]}_lendBinding(t){const r=this._bindings,n=t._cacheIndex,c=this._nActiveBindings++,p=r[c];t._cacheIndex=c,r[c]=t,p._cacheIndex=n,r[n]=p}_takeBackBinding(t){const r=this._bindings,n=t._cacheIndex,c=--this._nActiveBindings,p=r[c];t._cacheIndex=c,r[c]=t,p._cacheIndex=n,r[n]=p}_lendControlInterpolant(){const t=this._controlInterpolants,r=this._nActiveControlInterpolants++;let n=t[r];return n===void 0&&(n=new v8(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=r,t[r]=n),n}_takeBackControlInterpolant(t){const r=this._controlInterpolants,n=t.__cacheIndex,c=--this._nActiveControlInterpolants,p=r[c];t.__cacheIndex=c,r[c]=t,p.__cacheIndex=n,r[n]=p}clipAction(t,r,n){const c=r||this._root,p=c.uuid;let y=typeof t=="string"?i1.findByName(c,t):t;const v=y!==null?y.uuid:t,E=this._actionsByClip[v];let _=null;if(n===void 0&&(y!==null?n=y.blendMode:n=Tw),E!==void 0){const R=E.actionByRoot[p];if(R!==void 0&&R.blendMode===n)return R;_=E.knownActions[0],y===null&&(y=_._clip)}if(y===null)return null;const k=new DQ(this,y,r,n);return this._bindAction(k,_),this._addInactiveAction(k,v,p),k}existingAction(t,r){const n=r||this._root,c=n.uuid,p=typeof t=="string"?i1.findByName(n,t):t,y=p?p.uuid:t,v=this._actionsByClip[y];return v!==void 0&&v.actionByRoot[c]||null}stopAllAction(){const t=this._actions,r=this._nActiveActions;for(let n=r-1;n>=0;--n)t[n].stop();return this}update(t){t*=this.timeScale;const r=this._actions,n=this._nActiveActions,c=this.time+=t,p=Math.sign(t),y=this._accuIndex^=1;for(let _=0;_!==n;++_)r[_]._update(c,t,p,y);const v=this._bindings,E=this._nActiveBindings;for(let _=0;_!==E;++_)v[_].apply(y);return this}setTime(t){this.time=0;for(let r=0;r<this._actions.length;r++)this._actions[r].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const r=this._actions,n=t.uuid,c=this._actionsByClip,p=c[n];if(p!==void 0){const y=p.knownActions;for(let v=0,E=y.length;v!==E;++v){const _=y[v];this._deactivateAction(_);const k=_._cacheIndex,R=r[r.length-1];_._cacheIndex=null,_._byClipCacheIndex=null,R._cacheIndex=k,r[k]=R,r.pop(),this._removeInactiveBindingsForAction(_)}delete c[n]}}uncacheRoot(t){const r=t.uuid,n=this._actionsByClip;for(const y in n){const v=n[y].actionByRoot,E=v[r];E!==void 0&&(this._deactivateAction(E),this._removeInactiveAction(E))}const c=this._bindingsByRootAndName,p=c[r];if(p!==void 0)for(const y in p){const v=p[y];v.restoreOriginalState(),this._removeInactiveBinding(v)}}uncacheAction(t,r){const n=this.existingAction(t,r);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}P8.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class Xw{constructor(t){typeof t=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}clone(){return new Xw(this.value.clone===void 0?this.value:this.value.clone())}}class bR extends Oh{constructor(t,r,n=1){super(t,r),this.meshPerAttribute=n}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const r=super.clone(t);return r.meshPerAttribute=this.meshPerAttribute,r}toJSON(t){const r=super.toJSON(t);return r.isInstancedInterleavedBuffer=!0,r.meshPerAttribute=this.meshPerAttribute,r}}bR.prototype.isInstancedInterleavedBuffer=!0;class yR{constructor(t,r,n,c,p){this.buffer=t,this.type=r,this.itemSize=n,this.elementSize=c,this.count=p,this.version=0}set needsUpdate(t){t===!0&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,r){return this.type=t,this.elementSize=r,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}yR.prototype.isGLBufferAttribute=!0;class sb{constructor(t,r,n=0,c=1/0){this.ray=new Nh(t,r),this.near=n,this.far=c,this.camera=null,this.layers=new Mw,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,r){this.ray.set(t,r)}setFromCamera(t,r){r.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(r.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(r).sub(this.ray.origin).normalize(),this.camera=r):r.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(r.near+r.far)/(r.near-r.far)).unproject(r),this.ray.direction.set(0,0,-1).transformDirection(r.matrixWorld),this.camera=r):console.error("THREE.Raycaster: Unsupported camera type: "+r.type)}intersectObject(t,r=!0,n=[]){return cE(t,this,n,r),n.sort(YS),n}intersectObjects(t,r=!0,n=[]){for(let c=0,p=t.length;c<p;c++)cE(t[c],this,n,r);return n.sort(YS),n}}function YS(a,t){return a.distance-t.distance}function cE(a,t,r,n){if(a.layers.test(t.layers)&&a.raycast(t,r),n===!0){const c=a.children;for(let p=0,y=c.length;p<y;p++)cE(c[p],t,r,!0)}}class vR{constructor(t=1,r=0,n=0){return this.radius=t,this.phi=r,this.theta=n,this}set(t,r,n){return this.radius=t,this.phi=r,this.theta=n,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,r,n){return this.radius=Math.sqrt(t*t+r*r+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(ao(r/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class BQ{constructor(t=1,r=0,n=0){return this.radius=t,this.theta=r,this.y=n,this}set(t,r,n){return this.radius=t,this.theta=r,this.y=n,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,r,n){return this.radius=Math.sqrt(t*t+n*n),this.theta=Math.atan2(t,n),this.y=r,this}clone(){return new this.constructor().copy(this)}}const KS=new $r;class A1{constructor(t=new $r(1/0,1/0),r=new $r(-1/0,-1/0)){this.min=t,this.max=r}set(t,r){return this.min.copy(t),this.max.copy(r),this}setFromPoints(t){this.makeEmpty();for(let r=0,n=t.length;r<n;r++)this.expandByPoint(t[r]);return this}setFromCenterAndSize(t,r){const n=KS.copy(r).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,r){return r.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,r){return r.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return KS.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}A1.prototype.isBox2=!0;const $S=new wt,ev=new wt;class wR{constructor(t=new wt,r=new wt){this.start=t,this.end=r}set(t,r){return this.start.copy(t),this.end.copy(r),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,r){return this.delta(r).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,r){$S.subVectors(t,this.start),ev.subVectors(this.end,this.start);const n=ev.dot(ev);let p=ev.dot($S)/n;return r&&(p=ao(p,0,1)),p}closestPointToPoint(t,r,n){const c=this.closestPointToPointParameter(t,r);return this.delta(n).multiplyScalar(c).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const eT=new wt;class AR extends Rn{constructor(t,r){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const n=new wn,c=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let y=0,v=1,E=32;y<E;y++,v++){const _=y/E*Math.PI*2,k=v/E*Math.PI*2;c.push(Math.cos(_),Math.sin(_),1,Math.cos(k),Math.sin(k),1)}n.setAttribute("position",new $i(c,3));const p=new uo({fog:!1,toneMapped:!1});this.cone=new Pa(n,p),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const t=this.light.distance?this.light.distance:1e3,r=t*Math.tan(this.light.angle);this.cone.scale.set(r,r,t),eT.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(eT),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const ih=new wt,tv=new Ji,Ox=new Ji;class sw extends Pa{constructor(t){const r=xR(t),n=new wn,c=[],p=[],y=new _i(0,0,1),v=new _i(0,1,0);for(let _=0;_<r.length;_++){const k=r[_];k.parent&&k.parent.isBone&&(c.push(0,0,0),c.push(0,0,0),p.push(y.r,y.g,y.b),p.push(v.r,v.g,v.b))}n.setAttribute("position",new $i(c,3)),n.setAttribute("color",new $i(p,3));const E=new uo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,E),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=r,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const r=this.bones,n=this.geometry,c=n.getAttribute("position");Ox.copy(this.root.matrixWorld).invert();for(let p=0,y=0;p<r.length;p++){const v=r[p];v.parent&&v.parent.isBone&&(tv.multiplyMatrices(Ox,v.matrixWorld),ih.setFromMatrixPosition(tv),c.setXYZ(y,ih.x,ih.y,ih.z),tv.multiplyMatrices(Ox,v.parent.matrixWorld),ih.setFromMatrixPosition(tv),c.setXYZ(y+1,ih.x,ih.y,ih.z),y+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}function xR(a){const t=[];a.isBone===!0&&t.push(a);for(let r=0;r<a.children.length;r++)t.push.apply(t,xR(a.children[r]));return t}class ER extends Kr{constructor(t,r,n){const c=new Nf(r,4,2),p=new Us({wireframe:!0,fog:!1,toneMapped:!1});super(c,p),this.light=t,this.light.updateMatrixWorld(),this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const IQ=new wt,tT=new _i,rT=new _i;class _R extends Rn{constructor(t,r,n){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const c=new Rf(r);c.rotateY(Math.PI*.5),this.material=new Us({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const p=c.getAttribute("position"),y=new Float32Array(p.count*3);c.setAttribute("color",new d0(y,3)),this.add(new Kr(c,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const r=t.geometry.getAttribute("color");tT.copy(this.light.color),rT.copy(this.light.groundColor);for(let n=0,c=r.count;n<c;n++){const p=n<c/2?tT:rT;r.setXYZ(n,p.r,p.g,p.b)}r.needsUpdate=!0}t.lookAt(IQ.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ow extends Pa{constructor(t=10,r=10,n=4473924,c=8947848){n=new _i(n),c=new _i(c);const p=r/2,y=t/r,v=t/2,E=[],_=[];for(let B=0,M=0,F=-v;B<=r;B++,F+=y){E.push(-v,0,F,v,0,F),E.push(F,0,-v,F,0,v);const H=B===p?n:c;H.toArray(_,M),M+=3,H.toArray(_,M),M+=3,H.toArray(_,M),M+=3,H.toArray(_,M),M+=3}const k=new wn;k.setAttribute("position",new $i(E,3)),k.setAttribute("color",new $i(_,3));const R=new uo({vertexColors:!0,toneMapped:!1});super(k,R),this.type="GridHelper"}}class LQ extends Pa{constructor(t=10,r=16,n=8,c=64,p=4473924,y=8947848){p=new _i(p),y=new _i(y);const v=[],E=[];for(let R=0;R<=r;R++){const B=R/r*(Math.PI*2),M=Math.sin(B)*t,F=Math.cos(B)*t;v.push(0,0,0),v.push(M,0,F);const H=R&1?p:y;E.push(H.r,H.g,H.b),E.push(H.r,H.g,H.b)}for(let R=0;R<=n;R++){const B=R&1?p:y,M=t-t/n*R;for(let F=0;F<c;F++){let H=F/c*(Math.PI*2),U=Math.sin(H)*M,Z=Math.cos(H)*M;v.push(U,0,Z),E.push(B.r,B.g,B.b),H=(F+1)/c*(Math.PI*2),U=Math.sin(H)*M,Z=Math.cos(H)*M,v.push(U,0,Z),E.push(B.r,B.g,B.b)}}const _=new wn;_.setAttribute("position",new $i(v,3)),_.setAttribute("color",new $i(E,3));const k=new uo({vertexColors:!0,toneMapped:!1});super(_,k),this.type="PolarGridHelper"}}const iT=new wt,rv=new wt,nT=new wt;class kR extends Rn{constructor(t,r,n){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,r===void 0&&(r=1);let c=new wn;c.setAttribute("position",new $i([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));const p=new uo({fog:!1,toneMapped:!1});this.lightPlane=new _o(c,p),this.add(this.lightPlane),c=new wn,c.setAttribute("position",new $i([0,0,0,0,0,1],3)),this.targetLine=new _o(c,p),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){iT.setFromMatrixPosition(this.light.matrixWorld),rv.setFromMatrixPosition(this.light.target.matrixWorld),nT.subVectors(rv,iT),this.lightPlane.lookAt(rv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(rv),this.targetLine.scale.z=nT.length()}}const iv=new wt,Js=new Xg;class CR extends Pa{constructor(t){const r=new wn,n=new uo({color:16777215,vertexColors:!0,toneMapped:!1}),c=[],p=[],y={},v=new _i(16755200),E=new _i(16711680),_=new _i(43775),k=new _i(16777215),R=new _i(3355443);B("n1","n2",v),B("n2","n4",v),B("n4","n3",v),B("n3","n1",v),B("f1","f2",v),B("f2","f4",v),B("f4","f3",v),B("f3","f1",v),B("n1","f1",v),B("n2","f2",v),B("n3","f3",v),B("n4","f4",v),B("p","n1",E),B("p","n2",E),B("p","n3",E),B("p","n4",E),B("u1","u2",_),B("u2","u3",_),B("u3","u1",_),B("c","t",k),B("p","c",R),B("cn1","cn2",R),B("cn3","cn4",R),B("cf1","cf2",R),B("cf3","cf4",R);function B(F,H,U){M(F,U),M(H,U)}function M(F,H){c.push(0,0,0),p.push(H.r,H.g,H.b),y[F]===void 0&&(y[F]=[]),y[F].push(c.length/3-1)}r.setAttribute("position",new $i(c,3)),r.setAttribute("color",new $i(p,3)),super(r,n),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=y,this.update()}update(){const t=this.geometry,r=this.pointMap,n=1,c=1;Js.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),no("c",r,t,Js,0,0,-1),no("t",r,t,Js,0,0,1),no("n1",r,t,Js,-n,-c,-1),no("n2",r,t,Js,n,-c,-1),no("n3",r,t,Js,-n,c,-1),no("n4",r,t,Js,n,c,-1),no("f1",r,t,Js,-n,-c,1),no("f2",r,t,Js,n,-c,1),no("f3",r,t,Js,-n,c,1),no("f4",r,t,Js,n,c,1),no("u1",r,t,Js,n*.7,c*1.1,-1),no("u2",r,t,Js,-n*.7,c*1.1,-1),no("u3",r,t,Js,0,c*2,-1),no("cf1",r,t,Js,-n,0,1),no("cf2",r,t,Js,n,0,1),no("cf3",r,t,Js,0,-c,1),no("cf4",r,t,Js,0,c,1),no("cn1",r,t,Js,-n,0,-1),no("cn2",r,t,Js,n,0,-1),no("cn3",r,t,Js,0,-c,-1),no("cn4",r,t,Js,0,c,-1),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function no(a,t,r,n,c,p,y){iv.set(c,p,y).unproject(n);const v=t[a];if(v!==void 0){const E=r.getAttribute("position");for(let _=0,k=v.length;_<k;_++)E.setXYZ(v[_],iv.x,iv.y,iv.z)}}const nv=new na;class SR extends Pa{constructor(t,r=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),c=new Float32Array(8*3),p=new wn;p.setIndex(new d0(n,1)),p.setAttribute("position",new d0(c,3)),super(p,new uo({color:r,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(t){if(t!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&nv.setFromObject(this.object),nv.isEmpty())return;const r=nv.min,n=nv.max,c=this.geometry.attributes.position,p=c.array;p[0]=n.x,p[1]=n.y,p[2]=n.z,p[3]=r.x,p[4]=n.y,p[5]=n.z,p[6]=r.x,p[7]=r.y,p[8]=n.z,p[9]=n.x,p[10]=r.y,p[11]=n.z,p[12]=n.x,p[13]=n.y,p[14]=r.z,p[15]=r.x,p[16]=n.y,p[17]=r.z,p[18]=r.x,p[19]=r.y,p[20]=r.z,p[21]=n.x,p[22]=r.y,p[23]=r.z,c.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t){return Pa.prototype.copy.call(this,t),this.object=t.object,this}}class TR extends Pa{constructor(t,r=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),c=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],p=new wn;p.setIndex(new d0(n,1)),p.setAttribute("position",new $i(c,3)),super(p,new uo({color:r,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const r=this.box;r.isEmpty()||(r.getCenter(this.position),r.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}}class PQ extends _o{constructor(t,r=1,n=16776960){const c=n,p=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],y=new wn;y.setAttribute("position",new $i(p,3)),y.computeBoundingSphere(),super(y,new uo({color:c,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=r;const v=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],E=new wn;E.setAttribute("position",new $i(v,3)),E.computeBoundingSphere(),this.add(new Kr(E,new Us({color:c,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){let r=-this.plane.constant;Math.abs(r)<1e-8&&(r=1e-8),this.scale.set(.5*this.size,.5*this.size,r),this.children[0].material.side=r<0?Ja:_h,this.lookAt(this.plane.normal),super.updateMatrixWorld(t)}}const sT=new wt;let sv,Hx;class NQ extends Rn{constructor(t=new wt(0,0,1),r=new wt(0,0,0),n=1,c=16776960,p=n*.2,y=p*.2){super(),this.type="ArrowHelper",sv===void 0&&(sv=new wn,sv.setAttribute("position",new $i([0,0,0,0,1,0],3)),Hx=new As(0,.5,1,5,1),Hx.translate(0,-.5,0)),this.position.copy(r),this.line=new _o(sv,new uo({color:c,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Kr(Hx,new Us({color:c,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,p,y)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{sT.set(t.z,0,-t.x).normalize();const r=Math.acos(t.y);this.quaternion.setFromAxisAngle(sT,r)}}setLength(t,r=t*.2,n=r*.2){this.line.scale.set(1,Math.max(1e-4,t-r),1),this.line.updateMatrix(),this.cone.scale.set(n,r,n),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}}class MR extends Pa{constructor(t=1){const r=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],c=new wn;c.setAttribute("position",new $i(r,3)),c.setAttribute("color",new $i(n,3));const p=new uo({vertexColors:!0,toneMapped:!1});super(c,p),this.type="AxesHelper"}setColors(t,r,n){const c=new _i,p=this.geometry.attributes.color.array;return c.set(t),c.toArray(p,0),c.toArray(p,3),c.set(r),c.toArray(p,6),c.toArray(p,9),c.set(n),c.toArray(p,12),c.toArray(p,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class FQ{constructor(){this.type="ShapePath",this.color=new _i,this.subPaths=[],this.currentPath=null}moveTo(t,r){return this.currentPath=new Qp,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,r),this}lineTo(t,r){return this.currentPath.lineTo(t,r),this}quadraticCurveTo(t,r,n,c){return this.currentPath.quadraticCurveTo(t,r,n,c),this}bezierCurveTo(t,r,n,c,p,y){return this.currentPath.bezierCurveTo(t,r,n,c,p,y),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t,r){function n(K){const fe=[];for(let oe=0,we=K.length;oe<we;oe++){const be=K[oe],ve=new If;ve.curves=be.curves,fe.push(ve)}return fe}function c(K,fe){const oe=fe.length;let we=!1;for(let be=oe-1,ve=0;ve<oe;be=ve++){let ne=fe[be],ae=fe[ve],ye=ae.x-ne.x,de=ae.y-ne.y;if(Math.abs(de)>Number.EPSILON){if(de<0&&(ne=fe[ve],ye=-ye,ae=fe[be],de=-de),K.y<ne.y||K.y>ae.y)continue;if(K.y===ne.y){if(K.x===ne.x)return!0}else{const xe=de*(K.x-ne.x)-ye*(K.y-ne.y);if(xe===0)return!0;if(xe<0)continue;we=!we}}else{if(K.y!==ne.y)continue;if(ae.x<=K.x&&K.x<=ne.x||ne.x<=K.x&&K.x<=ae.x)return!0}}return we}const p=gu.isClockWise,y=this.subPaths;if(y.length===0)return[];if(r===!0)return n(y);let v,E,_;const k=[];if(y.length===1)return E=y[0],_=new If,_.curves=E.curves,k.push(_),k;let R=!p(y[0].getPoints());R=t?!R:R;const B=[],M=[];let F=[],H=0,U;M[H]=void 0,F[H]=[];for(let K=0,fe=y.length;K<fe;K++)E=y[K],U=E.getPoints(),v=p(U),v=t?!v:v,v?(!R&&M[H]&&H++,M[H]={s:new If,p:U},M[H].s.curves=E.curves,R&&H++,F[H]=[]):F[H].push({h:E,p:U[0]});if(!M[0])return n(y);if(M.length>1){let K=!1,fe=0;for(let oe=0,we=M.length;oe<we;oe++)B[oe]=[];for(let oe=0,we=M.length;oe<we;oe++){const be=F[oe];for(let ve=0;ve<be.length;ve++){const ne=be[ve];let ae=!0;for(let ye=0;ye<M.length;ye++)c(ne.p,M[ye].p)&&(oe!==ye&&fe++,ae?(ae=!1,B[ye].push(ne)):K=!0);ae&&B[oe].push(ne)}}fe>0&&K===!1&&(F=B)}let Z;for(let K=0,fe=M.length;K<fe;K++){_=M[K].s,k.push(_),Z=F[K];for(let oe=0,we=Z.length;oe<we;oe++)_.holes.push(Z[oe].h)}return k}}class OQ{static toHalfFloat(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=ao(t,-65504,65504),oT[0]=t;const r=aT[0],n=r>>23&511;return xf[n]+((r&8388607)>>Ef[n])}static fromHalfFloat(t){const r=t>>10;return aT[0]=N8[DR[r]+(t&1023)]+x1[r],oT[0]}}const RR=new ArrayBuffer(4),oT=new Float32Array(RR),aT=new Uint32Array(RR),xf=new Uint32Array(512),Ef=new Uint32Array(512);for(let a=0;a<256;++a){const t=a-127;t<-27?(xf[a]=0,xf[a|256]=32768,Ef[a]=24,Ef[a|256]=24):t<-14?(xf[a]=1024>>-t-14,xf[a|256]=1024>>-t-14|32768,Ef[a]=-t-1,Ef[a|256]=-t-1):t<=15?(xf[a]=t+15<<10,xf[a|256]=t+15<<10|32768,Ef[a]=13,Ef[a|256]=13):t<128?(xf[a]=31744,xf[a|256]=64512,Ef[a]=24,Ef[a|256]=24):(xf[a]=31744,xf[a|256]=64512,Ef[a]=13,Ef[a|256]=13)}const N8=new Uint32Array(2048),x1=new Uint32Array(64),DR=new Uint32Array(64);for(let a=1;a<1024;++a){let t=a<<13,r=0;for(;(t&8388608)===0;)t<<=1,r-=8388608;t&=-8388609,r+=947912704,N8[a]=t|r}for(let a=1024;a<2048;++a)N8[a]=939524096+(a-1024<<13);for(let a=1;a<31;++a)x1[a]=a<<23;x1[31]=1199570944;x1[32]=2147483648;for(let a=33;a<63;++a)x1[a]=2147483648+(a-32<<23);x1[63]=3347054592;for(let a=1;a<64;++a)a!==32&&(DR[a]=1024);const HQ=0,UQ=1,VQ=0,jQ=1,GQ=2;function zQ(a){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),a}function WQ(a=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),a.isMultiMaterial=!0,a.materials=a,a.clone=function(){return a.slice()},a}class QQ extends w1{constructor(t,r){console.warn("THREE.PointCloud has been renamed to THREE.Points."),super(t,r)}}class JQ extends Mf{constructor(t){console.warn("THREE.Particle has been renamed to THREE.Sprite."),super(t)}}class XQ extends w1{constructor(t,r){console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),super(t,r)}}class qQ extends pc{constructor(t){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),super(t)}}class ZQ extends pc{constructor(t){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),super(t)}}class YQ extends pc{constructor(t){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),super(t)}}class KQ extends wt{constructor(t,r,n){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),super(t,r,n)}}class $Q extends d0{constructor(t,r){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),super(t,r),this.setUsage(zp)}}class eJ extends T7{constructor(t,r){console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),super(t,r)}}class tJ extends M7{constructor(t,r){console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),super(t,r)}}class rJ extends R7{constructor(t,r){console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),super(t,r)}}class iJ extends D7{constructor(t,r){console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),super(t,r)}}class nJ extends Rw{constructor(t,r){console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),super(t,r)}}class sJ extends B7{constructor(t,r){console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),super(t,r)}}class oJ extends Dw{constructor(t,r){console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),super(t,r)}}class aJ extends $i{constructor(t,r){console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),super(t,r)}}class lJ extends L7{constructor(t,r){console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),super(t,r)}}Ml.create=function(a,t){return console.log("THREE.Curve.create() has been deprecated"),a.prototype=Object.create(Ml.prototype),a.prototype.constructor=a,a.prototype.getPoint=t,a};Qp.prototype.fromPoints=function(a){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(a)};class fJ extends MR{constructor(t){console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),super(t)}}class uJ extends SR{constructor(t,r){console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),super(t,r)}}class cJ extends Pa{constructor(t,r){console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),super(new c8(t.geometry),new uo({color:r!==void 0?r:16777215}))}}ow.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};sw.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};class hJ extends Pa{constructor(t,r){console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),super(new h8(t.geometry),new uo({color:r!==void 0?r:16777215}))}}ya.prototype.extractUrlBase=function(a){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Sl.extractUrlBase(a)};ya.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};class dJ extends Na{constructor(t){console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),super(t)}}class pJ extends A8{constructor(t){console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),super(t)}}A1.prototype.center=function(a){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(a)};A1.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};A1.prototype.isIntersectionBox=function(a){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(a)};A1.prototype.size=function(a){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(a)};na.prototype.center=function(a){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(a)};na.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};na.prototype.isIntersectionBox=function(a){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(a)};na.prototype.isIntersectionSphere=function(a){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(a)};na.prototype.size=function(a){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(a)};lo.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")};Mu.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};qg.prototype.setFromMatrix=function(a){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(a)};wR.prototype.center=function(a){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(a)};Zs.prototype.flattenToArrayOffset=function(a,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(a,t)};Zs.prototype.multiplyVector3=function(a){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),a.applyMatrix3(this)};Zs.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Zs.prototype.applyToBufferAttribute=function(a){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),a.applyMatrix3(this)};Zs.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Zs.prototype.getInverse=function(a){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(a).invert()};Ji.prototype.extractPosition=function(a){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(a)};Ji.prototype.flattenToArrayOffset=function(a,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(a,t)};Ji.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new wt().setFromMatrixColumn(this,3)};Ji.prototype.setRotationFromQuaternion=function(a){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(a)};Ji.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Ji.prototype.multiplyVector3=function(a){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),a.applyMatrix4(this)};Ji.prototype.multiplyVector4=function(a){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),a.applyMatrix4(this)};Ji.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Ji.prototype.rotateAxis=function(a){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),a.transformDirection(this)};Ji.prototype.crossVector=function(a){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),a.applyMatrix4(this)};Ji.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Ji.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Ji.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Ji.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Ji.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Ji.prototype.applyToBufferAttribute=function(a){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),a.applyMatrix4(this)};Ji.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Ji.prototype.makeFrustum=function(a,t,r,n,c,p){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(a,t,n,r,c,p)};Ji.prototype.getInverse=function(a){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(a).invert()};cu.prototype.isIntersectionLine=function(a){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(a)};L0.prototype.multiplyVector3=function(a){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),a.applyQuaternion(this)};L0.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};Nh.prototype.isIntersectionBox=function(a){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(a)};Nh.prototype.isIntersectionPlane=function(a){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(a)};Nh.prototype.isIntersectionSphere=function(a){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(a)};fo.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};fo.prototype.barycoordFromPoint=function(a,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(a,t)};fo.prototype.midpoint=function(a){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(a)};fo.prototypenormal=function(a){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(a)};fo.prototype.plane=function(a){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(a)};fo.barycoordFromPoint=function(a,t,r,n,c){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),fo.getBarycoord(a,t,r,n,c)};fo.normal=function(a,t,r,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),fo.getNormal(a,t,r,n)};If.prototype.extractAllPoints=function(a){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(a)};If.prototype.extrude=function(a){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Pf(this,a)};If.prototype.makeGeometry=function(a){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Zd(this,a)};$r.prototype.fromAttribute=function(a,t,r){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(a,t,r)};$r.prototype.distanceToManhattan=function(a){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(a)};$r.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};wt.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};wt.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};wt.prototype.getPositionFromMatrix=function(a){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(a)};wt.prototype.getScaleFromMatrix=function(a){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(a)};wt.prototype.getColumnFromMatrix=function(a,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,a)};wt.prototype.applyProjection=function(a){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(a)};wt.prototype.fromAttribute=function(a,t,r){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(a,t,r)};wt.prototype.distanceToManhattan=function(a){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(a)};wt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};j0.prototype.fromAttribute=function(a,t,r){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(a,t,r)};j0.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Rn.prototype.getChildByName=function(a){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(a)};Rn.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};Rn.prototype.translate=function(a,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,a)};Rn.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};Rn.prototype.applyMatrix=function(a){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(a)};Object.defineProperties(Rn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(a){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=a}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Kr.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(Kr.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),y7},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Zg.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};ko.prototype.setLens=function(a,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),t!==void 0&&(this.filmGauge=t),this.setFocalLength(a)};Object.defineProperties(Ff.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(a){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=a}},shadowCameraLeft:{set:function(a){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=a}},shadowCameraRight:{set:function(a){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=a}},shadowCameraTop:{set:function(a){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=a}},shadowCameraBottom:{set:function(a){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=a}},shadowCameraNear:{set:function(a){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=a}},shadowCameraFar:{set:function(a){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=a}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(a){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=a}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(a){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=a}},shadowMapHeight:{set:function(a){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=a}}});Object.defineProperties(d0.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===zp},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(zp)}}});d0.prototype.setDynamic=function(a){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(a===!0?zp:Gp),this};d0.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},d0.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};wn.prototype.addIndex=function(a){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(a)};wn.prototype.addAttribute=function(a,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(t&&t.isBufferAttribute)&&!(t&&t.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(a,new d0(arguments[1],arguments[2]))):a==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(a,t)};wn.prototype.addDrawCall=function(a,t,r){r!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(a,t)};wn.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};wn.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};wn.prototype.removeAttribute=function(a){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(a)};wn.prototype.applyMatrix=function(a){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(a)};Object.defineProperties(wn.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Oh.prototype.setDynamic=function(a){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(a===!0?zp:Gp),this};Oh.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Pf.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};Pf.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};Pf.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};Mh.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};Xw.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(Ds.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new _i}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(a){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=a===JE}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(a){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=a}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(Tl.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(a){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=a}}});G0.prototype.clearTarget=function(a,t,r,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(a),this.clear(t,r,n)};G0.prototype.animate=function(a){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(a)};G0.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};G0.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};G0.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};G0.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};G0.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};G0.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};G0.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};G0.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};G0.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};G0.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};G0.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};G0.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};G0.prototype.enableScissorTest=function(a){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(a)};G0.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};G0.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};G0.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};G0.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};G0.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};G0.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};G0.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};G0.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};G0.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};G0.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(G0.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=a}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=a}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(a){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=a===!0?b0:lc}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(G7.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});class mJ extends Iw{constructor(t,r,n){console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),super(t,n)}}Object.defineProperties(Ra.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=a}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=a}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=a}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=a}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(a){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=a}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(a){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=a}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(a){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=a}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(a){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=a}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(a){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=a}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(a){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=a}}});Jw.prototype.load=function(a){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return new D8().load(a,function(n){t.setBuffer(n)}),this};pR.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};Bw.prototype.updateCubeMap=function(a,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(a,t)};Bw.prototype.clear=function(a,t,r,n){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(a,t,r,n)};Ph.crossOrigin=void 0;Ph.loadTexture=function(a,t,r,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const c=new x8;c.setCrossOrigin(this.crossOrigin);const p=c.load(a,r,void 0,n);return t&&(p.mapping=t),p};Ph.loadTextureCube=function(a,t,r,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const c=new sR;c.setCrossOrigin(this.crossOrigin);const p=c.load(a,r,void 0,n);return t&&(p.mapping=t),p};Ph.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Ph.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function gJ(){console.error("THREE.CanvasRenderer has been removed")}function bJ(){console.error("THREE.JSONLoader has been removed.")}const yJ={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function vJ(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}class wJ extends wn{constructor(){console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),super()}}class AJ extends wn{constructor(){console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),super()}}function xJ(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function EJ(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function _J(){console.error("THREE.ImmediateRenderObject has been removed.")}class kJ extends Ra{constructor(t,r,n){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(t,r,n),this.samples=4}}class CJ extends m1{constructor(t,r,n,c){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(t,r,n,c)}}class SJ extends Jg{constructor(t,r,n,c){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(t,r,n,c)}}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:_w}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=_w);var TJ=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:KM,AddEquation:Id,AddOperation:XM,AdditiveAnimationBlendMode:YE,AdditiveBlending:I5,AlphaFormat:s7,AlwaysDepth:ZE,AlwaysStencilFunc:A7,AmbientLight:k8,AmbientLightProbe:hR,AnimationClip:i1,AnimationLoader:mQ,AnimationMixer:P8,AnimationObjectGroup:gR,AnimationUtils:xs,ArcCurve:o8,ArrayCamera:i8,ArrowHelper:NQ,Audio:Jw,AudioAnalyser:pR,AudioContext:R8,AudioListener:dR,AudioLoader:D8,AxesHelper:MR,AxisHelper:fJ,BackSide:Ja,BasicDepthPacking:$E,BasicShadowMap:cU,BinaryTextureLoader:pJ,Bone:Yg,BooleanKeyframeTrack:o2,BoundingBoxHelper:uJ,Box2:A1,Box3:na,Box3Helper:TR,BoxBufferGeometry:fs,BoxGeometry:fs,BoxHelper:SR,BufferAttribute:d0,BufferGeometry:wn,BufferGeometryLoader:uR,ByteType:e7,Cache:Yd,Camera:Xg,CameraHelper:CR,CanvasRenderer:gJ,CanvasTexture:$g,CapsuleBufferGeometry:Jp,CapsuleGeometry:Jp,CatmullRomCurve3:l8,CineonToneMapping:YM,CircleBufferGeometry:Xp,CircleGeometry:Xp,ClampToEdgeWrapping:ma,Clock:B8,Color:_i,ColorKeyframeTrack:w8,ColorManagement:Gl,CompressedTexture:s8,CompressedTextureLoader:gQ,ConeBufferGeometry:Rh,ConeGeometry:Rh,CubeCamera:Bw,CubeReflectionMapping:kh,CubeRefractionMapping:Ch,CubeTexture:g1,CubeTextureLoader:sR,CubeUVReflectionMapping:p1,CubicBezierCurve:Hw,CubicBezierCurve3:f8,CubicInterpolant:tR,CullFaceBack:B5,CullFaceFront:SM,CullFaceFrontBack:uU,CullFaceNone:CM,Curve:Ml,CurvePath:Y7,CustomBlending:MM,CustomToneMapping:$M,CylinderBufferGeometry:As,CylinderGeometry:As,Cylindrical:BQ,Data3DTexture:Jg,DataArrayTexture:m1,DataTexture:jd,DataTexture2DArray:CJ,DataTexture3D:SJ,DataTextureLoader:A8,DataUtils:OQ,DecrementStencilOp:AU,DecrementWrapStencilOp:EU,DefaultLoadingManager:nR,DepthFormat:wh,DepthStencilFormat:Qd,DepthTexture:n8,DirectionalLight:ib,DirectionalLightHelper:kR,DiscreteInterpolant:rR,DodecahedronBufferGeometry:qp,DodecahedronGeometry:qp,DoubleSide:Lf,DstAlphaFactor:NM,DstColorFactor:OM,DynamicBufferAttribute:$Q,DynamicCopyUsage:FU,DynamicDrawUsage:zp,DynamicReadUsage:LU,EdgesGeometry:c8,EdgesHelper:cJ,EllipseCurve:eb,EqualDepth:GM,EqualStencilFunc:SU,EquirectangularReflectionMapping:Wd,EquirectangularRefractionMapping:Sg,Euler:lo,EventDispatcher:dc,ExtrudeBufferGeometry:Pf,ExtrudeGeometry:Pf,FaceColors:jQ,FileLoader:Na,FlatShading:JE,Float16BufferAttribute:I7,Float32Attribute:aJ,Float32BufferAttribute:$i,Float64Attribute:lJ,Float64BufferAttribute:L7,FloatType:ic,Fog:v1,FogExp2:y1,Font:EJ,FontLoader:xJ,FramebufferTexture:q7,FrontSide:_h,Frustum:qg,GLBufferAttribute:yR,GLSL1:HU,GLSL3:sE,GreaterDepth:WM,GreaterEqualDepth:zM,GreaterEqualStencilFunc:DU,GreaterStencilFunc:MU,GridHelper:ow,Group:xl,HalfFloatType:Vp,HemisphereLight:E8,HemisphereLightHelper:_R,HemisphereLightProbe:cR,IcosahedronBufferGeometry:Zp,IcosahedronGeometry:Zp,ImageBitmapLoader:M8,ImageLoader:Ng,ImageUtils:Ph,ImmediateRenderObject:_J,IncrementStencilOp:wU,IncrementWrapStencilOp:xU,InstancedBufferAttribute:Xd,InstancedBufferGeometry:T8,InstancedInterleavedBuffer:bR,InstancedMesh:Fw,Int16Attribute:iJ,Int16BufferAttribute:D7,Int32Attribute:sJ,Int32BufferAttribute:B7,Int8Attribute:eJ,Int8BufferAttribute:T7,IntType:r7,InterleavedBuffer:Oh,InterleavedBufferAttribute:fc,Interpolant:xu,InterpolateDiscrete:jp,InterpolateLinear:Jd,InterpolateSmooth:Bv,InvertStencilOp:_U,JSONLoader:bJ,KeepStencilOp:Iv,KeyframeTrack:Hf,LOD:J7,LatheBufferGeometry:qd,LatheGeometry:qd,Layers:Mw,LensFlare:vJ,LessDepth:jM,LessEqualDepth:tw,LessEqualStencilFunc:TU,LessStencilFunc:CU,Light:Ff,LightProbe:nb,Line:_o,Line3:wR,LineBasicMaterial:uo,LineCurve:tb,LineCurve3:Z7,LineDashedMaterial:Ww,LineLoop:Ow,LinePieces:UQ,LineSegments:Pa,LineStrip:HQ,LinearEncoding:lc,LinearFilter:Es,LinearInterpolant:v8,LinearMipMapLinearFilter:gU,LinearMipMapNearestFilter:mU,LinearMipmapLinearFilter:Tu,LinearMipmapNearestFilter:Sw,LinearSRGBColorSpace:bh,LinearToneMapping:qM,Loader:ya,LoaderUtils:Sl,LoadingManager:l2,LoopOnce:m7,LoopPingPong:b7,LoopRepeat:g7,LuminanceAlphaFormat:l7,LuminanceFormat:a7,MOUSE:lU,Material:Ds,MaterialLoader:fR,Math:Cf,MathUtils:Cf,Matrix3:Zs,Matrix4:Ji,MaxEquation:F5,Mesh:Kr,MeshBasicMaterial:Us,MeshDepthMaterial:Pw,MeshDistanceMaterial:Nw,MeshFaceMaterial:zQ,MeshLambertMaterial:b8,MeshMatcapMaterial:y8,MeshNormalMaterial:g8,MeshPhongMaterial:p8,MeshPhysicalMaterial:Ru,MeshStandardMaterial:q0,MeshToonMaterial:m8,MinEquation:N5,MirroredRepeatWrapping:Hp,MixOperation:JM,MultiMaterial:WQ,MultiplyBlending:P5,MultiplyOperation:Qg,NearestFilter:oo,NearestMipMapLinearFilter:pU,NearestMipMapNearestFilter:dU,NearestMipmapLinearFilter:Mg,NearestMipmapNearestFilter:Tg,NeverDepth:VM,NeverStencilFunc:kU,NoBlending:sc,NoColorSpace:bU,NoColors:VQ,NoToneMapping:Bf,NormalAnimationBlendMode:Tw,NormalBlending:Od,NotEqualDepth:QM,NotEqualStencilFunc:RU,NumberKeyframeTrack:t1,Object3D:Rn,ObjectLoader:Hh,ObjectSpaceNormalMap:w7,OctahedronBufferGeometry:Rf,OctahedronGeometry:Rf,OneFactor:IM,OneMinusDstAlphaFactor:FM,OneMinusDstColorFactor:HM,OneMinusSrcAlphaFactor:qE,OneMinusSrcColorFactor:PM,OrthographicCamera:Fh,PCFShadowMap:kw,PCFSoftShadowMap:TM,PMREMGenerator:nw,ParametricGeometry:wJ,Particle:JQ,ParticleBasicMaterial:ZQ,ParticleSystem:XQ,ParticleSystemMaterial:YQ,Path:Qp,PerspectiveCamera:ko,Plane:cu,PlaneBufferGeometry:Lo,PlaneGeometry:Lo,PlaneHelper:PQ,PointCloud:QQ,PointCloudMaterial:qQ,PointLight:rb,PointLightHelper:ER,Points:w1,PointsMaterial:pc,PolarGridHelper:LQ,PolyhedronBufferGeometry:Au,PolyhedronGeometry:Au,PositionalAudio:AQ,PropertyBinding:k0,PropertyMixer:mR,QuadraticBezierCurve:Uw,QuadraticBezierCurve3:Vw,Quaternion:L0,QuaternionKeyframeTrack:Bh,QuaternionLinearInterpolant:iR,REVISION:_w,RGBADepthPacking:e8,RGBAFormat:Al,RGBAIntegerFormat:d7,RGBA_ASTC_10x10_Format:tE,RGBA_ASTC_10x5_Format:K5,RGBA_ASTC_10x6_Format:$5,RGBA_ASTC_10x8_Format:eE,RGBA_ASTC_12x10_Format:rE,RGBA_ASTC_12x12_Format:iE,RGBA_ASTC_4x4_Format:z5,RGBA_ASTC_5x4_Format:W5,RGBA_ASTC_5x5_Format:Q5,RGBA_ASTC_6x5_Format:J5,RGBA_ASTC_6x6_Format:X5,RGBA_ASTC_8x5_Format:q5,RGBA_ASTC_8x6_Format:Z5,RGBA_ASTC_8x8_Format:Y5,RGBA_BPTC_Format:nE,RGBA_ETC2_EAC_Format:G5,RGBA_PVRTC_2BPPV1_Format:V5,RGBA_PVRTC_4BPPV1_Format:U5,RGBA_S3TC_DXT1_Format:Mv,RGBA_S3TC_DXT3_Format:Rv,RGBA_S3TC_DXT5_Format:Dv,RGBFormat:o7,RGB_ETC1_Format:p7,RGB_ETC2_Format:j5,RGB_PVRTC_2BPPV1_Format:H5,RGB_PVRTC_4BPPV1_Format:O5,RGB_S3TC_DXT1_Format:Tv,RGFormat:c7,RGIntegerFormat:h7,RawShaderMaterial:zw,Ray:Nh,Raycaster:sb,RectAreaLight:C8,RedFormat:f7,RedIntegerFormat:u7,ReinhardToneMapping:ZM,RepeatWrapping:Sh,ReplaceStencilOp:vU,ReverseSubtractEquation:DM,RingBufferGeometry:Yp,RingGeometry:Yp,SRGBColorSpace:lu,Scene:Mh,SceneUtils:yJ,ShaderChunk:a0,ShaderLib:Tf,ShaderMaterial:Tl,ShadowMaterial:d8,Shape:If,ShapeBufferGeometry:Zd,ShapeGeometry:Zd,ShapePath:FQ,ShapeUtils:gu,ShortType:t7,Skeleton:Kg,SkeletonHelper:sw,SkinnedMesh:Zg,SmoothShading:hU,Source:yh,Sphere:Mu,SphereBufferGeometry:Nf,SphereGeometry:Nf,Spherical:vR,SphericalHarmonics3:S8,SplineCurve:jw,SpotLight:Qw,SpotLightHelper:AR,Sprite:Mf,SpriteMaterial:s2,SrcAlphaFactor:XE,SrcAlphaSaturateFactor:UM,SrcColorFactor:LM,StaticCopyUsage:NU,StaticDrawUsage:Gp,StaticReadUsage:IU,StereoCamera:yQ,StreamCopyUsage:OU,StreamDrawUsage:BU,StreamReadUsage:PU,StringKeyframeTrack:a2,SubtractEquation:RM,SubtractiveBlending:L5,TOUCH:fU,TangentSpaceNormalMap:n2,TetrahedronBufferGeometry:Kp,TetrahedronGeometry:Kp,TextGeometry:AJ,Texture:Z0,TextureLoader:x8,TorusBufferGeometry:ql,TorusGeometry:ql,TorusKnotBufferGeometry:$p,TorusKnotGeometry:$p,Triangle:fo,TriangleFanDrawMode:KE,TriangleStripDrawMode:v7,TrianglesDrawMode:y7,TubeBufferGeometry:e1,TubeGeometry:e1,UVMapping:Cw,Uint16Attribute:nJ,Uint16BufferAttribute:Rw,Uint32Attribute:oJ,Uint32BufferAttribute:Dw,Uint8Attribute:tJ,Uint8BufferAttribute:M7,Uint8ClampedAttribute:rJ,Uint8ClampedBufferAttribute:R7,Uniform:Xw,UniformsLib:Oi,UniformsUtils:P7,UnsignedByteType:Th,UnsignedInt248Type:Hd,UnsignedIntType:gg,UnsignedShort4444Type:i7,UnsignedShort5551Type:n7,UnsignedShortType:Up,VSMShadowMap:xp,Vector2:$r,Vector3:wt,Vector4:j0,VectorKeyframeTrack:r1,Vertex:KQ,VertexColors:GQ,VideoTexture:X7,WebGL1Renderer:W7,WebGL3DRenderTarget:C7,WebGLArrayRenderTarget:k7,WebGLCubeRenderTarget:Iw,WebGLMultipleRenderTargets:S7,WebGLMultisampleRenderTarget:kJ,WebGLRenderTarget:Ra,WebGLRenderTargetCube:mJ,WebGLRenderer:G0,WebGLUtils:z7,WireframeGeometry:h8,WireframeHelper:hJ,WrapAroundEnding:Rg,XHRLoader:dJ,ZeroCurvatureEnding:Nd,ZeroFactor:BM,ZeroSlopeEnding:Fd,ZeroStencilOp:yU,_SRGBAFormat:rw,sRGBEncoding:b0},Symbol.toStringTag,{value:"Module"}));function MJ(){const a="room-maker",t={language:"en",autosave:!0,"project/title":"","project/editable":!1,"project/vr":!1,"project/renderer/antialias":!0,"project/renderer/shadows":!0,"project/renderer/shadowType":1,"project/renderer/physicallyCorrectLights":!1,"project/renderer/toneMapping":0,"project/renderer/toneMappingExposure":1,"settings/history":!1,"settings/shortcuts/translate":"w","settings/shortcuts/rotate":"e","settings/shortcuts/scale":"r","settings/shortcuts/undo":"z","settings/shortcuts/copy":"c","settings/shortcuts/focus":"f","settings/shortcuts/download":"o","settings/shortcuts/upload":"p","settings/shortcuts/multipleSelect":"Shift"};if(window.localStorage[a]===void 0)window.localStorage[a]=JSON.stringify(t);else{const r=JSON.parse(window.localStorage[a]);for(const n in r)t[n]=r[n]}return{getKey:function(r){return t[r]},setKey:function(){for(let r=0,n=arguments.length;r<n;r+=2)t[arguments[r]]=arguments[r+1];window.localStorage[a]=JSON.stringify(t)},clear:function(){delete window.localStorage[a]}}}class BR extends A8{constructor(t){super(t)}parse(t){function r(me){switch(me.image_type){case B:case H:(me.colormap_length>256||me.colormap_size!==24||me.colormap_type!==1)&&console.error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case M:case F:case U:case Z:me.colormap_type&&console.error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case R:console.error("THREE.TGALoader: No data.");default:console.error('THREE.TGALoader: Invalid type "%s".',me.image_type)}(me.width<=0||me.height<=0)&&console.error("THREE.TGALoader: Invalid image size."),me.pixel_size!==8&&me.pixel_size!==16&&me.pixel_size!==24&&me.pixel_size!==32&&console.error('THREE.TGALoader: Invalid pixel size "%s".',me.pixel_size)}function n(me,Re,Ie,Ne,Qe){let Ue,ce;const Me=Ie.pixel_size>>3,ot=Ie.width*Ie.height*Me;if(Re&&(ce=Qe.subarray(Ne,Ne+=Ie.colormap_length*(Ie.colormap_size>>3))),me){Ue=new Uint8Array(ot);let Se,Xe,ct,$e=0;const Et=new Uint8Array(Me);for(;$e<ot;)if(Se=Qe[Ne++],Xe=(Se&127)+1,Se&128){for(ct=0;ct<Me;++ct)Et[ct]=Qe[Ne++];for(ct=0;ct<Xe;++ct)Ue.set(Et,$e+ct*Me);$e+=Me*Xe}else{for(Xe*=Me,ct=0;ct<Xe;++ct)Ue[$e+ct]=Qe[Ne++];$e+=Xe}}else Ue=Qe.subarray(Ne,Ne+=Re?Ie.width*Ie.height:ot);return{pixel_data:Ue,palettes:ce}}function c(me,Re,Ie,Ne,Qe,Ue,ce,Me,ot){const Se=ot;let Xe,ct=0,$e,Et;const Dt=ye.width;for(Et=Re;Et!==Ne;Et+=Ie)for($e=Qe;$e!==ce;$e+=Ue,ct++)Xe=Me[ct],me[($e+Dt*Et)*4+3]=255,me[($e+Dt*Et)*4+2]=Se[Xe*3+0],me[($e+Dt*Et)*4+1]=Se[Xe*3+1],me[($e+Dt*Et)*4+0]=Se[Xe*3+2];return me}function p(me,Re,Ie,Ne,Qe,Ue,ce,Me){let ot,Se=0,Xe,ct;const $e=ye.width;for(ct=Re;ct!==Ne;ct+=Ie)for(Xe=Qe;Xe!==ce;Xe+=Ue,Se+=2)ot=Me[Se+0]+(Me[Se+1]<<8),me[(Xe+$e*ct)*4+0]=(ot&31744)>>7,me[(Xe+$e*ct)*4+1]=(ot&992)>>2,me[(Xe+$e*ct)*4+2]=(ot&31)<<3,me[(Xe+$e*ct)*4+3]=ot&32768?0:255;return me}function y(me,Re,Ie,Ne,Qe,Ue,ce,Me){let ot=0,Se,Xe;const ct=ye.width;for(Xe=Re;Xe!==Ne;Xe+=Ie)for(Se=Qe;Se!==ce;Se+=Ue,ot+=3)me[(Se+ct*Xe)*4+3]=255,me[(Se+ct*Xe)*4+2]=Me[ot+0],me[(Se+ct*Xe)*4+1]=Me[ot+1],me[(Se+ct*Xe)*4+0]=Me[ot+2];return me}function v(me,Re,Ie,Ne,Qe,Ue,ce,Me){let ot=0,Se,Xe;const ct=ye.width;for(Xe=Re;Xe!==Ne;Xe+=Ie)for(Se=Qe;Se!==ce;Se+=Ue,ot+=4)me[(Se+ct*Xe)*4+2]=Me[ot+0],me[(Se+ct*Xe)*4+1]=Me[ot+1],me[(Se+ct*Xe)*4+0]=Me[ot+2],me[(Se+ct*Xe)*4+3]=Me[ot+3];return me}function E(me,Re,Ie,Ne,Qe,Ue,ce,Me){let ot,Se=0,Xe,ct;const $e=ye.width;for(ct=Re;ct!==Ne;ct+=Ie)for(Xe=Qe;Xe!==ce;Xe+=Ue,Se++)ot=Me[Se],me[(Xe+$e*ct)*4+0]=ot,me[(Xe+$e*ct)*4+1]=ot,me[(Xe+$e*ct)*4+2]=ot,me[(Xe+$e*ct)*4+3]=255;return me}function _(me,Re,Ie,Ne,Qe,Ue,ce,Me){let ot=0,Se,Xe;const ct=ye.width;for(Xe=Re;Xe!==Ne;Xe+=Ie)for(Se=Qe;Se!==ce;Se+=Ue,ot+=2)me[(Se+ct*Xe)*4+0]=Me[ot+0],me[(Se+ct*Xe)*4+1]=Me[ot+0],me[(Se+ct*Xe)*4+2]=Me[ot+0],me[(Se+ct*Xe)*4+3]=Me[ot+1];return me}function k(me,Re,Ie,Ne,Qe){let Ue,ce,Me,ot,Se,Xe;switch((ye.flags&K)>>fe){default:case be:Ue=0,Me=1,Se=Re,ce=0,ot=1,Xe=Ie;break;case oe:Ue=0,Me=1,Se=Re,ce=Ie-1,ot=-1,Xe=-1;break;case ve:Ue=Re-1,Me=-1,Se=-1,ce=0,ot=1,Xe=Ie;break;case we:Ue=Re-1,Me=-1,Se=-1,ce=Ie-1,ot=-1,Xe=-1;break}if(le)switch(ye.pixel_size){case 8:E(me,ce,ot,Xe,Ue,Me,Se,Ne);break;case 16:_(me,ce,ot,Xe,Ue,Me,Se,Ne);break;default:console.error("THREE.TGALoader: Format not supported.");break}else switch(ye.pixel_size){case 8:c(me,ce,ot,Xe,Ue,Me,Se,Ne,Qe);break;case 16:p(me,ce,ot,Xe,Ue,Me,Se,Ne);break;case 24:y(me,ce,ot,Xe,Ue,Me,Se,Ne);break;case 32:v(me,ce,ot,Xe,Ue,Me,Se,Ne);break;default:console.error("THREE.TGALoader: Format not supported.");break}return me}const R=0,B=1,M=2,F=3,H=9,U=10,Z=11,K=48,fe=4,oe=0,we=1,be=2,ve=3;t.length<19&&console.error("THREE.TGALoader: Not enough data to contain header.");let ne=0;const ae=new Uint8Array(t),ye={id_length:ae[ne++],colormap_type:ae[ne++],image_type:ae[ne++],colormap_index:ae[ne++]|ae[ne++]<<8,colormap_length:ae[ne++]|ae[ne++]<<8,colormap_size:ae[ne++],origin:[ae[ne++]|ae[ne++]<<8,ae[ne++]|ae[ne++]<<8],width:ae[ne++]|ae[ne++]<<8,height:ae[ne++]|ae[ne++]<<8,pixel_size:ae[ne++],flags:ae[ne++]};r(ye),ye.id_length+ne>t.length&&console.error("THREE.TGALoader: No data."),ne+=ye.id_length;let de=!1,xe=!1,le=!1;switch(ye.image_type){case H:de=!0,xe=!0;break;case B:xe=!0;break;case U:de=!0;break;case M:break;case Z:de=!0,le=!0;break;case F:le=!0;break}const re=new Uint8Array(ye.width*ye.height*4),he=n(de,xe,ye,ne,ae);return k(re,ye.width,ye.height,he.pixel_data,he.palettes),{data:re,width:ye.width,height:ye.height,flipY:!0,generateMipmaps:!0,minFilter:Tu}}}class us{constructor(t){this.id=-1,this.inMemory=!1,this.updatable=!1,this.type="",this.name="",this.editor=t}toJSON(){const t={};return t.type=this.type,t.id=this.id,t.name=this.name,t}fromJSON(t){this.inMemory=!0,this.type=t.type,this.id=t.id,this.name=t.name}}class r0 extends us{constructor(t,r,n){super(t),this.type="AddObjectCommand",this.object=r,r!==void 0&&(this.name=`Add Object: ${r.name}`),n?(this.url=n,this.params=[]):(this.url="",this.params=[JSON.stringify(r.toJSON())])}execute(){var t;!["Exit","Entrance"].includes((t=this.object.userData)==null?void 0:t.type)&&!["DirectionalLight"].includes(this.object.type)&&(this.editor.addObject(this.object),this.editor.select(this.object))}undo(){this.editor.removeObject(this.object),this.editor.deselect()}toJSON(){const t=super.toJSON(this);return t.object=this.object.toJSON(),t}fromJSON(t){if(super.fromJSON(t),this.object=this.editor.objectByUuid(t.object.object.uuid),this.object===void 0){const r=new Hh;this.object=r.parse(t.object)}}}class F8 extends us{constructor(t,r,n){super(t),this.type="SetUuidCommand",this.name="Update UUID",this.object=r,this.oldUuid=r!==void 0?r.uuid:void 0,this.newUuid=n,this.params=[n]}execute(){this.object.uuid=this.newUuid,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.object.uuid=this.oldUuid,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.sceneGraphChanged.dispatch()}toJSON(){const t=super.toJSON(this);return t.oldUuid=this.oldUuid,t.newUuid=this.newUuid,t}fromJSON(t){super.fromJSON(t),this.oldUuid=t.oldUuid,this.newUuid=t.newUuid,this.object=this.editor.objectByUuid(t.oldUuid),this.object===void 0&&(this.object=this.editor.objectByUuid(t.newUuid))}}class ws extends us{constructor(t,r,n,c){super(t),this.type="SetValueCommand",this.name=`Set ${n}`,this.updatable=!0,this.object=r,this.attributeName=n,this.oldValue=r!==void 0?r[n]:void 0,this.newValue=c,this.params=[n,c]}execute(){this.object[this.attributeName]=this.newValue,this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.object[this.attributeName]=this.oldValue,this.editor.signals.objectChanged.dispatch(this.object)}update(t){this.newValue=t.newValue}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.attributeName=this.attributeName,t.oldValue=this.oldValue,t.newValue=this.newValue,t}fromJSON(t){super.fromJSON(t),this.attributeName=t.attributeName,this.oldValue=t.oldValue,this.newValue=t.newValue,this.object=this.editor.objectByUuid(t.objectUuid)}}class hE extends us{constructor(t,r,n){if(super(t),this.type="SetSceneCommand",this.name="Set Scene",this.cmdArray=[],r!==void 0)for(this.cmdArray.push(new F8(this.editor,this.editor.scene,r.uuid)),this.cmdArray.push(new ws(this.editor,this.editor.scene,"name",r.name)),this.cmdArray.push(new ws(this.editor,this.editor.scene,"userData",JSON.parse(JSON.stringify(r.userData))));r.children.length>0;){const c=r.children.pop();this.cmdArray.push(new r0(this.editor,c))}this.params=[],this.url=n}execute(){this.editor.signals.sceneGraphChanged.active=!1;for(let t=0;t<this.cmdArray.length;t++)this.cmdArray[t].execute();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.editor.signals.sceneGraphChanged.active=!1;for(let t=this.cmdArray.length-1;t>=0;t--)this.cmdArray[t].undo();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.sceneGraphChanged.dispatch()}toJSON(){const t=super.toJSON(this),r=[];for(let n=0;n<this.cmdArray.length;n++)r.push(this.cmdArray[n].toJSON());return t.cmds=r,t}fromJSON(t){super.fromJSON(t);const r=t.cmds;for(let n=0;n<r.length;n++){const c=new window[r[n].type];c.fromJSON(r[n]),this.cmdArray.push(c)}}}class xh extends us{constructor(t,r){super(t),this.type="RemoveObjectCommand",this.name="Remove Object",this.object=r,this.parent=r!==void 0?r.parent:void 0,this.parent!==void 0&&(this.index=this.parent.children.indexOf(this.object)),this.params=[r]}execute(){var t;((t=this.object.userData)==null?void 0:t.type)&&["Exit","Entrance"].includes(this.object.userData.type)||(this.editor.removeObject(this.object),this.editor.deselect())}undo(){this.editor.addObject(this.object,this.parent,this.index),this.editor.select(this.object)}toJSON(){const t=super.toJSON(this);return t.object=this.object.toJSON(),t.index=this.index,t.parentUuid=this.parent.uuid,t}fromJSON(t){if(super.fromJSON(t),this.parent=this.editor.objectByUuid(t.parentUuid),this.parent===void 0&&(this.parent=this.editor.scene),this.index=t.index,this.object=this.editor.objectByUuid(t.object.object.uuid),this.object===void 0){const r=new Hh;this.object=r.parse(t.object)}}}class oc extends us{constructor(t,r,n,c){super(t),this.type="SetPositionCommand",this.name="Set Position",this.updatable=!0,this.object=r,r!==void 0&&n!==void 0&&(this.oldPosition=r.position.clone(),this.newPosition=n.clone()),c!==void 0&&(this.oldPosition=new wt(c.x,c.y,c.z)),this.params=[n,c]}execute(){this.object.position.copy(this.newPosition),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.object.position.copy(this.oldPosition),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}update(t){this.newPosition.copy(t.newPosition)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.oldPosition=this.oldPosition.toArray(),t.newPosition=this.newPosition.toArray(),t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldPosition=new wt().fromArray(t.oldPosition),this.newPosition=new wt().fromArray(t.newPosition)}}class Bp extends us{constructor(t,r,n,c,p){super(t),this.type="SetRotationCommand",this.name="Set Rotation",this.updatable=!0,this.object=r,r!==void 0&&n!==void 0&&(this.oldRotation=r.rotation.clone(),p&&p==="socket"?this.newRotation=new lo(n._x,n._y,n._z):this.newRotation=n.clone()),c!=null&&(this.oldRotation=new lo(c.x,c.y,c.z)),this.params=[n,c]}execute(){this.object.rotation.copy(this.newRotation),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.object.rotation.copy(this.oldRotation),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}update(t){this.newRotation.copy(t.newRotation)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.oldRotation=this.oldRotation.toArray(),t.newRotation=this.newRotation.toArray(),t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldRotation=new lo().fromArray(t.oldRotation),this.newRotation=new lo().fromArray(t.newRotation)}}class Ip extends us{constructor(t,r,n,c){super(t),this.type="SetScaleCommand",this.name="Set Scale",this.updatable=!0,this.object=r,r!==void 0&&n!==void 0&&(console.log(r.scale),this.oldScale=r.scale.clone(),this.newScale=n.clone()),c!==void 0&&(this.oldScale=new wt(c.x,c.y,c.z)),this.params=[n,c]}execute(){this.object.scale.copy(this.newScale),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.object.scale.copy(this.oldScale),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}update(t){this.newScale.copy(t.newScale)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.oldScale=this.oldScale.toArray(),t.newScale=this.newScale.toArray(),t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldScale=new wt().fromArray(t.oldScale),this.newScale=new wt().fromArray(t.newScale)}}class IR extends us{constructor(t,r,n,c,p,y=""){super(t),this.type="SetMaterialMapCommand",this.name=`Set Material.${n}`,this.object=r,console.log(r),this.material=this.editor.getObjectMaterial(r,p),this.oldMap=r!==void 0?this.material[n]:void 0,this.newMap=c,this.mapName=n,this.url=y,this.params=[n,y,p]}execute(){this.oldMap!==null&&this.oldMap!==void 0&&this.oldMap.dispose(),this.material[this.mapName]=this.newMap,this.material.needsUpdate=!0,this.editor.signals.materialChanged.dispatch(this.material)}undo(){this.material[this.mapName]=this.oldMap,this.material.needsUpdate=!0,this.editor.signals.materialChanged.dispatch(this.material)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.mapName=this.mapName,t.newMap=r(this.newMap),t.oldMap=r(this.oldMap),t;function r(c){if(c==null)return null;const p={geometries:{},materials:{},textures:{},images:{}},y=c.toJSON(p),v=n(p.images);return v.length>0&&(y.images=v),y.sourceFile=c.sourceFile,y}function n(c){const p=[];for(const y in c){const v=c[y];delete v.metadata,p.push(v)}return p}}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.mapName=t.mapName,this.oldMap=r(t.oldMap),this.newMap=r(t.newMap);function r(n){let c=null;if(n!==null){const p=new Hh,y=p.parseImages(n.images);c=p.parseTextures([n],y)[n.uuid],c.sourceFile=n.sourceFile}return c}}}const lT={createFilesMap:function(a){const t={};for(let r=0;r<a.length;r++){const n=a[r];t[n.name]=n}return t},getFilesFromItemList:function(a,t){let r=0,n=0;const c=[],p={};function y(){r++,r===n&&t(c,p)}function v(E){E.isDirectory?E.createReader().readEntries(function(k){for(let R=0;R<k.length;R++)v(k[R]);y()}):E.isFile&&E.file(function(_){c.push(_),p[E.fullPath.slice(1)]=_,y()}),n++}for(let E=0;E<a.length;E++){const _=a[E];_.kind==="file"&&v(_.webkitGetAsEntry())}}};/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.6.9
*/var fT=function(a){return URL.createObjectURL(new Blob([a],{type:"text/javascript"}))};try{URL.revokeObjectURL(fT(""))}catch{fT=function(t){return"data:application/javascript;charset=UTF-8,"+encodeURI(t)}}var Da=Uint8Array,Ma=Uint16Array,n1=Uint32Array,O8=new Da([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),H8=new Da([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),uT=new Da([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),LR=function(a,t){for(var r=new Ma(31),n=0;n<31;++n)r[n]=t+=1<<a[n-1];for(var c=new n1(r[30]),n=1;n<30;++n)for(var p=r[n];p<r[n+1];++p)c[p]=p-r[n]<<5|n;return[r,c]},PR=LR(O8,2),RJ=PR[0],dE=PR[1];RJ[28]=258,dE[258]=28;var DJ=LR(H8,0),cT=DJ[1],pE=new Ma(32768);for(var _s=0;_s<32768;++_s){var nh=(_s&43690)>>>1|(_s&21845)<<1;nh=(nh&52428)>>>2|(nh&13107)<<2,nh=(nh&61680)>>>4|(nh&3855)<<4,pE[_s]=((nh&65280)>>>8|(nh&255)<<8)>>>1}var wg=function(a,t,r){for(var n=a.length,c=0,p=new Ma(t);c<n;++c)++p[a[c]-1];var y=new Ma(t);for(c=0;c<t;++c)y[c]=y[c-1]+p[c-1]<<1;var v;if(r){v=new Ma(1<<t);var E=15-t;for(c=0;c<n;++c)if(a[c])for(var _=c<<4|a[c],k=t-a[c],R=y[a[c]-1]++<<k,B=R|(1<<k)-1;R<=B;++R)v[pE[R]>>>E]=_}else for(v=new Ma(n),c=0;c<n;++c)a[c]&&(v[c]=pE[y[a[c]-1]++]>>>15-a[c]);return v},Kd=new Da(288);for(var _s=0;_s<144;++_s)Kd[_s]=8;for(var _s=144;_s<256;++_s)Kd[_s]=9;for(var _s=256;_s<280;++_s)Kd[_s]=7;for(var _s=280;_s<288;++_s)Kd[_s]=8;var aw=new Da(32);for(var _s=0;_s<32;++_s)aw[_s]=5;var BJ=wg(Kd,9,0),IJ=wg(aw,5,0),NR=function(a){return(a/8|0)+(a&7&&1)},FR=function(a,t,r){(t==null||t<0)&&(t=0),(r==null||r>a.length)&&(r=a.length);var n=new(a instanceof Ma?Ma:a instanceof n1?n1:Da)(r-t);return n.set(a.subarray(t,r)),n},Zu=function(a,t,r){r<<=t&7;var n=t/8|0;a[n]|=r,a[n+1]|=r>>>8},Wm=function(a,t,r){r<<=t&7;var n=t/8|0;a[n]|=r,a[n+1]|=r>>>8,a[n+2]|=r>>>16},Ux=function(a,t){for(var r=[],n=0;n<a.length;++n)a[n]&&r.push({s:n,f:a[n]});var c=r.length,p=r.slice();if(!c)return[U8,0];if(c==1){var y=new Da(r[0].s+1);return y[r[0].s]=1,[y,1]}r.sort(function(we,be){return we.f-be.f}),r.push({s:-1,f:25001});var v=r[0],E=r[1],_=0,k=1,R=2;for(r[0]={s:-1,f:v.f+E.f,l:v,r:E};k!=c-1;)v=r[r[_].f<r[R].f?_++:R++],E=r[_!=k&&r[_].f<r[R].f?_++:R++],r[k++]={s:-1,f:v.f+E.f,l:v,r:E};for(var B=p[0].s,n=1;n<c;++n)p[n].s>B&&(B=p[n].s);var M=new Ma(B+1),F=mE(r[k-1],M,0);if(F>t){var n=0,H=0,U=F-t,Z=1<<U;for(p.sort(function(be,ve){return M[ve.s]-M[be.s]||be.f-ve.f});n<c;++n){var K=p[n].s;if(M[K]>t)H+=Z-(1<<F-M[K]),M[K]=t;else break}for(H>>>=U;H>0;){var fe=p[n].s;M[fe]<t?H-=1<<t-M[fe]++-1:++n}for(;n>=0&&H;--n){var oe=p[n].s;M[oe]==t&&(--M[oe],++H)}F=t}return[new Da(M),F]},mE=function(a,t,r){return a.s==-1?Math.max(mE(a.l,t,r+1),mE(a.r,t,r+1)):t[a.s]=r},hT=function(a){for(var t=a.length;t&&!a[--t];);for(var r=new Ma(++t),n=0,c=a[0],p=1,y=function(E){r[n++]=E},v=1;v<=t;++v)if(a[v]==c&&v!=t)++p;else{if(!c&&p>2){for(;p>138;p-=138)y(32754);p>2&&(y(p>10?p-11<<5|28690:p-3<<5|12305),p=0)}else if(p>3){for(y(c),--p;p>6;p-=6)y(8304);p>2&&(y(p-3<<5|8208),p=0)}for(;p--;)y(c);p=1,c=a[v]}return[r.subarray(0,n),t]},Qm=function(a,t){for(var r=0,n=0;n<t.length;++n)r+=a[n]*t[n];return r},Pv=function(a,t,r){var n=r.length,c=NR(t+2);a[c]=n&255,a[c+1]=n>>>8,a[c+2]=a[c]^255,a[c+3]=a[c+1]^255;for(var p=0;p<n;++p)a[c+p+4]=r[p];return(c+4+n)*8},dT=function(a,t,r,n,c,p,y,v,E,_,k){Zu(t,k++,r),++c[256];for(var R=Ux(c,15),B=R[0],M=R[1],F=Ux(p,15),H=F[0],U=F[1],Z=hT(B),K=Z[0],fe=Z[1],oe=hT(H),we=oe[0],be=oe[1],ve=new Ma(19),ne=0;ne<K.length;++ne)ve[K[ne]&31]++;for(var ne=0;ne<we.length;++ne)ve[we[ne]&31]++;for(var ae=Ux(ve,7),ye=ae[0],de=ae[1],xe=19;xe>4&&!ye[uT[xe-1]];--xe);var le=_+5<<3,re=Qm(c,Kd)+Qm(p,aw)+y,he=Qm(c,B)+Qm(p,H)+y+14+3*xe+Qm(ve,ye)+(2*ve[16]+3*ve[17]+7*ve[18]);if(le<=re&&le<=he)return Pv(t,k,a.subarray(E,E+_));var me,Re,Ie,Ne;if(Zu(t,k,1+(he<re)),k+=2,he<re){me=wg(B,M,0),Re=B,Ie=wg(H,U,0),Ne=H;var Qe=wg(ye,de,0);Zu(t,k,fe-257),Zu(t,k+5,be-1),Zu(t,k+10,xe-4),k+=14;for(var ne=0;ne<xe;++ne)Zu(t,k+3*ne,ye[uT[ne]]);k+=3*xe;for(var Ue=[K,we],ce=0;ce<2;++ce)for(var Me=Ue[ce],ne=0;ne<Me.length;++ne){var ot=Me[ne]&31;Zu(t,k,Qe[ot]),k+=ye[ot],ot>15&&(Zu(t,k,Me[ne]>>>5&127),k+=Me[ne]>>>12)}}else me=BJ,Re=Kd,Ie=IJ,Ne=aw;for(var ne=0;ne<v;++ne)if(n[ne]>255){var ot=n[ne]>>>18&31;Wm(t,k,me[ot+257]),k+=Re[ot+257],ot>7&&(Zu(t,k,n[ne]>>>23&31),k+=O8[ot]);var Se=n[ne]&31;Wm(t,k,Ie[Se]),k+=Ne[Se],Se>3&&(Wm(t,k,n[ne]>>>5&8191),k+=H8[Se])}else Wm(t,k,me[n[ne]]),k+=Re[n[ne]];return Wm(t,k,me[256]),k+Re[256]},LJ=new n1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),U8=new Da(0),PJ=function(a,t,r,n,c,p){var y=a.length,v=new Da(n+y+5*(1+Math.ceil(y/7e3))+c),E=v.subarray(n,v.length-c),_=0;if(!t||y<8)for(var k=0;k<=y;k+=65535){var R=k+65535;R<y?_=Pv(E,_,a.subarray(k,R)):(E[k]=p,_=Pv(E,_,a.subarray(k,y)))}else{for(var B=LJ[t-1],M=B>>>13,F=B&8191,H=(1<<r)-1,U=new Ma(32768),Z=new Ma(H+1),K=Math.ceil(r/3),fe=2*K,oe=function(Kt){return(a[Kt]^a[Kt+1]<<K^a[Kt+2]<<fe)&H},we=new n1(25e3),be=new Ma(288),ve=new Ma(32),ne=0,ae=0,k=0,ye=0,de=0,xe=0;k<y;++k){var le=oe(k),re=k&32767,he=Z[le];if(U[re]=he,Z[le]=re,de<=k){var me=y-k;if((ne>7e3||ye>24576)&&me>423){_=dT(a,E,0,we,be,ve,ae,ye,xe,k-xe,_),ye=ne=ae=0,xe=k;for(var Re=0;Re<286;++Re)be[Re]=0;for(var Re=0;Re<30;++Re)ve[Re]=0}var Ie=2,Ne=0,Qe=F,Ue=re-he&32767;if(me>2&&le==oe(k-Ue))for(var ce=Math.min(M,me)-1,Me=Math.min(32767,k),ot=Math.min(258,me);Ue<=Me&&--Qe&&re!=he;){if(a[k+Ie]==a[k+Ie-Ue]){for(var Se=0;Se<ot&&a[k+Se]==a[k+Se-Ue];++Se);if(Se>Ie){if(Ie=Se,Ne=Ue,Se>ce)break;for(var Xe=Math.min(Ue,Se-2),ct=0,Re=0;Re<Xe;++Re){var $e=k-Ue+Re+32768&32767,Et=U[$e],Dt=$e-Et+32768&32767;Dt>ct&&(ct=Dt,he=$e)}}}re=he,he=U[re],Ue+=re-he+32768&32767}if(Ne){we[ye++]=268435456|dE[Ie]<<18|cT[Ne];var er=dE[Ie]&31,Gt=cT[Ne]&31;ae+=O8[er]+H8[Gt],++be[257+er],++ve[Gt],de=k+Ie,++ne}else we[ye++]=a[k],++be[a[k]]}}_=dT(a,E,p,we,be,ve,ae,ye,xe,k-xe,_),!p&&_&7&&(_=Pv(E,_+1,U8))}return FR(v,0,n+NR(_)+c)},NJ=function(){for(var a=new n1(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(r&1&&3988292384)^r>>>1;a[t]=r}return a}(),FJ=function(){var a=-1;return{p:function(t){for(var r=a,n=0;n<t.length;++n)r=NJ[r&255^t[n]]^r>>>8;a=r},d:function(){return~a}}},OJ=function(a,t,r,n,c){return PJ(a,t.level==null?6:t.level,t.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(a.length)))*1.5):12+t.mem,r,n,!c)},OR=function(a,t){var r={};for(var n in a)r[n]=a[n];for(var n in t)r[n]=t[n];return r},ra=function(a,t,r){for(;r;++t)a[t]=r,r>>>=8};function HJ(a,t){return OJ(a,t||{},0,0)}var HR=function(a,t,r,n){for(var c in a){var p=a[c],y=t+c;p instanceof Da?r[y]=[p,n]:Array.isArray(p)?r[y]=[p[0],OR(n,p[1])]:HR(p,y+"/",r,n)}},pT=typeof TextEncoder!="undefined"&&new TextEncoder,UJ=typeof TextDecoder!="undefined"&&new TextDecoder,VJ=0;try{UJ.decode(U8,{stream:!0}),VJ=1}catch{}function zo(a,t){if(t){for(var r=new Da(a.length),n=0;n<a.length;++n)r[n]=a.charCodeAt(n);return r}if(pT)return pT.encode(a);for(var c=a.length,p=new Da(a.length+(a.length>>1)),y=0,v=function(k){p[y++]=k},n=0;n<c;++n){if(y+5>p.length){var E=new Da(y+8+(c-n<<1));E.set(p),p=E}var _=a.charCodeAt(n);_<128||t?v(_):_<2048?(v(192|_>>6),v(128|_&63)):_>55295&&_<57344?(_=65536+(_&1023<<10)|a.charCodeAt(++n)&1023,v(240|_>>18),v(128|_>>12&63),v(128|_>>6&63),v(128|_&63)):(v(224|_>>12),v(128|_>>6&63),v(128|_&63))}return FR(p,0,y)}var gE=function(a){var t=0;if(a)for(var r in a){var n=a[r].length;if(n>65535)throw"extra field too long";t+=n+4}return t},mT=function(a,t,r,n,c,p,y,v){var E=n.length,_=r.extra,k=v&&v.length,R=gE(_);ra(a,t,y!=null?33639248:67324752),t+=4,y!=null&&(a[t++]=20,a[t++]=r.os),a[t]=20,t+=2,a[t++]=r.flag<<1|(p==null&&8),a[t++]=c&&8,a[t++]=r.compression&255,a[t++]=r.compression>>8;var B=new Date(r.mtime==null?Date.now():r.mtime),M=B.getFullYear()-1980;if(M<0||M>119)throw"date not in range 1980-2099";if(ra(a,t,M<<25|B.getMonth()+1<<21|B.getDate()<<16|B.getHours()<<11|B.getMinutes()<<5|B.getSeconds()>>>1),t+=4,p!=null&&(ra(a,t,r.crc),ra(a,t+4,p),ra(a,t+8,r.size)),ra(a,t+12,E),ra(a,t+14,R),t+=16,y!=null&&(ra(a,t,k),ra(a,t+6,r.attrs),ra(a,t+10,y),t+=14),a.set(n,t),t+=E,R)for(var F in _){var H=_[F],U=H.length;ra(a,t,+F),ra(a,t+2,U),a.set(H,t+4),t+=4+U}return k&&(a.set(v,t),t+=k),t},jJ=function(a,t,r,n,c){ra(a,t,101010256),ra(a,t+8,r),ra(a,t+10,r),ra(a,t+12,n),ra(a,t+16,c)};function GJ(a,t){t||(t={});var r={},n=[];HR(a,"",r,t);var c=0,p=0;for(var y in r){var v=r[y],E=v[0],_=v[1],k=_.level==0?0:8,R=zo(y),B=R.length,M=_.comment,F=M&&zo(M),H=F&&F.length,U=gE(_.extra);if(B>65535)throw"filename too long";var Z=k?HJ(E,_):E,K=Z.length,fe=FJ();fe.p(E),n.push(OR(_,{size:E.length,crc:fe.d(),c:Z,f:R,m:F,u:B!=y.length||F&&M.length!=H,o:c,compression:k})),c+=30+B+U+K,p+=76+2*(B+U)+(H||0)+K}for(var oe=new Da(p+22),we=c,be=p-c,ve=0;ve<n.length;++ve){var R=n[ve];mT(oe,R.o,R,R.f,R.u,R.c.length);var ne=30+R.f.length+gE(R.extra);oe.set(R.c,R.o+ne),mT(oe,c,R,R.f,R.u,R.c.length,R.o,R.m),c+=16+ne+(R.m?R.m.length:0)}return jJ(oe,c,n.length,be,we),oe}var Ks=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function zJ(a){if(a.__esModule)return a;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(a).forEach(function(r){var n=Object.getOwnPropertyDescriptor(a,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return a[r]}})}),t}var V8={exports:{}},UR=function(t,r){return function(){for(var c=new Array(arguments.length),p=0;p<c.length;p++)c[p]=arguments[p];return t.apply(r,c)}},WJ=UR,j8=Object.prototype.toString,G8=function(a){return function(t){var r=j8.call(t);return a[r]||(a[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function f2(a){return a=a.toLowerCase(),function(r){return G8(r)===a}}function z8(a){return Array.isArray(a)}function lw(a){return typeof a=="undefined"}function QJ(a){return a!==null&&!lw(a)&&a.constructor!==null&&!lw(a.constructor)&&typeof a.constructor.isBuffer=="function"&&a.constructor.isBuffer(a)}var VR=f2("ArrayBuffer");function JJ(a){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(a):t=a&&a.buffer&&VR(a.buffer),t}function XJ(a){return typeof a=="string"}function qJ(a){return typeof a=="number"}function jR(a){return a!==null&&typeof a=="object"}function Nv(a){if(G8(a)!=="object")return!1;var t=Object.getPrototypeOf(a);return t===null||t===Object.prototype}var ZJ=f2("Date"),YJ=f2("File"),KJ=f2("Blob"),$J=f2("FileList");function W8(a){return j8.call(a)==="[object Function]"}function eX(a){return jR(a)&&W8(a.pipe)}function tX(a){var t="[object FormData]";return a&&(typeof FormData=="function"&&a instanceof FormData||j8.call(a)===t||W8(a.toString)&&a.toString()===t)}var rX=f2("URLSearchParams");function iX(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function nX(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Q8(a,t){if(!(a===null||typeof a=="undefined"))if(typeof a!="object"&&(a=[a]),z8(a))for(var r=0,n=a.length;r<n;r++)t.call(null,a[r],r,a);else for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&t.call(null,a[c],c,a)}function bE(){var a={};function t(c,p){Nv(a[p])&&Nv(c)?a[p]=bE(a[p],c):Nv(c)?a[p]=bE({},c):z8(c)?a[p]=c.slice():a[p]=c}for(var r=0,n=arguments.length;r<n;r++)Q8(arguments[r],t);return a}function sX(a,t,r){return Q8(t,function(c,p){r&&typeof c=="function"?a[p]=WJ(c,r):a[p]=c}),a}function oX(a){return a.charCodeAt(0)===65279&&(a=a.slice(1)),a}function aX(a,t,r,n){a.prototype=Object.create(t.prototype,n),a.prototype.constructor=a,r&&Object.assign(a.prototype,r)}function lX(a,t,r){var n,c,p,y={};t=t||{};do{for(n=Object.getOwnPropertyNames(a),c=n.length;c-- >0;)p=n[c],y[p]||(t[p]=a[p],y[p]=!0);a=Object.getPrototypeOf(a)}while(a&&(!r||r(a,t))&&a!==Object.prototype);return t}function fX(a,t,r){a=String(a),(r===void 0||r>a.length)&&(r=a.length),r-=t.length;var n=a.indexOf(t,r);return n!==-1&&n===r}function uX(a){if(!a)return null;var t=a.length;if(lw(t))return null;for(var r=new Array(t);t-- >0;)r[t]=a[t];return r}var cX=function(a){return function(t){return a&&t instanceof a}}(typeof Uint8Array!="undefined"&&Object.getPrototypeOf(Uint8Array)),sa={isArray:z8,isArrayBuffer:VR,isBuffer:QJ,isFormData:tX,isArrayBufferView:JJ,isString:XJ,isNumber:qJ,isObject:jR,isPlainObject:Nv,isUndefined:lw,isDate:ZJ,isFile:YJ,isBlob:KJ,isFunction:W8,isStream:eX,isURLSearchParams:rX,isStandardBrowserEnv:nX,forEach:Q8,merge:bE,extend:sX,trim:iX,stripBOM:oX,inherits:aX,toFlatObject:lX,kindOf:G8,kindOfTest:f2,endsWith:fX,toArray:uX,isTypedArray:cX,isFileList:$J},hp=sa;function gT(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var GR=function(t,r,n){if(!r)return t;var c;if(n)c=n(r);else if(hp.isURLSearchParams(r))c=r.toString();else{var p=[];hp.forEach(r,function(E,_){E===null||typeof E=="undefined"||(hp.isArray(E)?_=_+"[]":E=[E],hp.forEach(E,function(R){hp.isDate(R)?R=R.toISOString():hp.isObject(R)&&(R=JSON.stringify(R)),p.push(gT(_)+"="+gT(R))}))}),c=p.join("&")}if(c){var y=t.indexOf("#");y!==-1&&(t=t.slice(0,y)),t+=(t.indexOf("?")===-1?"?":"&")+c}return t},hX=sa;function qw(){this.handlers=[]}qw.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};qw.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};qw.prototype.forEach=function(t){hX.forEach(this.handlers,function(n){n!==null&&t(n)})};var dX=qw,pX=sa,mX=function(t,r){pX.forEach(t,function(c,p){p!==r&&p.toUpperCase()===r.toUpperCase()&&(t[r]=c,delete t[p])})},zR=sa;function s1(a,t,r,n,c){Error.call(this),this.message=a,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),c&&(this.response=c)}zR.inherits(s1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var WR=s1.prototype,QR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(a){QR[a]={value:a}});Object.defineProperties(s1,QR);Object.defineProperty(WR,"isAxiosError",{value:!0});s1.from=function(a,t,r,n,c,p){var y=Object.create(WR);return zR.toFlatObject(a,y,function(E){return E!==Error.prototype}),s1.call(y,a.message,t,r,n,c),y.name=a.name,p&&Object.assign(y,p),y};var E1=s1,JR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gf=sa;function gX(a,t){t=t||new FormData;var r=[];function n(p){return p===null?"":gf.isDate(p)?p.toISOString():gf.isArrayBuffer(p)||gf.isTypedArray(p)?typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,y){if(gf.isPlainObject(p)||gf.isArray(p)){if(r.indexOf(p)!==-1)throw Error("Circular reference detected in "+y);r.push(p),gf.forEach(p,function(E,_){if(!gf.isUndefined(E)){var k=y?y+"."+_:_,R;if(E&&!y&&typeof E=="object"){if(gf.endsWith(_,"{}"))E=JSON.stringify(E);else if(gf.endsWith(_,"[]")&&(R=gf.toArray(E))){R.forEach(function(B){!gf.isUndefined(B)&&t.append(k,n(B))});return}}c(E,k)}}),r.pop()}else t.append(y,n(p))}return c(a),t}var XR=gX,Vx=E1,bX=function(t,r,n){var c=n.config.validateStatus;!n.status||!c||c(n.status)?t(n):r(new Vx("Request failed with status code "+n.status,[Vx.ERR_BAD_REQUEST,Vx.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))},ov=sa,yX=ov.isStandardBrowserEnv()?function(){return{write:function(r,n,c,p,y,v){var E=[];E.push(r+"="+encodeURIComponent(n)),ov.isNumber(c)&&E.push("expires="+new Date(c).toGMTString()),ov.isString(p)&&E.push("path="+p),ov.isString(y)&&E.push("domain="+y),v===!0&&E.push("secure"),document.cookie=E.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),vX=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},wX=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},AX=vX,xX=wX,qR=function(t,r){return t&&!AX(r)?xX(t,r):r},jx=sa,EX=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],_X=function(t){var r={},n,c,p;return t&&jx.forEach(t.split(`
`),function(v){if(p=v.indexOf(":"),n=jx.trim(v.substr(0,p)).toLowerCase(),c=jx.trim(v.substr(p+1)),n){if(r[n]&&EX.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([c]):r[n]=r[n]?r[n]+", "+c:c}}),r},bT=sa,kX=bT.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function c(p){var y=p;return t&&(r.setAttribute("href",y),y=r.href),r.setAttribute("href",y),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=c(window.location.href),function(y){var v=bT.isString(y)?c(y):y;return v.protocol===n.protocol&&v.host===n.host}}():function(){return function(){return!0}}(),yE=E1,CX=sa;function ZR(a){yE.call(this,a==null?"canceled":a,yE.ERR_CANCELED),this.name="CanceledError"}CX.inherits(ZR,yE,{__CANCEL__:!0});var Zw=ZR,SX=function(t){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""},Jm=sa,TX=bX,MX=yX,RX=GR,DX=qR,BX=_X,IX=kX,LX=JR,Yu=E1,PX=Zw,NX=SX,yT=function(t){return new Promise(function(n,c){var p=t.data,y=t.headers,v=t.responseType,E;function _(){t.cancelToken&&t.cancelToken.unsubscribe(E),t.signal&&t.signal.removeEventListener("abort",E)}Jm.isFormData(p)&&Jm.isStandardBrowserEnv()&&delete y["Content-Type"];var k=new XMLHttpRequest;if(t.auth){var R=t.auth.username||"",B=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";y.Authorization="Basic "+btoa(R+":"+B)}var M=DX(t.baseURL,t.url);k.open(t.method.toUpperCase(),RX(M,t.params,t.paramsSerializer),!0),k.timeout=t.timeout;function F(){if(!!k){var Z="getAllResponseHeaders"in k?BX(k.getAllResponseHeaders()):null,K=!v||v==="text"||v==="json"?k.responseText:k.response,fe={data:K,status:k.status,statusText:k.statusText,headers:Z,config:t,request:k};TX(function(we){n(we),_()},function(we){c(we),_()},fe),k=null}}if("onloadend"in k?k.onloadend=F:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(F)},k.onabort=function(){!k||(c(new Yu("Request aborted",Yu.ECONNABORTED,t,k)),k=null)},k.onerror=function(){c(new Yu("Network Error",Yu.ERR_NETWORK,t,k,k)),k=null},k.ontimeout=function(){var K=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",fe=t.transitional||LX;t.timeoutErrorMessage&&(K=t.timeoutErrorMessage),c(new Yu(K,fe.clarifyTimeoutError?Yu.ETIMEDOUT:Yu.ECONNABORTED,t,k)),k=null},Jm.isStandardBrowserEnv()){var H=(t.withCredentials||IX(M))&&t.xsrfCookieName?MX.read(t.xsrfCookieName):void 0;H&&(y[t.xsrfHeaderName]=H)}"setRequestHeader"in k&&Jm.forEach(y,function(K,fe){typeof p=="undefined"&&fe.toLowerCase()==="content-type"?delete y[fe]:k.setRequestHeader(fe,K)}),Jm.isUndefined(t.withCredentials)||(k.withCredentials=!!t.withCredentials),v&&v!=="json"&&(k.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&k.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&k.upload&&k.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(E=function(Z){!k||(c(!Z||Z&&Z.type?new PX:Z),k.abort(),k=null)},t.cancelToken&&t.cancelToken.subscribe(E),t.signal&&(t.signal.aborted?E():t.signal.addEventListener("abort",E))),p||(p=null);var U=NX(M);if(U&&["http","https","file"].indexOf(U)===-1){c(new Yu("Unsupported protocol "+U+":",Yu.ERR_BAD_REQUEST,t));return}k.send(p)})},FX=null,Qo=sa,vT=mX,wT=E1,OX=JR,HX=XR,UX={"Content-Type":"application/x-www-form-urlencoded"};function AT(a,t){!Qo.isUndefined(a)&&Qo.isUndefined(a["Content-Type"])&&(a["Content-Type"]=t)}function VX(){var a;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(a=yT),a}function jX(a,t,r){if(Qo.isString(a))try{return(t||JSON.parse)(a),Qo.trim(a)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(a)}var Yw={transitional:OX,adapter:VX(),transformRequest:[function(t,r){if(vT(r,"Accept"),vT(r,"Content-Type"),Qo.isFormData(t)||Qo.isArrayBuffer(t)||Qo.isBuffer(t)||Qo.isStream(t)||Qo.isFile(t)||Qo.isBlob(t))return t;if(Qo.isArrayBufferView(t))return t.buffer;if(Qo.isURLSearchParams(t))return AT(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var n=Qo.isObject(t),c=r&&r["Content-Type"],p;if((p=Qo.isFileList(t))||n&&c==="multipart/form-data"){var y=this.env&&this.env.FormData;return HX(p?{"files[]":t}:t,y&&new y)}else if(n||c==="application/json")return AT(r,"application/json"),jX(t);return t}],transformResponse:[function(t){var r=this.transitional||Yw.transitional,n=r&&r.silentJSONParsing,c=r&&r.forcedJSONParsing,p=!n&&this.responseType==="json";if(p||c&&Qo.isString(t)&&t.length)try{return JSON.parse(t)}catch(y){if(p)throw y.name==="SyntaxError"?wT.from(y,wT.ERR_BAD_RESPONSE,this,null,this.response):y}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:FX},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Qo.forEach(["delete","get","head"],function(t){Yw.headers[t]={}});Qo.forEach(["post","put","patch"],function(t){Yw.headers[t]=Qo.merge(UX)});var J8=Yw,GX=sa,zX=J8,WX=function(t,r,n){var c=this||zX;return GX.forEach(n,function(y){t=y.call(c,t,r)}),t},YR=function(t){return!!(t&&t.__CANCEL__)},xT=sa,Gx=WX,QX=YR,JX=J8,XX=Zw;function zx(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new XX}var qX=function(t){zx(t),t.headers=t.headers||{},t.data=Gx.call(t,t.data,t.headers,t.transformRequest),t.headers=xT.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),xT.forEach(["delete","get","head","post","put","patch","common"],function(c){delete t.headers[c]});var r=t.adapter||JX.adapter;return r(t).then(function(c){return zx(t),c.data=Gx.call(t,c.data,c.headers,t.transformResponse),c},function(c){return QX(c)||(zx(t),c&&c.response&&(c.response.data=Gx.call(t,c.response.data,c.response.headers,t.transformResponse))),Promise.reject(c)})},gl=sa,KR=function(t,r){r=r||{};var n={};function c(k,R){return gl.isPlainObject(k)&&gl.isPlainObject(R)?gl.merge(k,R):gl.isPlainObject(R)?gl.merge({},R):gl.isArray(R)?R.slice():R}function p(k){if(gl.isUndefined(r[k])){if(!gl.isUndefined(t[k]))return c(void 0,t[k])}else return c(t[k],r[k])}function y(k){if(!gl.isUndefined(r[k]))return c(void 0,r[k])}function v(k){if(gl.isUndefined(r[k])){if(!gl.isUndefined(t[k]))return c(void 0,t[k])}else return c(void 0,r[k])}function E(k){if(k in r)return c(t[k],r[k]);if(k in t)return c(void 0,t[k])}var _={url:y,method:y,data:y,baseURL:v,transformRequest:v,transformResponse:v,paramsSerializer:v,timeout:v,timeoutMessage:v,withCredentials:v,adapter:v,responseType:v,xsrfCookieName:v,xsrfHeaderName:v,onUploadProgress:v,onDownloadProgress:v,decompress:v,maxContentLength:v,maxBodyLength:v,beforeRedirect:v,transport:v,httpAgent:v,httpsAgent:v,cancelToken:v,socketPath:v,responseEncoding:v,validateStatus:E};return gl.forEach(Object.keys(t).concat(Object.keys(r)),function(R){var B=_[R]||p,M=B(R);gl.isUndefined(M)&&B!==E||(n[R]=M)}),n},$R={version:"0.27.2"},ZX=$R.version,ch=E1,X8={};["object","boolean","number","function","string","symbol"].forEach(function(a,t){X8[a]=function(n){return typeof n===a||"a"+(t<1?"n ":" ")+a}});var ET={};X8.transitional=function(t,r,n){function c(p,y){return"[Axios v"+ZX+"] Transitional option '"+p+"'"+y+(n?". "+n:"")}return function(p,y,v){if(t===!1)throw new ch(c(y," has been removed"+(r?" in "+r:"")),ch.ERR_DEPRECATED);return r&&!ET[y]&&(ET[y]=!0,console.warn(c(y," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(p,y,v):!0}};function YX(a,t,r){if(typeof a!="object")throw new ch("options must be an object",ch.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(a),c=n.length;c-- >0;){var p=n[c],y=t[p];if(y){var v=a[p],E=v===void 0||y(v,p,a);if(E!==!0)throw new ch("option "+p+" must be "+E,ch.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ch("Unknown option "+p,ch.ERR_BAD_OPTION)}}var KX={assertOptions:YX,validators:X8},eD=sa,$X=GR,_T=dX,kT=qX,Kw=KR,eq=qR,tD=KX,dp=tD.validators;function o1(a){this.defaults=a,this.interceptors={request:new _T,response:new _T}}o1.prototype.request=function(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Kw(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&tD.assertOptions(n,{silentJSONParsing:dp.transitional(dp.boolean),forcedJSONParsing:dp.transitional(dp.boolean),clarifyTimeoutError:dp.transitional(dp.boolean)},!1);var c=[],p=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(r)===!1||(p=p&&M.synchronous,c.unshift(M.fulfilled,M.rejected))});var y=[];this.interceptors.response.forEach(function(M){y.push(M.fulfilled,M.rejected)});var v;if(!p){var E=[kT,void 0];for(Array.prototype.unshift.apply(E,c),E=E.concat(y),v=Promise.resolve(r);E.length;)v=v.then(E.shift(),E.shift());return v}for(var _=r;c.length;){var k=c.shift(),R=c.shift();try{_=k(_)}catch(B){R(B);break}}try{v=kT(_)}catch(B){return Promise.reject(B)}for(;y.length;)v=v.then(y.shift(),y.shift());return v};o1.prototype.getUri=function(t){t=Kw(this.defaults,t);var r=eq(t.baseURL,t.url);return $X(r,t.params,t.paramsSerializer)};eD.forEach(["delete","get","head","options"],function(t){o1.prototype[t]=function(r,n){return this.request(Kw(n||{},{method:t,url:r,data:(n||{}).data}))}});eD.forEach(["post","put","patch"],function(t){function r(n){return function(p,y,v){return this.request(Kw(v||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:p,data:y}))}}o1.prototype[t]=r(),o1.prototype[t+"Form"]=r(!0)});var tq=o1,rq=Zw;function a1(a){if(typeof a!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(c){t=c});var r=this;this.promise.then(function(n){if(!!r._listeners){var c,p=r._listeners.length;for(c=0;c<p;c++)r._listeners[c](n);r._listeners=null}}),this.promise.then=function(n){var c,p=new Promise(function(y){r.subscribe(y),c=y}).then(n);return p.cancel=function(){r.unsubscribe(c)},p},a(function(c){r.reason||(r.reason=new rq(c),t(r.reason))})}a1.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};a1.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};a1.prototype.unsubscribe=function(t){if(!!this._listeners){var r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}};a1.source=function(){var t,r=new a1(function(c){t=c});return{token:r,cancel:t}};var iq=a1,nq=function(t){return function(n){return t.apply(null,n)}},sq=sa,oq=function(t){return sq.isObject(t)&&t.isAxiosError===!0},CT=sa,aq=UR,Fv=tq,lq=KR,fq=J8;function rD(a){var t=new Fv(a),r=aq(Fv.prototype.request,t);return CT.extend(r,Fv.prototype,t),CT.extend(r,t),r.create=function(c){return rD(lq(a,c))},r}var qa=rD(fq);qa.Axios=Fv;qa.CanceledError=Zw;qa.CancelToken=iq;qa.isCancel=YR;qa.VERSION=$R.version;qa.toFormData=XR;qa.AxiosError=E1;qa.Cancel=qa.CanceledError;qa.all=function(t){return Promise.all(t)};qa.spread=nq;qa.isAxiosError=oq;V8.exports=qa;V8.exports.default=qa;var Po=V8.exports;function uq(a){const t=this;this.texturePath="",this.width=0,this.height=0,this.loadItemList=function(y){lT.getFilesFromItemList(y,function(v,E){t.loadFiles(v,E)})},this.loadFiles=function(y,v){if(y.length>0){v=v||lT.createFilesMap(y);const E=new l2;E.setURLModifier(function(_){_=_.replace(/^(\.?\/)/,"");const k=v[_];return k?(console.log("Loading",_),URL.createObjectURL(k)):_}),E.addHandler(/\.tga$/i,new BR);for(let _=0;_<y.length;_++)console.log(y[_]),t.loadFile(y[_],E)}},this.loadFile=function(y,v,E,_=!1,k=null){const R=y.name;E=E||R.split(".").pop().toLowerCase(),console.log("loadFile",y,v,E,_,k);const B=new FileReader,M=new Z0;switch(B.addEventListener("progress",function(F){""+Math.floor(F.total/1e3).format(),Math.floor(F.loaded/F.total*100)+""}),E){case"jpg":case"jpeg":case"png":{B.addEventListener("load",function(F){const H=document.createElement("img");H.onload=function(){M.sourceFile=y.name,M.image=H,M.needsUpdate=!0;let U;H.height>H.width?U=H.height/H.width:U=H.width/H.height;const Z=new Lo(H.height>H.width?1:U,H.height>H.width?U:1,1,1),K=new q0({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-c(a),transparent:!0,map:M}),fe=new Kr(Z,K);p({name:R,type:"Plane"},fe),_?a.executeSocket(new r0(a,fe)):a.execute(new r0(a,fe))},H.src=F.target.result},!1),B.readAsDataURL(y);break}case"mp4":break;case"glb":{B.addEventListener("load",async function(F){const H=F.target.result,{DRACOLoader:U}=await Wo(()=>import("./DRACOLoader.a70f88d9.js"),[]),{GLTFLoader:Z}=await Wo(()=>Promise.resolve().then(function(){return GT}),void 0),K=new U;K.setDecoderPath("../examples/js/libs/draco/gltf/");const fe=new Z;fe.setDRACOLoader(K),fe.parse(H,"",function(oe){const we=oe.scene;if(we.name=R,we.animations.push(...oe.animations),_){a.executeSocket(new r0(a,we,R));let be=a.selected;a.executeSocket(new oc(a,be,a.placeholder.position)),a.executeSocket(new Bp(a,be,a.placeholder.rotation)),a.executeSocket(new Ip(a,be,a.placeholder.scale)),a.executeSocket(new xh(a,a.placeholder)),a.placeholder=null}else{const be=new FormData;be.append("fields",new File([y],R)),Po({method:"post",url:`https://play.grwth.hk/publishes/${window.assignmentSceneName}`,data:be}).then(function(ve){console.log("%c Axios Post Success(GLTF to JSON)","color: black; background: #3ea086;",ve.data.files.fields.size),a.signals.publishClicked.dispatch("Uploaded",R)}).catch(function(ve){console.log(ve)}).finally(function(){a.execute(new r0(a,we,R))})}})},!1),B.readAsArrayBuffer(y);break}case"gltf":{B.addEventListener("load",async function(F){const H=F.target.result;let U;if(n(H))alert("Import of glTF asset not possible. Only versions >= 2.0 are supported. Please try to upgrade the file to glTF 2.0 using glTF-Pipeline.");else{const{DRACOLoader:Z}=await Wo(()=>import("./DRACOLoader.a70f88d9.js"),[]),{GLTFLoader:K}=await Wo(()=>Promise.resolve().then(function(){return GT}),void 0),fe=new Z;fe.setDecoderPath("../examples/js/libs/draco/gltf/"),U=new K(v),U.setDRACOLoader(fe)}U.parse(H,"",function(Z){const K=Z.scene;if(K.userData.type="Model",K.name=R,K.animations.push(...Z.animations),_){a.executeSocket(new r0(a,K,R));let fe=a.selected;a.executeSocket(new oc(a,fe,a.placeholder.position)),a.executeSocket(new Bp(a,fe,a.placeholder.rotation)),a.executeSocket(new Ip(a,fe,a.placeholder.scale)),a.executeSocket(new xh(a,a.placeholder)),a.placeholder=null}else{const fe=new FormData;fe.append("fields",new File([y],R)),Po({method:"post",url:`https://play.grwth.hk/publishes/${window.assignmentSceneName}`,data:fe}).then(function(oe){console.log("%c Axios Post Success(GLTF to JSON)","color: black; background: #3ea086;",oe.data.files.fields.size),a.signals.publishClicked.dispatch("Uploaded",R)}).catch(function(oe){console.log(oe)}).finally(function(){a.execute(new r0(a,K,R))})}})},!1),B.readAsArrayBuffer(y);break}case"js":case"json":{B.addEventListener("load",function(F){const H=F.target.result;if(H.indexOf("postMessage")!==-1){const Z=new Blob([H],{type:"text/javascript"}),K=URL.createObjectURL(Z),fe=new Worker(K);fe.onmessage=function(oe){oe.data.metadata={version:2}},fe.postMessage(Date.now());return}let U;try{U=JSON.parse(H)}catch(Z){alert(Z);return}r(U,R,_,k,y)},!1),B.readAsText(y);break}default:alert("Wrong File Type"),console.error("Unsupported file format ("+E+").");break}};function r(y,v,E=!1,_=null,k){switch(y.metadata===void 0&&(y.metadata={type:"Geometry"}),y.metadata.type===void 0&&(y.metadata.type="Geometry"),y.metadata.formatVersion!==void 0&&(y.metadata.version=y.metadata.formatVersion),y.metadata.type.toLowerCase()){case"object":{let R=`${_}.json`;const B=new Hh;B.setResourcePath(t.texturePath);let M;if(B.parse(y,function(F){if(console.log("loader.parse"),M=F,!E){const H=new Blob([k],{type:"application/json"},R),U=new FormData;U.append("fields",new File([H],R)),Po({method:"post",url:`https://play.grwth.hk/publishes/${window.assignmentSceneName}`,data:U}).then(function(Z){console.log("%c Axios Post Success(JSON)","color: black; background: #3ea086;",Z.data.files.fields.size),a.signals.publishClicked.dispatch("Uploaded",R)}).catch(function(Z){console.log(Z)})}}),console.log(M),!E)M.isScene?a.execute(new hE(a,M,R)):a.execute(new r0(a,M,R));else if(M.isScene)a.executeSocket(new hE(a,M,R));else{a.executeSocket(new r0(a,M,R));let F=a.selected;a.executeSocket(new oc(a,F,a.placeholder.position)),a.executeSocket(new Bp(a,F,a.placeholder.rotation)),a.executeSocket(new Ip(a,F,a.placeholder.scale)),a.executeSocket(new xh(a,a.placeholder)),a.placeholder=null}break}case"app":a.fromJSON(y,v);break}}function n(y){let v;if(typeof y=="string")v=y;else{if(Sl.decodeText(new Uint8Array(y,0,4))==="glTF")return new DataView(y).getUint32(4,!0)<2;v=Sl.decodeText(new Uint8Array(y))}const E=JSON.parse(v);return E.asset!=null&&E.asset.version[0]<2}function c(y){return y==null?void 0:y.scene.children.reduce((E,_)=>(_.type==="Mesh"&&!["Group","Exit","Entrance","Portal"].includes(_.userData.type)&&E++,_.type==="Group"&&(_==null||_.children.forEach(k=>{E++})),E),0)}function p(y,v){const{name:E,type:_}=y;E?v.name=E:v.name=_,v.userData.type=_,["Exit","Entrance","Portal","Presentation"].includes(_)||(a.setObjectAudio(v,{option:"none",value:null}),a.setObjectOnClick(v,{option:"none",value:"https://play.grwth.hk/"}))}}class cq extends us{constructor(t,r,n){super(t),this.type="AddScriptCommand",this.name="Add Script",this.object=r,this.script=n,this.params=[n]}execute(){this.editor.scripts[this.object.uuid]===void 0&&(this.editor.scripts[this.object.uuid]=[]),this.editor.scripts[this.object.uuid].push(this.script),this.editor.signals.scriptAdded.dispatch(this.script)}undo(){if(this.editor.scripts[this.object.uuid]===void 0)return;const t=this.editor.scripts[this.object.uuid].indexOf(this.script);t!==-1&&this.editor.scripts[this.object.uuid].splice(t,1),this.editor.signals.scriptRemoved.dispatch(this.script)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.script=this.script,t}fromJSON(t){super.fromJSON(t),this.script=t.script,this.object=this.editor.objectByUuid(t.objectUuid)}}class Fg extends us{constructor(t,r,n,c,p){super(t),this.type="MoveObjectCommand",this.name="Move Object",this.object=r,this.moveAction=p,this.oldParent=r!==void 0?r.parent:void 0,this.oldIndex=this.oldParent!==void 0?this.oldParent.children.indexOf(this.object):void 0,this.newParent=n,c!==void 0?this.newIndex=n!==void 0?n.children.indexOf(c):void 0:this.newIndex=n!==void 0?n.children.length:void 0,this.oldParent===this.newParent&&this.newIndex>this.oldIndex&&this.newIndex--,this.newBefore=c,this.params=[n,c,p]}execute(){if(this.object.type==="Mesh"&&this.newParent.type==="Group"&&this.moveAction==="Grouping"){this.newParent.attach(this.object);return}this.oldParent.remove(this.object),this.newParent.children.splice(this.newIndex,0,this.object),this.object.parent=this.newParent,this.object.dispatchEvent({type:"added"}),this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.newParent.remove(this.object),this.oldParent.children.splice(this.oldIndex,0,this.object),this.object.parent=this.oldParent,this.object.dispatchEvent({type:"added"}),this.editor.signals.sceneGraphChanged.dispatch()}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.newParentUuid=this.newParent.uuid,t.oldParentUuid=this.oldParent.uuid,t.newIndex=this.newIndex,t.oldIndex=this.oldIndex,t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldParent=this.editor.objectByUuid(t.oldParentUuid),this.oldParent===void 0&&(this.oldParent=this.editor.scene),this.newParent=this.editor.objectByUuid(t.newParentUuid),this.newParent===void 0&&(this.newParent=this.editor.scene),this.newIndex=t.newIndex,this.oldIndex=t.oldIndex}}class hq extends us{constructor(t,r){super(t),this.type="MultiCmdsCommand",this.name="Multiple Changes",this.cmdArray=r!==void 0?r:[],this.params=[r]}execute(){this.editor.signals.sceneGraphChanged.active=!1;for(let t=0;t<this.cmdArray.length;t++)this.cmdArray[t].execute();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.editor.signals.sceneGraphChanged.active=!1;for(let t=this.cmdArray.length-1;t>=0;t--)this.cmdArray[t].undo();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.sceneGraphChanged.dispatch()}toJSON(){const t=super.toJSON(this),r=[];for(let n=0;n<this.cmdArray.length;n++)r.push(this.cmdArray[n].toJSON());return t.cmds=r,t}fromJSON(t){super.fromJSON(t);const r=t.cmds;for(let n=0;n<r.length;n++){const c=new window[r[n].type];c.fromJSON(r[n]),this.cmdArray.push(c)}}}class dq extends us{constructor(t,r,n){super(t),this.type="RemoveScriptCommand",this.name="Remove Script",this.object=r,this.script=n,this.object&&this.script&&(this.index=this.editor.scripts[this.object.uuid].indexOf(this.script)),this.params=[n]}execute(){this.editor.scripts[this.object.uuid]!==void 0&&(this.index!==-1&&this.editor.scripts[this.object.uuid].splice(this.index,1),this.editor.signals.scriptRemoved.dispatch(this.script))}undo(){this.editor.scripts[this.object.uuid]===void 0&&(this.editor.scripts[this.object.uuid]=[]),this.editor.scripts[this.object.uuid].splice(this.index,0,this.script),this.editor.signals.scriptAdded.dispatch(this.script)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.script=this.script,t.index=this.index,t}fromJSON(t){super.fromJSON(t),this.script=t.script,this.index=t.index,this.object=this.editor.objectByUuid(t.objectUuid)}}class iD extends us{constructor(t,r,n){var c,p;super(t),this.type="SetAudioOptionCommand",this.name=`Set audio option to ${n}`,this.object=r,this.oldOption=(c=t.getObjectAudio(r))!=null&&c.option?(p=t.getObjectAudio(r))==null?void 0:p.option:"none",this.newOption=n,this.params=[n]}execute(){this.editor.setObjectAudio(this.object,{option:this.newOption}),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.editor.setObjectAudio(this.object,{option:this.oldOption}),this.editor.signals.objectChanged.dispatch(this.object)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.oldOption=this.oldOption.toJSON(),t.newOption=this.newOption.toJSON(),t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldOption=t.oldOption,this.newOption=t.newOption}}class nD extends us{constructor(t,r,n){var y,v;super(t);const{base64:c,sourceFile:p}=n;this.type="SetAudioValueCommand",this.name="Set audio value",this.object=r,this.oldValue=(y=t.getObjectAudio(r))!=null&&y.value?(v=t.getObjectAudio(r))==null?void 0:v.value:"none",this.newValue={base64:c,sourceFile:p},this.params=[n]}execute(){this.editor.setObjectAudio(this.object,{value:this.newValue}),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.editor.setObjectAudio(this.object,{value:this.oldValue}),this.editor.signals.objectChanged.dispatch(this.object)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.oldValue=this.oldValue.toJSON(),t.newValue=this.newValue.toJSON(),t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldValue=t.oldValue,this.newValue=t.newValue}}class vE extends us{constructor(t,r,n,c){super(t),this.type="SetColorCommand",this.name=`Set ${n}`,this.updatable=!0,this.object=r,this.attributeName=n,this.oldValue=r!==void 0?this.object[this.attributeName].getHex():void 0,this.newValue=c,this.params=[n,c]}execute(){this.object[this.attributeName].setHex(this.newValue),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.object[this.attributeName].setHex(this.oldValue),this.editor.signals.objectChanged.dispatch(this.object)}update(t){this.newValue=t.newValue}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.attributeName=this.attributeName,t.oldValue=this.oldValue,t.newValue=this.newValue,t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.attributeName=t.attributeName,this.oldValue=t.oldValue,this.newValue=t.newValue}}class pq extends us{constructor(t,r,n){super(t),this.type="SetGeometryCommand",this.name="Set Geometry",this.updatable=!0,this.object=r,this.oldGeometry=r!==void 0?r.geometry:void 0,this.newGeometry=n,this.params=[n]}execute(){this.object.geometry.dispose(),this.object.geometry=this.newGeometry,this.object.geometry.computeBoundingSphere(),this.editor.signals.geometryChanged.dispatch(this.object),this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.object.geometry.dispose(),this.object.geometry=this.oldGeometry,this.object.geometry.computeBoundingSphere(),this.editor.signals.geometryChanged.dispatch(this.object),this.editor.signals.sceneGraphChanged.dispatch()}update(t){this.newGeometry=t.newGeometry}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.oldGeometry=this.object.geometry.toJSON(),t.newGeometry=this.newGeometry.toJSON(),t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldGeometry=r(t.oldGeometry),this.newGeometry=r(t.newGeometry);function r(n){return new Hh().parseGeometries([n])[n.uuid]}}}class mq extends us{constructor(t,r,n,c){super(t),this.type="SetGeometryValueCommand",this.name=`Set Geometry.${n}`,this.object=r,this.attributeName=n,this.oldValue=r!==void 0?r.geometry[n]:void 0,this.newValue=c,this.params=[n,c]}execute(){this.object.geometry[this.attributeName]=this.newValue,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.geometryChanged.dispatch(),this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.object.geometry[this.attributeName]=this.oldValue,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.geometryChanged.dispatch(),this.editor.signals.sceneGraphChanged.dispatch()}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.attributeName=this.attributeName,t.oldValue=this.oldValue,t.newValue=this.newValue,t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.attributeName=t.attributeName,this.oldValue=t.oldValue,this.newValue=t.newValue}}class sD extends us{constructor(t,r,n,c,p){super(t),this.type="SetMaterialColorCommand",this.name=`Set Material.${n}`,this.updatable=!0,this.object=r,this.material=this.object!==void 0?this.editor.getObjectMaterial(r,p):void 0,this.oldValue=this.material!==void 0?this.material[n].getHex():void 0,this.newValue=c,this.attributeName=n,this.params=[n,c,p]}execute(){this.material[this.attributeName].setHex(this.newValue),this.editor.signals.materialChanged.dispatch(this.material)}undo(){this.material[this.attributeName].setHex(this.oldValue),this.editor.signals.materialChanged.dispatch(this.material)}update(t){this.newValue=t.newValue}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.attributeName=this.attributeName,t.oldValue=this.oldValue,t.newValue=this.newValue,t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.attributeName=t.attributeName,this.oldValue=t.oldValue,this.newValue=t.newValue}}class oD extends us{constructor(t,r,n,c){super(t),this.type="SetMaterialCommand",this.name="New Material",this.object=r,this.materialSlot=c,this.oldMaterial=this.editor.getObjectMaterial(r,c),this.newMaterial=n,this.params=[n,c]}execute(){this.editor.setObjectMaterial(this.object,this.materialSlot,this.newMaterial),this.editor.signals.materialChanged.dispatch(this.newMaterial)}undo(){this.editor.setObjectMaterial(this.object,this.materialSlot,this.oldMaterial),this.editor.signals.materialChanged.dispatch(this.oldMaterial)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.oldMaterial=this.oldMaterial.toJSON(),t.newMaterial=this.newMaterial.toJSON(),t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldMaterial=r(t.oldMaterial),this.newMaterial=r(t.newMaterial);function r(n){const c=new Hh,p=c.parseImages(n.images),y=c.parseTextures(n.textures,p);return c.parseMaterials([n],y)[n.uuid]}}}class ga extends us{constructor(t,r,n,c,p){super(t),this.type="SetMaterialValueCommand",this.name=`Set Material.${n}`,this.updatable=!0,this.object=r,this.material=this.editor.getObjectMaterial(r,p),this.oldValue=this.material!==void 0?this.material[n]:void 0,this.newValue=c,this.attributeName=n,this.params=[n,c,p]}execute(){this.material[this.attributeName]=this.newValue,this.material.needsUpdate=!0,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.materialChanged.dispatch(this.material)}undo(){this.material[this.attributeName]=this.oldValue,this.material.needsUpdate=!0,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.materialChanged.dispatch(this.material)}update(t){this.newValue=t.newValue}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.attributeName=this.attributeName,t.oldValue=this.oldValue,t.newValue=this.newValue,t}fromJSON(t){super.fromJSON(t),this.attributeName=t.attributeName,this.oldValue=t.oldValue,this.newValue=t.newValue,this.object=this.editor.objectByUuid(t.objectUuid)}}class aD extends us{constructor(t,r,n,c,p){super(t),this.type="SetMaterialVectorCommand",this.name=`Set Material.${n}`,this.updatable=!0,this.object=r,this.material=this.editor.getObjectMaterial(r,p),this.oldValue=this.material!==void 0?this.material[n].toArray():void 0,this.newValue=c,this.attributeName=n,this.params=[n,c,p]}execute(){this.material[this.attributeName].fromArray(this.newValue),this.editor.signals.materialChanged.dispatch(this.material)}undo(){this.material[this.attributeName].fromArray(this.oldValue),this.editor.signals.materialChanged.dispatch(this.material)}update(t){this.newValue=t.newValue}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.attributeName=this.attributeName,t.oldValue=this.oldValue,t.newValue=this.newValue,t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.attributeName=t.attributeName,this.oldValue=t.oldValue,this.newValue=t.newValue}}class lD extends us{constructor(t,r,n){var c,p;super(t),this.type="SetOnClickOptionCommand",this.name=`Set audio option to ${n}`,this.object=r,this.oldOption=(c=t.getObjectOnClick(r))!=null&&c.option?(p=t.getObjectOnClick(r))==null?void 0:p.option:"none",this.newOption=n,this.params=[n]}execute(){this.editor.setObjectOnClick(this.object,{option:this.newOption}),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.editor.setObjectOnClick(this.object,{option:this.oldOption}),this.editor.signals.objectChanged.dispatch(this.object)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.oldOption=this.oldOption.toJSON(),t.newOption=this.newOption.toJSON(),t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldOption=t.oldOption,this.newOption=t.newOption}}class gq extends us{constructor(t,r,n){var y,v;super(t);const{base64:c,sourceFile:p}=n;this.type="SetOnClickValueCommand",this.name="Set audio value",this.object=r,this.oldValue=(y=t.getObjectAudio(r))!=null&&y.value?(v=t.getObjectAudio(r))==null?void 0:v.value:"none",this.newValue={base64:c,sourceFile:p},this.params=[n]}execute(){this.editor.setObjectAudio(this.object,{value:this.newValue}),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.editor.setObjectAudio(this.object,{value:this.oldValue}),this.editor.signals.objectChanged.dispatch(this.object)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.oldValue=this.oldValue.toJSON(),t.newValue=this.newValue.toJSON(),t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldValue=t.oldValue,this.newValue=t.newValue}}class fD extends us{constructor(t,r,n){var c,p;super(t),this.type="SetPresentationOptionCommand",this.name=`Set presentation option to ${n}`,this.object=r,this.oldOption=(c=t.getObjectPresentation(r))!=null&&c.option?(p=t.getObjectPresentation(r))==null?void 0:p.option:"none",this.newOption=n,this.params=[n]}execute(){this.editor.setObjectPresentation(this.object,{option:this.newOption}),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.editor.setObjectPresentation(this.object,{option:this.oldOption}),this.editor.signals.objectChanged.dispatch(this.object)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.oldOption=this.oldOption.toJSON(),t.newOption=this.newOption.toJSON(),t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldOption=t.oldOption,this.newOption=t.newOption}}class uD extends us{constructor(t,r,n){var y,v;super(t);const{base64:c,sourceFile:p}=n;this.type="SetPresentationValueCommand",this.name="Set presentation value",this.object=r,this.oldValue=(y=t.getObjectPresentation(r))!=null&&y.value?(v=t.getObjectPresentation(r))==null?void 0:v.value:"none",this.newValue={base64:c,sourceFile:p},this.params=[n]}execute(){this.editor.setObjectPresentation(this.object,{value:this.newValue}),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.editor.setObjectPresentation(this.object,{value:this.oldValue}),this.editor.signals.objectChanged.dispatch(this.object)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.oldValue=this.oldValue.toJSON(),t.newValue=this.newValue.toJSON(),t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldValue=t.oldValue,this.newValue=t.newValue}}class cD extends us{constructor(t,r,n,c,p){super(t),this.type="SetScriptValueCommand",this.name=`Set Script.${c}`,this.updatable=!0,this.object=r,this.script=n,this.attributeName=c,this.oldValue=n!==void 0?n[this.attributeName]:void 0,this.newValue=p,this.params=[n,c,p]}execute(){this.script[this.attributeName]=this.newValue,this.editor.signals.scriptChanged.dispatch()}undo(){this.script[this.attributeName]=this.oldValue,this.editor.signals.scriptChanged.dispatch()}update(t){this.newValue=t.newValue}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.index=this.editor.scripts[this.object.uuid].indexOf(this.script),t.attributeName=this.attributeName,t.oldValue=this.oldValue,t.newValue=this.newValue,t}fromJSON(t){super.fromJSON(t),this.oldValue=t.oldValue,this.newValue=t.newValue,this.attributeName=t.attributeName,this.object=this.editor.objectByUuid(t.objectUuid),this.script=this.editor.scripts[t.objectUuid][t.index]}}var $u=Object.freeze(Object.defineProperty({__proto__:null,AddObjectCommand:r0,AddScriptCommand:cq,MoveObjectCommand:Fg,MultiCmdsCommand:hq,RemoveObjectCommand:xh,RemoveScriptCommand:dq,SetAudioOptionCommand:iD,SetAudioValueCommand:nD,SetColorCommand:vE,SetGeometryCommand:pq,SetGeometryValueCommand:mq,SetMaterialColorCommand:sD,SetMaterialCommand:oD,SetMaterialMapCommand:IR,SetMaterialValueCommand:ga,SetMaterialVectorCommand:aD,SetOnClickOptionCommand:lD,SetOnClickValueCommand:gq,SetPositionCommand:oc,SetPresentationOptionCommand:fD,SetPresentationValueCommand:uD,SetRotationCommand:Bp,SetScaleCommand:Ip,SetSceneCommand:hE,SetScriptValueCommand:cD,SetUuidCommand:F8,SetValueCommand:ws},Symbol.toStringTag,{value:"Module"}));function hD(a){this.editor=a,this.undos=[],this.redos=[],this.lastCmdTime=new Date,this.idCounter=0,this.historyDisabled=!1,this.config=a.config;const t=this;this.editor.signals.startPlayer.add(function(){t.historyDisabled=!0}),this.editor.signals.stopPlayer.add(function(){t.historyDisabled=!1})}hD.prototype={execute:function(a,t){const r=this.undos[this.undos.length-1],n=new Date().getTime()-this.lastCmdTime.getTime(),c=r&&r.updatable&&a.updatable&&r.object===a.object&&r.type===a.type&&r.script===a.script&&r.attributeName===a.attributeName;c&&a.type==="SetScriptValueCommand"||c&&n<500?(r.update(a),a=r):(this.undos.push(a),console.log(this.undos),a.id=++this.idCounter),a.name=t!==void 0?t:a.name,a.execute(),a.inMemory=!0,this.config.getKey("settings/history")&&(a.json=a.toJSON()),this.lastCmdTime=new Date,this.redos=[],this.editor.signals.historyChanged.dispatch(a)},undo:function(){if(this.historyDisabled){alert("Undo/Redo disabled while scene is playing.");return}let a;return this.undos.length>0&&(a=this.undos.pop(),a.inMemory===!1&&a.fromJSON(a.json)),a!==void 0&&(a.undo(),this.redos.push(a),this.editor.signals.historyChanged.dispatch(a)),a},redo:function(){if(this.historyDisabled){alert("Undo/Redo disabled while scene is playing.");return}let a;return this.redos.length>0&&(a=this.redos.pop(),a.inMemory===!1&&a.fromJSON(a.json)),a!==void 0&&(a.execute(),this.undos.push(a),this.editor.signals.historyChanged.dispatch(a)),a},toJSON:function(){const a={};if(a.undos=[],a.redos=[],!this.config.getKey("settings/history"))return a;for(let t=0;t<this.undos.length;t++)this.undos[t].hasOwnProperty("json")&&a.undos.push(this.undos[t].json);for(let t=0;t<this.redos.length;t++)this.redos[t].hasOwnProperty("json")&&a.redos.push(this.redos[t].json);return a},fromJSON:function(a){if(a!==void 0){for(let t=0;t<a.undos.length;t++){const r=a.undos[t],n=new $u[r.type](this.editor);n.json=r,n.id=r.id,n.name=r.name,this.undos.push(n),this.idCounter=r.id>this.idCounter?r.id:this.idCounter}for(let t=0;t<a.redos.length;t++){const r=a.redos[t],n=new $u[r.type](this.editor);n.json=r,n.id=r.id,n.name=r.name,this.redos.push(n),this.idCounter=r.id>this.idCounter?r.id:this.idCounter}this.editor.signals.historyChanged.dispatch(this.undos[this.undos.length-1])}},clear:function(){this.undos=[],this.redos=[],this.idCounter=0,this.editor.signals.historyChanged.dispatch()},goToState:function(a){if(this.historyDisabled){alert("Undo/Redo disabled while scene is playing.");return}this.editor.signals.sceneGraphChanged.active=!1,this.editor.signals.historyChanged.active=!1;let t=this.undos.length>0?this.undos[this.undos.length-1]:void 0;if(t===void 0||a>t.id)for(t=this.redo();t!==void 0&&a>t.id;)t=this.redo();else for(;t=this.undos[this.undos.length-1],!(t===void 0||a===t.id);)this.undo();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.historyChanged.active=!0,this.editor.signals.sceneGraphChanged.dispatch(),this.editor.signals.historyChanged.dispatch(t)},enableSerialization:function(a){this.goToState(-1),this.editor.signals.sceneGraphChanged.active=!1,this.editor.signals.historyChanged.active=!1;let t=this.redo();for(;t!==void 0;)t.hasOwnProperty("json")||(t.json=t.toJSON()),t=this.redo();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.historyChanged.active=!0,this.goToState(a)}};function bq(a){const t=a.getKey("language"),r={en:{"menubar/file":"File","menubar/file/new":"New","menubar/file/import":"Import From:","menubar/file/import/computer":"My Computer","menubar/file/import/gdrive":"/Google Drive","menubar/file/import/meta":"/MetaMask","menubar/file/export/geometry":"Export Geometry","menubar/file/export/object":"Export Object","menubar/file/export/scene":"Export Scene","menubar/file/export/dae":"Export DAE","menubar/file/export/drc":"Export DRC","menubar/file/export/glb":"Export GLB","menubar/file/export/gltf":"Export GLTF","menubar/file/export/obj":"Export OBJ","menubar/file/export/ply":"Export PLY","menubar/file/export/ply_binary":"Export PLY (Binary)","menubar/file/export/stl":"Export STL","menubar/file/export/stl_binary":"Export STL (Binary)","menubar/file/export/usdz":"Export USDZ","menubar/file/publish":"Publish","menubar/file/export/pc":"Export zip","menubar/edit":"Edit","menubar/edit/undo":"Undo (Ctrl+Z)","menubar/edit/redo":"Redo (Ctrl+Shift+Z)","menubar/edit/clear_history":"Clear History","menubar/edit/center":"Center","menubar/edit/clone":"Clone","menubar/edit/copy":"Copy","menubar/edit/duplicate":"Duplicate","menubar/edit/delete":"Delete (Del)","menubar/edit/fixcolormaps":"Fix Color Maps","menubar/add":"Add","menubar/add/group":"Group","menubar/add/text":"Text","menubar/add/plane":"Plane","menubar/add/entrance":"Entrance","menubar/add/exit":"Exit","menubar/add/box":"Box","menubar/add/capsule":"Capsule","menubar/add/circle":"Circle","menubar/add/cylinder":"Cylinder","menubar/add/ring":"Ring","menubar/add/sphere":"Sphere","menubar/add/dodecahedron":"Dodecahedron","menubar/add/star":"Star","menubar/add/icosahedron":"Icosahedron","menubar/add/octahedron":"Octahedron","menubar/add/tetrahedron":"Tetrahedron","menubar/add/torus":"Torus","menubar/add/tube":"Tube","menubar/add/torusknot":"TorusKnot","menubar/add/lathe":"Lathe","menubar/add/sprite":"Sprite","menubar/add/pointlight":"PointLight","menubar/add/spotlight":"SpotLight","menubar/add/directionallight":"DirectionalLight","menubar/add/hemispherelight":"HemisphereLight","menubar/add/ambientlight":"AmbientLight","menubar/add/perspectivecamera":"PerspectiveCamera","menubar/add/orthographiccamera":"OrthographicCamera","addbar/option/cursor/undo":"Undo (Ctrl+Z)","addbar/option/cursor/redo":"Redo (Ctrl+Shift+Z)","addbar/option/cursor/clear_history":"Clear History","addbar/option/cursor/center":"Center","addbar/option/cursor/clone":"Clone","addbar/option/cursor/copy":"Copy","addbar/option/cursor/duplicate":"Duplicate","addbar/option/cursor/delete":"Delete (Del)","addbar/option/cursor/fixcolormaps":"Fix Color Maps","addbar/option/object/text":"Text","addbar/option/object/postit":"Post-it","addbar/option/object":"Add","addbar/option/object/plane":"Plane","addbar/option/object/portal":"Portal","addbar/option/object/box":"Box","addbar/option/object/sphere":"Sphere","addbar/option/object/pentagon":"Pentagon","addbar/option/object/hexagon":"Hexagon","addbar/option/object/pyramid":"Pyramid","addbar/option/object/cone":"Cone","addbar/option/object/torus":"Torus","addbar/option/object/star":"Star","addbar/option/object/entrance":"Entrance","addbar/option/object/exit":"Exit","addbar/option/object/directionallight":"Directional Light",PlaneGeometry:"addbar/option/object/plane",BoxGeometry:"addbar/option/object/box",SphereGeometry:"addbar/option/object/sphere",CylinderGeometry:"addbar/option/object/cylinder",ConeGeometry:"addbar/option/object/cone",TorusGeometry:"addbar/option/object/torus",ExtrudeGeometry:"addbar/option/object/star","addbar/option/object/group":"Group","addbar/option/object/capsule":"Capsule","addbar/option/object/circle":"Circle","addbar/option/object/cylinder":"Cylinder","addbar/option/object/ring":"Ring","addbar/option/object/dodecahedron":"Dodecahedron","addbar/option/object/icosahedron":"Icosahedron","addbar/option/object/octahedron":"Octahedron","addbar/option/object/tetrahedron":"Tetrahedron","addbar/option/object/tube":"Tube","addbar/option/object/torusknot":"TorusKnot","addbar/option/object/lathe":"Lathe","addbar/option/object/sprite":"Sprite","addbar/option/object/pointlight":"PointLight","addbar/option/object/spotlight":"SpotLight","addbar/option/object/directionallight":"DirectionalLight","addbar/option/object/hemispherelight":"HemisphereLight","addbar/option/object/ambientlight":"AmbientLight","addbar/option/object/perspectivecamera":"PerspectiveCamera","addbar/option/object/orthographiccamera":"OrthographicCamera","addbar/option/object/presentation":"Presentation","addbar/option/library":"Library","addbar/option/library/search":"Search","addbar/option/library/room":"Room","addbar/option/library/object":"Object","addbar/option/library/mylib":"My Library","addbar/option/library/favourites":"Favourites","addbar/option/file":"File","addbar/option/file/new":"New Room","addbar/option/file/save":"Save","addbar/option/file/import":"Import","addbar/option/file/importfrom":"Import From:","addbar/option/file/import/computer":"My Computer","addbar/option/file/import/ai":"Generate Images(AI)","addbar/option/file/import/gdrive":"Google Drive","addbar/option/file/import/meta":"/MetaMask","addbar/option/file/export":"Export","addbar/option/file/export/geometry":"Export Geometry","addbar/option/file/export/object":"Export Object","addbar/option/file/export/scene":"Export Scene","addbar/option/file/export/dae":"Export DAE","addbar/option/file/export/drc":"Export DRC","addbar/option/file/export/glb":"Export GLB","addbar/option/file/export/gltf":"Export GLTF","addbar/option/file/export/obj":"Export OBJ","addbar/option/file/export/ply":"Export PLY","addbar/option/file/export/ply_binary":"Export PLY (Binary)","addbar/option/file/export/stl":"Export STL","addbar/option/file/export/stl_binary":"Export STL (Binary)","addbar/option/file/export/usdz":"Export USDZ","addbar/option/file/export/pc":"Export ZIP","addbar/option/file/publish":"Save","addbar/option/file/preview":"Preview My Room","addbar/option/file/play":"Play","addbar/option/setting/setting":"Setting","addbar/option/setting/help":"Help","addbar/option/setting/update":"Update","communicate/chat/top":"Chat Room","communicate/chat/hint":"*(All messages will be gone  when this window is closed.)","communicate/chat/send":"Send","menubar/status/autosave":"autosave","menubar/play":"Play","menubar/play/stop":"Stop","menubar/play/play":"Play","menubar/examples":"Examples","menubar/examples/Arkanoid":"Arkanoid","menubar/examples/Camera":"Camera","menubar/examples/Particles":"Particles","menubar/examples/Pong":"Pong","menubar/examples/Shaders":"Shaders","menubar/view":"View","menubar/view/fullscreen":"Fullscreen","menubar/help":"Help","menubar/help/source_code":"Source Code","menubar/help/icons":"Icon Pack","menubar/help/about":"About","menubar/help/manual":"Manual","sidebar/animations":"Animations","sidebar/animations/play":"Play","sidebar/animations/stop":"Stop","sidebar/animations/timescale":"Time Scale","sidebar/scene":"Scene","sidebar/room":"Layer","sidebar/object":"Object","sidebar/action":"Action","sidebar/scene/background":"Background","sidebar/scene/environment":"Environment","sidebar/scene/fog":"Fog","sidebar/scene/group":"Add Group","sidebar/properties/object":"Object","sidebar/properties/prop":"Prop","sidebar/properties/play":"Play","sidebar/properties/geometry":"Geometry","sidebar/properties/material":"Material","sidebar/properties/script":"Script","sidebar/object/title":"Object","sidebar/object/type":"Type","sidebar/object/new":"New","sidebar/object/uuid":"UUID","sidebar/object/name":"Name","sidebar/object/position":"Position","sidebar/object/rotation":"Rotation","sidebar/object/scale":"Scale","sidebar/object/fov":"Fov","sidebar/object/left":"Left","sidebar/object/right":"Right","sidebar/object/top":"Top","sidebar/object/bottom":"Bottom","sidebar/object/near":"Near","sidebar/object/far":"Far","sidebar/object/intensity":"Intensity","sidebar/object/color":"Color","sidebar/object/groundcolor":"Ground Color","sidebar/object/distance":"Distance","sidebar/object/angle":"Angle","sidebar/object/penumbra":"Penumbra","sidebar/object/decay":"Decay","sidebar/object/shadow":"Shadow","sidebar/object/shadowBias":"Shadow Bias","sidebar/object/shadowNormalBias":"Shadow Normal Bias","sidebar/object/shadowRadius":"Shadow Radius","sidebar/object/cast":"cast","sidebar/object/receive":"receive","sidebar/object/visible":"Visible","sidebar/object/frustumcull":"Frustum Cull","sidebar/object/renderorder":"Render Order","sidebar/object/userdata":"User data","sidebar/geometry/type":"Type","sidebar/geometry/new":"New","sidebar/geometry/uuid":"UUID","sidebar/geometry/name":"Name","sidebar/geometry/bounds":"Bounds","sidebar/geometry/show_vertex_normals":"Show Vertex Normals","sidebar/geometry/box_geometry/width":"Width","sidebar/geometry/box_geometry/height":"Height","sidebar/geometry/box_geometry/depth":"Depth","sidebar/geometry/box_geometry/widthseg":"Width Seg","sidebar/geometry/box_geometry/heightseg":"Height Seg","sidebar/geometry/box_geometry/depthseg":"Depth Seg","sidebar/geometry/buffer_geometry/attributes":"Attributes","sidebar/geometry/buffer_geometry/index":"index","sidebar/geometry/capsule_geometry/radius":"Radius","sidebar/geometry/capsule_geometry/length":"Length","sidebar/geometry/capsule_geometry/capseg":"Cap Seg","sidebar/geometry/capsule_geometry/radialseg":"Radial Seg","sidebar/geometry/circle_geometry/radius":"Radius","sidebar/geometry/circle_geometry/segments":"Segments","sidebar/geometry/circle_geometry/thetastart":"Theta start","sidebar/geometry/circle_geometry/thetalength":"Theta length","sidebar/geometry/cylinder_geometry/radiustop":"Radius top","sidebar/geometry/cylinder_geometry/radiusbottom":"Radius bottom","sidebar/geometry/cylinder_geometry/height":"Height","sidebar/geometry/cylinder_geometry/radialsegments":"Radial segments","sidebar/geometry/cylinder_geometry/heightsegments":"Height segments","sidebar/geometry/cylinder_geometry/openended":"Open ended","sidebar/geometry/extrude_geometry/curveSegments":"Curve Segments","sidebar/geometry/extrude_geometry/steps":"Steps","sidebar/geometry/extrude_geometry/depth":"Depth","sidebar/geometry/extrude_geometry/bevelEnabled":"Bevel?","sidebar/geometry/extrude_geometry/bevelThickness":"Thickness","sidebar/geometry/extrude_geometry/bevelSize":"Size","sidebar/geometry/extrude_geometry/bevelOffset":"Offset","sidebar/geometry/extrude_geometry/bevelSegments":"Segments","sidebar/geometry/extrude_geometry/shape":"Convert to Shape","sidebar/geometry/dodecahedron_geometry/radius":"Radius","sidebar/geometry/dodecahedron_geometry/detail":"Detail","sidebar/geometry/icosahedron_geometry/radius":"Radius","sidebar/geometry/icosahedron_geometry/detail":"Detail","sidebar/geometry/octahedron_geometry/radius":"Radius","sidebar/geometry/octahedron_geometry/detail":"Detail","sidebar/geometry/tetrahedron_geometry/radius":"Radius","sidebar/geometry/tetrahedron_geometry/detail":"Detail","sidebar/geometry/lathe_geometry/segments":"Segments","sidebar/geometry/lathe_geometry/phistart":"Phi start (\xB0)","sidebar/geometry/lathe_geometry/philength":"Phi length (\xB0)","sidebar/geometry/lathe_geometry/points":"Points","sidebar/geometry/plane_geometry/width":"Width","sidebar/geometry/plane_geometry/height":"Height","sidebar/geometry/plane_geometry/widthsegments":"Width segments","sidebar/geometry/plane_geometry/heightsegments":"Height segments","sidebar/geometry/ring_geometry/innerRadius":"Inner radius","sidebar/geometry/ring_geometry/outerRadius":"Outer radius","sidebar/geometry/ring_geometry/thetaSegments":"Theta segments","sidebar/geometry/ring_geometry/phiSegments":"Phi segments","sidebar/geometry/ring_geometry/thetastart":"Theta start","sidebar/geometry/ring_geometry/thetalength":"Theta length","sidebar/geometry/shape_geometry/curveSegments":"Curve Segments","sidebar/geometry/shape_geometry/extrude":"Extrude","sidebar/geometry/sphere_geometry/radius":"Radius","sidebar/geometry/sphere_geometry/widthsegments":"Width segments","sidebar/geometry/sphere_geometry/heightsegments":"Height segments","sidebar/geometry/sphere_geometry/phistart":"Phi start","sidebar/geometry/sphere_geometry/philength":"Phi length","sidebar/geometry/sphere_geometry/thetastart":"Theta start","sidebar/geometry/sphere_geometry/thetalength":"Theta length","sidebar/geometry/torus_geometry/radius":"Radius","sidebar/geometry/torus_geometry/tube":"Tube","sidebar/geometry/torus_geometry/radialsegments":"Radial segments","sidebar/geometry/torus_geometry/tubularsegments":"Tubular segments","sidebar/geometry/torus_geometry/arc":"Arc","sidebar/geometry/torusKnot_geometry/radius":"Radius","sidebar/geometry/torusKnot_geometry/tube":"Tube","sidebar/geometry/torusKnot_geometry/tubularsegments":"Tubular segments","sidebar/geometry/torusKnot_geometry/radialsegments":"Radial segments","sidebar/geometry/torusKnot_geometry/p":"P","sidebar/geometry/torusKnot_geometry/q":"Q","sidebar/geometry/tube_geometry/path":"Path","sidebar/geometry/tube_geometry/radius":"Radius","sidebar/geometry/tube_geometry/tube":"Tube","sidebar/geometry/tube_geometry/tubularsegments":"Tubular segments","sidebar/geometry/tube_geometry/radialsegments":"Radial segments","sidebar/geometry/tube_geometry/closed":"Closed","sidebar/geometry/tube_geometry/curvetype":"Curve Type","sidebar/geometry/tube_geometry/tension":"Tension","sidebar/play/text":"Text","sidebar/play/postit":"Post-It","sidebar/play/postitbg":"Background","sidebar/play/audio":"Audio","sidebar/play/audio/file":"Audio File","sidebar/play/audio/none":"None","sidebar/play/audio/onclick":"On click","sidebar/play/audio/range":"Range","sidebar/play/audio/upload":"Upload","sidebar/play/audio/uploaded":"Loaded","sidebar/play/onclick":"On click","sidebar/play/onclick/url":"Hyperlink","sidebar/play/presentation":"Presentation","sidebar/play/presentation/present":"Present","sidebar/play/presentation/file":"Present File","sidebar/play/presentation/upload":"Upload","sidebar/play/presentation/uploaded":"Loaded","sidebar/material/new":"New","sidebar/material/copy":"Copy","sidebar/material/paste":"Paste","sidebar/material/slot":"Slot","sidebar/material/type":"Type","sidebar/material/uuid":"UUID","sidebar/material/name":"Name","sidebar/material/program":"Program","sidebar/material/info":"Info","sidebar/material/vertex":"Vert","sidebar/material/fragment":"Frag","sidebar/material/color":"Color","sidebar/material/depthPacking":"Depth Packing","sidebar/material/roughness":"Roughness","sidebar/material/metalness":"Metalness","sidebar/material/reflectivity":"Reflectivity","sidebar/material/emissive":"Emissive","sidebar/material/specular":"Specular","sidebar/material/shininess":"Shininess","sidebar/material/clearcoat":"Clearcoat","sidebar/material/clearcoatroughness":"Clearcoat Roughness","sidebar/material/transmission":"Transmission","sidebar/material/attenuationDistance":"Attenuation Distance","sidebar/material/attenuationColor":"Attenuation Color","sidebar/material/thickness":"Thickness","sidebar/material/vertexcolors":"Vertex Colors","sidebar/material/matcap":"Matcap","sidebar/material/map":"Map","sidebar/material/texture":"Texture","sidebar/material/alphamap":"Alpha Map","sidebar/material/bumpmap":"Bump Map","sidebar/material/normalmap":"Normal Map","sidebar/material/clearcoatnormalmap":"Clearcoat Normal Map","sidebar/material/displacementmap":"Displace Map","sidebar/material/roughnessmap":"Rough. Map","sidebar/material/metalnessmap":"Metal. Map","sidebar/material/specularmap":"Specular Map","sidebar/material/envmap":"Env Map","sidebar/material/lightmap":"Light Map","sidebar/material/aomap":"AO Map","sidebar/material/emissivemap":"Emissive Map","sidebar/material/gradientmap":"Gradient Map","sidebar/material/side":"Side","sidebar/material/size":"Size","sidebar/material/sizeAttenuation":"Size Attenuation","sidebar/material/flatShading":"Flat Shading","sidebar/material/blending":"Blending","sidebar/material/opacity":"Opacity","sidebar/material/transparent":"Transparent","sidebar/material/alphatest":"Alpha Test","sidebar/material/depthtest":"Depth Test","sidebar/material/depthwrite":"Depth Write","sidebar/material/wireframe":"Wireframe","sidebar/material/userdata":"User data","sidebar/script":"Script","sidebar/script/new":"New","sidebar/script/edit":"Edit","sidebar/script/remove":"Remove","sidebar/project":"Background","sidebar/project/title":"Title","sidebar/project/editable":"Editable","sidebar/project/vr":"VR","sidebar/project/renderer":"Renderer","sidebar/project/antialias":"Antialias","sidebar/project/shadows":"Shadows","sidebar/project/physicallyCorrectLights":"Physical lights","sidebar/project/toneMapping":"Tone mapping","sidebar/project/materials":"Materials","sidebar/project/Assign":"Assign","sidebar/project/video":"Video","sidebar/project/resolution":"Resolution","sidebar/project/duration":"Duration","sidebar/project/render":"Render","sidebar/others":"Others","sidebar/settings/language":"Language","sidebar/settings/shortcuts":"Shortcuts","sidebar/settings/shortcuts/translate":"Translate","sidebar/settings/shortcuts/rotate":"Rotate","sidebar/settings/shortcuts/scale":"Scale","sidebar/settings/shortcuts/undo":"Undo","sidebar/settings/shortcuts/focus":"Focus","sidebar/settings/viewport":"Viewport","sidebar/settings/viewport/grid":"Grid","sidebar/settings/viewport/helpers":"Helpers","sidebar/history":"History","sidebar/history/persistent":"persistent","toolbar/translate":"Translate","toolbar/rotate":"Rotate","toolbar/scale":"Scale","toolbar/local":"Local","viewport/info/objects":"Objects","viewport/info/vertices":"Vertices","viewport/info/triangles":"Triangles","viewport/info/frametime":"Frametime"},fr:{"menubar/file":"Fichier","menubar/file/new":"Nouveau","menubar/file/import":"Importer","menubar/file/export/geometry":"Exporter Geometrie","menubar/file/export/object":"Exporter Objet","menubar/file/export/scene":"Exporter Scene","menubar/file/export/dae":"Exporter DAE","menubar/file/export/drc":"Exporter DRC","menubar/file/export/glb":"Exporter GLB","menubar/file/export/gltf":"Exporter GLTF","menubar/file/export/obj":"Exporter OBJ","menubar/file/export/ply":"Exporer PLY","menubar/file/export/ply_binary":"Exporter PLY (Binaire)","menubar/file/export/stl":"Exporter STL","menubar/file/export/stl_binary":"Exporter STL (Binaire)","menubar/file/export/usdz":"Exporter USDZ","menubar/file/publish":"Publier","menubar/edit":"Edition","menubar/edit/undo":"Annuler (Ctrl+Z)","menubar/edit/redo":"Refaire (Ctrl+Shift+Z)","menubar/edit/clear_history":"Supprimer Historique","menubar/edit/center":"Center","menubar/edit/clone":"Cloner","menubar/edit/delete":"Supprimer (Supp)","menubar/edit/fixcolormaps":"Correction des couleurs","menubar/add":"Ajouter","menubar/add/group":"Groupe","menubar/add/plane":"Plan","menubar/add/box":"Cube","menubar/add/capsule":"Capsule","menubar/add/circle":"Cercle","menubar/add/cylinder":"Cylindre","menubar/add/ring":"Bague","menubar/add/sphere":"Sph\xE8re","menubar/add/dodecahedron":"Dod\xE9ca\xE8dre","menubar/add/star":"Star","menubar/add/icosahedron":"Icosa\xE8dre","menubar/add/octahedron":"Octa\xE8dre","menubar/add/tetrahedron":"T\xE9tra\xE8dre","menubar/add/torus":"Torus","menubar/add/tube":"Tube","menubar/add/torusknot":"Noeud Torus","menubar/add/lathe":"Tour","menubar/add/sprite":"Sprite","menubar/add/pointlight":"Lumi\xE8re ponctuelle","menubar/add/spotlight":"Projecteur","menubar/add/directionallight":"Lumi\xE8re directionnelle","menubar/add/hemispherelight":"Lumi\xE8re h\xE9misph\xE9rique","menubar/add/ambientlight":"Lumi\xE8re ambiante","menubar/add/perspectivecamera":"Cam\xE9ra perspective","menubar/add/orthographiccamera":"Cam\xE9ra orthographique","menubar/status/autosave":"enregistrement automatique","menubar/play":"Jouer","menubar/play/stop":"Arr\xEAter","menubar/play/play":"Jouer","menubar/examples":"Exemples","menubar/examples/Arkanoid":"Arkanoid","menubar/examples/Camera":"Camera","menubar/examples/Particles":"Particles","menubar/examples/Pong":"Pong","menubar/examples/Shaders":"Shaders","menubar/view":"View","menubar/view/fullscreen":"Fullscreen","menubar/help":"Aide","menubar/help/source_code":"Code Source","menubar/help/icons":"Icon Pack","menubar/help/about":"A propos","menubar/help/manual":"Manual","sidebar/animations":"Animations","sidebar/animations/play":"Play","sidebar/animations/stop":"Stop","sidebar/animations/timescale":"Time Scale","sidebar/scene":"Sc\xE8ne","sidebar/scene/background":"Arri\xE8re Plan","sidebar/scene/environment":"Environment","sidebar/scene/fog":"Brouillard","sidebar/properties/object":"Objet","sidebar/properties/geometry":"G\xE9om\xE9trie","sidebar/properties/material":"Mat\xE9riaux","sidebar/properties/script":"Script","sidebar/object/title":"Object","sidebar/object/type":"Type","sidebar/object/new":"Nouveau","sidebar/object/uuid":"UUID","sidebar/object/name":"Nom","sidebar/object/position":"Position","sidebar/object/rotation":"Rotation","sidebar/object/scale":"\xC9chelle","sidebar/object/fov":"Champ de vision","sidebar/object/left":"Gauche","sidebar/object/right":"Droite","sidebar/object/top":"Haut","sidebar/object/bottom":"Bas","sidebar/object/near":"Pr\xE8s","sidebar/object/far":"Loin","sidebar/object/intensity":"Intensit\xE9","sidebar/object/color":"Couleur","sidebar/object/groundcolor":"Couleur de fond","sidebar/object/distance":"Distance","sidebar/object/angle":"Angle","sidebar/object/penumbra":"P\xE9nombre","sidebar/object/decay":"Affaiblissement","sidebar/object/shadow":"Ombre","sidebar/object/shadowBias":"Biais directionnel des ombres","sidebar/object/shadowNormalBias":"Shadow Normal Bias","sidebar/object/shadowRadius":"Rayon de l'ombre","sidebar/object/cast":"Proj\xE8te","sidebar/object/receive":"Re\xE7oit","sidebar/object/visible":"Visible","sidebar/object/frustumcull":"Culling","sidebar/object/renderorder":"Ordre de rendus","sidebar/object/userdata":"Donn\xE9es utilisateur","sidebar/geometry/type":"Type","sidebar/geometry/new":"Nouveau","sidebar/geometry/uuid":"UUID","sidebar/geometry/name":"Nom","sidebar/geometry/bounds":"Limites","sidebar/geometry/show_vertex_normals":"Afficher normales","sidebar/geometry/box_geometry/width":"Largeur","sidebar/geometry/box_geometry/height":"Hauteur","sidebar/geometry/box_geometry/depth":"Profondeur","sidebar/geometry/box_geometry/widthseg":"Segments en Largeur","sidebar/geometry/box_geometry/heightseg":"Segments en Hauteur","sidebar/geometry/box_geometry/depthseg":"Segments en Profondeur","sidebar/geometry/buffer_geometry/attributes":"Attributs","sidebar/geometry/buffer_geometry/index":"index","sidebar/geometry/capsule_geometry/radius":"Radius","sidebar/geometry/capsule_geometry/length":"Length","sidebar/geometry/capsule_geometry/capseg":"Cap Seg","sidebar/geometry/capsule_geometry/radialseg":"Radial Seg","sidebar/geometry/circle_geometry/radius":"Rayon","sidebar/geometry/circle_geometry/segments":"Segments","sidebar/geometry/circle_geometry/thetastart":"D\xE9but Th\xEAta (\xB0)","sidebar/geometry/circle_geometry/thetalength":"Longueur Th\xEAta (\xB0)","sidebar/geometry/cylinder_geometry/radiustop":"Rayon sup\xE9rieur","sidebar/geometry/cylinder_geometry/radiusbottom":"Rayon inf\xE9rieur","sidebar/geometry/cylinder_geometry/height":"Hauteur","sidebar/geometry/cylinder_geometry/radialsegments":"Segments radiaux","sidebar/geometry/cylinder_geometry/heightsegments":"Segments en hauteur","sidebar/geometry/cylinder_geometry/openended":"Extr\xE9mit\xE9s ouvertes","sidebar/geometry/extrude_geometry/curveSegments":"Segments de courbe","sidebar/geometry/extrude_geometry/steps":"Pas","sidebar/geometry/extrude_geometry/depth":"Profondeur","sidebar/geometry/extrude_geometry/bevelEnabled":"Biseau","sidebar/geometry/extrude_geometry/bevelThickness":"\xC9paisseur","sidebar/geometry/extrude_geometry/bevelSize":"Taille","sidebar/geometry/extrude_geometry/bevelOffset":"D\xE9calage","sidebar/geometry/extrude_geometry/bevelSegments":"Segments","sidebar/geometry/extrude_geometry/shape":"Convertir en forme","sidebar/geometry/dodecahedron_geometry/radius":"Rayon","sidebar/geometry/dodecahedron_geometry/detail":"D\xE9tail","sidebar/geometry/icosahedron_geometry/radius":"Rayon","sidebar/geometry/icosahedron_geometry/detail":"D\xE9tail","sidebar/geometry/octahedron_geometry/radius":"Rayon","sidebar/geometry/octahedron_geometry/detail":"D\xE9tail","sidebar/geometry/tetrahedron_geometry/radius":"Rayon","sidebar/geometry/tetrahedron_geometry/detail":"D\xE9tail","sidebar/geometry/lathe_geometry/segments":"Segments","sidebar/geometry/lathe_geometry/phistart":"D\xE9but Phi (\xB0)","sidebar/geometry/lathe_geometry/philength":"Longueur Phi (\xB0)","sidebar/geometry/lathe_geometry/points":"Points","sidebar/geometry/plane_geometry/width":"Largeur","sidebar/geometry/plane_geometry/height":"Hauteur","sidebar/geometry/plane_geometry/widthsegments":"Segments en Largeur","sidebar/geometry/plane_geometry/heightsegments":"Segments en Hauteur","sidebar/geometry/ring_geometry/innerRadius":"Rayon int\xE9rieur","sidebar/geometry/ring_geometry/outerRadius":"Rayon ext\xE9rieur","sidebar/geometry/ring_geometry/thetaSegments":"Segments Th\xEAta","sidebar/geometry/ring_geometry/phiSegments":"Phi segments","sidebar/geometry/ring_geometry/thetastart":"D\xE9but Th\xEAta","sidebar/geometry/ring_geometry/thetalength":"Longueur Th\xEAta","sidebar/geometry/shape_geometry/curveSegments":"Segments de courbe","sidebar/geometry/shape_geometry/extrude":"Extruder","sidebar/geometry/sphere_geometry/radius":"Rayon","sidebar/geometry/sphere_geometry/widthsegments":"Segments en Largeur","sidebar/geometry/sphere_geometry/heightsegments":"Segments en Hauteur","sidebar/geometry/sphere_geometry/phistart":"D\xE9but Phi (\xB0)","sidebar/geometry/sphere_geometry/philength":"Longueur Phi (\xB0)","sidebar/geometry/sphere_geometry/thetastart":"D\xE9but Th\xEAta","sidebar/geometry/sphere_geometry/thetalength":"Longueur Th\xEAta","sidebar/geometry/torus_geometry/radius":"Rayon","sidebar/geometry/torus_geometry/tube":"Tube","sidebar/geometry/torus_geometry/radialsegments":"Segments radiaux","sidebar/geometry/torus_geometry/tubularsegments":"Segments tubulaires","sidebar/geometry/torus_geometry/arc":"Arc","sidebar/geometry/torusKnot_geometry/radius":"Rayon","sidebar/geometry/torusKnot_geometry/tube":"Tube","sidebar/geometry/torusKnot_geometry/tubularsegments":"Segments tubulaires","sidebar/geometry/torusKnot_geometry/radialsegments":"Segments radiaux","sidebar/geometry/torusKnot_geometry/p":"P","sidebar/geometry/torusKnot_geometry/q":"Q","sidebar/geometry/tube_geometry/path":"Chemin","sidebar/geometry/tube_geometry/radius":"Rayon","sidebar/geometry/tube_geometry/tube":"Tube","sidebar/geometry/tube_geometry/tubularsegments":"Segments tubulaires","sidebar/geometry/tube_geometry/radialsegments":"Segments radiaux","sidebar/geometry/tube_geometry/closed":"Ferm\xE9","sidebar/geometry/tube_geometry/curvetype":"Type de courbe","sidebar/geometry/tube_geometry/tension":"Tension","sidebar/material/new":"Nouveau","sidebar/material/copy":"Copier","sidebar/material/paste":"Coller","sidebar/material/slot":"Slot","sidebar/material/type":"Type","sidebar/material/uuid":"UUID","sidebar/material/name":"Nom","sidebar/material/program":"Programme","sidebar/material/info":"Info","sidebar/material/vertex":"Sommet","sidebar/material/fragment":"Fragment","sidebar/material/color":"Couleur","sidebar/material/depthPacking":"Encodage profondeur de couleur","sidebar/material/roughness":"Rugosit\xE9","sidebar/material/metalness":"M\xE9tal","sidebar/material/reflectivity":"Reflectivity","sidebar/material/emissive":"\xC9missif","sidebar/material/specular":"Sp\xE9culaire","sidebar/material/shininess":"Brillance","sidebar/material/clearcoat":"Vernis","sidebar/material/clearcoatroughness":"Rugosit\xE9 du vernis","sidebar/material/transmission":"Transmission","sidebar/material/attenuationDistance":"Attenuation Distance","sidebar/material/attenuationColor":"Attenuation Color","sidebar/material/thickness":"Thickness","sidebar/material/vertexcolors":"Couleurs aux Sommets","sidebar/material/matcap":"Matcap","sidebar/material/map":"Texture","sidebar/material/alphamap":"Texture de transparence","sidebar/material/bumpmap":"Texture de relief","sidebar/material/normalmap":"Texture de normales","sidebar/material/clearcoatnormalmap":"Texture des normales du vernis","sidebar/material/displacementmap":"Texture de d\xE9placement","sidebar/material/roughnessmap":"Texture de rugosit\xE9","sidebar/material/metalnessmap":"Texture m\xE9tallique","sidebar/material/specularmap":"Texture sp\xE9culaire","sidebar/material/envmap":"Texture d'environnement","sidebar/material/lightmap":"Texture d'\xE9clairage","sidebar/material/aomap":"Texture d'occlusion ambiante","sidebar/material/emissivemap":"Texture d'\xE9mission","sidebar/material/gradientmap":"Texture de gradient","sidebar/material/side":"C\xF4t\xE9","sidebar/material/size":"Size","sidebar/material/sizeAttenuation":"Size Attenuation","sidebar/material/flatShading":"Flat Shading","sidebar/material/blending":"M\xE9lange","sidebar/material/opacity":"Opacit\xE9","sidebar/material/transparent":"Transparence","sidebar/material/alphatest":"Test de transparence","sidebar/material/depthtest":"Depth Test","sidebar/material/depthwrite":"Depth Write","sidebar/material/wireframe":"Fil de fer","sidebar/material/userdata":"Donn\xE9es utilisateur","sidebar/script":"Script","sidebar/script/new":"Nouveau","sidebar/script/edit":"Editer","sidebar/script/remove":"Supprimer","sidebar/project":"Projet","sidebar/project/title":"Titre","sidebar/project/editable":"Modifiable","sidebar/project/vr":"VR","sidebar/project/renderer":"Rendus","sidebar/project/antialias":"Anticr\xE9nelage","sidebar/project/shadows":"Ombres","sidebar/project/physicallyCorrectLights":"Physical lights","sidebar/project/toneMapping":"Mappage des nuances","sidebar/project/materials":"Mat\xE9riaux","sidebar/project/Assign":"Attribuer","sidebar/project/video":"Video","sidebar/project/resolution":"Resolution","sidebar/project/duration":"Duration","sidebar/project/render":"Render","sidebar/settings":"Param\xE8tres","sidebar/settings/language":"Langue","sidebar/settings/shortcuts":"Shortcuts","sidebar/settings/shortcuts/translate":"Position","sidebar/settings/shortcuts/rotate":"Rotation","sidebar/settings/shortcuts/scale":"\xC9chelle","sidebar/settings/shortcuts/undo":"Annuler","sidebar/settings/shortcuts/focus":"Focus","sidebar/settings/viewport":"Viewport","sidebar/settings/viewport/grid":"Grille","sidebar/settings/viewport/helpers":"Helpers","sidebar/history":"Historique","sidebar/history/persistent":"permanent","toolbar/translate":"Position","toolbar/rotate":"Rotation","toolbar/scale":"\xC9chelle","toolbar/local":"Local","viewport/info/objects":"Objets","viewport/info/vertices":"Sommets","viewport/info/triangles":"Triangles","viewport/info/frametime":"Temps de trame"},zh:{"menubar/file":"\u6587\u4EF6","menubar/file/new":"\u65B0\u5EFA","menubar/file/import":"\u5BFC\u5165","menubar/file/export/geometry":"\u5BFC\u51FA\u51E0\u4F55\u4F53","menubar/file/export/object":"\u5BFC\u51FA\u7269\u4F53","menubar/file/export/scene":"\u5BFC\u51FA\u573A\u666F","menubar/file/export/dae":"\u5BFC\u51FADAE","menubar/file/export/drc":"\u5BFC\u51FADRC","menubar/file/export/glb":"\u5BFC\u51FAGLB","menubar/file/export/gltf":"\u5BFC\u51FAGLTF","menubar/file/export/obj":"\u5BFC\u51FAOBJ","menubar/file/export/ply":"\u5BFC\u51FAPLY","menubar/file/export/ply_binary":"\u5BFC\u51FAPLY(\u4E8C\u8FDB\u5236)","menubar/file/export/stl":"\u5BFC\u51FASTL","menubar/file/export/stl_binary":"\u5BFC\u51FASTL(\u4E8C\u8FDB\u5236)","menubar/file/export/usdz":"\u5BFC\u51FAUSDZ","menubar/file/publish":"\u53D1\u5E03","menubar/edit":"\u7F16\u8F91","menubar/edit/undo":"\u64A4\u9500 (Ctrl+Z)","menubar/edit/redo":"\u91CD\u505A (Ctrl+Shift+Z)","menubar/edit/clear_history":"\u6E05\u7A7A\u5386\u53F2\u8BB0\u5F55","menubar/edit/center":"\u5C45\u4E2D","menubar/edit/clone":"\u62F7\u8D1D","menubar/edit/delete":"\u5220\u9664 (Del)","menubar/edit/fixcolormaps":"\u4FEE\u590D\u989C\u8272\u8D34\u56FE","menubar/add":"\u6DFB\u52A0","menubar/add/group":"\u7EC4","menubar/add/plane":"\u5E73\u9762","menubar/add/box":"\u6B63\u65B9\u4F53","menubar/add/capsule":"\u80F6\u56CA","menubar/add/circle":"\u5706","menubar/add/cylinder":"\u5706\u67F1\u4F53","menubar/add/ring":"\u73AF","menubar/add/sphere":"\u7403\u4F53","menubar/add/dodecahedron":"\u5341\u4E8C\u9762\u4F53","menubar/add/star":"\u661F","menubar/add/icosahedron":"\u4E8C\u5341\u9762\u4F53","menubar/add/octahedron":"\u516B\u9762\u4F53","menubar/add/tetrahedron":"\u56DB\u9762\u4F53","menubar/add/torus":"\u5706\u73AF\u4F53","menubar/add/torusknot":"\u73AF\u9762\u7EBD\u7ED3\u4F53","menubar/add/tube":"\u7BA1","menubar/add/lathe":"\u9152\u676F","menubar/add/sprite":"\u7CBE\u7075","menubar/add/pointlight":"\u70B9\u5149\u6E90","menubar/add/spotlight":"\u805A\u5149\u706F","menubar/add/directionallight":"\u5E73\u884C\u5149","menubar/add/hemispherelight":"\u534A\u7403\u5149","menubar/add/ambientlight":"\u73AF\u5883\u5149","menubar/add/perspectivecamera":"\u900F\u89C6\u76F8\u673A","menubar/add/orthographiccamera":"\u6B63\u4EA4\u76F8\u673A","menubar/status/autosave":"\u81EA\u52A8\u4FDD\u5B58","menubar/play":"\u542F\u52A8","menubar/play/stop":"\u6682\u505C","menubar/play/play":"\u542F\u52A8","menubar/examples":"\u793A\u4F8B","menubar/examples/Arkanoid":"\u6253\u7816\u5757","menubar/examples/Camera":" \u6444\u50CF\u673A","menubar/examples/Particles":"\u7C92\u5B50","menubar/examples/Pong":"\u4E52\u4E53\u7403","menubar/examples/Shaders":"\u7740\u8272\u5668","menubar/view":"\u89C6\u56FE","menubar/view/fullscreen":"\u5168\u5C4F","menubar/help":"\u5E2E\u52A9","menubar/help/source_code":"\u6E90\u7801","menubar/help/icons":"\u56FE\u6807\u7EC4\u4EF6\u5305","menubar/help/about":"\u5173\u4E8E","menubar/help/manual":"\u624B\u518C","sidebar/animations":"\u52A8\u753B","sidebar/animations/play":"\u64AD\u653E","sidebar/animations/stop":"\u6682\u505C","sidebar/animations/timescale":"\u65F6\u95F4\u7F29\u653E","sidebar/scene":"\u573A\u666F","sidebar/scene/background":"\u80CC\u666F","sidebar/scene/environment":"\u73AF\u5883","sidebar/scene/fog":"\u96FE","sidebar/properties/object":"\u5C5E\u6027","sidebar/properties/geometry":"\u51E0\u4F55\u7EC4\u4EF6","sidebar/properties/material":"\u6750\u8D28\u7EC4\u4EF6","sidebar/properties/script":"\u811A\u672C","sidebar/object/title":"\u7269\u54C1","sidebar/object/type":"\u7C7B\u578B","sidebar/object/new":"\u66F4\u65B0","sidebar/object/uuid":"\u8BC6\u522B\u7801","sidebar/object/name":"\u540D\u79F0","sidebar/object/position":"\u4F4D\u7F6E","sidebar/object/rotation":"\u65CB\u8F6C","sidebar/object/scale":"\u7F29\u653E","sidebar/object/fov":"\u89C6\u89D2","sidebar/object/left":"\u5DE6","sidebar/object/right":"\u53F3","sidebar/object/top":"\u4E0A","sidebar/object/bottom":"\u4E0B","sidebar/object/near":"\u8FD1\u70B9","sidebar/object/far":"\u8FDC\u70B9","sidebar/object/intensity":"\u5F3A\u5EA6","sidebar/object/color":"\u989C\u8272","sidebar/object/groundcolor":"\u57FA\u8272","sidebar/object/distance":"\u8DDD\u79BB","sidebar/object/angle":"\u89D2\u5EA6","sidebar/object/penumbra":"\u8FB9\u7F18","sidebar/object/decay":"\u8870\u51CF","sidebar/object/shadow":"\u9634\u5F71","sidebar/object/shadowBias":"\u9634\u5F71\u504F\u79FB","sidebar/object/shadowNormalBias":"\u9634\u5F71\u6CD5\u7EBF\u504F\u79FB","sidebar/object/shadowRadius":"\u9634\u5F71\u534A\u5F84","sidebar/object/cast":"\u4EA7\u751F","sidebar/object/receive":"\u63A5\u53D7","sidebar/object/visible":"\u53EF\u89C1\u6027","sidebar/object/frustumcull":"\u89C6\u9525\u4F53\u88C1\u526A","sidebar/object/renderorder":"\u6E32\u67D3\u6B21\u5E8F","sidebar/object/userdata":"\u81EA\u5B9A\u4E49\u6570\u636E","sidebar/geometry/type":"\u7C7B\u578B","sidebar/geometry/new":"\u66F4\u65B0","sidebar/geometry/uuid":"\u8BC6\u522B\u7801","sidebar/geometry/name":"\u540D\u79F0","sidebar/geometry/bounds":"\u754C\u9650","sidebar/geometry/show_vertex_normals":"\u663E\u793A\u9876\u70B9\u6CD5\u7EBF","sidebar/geometry/box_geometry/width":"\u5BBD\u5EA6","sidebar/geometry/box_geometry/height":"\u9AD8\u5EA6","sidebar/geometry/box_geometry/depth":"\u6DF1\u5EA6","sidebar/geometry/box_geometry/widthseg":"\u5BBD\u5EA6\u5206\u6BB5","sidebar/geometry/box_geometry/heightseg":"\u9AD8\u5EA6\u5206\u6BB5","sidebar/geometry/box_geometry/depthseg":"\u6DF1\u5EA6\u5206\u6BB5","sidebar/geometry/buffer_geometry/attributes":"\u5C5E\u6027","sidebar/geometry/buffer_geometry/index":"\u7D22\u5F15","sidebar/geometry/capsule_geometry/radius":"\u534A\u5F84","sidebar/geometry/capsule_geometry/length":"\u957F\u5EA6","sidebar/geometry/capsule_geometry/capseg":"\u80F6\u56CA\u5206\u6BB5","sidebar/geometry/capsule_geometry/radialseg":"\u534A\u5F84\u5206\u6BB5","sidebar/geometry/circle_geometry/radius":"\u534A\u5F84","sidebar/geometry/circle_geometry/segments":"\u5206\u6BB5","sidebar/geometry/circle_geometry/thetastart":"\u5F27\u5EA6\u8D77\u70B9","sidebar/geometry/circle_geometry/thetalength":"\u5F27\u5EA6\u957F\u5EA6","sidebar/geometry/cylinder_geometry/radiustop":"\u9876\u90E8\u534A\u5F84","sidebar/geometry/cylinder_geometry/radiusbottom":"\u5E95\u90E8\u534A\u5F84","sidebar/geometry/cylinder_geometry/height":"\u9AD8\u5EA6","sidebar/geometry/cylinder_geometry/radialsegments":"\u5F84\u5411\u5206\u6BB5","sidebar/geometry/cylinder_geometry/heightsegments":"\u9AD8\u5EA6\u5206\u6BB5","sidebar/geometry/cylinder_geometry/openended":"\u5F00\u7AEF","sidebar/geometry/extrude_geometry/curveSegments":"\u66F2\u7EBF\u6BB5","sidebar/geometry/extrude_geometry/steps":"\u7EC6\u5206\u70B9\u6570","sidebar/geometry/extrude_geometry/depth":"\u6DF1\u5EA6","sidebar/geometry/extrude_geometry/bevelEnabled":"\u542F\u7528\u659C\u89D2","sidebar/geometry/extrude_geometry/bevelThickness":"\u659C\u89D2\u539A\u5EA6","sidebar/geometry/extrude_geometry/bevelSize":"\u659C\u89D2\u5927\u5C0F","sidebar/geometry/extrude_geometry/bevelOffset":"\u659C\u89D2\u504F\u79FB\u91CF","sidebar/geometry/extrude_geometry/bevelSegments":"\u659C\u89D2\u5206\u6BB5","sidebar/geometry/extrude_geometry/shape":"\u8F6C\u6362\u56FE\u5F62","sidebar/geometry/dodecahedron_geometry/radius":"\u534A\u5F84","sidebar/geometry/dodecahedron_geometry/detail":"\u9762\u7247\u5206\u6BB5","sidebar/geometry/icosahedron_geometry/radius":"\u534A\u5F84","sidebar/geometry/icosahedron_geometry/detail":"\u9762\u7247\u5206\u6BB5","sidebar/geometry/octahedron_geometry/radius":"\u534A\u5F84","sidebar/geometry/octahedron_geometry/detail":"\u9762\u7247\u5206\u6BB5","sidebar/geometry/tetrahedron_geometry/radius":"\u534A\u5F84","sidebar/geometry/tetrahedron_geometry/detail":"\u9762\u7247\u5206\u6BB5","sidebar/geometry/lathe_geometry/segments":"\u5206\u6BB5","sidebar/geometry/lathe_geometry/phistart":"\u7ECF\u5EA6\u8D77\u70B9","sidebar/geometry/lathe_geometry/philength":"\u7ECF\u5EA6\u957F\u5EA6","sidebar/geometry/lathe_geometry/points":"\u70B9","sidebar/geometry/plane_geometry/width":"\u5BBD\u5EA6","sidebar/geometry/plane_geometry/height":"\u957F\u5EA6","sidebar/geometry/plane_geometry/widthsegments":"\u5BBD\u5EA6\u5206\u6BB5","sidebar/geometry/plane_geometry/heightsegments":"\u957F\u5EA6\u5206\u6BB5","sidebar/geometry/ring_geometry/innerRadius":"\u5185\u534A\u5F84","sidebar/geometry/ring_geometry/outerRadius":"\u5916\u534A\u5F84","sidebar/geometry/ring_geometry/thetaSegments":"\u5F27\u5EA6\u5206\u6BB5","sidebar/geometry/ring_geometry/phiSegments":"\u7ECF\u5EA6\u5206\u6BB5","sidebar/geometry/ring_geometry/thetastart":"\u5F27\u5EA6\u8D77\u70B9","sidebar/geometry/ring_geometry/thetalength":"\u5F27\u5EA6\u957F\u5EA6","sidebar/geometry/shape_geometry/curveSegments":"\u66F2\u7EBF\u6BB5","sidebar/geometry/shape_geometry/extrude":"\u62C9\u4F38","sidebar/geometry/sphere_geometry/radius":"\u534A\u5F84","sidebar/geometry/sphere_geometry/widthsegments":"\u5BBD\u5EA6\u5206\u6BB5","sidebar/geometry/sphere_geometry/heightsegments":"\u957F\u5EA6\u5206\u6BB5","sidebar/geometry/sphere_geometry/phistart":"\u7ECF\u5EA6\u8D77\u70B9","sidebar/geometry/sphere_geometry/philength":"\u7ECF\u5EA6\u957F\u5EA6","sidebar/geometry/sphere_geometry/thetastart":"\u7EAC\u5EA6\u8D77\u70B9","sidebar/geometry/sphere_geometry/thetalength":"\u7EAC\u5EA6\u957F\u5EA6","sidebar/geometry/torus_geometry/radius":"\u534A\u5F84","sidebar/geometry/torus_geometry/tube":"\u7BA1\u539A","sidebar/geometry/torus_geometry/radialsegments":"\u534A\u5F84\u5206\u6BB5","sidebar/geometry/torus_geometry/tubularsegments":"\u7BA1\u539A\u5206\u6BB5","sidebar/geometry/torus_geometry/arc":"\u5F27\u5EA6","sidebar/geometry/torusKnot_geometry/radius":"\u534A\u5F84","sidebar/geometry/torusKnot_geometry/tube":"\u7BA1\u539A","sidebar/geometry/torusKnot_geometry/tubularsegments":"\u7BA1\u539A\u5206\u6BB5","sidebar/geometry/torusKnot_geometry/radialsegments":"\u534A\u5F84\u5206\u6BB5","sidebar/geometry/torusKnot_geometry/p":"\u7BA1\u957F\u5F27\u5EA6","sidebar/geometry/torusKnot_geometry/q":"\u626D\u66F2\u5F27\u5EA6","sidebar/geometry/tube_geometry/path":"\u8DEF\u5F84","sidebar/geometry/tube_geometry/radius":"\u534A\u5F84","sidebar/geometry/tube_geometry/tube":"\u7BA1\u539A","sidebar/geometry/tube_geometry/tubularsegments":"\u7BA1\u539A\u5206\u6BB5","sidebar/geometry/tube_geometry/radialsegments":"\u534A\u5F84\u5206\u6BB5","sidebar/geometry/tube_geometry/closed":"\u95ED\u5408","sidebar/geometry/tube_geometry/curvetype":"\u66F2\u7EBF\u7C7B\u578B","sidebar/geometry/tube_geometry/tension":"\u5F20\u529B","sidebar/material/new":"\u66F4\u65B0","sidebar/material/copy":"\u590D\u5236","sidebar/material/paste":"\u7C98\u8D34","sidebar/material/slot":"\u63D2\u69FD","sidebar/material/type":"\u7C7B\u578B","sidebar/material/uuid":"\u8BC6\u522B\u7801","sidebar/material/name":"\u540D\u79F0","sidebar/material/program":"\u7A0B\u5E8F","sidebar/material/info":"\u4FE1\u606F","sidebar/material/vertex":"\u9876\u70B9","sidebar/material/fragment":"\u7247\u5143","sidebar/material/color":"\u989C\u8272","sidebar/material/depthPacking":"\u6DF1\u5EA6\u5305\u88C5","sidebar/material/roughness":"\u7C97\u7CD9\u5EA6","sidebar/material/metalness":"\u91D1\u5C5E\u5EA6","sidebar/material/reflectivity":"\u53CD\u5C04\u7387","sidebar/material/emissive":"\u81EA\u53D1\u5149","sidebar/material/specular":"\u9AD8\u5149","sidebar/material/shininess":"\u9AD8\u5149\u5927\u5C0F","sidebar/material/clearcoat":"\u6E05\u6F06","sidebar/material/clearcoatroughness":"\u6E05\u6F06\u7C97\u7CD9\u5EA6","sidebar/material/transmission":"\u900F\u5149","sidebar/material/attenuationDistance":"\u8870\u51CF\u8DDD\u79BB","sidebar/material/attenuationColor":"Attenuation Color","sidebar/material/thickness":"\u539A\u5EA6","sidebar/material/vertexcolors":"\u9876\u70B9\u989C\u8272","sidebar/material/matcap":"\u6750\u8D28\u6355\u83B7","sidebar/material/map":"\u8D34\u56FE","sidebar/material/alphamap":"\u900F\u660E\u8D34\u56FE","sidebar/material/bumpmap":"\u51F9\u51F8\u8D34\u56FE","sidebar/material/normalmap":"\u6CD5\u7EBF\u8D34\u56FE","sidebar/material/clearcoatnormalmap":"\u6E05\u6F06\u6CD5\u7EBF\u8D34\u56FE","sidebar/material/displacementmap":"\u7F6E\u6362\u8D34\u56FE","sidebar/material/roughnessmap":"\u7C97\u7CD9\u8D34\u56FE","sidebar/material/metalnessmap":"\u91D1\u5C5E\u8D34\u56FE","sidebar/material/specularmap":"\u9AD8\u5149\u8D34\u56FE","sidebar/material/envmap":"\u73AF\u5883\u8D34\u56FE","sidebar/material/lightmap":"\u5149\u7167\u8D34\u56FE","sidebar/material/aomap":"\u73AF\u5883\u5149\u906E\u853D\u8D34\u56FE","sidebar/material/emissivemap":"\u81EA\u53D1\u5149\u8D34\u56FE","sidebar/material/gradientmap":"\u6E10\u53D8\u8D34\u56FE","sidebar/material/side":"\u9762","sidebar/material/size":"\u5927\u5C0F","sidebar/material/sizeAttenuation":"\u5927\u5C0F\u8870\u51CF","sidebar/material/flatShading":"\u5E73\u9762\u7740\u8272","sidebar/material/blending":"\u6DF7\u5408","sidebar/material/opacity":"\u900F\u660E\u5EA6","sidebar/material/transparent":"\u900F\u660E\u6027","sidebar/material/alphatest":"\u03B1\u6D4B\u8BD5","sidebar/material/depthtest":"\u6DF1\u5EA6\u6D4B\u8BD5","sidebar/material/depthwrite":"\u6DF1\u5EA6\u7F13\u51B2","sidebar/material/wireframe":"\u7EBF\u6846","sidebar/material/userdata":"\u81EA\u5B9A\u4E49\u6570\u636E","sidebar/script":"\u811A\u672C","sidebar/script/new":"\u65B0\u5EFA","sidebar/script/edit":"\u7F16\u8F91","sidebar/script/remove":"\u5220\u9664","sidebar/project":"\u9879\u76EE","sidebar/project/title":"\u6807\u9898","sidebar/project/editable":"\u7F16\u8F91\u6027","sidebar/project/vr":"\u865A\u62DF\u73B0\u5B9E","sidebar/project/renderer":"\u6E32\u67D3\u5668","sidebar/project/antialias":"\u6297\u952F\u9F7F","sidebar/project/shadows":"\u9634\u5F71","sidebar/project/physicallyCorrectLights":"\u7269\u7406\u706F","sidebar/project/toneMapping":"\u8272\u8C03\u6620\u5C04","sidebar/project/materials":"\u6750\u8D28","sidebar/project/Assign":"\u5E94\u7528","sidebar/project/video":"\u89C6\u9891","sidebar/project/resolution":"\u5206\u8FA8\u7387","sidebar/project/duration":"\u65F6\u957F","sidebar/project/render":"\u6E32\u67D3","sidebar/settings":"\u8BBE\u7F6E","sidebar/settings/language":"\u8BED\u8A00","sidebar/settings/shortcuts":"\u5FEB\u6377\u952E","sidebar/settings/shortcuts/translate":"\u79FB\u52A8","sidebar/settings/shortcuts/rotate":"\u65CB\u8F6C","sidebar/settings/shortcuts/scale":"\u7F29\u653E","sidebar/settings/shortcuts/undo":"\u64A4\u9500","sidebar/settings/shortcuts/focus":"\u805A\u7126","sidebar/settings/viewport":"\u89C6\u7A97","sidebar/settings/viewport/grid":"\u7F51\u683C","sidebar/settings/viewport/helpers":"\u8F85\u52A9","sidebar/history":"\u5386\u53F2\u8BB0\u5F55","sidebar/history/persistent":"\u672C\u5730\u5B58\u50A8","toolbar/translate":"\u79FB\u52A8","toolbar/rotate":"\u65CB\u8F6C","toolbar/scale":"\u7F29\u653E","toolbar/local":"\u672C\u5730","viewport/info/objects":"\u7269\u4F53","viewport/info/vertices":"\u9876\u70B9","viewport/info/triangles":"\u4E09\u89D2\u5F62","viewport/info/frametime":"\u5E27\u65F6"}};return{getKey:function(n){return r[t][n]||"???"}}}function yq(){const a=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;if(a===void 0)return console.warn("Storage: IndexedDB not available."),{init:function(){},get:function(){},set:function(){},clear:function(){}};const t="room-maker",r=1;let n;return{init:function(c){const p=a.open(t,r);p.onupgradeneeded=function(y){const v=y.target.result;v.objectStoreNames.contains("states")===!1&&v.createObjectStore("states")},p.onsuccess=function(y){n=y.target.result,c()},p.onerror=function(y){console.error("IndexedDB",y)}},get:function(c){const v=n.transaction(["states"],"readwrite").objectStore("states").get(0);v.onsuccess=function(E){c(E.target.result)}},set:function(c){performance.now();const v=n.transaction(["states"],"readwrite").objectStore("states").put(c,0);v.onsuccess=function(){}},clear:function(){if(n===void 0)return;const y=n.transaction(["states"],"readwrite").objectStore("states").clear();y.onsuccess=function(){}}}}var ob=new ko(50,1,.01,1e3);ob.name="Camera";ob.position.set(0,5,10);ob.lookAt(new wt);function dD(){var a=signals.Signal;this.signals={editScript:new a,startPlayer:new a,stopPlayer:new a,toggleVR:new a,exitedVR:new a,editorCleared:new a,savingStarted:new a,savingFinished:new a,transformModeChanged:new a,snapChanged:new a,spaceChanged:new a,rendererCreated:new a,rendererUpdated:new a,sceneBackgroundChanged:new a,sceneEnvironmentChanged:new a,sceneFogChanged:new a,sceneFogSettingsChanged:new a,sceneGraphChanged:new a,sceneRendered:new a,cameraChanged:new a,cameraResetted:new a,geometryChanged:new a,objectSelected:new a,objectFocused:new a,objectAdded:new a,objectChanged:new a,objectRemoved:new a,cameraAdded:new a,cameraRemoved:new a,helperAdded:new a,helperRemoved:new a,materialAdded:new a,materialChanged:new a,materialRemoved:new a,scriptAdded:new a,scriptChanged:new a,scriptRemoved:new a,windowResize:new a,showGridChanged:new a,showHelpersChanged:new a,refreshSidebarObject3D:new a,historyChanged:new a,viewportCameraChanged:new a,publishClicked:new a,metaMaskConnected:new a,metadatasFetched:new a},this.config=new MJ,this.history=new hD(this),this.storage=new yq,this.strings=new bq(this.config),this.loader=new uq(this),this.camera=ob.clone(),this.scene=new Mh,this.scene.name="Scene",this.sceneHelpers=new Mh,this.object={},this.geometries={},this.materials={},this.textures={},this.scripts={},this.createCmd=["AddObjectCommand","SetSceneCommand","SetMaterialMapCommand"],this.materialsRefCounter=new Map,this.mixer=new P8(this.scene),this.selected=null,this.placeholder=null,this.helpers={},this.cameras={},this.viewportCamera=this.camera,this.addCamera(this.camera)}dD.prototype={setScene:function(a){for(console.log(a),this.scene.uuid=a.uuid,this.scene.name=a.name,this.scene.background=a.background,this.scene.environment="ModelViewer",this.signals.sceneEnvironmentChanged.dispatch("ModelViewer",null),this.scene.fog=a.fog,this.scene.userData=JSON.parse(JSON.stringify(a.userData)),this.signals.sceneGraphChanged.active=!1;a.children.length>0;)this.addObject(a.children[0]);this.signals.sceneGraphChanged.active=!0,this.signals.sceneGraphChanged.dispatch()},addObject:function(a,t,r){var n=this;a.traverse(function(c){c.geometry!==void 0&&n.addGeometry(c.geometry),c.material!==void 0&&n.addMaterial(c.material),n.addCamera(c)}),t===void 0?this.scene.add(a):(t.children.splice(r,0,a),a.parent=t),this.signals.objectAdded.dispatch(a),this.signals.sceneGraphChanged.dispatch()},moveObject:function(a,t,r){if(t===void 0&&(t=this.scene),t.add(a),r!==void 0){var n=t.children.indexOf(r);t.children.splice(n,0,a),t.children.pop()}this.signals.sceneGraphChanged.dispatch()},nameObject:function(a,t){a.name=t,this.signals.sceneGraphChanged.dispatch()},removeObject:function(a){if(a.parent!==null){var t=this;a.traverse(function(r){t.removeCamera(r),t.removeHelper(r),r.material!==void 0&&t.removeMaterial(r.material)}),a.parent.remove(a),this.signals.objectRemoved.dispatch(a),this.signals.sceneGraphChanged.dispatch()}},addGeometry:function(a){this.geometries[a.uuid]=a},setGeometryName:function(a,t){a.name=t,this.signals.sceneGraphChanged.dispatch()},addMaterial:function(a){if(Array.isArray(a))for(var t=0,r=a.length;t<r;t++)this.addMaterialToRefCounter(a[t]);else this.addMaterialToRefCounter(a);this.signals.materialAdded.dispatch()},addMaterialToRefCounter:function(a){var t=this.materialsRefCounter,r=t.get(a);r===void 0?(t.set(a,1),this.materials[a.uuid]=a):(r++,t.set(a,r))},removeMaterial:function(a){if(Array.isArray(a))for(var t=0,r=a.length;t<r;t++)this.removeMaterialFromRefCounter(a[t]);else this.removeMaterialFromRefCounter(a);this.signals.materialRemoved.dispatch()},removeMaterialFromRefCounter:function(a){var t=this.materialsRefCounter,r=t.get(a);r--,r===0?(t.delete(a),delete this.materials[a.uuid]):t.set(a,r)},getMaterialById:function(a){for(var t,r=Object.values(this.materials),n=0;n<r.length;n++)if(r[n].id===a){t=r[n];break}return t},setMaterialName:function(a,t){a.name=t,this.signals.sceneGraphChanged.dispatch()},addTexture:function(a){this.textures[a.uuid]=a},addCamera:function(a){a.isCamera&&(this.cameras[a.uuid]=a,this.signals.cameraAdded.dispatch(a))},removeCamera:function(a){this.cameras[a.uuid]!==void 0&&(delete this.cameras[a.uuid],this.signals.cameraRemoved.dispatch(a))},addHelper:function(){var a=new Nf(2,4,2),t=new Us({color:16711680,visible:!1});return function(r,n){var c;if(n===void 0){if(r.isCamera)n=new CR(r);else if(r.isPointLight)n=new ER(r,1);else if(r.isDirectionalLight)n=new kR(r,1);else if(r.isSpotLight)n=new AR(r);else if(r.isHemisphereLight)n=new _R(r,1);else if(r.isSkinnedMesh)n=new sw(r.skeleton.bones[0]);else if(r.isBone===!0&&((c=r.parent)==null?void 0:c.isBone)!==!0)n=new sw(r);else return;const p=new Kr(a,t);p.name="picker",p.userData.object=r,n.add(p)}this.sceneHelpers.add(n),this.helpers[r.id]=n,this.signals.helperAdded.dispatch(n)}}(),removeHelper:function(a){if(this.helpers[a.id]!==void 0){var t=this.helpers[a.id];t.parent.remove(t),delete this.helpers[a.id],this.signals.helperRemoved.dispatch(t)}},addScript:function(a,t){this.scripts[a.uuid]===void 0&&(this.scripts[a.uuid]=[]),this.scripts[a.uuid].push(t),this.signals.scriptAdded.dispatch(t)},removeScript:function(a,t){if(this.scripts[a.uuid]!==void 0){var r=this.scripts[a.uuid].indexOf(t);r!==-1&&this.scripts[a.uuid].splice(r,1),this.signals.scriptRemoved.dispatch(t)}},getObjectLock:function(a){var r;if(!((r=a.userData)!=null&&r.locked))return null;var t=a.userData.locked;return t},setObjectLock:function(a){var r;if(a){var t=((r=a.userData)==null?void 0:r.locked)||!1;a.userData=Hl(dl({},a.userData),{locked:!t}),this.signals.objectChanged.dispatch(a)}},getObjectText:function(a){var r,n;if(!((n=(r=a.userData)==null?void 0:r.play)!=null&&n.text))return null;var t=a.userData.play.text;return t},setObjectText:function(a,t){var c,p,y,v,E,_,k,R,B;const{option:r,value:n}=t;a.userData=Hl(dl({},a.userData),{play:Hl(dl({},(c=a.userData)==null?void 0:c.play),{text:{option:r||((E=(v=(y=(p=a.userData)==null?void 0:p.play)==null?void 0:y.text)==null?void 0:v.option)!=null?E:null),value:n||((B=(R=(k=(_=a.userData)==null?void 0:_.play)==null?void 0:k.text)==null?void 0:R.value)!=null?B:null)}})}),this.signals.objectChanged.dispatch(a)},getObjectPostit:function(a){var r,n;if(!((n=(r=a==null?void 0:a.userData)==null?void 0:r.play)!=null&&n.postit))return null;var t=a.userData.play.postit;return t},setObjectPostit:function(a,t){var p,y,v,E,_,k,R,B,M,F,H,U,Z;const{option:r,value:n,bgcolor:c}=t;a.userData=Hl(dl({},a.userData),{play:Hl(dl({},(p=a.userData)==null?void 0:p.play),{postit:{option:r||((_=(E=(v=(y=a.userData)==null?void 0:y.play)==null?void 0:v.postit)==null?void 0:E.option)!=null?_:null),bgcolor:c||((M=(B=(R=(k=a.userData)==null?void 0:k.play)==null?void 0:R.postit)==null?void 0:B.bgcolor)!=null?M:"16440786"),value:n||((Z=(U=(H=(F=a.userData)==null?void 0:F.play)==null?void 0:H.postit)==null?void 0:U.value)!=null?Z:null)}})}),this.signals.objectChanged.dispatch(a)},getObjectAudio:function(a){var r,n;if(!((n=(r=a.userData)==null?void 0:r.play)!=null&&n.audio))return null;var t=a.userData.play.audio;return t},setObjectAudio:function(a,t){var c,p,y,v,E,_,k,R,B;const{option:r,value:n}=t;a.userData=Hl(dl({},a.userData),{play:Hl(dl({},(c=a.userData)==null?void 0:c.play),{audio:{option:r||((E=(v=(y=(p=a.userData)==null?void 0:p.play)==null?void 0:y.audio)==null?void 0:v.option)!=null?E:null),value:n||((B=(R=(k=(_=a.userData)==null?void 0:_.play)==null?void 0:k.audio)==null?void 0:R.value)!=null?B:null)}})})},getObjectOnClick:function(a){var r,n;if(!((n=(r=a.userData)==null?void 0:r.play)!=null&&n.onClick))return null;var t=a.userData.play.onClick;return t},setObjectOnClick:function(a,t){var c,p,y,v,E,_,k,R,B;const{option:r,value:n}=t;a.userData=Hl(dl({},a.userData),{play:Hl(dl({},(c=a.userData)==null?void 0:c.play),{onClick:{option:r||((E=(v=(y=(p=a.userData)==null?void 0:p.play)==null?void 0:y.onClick)==null?void 0:v.option)!=null?E:null),value:n||((B=(R=(k=(_=a.userData)==null?void 0:_.play)==null?void 0:k.onClick)==null?void 0:R.value)!=null?B:null)}})})},getObjectPresentation:function(a){var r,n;if(!((n=(r=a==null?void 0:a.userData)==null?void 0:r.play)!=null&&n.presentation))return null;var t=a.userData.play.presentation;return t},setObjectPresentation:function(a,t){var c,p,y,v,E,_,k,R,B;const{option:r,value:n}=t;a.userData=Hl(dl({},a.userData),{play:Hl(dl({},(c=a.userData)==null?void 0:c.play),{presentation:{option:r||((E=(v=(y=(p=a.userData)==null?void 0:p.play)==null?void 0:y.presentation)==null?void 0:v.option)!=null?E:"none"),value:n||((B=(R=(k=(_=a.userData)==null?void 0:_.play)==null?void 0:k.presentation)==null?void 0:R.value)!=null?B:null)}})})},getObjectMaterial:function(a,t){var r=a.material;return Array.isArray(r)&&t!==void 0&&(r=r[t]),r},setObjectMaterial:function(a,t,r){Array.isArray(a.material)&&t!==void 0?a.material[t]=r:a.material=r},setViewportCamera:function(a){this.viewportCamera=this.cameras[a],this.signals.viewportCameraChanged.dispatch()},select:function(a){var r;if(!(this.selected===a||((r=a==null?void 0:a.userData)==null?void 0:r.locked))){var t=null;a!==null&&(t=a.uuid),this.selected=a,this.config.setKey("selected",t),this.signals.objectSelected.dispatch(a)}},selectById:function(a){if(a===this.camera.id){this.select(this.camera);return}this.select(this.scene.getObjectById(a))},selectByUuid:function(a){var t=this;this.scene.traverse(function(r){r.uuid===a&&t.select(r)})},deselect:function(){this.select(null)},focus:function(a){a!==void 0&&this.signals.objectFocused.dispatch(a)},focusById:function(a){this.focus(this.scene.getObjectById(a))},clear:function(){this.history.clear(),this.storage.clear(),this.camera.copy(ob),this.signals.cameraResetted.dispatch(),this.scene.name="Scene",this.scene.userData={},this.scene.background=null,this.scene.environment=null,this.signals.sceneEnvironmentChanged.dispatch("ModelViewer",null),this.scene.fog=null;for(var a=this.scene.children;a.length>0;)this.removeObject(a[0]);this.geometries={},this.materials={},this.textures={},this.scripts={},this.materialsRefCounter.clear(),this.animations={},this.mixer.stopAllAction(),this.deselect(),this.signals.editorCleared.dispatch()},fromJSON:async function(a,t){var r=new Hh,n=await r.parseAsync(a.camera);this.camera=n,this.history.fromJSON(a.history),this.scripts=a.scripts,this.setScene(await r.parseAsync(a.scene))},toJSON:function(){var a=this.scene,t=this.scripts;for(var r in t){var n=t[r];(n.length===0||a.getObjectByProperty("uuid",r)===void 0)&&delete t[r]}return{metadata:{},project:{},camera:this.camera.toJSON(),scene:this.scene.toJSON(),sceneBackground:this.scene.backgroundNumber,scripts:this.scripts,history:this.history.toJSON()}},objectByUuid:function(a){return this.scene.getObjectByProperty("uuid",a,!0)},execute:function(a,t){var r,n,c,p;console.log("cmd",a),this.createCmd.includes(a.type)?(console.log("%c Socket emit Room:Create ","color: black; background: #9fa4dd;",window.assignmentSceneName,a,(r=a.object)==null?void 0:r.uuid,a.params),window.socket.emit("Room:Create",{assignmentName:window.assignmentSceneName,cmd:a.type,objUuid:(n=a.object)==null?void 0:n.uuid,objJson:a.params,url:a.url})):(console.log("%c Socket emit Room:Execute ","color: black; background: #9fa4dd;",window.assignmentSceneName,a.type,(c=a.object)==null?void 0:c.uuid,a.params,t),window.socket.emit("Room:Execute",{assignmentName:window.assignmentSceneName,cmd:a.type,objUuid:(p=a.object)==null?void 0:p.uuid,args:a.params,optionalName:t})),this.history.execute(a,t)},executeSocket:function(a,t){console.log("%c ExecuteSocket ","color: black; background: #9fa4dd;",window.assignmentSceneName,a.type,a.object.uuid,a.params,t),this.history.execute(a,t)},undo:function(){console.log("%c Socket emit Room:Undo ","color: black; background: #9fa4dd;"),window.socket.emit("Room:Undo",{assignmentName:window.assignmentSceneName}),this.history.undo()},undoSocket:function(){console.log("%c UndoSocket ","color: black; background: #9fa4dd;"),this.history.undo()},redo:function(){console.log("%c Socket emit Room:Redo ","color: black; background: #9fa4dd;"),window.socket.emit("Room:Redo",{assignmentName:window.assignmentSceneName}),this.history.redo()},redoSocket:function(){console.log("%c RedoSocket ","color: black; background: #9fa4dd;"),this.history.redo()}};const Td=new sb,za=new wt,sh=new wt,Ms=new L0,ST={X:new wt(1,0,0),Y:new wt(0,1,0),Z:new wt(0,0,1)},Wx={type:"change"},TT={type:"mouseDown"},MT={type:"mouseUp",mode:null},RT={type:"objectChange"};class pD extends Rn{constructor(t,r){super(),r===void 0&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),r=document),this.visible=!1,this.domElement=r,this.domElement.style.touchAction="none";const n=new mD;this._gizmo=n,this.add(n);const c=new gD;this._plane=c,this.add(c);const p=this;function y(K,fe){let oe=fe;Object.defineProperty(p,K,{get:function(){return oe!==void 0?oe:fe},set:function(we){oe!==we&&(oe=we,c[K]=we,n[K]=we,p.dispatchEvent({type:K+"-changed",value:we}),p.dispatchEvent(Wx))}}),p[K]=fe,c[K]=fe,n[K]=fe}y("camera",t),y("object",void 0),y("enabled",!0),y("axis",null),y("mode","translate"),y("translationSnap",null),y("rotationSnap",null),y("scaleSnap",null),y("space","world"),y("size",1),y("dragging",!1),y("showX",!0),y("showY",!0),y("showZ",!0);const v=new wt,E=new wt,_=new L0,k=new L0,R=new wt,B=new L0,M=new wt,F=new wt,H=new wt,U=0,Z=new wt;y("worldPosition",v),y("worldPositionStart",E),y("worldQuaternion",_),y("worldQuaternionStart",k),y("cameraPosition",R),y("cameraQuaternion",B),y("pointStart",M),y("pointEnd",F),y("rotationAxis",H),y("rotationAngle",U),y("eye",Z),this._offset=new wt,this._startNorm=new wt,this._endNorm=new wt,this._cameraScale=new wt,this._parentPosition=new wt,this._parentQuaternion=new L0,this._parentQuaternionInv=new L0,this._parentScale=new wt,this._worldScaleStart=new wt,this._worldQuaternionInv=new L0,this._worldScale=new wt,this._positionStart=new wt,this._quaternionStart=new L0,this._scaleStart=new wt,this._getPointer=vq.bind(this),this._onPointerDown=Aq.bind(this),this._onPointerHover=wq.bind(this),this._onPointerMove=xq.bind(this),this._onPointerUp=Eq.bind(this),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointermove",this._onPointerHover),this.domElement.addEventListener("pointerup",this._onPointerUp)}updateMatrixWorld(){this.object!==void 0&&(this.object.updateMatrixWorld(),this.object.parent===null?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(this._parentPosition,this._parentQuaternion,this._parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this._worldScale),this._parentQuaternionInv.copy(this._parentQuaternion).invert(),this._worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this._cameraScale),this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),super.updateMatrixWorld(this)}pointerHover(t){if(this.object===void 0||this.dragging===!0)return;Td.setFromCamera(t,this.camera);const r=Qx(this._gizmo.picker[this.mode],Td);r?this.axis=r.object.name:this.axis=null}pointerDown(t){if(!(this.object===void 0||this.dragging===!0||t.button!==0)&&this.axis!==null){Td.setFromCamera(t,this.camera);const r=Qx(this._plane,Td,!0);r&&(this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this._positionStart.copy(this.object.position),this._quaternionStart.copy(this.object.quaternion),this._scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this._worldScaleStart),this.pointStart.copy(r.point).sub(this.worldPositionStart)),this.dragging=!0,TT.mode=this.mode,this.dispatchEvent(TT)}}pointerMove(t){const r=this.axis,n=this.mode,c=this.object;let p=this.space;if(n==="scale"?p="local":(r==="E"||r==="XYZE"||r==="XYZ")&&(p="world"),c===void 0||r===null||this.dragging===!1||t.button!==-1)return;Td.setFromCamera(t,this.camera);const y=Qx(this._plane,Td,!0);if(!!y){if(this.pointEnd.copy(y.point).sub(this.worldPositionStart),n==="translate")this._offset.copy(this.pointEnd).sub(this.pointStart),p==="local"&&r!=="XYZ"&&this._offset.applyQuaternion(this._worldQuaternionInv),r.indexOf("X")===-1&&(this._offset.x=0),r.indexOf("Y")===-1&&(this._offset.y=0),r.indexOf("Z")===-1&&(this._offset.z=0),p==="local"&&r!=="XYZ"?this._offset.applyQuaternion(this._quaternionStart).divide(this._parentScale):this._offset.applyQuaternion(this._parentQuaternionInv).divide(this._parentScale),c.position.copy(this._offset).add(this._positionStart),this.translationSnap&&(p==="local"&&(c.position.applyQuaternion(Ms.copy(this._quaternionStart).invert()),r.search("X")!==-1&&(c.position.x=Math.round(c.position.x/this.translationSnap)*this.translationSnap),r.search("Y")!==-1&&(c.position.y=Math.round(c.position.y/this.translationSnap)*this.translationSnap),r.search("Z")!==-1&&(c.position.z=Math.round(c.position.z/this.translationSnap)*this.translationSnap),c.position.applyQuaternion(this._quaternionStart)),p==="world"&&(c.parent&&c.position.add(za.setFromMatrixPosition(c.parent.matrixWorld)),r.search("X")!==-1&&(c.position.x=Math.round(c.position.x/this.translationSnap)*this.translationSnap),r.search("Y")!==-1&&(c.position.y=Math.round(c.position.y/this.translationSnap)*this.translationSnap),r.search("Z")!==-1&&(c.position.z=Math.round(c.position.z/this.translationSnap)*this.translationSnap),c.parent&&c.position.sub(za.setFromMatrixPosition(c.parent.matrixWorld))));else if(n==="scale"){if(r.search("XYZ")!==-1){let v=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(v*=-1),sh.set(v,v,v)}else za.copy(this.pointStart),sh.copy(this.pointEnd),za.applyQuaternion(this._worldQuaternionInv),sh.applyQuaternion(this._worldQuaternionInv),sh.divide(za),r.search("X")===-1&&(sh.x=1),r.search("Y")===-1&&(sh.y=1),r.search("Z")===-1&&(sh.z=1);c.scale.copy(this._scaleStart).multiply(sh),this.scaleSnap&&(r.search("X")!==-1&&(c.scale.x=Math.round(c.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),r.search("Y")!==-1&&(c.scale.y=Math.round(c.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),r.search("Z")!==-1&&(c.scale.z=Math.round(c.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if(n==="rotate"){this._offset.copy(this.pointEnd).sub(this.pointStart);const v=20/this.worldPosition.distanceTo(za.setFromMatrixPosition(this.camera.matrixWorld));r==="E"?(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this._startNorm.copy(this.pointStart).normalize(),this._endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this._endNorm.cross(this._startNorm).dot(this.eye)<0?1:-1):r==="XYZE"?(this.rotationAxis.copy(this._offset).cross(this.eye).normalize(),this.rotationAngle=this._offset.dot(za.copy(this.rotationAxis).cross(this.eye))*v):(r==="X"||r==="Y"||r==="Z")&&(this.rotationAxis.copy(ST[r]),za.copy(ST[r]),p==="local"&&za.applyQuaternion(this.worldQuaternion),this.rotationAngle=this._offset.dot(za.cross(this.eye).normalize())*v),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),p==="local"&&r!=="E"&&r!=="XYZE"?(c.quaternion.copy(this._quaternionStart),c.quaternion.multiply(Ms.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this._parentQuaternionInv),c.quaternion.copy(Ms.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),c.quaternion.multiply(this._quaternionStart).normalize())}this.dispatchEvent(Wx),this.dispatchEvent(RT)}}pointerUp(t){t.button===0&&(this.dragging&&this.axis!==null&&(MT.mode=this.mode,this.dispatchEvent(MT)),this.dragging=!1,this.axis=null)}dispose(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.traverse(function(t){t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose()})}attach(t){return this.object=t,this.visible=!0,this}detach(){return this.object=void 0,this.visible=!1,this.axis=null,this}reset(){!this.enabled||this.dragging&&(this.object.position.copy(this._positionStart),this.object.quaternion.copy(this._quaternionStart),this.object.scale.copy(this._scaleStart),this.dispatchEvent(Wx),this.dispatchEvent(RT),this.pointStart.copy(this.pointEnd))}getRaycaster(){return Td}getMode(){return this.mode}setMode(t){this.mode=t}setTranslationSnap(t){this.translationSnap=t}setRotationSnap(t){this.rotationSnap=t}setScaleSnap(t){this.scaleSnap=t}setSize(t){this.size=t}setSpace(t){this.space=t}update(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}}pD.prototype.isTransformControls=!0;function vq(a){if(this.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:a.button};{const t=this.domElement.getBoundingClientRect();return{x:(a.clientX-t.left)/t.width*2-1,y:-(a.clientY-t.top)/t.height*2+1,button:a.button}}}function wq(a){if(!!this.enabled)switch(a.pointerType){case"mouse":case"pen":this.pointerHover(this._getPointer(a));break}}function Aq(a){!this.enabled||(document.pointerLockElement||this.domElement.setPointerCapture(a.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(a)),this.pointerDown(this._getPointer(a)))}function xq(a){!this.enabled||this.pointerMove(this._getPointer(a))}function Eq(a){!this.enabled||(this.domElement.releasePointerCapture(a.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.pointerUp(this._getPointer(a)))}function Qx(a,t,r){const n=t.intersectObject(a,!0);for(let c=0;c<n.length;c++)if(n[c].object.visible||r)return n[c];return!1}const av=new lo,ls=new wt(0,1,0),DT=new wt(0,0,0),BT=new Ji,lv=new L0,Ov=new L0,iu=new wt,IT=new Ji,lg=new wt(1,0,0),Dd=new wt(0,1,0),fg=new wt(0,0,1),fv=new wt,Xm=new wt,qm=new wt;class mD extends Rn{constructor(){super(),this.type="TransformControlsGizmo";const t=new Us({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),r=new uo({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),n=t.clone();n.opacity=.15;const c=r.clone();c.opacity=.5;const p=t.clone();p.color.setHex(16711680);const y=t.clone();y.color.setHex(65280);const v=t.clone();v.color.setHex(255);const E=t.clone();E.color.setHex(16711680),E.opacity=.5;const _=t.clone();_.color.setHex(65280),_.opacity=.5;const k=t.clone();k.color.setHex(255),k.opacity=.5;const R=t.clone();R.opacity=.25;const B=t.clone();B.color.setHex(16776960),B.opacity=.25,t.clone().color.setHex(16776960);const F=t.clone();F.color.setHex(7895160);const H=new As(0,.04,.1,12);H.translate(0,.05,0);const U=new fs(.08,.08,.08);U.translate(0,.04,0);const Z=new wn;Z.setAttribute("position",new $i([0,0,0,1,0,0],3));const K=new As(.0075,.0075,.5,3);K.translate(0,.25,0);function fe(he,me){const Re=new ql(he,.0075,3,64,me*Math.PI*2);return Re.rotateY(Math.PI/2),Re.rotateX(Math.PI/2),Re}function oe(){const he=new wn;return he.setAttribute("position",new $i([0,0,0,1,1,1],3)),he}const we={X:[[new Kr(H,p),[.5,0,0],[0,0,-Math.PI/2]],[new Kr(H,p),[-.5,0,0],[0,0,Math.PI/2]],[new Kr(K,p),[0,0,0],[0,0,-Math.PI/2]]],Y:[[new Kr(H,y),[0,.5,0]],[new Kr(H,y),[0,-.5,0],[Math.PI,0,0]],[new Kr(K,y)]],Z:[[new Kr(H,v),[0,0,.5],[Math.PI/2,0,0]],[new Kr(H,v),[0,0,-.5],[-Math.PI/2,0,0]],[new Kr(K,v),null,[Math.PI/2,0,0]]],XYZ:[[new Kr(new Rf(.1,0),R.clone()),[0,0,0]]],XY:[[new Kr(new fs(.15,.15,.01),k.clone()),[.15,.15,0]]],YZ:[[new Kr(new fs(.15,.15,.01),E.clone()),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Kr(new fs(.15,.15,.01),_.clone()),[.15,0,.15],[-Math.PI/2,0,0]]]},be={X:[[new Kr(new As(.2,0,.6,4),n),[.3,0,0],[0,0,-Math.PI/2]],[new Kr(new As(.2,0,.6,4),n),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new Kr(new As(.2,0,.6,4),n),[0,.3,0]],[new Kr(new As(.2,0,.6,4),n),[0,-.3,0],[0,0,Math.PI]]],Z:[[new Kr(new As(.2,0,.6,4),n),[0,0,.3],[Math.PI/2,0,0]],[new Kr(new As(.2,0,.6,4),n),[0,0,-.3],[-Math.PI/2,0,0]]],XYZ:[[new Kr(new Rf(.2,0),n)]],XY:[[new Kr(new fs(.2,.2,.01),n),[.15,.15,0]]],YZ:[[new Kr(new fs(.2,.2,.01),n),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Kr(new fs(.2,.2,.01),n),[.15,0,.15],[-Math.PI/2,0,0]]]},ve={START:[[new Kr(new Rf(.01,2),c),null,null,null,"helper"]],END:[[new Kr(new Rf(.01,2),c),null,null,null,"helper"]],DELTA:[[new _o(oe(),c),null,null,null,"helper"]],X:[[new _o(Z,c.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new _o(Z,c.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new _o(Z,c.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},ne={XYZE:[[new Kr(fe(.5,1),F),null,[0,Math.PI/2,0]]],X:[[new Kr(fe(.5,.5),p)]],Y:[[new Kr(fe(.5,.5),y),null,[0,0,-Math.PI/2]]],Z:[[new Kr(fe(.5,.5),v),null,[0,Math.PI/2,0]]],E:[[new Kr(fe(.75,1),B),null,[0,Math.PI/2,0]]]},ae={AXIS:[[new _o(Z,c.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},ye={XYZE:[[new Kr(new Nf(.25,10,8),n)]],X:[[new Kr(new ql(.5,.1,4,24),n),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new Kr(new ql(.5,.1,4,24),n),[0,0,0],[Math.PI/2,0,0]]],Z:[[new Kr(new ql(.5,.1,4,24),n),[0,0,0],[0,0,-Math.PI/2]]],E:[[new Kr(new ql(.75,.1,2,24),n)]]},de={X:[[new Kr(U,p),[.5,0,0],[0,0,-Math.PI/2]],[new Kr(K,p),[0,0,0],[0,0,-Math.PI/2]],[new Kr(U,p),[-.5,0,0],[0,0,Math.PI/2]]],Y:[[new Kr(U,y),[0,.5,0]],[new Kr(K,y)],[new Kr(U,y),[0,-.5,0],[0,0,Math.PI]]],Z:[[new Kr(U,v),[0,0,.5],[Math.PI/2,0,0]],[new Kr(K,v),[0,0,0],[Math.PI/2,0,0]],[new Kr(U,v),[0,0,-.5],[-Math.PI/2,0,0]]],XY:[[new Kr(new fs(.15,.15,.01),k),[.15,.15,0]]],YZ:[[new Kr(new fs(.15,.15,.01),E),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Kr(new fs(.15,.15,.01),_),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new Kr(new fs(.1,.1,.1),R.clone())]]},xe={X:[[new Kr(new As(.2,0,.6,4),n),[.3,0,0],[0,0,-Math.PI/2]],[new Kr(new As(.2,0,.6,4),n),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new Kr(new As(.2,0,.6,4),n),[0,.3,0]],[new Kr(new As(.2,0,.6,4),n),[0,-.3,0],[0,0,Math.PI]]],Z:[[new Kr(new As(.2,0,.6,4),n),[0,0,.3],[Math.PI/2,0,0]],[new Kr(new As(.2,0,.6,4),n),[0,0,-.3],[-Math.PI/2,0,0]]],XY:[[new Kr(new fs(.2,.2,.01),n),[.15,.15,0]]],YZ:[[new Kr(new fs(.2,.2,.01),n),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Kr(new fs(.2,.2,.01),n),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new Kr(new fs(.2,.2,.2),n),[0,0,0]]]},le={X:[[new _o(Z,c.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new _o(Z,c.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new _o(Z,c.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]};function re(he){const me=new Rn;for(const Re in he)for(let Ie=he[Re].length;Ie--;){const Ne=he[Re][Ie][0].clone(),Qe=he[Re][Ie][1],Ue=he[Re][Ie][2],ce=he[Re][Ie][3],Me=he[Re][Ie][4];Ne.name=Re,Ne.tag=Me,Qe&&Ne.position.set(Qe[0],Qe[1],Qe[2]),Ue&&Ne.rotation.set(Ue[0],Ue[1],Ue[2]),ce&&Ne.scale.set(ce[0],ce[1],ce[2]),Ne.updateMatrix();const ot=Ne.geometry.clone();ot.applyMatrix4(Ne.matrix),Ne.geometry=ot,Ne.renderOrder=1/0,Ne.position.set(0,0,0),Ne.rotation.set(0,0,0),Ne.scale.set(1,1,1),me.add(Ne)}return me}this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=re(we)),this.add(this.gizmo.rotate=re(ne)),this.add(this.gizmo.scale=re(de)),this.add(this.picker.translate=re(be)),this.add(this.picker.rotate=re(ye)),this.add(this.picker.scale=re(xe)),this.add(this.helper.translate=re(ve)),this.add(this.helper.rotate=re(ae)),this.add(this.helper.scale=re(le)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}updateMatrixWorld(t){const n=(this.mode==="scale"?"local":this.space)==="local"?this.worldQuaternion:Ov;this.gizmo.translate.visible=this.mode==="translate",this.gizmo.rotate.visible=this.mode==="rotate",this.gizmo.scale.visible=this.mode==="scale",this.helper.translate.visible=this.mode==="translate",this.helper.rotate.visible=this.mode==="rotate",this.helper.scale.visible=this.mode==="scale";let c=[];c=c.concat(this.picker[this.mode].children),c=c.concat(this.gizmo[this.mode].children),c=c.concat(this.helper[this.mode].children);for(let p=0;p<c.length;p++){const y=c[p];y.visible=!0,y.rotation.set(0,0,0),y.position.copy(this.worldPosition);let v;if(this.camera.isOrthographicCamera?v=(this.camera.top-this.camera.bottom)/this.camera.zoom:v=this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),y.scale.set(1,1,1).multiplyScalar(v*this.size/4),y.tag==="helper"){y.visible=!1,y.name==="AXIS"?(y.position.copy(this.worldPositionStart),y.visible=!!this.axis,this.axis==="X"&&(Ms.setFromEuler(av.set(0,0,0)),y.quaternion.copy(n).multiply(Ms),Math.abs(ls.copy(lg).applyQuaternion(n).dot(this.eye))>.9&&(y.visible=!1)),this.axis==="Y"&&(Ms.setFromEuler(av.set(0,0,Math.PI/2)),y.quaternion.copy(n).multiply(Ms),Math.abs(ls.copy(Dd).applyQuaternion(n).dot(this.eye))>.9&&(y.visible=!1)),this.axis==="Z"&&(Ms.setFromEuler(av.set(0,Math.PI/2,0)),y.quaternion.copy(n).multiply(Ms),Math.abs(ls.copy(fg).applyQuaternion(n).dot(this.eye))>.9&&(y.visible=!1)),this.axis==="XYZE"&&(Ms.setFromEuler(av.set(0,Math.PI/2,0)),ls.copy(this.rotationAxis),y.quaternion.setFromRotationMatrix(BT.lookAt(DT,ls,Dd)),y.quaternion.multiply(Ms),y.visible=this.dragging),this.axis==="E"&&(y.visible=!1)):y.name==="START"?(y.position.copy(this.worldPositionStart),y.visible=this.dragging):y.name==="END"?(y.position.copy(this.worldPosition),y.visible=this.dragging):y.name==="DELTA"?(y.position.copy(this.worldPositionStart),y.quaternion.copy(this.worldQuaternionStart),za.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),za.applyQuaternion(this.worldQuaternionStart.clone().invert()),y.scale.copy(za),y.visible=this.dragging):(y.quaternion.copy(n),this.dragging?y.position.copy(this.worldPositionStart):y.position.copy(this.worldPosition),this.axis&&(y.visible=this.axis.search(y.name)!==-1));continue}y.quaternion.copy(n),this.mode==="translate"||this.mode==="scale"?(y.name==="X"&&Math.abs(ls.copy(lg).applyQuaternion(n).dot(this.eye))>.99&&(y.scale.set(1e-10,1e-10,1e-10),y.visible=!1),y.name==="Y"&&Math.abs(ls.copy(Dd).applyQuaternion(n).dot(this.eye))>.99&&(y.scale.set(1e-10,1e-10,1e-10),y.visible=!1),y.name==="Z"&&Math.abs(ls.copy(fg).applyQuaternion(n).dot(this.eye))>.99&&(y.scale.set(1e-10,1e-10,1e-10),y.visible=!1),y.name==="XY"&&Math.abs(ls.copy(fg).applyQuaternion(n).dot(this.eye))<.2&&(y.scale.set(1e-10,1e-10,1e-10),y.visible=!1),y.name==="YZ"&&Math.abs(ls.copy(lg).applyQuaternion(n).dot(this.eye))<.2&&(y.scale.set(1e-10,1e-10,1e-10),y.visible=!1),y.name==="XZ"&&Math.abs(ls.copy(Dd).applyQuaternion(n).dot(this.eye))<.2&&(y.scale.set(1e-10,1e-10,1e-10),y.visible=!1)):this.mode==="rotate"&&(lv.copy(n),ls.copy(this.eye).applyQuaternion(Ms.copy(n).invert()),y.name.search("E")!==-1&&y.quaternion.setFromRotationMatrix(BT.lookAt(this.eye,DT,Dd)),y.name==="X"&&(Ms.setFromAxisAngle(lg,Math.atan2(-ls.y,ls.z)),Ms.multiplyQuaternions(lv,Ms),y.quaternion.copy(Ms)),y.name==="Y"&&(Ms.setFromAxisAngle(Dd,Math.atan2(ls.x,ls.z)),Ms.multiplyQuaternions(lv,Ms),y.quaternion.copy(Ms)),y.name==="Z"&&(Ms.setFromAxisAngle(fg,Math.atan2(ls.y,ls.x)),Ms.multiplyQuaternions(lv,Ms),y.quaternion.copy(Ms))),y.visible=y.visible&&(y.name.indexOf("X")===-1||this.showX),y.visible=y.visible&&(y.name.indexOf("Y")===-1||this.showY),y.visible=y.visible&&(y.name.indexOf("Z")===-1||this.showZ),y.visible=y.visible&&(y.name.indexOf("E")===-1||this.showX&&this.showY&&this.showZ),y.material._color=y.material._color||y.material.color.clone(),y.material._opacity=y.material._opacity||y.material.opacity,y.material.color.copy(y.material._color),y.material.opacity=y.material._opacity,this.enabled&&this.axis&&(y.name===this.axis||this.axis.split("").some(function(E){return y.name===E}))&&(y.material.color.setHex(16776960),y.material.opacity=1)}super.updateMatrixWorld(t)}}mD.prototype.isTransformControlsGizmo=!0;class gD extends Kr{constructor(){super(new Lo(1e5,1e5,2,2),new Us({visible:!1,wireframe:!0,side:Lf,transparent:!0,opacity:.1,toneMapped:!1})),this.type="TransformControlsPlane"}updateMatrixWorld(t){let r=this.space;switch(this.position.copy(this.worldPosition),this.mode==="scale"&&(r="local"),fv.copy(lg).applyQuaternion(r==="local"?this.worldQuaternion:Ov),Xm.copy(Dd).applyQuaternion(r==="local"?this.worldQuaternion:Ov),qm.copy(fg).applyQuaternion(r==="local"?this.worldQuaternion:Ov),ls.copy(Xm),this.mode){case"translate":case"scale":switch(this.axis){case"X":ls.copy(this.eye).cross(fv),iu.copy(fv).cross(ls);break;case"Y":ls.copy(this.eye).cross(Xm),iu.copy(Xm).cross(ls);break;case"Z":ls.copy(this.eye).cross(qm),iu.copy(qm).cross(ls);break;case"XY":iu.copy(qm);break;case"YZ":iu.copy(fv);break;case"XZ":ls.copy(qm),iu.copy(Xm);break;case"XYZ":case"E":iu.set(0,0,0);break}break;case"rotate":default:iu.set(0,0,0)}iu.length()===0?this.quaternion.copy(this.cameraQuaternion):(IT.lookAt(za.set(0,0,0),iu,ls),this.quaternion.setFromRotationMatrix(IT)),super.updateMatrixWorld(t)}}gD.prototype.isTransformControlsPlane=!0;function Ys(a){const t={"menubar/file":`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="none"
        viewBox="0 0 24 24"
      >
        <path
          stroke="#000"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2v11Z"
        />
      </svg>`,"menubar/file/new":"New","menubar/file/import":"Import","menubar/file/export/geometry":"Export Geometry","menubar/file/export/object":"Export Object","menubar/file/export/scene":"Export Scene","menubar/file/export/dae":"Export DAE","menubar/file/export/drc":"Export DRC","menubar/file/export/glb":"Export GLB","menubar/file/export/gltf":"Export GLTF","menubar/file/export/obj":"Export OBJ","menubar/file/export/ply":"Export PLY","menubar/file/export/ply_binary":"Export PLY (Binary)","menubar/file/export/stl":"Export STL","menubar/file/export/stl_binary":"Export STL (Binary)","menubar/file/export/usdz":"Export USDZ","menubar/file/publish":"Publish","menubar/edit":`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="none"
        viewBox="0 0 24 24"
      >
        <g
          stroke="#000"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
        >
          <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" />
          <path d="M18.5 2.5a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4 9.5-9.5Z" />
        </g>
      </svg>`,"menubar/edit/undo":"Undo (Ctrl+Z)","menubar/edit/redo":"Redo (Ctrl+Shift+Z)","menubar/edit/clear_history":"Clear History","menubar/edit/center":"Center","menubar/edit/clone":"Clone","menubar/edit/delete":"Delete (Del)","menubar/edit/fixcolormaps":"Fix Color Maps","menubar/add":"Add","menubar/add/group":"Group","menubar/add/plane":"Plane","menubar/add/box":"Box","menubar/add/capsule":"Capsule","menubar/add/circle":"Circle","menubar/add/cylinder":"Cylinder","menubar/add/ring":"Ring","menubar/add/sphere":"Sphere","menubar/add/dodecahedron":"Dodecahedron","menubar/add/star":"Star","menubar/add/icosahedron":"Icosahedron","menubar/add/octahedron":"Octahedron","menubar/add/tetrahedron":"Tetrahedron","menubar/add/torus":"Torus","menubar/add/tube":"Tube","menubar/add/torusknot":"TorusKnot","menubar/add/lathe":"Lathe","menubar/add/sprite":"Sprite","menubar/add/pointlight":"PointLight","menubar/add/spotlight":"SpotLight","menubar/add/directionallight":"DirectionalLight","menubar/add/hemispherelight":"HemisphereLight","menubar/add/ambientlight":"AmbientLight","menubar/add/perspectivecamera":"PerspectiveCamera","menubar/add/orthographiccamera":"OrthographicCamera","menubar/status/autosave":"autosave","menubar/play":"Play","menubar/play/stop":"Stop","menubar/play/play":"Play","menubar/examples":"Examples","menubar/examples/Arkanoid":"Arkanoid","menubar/examples/Camera":"Camera","menubar/examples/Particles":"Particles","menubar/examples/Pong":"Pong","menubar/examples/Shaders":"Shaders","menubar/view":"View","menubar/view/fullscreen":"Fullscreen","menubar/help":"Help","menubar/help/source_code":"Source Code","menubar/help/icons":"Icon Pack","menubar/help/about":"About","menubar/help/manual":"Manual","communicate/emoji":`<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36" fill="none">
    <path d="M18.139 32.2844C26.2436 32.2844 32.8137 25.7143 32.8137 17.6097C32.8137 9.50513 26.2436 2.93506 18.139 2.93506C10.0344 2.93506 3.46436 9.50513 3.46436 17.6097C3.46436 25.7143 10.0344 32.2844 18.139 32.2844Z" fill="#FFDA5B" stroke="#736E75" stroke-width="2.93493" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M12.2693 20.5446C12.2693 20.5446 14.4705 23.4795 18.1392 23.4795C21.8078 23.4795 24.009 20.5446 24.009 20.5446" stroke="#736E75" stroke-width="2.93493" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M13.7363 13.207H13.7518" stroke="#736E75" stroke-width="2.93493" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M22.5417 13.207H22.5572" stroke="#736E75" stroke-width="2.93493" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`,"communicate/chat":`<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36" fill="none">
    <path d="M31.3458 16.8759C31.3509 18.8127 30.8983 20.7234 30.0251 22.4522C28.9897 24.5239 27.398 26.2664 25.4282 27.4846C23.4584 28.7027 21.1884 29.3484 18.8723 29.3493C16.9355 29.3544 15.0248 28.9019 13.296 28.0286L4.9314 30.8168L7.71958 22.4522C6.84634 20.7234 6.39381 18.8127 6.39886 16.8759C6.39976 14.5598 7.04545 12.2898 8.2636 10.32C9.48176 8.35024 11.2243 6.7585 13.296 5.72311C15.0248 4.84986 16.9355 4.39734 18.8723 4.40239H19.6061C22.6648 4.57113 25.5538 5.86217 27.7199 8.02829C29.886 10.1944 31.1771 13.0834 31.3458 16.1421V16.8759Z" fill="#0094FF" stroke="#736E75" stroke-width="2.93493" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`,"communicate/mic":`<svg xmlns="http://www.w3.org/2000/svg" width="37" height="36" viewBox="0 0 37 36" fill="none">
    <g clip-path="url(#clip0_631_1991)">
    <path d="M18.5755 1.46729C17.4079 1.46729 16.2881 1.93111 15.4625 2.75672C14.6369 3.58233 14.1731 4.7021 14.1731 5.86969V17.6094C14.1731 18.777 14.6369 19.8968 15.4625 20.7224C16.2881 21.548 17.4079 22.0118 18.5755 22.0118C19.7431 22.0118 20.8629 21.548 21.6885 20.7224C22.5141 19.8968 22.9779 18.777 22.9779 17.6094V5.86969C22.9779 4.7021 22.5141 3.58233 21.6885 2.75672C20.8629 1.93111 19.7431 1.46729 18.5755 1.46729Z" fill="#72DBD4" stroke="#736E75" stroke-width="2.93493" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M28.8483 14.6748V17.6097C28.8483 20.3341 27.766 22.9469 25.8396 24.8733C23.9132 26.7998 21.3004 27.882 18.576 27.882C15.8516 27.882 13.2388 26.7998 11.3124 24.8733C9.38596 22.9469 8.30371 20.3341 8.30371 17.6097V14.6748" stroke="#736E75" stroke-width="2.93493" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M18.5757 27.8818V33.7517" stroke="#736E75" stroke-width="2.93493" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M12.7056 33.752H24.4453" stroke="#736E75" stroke-width="2.93493" stroke-linecap="round" stroke-linejoin="round"/>
    </g>
    <defs>
    <clipPath id="clip0_631_1991">
    <rect width="35.2192" height="35.2192" fill="white" transform="translate(0.966797)"/>
    </clipPath>
    </defs>
    </svg>`,"communicate/chat/cross":`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 25 25" fill="none">
    <path d="M6.91064 19.5244L19.6386 6.79649" stroke="#F2F2F2" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M6.91064 6.79645L19.6386 19.5244" stroke="#F2F2F2" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`,"addbar/option/cursor":`<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
    <rect width="48" height="48" rx="24" fill="url(#paint0_linear_1308_13199)"/>
    <path d="M12.8873 13.6647L21.6169 34.6182L24.7161 25.4935L33.8408 22.3943L12.8873 13.6647Z" fill="url(#paint1_linear_1308_13199)" stroke="#72D3F7" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M25.2347 26.0121L32.6431 33.4205" stroke="#72D3F7" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
    <defs>
    <linearGradient id="paint0_linear_1308_13199" x1="24" y1="0.777344" x2="24" y2="48.7773" gradientUnits="userSpaceOnUse">
    <stop stop-color="#EAEAEA"/>
    <stop offset="0.65625" stop-color="#F9F9F9"/>
    <stop offset="1" stop-color="white"/>
    </linearGradient>
    <linearGradient id="paint1_linear_1308_13199" x1="23.3641" y1="13.6647" x2="23.3641" y2="34.6182" gradientUnits="userSpaceOnUse">
    <stop stop-color="#F5F5F5"/>
    <stop offset="1" stop-color="white"/>
    </linearGradient>
    </defs>
    </svg>`,"addbar/option/cursor/open":`<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
    <rect width="48" height="48" rx="24" fill="url(#paint0_linear_1340_32447)"/>
    <path d="M12.8874 12.8874L21.617 33.8409L24.7162 24.7162L33.8409 21.617L12.8874 12.8874Z" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M25.2347 25.2347L32.6432 32.6432" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
    <defs>
    <linearGradient id="paint0_linear_1340_32447" x1="24" y1="0" x2="24" y2="48" gradientUnits="userSpaceOnUse">
    <stop stop-color="#19BFFD"/>
    <stop offset="1" stop-color="#72D3F7"/>
    </linearGradient>
    </defs>
    </svg>`,"addbar/option/cursor/undo":`<svg xmlns="http://www.w3.org/2000/svg" width="25" height="22" viewBox="0 0 25 22" fill="none">
      <path d="M2.06877 9.53283L4.10291 13.0561L7.62615 11.0219" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M22.7935 12.573C22.289 10.0128 20.7159 7.66998 18.2686 6.25702C13.7912 3.67199 8.08185 5.1776 5.5172 9.6197C4.98465 10.5421 4.63012 11.519 4.44161 12.51" stroke="#1E1E1E" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round"/>
      </svg>
    `,"addbar/option/cursor/redo":`<svg xmlns="http://www.w3.org/2000/svg" width="25" height="22" viewBox="0 0 25 22" fill="none">
      <path d="M23.0055 9.53283L20.9713 13.0561L17.4481 11.0219" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M2.28076 12.573C2.78522 10.0128 4.35831 7.66998 6.80561 6.25702C11.283 3.67199 16.9924 5.1776 19.557 9.6197C20.0896 10.5421 20.4441 11.519 20.6326 12.51" stroke="#1E1E1E" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round"/>
      </svg>
    `,"addbar/option/cursor/duplicate":`<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" fill="none">
      <path d="M20.5371 9.21484H11.5371C10.4325 9.21484 9.53711 10.1103 9.53711 11.2148V20.2148C9.53711 21.3194 10.4325 22.2148 11.5371 22.2148H20.5371C21.6417 22.2148 22.5371 21.3194 22.5371 20.2148V11.2148C22.5371 10.1103 21.6417 9.21484 20.5371 9.21484Z" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M5.53711 15.2148H4.53711C4.00668 15.2148 3.49797 15.0041 3.1229 14.6291C2.74782 14.254 2.53711 13.7453 2.53711 13.2148V4.21484C2.53711 3.68441 2.74782 3.1757 3.1229 2.80063C3.49797 2.42556 4.00668 2.21484 4.53711 2.21484H13.5371C14.0675 2.21484 14.5762 2.42556 14.9513 2.80063C15.3264 3.1757 15.5371 3.68441 15.5371 4.21484V5.21484" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    `,"addbar/option/cursor/delete":`<svg xmlns="http://www.w3.org/2000/svg" width="21" height="23" viewBox="0 0 21 23" fill="none">
      <path d="M1.53711 5.70117H3.53711H19.5371" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M6.53711 5.70117V3.70117C6.53711 3.17074 6.74782 2.66203 7.1229 2.28696C7.49797 1.91189 8.00668 1.70117 8.53711 1.70117H12.5371C13.0675 1.70117 13.5762 1.91189 13.9513 2.28696C14.3264 2.66203 14.5371 3.17074 14.5371 3.70117V5.70117M17.5371 5.70117V19.7012C17.5371 20.2316 17.3264 20.7403 16.9513 21.1154C16.5762 21.4905 16.0675 21.7012 15.5371 21.7012H5.53711C5.00668 21.7012 4.49797 21.4905 4.1229 21.1154C3.74782 20.7403 3.53711 20.2316 3.53711 19.7012V5.70117H17.5371Z" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M8.53711 10.7012V16.7012" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M12.5371 10.7012V16.7012" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    `,"addbar/option/text":`<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
    <circle cx="24" cy="24" r="24" fill="url(#paint0_linear_1322_19742)"/>
    <path d="M34.5852 18.3662V12.8529H13.8638V18.3662" stroke="#FFA099" stroke-width="4" stroke-linecap="round"/>
    <line x1="24.7427" y1="14.8529" x2="24.7427" y2="36.6824" stroke="#FFA099" stroke-width="4" stroke-linecap="round"/>
    <line x1="20.8599" y1="36.6824" x2="27.8832" y2="36.6824" stroke="#FFA099" stroke-width="4" stroke-linecap="round"/>
    <defs>
    <linearGradient id="paint0_linear_1322_19742" x1="24" y1="0.777283" x2="24" y2="48.7773" gradientUnits="userSpaceOnUse">
    <stop stop-color="#EAEAEA"/>
    <stop offset="0.65625" stop-color="#F9F9F9"/>
    <stop offset="1" stop-color="white"/>
    </linearGradient>
    </defs>
    </svg>
    `,"addbar/option/text/open":`<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
    <circle cx="24" cy="24" r="24" fill="url(#paint0_linear_1340_32448)"/>
    <path d="M34.7214 17.5133V12H14V17.5133" stroke="white" stroke-width="4" stroke-linecap="round"/>
    <line x1="24.8789" y1="14" x2="24.8789" y2="35.8295" stroke="white" stroke-width="4" stroke-linecap="round"/>
    <line x1="20.9961" y1="35.8295" x2="28.0194" y2="35.8295" stroke="white" stroke-width="4" stroke-linecap="round"/>
    <defs>
    <linearGradient id="paint0_linear_1340_32448" x1="24" y1="0" x2="24" y2="48" gradientUnits="userSpaceOnUse">
    <stop stop-color="#FF766D"/>
    <stop offset="1" stop-color="#FF9F99"/>
    </linearGradient>
    </defs>
    </svg>
    `,"addbar/option/object/text":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path d="M19.5462 6.70148V3H4V6.70148" stroke="#4C4C4C" stroke-width="3" stroke-linecap="round"/>
    <path d="M12.0742 4.5L12.0742 20.0074" stroke="#4C4C4C" stroke-width="3" stroke-linecap="round"/>
    <path d="M10.2422 21.4883H13.9049" stroke="#4C4C4C" stroke-width="3" stroke-linecap="round"/>
    </svg>
    `,"addbar/option/object/postit":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path d="M2.95 20V4C2.95 3.4201 3.4201 2.95 4 2.95H20C20.5799 2.95 21.05 3.4201 21.05 4V13.8501C21.05 14.1286 20.9394 14.3957 20.7425 14.5926L14.5926 20.7425C14.3957 20.9394 14.1286 21.05 13.8501 21.05H4C3.4201 21.05 2.95 20.5799 2.95 20Z" fill="white" stroke="#4C4C4C" stroke-width="1.9"/>
    <path d="M13.7859 21V14.7861C13.7859 14.2338 14.2336 13.7861 14.7859 13.7861H21.0002" stroke="#4C4C4C" stroke-width="1.9"/>
    <line x1="5.92871" y1="7.11387" x2="18.0716" y2="7.11387" stroke="#4C4C4C" stroke-width="1.2"/>
    </svg>
    `,"addbar/option/library":`<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
    <ellipse cx="24" cy="24" rx="24" ry="24" fill="url(#paint0_linear_1308_13156)"/>
    <path d="M17.2634 12.7773H33.8036V37.2813H17.2634C16.4511 37.2813 15.672 36.9586 15.0976 36.3842C14.5231 35.8098 14.2004 35.0307 14.2004 34.2183V15.8403C14.2004 15.028 14.5231 14.2489 15.0976 13.6745C15.672 13.1001 16.4511 12.7773 17.2634 12.7773Z" fill="url(#paint1_linear_1308_13156)" stroke="#0094FF" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M14.2004 34.2183C14.2004 33.406 14.5231 32.6269 15.0976 32.0525C15.672 31.478 16.4511 31.1553 17.2634 31.1553H33.8036" stroke="#0094FF" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
    <defs>
    <linearGradient id="paint0_linear_1308_13156" x1="24" y1="0.777344" x2="24" y2="48.7773" gradientUnits="userSpaceOnUse">
    <stop stop-color="#EAEAEA"/>
    <stop offset="0.65625" stop-color="#F9F9F9"/>
    <stop offset="1" stop-color="white"/>
    </linearGradient>
    <linearGradient id="paint1_linear_1308_13156" x1="24.002" y1="12.7773" x2="24.002" y2="37.2813" gradientUnits="userSpaceOnUse">
    <stop stop-color="#F5F5F5"/>
    <stop offset="1" stop-color="white"/>
    </linearGradient>
    </defs>
    </svg>
    `,"addbar/option/library/open":`<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
    <ellipse cx="24" cy="24" rx="24" ry="24" fill="url(#paint0_linear_1340_32442)"/>
    <path d="M17.2634 9.90179H33.8036V34.4058H17.2634C16.4511 34.4058 15.672 34.0831 15.0976 33.5086C14.5231 32.9342 14.2004 32.1551 14.2004 31.3428V12.9648C14.2004 12.1524 14.5231 11.3733 15.0976 10.7989C15.672 10.2245 16.4511 9.90179 17.2634 9.90179V9.90179Z" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M14.2004 31.3428C14.2004 30.5304 14.5231 29.7513 15.0976 29.1769C15.672 28.6025 16.4511 28.2798 17.2634 28.2798H33.8036" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
    <defs>
    <linearGradient id="paint0_linear_1340_32442" x1="24" y1="0" x2="24" y2="48" gradientUnits="userSpaceOnUse">
    <stop stop-color="#0282DF"/>
    <stop offset="1" stop-color="#0094FF"/>
    </linearGradient>
    </defs>
    </svg>
    `,"addbar/option/library/search":`<svg xmlns="http://www.w3.org/2000/svg" width="15" height="14" viewBox="0 0 15 14" fill="none">
      <path d="M7.03009 11.3707C9.87501 11.3707 12.1813 9.06446 12.1813 6.21954C12.1813 3.37462 9.87501 1.06836 7.03009 1.06836C4.18517 1.06836 1.87891 3.37462 1.87891 6.21954C1.87891 9.06446 4.18517 11.3707 7.03009 11.3707Z" stroke="#736E75" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M13.4679 12.6584L10.667 9.85742" stroke="#736E75" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    `,"addbar/option/file":`<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
    <ellipse cx="24" cy="24" rx="24" ry="23.5828" fill="url(#paint0_linear_1308_13150)"/>
    <path d="M28.8776 29.9608L23.5786 24.6726L18.2796 29.9608" stroke="#F7C005" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M23.5782 24.6726V36.5711" stroke="#F7C005" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M34.694 33.1206C35.9861 32.4176 37.0068 31.3052 37.595 29.959C38.1833 28.6128 38.3056 27.1095 37.9426 25.6862C37.5796 24.263 36.752 23.0009 35.5904 22.0991C34.4289 21.1974 32.9995 20.7074 31.5278 20.7064H29.8587C29.4577 19.1586 28.7103 17.7216 27.6728 16.5036C26.6352 15.2855 25.3344 14.318 23.8683 13.6738C22.4021 13.0297 20.8087 12.7256 19.2078 12.7845C17.6069 12.8433 16.0403 13.2636 14.6256 14.0137C13.2109 14.7638 11.985 15.8242 11.0401 17.1151C10.0951 18.4061 9.45574 19.8941 9.16998 21.4671C8.88422 23.0402 8.95951 24.6574 9.3902 26.1973C9.82089 27.7371 10.5958 29.1595 11.6566 30.3575" stroke="#F7C005" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
    <defs>
    <linearGradient id="paint0_linear_1308_13150" x1="24" y1="0.777283" x2="24" y2="47.9429" gradientUnits="userSpaceOnUse">
    <stop stop-color="#EAEAEA"/>
    <stop offset="0.65625" stop-color="#F9F9F9"/>
    <stop offset="1" stop-color="white"/>
    </linearGradient>
    </defs>
    </svg>
    `,"addbar/option/file/open":`<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
    <circle cx="24" cy="24" r="24" fill="url(#paint0_linear_1308_14796)"/>
    <path d="M27.8776 29.3491L22.5786 24.0608L17.2796 29.3491" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M22.5782 24.0608V35.9594" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M33.694 32.5088C34.9861 31.8058 36.0068 30.6935 36.595 29.3473C37.1833 28.0011 37.3056 26.4977 36.9426 25.0745C36.5796 23.6512 35.752 22.3891 34.5904 21.4874C33.4289 20.5856 31.9995 20.0956 30.5278 20.0947H28.8587C28.4577 18.5468 27.7103 17.1099 26.6728 15.8918C25.6352 14.6737 24.3344 13.7062 22.8683 13.0621C21.4021 12.4179 19.8087 12.1138 18.2078 12.1727C16.6069 12.2316 15.0403 12.6518 13.6256 13.4019C12.2109 14.152 10.985 15.2124 10.0401 16.5034C9.09512 17.7943 8.45574 19.2823 8.16998 20.8554C7.88422 22.4284 7.95951 24.0457 8.3902 25.5855C8.82089 27.1254 9.59576 28.5477 10.6566 29.7457" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
    <defs>
    <linearGradient id="paint0_linear_1308_14796" x1="24" y1="0.165527" x2="24" y2="48.1655" gradientUnits="userSpaceOnUse">
    <stop stop-color="#EBB500"/>
    <stop offset="1" stop-color="#F7C005"/>
    </linearGradient>
    </defs>
    </svg>
    `,"addbar/option/file/export":`<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
    <path d="M16.0273 12.3467V18.3467C16.0273 18.8771 15.8166 19.3858 15.4416 19.7609C15.0665 20.136 14.5578 20.3467 14.0273 20.3467H3.02734C2.49691 20.3467 1.9882 20.136 1.61313 19.7609C1.23806 19.3858 1.02734 18.8771 1.02734 18.3467V7.34668C1.02734 6.81625 1.23806 6.30754 1.61313 5.93247C1.9882 5.55739 2.49691 5.34668 3.02734 5.34668H9.02734" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M8.02734 13.3467L19.0273 2.34668" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M14.0273 1.34668H20.0273V7.34668" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,"addbar/option/file/import":`<svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21" fill="none">
    <path d="M4.02734 9.34668L4.02734 3.34668C4.02734 2.81625 4.23806 2.30754 4.61313 1.93247C4.9882 1.55739 5.49691 1.34668 6.02735 1.34668L17.0273 1.34668C17.5578 1.34668 18.0665 1.55739 18.4416 1.93247C18.8166 2.30754 19.0273 2.81625 19.0273 3.34668L19.0273 14.3467C19.0273 14.8771 18.8166 15.3858 18.4416 15.7609C18.0665 16.136 17.5578 16.3467 17.0273 16.3467L11.0273 16.3467" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M7.02734 19.3467L1.02734 19.3467L1.02734 13.3467" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M12.0273 8.34668L1.02734 19.3467" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,"addbar/option/file/publish":`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
    <g clip-path="url(#clip0_631_4630)">
    <path d="M13.3337 13.3333L10.0003 10L6.66699 13.3333" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M10 10V17.5" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M16.9919 15.3249C17.8047 14.8818 18.4467 14.1806 18.8168 13.3321C19.1868 12.4835 19.2637 11.5359 19.0354 10.6388C18.807 9.7417 18.2865 8.94616 17.5558 8.37778C16.8251 7.80939 15.9259 7.50052 15.0002 7.4999H13.9502C13.698 6.52427 13.2278 5.61852 12.5752 4.85073C11.9225 4.08295 11.1042 3.47311 10.182 3.06708C9.25967 2.66104 8.25734 2.46937 7.25031 2.50647C6.24328 2.54358 5.25777 2.80849 4.36786 3.28129C3.47795 3.7541 2.7068 4.42249 2.1124 5.23622C1.51799 6.04996 1.11579 6.98785 0.936028 7.9794C0.756269 8.97095 0.803632 9.99035 1.07456 10.961C1.34548 11.9316 1.83291 12.8281 2.50021 13.5832" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M13.3337 13.3333L10.0003 10L6.66699 13.3333" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </g>
    <defs>
    <clipPath id="clip0_631_4630">
    <rect width="20" height="20" fill="white"/>
    </clipPath>
    </defs>
    </svg>
    `,"addbar/option/object":`<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
    <ellipse cx="24" cy="24" rx="24" ry="24" fill="url(#paint0_linear_1308_13143)"/>
    <path d="M15.7815 10.623L17.7633 14.6378L22.195 15.2856L18.9882 18.4089L19.745 22.8214L15.7815 20.737L11.818 22.8214L12.5748 18.4089L9.36804 15.2856L13.7997 14.6378L15.7815 10.623Z" fill="url(#paint1_linear_1308_13143)" stroke="#838CFF" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M14.6854 27.5326L9.25319 36.6013C9.14119 36.7952 9.08193 37.0151 9.0813 37.2391C9.08068 37.4631 9.13871 37.6833 9.24962 37.8779C9.36053 38.0725 9.52046 38.2346 9.71349 38.3482C9.90653 38.4618 10.1259 38.5229 10.3499 38.5253H21.2143C21.4383 38.5229 21.6577 38.4618 21.8507 38.3482C22.0437 38.2346 22.2037 38.0725 22.3146 37.8779C22.4255 37.6833 22.4835 37.4631 22.4829 37.2391C22.4823 37.0151 22.423 36.7952 22.311 36.6013L16.8788 27.5326C16.7645 27.3442 16.6035 27.1883 16.4114 27.0802C16.2193 26.972 16.0026 26.9152 15.7821 26.9152C15.5616 26.9152 15.3449 26.972 15.1528 27.0802C14.9607 27.1883 14.7997 27.3442 14.6854 27.5326Z" fill="url(#paint2_linear_1308_13143)" stroke="#838CFF" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M32.5042 39.1337C36.0463 39.1337 38.9177 36.2623 38.9177 32.7203C38.9177 29.1782 36.0463 26.3068 32.5042 26.3068C28.9622 26.3068 26.0908 29.1782 26.0908 32.7203C26.0908 36.2623 28.9622 39.1337 32.5042 39.1337Z" fill="url(#paint3_linear_1308_13143)" stroke="#838CFF" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M36.9929 10.9502H28.0141C27.3057 10.9502 26.7314 11.5244 26.7314 12.2329V21.2117C26.7314 21.9201 27.3057 22.4944 28.0141 22.4944H36.9929C37.7013 22.4944 38.2756 21.9201 38.2756 21.2117V12.2329C38.2756 11.5244 37.7013 10.9502 36.9929 10.9502Z" fill="url(#paint4_linear_1308_13143)" stroke="#838CFF" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
    <defs>
    <linearGradient id="paint0_linear_1308_13143" x1="24" y1="0.777313" x2="24" y2="48.7773" gradientUnits="userSpaceOnUse">
    <stop stop-color="#EAEAEA"/>
    <stop offset="0.65625" stop-color="#F9F9F9"/>
    <stop offset="1" stop-color="white"/>
    </linearGradient>
    <linearGradient id="paint1_linear_1308_13143" x1="15.7815" y1="10.623" x2="15.7815" y2="22.8214" gradientUnits="userSpaceOnUse">
    <stop stop-color="#F5F5F5"/>
    <stop offset="1" stop-color="white"/>
    </linearGradient>
    <linearGradient id="paint2_linear_1308_13143" x1="15.7821" y1="26.9152" x2="15.7821" y2="38.5253" gradientUnits="userSpaceOnUse">
    <stop stop-color="#F5F5F5"/>
    <stop offset="1" stop-color="white"/>
    </linearGradient>
    <linearGradient id="paint3_linear_1308_13143" x1="32.5042" y1="26.3068" x2="32.5042" y2="39.1337" gradientUnits="userSpaceOnUse">
    <stop stop-color="#F5F5F5"/>
    <stop offset="1" stop-color="white"/>
    </linearGradient>
    <linearGradient id="paint4_linear_1308_13143" x1="32.5035" y1="10.9502" x2="32.5035" y2="22.4944" gradientUnits="userSpaceOnUse">
    <stop stop-color="#F5F5F5"/>
    <stop offset="1" stop-color="white"/>
    </linearGradient>
    </defs>
    </svg>
    `,"addbar/option/object/open":`<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
    <ellipse cx="24" cy="24" rx="24" ry="24" fill="url(#paint0_linear_1340_32429)"/>
    <path d="M15.7815 9.84567L17.7633 13.8605L22.195 14.5083L18.9882 17.6316L19.745 22.0441L15.7815 19.9597L11.818 22.0441L12.5748 17.6316L9.36804 14.5083L13.7997 13.8605L15.7815 9.84567Z" stroke="white" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M14.6854 26.7553L9.25319 35.824C9.14119 36.0179 9.08193 36.2378 9.0813 36.4618C9.08068 36.6858 9.13871 36.906 9.24962 37.1006C9.36053 37.2952 9.52046 37.4573 9.71349 37.5709C9.90653 37.6845 10.1259 37.7455 10.3499 37.748H21.2143C21.4383 37.7455 21.6577 37.6845 21.8507 37.5709C22.0437 37.4573 22.2037 37.2952 22.3146 37.1006C22.4255 36.906 22.4835 36.6858 22.4829 36.4618C22.4823 36.2378 22.423 36.0179 22.311 35.824L16.8788 26.7553C16.7645 26.5668 16.6035 26.411 16.4114 26.3029C16.2193 26.1947 16.0026 26.1379 15.7821 26.1379C15.5616 26.1379 15.3449 26.1947 15.1528 26.3029C14.9607 26.411 14.7997 26.5668 14.6854 26.7553V26.7553Z" stroke="white" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M32.5042 38.3564C36.0463 38.3564 38.9177 35.485 38.9177 31.943C38.9177 28.4009 36.0463 25.5295 32.5042 25.5295C28.9622 25.5295 26.0908 28.4009 26.0908 31.943C26.0908 35.485 28.9622 38.3564 32.5042 38.3564Z" stroke="white" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M36.9929 10.1729H28.0141C27.3057 10.1729 26.7314 10.7471 26.7314 11.4555V20.4344C26.7314 21.1428 27.3057 21.7171 28.0141 21.7171H36.9929C37.7013 21.7171 38.2756 21.1428 38.2756 20.4344V11.4555C38.2756 10.7471 37.7013 10.1729 36.9929 10.1729Z" stroke="white" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
    <defs>
    <linearGradient id="paint0_linear_1340_32429" x1="24" y1="0" x2="24" y2="48" gradientUnits="userSpaceOnUse">
    <stop stop-color="#6168C7"/>
    <stop offset="1" stop-color="#838CFF"/>
    </linearGradient>
    </defs>
    </svg>`,"addbar/option/object/plane":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
    <rect x="3" y="3" width="17.6708" height="17.6708" fill="#D9D9D9" stroke="#4C4C4C" stroke-width="2"/>
    </svg>
    `,"addbar/option/object/portal":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
    <circle cx="12" cy="12" r="9.25" fill="white" stroke="#4C4C4C" stroke-width="1.5"/>
    <path d="M5.13684 12.0705C6.0944 13.515 7.35556 14.28 9.10839 14.3289C8.99071 14.2021 8.92247 14.128 8.85315 14.0538C6.91654 11.9732 6.93159 8.46103 8.88754 6.50133C9.6264 5.76106 10.5173 5.32701 11.5549 5.19969C11.6689 5.18572 11.7855 5.19754 11.9805 5.19754C10.556 6.14838 9.77363 7.40651 9.73387 9.16047C9.84778 9.05732 9.91549 8.99823 9.98105 8.93645C11.9332 7.09601 15.2385 6.97299 17.2578 8.67161C18.1713 9.44035 18.7119 10.4197 18.8602 11.6085C18.8753 11.7272 18.8624 11.8497 18.8624 12.0431C17.9096 10.6088 16.6501 9.83573 14.9032 9.79544C15.0117 9.91577 15.074 9.98668 15.1385 10.0554C16.8521 11.8851 17.1912 15.2034 15.3948 17.3125C14.6141 18.2289 13.6318 18.7758 12.433 18.9214C12.3212 18.9348 12.2067 18.923 12.0138 18.923C13.4534 17.9711 14.2213 16.7065 14.2696 14.9606C14.1493 15.0681 14.0783 15.1288 14.0101 15.1927C11.8741 17.1905 8.2669 17.125 6.32546 15.0514C5.65054 14.331 5.25613 13.4779 5.13899 12.4981C5.12555 12.3853 5.13738 12.2692 5.13738 12.0705H5.13684Z" fill="#4C4C4C"/>
    </svg>
    `,"addbar/option/object/box":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path d="M21 15.9436V7.97466C20.9996 7.6253 20.9071 7.28217 20.7315 6.9797C20.556 6.67723 20.3037 6.42606 20 6.25138L13 2.26691C12.696 2.09205 12.3511 2 12 2C11.6489 2 11.304 2.09205 11 2.26691L4 6.25138C3.69626 6.42606 3.44398 6.67723 3.26846 6.9797C3.09294 7.28217 3.00036 7.6253 3 7.97466V15.9436C3.00036 16.293 3.09294 16.6361 3.26846 16.9386C3.44398 17.241 3.69626 17.4922 4 17.6669L11 21.6514C11.304 21.8262 11.6489 21.9183 12 21.9183C12.3511 21.9183 12.696 21.8262 13 21.6514L20 17.6669C20.3037 17.4922 20.556 17.241 20.7315 16.9386C20.9071 16.6361 20.9996 16.293 21 15.9436Z" fill="#D9D9D9" stroke="#4C4C4C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M3.27002 6.9387L12 11.9691L20.73 6.9387" stroke="#4C4C4C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M12 22V11.9591" stroke="#4C4C4C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,"addbar/option/object/sphere":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
    <circle cx="12.0227" cy="12.0227" r="8.25" transform="rotate(105 12.0227 12.0227)" stroke="#4C4C4C" stroke-width="1.5"/>
    <ellipse cx="8.69065" cy="8.54443" rx="3.34752" ry="1.77962" transform="rotate(-41.219 8.69065 8.54443)" fill="white"/>
    </svg>
    `,"addbar/option/object/pentagon":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path d="M16.4968 21.7426L18.9516 17.965C19.0034 17.8852 19.031 17.7922 19.031 17.697V5.89247C19.031 5.6856 18.9016 5.50085 18.7071 5.43024L12.1834 3.06097C12.0749 3.02158 11.9561 3.02158 11.8477 3.06097L5.3239 5.43024C5.12946 5.50085 5 5.6856 5 5.89247V17.697C5 17.7922 5.02759 17.8852 5.07942 17.965L7.53425 21.7426C7.62496 21.8822 7.78013 21.9664 7.9466 21.9664H16.0844C16.2509 21.9664 16.4061 21.8822 16.4968 21.7426Z" fill="#D9D9D9" stroke="#4C4C4C" stroke-width="1.5"/>
    <path d="M19.0309 5.54858L16.3512 9.6722H7.67957L4.99988 5.54858" stroke="#4C4C4C" stroke-width="1.5"/>
    <path d="M16.3675 9.63895V21.9332" stroke="#4C4C4C" stroke-width="1.5"/>
    <path d="M7.58936 9.63895V21.9332" stroke="#4C4C4C" stroke-width="1.5"/>
    </svg>
    `,"addbar/option/object/hexagon":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path d="M7.92495 1.56687L4.66332 4.48892L5.16377 5.04753L4.66332 4.48892C4.40039 4.72448 4.25015 5.0608 4.25015 5.41381L4.25015 18.2547C4.25015 18.6075 4.40026 18.9437 4.66298 19.1793L7.92471 22.1036L8.42537 21.5452L7.92472 22.1036C8.15252 22.3078 8.44769 22.4208 8.75365 22.4208L15.508 22.4208C15.8139 22.4208 16.1091 22.3078 16.3369 22.1036L15.8362 21.5452L16.3369 22.1036L19.5986 19.1793C19.8614 18.9437 20.0115 18.6075 20.0115 18.2547L20.0115 5.41381C20.0115 5.0608 19.8612 4.72447 19.5983 4.48892L16.3367 1.56687C16.1089 1.36282 15.8139 1.24998 15.5081 1.24998L8.75355 1.24998C8.44775 1.24998 8.15271 1.36282 7.92495 1.56687Z" fill="#D9D9D9" stroke="#4C4C4C" stroke-width="1.5"/>
    <path d="M19.2615 5.19415L15.6961 8.38829L8.56548 8.38829L5.00015 5.19415" stroke="#4C4C4C" stroke-width="1.5"/>
    <path d="M8.44257 8.39301V22.1626" stroke="#4C4C4C" stroke-width="1.5"/>
    <path d="M15.8191 8.39301V22.1626" stroke="#4C4C4C" stroke-width="1.5"/>
    </svg>
    `,"addbar/option/object/cylinder":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path d="M12.0814 21.6708C15.9924 21.6708 19.1628 20.2256 19.1628 18.4428V5.93419H4.99988V18.4428C4.99988 20.2256 8.17037 21.6708 12.0814 21.6708Z" fill="#D9D9D9" stroke="#4C4C4C" stroke-width="2"/>
    <ellipse cx="12.0815" cy="5.14733" rx="7.08149" ry="3.14733" fill="#D9D9D9" stroke="#4C4C4C" stroke-width="2"/>
    </svg>
    `,"addbar/option/object/pyramid":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path d="M4.2496 15.5294L12.1876 2.6774C12.3797 2.36627 12.8322 2.36627 13.0244 2.6774L20.9623 15.5294C21.1016 15.7548 21.0372 16.05 20.8167 16.197L12.8788 21.4889C12.7136 21.5991 12.4984 21.5991 12.3332 21.4889L4.39522 16.197C4.17476 16.05 4.11037 15.7548 4.2496 15.5294Z" fill="#D9D9D9" stroke="#4C4C4C" stroke-width="2"/>
    <path d="M12.6058 2.49179V21.4249" stroke="#4C4C4C" stroke-width="2"/>
    </svg>
    `,"addbar/option/object/cone":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
    <g clip-path="url(#clip0_1330_30683)">
    <path d="M4.1005 19.6744L11.671 3.92226C11.8496 3.55059 12.3788 3.55059 12.5574 3.92226L20.1279 19.6744C20.1859 19.7951 20.1483 19.9401 20.039 20.0174C15.2895 23.3757 8.93895 23.3757 4.18945 20.0174C4.08007 19.9401 4.04248 19.7951 4.1005 19.6744Z" fill="#D9D9D9" stroke="#4C4C4C" stroke-width="2"/>
    </g>
    <defs>
    <clipPath id="clip0_1330_30683">
    <rect width="24" height="24" fill="white"/>
    </clipPath>
    </defs>
    </svg>
    `,"addbar/option/object/torus":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M12 19.3478C18.0751 19.3478 23 16.136 23 12.1739C23 8.21187 18.0751 5 12 5C5.92487 5 1 8.21187 1 12.1739C1 16.136 5.92487 19.3478 12 19.3478ZM11.816 12.7465C10.7821 12.7465 9.8584 12.5858 9.14233 12.3369C9.21868 12.2889 9.31575 12.236 9.43905 12.1797C9.9958 11.9255 10.8352 11.742 11.8159 11.742C12.7966 11.742 13.636 11.9255 14.1928 12.1797C14.3161 12.236 14.4132 12.289 14.4896 12.3369C13.7735 12.5858 12.8499 12.7465 11.816 12.7465Z" fill="#D9D9D9"/>
    <path d="M22 12.1739C22 13.7062 21.0469 15.2254 19.2319 16.409C17.4261 17.5867 14.872 18.3478 12 18.3478C9.12796 18.3478 6.57392 17.5867 4.76809 16.409C2.95313 15.2254 2 13.7062 2 12.1739C2 10.6416 2.95313 9.12247 4.76809 7.9388C6.57392 6.76109 9.12796 6 12 6C14.872 6 17.4261 6.76109 19.2319 7.9388C21.0469 9.12247 22 10.6416 22 12.1739Z" stroke="#4C4C4C" stroke-width="2"/>
    <path d="M16.893 11.3401C16.893 12.6675 14.62 13.7436 11.8161 13.7436C9.01215 13.7436 6.73914 12.6675 6.73914 11.3401" stroke="#4C4C4C" stroke-width="2" stroke-linecap="round"/>
    <path d="M7.86721 12.5418C7.86721 11.5462 9.63511 10.7392 11.8159 10.7392C13.9967 10.7392 15.7646 11.5463 15.7646 12.5418" stroke="#4C4C4C" stroke-width="2" stroke-linecap="round"/>
    </svg>
    `,"addbar/option/object/star":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path d="M14.5943 3.81343L12.4805 2.22255C12.3054 2.09076 12.0642 2.09076 11.8891 2.22255L9.7752 3.81343C9.69719 3.87214 9.60348 3.9063 9.50599 3.91156L4.46527 4.18362C4.20435 4.1977 4 4.41338 4 4.67467V18.1467C4 18.3451 4.11922 18.5241 4.30231 18.6005L6.81723 19.6505C7.00032 19.7269 7.11954 19.9059 7.11954 20.1043V21.4649C7.11954 21.7751 7.40313 22.0078 7.7073 21.9472L12.0888 21.0752C12.1521 21.0626 12.2174 21.0626 12.2808 21.0752L16.6622 21.9472C16.9664 22.0078 17.25 21.7751 17.25 21.4649V20.0343C17.25 19.8337 17.3719 19.6531 17.5581 19.5782L19.9926 18.5977C20.1779 18.5231 20.2996 18.3437 20.3006 18.144L20.3672 4.67698C20.3685 4.41475 20.1638 4.19763 19.902 4.18349L14.8635 3.91156C14.7661 3.9063 14.6723 3.87214 14.5943 3.81343Z" fill="#D9D9D9" stroke="#4C4C4C" stroke-width="1.5"/>
    <path d="M4.31659 4.45888L7.80586 5.59692C7.95387 5.6452 8.02032 5.81713 7.94326 5.95241L7.16315 7.32168C7.0595 7.50361 7.21615 7.72357 7.42197 7.68509L12.1397 6.80324C12.1696 6.79765 12.2002 6.79766 12.2301 6.80326L16.9367 7.68544C17.142 7.72391 17.2987 7.50515 17.1963 7.32316L16.4244 5.95179C16.3483 5.81657 16.4149 5.64553 16.5624 5.59742L20.0532 4.45888" stroke="#4C4C4C" stroke-width="1.5"/>
    <path d="M17.2337 7.43983V20.0575M7.13055 7.43813L7.13056 20.0639M12.1007 6.73955V21.0309" stroke="#4C4C4C" stroke-width="1.5"/>
    </svg>
    `,"addbar/option/object/model":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path d="M6.375 2H19.2V21H6.375C5.74511 21 5.14102 20.7498 4.69562 20.3044C4.25022 19.859 4 19.2549 4 18.625V4.375C4 3.74511 4.25022 3.14102 4.69562 2.69562C5.14102 2.25022 5.74511 2 6.375 2Z" fill="#D9D9D9" stroke="#4C4C4C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M4 18.625C4 17.9951 4.25022 17.391 4.69562 16.9456C5.14102 16.5002 5.74511 16.25 6.375 16.25H19.2" stroke="#4C4C4C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,"addbar/option/object/group":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path d="M22 19C22 19.5304 21.7893 20.0391 21.4142 20.4142C21.0391 20.7893 20.5304 21 20 21H4C3.46957 21 2.96086 20.7893 2.58579 20.4142C2.21071 20.0391 2 19.5304 2 19V5C2 4.46957 2.21071 3.96086 2.58579 3.58579C2.96086 3.21071 3.46957 3 4 3H9L11 6H20C20.5304 6 21.0391 6.21071 21.4142 6.58579C21.7893 6.96086 22 7.46957 22 8V19Z" fill="#D9D9D9" stroke="#4C4C4C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,"addbar/option/media":`<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
    <circle cx="24" cy="24" r="24" fill="url(#paint0_linear_1322_15380)"/>
    <path d="M20 25.3487V16.2059C20 14.9487 21.0286 13.9201 22.2857 13.9201H32.5714C33.8286 13.9201 34.8571 14.9487 34.8571 16.2059V23.063H30.9371L29.4743 21.0744C29.4601 21.0508 29.44 21.0312 29.4159 21.0176C29.3919 21.004 29.3648 20.9968 29.3371 20.9968C29.3095 20.9968 29.2824 21.004 29.2584 21.0176C29.2343 21.0312 29.2142 21.0508 29.2 21.0744L26.9257 24.2059C26.8571 24.2744 26.72 24.2859 26.6514 24.2059L25.0171 22.2059C25.0008 22.187 24.9807 22.1719 24.958 22.1615C24.9353 22.1511 24.9107 22.1457 24.8857 22.1457C24.8608 22.1457 24.8361 22.1511 24.8135 22.1615C24.7908 22.1719 24.7706 22.187 24.7543 22.2059L22.3429 25.2459C22.2514 25.3487 22.3314 25.5201 22.4686 25.5201H29.7143V27.6344H22.2857C21.0171 27.6344 20 26.6173 20 25.3487ZM16.5714 35.6344V34.4916H14.2857V35.6344H12V12.7773H14.2857V13.9201H16.5714V12.7773H19.3029C18.3314 13.623 17.7143 14.8344 17.7143 16.2059V25.3487C17.7143 27.8744 19.76 29.9201 22.2857 29.9201H27.6571C26.48 30.8687 25.7143 32.2973 25.7143 33.9201C25.7143 34.5259 25.84 35.0973 26.0343 35.6344H16.5714ZM14.2857 18.4916H16.5714V16.2059H14.2857V18.4916ZM14.2857 23.063H16.5714V20.7773H14.2857V23.063ZM14.2857 27.6344H16.5714V25.3487H14.2857V27.6344ZM16.5714 32.2059V29.9201H14.2857V32.2059H16.5714ZM36 25.3487V27.6344H33.7143V33.9201C33.7143 34.6779 33.4133 35.4046 32.8774 35.9404C32.3416 36.4763 31.6149 36.7773 30.8571 36.7773C30.0994 36.7773 29.3727 36.4763 28.8368 35.9404C28.301 35.4046 28 34.6779 28 33.9201C28.0002 33.4459 28.1186 32.9791 28.3443 32.562C28.57 32.1448 28.896 31.7904 29.2928 31.5308C29.6897 31.2711 30.145 31.1143 30.6176 31.0745C31.0902 31.0348 31.5653 31.1133 32 31.303V25.3487H36Z" fill="#F6902D"/>
    <defs>
    <linearGradient id="paint0_linear_1322_15380" x1="24" y1="0.777283" x2="24" y2="48.7773" gradientUnits="userSpaceOnUse">
    <stop stop-color="#EAEAEA"/>
    <stop offset="0.65625" stop-color="#F9F9F9"/>
    <stop offset="1" stop-color="white"/>
    </linearGradient>
    </defs>
    </svg>`,"addbar/option/media/open":`<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
    <ellipse cx="24" cy="24" rx="24" ry="24" fill="url(#paint0_linear_1340_32466)"/>
    <path d="M20 24.5714V15.4286C20 14.1714 21.0286 13.1429 22.2857 13.1429H32.5714C33.8286 13.1429 34.8571 14.1714 34.8571 15.4286V22.2857H30.9371L29.4743 20.2971C29.4601 20.2735 29.44 20.2539 29.4159 20.2403C29.3919 20.2267 29.3648 20.2196 29.3371 20.2196C29.3095 20.2196 29.2824 20.2267 29.2584 20.2403C29.2343 20.2539 29.2142 20.2735 29.2 20.2971L26.9257 23.4286C26.8571 23.4971 26.72 23.5086 26.6514 23.4286L25.0171 21.4286C25.0008 21.4097 24.9807 21.3946 24.958 21.3842C24.9353 21.3738 24.9107 21.3685 24.8857 21.3685C24.8608 21.3685 24.8361 21.3738 24.8135 21.3842C24.7908 21.3946 24.7706 21.4097 24.7543 21.4286L22.3429 24.4686C22.2514 24.5714 22.3314 24.7429 22.4686 24.7429H29.7143V26.8571H22.2857C21.0171 26.8571 20 25.84 20 24.5714ZM16.5714 34.8571V33.7143H14.2857V34.8571H12V12H14.2857V13.1429H16.5714V12H19.3029C18.3314 12.8457 17.7143 14.0571 17.7143 15.4286V24.5714C17.7143 27.0971 19.76 29.1429 22.2857 29.1429H27.6571C26.48 30.0914 25.7143 31.52 25.7143 33.1429C25.7143 33.7486 25.84 34.32 26.0343 34.8571H16.5714ZM14.2857 17.7143H16.5714V15.4286H14.2857V17.7143ZM14.2857 22.2857H16.5714V20H14.2857V22.2857ZM14.2857 26.8571H16.5714V24.5714H14.2857V26.8571ZM16.5714 31.4286V29.1429H14.2857V31.4286H16.5714ZM36 24.5714V26.8571H33.7143V33.1429C33.7143 33.9006 33.4133 34.6273 32.8774 35.1632C32.3416 35.699 31.6149 36 30.8571 36C30.0994 36 29.3727 35.699 28.8368 35.1632C28.301 34.6273 28 33.9006 28 33.1429C28.0002 32.6686 28.1186 32.2018 28.3443 31.7847C28.57 31.3675 28.896 31.0131 29.2928 30.7535C29.6897 30.4938 30.145 30.337 30.6176 30.2972C31.0902 30.2575 31.5653 30.336 32 30.5257V24.5714H36Z" fill="white"/>
    <defs>
    <linearGradient id="paint0_linear_1340_32466" x1="24" y1="0" x2="24" y2="47.1656" gradientUnits="userSpaceOnUse">
    <stop stop-color="#F47800"/>
    <stop offset="1" stop-color="#F6902D"/>
    </linearGradient>
    </defs>
    </svg>`,"addbar/option/object/presentation":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 47 47">
    <path fill="#4c4c4c" d="M42.89 39.86V7.41H4.74v16H1.89v-16c0-.8.28-1.48.83-2.03.55-.55 1.22-.82 2.02-.82h38.15c.77 0 1.43.28 2 .85.57.57.85 1.23.85 2v29.1c0 .83-.27 1.57-.83 2.2-.55.63-1.23 1.02-2.02 1.15ZM17.64 26.71c-2.17 0-3.93-.67-5.3-2.02-1.37-1.35-2.05-3.12-2.05-5.33s.68-3.94 2.02-5.32c1.35-1.38 3.12-2.07 5.32-2.07s3.94.69 5.33 2.07c1.38 1.38 2.08 3.16 2.08 5.32s-.69 3.93-2.08 5.3c-1.38 1.37-3.16 2.05-5.32 2.05ZM1.89 42.41v-4.55c0-1.23.31-2.29.92-3.17.61-.88 1.41-1.56 2.38-2.03 2.23-.97 4.36-1.7 6.37-2.2 2.02-.5 4.04-.75 6.07-.75 2.03 0 4.05.26 6.05.77 2 .52 4.1 1.26 6.3 2.23 1.03.43 1.87 1.09 2.5 1.97.63.88.95 1.94.95 3.17v4.55H1.89v.01Z"/>
  </svg>
  `,"addbar/option/setting":`<svg xmlns="http://www.w3.org/2000/svg" width="48" height="49" viewBox="0 0 48 49" fill="none">
    <circle cx="24" cy="24.9429" r="24" fill="url(#paint0_linear_1308_14740)"/>
    <path d="M22.7762 25.2488C22.7762 25.9701 23.3609 26.5547 24.0822 26.5547C24.8034 26.5547 25.3881 25.9701 25.3881 25.2488C25.3881 24.5276 24.8034 23.9429 24.0822 23.9429C23.3609 23.9429 22.7762 24.5276 22.7762 25.2488Z" fill="#2CC5CE" stroke="#2CC5CE" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M33.3881 25.2488C33.3881 25.9701 33.9728 26.5547 34.6941 26.5547C35.4153 26.5547 36 25.9701 36 25.2488C36 24.5276 35.4153 23.9429 34.6941 23.9429C33.9728 23.9429 33.3881 24.5276 33.3881 25.2488Z" fill="#2CC5CE" stroke="#2CC5CE" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M12.1644 25.2488C12.1644 25.9701 12.7491 26.5547 13.4703 26.5547C14.1916 26.5547 14.7762 25.9701 14.7762 25.2488C14.7762 24.5276 14.1916 23.9429 13.4703 23.9429C12.7491 23.9429 12.1644 24.5276 12.1644 25.2488Z" fill="#2CC5CE" stroke="#2CC5CE" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
    <defs>
    <linearGradient id="paint0_linear_1308_14740" x1="24" y1="0.942871" x2="24" y2="48.9429" gradientUnits="userSpaceOnUse">
    <stop stop-color="#EAEAEA"/>
    <stop offset="0.65625" stop-color="#F9F9F9"/>
    <stop offset="1" stop-color="white"/>
    </linearGradient>
    </defs>
    </svg>
    `,"addbar/option/setting/open":`<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
    <circle cx="24" cy="24" r="24" fill="url(#paint0_linear_1308_14746)"/>
    <path d="M22.7762 24.4715C22.7762 25.1927 23.3609 25.7774 24.0822 25.7774C24.8034 25.7774 25.3881 25.1927 25.3881 24.4715C25.3881 23.7502 24.8034 23.1655 24.0822 23.1655C23.3609 23.1655 22.7762 23.7502 22.7762 24.4715Z" fill="white" stroke="white" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M33.3881 24.4715C33.3881 25.1927 33.9728 25.7774 34.6941 25.7774C35.4153 25.7774 36 25.1927 36 24.4715C36 23.7502 35.4153 23.1655 34.6941 23.1655C33.9728 23.1655 33.3881 23.7502 33.3881 24.4715Z" fill="white" stroke="white" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M12.1644 24.4715C12.1644 25.1927 12.7491 25.7774 13.4703 25.7774C14.1916 25.7774 14.7762 25.1927 14.7762 24.4715C14.7762 23.7502 14.1916 23.1655 13.4703 23.1655C12.7491 23.1655 12.1644 23.7502 12.1644 24.4715Z" fill="white" stroke="white" stroke-width="2.4" stroke-linecap="round" stroke-linejoin="round"/>
    <defs>
    <linearGradient id="paint0_linear_1308_14746" x1="24" y1="0.165527" x2="24" y2="48.1655" gradientUnits="userSpaceOnUse">
    <stop stop-color="#05B3BD"/>
    <stop offset="1" stop-color="#2CC5CE"/>
    </linearGradient>
    </defs>
    </svg>
    `,"addbar/option/setting/setting":`<svg xmlns="http://www.w3.org/2000/svg" width="30" height="31" viewBox="0 0 30 31" fill="none">
    <path d="M27.5489 16.9655C27.3041 16.6918 27.1691 16.3399 27.1691 15.9756C27.1691 15.6113 27.3041 15.2594 27.5489 14.9857L29.5032 12.826C29.7185 12.59 29.8522 12.2931 29.8852 11.9779C29.9181 11.6626 29.8485 11.3452 29.6864 11.0713L26.6328 5.88196C26.4723 5.60828 26.228 5.39134 25.9346 5.26207C25.6413 5.1328 25.3139 5.0978 24.9991 5.16206L22.1287 5.73198C21.7635 5.80611 21.3832 5.74636 21.0598 5.564C20.7363 5.38164 20.492 5.08929 20.3729 4.74211L19.4415 1.99749C19.3391 1.6996 19.1439 1.44086 18.8837 1.25785C18.6234 1.07484 18.3111 0.976814 17.991 0.977626H11.8838C11.5509 0.960555 11.2214 1.05101 10.9457 1.23516C10.67 1.41932 10.4632 1.68706 10.357 1.99749L9.502 4.74211C9.38291 5.08929 9.13858 5.38164 8.81511 5.564C8.49164 5.74636 8.11141 5.80611 7.74618 5.73198L4.79944 5.16206C4.50103 5.12063 4.19681 5.16689 3.92511 5.295C3.65341 5.42311 3.42639 5.62734 3.27263 5.88196L0.219022 11.0713C0.0528443 11.3422 -0.0218745 11.6578 0.00554772 11.973C0.0329699 12.2881 0.161129 12.5867 0.371702 12.826L2.31075 14.9857C2.55552 15.2594 2.69052 15.6113 2.69052 15.9756C2.69052 16.3399 2.55552 16.6918 2.31075 16.9655L0.371702 19.1252C0.161129 19.3645 0.0329699 19.663 0.00554772 19.9782C-0.0218745 20.2934 0.0528443 20.609 0.219022 20.8799L3.27263 26.0692C3.4331 26.3429 3.67742 26.5598 3.97077 26.6891C4.26412 26.8184 4.59153 26.8534 4.90632 26.7891L7.77671 26.2192C8.14195 26.1451 8.52218 26.2048 8.84565 26.3872C9.16912 26.5695 9.41345 26.8619 9.53254 27.2091L10.4639 29.9537C10.5701 30.2641 10.7769 30.5319 11.0526 30.716C11.3283 30.9002 11.6578 30.9906 11.9907 30.9735H18.0979C18.418 30.9744 18.7303 30.8763 18.9905 30.6933C19.2508 30.5103 19.446 30.2516 19.5484 29.9537L20.4797 27.2091C20.5988 26.8619 20.8432 26.5695 21.1666 26.3872C21.4901 26.2048 21.8703 26.1451 22.2356 26.2192L25.106 26.7891C25.4208 26.8534 25.7482 26.8184 26.0415 26.6891C26.3349 26.5598 26.5792 26.3429 26.7396 26.0692L29.7933 20.8799C29.9554 20.6059 30.0249 20.2885 29.992 19.9733C29.9591 19.658 29.8254 19.3611 29.61 19.1252L27.5489 16.9655ZM25.2739 18.9752L26.4954 20.325L24.541 23.6545L22.7394 23.2946C21.6398 23.0738 20.4959 23.2573 19.5249 23.8102C18.5539 24.3632 17.8233 25.2471 17.4719 26.2942L16.8917 27.974H12.9831L12.4335 26.2642C12.0821 25.2171 11.3515 24.3332 10.3805 23.7802C9.40952 23.2273 8.26563 23.0438 7.16599 23.2646L5.36436 23.6245L3.37951 20.31L4.60096 18.9602C5.35207 18.1353 5.76733 17.0673 5.76733 15.9606C5.76733 14.8538 5.35207 13.7859 4.60096 12.961L3.37951 11.6112L5.33382 8.31163L7.13545 8.67158C8.23509 8.89238 9.37899 8.7089 10.35 8.15595C11.321 7.603 12.0515 6.71908 12.4029 5.67199L12.9831 3.97722H16.8917L17.4719 5.68698C17.8233 6.73408 18.5539 7.618 19.5249 8.17094C20.4959 8.72389 21.6398 8.90738 22.7394 8.68658L24.541 8.32663L26.4954 11.6562L25.2739 13.006C24.5312 13.829 24.1211 14.8908 24.1211 15.9906C24.1211 17.0904 24.5312 18.1522 25.2739 18.9752V18.9752ZM14.9374 9.9764C13.7295 9.9764 12.5488 10.3282 11.5444 10.9874C10.5401 11.6466 9.75733 12.5836 9.29509 13.6798C8.83285 14.776 8.71191 15.9822 8.94756 17.146C9.18321 18.3097 9.76486 19.3786 10.619 20.2176C11.4731 21.0567 12.5613 21.628 13.746 21.8595C14.9307 22.091 16.1586 21.9722 17.2746 21.5181C18.3905 21.064 19.3443 20.2951 20.0154 19.3086C20.6865 18.322 21.0447 17.1621 21.0447 15.9756C21.0447 14.3845 20.4012 12.8586 19.2559 11.7335C18.1106 10.6085 16.5572 9.9764 14.9374 9.9764V9.9764ZM14.9374 18.9752C14.3335 18.9752 13.7431 18.7993 13.2409 18.4697C12.7388 18.1401 12.3474 17.6716 12.1163 17.1235C11.8851 16.5754 11.8247 15.9723 11.9425 15.3904C12.0603 14.8085 12.3511 14.2741 12.7782 13.8546C13.2053 13.4351 13.7494 13.1494 14.3417 13.0336C14.934 12.9179 15.548 12.9773 16.106 13.2043C16.664 13.4314 17.1409 13.8158 17.4764 14.3091C17.812 14.8024 17.991 15.3823 17.991 15.9756C17.991 16.7711 17.6693 17.5341 17.0967 18.0966C16.524 18.6591 15.7473 18.9752 14.9374 18.9752Z" fill="#646464"/>
    </svg>
    `,"addbar/option/setting/help":`<svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" viewBox="0 0 34 34" fill="none">
      <path d="M17 31.6445C25.2843 31.6445 32 24.9288 32 16.6445C32 8.36026 25.2843 1.64453 17 1.64453C8.71573 1.64453 2 8.36026 2 16.6445C2 24.9288 8.71573 31.6445 17 31.6445Z" stroke="#646464" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M12.6328 12.1444C12.9855 11.1419 13.6815 10.2966 14.5977 9.75811C15.5139 9.21965 16.5912 9.02282 17.6386 9.20248C18.686 9.38214 19.636 9.9267 20.3204 10.7397C21.0048 11.5527 21.3794 12.5817 21.3778 13.6444C21.3778 16.6444 16.8778 18.1444 16.8778 18.1444" stroke="#646464" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M17 24.1445H17.015" stroke="#646464" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    `,"addbar/option/setting/update":`<svg xmlns="http://www.w3.org/2000/svg" width="30" height="31" viewBox="0 0 30 31" fill="none">
      <g clip-path="url(#clip0_631_4927)">
      <path d="M7.33333 28.2727H12.6667C12.6667 29.7727 11.4667 31 10 31C8.53333 31 7.33333 29.7727 7.33333 28.2727ZM4.66667 26.9091H15.3333V24.1818H4.66667V26.9091ZM20 13.9545C20 19.1636 16.4533 21.9455 14.9733 22.8182H5.02667C3.54667 21.9455 0 19.1636 0 13.9545C0 8.30909 4.48 3.72727 10 3.72727C15.52 3.72727 20 8.30909 20 13.9545ZM17.3333 13.9545C17.3333 9.82273 14.04 6.45455 10 6.45455C5.96 6.45455 2.66667 9.82273 2.66667 13.9545C2.66667 17.3227 4.65333 19.2591 5.8 20.0909H14.2C15.3467 19.2591 17.3333 17.3227 17.3333 13.9545V13.9545ZM26.4933 11.05L24.6667 11.9091L26.4933 12.7682L27.3333 14.6364L28.1733 12.7682L30 11.9091L28.1733 11.05L27.3333 9.18182L26.4933 11.05ZM23.3333 9.18182L24.5867 6.37273L27.3333 5.09091L24.5867 3.80909L23.3333 1L22.08 3.80909L19.3333 5.09091L22.08 6.37273L23.3333 9.18182Z" fill="#646464"/>
      </g>
      <defs>
      <clipPath id="clip0_631_4927">
      <rect width="30" height="30" fill="white" transform="translate(0 0.644531)"/>
      </clipPath>
      </defs>
      </svg>`,"addbar/option/library/temp":"","sidebar/animations":"Animations","sidebar/animations/play":"Play","sidebar/animations/stop":"Stop","sidebar/animations/timescale":"Time Scale","sidebar/scene":"Scene","sidebar/room":`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="19"
        fill="none"
        viewBox="0 0 20 19"
      >
        <path
          stroke="#000"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M1 6.95 10 1l9 5.95v9.35c0 .45-.21.883-.586 1.202A2.192 2.192 0 0 1 17 18H3c-.53 0-1.04-.18-1.414-.498C1.21 17.183 1 16.751 1 16.3V6.95Z"
        />
        <path
          stroke="#000"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M7 18V9.5h6V18"
        />
      </svg>`,"sidebar/scene/background":"Background","sidebar/scene/environment":"Environment","sidebar/scene/fog":"Fog","sidebar/properties/object":"Object","sidebar/properties/geometry":"Geometry","sidebar/properties/material":"Material","sidebar/properties/script":"Script","sidebar/object/type":"Type","sidebar/object/new":"New","sidebar/object/uuid":"UUID","sidebar/object/name":"Name","sidebar/object/position":"Position","sidebar/object/rotation":"Rotation","sidebar/object/rotation/reset":`<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="none" viewBox="0 0 15 15">
    <path stroke="#000" stroke-linecap="round" stroke-linejoin="round" d="M.625 2.5v3.75h3.75"/>
    <path stroke="#000" stroke-linecap="round" stroke-linejoin="round" d="M2.194 9.375a5.625 5.625 0 1 0 1.331-5.85L.625 6.25"/>
    <path fill="#000" d="M9.375 7.5a1.875 1.875 0 1 0-3.75 0 1.875 1.875 0 0 0 3.75 0Z"/>
  </svg>
  `,"sidebar/object/scale":"Scale","sidebar/object/fov":"Fov","sidebar/object/left":"Left","sidebar/object/right":"Right","sidebar/object/top":"Top","sidebar/object/bottom":"Bottom","sidebar/object/near":"Near","sidebar/object/far":"Far","sidebar/object/intensity":"Intensity","sidebar/object/color":"Color","sidebar/object/groundcolor":"Ground Color","sidebar/object/distance":"Distance","sidebar/object/angle":"Angle","sidebar/object/penumbra":"Penumbra","sidebar/object/decay":"Decay","sidebar/object/shadow":"Shadow","sidebar/object/shadowBias":"Shadow Bias","sidebar/object/shadowNormalBias":"Shadow Normal Bias","sidebar/object/shadowRadius":"Shadow Radius","sidebar/object/cast":"cast","sidebar/object/receive":"receive","sidebar/object/visible":"Visible","sidebar/object/frustumcull":"Frustum Cull","sidebar/object/renderorder":"Render Order","sidebar/object/userdata":"User data","sidebar/geometry/type":"Type","sidebar/geometry/new":"New","sidebar/geometry/uuid":"UUID","sidebar/geometry/name":"Name","sidebar/geometry/bounds":"Bounds","sidebar/geometry/show_vertex_normals":"Show Vertex Normals","sidebar/geometry/box_geometry/width":"Width","sidebar/geometry/box_geometry/height":"Height","sidebar/geometry/box_geometry/depth":"Depth","sidebar/geometry/box_geometry/widthseg":"Width Seg","sidebar/geometry/box_geometry/heightseg":"Height Seg","sidebar/geometry/box_geometry/depthseg":"Depth Seg","sidebar/geometry/buffer_geometry/attributes":"Attributes","sidebar/geometry/buffer_geometry/index":"index","sidebar/geometry/capsule_geometry/radius":"Radius","sidebar/geometry/capsule_geometry/length":"Length","sidebar/geometry/capsule_geometry/capseg":"Cap Seg","sidebar/geometry/capsule_geometry/radialseg":"Radial Seg","sidebar/geometry/circle_geometry/radius":"Radius","sidebar/geometry/circle_geometry/segments":"Segments","sidebar/geometry/circle_geometry/thetastart":"Theta start","sidebar/geometry/circle_geometry/thetalength":"Theta length","sidebar/geometry/cylinder_geometry/radiustop":"Radius top","sidebar/geometry/cylinder_geometry/radiusbottom":"Radius bottom","sidebar/geometry/cylinder_geometry/height":"Height","sidebar/geometry/cylinder_geometry/radialsegments":"Radial segments","sidebar/geometry/cylinder_geometry/heightsegments":"Height segments","sidebar/geometry/cylinder_geometry/openended":"Open ended","sidebar/geometry/extrude_geometry/curveSegments":"Curve Segments","sidebar/geometry/extrude_geometry/steps":"Steps","sidebar/geometry/extrude_geometry/depth":"Depth","sidebar/geometry/extrude_geometry/bevelEnabled":"Bevel?","sidebar/geometry/extrude_geometry/bevelThickness":"Thickness","sidebar/geometry/extrude_geometry/bevelSize":"Size","sidebar/geometry/extrude_geometry/bevelOffset":"Offset","sidebar/geometry/extrude_geometry/bevelSegments":"Segments","sidebar/geometry/extrude_geometry/shape":"Convert to Shape","sidebar/geometry/dodecahedron_geometry/radius":"Radius","sidebar/geometry/dodecahedron_geometry/detail":"Detail","sidebar/geometry/icosahedron_geometry/radius":"Radius","sidebar/geometry/icosahedron_geometry/detail":"Detail","sidebar/geometry/octahedron_geometry/radius":"Radius","sidebar/geometry/octahedron_geometry/detail":"Detail","sidebar/geometry/tetrahedron_geometry/radius":"Radius","sidebar/geometry/tetrahedron_geometry/detail":"Detail","sidebar/geometry/lathe_geometry/segments":"Segments","sidebar/geometry/lathe_geometry/phistart":"Phi start (\xB0)","sidebar/geometry/lathe_geometry/philength":"Phi length (\xB0)","sidebar/geometry/lathe_geometry/points":"Points","sidebar/geometry/plane_geometry/width":"Width","sidebar/geometry/plane_geometry/height":"Height","sidebar/geometry/plane_geometry/widthsegments":"Width segments","sidebar/geometry/plane_geometry/heightsegments":"Height segments","sidebar/geometry/ring_geometry/innerRadius":"Inner radius","sidebar/geometry/ring_geometry/outerRadius":"Outer radius","sidebar/geometry/ring_geometry/thetaSegments":"Theta segments","sidebar/geometry/ring_geometry/phiSegments":"Phi segments","sidebar/geometry/ring_geometry/thetastart":"Theta start","sidebar/geometry/ring_geometry/thetalength":"Theta length","sidebar/geometry/shape_geometry/curveSegments":"Curve Segments","sidebar/geometry/shape_geometry/extrude":"Extrude","sidebar/geometry/sphere_geometry/radius":"Radius","sidebar/geometry/sphere_geometry/widthsegments":"Width segments","sidebar/geometry/sphere_geometry/heightsegments":"Height segments","sidebar/geometry/sphere_geometry/phistart":"Phi start","sidebar/geometry/sphere_geometry/philength":"Phi length","sidebar/geometry/sphere_geometry/thetastart":"Theta start","sidebar/geometry/sphere_geometry/thetalength":"Theta length","sidebar/geometry/torus_geometry/radius":"Radius","sidebar/geometry/torus_geometry/tube":"Tube","sidebar/geometry/torus_geometry/radialsegments":"Radial segments","sidebar/geometry/torus_geometry/tubularsegments":"Tubular segments","sidebar/geometry/torus_geometry/arc":"Arc","sidebar/geometry/torusKnot_geometry/radius":"Radius","sidebar/geometry/torusKnot_geometry/tube":"Tube","sidebar/geometry/torusKnot_geometry/tubularsegments":"Tubular segments","sidebar/geometry/torusKnot_geometry/radialsegments":"Radial segments","sidebar/geometry/torusKnot_geometry/p":"P","sidebar/geometry/torusKnot_geometry/q":"Q","sidebar/geometry/tube_geometry/path":"Path","sidebar/geometry/tube_geometry/radius":"Radius","sidebar/geometry/tube_geometry/tube":"Tube","sidebar/geometry/tube_geometry/tubularsegments":"Tubular segments","sidebar/geometry/tube_geometry/radialsegments":"Radial segments","sidebar/geometry/tube_geometry/closed":"Closed","sidebar/geometry/tube_geometry/curvetype":"Curve Type","sidebar/geometry/tube_geometry/tension":"Tension","sidebar/material/new":"New","sidebar/material/copy":"Copy","sidebar/material/paste":"Paste","sidebar/material/slot":"Slot","sidebar/material/type":"Type","sidebar/material/uuid":"UUID","sidebar/material/name":"Name","sidebar/material/program":"Program","sidebar/material/info":"Info","sidebar/material/vertex":"Vert","sidebar/material/fragment":"Frag","sidebar/material/color":"Color","sidebar/material/depthPacking":"Depth Packing","sidebar/material/roughness":"Roughness","sidebar/material/metalness":"Metalness","sidebar/material/reflectivity":"Reflectivity","sidebar/material/emissive":"Emissive","sidebar/material/specular":"Specular","sidebar/material/shininess":"Shininess","sidebar/material/clearcoat":"Clearcoat","sidebar/material/clearcoatroughness":"Clearcoat Roughness","sidebar/material/transmission":"Transmission","sidebar/material/attenuationDistance":"Attenuation Distance","sidebar/material/attenuationColor":"Attenuation Color","sidebar/material/thickness":"Thickness","sidebar/material/vertexcolors":"Vertex Colors","sidebar/material/matcap":"Matcap","sidebar/material/map":"Map","sidebar/material/alphamap":"Alpha Map","sidebar/material/bumpmap":"Bump Map","sidebar/material/normalmap":"Normal Map","sidebar/material/clearcoatnormalmap":"Clearcoat Normal Map","sidebar/material/displacementmap":"Displace Map","sidebar/material/roughnessmap":"Rough. Map","sidebar/material/metalnessmap":"Metal. Map","sidebar/material/specularmap":"Specular Map","sidebar/material/envmap":"Env Map","sidebar/material/lightmap":"Light Map","sidebar/material/aomap":"AO Map","sidebar/material/emissivemap":"Emissive Map","sidebar/material/gradientmap":"Gradient Map","sidebar/material/side":"Side","sidebar/material/size":"Size","sidebar/material/sizeAttenuation":"Size Attenuation","sidebar/material/flatShading":"Flat Shading","sidebar/material/blending":"Blending","sidebar/material/opacity":"Opacity","sidebar/material/transparent":"Transparent","sidebar/material/alphatest":"Alpha Test","sidebar/material/depthtest":"Depth Test","sidebar/material/depthwrite":"Depth Write","sidebar/material/wireframe":"Wireframe","sidebar/material/userdata":"User data","sidebar/script":"Script","sidebar/script/new":"New","sidebar/script/edit":"Edit","sidebar/script/remove":"Remove","sidebar/project":"Project","sidebar/project/title":"Title","sidebar/project/editable":"Editable","sidebar/project/vr":"VR","sidebar/project/renderer":"Renderer","sidebar/project/antialias":"Antialias","sidebar/project/shadows":"Shadows","sidebar/project/physicallyCorrectLights":"Physical lights","sidebar/project/toneMapping":"Tone mapping","sidebar/project/materials":"Materials","sidebar/project/Assign":"Assign","sidebar/project/video":"Video","sidebar/project/resolution":"Resolution","sidebar/project/duration":"Duration","sidebar/project/render":"Render","sidebar/others":`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="none"
        viewBox="0 0 24 24"
      >
        <path
          stroke="#000"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"
        />
      </svg>`,"sidebar/outliner/fold":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path d="M9.5 17L14.5 12L9.5 7" stroke="#4C4C4C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`,"sidebar/outliner/unfold":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path d="M7 9.5L12 14.5L17 9.5" stroke="#4C4C4C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`,"sidebar/outliner/lock":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path d="M14.3333 11H2.66667C1.74619 11 1 11.8954 1 13V20C1 21.1046 1.74619 22 2.66667 22H14.3333C15.2538 22 16 21.1046 16 20V13C16 11.8954 15.2538 11 14.3333 11Z" fill="#D9D9D9" stroke="#4C4C4C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M4 11V7C4 5.67392 4.47411 4.40215 5.31802 3.46447C6.16193 2.52678 7.30653 2 8.5 2C9.69347 2 10.8381 2.52678 11.682 3.46447C12.5259 4.40215 13 5.67392 13 7V11" stroke="#4C4C4C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`,"sidebar/outliner/unlock":`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path d="M14.3333 11H2.66667C1.74619 11 1 11.8954 1 13V20C1 21.1046 1.74619 22 2.66667 22H14.3333C15.2538 22 16 21.1046 16 20V13C16 11.8954 15.2538 11 14.3333 11Z" fill="#D9D9D9" stroke="#4C4C4C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M22 11V7C22 5.67392 21.5259 4.40215 20.682 3.46447C19.8381 2.52678 18.6935 2 17.5 2C16.3065 2 15.1619 2.52678 14.318 3.46447C13.4741 4.40215 13 5.67392 13 7V11" stroke="#4C4C4C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`,"sidebar/outliner/group":`<svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
    <path d="M12.595 10V18" stroke="#4C4C4C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M8.59503 14H16.595" stroke="#4C4C4C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M22.595 19C22.595 19.5304 22.3843 20.0391 22.0092 20.4142C21.6342 20.7893 21.1255 21 20.595 21H4.59503C4.0646 21 3.55589 20.7893 3.18082 20.4142C2.80575 20.0391 2.59503 19.5304 2.59503 19V5C2.59503 4.46957 2.80575 3.96086 3.18082 3.58579C3.55589 3.21071 4.0646 3 4.59503 3H9.59503L11.595 6H20.595C21.1255 6 21.6342 6.21071 22.0092 6.58579C22.3843 6.96086 22.595 7.46957 22.595 8V19Z" stroke="#4C4C4C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`,"sidebar/outliner/ungroup":`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="23"
        height="21"
        fill="none"
        viewBox="0 0 23 21"
      >
        <path
          stroke="#000"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M21.164 17.2a2 2 0 0 1-2 2h-16a2 2 0 0 1-2-2v-14a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2v11Zm-13-5h6"
        />
      </svg>`,"sidebar/trigger/open":`<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" fill="none">
    <circle cx="12.5" cy="12.5001" r="12.5" transform="rotate(-90 12.5 12.5001)" fill="#F2F2F2"/>
    <path d="M14.3688 7.20929L9.08121 12.4969L14.3688 17.7845" stroke="#736E75" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`,"sidebar/trigger/close":`<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" fill="none">
    <circle cx="12.5" cy="12.5001" r="12.5" transform="rotate(-90 12.5 12.5001)" fill="#F2F2F2"/>
    <path d="M11.0812 17.7845L16.3688 12.4969L11.0812 7.20929" stroke="#736E75" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`,"sidebar/settings/language":"Language","sidebar/settings/shortcuts":"Shortcuts","sidebar/settings/shortcuts/translate":"Translate","sidebar/settings/shortcuts/rotate":"Rotate","sidebar/settings/shortcuts/scale":"Scale","sidebar/settings/shortcuts/undo":"Undo","sidebar/settings/shortcuts/focus":"Focus","sidebar/settings/viewport":"Viewport","sidebar/settings/viewport/grid":"Grid","sidebar/settings/viewport/helpers":"Helpers","sidebar/history":`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="19"
        height="21"
        fill="none"
        viewBox="0 0 19 21"
      >
        <g clip-path="url(#a)">
          <path
            fill="#000"
            d="M1 0a1 1 0 0 0-1 1v19a1 1 0 0 0 1 1h6.141a1 1 0 0 0 1-1V8.828c0-.026-.02-.052-.046-.052-.957-.135-1.757-.106-2.212.065a.8.8 0 0 0-.13.066 3.257 3.257 0 0 1-1.682.47C2.19 9.377.655 7.775.655 5.812c0-1.964 1.535-3.565 3.416-3.565 1.357 0 2.531.83 3.083 2.021.01.015.028.035.066.054.093.054.252.132.468.22a.33.33 0 0 0 .453-.308V1a1 1 0 0 0-1-1H1Zm3.07 3.126c-1.422 0-2.573 1.201-2.573 2.686 0 1.484 1.151 2.686 2.574 2.686.5 0 .959-.147 1.352-.4l.028-.02.028-.015c.716-.322 1.652-.313 2.728-.161 1.08.156 2.302.469 3.537.86 2.466.786 4.979 1.875 6.42 2.612.421.22.57.156.664.073.094-.083.192-.332.169-.693-.052-.718-.562-1.695-1.512-2.002-3.663-1.197-6.32-2.052-8.094-2.657a35.686 35.686 0 0 1-2.017-.738 4.33 4.33 0 0 1-.561-.268c-.15-.083-.281-.117-.393-.381-.407-.933-1.301-1.582-2.35-1.582Zm0 8.937c.828 0 1.498.7 1.498 1.563 0 .275-.071.542-.2.776-.17.307-.323.647-.267.993l.282 1.76a1 1 0 0 1-.988 1.159h-.649a1 1 0 0 1-.987-1.158l.282-1.76c.055-.347-.098-.687-.267-.995-.13-.233-.2-.5-.2-.775 0-.863.67-1.563 1.497-1.563Z"
          />
        </g>
        <defs>
          <clipPath id="a">
            <path fill="#fff" d="M0 0h19v21H0z" />
          </clipPath>
        </defs>
      </svg>`,"sidebar/history/persistent":"persistent","toolbar/translate":"Translate","toolbar/rotate":"Rotate","toolbar/scale":"Scale","toolbar/local":"Local","viewport/info/objects":"Objects","viewport/info/vertices":"Vertices","viewport/info/triangles":"Triangles","viewport/info/frametime":"Frametime"};return{getKey:function(r){return document.createRange().createContextualFragment(t[r]).firstChild||"???"}}}class Vs{constructor(t){this.dom=t}add(){for(let t=0;t<arguments.length;t++){const r=arguments[t];r instanceof Vs?this.dom.appendChild(r.dom):console.error("UIElement:",r,"is not an instance of UIElement.")}return this}remove(){for(let t=0;t<arguments.length;t++){const r=arguments[t];r instanceof Vs?this.dom.removeChild(r.dom):console.error("UIElement:",r,"is not an instance of UIElement.")}return this}clear(){for(;this.dom.children.length;)this.dom.removeChild(this.dom.lastChild)}setId(t){return this.dom.id=t,this}getId(){return this.dom.id}setClass(t){return this.dom.className=t,this}getClass(){return this.dom.className}addClass(t){return this.dom.classList.add(t),this}removeClass(t){return this.dom.classList.remove(t),this}setStyle(t,r){for(let n=0;n<r.length;n++)this.dom.style[t]=r[n];return this}setDisabled(t){return this.dom.disabled=t,this}setTextContent(t){return this.dom.textContent=t,this}setInnerHTML(t){this.dom.innerHTML=t}getIndexOfChild(t){return Array.prototype.indexOf.call(this.dom.children,t.dom)}}const _q=["position","left","top","right","bottom","width","height","display","verticalAlign","overflow","color","background","backgroundColor","opacity","border","borderRadius","borderLeft","borderTop","borderRight","borderBottom","borderColor","margin","marginLeft","marginTop","marginRight","marginBottom","padding","paddingLeft","paddingTop","paddingRight","paddingBottom","fontSize","fontWeight","textAlign","textDecoration","textTransform","cursor","zIndex"];_q.forEach(function(a){const t="set"+a.substr(0,1).toUpperCase()+a.substr(1,a.length);Vs.prototype[t]=function(){return this.setStyle(a,arguments),this}});const kq=["KeyUp","KeyDown","MouseOver","MouseOut","Click","DblClick","Change","Input"];kq.forEach(function(a){const t="on"+a;Vs.prototype[t]=function(r){return this.dom.addEventListener(a.toLowerCase(),r.bind(this)),this}});class ac extends Vs{constructor(){super(document.createElement("span"))}}class Xo extends Vs{constructor(){super(document.createElement("div"))}}class Lr extends Xo{constructor(){super(),this.dom.className="Row"}}class on extends Xo{constructor(){super(),this.dom.className="Panel"}}class si extends ac{constructor(t){super(),this.dom.className="Text",this.dom.style.cursor="default",this.dom.style.display="inline-block",this.setValue(t)}getValue(){return this.dom.textContent}setValue(t){return t!==void 0&&(this.dom.textContent=t),this}}class Eu extends Vs{constructor(t){super(document.createElement("input")),this.dom.className="Input",this.dom.style.padding="2px",this.dom.style.border="1px solid transparent",this.dom.setAttribute("autocomplete","off"),this.dom.addEventListener("keydown",function(r){r.stopPropagation()}),this.setValue(t)}getValue(){return this.dom.value}setValue(t){return this.dom.value=t,this}}class q8 extends Vs{constructor(){super(document.createElement("textarea")),this.dom.className="TextArea",this.dom.style.padding="2px",this.dom.spellcheck=!1,this.dom.setAttribute("autocomplete","off"),this.dom.addEventListener("keydown",function(t){if(t.stopPropagation(),t.keyCode===9){t.preventDefault();const r=this.selectionStart;this.value=this.value.substring(0,r)+"	"+this.value.substring(r),this.selectionStart=r+1,this.selectionEnd=this.selectionStart}})}getValue(){return this.dom.value}setValue(t){return this.dom.value=t,this}}class El extends Vs{constructor(){super(document.createElement("select")),this.dom.className="Select",this.dom.style.padding="2px",this.dom.setAttribute("autocomplete","off")}setMultiple(t){return this.dom.multiple=t,this}setOptions(t){const r=this.dom.value;for(;this.dom.children.length>0;)this.dom.removeChild(this.dom.firstChild);for(const n in t){const c=document.createElement("option");c.value=n,c.innerHTML=t[n],this.dom.appendChild(c)}return this.dom.value=r,this}getValue(){return this.dom.value}setValue(t){return t=String(t),this.dom.value!==t&&(this.dom.value=t),this}}class Ih extends Vs{constructor(t){super(document.createElement("input")),this.dom.className="Checkbox",this.dom.type="checkbox",this.setValue(t)}getValue(){return this.dom.checked}setValue(t){return t!==void 0&&(this.dom.checked=t),this}}class l1 extends Vs{constructor(){super(document.createElement("input")),this.dom.className="Color",this.dom.style.width="32px",this.dom.style.height="18px",this.dom.style.border="1px solid #888",this.dom.style.padding="0px",this.dom.style.backgroundColor="transparent",this.dom.style.borderRadius="5px",this.dom.setAttribute("autocomplete","off");try{this.dom.type="color",this.dom.value="#ffffff"}catch(t){console.log(t)}}getValue(){return this.dom.value}getHexValue(){return parseInt(this.dom.value.substr(1),16)}setValue(t){return this.dom.value=t,this}setHexValue(t){return t&&(this.dom.value="#"+("000000"+t.toString(16)).slice(-6)),this}}class w0 extends Vs{constructor(t){super(document.createElement("input")),this.dom.style.cursor="ns-resize",this.dom.className="Number",this.dom.value="0.00",this.dom.setAttribute("autocomplete","off"),this.value=0,this.min=-1/0,this.max=1/0,this.precision=2,this.step=1,this.snap=1,this.unit="",this.nudge=.01,this.setValue(t);const r=this,n=document.createEvent("HTMLEvents");n.initEvent("change",!0,!0);let c=0,p=0;const y={x:0,y:0},v={x:0,y:0};function E(K){K.preventDefault(),c=0,p=r.value,v.x=K.clientX,v.y=K.clientY,document.addEventListener("mousemove",_),document.addEventListener("mouseup",k)}function _(K){const fe=r.value;y.x=K.clientX,y.y=K.clientY,c+=y.x-v.x-(y.y-v.y);let oe=p+c/(K.shiftKey?5:50)*r.step;oe=Math.min(r.max,Math.max(r.min,oe)),fe!==oe&&(r.setValue(oe),r.dom.dispatchEvent(n)),v.x=K.clientX,v.y=K.clientY}function k(){document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",k),Math.abs(c)<2&&(r.dom.focus(),r.dom.select())}function R(K){K.touches.length===1&&(c=0,p=r.value,v.x=K.touches[0].pageX,v.y=K.touches[0].pageY,document.addEventListener("touchmove",B),document.addEventListener("touchend",M))}function B(K){const fe=r.value;y.x=K.touches[0].pageX,y.y=K.touches[0].pageY,c+=y.x-v.x-(y.y-v.y);let oe=p+c/(K.shiftKey?5:50)*r.step;oe=Math.min(r.max,Math.max(r.min,oe)),fe!==oe&&(r.setValue(oe),r.dom.dispatchEvent(n)),v.x=K.touches[0].pageX,v.y=K.touches[0].pageY}function M(K){K.touches.length===0&&(document.removeEventListener("touchmove",B),document.removeEventListener("touchend",M))}function F(){r.setValue(r.dom.value)}function H(){r.dom.style.backgroundColor="",r.dom.style.cursor=""}function U(){r.dom.style.backgroundColor="transparent",r.dom.style.cursor="ns-resize"}function Z(K){switch(K.stopPropagation(),K.keyCode){case 13:r.dom.blur();break;case 38:K.preventDefault(),r.setValue(r.getValue()+r.nudge),r.dom.dispatchEvent(n);break;case 40:K.preventDefault(),r.setValue(r.getValue()-r.nudge),r.dom.dispatchEvent(n);break}}U(),this.dom.addEventListener("keydown",Z),this.dom.addEventListener("mousedown",E),this.dom.addEventListener("touchstart",R),this.dom.addEventListener("change",F),this.dom.addEventListener("focus",H),this.dom.addEventListener("blur",U)}getValue(){return this.value}setValue(t){return t!==void 0&&(t=parseFloat(t),t<this.min&&(t=this.min),t>this.max&&(t=this.max),t=Math.round(t/this.snap)*this.snap,this.value=t,this.dom.value=t.toFixed(this.precision),this.unit!==""&&(this.dom.value+=" "+this.unit)),this}setPrecision(t){return this.precision=t,this}setStep(t){return this.step=t,this}setSnap(t){return this.snap=t,this}setNudge(t){return this.nudge=t,this}setRange(t,r){return this.min=t,this.max=r,this}setUnit(t){return this.unit=t,this}}class B0 extends Vs{constructor(t,r){super(document.createElement("span")),this.dom.insertBefore(Ys().getKey(t),super.firstChild),this.dom.style.cursor="pointer",this.dom.className="Icon",this.dom.setAttribute("autocomplete","off");function n(c){c.preventDefault(),r()}this.dom.addEventListener("mousedown",n)}getValue(){return this.value}setValue(t){return t!==void 0&&(t=parseFloat(t),t<this.min&&(t=this.min),t>this.max&&(t=this.max),t=Math.round(t/this.snap)*this.snap,this.value=t,this.dom.value=t.toFixed(this.precision),this.unit!==""&&(this.dom.value+=" "+this.unit)),this}setPrecision(t){return this.precision=t,this}setStep(t){return this.step=t,this}setSnap(t){return this.snap=t,this}setNudge(t){return this.nudge=t,this}setRange(t,r){return this.min=t,this.max=r,this}setUnit(t){return this.unit=t,this}}class ug extends Vs{constructor(t){super(document.createElement("input")),this.dom.style.cursor="ns-resize",this.dom.className="Number",this.dom.value="0",this.dom.setAttribute("autocomplete","off"),this.value=0,this.min=-1/0,this.max=1/0,this.step=1,this.nudge=1,this.setValue(t);const r=this,n=document.createEvent("HTMLEvents");n.initEvent("change",!0,!0);let c=0,p=0;const y={x:0,y:0},v={x:0,y:0};function E(H){H.preventDefault(),c=0,p=r.value,v.x=H.clientX,v.y=H.clientY,document.addEventListener("mousemove",_),document.addEventListener("mouseup",k)}function _(H){const U=r.value;y.x=H.clientX,y.y=H.clientY,c+=y.x-v.x-(y.y-v.y);let Z=p+c/(H.shiftKey?5:50)*r.step;Z=Math.min(r.max,Math.max(r.min,Z))|0,U!==Z&&(r.setValue(Z),r.dom.dispatchEvent(n)),v.x=H.clientX,v.y=H.clientY}function k(){document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",k),Math.abs(c)<2&&(r.dom.focus(),r.dom.select())}function R(){r.setValue(r.dom.value)}function B(){r.dom.style.backgroundColor="",r.dom.style.cursor=""}function M(){r.dom.style.backgroundColor="transparent",r.dom.style.cursor="ns-resize"}function F(H){switch(H.stopPropagation(),H.keyCode){case 13:r.dom.blur();break;case 38:H.preventDefault(),r.setValue(r.getValue()+r.nudge),r.dom.dispatchEvent(n);break;case 40:H.preventDefault(),r.setValue(r.getValue()-r.nudge),r.dom.dispatchEvent(n);break}}M(),this.dom.addEventListener("keydown",F),this.dom.addEventListener("mousedown",E),this.dom.addEventListener("change",R),this.dom.addEventListener("focus",B),this.dom.addEventListener("blur",M)}getValue(){return this.value}setValue(t){return t!==void 0&&(t=parseInt(t),this.value=t,this.dom.value=t),this}setStep(t){return this.step=parseInt(t),this}setNudge(t){return this.nudge=t,this}setRange(t,r){return this.min=t,this.max=r,this}}class LT extends Vs{constructor(){super(document.createElement("br")),this.dom.className="Break"}}class fw extends Vs{constructor(){super(document.createElement("hr")),this.dom.className="HorizontalRule"}}class Ba extends Vs{constructor(t){super(document.createElement("button")),this.dom.className="Button",this.dom.textContent=t}}class Cq extends Vs{constructor(t){super(document.createElement("progress")),this.dom.value=t,this.value=0;const r=this;this.setValue(t);const n=document.createEvent("HTMLEvents");n.initEvent("change",!0,!0);let c=0,p=0;const y={x:0,y:0},v={x:0,y:0};function E(K){console.log("onMouseDown",r.dom.value,K.clientX,K.clientY),K.preventDefault(),c=0,p=r.dom.value,v.x=K.clientX,document.addEventListener("mousemove",_),document.addEventListener("mouseup",k)}function _(K){const fe=r.dom.value;y.x=K.clientX,c+=y.x-v.x;let oe=p+c/(K.shiftKey?5:50);console.log("onMouseMove",K.clientX,c,oe),fe!==oe&&(r.setValue(oe),r.dom.dispatchEvent(n)),v.x=K.clientX}function k(){document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",k),Math.abs(c)<2&&(r.dom.focus(),r.dom.select())}function R(K){K.touches.length===1&&(c=0,p=r.dom.value,v.x=K.touches[0].pageX,document.addEventListener("touchmove",B),document.addEventListener("touchend",M))}function B(K){const fe=r.dom.value;y.x=K.touches[0].pageX,c+=y.x-v.x,console.log("onMouseMove",K.clientX,c,t),fe!==t&&(r.setValue(t),r.dom.dispatchEvent(n)),v.x=K.touches[0].pageX}function M(K){K.touches.length===0&&(document.removeEventListener("touchmove",B),document.removeEventListener("touchend",M))}function F(){r.setValue(r.dom.value)}function H(){r.dom.style.backgroundColor="",r.dom.style.cursor=""}function U(){r.dom.style.backgroundColor="transparent",r.dom.style.cursor="ew-resize"}function Z(K){switch(K.stopPropagation(),K.keyCode){case 13:r.dom.blur();break;case 38:K.preventDefault(),r.setValue(r.getValue()+r.nudge),r.dom.dispatchEvent(n);break;case 40:K.preventDefault(),r.setValue(r.getValue()-r.nudge),r.dom.dispatchEvent(n);break}}U(),this.dom.addEventListener("keydown",Z),this.dom.addEventListener("mousedown",E),this.dom.addEventListener("touchstart",R),this.dom.addEventListener("change",F),this.dom.addEventListener("focus",H),this.dom.addEventListener("blur",U)}getValue(){return this.dom.value}setValue(t){this.dom.value=t}}class Sq extends Vs{constructor(t){super(document.createElement("input")),this.dom.min=0,this.dom.max=100,this.dom.step=1,this.dom.type="range",this.dom.value=t,this.value=0,this.setValue(t);function r(n){console.log("onInput",n.target.valueAsNumber)}this.dom.addEventListener("input",r)}getValue(){return this.dom.value}setValue(t){this.dom.value=t}}class wE extends Xo{constructor(){super(),this.dom.className="TabbedPanel",this.tabs=[],this.panels=[],this.tabsDiv=new Xo,this.tabsDiv.setClass("Tabs"),this.panelsDiv=new Xo,this.panelsDiv.setClass("Panels"),this.add(this.tabsDiv),this.add(this.panelsDiv),this.selected=""}select(t){let r,n;const c=this;return this.selected&&this.selected.length&&(r=this.tabs.find(function(p){return p.dom.id===c.selected}),n=this.panels.find(function(p){return p.dom.id===c.selected}),r&&r.removeClass("selected"),n&&n.setDisplay("none")),r=this.tabs.find(function(p){return p.dom.id===t}),n=this.panels.find(function(p){return p.dom.id===t}),r&&r.addClass("selected"),n&&n.setDisplay(""),this.selected=t,this}addTab(t,r,n){const c=new Mq(r,this);c.setId(t),this.tabs.push(c),this.tabsDiv.add(c);const p=new Xo;p.setId(t),p.add(n),p.setDisplay("none"),this.panels.push(p),this.panelsDiv.add(p),this.select(t)}}class Tq extends Xo{constructor(t){super(),this.dom.className="Popup",this.headerText=new si,this.headerText.setValue("Published!"),this.header=new Xo,this.header.setClass("Header"),this.header.add(this.headerText),this.add(this.header),this.contentText=new si,this.contentText.setValue("This room ID is "+window.assignmentSceneName),this.content=new Xo,this.content.setClass("Content"),this.content.add(this.contentText),this.add(this.content),this.setDisplay("none");const r=this;t.signals.publishClicked.add(function(n,c){r.publish_dummy(n,c)})}show(){const t=setTimeout(()=>{this.setDisplay(""),clearTimeout(t),this.hide()},2e3)}hide(){const t=setTimeout(()=>{this.setDisplay("none"),clearTimeout(t)},4e3)}publish_dummy(t,r){this.setDisplay(""),this.headerText.setValue(t),this.contentText.setValue(r);const n=setTimeout(()=>{clearTimeout(n),this.headerText.setValue("Your room is being uploaded to the server!"),this.contentText.setValue("Please wait with patience."),this.hide()},500)}}class Mq extends si{constructor(t,r){super(t),this.dom.className="Tab",this.parent=r;const n=this;this.dom.addEventListener("click",function(){n.parent.select(n.dom.id)})}}function uw(a,t){this.enabled=!0,this.center=new wt,this.panSpeed=.002,this.zoomSpeed=.1,this.rotationSpeed=.005;var r=this,n=new wt,c=new wt,p=new na,y={NONE:-1,ROTATE:0,ZOOM:1,PAN:2},v=y.NONE,E=this.center,_=new Zs,k=new $r,R=new $r,B=new vR,M=new Mu,F={type:"change"};this.focus=function(xe){var le;p.setFromObject(xe),p.isEmpty()===!1?(p.getCenter(E),le=p.getBoundingSphere(M).radius):(E.setFromMatrixPosition(xe.matrixWorld),le=.1),c.set(0,0,1),c.applyQuaternion(a.quaternion),c.multiplyScalar(le*4),a.position.copy(E).add(c),r.dispatchEvent(F)},this.pan=function(xe){var le=a.position.distanceTo(E);xe.multiplyScalar(le*r.panSpeed),xe.applyMatrix3(_.getNormalMatrix(a.matrix)),a.position.add(xe),E.add(xe),r.dispatchEvent(F)},this.zoom=function(xe){var le=a.position.distanceTo(E);xe.multiplyScalar(le*r.zoomSpeed),!(xe.length()>le)&&(xe.applyMatrix3(_.getNormalMatrix(a.matrix)),a.position.add(xe),r.dispatchEvent(F))},this.rotate=function(xe){n.copy(a.position).sub(E),B.setFromVector3(n),B.theta+=xe.x*r.rotationSpeed,B.phi+=xe.y*r.rotationSpeed,B.makeSafe(),n.setFromSpherical(B),a.position.copy(E).add(n),a.lookAt(E),r.dispatchEvent(F)};function H(xe){if(r.enabled!==!1){switch(xe.pointerType){case"mouse":case"pen":K(xe);break}t.ownerDocument.addEventListener("pointermove",U),t.ownerDocument.addEventListener("pointerup",Z)}}function U(xe){if(r.enabled!==!1)switch(xe.pointerType){case"mouse":case"pen":fe(xe);break}}function Z(xe){switch(xe.pointerType){case"mouse":case"pen":oe();break}t.ownerDocument.removeEventListener("pointermove",U),t.ownerDocument.removeEventListener("pointerup",Z)}function K(xe){xe.button===0?v=y.ROTATE:xe.button===1?v=y.ZOOM:xe.button===2&&(v=y.PAN),R.set(xe.clientX,xe.clientY)}function fe(xe){k.set(xe.clientX,xe.clientY);var le=k.x-R.x,re=k.y-R.y;v===y.ROTATE?r.rotate(c.set(-le,-re,0)):v===y.ZOOM?r.zoom(c.set(0,0,re)):v===y.PAN&&r.pan(c.set(-le,re,0)),R.set(xe.clientX,xe.clientY)}function oe(){v=y.NONE}function we(xe){r.enabled!==!1&&(xe.preventDefault(),r.zoom(c.set(0,0,xe.deltaY>0?1:-1)))}function be(xe){xe.preventDefault()}this.dispose=function(){t.removeEventListener("contextmenu",be),t.removeEventListener("dblclick",oe),t.removeEventListener("wheel",we),t.removeEventListener("pointerdown",H),t.removeEventListener("touchstart",ye),t.removeEventListener("touchmove",de)},t.addEventListener("contextmenu",be),t.addEventListener("dblclick",oe),t.addEventListener("wheel",we),t.addEventListener("pointerdown",H);var ve=[new wt,new wt,new wt],ne=[new wt,new wt,new wt],ae=null;function ye(xe){if(r.enabled!==!1){switch(xe.touches.length){case 1:ve[0].set(xe.touches[0].pageX,xe.touches[0].pageY,0).divideScalar(window.devicePixelRatio),ve[1].set(xe.touches[0].pageX,xe.touches[0].pageY,0).divideScalar(window.devicePixelRatio);break;case 2:ve[0].set(xe.touches[0].pageX,xe.touches[0].pageY,0).divideScalar(window.devicePixelRatio),ve[1].set(xe.touches[1].pageX,xe.touches[1].pageY,0).divideScalar(window.devicePixelRatio),ae=ve[0].distanceTo(ve[1]);break}ne[0].copy(ve[0]),ne[1].copy(ve[1])}}function de(xe){if(r.enabled===!1)return;xe.preventDefault(),xe.stopPropagation();function le(Re,Ie){var Ne=Ie[0];for(var Qe in Ie)Ne.distanceTo(Re)>Ie[Qe].distanceTo(Re)&&(Ne=Ie[Qe]);return Ne}switch(xe.touches.length){case 1:ve[0].set(xe.touches[0].pageX,xe.touches[0].pageY,0).divideScalar(window.devicePixelRatio),ve[1].set(xe.touches[0].pageX,xe.touches[0].pageY,0).divideScalar(window.devicePixelRatio),r.rotate(ve[0].sub(le(ve[0],ne)).multiplyScalar(-1));break;case 2:ve[0].set(xe.touches[0].pageX,xe.touches[0].pageY,0).divideScalar(window.devicePixelRatio),ve[1].set(xe.touches[1].pageX,xe.touches[1].pageY,0).divideScalar(window.devicePixelRatio);var re=ve[0].distanceTo(ve[1]);r.zoom(c.set(0,0,ae-re)),ae=re;var he=ve[0].clone().sub(le(ve[0],ne)),me=ve[1].clone().sub(le(ve[1],ne));he.x=-he.x,me.x=-me.x,r.pan(he.add(me));break}ne[0].copy(ve[0]),ne[1].copy(ve[1])}t.addEventListener("touchstart",ye),t.addEventListener("touchmove",de)}uw.prototype=Object.create(dc.prototype);uw.prototype.constructor=uw;function Rq(a){const t=a.signals;a.strings;const r=new on;r.setId("info"),r.setPosition("absolute"),r.setLeft("10px"),r.setBottom("10px"),r.setFontSize("12px"),r.setColor("#fff");const n=new si("0").setMarginLeft("6px"),c=new si("0").setMarginLeft("6px"),p=new si("0").setMarginLeft("6px"),y=new si("0").setMarginLeft("6px");t.objectAdded.add(v),t.objectRemoved.add(v),t.geometryChanged.add(v);function v(){const _=a.scene;let k=0,R=0,B=0;for(let M=0,F=_.children.length;M<F;M++)_.children[M].traverseVisible(function(U){if(k++,U.isMesh){const Z=U.geometry;R+=Z.attributes.position.count,Z.index!==null?B+=Z.index.count/3:B+=Z.attributes.position.count/3}});n.setValue(k.format()),c.setValue(R.format()),p.setValue(B.format())}t.sceneRendered.add(E);function E(_){y.setValue(Number(_).toFixed(2)+" ms")}return r}const Zm=new j0;class bD extends Rn{constructor(t,r){super(),this.animating=!1,this.controls=null;const n=new _i("#ff3653"),c=new _i("#8adb00"),p=new _i("#2c8fff"),y=[],v=new sb,E=new $r,_=new Rn,k=new Fh(-2,2,2,-2,0,4);k.position.set(0,0,2);const R=new fs(.8,.05,.05).translate(.4,0,0),B=new Kr(R,re(n)),M=new Kr(R,re(c)),F=new Kr(R,re(p));M.rotation.z=Math.PI/2,F.rotation.y=-Math.PI/2,this.add(B),this.add(F),this.add(M);const H=new Mf(he(n,"X"));H.userData.type="posX";const U=new Mf(he(c,"Y"));U.userData.type="posY";const Z=new Mf(he(p,"Z"));Z.userData.type="posZ";const K=new Mf(he(n));K.userData.type="negX";const fe=new Mf(he(c));fe.userData.type="negY";const oe=new Mf(he(p));oe.userData.type="negZ",H.position.x=1,U.position.y=1,Z.position.z=1,K.position.x=-1,K.scale.setScalar(.8),fe.position.y=-1,fe.scale.setScalar(.8),oe.position.z=-1,oe.scale.setScalar(.8),this.add(H),this.add(U),this.add(Z),this.add(K),this.add(fe),this.add(oe),y.push(H),y.push(U),y.push(Z),y.push(K),y.push(fe),y.push(oe);const we=new wt,be=128,ve=2*Math.PI;this.render=function(me){this.quaternion.copy(t.quaternion).invert(),this.updateMatrixWorld(),we.set(0,0,1),we.applyQuaternion(t.quaternion),we.x>=0?(H.material.opacity=1,K.material.opacity=.5):(H.material.opacity=.5,K.material.opacity=1),we.y>=0?(U.material.opacity=1,fe.material.opacity=.5):(U.material.opacity=.5,fe.material.opacity=1),we.z>=0?(Z.material.opacity=1,oe.material.opacity=.5):(Z.material.opacity=.5,oe.material.opacity=1);const Re=r.offsetWidth-be;me.clearDepth(),me.getViewport(Zm),me.setViewport(Re,0,be,be),me.render(this,k),me.setViewport(Zm.x,Zm.y,Zm.z,Zm.w)};const ne=new wt,ae=new L0,ye=new L0,de=new L0;let xe=0;this.handleClick=function(me){if(this.animating===!0)return!1;const Re=r.getBoundingClientRect(),Ie=Re.left+(r.offsetWidth-be),Ne=Re.top+(r.offsetHeight-be);E.x=(me.clientX-Ie)/(Re.width-Ie)*2-1,E.y=-((me.clientY-Ne)/(Re.bottom-Ne))*2+1,v.setFromCamera(E,k);const Qe=v.intersectObjects(y);if(Qe.length>0){const ce=Qe[0].object;return le(ce,this.controls.center),this.animating=!0,!0}else return!1},this.update=function(me){const Re=me*ve,Ie=this.controls.center;ye.rotateTowards(de,Re),t.position.set(0,0,1).applyQuaternion(ye).multiplyScalar(xe).add(Ie),t.quaternion.rotateTowards(ae,Re),ye.angleTo(de)===0&&(this.animating=!1)};function le(me,Re){switch(me.userData.type){case"posX":ne.set(1,0,0),ae.setFromEuler(new lo(0,Math.PI*.5,0));break;case"posY":ne.set(0,1,0),ae.setFromEuler(new lo(-Math.PI*.5,0,0));break;case"posZ":ne.set(0,0,1),ae.setFromEuler(new lo);break;case"negX":ne.set(-1,0,0),ae.setFromEuler(new lo(0,-Math.PI*.5,0));break;case"negY":ne.set(0,-1,0),ae.setFromEuler(new lo(Math.PI*.5,0,0));break;case"negZ":ne.set(0,0,-1),ae.setFromEuler(new lo(0,Math.PI,0));break;default:console.error("ViewHelper: Invalid axis.")}xe=t.position.distanceTo(Re),ne.multiplyScalar(xe).add(Re),_.position.copy(Re),_.lookAt(t.position),ye.copy(_.quaternion),_.lookAt(ne),de.copy(_.quaternion)}function re(me){return new Us({color:me,toneMapped:!1})}function he(me,Re=null){const Ie=document.createElement("canvas");Ie.width=64,Ie.height=64;const Ne=Ie.getContext("2d");Ne.beginPath(),Ne.arc(32,32,16,0,2*Math.PI),Ne.closePath(),Ne.fillStyle=me.getStyle(),Ne.fill(),Re!==null&&(Ne.font="24px Arial",Ne.textAlign="center",Ne.fillStyle="#000000",Ne.fillText(Re,32,41));const Qe=new $g(Ie);return new s2({map:Qe,toneMapped:!1})}}}bD.prototype.isViewHelper=!0;class Dq extends bD{constructor(t,r){super(t,r.dom);const n=new on;n.setId("viewHelper"),n.setPosition("absolute"),n.setRight("0px"),n.setBottom("0px"),n.setHeight("128px"),n.setWidth("128px"),n.dom.addEventListener("pointerup",c=>{c.stopPropagation(),this.handleClick(c)}),n.dom.addEventListener("pointerdown",function(c){c.stopPropagation()}),r.add(n)}}class Bq extends Kr{constructor(t){const r=new Iq(t),n=new Lo(r.image.width*.001,r.image.height*.001),c=new Us({map:r,toneMapped:!1});super(n,c);function p(y){c.map.dispatchDOMEvent(y)}this.addEventListener("mousedown",p),this.addEventListener("mousemove",p),this.addEventListener("mouseup",p),this.addEventListener("click",p),this.dispose=function(){n.dispose(),c.dispose(),c.map.dispose(),this.removeEventListener("mousedown",p),this.removeEventListener("mousemove",p),this.removeEventListener("mouseup",p),this.removeEventListener("click",p)}}}class Iq extends $g{constructor(t){super(NT(t)),this.dom=t,this.anisotropy=16,this.encoding=b0,this.minFilter=Es,this.magFilter=Es;const r=new MutationObserver(()=>{this.scheduleUpdate||(this.scheduleUpdate=setTimeout(()=>this.update(),16))}),n={attributes:!0,childList:!0,subtree:!0,characterData:!0};r.observe(t,n),this.observer=r}dispatchDOMEvent(t){t.data&&Lq(this.dom,t.type,t.data.x,t.data.y)}update(){this.image=NT(this.dom),this.needsUpdate=!0,this.scheduleUpdate=null}dispose(){this.observer&&this.observer.disconnect(),this.scheduleUpdate=clearTimeout(this.scheduleUpdate),super.dispose()}}const PT=new WeakMap;function NT(a){const t=document.createRange();function r(k){const R=[];let B=!1;function M(){if(B&&(B=!1,k.restore()),R.length===0)return;let F=-1/0,H=-1/0,U=1/0,Z=1/0;for(let K=0;K<R.length;K++){const fe=R[K];F=Math.max(F,fe.x),H=Math.max(H,fe.y),U=Math.min(U,fe.x+fe.width),Z=Math.min(Z,fe.y+fe.height)}k.save(),k.beginPath(),k.rect(F,H,U-F,Z-H),k.clip(),B=!0}return{add:function(F){R.push(F),M()},remove:function(){R.pop(),M()}}}function n(k,R,B,M){M!==""&&(k.textTransform==="uppercase"&&(M=M.toUpperCase()),E.font=k.fontSize+" "+k.fontFamily,E.textBaseline="top",E.fillStyle=k.color,E.fillText(M,R,B))}function c(k,R,B,M,F,H){const U=k[R+"Width"],Z=k[R+"Style"],K=k[R+"Color"];U!=="0px"&&Z!=="none"&&K!=="transparent"&&K!=="rgba(0, 0, 0, 0)"&&(E.strokeStyle=K,E.beginPath(),E.moveTo(B,M),E.lineTo(B+F,M+H),E.stroke())}function p(k,R){let B=0,M=0,F=0,H=0;if(k.nodeType===Node.TEXT_NODE){t.selectNode(k);const Z=t.getBoundingClientRect();B=Z.left-y.left-.5,M=Z.top-y.top-.5,F=Z.width,H=Z.height,n(R,B,M,k.nodeValue.trim())}else{if(k.nodeType===Node.COMMENT_NODE)return;if(k instanceof HTMLCanvasElement){if(k.style.display==="none")return;E.save();const Z=window.devicePixelRatio;E.scale(1/Z,1/Z),E.drawImage(k,0,0),E.restore()}else{if(k.style.display==="none")return;const Z=k.getBoundingClientRect();B=Z.left-y.left-.5,M=Z.top-y.top-.5,F=Z.width,H=Z.height,R=window.getComputedStyle(k);const K=R.backgroundColor;K!=="transparent"&&K!=="rgba(0, 0, 0, 0)"&&(E.fillStyle=K,E.fillRect(B,M,F,H)),c(R,"borderTop",B,M,F,0),c(R,"borderLeft",B,M,0,H),c(R,"borderBottom",B,M+H,F,0),c(R,"borderRight",B+F,M,0,H),(k.type==="color"||k.type==="text"||k.type==="number")&&(_.add({x:B,y:M,width:F,height:H}),n(R,B+parseInt(R.paddingLeft),M+parseInt(R.paddingTop),k.value),_.remove())}}const U=R.overflow==="auto"||R.overflow==="hidden";U&&_.add({x:B,y:M,width:F,height:H});for(let Z=0;Z<k.childNodes.length;Z++)p(k.childNodes[Z],R);U&&_.remove()}const y=a.getBoundingClientRect();let v;PT.has(a)?v=PT.get(a):(v=document.createElement("canvas"),v.width=y.width,v.height=y.height);const E=v.getContext("2d"),_=new r(E);return p(a),v}function Lq(a,t,r,n){const c={clientX:r*a.offsetWidth+a.offsetLeft,clientY:n*a.offsetHeight+a.offsetTop,view:a.ownerDocument.defaultView};window.dispatchEvent(new MouseEvent(t,c));const p=a.getBoundingClientRect();r=r*p.width+p.left,n=n*p.height+p.top;function y(v){if(v.nodeType!==Node.TEXT_NODE&&v.nodeType!==Node.COMMENT_NODE){const E=v.getBoundingClientRect();r>E.left&&r<E.right&&n>E.top&&n<E.bottom&&v.dispatchEvent(new MouseEvent(t,c));for(let _=0;_<v.childNodes.length;_++)y(v.childNodes[_])}}y(a)}const Hv=new $r,pp={type:"",data:Hv};class Pq extends xl{constructor(t,r){super();const n=this,c=new sb,p=new Ji,y=t.domElement;function v(B){B.stopPropagation(),Hv.x=B.clientX/y.clientWidth*2-1,Hv.y=-(B.clientY/y.clientHeight)*2+1,c.setFromCamera(Hv,r);const M=c.intersectObjects(n.children,!1);if(M.length>0){const F=M[0],H=F.object,U=F.uv;pp.type=B.type,pp.data.set(U.x,1-U.y),H.dispatchEvent(pp)}}y.addEventListener("pointerdown",v),y.addEventListener("pointerup",v),y.addEventListener("pointermove",v),y.addEventListener("mousedown",v),y.addEventListener("mouseup",v),y.addEventListener("mousemove",v),y.addEventListener("click",v);const E={move:"mousemove",select:"click",selectstart:"mousedown",selectend:"mouseup"};function _(B){const M=B.target;p.identity().extractRotation(M.matrixWorld),c.ray.origin.setFromMatrixPosition(M.matrixWorld),c.ray.direction.set(0,0,-1).applyMatrix4(p);const F=c.intersectObjects(n.children,!1);if(F.length>0){const H=F[0],U=H.object,Z=H.uv;pp.type=E[B.type],pp.data.set(Z.x,1-Z.y),U.dispatchEvent(pp)}}const k=t.xr.getController(0);k.addEventListener("move",_),k.addEventListener("select",_),k.addEventListener("selectstart",_),k.addEventListener("selectend",_);const R=t.xr.getController(1);R.addEventListener("move",_),R.addEventListener("select",_),R.addEventListener("selectstart",_),R.addEventListener("selectend",_)}}class yD extends ya{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(r){return new Uq(r)}),this.register(function(r){return new Jq(r)}),this.register(function(r){return new Xq(r)}),this.register(function(r){return new jq(r)}),this.register(function(r){return new Gq(r)}),this.register(function(r){return new zq(r)}),this.register(function(r){return new Wq(r)}),this.register(function(r){return new Hq(r)}),this.register(function(r){return new Qq(r)}),this.register(function(r){return new Vq(r)}),this.register(function(r){return new Fq(r)}),this.register(function(r){return new qq(r)}),this.register(function(r){return new Zq(r)})}load(t,r,n,c){const p=this;let y;this.resourcePath!==""?y=this.resourcePath:this.path!==""?y=this.path:y=Sl.extractUrlBase(t),this.manager.itemStart(t);const v=function(_){c?c(_):console.error(_),p.manager.itemError(t),p.manager.itemEnd(t)},E=new Na(this.manager);E.setPath(this.path),E.setResponseType("arraybuffer"),E.setRequestHeader(this.requestHeader),E.setWithCredentials(this.withCredentials),E.load(t,function(_){try{p.parse(_,y,function(k){r(k),p.manager.itemEnd(t)},v)}catch(k){v(k)}},n,v)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return this.pluginCallbacks.indexOf(t)===-1&&this.pluginCallbacks.push(t),this}unregister(t){return this.pluginCallbacks.indexOf(t)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,r,n,c){let p;const y={},v={};if(typeof t=="string")p=JSON.parse(t);else if(t instanceof ArrayBuffer)if(Sl.decodeText(new Uint8Array(t,0,4))===vD){try{y[I0.KHR_BINARY_GLTF]=new Yq(t)}catch(k){c&&c(k);return}p=JSON.parse(y[I0.KHR_BINARY_GLTF].content)}else p=JSON.parse(Sl.decodeText(new Uint8Array(t)));else p=t;if(p.asset===void 0||p.asset.version[0]<2){c&&c(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const E=new uZ(p,{path:r||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});E.fileLoader.setRequestHeader(this.requestHeader);for(let _=0;_<this.pluginCallbacks.length;_++){const k=this.pluginCallbacks[_](E);v[k.name]=k,y[k.name]=!0}if(p.extensionsUsed)for(let _=0;_<p.extensionsUsed.length;++_){const k=p.extensionsUsed[_],R=p.extensionsRequired||[];switch(k){case I0.KHR_MATERIALS_UNLIT:y[k]=new Oq;break;case I0.KHR_DRACO_MESH_COMPRESSION:y[k]=new Kq(p,this.dracoLoader);break;case I0.KHR_TEXTURE_TRANSFORM:y[k]=new $q;break;case I0.KHR_MESH_QUANTIZATION:y[k]=new eZ;break;default:R.indexOf(k)>=0&&v[k]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+k+'".')}}E.setExtensions(y),E.setPlugins(v),E.parse(n,c)}parseAsync(t,r){const n=this;return new Promise(function(c,p){n.parse(t,r,c,p)})}}function Nq(){let a={};return{get:function(t){return a[t]},add:function(t,r){a[t]=r},remove:function(t){delete a[t]},removeAll:function(){a={}}}}const I0={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Fq{constructor(t){this.parser=t,this.name=I0.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,r=this.parser.json.nodes||[];for(let n=0,c=r.length;n<c;n++){const p=r[n];p.extensions&&p.extensions[this.name]&&p.extensions[this.name].light!==void 0&&t._addNodeRef(this.cache,p.extensions[this.name].light)}}_loadLight(t){const r=this.parser,n="light:"+t;let c=r.cache.get(n);if(c)return c;const p=r.json,E=((p.extensions&&p.extensions[this.name]||{}).lights||[])[t];let _;const k=new _i(16777215);E.color!==void 0&&k.fromArray(E.color);const R=E.range!==void 0?E.range:0;switch(E.type){case"directional":_=new ib(k),_.target.position.set(0,0,-1),_.add(_.target);break;case"point":_=new rb(k),_.distance=R;break;case"spot":_=new Qw(k),_.distance=R,E.spot=E.spot||{},E.spot.innerConeAngle=E.spot.innerConeAngle!==void 0?E.spot.innerConeAngle:0,E.spot.outerConeAngle=E.spot.outerConeAngle!==void 0?E.spot.outerConeAngle:Math.PI/4,_.angle=E.spot.outerConeAngle,_.penumbra=1-E.spot.innerConeAngle/E.spot.outerConeAngle,_.target.position.set(0,0,-1),_.add(_.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+E.type)}return _.position.set(0,0,0),_.decay=2,hh(_,E),E.intensity!==void 0&&(_.intensity=E.intensity),_.name=r.createUniqueName(E.name||"light_"+t),c=Promise.resolve(_),r.cache.add(n,c),c}getDependency(t,r){if(t==="light")return this._loadLight(r)}createNodeAttachment(t){const r=this,n=this.parser,p=n.json.nodes[t],v=(p.extensions&&p.extensions[this.name]||{}).light;return v===void 0?null:this._loadLight(v).then(function(E){return n._getNodeRef(r.cache,v,E)})}}class Oq{constructor(){this.name=I0.KHR_MATERIALS_UNLIT}getMaterialType(){return Us}extendParams(t,r,n){const c=[];t.color=new _i(1,1,1),t.opacity=1;const p=r.pbrMetallicRoughness;if(p){if(Array.isArray(p.baseColorFactor)){const y=p.baseColorFactor;t.color.fromArray(y),t.opacity=y[3]}p.baseColorTexture!==void 0&&c.push(n.assignTexture(t,"map",p.baseColorTexture,b0))}return Promise.all(c)}}class Hq{constructor(t){this.parser=t,this.name=I0.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,r){const c=this.parser.json.materials[t];if(!c.extensions||!c.extensions[this.name])return Promise.resolve();const p=c.extensions[this.name].emissiveStrength;return p!==void 0&&(r.emissiveIntensity=p),Promise.resolve()}}class Uq{constructor(t){this.parser=t,this.name=I0.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Ru}extendMaterialParams(t,r){const n=this.parser,c=n.json.materials[t];if(!c.extensions||!c.extensions[this.name])return Promise.resolve();const p=[],y=c.extensions[this.name];if(y.clearcoatFactor!==void 0&&(r.clearcoat=y.clearcoatFactor),y.clearcoatTexture!==void 0&&p.push(n.assignTexture(r,"clearcoatMap",y.clearcoatTexture)),y.clearcoatRoughnessFactor!==void 0&&(r.clearcoatRoughness=y.clearcoatRoughnessFactor),y.clearcoatRoughnessTexture!==void 0&&p.push(n.assignTexture(r,"clearcoatRoughnessMap",y.clearcoatRoughnessTexture)),y.clearcoatNormalTexture!==void 0&&(p.push(n.assignTexture(r,"clearcoatNormalMap",y.clearcoatNormalTexture)),y.clearcoatNormalTexture.scale!==void 0)){const v=y.clearcoatNormalTexture.scale;r.clearcoatNormalScale=new $r(v,v)}return Promise.all(p)}}class Vq{constructor(t){this.parser=t,this.name=I0.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Ru}extendMaterialParams(t,r){const n=this.parser,c=n.json.materials[t];if(!c.extensions||!c.extensions[this.name])return Promise.resolve();const p=[],y=c.extensions[this.name];return y.iridescenceFactor!==void 0&&(r.iridescence=y.iridescenceFactor),y.iridescenceTexture!==void 0&&p.push(n.assignTexture(r,"iridescenceMap",y.iridescenceTexture)),y.iridescenceIor!==void 0&&(r.iridescenceIOR=y.iridescenceIor),r.iridescenceThicknessRange===void 0&&(r.iridescenceThicknessRange=[100,400]),y.iridescenceThicknessMinimum!==void 0&&(r.iridescenceThicknessRange[0]=y.iridescenceThicknessMinimum),y.iridescenceThicknessMaximum!==void 0&&(r.iridescenceThicknessRange[1]=y.iridescenceThicknessMaximum),y.iridescenceThicknessTexture!==void 0&&p.push(n.assignTexture(r,"iridescenceThicknessMap",y.iridescenceThicknessTexture)),Promise.all(p)}}class jq{constructor(t){this.parser=t,this.name=I0.KHR_MATERIALS_SHEEN}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Ru}extendMaterialParams(t,r){const n=this.parser,c=n.json.materials[t];if(!c.extensions||!c.extensions[this.name])return Promise.resolve();const p=[];r.sheenColor=new _i(0,0,0),r.sheenRoughness=0,r.sheen=1;const y=c.extensions[this.name];return y.sheenColorFactor!==void 0&&r.sheenColor.fromArray(y.sheenColorFactor),y.sheenRoughnessFactor!==void 0&&(r.sheenRoughness=y.sheenRoughnessFactor),y.sheenColorTexture!==void 0&&p.push(n.assignTexture(r,"sheenColorMap",y.sheenColorTexture,b0)),y.sheenRoughnessTexture!==void 0&&p.push(n.assignTexture(r,"sheenRoughnessMap",y.sheenRoughnessTexture)),Promise.all(p)}}class Gq{constructor(t){this.parser=t,this.name=I0.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Ru}extendMaterialParams(t,r){const n=this.parser,c=n.json.materials[t];if(!c.extensions||!c.extensions[this.name])return Promise.resolve();const p=[],y=c.extensions[this.name];return y.transmissionFactor!==void 0&&(r.transmission=y.transmissionFactor),y.transmissionTexture!==void 0&&p.push(n.assignTexture(r,"transmissionMap",y.transmissionTexture)),Promise.all(p)}}class zq{constructor(t){this.parser=t,this.name=I0.KHR_MATERIALS_VOLUME}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Ru}extendMaterialParams(t,r){const n=this.parser,c=n.json.materials[t];if(!c.extensions||!c.extensions[this.name])return Promise.resolve();const p=[],y=c.extensions[this.name];r.thickness=y.thicknessFactor!==void 0?y.thicknessFactor:0,y.thicknessTexture!==void 0&&p.push(n.assignTexture(r,"thicknessMap",y.thicknessTexture)),r.attenuationDistance=y.attenuationDistance||1/0;const v=y.attenuationColor||[1,1,1];return r.attenuationColor=new _i(v[0],v[1],v[2]),Promise.all(p)}}class Wq{constructor(t){this.parser=t,this.name=I0.KHR_MATERIALS_IOR}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Ru}extendMaterialParams(t,r){const c=this.parser.json.materials[t];if(!c.extensions||!c.extensions[this.name])return Promise.resolve();const p=c.extensions[this.name];return r.ior=p.ior!==void 0?p.ior:1.5,Promise.resolve()}}class Qq{constructor(t){this.parser=t,this.name=I0.KHR_MATERIALS_SPECULAR}getMaterialType(t){const n=this.parser.json.materials[t];return!n.extensions||!n.extensions[this.name]?null:Ru}extendMaterialParams(t,r){const n=this.parser,c=n.json.materials[t];if(!c.extensions||!c.extensions[this.name])return Promise.resolve();const p=[],y=c.extensions[this.name];r.specularIntensity=y.specularFactor!==void 0?y.specularFactor:1,y.specularTexture!==void 0&&p.push(n.assignTexture(r,"specularIntensityMap",y.specularTexture));const v=y.specularColorFactor||[1,1,1];return r.specularColor=new _i(v[0],v[1],v[2]),y.specularColorTexture!==void 0&&p.push(n.assignTexture(r,"specularColorMap",y.specularColorTexture,b0)),Promise.all(p)}}class Jq{constructor(t){this.parser=t,this.name=I0.KHR_TEXTURE_BASISU}loadTexture(t){const r=this.parser,n=r.json,c=n.textures[t];if(!c.extensions||!c.extensions[this.name])return null;const p=c.extensions[this.name],y=r.options.ktx2Loader;if(!y){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return r.loadTextureImage(t,p.source,y)}}class Xq{constructor(t){this.parser=t,this.name=I0.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const r=this.name,n=this.parser,c=n.json,p=c.textures[t];if(!p.extensions||!p.extensions[r])return null;const y=p.extensions[r],v=c.images[y.source];let E=n.textureLoader;if(v.uri){const _=n.options.manager.getHandler(v.uri);_!==null&&(E=_)}return this.detectSupport().then(function(_){if(_)return n.loadTextureImage(t,y.source,E);if(c.extensionsRequired&&c.extensionsRequired.indexOf(r)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const r=new Image;r.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",r.onload=r.onerror=function(){t(r.height===1)}})),this.isSupported}}class qq{constructor(t){this.name=I0.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const r=this.parser.json,n=r.bufferViews[t];if(n.extensions&&n.extensions[this.name]){const c=n.extensions[this.name],p=this.parser.getDependency("buffer",c.buffer),y=this.parser.options.meshoptDecoder;if(!y||!y.supported){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return p.then(function(v){const E=c.byteOffset||0,_=c.byteLength||0,k=c.count,R=c.byteStride,B=new Uint8Array(v,E,_);return y.decodeGltfBufferAsync?y.decodeGltfBufferAsync(k,R,B,c.mode,c.filter).then(function(M){return M.buffer}):y.ready.then(function(){const M=new ArrayBuffer(k*R);return y.decodeGltfBuffer(new Uint8Array(M),k,R,B,c.mode,c.filter),M})})}else return null}}class Zq{constructor(t){this.name=I0.EXT_MESH_GPU_INSTANCING,this.parser=t}createNodeMesh(t){const r=this.parser.json,n=r.nodes[t];if(!n.extensions||!n.extensions[this.name]||n.mesh===void 0)return null;const c=r.meshes[n.mesh];for(const _ of c.primitives)if(_.mode!==Jl.TRIANGLES&&_.mode!==Jl.TRIANGLE_STRIP&&_.mode!==Jl.TRIANGLE_FAN&&_.mode!==void 0)return null;const y=n.extensions[this.name].attributes,v=[],E={};for(const _ in y)v.push(this.parser.getDependency("accessor",y[_]).then(k=>(E[_]=k,E[_])));return v.length<1?null:(v.push(this.parser.createNodeMesh(t)),Promise.all(v).then(_=>{const k=_.pop(),R=k.isGroup?k.children:[k],B=_[0].count,M=[];for(const F of R){const H=new Ji,U=new wt,Z=new L0,K=new wt(1,1,1),fe=new Fw(F.geometry,F.material,B);for(let oe=0;oe<B;oe++)E.TRANSLATION&&U.fromBufferAttribute(E.TRANSLATION,oe),E.ROTATION&&Z.fromBufferAttribute(E.ROTATION,oe),E.SCALE&&K.fromBufferAttribute(E.SCALE,oe),fe.setMatrixAt(oe,H.compose(U,Z,K));for(const oe in E)oe!=="TRANSLATION"&&oe!=="ROTATION"&&oe!=="SCALE"&&F.geometry.setAttribute(oe,E[oe]);Rn.prototype.copy.call(fe,F),fe.frustumCulled=!1,this.parser.assignFinalMaterial(fe),M.push(fe)}return k.isGroup?(k.clear(),k.add(...M),k):M[0]}))}}const vD="glTF",Ym=12,FT={JSON:1313821514,BIN:5130562};class Yq{constructor(t){this.name=I0.KHR_BINARY_GLTF,this.content=null,this.body=null;const r=new DataView(t,0,Ym);if(this.header={magic:Sl.decodeText(new Uint8Array(t.slice(0,4))),version:r.getUint32(4,!0),length:r.getUint32(8,!0)},this.header.magic!==vD)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-Ym,c=new DataView(t,Ym);let p=0;for(;p<n;){const y=c.getUint32(p,!0);p+=4;const v=c.getUint32(p,!0);if(p+=4,v===FT.JSON){const E=new Uint8Array(t,Ym+p,y);this.content=Sl.decodeText(E)}else if(v===FT.BIN){const E=Ym+p;this.body=t.slice(E,E+y)}p+=y}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Kq{constructor(t,r){if(!r)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=I0.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=r,this.dracoLoader.preload()}decodePrimitive(t,r){const n=this.json,c=this.dracoLoader,p=t.extensions[this.name].bufferView,y=t.extensions[this.name].attributes,v={},E={},_={};for(const k in y){const R=AE[k]||k.toLowerCase();v[R]=y[k]}for(const k in t.attributes){const R=AE[k]||k.toLowerCase();if(y[k]!==void 0){const B=n.accessors[t.attributes[k]],M=Lp[B.componentType];_[R]=M.name,E[R]=B.normalized===!0}}return r.getDependency("bufferView",p).then(function(k){return new Promise(function(R){c.decodeDracoFile(k,function(B){for(const M in B.attributes){const F=B.attributes[M],H=E[M];H!==void 0&&(F.normalized=H)}R(B)},v,_)})})}}class $q{constructor(){this.name=I0.KHR_TEXTURE_TRANSFORM}extendTexture(t,r){return r.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),r.offset===void 0&&r.rotation===void 0&&r.scale===void 0||(t=t.clone(),r.offset!==void 0&&t.offset.fromArray(r.offset),r.rotation!==void 0&&(t.rotation=r.rotation),r.scale!==void 0&&t.repeat.fromArray(r.scale),t.needsUpdate=!0),t}}class eZ{constructor(){this.name=I0.KHR_MESH_QUANTIZATION}}class wD extends xu{constructor(t,r,n,c){super(t,r,n,c)}copySampleValue_(t){const r=this.resultBuffer,n=this.sampleValues,c=this.valueSize,p=t*c*3+c;for(let y=0;y!==c;y++)r[y]=n[p+y];return r}interpolate_(t,r,n,c){const p=this.resultBuffer,y=this.sampleValues,v=this.valueSize,E=v*2,_=v*3,k=c-r,R=(n-r)/k,B=R*R,M=B*R,F=t*_,H=F-_,U=-2*M+3*B,Z=M-B,K=1-U,fe=Z-B+R;for(let oe=0;oe!==v;oe++){const we=y[H+oe+v],be=y[H+oe+E]*k,ve=y[F+oe+v],ne=y[F+oe]*k;p[oe]=K*we+fe*be+U*ve+Z*ne}return p}}const tZ=new L0;class rZ extends wD{interpolate_(t,r,n,c){const p=super.interpolate_(t,r,n,c);return tZ.fromArray(p).normalize().toArray(p),p}}const Jl={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Lp={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},OT={9728:oo,9729:Es,9984:Tg,9985:Sw,9986:Mg,9987:Tu},HT={33071:ma,33648:Hp,10497:Sh},Jx={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},AE={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},oh={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},iZ={CUBICSPLINE:void 0,LINEAR:Jd,STEP:jp},Xx={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function nZ(a){return a.DefaultMaterial===void 0&&(a.DefaultMaterial=new q0({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:_h})),a.DefaultMaterial}function Km(a,t,r){for(const n in r.extensions)a[n]===void 0&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=r.extensions[n])}function hh(a,t){t.extras!==void 0&&(typeof t.extras=="object"?Object.assign(a.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function sZ(a,t,r){let n=!1,c=!1,p=!1;for(let _=0,k=t.length;_<k;_++){const R=t[_];if(R.POSITION!==void 0&&(n=!0),R.NORMAL!==void 0&&(c=!0),R.COLOR_0!==void 0&&(p=!0),n&&c&&p)break}if(!n&&!c&&!p)return Promise.resolve(a);const y=[],v=[],E=[];for(let _=0,k=t.length;_<k;_++){const R=t[_];if(n){const B=R.POSITION!==void 0?r.getDependency("accessor",R.POSITION):a.attributes.position;y.push(B)}if(c){const B=R.NORMAL!==void 0?r.getDependency("accessor",R.NORMAL):a.attributes.normal;v.push(B)}if(p){const B=R.COLOR_0!==void 0?r.getDependency("accessor",R.COLOR_0):a.attributes.color;E.push(B)}}return Promise.all([Promise.all(y),Promise.all(v),Promise.all(E)]).then(function(_){const k=_[0],R=_[1],B=_[2];return n&&(a.morphAttributes.position=k),c&&(a.morphAttributes.normal=R),p&&(a.morphAttributes.color=B),a.morphTargetsRelative=!0,a})}function oZ(a,t){if(a.updateMorphTargets(),t.weights!==void 0)for(let r=0,n=t.weights.length;r<n;r++)a.morphTargetInfluences[r]=t.weights[r];if(t.extras&&Array.isArray(t.extras.targetNames)){const r=t.extras.targetNames;if(a.morphTargetInfluences.length===r.length){a.morphTargetDictionary={};for(let n=0,c=r.length;n<c;n++)a.morphTargetDictionary[r[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function aZ(a){const t=a.extensions&&a.extensions[I0.KHR_DRACO_MESH_COMPRESSION];let r;return t?r="draco:"+t.bufferView+":"+t.indices+":"+UT(t.attributes):r=a.indices+":"+UT(a.attributes)+":"+a.mode,r}function UT(a){let t="";const r=Object.keys(a).sort();for(let n=0,c=r.length;n<c;n++)t+=r[n]+":"+a[r[n]]+";";return t}function xE(a){switch(a){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function lZ(a){return a.search(/\.jpe?g($|\?)/i)>0||a.search(/^data\:image\/jpeg/)===0?"image/jpeg":a.search(/\.webp($|\?)/i)>0||a.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const fZ=new Ji;class uZ{constructor(t={},r={}){this.json=t,this.extensions={},this.plugins={},this.options=r,this.cache=new Nq,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,c=!1,p=-1;typeof navigator!="undefined"&&(n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,c=navigator.userAgent.indexOf("Firefox")>-1,p=c?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap=="undefined"||n||c&&p<98?this.textureLoader=new x8(this.options.manager):this.textureLoader=new M8(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Na(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,r){const n=this,c=this.json,p=this.extensions;this.cache.removeAll(),this._invokeAll(function(y){return y._markDefs&&y._markDefs()}),Promise.all(this._invokeAll(function(y){return y.beforeRoot&&y.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(y){const v={scene:y[0][c.scene||0],scenes:y[0],animations:y[1],cameras:y[2],asset:c.asset,parser:n,userData:{}};Km(p,v,c),hh(v,c),Promise.all(n._invokeAll(function(E){return E.afterRoot&&E.afterRoot(v)})).then(function(){t(v)})}).catch(r)}_markDefs(){const t=this.json.nodes||[],r=this.json.skins||[],n=this.json.meshes||[];for(let c=0,p=r.length;c<p;c++){const y=r[c].joints;for(let v=0,E=y.length;v<E;v++)t[y[v]].isBone=!0}for(let c=0,p=t.length;c<p;c++){const y=t[c];y.mesh!==void 0&&(this._addNodeRef(this.meshCache,y.mesh),y.skin!==void 0&&(n[y.mesh].isSkinnedMesh=!0)),y.camera!==void 0&&this._addNodeRef(this.cameraCache,y.camera)}}_addNodeRef(t,r){r!==void 0&&(t.refs[r]===void 0&&(t.refs[r]=t.uses[r]=0),t.refs[r]++)}_getNodeRef(t,r,n){if(t.refs[r]<=1)return n;const c=n.clone(),p=(y,v)=>{const E=this.associations.get(y);E!=null&&this.associations.set(v,E);for(const[_,k]of y.children.entries())p(k,v.children[_])};return p(n,c),c.name+="_instance_"+t.uses[r]++,c}_invokeOne(t){const r=Object.values(this.plugins);r.push(this);for(let n=0;n<r.length;n++){const c=t(r[n]);if(c)return c}return null}_invokeAll(t){const r=Object.values(this.plugins);r.unshift(this);const n=[];for(let c=0;c<r.length;c++){const p=t(r[c]);p&&n.push(p)}return n}getDependency(t,r){const n=t+":"+r;let c=this.cache.get(n);if(!c){switch(t){case"scene":c=this.loadScene(r);break;case"node":c=this._invokeOne(function(p){return p.loadNode&&p.loadNode(r)});break;case"mesh":c=this._invokeOne(function(p){return p.loadMesh&&p.loadMesh(r)});break;case"accessor":c=this.loadAccessor(r);break;case"bufferView":c=this._invokeOne(function(p){return p.loadBufferView&&p.loadBufferView(r)});break;case"buffer":c=this.loadBuffer(r);break;case"material":c=this._invokeOne(function(p){return p.loadMaterial&&p.loadMaterial(r)});break;case"texture":c=this._invokeOne(function(p){return p.loadTexture&&p.loadTexture(r)});break;case"skin":c=this.loadSkin(r);break;case"animation":c=this._invokeOne(function(p){return p.loadAnimation&&p.loadAnimation(r)});break;case"camera":c=this.loadCamera(r);break;default:if(c=this._invokeOne(function(p){return p!=this&&p.getDependency&&p.getDependency(t,r)}),!c)throw new Error("Unknown type: "+t);break}this.cache.add(n,c)}return c}getDependencies(t){let r=this.cache.get(t);if(!r){const n=this,c=this.json[t+(t==="mesh"?"es":"s")]||[];r=Promise.all(c.map(function(p,y){return n.getDependency(t,y)})),this.cache.add(t,r)}return r}loadBuffer(t){const r=this.json.buffers[t],n=this.fileLoader;if(r.type&&r.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+r.type+" buffer type is not supported.");if(r.uri===void 0&&t===0)return Promise.resolve(this.extensions[I0.KHR_BINARY_GLTF].body);const c=this.options;return new Promise(function(p,y){n.load(Sl.resolveURL(r.uri,c.path),p,void 0,function(){y(new Error('THREE.GLTFLoader: Failed to load buffer "'+r.uri+'".'))})})}loadBufferView(t){const r=this.json.bufferViews[t];return this.getDependency("buffer",r.buffer).then(function(n){const c=r.byteLength||0,p=r.byteOffset||0;return n.slice(p,p+c)})}loadAccessor(t){const r=this,n=this.json,c=this.json.accessors[t];if(c.bufferView===void 0&&c.sparse===void 0){const y=Jx[c.type],v=Lp[c.componentType],E=c.normalized===!0,_=new v(c.count*y);return Promise.resolve(new d0(_,y,E))}const p=[];return c.bufferView!==void 0?p.push(this.getDependency("bufferView",c.bufferView)):p.push(null),c.sparse!==void 0&&(p.push(this.getDependency("bufferView",c.sparse.indices.bufferView)),p.push(this.getDependency("bufferView",c.sparse.values.bufferView))),Promise.all(p).then(function(y){const v=y[0],E=Jx[c.type],_=Lp[c.componentType],k=_.BYTES_PER_ELEMENT,R=k*E,B=c.byteOffset||0,M=c.bufferView!==void 0?n.bufferViews[c.bufferView].byteStride:void 0,F=c.normalized===!0;let H,U;if(M&&M!==R){const Z=Math.floor(B/M),K="InterleavedBuffer:"+c.bufferView+":"+c.componentType+":"+Z+":"+c.count;let fe=r.cache.get(K);fe||(H=new _(v,Z*M,c.count*M/k),fe=new Oh(H,M/k),r.cache.add(K,fe)),U=new fc(fe,E,B%M/k,F)}else v===null?H=new _(c.count*E):H=new _(v,B,c.count*E),U=new d0(H,E,F);if(c.sparse!==void 0){const Z=Jx.SCALAR,K=Lp[c.sparse.indices.componentType],fe=c.sparse.indices.byteOffset||0,oe=c.sparse.values.byteOffset||0,we=new K(y[1],fe,c.sparse.count*Z),be=new _(y[2],oe,c.sparse.count*E);v!==null&&(U=new d0(U.array.slice(),U.itemSize,U.normalized));for(let ve=0,ne=we.length;ve<ne;ve++){const ae=we[ve];if(U.setX(ae,be[ve*E]),E>=2&&U.setY(ae,be[ve*E+1]),E>=3&&U.setZ(ae,be[ve*E+2]),E>=4&&U.setW(ae,be[ve*E+3]),E>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return U})}loadTexture(t){const r=this.json,n=this.options,p=r.textures[t].source,y=r.images[p];let v=this.textureLoader;if(y.uri){const E=n.manager.getHandler(y.uri);E!==null&&(v=E)}return this.loadTextureImage(t,p,v)}loadTextureImage(t,r,n){const c=this,p=this.json,y=p.textures[t],v=p.images[r],E=(v.uri||v.bufferView)+":"+y.sampler;if(this.textureCache[E])return this.textureCache[E];const _=this.loadImageSource(r,n).then(function(k){k.flipY=!1,k.name=y.name||v.name||"";const B=(p.samplers||{})[y.sampler]||{};return k.magFilter=OT[B.magFilter]||Es,k.minFilter=OT[B.minFilter]||Tu,k.wrapS=HT[B.wrapS]||Sh,k.wrapT=HT[B.wrapT]||Sh,c.associations.set(k,{textures:t}),k}).catch(function(){return null});return this.textureCache[E]=_,_}loadImageSource(t,r){const n=this,c=this.json,p=this.options;if(this.sourceCache[t]!==void 0)return this.sourceCache[t].then(R=>R.clone());const y=c.images[t],v=self.URL||self.webkitURL;let E=y.uri||"",_=!1;if(y.bufferView!==void 0)E=n.getDependency("bufferView",y.bufferView).then(function(R){_=!0;const B=new Blob([R],{type:y.mimeType});return E=v.createObjectURL(B),E});else if(y.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const k=Promise.resolve(E).then(function(R){return new Promise(function(B,M){let F=B;r.isImageBitmapLoader===!0&&(F=function(H){const U=new Z0(H);U.needsUpdate=!0,B(U)}),r.load(Sl.resolveURL(R,p.path),F,void 0,M)})}).then(function(R){return _===!0&&v.revokeObjectURL(E),R.userData.mimeType=y.mimeType||lZ(y.uri),R}).catch(function(R){throw console.error("THREE.GLTFLoader: Couldn't load texture",E),R});return this.sourceCache[t]=k,k}assignTexture(t,r,n,c){const p=this;return this.getDependency("texture",n.index).then(function(y){if(!y)return null;if(n.texCoord!==void 0&&n.texCoord!=0&&!(r==="aoMap"&&n.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+r+" not yet supported."),p.extensions[I0.KHR_TEXTURE_TRANSFORM]){const v=n.extensions!==void 0?n.extensions[I0.KHR_TEXTURE_TRANSFORM]:void 0;if(v){const E=p.associations.get(y);y=p.extensions[I0.KHR_TEXTURE_TRANSFORM].extendTexture(y,v),p.associations.set(y,E)}}return c!==void 0&&(y.encoding=c),t[r]=y,y})}assignFinalMaterial(t){const r=t.geometry;let n=t.material;const c=r.attributes.tangent===void 0,p=r.attributes.color!==void 0,y=r.attributes.normal===void 0;if(t.isPoints){const v="PointsMaterial:"+n.uuid;let E=this.cache.get(v);E||(E=new pc,Ds.prototype.copy.call(E,n),E.color.copy(n.color),E.map=n.map,E.sizeAttenuation=!1,this.cache.add(v,E)),n=E}else if(t.isLine){const v="LineBasicMaterial:"+n.uuid;let E=this.cache.get(v);E||(E=new uo,Ds.prototype.copy.call(E,n),E.color.copy(n.color),this.cache.add(v,E)),n=E}if(c||p||y){let v="ClonedMaterial:"+n.uuid+":";c&&(v+="derivative-tangents:"),p&&(v+="vertex-colors:"),y&&(v+="flat-shading:");let E=this.cache.get(v);E||(E=n.clone(),p&&(E.vertexColors=!0),y&&(E.flatShading=!0),c&&(E.normalScale&&(E.normalScale.y*=-1),E.clearcoatNormalScale&&(E.clearcoatNormalScale.y*=-1)),this.cache.add(v,E),this.associations.set(E,this.associations.get(n))),n=E}n.aoMap&&r.attributes.uv2===void 0&&r.attributes.uv!==void 0&&r.setAttribute("uv2",r.attributes.uv),t.material=n}getMaterialType(){return q0}loadMaterial(t){const r=this,n=this.json,c=this.extensions,p=n.materials[t];let y;const v={},E=p.extensions||{},_=[];if(E[I0.KHR_MATERIALS_UNLIT]){const R=c[I0.KHR_MATERIALS_UNLIT];y=R.getMaterialType(),_.push(R.extendParams(v,p,r))}else{const R=p.pbrMetallicRoughness||{};if(v.color=new _i(1,1,1),v.opacity=1,Array.isArray(R.baseColorFactor)){const B=R.baseColorFactor;v.color.fromArray(B),v.opacity=B[3]}R.baseColorTexture!==void 0&&_.push(r.assignTexture(v,"map",R.baseColorTexture,b0)),v.metalness=R.metallicFactor!==void 0?R.metallicFactor:1,v.roughness=R.roughnessFactor!==void 0?R.roughnessFactor:1,R.metallicRoughnessTexture!==void 0&&(_.push(r.assignTexture(v,"metalnessMap",R.metallicRoughnessTexture)),_.push(r.assignTexture(v,"roughnessMap",R.metallicRoughnessTexture))),y=this._invokeOne(function(B){return B.getMaterialType&&B.getMaterialType(t)}),_.push(Promise.all(this._invokeAll(function(B){return B.extendMaterialParams&&B.extendMaterialParams(t,v)})))}p.doubleSided===!0&&(v.side=Lf);const k=p.alphaMode||Xx.OPAQUE;if(k===Xx.BLEND?(v.transparent=!0,v.depthWrite=!1):(v.transparent=!1,k===Xx.MASK&&(v.alphaTest=p.alphaCutoff!==void 0?p.alphaCutoff:.5)),p.normalTexture!==void 0&&y!==Us&&(_.push(r.assignTexture(v,"normalMap",p.normalTexture)),v.normalScale=new $r(1,1),p.normalTexture.scale!==void 0)){const R=p.normalTexture.scale;v.normalScale.set(R,R)}return p.occlusionTexture!==void 0&&y!==Us&&(_.push(r.assignTexture(v,"aoMap",p.occlusionTexture)),p.occlusionTexture.strength!==void 0&&(v.aoMapIntensity=p.occlusionTexture.strength)),p.emissiveFactor!==void 0&&y!==Us&&(v.emissive=new _i().fromArray(p.emissiveFactor)),p.emissiveTexture!==void 0&&y!==Us&&_.push(r.assignTexture(v,"emissiveMap",p.emissiveTexture,b0)),Promise.all(_).then(function(){const R=new y(v);return p.name&&(R.name=p.name),hh(R,p),r.associations.set(R,{materials:t}),p.extensions&&Km(c,R,p),R})}createUniqueName(t){const r=k0.sanitizeNodeName(t||"");let n=r;for(let c=1;this.nodeNamesUsed[n];++c)n=r+"_"+c;return this.nodeNamesUsed[n]=!0,n}loadGeometries(t){const r=this,n=this.extensions,c=this.primitiveCache;function p(v){return n[I0.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(v,r).then(function(E){return VT(E,v,r)})}const y=[];for(let v=0,E=t.length;v<E;v++){const _=t[v],k=aZ(_),R=c[k];if(R)y.push(R.promise);else{let B;_.extensions&&_.extensions[I0.KHR_DRACO_MESH_COMPRESSION]?B=p(_):B=VT(new wn,_,r),c[k]={primitive:_,promise:B},y.push(B)}}return Promise.all(y)}loadMesh(t){const r=this,n=this.json,c=this.extensions,p=n.meshes[t],y=p.primitives,v=[];for(let E=0,_=y.length;E<_;E++){const k=y[E].material===void 0?nZ(this.cache):this.getDependency("material",y[E].material);v.push(k)}return v.push(r.loadGeometries(y)),Promise.all(v).then(function(E){const _=E.slice(0,E.length-1),k=E[E.length-1],R=[];for(let M=0,F=k.length;M<F;M++){const H=k[M],U=y[M];let Z;const K=_[M];if(U.mode===Jl.TRIANGLES||U.mode===Jl.TRIANGLE_STRIP||U.mode===Jl.TRIANGLE_FAN||U.mode===void 0)Z=p.isSkinnedMesh===!0?new Zg(H,K):new Kr(H,K),Z.isSkinnedMesh===!0&&!Z.geometry.attributes.skinWeight.normalized&&Z.normalizeSkinWeights(),U.mode===Jl.TRIANGLE_STRIP?Z.geometry=jT(Z.geometry,v7):U.mode===Jl.TRIANGLE_FAN&&(Z.geometry=jT(Z.geometry,KE));else if(U.mode===Jl.LINES)Z=new Pa(H,K);else if(U.mode===Jl.LINE_STRIP)Z=new _o(H,K);else if(U.mode===Jl.LINE_LOOP)Z=new Ow(H,K);else if(U.mode===Jl.POINTS)Z=new w1(H,K);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+U.mode);Object.keys(Z.geometry.morphAttributes).length>0&&oZ(Z,p),Z.name=r.createUniqueName(p.name||"mesh_"+t),hh(Z,p),U.extensions&&Km(c,Z,U),r.assignFinalMaterial(Z),R.push(Z)}for(let M=0,F=R.length;M<F;M++)r.associations.set(R[M],{meshes:t,primitives:M});if(R.length===1)return R[0];const B=new xl;r.associations.set(B,{meshes:t});for(let M=0,F=R.length;M<F;M++)B.add(R[M]);return B})}loadCamera(t){let r;const n=this.json.cameras[t],c=n[n.type];if(!c){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return n.type==="perspective"?r=new ko(Cf.radToDeg(c.yfov),c.aspectRatio||1,c.znear||1,c.zfar||2e6):n.type==="orthographic"&&(r=new Fh(-c.xmag,c.xmag,c.ymag,-c.ymag,c.znear,c.zfar)),n.name&&(r.name=this.createUniqueName(n.name)),hh(r,n),Promise.resolve(r)}loadSkin(t){const r=this.json.skins[t],n=[];for(let c=0,p=r.joints.length;c<p;c++)n.push(this.getDependency("node",r.joints[c]));return r.inverseBindMatrices!==void 0?n.push(this.getDependency("accessor",r.inverseBindMatrices)):n.push(null),Promise.all(n).then(function(c){const p=c.pop(),y=c,v=[],E=[];for(let _=0,k=y.length;_<k;_++){const R=y[_];if(R){v.push(R);const B=new Ji;p!==null&&B.fromArray(p.array,_*16),E.push(B)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',r.joints[_])}return new Kg(v,E)})}loadAnimation(t){const n=this.json.animations[t],c=[],p=[],y=[],v=[],E=[];for(let _=0,k=n.channels.length;_<k;_++){const R=n.channels[_],B=n.samplers[R.sampler],M=R.target,F=M.node,H=n.parameters!==void 0?n.parameters[B.input]:B.input,U=n.parameters!==void 0?n.parameters[B.output]:B.output;c.push(this.getDependency("node",F)),p.push(this.getDependency("accessor",H)),y.push(this.getDependency("accessor",U)),v.push(B),E.push(M)}return Promise.all([Promise.all(c),Promise.all(p),Promise.all(y),Promise.all(v),Promise.all(E)]).then(function(_){const k=_[0],R=_[1],B=_[2],M=_[3],F=_[4],H=[];for(let Z=0,K=k.length;Z<K;Z++){const fe=k[Z],oe=R[Z],we=B[Z],be=M[Z],ve=F[Z];if(fe===void 0)continue;fe.updateMatrix();let ne;switch(oh[ve.path]){case oh.weights:ne=t1;break;case oh.rotation:ne=Bh;break;case oh.position:case oh.scale:default:ne=r1;break}const ae=fe.name?fe.name:fe.uuid,ye=be.interpolation!==void 0?iZ[be.interpolation]:Jd,de=[];oh[ve.path]===oh.weights?fe.traverse(function(le){le.morphTargetInfluences&&de.push(le.name?le.name:le.uuid)}):de.push(ae);let xe=we.array;if(we.normalized){const le=xE(xe.constructor),re=new Float32Array(xe.length);for(let he=0,me=xe.length;he<me;he++)re[he]=xe[he]*le;xe=re}for(let le=0,re=de.length;le<re;le++){const he=new ne(de[le]+"."+oh[ve.path],oe.array,xe,ye);be.interpolation==="CUBICSPLINE"&&(he.createInterpolant=function(Re){const Ie=this instanceof Bh?rZ:wD;return new Ie(this.times,this.values,this.getValueSize()/3,Re)},he.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),H.push(he)}}const U=n.name?n.name:"animation_"+t;return new i1(U,void 0,H)})}createNodeMesh(t){const r=this.json,n=this,c=r.nodes[t];return c.mesh===void 0?null:n.getDependency("mesh",c.mesh).then(function(p){const y=n._getNodeRef(n.meshCache,c.mesh,p);return c.weights!==void 0&&y.traverse(function(v){if(!!v.isMesh)for(let E=0,_=c.weights.length;E<_;E++)v.morphTargetInfluences[E]=c.weights[E]}),y})}loadNode(t){const r=this.json,n=this.extensions,c=this,p=r.nodes[t],y=p.name?c.createUniqueName(p.name):"";return function(){const v=[],E=c._invokeOne(function(B){return B.createNodeMesh&&B.createNodeMesh(t)});E&&v.push(E),p.camera!==void 0&&v.push(c.getDependency("camera",p.camera).then(function(B){return c._getNodeRef(c.cameraCache,p.camera,B)})),c._invokeAll(function(B){return B.createNodeAttachment&&B.createNodeAttachment(t)}).forEach(function(B){v.push(B)});const _=[],k=p.children||[];for(let B=0,M=k.length;B<M;B++)_.push(c.getDependency("node",k[B]));const R=p.skin===void 0?Promise.resolve(null):c.getDependency("skin",p.skin);return Promise.all([Promise.all(v),Promise.all(_),R])}().then(function(v){const E=v[0],_=v[1],k=v[2];let R;if(p.isBone===!0?R=new Yg:E.length>1?R=new xl:E.length===1?R=E[0]:R=new Rn,R!==E[0])for(let B=0,M=E.length;B<M;B++)R.add(E[B]);if(p.name&&(R.userData.name=p.name,R.name=y),hh(R,p),p.extensions&&Km(n,R,p),p.matrix!==void 0){const B=new Ji;B.fromArray(p.matrix),R.applyMatrix4(B)}else p.translation!==void 0&&R.position.fromArray(p.translation),p.rotation!==void 0&&R.quaternion.fromArray(p.rotation),p.scale!==void 0&&R.scale.fromArray(p.scale);c.associations.has(R)||c.associations.set(R,{}),c.associations.get(R).nodes=t,k!==null&&R.traverse(function(B){!B.isSkinnedMesh||B.bind(k,fZ)});for(let B=0,M=_.length;B<M;B++)R.add(_[B]);return R})}loadScene(t){const r=this.extensions,n=this.json.scenes[t],c=this,p=new xl;n.name&&(p.name=c.createUniqueName(n.name)),hh(p,n),n.extensions&&Km(r,p,n);const y=n.nodes||[],v=[];for(let E=0,_=y.length;E<_;E++)v.push(c.getDependency("node",y[E]));return Promise.all(v).then(function(E){for(let k=0,R=E.length;k<R;k++)p.add(E[k]);const _=k=>{const R=new Map;for(const[B,M]of c.associations)(B instanceof Ds||B instanceof Z0)&&R.set(B,M);return k.traverse(B=>{const M=c.associations.get(B);M!=null&&R.set(B,M)}),R};return c.associations=_(p),p})}}function cZ(a,t,r){const n=t.attributes,c=new na;if(n.POSITION!==void 0){const v=r.json.accessors[n.POSITION],E=v.min,_=v.max;if(E!==void 0&&_!==void 0){if(c.set(new wt(E[0],E[1],E[2]),new wt(_[0],_[1],_[2])),v.normalized){const k=xE(Lp[v.componentType]);c.min.multiplyScalar(k),c.max.multiplyScalar(k)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const p=t.targets;if(p!==void 0){const v=new wt,E=new wt;for(let _=0,k=p.length;_<k;_++){const R=p[_];if(R.POSITION!==void 0){const B=r.json.accessors[R.POSITION],M=B.min,F=B.max;if(M!==void 0&&F!==void 0){if(E.setX(Math.max(Math.abs(M[0]),Math.abs(F[0]))),E.setY(Math.max(Math.abs(M[1]),Math.abs(F[1]))),E.setZ(Math.max(Math.abs(M[2]),Math.abs(F[2]))),B.normalized){const H=xE(Lp[B.componentType]);E.multiplyScalar(H)}v.max(E)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}c.expandByVector(v)}a.boundingBox=c;const y=new Mu;c.getCenter(y.center),y.radius=c.min.distanceTo(c.max)/2,a.boundingSphere=y}function VT(a,t,r){const n=t.attributes,c=[];function p(y,v){return r.getDependency("accessor",y).then(function(E){a.setAttribute(v,E)})}for(const y in n){const v=AE[y]||y.toLowerCase();v in a.attributes||c.push(p(n[y],v))}if(t.indices!==void 0&&!a.index){const y=r.getDependency("accessor",t.indices).then(function(v){a.setIndex(v)});c.push(y)}return hh(a,t),cZ(a,t,r),Promise.all(c).then(function(){return t.targets!==void 0?sZ(a,t.targets,r):a})}function jT(a,t){let r=a.getIndex();if(r===null){const y=[],v=a.getAttribute("position");if(v!==void 0){for(let E=0;E<v.count;E++)y.push(E);a.setIndex(y),r=a.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),a}const n=r.count-2,c=[];if(t===KE)for(let y=1;y<=n;y++)c.push(r.getX(0)),c.push(r.getX(y)),c.push(r.getX(y+1));else for(let y=0;y<n;y++)y%2===0?(c.push(r.getX(y)),c.push(r.getX(y+1)),c.push(r.getX(y+2))):(c.push(r.getX(y+2)),c.push(r.getX(y+1)),c.push(r.getX(y)));c.length/3!==n&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const p=a.clone();return p.setIndex(c),p}var GT=Object.freeze(Object.defineProperty({__proto__:null,GLTFLoader:yD},Symbol.toStringTag,{value:"Module"}));const Xs={Handedness:Object.freeze({NONE:"none",LEFT:"left",RIGHT:"right"}),ComponentState:Object.freeze({DEFAULT:"default",TOUCHED:"touched",PRESSED:"pressed"}),ComponentProperty:Object.freeze({BUTTON:"button",X_AXIS:"xAxis",Y_AXIS:"yAxis",STATE:"state"}),ComponentType:Object.freeze({TRIGGER:"trigger",SQUEEZE:"squeeze",TOUCHPAD:"touchpad",THUMBSTICK:"thumbstick",BUTTON:"button"}),ButtonTouchThreshold:.05,AxisTouchThreshold:.1,VisualResponseProperty:Object.freeze({TRANSFORM:"transform",VISIBILITY:"visibility"})};async function AD(a){const t=await fetch(a);if(t.ok)return t.json();throw new Error(t.statusText)}async function hZ(a){if(!a)throw new Error("No basePath supplied");return await AD(`${a}/profilesList.json`)}async function dZ(a,t,r=null,n=!0){if(!a)throw new Error("No xrInputSource supplied");if(!t)throw new Error("No basePath supplied");const c=await hZ(t);let p;if(a.profiles.some(E=>{const _=c[E];return _&&(p={profileId:E,profilePath:`${t}/${_.path}`,deprecated:!!_.deprecated}),!!p}),!p){if(!r)throw new Error("No matching profile name found");const E=c[r];if(!E)throw new Error(`No matching profile name found and default profile "${r}" missing.`);p={profileId:r,profilePath:`${t}/${E.path}`,deprecated:!!E.deprecated}}const y=await AD(p.profilePath);let v;if(n){let E;if(a.handedness==="any"?E=y.layouts[Object.keys(y.layouts)[0]]:E=y.layouts[a.handedness],!E)throw new Error(`No matching handedness, ${a.handedness}, in profile ${p.profileId}`);E.assetPath&&(v=p.profilePath.replace("profile.json",E.assetPath))}return{profile:y,assetPath:v}}const pZ={xAxis:0,yAxis:0,button:0,state:Xs.ComponentState.DEFAULT};function mZ(a=0,t=0){let r=a,n=t;if(Math.sqrt(a*a+t*t)>1){const y=Math.atan2(t,a);r=Math.cos(y),n=Math.sin(y)}return{normalizedXAxis:r*.5+.5,normalizedYAxis:n*.5+.5}}class gZ{constructor(t){this.componentProperty=t.componentProperty,this.states=t.states,this.valueNodeName=t.valueNodeName,this.valueNodeProperty=t.valueNodeProperty,this.valueNodeProperty===Xs.VisualResponseProperty.TRANSFORM&&(this.minNodeName=t.minNodeName,this.maxNodeName=t.maxNodeName),this.value=0,this.updateFromComponent(pZ)}updateFromComponent({xAxis:t,yAxis:r,button:n,state:c}){const{normalizedXAxis:p,normalizedYAxis:y}=mZ(t,r);switch(this.componentProperty){case Xs.ComponentProperty.X_AXIS:this.value=this.states.includes(c)?p:.5;break;case Xs.ComponentProperty.Y_AXIS:this.value=this.states.includes(c)?y:.5;break;case Xs.ComponentProperty.BUTTON:this.value=this.states.includes(c)?n:0;break;case Xs.ComponentProperty.STATE:this.valueNodeProperty===Xs.VisualResponseProperty.VISIBILITY?this.value=this.states.includes(c):this.value=this.states.includes(c)?1:0;break;default:throw new Error(`Unexpected visualResponse componentProperty ${this.componentProperty}`)}}}class bZ{constructor(t,r){if(!t||!r||!r.visualResponses||!r.gamepadIndices||Object.keys(r.gamepadIndices).length===0)throw new Error("Invalid arguments supplied");this.id=t,this.type=r.type,this.rootNodeName=r.rootNodeName,this.touchPointNodeName=r.touchPointNodeName,this.visualResponses={},Object.keys(r.visualResponses).forEach(n=>{const c=new gZ(r.visualResponses[n]);this.visualResponses[n]=c}),this.gamepadIndices=Object.assign({},r.gamepadIndices),this.values={state:Xs.ComponentState.DEFAULT,button:this.gamepadIndices.button!==void 0?0:void 0,xAxis:this.gamepadIndices.xAxis!==void 0?0:void 0,yAxis:this.gamepadIndices.yAxis!==void 0?0:void 0}}get data(){return dl({id:this.id},this.values)}updateFromGamepad(t){if(this.values.state=Xs.ComponentState.DEFAULT,this.gamepadIndices.button!==void 0&&t.buttons.length>this.gamepadIndices.button){const r=t.buttons[this.gamepadIndices.button];this.values.button=r.value,this.values.button=this.values.button<0?0:this.values.button,this.values.button=this.values.button>1?1:this.values.button,r.pressed||this.values.button===1?this.values.state=Xs.ComponentState.PRESSED:(r.touched||this.values.button>Xs.ButtonTouchThreshold)&&(this.values.state=Xs.ComponentState.TOUCHED)}this.gamepadIndices.xAxis!==void 0&&t.axes.length>this.gamepadIndices.xAxis&&(this.values.xAxis=t.axes[this.gamepadIndices.xAxis],this.values.xAxis=this.values.xAxis<-1?-1:this.values.xAxis,this.values.xAxis=this.values.xAxis>1?1:this.values.xAxis,this.values.state===Xs.ComponentState.DEFAULT&&Math.abs(this.values.xAxis)>Xs.AxisTouchThreshold&&(this.values.state=Xs.ComponentState.TOUCHED)),this.gamepadIndices.yAxis!==void 0&&t.axes.length>this.gamepadIndices.yAxis&&(this.values.yAxis=t.axes[this.gamepadIndices.yAxis],this.values.yAxis=this.values.yAxis<-1?-1:this.values.yAxis,this.values.yAxis=this.values.yAxis>1?1:this.values.yAxis,this.values.state===Xs.ComponentState.DEFAULT&&Math.abs(this.values.yAxis)>Xs.AxisTouchThreshold&&(this.values.state=Xs.ComponentState.TOUCHED)),Object.values(this.visualResponses).forEach(r=>{r.updateFromComponent(this.values)})}}class yZ{constructor(t,r,n){if(!t)throw new Error("No xrInputSource supplied");if(!r)throw new Error("No profile supplied");this.xrInputSource=t,this.assetUrl=n,this.id=r.profileId,this.layoutDescription=r.layouts[t.handedness],this.components={},Object.keys(this.layoutDescription.components).forEach(c=>{const p=this.layoutDescription.components[c];this.components[c]=new bZ(c,p)}),this.updateFromGamepad()}get gripSpace(){return this.xrInputSource.gripSpace}get targetRaySpace(){return this.xrInputSource.targetRaySpace}get data(){const t=[];return Object.values(this.components).forEach(r=>{t.push(r.data)}),t}updateFromGamepad(){Object.values(this.components).forEach(t=>{t.updateFromGamepad(this.xrInputSource.gamepad)})}}const vZ="https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles",wZ="generic-trigger";class AZ extends Rn{constructor(){super(),this.motionController=null,this.envMap=null}setEnvironmentMap(t){return this.envMap==t?this:(this.envMap=t,this.traverse(r=>{r.isMesh&&(r.material.envMap=this.envMap,r.material.needsUpdate=!0)}),this)}updateMatrixWorld(t){super.updateMatrixWorld(t),this.motionController&&(this.motionController.updateFromGamepad(),Object.values(this.motionController.components).forEach(r=>{Object.values(r.visualResponses).forEach(n=>{const{valueNode:c,minNode:p,maxNode:y,value:v,valueNodeProperty:E}=n;!c||(E===Xs.VisualResponseProperty.VISIBILITY?c.visible=v:E===Xs.VisualResponseProperty.TRANSFORM&&(c.quaternion.slerpQuaternions(p.quaternion,y.quaternion,v),c.position.lerpVectors(p.position,y.position,v)))})}))}}function xZ(a,t){Object.values(a.components).forEach(r=>{const{type:n,touchPointNodeName:c,visualResponses:p}=r;if(n===Xs.ComponentType.TOUCHPAD)if(r.touchPointNode=t.getObjectByName(c),r.touchPointNode){const y=new Nf(.001),v=new Us({color:255}),E=new Kr(y,v);r.touchPointNode.add(E)}else console.warn(`Could not find touch dot, ${r.touchPointNodeName}, in touchpad component ${r.id}`);Object.values(p).forEach(y=>{const{valueNodeName:v,minNodeName:E,maxNodeName:_,valueNodeProperty:k}=y;if(k===Xs.VisualResponseProperty.TRANSFORM){if(y.minNode=t.getObjectByName(E),y.maxNode=t.getObjectByName(_),!y.minNode){console.warn(`Could not find ${E} in the model`);return}if(!y.maxNode){console.warn(`Could not find ${_} in the model`);return}}y.valueNode=t.getObjectByName(v),y.valueNode||console.warn(`Could not find ${v} in the model`)})})}function zT(a,t){xZ(a.motionController,t),a.envMap&&t.traverse(r=>{r.isMesh&&(r.material.envMap=a.envMap,r.material.needsUpdate=!0)}),a.add(t)}class EZ{constructor(t=null){this.gltfLoader=t,this.path=vZ,this._assetCache={},this.gltfLoader||(this.gltfLoader=new yD)}createControllerModel(t){const r=new AZ;let n=null;return t.addEventListener("connected",c=>{const p=c.data;p.targetRayMode!=="tracked-pointer"||!p.gamepad||dZ(p,this.path,wZ).then(({profile:y,assetPath:v})=>{r.motionController=new yZ(p,y,v);const E=this._assetCache[r.motionController.assetUrl];if(E)n=E.scene.clone(),zT(r,n);else{if(!this.gltfLoader)throw new Error("GLTFLoader not set.");this.gltfLoader.setPath(""),this.gltfLoader.load(r.motionController.assetUrl,_=>{this._assetCache[r.motionController.assetUrl]=_,n=_.scene.clone(),zT(r,n)},null,()=>{throw new Error(`Asset ${r.motionController.assetUrl} missing or malformed.`)})}}).catch(y=>{console.warn(y)})}),t.addEventListener("disconnected",()=>{r.motionController=null,r.remove(n),n=null}),r}}class _Z{constructor(t){const r=t.signals;let n=null,c=null,p=null;this.currentSession=null;const y=async E=>{const _=document.getElementById("sidebar");if(_.style.width="300px",_.style.height="700px",n===null){n=new Pq(p),t.sceneHelpers.add(n);const k=new Bq(_);k.position.set(1,1.5,-.5),k.rotation.y=-.5,k.scale.setScalar(2),n.add(k);const R=new wn;R.setFromPoints([new wt(0,0,0),new wt(0,0,-5)]);const B=p.xr.getController(0);B.add(new _o(R)),n.add(B);const M=p.xr.getController(1);M.add(new _o(R)),n.add(M);const F=new EZ,H=p.xr.getControllerGrip(0);H.add(F.createControllerModel(H)),n.add(H);const U=p.xr.getControllerGrip(1);U.add(F.createControllerModel(U)),n.add(U)}c=t.camera.clone(),n.visible=!0,this.currentSession=E,this.currentSession.addEventListener("end",v),await p.xr.setSession(this.currentSession)},v=async()=>{const E=document.getElementById("sidebar");E.style.width="",E.style.height="",t.camera.copy(c),n.visible=!1,this.currentSession.removeEventListener("end",v),this.currentSession=null,await p.xr.setSession(null),r.exitedVR.dispatch()};r.toggleVR.add(()=>{if(this.currentSession===null){const E={optionalFeatures:["local-floor","bounded-floor"]};navigator.xr.requestSession("immersive-vr",E).then(y)}else this.currentSession.end()}),r.rendererCreated.add(E=>{p=E,p.xr.enabled=!0})}}class kZ extends Mh{constructor(){super();const t=new fs;t.deleteAttribute("uv");const r=new q0({side:Ja}),n=new q0,c=new rb(16777215,5,28,2);c.position.set(.418,16.199,.3),this.add(c);const p=new Kr(t,r);p.position.set(-.757,13.219,.717),p.scale.set(31.713,28.305,28.591),this.add(p);const y=new Kr(t,n);y.position.set(-10.906,2.009,1.846),y.rotation.set(0,-.195,0),y.scale.set(2.328,7.905,4.651),this.add(y);const v=new Kr(t,n);v.position.set(-5.607,-.754,-.758),v.rotation.set(0,.994,0),v.scale.set(1.97,1.534,3.955),this.add(v);const E=new Kr(t,n);E.position.set(6.167,.857,7.803),E.rotation.set(0,.561,0),E.scale.set(3.927,6.285,3.687),this.add(E);const _=new Kr(t,n);_.position.set(-2.017,.018,6.124),_.rotation.set(0,.333,0),_.scale.set(2.002,4.566,2.064),this.add(_);const k=new Kr(t,n);k.position.set(2.291,-.756,-2.621),k.rotation.set(0,-.286,0),k.scale.set(1.546,1.552,1.496),this.add(k);const R=new Kr(t,n);R.position.set(-2.193,-.369,-5.547),R.rotation.set(0,.516,0),R.scale.set(3.875,3.487,2.986),this.add(R);const B=new Kr(t,mp(50));B.position.set(-16.116,14.37,8.208),B.scale.set(.1,2.428,2.739),this.add(B);const M=new Kr(t,mp(50));M.position.set(-16.109,18.021,-8.207),M.scale.set(.1,2.425,2.751),this.add(M);const F=new Kr(t,mp(17));F.position.set(14.904,12.198,-1.832),F.scale.set(.15,4.265,6.331),this.add(F);const H=new Kr(t,mp(43));H.position.set(-.462,8.89,14.52),H.scale.set(4.38,5.441,.088),this.add(H);const U=new Kr(t,mp(20));U.position.set(3.235,11.486,-12.541),U.scale.set(2.5,2,.1),this.add(U);const Z=new Kr(t,mp(100));Z.position.set(0,20,0),Z.scale.set(1,.1,1),this.add(Z)}}function mp(a){const t=new Us;return t.color.setScalar(a),t}new wt;new L0;new wt;class xD extends Rn{constructor(t=document.createElement("div")){super(),this.element=t,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(r){r.element instanceof Element&&r.element.parentNode!==null&&r.element.parentNode.removeChild(r.element)})})}copy(t,r){return super.copy(t,r),this.element=t.element.cloneNode(!0),this}}xD.prototype.isCSS3DObject=!0;class CZ extends xD{constructor(t){super(t),this.rotation2D=0}copy(t,r){return super.copy(t,r),this.rotation2D=t.rotation2D,this}}CZ.prototype.isCSS3DSprite=!0;new Ji;new Ji;const cw={ROOM:{SIZE:{X:{MIN:-100,MAX:100},Y:{MIN:-100,MAX:100},Z:{MIN:-100,MAX:100}}},OBJECT:{EDIT:{SCALE:{RANGE:{X:{MIN:.1,MAX:40},Y:{MIN:.1,MAX:40},Z:{MIN:.1,MAX:40}}}}}};function SZ(a){const t=a.signals,r=new on;r.setId("viewport"),r.setPosition("absolute"),r.add(new Rq(a));let n=null,c=null;const p=a.camera,y=a.scene,v=a.sceneHelpers;let E=!0;const _=new xl,k=new ow(40,40,8947848);k.material.color.setHex(8947848),k.material.vertexColors=!1,_.add(k);const R=new ow(40,8,2236962);R.material.color.setHex(2236962),R.material.depthFunc=ZE,R.material.vertexColors=!1,_.add(R);const B=new on;B.setId("viewerContainer");const M=new Dq(p,B);r.add(B);const F=new _Z(a),H=new na,U=new TR(H);U.material.depthTest=!1,U.material.transparent=!0,U.visible=!1,v.add(U);let Z=null,K=null,fe=null;const oe=new pD(p,r.dom);function we($e,Et,Dt){const{X:er,Y:Gt,Z:Ht}=cw.ROOM.SIZE;return new wt($e>er.MAX?er.MAX:$e<er.MIN?er.MIN:$e,Et>Gt.MAX?Gt.MAX:Et<Gt.MIN?Gt.MIN:Et,Dt>Ht.MAX?Ht.MAX:Dt<Ht.MIN?Ht.MIN:Dt)}function be($e,Et,Dt){const{X:er,Y:Gt,Z:Ht}=cw.OBJECT.EDIT.SCALE.RANGE;return new wt($e>er.MAX?er.MAX:$e<er.MIN?er.MIN:$e,Et>Gt.MAX?Gt.MAX:Et<Gt.MIN?Gt.MIN:Et,Dt>Ht.MAX?Ht.MAX:Dt<Ht.MIN?Ht.MIN:Dt)}oe.setTranslationSnap(.01),oe.setRotationSnap(1*(Math.PI/180)),oe.setScaleSnap(.1),oe.addEventListener("change",function(){let $e=oe.object;if($e!==void 0){H.setFromObject($e,!0);const Et=a.helpers[$e.id];Et!==void 0&&Et.isSkeletonHelper!==!0&&Et.update(),t.refreshSidebarObject3D.dispatch($e)}ct()}),oe.addEventListener("mouseDown",function(){const $e=oe.object;Z=$e.position.clone(),K=$e.rotation.clone(),fe=$e.scale.clone(),Ue.enabled=!1}),oe.addEventListener("mouseUp",function(){const $e=oe.object;if($e!==void 0)switch(oe.getMode()){case"translate":if(!Z.equals($e.position)){const{x:Et,y:Dt,z:er}=$e.position;a.execute(new oc(a,$e,we(Et,Dt,er),Z))}break;case"rotate":K.equals($e.rotation)||a.execute(new Bp(a,$e,$e.rotation,K));break;case"scale":if(!fe.equals($e.scale)){const{x:Et,y:Dt,z:er}=$e.scale;["Entrance","Exit","Portal"].includes($e.userData.type)&&(Et!==1||Dt!==1||er!==1)?($e.scale.copy(new wt(1,1,1)),$e.updateMatrixWorld(!0),a.signals.objectChanged.dispatch($e)):a.execute(new Ip(a,$e,be(Et,Dt,er),fe))}break}Ue.enabled=!0}),v.add(oe);const ve=new sb,ne=new $r;function ae(){p.aspect=r.dom.offsetWidth/r.dom.offsetHeight,p.updateProjectionMatrix()}function ye($e){ne.set($e.x*2-1,-($e.y*2)+1),ve.setFromCamera(ne,p);const Et=[];return y.traverseVisible(function(Dt){Et.push(Dt)}),v.traverseVisible(function(Dt){Dt.name==="picker"&&Et.push(Dt)}),ve.intersectObjects(Et,!1)}const de=new $r,xe=new $r,le=new $r;function re($e,Et,Dt){const er=$e.getBoundingClientRect();return[(Et-er.left)/er.width,(Dt-er.top)/er.height]}function he(){if(de.distanceTo(xe)===0){const $e=ye(xe);if($e.length>0){const Et=$e[0].object;Et.userData.object!==void 0?a.select(Et.userData.object):Et.parent&&(Et.parent.type==="Group"||Et.parent.userData.type==="Model")&&(!a.selected||a.selected.uuid&&a.selected.uuid!==Et.parent.uuid&&a.selected.uuid!==Et.uuid)?a.select(Et.parent):a.select(Et)}else a.select(null);ct()}}function me($e){const Et=re(r.dom,$e.clientX,$e.clientY);de.fromArray(Et),document.addEventListener("mouseup",Re)}function Re($e){const Et=re(r.dom,$e.clientX,$e.clientY);xe.fromArray(Et),he(),document.removeEventListener("mouseup",Re)}function Ie($e){const Et=$e.changedTouches[0],Dt=re(r.dom,Et.clientX,Et.clientY);de.fromArray(Dt),document.addEventListener("touchend",Ne)}function Ne($e){const Et=$e.changedTouches[0],Dt=re(r.dom,Et.clientX,Et.clientY);xe.fromArray(Dt),he(),document.removeEventListener("touchend",Ne)}function Qe($e){var er,Gt;const Et=re(r.dom,$e.clientX,$e.clientY);le.fromArray(Et);const Dt=ye(le);if(Dt.length>0){const Ht=Dt[0];if((Gt=(er=Ht.object)==null?void 0:er.userData)!=null&&Gt.locked)return;t.objectFocused.dispatch(Ht.object)}}r.dom.addEventListener("mousedown",me),r.dom.addEventListener("touchstart",Ie),r.dom.addEventListener("dblclick",Qe);const Ue=new uw(p,r.dom);Ue.addEventListener("change",function(){t.cameraChanged.dispatch(p),t.refreshSidebarObject3D.dispatch(p)}),M.controls=Ue,t.editorCleared.add(function(){Ue.center.set(0,0,0),ct()}),t.transformModeChanged.add(function($e){(a==null?void 0:a.selected)&&!["Portal","Exit","Entrance"].includes(a.selected.userData.type)&&oe.setMode($e)}),t.snapChanged.add(function($e){oe.setTranslationSnap($e)}),t.spaceChanged.add(function($e){oe.setSpace($e)}),t.rendererUpdated.add(function(){y.traverse(function($e){$e.material!==void 0&&($e.material.needsUpdate=!0)}),ct()}),t.rendererCreated.add(function($e){if(n!==null&&(n.setAnimationLoop(null),n.dispose(),c.dispose(),r.dom.removeChild(n.domElement)),n=$e,n.setAnimationLoop(ot),n.setClearColor(11184810),window.matchMedia){const Et=window.matchMedia("(prefers-color-scheme: dark)");Et.addEventListener("change",function(Dt){n.setClearColor(Dt.matches?3355443:11184810),WT(k,R,Dt.matches?[2236962,8947848]:[8947848,2631720]),ct()}),n.setClearColor(Et.matches?3355443:11184810),WT(k,R,Et.matches?[2236962,8947848]:[8947848,2631720])}n.setPixelRatio(window.devicePixelRatio),n.setSize(r.dom.offsetWidth,r.dom.offsetHeight),c=new nw(n),c.compileEquirectangularShader(),r.dom.appendChild(n.domElement),ct()}),t.sceneGraphChanged.add(function(){ct()}),t.cameraChanged.add(function(){ct()}),t.objectSelected.add(function($e){U.visible=!1,oe.detach(),$e!==null&&$e!==y&&$e!==p&&(H.setFromObject($e,!0),H.isEmpty()===!1&&(U.visible=!0),oe.attach($e)),ct()}),t.objectFocused.add(function($e){Ue.focus($e)}),t.geometryChanged.add(function($e){$e!==void 0&&H.setFromObject($e,!0),ct()}),t.objectChanged.add(function($e){a.selected===$e&&H.setFromObject($e,!0),$e.isPerspectiveCamera&&$e.updateProjectionMatrix(),a.helpers[$e.id]!==void 0&&a.helpers[$e.id].update(),ct()}),t.objectRemoved.add(function($e){Ue.enabled=!0,$e===oe.object&&oe.detach()}),t.materialChanged.add(function(){ct()}),t.sceneBackgroundChanged.add(function($e,Et,Dt,er){switch($e){case"None":y.background=null;break;case"Color":y.background=new _i(Et);break;case"Texture":Dt&&(y.background=Dt);break;case"Equirectangular":er&&(er.mapping=Wd,y.background=er);break}ct()}),t.sceneEnvironmentChanged.add(function($e,Et){switch($e){default:y.environment=c.fromScene(new kZ,.04).texture;break}ct()}),t.sceneFogChanged.add(function($e,Et,Dt,er,Gt){switch($e){case"None":y.fog=null;break;case"Fog":y.fog=new v1(Et,Dt,er);break;case"FogExp2":y.fog=new y1(Et,Gt);break}ct()}),t.sceneFogSettingsChanged.add(function($e,Et,Dt,er,Gt){switch($e){case"Fog":y.fog.color.setHex(Et),y.fog.near=Dt,y.fog.far=er;break;case"FogExp2":y.fog.color.setHex(Et),y.fog.density=Gt;break}ct()}),t.viewportCameraChanged.add(function(){const $e=a.viewportCamera;$e.isPerspectiveCamera?($e.aspect=a.camera.aspect,$e.projectionMatrix.copy(a.camera.projectionMatrix)):$e.isOrthographicCamera,Ue.enabled=$e===a.camera,ct()}),t.exitedVR.add(ct),t.windowResize.add(function(){ae(),n.setSize(r.dom.offsetWidth,r.dom.offsetHeight),ct()}),t.showGridChanged.add(function($e){_.visible=$e,ct()}),t.showHelpersChanged.add(function($e){E=$e,oe.enabled=$e,ct()}),t.cameraResetted.add(ae);let ce=0;const Me=new B8;function ot(){const $e=a.mixer,Et=Me.getDelta();let Dt=!1;const er=$e.stats.actions;(er.inUse>0||ce>0)&&(ce=er.inUse,$e.update(Et),Dt=!0),M.animating===!0&&(M.update(Et),Dt=!0),F.currentSession!==null&&(Dt=!0),Dt===!0&&ct()}let Se=0,Xe=0;function ct(){Se=performance.now(),y.add(_),n.setViewport(0,0,r.dom.offsetWidth,r.dom.offsetHeight),n.render(y,a.viewportCamera),y.remove(_),p===a.viewportCamera&&(n.autoClear=!1,E===!0&&n.render(v,p),F.currentSession===null&&M.render(n),n.autoClear=!0),Xe=performance.now(),a.signals.sceneRendered.dispatch(Xe-Se)}return r}function WT(a,t,r){a.material.color.setHex(r[0]),t.material.color.setHex(r[1])}var TZ="/assets/translate.d930c96a.svg",MZ="/assets/rotate.a277ca50.svg",RZ="/assets/scale.d25ce50c.svg";function DZ(a){const t=a.signals,r=a.strings,n=new on;n.setId("toolbar");const c=document.createElement("img");c.title=r.getKey("toolbar/translate"),c.src=TZ;const p=new Ba;p.dom.className="Button selected",p.dom.appendChild(c),p.onClick(function(){t.transformModeChanged.dispatch("translate")}),n.add(p);const y=document.createElement("img");y.title=r.getKey("toolbar/rotate"),y.src=MZ;const v=new Ba;v.dom.appendChild(y),v.onClick(function(){t.transformModeChanged.dispatch("rotate")}),n.add(v);const E=document.createElement("img");E.title=r.getKey("toolbar/scale"),E.src=RZ;const _=new Ba;_.dom.appendChild(E),_.onClick(function(){t.transformModeChanged.dispatch("scale")}),n.add(_);const k=new Ih(!1);return k.dom.title=r.getKey("toolbar/local"),k.onChange(function(){}),t.transformModeChanged.add(function(R){if(!["Portal","Exit","Entrance"].includes(a.selected.userData.type))switch(p.dom.classList.remove("selected"),v.dom.classList.remove("selected"),_.dom.classList.remove("selected"),R){case"translate":p.dom.classList.add("selected");break;case"rotate":v.dom.classList.add("selected");break;case"scale":_.dom.classList.add("selected");break}}),n}function BZ(a){const t=a.strings,r=new on;r.setId("communicatebar");const n=new Ba().onClick(Z);n.setId("triggerBtn"),r.add(n),n.dom.insertBefore(Ys().getKey("sidebar/trigger/open"),n.firstChild);const c=new on;c.setClass("options communicate"),r.add(c);const p=new Xo;let y=new B0("communicate/emoji",()=>{});p.add(y);const v=new Xo;let E=new on;E.setClass("chatbox");let _=new on;_.setClass("chatTopbar"),_.add(new si(t.getKey("communicate/chat/top"))),_.add(new B0("communicate/chat/cross",K)),E.add(_);let k=new on;k.setId("chatContent"),k.setClass("chatContent"),E.add(k);let R=new on;R.setClass("chatEnter");let B=new Eu("");B.setId("chatInput"),B.setWidth("200px").setFontSize("12px"),R.add(B);let M=new Ba(t.getKey("communicate/chat/send"));M.onClick(function(){if(B.getValue()){let fe=document.createElement("div");fe.className="Row",fe.innerHTML=`${window.userName}: ${B.getValue()}`;let oe=document.querySelector("#chatContent");oe.appendChild(fe),oe.scrollTop=oe.scrollHeight,console.log("%c Socket emit Communicate:Chat ","color: black; background: #9fa4dd;",window.assignmentSceneName,window.userName,B.getValue()),window.socket.emit("Communicate:Chat",{assignmentName:window.assignmentSceneName,userName:window.userName,chatContent:B.getValue(),time:new Date});let we=document.querySelector("#chatInput");console.log(we),we.value=""}}),R.add(M),E.add(R),v.add(E);let F=new B0("communicate/chat",K);v.add(F),c.add(v);const H=new Xo;let U=new B0("communicate/mic",()=>{});H.add(U);function Z(){r.getClass().includes("open")?r.removeClass("open"):r.addClass("open"),setTimeout(()=>{n.dom.replaceChild(Ys().getKey(r.getClass().includes("open")?"sidebar/trigger/close":"sidebar/trigger/open"),n.dom.firstChild)},900)}function K(){E.getClass().includes("open")?E.removeClass("open"):E.addClass("open")}return r}function IZ(a){const t=a.signals,r=new on;r.setId("script"),r.setPosition("absolute"),r.setBackgroundColor("#272822"),r.setDisplay("none");const n=new on;n.setPadding("10px"),r.add(n);const c=new si().setColor("#fff");n.add(c);const p=function(){const K=document.createElementNS("http://www.w3.org/2000/svg","svg");K.setAttribute("width",32),K.setAttribute("height",32);const fe=document.createElementNS("http://www.w3.org/2000/svg","path");return fe.setAttribute("d","M 12,12 L 22,22 M 22,12 12,22"),fe.setAttribute("stroke","#fff"),K.appendChild(fe),K}(),y=new Vs(p);y.setPosition("absolute"),y.setTop("3px"),y.setRight("1px"),y.setCursor("pointer"),y.onClick(function(){r.setDisplay("none")}),n.add(y);let v;t.rendererCreated.add(function(K){v=K});let E,_,k,R;const B=CodeMirror(r.dom,{value:"",lineNumbers:!0,matchBrackets:!0,indentWithTabs:!0,tabSize:4,indentUnit:4,hintOptions:{completeSingle:!1}});B.setOption("theme","monokai"),B.on("change",function(){B.state.focused!==!1&&(clearTimeout(E),E=setTimeout(function(){const K=B.getValue();if(!U(K))return;if(typeof k=="object"){K!==k.source&&a.execute(new cD(a,R,k,"source",K));return}if(k!=="programInfo")return;const fe=JSON.parse(K);if(JSON.stringify(R.material.defines)!==JSON.stringify(fe.defines)){const oe=new ga(a,R,"defines",fe.defines);oe.updatable=!1,a.execute(oe)}if(JSON.stringify(R.material.uniforms)!==JSON.stringify(fe.uniforms)){const oe=new ga(a,R,"uniforms",fe.uniforms);oe.updatable=!1,a.execute(oe)}if(JSON.stringify(R.material.attributes)!==JSON.stringify(fe.attributes)){const oe=new ga(a,R,"attributes",fe.attributes);oe.updatable=!1,a.execute(oe)}},300))}),B.getWrapperElement().addEventListener("keydown",function(K){K.stopPropagation()});const F=[],H=[],U=function(K){let fe,oe=[];return B.operation(function(){for(;F.length>0;)B.removeLineClass(F.shift(),"background","errorLine");for(;H.length>0;)B.removeLineWidget(H.shift());switch(_){case"javascript":try{oe=esprima.parse(K,{tolerant:!0}).errors}catch(ve){oe.push({lineNumber:ve.lineNumber-1,message:ve.message})}for(let ve=0;ve<oe.length;ve++){const ne=oe[ve];ne.message=ne.message.replace(/Line [0-9]+: /,"")}break;case"json":oe=[],jsonlint.parseError=function(ve,ne){ve=ve.split(`
`)[3],oe.push({lineNumber:ne.loc.first_line-1,message:ve})};try{jsonlint.parse(K)}catch{}break;case"glsl":R.material[k]=K,R.material.needsUpdate=!0,t.materialChanged.dispatch(R.material);const we=v.info.programs;fe=!0;const be=/^(?:ERROR|WARNING): \d+:(\d+): (.*)/g;for(let ve=0,ne=we.length;ve!==ne;++ve){const ae=we[ve].diagnostics;if(ae===void 0||ae.material!==R.material)continue;ae.runnable||(fe=!1);const ye=ae[k],de=ye.prefix.split(/\r\n|\r|\n/).length;for(;;){const xe=be.exec(ye.log);if(xe===null)break;oe.push({lineNumber:xe[1]-de,message:xe[2]})}break}}for(let we=0;we<oe.length;we++){const be=oe[we],ve=document.createElement("div");ve.className="esprima-error",ve.textContent=be.message;const ne=Math.max(be.lineNumber,0);F.push(ne),B.addLineClass(ne,"background","errorLine");const ae=B.addLineWidget(ne,ve);H.push(ae)}return fe!==void 0?fe:oe.length===0})},Z=new CodeMirror.TernServer({caseInsensitive:!0,plugins:{threejs:null}});return B.setOption("extraKeys",{"Ctrl-Space":function(K){Z.complete(K)},"Ctrl-I":function(K){Z.showType(K)},"Ctrl-O":function(K){Z.showDocs(K)},"Alt-.":function(K){Z.jumpToDef(K)},"Alt-,":function(K){Z.jumpBack(K)},"Ctrl-Q":function(K){Z.rename(K)},"Ctrl-.":function(K){Z.selectName(K)}}),B.on("cursorActivity",function(K){_==="javascript"&&Z.updateArgHints(K)}),B.on("keypress",function(K,fe){if(_!=="javascript")return;const oe=String.fromCharCode(fe.which||fe.keyCode);/[\w\.]/.exec(oe)&&Z.complete(K)}),t.editorCleared.add(function(){r.setDisplay("none")}),t.editScript.add(function(K,fe){let oe,we,be;if(typeof fe=="object")oe="javascript",we=fe.name,be=fe.source,c.setValue(K.name+" / "+we);else{switch(fe){case"vertexShader":oe="glsl",we="Vertex Shader",be=K.material.vertexShader||"";break;case"fragmentShader":oe="glsl",we="Fragment Shader",be=K.material.fragmentShader||"";break;case"programInfo":oe="json",we="Program Properties";const ve={defines:K.material.defines,uniforms:K.material.uniforms,attributes:K.material.attributes};be=JSON.stringify(ve,null,"	")}c.setValue(K.material.name+" / "+we)}_=oe,k=fe,R=K,r.setDisplay(""),B.setValue(be),B.clearHistory(),oe==="json"&&(oe={name:"javascript",json:!0}),B.setOption("mode",oe)}),t.scriptRemoved.add(function(K){k===K&&r.setDisplay("none")}),r}var ED={Player:function(){var a=new THREE.WebGLRenderer({antialias:!0});a.setPixelRatio(window.devicePixelRatio),a.outputEncoding=THREE.sRGBEncoding;var t=new THREE.ObjectLoader,r,n,c=VRButton.createButton(a),p={},y=document.createElement("div");y.appendChild(a.domElement),this.dom=y,this.width=500,this.height=500,this.load=function(Z){var K=Z.project;K.vr!==void 0&&(a.xr.enabled=K.vr),K.shadows!==void 0&&(a.shadowMap.enabled=K.shadows),K.shadowType!==void 0&&(a.shadowMap.type=K.shadowType),K.toneMapping!==void 0&&(a.toneMapping=K.toneMapping),K.toneMappingExposure!==void 0&&(a.toneMappingExposure=K.toneMappingExposure),K.physicallyCorrectLights!==void 0&&(a.physicallyCorrectLights=K.physicallyCorrectLights),this.setScene(t.parse(Z.scene)),this.setCamera(t.parse(Z.camera)),p={init:[],start:[],stop:[],keydown:[],keyup:[],pointerdown:[],pointerup:[],pointermove:[],update:[]};var fe="player,renderer,scene,camera",oe={};for(var we in p)fe+=","+we,oe[we]=we;var be=JSON.stringify(oe).replace(/\"/g,"");for(var ve in Z.scripts){var ne=n.getObjectByProperty("uuid",ve,!0);if(ne===void 0){console.warn("APP.Player: Script without object.",ve);continue}for(var ae=Z.scripts[ve],ye=0;ye<ae.length;ye++){var de=ae[ye],xe=new Function(fe,de.source+`
return `+be+";").bind(ne)(this,a,n,r);for(var le in xe)if(xe[le]!==void 0){if(p[le]===void 0){console.warn("APP.Player: Event type not supported (",le,")");continue}p[le].push(xe[le].bind(ne))}}}v(p.init,arguments)},this.setCamera=function(Z){r=Z,r.aspect=this.width/this.height,r.updateProjectionMatrix()},this.setScene=function(Z){n=Z},this.setPixelRatio=function(Z){a.setPixelRatio(Z)},this.setSize=function(Z,K){this.width=Z,this.height=K,r&&(r.aspect=this.width/this.height,r.updateProjectionMatrix()),a.setSize(Z,K)};function v(Z,K){for(var fe=0,oe=Z.length;fe<oe;fe++)Z[fe](K)}var E,_,k;function R(){E=performance.now();try{v(p.update,{time:E-_,delta:E-k})}catch(Z){console.error(Z.message||Z,Z.stack||"")}a.render(n,r),k=E}this.play=function(){a.xr.enabled&&y.append(c),_=k=performance.now(),document.addEventListener("keydown",B),document.addEventListener("keyup",M),document.addEventListener("pointerdown",F),document.addEventListener("pointerup",H),document.addEventListener("pointermove",U),v(p.start,arguments),a.setAnimationLoop(R)},this.stop=function(){a.xr.enabled&&c.remove(),document.removeEventListener("keydown",B),document.removeEventListener("keyup",M),document.removeEventListener("pointerdown",F),document.removeEventListener("pointerup",H),document.removeEventListener("pointermove",U),v(p.stop,arguments),a.setAnimationLoop(null)},this.render=function(Z){v(p.update,{time:Z*1e3,delta:0}),a.render(n,r)},this.dispose=function(){a.dispose(),r=void 0,n=void 0};function B(Z){v(p.keydown,Z)}function M(Z){v(p.keyup,Z)}function F(Z){v(p.pointerdown,Z)}function H(Z){v(p.pointerup,Z)}function U(Z){v(p.pointermove,Z)}}};function LZ(a){const t=a.signals,r=new on;r.setId("player"),r.setPosition("absolute"),r.setDisplay("none");const n=new ED.Player;return r.dom.appendChild(n.dom),window.addEventListener("resize",function(){n.setSize(r.dom.clientWidth,r.dom.clientHeight)}),t.windowResize.add(function(){n.setSize(r.dom.clientWidth,r.dom.clientHeight)}),t.startPlayer.add(function(){r.setDisplay(""),n.load(a.toJSON()),n.setSize(r.dom.clientWidth,r.dom.clientHeight),n.play()}),t.stopPlayer.add(function(){r.setDisplay("none"),n.stop(),n.dispose()}),r}var hw={},$w={},Uf={};const PZ="bold|bolder|lighter|[1-9]00",NZ="italic|oblique",FZ="small-caps",OZ="ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",HZ="px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q",QT=`'([^']+)'|"([^"]+)"|[\\w\\s-]+`,UZ=new RegExp(`(${PZ}) +`,"i"),VZ=new RegExp(`(${NZ}) +`,"i"),jZ=new RegExp(`(${FZ}) +`,"i"),GZ=new RegExp(`(${OZ}) +`,"i"),zZ=new RegExp(`([\\d\\.]+)(${HZ}) *((?:${QT})( *, *(?:${QT}))*)`),qx={},WZ=16;var QZ=a=>{if(qx[a])return qx[a];const t=zZ.exec(a);if(!t)return;const r={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(t[1]),unit:t[2],family:t[3].replace(/["']/g,"").replace(/ *, */g,",")};let n,c,p,y;const v=a.substring(0,t.index);switch((n=UZ.exec(v))&&(r.weight=n[1]),(c=VZ.exec(v))&&(r.style=c[1]),(p=jZ.exec(v))&&(r.variant=p[1]),(y=GZ.exec(v))&&(r.stretch=y[1]),r.unit){case"pt":r.size/=.75;break;case"pc":r.size*=16;break;case"in":r.size*=96;break;case"cm":r.size*=96/2.54;break;case"mm":r.size*=96/25.4;break;case"%":break;case"em":case"rem":r.size*=WZ/.75;break;case"q":r.size*=96/25.4/4;break}return qx[a]=r};const JZ=QZ;Uf.parseFont=JZ;Uf.createCanvas=function(a,t){return Object.assign(document.createElement("canvas"),{width:a,height:t})};Uf.createImageData=function(a,t,r){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(a);case 2:return new ImageData(a,t);default:return new ImageData(a,t,r)}};Uf.loadImage=function(a,t){return new Promise(function(r,n){const c=Object.assign(document.createElement("img"),t);function p(){c.onload=null,c.onerror=null}c.onload=function(){p(),r(c)},c.onerror=function(){p(),n(new Error('Failed to load the image "'+a+'"'))},c.src=a})};/*! simple-concat. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var XZ=function(a,t){var r=[];a.on("data",function(n){r.push(n)}),a.once("end",function(){t&&t(null,Buffer.concat(r)),t=null}),a.once("error",function(n){t&&t(n),t=null})},qZ={},ZZ=Object.freeze(Object.defineProperty({__proto__:null,default:qZ},Symbol.toStringTag,{value:"Module"})),u2=zJ(ZZ),Z8={exports:{}},YZ=_D;function _D(a,t){if(a&&t)return _D(a)(t);if(typeof a!="function")throw new TypeError("need wrapper function");return Object.keys(a).forEach(function(n){r[n]=a[n]}),r;function r(){for(var n=new Array(arguments.length),c=0;c<n.length;c++)n[c]=arguments[c];var p=a.apply(this,n),y=n[n.length-1];return typeof p=="function"&&p!==y&&Object.keys(y).forEach(function(v){p[v]=y[v]}),p}}var kD=YZ;Z8.exports=kD(Uv);Z8.exports.strict=kD(CD);Uv.proto=Uv(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Uv(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return CD(this)},configurable:!0})});function Uv(a){var t=function(){return t.called?t.value:(t.called=!0,t.value=a.apply(this,arguments))};return t.called=!1,t}function CD(a){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=a.apply(this,arguments)},r=a.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}var KZ=f1;const $Z=XZ,JT=u2,eY=u2,tY=u2,rY=Z8.exports,iY=u2,XT=u2,Zx=a=>a!==null&&typeof a=="object"&&typeof a.pipe=="function";function f1(a,t){if(a=Object.assign({maxRedirects:10},typeof a=="string"?{url:a}:a),t=rY(t),a.url){const{hostname:v,port:E,protocol:_,auth:k,path:R}=XT.parse(a.url);delete a.url,!v&&!E&&!_&&!k?a.path=R:Object.assign(a,{hostname:v,port:E,protocol:_,auth:k,path:R})}const r={"accept-encoding":"gzip, deflate"};a.headers&&Object.keys(a.headers).forEach(v=>r[v.toLowerCase()]=a.headers[v]),a.headers=r;let n;a.body?n=a.json&&!Zx(a.body)?JSON.stringify(a.body):a.body:a.form&&(n=typeof a.form=="string"?a.form:iY.stringify(a.form),a.headers["content-type"]="application/x-www-form-urlencoded"),n&&(a.method||(a.method="POST"),Zx(n)||(a.headers["content-length"]=Buffer.byteLength(n)),a.json&&!a.form&&(a.headers["content-type"]="application/json")),delete a.body,delete a.form,a.json&&(a.headers.accept="application/json"),a.method&&(a.method=a.method.toUpperCase());const c=a.hostname,y=(a.protocol==="https:"?tY:eY).request(a,v=>{if(a.followRedirects!==!1&&v.statusCode>=300&&v.statusCode<400&&v.headers.location){a.url=v.headers.location,delete a.headers.host,v.resume();const _=XT.parse(a.url).hostname;return _!==null&&_!==c&&(delete a.headers.cookie,delete a.headers.authorization),a.method==="POST"&&[301,302].includes(v.statusCode)&&(a.method="GET",delete a.headers["content-length"],delete a.headers["content-type"]),a.maxRedirects--===0?t(new Error("too many redirects")):f1(a,t)}const E=typeof JT=="function"&&a.method!=="HEAD";t(null,E?JT(v):v)});return y.on("timeout",()=>{y.abort(),t(new Error("Request timed out"))}),y.on("error",t),Zx(n)?n.on("error",t).pipe(y):y.end(n),y}f1.concat=(a,t)=>f1(a,(r,n)=>{if(r)return t(r);$Z(n,(c,p)=>{if(c)return t(c);if(a.json)try{p=JSON.parse(p.toString())}catch(y){return t(y,n,p)}t(null,n,p)})});["get","post","put","patch","head","delete"].forEach(a=>{f1[a]=(t,r)=>(typeof t=="string"&&(t={url:t}),f1(Object.assign({method:a.toUpperCase()},t),r))});var nY=Ks&&Ks.__createBinding||(Object.create?function(a,t,r,n){n===void 0&&(n=r),Object.defineProperty(a,n,{enumerable:!0,get:function(){return t[r]}})}:function(a,t,r,n){n===void 0&&(n=r),a[n]=t[r]}),sY=Ks&&Ks.__setModuleDefault||(Object.create?function(a,t){Object.defineProperty(a,"default",{enumerable:!0,value:t})}:function(a,t){a.default=t}),oY=Ks&&Ks.__importStar||function(a){if(a&&a.__esModule)return a;var t={};if(a!=null)for(var r in a)r!=="default"&&Object.prototype.hasOwnProperty.call(a,r)&&nY(t,a,r);return sY(t,a),t},aY=Ks&&Ks.__awaiter||function(a,t,r,n){function c(p){return p instanceof r?p:new r(function(y){y(p)})}return new(r||(r=Promise))(function(p,y){function v(k){try{_(n.next(k))}catch(R){y(R)}}function E(k){try{_(n.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):c(k.value).then(v,E)}_((n=n.apply(a,t||[])).next())})};Object.defineProperty($w,"__esModule",{value:!0});$w.getCanvasImage=void 0;const $m=oY(Uf),lY=KZ,fY=a=>aY(void 0,void 0,void 0,function*(){if(a.buffer){const t=`data:image/jpg;base64,${a.buffer.toString("base64")}`;return yield $m.loadImage(t)}else if(a.arrayBuffer){const t=`data:image/jpg;base64,${Buffer.from(a.arrayBuffer).toString("base64")}`;return yield $m.loadImage(t)}else if(a.url){try{const r=`data:image/jpg;base64,${(yield new Promise((n,c)=>{lY.concat(a.url,(p,y,v)=>{if(p)return c(p);if(y.statusCode!==200)return c(new Error("Invalid Image"));n(v)})})).toString("base64")}`;return yield $m.loadImage(r)}catch{}yield new Promise(t=>setTimeout(t,1e3))}else if(a.base64){const t=a.base64;if(t.indexOf("data:")===0)return yield $m.loadImage(t);{const r=`data:image/jpg;base64,${t}`;return yield $m.loadImage(r)}}throw new Error("Invalid Image")});$w.getCanvasImage=fY;var eA={},_1={},tA={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.hrtime=a.parseHexTo255=a.parseColor=a.parseColorString=a.getFontString=void 0;const t=y=>{const v=[];return y.fontStyle&&(typeof y.fontStyle=="boolean"?v.push("italic"):v.push(y.fontStyle)),y.fontWeight&&(typeof y.fontWeight=="boolean"?v.push("bold"):v.push(y.fontWeight.toString())),v.push(`${y.fontSize}px`),v.push(`"${y.fontFamily}"`),v.join(" ")};a.getFontString=t;const r=y=>{const{r:v,g:E,b:_,a:k}=a.parseColor(y);return`rgba(${v}, ${E}, ${_}, ${k})`};a.parseColorString=r;const n=y=>{if(typeof y=="string"){y=y.replace(/^0x/i,""),y=y.replace(/^#/,"");const v=a.parseHexTo255(y.substr(0,2),0),E=a.parseHexTo255(y.substr(2,2),0),_=a.parseHexTo255(y.substr(4,2),0),k=a.parseHexTo255(y.substr(6,2),255)/255;return{r:v,g:E,b:_,a:k}}else if(y<=16777215){const v=y>>16&255,E=y>>8&255,_=y>>0&255;return{r:v,g:E,b:_,a:1}}else{const v=y>>24&255,E=y>>16&255,_=y>>8&255,k=(y>>0&255)/255;return{r:v,g:E,b:_,a:k}}};a.parseColor=n;const c=(y,v)=>{try{if(y){const E=parseInt(`0x${y}`,16);if(!isNaN(E))return Math.max(0,Math.min(E,255))}}catch{}return v};a.parseHexTo255=c;const p=y=>{if(process&&process.hrtime)return process.hrtime(y);{const v=window.performance,E=Math.floor((Date.now()-v.now())*.001),_=v.now()*.001;let k=Math.floor(_)+E,R=Math.floor(_%1*1e9);return y&&(k=k-y[0],R=R-y[1],R<0&&(k--,R+=1e9)),[k,R]}};a.hrtime=p})(tA);var uY=Ks&&Ks.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(_1,"__esModule",{value:!0});_1.BaseClass=void 0;const cY=uY(u2),qT=tA;class hY{constructor(){this.options={},this._renderedTime=0,this._before=[0,0]}get hasRendered(){return!!this._canvas}get canvas(){return this._checkHasRendered(),this._canvas}get renderedTime(){return this._checkHasRendered(),this._renderedTime}get width(){return this._checkHasRendered(),this.canvas.width}get height(){return this._checkHasRendered(),this.canvas.height}render(){return this}toDataUrl(t="image/png",r){return this._checkHasRendered(),t==="image/png"?this.canvas.toDataURL("image/png"):this.canvas.toDataURL("image/jpeg",r==null?void 0:r.quality)}toBuffer(t="image/png",r){return this._checkHasRendered(),t==="image/png"?this.canvas.toBuffer("image/png",r):this.canvas.toBuffer("image/jpeg",r)}toFile(t,r="",n){this._checkHasRendered(),r||(t.match(/\.jpg$|\.jpeg$/i)?r="image/jpeg":r="image/png");const c=this.toBuffer(r,n);cY.default.writeFileSync(t,c)}toStream(t="image/png",r){return this._checkHasRendered(),t==="image/png"?this.canvas.createPNGStream(r):this.canvas.createJPEGStream(r)}_checkHasRendered(){if(!this.hasRendered)throw new Error("Please run render() first!")}_startTimer(){this._before=qT.hrtime()}_endTimer(){const t=qT.hrtime(this._before);this._renderedTime=t[0]*1e3+t[1]/1e6}}_1.BaseClass=hY;var Wa={};Object.defineProperty(Wa,"__esModule",{value:!0});Wa.drawTexts=Wa.drawImages=Wa.drawBorder=Wa.drawBackgroundColor=Wa.renderHook=void 0;const dY=Uf,Cp=tA;function pY(a,t){t&&t(a)}Wa.renderHook=pY;function mY(a,t){if(t.color||typeof t.color=="number"){const{width:r,height:n}=a.canvas;a.fillStyle=Cp.parseColorString(t.color),a.fillRect(0,0,r,n)}}Wa.drawBackgroundColor=mY;function gY(a,t){if(t.size&&(t.color||typeof t.color=="number")){const{width:r,height:n}=a.canvas;a.strokeStyle=Cp.parseColorString(t.color),a.lineWidth=t.size*2,a.strokeRect(0,0,r,n)}}Wa.drawBorder=gY;function bY(a,t){const{images:r}=t,n=t.width|0,c=t.height|0;for(const p of r){const{canvasImage:y,repeat:v,sx:E,sy:_,tx:k,ty:R}=p,B=p.layer||0;if(!y||!y.width||!y.height||B!==t.layer)continue;const M=y.width,F=y.height,H=p.width==="image"?M:p.width==="canvas"?n:p.width||0,U=p.height==="image"?F:p.height==="canvas"?c:p.height||0,Z=typeof E=="number"?E>=0?E:n+E:p.x||0,K=typeof _=="number"?_>=0?_:c+_:p.y||0,fe=typeof k=="number"?(k>0?k:n+k)-Z:H||n-Z,oe=typeof R=="number"?(R>0?R:c+R)-K:U||c-K;if(!(fe<=0||oe<=0)){if(!v||v==="none"||v==="topLeft")a.drawImage(y,0,0,fe,oe,Z,K,fe,oe);else if(v==="topCenter"){const we=(M-fe)/2;a.drawImage(y,we,0,fe,oe,Z,K,fe,oe)}else if(v==="topRight"){const we=M-fe;a.drawImage(y,we,0,fe,oe,Z,K,fe,oe)}else if(v==="middleLeft"){const we=(F-oe)/2;a.drawImage(y,0,we,fe,oe,Z,K,fe,oe)}else if(v==="center"){const we=(M-fe)/2,be=(F-oe)/2;a.drawImage(y,we,be,fe,oe,Z,K,fe,oe)}else if(v==="middleRight"){const we=M-fe,be=(F-oe)/2;a.drawImage(y,we,be,fe,oe,Z,K,fe,oe)}else if(v==="bottomLeft"){const we=F-oe;a.drawImage(y,0,we,fe,oe,Z,K,fe,oe)}else if(v==="bottomCenter"){const we=(M-fe)/2,be=F-oe;a.drawImage(y,we,be,fe,oe,Z,K,fe,oe)}else if(v==="bottomRight"){const we=M-fe,be=F-oe;a.drawImage(y,we,be,fe,oe,Z,K,fe,oe)}else if(v==="fit")a.drawImage(y,0,0,M,F,Z,K,fe,oe);else if(v==="fitX"){const we=Math.min(oe,F);a.drawImage(y,0,0,M,we,Z,K,fe,we)}else if(v==="fitY"){const we=Math.min(Z+fe-Z,M);a.drawImage(y,0,0,we,F,Z,K,we,oe)}else if(v==="repeat")for(let we=K;we<K+oe;we+=F)for(let be=Z;be<Z+fe;be+=M){const ve=Math.min(Z+fe-be,M),ne=Math.min(K+oe-we,F);a.drawImage(y,0,0,ve,ne,be,we,ve,ne)}else if(v==="repeatY")for(let we=K;we<K+oe;we+=F){const be=Math.min(Z+fe-Z,M),ve=Math.min(K+oe-we,F);a.drawImage(y,0,0,be,ve,Z,we,be,ve)}else if(v==="repeatX")for(let we=Z;we<Z+fe;we+=M){const be=Math.min(Z+fe-we,M),ve=Math.min(K+oe-K,F);a.drawImage(y,0,0,be,ve,we,K,be,ve)}}}}Wa.drawImages=bY;function yY(a,t){const{measuredParagraph:r,width:n,height:c,fontFamily:p,fontStyle:y,fontWeight:v,fontSize:E,fontColor:_,strokeSize:k,strokeColor:R,valign:B,align:M,marginLeft:F,marginTop:H,marginRight:U,marginBottom:Z,chopOverflow:K,useGlyphPadding:fe,underlineSize:oe,underlineColor:we}=t;if(!r.measuredLines.length)return;const be=fe?r.boundingWidth:r.width,ve=fe?r.boundingHeight:r.height,ne=Math.round(E/2),ae=dY.createCanvas(be+ne*2,ve+ne*2),ye=Cp.parseColorString(_),de=Cp.parseColorString(we),xe=ae.getContext("2d");xe.font=Cp.getFontString({fontStyle:y,fontWeight:v,fontSize:E,fontFamily:p});let le=fe?E+r.measuredLines[0].paddingTop:E;for(const Qe of r.measuredLines){let Ue=0;M==="center"?(Ue=(be-Qe.width)/2,fe&&(Ue=(be-(Qe.width-Qe.paddingLeft+Qe.paddingRight))/2)):M==="right"?(Ue=be-Qe.width,fe&&(Ue=be-Qe.width-r.paddingRight)):fe&&(Ue=r.paddingLeft),oe&&(xe.fillStyle=de,xe.fillRect(Ue+ne,le+ne,Qe.width,oe)),xe.fillStyle=ye,xe.fillText(Qe.text,Ue+ne,le+ne),k&&(xe.strokeStyle=Cp.parseColorString(R),xe.lineWidth=k,xe.strokeText(Qe.text,Ue+ne,le+ne)),le+=Qe.nextLineHeight}let re=0,he=0,me=0,Re=0,Ie=n,Ne=c;M==="right"?(re=be-n+U,K&&(me+=F,re+=F,Ie=n-F-U)):M==="center"?(re=(be-n-F+U)/2,K&&(me+=F,re+=F,Ie=n-F-U)):(re=-F,K&&(Ie=n-U)),B==="bottom"?(he=ve-c+Z,K&&(Re+=H,he+=H,Ne=c-H-Z)):B==="middle"?(he=(ve-c-H+Z)/2,K&&(Re+=H,he+=H,Ne=c-H-Z)):(he=-H,K&&(Ne=c-Z)),a.drawImage(ae,re+ne,he+ne,Ie,Ne,me,Re,Ie,Ne)}Wa.drawTexts=yY;Object.defineProperty(eA,"__esModule",{value:!0});eA.HorizontalImage=void 0;const vY=Uf,wY=_1,Yx=Wa;class AY extends wY.BaseClass{constructor(t,r={},n={}){super(),this.ultimateTextToImages=t,this.options=r,this.renderOptions=n}render(){this._startTimer();const{backgroundColor:t}=this.options,r=this.options.margin||0;for(const E of this.ultimateTextToImages)E.render();const n=this.ultimateTextToImages.reduce((E,_)=>E+_.width,0)+r*2,c=this.ultimateTextToImages.reduce((E,_)=>Math.max(E,_.height),0)+r*2;this._canvas=new vY.Canvas(n,c);const p=this._canvas.getContext("2d");Yx.renderHook(this._canvas,this.renderOptions.preRender),Yx.drawBackgroundColor(p,{color:t});let y=r,v=0;for(const E of this.ultimateTextToImages){let _=this.options.valign;E.options.nestedValign&&(_=E.options.nestedValign),_==="bottom"?v=c-E.height-r:_==="middle"?v=(c-E.height)/2:v=r,p.drawImage(E.canvas,y,v),y+=E.width}return Yx.renderHook(this._canvas,this.renderOptions.posRender),this._endTimer(),this}}eA.HorizontalImage=AY;var rA={},xY=Ks&&Ks.__createBinding||(Object.create?function(a,t,r,n){n===void 0&&(n=r),Object.defineProperty(a,n,{enumerable:!0,get:function(){return t[r]}})}:function(a,t,r,n){n===void 0&&(n=r),a[n]=t[r]}),EY=Ks&&Ks.__setModuleDefault||(Object.create?function(a,t){Object.defineProperty(a,"default",{enumerable:!0,value:t})}:function(a,t){a.default=t}),_Y=Ks&&Ks.__importStar||function(a){if(a&&a.__esModule)return a;var t={};if(a!=null)for(var r in a)r!=="default"&&Object.prototype.hasOwnProperty.call(a,r)&&xY(t,a,r);return EY(t,a),t},kY=Ks&&Ks.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(rA,"__esModule",{value:!0});rA.registerFont=void 0;const CY=_Y(Uf),SY=kY(u2),TY=(a,t)=>{const r=(t==null?void 0:t.family)||MY(16),n=typeof(t==null?void 0:t.weight)=="boolean"?t.weight?"bold":void 0:t!=null&&t.weight?t.weight.toString():void 0,c=typeof(t==null?void 0:t.style)=="boolean"?t.style?"italic":void 0:t!=null&&t.style?t.style:void 0;CY.registerFont(a,{family:r,weight:n,style:c})};rA.registerFont=TY;function MY(a){return SY.default.randomBytes(Math.ceil(a/2)).toString("hex").substr(0,a)}var iA={},nA={},ab={},lb={};lb.byteLength=BY;lb.toByteArray=LY;lb.fromByteArray=FY;var du=[],Xl=[],RY=typeof Uint8Array!="undefined"?Uint8Array:Array,Kx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var gp=0,DY=Kx.length;gp<DY;++gp)du[gp]=Kx[gp],Xl[Kx.charCodeAt(gp)]=gp;Xl["-".charCodeAt(0)]=62;Xl["_".charCodeAt(0)]=63;function SD(a){var t=a.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=a.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function BY(a){var t=SD(a),r=t[0],n=t[1];return(r+n)*3/4-n}function IY(a,t,r){return(t+r)*3/4-r}function LY(a){var t,r=SD(a),n=r[0],c=r[1],p=new RY(IY(a,n,c)),y=0,v=c>0?n-4:n,E;for(E=0;E<v;E+=4)t=Xl[a.charCodeAt(E)]<<18|Xl[a.charCodeAt(E+1)]<<12|Xl[a.charCodeAt(E+2)]<<6|Xl[a.charCodeAt(E+3)],p[y++]=t>>16&255,p[y++]=t>>8&255,p[y++]=t&255;return c===2&&(t=Xl[a.charCodeAt(E)]<<2|Xl[a.charCodeAt(E+1)]>>4,p[y++]=t&255),c===1&&(t=Xl[a.charCodeAt(E)]<<10|Xl[a.charCodeAt(E+1)]<<4|Xl[a.charCodeAt(E+2)]>>2,p[y++]=t>>8&255,p[y++]=t&255),p}function PY(a){return du[a>>18&63]+du[a>>12&63]+du[a>>6&63]+du[a&63]}function NY(a,t,r){for(var n,c=[],p=t;p<r;p+=3)n=(a[p]<<16&16711680)+(a[p+1]<<8&65280)+(a[p+2]&255),c.push(PY(n));return c.join("")}function FY(a){for(var t,r=a.length,n=r%3,c=[],p=16383,y=0,v=r-n;y<v;y+=p)c.push(NY(a,y,y+p>v?v:y+p));return n===1?(t=a[r-1],c.push(du[t>>2]+du[t<<4&63]+"==")):n===2&&(t=(a[r-2]<<8)+a[r-1],c.push(du[t>>10]+du[t>>4&63]+du[t<<2&63]+"=")),c.join("")}var Y8=0,TD=-3;function Og(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function OY(a,t){this.source=a,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new Og,this.dtree=new Og}var MD=new Og,RD=new Og,K8=new Uint8Array(30),$8=new Uint16Array(30),DD=new Uint8Array(30),BD=new Uint16Array(30),HY=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ZT=new Og,nu=new Uint8Array(288+32);function ID(a,t,r,n){var c,p;for(c=0;c<r;++c)a[c]=0;for(c=0;c<30-r;++c)a[c+r]=c/r|0;for(p=n,c=0;c<30;++c)t[c]=p,p+=1<<a[c]}function UY(a,t){var r;for(r=0;r<7;++r)a.table[r]=0;for(a.table[7]=24,a.table[8]=152,a.table[9]=112,r=0;r<24;++r)a.trans[r]=256+r;for(r=0;r<144;++r)a.trans[24+r]=r;for(r=0;r<8;++r)a.trans[24+144+r]=280+r;for(r=0;r<112;++r)a.trans[24+144+8+r]=144+r;for(r=0;r<5;++r)t.table[r]=0;for(t.table[5]=32,r=0;r<32;++r)t.trans[r]=r}var YT=new Uint16Array(16);function $x(a,t,r,n){var c,p;for(c=0;c<16;++c)a.table[c]=0;for(c=0;c<n;++c)a.table[t[r+c]]++;for(a.table[0]=0,p=0,c=0;c<16;++c)YT[c]=p,p+=a.table[c];for(c=0;c<n;++c)t[r+c]&&(a.trans[YT[t[r+c]]++]=c)}function VY(a){a.bitcount--||(a.tag=a.source[a.sourceIndex++],a.bitcount=7);var t=a.tag&1;return a.tag>>>=1,t}function fu(a,t,r){if(!t)return r;for(;a.bitcount<24;)a.tag|=a.source[a.sourceIndex++]<<a.bitcount,a.bitcount+=8;var n=a.tag&65535>>>16-t;return a.tag>>>=t,a.bitcount-=t,n+r}function EE(a,t){for(;a.bitcount<24;)a.tag|=a.source[a.sourceIndex++]<<a.bitcount,a.bitcount+=8;var r=0,n=0,c=0,p=a.tag;do n=2*n+(p&1),p>>>=1,++c,r+=t.table[c],n-=t.table[c];while(n>=0);return a.tag=p,a.bitcount-=c,t.trans[r+n]}function jY(a,t,r){var n,c,p,y,v,E;for(n=fu(a,5,257),c=fu(a,5,1),p=fu(a,4,4),y=0;y<19;++y)nu[y]=0;for(y=0;y<p;++y){var _=fu(a,3,0);nu[HY[y]]=_}for($x(ZT,nu,0,19),v=0;v<n+c;){var k=EE(a,ZT);switch(k){case 16:var R=nu[v-1];for(E=fu(a,2,3);E;--E)nu[v++]=R;break;case 17:for(E=fu(a,3,3);E;--E)nu[v++]=0;break;case 18:for(E=fu(a,7,11);E;--E)nu[v++]=0;break;default:nu[v++]=k;break}}$x(t,nu,0,n),$x(r,nu,n,c)}function KT(a,t,r){for(;;){var n=EE(a,t);if(n===256)return Y8;if(n<256)a.dest[a.destLen++]=n;else{var c,p,y,v;for(n-=257,c=fu(a,K8[n],$8[n]),p=EE(a,r),y=a.destLen-fu(a,DD[p],BD[p]),v=y;v<y+c;++v)a.dest[a.destLen++]=a.dest[v]}}}function GY(a){for(var t,r,n;a.bitcount>8;)a.sourceIndex--,a.bitcount-=8;if(t=a.source[a.sourceIndex+1],t=256*t+a.source[a.sourceIndex],r=a.source[a.sourceIndex+3],r=256*r+a.source[a.sourceIndex+2],t!==(~r&65535))return TD;for(a.sourceIndex+=4,n=t;n;--n)a.dest[a.destLen++]=a.source[a.sourceIndex++];return a.bitcount=0,Y8}function zY(a,t){var r=new OY(a,t),n,c,p;do{switch(n=VY(r),c=fu(r,2,0),c){case 0:p=GY(r);break;case 1:p=KT(r,MD,RD);break;case 2:jY(r,r.ltree,r.dtree),p=KT(r,r.ltree,r.dtree);break;default:p=TD}if(p!==Y8)throw new Error("Data error")}while(!n);return r.destLen<r.dest.length?typeof r.dest.slice=="function"?r.dest.slice(0,r.destLen):r.dest.subarray(0,r.destLen):r.dest}UY(MD,RD);ID(K8,$8,4,3);ID(DD,BD,2,1);K8[28]=0;$8[28]=258;var WY=zY;const $T=WY,e_=6+5,Gd=5,QY=e_-Gd,JY=65536>>e_,XY=1<<QY,qY=XY-1,Vv=2,ZY=1<<Gd,e5=ZY-1,LD=65536>>Gd,YY=1024>>Gd,KY=LD+YY,$Y=KY,eK=32,tK=$Y+eK,rK=1<<Vv;class iK{constructor(t){const r=typeof t.readUInt32BE=="function"&&typeof t.slice=="function";if(r||t instanceof Uint8Array){let n;if(r)this.highStart=t.readUInt32BE(0),this.errorValue=t.readUInt32BE(4),n=t.readUInt32BE(8),t=t.slice(12);else{const c=new DataView(t.buffer);this.highStart=c.getUint32(0),this.errorValue=c.getUint32(4),n=c.getUint32(8),t=t.subarray(12)}t=$T(t,new Uint8Array(n)),t=$T(t,new Uint8Array(n)),this.data=new Uint32Array(t.buffer)}else({data:this.data,highStart:this.highStart,errorValue:this.errorValue}=t)}get(t){let r;return t<0||t>1114111?this.errorValue:t<55296||t>56319&&t<=65535?(r=(this.data[t>>Gd]<<Vv)+(t&e5),this.data[r]):t<=65535?(r=(this.data[LD+(t-55296>>Gd)]<<Vv)+(t&e5),this.data[r]):t<this.highStart?(r=this.data[tK-JY+(t>>e_)],r=this.data[r+(t>>Gd&qY)],r=(r<<Vv)+(t&e5),this.data[r]):this.data[this.data.length-rK]}}var nK=iK,Zn={};Zn.OP=0;Zn.CL=1;Zn.CP=2;Zn.QU=3;Zn.GL=4;Zn.NS=5;Zn.EX=6;Zn.SY=7;Zn.IS=8;Zn.PR=9;Zn.PO=10;Zn.NU=11;Zn.AL=12;Zn.HL=13;Zn.ID=14;Zn.IN=15;Zn.HY=16;Zn.BA=17;Zn.BB=18;Zn.B2=19;Zn.ZW=20;Zn.CM=21;Zn.WJ=22;Zn.H2=23;Zn.H3=24;Zn.JL=25;Zn.JV=26;Zn.JT=27;Zn.RI=28;Zn.AI=29;Zn.BK=30;Zn.CB=31;Zn.CJ=32;Zn.CR=33;Zn.LF=34;Zn.NL=35;Zn.SA=36;Zn.SG=37;Zn.SP=38;Zn.XX=39;var c2={};let ns,PD,Rt,Jt,sr;c2.DI_BRK=Rt=0;c2.IN_BRK=Jt=1;c2.CI_BRK=ns=2;c2.CP_BRK=PD=3;c2.PR_BRK=sr=4;c2.pairTable=[[sr,sr,sr,sr,sr,sr,sr,sr,sr,sr,sr,sr,sr,sr,sr,sr,sr,sr,sr,sr,sr,PD,sr,sr,sr,sr,sr,sr,sr],[Rt,sr,sr,Jt,Jt,sr,sr,sr,sr,Jt,Jt,Rt,Rt,Rt,Rt,Rt,Jt,Jt,Rt,Rt,sr,ns,sr,Rt,Rt,Rt,Rt,Rt,Rt],[Rt,sr,sr,Jt,Jt,sr,sr,sr,sr,Jt,Jt,Jt,Jt,Jt,Rt,Rt,Jt,Jt,Rt,Rt,sr,ns,sr,Rt,Rt,Rt,Rt,Rt,Rt],[sr,sr,sr,Jt,Jt,Jt,sr,sr,sr,Jt,Jt,Jt,Jt,Jt,Jt,Jt,Jt,Jt,Jt,Jt,sr,ns,sr,Jt,Jt,Jt,Jt,Jt,Jt],[Jt,sr,sr,Jt,Jt,Jt,sr,sr,sr,Jt,Jt,Jt,Jt,Jt,Jt,Jt,Jt,Jt,Jt,Jt,sr,ns,sr,Jt,Jt,Jt,Jt,Jt,Jt],[Rt,sr,sr,Jt,Jt,Jt,sr,sr,sr,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Jt,Jt,Rt,Rt,sr,ns,sr,Rt,Rt,Rt,Rt,Rt,Rt],[Rt,sr,sr,Jt,Jt,Jt,sr,sr,sr,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Jt,Jt,Rt,Rt,sr,ns,sr,Rt,Rt,Rt,Rt,Rt,Rt],[Rt,sr,sr,Jt,Jt,Jt,sr,sr,sr,Rt,Rt,Jt,Rt,Rt,Rt,Rt,Jt,Jt,Rt,Rt,sr,ns,sr,Rt,Rt,Rt,Rt,Rt,Rt],[Rt,sr,sr,Jt,Jt,Jt,sr,sr,sr,Rt,Rt,Jt,Jt,Jt,Rt,Rt,Jt,Jt,Rt,Rt,sr,ns,sr,Rt,Rt,Rt,Rt,Rt,Rt],[Jt,sr,sr,Jt,Jt,Jt,sr,sr,sr,Rt,Rt,Jt,Jt,Jt,Jt,Rt,Jt,Jt,Rt,Rt,sr,ns,sr,Jt,Jt,Jt,Jt,Jt,Rt],[Jt,sr,sr,Jt,Jt,Jt,sr,sr,sr,Rt,Rt,Jt,Jt,Jt,Rt,Rt,Jt,Jt,Rt,Rt,sr,ns,sr,Rt,Rt,Rt,Rt,Rt,Rt],[Jt,sr,sr,Jt,Jt,Jt,sr,sr,sr,Jt,Jt,Jt,Jt,Jt,Rt,Jt,Jt,Jt,Rt,Rt,sr,ns,sr,Rt,Rt,Rt,Rt,Rt,Rt],[Jt,sr,sr,Jt,Jt,Jt,sr,sr,sr,Rt,Rt,Jt,Jt,Jt,Rt,Jt,Jt,Jt,Rt,Rt,sr,ns,sr,Rt,Rt,Rt,Rt,Rt,Rt],[Jt,sr,sr,Jt,Jt,Jt,sr,sr,sr,Rt,Rt,Jt,Jt,Jt,Rt,Jt,Jt,Jt,Rt,Rt,sr,ns,sr,Rt,Rt,Rt,Rt,Rt,Rt],[Rt,sr,sr,Jt,Jt,Jt,sr,sr,sr,Rt,Jt,Rt,Rt,Rt,Rt,Jt,Jt,Jt,Rt,Rt,sr,ns,sr,Rt,Rt,Rt,Rt,Rt,Rt],[Rt,sr,sr,Jt,Jt,Jt,sr,sr,sr,Rt,Rt,Rt,Rt,Rt,Rt,Jt,Jt,Jt,Rt,Rt,sr,ns,sr,Rt,Rt,Rt,Rt,Rt,Rt],[Rt,sr,sr,Jt,Rt,Jt,sr,sr,sr,Rt,Rt,Jt,Rt,Rt,Rt,Rt,Jt,Jt,Rt,Rt,sr,ns,sr,Rt,Rt,Rt,Rt,Rt,Rt],[Rt,sr,sr,Jt,Rt,Jt,sr,sr,sr,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Jt,Jt,Rt,Rt,sr,ns,sr,Rt,Rt,Rt,Rt,Rt,Rt],[Jt,sr,sr,Jt,Jt,Jt,sr,sr,sr,Jt,Jt,Jt,Jt,Jt,Jt,Jt,Jt,Jt,Jt,Jt,sr,ns,sr,Jt,Jt,Jt,Jt,Jt,Jt],[Rt,sr,sr,Jt,Jt,Jt,sr,sr,sr,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Jt,Jt,Rt,sr,sr,ns,sr,Rt,Rt,Rt,Rt,Rt,Rt],[Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt,sr,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Rt],[Jt,sr,sr,Jt,Jt,Jt,sr,sr,sr,Rt,Rt,Jt,Jt,Jt,Rt,Jt,Jt,Jt,Rt,Rt,sr,ns,sr,Rt,Rt,Rt,Rt,Rt,Rt],[Jt,sr,sr,Jt,Jt,Jt,sr,sr,sr,Jt,Jt,Jt,Jt,Jt,Jt,Jt,Jt,Jt,Jt,Jt,sr,ns,sr,Jt,Jt,Jt,Jt,Jt,Jt],[Rt,sr,sr,Jt,Jt,Jt,sr,sr,sr,Rt,Jt,Rt,Rt,Rt,Rt,Jt,Jt,Jt,Rt,Rt,sr,ns,sr,Rt,Rt,Rt,Jt,Jt,Rt],[Rt,sr,sr,Jt,Jt,Jt,sr,sr,sr,Rt,Jt,Rt,Rt,Rt,Rt,Jt,Jt,Jt,Rt,Rt,sr,ns,sr,Rt,Rt,Rt,Rt,Jt,Rt],[Rt,sr,sr,Jt,Jt,Jt,sr,sr,sr,Rt,Jt,Rt,Rt,Rt,Rt,Jt,Jt,Jt,Rt,Rt,sr,ns,sr,Jt,Jt,Jt,Jt,Rt,Rt],[Rt,sr,sr,Jt,Jt,Jt,sr,sr,sr,Rt,Jt,Rt,Rt,Rt,Rt,Jt,Jt,Jt,Rt,Rt,sr,ns,sr,Rt,Rt,Rt,Jt,Jt,Rt],[Rt,sr,sr,Jt,Jt,Jt,sr,sr,sr,Rt,Jt,Rt,Rt,Rt,Rt,Jt,Jt,Jt,Rt,Rt,sr,ns,sr,Rt,Rt,Rt,Rt,Jt,Rt],[Rt,sr,sr,Jt,Jt,Jt,sr,sr,sr,Rt,Rt,Rt,Rt,Rt,Rt,Rt,Jt,Jt,Rt,Rt,sr,ns,sr,Rt,Rt,Rt,Rt,Rt,Jt]];const sK=lb,oK=nK,{BK:jv,CR:t5,LF:_E,NL:ND,SG:aK,WJ:lK,CB:kE,SP:cg,BA:FD,NS:fK,AI:uK,AL:e9,CJ:cK,ID:D0e,SA:hK,XX:dK}=Zn,{DI_BRK:pK,IN_BRK:mK,CI_BRK:gK,CP_BRK:bK,PR_BRK:B0e,pairTable:yK}=c2,vK=sK.toByteArray("AA4IAAAAAAAAAhqg5VV7NJtZvz7fTC8zU5deplUlMrQoWqmqahD5So0aipYWrUhVFSVBQ10iSTtUtW6nKDVF6k7d75eQfEUbFcQ9KiFS90tQEolcP23nrLPmO+esr/+f39rr/a293t/e7/P8nmfvlz0O6RvrBJADtbBNaD88IOKTOmOrCqhu9zE770vc1pBV/xL5dxj2V7Zj4FGSomFKStCWNlV7hG1VabZfZ1LaHbFrRwzzLjzPoi1UHDnlV/lWbhgIIJvLBp/pu7AHEdRnIY+ROdXxg4fNpMdTxVnnm08OjozejAVsBqwqz8kddGRlRxsd8c55dNZoPuex6a7Dt6L0NNb03sqgTlR2/OT7eTt0Y0WnpUXxLsp5SMANc4DsmX4zJUBQvznwexm9tsMH+C9uRYMPOd96ZHB29NZjCIM2nfO7tsmQveX3l2r7ft0N4/SRJ7kO6Y8ZCaeuUQ4gMTZ67cp7TgxvlNDsPgOBdZi2YTam5Q7m3+00l+XG7PrDe6YoPmHgK+yLih7fAR16ZFCeD9WvOVt+gfNW/KT5/M6rb/9KERt+N1lad5RneVjzxXHsLofuU+TvrEsr3+26sVz5WJh6L/svoPK3qepFH9bysDljWtD1F7KrxzW1i9r+e/NLxV/acts7zuo304J9+t3Pd6Y6u8f3EAqxNRgv5DZjaI3unyvkvHPya/v3mWVYOC38qBq11+yHZ2bAyP1HbkV92vdno7r2lxz9UwCdCJVfd14NLcpO2CadHS/XPJ9doXgz5vLv/1OBVS3gX0D9n6LiNIDfpilO9RsLgZ2W/wIy8W/Rh93jfoz4qmRV2xElv6p2lRXQdO6/Cv8f5nGn3u0wLXjhnvClabL1o+7yvIpvLfT/xsKG30y/sTvq30ia9Czxp9dr9v/e7Yn/O0QJXxxBOJmceP/DBFa1q1v6oudn/e6qc/37dUoNvnYL4plQ9OoneYOh/r8fOFm7yl7FETHY9dXd5K2n/qEc53dOEe1TTJcvCfp1dpTC334l0vyaFL6mttNEbFjzO+ZV2mLk0qc3BrxJ4d9gweMmjRorxb7vic0rSq6D4wzAyFWas1TqPE0sLI8XLAryC8tPChaN3ALEZSWmtB34SyZcxXYn/E4Tg0LeMIPhgPKD9zyHGMxxhxnDDih7eI86xECTM8zodUCdgffUmRh4rQ8zyA6ow/Aei+01a8OMfziQQ+GAEkhwN/cqUFYAVzA9ex4n6jgtsiMvXf5BtXxEU4hSphvx3v8+9au8eEekEEpkrkne/zB1M+HAPuXIz3paxKlfe8aDMfGWAX6Md6PuuAdKHFVH++Ed5LEji94Z5zeiJIxbmWeN7rr1/ZcaBl5/nimdHsHgIH/ssyLUXZ4fDQ46HnBb+hQqG8yNiKRrXL/b1IPYDUsu3dFKtRMcjqlRvONd4xBvOufx2cUHuk8pmG1D7PyOQmUmluisVFS9OWS8fPIe8LiCtjwJKnEC9hrS9uKmISI3Wa5+vdXUG9dtyfr7g/oJv2wbzeZU838G6mEvntUb3SVV/fBZ6H/sL+lElzeRrHy2Xbe7UWX1q5sgOQ81rv+2baej4fP4m5Mf/GkoxfDtT3++KP7do9Jn26aa6xAhCf5L9RZVfkWKCcjI1eYbm2plvTEqkDxKC402bGzXCYaGnuALHabBT1dFLuOSB7RorOPEhZah1NjZIgR/UFGfK3p1ElYnevOMBDLURdpIjrI+qZk4sffGbRFiXuEmdFjiAODlQCJvIaB1rW61Ljg3y4eS4LAcSgDxxZQs0DYa15wA032Z+lGUfpoyOrFo3mg1sRQtN/fHHCx3TrM8eTrldMbYisDLXbUDoXMLejSq0fUNuO1muX0gEa8vgyegkqiqqbC3W0S4cC9Kmt8MuS/hFO7Xei3f8rSvIjeveMM7kxjUixOrl6gJshe4JU7PhOHpfrRYvu7yoAZKa3Buyk2J+K5W+nNTz1nhJDhRUfDJLiUXxjxXCJeeaOe/r7HlBP/uURc/5efaZEPxr55Qj39rfTLkugUGyMrwo7HAglfEjDriehF1jXtwJkPoiYkYQ5aoXSA7qbCBGKq5hwtu2VkpI9xVDop/1xrC52eiIvCoPWx4lLl40jm9upvycVPfpaH9/o2D4xKXpeNjE2HPQRS+3RFaYTc4Txw7Dvq5X6JBRwzs9mvoB49BK6b+XgsZVJYiInTlSXZ+62FT18mkFVcPKCJsoF5ahb19WheZLUYsSwdrrVM3aQ2XE6SzU2xHDS6iWkodk5AF6F8WUNmmushi8aVpMPwiIfEiQWo3CApONDRjrhDiVnkaFsaP5rjIJkmsN6V26li5LNM3JxGSyKgomknTyyrhcnwv9Qcqaq5utAh44W30SWo8Q0XHKR0glPF4fWst1FUCnk2woFq3iy9fAbzcjJ8fvSjgKVOfn14RDqyQuIgaGJZuswTywdCFSa89SakMf6fe+9KaQMYQlKxiJBczuPSho4wmBjdA+ag6QUOr2GdpcbSl51Ay6khhBt5UXdrnxc7ZGMxCvz96A4oLocxh2+px+1zkyLacCGrxnPzTRSgrLKpStFpH5ppKWm7PgMKZtwgytKLOjbGCOQLTm+KOowqa1sdut9raj1CZFkZD0jbaKNLpJUarSH5Qknx1YiOxdA5L6d5sfI/unmkSF65Ic/AvtXt98Pnrdwl5vgppQ3dYzWFwknZsy6xh2llmLxpegF8ayLwniknlXRHiF4hzzrgB8jQ4wdIqcaHCEAxyJwCeGkXPBZYSrrGa4vMwZvNN9aK0F4JBOK9mQ8g8EjEbIQVwvfS2D8GuCYsdqwqSWbQrfWdTRUJMqmpnWPax4Z7E137I6brHbvjpPlfNZpF1d7PP7HB/MPHcHVKTMhLO4f3CZcaccZEOiS2DpKiQB5KXDJ+Ospcz4qTRCRxgrKEQIgUkKLTKKwskdx2DWo3bg3PEoB5h2nA24olwfKSR+QR6TAvEDi/0czhUT59RZmO1MGeKGeEfuOSPWfL+XKmhqpZmOVR9mJVNDPKOS49Lq+Um10YsBybzDMtemlPCOJEtE8zaXhsaqEs9bngSJGhlOTTMlCXly9Qv5cRN3PVLK7zoMptutf7ihutrQ/Xj7VqeCdUwleTTKklOI8Wep9h7fCY0kVtDtIWKnubWAvbNZtsRRqOYl802vebPEkZRSZc6wXOfPtpPtN5HI63EUFfsy7U/TLr8NkIzaY3vx4A28x765XZMzRZTpMk81YIMuwJ5+/zoCuZj1wGnaHObxa5rpKZj4WhT670maRw04w0e3cZW74Z0aZe2n05hjZaxm6urenz8Ef5O6Yu1J2aqYAlqsCXs5ZB5o1JJ5l3xkTVr8rJQ09NLsBqRRDT2IIjOPmcJa6xQ1R5yGP9jAsj23xYDTezdyqG8YWZ7vJBIWK56K+iDgcHimiQOTIasNSua1fOBxsKMMEKd15jxTl+3CyvGCR+UyRwuSI2XuwRIPoNNclPihfJhaq2mKkNijwYLY6feqohktukmI3KDvOpN7ItCqHHhNuKlxMfBAEO5LjW2RKh6lE5Hd1dtAOopac/Z4FdsNsjMhXz/ug8JGmbVJTA+VOBJXdrYyJcIn5+OEeoK8kWEWF+wdG8ZtZHKSquWDtDVyhFPkRVqguKFkLkKCz46hcU1SUY9oJ2Sk+dmq0kglqk4kqKT1CV9JDELPjK1WsWGkEXF87g9P98e5ff0mIupm/w6vc3kCeq04X5bgJQlcMFRjlFWmSk+kssXCAVikfeAlMuzpUvCSdXiG+dc6KrIiLxxhbEVuKf7vW7KmDQI95bZe3H9mN3/77F6fZ2Yx/F9yClllj8gXpLWLpd5+v90iOaFa9sd7Pvx0lNa1o1+bkiZ69wCiC2x9UIb6/boBCuNMB/HYR0RC6+FD9Oe5qrgQl6JbXtkaYn0wkdNhROLqyhv6cKvyMj1Fvs2o3OOKoMYTubGENLfY5F6H9d8wX1cnINsvz+wZFQu3zhWVlwJvwBEp69Dqu/ZnkBf3nIfbx4TK7zOVJH5sGJX+IMwkn1vVBn38GbpTg9bJnMcTOb5F6Ci5gOn9Fcy6Qzcu+FL6mYJJ+f2ZZJGda1VqruZ0JRXItp8X0aTjIcJgzdaXlha7q7kV4ebrMsunfsRyRa9qYuryBHA0hc1KVsKdE+oI0ljLmSAyMze8lWmc5/lQ18slyTVC/vADTc+SNM5++gztTBLz4m0aVUKcfgOEExuKVomJ7XQDZuziMDjG6JP9tgR7JXZTeo9RGetW/Xm9/TgPJpTgHACPOGvmy2mDm9fl09WeMm9sQUAXP3Su2uApeCwJVT5iWCXDgmcuTsFgU9Nm6/PusJzSbDQIMfl6INY/OAEvZRN54BSSXUClM51im6Wn9VhVamKJmzOaFJErgJcs0etFZ40LIF3EPkjFTjGmAhsd174NnOwJW8TdJ1Dja+E6Wa6FVS22Haj1DDA474EesoMP5nbspAPJLWJ8rYcP1DwCslhnn+gTFm+sS9wY+U6SogAa9tiwpoxuaFeqm2OK+uozR6SfiLCOPz36LiDlzXr6UWd7BpY6mlrNANkTOeme5EgnnAkQRTGo9T6iYxbUKfGJcI9B+ub2PcyUOgpwXbOf3bHFWtygD7FYbRhb+vkzi87dB0JeXl/vBpBUz93VtqZi7AL7C1VowTF+tGmyurw7DBcktc+UMY0E10Jw4URojf8NdaNpN6E1q4+Oz+4YePtMLy8FPRP"),wK=new oK(vK),t9=function(a){switch(a){case uK:return e9;case hK:case aK:case dK:return e9;case cK:return fK;default:return a}},r9=function(a){switch(a){case _E:case ND:return jv;case kE:return FD;case cg:return lK;default:return a}};class uv{constructor(t,r=!1){this.position=t,this.required=r}}class AK{constructor(t){this.string=t,this.pos=0,this.lastPos=0,this.curClass=null,this.nextClass=null}nextCodePoint(){const t=this.string.charCodeAt(this.pos++),r=this.string.charCodeAt(this.pos);return 55296<=t&&t<=56319&&56320<=r&&r<=57343?(this.pos++,(t-55296)*1024+(r-56320)+65536):t}nextCharClass(){return t9(wK.get(this.nextCodePoint()))}nextBreak(){for(this.curClass==null&&(this.curClass=r9(this.nextCharClass()));this.pos<this.string.length;){this.lastPos=this.pos;const t=this.nextClass;if(this.nextClass=this.nextCharClass(),this.curClass===jv||this.curClass===t5&&this.nextClass!==_E)return this.curClass=r9(t9(this.nextClass)),new uv(this.lastPos,!0);let r;switch(this.nextClass){case cg:r=this.curClass;break;case jv:case _E:case ND:r=jv;break;case t5:r=t5;break;case kE:r=FD;break}if(r!=null){if(this.curClass=r,this.nextClass===kE)return new uv(this.lastPos);continue}let n=!1;switch(yK[this.curClass][this.nextClass]){case pK:n=!0;break;case mK:n=t===cg;break;case gK:if(n=t===cg,!n)continue;break;case bK:if(t!==cg)continue;break}if(this.curClass=this.nextClass,n)return new uv(this.lastPos)}if(this.pos>=this.string.length)return this.lastPos<this.string.length?(this.lastPos=this.string.length,new uv(this.string.length)):null}}var xK=AK;Object.defineProperty(ab,"__esModule",{value:!0});ab.UnicodeLineBreak=void 0;const EK=xK;class _K{constructor(t){this.text=t}getResults(){const t=[];for(const r of this)t.push(r);return t}[Symbol.iterator](){const t=this.text,r=new EK(t);let n=0;return{next:()=>{const c=r.nextBreak();if(!c)return{value:void 0,done:!0};const p=t.slice(n,c.position).replace(/(\r?\n)*$/,""),y=n,v=c.position===t.length;return n=c.position,{value:{word:p,index:y,hasLineBreak:c.required,isLastWord:v},done:!1}}}}}ab.UnicodeLineBreak=_K;var kK=Ks&&Ks.__rest||function(a,t){var r={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&t.indexOf(n)<0&&(r[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,n=Object.getOwnPropertySymbols(a);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(a,n[c])&&(r[n[c]]=a[n[c]]);return r};Object.defineProperty(nA,"__esModule",{value:!0});nA.Measurable=void 0;const CK=Uf,SK=ab,TK=tA;class MK{constructor(){this.caches=new Map}clearCache(){this.caches.clear()}getMeasuredParagraph(t){const n=CK.createCanvas(100,100).getContext("2d");return this.testBestMeasuredParagraph(Object.assign({ctx:n},t))}testBestMeasuredParagraph(t){const{maxWidth:r,maxHeight:n,maxFontSize:c,minFontSize:p,fontSize:y}=t,v=kK(t,["maxWidth","maxHeight","maxFontSize","minFontSize","fontSize"]),E=this.testMeasuredParagraph(Object.assign(Object.assign({},v),{maxWidth:r,fontSize:y})),_=t.useGlyphPadding?E.boundingHeight:E.height,k=t.useGlyphPadding?E.boundingWidth:E.width;if(_<=n&&k<=r)if(t.maxFontSize>E.fontSize){const R=Math.ceil((t.fontSize+t.maxFontSize)/2);return this.testBestMeasuredParagraph(Object.assign(Object.assign({},t),{fontSize:R,minFontSize:E.fontSize}))}else return E;else if(t.minFontSize<E.fontSize){const R=Math.floor((t.fontSize+t.minFontSize)/2);return this.testBestMeasuredParagraph(Object.assign(Object.assign({},t),{fontSize:R,maxFontSize:E.fontSize-1}))}else return E}testMeasuredParagraph(t){const{ctx:r,text:n,noAutoWrap:c,fontFamily:p,fontStyle:y,fontWeight:v,fontSize:E,lineHeight:_,lineHeightMultiplier:k,autoWrapLineHeight:R,autoWrapLineHeightMultiplier:B,useGlyphPadding:M}=t,F=this.testMeasureWords({ctx:r,text:n,fontStyle:y,fontWeight:v,fontSize:E,fontFamily:p}),H=t.maxWidth,U=Math.round(typeof _=="number"?_:typeof k=="number"?E*k:E),Z=Math.round(typeof R=="number"?R:typeof B=="number"?E*B:U),fe=this.testMeasuredWord(Object.assign(Object.assign({},t),{text:" "})).width;let oe={text:"",width:0,paddingTop:-E,paddingBottom:0,paddingLeft:0,paddingRight:0,nextLineHeight:0,measuredWords:[]};const we={text:n,width:0,height:0,fontSize:E,fontFamily:p,fontStyle:y,fontWeight:v,spaceWidth:fe,boundingHeight:0,boundingWidth:0,paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,measuredLines:[]};let be;for(const ne of F){let ae=0,ye=0;be&&!be.hasLineBreak&&(ae=be.endingSpaceCount*fe,ye=be.endingSpaceCount);let de=oe.width+ae+ne.width;M&&(de+=ne.paddingLeft+ne.paddingRight),!c&&de>H?(oe.text&&(oe.nextLineHeight=Z,we.measuredLines.push(oe)),oe={text:ne.text,width:ne.width,paddingTop:ne.paddingTop,paddingBottom:ne.paddingBottom,paddingLeft:ne.paddingLeft,paddingRight:ne.paddingRight,nextLineHeight:0,measuredWords:[]}):(oe.text+=" ".repeat(ye)+ne.text,oe.paddingTop=Math.max(oe.paddingTop,ne.paddingTop),oe.paddingBottom=Math.max(oe.paddingBottom,ne.paddingBottom),oe.width===0&&(oe.paddingLeft=ne.paddingLeft),oe.paddingRight=ne.paddingRight,oe.width=oe.width+ae+ne.width,oe.measuredWords.push(ne)),ne.isLastWord||ne.hasLineBreak&&(oe.nextLineHeight=U,we.measuredLines.push(oe),oe={text:"",width:0,paddingTop:-E,paddingBottom:0,paddingLeft:0,paddingRight:0,nextLineHeight:0,measuredWords:[]}),be=ne}oe.width&&we.measuredLines.push(oe);const ve=we.measuredLines.length;if(ve){we.width=we.measuredLines.reduce((ye,de)=>Math.max(ye,de.width),0),we.height=we.measuredLines.reduce((ye,de)=>ye+de.nextLineHeight,we.fontSize);const ne=we.measuredLines[0].paddingTop,ae=we.measuredLines[ve-1].paddingBottom;we.paddingTop=ne,we.paddingBottom=ae,we.boundingHeight=we.height+ne+ae,we.boundingWidth=we.measuredLines.reduce((ye,de)=>Math.max(ye,de.width+de.paddingLeft+de.paddingRight),0),we.paddingLeft=we.measuredLines.reduce((ye,de)=>Math.max(ye,de.paddingLeft),-E),we.paddingRight=we.measuredLines.reduce((ye,de)=>Math.max(ye,de.paddingRight),-E)}return we}testMeasureWords(t){const r=[],n=new SK.UnicodeLineBreak(t.text);for(const c of n){const p=c.word,y=p.trimRight(),v=this.testMeasuredWord(Object.assign(Object.assign({},t),{text:y}));r.push({text:y,width:v.width,paddingTop:v.paddingTop,paddingBottom:v.paddingBottom,paddingLeft:v.paddingLeft,paddingRight:v.paddingRight,endingSpaceCount:p.length-y.length,isLastWord:c.isLastWord,hasLineBreak:c.hasLineBreak})}return r}testMeasuredWord(t){const{ctx:r,text:n,fontStyle:c,fontWeight:p,fontSize:y,fontFamily:v}=t,E=TK.getFontString({fontStyle:c,fontWeight:p,fontSize:y,fontFamily:v});r.font=E,this.caches.has(E)||this.caches.set(E,new Map);const _=this.caches.get(E);_.has(y)||_.set(y,new Map);const k=_.get(y);if(!k.has(n)){const R=r.measureText(n);let B=R.actualBoundingBoxLeft,M=R.actualBoundingBoxRight-R.width;R.width>0&&R.actualBoundingBoxLeft/R.width>.8&&R.actualBoundingBoxRight/R.width<.2&&(B=R.actualBoundingBoxLeft-R.width,M=R.actualBoundingBoxRight),k.set(n,{text:n,width:R.width,paddingTop:R.actualBoundingBoxAscent-y,paddingBottom:R.actualBoundingBoxDescent,paddingLeft:B,paddingRight:M})}return k.get(n)}}nA.Measurable=MK;Object.defineProperty(iA,"__esModule",{value:!0});iA.UltimateTextToImage=void 0;const RK=Uf,DK=_1,BK=nA,ah=Wa;class zd extends DK.BaseClass{constructor(t,r={},n={}){super(),this.text=t,this.options=r,this.renderOptions=n,this._defaultOptions={width:void 0,height:void 0,maxWidth:void 0,maxHeight:void 0,noAutoWrap:!1,fontFamily:"Arial",fontWeight:!1,fontStyle:!1,fontSize:24,minFontSize:void 0,fontColor:"#333333",strokeSize:0,strokeColor:"#000000",lineHeight:void 0,lineHeightMultiplier:void 0,autoWrapLineHeight:void 0,autoWrapLineHeightMultiplier:void 0,margin:0,marginLeft:void 0,marginTop:void 0,marginRight:void 0,marginBottom:void 0,useGlyphPadding:!0,chopOverflow:!1,align:"left",valign:"top",alignToCenterIfHeightLE:0,alignToCenterIfLinesLE:0,borderColor:"#000000",borderSize:0,backgroundColor:"",underlineSize:0,underlineColor:"",images:[],nestedAlign:void 0,nestedValign:void 0}}get measuredParagraph(){return this._checkHasRendered(),this._measuredParagraph}render(){return this._startTimer(),this._createCanvas(),this._endTimer(),this}_createCanvas(){const t=this.text,r=Object.assign({},this._defaultOptions,this.options),{height:n,width:c,noAutoWrap:p,fontFamily:y,fontStyle:v,fontWeight:E,fontSize:_,chopOverflow:k,useGlyphPadding:R,underlineSize:B,underlineColor:M,images:F}=r;let{maxWidth:H,maxHeight:U,minFontSize:Z}=r;U=typeof U=="number"?U:typeof n=="number"?n:zd.maxSize,H=typeof H=="number"?H:typeof c=="number"?c:zd.maxSize,H=Math.max(c||1,H),U=Math.max(n||1,U),Z=typeof Z=="number"?Z:r.fontSize;const K=typeof r.marginLeft=="number"?r.marginLeft:r.margin,fe=typeof r.marginTop=="number"?r.marginTop:r.margin,oe=typeof r.marginRight=="number"?r.marginRight:r.margin,we=typeof r.marginBottom=="number"?r.marginBottom:r.margin,be=zd.measurable.getMeasuredParagraph({text:t,maxWidth:H-K-oe,maxHeight:U-fe-we,noAutoWrap:p,fontFamily:y,fontStyle:v,fontWeight:E,maxFontSize:_,minFontSize:Z,fontSize:_,useGlyphPadding:R,lineHeight:r.lineHeight,lineHeightMultiplier:r.lineHeightMultiplier,autoWrapLineHeight:r.autoWrapLineHeight,autoWrapLineHeightMultiplier:r.autoWrapLineHeightMultiplier}),ve=be.fontSize;let ne=r.valign,ae=r.align;const ye=be.height+fe+we,de=be.boundingHeight+fe+we,xe=be.width+K+oe,le=be.boundingWidth+K+oe;let re=Math.max(typeof n=="number"?n:ye,Math.min(U,ye)),he=Math.max(typeof c=="number"?c:xe,Math.min(H,xe));r.alignToCenterIfHeightLE&&be.height<=r.alignToCenterIfHeightLE&&(ne="middle",ae="center"),r.alignToCenterIfLinesLE&&be.measuredLines.length<=r.alignToCenterIfLinesLE&&(ne="middle",ae="center"),R&&(re=Math.max(typeof n=="number"?n:de,Math.min(U,de)),he=Math.max(typeof c=="number"?c:le,Math.min(H,le))),he=Math.max(1,he),re=Math.max(1,re),this._measuredParagraph=be,this._canvas=RK.createCanvas(he,re);const me=this._canvas.getContext("2d");return ah.renderHook(this._canvas,this.renderOptions.preRender),ah.drawImages(me,{width:he,height:re,layer:-1,images:F}),ah.drawBackgroundColor(me,{color:r.backgroundColor}),ah.drawBorder(me,{color:r.borderColor,size:r.borderSize}),ah.drawImages(me,{width:he,height:re,layer:0,images:F}),ah.drawTexts(me,{measuredParagraph:be,width:he,height:re,fontFamily:y,fontStyle:r.fontStyle,fontWeight:r.fontWeight,fontSize:ve,fontColor:r.fontColor,strokeSize:r.strokeSize,strokeColor:r.strokeColor,valign:ne,align:ae,marginLeft:K,marginTop:fe,marginRight:oe,marginBottom:we,chopOverflow:k,useGlyphPadding:R,underlineSize:B,underlineColor:M}),ah.drawImages(me,{width:he,height:re,layer:1,images:F}),ah.renderHook(this._canvas,this.renderOptions.posRender),this._canvas}}iA.UltimateTextToImage=zd;zd.measurable=new BK.Measurable;zd.maxSize=2<<14-1;var sA={};Object.defineProperty(sA,"__esModule",{value:!0});sA.VerticalImage=void 0;const IK=Uf,LK=_1,r5=Wa;class PK extends LK.BaseClass{constructor(t,r={},n={}){super(),this.ultimateTextToImages=t,this.options=r,this.renderOptions=n}render(){this._startTimer();const{backgroundColor:t}=this.options,r=this.options.margin||0;for(const E of this.ultimateTextToImages)E.render();const n=this.ultimateTextToImages.reduce((E,_)=>Math.max(E,_.width),0)+r*2,c=this.ultimateTextToImages.reduce((E,_)=>E+_.height,0)+r*2;this._canvas=new IK.Canvas(n,c);const p=this._canvas.getContext("2d");r5.renderHook(this._canvas,this.renderOptions.preRender),r5.drawBackgroundColor(p,{color:t});let y=0,v=r;for(const E of this.ultimateTextToImages){let _=this.options.align;E.options.nestedAlign&&(_=E.options.nestedAlign),_==="right"?y=n-E.width-r:_==="center"?y=(n-E.width)/2:y=r,p.drawImage(E.canvas,y,v),v+=E.height}return r5.renderHook(this._canvas,this.renderOptions.posRender),this._endTimer(),this}}sA.VerticalImage=PK;(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeLineBreak=a.VerticalImage=a.HorizontalImage=a.UltimateTextToImage=a.registerFont=a.getCanvasImage=void 0;const t=$w;Object.defineProperty(a,"getCanvasImage",{enumerable:!0,get:function(){return t.getCanvasImage}});const r=eA;Object.defineProperty(a,"HorizontalImage",{enumerable:!0,get:function(){return r.HorizontalImage}});const n=rA;Object.defineProperty(a,"registerFont",{enumerable:!0,get:function(){return n.registerFont}});const c=iA;Object.defineProperty(a,"UltimateTextToImage",{enumerable:!0,get:function(){return c.UltimateTextToImage}});const p=ab;Object.defineProperty(a,"UnicodeLineBreak",{enumerable:!0,get:function(){return p.UnicodeLineBreak}});const y=sA;Object.defineProperty(a,"VerticalImage",{enumerable:!0,get:function(){return y.VerticalImage}})})(hw);class NK extends Ba{constructor(t){super();const r=this,n=document.createElement("form"),c=new dR;editor.camera.add(c);const p=document.createElement("input");p.type="file",p.accept=".mp3, .ogg",p.addEventListener("change",function(E){v(E.target.files[0])}),n.appendChild(p),r.dom.textContent="Upload",r.dom.style.color="",r.dom.addEventListener("click",function(){p.click()});const y=new Jw(c);function v(E){const _=E.name.split(".").pop().toLowerCase(),k=new FileReader;if(E.size>8e6){r.dom.style.color="red",r.dom.textContent="File cannot be larger than 8Mb";return}if(!["mp3","ogg"].includes(_)){r.dom.style.color="red",r.dom.textContent="Suppport mp3 & ogg only";return}k.addEventListener("load",function(R){new D8().load(R.target.result,function(M){if(M.duration>60){r.dom.style.color="red",r.dom.textContent="Audio cannot be longer than 1 minute";return}r.dom.style.color="",r.dom.textContent=`${E.name}`,r.setValue({sourceFile:E.name,base64:R.target.result,objectUuid:editor.selected.uuid}),r.onChangeCallback&&r.onChangeCallback(M),y.setBuffer(M),y.play()})}),k.readAsDataURL(E),n.reset()}this.audio=null,this.onChangeCallback=null,editor.signals.objectSelected.add(async function(E){})}getValue(){return this.audio}setValue(t){var r;this.audio=t,this.dom.textContent=(r=t.sourceFile)!=null?r:"Upload"}onChange(t){return this.onChangeCallback=t,this}}class FK extends Ba{constructor(t){super();const r=this,n=document.createElement("form"),c=document.createElement("input");c.type="file",c.accept=".mp4, .pdf, .pptx",c.addEventListener("change",function(y){p(y.target.files[0])}),n.appendChild(c),r.dom.style.color="",r.dom.textContent="Upload",r.dom.addEventListener("click",function(){c.click()});async function p(y){var H,U;const v=editor.selected;if(((H=v==null?void 0:v.userData)==null?void 0:H.type)!=="Presentation")return;const E=y.name.split(".").pop().toLowerCase(),_=new FileReader;if(y.size>16e6){r.dom.style.color="red",r.dom.textContent="File cannot be larger than 16Mb";return}if(!["mp4","pdf","pptx"].includes(E)){r.dom.style.color="red",r.dom.textContent="Suppport mp4, pdf & pptx only";return}_.addEventListener("load",function(Z){const K={};K.sourceFile=y.name,K.isPresentation=!0,K.base64=Z.target.result,r.dom.textContent=`${K.sourceFile}`,r.dom.style.color="",r.setValue({base64:K.base64,sourceFile:K.sourceFile,objectUuid:editor.selected.uuid}),r.onChangeCallback&&r.onChangeCallback(K)}),_.readAsDataURL(y);let k="Presentation";const R=editor.getObjectPresentation(v);(U=R==null?void 0:R.value)!=null&&U.sourceFile&&(k=R.value.sourceFile),y.name&&(r.dom.textContent=y.name,k=y.name);let B=new Image;window.process=null;const M=new hw.UltimateTextToImage(k,{width:500,height:500,align:"center",valign:"middle",fontColor:"#ffffff",backgroundColor:"#000000"}).render().toDataUrl();B.src=M;let F=new Z0;F.image=B,F.needsUpdate=!0,v.material.map=F,v.material.transparent=!1,v.material.map.needsUpdate=!0,v.material.needsUpdate=!0,n.reset()}this.presentation=null,this.onChangeCallback=null,editor.signals.objectChanged.add(function(y){var v,E;if(((v=editor.getObjectPresentation(y))==null?void 0:v.option)&&!editor.getObjectPresentation(y).value.sourceFile){c.accept=`.${(E=editor.getObjectPresentation(y))==null?void 0:E.option}`,r.dom.textContent="Upload";let _=new Image;window.process=null;const k=new hw.UltimateTextToImage("Presentation",{width:500,height:500,align:"center",valign:"middle",fontColor:"#ffffff",backgroundColor:"#000000"}).render().toDataUrl();_.src=k;let R=new Z0;R.image=_,y.material.map=R,R.needsUpdate=!0,y.material.transparent=!1,y.material.map.needsUpdate=!0,y.material.needsUpdate=!0}}),editor.signals.objectSelected.add(async function(y){})}getValue(){return this.presentation}setValue(t){this.presentation=t}onChange(t){return this.onChangeCallback=t,this}}class CE extends ac{constructor(t){super();const r=this,n=document.createElement("form"),c=document.createElement("input");c.type="file",c.addEventListener("change",function(E){v(E.target.files[0])}),n.appendChild(c);const p=document.createElement("canvas");p.width=32,p.height=18,p.style.cursor="pointer",p.style.marginRight="5px",p.style.border="1px solid #888888",p.style.display="flex",p.style.borderRadius="5px";var y=new Image;y.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAYCAYAAACBbx+6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIPSURBVHgBzZc/jwFBGMbfddtpNCio1CRK5V60+Ap38afmG6Cg3qjJ3TV8AFqJaCgvVBRyLdUV1HPzyK7Yzd5d7Lxkf8naMRPxzDvv+8yMRhaFQsGQr6amaVkhRISCw0xq+hiPx++XHim2WS6XxWq1EsfjUQSJxWIhKpWKgEZo1YrF4ms0Gn3r9XoUDocpiJxOJ6rX67Tf759DchIvtVotsGIBtEGwpKnLDyOXy5EKh8PBsz8WixEXqVQKr6xOilSrVSyV51g+n6dGo0EcWBkQURKMyEIsRFsRuNDv92k6nZ7bXKKBcoQBxGYyGUefXRPcokP0ACDaNE3igE0wrAePDQouHo9fHoher9ekCktKANiO3HRoMBic0+E6BZDr0vyJAzbBiKj0dLo3bIK73e6f4yhKjs3pLkW3XC4d3xF9TMhtfX5gFzwajajT6ThcATkMr97tdqQKq2CIHQ6HnmPYYK5dxC9sOewWi/MJIoodzxaKNvK4VCqR3/MLi2AIS6fTjsKD98LmgLvYVIpPSTD+GMIQOTeIIo6tmITtw8hj9xZ+K7q8fnzLJYv4mTV+A7G/HS+vwcQ40KXZf8olNVRm/t+5F+Neq3ALllXO4BJtWBBHBd8LaMOEcRl92m63X4lEQpvP5waWLZlMUlCA0M1mQ61WC7bYnkwmpmYP4jKK+51sGhQQUF9IWdmE2Bn6fgDKD3GOQomNPAAAAABJRU5ErkJggg==",y.onload=function(){var E=p.getContext("2d");E.drawImage(y,0,0,p.width,p.height)},p.addEventListener("click",function(){c.click()}),p.addEventListener("drop",function(E){E.preventDefault(),E.stopPropagation(),v(E.dataTransfer.files[0])}),this.dom.appendChild(p);function v(E){const _=E.name.split(".").pop().toLowerCase(),k=new FileReader;_==="hdr"||_==="pic"?(k.addEventListener("load",function(R){new RGBELoader().load(R.target.result,function(M){M.sourceFile=E.name,M.isHDRTexture=!0,r.setValue(M),r.onChangeCallback&&r.onChangeCallback(M)})}),k.readAsDataURL(E)):_==="tga"?(k.addEventListener("load",function(R){const B=new BR().parse(R.target.result),M=new $g(B,t);M.sourceFile=E.name,r.setValue(M),r.onChangeCallback&&r.onChangeCallback(M)},!1),k.readAsArrayBuffer(E)):E.type.match("image.*")&&(k.addEventListener("load",function(R){const B=document.createElement("img");B.addEventListener("load",function(){const M=new Z0(this,t);M.sourceFile=E.name,M.needsUpdate=!0,r.setValue(M),r.onChangeCallback&&r.onChangeCallback(M)},!1),B.src=R.target.result},!1),k.readAsDataURL(E)),n.reset()}this.texture=null,this.onChangeCallback=null}getValue(){return this.texture}setValue(t){const r=this.dom.children[0],n=r.getContext("2d");if(n&&n.clearRect(0,0,r.width,r.height),t!==null){const c=t.image;if(c!==void 0&&c.width>0){r.title=t.sourceFile;const p=r.width/c.width;if(c.data===void 0)n.drawImage(c,0,0,c.width*p,c.height*p);else{const y=HK(t);n.drawImage(y,0,0,c.width*p,c.height*p)}}else r.title=t.sourceFile+" (error)"}else r.title="empty";this.texture=t}setEncoding(t){const r=this.getValue();return r!==null&&(r.encoding=t),this}onChange(t){return this.onChangeCallback=t,this}}class OK extends Xo{constructor(t){super(),this.dom.className="Outliner",this.dom.tabIndex=0;const r=this;this.scene=t.scene,this.dom.addEventListener("keydown",function(n){switch(n.keyCode){case 38:case 40:n.preventDefault(),n.stopPropagation();break}}),this.dom.addEventListener("keyup",function(n){switch(n.keyCode){case 38:r.selectIndex(r.selectedIndex-1);break;case 40:r.selectIndex(r.selectedIndex+1);break}}),this.editor=t,this.options=[],this.selectedIndex=-1,this.selectedValue=null}selectIndex(t){if(t>=0&&t<this.options.length){this.setValue(this.options[t].value);const r=document.createEvent("HTMLEvents");r.initEvent("change",!0,!0),this.dom.dispatchEvent(r)}}setOptions(t){const r=this;for(;r.dom.children.length>0;)r.dom.removeChild(r.dom.firstChild);function n(){r.setValue(this.value);const R=document.createEvent("HTMLEvents");R.initEvent("change",!0,!0),r.dom.dispatchEvent(R)}let c;function p(){c=this}function y(R){R.dataTransfer.setData("text","foo")}function v(R){if(this===c)return;const B=R.offsetY/this.clientHeight;B<.25?this.className="option dragTop":B>.75?this.className="option dragBottom":this.className="option drag"}function E(){this!==c&&(this.className="option")}function _(R){if(this===c||c===void 0)return;this.className="option";const B=r.scene,M=B.getObjectById(c.value),F=R.offsetY/this.clientHeight;if(F<.25){const H=B.getObjectById(this.value);k(M,H.parent,H)}else if(F>.75){let H,U;this.nextSibling!==null?(H=B.getObjectById(this.nextSibling.value),U=H.parent):(H=null,U=B.getObjectById(this.value).parent),k(M,U,H)}else{const H=B.getObjectById(this.value);if(M.type==="Mesh"&&H.type==="Mesh"||["Group","Exit","Entrance","Portal"].includes(`${M.userData.type}`))return;k(M,H,null,"Grouping")}}function k(R,B,M,F){M===null&&(M=void 0);let H=!1;if(R.traverse(function(K){K===B&&(H=!0)}),H)return;const U=r.editor;F==="Grouping"&&U.execute(new Fg(U,R,B,M,"Grouping")),U.execute(new Fg(U,R,B,M));const Z=document.createEvent("HTMLEvents");Z.initEvent("change",!0,!0),r.dom.dispatchEvent(Z)}r.options=[];for(let R=0;R<t.length;R++){const B=t[R];B.className="option",r.dom.appendChild(B),r.options.push(B),B.addEventListener("click",n),B.draggable===!0&&(B.addEventListener("drag",p),B.addEventListener("dragstart",y),B.addEventListener("dragover",v),B.addEventListener("dragleave",E),B.addEventListener("drop",_))}return r}getValue(){return this.selectedValue}setValue(t){for(let r=0;r<this.options.length;r++){const n=this.options[r];if(n.value===t){n.classList.add("active");const c=n.offsetTop-this.dom.offsetTop,y=c+n.offsetHeight-this.dom.offsetHeight;this.dom.scrollTop>c?this.dom.scrollTop=c:this.dom.scrollTop<y&&(this.dom.scrollTop=y),this.selectedIndex=r}else n.classList.remove("active")}return this.selectedValue=t,this}}class Ag extends ac{constructor(t,r){super(),this.setMarginRight("4px"),this.checkbox=new Ih(t),this.text=new si(r).setMarginLeft("3px"),this.add(this.checkbox),this.add(this.text)}getValue(){return this.checkbox.getValue()}setValue(t){return this.checkbox.setValue(t)}}class wp extends Vs{constructor(t,r){super(document.createElement("img")),this.dom.src=t,this.dom.style.cursor="pointer",this.dom.className="Icon",this.dom.setAttribute("autocomplete","off");function n(c){c.preventDefault(),r()}this.dom.addEventListener("mousedown",n)}getValue(){return this.value}setValue(t){return t!==void 0&&(t=parseFloat(t),t<this.min&&(t=this.min),t>this.max&&(t=this.max),t=Math.round(t/this.snap)*this.snap,this.value=t,this.dom.value=t.toFixed(this.precision),this.unit!==""&&(this.dom.value+=" "+this.unit)),this}setPrecision(t){return this.precision=t,this}setStep(t){return this.step=t,this}setSnap(t){return this.snap=t,this}setNudge(t){return this.nudge=t,this}setRange(t,r){return this.min=t,this.max=r,this}setUnit(t){return this.unit=t,this}}let bp;function HK(a){bp===void 0&&(bp=new G0,bp.outputEncoding=b0);const t=a.image;bp.setSize(t.width,t.height,!1);const r=new Mh,n=new Fh(-1,1,1,-1,0,1),c=new Us({map:a}),p=new Lo(2,2),y=new Kr(p,c);return r.add(y),bp.render(r,n),bp.domElement}function UK(a){const t=a.signals,r=a.strings,n=new on;n.setBorderTop("0");const c=new WeakMap;function p(H,U){var K,fe;const Z=document.createElement("div");if(Z.draggable=U,Z.innerHTML=v(H),Z.value=H.id,["Scene","DirectionalLight","PerspectiveCamera"].includes(H.type)&&(Z.style.display="none"),c.has(H)){let oe=H.userData.type;oe==="Entrance"||oe==="Exit"?oe="portal":oe==="Circle Cylinder"?oe="cylinder":oe==="Pentagon Cylinder"?oe="pentagon":oe==="Hexagonal Cylinder"&&(oe="hexagon"),oe&&(oe=oe.toLowerCase());const we=Ys().getKey(`addbar/option/object/${oe||"model"}`);Z.insertBefore(we,Z.firstChild);const be=c.get(H),ve=document.createElement("span");ve.classList.add("opener"),H.children&&(H.children.length>0&&ve.insertBefore(Ys().getKey(be?"sidebar/outliner/unfold":"sidebar/outliner/fold"),ve.firstChild),ve.addEventListener("click",function(){c.set(H,c.get(H)===!1),F()})),Z.insertBefore(ve,Z.firstChild);const ne=document.createElement("span");ne.classList.add("locker"),H&&ne.insertBefore(Ys().getKey((K=H.userData)!=null&&K.locked?"sidebar/outliner/lock":"sidebar/outliner/unlock"),ne.firstChild),ne.classList.add("locker"),ne.classList.add((fe=H.userData)!=null&&fe.locked?"remove":"add"),ne.addEventListener("click",function(){a.setObjectLock(H),F()}),Z.insertBefore(ne,Z.firstChild)}return Z}function y(H){return H.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function v(H){return`<div class="name">${y(H.name)}</div>`}let E=!1;const _=new OK(a);_.setId("outliner"),_.onChange(function(){E=!0,a.scene.getObjectById(_.getValue())&&a.selectById(parseInt(_.getValue())),E=!1}),_.onDblClick(function(){a.focusById(parseInt(_.getValue()))}),n.add(_);const k=new Lr;k.setMarginTop("10px"),k.setMarginBottom("0px"),k.setMarginLeft("29px");const R=new B0("sidebar/outliner/group",()=>{});R.setMarginRight("5px"),k.add(R),k.add(new si(r.getKey("sidebar/scene/group"))),k.onClick(function(){var U,Z;let H=a.selected;if(H&&((U=H.parent)==null?void 0:U.type)==="Scene"&&!["Exit","Entrance","Portal","Model"].includes((Z=H.userData)==null?void 0:Z.type)){if(H.userData.type==="Group")[...H.children].forEach((K,fe)=>{a.execute(new Fg(a,K,a.scene)),a.execute(new oc(a,K,H.position.add(K.position),K.position))}),a.execute(new xh(a,object));else{const K=new xl;K.userData.type="Group",K.name=`${H.name}'s Group`;const{x:fe,y:oe,z:we}=H.position;K.translateX(fe),K.translateY(oe),K.translateZ(we),a.execute(new r0(a,K)),a.execute(new oc(a,H,new wt(0,0,0))),a.execute(new Fg(a,H,K))}a.signals.objectChanged.dispatch(H),F()}}),n.add(k);const B=new Lr,M=new Eu(a.config.getKey("project/title")).setLeft("100px").setWidth("150px").onChange(function(){a.config.setKey("project/title",this.getValue())});B.add(new si(r.getKey("sidebar/project/title")).setWidth("90px")),B.add(M);function F(){const H=a.camera,U=a.scene,Z=[];Z.push(p(H,!1)),Z.push(p(U,!1)),function K(fe,oe){for(let we=0,be=fe.length;we<be;we++){const ve=fe[we];c.has(ve)===!1&&c.set(ve,!1);const ne=p(ve,!0);ne.style.paddingLeft=oe*18+"px",Z.push(ne),c.get(ve)===!0&&K(ve.children,oe+1)}}(U.children,0),_.setOptions(Z),a.selected!==null&&_.setValue(a.selected.id),M.setValue(a.config.getKey("project/title"))}return F(),t.editorCleared.add(F),t.sceneGraphChanged.add(F),t.objectSelected.add(function(H){if(E!==!0)if(H!==null&&H.parent!==null){let U=!1,Z=H.parent;for(;Z!==a.scene;)c.get(Z)!==!0&&(c.set(Z,!0),U=!0),Z=Z.parent;U&&F(),_.setValue(H.id)}else _.setValue(null)}),t.editorCleared.add(function(){M.setValue(a.config.getKey("project/title")),F()}),n}function VK(a){const t=a.strings,r=a.signals,n=new on;n.setBorderTop("0"),n.setMarginTop("20px"),n.setDisplay("none"),new Lr().setClass("line");const p=new Lr;p.setClass("title"),p.add(new si(t.getKey("sidebar/properties/object")).setWidth("120px"));const y=new Lr,v=new si;y.add(new si(t.getKey("sidebar/object/type")).setWidth("120px")),y.add(v);const E=new Lr,_=new Eu().setWidth("102px").setFontSize("12px").setDisabled(!0),k=new Ba(t.getKey("sidebar/object/new")).setMarginLeft("7px").onClick(function(){_.setValue(Cf.generateUUID()),a.execute(new F8(a,a.selected,_.getValue()))});E.add(new si(t.getKey("sidebar/object/uuid")).setWidth("120px")),E.add(_),E.add(k);const R=new Lr,B=new Eu().setWidth("150px").setFontSize("12px").onChange(function(){a.execute(new ws(a,a.selected,"name",B.getValue()))});R.add(new si(t.getKey("sidebar/object/name")).setWidth("120px")),R.add(B),n.add(R);const M=new Lr,F=new Ih().onChange(dt);M.add(new si(t.getKey("sidebar/object/visible")).setWidth("120px")),M.add(F),n.add(M);const{X:H,Y:U,Z}=cw.ROOM.SIZE,K=new Lr,fe=new w0().addClass("x").setSnap(.01).setPrecision(2).setRange(H.MIN,H.MAX).setWidth("40px").onChange(dt),oe=new w0().addClass("y").setSnap(.01).setPrecision(2).setRange(U.MIN,U.MAX).setWidth("40px").onChange(dt),we=new w0().addClass("z").setSnap(.01).setPrecision(2).setRange(Z.MIN,Z.MAX).setWidth("40px").onChange(dt);K.add(new si(t.getKey("sidebar/object/position")).setWidth("120px")),K.add(fe,oe,we),n.add(K);const be=new Lr,ve=new w0().addClass("x").setSnap(1).setStep(10).setPrecision(0).setUnit("\xB0").setWidth("40px").onChange(dt),ne=new w0().addClass("y").setSnap(1).setStep(10).setPrecision(0).setUnit("\xB0").setWidth("40px").onChange(dt),ae=new w0().addClass("z").setSnap(1).setStep(10).setPrecision(0).setUnit("\xB0").setWidth("40px").onChange(dt);be.add(new si(t.getKey("sidebar/object/rotation")).setWidth("120px"));const ye=new B0("sidebar/object/rotation/reset",()=>{ve.setValue(0),ne.setValue(0),ae.setValue(0),dt()});be.add(ve,ne,ae,ye),n.add(be);const{X:de,Y:xe,Z:le}=cw.OBJECT.EDIT.SCALE.RANGE,re=new Lr,he=new w0(1).addClass("x").setSnap(.1).setStep(1).setRange(de.MIN,de.MAX).setPrecision(1).setWidth("40px").onChange(dt),me=new w0(1).addClass("y").setSnap(.1).setStep(1).setRange(xe.MIN,xe.MAX).setPrecision(1).setWidth("40px").onChange(dt),Re=new w0(1).addClass("z").setSnap(.1).setStep(1).setRange(le.MIN,le.MAX).setPrecision(1).setWidth("40px").onChange(dt);re.add(new si(t.getKey("sidebar/object/scale")).setWidth("120px"));const Ie=new B0("sidebar/object/rotation/reset",()=>{he.setValue(1),me.setValue(1),Re.setValue(1),dt()});re.add(he,me,Re,Ie),n.add(re);const Ne=new Lr,Qe=new si;Ne.add(new si(t.getKey("sidebar/geometry/type")).setWidth("120px")),Ne.add(Qe);const Ue=new ac;n.add(Ue);const ce=new Lr,Me=new w0().onChange(dt);ce.add(new si(t.getKey("sidebar/object/fov")).setWidth("120px")),ce.add(Me),n.add(ce);const ot=new Lr,Se=new w0().onChange(dt);ot.add(new si(t.getKey("sidebar/object/left")).setWidth("120px")),ot.add(Se),n.add(ot);const Xe=new Lr,ct=new w0().onChange(dt);Xe.add(new si(t.getKey("sidebar/object/right")).setWidth("120px")),Xe.add(ct),n.add(Xe);const $e=new Lr,Et=new w0().onChange(dt);$e.add(new si(t.getKey("sidebar/object/top")).setWidth("120px")),$e.add(Et),n.add($e);const Dt=new Lr,er=new w0().onChange(dt);Dt.add(new si(t.getKey("sidebar/object/bottom")).setWidth("120px")),Dt.add(er),n.add(Dt);const Gt=new Lr,Ht=new w0().onChange(dt);Gt.add(new si(t.getKey("sidebar/object/near")).setWidth("120px")),Gt.add(Ht),n.add(Gt);const Kt=new Lr,yr=new w0().onChange(dt);Kt.add(new si(t.getKey("sidebar/object/far")).setWidth("120px")),Kt.add(yr),n.add(Kt);const Ur=new Lr,Yr=new w0().setSnap(.1).onChange(dt);Ur.add(new si(t.getKey("sidebar/object/intensity")).setWidth("120px")),Ur.add(Yr),n.add(Ur);const oi=new Lr,xt=new l1().onInput(dt);oi.add(new si(t.getKey("sidebar/object/color")).setWidth("120px")),oi.add(xt),n.add(oi);const kt=new Lr,rr=new l1().onInput(dt);kt.add(new si(t.getKey("sidebar/object/groundcolor")).setWidth("120px")),kt.add(rr),n.add(kt);const mt=new Lr,ft=new w0().setRange(0,1/0).onChange(dt);mt.add(new si(t.getKey("sidebar/object/distance")).setWidth("120px")),mt.add(ft),n.add(mt);const Ut=new Lr,ir=new w0().setPrecision(3).setRange(0,Math.PI/2).onChange(dt);Ut.add(new si(t.getKey("sidebar/object/angle")).setWidth("120px")),Ut.add(ir),n.add(Ut);const vr=new Lr,nt=new w0().setRange(0,1).onChange(dt);vr.add(new si(t.getKey("sidebar/object/penumbra")).setWidth("120px")),vr.add(nt),n.add(vr);const De=new Lr,Te=new w0().setRange(0,1/0).onChange(dt);De.add(new si(t.getKey("sidebar/object/decay")).setWidth("120px")),De.add(Te),n.add(De);const gt=new Lr;gt.add(new si(t.getKey("sidebar/object/shadow")).setWidth("120px"));const zt=new Ag(!1,t.getKey("sidebar/object/cast")).onChange(dt),Bt=new Ag(!1,t.getKey("sidebar/object/receive")).onChange(dt),bt=new Lr;bt.add(new si(t.getKey("sidebar/object/shadowBias")).setWidth("120px"));const Rr=new w0(0).setPrecision(5).setStep(1e-4).setNudge(1e-5).onChange(dt);bt.add(Rr);const Ct=new Lr;Ct.add(new si(t.getKey("sidebar/object/shadowNormalBias")).setWidth("120px"));const Nt=new w0(0).onChange(dt);Ct.add(Nt);const lr=new Lr;lr.add(new si(t.getKey("sidebar/object/shadowRadius")).setWidth("120px"));const Sr=new w0(1).onChange(dt);lr.add(Sr);const Vr=new Lr,gi=new Ih().onChange(dt);Vr.add(new si(t.getKey("sidebar/object/frustumcull")).setWidth("120px")),Vr.add(gi);const ki=new Lr,mi=new ug().setWidth("50px").onChange(dt);ki.add(new si(t.getKey("sidebar/object/renderorder")).setWidth("120px")),ki.add(mi);const Fe=new Lr,Ke=new q8().setWidth("150px").setHeight("40px").setFontSize("12px").onChange(dt);Ke.onKeyUp(function(){try{JSON.parse(Ke.getValue()),Ke.dom.classList.add("success"),Ke.dom.classList.remove("fail")}catch{Ke.dom.classList.remove("success"),Ke.dom.classList.add("fail")}}),Fe.add(new si(t.getKey("sidebar/object/userdata")).setWidth("120px")),Fe.add(Ke);function dt(){const jt=a.selected;if(jt!==null){let ni=new wt(fe.getValue(),oe.getValue(),we.getValue());jt.position.distanceTo(ni)>=.01&&a.execute(new oc(a,jt,ni,jt.position));const Mn=new lo(ve.getValue()*Cf.DEG2RAD,ne.getValue()*Cf.DEG2RAD,ae.getValue()*Cf.DEG2RAD);new wt().setFromEuler(jt.rotation).distanceTo(new wt().setFromEuler(Mn))>=.01&&a.execute(new Bp(a,jt,Mn));const Tt=new wt(he.getValue(),me.getValue(),Re.getValue());jt.scale.distanceTo(Tt)>=.01&&a.execute(new Ip(a,jt,Tt,jt.scale)),jt.fov!==void 0&&Math.abs(jt.fov-Me.getValue())>=.01&&(a.execute(new ws(a,jt,"fov",Me.getValue())),jt.updateProjectionMatrix()),jt.left!==void 0&&Math.abs(jt.left-Se.getValue())>=.01&&(a.execute(new ws(a,jt,"left",Se.getValue())),jt.updateProjectionMatrix()),jt.right!==void 0&&Math.abs(jt.right-ct.getValue())>=.01&&(a.execute(new ws(a,jt,"right",ct.getValue())),jt.updateProjectionMatrix()),jt.top!==void 0&&Math.abs(jt.top-Et.getValue())>=.01&&(a.execute(new ws(a,jt,"top",Et.getValue())),jt.updateProjectionMatrix()),jt.bottom!==void 0&&Math.abs(jt.bottom-er.getValue())>=.01&&(a.execute(new ws(a,jt,"bottom",er.getValue())),jt.updateProjectionMatrix()),jt.near!==void 0&&Math.abs(jt.near-Ht.getValue())>=.01&&(a.execute(new ws(a,jt,"near",Ht.getValue())),jt.isOrthographicCamera&&jt.updateProjectionMatrix()),jt.far!==void 0&&Math.abs(jt.far-yr.getValue())>=.01&&(a.execute(new ws(a,jt,"far",yr.getValue())),jt.isOrthographicCamera&&jt.updateProjectionMatrix()),jt.intensity!==void 0&&Math.abs(jt.intensity-Yr.getValue())>=.01&&a.execute(new ws(a,jt,"intensity",Yr.getValue())),jt.color!==void 0&&jt.color.getHex()!==xt.getHexValue()&&a.execute(new vE(a,jt,"color",xt.getHexValue())),jt.groundColor!==void 0&&jt.groundColor.getHex()!==rr.getHexValue()&&a.execute(new vE(a,jt,"groundColor",rr.getHexValue())),jt.distance!==void 0&&Math.abs(jt.distance-ft.getValue())>=.01&&a.execute(new ws(a,jt,"distance",ft.getValue())),jt.angle!==void 0&&Math.abs(jt.angle-ir.getValue())>=.01&&a.execute(new ws(a,jt,"angle",ir.getValue())),jt.penumbra!==void 0&&Math.abs(jt.penumbra-nt.getValue())>=.01&&a.execute(new ws(a,jt,"penumbra",nt.getValue())),jt.decay!==void 0&&Math.abs(jt.decay-Te.getValue())>=.01&&a.execute(new ws(a,jt,"decay",Te.getValue())),jt.visible!==F.getValue()&&a.execute(new ws(a,jt,"visible",F.getValue())),jt.frustumCulled!==gi.getValue()&&a.execute(new ws(a,jt,"frustumCulled",gi.getValue())),jt.renderOrder!==mi.getValue()&&a.execute(new ws(a,jt,"renderOrder",mi.getValue())),jt.castShadow!==void 0&&jt.castShadow!==zt.getValue()&&a.execute(new ws(a,jt,"castShadow",zt.getValue())),jt.receiveShadow!==Bt.getValue()&&(jt.material!==void 0&&(jt.material.needsUpdate=!0),a.execute(new ws(a,jt,"receiveShadow",Bt.getValue()))),jt.shadow!==void 0&&(jt.shadow.bias!==Rr.getValue()&&a.execute(new ws(a,jt.shadow,"bias",Rr.getValue())),jt.shadow.normalBias!==Nt.getValue()&&a.execute(new ws(a,jt.shadow,"normalBias",Nt.getValue())),jt.shadow.radius!==Sr.getValue()&&a.execute(new ws(a,jt.shadow,"radius",Sr.getValue())));try{const ur=JSON.parse(Ke.getValue());JSON.stringify(jt.userData)!=JSON.stringify(ur)&&a.execute(new ws(a,jt,"userData",ur))}catch(ur){console.warn(ur)}}}function Ot(jt){const ni={fov:ce,left:ot,right:Xe,top:$e,bottom:Dt,near:Gt,far:Kt,intensity:Ur,color:oi,groundColor:kt,distance:mt,angle:Ut,penumbra:vr,decay:De,castShadow:gt,receiveShadow:Bt,shadow:[bt,Ct,lr]};for(const Mn in ni){const Tt=ni[Mn];if(Array.isArray(Tt)===!0)for(let ur=0;ur<Tt.length;ur++)Tt[ur].setDisplay(jt[Mn]!==void 0?"":"none");else Tt.setDisplay(jt[Mn]!==void 0?"":"none")}jt.isLight&&Bt.setDisplay("none")}function $t(jt){var ni;jt.isLight||jt.isObject3D&&jt.userData.targetInverse||["Exit","Entrance","Portal"].includes((ni=jt.userData)==null?void 0:ni.type)?(be.setDisplay("none"),re.setDisplay("none")):(be.setDisplay(""),re.setDisplay(""))}r.objectSelected.add(function(jt){jt!==null?(n.setDisplay("block"),Ot(jt),ai(jt)):n.setDisplay("none")}),r.objectChanged.add(function(jt){jt===a.selected&&ai(jt)}),r.refreshSidebarObject3D.add(function(jt){jt===a.selected&&ai(jt)});async function Cr(){const jt=a.selected;if(jt&&jt.geometry){const ni=jt.geometry;n.setDisplay("block"),Qe.setValue(ni.type),jt.userData.type==="Presentation"?(he.setRange(1,40),me.setRange(1,40),Re.setRange(1,1)):(he.setRange(.1,40),me.setRange(.1,40),Re.setRange(.1,40))}}function ai(jt){Qe.setValue(jt.type),_.setValue(jt.uuid),B.setValue(jt.name),a.signals.sceneGraphChanged.dispatch(),fe.setValue(jt.position.x),oe.setValue(jt.position.y),we.setValue(jt.position.z),ve.setValue(jt.rotation.x*Cf.RAD2DEG),ne.setValue(jt.rotation.y*Cf.RAD2DEG),ae.setValue(jt.rotation.z*Cf.RAD2DEG),he.setValue(jt.scale.x),me.setValue(jt.scale.y),Re.setValue(jt.scale.z),jt.fov!==void 0&&Me.setValue(jt.fov),jt.left!==void 0&&Se.setValue(jt.left),jt.right!==void 0&&ct.setValue(jt.right),jt.top!==void 0&&Et.setValue(jt.top),jt.bottom!==void 0&&er.setValue(jt.bottom),jt.near!==void 0&&Ht.setValue(jt.near),jt.far!==void 0&&yr.setValue(jt.far),jt.intensity!==void 0&&Yr.setValue(jt.intensity),jt.color!==void 0&&xt.setHexValue(jt.color.getHexString()),jt.groundColor!==void 0&&rr.setHexValue(jt.groundColor.getHexString()),jt.distance!==void 0&&ft.setValue(jt.distance),jt.angle!==void 0&&ir.setValue(jt.angle),jt.penumbra!==void 0&&nt.setValue(jt.penumbra),jt.decay!==void 0&&Te.setValue(jt.decay),jt.castShadow!==void 0&&zt.setValue(jt.castShadow),jt.receiveShadow!==void 0&&Bt.setValue(jt.receiveShadow),jt.shadow!==void 0&&(Rr.setValue(jt.shadow.bias),Nt.setValue(jt.shadow.normalBias),Sr.setValue(jt.shadow.radius)),F.setValue(jt.visible),gi.setValue(jt.frustumCulled),mi.setValue(jt.renderOrder);try{Ke.setValue(JSON.stringify(jt.userData,null,"  "))}catch(ni){console.log(ni)}Ke.setBorderColor("transparent"),Ke.setBackgroundColor(""),$t(jt)}return r.objectSelected.add(function(jt){Cr()}),r.geometryChanged.add(Cr),n}function jK(a){const t=a.signals,r=a.strings;let n;const c=new on;c.setBorderTop("0"),c.setDisplay("none"),c.setMarginTop("20px"),c.setMarginBottom("20px");const p=new Lr;p.setClass("line");const y=new Lr;y.setClass("title"),y.add(new si(r.getKey("sidebar/properties/play")).setWidth("120px"));const v=new Lr,E=new q8(a!=null&&a.selected?a.getObjectText(a.selected).value:"").setWidth("145px").onChange(ve);v.add(new si(r.getKey("sidebar/play/text")).setWidth("120px")),v.add(E),c.add(v);const _=new Lr;_.add(new si(r.getKey("sidebar/play/postitbg")).setWidth("120px"));const k=new l1().onInput(ve);a!=null&&a.selected&&k.setValue(a.getObjectText(a.selected).value),_.add(k),c.add(_);const R=new Lr,B=new El().setWidth("150px").setFontSize("12px").onChange(ve);R.add(new si(r.getKey("sidebar/play/onclick")).setWidth("120px")),R.add(B),c.add(R);const M=new Lr,F=new Eu(a!=null&&a.selected?a.getObjectOnClick(a.selected).value:"").setWidth("145px").onChange(function(){a.setObjectOnClick(a.selected,{value:this.getValue()})});M.add(new si(`/${r.getKey("sidebar/play/onclick/url")}`).setWidth("120px")),M.add(F),c.add(M);const H=new Lr,U=new El().setWidth("150px").setFontSize("12px").onChange(ve);H.add(new si(r.getKey("sidebar/play/audio")).setWidth("120px")),H.add(U),c.add(H);const Z=new Lr;Z.add(new si(`/${r.getKey("sidebar/play/audio/file")}`).setWidth("120px"));const K=new NK(r.getKey("sidebar/play/audio/upload")).onChange(ve);Z.add(K),c.add(Z);const fe=new Lr,oe=new El().setWidth("150px").setFontSize("12px").onChange(ve);fe.add(new si(r.getKey("sidebar/play/presentation/present")).setWidth("120px")),fe.add(oe),c.add(fe);const we=new Lr;we.add(new si(`/${r.getKey("sidebar/play/presentation/file")}`).setWidth("120px"));const be=new FK(r.getKey("sidebar/play/presentation/upload")).onChange(ve);we.add(be),c.add(we);function ve(){var le,re,he,me,Re,Ie,Ne,Qe,Ue,ce,Me,ot,Se,Xe,ct,$e,Et;const ae=a.getObjectAudio(n),ye=U.getValue();((le=a.selected)==null?void 0:le.userData)&&!["Exit","Entrance","Portal","Presentation"].includes((he=(re=a.selected)==null?void 0:re.userData)==null?void 0:he.type)&&ye&&(ae==null?void 0:ae.option)!==ye&&(a.setObjectAudio(a.selected,{value:{base64:null,sourceFile:null}}),a.execute(new iD(a,n,ye))),((me=a.selected)==null?void 0:me.userData)&&!["Exit","Entrance","Portal","Presentation"].includes((Ie=(Re=a.selected)==null?void 0:Re.userData)==null?void 0:Ie.type)&&((Ne=K.audio)==null?void 0:Ne.sourceFile)&&((Qe=ae==null?void 0:ae.value)==null?void 0:Qe.sourceFile)!==((Ue=K.audio)==null?void 0:Ue.sourceFile)&&a.execute(new nD(a,a.selected,K.audio)),!!B.getValue()&&B.getValue()!==((Se=(ot=(Me=(ce=a.selected)==null?void 0:ce.userData)==null?void 0:Me.play)==null?void 0:ot.onClick)==null?void 0:Se.option)&&a.execute(new lD(a,a.selected,B.getValue()));const de=a.getObjectPresentation(n),xe=oe.getValue();if(((Xe=n==null?void 0:n.userData)==null?void 0:Xe.type)==="Presentation"&&(de==null?void 0:de.option)&&(de==null?void 0:de.option)!==xe){if(a.setObjectPresentation(n,{option:xe,value:{sourceFile:null,base64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAH0CAYAAADL1t+KAAAAAXNSR0IArs4c6QAAIABJREFUeF7t3QWsJNe1BdBymJmZmZmZE4UZFGZmVJg5UZiZmUlhZmZmZsavXVJbncmM44nt/Hif1dLI45n3quusc+1d99atfnssy/KPxYsAAQIECBDYXwvsIdD31/1z8gQIECBAYBUQ6AYCAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxkCtwAEOcIDlUpe61HKa05xmpzX++c9/Xv7whz8s3/72t5cPfehDyw9/+MNai90tbI898r+GZfnHP/6xu9+606/f8XinOtWplnOd61zLwQ9+8OWNb3zj8sUvfnFfeR8HITBZQKBP7n557Qc72MGWRzziEcsVrnCFnVb697//ffnrX/+6/P73v1/D/L3vfe/ynOc8Z/nyl79cLrPr8o50pCMt17rWtZajH/3oy/Oe97zl05/+9D6y2NXxbnrTmy43vvGNl8Mf/vDL7W53u+XlL3/5Pnof30yAwLIIdKOgViCzv6c97WnL1a9+9bXGv/3tb0tCfPPKrPGABzzgkn9mJvqzn/1sefrTn7486UlPWr75zW/WuuxVYXe7292WhO13vvOd5a53vevyrne9ax857Op4Ofatb33r5YhHPOJyvetdb3nuc5+7j97HNxMgINCNgWKB7UBPQD/xiU9cPvaxj/1TxQc+8IGXK1/5ystlLnOZ5QhHOMLygx/8YLnZzW62vOpVryqW2XVpz3jGM5brXOc6y0c+8pHlTne60z4O9F0d72xnO9ty/vOffznEIQ6xvOxlL1s+9alPjfRWNIF9U8AMfd/UdKz/KYHtQP/c5z63Lu2+5S1v+adzzOz8eMc73nLf+953XZrPMn1mlQn/X/3qV/9T9fw3Tua/FejpzaEPfeh1dSTOf/zjH/8b5XkPAtUCAr26vbOL2zuBvhHKrPyOd7zjGu5Z/n3gAx+4ZFPd1a52teVYxzrW8p73vGc54QlPuJz+9Kdfw+eDH/zg8tKXvnT5xje+sW7suvzlL79c+MIXXo585CMvmfVns91XvvKV9Vi5D729uewgBznIulnvkpe85Hqv+kAHOtDyl7/8ZQ22bBDLr5/+9Kf/0rwc/9KXvvR6jgc96EGXbOrLvf8XvOAFy/ve977lT3/6057fc81rXnM9n49//OPLV7/61eXMZz7zujnwkIc85Pp9Oe9nP/vZ69/n3M5xjnOsFzSpI8f/xS9+sc6aP/CBD6z30j//+c+vHjnni13sYssxj3nMte58b973W9/61vL85z9/+ehHP7re2vh3x0vdWRU51KEOtTz1qU9d32fzOuxhD7tc6UpXWmfwWTXJ+8Y8deRccl6bWydxyL34c57znOv753WhC11oOf7xj78aZX9EVhte/OIXr9/vRaBZQKA3d3d4bbsT6Ne//vWXu9zlLsuJTnSi5VnPetbyoAc9aP39Pe95zyU7sn/84x+vM8oETMIkIZH7wLnXnEC53OUut4ZcZvgJoITar3/96yUrA4985COXN73pTWvIZ0Z6k5vcZP2eHD9LzvmzHDOh/r3vfW955StfuTzlKU/Zc3Ne3vcGN7jBkpDO9ySUc+8/35NjJqgys05o/ehHP1q7/pjHPGa9N53j5WuOcYxjrOeei4ec229/+9v1QiP1vfOd71yPf4c73GE58YlPvJ5/gjpfl93n+fMEf875Kle5ynKc4xxnPe+cQ175ut/97nfLl770peUe97jH8ra3vW2J514d7xSnOMVyq1vdaj2neLzwhS9cj3Xa0552udGNbrRc4hKXWI52tKOtoRyfbF78zW9+s77HYx/72OV1r3vd+u+xecITnrDeNvnkJz+5Xkyd4AQnWC8Ucn75vuyNyDk9/OEPX7/Gi0CrgEBv7ay61hnkZlPcrpbcw5SAfMhDHrLeO87vE0qPf/zjl/Od73zLve51r+V0pzvdqpmZbWbOOe6LXvSi5VGPetQ6g7/5zW++zsy/8IUvrEHz/e9/f50xXuACF1gOd7jDrY/EJfzf/e53L2c605mWBzzgAcsFL3jBNWxz/zghldlzZu0Jy5/85CfrffxXvOIVa7BuwvEkJznJ+v6vec1r1mA66UlPus7Y8z2ZIeeWQv4uAfvkJz95DfS8Eog5twR3wjoz96w25IIgNST8s9v83Oc+93LDG95wXYXIXoLcnsjO/4RhvicrGLmgyH6ErAgk7HOczKSzipFjZ7b90Ic+dA38vTpe3HbcFBereKcP+f1nP/vZ5Q1veMNa83nPe971MbcE+Gc+85n1YiHndZjDHGa9+MmFRi6IUnsutmJ+lKMcZXXOhVYurm5zm9uss/j00YtAo4BAb+yqmlaB7UBPeGbmvT1DSxgkiE596lOvAZxl4CxhZ+aYx6gSlptAz5JvZtpZDk9w5XinPOUpl7vf/e7rcnaCLxcBCe0s8yZMEvTZYZ/3efCDH7zOJDOTz2azzCJz3z5hlKX2BOp1r3vddaac2XRmzrmPn2BLQGZ5OkGfc8i5/fznP1+Pm5lszjcz3lwA5JiZeW8CPTPynHP+PbPshHsuKu585zsvZznLWdal7vw+AZiLmdRw1atedXXKsd7xjneslnnfPM4Wn4c97GFr0Oa8E7AJ2tve9rbrhcCHP/zh9Xjvf//7d3m8zOZzcbBjoCfIs0qSC5VcTKT+nFeW9I961KOunjm3LMmnnjySmNn3JtBz8ZPvya2E7373u+tqSc45F0THPvax19py7rn48SLQKCDQG7uqpn8J9MzKEogJk80r97Izk0xAZGk3of3oRz96edzjHrcG9mUve9k9Az0z0syycy9987rf/e63hkyWdxNimZ1mKXvzOutZz7qG8XnOc57lrW996zrzz0VAQiuz7cyY84hc/i4BnSDPDDhB9LWvfW1dzs997XxfAjuhml85t80rgZ8Qyww1KwM5n1e/+tV7BnpC7va3v/36OF4uNPJKzTnXXGzkPn9mrgnovHa2KS42WT3IikO+PrcEtkMxqxM5h5xrVhtyvNxi2NXx8uc7e2wt9lluzznnoueZz3zmnuec7znZyU62rijkHn4uODJLz2x8E+gJ8VxY5PwyU88r9/JzMZXVgqyG5CIlM3wvAo0CAr2xq2r6l0DfFUmWaRN0CYjcx33961+/BmOWo7cDPQGYZfkE7eaVMM6ydu7VZia548wvKwRnPOMZ11WA3OfOjDSb0RLKF73oRdeZZ0I7AZ1/JpwyM/3617++Lh/nlRWAzMAz488jd3n/7Wfp8zWZaWcTWI6XGX6WlTcz9Nxnzr3vbODbfiUEc+75lLwcP7cKdhXAmdVnJp6Lh1wMHPe4x13DNZvnsqqR1YXcMsg973woTwI9qwK7E+i5/x/jzKhTf6zSi+1XnLPKkZWMrA7k3nsuhjaBnh7kwmr72fmc02ZlJBc69773vd1H9/+HWgGBXttahW0vuSe4EhhZds5rs+krM7lsnMqu7twbzr3WzWs70Df31X/5y1+uf52Qy2z22te+9vr7BPCOQZuvy5J3gihLwwmg3OPOPecE9dnPfvb173MuWR3IveJcTCQM84l1Cf8sKyeQsxz+794jx0nYZcl5E+i5F36LW9xifd/tVy5GshSdWW0C/bWvfe1eBnA2r6XWzI6zkpBwz8pEjLPSsflo18zgE8a7G+g5v5xzVhp2Fsybc8/GtnjELRcvOe9NoGeVIbcqtj9rYPsee94jgf6JT3zCfxwEKgUEemVbFRWBHTfFZek5M7rNa2cBvC23HeiZdSY4smN888qScEIuf5bH2HLRsKtXltTzyFXCJOeV3eS555xwzz3o3ONNMOaVnepZws6Gvmx0S4BlZpxl/7169CqBnqX1fN0m0DPz356Bb85vdwI9S+6xy3lkg1nCOxc2WZHIZrvUnsfdsnFtsxKxu4H+kpe8ZD33a1zjGuujb7nHnlsSO76y5J5l+ZxDAj0rC5tA39kMPCsL+fvcexfo/r/QLiDQ2zs8uL69u8t9V0TbgZ5ZZ2b424G+WXLPn2XGveMScY6bpenMEjPbzq7wrAZsHlfLbDwzzSynZwacTXh5z2wA23xSWzbrbZbcc98594E394c3551d7llazgw/z2jnn/tmoGdJP/ehs+s/M/rUnYuG7BfI0nfqz22EPDqWWwI53726J5/z3vEeei52cgGTjXG5CLnlLW+556rBps6E+KaurKTkAuPNb36zQB/837jS/1lAoBsRtQL7daDn8bM8Xpal5wReNtNtngMPaj7eNMF08pOffN1MltBLQCf4EuTZVJcl46wUZFk+s/Q8QpZgz331zYa7XCzkGNndvtnFvmlaLgaygSwb1nK//P73v/+6CrFPAz0rCZklv/3tb18fZcu96TyillWJ1Lr9A2wufvGLr+eV3fO5/51A31zcbDbZbR9vZ4GeD+CJT2bfscmn9eUCKjVtXtlcmA/8iWFuneT8Mps3Q6/9T1hhuykg0HcTzJfvfwT260Df3sWe++95LCozzYR6ZubZzZ4Zd2boWU5OEOYecQIvO8Mzu8wSch55yyuPoCXIshSf3fSZxWYJOyF/xStecZ0Rb55/z27y3MvOD1LJ5rb8PveOE3J51Ow/DfScZ2bJeSIgFwdZxs55Zfd4HifL42i5wMjjeXll93h2m+fWQe7zZwafe/b5vrx2drwcO8fb8bG1PDOe98yFUFYzcr88FzFZ3s/mwly45Fxy+yGPn8UlTy0I9P3Pf5POdL8VEOj7ra+j/z8K7NeBnsfLEs75lUBNmGVpPUvQ2fmd++T5Zz42NSGYZej8WYLqIhe5yPp1uRDIxrUsJ2eGnl+ZoSbYsjs7y+d5dj2bvfIBN9lcl5DPJr4EaB5/y8VBZrL3uc991hl0AvA/DfSsMuTedFYMcm55r4RzVg2yIS7nnNl5as3X5J56nqnPueSVi47MsnPhkdfOjpdH+RLaOwZ6jpGVgCyl58eu5v3zK48cpsbcqsg98XzUbQI9HxaU7xHo/4//kXnr/ykBgf4/1Q4ns28KbAd6PnUsG8y2N8X9u/fKh7lkV3SCNKGdJeAdf4hIgjxLzpkp5+vyoTN5JaBzrzs7thNq2SSWoM1Hk2bzWGbSWULORcHmc97zPfmI2QRUlqqz6SzL8XlOPjviszEv37vj9yR0E+AJutyXz2uz6W3zWNqO9/ez6W57l/vmsbUs3Wf5PO+XWhLgua2Qe9YJ2zOc4Qx7fnxszjePyuUDbeKSR/HikdpSQ8J9Z8fLBUPu+28CPeex+fGp+fOsauSiILcZNrvnU1P8MmNPbXmWPEG/vektPyEv/dr+yW3bf++xtX834v39/l1AoO/fO+j8dymQQMoHsuRZ6YRLZpaZ4e7dV2aFuW+cUMgScO5r72xnfAI3X5cwyww8m9qyrJwNYplh5p/b94JzoZFZbZ7nzjJ2nlPPeWUZPYGe++1Ztt/+gS7ZaZ73yIw4z5znV5abE+YJ7U1tm+9JGOZ8ErQ57o4/7GXz9wnk1Lb5+yxnZ9afD8DJ6kL+PLcEEuiZIed8U2N25KeuzNRz3zwXL3m/zJhzTtnYlg2AuzpeViES3rnAyQpGVik2r2wQ3NSa98vXpL58Sl1qzUXL5uNbc5zUkk2Bscu5bFtnFSFjYFd/v3fHgq8jsH8QEOj7hy45x/2FQMIj4Z/ATpDmImLzATE7K2Dz9QnBBGt2jO/V129m/vn6bMTb/MCShNt2+O8bWKkhQZpj59w2x8/qQGrMxVKCMzP4vfPeuzreXp1r3n/7vbZ/mty+UaNjEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgSUQC17AAAGIklEQVQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgT+D+1/H21SjEKpgAAAABJRU5ErkJggg=="}}),xe==="none"){let Dt=new Image;Dt.src=a.getObjectPresentation(n).value.base64,Dt.onload=function(){let er=new Z0;er.image=Dt,n.material.transparent=!1,n.material.map=er,er.needsUpdate=!0,n.material.map.needsUpdate=!0,n.material.needsUpdate=!0,ve()}}a.execute(new fD(a,n,xe))}((ct=be.presentation)==null?void 0:ct.base64)&&(($e=de==null?void 0:de.value)==null?void 0:$e.sourceFile)!==((Et=be.presentation)==null?void 0:Et.sourceFile)&&a.execute(new uD(a,a.selected,be!=null&&be.presentation?be==null?void 0:be.presentation:de==null?void 0:de.value)),E.getValue()&&a.setObjectText(a.selected,{value:E.getValue()}),k.getHexValue()&&a.setObjectPostit(a.selected,{bgcolor:k.getHexValue()}),ne()}function ne(){if(!n||!a.selected){c.setDisplay("none");return}const{userData:{type:ae}}=n,ye=a.getObjectText(n);E.setValue(ye==null?void 0:ye.value);const de=a.getObjectText(n);k.setHexValue(de==null?void 0:de.bgcolor),U.setOptions(GK);const xe=a.getObjectAudio(n);n.userData.type!=="Presentation"&&(xe==null?void 0:xe.option)&&(xe==null?void 0:xe.option)!=="none"?Z.setDisplay(""):Z.setDisplay("none"),xe!=null&&xe.option&&U.setValue(xe.option),xe!=null&&xe.value?K.setValue(xe==null?void 0:xe.value):K.setValue({option:xe==null?void 0:xe.option,value:{sourceFile:null,base64:null}}),B.setOptions(zK);const le=a.getObjectOnClick(n);!(le!=null&&le.option)||(le==null?void 0:le.option)==="none"?M.setDisplay("none"):M.setDisplay(""),B.setValue(le==null?void 0:le.option),F.setValue(le==null?void 0:le.value),oe.setOptions(WK);const re=a.getObjectPresentation(n);switch(!(re!=null&&re.option)||(re==null?void 0:re.option)==="none"?we.setDisplay("none"):we.setDisplay(""),re!=null&&re.option&&oe.setValue(re.option),(re==null?void 0:re.option)!=="none"&&(re==null?void 0:re.value.sourceFile)&&(be.dom.innerText=re.value.sourceFile),ae){case"Plane":case"Box":case"Sphere":case"Pentagon Cylinder":case"Hexagonal Cylinder":case"Circle Cylinder":case"Pyramid":case"Cone":case"Torus":case"Star":case"Mesh":p.setDisplay(""),y.setDisplay(""),H.setDisplay(""),R.setDisplay(""),v.setDisplay("none"),_.setDisplay("none"),fe.setDisplay("none");break;case"Postit":p.setDisplay(""),y.setDisplay(""),_.setDisplay(""),v.setDisplay(""),H.setDisplay("none"),fe.setDisplay("none"),R.setDisplay("none");break;case"Text":p.setDisplay(""),y.setDisplay(""),v.setDisplay(""),_.setDisplay("none"),H.setDisplay("none"),fe.setDisplay("none"),R.setDisplay("none");break;case"Presentation":p.setDisplay(""),y.setDisplay(""),fe.setDisplay(""),v.setDisplay("none"),_.setDisplay("none"),H.setDisplay("none"),R.setDisplay("none");break;case"Portal":case"Entrance":case"Exit":case"Group":case"Model":case"Scene":default:c.setDisplay("none"),p.setDisplay("none"),y.setDisplay("none"),v.setDisplay("none"),_.setDisplay("none"),H.setDisplay("none"),fe.setDisplay("none"),R.setDisplay("none");break}!ae&&n.type==="Mesh"&&(c.setDisplay(""),p.setDisplay(""),y.setDisplay(""),H.setDisplay(""),R.setDisplay(""),fe.setDisplay("none"),v.setDisplay("none"),_.setDisplay("none"))}return t.objectChanged.add(function(ae){if(ae===a.selected){if(ae.userData.type==="Text"||ae.userData.type==="Postit"){let ye=new Image;window.process=null;const{scale:{x:de,y:xe}}=ae,le=new hw.UltimateTextToImage(a.getObjectText(ae)?a.getObjectText(ae).value:"Text",{fontColor:0,fontSize:Math.max(de,xe)*Math.max(de,xe)*20,minFontSize:5,width:de*100,height:xe*100,align:"center",valign:"middle",backgroundColor:ae.userData.type==="Postit"?"#"+("000000"+a.getObjectPostit(ae).bgcolor.toString(16)).slice(-6):"0xFF000000"}).render().toDataUrl();ye.src=le;let re=new Z0;re.image=ye,re.needsUpdate=!0,ae.material.map=re,ae.material.transparent=!0,ae.material.map.needsUpdate=!0,ae.material.needsUpdate=!0}t.objectSelected.dispatch(ae),ne()}}),t.refreshSidebarObject3D.add(function(ae){ae===a.selected&&ne()}),t.objectSelected.add(function(ae){ae!==null?(n=ae,ne(),c.setDisplay("")):c.setDisplay("none")}),t.materialChanged.add(ne),c}const GK={none:"None",onClick:"Play on Click",range:"Loop within Range"},zK={none:"None",urlPopUp:"Open New Tab"},WK={none:"None",mp4:"mp4",pdf:"pdf",pptx:"pptx"},I0e=new wt,L0e=new wt,P0e=new Zs;function Md(a,t,r){const n=a.signals,c=new Lr;c.add(new si(r).setWidth("120px"));const p=new Ih().setLeft("100px").onChange(E);c.add(p);let y=null,v=null;function E(){v[t]!==p.getValue()&&a.execute(new ga(a,y,t,p.getValue(),0))}function _(){y!==null&&y.material!==void 0&&(v=y.material,t in v?(p.setValue(v[t]),c.setDisplay("")):c.setDisplay("none"))}return n.objectSelected.add(function(k){y=k,_()}),n.materialChanged.add(_),c}function cv(a,t,r){const n=a.signals,c=new Lr;c.add(new si(r).setWidth("120px"));const p=new l1().setMarginRight("8px").onInput(_);c.add(p);let y;t==="emissive"&&(y=new w0().setWidth("30px").setSnap(.1).onChange(_),c.add(y));let v=null,E=null;function _(){E[t].getHex()!==p.getHexValue()&&a.execute(new sD(a,v,t,p.getHexValue(),0)),y!==void 0&&E[`${t}Intensity`]!==y.getValue()&&a.execute(new ga(a,v,`${t}Intensity`,y.getValue(),0))}function k(){v!==null&&v.material!==void 0&&(E=v.material,t in E?(p.setHexValue(E[t].getHexString()),y!==void 0&&y.setValue(E[`${t}Intensity`]),c.setDisplay("")):c.setDisplay("none"))}return n.objectSelected.add(function(R){v=R,k()}),n.materialChanged.add(k),c}function i5(a,t,r,n){const c=a.signals,p=new Lr;p.add(new si(r).setWidth("120px"));const y=new El().setOptions(n).onChange(_);p.add(y);let v=null,E=null;function _(){const R=parseInt(y.getValue());E[t]!==R&&a.execute(new ga(a,v,t,R,0))}function k(){v!==null&&v.material!==void 0&&(E=v.material,t in E?(y.setValue(E[t]),p.setDisplay("")):p.setDisplay("none"))}return c.objectSelected.add(function(R){v=R,k()}),c.materialChanged.add(k),p}function Sa(a,t,r){const n=a.signals,c=new Lr;c.add(new si(r).setWidth("120px"));const p=new Ih(!1).setMarginRight("8px").onChange(()=>{Z(!1)});c.add(p);const y=new CE().setMarginRight("3px").onChange(K);c.add(y);const v=new Ba("Remove").setBorder("1px solid #888888").setBorderRadius("5px").setPadding("2px 3px").setColor("#000000").setBackgroundColor("#ffffff").onClick(()=>{Z(!0)});c.add(v);const E=t.replace("Map","");let _;t==="aoMap"&&(_=new w0().setWidth("30px").onChange(fe),c.add(_));let k;(t==="bumpMap"||t==="displacementMap")&&(k=new w0().setWidth("30px").onChange(oe),c.add(k));let R,B;(t==="normalMap"||t==="clearcoatNormalMap")&&(R=new w0().setWidth("30px").onChange(we),c.add(R),B=new w0().setWidth("30px").onChange(we),c.add(B));let M=null,F=null;function H(ve){ve=window.atob(ve);for(var ne=new ArrayBuffer(ve.length),ae=new Uint8Array(ne),ye=0;ye<ve.length;ye++)ae[ye]=ve.charCodeAt(ye);return ne}function U(ve){const ne=ve.source.data.currentSrc,ae=ve.source.data.currentSrc.split(";")[0].split("/")[1],ye=ne.split(";base64,")[1],de=H(ye),xe=new Uint8Array(de);console.log(ne);const le=new Blob([xe],{type:"application/json"},`${ve.uuid}.${ae}`),re=new FormData;re.append("fields",new File([le],`${ve.uuid}.${ae}`)),Po({method:"post",url:`https://play.grwth.hk/publishes/${assignmentSceneName}`,data:re}).then(function(he){console.log("%c Axios Post Success(Assets)","color: black; background: #3ea086;",he.data.files.fields.size),a.signals.publishClicked.dispatch("Uploaded",ve.uuid+"."+ae)}).catch(function(he){console.log(he)}).finally(function(){a.execute(new IR(a,M,t,ve,0,`${ve.uuid}.${ae}`))})}function Z(ve=!1){const ne=p.getValue()?y.getValue():null;if(F[t]!==ne){if(ne!==null){const ae=M.geometry;ae.hasAttribute("uv")===!1&&console.warn("Geometry doesn't have uvs:",ae),t==="envMap"&&(ne.mapping=Wd)}U(ne)}ve&&a.execute(new ga(a,M,t,null,0))}function K(ve){ve!==null&&ve.isDataTexture!==!0&&ve.encoding!==b0&&(ve.encoding=b0,F.needsUpdate=!0),p.setDisabled(!1),p.setValue(F[t]!==null),Z()}function fe(){F[`${t}Intensity`]!==_.getValue()&&a.execute(new ga(a,M,`${t}Intensity`,_.getValue(),0))}function oe(){F[`${E}Scale`]!==k.getValue()&&a.execute(new ga(a,M,`${E}Scale`,k.getValue(),0))}function we(){const ve=[R.getValue(),B.getValue()];(F[`${E}Scale`].x!==ve[0]||F[`${E}Scale`].y!==ve[1])&&a.execute(new aD(a,M,`${E}Scale`,ve,0))}function be(){M!==null&&M.material!==void 0&&(F=M.material,t in F?(F[t]!==null&&y.setValue(F[t]),p.setValue(F[t]!==null),p.setDisabled(y.getValue()===null),_!==void 0&&_.setValue(F[`${t}Intensity`]),k!==void 0&&k.setValue(F[`${E}Scale`]),R!==void 0&&(R.setValue(F[`${E}Scale`].x),B.setValue(F[`${E}Scale`].y)),c.setDisplay("")):c.setDisplay("none"))}return n.objectSelected.add(function(ve){M=ve,y.setValue(null),c.setDisplay("none"),be()}),n.materialChanged.add(be),c}function bf(a,t,r,n=[-1/0,1/0]){const c=a.signals,p=new Lr;p.add(new si(r).setWidth("120px"));const y=new w0().setWidth("60px").setPrecision(1).setSnap(.1).setRange(n[0],n[1]).onChange(_);p.add(y);let v=null,E=null;function _(){E[t]!==y.getValue()&&a.execute(new ga(a,v,t,y.getValue(),0))}function k(){v!==null&&v.material!==void 0&&(E=v.material,t in E?(y.setValue(E[t]),p.setDisplay("")):p.setDisplay("none"))}return c.objectSelected.add(function(R){v=R,k()}),c.materialChanged.add(k),p}function QK(a,t,r){const n=a.signals,c=new Lr;c.add(new si(r).setWidth("120px"));const p=new Sq(0).setWidth("100px").onChange(k);c.add(p);const y=new w0().setWidth("60px").setPrecision(0).setSnap(1).setStep(10).setRange(0,100).setUnit("%").onChange(_);c.add(y);let v=null,E=null;function _(){E[t]!==y.getValue()/100&&(console.log("number",y.getValue()),a.execute(new ga(a,v,t,y.getValue()/100,0)),p.setValue(y.getValue()))}function k(){E[t]!==p.getValue()/100&&(console.log("range",p.getValue()),a.execute(new ga(a,v,t,p.getValue()/100,0)),y.setValue(p.getValue()))}function R(){v!==null&&v.material!==void 0&&(E=v.material,t in E?(y.setValue(E[t]*100),p.setValue(E[t]*100),c.setDisplay("")):c.setDisplay("none"))}return n.objectSelected.add(function(B){v=B,R()}),n.materialChanged.add(R),c}function JK(a,t){const r=a.signals,n=a.strings;let c=null,p=null;const y=new Lr;y.add(new si(n.getKey("sidebar/material/program")).setWidth("120px"));const v=new Ba(n.getKey("sidebar/material/info"));v.setMarginRight("4px"),v.onClick(function(){r.editScript.dispatch(c,"programInfo")}),y.add(v);const E=new Ba(n.getKey("sidebar/material/vertex"));E.setMarginRight("4px"),E.onClick(function(){r.editScript.dispatch(c,"vertexShader")}),y.add(E);const _=new Ba(n.getKey("sidebar/material/fragment"));_.setMarginRight("4px"),_.onClick(function(){r.editScript.dispatch(c,"fragmentShader")}),y.add(_);function k(){c!==null&&c.material!==void 0&&(p=c.material,t in p?y.setDisplay(""):y.setDisplay("none"))}return r.objectSelected.add(function(R){c=R,k()}),r.materialChanged.add(k),y}function XK(a){const t=a.signals,r=a.strings;let n,c=0;const p=new on;p.setBorderTop("0"),p.setDisplay("none");const y=new Lr;y.setClass("line"),p.add(y);const v=new Lr;v.setClass("title"),v.add(new si(r.getKey("sidebar/properties/material")).setWidth("120px")),p.add(v);const E=new Lr;E.add(new si(r.getKey("sidebar/material/slot")).setWidth("120px"));const _=new El().setWidth("170px").setFontSize("12px").setDisabled(!0);_.setOptions({0:""}).setValue(0),E.add(_);const k=new Lr,R=new El().setWidth("150px").setFontSize("12px").onChange(Ne);k.add(new si(r.getKey("sidebar/material/type")).setWidth("120px")),k.add(R),p.add(k);const B=new Lr,M=new Eu().setWidth("123px").setFontSize("12px").setDisabled(!0),F=new Ba(r.getKey("sidebar/material/new")).setMarginLeft("7px");F.onClick(function(){M.setValue(Cf.generateUUID()),Ne()}),B.add(new si(r.getKey("sidebar/material/uuid")).setWidth("120px")),B.add(M),B.add(F);const H=new Lr,U=new Eu().setWidth("185px").setFontSize("12px").onChange(function(){a.execute(new ga(a,a.selected,"name",U.getValue(),c))});H.add(new si(r.getKey("sidebar/material/name")).setWidth("120px")),H.add(U),new JK(a,"vertexShader");const Z=new cv(a,"color",r.getKey("sidebar/material/color"));p.add(Z);const K=new Sa(a,"map",r.getKey("sidebar/material/map"));p.add(K);const fe=new cv(a,"emissive",r.getKey("sidebar/material/emissive"));p.add(fe);const oe=new Sa(a,"emissiveMap",r.getKey("sidebar/material/emissivemap"));p.add(oe),new bf(a,"reflectivity",r.getKey("sidebar/material/reflectivity"));const we=new cv(a,"specular",r.getKey("sidebar/material/specular"));p.add(we);const be=new bf(a,"shininess",r.getKey("sidebar/material/shininess"));p.add(be);const ve=new bf(a,"roughness",r.getKey("sidebar/material/roughness"),[0,1]);p.add(ve);const ne=new bf(a,"metalness",r.getKey("sidebar/material/metalness"),[0,1]);p.add(ne),new bf(a,"clearcoat",r.getKey("sidebar/material/clearcoat"),[0,1]),new bf(a,"clearcoatRoughness",r.getKey("sidebar/material/clearcoatroughness"),[0,1]),new bf(a,"transmission",r.getKey("sidebar/material/transmission"),[0,1]),new bf(a,"attenuationDistance",r.getKey("sidebar/material/attenuationDistance")),new cv(a,"attenuationColor",r.getKey("sidebar/material/attenuationColor")),new bf(a,"thickness",r.getKey("sidebar/material/thickness")),new Md(a,"vertexColors",r.getKey("sidebar/material/vertexcolors"));const ae={[$E]:"Basic",[e8]:"RGBA"};new i5(a,"depthPacking",r.getKey("sidebar/material/depthPacking"),ae),new Sa(a,"specularMap",r.getKey("sidebar/material/specularmap")),new Sa(a,"matcap",r.getKey("sidebar/material/matcap")),new Sa(a,"alphaMap",r.getKey("sidebar/material/alphamap")),new Sa(a,"bumpMap",r.getKey("sidebar/material/bumpmap")),new Sa(a,"normalMap",r.getKey("sidebar/material/normalmap")),new Sa(a,"clearcoatNormalMap",r.getKey("sidebar/material/clearcoatnormalmap")),new Sa(a,"displacementMap",r.getKey("sidebar/material/displacementmap")),new Sa(a,"roughnessMap",r.getKey("sidebar/material/roughnessmap")),new Sa(a,"metalnessMap",r.getKey("sidebar/material/metalnessmap")),new Sa(a,"envMap",r.getKey("sidebar/material/envmap")),new Sa(a,"lightMap",r.getKey("sidebar/material/lightmap")),new Sa(a,"aoMap",r.getKey("sidebar/material/aomap")),new Sa(a,"gradientMap",r.getKey("sidebar/material/gradientmap"));const ye={0:"Front",1:"Back",2:"Double"},de=new i5(a,"side",r.getKey("sidebar/material/side"),ye);p.add(de);const xe=new bf(a,"size",r.getKey("sidebar/material/size"),[0,1/0]);p.add(xe);const le=new Md(a,"sizeAttenuation",r.getKey("sidebar/material/sizeAttenuation"));p.add(le),new Md(a,"flatShading",r.getKey("sidebar/material/flatShading"));const re={0:"No",1:"Normal",2:"Additive",3:"Subtractive",4:"Multiply",5:"Custom"};new i5(a,"blending",r.getKey("sidebar/material/blending"),re);const he=new Md(a,"transparent",r.getKey("sidebar/material/transparent"));p.add(he);const me=new QK(a,"opacity",r.getKey("sidebar/material/opacity"),[0,1]);p.add(me),new bf(a,"alphaTest",r.getKey("sidebar/material/alphatest"),[0,1]),new Md(a,"depthTest",r.getKey("sidebar/material/depthtest")),new Md(a,"depthWrite",r.getKey("sidebar/material/depthwrite")),new Md(a,"wireframe",r.getKey("sidebar/material/wireframe"));const Re=new Lr,Ie=new q8().setWidth("150px").setHeight("40px").setFontSize("12px").onChange(Ne);Ie.onKeyUp(function(){try{JSON.parse(Ie.getValue()),Ie.dom.classList.add("success"),Ie.dom.classList.remove("fail")}catch{Ie.dom.classList.remove("success"),Ie.dom.classList.add("fail")}}),Re.add(new si(r.getKey("sidebar/material/userdata")).setWidth("120px")),Re.add(Ie);function Ne(){const ce=c;c=parseInt(_.getValue()),c!==ce&&Ue();let Me=a.getObjectMaterial(n,c);if(Me){Me.uuid!==void 0&&Me.uuid!==M.getValue()&&a.execute(new ga(a,n,"uuid",M.getValue(),c)),Me.type!==R.getValue()&&(Me=new qK[R.getValue()],Me.type==="RawShaderMaterial"&&(Me.vertexShader=ZK+Me.vertexShader),Array.isArray(n.material)?a.removeMaterial(n.material[c]):a.removeMaterial(n.material),a.execute(new oD(a,n,Me,c),"New Material: "+R.getValue()),a.addMaterial(Me));try{const ot=JSON.parse(Ie.getValue());JSON.stringify(Me.userData)!=JSON.stringify(ot)&&a.execute(new ga(a,n,"userData",ot,c))}catch(ot){console.warn(ot)}Ue()}}function Qe(){const ce=n.material;Array.isArray(ce)?E.setDisplay(""):E.setDisplay("none")}function Ue(){if(!n)return;let ce=n.material;if(Array.isArray(ce)){const Me={};c=Math.max(0,Math.min(ce.length,c));for(let ot=0;ot<ce.length;ot++)Me[ot]=String(ot+1)+": "+ce[ot].name;_.setOptions(Me).setValue(c)}ce=a.getObjectMaterial(n,c),ce.uuid!==void 0&&M.setValue(ce.uuid),ce.name!==void 0&&U.setValue(ce.name),n.isMesh?R.setOptions(YK):n.isSprite?R.setOptions($K):n.isPoints?R.setOptions(e$):n.isLine&&R.setOptions(KK),R.setValue(ce.type),Qe(),n&&(n.userData.type==="Text"||n.userData.type==="Postit")?(K.setDisplay("none"),oe.setDisplay("none")):(K.setDisplay(""),oe.setDisplay(""));try{Ie.setValue(JSON.stringify(ce.userData,null,"  "))}catch(Me){console.log(Me)}Ie.setBorderColor("transparent"),Ie.setBackgroundColor("")}return t.objectSelected.add(function(ce){let Me=!1;ce&&ce.material&&(Me=!0,Array.isArray(ce.material)&&ce.material.length===0&&(Me=!1)),Me?(n=ce,Ue(),p.setDisplay("")):(n=null,p.setDisplay("none"))}),t.materialChanged.add(Ue),p}const qK={LineBasicMaterial:uo,LineDashedMaterial:Ww,MeshBasicMaterial:Us,MeshStandardMaterial:q0,RawShaderMaterial:zw,ShaderMaterial:Tl,SpriteMaterial:s2,PointsMaterial:pc},ZK=["uniform mat4 projectionMatrix;",`uniform mat4 modelViewMatrix;
`,`attribute vec3 position;

`].join(`
`),YK={MeshBasicMaterial:"Basic Material",MeshStandardMaterial:"Standard Material"},KK={LineBasicMaterial:"Line Basic Material",LineDashedMaterial:"Line Dashed Material",RawShaderMaterial:"Raw Shader Material",ShaderMaterial:"Shader Material"},$K={SpriteMaterial:"Sprite Material",RawShaderMaterial:"Raw Shader Material",ShaderMaterial:"Shader Material"},e$={PointsMaterial:"Points Material",RawShaderMaterial:"RawShader Material",ShaderMaterial:"Shader Material"};function t$(a){const t=a.config,r=a.signals,n=a.strings;let c=null;const p=new on,y=new Lr;y.add(new si(n.getKey("sidebar/project/renderer").toUpperCase())),p.add(y);const v=new Lr;p.add(v),v.add(new si(n.getKey("sidebar/project/antialias")).setWidth("90px"));const E=new Ag(t.getKey("project/renderer/antialias")).onChange(fe);v.add(E);const _=new Lr;p.add(_),_.add(new si(n.getKey("sidebar/project/physicallyCorrectLights")).setWidth("90px"));const k=new Ag(t.getKey("project/renderer/physicallyCorrectLights")).onChange(function(){c.physicallyCorrectLights=this.getValue(),r.rendererUpdated.dispatch()});_.add(k);const R=new Lr;p.add(R),R.add(new si(n.getKey("sidebar/project/shadows")).setWidth("90px"));const B=new Ag(t.getKey("project/renderer/shadows")).onChange(F);R.add(B);const M=new El().setOptions({0:"Basic",1:"PCF",2:"PCF Soft"}).setWidth("125px").onChange(F);M.setValue(t.getKey("project/renderer/shadowType")),R.add(M);function F(){c.shadowMap.enabled=B.getValue(),c.shadowMap.type=parseFloat(M.getValue()),r.rendererUpdated.dispatch()}const H=new Lr;p.add(H),H.add(new si(n.getKey("sidebar/project/toneMapping")).setWidth("90px"));const U=new El().setOptions({0:"No",1:"Linear",2:"Reinhard",3:"Cineon",4:"ACESFilmic"}).setWidth("120px").onChange(K);U.setValue(t.getKey("project/renderer/toneMapping")),H.add(U);const Z=new w0(t.getKey("project/renderer/toneMappingExposure"));Z.setDisplay(U.getValue()==="0"?"none":""),Z.setWidth("30px").setMarginLeft("10px"),Z.setRange(0,10),Z.onChange(K),H.add(Z);function K(){Z.setDisplay(U.getValue()==="0"?"none":""),c.toneMapping=parseFloat(U.getValue()),c.toneMappingExposure=Z.getValue(),r.rendererUpdated.dispatch()}function fe(){c=new G0({antialias:E.getValue()}),c.outputEncoding=b0,c.physicallyCorrectLights=k.getValue(),c.shadowMap.enabled=B.getValue(),c.shadowMap.type=parseFloat(M.getValue()),c.toneMapping=parseFloat(U.getValue()),c.toneMappingExposure=Z.getValue(),r.rendererCreated.dispatch(c),r.rendererUpdated.dispatch()}fe(),r.editorCleared.add(function(){c.physicallyCorrectLights=!1,c.shadowMap.enabled=!0,c.shadowMap.type=kw,c.toneMapping=Bf,c.toneMappingExposure=1,k.setValue(c.physicallyCorrectLights),B.setValue(c.shadowMap.enabled),M.setValue(c.shadowMap.type),U.setValue(c.toneMapping),Z.setValue(c.toneMappingExposure),Z.setDisplay(c.toneMapping===0?"none":""),r.rendererUpdated.dispatch()}),r.rendererUpdated.add(function(){t.setKey("project/renderer/antialias",E.getValue(),"project/renderer/physicallyCorrectLights",k.getValue(),"project/renderer/shadows",B.getValue(),"project/renderer/shadowType",parseFloat(M.getValue()),"project/renderer/toneMapping",parseFloat(U.getValue()),"project/renderer/toneMappingExposure",Z.getValue())})}function r$(a){const t=a.strings,r=new on;r.setId("render"),r.add(new si(t.getKey("sidebar/project/video")).setTextTransform("uppercase")),r.add(new LT,new LT);const n=new Lr;r.add(n),n.add(new si(t.getKey("sidebar/project/resolution")).setWidth("90px"));const c=new ug(1024).setTextAlign("center").setWidth("28px");n.add(c),n.add(new si("\xD7").setTextAlign("center").setFontSize("12px").setWidth("12px"));const p=new ug(1024).setTextAlign("center").setWidth("28px");n.add(p);const y=new ug(30).setTextAlign("center").setWidth("20px");n.add(y),n.add(new si("fps").setFontSize("12px"));const v=new Lr;v.add(new si(t.getKey("sidebar/project/duration")).setWidth("90px"));const E=new ug(10);v.add(E),r.add(v),r.add(new si("").setWidth("90px"));const _=new Cq(0);_.setDisplay("none"),_.setWidth("170px"),r.add(_);const k=new Ba(t.getKey("sidebar/project/render")).setTextTransform("uppercase");k.setWidth("170px"),k.onClick(async()=>{k.setDisplay("none"),_.setDisplay(""),_.setValue(0);const M=new ED.Player;M.load(a.toJSON()),M.setPixelRatio(1),M.setSize(c.getValue(),p.getValue());const F=M.dom.firstElementChild,{createFFmpeg:H,fetchFile:U}=FFmpeg,Z=H({log:!0});await Z.load(),Z.setProgress(({ratio:ve})=>{_.setValue(ve*.5+.5)});const K=y.getValue(),oe=E.getValue()*K;let we=0;for(let ve=0;ve<oe;ve++){M.render(we);const ne=ve.toString().padStart(5,"0");Z.FS("writeFile",`tmp.${ne}.png`,await U(F.toDataURL())),we+=1/K,_.setValue(ve/oe*.5)}await Z.run("-framerate",String(K),"-pattern_type","glob","-i","*.png","-c:v","libx264","-pix_fmt","yuv420p","-preset","slow","-crf",String(5),"out.mp4");const be=Z.FS("readFile","out.mp4");for(let ve=0;ve<oe;ve++){const ne=ve.toString().padStart(5,"0");Z.FS("unlink",`tmp.${ne}.png`)}B(new Blob([be.buffer],{type:"video/mp4"}),"out.mp4"),M.dispose(),k.setDisplay(""),_.setDisplay("none")}),r.add(k);const R=document.createElement("a");function B(M,F){R.href&&URL.revokeObjectURL(R.href),R.href=URL.createObjectURL(M),R.download=F,R.dispatchEvent(new MouseEvent("click"))}return r}var i$="/assets/back1.8d9a1b72.png",n$="/assets/back2.741a5c43.png",s$="/assets/back3.38f0968c.png",o$="/assets/back4.e2600a8d.png",a$="/assets/back5.6ed800f6.png";function l$(a){const t=a.config,r=a.signals,n=a.strings;let c=[i$,n$,s$,o$,a$];const p=new ac,y=new on;y.setBorderTop("0"),y.setPaddingTop("20px"),p.add(y);const v=new Lr,E=new Eu(t.getKey("project/title")).setLeft("100px").setWidth("150px").onChange(function(){t.setKey("project/title",this.getValue())});v.add(new si(n.getKey("sidebar/project/title")).setWidth("135px")),v.add(E);const _=new Lr,k=new El().setOptions({None:"None",Texture:"Texture"}).setWidth("150px");k.onChange(function(){we(),be()}),k.setValue("Texture"),_.add(new si(n.getKey("sidebar/scene/background")).setWidth("135px")),_.add(k);const R=new l1().setValue("#d6f0f0").setMarginLeft("13px").onInput(we);_.add(R);const B=new CE().setMarginLeft("13px").onChange(we);B.setDisplay("none");const M=new Xo;M.setClass("backgroundList");function F(ct){let $e=new Image;$e.crossorigin="anonymous",$e.src=c[ct-1],$e.onload=()=>{let Et=new THREE.Texture;Et.image=$e,Et.needsUpdate=!0,B.setValue(Et),we(),be()},a.scene.backgroundNumber=`background${ct}`}const H=new wp("https://play.grwth.hk/background/back1.png",()=>{F(1)}),U=new wp("https://play.grwth.hk/background/back2.png",()=>{F(2)}),Z=new wp("https://play.grwth.hk/background/back3.png",()=>{F(3)}),K=new wp("https://play.grwth.hk/background/back4.png",()=>{F(4)}),fe=new wp("https://play.grwth.hk/background/back5.png",()=>{F(5)});M.add(H),M.add(U),M.add(Z),M.add(K),M.add(fe),p.add(M);const oe=new El().setOptions({None:"None",Color:"Color",Texture:"Texture"}).setWidth("150px");k.onChange(function(){we(),be()}),y.add(_);function we(){r.sceneBackgroundChanged.dispatch(k.getValue(),R.getHexValue(),B.getValue(),oe.getValue())}function be(){const ct=k.getValue();ct!=="Texture"&&(a.scene.backgroundNumber="background0"),k.setWidth(ct==="None"?"150px":"110px"),R.setDisplay(ct==="Color"?"":"none"),B.setDisplay(ct==="Texture"?"":"none"),M.setDisplay(ct==="Texture"?"":"none"),oe.setDisplay(ct==="Equirectangular"?"":"none")}const ve=new Lr,ne=new El().setOptions({None:"",Equirectangular:"Equirect",ModelViewer:"ModelViewer"}).setWidth("150px");ne.setValue("ModelViewer"),ne.onChange(function(){ye(),de()}),ve.add(new si(n.getKey("sidebar/scene/environment")).setWidth("120px")),ve.add(ne);const ae=new CE().setMarginLeft("8px").onChange(ye);ae.setDisplay("none"),ve.add(ae);function ye(){r.sceneEnvironmentChanged.dispatch(ne.getValue(),ae.getValue())}function de(){const ct=ne.getValue();ne.setWidth(ct!=="Equirectangular"?"150px":"110px"),ae.setDisplay(ct==="Equirectangular"?"":"none")}function xe(){r.sceneFogChanged.dispatch(he.getValue(),Re.getHexValue(),Ie.getValue(),Ne.getValue(),Qe.getValue())}function le(){r.sceneFogSettingsChanged.dispatch(he.getValue(),Re.getHexValue(),Ie.getValue(),Ne.getValue(),Qe.getValue())}const re=new Lr,he=new El().setOptions({None:"",Fog:"Linear",FogExp2:"Exponential"}).setWidth("150px");he.onChange(function(){xe(),Ue()}),re.add(new si(n.getKey("sidebar/scene/fog")).setWidth("120px")),re.add(he);const me=new Lr;me.setDisplay("none"),me.setMarginLeft("90px"),p.add(me);const Re=new l1().setValue("#aaaaaa");Re.onInput(le),me.add(Re);const Ie=new w0(.1).setWidth("40px").setRange(0,1/0).onChange(le);me.add(Ie);const Ne=new w0(50).setWidth("40px").setRange(0,1/0).onChange(le);me.add(Ne);const Qe=new w0(.05).setWidth("40px").setRange(0,.1).setStep(.001).setPrecision(3).onChange(le);me.add(Qe);function Ue(){const ct=he.getValue();me.setDisplay(ct==="None"?"none":""),Ie.setDisplay(ct==="Fog"?"":"none"),Ne.setDisplay(ct==="Fog"?"":"none"),Qe.setDisplay(ct==="FogExp2"?"":"none")}function ce(){a.camera;const ct=a.scene;E.setValue(a.config.getKey("project/title")),ct.background?ct.background.isColor?(k.setValue("Color"),R.setHexValue(ct.background.getHex())):ct.background.isTexture&&(ct.background.mapping===THREE.EquirectangularReflectionMapping?(k.setValue("Equirectangular"),oe.setValue(ct.background)):(k.setValue("Texture"),B.setValue(ct.background))):k.setValue("None"),ct.environment?ct.environment.mapping===THREE.EquirectangularReflectionMapping&&(ne.setValue("Equirectangular"),ae.setValue(ct.environment)):ne.setValue("ModelViewer"),ct.fog?(Re.setHexValue(ct.fog.color.getHex()),ct.fog.isFog?(he.setValue("Fog"),Ie.setValue(ct.fog.near),Ne.setValue(ct.fog.far)):ct.fog.isFogExp2&&(he.setValue("FogExp2"),Qe.setValue(ct.fog.density))):he.setValue("None"),be(),de(),Ue()}ce();const Me=new Lr,ot=new Ih(t.getKey("project/editable")).setLeft("100px").onChange(function(){t.setKey("project/editable",this.getValue())});Me.add(new si(n.getKey("sidebar/project/editable")).setWidth("120px")),Me.add(ot);const Se=new Lr,Xe=new Ih(t.getKey("project/vr")).setLeft("100px").onChange(function(){t.setKey("project/vr",this.getValue())});return Se.add(new si(n.getKey("sidebar/project/vr")).setWidth("120px")),Se.add(Xe),p.add(new t$(a)),"SharedArrayBuffer"in window&&p.add(new r$(a)),p}const f$=new Proxy(new URLSearchParams(window.location.search),{get:(a,t)=>a.get(t)});let n5=f$.assignments;function u$(a){const t=a.strings,r=navigator.platform.toUpperCase().indexOf("MAC")>=0;function n(k){return k.match(/^[A-Za-z0-9]$/i)}const c=a.config,p=a.signals,y=new on,v=new Lr;v.add(new si(t.getKey("sidebar/settings/shortcuts").toUpperCase())),y.add(v);const E=["translate","rotate","scale","undo","focus"];function _(k){const R="settings/shortcuts/"+k,B=new Lr,M=new Eu().setWidth("15px").setFontSize("12px");M.setTextAlign("center"),M.setTextTransform("lowercase"),M.onChange(function(){const F=M.getValue().toLowerCase();n(F)&&c.setKey(R,F)}),M.dom.addEventListener("click",function(){M.dom.select()}),M.dom.addEventListener("blur",function(){n(M.getValue())||M.setValue(c.getKey(R))}),M.dom.addEventListener("keyup",function(F){n(F.key)&&M.dom.blur()}),c.getKey(R)!==void 0&&M.setValue(c.getKey(R)),M.dom.maxLength=1,B.add(new si(t.getKey("sidebar/settings/shortcuts/"+k)).setTextTransform("capitalize").setWidth("90px")),B.add(M),y.add(B)}for(let k=0;k<E.length;k++)_(E[k]);document.addEventListener("keydown",async function(k){var R;switch(k.key.toLowerCase()){case"backspace":k.preventDefault();case"delete":const B=a.selected;if(B===null)return;B.parent!==null&&a.execute(new xh(a,B));break;case c.getKey("settings/shortcuts/translate"):p.transformModeChanged.dispatch("translate");break;case c.getKey("settings/shortcuts/rotate"):p.transformModeChanged.dispatch("rotate");break;case c.getKey("settings/shortcuts/scale"):p.transformModeChanged.dispatch("scale");break;case c.getKey("settings/shortcuts/undo"):(r?k.metaKey:k.ctrlKey)&&(k.preventDefault(),k.shiftKey?a.redo():a.undo());break;case c.getKey("settings/shortcuts/copy"):if(r?k.metaKey:k.ctrlKey){k.preventDefault();let fe=a.selected;if(fe===null||fe.parent===null||["Exit","Entrance"].includes(fe.userData.type))return;if(fe.type==="Mesh"&&fe.parent.type!=="Group"){fe=fe.clone();const oe=new THREE.Mesh(fe.geometry,new THREE.MeshBasicMaterial({color:"#FFFFFF"}));(R=oe.material)!=null&&R.map&&(oe.material.map=fe.material.map,oe.material.polygonOffsetFactor=fe.material.polygonOffsetFactor+1,oe.material.needsUpdate=!0),oe.material.color.setHex(fe.material.color.getHex()),oe.material=new THREE.MeshStandardMaterial().copy(fe.material),oe.name=`${fe.name}'s copy`,oe.position.copy(fe.position),oe.scale.copy(fe.scale),oe.rotation.copy(fe.rotation),oe.needsUpdate=!0,oe.userData=JSON.parse(JSON.stringify(fe.userData)),a.execute(new r0(a,oe))}if(fe.type=="Group"){const oe=fe.clone();oe.children&&(console.log("mesh.children",oe.children),oe.children.forEach((we,be)=>{we.material&&(we.material=new THREE.MeshStandardMaterial().copy(fe.children[be].material))})),oe.name=`${fe.name}'s copy`,oe.position.copy(fe.position),oe.scale.copy(fe.scale),oe.rotation.copy(fe.rotation),oe.needsUpdate=!0,oe.userData=JSON.parse(JSON.stringify(oe.userData)),a.execute(new r0(a,oe))}}break;case c.getKey("settings/shortcuts/focus"):a.selected!==null&&a.focus(a.selected);break;case c.getKey("settings/shortcuts/download"):if(!(window!=null&&window.assignmentSceneName))break;await fetch(`https://play.grwth.hk/assignments/${n5}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(fe=>fe.json()).then(fe=>{a.clear(),console.log("o",JSON.stringify(fe).length),a.fromJSON(fe.json)});break;case c.getKey("settings/shortcuts/upload"):if(!(window!=null&&window.assignmentSceneName))break;const F=JSON.stringify(a.toJSON()),H=new TextEncoder().encode(F),U=new Blob([H],{type:"application/json"},`${n5}.json`),Z=new File([U],`${n5}.json`),K=new FormData;K.append("fields",Z),await Po({method:"post",url:"https://play.grwth.hk/assignments",data:K,headers:{"Content-Type":"multipart/form-data"}}).then(function(fe){console.log("p",fe.data.files.fields.size)}).catch(function(fe){console.log(fe)});break}})}function c$(a){const t=a.config,r=a.strings,n=new ac,c=new on;c.setBorderTop("0"),c.setPaddingTop("20px");const p={en:"English",fr:"Fran\xE7ais",zh:"\u4E2D\u6587"},y=new Lr,v=new El().setWidth("150px");return v.setOptions(p),t.getKey("language")!==void 0&&v.setValue(t.getKey("language")),v.onChange(function(){const E=this.getValue();a.config.setKey("language",E)}),y.add(new si(r.getKey("sidebar/settings/language")).setWidth("90px")),n.add(new u$(a)),n}function h$(a){const t=a.strings,r=new on;r.setId("sidebar"),r.addClass("open");const n=new Ba().onClick(R);n.setId("triggerBtn"),r.add(n),n.dom.insertBefore(Ys().getKey("sidebar/trigger/close"),n.firstChild);const c=new wE;c.setId("sidebarInner");const p=new ac().add(new VK(a),new XK(a)),y=new ac().add(new jK(a)),v=new wE;v.setId("sceneBoard"),v.addTab("object",t.getKey("sidebar/object"),p),v.addTab("action",t.getKey("sidebar/action"),y);const E=new ac().add(new UK(a),new fw,v);E.addClass("scene"),v.select("object");const _=new l$(a);new c$(a),c.addTab("scene",t.getKey("sidebar/room"),E),c.addTab("project",t.getKey("sidebar/project"),_),c.select("scene"),r.add(c);const k=new Xo;k.addClass("blur"),r.add(k);function R(){r.getClass().includes("open")?r.removeClass("open"):r.addClass("open"),setTimeout(()=>{n.dom.replaceChild(Ys().getKey(r.getClass().includes("open")?"sidebar/trigger/close":"sidebar/trigger/open"),n.dom.firstChild)},900)}return r}var OD={exports:{}};(function(a){(function(t,r){function n(le,re){if(!le)throw new Error(re||"Assertion failed")}function c(le,re){le.super_=re;var he=function(){};he.prototype=re.prototype,le.prototype=new he,le.prototype.constructor=le}function p(le,re,he){if(p.isBN(le))return le;this.negative=0,this.words=null,this.length=0,this.red=null,le!==null&&((re==="le"||re==="be")&&(he=re,re=10),this._init(le||0,re||10,he||"be"))}typeof t=="object"?t.exports=p:r.BN=p,p.BN=p,p.wordSize=26;var y;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?y=window.Buffer:y=require("buffer").Buffer}catch{}p.isBN=function(re){return re instanceof p?!0:re!==null&&typeof re=="object"&&re.constructor.wordSize===p.wordSize&&Array.isArray(re.words)},p.max=function(re,he){return re.cmp(he)>0?re:he},p.min=function(re,he){return re.cmp(he)<0?re:he},p.prototype._init=function(re,he,me){if(typeof re=="number")return this._initNumber(re,he,me);if(typeof re=="object")return this._initArray(re,he,me);he==="hex"&&(he=16),n(he===(he|0)&&he>=2&&he<=36),re=re.toString().replace(/\s+/g,"");var Re=0;re[0]==="-"&&(Re++,this.negative=1),Re<re.length&&(he===16?this._parseHex(re,Re,me):(this._parseBase(re,he,Re),me==="le"&&this._initArray(this.toArray(),he,me)))},p.prototype._initNumber=function(re,he,me){re<0&&(this.negative=1,re=-re),re<67108864?(this.words=[re&67108863],this.length=1):re<4503599627370496?(this.words=[re&67108863,re/67108864&67108863],this.length=2):(n(re<9007199254740992),this.words=[re&67108863,re/67108864&67108863,1],this.length=3),me==="le"&&this._initArray(this.toArray(),he,me)},p.prototype._initArray=function(re,he,me){if(n(typeof re.length=="number"),re.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(re.length/3),this.words=new Array(this.length);for(var Re=0;Re<this.length;Re++)this.words[Re]=0;var Ie,Ne,Qe=0;if(me==="be")for(Re=re.length-1,Ie=0;Re>=0;Re-=3)Ne=re[Re]|re[Re-1]<<8|re[Re-2]<<16,this.words[Ie]|=Ne<<Qe&67108863,this.words[Ie+1]=Ne>>>26-Qe&67108863,Qe+=24,Qe>=26&&(Qe-=26,Ie++);else if(me==="le")for(Re=0,Ie=0;Re<re.length;Re+=3)Ne=re[Re]|re[Re+1]<<8|re[Re+2]<<16,this.words[Ie]|=Ne<<Qe&67108863,this.words[Ie+1]=Ne>>>26-Qe&67108863,Qe+=24,Qe>=26&&(Qe-=26,Ie++);return this._strip()};function v(le,re){var he=le.charCodeAt(re);if(he>=48&&he<=57)return he-48;if(he>=65&&he<=70)return he-55;if(he>=97&&he<=102)return he-87;n(!1,"Invalid character in "+le)}function E(le,re,he){var me=v(le,he);return he-1>=re&&(me|=v(le,he-1)<<4),me}p.prototype._parseHex=function(re,he,me){this.length=Math.ceil((re.length-he)/6),this.words=new Array(this.length);for(var Re=0;Re<this.length;Re++)this.words[Re]=0;var Ie=0,Ne=0,Qe;if(me==="be")for(Re=re.length-1;Re>=he;Re-=2)Qe=E(re,he,Re)<<Ie,this.words[Ne]|=Qe&67108863,Ie>=18?(Ie-=18,Ne+=1,this.words[Ne]|=Qe>>>26):Ie+=8;else{var Ue=re.length-he;for(Re=Ue%2===0?he+1:he;Re<re.length;Re+=2)Qe=E(re,he,Re)<<Ie,this.words[Ne]|=Qe&67108863,Ie>=18?(Ie-=18,Ne+=1,this.words[Ne]|=Qe>>>26):Ie+=8}this._strip()};function _(le,re,he,me){for(var Re=0,Ie=0,Ne=Math.min(le.length,he),Qe=re;Qe<Ne;Qe++){var Ue=le.charCodeAt(Qe)-48;Re*=me,Ue>=49?Ie=Ue-49+10:Ue>=17?Ie=Ue-17+10:Ie=Ue,n(Ue>=0&&Ie<me,"Invalid character"),Re+=Ie}return Re}p.prototype._parseBase=function(re,he,me){this.words=[0],this.length=1;for(var Re=0,Ie=1;Ie<=67108863;Ie*=he)Re++;Re--,Ie=Ie/he|0;for(var Ne=re.length-me,Qe=Ne%Re,Ue=Math.min(Ne,Ne-Qe)+me,ce=0,Me=me;Me<Ue;Me+=Re)ce=_(re,Me,Me+Re,he),this.imuln(Ie),this.words[0]+ce<67108864?this.words[0]+=ce:this._iaddn(ce);if(Qe!==0){var ot=1;for(ce=_(re,Me,re.length,he),Me=0;Me<Qe;Me++)ot*=he;this.imuln(ot),this.words[0]+ce<67108864?this.words[0]+=ce:this._iaddn(ce)}this._strip()},p.prototype.copy=function(re){re.words=new Array(this.length);for(var he=0;he<this.length;he++)re.words[he]=this.words[he];re.length=this.length,re.negative=this.negative,re.red=this.red};function k(le,re){le.words=re.words,le.length=re.length,le.negative=re.negative,le.red=re.red}if(p.prototype._move=function(re){k(re,this)},p.prototype.clone=function(){var re=new p(null);return this.copy(re),re},p.prototype._expand=function(re){for(;this.length<re;)this.words[this.length++]=0;return this},p.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},p.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{p.prototype[Symbol.for("nodejs.util.inspect.custom")]=R}catch{p.prototype.inspect=R}else p.prototype.inspect=R;function R(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var B=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],F=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];p.prototype.toString=function(re,he){re=re||10,he=he|0||1;var me;if(re===16||re==="hex"){me="";for(var Re=0,Ie=0,Ne=0;Ne<this.length;Ne++){var Qe=this.words[Ne],Ue=((Qe<<Re|Ie)&16777215).toString(16);Ie=Qe>>>24-Re&16777215,Re+=2,Re>=26&&(Re-=26,Ne--),Ie!==0||Ne!==this.length-1?me=B[6-Ue.length]+Ue+me:me=Ue+me}for(Ie!==0&&(me=Ie.toString(16)+me);me.length%he!==0;)me="0"+me;return this.negative!==0&&(me="-"+me),me}if(re===(re|0)&&re>=2&&re<=36){var ce=M[re],Me=F[re];me="";var ot=this.clone();for(ot.negative=0;!ot.isZero();){var Se=ot.modrn(Me).toString(re);ot=ot.idivn(Me),ot.isZero()?me=Se+me:me=B[ce-Se.length]+Se+me}for(this.isZero()&&(me="0"+me);me.length%he!==0;)me="0"+me;return this.negative!==0&&(me="-"+me),me}n(!1,"Base should be between 2 and 36")},p.prototype.toNumber=function(){var re=this.words[0];return this.length===2?re+=this.words[1]*67108864:this.length===3&&this.words[2]===1?re+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-re:re},p.prototype.toJSON=function(){return this.toString(16,2)},y&&(p.prototype.toBuffer=function(re,he){return this.toArrayLike(y,re,he)}),p.prototype.toArray=function(re,he){return this.toArrayLike(Array,re,he)};var H=function(re,he){return re.allocUnsafe?re.allocUnsafe(he):new re(he)};p.prototype.toArrayLike=function(re,he,me){this._strip();var Re=this.byteLength(),Ie=me||Math.max(1,Re);n(Re<=Ie,"byte array longer than desired length"),n(Ie>0,"Requested array length <= 0");var Ne=H(re,Ie),Qe=he==="le"?"LE":"BE";return this["_toArrayLike"+Qe](Ne,Re),Ne},p.prototype._toArrayLikeLE=function(re,he){for(var me=0,Re=0,Ie=0,Ne=0;Ie<this.length;Ie++){var Qe=this.words[Ie]<<Ne|Re;re[me++]=Qe&255,me<re.length&&(re[me++]=Qe>>8&255),me<re.length&&(re[me++]=Qe>>16&255),Ne===6?(me<re.length&&(re[me++]=Qe>>24&255),Re=0,Ne=0):(Re=Qe>>>24,Ne+=2)}if(me<re.length)for(re[me++]=Re;me<re.length;)re[me++]=0},p.prototype._toArrayLikeBE=function(re,he){for(var me=re.length-1,Re=0,Ie=0,Ne=0;Ie<this.length;Ie++){var Qe=this.words[Ie]<<Ne|Re;re[me--]=Qe&255,me>=0&&(re[me--]=Qe>>8&255),me>=0&&(re[me--]=Qe>>16&255),Ne===6?(me>=0&&(re[me--]=Qe>>24&255),Re=0,Ne=0):(Re=Qe>>>24,Ne+=2)}if(me>=0)for(re[me--]=Re;me>=0;)re[me--]=0},Math.clz32?p.prototype._countBits=function(re){return 32-Math.clz32(re)}:p.prototype._countBits=function(re){var he=re,me=0;return he>=4096&&(me+=13,he>>>=13),he>=64&&(me+=7,he>>>=7),he>=8&&(me+=4,he>>>=4),he>=2&&(me+=2,he>>>=2),me+he},p.prototype._zeroBits=function(re){if(re===0)return 26;var he=re,me=0;return(he&8191)===0&&(me+=13,he>>>=13),(he&127)===0&&(me+=7,he>>>=7),(he&15)===0&&(me+=4,he>>>=4),(he&3)===0&&(me+=2,he>>>=2),(he&1)===0&&me++,me},p.prototype.bitLength=function(){var re=this.words[this.length-1],he=this._countBits(re);return(this.length-1)*26+he};function U(le){for(var re=new Array(le.bitLength()),he=0;he<re.length;he++){var me=he/26|0,Re=he%26;re[he]=le.words[me]>>>Re&1}return re}p.prototype.zeroBits=function(){if(this.isZero())return 0;for(var re=0,he=0;he<this.length;he++){var me=this._zeroBits(this.words[he]);if(re+=me,me!==26)break}return re},p.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},p.prototype.toTwos=function(re){return this.negative!==0?this.abs().inotn(re).iaddn(1):this.clone()},p.prototype.fromTwos=function(re){return this.testn(re-1)?this.notn(re).iaddn(1).ineg():this.clone()},p.prototype.isNeg=function(){return this.negative!==0},p.prototype.neg=function(){return this.clone().ineg()},p.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},p.prototype.iuor=function(re){for(;this.length<re.length;)this.words[this.length++]=0;for(var he=0;he<re.length;he++)this.words[he]=this.words[he]|re.words[he];return this._strip()},p.prototype.ior=function(re){return n((this.negative|re.negative)===0),this.iuor(re)},p.prototype.or=function(re){return this.length>re.length?this.clone().ior(re):re.clone().ior(this)},p.prototype.uor=function(re){return this.length>re.length?this.clone().iuor(re):re.clone().iuor(this)},p.prototype.iuand=function(re){var he;this.length>re.length?he=re:he=this;for(var me=0;me<he.length;me++)this.words[me]=this.words[me]&re.words[me];return this.length=he.length,this._strip()},p.prototype.iand=function(re){return n((this.negative|re.negative)===0),this.iuand(re)},p.prototype.and=function(re){return this.length>re.length?this.clone().iand(re):re.clone().iand(this)},p.prototype.uand=function(re){return this.length>re.length?this.clone().iuand(re):re.clone().iuand(this)},p.prototype.iuxor=function(re){var he,me;this.length>re.length?(he=this,me=re):(he=re,me=this);for(var Re=0;Re<me.length;Re++)this.words[Re]=he.words[Re]^me.words[Re];if(this!==he)for(;Re<he.length;Re++)this.words[Re]=he.words[Re];return this.length=he.length,this._strip()},p.prototype.ixor=function(re){return n((this.negative|re.negative)===0),this.iuxor(re)},p.prototype.xor=function(re){return this.length>re.length?this.clone().ixor(re):re.clone().ixor(this)},p.prototype.uxor=function(re){return this.length>re.length?this.clone().iuxor(re):re.clone().iuxor(this)},p.prototype.inotn=function(re){n(typeof re=="number"&&re>=0);var he=Math.ceil(re/26)|0,me=re%26;this._expand(he),me>0&&he--;for(var Re=0;Re<he;Re++)this.words[Re]=~this.words[Re]&67108863;return me>0&&(this.words[Re]=~this.words[Re]&67108863>>26-me),this._strip()},p.prototype.notn=function(re){return this.clone().inotn(re)},p.prototype.setn=function(re,he){n(typeof re=="number"&&re>=0);var me=re/26|0,Re=re%26;return this._expand(me+1),he?this.words[me]=this.words[me]|1<<Re:this.words[me]=this.words[me]&~(1<<Re),this._strip()},p.prototype.iadd=function(re){var he;if(this.negative!==0&&re.negative===0)return this.negative=0,he=this.isub(re),this.negative^=1,this._normSign();if(this.negative===0&&re.negative!==0)return re.negative=0,he=this.isub(re),re.negative=1,he._normSign();var me,Re;this.length>re.length?(me=this,Re=re):(me=re,Re=this);for(var Ie=0,Ne=0;Ne<Re.length;Ne++)he=(me.words[Ne]|0)+(Re.words[Ne]|0)+Ie,this.words[Ne]=he&67108863,Ie=he>>>26;for(;Ie!==0&&Ne<me.length;Ne++)he=(me.words[Ne]|0)+Ie,this.words[Ne]=he&67108863,Ie=he>>>26;if(this.length=me.length,Ie!==0)this.words[this.length]=Ie,this.length++;else if(me!==this)for(;Ne<me.length;Ne++)this.words[Ne]=me.words[Ne];return this},p.prototype.add=function(re){var he;return re.negative!==0&&this.negative===0?(re.negative=0,he=this.sub(re),re.negative^=1,he):re.negative===0&&this.negative!==0?(this.negative=0,he=re.sub(this),this.negative=1,he):this.length>re.length?this.clone().iadd(re):re.clone().iadd(this)},p.prototype.isub=function(re){if(re.negative!==0){re.negative=0;var he=this.iadd(re);return re.negative=1,he._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(re),this.negative=1,this._normSign();var me=this.cmp(re);if(me===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Re,Ie;me>0?(Re=this,Ie=re):(Re=re,Ie=this);for(var Ne=0,Qe=0;Qe<Ie.length;Qe++)he=(Re.words[Qe]|0)-(Ie.words[Qe]|0)+Ne,Ne=he>>26,this.words[Qe]=he&67108863;for(;Ne!==0&&Qe<Re.length;Qe++)he=(Re.words[Qe]|0)+Ne,Ne=he>>26,this.words[Qe]=he&67108863;if(Ne===0&&Qe<Re.length&&Re!==this)for(;Qe<Re.length;Qe++)this.words[Qe]=Re.words[Qe];return this.length=Math.max(this.length,Qe),Re!==this&&(this.negative=1),this._strip()},p.prototype.sub=function(re){return this.clone().isub(re)};function Z(le,re,he){he.negative=re.negative^le.negative;var me=le.length+re.length|0;he.length=me,me=me-1|0;var Re=le.words[0]|0,Ie=re.words[0]|0,Ne=Re*Ie,Qe=Ne&67108863,Ue=Ne/67108864|0;he.words[0]=Qe;for(var ce=1;ce<me;ce++){for(var Me=Ue>>>26,ot=Ue&67108863,Se=Math.min(ce,re.length-1),Xe=Math.max(0,ce-le.length+1);Xe<=Se;Xe++){var ct=ce-Xe|0;Re=le.words[ct]|0,Ie=re.words[Xe]|0,Ne=Re*Ie+ot,Me+=Ne/67108864|0,ot=Ne&67108863}he.words[ce]=ot|0,Ue=Me|0}return Ue!==0?he.words[ce]=Ue|0:he.length--,he._strip()}var K=function(re,he,me){var Re=re.words,Ie=he.words,Ne=me.words,Qe=0,Ue,ce,Me,ot=Re[0]|0,Se=ot&8191,Xe=ot>>>13,ct=Re[1]|0,$e=ct&8191,Et=ct>>>13,Dt=Re[2]|0,er=Dt&8191,Gt=Dt>>>13,Ht=Re[3]|0,Kt=Ht&8191,yr=Ht>>>13,Ur=Re[4]|0,Yr=Ur&8191,oi=Ur>>>13,xt=Re[5]|0,kt=xt&8191,rr=xt>>>13,mt=Re[6]|0,ft=mt&8191,Ut=mt>>>13,ir=Re[7]|0,vr=ir&8191,nt=ir>>>13,De=Re[8]|0,Te=De&8191,gt=De>>>13,zt=Re[9]|0,Bt=zt&8191,bt=zt>>>13,Rr=Ie[0]|0,Ct=Rr&8191,Nt=Rr>>>13,lr=Ie[1]|0,Sr=lr&8191,Vr=lr>>>13,gi=Ie[2]|0,ki=gi&8191,mi=gi>>>13,Fe=Ie[3]|0,Ke=Fe&8191,dt=Fe>>>13,Ot=Ie[4]|0,$t=Ot&8191,Cr=Ot>>>13,ai=Ie[5]|0,jt=ai&8191,ni=ai>>>13,Mn=Ie[6]|0,Tt=Mn&8191,ur=Mn>>>13,Pr=Ie[7]|0,xr=Pr&8191,Fr=Pr>>>13,qi=Ie[8]|0,ui=qi&8191,Li=qi>>>13,hn=Ie[9]|0,Pi=hn&8191,ji=hn>>>13;me.negative=re.negative^he.negative,me.length=19,Ue=Math.imul(Se,Ct),ce=Math.imul(Se,Nt),ce=ce+Math.imul(Xe,Ct)|0,Me=Math.imul(Xe,Nt);var un=(Qe+Ue|0)+((ce&8191)<<13)|0;Qe=(Me+(ce>>>13)|0)+(un>>>26)|0,un&=67108863,Ue=Math.imul($e,Ct),ce=Math.imul($e,Nt),ce=ce+Math.imul(Et,Ct)|0,Me=Math.imul(Et,Nt),Ue=Ue+Math.imul(Se,Sr)|0,ce=ce+Math.imul(Se,Vr)|0,ce=ce+Math.imul(Xe,Sr)|0,Me=Me+Math.imul(Xe,Vr)|0;var Kn=(Qe+Ue|0)+((ce&8191)<<13)|0;Qe=(Me+(ce>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,Ue=Math.imul(er,Ct),ce=Math.imul(er,Nt),ce=ce+Math.imul(Gt,Ct)|0,Me=Math.imul(Gt,Nt),Ue=Ue+Math.imul($e,Sr)|0,ce=ce+Math.imul($e,Vr)|0,ce=ce+Math.imul(Et,Sr)|0,Me=Me+Math.imul(Et,Vr)|0,Ue=Ue+Math.imul(Se,ki)|0,ce=ce+Math.imul(Se,mi)|0,ce=ce+Math.imul(Xe,ki)|0,Me=Me+Math.imul(Xe,mi)|0;var ks=(Qe+Ue|0)+((ce&8191)<<13)|0;Qe=(Me+(ce>>>13)|0)+(ks>>>26)|0,ks&=67108863,Ue=Math.imul(Kt,Ct),ce=Math.imul(Kt,Nt),ce=ce+Math.imul(yr,Ct)|0,Me=Math.imul(yr,Nt),Ue=Ue+Math.imul(er,Sr)|0,ce=ce+Math.imul(er,Vr)|0,ce=ce+Math.imul(Gt,Sr)|0,Me=Me+Math.imul(Gt,Vr)|0,Ue=Ue+Math.imul($e,ki)|0,ce=ce+Math.imul($e,mi)|0,ce=ce+Math.imul(Et,ki)|0,Me=Me+Math.imul(Et,mi)|0,Ue=Ue+Math.imul(Se,Ke)|0,ce=ce+Math.imul(Se,dt)|0,ce=ce+Math.imul(Xe,Ke)|0,Me=Me+Math.imul(Xe,dt)|0;var Jn=(Qe+Ue|0)+((ce&8191)<<13)|0;Qe=(Me+(ce>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,Ue=Math.imul(Yr,Ct),ce=Math.imul(Yr,Nt),ce=ce+Math.imul(oi,Ct)|0,Me=Math.imul(oi,Nt),Ue=Ue+Math.imul(Kt,Sr)|0,ce=ce+Math.imul(Kt,Vr)|0,ce=ce+Math.imul(yr,Sr)|0,Me=Me+Math.imul(yr,Vr)|0,Ue=Ue+Math.imul(er,ki)|0,ce=ce+Math.imul(er,mi)|0,ce=ce+Math.imul(Gt,ki)|0,Me=Me+Math.imul(Gt,mi)|0,Ue=Ue+Math.imul($e,Ke)|0,ce=ce+Math.imul($e,dt)|0,ce=ce+Math.imul(Et,Ke)|0,Me=Me+Math.imul(Et,dt)|0,Ue=Ue+Math.imul(Se,$t)|0,ce=ce+Math.imul(Se,Cr)|0,ce=ce+Math.imul(Xe,$t)|0,Me=Me+Math.imul(Xe,Cr)|0;var Ti=(Qe+Ue|0)+((ce&8191)<<13)|0;Qe=(Me+(ce>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,Ue=Math.imul(kt,Ct),ce=Math.imul(kt,Nt),ce=ce+Math.imul(rr,Ct)|0,Me=Math.imul(rr,Nt),Ue=Ue+Math.imul(Yr,Sr)|0,ce=ce+Math.imul(Yr,Vr)|0,ce=ce+Math.imul(oi,Sr)|0,Me=Me+Math.imul(oi,Vr)|0,Ue=Ue+Math.imul(Kt,ki)|0,ce=ce+Math.imul(Kt,mi)|0,ce=ce+Math.imul(yr,ki)|0,Me=Me+Math.imul(yr,mi)|0,Ue=Ue+Math.imul(er,Ke)|0,ce=ce+Math.imul(er,dt)|0,ce=ce+Math.imul(Gt,Ke)|0,Me=Me+Math.imul(Gt,dt)|0,Ue=Ue+Math.imul($e,$t)|0,ce=ce+Math.imul($e,Cr)|0,ce=ce+Math.imul(Et,$t)|0,Me=Me+Math.imul(Et,Cr)|0,Ue=Ue+Math.imul(Se,jt)|0,ce=ce+Math.imul(Se,ni)|0,ce=ce+Math.imul(Xe,jt)|0,Me=Me+Math.imul(Xe,ni)|0;var ss=(Qe+Ue|0)+((ce&8191)<<13)|0;Qe=(Me+(ce>>>13)|0)+(ss>>>26)|0,ss&=67108863,Ue=Math.imul(ft,Ct),ce=Math.imul(ft,Nt),ce=ce+Math.imul(Ut,Ct)|0,Me=Math.imul(Ut,Nt),Ue=Ue+Math.imul(kt,Sr)|0,ce=ce+Math.imul(kt,Vr)|0,ce=ce+Math.imul(rr,Sr)|0,Me=Me+Math.imul(rr,Vr)|0,Ue=Ue+Math.imul(Yr,ki)|0,ce=ce+Math.imul(Yr,mi)|0,ce=ce+Math.imul(oi,ki)|0,Me=Me+Math.imul(oi,mi)|0,Ue=Ue+Math.imul(Kt,Ke)|0,ce=ce+Math.imul(Kt,dt)|0,ce=ce+Math.imul(yr,Ke)|0,Me=Me+Math.imul(yr,dt)|0,Ue=Ue+Math.imul(er,$t)|0,ce=ce+Math.imul(er,Cr)|0,ce=ce+Math.imul(Gt,$t)|0,Me=Me+Math.imul(Gt,Cr)|0,Ue=Ue+Math.imul($e,jt)|0,ce=ce+Math.imul($e,ni)|0,ce=ce+Math.imul(Et,jt)|0,Me=Me+Math.imul(Et,ni)|0,Ue=Ue+Math.imul(Se,Tt)|0,ce=ce+Math.imul(Se,ur)|0,ce=ce+Math.imul(Xe,Tt)|0,Me=Me+Math.imul(Xe,ur)|0;var Dn=(Qe+Ue|0)+((ce&8191)<<13)|0;Qe=(Me+(ce>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,Ue=Math.imul(vr,Ct),ce=Math.imul(vr,Nt),ce=ce+Math.imul(nt,Ct)|0,Me=Math.imul(nt,Nt),Ue=Ue+Math.imul(ft,Sr)|0,ce=ce+Math.imul(ft,Vr)|0,ce=ce+Math.imul(Ut,Sr)|0,Me=Me+Math.imul(Ut,Vr)|0,Ue=Ue+Math.imul(kt,ki)|0,ce=ce+Math.imul(kt,mi)|0,ce=ce+Math.imul(rr,ki)|0,Me=Me+Math.imul(rr,mi)|0,Ue=Ue+Math.imul(Yr,Ke)|0,ce=ce+Math.imul(Yr,dt)|0,ce=ce+Math.imul(oi,Ke)|0,Me=Me+Math.imul(oi,dt)|0,Ue=Ue+Math.imul(Kt,$t)|0,ce=ce+Math.imul(Kt,Cr)|0,ce=ce+Math.imul(yr,$t)|0,Me=Me+Math.imul(yr,Cr)|0,Ue=Ue+Math.imul(er,jt)|0,ce=ce+Math.imul(er,ni)|0,ce=ce+Math.imul(Gt,jt)|0,Me=Me+Math.imul(Gt,ni)|0,Ue=Ue+Math.imul($e,Tt)|0,ce=ce+Math.imul($e,ur)|0,ce=ce+Math.imul(Et,Tt)|0,Me=Me+Math.imul(Et,ur)|0,Ue=Ue+Math.imul(Se,xr)|0,ce=ce+Math.imul(Se,Fr)|0,ce=ce+Math.imul(Xe,xr)|0,Me=Me+Math.imul(Xe,Fr)|0;var os=(Qe+Ue|0)+((ce&8191)<<13)|0;Qe=(Me+(ce>>>13)|0)+(os>>>26)|0,os&=67108863,Ue=Math.imul(Te,Ct),ce=Math.imul(Te,Nt),ce=ce+Math.imul(gt,Ct)|0,Me=Math.imul(gt,Nt),Ue=Ue+Math.imul(vr,Sr)|0,ce=ce+Math.imul(vr,Vr)|0,ce=ce+Math.imul(nt,Sr)|0,Me=Me+Math.imul(nt,Vr)|0,Ue=Ue+Math.imul(ft,ki)|0,ce=ce+Math.imul(ft,mi)|0,ce=ce+Math.imul(Ut,ki)|0,Me=Me+Math.imul(Ut,mi)|0,Ue=Ue+Math.imul(kt,Ke)|0,ce=ce+Math.imul(kt,dt)|0,ce=ce+Math.imul(rr,Ke)|0,Me=Me+Math.imul(rr,dt)|0,Ue=Ue+Math.imul(Yr,$t)|0,ce=ce+Math.imul(Yr,Cr)|0,ce=ce+Math.imul(oi,$t)|0,Me=Me+Math.imul(oi,Cr)|0,Ue=Ue+Math.imul(Kt,jt)|0,ce=ce+Math.imul(Kt,ni)|0,ce=ce+Math.imul(yr,jt)|0,Me=Me+Math.imul(yr,ni)|0,Ue=Ue+Math.imul(er,Tt)|0,ce=ce+Math.imul(er,ur)|0,ce=ce+Math.imul(Gt,Tt)|0,Me=Me+Math.imul(Gt,ur)|0,Ue=Ue+Math.imul($e,xr)|0,ce=ce+Math.imul($e,Fr)|0,ce=ce+Math.imul(Et,xr)|0,Me=Me+Math.imul(Et,Fr)|0,Ue=Ue+Math.imul(Se,ui)|0,ce=ce+Math.imul(Se,Li)|0,ce=ce+Math.imul(Xe,ui)|0,Me=Me+Math.imul(Xe,Li)|0;var rn=(Qe+Ue|0)+((ce&8191)<<13)|0;Qe=(Me+(ce>>>13)|0)+(rn>>>26)|0,rn&=67108863,Ue=Math.imul(Bt,Ct),ce=Math.imul(Bt,Nt),ce=ce+Math.imul(bt,Ct)|0,Me=Math.imul(bt,Nt),Ue=Ue+Math.imul(Te,Sr)|0,ce=ce+Math.imul(Te,Vr)|0,ce=ce+Math.imul(gt,Sr)|0,Me=Me+Math.imul(gt,Vr)|0,Ue=Ue+Math.imul(vr,ki)|0,ce=ce+Math.imul(vr,mi)|0,ce=ce+Math.imul(nt,ki)|0,Me=Me+Math.imul(nt,mi)|0,Ue=Ue+Math.imul(ft,Ke)|0,ce=ce+Math.imul(ft,dt)|0,ce=ce+Math.imul(Ut,Ke)|0,Me=Me+Math.imul(Ut,dt)|0,Ue=Ue+Math.imul(kt,$t)|0,ce=ce+Math.imul(kt,Cr)|0,ce=ce+Math.imul(rr,$t)|0,Me=Me+Math.imul(rr,Cr)|0,Ue=Ue+Math.imul(Yr,jt)|0,ce=ce+Math.imul(Yr,ni)|0,ce=ce+Math.imul(oi,jt)|0,Me=Me+Math.imul(oi,ni)|0,Ue=Ue+Math.imul(Kt,Tt)|0,ce=ce+Math.imul(Kt,ur)|0,ce=ce+Math.imul(yr,Tt)|0,Me=Me+Math.imul(yr,ur)|0,Ue=Ue+Math.imul(er,xr)|0,ce=ce+Math.imul(er,Fr)|0,ce=ce+Math.imul(Gt,xr)|0,Me=Me+Math.imul(Gt,Fr)|0,Ue=Ue+Math.imul($e,ui)|0,ce=ce+Math.imul($e,Li)|0,ce=ce+Math.imul(Et,ui)|0,Me=Me+Math.imul(Et,Li)|0,Ue=Ue+Math.imul(Se,Pi)|0,ce=ce+Math.imul(Se,ji)|0,ce=ce+Math.imul(Xe,Pi)|0,Me=Me+Math.imul(Xe,ji)|0;var $0=(Qe+Ue|0)+((ce&8191)<<13)|0;Qe=(Me+(ce>>>13)|0)+($0>>>26)|0,$0&=67108863,Ue=Math.imul(Bt,Sr),ce=Math.imul(Bt,Vr),ce=ce+Math.imul(bt,Sr)|0,Me=Math.imul(bt,Vr),Ue=Ue+Math.imul(Te,ki)|0,ce=ce+Math.imul(Te,mi)|0,ce=ce+Math.imul(gt,ki)|0,Me=Me+Math.imul(gt,mi)|0,Ue=Ue+Math.imul(vr,Ke)|0,ce=ce+Math.imul(vr,dt)|0,ce=ce+Math.imul(nt,Ke)|0,Me=Me+Math.imul(nt,dt)|0,Ue=Ue+Math.imul(ft,$t)|0,ce=ce+Math.imul(ft,Cr)|0,ce=ce+Math.imul(Ut,$t)|0,Me=Me+Math.imul(Ut,Cr)|0,Ue=Ue+Math.imul(kt,jt)|0,ce=ce+Math.imul(kt,ni)|0,ce=ce+Math.imul(rr,jt)|0,Me=Me+Math.imul(rr,ni)|0,Ue=Ue+Math.imul(Yr,Tt)|0,ce=ce+Math.imul(Yr,ur)|0,ce=ce+Math.imul(oi,Tt)|0,Me=Me+Math.imul(oi,ur)|0,Ue=Ue+Math.imul(Kt,xr)|0,ce=ce+Math.imul(Kt,Fr)|0,ce=ce+Math.imul(yr,xr)|0,Me=Me+Math.imul(yr,Fr)|0,Ue=Ue+Math.imul(er,ui)|0,ce=ce+Math.imul(er,Li)|0,ce=ce+Math.imul(Gt,ui)|0,Me=Me+Math.imul(Gt,Li)|0,Ue=Ue+Math.imul($e,Pi)|0,ce=ce+Math.imul($e,ji)|0,ce=ce+Math.imul(Et,Pi)|0,Me=Me+Math.imul(Et,ji)|0;var js=(Qe+Ue|0)+((ce&8191)<<13)|0;Qe=(Me+(ce>>>13)|0)+(js>>>26)|0,js&=67108863,Ue=Math.imul(Bt,ki),ce=Math.imul(Bt,mi),ce=ce+Math.imul(bt,ki)|0,Me=Math.imul(bt,mi),Ue=Ue+Math.imul(Te,Ke)|0,ce=ce+Math.imul(Te,dt)|0,ce=ce+Math.imul(gt,Ke)|0,Me=Me+Math.imul(gt,dt)|0,Ue=Ue+Math.imul(vr,$t)|0,ce=ce+Math.imul(vr,Cr)|0,ce=ce+Math.imul(nt,$t)|0,Me=Me+Math.imul(nt,Cr)|0,Ue=Ue+Math.imul(ft,jt)|0,ce=ce+Math.imul(ft,ni)|0,ce=ce+Math.imul(Ut,jt)|0,Me=Me+Math.imul(Ut,ni)|0,Ue=Ue+Math.imul(kt,Tt)|0,ce=ce+Math.imul(kt,ur)|0,ce=ce+Math.imul(rr,Tt)|0,Me=Me+Math.imul(rr,ur)|0,Ue=Ue+Math.imul(Yr,xr)|0,ce=ce+Math.imul(Yr,Fr)|0,ce=ce+Math.imul(oi,xr)|0,Me=Me+Math.imul(oi,Fr)|0,Ue=Ue+Math.imul(Kt,ui)|0,ce=ce+Math.imul(Kt,Li)|0,ce=ce+Math.imul(yr,ui)|0,Me=Me+Math.imul(yr,Li)|0,Ue=Ue+Math.imul(er,Pi)|0,ce=ce+Math.imul(er,ji)|0,ce=ce+Math.imul(Gt,Pi)|0,Me=Me+Math.imul(Gt,ji)|0;var $s=(Qe+Ue|0)+((ce&8191)<<13)|0;Qe=(Me+(ce>>>13)|0)+($s>>>26)|0,$s&=67108863,Ue=Math.imul(Bt,Ke),ce=Math.imul(Bt,dt),ce=ce+Math.imul(bt,Ke)|0,Me=Math.imul(bt,dt),Ue=Ue+Math.imul(Te,$t)|0,ce=ce+Math.imul(Te,Cr)|0,ce=ce+Math.imul(gt,$t)|0,Me=Me+Math.imul(gt,Cr)|0,Ue=Ue+Math.imul(vr,jt)|0,ce=ce+Math.imul(vr,ni)|0,ce=ce+Math.imul(nt,jt)|0,Me=Me+Math.imul(nt,ni)|0,Ue=Ue+Math.imul(ft,Tt)|0,ce=ce+Math.imul(ft,ur)|0,ce=ce+Math.imul(Ut,Tt)|0,Me=Me+Math.imul(Ut,ur)|0,Ue=Ue+Math.imul(kt,xr)|0,ce=ce+Math.imul(kt,Fr)|0,ce=ce+Math.imul(rr,xr)|0,Me=Me+Math.imul(rr,Fr)|0,Ue=Ue+Math.imul(Yr,ui)|0,ce=ce+Math.imul(Yr,Li)|0,ce=ce+Math.imul(oi,ui)|0,Me=Me+Math.imul(oi,Li)|0,Ue=Ue+Math.imul(Kt,Pi)|0,ce=ce+Math.imul(Kt,ji)|0,ce=ce+Math.imul(yr,Pi)|0,Me=Me+Math.imul(yr,ji)|0;var ii=(Qe+Ue|0)+((ce&8191)<<13)|0;Qe=(Me+(ce>>>13)|0)+(ii>>>26)|0,ii&=67108863,Ue=Math.imul(Bt,$t),ce=Math.imul(Bt,Cr),ce=ce+Math.imul(bt,$t)|0,Me=Math.imul(bt,Cr),Ue=Ue+Math.imul(Te,jt)|0,ce=ce+Math.imul(Te,ni)|0,ce=ce+Math.imul(gt,jt)|0,Me=Me+Math.imul(gt,ni)|0,Ue=Ue+Math.imul(vr,Tt)|0,ce=ce+Math.imul(vr,ur)|0,ce=ce+Math.imul(nt,Tt)|0,Me=Me+Math.imul(nt,ur)|0,Ue=Ue+Math.imul(ft,xr)|0,ce=ce+Math.imul(ft,Fr)|0,ce=ce+Math.imul(Ut,xr)|0,Me=Me+Math.imul(Ut,Fr)|0,Ue=Ue+Math.imul(kt,ui)|0,ce=ce+Math.imul(kt,Li)|0,ce=ce+Math.imul(rr,ui)|0,Me=Me+Math.imul(rr,Li)|0,Ue=Ue+Math.imul(Yr,Pi)|0,ce=ce+Math.imul(Yr,ji)|0,ce=ce+Math.imul(oi,Pi)|0,Me=Me+Math.imul(oi,ji)|0;var pt=(Qe+Ue|0)+((ce&8191)<<13)|0;Qe=(Me+(ce>>>13)|0)+(pt>>>26)|0,pt&=67108863,Ue=Math.imul(Bt,jt),ce=Math.imul(Bt,ni),ce=ce+Math.imul(bt,jt)|0,Me=Math.imul(bt,ni),Ue=Ue+Math.imul(Te,Tt)|0,ce=ce+Math.imul(Te,ur)|0,ce=ce+Math.imul(gt,Tt)|0,Me=Me+Math.imul(gt,ur)|0,Ue=Ue+Math.imul(vr,xr)|0,ce=ce+Math.imul(vr,Fr)|0,ce=ce+Math.imul(nt,xr)|0,Me=Me+Math.imul(nt,Fr)|0,Ue=Ue+Math.imul(ft,ui)|0,ce=ce+Math.imul(ft,Li)|0,ce=ce+Math.imul(Ut,ui)|0,Me=Me+Math.imul(Ut,Li)|0,Ue=Ue+Math.imul(kt,Pi)|0,ce=ce+Math.imul(kt,ji)|0,ce=ce+Math.imul(rr,Pi)|0,Me=Me+Math.imul(rr,ji)|0;var Xt=(Qe+Ue|0)+((ce&8191)<<13)|0;Qe=(Me+(ce>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,Ue=Math.imul(Bt,Tt),ce=Math.imul(Bt,ur),ce=ce+Math.imul(bt,Tt)|0,Me=Math.imul(bt,ur),Ue=Ue+Math.imul(Te,xr)|0,ce=ce+Math.imul(Te,Fr)|0,ce=ce+Math.imul(gt,xr)|0,Me=Me+Math.imul(gt,Fr)|0,Ue=Ue+Math.imul(vr,ui)|0,ce=ce+Math.imul(vr,Li)|0,ce=ce+Math.imul(nt,ui)|0,Me=Me+Math.imul(nt,Li)|0,Ue=Ue+Math.imul(ft,Pi)|0,ce=ce+Math.imul(ft,ji)|0,ce=ce+Math.imul(Ut,Pi)|0,Me=Me+Math.imul(Ut,ji)|0;var Jr=(Qe+Ue|0)+((ce&8191)<<13)|0;Qe=(Me+(ce>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,Ue=Math.imul(Bt,xr),ce=Math.imul(Bt,Fr),ce=ce+Math.imul(bt,xr)|0,Me=Math.imul(bt,Fr),Ue=Ue+Math.imul(Te,ui)|0,ce=ce+Math.imul(Te,Li)|0,ce=ce+Math.imul(gt,ui)|0,Me=Me+Math.imul(gt,Li)|0,Ue=Ue+Math.imul(vr,Pi)|0,ce=ce+Math.imul(vr,ji)|0,ce=ce+Math.imul(nt,Pi)|0,Me=Me+Math.imul(nt,ji)|0;var ei=(Qe+Ue|0)+((ce&8191)<<13)|0;Qe=(Me+(ce>>>13)|0)+(ei>>>26)|0,ei&=67108863,Ue=Math.imul(Bt,ui),ce=Math.imul(Bt,Li),ce=ce+Math.imul(bt,ui)|0,Me=Math.imul(bt,Li),Ue=Ue+Math.imul(Te,Pi)|0,ce=ce+Math.imul(Te,ji)|0,ce=ce+Math.imul(gt,Pi)|0,Me=Me+Math.imul(gt,ji)|0;var dn=(Qe+Ue|0)+((ce&8191)<<13)|0;Qe=(Me+(ce>>>13)|0)+(dn>>>26)|0,dn&=67108863,Ue=Math.imul(Bt,Pi),ce=Math.imul(Bt,ji),ce=ce+Math.imul(bt,Pi)|0,Me=Math.imul(bt,ji);var Gn=(Qe+Ue|0)+((ce&8191)<<13)|0;return Qe=(Me+(ce>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,Ne[0]=un,Ne[1]=Kn,Ne[2]=ks,Ne[3]=Jn,Ne[4]=Ti,Ne[5]=ss,Ne[6]=Dn,Ne[7]=os,Ne[8]=rn,Ne[9]=$0,Ne[10]=js,Ne[11]=$s,Ne[12]=ii,Ne[13]=pt,Ne[14]=Xt,Ne[15]=Jr,Ne[16]=ei,Ne[17]=dn,Ne[18]=Gn,Qe!==0&&(Ne[19]=Qe,me.length++),me};Math.imul||(K=Z);function fe(le,re,he){he.negative=re.negative^le.negative,he.length=le.length+re.length;for(var me=0,Re=0,Ie=0;Ie<he.length-1;Ie++){var Ne=Re;Re=0;for(var Qe=me&67108863,Ue=Math.min(Ie,re.length-1),ce=Math.max(0,Ie-le.length+1);ce<=Ue;ce++){var Me=Ie-ce,ot=le.words[Me]|0,Se=re.words[ce]|0,Xe=ot*Se,ct=Xe&67108863;Ne=Ne+(Xe/67108864|0)|0,ct=ct+Qe|0,Qe=ct&67108863,Ne=Ne+(ct>>>26)|0,Re+=Ne>>>26,Ne&=67108863}he.words[Ie]=Qe,me=Ne,Ne=Re}return me!==0?he.words[Ie]=me:he.length--,he._strip()}function oe(le,re,he){return fe(le,re,he)}p.prototype.mulTo=function(re,he){var me,Re=this.length+re.length;return this.length===10&&re.length===10?me=K(this,re,he):Re<63?me=Z(this,re,he):Re<1024?me=fe(this,re,he):me=oe(this,re,he),me},p.prototype.mul=function(re){var he=new p(null);return he.words=new Array(this.length+re.length),this.mulTo(re,he)},p.prototype.mulf=function(re){var he=new p(null);return he.words=new Array(this.length+re.length),oe(this,re,he)},p.prototype.imul=function(re){return this.clone().mulTo(re,this)},p.prototype.imuln=function(re){var he=re<0;he&&(re=-re),n(typeof re=="number"),n(re<67108864);for(var me=0,Re=0;Re<this.length;Re++){var Ie=(this.words[Re]|0)*re,Ne=(Ie&67108863)+(me&67108863);me>>=26,me+=Ie/67108864|0,me+=Ne>>>26,this.words[Re]=Ne&67108863}return me!==0&&(this.words[Re]=me,this.length++),he?this.ineg():this},p.prototype.muln=function(re){return this.clone().imuln(re)},p.prototype.sqr=function(){return this.mul(this)},p.prototype.isqr=function(){return this.imul(this.clone())},p.prototype.pow=function(re){var he=U(re);if(he.length===0)return new p(1);for(var me=this,Re=0;Re<he.length&&he[Re]===0;Re++,me=me.sqr());if(++Re<he.length)for(var Ie=me.sqr();Re<he.length;Re++,Ie=Ie.sqr())he[Re]!==0&&(me=me.mul(Ie));return me},p.prototype.iushln=function(re){n(typeof re=="number"&&re>=0);var he=re%26,me=(re-he)/26,Re=67108863>>>26-he<<26-he,Ie;if(he!==0){var Ne=0;for(Ie=0;Ie<this.length;Ie++){var Qe=this.words[Ie]&Re,Ue=(this.words[Ie]|0)-Qe<<he;this.words[Ie]=Ue|Ne,Ne=Qe>>>26-he}Ne&&(this.words[Ie]=Ne,this.length++)}if(me!==0){for(Ie=this.length-1;Ie>=0;Ie--)this.words[Ie+me]=this.words[Ie];for(Ie=0;Ie<me;Ie++)this.words[Ie]=0;this.length+=me}return this._strip()},p.prototype.ishln=function(re){return n(this.negative===0),this.iushln(re)},p.prototype.iushrn=function(re,he,me){n(typeof re=="number"&&re>=0);var Re;he?Re=(he-he%26)/26:Re=0;var Ie=re%26,Ne=Math.min((re-Ie)/26,this.length),Qe=67108863^67108863>>>Ie<<Ie,Ue=me;if(Re-=Ne,Re=Math.max(0,Re),Ue){for(var ce=0;ce<Ne;ce++)Ue.words[ce]=this.words[ce];Ue.length=Ne}if(Ne!==0)if(this.length>Ne)for(this.length-=Ne,ce=0;ce<this.length;ce++)this.words[ce]=this.words[ce+Ne];else this.words[0]=0,this.length=1;var Me=0;for(ce=this.length-1;ce>=0&&(Me!==0||ce>=Re);ce--){var ot=this.words[ce]|0;this.words[ce]=Me<<26-Ie|ot>>>Ie,Me=ot&Qe}return Ue&&Me!==0&&(Ue.words[Ue.length++]=Me),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},p.prototype.ishrn=function(re,he,me){return n(this.negative===0),this.iushrn(re,he,me)},p.prototype.shln=function(re){return this.clone().ishln(re)},p.prototype.ushln=function(re){return this.clone().iushln(re)},p.prototype.shrn=function(re){return this.clone().ishrn(re)},p.prototype.ushrn=function(re){return this.clone().iushrn(re)},p.prototype.testn=function(re){n(typeof re=="number"&&re>=0);var he=re%26,me=(re-he)/26,Re=1<<he;if(this.length<=me)return!1;var Ie=this.words[me];return!!(Ie&Re)},p.prototype.imaskn=function(re){n(typeof re=="number"&&re>=0);var he=re%26,me=(re-he)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=me)return this;if(he!==0&&me++,this.length=Math.min(me,this.length),he!==0){var Re=67108863^67108863>>>he<<he;this.words[this.length-1]&=Re}return this._strip()},p.prototype.maskn=function(re){return this.clone().imaskn(re)},p.prototype.iaddn=function(re){return n(typeof re=="number"),n(re<67108864),re<0?this.isubn(-re):this.negative!==0?this.length===1&&(this.words[0]|0)<=re?(this.words[0]=re-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(re),this.negative=1,this):this._iaddn(re)},p.prototype._iaddn=function(re){this.words[0]+=re;for(var he=0;he<this.length&&this.words[he]>=67108864;he++)this.words[he]-=67108864,he===this.length-1?this.words[he+1]=1:this.words[he+1]++;return this.length=Math.max(this.length,he+1),this},p.prototype.isubn=function(re){if(n(typeof re=="number"),n(re<67108864),re<0)return this.iaddn(-re);if(this.negative!==0)return this.negative=0,this.iaddn(re),this.negative=1,this;if(this.words[0]-=re,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var he=0;he<this.length&&this.words[he]<0;he++)this.words[he]+=67108864,this.words[he+1]-=1;return this._strip()},p.prototype.addn=function(re){return this.clone().iaddn(re)},p.prototype.subn=function(re){return this.clone().isubn(re)},p.prototype.iabs=function(){return this.negative=0,this},p.prototype.abs=function(){return this.clone().iabs()},p.prototype._ishlnsubmul=function(re,he,me){var Re=re.length+me,Ie;this._expand(Re);var Ne,Qe=0;for(Ie=0;Ie<re.length;Ie++){Ne=(this.words[Ie+me]|0)+Qe;var Ue=(re.words[Ie]|0)*he;Ne-=Ue&67108863,Qe=(Ne>>26)-(Ue/67108864|0),this.words[Ie+me]=Ne&67108863}for(;Ie<this.length-me;Ie++)Ne=(this.words[Ie+me]|0)+Qe,Qe=Ne>>26,this.words[Ie+me]=Ne&67108863;if(Qe===0)return this._strip();for(n(Qe===-1),Qe=0,Ie=0;Ie<this.length;Ie++)Ne=-(this.words[Ie]|0)+Qe,Qe=Ne>>26,this.words[Ie]=Ne&67108863;return this.negative=1,this._strip()},p.prototype._wordDiv=function(re,he){var me=this.length-re.length,Re=this.clone(),Ie=re,Ne=Ie.words[Ie.length-1]|0,Qe=this._countBits(Ne);me=26-Qe,me!==0&&(Ie=Ie.ushln(me),Re.iushln(me),Ne=Ie.words[Ie.length-1]|0);var Ue=Re.length-Ie.length,ce;if(he!=="mod"){ce=new p(null),ce.length=Ue+1,ce.words=new Array(ce.length);for(var Me=0;Me<ce.length;Me++)ce.words[Me]=0}var ot=Re.clone()._ishlnsubmul(Ie,1,Ue);ot.negative===0&&(Re=ot,ce&&(ce.words[Ue]=1));for(var Se=Ue-1;Se>=0;Se--){var Xe=(Re.words[Ie.length+Se]|0)*67108864+(Re.words[Ie.length+Se-1]|0);for(Xe=Math.min(Xe/Ne|0,67108863),Re._ishlnsubmul(Ie,Xe,Se);Re.negative!==0;)Xe--,Re.negative=0,Re._ishlnsubmul(Ie,1,Se),Re.isZero()||(Re.negative^=1);ce&&(ce.words[Se]=Xe)}return ce&&ce._strip(),Re._strip(),he!=="div"&&me!==0&&Re.iushrn(me),{div:ce||null,mod:Re}},p.prototype.divmod=function(re,he,me){if(n(!re.isZero()),this.isZero())return{div:new p(0),mod:new p(0)};var Re,Ie,Ne;return this.negative!==0&&re.negative===0?(Ne=this.neg().divmod(re,he),he!=="mod"&&(Re=Ne.div.neg()),he!=="div"&&(Ie=Ne.mod.neg(),me&&Ie.negative!==0&&Ie.iadd(re)),{div:Re,mod:Ie}):this.negative===0&&re.negative!==0?(Ne=this.divmod(re.neg(),he),he!=="mod"&&(Re=Ne.div.neg()),{div:Re,mod:Ne.mod}):(this.negative&re.negative)!==0?(Ne=this.neg().divmod(re.neg(),he),he!=="div"&&(Ie=Ne.mod.neg(),me&&Ie.negative!==0&&Ie.isub(re)),{div:Ne.div,mod:Ie}):re.length>this.length||this.cmp(re)<0?{div:new p(0),mod:this}:re.length===1?he==="div"?{div:this.divn(re.words[0]),mod:null}:he==="mod"?{div:null,mod:new p(this.modrn(re.words[0]))}:{div:this.divn(re.words[0]),mod:new p(this.modrn(re.words[0]))}:this._wordDiv(re,he)},p.prototype.div=function(re){return this.divmod(re,"div",!1).div},p.prototype.mod=function(re){return this.divmod(re,"mod",!1).mod},p.prototype.umod=function(re){return this.divmod(re,"mod",!0).mod},p.prototype.divRound=function(re){var he=this.divmod(re);if(he.mod.isZero())return he.div;var me=he.div.negative!==0?he.mod.isub(re):he.mod,Re=re.ushrn(1),Ie=re.andln(1),Ne=me.cmp(Re);return Ne<0||Ie===1&&Ne===0?he.div:he.div.negative!==0?he.div.isubn(1):he.div.iaddn(1)},p.prototype.modrn=function(re){var he=re<0;he&&(re=-re),n(re<=67108863);for(var me=(1<<26)%re,Re=0,Ie=this.length-1;Ie>=0;Ie--)Re=(me*Re+(this.words[Ie]|0))%re;return he?-Re:Re},p.prototype.modn=function(re){return this.modrn(re)},p.prototype.idivn=function(re){var he=re<0;he&&(re=-re),n(re<=67108863);for(var me=0,Re=this.length-1;Re>=0;Re--){var Ie=(this.words[Re]|0)+me*67108864;this.words[Re]=Ie/re|0,me=Ie%re}return this._strip(),he?this.ineg():this},p.prototype.divn=function(re){return this.clone().idivn(re)},p.prototype.egcd=function(re){n(re.negative===0),n(!re.isZero());var he=this,me=re.clone();he.negative!==0?he=he.umod(re):he=he.clone();for(var Re=new p(1),Ie=new p(0),Ne=new p(0),Qe=new p(1),Ue=0;he.isEven()&&me.isEven();)he.iushrn(1),me.iushrn(1),++Ue;for(var ce=me.clone(),Me=he.clone();!he.isZero();){for(var ot=0,Se=1;(he.words[0]&Se)===0&&ot<26;++ot,Se<<=1);if(ot>0)for(he.iushrn(ot);ot-- >0;)(Re.isOdd()||Ie.isOdd())&&(Re.iadd(ce),Ie.isub(Me)),Re.iushrn(1),Ie.iushrn(1);for(var Xe=0,ct=1;(me.words[0]&ct)===0&&Xe<26;++Xe,ct<<=1);if(Xe>0)for(me.iushrn(Xe);Xe-- >0;)(Ne.isOdd()||Qe.isOdd())&&(Ne.iadd(ce),Qe.isub(Me)),Ne.iushrn(1),Qe.iushrn(1);he.cmp(me)>=0?(he.isub(me),Re.isub(Ne),Ie.isub(Qe)):(me.isub(he),Ne.isub(Re),Qe.isub(Ie))}return{a:Ne,b:Qe,gcd:me.iushln(Ue)}},p.prototype._invmp=function(re){n(re.negative===0),n(!re.isZero());var he=this,me=re.clone();he.negative!==0?he=he.umod(re):he=he.clone();for(var Re=new p(1),Ie=new p(0),Ne=me.clone();he.cmpn(1)>0&&me.cmpn(1)>0;){for(var Qe=0,Ue=1;(he.words[0]&Ue)===0&&Qe<26;++Qe,Ue<<=1);if(Qe>0)for(he.iushrn(Qe);Qe-- >0;)Re.isOdd()&&Re.iadd(Ne),Re.iushrn(1);for(var ce=0,Me=1;(me.words[0]&Me)===0&&ce<26;++ce,Me<<=1);if(ce>0)for(me.iushrn(ce);ce-- >0;)Ie.isOdd()&&Ie.iadd(Ne),Ie.iushrn(1);he.cmp(me)>=0?(he.isub(me),Re.isub(Ie)):(me.isub(he),Ie.isub(Re))}var ot;return he.cmpn(1)===0?ot=Re:ot=Ie,ot.cmpn(0)<0&&ot.iadd(re),ot},p.prototype.gcd=function(re){if(this.isZero())return re.abs();if(re.isZero())return this.abs();var he=this.clone(),me=re.clone();he.negative=0,me.negative=0;for(var Re=0;he.isEven()&&me.isEven();Re++)he.iushrn(1),me.iushrn(1);do{for(;he.isEven();)he.iushrn(1);for(;me.isEven();)me.iushrn(1);var Ie=he.cmp(me);if(Ie<0){var Ne=he;he=me,me=Ne}else if(Ie===0||me.cmpn(1)===0)break;he.isub(me)}while(!0);return me.iushln(Re)},p.prototype.invm=function(re){return this.egcd(re).a.umod(re)},p.prototype.isEven=function(){return(this.words[0]&1)===0},p.prototype.isOdd=function(){return(this.words[0]&1)===1},p.prototype.andln=function(re){return this.words[0]&re},p.prototype.bincn=function(re){n(typeof re=="number");var he=re%26,me=(re-he)/26,Re=1<<he;if(this.length<=me)return this._expand(me+1),this.words[me]|=Re,this;for(var Ie=Re,Ne=me;Ie!==0&&Ne<this.length;Ne++){var Qe=this.words[Ne]|0;Qe+=Ie,Ie=Qe>>>26,Qe&=67108863,this.words[Ne]=Qe}return Ie!==0&&(this.words[Ne]=Ie,this.length++),this},p.prototype.isZero=function(){return this.length===1&&this.words[0]===0},p.prototype.cmpn=function(re){var he=re<0;if(this.negative!==0&&!he)return-1;if(this.negative===0&&he)return 1;this._strip();var me;if(this.length>1)me=1;else{he&&(re=-re),n(re<=67108863,"Number is too big");var Re=this.words[0]|0;me=Re===re?0:Re<re?-1:1}return this.negative!==0?-me|0:me},p.prototype.cmp=function(re){if(this.negative!==0&&re.negative===0)return-1;if(this.negative===0&&re.negative!==0)return 1;var he=this.ucmp(re);return this.negative!==0?-he|0:he},p.prototype.ucmp=function(re){if(this.length>re.length)return 1;if(this.length<re.length)return-1;for(var he=0,me=this.length-1;me>=0;me--){var Re=this.words[me]|0,Ie=re.words[me]|0;if(Re!==Ie){Re<Ie?he=-1:Re>Ie&&(he=1);break}}return he},p.prototype.gtn=function(re){return this.cmpn(re)===1},p.prototype.gt=function(re){return this.cmp(re)===1},p.prototype.gten=function(re){return this.cmpn(re)>=0},p.prototype.gte=function(re){return this.cmp(re)>=0},p.prototype.ltn=function(re){return this.cmpn(re)===-1},p.prototype.lt=function(re){return this.cmp(re)===-1},p.prototype.lten=function(re){return this.cmpn(re)<=0},p.prototype.lte=function(re){return this.cmp(re)<=0},p.prototype.eqn=function(re){return this.cmpn(re)===0},p.prototype.eq=function(re){return this.cmp(re)===0},p.red=function(re){return new de(re)},p.prototype.toRed=function(re){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),re.convertTo(this)._forceRed(re)},p.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},p.prototype._forceRed=function(re){return this.red=re,this},p.prototype.forceRed=function(re){return n(!this.red,"Already a number in reduction context"),this._forceRed(re)},p.prototype.redAdd=function(re){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,re)},p.prototype.redIAdd=function(re){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,re)},p.prototype.redSub=function(re){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,re)},p.prototype.redISub=function(re){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,re)},p.prototype.redShl=function(re){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,re)},p.prototype.redMul=function(re){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,re),this.red.mul(this,re)},p.prototype.redIMul=function(re){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,re),this.red.imul(this,re)},p.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},p.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},p.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},p.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},p.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},p.prototype.redPow=function(re){return n(this.red&&!re.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,re)};var we={k256:null,p224:null,p192:null,p25519:null};function be(le,re){this.name=le,this.p=new p(re,16),this.n=this.p.bitLength(),this.k=new p(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}be.prototype._tmp=function(){var re=new p(null);return re.words=new Array(Math.ceil(this.n/13)),re},be.prototype.ireduce=function(re){var he=re,me;do this.split(he,this.tmp),he=this.imulK(he),he=he.iadd(this.tmp),me=he.bitLength();while(me>this.n);var Re=me<this.n?-1:he.ucmp(this.p);return Re===0?(he.words[0]=0,he.length=1):Re>0?he.isub(this.p):he.strip!==void 0?he.strip():he._strip(),he},be.prototype.split=function(re,he){re.iushrn(this.n,0,he)},be.prototype.imulK=function(re){return re.imul(this.k)};function ve(){be.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}c(ve,be),ve.prototype.split=function(re,he){for(var me=4194303,Re=Math.min(re.length,9),Ie=0;Ie<Re;Ie++)he.words[Ie]=re.words[Ie];if(he.length=Re,re.length<=9){re.words[0]=0,re.length=1;return}var Ne=re.words[9];for(he.words[he.length++]=Ne&me,Ie=10;Ie<re.length;Ie++){var Qe=re.words[Ie]|0;re.words[Ie-10]=(Qe&me)<<4|Ne>>>22,Ne=Qe}Ne>>>=22,re.words[Ie-10]=Ne,Ne===0&&re.length>10?re.length-=10:re.length-=9},ve.prototype.imulK=function(re){re.words[re.length]=0,re.words[re.length+1]=0,re.length+=2;for(var he=0,me=0;me<re.length;me++){var Re=re.words[me]|0;he+=Re*977,re.words[me]=he&67108863,he=Re*64+(he/67108864|0)}return re.words[re.length-1]===0&&(re.length--,re.words[re.length-1]===0&&re.length--),re};function ne(){be.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}c(ne,be);function ae(){be.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}c(ae,be);function ye(){be.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}c(ye,be),ye.prototype.imulK=function(re){for(var he=0,me=0;me<re.length;me++){var Re=(re.words[me]|0)*19+he,Ie=Re&67108863;Re>>>=26,re.words[me]=Ie,he=Re}return he!==0&&(re.words[re.length++]=he),re},p._prime=function(re){if(we[re])return we[re];var he;if(re==="k256")he=new ve;else if(re==="p224")he=new ne;else if(re==="p192")he=new ae;else if(re==="p25519")he=new ye;else throw new Error("Unknown prime "+re);return we[re]=he,he};function de(le){if(typeof le=="string"){var re=p._prime(le);this.m=re.p,this.prime=re}else n(le.gtn(1),"modulus must be greater than 1"),this.m=le,this.prime=null}de.prototype._verify1=function(re){n(re.negative===0,"red works only with positives"),n(re.red,"red works only with red numbers")},de.prototype._verify2=function(re,he){n((re.negative|he.negative)===0,"red works only with positives"),n(re.red&&re.red===he.red,"red works only with red numbers")},de.prototype.imod=function(re){return this.prime?this.prime.ireduce(re)._forceRed(this):(k(re,re.umod(this.m)._forceRed(this)),re)},de.prototype.neg=function(re){return re.isZero()?re.clone():this.m.sub(re)._forceRed(this)},de.prototype.add=function(re,he){this._verify2(re,he);var me=re.add(he);return me.cmp(this.m)>=0&&me.isub(this.m),me._forceRed(this)},de.prototype.iadd=function(re,he){this._verify2(re,he);var me=re.iadd(he);return me.cmp(this.m)>=0&&me.isub(this.m),me},de.prototype.sub=function(re,he){this._verify2(re,he);var me=re.sub(he);return me.cmpn(0)<0&&me.iadd(this.m),me._forceRed(this)},de.prototype.isub=function(re,he){this._verify2(re,he);var me=re.isub(he);return me.cmpn(0)<0&&me.iadd(this.m),me},de.prototype.shl=function(re,he){return this._verify1(re),this.imod(re.ushln(he))},de.prototype.imul=function(re,he){return this._verify2(re,he),this.imod(re.imul(he))},de.prototype.mul=function(re,he){return this._verify2(re,he),this.imod(re.mul(he))},de.prototype.isqr=function(re){return this.imul(re,re.clone())},de.prototype.sqr=function(re){return this.mul(re,re)},de.prototype.sqrt=function(re){if(re.isZero())return re.clone();var he=this.m.andln(3);if(n(he%2===1),he===3){var me=this.m.add(new p(1)).iushrn(2);return this.pow(re,me)}for(var Re=this.m.subn(1),Ie=0;!Re.isZero()&&Re.andln(1)===0;)Ie++,Re.iushrn(1);n(!Re.isZero());var Ne=new p(1).toRed(this),Qe=Ne.redNeg(),Ue=this.m.subn(1).iushrn(1),ce=this.m.bitLength();for(ce=new p(2*ce*ce).toRed(this);this.pow(ce,Ue).cmp(Qe)!==0;)ce.redIAdd(Qe);for(var Me=this.pow(ce,Re),ot=this.pow(re,Re.addn(1).iushrn(1)),Se=this.pow(re,Re),Xe=Ie;Se.cmp(Ne)!==0;){for(var ct=Se,$e=0;ct.cmp(Ne)!==0;$e++)ct=ct.redSqr();n($e<Xe);var Et=this.pow(Me,new p(1).iushln(Xe-$e-1));ot=ot.redMul(Et),Me=Et.redSqr(),Se=Se.redMul(Me),Xe=$e}return ot},de.prototype.invm=function(re){var he=re._invmp(this.m);return he.negative!==0?(he.negative=0,this.imod(he).redNeg()):this.imod(he)},de.prototype.pow=function(re,he){if(he.isZero())return new p(1).toRed(this);if(he.cmpn(1)===0)return re.clone();var me=4,Re=new Array(1<<me);Re[0]=new p(1).toRed(this),Re[1]=re;for(var Ie=2;Ie<Re.length;Ie++)Re[Ie]=this.mul(Re[Ie-1],re);var Ne=Re[0],Qe=0,Ue=0,ce=he.bitLength()%26;for(ce===0&&(ce=26),Ie=he.length-1;Ie>=0;Ie--){for(var Me=he.words[Ie],ot=ce-1;ot>=0;ot--){var Se=Me>>ot&1;if(Ne!==Re[0]&&(Ne=this.sqr(Ne)),Se===0&&Qe===0){Ue=0;continue}Qe<<=1,Qe|=Se,Ue++,!(Ue!==me&&(Ie!==0||ot!==0))&&(Ne=this.mul(Ne,Re[Qe]),Ue=0,Qe=0)}ce=26}return Ne},de.prototype.convertTo=function(re){var he=re.umod(this.m);return he===re?he.clone():he},de.prototype.convertFrom=function(re){var he=re.clone();return he.red=null,he},p.mont=function(re){return new xe(re)};function xe(le){de.call(this,le),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new p(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}c(xe,de),xe.prototype.convertTo=function(re){return this.imod(re.ushln(this.shift))},xe.prototype.convertFrom=function(re){var he=this.imod(re.mul(this.rinv));return he.red=null,he},xe.prototype.imul=function(re,he){if(re.isZero()||he.isZero())return re.words[0]=0,re.length=1,re;var me=re.imul(he),Re=me.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ie=me.isub(Re).iushrn(this.shift),Ne=Ie;return Ie.cmp(this.m)>=0?Ne=Ie.isub(this.m):Ie.cmpn(0)<0&&(Ne=Ie.iadd(this.m)),Ne._forceRed(this)},xe.prototype.mul=function(re,he){if(re.isZero()||he.isZero())return new p(0)._forceRed(this);var me=re.mul(he),Re=me.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ie=me.isub(Re).iushrn(this.shift),Ne=Ie;return Ie.cmp(this.m)>=0?Ne=Ie.isub(this.m):Ie.cmpn(0)<0&&(Ne=Ie.iadd(this.m)),Ne._forceRed(this)},xe.prototype.invm=function(re){var he=this.imod(re._invmp(this.m).mul(this.r2));return he._forceRed(this)}})(a,Ks)})(OD);var jn=OD.exports;const d$="logger/5.7.0";let i9=!1,n9=!1;const Gv={debug:1,default:2,info:2,warning:3,error:4,off:5};let s9=Gv.default,s5=null;function p$(){try{const a=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{a.push(t)}}),a.length)throw new Error("missing "+a.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(a){return a.message}return null}const o9=p$();var SE;(function(a){a.DEBUG="DEBUG",a.INFO="INFO",a.WARNING="WARNING",a.ERROR="ERROR",a.OFF="OFF"})(SE||(SE={}));var kf;(function(a){a.UNKNOWN_ERROR="UNKNOWN_ERROR",a.NOT_IMPLEMENTED="NOT_IMPLEMENTED",a.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",a.NETWORK_ERROR="NETWORK_ERROR",a.SERVER_ERROR="SERVER_ERROR",a.TIMEOUT="TIMEOUT",a.BUFFER_OVERRUN="BUFFER_OVERRUN",a.NUMERIC_FAULT="NUMERIC_FAULT",a.MISSING_NEW="MISSING_NEW",a.INVALID_ARGUMENT="INVALID_ARGUMENT",a.MISSING_ARGUMENT="MISSING_ARGUMENT",a.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",a.CALL_EXCEPTION="CALL_EXCEPTION",a.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",a.NONCE_EXPIRED="NONCE_EXPIRED",a.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",a.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",a.TRANSACTION_REPLACED="TRANSACTION_REPLACED",a.ACTION_REJECTED="ACTION_REJECTED"})(kf||(kf={}));const a9="0123456789abcdef";class pr{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const n=t.toLowerCase();Gv[n]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(s9>Gv[n])&&console.log.apply(console,r)}debug(...t){this._log(pr.levels.DEBUG,t)}info(...t){this._log(pr.levels.INFO,t)}warn(...t){this._log(pr.levels.WARNING,t)}makeError(t,r,n){if(n9)return this.makeError("censored error",r,{});r||(r=pr.errors.UNKNOWN_ERROR),n||(n={});const c=[];Object.keys(n).forEach(E=>{const _=n[E];try{if(_ instanceof Uint8Array){let k="";for(let R=0;R<_.length;R++)k+=a9[_[R]>>4],k+=a9[_[R]&15];c.push(E+"=Uint8Array(0x"+k+")")}else c.push(E+"="+JSON.stringify(_))}catch{c.push(E+"="+JSON.stringify(n[E].toString()))}}),c.push(`code=${r}`),c.push(`version=${this.version}`);const p=t;let y="";switch(r){case kf.NUMERIC_FAULT:{y="NUMERIC_FAULT";const E=t;switch(E){case"overflow":case"underflow":case"division-by-zero":y+="-"+E;break;case"negative-power":case"negative-width":y+="-unsupported";break;case"unbound-bitwise-result":y+="-unbound-result";break}break}case kf.CALL_EXCEPTION:case kf.INSUFFICIENT_FUNDS:case kf.MISSING_NEW:case kf.NONCE_EXPIRED:case kf.REPLACEMENT_UNDERPRICED:case kf.TRANSACTION_REPLACED:case kf.UNPREDICTABLE_GAS_LIMIT:y=r;break}y&&(t+=" [ See: https://links.ethers.org/v5-errors-"+y+" ]"),c.length&&(t+=" ("+c.join(", ")+")");const v=new Error(t);return v.reason=p,v.code=r,Object.keys(n).forEach(function(E){v[E]=n[E]}),v}throwError(t,r,n){throw this.makeError(t,r,n)}throwArgumentError(t,r,n){return this.throwError(t,pr.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(t,r,n,c){t||this.throwError(r,n,c)}assertArgument(t,r,n,c){t||this.throwArgumentError(r,n,c)}checkNormalize(t){o9&&this.throwError("platform missing String.prototype.normalize",pr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:o9})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,pr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,pr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,n){n?n=": "+n:n="",t<r&&this.throwError("missing argument"+n,pr.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+n,pr.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",pr.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",pr.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",pr.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return s5||(s5=new pr(d$)),s5}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",pr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),i9){if(!t)return;this.globalLogger().throwError("error censorship permanent",pr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}n9=!!t,i9=!!r}static setLogLevel(t){const r=Gv[t.toLowerCase()];if(r==null){pr.globalLogger().warn("invalid log level - "+t);return}s9=r}static from(t){return new pr(t)}}pr.errors=kf;pr.levels=SE;const m$="bytes/5.7.0",qs=new pr(m$);function HD(a){return!!a.toHexString}function Pp(a){return a.slice||(a.slice=function(){const t=Array.prototype.slice.call(arguments);return Pp(new Uint8Array(Array.prototype.slice.apply(a,t)))}),a}function t_(a){return i0(a)&&!(a.length%2)||k1(a)}function l9(a){return typeof a=="number"&&a==a&&a%1===0}function k1(a){if(a==null)return!1;if(a.constructor===Uint8Array)return!0;if(typeof a=="string"||!l9(a.length)||a.length<0)return!1;for(let t=0;t<a.length;t++){const r=a[t];if(!l9(r)||r<0||r>=256)return!1}return!0}function Cn(a,t){if(t||(t={}),typeof a=="number"){qs.checkSafeUint53(a,"invalid arrayify value");const r=[];for(;a;)r.unshift(a&255),a=parseInt(String(a/256));return r.length===0&&r.push(0),Pp(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof a=="string"&&a.substring(0,2)!=="0x"&&(a="0x"+a),HD(a)&&(a=a.toHexString()),i0(a)){let r=a.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":qs.throwArgumentError("hex data is odd-length","value",a));const n=[];for(let c=0;c<r.length;c+=2)n.push(parseInt(r.substring(c,c+2),16));return Pp(new Uint8Array(n))}return k1(a)?Pp(new Uint8Array(a)):qs.throwArgumentError("invalid arrayify value","value",a)}function _l(a){const t=a.map(c=>Cn(c)),r=t.reduce((c,p)=>c+p.length,0),n=new Uint8Array(r);return t.reduce((c,p)=>(n.set(p,c),c+p.length),0),Pp(n)}function u1(a){let t=Cn(a);if(t.length===0)return t;let r=0;for(;r<t.length&&t[r]===0;)r++;return r&&(t=t.slice(r)),t}function g$(a,t){a=Cn(a),a.length>t&&qs.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(a,t-a.length),Pp(r)}function i0(a,t){return!(typeof a!="string"||!a.match(/^0x[0-9A-Fa-f]*$/)||t&&a.length!==2+2*t)}const o5="0123456789abcdef";function fn(a,t){if(t||(t={}),typeof a=="number"){qs.checkSafeUint53(a,"invalid hexlify value");let r="";for(;a;)r=o5[a&15]+r,a=Math.floor(a/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof a=="bigint")return a=a.toString(16),a.length%2?"0x0"+a:"0x"+a;if(t.allowMissingPrefix&&typeof a=="string"&&a.substring(0,2)!=="0x"&&(a="0x"+a),HD(a))return a.toHexString();if(i0(a))return a.length%2&&(t.hexPad==="left"?a="0x0"+a.substring(2):t.hexPad==="right"?a+="0":qs.throwArgumentError("hex data is odd-length","value",a)),a.toLowerCase();if(k1(a)){let r="0x";for(let n=0;n<a.length;n++){let c=a[n];r+=o5[(c&240)>>4]+o5[c&15]}return r}return qs.throwArgumentError("invalid hexlify value","value",a)}function $d(a){if(typeof a!="string")a=fn(a);else if(!i0(a)||a.length%2)return null;return(a.length-2)/2}function da(a,t,r){return typeof a!="string"?a=fn(a):(!i0(a)||a.length%2)&&qs.throwArgumentError("invalid hexData","value",a),t=2+2*t,r!=null?"0x"+a.substring(t,2+2*r):"0x"+a.substring(t)}function Qa(a){let t="0x";return a.forEach(r=>{t+=fn(r).substring(2)}),t}function oA(a){const t=b$(fn(a,{hexPad:"left"}));return t==="0x"?"0x0":t}function b$(a){typeof a!="string"&&(a=fn(a)),i0(a)||qs.throwArgumentError("invalid hex string","value",a),a=a.substring(2);let t=0;for(;t<a.length&&a[t]==="0";)t++;return"0x"+a.substring(t)}function Bs(a,t){for(typeof a!="string"?a=fn(a):i0(a)||qs.throwArgumentError("invalid hex string","value",a),a.length>2*t+2&&qs.throwArgumentError("value out of range","value",arguments[1]);a.length<2*t+2;)a="0x0"+a.substring(2);return a}function aA(a){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(t_(a)){let r=Cn(a);r.length===64?(t.v=27+(r[32]>>7),r[32]&=127,t.r=fn(r.slice(0,32)),t.s=fn(r.slice(32,64))):r.length===65?(t.r=fn(r.slice(0,32)),t.s=fn(r.slice(32,64)),t.v=r[64]):qs.throwArgumentError("invalid signature string","signature",a),t.v<27&&(t.v===0||t.v===1?t.v+=27:qs.throwArgumentError("signature invalid v byte","signature",a)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=fn(r.slice(32,64))}else{if(t.r=a.r,t.s=a.s,t.v=a.v,t.recoveryParam=a.recoveryParam,t._vs=a._vs,t._vs!=null){const c=g$(Cn(t._vs),32);t._vs=fn(c);const p=c[0]>=128?1:0;t.recoveryParam==null?t.recoveryParam=p:t.recoveryParam!==p&&qs.throwArgumentError("signature recoveryParam mismatch _vs","signature",a),c[0]&=127;const y=fn(c);t.s==null?t.s=y:t.s!==y&&qs.throwArgumentError("signature v mismatch _vs","signature",a)}if(t.recoveryParam==null)t.v==null?qs.throwArgumentError("signature missing v and recoveryParam","signature",a):t.v===0||t.v===1?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(t.v==null)t.v=27+t.recoveryParam;else{const c=t.v===0||t.v===1?t.v:1-t.v%2;t.recoveryParam!==c&&qs.throwArgumentError("signature recoveryParam mismatch v","signature",a)}t.r==null||!i0(t.r)?qs.throwArgumentError("signature missing or invalid r","signature",a):t.r=Bs(t.r,32),t.s==null||!i0(t.s)?qs.throwArgumentError("signature missing or invalid s","signature",a):t.s=Bs(t.s,32);const r=Cn(t.s);r[0]>=128&&qs.throwArgumentError("signature s out of range","signature",a),t.recoveryParam&&(r[0]|=128);const n=fn(r);t._vs&&(i0(t._vs)||qs.throwArgumentError("signature invalid _vs","signature",a),t._vs=Bs(t._vs,32)),t._vs==null?t._vs=n:t._vs!==n&&qs.throwArgumentError("signature _vs mismatch v and s","signature",a)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}const UD="bignumber/5.7.0";var dw=jn.BN;const ec=new pr(UD),a5={},f9=9007199254740991;function y$(a){return a!=null&&(Ei.isBigNumber(a)||typeof a=="number"&&a%1===0||typeof a=="string"&&!!a.match(/^-?[0-9]+$/)||i0(a)||typeof a=="bigint"||k1(a))}let u9=!1;class Ei{constructor(t,r){t!==a5&&ec.throwError("cannot call constructor directly; use BigNumber.from",pr.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return ja(g0(this).fromTwos(t))}toTwos(t){return ja(g0(this).toTwos(t))}abs(){return this._hex[0]==="-"?Ei.from(this._hex.substring(1)):this}add(t){return ja(g0(this).add(g0(t)))}sub(t){return ja(g0(this).sub(g0(t)))}div(t){return Ei.from(t).isZero()&&Vl("division-by-zero","div"),ja(g0(this).div(g0(t)))}mul(t){return ja(g0(this).mul(g0(t)))}mod(t){const r=g0(t);return r.isNeg()&&Vl("division-by-zero","mod"),ja(g0(this).umod(r))}pow(t){const r=g0(t);return r.isNeg()&&Vl("negative-power","pow"),ja(g0(this).pow(r))}and(t){const r=g0(t);return(this.isNegative()||r.isNeg())&&Vl("unbound-bitwise-result","and"),ja(g0(this).and(r))}or(t){const r=g0(t);return(this.isNegative()||r.isNeg())&&Vl("unbound-bitwise-result","or"),ja(g0(this).or(r))}xor(t){const r=g0(t);return(this.isNegative()||r.isNeg())&&Vl("unbound-bitwise-result","xor"),ja(g0(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&Vl("negative-width","mask"),ja(g0(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Vl("negative-width","shl"),ja(g0(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Vl("negative-width","shr"),ja(g0(this).shrn(t))}eq(t){return g0(this).eq(g0(t))}lt(t){return g0(this).lt(g0(t))}lte(t){return g0(this).lte(g0(t))}gt(t){return g0(this).gt(g0(t))}gte(t){return g0(this).gte(g0(t))}isNegative(){return this._hex[0]==="-"}isZero(){return g0(this).isZero()}toNumber(){try{return g0(this).toNumber()}catch{Vl("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return ec.throwError("this platform does not support BigInt",pr.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?u9||(u9=!0,ec.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?ec.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",pr.errors.UNEXPECTED_ARGUMENT,{}):ec.throwError("BigNumber.toString does not accept parameters",pr.errors.UNEXPECTED_ARGUMENT,{})),g0(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Ei)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new Ei(a5,Hg(t)):t.match(/^-?[0-9]+$/)?new Ei(a5,Hg(new dw(t))):ec.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&Vl("underflow","BigNumber.from",t),(t>=f9||t<=-f9)&&Vl("overflow","BigNumber.from",t),Ei.from(String(t));const r=t;if(typeof r=="bigint")return Ei.from(r.toString());if(k1(r))return Ei.from(fn(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Ei.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(i0(n)||n[0]==="-"&&i0(n.substring(1))))return Ei.from(n)}return ec.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}}function Hg(a){if(typeof a!="string")return Hg(a.toString(16));if(a[0]==="-")return a=a.substring(1),a[0]==="-"&&ec.throwArgumentError("invalid hex","value",a),a=Hg(a),a==="0x00"?a:"-"+a;if(a.substring(0,2)!=="0x"&&(a="0x"+a),a==="0x")return"0x00";for(a.length%2&&(a="0x0"+a.substring(2));a.length>4&&a.substring(0,4)==="0x00";)a="0x"+a.substring(4);return a}function ja(a){return Ei.from(Hg(a))}function g0(a){const t=Ei.from(a).toHexString();return t[0]==="-"?new dw("-"+t.substring(3),16):new dw(t.substring(2),16)}function Vl(a,t,r){const n={fault:a,operation:t};return r!=null&&(n.value=r),ec.throwError(a,pr.errors.NUMERIC_FAULT,n)}function v$(a){return new dw(a,36).toString(16)}const Ta=new pr(UD),xg={},VD=Ei.from(0),jD=Ei.from(-1);function GD(a,t,r,n){const c={fault:t,operation:r};return n!==void 0&&(c.value=n),Ta.throwError(a,pr.errors.NUMERIC_FAULT,c)}let Eg="0";for(;Eg.length<256;)Eg+=Eg;function r_(a){if(typeof a!="number")try{a=Ei.from(a).toNumber()}catch{}return typeof a=="number"&&a>=0&&a<=256&&!(a%1)?"1"+Eg.substring(0,a):Ta.throwArgumentError("invalid decimal size","decimals",a)}function l5(a,t){t==null&&(t=0);const r=r_(t);a=Ei.from(a);const n=a.lt(VD);n&&(a=a.mul(jD));let c=a.mod(r).toString();for(;c.length<r.length-1;)c="0"+c;c=c.match(/^([0-9]*[1-9]|0)(0*)/)[1];const p=a.div(r).toString();return r.length===1?a=p:a=p+"."+c,n&&(a="-"+a),a}function su(a,t){t==null&&(t=0);const r=r_(t);(typeof a!="string"||!a.match(/^-?[0-9.]+$/))&&Ta.throwArgumentError("invalid decimal value","value",a);const n=a.substring(0,1)==="-";n&&(a=a.substring(1)),a==="."&&Ta.throwArgumentError("missing value","value",a);const c=a.split(".");c.length>2&&Ta.throwArgumentError("too many decimal points","value",a);let p=c[0],y=c[1];for(p||(p="0"),y||(y="0");y[y.length-1]==="0";)y=y.substring(0,y.length-1);for(y.length>r.length-1&&GD("fractional component exceeds decimals","underflow","parseFixed"),y===""&&(y="0");y.length<r.length-1;)y+="0";const v=Ei.from(p),E=Ei.from(y);let _=v.mul(r).add(E);return n&&(_=_.mul(jD)),_}class Np{constructor(t,r,n,c){t!==xg&&Ta.throwError("cannot use FixedFormat constructor; use FixedFormat.from",pr.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=c,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(c),this._multiplier=r_(c),Object.freeze(this)}static from(t){if(t instanceof Np)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,n=128,c=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const p=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);p||Ta.throwArgumentError("invalid fixed format","format",t),r=p[1]!=="u",n=parseInt(p[2]),c=parseInt(p[3])}}else if(t){const p=(y,v,E)=>t[y]==null?E:(typeof t[y]!==v&&Ta.throwArgumentError("invalid fixed format ("+y+" not "+v+")","format."+y,t[y]),t[y]);r=p("signed","boolean",r),n=p("width","number",n),c=p("decimals","number",c)}return n%8&&Ta.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),c>80&&Ta.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",c),new Np(xg,r,n,c)}}class ta{constructor(t,r,n,c){t!==xg&&Ta.throwError("cannot use FixedNumber constructor; use FixedNumber.from",pr.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=c,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&Ta.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=su(this._value,this.format.decimals),n=su(t._value,t.format.decimals);return ta.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=su(this._value,this.format.decimals),n=su(t._value,t.format.decimals);return ta.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=su(this._value,this.format.decimals),n=su(t._value,t.format.decimals);return ta.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=su(this._value,this.format.decimals),n=su(t._value,t.format.decimals);return ta.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=ta.from(t[0],this.format);const n=!t[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(c9.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=ta.from(t[0],this.format);const n=!t[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(c9.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&Ta.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const n=ta.from("1"+Eg.substring(0,t),this.format),c=w$.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(c).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&Ta.throwArgumentError("invalid byte width","width",t);const r=Ei.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return Bs(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return ta.fromString(this._value,t)}static fromValue(t,r,n){return n==null&&r!=null&&!y$(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),ta.fromString(l5(t,r),Np.from(n))}static fromString(t,r){r==null&&(r="fixed");const n=Np.from(r),c=su(t,n.decimals);!n.signed&&c.lt(VD)&&GD("unsigned value cannot be negative","overflow","value",t);let p=null;n.signed?p=c.toTwos(n.width).toHexString():(p=c.toHexString(),p=Bs(p,n.width/8));const y=l5(c,n.decimals);return new ta(xg,p,y,n)}static fromBytes(t,r){r==null&&(r="fixed");const n=Np.from(r);if(Cn(t).length>n.width/8)throw new Error("overflow");let c=Ei.from(t);n.signed&&(c=c.fromTwos(n.width));const p=c.toTwos((n.signed?0:1)+n.width).toHexString(),y=l5(c,n.decimals);return new ta(xg,p,y,n)}static from(t,r){if(typeof t=="string")return ta.fromString(t,r);if(k1(t))return ta.fromBytes(t,r);try{return ta.fromValue(t,0,r)}catch(n){if(n.code!==pr.errors.INVALID_ARGUMENT)throw n}return Ta.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}}const c9=ta.from(1),w$=ta.from("0.5"),A$="properties/5.7.0";var x$=globalThis&&globalThis.__awaiter||function(a,t,r,n){function c(p){return p instanceof r?p:new r(function(y){y(p)})}return new(r||(r=Promise))(function(p,y){function v(k){try{_(n.next(k))}catch(R){y(R)}}function E(k){try{_(n.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):c(k.value).then(v,E)}_((n=n.apply(a,t||[])).next())})};const pw=new pr(A$);function li(a,t,r){Object.defineProperty(a,t,{enumerable:!0,value:r,writable:!1})}function kl(a,t){for(let r=0;r<32;r++){if(a[t])return a[t];if(!a.prototype||typeof a.prototype!="object")break;a=Object.getPrototypeOf(a.prototype).constructor}return null}function xo(a){return x$(this,void 0,void 0,function*(){const t=Object.keys(a).map(n=>{const c=a[n];return Promise.resolve(c).then(p=>({key:n,value:p}))});return(yield Promise.all(t)).reduce((n,c)=>(n[c.key]=c.value,n),{})})}function E$(a,t){(!a||typeof a!="object")&&pw.throwArgumentError("invalid object","object",a),Object.keys(a).forEach(r=>{t[r]||pw.throwArgumentError("invalid object key - "+r,"transaction:"+r,a)})}function Rs(a){const t={};for(const r in a)t[r]=a[r];return t}const _$={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function zD(a){if(a==null||_$[typeof a])return!0;if(Array.isArray(a)||typeof a=="object"){if(!Object.isFrozen(a))return!1;const t=Object.keys(a);for(let r=0;r<t.length;r++){let n=null;try{n=a[t[r]]}catch{continue}if(!zD(n))return!1}return!0}return pw.throwArgumentError(`Cannot deepCopy ${typeof a}`,"object",a)}function k$(a){if(zD(a))return a;if(Array.isArray(a))return Object.freeze(a.map(t=>Xa(t)));if(typeof a=="object"){const t={};for(const r in a){const n=a[r];n!==void 0&&li(t,r,Xa(n))}return t}return pw.throwArgumentError(`Cannot deepCopy ${typeof a}`,"object",a)}function Xa(a){return k$(a)}class fb{constructor(t){for(const r in t)this[r]=Xa(t[r])}}const ub="abi/5.7.0",A0=new pr(ub),e2={};let h9={calldata:!0,memory:!0,storage:!0},C$={calldata:!0,memory:!0};function hv(a,t){if(a==="bytes"||a==="string"){if(h9[t])return!0}else if(a==="address"){if(t==="payable")return!0}else if((a.indexOf("[")>=0||a==="tuple")&&C$[t])return!0;return(h9[t]||t==="payable")&&A0.throwArgumentError("invalid modifier","name",t),!1}function S$(a,t){let r=a;function n(v){A0.throwArgumentError(`unexpected character at position ${v}`,"param",a)}a=a.replace(/\s/g," ");function c(v){let E={type:"",name:"",parent:v,state:{allowType:!0}};return t&&(E.indexed=!1),E}let p={type:"",name:"",state:{allowType:!0}},y=p;for(let v=0;v<a.length;v++){let E=a[v];switch(E){case"(":y.state.allowType&&y.type===""?y.type="tuple":y.state.allowParams||n(v),y.state.allowType=!1,y.type=Ap(y.type),y.components=[c(y)],y=y.components[0];break;case")":delete y.state,y.name==="indexed"&&(t||n(v),y.indexed=!0,y.name=""),hv(y.type,y.name)&&(y.name=""),y.type=Ap(y.type);let _=y;y=y.parent,y||n(v),delete _.parent,y.state.allowParams=!1,y.state.allowName=!0,y.state.allowArray=!0;break;case",":delete y.state,y.name==="indexed"&&(t||n(v),y.indexed=!0,y.name=""),hv(y.type,y.name)&&(y.name=""),y.type=Ap(y.type);let k=c(y.parent);y.parent.components.push(k),delete y.parent,y=k;break;case" ":y.state.allowType&&y.type!==""&&(y.type=Ap(y.type),delete y.state.allowType,y.state.allowName=!0,y.state.allowParams=!0),y.state.allowName&&y.name!==""&&(y.name==="indexed"?(t||n(v),y.indexed&&n(v),y.indexed=!0,y.name=""):hv(y.type,y.name)?y.name="":y.state.allowName=!1);break;case"[":y.state.allowArray||n(v),y.type+=E,y.state.allowArray=!1,y.state.allowName=!1,y.state.readArray=!0;break;case"]":y.state.readArray||n(v),y.type+=E,y.state.readArray=!1,y.state.allowArray=!0,y.state.allowName=!0;break;default:y.state.allowType?(y.type+=E,y.state.allowParams=!0,y.state.allowArray=!0):y.state.allowName?(y.name+=E,delete y.state.allowArray):y.state.readArray?y.type+=E:n(v)}}return y.parent&&A0.throwArgumentError("unexpected eof","param",a),delete p.state,y.name==="indexed"?(t||n(r.length-7),y.indexed&&n(r.length-7),y.indexed=!0,y.name=""):hv(y.type,y.name)&&(y.name=""),p.type=Ap(p.type),p}function zv(a,t){for(let r in t)li(a,r,t[r])}const U0=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),T$=new RegExp(/^(.*)\[([0-9]*)\]$/);class Jo{constructor(t,r){t!==e2&&A0.throwError("use fromString",pr.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),zv(this,r);let n=this.type.match(T$);n?zv(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Jo.fromObject({type:n[1],components:this.components}),baseType:"array"}):zv(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(t){if(t||(t=U0.sighash),U0[t]||A0.throwArgumentError("invalid format type","format",t),t===U0.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(c=>JSON.parse(c.format(t)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(t),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(t!==U0.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(t)).join(t===U0.full?", ":",")+")"):r+=this.type,t!==U0.sighash&&(this.indexed===!0&&(r+=" indexed"),t===U0.full&&this.name&&(r+=" "+this.name)),r}static from(t,r){return typeof t=="string"?Jo.fromString(t,r):Jo.fromObject(t)}static fromObject(t){return Jo.isParamType(t)?t:new Jo(e2,{name:t.name||null,type:Ap(t.type),indexed:t.indexed==null?null:!!t.indexed,components:t.components?t.components.map(Jo.fromObject):null})}static fromString(t,r){function n(c){return Jo.fromObject({name:c.name,type:c.type,indexed:c.indexed,components:c.components})}return n(S$(t,!!r))}static isParamType(t){return!!(t!=null&&t._isParamType)}}function Ug(a,t){return R$(a).map(r=>Jo.fromString(r,t))}class nc{constructor(t,r){t!==e2&&A0.throwError("use a static from method",pr.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),zv(this,r),this._isFragment=!0,Object.freeze(this)}static from(t){return nc.isFragment(t)?t:typeof t=="string"?nc.fromString(t):nc.fromObject(t)}static fromObject(t){if(nc.isFragment(t))return t;switch(t.type){case"function":return mu.fromObject(t);case"event":return rc.fromObject(t);case"constructor":return pu.fromObject(t);case"error":return dh.fromObject(t);case"fallback":case"receive":return null}return A0.throwArgumentError("invalid fragment object","value",t)}static fromString(t){return t=t.replace(/\s/g," "),t=t.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),t=t.trim(),t.split(" ")[0]==="event"?rc.fromString(t.substring(5).trim()):t.split(" ")[0]==="function"?mu.fromString(t.substring(8).trim()):t.split("(")[0].trim()==="constructor"?pu.fromString(t.trim()):t.split(" ")[0]==="error"?dh.fromString(t.substring(5).trim()):A0.throwArgumentError("unsupported fragment","value",t)}static isFragment(t){return!!(t&&t._isFragment)}}class rc extends nc{format(t){if(t||(t=U0.sighash),U0[t]||A0.throwArgumentError("invalid format type","format",t),t===U0.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});let r="";return t!==U0.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(t)).join(t===U0.full?", ":",")+") ",t!==U0.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(t){return typeof t=="string"?rc.fromString(t):rc.fromObject(t)}static fromObject(t){if(rc.isEventFragment(t))return t;t.type!=="event"&&A0.throwArgumentError("invalid event object","value",t);const r={name:Vg(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(Jo.fromObject):[],type:"event"};return new rc(e2,r)}static fromString(t){let r=t.match(jg);r||A0.throwArgumentError("invalid event string","value",t);let n=!1;return r[3].split(" ").forEach(c=>{switch(c.trim()){case"anonymous":n=!0;break;case"":break;default:A0.warn("unknown modifier: "+c)}}),rc.fromObject({name:r[1].trim(),anonymous:n,inputs:Ug(r[2],!0),type:"event"})}static isEventFragment(t){return t&&t._isFragment&&t.type==="event"}}function WD(a,t){t.gas=null;let r=a.split("@");return r.length!==1?(r.length>2&&A0.throwArgumentError("invalid human-readable ABI signature","value",a),r[1].match(/^[0-9]+$/)||A0.throwArgumentError("invalid human-readable ABI signature gas","value",a),t.gas=Ei.from(r[1]),r[0]):a}function QD(a,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",a.split(" ").forEach(r=>{switch(r.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function JD(a){let t={constant:!1,payable:!0,stateMutability:"payable"};return a.stateMutability!=null?(t.stateMutability=a.stateMutability,t.constant=t.stateMutability==="view"||t.stateMutability==="pure",a.constant!=null&&!!a.constant!==t.constant&&A0.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",a),t.payable=t.stateMutability==="payable",a.payable!=null&&!!a.payable!==t.payable&&A0.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",a)):a.payable!=null?(t.payable=!!a.payable,a.constant==null&&!t.payable&&a.type!=="constructor"&&A0.throwArgumentError("unable to determine stateMutability","value",a),t.constant=!!a.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&A0.throwArgumentError("cannot have constant payable function","value",a)):a.constant!=null?(t.constant=!!a.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):a.type!=="constructor"&&A0.throwArgumentError("unable to determine stateMutability","value",a),t}class pu extends nc{format(t){if(t||(t=U0.sighash),U0[t]||A0.throwArgumentError("invalid format type","format",t),t===U0.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});t===U0.sighash&&A0.throwError("cannot format a constructor for sighash",pr.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(t)).join(t===U0.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(t){return typeof t=="string"?pu.fromString(t):pu.fromObject(t)}static fromObject(t){if(pu.isConstructorFragment(t))return t;t.type!=="constructor"&&A0.throwArgumentError("invalid constructor object","value",t);let r=JD(t);r.constant&&A0.throwArgumentError("constructor cannot be constant","value",t);const n={name:null,type:t.type,inputs:t.inputs?t.inputs.map(Jo.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:t.gas?Ei.from(t.gas):null};return new pu(e2,n)}static fromString(t){let r={type:"constructor"};t=WD(t,r);let n=t.match(jg);return(!n||n[1].trim()!=="constructor")&&A0.throwArgumentError("invalid constructor string","value",t),r.inputs=Ug(n[2].trim(),!1),QD(n[3].trim(),r),pu.fromObject(r)}static isConstructorFragment(t){return t&&t._isFragment&&t.type==="constructor"}}class mu extends pu{format(t){if(t||(t=U0.sighash),U0[t]||A0.throwArgumentError("invalid format type","format",t),t===U0.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(t))),outputs:this.outputs.map(n=>JSON.parse(n.format(t)))});let r="";return t!==U0.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(t)).join(t===U0.full?", ":",")+") ",t!==U0.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(t)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(t){return typeof t=="string"?mu.fromString(t):mu.fromObject(t)}static fromObject(t){if(mu.isFunctionFragment(t))return t;t.type!=="function"&&A0.throwArgumentError("invalid function object","value",t);let r=JD(t);const n={type:t.type,name:Vg(t.name),constant:r.constant,inputs:t.inputs?t.inputs.map(Jo.fromObject):[],outputs:t.outputs?t.outputs.map(Jo.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:t.gas?Ei.from(t.gas):null};return new mu(e2,n)}static fromString(t){let r={type:"function"};t=WD(t,r);let n=t.split(" returns ");n.length>2&&A0.throwArgumentError("invalid function string","value",t);let c=n[0].match(jg);if(c||A0.throwArgumentError("invalid function signature","value",t),r.name=c[1].trim(),r.name&&Vg(r.name),r.inputs=Ug(c[2],!1),QD(c[3].trim(),r),n.length>1){let p=n[1].match(jg);(p[1].trim()!=""||p[3].trim()!="")&&A0.throwArgumentError("unexpected tokens","value",t),r.outputs=Ug(p[2],!1)}else r.outputs=[];return mu.fromObject(r)}static isFunctionFragment(t){return t&&t._isFragment&&t.type==="function"}}function d9(a){const t=a.format();return(t==="Error(string)"||t==="Panic(uint256)")&&A0.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",a),a}class dh extends nc{format(t){if(t||(t=U0.sighash),U0[t]||A0.throwArgumentError("invalid format type","format",t),t===U0.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});let r="";return t!==U0.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(t)).join(t===U0.full?", ":",")+") ",r.trim()}static from(t){return typeof t=="string"?dh.fromString(t):dh.fromObject(t)}static fromObject(t){if(dh.isErrorFragment(t))return t;t.type!=="error"&&A0.throwArgumentError("invalid error object","value",t);const r={type:t.type,name:Vg(t.name),inputs:t.inputs?t.inputs.map(Jo.fromObject):[]};return d9(new dh(e2,r))}static fromString(t){let r={type:"error"},n=t.match(jg);return n||A0.throwArgumentError("invalid error signature","value",t),r.name=n[1].trim(),r.name&&Vg(r.name),r.inputs=Ug(n[2],!1),d9(dh.fromObject(r))}static isErrorFragment(t){return t&&t._isFragment&&t.type==="error"}}function Ap(a){return a.match(/^uint($|[^1-9])/)?a="uint256"+a.substring(4):a.match(/^int($|[^1-9])/)&&(a="int256"+a.substring(3)),a}const M$=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Vg(a){return(!a||!a.match(M$))&&A0.throwArgumentError(`invalid identifier "${a}"`,"value",a),a}const jg=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function R$(a){a=a.trim();let t=[],r="",n=0;for(let c=0;c<a.length;c++){let p=a[c];p===","&&n===0?(t.push(r),r=""):(r+=p,p==="("?n++:p===")"&&(n--,n===-1&&A0.throwArgumentError("unbalanced parenthesis","value",a)))}return r&&t.push(r),t}const i_=new pr(ub);function D$(a){const t=[],r=function(n,c){if(!!Array.isArray(c))for(let p in c){const y=n.slice();y.push(p);try{r(y,c[p])}catch(v){t.push({path:y,error:v})}}};return r([],a),t}class mc{constructor(t,r,n,c){this.name=t,this.type=r,this.localName=n,this.dynamic=c}_throwError(t,r){i_.throwArgumentError(t,this.localName,r)}}class TE{constructor(t){li(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}get data(){return Qa(this._data)}get length(){return this._dataLength}_writeData(t){return this._data.push(t),this._dataLength+=t.length,t.length}appendWriter(t){return this._writeData(_l(t._data))}writeBytes(t){let r=Cn(t);const n=r.length%this.wordSize;return n&&(r=_l([r,this._padding.slice(n)])),this._writeData(r)}_getValue(t){let r=Cn(Ei.from(t));return r.length>this.wordSize&&i_.throwError("value out-of-bounds",pr.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=_l([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(t){return this._writeData(this._getValue(t))}writeUpdatableValue(){const t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[t]=this._getValue(r)}}}class mw{constructor(t,r,n,c){li(this,"_data",Cn(t)),li(this,"wordSize",r||32),li(this,"_coerceFunc",n),li(this,"allowLoose",c),this._offset=0}get data(){return fn(this._data)}get consumed(){return this._offset}static coerce(t,r){let n=t.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(t,r){return this._coerceFunc?this._coerceFunc(t,r):mw.coerce(t,r)}_peekBytes(t,r,n){let c=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+c>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?c=r:i_.throwError("data out-of-bounds",pr.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+c})),this._data.slice(this._offset,this._offset+c)}subReader(t){return new mw(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(t,r){let n=this._peekBytes(0,t,!!r);return this._offset+=n.length,n.slice(0,t)}readValue(){return Ei.from(this.readBytes(this.wordSize))}}var XD={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(a){(function(){var t="input is invalid type",r="finalize already called",n=typeof window=="object",c=n?window:{};c.JS_SHA3_NO_WINDOW&&(n=!1);var p=!n&&typeof self=="object",y=!c.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;y?c=Ks:p&&(c=self);var v=!c.JS_SHA3_NO_COMMON_JS&&!0&&a.exports,E=!c.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",_="0123456789abcdef".split(""),k=[31,7936,2031616,520093696],R=[4,1024,262144,67108864],B=[1,256,65536,16777216],M=[6,1536,393216,100663296],F=[0,8,16,24],H=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],U=[224,256,384,512],Z=[128,256],K=["hex","buffer","arrayBuffer","array","digest"],fe={"128":168,"256":136};(c.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(Se){return Object.prototype.toString.call(Se)==="[object Array]"}),E&&(c.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(Se){return typeof Se=="object"&&Se.buffer&&Se.buffer.constructor===ArrayBuffer});for(var oe=function(Se,Xe,ct){return function($e){return new ce(Se,Xe,Se).update($e)[ct]()}},we=function(Se,Xe,ct){return function($e,Et){return new ce(Se,Xe,Et).update($e)[ct]()}},be=function(Se,Xe,ct){return function($e,Et,Dt,er){return re["cshake"+Se].update($e,Et,Dt,er)[ct]()}},ve=function(Se,Xe,ct){return function($e,Et,Dt,er){return re["kmac"+Se].update($e,Et,Dt,er)[ct]()}},ne=function(Se,Xe,ct,$e){for(var Et=0;Et<K.length;++Et){var Dt=K[Et];Se[Dt]=Xe(ct,$e,Dt)}return Se},ae=function(Se,Xe){var ct=oe(Se,Xe,"hex");return ct.create=function(){return new ce(Se,Xe,Se)},ct.update=function($e){return ct.create().update($e)},ne(ct,oe,Se,Xe)},ye=function(Se,Xe){var ct=we(Se,Xe,"hex");return ct.create=function($e){return new ce(Se,Xe,$e)},ct.update=function($e,Et){return ct.create(Et).update($e)},ne(ct,we,Se,Xe)},de=function(Se,Xe){var ct=fe[Se],$e=be(Se,Xe,"hex");return $e.create=function(Et,Dt,er){return!Dt&&!er?re["shake"+Se].create(Et):new ce(Se,Xe,Et).bytepad([Dt,er],ct)},$e.update=function(Et,Dt,er,Gt){return $e.create(Dt,er,Gt).update(Et)},ne($e,be,Se,Xe)},xe=function(Se,Xe){var ct=fe[Se],$e=ve(Se,Xe,"hex");return $e.create=function(Et,Dt,er){return new Me(Se,Xe,Dt).bytepad(["KMAC",er],ct).bytepad([Et],ct)},$e.update=function(Et,Dt,er,Gt){return $e.create(Et,er,Gt).update(Dt)},ne($e,ve,Se,Xe)},le=[{name:"keccak",padding:B,bits:U,createMethod:ae},{name:"sha3",padding:M,bits:U,createMethod:ae},{name:"shake",padding:k,bits:Z,createMethod:ye},{name:"cshake",padding:R,bits:Z,createMethod:de},{name:"kmac",padding:R,bits:Z,createMethod:xe}],re={},he=[],me=0;me<le.length;++me)for(var Re=le[me],Ie=Re.bits,Ne=0;Ne<Ie.length;++Ne){var Qe=Re.name+"_"+Ie[Ne];if(he.push(Qe),re[Qe]=Re.createMethod(Ie[Ne],Re.padding),Re.name!=="sha3"){var Ue=Re.name+Ie[Ne];he.push(Ue),re[Ue]=re[Qe]}}function ce(Se,Xe,ct){this.blocks=[],this.s=[],this.padding=Xe,this.outputBits=ct,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(Se<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=ct>>5,this.extraBytes=(ct&31)>>3;for(var $e=0;$e<50;++$e)this.s[$e]=0}ce.prototype.update=function(Se){if(this.finalized)throw new Error(r);var Xe,ct=typeof Se;if(ct!=="string"){if(ct==="object"){if(Se===null)throw new Error(t);if(E&&Se.constructor===ArrayBuffer)Se=new Uint8Array(Se);else if(!Array.isArray(Se)&&(!E||!ArrayBuffer.isView(Se)))throw new Error(t)}else throw new Error(t);Xe=!0}for(var $e=this.blocks,Et=this.byteCount,Dt=Se.length,er=this.blockCount,Gt=0,Ht=this.s,Kt,yr;Gt<Dt;){if(this.reset)for(this.reset=!1,$e[0]=this.block,Kt=1;Kt<er+1;++Kt)$e[Kt]=0;if(Xe)for(Kt=this.start;Gt<Dt&&Kt<Et;++Gt)$e[Kt>>2]|=Se[Gt]<<F[Kt++&3];else for(Kt=this.start;Gt<Dt&&Kt<Et;++Gt)yr=Se.charCodeAt(Gt),yr<128?$e[Kt>>2]|=yr<<F[Kt++&3]:yr<2048?($e[Kt>>2]|=(192|yr>>6)<<F[Kt++&3],$e[Kt>>2]|=(128|yr&63)<<F[Kt++&3]):yr<55296||yr>=57344?($e[Kt>>2]|=(224|yr>>12)<<F[Kt++&3],$e[Kt>>2]|=(128|yr>>6&63)<<F[Kt++&3],$e[Kt>>2]|=(128|yr&63)<<F[Kt++&3]):(yr=65536+((yr&1023)<<10|Se.charCodeAt(++Gt)&1023),$e[Kt>>2]|=(240|yr>>18)<<F[Kt++&3],$e[Kt>>2]|=(128|yr>>12&63)<<F[Kt++&3],$e[Kt>>2]|=(128|yr>>6&63)<<F[Kt++&3],$e[Kt>>2]|=(128|yr&63)<<F[Kt++&3]);if(this.lastByteIndex=Kt,Kt>=Et){for(this.start=Kt-Et,this.block=$e[er],Kt=0;Kt<er;++Kt)Ht[Kt]^=$e[Kt];ot(Ht),this.reset=!0}else this.start=Kt}return this},ce.prototype.encode=function(Se,Xe){var ct=Se&255,$e=1,Et=[ct];for(Se=Se>>8,ct=Se&255;ct>0;)Et.unshift(ct),Se=Se>>8,ct=Se&255,++$e;return Xe?Et.push($e):Et.unshift($e),this.update(Et),Et.length},ce.prototype.encodeString=function(Se){var Xe,ct=typeof Se;if(ct!=="string"){if(ct==="object"){if(Se===null)throw new Error(t);if(E&&Se.constructor===ArrayBuffer)Se=new Uint8Array(Se);else if(!Array.isArray(Se)&&(!E||!ArrayBuffer.isView(Se)))throw new Error(t)}else throw new Error(t);Xe=!0}var $e=0,Et=Se.length;if(Xe)$e=Et;else for(var Dt=0;Dt<Se.length;++Dt){var er=Se.charCodeAt(Dt);er<128?$e+=1:er<2048?$e+=2:er<55296||er>=57344?$e+=3:(er=65536+((er&1023)<<10|Se.charCodeAt(++Dt)&1023),$e+=4)}return $e+=this.encode($e*8),this.update(Se),$e},ce.prototype.bytepad=function(Se,Xe){for(var ct=this.encode(Xe),$e=0;$e<Se.length;++$e)ct+=this.encodeString(Se[$e]);var Et=Xe-ct%Xe,Dt=[];return Dt.length=Et,this.update(Dt),this},ce.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var Se=this.blocks,Xe=this.lastByteIndex,ct=this.blockCount,$e=this.s;if(Se[Xe>>2]|=this.padding[Xe&3],this.lastByteIndex===this.byteCount)for(Se[0]=Se[ct],Xe=1;Xe<ct+1;++Xe)Se[Xe]=0;for(Se[ct-1]|=2147483648,Xe=0;Xe<ct;++Xe)$e[Xe]^=Se[Xe];ot($e)}},ce.prototype.toString=ce.prototype.hex=function(){this.finalize();for(var Se=this.blockCount,Xe=this.s,ct=this.outputBlocks,$e=this.extraBytes,Et=0,Dt=0,er="",Gt;Dt<ct;){for(Et=0;Et<Se&&Dt<ct;++Et,++Dt)Gt=Xe[Et],er+=_[Gt>>4&15]+_[Gt&15]+_[Gt>>12&15]+_[Gt>>8&15]+_[Gt>>20&15]+_[Gt>>16&15]+_[Gt>>28&15]+_[Gt>>24&15];Dt%Se===0&&(ot(Xe),Et=0)}return $e&&(Gt=Xe[Et],er+=_[Gt>>4&15]+_[Gt&15],$e>1&&(er+=_[Gt>>12&15]+_[Gt>>8&15]),$e>2&&(er+=_[Gt>>20&15]+_[Gt>>16&15])),er},ce.prototype.arrayBuffer=function(){this.finalize();var Se=this.blockCount,Xe=this.s,ct=this.outputBlocks,$e=this.extraBytes,Et=0,Dt=0,er=this.outputBits>>3,Gt;$e?Gt=new ArrayBuffer(ct+1<<2):Gt=new ArrayBuffer(er);for(var Ht=new Uint32Array(Gt);Dt<ct;){for(Et=0;Et<Se&&Dt<ct;++Et,++Dt)Ht[Dt]=Xe[Et];Dt%Se===0&&ot(Xe)}return $e&&(Ht[Et]=Xe[Et],Gt=Gt.slice(0,er)),Gt},ce.prototype.buffer=ce.prototype.arrayBuffer,ce.prototype.digest=ce.prototype.array=function(){this.finalize();for(var Se=this.blockCount,Xe=this.s,ct=this.outputBlocks,$e=this.extraBytes,Et=0,Dt=0,er=[],Gt,Ht;Dt<ct;){for(Et=0;Et<Se&&Dt<ct;++Et,++Dt)Gt=Dt<<2,Ht=Xe[Et],er[Gt]=Ht&255,er[Gt+1]=Ht>>8&255,er[Gt+2]=Ht>>16&255,er[Gt+3]=Ht>>24&255;Dt%Se===0&&ot(Xe)}return $e&&(Gt=Dt<<2,Ht=Xe[Et],er[Gt]=Ht&255,$e>1&&(er[Gt+1]=Ht>>8&255),$e>2&&(er[Gt+2]=Ht>>16&255)),er};function Me(Se,Xe,ct){ce.call(this,Se,Xe,ct)}Me.prototype=new ce,Me.prototype.finalize=function(){return this.encode(this.outputBits,!0),ce.prototype.finalize.call(this)};var ot=function(Se){var Xe,ct,$e,Et,Dt,er,Gt,Ht,Kt,yr,Ur,Yr,oi,xt,kt,rr,mt,ft,Ut,ir,vr,nt,De,Te,gt,zt,Bt,bt,Rr,Ct,Nt,lr,Sr,Vr,gi,ki,mi,Fe,Ke,dt,Ot,$t,Cr,ai,jt,ni,Mn,Tt,ur,Pr,xr,Fr,qi,ui,Li,hn,Pi,ji,un,Kn,ks,Jn,Ti;for($e=0;$e<48;$e+=2)Et=Se[0]^Se[10]^Se[20]^Se[30]^Se[40],Dt=Se[1]^Se[11]^Se[21]^Se[31]^Se[41],er=Se[2]^Se[12]^Se[22]^Se[32]^Se[42],Gt=Se[3]^Se[13]^Se[23]^Se[33]^Se[43],Ht=Se[4]^Se[14]^Se[24]^Se[34]^Se[44],Kt=Se[5]^Se[15]^Se[25]^Se[35]^Se[45],yr=Se[6]^Se[16]^Se[26]^Se[36]^Se[46],Ur=Se[7]^Se[17]^Se[27]^Se[37]^Se[47],Yr=Se[8]^Se[18]^Se[28]^Se[38]^Se[48],oi=Se[9]^Se[19]^Se[29]^Se[39]^Se[49],Xe=Yr^(er<<1|Gt>>>31),ct=oi^(Gt<<1|er>>>31),Se[0]^=Xe,Se[1]^=ct,Se[10]^=Xe,Se[11]^=ct,Se[20]^=Xe,Se[21]^=ct,Se[30]^=Xe,Se[31]^=ct,Se[40]^=Xe,Se[41]^=ct,Xe=Et^(Ht<<1|Kt>>>31),ct=Dt^(Kt<<1|Ht>>>31),Se[2]^=Xe,Se[3]^=ct,Se[12]^=Xe,Se[13]^=ct,Se[22]^=Xe,Se[23]^=ct,Se[32]^=Xe,Se[33]^=ct,Se[42]^=Xe,Se[43]^=ct,Xe=er^(yr<<1|Ur>>>31),ct=Gt^(Ur<<1|yr>>>31),Se[4]^=Xe,Se[5]^=ct,Se[14]^=Xe,Se[15]^=ct,Se[24]^=Xe,Se[25]^=ct,Se[34]^=Xe,Se[35]^=ct,Se[44]^=Xe,Se[45]^=ct,Xe=Ht^(Yr<<1|oi>>>31),ct=Kt^(oi<<1|Yr>>>31),Se[6]^=Xe,Se[7]^=ct,Se[16]^=Xe,Se[17]^=ct,Se[26]^=Xe,Se[27]^=ct,Se[36]^=Xe,Se[37]^=ct,Se[46]^=Xe,Se[47]^=ct,Xe=yr^(Et<<1|Dt>>>31),ct=Ur^(Dt<<1|Et>>>31),Se[8]^=Xe,Se[9]^=ct,Se[18]^=Xe,Se[19]^=ct,Se[28]^=Xe,Se[29]^=ct,Se[38]^=Xe,Se[39]^=ct,Se[48]^=Xe,Se[49]^=ct,xt=Se[0],kt=Se[1],ni=Se[11]<<4|Se[10]>>>28,Mn=Se[10]<<4|Se[11]>>>28,bt=Se[20]<<3|Se[21]>>>29,Rr=Se[21]<<3|Se[20]>>>29,Kn=Se[31]<<9|Se[30]>>>23,ks=Se[30]<<9|Se[31]>>>23,$t=Se[40]<<18|Se[41]>>>14,Cr=Se[41]<<18|Se[40]>>>14,Vr=Se[2]<<1|Se[3]>>>31,gi=Se[3]<<1|Se[2]>>>31,rr=Se[13]<<12|Se[12]>>>20,mt=Se[12]<<12|Se[13]>>>20,Tt=Se[22]<<10|Se[23]>>>22,ur=Se[23]<<10|Se[22]>>>22,Ct=Se[33]<<13|Se[32]>>>19,Nt=Se[32]<<13|Se[33]>>>19,Jn=Se[42]<<2|Se[43]>>>30,Ti=Se[43]<<2|Se[42]>>>30,ui=Se[5]<<30|Se[4]>>>2,Li=Se[4]<<30|Se[5]>>>2,ki=Se[14]<<6|Se[15]>>>26,mi=Se[15]<<6|Se[14]>>>26,ft=Se[25]<<11|Se[24]>>>21,Ut=Se[24]<<11|Se[25]>>>21,Pr=Se[34]<<15|Se[35]>>>17,xr=Se[35]<<15|Se[34]>>>17,lr=Se[45]<<29|Se[44]>>>3,Sr=Se[44]<<29|Se[45]>>>3,Te=Se[6]<<28|Se[7]>>>4,gt=Se[7]<<28|Se[6]>>>4,hn=Se[17]<<23|Se[16]>>>9,Pi=Se[16]<<23|Se[17]>>>9,Fe=Se[26]<<25|Se[27]>>>7,Ke=Se[27]<<25|Se[26]>>>7,ir=Se[36]<<21|Se[37]>>>11,vr=Se[37]<<21|Se[36]>>>11,Fr=Se[47]<<24|Se[46]>>>8,qi=Se[46]<<24|Se[47]>>>8,ai=Se[8]<<27|Se[9]>>>5,jt=Se[9]<<27|Se[8]>>>5,zt=Se[18]<<20|Se[19]>>>12,Bt=Se[19]<<20|Se[18]>>>12,ji=Se[29]<<7|Se[28]>>>25,un=Se[28]<<7|Se[29]>>>25,dt=Se[38]<<8|Se[39]>>>24,Ot=Se[39]<<8|Se[38]>>>24,nt=Se[48]<<14|Se[49]>>>18,De=Se[49]<<14|Se[48]>>>18,Se[0]=xt^~rr&ft,Se[1]=kt^~mt&Ut,Se[10]=Te^~zt&bt,Se[11]=gt^~Bt&Rr,Se[20]=Vr^~ki&Fe,Se[21]=gi^~mi&Ke,Se[30]=ai^~ni&Tt,Se[31]=jt^~Mn&ur,Se[40]=ui^~hn&ji,Se[41]=Li^~Pi&un,Se[2]=rr^~ft&ir,Se[3]=mt^~Ut&vr,Se[12]=zt^~bt&Ct,Se[13]=Bt^~Rr&Nt,Se[22]=ki^~Fe&dt,Se[23]=mi^~Ke&Ot,Se[32]=ni^~Tt&Pr,Se[33]=Mn^~ur&xr,Se[42]=hn^~ji&Kn,Se[43]=Pi^~un&ks,Se[4]=ft^~ir&nt,Se[5]=Ut^~vr&De,Se[14]=bt^~Ct&lr,Se[15]=Rr^~Nt&Sr,Se[24]=Fe^~dt&$t,Se[25]=Ke^~Ot&Cr,Se[34]=Tt^~Pr&Fr,Se[35]=ur^~xr&qi,Se[44]=ji^~Kn&Jn,Se[45]=un^~ks&Ti,Se[6]=ir^~nt&xt,Se[7]=vr^~De&kt,Se[16]=Ct^~lr&Te,Se[17]=Nt^~Sr&gt,Se[26]=dt^~$t&Vr,Se[27]=Ot^~Cr&gi,Se[36]=Pr^~Fr&ai,Se[37]=xr^~qi&jt,Se[46]=Kn^~Jn&ui,Se[47]=ks^~Ti&Li,Se[8]=nt^~xt&rr,Se[9]=De^~kt&mt,Se[18]=lr^~Te&zt,Se[19]=Sr^~gt&Bt,Se[28]=$t^~Vr&ki,Se[29]=Cr^~gi&mi,Se[38]=Fr^~ai&ni,Se[39]=qi^~jt&Mn,Se[48]=Jn^~ui&hn,Se[49]=Ti^~Li&Pi,Se[0]^=H[$e],Se[1]^=H[$e+1]};if(v)a.exports=re;else for(me=0;me<he.length;++me)c[he[me]]=re[he[me]]})()})(XD);var B$=XD.exports;function Io(a){return"0x"+B$.keccak_256(Cn(a))}const I$="rlp/5.7.0",uu=new pr(I$);function p9(a){const t=[];for(;a;)t.unshift(a&255),a>>=8;return t}function m9(a,t,r){let n=0;for(let c=0;c<r;c++)n=n*256+a[t+c];return n}function qD(a){if(Array.isArray(a)){let n=[];if(a.forEach(function(p){n=n.concat(qD(p))}),n.length<=55)return n.unshift(192+n.length),n;const c=p9(n.length);return c.unshift(247+c.length),c.concat(n)}t_(a)||uu.throwArgumentError("RLP object must be BytesLike","object",a);const t=Array.prototype.slice.call(Cn(a));if(t.length===1&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const r=p9(t.length);return r.unshift(183+r.length),r.concat(t)}function lA(a){return fn(qD(a))}function g9(a,t,r,n){const c=[];for(;r<t+1+n;){const p=ZD(a,r);c.push(p.result),r+=p.consumed,r>t+1+n&&uu.throwError("child data too short",pr.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:c}}function ZD(a,t){if(a.length===0&&uu.throwError("data too short",pr.errors.BUFFER_OVERRUN,{}),a[t]>=248){const r=a[t]-247;t+1+r>a.length&&uu.throwError("data short segment too short",pr.errors.BUFFER_OVERRUN,{});const n=m9(a,t+1,r);return t+1+r+n>a.length&&uu.throwError("data long segment too short",pr.errors.BUFFER_OVERRUN,{}),g9(a,t,t+1+r,r+n)}else if(a[t]>=192){const r=a[t]-192;return t+1+r>a.length&&uu.throwError("data array too short",pr.errors.BUFFER_OVERRUN,{}),g9(a,t,t+1,r)}else if(a[t]>=184){const r=a[t]-183;t+1+r>a.length&&uu.throwError("data array too short",pr.errors.BUFFER_OVERRUN,{});const n=m9(a,t+1,r);t+1+r+n>a.length&&uu.throwError("data array too short",pr.errors.BUFFER_OVERRUN,{});const c=fn(a.slice(t+1+r,t+1+r+n));return{consumed:1+r+n,result:c}}else if(a[t]>=128){const r=a[t]-128;t+1+r>a.length&&uu.throwError("data too short",pr.errors.BUFFER_OVERRUN,{});const n=fn(a.slice(t+1,t+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:fn(a[t])}}function n_(a){const t=Cn(a),r=ZD(t,0);return r.consumed!==t.length&&uu.throwArgumentError("invalid rlp data","data",a),r.result}const L$="address/5.7.0",Sp=new pr(L$);function b9(a){i0(a,20)||Sp.throwArgumentError("invalid address","address",a),a=a.toLowerCase();const t=a.substring(2).split(""),r=new Uint8Array(40);for(let c=0;c<40;c++)r[c]=t[c].charCodeAt(0);const n=Cn(Io(r));for(let c=0;c<40;c+=2)n[c>>1]>>4>=8&&(t[c]=t[c].toUpperCase()),(n[c>>1]&15)>=8&&(t[c+1]=t[c+1].toUpperCase());return"0x"+t.join("")}const P$=9007199254740991;function N$(a){return Math.log10?Math.log10(a):Math.log(a)/Math.LN10}const s_={};for(let a=0;a<10;a++)s_[String(a)]=String(a);for(let a=0;a<26;a++)s_[String.fromCharCode(65+a)]=String(10+a);const y9=Math.floor(N$(P$));function F$(a){a=a.toUpperCase(),a=a.substring(4)+a.substring(0,2)+"00";let t=a.split("").map(n=>s_[n]).join("");for(;t.length>=y9;){let n=t.substring(0,y9);t=parseInt(n,10)%97+t.substring(n.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function ia(a){let t=null;if(typeof a!="string"&&Sp.throwArgumentError("invalid address","address",a),a.match(/^(0x)?[0-9a-fA-F]{40}$/))a.substring(0,2)!=="0x"&&(a="0x"+a),t=b9(a),a.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==a&&Sp.throwArgumentError("bad address checksum","address",a);else if(a.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(a.substring(2,4)!==F$(a)&&Sp.throwArgumentError("bad icap checksum","address",a),t=v$(a.substring(4));t.length<40;)t="0"+t;t=b9("0x"+t)}else Sp.throwArgumentError("invalid address","address",a);return t}function YD(a){let t=null;try{t=ia(a.from)}catch{Sp.throwArgumentError("missing from address","transaction",a)}const r=u1(Cn(Ei.from(a.nonce).toHexString()));return ia(da(Io(lA([t,r])),12))}class O$ extends mc{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,r){try{r=ia(r)}catch(n){this._throwError(n.message,r)}return t.writeValue(r)}decode(t){return ia(Bs(t.readValue().toHexString(),20))}}class H$ extends mc{constructor(t){super(t.name,t.type,void 0,t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,r){return this.coder.encode(t,r)}decode(t){return this.coder.decode(t)}}const Tp=new pr(ub);function KD(a,t,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let E={};n=t.map(_=>{const k=_.localName;return k||Tp.throwError("cannot encode object for signature with missing names",pr.errors.INVALID_ARGUMENT,{argument:"values",coder:_,value:r}),E[k]&&Tp.throwError("cannot encode object for signature with duplicate names",pr.errors.INVALID_ARGUMENT,{argument:"values",coder:_,value:r}),E[k]=!0,r[k]})}else Tp.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&Tp.throwArgumentError("types/value length mismatch","tuple",r);let c=new TE(a.wordSize),p=new TE(a.wordSize),y=[];t.forEach((E,_)=>{let k=n[_];if(E.dynamic){let R=p.length;E.encode(p,k);let B=c.writeUpdatableValue();y.push(M=>{B(M+R)})}else E.encode(c,k)}),y.forEach(E=>{E(c.length)});let v=a.appendWriter(c);return v+=a.appendWriter(p),v}function $D(a,t){let r=[],n=a.subReader(0);t.forEach(p=>{let y=null;if(p.dynamic){let v=a.readValue(),E=n.subReader(v.toNumber());try{y=p.decode(E)}catch(_){if(_.code===pr.errors.BUFFER_OVERRUN)throw _;y=_,y.baseType=p.name,y.name=p.localName,y.type=p.type}}else try{y=p.decode(a)}catch(v){if(v.code===pr.errors.BUFFER_OVERRUN)throw v;y=v,y.baseType=p.name,y.name=p.localName,y.type=p.type}y!=null&&r.push(y)});const c=t.reduce((p,y)=>{const v=y.localName;return v&&(p[v]||(p[v]=0),p[v]++),p},{});t.forEach((p,y)=>{let v=p.localName;if(!v||c[v]!==1||(v==="length"&&(v="_length"),r[v]!=null))return;const E=r[y];E instanceof Error?Object.defineProperty(r,v,{enumerable:!0,get:()=>{throw E}}):r[v]=E});for(let p=0;p<r.length;p++){const y=r[p];y instanceof Error&&Object.defineProperty(r,p,{enumerable:!0,get:()=>{throw y}})}return Object.freeze(r)}class U$ extends mc{constructor(t,r,n){const c=t.type+"["+(r>=0?r:"")+"]",p=r===-1||t.dynamic;super("array",c,n,p),this.coder=t,this.length=r}defaultValue(){const t=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(t);return r}encode(t,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,t.writeValue(r.length)),Tp.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let c=[];for(let p=0;p<r.length;p++)c.push(this.coder);return KD(t,c,r)}decode(t){let r=this.length;r===-1&&(r=t.readValue().toNumber(),r*32>t._data.length&&Tp.throwError("insufficient data length",pr.errors.BUFFER_OVERRUN,{length:t._data.length,count:r}));let n=[];for(let c=0;c<r;c++)n.push(new H$(this.coder));return t.coerce(this.name,$D(t,n))}}class V$ extends mc{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,r){return t.writeValue(r?1:0)}decode(t){return t.coerce(this.type,!t.readValue().isZero())}}class eB extends mc{constructor(t,r){super(t,t,r,!0)}defaultValue(){return"0x"}encode(t,r){r=Cn(r);let n=t.writeValue(r.length);return n+=t.writeBytes(r),n}decode(t){return t.readBytes(t.readValue().toNumber(),!0)}}class j$ extends eB{constructor(t){super("bytes",t)}decode(t){return t.coerce(this.name,fn(super.decode(t)))}}class G$ extends mc{constructor(t,r){let n="bytes"+String(t);super(n,n,r,!1),this.size=t}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,r){let n=Cn(r);return n.length!==this.size&&this._throwError("incorrect data length",r),t.writeBytes(n)}decode(t){return t.coerce(this.name,fn(t.readBytes(this.size)))}}class z$ extends mc{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,r){return r!=null&&this._throwError("not null",r),t.writeBytes([])}decode(t){return t.readBytes(0),t.coerce(this.name,null)}}const W$="0x0000000000000000000000000000000000000000",Q$=Ei.from(-1),tB=Ei.from(0),J$=Ei.from(1),X$=Ei.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),q$="0x0000000000000000000000000000000000000000000000000000000000000000";class Z$ extends mc{constructor(t,r,n){const c=(r?"int":"uint")+t*8;super(c,c,n,!1),this.size=t,this.signed=r}defaultValue(){return 0}encode(t,r){let n=Ei.from(r),c=X$.mask(t.wordSize*8);if(this.signed){let p=c.mask(this.size*8-1);(n.gt(p)||n.lt(p.add(J$).mul(Q$)))&&this._throwError("value out-of-bounds",r)}else(n.lt(tB)||n.gt(c.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*t.wordSize)),t.writeValue(n)}decode(t){let r=t.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),t.coerce(this.name,r)}}const Y$="strings/5.7.0",rB=new pr(Y$);var Gg;(function(a){a.current="",a.NFC="NFC",a.NFD="NFD",a.NFKC="NFKC",a.NFKD="NFKD"})(Gg||(Gg={}));var vl;(function(a){a.UNEXPECTED_CONTINUE="unexpected continuation byte",a.BAD_PREFIX="bad codepoint prefix",a.OVERRUN="string overrun",a.MISSING_CONTINUE="missing continuation byte",a.OUT_OF_RANGE="out of UTF-8 range",a.UTF16_SURROGATE="UTF-16 surrogate",a.OVERLONG="overlong representation"})(vl||(vl={}));function K$(a,t,r,n,c){return rB.throwArgumentError(`invalid codepoint at offset ${t}; ${a}`,"bytes",r)}function iB(a,t,r,n,c){if(a===vl.BAD_PREFIX||a===vl.UNEXPECTED_CONTINUE){let p=0;for(let y=t+1;y<r.length&&r[y]>>6===2;y++)p++;return p}return a===vl.OVERRUN?r.length-t-1:0}function $$(a,t,r,n,c){return a===vl.OVERLONG?(n.push(c),0):(n.push(65533),iB(a,t,r))}const eee=Object.freeze({error:K$,ignore:iB,replace:$$});function nB(a,t){t==null&&(t=eee.error),a=Cn(a);const r=[];let n=0;for(;n<a.length;){const c=a[n++];if(c>>7===0){r.push(c);continue}let p=null,y=null;if((c&224)===192)p=1,y=127;else if((c&240)===224)p=2,y=2047;else if((c&248)===240)p=3,y=65535;else{(c&192)===128?n+=t(vl.UNEXPECTED_CONTINUE,n-1,a,r):n+=t(vl.BAD_PREFIX,n-1,a,r);continue}if(n-1+p>=a.length){n+=t(vl.OVERRUN,n-1,a,r);continue}let v=c&(1<<8-p-1)-1;for(let E=0;E<p;E++){let _=a[n];if((_&192)!=128){n+=t(vl.MISSING_CONTINUE,n,a,r),v=null;break}v=v<<6|_&63,n++}if(v!==null){if(v>1114111){n+=t(vl.OUT_OF_RANGE,n-1-p,a,r,v);continue}if(v>=55296&&v<=57343){n+=t(vl.UTF16_SURROGATE,n-1-p,a,r,v);continue}if(v<=y){n+=t(vl.OVERLONG,n-1-p,a,r,v);continue}r.push(v)}}return r}function uc(a,t=Gg.current){t!=Gg.current&&(rB.checkNormalize(),a=a.normalize(t));let r=[];for(let n=0;n<a.length;n++){const c=a.charCodeAt(n);if(c<128)r.push(c);else if(c<2048)r.push(c>>6|192),r.push(c&63|128);else if((c&64512)==55296){n++;const p=a.charCodeAt(n);if(n>=a.length||(p&64512)!==56320)throw new Error("invalid utf-8 string");const y=65536+((c&1023)<<10)+(p&1023);r.push(y>>18|240),r.push(y>>12&63|128),r.push(y>>6&63|128),r.push(y&63|128)}else r.push(c>>12|224),r.push(c>>6&63|128),r.push(c&63|128)}return Cn(r)}function tee(a){return a.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function cb(a,t){return tee(nB(a,t))}function ree(a,t=Gg.current){return nB(uc(a,t))}class iee extends eB{constructor(t){super("string",t)}defaultValue(){return""}encode(t,r){return super.encode(t,uc(r))}decode(t){return cb(super.decode(t))}}class dv extends mc{constructor(t,r){let n=!1;const c=[];t.forEach(y=>{y.dynamic&&(n=!0),c.push(y.type)});const p="tuple("+c.join(",")+")";super("tuple",p,r,n),this.coders=t}defaultValue(){const t=[];this.coders.forEach(n=>{t.push(n.defaultValue())});const r=this.coders.reduce((n,c)=>{const p=c.localName;return p&&(n[p]||(n[p]=0),n[p]++),n},{});return this.coders.forEach((n,c)=>{let p=n.localName;!p||r[p]!==1||(p==="length"&&(p="_length"),t[p]==null&&(t[p]=t[c]))}),Object.freeze(t)}encode(t,r){return KD(t,this.coders,r)}decode(t){return t.coerce(this.name,$D(t,this.coders))}}const pv=new pr(ub),nee=new RegExp(/^bytes([0-9]*)$/),see=new RegExp(/^(u?int)([0-9]*)$/);class oee{constructor(t){li(this,"coerceFunc",t||null)}_getCoder(t){switch(t.baseType){case"address":return new O$(t.name);case"bool":return new V$(t.name);case"string":return new iee(t.name);case"bytes":return new j$(t.name);case"array":return new U$(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new dv((t.components||[]).map(n=>this._getCoder(n)),t.name);case"":return new z$(t.name)}let r=t.type.match(see);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&pv.throwArgumentError("invalid "+r[1]+" bit length","param",t),new Z$(n/8,r[1]==="int",t.name)}if(r=t.type.match(nee),r){let n=parseInt(r[1]);return(n===0||n>32)&&pv.throwArgumentError("invalid bytes length","param",t),new G$(n,t.name)}return pv.throwArgumentError("invalid type","type",t.type)}_getWordSize(){return 32}_getReader(t,r){return new mw(t,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new TE(this._getWordSize())}getDefaultValue(t){const r=t.map(c=>this._getCoder(Jo.from(c)));return new dv(r,"_").defaultValue()}encode(t,r){t.length!==r.length&&pv.throwError("types/values length mismatch",pr.errors.INVALID_ARGUMENT,{count:{types:t.length,values:r.length},value:{types:t,values:r}});const n=t.map(y=>this._getCoder(Jo.from(y))),c=new dv(n,"_"),p=this._getWriter();return c.encode(p,r),p.data}decode(t,r,n){const c=t.map(y=>this._getCoder(Jo.from(y)));return new dv(c,"_").decode(this._getReader(Cn(r),n))}}const aee=new oee;function Mp(a){return Io(uc(a))}const sB="hash/5.7.0";function oB(a){a=atob(a);const t=[];for(let r=0;r<a.length;r++)t.push(a.charCodeAt(r));return Cn(t)}function aB(a){a=Cn(a);let t="";for(let r=0;r<a.length;r++)t+=String.fromCharCode(a[r]);return btoa(t)}function lB(a,t){t==null&&(t=1);const r=[],n=r.forEach,c=function(p,y){n.call(p,function(v){y>0&&Array.isArray(v)?c(v,y-1):r.push(v)})};return c(a,t),r}function lee(a){const t={};for(let r=0;r<a.length;r++){const n=a[r];t[n[0]]=n[1]}return t}function fee(a){let t=0;function r(){return a[t++]<<8|a[t++]}let n=r(),c=1,p=[0,1];for(let we=1;we<n;we++)p.push(c+=r());let y=r(),v=t;t+=y;let E=0,_=0;function k(){return E==0&&(_=_<<8|a[t++],E=8),_>>--E&1}const R=31,B=Math.pow(2,R),M=B>>>1,F=M>>1,H=B-1;let U=0;for(let we=0;we<R;we++)U=U<<1|k();let Z=[],K=0,fe=B;for(;;){let we=Math.floor(((U-K+1)*c-1)/fe),be=0,ve=n;for(;ve-be>1;){let ye=be+ve>>>1;we<p[ye]?ve=ye:be=ye}if(be==0)break;Z.push(be);let ne=K+Math.floor(fe*p[be]/c),ae=K+Math.floor(fe*p[be+1]/c)-1;for(;((ne^ae)&M)==0;)U=U<<1&H|k(),ne=ne<<1&H,ae=ae<<1&H|1;for(;ne&~ae&F;)U=U&M|U<<1&H>>>1|k(),ne=ne<<1^M,ae=(ae^M)<<1|M|1;K=ne,fe=1+ae-ne}let oe=n-4;return Z.map(we=>{switch(we-oe){case 3:return oe+65792+(a[v++]<<16|a[v++]<<8|a[v++]);case 2:return oe+256+(a[v++]<<8|a[v++]);case 1:return oe+a[v++];default:return we-1}})}function uee(a){let t=0;return()=>a[t++]}function cee(a){return uee(fee(a))}function hee(a){return a&1?~a>>1:a>>1}function dee(a,t){let r=Array(a);for(let n=0;n<a;n++)r[n]=1+t();return r}function v9(a,t){let r=Array(a);for(let n=0,c=-1;n<a;n++)r[n]=c+=1+t();return r}function pee(a,t){let r=Array(a);for(let n=0,c=0;n<a;n++)r[n]=c+=hee(t());return r}function gw(a,t){let r=v9(a(),a),n=a(),c=v9(n,a),p=dee(n,a);for(let y=0;y<n;y++)for(let v=0;v<p[y];v++)r.push(c[y]+v);return t?r.map(y=>t[y]):r}function mee(a){let t=[];for(;;){let r=a();if(r==0)break;t.push(bee(r,a))}for(;;){let r=a()-1;if(r<0)break;t.push(yee(r,a))}return lee(lB(t))}function gee(a){let t=[];for(;;){let r=a();if(r==0)break;t.push(r)}return t}function fB(a,t,r){let n=Array(a).fill(void 0).map(()=>[]);for(let c=0;c<t;c++)pee(a,r).forEach((p,y)=>n[y].push(p));return n}function bee(a,t){let r=1+t(),n=t(),c=gee(t),p=fB(c.length,1+a,t);return lB(p.map((y,v)=>{const E=y[0],_=y.slice(1);return Array(c[v]).fill(void 0).map((k,R)=>{let B=R*n;return[E+R*r,_.map(M=>M+B)]})}))}function yee(a,t){let r=1+t();return fB(r,1+a,t).map(c=>[c[0],c.slice(1)])}function vee(a){let t=gw(a).sort((n,c)=>n-c);return r();function r(){let n=[];for(;;){let _=gw(a,t);if(_.length==0)break;n.push({set:new Set(_),node:r()})}n.sort((_,k)=>k.set.size-_.set.size);let c=a(),p=c%3;c=c/3|0;let y=!!(c&1);c>>=1;let v=c==1,E=c==2;return{branches:n,valid:p,fe0f:y,save:v,check:E}}}function wee(){return cee(oB("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const fA=wee(),Aee=new Set(gw(fA)),xee=new Set(gw(fA)),Eee=mee(fA),_ee=vee(fA),w9=45,A9=95;function uB(a){return ree(a)}function kee(a){return a.filter(t=>t!=65039)}function cB(a){for(let t of a.split(".")){let r=uB(t);try{for(let n=r.lastIndexOf(A9)-1;n>=0;n--)if(r[n]!==A9)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===w9&&r[3]===w9)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${t}": ${n.message}`)}}return a}function Cee(a){return cB(See(a,kee))}function See(a,t){let r=uB(a).reverse(),n=[];for(;r.length;){let c=Mee(r);if(c){n.push(...t(c));continue}let p=r.pop();if(Aee.has(p)){n.push(p);continue}if(xee.has(p))continue;let y=Eee[p];if(y){n.push(...y);continue}throw new Error(`Disallowed codepoint: 0x${p.toString(16).toUpperCase()}`)}return cB(Tee(String.fromCodePoint(...n)))}function Tee(a){return a.normalize("NFC")}function Mee(a,t){var r;let n=_ee,c,p,y=[],v=a.length;for(t&&(t.length=0);v;){let E=a[--v];if(n=(r=n.branches.find(_=>_.set.has(E)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)p=E;else if(n.check&&E===p)break;y.push(E),n.fe0f&&(y.push(65039),v>0&&a[v-1]==65039&&v--),n.valid&&(c=y.slice(),n.valid==2&&c.splice(1,1),t&&t.push(...a.slice(v).reverse()),a.length=v)}return c}const Ree=new pr(sB),hB=new Uint8Array(32);hB.fill(0);function x9(a){if(a.length===0)throw new Error("invalid ENS name; empty component");return a}function dB(a){const t=uc(Cee(a)),r=[];if(a.length===0)return r;let n=0;for(let c=0;c<t.length;c++)t[c]===46&&(r.push(x9(t.slice(n,c))),n=c+1);if(n>=t.length)throw new Error("invalid ENS name; empty component");return r.push(x9(t.slice(n))),r}function Wv(a){typeof a!="string"&&Ree.throwArgumentError("invalid ENS name; not a string","name",a);let t=hB;const r=dB(a);for(;r.length;)t=Io(_l([t,Io(r.pop())]));return fn(t)}function Dee(a){return fn(_l(dB(a).map(t=>{if(t.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(t.length+1);return r.set(t,1),r[0]=r.length-1,r})))+"00"}var Bee=globalThis&&globalThis.__awaiter||function(a,t,r,n){function c(p){return p instanceof r?p:new r(function(y){y(p)})}return new(r||(r=Promise))(function(p,y){function v(k){try{_(n.next(k))}catch(R){y(R)}}function E(k){try{_(n.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):c(k.value).then(v,E)}_((n=n.apply(a,t||[])).next())})};const Os=new pr(sB),pB=new Uint8Array(32);pB.fill(0);const Iee=Ei.from(-1),mB=Ei.from(0),gB=Ei.from(1),Lee=Ei.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Pee(a){const t=Cn(a),r=t.length%32;return r?Qa([t,pB.slice(r)]):fn(t)}const Nee=Bs(gB.toHexString(),32),Fee=Bs(mB.toHexString(),32),E9={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},f5=["name","version","chainId","verifyingContract","salt"];function _9(a){return function(t){return typeof t!="string"&&Os.throwArgumentError(`invalid domain value for ${JSON.stringify(a)}`,`domain.${a}`,t),t}}const Oee={name:_9("name"),version:_9("version"),chainId:function(a){try{return Ei.from(a).toString()}catch{}return Os.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",a)},verifyingContract:function(a){try{return ia(a).toLowerCase()}catch{}return Os.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",a)},salt:function(a){try{const t=Cn(a);if(t.length!==32)throw new Error("bad length");return fn(t)}catch{}return Os.throwArgumentError('invalid domain value "salt"',"domain.salt",a)}};function u5(a){{const t=a.match(/^(u?)int(\d*)$/);if(t){const r=t[1]==="",n=parseInt(t[2]||"256");(n%8!==0||n>256||t[2]&&t[2]!==String(n))&&Os.throwArgumentError("invalid numeric width","type",a);const c=Lee.mask(r?n-1:n),p=r?c.add(gB).mul(Iee):mB;return function(y){const v=Ei.from(y);return(v.lt(p)||v.gt(c))&&Os.throwArgumentError(`value out-of-bounds for ${a}`,"value",y),Bs(v.toTwos(256).toHexString(),32)}}}{const t=a.match(/^bytes(\d+)$/);if(t){const r=parseInt(t[1]);return(r===0||r>32||t[1]!==String(r))&&Os.throwArgumentError("invalid bytes width","type",a),function(n){return Cn(n).length!==r&&Os.throwArgumentError(`invalid length for ${a}`,"value",n),Pee(n)}}}switch(a){case"address":return function(t){return Bs(ia(t),32)};case"bool":return function(t){return t?Nee:Fee};case"bytes":return function(t){return Io(t)};case"string":return function(t){return Mp(t)}}return null}function k9(a,t){return`${a}(${t.map(({name:r,type:n})=>n+" "+r).join(",")})`}class yl{constructor(t){li(this,"types",Object.freeze(Xa(t))),li(this,"_encoderCache",{}),li(this,"_types",{});const r={},n={},c={};Object.keys(t).forEach(v=>{r[v]={},n[v]=[],c[v]={}});for(const v in t){const E={};t[v].forEach(_=>{E[_.name]&&Os.throwArgumentError(`duplicate variable name ${JSON.stringify(_.name)} in ${JSON.stringify(v)}`,"types",t),E[_.name]=!0;const k=_.type.match(/^([^\x5b]*)(\x5b|$)/)[1];k===v&&Os.throwArgumentError(`circular type reference to ${JSON.stringify(k)}`,"types",t),!u5(k)&&(n[k]||Os.throwArgumentError(`unknown type ${JSON.stringify(k)}`,"types",t),n[k].push(v),r[v][k]=!0)})}const p=Object.keys(n).filter(v=>n[v].length===0);p.length===0?Os.throwArgumentError("missing primary type","types",t):p.length>1&&Os.throwArgumentError(`ambiguous primary types or unused types: ${p.map(v=>JSON.stringify(v)).join(", ")}`,"types",t),li(this,"primaryType",p[0]);function y(v,E){E[v]&&Os.throwArgumentError(`circular type reference to ${JSON.stringify(v)}`,"types",t),E[v]=!0,Object.keys(r[v]).forEach(_=>{!n[_]||(y(_,E),Object.keys(E).forEach(k=>{c[k][_]=!0}))}),delete E[v]}y(this.primaryType,{});for(const v in c){const E=Object.keys(c[v]);E.sort(),this._types[v]=k9(v,t[v])+E.map(_=>k9(_,t[_])).join("")}}getEncoder(t){let r=this._encoderCache[t];return r||(r=this._encoderCache[t]=this._getEncoder(t)),r}_getEncoder(t){{const c=u5(t);if(c)return c}const r=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const c=r[1],p=this.getEncoder(c),y=parseInt(r[3]);return v=>{y>=0&&v.length!==y&&Os.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",v);let E=v.map(p);return this._types[c]&&(E=E.map(Io)),Io(Qa(E))}}const n=this.types[t];if(n){const c=Mp(this._types[t]);return p=>{const y=n.map(({name:v,type:E})=>{const _=this.getEncoder(E)(p[v]);return this._types[E]?Io(_):_});return y.unshift(c),Qa(y)}}return Os.throwArgumentError(`unknown type: ${t}`,"type",t)}encodeType(t){const r=this._types[t];return r||Os.throwArgumentError(`unknown type: ${JSON.stringify(t)}`,"name",t),r}encodeData(t,r){return this.getEncoder(t)(r)}hashStruct(t,r){return Io(this.encodeData(t,r))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,r,n){if(u5(t))return n(t,r);const c=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(c){const y=c[1],v=parseInt(c[3]);return v>=0&&r.length!==v&&Os.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(E=>this._visit(y,E,n))}const p=this.types[t];return p?p.reduce((y,{name:v,type:E})=>(y[v]=this._visit(E,r[v],n),y),{}):Os.throwArgumentError(`unknown type: ${t}`,"type",t)}visit(t,r){return this._visit(this.primaryType,t,r)}static from(t){return new yl(t)}static getPrimaryType(t){return yl.from(t).primaryType}static hashStruct(t,r,n){return yl.from(r).hashStruct(t,n)}static hashDomain(t){const r=[];for(const n in t){const c=E9[n];c||Os.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",t),r.push({name:n,type:c})}return r.sort((n,c)=>f5.indexOf(n.name)-f5.indexOf(c.name)),yl.hashStruct("EIP712Domain",{EIP712Domain:r},t)}static encode(t,r,n){return Qa(["0x1901",yl.hashDomain(t),yl.from(r).hash(n)])}static hash(t,r,n){return Io(yl.encode(t,r,n))}static resolveNames(t,r,n,c){return Bee(this,void 0,void 0,function*(){t=Rs(t);const p={};t.verifyingContract&&!i0(t.verifyingContract,20)&&(p[t.verifyingContract]="0x");const y=yl.from(r);y.visit(n,(v,E)=>(v==="address"&&!i0(E,20)&&(p[E]="0x"),E));for(const v in p)p[v]=yield c(v);return t.verifyingContract&&p[t.verifyingContract]&&(t.verifyingContract=p[t.verifyingContract]),n=y.visit(n,(v,E)=>v==="address"&&p[E]?p[E]:E),{domain:t,value:n}})}static getPayload(t,r,n){yl.hashDomain(t);const c={},p=[];f5.forEach(E=>{const _=t[E];_!=null&&(c[E]=Oee[E](_),p.push({name:E,type:E9[E]}))});const y=yl.from(r),v=Rs(r);return v.EIP712Domain?Os.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):v.EIP712Domain=p,y.encode(n),{types:v,domain:c,primaryType:y.primaryType,message:y.visit(n,(E,_)=>{if(E.match(/^bytes(\d*)/))return fn(Cn(_));if(E.match(/^u?int/))return Ei.from(_).toString();switch(E){case"address":return _.toLowerCase();case"bool":return!!_;case"string":return typeof _!="string"&&Os.throwArgumentError("invalid string","value",_),_}return Os.throwArgumentError("unsupported type","type",E)})}}}const Ns=new pr(ub);class Hee extends fb{}class Uee extends fb{}class Vee extends fb{}class ME extends fb{static isIndexed(t){return!!(t&&t._isIndexed)}}const jee={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function C9(a,t){const r=new Error(`deferred error during ABI decoding triggered accessing ${a}`);return r.error=t,r}class S9{constructor(t){let r=[];typeof t=="string"?r=JSON.parse(t):r=t,li(this,"fragments",r.map(n=>nc.from(n)).filter(n=>n!=null)),li(this,"_abiCoder",kl(new.target,"getAbiCoder")()),li(this,"functions",{}),li(this,"errors",{}),li(this,"events",{}),li(this,"structs",{}),this.fragments.forEach(n=>{let c=null;switch(n.type){case"constructor":if(this.deploy){Ns.warn("duplicate definition - constructor");return}li(this,"deploy",n);return;case"function":c=this.functions;break;case"event":c=this.events;break;case"error":c=this.errors;break;default:return}let p=n.format();if(c[p]){Ns.warn("duplicate definition - "+p);return}c[p]=n}),this.deploy||li(this,"deploy",pu.from({payable:!1,type:"constructor"})),li(this,"_isInterface",!0)}format(t){t||(t=U0.full),t===U0.sighash&&Ns.throwArgumentError("interface does not support formatting sighash","format",t);const r=this.fragments.map(n=>n.format(t));return t===U0.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return aee}static getAddress(t){return ia(t)}static getSighash(t){return da(Mp(t.format()),0,4)}static getEventTopic(t){return Mp(t.format())}getFunction(t){if(i0(t)){for(const n in this.functions)if(t===this.getSighash(n))return this.functions[n];Ns.throwArgumentError("no matching function","sighash",t)}if(t.indexOf("(")===-1){const n=t.trim(),c=Object.keys(this.functions).filter(p=>p.split("(")[0]===n);return c.length===0?Ns.throwArgumentError("no matching function","name",n):c.length>1&&Ns.throwArgumentError("multiple matching functions","name",n),this.functions[c[0]]}const r=this.functions[mu.fromString(t).format()];return r||Ns.throwArgumentError("no matching function","signature",t),r}getEvent(t){if(i0(t)){const n=t.toLowerCase();for(const c in this.events)if(n===this.getEventTopic(c))return this.events[c];Ns.throwArgumentError("no matching event","topichash",n)}if(t.indexOf("(")===-1){const n=t.trim(),c=Object.keys(this.events).filter(p=>p.split("(")[0]===n);return c.length===0?Ns.throwArgumentError("no matching event","name",n):c.length>1&&Ns.throwArgumentError("multiple matching events","name",n),this.events[c[0]]}const r=this.events[rc.fromString(t).format()];return r||Ns.throwArgumentError("no matching event","signature",t),r}getError(t){if(i0(t)){const n=kl(this.constructor,"getSighash");for(const c in this.errors){const p=this.errors[c];if(t===n(p))return this.errors[c]}Ns.throwArgumentError("no matching error","sighash",t)}if(t.indexOf("(")===-1){const n=t.trim(),c=Object.keys(this.errors).filter(p=>p.split("(")[0]===n);return c.length===0?Ns.throwArgumentError("no matching error","name",n):c.length>1&&Ns.throwArgumentError("multiple matching errors","name",n),this.errors[c[0]]}const r=this.errors[mu.fromString(t).format()];return r||Ns.throwArgumentError("no matching error","signature",t),r}getSighash(t){if(typeof t=="string")try{t=this.getFunction(t)}catch(r){try{t=this.getError(t)}catch{throw r}}return kl(this.constructor,"getSighash")(t)}getEventTopic(t){return typeof t=="string"&&(t=this.getEvent(t)),kl(this.constructor,"getEventTopic")(t)}_decodeParams(t,r){return this._abiCoder.decode(t,r)}_encodeParams(t,r){return this._abiCoder.encode(t,r)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,r){typeof t=="string"&&(t=this.getError(t));const n=Cn(r);return fn(n.slice(0,4))!==this.getSighash(t)&&Ns.throwArgumentError(`data signature does not match error ${t.name}.`,"data",fn(n)),this._decodeParams(t.inputs,n.slice(4))}encodeErrorResult(t,r){return typeof t=="string"&&(t=this.getError(t)),fn(_l([this.getSighash(t),this._encodeParams(t.inputs,r||[])]))}decodeFunctionData(t,r){typeof t=="string"&&(t=this.getFunction(t));const n=Cn(r);return fn(n.slice(0,4))!==this.getSighash(t)&&Ns.throwArgumentError(`data signature does not match function ${t.name}.`,"data",fn(n)),this._decodeParams(t.inputs,n.slice(4))}encodeFunctionData(t,r){return typeof t=="string"&&(t=this.getFunction(t)),fn(_l([this.getSighash(t),this._encodeParams(t.inputs,r||[])]))}decodeFunctionResult(t,r){typeof t=="string"&&(t=this.getFunction(t));let n=Cn(r),c=null,p="",y=null,v=null,E=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(t.outputs,n)}catch{}break;case 4:{const _=fn(n.slice(0,4)),k=jee[_];if(k)y=this._abiCoder.decode(k.inputs,n.slice(4)),v=k.name,E=k.signature,k.reason&&(c=y[0]),v==="Error"?p=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(y[0])}`:v==="Panic"&&(p=`; VM Exception while processing transaction: reverted with panic code ${y[0]}`);else try{const R=this.getError(_);y=this._abiCoder.decode(R.inputs,n.slice(4)),v=R.name,E=R.format()}catch{}break}}return Ns.throwError("call revert exception"+p,pr.errors.CALL_EXCEPTION,{method:t.format(),data:fn(r),errorArgs:y,errorName:v,errorSignature:E,reason:c})}encodeFunctionResult(t,r){return typeof t=="string"&&(t=this.getFunction(t)),fn(this._abiCoder.encode(t.outputs,r||[]))}encodeFilterTopics(t,r){typeof t=="string"&&(t=this.getEvent(t)),r.length>t.inputs.length&&Ns.throwError("too many arguments for "+t.format(),pr.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];t.anonymous||n.push(this.getEventTopic(t));const c=(p,y)=>p.type==="string"?Mp(y):p.type==="bytes"?Io(fn(y)):(p.type==="bool"&&typeof y=="boolean"&&(y=y?"0x01":"0x00"),p.type.match(/^u?int/)&&(y=Ei.from(y).toHexString()),p.type==="address"&&this._abiCoder.encode(["address"],[y]),Bs(fn(y),32));for(r.forEach((p,y)=>{let v=t.inputs[y];if(!v.indexed){p!=null&&Ns.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+v.name,p);return}p==null?n.push(null):v.baseType==="array"||v.baseType==="tuple"?Ns.throwArgumentError("filtering with tuples or arrays not supported","contract."+v.name,p):Array.isArray(p)?n.push(p.map(E=>c(v,E))):n.push(c(v,p))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(t,r){typeof t=="string"&&(t=this.getEvent(t));const n=[],c=[],p=[];return t.anonymous||n.push(this.getEventTopic(t)),r.length!==t.inputs.length&&Ns.throwArgumentError("event arguments/values mismatch","values",r),t.inputs.forEach((y,v)=>{const E=r[v];if(y.indexed)if(y.type==="string")n.push(Mp(E));else if(y.type==="bytes")n.push(Io(E));else{if(y.baseType==="tuple"||y.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([y.type],[E]))}else c.push(y),p.push(E)}),{data:this._abiCoder.encode(c,p),topics:n}}decodeEventLog(t,r,n){if(typeof t=="string"&&(t=this.getEvent(t)),n!=null&&!t.anonymous){let B=this.getEventTopic(t);(!i0(n[0],32)||n[0].toLowerCase()!==B)&&Ns.throwError("fragment/topic mismatch",pr.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:B,value:n[0]}),n=n.slice(1)}let c=[],p=[],y=[];t.inputs.forEach((B,M)=>{B.indexed?B.type==="string"||B.type==="bytes"||B.baseType==="tuple"||B.baseType==="array"?(c.push(Jo.fromObject({type:"bytes32",name:B.name})),y.push(!0)):(c.push(B),y.push(!1)):(p.push(B),y.push(!1))});let v=n!=null?this._abiCoder.decode(c,_l(n)):null,E=this._abiCoder.decode(p,r,!0),_=[],k=0,R=0;t.inputs.forEach((B,M)=>{if(B.indexed)if(v==null)_[M]=new ME({_isIndexed:!0,hash:null});else if(y[M])_[M]=new ME({_isIndexed:!0,hash:v[R++]});else try{_[M]=v[R++]}catch(F){_[M]=F}else try{_[M]=E[k++]}catch(F){_[M]=F}if(B.name&&_[B.name]==null){const F=_[M];F instanceof Error?Object.defineProperty(_,B.name,{enumerable:!0,get:()=>{throw C9(`property ${JSON.stringify(B.name)}`,F)}}):_[B.name]=F}});for(let B=0;B<_.length;B++){const M=_[B];M instanceof Error&&Object.defineProperty(_,B,{enumerable:!0,get:()=>{throw C9(`index ${B}`,M)}})}return Object.freeze(_)}parseTransaction(t){let r=this.getFunction(t.data.substring(0,10).toLowerCase());return r?new Uee({args:this._abiCoder.decode(r.inputs,"0x"+t.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:Ei.from(t.value||"0")}):null}parseLog(t){let r=this.getEvent(t.topics[0]);return!r||r.anonymous?null:new Hee({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,t.data,t.topics)})}parseError(t){const r=fn(t);let n=this.getError(r.substring(0,10).toLowerCase());return n?new Vee({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(t){return!!(t&&t._isInterface)}}const Gee="abstract-provider/5.7.0";var zee=globalThis&&globalThis.__awaiter||function(a,t,r,n){function c(p){return p instanceof r?p:new r(function(y){y(p)})}return new(r||(r=Promise))(function(p,y){function v(k){try{_(n.next(k))}catch(R){y(R)}}function E(k){try{_(n.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):c(k.value).then(v,E)}_((n=n.apply(a,t||[])).next())})};const Wee=new pr(Gee);class Qee extends fb{static isForkEvent(t){return!!(t&&t._isForkEvent)}}class C1{constructor(){Wee.checkAbstract(new.target,C1),li(this,"_isProvider",!0)}getFeeData(){return zee(this,void 0,void 0,function*(){const{block:t,gasPrice:r}=yield xo({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(y=>null)});let n=null,c=null,p=null;return t&&t.baseFeePerGas&&(n=t.baseFeePerGas,p=Ei.from("1500000000"),c=t.baseFeePerGas.mul(2).add(p)),{lastBaseFeePerGas:n,maxFeePerGas:c,maxPriorityFeePerGas:p,gasPrice:r}})}addListener(t,r){return this.on(t,r)}removeListener(t,r){return this.off(t,r)}static isProvider(t){return!!(t&&t._isProvider)}}const Jee="abstract-signer/5.7.0";var yf=globalThis&&globalThis.__awaiter||function(a,t,r,n){function c(p){return p instanceof r?p:new r(function(y){y(p)})}return new(r||(r=Promise))(function(p,y){function v(k){try{_(n.next(k))}catch(R){y(R)}}function E(k){try{_(n.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):c(k.value).then(v,E)}_((n=n.apply(a,t||[])).next())})};const zl=new pr(Jee),Xee=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],qee=[pr.errors.INSUFFICIENT_FUNDS,pr.errors.NONCE_EXPIRED,pr.errors.REPLACEMENT_UNDERPRICED];class hb{constructor(){zl.checkAbstract(new.target,hb),li(this,"_isSigner",!0)}getBalance(t){return yf(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)})}getTransactionCount(t){return yf(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)})}estimateGas(t){return yf(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield xo(this.checkTransaction(t));return yield this.provider.estimateGas(r)})}call(t,r){return yf(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield xo(this.checkTransaction(t));return yield this.provider.call(n,r)})}sendTransaction(t){return yf(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(t),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return yf(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return yf(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return yf(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(t){return yf(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)})}checkTransaction(t){for(const n in t)Xee.indexOf(n)===-1&&zl.throwArgumentError("invalid transaction key: "+n,"transaction",t);const r=Rs(t);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&zl.throwArgumentError("from address mismatch","transaction",t),n[0])),r}populateTransaction(t){return yf(this,void 0,void 0,function*(){const r=yield xo(this.checkTransaction(t));r.to!=null&&(r.to=Promise.resolve(r.to).then(c=>yf(this,void 0,void 0,function*(){if(c==null)return null;const p=yield this.resolveName(c);return p==null&&zl.throwArgumentError("provided ENS name resolves to null","tx.to",c),p})),r.to.catch(c=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?zl.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t):(r.type===0||r.type===1)&&n&&zl.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const c=yield this.getFeeData();if(r.type==null)if(c.maxFeePerGas!=null&&c.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const p=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=p,r.maxPriorityFeePerGas=p}else r.maxFeePerGas==null&&(r.maxFeePerGas=c.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=c.maxPriorityFeePerGas);else c.gasPrice!=null?(n&&zl.throwError("network does not support EIP-1559",pr.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=c.gasPrice),r.type=0):zl.throwError("failed to get consistent fee data",pr.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=c.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=c.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(c=>{if(qee.indexOf(c.code)>=0)throw c;return zl.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",pr.errors.UNPREDICTABLE_GAS_LIMIT,{error:c,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(c=>(c[1]!==0&&c[0]!==c[1]&&zl.throwArgumentError("chainId address mismatch","transaction",t),c[0])),yield xo(r)})}_checkProvider(t){this.provider||zl.throwError("missing provider",pr.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!!(t&&t._isSigner)}}class o_ extends hb{constructor(t,r){super(),li(this,"address",t),li(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(t,r){return Promise.resolve().then(()=>{zl.throwError(t,pr.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(t){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(t){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(t,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(t){return new o_(this.address,t)}}var bB={},y0={},db=yB;function yB(a,t){if(!a)throw new Error(t||"Assertion failed")}yB.equal=function(t,r,n){if(t!=r)throw new Error(n||"Assertion failed: "+t+" != "+r)};var RE={exports:{}};typeof Object.create=="function"?RE.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:RE.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var Zee=db,Yee=RE.exports;y0.inherits=Yee;function Kee(a,t){return(a.charCodeAt(t)&64512)!==55296||t<0||t+1>=a.length?!1:(a.charCodeAt(t+1)&64512)===56320}function $ee(a,t){if(Array.isArray(a))return a.slice();if(!a)return[];var r=[];if(typeof a=="string")if(t){if(t==="hex")for(a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a),c=0;c<a.length;c+=2)r.push(parseInt(a[c]+a[c+1],16))}else for(var n=0,c=0;c<a.length;c++){var p=a.charCodeAt(c);p<128?r[n++]=p:p<2048?(r[n++]=p>>6|192,r[n++]=p&63|128):Kee(a,c)?(p=65536+((p&1023)<<10)+(a.charCodeAt(++c)&1023),r[n++]=p>>18|240,r[n++]=p>>12&63|128,r[n++]=p>>6&63|128,r[n++]=p&63|128):(r[n++]=p>>12|224,r[n++]=p>>6&63|128,r[n++]=p&63|128)}else for(c=0;c<a.length;c++)r[c]=a[c]|0;return r}y0.toArray=$ee;function ete(a){for(var t="",r=0;r<a.length;r++)t+=wB(a[r].toString(16));return t}y0.toHex=ete;function vB(a){var t=a>>>24|a>>>8&65280|a<<8&16711680|(a&255)<<24;return t>>>0}y0.htonl=vB;function tte(a,t){for(var r="",n=0;n<a.length;n++){var c=a[n];t==="little"&&(c=vB(c)),r+=AB(c.toString(16))}return r}y0.toHex32=tte;function wB(a){return a.length===1?"0"+a:a}y0.zero2=wB;function AB(a){return a.length===7?"0"+a:a.length===6?"00"+a:a.length===5?"000"+a:a.length===4?"0000"+a:a.length===3?"00000"+a:a.length===2?"000000"+a:a.length===1?"0000000"+a:a}y0.zero8=AB;function rte(a,t,r,n){var c=r-t;Zee(c%4===0);for(var p=new Array(c/4),y=0,v=t;y<p.length;y++,v+=4){var E;n==="big"?E=a[v]<<24|a[v+1]<<16|a[v+2]<<8|a[v+3]:E=a[v+3]<<24|a[v+2]<<16|a[v+1]<<8|a[v],p[y]=E>>>0}return p}y0.join32=rte;function ite(a,t){for(var r=new Array(a.length*4),n=0,c=0;n<a.length;n++,c+=4){var p=a[n];t==="big"?(r[c]=p>>>24,r[c+1]=p>>>16&255,r[c+2]=p>>>8&255,r[c+3]=p&255):(r[c+3]=p>>>24,r[c+2]=p>>>16&255,r[c+1]=p>>>8&255,r[c]=p&255)}return r}y0.split32=ite;function nte(a,t){return a>>>t|a<<32-t}y0.rotr32=nte;function ste(a,t){return a<<t|a>>>32-t}y0.rotl32=ste;function ote(a,t){return a+t>>>0}y0.sum32=ote;function ate(a,t,r){return a+t+r>>>0}y0.sum32_3=ate;function lte(a,t,r,n){return a+t+r+n>>>0}y0.sum32_4=lte;function fte(a,t,r,n,c){return a+t+r+n+c>>>0}y0.sum32_5=fte;function ute(a,t,r,n){var c=a[t],p=a[t+1],y=n+p>>>0,v=(y<n?1:0)+r+c;a[t]=v>>>0,a[t+1]=y}y0.sum64=ute;function cte(a,t,r,n){var c=t+n>>>0,p=(c<t?1:0)+a+r;return p>>>0}y0.sum64_hi=cte;function hte(a,t,r,n){var c=t+n;return c>>>0}y0.sum64_lo=hte;function dte(a,t,r,n,c,p,y,v){var E=0,_=t;_=_+n>>>0,E+=_<t?1:0,_=_+p>>>0,E+=_<p?1:0,_=_+v>>>0,E+=_<v?1:0;var k=a+r+c+y+E;return k>>>0}y0.sum64_4_hi=dte;function pte(a,t,r,n,c,p,y,v){var E=t+n+p+v;return E>>>0}y0.sum64_4_lo=pte;function mte(a,t,r,n,c,p,y,v,E,_){var k=0,R=t;R=R+n>>>0,k+=R<t?1:0,R=R+p>>>0,k+=R<p?1:0,R=R+v>>>0,k+=R<v?1:0,R=R+_>>>0,k+=R<_?1:0;var B=a+r+c+y+E+k;return B>>>0}y0.sum64_5_hi=mte;function gte(a,t,r,n,c,p,y,v,E,_){var k=t+n+p+v+_;return k>>>0}y0.sum64_5_lo=gte;function bte(a,t,r){var n=t<<32-r|a>>>r;return n>>>0}y0.rotr64_hi=bte;function yte(a,t,r){var n=a<<32-r|t>>>r;return n>>>0}y0.rotr64_lo=yte;function vte(a,t,r){return a>>>r}y0.shr64_hi=vte;function wte(a,t,r){var n=a<<32-r|t>>>r;return n>>>0}y0.shr64_lo=wte;var S1={},T9=y0,Ate=db;function uA(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}S1.BlockHash=uA;uA.prototype.update=function(t,r){if(t=T9.toArray(t,r),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var n=t.length%this._delta8;this.pending=t.slice(t.length-n,t.length),this.pending.length===0&&(this.pending=null),t=T9.join32(t,0,t.length-n,this.endian);for(var c=0;c<t.length;c+=this._delta32)this._update(t,c,c+this._delta32)}return this};uA.prototype.digest=function(t){return this.update(this._pad()),Ate(this.pending===null),this._digest(t)};uA.prototype._pad=function(){var t=this.pendingTotal,r=this._delta8,n=r-(t+this.padLength)%r,c=new Array(n+this.padLength);c[0]=128;for(var p=1;p<n;p++)c[p]=0;if(t<<=3,this.endian==="big"){for(var y=8;y<this.padLength;y++)c[p++]=0;c[p++]=0,c[p++]=0,c[p++]=0,c[p++]=0,c[p++]=t>>>24&255,c[p++]=t>>>16&255,c[p++]=t>>>8&255,c[p++]=t&255}else for(c[p++]=t&255,c[p++]=t>>>8&255,c[p++]=t>>>16&255,c[p++]=t>>>24&255,c[p++]=0,c[p++]=0,c[p++]=0,c[p++]=0,y=8;y<this.padLength;y++)c[p++]=0;return c};var T1={},Du={},xte=y0,bu=xte.rotr32;function Ete(a,t,r,n){if(a===0)return xB(t,r,n);if(a===1||a===3)return _B(t,r,n);if(a===2)return EB(t,r,n)}Du.ft_1=Ete;function xB(a,t,r){return a&t^~a&r}Du.ch32=xB;function EB(a,t,r){return a&t^a&r^t&r}Du.maj32=EB;function _B(a,t,r){return a^t^r}Du.p32=_B;function _te(a){return bu(a,2)^bu(a,13)^bu(a,22)}Du.s0_256=_te;function kte(a){return bu(a,6)^bu(a,11)^bu(a,25)}Du.s1_256=kte;function Cte(a){return bu(a,7)^bu(a,18)^a>>>3}Du.g0_256=Cte;function Ste(a){return bu(a,17)^bu(a,19)^a>>>10}Du.g1_256=Ste;var c1=y0,Tte=S1,Mte=Du,c5=c1.rotl32,eg=c1.sum32,Rte=c1.sum32_5,Dte=Mte.ft_1,kB=Tte.BlockHash,Bte=[1518500249,1859775393,2400959708,3395469782];function _u(){if(!(this instanceof _u))return new _u;kB.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}c1.inherits(_u,kB);var Ite=_u;_u.blockSize=512;_u.outSize=160;_u.hmacStrength=80;_u.padLength=64;_u.prototype._update=function(t,r){for(var n=this.W,c=0;c<16;c++)n[c]=t[r+c];for(;c<n.length;c++)n[c]=c5(n[c-3]^n[c-8]^n[c-14]^n[c-16],1);var p=this.h[0],y=this.h[1],v=this.h[2],E=this.h[3],_=this.h[4];for(c=0;c<n.length;c++){var k=~~(c/20),R=Rte(c5(p,5),Dte(k,y,v,E),_,n[c],Bte[k]);_=E,E=v,v=c5(y,30),y=p,p=R}this.h[0]=eg(this.h[0],p),this.h[1]=eg(this.h[1],y),this.h[2]=eg(this.h[2],v),this.h[3]=eg(this.h[3],E),this.h[4]=eg(this.h[4],_)};_u.prototype._digest=function(t){return t==="hex"?c1.toHex32(this.h,"big"):c1.split32(this.h,"big")};var h1=y0,Lte=S1,M1=Du,Pte=db,vf=h1.sum32,Nte=h1.sum32_4,Fte=h1.sum32_5,Ote=M1.ch32,Hte=M1.maj32,Ute=M1.s0_256,Vte=M1.s1_256,jte=M1.g0_256,Gte=M1.g1_256,CB=Lte.BlockHash,zte=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ku(){if(!(this instanceof ku))return new ku;CB.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=zte,this.W=new Array(64)}h1.inherits(ku,CB);var SB=ku;ku.blockSize=512;ku.outSize=256;ku.hmacStrength=192;ku.padLength=64;ku.prototype._update=function(t,r){for(var n=this.W,c=0;c<16;c++)n[c]=t[r+c];for(;c<n.length;c++)n[c]=Nte(Gte(n[c-2]),n[c-7],jte(n[c-15]),n[c-16]);var p=this.h[0],y=this.h[1],v=this.h[2],E=this.h[3],_=this.h[4],k=this.h[5],R=this.h[6],B=this.h[7];for(Pte(this.k.length===n.length),c=0;c<n.length;c++){var M=Fte(B,Vte(_),Ote(_,k,R),this.k[c],n[c]),F=vf(Ute(p),Hte(p,y,v));B=R,R=k,k=_,_=vf(E,M),E=v,v=y,y=p,p=vf(M,F)}this.h[0]=vf(this.h[0],p),this.h[1]=vf(this.h[1],y),this.h[2]=vf(this.h[2],v),this.h[3]=vf(this.h[3],E),this.h[4]=vf(this.h[4],_),this.h[5]=vf(this.h[5],k),this.h[6]=vf(this.h[6],R),this.h[7]=vf(this.h[7],B)};ku.prototype._digest=function(t){return t==="hex"?h1.toHex32(this.h,"big"):h1.split32(this.h,"big")};var DE=y0,TB=SB;function cc(){if(!(this instanceof cc))return new cc;TB.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}DE.inherits(cc,TB);var Wte=cc;cc.blockSize=512;cc.outSize=224;cc.hmacStrength=192;cc.padLength=64;cc.prototype._digest=function(t){return t==="hex"?DE.toHex32(this.h.slice(0,7),"big"):DE.split32(this.h.slice(0,7),"big")};var Za=y0,Qte=S1,Jte=db,yu=Za.rotr64_hi,vu=Za.rotr64_lo,MB=Za.shr64_hi,RB=Za.shr64_lo,lh=Za.sum64,h5=Za.sum64_hi,d5=Za.sum64_lo,Xte=Za.sum64_4_hi,qte=Za.sum64_4_lo,Zte=Za.sum64_5_hi,Yte=Za.sum64_5_lo,DB=Qte.BlockHash,Kte=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Of(){if(!(this instanceof Of))return new Of;DB.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Kte,this.W=new Array(160)}Za.inherits(Of,DB);var BB=Of;Of.blockSize=1024;Of.outSize=512;Of.hmacStrength=192;Of.padLength=128;Of.prototype._prepareBlock=function(t,r){for(var n=this.W,c=0;c<32;c++)n[c]=t[r+c];for(;c<n.length;c+=2){var p=fre(n[c-4],n[c-3]),y=ure(n[c-4],n[c-3]),v=n[c-14],E=n[c-13],_=are(n[c-30],n[c-29]),k=lre(n[c-30],n[c-29]),R=n[c-32],B=n[c-31];n[c]=Xte(p,y,v,E,_,k,R,B),n[c+1]=qte(p,y,v,E,_,k,R,B)}};Of.prototype._update=function(t,r){this._prepareBlock(t,r);var n=this.W,c=this.h[0],p=this.h[1],y=this.h[2],v=this.h[3],E=this.h[4],_=this.h[5],k=this.h[6],R=this.h[7],B=this.h[8],M=this.h[9],F=this.h[10],H=this.h[11],U=this.h[12],Z=this.h[13],K=this.h[14],fe=this.h[15];Jte(this.k.length===n.length);for(var oe=0;oe<n.length;oe+=2){var we=K,be=fe,ve=sre(B,M),ne=ore(B,M),ae=$te(B,M,F,H,U),ye=ere(B,M,F,H,U,Z),de=this.k[oe],xe=this.k[oe+1],le=n[oe],re=n[oe+1],he=Zte(we,be,ve,ne,ae,ye,de,xe,le,re),me=Yte(we,be,ve,ne,ae,ye,de,xe,le,re);we=ire(c,p),be=nre(c,p),ve=tre(c,p,y,v,E),ne=rre(c,p,y,v,E,_);var Re=h5(we,be,ve,ne),Ie=d5(we,be,ve,ne);K=U,fe=Z,U=F,Z=H,F=B,H=M,B=h5(k,R,he,me),M=d5(R,R,he,me),k=E,R=_,E=y,_=v,y=c,v=p,c=h5(he,me,Re,Ie),p=d5(he,me,Re,Ie)}lh(this.h,0,c,p),lh(this.h,2,y,v),lh(this.h,4,E,_),lh(this.h,6,k,R),lh(this.h,8,B,M),lh(this.h,10,F,H),lh(this.h,12,U,Z),lh(this.h,14,K,fe)};Of.prototype._digest=function(t){return t==="hex"?Za.toHex32(this.h,"big"):Za.split32(this.h,"big")};function $te(a,t,r,n,c){var p=a&r^~a&c;return p<0&&(p+=4294967296),p}function ere(a,t,r,n,c,p){var y=t&n^~t&p;return y<0&&(y+=4294967296),y}function tre(a,t,r,n,c){var p=a&r^a&c^r&c;return p<0&&(p+=4294967296),p}function rre(a,t,r,n,c,p){var y=t&n^t&p^n&p;return y<0&&(y+=4294967296),y}function ire(a,t){var r=yu(a,t,28),n=yu(t,a,2),c=yu(t,a,7),p=r^n^c;return p<0&&(p+=4294967296),p}function nre(a,t){var r=vu(a,t,28),n=vu(t,a,2),c=vu(t,a,7),p=r^n^c;return p<0&&(p+=4294967296),p}function sre(a,t){var r=yu(a,t,14),n=yu(a,t,18),c=yu(t,a,9),p=r^n^c;return p<0&&(p+=4294967296),p}function ore(a,t){var r=vu(a,t,14),n=vu(a,t,18),c=vu(t,a,9),p=r^n^c;return p<0&&(p+=4294967296),p}function are(a,t){var r=yu(a,t,1),n=yu(a,t,8),c=MB(a,t,7),p=r^n^c;return p<0&&(p+=4294967296),p}function lre(a,t){var r=vu(a,t,1),n=vu(a,t,8),c=RB(a,t,7),p=r^n^c;return p<0&&(p+=4294967296),p}function fre(a,t){var r=yu(a,t,19),n=yu(t,a,29),c=MB(a,t,6),p=r^n^c;return p<0&&(p+=4294967296),p}function ure(a,t){var r=vu(a,t,19),n=vu(t,a,29),c=RB(a,t,6),p=r^n^c;return p<0&&(p+=4294967296),p}var BE=y0,IB=BB;function hc(){if(!(this instanceof hc))return new hc;IB.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}BE.inherits(hc,IB);var cre=hc;hc.blockSize=1024;hc.outSize=384;hc.hmacStrength=192;hc.padLength=128;hc.prototype._digest=function(t){return t==="hex"?BE.toHex32(this.h.slice(0,12),"big"):BE.split32(this.h.slice(0,12),"big")};T1.sha1=Ite;T1.sha224=Wte;T1.sha256=SB;T1.sha384=cre;T1.sha512=BB;var LB={},t2=y0,hre=S1,mv=t2.rotl32,M9=t2.sum32,tg=t2.sum32_3,R9=t2.sum32_4,PB=hre.BlockHash;function Cu(){if(!(this instanceof Cu))return new Cu;PB.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t2.inherits(Cu,PB);LB.ripemd160=Cu;Cu.blockSize=512;Cu.outSize=160;Cu.hmacStrength=192;Cu.padLength=64;Cu.prototype._update=function(t,r){for(var n=this.h[0],c=this.h[1],p=this.h[2],y=this.h[3],v=this.h[4],E=n,_=c,k=p,R=y,B=v,M=0;M<80;M++){var F=M9(mv(R9(n,D9(M,c,p,y),t[mre[M]+r],dre(M)),bre[M]),v);n=v,v=y,y=mv(p,10),p=c,c=F,F=M9(mv(R9(E,D9(79-M,_,k,R),t[gre[M]+r],pre(M)),yre[M]),B),E=B,B=R,R=mv(k,10),k=_,_=F}F=tg(this.h[1],p,R),this.h[1]=tg(this.h[2],y,B),this.h[2]=tg(this.h[3],v,E),this.h[3]=tg(this.h[4],n,_),this.h[4]=tg(this.h[0],c,k),this.h[0]=F};Cu.prototype._digest=function(t){return t==="hex"?t2.toHex32(this.h,"little"):t2.split32(this.h,"little")};function D9(a,t,r,n){return a<=15?t^r^n:a<=31?t&r|~t&n:a<=47?(t|~r)^n:a<=63?t&n|r&~n:t^(r|~n)}function dre(a){return a<=15?0:a<=31?1518500249:a<=47?1859775393:a<=63?2400959708:2840853838}function pre(a){return a<=15?1352829926:a<=31?1548603684:a<=47?1836072691:a<=63?2053994217:0}var mre=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],gre=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],bre=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],yre=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],vre=y0,wre=db;function d1(a,t,r){if(!(this instanceof d1))return new d1(a,t,r);this.Hash=a,this.blockSize=a.blockSize/8,this.outSize=a.outSize/8,this.inner=null,this.outer=null,this._init(vre.toArray(t,r))}var Are=d1;d1.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),wre(t.length<=this.blockSize);for(var r=t.length;r<this.blockSize;r++)t.push(0);for(r=0;r<t.length;r++)t[r]^=54;for(this.inner=new this.Hash().update(t),r=0;r<t.length;r++)t[r]^=106;this.outer=new this.Hash().update(t)};d1.prototype.update=function(t,r){return this.inner.update(t,r),this};d1.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};(function(a){var t=a;t.utils=y0,t.common=S1,t.sha=T1,t.ripemd=LB,t.hmac=Are,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(bB);var au=bB;function R1(a,t,r){return r={path:t,exports:{},require:function(n,c){return xre(n,c==null?r.path:c)}},a(r,r.exports),r.exports}function xre(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var a_=NB;function NB(a,t){if(!a)throw new Error(t||"Assertion failed")}NB.equal=function(t,r,n){if(t!=r)throw new Error(n||"Assertion failed: "+t+" != "+r)};var Df=R1(function(a,t){var r=t;function n(y,v){if(Array.isArray(y))return y.slice();if(!y)return[];var E=[];if(typeof y!="string"){for(var _=0;_<y.length;_++)E[_]=y[_]|0;return E}if(v==="hex"){y=y.replace(/[^a-z0-9]+/ig,""),y.length%2!==0&&(y="0"+y);for(var _=0;_<y.length;_+=2)E.push(parseInt(y[_]+y[_+1],16))}else for(var _=0;_<y.length;_++){var k=y.charCodeAt(_),R=k>>8,B=k&255;R?E.push(R,B):E.push(B)}return E}r.toArray=n;function c(y){return y.length===1?"0"+y:y}r.zero2=c;function p(y){for(var v="",E=0;E<y.length;E++)v+=c(y[E].toString(16));return v}r.toHex=p,r.encode=function(v,E){return E==="hex"?p(v):v}}),Rl=R1(function(a,t){var r=t;r.assert=a_,r.toArray=Df.toArray,r.zero2=Df.zero2,r.toHex=Df.toHex,r.encode=Df.encode;function n(E,_,k){var R=new Array(Math.max(E.bitLength(),k)+1);R.fill(0);for(var B=1<<_+1,M=E.clone(),F=0;F<R.length;F++){var H,U=M.andln(B-1);M.isOdd()?(U>(B>>1)-1?H=(B>>1)-U:H=U,M.isubn(H)):H=0,R[F]=H,M.iushrn(1)}return R}r.getNAF=n;function c(E,_){var k=[[],[]];E=E.clone(),_=_.clone();for(var R=0,B=0,M;E.cmpn(-R)>0||_.cmpn(-B)>0;){var F=E.andln(3)+R&3,H=_.andln(3)+B&3;F===3&&(F=-1),H===3&&(H=-1);var U;(F&1)===0?U=0:(M=E.andln(7)+R&7,(M===3||M===5)&&H===2?U=-F:U=F),k[0].push(U);var Z;(H&1)===0?Z=0:(M=_.andln(7)+B&7,(M===3||M===5)&&F===2?Z=-H:Z=H),k[1].push(Z),2*R===U+1&&(R=1-R),2*B===Z+1&&(B=1-B),E.iushrn(1),_.iushrn(1)}return k}r.getJSF=c;function p(E,_,k){var R="_"+_;E.prototype[_]=function(){return this[R]!==void 0?this[R]:this[R]=k.call(this)}}r.cachedProperty=p;function y(E){return typeof E=="string"?r.toArray(E,"hex"):E}r.parseBytes=y;function v(E){return new jn(E,"hex","le")}r.intFromLE=v}),bw=Rl.getNAF,Ere=Rl.getJSF,yw=Rl.assert;function Uh(a,t){this.type=a,this.p=new jn(t.p,16),this.red=t.prime?jn.red(t.prime):jn.mont(this.p),this.zero=new jn(0).toRed(this.red),this.one=new jn(1).toRed(this.red),this.two=new jn(2).toRed(this.red),this.n=t.n&&new jn(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var h2=Uh;Uh.prototype.point=function(){throw new Error("Not implemented")};Uh.prototype.validate=function(){throw new Error("Not implemented")};Uh.prototype._fixedNafMul=function(t,r){yw(t.precomputed);var n=t._getDoubles(),c=bw(r,1,this._bitLength),p=(1<<n.step+1)-(n.step%2===0?2:1);p/=3;var y=[],v,E;for(v=0;v<c.length;v+=n.step){E=0;for(var _=v+n.step-1;_>=v;_--)E=(E<<1)+c[_];y.push(E)}for(var k=this.jpoint(null,null,null),R=this.jpoint(null,null,null),B=p;B>0;B--){for(v=0;v<y.length;v++)E=y[v],E===B?R=R.mixedAdd(n.points[v]):E===-B&&(R=R.mixedAdd(n.points[v].neg()));k=k.add(R)}return k.toP()};Uh.prototype._wnafMul=function(t,r){var n=4,c=t._getNAFPoints(n);n=c.wnd;for(var p=c.points,y=bw(r,n,this._bitLength),v=this.jpoint(null,null,null),E=y.length-1;E>=0;E--){for(var _=0;E>=0&&y[E]===0;E--)_++;if(E>=0&&_++,v=v.dblp(_),E<0)break;var k=y[E];yw(k!==0),t.type==="affine"?k>0?v=v.mixedAdd(p[k-1>>1]):v=v.mixedAdd(p[-k-1>>1].neg()):k>0?v=v.add(p[k-1>>1]):v=v.add(p[-k-1>>1].neg())}return t.type==="affine"?v.toP():v};Uh.prototype._wnafMulAdd=function(t,r,n,c,p){var y=this._wnafT1,v=this._wnafT2,E=this._wnafT3,_=0,k,R,B;for(k=0;k<c;k++){B=r[k];var M=B._getNAFPoints(t);y[k]=M.wnd,v[k]=M.points}for(k=c-1;k>=1;k-=2){var F=k-1,H=k;if(y[F]!==1||y[H]!==1){E[F]=bw(n[F],y[F],this._bitLength),E[H]=bw(n[H],y[H],this._bitLength),_=Math.max(E[F].length,_),_=Math.max(E[H].length,_);continue}var U=[r[F],null,null,r[H]];r[F].y.cmp(r[H].y)===0?(U[1]=r[F].add(r[H]),U[2]=r[F].toJ().mixedAdd(r[H].neg())):r[F].y.cmp(r[H].y.redNeg())===0?(U[1]=r[F].toJ().mixedAdd(r[H]),U[2]=r[F].add(r[H].neg())):(U[1]=r[F].toJ().mixedAdd(r[H]),U[2]=r[F].toJ().mixedAdd(r[H].neg()));var Z=[-3,-1,-5,-7,0,7,5,1,3],K=Ere(n[F],n[H]);for(_=Math.max(K[0].length,_),E[F]=new Array(_),E[H]=new Array(_),R=0;R<_;R++){var fe=K[0][R]|0,oe=K[1][R]|0;E[F][R]=Z[(fe+1)*3+(oe+1)],E[H][R]=0,v[F]=U}}var we=this.jpoint(null,null,null),be=this._wnafT4;for(k=_;k>=0;k--){for(var ve=0;k>=0;){var ne=!0;for(R=0;R<c;R++)be[R]=E[R][k]|0,be[R]!==0&&(ne=!1);if(!ne)break;ve++,k--}if(k>=0&&ve++,we=we.dblp(ve),k<0)break;for(R=0;R<c;R++){var ae=be[R];ae!==0&&(ae>0?B=v[R][ae-1>>1]:ae<0&&(B=v[R][-ae-1>>1].neg()),B.type==="affine"?we=we.mixedAdd(B):we=we.add(B))}}for(k=0;k<c;k++)v[k]=null;return p?we:we.toP()};function Yl(a,t){this.curve=a,this.type=t,this.precomputed=null}Uh.BasePoint=Yl;Yl.prototype.eq=function(){throw new Error("Not implemented")};Yl.prototype.validate=function(){return this.curve.validate(this)};Uh.prototype.decodePoint=function(t,r){t=Rl.toArray(t,r);var n=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*n){t[0]===6?yw(t[t.length-1]%2===0):t[0]===7&&yw(t[t.length-1]%2===1);var c=this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));return c}else if((t[0]===2||t[0]===3)&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),t[0]===3);throw new Error("Unknown point format")};Yl.prototype.encodeCompressed=function(t){return this.encode(t,!0)};Yl.prototype._encode=function(t){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Yl.prototype.encode=function(t,r){return Rl.encode(this._encode(r),t)};Yl.prototype.precompute=function(t){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,t),r.beta=this._getBeta(),this.precomputed=r,this};Yl.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((t.bitLength()+1)/r.step):!1};Yl.prototype._getDoubles=function(t,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],c=this,p=0;p<r;p+=t){for(var y=0;y<t;y++)c=c.dbl();n.push(c)}return{step:t,points:n}};Yl.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<t)-1,c=n===1?null:this.dbl(),p=1;p<n;p++)r[p]=r[p-1].add(c);return{wnd:t,points:r}};Yl.prototype._getBeta=function(){return null};Yl.prototype.dblp=function(t){for(var r=this,n=0;n<t;n++)r=r.dbl();return r};var l_=R1(function(a){typeof Object.create=="function"?a.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:a.exports=function(r,n){if(n){r.super_=n;var c=function(){};c.prototype=n.prototype,r.prototype=new c,r.prototype.constructor=r}}}),_re=Rl.assert;function Kl(a){h2.call(this,"short",a),this.a=new jn(a.a,16).toRed(this.red),this.b=new jn(a.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(a),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}l_(Kl,h2);var kre=Kl;Kl.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(t.beta)r=new jn(t.beta,16).toRed(this.red);else{var c=this._getEndoRoots(this.p);r=c[0].cmp(c[1])<0?c[0]:c[1],r=r.toRed(this.red)}if(t.lambda)n=new jn(t.lambda,16);else{var p=this._getEndoRoots(this.n);this.g.mul(p[0]).x.cmp(this.g.x.redMul(r))===0?n=p[0]:(n=p[1],_re(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var y;return t.basis?y=t.basis.map(function(v){return{a:new jn(v.a,16),b:new jn(v.b,16)}}):y=this._getEndoBasis(n),{beta:r,lambda:n,basis:y}}};Kl.prototype._getEndoRoots=function(t){var r=t===this.p?this.red:jn.mont(t),n=new jn(2).toRed(r).redInvm(),c=n.redNeg(),p=new jn(3).toRed(r).redNeg().redSqrt().redMul(n),y=c.redAdd(p).fromRed(),v=c.redSub(p).fromRed();return[y,v]};Kl.prototype._getEndoBasis=function(t){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=t,c=this.n.clone(),p=new jn(1),y=new jn(0),v=new jn(0),E=new jn(1),_,k,R,B,M,F,H,U=0,Z,K;n.cmpn(0)!==0;){var fe=c.div(n);Z=c.sub(fe.mul(n)),K=v.sub(fe.mul(p));var oe=E.sub(fe.mul(y));if(!R&&Z.cmp(r)<0)_=H.neg(),k=p,R=Z.neg(),B=K;else if(R&&++U===2)break;H=Z,c=n,n=Z,v=p,p=K,E=y,y=oe}M=Z.neg(),F=K;var we=R.sqr().add(B.sqr()),be=M.sqr().add(F.sqr());return be.cmp(we)>=0&&(M=_,F=k),R.negative&&(R=R.neg(),B=B.neg()),M.negative&&(M=M.neg(),F=F.neg()),[{a:R,b:B},{a:M,b:F}]};Kl.prototype._endoSplit=function(t){var r=this.endo.basis,n=r[0],c=r[1],p=c.b.mul(t).divRound(this.n),y=n.b.neg().mul(t).divRound(this.n),v=p.mul(n.a),E=y.mul(c.a),_=p.mul(n.b),k=y.mul(c.b),R=t.sub(v).sub(E),B=_.add(k).neg();return{k1:R,k2:B}};Kl.prototype.pointFromX=function(t,r){t=new jn(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),c=n.redSqrt();if(c.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var p=c.fromRed().isOdd();return(r&&!p||!r&&p)&&(c=c.redNeg()),this.point(t,c)};Kl.prototype.validate=function(t){if(t.inf)return!0;var r=t.x,n=t.y,c=this.a.redMul(r),p=r.redSqr().redMul(r).redIAdd(c).redIAdd(this.b);return n.redSqr().redISub(p).cmpn(0)===0};Kl.prototype._endoWnafMulAdd=function(t,r,n){for(var c=this._endoWnafT1,p=this._endoWnafT2,y=0;y<t.length;y++){var v=this._endoSplit(r[y]),E=t[y],_=E._getBeta();v.k1.negative&&(v.k1.ineg(),E=E.neg(!0)),v.k2.negative&&(v.k2.ineg(),_=_.neg(!0)),c[y*2]=E,c[y*2+1]=_,p[y*2]=v.k1,p[y*2+1]=v.k2}for(var k=this._wnafMulAdd(1,c,p,y*2,n),R=0;R<y*2;R++)c[R]=null,p[R]=null;return k};function qo(a,t,r,n){h2.BasePoint.call(this,a,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new jn(t,16),this.y=new jn(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}l_(qo,h2.BasePoint);Kl.prototype.point=function(t,r,n){return new qo(this,t,r,n)};Kl.prototype.pointFromJSON=function(t,r){return qo.fromJSON(this,t,r)};qo.prototype._getBeta=function(){if(!!this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,c=function(p){return n.point(p.x.redMul(n.endo.beta),p.y)};t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(c)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(c)}}}return r}};qo.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};qo.fromJSON=function(t,r,n){typeof r=="string"&&(r=JSON.parse(r));var c=t.point(r[0],r[1],n);if(!r[2])return c;function p(v){return t.point(v[0],v[1],n)}var y=r[2];return c.precomputed={beta:null,doubles:y.doubles&&{step:y.doubles.step,points:[c].concat(y.doubles.points.map(p))},naf:y.naf&&{wnd:y.naf.wnd,points:[c].concat(y.naf.points.map(p))}},c};qo.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};qo.prototype.isInfinity=function(){return this.inf};qo.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var r=this.y.redSub(t.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(t.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(t.x),c=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,c)};qo.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),c=t.redInvm(),p=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(c),y=p.redSqr().redISub(this.x.redAdd(this.x)),v=p.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,v)};qo.prototype.getX=function(){return this.x.fromRed()};qo.prototype.getY=function(){return this.y.fromRed()};qo.prototype.mul=function(t){return t=new jn(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};qo.prototype.mulAdd=function(t,r,n){var c=[this,r],p=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(c,p):this.curve._wnafMulAdd(1,c,p,2)};qo.prototype.jmulAdd=function(t,r,n){var c=[this,r],p=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(c,p,!0):this.curve._wnafMulAdd(1,c,p,2,!0)};qo.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};qo.prototype.neg=function(t){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,c=function(p){return p.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(c)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(c)}}}return r};qo.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function oa(a,t,r,n){h2.BasePoint.call(this,a,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new jn(0)):(this.x=new jn(t,16),this.y=new jn(r,16),this.z=new jn(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}l_(oa,h2.BasePoint);Kl.prototype.jpoint=function(t,r,n){return new oa(this,t,r,n)};oa.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),r=t.redSqr(),n=this.x.redMul(r),c=this.y.redMul(r).redMul(t);return this.curve.point(n,c)};oa.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};oa.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var r=t.z.redSqr(),n=this.z.redSqr(),c=this.x.redMul(r),p=t.x.redMul(n),y=this.y.redMul(r.redMul(t.z)),v=t.y.redMul(n.redMul(this.z)),E=c.redSub(p),_=y.redSub(v);if(E.cmpn(0)===0)return _.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var k=E.redSqr(),R=k.redMul(E),B=c.redMul(k),M=_.redSqr().redIAdd(R).redISub(B).redISub(B),F=_.redMul(B.redISub(M)).redISub(y.redMul(R)),H=this.z.redMul(t.z).redMul(E);return this.curve.jpoint(M,F,H)};oa.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var r=this.z.redSqr(),n=this.x,c=t.x.redMul(r),p=this.y,y=t.y.redMul(r).redMul(this.z),v=n.redSub(c),E=p.redSub(y);if(v.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var _=v.redSqr(),k=_.redMul(v),R=n.redMul(_),B=E.redSqr().redIAdd(k).redISub(R).redISub(R),M=E.redMul(R.redISub(B)).redISub(p.redMul(k)),F=this.z.redMul(v);return this.curve.jpoint(B,M,F)};oa.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<t;r++)n=n.dbl();return n}var c=this.curve.a,p=this.curve.tinv,y=this.x,v=this.y,E=this.z,_=E.redSqr().redSqr(),k=v.redAdd(v);for(r=0;r<t;r++){var R=y.redSqr(),B=k.redSqr(),M=B.redSqr(),F=R.redAdd(R).redIAdd(R).redIAdd(c.redMul(_)),H=y.redMul(B),U=F.redSqr().redISub(H.redAdd(H)),Z=H.redISub(U),K=F.redMul(Z);K=K.redIAdd(K).redISub(M);var fe=k.redMul(E);r+1<t&&(_=_.redMul(M)),y=U,E=fe,k=K}return this.curve.jpoint(y,k.redMul(p),E)};oa.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};oa.prototype._zeroDbl=function(){var t,r,n;if(this.zOne){var c=this.x.redSqr(),p=this.y.redSqr(),y=p.redSqr(),v=this.x.redAdd(p).redSqr().redISub(c).redISub(y);v=v.redIAdd(v);var E=c.redAdd(c).redIAdd(c),_=E.redSqr().redISub(v).redISub(v),k=y.redIAdd(y);k=k.redIAdd(k),k=k.redIAdd(k),t=_,r=E.redMul(v.redISub(_)).redISub(k),n=this.y.redAdd(this.y)}else{var R=this.x.redSqr(),B=this.y.redSqr(),M=B.redSqr(),F=this.x.redAdd(B).redSqr().redISub(R).redISub(M);F=F.redIAdd(F);var H=R.redAdd(R).redIAdd(R),U=H.redSqr(),Z=M.redIAdd(M);Z=Z.redIAdd(Z),Z=Z.redIAdd(Z),t=U.redISub(F).redISub(F),r=H.redMul(F.redISub(t)).redISub(Z),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,r,n)};oa.prototype._threeDbl=function(){var t,r,n;if(this.zOne){var c=this.x.redSqr(),p=this.y.redSqr(),y=p.redSqr(),v=this.x.redAdd(p).redSqr().redISub(c).redISub(y);v=v.redIAdd(v);var E=c.redAdd(c).redIAdd(c).redIAdd(this.curve.a),_=E.redSqr().redISub(v).redISub(v);t=_;var k=y.redIAdd(y);k=k.redIAdd(k),k=k.redIAdd(k),r=E.redMul(v.redISub(_)).redISub(k),n=this.y.redAdd(this.y)}else{var R=this.z.redSqr(),B=this.y.redSqr(),M=this.x.redMul(B),F=this.x.redSub(R).redMul(this.x.redAdd(R));F=F.redAdd(F).redIAdd(F);var H=M.redIAdd(M);H=H.redIAdd(H);var U=H.redAdd(H);t=F.redSqr().redISub(U),n=this.y.redAdd(this.z).redSqr().redISub(B).redISub(R);var Z=B.redSqr();Z=Z.redIAdd(Z),Z=Z.redIAdd(Z),Z=Z.redIAdd(Z),r=F.redMul(H.redISub(t)).redISub(Z)}return this.curve.jpoint(t,r,n)};oa.prototype._dbl=function(){var t=this.curve.a,r=this.x,n=this.y,c=this.z,p=c.redSqr().redSqr(),y=r.redSqr(),v=n.redSqr(),E=y.redAdd(y).redIAdd(y).redIAdd(t.redMul(p)),_=r.redAdd(r);_=_.redIAdd(_);var k=_.redMul(v),R=E.redSqr().redISub(k.redAdd(k)),B=k.redISub(R),M=v.redSqr();M=M.redIAdd(M),M=M.redIAdd(M),M=M.redIAdd(M);var F=E.redMul(B).redISub(M),H=n.redAdd(n).redMul(c);return this.curve.jpoint(R,F,H)};oa.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),c=r.redSqr(),p=t.redAdd(t).redIAdd(t),y=p.redSqr(),v=this.x.redAdd(r).redSqr().redISub(t).redISub(c);v=v.redIAdd(v),v=v.redAdd(v).redIAdd(v),v=v.redISub(y);var E=v.redSqr(),_=c.redIAdd(c);_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var k=p.redIAdd(v).redSqr().redISub(y).redISub(E).redISub(_),R=r.redMul(k);R=R.redIAdd(R),R=R.redIAdd(R);var B=this.x.redMul(E).redISub(R);B=B.redIAdd(B),B=B.redIAdd(B);var M=this.y.redMul(k.redMul(_.redISub(k)).redISub(v.redMul(E)));M=M.redIAdd(M),M=M.redIAdd(M),M=M.redIAdd(M);var F=this.z.redAdd(v).redSqr().redISub(n).redISub(E);return this.curve.jpoint(B,M,F)};oa.prototype.mul=function(t,r){return t=new jn(t,r),this.curve._wnafMul(this,t)};oa.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var r=this.z.redSqr(),n=t.z.redSqr();if(this.x.redMul(n).redISub(t.x.redMul(r)).cmpn(0)!==0)return!1;var c=r.redMul(this.z),p=n.redMul(t.z);return this.y.redMul(p).redISub(t.y.redMul(c)).cmpn(0)===0};oa.prototype.eqXToP=function(t){var r=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var c=t.clone(),p=this.curve.redN.redMul(r);;){if(c.iadd(this.curve.n),c.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(p),this.x.cmp(n)===0)return!0}};oa.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};oa.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Qv=R1(function(a,t){var r=t;r.base=h2,r.short=kre,r.mont=null,r.edwards=null}),Jv=R1(function(a,t){var r=t,n=Rl.assert;function c(v){v.type==="short"?this.curve=new Qv.short(v):v.type==="edwards"?this.curve=new Qv.edwards(v):this.curve=new Qv.mont(v),this.g=this.curve.g,this.n=this.curve.n,this.hash=v.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=c;function p(v,E){Object.defineProperty(r,v,{configurable:!0,enumerable:!0,get:function(){var _=new c(E);return Object.defineProperty(r,v,{configurable:!0,enumerable:!0,value:_}),_}})}p("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:au.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),p("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:au.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),p("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:au.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),p("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:au.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),p("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:au.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),p("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:au.sha256,gRed:!1,g:["9"]}),p("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:au.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var y;try{y=null.crash()}catch{y=void 0}p("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:au.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",y]})});function Lh(a){if(!(this instanceof Lh))return new Lh(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=Df.toArray(a.entropy,a.entropyEnc||"hex"),r=Df.toArray(a.nonce,a.nonceEnc||"hex"),n=Df.toArray(a.pers,a.persEnc||"hex");a_(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var FB=Lh;Lh.prototype._init=function(t,r,n){var c=t.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var p=0;p<this.V.length;p++)this.K[p]=0,this.V[p]=1;this._update(c),this._reseed=1,this.reseedInterval=281474976710656};Lh.prototype._hmac=function(){return new au.hmac(this.hash,this.K)};Lh.prototype._update=function(t){var r=this._hmac().update(this.V).update([0]);t&&(r=r.update(t)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())};Lh.prototype.reseed=function(t,r,n,c){typeof r!="string"&&(c=n,n=r,r=null),t=Df.toArray(t,r),n=Df.toArray(n,c),a_(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1};Lh.prototype.generate=function(t,r,n,c){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(c=n,n=r,r=null),n&&(n=Df.toArray(n,c||"hex"),this._update(n));for(var p=[];p.length<t;)this.V=this._hmac().update(this.V).digest(),p=p.concat(this.V);var y=p.slice(0,t);return this._update(n),this._reseed++,Df.encode(y,r)};var IE=Rl.assert;function ba(a,t){this.ec=a,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var f_=ba;ba.fromPublic=function(t,r,n){return r instanceof ba?r:new ba(t,{pub:r,pubEnc:n})};ba.fromPrivate=function(t,r,n){return r instanceof ba?r:new ba(t,{priv:r,privEnc:n})};ba.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ba.prototype.getPublic=function(t,r){return typeof t=="string"&&(r=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,t):this.pub};ba.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};ba.prototype._importPrivate=function(t,r){this.priv=new jn(t,r||16),this.priv=this.priv.umod(this.ec.curve.n)};ba.prototype._importPublic=function(t,r){if(t.x||t.y){this.ec.curve.type==="mont"?IE(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&IE(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,r)};ba.prototype.derive=function(t){return t.validate()||IE(t.validate(),"public point not validated"),t.mul(this.priv).getX()};ba.prototype.sign=function(t,r,n){return this.ec.sign(t,this,r,n)};ba.prototype.verify=function(t,r){return this.ec.verify(t,r,this)};ba.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Cre=Rl.assert;function cA(a,t){if(a instanceof cA)return a;this._importDER(a,t)||(Cre(a.r&&a.s,"Signature without r or s"),this.r=new jn(a.r,16),this.s=new jn(a.s,16),a.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=a.recoveryParam)}var hA=cA;function Sre(){this.place=0}function p5(a,t){var r=a[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var c=0,p=0,y=t.place;p<n;p++,y++)c<<=8,c|=a[y],c>>>=0;return c<=127?!1:(t.place=y,c)}function B9(a){for(var t=0,r=a.length-1;!a[t]&&!(a[t+1]&128)&&t<r;)t++;return t===0?a:a.slice(t)}cA.prototype._importDER=function(t,r){t=Rl.toArray(t,r);var n=new Sre;if(t[n.place++]!==48)return!1;var c=p5(t,n);if(c===!1||c+n.place!==t.length||t[n.place++]!==2)return!1;var p=p5(t,n);if(p===!1)return!1;var y=t.slice(n.place,p+n.place);if(n.place+=p,t[n.place++]!==2)return!1;var v=p5(t,n);if(v===!1||t.length!==v+n.place)return!1;var E=t.slice(n.place,v+n.place);if(y[0]===0)if(y[1]&128)y=y.slice(1);else return!1;if(E[0]===0)if(E[1]&128)E=E.slice(1);else return!1;return this.r=new jn(y),this.s=new jn(E),this.recoveryParam=null,!0};function m5(a,t){if(t<128){a.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(a.push(r|128);--r;)a.push(t>>>(r<<3)&255);a.push(t)}cA.prototype.toDER=function(t){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=B9(r),n=B9(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var c=[2];m5(c,r.length),c=c.concat(r),c.push(2),m5(c,n.length);var p=c.concat(n),y=[48];return m5(y,p.length),y=y.concat(p),Rl.encode(y,t)};var Tre=function(){throw new Error("unsupported")},OB=Rl.assert;function Zl(a){if(!(this instanceof Zl))return new Zl(a);typeof a=="string"&&(OB(Object.prototype.hasOwnProperty.call(Jv,a),"Unknown curve "+a),a=Jv[a]),a instanceof Jv.PresetCurve&&(a={curve:a}),this.curve=a.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=a.curve.g,this.g.precompute(a.curve.n.bitLength()+1),this.hash=a.hash||a.curve.hash}var Mre=Zl;Zl.prototype.keyPair=function(t){return new f_(this,t)};Zl.prototype.keyFromPrivate=function(t,r){return f_.fromPrivate(this,t,r)};Zl.prototype.keyFromPublic=function(t,r){return f_.fromPublic(this,t,r)};Zl.prototype.genKeyPair=function(t){t||(t={});for(var r=new FB({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Tre(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),c=this.n.sub(new jn(2));;){var p=new jn(r.generate(n));if(!(p.cmp(c)>0))return p.iaddn(1),this.keyFromPrivate(p)}};Zl.prototype._truncateToN=function(t,r){var n=t.byteLength()*8-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!r&&t.cmp(this.n)>=0?t.sub(this.n):t};Zl.prototype.sign=function(t,r,n,c){typeof n=="object"&&(c=n,n=null),c||(c={}),r=this.keyFromPrivate(r,n),t=this._truncateToN(new jn(t,16));for(var p=this.n.byteLength(),y=r.getPrivate().toArray("be",p),v=t.toArray("be",p),E=new FB({hash:this.hash,entropy:y,nonce:v,pers:c.pers,persEnc:c.persEnc||"utf8"}),_=this.n.sub(new jn(1)),k=0;;k++){var R=c.k?c.k(k):new jn(E.generate(this.n.byteLength()));if(R=this._truncateToN(R,!0),!(R.cmpn(1)<=0||R.cmp(_)>=0)){var B=this.g.mul(R);if(!B.isInfinity()){var M=B.getX(),F=M.umod(this.n);if(F.cmpn(0)!==0){var H=R.invm(this.n).mul(F.mul(r.getPrivate()).iadd(t));if(H=H.umod(this.n),H.cmpn(0)!==0){var U=(B.getY().isOdd()?1:0)|(M.cmp(F)!==0?2:0);return c.canonical&&H.cmp(this.nh)>0&&(H=this.n.sub(H),U^=1),new hA({r:F,s:H,recoveryParam:U})}}}}}};Zl.prototype.verify=function(t,r,n,c){t=this._truncateToN(new jn(t,16)),n=this.keyFromPublic(n,c),r=new hA(r,"hex");var p=r.r,y=r.s;if(p.cmpn(1)<0||p.cmp(this.n)>=0||y.cmpn(1)<0||y.cmp(this.n)>=0)return!1;var v=y.invm(this.n),E=v.mul(t).umod(this.n),_=v.mul(p).umod(this.n),k;return this.curve._maxwellTrick?(k=this.g.jmulAdd(E,n.getPublic(),_),k.isInfinity()?!1:k.eqXToP(p)):(k=this.g.mulAdd(E,n.getPublic(),_),k.isInfinity()?!1:k.getX().umod(this.n).cmp(p)===0)};Zl.prototype.recoverPubKey=function(a,t,r,n){OB((3&r)===r,"The recovery param is more than two bits"),t=new hA(t,n);var c=this.n,p=new jn(a),y=t.r,v=t.s,E=r&1,_=r>>1;if(y.cmp(this.curve.p.umod(this.curve.n))>=0&&_)throw new Error("Unable to find sencond key candinate");_?y=this.curve.pointFromX(y.add(this.curve.n),E):y=this.curve.pointFromX(y,E);var k=t.r.invm(c),R=c.sub(p).mul(k).umod(c),B=v.mul(k).umod(c);return this.g.mulAdd(R,y,B)};Zl.prototype.getKeyRecoveryParam=function(a,t,r,n){if(t=new hA(t,n),t.recoveryParam!==null)return t.recoveryParam;for(var c=0;c<4;c++){var p;try{p=this.recoverPubKey(a,t,c)}catch{continue}if(p.eq(r))return c}throw new Error("Unable to find valid recovery factor")};var Rre=R1(function(a,t){var r=t;r.version="6.5.4",r.utils=Rl,r.rand=function(){throw new Error("unsupported")},r.curve=Qv,r.curves=Jv,r.ec=Mre,r.eddsa=null}),Dre=Rre.ec;const Bre="signing-key/5.7.0",LE=new pr(Bre);let g5=null;function hu(){return g5||(g5=new Dre("secp256k1")),g5}class Ire{constructor(t){li(this,"curve","secp256k1"),li(this,"privateKey",fn(t)),$d(this.privateKey)!==32&&LE.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=hu().keyFromPrivate(Cn(this.privateKey));li(this,"publicKey","0x"+r.getPublic(!1,"hex")),li(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),li(this,"_isSigningKey",!0)}_addPoint(t){const r=hu().keyFromPublic(Cn(this.publicKey)),n=hu().keyFromPublic(Cn(t));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(t){const r=hu().keyFromPrivate(Cn(this.privateKey)),n=Cn(t);n.length!==32&&LE.throwArgumentError("bad digest length","digest",t);const c=r.sign(n,{canonical:!0});return aA({recoveryParam:c.recoveryParam,r:Bs("0x"+c.r.toString(16),32),s:Bs("0x"+c.s.toString(16),32)})}computeSharedSecret(t){const r=hu().keyFromPrivate(Cn(this.privateKey)),n=hu().keyFromPublic(Cn(HB(t)));return Bs("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(t){return!!(t&&t._isSigningKey)}}function Lre(a,t){const r=aA(t),n={r:Cn(r.r),s:Cn(r.s)};return"0x"+hu().recoverPubKey(Cn(a),n,r.recoveryParam).encode("hex",!1)}function HB(a,t){const r=Cn(a);if(r.length===32){const n=new Ire(r);return t?"0x"+hu().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return t?fn(r):"0x"+hu().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return t?"0x"+hu().keyFromPublic(r).getPublic(!0,"hex"):fn(r)}return LE.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Pre="transactions/5.7.0",gc=new pr(Pre);var I9;(function(a){a[a.legacy=0]="legacy",a[a.eip2930=1]="eip2930",a[a.eip1559=2]="eip1559"})(I9||(I9={}));function u_(a){return a==="0x"?null:ia(a)}function pa(a){return a==="0x"?tB:Ei.from(a)}function Nre(a){const t=HB(a);return ia(da(Io(da(t,1)),12))}function UB(a,t){return Nre(Lre(Cn(a),t))}function wl(a,t){const r=u1(Ei.from(a).toHexString());return r.length>32&&gc.throwArgumentError("invalid length for "+t,"transaction:"+t,a),r}function b5(a,t){return{address:ia(a),storageKeys:(t||[]).map((r,n)=>($d(r)!==32&&gc.throwArgumentError("invalid access list storageKey",`accessList[${a}:${n}]`,r),r.toLowerCase()))}}function d2(a){if(Array.isArray(a))return a.map((r,n)=>Array.isArray(r)?(r.length>2&&gc.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),b5(r[0],r[1])):b5(r.address,r.storageKeys));const t=Object.keys(a).map(r=>{const n=a[r].reduce((c,p)=>(c[p]=!0,c),{});return b5(r,Object.keys(n).sort())});return t.sort((r,n)=>r.address.localeCompare(n.address)),t}function VB(a){return d2(a).map(t=>[t.address,t.storageKeys])}function Fre(a,t){if(a.gasPrice!=null){const n=Ei.from(a.gasPrice),c=Ei.from(a.maxFeePerGas||0);n.eq(c)||gc.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:c})}const r=[wl(a.chainId||0,"chainId"),wl(a.nonce||0,"nonce"),wl(a.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),wl(a.maxFeePerGas||0,"maxFeePerGas"),wl(a.gasLimit||0,"gasLimit"),a.to!=null?ia(a.to):"0x",wl(a.value||0,"value"),a.data||"0x",VB(a.accessList||[])];if(t){const n=aA(t);r.push(wl(n.recoveryParam,"recoveryParam")),r.push(u1(n.r)),r.push(u1(n.s))}return Qa(["0x02",lA(r)])}function Ore(a,t){const r=[wl(a.chainId||0,"chainId"),wl(a.nonce||0,"nonce"),wl(a.gasPrice||0,"gasPrice"),wl(a.gasLimit||0,"gasLimit"),a.to!=null?ia(a.to):"0x",wl(a.value||0,"value"),a.data||"0x",VB(a.accessList||[])];if(t){const n=aA(t);r.push(wl(n.recoveryParam,"recoveryParam")),r.push(u1(n.r)),r.push(u1(n.s))}return Qa(["0x01",lA(r)])}function jB(a,t,r){try{const n=pa(t[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");a.v=n}catch{gc.throwArgumentError("invalid v for transaction type: 1","v",t[0])}a.r=Bs(t[1],32),a.s=Bs(t[2],32);try{const n=Io(r(a));a.from=UB(n,{r:a.r,s:a.s,recoveryParam:a.v})}catch{}}function Hre(a){const t=n_(a.slice(1));t.length!==9&&t.length!==12&&gc.throwArgumentError("invalid component count for transaction type: 2","payload",fn(a));const r=pa(t[2]),n=pa(t[3]),c={type:2,chainId:pa(t[0]).toNumber(),nonce:pa(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:pa(t[4]),to:u_(t[5]),value:pa(t[6]),data:t[7],accessList:d2(t[8])};return t.length===9||(c.hash=Io(a),jB(c,t.slice(9),Fre)),c}function Ure(a){const t=n_(a.slice(1));t.length!==8&&t.length!==11&&gc.throwArgumentError("invalid component count for transaction type: 1","payload",fn(a));const r={type:1,chainId:pa(t[0]).toNumber(),nonce:pa(t[1]).toNumber(),gasPrice:pa(t[2]),gasLimit:pa(t[3]),to:u_(t[4]),value:pa(t[5]),data:t[6],accessList:d2(t[7])};return t.length===8||(r.hash=Io(a),jB(r,t.slice(8),Ore)),r}function Vre(a){const t=n_(a);t.length!==9&&t.length!==6&&gc.throwArgumentError("invalid raw transaction","rawTransaction",a);const r={nonce:pa(t[0]).toNumber(),gasPrice:pa(t[1]),gasLimit:pa(t[2]),to:u_(t[3]),value:pa(t[4]),data:t[5],chainId:0};if(t.length===6)return r;try{r.v=Ei.from(t[6]).toNumber()}catch{return r}if(r.r=Bs(t[7],32),r.s=Bs(t[8],32),Ei.from(r.r).isZero()&&Ei.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const c=t.slice(0,6);r.chainId!==0&&(c.push(fn(r.chainId)),c.push("0x"),c.push("0x"),n-=r.chainId*2+8);const p=Io(lA(c));try{r.from=UB(p,{r:fn(r.r),s:fn(r.s),recoveryParam:n})}catch{}r.hash=Io(a)}return r.type=null,r}function jre(a){const t=Cn(a);if(t[0]>127)return Vre(t);switch(t[0]){case 1:return Ure(t);case 2:return Hre(t)}return gc.throwError(`unsupported transaction type: ${t[0]}`,pr.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}const Gre="contracts/5.7.0";var r2=globalThis&&globalThis.__awaiter||function(a,t,r,n){function c(p){return p instanceof r?p:new r(function(y){y(p)})}return new(r||(r=Promise))(function(p,y){function v(k){try{_(n.next(k))}catch(R){y(R)}}function E(k){try{_(n.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):c(k.value).then(v,E)}_((n=n.apply(a,t||[])).next())})};const so=new pr(Gre);function vw(a,t){return r2(this,void 0,void 0,function*(){const r=yield t;typeof r!="string"&&so.throwArgumentError("invalid address or ENS name","name",r);try{return ia(r)}catch{}a||so.throwError("a provider or signer is needed to resolve ENS names",pr.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield a.resolveName(r);return n==null&&so.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function Xv(a,t,r){return r2(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,c)=>Xv(a,Array.isArray(t)?t[c]:t[n.name],n))):r.type==="address"?yield vw(a,t):r.type==="tuple"?yield Xv(a,t,r.components):r.baseType==="array"?Array.isArray(t)?yield Promise.all(t.map(n=>Xv(a,n,r.arrayChildren))):Promise.reject(so.makeError("invalid value for array",pr.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t})}function dA(a,t,r){return r2(this,void 0,void 0,function*(){let n={};r.length===t.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=Rs(r.pop())),so.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),a.signer?n.from?n.from=xo({override:vw(a.signer,n.from),signer:a.signer.getAddress()}).then(_=>r2(this,void 0,void 0,function*(){return ia(_.signer)!==_.override&&so.throwError("Contract with a Signer cannot override from",pr.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),_.override})):n.from=a.signer.getAddress():n.from&&(n.from=vw(a.provider,n.from));const c=yield xo({args:Xv(a.signer||a.provider,r,t.inputs),address:a.resolvedAddress,overrides:xo(n)||{}}),p=a.interface.encodeFunctionData(t,c.args),y={data:p,to:c.address},v=c.overrides;if(v.nonce!=null&&(y.nonce=Ei.from(v.nonce).toNumber()),v.gasLimit!=null&&(y.gasLimit=Ei.from(v.gasLimit)),v.gasPrice!=null&&(y.gasPrice=Ei.from(v.gasPrice)),v.maxFeePerGas!=null&&(y.maxFeePerGas=Ei.from(v.maxFeePerGas)),v.maxPriorityFeePerGas!=null&&(y.maxPriorityFeePerGas=Ei.from(v.maxPriorityFeePerGas)),v.from!=null&&(y.from=v.from),v.type!=null&&(y.type=v.type),v.accessList!=null&&(y.accessList=d2(v.accessList)),y.gasLimit==null&&t.gas!=null){let _=21e3;const k=Cn(p);for(let R=0;R<k.length;R++)_+=4,k[R]&&(_+=64);y.gasLimit=Ei.from(t.gas).add(_)}if(v.value){const _=Ei.from(v.value);!_.isZero()&&!t.payable&&so.throwError("non-payable method cannot override value",pr.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),y.value=_}v.customData&&(y.customData=Rs(v.customData)),v.ccipReadEnabled&&(y.ccipReadEnabled=!!v.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const E=Object.keys(n).filter(_=>n[_]!=null);return E.length&&so.throwError(`cannot override ${E.map(_=>JSON.stringify(_)).join(",")}`,pr.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:E}),y})}function zre(a,t){return function(...r){return dA(a,t,r)}}function Wre(a,t){const r=a.signer||a.provider;return function(...n){return r2(this,void 0,void 0,function*(){r||so.throwError("estimate require a provider or signer",pr.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const c=yield dA(a,t,n);return yield r.estimateGas(c)})}}function Qre(a,t){const r=t.wait.bind(t);t.wait=n=>r(n).then(c=>(c.events=c.logs.map(p=>{let y=Xa(p),v=null;try{v=a.interface.parseLog(p)}catch{}return v&&(y.args=v.args,y.decode=(E,_)=>a.interface.decodeEventLog(v.eventFragment,E,_),y.event=v.name,y.eventSignature=v.signature),y.removeListener=()=>a.provider,y.getBlock=()=>a.provider.getBlock(c.blockHash),y.getTransaction=()=>a.provider.getTransaction(c.transactionHash),y.getTransactionReceipt=()=>Promise.resolve(c),y}),c))}function GB(a,t,r){const n=a.signer||a.provider;return function(...c){return r2(this,void 0,void 0,function*(){let p;if(c.length===t.inputs.length+1&&typeof c[c.length-1]=="object"){const E=Rs(c.pop());E.blockTag!=null&&(p=yield E.blockTag),delete E.blockTag,c.push(E)}a.deployTransaction!=null&&(yield a._deployed(p));const y=yield dA(a,t,c),v=yield n.call(y,p);try{let E=a.interface.decodeFunctionResult(t,v);return r&&t.outputs.length===1&&(E=E[0]),E}catch(E){throw E.code===pr.errors.CALL_EXCEPTION&&(E.address=a.address,E.args=c,E.transaction=y),E}})}}function Jre(a,t){return function(...r){return r2(this,void 0,void 0,function*(){a.signer||so.throwError("sending a transaction requires a signer",pr.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),a.deployTransaction!=null&&(yield a._deployed());const n=yield dA(a,t,r),c=yield a.signer.sendTransaction(n);return Qre(a,c),c})}}function L9(a,t,r){return t.constant?GB(a,t,r):Jre(a,t)}function zB(a){return a.address&&(a.topics==null||a.topics.length===0)?"*":(a.address||"*")+"@"+(a.topics?a.topics.map(t=>Array.isArray(t)?t.join("|"):t).join(":"):"")}class zg{constructor(t,r){li(this,"tag",t),li(this,"filter",r),this._listeners=[]}addListener(t,r){this._listeners.push({listener:t,once:r})}removeListener(t){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==t?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(t=>t.listener)}listenerCount(){return this._listeners.length}run(t){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const c=t.slice();return setTimeout(()=>{n.listener.apply(this,c)},0),!n.once}),r}prepareEvent(t){}getEmit(t){return[t]}}class Xre extends zg{constructor(){super("error",null)}}class P9 extends zg{constructor(t,r,n,c){const p={address:t};let y=r.getEventTopic(n);c?(y!==c[0]&&so.throwArgumentError("topic mismatch","topics",c),p.topics=c.slice()):p.topics=[y],super(zB(p),p),li(this,"address",t),li(this,"interface",r),li(this,"fragment",n)}prepareEvent(t){super.prepareEvent(t),t.event=this.fragment.name,t.eventSignature=this.fragment.format(),t.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{t.args=this.interface.decodeEventLog(this.fragment,t.data,t.topics)}catch(r){t.args=null,t.decodeError=r}}getEmit(t){const r=D$(t.args);if(r.length)throw r[0].error;const n=(t.args||[]).slice();return n.push(t),n}}class N9 extends zg{constructor(t,r){super("*",{address:t}),li(this,"address",t),li(this,"interface",r)}prepareEvent(t){super.prepareEvent(t);try{const r=this.interface.parseLog(t);t.event=r.name,t.eventSignature=r.signature,t.decode=(n,c)=>this.interface.decodeEventLog(r.eventFragment,n,c),t.args=r.args}catch{}}}class qre{constructor(t,r,n){li(this,"interface",kl(new.target,"getInterface")(r)),n==null?(li(this,"provider",null),li(this,"signer",null)):hb.isSigner(n)?(li(this,"provider",n.provider||null),li(this,"signer",n)):C1.isProvider(n)?(li(this,"provider",n),li(this,"signer",null)):so.throwArgumentError("invalid signer or provider","signerOrProvider",n),li(this,"callStatic",{}),li(this,"estimateGas",{}),li(this,"functions",{}),li(this,"populateTransaction",{}),li(this,"filters",{});{const y={};Object.keys(this.interface.events).forEach(v=>{const E=this.interface.events[v];li(this.filters,v,(..._)=>({address:this.address,topics:this.interface.encodeFilterTopics(E,_)})),y[E.name]||(y[E.name]=[]),y[E.name].push(v)}),Object.keys(y).forEach(v=>{const E=y[v];E.length===1?li(this.filters,v,this.filters[E[0]]):so.warn(`Duplicate definition of ${v} (${E.join(", ")})`)})}if(li(this,"_runningEvents",{}),li(this,"_wrappedEmits",{}),t==null&&so.throwArgumentError("invalid contract address or ENS name","addressOrName",t),li(this,"address",t),this.provider)li(this,"resolvedAddress",vw(this.provider,t));else try{li(this,"resolvedAddress",Promise.resolve(ia(t)))}catch{so.throwError("provider is required to use ENS name as contract address",pr.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(y=>{});const c={},p={};Object.keys(this.interface.functions).forEach(y=>{const v=this.interface.functions[y];if(p[y]){so.warn(`Duplicate ABI entry for ${JSON.stringify(y)}`);return}p[y]=!0;{const E=v.name;c[`%${E}`]||(c[`%${E}`]=[]),c[`%${E}`].push(y)}this[y]==null&&li(this,y,L9(this,v,!0)),this.functions[y]==null&&li(this.functions,y,L9(this,v,!1)),this.callStatic[y]==null&&li(this.callStatic,y,GB(this,v,!0)),this.populateTransaction[y]==null&&li(this.populateTransaction,y,zre(this,v)),this.estimateGas[y]==null&&li(this.estimateGas,y,Wre(this,v))}),Object.keys(c).forEach(y=>{const v=c[y];if(v.length>1)return;y=y.substring(1);const E=v[0];try{this[y]==null&&li(this,y,this[E])}catch{}this.functions[y]==null&&li(this.functions,y,this.functions[E]),this.callStatic[y]==null&&li(this.callStatic,y,this.callStatic[E]),this.populateTransaction[y]==null&&li(this.populateTransaction,y,this.populateTransaction[E]),this.estimateGas[y]==null&&li(this.estimateGas,y,this.estimateGas[E])})}static getContractAddress(t){return YD(t)}static getInterface(t){return S9.isInterface(t)?t:new S9(t)}deployed(){return this._deployed()}_deployed(t){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,t).then(r=>(r==="0x"&&so.throwError("contract not deployed",pr.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(t){this.signer||so.throwError("sending a transactions require a signer",pr.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=Rs(t||{});return["from","to"].forEach(function(n){r[n]!=null&&so.throwError("cannot override "+n,pr.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(t){typeof t=="string"&&(t=new o_(t,this.provider));const r=new this.constructor(this.address,this.interface,t);return this.deployTransaction&&li(r,"deployTransaction",this.deployTransaction),r}attach(t){return new this.constructor(t,this.interface,this.signer||this.provider)}static isIndexed(t){return ME.isIndexed(t)}_normalizeRunningEvent(t){return this._runningEvents[t.tag]?this._runningEvents[t.tag]:t}_getRunningEvent(t){if(typeof t=="string"){if(t==="error")return this._normalizeRunningEvent(new Xre);if(t==="event")return this._normalizeRunningEvent(new zg("event",null));if(t==="*")return this._normalizeRunningEvent(new N9(this.address,this.interface));const r=this.interface.getEvent(t);return this._normalizeRunningEvent(new P9(this.address,this.interface,r))}if(t.topics&&t.topics.length>0){try{const n=t.topics[0];if(typeof n!="string")throw new Error("invalid topic");const c=this.interface.getEvent(n);return this._normalizeRunningEvent(new P9(this.address,this.interface,c,t.topics))}catch{}const r={address:this.address,topics:t.topics};return this._normalizeRunningEvent(new zg(zB(r),r))}return this._normalizeRunningEvent(new N9(this.address,this.interface))}_checkRunningEvents(t){if(t.listenerCount()===0){delete this._runningEvents[t.tag];const r=this._wrappedEmits[t.tag];r&&t.filter&&(this.provider.off(t.filter,r),delete this._wrappedEmits[t.tag])}}_wrapEvent(t,r,n){const c=Xa(r);return c.removeListener=()=>{!n||(t.removeListener(n),this._checkRunningEvents(t))},c.getBlock=()=>this.provider.getBlock(r.blockHash),c.getTransaction=()=>this.provider.getTransaction(r.transactionHash),c.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),t.prepareEvent(c),c}_addEventListener(t,r,n){if(this.provider||so.throwError("events require a provider or a signer with a provider",pr.errors.UNSUPPORTED_OPERATION,{operation:"once"}),t.addListener(r,n),this._runningEvents[t.tag]=t,!this._wrappedEmits[t.tag]){const c=p=>{let y=this._wrapEvent(t,p,r);if(y.decodeError==null)try{const v=t.getEmit(y);this.emit(t.filter,...v)}catch(v){y.decodeError=v.error}t.filter!=null&&this.emit("event",y),y.decodeError!=null&&this.emit("error",y.decodeError,y)};this._wrappedEmits[t.tag]=c,t.filter!=null&&this.provider.on(t.filter,c)}}queryFilter(t,r,n){const c=this._getRunningEvent(t),p=Rs(c.filter);return typeof r=="string"&&i0(r,32)?(n!=null&&so.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),p.blockHash=r):(p.fromBlock=r!=null?r:0,p.toBlock=n!=null?n:"latest"),this.provider.getLogs(p).then(y=>y.map(v=>this._wrapEvent(c,v,null)))}on(t,r){return this._addEventListener(this._getRunningEvent(t),r,!1),this}once(t,r){return this._addEventListener(this._getRunningEvent(t),r,!0),this}emit(t,...r){if(!this.provider)return!1;const n=this._getRunningEvent(t),c=n.run(r)>0;return this._checkRunningEvents(n),c}listenerCount(t){return this.provider?t==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(t).listenerCount():0}listeners(t){if(!this.provider)return[];if(t==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(c=>{r.push(c)});return r}return this._getRunningEvent(t).listeners()}removeAllListeners(t){if(!this.provider)return this;if(t==null){for(const n in this._runningEvents){const c=this._runningEvents[n];c.removeAllListeners(),this._checkRunningEvents(c)}return this}const r=this._getRunningEvent(t);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(t,r){if(!this.provider)return this;const n=this._getRunningEvent(t);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(t,r){return this.off(t,r)}}class Zre extends qre{}class WB{constructor(t){li(this,"alphabet",t),li(this,"base",t.length),li(this,"_alphabetMap",{}),li(this,"_leader",t.charAt(0));for(let r=0;r<t.length;r++)this._alphabetMap[t.charAt(r)]=r}encode(t){let r=Cn(t);if(r.length===0)return"";let n=[0];for(let p=0;p<r.length;++p){let y=r[p];for(let v=0;v<n.length;++v)y+=n[v]<<8,n[v]=y%this.base,y=y/this.base|0;for(;y>0;)n.push(y%this.base),y=y/this.base|0}let c="";for(let p=0;r[p]===0&&p<r.length-1;++p)c+=this._leader;for(let p=n.length-1;p>=0;--p)c+=this.alphabet[n[p]];return c}decode(t){if(typeof t!="string")throw new TypeError("Expected String");let r=[];if(t.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<t.length;n++){let c=this._alphabetMap[t[n]];if(c===void 0)throw new Error("Non-base"+this.base+" character");let p=c;for(let y=0;y<r.length;++y)p+=r[y]*this.base,r[y]=p&255,p>>=8;for(;p>0;)r.push(p&255),p>>=8}for(let n=0;t[n]===this._leader&&n<t.length-1;++n)r.push(0);return Cn(new Uint8Array(r.reverse()))}}new WB("abcdefghijklmnopqrstuvwxyz234567");const PE=new WB("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Yre="sha2/5.7.0";new pr(Yre);function F9(a){return"0x"+au.sha256().update(Cn(a)).digest("hex")}function Kre(a){a=a.slice();for(let t=a.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1)),n=a[t];a[t]=a[r],a[r]=n}return a}const $re="networks/5.7.0",O9=new pr($re);function eie(a){return a&&typeof a.renetwork=="function"}function ph(a){const t=function(r,n){n==null&&(n={});const c=[];if(r.InfuraProvider&&n.infura!=="-")try{c.push(new r.InfuraProvider(a,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{c.push(new r.EtherscanProvider(a,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{c.push(new r.AlchemyProvider(a,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const p=["goerli","ropsten","rinkeby"];try{const y=new r.PocketProvider(a,n.pocket);y.network&&p.indexOf(y.network.name)===-1&&c.push(y)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{c.push(new r.CloudflareProvider(a))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const p=["ropsten"],y=new r.AnkrProvider(a,n.ankr);y.network&&p.indexOf(y.network.name)===-1&&c.push(y)}catch{}if(c.length===0)return null;if(r.FallbackProvider){let p=1;return n.quorum!=null?p=n.quorum:a==="homestead"&&(p=2),new r.FallbackProvider(c,p)}return c[0]};return t.renetwork=function(r){return ph(r)},t}function ww(a,t){const r=function(n,c){return n.JsonRpcProvider?new n.JsonRpcProvider(a,t):null};return r.renetwork=function(n){return ww(a,n)},r}const H9={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ph("homestead")},U9={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ph("ropsten")},V9={chainId:63,name:"classicMordor",_defaultProvider:ww("https://www.ethercluster.com/mordor","classicMordor")},gv={unspecified:{chainId:0,name:"unspecified"},homestead:H9,mainnet:H9,morden:{chainId:2,name:"morden"},ropsten:U9,testnet:U9,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ph("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ph("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ph("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:ww("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:V9,classicTestnet:V9,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:ww("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ph("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:ph("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function c_(a){if(a==null)return null;if(typeof a=="number"){for(const n in gv){const c=gv[n];if(c.chainId===a)return{name:c.name,chainId:c.chainId,ensAddress:c.ensAddress||null,_defaultProvider:c._defaultProvider||null}}return{chainId:a,name:"unknown"}}if(typeof a=="string"){const n=gv[a];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const t=gv[a.name];if(!t)return typeof a.chainId!="number"&&O9.throwArgumentError("invalid network chainId","network",a),a;a.chainId!==0&&a.chainId!==t.chainId&&O9.throwArgumentError("network chainId mismatch","network",a);let r=a._defaultProvider||null;return r==null&&t._defaultProvider&&(eie(t._defaultProvider)?r=t._defaultProvider.renetwork(a):r=t._defaultProvider),{name:a.name,chainId:t.chainId,ensAddress:a.ensAddress||t.ensAddress||null,_defaultProvider:r}}const tie="web/5.7.0";var rie=globalThis&&globalThis.__awaiter||function(a,t,r,n){function c(p){return p instanceof r?p:new r(function(y){y(p)})}return new(r||(r=Promise))(function(p,y){function v(k){try{_(n.next(k))}catch(R){y(R)}}function E(k){try{_(n.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):c(k.value).then(v,E)}_((n=n.apply(a,t||[])).next())})};function iie(a,t){return rie(this,void 0,void 0,function*(){t==null&&(t={});const r={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};if(t.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),t.fetchOptions!=null){const y=t.fetchOptions;y.mode&&(r.mode=y.mode),y.cache&&(r.cache=y.cache),y.credentials&&(r.credentials=y.credentials),y.redirect&&(r.redirect=y.redirect),y.referrer&&(r.referrer=y.referrer)}const n=yield fetch(a,r),c=yield n.arrayBuffer(),p={};return n.headers.forEach?n.headers.forEach((y,v)=>{p[v.toLowerCase()]=y}):n.headers.keys().forEach(y=>{p[y.toLowerCase()]=n.headers.get(y)}),{headers:p,statusCode:n.status,statusMessage:n.statusText,body:Cn(new Uint8Array(c))}})}var nie=globalThis&&globalThis.__awaiter||function(a,t,r,n){function c(p){return p instanceof r?p:new r(function(y){y(p)})}return new(r||(r=Promise))(function(p,y){function v(k){try{_(n.next(k))}catch(R){y(R)}}function E(k){try{_(n.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):c(k.value).then(v,E)}_((n=n.apply(a,t||[])).next())})};const _f=new pr(tie);function j9(a){return new Promise(t=>{setTimeout(t,a)})}function fh(a,t){if(a==null)return null;if(typeof a=="string")return a;if(t_(a)){if(t&&(t.split("/")[0]==="text"||t.split(";")[0].trim()==="application/json"))try{return cb(a)}catch{}return fn(a)}return a}function sie(a,t,r){const n=typeof a=="object"&&a.throttleLimit!=null?a.throttleLimit:12;_f.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const c=typeof a=="object"?a.throttleCallback:null,p=typeof a=="object"&&typeof a.throttleSlotInterval=="number"?a.throttleSlotInterval:100;_f.assertArgument(p>0&&p%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",p);const y=typeof a=="object"?!!a.errorPassThrough:!1,v={};let E=null;const _={method:"GET"};let k=!1,R=2*60*1e3;if(typeof a=="string")E=a;else if(typeof a=="object"){if((a==null||a.url==null)&&_f.throwArgumentError("missing URL","connection.url",a),E=a.url,typeof a.timeout=="number"&&a.timeout>0&&(R=a.timeout),a.headers)for(const Z in a.headers)v[Z.toLowerCase()]={key:Z,value:String(a.headers[Z])},["if-none-match","if-modified-since"].indexOf(Z.toLowerCase())>=0&&(k=!0);if(_.allowGzip=!!a.allowGzip,a.user!=null&&a.password!=null){E.substring(0,6)!=="https:"&&a.allowInsecureAuthentication!==!0&&_f.throwError("basic authentication requires a secure https url",pr.errors.INVALID_ARGUMENT,{argument:"url",url:E,user:a.user,password:"[REDACTED]"});const Z=a.user+":"+a.password;v.authorization={key:"Authorization",value:"Basic "+aB(uc(Z))}}a.skipFetchSetup!=null&&(_.skipFetchSetup=!!a.skipFetchSetup),a.fetchOptions!=null&&(_.fetchOptions=Rs(a.fetchOptions))}const B=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),M=E?E.match(B):null;if(M)try{const Z={statusCode:200,statusMessage:"OK",headers:{"content-type":M[1]},body:oB(M[2])};let K=Z.body;return r&&(K=r(Z.body,Z)),Promise.resolve(K)}catch(Z){_f.throwError("processing response error",pr.errors.SERVER_ERROR,{body:fh(M[1],M[2]),error:Z,requestBody:null,requestMethod:"GET",url:E})}t&&(_.method="POST",_.body=t,v["content-type"]==null&&(v["content-type"]={key:"Content-Type",value:"application/octet-stream"}),v["content-length"]==null&&(v["content-length"]={key:"Content-Length",value:String(t.length)}));const F={};Object.keys(v).forEach(Z=>{const K=v[Z];F[K.key]=K.value}),_.headers=F;const H=function(){let Z=null;return{promise:new Promise(function(oe,we){R&&(Z=setTimeout(()=>{Z!=null&&(Z=null,we(_f.makeError("timeout",pr.errors.TIMEOUT,{requestBody:fh(_.body,F["content-type"]),requestMethod:_.method,timeout:R,url:E})))},R))}),cancel:function(){Z!=null&&(clearTimeout(Z),Z=null)}}}(),U=function(){return nie(this,void 0,void 0,function*(){for(let Z=0;Z<n;Z++){let K=null;try{if(K=yield iie(E,_),Z<n){if(K.statusCode===301||K.statusCode===302){const oe=K.headers.location||"";if(_.method==="GET"&&oe.match(/^https:/)){E=K.headers.location;continue}}else if(K.statusCode===429){let oe=!0;if(c&&(oe=yield c(Z,E)),oe){let we=0;const be=K.headers["retry-after"];typeof be=="string"&&be.match(/^[1-9][0-9]*$/)?we=parseInt(be)*1e3:we=p*parseInt(String(Math.random()*Math.pow(2,Z))),yield j9(we);continue}}}}catch(oe){K=oe.response,K==null&&(H.cancel(),_f.throwError("missing response",pr.errors.SERVER_ERROR,{requestBody:fh(_.body,F["content-type"]),requestMethod:_.method,serverError:oe,url:E}))}let fe=K.body;if(k&&K.statusCode===304?fe=null:!y&&(K.statusCode<200||K.statusCode>=300)&&(H.cancel(),_f.throwError("bad response",pr.errors.SERVER_ERROR,{status:K.statusCode,headers:K.headers,body:fh(fe,K.headers?K.headers["content-type"]:null),requestBody:fh(_.body,F["content-type"]),requestMethod:_.method,url:E})),r)try{const oe=yield r(fe,K);return H.cancel(),oe}catch(oe){if(oe.throttleRetry&&Z<n){let we=!0;if(c&&(we=yield c(Z,E)),we){const be=p*parseInt(String(Math.random()*Math.pow(2,Z)));yield j9(be);continue}}H.cancel(),_f.throwError("processing response error",pr.errors.SERVER_ERROR,{body:fh(fe,K.headers?K.headers["content-type"]:null),error:oe,requestBody:fh(_.body,F["content-type"]),requestMethod:_.method,url:E})}return H.cancel(),fe}return _f.throwError("failed response",pr.errors.SERVER_ERROR,{requestBody:fh(_.body,F["content-type"]),requestMethod:_.method,url:E})})}();return Promise.race([H.promise,U])}function pb(a,t,r){let n=(p,y)=>{let v=null;if(p!=null)try{v=JSON.parse(cb(p))}catch(E){_f.throwError("invalid JSON",pr.errors.SERVER_ERROR,{body:p,error:E})}return r&&(v=r(v,y)),v},c=null;if(t!=null){c=uc(t);const p=typeof a=="string"?{url:a}:Rs(a);p.headers?Object.keys(p.headers).filter(v=>v.toLowerCase()==="content-type").length!==0||(p.headers=Rs(p.headers),p.headers["content-type"]="application/json"):p.headers={"content-type":"application/json"},a=p}return sie(a,c,n)}function Rp(a,t){return t||(t={}),t=Rs(t),t.floor==null&&(t.floor=0),t.ceiling==null&&(t.ceiling=1e4),t.interval==null&&(t.interval=250),new Promise(function(r,n){let c=null,p=!1;const y=()=>p?!1:(p=!0,c&&clearTimeout(c),!0);t.timeout&&(c=setTimeout(()=>{y()&&n(new Error("timeout"))},t.timeout));const v=t.retryLimit;let E=0;function _(){return a().then(function(k){if(k!==void 0)y()&&r(k);else if(t.oncePoll)t.oncePoll.once("poll",_);else if(t.onceBlock)t.onceBlock.once("block",_);else if(!p){if(E++,E>v){y()&&n(new Error("retry limit reached"));return}let R=t.interval*parseInt(String(Math.random()*Math.pow(2,E)));R<t.floor&&(R=t.floor),R>t.ceiling&&(R=t.ceiling),setTimeout(_,R)}return null},function(k){y()&&n(k)})}_()})}var Aw="qpzry9x8gf2tvdw0s3jn54khce6mua7l",NE={};for(var bv=0;bv<Aw.length;bv++){var y5=Aw.charAt(bv);if(NE[y5]!==void 0)throw new TypeError(y5+" is ambiguous");NE[y5]=bv}function Fp(a){var t=a>>25;return(a&33554431)<<5^-(t>>0&1)&996825010^-(t>>1&1)&642813549^-(t>>2&1)&513874426^-(t>>3&1)&1027748829^-(t>>4&1)&705979059}function QB(a){for(var t=1,r=0;r<a.length;++r){var n=a.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+a+")";t=Fp(t)^n>>5}for(t=Fp(t),r=0;r<a.length;++r){var c=a.charCodeAt(r);t=Fp(t)^c&31}return t}function oie(a,t,r){if(r=r||90,a.length+7+t.length>r)throw new TypeError("Exceeds length limit");a=a.toLowerCase();var n=QB(a);if(typeof n=="string")throw new Error(n);for(var c=a+"1",p=0;p<t.length;++p){var y=t[p];if(y>>5!==0)throw new Error("Non 5-bit word");n=Fp(n)^y,c+=Aw.charAt(y)}for(p=0;p<6;++p)n=Fp(n);for(n^=1,p=0;p<6;++p){var v=n>>(5-p)*5&31;c+=Aw.charAt(v)}return c}function JB(a,t){if(t=t||90,a.length<8)return a+" too short";if(a.length>t)return"Exceeds length limit";var r=a.toLowerCase(),n=a.toUpperCase();if(a!==r&&a!==n)return"Mixed-case string "+a;a=r;var c=a.lastIndexOf("1");if(c===-1)return"No separator character for "+a;if(c===0)return"Missing prefix for "+a;var p=a.slice(0,c),y=a.slice(c+1);if(y.length<6)return"Data too short";var v=QB(p);if(typeof v=="string")return v;for(var E=[],_=0;_<y.length;++_){var k=y.charAt(_),R=NE[k];if(R===void 0)return"Unknown character "+k;v=Fp(v)^R,!(_+6>=y.length)&&E.push(R)}return v!==1?"Invalid checksum for "+a:{prefix:p,words:E}}function aie(){var a=JB.apply(null,arguments);if(typeof a=="object")return a}function lie(a){var t=JB.apply(null,arguments);if(typeof t=="object")return t;throw new Error(t)}function pA(a,t,r,n){for(var c=0,p=0,y=(1<<r)-1,v=[],E=0;E<a.length;++E)for(c=c<<t|a[E],p+=t;p>=r;)p-=r,v.push(c>>p&y);if(n)p>0&&v.push(c<<r-p&y);else{if(p>=t)return"Excess padding";if(c<<r-p&y)return"Non-zero padding"}return v}function fie(a){var t=pA(a,8,5,!0);if(Array.isArray(t))return t}function uie(a){var t=pA(a,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)}function cie(a){var t=pA(a,5,8,!1);if(Array.isArray(t))return t}function hie(a){var t=pA(a,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}var die={decodeUnsafe:aie,decode:lie,encode:oie,toWordsUnsafe:fie,toWords:uie,fromWordsUnsafe:cie,fromWords:hie},G9=die;const va="providers/5.7.0",rg=new pr(va);class Ki{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const t={},r=this.address.bind(this),n=this.bigNumber.bind(this),c=this.blockTag.bind(this),p=this.data.bind(this),y=this.hash.bind(this),v=this.hex.bind(this),E=this.number.bind(this),_=this.type.bind(this),k=R=>this.data(R,!0);return t.transaction={hash:y,type:_,accessList:Ki.allowNull(this.accessList.bind(this),null),blockHash:Ki.allowNull(y,null),blockNumber:Ki.allowNull(E,null),transactionIndex:Ki.allowNull(E,null),confirmations:Ki.allowNull(E,null),from:r,gasPrice:Ki.allowNull(n),maxPriorityFeePerGas:Ki.allowNull(n),maxFeePerGas:Ki.allowNull(n),gasLimit:n,to:Ki.allowNull(r,null),value:n,nonce:E,data:p,r:Ki.allowNull(this.uint256),s:Ki.allowNull(this.uint256),v:Ki.allowNull(E),creates:Ki.allowNull(r,null),raw:Ki.allowNull(p)},t.transactionRequest={from:Ki.allowNull(r),nonce:Ki.allowNull(E),gasLimit:Ki.allowNull(n),gasPrice:Ki.allowNull(n),maxPriorityFeePerGas:Ki.allowNull(n),maxFeePerGas:Ki.allowNull(n),to:Ki.allowNull(r),value:Ki.allowNull(n),data:Ki.allowNull(k),type:Ki.allowNull(E),accessList:Ki.allowNull(this.accessList.bind(this),null)},t.receiptLog={transactionIndex:E,blockNumber:E,transactionHash:y,address:r,topics:Ki.arrayOf(y),data:p,logIndex:E,blockHash:y},t.receipt={to:Ki.allowNull(this.address,null),from:Ki.allowNull(this.address,null),contractAddress:Ki.allowNull(r,null),transactionIndex:E,root:Ki.allowNull(v),gasUsed:n,logsBloom:Ki.allowNull(p),blockHash:y,transactionHash:y,logs:Ki.arrayOf(this.receiptLog.bind(this)),blockNumber:E,confirmations:Ki.allowNull(E,null),cumulativeGasUsed:n,effectiveGasPrice:Ki.allowNull(n),status:Ki.allowNull(E),type:_},t.block={hash:Ki.allowNull(y),parentHash:y,number:E,timestamp:E,nonce:Ki.allowNull(v),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Ki.allowNull(r),extraData:p,transactions:Ki.allowNull(Ki.arrayOf(y)),baseFeePerGas:Ki.allowNull(n)},t.blockWithTransactions=Rs(t.block),t.blockWithTransactions.transactions=Ki.allowNull(Ki.arrayOf(this.transactionResponse.bind(this))),t.filter={fromBlock:Ki.allowNull(c,void 0),toBlock:Ki.allowNull(c,void 0),blockHash:Ki.allowNull(y,void 0),address:Ki.allowNull(r,void 0),topics:Ki.allowNull(this.topics.bind(this),void 0)},t.filterLog={blockNumber:Ki.allowNull(E),blockHash:Ki.allowNull(y),transactionIndex:E,removed:Ki.allowNull(this.boolean.bind(this)),address:r,data:Ki.allowFalsish(p,"0x"),topics:Ki.arrayOf(y),transactionHash:y,logIndex:E},t}accessList(t){return d2(t||[])}number(t){return t==="0x"?0:Ei.from(t).toNumber()}type(t){return t==="0x"||t==null?0:Ei.from(t).toNumber()}bigNumber(t){return Ei.from(t)}boolean(t){if(typeof t=="boolean")return t;if(typeof t=="string"){if(t=t.toLowerCase(),t==="true")return!0;if(t==="false")return!1}throw new Error("invalid boolean - "+t)}hex(t,r){return typeof t=="string"&&(!r&&t.substring(0,2)!=="0x"&&(t="0x"+t),i0(t))?t.toLowerCase():rg.throwArgumentError("invalid hash","value",t)}data(t,r){const n=this.hex(t,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+t);return n}address(t){return ia(t)}callAddress(t){if(!i0(t,32))return null;const r=ia(da(t,12));return r===W$?null:r}contractAddress(t){return YD(t)}blockTag(t){if(t==null)return"latest";if(t==="earliest")return"0x0";switch(t){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return t}if(typeof t=="number"||i0(t))return oA(t);throw new Error("invalid blockTag")}hash(t,r){const n=this.hex(t,r);return $d(n)!==32?rg.throwArgumentError("invalid hash","value",t):n}difficulty(t){if(t==null)return null;const r=Ei.from(t);try{return r.toNumber()}catch{}return null}uint256(t){if(!i0(t))throw new Error("invalid uint256");return Bs(t,32)}_block(t,r){t.author!=null&&t.miner==null&&(t.miner=t.author);const n=t._difficulty!=null?t._difficulty:t.difficulty,c=Ki.check(r,t);return c._difficulty=n==null?null:Ei.from(n),c}block(t){return this._block(t,this.formats.block)}blockWithTransactions(t){return this._block(t,this.formats.blockWithTransactions)}transactionRequest(t){return Ki.check(this.formats.transactionRequest,t)}transactionResponse(t){t.gas!=null&&t.gasLimit==null&&(t.gasLimit=t.gas),t.to&&Ei.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),t.input!=null&&t.data==null&&(t.data=t.input),t.to==null&&t.creates==null&&(t.creates=this.contractAddress(t)),(t.type===1||t.type===2)&&t.accessList==null&&(t.accessList=[]);const r=Ki.check(this.formats.transaction,t);if(t.chainId!=null){let n=t.chainId;i0(n)&&(n=Ei.from(n).toNumber()),r.chainId=n}else{let n=t.networkId;n==null&&r.v==null&&(n=t.chainId),i0(n)&&(n=Ei.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(t){return jre(t)}receiptLog(t){return Ki.check(this.formats.receiptLog,t)}receipt(t){const r=Ki.check(this.formats.receipt,t);if(r.root!=null)if(r.root.length<=4){const n=Ei.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&rg.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):rg.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&rg.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(t){return Array.isArray(t)?t.map(r=>this.topics(r)):t!=null?this.hash(t,!0):null}filter(t){return Ki.check(this.formats.filter,t)}filterLog(t){return Ki.check(this.formats.filterLog,t)}static check(t,r){const n={};for(const c in t)try{const p=t[c](r[c]);p!==void 0&&(n[c]=p)}catch(p){throw p.checkKey=c,p.checkValue=r[c],p}return n}static allowNull(t,r){return function(n){return n==null?r:t(n)}}static allowFalsish(t,r){return function(n){return n?t(n):r}}static arrayOf(t){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(c){n.push(t(c))}),n}}}function XB(a){return a&&typeof a.isCommunityResource=="function"}function FE(a){return XB(a)&&a.isCommunityResource()}let z9=!1;function mb(){z9||(z9=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var Fn=globalThis&&globalThis.__awaiter||function(a,t,r,n){function c(p){return p instanceof r?p:new r(function(y){y(p)})}return new(r||(r=Promise))(function(p,y){function v(k){try{_(n.next(k))}catch(R){y(R)}}function E(k){try{_(n.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):c(k.value).then(v,E)}_((n=n.apply(a,t||[])).next())})};const l0=new pr(va),pie=10;function W9(a){return a==null?"null":($d(a)!==32&&l0.throwArgumentError("invalid topic","topic",a),a.toLowerCase())}function Q9(a){for(a=a.slice();a.length>0&&a[a.length-1]==null;)a.pop();return a.map(t=>{if(Array.isArray(t)){const r={};t.forEach(c=>{r[W9(c)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return W9(t)}).join("&")}function mie(a){return a===""?[]:a.split(/&/g).map(t=>{if(t==="")return[];const r=t.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function yp(a){if(typeof a=="string"){if(a=a.toLowerCase(),$d(a)===32)return"tx:"+a;if(a.indexOf(":")===-1)return a}else{if(Array.isArray(a))return"filter:*:"+Q9(a);if(Qee.isForkEvent(a))throw l0.warn("not implemented"),new Error("not implemented");if(a&&typeof a=="object")return"filter:"+(a.address||"*")+":"+Q9(a.topics||[])}throw new Error("invalid event - "+a)}function ig(){return new Date().getTime()}function J9(a){return new Promise(t=>{setTimeout(t,a)})}const gie=["block","network","pending","poll"];class bie{constructor(t,r,n){li(this,"tag",t),li(this,"listener",r),li(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const t=this.tag.split(":");return t[0]!=="tx"?null:t[1]}get filter(){const t=this.tag.split(":");if(t[0]!=="filter")return null;const r=t[1],n=mie(t[2]),c={};return n.length>0&&(c.topics=n),r&&r!=="*"&&(c.address=r),c}pollable(){return this.tag.indexOf(":")>=0||gie.indexOf(this.tag)>=0}}const yie={"0":{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},"2":{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},"3":{symbol:"doge",p2pkh:30,p2sh:22},"60":{symbol:"eth",ilk:"eth"},"61":{symbol:"etc",ilk:"eth"},"700":{symbol:"xdai",ilk:"eth"}};function v5(a){return Bs(Ei.from(a).toHexString(),32)}function X9(a){return PE.encode(_l([a,da(F9(F9(a)),0,4)]))}const qB=new RegExp("^(ipfs)://(.*)$","i"),q9=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),qB,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function qv(a,t){try{return cb(Wg(a,t))}catch{}return null}function Wg(a,t){if(a==="0x")return null;const r=Ei.from(da(a,t,t+32)).toNumber(),n=Ei.from(da(a,r,r+32)).toNumber();return da(a,r+32,r+32+n)}function w5(a){return a.match(/^ipfs:\/\/ipfs\//i)?a=a.substring(12):a.match(/^ipfs:\/\//i)?a=a.substring(7):l0.throwArgumentError("unsupported IPFS format","link",a),`https://gateway.ipfs.io/ipfs/${a}`}function Z9(a){const t=Cn(a);if(t.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(t,32-t.length),r}function vie(a){if(a.length%32===0)return a;const t=new Uint8Array(Math.ceil(a.length/32)*32);return t.set(a),t}function ZB(a){const t=[];let r=0;for(let n=0;n<a.length;n++)t.push(null),r+=32;for(let n=0;n<a.length;n++){const c=Cn(a[n]);t[n]=Z9(r),t.push(Z9(c.length)),t.push(vie(c)),r+=32+Math.ceil(c.length/32)*32}return Qa(t)}class OE{constructor(t,r,n,c){li(this,"provider",t),li(this,"name",n),li(this,"address",t.formatter.address(r)),li(this,"_resolvedAddress",c)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(t=>Ei.from(t).eq(1)).catch(t=>{if(t.code===pr.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,t})),this._supportsEip2544}_fetch(t,r){return Fn(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:Qa([t,Wv(this.name),r||"0x"])};let c=!1;(yield this.supportsWildcard())&&(c=!0,n.data=Qa(["0x9061b923",ZB([Dee(this.name),n.data])]));try{let p=yield this.provider.call(n);return Cn(p).length%32===4&&l0.throwError("resolver threw error",pr.errors.CALL_EXCEPTION,{transaction:n,data:p}),c&&(p=Wg(p,0)),p}catch(p){if(p.code===pr.errors.CALL_EXCEPTION)return null;throw p}})}_fetchBytes(t,r){return Fn(this,void 0,void 0,function*(){const n=yield this._fetch(t,r);return n!=null?Wg(n,0):null})}_getAddress(t,r){const n=yie[String(t)];if(n==null&&l0.throwError(`unsupported coin type: ${t}`,pr.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`}),n.ilk==="eth")return this.provider.formatter.address(r);const c=Cn(r);if(n.p2pkh!=null){const p=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(p){const y=parseInt(p[1],16);if(p[2].length===y*2&&y>=1&&y<=75)return X9(_l([[n.p2pkh],"0x"+p[2]]))}}if(n.p2sh!=null){const p=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(p){const y=parseInt(p[1],16);if(p[2].length===y*2&&y>=1&&y<=75)return X9(_l([[n.p2sh],"0x"+p[2]]))}}if(n.prefix!=null){const p=c[1];let y=c[0];if(y===0?p!==20&&p!==32&&(y=-1):y=-1,y>=0&&c.length===2+p&&p>=1&&p<=75){const v=G9.toWords(c.slice(2));return v.unshift(y),G9.encode(n.prefix,v)}}return null}getAddress(t){return Fn(this,void 0,void 0,function*(){if(t==null&&(t=60),t===60)try{const c=yield this._fetch("0x3b3b57de");return c==="0x"||c===q$?null:this.provider.formatter.callAddress(c)}catch(c){if(c.code===pr.errors.CALL_EXCEPTION)return null;throw c}const r=yield this._fetchBytes("0xf1cb7e06",v5(t));if(r==null||r==="0x")return null;const n=this._getAddress(t,r);return n==null&&l0.throwError("invalid or unsupported coin data",pr.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`,coinType:t,data:r}),n})}getAvatar(){return Fn(this,void 0,void 0,function*(){const t=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<q9.length;n++){const c=r.match(q9[n]);if(c==null)continue;const p=c[1].toLowerCase();switch(p){case"https":return t.push({type:"url",content:r}),{linkage:t,url:r};case"data":return t.push({type:"data",content:r}),{linkage:t,url:r};case"ipfs":return t.push({type:"ipfs",content:r}),{linkage:t,url:w5(r)};case"erc721":case"erc1155":{const y=p==="erc721"?"0xc87b56dd":"0x0e89341c";t.push({type:p,content:r});const v=this._resolvedAddress||(yield this.getAddress()),E=(c[2]||"").split("/");if(E.length!==2)return null;const _=yield this.provider.formatter.address(E[0]),k=Bs(Ei.from(E[1]).toHexString(),32);if(p==="erc721"){const H=this.provider.formatter.callAddress(yield this.provider.call({to:_,data:Qa(["0x6352211e",k])}));if(v!==H)return null;t.push({type:"owner",content:H})}else if(p==="erc1155"){const H=Ei.from(yield this.provider.call({to:_,data:Qa(["0x00fdd58e",Bs(v,32),k])}));if(H.isZero())return null;t.push({type:"balance",content:H.toString()})}const R={to:this.provider.formatter.address(E[0]),data:Qa([y,k])};let B=qv(yield this.provider.call(R),0);if(B==null)return null;t.push({type:"metadata-url-base",content:B}),p==="erc1155"&&(B=B.replace("{id}",k.substring(2)),t.push({type:"metadata-url-expanded",content:B})),B.match(/^ipfs:/i)&&(B=w5(B)),t.push({type:"metadata-url",content:B});const M=yield pb(B);if(!M)return null;t.push({type:"metadata",content:JSON.stringify(M)});let F=M.image;if(typeof F!="string")return null;if(!F.match(/^(https:\/\/|data:)/i)){if(F.match(qB)==null)return null;t.push({type:"url-ipfs",content:F}),F=w5(F)}return t.push({type:"url",content:F}),{linkage:t,url:F}}}}}catch{}return null})}getContentHash(){return Fn(this,void 0,void 0,function*(){const t=yield this._fetchBytes("0xbc1c58d1");if(t==null||t==="0x")return null;const r=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const y=parseInt(r[3],16);if(r[4].length===y*2)return"ipfs://"+PE.encode("0x"+r[1])}const n=t.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const y=parseInt(n[3],16);if(n[4].length===y*2)return"ipns://"+PE.encode("0x"+n[1])}const c=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(c&&c[1].length===32*2)return"bzz://"+c[1];const p=t.match(/^0x90b2c605([0-9a-f]*)$/);if(p&&p[1].length===34*2){const y={"=":"","+":"-","/":"_"},v=aB("0x"+p[1]).replace(/[=+\/]/g,E=>y[E]);return"sia://"+v}return l0.throwError("invalid or unsupported content hash data",pr.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t})})}getText(t){return Fn(this,void 0,void 0,function*(){let r=uc(t);r=_l([v5(64),v5(r.length),r]),r.length%32!==0&&(r=_l([r,Bs("0x",32-t.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",fn(r));return n==null||n==="0x"?null:cb(n)})}}let A5=null,wie=1;class mA extends C1{constructor(t){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),li(this,"anyNetwork",t==="any"),this.anyNetwork&&(t=this.detectNetwork()),t instanceof Promise)this._networkPromise=t,t.catch(r=>{}),this._ready().catch(r=>{});else{const r=kl(new.target,"getNetwork")(t);r?(li(this,"_network",r),this.emit("network",r,null)):l0.throwArgumentError("invalid network","network",t)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Fn(this,void 0,void 0,function*(){if(this._network==null){let t=null;if(this._networkPromise)try{t=yield this._networkPromise}catch{}t==null&&(t=yield this.detectNetwork()),t||l0.throwError("no network detected",pr.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=t:li(this,"_network",t),this.emit("network",t,null))}return this._network})}get ready(){return Rp(()=>this._ready().then(t=>t,t=>{if(!(t.code===pr.errors.NETWORK_ERROR&&t.event==="noNetwork"))throw t}))}static getFormatter(){return A5==null&&(A5=new Ki),A5}static getNetwork(t){return c_(t==null?"homestead":t)}ccipReadFetch(t,r,n){return Fn(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const c=t.to.toLowerCase(),p=r.toLowerCase(),y=[];for(let v=0;v<n.length;v++){const E=n[v],_=E.replace("{sender}",c).replace("{data}",p),k=E.indexOf("{data}")>=0?null:JSON.stringify({data:p,sender:c}),R=yield pb({url:_,errorPassThrough:!0},k,(M,F)=>(M.status=F.statusCode,M));if(R.data)return R.data;const B=R.message||"unknown error";if(R.status>=400&&R.status<500)return l0.throwError(`response not found during CCIP fetch: ${B}`,pr.errors.SERVER_ERROR,{url:E,errorMessage:B});y.push(B)}return l0.throwError(`error encountered during CCIP fetch: ${y.map(v=>JSON.stringify(v)).join(", ")}`,pr.errors.SERVER_ERROR,{urls:n,errorMessages:y})})}_getInternalBlockNumber(t){return Fn(this,void 0,void 0,function*(){if(yield this._ready(),t>0)for(;this._internalBlockNumber;){const c=this._internalBlockNumber;try{const p=yield c;if(ig()-p.respTime<=t)return p.blockNumber;break}catch{if(this._internalBlockNumber===c)break}}const r=ig(),n=xo({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(c=>null,c=>c)}).then(({blockNumber:c,networkError:p})=>{if(p)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),p;const y=ig();return c=Ei.from(c).toNumber(),c<this._maxInternalBlockNumber&&(c=this._maxInternalBlockNumber),this._maxInternalBlockNumber=c,this._setFastBlockNumber(c),{blockNumber:c,reqTime:r,respTime:y}});return this._internalBlockNumber=n,n.catch(c=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return Fn(this,void 0,void 0,function*(){const t=wie++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(c){this.emit("error",c);return}if(this._setFastBlockNumber(n),this.emit("poll",t,n),n===this._lastBlockNumber){this.emit("didPoll",t);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)l0.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",l0.makeError("network block skew detected",pr.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let c=this._emitted.block+1;c<=n;c++)this.emit("block",c);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(c=>{if(c==="block")return;const p=this._emitted[c];p!=="pending"&&n-p>12&&delete this._emitted[c]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(c=>{switch(c.type){case"tx":{const p=c.hash;let y=this.getTransactionReceipt(p).then(v=>(!v||v.blockNumber==null||(this._emitted["t:"+p]=v.blockNumber,this.emit(p,v)),null)).catch(v=>{this.emit("error",v)});r.push(y);break}case"filter":{if(!c._inflight){c._inflight=!0,c._lastBlockNumber===-2&&(c._lastBlockNumber=n-1);const p=c.filter;p.fromBlock=c._lastBlockNumber+1,p.toBlock=n;const y=p.toBlock-this._maxFilterBlockRange;y>p.fromBlock&&(p.fromBlock=y),p.fromBlock<0&&(p.fromBlock=0);const v=this.getLogs(p).then(E=>{c._inflight=!1,E.length!==0&&E.forEach(_=>{_.blockNumber>c._lastBlockNumber&&(c._lastBlockNumber=_.blockNumber),this._emitted["b:"+_.blockHash]=_.blockNumber,this._emitted["t:"+_.transactionHash]=_.blockNumber,this.emit(p,_)})}).catch(E=>{this.emit("error",E),c._inflight=!1});r.push(v)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",t)}).catch(c=>{this.emit("error",c)})})}resetEventsBlock(t){this._lastBlockNumber=t-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Fn(this,void 0,void 0,function*(){return l0.throwError("provider does not support network detection",pr.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Fn(this,void 0,void 0,function*(){const t=yield this._ready(),r=yield this.detectNetwork();if(t.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,t),yield J9(0),this._network;const n=l0.makeError("underlying network changed",pr.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:r});throw this.emit("error",n),n}return t})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(t=>{this._setFastBlockNumber(t)},t=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(t){t&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!t&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(t){if(typeof t!="number"||t<=0||parseInt(String(t))!=t)throw new Error("invalid polling interval");this._pollingInterval=t,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const t=ig();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(t){this._fastBlockNumber!=null&&t<this._fastBlockNumber||(this._fastQueryDate=ig(),(this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t,this._fastBlockNumberPromise=Promise.resolve(t)))}waitForTransaction(t,r,n){return Fn(this,void 0,void 0,function*(){return this._waitForTransaction(t,r==null?1:r,n||0,null)})}_waitForTransaction(t,r,n,c){return Fn(this,void 0,void 0,function*(){const p=yield this.getTransactionReceipt(t);return(p?p.confirmations:0)>=r?p:new Promise((y,v)=>{const E=[];let _=!1;const k=function(){return _?!0:(_=!0,E.forEach(B=>{B()}),!1)},R=B=>{B.confirmations<r||k()||y(B)};if(this.on(t,R),E.push(()=>{this.removeListener(t,R)}),c){let B=c.startBlock,M=null;const F=H=>Fn(this,void 0,void 0,function*(){_||(yield J9(1e3),this.getTransactionCount(c.from).then(U=>Fn(this,void 0,void 0,function*(){if(!_){if(U<=c.nonce)B=H;else{{const Z=yield this.getTransaction(t);if(Z&&Z.blockNumber!=null)return}for(M==null&&(M=B-3,M<c.startBlock&&(M=c.startBlock));M<=H;){if(_)return;const Z=yield this.getBlockWithTransactions(M);for(let K=0;K<Z.transactions.length;K++){const fe=Z.transactions[K];if(fe.hash===t)return;if(fe.from===c.from&&fe.nonce===c.nonce){if(_)return;const oe=yield this.waitForTransaction(fe.hash,r);if(k())return;let we="replaced";fe.data===c.data&&fe.to===c.to&&fe.value.eq(c.value)?we="repriced":fe.data==="0x"&&fe.from===fe.to&&fe.value.isZero()&&(we="cancelled"),v(l0.makeError("transaction was replaced",pr.errors.TRANSACTION_REPLACED,{cancelled:we==="replaced"||we==="cancelled",reason:we,replacement:this._wrapTransaction(fe),hash:t,receipt:oe}));return}}M++}}_||this.once("block",F)}}),U=>{_||this.once("block",F)}))});if(_)return;this.once("block",F),E.push(()=>{this.removeListener("block",F)})}if(typeof n=="number"&&n>0){const B=setTimeout(()=>{k()||v(l0.makeError("timeout exceeded",pr.errors.TIMEOUT,{timeout:n}))},n);B.unref&&B.unref(),E.push(()=>{clearTimeout(B)})}})})}getBlockNumber(){return Fn(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Fn(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield this.perform("getGasPrice",{});try{return Ei.from(t)}catch(r){return l0.throwError("bad result from backend",pr.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:r})}})}getBalance(t,r){return Fn(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield xo({address:this._getAddress(t),blockTag:this._getBlockTag(r)}),c=yield this.perform("getBalance",n);try{return Ei.from(c)}catch(p){return l0.throwError("bad result from backend",pr.errors.SERVER_ERROR,{method:"getBalance",params:n,result:c,error:p})}})}getTransactionCount(t,r){return Fn(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield xo({address:this._getAddress(t),blockTag:this._getBlockTag(r)}),c=yield this.perform("getTransactionCount",n);try{return Ei.from(c).toNumber()}catch(p){return l0.throwError("bad result from backend",pr.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:c,error:p})}})}getCode(t,r){return Fn(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield xo({address:this._getAddress(t),blockTag:this._getBlockTag(r)}),c=yield this.perform("getCode",n);try{return fn(c)}catch(p){return l0.throwError("bad result from backend",pr.errors.SERVER_ERROR,{method:"getCode",params:n,result:c,error:p})}})}getStorageAt(t,r,n){return Fn(this,void 0,void 0,function*(){yield this.getNetwork();const c=yield xo({address:this._getAddress(t),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(y=>oA(y))}),p=yield this.perform("getStorageAt",c);try{return fn(p)}catch(y){return l0.throwError("bad result from backend",pr.errors.SERVER_ERROR,{method:"getStorageAt",params:c,result:p,error:y})}})}_wrapTransaction(t,r,n){if(r!=null&&$d(r)!==32)throw new Error("invalid response - sendTransaction");const c=t;return r!=null&&t.hash!==r&&l0.throwError("Transaction hash mismatch from Provider.sendTransaction.",pr.errors.UNKNOWN_ERROR,{expectedHash:t.hash,returnedHash:r}),c.wait=(p,y)=>Fn(this,void 0,void 0,function*(){p==null&&(p=1),y==null&&(y=0);let v;p!==0&&n!=null&&(v={data:t.data,from:t.from,nonce:t.nonce,to:t.to,value:t.value,startBlock:n});const E=yield this._waitForTransaction(t.hash,p,y,v);return E==null&&p===0?null:(this._emitted["t:"+t.hash]=E.blockNumber,E.status===0&&l0.throwError("transaction failed",pr.errors.CALL_EXCEPTION,{transactionHash:t.hash,transaction:t,receipt:E}),E)}),c}sendTransaction(t){return Fn(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(t).then(p=>fn(p)),n=this.formatter.transaction(t);n.confirmations==null&&(n.confirmations=0);const c=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const p=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,p,c)}catch(p){throw p.transaction=n,p.transactionHash=n.hash,p}})}_getTransactionRequest(t){return Fn(this,void 0,void 0,function*(){const r=yield t,n={};return["from","to"].forEach(c=>{r[c]!=null&&(n[c]=Promise.resolve(r[c]).then(p=>p?this._getAddress(p):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(c=>{r[c]!=null&&(n[c]=Promise.resolve(r[c]).then(p=>p?Ei.from(p):null))}),["type"].forEach(c=>{r[c]!=null&&(n[c]=Promise.resolve(r[c]).then(p=>p!=null?p:null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(c=>{r[c]!=null&&(n[c]=Promise.resolve(r[c]).then(p=>p?fn(p):null))}),this.formatter.transactionRequest(yield xo(n))})}_getFilter(t){return Fn(this,void 0,void 0,function*(){t=yield t;const r={};return t.address!=null&&(r.address=this._getAddress(t.address)),["blockHash","topics"].forEach(n=>{t[n]!=null&&(r[n]=t[n])}),["fromBlock","toBlock"].forEach(n=>{t[n]!=null&&(r[n]=this._getBlockTag(t[n]))}),this.formatter.filter(yield xo(r))})}_call(t,r,n){return Fn(this,void 0,void 0,function*(){n>=pie&&l0.throwError("CCIP read exceeded maximum redirections",pr.errors.SERVER_ERROR,{redirects:n,transaction:t});const c=t.to,p=yield this.perform("call",{transaction:t,blockTag:r});if(n>=0&&r==="latest"&&c!=null&&p.substring(0,10)==="0x556f1830"&&$d(p)%32===4)try{const y=da(p,4),v=da(y,0,32);Ei.from(v).eq(c)||l0.throwError("CCIP Read sender did not match",pr.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:p});const E=[],_=Ei.from(da(y,32,64)).toNumber(),k=Ei.from(da(y,_,_+32)).toNumber(),R=da(y,_+32);for(let Z=0;Z<k;Z++){const K=qv(R,Z*32);K==null&&l0.throwError("CCIP Read contained corrupt URL string",pr.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:p}),E.push(K)}const B=Wg(y,64);Ei.from(da(y,100,128)).isZero()||l0.throwError("CCIP Read callback selector included junk",pr.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:p});const M=da(y,96,100),F=Wg(y,128),H=yield this.ccipReadFetch(t,B,E);H==null&&l0.throwError("CCIP Read disabled or provided no URLs",pr.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:p});const U={to:c,data:Qa([M,ZB([H,F])])};return this._call(U,r,n+1)}catch(y){if(y.code===pr.errors.SERVER_ERROR)throw y}try{return fn(p)}catch(y){return l0.throwError("bad result from backend",pr.errors.SERVER_ERROR,{method:"call",params:{transaction:t,blockTag:r},result:p,error:y})}})}call(t,r){return Fn(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield xo({transaction:this._getTransactionRequest(t),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(t.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(t){return Fn(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield xo({transaction:this._getTransactionRequest(t)}),n=yield this.perform("estimateGas",r);try{return Ei.from(n)}catch(c){return l0.throwError("bad result from backend",pr.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:c})}})}_getAddress(t){return Fn(this,void 0,void 0,function*(){t=yield t,typeof t!="string"&&l0.throwArgumentError("invalid address or ENS name","name",t);const r=yield this.resolveName(t);return r==null&&l0.throwError("ENS name not configured",pr.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(t)})`}),r})}_getBlock(t,r){return Fn(this,void 0,void 0,function*(){yield this.getNetwork(),t=yield t;let n=-128;const c={includeTransactions:!!r};if(i0(t,32))c.blockHash=t;else try{c.blockTag=yield this._getBlockTag(t),i0(c.blockTag)&&(n=parseInt(c.blockTag.substring(2),16))}catch{l0.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",t)}return Rp(()=>Fn(this,void 0,void 0,function*(){const p=yield this.perform("getBlock",c);if(p==null)return c.blockHash!=null&&this._emitted["b:"+c.blockHash]==null||c.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let y=null;for(let E=0;E<p.transactions.length;E++){const _=p.transactions[E];if(_.blockNumber==null)_.confirmations=0;else if(_.confirmations==null){y==null&&(y=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let k=y-_.blockNumber+1;k<=0&&(k=1),_.confirmations=k}}const v=this.formatter.blockWithTransactions(p);return v.transactions=v.transactions.map(E=>this._wrapTransaction(E)),v}return this.formatter.block(p)}),{oncePoll:this})})}getBlock(t){return this._getBlock(t,!1)}getBlockWithTransactions(t){return this._getBlock(t,!0)}getTransaction(t){return Fn(this,void 0,void 0,function*(){yield this.getNetwork(),t=yield t;const r={transactionHash:this.formatter.hash(t,!0)};return Rp(()=>Fn(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+t]==null?null:void 0;const c=this.formatter.transactionResponse(n);if(c.blockNumber==null)c.confirmations=0;else if(c.confirmations==null){let y=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-c.blockNumber+1;y<=0&&(y=1),c.confirmations=y}return this._wrapTransaction(c)}),{oncePoll:this})})}getTransactionReceipt(t){return Fn(this,void 0,void 0,function*(){yield this.getNetwork(),t=yield t;const r={transactionHash:this.formatter.hash(t,!0)};return Rp(()=>Fn(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+t]==null?null:void 0;if(n.blockHash==null)return;const c=this.formatter.receipt(n);if(c.blockNumber==null)c.confirmations=0;else if(c.confirmations==null){let y=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-c.blockNumber+1;y<=0&&(y=1),c.confirmations=y}return c}),{oncePoll:this})})}getLogs(t){return Fn(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield xo({filter:this._getFilter(t)}),n=yield this.perform("getLogs",r);return n.forEach(c=>{c.removed==null&&(c.removed=!1)}),Ki.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return Fn(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(t){return Fn(this,void 0,void 0,function*(){if(t=yield t,typeof t=="number"&&t<0){t%1&&l0.throwArgumentError("invalid BlockTag","blockTag",t);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=t,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(t)})}getResolver(t){return Fn(this,void 0,void 0,function*(){let r=t;for(;;){if(r===""||r==="."||t!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const c=new OE(this,n,t);return r!==t&&!(yield c.supportsWildcard())?null:c}r=r.split(".").slice(1).join(".")}})}_getResolver(t,r){return Fn(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||l0.throwError("network does not support ENS",pr.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const c=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+Wv(t).substring(2)});return this.formatter.callAddress(c)}catch{}return null})}resolveName(t){return Fn(this,void 0,void 0,function*(){t=yield t;try{return Promise.resolve(this.formatter.address(t))}catch(n){if(i0(t))throw n}typeof t!="string"&&l0.throwArgumentError("invalid ENS name","name",t);const r=yield this.getResolver(t);return r?yield r.getAddress():null})}lookupAddress(t){return Fn(this,void 0,void 0,function*(){t=yield t,t=this.formatter.address(t);const r=t.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const c=qv(yield this.call({to:n,data:"0x691f3431"+Wv(r).substring(2)}),0);return(yield this.resolveName(c))!=t?null:c})}getAvatar(t){return Fn(this,void 0,void 0,function*(){let r=null;if(i0(t)){const p=this.formatter.address(t).substring(2).toLowerCase()+".addr.reverse",y=yield this._getResolver(p,"getAvatar");if(!y)return null;r=new OE(this,y,p);try{const v=yield r.getAvatar();if(v)return v.url}catch(v){if(v.code!==pr.errors.CALL_EXCEPTION)throw v}try{const v=qv(yield this.call({to:y,data:"0x691f3431"+Wv(p).substring(2)}),0);r=yield this.getResolver(v)}catch(v){if(v.code!==pr.errors.CALL_EXCEPTION)throw v;return null}}else if(r=yield this.getResolver(t),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(t,r){return l0.throwError(t+" not implemented",pr.errors.NOT_IMPLEMENTED,{operation:t})}_startEvent(t){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(t){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(t,r,n){const c=new bie(yp(t),r,n);return this._events.push(c),this._startEvent(c),this}on(t,r){return this._addEventListener(t,r,!1)}once(t,r){return this._addEventListener(t,r,!0)}emit(t,...r){let n=!1,c=[],p=yp(t);return this._events=this._events.filter(y=>y.tag!==p?!0:(setTimeout(()=>{y.listener.apply(this,r)},0),n=!0,y.once?(c.push(y),!1):!0)),c.forEach(y=>{this._stopEvent(y)}),n}listenerCount(t){if(!t)return this._events.length;let r=yp(t);return this._events.filter(n=>n.tag===r).length}listeners(t){if(t==null)return this._events.map(n=>n.listener);let r=yp(t);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(t,r){if(r==null)return this.removeAllListeners(t);const n=[];let c=!1,p=yp(t);return this._events=this._events.filter(y=>y.tag!==p||y.listener!=r||c?!0:(c=!0,n.push(y),!1)),n.forEach(y=>{this._stopEvent(y)}),this}removeAllListeners(t){let r=[];if(t==null)r=this._events,this._events=[];else{const n=yp(t);this._events=this._events.filter(c=>c.tag!==n?!0:(r.push(c),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var tc=globalThis&&globalThis.__awaiter||function(a,t,r,n){function c(p){return p instanceof r?p:new r(function(y){y(p)})}return new(r||(r=Promise))(function(p,y){function v(k){try{_(n.next(k))}catch(R){y(R)}}function E(k){try{_(n.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):c(k.value).then(v,E)}_((n=n.apply(a,t||[])).next())})};const Eo=new pr(va),Aie=["call","estimateGas"];function _g(a,t){if(a==null)return null;if(typeof a.message=="string"&&a.message.match("reverted")){const r=i0(a.data)?a.data:null;if(!t||r)return{message:a.message,data:r}}if(typeof a=="object"){for(const r in a){const n=_g(a[r],t);if(n)return n}return null}if(typeof a=="string")try{return _g(JSON.parse(a),t)}catch{}return null}function YB(a,t,r){const n=r.transaction||r.signedTransaction;if(a==="call"){const p=_g(t,!0);if(p)return p.data;Eo.throwError("missing revert data in call exception; Transaction reverted without a reason string",pr.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if(a==="estimateGas"){let p=_g(t.body,!1);p==null&&(p=_g(t,!1)),p&&Eo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",pr.errors.UNPREDICTABLE_GAS_LIMIT,{reason:p.message,method:a,transaction:n,error:t})}let c=t.message;throw t.code===pr.errors.SERVER_ERROR&&t.error&&typeof t.error.message=="string"?c=t.error.message:typeof t.body=="string"?c=t.body:typeof t.responseText=="string"&&(c=t.responseText),c=(c||"").toLowerCase(),c.match(/insufficient funds|base fee exceeds gas limit/i)&&Eo.throwError("insufficient funds for intrinsic transaction cost",pr.errors.INSUFFICIENT_FUNDS,{error:t,method:a,transaction:n}),c.match(/nonce (is )?too low/i)&&Eo.throwError("nonce has already been used",pr.errors.NONCE_EXPIRED,{error:t,method:a,transaction:n}),c.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Eo.throwError("replacement fee too low",pr.errors.REPLACEMENT_UNDERPRICED,{error:t,method:a,transaction:n}),c.match(/only replay-protected/i)&&Eo.throwError("legacy pre-eip-155 transactions not supported",pr.errors.UNSUPPORTED_OPERATION,{error:t,method:a,transaction:n}),Aie.indexOf(a)>=0&&c.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&Eo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",pr.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:a,transaction:n}),t}function Y9(a){return new Promise(function(t){setTimeout(t,a)})}function xie(a){if(a.error){const t=new Error(a.error.message);throw t.code=a.error.code,t.data=a.error.data,t}return a.result}function ng(a){return a&&a.toLowerCase()}const HE={};class h_ extends hb{constructor(t,r,n){if(super(),t!==HE)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");li(this,"provider",r),n==null&&(n=0),typeof n=="string"?(li(this,"_address",this.provider.formatter.address(n)),li(this,"_index",null)):typeof n=="number"?(li(this,"_index",n),li(this,"_address",null)):Eo.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(t){return Eo.throwError("cannot alter JSON-RPC Signer connection",pr.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Eie(HE,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(t=>(t.length<=this._index&&Eo.throwError("unknown account #"+this._index,pr.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(t[this._index])))}sendUncheckedTransaction(t){t=Rs(t);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(t.gasLimit==null){const n=Rs(t);n.from=r,t.gasLimit=this.provider.estimateGas(n)}return t.to!=null&&(t.to=Promise.resolve(t.to).then(n=>tc(this,void 0,void 0,function*(){if(n==null)return null;const c=yield this.provider.resolveName(n);return c==null&&Eo.throwArgumentError("provided ENS name resolves to null","tx.to",n),c}))),xo({tx:xo(t),sender:r}).then(({tx:n,sender:c})=>{n.from!=null?n.from.toLowerCase()!==c&&Eo.throwArgumentError("from address mismatch","transaction",t):n.from=c;const p=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[p]).then(y=>y,y=>(typeof y.message=="string"&&y.message.match(/user denied/i)&&Eo.throwError("user rejected transaction",pr.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),YB("sendTransaction",y,p)))})}signTransaction(t){return Eo.throwError("signing transactions is unsupported",pr.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(t){return tc(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(t);try{return yield Rp(()=>tc(this,void 0,void 0,function*(){const c=yield this.provider.getTransaction(n);if(c!==null)return this.provider._wrapTransaction(c,n,r)}),{oncePoll:this.provider})}catch(c){throw c.transactionHash=n,c}})}signMessage(t){return tc(this,void 0,void 0,function*(){const r=typeof t=="string"?uc(t):t,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[fn(r),n.toLowerCase()])}catch(c){throw typeof c.message=="string"&&c.message.match(/user denied/i)&&Eo.throwError("user rejected signing",pr.errors.ACTION_REJECTED,{action:"signMessage",from:n,message:r}),c}})}_legacySignMessage(t){return tc(this,void 0,void 0,function*(){const r=typeof t=="string"?uc(t):t,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),fn(r)])}catch(c){throw typeof c.message=="string"&&c.message.match(/user denied/i)&&Eo.throwError("user rejected signing",pr.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,message:r}),c}})}_signTypedData(t,r,n){return tc(this,void 0,void 0,function*(){const c=yield yl.resolveNames(t,r,n,y=>this.provider.resolveName(y)),p=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[p.toLowerCase(),JSON.stringify(yl.getPayload(c.domain,r,c.value))])}catch(y){throw typeof y.message=="string"&&y.message.match(/user denied/i)&&Eo.throwError("user rejected signing",pr.errors.ACTION_REJECTED,{action:"_signTypedData",from:p,message:{domain:c.domain,types:r,value:c.value}}),y}})}unlock(t){return tc(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),t,null])})}}class Eie extends h_{sendTransaction(t){return this.sendUncheckedTransaction(t).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const _ie={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class i2 extends mA{constructor(t,r){let n=r;n==null&&(n=new Promise((c,p)=>{setTimeout(()=>{this.detectNetwork().then(y=>{c(y)},y=>{p(y)})},0)})),super(n),t||(t=kl(this.constructor,"defaultUrl")()),typeof t=="string"?li(this,"connection",Object.freeze({url:t})):li(this,"connection",Object.freeze(Rs(t))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return tc(this,void 0,void 0,function*(){yield Y9(0);let t=null;try{t=yield this.send("eth_chainId",[])}catch{try{t=yield this.send("net_version",[])}catch{}}if(t!=null){const r=kl(this.constructor,"getNetwork");try{return r(Ei.from(t).toNumber())}catch(n){return Eo.throwError("could not detect network",pr.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:n})}}return Eo.throwError("could not detect network",pr.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(t){return new h_(HE,this,t)}getUncheckedSigner(t){return this.getSigner(t).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(t=>t.map(r=>this.formatter.address(r)))}send(t,r){const n={method:t,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Xa(n),provider:this});const c=["eth_chainId","eth_blockNumber"].indexOf(t)>=0;if(c&&this._cache[t])return this._cache[t];const p=pb(this.connection,JSON.stringify(n),xie).then(y=>(this.emit("debug",{action:"response",request:n,response:y,provider:this}),y),y=>{throw this.emit("debug",{action:"response",error:y,request:n,provider:this}),y});return c&&(this._cache[t]=p,setTimeout(()=>{this._cache[t]=null},0)),p}prepareRequest(t,r){switch(t){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[ng(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[ng(r.address),r.blockTag]];case"getCode":return["eth_getCode",[ng(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[ng(r.address),Bs(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":{const n=kl(this.constructor,"hexlifyTransaction");return["eth_call",[n(r.transaction,{from:!0}),r.blockTag]]}case"estimateGas":{const n=kl(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[n(r.transaction,{from:!0})]]}case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=ng(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(t,r){return tc(this,void 0,void 0,function*(){if(t==="call"||t==="estimateGas"){const c=r.transaction;if(c&&c.type!=null&&Ei.from(c.type).isZero()&&c.maxFeePerGas==null&&c.maxPriorityFeePerGas==null){const p=yield this.getFeeData();p.maxFeePerGas==null&&p.maxPriorityFeePerGas==null&&(r=Rs(r),r.transaction=Rs(c),delete r.transaction.type)}}const n=this.prepareRequest(t,r);n==null&&Eo.throwError(t+" not implemented",pr.errors.NOT_IMPLEMENTED,{operation:t});try{return yield this.send(n[0],n[1])}catch(c){return YB(t,c,r)}})}_startEvent(t){t.tag==="pending"&&this._startPending(),super._startEvent(t)}_startPending(){if(this._pendingFilter!=null)return;const t=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function c(){t.send("eth_getFilterChanges",[n]).then(function(p){if(t._pendingFilter!=r)return null;let y=Promise.resolve();return p.forEach(function(v){t._emitted["t:"+v.toLowerCase()]="pending",y=y.then(function(){return t.getTransaction(v).then(function(E){return t.emit("pending",E),null})})}),y.then(function(){return Y9(1e3)})}).then(function(){if(t._pendingFilter!=r){t.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){c()},0),null}).catch(p=>{})}return c(),n}).catch(n=>{})}_stopEvent(t){t.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(t)}static hexlifyTransaction(t,r){const n=Rs(_ie);if(r)for(const p in r)r[p]&&(n[p]=!0);E$(t,n);const c={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(p){if(t[p]==null)return;const y=oA(Ei.from(t[p]));p==="gasLimit"&&(p="gas"),c[p]=y}),["from","to","data"].forEach(function(p){t[p]!=null&&(c[p]=fn(t[p]))}),t.accessList&&(c.accessList=d2(t.accessList)),c}}let kg=null;try{if(kg=WebSocket,kg==null)throw new Error("inject please")}catch{const t=new pr(va);kg=function(){t.throwError("WebSockets not supported in this environment",pr.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var x5=globalThis&&globalThis.__awaiter||function(a,t,r,n){function c(p){return p instanceof r?p:new r(function(y){y(p)})}return new(r||(r=Promise))(function(p,y){function v(k){try{_(n.next(k))}catch(R){y(R)}}function E(k){try{_(n.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):c(k.value).then(v,E)}_((n=n.apply(a,t||[])).next())})};const yv=new pr(va);let kie=1;class gA extends i2{constructor(t,r){r==="any"&&yv.throwError("WebSocketProvider does not support 'any' network yet",pr.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof t=="string"?super(t,r):super("_websocket",r),this._pollingInterval=-1,this._wsReady=!1,typeof t=="string"?li(this,"_websocket",new kg(this.connection.url)):li(this,"_websocket",t),li(this,"_requests",{}),li(this,"_subs",{}),li(this,"_subIds",{}),li(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(c=>{this.websocket.send(this._requests[c].payload)})},this.websocket.onmessage=c=>{const p=c.data,y=JSON.parse(p);if(y.id!=null){const v=String(y.id),E=this._requests[v];if(delete this._requests[v],y.result!==void 0)E.callback(null,y.result),this.emit("debug",{action:"response",request:JSON.parse(E.payload),response:y.result,provider:this});else{let _=null;y.error?(_=new Error(y.error.message||"unknown error"),li(_,"code",y.error.code||null),li(_,"response",p)):_=new Error("unknown error"),E.callback(_,void 0),this.emit("debug",{action:"response",error:_,request:JSON.parse(E.payload),provider:this})}}else if(y.method==="eth_subscription"){const v=this._subs[y.params.subscription];v&&v.processFunc(y.params.result)}else console.warn("this should not happen")};const n=setInterval(()=>{this.emit("poll")},1e3);n.unref&&n.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(t){yv.throwError("cannot reset events block on WebSocketProvider",pr.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(t){yv.throwError("cannot set polling interval on WebSocketProvider",pr.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return x5(this,void 0,void 0,function*(){return null})}set polling(t){!t||yv.throwError("cannot set polling on WebSocketProvider",pr.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(t,r){const n=kie++;return new Promise((c,p)=>{function y(E,_){return E?p(E):c(_)}const v=JSON.stringify({method:t,params:r,id:n,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(v),provider:this}),this._requests[String(n)]={callback:y,payload:v},this._wsReady&&this.websocket.send(v)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(t,r,n){return x5(this,void 0,void 0,function*(){let c=this._subIds[t];c==null&&(c=Promise.all(r).then(y=>this.send("eth_subscribe",y)),this._subIds[t]=c);const p=yield c;this._subs[p]={tag:t,processFunc:n}})}_startEvent(t){switch(t.type){case"block":this._subscribe("block",["newHeads"],r=>{const n=Ei.from(r.number).toNumber();this._emitted.block=n,this.emit("block",n)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],r=>{this.emit("pending",r)});break;case"filter":this._subscribe(t.tag,["logs",this._getFilter(t.filter)],r=>{r.removed==null&&(r.removed=!1),this.emit(t.filter,this.formatter.filterLog(r))});break;case"tx":{const r=n=>{const c=n.hash;this.getTransactionReceipt(c).then(p=>{!p||this.emit(c,p)})};r(t),this._subscribe("tx",["newHeads"],n=>{this._events.filter(c=>c.type==="tx").forEach(r)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",t);break}}_stopEvent(t){let r=t.tag;if(t.type==="tx"){if(this._events.filter(c=>c.type==="tx").length)return;r="tx"}else if(this.listenerCount(t.event))return;const n=this._subIds[r];!n||(delete this._subIds[r],n.then(c=>{!this._subs[c]||(delete this._subs[c],this.send("eth_unsubscribe",[c]))}))}destroy(){return x5(this,void 0,void 0,function*(){this.websocket.readyState===kg.CONNECTING&&(yield new Promise(t=>{this.websocket.onopen=function(){t(!0)},this.websocket.onerror=function(){t(!1)}})),this.websocket.close(1e3)})}}var Cie=globalThis&&globalThis.__awaiter||function(a,t,r,n){function c(p){return p instanceof r?p:new r(function(y){y(p)})}return new(r||(r=Promise))(function(p,y){function v(k){try{_(n.next(k))}catch(R){y(R)}}function E(k){try{_(n.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):c(k.value).then(v,E)}_((n=n.apply(a,t||[])).next())})};const hg=new pr(va);class KB extends i2{detectNetwork(){const t=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return Cie(this,void 0,void 0,function*(){let r=this.network;return r==null&&(r=yield t.detectNetwork.call(this),r||hg.throwError("no network detected",pr.errors.UNKNOWN_ERROR,{}),this._network==null&&(li(this,"_network",r),this.emit("network",r,null))),r})}}class bc extends KB{constructor(t,r){hg.checkAbstract(new.target,bc),t=kl(new.target,"getNetwork")(t),r=kl(new.target,"getApiKey")(r);const n=kl(new.target,"getUrl")(t,r);super(n,t),typeof r=="string"?li(this,"apiKey",r):r!=null&&Object.keys(r).forEach(c=>{li(this,c,r[c])})}_startPending(){hg.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(t){return hg.throwError("API provider does not support signing",pr.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(t){return t}static getUrl(t,r){return hg.throwError("not implemented; sub-classes must override getUrl",pr.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const K9=new pr(va),Zv="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class $B extends gA{constructor(t,r){const n=new d_(t,r),c=n.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(c,n.network),li(this,"apiKey",n.apiKey)}isCommunityResource(){return this.apiKey===Zv}}class d_ extends bc{static getWebSocketProvider(t,r){return new $B(t,r)}static getApiKey(t){return t==null?Zv:(t&&typeof t!="string"&&K9.throwArgumentError("invalid apiKey","apiKey",t),t)}static getUrl(t,r){let n=null;switch(t.name){case"homestead":n="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":n="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":n="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":n="eth-goerli.alchemyapi.io/v2/";break;case"kovan":n="eth-kovan.alchemyapi.io/v2/";break;case"matic":n="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":n="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":n="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-rinkeby":n="arb-rinkeby.g.alchemy.com/v2/";break;case"arbitrum-goerli":n="arb-goerli.g.alchemy.com/v2/";break;case"optimism":n="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-kovan":n="opt-kovan.g.alchemy.com/v2/";break;case"optimism-goerli":n="opt-goerli.g.alchemy.com/v2/";break;default:K9.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+n+r,throttleCallback:(c,p)=>(r===Zv&&mb(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===Zv}}const Sie=new pr(va),vv="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function Tie(a){switch(a){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return Sie.throwArgumentError("unsupported network","name",a)}class eI extends bc{isCommunityResource(){return this.apiKey===vv}static getApiKey(t){return t==null?vv:t}static getUrl(t,r){r==null&&(r=vv);const n={allowGzip:!0,url:"https://"+Tie(t.name)+r,throttleCallback:(c,p)=>(r.apiKey===vv&&mb(),Promise.resolve(!0))};return r.projectSecret!=null&&(n.user="",n.password=r.projectSecret),n}}var Mie=globalThis&&globalThis.__awaiter||function(a,t,r,n){function c(p){return p instanceof r?p:new r(function(y){y(p)})}return new(r||(r=Promise))(function(p,y){function v(k){try{_(n.next(k))}catch(R){y(R)}}function E(k){try{_(n.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):c(k.value).then(v,E)}_((n=n.apply(a,t||[])).next())})};const $9=new pr(va);class tI extends bc{static getApiKey(t){return t!=null&&$9.throwArgumentError("apiKey not supported for cloudflare","apiKey",t),null}static getUrl(t,r){let n=null;switch(t.name){case"homestead":n="https://cloudflare-eth.com/";break;default:$9.throwArgumentError("unsupported network","network",arguments[0])}return n}perform(t,r){const n=Object.create(null,{perform:{get:()=>super.perform}});return Mie(this,void 0,void 0,function*(){return t==="getBlockNumber"?(yield n.perform.call(this,"getBlock",{blockTag:"latest"})).number:n.perform.call(this,t,r)})}}var wv=globalThis&&globalThis.__awaiter||function(a,t,r,n){function c(p){return p instanceof r?p:new r(function(y){y(p)})}return new(r||(r=Promise))(function(p,y){function v(k){try{_(n.next(k))}catch(R){y(R)}}function E(k){try{_(n.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):c(k.value).then(v,E)}_((n=n.apply(a,t||[])).next())})};const mh=new pr(va);function eM(a){const t={};for(let r in a){if(a[r]==null)continue;let n=a[r];r==="type"&&n===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?n=oA(fn(n)):r==="accessList"?n="["+d2(n).map(c=>`{address:"${c.address}",storageKeys:["${c.storageKeys.join('","')}"]}`).join(",")+"]":n=fn(n),t[r]=n)}return t}function Rie(a){if(a.status==0&&(a.message==="No records found"||a.message==="No transactions found"))return a.result;if(a.status!=1||typeof a.message!="string"||!a.message.match(/^OK/)){const t=new Error("invalid response");throw t.result=JSON.stringify(a),(a.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return a.result}function tM(a){if(a&&a.status==0&&a.message=="NOTOK"&&(a.result||"").toLowerCase().indexOf("rate limit")>=0){const t=new Error("throttled response");throw t.result=JSON.stringify(a),t.throttleRetry=!0,t}if(a.jsonrpc!="2.0"){const t=new Error("invalid response");throw t.result=JSON.stringify(a),t}if(a.error){const t=new Error(a.error.message||"unknown error");throw a.error.code&&(t.code=a.error.code),a.error.data&&(t.data=a.error.data),t}return a.result}function rM(a){if(a==="pending")throw new Error("pending not supported");return a==="latest"?a:parseInt(a.substring(2),16)}function E5(a,t,r){if(a==="call"&&t.code===pr.errors.SERVER_ERROR){const c=t.error;if(c&&(c.message.match(/reverted/i)||c.message.match(/VM execution error/i))){let p=c.data;if(p&&(p="0x"+p.replace(/^.*0x/i,"")),i0(p))return p;mh.throwError("missing revert data in call exception",pr.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}let n=t.message;throw t.code===pr.errors.SERVER_ERROR&&(t.error&&typeof t.error.message=="string"?n=t.error.message:typeof t.body=="string"?n=t.body:typeof t.responseText=="string"&&(n=t.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&mh.throwError("insufficient funds for intrinsic transaction cost",pr.errors.INSUFFICIENT_FUNDS,{error:t,method:a,transaction:r}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&mh.throwError("nonce has already been used",pr.errors.NONCE_EXPIRED,{error:t,method:a,transaction:r}),n.match(/another transaction with same nonce/)&&mh.throwError("replacement fee too low",pr.errors.REPLACEMENT_UNDERPRICED,{error:t,method:a,transaction:r}),n.match(/execution failed due to an exception|execution reverted/)&&mh.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",pr.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:a,transaction:r}),t}class rI extends mA{constructor(t,r){super(t),li(this,"baseUrl",this.getBaseUrl()),li(this,"apiKey",r||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"ropsten":return"https://api-ropsten.etherscan.io";case"rinkeby":return"https://api-rinkeby.etherscan.io";case"kovan":return"https://api-kovan.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-kovan":return"https://api-kovan-optimistic.etherscan.io"}return mh.throwArgumentError("unsupported network","network",this.network.name)}getUrl(t,r){const n=Object.keys(r).reduce((p,y)=>{const v=r[y];return v!=null&&(p+=`&${y}=${v}`),p},""),c=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${t}${n}${c}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(t,r){return r.module=t,r.apikey=this.apiKey,r}fetch(t,r,n){return wv(this,void 0,void 0,function*(){const c=n?this.getPostUrl():this.getUrl(t,r),p=n?this.getPostData(t,r):null,y=t==="proxy"?tM:Rie;this.emit("debug",{action:"request",request:c,provider:this});const v={url:c,throttleSlotInterval:1e3,throttleCallback:(k,R)=>(this.isCommunityResource()&&mb(),Promise.resolve(!0))};let E=null;p&&(v.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},E=Object.keys(p).map(k=>`${k}=${p[k]}`).join("&"));const _=yield pb(v,E,y||tM);return this.emit("debug",{action:"response",request:c,response:Xa(_),provider:this}),_})}detectNetwork(){return wv(this,void 0,void 0,function*(){return this.network})}perform(t,r){const n=Object.create(null,{perform:{get:()=>super.perform}});return wv(this,void 0,void 0,function*(){switch(t){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:r.address,tag:r.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:r.address,tag:r.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:r.address,tag:r.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:r.address,position:r.position,tag:r.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:r.signedTransaction},!0).catch(c=>E5("sendTransaction",c,r.signedTransaction));case"getBlock":if(r.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:r.blockTag,boolean:r.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:r.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:r.transactionHash});case"call":{if(r.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const c=eM(r.transaction);c.module="proxy",c.action="eth_call";try{return yield this.fetch("proxy",c,!0)}catch(p){return E5("call",p,r.transaction)}}case"estimateGas":{const c=eM(r.transaction);c.module="proxy",c.action="eth_estimateGas";try{return yield this.fetch("proxy",c,!0)}catch(p){return E5("estimateGas",p,r.transaction)}}case"getLogs":{const c={action:"getLogs"};if(r.filter.fromBlock&&(c.fromBlock=rM(r.filter.fromBlock)),r.filter.toBlock&&(c.toBlock=rM(r.filter.toBlock)),r.filter.address&&(c.address=r.filter.address),r.filter.topics&&r.filter.topics.length>0&&(r.filter.topics.length>1&&mh.throwError("unsupported topic count",pr.errors.UNSUPPORTED_OPERATION,{topics:r.filter.topics}),r.filter.topics.length===1)){const v=r.filter.topics[0];(typeof v!="string"||v.length!==66)&&mh.throwError("unsupported topic format",pr.errors.UNSUPPORTED_OPERATION,{topic0:v}),c.topic0=v}const p=yield this.fetch("logs",c);let y={};for(let v=0;v<p.length;v++){const E=p[v];if(E.blockHash==null){if(y[E.blockNumber]==null){const _=yield this.getBlock(E.blockNumber);_&&(y[E.blockNumber]=_.hash)}E.blockHash=y[E.blockNumber]}}return p}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return n.perform.call(this,t,r)})}getHistory(t,r,n){return wv(this,void 0,void 0,function*(){const c={action:"txlist",address:yield this.resolveName(t),startblock:r==null?0:r,endblock:n==null?99999999:n,sort:"asc"};return(yield this.fetch("account",c)).map(y=>{["contractAddress","to"].forEach(function(E){y[E]==""&&delete y[E]}),y.creates==null&&y.contractAddress!=null&&(y.creates=y.contractAddress);const v=this.formatter.transactionResponse(y);return y.timeStamp&&(v.timestamp=parseInt(y.timeStamp)),v})})}isCommunityResource(){return this.apiKey==null}}var xw=globalThis&&globalThis.__awaiter||function(a,t,r,n){function c(p){return p instanceof r?p:new r(function(y){y(p)})}return new(r||(r=Promise))(function(p,y){function v(k){try{_(n.next(k))}catch(R){y(R)}}function E(k){try{_(n.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):c(k.value).then(v,E)}_((n=n.apply(a,t||[])).next())})};const Pd=new pr(va);function Av(){return new Date().getTime()}function iM(a){let t=null;for(let r=0;r<a.length;r++){const n=a[r];if(n==null)return null;t?t.name===n.name&&t.chainId===n.chainId&&(t.ensAddress===n.ensAddress||t.ensAddress==null&&n.ensAddress==null)||Pd.throwArgumentError("provider mismatch","networks",a):t=n}return t}function nM(a,t){a=a.slice().sort();const r=Math.floor(a.length/2);if(a.length%2)return a[r];const n=a[r-1],c=a[r];return t!=null&&Math.abs(n-c)>t?null:(n+c)/2}function Dp(a){if(a===null)return"null";if(typeof a=="number"||typeof a=="boolean")return JSON.stringify(a);if(typeof a=="string")return a;if(Ei.isBigNumber(a))return a.toString();if(Array.isArray(a))return JSON.stringify(a.map(t=>Dp(t)));if(typeof a=="object"){const t=Object.keys(a);return t.sort(),"{"+t.map(r=>{let n=a[r];return typeof n=="function"?n="[function]":n=Dp(n),JSON.stringify(r)+":"+n}).join(",")+"}"}throw new Error("unknown value type: "+typeof a)}let Die=1;function sM(a){let t=null,r=null,n=new Promise(y=>{t=function(){r&&(clearTimeout(r),r=null),y()},r=setTimeout(t,a)});const c=y=>(n=n.then(y),n);function p(){return n}return{cancel:t,getPromise:p,wait:c}}const Bie=[pr.errors.CALL_EXCEPTION,pr.errors.INSUFFICIENT_FUNDS,pr.errors.NONCE_EXPIRED,pr.errors.REPLACEMENT_UNDERPRICED,pr.errors.UNPREDICTABLE_GAS_LIMIT],Iie=["address","args","errorArgs","errorSignature","method","transaction"];function xv(a,t){const r={weight:a.weight};return Object.defineProperty(r,"provider",{get:()=>a.provider}),a.start&&(r.start=a.start),t&&(r.duration=t-a.start),a.done&&(a.error?r.error=a.error:r.result=a.result||null),r}function Lie(a,t){return function(r){const n={};r.forEach(p=>{const y=a(p.result);n[y]||(n[y]={count:0,result:p.result}),n[y].count++});const c=Object.keys(n);for(let p=0;p<c.length;p++){const y=n[c[p]];if(y.count>=t)return y.result}}}function Pie(a,t,r){let n=Dp;switch(t){case"getBlockNumber":return function(c){const p=c.map(v=>v.result);let y=nM(c.map(v=>v.result),2);if(y!=null)return y=Math.ceil(y),p.indexOf(y+1)>=0&&y++,y>=a._highestBlockNumber&&(a._highestBlockNumber=y),a._highestBlockNumber};case"getGasPrice":return function(c){const p=c.map(y=>y.result);return p.sort(),p[Math.floor(p.length/2)]};case"getEtherPrice":return function(c){return nM(c.map(p=>p.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(c){return c==null?null:(c=Rs(c),c.confirmations=-1,Dp(c))};break;case"getBlock":r.includeTransactions?n=function(c){return c==null?null:(c=Rs(c),c.transactions=c.transactions.map(p=>(p=Rs(p),p.confirmations=-1,p)),Dp(c))}:n=function(c){return c==null?null:Dp(c)};break;default:throw new Error("unknown method: "+t)}return Lie(n,a.quorum)}function sg(a,t){return xw(this,void 0,void 0,function*(){const r=a.provider;return r.blockNumber!=null&&r.blockNumber>=t||t===-1?r:Rp(()=>new Promise((n,c)=>{setTimeout(function(){return r.blockNumber>=t?n(r):a.cancelled?n(null):n(void 0)},0)}),{oncePoll:r})})}function Nie(a,t,r,n){return xw(this,void 0,void 0,function*(){let c=a.provider;switch(r){case"getBlockNumber":case"getGasPrice":return c[r]();case"getEtherPrice":if(c.getEtherPrice)return c.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&i0(n.blockTag)&&(c=yield sg(a,t)),c[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&i0(n.blockTag)&&(c=yield sg(a,t)),c.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&i0(n.blockTag)&&(c=yield sg(a,t)),c[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&i0(n.blockTag)&&(c=yield sg(a,t)),r==="call"&&n.blockTag?c[r](n.transaction,n.blockTag):c[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return c[r](n.transactionHash);case"getLogs":{let p=n.filter;return(p.fromBlock&&i0(p.fromBlock)||p.toBlock&&i0(p.toBlock))&&(c=yield sg(a,t)),c.getLogs(p)}}return Pd.throwError("unknown method error",pr.errors.UNKNOWN_ERROR,{method:r,params:n})})}class iI extends mA{constructor(t,r){t.length===0&&Pd.throwArgumentError("missing providers","providers",t);const n=t.map((y,v)=>{if(C1.isProvider(y)){const k=FE(y)?2e3:750;return Object.freeze({provider:y,weight:1,stallTimeout:k,priority:1})}const E=Rs(y);E.priority==null&&(E.priority=1),E.stallTimeout==null&&(E.stallTimeout=FE(y)?2e3:750),E.weight==null&&(E.weight=1);const _=E.weight;return(_%1||_>512||_<1)&&Pd.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${v}].weight`,_),Object.freeze(E)}),c=n.reduce((y,v)=>y+v.weight,0);r==null?r=c/2:r>c&&Pd.throwArgumentError("quorum will always fail; larger than total weight","quorum",r);let p=iM(n.map(y=>y.provider.network));p==null&&(p=new Promise((y,v)=>{setTimeout(()=>{this.detectNetwork().then(y,v)},0)})),super(p),li(this,"providerConfigs",Object.freeze(n)),li(this,"quorum",r),this._highestBlockNumber=-1}detectNetwork(){return xw(this,void 0,void 0,function*(){const t=yield Promise.all(this.providerConfigs.map(r=>r.provider.getNetwork()));return iM(t)})}perform(t,r){return xw(this,void 0,void 0,function*(){if(t==="sendTransaction"){const E=yield Promise.all(this.providerConfigs.map(_=>_.provider.sendTransaction(r.signedTransaction).then(k=>k.hash,k=>k)));for(let _=0;_<E.length;_++){const k=E[_];if(typeof k=="string")return k}throw E[0]}this._highestBlockNumber===-1&&t!=="getBlockNumber"&&(yield this.getBlockNumber());const n=Pie(this,t,r),c=Kre(this.providerConfigs.map(Rs));c.sort((E,_)=>E.priority-_.priority);const p=this._highestBlockNumber;let y=0,v=!0;for(;;){const E=Av();let _=c.filter(M=>M.runner&&E-M.start<M.stallTimeout).reduce((M,F)=>M+F.weight,0);for(;_<this.quorum&&y<c.length;){const M=c[y++],F=Die++;M.start=Av(),M.staller=sM(M.stallTimeout),M.staller.wait(()=>{M.staller=null}),M.runner=Nie(M,p,t,r).then(H=>{M.done=!0,M.result=H,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:F,backend:xv(M,Av()),request:{method:t,params:Xa(r)},provider:this})},H=>{M.done=!0,M.error=H,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:F,backend:xv(M,Av()),request:{method:t,params:Xa(r)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:F,backend:xv(M,null),request:{method:t,params:Xa(r)},provider:this}),_+=M.weight}const k=[];c.forEach(M=>{M.done||!M.runner||(k.push(M.runner),M.staller&&k.push(M.staller.getPromise()))}),k.length&&(yield Promise.race(k));const R=c.filter(M=>M.done&&M.error==null);if(R.length>=this.quorum){const M=n(R);if(M!==void 0)return c.forEach(F=>{F.staller&&F.staller.cancel(),F.cancelled=!0}),M;v||(yield sM(100).getPromise()),v=!1}const B=c.reduce((M,F)=>{if(!F.done||F.error==null)return M;const H=F.error.code;return Bie.indexOf(H)>=0&&(M[H]||(M[H]={error:F.error,weight:0}),M[H].weight+=F.weight),M},{});if(Object.keys(B).forEach(M=>{const F=B[M];if(F.weight<this.quorum)return;c.forEach(Z=>{Z.staller&&Z.staller.cancel(),Z.cancelled=!0});const H=F.error,U={};Iie.forEach(Z=>{H[Z]!=null&&(U[Z]=H[Z])}),Pd.throwError(H.reason||H.message,M,U)}),c.filter(M=>!M.done).length===0)break}return c.forEach(E=>{E.staller&&E.staller.cancel(),E.cancelled=!0}),Pd.throwError("failed to meet quorum",pr.errors.SERVER_ERROR,{method:t,params:r,results:c.map(E=>xv(E)),provider:this})})}}const nI=null,Yv=new pr(va),dg="84842078b09946638c03157f83405213";class sI extends gA{constructor(t,r){const n=new p_(t,r),c=n.connection;c.password&&Yv.throwError("INFURA WebSocket project secrets unsupported",pr.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const p=c.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(p,t),li(this,"apiKey",n.projectId),li(this,"projectId",n.projectId),li(this,"projectSecret",n.projectSecret)}isCommunityResource(){return this.projectId===dg}}class p_ extends bc{static getWebSocketProvider(t,r){return new sI(t,r)}static getApiKey(t){const r={apiKey:dg,projectId:dg,projectSecret:null};return t==null||(typeof t=="string"?r.projectId=t:t.projectSecret!=null?(Yv.assertArgument(typeof t.projectId=="string","projectSecret requires a projectId","projectId",t.projectId),Yv.assertArgument(typeof t.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),r.projectId=t.projectId,r.projectSecret=t.projectSecret):t.projectId&&(r.projectId=t.projectId),r.apiKey=r.projectId),r}static getUrl(t,r){let n=null;switch(t?t.name:"unknown"){case"homestead":n="mainnet.infura.io";break;case"ropsten":n="ropsten.infura.io";break;case"rinkeby":n="rinkeby.infura.io";break;case"kovan":n="kovan.infura.io";break;case"goerli":n="goerli.infura.io";break;case"matic":n="polygon-mainnet.infura.io";break;case"maticmum":n="polygon-mumbai.infura.io";break;case"optimism":n="optimism-mainnet.infura.io";break;case"optimism-kovan":n="optimism-kovan.infura.io";break;case"arbitrum":n="arbitrum-mainnet.infura.io";break;case"arbitrum-rinkeby":n="arbitrum-rinkeby.infura.io";break;default:Yv.throwError("unsupported network",pr.errors.INVALID_ARGUMENT,{argument:"network",value:t})}const c={allowGzip:!0,url:"https://"+n+"/v3/"+r.projectId,throttleCallback:(p,y)=>(r.projectId===dg&&mb(),Promise.resolve(!0))};return r.projectSecret!=null&&(c.user="",c.password=r.projectSecret),c}isCommunityResource(){return this.projectId===dg}}class Fie extends i2{send(t,r){const n={method:t,params:r,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);const c={request:n,resolve:null,reject:null},p=new Promise((y,v)=>{c.resolve=y,c.reject=v});return this._pendingBatch.push(c),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const y=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const v=y.map(E=>E.request);return this.emit("debug",{action:"requestBatch",request:Xa(v),provider:this}),pb(this.connection,JSON.stringify(v)).then(E=>{this.emit("debug",{action:"response",request:v,response:E,provider:this}),y.forEach((_,k)=>{const R=E[k];if(R.error){const B=new Error(R.error.message);B.code=R.error.code,B.data=R.error.data,_.reject(B)}else _.resolve(R.result)})},E=>{this.emit("debug",{action:"response",error:E,request:v,provider:this}),y.forEach(_=>{_.reject(E)})})},10)),p}}const _5=new pr(va),Oie="ETHERS_JS_SHARED";class oI extends bc{static getApiKey(t){return t&&typeof t!="string"&&_5.throwArgumentError("invalid apiKey","apiKey",t),t||Oie}static getUrl(t,r){_5.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let n=null;switch(t.name){case"homestead":n="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":n="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":n="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":n="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":n="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:_5.throwArgumentError("unsupported network","network",arguments[0])}return n+"?apiKey="+r}}const oM=new pr(va),aM="62e1ad51b37b8e00394bda3b";class aI extends bc{static getApiKey(t){const r={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return t==null?r.applicationId=aM:typeof t=="string"?r.applicationId=t:t.applicationSecretKey!=null?(r.applicationId=t.applicationId,r.applicationSecretKey=t.applicationSecretKey):t.applicationId?r.applicationId=t.applicationId:oM.throwArgumentError("unsupported PocketProvider apiKey","apiKey",t),r}static getUrl(t,r){let n=null;switch(t?t.name:"unknown"){case"goerli":n="eth-goerli.gateway.pokt.network";break;case"homestead":n="eth-mainnet.gateway.pokt.network";break;case"kovan":n="poa-kovan.gateway.pokt.network";break;case"matic":n="poly-mainnet.gateway.pokt.network";break;case"maticmum":n="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":n="eth-rinkeby.gateway.pokt.network";break;case"ropsten":n="eth-ropsten.gateway.pokt.network";break;default:oM.throwError("unsupported network",pr.errors.INVALID_ARGUMENT,{argument:"network",value:t})}const c=`https://${n}/v1/lb/${r.applicationId}`,p={headers:{},url:c};return r.applicationSecretKey!=null&&(p.user="",p.password=r.applicationSecretKey),p}isCommunityResource(){return this.applicationId===aM}}const lM=new pr(va);let Hie=1;function fM(a,t){const r="Web3LegacyFetcher";return function(n,c){const p={method:n,params:c,id:Hie++,jsonrpc:"2.0"};return new Promise((y,v)=>{this.emit("debug",{action:"request",fetcher:r,request:Xa(p),provider:this}),t(p,(E,_)=>{if(E)return this.emit("debug",{action:"response",fetcher:r,error:E,request:p,provider:this}),v(E);if(this.emit("debug",{action:"response",fetcher:r,request:p,response:_,provider:this}),_.error){const k=new Error(_.error.message);return k.code=_.error.code,k.data=_.error.data,v(k)}y(_.result)})})}}function Uie(a){return function(t,r){r==null&&(r=[]);const n={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Xa(n),provider:this}),a.request(n).then(c=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:c,provider:this}),c),c=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:c,provider:this}),c})}}class m_ extends i2{constructor(t,r){t==null&&lM.throwArgumentError("missing provider","provider",t);let n=null,c=null,p=null;typeof t=="function"?(n="unknown:",c=t):(n=t.host||t.path||"",!n&&t.isMetaMask&&(n="metamask"),p=t,t.request?(n===""&&(n="eip-1193:"),c=Uie(t)):t.sendAsync?c=fM(t,t.sendAsync.bind(t)):t.send?c=fM(t,t.send.bind(t)):lM.throwArgumentError("unsupported provider","provider",t),n||(n="unknown:")),super(n,r),li(this,"jsonRpcFetchFunc",c),li(this,"provider",p)}send(t,r){return this.jsonRpcFetchFunc(t,r)}}const uM=new pr(va);function Vie(a,t){if(a==null&&(a="homestead"),typeof a=="string"){const n=a.match(/^(ws|http)s?:/i);if(n)switch(n[1].toLowerCase()){case"http":case"https":return new i2(a);case"ws":case"wss":return new gA(a);default:uM.throwArgumentError("unsupported URL scheme","network",a)}}const r=c_(a);return(!r||!r._defaultProvider)&&uM.throwError("unsupported getDefaultProvider network",pr.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:a}),r._defaultProvider({FallbackProvider:iI,AlchemyProvider:d_,AnkrProvider:eI,CloudflareProvider:tI,EtherscanProvider:rI,InfuraProvider:p_,JsonRpcProvider:i2,NodesmithProvider:oI,PocketProvider:aI,Web3Provider:m_,IpcProvider:nI},t)}var jie=Object.freeze(Object.defineProperty({__proto__:null,Provider:C1,BaseProvider:mA,Resolver:OE,UrlJsonRpcProvider:bc,FallbackProvider:iI,AlchemyProvider:d_,AlchemyWebSocketProvider:$B,AnkrProvider:eI,CloudflareProvider:tI,EtherscanProvider:rI,InfuraProvider:p_,InfuraWebSocketProvider:sI,JsonRpcProvider:i2,JsonRpcBatchProvider:Fie,NodesmithProvider:oI,PocketProvider:aI,StaticJsonRpcProvider:KB,Web3Provider:m_,WebSocketProvider:gA,IpcProvider:nI,JsonRpcSigner:h_,getDefaultProvider:Vie,getNetwork:c_,isCommunityResource:FE,isCommunityResourcable:XB,showThrottleMessage:mb,Formatter:Ki},Symbol.toStringTag,{value:"Module"}));const Gie="units/5.7.0",zie=new pr(Gie),Wie=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Qie(a,t){if(typeof a!="string"&&zie.throwArgumentError("value must be a string","value",a),typeof t=="string"){const r=Wie.indexOf(t);r!==-1&&(t=3*r)}return su(a,t!=null?t:18)}function Jie(a){return Qie(a,18)}const Xie="hh-sol-artifact-1",qie="RoomMaker",Zie="contracts/RoomMaker.sol",Yie=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPerWallet",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"mintPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"metadataURI",type:"string"}],name:"mintToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"maxPerWallet_",type:"uint256"}],name:"setMaxPerWallet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"mintPrice_",type:"uint256"}],name:"setMintPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],Kie="0x60806040523480156200001157600080fd5b506040518060400160405280600981526020017f526f6f6d4d616b657200000000000000000000000000000000000000000000008152506040518060400160405280600481526020017f524d4b5200000000000000000000000000000000000000000000000000000000815250816000908051906020019062000096929190620001d7565b508060019080519060200190620000af929190620001d7565b5050506000600760006101000a81548160ff021916908315150217905550620000ed620000e16200010960201b60201c565b6200011160201b60201c565b662386f26fc100006008819055506005600981905550620002ec565b600033905090565b6000600760019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600760016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b828054620001e590620002b6565b90600052602060002090601f01602090048101928262000209576000855562000255565b82601f106200022457805160ff191683800117855562000255565b8280016001018555821562000255579182015b828111156200025457825182559160200191906001019062000237565b5b50905062000264919062000268565b5090565b5b808211156200028357600081600090555060010162000269565b5090565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680620002cf57607f821691505b60208210811415620002e657620002e562000287565b5b50919050565b6137dd80620002fc6000396000f3fe6080604052600436106101c25760003560e01c806370a08231116100f7578063b88d4fde11610095578063e985e9c511610064578063e985e9c51461060d578063f2fde38b1461064a578063f4a0a52814610673578063f8b2cb4f1461069c576101c2565b8063b88d4fde14610541578063c41a360a1461056a578063c87b56dd146105a7578063e268e4d3146105e4576101c2565b80638da5cb5b116100d15780638da5cb5b1461049757806395d89b41146104c2578063a22cb465146104ed578063a87d942c14610516576101c2565b806370a082311461042c578063715018a6146104695780638456cb5914610480576101c2565b80633f4ba83a11610164578063453c23101161013e578063453c23101461036e5780635c975abb146103995780636352211e146103c45780636817c76c14610401576101c2565b80633f4ba83a1461030557806342842e0e1461031c57806342966c6814610345576101c2565b8063095ea7b3116101a0578063095ea7b31461026c57806323b872dd1461029557806333eba49a146102be5780633ccfd60b146102ee576101c2565b806301ffc9a7146101c757806306fdde0314610204578063081812fc1461022f575b600080fd5b3480156101d357600080fd5b506101ee60048036038101906101e99190612460565b6106d9565b6040516101fb91906124a8565b60405180910390f35b34801561021057600080fd5b506102196107bb565b604051610226919061255c565b60405180910390f35b34801561023b57600080fd5b50610256600480360381019061025191906125b4565b61084d565b6040516102639190612622565b60405180910390f35b34801561027857600080fd5b50610293600480360381019061028e9190612669565b610893565b005b3480156102a157600080fd5b506102bc60048036038101906102b791906126a9565b6109ab565b005b6102d860048036038101906102d39190612831565b610a0b565b6040516102e59190612889565b60405180910390f35b3480156102fa57600080fd5b50610303610ae1565b005b34801561031157600080fd5b5061031a610b9f565b005b34801561032857600080fd5b50610343600480360381019061033e91906126a9565b610bb1565b005b34801561035157600080fd5b5061036c600480360381019061036791906125b4565b610bd1565b005b34801561037a57600080fd5b50610383610c2d565b6040516103909190612889565b60405180910390f35b3480156103a557600080fd5b506103ae610c33565b6040516103bb91906124a8565b60405180910390f35b3480156103d057600080fd5b506103eb60048036038101906103e691906125b4565b610c4a565b6040516103f89190612622565b60405180910390f35b34801561040d57600080fd5b50610416610cfc565b6040516104239190612889565b60405180910390f35b34801561043857600080fd5b50610453600480360381019061044e91906128a4565b610d02565b6040516104609190612889565b60405180910390f35b34801561047557600080fd5b5061047e610dba565b005b34801561048c57600080fd5b50610495610dce565b005b3480156104a357600080fd5b506104ac610de0565b6040516104b99190612622565b60405180910390f35b3480156104ce57600080fd5b506104d7610e0a565b6040516104e4919061255c565b60405180910390f35b3480156104f957600080fd5b50610514600480360381019061050f91906128fd565b610e9c565b005b34801561052257600080fd5b5061052b610eb2565b6040516105389190612889565b60405180910390f35b34801561054d57600080fd5b50610568600480360381019061056391906129de565b610ec3565b005b34801561057657600080fd5b50610591600480360381019061058c91906125b4565b610f25565b60405161059e9190612622565b60405180910390f35b3480156105b357600080fd5b506105ce60048036038101906105c991906125b4565b610f37565b6040516105db919061255c565b60405180910390f35b3480156105f057600080fd5b5061060b600480360381019061060691906125b4565b610f49565b005b34801561061957600080fd5b50610634600480360381019061062f9190612a61565b610f5b565b60405161064191906124a8565b60405180910390f35b34801561065657600080fd5b50610671600480360381019061066c91906128a4565b610fef565b005b34801561067f57600080fd5b5061069a600480360381019061069591906125b4565b611073565b005b3480156106a857600080fd5b506106c360048036038101906106be91906128a4565b611085565b6040516106d09190612889565b60405180910390f35b60007f80ac58cd000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614806107a457507f5b5e139f000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b806107b457506107b382611097565b5b9050919050565b6060600080546107ca90612ad0565b80601f01602080910402602001604051908101604052809291908181526020018280546107f690612ad0565b80156108435780601f1061081857610100808354040283529160200191610843565b820191906000526020600020905b81548152906001019060200180831161082657829003601f168201915b5050505050905090565b600061085882611101565b6004600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b600061089e82610c4a565b90508073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16141561090f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161090690612b74565b60405180910390fd5b8073ffffffffffffffffffffffffffffffffffffffff1661092e61114c565b73ffffffffffffffffffffffffffffffffffffffff16148061095d575061095c8161095761114c565b610f5b565b5b61099c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161099390612c06565b60405180910390fd5b6109a68383611154565b505050565b6109bc6109b661114c565b8261120d565b6109fb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109f290612c98565b60405180910390fd5b610a068383836112a2565b505050565b6000610a15611509565b6000339050600854341015610a5f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a5690612d04565b60405180910390fd5b600954610a6b82610d02565b10610aab576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610aa290612d70565b60405180910390fd5b6000610ab7600a611553565b9050610ac3600a611561565b610acd8282611577565b610ad78185611595565b8092505050919050565b610ae9611609565b6000610af3610de0565b73ffffffffffffffffffffffffffffffffffffffff1647604051610b1690612dc1565b60006040518083038185875af1925050503d8060008114610b53576040519150601f19603f3d011682016040523d82523d6000602084013e610b58565b606091505b5050905080610b9c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b9390612e22565b60405180910390fd5b50565b610ba7611609565b610baf611687565b565b610bcc83838360405180602001604052806000815250610ec3565b505050565b610be2610bdc61114c565b8261120d565b610c21576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c1890612c98565b60405180910390fd5b610c2a816116ea565b50565b60095481565b6000600760009054906101000a900460ff16905090565b6000806002600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415610cf3576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610cea90612e8e565b60405180910390fd5b80915050919050565b60085481565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610d73576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d6a90612f20565b60405180910390fd5b600360008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b610dc2611609565b610dcc60006116f6565b565b610dd6611609565b610dde6117bc565b565b6000600760019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b606060018054610e1990612ad0565b80601f0160208091040260200160405190810160405280929190818152602001828054610e4590612ad0565b8015610e925780601f10610e6757610100808354040283529160200191610e92565b820191906000526020600020905b815481529060010190602001808311610e7557829003601f168201915b5050505050905090565b610eae610ea761114c565b838361181f565b5050565b6000610ebe600a611553565b905090565b610ed4610ece61114c565b8361120d565b610f13576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f0a90612c98565b60405180910390fd5b610f1f8484848461198c565b50505050565b6000610f3082610c4a565b9050919050565b6060610f42826119e8565b9050919050565b610f51611609565b8060098190555050565b6000600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b610ff7611609565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415611067576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161105e90612fb2565b60405180910390fd5b611070816116f6565b50565b61107b611609565b8060088190555050565b600061109082610d02565b9050919050565b60007f01ffc9a7000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149050919050565b61110a81611afb565b611149576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161114090612e8e565b60405180910390fd5b50565b600033905090565b816004600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff166111c783610c4a565b73ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45050565b60008061121983610c4a565b90508073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16148061125b575061125a8185610f5b565b5b8061129957508373ffffffffffffffffffffffffffffffffffffffff166112818461084d565b73ffffffffffffffffffffffffffffffffffffffff16145b91505092915050565b8273ffffffffffffffffffffffffffffffffffffffff166112c282610c4a565b73ffffffffffffffffffffffffffffffffffffffff1614611318576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161130f90613044565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611388576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161137f906130d6565b60405180910390fd5b611393838383611b67565b61139e600082611154565b6001600360008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546113ee9190613125565b925050819055506001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546114459190613159565b92505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4611504838383611b7f565b505050565b611511610c33565b15611551576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611548906131fb565b60405180910390fd5b565b600081600001549050919050565b6001816000016000828254019250508190555050565b611591828260405180602001604052806000815250611b84565b5050565b61159e82611afb565b6115dd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016115d49061328d565b60405180910390fd5b80600660008481526020019081526020016000209080519060200190611604929190612311565b505050565b61161161114c565b73ffffffffffffffffffffffffffffffffffffffff1661162f610de0565b73ffffffffffffffffffffffffffffffffffffffff1614611685576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161167c906132f9565b60405180910390fd5b565b61168f611bdf565b6000600760006101000a81548160ff0219169083151502179055507f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa6116d361114c565b6040516116e09190612622565b60405180910390a1565b6116f381611c28565b50565b6000600760019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600760016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b6117c4611509565b6001600760006101000a81548160ff0219169083151502179055507f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a25861180861114c565b6040516118159190612622565b60405180910390a1565b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16141561188e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161188590613365565b60405180910390fd5b80600560008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c318360405161197f91906124a8565b60405180910390a3505050565b6119978484846112a2565b6119a384848484611c7b565b6119e2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016119d9906133f7565b60405180910390fd5b50505050565b60606119f382611101565b6000600660008481526020019081526020016000208054611a1390612ad0565b80601f0160208091040260200160405190810160405280929190818152602001828054611a3f90612ad0565b8015611a8c5780601f10611a6157610100808354040283529160200191611a8c565b820191906000526020600020905b815481529060010190602001808311611a6f57829003601f168201915b505050505090506000611a9d611e12565b9050600081511415611ab3578192505050611af6565b600082511115611ae8578082604051602001611ad0929190613453565b60405160208183030381529060405292505050611af6565b611af184611e29565b925050505b919050565b60008073ffffffffffffffffffffffffffffffffffffffff166002600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614159050919050565b611b6f611509565b611b7a838383611e91565b505050565b505050565b611b8e8383611e96565b611b9b6000848484611c7b565b611bda576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611bd1906133f7565b60405180910390fd5b505050565b611be7610c33565b611c26576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611c1d906134c3565b60405180910390fd5b565b611c3181612070565b6000600660008381526020019081526020016000208054611c5190612ad0565b905014611c7857600660008281526020019081526020016000206000611c779190612397565b5b50565b6000611c9c8473ffffffffffffffffffffffffffffffffffffffff1661218d565b15611e05578373ffffffffffffffffffffffffffffffffffffffff1663150b7a02611cc561114c565b8786866040518563ffffffff1660e01b8152600401611ce79493929190613538565b602060405180830381600087803b158015611d0157600080fd5b505af1925050508015611d3257506040513d601f19601f82011682018060405250810190611d2f9190613599565b60015b611db5573d8060008114611d62576040519150601f19603f3d011682016040523d82523d6000602084013e611d67565b606091505b50600081511415611dad576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611da4906133f7565b60405180910390fd5b805181602001fd5b63150b7a0260e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614915050611e0a565b600190505b949350505050565b606060405180602001604052806000815250905090565b6060611e3482611101565b6000611e3e611e12565b90506000815111611e5e5760405180602001604052806000815250611e89565b80611e68846121b0565b604051602001611e79929190613453565b6040516020818303038152906040525b915050919050565b505050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611f06576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611efd90613612565b60405180910390fd5b611f0f81611afb565b15611f4f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611f469061367e565b60405180910390fd5b611f5b60008383611b67565b6001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254611fab9190613159565b92505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a461206c60008383611b7f565b5050565b600061207b82610c4a565b905061208981600084611b67565b612094600083611154565b6001600360008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546120e49190613125565b925050819055506002600083815260200190815260200160002060006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905581600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a461218981600084611b7f565b5050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b606060008214156121f8576040518060400160405280600181526020017f3000000000000000000000000000000000000000000000000000000000000000815250905061230c565b600082905060005b6000821461222a5780806122139061369e565b915050600a826122239190613716565b9150612200565b60008167ffffffffffffffff81111561224657612245612706565b5b6040519080825280601f01601f1916602001820160405280156122785781602001600182028036833780820191505090505b5090505b60008514612305576001826122919190613125565b9150600a856122a09190613747565b60306122ac9190613159565b60f81b8183815181106122c2576122c1613778565b5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600a856122fe9190613716565b945061227c565b8093505050505b919050565b82805461231d90612ad0565b90600052602060002090601f01602090048101928261233f5760008555612386565b82601f1061235857805160ff1916838001178555612386565b82800160010185558215612386579182015b8281111561238557825182559160200191906001019061236a565b5b50905061239391906123d7565b5090565b5080546123a390612ad0565b6000825580601f106123b557506123d4565b601f0160209004906000526020600020908101906123d391906123d7565b5b50565b5b808211156123f05760008160009055506001016123d8565b5090565b6000604051905090565b600080fd5b600080fd5b60007fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b61243d81612408565b811461244857600080fd5b50565b60008135905061245a81612434565b92915050565b600060208284031215612476576124756123fe565b5b60006124848482850161244b565b91505092915050565b60008115159050919050565b6124a28161248d565b82525050565b60006020820190506124bd6000830184612499565b92915050565b600081519050919050565b600082825260208201905092915050565b60005b838110156124fd5780820151818401526020810190506124e2565b8381111561250c576000848401525b50505050565b6000601f19601f8301169050919050565b600061252e826124c3565b61253881856124ce565b93506125488185602086016124df565b61255181612512565b840191505092915050565b600060208201905081810360008301526125768184612523565b905092915050565b6000819050919050565b6125918161257e565b811461259c57600080fd5b50565b6000813590506125ae81612588565b92915050565b6000602082840312156125ca576125c96123fe565b5b60006125d88482850161259f565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061260c826125e1565b9050919050565b61261c81612601565b82525050565b60006020820190506126376000830184612613565b92915050565b61264681612601565b811461265157600080fd5b50565b6000813590506126638161263d565b92915050565b600080604083850312156126805761267f6123fe565b5b600061268e85828601612654565b925050602061269f8582860161259f565b9150509250929050565b6000806000606084860312156126c2576126c16123fe565b5b60006126d086828701612654565b93505060206126e186828701612654565b92505060406126f28682870161259f565b9150509250925092565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61273e82612512565b810181811067ffffffffffffffff8211171561275d5761275c612706565b5b80604052505050565b60006127706123f4565b905061277c8282612735565b919050565b600067ffffffffffffffff82111561279c5761279b612706565b5b6127a582612512565b9050602081019050919050565b82818337600083830152505050565b60006127d46127cf84612781565b612766565b9050828152602081018484840111156127f0576127ef612701565b5b6127fb8482856127b2565b509392505050565b600082601f830112612818576128176126fc565b5b81356128288482602086016127c1565b91505092915050565b600060208284031215612847576128466123fe565b5b600082013567ffffffffffffffff81111561286557612864612403565b5b61287184828501612803565b91505092915050565b6128838161257e565b82525050565b600060208201905061289e600083018461287a565b92915050565b6000602082840312156128ba576128b96123fe565b5b60006128c884828501612654565b91505092915050565b6128da8161248d565b81146128e557600080fd5b50565b6000813590506128f7816128d1565b92915050565b60008060408385031215612914576129136123fe565b5b600061292285828601612654565b9250506020612933858286016128e8565b9150509250929050565b600067ffffffffffffffff82111561295857612957612706565b5b61296182612512565b9050602081019050919050565b600061298161297c8461293d565b612766565b90508281526020810184848401111561299d5761299c612701565b5b6129a88482856127b2565b509392505050565b600082601f8301126129c5576129c46126fc565b5b81356129d584826020860161296e565b91505092915050565b600080600080608085870312156129f8576129f76123fe565b5b6000612a0687828801612654565b9450506020612a1787828801612654565b9350506040612a288782880161259f565b925050606085013567ffffffffffffffff811115612a4957612a48612403565b5b612a55878288016129b0565b91505092959194509250565b60008060408385031215612a7857612a776123fe565b5b6000612a8685828601612654565b9250506020612a9785828601612654565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680612ae857607f821691505b60208210811415612afc57612afb612aa1565b5b50919050565b7f4552433732313a20617070726f76616c20746f2063757272656e74206f776e6560008201527f7200000000000000000000000000000000000000000000000000000000000000602082015250565b6000612b5e6021836124ce565b9150612b6982612b02565b604082019050919050565b60006020820190508181036000830152612b8d81612b51565b9050919050565b7f4552433732313a20617070726f76652063616c6c6572206973206e6f7420746f60008201527f6b656e206f776e6572206e6f7220617070726f76656420666f7220616c6c0000602082015250565b6000612bf0603e836124ce565b9150612bfb82612b94565b604082019050919050565b60006020820190508181036000830152612c1f81612be3565b9050919050565b7f4552433732313a2063616c6c6572206973206e6f7420746f6b656e206f776e6560008201527f72206e6f7220617070726f766564000000000000000000000000000000000000602082015250565b6000612c82602e836124ce565b9150612c8d82612c26565b604082019050919050565b60006020820190508181036000830152612cb181612c75565b9050919050565b7f496e636f7272656374206d696e742076616c7565000000000000000000000000600082015250565b6000612cee6014836124ce565b9150612cf982612cb8565b602082019050919050565b60006020820190508181036000830152612d1d81612ce1565b9050919050565b7f4d6178696d756d206d696e747320726561636865640000000000000000000000600082015250565b6000612d5a6015836124ce565b9150612d6582612d24565b602082019050919050565b60006020820190508181036000830152612d8981612d4d565b9050919050565b600081905092915050565b50565b6000612dab600083612d90565b9150612db682612d9b565b600082019050919050565b6000612dcc82612d9e565b9150819050919050565b7f5769746864726177206661696c65640000000000000000000000000000000000600082015250565b6000612e0c600f836124ce565b9150612e1782612dd6565b602082019050919050565b60006020820190508181036000830152612e3b81612dff565b9050919050565b7f4552433732313a20696e76616c696420746f6b656e2049440000000000000000600082015250565b6000612e786018836124ce565b9150612e8382612e42565b602082019050919050565b60006020820190508181036000830152612ea781612e6b565b9050919050565b7f4552433732313a2061646472657373207a65726f206973206e6f74206120766160008201527f6c6964206f776e65720000000000000000000000000000000000000000000000602082015250565b6000612f0a6029836124ce565b9150612f1582612eae565b604082019050919050565b60006020820190508181036000830152612f3981612efd565b9050919050565b7f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160008201527f6464726573730000000000000000000000000000000000000000000000000000602082015250565b6000612f9c6026836124ce565b9150612fa782612f40565b604082019050919050565b60006020820190508181036000830152612fcb81612f8f565b9050919050565b7f4552433732313a207472616e736665722066726f6d20696e636f72726563742060008201527f6f776e6572000000000000000000000000000000000000000000000000000000602082015250565b600061302e6025836124ce565b915061303982612fd2565b604082019050919050565b6000602082019050818103600083015261305d81613021565b9050919050565b7f4552433732313a207472616e7366657220746f20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b60006130c06024836124ce565b91506130cb82613064565b604082019050919050565b600060208201905081810360008301526130ef816130b3565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60006131308261257e565b915061313b8361257e565b92508282101561314e5761314d6130f6565b5b828203905092915050565b60006131648261257e565b915061316f8361257e565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff038211156131a4576131a36130f6565b5b828201905092915050565b7f5061757361626c653a2070617573656400000000000000000000000000000000600082015250565b60006131e56010836124ce565b91506131f0826131af565b602082019050919050565b60006020820190508181036000830152613214816131d8565b9050919050565b7f45524337323155524953746f726167653a2055524920736574206f66206e6f6e60008201527f6578697374656e7420746f6b656e000000000000000000000000000000000000602082015250565b6000613277602e836124ce565b91506132828261321b565b604082019050919050565b600060208201905081810360008301526132a68161326a565b9050919050565b7f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572600082015250565b60006132e36020836124ce565b91506132ee826132ad565b602082019050919050565b60006020820190508181036000830152613312816132d6565b9050919050565b7f4552433732313a20617070726f766520746f2063616c6c657200000000000000600082015250565b600061334f6019836124ce565b915061335a82613319565b602082019050919050565b6000602082019050818103600083015261337e81613342565b9050919050565b7f4552433732313a207472616e7366657220746f206e6f6e20455243373231526560008201527f63656976657220696d706c656d656e7465720000000000000000000000000000602082015250565b60006133e16032836124ce565b91506133ec82613385565b604082019050919050565b60006020820190508181036000830152613410816133d4565b9050919050565b600081905092915050565b600061342d826124c3565b6134378185613417565b93506134478185602086016124df565b80840191505092915050565b600061345f8285613422565b915061346b8284613422565b91508190509392505050565b7f5061757361626c653a206e6f7420706175736564000000000000000000000000600082015250565b60006134ad6014836124ce565b91506134b882613477565b602082019050919050565b600060208201905081810360008301526134dc816134a0565b9050919050565b600081519050919050565b600082825260208201905092915050565b600061350a826134e3565b61351481856134ee565b93506135248185602086016124df565b61352d81612512565b840191505092915050565b600060808201905061354d6000830187612613565b61355a6020830186612613565b613567604083018561287a565b818103606083015261357981846134ff565b905095945050505050565b60008151905061359381612434565b92915050565b6000602082840312156135af576135ae6123fe565b5b60006135bd84828501613584565b91505092915050565b7f4552433732313a206d696e7420746f20746865207a65726f2061646472657373600082015250565b60006135fc6020836124ce565b9150613607826135c6565b602082019050919050565b6000602082019050818103600083015261362b816135ef565b9050919050565b7f4552433732313a20746f6b656e20616c7265616479206d696e74656400000000600082015250565b6000613668601c836124ce565b915061367382613632565b602082019050919050565b600060208201905081810360008301526136978161365b565b9050919050565b60006136a98261257e565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8214156136dc576136db6130f6565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b60006137218261257e565b915061372c8361257e565b92508261373c5761373b6136e7565b5b828204905092915050565b60006137528261257e565b915061375d8361257e565b92508261376d5761376c6136e7565b5b828206905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fdfea2646970667358221220fdaca120900fd02c030e577556041b44e9105a3788a0e31d2889b1b4c1e8b87d64736f6c63430008090033",$ie="0x6080604052600436106101c25760003560e01c806370a08231116100f7578063b88d4fde11610095578063e985e9c511610064578063e985e9c51461060d578063f2fde38b1461064a578063f4a0a52814610673578063f8b2cb4f1461069c576101c2565b8063b88d4fde14610541578063c41a360a1461056a578063c87b56dd146105a7578063e268e4d3146105e4576101c2565b80638da5cb5b116100d15780638da5cb5b1461049757806395d89b41146104c2578063a22cb465146104ed578063a87d942c14610516576101c2565b806370a082311461042c578063715018a6146104695780638456cb5914610480576101c2565b80633f4ba83a11610164578063453c23101161013e578063453c23101461036e5780635c975abb146103995780636352211e146103c45780636817c76c14610401576101c2565b80633f4ba83a1461030557806342842e0e1461031c57806342966c6814610345576101c2565b8063095ea7b3116101a0578063095ea7b31461026c57806323b872dd1461029557806333eba49a146102be5780633ccfd60b146102ee576101c2565b806301ffc9a7146101c757806306fdde0314610204578063081812fc1461022f575b600080fd5b3480156101d357600080fd5b506101ee60048036038101906101e99190612460565b6106d9565b6040516101fb91906124a8565b60405180910390f35b34801561021057600080fd5b506102196107bb565b604051610226919061255c565b60405180910390f35b34801561023b57600080fd5b50610256600480360381019061025191906125b4565b61084d565b6040516102639190612622565b60405180910390f35b34801561027857600080fd5b50610293600480360381019061028e9190612669565b610893565b005b3480156102a157600080fd5b506102bc60048036038101906102b791906126a9565b6109ab565b005b6102d860048036038101906102d39190612831565b610a0b565b6040516102e59190612889565b60405180910390f35b3480156102fa57600080fd5b50610303610ae1565b005b34801561031157600080fd5b5061031a610b9f565b005b34801561032857600080fd5b50610343600480360381019061033e91906126a9565b610bb1565b005b34801561035157600080fd5b5061036c600480360381019061036791906125b4565b610bd1565b005b34801561037a57600080fd5b50610383610c2d565b6040516103909190612889565b60405180910390f35b3480156103a557600080fd5b506103ae610c33565b6040516103bb91906124a8565b60405180910390f35b3480156103d057600080fd5b506103eb60048036038101906103e691906125b4565b610c4a565b6040516103f89190612622565b60405180910390f35b34801561040d57600080fd5b50610416610cfc565b6040516104239190612889565b60405180910390f35b34801561043857600080fd5b50610453600480360381019061044e91906128a4565b610d02565b6040516104609190612889565b60405180910390f35b34801561047557600080fd5b5061047e610dba565b005b34801561048c57600080fd5b50610495610dce565b005b3480156104a357600080fd5b506104ac610de0565b6040516104b99190612622565b60405180910390f35b3480156104ce57600080fd5b506104d7610e0a565b6040516104e4919061255c565b60405180910390f35b3480156104f957600080fd5b50610514600480360381019061050f91906128fd565b610e9c565b005b34801561052257600080fd5b5061052b610eb2565b6040516105389190612889565b60405180910390f35b34801561054d57600080fd5b50610568600480360381019061056391906129de565b610ec3565b005b34801561057657600080fd5b50610591600480360381019061058c91906125b4565b610f25565b60405161059e9190612622565b60405180910390f35b3480156105b357600080fd5b506105ce60048036038101906105c991906125b4565b610f37565b6040516105db919061255c565b60405180910390f35b3480156105f057600080fd5b5061060b600480360381019061060691906125b4565b610f49565b005b34801561061957600080fd5b50610634600480360381019061062f9190612a61565b610f5b565b60405161064191906124a8565b60405180910390f35b34801561065657600080fd5b50610671600480360381019061066c91906128a4565b610fef565b005b34801561067f57600080fd5b5061069a600480360381019061069591906125b4565b611073565b005b3480156106a857600080fd5b506106c360048036038101906106be91906128a4565b611085565b6040516106d09190612889565b60405180910390f35b60007f80ac58cd000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614806107a457507f5b5e139f000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b806107b457506107b382611097565b5b9050919050565b6060600080546107ca90612ad0565b80601f01602080910402602001604051908101604052809291908181526020018280546107f690612ad0565b80156108435780601f1061081857610100808354040283529160200191610843565b820191906000526020600020905b81548152906001019060200180831161082657829003601f168201915b5050505050905090565b600061085882611101565b6004600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b600061089e82610c4a565b90508073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16141561090f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161090690612b74565b60405180910390fd5b8073ffffffffffffffffffffffffffffffffffffffff1661092e61114c565b73ffffffffffffffffffffffffffffffffffffffff16148061095d575061095c8161095761114c565b610f5b565b5b61099c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161099390612c06565b60405180910390fd5b6109a68383611154565b505050565b6109bc6109b661114c565b8261120d565b6109fb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109f290612c98565b60405180910390fd5b610a068383836112a2565b505050565b6000610a15611509565b6000339050600854341015610a5f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a5690612d04565b60405180910390fd5b600954610a6b82610d02565b10610aab576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610aa290612d70565b60405180910390fd5b6000610ab7600a611553565b9050610ac3600a611561565b610acd8282611577565b610ad78185611595565b8092505050919050565b610ae9611609565b6000610af3610de0565b73ffffffffffffffffffffffffffffffffffffffff1647604051610b1690612dc1565b60006040518083038185875af1925050503d8060008114610b53576040519150601f19603f3d011682016040523d82523d6000602084013e610b58565b606091505b5050905080610b9c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b9390612e22565b60405180910390fd5b50565b610ba7611609565b610baf611687565b565b610bcc83838360405180602001604052806000815250610ec3565b505050565b610be2610bdc61114c565b8261120d565b610c21576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c1890612c98565b60405180910390fd5b610c2a816116ea565b50565b60095481565b6000600760009054906101000a900460ff16905090565b6000806002600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415610cf3576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610cea90612e8e565b60405180910390fd5b80915050919050565b60085481565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610d73576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d6a90612f20565b60405180910390fd5b600360008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b610dc2611609565b610dcc60006116f6565b565b610dd6611609565b610dde6117bc565b565b6000600760019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b606060018054610e1990612ad0565b80601f0160208091040260200160405190810160405280929190818152602001828054610e4590612ad0565b8015610e925780601f10610e6757610100808354040283529160200191610e92565b820191906000526020600020905b815481529060010190602001808311610e7557829003601f168201915b5050505050905090565b610eae610ea761114c565b838361181f565b5050565b6000610ebe600a611553565b905090565b610ed4610ece61114c565b8361120d565b610f13576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f0a90612c98565b60405180910390fd5b610f1f8484848461198c565b50505050565b6000610f3082610c4a565b9050919050565b6060610f42826119e8565b9050919050565b610f51611609565b8060098190555050565b6000600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b610ff7611609565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415611067576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161105e90612fb2565b60405180910390fd5b611070816116f6565b50565b61107b611609565b8060088190555050565b600061109082610d02565b9050919050565b60007f01ffc9a7000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149050919050565b61110a81611afb565b611149576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161114090612e8e565b60405180910390fd5b50565b600033905090565b816004600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff166111c783610c4a565b73ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45050565b60008061121983610c4a565b90508073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16148061125b575061125a8185610f5b565b5b8061129957508373ffffffffffffffffffffffffffffffffffffffff166112818461084d565b73ffffffffffffffffffffffffffffffffffffffff16145b91505092915050565b8273ffffffffffffffffffffffffffffffffffffffff166112c282610c4a565b73ffffffffffffffffffffffffffffffffffffffff1614611318576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161130f90613044565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611388576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161137f906130d6565b60405180910390fd5b611393838383611b67565b61139e600082611154565b6001600360008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546113ee9190613125565b925050819055506001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546114459190613159565b92505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4611504838383611b7f565b505050565b611511610c33565b15611551576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611548906131fb565b60405180910390fd5b565b600081600001549050919050565b6001816000016000828254019250508190555050565b611591828260405180602001604052806000815250611b84565b5050565b61159e82611afb565b6115dd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016115d49061328d565b60405180910390fd5b80600660008481526020019081526020016000209080519060200190611604929190612311565b505050565b61161161114c565b73ffffffffffffffffffffffffffffffffffffffff1661162f610de0565b73ffffffffffffffffffffffffffffffffffffffff1614611685576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161167c906132f9565b60405180910390fd5b565b61168f611bdf565b6000600760006101000a81548160ff0219169083151502179055507f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa6116d361114c565b6040516116e09190612622565b60405180910390a1565b6116f381611c28565b50565b6000600760019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600760016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b6117c4611509565b6001600760006101000a81548160ff0219169083151502179055507f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a25861180861114c565b6040516118159190612622565b60405180910390a1565b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16141561188e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161188590613365565b60405180910390fd5b80600560008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c318360405161197f91906124a8565b60405180910390a3505050565b6119978484846112a2565b6119a384848484611c7b565b6119e2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016119d9906133f7565b60405180910390fd5b50505050565b60606119f382611101565b6000600660008481526020019081526020016000208054611a1390612ad0565b80601f0160208091040260200160405190810160405280929190818152602001828054611a3f90612ad0565b8015611a8c5780601f10611a6157610100808354040283529160200191611a8c565b820191906000526020600020905b815481529060010190602001808311611a6f57829003601f168201915b505050505090506000611a9d611e12565b9050600081511415611ab3578192505050611af6565b600082511115611ae8578082604051602001611ad0929190613453565b60405160208183030381529060405292505050611af6565b611af184611e29565b925050505b919050565b60008073ffffffffffffffffffffffffffffffffffffffff166002600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614159050919050565b611b6f611509565b611b7a838383611e91565b505050565b505050565b611b8e8383611e96565b611b9b6000848484611c7b565b611bda576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611bd1906133f7565b60405180910390fd5b505050565b611be7610c33565b611c26576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611c1d906134c3565b60405180910390fd5b565b611c3181612070565b6000600660008381526020019081526020016000208054611c5190612ad0565b905014611c7857600660008281526020019081526020016000206000611c779190612397565b5b50565b6000611c9c8473ffffffffffffffffffffffffffffffffffffffff1661218d565b15611e05578373ffffffffffffffffffffffffffffffffffffffff1663150b7a02611cc561114c565b8786866040518563ffffffff1660e01b8152600401611ce79493929190613538565b602060405180830381600087803b158015611d0157600080fd5b505af1925050508015611d3257506040513d601f19601f82011682018060405250810190611d2f9190613599565b60015b611db5573d8060008114611d62576040519150601f19603f3d011682016040523d82523d6000602084013e611d67565b606091505b50600081511415611dad576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611da4906133f7565b60405180910390fd5b805181602001fd5b63150b7a0260e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614915050611e0a565b600190505b949350505050565b606060405180602001604052806000815250905090565b6060611e3482611101565b6000611e3e611e12565b90506000815111611e5e5760405180602001604052806000815250611e89565b80611e68846121b0565b604051602001611e79929190613453565b6040516020818303038152906040525b915050919050565b505050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611f06576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611efd90613612565b60405180910390fd5b611f0f81611afb565b15611f4f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611f469061367e565b60405180910390fd5b611f5b60008383611b67565b6001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254611fab9190613159565b92505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a461206c60008383611b7f565b5050565b600061207b82610c4a565b905061208981600084611b67565b612094600083611154565b6001600360008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546120e49190613125565b925050819055506002600083815260200190815260200160002060006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905581600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a461218981600084611b7f565b5050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b606060008214156121f8576040518060400160405280600181526020017f3000000000000000000000000000000000000000000000000000000000000000815250905061230c565b600082905060005b6000821461222a5780806122139061369e565b915050600a826122239190613716565b9150612200565b60008167ffffffffffffffff81111561224657612245612706565b5b6040519080825280601f01601f1916602001820160405280156122785781602001600182028036833780820191505090505b5090505b60008514612305576001826122919190613125565b9150600a856122a09190613747565b60306122ac9190613159565b60f81b8183815181106122c2576122c1613778565b5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600a856122fe9190613716565b945061227c565b8093505050505b919050565b82805461231d90612ad0565b90600052602060002090601f01602090048101928261233f5760008555612386565b82601f1061235857805160ff1916838001178555612386565b82800160010185558215612386579182015b8281111561238557825182559160200191906001019061236a565b5b50905061239391906123d7565b5090565b5080546123a390612ad0565b6000825580601f106123b557506123d4565b601f0160209004906000526020600020908101906123d391906123d7565b5b50565b5b808211156123f05760008160009055506001016123d8565b5090565b6000604051905090565b600080fd5b600080fd5b60007fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b61243d81612408565b811461244857600080fd5b50565b60008135905061245a81612434565b92915050565b600060208284031215612476576124756123fe565b5b60006124848482850161244b565b91505092915050565b60008115159050919050565b6124a28161248d565b82525050565b60006020820190506124bd6000830184612499565b92915050565b600081519050919050565b600082825260208201905092915050565b60005b838110156124fd5780820151818401526020810190506124e2565b8381111561250c576000848401525b50505050565b6000601f19601f8301169050919050565b600061252e826124c3565b61253881856124ce565b93506125488185602086016124df565b61255181612512565b840191505092915050565b600060208201905081810360008301526125768184612523565b905092915050565b6000819050919050565b6125918161257e565b811461259c57600080fd5b50565b6000813590506125ae81612588565b92915050565b6000602082840312156125ca576125c96123fe565b5b60006125d88482850161259f565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061260c826125e1565b9050919050565b61261c81612601565b82525050565b60006020820190506126376000830184612613565b92915050565b61264681612601565b811461265157600080fd5b50565b6000813590506126638161263d565b92915050565b600080604083850312156126805761267f6123fe565b5b600061268e85828601612654565b925050602061269f8582860161259f565b9150509250929050565b6000806000606084860312156126c2576126c16123fe565b5b60006126d086828701612654565b93505060206126e186828701612654565b92505060406126f28682870161259f565b9150509250925092565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61273e82612512565b810181811067ffffffffffffffff8211171561275d5761275c612706565b5b80604052505050565b60006127706123f4565b905061277c8282612735565b919050565b600067ffffffffffffffff82111561279c5761279b612706565b5b6127a582612512565b9050602081019050919050565b82818337600083830152505050565b60006127d46127cf84612781565b612766565b9050828152602081018484840111156127f0576127ef612701565b5b6127fb8482856127b2565b509392505050565b600082601f830112612818576128176126fc565b5b81356128288482602086016127c1565b91505092915050565b600060208284031215612847576128466123fe565b5b600082013567ffffffffffffffff81111561286557612864612403565b5b61287184828501612803565b91505092915050565b6128838161257e565b82525050565b600060208201905061289e600083018461287a565b92915050565b6000602082840312156128ba576128b96123fe565b5b60006128c884828501612654565b91505092915050565b6128da8161248d565b81146128e557600080fd5b50565b6000813590506128f7816128d1565b92915050565b60008060408385031215612914576129136123fe565b5b600061292285828601612654565b9250506020612933858286016128e8565b9150509250929050565b600067ffffffffffffffff82111561295857612957612706565b5b61296182612512565b9050602081019050919050565b600061298161297c8461293d565b612766565b90508281526020810184848401111561299d5761299c612701565b5b6129a88482856127b2565b509392505050565b600082601f8301126129c5576129c46126fc565b5b81356129d584826020860161296e565b91505092915050565b600080600080608085870312156129f8576129f76123fe565b5b6000612a0687828801612654565b9450506020612a1787828801612654565b9350506040612a288782880161259f565b925050606085013567ffffffffffffffff811115612a4957612a48612403565b5b612a55878288016129b0565b91505092959194509250565b60008060408385031215612a7857612a776123fe565b5b6000612a8685828601612654565b9250506020612a9785828601612654565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680612ae857607f821691505b60208210811415612afc57612afb612aa1565b5b50919050565b7f4552433732313a20617070726f76616c20746f2063757272656e74206f776e6560008201527f7200000000000000000000000000000000000000000000000000000000000000602082015250565b6000612b5e6021836124ce565b9150612b6982612b02565b604082019050919050565b60006020820190508181036000830152612b8d81612b51565b9050919050565b7f4552433732313a20617070726f76652063616c6c6572206973206e6f7420746f60008201527f6b656e206f776e6572206e6f7220617070726f76656420666f7220616c6c0000602082015250565b6000612bf0603e836124ce565b9150612bfb82612b94565b604082019050919050565b60006020820190508181036000830152612c1f81612be3565b9050919050565b7f4552433732313a2063616c6c6572206973206e6f7420746f6b656e206f776e6560008201527f72206e6f7220617070726f766564000000000000000000000000000000000000602082015250565b6000612c82602e836124ce565b9150612c8d82612c26565b604082019050919050565b60006020820190508181036000830152612cb181612c75565b9050919050565b7f496e636f7272656374206d696e742076616c7565000000000000000000000000600082015250565b6000612cee6014836124ce565b9150612cf982612cb8565b602082019050919050565b60006020820190508181036000830152612d1d81612ce1565b9050919050565b7f4d6178696d756d206d696e747320726561636865640000000000000000000000600082015250565b6000612d5a6015836124ce565b9150612d6582612d24565b602082019050919050565b60006020820190508181036000830152612d8981612d4d565b9050919050565b600081905092915050565b50565b6000612dab600083612d90565b9150612db682612d9b565b600082019050919050565b6000612dcc82612d9e565b9150819050919050565b7f5769746864726177206661696c65640000000000000000000000000000000000600082015250565b6000612e0c600f836124ce565b9150612e1782612dd6565b602082019050919050565b60006020820190508181036000830152612e3b81612dff565b9050919050565b7f4552433732313a20696e76616c696420746f6b656e2049440000000000000000600082015250565b6000612e786018836124ce565b9150612e8382612e42565b602082019050919050565b60006020820190508181036000830152612ea781612e6b565b9050919050565b7f4552433732313a2061646472657373207a65726f206973206e6f74206120766160008201527f6c6964206f776e65720000000000000000000000000000000000000000000000602082015250565b6000612f0a6029836124ce565b9150612f1582612eae565b604082019050919050565b60006020820190508181036000830152612f3981612efd565b9050919050565b7f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160008201527f6464726573730000000000000000000000000000000000000000000000000000602082015250565b6000612f9c6026836124ce565b9150612fa782612f40565b604082019050919050565b60006020820190508181036000830152612fcb81612f8f565b9050919050565b7f4552433732313a207472616e736665722066726f6d20696e636f72726563742060008201527f6f776e6572000000000000000000000000000000000000000000000000000000602082015250565b600061302e6025836124ce565b915061303982612fd2565b604082019050919050565b6000602082019050818103600083015261305d81613021565b9050919050565b7f4552433732313a207472616e7366657220746f20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b60006130c06024836124ce565b91506130cb82613064565b604082019050919050565b600060208201905081810360008301526130ef816130b3565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60006131308261257e565b915061313b8361257e565b92508282101561314e5761314d6130f6565b5b828203905092915050565b60006131648261257e565b915061316f8361257e565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff038211156131a4576131a36130f6565b5b828201905092915050565b7f5061757361626c653a2070617573656400000000000000000000000000000000600082015250565b60006131e56010836124ce565b91506131f0826131af565b602082019050919050565b60006020820190508181036000830152613214816131d8565b9050919050565b7f45524337323155524953746f726167653a2055524920736574206f66206e6f6e60008201527f6578697374656e7420746f6b656e000000000000000000000000000000000000602082015250565b6000613277602e836124ce565b91506132828261321b565b604082019050919050565b600060208201905081810360008301526132a68161326a565b9050919050565b7f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572600082015250565b60006132e36020836124ce565b91506132ee826132ad565b602082019050919050565b60006020820190508181036000830152613312816132d6565b9050919050565b7f4552433732313a20617070726f766520746f2063616c6c657200000000000000600082015250565b600061334f6019836124ce565b915061335a82613319565b602082019050919050565b6000602082019050818103600083015261337e81613342565b9050919050565b7f4552433732313a207472616e7366657220746f206e6f6e20455243373231526560008201527f63656976657220696d706c656d656e7465720000000000000000000000000000602082015250565b60006133e16032836124ce565b91506133ec82613385565b604082019050919050565b60006020820190508181036000830152613410816133d4565b9050919050565b600081905092915050565b600061342d826124c3565b6134378185613417565b93506134478185602086016124df565b80840191505092915050565b600061345f8285613422565b915061346b8284613422565b91508190509392505050565b7f5061757361626c653a206e6f7420706175736564000000000000000000000000600082015250565b60006134ad6014836124ce565b91506134b882613477565b602082019050919050565b600060208201905081810360008301526134dc816134a0565b9050919050565b600081519050919050565b600082825260208201905092915050565b600061350a826134e3565b61351481856134ee565b93506135248185602086016124df565b61352d81612512565b840191505092915050565b600060808201905061354d6000830187612613565b61355a6020830186612613565b613567604083018561287a565b818103606083015261357981846134ff565b905095945050505050565b60008151905061359381612434565b92915050565b6000602082840312156135af576135ae6123fe565b5b60006135bd84828501613584565b91505092915050565b7f4552433732313a206d696e7420746f20746865207a65726f2061646472657373600082015250565b60006135fc6020836124ce565b9150613607826135c6565b602082019050919050565b6000602082019050818103600083015261362b816135ef565b9050919050565b7f4552433732313a20746f6b656e20616c7265616479206d696e74656400000000600082015250565b6000613668601c836124ce565b915061367382613632565b602082019050919050565b600060208201905081810360008301526136978161365b565b9050919050565b60006136a98261257e565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8214156136dc576136db6130f6565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b60006137218261257e565b915061372c8361257e565b92508261373c5761373b6136e7565b5b828204905092915050565b60006137528261257e565b915061375d8361257e565b92508261376d5761376c6136e7565b5b828206905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fdfea2646970667358221220fdaca120900fd02c030e577556041b44e9105a3788a0e31d2889b1b4c1e8b87d64736f6c63430008090033",ene={},tne={};var rne={_format:Xie,contractName:qie,sourceName:Zie,abi:Yie,bytecode:Kie,deployedBytecode:$ie,linkReferences:ene,deployedLinkReferences:tne},g_={},b_={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */b_.read=function(a,t,r,n,c){var p,y,v=c*8-n-1,E=(1<<v)-1,_=E>>1,k=-7,R=r?c-1:0,B=r?-1:1,M=a[t+R];for(R+=B,p=M&(1<<-k)-1,M>>=-k,k+=v;k>0;p=p*256+a[t+R],R+=B,k-=8);for(y=p&(1<<-k)-1,p>>=-k,k+=n;k>0;y=y*256+a[t+R],R+=B,k-=8);if(p===0)p=1-_;else{if(p===E)return y?NaN:(M?-1:1)*(1/0);y=y+Math.pow(2,n),p=p-_}return(M?-1:1)*y*Math.pow(2,p-n)};b_.write=function(a,t,r,n,c,p){var y,v,E,_=p*8-c-1,k=(1<<_)-1,R=k>>1,B=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=n?0:p-1,F=n?1:-1,H=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(v=isNaN(t)?1:0,y=k):(y=Math.floor(Math.log(t)/Math.LN2),t*(E=Math.pow(2,-y))<1&&(y--,E*=2),y+R>=1?t+=B/E:t+=B*Math.pow(2,1-R),t*E>=2&&(y++,E/=2),y+R>=k?(v=0,y=k):y+R>=1?(v=(t*E-1)*Math.pow(2,c),y=y+R):(v=t*Math.pow(2,R-1)*Math.pow(2,c),y=0));c>=8;a[r+M]=v&255,M+=F,v/=256,c-=8);for(y=y<<c|v,_+=c;_>0;a[r+M]=y&255,M+=F,y/=256,_-=8);a[r+M-F]|=H*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(a){const t=lb,r=b_,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;a.Buffer=v,a.SlowBuffer=K,a.INSPECT_MAX_BYTES=50;const c=2147483647;a.kMaxLength=c,v.TYPED_ARRAY_SUPPORT=p(),!v.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function p(){try{const nt=new Uint8Array(1),De={foo:function(){return 42}};return Object.setPrototypeOf(De,Uint8Array.prototype),Object.setPrototypeOf(nt,De),nt.foo()===42}catch{return!1}}Object.defineProperty(v.prototype,"parent",{enumerable:!0,get:function(){if(!!v.isBuffer(this))return this.buffer}}),Object.defineProperty(v.prototype,"offset",{enumerable:!0,get:function(){if(!!v.isBuffer(this))return this.byteOffset}});function y(nt){if(nt>c)throw new RangeError('The value "'+nt+'" is invalid for option "size"');const De=new Uint8Array(nt);return Object.setPrototypeOf(De,v.prototype),De}function v(nt,De,Te){if(typeof nt=="number"){if(typeof De=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return R(nt)}return E(nt,De,Te)}v.poolSize=8192;function E(nt,De,Te){if(typeof nt=="string")return B(nt,De);if(ArrayBuffer.isView(nt))return F(nt);if(nt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof nt);if(mt(nt,ArrayBuffer)||nt&&mt(nt.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(mt(nt,SharedArrayBuffer)||nt&&mt(nt.buffer,SharedArrayBuffer)))return H(nt,De,Te);if(typeof nt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const gt=nt.valueOf&&nt.valueOf();if(gt!=null&&gt!==nt)return v.from(gt,De,Te);const zt=U(nt);if(zt)return zt;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof nt[Symbol.toPrimitive]=="function")return v.from(nt[Symbol.toPrimitive]("string"),De,Te);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof nt)}v.from=function(nt,De,Te){return E(nt,De,Te)},Object.setPrototypeOf(v.prototype,Uint8Array.prototype),Object.setPrototypeOf(v,Uint8Array);function _(nt){if(typeof nt!="number")throw new TypeError('"size" argument must be of type number');if(nt<0)throw new RangeError('The value "'+nt+'" is invalid for option "size"')}function k(nt,De,Te){return _(nt),nt<=0?y(nt):De!==void 0?typeof Te=="string"?y(nt).fill(De,Te):y(nt).fill(De):y(nt)}v.alloc=function(nt,De,Te){return k(nt,De,Te)};function R(nt){return _(nt),y(nt<0?0:Z(nt)|0)}v.allocUnsafe=function(nt){return R(nt)},v.allocUnsafeSlow=function(nt){return R(nt)};function B(nt,De){if((typeof De!="string"||De==="")&&(De="utf8"),!v.isEncoding(De))throw new TypeError("Unknown encoding: "+De);const Te=fe(nt,De)|0;let gt=y(Te);const zt=gt.write(nt,De);return zt!==Te&&(gt=gt.slice(0,zt)),gt}function M(nt){const De=nt.length<0?0:Z(nt.length)|0,Te=y(De);for(let gt=0;gt<De;gt+=1)Te[gt]=nt[gt]&255;return Te}function F(nt){if(mt(nt,Uint8Array)){const De=new Uint8Array(nt);return H(De.buffer,De.byteOffset,De.byteLength)}return M(nt)}function H(nt,De,Te){if(De<0||nt.byteLength<De)throw new RangeError('"offset" is outside of buffer bounds');if(nt.byteLength<De+(Te||0))throw new RangeError('"length" is outside of buffer bounds');let gt;return De===void 0&&Te===void 0?gt=new Uint8Array(nt):Te===void 0?gt=new Uint8Array(nt,De):gt=new Uint8Array(nt,De,Te),Object.setPrototypeOf(gt,v.prototype),gt}function U(nt){if(v.isBuffer(nt)){const De=Z(nt.length)|0,Te=y(De);return Te.length===0||nt.copy(Te,0,0,De),Te}if(nt.length!==void 0)return typeof nt.length!="number"||ft(nt.length)?y(0):M(nt);if(nt.type==="Buffer"&&Array.isArray(nt.data))return M(nt.data)}function Z(nt){if(nt>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return nt|0}function K(nt){return+nt!=nt&&(nt=0),v.alloc(+nt)}v.isBuffer=function(De){return De!=null&&De._isBuffer===!0&&De!==v.prototype},v.compare=function(De,Te){if(mt(De,Uint8Array)&&(De=v.from(De,De.offset,De.byteLength)),mt(Te,Uint8Array)&&(Te=v.from(Te,Te.offset,Te.byteLength)),!v.isBuffer(De)||!v.isBuffer(Te))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(De===Te)return 0;let gt=De.length,zt=Te.length;for(let Bt=0,bt=Math.min(gt,zt);Bt<bt;++Bt)if(De[Bt]!==Te[Bt]){gt=De[Bt],zt=Te[Bt];break}return gt<zt?-1:zt<gt?1:0},v.isEncoding=function(De){switch(String(De).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},v.concat=function(De,Te){if(!Array.isArray(De))throw new TypeError('"list" argument must be an Array of Buffers');if(De.length===0)return v.alloc(0);let gt;if(Te===void 0)for(Te=0,gt=0;gt<De.length;++gt)Te+=De[gt].length;const zt=v.allocUnsafe(Te);let Bt=0;for(gt=0;gt<De.length;++gt){let bt=De[gt];if(mt(bt,Uint8Array))Bt+bt.length>zt.length?(v.isBuffer(bt)||(bt=v.from(bt)),bt.copy(zt,Bt)):Uint8Array.prototype.set.call(zt,bt,Bt);else if(v.isBuffer(bt))bt.copy(zt,Bt);else throw new TypeError('"list" argument must be an Array of Buffers');Bt+=bt.length}return zt};function fe(nt,De){if(v.isBuffer(nt))return nt.length;if(ArrayBuffer.isView(nt)||mt(nt,ArrayBuffer))return nt.byteLength;if(typeof nt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof nt);const Te=nt.length,gt=arguments.length>2&&arguments[2]===!0;if(!gt&&Te===0)return 0;let zt=!1;for(;;)switch(De){case"ascii":case"latin1":case"binary":return Te;case"utf8":case"utf-8":return Yr(nt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Te*2;case"hex":return Te>>>1;case"base64":return kt(nt).length;default:if(zt)return gt?-1:Yr(nt).length;De=(""+De).toLowerCase(),zt=!0}}v.byteLength=fe;function oe(nt,De,Te){let gt=!1;if((De===void 0||De<0)&&(De=0),De>this.length||((Te===void 0||Te>this.length)&&(Te=this.length),Te<=0)||(Te>>>=0,De>>>=0,Te<=De))return"";for(nt||(nt="utf8");;)switch(nt){case"hex":return Ne(this,De,Te);case"utf8":case"utf-8":return re(this,De,Te);case"ascii":return Re(this,De,Te);case"latin1":case"binary":return Ie(this,De,Te);case"base64":return le(this,De,Te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Qe(this,De,Te);default:if(gt)throw new TypeError("Unknown encoding: "+nt);nt=(nt+"").toLowerCase(),gt=!0}}v.prototype._isBuffer=!0;function we(nt,De,Te){const gt=nt[De];nt[De]=nt[Te],nt[Te]=gt}v.prototype.swap16=function(){const De=this.length;if(De%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Te=0;Te<De;Te+=2)we(this,Te,Te+1);return this},v.prototype.swap32=function(){const De=this.length;if(De%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Te=0;Te<De;Te+=4)we(this,Te,Te+3),we(this,Te+1,Te+2);return this},v.prototype.swap64=function(){const De=this.length;if(De%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Te=0;Te<De;Te+=8)we(this,Te,Te+7),we(this,Te+1,Te+6),we(this,Te+2,Te+5),we(this,Te+3,Te+4);return this},v.prototype.toString=function(){const De=this.length;return De===0?"":arguments.length===0?re(this,0,De):oe.apply(this,arguments)},v.prototype.toLocaleString=v.prototype.toString,v.prototype.equals=function(De){if(!v.isBuffer(De))throw new TypeError("Argument must be a Buffer");return this===De?!0:v.compare(this,De)===0},v.prototype.inspect=function(){let De="";const Te=a.INSPECT_MAX_BYTES;return De=this.toString("hex",0,Te).replace(/(.{2})/g,"$1 ").trim(),this.length>Te&&(De+=" ... "),"<Buffer "+De+">"},n&&(v.prototype[n]=v.prototype.inspect),v.prototype.compare=function(De,Te,gt,zt,Bt){if(mt(De,Uint8Array)&&(De=v.from(De,De.offset,De.byteLength)),!v.isBuffer(De))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof De);if(Te===void 0&&(Te=0),gt===void 0&&(gt=De?De.length:0),zt===void 0&&(zt=0),Bt===void 0&&(Bt=this.length),Te<0||gt>De.length||zt<0||Bt>this.length)throw new RangeError("out of range index");if(zt>=Bt&&Te>=gt)return 0;if(zt>=Bt)return-1;if(Te>=gt)return 1;if(Te>>>=0,gt>>>=0,zt>>>=0,Bt>>>=0,this===De)return 0;let bt=Bt-zt,Rr=gt-Te;const Ct=Math.min(bt,Rr),Nt=this.slice(zt,Bt),lr=De.slice(Te,gt);for(let Sr=0;Sr<Ct;++Sr)if(Nt[Sr]!==lr[Sr]){bt=Nt[Sr],Rr=lr[Sr];break}return bt<Rr?-1:Rr<bt?1:0};function be(nt,De,Te,gt,zt){if(nt.length===0)return-1;if(typeof Te=="string"?(gt=Te,Te=0):Te>2147483647?Te=2147483647:Te<-2147483648&&(Te=-2147483648),Te=+Te,ft(Te)&&(Te=zt?0:nt.length-1),Te<0&&(Te=nt.length+Te),Te>=nt.length){if(zt)return-1;Te=nt.length-1}else if(Te<0)if(zt)Te=0;else return-1;if(typeof De=="string"&&(De=v.from(De,gt)),v.isBuffer(De))return De.length===0?-1:ve(nt,De,Te,gt,zt);if(typeof De=="number")return De=De&255,typeof Uint8Array.prototype.indexOf=="function"?zt?Uint8Array.prototype.indexOf.call(nt,De,Te):Uint8Array.prototype.lastIndexOf.call(nt,De,Te):ve(nt,[De],Te,gt,zt);throw new TypeError("val must be string, number or Buffer")}function ve(nt,De,Te,gt,zt){let Bt=1,bt=nt.length,Rr=De.length;if(gt!==void 0&&(gt=String(gt).toLowerCase(),gt==="ucs2"||gt==="ucs-2"||gt==="utf16le"||gt==="utf-16le")){if(nt.length<2||De.length<2)return-1;Bt=2,bt/=2,Rr/=2,Te/=2}function Ct(lr,Sr){return Bt===1?lr[Sr]:lr.readUInt16BE(Sr*Bt)}let Nt;if(zt){let lr=-1;for(Nt=Te;Nt<bt;Nt++)if(Ct(nt,Nt)===Ct(De,lr===-1?0:Nt-lr)){if(lr===-1&&(lr=Nt),Nt-lr+1===Rr)return lr*Bt}else lr!==-1&&(Nt-=Nt-lr),lr=-1}else for(Te+Rr>bt&&(Te=bt-Rr),Nt=Te;Nt>=0;Nt--){let lr=!0;for(let Sr=0;Sr<Rr;Sr++)if(Ct(nt,Nt+Sr)!==Ct(De,Sr)){lr=!1;break}if(lr)return Nt}return-1}v.prototype.includes=function(De,Te,gt){return this.indexOf(De,Te,gt)!==-1},v.prototype.indexOf=function(De,Te,gt){return be(this,De,Te,gt,!0)},v.prototype.lastIndexOf=function(De,Te,gt){return be(this,De,Te,gt,!1)};function ne(nt,De,Te,gt){Te=Number(Te)||0;const zt=nt.length-Te;gt?(gt=Number(gt),gt>zt&&(gt=zt)):gt=zt;const Bt=De.length;gt>Bt/2&&(gt=Bt/2);let bt;for(bt=0;bt<gt;++bt){const Rr=parseInt(De.substr(bt*2,2),16);if(ft(Rr))return bt;nt[Te+bt]=Rr}return bt}function ae(nt,De,Te,gt){return rr(Yr(De,nt.length-Te),nt,Te,gt)}function ye(nt,De,Te,gt){return rr(oi(De),nt,Te,gt)}function de(nt,De,Te,gt){return rr(kt(De),nt,Te,gt)}function xe(nt,De,Te,gt){return rr(xt(De,nt.length-Te),nt,Te,gt)}v.prototype.write=function(De,Te,gt,zt){if(Te===void 0)zt="utf8",gt=this.length,Te=0;else if(gt===void 0&&typeof Te=="string")zt=Te,gt=this.length,Te=0;else if(isFinite(Te))Te=Te>>>0,isFinite(gt)?(gt=gt>>>0,zt===void 0&&(zt="utf8")):(zt=gt,gt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Bt=this.length-Te;if((gt===void 0||gt>Bt)&&(gt=Bt),De.length>0&&(gt<0||Te<0)||Te>this.length)throw new RangeError("Attempt to write outside buffer bounds");zt||(zt="utf8");let bt=!1;for(;;)switch(zt){case"hex":return ne(this,De,Te,gt);case"utf8":case"utf-8":return ae(this,De,Te,gt);case"ascii":case"latin1":case"binary":return ye(this,De,Te,gt);case"base64":return de(this,De,Te,gt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,De,Te,gt);default:if(bt)throw new TypeError("Unknown encoding: "+zt);zt=(""+zt).toLowerCase(),bt=!0}},v.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function le(nt,De,Te){return De===0&&Te===nt.length?t.fromByteArray(nt):t.fromByteArray(nt.slice(De,Te))}function re(nt,De,Te){Te=Math.min(nt.length,Te);const gt=[];let zt=De;for(;zt<Te;){const Bt=nt[zt];let bt=null,Rr=Bt>239?4:Bt>223?3:Bt>191?2:1;if(zt+Rr<=Te){let Ct,Nt,lr,Sr;switch(Rr){case 1:Bt<128&&(bt=Bt);break;case 2:Ct=nt[zt+1],(Ct&192)===128&&(Sr=(Bt&31)<<6|Ct&63,Sr>127&&(bt=Sr));break;case 3:Ct=nt[zt+1],Nt=nt[zt+2],(Ct&192)===128&&(Nt&192)===128&&(Sr=(Bt&15)<<12|(Ct&63)<<6|Nt&63,Sr>2047&&(Sr<55296||Sr>57343)&&(bt=Sr));break;case 4:Ct=nt[zt+1],Nt=nt[zt+2],lr=nt[zt+3],(Ct&192)===128&&(Nt&192)===128&&(lr&192)===128&&(Sr=(Bt&15)<<18|(Ct&63)<<12|(Nt&63)<<6|lr&63,Sr>65535&&Sr<1114112&&(bt=Sr))}}bt===null?(bt=65533,Rr=1):bt>65535&&(bt-=65536,gt.push(bt>>>10&1023|55296),bt=56320|bt&1023),gt.push(bt),zt+=Rr}return me(gt)}const he=4096;function me(nt){const De=nt.length;if(De<=he)return String.fromCharCode.apply(String,nt);let Te="",gt=0;for(;gt<De;)Te+=String.fromCharCode.apply(String,nt.slice(gt,gt+=he));return Te}function Re(nt,De,Te){let gt="";Te=Math.min(nt.length,Te);for(let zt=De;zt<Te;++zt)gt+=String.fromCharCode(nt[zt]&127);return gt}function Ie(nt,De,Te){let gt="";Te=Math.min(nt.length,Te);for(let zt=De;zt<Te;++zt)gt+=String.fromCharCode(nt[zt]);return gt}function Ne(nt,De,Te){const gt=nt.length;(!De||De<0)&&(De=0),(!Te||Te<0||Te>gt)&&(Te=gt);let zt="";for(let Bt=De;Bt<Te;++Bt)zt+=Ut[nt[Bt]];return zt}function Qe(nt,De,Te){const gt=nt.slice(De,Te);let zt="";for(let Bt=0;Bt<gt.length-1;Bt+=2)zt+=String.fromCharCode(gt[Bt]+gt[Bt+1]*256);return zt}v.prototype.slice=function(De,Te){const gt=this.length;De=~~De,Te=Te===void 0?gt:~~Te,De<0?(De+=gt,De<0&&(De=0)):De>gt&&(De=gt),Te<0?(Te+=gt,Te<0&&(Te=0)):Te>gt&&(Te=gt),Te<De&&(Te=De);const zt=this.subarray(De,Te);return Object.setPrototypeOf(zt,v.prototype),zt};function Ue(nt,De,Te){if(nt%1!==0||nt<0)throw new RangeError("offset is not uint");if(nt+De>Te)throw new RangeError("Trying to access beyond buffer length")}v.prototype.readUintLE=v.prototype.readUIntLE=function(De,Te,gt){De=De>>>0,Te=Te>>>0,gt||Ue(De,Te,this.length);let zt=this[De],Bt=1,bt=0;for(;++bt<Te&&(Bt*=256);)zt+=this[De+bt]*Bt;return zt},v.prototype.readUintBE=v.prototype.readUIntBE=function(De,Te,gt){De=De>>>0,Te=Te>>>0,gt||Ue(De,Te,this.length);let zt=this[De+--Te],Bt=1;for(;Te>0&&(Bt*=256);)zt+=this[De+--Te]*Bt;return zt},v.prototype.readUint8=v.prototype.readUInt8=function(De,Te){return De=De>>>0,Te||Ue(De,1,this.length),this[De]},v.prototype.readUint16LE=v.prototype.readUInt16LE=function(De,Te){return De=De>>>0,Te||Ue(De,2,this.length),this[De]|this[De+1]<<8},v.prototype.readUint16BE=v.prototype.readUInt16BE=function(De,Te){return De=De>>>0,Te||Ue(De,2,this.length),this[De]<<8|this[De+1]},v.prototype.readUint32LE=v.prototype.readUInt32LE=function(De,Te){return De=De>>>0,Te||Ue(De,4,this.length),(this[De]|this[De+1]<<8|this[De+2]<<16)+this[De+3]*16777216},v.prototype.readUint32BE=v.prototype.readUInt32BE=function(De,Te){return De=De>>>0,Te||Ue(De,4,this.length),this[De]*16777216+(this[De+1]<<16|this[De+2]<<8|this[De+3])},v.prototype.readBigUInt64LE=ir(function(De){De=De>>>0,Ht(De,"offset");const Te=this[De],gt=this[De+7];(Te===void 0||gt===void 0)&&Kt(De,this.length-8);const zt=Te+this[++De]*2**8+this[++De]*2**16+this[++De]*2**24,Bt=this[++De]+this[++De]*2**8+this[++De]*2**16+gt*2**24;return BigInt(zt)+(BigInt(Bt)<<BigInt(32))}),v.prototype.readBigUInt64BE=ir(function(De){De=De>>>0,Ht(De,"offset");const Te=this[De],gt=this[De+7];(Te===void 0||gt===void 0)&&Kt(De,this.length-8);const zt=Te*2**24+this[++De]*2**16+this[++De]*2**8+this[++De],Bt=this[++De]*2**24+this[++De]*2**16+this[++De]*2**8+gt;return(BigInt(zt)<<BigInt(32))+BigInt(Bt)}),v.prototype.readIntLE=function(De,Te,gt){De=De>>>0,Te=Te>>>0,gt||Ue(De,Te,this.length);let zt=this[De],Bt=1,bt=0;for(;++bt<Te&&(Bt*=256);)zt+=this[De+bt]*Bt;return Bt*=128,zt>=Bt&&(zt-=Math.pow(2,8*Te)),zt},v.prototype.readIntBE=function(De,Te,gt){De=De>>>0,Te=Te>>>0,gt||Ue(De,Te,this.length);let zt=Te,Bt=1,bt=this[De+--zt];for(;zt>0&&(Bt*=256);)bt+=this[De+--zt]*Bt;return Bt*=128,bt>=Bt&&(bt-=Math.pow(2,8*Te)),bt},v.prototype.readInt8=function(De,Te){return De=De>>>0,Te||Ue(De,1,this.length),this[De]&128?(255-this[De]+1)*-1:this[De]},v.prototype.readInt16LE=function(De,Te){De=De>>>0,Te||Ue(De,2,this.length);const gt=this[De]|this[De+1]<<8;return gt&32768?gt|4294901760:gt},v.prototype.readInt16BE=function(De,Te){De=De>>>0,Te||Ue(De,2,this.length);const gt=this[De+1]|this[De]<<8;return gt&32768?gt|4294901760:gt},v.prototype.readInt32LE=function(De,Te){return De=De>>>0,Te||Ue(De,4,this.length),this[De]|this[De+1]<<8|this[De+2]<<16|this[De+3]<<24},v.prototype.readInt32BE=function(De,Te){return De=De>>>0,Te||Ue(De,4,this.length),this[De]<<24|this[De+1]<<16|this[De+2]<<8|this[De+3]},v.prototype.readBigInt64LE=ir(function(De){De=De>>>0,Ht(De,"offset");const Te=this[De],gt=this[De+7];(Te===void 0||gt===void 0)&&Kt(De,this.length-8);const zt=this[De+4]+this[De+5]*2**8+this[De+6]*2**16+(gt<<24);return(BigInt(zt)<<BigInt(32))+BigInt(Te+this[++De]*2**8+this[++De]*2**16+this[++De]*2**24)}),v.prototype.readBigInt64BE=ir(function(De){De=De>>>0,Ht(De,"offset");const Te=this[De],gt=this[De+7];(Te===void 0||gt===void 0)&&Kt(De,this.length-8);const zt=(Te<<24)+this[++De]*2**16+this[++De]*2**8+this[++De];return(BigInt(zt)<<BigInt(32))+BigInt(this[++De]*2**24+this[++De]*2**16+this[++De]*2**8+gt)}),v.prototype.readFloatLE=function(De,Te){return De=De>>>0,Te||Ue(De,4,this.length),r.read(this,De,!0,23,4)},v.prototype.readFloatBE=function(De,Te){return De=De>>>0,Te||Ue(De,4,this.length),r.read(this,De,!1,23,4)},v.prototype.readDoubleLE=function(De,Te){return De=De>>>0,Te||Ue(De,8,this.length),r.read(this,De,!0,52,8)},v.prototype.readDoubleBE=function(De,Te){return De=De>>>0,Te||Ue(De,8,this.length),r.read(this,De,!1,52,8)};function ce(nt,De,Te,gt,zt,Bt){if(!v.isBuffer(nt))throw new TypeError('"buffer" argument must be a Buffer instance');if(De>zt||De<Bt)throw new RangeError('"value" argument is out of bounds');if(Te+gt>nt.length)throw new RangeError("Index out of range")}v.prototype.writeUintLE=v.prototype.writeUIntLE=function(De,Te,gt,zt){if(De=+De,Te=Te>>>0,gt=gt>>>0,!zt){const Rr=Math.pow(2,8*gt)-1;ce(this,De,Te,gt,Rr,0)}let Bt=1,bt=0;for(this[Te]=De&255;++bt<gt&&(Bt*=256);)this[Te+bt]=De/Bt&255;return Te+gt},v.prototype.writeUintBE=v.prototype.writeUIntBE=function(De,Te,gt,zt){if(De=+De,Te=Te>>>0,gt=gt>>>0,!zt){const Rr=Math.pow(2,8*gt)-1;ce(this,De,Te,gt,Rr,0)}let Bt=gt-1,bt=1;for(this[Te+Bt]=De&255;--Bt>=0&&(bt*=256);)this[Te+Bt]=De/bt&255;return Te+gt},v.prototype.writeUint8=v.prototype.writeUInt8=function(De,Te,gt){return De=+De,Te=Te>>>0,gt||ce(this,De,Te,1,255,0),this[Te]=De&255,Te+1},v.prototype.writeUint16LE=v.prototype.writeUInt16LE=function(De,Te,gt){return De=+De,Te=Te>>>0,gt||ce(this,De,Te,2,65535,0),this[Te]=De&255,this[Te+1]=De>>>8,Te+2},v.prototype.writeUint16BE=v.prototype.writeUInt16BE=function(De,Te,gt){return De=+De,Te=Te>>>0,gt||ce(this,De,Te,2,65535,0),this[Te]=De>>>8,this[Te+1]=De&255,Te+2},v.prototype.writeUint32LE=v.prototype.writeUInt32LE=function(De,Te,gt){return De=+De,Te=Te>>>0,gt||ce(this,De,Te,4,4294967295,0),this[Te+3]=De>>>24,this[Te+2]=De>>>16,this[Te+1]=De>>>8,this[Te]=De&255,Te+4},v.prototype.writeUint32BE=v.prototype.writeUInt32BE=function(De,Te,gt){return De=+De,Te=Te>>>0,gt||ce(this,De,Te,4,4294967295,0),this[Te]=De>>>24,this[Te+1]=De>>>16,this[Te+2]=De>>>8,this[Te+3]=De&255,Te+4};function Me(nt,De,Te,gt,zt){Gt(De,gt,zt,nt,Te,7);let Bt=Number(De&BigInt(4294967295));nt[Te++]=Bt,Bt=Bt>>8,nt[Te++]=Bt,Bt=Bt>>8,nt[Te++]=Bt,Bt=Bt>>8,nt[Te++]=Bt;let bt=Number(De>>BigInt(32)&BigInt(4294967295));return nt[Te++]=bt,bt=bt>>8,nt[Te++]=bt,bt=bt>>8,nt[Te++]=bt,bt=bt>>8,nt[Te++]=bt,Te}function ot(nt,De,Te,gt,zt){Gt(De,gt,zt,nt,Te,7);let Bt=Number(De&BigInt(4294967295));nt[Te+7]=Bt,Bt=Bt>>8,nt[Te+6]=Bt,Bt=Bt>>8,nt[Te+5]=Bt,Bt=Bt>>8,nt[Te+4]=Bt;let bt=Number(De>>BigInt(32)&BigInt(4294967295));return nt[Te+3]=bt,bt=bt>>8,nt[Te+2]=bt,bt=bt>>8,nt[Te+1]=bt,bt=bt>>8,nt[Te]=bt,Te+8}v.prototype.writeBigUInt64LE=ir(function(De,Te=0){return Me(this,De,Te,BigInt(0),BigInt("0xffffffffffffffff"))}),v.prototype.writeBigUInt64BE=ir(function(De,Te=0){return ot(this,De,Te,BigInt(0),BigInt("0xffffffffffffffff"))}),v.prototype.writeIntLE=function(De,Te,gt,zt){if(De=+De,Te=Te>>>0,!zt){const Ct=Math.pow(2,8*gt-1);ce(this,De,Te,gt,Ct-1,-Ct)}let Bt=0,bt=1,Rr=0;for(this[Te]=De&255;++Bt<gt&&(bt*=256);)De<0&&Rr===0&&this[Te+Bt-1]!==0&&(Rr=1),this[Te+Bt]=(De/bt>>0)-Rr&255;return Te+gt},v.prototype.writeIntBE=function(De,Te,gt,zt){if(De=+De,Te=Te>>>0,!zt){const Ct=Math.pow(2,8*gt-1);ce(this,De,Te,gt,Ct-1,-Ct)}let Bt=gt-1,bt=1,Rr=0;for(this[Te+Bt]=De&255;--Bt>=0&&(bt*=256);)De<0&&Rr===0&&this[Te+Bt+1]!==0&&(Rr=1),this[Te+Bt]=(De/bt>>0)-Rr&255;return Te+gt},v.prototype.writeInt8=function(De,Te,gt){return De=+De,Te=Te>>>0,gt||ce(this,De,Te,1,127,-128),De<0&&(De=255+De+1),this[Te]=De&255,Te+1},v.prototype.writeInt16LE=function(De,Te,gt){return De=+De,Te=Te>>>0,gt||ce(this,De,Te,2,32767,-32768),this[Te]=De&255,this[Te+1]=De>>>8,Te+2},v.prototype.writeInt16BE=function(De,Te,gt){return De=+De,Te=Te>>>0,gt||ce(this,De,Te,2,32767,-32768),this[Te]=De>>>8,this[Te+1]=De&255,Te+2},v.prototype.writeInt32LE=function(De,Te,gt){return De=+De,Te=Te>>>0,gt||ce(this,De,Te,4,2147483647,-2147483648),this[Te]=De&255,this[Te+1]=De>>>8,this[Te+2]=De>>>16,this[Te+3]=De>>>24,Te+4},v.prototype.writeInt32BE=function(De,Te,gt){return De=+De,Te=Te>>>0,gt||ce(this,De,Te,4,2147483647,-2147483648),De<0&&(De=4294967295+De+1),this[Te]=De>>>24,this[Te+1]=De>>>16,this[Te+2]=De>>>8,this[Te+3]=De&255,Te+4},v.prototype.writeBigInt64LE=ir(function(De,Te=0){return Me(this,De,Te,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),v.prototype.writeBigInt64BE=ir(function(De,Te=0){return ot(this,De,Te,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Se(nt,De,Te,gt,zt,Bt){if(Te+gt>nt.length)throw new RangeError("Index out of range");if(Te<0)throw new RangeError("Index out of range")}function Xe(nt,De,Te,gt,zt){return De=+De,Te=Te>>>0,zt||Se(nt,De,Te,4),r.write(nt,De,Te,gt,23,4),Te+4}v.prototype.writeFloatLE=function(De,Te,gt){return Xe(this,De,Te,!0,gt)},v.prototype.writeFloatBE=function(De,Te,gt){return Xe(this,De,Te,!1,gt)};function ct(nt,De,Te,gt,zt){return De=+De,Te=Te>>>0,zt||Se(nt,De,Te,8),r.write(nt,De,Te,gt,52,8),Te+8}v.prototype.writeDoubleLE=function(De,Te,gt){return ct(this,De,Te,!0,gt)},v.prototype.writeDoubleBE=function(De,Te,gt){return ct(this,De,Te,!1,gt)},v.prototype.copy=function(De,Te,gt,zt){if(!v.isBuffer(De))throw new TypeError("argument should be a Buffer");if(gt||(gt=0),!zt&&zt!==0&&(zt=this.length),Te>=De.length&&(Te=De.length),Te||(Te=0),zt>0&&zt<gt&&(zt=gt),zt===gt||De.length===0||this.length===0)return 0;if(Te<0)throw new RangeError("targetStart out of bounds");if(gt<0||gt>=this.length)throw new RangeError("Index out of range");if(zt<0)throw new RangeError("sourceEnd out of bounds");zt>this.length&&(zt=this.length),De.length-Te<zt-gt&&(zt=De.length-Te+gt);const Bt=zt-gt;return this===De&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Te,gt,zt):Uint8Array.prototype.set.call(De,this.subarray(gt,zt),Te),Bt},v.prototype.fill=function(De,Te,gt,zt){if(typeof De=="string"){if(typeof Te=="string"?(zt=Te,Te=0,gt=this.length):typeof gt=="string"&&(zt=gt,gt=this.length),zt!==void 0&&typeof zt!="string")throw new TypeError("encoding must be a string");if(typeof zt=="string"&&!v.isEncoding(zt))throw new TypeError("Unknown encoding: "+zt);if(De.length===1){const bt=De.charCodeAt(0);(zt==="utf8"&&bt<128||zt==="latin1")&&(De=bt)}}else typeof De=="number"?De=De&255:typeof De=="boolean"&&(De=Number(De));if(Te<0||this.length<Te||this.length<gt)throw new RangeError("Out of range index");if(gt<=Te)return this;Te=Te>>>0,gt=gt===void 0?this.length:gt>>>0,De||(De=0);let Bt;if(typeof De=="number")for(Bt=Te;Bt<gt;++Bt)this[Bt]=De;else{const bt=v.isBuffer(De)?De:v.from(De,zt),Rr=bt.length;if(Rr===0)throw new TypeError('The value "'+De+'" is invalid for argument "value"');for(Bt=0;Bt<gt-Te;++Bt)this[Bt+Te]=bt[Bt%Rr]}return this};const $e={};function Et(nt,De,Te){$e[nt]=class extends Te{constructor(){super(),Object.defineProperty(this,"message",{value:De.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${nt}]`,this.stack,delete this.name}get code(){return nt}set code(zt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:zt,writable:!0})}toString(){return`${this.name} [${nt}]: ${this.message}`}}}Et("ERR_BUFFER_OUT_OF_BOUNDS",function(nt){return nt?`${nt} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Et("ERR_INVALID_ARG_TYPE",function(nt,De){return`The "${nt}" argument must be of type number. Received type ${typeof De}`},TypeError),Et("ERR_OUT_OF_RANGE",function(nt,De,Te){let gt=`The value of "${nt}" is out of range.`,zt=Te;return Number.isInteger(Te)&&Math.abs(Te)>2**32?zt=Dt(String(Te)):typeof Te=="bigint"&&(zt=String(Te),(Te>BigInt(2)**BigInt(32)||Te<-(BigInt(2)**BigInt(32)))&&(zt=Dt(zt)),zt+="n"),gt+=` It must be ${De}. Received ${zt}`,gt},RangeError);function Dt(nt){let De="",Te=nt.length;const gt=nt[0]==="-"?1:0;for(;Te>=gt+4;Te-=3)De=`_${nt.slice(Te-3,Te)}${De}`;return`${nt.slice(0,Te)}${De}`}function er(nt,De,Te){Ht(De,"offset"),(nt[De]===void 0||nt[De+Te]===void 0)&&Kt(De,nt.length-(Te+1))}function Gt(nt,De,Te,gt,zt,Bt){if(nt>Te||nt<De){const bt=typeof De=="bigint"?"n":"";let Rr;throw Bt>3?De===0||De===BigInt(0)?Rr=`>= 0${bt} and < 2${bt} ** ${(Bt+1)*8}${bt}`:Rr=`>= -(2${bt} ** ${(Bt+1)*8-1}${bt}) and < 2 ** ${(Bt+1)*8-1}${bt}`:Rr=`>= ${De}${bt} and <= ${Te}${bt}`,new $e.ERR_OUT_OF_RANGE("value",Rr,nt)}er(gt,zt,Bt)}function Ht(nt,De){if(typeof nt!="number")throw new $e.ERR_INVALID_ARG_TYPE(De,"number",nt)}function Kt(nt,De,Te){throw Math.floor(nt)!==nt?(Ht(nt,Te),new $e.ERR_OUT_OF_RANGE(Te||"offset","an integer",nt)):De<0?new $e.ERR_BUFFER_OUT_OF_BOUNDS:new $e.ERR_OUT_OF_RANGE(Te||"offset",`>= ${Te?1:0} and <= ${De}`,nt)}const yr=/[^+/0-9A-Za-z-_]/g;function Ur(nt){if(nt=nt.split("=")[0],nt=nt.trim().replace(yr,""),nt.length<2)return"";for(;nt.length%4!==0;)nt=nt+"=";return nt}function Yr(nt,De){De=De||1/0;let Te;const gt=nt.length;let zt=null;const Bt=[];for(let bt=0;bt<gt;++bt){if(Te=nt.charCodeAt(bt),Te>55295&&Te<57344){if(!zt){if(Te>56319){(De-=3)>-1&&Bt.push(239,191,189);continue}else if(bt+1===gt){(De-=3)>-1&&Bt.push(239,191,189);continue}zt=Te;continue}if(Te<56320){(De-=3)>-1&&Bt.push(239,191,189),zt=Te;continue}Te=(zt-55296<<10|Te-56320)+65536}else zt&&(De-=3)>-1&&Bt.push(239,191,189);if(zt=null,Te<128){if((De-=1)<0)break;Bt.push(Te)}else if(Te<2048){if((De-=2)<0)break;Bt.push(Te>>6|192,Te&63|128)}else if(Te<65536){if((De-=3)<0)break;Bt.push(Te>>12|224,Te>>6&63|128,Te&63|128)}else if(Te<1114112){if((De-=4)<0)break;Bt.push(Te>>18|240,Te>>12&63|128,Te>>6&63|128,Te&63|128)}else throw new Error("Invalid code point")}return Bt}function oi(nt){const De=[];for(let Te=0;Te<nt.length;++Te)De.push(nt.charCodeAt(Te)&255);return De}function xt(nt,De){let Te,gt,zt;const Bt=[];for(let bt=0;bt<nt.length&&!((De-=2)<0);++bt)Te=nt.charCodeAt(bt),gt=Te>>8,zt=Te%256,Bt.push(zt),Bt.push(gt);return Bt}function kt(nt){return t.toByteArray(Ur(nt))}function rr(nt,De,Te,gt){let zt;for(zt=0;zt<gt&&!(zt+Te>=De.length||zt>=nt.length);++zt)De[zt+Te]=nt[zt];return zt}function mt(nt,De){return nt instanceof De||nt!=null&&nt.constructor!=null&&nt.constructor.name!=null&&nt.constructor.name===De.name}function ft(nt){return nt!==nt}const Ut=function(){const nt="0123456789abcdef",De=new Array(256);for(let Te=0;Te<16;++Te){const gt=Te*16;for(let zt=0;zt<16;++zt)De[gt+zt]=nt[Te]+nt[zt]}return De}();function ir(nt){return typeof BigInt=="undefined"?vr:nt}function vr(){throw new Error("BigInt not supported")}})(g_);var ine={exports:{}};(function(a){var t=function(){var r=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",p={};function y(E,_){if(!p[E]){p[E]={};for(var k=0;k<E.length;k++)p[E][E.charAt(k)]=k}return p[E][_]}var v={compressToBase64:function(E){if(E==null)return"";var _=v._compress(E,6,function(k){return n.charAt(k)});switch(_.length%4){default:case 0:return _;case 1:return _+"===";case 2:return _+"==";case 3:return _+"="}},decompressFromBase64:function(E){return E==null?"":E==""?null:v._decompress(E.length,32,function(_){return y(n,E.charAt(_))})},compressToUTF16:function(E){return E==null?"":v._compress(E,15,function(_){return r(_+32)})+" "},decompressFromUTF16:function(E){return E==null?"":E==""?null:v._decompress(E.length,16384,function(_){return E.charCodeAt(_)-32})},compressToUint8Array:function(E){for(var _=v.compress(E),k=new Uint8Array(_.length*2),R=0,B=_.length;R<B;R++){var M=_.charCodeAt(R);k[R*2]=M>>>8,k[R*2+1]=M%256}return k},decompressFromUint8Array:function(E){if(E==null)return v.decompress(E);for(var _=new Array(E.length/2),k=0,R=_.length;k<R;k++)_[k]=E[k*2]*256+E[k*2+1];var B=[];return _.forEach(function(M){B.push(r(M))}),v.decompress(B.join(""))},compressToEncodedURIComponent:function(E){return E==null?"":v._compress(E,6,function(_){return c.charAt(_)})},decompressFromEncodedURIComponent:function(E){return E==null?"":E==""?null:(E=E.replace(/ /g,"+"),v._decompress(E.length,32,function(_){return y(c,E.charAt(_))}))},compress:function(E){return v._compress(E,16,function(_){return r(_)})},_compress:function(E,_,k){if(E==null)return"";var R,B,M={},F={},H="",U="",Z="",K=2,fe=3,oe=2,we=[],be=0,ve=0,ne;for(ne=0;ne<E.length;ne+=1)if(H=E.charAt(ne),Object.prototype.hasOwnProperty.call(M,H)||(M[H]=fe++,F[H]=!0),U=Z+H,Object.prototype.hasOwnProperty.call(M,U))Z=U;else{if(Object.prototype.hasOwnProperty.call(F,Z)){if(Z.charCodeAt(0)<256){for(R=0;R<oe;R++)be=be<<1,ve==_-1?(ve=0,we.push(k(be)),be=0):ve++;for(B=Z.charCodeAt(0),R=0;R<8;R++)be=be<<1|B&1,ve==_-1?(ve=0,we.push(k(be)),be=0):ve++,B=B>>1}else{for(B=1,R=0;R<oe;R++)be=be<<1|B,ve==_-1?(ve=0,we.push(k(be)),be=0):ve++,B=0;for(B=Z.charCodeAt(0),R=0;R<16;R++)be=be<<1|B&1,ve==_-1?(ve=0,we.push(k(be)),be=0):ve++,B=B>>1}K--,K==0&&(K=Math.pow(2,oe),oe++),delete F[Z]}else for(B=M[Z],R=0;R<oe;R++)be=be<<1|B&1,ve==_-1?(ve=0,we.push(k(be)),be=0):ve++,B=B>>1;K--,K==0&&(K=Math.pow(2,oe),oe++),M[U]=fe++,Z=String(H)}if(Z!==""){if(Object.prototype.hasOwnProperty.call(F,Z)){if(Z.charCodeAt(0)<256){for(R=0;R<oe;R++)be=be<<1,ve==_-1?(ve=0,we.push(k(be)),be=0):ve++;for(B=Z.charCodeAt(0),R=0;R<8;R++)be=be<<1|B&1,ve==_-1?(ve=0,we.push(k(be)),be=0):ve++,B=B>>1}else{for(B=1,R=0;R<oe;R++)be=be<<1|B,ve==_-1?(ve=0,we.push(k(be)),be=0):ve++,B=0;for(B=Z.charCodeAt(0),R=0;R<16;R++)be=be<<1|B&1,ve==_-1?(ve=0,we.push(k(be)),be=0):ve++,B=B>>1}K--,K==0&&(K=Math.pow(2,oe),oe++),delete F[Z]}else for(B=M[Z],R=0;R<oe;R++)be=be<<1|B&1,ve==_-1?(ve=0,we.push(k(be)),be=0):ve++,B=B>>1;K--,K==0&&(K=Math.pow(2,oe),oe++)}for(B=2,R=0;R<oe;R++)be=be<<1|B&1,ve==_-1?(ve=0,we.push(k(be)),be=0):ve++,B=B>>1;for(;;)if(be=be<<1,ve==_-1){we.push(k(be));break}else ve++;return we.join("")},decompress:function(E){return E==null?"":E==""?null:v._decompress(E.length,32768,function(_){return E.charCodeAt(_)})},_decompress:function(E,_,k){var R=[],B=4,M=4,F=3,H="",U=[],Z,K,fe,oe,we,be,ve,ne={val:k(0),position:_,index:1};for(Z=0;Z<3;Z+=1)R[Z]=Z;for(fe=0,we=Math.pow(2,2),be=1;be!=we;)oe=ne.val&ne.position,ne.position>>=1,ne.position==0&&(ne.position=_,ne.val=k(ne.index++)),fe|=(oe>0?1:0)*be,be<<=1;switch(fe){case 0:for(fe=0,we=Math.pow(2,8),be=1;be!=we;)oe=ne.val&ne.position,ne.position>>=1,ne.position==0&&(ne.position=_,ne.val=k(ne.index++)),fe|=(oe>0?1:0)*be,be<<=1;ve=r(fe);break;case 1:for(fe=0,we=Math.pow(2,16),be=1;be!=we;)oe=ne.val&ne.position,ne.position>>=1,ne.position==0&&(ne.position=_,ne.val=k(ne.index++)),fe|=(oe>0?1:0)*be,be<<=1;ve=r(fe);break;case 2:return""}for(R[3]=ve,K=ve,U.push(ve);;){if(ne.index>E)return"";for(fe=0,we=Math.pow(2,F),be=1;be!=we;)oe=ne.val&ne.position,ne.position>>=1,ne.position==0&&(ne.position=_,ne.val=k(ne.index++)),fe|=(oe>0?1:0)*be,be<<=1;switch(ve=fe){case 0:for(fe=0,we=Math.pow(2,8),be=1;be!=we;)oe=ne.val&ne.position,ne.position>>=1,ne.position==0&&(ne.position=_,ne.val=k(ne.index++)),fe|=(oe>0?1:0)*be,be<<=1;R[M++]=r(fe),ve=M-1,B--;break;case 1:for(fe=0,we=Math.pow(2,16),be=1;be!=we;)oe=ne.val&ne.position,ne.position>>=1,ne.position==0&&(ne.position=_,ne.val=k(ne.index++)),fe|=(oe>0?1:0)*be,be<<=1;R[M++]=r(fe),ve=M-1,B--;break;case 2:return U.join("")}if(B==0&&(B=Math.pow(2,F),F++),R[ve])H=R[ve];else if(ve===M)H=K+K.charAt(0);else return null;U.push(H),R[M++]=K+H.charAt(0),B--,K=H,B==0&&(B=Math.pow(2,F),F++)}}};return v}();a!=null&&(a.exports=t)})(ine);var nne=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,k5=Math.ceil,ou=Math.floor,Ga="[BigNumber Error] ",cM=Ga+"Number primitive has more than 15 significant digits: ",wf=1e14,Vn=14,C5=9007199254740991,S5=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],uh=1e7,Go=1e9;function lI(a){var t,r,n,c=K.prototype={constructor:K,toString:null,valueOf:null},p=new K(1),y=20,v=4,E=-7,_=21,k=-1e7,R=1e7,B=!1,M=1,F=0,H={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},U="0123456789abcdefghijklmnopqrstuvwxyz",Z=!0;function K(ne,ae){var ye,de,xe,le,re,he,me,Re,Ie=this;if(!(Ie instanceof K))return new K(ne,ae);if(ae==null){if(ne&&ne._isBigNumber===!0){Ie.s=ne.s,!ne.c||ne.e>R?Ie.c=Ie.e=null:ne.e<k?Ie.c=[Ie.e=0]:(Ie.e=ne.e,Ie.c=ne.c.slice());return}if((he=typeof ne=="number")&&ne*0==0){if(Ie.s=1/ne<0?(ne=-ne,-1):1,ne===~~ne){for(le=0,re=ne;re>=10;re/=10,le++);le>R?Ie.c=Ie.e=null:(Ie.e=le,Ie.c=[ne]);return}Re=String(ne)}else{if(!nne.test(Re=String(ne)))return n(Ie,Re,he);Ie.s=Re.charCodeAt(0)==45?(Re=Re.slice(1),-1):1}(le=Re.indexOf("."))>-1&&(Re=Re.replace(".","")),(re=Re.search(/e/i))>0?(le<0&&(le=re),le+=+Re.slice(re+1),Re=Re.substring(0,re)):le<0&&(le=Re.length)}else{if(Fs(ae,2,U.length,"Base"),ae==10&&Z)return Ie=new K(ne),be(Ie,y+Ie.e+1,v);if(Re=String(ne),he=typeof ne=="number"){if(ne*0!=0)return n(Ie,Re,he,ae);if(Ie.s=1/ne<0?(Re=Re.slice(1),-1):1,K.DEBUG&&Re.replace(/^0\.0*|\./,"").length>15)throw Error(cM+ne)}else Ie.s=Re.charCodeAt(0)===45?(Re=Re.slice(1),-1):1;for(ye=U.slice(0,ae),le=re=0,me=Re.length;re<me;re++)if(ye.indexOf(de=Re.charAt(re))<0){if(de=="."){if(re>le){le=me;continue}}else if(!xe&&(Re==Re.toUpperCase()&&(Re=Re.toLowerCase())||Re==Re.toLowerCase()&&(Re=Re.toUpperCase()))){xe=!0,re=-1,le=0;continue}return n(Ie,String(ne),he,ae)}he=!1,Re=r(Re,ae,10,Ie.s),(le=Re.indexOf("."))>-1?Re=Re.replace(".",""):le=Re.length}for(re=0;Re.charCodeAt(re)===48;re++);for(me=Re.length;Re.charCodeAt(--me)===48;);if(Re=Re.slice(re,++me)){if(me-=re,he&&K.DEBUG&&me>15&&(ne>C5||ne!==ou(ne)))throw Error(cM+Ie.s*ne);if((le=le-re-1)>R)Ie.c=Ie.e=null;else if(le<k)Ie.c=[Ie.e=0];else{if(Ie.e=le,Ie.c=[],re=(le+1)%Vn,le<0&&(re+=Vn),re<me){for(re&&Ie.c.push(+Re.slice(0,re)),me-=Vn;re<me;)Ie.c.push(+Re.slice(re,re+=Vn));re=Vn-(Re=Re.slice(re)).length}else re-=me;for(;re--;Re+="0");Ie.c.push(+Re)}}else Ie.c=[Ie.e=0]}K.clone=lI,K.ROUND_UP=0,K.ROUND_DOWN=1,K.ROUND_CEIL=2,K.ROUND_FLOOR=3,K.ROUND_HALF_UP=4,K.ROUND_HALF_DOWN=5,K.ROUND_HALF_EVEN=6,K.ROUND_HALF_CEIL=7,K.ROUND_HALF_FLOOR=8,K.EUCLID=9,K.config=K.set=function(ne){var ae,ye;if(ne!=null)if(typeof ne=="object"){if(ne.hasOwnProperty(ae="DECIMAL_PLACES")&&(ye=ne[ae],Fs(ye,0,Go,ae),y=ye),ne.hasOwnProperty(ae="ROUNDING_MODE")&&(ye=ne[ae],Fs(ye,0,8,ae),v=ye),ne.hasOwnProperty(ae="EXPONENTIAL_AT")&&(ye=ne[ae],ye&&ye.pop?(Fs(ye[0],-Go,0,ae),Fs(ye[1],0,Go,ae),E=ye[0],_=ye[1]):(Fs(ye,-Go,Go,ae),E=-(_=ye<0?-ye:ye))),ne.hasOwnProperty(ae="RANGE"))if(ye=ne[ae],ye&&ye.pop)Fs(ye[0],-Go,-1,ae),Fs(ye[1],1,Go,ae),k=ye[0],R=ye[1];else if(Fs(ye,-Go,Go,ae),ye)k=-(R=ye<0?-ye:ye);else throw Error(Ga+ae+" cannot be zero: "+ye);if(ne.hasOwnProperty(ae="CRYPTO"))if(ye=ne[ae],ye===!!ye)if(ye)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))B=ye;else throw B=!ye,Error(Ga+"crypto unavailable");else B=ye;else throw Error(Ga+ae+" not true or false: "+ye);if(ne.hasOwnProperty(ae="MODULO_MODE")&&(ye=ne[ae],Fs(ye,0,9,ae),M=ye),ne.hasOwnProperty(ae="POW_PRECISION")&&(ye=ne[ae],Fs(ye,0,Go,ae),F=ye),ne.hasOwnProperty(ae="FORMAT"))if(ye=ne[ae],typeof ye=="object")H=ye;else throw Error(Ga+ae+" not an object: "+ye);if(ne.hasOwnProperty(ae="ALPHABET"))if(ye=ne[ae],typeof ye=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(ye))Z=ye.slice(0,10)=="0123456789",U=ye;else throw Error(Ga+ae+" invalid: "+ye)}else throw Error(Ga+"Object expected: "+ne);return{DECIMAL_PLACES:y,ROUNDING_MODE:v,EXPONENTIAL_AT:[E,_],RANGE:[k,R],CRYPTO:B,MODULO_MODE:M,POW_PRECISION:F,FORMAT:H,ALPHABET:U}},K.isBigNumber=function(ne){if(!ne||ne._isBigNumber!==!0)return!1;if(!K.DEBUG)return!0;var ae,ye,de=ne.c,xe=ne.e,le=ne.s;e:if({}.toString.call(de)=="[object Array]"){if((le===1||le===-1)&&xe>=-Go&&xe<=Go&&xe===ou(xe)){if(de[0]===0){if(xe===0&&de.length===1)return!0;break e}if(ae=(xe+1)%Vn,ae<1&&(ae+=Vn),String(de[0]).length==ae){for(ae=0;ae<de.length;ae++)if(ye=de[ae],ye<0||ye>=wf||ye!==ou(ye))break e;if(ye!==0)return!0}}}else if(de===null&&xe===null&&(le===null||le===1||le===-1))return!0;throw Error(Ga+"Invalid BigNumber: "+ne)},K.maximum=K.max=function(){return oe(arguments,c.lt)},K.minimum=K.min=function(){return oe(arguments,c.gt)},K.random=function(){var ne=9007199254740992,ae=Math.random()*ne&2097151?function(){return ou(Math.random()*ne)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(ye){var de,xe,le,re,he,me=0,Re=[],Ie=new K(p);if(ye==null?ye=y:Fs(ye,0,Go),re=k5(ye/Vn),B)if(crypto.getRandomValues){for(de=crypto.getRandomValues(new Uint32Array(re*=2));me<re;)he=de[me]*131072+(de[me+1]>>>11),he>=9e15?(xe=crypto.getRandomValues(new Uint32Array(2)),de[me]=xe[0],de[me+1]=xe[1]):(Re.push(he%1e14),me+=2);me=re/2}else if(crypto.randomBytes){for(de=crypto.randomBytes(re*=7);me<re;)he=(de[me]&31)*281474976710656+de[me+1]*1099511627776+de[me+2]*4294967296+de[me+3]*16777216+(de[me+4]<<16)+(de[me+5]<<8)+de[me+6],he>=9e15?crypto.randomBytes(7).copy(de,me):(Re.push(he%1e14),me+=7);me=re/7}else throw B=!1,Error(Ga+"crypto unavailable");if(!B)for(;me<re;)he=ae(),he<9e15&&(Re[me++]=he%1e14);for(re=Re[--me],ye%=Vn,re&&ye&&(he=S5[Vn-ye],Re[me]=ou(re/he)*he);Re[me]===0;Re.pop(),me--);if(me<0)Re=[le=0];else{for(le=-1;Re[0]===0;Re.splice(0,1),le-=Vn);for(me=1,he=Re[0];he>=10;he/=10,me++);me<Vn&&(le-=Vn-me)}return Ie.e=le,Ie.c=Re,Ie}}(),K.sum=function(){for(var ne=1,ae=arguments,ye=new K(ae[0]);ne<ae.length;)ye=ye.plus(ae[ne++]);return ye},r=function(){var ne="0123456789";function ae(ye,de,xe,le){for(var re,he=[0],me,Re=0,Ie=ye.length;Re<Ie;){for(me=he.length;me--;he[me]*=de);for(he[0]+=le.indexOf(ye.charAt(Re++)),re=0;re<he.length;re++)he[re]>xe-1&&(he[re+1]==null&&(he[re+1]=0),he[re+1]+=he[re]/xe|0,he[re]%=xe)}return he.reverse()}return function(ye,de,xe,le,re){var he,me,Re,Ie,Ne,Qe,Ue,ce,Me=ye.indexOf("."),ot=y,Se=v;for(Me>=0&&(Ie=F,F=0,ye=ye.replace(".",""),ce=new K(de),Qe=ce.pow(ye.length-Me),F=Ie,ce.c=ae(Ku(jl(Qe.c),Qe.e,"0"),10,xe,ne),ce.e=ce.c.length),Ue=ae(ye,de,xe,re?(he=U,ne):(he=ne,U)),Re=Ie=Ue.length;Ue[--Ie]==0;Ue.pop());if(!Ue[0])return he.charAt(0);if(Me<0?--Re:(Qe.c=Ue,Qe.e=Re,Qe.s=le,Qe=t(Qe,ce,ot,Se,xe),Ue=Qe.c,Ne=Qe.r,Re=Qe.e),me=Re+ot+1,Me=Ue[me],Ie=xe/2,Ne=Ne||me<0||Ue[me+1]!=null,Ne=Se<4?(Me!=null||Ne)&&(Se==0||Se==(Qe.s<0?3:2)):Me>Ie||Me==Ie&&(Se==4||Ne||Se==6&&Ue[me-1]&1||Se==(Qe.s<0?8:7)),me<1||!Ue[0])ye=Ne?Ku(he.charAt(1),-ot,he.charAt(0)):he.charAt(0);else{if(Ue.length=me,Ne)for(--xe;++Ue[--me]>xe;)Ue[me]=0,me||(++Re,Ue=[1].concat(Ue));for(Ie=Ue.length;!Ue[--Ie];);for(Me=0,ye="";Me<=Ie;ye+=he.charAt(Ue[Me++]));ye=Ku(ye,Re,he.charAt(0))}return ye}}(),t=function(){function ne(de,xe,le){var re,he,me,Re,Ie=0,Ne=de.length,Qe=xe%uh,Ue=xe/uh|0;for(de=de.slice();Ne--;)me=de[Ne]%uh,Re=de[Ne]/uh|0,re=Ue*me+Re*Qe,he=Qe*me+re%uh*uh+Ie,Ie=(he/le|0)+(re/uh|0)+Ue*Re,de[Ne]=he%le;return Ie&&(de=[Ie].concat(de)),de}function ae(de,xe,le,re){var he,me;if(le!=re)me=le>re?1:-1;else for(he=me=0;he<le;he++)if(de[he]!=xe[he]){me=de[he]>xe[he]?1:-1;break}return me}function ye(de,xe,le,re){for(var he=0;le--;)de[le]-=he,he=de[le]<xe[le]?1:0,de[le]=he*re+de[le]-xe[le];for(;!de[0]&&de.length>1;de.splice(0,1));}return function(de,xe,le,re,he){var me,Re,Ie,Ne,Qe,Ue,ce,Me,ot,Se,Xe,ct,$e,Et,Dt,er,Gt,Ht=de.s==xe.s?1:-1,Kt=de.c,yr=xe.c;if(!Kt||!Kt[0]||!yr||!yr[0])return new K(!de.s||!xe.s||(Kt?yr&&Kt[0]==yr[0]:!yr)?NaN:Kt&&Kt[0]==0||!yr?Ht*0:Ht/0);for(Me=new K(Ht),ot=Me.c=[],Re=de.e-xe.e,Ht=le+Re+1,he||(he=wf,Re=Wl(de.e/Vn)-Wl(xe.e/Vn),Ht=Ht/Vn|0),Ie=0;yr[Ie]==(Kt[Ie]||0);Ie++);if(yr[Ie]>(Kt[Ie]||0)&&Re--,Ht<0)ot.push(1),Ne=!0;else{for(Et=Kt.length,er=yr.length,Ie=0,Ht+=2,Qe=ou(he/(yr[0]+1)),Qe>1&&(yr=ne(yr,Qe,he),Kt=ne(Kt,Qe,he),er=yr.length,Et=Kt.length),$e=er,Se=Kt.slice(0,er),Xe=Se.length;Xe<er;Se[Xe++]=0);Gt=yr.slice(),Gt=[0].concat(Gt),Dt=yr[0],yr[1]>=he/2&&Dt++;do{if(Qe=0,me=ae(yr,Se,er,Xe),me<0){if(ct=Se[0],er!=Xe&&(ct=ct*he+(Se[1]||0)),Qe=ou(ct/Dt),Qe>1)for(Qe>=he&&(Qe=he-1),Ue=ne(yr,Qe,he),ce=Ue.length,Xe=Se.length;ae(Ue,Se,ce,Xe)==1;)Qe--,ye(Ue,er<ce?Gt:yr,ce,he),ce=Ue.length,me=1;else Qe==0&&(me=Qe=1),Ue=yr.slice(),ce=Ue.length;if(ce<Xe&&(Ue=[0].concat(Ue)),ye(Se,Ue,Xe,he),Xe=Se.length,me==-1)for(;ae(yr,Se,er,Xe)<1;)Qe++,ye(Se,er<Xe?Gt:yr,Xe,he),Xe=Se.length}else me===0&&(Qe++,Se=[0]);ot[Ie++]=Qe,Se[0]?Se[Xe++]=Kt[$e]||0:(Se=[Kt[$e]],Xe=1)}while(($e++<Et||Se[0]!=null)&&Ht--);Ne=Se[0]!=null,ot[0]||ot.splice(0,1)}if(he==wf){for(Ie=1,Ht=ot[0];Ht>=10;Ht/=10,Ie++);be(Me,le+(Me.e=Ie+Re*Vn-1)+1,re,Ne)}else Me.e=Re,Me.r=+Ne;return Me}}();function fe(ne,ae,ye,de){var xe,le,re,he,me;if(ye==null?ye=v:Fs(ye,0,8),!ne.c)return ne.toString();if(xe=ne.c[0],re=ne.e,ae==null)me=jl(ne.c),me=de==1||de==2&&(re<=E||re>=_)?_v(me,re):Ku(me,re,"0");else if(ne=be(new K(ne),ae,ye),le=ne.e,me=jl(ne.c),he=me.length,de==1||de==2&&(ae<=le||le<=E)){for(;he<ae;me+="0",he++);me=_v(me,le)}else if(ae-=re,me=Ku(me,le,"0"),le+1>he){if(--ae>0)for(me+=".";ae--;me+="0");}else if(ae+=le-he,ae>0)for(le+1==he&&(me+=".");ae--;me+="0");return ne.s<0&&xe?"-"+me:me}function oe(ne,ae){for(var ye,de=1,xe=new K(ne[0]);de<ne.length;de++)if(ye=new K(ne[de]),ye.s)ae.call(xe,ye)&&(xe=ye);else{xe=ye;break}return xe}function we(ne,ae,ye){for(var de=1,xe=ae.length;!ae[--xe];ae.pop());for(xe=ae[0];xe>=10;xe/=10,de++);return(ye=de+ye*Vn-1)>R?ne.c=ne.e=null:ye<k?ne.c=[ne.e=0]:(ne.e=ye,ne.c=ae),ne}n=function(){var ne=/^(-?)0([xbo])(?=\w[\w.]*$)/i,ae=/^([^.]+)\.$/,ye=/^\.([^.]+)$/,de=/^-?(Infinity|NaN)$/,xe=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(le,re,he,me){var Re,Ie=he?re:re.replace(xe,"");if(de.test(Ie))le.s=isNaN(Ie)?null:Ie<0?-1:1;else{if(!he&&(Ie=Ie.replace(ne,function(Ne,Qe,Ue){return Re=(Ue=Ue.toLowerCase())=="x"?16:Ue=="b"?2:8,!me||me==Re?Qe:Ne}),me&&(Re=me,Ie=Ie.replace(ae,"$1").replace(ye,"0.$1")),re!=Ie))return new K(Ie,Re);if(K.DEBUG)throw Error(Ga+"Not a"+(me?" base "+me:"")+" number: "+re);le.s=null}le.c=le.e=null}}();function be(ne,ae,ye,de){var xe,le,re,he,me,Re,Ie,Ne=ne.c,Qe=S5;if(Ne){e:{for(xe=1,he=Ne[0];he>=10;he/=10,xe++);if(le=ae-xe,le<0)le+=Vn,re=ae,me=Ne[Re=0],Ie=me/Qe[xe-re-1]%10|0;else if(Re=k5((le+1)/Vn),Re>=Ne.length)if(de){for(;Ne.length<=Re;Ne.push(0));me=Ie=0,xe=1,le%=Vn,re=le-Vn+1}else break e;else{for(me=he=Ne[Re],xe=1;he>=10;he/=10,xe++);le%=Vn,re=le-Vn+xe,Ie=re<0?0:me/Qe[xe-re-1]%10|0}if(de=de||ae<0||Ne[Re+1]!=null||(re<0?me:me%Qe[xe-re-1]),de=ye<4?(Ie||de)&&(ye==0||ye==(ne.s<0?3:2)):Ie>5||Ie==5&&(ye==4||de||ye==6&&(le>0?re>0?me/Qe[xe-re]:0:Ne[Re-1])%10&1||ye==(ne.s<0?8:7)),ae<1||!Ne[0])return Ne.length=0,de?(ae-=ne.e+1,Ne[0]=Qe[(Vn-ae%Vn)%Vn],ne.e=-ae||0):Ne[0]=ne.e=0,ne;if(le==0?(Ne.length=Re,he=1,Re--):(Ne.length=Re+1,he=Qe[Vn-le],Ne[Re]=re>0?ou(me/Qe[xe-re]%Qe[re])*he:0),de)for(;;)if(Re==0){for(le=1,re=Ne[0];re>=10;re/=10,le++);for(re=Ne[0]+=he,he=1;re>=10;re/=10,he++);le!=he&&(ne.e++,Ne[0]==wf&&(Ne[0]=1));break}else{if(Ne[Re]+=he,Ne[Re]!=wf)break;Ne[Re--]=0,he=1}for(le=Ne.length;Ne[--le]===0;Ne.pop());}ne.e>R?ne.c=ne.e=null:ne.e<k&&(ne.c=[ne.e=0])}return ne}function ve(ne){var ae,ye=ne.e;return ye===null?ne.toString():(ae=jl(ne.c),ae=ye<=E||ye>=_?_v(ae,ye):Ku(ae,ye,"0"),ne.s<0?"-"+ae:ae)}return c.absoluteValue=c.abs=function(){var ne=new K(this);return ne.s<0&&(ne.s=1),ne},c.comparedTo=function(ne,ae){return vp(this,new K(ne,ae))},c.decimalPlaces=c.dp=function(ne,ae){var ye,de,xe,le=this;if(ne!=null)return Fs(ne,0,Go),ae==null?ae=v:Fs(ae,0,8),be(new K(le),ne+le.e+1,ae);if(!(ye=le.c))return null;if(de=((xe=ye.length-1)-Wl(this.e/Vn))*Vn,xe=ye[xe])for(;xe%10==0;xe/=10,de--);return de<0&&(de=0),de},c.dividedBy=c.div=function(ne,ae){return t(this,new K(ne,ae),y,v)},c.dividedToIntegerBy=c.idiv=function(ne,ae){return t(this,new K(ne,ae),0,1)},c.exponentiatedBy=c.pow=function(ne,ae){var ye,de,xe,le,re,he,me,Re,Ie,Ne=this;if(ne=new K(ne),ne.c&&!ne.isInteger())throw Error(Ga+"Exponent not an integer: "+ve(ne));if(ae!=null&&(ae=new K(ae)),he=ne.e>14,!Ne.c||!Ne.c[0]||Ne.c[0]==1&&!Ne.e&&Ne.c.length==1||!ne.c||!ne.c[0])return Ie=new K(Math.pow(+ve(Ne),he?2-Ev(ne):+ve(ne))),ae?Ie.mod(ae):Ie;if(me=ne.s<0,ae){if(ae.c?!ae.c[0]:!ae.s)return new K(NaN);de=!me&&Ne.isInteger()&&ae.isInteger(),de&&(Ne=Ne.mod(ae))}else{if(ne.e>9&&(Ne.e>0||Ne.e<-1||(Ne.e==0?Ne.c[0]>1||he&&Ne.c[1]>=24e7:Ne.c[0]<8e13||he&&Ne.c[0]<=9999975e7)))return le=Ne.s<0&&Ev(ne)?-0:0,Ne.e>-1&&(le=1/le),new K(me?1/le:le);F&&(le=k5(F/Vn+2))}for(he?(ye=new K(.5),me&&(ne.s=1),Re=Ev(ne)):(xe=Math.abs(+ve(ne)),Re=xe%2),Ie=new K(p);;){if(Re){if(Ie=Ie.times(Ne),!Ie.c)break;le?Ie.c.length>le&&(Ie.c.length=le):de&&(Ie=Ie.mod(ae))}if(xe){if(xe=ou(xe/2),xe===0)break;Re=xe%2}else if(ne=ne.times(ye),be(ne,ne.e+1,1),ne.e>14)Re=Ev(ne);else{if(xe=+ve(ne),xe===0)break;Re=xe%2}Ne=Ne.times(Ne),le?Ne.c&&Ne.c.length>le&&(Ne.c.length=le):de&&(Ne=Ne.mod(ae))}return de?Ie:(me&&(Ie=p.div(Ie)),ae?Ie.mod(ae):le?be(Ie,F,v,re):Ie)},c.integerValue=function(ne){var ae=new K(this);return ne==null?ne=v:Fs(ne,0,8),be(ae,ae.e+1,ne)},c.isEqualTo=c.eq=function(ne,ae){return vp(this,new K(ne,ae))===0},c.isFinite=function(){return!!this.c},c.isGreaterThan=c.gt=function(ne,ae){return vp(this,new K(ne,ae))>0},c.isGreaterThanOrEqualTo=c.gte=function(ne,ae){return(ae=vp(this,new K(ne,ae)))===1||ae===0},c.isInteger=function(){return!!this.c&&Wl(this.e/Vn)>this.c.length-2},c.isLessThan=c.lt=function(ne,ae){return vp(this,new K(ne,ae))<0},c.isLessThanOrEqualTo=c.lte=function(ne,ae){return(ae=vp(this,new K(ne,ae)))===-1||ae===0},c.isNaN=function(){return!this.s},c.isNegative=function(){return this.s<0},c.isPositive=function(){return this.s>0},c.isZero=function(){return!!this.c&&this.c[0]==0},c.minus=function(ne,ae){var ye,de,xe,le,re=this,he=re.s;if(ne=new K(ne,ae),ae=ne.s,!he||!ae)return new K(NaN);if(he!=ae)return ne.s=-ae,re.plus(ne);var me=re.e/Vn,Re=ne.e/Vn,Ie=re.c,Ne=ne.c;if(!me||!Re){if(!Ie||!Ne)return Ie?(ne.s=-ae,ne):new K(Ne?re:NaN);if(!Ie[0]||!Ne[0])return Ne[0]?(ne.s=-ae,ne):new K(Ie[0]?re:v==3?-0:0)}if(me=Wl(me),Re=Wl(Re),Ie=Ie.slice(),he=me-Re){for((le=he<0)?(he=-he,xe=Ie):(Re=me,xe=Ne),xe.reverse(),ae=he;ae--;xe.push(0));xe.reverse()}else for(de=(le=(he=Ie.length)<(ae=Ne.length))?he:ae,he=ae=0;ae<de;ae++)if(Ie[ae]!=Ne[ae]){le=Ie[ae]<Ne[ae];break}if(le&&(xe=Ie,Ie=Ne,Ne=xe,ne.s=-ne.s),ae=(de=Ne.length)-(ye=Ie.length),ae>0)for(;ae--;Ie[ye++]=0);for(ae=wf-1;de>he;){if(Ie[--de]<Ne[de]){for(ye=de;ye&&!Ie[--ye];Ie[ye]=ae);--Ie[ye],Ie[de]+=wf}Ie[de]-=Ne[de]}for(;Ie[0]==0;Ie.splice(0,1),--Re);return Ie[0]?we(ne,Ie,Re):(ne.s=v==3?-1:1,ne.c=[ne.e=0],ne)},c.modulo=c.mod=function(ne,ae){var ye,de,xe=this;return ne=new K(ne,ae),!xe.c||!ne.s||ne.c&&!ne.c[0]?new K(NaN):!ne.c||xe.c&&!xe.c[0]?new K(xe):(M==9?(de=ne.s,ne.s=1,ye=t(xe,ne,0,3),ne.s=de,ye.s*=de):ye=t(xe,ne,0,M),ne=xe.minus(ye.times(ne)),!ne.c[0]&&M==1&&(ne.s=xe.s),ne)},c.multipliedBy=c.times=function(ne,ae){var ye,de,xe,le,re,he,me,Re,Ie,Ne,Qe,Ue,ce,Me,ot,Se=this,Xe=Se.c,ct=(ne=new K(ne,ae)).c;if(!Xe||!ct||!Xe[0]||!ct[0])return!Se.s||!ne.s||Xe&&!Xe[0]&&!ct||ct&&!ct[0]&&!Xe?ne.c=ne.e=ne.s=null:(ne.s*=Se.s,!Xe||!ct?ne.c=ne.e=null:(ne.c=[0],ne.e=0)),ne;for(de=Wl(Se.e/Vn)+Wl(ne.e/Vn),ne.s*=Se.s,me=Xe.length,Ne=ct.length,me<Ne&&(ce=Xe,Xe=ct,ct=ce,xe=me,me=Ne,Ne=xe),xe=me+Ne,ce=[];xe--;ce.push(0));for(Me=wf,ot=uh,xe=Ne;--xe>=0;){for(ye=0,Qe=ct[xe]%ot,Ue=ct[xe]/ot|0,re=me,le=xe+re;le>xe;)Re=Xe[--re]%ot,Ie=Xe[re]/ot|0,he=Ue*Re+Ie*Qe,Re=Qe*Re+he%ot*ot+ce[le]+ye,ye=(Re/Me|0)+(he/ot|0)+Ue*Ie,ce[le--]=Re%Me;ce[le]=ye}return ye?++de:ce.splice(0,1),we(ne,ce,de)},c.negated=function(){var ne=new K(this);return ne.s=-ne.s||null,ne},c.plus=function(ne,ae){var ye,de=this,xe=de.s;if(ne=new K(ne,ae),ae=ne.s,!xe||!ae)return new K(NaN);if(xe!=ae)return ne.s=-ae,de.minus(ne);var le=de.e/Vn,re=ne.e/Vn,he=de.c,me=ne.c;if(!le||!re){if(!he||!me)return new K(xe/0);if(!he[0]||!me[0])return me[0]?ne:new K(he[0]?de:xe*0)}if(le=Wl(le),re=Wl(re),he=he.slice(),xe=le-re){for(xe>0?(re=le,ye=me):(xe=-xe,ye=he),ye.reverse();xe--;ye.push(0));ye.reverse()}for(xe=he.length,ae=me.length,xe-ae<0&&(ye=me,me=he,he=ye,ae=xe),xe=0;ae;)xe=(he[--ae]=he[ae]+me[ae]+xe)/wf|0,he[ae]=wf===he[ae]?0:he[ae]%wf;return xe&&(he=[xe].concat(he),++re),we(ne,he,re)},c.precision=c.sd=function(ne,ae){var ye,de,xe,le=this;if(ne!=null&&ne!==!!ne)return Fs(ne,1,Go),ae==null?ae=v:Fs(ae,0,8),be(new K(le),ne,ae);if(!(ye=le.c))return null;if(xe=ye.length-1,de=xe*Vn+1,xe=ye[xe]){for(;xe%10==0;xe/=10,de--);for(xe=ye[0];xe>=10;xe/=10,de++);}return ne&&le.e+1>de&&(de=le.e+1),de},c.shiftedBy=function(ne){return Fs(ne,-C5,C5),this.times("1e"+ne)},c.squareRoot=c.sqrt=function(){var ne,ae,ye,de,xe,le=this,re=le.c,he=le.s,me=le.e,Re=y+4,Ie=new K("0.5");if(he!==1||!re||!re[0])return new K(!he||he<0&&(!re||re[0])?NaN:re?le:1/0);if(he=Math.sqrt(+ve(le)),he==0||he==1/0?(ae=jl(re),(ae.length+me)%2==0&&(ae+="0"),he=Math.sqrt(+ae),me=Wl((me+1)/2)-(me<0||me%2),he==1/0?ae="5e"+me:(ae=he.toExponential(),ae=ae.slice(0,ae.indexOf("e")+1)+me),ye=new K(ae)):ye=new K(he+""),ye.c[0]){for(me=ye.e,he=me+Re,he<3&&(he=0);;)if(xe=ye,ye=Ie.times(xe.plus(t(le,xe,Re,1))),jl(xe.c).slice(0,he)===(ae=jl(ye.c)).slice(0,he))if(ye.e<me&&--he,ae=ae.slice(he-3,he+1),ae=="9999"||!de&&ae=="4999"){if(!de&&(be(xe,xe.e+y+2,0),xe.times(xe).eq(le))){ye=xe;break}Re+=4,he+=4,de=1}else{(!+ae||!+ae.slice(1)&&ae.charAt(0)=="5")&&(be(ye,ye.e+y+2,1),ne=!ye.times(ye).eq(le));break}}return be(ye,ye.e+y+1,v,ne)},c.toExponential=function(ne,ae){return ne!=null&&(Fs(ne,0,Go),ne++),fe(this,ne,ae,1)},c.toFixed=function(ne,ae){return ne!=null&&(Fs(ne,0,Go),ne=ne+this.e+1),fe(this,ne,ae)},c.toFormat=function(ne,ae,ye){var de,xe=this;if(ye==null)ne!=null&&ae&&typeof ae=="object"?(ye=ae,ae=null):ne&&typeof ne=="object"?(ye=ne,ne=ae=null):ye=H;else if(typeof ye!="object")throw Error(Ga+"Argument not an object: "+ye);if(de=xe.toFixed(ne,ae),xe.c){var le,re=de.split("."),he=+ye.groupSize,me=+ye.secondaryGroupSize,Re=ye.groupSeparator||"",Ie=re[0],Ne=re[1],Qe=xe.s<0,Ue=Qe?Ie.slice(1):Ie,ce=Ue.length;if(me&&(le=he,he=me,me=le,ce-=le),he>0&&ce>0){for(le=ce%he||he,Ie=Ue.substr(0,le);le<ce;le+=he)Ie+=Re+Ue.substr(le,he);me>0&&(Ie+=Re+Ue.slice(le)),Qe&&(Ie="-"+Ie)}de=Ne?Ie+(ye.decimalSeparator||"")+((me=+ye.fractionGroupSize)?Ne.replace(new RegExp("\\d{"+me+"}\\B","g"),"$&"+(ye.fractionGroupSeparator||"")):Ne):Ie}return(ye.prefix||"")+de+(ye.suffix||"")},c.toFraction=function(ne){var ae,ye,de,xe,le,re,he,me,Re,Ie,Ne,Qe,Ue=this,ce=Ue.c;if(ne!=null&&(he=new K(ne),!he.isInteger()&&(he.c||he.s!==1)||he.lt(p)))throw Error(Ga+"Argument "+(he.isInteger()?"out of range: ":"not an integer: ")+ve(he));if(!ce)return new K(Ue);for(ae=new K(p),Re=ye=new K(p),de=me=new K(p),Qe=jl(ce),le=ae.e=Qe.length-Ue.e-1,ae.c[0]=S5[(re=le%Vn)<0?Vn+re:re],ne=!ne||he.comparedTo(ae)>0?le>0?ae:Re:he,re=R,R=1/0,he=new K(Qe),me.c[0]=0;Ie=t(he,ae,0,1),xe=ye.plus(Ie.times(de)),xe.comparedTo(ne)!=1;)ye=de,de=xe,Re=me.plus(Ie.times(xe=Re)),me=xe,ae=he.minus(Ie.times(xe=ae)),he=xe;return xe=t(ne.minus(ye),de,0,1),me=me.plus(xe.times(Re)),ye=ye.plus(xe.times(de)),me.s=Re.s=Ue.s,le=le*2,Ne=t(Re,de,le,v).minus(Ue).abs().comparedTo(t(me,ye,le,v).minus(Ue).abs())<1?[Re,de]:[me,ye],R=re,Ne},c.toNumber=function(){return+ve(this)},c.toPrecision=function(ne,ae){return ne!=null&&Fs(ne,1,Go),fe(this,ne,ae,2)},c.toString=function(ne){var ae,ye=this,de=ye.s,xe=ye.e;return xe===null?de?(ae="Infinity",de<0&&(ae="-"+ae)):ae="NaN":(ne==null?ae=xe<=E||xe>=_?_v(jl(ye.c),xe):Ku(jl(ye.c),xe,"0"):ne===10&&Z?(ye=be(new K(ye),y+xe+1,v),ae=Ku(jl(ye.c),ye.e,"0")):(Fs(ne,2,U.length,"Base"),ae=r(Ku(jl(ye.c),xe,"0"),10,ne,de,!0)),de<0&&ye.c[0]&&(ae="-"+ae)),ae},c.valueOf=c.toJSON=function(){return ve(this)},c._isBigNumber=!0,c[Symbol.toStringTag]="BigNumber",c[Symbol.for("nodejs.util.inspect.custom")]=c.valueOf,a!=null&&K.set(a),K}function Wl(a){var t=a|0;return a>0||a===t?t:t-1}function jl(a){for(var t,r,n=1,c=a.length,p=a[0]+"";n<c;){for(t=a[n++]+"",r=Vn-t.length;r--;t="0"+t);p+=t}for(c=p.length;p.charCodeAt(--c)===48;);return p.slice(0,c+1||1)}function vp(a,t){var r,n,c=a.c,p=t.c,y=a.s,v=t.s,E=a.e,_=t.e;if(!y||!v)return null;if(r=c&&!c[0],n=p&&!p[0],r||n)return r?n?0:-v:y;if(y!=v)return y;if(r=y<0,n=E==_,!c||!p)return n?0:!c^r?1:-1;if(!n)return E>_^r?1:-1;for(v=(E=c.length)<(_=p.length)?E:_,y=0;y<v;y++)if(c[y]!=p[y])return c[y]>p[y]^r?1:-1;return E==_?0:E>_^r?1:-1}function Fs(a,t,r,n){if(a<t||a>r||a!==ou(a))throw Error(Ga+(n||"Argument")+(typeof a=="number"?a<t||a>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(a))}function Ev(a){var t=a.c.length-1;return Wl(a.e/Vn)==t&&a.c[t]%2!=0}function _v(a,t){return(a.length>1?a.charAt(0)+"."+a.slice(1):a)+(t<0?"e":"e+")+t}function Ku(a,t,r){var n,c;if(t<0){for(c=r+".";++t;c+=r);a=c+a}else if(n=a.length,++t>n){for(c=r,t-=n;--t;c+=r);a+=c}else t<n&&(a=a.slice(0,t)+"."+a.slice(t));return a}lI();const sne="0x0c4272eE2DE9d51073995874E1908Ac7BE71a8e6";let T5=null,M5=null,Op=null;(window==null?void 0:window.ethereum)&&jie&&(T5=new m_(window.ethereum),T5&&(M5=T5.getSigner(),M5&&(Op=new Zre(sne,rne.abi,M5))));const one=async a=>{if(Op&&a){const t=await window.ethereum.request({method:"eth_requestAccounts"});a.signals.metaMaskConnected.dispatch(),await Op.getCount(),console.log("addr",t);const n=(await fetch(`https://eth-goerli.g.alchemy.com/v2/grj2v0Knpbrr7Mn6lN3N6tz00uh1dd2i/getNFTs?owner=${t[0]}`).then(v=>v.json())).ownedNfts;let c=[];n.forEach(async v=>{const E=parseInt(v.id.tokenId,16);await c.push(fetch(`https://play.grwth.hk/nft-metadatas/${E}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(_=>_.json()))});const p=new THREE.ObjectLoader,y=await Promise.all(c).then(v=>{const E=v.map(_=>{const k=JSON.parse(g_.Buffer.from(_.data.Body.data).toString());return k.attributes[0].value=p.parse(JSON.parse(k.attributes[0].value)),k});return window.nftMetadatas=[...E],E}).catch(v=>console.log("error",v));await a.signals.metadatasFetched.dispatch(y)}},fI=async a=>{const t={name:"Name of NFT (user set?)",description:"Description of NFT (user set?)",image:"Must be complete URL",animation_url:"Must be complete URL, enables interactive 3D previews, not necessary",attributes:[{trait_type:"mesh",value:JSON.stringify(a.toJSON())}]},r=await Op.getCount(),n=JSON.stringify(t),c=new TextEncoder().encode(n),p=r.toString(),y=new Blob([c],{type:"application/json"},`${p}.json`),v=new File([y],`${p}.json`),E=new FormData;E.append("fields",v),E.append("wallet",Op.address),await Po({method:"post",url:"https://play.grwth.hk/nft-metadatas",data:E,headers:{"Content-Type":"multipart/form-data"}}).then(function(R){console.log(R)}).catch(function(R){console.log(R)});const _=`https://grwth-1313285235.cos.ap-hongkong.myqcloud.com/nft-metadatas/${p}.json`,k="0.01";await Op.mintToken(_,{value:Jie(k)})};function ane(a){const t=a.strings,r=new on;r.addClass("menu"),r.addClass("cursor");const n=new on;n.setClass("title"),r.add(n);const c=new on;c.setClass("options word cursor"),r.add(c),n.dom.insertBefore(Ys().getKey("addbar/option/cursor"),n.firstChild);var p=new MutationObserver(function(U){n.dom.replaceChild(Ys().getKey(n.getClass().includes("open")?"addbar/option/cursor/open":"addbar/option/cursor"),n.dom.firstChild)});p.observe(n.dom,{attributes:!0,attributeFilter:["class"],childList:!1,characterData:!1});const y=new Lr;let v=new B0("addbar/option/cursor/undo",()=>{});y.add(v),y.add(new si(t.getKey("addbar/option/cursor/undo"))),y.setClass("option desc"),y.onClick(function(){a.undo()}),c.add(y);const E=new Lr;v=new B0("addbar/option/cursor/redo",()=>{}),E.add(v),E.add(new si(t.getKey("addbar/option/cursor/redo"))),E.setClass("option desc"),E.onClick(function(){a.redo()}),c.add(E);let _=new Lr;_.setClass("option desc"),_.setTextContent(t.getKey("addbar/option/cursor/clear_history")),_.onClick(function(){confirm("The Undo/Redo History will be cleared. Are you sure?")&&a.history.clear()}),a.signals.historyChanged.add(function(){const U=a.history;y.setClass("option desc"),E.setClass("option desc"),U.undos.length==0&&y.addClass("inactive"),U.redos.length==0&&E.addClass("inactive")}),_=new Lr,_.setClass("option desc"),_.setTextContent(t.getKey("addbar/option/cursor/center")),_.onClick(function(){const U=a.selected;if(U===null||U.parent===null)return;const K=new Box3().setFromObject(U).getCenter(new Vector3),fe=new Vector3;fe.x=U.position.x+(U.position.x-K.x),fe.y=U.position.y+(U.position.y-K.y),fe.z=U.position.z+(U.position.z-K.z),a.execute(new SetPositionCommand(a,U,fe))});const k=new Lr;k.setClass("line"),c.add(k);const R=new Lr;R.setClass("option desc inactive"),R.setTextContent("Mint"),R.onClick(function(){const U=a.selected;fI(U)}),a.signals.metaMaskConnected.add(function(U){window.metaMaskConnected=!0}),a.signals.objectSelected.add(function(U){var Z;window!=null&&window.metaMaskConnected&&R.setClass("option desc"),(!U||["Exit","Entrance"].includes((Z=U==null?void 0:U.userData)==null?void 0:Z.type))&&R.addClass("inactive")});const B=new Lr;v=new B0("addbar/option/cursor/duplicate",()=>{}),B.add(v),B.add(new si(t.getKey("addbar/option/cursor/duplicate"))),B.setClass("option desc"),B.onClick(function(){var Z;let U=a.selected;if(!(U===null||U.parent===null||["Exit","Entrance"].includes(U.userData.type))){if(U.type==="Mesh"&&U.parent.type!=="Group"){const K=new Kr(U.geometry,new q0({color:"#FFFFFF"}));(Z=K.material)!=null&&Z.map&&(K.material.map=U.material.map,K.material.polygonOffsetFactor=U.material.polygonOffsetFactor+1,K.material.needsUpdate=!0),console.log(K.material),U.material.color.getHex()&&K.material.color.setHex(U.material.color.getHex()),U.material&&(K.material=new q0().copy(U.material)),K.name=`${U.name}'s copy`,K.position.copy(U.position),K.scale.copy(U.scale),K.rotation.copy(U.rotation),K.needsUpdate=!0,K.userData=JSON.parse(JSON.stringify(U.userData)),a.execute(new r0(a,K))}if(U.type=="Group"){const K=U.clone();K.children&&(console.log("mesh.children",K.children),K.children.forEach((fe,oe)=>{fe.material&&(fe.material=new q0().copy(U.children[oe].material))})),K.name=`${U.name}'s copy`,K.position.copy(U.position),K.scale.copy(U.scale),K.rotation.copy(U.rotation),K.needsUpdate=!0,K.userData=JSON.parse(JSON.stringify(K.userData)),a.execute(new r0(a,K))}}}),c.add(B),a.signals.objectSelected.add(function(U){var Z;B.setClass("option desc"),["Exit","Entrance"].includes((Z=U==null?void 0:U.userData)==null?void 0:Z.type)&&B.addClass("inactive")}),_=new Lr,v=new B0("addbar/option/cursor/delete",()=>{}),_.add(v),_.add(new si(t.getKey("addbar/option/cursor/delete"))),_.setClass("option desc"),_.onClick(function(){const U=a.selected;U!==null&&U.parent!==null&&a.execute(new xh(a,U))}),c.add(_),_=new Lr,_.setClass("option desc"),_.setTextContent(t.getKey("addbar/option/cursor/fixcolormaps")),_.onClick(function(){a.scene.traverse(F)});const M=["map","envMap","emissiveMap"];function F(U){const Z=U.material;if(Z!==void 0){if(Array.isArray(Z)===!0)for(let K=0;K<Z.length;K++)H(Z[K]);else H(Z);a.signals.sceneGraphChanged.dispatch()}}function H(U){let Z=U.needsUpdate;for(let K=0;K<M.length;K++){const fe=U[M[K]];fe&&(fe.encoding=b0,Z=!0)}U.needsUpdate=Z}return r}function hM(a){return a==null?void 0:a.scene.children.reduce((r,n)=>(n.type==="Mesh"&&!["Group","Exit","Entrance","Portal"].includes(n.userData.type)&&r++,n.type==="Group"&&(n==null||n.children.forEach(c=>{r++})),r),0)}function dM(a,t){const{name:r,type:n}=a;r?t.name=r:t.name=n,t.userData.type=n,["Exit","Entrance","Portal","Presentation"].includes(n)||(editor.setObjectAudio(t,{option:"none",value:null}),editor.setObjectOnClick(t,{option:"none",value:"https://play.grwth.hk/"}),editor.setObjectPostit(t,{option:"none",value:"Post-It",bgcolor:"16440786"}))}function lne(a){const t=a.strings,r=new on;r.addClass("menu"),r.addClass("text");const n=new on;n.setClass("title"),r.add(n);const c=new on;c.setClass("options word text"),r.add(c),n.dom.insertBefore(Ys().getKey("addbar/option/text"),n.firstChild);var p=new MutationObserver(function(E){n.dom.replaceChild(Ys().getKey(n.getClass().includes("open")?"addbar/option/text/open":"addbar/option/text"),n.dom.firstChild)});p.observe(n.dom,{attributes:!0,attributeFilter:["class"],childList:!1,characterData:!1});let y=new Lr,v=new B0("addbar/option/object/text",()=>{});return y.add(v),y.add(new si(t.getKey("addbar/option/object/text"))),y.setClass("option desc"),y.onClick(function(){const E=new Lo(1,1,1,1),_=new q0({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-hM(a),transparent:!0,side:Lf});_.transparent=!0;const k=new Kr(E,_);a.setObjectText(k,{option:"none",value:"Text"}),dM({type:"Text"},k),k.scale.copy(new wt(3,1,1)),k.updateMatrixWorld(!0),a.execute(new r0(a,k)),a.signals.objectChanged.dispatch(k),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),c.add(y),y=new Lr,v=new B0("addbar/option/object/postit",()=>{}),y.add(v),y.add(new si(t.getKey("addbar/option/object/postit"))),y.setClass("option desc"),y.onClick(function(){const E=new Lo(1,1,1,1),_=new q0({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-hM(a),transparent:!0,side:Lf});_.transparent=!0;const k=new Kr(E,_);a.setObjectPostit(k,{option:"none",value:"Postit",bgcolor:0}),dM({type:"Postit"},k),k.scale.copy(new wt(3,1,1)),k.updateMatrixWorld(!0),a.execute(new r0(a,k)),a.signals.objectChanged.dispatch(k),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),c.add(y),r}function fne(a){return a==null?void 0:a.scene.children.reduce((r,n)=>(n.type==="Mesh"&&!["Group","Exit","Entrance","Portal"].includes(n.userData.type)&&r++,n.type==="Group"&&(n==null||n.children.forEach(c=>{r++})),r),0)}function une(a,t){const{name:r,type:n}=a;r?t.name=r:t.name=n,t.userData.type=n,["Exit","Entrance","Portal","Presentation"].includes(n)||(editor.setObjectAudio(t,{option:"none",value:null}),editor.setObjectOnClick(t,{option:"none",value:"https://play.grwth.hk/"}),editor.setObjectPostit(t,{option:"none",value:"Post-It",bgcolor:"16440786"}))}function cne(a){const t=a.strings,r=new on;r.addClass("menu"),r.addClass("media");const n=new on;n.setClass("title"),r.add(n);const c=new on;c.setClass("options word media"),r.add(c),n.dom.insertBefore(Ys().getKey("addbar/option/media"),n.firstChild);var p=new MutationObserver(function(E){n.dom.replaceChild(Ys().getKey(n.getClass().includes("open")?"addbar/option/media/open":"addbar/option/media"),n.dom.firstChild)});p.observe(n.dom,{attributes:!0,attributeFilter:["class"],childList:!1,characterData:!1});let y=new Lr,v=new B0("addbar/option/object/presentation",()=>{});return y.add(v),y.add(new si(t.getKey("addbar/option/object/presentation"))),y.setClass("option desc"),y.onClick(function(){const E=new Lo(1,1,1,1),_=new q0({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-fne(a)});_.color=new _i("white");const k=new Kr(E,_);a.setObjectPresentation(k,{option:"none",value:{sourceFile:null,base64:""}});let R=new Image;R.src=a.getObjectPresentation(k).value.base64;let B=new Z0;B.image=R,_.transparent=!1,_.map=B,B.needsUpdate=!0,_.map.needsUpdate=!0,_.needsUpdate=!0,une({type:"Presentation"},k),k.scale.copy(new wt(10,10,1)),k.updateMatrixWorld(!0),a.execute(new r0(a,k)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),c.add(y),r}function bl(a){return a==null?void 0:a.scene.children.reduce((r,n)=>(n.type==="Mesh"&&!["Group","Exit","Entrance","Portal"].includes(n.userData.type)&&r++,n.type==="Group"&&(n==null||n.children.forEach(c=>{r++})),r),0)}function Af(a,t){const{name:r,type:n}=a;r?t.name=r:t.name=n,t.userData.type=n,["Exit","Entrance","Portal","Presentation"].includes(n)||(editor.setObjectAudio(t,{option:"none",value:null}),editor.setObjectOnClick(t,{option:"none",value:"https://play.grwth.hk/"}))}function hne(a){const t=a.strings,r=new on;r.addClass("menu"),r.addClass("object");const n=new on;n.setClass("title"),r.add(n);const c=new on;c.setClass("options word object"),r.add(c),n.dom.insertBefore(Ys().getKey("addbar/option/object"),n.firstChild);var p=new MutationObserver(function(E){n.dom.replaceChild(Ys().getKey(n.getClass().includes("open")?"addbar/option/object/open":"addbar/option/object"),n.dom.firstChild)});p.observe(n.dom,{attributes:!0,attributeFilter:["class"],childList:!1,characterData:!1});let y=new Lr,v=new B0("menubar/add/sprite",()=>{});return y.add(v),y.add(new si(t.getKey("menubar/add/sprite"))),y.setClass("option desc"),y.onClick(function(){const E=new Mf(new s2);E.name="Sprite",a.execute(new r0(a,E))}),y=new Lr,v=new B0("addbar/option/object/plane",()=>{}),y.add(v),y.add(new si(t.getKey("addbar/option/object/plane"))),y.setClass("option desc"),y.onClick(function(){const E=new Lo(1,1,1,1),_=new q0({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-bl(a),transparent:!0});_.transparent=!0;const k=new Kr(E,_);Af({type:"Plane"},k),a.execute(new r0(a,k)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),c.add(y),y=new Lr,v=new B0("addbar/option/object/box",()=>{}),y.add(v),y.add(new si(t.getKey("addbar/option/object/box"))),y.setClass("option desc"),y.onClick(function(){const E=new fs(1,1,1,1,1,1),_=new q0({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-bl(a),transparent:!0});_.transparent=!0;const k=new Kr(E,_);Af({type:"Box"},k),console.log(k),a.execute(new r0(a,k)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),c.add(y),y=new Lr,v=new B0("addbar/option/object/cylinder",()=>{}),y.add(v),y.add(new si(t.getKey("addbar/option/object/cylinder"))),y.setClass("option desc"),y.onClick(function(){const E=new As(.5,.5,1,12,1,!1,0,Math.PI*2),_=new q0({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-bl(a),transparent:!0});_.transparent=!0;const k=new Kr(E,_);Af({type:"Circle Cylinder"},k),a.execute(new r0(a,k)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),c.add(y),y=new Lr,v=new B0("addbar/option/object/pentagon",()=>{}),y.add(v),y.add(new si(t.getKey("addbar/option/object/pentagon"))),y.setClass("option desc"),y.onClick(function(){const E=new As(.5,.5,1,12,1,!1,0,Math.PI*2),_=new q0({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-bl(a),transparent:!0});_.transparent=!0;const k=new Kr(E,_);Af({type:"Pentagon Cylinder"},k),a.execute(new r0(a,k)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),c.add(y),y=new Lr,v=new B0("addbar/option/object/hexagon",()=>{}),y.add(v),y.add(new si(t.getKey("addbar/option/object/hexagon"))),y.setClass("option desc"),y.onClick(function(){const E=new As(.5,.5,.5,5,1,!1,0,Math.PI*2),_=new q0({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-bl(a),transparent:!0});_.transparent=!0;const k=new Kr(E,_);Af({type:"Hexagonal Cylinder"},k),a.execute(new r0(a,k)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),c.add(y),y=new Lr,v=new B0("addbar/option/object/star",()=>{}),y.add(v),y.add(new si(t.getKey("addbar/option/object/star"))),y.setClass("option desc"),y.onClick(function(){const E=[];for(let H=0;H<5*2;H++){const U=H%2==1?.25:.5,Z=H/5*Math.PI;E.push(new $r(Math.cos(Z)*U,Math.sin(Z)*U))}const k=new If(E),R={depth:.5,steps:1,bevelEnabled:!1},B=new Pf(k,R),M=new q0({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-bl(a),transparent:!0});M.transparent=!0;const F=new Kr(B,M);Af({type:"Star"},F),a.execute(new r0(a,F)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),c.add(y),y=new Lr,v=new B0("addbar/option/object/pyramid",()=>{}),y.add(v),y.add(new si(t.getKey("addbar/option/object/pyramid"))),y.setClass("option desc"),y.onClick(function(){const E=new Rh(.5,1,4),_=new q0({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-bl(a),transparent:!0});_.transparent=!0;const k=new Kr(E,_);Af({type:"Pyramid"},k),a.execute(new r0(a,k)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),c.add(y),y=new Lr,v=new B0("addbar/option/object/cone",()=>{}),y.add(v),y.add(new si(t.getKey("addbar/option/object/cone"))),y.setClass("option desc"),y.onClick(function(){const E=new Rh(.5,1,14),_=new q0({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-bl(a),transparent:!0});_.transparent=!0;const k=new Kr(E,_);Af({type:"Cone"},k),a.execute(new r0(a,k)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),c.add(y),y=new Lr,v=new B0("addbar/option/object/torus",()=>{}),y.add(v),y.add(new si(t.getKey("addbar/option/object/torus"))),y.setClass("option desc"),y.onClick(function(){const E=new ql(.4,.1,30,200,Math.PI*2),_=new q0({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-bl(a),transparent:!0});_.transparent=!0;const k=new Kr(E,_);Af({type:"Torus"},k),a.execute(new r0(a,k)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),c.add(y),y=new Lr,v=new B0("addbar/option/object/sphere",()=>{}),y.add(v),y.add(new si(t.getKey("addbar/option/object/sphere"))),y.setClass("option desc"),y.onClick(function(){const E=new Nf(.5,32,16,0,Math.PI*2,0,Math.PI),_=new q0({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-bl(a),transparent:!0});_.transparent=!0;const k=new Kr(E,_);Af({type:"Sphere"},k),a.execute(new r0(a,k)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),c.add(y),y=new Lr,v=new B0("addbar/option/object/portal",()=>{}),y.add(v),y.add(new si(t.getKey("addbar/option/object/portal"))),y.setClass("option desc"),y.onClick(function(){const E=new Lo(1,1,1,1),_=new q0({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-bl(a),transparent:!0});_.color=new _i(16711680),_.transparent=!0;const k=new Kr(E,_);Af({type:"Portal"},k),k.rotation.copy(new lo(-1.57,0,-1.57,"XYZ")),k.updateMatrixWorld(!0),a.execute(new r0(a,k)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),c.add(y),y=new Lr,v=new B0("addbar/option/object/directionallight",()=>{}),y.add(v),y.add(new si(t.getKey("addbar/option/object/directionallight"))),y.setClass("option desc"),y.onClick(function(){const k=new ib(16777215,1);k.name="DirectionalLight",k.target.name="DirectionalLight Target",k.position.set(5,10,7.5),a.execute(new r0(a,k)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),y=new Lr,y.setClass("option"),y.setTextContent(t.getKey("addbar/option/object/entrance")),y.onClick(function(){const E=new Lo(1,1,1,1),_=new q0({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-bl(a),transparent:!0}),k=new Kr(E,_);k.name="Entrance",k.userData.type="Entrance",a.execute(new r0(a,k)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),y=new Lr,y.setClass("option"),y.setTextContent(t.getKey("addbar/option/object/exit")),y.onClick(function(){const E=new Lo(1,1,1,1),_=new q0({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-bl(a),transparent:!0}),k=new Kr(E,_);k.name="Exit",k.userData.type="Exit",a.execute(new r0(a,k)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),r}const dne=[{name:"Color_Black_&_White",enabled:!0},{name:"Color_Rainbow",enabled:!0},{name:"Country_China",enabled:!0},{name:"Country_Egypt",enabled:!0},{name:"Country_France",enabled:!0},{name:"Country_Hong_Kong",enabled:!0},{name:"Country_Japan",enabled:!0},{name:"Festival_Christmas",enabled:!0},{name:"Festival_Halloween",enabled:!0},{name:"Hobbies_Cooking",enabled:!0},{name:"Hobbies_FootBall",enabled:!0},{name:"Hobbies_Gaming",enabled:!0},{name:"Hobbies_Garden",enabled:!0},{name:"Hobbies_Sport",enabled:!0},{name:"Name_Venus",enabled:!0},{name:"Name_VenusB",enabled:!0},{name:"Seasons_Summer",enabled:!0},{name:"Shop_Bakery",enabled:!0},{name:"Theme_Magic",enabled:!0},{name:"Theme_Nautical",enabled:!0},{name:"Theme_Party",enabled:!0}],pne=[{name:"Ball_(Color_Black_&_White)",enabled:!0,category:["Color_Black_&_White"]},{name:"Piano_(Color_Black_&_White)",enabled:!0,category:["Color_Black_&_White"]},{name:"Piano_Chair_(Color_Black_&_White)",enabled:!0,category:["Color_Black_&_White"]},{name:"Pillar_(Color_Black_&_White)",enabled:!0,category:["Color_Black_&_White"]},{name:"Poker_(Color_Black_&_White)",enabled:!0,category:["Color_Black_&_White"]},{name:"Room_(Color_Black_&_White)",enabled:!0,category:["Color_Black_&_White"]},{name:"Round_Door_(Color_Black_&_White)",enabled:!0,category:["Color_Black_&_White"]},{name:"Vase_(Color_Black_&_White)",enabled:!0,category:["Color_Black_&_White"]},{name:"Chair_Karlstad_(Color_Rainbow)",enabled:!0,category:["Color_Rainbow"]},{name:"Rainbow_Arch_(Color_Rainbow)",enabled:!0,category:["Color_Rainbow"]},{name:"Stacking_Tower_Toy_(Color_Rainbow)",enabled:!0,category:["Color_Rainbow"]},{name:"Toy_Blocks_(Color_Rainbow)",enabled:!0,category:["Color_Rainbow"]},{name:"Wall_(Color_Rainbow)",enabled:!0,category:["Color_Rainbow"]},{name:"Canopy_(Country_China)",enabled:!0,category:["Country_China"]},{name:"Chinese_Decor_(Country_China)",enabled:!0,category:["Country_China"]},{name:"Door_(Country_China)",enabled:!0,category:["Country_China"]},{name:"Fan_(Country_China)",enabled:!0,category:["Country_China"]},{name:"Latern_(Country_China)",enabled:!0,category:["Country_China"]},{name:"Latern_Pillar_(Country_China)",enabled:!0,category:["Country_China"]},{name:"Road_(Country_China)",enabled:!0,category:["Country_China"]},{name:"Room_(Country_China)",enabled:!0,category:["Country_China"]},{name:"Title_(Country_China)",enabled:!0,category:["Country_China"]},{name:"Altar_(Country_Egypt)",enabled:!0,category:["Country_Egypt"]},{name:"Arubis_(Country_Egypt)",enabled:!0,category:["Country_Egypt"]},{name:"Bunker_(Country_Egypt)",enabled:!0,category:["Country_Egypt"]},{name:"Fire_Platform_(Country_Egypt)",enabled:!0,category:["Country_Egypt"]},{name:"Obelisk_(Country_Egypt)",enabled:!0,category:["Country_Egypt"]},{name:"Wall_(Country_Egypt)",enabled:!0,category:["Country_Egypt"]},{name:"Wall_(Country_France)",enabled:!0,category:["Country_France"]},{name:"Street_Light_(Country_France)",enabled:!0,category:["Country_France"]},{name:"Plate_(Country_France)",enabled:!0,category:["Country_France"]},{name:"Picnic_Carpet_(Country_France)",enabled:!0,category:["Country_France"]},{name:"Picnic_Backet_Cover_(Country_France)",enabled:!0,category:["Country_France"]},{name:"Picnic_Backet_(Country_France)",enabled:!0,category:["Country_France"]},{name:"Hot_Dog_(Country_France)",enabled:!0,category:["Country_France"]},{name:"Hot_Air_Balloon_(Country_France)",enabled:!0,category:["Country_France"]},{name:"Eiffle_Tower_(Country_France)",enabled:!0,category:["Country_France"]},{name:"Cup_(Country_France)",enabled:!0,category:["Country_France"]},{name:"Bottle_(Country_France)",enabled:!0,category:["Country_France"]},{name:"Bicycle_(Country_France)",enabled:!0,category:["Country_France"]},{name:"Bed_(Country_Hong_Kong)",enabled:!0,category:["Country_Hong_Kong"]},{name:"Cabinet_A_(Country_Hong_Kong)",enabled:!0,category:["Country_Hong_Kong"]},{name:"Cabinet_B_(Country_Hong_Kong)",enabled:!0,category:["Country_Hong_Kong"]},{name:"Calendar_(Country_Hong_Kong)",enabled:!0,category:["Country_Hong_Kong"]},{name:"Folding_Chair_(Country_Hong_Kong)",enabled:!0,category:["Country_Hong_Kong"]},{name:"Folding_Table_(Country_Hong_Kong)",enabled:!0,category:["Country_Hong_Kong"]},{name:"Room_(Country_Hong_Kong)",enabled:!0,category:["Country_Hong_Kong"]},{name:"Window_(Country_Hong_Kong)",enabled:!0,category:["Country_Hong_Kong"]},{name:"Bridge_(Country_Japan)",enabled:!0,category:["Country_Japan"]},{name:"Light_Stand_(Country_Japan)",enabled:!0,category:["Country_Japan"]},{name:"Painting_(Country_Japan)",enabled:!0,category:["Country_Japan"]},{name:"Plant_(Country_Japan)",enabled:!0,category:["Country_Japan"]},{name:"Round_Window_(Country_Japan)",enabled:!0,category:["Country_Japan"]},{name:"Toril_(Country_Japan)",enabled:!0,category:["Country_Japan"]},{name:"Wall_(Country_Japan)",enabled:!0,category:["Country_Japan"]},{name:"Wealth_Cat_(Country_Japan)",enabled:!0,category:["Country_Japan"]},{name:"Window_(Country_Japan)",enabled:!0,category:["Country_Japan"]},{name:"Camp_Fire_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Candle_Stick_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Carpet_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Christmas_Ring_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Christmas_Tree_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Gift_Cube_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Gift_Cuboid_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Lamp_Line_A_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Lamp_Line_B_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Rocking_Chair_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Shelf_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Stove_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Tool_A_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Tool_B_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Wall_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Candle_A_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Candle_B_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Candle_C_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Cloud_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"House_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Monster_Foot_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Monster_Hand_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Moon_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Posion_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Pumkin_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Railing_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Skull_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Spider_Web_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Tombstone_A_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Tombstone_B_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Tombstone_C_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Tombstone_D_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Tree_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Wall_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Bottle_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Box_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Coffee_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Cutboard_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Fridge_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Island_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Oven_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Pot_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Shelf_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Sink_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Table_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Towel_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Trolley_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Wall_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Window_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Bed_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Carpet_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Court_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Foot_Ball_A_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Foot_Ball_B_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Foot_Ball_C_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Foot_Ball_D_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Foot_Ball_Stand_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Goal_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Lamp_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Small_Goal_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Sofa_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"TV_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Wall_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"World_Cup_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Cabinet_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Figure_Amoug_Us_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Game_Box_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Game_Chair_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"KeyBoard_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Light_Pad_Hexagon_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Light_Pad_Triangle_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Mac_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Mouse_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Photo_Frame_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"PS_Lamp_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Screen_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Table_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"TV_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Wall_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Wifi_Router_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Bench_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Chair_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Door_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Fence_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Frame_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Garlamd_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Light_Bulb_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"MailBox_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Plant_A_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Plant_B_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Props_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Table_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Wall_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Bracket_(Hobbies_Sport)",enabled:!0,category:["Hobbies_Sport"]},{name:"Discus_(Hobbies_Sport)",enabled:!0,category:["Hobbies_Sport"]},{name:"Discus_Holder_(Hobbies_Sport)",enabled:!0,category:["Hobbies_Sport"]},{name:"Dumbell_(Hobbies_Sport)",enabled:!0,category:["Hobbies_Sport"]},{name:"Gloves_(Hobbies_Sport)",enabled:!0,category:["Hobbies_Sport"]},{name:"Kettle_Bell_(Hobbies_Sport)",enabled:!0,category:["Hobbies_Sport"]},{name:"Sand_Bag_(Hobbies_Sport)",enabled:!0,category:["Hobbies_Sport"]},{name:"Wall_(Hobbies_Sport)",enabled:!0,category:["Hobbies_Sport"]},{name:"Word_Light_(Hobbies_Sport)",enabled:!0,category:["Hobbies_Sport"]},{name:"Book_A_(Name_Veuns)",enabled:!0,category:["Name_Veuns"]},{name:"Book_B_(Name_Veuns)",enabled:!0,category:["Name_Veuns"]},{name:"Book_C_(Name_Veuns)",enabled:!0,category:["Name_Veuns"]},{name:"Book_Shelf_(Name_Veuns)",enabled:!0,category:["Name_Veuns"]},{name:"Carpet_(Name_Veuns)",enabled:!0,category:["Name_Veuns"]},{name:"Chair_(Name_Veuns)",enabled:!0,category:["Name_Veuns"]},{name:"Computer_(Name_Veuns)",enabled:!0,category:["Name_Veuns"]},{name:"Desk_(Name_Veuns)",enabled:!0,category:["Name_Veuns"]},{name:"Draw_Desk_(Name_Veuns)",enabled:!0,category:["Name_Veuns"]},{name:"Earth_(Name_Veuns)",enabled:!0,category:["Name_Veuns"]},{name:"Wall_(Name_Veuns)",enabled:!0,category:["Name_Veuns"]},{name:"Book_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Book_Shelf_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Cabinet_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Carpet_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Cat_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Cushion_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Diving_Photo_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Figure_Canada_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Figure_Hong_Kong_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Figure_Japan_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Figure_USA_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Pet_Food_Plate_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Plastic_Plate_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Sofa_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Sound_Bar_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"TV_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Wall_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Word_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Beach_Chair_(Seasons_Summer)",enabled:!0,category:["Seasons_Summer"]},{name:"Bench_(Seasons_Summer)",enabled:!0,category:["Seasons_Summer"]},{name:"Bucket_(Seasons_Summer)",enabled:!0,category:["Seasons_Summer"]},{name:"Pool_Ring_A_(Seasons_Summer)",enabled:!0,category:["Seasons_Summer"]},{name:"Pool_Ring_B_(Seasons_Summer)",enabled:!0,category:["Seasons_Summer"]},{name:"Surboard_(Seasons_Summer)",enabled:!0,category:["Seasons_Summer"]},{name:"Table_(Seasons_Summer)",enabled:!0,category:["Seasons_Summer"]},{name:"Umbrella_(Seasons_Summer)",enabled:!0,category:["Seasons_Summer"]},{name:"Wall_(Seasons_Summer)",enabled:!0,category:["Seasons_Summer"]},{name:"Watermelon_(Seasons_Summer)",enabled:!0,category:["Seasons_Summer"]},{name:"Bakery_Word_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Basket_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_A_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_A_Half_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_B_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_B_Half_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_C_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_D_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_E_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_F_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_G_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_H_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_I_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_I_OnePiece_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Cabinet_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Counter_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Cream_Croissant_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Croissant_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Cutting_Board_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Knife_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Pie_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Table_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Wall_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Wooden_Box_A_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Wooden_Box_B_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Wooden_Box_C_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Wooden_Table_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Boiling_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Book_A_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Book_B_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Book_C_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Book_Shelf_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Broom_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Candle_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Carpet_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Color_Window_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Crystal_Ball_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Flag_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Fly_Book_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Magician_Stuff_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Mirror_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Table_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Wall_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Bottle_(Theme_Nautical)",enabled:!0,category:["Theme_Nautical"]},{name:"Cushion_(Theme_Nautical)",enabled:!0,category:["Theme_Nautical"]},{name:"Flag_(Theme_Nautical)",enabled:!0,category:["Theme_Nautical"]},{name:"Map_(Theme_Nautical)",enabled:!0,category:["Theme_Nautical"]},{name:"Mark_(Theme_Nautical)",enabled:!0,category:["Theme_Nautical"]},{name:"Pool_Ring_(Theme_Nautical)",enabled:!0,category:["Theme_Nautical"]},{name:"Round_Window_(Theme_Nautical)",enabled:!0,category:["Theme_Nautical"]},{name:"Ship_Bed_(Theme_Nautical)",enabled:!0,category:["Theme_Nautical"]},{name:"Treasure_Box_(Theme_Nautical)",enabled:!0,category:["Theme_Nautical"]},{name:"Wall_(Theme_Nautical)",enabled:!0,category:["Theme_Nautical"]},{name:"Wheel_(Theme_Nautical)",enabled:!0,category:["Theme_Nautical"]},{name:"Balloon_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"Bottle_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"Cake_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"CupCake_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"Flag_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"Gift_A_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"Gift_B_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"Gift_C_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"Glass_Cup_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"Party_Balloon_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"Rocking_Horse_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"Table_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"Wall_(Theme_Party)",enabled:!0,category:["Theme_Party"]}],mne=[{name:"StarWarsX-wing",enabled:!0},{name:"X-wing",enabled:!0}],gne=[];var R5={room:dne,object:pne,mylib:mne,favourites:gne};function kv(a,t,r,n){a.strings;const c=new l2;let p,y,v,E;const _=new on;_.setClass("list");async function k(B){let M=document.querySelector(".loader-container");M.style.display="flex",console.log(B,E[B]),await Po({method:"get",baseURL:"https://play.grwth.hk",url:`/library/${t}/${E[B].name}`}).then(F=>{if(F.data.json!==void 0){console.log("%c AddbarLibrarySelection:fetchJson Success","color: black; background: #85a7c3;",t,E[B].name,F.data.json);const H=new Blob([JSON.stringify(F.data.json)],{type:"application/json"});a.loader.loadFile(H,c,"json",!1,`${E[B].name}`)}else console.log("%c AddbarLibrarySelection:fetchJson Fail","color: black; background: #85a7c3;",t,E[B].name,F.data.json)}).catch(F=>{console.log(F)}).finally(()=>{M.style.display="none"})}function R(B){if(_.dom.replaceChildren(),R5[t][0]===void 0)p=new Xo,p.setTextContent("This function is not available now."),p.setClass("disable"),_.add(p);else{E=R5[t],!!B&&B!=="Search"&&(E=R5[t].filter(M=>M.name.replaceAll("_"," ").toLowerCase().includes(B.toLowerCase())));for(let M=0;E[M];M++)E[M].enabled===!0&&(p=new Xo,p.setClass("selection"),y=new wp(`https://play.grwth.hk/library/${t}/${E[M].name}.png`,()=>{k(M)}),y.setClass("image"),v=new Xo,v.setTextContent(E[M].name.replaceAll("_"," ")),v.setClass("name"),p.add(y),p.add(v),_.add(p))}}return R(),n.dom.addEventListener("change",function(){R(n.dom.value)}),_}function bne(a){const t=a.strings,r=new on;r.addClass("menu"),r.addClass("library");const n=new on;n.setClass("title"),r.add(n),n.dom.insertBefore(Ys().getKey("addbar/option/library"),n.firstChild);var c=new MutationObserver(function(B){n.dom.replaceChild(Ys().getKey(n.getClass().includes("open")?"addbar/option/library/open":"addbar/option/library"),n.dom.firstChild)});c.observe(n.dom,{attributes:!0,attributeFilter:["class"],childList:!1,characterData:!1});let p=new on;p.setClass("options library"),r.add(p);let y=new on;y.setClass("libTopbar"),p.add(y);let v=new Eu("Search");v.setId("libSearch"),v.setWidth("150px").setFontSize("12px"),y.add(v);let E=new wE;E.setId("libContent"),E.setClass("libContent"),p.add(E);const _=new kv(a,"room",window.user,v),k=new kv(a,"object",window.user,v),R=new kv(a,"mylib",window.user,v);return new kv(a,"favourites",window.user,v),E.addTab("room",t.getKey("addbar/option/library/room"),_),E.addTab("object",t.getKey("addbar/option/library/object"),k),E.addTab("mylib",t.getKey("addbar/option/library/mylib"),R),E.select("room"),r}class uI{parse(t){let r="",n=0,c=0,p=0;const y=new wt,v=new _i,E=new wt,_=new $r,k=[];function R(F){let H=0,U=0,Z=0;const K=F.geometry,fe=new Zs;if(K.isBufferGeometry!==!0)throw new Error("THREE.OBJExporter: Geometry is not of type THREE.BufferGeometry.");const oe=K.getAttribute("position"),we=K.getAttribute("normal"),be=K.getAttribute("uv"),ve=K.getIndex();if(r+="o "+F.name+`
`,F.material&&F.material.name&&(r+="usemtl "+F.material.name+`
`),oe!==void 0)for(let ne=0,ae=oe.count;ne<ae;ne++,H++)y.fromBufferAttribute(oe,ne),y.applyMatrix4(F.matrixWorld),r+="v "+y.x+" "+y.y+" "+y.z+`
`;if(be!==void 0)for(let ne=0,ae=be.count;ne<ae;ne++,Z++)_.fromBufferAttribute(be,ne),r+="vt "+_.x+" "+_.y+`
`;if(we!==void 0){fe.getNormalMatrix(F.matrixWorld);for(let ne=0,ae=we.count;ne<ae;ne++,U++)E.fromBufferAttribute(we,ne),E.applyMatrix3(fe).normalize(),r+="vn "+E.x+" "+E.y+" "+E.z+`
`}if(ve!==null)for(let ne=0,ae=ve.count;ne<ae;ne+=3){for(let ye=0;ye<3;ye++){const de=ve.getX(ne+ye)+1;k[ye]=n+de+(we||be?"/"+(be?c+de:"")+(we?"/"+(p+de):""):"")}r+="f "+k.join(" ")+`
`}else for(let ne=0,ae=oe.count;ne<ae;ne+=3){for(let ye=0;ye<3;ye++){const de=ne+ye+1;k[ye]=n+de+(we||be?"/"+(be?c+de:"")+(we?"/"+(p+de):""):"")}r+="f "+k.join(" ")+`
`}n+=H,c+=Z,p+=U}function B(F){let H=0;const U=F.geometry,Z=F.type;if(U.isBufferGeometry!==!0)throw new Error("THREE.OBJExporter: Geometry is not of type THREE.BufferGeometry.");const K=U.getAttribute("position");if(r+="o "+F.name+`
`,K!==void 0)for(let fe=0,oe=K.count;fe<oe;fe++,H++)y.fromBufferAttribute(K,fe),y.applyMatrix4(F.matrixWorld),r+="v "+y.x+" "+y.y+" "+y.z+`
`;if(Z==="Line"){r+="l ";for(let fe=1,oe=K.count;fe<=oe;fe++)r+=n+fe+" ";r+=`
`}if(Z==="LineSegments")for(let fe=1,oe=fe+1,we=K.count;fe<we;fe+=2,oe=fe+1)r+="l "+(n+fe)+" "+(n+oe)+`
`;n+=H}function M(F){let H=0;const U=F.geometry;if(U.isBufferGeometry!==!0)throw new Error("THREE.OBJExporter: Geometry is not of type THREE.BufferGeometry.");const Z=U.getAttribute("position"),K=U.getAttribute("color");if(r+="o "+F.name+`
`,Z!==void 0){for(let fe=0,oe=Z.count;fe<oe;fe++,H++)y.fromBufferAttribute(Z,fe),y.applyMatrix4(F.matrixWorld),r+="v "+y.x+" "+y.y+" "+y.z,K!==void 0&&(v.fromBufferAttribute(K,fe).convertLinearToSRGB(),r+=" "+v.r+" "+v.g+" "+v.b),r+=`
`;r+="p ";for(let fe=1,oe=Z.count;fe<=oe;fe++)r+=n+fe+" ";r+=`
`}n+=H}return t.traverse(function(F){F.isMesh===!0&&R(F),F.isLine===!0&&B(F),F.isPoints===!0&&M(F)}),r}}var pM=Object.freeze(Object.defineProperty({__proto__:null,OBJExporter:uI},Symbol.toStringTag,{value:"Module"}));const yne={},vne={},wne={metadata:{version:4.5,type:"Object",generator:"Object3D.toJSON"},object:{uuid:"0C0DD0AD-3A7F-4ECD-A9FE-CECD97D5CBD9",type:"PerspectiveCamera",name:"Camera",layers:1,matrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,5,10,1],fov:50,zoom:1,near:.01,far:1e3,focus:10,aspect:1,filmGauge:35,filmOffset:0}},Ane={metadata:{version:4.5,type:"Object",generator:"Object3D.toJSON"},geometries:[{uuid:"c0353472-3856-417c-aef9-3bd900b2fba5",type:"PlaneGeometry",width:1,height:1,widthSegments:1,heightSegments:1},{uuid:"cdd20912-a526-4cf0-99cd-902e0f5b1c59",type:"PlaneGeometry",width:1,height:1,widthSegments:1,heightSegments:1}],materials:[{uuid:"7ee8bf43-8655-4225-b20a-a93f5694f031",type:"MeshStandardMaterial",color:14342874,roughness:1,metalness:0,emissive:0,map:"0ce94445-6835-4f35-a1d3-1ec1b52cfcae",envMapIntensity:1,side:2,transparent:!0,depthFunc:3,depthTest:!0,depthWrite:!0,colorWrite:!0,stencilWrite:!1,stencilWriteMask:255,stencilFunc:519,stencilRef:0,stencilFuncMask:255,stencilFail:7680,stencilZFail:7680,stencilZPass:7680,polygonOffset:!0,polygonOffsetFactor:-4},{uuid:"10e0f37f-a21b-42f7-8833-b64ca8f812ef",type:"MeshStandardMaterial",color:11382189,roughness:1,metalness:0,emissive:0,map:"c55acd1b-37cb-42e7-b86f-c2201df25dc9",envMapIntensity:1,side:2,transparent:!0,depthFunc:3,depthTest:!0,depthWrite:!0,colorWrite:!0,stencilWrite:!1,stencilWriteMask:255,stencilFunc:519,stencilRef:0,stencilFuncMask:255,stencilFail:7680,stencilZFail:7680,stencilZPass:7680,polygonOffset:!0,polygonOffsetFactor:-4}],textures:[{uuid:"984497bd-309b-49dc-8256-b56053de0795",name:"PMREM.cubeUv",image:"549633df-ddbc-4624-af29-e263254762d4",mapping:306,repeat:[1,1],offset:[0,0],center:[0,0],rotation:0,wrap:[1001,1001],format:1023,type:1016,encoding:3e3,minFilter:1006,magFilter:1006,anisotropy:1,flipY:!1,premultiplyAlpha:!1,unpackAlignment:4},{uuid:"0ce94445-6835-4f35-a1d3-1ec1b52cfcae",name:"",image:"ea3fac0a-8d55-40ca-a2da-d5b1fd5ed605",mapping:300,repeat:[1,1],offset:[0,0],center:[0,0],rotation:0,wrap:[1001,1001],format:1023,type:1009,encoding:3001,minFilter:1008,magFilter:1006,anisotropy:1,flipY:!0,premultiplyAlpha:!1,unpackAlignment:4},{uuid:"c55acd1b-37cb-42e7-b86f-c2201df25dc9",name:"",image:"edae0ac3-1109-424e-b59e-2cf696008ff3",mapping:300,repeat:[1,1],offset:[0,0],center:[0,0],rotation:0,wrap:[1001,1001],format:1023,type:1009,encoding:3001,minFilter:1008,magFilter:1006,anisotropy:1,flipY:!0,premultiplyAlpha:!1,unpackAlignment:4}],images:[{uuid:"549633df-ddbc-4624-af29-e263254762d4",url:{}},{uuid:"ea3fac0a-8d55-40ca-a2da-d5b1fd5ed605",url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAYAAACLz2ctAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABgXSURBVHgB7Z1NcBRHlsdfVjeSEBKSwWZA4KXZNYEiEItksDdsZsKCvS/4vEwYfFq4GC7riyeAmLmwF8PF3GyI5bYHW3vaE2hijB0zNm55jWJxYK+bMYgvQ0gIhJDUlZP/UqfUavVHZVZWVldX/yJEI6EWrap/v698+ZJRkwX6s9nu2VnKOHOUYa6b4Y6z2eVuN2MsQ5y6GVE3vo8TZco9n3EaJ0bj4t+9R/Gd44ycnPhZN8XPyrlpyo2+PjBCTRZglFAgtvwzGuTc7RdXYSfjrL+SsEJgRKg1J5T8LTnOcLqNRkYGBsYpgSRGgJ7gpugAxEacH7AoNr+MMOJCmM5QiglBvjGQowTQ0ALs+zI7KB7eEoIbFNZmkOIEo2HH5UP5Fme4kd12wwmw98tsJk30DnP5oTq0clqIm5Qjxj4TlvFso1nGhhAg3Kv71D3kOmx/7CydKsIyMs4vfLdn13lqAGItwH5h7eZg7fL8GGfzGWpS8Kwi8eGU45yKs1WMpQC92I7zEw1v7XwikpfzcRVirATYFF514ijEWAjQc7Wcf9IUnj/iJMS6FmChWHyCc36MmigTByHWrQD7vsi+J0opJ5OWXJimkKycqtesue4E2H8l2z/H+IdRudvV6RT1tLRQb8dK6kilaNuqdu9rG9taqFN8DnpaW8o+d+z5jPd4WzxOzuW9zx/PzdH3T5/R2PQMjc3g8zxFAYSYctjeerOGdSVAkWScIGH1yCKvre4QIlvpCe31ro6K4jLF91PP6LYQ41cTk54wv3r8hKzisJPX3hg4RXVCXQjQSzJc/in+SiEDge1b00X71nZTb/tK6kynKEpgKa8LUV56OE5fTzzx/h429WQNIxegjVgPVm53VycdWLcmdAsXFLjtS48maOjew7DFOM4ZPzX65q4zFCGRCTDsDBdx279uWEevCbcKAcYRiPGjn+94lvF2Ib40DWPsTOo5nRrZG007WCQCDNPlQmwHe9Z5j1G7V5MM3X9EF8fuh2IVo3TJ1gWI1QyxdvupaZcLwR35uw2xtXZ+QdICIcJNmwQidIm9PbrHbuuXVQFu/zKLNqnzZJCkCK8UuOfTP90yLkQRFx63GRdaE2DfFVFiIXMllqQKrxRYxN/duGk2RrRYqrEiQJPiQ3Lxby9voN9ueImaLIIY8ZxIWIwJ0ZIIQxfgji+yH5rKdA+KrPboy+sbKrkwicyaIUYjWBBhqALccSX7CSd+iAKyUdTufr91c+LdrV++EmWb3/1gxi2joUGsIx+mkAhNgKbcbtPq6WHSGqJW+N2bA8cpBEIRoAnx1VusN+269EQsm81x7v09zUQdaUXaa1ioZy6OPaBzt+4Eb4IIyR0bF6AJ8cHlfrx9K/W0RbdsNj435wnu4ax4zM8Lrxi8xlfEWnIcgDV899qN4C45BBEaFSDWdYnzQDUkxHlne/8+EpcL0f0yM0v3xEep4CRtjuN1z3Sn0xQnTNUNucMOjb4xcIEMYUyAXh8f8SwFAPHe+1s2km0gvJvPnnuP1YC73d7R7okwrnz0812vXBMIsWwnLOEwGcCIALG2m3f55SAbwY+KeO+ISDZsMl5oFkVMV4tftazwXC5iv7hjQITjaYcNmFg7Dnw152eu8GwQ8f37lk1Wkw3EdD9OTde0eJLNba2UWdlGjQSSk9O5WxSAkfQM2xu0iyawL/FaqgKI7w+vbLYqPrjaq2L5KsniAwd7XvKufQD68610ggISyAIGTTpwAfavW0M2gJuFu/UrPNCo4isGdcIPRNFal6DNC9oC9OK+vHC9mm1VNt0uXO7okylfsZ4EMV/vqnZKAgHdcaB4UNsFe0mHpviOWiwwo6QCl6siPmS5canxmQDu+Ii4J5p0F5qLtdASIIrNunGfzWwXhdfrT6eUngPx7exc1RDZrgpY7jyobxT6+65cPUkaKF/lQjv9T6QBdqOhyGwDiO8HjfZ1FJnXt9T3xqUwwYqJ7lZRTmxAtaNa2QLC9ZIGWLp6P7OJbAC3qyM+CC/J4gMwEBs1dw4yDBRQREmAO65ktaaOorHA1touYj0d8cH1bl7ZSkkHS6Af92317pkynAa3f3FVqffTtwDhesX/oFX3QVeLLfF9O/m04jpuNSC+OC+xmQR7p49s0ktKGGcn+i9nfSenvq943tUrOKPOZyvjxeqGSrYrgfCS7npLQWasmZR0qxSofQkQ1k+nsxmxxNFN2um9Ekg6fpmdJR2arrc8qFjoxIPYgjHvMWvjS4CwfqQB2uhtud7cs2nSoWn9KoN48Peay3XeQFEf1BSgrvWD67W1hwPi04n7gK2+PtlJjQ8sB8oPrNLohA22wGgTLVcsEpLCOS1VqXn1dayfTdd7V7helF10Me1+PYEVuqifu3yhm9rPGwTFb1hkfKxKOV7/YVvhMUrgiv/7wSP1tn7uJa3D1b6laiFat+hss8ngzxOT2hYEN3ZXQCsNYeFNMCFuDiyariWuBgQJS90lXCL2oUSRrWuvF9doXq1qAXWtny3x4cYHcV9oONBBig77RVS6a3TB73h3ZkZ8zH8OMeK1r7c4ag5Z8aVH4+qrJDWsYEULqGv9UMS0FfuhyQAuThes+arEgBAbppuGZelUkZbRVg0T+43fHb1BqqQdtqVSt0zFV61j/bDWa0t8MoDXxdtW6VN8+L9Q4MYHSj31ID4gLeOfC+N+w05mdGctzrnuoUr/VuVtwwdJEVtrveBuwC2GCPJrUSw8G642CFKI6PgO8w2i17bF3qu0OlL2Luis+cL62drHiwscJPMF1TJL/HysqsRBeKXkpqe90OTu83Amqmpawe7Z1vJWsKwARSX7HVIEU0lt8UtA8QFkk+WA4HADbz1/TnHF234w9cx7E4VhDXWsICO2v9zXlwnQW0Jhamd09K5aaXVw0C+zwa1SuYZTafXquTCsAt5Eqt3gftCygqIw3VtmeW6ZAEXAqDxKDRvKbTJhwC0WZ424QXG3epWQv5vpUELH46XLJCPLBFjJVFbCZt0PmCqBSAHKFq4gGXW9g+uF3/HWtLk3GCygas+g0Nay0G6JADFeQzX52N1ld2bfuEH3C9GF4aLqlR/FmjmyZBN0esdgqK0RQ1ul68NLBDjL3UFSxNaar2TCwFlrECCyaN3m1TiDLNmUJXxtdScp4y7V2BIBqrpfJB+2R6iZcJUQHXbLJU18EljCewYqCVrJCGNvFX+6IECd7PdfLMZ+wG9XiZ+fk3Swb8bEm1k5BBPZcHFRekGA+dm88qlF//yC3aN8GzlRsA3ehJgWEfTNeGDdWlIl3+IekH9fdMGpVN273+l8MpIFW8h5OUHABiZVHfCiI9oWBChWP5Qs4O4IJtYnJVu1CZorgq4s7XuhS+n7i3MNT4CeT2ZqBwfivF3bJC12e7FlBW1rX+lN6UK9de2K+aZU02NDsGwX5NruW6OmBZRjZBzoLYjOpdVPrdwWwfCepAkQlgnCK9d4KveSjBeaYp8GCE9wXVGa0R1Fh3BMlXyrl/B+Nu+CHbX6n04V3ATYY5E0kCiUS77QzfPiivmxwbtFPe6fujq9uTa6jak3hQB1QxwUpVXLMZy7ntHzXq0w6DtVnrxtVXJGl0WNzFZriUNuL4UQ0emts90gyCqJqiY4sUUBcs4yCs8VBUiNCngTbVRHjqDTG8M1IUYVIQbp9lYVoFMwevP2WjEBieoAmVTCZvYVo1MygVWUQvTjmmUsqMPrikZJJiIOGhBUngh/3xvR9NB0cvXnAQulIxCIDyL0swda9zQl1ANV84LZVZRx8vl8RuVJG1ubYyyiJEiykGlrq2kNYQV1ewd7FEecOHNCgK7DMipP6olQgM3xafMCCbJ6IUcQI4OuhG5heluHmmd0yc04IqzKqDwpygy4KcB5YKGCbDrCdcSRY5W82UPNnstOxREijAsLKMIqpfFHUZ7bm7TB4dX48VnwDUeoIZaLC+HidX62cinGoS5HlGCU1lE2tkY3S6+jeWj1AkEy1mIQF5YToU4cqNyiL8p/8GlKAozSAsJ1NK3gIshYTSxPQoSl7lhn64OyceLULWJARQsY8TDHej+h3CamrCCAOy4eVaKTaXcqb1ISAuTE7be1BMDPSI0kcdvgBITis5CfWuq9VHbBUa2CSOJ2UnnYBKnblYLwRp4SpePaVUt0WA2JnTmpNFIjyZjaaglsn5cSOwGqjFVLCqbnFW4SyYStwe1WBGi6kXRtS1OApZiehvUP7XbOSbYiQAz9MUnzWIXlPJw1O/vFFlYEqNvFUYmmG16OnMYfN8RSHMupPGFsWt3Up9j80pHJfb0b25pWsBiIL+p902PqYcC41STET2u5X2ABm6siSxmPmRtmECDnfFzlSY9d9XdZR2reXUJ8JnbjA4ivaQWXErUFVC2K84IFVBKgjgtucxYtFS6SqaQE5YKmFVzExOSwIEyqFsSZECBz6KbKcx5rVN1LEwZMdDchwqYVXIo8jy4qVGNA8XInlF2wTjduudULjMM1UcFvWsGlRJkJq54lx4jnhAApp/KkSY04AwIp18WCYYlBh+PgZ9sqmsaBJxG6YdV7yRnlHMflOZUn6Qqm0uoF3HHQMbkoTDfrgvNE6oIV8wOHnJyTSqVyKk/Sbf+pJhAkJkEPhUE7eNMVRzu+ZGxGTRtuWlhAmlF0wcLE62TCEGC1ZlK5+183LrTdxdFkKfCMqjHg6OsDI87I3oFx1dWQvzyeJB38NBEgLsSZZzpbA5GQ6B7B2ijM8mhc8G31M1ZG8EdhJcQdUXiidhzoN2P1CtZPp7ROgERreZLb9qPKgnGUqwriVXrlP6fwybcqT9YVoGrdTp4AqRIf4v8obi1vYgdVTYgSzKIFZHmuZAFxavZjzXRfp24nj02FGP1Md5e7/5tJiR2QFyifpO44w94D/kjlU8OkiC0rWAzcMbJwlG3kIc1oxCwnyKSKMIrf9/qUuhbS0/MxoJcVIBHZcSWb48Qzfn/ApUfj3kElOsAK3ns+G6hmJU8Lv1uUkCP2g/BaxdozbgQ+UCNsxEMIK7GC2Q89Lj1UWkwDI9Ac/rI4JZ/cIVLg0qMJ0gXCCGPGDCwhml9hJTFFCj2ISRIfSEVg8L9WTEBk/AecxS86SnEgFp516oES1AWbo97MYzv5gg6UXTBzFozdwqtNzdBnpMjQg4cUBExlb2arZmmzvHEfoZgqwkovt4CeT+Y0TAqo1n5KKd4I3cQMtt/QQ/ceKX2/cLXDI28M5OSnS18t538kBZB6BxWhzFaTjqk3oc0ivI77FYnuklyj5O0yX5tR4WvNZblicNGSevSD9AImkgfbK0Af/XyHlEkv1dgSAV77zcCw6rrwf955oF2ULgblkqSJUFp/JGR5AytotgWo6v3Eey2HBoTiry0LGLjrXiAFUAU3YQWBFGESYkIpPikaE2u4NidGDN1/qNGCz5eV+pYJMJ12zpMiF8cekCkgQtyYRs6OceDgrtUdC7+jqSZSmxZQ556nHedM6deW3WUvQ1HNhg0kI8XgQjaqCFH77O/sWGLlTQgQorZ1vXC/1Wt/S7NfSdlXXJqp+OGcTkBaBZXDVeKAdLmvlDnkZ85AF3O1YxdMc3HsPqnCOC8b2pUV4IpZzw0rVRhNW0GJn8NV6h1YPbjcStsSTAyYfNFSIy7iPtVlWCQf3+3Zdb7cv5W9q15R2uVnSRHTVlAirSF2v8VJiDLWg9WrllgFHYdr0/2e/ukWKcP5cKV/qviqdZKRsKygBF00cGNwy/UsRAgCrxOxnp/EIOhIjfWW1tRxf3WaUFKOc6rSv1W8izrJCAjLCkogPLhl3OAgBzSbRrZ+SeH53SYadLqpPCfYBh/cUBqi4cGIny+XfEiqXyXOTonocZAUwLvk4p37dHDDOgoTeeHxIY+uwpBG23siYO0Qf+F16NQvg060spWk6dT9QDXrB2pesb7Pv7ksvmuQFMB5Ef/z6nblk3NMgH5A7KiDWwvjqAGIbO2KtHdqk67oikF3t64LlrFx2EB4h6/dUBYgrJ9IPg5X+57afkLDCmJ1BK74/S2byDYoR8iShBzaCCsjJ4hClH6sJISF9VnZZY1HzLgx6fJR/wsS/9myfljzDcP6AV9vXx0rCD7evlW7bT9sZPEXYsSHbOEHtuLK60+n6J7m0ag4sGf36vCtH0Kqd4X1U8WP9QO+rnQ6xWr+oHJ88MNNI40KYQCRLVi2wtQG+TVbBJnn19cRfgsbrJ5O4gH8WD/g62p7WYxGXRC/QNhZcVxB0qS7BLe5zU4ZStf11sp8i/H9W6TnnJOkuDoCLt554GXFTZZyU/PUAGTd2MoQNrhnQ/cVu51pftXDr/UDvgWI1RGHc98/uJiPfr4baANTo3Fb0/rB6vWuaqewgdXDPdNCaMSv9QPKNQTdhAQH2f3Xzt5ISjP1hJwCpipAJEjFLVxhoVtyAd6a75uvblF5jvJvwxk7ThrgFzp2/f8p6eSeTWtZP1urPljr1REfSDG2lxRR/o1G9wyMiIREyxUjpddazG4QkHjolF0gPhvtVkg69AcOqLleiXYZv+/KN1nx0E8aHH15PR15eQMlCV3XC/HZWOuF+M5pxn06rleibdPTDnubNLJigAA3SZkxCt2q4pPjS2yID/dCW3xCAzquV6ItQJhb3awYnP7ptlaaH0dUB23K7mkb4kOTAe6FLi7Xc72SQFHt//561xmdArUEKyWNLkLU+9Ag4RfZS2hjgxHE98EPfyV9+NlRaCAAgdOqQoFaabBRMRBho7pjiA9Zrx/keSfoJbSR7eKaBxEf4r50u3fvA2FkA27/l9nMnMuRlHSTJo2WmOAoMr+j4WD1UGC2tQ4dJOEA3mqHiPuCuN6Fn0WG6PtTdpAcfpkC0AgiRMKBmM+P25XLajYP2fkPUQbDNIsgpIkNjOwZ0PZ6xRgdQbDjSvYQJ/4JBWDfmi56P7OJemJ4CKE8jrZWj18UwkOP5ntiIUB5lnMJnPPjQeO+YozPwOj709WT5LATFAAs232yfWusRIhtAdXOQsbYYGweQmYbxRBJ3eW1pfBT1/bsOkkGCWUIiwkRoq0fLjnsvSVBgeBwulNpvAfBeX2G2DMiVjGi2jyFZAN118nAfZnmxQdCmwIkRHhGiPA9Csj+dWvo6KYNdWsNYfmmi/aedBT26EY9YAmCO527ZajMFY74QKhXacfn35znjN6hgMAl/+GVzXXb3l9vIM5DJ3Nwl4uRGnThu1+/eohCIvS3qQl3LKl3axg1cjNY0Cx3EX5WWL5jFCJW/IRJEcIaIjbcv24tNVnEXKwnCc/tFmMtUDEpQuC55a3CLa9OtluGuz331zuByytLsSM+YDVS/sfPrx5zGfuQDBLnumEQwhGeN5rv8GiFSVZhYD1V234l2+8w/qmoXmTIIBDiwZ51DW8RwxIe2qq4y97GnHCySCS1Aqwd5zm/bFqEYFv7Svptz0sNFSPK0ygxGNK08DwYjYiy0dsm1nbV/+uI6L+c7Z5LuydN1ArLgRgRZZs4Z80Q29cTk15WOxnaBn9+Fl0tIwMDWs3FQYl8HH0hLkRyot1JUwtYxQO/WkP7XuiuezGidoc+PcxZDMXaFYDLRTOpyXVdzdcRPWG65FIgRljGfWu7qVf8vTPibaKwbBj4jSNPsSHIRPG4JhG63OUvpY4wXarxA5IW7L14ravTs4697eEelgOB/UVYt++fTnltW2FaubK4osTyGzslFj/UlQCBTWtYDljEnpYW71R3CBMb6XtaW72vy+NleyqMxJXW63E+702CwGAmCA3tWf/35BmNzcyEGMvVgNFwmrPjpvr4TFF3ApSgt1AsRJ6ISoiNQr3EepWoWwECzxrm+UkTDQ3JJNoM1w91LUBJU4iKwN0ydrgekoxaxEKAkqYQayCER3l2yvZqRhBiJUBJU4glxFB4klgKUCKFSA69lbRkZX7tVsR4aed8HFxtJWItwGK8HXmcv6MzuzBWCGvnuHzIWSWEV8fJhV8aRoCS+U3y7jHG2P5GsYriJuWEtbswJ6zd9Rhbu3I0nACLQetXiruDLrH9sbOMXlzH/0jkDMcxtvNLQwuwGC9enKV+cvgBkbzsJM3ZhmHhWTniQ4yckVQ7fdYI7tUPiRFgKf3ZbPfcEwjSHRSfCkGyDFkSZUFsWBL7luWF4DppOCmCKyWxAqyE17Gdpwxz3IzLvBhyM3HWLa5UN5tvGevmFVrHICw8cgzu5CJLZTwnvjbhcMRwTs5NUW5FO+WSKrZy/A2zwTT1hg5zVwAAAABJRU5ErkJggg=="},{uuid:"edae0ac3-1109-424e-b59e-2cf696008ff3",url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAYAAACLz2ctAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABZlSURBVHgB7Z3fjxzVlcfPrRnbY4PtWW8wG7Bh2EQ8LEow7LISKBZjKdLygBZQpLxkJcz+A3jiYK3Ng8cP2CuIGecvYPyQl0hR8IqVghbJExEt0rLBJpHzkJDdDoawsVkyNvjH/Oi6ud+qvp6enu6eOufeulXV1R+p3T2eXz1d3z6/7rnnKhpyCz0zPU60ZYJoeYJiMvd0L5EaJ4XHejx5nHyhnujxI+ZJqXnzBeZm7jUexw3z/7+niMz9aENNHTpPQ26hqKakYts4SbHeQzTyIClz31tYflF0nnTUIGq+T1E0R7RwXk1Nz1MNqY0AU8FtetoIzohNPR1MbFlJRKnOU6TPmA+MIA83qAYMtAD1zIlJc/c4aZo0gpukKqHUnHnOZyganRtktz1wAjSimzB3zxrR7S+dlZPTMLfXKVI/GDTLOBACTNxrvHG/sRpPVc7ScUksY3xaHXxxlgaASgvwlrWL9QFzP071omEu35zJro9V2SpWUoBJbKfp6MBbu8yo2aoKsVICHApvPaonxEoIMHG1ml4bCi8r1RFiqQXYKhYfNasSB2iIgPILsbQC1K/+6/Mm25um+iUXvmmYV/NYWbPm0glQz7xslsSaM4W5202biLYZze/caR6PEd1xJ9EY/m97+jHA425cvbJyv3CT6Err/vKl9PFVs9q2sEAF0TB1xH1ls4alEqCJ9Yy71dMUkl33GLHdmQpt9z29xeWLy39MBXrxQ6JL5vFHH1JQIjVtRHiMSkIpBJgkGU39E/Ns9lDeQGBfvT+93bFzxaoVhbWQH/wmFSUEmj+lsYaFCzBIrAcrt/teoge+lr+FcwXWEWK88Ku8xYjuGxMbHjlFBVKYAHPPcBHLPfz3qVuFAKsIxPjO26lltPGld6JTFN08VlQ7WCECzNXlQmwPP5IKr2j36hNYxPfezcsqFuaSgwswWc2Ijfh8u1wI77G91bV2WUHSAiHCTfulQc3RZ9ShsK1fQQWoXz2ONqlZ8kldhNcJXPLcfxgh/pY8MxUyLgwmQO8llroKrxNYxJ++4TdGDFiqCSJAr+JDcvHo3jTOG7ICYkQkLL6EGEiEuQtQzxyf8ZbpQnSPfmOwkguf2KwZYvRBABHmKkBj+V4zlm8/uYLa3RNPDt1tVry6ZTWrDh5+jnIiNwF6c7tDqyfDqzWMTqmD/zJFOZCLAL2Ir2yx3vIy0eICUdwkWjKPo4hobHP6PMsMSjYQomsTRE7u2LsAvYgPLvfb3yl22ezmjfSiXbvWEl68+vPbTRnzL79ElQDW8Ec/dHfJOYjQqwBb67puNSTEeU99qxiXC9FBcJ9fXSs4y+ho2j0D61clkrrhW+4FbEX71XePnCZPeBNg0scXL58jF+BuJ79JwYHwPvssve/HRuNu/+rLqQiryjs/T12yC7FZtnvh8Bx5wIsAk7XdmM6aRxMkBfEeko2QQHDoyUN8tx5bt6UuF7Ff1XEX4bxxxw/5WDt2FmC6KXzTOSfxweqFTDYQ2/3/p+tbPMtf7EhvgwSSE7hkKZhloxb3uXbReHg7bzzqJL5/eDKs+P5kXO3HF+stPoDXHK+9FE0m5Bo7So44WUDnpAMvAJpEQwA3C3ebVXhgUMXXDuqEb75BDjg1L4gFmMZ9GkmHrK0qpNuFy/3jJ9liPQtiPrTs1wE3d+wUD8pdcJJ0CMUXssCMkgpcLkd8yHKrUuPzQbLatJeEjJNO+jtFiASYFJulcV/IbPfKfLrhhwPEd9euwch2OeCaSI2CiQf1yZemSQDbBbdc7/+SBOxE+8dvURAgPmS6XOB24X7rClZMpFtFm6MPcTuq+W/z1PXywbJaqCIz3K5EfLdvq7f4AFahpEugo80ZYsISoD55Yr/I9WLBPtTaLmI9ifjgencMeMabBSyB4lpJmiy0ntQnj7N6PzMLsDUMUlb3QdwXSnx/+Kj3Om4/UG6p8hKbT3Ct5EnJ0XTLbTayW8CYZIkH6nyhMt5PL/OyXQuEV3fX2wmumey6jXMK1JkEmFo/QWez2zuJB5KO69dIxKAXm6UgMxZ5rvhAy2OuSzYLGAtdL9roQ7leLLFJGFq/3iAefEK4XIeBohlYV4Bi6wfXG2oPB8QnifvA2BYKAp4f3ii4YTnQ3tDsKgkbQmEnTXBBQvJKck5LX9aPuiXWL6TrRckFNym+M99EYNfN8t8i0dLSSjd1ljcIit+jG1KrjCwUNzzeWHDbP1zxhV/y2/pHEu3M9fuSvoVocdE5ZJPBhw25BcGF3bWbnICw8Aa40bJoUkvcD4gQlnqzcYmbtxSTrUvXi9dpXu3/l0itXyjx4cK7uK+tW0mEFR3a9zndNVLwN35xNb0BbAfAcw8Zu8INo52fu0qyjhXsaQHF1g9FzFCx30cXUxcn5a67eXs7ILb5+fwsHRdrGXcEqmFCfFiq4xKp+3p1y/ROQiTW7yv3hxOfDeCl2G2VWX/XHz5Obyj1lEF8wFpGhCGXLuWfzOwSzlqM4/29PtUvC54kLvsCbij6/HNyIktg3y68EK7WBStEl4pAFh6TJJfq+V6rI10FKFrzRadLqH28NgZzod9aJ34+1pOrILxOIEC4StfXpxcyK5geJtmF7hZQ0bPEJeS+jmtfkDObe7hfCA4X8EqFDzCHK0YfJN5EeVhDiRXESaZdWCPA9Fgs5hkdOOIg5OCga8Ilt3a6NZxaq1fmwjAHvInwZvL990isIArTXZbn1l4FHfNHqYWe3+LDLaLga8EFQkZdZavXi+Rv+zCtU/pEcs27JCNdBBh1NZU9CVn3A75KILZsYVu4Fgs7wSh/8Hp98rHfN1gyBJ67QqPWhHarBKhnXtrDTj52B57Z5+OdbN0vlpbycFFlBSGGtGmjEzQq8K3gROf68GoLGKtJ4hJqzdfiS4DIEmEVylLTCwUE6MsS4vAfLlE8uerDVZ/skan0BMlH6BFqPlwlRIcssW7is8AS+ijTSJIRFT3e/uEtAYqy35CxH8jaVZLl59QdiNDHyZ27JdnwSlF6xQI2Nf/UIhSfQzLIiUJo8CbEtAjXN+MDXyc28Yan7cMVAVbB/S4v0RCP2Hk5LkADXB20HdHWJkCmBQyd/YKlmmSrIUFzhWthn+sJ9YqxSwSY+GTNPDgwtPsFdYvdttyWntyOTVOYSY2P0cHje2wIDkB0eW35WpiwcWCrGrsJ9T9i8aUCJkfVTYCwThDe7V0aT+1eEpSlbji2puF1RWlGujtQMkWsuXHS/Pt61HoCk6xvRuo9VsAQ8aUaxoBIFLplq2gng0XEFC9sK7hnIhWCtDEV9UFpQR5FaXY5Jg35WrZcPUgcMCV+SBhstrqeOOz2UggRnd6Sdv3PHFZJ2JqI2gSoaII4DI/MCgt35AjiRFhDiJEjxOtfyMMcthvWidFLBchNQLb7PWs6M3Wb2deOpGQCq2iFmMU121hQAn9ZLklEorQBgQH8fVGja0dGqNYgKZEIBOKDCLMkGVIBohbI7o7ZMhFRU01wvqXQ47OGuCULEOB61hBWUNrwsY3pGZvLRoDc+G97gQIcjk9LBeKyemFHECOD7oV0yNNOpmc02jMCZPb/FTk5fsNQgAloynXpZoEIceRYr1heuueGe76f0V5klkV40WOR5/aqmseA7fjYcIQaYre4EC5e8rO5xklH240FVDzHXWQMWPazeUPikrG20+swHsm+G7YFhAsmzRPgWIEWEK6jzqWYTiBAH8uTdq25HUkiws4P9Li5mhWygKDoUWVlwpcVBHDH7aNKJK1vXAuoyQhQ64KqykKGbng1Pne6tZ+FvBCm+Rf+rFoWsGonleeNS92uE4Q39pQoiWvna2OiegHV5qEA1+BrqyWABQw4tL16AuSMVasLvucVIiEJNPwyjAB9N5LedhsN6cD3NKxAp4WGEeCngqOz+jE8VmEtPgY2FUAYAaLPzGe2NnTDa7HT+CsGVkIanG+gq1eIDQTjayO0ZXu1qke5A/EtFLxvmq+N+bBJSJbW8qxszmF3WNWp2jTXVICa5xsl7zK7egHx/d8nflwFxDe0gqspenIE1wKqRICKJ0BJLLehbRgkXiRfSQkEOLSCK9wo2ALevEk8VGIBf8/6ngXuL6G1CcMXwhPNOxlawdXY8+iKgmsBNV3hu2CMNePSbfUCltRHBX9oBVcTN6kwuMZJxQ00pDY43yOygBBIty4WCPCSQNCdPztQ0bQSFJkJc7cKGO0ZAVKD8z1iwfRavYA7xoBwpzPftg3rgpZCXTBzNcZoL6IR3eB8j6gOCPoJBIkJNl67BNHYmT90xcVOELvKTFBHRo0AaanB+Z7EBUtEiDiwXzMp3rmY2exy8nnALo4hHWDCFtP9q6lD5yM1NT3PXg25yEucb5GliQACxJlnkq2BAbs4SosuKAm5wq4BnsddazSHPs/65svCODBrxmoL1pITIJGQ1Lltv1nQejD3HGGtEivWUoN+nzhIN0Zz63b2BEjOoYH4He2t5UPCwNZE3G4BFc8CQu03BeUYIKnb2WNTIUYUsNdbcrK7/4dJSRiQF3AtYBzN4S69QiOLc8TlU6Ebdlm9gDtODuC7uHJIMxoxuwkSIvzy3fUT4UgBf68kJBtdWLGAokTkg9+QGAjQ1UXa08Lxx0OQ//NBeo/Y0R5JBctZt6SkiOkRXC2YBCTRHK1qSI3PEAcXAcIq3ZHDlFVYQjvCDAKEEAfxBMx+FGEBL7ITkFsh38qz1REvDkQtUFqUBqgLDhsJ/BM6+YIGLnOX4PQtY7ciwGjhdeJy4ZfkBArHw2zVL+2tbyGQeMKRLhawFQfOEQeu6e2kfSP0ED+EfkNf+BXry6ExNXW4YT9cfeV1/DPigNT7I0cR2my17vh6E4Yswju6X9BxXnBam2EhXZZrB/Neihx8WSSJF/BULgq9AvSfbxObaHRu1YftH6gXDs+xyzHv/be8KN0OyiV1E6G1/ugU8rFPJrQAud5PUQMNCO3/tfZtp+PTxEFSBe+FFWEdYkK7WmOnffkQ4O0BJ0YgAWVXQfSaUt/aKx1Fs8TlvXfJGxAhrMIgZ8eweDjsx/6NvppIQ1pAeD4uKjrV+V9rBJhkKNxs2Ecy0g6sAqzDIIoQtc/OmM/HOcgQdajXC9eam3x0ZL+W7r5Oa96qCJAEpP3gHK5SBRKXe3f3/Ss+WqhCDmz6xX8Rmx6hXXcBRouz5l/eGpZvK2jJcrhK2YHVS04Y7bEtwcdEg9tupyAg7vvdb1nfkiQfB1+c7faprgJMF4r1D4iLbytosdYQ1qNKQoTg7t6dPu9+iZXrTraQ7nfuLWKje4d0vV8VSTKSlxW0JPHTrvIv4UEQcLe4ZZlp7TpSY+tWCgKurWTpLaJjvT/VA1EyAvKygha7+QhCdDmg2TewcDjZ3Aov6zZR1+mm9pzgEPz0DeKjZrslH5b+Bbdmb+X2BO8Sn2WZXnQ7oLmI+iGEBheL54Gz0rj7k13nuYRK0kR1P+pr/dJP96G1MjJHXN75uZ/VkazYA5on/jrdDwIx5lUTs5YOosPvg/hdxoO4TDYNZf0gPFxTNv2tH1jff8EKRjRJHLA6gie875sUHJwCaU+ChGtDfAUrs7Cw8nEWlwdB2ZEiaHHatNEIfYtfl48CtEv8F8r6IazKwfoBRRnQr544a2qDk8Tl299Jyw9lxK4+YJgPBJkIrtXOHiquvHxJPlwcb4xduyl3EFL96IfEx1i/g4efW++rsvkNRev+oK4gaA3pijlAZLjhQo61pjbY/wvFjeskBqFG3sDqiRIPymT90i/LQOLHtaAuKI4dagAsn8vJ5yHeKFLXmyH2s2SPnEeWpom7OgLOvRsmK64a0hk4sNYhYj9cs18zu52BWfXIav1AZgG2ttHxyzIAVtBlA9OggZ16EusHq7czh92EnSSeS1jP1fpYVusHMiUhq36+NCHBQXb/9M/FnjdcBiA8jKLjChBJUnsLV15AfEg6JAYDa77fPXIf51v4xavlkSmSgD/o335MtQeuV2L9sI86RNx39i25t1JqHzFhC1AdQku1lrlipPRnBYvZgwISD0nZBUX2EO1WcLu/Ew4ciHmu18J2wRb96vFzpGkPSXj0G+a2l2qF1PVCfCFWOyA+acVC4Hot8sVTpZ4hSVYM8IfWKTNGoZsrvmR8SSDx4VrIxTcvcb0WsQBb5lbmigH6yi4I0vwqgtl5HPHZ3XIhxIcmgzmHsMgs1Upcr8WpfUQdPHJKVKC2vPnG4IsQSQdn3HDSS7grWx+hKxDfm/9OYsy1Vy8cOUUOuPcvoUDdmvcrAiIcVHcM8WUtONvzTu4KtCMQr7mL+FBwThcnnBAnIe3omRMTJgs6Zx7Kx10NWmLCGQ0Hq7fzznDr0C4JB4D4TNzn4npXfpQn9CsnJinSZ8mFQRAhEg7EfFncLoS3Y0fYQ3YQ77l6nGj0oc4JB1K8CRDokyf2m39fIxe+cn/aR4iVk6php/uv1+NXhPDQo3nmx+57dmKaco372vEqQKBfeWmaInWUXID40EtYJRFib0e/s5Bt9zJuRQyRlC6vtYNi8wsvTpNHvAsQeBHhprHUJT/8CJUaCA6JRme8B5Ghgxqd1NizW9TmqaTG97b71s8cxAdyESDQ33/plAlUnydX/uZrRI/tLa81RLt/s220RtLYuqH4AUtwuVj2/LWHMldO4gO5CRDo7x+fNb/hWXIF4nviyfK295cNxHnoZPbRAqfptPrekf2UE7kKEHhxx5ayW8OisZvBfNVVUWj+3osHKEdyFyDwKkKID7HhA1+nIW34ivUsObrddoIIEHgVIRi65RS4W+zd8DkSJZD4QDABAn3yOMz5DPmkynVDF/IQHmjq59Sh7pOs8iCoAIF++eU9NNr8iYkvJsgnEOLfPjL4FjEv4aGtqqmeSaZhBCS4AEGydqzprHcRArSuP/x3gxUj2jncv3g3n+ljaCZRRnwe1nb5v7og9Mz0ODU3THupFXYDLhnWsMpZM8SGYzCQYPhKLjpBO93I0rQ9PDA0hQnQ0ooLkZzkd3AcrOIDpoTz1fvLL0bU7tCndzHnWYuJy6VjPtd1ZU+jBOTqkjuBGHffk4oRLe+bCt4mCveKGTEY/IhbiP3TBbpcWvNUSoT3Uk0W4KbRi4d7jFnL+7AcCOxia8o82rbytHLdCFhiyUKpBAiCWsNuoBV+23jqqne2LCQej42tuO9ebtxaL8RraE7APYQGK4fT3a/O5xfLrQfmPKqRKV99fL4onQAtSW+hMrFhUUIcFEoS6/Wi4JaN3qiDh9HIsA+L4TREBjJctXhfWcUHSmsB20ncclNPe+msqQOJu6XnypBkrEclBGgZCnEdILzE3YZdzXChUgK0DIXYQQWFZ6mkAC23hBipx2uXrCTJhYnxRqPZKrjaXlRagO20suZnRbMLqwSsHQ6TjBZni1o+88nACNCSWsX4AEXRUwNjFXGKfTM+TcvG2h2urrXrxsAJsJ2k9WtkedJcwKcqZxmTuC7+mamUzVUxtsvKQAuwnVa8iHmGT5vq54Pi2YZ5ASsXx2dIRecpWnh9ENxrFmojwE6SdrDlTXsoiieJRh4kFU8EEyXEppVZEmu+n9yPLM7VRXCd1FaAvUjcdrQ8YV6ZiSSGVCP3ktJmcRg3ld7rHq1jEFb6U4yY1Lz5OiO0+EoqOPM4Hm3QhuuNuoqtG38G06EFAaGPSiUAAAAASUVORK5CYII="}],object:{uuid:"7fade3a3-a405-4bac-9480-fd258ddb174f",type:"Scene",name:"Scene",layers:1,matrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],environment:"984497bd-309b-49dc-8256-b56053de0795",children:[{uuid:"60b80b3e-55ca-4625-ad48-a52da8e168dc",type:"Mesh",name:"Entrance",userData:{type:"Entrance"},layers:1,matrix:[1,0,0,0,0,22204460492503136e-32,-1.0000000000000002,0,0,1.0000000000000002,22204460492503136e-32,0,9.5,0,9.5,1],geometry:"c0353472-3856-417c-aef9-3bd900b2fba5",material:"7ee8bf43-8655-4225-b20a-a93f5694f031"},{uuid:"fa76d3de-1578-4f3b-8a1c-d8c0d23b9b12",type:"Mesh",name:"Exit",userData:{type:"Exit"},layers:1,matrix:[1,0,0,0,0,22204460492503136e-32,-1.0000000000000002,0,0,1.0000000000000002,22204460492503136e-32,0,-9,0,-9,1],geometry:"cdd20912-a526-4cf0-99cd-902e0f5b1c59",material:"10e0f37f-a21b-42f7-8833-b64ca8f812ef"}]}},xne={},Ene={undos:[],redos:[]};var y_={metadata:yne,project:vne,camera:wne,scene:Ane,scripts:xne,history:Ene};function _ne(a){const t=a.strings;a.config;const r=[],n=new on;n.addClass("menu"),n.addClass("file");const c=new on;c.setClass("title"),n.add(c);const p=new on;p.setClass("options word file"),n.add(p),new Lr().setClass("option desc"),c.dom.insertBefore(Ys().getKey("addbar/option/file"),c.firstChild);var v=new MutationObserver(function(Qe){c.dom.replaceChild(Ys().getKey(c.getClass().includes("open")?"addbar/option/file/open":"addbar/option/file"),c.dom.firstChild)});v.observe(c.dom,{attributes:!0,attributeFilter:["class"],childList:!1,characterData:!1});const E=new Proxy(new URLSearchParams(window.location.search),{get:(Qe,Ue)=>Qe.get(Ue)});E.roomId?E.roomId:E.assignments;let _=y_;const k=new Lr;let R=new B0("addbar/option/file/export",()=>{});k.add(R),k.setId("click"),k.setClass("option desc"),k.add(new si(t.getKey("addbar/option/file/export"))),p.add(k);const B=new Lr;R=new B0("addbar/option/file/import",()=>{}),B.add(R),B.setId("click"),B.setClass("option desc"),B.add(new si(t.getKey("addbar/option/file/import"))),p.add(B);const M=new Lr;M.setClass("line"),p.add(M);const F=new Lr;F.setClass("option desc"),F.setTextContent(t.getKey("addbar/option/file/new")),F.onClick(function(){confirm("Any unsaved data will be lost. Are you sure?")&&(a.clear(),a.fromJSON(_),a.config.setKey("project/title",_.metadata.title))}),p.add(F);const H=new Lr;R=new B0("addbar/option/file/publish",()=>{}),H.add(R),H.setClass("option desc"),H.add(new si(t.getKey("addbar/option/file/publish"))),H.onClick(async function(){me()}),p.add(H);const U=new Lr;U.setClass("option desc"),U.add(new si(t.getKey("addbar/option/file/preview"))),U.onClick(function(){me("preview")});const Z=new Lr;Z.setClass("option desc"),Z.add(new si(t.getKey("addbar/option/file/play"))),Z.onClick(function(){me("play")});const K=new on;K.setClass("options word file extent"),B.add(K);const fe=document.createElement("form");fe.style.display="none",document.body.appendChild(fe);const oe=document.createElement("input");oe.multiple=!0,oe.type="file",oe.addEventListener("change",function(){a.loader.loadFiles(oe.files),fe.reset()}),fe.appendChild(oe);const we=new Lr;we.setClass("option desc"),we.setClass("option desc"),we.setTextContent(t.getKey("addbar/option/file/importfrom")),we.setDisabled(!0),K.add(we);const be=new Lr;be.setClass("option desc"),be.setPaddingLeft("30px"),be.setTextContent(t.getKey("addbar/option/file/import/computer")),be.onClick(function(){oe.click()}),K.add(be);const ve=new Lr;ve.setClass("option desc"),ve.setPaddingLeft("30px"),ve.setTextContent(t.getKey("addbar/option/file/import/ai")),ve.onClick(async function(){let Qe=prompt("Please Enter a Sentence or Paragraph",""),Ue=Qe.split(" ");if(console.log("promptStr",Qe),Qe){let ce=document.querySelector(".loader-container");ce.style.display="flex",await(await fetch("https://play.grwth.hk/openai/generateImage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:Qe})})).json().then(async function(ot){let Se=ot.data;const Xe=document.createElement("img"),ct=new Z0;Xe.onload=function(){ct.sourceFile=`${Ue}(by AI)`,ct.image=Xe,ct.needsUpdate=!0;let $e;Xe.height>Xe.width?$e=Xe.height/Xe.width:$e=Xe.width/Xe.height;const Et=new Lo(Xe.height>Xe.width?1:$e,Xe.height>Xe.width?$e:1,1,1),Dt=new q0({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-Re(a),transparent:!0,map:ct}),er=new Kr(Et,Dt);Ie({name:`${Ue}(by AI)`,type:"Plane"},er),a.execute(new r0(a,er))},Xe.src=`data:image/png;base64,${Se}`}).finally(function(){ce.style.display="none"})}}),K.add(ve);const ne=new Lr;ne.setClass("option desc"),ne.setPaddingLeft("30px"),ne.setClass("option desc"),ne.setTextContent(t.getKey("addbar/option/file/import/gdrive")),ne.onClick(async function(){let Qe=prompt("Please enter the Google Drive Sharing Link","");const Ue=Qe!==null?Qe.split("/"):Qe,ce=Ue!==null?Ue[5]:void 0,ot=prompt("Please enter the File Type (gltf/json)","").toLocaleLowerCase();let Se=!0;switch(ot){case"json":case"gltf":case"png":case"jpg":case"jpeg":break;default:Se=!1,alert("Invaild File Type");break}ce!==void 0&&Se&&await Po({method:"get",baseURL:"https://play.grwth.hk",url:`/googleDrive/${ce}`}).then(Xe=>{console.log("%c Addbar.File:ImportFromGoogleDrive","color: black; background: #85a7c3;",Xe),fetch(Xe.data.src).then(ct=>ct.blob()).then(ct=>{console.log(ct.toString());const $e=new File([ct],`${ce}.${ot}`);a.loader.loadFiles([$e])})}).catch(Xe=>{console.log("%c Addbar.File:ImportFromGoogleDrive Fail","color: black; background: #85a7c3;",Xe)})}),K.add(ne);const ae=new Lr;ae.setClass("option desc inactive"),ae.setPaddingLeft("30px"),ae.setTextContent(t.getKey("addbar/option/file/import/meta")),ae.onClick(function(){console.log("importFromMetaMask")}),ae.setDisabled(!0),a.signals.metadatasFetched.add(function(Qe){Qe.forEach(Ue=>{console.log("metadata",Ue);const ce=new Lr;ce.setClass("option desc"),ce.setTextContent(Ue.attributes[0].value.name),ce.onClick(function(){a.execute(new r0(a,Ue.attributes[0].value))}),K.add(ce)})});let ye=new on;ye=new on,ye.setClass("options word file extent"),k.add(ye);let de=new Lr;de.setClass("option desc"),de.setTextContent(t.getKey("addbar/option/file/export/scene")),de.onClick(function(){let Qe=a.toJSON();try{Qe=JSON.stringify(Qe,null,"	"),Qe=Qe.replace(/[\n\t]+([\d\.e\-\[\]]+)/g,"$1")}catch{Qe=JSON.stringify(Qe)}re(Qe,"editor.json")}),de=new Lr,de.setClass("option desc"),de.setTextContent(t.getKey("addbar/option/file/export/scene")),de.onClick(function(){let Qe=a.scene.toJSON();try{Qe=JSON.stringify(Qe,null,"	"),Qe=Qe.replace(/[\n\t]+([\d\.e\-\[\]]+)/g,"$1")}catch{Qe=JSON.stringify(Qe)}re(Qe,"scene.json")}),ye.add(de),de=new Lr,de.setClass("option desc"),de.setTextContent(t.getKey("addbar/option/file/export/object")),de.onClick(function(){const Qe=a.selected;if(Qe===null){alert("No object selected");return}let Ue=Qe.toJSON();try{Ue=JSON.stringify(Ue,null,"	"),Ue=Ue.replace(/[\n\t]+([\d\.e\-\[\]]+)/g,"$1")}catch{Ue=JSON.stringify(Ue)}re(Ue,`${Qe.name.split(".")[0]}.json`)}),ye.add(de),de=new Lr,de.setClass("option desc"),de.setTextContent(t.getKey("addbar/option/file/export/pc")),de.onClick(async function(){const Qe=a.scene,Ue=he(Qe),{GLTFExporter:ce}=await Wo(()=>import("./GLTFExporter.02ee3da3.js"),[]);new ce().parse(Qe,function(ot){re(JSON.stringify(ot,null,2),"scene.gltf")},void 0,{animations:Ue})});const xe=document.createElement("a");function le(Qe,Ue){xe.href&&URL.revokeObjectURL(xe.href),xe.href=URL.createObjectURL(Qe),xe.download=Ue||"data.json",xe.dispatchEvent(new MouseEvent("click"))}function re(Qe,Ue){le(new Blob([Qe],{type:"text/plain"}),Ue)}function he(Qe){const Ue=[];return Qe.traverse(function(ce){Ue.push(...ce.animations)}),Ue}async function me(Qe=null){const Ue=new Proxy(new URLSearchParams(window.location.search),{get:(Ht,Kt)=>Ht.get(Kt)});let ce=Ue.roomId?Ue.roomId:Ue.assignments;function Me(Ht){Ht=window.atob(Ht);for(var Kt=new ArrayBuffer(Ht.length),yr=new Uint8Array(Kt),Ur=0;Ur<Ht.length;Ur++)yr[Ur]=Ht.charCodeAt(Ur);return Kt}async function ot(){const Ht=JSON.stringify(a.toJSON());console.log("saveJson",a.toJSON());const Kt=new TextEncoder().encode(Ht),yr=new Blob([Kt],{type:"application/json"},`${ce}.json`),Ur=new File([yr],`${ce}.json`),Yr=new FormData;Yr.append("fields",Ur),await Po({method:"post",url:"https://play.grwth.hk/assignments",data:Yr,headers:{"Content-Type":"multipart/form-data"}}).then(function(oi){console.log("%c Axios Post Success(JSON)","color: black; background: #3ea086;",oi.data.files.fields.size),a.signals.publishClicked.dispatch("Uploaded",`${ce}.json`)}).catch(function(oi){console.log("%c Error: saveJson ","color: black; background: #C03F45;",oi)})}ot();async function Se(Ht){var yr,Ur,Yr,oi,xt,kt,rr,mt,ft,Ut,ir,vr,nt;async function Kt(De,Te,gt){const zt=De.split(";base64,")[1],Bt=Me(zt),bt=new Uint8Array(Bt),Rr=new Blob([bt],{type:"application/json"},`${ce}.${gt}`),Ct=new FormData;Ct.append("fields",new File([Rr],`${Te}.${gt}`)),await Po({method:"post",url:`https://play.grwth.hk/publishes/${ce}`,data:Ct}).then(function(Nt){console.log("%c Axios Post Success(Assets)","color: black; background: #3ea086;",Nt.data.files.fields.size),a.signals.publishClicked.dispatch("Uploaded",Te+"."+gt)}).catch(function(Nt){console.log(Nt)})}if(Ht.isGroup)[...Ht.children].forEach(async De=>{await Se(De)});else{if((yr=Ht.material)!=null&&yr.map,(oi=(Yr=(Ur=Ht.userData)==null?void 0:Ur.play)==null?void 0:Yr.audio)!=null&&oi.value){const De=(rr=(kt=(xt=Ht.userData)==null?void 0:xt.play)==null?void 0:kt.audio)==null?void 0:rr.value,Te=De.base64;if(De!=null&&De.sourceFile){const gt=De.sourceFile.split(".")[0],zt=De.sourceFile.split(".")[(De==null?void 0:De.sourceFile.split(".").length)-1];await Kt(Te,`${Ht.uuid}/${gt}`,zt)}}if((Ut=(ft=(mt=Ht.userData)==null?void 0:mt.play)==null?void 0:ft.presentation)!=null&&Ut.value){const De=(nt=(vr=(ir=Ht.userData)==null?void 0:ir.play)==null?void 0:vr.presentation)==null?void 0:nt.value,Te=De.base64,gt=De.sourceFile.split(".")[0],zt=De.sourceFile.split(".")[(De==null?void 0:De.sourceFile.split(".").length)-1];await Kt(Te,`${Ht.uuid}/${gt}`,zt)}}}a.scene.children.forEach(async(Ht,Kt,yr)=>{await Se(Ht),Ht.userData.type=="Model"?[...Ht.children].forEach(async Ur=>{await Se(Ur)}):Ht.isMesh||Ht.isGroup&&[...Ht.children].forEach(async Ur=>{await Se(Ur)})});function Xe(Ht,Kt){ct(new Blob([Ht],{type:"text/plain"}),Kt)}function ct(Ht,Kt){$e(Ht,Kt)}async function $e(Ht,Kt){const yr=new FormData;yr.append("fields",new File([Ht],`${Kt}`)),await Po({method:"post",url:`https://play.grwth.hk/publishes/${ce}`,data:yr,headers:{"Content-Type":"multipart/form-data"}}).then(function(Ur){console.log("%c Axios Post Success(GLTF)","color: black; background: #3EA055;",Ur),a.signals.publishClicked.dispatch("Uploaded",Kt)}).catch(function(Ur){console.log("%c Error: sendFileToBackend ","color: black; background: #C03F45;",Ur)}).finally(function(){Qe&&window.open(`https://play.grwth.hk/${Qe}/?roomId=${ce}`,"_blank")})}a.signals.publishClicked.dispatch("Uploading to Server...","Please wait with patience.");const Et=a.scene,Dt=he(Et),{GLTFExporter:er}=await Wo(()=>import("./GLTFExporter.02ee3da3.js"),[]);new er().parse(Et,function(Ht){console.log(Ht),window.result=Ht,Xe(JSON.stringify(Ht,null,2),"scene.gltf")},void 0,{animations:Dt})}function Re(Qe){return Qe==null?void 0:Qe.scene.children.reduce((ce,Me)=>(Me.type==="Mesh"&&!["Group","Exit","Entrance","Portal"].includes(Me.userData.type)&&ce++,Me.type==="Group"&&(Me==null||Me.children.forEach(ot=>{ce++})),ce),0)}function Ie(Qe,Ue){const{name:ce,type:Me}=Qe;ce?Ue.name=ce:Ue.name=Me,Ue.userData.type=Me,["Exit","Entrance","Portal","Presentation"].includes(Me)||(a.setObjectAudio(Ue,{option:"none",value:null}),a.setObjectOnClick(Ue,{option:"none",value:"https://play.grwth.hk/"}))}r.push(B),r.push(k),r.push(M),r.push(F),r.push(H),r.push(U);let Ne=setTimeout(()=>{},0);return r.forEach(Qe=>{Qe.dom.addEventListener("mouseover",function(){r.forEach(Ue=>{Qe!==Ue&&Ue.removeClass("expend")}),clearTimeout(Ne),Qe.dom.classList.contains("expend")||Qe.addClass("expend")})}),r.forEach(Qe=>{Qe.dom.addEventListener("mouseleave",function(){Qe.dom.classList.contains("expend")&&(Ne=setTimeout(()=>{Qe.removeClass("expend")},250))})}),n}function kne(a){const t=a.strings,r=new on;r.addClass("menu"),r.addClass("setting");const n=new on;n.setClass("title"),r.add(n);const c=new on;c.setClass("options word setting"),r.add(c),n.dom.insertBefore(Ys().getKey("addbar/option/setting"),n.firstChild);var p=new MutationObserver(function(E){n.dom.replaceChild(Ys().getKey(n.getClass().includes("open")?"addbar/option/setting/open":"addbar/option/setting"),n.dom.firstChild)});p.observe(n.dom,{attributes:!0,attributeFilter:["class"],childList:!1,characterData:!1});let y=new Lr,v=new B0("addbar/option/setting/setting",()=>{});return y.add(v),y.add(new si(t.getKey("addbar/option/setting/setting"))),y.setClass("option desc"),y=new Lr,v=new B0("addbar/option/setting/help",()=>{}),y.add(v),y.add(new si(t.getKey("addbar/option/setting/help"))),y.setClass("option desc"),y.onClick(()=>{window.open("https://play.grwth.hk/tutorial.pdf","_blank")}),c.add(y),y=new Lr,v=new B0("addbar/option/setting/update",()=>{}),y.add(v),y.add(new si(t.getKey("addbar/option/setting/update"))),y.setClass("option desc"),r}function Cne(a){const t=new on;t.setId("addbar");const r=[],n=new ane(a),c=new lne(a),p=new cne(a),y=new hne(a),v=new bne(a),E=new _ne(a),_=new kne(a);r.push(n),r.push(v),r.push(y),r.push(c),r.push(p),r.push(E),r.push(_),t.add(n),t.add(v),t.add(y),t.add(c),t.add(p),t.add(E),t.add(_),r.forEach(R=>{R.dom.addEventListener("click",function(B){if(k(R),!R.dom.classList.contains("expend"))R.addClass("expend"),R.dom.children[0].classList.add("open");else if(R)if(R!==v)R.removeClass("expend"),R.dom.children[0].classList.remove("open");else{const M=document.querySelector("div.Panel.menu.library"),F=document.querySelector("div.Panel.menu.library .title");F.contains(B.target)&&M.classList.contains("expend")&&(M.classList="Panel menu library",F.classList="title")}})});function k(R){r.forEach(B=>{B!==R&&B.dom.classList.contains("expend")&&B.removeClass("expend"),B.dom.children[0].classList.remove("open")})}return t}function Sne(a){a.strings;const t=new on;t.setClass("menu");const r=new on;r.setClass("title"),r.setTextContent("Online"),t.add(r);const n=new on;n.setClass("options"),t.add(n);const c=new Lr;c.setClass("option"),c.setTextContent("Save"),c.onClick(async function(){let M=new Proxy(new URLSearchParams(window.location.search),{get:(K,fe)=>K.get(fe)}).assignments;function F(K){K=window.atob(K);for(var fe=new ArrayBuffer(K.length),oe=new Uint8Array(fe),we=0;we<K.length;we++)oe[we]=K.charCodeAt(we);return fe}async function H(K){var oe,we,be,ve,ne,ae,ye,de,xe,le,re,he,me,Re,Ie;async function fe(Ne,Qe,Ue){const ce=Ne.split(";base64,")[1],Me=F(ce),ot=new Uint8Array(Me),Se=new Blob([ot],{type:"application/json"},`${M}.${Ue}`),Xe=new FormData;Xe.append("fields",new File([Se],`${Qe}.${Ue}`)),await Po({method:"post",url:`https://play.grwth.hk/publishes/${M}`,data:Xe}).then(function(ct){console.log("%c Axios Post Success(JSON)","color: black; background: #3ea086;",ct.data.files.fields.size),a.signals.publishClicked.dispatch("Uploaded",Qe+Ue)}).catch(function(ct){console.log(ct)})}if(K.type==="Scene"&&K.background&&typeof K.background!="number"){const Ne=K.background.source.data.currentSrc,Qe=K.background.source.data.currentSrc.split(";")[0].split("/")[1];await fe(Ne,K.uuid,Qe)}if(K.isGroup)[...K.children].forEach(async Ne=>{await H(Ne),await U(`${Ne.uuid}.obj`,zo(Z.parse(Ne)))});else{if((oe=K.material)!=null&&oe.map){const Ne=(we=K.material)==null?void 0:we.map.source.data.currentSrc,Qe=(be=K.material)==null?void 0:be.map.source.data.currentSrc.split(";")[0].split("/")[1];await fe(Ne,K.uuid,Qe)}if((ae=(ne=(ve=K.userData)==null?void 0:ve.play)==null?void 0:ne.audio)!=null&&ae.value){const Ne=(xe=(de=(ye=K.userData)==null?void 0:ye.play)==null?void 0:de.audio)==null?void 0:xe.value,Qe=Ne.base64;if(Ne!=null&&Ne.sourceFile){const Ue=Ne.sourceFile.split(".")[0],ce=Ne.sourceFile.split(".")[(Ne==null?void 0:Ne.sourceFile.split(".").length)-1];await fe(Qe,`${K.uuid}/${Ue}`,ce)}}if((he=(re=(le=K.userData)==null?void 0:le.play)==null?void 0:re.presentation)!=null&&he.value){const Ne=(Ie=(Re=(me=K.userData)==null?void 0:me.play)==null?void 0:Re.presentation)==null?void 0:Ie.value,Qe=Ne.base64,Ue=Ne.sourceFile.split(".")[0],ce=Ne.sourceFile.split(".")[(Ne==null?void 0:Ne.sourceFile.split(".").length)-1];await fe(Qe,`${K.uuid}/${Ue}`,ce)}}}async function U(K,fe){const oe=new Blob([fe],{type:"application/json"},`${K}`),we=new FormData;we.append("fields",new File([oe],`${K}`)),await Po({method:"post",url:`https://play.grwth.hk/publishes/${M}`,data:we,headers:{"Content-Type":"multipart/form-data"}}).then(function(be){console.log("%c Axios Post Success(OBJ)","color: black; background: #3EA055;",be.data.files.fields.size),a.signals.publishClicked.dispatch("Uploaded",K)}).catch(function(be){console.log(be)})}const Z=new uI;H(a.scene),a.scene.children.forEach(async(K,fe,oe)=>{console.log(K),await H(K),K.userData.type=="Model"?[...K.children].forEach(async we=>{await H(we),await U(`${we.uuid}.obj`,zo(Z.parse(we)))}):K.isMesh?await U(`${K.uuid}.obj`,zo(Z.parse(K))):K.isGroup&&[...K.children].forEach(async we=>{await H(we),await U(`${we.uuid}.obj`,zo(Z.parse(we)))})})}),n.add(c);const p=new Lr;p.setClass("option"),p.setTextContent("Preview My Room"),p.onClick(function(){window.open(`https://play.grwth.hk/preview/?assignments=${assignmentSceneName}`,"_blank")}),n.add(p);const y=new Lr;y.setClass("option"),y.setClass("inactive"),y.setTextContent("Login as:");const v=new Lr;v.setClass("option"),v.setTextContent("User A in group A"),v.onClick(function(){});const E=new Lr;E.setClass("option"),E.setTextContent("User B in group B"),E.onClick(function(){});const _=new Lr;_.setClass("option"),_.setTextContent("User C in group B"),_.onClick(function(){});const k=new Lr;k.setClass("option"),k.setClass("inactive"),k.setTextContent("Assignments:");const R=new Lr;return R.setClass("option"),R.setTextContent("_Save"),R.onClick(function(){a.signals.publishClicked.dispatch()}),t}function Tne(a){const t=a.strings,r=new on;r.setClass("menu");const n=new on;n.setClass("title"),n.setTextContent(t.getKey("menubar/edit")),r.add(n);const c=new on;c.setClass("options"),r.add(c);const p=new Lr;p.setClass("option"),p.setTextContent(t.getKey("menubar/edit/undo")),p.onClick(function(){a.undo()}),c.add(p);const y=new Lr;y.setClass("option"),y.setTextContent(t.getKey("menubar/edit/redo")),y.onClick(function(){a.redo()}),c.add(y);let v=new Lr;v.setClass("option"),v.setTextContent(t.getKey("menubar/edit/clear_history")),v.onClick(function(){confirm("The Undo/Redo History will be cleared. Are you sure?")&&a.history.clear()}),a.signals.historyChanged.add(function(){const M=a.history;p.setClass("option"),y.setClass("option"),M.undos.length==0&&p.setClass("inactive"),M.redos.length==0&&y.setClass("inactive")}),c.add(new fw),v=new Lr,v.setClass("option"),v.setTextContent(t.getKey("menubar/edit/center")),v.onClick(function(){const M=a.selected;if(M===null||M.parent===null)return;const H=new na().setFromObject(M).getCenter(new wt),U=new wt;U.x=M.position.x+(M.position.x-H.x),U.y=M.position.y+(M.position.y-H.y),U.z=M.position.z+(M.position.z-H.z),a.execute(new oc(a,M,U))});const E=new Lr;E.setClass("inactive"),E.setTextContent("Mint"),E.onClick(function(){const M=a.selected;fI(M)}),a.signals.metaMaskConnected.add(function(M){window.metaMaskConnected=!0}),a.signals.objectSelected.add(function(M){var F;window!=null&&window.metaMaskConnected&&E.setClass("option"),(!M||["Exit","Entrance"].includes((F=M==null?void 0:M.userData)==null?void 0:F.type))&&E.setClass("inactive")}),c.add(E);const _=new Lr;_.setClass("option"),_.setTextContent(t.getKey("menubar/edit/duplicate")),_.onClick(function(){var F;let M=a.selected;if(!(M===null||M.parent===null||["Exit","Entrance"].includes(M.userData.type))){if(M.type==="Mesh"&&M.parent.type!=="Group"){M=M.clone();const H=new THREE.Mesh(M.geometry,new THREE.MeshBasicMaterial({color:"#FFFFFF"}));(F=H.material)!=null&&F.map&&(H.material.map=M.material.map,H.material.polygonOffsetFactor=M.material.polygonOffsetFactor+1,H.material.needsUpdate=!0),H.material.color.setHex(M.material.color.getHex()),H.material=new THREE.MeshStandardMaterial().copy(M.material),H.name=`${M.name}'s copy`,H.position.copy(M.position),H.scale.copy(M.scale),H.rotation.copy(M.rotation),H.needsUpdate=!0,H.userData=JSON.parse(JSON.stringify(M.userData)),a.execute(new r0(a,H))}if(M.type=="Group"){const H=M.clone();H.children&&(console.log("mesh.children",H.children),H.children.forEach((U,Z)=>{U.material&&(U.material=new THREE.MeshStandardMaterial().copy(M.children[Z].material))})),H.name=`${M.name}'s copy`,H.position.copy(M.position),H.scale.copy(M.scale),H.rotation.copy(M.rotation),H.needsUpdate=!0,H.userData=JSON.parse(JSON.stringify(H.userData)),a.execute(new r0(a,H))}}}),c.add(_),a.signals.objectSelected.add(function(M){var F;_.setClass("option"),["Exit","Entrance"].includes((F=M==null?void 0:M.userData)==null?void 0:F.type)&&_.setClass("inactive")}),v=new Lr,v.setClass("option"),v.setTextContent(t.getKey("menubar/edit/delete")),v.onClick(function(){const M=a.selected;M!==null&&M.parent!==null&&a.execute(new xh(a,M))}),c.add(v),v=new Lr,v.setClass("option"),v.setTextContent(t.getKey("menubar/edit/fixcolormaps")),v.onClick(function(){a.scene.traverse(R)});const k=["map","envMap","emissiveMap"];function R(M){const F=M.material;if(F!==void 0){if(Array.isArray(F)===!0)for(let H=0;H<F.length;H++)B(F[H]);else B(F);a.signals.sceneGraphChanged.dispatch()}}function B(M){let F=M.needsUpdate;for(let H=0;H<k.length;H++){const U=M[k[H]];U&&(U.encoding=THREE.sRGBEncoding,F=!0)}M.needsUpdate=F}return r}function Mne(a){let r=new Proxy(new URLSearchParams(window.location.search),{get:(oe,we)=>oe.get(we)}).assignments;switch(r){default:r=y_}const n=a.config,c=a.strings,p=new on;p.setClass("menu");const y=new on;y.setClass("title"),y.setTextContent(c.getKey("menubar/file")),p.add(y);const v=new on;v.setClass("options"),p.add(v);let E=new Lr;E.setClass("option"),E.setTextContent("From scratch"),E.onClick(function(){confirm("Any unsaved data will be lost. Are you sure?")&&(a.config.setKey("project/title","New room"),a.clear())}),E=new Lr,E.setClass("option"),E.setTextContent("New"),E.onClick(function(){confirm("Any unsaved data will be lost. Are you sure?")&&(a.clear(),a.fromJSON(r),a.config.setKey("project/title",r.metadata.title))}),v.add(E),v.add(new fw),E=new Lr,E.setClass("option"),E.setTextContent(c.getKey("menubar/file/export/geometry")),E.onClick(function(){const oe=a.selected;if(oe===null){alert("No object selected.");return}const we=oe.geometry;if(we===void 0){alert("The selected object doesn't have geometry.");return}let be=we.toJSON();try{be=JSON.stringify(be,null,"	"),be=be.replace(/[\n\t]+([\d\.e\-\[\]]+)/g,"$1")}catch{be=JSON.stringify(be)}K(be,"geometry.json")}),E=new Lr,E.setClass("option"),E.setTextContent(c.getKey("addbar/option/file/export/object")),E.onClick(function(){const oe=a.selected;if(oe===null){alert("No object selected");return}let we=oe.toJSON();try{we=JSON.stringify(we,null,"	"),we=we.replace(/[\n\t]+([\d\.e\-\[\]]+)/g,"$1")}catch{we=JSON.stringify(we)}K(we,`${oe.name}.json`)}),v.add(E),E=new Lr,E.setClass("option"),E.setTextContent(c.getKey("menubar/file/export/scene")),E.onClick(function(){let oe=a.scene.toJSON();try{oe=JSON.stringify(oe,null,"	"),oe=oe.replace(/[\n\t]+([\d\.e\-\[\]]+)/g,"$1")}catch{oe=JSON.stringify(oe)}K(oe,"scene.json")}),v.add(E),E=new Lr,E.setClass("option"),E.setTextContent(c.getKey("menubar/file/export/dae")),E.onClick(async function(){const{ColladaExporter:oe}=await Wo(()=>import("./ColladaExporter.ccc8fec0.js"),[]);new oe().parse(a.scene,function(be){K(be.data,"scene.dae")})}),E=new Lr,E.setClass("option"),E.setTextContent(c.getKey("menubar/file/export/drc")),E.onClick(async function(){const oe=a.selected;if(oe===null||oe.isMesh===void 0){alert("No mesh selected");return}const{DRACOExporter:we}=await Wo(()=>import("./DRACOExporter.7ecf3e52.js"),[]),be=new we,ve={decodeSpeed:5,encodeSpeed:5,encoderMethod:we.MESH_EDGEBREAKER_ENCODING,quantization:[16,8,8,8,8],exportUvs:!0,exportNormals:!0,exportColor:oe.geometry.hasAttribute("color")},ne=be.parse(oe,ve);Z(ne,"model.drc")}),E=new Lr,E.setClass("option"),E.setTextContent(c.getKey("menubar/file/export/glb")),E.onClick(async function(){const oe=a.scene,we=fe(oe),{GLTFExporter:be}=await Wo(()=>import("./GLTFExporter.02ee3da3.js"),[]);new be().parse(oe,function(ne){Z(ne,"scene.glb")},void 0,{binary:!0,animations:we})}),E=new Lr,E.setClass("option"),E.setTextContent(c.getKey("menubar/file/export/gltf")),E.onClick(async function(){const oe=a.scene,we=fe(oe),{GLTFExporter:be}=await Wo(()=>import("./GLTFExporter.02ee3da3.js"),[]);new be().parse(oe,function(ne){K(JSON.stringify(ne,null,2),"scene.gltf")},void 0,{animations:we})}),v.add(E),E=new Lr,E.setClass("option"),E.setTextContent(c.getKey("menubar/file/export/obj")),E.onClick(async function(){const oe=a.selected;if(oe===null){alert("No object selected.");return}const{OBJExporter:we}=await Wo(()=>Promise.resolve().then(function(){return pM}),void 0),be=new we;K(be.parse(oe),"model.obj")}),E=new Lr,E.setClass("option"),E.setTextContent(c.getKey("menubar/file/export/ply")),E.onClick(async function(){const{PLYExporter:oe}=await Wo(()=>import("./PLYExporter.0ea3b8cd.js"),[]);new oe().parse(a.scene,function(be){Z(be,"model.ply")})}),E=new Lr,E.setClass("option"),E.setTextContent(c.getKey("menubar/file/export/ply_binary")),E.onClick(async function(){const{PLYExporter:oe}=await Wo(()=>import("./PLYExporter.0ea3b8cd.js"),[]);new oe().parse(a.scene,function(be){Z(be,"model-binary.ply")},{binary:!0})}),E=new Lr,E.setClass("option"),E.setTextContent(c.getKey("menubar/file/export/stl")),E.onClick(async function(){const{STLExporter:oe}=await Wo(()=>import("./STLExporter.c8ba1208.js"),[]),we=new oe;K(we.parse(a.scene),"model.stl")}),E=new Lr,E.setClass("option"),E.setTextContent(c.getKey("menubar/file/export/stl_binary")),E.onClick(async function(){const{STLExporter:oe}=await Wo(()=>import("./STLExporter.c8ba1208.js"),[]),we=new oe;Z(we.parse(a.scene,{binary:!0}),"model-binary.stl")}),E=new Lr,E.setClass("option"),E.setTextContent(c.getKey("menubar/file/export/usdz")),E.onClick(async function(){const{USDZExporter:oe}=await Wo(()=>import("./USDZExporter.4a090b21.js"),[]),we=new oe;Z(await we.parse(a.scene,{binary:!0}),"model.usdz")}),E=new Lr,E.setClass("option"),E.setTextContent(c.getKey("menubar/file/export/pc")),E.onClick(async function(){const oe={},{OBJExporter:we}=await Wo(()=>Promise.resolve().then(function(){return pM}),void 0),be=new we;function ve(le){le=window.atob(le);for(var re=new ArrayBuffer(le.length),he=new Uint8Array(re),me=0;me<le.length;me++)he[me]=le.charCodeAt(me);return re}function ne(le){var he,me,Re,Ie,Ne,Qe,Ue,ce,Me,ot,Se,Xe,ct,$e,Et;function re(Dt,er,Gt){const Ht=Dt.split(";base64,")[1],Kt=ve(Ht),yr=new Uint8Array(Kt);console.log("dataUrl, fileName, extension",{dataUrl:Dt,fileName:er,extension:Gt}),oe[`${er}.${Gt}`]=yr}if(le.type==="Scene"&&le.background&&typeof le.background!="number"){const Dt=le.background.source.data.currentSrc,er=le.background.source.data.currentSrc.split(";")[0].split("/")[1];re(Dt,le.uuid,er)}if(le.isGroup)[...le.children].forEach(Dt=>{ne(Dt),oe[`${Dt.uuid}.obj`]=zo(be.parse(Dt))});else{if((he=le.material)!=null&&he.map){const Dt=(me=le.material)==null?void 0:me.map.source.data.currentSrc,er=(Re=le.material)==null?void 0:Re.map.source.data.currentSrc.split(";")[0].split("/")[1];re(Dt,le.uuid,er)}if((Qe=(Ne=(Ie=le.userData)==null?void 0:Ie.play)==null?void 0:Ne.audio)!=null&&Qe.value){const Dt=(Me=(ce=(Ue=le.userData)==null?void 0:Ue.play)==null?void 0:ce.audio)==null?void 0:Me.value,er=Dt.base64;if(Dt!=null&&Dt.sourceFile){const Gt=Dt.sourceFile.split(".")[0],Ht=Dt.sourceFile.split(".")[(Dt==null?void 0:Dt.sourceFile.split(".").length)-1];re(er,`${le.uuid}/${Gt}`,Ht)}}if((Xe=(Se=(ot=le.userData)==null?void 0:ot.play)==null?void 0:Se.presentation)!=null&&Xe.value){const Dt=(Et=($e=(ct=le.userData)==null?void 0:ct.play)==null?void 0:$e.presentation)==null?void 0:Et.value,er=Dt.base64,Gt=Dt.sourceFile.split(".")[0],Ht=Dt.sourceFile.split(".")[(Dt==null?void 0:Dt.sourceFile.split(".").length)-1];re(er,`${le.uuid}/${Gt}`,Ht)}}}ne(a.scene),a.scene.children.forEach(le=>{ne(le),le.userData.type=="Model"?[...le.children].forEach(re=>{console.log("groupChild",re),ne(re),oe[`${re.uuid}.obj`]=zo(be.parse(re))}):le.isMesh?oe[`${le.uuid}.obj`]=zo(be.parse(le)):le.isGroup&&[...le.children].forEach(re=>{ne(re),oe[`${re.uuid}.obj`]=zo(be.parse(re))})});let ae=a.toJSON();ae.camera.object.children=ae.camera.object.children.filter(le=>le.type!=="Object3D"),ae.metadata.type="App",ae.metadata.title=n.getKey("project/title"),delete ae.history,ae=JSON.stringify(ae,null,"	"),ae=ae.replace(/[\n\t]+([\d\.e\-\[\]]+)/g,"$1"),oe["app.json"]=zo(ae);const ye=n.getKey("project/title"),de=new l2(function(){console.log("toZip",oe);const le=GJ(oe,{level:9}),re=new Blob([le.buffer],{type:"application/zip"});U(re,(ye!==""?ye:"untitled")+".zip")}),xe=new Na(de);xe.load("js/libs/app/index.html",function(le){le=le.replace("<!-- title -->",ye);const re=[];le=le.replace("<!-- includes -->",re.join(`
		`));let he="";n.getKey("project/editable")&&(he=["			let button = document.createElement( 'a' );","			button.href = 'https://threejs.org/editor/#file=' + location.href.split( '/' ).slice( 0, - 1 ).join( '/' ) + '/app.json';","			button.style.cssText = 'position: absolute; bottom: 20px; right: 20px; padding: 10px 16px; color: #fff; border: 1px solid #fff; border-radius: 20px; text-decoration: none;';","			button.target = '_blank';","			button.textContent = 'EDIT';","			document.body.appendChild( button );"].join(`
`)),le=le.replace("			/* edit button */",he),oe["index.html"]=zo(le)}),xe.load("js/libs/app.js",function(le){oe["js/app.js"]=zo(le)}),xe.load("../build/three.module.js",function(le){oe["js/three.module.js"]=zo(le)})}),v.add(E),E=new Lr,E.setClass("option"),E.setTextContent(c.getKey("menubar/file/publish")),E.onClick(function(){a.signals.publishClicked.dispatch();const oe=new Na(manager);oe.load("js/libs/app/index.html",function(we){we=we.replace("<!-- title -->",y);const be=[];we=we.replace("<!-- includes -->",be.join(`
		`));let ve="";n.getKey("project/editable")&&(ve=["			let button = document.createElement( 'a' );","			button.href = 'https://threejs.org/editor/#file=' + location.href.split( '/' ).slice( 0, - 1 ).join( '/' ) + '/app.json';","			button.style.cssText = 'position: absolute; bottom: 20px; right: 20px; padding: 10px 16px; color: #fff; border: 1px solid #fff; border-radius: 20px; text-decoration: none;';","			button.target = '_blank';","			button.textContent = 'EDIT';","			document.body.appendChild( button );"].join(`
`)),we=we.replace("			/* edit button */",ve),toZip["index.html"]=zo(we)}),oe.load("js/libs/app.js",function(we){toZip["js/app.js"]=zo(we)}),oe.load("../build/three.module.js",function(we){toZip["js/three.module.js"]=zo(we)}),oe.load("../examples/jsm/webxr/VRButton.js",function(we){toZip["js/VRButton.js"]=zo(we)})}),v.add(new fw);const _=document.createElement("form");_.style.display="none",document.body.appendChild(_);const k=document.createElement("input");k.multiple=!0,k.type="file",k.addEventListener("change",function(){a.loader.loadFiles(k.files),_.reset()}),_.appendChild(k);const R=new Lr;R.setClass("option"),R.setClass("inactive"),R.setTextContent("Import from:"),v.add(R);const B=new Lr;B.setClass("option"),B.setTextContent("My computer"),B.onClick(function(){k.click()}),v.add(B);const M=new Lr;M.setClass("option"),M.setClass("inactive"),M.setTextContent("_Google Drive"),M.onClick(function(){}),v.add(M);const F=new Lr;F.setClass("inactive"),F.setTextContent("/MetaMask:"),F.onClick(function(){}),v.add(F),a.signals.metadatasFetched.add(function(oe){oe.forEach(we=>{console.log("metadata",we);const be=new Lr;be.setClass("option"),be.setTextContent(we.attributes[0].value.name),be.onClick(function(){a.execute(new r0(a,we.attributes[0].value))}),v.add(be)})});const H=document.createElement("a");function U(oe,we){H.href&&URL.revokeObjectURL(H.href),H.href=URL.createObjectURL(oe),H.download=we||"data.json",H.dispatchEvent(new MouseEvent("click"))}function Z(oe,we){U(new Blob([oe],{type:"application/octet-stream"}),we)}function K(oe,we){U(new Blob([oe],{type:"text/plain"}),we)}function fe(oe){const we=[];return oe.traverse(function(be){we.push(...be.animations)}),we}return p}function Rne(a){const t=new on;return t.setId("menubar"),t.add(new Mne(a)),t.add(new Tne(a)),t.add(new Sne(a)),t}function Dne(a){const t=a.signals,r=document.createElement("div");r.id="resizer";function n(y){y.isPrimary!==!1&&(r.ownerDocument.addEventListener("pointermove",p),r.ownerDocument.addEventListener("pointerup",c))}function c(y){y.isPrimary!==!1&&(r.ownerDocument.removeEventListener("pointermove",p),r.ownerDocument.removeEventListener("pointerup",c))}function p(y){if(y.isPrimary===!1)return;const v=document.body.offsetWidth,E=y.clientX,_=E<0?0:E>v?v:E,k=v-_;r.style.right=k+"px",document.getElementById("sidebar").style.width=k+"px",document.getElementById("player").style.right=k+"px",document.getElementById("script").style.right=k+"px",document.getElementById("viewport").style.right=k+"px",t.windowResize.dispatch()}return r.addEventListener("pointerdown",n),new Vs(r)}const Ew=class{static createButton(t,r){r&&console.error('THREE.VRButton: The "options" parameter has been removed. Please set the reference space type via renderer.xr.setReferenceSpaceType() instead.');const n=document.createElement("button");function c(){let _=null;async function k(B){B.addEventListener("end",R),await t.xr.setSession(B),n.textContent="EXIT VR",_=B}function R(){_.removeEventListener("end",R),n.textContent="ENTER VR",_=null}n.style.display="",n.style.cursor="pointer",n.style.left="calc(50% - 50px)",n.style.width="100px",n.textContent="ENTER VR",n.onmouseenter=function(){n.style.opacity="1.0"},n.onmouseleave=function(){n.style.opacity="0.5"},n.onclick=function(){if(_===null){const B={optionalFeatures:["local-floor","bounded-floor","hand-tracking","layers"]};navigator.xr.requestSession("immersive-vr",B).then(k)}else _.end()}}function p(){n.style.display="",n.style.cursor="auto",n.style.left="calc(50% - 75px)",n.style.width="150px",n.onmouseenter=null,n.onmouseleave=null,n.onclick=null}function y(){p(),n.textContent="VR NOT SUPPORTED"}function v(_){p(),console.warn("Exception when trying to call xr.isSessionSupported",_),n.textContent="VR NOT ALLOWED"}function E(_){_.style.position="absolute",_.style.bottom="20px",_.style.padding="12px 6px",_.style.border="1px solid #fff",_.style.borderRadius="4px",_.style.background="rgba(0,0,0,0.1)",_.style.color="#fff",_.style.font="normal 13px sans-serif",_.style.textAlign="center",_.style.opacity="0.5",_.style.outline="none",_.style.zIndex="999"}if("xr"in navigator)return n.id="VRButton",n.style.display="none",E(n),navigator.xr.isSessionSupported("immersive-vr").then(function(_){_?c():y(),_&&Ew.xrSessionIsGranted&&n.click()}).catch(v),n;{const _=document.createElement("a");return window.isSecureContext===!1?(_.href=document.location.href.replace(/^http:/,"https:"),_.innerHTML="WEBXR NEEDS HTTPS"):(_.href="https://immersiveweb.dev/",_.innerHTML="WEBXR NOT AVAILABLE"),_.style.left="calc(50% - 90px)",_.style.width="180px",_.style.textDecoration="none",E(_),_}}static registerSessionGrantedListener(){if("xr"in navigator){if(/WebXRViewer\//i.test(navigator.userAgent))return;navigator.xr.addEventListener("sessiongranted",()=>{Ew.xrSessionIsGranted=!0})}}};let Cg=Ew;PC(Cg,"xrSessionIsGranted",!1);Cg.registerSessionGrantedListener();const Su=Object.create(null);Su.open="0";Su.close="1";Su.ping="2";Su.pong="3";Su.message="4";Su.upgrade="5";Su.noop="6";const Kv=Object.create(null);Object.keys(Su).forEach(a=>{Kv[Su[a]]=a});const Bne={type:"error",data:"parser error"},Ine=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Lne=typeof ArrayBuffer=="function",Pne=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a&&a.buffer instanceof ArrayBuffer,cI=({type:a,data:t},r,n)=>Ine&&t instanceof Blob?r?n(t):mM(t,n):Lne&&(t instanceof ArrayBuffer||Pne(t))?r?n(t):mM(new Blob([t]),n):n(Su[a]+(t||"")),mM=(a,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+n)},r.readAsDataURL(a)},gM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pg=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(let a=0;a<gM.length;a++)pg[gM.charCodeAt(a)]=a;const Nne=a=>{let t=a.length*.75,r=a.length,n,c=0,p,y,v,E;a[a.length-1]==="="&&(t--,a[a.length-2]==="="&&t--);const _=new ArrayBuffer(t),k=new Uint8Array(_);for(n=0;n<r;n+=4)p=pg[a.charCodeAt(n)],y=pg[a.charCodeAt(n+1)],v=pg[a.charCodeAt(n+2)],E=pg[a.charCodeAt(n+3)],k[c++]=p<<2|y>>4,k[c++]=(y&15)<<4|v>>2,k[c++]=(v&3)<<6|E&63;return _},Fne=typeof ArrayBuffer=="function",hI=(a,t)=>{if(typeof a!="string")return{type:"message",data:dI(a,t)};const r=a.charAt(0);return r==="b"?{type:"message",data:One(a.substring(1),t)}:Kv[r]?a.length>1?{type:Kv[r],data:a.substring(1)}:{type:Kv[r]}:Bne},One=(a,t)=>{if(Fne){const r=Nne(a);return dI(r,t)}else return{base64:!0,data:a}},dI=(a,t)=>{switch(t){case"blob":return a instanceof ArrayBuffer?new Blob([a]):a;case"arraybuffer":default:return a}},pI=String.fromCharCode(30),Hne=(a,t)=>{const r=a.length,n=new Array(r);let c=0;a.forEach((p,y)=>{cI(p,!1,v=>{n[y]=v,++c===r&&t(n.join(pI))})})},Une=(a,t)=>{const r=a.split(pI),n=[];for(let c=0;c<r.length;c++){const p=hI(r[c],t);if(n.push(p),p.type==="error")break}return n},mI=4;function Co(a){if(a)return Vne(a)}function Vne(a){for(var t in Co.prototype)a[t]=Co.prototype[t];return a}Co.prototype.on=Co.prototype.addEventListener=function(a,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(t),this};Co.prototype.once=function(a,t){function r(){this.off(a,r),t.apply(this,arguments)}return r.fn=t,this.on(a,r),this};Co.prototype.off=Co.prototype.removeListener=Co.prototype.removeAllListeners=Co.prototype.removeEventListener=function(a,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+a];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+a],this;for(var n,c=0;c<r.length;c++)if(n=r[c],n===t||n.fn===t){r.splice(c,1);break}return r.length===0&&delete this._callbacks["$"+a],this};Co.prototype.emit=function(a){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+a],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,c=r.length;n<c;++n)r[n].apply(this,t)}return this};Co.prototype.emitReserved=Co.prototype.emit;Co.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]};Co.prototype.hasListeners=function(a){return!!this.listeners(a).length};const vh=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")())();function gI(a,...t){return t.reduce((r,n)=>(a.hasOwnProperty(n)&&(r[n]=a[n]),r),{})}const jne=setTimeout,Gne=clearTimeout;function bA(a,t){t.useNativeTimers?(a.setTimeoutFn=jne.bind(vh),a.clearTimeoutFn=Gne.bind(vh)):(a.setTimeoutFn=setTimeout.bind(vh),a.clearTimeoutFn=clearTimeout.bind(vh))}const zne=1.33;function Wne(a){return typeof a=="string"?Qne(a):Math.ceil((a.byteLength||a.size)*zne)}function Qne(a){let t=0,r=0;for(let n=0,c=a.length;n<c;n++)t=a.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}class Jne extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class bI extends Co{constructor(t){super(),this.writable=!1,bA(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,r,n){return super.emitReserved("error",new Jne(t,r,n)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=hI(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}}const yI="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),UE=64,Xne={};let bM=0,Cv=0,yM;function vM(a){let t="";do t=yI[a%UE]+t,a=Math.floor(a/UE);while(a>0);return t}function vI(){const a=vM(+new Date);return a!==yM?(bM=0,yM=a):a+"."+vM(bM++)}for(;Cv<UE;Cv++)Xne[yI[Cv]]=Cv;function wI(a){let t="";for(let r in a)a.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(a[r]));return t}function qne(a){let t={},r=a.split("&");for(let n=0,c=r.length;n<c;n++){let p=r[n].split("=");t[decodeURIComponent(p[0])]=decodeURIComponent(p[1])}return t}let AI=!1;try{AI=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch{}const Zne=AI;function xI(a){const t=a.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!t||Zne))return new XMLHttpRequest}catch{}if(!t)try{return new vh[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Yne(){}const Kne=function(){return new xI({xdomain:!1}).responseType!=null}();class $ne extends bI{constructor(t){if(super(t),this.polling=!1,typeof location!="undefined"){const n=location.protocol==="https:";let c=location.port;c||(c=n?"443":"80"),this.xd=typeof location!="undefined"&&t.hostname!==location.hostname||c!==t.port,this.xs=t.secure!==n}const r=t&&t.forceBase64;this.supportsBinary=Kne&&!r}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Une(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Hne(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.query||{};const r=this.opts.secure?"https":"http";let n="";this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=vI()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&(r==="https"&&Number(this.opts.port)!==443||r==="http"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port);const c=wI(t),p=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(p?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(c.length?"?"+c:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new wu(this.uri(),t)}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(c,p)=>{this.onError("xhr post error",c,p)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class wu extends Co{constructor(t,r){super(),bA(this,r),this.opts=r,this.method=r.method||"GET",this.uri=t,this.async=r.async!==!1,this.data=r.data!==void 0?r.data:null,this.create()}create(){const t=gI(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const r=this.xhr=new xI(t);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let n in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(n)&&r.setRequestHeader(n,this.opts.extraHeaders[n])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(n){this.setTimeoutFn(()=>{this.onError(n)},0);return}typeof document!="undefined"&&(this.index=wu.requestsCount++,wu.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=Yne,t)try{this.xhr.abort()}catch{}typeof document!="undefined"&&delete wu.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}wu.requestsCount=0;wu.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",wM);else if(typeof addEventListener=="function"){const a="onpagehide"in vh?"pagehide":"unload";addEventListener(a,wM,!1)}}function wM(){for(let a in wu.requests)wu.requests.hasOwnProperty(a)&&wu.requests[a].abort()}const EI=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0))(),Sv=vh.WebSocket||vh.MozWebSocket,AM=!0,e0e="arraybuffer",xM=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class t0e extends bI{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),r=this.opts.protocols,n=xM?{}:gI(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=AM&&!xM?r?new Sv(t,r):new Sv(t):new Sv(t,r,n)}catch(c){return this.emitReserved("error",c)}this.ws.binaryType=this.socket.binaryType||e0e,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],c=r===t.length-1;cI(n,this.supportsBinary,p=>{const y={};try{AM&&this.ws.send(p)}catch{}c&&EI(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const r=this.opts.secure?"wss":"ws";let n="";this.opts.port&&(r==="wss"&&Number(this.opts.port)!==443||r==="ws"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=vI()),this.supportsBinary||(t.b64=1);const c=wI(t),p=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(p?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(c.length?"?"+c:"")}check(){return!!Sv}}const r0e={websocket:t0e,polling:$ne},i0e=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n0e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function VE(a){const t=a,r=a.indexOf("["),n=a.indexOf("]");r!=-1&&n!=-1&&(a=a.substring(0,r)+a.substring(r,n).replace(/:/g,";")+a.substring(n,a.length));let c=i0e.exec(a||""),p={},y=14;for(;y--;)p[n0e[y]]=c[y]||"";return r!=-1&&n!=-1&&(p.source=t,p.host=p.host.substring(1,p.host.length-1).replace(/;/g,":"),p.authority=p.authority.replace("[","").replace("]","").replace(/;/g,":"),p.ipv6uri=!0),p.pathNames=s0e(p,p.path),p.queryKey=o0e(p,p.query),p}function s0e(a,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function o0e(a,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,c,p){c&&(r[c]=p)}),r}class gh extends Co{constructor(t,r={}){super(),t&&typeof t=="object"&&(r=t,t=null),t?(t=VE(t),r.hostname=t.host,r.secure=t.protocol==="https"||t.protocol==="wss",r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=VE(r.host).host),bA(this,r),this.secure=r.secure!=null?r.secure:typeof location!="undefined"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=r.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=qne(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=mI,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts.transportOptions[t],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new r0e[t](n)}open(){let t;if(this.opts.rememberUpgrade&&gh.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(t){let r=this.createTransport(t),n=!1;gh.priorWebsocketSuccess=!1;const c=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",R=>{if(!n)if(R.type==="pong"&&R.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;gh.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(k(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const B=new Error("probe error");B.transport=r.name,this.emitReserved("upgradeError",B)}}))};function p(){n||(n=!0,k(),r.close(),r=null)}const y=R=>{const B=new Error("probe error: "+R);B.transport=r.name,p(),this.emitReserved("upgradeError",B)};function v(){y("transport closed")}function E(){y("socket closed")}function _(R){r&&R.name!==r.name&&p()}const k=()=>{r.removeListener("open",c),r.removeListener("error",y),r.removeListener("close",v),this.off("close",E),this.off("upgrading",_)};r.once("open",c),r.once("error",y),r.once("close",v),this.once("close",E),this.once("upgrading",_),r.open()}onOpen(){if(this.readyState="open",gh.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let t=0;const r=this.upgrades.length;for(;t<r;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=t.data,this.onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const c=this.writeBuffer[n].data;if(c&&(r+=Wne(c)),n>0&&r>this.maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}write(t,r,n){return this.sendPacket("message",t,r,n),this}send(t,r,n){return this.sendPacket("message",t,r,n),this}sendPacket(t,r,n,c){if(typeof r=="function"&&(c=r,r=void 0),typeof n=="function"&&(c=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const p={type:t,data:r,options:n};this.emitReserved("packetCreate",p),this.writeBuffer.push(p),c&&this.once("flush",c),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}onError(t){gh.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const r=[];let n=0;const c=t.length;for(;n<c;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}gh.protocol=mI;function a0e(a,t="",r){let n=a;r=r||typeof location!="undefined"&&location,a==null&&(a=r.protocol+"//"+r.host),typeof a=="string"&&(a.charAt(0)==="/"&&(a.charAt(1)==="/"?a=r.protocol+a:a=r.host+a),/^(https?|wss?):\/\//.test(a)||(typeof r!="undefined"?a=r.protocol+"//"+a:a="https://"+a),n=VE(a)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const p=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+p+":"+n.port+t,n.href=n.protocol+"://"+p+(r&&r.port===n.port?"":":"+n.port),n}const l0e=typeof ArrayBuffer=="function",f0e=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a.buffer instanceof ArrayBuffer,_I=Object.prototype.toString,u0e=typeof Blob=="function"||typeof Blob!="undefined"&&_I.call(Blob)==="[object BlobConstructor]",c0e=typeof File=="function"||typeof File!="undefined"&&_I.call(File)==="[object FileConstructor]";function v_(a){return l0e&&(a instanceof ArrayBuffer||f0e(a))||u0e&&a instanceof Blob||c0e&&a instanceof File}function $v(a,t){if(!a||typeof a!="object")return!1;if(Array.isArray(a)){for(let r=0,n=a.length;r<n;r++)if($v(a[r]))return!0;return!1}if(v_(a))return!0;if(a.toJSON&&typeof a.toJSON=="function"&&arguments.length===1)return $v(a.toJSON(),!0);for(const r in a)if(Object.prototype.hasOwnProperty.call(a,r)&&$v(a[r]))return!0;return!1}function h0e(a){const t=[],r=a.data,n=a;return n.data=jE(r,t),n.attachments=t.length,{packet:n,buffers:t}}function jE(a,t){if(!a)return a;if(v_(a)){const r={_placeholder:!0,num:t.length};return t.push(a),r}else if(Array.isArray(a)){const r=new Array(a.length);for(let n=0;n<a.length;n++)r[n]=jE(a[n],t);return r}else if(typeof a=="object"&&!(a instanceof Date)){const r={};for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&(r[n]=jE(a[n],t));return r}return a}function d0e(a,t){return a.data=GE(a.data,t),a.attachments=void 0,a}function GE(a,t){if(!a)return a;if(a&&a._placeholder===!0){if(typeof a.num=="number"&&a.num>=0&&a.num<t.length)return t[a.num];throw new Error("illegal attachments")}else if(Array.isArray(a))for(let r=0;r<a.length;r++)a[r]=GE(a[r],t);else if(typeof a=="object")for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&(a[r]=GE(a[r],t));return a}const p0e=5;var C0;(function(a){a[a.CONNECT=0]="CONNECT",a[a.DISCONNECT=1]="DISCONNECT",a[a.EVENT=2]="EVENT",a[a.ACK=3]="ACK",a[a.CONNECT_ERROR=4]="CONNECT_ERROR",a[a.BINARY_EVENT=5]="BINARY_EVENT",a[a.BINARY_ACK=6]="BINARY_ACK"})(C0||(C0={}));class m0e{constructor(t){this.replacer=t}encode(t){return(t.type===C0.EVENT||t.type===C0.ACK)&&$v(t)?(t.type=t.type===C0.EVENT?C0.BINARY_EVENT:C0.BINARY_ACK,this.encodeAsBinary(t)):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===C0.BINARY_EVENT||t.type===C0.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=h0e(t),n=this.encodeAsString(r.packet),c=r.buffers;return c.unshift(n),c}}class w_ extends Co{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t),r.type===C0.BINARY_EVENT||r.type===C0.BINARY_ACK?(this.reconstructor=new g0e(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(v_(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(C0[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===C0.BINARY_EVENT||n.type===C0.BINARY_ACK){const p=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const y=t.substring(p,r);if(y!=Number(y)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(y)}if(t.charAt(r+1)==="/"){const p=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(p,r)}else n.nsp="/";const c=t.charAt(r+1);if(c!==""&&Number(c)==c){const p=r+1;for(;++r;){const y=t.charAt(r);if(y==null||Number(y)!=y){--r;break}if(r===t.length)break}n.id=Number(t.substring(p,r+1))}if(t.charAt(++r)){const p=this.tryParse(t.substr(r));if(w_.isPayloadValid(n.type,p))n.data=p;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case C0.CONNECT:return typeof r=="object";case C0.DISCONNECT:return r===void 0;case C0.CONNECT_ERROR:return typeof r=="string"||typeof r=="object";case C0.EVENT:case C0.BINARY_EVENT:return Array.isArray(r)&&r.length>0;case C0.ACK:case C0.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class g0e{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=d0e(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var b0e=Object.freeze(Object.defineProperty({__proto__:null,protocol:p0e,get PacketType(){return C0},Encoder:m0e,Decoder:w_},Symbol.toStringTag,{value:"Module"}));function Sf(a,t,r){return a.on(t,r),function(){a.off(t,r)}}const y0e=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class kI extends Co{constructor(t,r,n){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Sf(t,"open",this.onopen.bind(this)),Sf(t,"packet",this.onpacket.bind(this)),Sf(t,"error",this.onerror.bind(this)),Sf(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){if(y0e.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');r.unshift(t);const n={type:C0.EVENT,data:r};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const y=this.ids++,v=r.pop();this._registerAckCallback(y,v),n.id=y}const c=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!c||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(t,r){const n=this.flags.timeout;if(n===void 0){this.acks[t]=r;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let p=0;p<this.sendBuffer.length;p++)this.sendBuffer[p].id===t&&this.sendBuffer.splice(p,1);r.call(this,new Error("operation has timed out"))},n);this.acks[t]=(...p)=>{this.io.clearTimeoutFn(c),r.apply(this,[null,...p])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this.packet({type:C0.CONNECT,data:t})}):this.packet({type:C0.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case C0.CONNECT:if(t.data&&t.data.sid){const c=t.data.sid;this.onconnect(c)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case C0.EVENT:case C0.BINARY_EVENT:this.onevent(t);break;case C0.ACK:case C0.BINARY_ACK:this.onack(t);break;case C0.DISCONNECT:this.ondisconnect();break;case C0.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t)}ack(t){const r=this;let n=!1;return function(...c){n||(n=!0,r.packet({type:C0.ACK,id:t,data:c}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(r.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:C0.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function D1(a){a=a||{},this.ms=a.min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}D1.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*a);a=(Math.floor(t*10)&1)==0?a-r:a+r}return Math.min(a,this.max)|0};D1.prototype.reset=function(){this.attempts=0};D1.prototype.setMin=function(a){this.ms=a};D1.prototype.setMax=function(a){this.max=a};D1.prototype.setJitter=function(a){this.jitter=a};class zE extends Co{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,bA(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new D1({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const c=r.parser||b0e;this.encoder=new c.Encoder,this.decoder=new c.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new gh(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const c=Sf(r,"open",function(){n.onopen(),t&&t()}),p=Sf(r,"error",y=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",y),t?t(y):n.maybeReconnectOnOpen()});if(this._timeout!==!1){const y=this._timeout;y===0&&c();const v=this.setTimeoutFn(()=>{c(),r.close(),r.emit("error",new Error("timeout"))},y);this.opts.autoUnref&&v.unref(),this.subs.push(function(){clearTimeout(v)})}return this.subs.push(c),this.subs.push(p),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Sf(t,"ping",this.onping.bind(this)),Sf(t,"data",this.ondata.bind(this)),Sf(t,"error",this.onerror.bind(this)),Sf(t,"close",this.onclose.bind(this)),Sf(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){EI(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n||(n=new kI(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,r){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(c=>{c?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",c)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(function(){clearTimeout(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const og={};function ew(a,t){typeof a=="object"&&(t=a,a=void 0),t=t||{};const r=a0e(a,t.path||"/socket.io"),n=r.source,c=r.id,p=r.path,y=og[c]&&p in og[c].nsps,v=t.forceNew||t["force new connection"]||t.multiplex===!1||y;let E;return v?E=new zE(n,t):(og[c]||(og[c]=new zE(n,t)),E=og[c]),r.query&&!t.query&&(t.query=r.queryKey),E.socket(r.path,t)}Object.assign(ew,{Manager:zE,Socket:kI,io:ew,connect:ew});function EM({editor:a,cmd:t,objUuid:r,args:n,optionalName:c}){console.log("SocketCommandController",t,r,n,c);const p=new THREE.LoadingManager;let y=r&&a.objectByUuid(r)?a.objectByUuid(r):a.placeholder;function v(R){return R==null?void 0:R.scene.children.reduce((M,F)=>(F.type==="Mesh"&&!["Group","Exit","Entrance","Portal"].includes(F.userData.type)&&M++,F.type==="Group"&&(F==null||F.children.forEach(H=>{M++})),M),0)}function E(R,B){const{name:M,type:F}=R;M?B.name=M:B.name=F,B.userData.type=F,["Exit","Entrance","Portal","Presentation"].includes(F)||(a.setObjectAudio(B,{option:"none",value:null}),a.setObjectOnClick(B,{option:"none",value:"https://play.grwth.hk/"}))}async function _(R){console.log("getItemJson",`https://play.grwth.hk/publishes/${window.assignmentSceneName}/${R}`);const B=new THREE.BoxGeometry(1,1,1,1,1,1),M=new THREE.MeshStandardMaterial({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-v(a),transparent:!0});M.transparent=!0;const F=new THREE.Mesh(B,M);E({type:"Box"},F),console.log(F),a.executeSocket(new r0(a,F)),a.placeholder=a.selected,await Po({method:"get",baseURL:"https://play.grwth.hk",url:`/publishes/${window.assignmentSceneName}/${R}`}).then(H=>{let U=R.split(".").pop().toLowerCase();if(console.log("%c Axios Get Success(JSON/GLTF)","color: black; background: #3ea086;",H),H.data!==void 0){let Z;U==="json"?(Z=new Blob([JSON.stringify(H.data)],{type:"application/json"}),a.loader.loadFile(Z,p,U,!0,R)):U==="gltf"&&(Z=new Blob([JSON.stringify(H.data,null,2)],{type:"text/plain"}),a.loader.loadFile(Z,p,U,!0,R))}}).catch(H=>{console.log(H)}).finally(()=>{})}async function k(R){console.log("getItemImage",`https://play.grwth.hk/publishes/${window.assignmentSceneName}/${R}`),await Po({method:"get",baseURL:"https://play.grwth.hk",url:`/publishes/${window.assignmentSceneName}/${R}`,responseType:"arraybuffer"}).then(B=>{let M=g_.Buffer.from(B.data,"binary").toString("base64"),F=R.split(".").pop().toLowerCase();console.log("%c Axios Get Success(PNG/JPEG)","color: black; background: #3ea086;",`data:image/${F};base64,${M}`);let H=new Image;H.src=`data:image/${F};base64,${M}`,H.onload=function(){let U=new THREE.Texture;U.image=H,U.needsUpdate=!0,console.log("object",r,"args",n,"args[0]",n[0],U),a.execute(new $u[t](a,y,n[0][0],U,0))}}).catch(B=>{console.log(B)}).finally(()=>{})}switch(t){case"MultiCmdsCommand":break;case"AddObjectCommand":if(console.log(n[0]),n[1]===""){const B=new Blob([n[0]],{type:"application/json"});a.loader.loadFile(B,p,"json",!0)}else _(n[1]);break;case"SetSceneCommand":_(n[1]);break;case"SetMaterialMapCommand":k(n[1]);break;case"SetPositionCommand":case"SetScaleCommand":let R=new wt(n[0].x,n[0].y,n[0].z);a.executeSocket(new $u[t](a,y,R,n[1]));break;case"SetRotationCommand":a.executeSocket(new $u[t](a,y,n[0],n[1],"socket"));break;case"RemoveObjectCommand":a.executeSocket(new $u[t](a,y));break;case"AddScriptCommand":case"RemoveScriptCommand":case"SetAudioOptionCommand":case"SetAudioValueCommand":case"SetGeometryCommand":case"SetOnClickOptionCommand":case"SetOnClickValueCommand":case"SetPresentationOptionCommand":case"SetPresentationValueCommand":case"SetUuidCommand":a.executeSocket(new $u[t](a,y,n[0]));break;case"SetColorCommand":case"SetGeometryValueCommand":case"SetMaterialCommand":case"SetValueCommand":a.executeSocket(new $u[t](a,y,n[0],n[1]));break;case"MoveObjectCommand":case"SetMaterialColorCommand":case"SetMaterialValueCommand":case"SetMaterialVectorCommand":case"SetScriptValueCommand":a.executeSocket(new $u[t](a,y,n[0],n[1],n[2]));break}}var v0e=function(a){var t=document.createElement("a");return t.href=a,t},CI=v0e(window.location.href.toString());CI.hostname;CI.pathname.split("/")[1];window.URL=window.URL||window.webkitURL;window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder;const Eh=new Proxy(new URLSearchParams(window.location.search),{get:(a,t)=>a.get(t)});let Ql=Eh.roomId?Eh.roomId:Eh.assignments,_M=Eh.roomId,mg=Eh.assignmentId,Bd=Eh.startobj,WE=Eh.userId,w0e=Eh.devmode,QE=null;if(parent!==window)try{QE=parent.location.href}catch{QE=document.referrer}w0e!="jobyDevMode"&&QE!=="https://grwthx.grwth.hk/"&&window.open("https://grwthx.grwth.hk/404","_self");Number.prototype.format=function(){return this.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")};const Pn=new dD;window.process=null;window.editor=Pn;window.THREE=TJ;window.VRButton=Cg;window.assignmentSceneName=Ql;window.assignmentId=mg;window.startObj=Bd;window.userId=WE;window.prevSceneJson=null;window.tick=0;const A0e=new SZ(Pn);document.body.appendChild(A0e.dom);const x0e=new DZ(Pn);document.body.appendChild(x0e.dom);const E0e=new BZ(Pn);document.body.appendChild(E0e.dom);new IZ(Pn);new LZ(Pn);const _0e=new Cne(Pn);document.body.appendChild(_0e.dom);const k0e=new Tq(Pn);document.body.appendChild(k0e.dom);const C0e=new h$(Pn);document.body.appendChild(C0e.dom);const S0e=new Rne(Pn);document.body.appendChild(S0e.dom);const T0e=new Dne(Pn);document.body.appendChild(T0e.dom);Pn.storage.init(function(){async function a(){console.log(`https://grwthx.grwth.hk/api/api/grwthx/getInfo?${mg?`assignmentId=${mg}&`:""}roomId=${_M}&userId=${WE}`),fetch(`https://grwthx.grwth.hk/api/api/grwthx/getInfo?${mg?`assignmentId=${mg}&`:""}roomId=${_M}&userId=${WE}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(c=>c.json()).then(c=>{console.log("getInfo data",c),window.user=c.user,window.userName=c.user.nameZh}).catch(c=>{console.log("Error: getInfo",c)})}a(),Pn.storage.get(function(c){if(Ql){v();const y=ew("https://play.grwth.hk/");y.on("connect",()=>{window.isConnected=Ql,window.socket=y,y.emit("Room:Join",{assignmentName:Ql,from:y.id}),console.log("%c Socket emit Room:Join ","color: black; background: #9fa4dd;",Ql,y.id)}),y.on("Room:Join",k=>{console.log("%c Socket on Room:Join ","color: black; background: #9fa4dd;",k)});async function v(){let k=!1,R=document.querySelector(".loader-container");if(R.style.display="flex",await fetch(`https://play.grwth.hk/assignments/${Ql}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(B=>B.json()).then(B=>{_(),Pn.clear(),B.json!==void 0?(console.log(Ql,"fromJSON data.json"),Pn.fromJSON(B.json,Ql)):(console.log(Ql,"fromJSON defaultJson"),Pn.fromJSON(y_,Ql),k=!0)}),Bd&&k){let B=document.querySelector(".loader-container");B.style.display="flex";const M=new l2;let F="room";Bd.includes("(")&&(F="object"),await Po({method:"get",baseURL:"https://play.grwth.hk",url:`/library/${F}/${Bd}`}).then(H=>{if(H.data.json!==void 0){console.log("%c Main StartObj:fetchJson Success","color: black; background: #85a7c3;",F,Bd,H.data.json);const U=new Blob([JSON.stringify(H.data.json)],{type:"application/json"});Pn.loader.loadFile(U,M,"json",!1,`${Bd}`)}else console.log("%c Main StartObj:fetchJson Fail","color: black; background: #85a7c3;",F,Bd,H.data.json)}).catch(H=>{console.log("%c Main StartObj:fetchJson Fail","color: black; background: #85a7c3;",H)}).finally(()=>{B.style.display="none"})}}const E=document.querySelector(".loader-container"),_=()=>{E.style.display="none"};document.addEventListener("wheel",k=>{},{passive:!1}),y.on("space:edit",({assignmentName:k,from:R,edit:B})=>{console.log("%c Socket on space:edit ","color: black; background: #9fa4dd;",k)}),y.on("Room:Create",({assignmentName:k,cmd:R,objUuid:B,objJson:M,url:F})=>{console.log("%c Socket on Room:Create ","color: black; background: #9fa4dd;",k,R,B,M,F),EM({editor:Pn,cmd:R,objUuid:B,args:[M,F]})}),y.on("Room:Execute",({cmd:k,objUuid:R,args:B,optionalName:M})=>{console.log("%c Socket on Room:Execute ","color: black; background: #9fa4dd;",k,R,B,M),EM({editor:Pn,cmd:k,objUuid:R,args:B,optionalName:M})}),y.on("Room:Undo",({assignmentName:k})=>{console.log("%c Socket on Room:Undo ","color: black; background: #9fa4dd;"),Pn.undoSocket()}),y.on("Room:Redo",({assignmentName:k})=>{console.log("%c Socket on Room:Redo ","color: black; background: #9fa4dd;"),Pn.redoSocket()}),y.on("Communicate:Chat",({userName:k,chatContent:R,time:B})=>{console.log("%c Socket on Communicate:Chat ","color: black; background: #9fa4dd;",k,R,B);let M=document.createElement("div");M.className="Row",M.innerHTML=`${k}: ${R}`;let F=document.querySelector("#chatContent");F.appendChild(M),F.scrollTop=F.scrollHeight});return}if(TI||Ql)return;c!==void 0?Pn.fromJSON(c):Pn.fromJSON(Ql);const p=Pn.config.getKey("selected");p!==void 0&&Pn.selectByUuid(p)});let t;function r(){Pn.config.getKey("autosave")!==!1&&(clearTimeout(t),t=setTimeout(function(){Pn.signals.savingStarted.dispatch(),t=setTimeout(function(){Pn.storage.set(Pn.toJSON()),Pn.signals.savingFinished.dispatch()},100)},1e3))}const n=Pn.signals;n.geometryChanged.add(r),n.objectAdded.add(r),n.objectChanged.add(r),n.objectRemoved.add(r),n.materialChanged.add(r),n.sceneBackgroundChanged.add(r),n.sceneFogChanged.add(r),n.sceneGraphChanged.add(r),n.scriptChanged.add(r),n.historyChanged.add(r),n.sceneEnvironmentChanged.add(r),one(Pn)});document.addEventListener("dragover",function(a){a.preventDefault(),a.dataTransfer.dropEffect="copy"});document.addEventListener("drop",function(a){a.preventDefault(),a.dataTransfer.types[0]!=="text/plain"&&(a.dataTransfer.items?Pn.loader.loadItemList(a.dataTransfer.items):Pn.loader.loadFiles(a.dataTransfer.files))});window.addEventListener("message",a=>{a.data==="saveRoom"&&D5(),a.data==="previewRoom"&&D5(),a.data==="playRoom"&&D5()},!1);async function D5(a=null){const t=new Proxy(new URLSearchParams(window.location.search),{get:(M,F)=>M.get(F)});let r=t.roomId?t.roomId:t.assignments;function n(M){M=window.atob(M);for(var F=new ArrayBuffer(M.length),H=new Uint8Array(F),U=0;U<M.length;U++)H[U]=M.charCodeAt(U);return F}async function c(){const M=JSON.stringify(Pn.toJSON());console.log("saveJson",Pn.toJSON());const F=new TextEncoder().encode(M),H=new Blob([F],{type:"application/json"},`${r}.json`),U=new File([H],`${r}.json`),Z=new FormData;Z.append("fields",U),await Po({method:"post",url:"https://play.grwth.hk/assignments",data:Z,headers:{"Content-Type":"multipart/form-data"}}).then(function(K){console.log("%c Axios Post Success(JSON)","color: black; background: #3ea086;",K.data.files.fields.size),Pn.signals.publishClicked.dispatch("Uploaded",`${r}.json`)}).catch(function(K){console.log("%c Error: saveJson ","color: black; background: #C03F45;",K)})}c();async function p(M){var H,U,Z,K,fe,oe,we,be,ve,ne,ae,ye;async function F(de,xe,le){const re=de.split(";base64,")[1],he=n(re),me=new Uint8Array(he),Re=new Blob([me],{type:"application/json"},`${r}.${le}`),Ie=new FormData;Ie.append("fields",new File([Re],`${xe}.${le}`)),await Po({method:"post",url:`https://play.grwth.hk/publishes/${r}`,data:Ie}).then(function(Ne){console.log("%c Axios Post Success(Assets)","color: black; background: #3ea086;",Ne.data.files.fields.size),Pn.signals.publishClicked.dispatch("Uploaded",xe+"."+le)}).catch(function(Ne){console.log("%c Error: uploadAsset ","color: black; background: #C03F45;",Ne)})}if(M.isGroup)[...M.children].forEach(async de=>{await p(de)});else{if((Z=(U=(H=M.userData)==null?void 0:H.play)==null?void 0:U.audio)!=null&&Z.value){const de=(oe=(fe=(K=M.userData)==null?void 0:K.play)==null?void 0:fe.audio)==null?void 0:oe.value,xe=de.base64;if(de!=null&&de.sourceFile){const le=de.sourceFile.split(".")[0],re=de.sourceFile.split(".")[(de==null?void 0:de.sourceFile.split(".").length)-1];await F(xe,`${M.uuid}/${le}`,re)}}if((ve=(be=(we=M.userData)==null?void 0:we.play)==null?void 0:be.presentation)!=null&&ve.value){const de=(ye=(ae=(ne=M.userData)==null?void 0:ne.play)==null?void 0:ae.presentation)==null?void 0:ye.value,xe=de.base64,le=de.sourceFile.split(".")[0],re=de.sourceFile.split(".")[(de==null?void 0:de.sourceFile.split(".").length)-1];await F(xe,`${M.uuid}/${le}`,re)}}}Pn.scene.children.forEach(async(M,F,H)=>{await p(M),M.userData.type=="Model"?[...M.children].forEach(async U=>{await p(U)}):M.isMesh||M.isGroup&&[...M.children].forEach(async U=>{await p(U)})});function y(M,F){v(new Blob([M],{type:"text/plain"}),F)}function v(M,F){E(M,F)}async function E(M,F){const H=new FormData;H.append("fields",new File([M],`${F}`)),await Po({method:"post",url:`https://play.grwth.hk/publishes/${r}`,data:H,headers:{"Content-Type":"multipart/form-data"}}).then(function(U){console.log("%c Axios Post Success(GLTF)","color: black; background: #3EA055;",U),Pn.signals.publishClicked.dispatch("Uploaded",F)}).catch(function(U){console.log("%c Error: sendFileToBackend ","color: black; background: #C03F45;",U)}).finally(function(){window.parent.postMessage("saveFinish","*"),console.log(" window.parent.postMessage","saveFinish")})}Pn.signals.publishClicked.dispatch("Uploading to Server...","Please wait with patience.");const _=Pn.scene,k=M0e(_),{GLTFExporter:R}=await Wo(()=>import("./GLTFExporter.02ee3da3.js"),[]);new R().parse(_,function(M){window.result=M,y(JSON.stringify(M,null,2),"scene.gltf")},void 0,{animations:k})}function M0e(a){const t=[];return a.traverse(function(r){t.push(...r.animations)}),t}function SI(){Pn.signals.windowResize.dispatch()}window.addEventListener("resize",SI);SI();let TI=!1;const kM=window.location.hash;if(kM.slice(1,6)==="file="){const a=kM.slice(6);if(confirm("Any unsaved data will be lost. Are you sure?")){const t=new Na;t.crossOrigin="",t.load(a,function(r){Pn.clear(),Pn.fromJSON(JSON.parse(r))}),TI=!0}}export{d0 as B,ma as C,Lf as D,Na as F,jp as I,Es as L,Hp as M,oo as N,k0 as P,Sh as R,yh as S,wt as V,Tg as a,Mg as b,Sw as c,Tu as d,lc as e,Cf as f,Al as g,Ji as h,Mh as i,Jd as j,ya as k,wn as l,_i as m,Us as n,Zs as o,zo as p,b0 as s,GJ as z};
