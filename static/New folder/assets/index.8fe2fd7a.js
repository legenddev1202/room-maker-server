var XH=Object.defineProperty,qH=Object.defineProperties;var ZH=Object.getOwnPropertyDescriptors;var TC=Object.getOwnPropertySymbols;var YH=Object.prototype.hasOwnProperty,KH=Object.prototype.propertyIsEnumerable;var Yx=(l,t,i)=>t in l?XH(l,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[t]=i,pl=(l,t)=>{for(var i in t||(t={}))YH.call(t,i)&&Yx(l,i,t[i]);if(TC)for(var i of TC(t))KH.call(t,i)&&Yx(l,i,t[i]);return l},Hl=(l,t)=>qH(l,ZH(t));var MC=(l,t,i)=>(Yx(l,typeof t!="symbol"?t+"":t,i),i);const $H=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const p of u)if(p.type==="childList")for(const y of p.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&s(y)}).observe(document,{childList:!0,subtree:!0});function i(u){const p={};return u.integrity&&(p.integrity=u.integrity),u.referrerpolicy&&(p.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?p.credentials="include":u.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function s(u){if(u.ep)return;u.ep=!0;const p=i(u);fetch(u.href,p)}};$H();var Kx=function(l){l=l||{};var t=typeof l!="undefined"?l:{},i=!1,s=!1;t.onRuntimeInitialized=function(){i=!0,s&&typeof t.onModuleLoaded=="function"&&t.onModuleLoaded(t)},t.onModuleParsed=function(){s=!0,i&&typeof t.onModuleLoaded=="function"&&t.onModuleLoaded(t)};function u(Oe){if(typeof Oe!="string")return!1;const qe=Oe.split(".");return qe.length<2||qe.length>3?!1:qe[0]==1&&qe[1]>=0&&qe[1]<=3?!0:!(qe[0]!=0||qe[1]>10)}t.isVersionSupported=u;var p={},y;for(y in t)t.hasOwnProperty(y)&&(p[y]=t[y]);t.arguments=[],t.thisProgram="./this.program",t.quit=function(Oe,qe){throw qe},t.preRun=[],t.postRun=[];var A=!1,E=!1,_=!1,k=!1;if(t.ENVIRONMENT)if(t.ENVIRONMENT==="WEB")A=!0;else if(t.ENVIRONMENT==="WORKER")E=!0;else if(t.ENVIRONMENT==="NODE")_=!0;else if(t.ENVIRONMENT==="SHELL")k=!0;else throw new Error("Module['ENVIRONMENT'] value is not valid. must be one of: WEB|WORKER|NODE|SHELL.");else A=typeof window=="object",E=typeof importScripts=="function",_=typeof process=="object"&&typeof require=="function"&&!A&&!E,k=!A&&!_&&!E;if(_){var R,P;t.read=function(qe,vt){var Xt;return Xt=Cr(qe),Xt||(R||(R=require("fs")),P||(P=require("path")),qe=P.normalize(qe),Xt=R.readFileSync(qe)),vt?Xt:Xt.toString()},t.readBinary=function(qe){var vt=t.read(qe,!0);return vt.buffer||(vt=new Uint8Array(vt)),oe(vt.buffer),vt},process.argv.length>1&&(t.thisProgram=process.argv[1].replace(/\\/g,"/")),t.arguments=process.argv.slice(2),process.on("uncaughtException",function(Oe){if(!(Oe instanceof Gf))throw Oe}),process.on("unhandledRejection",function(Oe,qe){process.exit(1)}),t.inspect=function(){return"[Emscripten Module object]"}}else k?(typeof read!="undefined"&&(t.read=function(qe){var vt=Cr(qe);return vt?$i(vt):read(qe)}),t.readBinary=function(qe){var vt;return vt=Cr(qe),vt||(typeof readbuffer=="function"?new Uint8Array(readbuffer(qe)):(vt=read(qe,"binary"),oe(typeof vt=="object"),vt))},typeof scriptArgs!="undefined"?t.arguments=scriptArgs:typeof arguments!="undefined"&&(t.arguments=arguments),typeof quit=="function"&&(t.quit=function(Oe,qe){quit(Oe)})):(A||E)&&(t.read=function(qe){try{var vt=new XMLHttpRequest;return vt.open("GET",qe,!1),vt.send(null),vt.responseText}catch(Z){var Xt=Cr(qe);if(Xt)return $i(Xt);throw Z}},E&&(t.readBinary=function(qe){try{var vt=new XMLHttpRequest;return vt.open("GET",qe,!1),vt.responseType="arraybuffer",vt.send(null),new Uint8Array(vt.response)}catch(Z){var Xt=Cr(qe);if(Xt)return Xt;throw Z}}),t.readAsync=function(qe,vt,Xt){var Z=new XMLHttpRequest;Z.open("GET",qe,!0),Z.responseType="arraybuffer",Z.onload=function(){if(Z.status==200||Z.status==0&&Z.response){vt(Z.response);return}var Oi=Cr(qe);if(Oi){vt(Oi.buffer);return}Xt()},Z.onerror=Xt,Z.send(null)},t.setWindowTitle=function(Oe){document.title=Oe});t.print=typeof console!="undefined"?console.log.bind(console):typeof print!="undefined"?print:null,t.printErr=typeof printErr!="undefined"?printErr:typeof console!="undefined"&&console.warn.bind(console)||t.print,t.print=t.print,t.printErr=t.printErr;for(y in p)p.hasOwnProperty(y)&&(t[y]=p[y]);p=void 0;var B=16;function O(Oe){oe(!kt);var qe=gt;return gt=gt+Oe+15&-16,qe}function H(Oe){oe(vi);var qe=Re[vi>>2],vt=qe+Oe+15&-16;if(Re[vi>>2]=vt,vt>=Ct){var Xt=Ki();if(!Xt)return Re[vi>>2]=qe,0}return qe}function z(Oe,qe){qe||(qe=B);var vt=Oe=Math.ceil(Oe/qe)*qe;return vt}function Y(Oe){switch(Oe){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:{if(Oe[Oe.length-1]==="*")return 4;if(Oe[0]==="i"){var qe=parseInt(Oe.substr(1));return oe(qe%8===0),qe/8}else return 0}}}new Array(0);var ee=8,ue=0;function oe(Oe,qe){Oe||el("Assertion failed: "+qe)}function Ae(Oe,qe,vt,Xt){switch(vt=vt||"i8",vt.charAt(vt.length-1)==="*"&&(vt="i32"),vt){case"i1":nt[Oe>>0]=qe;break;case"i8":nt[Oe>>0]=qe;break;case"i16":ce[Oe>>1]=qe;break;case"i32":Re[Oe>>2]=qe;break;case"i64":tempI64=[qe>>>0,(tempDouble=qe,+li(tempDouble)>=1?tempDouble>0?(gr(+Ui(tempDouble/4294967296),4294967295)|0)>>>0:~~+Ti((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],Re[Oe>>2]=tempI64[0],Re[Oe+4>>2]=tempI64[1];break;case"float":lt[Oe>>2]=qe;break;case"double":Te[Oe>>3]=qe;break;default:el("invalid type for setValue: "+vt)}}var be=2,xe=4;function ne(Oe,qe,vt,Xt){var Z,cr;typeof Oe=="number"?(Z=!0,cr=Oe):(Z=!1,cr=Oe.length);var Oi=typeof qe=="string"?qe:null,Nr;if(vt==xe?Nr=Xt:Nr=[typeof jf=="function"?jf:O,jb,O,H][vt===void 0?be:vt](Math.max(cr,Oi?1:qe.length)),Z){var e;for(Xt=Nr,oe((Nr&3)==0),e=Nr+(cr&-4);Xt<e;Xt+=4)Re[Xt>>2]=0;for(e=Nr+cr;Xt<e;)nt[Xt++>>0]=0;return Nr}if(Oi==="i8")return Oe.subarray||Oe.slice?He.set(Oe,Nr):He.set(new Uint8Array(Oe),Nr),Nr;for(var gs=0,yi,il,aa;gs<cr;){var nf=Oe[gs];if(yi=Oi||qe[gs],yi===0){gs++;continue}yi=="i64"&&(yi="i32"),Ae(Nr+gs,nf,yi),aa!==yi&&(il=Y(yi),aa=yi),gs+=il}return Nr}function ae(Oe,qe){if(qe===0||!Oe)return"";for(var vt=0,Xt,Z=0;Xt=He[Oe+Z>>0],vt|=Xt,!(Xt==0&&!qe||(Z++,qe&&Z==qe)););qe||(qe=Z);var cr="";if(vt<128){for(var Oi=1024,Nr;qe>0;)Nr=String.fromCharCode.apply(String,He.subarray(Oe,Oe+Math.min(qe,Oi))),cr=cr?cr+Nr:Nr,Oe+=Oi,qe-=Oi;return cr}return we(Oe)}var ye=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function ge(Oe,qe){for(var vt=qe;Oe[vt];)++vt;if(vt-qe>16&&Oe.subarray&&ye)return ye.decode(Oe.subarray(qe,vt));for(var Xt,Z,cr,Oi,Nr,e,gs="";;){if(Xt=Oe[qe++],!Xt)return gs;if(!(Xt&128)){gs+=String.fromCharCode(Xt);continue}if(Z=Oe[qe++]&63,(Xt&224)==192){gs+=String.fromCharCode((Xt&31)<<6|Z);continue}if(cr=Oe[qe++]&63,(Xt&240)==224?Xt=(Xt&15)<<12|Z<<6|cr:(Oi=Oe[qe++]&63,(Xt&248)==240?Xt=(Xt&7)<<18|Z<<12|cr<<6|Oi:(Nr=Oe[qe++]&63,(Xt&252)==248?Xt=(Xt&3)<<24|Z<<18|cr<<12|Oi<<6|Nr:(e=Oe[qe++]&63,Xt=(Xt&1)<<30|Z<<24|cr<<18|Oi<<12|Nr<<6|e))),Xt<65536)gs+=String.fromCharCode(Xt);else{var yi=Xt-65536;gs+=String.fromCharCode(55296|yi>>10,56320|yi&1023)}}}function we(Oe){return ge(He,Oe)}function le(Oe,qe,vt,Xt){if(!(Xt>0))return 0;for(var Z=vt,cr=vt+Xt-1,Oi=0;Oi<Oe.length;++Oi){var Nr=Oe.charCodeAt(Oi);if(Nr>=55296&&Nr<=57343&&(Nr=65536+((Nr&1023)<<10)|Oe.charCodeAt(++Oi)&1023),Nr<=127){if(vt>=cr)break;qe[vt++]=Nr}else if(Nr<=2047){if(vt+1>=cr)break;qe[vt++]=192|Nr>>6,qe[vt++]=128|Nr&63}else if(Nr<=65535){if(vt+2>=cr)break;qe[vt++]=224|Nr>>12,qe[vt++]=128|Nr>>6&63,qe[vt++]=128|Nr&63}else if(Nr<=2097151){if(vt+3>=cr)break;qe[vt++]=240|Nr>>18,qe[vt++]=128|Nr>>12&63,qe[vt++]=128|Nr>>6&63,qe[vt++]=128|Nr&63}else if(Nr<=67108863){if(vt+4>=cr)break;qe[vt++]=248|Nr>>24,qe[vt++]=128|Nr>>18&63,qe[vt++]=128|Nr>>12&63,qe[vt++]=128|Nr>>6&63,qe[vt++]=128|Nr&63}else{if(vt+5>=cr)break;qe[vt++]=252|Nr>>30,qe[vt++]=128|Nr>>24&63,qe[vt++]=128|Nr>>18&63,qe[vt++]=128|Nr>>12&63,qe[vt++]=128|Nr>>6&63,qe[vt++]=128|Nr&63}}return qe[vt]=0,vt-Z}function ie(Oe){for(var qe=0,vt=0;vt<Oe.length;++vt){var Xt=Oe.charCodeAt(vt);Xt>=55296&&Xt<=57343&&(Xt=65536+((Xt&1023)<<10)|Oe.charCodeAt(++vt)&1023),Xt<=127?++qe:Xt<=2047?qe+=2:Xt<=65535?qe+=3:Xt<=2097151?qe+=4:Xt<=67108863?qe+=5:qe+=6}return qe}typeof TextDecoder!="undefined"&&new TextDecoder("utf-16le");var he=65536,de=16777216,Se=16777216;function Be(Oe,qe){return Oe%qe>0&&(Oe+=qe-Oe%qe),Oe}var Le,nt,He,ce,Re,lt,Te;function Ye(Oe){t.buffer=Le=Oe}function mt(){t.HEAP8=nt=new Int8Array(Le),t.HEAP16=ce=new Int16Array(Le),t.HEAP32=Re=new Int32Array(Le),t.HEAPU8=He=new Uint8Array(Le),t.HEAPU16=new Uint16Array(Le),t.HEAPU32=new Uint32Array(Le),t.HEAPF32=lt=new Float32Array(Le),t.HEAPF64=Te=new Float64Array(Le)}var $e,gt,kt,Kt,Ft,Yt,$t,vi;$e=gt=Kt=Ft=Yt=$t=vi=0,kt=!1;function Xi(){el("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+Ct+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}t.reallocBuffer||(t.reallocBuffer=function(Oe){var qe;try{if(ArrayBuffer.transfer)qe=ArrayBuffer.transfer(Le,Oe);else{var vt=nt;qe=new ArrayBuffer(Oe);var Xt=new Int8Array(qe);Xt.set(vt)}}catch{return!1}var Z=Vb(qe);return Z?qe:!1});function Ki(){var Oe=t.usingWasm?he:de,qe=2147483648-Oe;if(Re[vi>>2]>qe)return!1;var vt=Ct;for(Ct=Math.max(Ct,Se);Ct<Re[vi>>2];)Ct<=536870912?Ct=Be(2*Ct,Oe):Ct=Math.min(Be((3*Ct+2147483648)/4,Oe),qe);var Xt=t.reallocBuffer(Ct);return!Xt||Xt.byteLength!=Ct?(Ct=vt,!1):(Ye(Xt),mt(),!0)}var or;try{or=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get),or(new ArrayBuffer(4))}catch{or=function(qe){return qe.byteLength}}var Et=t.TOTAL_STACK||5242880,Ct=t.TOTAL_MEMORY||16777216;Ct<Et&&t.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+Ct+"! (TOTAL_STACK="+Et+")"),t.buffer?Le=t.buffer:(Le=new ArrayBuffer(Ct),t.buffer=Le),mt();function ri(){return Ct}if(Re[0]=1668509029,ce[1]=25459,He[2]!==115||He[3]!==99)throw"Runtime error: expected the system to be little-endian!";function pt(Oe){for(;Oe.length>0;){var qe=Oe.shift();if(typeof qe=="function"){qe();continue}var vt=qe.func;typeof vt=="number"?qe.arg===void 0?t.dynCall_v(vt):t.dynCall_vi(vt,qe.arg):vt(qe.arg===void 0?null:qe.arg)}}var ft=[],Lt=[],ii=[],bi=[],rt=[],Pe=!1;function Me(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)Di(t.preRun.shift());pt(ft)}function bt(){Pe||(Pe=!0,pt(Lt))}function zt(){pt(ii)}function It(){pt(bi)}function yt(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Ot(t.postRun.shift());pt(rt)}function Di(Oe){ft.unshift(Oe)}function Tt(Oe){ii.unshift(Oe)}function Ot(Oe){rt.unshift(Oe)}var li=Math.abs,Ti=Math.ceil,Ui=Math.floor,gr=Math.min,kr=0,mr=null;function Fe(Oe){kr++,t.monitorRunDependencies&&t.monitorRunDependencies(kr)}function Ze(Oe){if(kr--,t.monitorRunDependencies&&t.monitorRunDependencies(kr),kr==0&&mr){var qe=mr;mr=null,qe()}}t.preloadedImages={},t.preloadedAudios={};var ht=null,Ut="data:application/octet-stream;base64,";function ei(Oe){return String.prototype.startsWith?Oe.startsWith(Ut):Oe.indexOf(Ut)===0}$e=ee,gt=$e+18640,Lt.push(),ht="data:application/octet-stream;base64,vBoAACwbAADkGgAAehsAACAAAAAAAAAAvBoAAKEbAADkGgAAvhsAACAAAAAAAAAAvBoAAOcbAADkGgAAAxwAADgAAAAAAAAAvBoAACUcAADkGgAAShwAADgAAAAAAAAA5BoAAI4mAABQAAAAAAAAAOQaAAB6HAAAiAAAAAAAAADkGgAA0xwAAJgAAAAAAAAA5BoAACcdAACoAAAAAAAAAOQaAABbHQAAuAAAAAAAAAC8GgAAhh0AAOQaAACqHQAA0AAAAAAAAAC8GgAASB4AAOQaAADmHgAA6AAAAAAAAADkGgAAfh8AAIgAAAAAAAAA5BoAAAcgAADoAAAAAAAAAOQaAAChIAAA6AAAAAAAAADkGgAARyEAAOgAAAAAAAAA5BoAAN0hAAA4AQAAAAAAALwaAACIIgAA5BoAADMjAABQAQAAAAAAAOQaAADYIwAAiAAAAAAAAADkGgAAbiQAAFABAAAAAAAA5BoAABUlAABQAQAAAAAAAOQaAADIJQAAUAEAAAAAAADkGgAAqDEAAGgAAAAAAAAA5BoAALomAACwAQAAAAAAAOQaAAArJwAAmAAAAAAAAADkGgAAlycAANABAAAAAAAAvBoAAE0oAADkGgAAAykAAOgBAAAAAAAA5BoAALMpAACwAQAAAAAAAOQaAABUKgAA6AEAAAAAAADkGgAABisAAOgBAAAAAAAA5BoAAMQrAADoAQAAAAAAAOQaAAByLAAAOAIAAAAAAAC8GgAANS0AAOQaAAD4LQAAUAIAAAAAAADkGgAAtS4AALABAAAAAAAA5BoAAGMvAABQAgAAAAAAAOQaAAAiMAAAUAIAAAAAAADkGgAA7TAAAFACAAAAAAAA5BoAANMxAABoAAAAAAAAAOQaAABJMgAACAAAAAAAAAC8GgAAFjIAAOQaAABcMgAAsAIAAAAAAADkGgAAbDMAAHgDAAAAAAAA5BoAAOE3AABgAwAAAAAAALwaAAAsNAAA5BoAAJM0AADoAgAAAAAAAOQaAAAANQAAEAMAAAAAAAC8GgAAizUAALwaAAClNQAA5BoAAP81AAAYAwAAAAAAAOQaAABfNgAAEAMAAAAAAADkGgAA3TYAABgDAAAAAAAA5BoAAEY3AAAQAwAAAAAAALwaAAAtOAAA5BoAAFs4AABgAwAAAAAAAOQaAADMOAAAqAMAAAAAAADkGgAAEjkAAHgDAAAAAAAA5BoAAPg4AAAQAwAAAAAAALwaAAAyOQAA5BoAAAc6AACoAwAAAAAAAOQaAAApOgAAqAMAAAAAAADkGgAATzoAAOADAAAAAAAAvBoAAKE6AAC8GgAA0EQAAOQaAAAwRQAAAAQAAAAAAADkGgAA3UQAABAEAAAAAAAAvBoAAP5EAADkGgAAC0UAAPADAAAAAAAA5BoAABJGAADoAwAAAAAAAOQaAAAiRgAAKAQAAAAAAADkGgAAV0YAAAAEAAAAAAAA5BoAADNGAABIBAAAAAAAAAAAAAAIAAAAAQAAAAIAAAAAAAAAEAAAAAMAAAAEAAAAAQAAAAEAAAABAAAAAAAAACgAAAAFAAAABgAAAAIAAAACAAAAAgAAAP//////////AAAAADgAAAAHAAAACAAAAAEAAAADAAAAAQAAAAQAAAAFAAAAAgAAAAYAAAAHAAAAAwAAAAEAAAAIAAAAAAAAAEAAAAAJAAAACgAAAAEAAAADAAAABAAAAAQAAAAFAAAAAgAAAAYAAAAHAAAABQAAAAkAAAAKAAAAAAAAAFAAAAALAAAADAAAAAMAAAALAAAADAAAAAQAAAANAAAABgAAAAcAAAAOAAAADwAAAAUAAAAAAAAAWAAAAA0AAAAOAAAABgAAABAAAAAIAAAAEQAAABIAAAAHAAAAEwAAABQAAAAJAAAAFQAAABYAAAAKAAAAAQAAAAAAAABoAAAADwAAABAAAAAIAAAACwAAABcAAAAEAAAADQAAAAYAAAALAAAADgAAAA8AAAAJAAAAAgAAAAoAAAD/////AAAAAIgAAAARAAAAEgAAAAEAAAAMAAAAAQAAAA0AAAAYAAAAGQAAAA4AAAAPAAAAGgAAAAEAAAAAAAAAeAAAABEAAAATAAAAEAAAAAwAAAARAAAADQAAABgAAAAZAAAADgAAAA8AAAAaAAAAAQAAAAAAAAAYAQAAEQAAABQAAAASAAAADAAAABMAAAANAAAAGAAAABkAAAAOAAAADwAAABoAAAACAAAAAAAAAPgAAAAVAAAAFgAAABQAAAAMAAAAFQAAABYAAAAbAAAAHAAAAA4AAAAPAAAAHQAAAAMAAAAAAAAA2AAAABcAAAAYAAAAFwAAAAwAAAAYAAAAGQAAAB4AAAAfAAAADgAAAA8AAAAgAAAABAAAAAAAAADAAAAAGQAAABoAAAAhAAAAGgAAAAMAAAAAAAAA6AAAABEAAAAbAAAAAQAAAAwAAAABAAAADQAAABgAAAAZAAAADgAAAA8AAAAaAAAAAQAAAAAAAAAIAQAAHAAAAB0AAAAbAAAADAAAABwAAAANAAAAGAAAABkAAAAOAAAADwAAACIAAAAFAAAAAAAAAIABAAARAAAAHgAAAB0AAAAMAAAAHgAAAA0AAAAYAAAAGQAAAA4AAAAPAAAAGgAAAAYAAAAAAAAAYAEAAB8AAAAgAAAAHwAAAAwAAAAgAAAAIQAAACMAAAAkAAAADgAAAA8AAAAlAAAABwAAAAAAAABAAQAAIQAAACIAAAAiAAAADAAAACMAAAAkAAAAJgAAACcAAAAOAAAADwAAACgAAAAIAAAAAAAAACgBAAAjAAAAJAAAACkAAAAlAAAABAAAAAAAAABQAQAAEQAAACUAAAABAAAADAAAAAEAAAANAAAAGAAAABkAAAAOAAAADwAAABoAAAABAAAAAAAAAHABAAAmAAAAJwAAACYAAAAMAAAAJwAAAA0AAAAYAAAAGQAAAA4AAAAPAAAAKgAAAAkAAAAAAAAAkAEAACgAAAApAAAACwAAAAsAAAAXAAAABAAAACsAAAAoAAAAKQAAAA4AAAAPAAAACQAAAAUAAAAMAAAAAAAAAKABAAAqAAAAKwAAACoAAAArAAAALAAAAC0AAAAsAAAALQAAAC4AAAAvAAAALgAAAAoAAAAAAAAAGAIAACoAAAAsAAAAMAAAACsAAAAxAAAALQAAACwAAAAtAAAALgAAAC8AAAAuAAAACwAAAAAAAAAIAgAALQAAAC4AAAAyAAAAKwAAADMAAAAtAAAALAAAAC0AAAAuAAAALwAAAC8AAAAMAAAAAAAAAPgBAAAvAAAAMAAAADQAAAArAAAANQAAADYAAAAwAAAAMQAAAC4AAAAvAAAAMgAAAA0AAAAAAAAA2AEAADEAAAAyAAAANwAAACsAAAA4AAAAOQAAADMAAAA0AAAALgAAAC8AAAA1AAAADgAAAAAAAADAAQAAMwAAADQAAAA2AAAAOgAAAAYAAAAAAAAAgAIAACoAAAA1AAAAOwAAACsAAAA8AAAALQAAACwAAAAtAAAALgAAAC8AAAAuAAAADwAAAAAAAABwAgAANgAAADcAAAA9AAAAKwAAAD4AAAAtAAAALAAAAC0AAAAuAAAALwAAADcAAAAQAAAAAAAAAGACAAA4AAAAOQAAAD8AAAArAAAAQAAAAEEAAAA4AAAAOQAAAC4AAAAvAAAAOgAAABEAAAAAAAAAQAIAADoAAAA7AAAAQgAAACsAAABDAAAARAAAADsAAAA8AAAALgAAAC8AAAA9AAAAEgAAAAAAAAAoAgAAPAAAAD0AAAA+AAAARQAAAAcAAAAAAAAAkAIAAD4AAAA/AAAADQAAAAsAAAAXAAAABAAAAD8AAABGAAAARwAAAA4AAAAPAAAACQAAAAIAAAAOAAAAAAAAAKACAAABAAAAQAAAAAEAAAACAAAAAAAAALACAABBAAAAQgAAAAAAAAC4AgAAQQAAAEMAAAAAAAAAyAIAAEQAAABFAAAASAAAAEkAAABKAAAASwAAAAMAAABMAAAATQAAAEAAAABBAAAATgAAAEYAAABPAAAAQgAAAEMAAAAEAAAARwAAAAAAAADYAgAASAAAAEkAAABEAAAARQAAAEYAAABHAAAASAAAAAUAAABQAAAASQAAAFEAAAABAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAwAASgAAAEsAAABKAAAAUgAAAAAAAADwAgAATAAAAE0AAAAIAAAAAAAAAOgCAABOAAAATwAAAAgAAAD/////AAAAADADAABQAAAAUQAAAEsAAABTAAAAAAAAACADAABSAAAAUwAAAAkAAAAAAAAAGAMAAFQAAABVAAAACQAAAAAAAABQAwAAVgAAAFcAAABMAAAAVAAAAAAAAABAAwAAWAAAAFkAAAAJAAAAAAAAAGgDAABaAAAAWwAAAE0AAABOAAAATwAAAFAAAABRAAAABgAAAFUAAABSAAAAVgAAAAAAAAABAAAABQAAAAIAAAAFAAAAAwAAAAUAAAAEAAAAAAAAAHgDAABcAAAAXQAAAEgAAAABAAAAVwAAAEsAAAADAAAATAAAAE0AAAABAAAAUwAAAE4AAAABAAAAWAAAAFQAAABVAAAAAQAAAAEAAAAAAAAAiAMAAFwAAABeAAAASAAAAFkAAABXAAAASwAAAAMAAABMAAAATQAAAFYAAABTAAAATgAAAF8AAABYAAAAVAAAAFUAAAAHAAAAYAAAAAAAAACYAwAAYQAAAGIAAABXAAAAWgAAAAAAAACoAwAAXAAAAGMAAABbAAAAAQAAAFcAAABLAAAACAAAAEwAAABNAAAAAQAAAFMAAABOAAAAAQAAAAAAAACwAwAAXAAAAGQAAABbAAAAXAAAAFcAAABLAAAACQAAAEwAAABNAAAAWAAAAFMAAABOAAAAZQAAAAAAAADAAwAAXAAAAGYAAABbAAAAXQAAAFcAAABLAAAACgAAAEwAAABNAAAAWQAAAFMAAABOAAAAZwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAFZVVVUCAAAAAAAAAAIAAACamZmZAwAAAFZVVVUDAAAAJUmSJAMAAAAAAAAAAwAAAMhxHMcEAAAAmpmZmQQAAABGF110BAAAAFZVVVUEAAAAPLETOwQAAAAlSZIkBAAAABIREREEAAAAAAAAAAQAAADi4eHhBQAAAMhxHMcFAAAAy2sorwUAAACamZmZBQAAAIdhGIYFAAAARhdddAUAAACRhSxkBQAAAFZVVVUFAAAAexSuRwUAAAA8sRM7BQAAANtLaC8FAAAAJUmSJAUAAAASlnsaBQAAABIREREFAAAAhRBCCAUAAAAAAAAABQAAAAgffPAGAAAA4uHh4QYAAADVQR3UBgAAAMhxHMcGAAAATZHPugYAAADLayivBgAAAKVBGqQGAAAAmpmZmQYAAAD6GJyPBgAAAIdhGIYGAAAAGPQFfQYAAABGF110BgAAAG3BFmwGAAAAkYUsZAYAAAC6gphcBgAAAFZVVVUGAAAAcwpeTgYAAAB7FK5HBgAAAEJBQUEGAAAAPLETOwYAAACzzyE1BgAAANtLaC8GAAAAnxLkKQYAAAAlSZIkBgAAAN1HcB8GAAAAEpZ7GgYAAAD45bEVBgAAABIREREGAAAA/BSXDAYAAACFEEIIBgAAAAVBEAQGAAAAAAAAAAYAAAD5gR/4BwAAAAgffPAHAAAAwBoT6QcAAADi4eHhBwAAAGwH5toHAAAA1UEd1AcAAACRaIXNBwAAAMhxHMcHAAAAOXDgwAcAAABNkc+6BwAAAE8b6LQHAAAAy2sorwcAAAAH9o6pBwAAAKVBGqQHAAAAUunIngcAAACamZmZBwAAAM4Pi5QHAAAA+hicjwcAAAD3kMuKBwAAAIdhGIYHAAAAgoGBgQcAAAAY9AV9BwAAABjIpHgHAAAARhdddAcAAADBBS5wBwAAAG3BFmwHAAAAaYEWaAcAAACRhSxkBwAAAAYWWGAHAAAAuoKYXAcAAAAJI+1YBwAAAFZVVVUHAAAAr37QUQcAAABzCl5OBwAAAAZq/UoHAAAAexSuRwcAAABXhm9EBwAAAEJBQUEHAAAAz8siPgcAAAA8sRM7BwAAADmBEzgHAAAAs88hNQcAAACjND4yBwAAANtLaC8HAAAA2bSfLAcAAACfEuQpBwAAAIkLNScHAAAAJUmSJAcAAAATePshBwAAAN1HcB8HAAAA22rwHAcAAAASlnsaBwAAABmBERgHAAAA+OWxFQcAAAAUgVwTBwAAABIREREHAAAAv1bPDgcAAAD8FJcMBwAAAKcQaAoHAAAAhRBCCAcAAAAw3SQGBwAAAAVBEAQHAAAAEQgEAgcAAAAAAAAABwAAACDwB/wIAAAA+YEf+AgAAADlWUb0CAAAAAgffPAIAAAAMXvA7AgAAADAGhPpCAAAAJGsc+UIAAAA4uHh4QgAAABAbl3eCAAAAGwH5toIAAAATGV71wgAAADVQR3UCAAAAPdYy9AIAAAAkWiFzQgAAABWMEvKCAAAAMhxHMcIAAAAHfD4wwgAAAA5cODACAAAAJq40r0IAAAATZHPuggAAADew9a3CAAAAE8b6LQIAAAAB2QDsggAAADLayivCAAAAK0BV6wIAAAAB/aOqQgAAABuGtCmCAAAAKVBGqQIAAAAmD9toQgAAABS6cieCAAAAO8ULZwIAAAAmpmZmQgAAACBTw6XCAAAAM4Pi5QIAAAAnrQPkggAAAD6GJyPCAAAANQYMI0IAAAA95DLiggAAAALX26ICAAAAIdhGIYIAAAArHfJgwgAAACCgYGBCAAAANFfQH8IAAAAGPQFfQgAAACPINJ6CAAAABjIpHgIAAAARM59dggAAABGF110CAAAAPWHQnIIAAAAwQUucAgAAAC1dh9uCAAAAG3BFmwIAAAAFs0TaggAAABpgRZoCAAAAKbGHmYIAAAAkYUsZAgAAABxpz9iCAAAAAYWWGAIAAAAjrt1XggAAAC6gphcCAAAALFWwFoIAAAACSPtWAgAAADG0x5XCAAAAFZVVVUIAAAAkJSQUwgAAACvftBRCAAAAFEBFVAIAAAAcwpeTggAAABziKtMCAAAAAZq/UoIAAAAPJ5TSQgAAAB7FK5HCAAAAIC8DEYIAAAAV4ZvRAgAAABeYtZCCAAAAEJBQUEIAAAA/BOwPwgAAADPyyI+CAAAAEhamTwIAAAAPLETOwgAAADCwpE5CAAAADmBEzgIAAAAPt+YNggAAACzzyE1CAAAALZFrjMIAAAAozQ+MggAAAAUkNEwCAAAANtLaC8IAAAABVwCLggAAADZtJ8sCAAAANFKQCsIAAAAnxLkKQgAAAApAYsoCAAAAIkLNScIAAAACSfiJQgAAAAlSZIkCAAAAIpnRSMIAAAAE3j7IQgAAADHcLQgCAAAAN1HcB8IAAAAtPMuHggAAADbavAcCAAAAAWktBsIAAAAEpZ7GggAAAAJOEUZCAAAABmBERgIAAAAlWjgFggAAAD45bEVCAAAAOHwhRQIAAAAFIFcEwgAAAB2jjUSCAAAABIREREIAAAAEAHvDwgAAAC/Vs8OCAAAAIkKsg0IAAAA/BSXDAgAAADDbn4LCAAAAKcQaAoIAAAAkfNTCQgAAACFEEIICAAAAKVgMgcIAAAAMN0kBggAAAB+fxkFCAAAAAVBEAQIAAAAUhsJAwgAAAARCAQCCAAAAAIBAQEIAAAA/////wAAAADQAwAAaAAAAGkAAAAKAAAACwAAAF4AAABqAAAACwAAAP////8AAAAA4AMAAGsAAABsAAAADAAAAAwAAABeAAAAagAAAA0AAAD/////HBcAAAUAAAAAAAAAAAAAAF8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAAQAAAAyEgAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJxIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAABkAAAA6AMAABAnAACghgEAQEIPAICWmAAA4fUFX3CJAP8JLw8AAAAAAgAAAAMAAAAFAAAABwAAAAsAAAANAAAAEQAAABMAAAAXAAAAHQAAAB8AAAAlAAAAKQAAACsAAAAvAAAANQAAADsAAAA9AAAAQwAAAEcAAABJAAAATwAAAFMAAABZAAAAYQAAAGUAAABnAAAAawAAAG0AAABxAAAAfwAAAIMAAACJAAAAiwAAAJUAAACXAAAAnQAAAKMAAACnAAAArQAAALMAAAC1AAAAvwAAAMEAAADFAAAAxwAAANMAAAABAAAACwAAAA0AAAARAAAAEwAAABcAAAAdAAAAHwAAACUAAAApAAAAKwAAAC8AAAA1AAAAOwAAAD0AAABDAAAARwAAAEkAAABPAAAAUwAAAFkAAABhAAAAZQAAAGcAAABrAAAAbQAAAHEAAAB5AAAAfwAAAIMAAACJAAAAiwAAAI8AAACVAAAAlwAAAJ0AAACjAAAApwAAAKkAAACtAAAAswAAALUAAAC7AAAAvwAAAMEAAADFAAAAxwAAANEAAAACAAAAAAAAAPADAABtAAAAbgAAAG8AAABwAAAAEgAAAAEAAAABAAAAAwAAAAAAAAAYBAAAbQAAAHEAAABvAAAAcAAAABIAAAACAAAAAgAAAAQAAAAAAAAAKAQAAHIAAABzAAAAYAAAAAAAAAA4BAAAcgAAAHQAAABgAAAATjVkcmFjbzExRW5jb2RlckJhc2VJTlNfMThFbmNvZGVyT3B0aW9uc0Jhc2VJTlNfMTdHZW9tZXRyeUF0dHJpYnV0ZTRUeXBlRUVFRUUATjVkcmFjbzI4QXR0cmlidXRlT2N0YWhlZHJvblRyYW5zZm9ybUUATjVkcmFjbzE4QXR0cmlidXRlVHJhbnNmb3JtRQBONWRyYWNvMzBBdHRyaWJ1dGVRdWFudGl6YXRpb25UcmFuc2Zvcm1FAE41ZHJhY28xN0F0dHJpYnV0ZXNFbmNvZGVyRQBONWRyYWNvMjNLZFRyZWVBdHRyaWJ1dGVzRW5jb2RlckUATjVkcmFjbzI2U2VxdWVudGlhbEF0dHJpYnV0ZUVuY29kZXJFAE41ZHJhY28zN1NlcXVlbnRpYWxBdHRyaWJ1dGVFbmNvZGVyc0NvbnRyb2xsZXJFAE41ZHJhY28yOFByZWRpY3Rpb25TY2hlbWVEZWx0YUVuY29kZXJJaU5TXzM3UHJlZGljdGlvblNjaGVtZVdyYXBFbmNvZGluZ1RyYW5zZm9ybUlpaUVFRUUATjVkcmFjbzIzUHJlZGljdGlvblNjaGVtZUVuY29kZXJJaU5TXzM3UHJlZGljdGlvblNjaGVtZVdyYXBFbmNvZGluZ1RyYW5zZm9ybUlpaUVFRUUATjVkcmFjbzM3UHJlZGljdGlvblNjaGVtZVR5cGVkRW5jb2RlckludGVyZmFjZUlpaUVFAE41ZHJhY28zMlByZWRpY3Rpb25TY2hlbWVFbmNvZGVySW50ZXJmYWNlRQBONWRyYWNvMjVQcmVkaWN0aW9uU2NoZW1lSW50ZXJmYWNlRQBONWRyYWNvNDhNZXNoUHJlZGljdGlvblNjaGVtZUdlb21ldHJpY05vcm1hbFByZWRpY3RvckFyZWFJaU5TXzM3UHJlZGljdGlvblNjaGVtZVdyYXBFbmNvZGluZ1RyYW5zZm9ybUlpaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMTFDb3JuZXJUYWJsZUVFRUVFAE41ZHJhY280OE1lc2hQcmVkaWN0aW9uU2NoZW1lR2VvbWV0cmljTm9ybWFsUHJlZGljdG9yQmFzZUlpTlNfMzdQcmVkaWN0aW9uU2NoZW1lV3JhcEVuY29kaW5nVHJhbnNmb3JtSWlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQyTWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxFbmNvZGVySWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRW5jb2RpbmdUcmFuc2Zvcm1JaWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzExQ29ybmVyVGFibGVFRUVFRQBONWRyYWNvMjdNZXNoUHJlZGljdGlvblNjaGVtZUVuY29kZXJJaU5TXzM3UHJlZGljdGlvblNjaGVtZVdyYXBFbmNvZGluZ1RyYW5zZm9ybUlpaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMTFDb3JuZXJUYWJsZUVFRUVFAE41ZHJhY280NE1lc2hQcmVkaWN0aW9uU2NoZW1lVGV4Q29vcmRzUG9ydGFibGVFbmNvZGVySWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRW5jb2RpbmdUcmFuc2Zvcm1JaWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzExQ29ybmVyVGFibGVFRUVFRQBONWRyYWNvNTZNZXNoUHJlZGljdGlvblNjaGVtZUNvbnN0cmFpbmVkTXVsdGlQYXJhbGxlbG9ncmFtRW5jb2RlcklpTlNfMzdQcmVkaWN0aW9uU2NoZW1lV3JhcEVuY29kaW5nVHJhbnNmb3JtSWlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQwTWVzaFByZWRpY3Rpb25TY2hlbWVQYXJhbGxlbG9ncmFtRW5jb2RlcklpTlNfMzdQcmVkaWN0aW9uU2NoZW1lV3JhcEVuY29kaW5nVHJhbnNmb3JtSWlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQ4TWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxQcmVkaWN0b3JBcmVhSWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRW5jb2RpbmdUcmFuc2Zvcm1JaWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQ4TWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxQcmVkaWN0b3JCYXNlSWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRW5jb2RpbmdUcmFuc2Zvcm1JaWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQyTWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxFbmNvZGVySWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRW5jb2RpbmdUcmFuc2Zvcm1JaWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzI3TWVzaFByZWRpY3Rpb25TY2hlbWVFbmNvZGVySWlOU18zN1ByZWRpY3Rpb25TY2hlbWVXcmFwRW5jb2RpbmdUcmFuc2Zvcm1JaWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQ0TWVzaFByZWRpY3Rpb25TY2hlbWVUZXhDb29yZHNQb3J0YWJsZUVuY29kZXJJaU5TXzM3UHJlZGljdGlvblNjaGVtZVdyYXBFbmNvZGluZ1RyYW5zZm9ybUlpaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFRUVFRQBONWRyYWNvNTZNZXNoUHJlZGljdGlvblNjaGVtZUNvbnN0cmFpbmVkTXVsdGlQYXJhbGxlbG9ncmFtRW5jb2RlcklpTlNfMzdQcmVkaWN0aW9uU2NoZW1lV3JhcEVuY29kaW5nVHJhbnNmb3JtSWlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18yNE1lc2hBdHRyaWJ1dGVDb3JuZXJUYWJsZUVFRUVFAE41ZHJhY280ME1lc2hQcmVkaWN0aW9uU2NoZW1lUGFyYWxsZWxvZ3JhbUVuY29kZXJJaU5TXzM3UHJlZGljdGlvblNjaGVtZVdyYXBFbmNvZGluZ1RyYW5zZm9ybUlpaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFRUVFRQB1c2VfYnVpbHRfaW5fYXR0cmlidXRlX2NvbXByZXNzaW9uAE41ZHJhY28zM1NlcXVlbnRpYWxJbnRlZ2VyQXR0cmlidXRlRW5jb2RlckUATjVkcmFjbzI4UHJlZGljdGlvblNjaGVtZURlbHRhRW5jb2RlcklpTlNfNjJQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkNhbm9uaWNhbGl6ZWRFbmNvZGluZ1RyYW5zZm9ybUlpRUVFRQBONWRyYWNvMjNQcmVkaWN0aW9uU2NoZW1lRW5jb2RlcklpTlNfNjJQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkNhbm9uaWNhbGl6ZWRFbmNvZGluZ1RyYW5zZm9ybUlpRUVFRQBONWRyYWNvNDhNZXNoUHJlZGljdGlvblNjaGVtZUdlb21ldHJpY05vcm1hbFByZWRpY3RvckFyZWFJaU5TXzYyUHJlZGljdGlvblNjaGVtZU5vcm1hbE9jdGFoZWRyb25DYW5vbmljYWxpemVkRW5jb2RpbmdUcmFuc2Zvcm1JaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMTFDb3JuZXJUYWJsZUVFRUVFAE41ZHJhY280OE1lc2hQcmVkaWN0aW9uU2NoZW1lR2VvbWV0cmljTm9ybWFsUHJlZGljdG9yQmFzZUlpTlNfNjJQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkNhbm9uaWNhbGl6ZWRFbmNvZGluZ1RyYW5zZm9ybUlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQyTWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxFbmNvZGVySWlOU182MlByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uQ2Fub25pY2FsaXplZEVuY29kaW5nVHJhbnNmb3JtSWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzExQ29ybmVyVGFibGVFRUVFRQBONWRyYWNvMjdNZXNoUHJlZGljdGlvblNjaGVtZUVuY29kZXJJaU5TXzYyUHJlZGljdGlvblNjaGVtZU5vcm1hbE9jdGFoZWRyb25DYW5vbmljYWxpemVkRW5jb2RpbmdUcmFuc2Zvcm1JaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMTFDb3JuZXJUYWJsZUVFRUVFAE41ZHJhY280NE1lc2hQcmVkaWN0aW9uU2NoZW1lVGV4Q29vcmRzUG9ydGFibGVFbmNvZGVySWlOU182MlByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uQ2Fub25pY2FsaXplZEVuY29kaW5nVHJhbnNmb3JtSWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzExQ29ybmVyVGFibGVFRUVFRQBONWRyYWNvNTZNZXNoUHJlZGljdGlvblNjaGVtZUNvbnN0cmFpbmVkTXVsdGlQYXJhbGxlbG9ncmFtRW5jb2RlcklpTlNfNjJQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkNhbm9uaWNhbGl6ZWRFbmNvZGluZ1RyYW5zZm9ybUlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQwTWVzaFByZWRpY3Rpb25TY2hlbWVQYXJhbGxlbG9ncmFtRW5jb2RlcklpTlNfNjJQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkNhbm9uaWNhbGl6ZWRFbmNvZGluZ1RyYW5zZm9ybUlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18xMUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQ4TWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxQcmVkaWN0b3JBcmVhSWlOU182MlByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uQ2Fub25pY2FsaXplZEVuY29kaW5nVHJhbnNmb3JtSWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQ4TWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxQcmVkaWN0b3JCYXNlSWlOU182MlByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uQ2Fub25pY2FsaXplZEVuY29kaW5nVHJhbnNmb3JtSWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQyTWVzaFByZWRpY3Rpb25TY2hlbWVHZW9tZXRyaWNOb3JtYWxFbmNvZGVySWlOU182MlByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uQ2Fub25pY2FsaXplZEVuY29kaW5nVHJhbnNmb3JtSWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzI3TWVzaFByZWRpY3Rpb25TY2hlbWVFbmNvZGVySWlOU182MlByZWRpY3Rpb25TY2hlbWVOb3JtYWxPY3RhaGVkcm9uQ2Fub25pY2FsaXplZEVuY29kaW5nVHJhbnNmb3JtSWlFRU5TXzI0TWVzaFByZWRpY3Rpb25TY2hlbWVEYXRhSU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRUVFRUUATjVkcmFjbzQ0TWVzaFByZWRpY3Rpb25TY2hlbWVUZXhDb29yZHNQb3J0YWJsZUVuY29kZXJJaU5TXzYyUHJlZGljdGlvblNjaGVtZU5vcm1hbE9jdGFoZWRyb25DYW5vbmljYWxpemVkRW5jb2RpbmdUcmFuc2Zvcm1JaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFRUVFRQBONWRyYWNvNTZNZXNoUHJlZGljdGlvblNjaGVtZUNvbnN0cmFpbmVkTXVsdGlQYXJhbGxlbG9ncmFtRW5jb2RlcklpTlNfNjJQcmVkaWN0aW9uU2NoZW1lTm9ybWFsT2N0YWhlZHJvbkNhbm9uaWNhbGl6ZWRFbmNvZGluZ1RyYW5zZm9ybUlpRUVOU18yNE1lc2hQcmVkaWN0aW9uU2NoZW1lRGF0YUlOU18yNE1lc2hBdHRyaWJ1dGVDb3JuZXJUYWJsZUVFRUVFAE41ZHJhY280ME1lc2hQcmVkaWN0aW9uU2NoZW1lUGFyYWxsZWxvZ3JhbUVuY29kZXJJaU5TXzYyUHJlZGljdGlvblNjaGVtZU5vcm1hbE9jdGFoZWRyb25DYW5vbmljYWxpemVkRW5jb2RpbmdUcmFuc2Zvcm1JaUVFTlNfMjRNZXNoUHJlZGljdGlvblNjaGVtZURhdGFJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFRUVFRQBONWRyYWNvMzJTZXF1ZW50aWFsTm9ybWFsQXR0cmlidXRlRW5jb2RlckUATjVkcmFjbzM4U2VxdWVudGlhbFF1YW50aXphdGlvbkF0dHJpYnV0ZUVuY29kZXJFAHByZWRpY3Rpb25fc2NoZW1lAE41ZHJhY28xMUVuY29kZXJCYXNlSU5TXzE4RW5jb2Rlck9wdGlvbnNCYXNlSWlFRUVFAE41ZHJhY283RW5jb2RlckUAIABONWRyYWNvMTNFeHBlcnRFbmNvZGVyRQBlbmNvZGluZ19tZXRob2QAcXVhbnRpemF0aW9uX2JpdHMASW52YWxpZCBlbmNvZGluZyBtZXRob2QuAGVuY29kaW5nX3NwZWVkAGRlY29kaW5nX3NwZWVkAHF1YW50aXphdGlvbl9vcmlnaW4AcXVhbnRpemF0aW9uX3JhbmdlAHN5bWJvbF9lbmNvZGluZ19tZXRob2QAc3ltYm9sX2VuY29kaW5nX2NvbXByZXNzaW9uX2xldmVsAHN0YW5kYXJkX2VkZ2VicmVha2VyAHByZWRpY3RpdmVfZWRnZWJyZWFrZXIAZWRnZWJyZWFrZXJfbWV0aG9kAE41ZHJhY28yMk1lc2hFZGdlYnJlYWtlckVuY29kZXJFAEFsbCB0cmlhbmdsZXMgYXJlIGRlZ2VuZXJhdGUuAEZhaWxlZCB0byBwcm9jZXNzIG1lc2ggaG9sZXMuAEZhaWxlZCB0byBpbml0aWFsaXplIGF0dHJpYnV0ZSBkYXRhLgBGYWlsZWQgdG8gZW5jb2RlIG1lc2ggY29tcG9uZW50LgBGYWlsZWQgdG8gZW5jb2RlIHNwbGl0IGRhdGEuAE41ZHJhY28xM1RyYXZlcnNlckJhc2VJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFTlNfMzZNZXNoQXR0cmlidXRlSW5kaWNlc0VuY29kaW5nT2JzZXJ2ZXJJUzFfRUVFRQBONWRyYWNvMTlEZXB0aEZpcnN0VHJhdmVyc2VySU5TXzI0TWVzaEF0dHJpYnV0ZUNvcm5lclRhYmxlRU5TXzM2TWVzaEF0dHJpYnV0ZUluZGljZXNFbmNvZGluZ09ic2VydmVySVMxX0VFRUUATjVkcmFjbzIyTWVzaFRyYXZlcnNhbFNlcXVlbmNlcklOU18xOURlcHRoRmlyc3RUcmF2ZXJzZXJJTlNfMjRNZXNoQXR0cmlidXRlQ29ybmVyVGFibGVFTlNfMzZNZXNoQXR0cmlidXRlSW5kaWNlc0VuY29kaW5nT2JzZXJ2ZXJJUzJfRUVFRUVFAE41ZHJhY28xNVBvaW50c1NlcXVlbmNlckUATjVkcmFjbzEzVHJhdmVyc2VyQmFzZUlOU18xMUNvcm5lclRhYmxlRU5TXzM2TWVzaEF0dHJpYnV0ZUluZGljZXNFbmNvZGluZ09ic2VydmVySVMxX0VFRUUATjVkcmFjbzE5RGVwdGhGaXJzdFRyYXZlcnNlcklOU18xMUNvcm5lclRhYmxlRU5TXzM2TWVzaEF0dHJpYnV0ZUluZGljZXNFbmNvZGluZ09ic2VydmVySVMxX0VFRUUATjVkcmFjbzIyTWVzaFRyYXZlcnNhbFNlcXVlbmNlcklOU18xOURlcHRoRmlyc3RUcmF2ZXJzZXJJTlNfMTFDb3JuZXJUYWJsZUVOU18zNk1lc2hBdHRyaWJ1dGVJbmRpY2VzRW5jb2RpbmdPYnNlcnZlcklTMl9FRUVFRUUATjVkcmFjbzI4TWF4UHJlZGljdGlvbkRlZ3JlZVRyYXZlcnNlcklOU18xMUNvcm5lclRhYmxlRU5TXzM2TWVzaEF0dHJpYnV0ZUluZGljZXNFbmNvZGluZ09ic2VydmVySVMxX0VFRUUATjVkcmFjbzIyTWVzaFRyYXZlcnNhbFNlcXVlbmNlcklOU18yOE1heFByZWRpY3Rpb25EZWdyZWVUcmF2ZXJzZXJJTlNfMTFDb3JuZXJUYWJsZUVOU18zNk1lc2hBdHRyaWJ1dGVJbmRpY2VzRW5jb2RpbmdPYnNlcnZlcklTMl9FRUVFRUUAc3BsaXRfbWVzaF9vbl9zZWFtcwBONWRyYWNvMjZNZXNoRWRnZWJyZWFrZXJFbmNvZGVySW1wbElOU18zMU1lc2hFZGdlYnJlYWtlclRyYXZlcnNhbEVuY29kZXJFRUUATjVkcmFjbzM1TWVzaEVkZ2VicmVha2VyRW5jb2RlckltcGxJbnRlcmZhY2VFAE41ZHJhY28yNk1lc2hFZGdlYnJlYWtlckVuY29kZXJJbXBsSU5TXzM4TWVzaEVkZ2VicmVha2VyVHJhdmVyc2FsVmFsZW5jZUVuY29kZXJFRUUAc3RvcmVfbnVtYmVyX29mX2VuY29kZWRfZmFjZXMATjVkcmFjbzExTWVzaEVuY29kZXJFAGNvbXByZXNzX2Nvbm5lY3Rpdml0eQBONWRyYWNvMTVMaW5lYXJTZXF1ZW5jZXJFAE41ZHJhY28yMU1lc2hTZXF1ZW50aWFsRW5jb2RlckUATjVkcmFjbzE3UG9pbnRDbG91ZEVuY29kZXJFAEludmFsaWQgaW5wdXQgZ2VvbWV0cnkuAEZhaWxlZCB0byBpbml0aWFsaXplIGVuY29kZXIuAEZhaWxlZCB0byBlbmNvZGUgaW50ZXJuYWwgZGF0YS4ARmFpbGVkIHRvIGVuY29kZSBwb2ludCBhdHRyaWJ1dGVzLgBzdG9yZV9udW1iZXJfb2ZfZW5jb2RlZF9wb2ludHMARmFpbGVkIHRvIGVuY29kZSBtZXRhZGF0YS4ARFJBQ08ATjVkcmFjbzIzUG9pbnRDbG91ZEtkVHJlZUVuY29kZXJFAE41ZHJhY28yN1BvaW50Q2xvdWRTZXF1ZW50aWFsRW5jb2RlckUATjVkcmFjbzRNZXNoRQBhbGxvY2F0b3I8VD46OmFsbG9jYXRlKHNpemVfdCBuKSAnbicgZXhjZWVkcyBtYXhpbXVtIHN1cHBvcnRlZCBzaXplAE41ZHJhY28xMFBvaW50Q2xvdWRFABEACgAREREAAAAABQAAAAAAAAkAAAAACwAAAAAAAAAAEQAPChEREQMKBwABEwkLCwAACQYLAAALAAYRAAAAERERAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAABEACgoREREACgAAAgAJCwAAAAkACwAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAwAAAAACQwAAAAAAAwAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAADQAAAAQNAAAAAAkOAAAAAAAOAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAA8AAAAADwAAAAAJEAAAAAAAEAAAEAAAEgAAABISEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASAAAAEhISAAAAAAAACQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAAAAAAACgAAAAAKAAAAAAkLAAAAAAALAAALAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAADAAAAAAJDAAAAAAADAAADAAALSsgICAwWDB4AChudWxsKQAtMFgrMFggMFgtMHgrMHggMHgAaW5mAElORgBOQU4AMDEyMzQ1Njc4OUFCQ0RFRi4AVCEiGQ0BAgMRSxwMEAQLHRIeJ2hub3BxYiAFBg8TFBUaCBYHKCQXGAkKDhsfJSODgn0mKis8PT4/Q0dKTVhZWltcXV5fYGFjZGVmZ2lqa2xyc3R5ent8AElsbGVnYWwgYnl0ZSBzZXF1ZW5jZQBEb21haW4gZXJyb3IAUmVzdWx0IG5vdCByZXByZXNlbnRhYmxlAE5vdCBhIHR0eQBQZXJtaXNzaW9uIGRlbmllZABPcGVyYXRpb24gbm90IHBlcm1pdHRlZABObyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5AE5vIHN1Y2ggcHJvY2VzcwBGaWxlIGV4aXN0cwBWYWx1ZSB0b28gbGFyZ2UgZm9yIGRhdGEgdHlwZQBObyBzcGFjZSBsZWZ0IG9uIGRldmljZQBPdXQgb2YgbWVtb3J5AFJlc291cmNlIGJ1c3kASW50ZXJydXB0ZWQgc3lzdGVtIGNhbGwAUmVzb3VyY2UgdGVtcG9yYXJpbHkgdW5hdmFpbGFibGUASW52YWxpZCBzZWVrAENyb3NzLWRldmljZSBsaW5rAFJlYWQtb25seSBmaWxlIHN5c3RlbQBEaXJlY3Rvcnkgbm90IGVtcHR5AENvbm5lY3Rpb24gcmVzZXQgYnkgcGVlcgBPcGVyYXRpb24gdGltZWQgb3V0AENvbm5lY3Rpb24gcmVmdXNlZABIb3N0IGlzIGRvd24ASG9zdCBpcyB1bnJlYWNoYWJsZQBBZGRyZXNzIGluIHVzZQBCcm9rZW4gcGlwZQBJL08gZXJyb3IATm8gc3VjaCBkZXZpY2Ugb3IgYWRkcmVzcwBCbG9jayBkZXZpY2UgcmVxdWlyZWQATm8gc3VjaCBkZXZpY2UATm90IGEgZGlyZWN0b3J5AElzIGEgZGlyZWN0b3J5AFRleHQgZmlsZSBidXN5AEV4ZWMgZm9ybWF0IGVycm9yAEludmFsaWQgYXJndW1lbnQAQXJndW1lbnQgbGlzdCB0b28gbG9uZwBTeW1ib2xpYyBsaW5rIGxvb3AARmlsZW5hbWUgdG9vIGxvbmcAVG9vIG1hbnkgb3BlbiBmaWxlcyBpbiBzeXN0ZW0ATm8gZmlsZSBkZXNjcmlwdG9ycyBhdmFpbGFibGUAQmFkIGZpbGUgZGVzY3JpcHRvcgBObyBjaGlsZCBwcm9jZXNzAEJhZCBhZGRyZXNzAEZpbGUgdG9vIGxhcmdlAFRvbyBtYW55IGxpbmtzAE5vIGxvY2tzIGF2YWlsYWJsZQBSZXNvdXJjZSBkZWFkbG9jayB3b3VsZCBvY2N1cgBTdGF0ZSBub3QgcmVjb3ZlcmFibGUAUHJldmlvdXMgb3duZXIgZGllZABPcGVyYXRpb24gY2FuY2VsZWQARnVuY3Rpb24gbm90IGltcGxlbWVudGVkAE5vIG1lc3NhZ2Ugb2YgZGVzaXJlZCB0eXBlAElkZW50aWZpZXIgcmVtb3ZlZABEZXZpY2Ugbm90IGEgc3RyZWFtAE5vIGRhdGEgYXZhaWxhYmxlAERldmljZSB0aW1lb3V0AE91dCBvZiBzdHJlYW1zIHJlc291cmNlcwBMaW5rIGhhcyBiZWVuIHNldmVyZWQAUHJvdG9jb2wgZXJyb3IAQmFkIG1lc3NhZ2UARmlsZSBkZXNjcmlwdG9yIGluIGJhZCBzdGF0ZQBOb3QgYSBzb2NrZXQARGVzdGluYXRpb24gYWRkcmVzcyByZXF1aXJlZABNZXNzYWdlIHRvbyBsYXJnZQBQcm90b2NvbCB3cm9uZyB0eXBlIGZvciBzb2NrZXQAUHJvdG9jb2wgbm90IGF2YWlsYWJsZQBQcm90b2NvbCBub3Qgc3VwcG9ydGVkAFNvY2tldCB0eXBlIG5vdCBzdXBwb3J0ZWQATm90IHN1cHBvcnRlZABQcm90b2NvbCBmYW1pbHkgbm90IHN1cHBvcnRlZABBZGRyZXNzIGZhbWlseSBub3Qgc3VwcG9ydGVkIGJ5IHByb3RvY29sAEFkZHJlc3Mgbm90IGF2YWlsYWJsZQBOZXR3b3JrIGlzIGRvd24ATmV0d29yayB1bnJlYWNoYWJsZQBDb25uZWN0aW9uIHJlc2V0IGJ5IG5ldHdvcmsAQ29ubmVjdGlvbiBhYm9ydGVkAE5vIGJ1ZmZlciBzcGFjZSBhdmFpbGFibGUAU29ja2V0IGlzIGNvbm5lY3RlZABTb2NrZXQgbm90IGNvbm5lY3RlZABDYW5ub3Qgc2VuZCBhZnRlciBzb2NrZXQgc2h1dGRvd24AT3BlcmF0aW9uIGFscmVhZHkgaW4gcHJvZ3Jlc3MAT3BlcmF0aW9uIGluIHByb2dyZXNzAFN0YWxlIGZpbGUgaGFuZGxlAFJlbW90ZSBJL08gZXJyb3IAUXVvdGEgZXhjZWVkZWQATm8gbWVkaXVtIGZvdW5kAFdyb25nIG1lZGl1bSB0eXBlAE5vIGVycm9yIGluZm9ybWF0aW9uAABpbmZpbml0eQBuYW4AJWQAJWYAdGVybWluYXRpbmcgd2l0aCAlcyBleGNlcHRpb24gb2YgdHlwZSAlczogJXMAdGVybWluYXRpbmcgd2l0aCAlcyBleGNlcHRpb24gb2YgdHlwZSAlcwB0ZXJtaW5hdGluZyB3aXRoICVzIGZvcmVpZ24gZXhjZXB0aW9uAHRlcm1pbmF0aW5nAHVuY2F1Z2h0AFN0OWV4Y2VwdGlvbgBOMTBfX2N4eGFiaXYxMTZfX3NoaW1fdHlwZV9pbmZvRQBTdDl0eXBlX2luZm8ATjEwX19jeHhhYml2MTIwX19zaV9jbGFzc190eXBlX2luZm9FAE4xMF9fY3h4YWJpdjExN19fY2xhc3NfdHlwZV9pbmZvRQBwdGhyZWFkX29uY2UgZmFpbHVyZSBpbiBfX2N4YV9nZXRfZ2xvYmFsc19mYXN0KCkAY2Fubm90IGNyZWF0ZSBwdGhyZWFkIGtleSBmb3IgX19jeGFfZ2V0X2dsb2JhbHMoKQBjYW5ub3QgemVybyBvdXQgdGhyZWFkIHZhbHVlIGZvciBfX2N4YV9nZXRfZ2xvYmFscygpAHRlcm1pbmF0ZV9oYW5kbGVyIHVuZXhwZWN0ZWRseSByZXR1cm5lZABTdDExbG9naWNfZXJyb3IAU3QxMmxlbmd0aF9lcnJvcgBOMTBfX2N4eGFiaXYxMTlfX3BvaW50ZXJfdHlwZV9pbmZvRQBOMTBfX2N4eGFiaXYxMTdfX3BiYXNlX3R5cGVfaW5mb0U=";var Si=gt;gt+=16;function sr(Oe){return jf(Oe)}function jt(){return!!jt.uncaught_exception}var nr={last:0,caught:[],infos:{},deAdjust:function(Oe){if(!Oe||nr.infos[Oe])return Oe;for(var qe in nr.infos){var vt=nr.infos[qe];if(vt.adjusted===Oe)return qe}return Oe},addRef:function(Oe){if(!!Oe){var qe=nr.infos[Oe];qe.refcount++}},decRef:function(Oe){if(!!Oe){var qe=nr.infos[Oe];oe(qe.refcount>0),qe.refcount--,qe.refcount===0&&!qe.rethrown&&(qe.destructor&&t.dynCall_vi(qe.destructor,Oe),delete nr.infos[Oe],___cxa_free_exception(Oe))}},clearRef:function(Oe){if(!!Oe){var qe=nr.infos[Oe];qe.refcount=0}}};function Mn(Oe){var qe=nr.infos[Oe];return qe&&!qe.caught&&(qe.caught=!0,jt.uncaught_exception--),qe&&(qe.rethrown=!1),nr.caught.push(Oe),nr.addRef(nr.deAdjust(Oe)),Oe}function Mt(){throw ue=!0,"Pure virtual function called!"}function ui(Oe){throw nr.last||(nr.last=Oe),Oe+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function Li(){var Oe=nr.last;if(!Oe)return zh(0),0|0;var qe=nr.infos[Oe],vt=qe.type;if(!vt)return zh(0),Oe|0;var Xt=Array.prototype.slice.call(arguments);t.___cxa_is_pointer_type(vt),Li.buffer||(Li.buffer=jf(4)),Re[Li.buffer>>2]=Oe,Oe=Li.buffer;for(var Z=0;Z<Xt.length;Z++)if(Xt[Z]&&t.___cxa_can_catch(Xt[Z],vt,Oe))return Oe=Re[Oe>>2],qe.adjusted=Oe,zh(Xt[Z]),Oe|0;return Oe=Re[Oe>>2],zh(vt),Oe|0}function xi(Oe,qe,vt){throw nr.infos[Oe]={ptr:Oe,adjusted:Oe,type:qe,destructor:vt,refcount:0,caught:!1,rethrown:!1},nr.last=Oe,"uncaught_exception"in jt?jt.uncaught_exception++:jt.uncaught_exception=1,Oe+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}var Fi=ne([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",be);function qr(){}var fr={varargs:0,get:function(Oe){fr.varargs+=4;var qe=Re[fr.varargs-4>>2];return qe},getStr:function(){var Oe=ae(fr.get());return Oe},get64:function(){var Oe=fr.get(),qe=fr.get();return Oe>=0?oe(qe===0):oe(qe===-1),Oe},getZero:function(){oe(fr.get()===0)}};function Pr(Oe,qe){fr.varargs=qe;try{var vt=fr.getStreamFromFD(),Xt=fr.get(),Z=fr.get(),cr=fr.get(),Oi=fr.get(),Nr=Z;return FS.llseek(vt,Nr,Oi),Re[cr>>2]=vt.position,vt.getdents&&Nr===0&&Oi===0&&(vt.getdents=null),0}catch(e){return(typeof FS=="undefined"||!(e instanceof FS.ErrnoError))&&el(e),-e.errno}}function hn(){var Oe=t._fflush;Oe&&Oe(0);var qe=Lr.printChar;if(!!qe){var vt=Lr.buffers;vt[1].length&&qe(1,10),vt[2].length&&qe(2,10)}}function Lr(Oe,qe){fr.varargs=qe;try{var vt=fr.get(),Xt=fr.get(),Z=fr.get(),cr=0;Lr.buffers||(Lr.buffers=[null,[],[]],Lr.printChar=function(yi,il){var aa=Lr.buffers[yi];oe(aa),il===0||il===10?((yi===1?t.print:t.printErr)(ge(aa,0)),aa.length=0):aa.push(il)});for(var Oi=0;Oi<Z;Oi++){for(var Nr=Re[Xt+Oi*8>>2],e=Re[Xt+(Oi*8+4)>>2],gs=0;gs<e;gs++)Lr.printChar(vt,He[Nr+gs]);cr+=e}return cr}catch(yi){return(typeof FS=="undefined"||!(yi instanceof FS.ErrnoError))&&el(yi),-yi.errno}}function jr(Oe,qe){fr.varargs=qe;try{var vt=fr.getStreamFromFD();return FS.close(vt),0}catch(Xt){return(typeof FS=="undefined"||!(Xt instanceof FS.ErrnoError))&&el(Xt),-Xt.errno}}function un(){t.abort()}var Yn=Ti,ks=li,Qn=Ui;function Tr(){el("trap!")}function ss(Oe,qe,vt){return He.set(He.subarray(qe,qe+vt),Oe),Oe}var Bn={};function os(Oe){return Bn[Oe]||0}var rn=1,Z0={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86};function Vs(Oe,qe){return Oe==0?Z0.EINVAL:(Re[Oe>>2]=rn,Bn[rn]=0,rn++,0)}function Ks(Oe,qe){Ks.seen||(Ks.seen={}),!(Oe in Ks.seen)&&(t.dynCall_v(qe),Ks.seen[Oe]=1)}function rr(Oe,qe){return Oe in Bn?(Bn[Oe]=qe,0):Z0.EINVAL}function dt(Oe){return t.___errno_location&&(Re[t.___errno_location()>>2]=Oe),Oe}vi=O(4),Kt=Ft=z(gt),Yt=Kt+Et,$t=z(Yt),Re[vi>>2]=$t,kt=!0;var Jt=!1;function Qi(Oe,qe,vt){var Xt=vt>0?vt:ie(Oe)+1,Z=new Array(Xt),cr=le(Oe,Z,0,Z.length);return qe&&(Z.length=cr),Z}function $i(Oe){for(var qe=[],vt=0;vt<Oe.length;vt++){var Xt=Oe[vt];Xt>255&&(Jt&&oe(!1,"Character code "+Xt+" ("+String.fromCharCode(Xt)+")  at offset "+vt+" not in 0x00-0xFF."),Xt&=255),qe.push(String.fromCharCode(Xt))}return qe.join("")}var dn=typeof atob=="function"?atob:function(Oe){var qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",vt="",Xt,Z,cr,Oi,Nr,e,gs,yi=0;Oe=Oe.replace(/[^A-Za-z0-9\+\/\=]/g,"");do Oi=qe.indexOf(Oe.charAt(yi++)),Nr=qe.indexOf(Oe.charAt(yi++)),e=qe.indexOf(Oe.charAt(yi++)),gs=qe.indexOf(Oe.charAt(yi++)),Xt=Oi<<2|Nr>>4,Z=(Nr&15)<<4|e>>2,cr=(e&3)<<6|gs,vt=vt+String.fromCharCode(Xt),e!==64&&(vt=vt+String.fromCharCode(Z)),gs!==64&&(vt=vt+String.fromCharCode(cr));while(yi<Oe.length);return vt};function jn(Oe){if(typeof _=="boolean"&&_){var qe;try{qe=Buffer.from(Oe,"base64")}catch{qe=new Buffer(Oe,"base64")}return new Uint8Array(qe.buffer,qe.byteOffset,qe.byteLength)}try{for(var vt=dn(Oe),Xt=new Uint8Array(vt.length),Z=0;Z<vt.length;++Z)Xt[Z]=vt.charCodeAt(Z);return Xt}catch{throw new Error("Converting base64 string to bytes failed.")}}function Cr(Oe){if(!!ei(Oe))return jn(Oe.slice(Ut.length))}function Co(Oe,qe){try{return t.dynCall_ii(Oe,qe)}catch(vt){if(typeof vt!="number"&&vt!=="longjmp")throw vt;t.setThrew(1,0)}}function ya(Oe,qe,vt){try{return t.dynCall_iii(Oe,qe,vt)}catch(Xt){if(typeof Xt!="number"&&Xt!=="longjmp")throw Xt;t.setThrew(1,0)}}function gc(Oe,qe,vt,Xt){try{return t.dynCall_iiii(Oe,qe,vt,Xt)}catch(Z){if(typeof Z!="number"&&Z!=="longjmp")throw Z;t.setThrew(1,0)}}function Bl(Oe,qe,vt,Xt,Z,cr,Oi){try{return t.dynCall_iiiiiii(Oe,qe,vt,Xt,Z,cr,Oi)}catch(Nr){if(typeof Nr!="number"&&Nr!=="longjmp")throw Nr;t.setThrew(1,0)}}function hb(Oe){try{t.dynCall_v(Oe)}catch(qe){if(typeof qe!="number"&&qe!=="longjmp")throw qe;t.setThrew(1,0)}}function db(Oe,qe){try{t.dynCall_vi(Oe,qe)}catch(vt){if(typeof vt!="number"&&vt!=="longjmp")throw vt;t.setThrew(1,0)}}function Hh(Oe,qe,vt){try{t.dynCall_vii(Oe,qe,vt)}catch(Xt){if(typeof Xt!="number"&&Xt!=="longjmp")throw Xt;t.setThrew(1,0)}}function T1(Oe,qe,vt,Xt){try{t.dynCall_viii(Oe,qe,vt,Xt)}catch(Z){if(typeof Z!="number"&&Z!=="longjmp")throw Z;t.setThrew(1,0)}}function pb(Oe,qe,vt,Xt,Z){try{t.dynCall_viiii(Oe,qe,vt,Xt,Z)}catch(cr){if(typeof cr!="number"&&cr!=="longjmp")throw cr;t.setThrew(1,0)}}function M1(Oe,qe,vt,Xt,Z,cr){try{t.dynCall_viiiii(Oe,qe,vt,Xt,Z,cr)}catch(Oi){if(typeof Oi!="number"&&Oi!=="longjmp")throw Oi;t.setThrew(1,0)}}function mb(Oe,qe,vt,Xt,Z,cr,Oi){try{t.dynCall_viiiiii(Oe,qe,vt,Xt,Z,cr,Oi)}catch(Nr){if(typeof Nr!="number"&&Nr!=="longjmp")throw Nr;t.setThrew(1,0)}}t.asmGlobalArg={Math,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Float32Array,Float64Array,NaN:NaN,Infinity:1/0,byteLength:or},t.asmLibraryArg={abort:el,assert:oe,enlargeMemory:Ki,getTotalMemory:ri,abortOnCannotGrowMemory:Xi,invoke_ii:Co,invoke_iii:ya,invoke_iiii:gc,invoke_iiiiiii:Bl,invoke_v:hb,invoke_vi:db,invoke_vii:Hh,invoke_viii:T1,invoke_viiii:pb,invoke_viiiii:M1,invoke_viiiiii:mb,__ZSt18uncaught_exceptionv:jt,___cxa_allocate_exception:sr,___cxa_begin_catch:Mn,___cxa_find_matching_catch:Li,___cxa_pure_virtual:Mt,___cxa_throw:xi,___gxx_personality_v0:qr,___resumeException:ui,___setErrNo:dt,___syscall140:Pr,___syscall146:Lr,___syscall6:jr,_abort:un,_emscripten_memcpy_big:ss,_llvm_ceil_f64:Yn,_llvm_fabs_f64:ks,_llvm_floor_f64:Qn,_llvm_trap:Tr,_pthread_getspecific:os,_pthread_key_create:Vs,_pthread_once:Ks,_pthread_setspecific:rr,flush_NO_FILESYSTEM:hn,DYNAMICTOP_PTR:vi,tempDoublePtr:Si,ABORT:ue,STACKTOP:Ft,STACK_MAX:Yt,cttz_i8:Fi};var qi=function(Oe,qe,vt){var Xt=Oe.Int8Array,Z=new Xt(vt),cr=Oe.Int16Array,Oi=new cr(vt),Nr=Oe.Int32Array,e=new Nr(vt),gs=Oe.Uint8Array,yi=new gs(vt),il=Oe.Uint16Array,aa=new il(vt),nf=Oe.Uint32Array;new nf(vt);var _c=Oe.Float32Array,br=new _c(vt),Jh=Oe.Float64Array,L0=new Jh(vt),Pu=Oe.byteLength,w2=qe.DYNAMICTOP_PTR|0,En=qe.tempDoublePtr|0;qe.ABORT|0;var q=qe.STACKTOP|0;qe.STACK_MAX|0;var Ll=qe.cttz_i8|0,sf=Oe.NaN,kc=Oe.Infinity,Xe=0,bn=Oe.Math.floor,f0=Oe.Math.abs;Oe.Math.sqrt,Oe.Math.pow,Oe.Math.cos,Oe.Math.sin,Oe.Math.tan,Oe.Math.acos,Oe.Math.asin,Oe.Math.atan,Oe.Math.atan2,Oe.Math.exp,Oe.Math.log;var yr=Oe.Math.ceil,_i=Oe.Math.imul,i0=Oe.Math.min;Oe.Math.max;var S0=Oe.Math.clz32,qt=Oe.Math.fround,rl=qe.abort;qe.assert;var Yw=qe.enlargeMemory,Kw=qe.getTotalMemory,$w=qe.abortOnCannotGrowMemory;qe.invoke_ii,qe.invoke_iii,qe.invoke_iiii,qe.invoke_iiiiiii,qe.invoke_v,qe.invoke_vi,qe.invoke_vii,qe.invoke_viii,qe.invoke_viiii,qe.invoke_viiiii,qe.invoke_viiiiii,qe.__ZSt18uncaught_exceptionv;var wn=qe.___cxa_allocate_exception;qe.___cxa_begin_catch,qe.___cxa_find_matching_catch;var to=qe.___cxa_pure_virtual,yn=qe.___cxa_throw;qe.___gxx_personality_v0,qe.___resumeException;var Gs=qe.___setErrNo,Xh=qe.___syscall140,Gb=qe.___syscall146,x2=qe.___syscall6,zb=qe._abort,e6=qe._emscripten_memcpy_big;qe._llvm_ceil_f64,qe._llvm_fabs_f64,qe._llvm_floor_f64;var t6=qe._llvm_trap,j1=qe._pthread_getspecific,Wb=qe._pthread_key_create,G1=qe._pthread_once,i6=qe._pthread_setspecific;qe.flush_NO_FILESYSTEM,qt(0);const Ar=qt(0);function z1(r){return Pu(r)&16777215||Pu(r)<=16777215||Pu(r)>2147483648?!1:(Z=new Xt(r),Oi=new cr(r),e=new Nr(r),yi=new gs(r),aa=new il(r),new nf(r),br=new _c(r),L0=new Jh(r),vt=r,!0)}function E2(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0;if(!!r){n=r+-8|0,o=e[4516]|0,a=e[r+-4>>2]|0,r=a&-8,f=n+r|0;do if(a&1)b=n,v=r,x=n;else{if(h=e[n>>2]|0,!(a&3)||(c=n+(0-h)|0,g=h+r|0,c>>>0<o>>>0))return;if((e[4517]|0)==(c|0)){if(d=f+4|0,m=e[d>>2]|0,(m&3|0)!=3){b=c,v=g,x=c;break}e[4514]=g,e[d>>2]=m&-2,e[c+4>>2]=g|1,e[c+g>>2]=g;return}if(m=h>>>3,h>>>0<256)if(h=e[c+8>>2]|0,d=e[c+12>>2]|0,(d|0)==(h|0)){e[4512]=e[4512]&~(1<<m),b=c,v=g,x=c;break}else{e[h+12>>2]=d,e[d+8>>2]=h,b=c,v=g,x=c;break}h=e[c+24>>2]|0,d=e[c+12>>2]|0;do if((d|0)==(c|0)){if(m=c+16|0,C=m+4|0,S=e[C>>2]|0,S)D=S,L=C;else if(M=e[m>>2]|0,M)D=M,L=m;else{I=0;break}for(;;){if(C=D+20|0,S=e[C>>2]|0,S|0){D=S,L=C;continue}if(C=D+16|0,S=e[C>>2]|0,S)D=S,L=C;else break}e[L>>2]=0,I=D}else C=e[c+8>>2]|0,e[C+12>>2]=d,e[d+8>>2]=C,I=d;while(0);if(h){if(d=e[c+28>>2]|0,C=18352+(d<<2)|0,(e[C>>2]|0)==(c|0)){if(e[C>>2]=I,!I){e[4513]=e[4513]&~(1<<d),b=c,v=g,x=c;break}}else if(e[h+16+(((e[h+16>>2]|0)!=(c|0)&1)<<2)>>2]=I,!I){b=c,v=g,x=c;break}e[I+24>>2]=h,d=c+16|0,C=e[d>>2]|0,C|0&&(e[I+16>>2]=C,e[C+24>>2]=I),C=e[d+4>>2]|0,C?(e[I+20>>2]=C,e[C+24>>2]=I,b=c,v=g,x=c):(b=c,v=g,x=c)}else b=c,v=g,x=c}while(0);if(!(x>>>0>=f>>>0)&&(n=f+4|0,r=e[n>>2]|0,!!(r&1))){if(r&2)e[n>>2]=r&-2,e[b+4>>2]=v|1,e[x+v>>2]=v,Q=v;else{if((e[4518]|0)==(f|0)){if(I=(e[4515]|0)+v|0,e[4515]=I,e[4518]=b,e[b+4>>2]=I|1,(b|0)!=(e[4517]|0))return;e[4517]=0,e[4514]=0;return}if((e[4517]|0)==(f|0)){I=(e[4514]|0)+v|0,e[4514]=I,e[4517]=x,e[b+4>>2]=I|1,e[x+I>>2]=I;return}I=(r&-8)+v|0,D=r>>>3;do if(r>>>0<256)if(L=e[f+8>>2]|0,o=e[f+12>>2]|0,(o|0)==(L|0)){e[4512]=e[4512]&~(1<<D);break}else{e[L+12>>2]=o,e[o+8>>2]=L;break}else{L=e[f+24>>2]|0,o=e[f+12>>2]|0;do if((o|0)==(f|0)){if(a=f+16|0,C=a+4|0,d=e[C>>2]|0,d)X=d,V=C;else if(S=e[a>>2]|0,S)X=S,V=a;else{N=0;break}for(;;){if(C=X+20|0,d=e[C>>2]|0,d|0){X=d,V=C;continue}if(C=X+16|0,d=e[C>>2]|0,d)X=d,V=C;else break}e[V>>2]=0,N=X}else C=e[f+8>>2]|0,e[C+12>>2]=o,e[o+8>>2]=C,N=o;while(0);if(L|0){if(o=e[f+28>>2]|0,c=18352+(o<<2)|0,(e[c>>2]|0)==(f|0)){if(e[c>>2]=N,!N){e[4513]=e[4513]&~(1<<o);break}}else if(e[L+16+(((e[L+16>>2]|0)!=(f|0)&1)<<2)>>2]=N,!N)break;e[N+24>>2]=L,o=f+16|0,c=e[o>>2]|0,c|0&&(e[N+16>>2]=c,e[c+24>>2]=N),c=e[o+4>>2]|0,c|0&&(e[N+20>>2]=c,e[c+24>>2]=N)}}while(0);if(e[b+4>>2]=I|1,e[x+I>>2]=I,(b|0)==(e[4517]|0)){e[4514]=I;return}else Q=I}if(v=Q>>>3,Q>>>0<256){x=18088+(v<<1<<2)|0,r=e[4512]|0,n=1<<v,r&n?(n=x+8|0,U=e[n>>2]|0,j=n):(e[4512]=r|n,U=x,j=x+8|0),e[j>>2]=b,e[U+12>>2]=b,e[b+8>>2]=U,e[b+12>>2]=x;return}x=Q>>>8,x?Q>>>0>16777215?$=31:(U=(x+1048320|0)>>>16&8,j=x<<U,x=(j+520192|0)>>>16&4,n=j<<x,j=(n+245760|0)>>>16&2,r=14-(x|U|j)+(n<<j>>>15)|0,$=Q>>>(r+7|0)&1|r<<1):$=0,r=18352+($<<2)|0,e[b+28>>2]=$,e[b+20>>2]=0,e[b+16>>2]=0,j=e[4513]|0,n=1<<$;do if(j&n){for(U=Q<<(($|0)==31?0:25-($>>>1)|0),x=e[r>>2]|0;;){if((e[x+4>>2]&-8|0)==(Q|0)){J=73;break}if(F=x+16+(U>>>31<<2)|0,v=e[F>>2]|0,v)U=U<<1,x=v;else{J=72;break}}if((J|0)==72){e[F>>2]=b,e[b+24>>2]=x,e[b+12>>2]=b,e[b+8>>2]=b;break}else if((J|0)==73){U=x+8|0,L=e[U>>2]|0,e[L+12>>2]=b,e[U>>2]=b,e[b+8>>2]=L,e[b+12>>2]=x,e[b+24>>2]=0;break}}else e[4513]=j|n,e[r>>2]=b,e[b+24>>2]=r,e[b+12>>2]=b,e[b+8>>2]=b;while(0);if(b=(e[4520]|0)+-1|0,e[4520]=b,!b)K=18504;else return;for(;b=e[K>>2]|0,b;)K=b+8|0;e[4520]=-1}}}function Qb(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=Ar,F=Ar,K=Ar,re=0,se=0,fe=0,Ee=0;if(o=Z[n+11>>0]|0,a=o<<24>>24<0,f=a?e[n>>2]|0:n,h=a?e[n+4>>2]|0:o&255,h>>>0>3){for(o=f,a=h,c=h;g=_i(yi[o>>0]|yi[o+1>>0]<<8|yi[o+2>>0]<<16|yi[o+3>>0]<<24,1540483477)|0,a=(_i(g>>>24^g,1540483477)|0)^(_i(a,1540483477)|0),c=c+-4|0,!(c>>>0<=3);)o=o+4|0;o=h+-4|0,c=o&-4,d=o-c|0,m=f+(c+4)|0,b=a}else d=h,m=f,b=h;switch(d|0){case 3:{v=yi[m+2>>0]<<16^b,x=6;break}case 2:{v=b,x=6;break}case 1:{C=b,x=7;break}default:S=b}(x|0)==6&&(C=yi[m+1>>0]<<8^v,x=7),(x|0)==7&&(S=_i(C^yi[m>>0],1540483477)|0),m=_i(S>>>13^S,1540483477)|0,S=m>>>15^m,m=r+4|0,C=e[m>>2]|0,v=(C|0)==0;e:do if(v)I=0;else if(b=C+-1|0,d=(b&C|0)==0,d?M=S&b:S>>>0<C>>>0?M=S:M=(S>>>0)%(C>>>0)|0,a=e[(e[r>>2]|0)+(M<<2)>>2]|0,(a|0)!=0&&(c=e[a>>2]|0,(c|0)!=0)){if(a=(h|0)==0,d){if(a){for(d=c;;){if(o=e[d+4>>2]|0,!((o|0)==(S|0)|(o&b|0)==(M|0))){I=M;break e}if(o=Z[d+8+11>>0]|0,!((o<<24>>24<0?e[d+12>>2]|0:o&255)|0)){D=d;break}if(d=e[d>>2]|0,!d){I=M;break e}}return L=D+20|0,L|0}else N=c;t:for(;;){if(d=e[N+4>>2]|0,!((d|0)==(S|0)|(d&b|0)==(M|0))){I=M;break e}d=N+8|0,o=Z[d+11>>0]|0,g=o<<24>>24<0,X=o&255;do if(((g?e[N+12>>2]|0:X)|0)==(h|0)){if(o=e[d>>2]|0,g){if(As(o,f,h)|0)break;D=N,x=63;break t}if((Z[f>>0]|0)==(o&255)<<24>>24){o=d,V=X,Q=f;do{if(V=V+-1|0,o=o+1|0,!V){D=N,x=63;break t}Q=Q+1|0}while((Z[o>>0]|0)==(Z[Q>>0]|0))}}while(0);if(N=e[N>>2]|0,!N){I=M;break e}}if((x|0)==63)return L=D+20|0,L|0}if(a){for(b=c;;){if(X=e[b+4>>2]|0,(X|0)!=(S|0)&&(X>>>0<C>>>0?U=X:U=(X>>>0)%(C>>>0)|0,(U|0)!=(M|0))){I=M;break e}if(X=Z[b+8+11>>0]|0,!((X<<24>>24<0?e[b+12>>2]|0:X&255)|0)){D=b;break}if(b=e[b>>2]|0,!b){I=M;break e}}return L=D+20|0,L|0}else j=c;t:for(;;){if(b=e[j+4>>2]|0,(b|0)!=(S|0)&&(b>>>0<C>>>0?$=b:$=(b>>>0)%(C>>>0)|0,($|0)!=(M|0))){I=M;break e}b=j+8|0,a=Z[b+11>>0]|0,X=a<<24>>24<0,d=a&255;do if(((X?e[j+12>>2]|0:d)|0)==(h|0)){if(a=e[b>>2]|0,X){if(As(a,f,h)|0)break;D=j,x=63;break t}if((Z[f>>0]|0)==(a&255)<<24>>24){a=b,g=d,Q=f;do{if(g=g+-1|0,a=a+1|0,!g){D=j,x=63;break t}Q=Q+1|0}while((Z[a>>0]|0)==(Z[Q>>0]|0))}}while(0);if(j=e[j>>2]|0,!j){I=M;break e}}if((x|0)==63)return L=D+20|0,L|0}else I=M;while(0);M=Dt(24)|0,T0(M+8|0,n),e[M+20>>2]=0,e[M+4>>2]=S,e[M>>2]=0,n=r+12|0,J=qt(((e[n>>2]|0)+1|0)>>>0),F=qt(C>>>0),K=qt(br[r+16>>2]);do if(v|qt(K*F)<J){if(j=C<<1|(C>>>0<3|(C+-1&C|0)!=0)&1,f=~~qt(yr(qt(J/K)))>>>0,Em(r,j>>>0<f>>>0?f:j),j=e[m>>2]|0,f=j+-1|0,!(f&j)){re=j,se=f&S;break}S>>>0<j>>>0?(re=j,se=S):(re=j,se=(S>>>0)%(j>>>0)|0)}else re=C,se=I;while(0);return I=(e[r>>2]|0)+(se<<2)|0,se=e[I>>2]|0,se?(e[M>>2]=e[se>>2],Ee=se,x=61):(C=r+8|0,e[M>>2]=e[C>>2],e[C>>2]=M,e[I>>2]=C,C=e[M>>2]|0,C|0&&(I=e[C+4>>2]|0,C=re+-1|0,C&re?I>>>0<re>>>0?fe=I:fe=(I>>>0)%(re>>>0)|0:fe=I&C,Ee=(e[r>>2]|0)+(fe<<2)|0,x=61)),(x|0)==61&&(e[Ee>>2]=M),e[n>>2]=(e[n>>2]|0)+1,D=M,L=D+20|0,L|0}function W1(r,n,o,a,f){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0;var h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0;h=r+4|0,c=e[h>>2]|0,g=r+100|0,c>>>0<(e[g>>2]|0)>>>0?(e[h>>2]=c+1,d=yi[c>>0]|0,m=0):(d=io(r)|0,m=0);e:for(;;){switch(d|0){case 46:{b=8;break e}case 48:break;default:{v=0,x=0,C=1,S=0,M=0,I=d,D=m,L=0,N=0,X=0,V=0;break e}}if(c=e[h>>2]|0,c>>>0<(e[g>>2]|0)>>>0){e[h>>2]=c+1,d=yi[c>>0]|0,m=1;continue}else{d=io(r)|0,m=1;continue}}if((b|0)==8)if(d=e[h>>2]|0,d>>>0<(e[g>>2]|0)>>>0?(e[h>>2]=d+1,Q=yi[d>>0]|0):Q=io(r)|0,(Q|0)==48)for(d=0,c=0;;)if(U=e[h>>2]|0,U>>>0<(e[g>>2]|0)>>>0?(e[h>>2]=U+1,j=yi[U>>0]|0):j=io(r)|0,U=Wt(d|0,c|0,-1,-1)|0,$=Xe,(j|0)==48)d=U,c=$;else{v=1,x=0,C=1,S=0,M=0,I=j,D=1,L=0,N=0,X=U,V=$;break}else v=1,x=0,C=1,S=0,M=0,I=Q,D=m,L=0,N=0,X=0,V=0;for(;;){if(m=I+-48|0,Q=I|32,m>>>0>=10){if(j=(I|0)==46,!(j|(Q+-97|0)>>>0<6)){J=I;break}if(j)if(!v)F=1,K=x,re=C,se=S,fe=M,Ee=D,Ne=N,me=L,Ie=N,_e=L;else{J=46;break}else b=20}else b=20;if((b|0)==20){b=0,j=(I|0)>57?Q+-87|0:m;do if((L|0)<0|(L|0)==0&N>>>0<8)We=x,at=C,Ke=S,Ve=j+(M<<4)|0;else if((L|0)<0|(L|0)==0&N>>>0<14){Ce=C*.0625,We=x,at=Ce,Ke=S+Ce*+(j|0),Ve=M;break}else{m=(x|0)!=0|(j|0)==0,We=m?x:1,at=C,Ke=m?S:S+C*.5,Ve=M;break}while(0);j=Wt(N|0,L|0,1,0)|0,F=v,K=We,re=at,se=Ke,fe=Ve,Ee=1,Ne=X,me=V,Ie=j,_e=Xe}if(j=e[h>>2]|0,j>>>0<(e[g>>2]|0)>>>0){e[h>>2]=j+1,v=F,x=K,C=re,S=se,M=fe,I=yi[j>>0]|0,D=Ee,L=_e,N=Ie,X=Ne,V=me;continue}else{v=F,x=K,C=re,S=se,M=fe,I=io(r)|0,D=Ee,L=_e,N=Ie,X=Ne,V=me;continue}}do if(!D)me=(e[g>>2]|0)==0,me||(e[h>>2]=(e[h>>2]|0)+-1),f?(me||(e[h>>2]=(e[h>>2]|0)+-1),(v|0)==0|me||(e[h>>2]=(e[h>>2]|0)+-1)):dd(r,0),Ue=+(a|0)*0;else{if(me=(v|0)==0,Ne=me?N:X,Ie=me?L:V,(L|0)<0|(L|0)==0&N>>>0<8)for(me=M,_e=N,Ee=L;;)if(I=me<<4,fe=_e,_e=Wt(_e|0,Ee|0,1,0)|0,(Ee|0)<0|(Ee|0)==0&fe>>>0<7)me=I,Ee=Xe;else{st=I;break}else st=M;if((J|32|0)==112)if(Ee=od(r,f)|0,me=Xe,(Ee|0)==0&(me|0)==-2147483648){if(!f){dd(r,0),Ue=0;break}e[g>>2]|0?(e[h>>2]=(e[h>>2]|0)+-1,Qe=0,it=0):(Qe=0,it=0)}else Qe=Ee,it=me;else e[g>>2]|0?(e[h>>2]=(e[h>>2]|0)+-1,Qe=0,it=0):(Qe=0,it=0);if(me=$n(Ne|0,Ie|0,2)|0,Ee=Wt(me|0,Xe|0,-32,-1)|0,me=Wt(Ee|0,Xe|0,Qe|0,it|0)|0,Ee=Xe,!st){Ue=+(a|0)*0;break}if(_e=0-o|0,I=((_e|0)<0)<<31>>31,(Ee|0)>(I|0)|(Ee|0)==(I|0)&me>>>0>_e>>>0){_e=fa()|0,e[_e>>2]=34,Ue=+(a|0)*17976931348623157e292*17976931348623157e292;break}if(_e=o+-106|0,I=((_e|0)<0)<<31>>31,(Ee|0)<(I|0)|(Ee|0)==(I|0)&me>>>0<_e>>>0){_e=fa()|0,e[_e>>2]=34,Ue=+(a|0)*22250738585072014e-324*22250738585072014e-324;break}if((st|0)>-1)for(se=S,_e=st,I=me,fe=Ee;;)if(K=!(se>=.5),x=_e<<1|(K^1)&1,re=se+(K?se:se+-1),K=Wt(I|0,fe|0,-1,-1)|0,F=Xe,(x|0)>-1)se=re,_e=x,I=K,fe=F;else{ze=re,Ge=x,ke=K,ut=F;break}else ze=S,Ge=st,ke=me,ut=Ee;fe=((n|0)<0)<<31>>31,I=Gr(32,0,o|0,((o|0)<0)<<31>>31|0)|0,_e=Wt(I|0,Xe|0,ke|0,ut|0)|0,I=Xe,(I|0)<(fe|0)|(I|0)==(fe|0)&_e>>>0<n>>>0?(_e|0)>0?(et=_e,b=59):(ot=0,Rt=84,b=61):(et=n,b=59),(b|0)==59&&((et|0)<53?(ot=et,Rt=84-et|0,b=61):(Nt=0,At=et,Vt=+(a|0))),(b|0)==61&&(se=+(a|0),Nt=+wC(+Ny(1,Rt),se),At=ot,Vt=se),_e=(Ge&1|0)==0&(ze!=0&(At|0)<32),se=(_e?0:ze)*Vt+(Nt+Vt*+((Ge+(_e&1)|0)>>>0))-Nt,se==0&&(_e=fa()|0,e[_e>>2]=34),Ue=+xC(se,ke)}while(0);return+Ue}function Q1(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0;if(f=q,q=q+16|0,h=f+4|0,c=f,!(VD(r,o)|0))return g=0,q=f,g|0;if(o=r+84|0,d=e[o>>2]|0,m=r+88|0,b=e[m>>2]|0,(b|0)!=(d|0)&&(e[m>>2]=b+(~((b+-4-d|0)>>>2)<<2)),e[o>>2]=0,e[m>>2]=0,e[r+92>>2]=0,d|0&&ve(d),d=r+72|0,m=e[d>>2]|0,o=r+76|0,(e[o>>2]|0)!=(m|0)&&(e[o>>2]=m),e[d>>2]=0,e[o>>2]=0,e[r+80>>2]=0,m|0&&ve(m),m=r+64|0,o=e[m>>2]|0,(e[o+4>>2]|0)!=(e[o>>2]|0)){d=r+12|0,b=a+84|0,v=a+68|0,x=n+96|0,C=r+24|0,S=0,M=o;do{e[c>>2]=(S>>>0)/3|0,e[h>>2]=e[c>>2],o=Ly(M,h)|0,M=e[m>>2]|0;do if(!o){if(I=e[(e[M+12>>2]|0)+(S<<2)>>2]|0,(I|0)==-1){D=(e[r>>2]|0)+(S>>>5<<2)|0,e[D>>2]=e[D>>2]|1<<(S&31),D=S+1|0,L=((D>>>0)%3|0|0)==0?S+-2|0:D,(L|0)==-1?N=-1:N=e[(e[M>>2]|0)+(L<<2)>>2]|0,L=(e[d>>2]|0)+(N>>>5<<2)|0,e[L>>2]=e[L>>2]|1<<(N&31),L=(((S>>>0)%3|0|0)==0?2:-1)+S|0,(L|0)==-1?X=-1:X=e[(e[M>>2]|0)+(L<<2)>>2]|0,L=(e[d>>2]|0)+(X>>>5<<2)|0,e[L>>2]=e[L>>2]|1<<(X&31);break}if(I>>>0>=S>>>0){if(L=S+1|0,D=((L>>>0)%3|0|0)==0?S+-2|0:L,V=I+(((I>>>0)%3|0|0)==0?2:-1)|0,Q=(D|0)==-1,Z[b>>0]|0){if(Q?Ee=-1:Ee=e[(e[x>>2]|0)+(((D|0)/3|0)*12|0)+(((D|0)%3|0)<<2)>>2]|0,j=(V|0)==-1,j?Ne=-1:Ne=e[(e[x>>2]|0)+(((V|0)/3|0)*12|0)+(((V|0)%3|0)<<2)>>2]|0,(Ee|0)==(Ne|0)){F=D+1|0,Q?me=-1:me=((F>>>0)%3|0|0)==0?D+-2|0:F;do if(j)Ie=-1;else if((V>>>0)%3|0){Ie=V+-1|0;break}else{Ie=V+2|0;break}while(0);if((me|0)==-1?_e=-1:_e=e[(e[x>>2]|0)+(((me|0)/3|0)*12|0)+(((me|0)%3|0)<<2)>>2]|0,(Ie|0)==-1?Ce=-1:Ce=e[(e[x>>2]|0)+(((Ie|0)/3|0)*12|0)+(((Ie|0)%3|0)<<2)>>2]|0,(_e|0)==(Ce|0))break}}else if(Q?U=-1:U=e[(e[x>>2]|0)+(((D|0)/3|0)*12|0)+(((D|0)%3|0)<<2)>>2]|0,j=(V|0)==-1,j?$=-1:$=e[(e[x>>2]|0)+(((V|0)/3|0)*12|0)+(((V|0)%3|0)<<2)>>2]|0,J=e[v>>2]|0,(e[J+(U<<2)>>2]|0)==(e[J+($<<2)>>2]|0)){F=D+1|0,Q?K=-1:K=((F>>>0)%3|0|0)==0?D+-2|0:F;do if(j)re=-1;else if((V>>>0)%3|0){re=V+-1|0;break}else{re=V+2|0;break}while(0);if((K|0)==-1?se=-1:se=e[(e[x>>2]|0)+(((K|0)/3|0)*12|0)+(((K|0)%3|0)<<2)>>2]|0,(re|0)==-1?fe=-1:fe=e[(e[x>>2]|0)+(((re|0)/3|0)*12|0)+(((re|0)%3|0)<<2)>>2]|0,(e[J+(se<<2)>>2]|0)==(e[J+(fe<<2)>>2]|0))break}Z[C>>0]=0,V=e[r>>2]|0,j=V+(S>>>5<<2)|0,e[j>>2]=e[j>>2]|1<<(S&31),j=V+(I>>>5<<2)|0,e[j>>2]=e[j>>2]|1<<(I&31),j=((L>>>0)%3|0|0)==0?S+-2|0:L,(j|0)==-1?We=-1:We=e[(e[M>>2]|0)+(j<<2)>>2]|0,j=(e[d>>2]|0)+(We>>>5<<2)|0,e[j>>2]=e[j>>2]|1<<(We&31),j=(((S>>>0)%3|0|0)==0?2:-1)+S|0,(j|0)==-1?at=-1:at=e[(e[M>>2]|0)+(j<<2)>>2]|0,j=(e[d>>2]|0)+(at>>>5<<2)|0,e[j>>2]=e[j>>2]|1<<(at&31),j=I+1|0,V=((j>>>0)%3|0|0)==0?I+-2|0:j,(V|0)==-1?Ke=-1:Ke=e[(e[M>>2]|0)+(V<<2)>>2]|0,V=(e[d>>2]|0)+(Ke>>>5<<2)|0,e[V>>2]=e[V>>2]|1<<(Ke&31),V=(((I>>>0)%3|0|0)==0?2:-1)+I|0,(V|0)==-1?Ve=-1:Ve=e[(e[M>>2]|0)+(V<<2)>>2]|0,V=(e[d>>2]|0)+(Ve>>>5<<2)|0,e[V>>2]=e[V>>2]|1<<(Ve&31)}}while(0);S=S+1|0}while(S>>>0<(e[M+4>>2]|0)-(e[M>>2]|0)>>2>>>0)}return(n|0)!=0&(a|0)!=0?(Wf(r,n,a),g=1,q=f,g|0):(f6(r,0,0),g=1,q=f,g|0)}function qh(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0;a=q,q=q+32|0,f=a+12|0,h=a+8|0,c=a+4|0,g=a,d=r+8|0;e:do if(e[d>>2]|0&&(m=e[r>>2]|0,b=r+4|0,e[r>>2]=b,e[(e[b>>2]|0)+8>>2]=0,e[b>>2]=0,e[d>>2]=0,v=e[m+4>>2]|0,x=(v|0)==0?m:v,x|0)){for(v=r+4|0,m=x,x=e[n>>2]|0;(x|0)!=(e[o>>2]|0);){C=m+16|0,e[C>>2]=e[x+16>>2],(m|0)!=(x|0)&&(e[c>>2]=e[x+20>>2],e[g>>2]=x+24,e[h>>2]=e[c>>2],e[f>>2]=e[g>>2],uo(m+20|0,h,f)),S=m+8|0,M=e[S>>2]|0;do if(M)if(I=e[M>>2]|0,(I|0)==(m|0)){if(e[M>>2]=0,D=e[M+4>>2]|0,D)N=D;else{L=M;break}for(;;){if(D=e[N>>2]|0,D|0){N=D;continue}if(D=e[N+4>>2]|0,D)N=D;else break}L=N;break}else{if(e[M+4>>2]=0,I)X=I;else{L=M;break}for(;;){if(D=e[X>>2]|0,D|0){X=D;continue}if(D=e[X+4>>2]|0,D)X=D;else break}L=X;break}else L=0;while(0);M=e[b>>2]|0;do if(M){for(I=e[C>>2]|0,D=M;;){if((I|0)<(e[D+16>>2]|0))if(V=e[D>>2]|0,V)U=V;else{Q=22;break}else if(j=D+4|0,V=e[j>>2]|0,V)U=V;else{Q=25;break}D=U}if((Q|0)==22){Q=0,$=D,J=D;break}else if((Q|0)==25){Q=0,$=D,J=j;break}}else $=b,J=b;while(0);if(e[m>>2]=0,e[m+4>>2]=0,e[S>>2]=$,e[J>>2]=m,M=e[e[r>>2]>>2]|0,M?(e[r>>2]=M,F=e[J>>2]|0):F=m,af(e[v>>2]|0,F),e[d>>2]=(e[d>>2]|0)+1,M=e[x+4>>2]|0,M){for(I=M;S=e[I>>2]|0,S;)I=S;K=I}else if(C=x+8|0,I=e[C>>2]|0,(e[I>>2]|0)==(x|0))K=I;else{I=C;do C=e[I>>2]|0,I=C+8|0,V=e[I>>2]|0;while((e[V>>2]|0)!=(C|0));K=V}if(e[n>>2]=K,L)m=L,x=K;else break e}if(x=e[m+8>>2]|0,!x)re=m;else{for(v=x;x=e[v+8>>2]|0,x;)v=x;re=v}ju(r,re)}while(0);if(re=e[n>>2]|0,K=e[o>>2]|0,(re|0)==(K|0)){q=a;return}for(o=r+4|0,L=r+4|0,F=re;;){ys(f,r,F+16|0),re=e[o>>2]|0;do if(re){for(J=e[f>>2]|0,$=e[J+16>>2]|0,j=re;;){if(($|0)<(e[j+16>>2]|0))if(U=e[j>>2]|0,U)se=U;else{Q=43;break}else if(fe=j+4|0,U=e[fe>>2]|0,U)se=U;else{Q=46;break}j=se}if((Q|0)==43){Q=0,Ee=j,Ne=j,me=J;break}else if((Q|0)==46){Q=0,Ee=j,Ne=fe,me=J;break}}else Ee=o,Ne=o,me=e[f>>2]|0;while(0);if(e[me>>2]=0,e[me+4>>2]=0,e[me+8>>2]=Ee,e[Ne>>2]=me,re=e[e[r>>2]>>2]|0,re?(e[r>>2]=re,Ie=e[Ne>>2]|0):Ie=me,af(e[L>>2]|0,Ie),e[d>>2]=(e[d>>2]|0)+1,re=e[F+4>>2]|0,re){for($=re;I=e[$>>2]|0,I;)$=I;_e=$}else if(v=F+8|0,$=e[v>>2]|0,(e[$>>2]|0)==(F|0))_e=$;else{$=v;do v=e[$>>2]|0,$=v+8|0,I=e[$>>2]|0;while((e[I>>2]|0)!=(v|0));_e=I}if(e[n>>2]=_e,(_e|0)==(K|0))break;F=_e}q=a}function r6(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0;h=r+8|0,hd(h,n,a,f),a=f>>>0>1073741823?-1:f<<2,c=Fl(a)|0,Mi(c|0,0,a|0)|0,a=e[r+48>>2]|0,g=e[r+56>>2]|0,d=e[g>>2]|0,m=(e[g+4>>2]|0)-d|0,b=m>>2;e:do if((m|0)>4){for(v=e[r+52>>2]|0,x=r+16|0,C=r+32|0,S=r+12|0,M=r+28|0,I=r+20|0,D=r+24|0,L=a+12|0,N=(f|0)>0,X=d,V=b;Q=V,V=V+-1|0,!(b>>>0<=V>>>0);){if(U=e[X+(V<<2)>>2]|0,j=_i(V,f)|0,(U|0)!=-1&&($=e[(e[L>>2]|0)+(U<<2)>>2]|0,($|0)!=-1))if(U=e[a>>2]|0,J=e[v>>2]|0,F=e[J+(e[U+($<<2)>>2]<<2)>>2]|0,K=$+1|0,re=((K>>>0)%3|0|0)==0?$+-2|0:K,(re|0)==-1?se=-1:se=e[U+(re<<2)>>2]|0,re=e[J+(se<<2)>>2]|0,K=((($>>>0)%3|0|0)==0?2:-1)+$|0,(K|0)==-1?fe=-1:fe=e[U+(K<<2)>>2]|0,K=e[J+(fe<<2)>>2]|0,(F|0)<(V|0)&(re|0)<(V|0)&(K|0)<(V|0)){if(J=_i(F,f)|0,F=_i(re,f)|0,re=_i(K,f)|0,N){K=0;do e[c+(K<<2)>>2]=(e[n+(K+re<<2)>>2]|0)+(e[n+(K+F<<2)>>2]|0)-(e[n+(K+J<<2)>>2]|0),K=K+1|0;while((K|0)!=(f|0))}if(K=n+(j<<2)|0,J=o+(j<<2)|0,F=e[h>>2]|0,(F|0)>0)for(re=0,U=c,$=F;;){if(($|0)>0){F=0;do Ee=e[U+(F<<2)>>2]|0,Ne=e[x>>2]|0,(Ee|0)>(Ne|0)?(me=e[C>>2]|0,e[me+(F<<2)>>2]=Ne,Ie=me):(me=e[S>>2]|0,Ne=e[C>>2]|0,e[Ne+(F<<2)>>2]=(Ee|0)<(me|0)?me:Ee,Ie=Ne),F=F+1|0;while((F|0)<(e[h>>2]|0));_e=Ie}else _e=e[C>>2]|0;if(F=(e[K+(re<<2)>>2]|0)-(e[_e+(re<<2)>>2]|0)|0,Ne=J+(re<<2)|0,e[Ne>>2]=F,(F|0)>=(e[M>>2]|0)?(F|0)>(e[D>>2]|0)&&(Ce=F-(e[I>>2]|0)|0,We=42):(Ce=(e[I>>2]|0)+F|0,We=42),(We|0)==42&&(We=0,e[Ne>>2]=Ce),re=re+1|0,$=e[h>>2]|0,(re|0)>=($|0))break;U=_e}}else We=16;else We=16;if((We|0)==16&&(We=0,U=n+(j<<2)|0,$=o+(j<<2)|0,re=e[h>>2]|0,(re|0)>0))for(J=0,K=n+((_i(Q+-2|0,f)|0)<<2)|0,Ne=re;;){if((Ne|0)>0){re=0;do F=e[K+(re<<2)>>2]|0,Ee=e[x>>2]|0,(F|0)>(Ee|0)?(me=e[C>>2]|0,e[me+(re<<2)>>2]=Ee,at=me):(me=e[S>>2]|0,Ee=e[C>>2]|0,e[Ee+(re<<2)>>2]=(F|0)<(me|0)?me:F,at=Ee),re=re+1|0;while((re|0)<(e[h>>2]|0));Ke=at}else Ke=e[C>>2]|0;if(re=(e[U+(J<<2)>>2]|0)-(e[Ke+(J<<2)>>2]|0)|0,Ee=$+(J<<2)|0,e[Ee>>2]=re,(re|0)>=(e[M>>2]|0)?(re|0)>(e[D>>2]|0)&&(Ve=re-(e[I>>2]|0)|0,We=29):(Ve=(e[I>>2]|0)+re|0,We=29),(We|0)==29&&(We=0,e[Ee>>2]=Ve),J=J+1|0,Ne=e[h>>2]|0,(J|0)>=(Ne|0))break;K=Ke}if((Q|0)<=2)break e}Je()}while(0);if((f|0)>0&&Mi(c|0,0,f<<2|0)|0,f=e[h>>2]|0,(f|0)<=0)return N0(c),1;for(g=r+16|0,Ke=r+32|0,Ve=r+12|0,at=r+28|0,_e=r+20|0,Ce=r+24|0,r=0,Ie=c,fe=f;;){if((fe|0)>0){f=0;do se=e[Ie+(f<<2)>>2]|0,a=e[g>>2]|0,(se|0)>(a|0)?(b=e[Ke>>2]|0,e[b+(f<<2)>>2]=a,Ue=b):(b=e[Ve>>2]|0,a=e[Ke>>2]|0,e[a+(f<<2)>>2]=(se|0)<(b|0)?b:se,Ue=a),f=f+1|0;while((f|0)<(e[h>>2]|0));st=Ue}else st=e[Ke>>2]|0;if(f=(e[n+(r<<2)>>2]|0)-(e[st+(r<<2)>>2]|0)|0,a=o+(r<<2)|0,e[a>>2]=f,(f|0)>=(e[at>>2]|0)?(f|0)>(e[Ce>>2]|0)&&(Qe=f-(e[_e>>2]|0)|0,We=56):(Qe=(e[_e>>2]|0)+f|0,We=56),(We|0)==56&&(We=0,e[a>>2]=Qe),r=r+1|0,fe=e[h>>2]|0,(r|0)>=(fe|0))break;Ie=st}return N0(c),1}function _2(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0;h=r+8|0,hd(h,n,a,f),a=f>>>0>1073741823?-1:f<<2,c=Fl(a)|0,Mi(c|0,0,a|0)|0,a=e[r+48>>2]|0,g=e[r+56>>2]|0,d=e[g>>2]|0,m=(e[g+4>>2]|0)-d|0,b=m>>2;e:do if((m|0)>4){for(v=e[r+52>>2]|0,x=r+16|0,C=r+32|0,S=r+12|0,M=r+28|0,I=r+20|0,D=r+24|0,L=a+64|0,N=a+28|0,X=(f|0)>0,V=d,Q=b;U=Q,Q=Q+-1|0,!(b>>>0<=Q>>>0);){if(j=e[V+(Q<<2)>>2]|0,$=_i(Q,f)|0,(j|0)!=-1&&(e[(e[a>>2]|0)+(j>>>5<<2)>>2]&1<<(j&31)|0)==0&&(J=e[(e[(e[L>>2]|0)+12>>2]|0)+(j<<2)>>2]|0,(J|0)!=-1)&&(j=e[N>>2]|0,F=e[v>>2]|0,K=e[F+(e[j+(J<<2)>>2]<<2)>>2]|0,re=J+1|0,se=e[F+(e[j+((((re>>>0)%3|0|0)==0?J+-2|0:re)<<2)>>2]<<2)>>2]|0,re=e[F+(e[j+((((J>>>0)%3|0|0)==0?2:-1)+J<<2)>>2]<<2)>>2]|0,(K|0)<(Q|0)&(se|0)<(Q|0)&(re|0)<(Q|0))){if(J=_i(K,f)|0,K=_i(se,f)|0,se=_i(re,f)|0,X){re=0;do e[c+(re<<2)>>2]=(e[n+(re+se<<2)>>2]|0)+(e[n+(re+K<<2)>>2]|0)-(e[n+(re+J<<2)>>2]|0),re=re+1|0;while((re|0)!=(f|0))}if(re=n+($<<2)|0,J=o+($<<2)|0,K=e[h>>2]|0,(K|0)>0)for(se=0,j=c,F=K;;){if((F|0)>0){K=0;do fe=e[j+(K<<2)>>2]|0,Ee=e[x>>2]|0,(fe|0)>(Ee|0)?(Ne=e[C>>2]|0,e[Ne+(K<<2)>>2]=Ee,me=Ne):(Ne=e[S>>2]|0,Ee=e[C>>2]|0,e[Ee+(K<<2)>>2]=(fe|0)<(Ne|0)?Ne:fe,me=Ee),K=K+1|0;while((K|0)<(e[h>>2]|0));Ie=me}else Ie=e[C>>2]|0;if(K=(e[re+(se<<2)>>2]|0)-(e[Ie+(se<<2)>>2]|0)|0,Ee=J+(se<<2)|0,e[Ee>>2]=K,(K|0)>=(e[M>>2]|0)?(K|0)>(e[D>>2]|0)&&(_e=K-(e[I>>2]|0)|0,Ce=39):(_e=(e[I>>2]|0)+K|0,Ce=39),(Ce|0)==39&&(Ce=0,e[Ee>>2]=_e),se=se+1|0,F=e[h>>2]|0,(se|0)>=(F|0))break;j=Ie}}else Ce=13;if((Ce|0)==13&&(Ce=0,j=n+($<<2)|0,F=o+($<<2)|0,se=e[h>>2]|0,(se|0)>0))for(J=0,re=n+((_i(U+-2|0,f)|0)<<2)|0,Ee=se;;){if((Ee|0)>0){se=0;do K=e[re+(se<<2)>>2]|0,fe=e[x>>2]|0,(K|0)>(fe|0)?(Ne=e[C>>2]|0,e[Ne+(se<<2)>>2]=fe,We=Ne):(Ne=e[S>>2]|0,fe=e[C>>2]|0,e[fe+(se<<2)>>2]=(K|0)<(Ne|0)?Ne:K,We=fe),se=se+1|0;while((se|0)<(e[h>>2]|0));at=We}else at=e[C>>2]|0;if(se=(e[j+(J<<2)>>2]|0)-(e[at+(J<<2)>>2]|0)|0,fe=F+(J<<2)|0,e[fe>>2]=se,(se|0)>=(e[M>>2]|0)?(se|0)>(e[D>>2]|0)&&(Ke=se-(e[I>>2]|0)|0,Ce=26):(Ke=(e[I>>2]|0)+se|0,Ce=26),(Ce|0)==26&&(Ce=0,e[fe>>2]=Ke),J=J+1|0,Ee=e[h>>2]|0,(J|0)>=(Ee|0))break;re=at}if((U|0)<=2)break e}Je()}while(0);if((f|0)>0&&Mi(c|0,0,f<<2|0)|0,f=e[h>>2]|0,(f|0)<=0)return N0(c),1;for(g=r+16|0,at=r+32|0,Ke=r+12|0,We=r+28|0,Ie=r+20|0,_e=r+24|0,r=0,me=c,a=f;;){if((a|0)>0){f=0;do b=e[me+(f<<2)>>2]|0,d=e[g>>2]|0,(b|0)>(d|0)?(m=e[at>>2]|0,e[m+(f<<2)>>2]=d,Ve=m):(m=e[Ke>>2]|0,d=e[at>>2]|0,e[d+(f<<2)>>2]=(b|0)<(m|0)?m:b,Ve=d),f=f+1|0;while((f|0)<(e[h>>2]|0));Ue=Ve}else Ue=e[at>>2]|0;if(f=(e[n+(r<<2)>>2]|0)-(e[Ue+(r<<2)>>2]|0)|0,d=o+(r<<2)|0,e[d>>2]=f,(f|0)>=(e[We>>2]|0)?(f|0)>(e[_e>>2]|0)&&(st=f-(e[Ie>>2]|0)|0,Ce=53):(st=(e[Ie>>2]|0)+f|0,Ce=53),(Ce|0)==53&&(Ce=0,e[d>>2]=st),r=r+1|0,a=e[h>>2]|0,(r|0)>=(a|0))break;me=Ue}return N0(c),1}function nl(r,n,o,a,f){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0;var h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0;if(h=q,q=q+48|0,c=h+28|0,g=h+24|0,d=h,m=h+12|0,b=h+40|0,(n|0)<0)return v=0,q=h,v|0;if(!n)return v=1,q=h,v|0;if(x=(o|0)>1,C=x?o:1,e[d>>2]=0,o=d+4|0,e[o>>2]=0,e[d+8>>2]=0,al(d,n),S=d+8|0,x)for(x=0,M=0;;){I=1,D=e[r+(M<<2)>>2]|0;do L=e[r+(I+M<<2)>>2]|0,D=D>>>0<L>>>0?L:D,I=I+1|0;while((I|0)!=(C|0));if(I=(S0(D|0)|0)^31,L=D>>>0>x>>>0?D:x,N=(D|0)==0?1:I+1|0,e[c>>2]=N,I=e[o>>2]|0,I>>>0<(e[S>>2]|0)>>>0?(e[I>>2]=N,e[o>>2]=I+4):pr(d,c),M=M+C|0,(M|0)>=(n|0)){X=L;break}else x=L}else for(x=0,M=0;;)if(L=e[r+(x<<2)>>2]|0,I=(S0(L|0)|0)^31,N=L>>>0>M>>>0?L:M,V=(L|0)==0?1:I+1|0,e[c>>2]=V,I=e[o>>2]|0,I>>>0<(e[S>>2]|0)>>>0?(e[I>>2]=V,e[o>>2]=I+4):pr(d,c),x=x+C|0,(x|0)>=(n|0)){X=N;break}else M=N;if(e[m>>2]=0,M=m+4|0,e[M>>2]=0,e[m+8>>2]=0,x=e[d>>2]|0,S=(e[o>>2]|0)-x|0,N=S>>2,N)if(N>>>0>1073741823&&Je(),I=Dt(S)|0,e[M>>2]=I,e[m>>2]=I,e[m+8>>2]=I+(N<<2),N=I,(S|0)>0)if(V=I+(S>>>2<<2)|0,Fr(I|0,x|0,S|0)|0,e[M>>2]=V,S=V-N>>2,(V|0)==(I|0))Q=S,U=I,j=0,$=0;else for(V=0,x=0,L=0;;)if(J=Wt(x|0,L|0,e[I+(V<<2)>>2]|0,0)|0,F=Xe,V=V+1|0,V>>>0>=S>>>0){Q=S,U=I,j=J,$=F;break}else x=J,L=F;else K=N,re=18;else K=0,re=18;if((re|0)==18&&(Q=0,U=K,j=0,$=0),K=Ps(U,Q,32,c)|0,Q=Xe,U=e[c>>2]<<3,N=$n(U|0,((U|0)<0)<<31>>31|0,1)|0,U=Xe,L=zi(j|0,$|0,C|0,0)|0,$=Wt(K|0,Q|0,L|0,Xe|0)|0,L=Wt($|0,Xe|0,N|0,U|0)|0,U=Xe,N=e[m>>2]|0,N|0&&(m=e[M>>2]|0,(m|0)!=(N|0)&&(e[M>>2]=m+(~((m+-4-N|0)>>>2)<<2)),ve(N)),N=Ps(r,n,X,c)|0,m=e[c>>2]|0,M=((X-m|0)/64|0)+m<<3,$=m<<3,Q=Wt(N|0,Xe|0,$|0,(($|0)<0)<<31>>31|0)|0,$=Wt(Q|0,Xe|0,M|0,((M|0)<0)<<31>>31|0)|0,M=Xe,Q=(S0((X>>>0>1?X:1)|0)|0)^30,a){e[c>>2]=0,e[c+4>>2]=0,e[c+8>>2]=0,N=Dt(32)|0,e[c>>2]=N,e[c+8>>2]=-2147483616,e[c+4>>2]=22,K=N,j=13044,x=K+22|0;do Z[K>>0]=Z[j>>0]|0,K=K+1|0,j=j+1|0;while((K|0)<(x|0));if(Z[N+22>>0]=0,N=(mo(a,c)|0)==0,(Z[c+11>>0]|0)<0&&ve(e[c>>2]|0),N)re=32;else{e[c>>2]=0,e[c+4>>2]=0,e[c+8>>2]=0,N=Dt(32)|0,e[c>>2]=N,e[c+8>>2]=-2147483616,e[c+4>>2]=22,K=N,j=13044,x=K+22|0;do Z[K>>0]=Z[j>>0]|0,K=K+1|0,j=j+1|0;while((K|0)<(x|0));Z[N+22>>0]=0,N=yk(a,c)|0,(Z[c+11>>0]|0)<0&&ve(e[c>>2]|0),se=N}}else re=32;switch((re|0)==32&&(se=Q>>>0<18&((U|0)>(M|0)|(U|0)==(M|0)&L>>>0>=$>>>0)&1),Z[b>>0]=se,$=f+16|0,L=e[$+4>>2]|0,(L|0)>0|(L|0)==0&(e[$>>2]|0)>>>0>0||(e[g>>2]=e[f+4>>2],e[c>>2]=e[g>>2],vr(f,c,b,b+1|0)|0),se|0){case 0:{fe=$1(r,n,C,d,f)|0;break}case 1:{fe=X1(r,n,X,m,a,f)|0;break}default:fe=0}return f=e[d>>2]|0,f|0&&(d=e[o>>2]|0,(d|0)!=(f|0)&&(e[o>>2]=d+(~((d+-4-f|0)>>>2)<<2)),ve(f)),v=fe,q=h,v|0}function J1(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0;if((n|0)<0||(o=r+12|0,a=e[o>>2]|0,f=e[r+8>>2]|0,h=f,c=a,a-f>>2>>>0<=n>>>0))return;if(f=h+(n<<2)|0,a=e[(e[f>>2]|0)+56>>2]|0,g=e[(e[h+(n<<2)>>2]|0)+60>>2]|0,h=f+4|0,(h|0)!=(c|0)){d=h,h=f;do m=e[d>>2]|0,e[d>>2]=0,b=e[h>>2]|0,e[h>>2]=m,b|0&&(m=b+88|0,v=e[m>>2]|0,e[m>>2]=0,v|0&&(m=e[v+8>>2]|0,m|0&&(x=v+12|0,(e[x>>2]|0)!=(m|0)&&(e[x>>2]=m),ve(m)),ve(v)),v=e[b+68>>2]|0,v|0&&(m=b+72|0,x=e[m>>2]|0,(x|0)!=(v|0)&&(e[m>>2]=x+(~((x+-4-v|0)>>>2)<<2)),ve(v)),v=b+64|0,x=e[v>>2]|0,e[v>>2]=0,x|0&&(v=e[x>>2]|0,v|0&&(m=x+4|0,(e[m>>2]|0)!=(v|0)&&(e[m>>2]=v),ve(v)),ve(x)),ve(b)),d=d+4|0,h=h+4|0;while((d|0)!=(c|0));d=e[o>>2]|0,(d|0)!=(h|0)&&(C=h,S=d,M=24)}else C=f,S=c,M=24;if((M|0)==24){M=S;do S=M+-4|0,e[o>>2]=S,c=e[S>>2]|0,e[S>>2]=0,c|0&&(S=c+88|0,f=e[S>>2]|0,e[S>>2]=0,f|0&&(S=e[f+8>>2]|0,S|0&&(d=f+12|0,(e[d>>2]|0)!=(S|0)&&(e[d>>2]=S),ve(S)),ve(f)),f=e[c+68>>2]|0,f|0&&(S=c+72|0,d=e[S>>2]|0,(d|0)!=(f|0)&&(e[S>>2]=d+(~((d+-4-f|0)>>>2)<<2)),ve(f)),f=c+64|0,d=e[f>>2]|0,e[f>>2]=0,d|0&&(f=e[d>>2]|0,f|0&&(S=d+4|0,(e[S>>2]|0)!=(f|0)&&(e[S>>2]=f),ve(f)),ve(d)),ve(c)),M=e[o>>2]|0;while((M|0)!=(C|0))}C=e[r+4>>2]|0;e:do if(C|0){for(M=C+44|0,o=e[M>>2]|0,c=e[C+40>>2]|0;;){if((c|0)==(o|0))break e;if(I=c+4|0,(e[(e[c>>2]|0)+40>>2]|0)==(g|0))break;c=I}if((I|0)!=(o|0)){d=I,f=c;do S=e[d>>2]|0,e[d>>2]=0,h=e[f>>2]|0,e[f>>2]=S,h|0&&(Kf(h),ve(h)),d=d+4|0,f=f+4|0;while((d|0)!=(o|0));if(d=e[M>>2]|0,(d|0)==(f|0))break;D=f,L=d}else D=c,L=o;d=L;do h=d+-4|0,e[M>>2]=h,S=e[h>>2]|0,e[h>>2]=0,S|0&&(Kf(S),ve(S)),d=e[M>>2]|0;while((d|0)!=(D|0))}while(0);e:do if((a|0)<5){D=e[r+20+(a*12|0)>>2]|0,L=r+20+(a*12|0)+4|0,I=e[L>>2]|0,g=I;t:do if((D|0)==(I|0))N=D;else for(C=D;;){if((e[C>>2]|0)==(n|0)){N=C;break t}if(C=C+4|0,(C|0)==(I|0))break e}while(0);(N|0)!=(I|0)&&(D=N+4|0,C=g-D|0,d=C>>2,d?(W0(N|0,D|0,C|0)|0,X=e[L>>2]|0):X=I,C=N+(d<<2)|0,(X|0)!=(C|0)&&(e[L>>2]=X+(~((X+-4-C|0)>>>2)<<2)))}while(0);if(X=e[r+24>>2]|0,N=e[r+20>>2]|0,a=N,(X|0)!=(N|0)){C=X-N>>2,N=0;do X=a+(N<<2)|0,d=e[X>>2]|0,(d|0)>(n|0)&&(e[X>>2]=d+-1),N=N+1|0;while(N>>>0<C>>>0)}if(C=e[r+36>>2]|0,N=e[r+32>>2]|0,a=N,(C|0)!=(N|0)){d=C-N>>2,N=0;do C=a+(N<<2)|0,X=e[C>>2]|0,(X|0)>(n|0)&&(e[C>>2]=X+-1),N=N+1|0;while(N>>>0<d>>>0)}if(d=e[r+48>>2]|0,N=e[r+44>>2]|0,a=N,(d|0)!=(N|0)){X=d-N>>2,N=0;do d=a+(N<<2)|0,C=e[d>>2]|0,(C|0)>(n|0)&&(e[d>>2]=C+-1),N=N+1|0;while(N>>>0<X>>>0)}if(X=e[r+60>>2]|0,N=e[r+56>>2]|0,a=N,(X|0)!=(N|0)){C=X-N>>2,N=0;do X=a+(N<<2)|0,d=e[X>>2]|0,(d|0)>(n|0)&&(e[X>>2]=d+-1),N=N+1|0;while(N>>>0<C>>>0)}if(C=e[r+72>>2]|0,N=e[r+68>>2]|0,r=N,(C|0)!=(N|0)){a=C-N>>2,N=0;do C=r+(N<<2)|0,d=e[C>>2]|0,(d|0)>(n|0)&&(e[C>>2]=d+-1),N=N+1|0;while(N>>>0<a>>>0)}}function n6(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0;o=q,q=q+32|0,a=o+16|0,f=o,h=n+4|0,c=e[(e[h>>2]|0)+48>>2]|0,g=n+12|0,n=e[g>>2]|0,d=Dt(32)|0,e[a>>2]=d,e[a+8>>2]=-2147483616,e[a+4>>2]=17,m=d,b=12932,v=m+17|0;do Z[m>>0]=Z[b>>0]|0,m=m+1|0,b=b+1|0;while((m|0)<(v|0));if(Z[d+17>>0]=0,d=c+16|0,x=e[d>>2]|0,x){C=d,S=x;e:for(;;){for(x=S;!((e[x+16>>2]|0)>=(n|0));)if(M=e[x+4>>2]|0,M)x=M;else{I=C;break e}if(S=e[x>>2]|0,S)C=x;else{I=x;break}}(I|0)!=(d|0)&&(n|0)>=(e[I+16>>2]|0)&&(n=I+20|0,(mo(n,a)|0)!=0)?D=go(n,a,-1)|0:L=10}else L=10;(L|0)==10&&(D=go(c,a,-1)|0),(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0),c=(1<<D)+-1|0,e[a>>2]=-1,e[a+4>>2]=-1,e[a+8>>2]=-1,e[a+12>>2]=-1,c&1|0&&(D=(S0(c|0)|0)^31,(D+-1|0)>>>0<=28)&&(e[a>>2]=D+1,c=2<<D,e[a+4>>2]=c+-1,D=c+-2|0,e[a+8>>2]=D,e[a+12>>2]=(D|0)/2|0),D=P_(e[g>>2]|0,e[h>>2]|0)|0,c=e[(e[h>>2]|0)+48>>2]|0,n=e[g>>2]|0,I=Dt(32)|0,e[f>>2]=I,e[f+8>>2]=-2147483616,e[f+4>>2]=17,m=I,b=12804,v=m+17|0;do Z[m>>0]=Z[b>>0]|0,m=m+1|0,b=b+1|0;while((m|0)<(v|0));if(Z[I+17>>0]=0,I=c+16|0,b=e[I>>2]|0,b){m=I,v=b;e:for(;;){for(b=v;!((e[b+16>>2]|0)>=(n|0));)if(d=e[b+4>>2]|0,d)b=d;else{N=m;break e}if(v=e[b>>2]|0,v)m=b;else{N=b;break}}(N|0)!=(I|0)&&(n|0)>=(e[N+16>>2]|0)&&(n=N+20|0,(mo(n,f)|0)!=0)?X=go(n,f,D)|0:L=25}else L=25;switch((L|0)==25&&(X=go(c,f,D)|0),(Z[f+11>>0]|0)<0&&ve(e[f>>2]|0),X|0){case 6:{X=e[g>>2]|0,D=e[h>>2]|0,c=e[(e[(e[D+4>>2]|0)+8>>2]|0)+(X<<2)>>2]|0;do if((kn[e[(e[D>>2]|0)+8>>2]&127](D)|0)==1)if(ud(f,D,6,X,a,514),n=e[f>>2]|0,n){Q=f,U=n;break}else{e[f>>2]=0,V=f,L=34;break}else V=f,L=34;while(0);(L|0)==34&&(X=Dt(24)|0,e[X+4>>2]=c,c=X+8|0,e[c>>2]=e[a>>2],e[c+4>>2]=e[a+4>>2],e[c+8>>2]=e[a+8>>2],e[c+12>>2]=e[a+12>>2],e[X>>2]=2320,c=X,e[f>>2]=c,Q=V,U=c),e[r>>2]=U,e[Q>>2]=0,q=o;return}case 0:{Q=e[g>>2]|0,g=e[h>>2]|0,h=e[(e[(e[g+4>>2]|0)+8>>2]|0)+(Q<<2)>>2]|0;do if((kn[e[(e[g>>2]|0)+8>>2]&127](g)|0)==1)if(ud(f,g,0,Q,a,514),U=e[f>>2]|0,U){$=f,J=U;break}else{e[f>>2]=0,j=f,L=41;break}else j=f,L=41;while(0);(L|0)==41&&(L=Dt(24)|0,e[L+4>>2]=h,h=L+8|0,e[h>>2]=e[a>>2],e[h+4>>2]=e[a+4>>2],e[h+8>>2]=e[a+8>>2],e[h+12>>2]=e[a+12>>2],e[L>>2]=2320,a=L,e[f>>2]=a,$=j,J=a),e[r>>2]=J,e[$>>2]=0,q=o;return}default:{e[r>>2]=0,q=o;return}}}function Jb(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0;for(n=q,q=q+32|0,o=n+20|0,a=n+8|0,f=n,h=r+4|0,c=e[h>>2]|0,g=e[r>>2]|0,d=c-g|0,m=d>>2,e[o>>2]=0,b=o+4|0,e[b>>2]=0,v=o+8|0,e[v>>2]=0,x=g,m|0&&((d|0)<0&&Je(),d=((m+-1|0)>>>5)+1|0,C=Dt(d<<2)|0,e[o>>2]=C,e[v>>2]=d,e[b>>2]=m,b=m>>>5,Mi(C|0,0,b<<2|0)|0,d=m&31,m=C+(b<<2)|0,d|0&&(e[m>>2]=e[m>>2]&~(-1>>>(32-d|0)))),e[a>>2]=0,d=a+4|0,e[d>>2]=0,e[a+8>>2]=0,m=r+12|0,b=f+4|0,C=a+8|0,v=x,x=c,c=g;(x|0)!=(c|0);){for(S=0,M=0,I=c,D=v;;){g=e[o>>2]|0;do if(e[g+(M>>>5<<2)>>2]&1<<(M&31))Ve=S,Ue=I;else{for(L=e[a>>2]|0,N=e[d>>2]|0,(N|0)==(L|0)?X=L:(V=N+(~((N+-8-L|0)>>>3)<<3)|0,e[d>>2]=V,X=V),V=M;;){if(N=V+1|0,Q=((N>>>0)%3|0|0)==0?V+-2|0:N,(Q|0)==-1){U=V,j=I,$=g,J=D,F=L,K=X;break}if(N=e[(e[m>>2]|0)+(Q<<2)>>2]|0,Q=N+1|0,(N|0)==-1){U=V,j=I,$=g,J=D,F=L,K=X;break}if(re=((Q>>>0)%3|0|0)==0?N+-2|0:Q,!((re|0)!=(M|0)&(re|0)!=-1)){U=V,j=I,$=g,J=D,F=L,K=X;break}if(!(e[g+(re>>>5<<2)>>2]&1<<(re&31)))V=re;else{U=V,j=I,$=g,J=D,F=L,K=X;break}}e:for(;;){if(L=$+(U>>>5<<2)|0,e[L>>2]=e[L>>2]|1<<(U&31),L=U+1|0,re=((L>>>0)%3|0|0)==0?U+-2|0:L,L=e[J+(re<<2)>>2]|0,se=(((U>>>0)%3|0|0)==0?2:-1)+U|0,(F|0)!=(K|0))if((se|0)==-1){Q=F;do{if((e[Q>>2]|0)==(L|0)&&(N=e[Q+4>>2]|0,(N|0)!=-1)){fe=N,Ee=-1,Ne=-1,me=25;break e}Q=Q+8|0}while((Q|0)!=(K|0))}else{Q=F;do{if((e[Q>>2]|0)==(L|0)&&(Ie=e[Q+4>>2]|0,_e=e[(e[m>>2]|0)+(se<<2)>>2]|0,(_e|0)!=(Ie|0))){me=24;break e}Q=Q+8|0}while((Q|0)!=(K|0))}if(e[f>>2]=0,e[f>>2]=e[J+(se<<2)>>2],e[b>>2]=re,(K|0)==(e[C>>2]|0)?mP(a,f):(Q=f,L=e[Q+4>>2]|0,N=K,e[N>>2]=e[Q>>2],e[N+4>>2]=L,e[d>>2]=(e[d>>2]|0)+8),(se|0)==-1){me=38;break}if(L=e[(e[m>>2]|0)+(se<<2)>>2]|0,(L|0)==-1){me=38;break}if(N=L+(((L>>>0)%3|0|0)==0?2:-1)|0,!((N|0)!=(V|0)&(N|0)!=-1)){me=40;break}L=e[r>>2]|0,U=N,j=L,$=e[o>>2]|0,J=L,F=e[a>>2]|0,K=e[d>>2]|0}if((me|0)==24?(me=0,(Ie|0)==-1?(Ce=-1,We=-1,at=_e,Ke=se):(fe=Ie,Ee=_e,Ne=se,me=25)):(me|0)==38&&(me=0,me=40),(me|0)==25)me=0,Ce=fe,We=e[(e[m>>2]|0)+(fe<<2)>>2]|0,at=Ee,Ke=Ne;else if((me|0)==40){me=0,Ve=S,Ue=e[r>>2]|0;break}(at|0)!=-1&&(e[(e[m>>2]|0)+(at<<2)>>2]=-1),V=e[m>>2]|0,(We|0)!=-1&&(e[V+(We<<2)>>2]=-1),e[V+(Ke<<2)>>2]=-1,e[V+(Ce<<2)>>2]=-1,Ve=1,Ue=j}while(0);if(M=M+1|0,st=e[h>>2]|0,D=Ue,M>>>0>=st-Ue>>2>>>0)break;S=Ve,I=Ue}if(Ve)v=D,x=st,c=Ue;else break}return Ue=e[a>>2]|0,Ue|0&&(a=e[d>>2]|0,(a|0)!=(Ue|0)&&(e[d>>2]=a+(~((a+-8-Ue|0)>>>3)<<3)),ve(Ue)),Ue=e[o>>2]|0,Ue?(ve(Ue),q=n,1):(q=n,1)}function uo(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0;a=r+8|0;e:do if(e[a>>2]|0&&(f=e[r>>2]|0,h=r+4|0,e[r>>2]=h,e[(e[h>>2]|0)+8>>2]=0,e[h>>2]=0,e[a>>2]=0,c=e[f+4>>2]|0,g=(c|0)==0?f:c,g|0)){for(c=r+4|0,f=g,g=e[n>>2]|0;(g|0)!=(e[o>>2]|0);){d=f+16|0,_x(d,g+16|0)|0,_x(f+28|0,g+28|0)|0,m=f+8|0,b=e[m>>2]|0;do if(b)if(v=e[b>>2]|0,(v|0)==(f|0)){if(e[b>>2]=0,x=e[b+4>>2]|0,x)S=x;else{C=b;break}for(;;){if(x=e[S>>2]|0,x|0){S=x;continue}if(x=e[S+4>>2]|0,x)S=x;else break}C=S;break}else{if(e[b+4>>2]=0,v)M=v;else{C=b;break}for(;;){if(x=e[M>>2]|0,x|0){M=x;continue}if(x=e[M+4>>2]|0,x)M=x;else break}C=M;break}else C=0;while(0);b=e[h>>2]|0;do if(b){for(v=Z[d+11>>0]|0,x=v<<24>>24<0,I=x?e[f+20>>2]|0:v&255,v=x?e[d>>2]|0:d,x=b;;){if(D=x+16|0,L=Z[D+11>>0]|0,N=L<<24>>24<0,X=N?e[x+20>>2]|0:L&255,L=X>>>0<I>>>0?X:I,(L|0)!=0&&(V=As(v,N?e[D>>2]|0:D,L)|0,(V|0)!=0)?(V|0)<0?Q=22:Q=24:I>>>0<X>>>0?Q=22:Q=24,(Q|0)==22)if(Q=0,X=e[x>>2]|0,X)U=X;else{Q=23;break}else if((Q|0)==24)if(Q=0,j=x+4|0,X=e[j>>2]|0,X)U=X;else{Q=26;break}x=U}if((Q|0)==23){Q=0,$=x,J=x;break}else if((Q|0)==26){Q=0,$=j,J=x;break}}else $=h,J=h;while(0);if(e[f>>2]=0,e[f+4>>2]=0,e[m>>2]=J,e[$>>2]=f,b=e[e[r>>2]>>2]|0,b?(e[r>>2]=b,F=e[$>>2]|0):F=f,af(e[c>>2]|0,F),e[a>>2]=(e[a>>2]|0)+1,b=e[g+4>>2]|0,b){for(I=b;m=e[I>>2]|0,m;)I=m;K=I}else if(d=g+8|0,I=e[d>>2]|0,(e[I>>2]|0)==(g|0))K=I;else{I=d;do d=e[I>>2]|0,I=d+8|0,v=e[I>>2]|0;while((e[v>>2]|0)!=(d|0));K=v}if(e[n>>2]=K,C)f=C,g=K;else break e}if(g=e[f+8>>2]|0,!g)re=f;else{for(c=g;g=e[c+8>>2]|0,g;)c=g;re=c}hs(r,re)}while(0);if(re=e[n>>2]|0,K=e[o>>2]|0,(re|0)!=(K|0))for(se=re;;){if(dm(r,se+16|0)|0,re=e[se+4>>2]|0,re){for(C=re;c=e[C>>2]|0,c;)C=c;fe=C}else if(o=se+8|0,C=e[o>>2]|0,(e[C>>2]|0)==(se|0))fe=C;else{C=o;do o=e[C>>2]|0,C=o+8|0,a=e[C>>2]|0;while((e[a>>2]|0)!=(o|0));fe=a}if(e[n>>2]=fe,(fe|0)==(K|0))break;se=fe}}function x0(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0;f=q,q=q+16|0,h=f,c=n+4|0,e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=0,g=Dt(16)|0,e[h>>2]=g,e[h+8>>2]=-2147483632,e[h+4>>2]=15,d=g,m=12916,b=d+15|0;do Z[d>>0]=Z[m>>0]|0,d=d+1|0,m=m+1|0;while((d|0)<(b|0));switch(Z[g+15>>0]=0,g=go(c,h,-1)|0,(Z[h+11>>0]|0)<0&&ve(e[h>>2]|0),g|0){case 0:{v=Dt(56)|0,d=v,b=d+56|0;do e[d>>2]=0,d=d+4|0;while((d|0)<(b|0));Mm(v),x=3728,C=v;break}case-1:{if((ol(c)|0)==10){v=Dt(56)|0,d=v,b=d+56|0;do e[d>>2]=0,d=d+4|0;while((d|0)<(b|0));Mm(v),x=3728,C=v}else S=6;break}default:S=6}e:do if((S|0)==6){v=o+8|0,M=o+12|0,I=e[M>>2]|0,D=e[v>>2]|0;t:do if((I-D|0)>0){L=h+8|0,N=h+4|0,X=n+20|0,V=h+11|0,Q=0,U=D,j=I;i:for(;;){switch($=e[(e[U+(Q<<2)>>2]|0)+28>>2]|0,$|0){case 9:{S=12;break}case 6:case 5:case 4:case 2:{J=U,F=j;break}default:{if(($|2|0)!=3)break i;($|0)==9?S=12:(J=U,F=j)}}if((S|0)==12){S=0,e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=0,$=Dt(32)|0,e[h>>2]=$,e[L>>2]=-2147483616,e[N>>2]=17,d=$,m=12932,b=d+17|0;do Z[d>>0]=Z[m>>0]|0,d=d+1|0,m=m+1|0;while((d|0)<(b|0));if(Z[$+17>>0]=0,K=e[X>>2]|0,K){re=X,se=K;r:for(;;){for(K=se;!((e[K+16>>2]|0)>=0);)if(fe=e[K+4>>2]|0,fe)K=fe;else{Ee=re;break r}if(se=e[K>>2]|0,se)re=K;else{Ee=K;break}}(Ee|0)!=(X|0)&&(e[Ee+16>>2]|0)<=0&&(re=Ee+20|0,(mo(re,h)|0)!=0)?Ne=go(re,h,-1)|0:S=21}else S=21;if((S|0)==21&&(S=0,Ne=go(c,h,-1)|0),(Z[V>>0]|0)<0&&ve(e[h>>2]|0),(Ne|0)<1)break;J=e[v>>2]|0,F=e[M>>2]|0}if(Q=Q+1|0,(Q|0)>=(F-J>>2|0))break t;U=J,j=F}if((g|0)!=1){j=Dt(56)|0,d=j,b=d+56|0;do e[d>>2]=0,d=d+4|0;while((d|0)<(b|0));Mm(j),x=3728,C=j;break e}e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=0,U=Dt(32)|0,e[h>>2]=U,e[h+8>>2]=-2147483616,e[h+4>>2]=24,d=U,m=12950,b=d+24|0;do Z[d>>0]=Z[m>>0]|0,d=d+1|0,m=m+1|0;while((d|0)<(b|0));Z[U+24>>0]=0,e[r>>2]=-1,T0(r+4|0,h),(Z[h+11>>0]|0)<0&&ve(e[h>>2]|0),q=f;return}while(0);M=Dt(56)|0,d=M,b=d+56|0;do e[d>>2]=0,d=d+4|0;while((d|0)<(b|0));Mm(M),x=3668,C=M}while(0);e[C>>2]=x,Mx(C,o),Nu(r,C,c,a),e[r>>2]|0||(a=r+4|0,(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0),e[n+40>>2]=e[C+52>>2],e[n+44>>2]=0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0),Fn[e[(e[C>>2]|0)+4>>2]&127](C),q=f}function Cs(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0;if(n=q,q=q+32|0,o=n+4|0,a=n,f=r+16|0,h=e[f>>2]|0,h>>>0>112){e[f>>2]=h+-113,h=r+4|0,f=e[h>>2]|0,c=e[f>>2]|0,g=f+4|0,e[h>>2]=g,f=r+8|0,d=e[f>>2]|0,m=r+12|0,b=e[m>>2]|0,v=b;do if((d|0)==(b|0)){if(x=e[r>>2]|0,C=x,g>>>0>x>>>0){S=g,M=((S-C>>2)+1|0)/-2|0,I=g+(M<<2)|0,D=d-S|0,S=D>>2,S?(W0(I|0,g|0,D|0)|0,L=e[h>>2]|0):L=g,D=I+(S<<2)|0,e[f>>2]=D,e[h>>2]=L+(M<<2),N=D;break}if(D=v-C>>1,C=(D|0)==0?1:D,C>>>0>1073741823&&(D=wn(8)|0,u0(D,14941),e[D>>2]=6944,yn(D|0,1080,114)),D=Dt(C<<2)|0,M=D,S=D+(C>>>2<<2)|0,I=S,X=D+(C<<2)|0,(g|0)==(d|0))V=I,Q=x;else{x=S,S=I,C=g;do e[x>>2]=e[C>>2],x=S+4|0,S=x,C=C+4|0;while((C|0)!=(d|0));V=S,Q=e[r>>2]|0}e[r>>2]=M,e[h>>2]=I,e[f>>2]=V,e[m>>2]=X,Q?(ve(Q),N=e[f>>2]|0):N=V}else N=d;while(0);e[N>>2]=c,e[f>>2]=(e[f>>2]|0)+4,q=n;return}if(f=r+8|0,c=e[f>>2]|0,N=r+4|0,d=c-(e[N>>2]|0)|0,Q=r+12|0,V=e[Q>>2]|0,m=V-(e[r>>2]|0)|0,d>>>0>=m>>>0){for(h=m>>1,m=(h|0)==0?1:h,e[o+12>>2]=0,e[o+16>>2]=r+12,m>>>0>1073741823&&(h=wn(8)|0,u0(h,14941),e[h>>2]=6944,yn(h|0,1080,114)),h=Dt(m<<2)|0,e[o>>2]=h,g=h+(d>>2<<2)|0,d=o+8|0,e[d>>2]=g,v=o+4|0,e[v>>2]=g,g=o+12|0,e[g>>2]=h+(m<<2),m=Dt(4068)|0,e[a>>2]=m,Ws(o,a),a=e[f>>2]|0;U=e[N>>2]|0,(a|0)!=(U|0);)m=a+-4|0,Rr(o,m),a=m;m=U,U=e[r>>2]|0,e[r>>2]=e[o>>2],e[o>>2]=U,e[N>>2]=e[v>>2],e[v>>2]=m,v=e[f>>2]|0,e[f>>2]=e[d>>2],e[d>>2]=v,h=e[Q>>2]|0,e[Q>>2]=e[g>>2],e[g>>2]=h,h=v,(a|0)!=(h|0)&&(e[d>>2]=h+(~((h+-4-m|0)>>>2)<<2)),U|0&&ve(U),q=n;return}if((V|0)!=(c|0)){c=Dt(4068)|0,e[o>>2]=c,Ws(r,o),q=n;return}c=Dt(4068)|0,e[o>>2]=c,Rr(r,o),o=e[N>>2]|0,c=e[o>>2]|0,V=o+4|0,e[N>>2]=V,o=e[f>>2]|0,U=e[Q>>2]|0,m=U;do if((o|0)==(U|0)){if(h=e[r>>2]|0,d=h,V>>>0>h>>>0){a=V,v=((a-d>>2)+1|0)/-2|0,g=V+(v<<2)|0,L=o-a|0,a=L>>2,a?(W0(g|0,V|0,L|0)|0,j=e[N>>2]|0):j=V,L=g+(a<<2)|0,e[f>>2]=L,e[N>>2]=j+(v<<2),$=L;break}if(L=m-d>>1,d=(L|0)==0?1:L,d>>>0>1073741823&&(L=wn(8)|0,u0(L,14941),e[L>>2]=6944,yn(L|0,1080,114)),L=Dt(d<<2)|0,v=L,a=L+(d>>>2<<2)|0,g=a,b=L+(d<<2)|0,(V|0)==(o|0))J=g,F=h;else{h=a,a=g,d=V;do e[h>>2]=e[d>>2],h=a+4|0,a=h,d=d+4|0;while((d|0)!=(o|0));J=a,F=e[r>>2]|0}e[r>>2]=v,e[N>>2]=g,e[f>>2]=J,e[Q>>2]=b,F?(ve(F),$=e[f>>2]|0):$=J}else $=o;while(0);e[$>>2]=c,e[f>>2]=(e[f>>2]|0)+4,q=n}function Wf(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0;if(a=q,q=q+16|0,f=a+8|0,h=a+4|0,c=a,g=r+64|0,d=e[g>>2]|0,(e[d+28>>2]|0)==(e[d+24>>2]|0)){q=a;return}for(m=n+96|0,n=r+52|0,b=o+84|0,v=o+68|0,o=r+56|0,x=r+60|0,C=r+12|0,S=r+28|0,M=r+40|0,I=r+44|0,D=r+48|0,L=0,N=0,X=d;;){if(d=e[(e[X+24>>2]|0)+(N<<2)>>2]|0,(d|0)==-1)V=L,Q=X;else{U=L+1|0,j=e[(e[m>>2]|0)+(((d|0)/3|0)*12|0)+(((d|0)%3|0)<<2)>>2]|0,Z[b>>0]|0?$=j:$=e[(e[v>>2]|0)+(j<<2)>>2]|0,e[f>>2]=$,j=e[o>>2]|0,j>>>0<(e[x>>2]|0)>>>0?(e[j>>2]=$,e[o>>2]=j+4):pr(n,f),e[f>>2]=d,e[h>>2]=0;e:do if(!(e[(e[C>>2]|0)+(N>>>5<<2)>>2]&1<<(N&31)))J=d;else{if(j=d+1|0,F=((j>>>0)%3|0|0)==0?d+-2|0:j,(F|0)!=-1&&(e[(e[r>>2]|0)+(F>>>5<<2)>>2]&1<<(F&31)|0)==0&&(j=e[(e[(e[g>>2]|0)+12>>2]|0)+(F<<2)>>2]|0,F=j+1|0,(j|0)!=-1)){if(K=((F>>>0)%3|0|0)==0?j+-2|0:F,e[h>>2]=K,(K|0)==-1){J=d;break}else re=K;for(;e[f>>2]=re,K=re+1|0,F=((K>>>0)%3|0|0)==0?re+-2|0:K,!((F|0)==-1||e[(e[r>>2]|0)+(F>>>5<<2)>>2]&1<<(F&31)|0||(K=e[(e[(e[g>>2]|0)+12>>2]|0)+(F<<2)>>2]|0,F=K+1|0,(K|0)==-1));)if(j=((F>>>0)%3|0|0)==0?K+-2|0:F,e[h>>2]=j,(j|0)==-1){J=re;break e}else re=j;e[h>>2]=-1,J=re;break}e[h>>2]=-1,J=d}while(0);e[(e[S>>2]|0)+(J<<2)>>2]=L,d=e[I>>2]|0,(d|0)==(e[D>>2]|0)?pr(M,f):(e[d>>2]=e[f>>2],e[I>>2]=d+4),d=e[g>>2]|0,j=e[f>>2]|0;e:do if((j|0)!=-1&&(F=(((j>>>0)%3|0|0)==0?2:-1)+j|0,(F|0)!=-1)&&(K=e[(e[d+12>>2]|0)+(F<<2)>>2]|0,(K|0)!=-1))if(F=K+(((K>>>0)%3|0|0)==0?2:-1)|0,e[h>>2]=F,(F|0)!=-1&(F|0)!=(j|0)){for(K=U,se=L,fe=F;;){F=fe+1|0,Ee=((F>>>0)%3|0|0)==0?fe+-2|0:F;do if(e[(e[r>>2]|0)+(Ee>>>5<<2)>>2]&1<<(Ee&31))if(F=K+1|0,Ne=e[(e[m>>2]|0)+(((fe|0)/3|0)*12|0)+(((fe|0)%3|0)<<2)>>2]|0,Z[b>>0]|0?me=Ne:me=e[(e[v>>2]|0)+(Ne<<2)>>2]|0,e[c>>2]=me,Ne=e[o>>2]|0,Ne>>>0<(e[x>>2]|0)>>>0?(e[Ne>>2]=me,e[o>>2]=Ne+4):pr(n,c),Ne=e[I>>2]|0,(Ne|0)==(e[D>>2]|0)){pr(M,h),Ie=F,_e=K;break}else{e[Ne>>2]=e[h>>2],e[I>>2]=Ne+4,Ie=F,_e=K;break}else Ie=K,_e=se;while(0);if(e[(e[S>>2]|0)+(e[h>>2]<<2)>>2]=_e,Ce=e[g>>2]|0,Ee=e[h>>2]|0,(Ee|0)==-1||(F=(((Ee>>>0)%3|0|0)==0?2:-1)+Ee|0,(F|0)==-1)||(Ee=e[(e[Ce+12>>2]|0)+(F<<2)>>2]|0,(Ee|0)==-1))break;if(fe=Ee+(((Ee>>>0)%3|0|0)==0?2:-1)|0,e[h>>2]=fe,(fe|0)!=-1&&(fe|0)!=(e[f>>2]|0))K=Ie,se=_e;else{We=Ie,at=Ce;break e}}e[h>>2]=-1,We=Ie,at=Ce}else We=U,at=d;else Ke=28;while(0);(Ke|0)==28&&(Ke=0,e[h>>2]=-1,We=U,at=d),V=We,Q=at}if(N=N+1|0,N>>>0>=(e[Q+28>>2]|0)-(e[Q+24>>2]|0)>>2>>>0)break;L=V,X=Q}q=a}function Qf(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0;switch(n|0){case 0:{a=-149,f=24,h=4;break}case 1:{a=-1074,f=53,h=4;break}case 2:{a=-1074,f=53,h=4;break}default:c=0}e:do if((h|0)==4){n=r+4|0,g=r+100|0;do d=e[n>>2]|0,d>>>0<(e[g>>2]|0)>>>0?(e[n>>2]=d+1,m=yi[d>>0]|0):m=io(r)|0;while((vC(m)|0)!=0);t:do switch(m|0){case 43:case 45:if(d=1-(((m|0)==45&1)<<1)|0,b=e[n>>2]|0,b>>>0<(e[g>>2]|0)>>>0){e[n>>2]=b+1,v=yi[b>>0]|0,x=d;break t}else{v=io(r)|0,x=d;break t}default:v=m,x=1}while(0);for(d=0,b=v;;){if((b|32|0)!=(Z[17452+d>>0]|0)){C=d,S=b;break}do if(d>>>0<7)if(M=e[n>>2]|0,M>>>0<(e[g>>2]|0)>>>0){e[n>>2]=M+1,I=yi[M>>0]|0;break}else{I=io(r)|0;break}else I=b;while(0);if(M=d+1|0,M>>>0<8)d=M,b=I;else{C=M,S=I;break}}t:do switch(C|0){case 8:break;case 3:{h=23;break}default:{if(b=(o|0)!=0,b&C>>>0>3){if((C|0)==8)break t;h=23;break t}i:do if(C)D=C,L=S;else for(d=0,M=S;;){if((M|32|0)!=(Z[17461+d>>0]|0)){D=d,L=M;break i}do if(d>>>0<2)if(N=e[n>>2]|0,N>>>0<(e[g>>2]|0)>>>0){e[n>>2]=N+1,X=yi[N>>0]|0;break}else{X=io(r)|0;break}else X=M;while(0);if(N=d+1|0,N>>>0<3)d=N,M=X;else{D=N,L=X;break}}while(0);switch(D|0){case 3:{if(M=e[n>>2]|0,M>>>0<(e[g>>2]|0)>>>0?(e[n>>2]=M+1,V=yi[M>>0]|0):V=io(r)|0,(V|0)==40)Q=1;else{if(!(e[g>>2]|0)){c=sf;break e}e[n>>2]=(e[n>>2]|0)+-1,c=sf;break e}for(;M=e[n>>2]|0,M>>>0<(e[g>>2]|0)>>>0?(e[n>>2]=M+1,U=yi[M>>0]|0):U=io(r)|0,!(!((U+-48|0)>>>0<10|(U+-65|0)>>>0<26)&&!((U|0)==95|(U+-97|0)>>>0<26));)Q=Q+1|0;if((U|0)==41){c=sf;break e}if(M=(e[g>>2]|0)==0,M||(e[n>>2]=(e[n>>2]|0)+-1),!b){d=fa()|0,e[d>>2]=22,dd(r,0),c=0;break e}if(Q)j=Q;else{c=sf;break e}for(;;)if(j=j+-1|0,M||(e[n>>2]=(e[n>>2]|0)+-1),!j){c=sf;break e}break}case 0:{if((L|0)==48){if(M=e[n>>2]|0,M>>>0<(e[g>>2]|0)>>>0?(e[n>>2]=M+1,$=yi[M>>0]|0):$=io(r)|0,($|32|0)==120){c=+W1(r,f,a,x,o);break e}e[g>>2]|0&&(e[n>>2]=(e[n>>2]|0)+-1),J=48}else J=L;c=+sL(r,J,f,a,x,o);break e}default:{e[g>>2]|0&&(e[n>>2]=(e[n>>2]|0)+-1),M=fa()|0,e[M>>2]=22,dd(r,0),c=0;break e}}}}while(0);if((h|0)==23&&(M=(e[g>>2]|0)==0,M||(e[n>>2]=(e[n>>2]|0)+-1),(o|0)!=0&C>>>0>3)){b=C;do M||(e[n>>2]=(e[n>>2]|0)+-1),b=b+-1|0;while(b>>>0>3)}c=+qt(qt(x|0)*qt(kc))}while(0);return+c}function Xb(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0;if(n=q,q=q+16|0,o=n+4|0,a=n,f=e[r+64>>2]|0,!f){q=n;return}if(h=kn[e[(e[f>>2]|0)+32>>2]&127](f)|0,!h){q=n;return}if(f=h+24|0,c=h+28|0,g=((e[c>>2]|0)-(e[f>>2]|0)>>2)-(e[h+44>>2]|0)|0,d=r+56|0,m=e[d>>2]|0,((e[m+12>>2]|0)-(e[m+8>>2]|0)|0)>4){for(e[o>>2]=0,b=o+4|0,e[b>>2]=0,e[o+8>>2]=0,v=o+8|0,x=0,C=m;;){if(!(e[(e[(e[C+8>>2]|0)+(x<<2)>>2]|0)+56>>2]|0))S=C;else{m=M0[e[(e[r>>2]|0)+56>>2]&127](r,x)|0,e[a>>2]=m,M=m;do if(m|0)if(I=e[b>>2]|0,(I|0)==(e[v>>2]|0)){pr(o,a);break}else{e[I>>2]=M,e[b>>2]=(e[b>>2]|0)+4;break}while(0);S=e[d>>2]|0}if(x=x+1|0,(x|0)>=((e[S+12>>2]|0)-(e[S+8>>2]|0)>>2|0))break;C=S}if(C=e[c>>2]|0,c=e[f>>2]|0,f=c,(C|0)==(c|0))D=g,L=e[o>>2]|0;else for(x=C-c>>2,c=h+12|0,h=e[b>>2]|0,C=e[o>>2]|0,o=(h|0)==(C|0),d=C,a=h-C>>2,C=S+96|0,S=g,h=0;;){if(v=e[f+(h<<2)>>2]|0,(v|0)==-1)N=S;else{M=e[C>>2]|0,m=e[M+(((v|0)/3|0)*12|0)+(((v|0)%3|0)<<2)>>2]|0,I=(((v>>>0)%3|0|0)==0?2:-1)+v|0;e:do if((I|0)!=-1&&(X=e[(e[c>>2]|0)+(I<<2)>>2]|0,(X|0)!=-1)&&(V=X+(((X>>>0)%3|0|0)==0?2:-1)|0,(V|0)!=-1)){if(o)for(X=0,Q=V,U=m;;){if(j=U,U=e[M+(((Q|0)/3|0)*12|0)+(((Q|0)%3|0)<<2)>>2]|0,$=X+((U|0)!=(j|0)&1)|0,(Q|0)==(v|0)){J=$;break e}if(j=(((Q>>>0)%3|0|0)==0?2:-1)+Q|0,(j|0)==-1){J=$;break e}if(F=e[(e[c>>2]|0)+(j<<2)>>2]|0,(F|0)==-1){J=$;break e}if(Q=F+(((F>>>0)%3|0|0)==0?2:-1)|0,(Q|0)==-1){J=$;break e}else X=$}else K=0,re=V,se=v,fe=m;for(;;){X=e[M+(((re|0)/3|0)*12|0)+(((re|0)%3|0)<<2)>>2]|0;t:do if((X|0)==(fe|0))for(Q=0;;){if(U=e[(e[d+(Q<<2)>>2]|0)+28>>2]|0,Q=Q+1|0,(e[U+(re<<2)>>2]|0)!=(e[U+(se<<2)>>2]|0)){Ee=fe,Ne=28;break t}if(Q>>>0>=a>>>0){me=fe,Ie=K;break}}else Ee=X,Ne=28;while(0);if((Ne|0)==28&&(Ne=0,me=Ee,Ie=K+1|0),(re|0)==(v|0)){J=Ie;break e}if(X=(((re>>>0)%3|0|0)==0?2:-1)+re|0,(X|0)==-1){J=Ie;break e}if(Q=e[(e[c>>2]|0)+(X<<2)>>2]|0,(Q|0)==-1){J=Ie;break e}if(X=Q+(((Q>>>0)%3|0|0)==0?2:-1)|0,(X|0)==-1){J=Ie;break}else Q=re,K=Ie,re=X,fe=me,se=Q}}else J=0;while(0);v=e[f+(h<<2)>>2]|0,M=v+1|0,(v|0)!=-1&&(m=((M>>>0)%3|0|0)==0?v+-2|0:M,(m|0)!=-1)&&(M=e[(e[c>>2]|0)+(m<<2)>>2]|0,m=M+1|0,(M|0)!=-1)?_e=((((m>>>0)%3|0|0)==0?M+-2|0:m)|0)==-1:_e=1,N=J+S+(((J|0)!=0&(_e^1))<<31>>31)|0}if(h=h+1|0,h>>>0>=x>>>0){D=N,L=d;break}else S=N}L|0&&(N=e[b>>2]|0,(N|0)!=(L|0)&&(e[b>>2]=N+(~((N+-4-L|0)>>>2)<<2)),ve(L)),Ce=D}else Ce=g;e[r+52>>2]=Ce,q=n}function X1(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0;if(c=q,q=q+32|0,g=c+4|0,d=c,m=c+16|0,b=(S0(a|0)|0)^31,(a|0)>0){if(b>>>0>17)return v=0,q=c,v|0;x=b+1|0}else x=1;do if(f){b=Dt(48)|0,e[g>>2]=b,e[g+8>>2]=-2147483600,e[g+4>>2]=33,a=b,C=13067,S=a+33|0;do Z[a>>0]=Z[C>>0]|0,a=a+1|0,C=C+1|0;while((a|0)<(S|0));if(Z[b+33>>0]=0,M=(mo(f,g)|0)==0,(Z[g+11>>0]|0)<0&&ve(e[g>>2]|0),M)I=x;else{M=Dt(48)|0,e[g>>2]=M,e[g+8>>2]=-2147483600,e[g+4>>2]=33,a=M,C=13067,S=a+33|0;do Z[a>>0]=Z[C>>0]|0,a=a+1|0,C=C+1|0;while((a|0)<(S|0));if(Z[M+33>>0]=0,C=yk(f,g)|0,(Z[g+11>>0]|0)<0&&ve(e[g>>2]|0),(C|0)<4){I=x+-2|0;break}if((C|0)<6){I=x+-1|0;break}if((C|0)>9){I=x+2|0;break}else{I=x+((C|0)>7&1)|0;break}}}else I=x;while(0);x=(I|0)>1?I:1,I=(x|0)<18?x:18,Z[m>>0]=I,x=h+16|0,f=e[x+4>>2]|0,(f|0)>0|(f|0)==0&(e[x>>2]|0)>>>0>0||(e[d>>2]=e[h+4>>2],e[g>>2]=e[d>>2],vr(h,g,m,m+1|0)|0);do switch(I&31){case 1:case 0:return v=rd(r,n,o,h)|0,q=c,v|0;case 2:return v=Zf(r,n,o,h)|0,q=c,v|0;case 3:return v=v6(r,n,o,h)|0,q=c,v|0;case 4:return v=A6(r,n,o,h)|0,q=c,v|0;case 5:return v=y6(r,n,o,h)|0,q=c,v|0;case 6:return v=dy(r,n,o,h)|0,q=c,v|0;case 7:return v=hy(r,n,o,h)|0,q=c,v|0;case 8:return v=cy(r,n,o,h)|0,q=c,v|0;case 9:return v=b6(r,n,o,h)|0,q=c,v|0;case 10:return v=g6(r,n,o,h)|0,q=c,v|0;case 11:return v=m6(r,n,o,h)|0,q=c,v|0;case 12:return v=uy(r,n,o,h)|0,q=c,v|0;case 13:return v=Qo(r,n,o,h)|0,q=c,v|0;case 14:return v=p6(r,n,o,h)|0,q=c,v|0;case 15:return v=d6(r,n,o,h)|0,q=c,v|0;case 16:return v=h6(r,n,o,h)|0,q=c,v|0;case 17:return v=fy(r,n,o,h)|0,q=c,v|0;case 18:return v=c6(r,n,o,h)|0,q=c,v|0;default:return v=0,q=c,v|0}while(0);return 0}function qb(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;if(f=q,q=q+16|0,h=f,c=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(v=n+(d<<3)|0,x=e[v>>2]|0,C=e[v+4>>2]|0,v=Wt(x|0,C|0,m|0,b|0)|0,S=Xe,M=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=M,D=S,L=v;break}else g=M,m=v,b=S;else I=0,D=0,L=0;if(b=I+1|0,e[r+12>>2]=b,m=r+4|0,g=e[m>>2]|0,o=e[r>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Fo(r,b-d|0),N=+(L>>>0)+4294967296*+(D>>>0),D=(I|0)<0,D)V=0,Q=12;else{L=e[r>>2]|0,d=0,g=0;do o=n+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*1048576+.5)>>>0,v=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[L+(g<<3)>>2]=v,d=v+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==1048576){if(D)return X=0,q=f,X|0}else V=d,Q=12}if((Q|0)==12){e[c>>2]=0,d=c+4|0,e[d>>2]=0,e[c+8>>2]=0;do if(b)if(b>>>0>1073741823)Je();else{g=b<<2,L=Dt(g)|0,e[c>>2]=L,v=L+(b<<2)|0,e[c+8>>2]=v,Mi(L|0,0,g|0)|0,e[d>>2]=v,U=L,j=v;break}else U=0,j=0;while(0);if(!D&&(e[U>>2]=0,I|0)){v=1;do e[U+(v<<2)>>2]=v,v=v+1|0;while((v|0)!=(b|0))}e[h>>2]=r,Y6(U,j,h);e:do if((V|0)<1048576)h=(e[r>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=1048576-V+(e[h>>2]|0),$=0;else{if(h=e[c>>2]|0,(I|0)<=0){for(j=(V|0)>1048576;;)if(!j){$=0;break e}}for(j=e[r>>2]|0,U=V+-1048576|0,v=V;;){for(N=1048576/+(v|0),L=I,g=U,o=v;;){if(S=j+(e[h+(L<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(M=m-~~+bn(+(N*+(m>>>0)))|0,C=(M|0)==0?1:M,M=(C|0)<(m|0)?C:m+-1|0,C=(M|0)>(g|0)?g:M,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==1048576){J=S,F=1048576;break}if((L|0)>1)L=L+-1|0,g=S,o=m;else{J=S,F=m;break}}if((Q|0)==28)if(Q=0,(L|0)==(I|0)){$=1;break e}else J=g,F=o;if((J|0)>0)U=J,v=F;else{$=0;break}}}while(0);if(F=e[c>>2]|0,F|0&&(c=e[d>>2]|0,(c|0)!=(F|0)&&(e[d>>2]=c+(~((c+-4-F|0)>>>2)<<2)),ve(F)),($|0)!=0|D)return X=0,q=f,X|0}$=e[r>>2]|0,F=0,c=0;do e[$+(F<<3)+4>>2]=c,c=(e[$+(F<<3)>>2]|0)+c|0,F=F+1|0;while((F|0)!=(b|0));if((c|0)!=1048576)return X=0,q=f,X|0;if(D)K=0;else for(D=e[r>>2]|0,c=0,N=0;;)if(F=e[D+(c<<3)>>2]|0,F?($=n+(c<<3)|0,se=+((e[$>>2]|0)>>>0)+4294967296*+((e[$+4>>2]|0)>>>0),re=N+ +U0(+(F>>>0)*95367431640625e-20)*se):re=N,c=c+1|0,(c|0)==(b|0)){K=re;break}else N=re;return re=+yr(+-K),b=+f0(re)>=1?re>0?~~+i0(+bn(re/4294967296),4294967295)>>>0:~~+yr((re-+(~~re>>>0))/4294967296)>>>0:0,c=r+16|0,e[c>>2]=~~re>>>0,e[c+4>>2]=b,X=zs(r,a)|0,q=f,X|0}function s6(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;if(f=q,q=q+16|0,h=f,c=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(v=n+(d<<3)|0,x=e[v>>2]|0,C=e[v+4>>2]|0,v=Wt(x|0,C|0,m|0,b|0)|0,S=Xe,M=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=M,D=S,L=v;break}else g=M,m=v,b=S;else I=0,D=0,L=0;if(b=I+1|0,e[r+12>>2]=b,m=r+4|0,g=e[m>>2]|0,o=e[r>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Fo(r,b-d|0),N=+(L>>>0)+4294967296*+(D>>>0),D=(I|0)<0,D)V=0,Q=12;else{L=e[r>>2]|0,d=0,g=0;do o=n+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*1048576+.5)>>>0,v=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[L+(g<<3)>>2]=v,d=v+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==1048576){if(D)return X=0,q=f,X|0}else V=d,Q=12}if((Q|0)==12){e[c>>2]=0,d=c+4|0,e[d>>2]=0,e[c+8>>2]=0;do if(b)if(b>>>0>1073741823)Je();else{g=b<<2,L=Dt(g)|0,e[c>>2]=L,v=L+(b<<2)|0,e[c+8>>2]=v,Mi(L|0,0,g|0)|0,e[d>>2]=v,U=L,j=v;break}else U=0,j=0;while(0);if(!D&&(e[U>>2]=0,I|0)){v=1;do e[U+(v<<2)>>2]=v,v=v+1|0;while((v|0)!=(b|0))}e[h>>2]=r,K6(U,j,h);e:do if((V|0)<1048576)h=(e[r>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=1048576-V+(e[h>>2]|0),$=0;else{if(h=e[c>>2]|0,(I|0)<=0){for(j=(V|0)>1048576;;)if(!j){$=0;break e}}for(j=e[r>>2]|0,U=V+-1048576|0,v=V;;){for(N=1048576/+(v|0),L=I,g=U,o=v;;){if(S=j+(e[h+(L<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(M=m-~~+bn(+(N*+(m>>>0)))|0,C=(M|0)==0?1:M,M=(C|0)<(m|0)?C:m+-1|0,C=(M|0)>(g|0)?g:M,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==1048576){J=S,F=1048576;break}if((L|0)>1)L=L+-1|0,g=S,o=m;else{J=S,F=m;break}}if((Q|0)==28)if(Q=0,(L|0)==(I|0)){$=1;break e}else J=g,F=o;if((J|0)>0)U=J,v=F;else{$=0;break}}}while(0);if(F=e[c>>2]|0,F|0&&(c=e[d>>2]|0,(c|0)!=(F|0)&&(e[d>>2]=c+(~((c+-4-F|0)>>>2)<<2)),ve(F)),($|0)!=0|D)return X=0,q=f,X|0}$=e[r>>2]|0,F=0,c=0;do e[$+(F<<3)+4>>2]=c,c=(e[$+(F<<3)>>2]|0)+c|0,F=F+1|0;while((F|0)!=(b|0));if((c|0)!=1048576)return X=0,q=f,X|0;if(D)K=0;else for(D=e[r>>2]|0,c=0,N=0;;)if(F=e[D+(c<<3)>>2]|0,F?($=n+(c<<3)|0,se=+((e[$>>2]|0)>>>0)+4294967296*+((e[$+4>>2]|0)>>>0),re=N+ +U0(+(F>>>0)*95367431640625e-20)*se):re=N,c=c+1|0,(c|0)==(b|0)){K=re;break}else N=re;return re=+yr(+-K),b=+f0(re)>=1?re>0?~~+i0(+bn(re/4294967296),4294967295)>>>0:~~+yr((re-+(~~re>>>0))/4294967296)>>>0:0,c=r+16|0,e[c>>2]=~~re>>>0,e[c+4>>2]=b,X=zs(r,a)|0,q=f,X|0}function q1(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;if(f=q,q=q+16|0,h=f,c=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(v=n+(d<<3)|0,x=e[v>>2]|0,C=e[v+4>>2]|0,v=Wt(x|0,C|0,m|0,b|0)|0,S=Xe,M=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=M,D=S,L=v;break}else g=M,m=v,b=S;else I=0,D=0,L=0;if(b=I+1|0,e[r+12>>2]=b,m=r+4|0,g=e[m>>2]|0,o=e[r>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Fo(r,b-d|0),N=+(L>>>0)+4294967296*+(D>>>0),D=(I|0)<0,D)V=0,Q=12;else{L=e[r>>2]|0,d=0,g=0;do o=n+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*1048576+.5)>>>0,v=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[L+(g<<3)>>2]=v,d=v+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==1048576){if(D)return X=0,q=f,X|0}else V=d,Q=12}if((Q|0)==12){e[c>>2]=0,d=c+4|0,e[d>>2]=0,e[c+8>>2]=0;do if(b)if(b>>>0>1073741823)Je();else{g=b<<2,L=Dt(g)|0,e[c>>2]=L,v=L+(b<<2)|0,e[c+8>>2]=v,Mi(L|0,0,g|0)|0,e[d>>2]=v,U=L,j=v;break}else U=0,j=0;while(0);if(!D&&(e[U>>2]=0,I|0)){v=1;do e[U+(v<<2)>>2]=v,v=v+1|0;while((v|0)!=(b|0))}e[h>>2]=r,$6(U,j,h);e:do if((V|0)<1048576)h=(e[r>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=1048576-V+(e[h>>2]|0),$=0;else{if(h=e[c>>2]|0,(I|0)<=0){for(j=(V|0)>1048576;;)if(!j){$=0;break e}}for(j=e[r>>2]|0,U=V+-1048576|0,v=V;;){for(N=1048576/+(v|0),L=I,g=U,o=v;;){if(S=j+(e[h+(L<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(M=m-~~+bn(+(N*+(m>>>0)))|0,C=(M|0)==0?1:M,M=(C|0)<(m|0)?C:m+-1|0,C=(M|0)>(g|0)?g:M,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==1048576){J=S,F=1048576;break}if((L|0)>1)L=L+-1|0,g=S,o=m;else{J=S,F=m;break}}if((Q|0)==28)if(Q=0,(L|0)==(I|0)){$=1;break e}else J=g,F=o;if((J|0)>0)U=J,v=F;else{$=0;break}}}while(0);if(F=e[c>>2]|0,F|0&&(c=e[d>>2]|0,(c|0)!=(F|0)&&(e[d>>2]=c+(~((c+-4-F|0)>>>2)<<2)),ve(F)),($|0)!=0|D)return X=0,q=f,X|0}$=e[r>>2]|0,F=0,c=0;do e[$+(F<<3)+4>>2]=c,c=(e[$+(F<<3)>>2]|0)+c|0,F=F+1|0;while((F|0)!=(b|0));if((c|0)!=1048576)return X=0,q=f,X|0;if(D)K=0;else for(D=e[r>>2]|0,c=0,N=0;;)if(F=e[D+(c<<3)>>2]|0,F?($=n+(c<<3)|0,se=+((e[$>>2]|0)>>>0)+4294967296*+((e[$+4>>2]|0)>>>0),re=N+ +U0(+(F>>>0)*95367431640625e-20)*se):re=N,c=c+1|0,(c|0)==(b|0)){K=re;break}else N=re;return re=+yr(+-K),b=+f0(re)>=1?re>0?~~+i0(+bn(re/4294967296),4294967295)>>>0:~~+yr((re-+(~~re>>>0))/4294967296)>>>0:0,c=r+16|0,e[c>>2]=~~re>>>0,e[c+4>>2]=b,X=zs(r,a)|0,q=f,X|0}function Zh(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;if(f=q,q=q+16|0,h=f,c=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(v=n+(d<<3)|0,x=e[v>>2]|0,C=e[v+4>>2]|0,v=Wt(x|0,C|0,m|0,b|0)|0,S=Xe,M=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=M,D=S,L=v;break}else g=M,m=v,b=S;else I=0,D=0,L=0;if(b=I+1|0,e[r+12>>2]=b,m=r+4|0,g=e[m>>2]|0,o=e[r>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Fo(r,b-d|0),N=+(L>>>0)+4294967296*+(D>>>0),D=(I|0)<0,D)V=0,Q=12;else{L=e[r>>2]|0,d=0,g=0;do o=n+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*1048576+.5)>>>0,v=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[L+(g<<3)>>2]=v,d=v+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==1048576){if(D)return X=0,q=f,X|0}else V=d,Q=12}if((Q|0)==12){e[c>>2]=0,d=c+4|0,e[d>>2]=0,e[c+8>>2]=0;do if(b)if(b>>>0>1073741823)Je();else{g=b<<2,L=Dt(g)|0,e[c>>2]=L,v=L+(b<<2)|0,e[c+8>>2]=v,Mi(L|0,0,g|0)|0,e[d>>2]=v,U=L,j=v;break}else U=0,j=0;while(0);if(!D&&(e[U>>2]=0,I|0)){v=1;do e[U+(v<<2)>>2]=v,v=v+1|0;while((v|0)!=(b|0))}e[h>>2]=r,ex(U,j,h);e:do if((V|0)<1048576)h=(e[r>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=1048576-V+(e[h>>2]|0),$=0;else{if(h=e[c>>2]|0,(I|0)<=0){for(j=(V|0)>1048576;;)if(!j){$=0;break e}}for(j=e[r>>2]|0,U=V+-1048576|0,v=V;;){for(N=1048576/+(v|0),L=I,g=U,o=v;;){if(S=j+(e[h+(L<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(M=m-~~+bn(+(N*+(m>>>0)))|0,C=(M|0)==0?1:M,M=(C|0)<(m|0)?C:m+-1|0,C=(M|0)>(g|0)?g:M,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==1048576){J=S,F=1048576;break}if((L|0)>1)L=L+-1|0,g=S,o=m;else{J=S,F=m;break}}if((Q|0)==28)if(Q=0,(L|0)==(I|0)){$=1;break e}else J=g,F=o;if((J|0)>0)U=J,v=F;else{$=0;break}}}while(0);if(F=e[c>>2]|0,F|0&&(c=e[d>>2]|0,(c|0)!=(F|0)&&(e[d>>2]=c+(~((c+-4-F|0)>>>2)<<2)),ve(F)),($|0)!=0|D)return X=0,q=f,X|0}$=e[r>>2]|0,F=0,c=0;do e[$+(F<<3)+4>>2]=c,c=(e[$+(F<<3)>>2]|0)+c|0,F=F+1|0;while((F|0)!=(b|0));if((c|0)!=1048576)return X=0,q=f,X|0;if(D)K=0;else for(D=e[r>>2]|0,c=0,N=0;;)if(F=e[D+(c<<3)>>2]|0,F?($=n+(c<<3)|0,se=+((e[$>>2]|0)>>>0)+4294967296*+((e[$+4>>2]|0)>>>0),re=N+ +U0(+(F>>>0)*95367431640625e-20)*se):re=N,c=c+1|0,(c|0)==(b|0)){K=re;break}else N=re;return re=+yr(+-K),b=+f0(re)>=1?re>0?~~+i0(+bn(re/4294967296),4294967295)>>>0:~~+yr((re-+(~~re>>>0))/4294967296)>>>0:0,c=r+16|0,e[c>>2]=~~re>>>0,e[c+4>>2]=b,X=zs(r,a)|0,q=f,X|0}function Zb(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;if(f=q,q=q+16|0,h=f,c=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(v=n+(d<<3)|0,x=e[v>>2]|0,C=e[v+4>>2]|0,v=Wt(x|0,C|0,m|0,b|0)|0,S=Xe,M=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=M,D=S,L=v;break}else g=M,m=v,b=S;else I=0,D=0,L=0;if(b=I+1|0,e[r+12>>2]=b,m=r+4|0,g=e[m>>2]|0,o=e[r>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Fo(r,b-d|0),N=+(L>>>0)+4294967296*+(D>>>0),D=(I|0)<0,D)V=0,Q=12;else{L=e[r>>2]|0,d=0,g=0;do o=n+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*1048576+.5)>>>0,v=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[L+(g<<3)>>2]=v,d=v+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==1048576){if(D)return X=0,q=f,X|0}else V=d,Q=12}if((Q|0)==12){e[c>>2]=0,d=c+4|0,e[d>>2]=0,e[c+8>>2]=0;do if(b)if(b>>>0>1073741823)Je();else{g=b<<2,L=Dt(g)|0,e[c>>2]=L,v=L+(b<<2)|0,e[c+8>>2]=v,Mi(L|0,0,g|0)|0,e[d>>2]=v,U=L,j=v;break}else U=0,j=0;while(0);if(!D&&(e[U>>2]=0,I|0)){v=1;do e[U+(v<<2)>>2]=v,v=v+1|0;while((v|0)!=(b|0))}e[h>>2]=r,tx(U,j,h);e:do if((V|0)<1048576)h=(e[r>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=1048576-V+(e[h>>2]|0),$=0;else{if(h=e[c>>2]|0,(I|0)<=0){for(j=(V|0)>1048576;;)if(!j){$=0;break e}}for(j=e[r>>2]|0,U=V+-1048576|0,v=V;;){for(N=1048576/+(v|0),L=I,g=U,o=v;;){if(S=j+(e[h+(L<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(M=m-~~+bn(+(N*+(m>>>0)))|0,C=(M|0)==0?1:M,M=(C|0)<(m|0)?C:m+-1|0,C=(M|0)>(g|0)?g:M,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==1048576){J=S,F=1048576;break}if((L|0)>1)L=L+-1|0,g=S,o=m;else{J=S,F=m;break}}if((Q|0)==28)if(Q=0,(L|0)==(I|0)){$=1;break e}else J=g,F=o;if((J|0)>0)U=J,v=F;else{$=0;break}}}while(0);if(F=e[c>>2]|0,F|0&&(c=e[d>>2]|0,(c|0)!=(F|0)&&(e[d>>2]=c+(~((c+-4-F|0)>>>2)<<2)),ve(F)),($|0)!=0|D)return X=0,q=f,X|0}$=e[r>>2]|0,F=0,c=0;do e[$+(F<<3)+4>>2]=c,c=(e[$+(F<<3)>>2]|0)+c|0,F=F+1|0;while((F|0)!=(b|0));if((c|0)!=1048576)return X=0,q=f,X|0;if(D)K=0;else for(D=e[r>>2]|0,c=0,N=0;;)if(F=e[D+(c<<3)>>2]|0,F?($=n+(c<<3)|0,se=+((e[$>>2]|0)>>>0)+4294967296*+((e[$+4>>2]|0)>>>0),re=N+ +U0(+(F>>>0)*95367431640625e-20)*se):re=N,c=c+1|0,(c|0)==(b|0)){K=re;break}else N=re;return re=+yr(+-K),b=+f0(re)>=1?re>0?~~+i0(+bn(re/4294967296),4294967295)>>>0:~~+yr((re-+(~~re>>>0))/4294967296)>>>0:0,c=r+16|0,e[c>>2]=~~re>>>0,e[c+4>>2]=b,X=zs(r,a)|0,q=f,X|0}function Z1(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;if(f=q,q=q+16|0,h=f,c=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(v=n+(d<<3)|0,x=e[v>>2]|0,C=e[v+4>>2]|0,v=Wt(x|0,C|0,m|0,b|0)|0,S=Xe,M=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=M,D=S,L=v;break}else g=M,m=v,b=S;else I=0,D=0,L=0;if(b=I+1|0,e[r+12>>2]=b,m=r+4|0,g=e[m>>2]|0,o=e[r>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Fo(r,b-d|0),N=+(L>>>0)+4294967296*+(D>>>0),D=(I|0)<0,D)V=0,Q=12;else{L=e[r>>2]|0,d=0,g=0;do o=n+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*524288+.5)>>>0,v=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[L+(g<<3)>>2]=v,d=v+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==524288){if(D)return X=0,q=f,X|0}else V=d,Q=12}if((Q|0)==12){e[c>>2]=0,d=c+4|0,e[d>>2]=0,e[c+8>>2]=0;do if(b)if(b>>>0>1073741823)Je();else{g=b<<2,L=Dt(g)|0,e[c>>2]=L,v=L+(b<<2)|0,e[c+8>>2]=v,Mi(L|0,0,g|0)|0,e[d>>2]=v,U=L,j=v;break}else U=0,j=0;while(0);if(!D&&(e[U>>2]=0,I|0)){v=1;do e[U+(v<<2)>>2]=v,v=v+1|0;while((v|0)!=(b|0))}e[h>>2]=r,sx(U,j,h);e:do if((V|0)<524288)h=(e[r>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=524288-V+(e[h>>2]|0),$=0;else{if(h=e[c>>2]|0,(I|0)<=0){for(j=(V|0)>524288;;)if(!j){$=0;break e}}for(j=e[r>>2]|0,U=V+-524288|0,v=V;;){for(N=524288/+(v|0),L=I,g=U,o=v;;){if(S=j+(e[h+(L<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(M=m-~~+bn(+(N*+(m>>>0)))|0,C=(M|0)==0?1:M,M=(C|0)<(m|0)?C:m+-1|0,C=(M|0)>(g|0)?g:M,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==524288){J=S,F=524288;break}if((L|0)>1)L=L+-1|0,g=S,o=m;else{J=S,F=m;break}}if((Q|0)==28)if(Q=0,(L|0)==(I|0)){$=1;break e}else J=g,F=o;if((J|0)>0)U=J,v=F;else{$=0;break}}}while(0);if(F=e[c>>2]|0,F|0&&(c=e[d>>2]|0,(c|0)!=(F|0)&&(e[d>>2]=c+(~((c+-4-F|0)>>>2)<<2)),ve(F)),($|0)!=0|D)return X=0,q=f,X|0}$=e[r>>2]|0,F=0,c=0;do e[$+(F<<3)+4>>2]=c,c=(e[$+(F<<3)>>2]|0)+c|0,F=F+1|0;while((F|0)!=(b|0));if((c|0)!=524288)return X=0,q=f,X|0;if(D)K=0;else for(D=e[r>>2]|0,c=0,N=0;;)if(F=e[D+(c<<3)>>2]|0,F?($=n+(c<<3)|0,se=+((e[$>>2]|0)>>>0)+4294967296*+((e[$+4>>2]|0)>>>0),re=N+ +U0(+(F>>>0)*19073486328125e-19)*se):re=N,c=c+1|0,(c|0)==(b|0)){K=re;break}else N=re;return re=+yr(+-K),b=+f0(re)>=1?re>0?~~+i0(+bn(re/4294967296),4294967295)>>>0:~~+yr((re-+(~~re>>>0))/4294967296)>>>0:0,c=r+16|0,e[c>>2]=~~re>>>0,e[c+4>>2]=b,X=zs(r,a)|0,q=f,X|0}function Jf(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;if(f=q,q=q+16|0,h=f,c=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(v=n+(d<<3)|0,x=e[v>>2]|0,C=e[v+4>>2]|0,v=Wt(x|0,C|0,m|0,b|0)|0,S=Xe,M=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=M,D=S,L=v;break}else g=M,m=v,b=S;else I=0,D=0,L=0;if(b=I+1|0,e[r+12>>2]=b,m=r+4|0,g=e[m>>2]|0,o=e[r>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Fo(r,b-d|0),N=+(L>>>0)+4294967296*+(D>>>0),D=(I|0)<0,D)V=0,Q=12;else{L=e[r>>2]|0,d=0,g=0;do o=n+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*262144+.5)>>>0,v=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[L+(g<<3)>>2]=v,d=v+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==262144){if(D)return X=0,q=f,X|0}else V=d,Q=12}if((Q|0)==12){e[c>>2]=0,d=c+4|0,e[d>>2]=0,e[c+8>>2]=0;do if(b)if(b>>>0>1073741823)Je();else{g=b<<2,L=Dt(g)|0,e[c>>2]=L,v=L+(b<<2)|0,e[c+8>>2]=v,Mi(L|0,0,g|0)|0,e[d>>2]=v,U=L,j=v;break}else U=0,j=0;while(0);if(!D&&(e[U>>2]=0,I|0)){v=1;do e[U+(v<<2)>>2]=v,v=v+1|0;while((v|0)!=(b|0))}e[h>>2]=r,ix(U,j,h);e:do if((V|0)<262144)h=(e[r>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=262144-V+(e[h>>2]|0),$=0;else{if(h=e[c>>2]|0,(I|0)<=0){for(j=(V|0)>262144;;)if(!j){$=0;break e}}for(j=e[r>>2]|0,U=V+-262144|0,v=V;;){for(N=262144/+(v|0),L=I,g=U,o=v;;){if(S=j+(e[h+(L<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(M=m-~~+bn(+(N*+(m>>>0)))|0,C=(M|0)==0?1:M,M=(C|0)<(m|0)?C:m+-1|0,C=(M|0)>(g|0)?g:M,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==262144){J=S,F=262144;break}if((L|0)>1)L=L+-1|0,g=S,o=m;else{J=S,F=m;break}}if((Q|0)==28)if(Q=0,(L|0)==(I|0)){$=1;break e}else J=g,F=o;if((J|0)>0)U=J,v=F;else{$=0;break}}}while(0);if(F=e[c>>2]|0,F|0&&(c=e[d>>2]|0,(c|0)!=(F|0)&&(e[d>>2]=c+(~((c+-4-F|0)>>>2)<<2)),ve(F)),($|0)!=0|D)return X=0,q=f,X|0}$=e[r>>2]|0,F=0,c=0;do e[$+(F<<3)+4>>2]=c,c=(e[$+(F<<3)>>2]|0)+c|0,F=F+1|0;while((F|0)!=(b|0));if((c|0)!=262144)return X=0,q=f,X|0;if(D)K=0;else for(D=e[r>>2]|0,c=0,N=0;;)if(F=e[D+(c<<3)>>2]|0,F?($=n+(c<<3)|0,se=+((e[$>>2]|0)>>>0)+4294967296*+((e[$+4>>2]|0)>>>0),re=N+ +U0(+(F>>>0)*3814697265625e-18)*se):re=N,c=c+1|0,(c|0)==(b|0)){K=re;break}else N=re;return re=+yr(+-K),b=+f0(re)>=1?re>0?~~+i0(+bn(re/4294967296),4294967295)>>>0:~~+yr((re-+(~~re>>>0))/4294967296)>>>0:0,c=r+16|0,e[c>>2]=~~re>>>0,e[c+4>>2]=b,X=zs(r,a)|0,q=f,X|0}function Yb(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;if(f=q,q=q+16|0,h=f,c=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(v=n+(d<<3)|0,x=e[v>>2]|0,C=e[v+4>>2]|0,v=Wt(x|0,C|0,m|0,b|0)|0,S=Xe,M=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=M,D=S,L=v;break}else g=M,m=v,b=S;else I=0,D=0,L=0;if(b=I+1|0,e[r+12>>2]=b,m=r+4|0,g=e[m>>2]|0,o=e[r>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Fo(r,b-d|0),N=+(L>>>0)+4294967296*+(D>>>0),D=(I|0)<0,D)V=0,Q=12;else{L=e[r>>2]|0,d=0,g=0;do o=n+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*65536+.5)>>>0,v=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[L+(g<<3)>>2]=v,d=v+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==65536){if(D)return X=0,q=f,X|0}else V=d,Q=12}if((Q|0)==12){e[c>>2]=0,d=c+4|0,e[d>>2]=0,e[c+8>>2]=0;do if(b)if(b>>>0>1073741823)Je();else{g=b<<2,L=Dt(g)|0,e[c>>2]=L,v=L+(b<<2)|0,e[c+8>>2]=v,Mi(L|0,0,g|0)|0,e[d>>2]=v,U=L,j=v;break}else U=0,j=0;while(0);if(!D&&(e[U>>2]=0,I|0)){v=1;do e[U+(v<<2)>>2]=v,v=v+1|0;while((v|0)!=(b|0))}e[h>>2]=r,rx(U,j,h);e:do if((V|0)<65536)h=(e[r>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=65536-V+(e[h>>2]|0),$=0;else{if(h=e[c>>2]|0,(I|0)<=0){for(j=(V|0)>65536;;)if(!j){$=0;break e}}for(j=e[r>>2]|0,U=V+-65536|0,v=V;;){for(N=65536/+(v|0),L=I,g=U,o=v;;){if(S=j+(e[h+(L<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(M=m-~~+bn(+(N*+(m>>>0)))|0,C=(M|0)==0?1:M,M=(C|0)<(m|0)?C:m+-1|0,C=(M|0)>(g|0)?g:M,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==65536){J=S,F=65536;break}if((L|0)>1)L=L+-1|0,g=S,o=m;else{J=S,F=m;break}}if((Q|0)==28)if(Q=0,(L|0)==(I|0)){$=1;break e}else J=g,F=o;if((J|0)>0)U=J,v=F;else{$=0;break}}}while(0);if(F=e[c>>2]|0,F|0&&(c=e[d>>2]|0,(c|0)!=(F|0)&&(e[d>>2]=c+(~((c+-4-F|0)>>>2)<<2)),ve(F)),($|0)!=0|D)return X=0,q=f,X|0}$=e[r>>2]|0,F=0,c=0;do e[$+(F<<3)+4>>2]=c,c=(e[$+(F<<3)>>2]|0)+c|0,F=F+1|0;while((F|0)!=(b|0));if((c|0)!=65536)return X=0,q=f,X|0;if(D)K=0;else for(D=e[r>>2]|0,c=0,N=0;;)if(F=e[D+(c<<3)>>2]|0,F?($=n+(c<<3)|0,se=+((e[$>>2]|0)>>>0)+4294967296*+((e[$+4>>2]|0)>>>0),re=N+ +U0(+(F>>>0)*152587890625e-16)*se):re=N,c=c+1|0,(c|0)==(b|0)){K=re;break}else N=re;return re=+yr(+-K),b=+f0(re)>=1?re>0?~~+i0(+bn(re/4294967296),4294967295)>>>0:~~+yr((re-+(~~re>>>0))/4294967296)>>>0:0,c=r+16|0,e[c>>2]=~~re>>>0,e[c+4>>2]=b,X=zs(r,a)|0,q=f,X|0}function Kb(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;if(f=q,q=q+16|0,h=f,c=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(v=n+(d<<3)|0,x=e[v>>2]|0,C=e[v+4>>2]|0,v=Wt(x|0,C|0,m|0,b|0)|0,S=Xe,M=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=M,D=S,L=v;break}else g=M,m=v,b=S;else I=0,D=0,L=0;if(b=I+1|0,e[r+12>>2]=b,m=r+4|0,g=e[m>>2]|0,o=e[r>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Fo(r,b-d|0),N=+(L>>>0)+4294967296*+(D>>>0),D=(I|0)<0,D)V=0,Q=12;else{L=e[r>>2]|0,d=0,g=0;do o=n+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*32768+.5)>>>0,v=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[L+(g<<3)>>2]=v,d=v+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==32768){if(D)return X=0,q=f,X|0}else V=d,Q=12}if((Q|0)==12){e[c>>2]=0,d=c+4|0,e[d>>2]=0,e[c+8>>2]=0;do if(b)if(b>>>0>1073741823)Je();else{g=b<<2,L=Dt(g)|0,e[c>>2]=L,v=L+(b<<2)|0,e[c+8>>2]=v,Mi(L|0,0,g|0)|0,e[d>>2]=v,U=L,j=v;break}else U=0,j=0;while(0);if(!D&&(e[U>>2]=0,I|0)){v=1;do e[U+(v<<2)>>2]=v,v=v+1|0;while((v|0)!=(b|0))}e[h>>2]=r,nx(U,j,h);e:do if((V|0)<32768)h=(e[r>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=32768-V+(e[h>>2]|0),$=0;else{if(h=e[c>>2]|0,(I|0)<=0){for(j=(V|0)>32768;;)if(!j){$=0;break e}}for(j=e[r>>2]|0,U=V+-32768|0,v=V;;){for(N=32768/+(v|0),L=I,g=U,o=v;;){if(S=j+(e[h+(L<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(M=m-~~+bn(+(N*+(m>>>0)))|0,C=(M|0)==0?1:M,M=(C|0)<(m|0)?C:m+-1|0,C=(M|0)>(g|0)?g:M,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==32768){J=S,F=32768;break}if((L|0)>1)L=L+-1|0,g=S,o=m;else{J=S,F=m;break}}if((Q|0)==28)if(Q=0,(L|0)==(I|0)){$=1;break e}else J=g,F=o;if((J|0)>0)U=J,v=F;else{$=0;break}}}while(0);if(F=e[c>>2]|0,F|0&&(c=e[d>>2]|0,(c|0)!=(F|0)&&(e[d>>2]=c+(~((c+-4-F|0)>>>2)<<2)),ve(F)),($|0)!=0|D)return X=0,q=f,X|0}$=e[r>>2]|0,F=0,c=0;do e[$+(F<<3)+4>>2]=c,c=(e[$+(F<<3)>>2]|0)+c|0,F=F+1|0;while((F|0)!=(b|0));if((c|0)!=32768)return X=0,q=f,X|0;if(D)K=0;else for(D=e[r>>2]|0,c=0,N=0;;)if(F=e[D+(c<<3)>>2]|0,F?($=n+(c<<3)|0,se=+((e[$>>2]|0)>>>0)+4294967296*+((e[$+4>>2]|0)>>>0),re=N+ +U0(+(F>>>0)*30517578125e-15)*se):re=N,c=c+1|0,(c|0)==(b|0)){K=re;break}else N=re;return re=+yr(+-K),b=+f0(re)>=1?re>0?~~+i0(+bn(re/4294967296),4294967295)>>>0:~~+yr((re-+(~~re>>>0))/4294967296)>>>0:0,c=r+16|0,e[c>>2]=~~re>>>0,e[c+4>>2]=b,X=zs(r,a)|0,q=f,X|0}function o6(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;if(f=q,q=q+16|0,h=f,c=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(v=n+(d<<3)|0,x=e[v>>2]|0,C=e[v+4>>2]|0,v=Wt(x|0,C|0,m|0,b|0)|0,S=Xe,M=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=M,D=S,L=v;break}else g=M,m=v,b=S;else I=0,D=0,L=0;if(b=I+1|0,e[r+12>>2]=b,m=r+4|0,g=e[m>>2]|0,o=e[r>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Fo(r,b-d|0),N=+(L>>>0)+4294967296*+(D>>>0),D=(I|0)<0,D)V=0,Q=12;else{L=e[r>>2]|0,d=0,g=0;do o=n+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*8192+.5)>>>0,v=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[L+(g<<3)>>2]=v,d=v+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==8192){if(D)return X=0,q=f,X|0}else V=d,Q=12}if((Q|0)==12){e[c>>2]=0,d=c+4|0,e[d>>2]=0,e[c+8>>2]=0;do if(b)if(b>>>0>1073741823)Je();else{g=b<<2,L=Dt(g)|0,e[c>>2]=L,v=L+(b<<2)|0,e[c+8>>2]=v,Mi(L|0,0,g|0)|0,e[d>>2]=v,U=L,j=v;break}else U=0,j=0;while(0);if(!D&&(e[U>>2]=0,I|0)){v=1;do e[U+(v<<2)>>2]=v,v=v+1|0;while((v|0)!=(b|0))}e[h>>2]=r,ox(U,j,h);e:do if((V|0)<8192)h=(e[r>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=8192-V+(e[h>>2]|0),$=0;else{if(h=e[c>>2]|0,(I|0)<=0){for(j=(V|0)>8192;;)if(!j){$=0;break e}}for(j=e[r>>2]|0,U=V+-8192|0,v=V;;){for(N=8192/+(v|0),L=I,g=U,o=v;;){if(S=j+(e[h+(L<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(M=m-~~+bn(+(N*+(m>>>0)))|0,C=(M|0)==0?1:M,M=(C|0)<(m|0)?C:m+-1|0,C=(M|0)>(g|0)?g:M,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==8192){J=S,F=8192;break}if((L|0)>1)L=L+-1|0,g=S,o=m;else{J=S,F=m;break}}if((Q|0)==28)if(Q=0,(L|0)==(I|0)){$=1;break e}else J=g,F=o;if((J|0)>0)U=J,v=F;else{$=0;break}}}while(0);if(F=e[c>>2]|0,F|0&&(c=e[d>>2]|0,(c|0)!=(F|0)&&(e[d>>2]=c+(~((c+-4-F|0)>>>2)<<2)),ve(F)),($|0)!=0|D)return X=0,q=f,X|0}$=e[r>>2]|0,F=0,c=0;do e[$+(F<<3)+4>>2]=c,c=(e[$+(F<<3)>>2]|0)+c|0,F=F+1|0;while((F|0)!=(b|0));if((c|0)!=8192)return X=0,q=f,X|0;if(D)K=0;else for(D=e[r>>2]|0,c=0,N=0;;)if(F=e[D+(c<<3)>>2]|0,F?($=n+(c<<3)|0,se=+((e[$>>2]|0)>>>0)+4294967296*+((e[$+4>>2]|0)>>>0),re=N+ +U0(+(F>>>0)*.0001220703125)*se):re=N,c=c+1|0,(c|0)==(b|0)){K=re;break}else N=re;return re=+yr(+-K),b=+f0(re)>=1?re>0?~~+i0(+bn(re/4294967296),4294967295)>>>0:~~+yr((re-+(~~re>>>0))/4294967296)>>>0:0,c=r+16|0,e[c>>2]=~~re>>>0,e[c+4>>2]=b,X=zs(r,a)|0,q=f,X|0}function k2(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;if(f=q,q=q+16|0,h=f,c=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(v=n+(d<<3)|0,x=e[v>>2]|0,C=e[v+4>>2]|0,v=Wt(x|0,C|0,m|0,b|0)|0,S=Xe,M=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=M,D=S,L=v;break}else g=M,m=v,b=S;else I=0,D=0,L=0;if(b=I+1|0,e[r+12>>2]=b,m=r+4|0,g=e[m>>2]|0,o=e[r>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Fo(r,b-d|0),N=+(L>>>0)+4294967296*+(D>>>0),D=(I|0)<0,D)V=0,Q=12;else{L=e[r>>2]|0,d=0,g=0;do o=n+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*4096+.5)>>>0,v=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[L+(g<<3)>>2]=v,d=v+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==4096){if(D)return X=0,q=f,X|0}else V=d,Q=12}if((Q|0)==12){e[c>>2]=0,d=c+4|0,e[d>>2]=0,e[c+8>>2]=0;do if(b)if(b>>>0>1073741823)Je();else{g=b<<2,L=Dt(g)|0,e[c>>2]=L,v=L+(b<<2)|0,e[c+8>>2]=v,Mi(L|0,0,g|0)|0,e[d>>2]=v,U=L,j=v;break}else U=0,j=0;while(0);if(!D&&(e[U>>2]=0,I|0)){v=1;do e[U+(v<<2)>>2]=v,v=v+1|0;while((v|0)!=(b|0))}e[h>>2]=r,ax(U,j,h);e:do if((V|0)<4096)h=(e[r>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=4096-V+(e[h>>2]|0),$=0;else{if(h=e[c>>2]|0,(I|0)<=0){for(j=(V|0)>4096;;)if(!j){$=0;break e}}for(j=e[r>>2]|0,U=V+-4096|0,v=V;;){for(N=4096/+(v|0),L=I,g=U,o=v;;){if(S=j+(e[h+(L<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(M=m-~~+bn(+(N*+(m>>>0)))|0,C=(M|0)==0?1:M,M=(C|0)<(m|0)?C:m+-1|0,C=(M|0)>(g|0)?g:M,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==4096){J=S,F=4096;break}if((L|0)>1)L=L+-1|0,g=S,o=m;else{J=S,F=m;break}}if((Q|0)==28)if(Q=0,(L|0)==(I|0)){$=1;break e}else J=g,F=o;if((J|0)>0)U=J,v=F;else{$=0;break}}}while(0);if(F=e[c>>2]|0,F|0&&(c=e[d>>2]|0,(c|0)!=(F|0)&&(e[d>>2]=c+(~((c+-4-F|0)>>>2)<<2)),ve(F)),($|0)!=0|D)return X=0,q=f,X|0}$=e[r>>2]|0,F=0,c=0;do e[$+(F<<3)+4>>2]=c,c=(e[$+(F<<3)>>2]|0)+c|0,F=F+1|0;while((F|0)!=(b|0));if((c|0)!=4096)return X=0,q=f,X|0;if(D)K=0;else for(D=e[r>>2]|0,c=0,N=0;;)if(F=e[D+(c<<3)>>2]|0,F?($=n+(c<<3)|0,se=+((e[$>>2]|0)>>>0)+4294967296*+((e[$+4>>2]|0)>>>0),re=N+ +U0(+(F>>>0)*.000244140625)*se):re=N,c=c+1|0,(c|0)==(b|0)){K=re;break}else N=re;return re=+yr(+-K),b=+f0(re)>=1?re>0?~~+i0(+bn(re/4294967296),4294967295)>>>0:~~+yr((re-+(~~re>>>0))/4294967296)>>>0:0,c=r+16|0,e[c>>2]=~~re>>>0,e[c+4>>2]=b,X=zs(r,a)|0,q=f,X|0}function Y1(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;if(f=q,q=q+16|0,h=f,c=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(v=n+(d<<3)|0,x=e[v>>2]|0,C=e[v+4>>2]|0,v=Wt(x|0,C|0,m|0,b|0)|0,S=Xe,M=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=M,D=S,L=v;break}else g=M,m=v,b=S;else I=0,D=0,L=0;if(b=I+1|0,e[r+12>>2]=b,m=r+4|0,g=e[m>>2]|0,o=e[r>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Fo(r,b-d|0),N=+(L>>>0)+4294967296*+(D>>>0),D=(I|0)<0,D)V=0,Q=12;else{L=e[r>>2]|0,d=0,g=0;do o=n+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*4096+.5)>>>0,v=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[L+(g<<3)>>2]=v,d=v+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==4096){if(D)return X=0,q=f,X|0}else V=d,Q=12}if((Q|0)==12){e[c>>2]=0,d=c+4|0,e[d>>2]=0,e[c+8>>2]=0;do if(b)if(b>>>0>1073741823)Je();else{g=b<<2,L=Dt(g)|0,e[c>>2]=L,v=L+(b<<2)|0,e[c+8>>2]=v,Mi(L|0,0,g|0)|0,e[d>>2]=v,U=L,j=v;break}else U=0,j=0;while(0);if(!D&&(e[U>>2]=0,I|0)){v=1;do e[U+(v<<2)>>2]=v,v=v+1|0;while((v|0)!=(b|0))}e[h>>2]=r,lx(U,j,h);e:do if((V|0)<4096)h=(e[r>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=4096-V+(e[h>>2]|0),$=0;else{if(h=e[c>>2]|0,(I|0)<=0){for(j=(V|0)>4096;;)if(!j){$=0;break e}}for(j=e[r>>2]|0,U=V+-4096|0,v=V;;){for(N=4096/+(v|0),L=I,g=U,o=v;;){if(S=j+(e[h+(L<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(M=m-~~+bn(+(N*+(m>>>0)))|0,C=(M|0)==0?1:M,M=(C|0)<(m|0)?C:m+-1|0,C=(M|0)>(g|0)?g:M,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==4096){J=S,F=4096;break}if((L|0)>1)L=L+-1|0,g=S,o=m;else{J=S,F=m;break}}if((Q|0)==28)if(Q=0,(L|0)==(I|0)){$=1;break e}else J=g,F=o;if((J|0)>0)U=J,v=F;else{$=0;break}}}while(0);if(F=e[c>>2]|0,F|0&&(c=e[d>>2]|0,(c|0)!=(F|0)&&(e[d>>2]=c+(~((c+-4-F|0)>>>2)<<2)),ve(F)),($|0)!=0|D)return X=0,q=f,X|0}$=e[r>>2]|0,F=0,c=0;do e[$+(F<<3)+4>>2]=c,c=(e[$+(F<<3)>>2]|0)+c|0,F=F+1|0;while((F|0)!=(b|0));if((c|0)!=4096)return X=0,q=f,X|0;if(D)K=0;else for(D=e[r>>2]|0,c=0,N=0;;)if(F=e[D+(c<<3)>>2]|0,F?($=n+(c<<3)|0,se=+((e[$>>2]|0)>>>0)+4294967296*+((e[$+4>>2]|0)>>>0),re=N+ +U0(+(F>>>0)*.000244140625)*se):re=N,c=c+1|0,(c|0)==(b|0)){K=re;break}else N=re;return re=+yr(+-K),b=+f0(re)>=1?re>0?~~+i0(+bn(re/4294967296),4294967295)>>>0:~~+yr((re-+(~~re>>>0))/4294967296)>>>0:0,c=r+16|0,e[c>>2]=~~re>>>0,e[c+4>>2]=b,X=zs(r,a)|0,q=f,X|0}function $b(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;if(f=q,q=q+16|0,h=f,c=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(v=n+(d<<3)|0,x=e[v>>2]|0,C=e[v+4>>2]|0,v=Wt(x|0,C|0,m|0,b|0)|0,S=Xe,M=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=M,D=S,L=v;break}else g=M,m=v,b=S;else I=0,D=0,L=0;if(b=I+1|0,e[r+12>>2]=b,m=r+4|0,g=e[m>>2]|0,o=e[r>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Fo(r,b-d|0),N=+(L>>>0)+4294967296*+(D>>>0),D=(I|0)<0,D)V=0,Q=12;else{L=e[r>>2]|0,d=0,g=0;do o=n+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*4096+.5)>>>0,v=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[L+(g<<3)>>2]=v,d=v+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==4096){if(D)return X=0,q=f,X|0}else V=d,Q=12}if((Q|0)==12){e[c>>2]=0,d=c+4|0,e[d>>2]=0,e[c+8>>2]=0;do if(b)if(b>>>0>1073741823)Je();else{g=b<<2,L=Dt(g)|0,e[c>>2]=L,v=L+(b<<2)|0,e[c+8>>2]=v,Mi(L|0,0,g|0)|0,e[d>>2]=v,U=L,j=v;break}else U=0,j=0;while(0);if(!D&&(e[U>>2]=0,I|0)){v=1;do e[U+(v<<2)>>2]=v,v=v+1|0;while((v|0)!=(b|0))}e[h>>2]=r,fx(U,j,h);e:do if((V|0)<4096)h=(e[r>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=4096-V+(e[h>>2]|0),$=0;else{if(h=e[c>>2]|0,(I|0)<=0){for(j=(V|0)>4096;;)if(!j){$=0;break e}}for(j=e[r>>2]|0,U=V+-4096|0,v=V;;){for(N=4096/+(v|0),L=I,g=U,o=v;;){if(S=j+(e[h+(L<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(M=m-~~+bn(+(N*+(m>>>0)))|0,C=(M|0)==0?1:M,M=(C|0)<(m|0)?C:m+-1|0,C=(M|0)>(g|0)?g:M,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==4096){J=S,F=4096;break}if((L|0)>1)L=L+-1|0,g=S,o=m;else{J=S,F=m;break}}if((Q|0)==28)if(Q=0,(L|0)==(I|0)){$=1;break e}else J=g,F=o;if((J|0)>0)U=J,v=F;else{$=0;break}}}while(0);if(F=e[c>>2]|0,F|0&&(c=e[d>>2]|0,(c|0)!=(F|0)&&(e[d>>2]=c+(~((c+-4-F|0)>>>2)<<2)),ve(F)),($|0)!=0|D)return X=0,q=f,X|0}$=e[r>>2]|0,F=0,c=0;do e[$+(F<<3)+4>>2]=c,c=(e[$+(F<<3)>>2]|0)+c|0,F=F+1|0;while((F|0)!=(b|0));if((c|0)!=4096)return X=0,q=f,X|0;if(D)K=0;else for(D=e[r>>2]|0,c=0,N=0;;)if(F=e[D+(c<<3)>>2]|0,F?($=n+(c<<3)|0,se=+((e[$>>2]|0)>>>0)+4294967296*+((e[$+4>>2]|0)>>>0),re=N+ +U0(+(F>>>0)*.000244140625)*se):re=N,c=c+1|0,(c|0)==(b|0)){K=re;break}else N=re;return re=+yr(+-K),b=+f0(re)>=1?re>0?~~+i0(+bn(re/4294967296),4294967295)>>>0:~~+yr((re-+(~~re>>>0))/4294967296)>>>0:0,c=r+16|0,e[c>>2]=~~re>>>0,e[c+4>>2]=b,X=zs(r,a)|0,q=f,X|0}function ey(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;if(f=q,q=q+16|0,h=f,c=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(v=n+(d<<3)|0,x=e[v>>2]|0,C=e[v+4>>2]|0,v=Wt(x|0,C|0,m|0,b|0)|0,S=Xe,M=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=M,D=S,L=v;break}else g=M,m=v,b=S;else I=0,D=0,L=0;if(b=I+1|0,e[r+12>>2]=b,m=r+4|0,g=e[m>>2]|0,o=e[r>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Fo(r,b-d|0),N=+(L>>>0)+4294967296*+(D>>>0),D=(I|0)<0,D)V=0,Q=12;else{L=e[r>>2]|0,d=0,g=0;do o=n+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*4096+.5)>>>0,v=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[L+(g<<3)>>2]=v,d=v+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==4096){if(D)return X=0,q=f,X|0}else V=d,Q=12}if((Q|0)==12){e[c>>2]=0,d=c+4|0,e[d>>2]=0,e[c+8>>2]=0;do if(b)if(b>>>0>1073741823)Je();else{g=b<<2,L=Dt(g)|0,e[c>>2]=L,v=L+(b<<2)|0,e[c+8>>2]=v,Mi(L|0,0,g|0)|0,e[d>>2]=v,U=L,j=v;break}else U=0,j=0;while(0);if(!D&&(e[U>>2]=0,I|0)){v=1;do e[U+(v<<2)>>2]=v,v=v+1|0;while((v|0)!=(b|0))}e[h>>2]=r,ux(U,j,h);e:do if((V|0)<4096)h=(e[r>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=4096-V+(e[h>>2]|0),$=0;else{if(h=e[c>>2]|0,(I|0)<=0){for(j=(V|0)>4096;;)if(!j){$=0;break e}}for(j=e[r>>2]|0,U=V+-4096|0,v=V;;){for(N=4096/+(v|0),L=I,g=U,o=v;;){if(S=j+(e[h+(L<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(M=m-~~+bn(+(N*+(m>>>0)))|0,C=(M|0)==0?1:M,M=(C|0)<(m|0)?C:m+-1|0,C=(M|0)>(g|0)?g:M,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==4096){J=S,F=4096;break}if((L|0)>1)L=L+-1|0,g=S,o=m;else{J=S,F=m;break}}if((Q|0)==28)if(Q=0,(L|0)==(I|0)){$=1;break e}else J=g,F=o;if((J|0)>0)U=J,v=F;else{$=0;break}}}while(0);if(F=e[c>>2]|0,F|0&&(c=e[d>>2]|0,(c|0)!=(F|0)&&(e[d>>2]=c+(~((c+-4-F|0)>>>2)<<2)),ve(F)),($|0)!=0|D)return X=0,q=f,X|0}$=e[r>>2]|0,F=0,c=0;do e[$+(F<<3)+4>>2]=c,c=(e[$+(F<<3)>>2]|0)+c|0,F=F+1|0;while((F|0)!=(b|0));if((c|0)!=4096)return X=0,q=f,X|0;if(D)K=0;else for(D=e[r>>2]|0,c=0,N=0;;)if(F=e[D+(c<<3)>>2]|0,F?($=n+(c<<3)|0,se=+((e[$>>2]|0)>>>0)+4294967296*+((e[$+4>>2]|0)>>>0),re=N+ +U0(+(F>>>0)*.000244140625)*se):re=N,c=c+1|0,(c|0)==(b|0)){K=re;break}else N=re;return re=+yr(+-K),b=+f0(re)>=1?re>0?~~+i0(+bn(re/4294967296),4294967295)>>>0:~~+yr((re-+(~~re>>>0))/4294967296)>>>0:0,c=r+16|0,e[c>>2]=~~re>>>0,e[c+4>>2]=b,X=zs(r,a)|0,q=f,X|0}function ty(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;if(f=q,q=q+16|0,h=f,c=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(v=n+(d<<3)|0,x=e[v>>2]|0,C=e[v+4>>2]|0,v=Wt(x|0,C|0,m|0,b|0)|0,S=Xe,M=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=M,D=S,L=v;break}else g=M,m=v,b=S;else I=0,D=0,L=0;if(b=I+1|0,e[r+12>>2]=b,m=r+4|0,g=e[m>>2]|0,o=e[r>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Fo(r,b-d|0),N=+(L>>>0)+4294967296*+(D>>>0),D=(I|0)<0,D)V=0,Q=12;else{L=e[r>>2]|0,d=0,g=0;do o=n+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*4096+.5)>>>0,v=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[L+(g<<3)>>2]=v,d=v+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==4096){if(D)return X=0,q=f,X|0}else V=d,Q=12}if((Q|0)==12){e[c>>2]=0,d=c+4|0,e[d>>2]=0,e[c+8>>2]=0;do if(b)if(b>>>0>1073741823)Je();else{g=b<<2,L=Dt(g)|0,e[c>>2]=L,v=L+(b<<2)|0,e[c+8>>2]=v,Mi(L|0,0,g|0)|0,e[d>>2]=v,U=L,j=v;break}else U=0,j=0;while(0);if(!D&&(e[U>>2]=0,I|0)){v=1;do e[U+(v<<2)>>2]=v,v=v+1|0;while((v|0)!=(b|0))}e[h>>2]=r,cx(U,j,h);e:do if((V|0)<4096)h=(e[r>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=4096-V+(e[h>>2]|0),$=0;else{if(h=e[c>>2]|0,(I|0)<=0){for(j=(V|0)>4096;;)if(!j){$=0;break e}}for(j=e[r>>2]|0,U=V+-4096|0,v=V;;){for(N=4096/+(v|0),L=I,g=U,o=v;;){if(S=j+(e[h+(L<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(M=m-~~+bn(+(N*+(m>>>0)))|0,C=(M|0)==0?1:M,M=(C|0)<(m|0)?C:m+-1|0,C=(M|0)>(g|0)?g:M,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==4096){J=S,F=4096;break}if((L|0)>1)L=L+-1|0,g=S,o=m;else{J=S,F=m;break}}if((Q|0)==28)if(Q=0,(L|0)==(I|0)){$=1;break e}else J=g,F=o;if((J|0)>0)U=J,v=F;else{$=0;break}}}while(0);if(F=e[c>>2]|0,F|0&&(c=e[d>>2]|0,(c|0)!=(F|0)&&(e[d>>2]=c+(~((c+-4-F|0)>>>2)<<2)),ve(F)),($|0)!=0|D)return X=0,q=f,X|0}$=e[r>>2]|0,F=0,c=0;do e[$+(F<<3)+4>>2]=c,c=(e[$+(F<<3)>>2]|0)+c|0,F=F+1|0;while((F|0)!=(b|0));if((c|0)!=4096)return X=0,q=f,X|0;if(D)K=0;else for(D=e[r>>2]|0,c=0,N=0;;)if(F=e[D+(c<<3)>>2]|0,F?($=n+(c<<3)|0,se=+((e[$>>2]|0)>>>0)+4294967296*+((e[$+4>>2]|0)>>>0),re=N+ +U0(+(F>>>0)*.000244140625)*se):re=N,c=c+1|0,(c|0)==(b|0)){K=re;break}else N=re;return re=+yr(+-K),b=+f0(re)>=1?re>0?~~+i0(+bn(re/4294967296),4294967295)>>>0:~~+yr((re-+(~~re>>>0))/4294967296)>>>0:0,c=r+16|0,e[c>>2]=~~re>>>0,e[c+4>>2]=b,X=zs(r,a)|0,q=f,X|0}function a6(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;if(f=q,q=q+16|0,h=f,c=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(v=n+(d<<3)|0,x=e[v>>2]|0,C=e[v+4>>2]|0,v=Wt(x|0,C|0,m|0,b|0)|0,S=Xe,M=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=M,D=S,L=v;break}else g=M,m=v,b=S;else I=0,D=0,L=0;if(b=I+1|0,e[r+12>>2]=b,m=r+4|0,g=e[m>>2]|0,o=e[r>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Fo(r,b-d|0),N=+(L>>>0)+4294967296*+(D>>>0),D=(I|0)<0,D)V=0,Q=12;else{L=e[r>>2]|0,d=0,g=0;do o=n+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*4096+.5)>>>0,v=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[L+(g<<3)>>2]=v,d=v+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==4096){if(D)return X=0,q=f,X|0}else V=d,Q=12}if((Q|0)==12){e[c>>2]=0,d=c+4|0,e[d>>2]=0,e[c+8>>2]=0;do if(b)if(b>>>0>1073741823)Je();else{g=b<<2,L=Dt(g)|0,e[c>>2]=L,v=L+(b<<2)|0,e[c+8>>2]=v,Mi(L|0,0,g|0)|0,e[d>>2]=v,U=L,j=v;break}else U=0,j=0;while(0);if(!D&&(e[U>>2]=0,I|0)){v=1;do e[U+(v<<2)>>2]=v,v=v+1|0;while((v|0)!=(b|0))}e[h>>2]=r,hx(U,j,h);e:do if((V|0)<4096)h=(e[r>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=4096-V+(e[h>>2]|0),$=0;else{if(h=e[c>>2]|0,(I|0)<=0){for(j=(V|0)>4096;;)if(!j){$=0;break e}}for(j=e[r>>2]|0,U=V+-4096|0,v=V;;){for(N=4096/+(v|0),L=I,g=U,o=v;;){if(S=j+(e[h+(L<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(M=m-~~+bn(+(N*+(m>>>0)))|0,C=(M|0)==0?1:M,M=(C|0)<(m|0)?C:m+-1|0,C=(M|0)>(g|0)?g:M,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==4096){J=S,F=4096;break}if((L|0)>1)L=L+-1|0,g=S,o=m;else{J=S,F=m;break}}if((Q|0)==28)if(Q=0,(L|0)==(I|0)){$=1;break e}else J=g,F=o;if((J|0)>0)U=J,v=F;else{$=0;break}}}while(0);if(F=e[c>>2]|0,F|0&&(c=e[d>>2]|0,(c|0)!=(F|0)&&(e[d>>2]=c+(~((c+-4-F|0)>>>2)<<2)),ve(F)),($|0)!=0|D)return X=0,q=f,X|0}$=e[r>>2]|0,F=0,c=0;do e[$+(F<<3)+4>>2]=c,c=(e[$+(F<<3)>>2]|0)+c|0,F=F+1|0;while((F|0)!=(b|0));if((c|0)!=4096)return X=0,q=f,X|0;if(D)K=0;else for(D=e[r>>2]|0,c=0,N=0;;)if(F=e[D+(c<<3)>>2]|0,F?($=n+(c<<3)|0,se=+((e[$>>2]|0)>>>0)+4294967296*+((e[$+4>>2]|0)>>>0),re=N+ +U0(+(F>>>0)*.000244140625)*se):re=N,c=c+1|0,(c|0)==(b|0)){K=re;break}else N=re;return re=+yr(+-K),b=+f0(re)>=1?re>0?~~+i0(+bn(re/4294967296),4294967295)>>>0:~~+yr((re-+(~~re>>>0))/4294967296)>>>0:0,c=r+16|0,e[c>>2]=~~re>>>0,e[c+4>>2]=b,X=zs(r,a)|0,q=f,X|0}function l6(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;if(f=q,q=q+16|0,h=f,c=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(v=n+(d<<3)|0,x=e[v>>2]|0,C=e[v+4>>2]|0,v=Wt(x|0,C|0,m|0,b|0)|0,S=Xe,M=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=M,D=S,L=v;break}else g=M,m=v,b=S;else I=0,D=0,L=0;if(b=I+1|0,e[r+12>>2]=b,m=r+4|0,g=e[m>>2]|0,o=e[r>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Fo(r,b-d|0),N=+(L>>>0)+4294967296*+(D>>>0),D=(I|0)<0,D)V=0,Q=12;else{L=e[r>>2]|0,d=0,g=0;do o=n+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*4096+.5)>>>0,v=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[L+(g<<3)>>2]=v,d=v+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==4096){if(D)return X=0,q=f,X|0}else V=d,Q=12}if((Q|0)==12){e[c>>2]=0,d=c+4|0,e[d>>2]=0,e[c+8>>2]=0;do if(b)if(b>>>0>1073741823)Je();else{g=b<<2,L=Dt(g)|0,e[c>>2]=L,v=L+(b<<2)|0,e[c+8>>2]=v,Mi(L|0,0,g|0)|0,e[d>>2]=v,U=L,j=v;break}else U=0,j=0;while(0);if(!D&&(e[U>>2]=0,I|0)){v=1;do e[U+(v<<2)>>2]=v,v=v+1|0;while((v|0)!=(b|0))}e[h>>2]=r,dx(U,j,h);e:do if((V|0)<4096)h=(e[r>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=4096-V+(e[h>>2]|0),$=0;else{if(h=e[c>>2]|0,(I|0)<=0){for(j=(V|0)>4096;;)if(!j){$=0;break e}}for(j=e[r>>2]|0,U=V+-4096|0,v=V;;){for(N=4096/+(v|0),L=I,g=U,o=v;;){if(S=j+(e[h+(L<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(M=m-~~+bn(+(N*+(m>>>0)))|0,C=(M|0)==0?1:M,M=(C|0)<(m|0)?C:m+-1|0,C=(M|0)>(g|0)?g:M,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==4096){J=S,F=4096;break}if((L|0)>1)L=L+-1|0,g=S,o=m;else{J=S,F=m;break}}if((Q|0)==28)if(Q=0,(L|0)==(I|0)){$=1;break e}else J=g,F=o;if((J|0)>0)U=J,v=F;else{$=0;break}}}while(0);if(F=e[c>>2]|0,F|0&&(c=e[d>>2]|0,(c|0)!=(F|0)&&(e[d>>2]=c+(~((c+-4-F|0)>>>2)<<2)),ve(F)),($|0)!=0|D)return X=0,q=f,X|0}$=e[r>>2]|0,F=0,c=0;do e[$+(F<<3)+4>>2]=c,c=(e[$+(F<<3)>>2]|0)+c|0,F=F+1|0;while((F|0)!=(b|0));if((c|0)!=4096)return X=0,q=f,X|0;if(D)K=0;else for(D=e[r>>2]|0,c=0,N=0;;)if(F=e[D+(c<<3)>>2]|0,F?($=n+(c<<3)|0,se=+((e[$>>2]|0)>>>0)+4294967296*+((e[$+4>>2]|0)>>>0),re=N+ +U0(+(F>>>0)*.000244140625)*se):re=N,c=c+1|0,(c|0)==(b|0)){K=re;break}else N=re;return re=+yr(+-K),b=+f0(re)>=1?re>0?~~+i0(+bn(re/4294967296),4294967295)>>>0:~~+yr((re-+(~~re>>>0))/4294967296)>>>0:0,c=r+16|0,e[c>>2]=~~re>>>0,e[c+4>>2]=b,X=zs(r,a)|0,q=f,X|0}function C2(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;if(f=q,q=q+16|0,h=f,c=f+4|0,(o|0)>0)for(g=0,d=0,m=0,b=0;;)if(v=n+(d<<3)|0,x=e[v>>2]|0,C=e[v+4>>2]|0,v=Wt(x|0,C|0,m|0,b|0)|0,S=Xe,M=(x|0)==0&(C|0)==0?g:d,d=d+1|0,(d|0)==(o|0)){I=M,D=S,L=v;break}else g=M,m=v,b=S;else I=0,D=0,L=0;if(b=I+1|0,e[r+12>>2]=b,m=r+4|0,g=e[m>>2]|0,o=e[r>>2]|0,d=g-o>>3,S=o,o=g,b>>>0<=d>>>0?b>>>0<d>>>0&&(g=S+(b<<3)|0,(g|0)!=(o|0))&&(e[m>>2]=o+(~((o+-8-g|0)>>>3)<<3)):Fo(r,b-d|0),N=+(L>>>0)+4294967296*+(D>>>0),D=(I|0)<0,D)V=0,Q=12;else{L=e[r>>2]|0,d=0,g=0;do o=n+(g<<3)|0,m=e[o>>2]|0,S=e[o+4>>2]|0,o=~~((+(m>>>0)+4294967296*+(S>>>0))/N*4096+.5)>>>0,v=((m|0)!=0|(S|0)!=0)&(o|0)==0?1:o,e[L+(g<<3)>>2]=v,d=v+d|0,g=g+1|0;while((g|0)!=(b|0));if((d|0)==4096){if(D)return X=0,q=f,X|0}else V=d,Q=12}if((Q|0)==12){e[c>>2]=0,d=c+4|0,e[d>>2]=0,e[c+8>>2]=0;do if(b)if(b>>>0>1073741823)Je();else{g=b<<2,L=Dt(g)|0,e[c>>2]=L,v=L+(b<<2)|0,e[c+8>>2]=v,Mi(L|0,0,g|0)|0,e[d>>2]=v,U=L,j=v;break}else U=0,j=0;while(0);if(!D&&(e[U>>2]=0,I|0)){v=1;do e[U+(v<<2)>>2]=v,v=v+1|0;while((v|0)!=(b|0))}e[h>>2]=r,px(U,j,h);e:do if((V|0)<4096)h=(e[r>>2]|0)+(e[(e[d>>2]|0)+-4>>2]<<3)|0,e[h>>2]=4096-V+(e[h>>2]|0),$=0;else{if(h=e[c>>2]|0,(I|0)<=0){for(j=(V|0)>4096;;)if(!j){$=0;break e}}for(j=e[r>>2]|0,U=V+-4096|0,v=V;;){for(N=4096/+(v|0),L=I,g=U,o=v;;){if(S=j+(e[h+(L<<2)>>2]<<3)|0,m=e[S>>2]|0,m>>>0<2){Q=28;break}if(M=m-~~+bn(+(N*+(m>>>0)))|0,C=(M|0)==0?1:M,M=(C|0)<(m|0)?C:m+-1|0,C=(M|0)>(g|0)?g:M,e[S>>2]=m-C,m=o-C|0,S=g-C|0,(m|0)==4096){J=S,F=4096;break}if((L|0)>1)L=L+-1|0,g=S,o=m;else{J=S,F=m;break}}if((Q|0)==28)if(Q=0,(L|0)==(I|0)){$=1;break e}else J=g,F=o;if((J|0)>0)U=J,v=F;else{$=0;break}}}while(0);if(F=e[c>>2]|0,F|0&&(c=e[d>>2]|0,(c|0)!=(F|0)&&(e[d>>2]=c+(~((c+-4-F|0)>>>2)<<2)),ve(F)),($|0)!=0|D)return X=0,q=f,X|0}$=e[r>>2]|0,F=0,c=0;do e[$+(F<<3)+4>>2]=c,c=(e[$+(F<<3)>>2]|0)+c|0,F=F+1|0;while((F|0)!=(b|0));if((c|0)!=4096)return X=0,q=f,X|0;if(D)K=0;else for(D=e[r>>2]|0,c=0,N=0;;)if(F=e[D+(c<<3)>>2]|0,F?($=n+(c<<3)|0,se=+((e[$>>2]|0)>>>0)+4294967296*+((e[$+4>>2]|0)>>>0),re=N+ +U0(+(F>>>0)*.000244140625)*se):re=N,c=c+1|0,(c|0)==(b|0)){K=re;break}else N=re;return re=+yr(+-K),b=+f0(re)>=1?re>0?~~+i0(+bn(re/4294967296),4294967295)>>>0:~~+yr((re-+(~~re>>>0))/4294967296)>>>0:0,c=r+16|0,e[c>>2]=~~re>>>0,e[c+4>>2]=b,X=zs(r,a)|0,q=f,X|0}function iy(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0;h=q,q=q+32|0,a=h+16|0,c=h+8|0,g=h,d=f>>>0>1073741823?-1:f<<2,m=Fl(d)|0,Mi(m|0,0,d|0)|0,d=e[r+28>>2]|0,b=r+36|0,v=e[b>>2]|0,x=e[v+4>>2]|0,C=e[v>>2]|0,S=x-C|0;e:do if((S|0)>4){for(M=S>>2,I=e[r+32>>2]|0,D=r+8|0,L=c+4|0,N=g+4|0,X=a+4|0,V=d+12|0,Q=(f|0)>0,U=m+4|0,j=c+4|0,$=g+4|0,J=a+4|0,F=M+-1|0,x-C>>2>>>0>F>>>0?(K=M,re=F,se=C):Je();;){if(F=e[se+(re<<2)>>2]|0,M=_i(re,f)|0,(F|0)!=-1&&(fe=e[(e[V>>2]|0)+(F<<2)>>2]|0,(fe|0)!=-1))if(F=e[d>>2]|0,Ee=e[I>>2]|0,Ne=e[Ee+(e[F+(fe<<2)>>2]<<2)>>2]|0,me=fe+1|0,Ie=((me>>>0)%3|0|0)==0?fe+-2|0:me,(Ie|0)==-1?_e=-1:_e=e[F+(Ie<<2)>>2]|0,Ie=e[Ee+(_e<<2)>>2]|0,me=(((fe>>>0)%3|0|0)==0?2:-1)+fe|0,(me|0)==-1?Ce=-1:Ce=e[F+(me<<2)>>2]|0,me=e[Ee+(Ce<<2)>>2]|0,(Ne|0)<(re|0)&(Ie|0)<(re|0)&(me|0)<(re|0)){if(Ee=_i(Ne,f)|0,Ne=_i(Ie,f)|0,Ie=_i(me,f)|0,Q){me=0;do e[m+(me<<2)>>2]=(e[n+(me+Ie<<2)>>2]|0)+(e[n+(me+Ne<<2)>>2]|0)-(e[n+(me+Ee<<2)>>2]|0),me=me+1|0;while((me|0)!=(f|0))}me=n+(M<<2)|0,Ee=o+(M<<2)|0,Ne=e[me+4>>2]|0,Ie=e[m>>2]|0,F=e[U>>2]|0,e[c>>2]=e[me>>2],e[j>>2]=Ne,e[g>>2]=Ie,e[$>>2]=F,Ds(a,D,c,g),e[Ee>>2]=e[a>>2],e[Ee+4>>2]=e[J>>2]}else We=15;else We=15;if((We|0)==15&&(We=0,Ee=n+(M<<2)|0,F=n+((_i(K+-2|0,f)|0)<<2)|0,Ie=o+(M<<2)|0,Ne=e[Ee+4>>2]|0,me=e[F>>2]|0,fe=e[F+4>>2]|0,e[c>>2]=e[Ee>>2],e[L>>2]=Ne,e[g>>2]=me,e[N>>2]=fe,Ds(a,D,c,g),e[Ie>>2]=e[a>>2],e[Ie+4>>2]=e[X>>2]),(K|0)<=2)break e;if(Ie=e[b>>2]|0,se=e[Ie>>2]|0,fe=re+-1|0,(e[Ie+4>>2]|0)-se>>2>>>0<=fe>>>0)break;Ie=re,re=fe,K=Ie}Je()}while(0);return(f|0)<=0?(at=r+8|0,Ke=n+4|0,Ve=e[n>>2]|0,Ue=e[Ke>>2]|0,st=m+4|0,Qe=e[m>>2]|0,it=e[st>>2]|0,e[c>>2]=Ve,ze=c+4|0,e[ze>>2]=Ue,e[g>>2]=Qe,Ge=g+4|0,e[Ge>>2]=it,Ds(a,at,c,g),ke=e[a>>2]|0,e[o>>2]=ke,ut=a+4|0,et=e[ut>>2]|0,ot=o+4|0,e[ot>>2]=et,N0(m),q=h,1):(Mi(m|0,0,f<<2|0)|0,at=r+8|0,Ke=n+4|0,Ve=e[n>>2]|0,Ue=e[Ke>>2]|0,st=m+4|0,Qe=e[m>>2]|0,it=e[st>>2]|0,e[c>>2]=Ve,ze=c+4|0,e[ze>>2]=Ue,e[g>>2]=Qe,Ge=g+4|0,e[Ge>>2]=it,Ds(a,at,c,g),ke=e[a>>2]|0,e[o>>2]=ke,ut=a+4|0,et=e[ut>>2]|0,ot=o+4|0,e[ot>>2]=et,N0(m),q=h,1)}function pn(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0;if(o=q,q=q+32|0,a=o,f=o+20|0,h=o+24|0,c=o+8|0,g=e[r>>2]|0,d=g+8|0,m=g,g=e[m>>2]|0,b=e[m+4>>2]|0,m=Wt(g|0,b|0,e[d>>2]|0,e[d+4>>2]|0)|0,d=Xe,v=Wt(m|0,d|0,(m|0)==0&(d|0)==0&1|0,0)|0,d=~~((+(g>>>0)+4294967296*+(b>>>0))/(+(v>>>0)+4294967296*+(Xe>>>0))*256+.5)>>>0,v=d>>>0<255?d:255,d=v+((v|0)==0&1)&255,Z[h>>0]=d,v=r+12|0,b=r+16|0,g=((e[b>>2]|0)-(e[v>>2]|0)<<1)+64|0,e[c>>2]=0,m=c+4|0,e[m>>2]=0,e[c+8>>2]=0,!g)x=0;else{(g|0)<0&&Je(),C=Dt(g)|0,e[m>>2]=C,e[c>>2]=C,e[c+8>>2]=C+g,S=g,g=C;do Z[g>>0]=0,g=(e[m>>2]|0)+1|0,e[m>>2]=g,S=S+-1|0;while((S|0)!=0);x=e[c>>2]|0}S=r+28|0,g=(e[S>>2]|0)+-1|0;e:do if((g|0)>-1)for(C=r+24|0,M=g,I=0,D=4096,L=d;;){if(N=(e[C>>2]&1<<M|0)!=0,X=(N?0-(L&255)&255:L)&255,D>>>0<X<<12>>>0?(V=I,Q=D):(Z[x+I>>0]=D,V=I+1|0,Q=D>>>8),zi(e[3780+(X<<3)>>2]|0,0,Q|0,0)|0,U=Q+(N?0:0-L&255)+(_i((Q+Xe|0)>>>(e[3780+(X<<3)+4>>2]|0),256-X|0)|0)|0,X=M+-1|0,(X|0)<=-1){j=V,$=U;break e}M=X,I=V,D=U,L=Z[h>>0]|0}else j=0,$=4096;while(0);if(V=e[b>>2]|0,(e[v>>2]|0)==(V|0))J=j,F=$;else for(Q=j,j=$,$=V;;){for($=$+-4|0,V=e[$>>2]|0,d=31,g=Q,L=j;D=Z[h>>0]|0,I=(1<<d&V|0)!=0,M=(I?0-(D&255)&255:D)&255,L>>>0<M<<12>>>0?(K=g,re=L):(Z[x+g>>0]=L,K=g+1|0,re=L>>>8),zi(e[3780+(M<<3)>>2]|0,0,re|0,0)|0,L=re+(I?0:0-D&255)+(_i((re+Xe|0)>>>(e[3780+(M<<3)+4>>2]|0),256-M|0)|0)|0,!((d|0)<=0);)d=d+-1|0,g=K;if((e[v>>2]|0)==($|0)){J=K,F=L;break}else Q=K,j=L}j=F+-4096|0;do if(j>>>0>=64){if(j>>>0<16384){K=x+J|0,Q=F+12288|0,Z[K>>0]=Q,se=2,fe=Q>>>8,Ee=K+1|0,Ne=25;break}j>>>0<4194304?(K=x+J|0,Q=F+8384512|0,Z[K>>0]=Q,Z[K+1>>0]=Q>>>8,se=3,fe=Q>>>16,Ee=K+2|0,Ne=25):me=J}else se=1,fe=j,Ee=x+J|0,Ne=25;while(0);if((Ne|0)==25&&(Z[Ee>>0]=fe,me=se+J|0),J=n+16|0,se=J,fe=e[se+4>>2]|0,(fe|0)>0|(fe|0)==0&(e[se>>2]|0)>>>0>0||(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+1|0)|0),p0(me,n)|0,h=e[c>>2]|0,se=J,J=e[se+4>>2]|0,(J|0)>0|(J|0)==0&(e[se>>2]|0)>>>0>0||(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+me|0)|0),me=a,e[me>>2]=0,e[me+4>>2]=0,F2(r,2,a),a=e[r+12>>2]|0,me=e[b>>2]|0,(me|0)!=(a|0)&&(e[b>>2]=me+(~((me+-4-a|0)>>>2)<<2)),e[r+24>>2]=0,e[S>>2]=0,S=e[c>>2]|0,!S){q=o;return}(e[m>>2]|0)!=(S|0)&&(e[m>>2]=S),ve(S),q=o}function f6(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0;if(o=q,q=q+16|0,n=o+8|0,a=o+4|0,f=o,h=r+64|0,c=e[h>>2]|0,(e[c+28>>2]|0)==(e[c+24>>2]|0)){q=o;return}for(g=r+52|0,d=r+56|0,m=r+60|0,b=r+12|0,v=r+28|0,x=r+40|0,C=r+44|0,S=r+48|0,M=0,I=0,D=c;;){if(c=e[(e[D+24>>2]|0)+(I<<2)>>2]|0,(c|0)==-1)L=M,N=D;else{X=M+1|0,e[n>>2]=M,V=e[d>>2]|0,(V|0)==(e[m>>2]|0)?pr(g,n):(e[V>>2]=M,e[d>>2]=V+4),e[a>>2]=c,e[f>>2]=0;e:do if(!(e[(e[b>>2]|0)+(I>>>5<<2)>>2]&1<<(I&31)))Q=c;else{if(V=c+1|0,U=((V>>>0)%3|0|0)==0?c+-2|0:V,(U|0)!=-1&&(e[(e[r>>2]|0)+(U>>>5<<2)>>2]&1<<(U&31)|0)==0&&(V=e[(e[(e[h>>2]|0)+12>>2]|0)+(U<<2)>>2]|0,U=V+1|0,(V|0)!=-1)){if(j=((U>>>0)%3|0|0)==0?V+-2|0:U,e[f>>2]=j,(j|0)==-1){Q=c;break}else $=j;for(;e[a>>2]=$,j=$+1|0,U=((j>>>0)%3|0|0)==0?$+-2|0:j,!((U|0)==-1||e[(e[r>>2]|0)+(U>>>5<<2)>>2]&1<<(U&31)|0||(j=e[(e[(e[h>>2]|0)+12>>2]|0)+(U<<2)>>2]|0,U=j+1|0,(j|0)==-1));)if(V=((U>>>0)%3|0|0)==0?j+-2|0:U,e[f>>2]=V,(V|0)==-1){Q=$;break e}else $=V;e[f>>2]=-1,Q=$;break}e[f>>2]=-1,Q=c}while(0);e[(e[v>>2]|0)+(Q<<2)>>2]=e[n>>2],c=e[C>>2]|0,(c|0)==(e[S>>2]|0)?pr(x,a):(e[c>>2]=e[a>>2],e[C>>2]=c+4),c=e[h>>2]|0,V=e[a>>2]|0;e:do if((V|0)!=-1&&(U=(((V>>>0)%3|0|0)==0?2:-1)+V|0,(U|0)!=-1)&&(j=e[(e[c+12>>2]|0)+(U<<2)>>2]|0,(j|0)!=-1))if(U=j+(((j>>>0)%3|0|0)==0?2:-1)|0,e[f>>2]=U,(U|0)!=-1&(U|0)!=(V|0)){for(j=X,J=U;;){U=J+1|0,F=((U>>>0)%3|0|0)==0?J+-2|0:U;do if(e[(e[r>>2]|0)+(F>>>5<<2)>>2]&1<<(F&31))if(U=j+1|0,e[n>>2]=j,K=e[d>>2]|0,(K|0)==(e[m>>2]|0)?pr(g,n):(e[K>>2]=j,e[d>>2]=K+4),K=e[C>>2]|0,(K|0)==(e[S>>2]|0)){pr(x,f),re=U;break}else{e[K>>2]=e[f>>2],e[C>>2]=K+4,re=U;break}else re=j;while(0);if(e[(e[v>>2]|0)+(e[f>>2]<<2)>>2]=e[n>>2],se=e[h>>2]|0,F=e[f>>2]|0,(F|0)==-1||(U=(((F>>>0)%3|0|0)==0?2:-1)+F|0,(U|0)==-1)||(F=e[(e[se+12>>2]|0)+(U<<2)>>2]|0,(F|0)==-1))break;if(J=F+(((F>>>0)%3|0|0)==0?2:-1)|0,e[f>>2]=J,(J|0)!=-1&&(J|0)!=(e[a>>2]|0))j=re;else{fe=re,Ee=se;break e}}e[f>>2]=-1,fe=re,Ee=se}else fe=X,Ee=c;else Ne=26;while(0);(Ne|0)==26&&(Ne=0,e[f>>2]=-1,fe=X,Ee=c),L=fe,N=Ee}if(I=I+1|0,I>>>0>=(e[N+28>>2]|0)-(e[N+24>>2]|0)>>2>>>0)break;M=L,D=N}q=o}function Yh(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;o=q,q=q+16|0,a=o+8|0,f=o+4|0,h=o,c=r+124|0,e[c>>2]=(e[c>>2]|0)+1,c=r+88|0,g=r+120|0,d=e[g>>2]|0,m=d+1|0;do if((d|0)!=-1)if(b=((m>>>0)%3|0|0)==0?d+-2|0:m,(d>>>0)%3|0){v=d+-1|0,x=b;break}else{v=d+2|0,x=b;break}else v=-1,x=-1;while(0);switch(m=r+104|0,b=r+92|0,C=e[b>>2]|0,S=C+(x<<2)|0,M=e[m>>2]|0,I=M+(e[S>>2]<<2)|0,D=e[I>>2]|0,n|0){case 1:case 0:{if(e[I>>2]=D+-1,I=M+(e[C+(v<<2)>>2]<<2)|0,e[I>>2]=(e[I>>2]|0)+-1,(n|0)==1){if((v|0)!=-1&&(I=e[(e[(e[c>>2]|0)+12>>2]|0)+(v<<2)>>2]|0,(I|0)!=-1)){for(L=r+64|0,N=1,X=I;;){if(I=e[L>>2]|0,V=e[(e[I>>2]|0)+36>>2]|0,e[f>>2]=(X>>>0)/3|0,e[a>>2]=e[f>>2],M0[V&127](I,a)|0){Q=N;break}if(I=X+1|0,V=((I>>>0)%3|0|0)==0?X+-2|0:I,(V|0)==-1){U=12;break}if(X=e[(e[(e[c>>2]|0)+12>>2]|0)+(V<<2)>>2]|0,V=N+1|0,(X|0)==-1){Q=V;break}else N=V}(U|0)==12&&(Q=N+1|0),j=Q,$=e[m>>2]|0,J=e[b>>2]|0}else j=1,$=M,J=C;if(e[$+(e[J+(e[g>>2]<<2)>>2]<<2)>>2]=j,j=r+108|0,g=e[j>>2]|0,J=g-$>>2,$=g,(x|0)!=-1&&(g=e[(e[(e[c>>2]|0)+12>>2]|0)+(x<<2)>>2]|0,(g|0)!=-1)){for(x=r+64|0,Q=1,N=g;;){if(g=e[x>>2]|0,X=e[(e[g>>2]|0)+36>>2]|0,e[h>>2]=(N>>>0)/3|0,e[a>>2]=e[h>>2],M0[X&127](g,a)|0){F=Q;break}if(g=N+1|0,e[(e[b>>2]|0)+((((g>>>0)%3|0|0)==0?N+-2|0:g)<<2)>>2]=J,g=(((N>>>0)%3|0|0)==0?2:-1)+N|0,(g|0)==-1){U=20;break}if(N=e[(e[(e[c>>2]|0)+12>>2]|0)+(g<<2)>>2]|0,g=Q+1|0,(N|0)==-1){F=g;break}else Q=g}(U|0)==20&&(F=Q+1|0),K=F,re=e[j>>2]|0}else K=1,re=$;e[a>>2]=K,re>>>0<(e[r+112>>2]|0)>>>0?(e[re>>2]=K,e[j>>2]=re+4):pr(m,a)}break}case 5:{m=M+(e[C+(d<<2)>>2]<<2)|0,e[m>>2]=(e[m>>2]|0)+-1,m=M+(e[S>>2]<<2)|0,e[m>>2]=(e[m>>2]|0)+-1,m=M+(e[C+(v<<2)>>2]<<2)|0,e[m>>2]=(e[m>>2]|0)+-2;break}case 3:{m=M+(e[C+(d<<2)>>2]<<2)|0,e[m>>2]=(e[m>>2]|0)+-1,m=M+(e[S>>2]<<2)|0,e[m>>2]=(e[m>>2]|0)+-2,m=M+(e[C+(v<<2)>>2]<<2)|0,e[m>>2]=(e[m>>2]|0)+-1;break}case 7:{m=M+(e[C+(d<<2)>>2]<<2)|0,e[m>>2]=(e[m>>2]|0)+-2,m=M+(e[S>>2]<<2)|0,e[m>>2]=(e[m>>2]|0)+-2,m=M+(e[C+(v<<2)>>2]<<2)|0,e[m>>2]=(e[m>>2]|0)+-2;break}}if(m=r+116|0,v=e[m>>2]|0,(v|0)==-1){e[m>>2]=n,q=o;return}C=e[r+128>>2]|0,(D|0)<(C|0)?se=C:(M=e[r+132>>2]|0,se=(D|0)>(M|0)?M:D),D=se-C|0,C=e[r+136>>2]|0,r=e[3384+(v<<2)>>2]|0,e[a>>2]=r,v=C+(D*12|0)+4|0,se=e[v>>2]|0,se>>>0<(e[C+(D*12|0)+8>>2]|0)>>>0?(e[se>>2]=r,e[v>>2]=se+4):pr(C+(D*12|0)|0,a),e[m>>2]=n,q=o}function Cc(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0;h=q,q=q+32|0,a=h+16|0,c=h+8|0,g=h,d=f>>>0>1073741823?-1:f<<2,m=Fl(d)|0,Mi(m|0,0,d|0)|0,d=e[r+28>>2]|0,b=r+36|0,v=e[b>>2]|0,x=e[v+4>>2]|0,C=e[v>>2]|0,S=x-C|0;e:do if((S|0)>4){for(M=S>>2,I=e[r+32>>2]|0,D=r+8|0,L=c+4|0,N=g+4|0,X=a+4|0,V=d+64|0,Q=d+28|0,U=(f|0)>0,j=m+4|0,$=c+4|0,J=g+4|0,F=a+4|0,K=M+-1|0,x-C>>2>>>0>K>>>0?(re=M,se=K,fe=C):Je();;){if(K=e[fe+(se<<2)>>2]|0,M=_i(se,f)|0,(K|0)!=-1&&(e[(e[d>>2]|0)+(K>>>5<<2)>>2]&1<<(K&31)|0)==0&&(Ee=e[(e[(e[V>>2]|0)+12>>2]|0)+(K<<2)>>2]|0,(Ee|0)!=-1)&&(K=e[Q>>2]|0,Ne=e[I>>2]|0,me=e[Ne+(e[K+(Ee<<2)>>2]<<2)>>2]|0,Ie=Ee+1|0,_e=e[Ne+(e[K+((((Ie>>>0)%3|0|0)==0?Ee+-2|0:Ie)<<2)>>2]<<2)>>2]|0,Ie=e[Ne+(e[K+((((Ee>>>0)%3|0|0)==0?2:-1)+Ee<<2)>>2]<<2)>>2]|0,(me|0)<(se|0)&(_e|0)<(se|0)&(Ie|0)<(se|0))){if(Ee=_i(me,f)|0,me=_i(_e,f)|0,_e=_i(Ie,f)|0,U){Ie=0;do e[m+(Ie<<2)>>2]=(e[n+(Ie+_e<<2)>>2]|0)+(e[n+(Ie+me<<2)>>2]|0)-(e[n+(Ie+Ee<<2)>>2]|0),Ie=Ie+1|0;while((Ie|0)!=(f|0))}Ie=n+(M<<2)|0,Ee=o+(M<<2)|0,me=e[Ie+4>>2]|0,_e=e[m>>2]|0,K=e[j>>2]|0,e[c>>2]=e[Ie>>2],e[$>>2]=me,e[g>>2]=_e,e[J>>2]=K,Ds(a,D,c,g),e[Ee>>2]=e[a>>2],e[Ee+4>>2]=e[F>>2]}else Ee=n+(M<<2)|0,K=n+((_i(re+-2|0,f)|0)<<2)|0,_e=o+(M<<2)|0,me=e[Ee+4>>2]|0,Ie=e[K>>2]|0,Ne=e[K+4>>2]|0,e[c>>2]=e[Ee>>2],e[L>>2]=me,e[g>>2]=Ie,e[N>>2]=Ne,Ds(a,D,c,g),e[_e>>2]=e[a>>2],e[_e+4>>2]=e[X>>2];if((re|0)<=2)break e;if(_e=e[b>>2]|0,fe=e[_e>>2]|0,Ne=se+-1|0,(e[_e+4>>2]|0)-fe>>2>>>0<=Ne>>>0)break;_e=se,se=Ne,re=_e}Je()}while(0);return(f|0)<=0?(Ce=r+8|0,We=n+4|0,at=e[n>>2]|0,Ke=e[We>>2]|0,Ve=m+4|0,Ue=e[m>>2]|0,st=e[Ve>>2]|0,e[c>>2]=at,Qe=c+4|0,e[Qe>>2]=Ke,e[g>>2]=Ue,it=g+4|0,e[it>>2]=st,Ds(a,Ce,c,g),ze=e[a>>2]|0,e[o>>2]=ze,Ge=a+4|0,ke=e[Ge>>2]|0,ut=o+4|0,e[ut>>2]=ke,N0(m),q=h,1):(Mi(m|0,0,f<<2|0)|0,Ce=r+8|0,We=n+4|0,at=e[n>>2]|0,Ke=e[We>>2]|0,Ve=m+4|0,Ue=e[m>>2]|0,st=e[Ve>>2]|0,e[c>>2]=at,Qe=c+4|0,e[Qe>>2]=Ke,e[g>>2]=Ue,it=g+4|0,e[it>>2]=st,Ds(a,Ce,c,g),ze=e[a>>2]|0,e[o>>2]=ze,Ge=a+4|0,ke=e[Ge>>2]|0,ut=o+4|0,e[ut>>2]=ke,N0(m),q=h,1)}function S2(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;if(o=r+4|0,!n){a=e[r>>2]|0,e[r>>2]=0,a|0&&ve(a),e[o>>2]=0;return}n>>>0>1073741823&&(a=wn(8)|0,u0(a,14941),e[a>>2]=6944,yn(a|0,1080,114)),a=Dt(n<<2)|0,f=e[r>>2]|0,e[r>>2]=a,f|0&&ve(f),e[o>>2]=n,o=0;do e[(e[r>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(n|0));if(o=r+8|0,f=e[o>>2]|0,!f)return;if(a=e[f+4>>2]|0,h=n+-1|0,c=(h&n|0)==0,c?g=a&h:a>>>0<n>>>0?g=a:g=(a>>>0)%(n>>>0)|0,e[(e[r>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,v=f;else return;e:for(;;){f=m,o=b,g=v;t:for(;;){i:do if(c)for(a=o;;){if(x=e[a+4>>2]&h,(x|0)==(d|0)){C=a;break i}if(S=(e[r>>2]|0)+(x<<2)|0,!(e[S>>2]|0)){M=a,I=x,D=S;break t}S=a+8|0,L=S+2|0,N=a+12|0,X=S+6|0,V=e[a>>2]|0;r:do if(!V)Q=a;else for(U=Oi[S>>1]|0,j=a,$=V;;){if(J=$+8|0,U<<16>>16!=(Oi[J>>1]|0)){Q=j;break r}if((Oi[L>>1]|0)!=(Oi[J+2>>1]|0)){Q=j;break r}if((Oi[N>>1]|0)!=(Oi[$+12>>1]|0)){Q=j;break r}if((Oi[X>>1]|0)!=(Oi[J+6>>1]|0)){Q=j;break r}if(J=e[$>>2]|0,J)F=$,$=J,j=F;else{Q=$;break}}while(0);if(e[g>>2]=e[Q>>2],e[Q>>2]=e[e[(e[r>>2]|0)+(x<<2)>>2]>>2],e[e[(e[r>>2]|0)+(x<<2)>>2]>>2]=a,a=e[f>>2]|0,!a){K=43;break e}}else for(a=o;;){if(X=e[a+4>>2]|0,X>>>0<n>>>0?re=X:re=(X>>>0)%(n>>>0)|0,(re|0)==(d|0)){C=a;break i}if(X=(e[r>>2]|0)+(re<<2)|0,!(e[X>>2]|0)){M=a,I=re,D=X;break t}X=a+8|0,N=X+2|0,L=a+12|0,V=X+6|0,S=e[a>>2]|0;r:do if(!S)se=a;else for(j=Oi[X>>1]|0,$=a,U=S;;){if(F=U+8|0,j<<16>>16!=(Oi[F>>1]|0)){se=$;break r}if((Oi[N>>1]|0)!=(Oi[F+2>>1]|0)){se=$;break r}if((Oi[L>>1]|0)!=(Oi[U+12>>1]|0)){se=$;break r}if((Oi[V>>1]|0)!=(Oi[F+6>>1]|0)){se=$;break r}if(F=e[U>>2]|0,F)J=U,U=F,$=J;else{se=U;break}}while(0);if(e[g>>2]=e[se>>2],e[se>>2]=e[e[(e[r>>2]|0)+(re<<2)>>2]>>2],e[e[(e[r>>2]|0)+(re<<2)>>2]>>2]=a,a=e[f>>2]|0,!a){K=43;break e}}while(0);if(o=e[C>>2]|0,o)f=C,g=C;else{K=43;break e}}if(e[D>>2]=g,b=e[M>>2]|0,b)d=I,m=M,v=M;else{K=43;break}}K|0}function Kh(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;if(o=r+4|0,!n){a=e[r>>2]|0,e[r>>2]=0,a|0&&ve(a),e[o>>2]=0;return}n>>>0>1073741823&&(a=wn(8)|0,u0(a,14941),e[a>>2]=6944,yn(a|0,1080,114)),a=Dt(n<<2)|0,f=e[r>>2]|0,e[r>>2]=a,f|0&&ve(f),e[o>>2]=n,o=0;do e[(e[r>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(n|0));if(o=r+8|0,f=e[o>>2]|0,!f)return;if(a=e[f+4>>2]|0,h=n+-1|0,c=(h&n|0)==0,c?g=a&h:a>>>0<n>>>0?g=a:g=(a>>>0)%(n>>>0)|0,e[(e[r>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,v=f;else return;e:for(;;){f=m,o=b,g=v;t:for(;;){i:do if(c)for(a=o;;){if(x=e[a+4>>2]&h,(x|0)==(d|0)){C=a;break i}if(S=(e[r>>2]|0)+(x<<2)|0,!(e[S>>2]|0)){M=a,I=x,D=S;break t}S=a+8|0,L=S+1|0,N=S+2|0,X=S+3|0,V=e[a>>2]|0;r:do if(!V)Q=a;else for(U=Z[S>>0]|0,j=a,$=V;;){if(J=$+8|0,U<<24>>24!=(Z[J>>0]|0)){Q=j;break r}if((Z[L>>0]|0)!=(Z[J+1>>0]|0)){Q=j;break r}if((Z[N>>0]|0)!=(Z[J+2>>0]|0)){Q=j;break r}if((Z[X>>0]|0)!=(Z[J+3>>0]|0)){Q=j;break r}if(J=e[$>>2]|0,J)F=$,$=J,j=F;else{Q=$;break}}while(0);if(e[g>>2]=e[Q>>2],e[Q>>2]=e[e[(e[r>>2]|0)+(x<<2)>>2]>>2],e[e[(e[r>>2]|0)+(x<<2)>>2]>>2]=a,a=e[f>>2]|0,!a){K=43;break e}}else for(a=o;;){if(X=e[a+4>>2]|0,X>>>0<n>>>0?re=X:re=(X>>>0)%(n>>>0)|0,(re|0)==(d|0)){C=a;break i}if(X=(e[r>>2]|0)+(re<<2)|0,!(e[X>>2]|0)){M=a,I=re,D=X;break t}X=a+8|0,N=X+1|0,L=X+2|0,V=X+3|0,S=e[a>>2]|0;r:do if(!S)se=a;else for(j=Z[X>>0]|0,$=a,U=S;;){if(F=U+8|0,j<<24>>24!=(Z[F>>0]|0)){se=$;break r}if((Z[N>>0]|0)!=(Z[F+1>>0]|0)){se=$;break r}if((Z[L>>0]|0)!=(Z[F+2>>0]|0)){se=$;break r}if((Z[V>>0]|0)!=(Z[F+3>>0]|0)){se=$;break r}if(F=e[U>>2]|0,F)J=U,U=F,$=J;else{se=U;break}}while(0);if(e[g>>2]=e[se>>2],e[se>>2]=e[e[(e[r>>2]|0)+(re<<2)>>2]>>2],e[e[(e[r>>2]|0)+(re<<2)>>2]>>2]=a,a=e[f>>2]|0,!a){K=43;break e}}while(0);if(o=e[C>>2]|0,o)f=C,g=C;else{K=43;break e}}if(e[D>>2]=g,b=e[M>>2]|0,b)d=I,m=M,v=M;else{K=43;break}}K|0}function K1(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0;if(o=r+4|0,!n){a=e[r>>2]|0,e[r>>2]=0,a|0&&ve(a),e[o>>2]=0;return}n>>>0>1073741823&&(a=wn(8)|0,u0(a,14941),e[a>>2]=6944,yn(a|0,1080,114)),a=Dt(n<<2)|0,f=e[r>>2]|0,e[r>>2]=a,f|0&&ve(f),e[o>>2]=n,o=0;do e[(e[r>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(n|0));if(o=r+8|0,f=e[o>>2]|0,!f)return;if(a=e[f+4>>2]|0,h=n+-1|0,c=(h&n|0)==0,c?g=a&h:a>>>0<n>>>0?g=a:g=(a>>>0)%(n>>>0)|0,e[(e[r>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,v=f;else return;e:for(;;){f=m,o=b,g=v;t:for(;;){i:do if(c)for(a=o;;){if(x=e[a+4>>2]&h,(x|0)==(d|0)){C=a;break i}if(S=(e[r>>2]|0)+(x<<2)|0,!(e[S>>2]|0)){M=a,I=x,D=S;break t}S=a+12|0,L=a+16|0,N=a+20|0,X=e[a>>2]|0;r:do if(!X)V=a;else for(Q=e[a+8>>2]|0,U=a,j=X;;){if((Q|0)!=(e[j+8>>2]|0)){V=U;break r}if((e[S>>2]|0)!=(e[j+12>>2]|0)){V=U;break r}if((e[L>>2]|0)!=(e[j+16>>2]|0)){V=U;break r}if((e[N>>2]|0)!=(e[j+20>>2]|0)){V=U;break r}if($=e[j>>2]|0,$)J=j,j=$,U=J;else{V=j;break}}while(0);if(e[g>>2]=e[V>>2],e[V>>2]=e[e[(e[r>>2]|0)+(x<<2)>>2]>>2],e[e[(e[r>>2]|0)+(x<<2)>>2]>>2]=a,a=e[f>>2]|0,!a){F=43;break e}}else for(a=o;;){if(N=e[a+4>>2]|0,N>>>0<n>>>0?K=N:K=(N>>>0)%(n>>>0)|0,(K|0)==(d|0)){C=a;break i}if(N=(e[r>>2]|0)+(K<<2)|0,!(e[N>>2]|0)){M=a,I=K,D=N;break t}N=a+12|0,L=a+16|0,S=a+20|0,X=e[a>>2]|0;r:do if(!X)re=a;else for(U=e[a+8>>2]|0,j=a,Q=X;;){if((U|0)!=(e[Q+8>>2]|0)){re=j;break r}if((e[N>>2]|0)!=(e[Q+12>>2]|0)){re=j;break r}if((e[L>>2]|0)!=(e[Q+16>>2]|0)){re=j;break r}if((e[S>>2]|0)!=(e[Q+20>>2]|0)){re=j;break r}if(J=e[Q>>2]|0,J)$=Q,Q=J,j=$;else{re=Q;break}}while(0);if(e[g>>2]=e[re>>2],e[re>>2]=e[e[(e[r>>2]|0)+(K<<2)>>2]>>2],e[e[(e[r>>2]|0)+(K<<2)>>2]>>2]=a,a=e[f>>2]|0,!a){F=43;break e}}while(0);if(o=e[C>>2]|0,o)f=C,g=C;else{F=43;break e}}if(e[D>>2]=g,b=e[M>>2]|0,b)d=I,m=M,v=M;else{F=43;break}}F|0}function $1(r,n,o,a,f){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0;var h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0;if(h=q,q=q+352|0,c=h+340|0,g=h+336|0,d=h+80|0,m=h+48|0,b=h,Mi(d|0,0,256)|0,v=e[a+4>>2]|0,x=e[a>>2]|0,C=x,(v|0)!=(x|0)){S=v-x>>2,x=0;do v=d+(e[C+(x<<2)>>2]<<3)|0,M=v,I=Wt(e[M>>2]|0,e[M+4>>2]|0,1,0)|0,M=v,e[M>>2]=I,e[M+4>>2]=Xe,x=x+1|0;while(x>>>0<S>>>0)}fl(m),S=$n(n|0,((n|0)<0)<<31>>31|0,5)|0,x=Xe,C=b+40|0,M=C,e[M>>2]=0,e[M+4>>2]=0,M=b,I=M+36|0;do e[M>>2]=0,M=M+4|0;while((M|0)<(I|0));if(ey(b,d,32,f)|0,d=b+16|0,M=$n(e[d>>2]|0,e[d+4>>2]|0,1)|0,d=f+4|0,I=(e[d>>2]|0)-(e[f>>2]|0)|0,v=C,e[v>>2]=I,e[v+4>>2]=0,v=Wt(M|0,Xe|0,39,0)|0,M=r0(v|0,Xe|0,3)|0,v=Wt(M|0,Xe|0,8,0)|0,M=Wt(v|0,Xe|0,I|0,0)|0,ds(f,M,Xe),M=b+24|0,e[M>>2]=(e[f>>2]|0)+(e[C>>2]|0),C=b+28|0,e[C>>2]=0,I=b+32|0,e[I>>2]=16384,z6(m,S,x,0)|0,x=n-o|0,(x|0)>-1){n=(o|0)>0,S=m+16|0,v=m+12|0,D=x;do{if(L=e[a>>2]|0,N=e[L+(((D|0)/(o|0)|0)<<2)>>2]|0,X=e[b>>2]|0,V=e[X+(N<<3)>>2]|0,Q=e[I>>2]|0,U=V<<10,Q>>>0<U>>>0)j=Q,$=L;else{L=Q;do Q=e[M>>2]|0,J=e[C>>2]|0,e[C>>2]=J+1,Z[Q+J>>0]=L,L=(e[I>>2]|0)>>>8,e[I>>2]=L;while(L>>>0>=U>>>0);j=L,$=e[a>>2]|0}if(e[I>>2]=(((j>>>0)/(V>>>0)|0)<<12)+((j>>>0)%(V>>>0)|0)+(e[X+(N<<3)+4>>2]|0),U=x-D|0,J=e[$+(((U|0)/(o|0)|0)<<2)>>2]|0,n&(J|0)>0){Q=0;do{if(F=e[r+(Q+U<<2)>>2]|0,K=S,re=e[K+4>>2]|0,(re|0)>0|(re|0)==0&(e[K>>2]|0)>>>0>0){K=e[v>>2]|0,re=K+4|0,se=0,fe=e[re>>2]|0;do Ee=fe>>>3,Ne=fe&7,me=(e[K>>2]|0)+Ee|0,Z[me>>0]=(1<<Ne^255)&(yi[me>>0]|0),me=(e[K>>2]|0)+Ee|0,Z[me>>0]=(F>>>se&1)<<Ne|(yi[me>>0]|0),fe=(e[re>>2]|0)+1|0,e[re>>2]=fe,se=se+1|0;while((se|0)!=(J|0))}Q=Q+1|0}while((Q|0)!=(o|0))}D=D-o|0}while((D|0)>-1)}return lf(b,f),G(m),D=e[m>>2]|0,o=m+4|0,v=f+16|0,S=e[v+4>>2]|0,(S|0)>0|(S|0)==0&(e[v>>2]|0)>>>0>0||(v=(e[o>>2]|0)-D|0,e[g>>2]=e[d>>2],e[c>>2]=e[g>>2],vr(f,c,D,D+v|0)|0),v=e[b>>2]|0,v|0&&(D=b+4|0,b=e[D>>2]|0,(b|0)!=(v|0)&&(e[D>>2]=b+(~((b+-8-v|0)>>>3)<<3)),ve(v)),v=m+12|0,b=e[v>>2]|0,e[v>>2]=0,b|0&&ve(b),b=e[m>>2]|0,b?((e[o>>2]|0)!=(b|0)&&(e[o>>2]=b),ve(b),q=h,1):(q=h,1)}function em(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0;if(o=r+4|0,!n){a=e[r>>2]|0,e[r>>2]=0,a|0&&ve(a),e[o>>2]=0;return}n>>>0>1073741823&&(a=wn(8)|0,u0(a,14941),e[a>>2]=6944,yn(a|0,1080,114)),a=Dt(n<<2)|0,f=e[r>>2]|0,e[r>>2]=a,f|0&&ve(f),e[o>>2]=n,o=0;do e[(e[r>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(n|0));if(o=r+8|0,f=e[o>>2]|0,!f)return;if(a=e[f+4>>2]|0,h=n+-1|0,c=(h&n|0)==0,c?g=a&h:a>>>0<n>>>0?g=a:g=(a>>>0)%(n>>>0)|0,e[(e[r>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,v=f;else return;e:for(;;){f=m,o=b,g=v;t:for(;;){i:do if(c)for(a=o;;){if(x=e[a+4>>2]&h,(x|0)==(d|0)){C=a;break i}if(S=(e[r>>2]|0)+(x<<2)|0,!(e[S>>2]|0)){M=a,I=x,D=S;break t}S=a+8|0,L=a+12|0,N=e[a>>2]|0;r:do if(!N)X=a;else for(V=Oi[S>>1]|0,Q=S+2|0,U=a,j=N;;){if($=j+8|0,V<<16>>16!=(Oi[$>>1]|0)){X=U;break r}if((Oi[Q>>1]|0)!=(Oi[$+2>>1]|0)){X=U;break r}if((Oi[L>>1]|0)!=(Oi[j+12>>1]|0)){X=U;break r}if($=e[j>>2]|0,$)J=j,j=$,U=J;else{X=j;break}}while(0);if(e[g>>2]=e[X>>2],e[X>>2]=e[e[(e[r>>2]|0)+(x<<2)>>2]>>2],e[e[(e[r>>2]|0)+(x<<2)>>2]>>2]=a,a=e[f>>2]|0,!a){F=41;break e}}else for(a=o;;){if(L=e[a+4>>2]|0,L>>>0<n>>>0?K=L:K=(L>>>0)%(n>>>0)|0,(K|0)==(d|0)){C=a;break i}if(L=(e[r>>2]|0)+(K<<2)|0,!(e[L>>2]|0)){M=a,I=K,D=L;break t}L=a+8|0,N=a+12|0,S=e[a>>2]|0;r:do if(!S)re=a;else for(U=Oi[L>>1]|0,j=L+2|0,Q=a,V=S;;){if(J=V+8|0,U<<16>>16!=(Oi[J>>1]|0)){re=Q;break r}if((Oi[j>>1]|0)!=(Oi[J+2>>1]|0)){re=Q;break r}if((Oi[N>>1]|0)!=(Oi[V+12>>1]|0)){re=Q;break r}if(J=e[V>>2]|0,J)$=V,V=J,Q=$;else{re=V;break}}while(0);if(e[g>>2]=e[re>>2],e[re>>2]=e[e[(e[r>>2]|0)+(K<<2)>>2]>>2],e[e[(e[r>>2]|0)+(K<<2)>>2]>>2]=a,a=e[f>>2]|0,!a){F=41;break e}}while(0);if(o=e[C>>2]|0,o)f=C,g=C;else{F=41;break e}}if(e[D>>2]=g,b=e[M>>2]|0,b)d=I,m=M,v=M;else{F=41;break}}F|0}function ry(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0;if(o=r+4|0,!n){a=e[r>>2]|0,e[r>>2]=0,a|0&&ve(a),e[o>>2]=0;return}n>>>0>1073741823&&(a=wn(8)|0,u0(a,14941),e[a>>2]=6944,yn(a|0,1080,114)),a=Dt(n<<2)|0,f=e[r>>2]|0,e[r>>2]=a,f|0&&ve(f),e[o>>2]=n,o=0;do e[(e[r>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(n|0));if(o=r+8|0,f=e[o>>2]|0,!f)return;if(a=e[f+4>>2]|0,h=n+-1|0,c=(h&n|0)==0,c?g=a&h:a>>>0<n>>>0?g=a:g=(a>>>0)%(n>>>0)|0,e[(e[r>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,v=f;else return;e:for(;;){f=m,o=b,g=v;t:for(;;){i:do if(c)for(a=o;;){if(x=e[a+4>>2]&h,(x|0)==(d|0)){C=a;break i}if(S=(e[r>>2]|0)+(x<<2)|0,!(e[S>>2]|0)){M=a,I=x,D=S;break t}S=a+8|0,L=S+1|0,N=S+2|0,X=e[a>>2]|0;r:do if(!X)V=a;else for(Q=Z[S>>0]|0,U=a,j=X;;){if($=j+8|0,Q<<24>>24!=(Z[$>>0]|0)){V=U;break r}if((Z[L>>0]|0)!=(Z[$+1>>0]|0)){V=U;break r}if((Z[N>>0]|0)!=(Z[$+2>>0]|0)){V=U;break r}if($=e[j>>2]|0,$)J=j,j=$,U=J;else{V=j;break}}while(0);if(e[g>>2]=e[V>>2],e[V>>2]=e[e[(e[r>>2]|0)+(x<<2)>>2]>>2],e[e[(e[r>>2]|0)+(x<<2)>>2]>>2]=a,a=e[f>>2]|0,!a){F=41;break e}}else for(a=o;;){if(N=e[a+4>>2]|0,N>>>0<n>>>0?K=N:K=(N>>>0)%(n>>>0)|0,(K|0)==(d|0)){C=a;break i}if(N=(e[r>>2]|0)+(K<<2)|0,!(e[N>>2]|0)){M=a,I=K,D=N;break t}N=a+8|0,L=N+1|0,X=N+2|0,S=e[a>>2]|0;r:do if(!S)re=a;else for(U=Z[N>>0]|0,j=a,Q=S;;){if(J=Q+8|0,U<<24>>24!=(Z[J>>0]|0)){re=j;break r}if((Z[L>>0]|0)!=(Z[J+1>>0]|0)){re=j;break r}if((Z[X>>0]|0)!=(Z[J+2>>0]|0)){re=j;break r}if(J=e[Q>>2]|0,J)$=Q,Q=J,j=$;else{re=Q;break}}while(0);if(e[g>>2]=e[re>>2],e[re>>2]=e[e[(e[r>>2]|0)+(K<<2)>>2]>>2],e[e[(e[r>>2]|0)+(K<<2)>>2]>>2]=a,a=e[f>>2]|0,!a){F=41;break e}}while(0);if(o=e[C>>2]|0,o)f=C,g=C;else{F=41;break e}}if(e[D>>2]=g,b=e[M>>2]|0,b)d=I,m=M,v=M;else{F=41;break}}F|0}function ny(r,n){r=+r,n=+n;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0;L0[En>>3]=r,o=e[En>>2]|0,a=e[En+4>>2]|0,L0[En>>3]=n,f=e[En>>2]|0,h=e[En+4>>2]|0,c=r0(o|0,a|0,52)|0,g=c&2047,c=r0(f|0,h|0,52)|0,d=c&2047,c=a&-2147483648,m=$n(f|0,h|0,1)|0,b=Xe;e:do if(!((m|0)==0&(b|0)==0)&&(v=Sx(n)|0,x=Xe&2147483647,!((g|0)==2047|(x>>>0>2146435072|(x|0)==2146435072&v>>>0>0)))){if(v=$n(o|0,a|0,1)|0,x=Xe,!(x>>>0>b>>>0|(x|0)==(b|0)&v>>>0>m>>>0))return+((v|0)==(m|0)&(x|0)==(b|0)?r*0:r);if(g)I=g,D=o,L=a&1048575|1048576;else{if(x=$n(o|0,a|0,12)|0,v=Xe,(v|0)>-1|(v|0)==-1&x>>>0>4294967295)for(C=0,S=x,x=v;;)if(v=C+-1|0,S=$n(S|0,x|0,1)|0,x=Xe,(x|0)>-1|(x|0)==-1&S>>>0>4294967295)C=v;else{M=v;break}else M=0;C=$n(o|0,a|0,1-M|0)|0,I=M,D=C,L=Xe}if(d)X=d,V=f,Q=h&1048575|1048576;else{if(C=$n(f|0,h|0,12)|0,S=Xe,(S|0)>-1|(S|0)==-1&C>>>0>4294967295)for(x=0,v=C,C=S;;)if(S=x+-1|0,v=$n(v|0,C|0,1)|0,C=Xe,(C|0)>-1|(C|0)==-1&v>>>0>4294967295)x=S;else{N=S;break}else N=0;x=$n(f|0,h|0,1-N|0)|0,X=N,V=x,Q=Xe}x=Gr(D|0,L|0,V|0,Q|0)|0,v=Xe,C=(v|0)>-1|(v|0)==-1&x>>>0>4294967295;t:do if((I|0)>(X|0)){for(S=I,U=v,j=C,$=D,J=L,F=x;;){if(j){if((F|0)==0&(U|0)==0)break;K=F,re=U}else K=$,re=J;if(se=$n(K|0,re|0,1)|0,fe=Xe,Ee=S+-1|0,Ne=Gr(se|0,fe|0,V|0,Q|0)|0,me=Xe,Ie=(me|0)>-1|(me|0)==-1&Ne>>>0>4294967295,(Ee|0)>(X|0))S=Ee,U=me,j=Ie,$=se,J=fe,F=Ne;else{_e=Ee,Ce=Ie,We=Ne,at=me,Ke=se,Ve=fe;break t}}Ue=r*0;break e}else _e=I,Ce=C,We=x,at=v,Ke=D,Ve=L;while(0);if(Ce)if((We|0)==0&(at|0)==0){Ue=r*0;break}else st=at,Qe=We;else st=Ve,Qe=Ke;if(st>>>0<1048576|(st|0)==1048576&Qe>>>0<0)for(v=_e,x=Qe,C=st;;)if(F=$n(x|0,C|0,1)|0,J=Xe,$=v+-1|0,J>>>0<1048576|(J|0)==1048576&F>>>0<0)v=$,x=F,C=J;else{it=$,ze=F,Ge=J;break}else it=_e,ze=Qe,Ge=st;(it|0)>0?(C=Wt(ze|0,Ge|0,0,-1048576)|0,x=Xe,v=$n(it|0,0,52)|0,ke=x|Xe,ut=C|v):(v=r0(ze|0,Ge|0,1-it|0)|0,ke=Xe,ut=v),e[En>>2]=ut,e[En+4>>2]=ke|c,Ue=+L0[En>>3]}else et=3;while(0);return(et|0)==3&&(ot=r*n,Ue=ot/ot),+Ue}function co(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0;if(o=r+4|0,!n){a=e[r>>2]|0,e[r>>2]=0,a|0&&ve(a),e[o>>2]=0;return}n>>>0>1073741823&&(a=wn(8)|0,u0(a,14941),e[a>>2]=6944,yn(a|0,1080,114)),a=Dt(n<<2)|0,f=e[r>>2]|0,e[r>>2]=a,f|0&&ve(f),e[o>>2]=n,o=0;do e[(e[r>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(n|0));if(o=r+8|0,f=e[o>>2]|0,!f)return;if(a=e[f+4>>2]|0,h=n+-1|0,c=(h&n|0)==0,c?g=a&h:a>>>0<n>>>0?g=a:g=(a>>>0)%(n>>>0)|0,e[(e[r>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,v=f;else return;e:for(;;){f=m,o=b,g=v;t:for(;;){i:do if(c)for(a=o;;){if(x=e[a+4>>2]&h,(x|0)==(d|0)){C=a;break i}if(S=(e[r>>2]|0)+(x<<2)|0,!(e[S>>2]|0)){M=a,I=x,D=S;break t}S=a+12|0,L=a+16|0,N=e[a>>2]|0;r:do if(!N)X=a;else for(V=e[a+8>>2]|0,Q=a,U=N;;){if((V|0)!=(e[U+8>>2]|0)){X=Q;break r}if((e[S>>2]|0)!=(e[U+12>>2]|0)){X=Q;break r}if((e[L>>2]|0)!=(e[U+16>>2]|0)){X=Q;break r}if(j=e[U>>2]|0,j)$=U,U=j,Q=$;else{X=U;break}}while(0);if(e[g>>2]=e[X>>2],e[X>>2]=e[e[(e[r>>2]|0)+(x<<2)>>2]>>2],e[e[(e[r>>2]|0)+(x<<2)>>2]>>2]=a,a=e[f>>2]|0,!a){J=41;break e}}else for(a=o;;){if(L=e[a+4>>2]|0,L>>>0<n>>>0?F=L:F=(L>>>0)%(n>>>0)|0,(F|0)==(d|0)){C=a;break i}if(L=(e[r>>2]|0)+(F<<2)|0,!(e[L>>2]|0)){M=a,I=F,D=L;break t}L=a+12|0,S=a+16|0,N=e[a>>2]|0;r:do if(!N)K=a;else for(Q=e[a+8>>2]|0,U=a,V=N;;){if((Q|0)!=(e[V+8>>2]|0)){K=U;break r}if((e[L>>2]|0)!=(e[V+12>>2]|0)){K=U;break r}if((e[S>>2]|0)!=(e[V+16>>2]|0)){K=U;break r}if($=e[V>>2]|0,$)j=V,V=$,U=j;else{K=V;break}}while(0);if(e[g>>2]=e[K>>2],e[K>>2]=e[e[(e[r>>2]|0)+(F<<2)>>2]>>2],e[e[(e[r>>2]|0)+(F<<2)>>2]>>2]=a,a=e[f>>2]|0,!a){J=41;break e}}while(0);if(o=e[C>>2]|0,o)f=C,g=C;else{J=41;break e}}if(e[D>>2]=g,b=e[M>>2]|0,b)d=I,m=M,v=M;else{J=41;break}}J|0}function $h(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0;if(o=r+4|0,!n){a=e[r>>2]|0,e[r>>2]=0,a|0&&ve(a),e[o>>2]=0;return}n>>>0>1073741823&&(a=wn(8)|0,u0(a,14941),e[a>>2]=6944,yn(a|0,1080,114)),a=Dt(n<<2)|0,f=e[r>>2]|0,e[r>>2]=a,f|0&&ve(f),e[o>>2]=n,o=0;do e[(e[r>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(n|0));if(o=r+8|0,f=e[o>>2]|0,!f)return;if(a=e[f+4>>2]|0,h=n+-1|0,c=(h&n|0)==0,c?g=a&h:a>>>0<n>>>0?g=a:g=(a>>>0)%(n>>>0)|0,e[(e[r>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,v=f;else return;e:for(;;){f=m,o=b,g=v;t:for(;;){for(x=o;a=e[x+4>>2]|0,c?C=a&h:a>>>0<n>>>0?C=a:C=(a>>>0)%(n>>>0)|0,(C|0)!=(d|0);){if(S=(e[r>>2]|0)+(C<<2)|0,!(e[S>>2]|0))break t;a=e[x>>2]|0;i:do if(!a)M=x;else{if(I=x+8|0,D=Z[I+11>>0]|0,L=D<<24>>24<0,N=D&255,D=L?e[x+12>>2]|0:N,X=(D|0)==0,L)for(L=x,V=a;;){if(Q=V+8|0,U=Z[Q+11>>0]|0,j=U<<24>>24<0,(D|0)!=((j?e[V+12>>2]|0:U&255)|0)){M=L;break i}if(!X&&As(e[I>>2]|0,j?e[Q>>2]|0:Q,D)|0){M=L;break i}if(Q=e[V>>2]|0,Q)j=V,V=Q,L=j;else{M=V;break i}}if(X)for(L=x,V=a;;){if(j=Z[V+8+11>>0]|0,(j<<24>>24<0?e[V+12>>2]|0:j&255)|0){M=L;break i}if(j=e[V>>2]|0,j)Q=V,V=j,L=Q;else{M=V;break i}}for(L=x,V=a;;){if(X=V+8|0,Q=Z[X+11>>0]|0,j=Q<<24>>24<0,(D|0)!=((j?e[V+12>>2]|0:Q&255)|0)){M=L;break i}if(Q=j?e[X>>2]|0:X,(Z[Q>>0]|0)==(e[I>>2]&255)<<24>>24)$=I,J=N,F=Q;else{M=L;break i}for(;J=J+-1|0,$=$+1|0,!!J;)if(F=F+1|0,(Z[$>>0]|0)!=(Z[F>>0]|0)){M=L;break i}if(Q=e[V>>2]|0,Q)X=V,V=Q,L=X;else{M=V;break}}}while(0);if(e[g>>2]=e[M>>2],e[M>>2]=e[e[(e[r>>2]|0)+(C<<2)>>2]>>2],e[e[(e[r>>2]|0)+(C<<2)>>2]>>2]=x,a=e[f>>2]|0,a)x=a;else{K=43;break e}}if(o=e[x>>2]|0,o)f=x,g=x;else{K=43;break e}}if(e[S>>2]=g,b=e[x>>2]|0,b)d=C,m=x,v=x;else{K=43;break}}K|0}function tm(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0;if(o=q,q=q+48|0,a=o+8|0,f=o+4|0,h=o,c=r+44|0,p0(e[c>>2]|0,n)|0,e[c>>2]|0){if(_n(a),Sn(a),g=e[c>>2]|0,(g|0)>0){c=r+40|0,d=g;do g=d,d=d+-1|0,zn(a,(e[(e[c>>2]|0)+(d>>>5<<2)>>2]&1<<(d&31)|0)!=0);while((g|0)>1)}pn(a,n),ln(a)}if(d=r+56|0,p0(e[d>>2]|0,n)|0,e[d>>2]|0){if(_n(a),Sn(a),c=e[d>>2]|0,(c|0)>1){d=r+52|0,g=c;do c=g,g=g+-2|0,zn(a,(e[(e[d>>2]|0)+(g>>>5<<2)>>2]&1<<(g&31)|0)!=0),m=c+-1|0,zn(a,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0);while((c|0)>3)}pn(a,n),ln(a)}if(d=r+68|0,p0(e[d>>2]|0,n)|0,e[d>>2]|0){if(_n(a),Sn(a),g=e[d>>2]|0,(g|0)>2){d=r+64|0,c=g;do g=c,c=c+-3|0,zn(a,(e[(e[d>>2]|0)+(c>>>5<<2)>>2]&1<<(c&31)|0)!=0),m=g+-2|0,zn(a,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0),m=g+-1|0,zn(a,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0);while((g|0)>5)}pn(a,n),ln(a)}if(d=r+80|0,p0(e[d>>2]|0,n)|0,e[d>>2]|0){if(_n(a),Sn(a),c=e[d>>2]|0,(c|0)>3){d=r+76|0,g=c;do c=g,g=g+-4|0,zn(a,(e[(e[d>>2]|0)+(g>>>5<<2)>>2]&1<<(g&31)|0)!=0),m=c+-3|0,zn(a,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0),m=c+-2|0,zn(a,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0),m=c+-1|0,zn(a,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0);while((c|0)>7)}pn(a,n),ln(a)}return e[h>>2]=e[r+12>>2],d=n+16|0,g=d,c=e[g>>2]|0,m=e[g+4>>2]|0,(m|0)>0|(m|0)==0&c>>>0>0?(b=m,v=c):(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+4|0)|0,c=d,b=e[c+4>>2]|0,v=e[c>>2]|0),e[h>>2]=e[r+20>>2],(b|0)>0|(b|0)==0&v>>>0>0?(q=o,1):(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+4|0)|0,q=o,1)}function im(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0;if(o=q,q=q+48|0,a=o+8|0,f=o+4|0,h=o,c=r+64|0,p0(e[c>>2]|0,n)|0,e[c>>2]|0){if(_n(a),Sn(a),g=e[c>>2]|0,(g|0)>0){c=r+60|0,d=g;do g=d,d=d+-1|0,zn(a,(e[(e[c>>2]|0)+(d>>>5<<2)>>2]&1<<(d&31)|0)!=0);while((g|0)>1)}pn(a,n),ln(a)}if(d=r+76|0,p0(e[d>>2]|0,n)|0,e[d>>2]|0){if(_n(a),Sn(a),c=e[d>>2]|0,(c|0)>1){d=r+72|0,g=c;do c=g,g=g+-2|0,zn(a,(e[(e[d>>2]|0)+(g>>>5<<2)>>2]&1<<(g&31)|0)!=0),m=c+-1|0,zn(a,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0);while((c|0)>3)}pn(a,n),ln(a)}if(d=r+88|0,p0(e[d>>2]|0,n)|0,e[d>>2]|0){if(_n(a),Sn(a),g=e[d>>2]|0,(g|0)>2){d=r+84|0,c=g;do g=c,c=c+-3|0,zn(a,(e[(e[d>>2]|0)+(c>>>5<<2)>>2]&1<<(c&31)|0)!=0),m=g+-2|0,zn(a,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0),m=g+-1|0,zn(a,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0);while((g|0)>5)}pn(a,n),ln(a)}if(d=r+100|0,p0(e[d>>2]|0,n)|0,e[d>>2]|0){if(_n(a),Sn(a),c=e[d>>2]|0,(c|0)>3){d=r+96|0,g=c;do c=g,g=g+-4|0,zn(a,(e[(e[d>>2]|0)+(g>>>5<<2)>>2]&1<<(g&31)|0)!=0),m=c+-3|0,zn(a,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0),m=c+-2|0,zn(a,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0),m=c+-1|0,zn(a,(e[(e[d>>2]|0)+(m>>>5<<2)>>2]&1<<(m&31)|0)!=0);while((c|0)>7)}pn(a,n),ln(a)}return e[h>>2]=e[r+12>>2],d=n+16|0,g=d,c=e[g>>2]|0,m=e[g+4>>2]|0,(m|0)>0|(m|0)==0&c>>>0>0?(b=m,v=c):(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+4|0)|0,c=d,b=e[c+4>>2]|0,v=e[c>>2]|0),e[h>>2]=e[r+16>>2],(b|0)>0|(b|0)==0&v>>>0>0?(q=o,1):(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+4|0)|0,q=o,1)}function rm(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0;if(o=r+4|0,!n){a=e[r>>2]|0,e[r>>2]=0,a|0&&ve(a),e[o>>2]=0;return}n>>>0>1073741823&&(a=wn(8)|0,u0(a,14941),e[a>>2]=6944,yn(a|0,1080,114)),a=Dt(n<<2)|0,f=e[r>>2]|0,e[r>>2]=a,f|0&&ve(f),e[o>>2]=n,o=0;do e[(e[r>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(n|0));if(o=r+8|0,f=e[o>>2]|0,!f)return;if(a=e[f+4>>2]|0,h=n+-1|0,c=(h&n|0)==0,c?g=a&h:a>>>0<n>>>0?g=a:g=(a>>>0)%(n>>>0)|0,e[(e[r>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,v=f;else return;e:for(;;){f=m,o=b,g=v;t:for(;;){i:do if(c)for(a=o;;){if(x=e[a+4>>2]&h,(x|0)==(d|0)){C=a;break i}if(S=(e[r>>2]|0)+(x<<2)|0,!(e[S>>2]|0)){M=a,I=x,D=S;break t}S=a+8|0,L=e[a>>2]|0;r:do if(!L)N=a;else for(X=Oi[S>>1]|0,V=S+2|0,Q=a,U=L;;){if(j=U+8|0,X<<16>>16!=(Oi[j>>1]|0)){N=Q;break r}if((Oi[V>>1]|0)!=(Oi[j+2>>1]|0)){N=Q;break r}if(j=e[U>>2]|0,j)$=U,U=j,Q=$;else{N=U;break}}while(0);if(e[g>>2]=e[N>>2],e[N>>2]=e[e[(e[r>>2]|0)+(x<<2)>>2]>>2],e[e[(e[r>>2]|0)+(x<<2)>>2]>>2]=a,a=e[f>>2]|0,!a){J=39;break e}}else for(a=o;;){if(L=e[a+4>>2]|0,L>>>0<n>>>0?F=L:F=(L>>>0)%(n>>>0)|0,(F|0)==(d|0)){C=a;break i}if(L=(e[r>>2]|0)+(F<<2)|0,!(e[L>>2]|0)){M=a,I=F,D=L;break t}L=a+8|0,S=e[a>>2]|0;r:do if(!S)K=a;else for(Q=Oi[L>>1]|0,U=L+2|0,V=a,X=S;;){if($=X+8|0,Q<<16>>16!=(Oi[$>>1]|0)){K=V;break r}if((Oi[U>>1]|0)!=(Oi[$+2>>1]|0)){K=V;break r}if($=e[X>>2]|0,$)j=X,X=$,V=j;else{K=X;break}}while(0);if(e[g>>2]=e[K>>2],e[K>>2]=e[e[(e[r>>2]|0)+(F<<2)>>2]>>2],e[e[(e[r>>2]|0)+(F<<2)>>2]>>2]=a,a=e[f>>2]|0,!a){J=39;break e}}while(0);if(o=e[C>>2]|0,o)f=C,g=C;else{J=39;break e}}if(e[D>>2]=g,b=e[M>>2]|0,b)d=I,m=M,v=M;else{J=39;break}}J|0}function Lu(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0;if(o=r+4|0,!n){a=e[r>>2]|0,e[r>>2]=0,a|0&&ve(a),e[o>>2]=0;return}n>>>0>1073741823&&(a=wn(8)|0,u0(a,14941),e[a>>2]=6944,yn(a|0,1080,114)),a=Dt(n<<2)|0,f=e[r>>2]|0,e[r>>2]=a,f|0&&ve(f),e[o>>2]=n,o=0;do e[(e[r>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(n|0));if(o=r+8|0,f=e[o>>2]|0,!f)return;if(a=e[f+4>>2]|0,h=n+-1|0,c=(h&n|0)==0,c?g=a&h:a>>>0<n>>>0?g=a:g=(a>>>0)%(n>>>0)|0,e[(e[r>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,v=f;else return;e:for(;;){f=m,o=b,g=v;t:for(;;){i:do if(c)for(a=o;;){if(x=e[a+4>>2]&h,(x|0)==(d|0)){C=a;break i}if(S=(e[r>>2]|0)+(x<<2)|0,!(e[S>>2]|0)){M=a,I=x,D=S;break t}S=a+8|0,L=e[a>>2]|0;r:do if(!L)N=a;else for(X=Z[S>>0]|0,V=S+1|0,Q=a,U=L;;){if(j=U+8|0,X<<24>>24!=(Z[j>>0]|0)){N=Q;break r}if((Z[V>>0]|0)!=(Z[j+1>>0]|0)){N=Q;break r}if(j=e[U>>2]|0,j)$=U,U=j,Q=$;else{N=U;break}}while(0);if(e[g>>2]=e[N>>2],e[N>>2]=e[e[(e[r>>2]|0)+(x<<2)>>2]>>2],e[e[(e[r>>2]|0)+(x<<2)>>2]>>2]=a,a=e[f>>2]|0,!a){J=39;break e}}else for(a=o;;){if(L=e[a+4>>2]|0,L>>>0<n>>>0?F=L:F=(L>>>0)%(n>>>0)|0,(F|0)==(d|0)){C=a;break i}if(L=(e[r>>2]|0)+(F<<2)|0,!(e[L>>2]|0)){M=a,I=F,D=L;break t}L=a+8|0,S=e[a>>2]|0;r:do if(!S)K=a;else for(Q=Z[L>>0]|0,U=L+1|0,V=a,X=S;;){if($=X+8|0,Q<<24>>24!=(Z[$>>0]|0)){K=V;break r}if((Z[U>>0]|0)!=(Z[$+1>>0]|0)){K=V;break r}if($=e[X>>2]|0,$)j=X,X=$,V=j;else{K=X;break}}while(0);if(e[g>>2]=e[K>>2],e[K>>2]=e[e[(e[r>>2]|0)+(F<<2)>>2]>>2],e[e[(e[r>>2]|0)+(F<<2)>>2]>>2]=a,a=e[f>>2]|0,!a){J=39;break e}}while(0);if(o=e[C>>2]|0,o)f=C,g=C;else{J=39;break e}}if(e[D>>2]=g,b=e[M>>2]|0,b)d=I,m=M,v=M;else{J=39;break}}J|0}function Xf(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0;if(o=q,q=q+48|0,a=o+32|0,f=o+28|0,h=o+16|0,c=o,g=r+16|0,d=e[g>>2]|0,d|0){m=e[n>>2]|0,b=g,v=d;e:for(;;){for(d=v;!((e[d+16>>2]|0)>=(m|0));)if(x=e[d+4>>2]|0,x)d=x;else{C=b;break e}if(v=e[d>>2]|0,v)b=d;else{C=d;break}}if((C|0)!=(g|0)&&(m|0)>=(e[C+16>>2]|0))return S=C,M=S+20|0,q=o,M|0}if(W2(h),e[c>>2]=e[n>>2],n=c+4|0,e[c+8>>2]=0,C=c+12|0,e[C>>2]=0,m=c+8|0,e[n>>2]=m,b=e[h>>2]|0,v=h+4|0,(b|0)!=(v|0))for(x=m,I=b;;){if(b=I+16|0,e[f>>2]=x,e[a>>2]=e[f>>2],y_(n,a,b,b)|0,b=e[I+4>>2]|0,b){for(L=b;d=e[L>>2]|0,d;)L=d;N=L}else if(D=I+8|0,L=e[D>>2]|0,(e[L>>2]|0)==(I|0))N=L;else{L=D;do D=e[L>>2]|0,L=D+8|0,X=e[L>>2]|0;while((e[X>>2]|0)!=(D|0));N=X}if((N|0)==(v|0))break;I=N}N=r+12|0,I=e[g>>2]|0;do if(I){for(a=e[c>>2]|0,f=r+16|0,x=I;;){if(b=e[x+16>>2]|0,(a|0)<(b|0))if(d=e[x>>2]|0,d)Q=x,U=d;else{V=23;break}else{if((b|0)>=(a|0)){V=27;break}if(j=x+4|0,b=e[j>>2]|0,b)Q=j,U=b;else{V=26;break}}f=Q,x=U}if((V|0)==23){$=x,J=x;break}else if((V|0)==26){$=x,J=j;break}else if((V|0)==27){$=x,J=f;break}}else $=g,J=g;while(0);return g=e[J>>2]|0,g?K=g:(V=Dt(32)|0,e[V+16>>2]=e[c>>2],j=V+20|0,e[j>>2]=e[n>>2],U=V+24|0,Q=e[c+8>>2]|0,e[U>>2]=Q,I=e[C>>2]|0,e[V+28>>2]=I,I?(e[Q+8>>2]=U,e[n>>2]=m,e[m>>2]=0,e[C>>2]=0):e[j>>2]=U,e[V>>2]=0,e[V+4>>2]=0,e[V+8>>2]=$,e[J>>2]=V,$=e[e[N>>2]>>2]|0,$?(e[N>>2]=$,F=e[J>>2]|0):F=V,af(e[r+16>>2]|0,F),F=r+20|0,e[F>>2]=(e[F>>2]|0)+1,K=V),hs(c+4|0,e[m>>2]|0),hs(h,e[v>>2]|0),S=K,M=S+20|0,q=o,M|0}function T2(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0;if(o=Z[n+11>>0]|0,a=o<<24>>24<0,f=a?e[n>>2]|0:n,h=a?e[n+4>>2]|0:o&255,h>>>0>3){for(o=f,n=h,a=h;c=_i(yi[o>>0]|yi[o+1>>0]<<8|yi[o+2>>0]<<16|yi[o+3>>0]<<24,1540483477)|0,n=(_i(c>>>24^c,1540483477)|0)^(_i(n,1540483477)|0),a=a+-4|0,!(a>>>0<=3);)o=o+4|0;o=h+-4|0,a=o&-4,g=o-a|0,d=f+(a+4)|0,m=n}else g=h,d=f,m=h;switch(g|0){case 3:{b=yi[d+2>>0]<<16^m,v=6;break}case 2:{b=m,v=6;break}case 1:{x=m,v=7;break}default:C=m}if((v|0)==6&&(x=yi[d+1>>0]<<8^b,v=7),(v|0)==7&&(C=_i(x^yi[d>>0],1540483477)|0),d=_i(C>>>13^C,1540483477)|0,C=d>>>15^d,d=e[r+4>>2]|0,!d||(x=d+-1|0,b=(x&d|0)==0,b?M=C&x:C>>>0<d>>>0?M=C:M=(C>>>0)%(d>>>0)|0,m=e[(e[r>>2]|0)+(M<<2)>>2]|0,!m)||(r=e[m>>2]|0,!r))return S=0,S|0;if(m=(h|0)==0,b){b=r;e:for(;;){if(g=e[b+4>>2]|0,n=(g|0)==(C|0),!(n|(g&x|0)==(M|0))){S=0,v=40;break}do if(n&&(g=b+8|0,a=Z[g+11>>0]|0,o=a<<24>>24<0,c=a&255,((o?e[b+12>>2]|0:c)|0)==(h|0))){if(a=e[g>>2]|0,I=o?a:g,o){if(m){S=b,v=40;break e}if(As(I,f,h)|0)break;S=b,v=40;break e}if(m){S=b,v=40;break e}if((Z[f>>0]|0)==(a&255)<<24>>24){a=g,g=c,c=f;do{if(g=g+-1|0,a=a+1|0,!g){S=b,v=40;break e}c=c+1|0}while((Z[a>>0]|0)==(Z[c>>0]|0))}}while(0);if(b=e[b>>2]|0,!b){S=0,v=40;break}}if((v|0)==40)return S|0}else D=r;e:for(;;){r=e[D+4>>2]|0;do if((r|0)==(C|0)){if(b=D+8|0,x=Z[b+11>>0]|0,n=x<<24>>24<0,c=x&255,((n?e[D+12>>2]|0:c)|0)==(h|0)){if(x=e[b>>2]|0,a=n?x:b,n){if(m){S=D,v=40;break e}if(As(a,f,h)|0)break;S=D,v=40;break e}if(m){S=D,v=40;break e}if((Z[f>>0]|0)==(x&255)<<24>>24){x=b,b=c,c=f;do{if(b=b+-1|0,x=x+1|0,!b){S=D,v=40;break e}c=c+1|0}while((Z[x>>0]|0)==(Z[c>>0]|0))}}}else if(r>>>0<d>>>0?L=r:L=(r>>>0)%(d>>>0)|0,(L|0)!=(M|0)){S=0,v=40;break e}while(0);if(D=e[D>>2]|0,!D){S=0,v=40;break}}return(v|0)==40?S|0:0}function nm(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0;if(o=r+4|0,!n){a=e[r>>2]|0,e[r>>2]=0,a|0&&ve(a),e[o>>2]=0;return}n>>>0>1073741823&&(a=wn(8)|0,u0(a,14941),e[a>>2]=6944,yn(a|0,1080,114)),a=Dt(n<<2)|0,f=e[r>>2]|0,e[r>>2]=a,f|0&&ve(f),e[o>>2]=n,o=0;do e[(e[r>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(n|0));if(o=r+8|0,f=e[o>>2]|0,!f)return;if(a=e[f+4>>2]|0,h=n+-1|0,c=(h&n|0)==0,c?g=a&h:a>>>0<n>>>0?g=a:g=(a>>>0)%(n>>>0)|0,e[(e[r>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,v=f;else return;e:for(;;){f=m,o=b,g=v;t:for(;;){i:do if(c)for(a=o;;){if(x=e[a+4>>2]&h,(x|0)==(d|0)){C=a;break i}if(S=(e[r>>2]|0)+(x<<2)|0,!(e[S>>2]|0)){M=a,I=x,D=S;break t}S=a+12|0,L=e[a>>2]|0;r:do if(!L)N=a;else for(X=e[a+8>>2]|0,V=a,Q=L;;){if((X|0)!=(e[Q+8>>2]|0)){N=V;break r}if((e[S>>2]|0)!=(e[Q+12>>2]|0)){N=V;break r}if(U=e[Q>>2]|0,U)j=Q,Q=U,V=j;else{N=Q;break}}while(0);if(e[g>>2]=e[N>>2],e[N>>2]=e[e[(e[r>>2]|0)+(x<<2)>>2]>>2],e[e[(e[r>>2]|0)+(x<<2)>>2]>>2]=a,a=e[f>>2]|0,!a){$=39;break e}}else for(a=o;;){if(S=e[a+4>>2]|0,S>>>0<n>>>0?J=S:J=(S>>>0)%(n>>>0)|0,(J|0)==(d|0)){C=a;break i}if(S=(e[r>>2]|0)+(J<<2)|0,!(e[S>>2]|0)){M=a,I=J,D=S;break t}S=a+12|0,L=e[a>>2]|0;r:do if(!L)F=a;else for(V=e[a+8>>2]|0,Q=a,X=L;;){if((V|0)!=(e[X+8>>2]|0)){F=Q;break r}if((e[S>>2]|0)!=(e[X+12>>2]|0)){F=Q;break r}if(j=e[X>>2]|0,j)U=X,X=j,Q=U;else{F=X;break}}while(0);if(e[g>>2]=e[F>>2],e[F>>2]=e[e[(e[r>>2]|0)+(J<<2)>>2]>>2],e[e[(e[r>>2]|0)+(J<<2)>>2]>>2]=a,a=e[f>>2]|0,!a){$=39;break e}}while(0);if(o=e[C>>2]|0,o)f=C,g=C;else{$=39;break e}}if(e[D>>2]=g,b=e[M>>2]|0,b)d=I,m=M,v=M;else{$=39;break}}$|0}function sy(r,n,o,a,f){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0;var h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0;h=r+4|0,c=e[n>>2]|0,n=c;do if((c|0)!=(h|0)){if(g=c+16|0,d=Z[g+11>>0]|0,m=d<<24>>24<0,b=m?e[c+20>>2]|0:d&255,d=Z[f+11>>0]|0,v=d<<24>>24<0,x=v?e[f+4>>2]|0:d&255,d=b>>>0<x>>>0,C=d?b:x,(C|0)!=0&&(S=As(v?e[f>>2]|0:f,m?e[g>>2]|0:g,C)|0,(S|0)!=0)){if((S|0)<0)break}else M=4;if((M|0)==4&&x>>>0<b>>>0)break;if(S=x>>>0<b>>>0?x:b,(S|0)!=0&&(b=As(m?e[g>>2]|0:g,v?e[f>>2]|0:f,S)|0,(b|0)!=0)?(b|0)>=0&&(M=37):M=21,(M|0)==21&&!d&&(M=37),(M|0)==37)return e[o>>2]=n,e[a>>2]=n,I=a,I|0;if(d=e[c+4>>2]|0,b=(d|0)==0,b)if(S=c+8|0,g=e[S>>2]|0,(e[g>>2]|0)==(c|0))D=g;else{g=S;do S=e[g>>2]|0,g=S+8|0,m=e[g>>2]|0;while((e[m>>2]|0)!=(S|0));D=m}else{for(g=d;m=e[g>>2]|0,m;)g=m;D=g}do if((D|0)!=(h|0)){if(d=D+16|0,m=Z[d+11>>0]|0,S=m<<24>>24<0,C=S?e[D+20>>2]|0:m&255,m=C>>>0<x>>>0?C:x,(m|0)!=0&&(L=As(v?e[f>>2]|0:f,S?e[d>>2]|0:d,m)|0,(L|0)!=0)){if((L|0)<0)break}else M=31;if((M|0)==31&&x>>>0<C>>>0)break;return I=Zr(r,o,f)|0,I|0}while(0);return b?(e[o>>2]=n,I=c+4|0,I|0):(e[o>>2]=D,I=D,I|0)}while(0);D=e[c>>2]|0;do if((e[r>>2]|0)==(c|0))N=n;else{if(D)for(h=D;;)if(b=e[h+4>>2]|0,b)h=b;else{X=h;break}else for(h=c;;)if(a=e[h+8>>2]|0,(e[a>>2]|0)==(h|0))h=a;else{X=a;break}if(h=X,b=X+16|0,a=Z[f+11>>0]|0,x=a<<24>>24<0,v=x?e[f+4>>2]|0:a&255,a=Z[b+11>>0]|0,g=a<<24>>24<0,C=g?e[X+20>>2]|0:a&255,a=v>>>0<C>>>0?v:C,(a|0)!=0&&(L=As(g?e[b>>2]|0:b,x?e[f>>2]|0:f,a)|0,(L|0)!=0)){if((L|0)<0){N=h;break}}else M=13;if((M|0)==13&&C>>>0<v>>>0){N=h;break}return I=Zr(r,o,f)|0,I|0}while(0);return D?(e[o>>2]=N,I=N+4|0,I|0):(e[o>>2]=c,I=c,I|0)}function Nu(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;if(f=q,q=q+16|0,h=f,e[n+48>>2]=o,e[n+44>>2]=a,a=e[n+8>>2]|0,c=n+12|0,g=e[c>>2]|0,(g|0)!=(a|0)){d=g;do g=d+-4|0,e[c>>2]=g,m=e[g>>2]|0,e[g>>2]=0,m|0&&Fn[e[(e[m>>2]|0)+4>>2]&127](m),d=e[c>>2]|0;while((d|0)!=(a|0))}if(a=e[n+20>>2]|0,d=n+24|0,c=e[d>>2]|0,(c|0)!=(a|0)&&(e[d>>2]=c+(~((c+-4-a|0)>>>2)<<2)),a=e[n+32>>2]|0,c=n+36|0,d=e[c>>2]|0,(d|0)!=(a|0)&&(e[c>>2]=d+(~((d+-4-a|0)>>>2)<<2)),!(e[n+4>>2]|0)){a=Dt(32)|0,e[h>>2]=a,e[h+8>>2]=-2147483616,e[h+4>>2]=23,b=a,v=14670,x=b+23|0;do Z[b>>0]=Z[v>>0]|0,b=b+1|0,v=v+1|0;while((b|0)<(x|0));Z[a+23>>0]=0,e[r>>2]=-1,T0(r+4|0,h),(Z[h+11>>0]|0)<0&&ve(e[h>>2]|0),q=f;return}if(ay(r,n),e[r>>2]|0){q=f;return}if(a=r+4|0,d=a+11|0,(Z[d>>0]|0)<0&&ve(e[a>>2]|0),MP(r,n),e[r>>2]|0){q=f;return}if((Z[d>>0]|0)<0&&ve(e[a>>2]|0),!(kn[e[(e[n>>2]|0)+16>>2]&127](n)|0)){c=Dt(32)|0,e[h>>2]=c,e[h+8>>2]=-2147483616,e[h+4>>2]=29,b=c,v=14694,x=b+29|0;do Z[b>>0]=Z[v>>0]|0,b=b+1|0,v=v+1|0;while((b|0)<(x|0));Z[c+29>>0]=0,e[r>>2]=-1,T0(a,h),(Z[h+11>>0]|0)<0&&ve(e[h>>2]|0),q=f;return}if(!(kn[e[(e[n>>2]|0)+20>>2]&127](n)|0)){c=Dt(32)|0,e[h>>2]=c,e[h+8>>2]=-2147483616,e[h+4>>2]=31,b=c,v=14724,x=b+31|0;do Z[b>>0]=Z[v>>0]|0,b=b+1|0,v=v+1|0;while((b|0)<(x|0));Z[c+31>>0]=0,e[r>>2]=-1,T0(a,h),(Z[h+11>>0]|0)<0&&ve(e[h>>2]|0),q=f;return}if(nA[e[(e[n>>2]|0)+24>>2]&15](r,n),e[r>>2]|0){q=f;return}if((Z[d>>0]|0)<0&&ve(e[a>>2]|0),!(kn[e[(e[n>>2]|0)+28>>2]&127](n)|0)){d=Dt(48)|0,e[h>>2]=d,e[h+8>>2]=-2147483600,e[h+4>>2]=34,b=d,v=14756,x=b+34|0;do Z[b>>0]=Z[v>>0]|0,b=b+1|0,v=v+1|0;while((b|0)<(x|0));Z[d+34>>0]=0,e[r>>2]=-1,T0(a,h),(Z[h+11>>0]|0)<0&&ve(e[h>>2]|0),q=f;return}a=Dt(32)|0,e[h>>2]=a,e[h+8>>2]=-2147483616,e[h+4>>2]=30,b=a,v=14791,x=b+30|0;do Z[b>>0]=Z[v>>0]|0,b=b+1|0,v=v+1|0;while((b|0)<(x|0));Z[a+30>>0]=0,a=j2(o,h,0)|0,(Z[h+11>>0]|0)<0&&ve(e[h>>2]|0),a&&Fn[e[(e[n>>2]|0)+48>>2]&127](n),e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,q=f}function M2(r,n,o,a,f){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0;var h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0;if(h=r,c=n,g=c,d=o,m=a,b=m,!g)return v=(f|0)!=0,b?v?(e[f>>2]=r|0,e[f+4>>2]=n&0,x=0,C=0,Xe=x,C|0):(x=0,C=0,Xe=x,C|0):(v&&(e[f>>2]=(h>>>0)%(d>>>0),e[f+4>>2]=0),x=0,C=(h>>>0)/(d>>>0)>>>0,Xe=x,C|0);v=(b|0)==0;do if(d){if(!v){if(S=(S0(b|0)|0)-(S0(g|0)|0)|0,S>>>0<=31){M=S+1|0,I=31-S|0,D=S-31>>31,L=M,N=h>>>(M>>>0)&D|g<<I,X=g>>>(M>>>0)&D,V=0,Q=h<<I;break}return f?(e[f>>2]=r|0,e[f+4>>2]=c|n&0,x=0,C=0,Xe=x,C|0):(x=0,C=0,Xe=x,C|0)}if(I=d-1|0,I&d|0){D=(S0(d|0)|0)+33-(S0(g|0)|0)|0,M=64-D|0,S=32-D|0,U=S>>31,j=D-32|0,$=j>>31,L=D,N=S-1>>31&g>>>(j>>>0)|(g<<S|h>>>(D>>>0))&$,X=$&g>>>(D>>>0),V=h<<M&U,Q=(g<<M|h>>>(j>>>0))&U|h<<S&D-33>>31;break}return f|0&&(e[f>>2]=I&h,e[f+4>>2]=0),(d|0)==1?(x=c|n&0,C=r|0|0,Xe=x,C|0):(I=Lk(d|0)|0,x=g>>>(I>>>0)|0,C=g<<32-I|h>>>(I>>>0)|0,Xe=x,C|0)}else{if(v)return f|0&&(e[f>>2]=(g>>>0)%(d>>>0),e[f+4>>2]=0),x=0,C=(g>>>0)/(d>>>0)>>>0,Xe=x,C|0;if(!h)return f|0&&(e[f>>2]=0,e[f+4>>2]=(g>>>0)%(b>>>0)),x=0,C=(g>>>0)/(b>>>0)>>>0,Xe=x,C|0;if(I=b-1|0,!(I&b))return f|0&&(e[f>>2]=r|0,e[f+4>>2]=I&g|n&0),x=0,C=g>>>((Lk(b|0)|0)>>>0),Xe=x,C|0;if(I=(S0(b|0)|0)-(S0(g|0)|0)|0,I>>>0<=30){D=I+1|0,S=31-I|0,L=D,N=g<<S|h>>>(D>>>0),X=g>>>(D>>>0),V=0,Q=h<<S;break}return f?(e[f>>2]=r|0,e[f+4>>2]=c|n&0,x=0,C=0,Xe=x,C|0):(x=0,C=0,Xe=x,C|0)}while(0);if(!L)J=Q,F=V,K=X,re=N,se=0,fe=0;else{n=o|0|0,o=m|a&0,a=Wt(n|0,o|0,-1,-1)|0,m=Xe,c=Q,Q=V,V=X,X=N,N=L,L=0;do r=c,c=Q>>>31|c<<1,Q=L|Q<<1,h=X<<1|r>>>31|0,r=X>>>31|V<<1|0,Gr(a|0,m|0,h|0,r|0)|0,g=Xe,b=g>>31|((g|0)<0?-1:0)<<1,L=b&1,X=Gr(h|0,r|0,b&n|0,(((g|0)<0?-1:0)>>31|((g|0)<0?-1:0)<<1)&o|0)|0,V=Xe,N=N-1|0;while((N|0)!=0);J=c,F=Q,K=V,re=X,se=0,fe=L}return L=F,F=0,f|0&&(e[f>>2]=re,e[f+4>>2]=K),x=(L|0)>>>31|(J|F)<<1|(F<<1|L>>>31)&0|se,C=(L<<1|0>>>31)&-2|fe,Xe=x,C|0}function R2(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0;n=q,q=q+32|0,o=n+4|0,a=n,f=n+16|0,h=r+48|0,c=e[h>>2]|0,g=Dt(32)|0,e[o>>2]=g,e[o+8>>2]=-2147483616,e[o+4>>2]=20,d=g,m=13101,b=d+20|0;do Z[d>>0]=Z[m>>0]|0,d=d+1|0,m=m+1|0;while((d|0)<(b|0));Z[g+20>>0]=0,g=bk(c+24|0,o)|0,(Z[o+11>>0]|0)<0&&ve(e[o>>2]|0),c=e[h>>2]|0,v=Dt(32)|0,e[o>>2]=v,e[o+8>>2]=-2147483616,e[o+4>>2]=22,d=v,m=13122,b=d+22|0;do Z[d>>0]=Z[m>>0]|0,d=d+1|0,m=m+1|0;while((d|0)<(b|0));Z[v+22>>0]=0,v=bk(c+24|0,o)|0,(Z[o+11>>0]|0)<0&&ve(e[o>>2]|0),c=r+64|0,x=e[c>>2]|0,e[c>>2]=0,x|0&&Fn[e[(e[x>>2]|0)+4>>2]&127](x),x=e[r+56>>2]|0,C=(((e[x+100>>2]|0)-(e[x+96>>2]|0)|0)/12|0)>>>0<1e3,x=e[h>>2]|0,S=Dt(32)|0,e[o>>2]=S,e[o+8>>2]=-2147483616,e[o+4>>2]=18,d=S,m=13145,b=d+18|0;do Z[d>>0]=Z[m>>0]|0,d=d+1|0,m=m+1|0;while((d|0)<(b|0));switch(Z[S+18>>0]=0,S=go(x,o,-1)|0,(Z[o+11>>0]|0)<0&&ve(e[o>>2]|0),S|0){case-1:{g&&C|((ol(e[h>>2]|0)|0)>4|v^1)?M=13:M=17;break}case 0:{g?M=13:M=21;break}case 2:{M=17;break}default:M=21}if((M|0)==13?(g=e[r+44>>2]|0,Z[f>>0]=0,v=g+16|0,h=e[v+4>>2]|0,(h|0)>0|(h|0)==0&(e[v>>2]|0)>>>0>0||(e[a>>2]=e[g+4>>2],e[o>>2]=e[a>>2],vr(g,o,f,f+1|0)|0),g=Dt(296)|0,BP(g),v=e[c>>2]|0,e[c>>2]=g,v?(Fn[e[(e[v>>2]|0)+4>>2]&127](v),M=21):I=g):(M|0)==17&&(v=e[r+44>>2]|0,Z[f>>0]=2,g=v+16|0,h=e[g+4>>2]|0,(h|0)>0|(h|0)==0&(e[g>>2]|0)>>>0>0||(e[a>>2]=e[v+4>>2],e[o>>2]=e[a>>2],vr(v,o,f,f+1|0)|0),f=Dt(360)|0,yP(f),o=e[c>>2]|0,e[c>>2]=f,o?(Fn[e[(e[o>>2]|0)+4>>2]&127](o),M=21):I=f),(M|0)==21)if(M=e[c>>2]|0,M)I=M;else return D=0,q=n,D|0;return D=M0[e[(e[I>>2]|0)+8>>2]&127](I,r)|0,q=n,D|0}function Ds(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0;if(f=n+12|0,h=e[f>>2]|0,c=o+4|0,g=(e[c>>2]|0)-h|0,d=o,e[d>>2]=(e[o>>2]|0)-h,e[d+4>>2]=g,g=(e[a>>2]|0)-h|0,d=a+4|0,m=(e[d>>2]|0)-h|0,h=a,e[h>>2]=g,e[h+4>>2]=m,h=e[f>>2]|0,(((m|0)>-1?m:0-m|0)+((g|0)>-1?g:0-g|0)|0)>(h|0)?(b=e[o>>2]|0,v=e[c>>2]|0,(b|0)>-1?(v|0)<=-1?(b|0)<1?(x=-1,C=-1):S=6:(x=1,C=1):(v|0)<1?(x=-1,C=-1):S=6,(S|0)==6&&(x=(b|0)>0?1:-1,C=(v|0)>0?1:-1),M=_i(h,x)|0,I=_i(h,C)|0,h=(b<<1)-M|0,e[o>>2]=h,b=(v<<1)-I|0,e[c>>2]=b,(_i(x,C)|0)>-1?(C=0-b|0,e[o>>2]=C,D=0-h|0,L=C):(e[o>>2]=b,D=h,L=b),e[o>>2]=(L+M|0)/2|0,e[c>>2]=(D+I|0)/2|0,I=e[a>>2]|0,D=e[d>>2]|0,(I|0)>-1?(D|0)<=-1?(I|0)<1?(N=-1,X=-1):S=14:(N=1,X=1):(D|0)<1?(N=-1,X=-1):S=14,(S|0)==14&&(N=(I|0)>0?1:-1,X=(D|0)>0?1:-1),M=e[f>>2]|0,f=_i(M,N)|0,L=_i(M,X)|0,M=(I<<1)-f|0,e[a>>2]=M,I=(D<<1)-L|0,e[d>>2]=I,(_i(N,X)|0)>-1?(X=0-I|0,e[a>>2]=X,V=0-M|0,Q=X):(e[a>>2]=I,V=M,Q=I),I=(Q+f|0)/2|0,e[a>>2]=I,f=(V+L|0)/2|0,e[d>>2]=f,U=I,j=f):(U=g,j=m),U?(U|0)<0&(j|0)<1?($=U,J=j):S=22:j?S=22:($=U,J=j),(S|0)==22){switch(U?F=(U|0)>0?(j>>31)+2|0:(j|0)<1?0:3:F=(j|0)==0?0:(j|0)>0?3:1,j=e[o>>2]|0,U=e[c>>2]|0,F|0){case 1:{F=o,e[F>>2]=U,e[F+4>>2]=0-j,K=e[d>>2]|0,re=0-(e[a>>2]|0)|0;break}case 2:{F=o,e[F>>2]=0-j,e[F+4>>2]=0-U,K=0-(e[a>>2]|0)|0,re=0-(e[d>>2]|0)|0;break}case 3:{F=o,e[F>>2]=0-U,e[F+4>>2]=j,K=0-(e[d>>2]|0)|0,re=e[a>>2]|0;break}default:F=o,e[F>>2]=j,e[F+4>>2]=U,K=e[a>>2]|0,re=e[d>>2]|0}d=a,e[d>>2]=K,e[d+4>>2]=re,$=K,J=re}if(re=(e[o>>2]|0)-$|0,e[r>>2]=re,$=(e[c>>2]|0)-J|0,J=r+4|0,e[J>>2]=$,(re|0)<0?se=(e[n+4>>2]|0)+re|0:se=re,e[r>>2]=se,($|0)>=0){fe=$,e[J>>2]=fe;return}fe=(e[n+4>>2]|0)+$|0,e[J>>2]=fe}function Sc(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0;if(o=r+4|0,!n){a=e[r>>2]|0,e[r>>2]=0,a|0&&ve(a),e[o>>2]=0;return}n>>>0>1073741823&&(a=wn(8)|0,u0(a,14941),e[a>>2]=6944,yn(a|0,1080,114)),a=Dt(n<<2)|0,f=e[r>>2]|0,e[r>>2]=a,f|0&&ve(f),e[o>>2]=n,o=0;do e[(e[r>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(n|0));if(o=r+8|0,f=e[o>>2]|0,!f)return;if(a=e[f+4>>2]|0,h=n+-1|0,c=(h&n|0)==0,c?g=a&h:a>>>0<n>>>0?g=a:g=(a>>>0)%(n>>>0)|0,e[(e[r>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,v=f;else return;e:for(;;){t:do if(c)for(f=m,o=b,g=v;;){for(a=o;x=e[a+4>>2]&h,(x|0)!=(d|0);){if(C=(e[r>>2]|0)+(x<<2)|0,!(e[C>>2]|0)){S=a,M=g,I=x,D=C;break t}for(C=a+8|0,L=a;N=e[L>>2]|0,!!N;)if((Oi[C>>1]|0)==(Oi[N+8>>1]|0))L=N;else break;if(e[g>>2]=N,e[L>>2]=e[e[(e[r>>2]|0)+(x<<2)>>2]>>2],e[e[(e[r>>2]|0)+(x<<2)>>2]>>2]=a,C=e[f>>2]|0,C)a=C;else{X=37;break e}}if(o=e[a>>2]|0,o)f=a,g=a;else{X=37;break e}}else for(g=m,f=b,o=v;;){for(C=f;V=e[C+4>>2]|0,V>>>0<n>>>0?Q=V:Q=(V>>>0)%(n>>>0)|0,(Q|0)!=(d|0);){if(V=(e[r>>2]|0)+(Q<<2)|0,!(e[V>>2]|0)){S=C,M=o,I=Q,D=V;break t}for(V=C+8|0,U=C;j=e[U>>2]|0,!!j;)if((Oi[V>>1]|0)==(Oi[j+8>>1]|0))U=j;else break;if(e[o>>2]=j,e[U>>2]=e[e[(e[r>>2]|0)+(Q<<2)>>2]>>2],e[e[(e[r>>2]|0)+(Q<<2)>>2]>>2]=C,V=e[g>>2]|0,V)C=V;else{X=37;break e}}if(f=e[C>>2]|0,f)g=C,o=C;else{X=37;break e}}while(0);if(e[D>>2]=M,b=e[S>>2]|0,b)d=I,m=S,v=S;else{X=37;break}}X|0}function oy(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0;if(o=r+4|0,!n){a=e[r>>2]|0,e[r>>2]=0,a|0&&ve(a),e[o>>2]=0;return}n>>>0>1073741823&&(a=wn(8)|0,u0(a,14941),e[a>>2]=6944,yn(a|0,1080,114)),a=Dt(n<<2)|0,f=e[r>>2]|0,e[r>>2]=a,f|0&&ve(f),e[o>>2]=n,o=0;do e[(e[r>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(n|0));if(o=r+8|0,f=e[o>>2]|0,!f)return;if(a=e[f+4>>2]|0,h=n+-1|0,c=(h&n|0)==0,c?g=a&h:a>>>0<n>>>0?g=a:g=(a>>>0)%(n>>>0)|0,e[(e[r>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,v=f;else return;e:for(;;){t:do if(c)for(f=m,o=b,g=v;;){for(a=o;x=e[a+4>>2]&h,(x|0)!=(d|0);){if(C=(e[r>>2]|0)+(x<<2)|0,!(e[C>>2]|0)){S=a,M=g,I=x,D=C;break t}for(C=a+8|0,L=a;N=e[L>>2]|0,!!N;)if((Z[C>>0]|0)==(Z[N+8>>0]|0))L=N;else break;if(e[g>>2]=N,e[L>>2]=e[e[(e[r>>2]|0)+(x<<2)>>2]>>2],e[e[(e[r>>2]|0)+(x<<2)>>2]>>2]=a,C=e[f>>2]|0,C)a=C;else{X=37;break e}}if(o=e[a>>2]|0,o)f=a,g=a;else{X=37;break e}}else for(g=m,f=b,o=v;;){for(C=f;V=e[C+4>>2]|0,V>>>0<n>>>0?Q=V:Q=(V>>>0)%(n>>>0)|0,(Q|0)!=(d|0);){if(V=(e[r>>2]|0)+(Q<<2)|0,!(e[V>>2]|0)){S=C,M=o,I=Q,D=V;break t}for(V=C+8|0,U=C;j=e[U>>2]|0,!!j;)if((Z[V>>0]|0)==(Z[j+8>>0]|0))U=j;else break;if(e[o>>2]=j,e[U>>2]=e[e[(e[r>>2]|0)+(Q<<2)>>2]>>2],e[e[(e[r>>2]|0)+(Q<<2)>>2]>>2]=C,V=e[g>>2]|0,V)C=V;else{X=37;break e}}if(f=e[C>>2]|0,f)g=C,o=C;else{X=37;break e}}while(0);if(e[D>>2]=M,b=e[S>>2]|0,b)d=I,m=S,v=S;else{X=37;break}}X|0}function Tc(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0;if(h=e[o>>2]|0,o=e[n>>2]|0,c=h-o|0,g=r+8|0,d=e[g>>2]|0,c>>>0<64){if(d>>>0<=1)return m=0,m|0;for(b=e[f>>2]|0,v=0,x=1;;)if(C=(e[b+(v<<2)>>2]|0)>>>0>(e[b+(x<<2)>>2]|0)>>>0?x:v,x=x+1|0,x>>>0>=d>>>0){m=C;break}else v=C;return m|0}if(d){if(d=e[r+1128>>2]|0,v=e[f>>2]|0,f=e[r+1140>>2]|0,x=e[a>>2]|0,a=n+4|0,b=n+8|0,(h|0)==(o|0)){n=0;do C=d+(n<<2)|0,e[C>>2]=0,S=(e[r>>2]|0)-(e[v+(n<<2)>>2]|0)|0,e[f+(n<<2)>>2]=S,S|0&&(S=e[C>>2]|0,M=c-S|0,e[C>>2]=M>>>0<S>>>0?S:M),n=n+1|0,M=e[g>>2]|0;while(n>>>0<M>>>0);I=M}else{n=0;do{if(M=d+(n<<2)|0,e[M>>2]=0,S=(e[r>>2]|0)-(e[v+(n<<2)>>2]|0)|0,e[f+(n<<2)>>2]=S,S|0){C=(e[x+(n<<2)>>2]|0)+(1<<S+-1)|0,S=e[b>>2]|0,D=e[(e[a>>2]|0)+24>>2]|0,L=o,N=e[M>>2]|0;do X=D+((_i(L,S)|0)<<2)+(n<<2)|0,N=N+((e[X>>2]|0)>>>0<C>>>0&1)|0,e[M>>2]=N,L=L+1|0;while((L|0)!=(h|0));L=c-N|0,e[M>>2]=L>>>0<N>>>0?N:L}n=n+1|0,L=e[g>>2]|0}while(n>>>0<L>>>0);I=L}if(I)for(n=e[r+1140>>2]|0,g=r+1128|0,c=0,h=0,o=0;;)if(e[n+(h<<2)>>2]|0?(a=e[(e[g>>2]|0)+(h<<2)>>2]|0,b=c>>>0<a>>>0,V=b?a:c,Q=b?h:o):(V=c,Q=o),h=h+1|0,h>>>0>=I>>>0){U=Q;break}else c=V,o=Q;else U=0}else U=0;return Q=r+1088|0,o=r+1104|0,V=e[o>>2]|0,c=32-V|0,(c|0)<4?(I=U&15,h=4-c|0,e[o>>2]=h,c=r+1100|0,g=e[c>>2]|I>>>h,e[c>>2]=g,h=r+1092|0,n=e[h>>2]|0,(n|0)==(e[r+1096>>2]|0)?pr(Q,c):(e[n>>2]=g,e[h>>2]=n+4),e[c>>2]=I<<32-(e[o>>2]|0),m=U,m|0):(I=r+1100|0,c=e[I>>2]|U<<28>>>V,e[I>>2]=c,n=V+4|0,e[o>>2]=n,(n|0)!=32?(m=U,m|0):(n=r+1092|0,V=e[n>>2]|0,(V|0)==(e[r+1096>>2]|0)?pr(Q,I):(e[V>>2]=c,e[n>>2]=V+4),e[I>>2]=0,e[o>>2]=0,m=U,m|0))}function sm(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0;if(o=r+4|0,!n){a=e[r>>2]|0,e[r>>2]=0,a|0&&ve(a),e[o>>2]=0;return}n>>>0>1073741823&&(a=wn(8)|0,u0(a,14941),e[a>>2]=6944,yn(a|0,1080,114)),a=Dt(n<<2)|0,f=e[r>>2]|0,e[r>>2]=a,f|0&&ve(f),e[o>>2]=n,o=0;do e[(e[r>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(n|0));if(o=r+8|0,f=e[o>>2]|0,!f)return;if(a=e[f+4>>2]|0,h=n+-1|0,c=(h&n|0)==0,c?g=a&h:a>>>0<n>>>0?g=a:g=(a>>>0)%(n>>>0)|0,e[(e[r>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,o)d=g,m=f,b=o,v=f;else return;e:for(;;){t:do if(c)for(f=m,o=b,g=v;;){for(a=o;x=e[a+4>>2]&h,(x|0)!=(d|0);){if(C=(e[r>>2]|0)+(x<<2)|0,!(e[C>>2]|0)){S=a,M=g,I=x,D=C;break t}for(C=a+8|0,L=a;N=e[L>>2]|0,!!N;)if((e[C>>2]|0)==(e[N+8>>2]|0))L=N;else break;if(e[g>>2]=N,e[L>>2]=e[e[(e[r>>2]|0)+(x<<2)>>2]>>2],e[e[(e[r>>2]|0)+(x<<2)>>2]>>2]=a,C=e[f>>2]|0,C)a=C;else{X=37;break e}}if(o=e[a>>2]|0,o)f=a,g=a;else{X=37;break e}}else for(g=m,f=b,o=v;;){for(C=f;V=e[C+4>>2]|0,V>>>0<n>>>0?Q=V:Q=(V>>>0)%(n>>>0)|0,(Q|0)!=(d|0);){if(V=(e[r>>2]|0)+(Q<<2)|0,!(e[V>>2]|0)){S=C,M=o,I=Q,D=V;break t}for(V=C+8|0,U=C;j=e[U>>2]|0,!!j;)if((e[V>>2]|0)==(e[j+8>>2]|0))U=j;else break;if(e[o>>2]=j,e[U>>2]=e[e[(e[r>>2]|0)+(Q<<2)>>2]>>2],e[e[(e[r>>2]|0)+(Q<<2)>>2]>>2]=C,V=e[g>>2]|0,V)C=V;else{X=37;break e}}if(f=e[C>>2]|0,f)g=C,o=C;else{X=37;break e}}while(0);if(e[D>>2]=M,b=e[S>>2]|0,b)d=I,m=S,v=S;else{X=37;break}}X|0}function om(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0;if(o=r+4|0,!n){a=e[r>>2]|0,e[r>>2]=0,a|0&&ve(a),e[o>>2]=0;return}n>>>0>1073741823&&(a=wn(8)|0,u0(a,14941),e[a>>2]=6944,yn(a|0,1080,114)),a=Dt(n<<2)|0,f=e[r>>2]|0,e[r>>2]=a,f|0&&ve(f),e[o>>2]=n,o=0;do e[(e[r>>2]|0)+(o<<2)>>2]=0,o=o+1|0;while((o|0)!=(n|0));if(o=r+8|0,f=e[o>>2]|0,!f||(a=e[f+4>>2]|0,h=n+-1|0,c=(h&n|0)==0,c?g=a&h:a>>>0<n>>>0?g=a:g=(a>>>0)%(n>>>0)|0,e[(e[r>>2]|0)+(g<<2)>>2]=o,o=e[f>>2]|0,!o))return;a=r+24|0,d=g,g=f,m=o,o=f;e:for(;;){f=g,b=m,v=o;t:for(;;){for(x=b;C=e[x+4>>2]|0,c?S=C&h:C>>>0<n>>>0?S=C:S=(C>>>0)%(n>>>0)|0,(S|0)!=(d|0);){if(M=(e[r>>2]|0)+(S<<2)|0,!(e[M>>2]|0))break t;C=e[x>>2]|0;i:do if(!C)I=x;else{if(D=e[x+8>>2]|0,L=e[a>>2]|0,N=e[L+8>>2]|0,X=(e[L+12>>2]|0)-N|0,L=N,N=X>>>2,(X|0)>0)V=x,Q=C;else for(X=C;;)if(U=e[X>>2]|0,U)X=U;else{I=X;break i}for(;;){X=e[Q+8>>2]|0,U=0;do if(j=e[L+(U<<2)>>2]|0,Z[j+84>>0]|0?(J=X,F=D):($=e[j+68>>2]|0,J=e[$+(X<<2)>>2]|0,F=e[$+(D<<2)>>2]|0),U=U+1|0,(F|0)!=(J|0)){I=V;break i}while((U|0)<(N|0));if(U=e[Q>>2]|0,U)X=Q,Q=U,V=X;else{I=Q;break}}}while(0);if(e[v>>2]=e[I>>2],e[I>>2]=e[e[(e[r>>2]|0)+(S<<2)>>2]>>2],e[e[(e[r>>2]|0)+(S<<2)>>2]>>2]=x,C=e[f>>2]|0,C)x=C;else{K=38;break e}}if(b=e[x>>2]|0,b)f=x,v=x;else{K=38;break e}}if(e[M>>2]=v,m=e[x>>2]|0,m)d=S,g=x,o=x;else{K=38;break}}K|0}function ay(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0;if(o=q,q=q+16|0,a=o+4|0,f=o,h=o+12|0,c=o+11|0,g=o+10|0,d=o+8|0,m=n+44|0,b=e[m>>2]|0,v=b+16|0,x=e[v+4>>2]|0,(x|0)>0|(x|0)==0&(e[v>>2]|0)>>>0>0||(e[f>>2]=e[b+4>>2],e[a>>2]=e[f>>2],vr(b,a,14849,14854)|0),b=kn[e[(e[n>>2]|0)+8>>2]&127](n)|0,Z[h>>0]=b,Z[c>>0]=2,Z[g>>0]=(b&255|0)==0?3:2,b=e[m>>2]|0,v=b+16|0,x=e[v+4>>2]|0,(x|0)>0|(x|0)==0&(e[v>>2]|0)>>>0>0?(M=b,I=6):(e[f>>2]=e[b+4>>2],e[a>>2]=e[f>>2],vr(b,a,c,c+1|0)|0,c=e[m>>2]|0,v=c+16|0,x=e[v+4>>2]|0,(x|0)>0|(x|0)==0&(e[v>>2]|0)>>>0>0?(M=c,I=6):(e[f>>2]=e[c+4>>2],e[a>>2]=e[f>>2],vr(c,a,g,g+1|0)|0,g=e[m>>2]|0,v=g+16|0,x=e[v+4>>2]|0,(x|0)>0|(x|0)==0&(e[v>>2]|0)>>>0>0?(C=f,S=g):(e[f>>2]=e[g+4>>2],e[a>>2]=e[f>>2],vr(g,a,h,h+1|0)|0,C=f,S=e[m>>2]|0))),(I|0)==6&&(C=f,S=M),M=kn[e[(e[n>>2]|0)+12>>2]&127](n)|0,Z[d>>0]=M,M=S+16|0,C=e[M+4>>2]|0,(C|0)>0|(C|0)==0&(e[M>>2]|0)>>>0>0||(e[f>>2]=e[S+4>>2],e[a>>2]=e[f>>2],vr(S,a,d,d+1|0)|0),Oi[d>>1]=(e[(e[n+4>>2]|0)+4>>2]|0)==0?0:-32768,n=e[m>>2]|0,m=n+16|0,S=e[m+4>>2]|0,(S|0)>0|(S|0)==0&(e[m>>2]|0)>>>0>0){e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,q=o;return}e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,d,d+2|0)|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,q=o}function Mc(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=Ar,N=0,X=Ar,V=Ar,Q=Ar,U=Ar;if(a=q,q=q+16|0,f=a,h=r+4|0,(e[h>>2]|0)!=-1)return c=0,q=a,c|0;e[h>>2]=o,o=Z[n+24>>0]|0,h=o<<24>>24,g=r+20|0,br[g>>2]=qt(0),e[f>>2]=0,d=f+4|0,e[d>>2]=0,e[f+8>>2]=0;do if(o<<24>>24)if(o<<24>>24<0)Je();else{m=h<<2,b=Dt(m)|0,e[f>>2]=b,v=b+(h<<2)|0,e[f+8>>2]=v,Mi(b|0,0,m|0)|0,m=b+(h<<2)|0,e[d>>2]=m,x=b,C=m,S=v;break}else x=0,C=0,S=0;while(0);d=r+8|0,f=e[d>>2]|0,v=r+12|0,f?(m=e[v>>2]|0,(m|0)!=(f|0)&&(e[v>>2]=m+(~((m+-4-f|0)>>>2)<<2)),ve(f),f=r+16|0,e[f>>2]=0,e[v>>2]=0,e[d>>2]=0,M=f):M=r+16|0,e[d>>2]=x,e[v>>2]=C,e[M>>2]=S,S=h>>>0>1073741823?-1:h<<2,M=Fl(S)|0,C=Fl(S)|0,S=n+48|0,v=e[S>>2]|0,f=n+40|0,r=e[f>>2]|0,m=e[n>>2]|0,Fr(C|0,(e[m>>2]|0)+v|0,r|0)|0,Fr(x|0,(e[m>>2]|0)+v|0,r|0)|0,r=S,S=e[r>>2]|0,v=e[r+4>>2]|0,r=f,f=e[r>>2]|0,m=e[r+4>>2]|0,r=e[n>>2]|0,Fr(M|0,(e[r>>2]|0)+S|0,f|0)|0,x=e[n+80>>2]|0;e:do if(x>>>0>1){if(o<<24>>24<=0){for(n=1;;)if(b=zi(f|0,m|0,n|0,0)|0,I=Wt(b|0,Xe|0,S|0,v|0)|0,Fr(C|0,(e[r>>2]|0)+I|0,f|0)|0,n=n+1|0,n>>>0>=x>>>0)break e}n=e[d>>2]|0,I=1;do{b=zi(f|0,m|0,I|0,0)|0,D=Wt(b|0,Xe|0,S|0,v|0)|0,Fr(C|0,(e[r>>2]|0)+D|0,f|0)|0,D=0;do b=n+(D<<2)|0,L=qt(br[b>>2]),N=C+(D<<2)|0,X=qt(br[N>>2]),L>X?(br[b>>2]=X,V=qt(br[N>>2])):V=X,N=M+(D<<2)|0,qt(br[N>>2])<V&&(br[N>>2]=V),D=D+1|0;while((D|0)!=(h|0));I=I+1|0}while(I>>>0<x>>>0)}while(0);if(o<<24>>24>0)for(o=e[d>>2]|0,d=0,V=qt(br[g>>2]);;)if(X=qt(br[M+(d<<2)>>2]),L=qt(X-qt(br[o+(d<<2)>>2])),L>V?(br[g>>2]=L,Q=L):Q=V,d=d+1|0,(d|0)==(h|0)){U=Q;break}else V=Q;else U=qt(br[g>>2]);return U==qt(0)&&(br[g>>2]=qt(1)),N0(C),N0(M),c=1,q=a,c|0}function ed(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0;if(h=r+8|0,hd(h,n,a,f),c=a-f|0,(c|0)>0)for(a=0-f|0,g=r+16|0,d=r+32|0,m=r+12|0,b=r+28|0,v=r+20|0,x=r+24|0,C=c,c=e[h>>2]|0;;){if(S=n+(C<<2)|0,M=o+(C<<2)|0,(c|0)>0)for(I=0,D=S+(a<<2)|0,L=c;;){if((L|0)>0){N=0;do X=e[D+(N<<2)>>2]|0,V=e[g>>2]|0,(X|0)>(V|0)?(Q=e[d>>2]|0,e[Q+(N<<2)>>2]=V,U=Q):(Q=e[m>>2]|0,V=e[d>>2]|0,e[V+(N<<2)>>2]=(X|0)<(Q|0)?Q:X,U=V),N=N+1|0;while((N|0)<(e[h>>2]|0));j=U}else j=e[d>>2]|0;if(N=(e[S+(I<<2)>>2]|0)-(e[j+(I<<2)>>2]|0)|0,V=M+(I<<2)|0,e[V>>2]=N,(N|0)>=(e[b>>2]|0)?(N|0)>(e[x>>2]|0)&&($=N-(e[v>>2]|0)|0,J=31):($=(e[v>>2]|0)+N|0,J=31),(J|0)==31&&(J=0,e[V>>2]=$),I=I+1|0,V=e[h>>2]|0,(I|0)>=(V|0)){F=V;break}else D=j,L=V}else F=c;if(C=C-f|0,(C|0)<=0){K=F;break}else c=F}else K=e[h>>2]|0;if(F=f>>>0>1073741823?-1:f<<2,f=Fl(F)|0,Mi(f|0,0,F|0)|0,(K|0)<=0)return N0(f),1;for(F=r+16|0,c=r+32|0,C=r+12|0,j=r+28|0,$=r+20|0,v=r+24|0,r=0,x=f,b=K;;){if((b|0)>0){K=0;do d=e[x+(K<<2)>>2]|0,U=e[F>>2]|0,(d|0)>(U|0)?(m=e[c>>2]|0,e[m+(K<<2)>>2]=U,re=m):(m=e[C>>2]|0,U=e[c>>2]|0,e[U+(K<<2)>>2]=(d|0)<(m|0)?m:d,re=U),K=K+1|0;while((K|0)<(e[h>>2]|0));se=re}else se=e[c>>2]|0;if(K=(e[n+(r<<2)>>2]|0)-(e[se+(r<<2)>>2]|0)|0,U=o+(r<<2)|0,e[U>>2]=K,(K|0)>=(e[j>>2]|0)?(K|0)>(e[v>>2]|0)&&(fe=K-(e[$>>2]|0)|0,J=16):(fe=(e[$>>2]|0)+K|0,J=16),(J|0)==16&&(J=0,e[U>>2]=fe),r=r+1|0,b=e[h>>2]|0,(r|0)>=(b|0))break;x=se}return N0(f),1}function Rc(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;if(f=e[r>>2]|0,h=f,c=(e[n>>2]|0)-h|0,n=f+(c>>2<<2)|0,g=e[o>>2]|0,o=e[a>>2]|0,a=o-g|0,d=a>>2,m=g,b=o,(a|0)<=0)return v=n,v|0;if(a=r+8|0,x=e[a>>2]|0,C=r+4|0,S=e[C>>2]|0,M=S,(d|0)<=(x-M>>2|0)){if(I=n,D=M-I|0,L=D>>2,(d|0)>(L|0)){if(N=m+(L<<2)|0,L=N,(N|0)==(b|0))X=S;else{for(V=b+-4-L|0,Q=N,N=S;e[N>>2]=e[Q>>2],Q=Q+4|0,(Q|0)!=(b|0);)N=N+4|0;N=S+((V>>>2)+1<<2)|0,e[C>>2]=N,X=N}if((D|0)>0)U=L,j=X;else return v=n,v|0}else U=o,j=S;if(o=j-(n+(d<<2))>>2,X=n+(o<<2)|0,X>>>0<S>>>0){for(L=(S+(0-o<<2)+~I|0)>>>2,I=X,D=j;e[D>>2]=e[I>>2],I=I+4|0,!(I>>>0>=S>>>0);)D=D+4|0;e[C>>2]=j+(L+1<<2)}if(o|0){o=X,X=j;do o=o+-4|0,X=X+-4|0,e[X>>2]=e[o>>2];while((o|0)!=(n|0))}if(o=U,(m|0)==(o|0))return v=n,v|0;for($=n,J=m;;)if(e[$>>2]=e[J>>2],J=J+4|0,(J|0)==(o|0)){v=n;break}else $=$+4|0;return v|0}$=(M-h>>2)+d|0,$>>>0>1073741823&&Je(),d=x-h|0,h=d>>1,x=d>>2>>>0<536870911?h>>>0<$>>>0?$:h:1073741823,h=n,$=c>>2;do if(x)if(x>>>0>1073741823)d=wn(8)|0,u0(d,14941),e[d>>2]=6944,yn(d|0,1080,114);else{d=Dt(x<<2)|0,F=d,K=d;break}else F=0,K=0;while(0);if(d=K+($<<2)|0,$=K+(x<<2)|0,(b|0)==(m|0))re=d;else{for(x=((b+-4-g|0)>>>2)+1|0,g=m,m=d;e[m>>2]=e[g>>2],g=g+4|0,(g|0)!=(b|0);)m=m+4|0;re=d+(x<<2)|0}return(c|0)>0&&Fr(F|0,f|0,c|0)|0,c=M-h|0,(c|0)>0?(Fr(re|0,n|0,c|0)|0,se=re+(c>>>2<<2)|0):se=re,e[r>>2]=K,e[C>>2]=se,e[a>>2]=$,f?(ve(f),v=d,v|0):(v=d,v|0)}function td(r,n,o,a,f,h,c){r=r|0,o=o|0,a=a|0,f=f|0,h=h|0,c=c|0;var g=0;switch(o|0){case 1:{o=Dt(60)|0,e[o>>2]=1528,e[o+4>>2]=a,c=o+8|0,e[c>>2]=e[f>>2],e[c+4>>2]=e[f+4>>2],e[c+8>>2]=e[f+8>>2],e[c+12>>2]=e[f+12>>2],e[c+16>>2]=e[f+16>>2],e[c+20>>2]=e[f+20>>2],cf(o+32|0,f+24|0),c=o+44|0,e[c>>2]=e[h>>2],e[c+4>>2]=e[h+4>>2],e[c+8>>2]=e[h+8>>2],e[c+12>>2]=e[h+12>>2],e[o>>2]=1948,g=o,e[r>>2]=g;return}case 4:{o=Dt(168)|0,CP(o,a,f,h),g=o,e[r>>2]=g;return}case 5:{o=Dt(104)|0,e[o>>2]=1528,e[o+4>>2]=a,c=o+8|0,e[c>>2]=e[f>>2],e[c+4>>2]=e[f+4>>2],e[c+8>>2]=e[f+8>>2],e[c+12>>2]=e[f+12>>2],e[c+16>>2]=e[f+16>>2],e[c+20>>2]=e[f+20>>2],cf(o+32|0,f+24|0),c=o+44|0,e[c>>2]=e[h>>2],e[c+4>>2]=e[h+4>>2],e[c+8>>2]=e[h+8>>2],e[c+12>>2]=e[h+12>>2],e[o>>2]=2004,e[o+60>>2]=0,e[o+64>>2]=0,e[o+76>>2]=0,e[o+80>>2]=0,e[o+84>>2]=0,c=o+88|0,e[c>>2]=e[h>>2],e[c+4>>2]=e[h+4>>2],e[c+8>>2]=e[h+8>>2],e[c+12>>2]=e[h+12>>2],g=o,e[r>>2]=g;return}case 6:{o=Dt(140)|0,e[o>>2]=1528,e[o+4>>2]=a,a=o+8|0,e[a>>2]=e[f>>2],e[a+4>>2]=e[f+4>>2],e[a+8>>2]=e[f+8>>2],e[a+12>>2]=e[f+12>>2],e[a+16>>2]=e[f+16>>2],e[a+20>>2]=e[f+20>>2],cf(o+32|0,f+24|0),f=o+44|0,e[f>>2]=e[h>>2],e[f+4>>2]=e[h+4>>2],e[f+8>>2]=e[h+8>>2],e[f+12>>2]=e[h+12>>2],e[o>>2]=2060,e[o+64>>2]=0,e[o+68>>2]=0,f=o+72|0,e[f>>2]=e[h>>2],e[f+4>>2]=e[h+4>>2],e[f+8>>2]=e[h+8>>2],e[f+12>>2]=e[h+12>>2],e[o+60>>2]=2116,e[o+88>>2]=1,h=o+92|0,e[h>>2]=-1,e[h+4>>2]=-1,e[h+8>>2]=-1,e[h+12>>2]=-1,_n(o+108|0),g=o,e[r>>2]=g;return}default:{g=0,e[r>>2]=g;return}}}function ly(r,n,o,a,f,h,c){r=r|0,o=o|0,a=a|0,f=f|0,h=h|0,c=c|0;var g=0;switch(o|0){case 1:{o=Dt(60)|0,e[o>>2]=1528,e[o+4>>2]=a,c=o+8|0,e[c>>2]=e[f>>2],e[c+4>>2]=e[f+4>>2],e[c+8>>2]=e[f+8>>2],e[c+12>>2]=e[f+12>>2],e[c+16>>2]=e[f+16>>2],e[c+20>>2]=e[f+20>>2],cf(o+32|0,f+24|0),c=o+44|0,e[c>>2]=e[h>>2],e[c+4>>2]=e[h+4>>2],e[c+8>>2]=e[h+8>>2],e[c+12>>2]=e[h+12>>2],e[o>>2]=1640,g=o,e[r>>2]=g;return}case 4:{o=Dt(168)|0,TP(o,a,f,h),g=o,e[r>>2]=g;return}case 5:{o=Dt(104)|0,e[o>>2]=1528,e[o+4>>2]=a,c=o+8|0,e[c>>2]=e[f>>2],e[c+4>>2]=e[f+4>>2],e[c+8>>2]=e[f+8>>2],e[c+12>>2]=e[f+12>>2],e[c+16>>2]=e[f+16>>2],e[c+20>>2]=e[f+20>>2],cf(o+32|0,f+24|0),c=o+44|0,e[c>>2]=e[h>>2],e[c+4>>2]=e[h+4>>2],e[c+8>>2]=e[h+8>>2],e[c+12>>2]=e[h+12>>2],e[o>>2]=1696,e[o+60>>2]=0,e[o+64>>2]=0,e[o+76>>2]=0,e[o+80>>2]=0,e[o+84>>2]=0,c=o+88|0,e[c>>2]=e[h>>2],e[c+4>>2]=e[h+4>>2],e[c+8>>2]=e[h+8>>2],e[c+12>>2]=e[h+12>>2],g=o,e[r>>2]=g;return}case 6:{o=Dt(140)|0,e[o>>2]=1528,e[o+4>>2]=a,a=o+8|0,e[a>>2]=e[f>>2],e[a+4>>2]=e[f+4>>2],e[a+8>>2]=e[f+8>>2],e[a+12>>2]=e[f+12>>2],e[a+16>>2]=e[f+16>>2],e[a+20>>2]=e[f+20>>2],cf(o+32|0,f+24|0),f=o+44|0,e[f>>2]=e[h>>2],e[f+4>>2]=e[h+4>>2],e[f+8>>2]=e[h+8>>2],e[f+12>>2]=e[h+12>>2],e[o>>2]=1752,e[o+64>>2]=0,e[o+68>>2]=0,f=o+72|0,e[f>>2]=e[h>>2],e[f+4>>2]=e[h+4>>2],e[f+8>>2]=e[h+8>>2],e[f+12>>2]=e[h+12>>2],e[o+60>>2]=1808,e[o+88>>2]=1,h=o+92|0,e[h>>2]=-1,e[h+4>>2]=-1,e[h+8>>2]=-1,e[h+12>>2]=-1,_n(o+108|0),g=o,e[r>>2]=g;return}default:{g=0,e[r>>2]=g;return}}}function u6(r,n,o,a,f,h,c){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,c=c|0;var g=0,d=0;switch(o|0){case 1:{o=Dt(40)|0,e[o+4>>2]=a,c=o+8|0,e[c>>2]=e[f>>2],e[c+4>>2]=e[f+4>>2],e[c+8>>2]=e[f+8>>2],e[c+12>>2]=e[f+12>>2],c=o+24|0,e[c>>2]=e[h>>2],e[c+4>>2]=e[h+4>>2],e[c+8>>2]=e[h+8>>2],e[c+12>>2]=e[h+12>>2],e[o>>2]=2628,g=o,e[r>>2]=g;return}case 4:{o=Dt(152)|0,e[o+4>>2]=a,c=o+8|0,e[c>>2]=e[f>>2],e[c+4>>2]=e[f+4>>2],e[c+8>>2]=e[f+8>>2],e[c+12>>2]=e[f+12>>2],c=o+24|0,e[c>>2]=e[h>>2],e[c+4>>2]=e[h+4>>2],e[c+8>>2]=e[h+8>>2],e[c+12>>2]=e[h+12>>2],e[o>>2]=2684,c=o+96|0,n=o+40|0,d=n+52|0;do e[n>>2]=0,n=n+4|0;while((n|0)<(d|0));Qy(c),e[o+136>>2]=0,e[o+140>>2]=0,e[o+144>>2]=0,g=o,e[r>>2]=g;return}case 5:{o=Dt(84)|0,e[o+4>>2]=a,c=o+8|0,e[c>>2]=e[f>>2],e[c+4>>2]=e[f+4>>2],e[c+8>>2]=e[f+8>>2],e[c+12>>2]=e[f+12>>2],c=o+24|0,e[c>>2]=e[h>>2],e[c+4>>2]=e[h+4>>2],e[c+8>>2]=e[h+8>>2],e[c+12>>2]=e[h+12>>2],e[o>>2]=2740,e[o+40>>2]=0,e[o+44>>2]=0,e[o+56>>2]=0,e[o+60>>2]=0,e[o+64>>2]=0,c=o+68|0,e[c>>2]=e[h>>2],e[c+4>>2]=e[h+4>>2],e[c+8>>2]=e[h+8>>2],e[c+12>>2]=e[h+12>>2],g=o,e[r>>2]=g;return}case 6:{o=Dt(120)|0,e[o+4>>2]=a,a=o+8|0,e[a>>2]=e[f>>2],e[a+4>>2]=e[f+4>>2],e[a+8>>2]=e[f+8>>2],e[a+12>>2]=e[f+12>>2],f=o+24|0,e[f>>2]=e[h>>2],e[f+4>>2]=e[h+4>>2],e[f+8>>2]=e[h+8>>2],e[f+12>>2]=e[h+12>>2],e[o>>2]=2796,e[o+44>>2]=0,e[o+48>>2]=0,f=o+52|0,e[f>>2]=e[h>>2],e[f+4>>2]=e[h+4>>2],e[f+8>>2]=e[h+8>>2],e[f+12>>2]=e[h+12>>2],e[o+40>>2]=2852,e[o+68>>2]=1,h=o+72|0,e[h>>2]=-1,e[h+4>>2]=-1,e[h+8>>2]=-1,e[h+12>>2]=-1,_n(o+88|0),g=o,e[r>>2]=g;return}default:{g=0,e[r>>2]=g;return}}}function Kn(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0;switch(n-r>>2|0){case 2:return a=n+-4|0,f=e[a>>2]|0,h=e[r>>2]|0,c=e[o>>2]|0,g=e[c>>2]|0,d=(e[c+4>>2]|0)-g>>3,d>>>0<=f>>>0&&Je(),m=g,d>>>0<=h>>>0&&Je(),(e[m+(f<<3)>>2]|0)>>>0>=(e[m+(h<<3)>>2]|0)>>>0?(b=1,b|0):(e[r>>2]=f,e[a>>2]=h,b=1,b|0);case 3:return Tn(r,r+4|0,n+-4|0,o)|0,b=1,b|0;case 4:return ho(r,r+4|0,r+8|0,n+-4|0,o)|0,b=1,b|0;case 5:return De(r,r+4|0,r+8|0,r+12|0,n+-4|0,o)|0,b=1,b|0;case 1:case 0:return b=1,b|0;default:{h=r+8|0,Tn(r,r+4|0,h,o)|0,a=r+12|0;e:do if((a|0)!=(n|0)){f=e[o>>2]|0,m=e[f>>2]|0,c=(e[f+4>>2]|0)-m>>3,d=m,m=a,g=0,v=h;t:for(;;){if(x=e[m>>2]|0,C=e[v>>2]|0,c>>>0<=x>>>0){S=14;break}if(c>>>0<=C>>>0){S=16;break}if(M=d+(x<<3)|0,(e[M>>2]|0)>>>0<(e[d+(C<<3)>>2]|0)>>>0){for(I=v,D=m,L=C;;){if(e[D>>2]=L,(I|0)==(r|0)){N=r;break}if(C=I+-4|0,L=e[C>>2]|0,c>>>0<=L>>>0){S=20;break t}if((e[M>>2]|0)>>>0>=(e[d+(L<<3)>>2]|0)>>>0){N=I;break}else X=I,I=C,D=X}if(e[N>>2]=x,D=g+1|0,(D|0)==8){V=0,Q=(m+4|0)==(n|0);break e}else U=D}else U=g;if(D=m+4|0,(D|0)==(n|0)){V=1,Q=0;break e}else I=m,m=D,g=U,v=I}((S|0)==14||(S|0)==16||(S|0)==20)&&Je()}else V=1,Q=0;while(0);return b=Q|V,b|0}}return 0}function qf(r,n,o,a,f,h,c){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,c=c|0;var g=0,d=0;switch(o|0){case 1:{o=Dt(40)|0,e[o+4>>2]=a,c=o+8|0,e[c>>2]=e[f>>2],e[c+4>>2]=e[f+4>>2],e[c+8>>2]=e[f+8>>2],e[c+12>>2]=e[f+12>>2],c=o+24|0,e[c>>2]=e[h>>2],e[c+4>>2]=e[h+4>>2],e[c+8>>2]=e[h+8>>2],e[c+12>>2]=e[h+12>>2],e[o>>2]=2376,g=o,e[r>>2]=g;return}case 4:{o=Dt(152)|0,e[o+4>>2]=a,c=o+8|0,e[c>>2]=e[f>>2],e[c+4>>2]=e[f+4>>2],e[c+8>>2]=e[f+8>>2],e[c+12>>2]=e[f+12>>2],c=o+24|0,e[c>>2]=e[h>>2],e[c+4>>2]=e[h+4>>2],e[c+8>>2]=e[h+8>>2],e[c+12>>2]=e[h+12>>2],e[o>>2]=2432,c=o+96|0,n=o+40|0,d=n+52|0;do e[n>>2]=0,n=n+4|0;while((n|0)<(d|0));Qy(c),e[o+136>>2]=0,e[o+140>>2]=0,e[o+144>>2]=0,g=o,e[r>>2]=g;return}case 5:{o=Dt(84)|0,e[o+4>>2]=a,c=o+8|0,e[c>>2]=e[f>>2],e[c+4>>2]=e[f+4>>2],e[c+8>>2]=e[f+8>>2],e[c+12>>2]=e[f+12>>2],c=o+24|0,e[c>>2]=e[h>>2],e[c+4>>2]=e[h+4>>2],e[c+8>>2]=e[h+8>>2],e[c+12>>2]=e[h+12>>2],e[o>>2]=2488,e[o+40>>2]=0,e[o+44>>2]=0,e[o+56>>2]=0,e[o+60>>2]=0,e[o+64>>2]=0,c=o+68|0,e[c>>2]=e[h>>2],e[c+4>>2]=e[h+4>>2],e[c+8>>2]=e[h+8>>2],e[c+12>>2]=e[h+12>>2],g=o,e[r>>2]=g;return}case 6:{o=Dt(120)|0,e[o+4>>2]=a,a=o+8|0,e[a>>2]=e[f>>2],e[a+4>>2]=e[f+4>>2],e[a+8>>2]=e[f+8>>2],e[a+12>>2]=e[f+12>>2],f=o+24|0,e[f>>2]=e[h>>2],e[f+4>>2]=e[h+4>>2],e[f+8>>2]=e[h+8>>2],e[f+12>>2]=e[h+12>>2],e[o>>2]=2544,e[o+44>>2]=0,e[o+48>>2]=0,f=o+52|0,e[f>>2]=e[h>>2],e[f+4>>2]=e[h+4>>2],e[f+8>>2]=e[h+8>>2],e[f+12>>2]=e[h+12>>2],e[o+40>>2]=2600,e[o+68>>2]=1,h=o+72|0,e[h>>2]=-1,e[h+4>>2]=-1,e[h+8>>2]=-1,e[h+12>>2]=-1,_n(o+88|0),g=o,e[r>>2]=g;return}default:{g=0,e[r>>2]=g;return}}}function Fu(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=Ar,D=Ar,L=Ar,N=0,X=0,V=0,Q=0,U=0;o=e[n>>2]|0,n=r+4|0,a=e[n>>2]|0,f=(a|0)==0;e:do if(f)m=0;else if(h=a+-1|0,c=(h&a|0)==0,c?g=h&o:o>>>0<a>>>0?g=o:g=(o>>>0)%(a>>>0)|0,d=e[(e[r>>2]|0)+(g<<2)>>2]|0,!d)m=g;else{if(c){for(c=d;;){if(b=e[c>>2]|0,!b){m=g;break e}if(v=e[b+4>>2]|0,!((v|0)==(o|0)|(v&h|0)==(g|0))){m=g;break e}if((e[b+8>>2]|0)==(o|0)){x=b;break}else c=b}return C=x+12|0,C|0}else S=d;for(;;){if(c=e[S>>2]|0,!c){m=g;break e}if(h=e[c+4>>2]|0,(h|0)!=(o|0)&&(h>>>0<a>>>0?M=h:M=(h>>>0)%(a>>>0)|0,(M|0)!=(g|0))){m=g;break e}if((e[c+8>>2]|0)==(o|0)){x=c;break}else S=c}return C=x+12|0,C|0}while(0);S=Dt(16)|0,e[S+8>>2]=o,e[S+12>>2]=0,e[S+4>>2]=o,e[S>>2]=0,g=r+12|0,I=qt(((e[g>>2]|0)+1|0)>>>0),D=qt(a>>>0),L=qt(br[r+16>>2]);do if(f|qt(L*D)<I){if(M=a<<1|(a>>>0<3|(a+-1&a|0)!=0)&1,d=~~qt(yr(qt(I/L)))>>>0,B_(r,M>>>0<d>>>0?d:M),M=e[n>>2]|0,d=M+-1|0,!(d&M)){N=M,X=d&o;break}o>>>0<M>>>0?(N=M,X=o):(N=M,X=(o>>>0)%(M>>>0)|0)}else N=a,X=m;while(0);return m=(e[r>>2]|0)+(X<<2)|0,X=e[m>>2]|0,X?(e[S>>2]=e[X>>2],Q=X,U=30):(a=r+8|0,e[S>>2]=e[a>>2],e[a>>2]=S,e[m>>2]=a,a=e[S>>2]|0,a|0&&(m=e[a+4>>2]|0,a=N+-1|0,a&N?m>>>0<N>>>0?V=m:V=(m>>>0)%(N>>>0)|0:V=m&a,Q=(e[r>>2]|0)+(V<<2)|0,U=30)),(U|0)==30&&(e[Q>>2]=S),e[g>>2]=(e[g>>2]|0)+1,x=S,C=x+12|0,C|0}function id(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0;if(o=q,q=q+16|0,a=o+4|0,f=o,e[r+64>>2]=n,h=r+128|0,e[h>>2]=2,c=r+132|0,e[c>>2]=7,g=kn[e[(e[n>>2]|0)+32>>2]&127](n)|0,n=r+88|0,e[n>>2]=g,d=r+104|0,m=(e[g+28>>2]|0)-(e[g+24>>2]|0)>>2,g=r+108|0,b=e[g>>2]|0,v=e[d>>2]|0,x=b-v>>2,C=v,S=b,m>>>0<=x>>>0?m>>>0<x>>>0&&(M=C+(m<<2)|0,(M|0)!=(S|0))?(C=S+(~((S+-4-M|0)>>>2)<<2)|0,e[g>>2]=C,I=C,D=v):(I=b,D=v):(q0(d,m-x|0),I=e[g>>2]|0,D=e[d>>2]|0),(I|0)!=(D|0)){D=0;do I=e[n>>2]|0,e[f>>2]=D,e[a>>2]=e[f>>2],x=SD(I,a)|0,I=e[d>>2]|0,e[I+(D<<2)>>2]=x,D=D+1|0;while(D>>>0<(e[g>>2]|0)-I>>2>>>0)}if(g=r+92|0,D=e[n>>2]|0,d=e[D>>2]|0,a=(e[D+4>>2]|0)-d>>2,f=r+96|0,I=e[f>>2]|0,x=e[g>>2]|0,m=I-x>>2,v=x,x=I,a>>>0<=m>>>0?a>>>0<m>>>0&&(I=v+(a<<2)|0,(I|0)!=(x|0))?(e[f>>2]=x+(~((x+-4-I|0)>>>2)<<2),L=D,N=d):(L=D,N=d):(q0(g,a-m|0),m=e[n>>2]|0,L=m,N=e[m>>2]|0),m=e[L+4>>2]|0,(m|0)!=(N|0)){N=e[g>>2]|0,g=e[L>>2]|0,L=m-g>>2,m=0;do e[N+(m<<2)>>2]=e[g+(m<<2)>>2],m=m+1|0;while(m>>>0<L>>>0)}if(L=(e[c>>2]|0)-(e[h>>2]|0)+1|0,h=r+136|0,c=r+140|0,r=e[c>>2]|0,m=e[h>>2]|0,g=(r-m|0)/12|0,N=r,L>>>0>g>>>0)return Sy(h,L-g|0),q=o,1;if(L>>>0>=g>>>0||(g=m+(L*12|0)|0,(g|0)==(N|0)))return q=o,1;for(X=N;N=X+-12|0,e[c>>2]=N,L=e[N>>2]|0,L?(N=X+-8|0,m=e[N>>2]|0,(m|0)!=(L|0)&&(e[N>>2]=m+(~((m+-4-L|0)>>>2)<<2)),ve(L),V=e[c>>2]|0):V=N,(V|0)!=(g|0);)X=V;return q=o,1}function c6(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;f=q,q=q+64|0,h=f+48|0,c=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)Je();else{m=Dt(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Mi(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,v=m,x=b;break}else v=0,x=0;while(0);if(o=(n|0)>0,o){g=0;do b=v+(e[r+(g<<2)>>2]<<3)|0,m=b,C=Wt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Xe,g=g+1|0;while((g|0)!=(n|0))}g=c+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=c,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(qb(c,v,x-v>>3,a)|0,v=c+16|0,x=$n(e[v>>2]|0,e[v+4>>2]|0,1)|0,v=(e[a+4>>2]|0)-(e[a>>2]|0)|0,m=g,e[m>>2]=v,e[m+4>>2]=0,m=Wt(x|0,Xe|0,39,0)|0,x=r0(m|0,Xe|0,3)|0,m=Wt(x|0,Xe|0,8,0)|0,x=Wt(m|0,Xe|0,v|0,0)|0,ds(a,x,Xe),x=c+24|0,e[x>>2]=(e[a>>2]|0)+(e[g>>2]|0),g=c+28|0,e[g>>2]=0,v=c+32|0,e[v>>2]=4194304,o){o=n,n=4194304;do{if(m=o,o=o+-1|0,C=e[r+(o<<2)>>2]|0,b=e[c>>2]|0,S=e[b+(C<<3)>>2]|0,M=S<<10,n>>>0<M>>>0)I=n;else for(D=n;;)if(L=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Z[L+N>>0]=D,N=(e[v>>2]|0)>>>8,e[v>>2]=N,N>>>0<M>>>0){I=N;break}else D=N;n=(((I>>>0)/(S>>>0)|0)<<20)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[v>>2]=n}while((m|0)>1)}return Nc(c,a),a=e[c>>2]|0,a|0&&(n=c+4|0,c=e[n>>2]|0,(c|0)!=(a|0)&&(e[n>>2]=c+(~((c+-8-a|0)>>>3)<<3)),ve(a)),a=e[h>>2]|0,a?(h=e[d>>2]|0,(h|0)!=(a|0)&&(e[d>>2]=h+(~((h+-8-a|0)>>>3)<<3)),ve(a),q=f,1):(q=f,1)}function fy(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;f=q,q=q+64|0,h=f+48|0,c=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)Je();else{m=Dt(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Mi(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,v=m,x=b;break}else v=0,x=0;while(0);if(o=(n|0)>0,o){g=0;do b=v+(e[r+(g<<2)>>2]<<3)|0,m=b,C=Wt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Xe,g=g+1|0;while((g|0)!=(n|0))}g=c+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=c,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(s6(c,v,x-v>>3,a)|0,v=c+16|0,x=$n(e[v>>2]|0,e[v+4>>2]|0,1)|0,v=(e[a+4>>2]|0)-(e[a>>2]|0)|0,m=g,e[m>>2]=v,e[m+4>>2]=0,m=Wt(x|0,Xe|0,39,0)|0,x=r0(m|0,Xe|0,3)|0,m=Wt(x|0,Xe|0,8,0)|0,x=Wt(m|0,Xe|0,v|0,0)|0,ds(a,x,Xe),x=c+24|0,e[x>>2]=(e[a>>2]|0)+(e[g>>2]|0),g=c+28|0,e[g>>2]=0,v=c+32|0,e[v>>2]=4194304,o){o=n,n=4194304;do{if(m=o,o=o+-1|0,C=e[r+(o<<2)>>2]|0,b=e[c>>2]|0,S=e[b+(C<<3)>>2]|0,M=S<<10,n>>>0<M>>>0)I=n;else for(D=n;;)if(L=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Z[L+N>>0]=D,N=(e[v>>2]|0)>>>8,e[v>>2]=N,N>>>0<M>>>0){I=N;break}else D=N;n=(((I>>>0)/(S>>>0)|0)<<20)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[v>>2]=n}while((m|0)>1)}return Nc(c,a),a=e[c>>2]|0,a|0&&(n=c+4|0,c=e[n>>2]|0,(c|0)!=(a|0)&&(e[n>>2]=c+(~((c+-8-a|0)>>>3)<<3)),ve(a)),a=e[h>>2]|0,a?(h=e[d>>2]|0,(h|0)!=(a|0)&&(e[d>>2]=h+(~((h+-8-a|0)>>>3)<<3)),ve(a),q=f,1):(q=f,1)}function h6(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;f=q,q=q+64|0,h=f+48|0,c=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)Je();else{m=Dt(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Mi(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,v=m,x=b;break}else v=0,x=0;while(0);if(o=(n|0)>0,o){g=0;do b=v+(e[r+(g<<2)>>2]<<3)|0,m=b,C=Wt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Xe,g=g+1|0;while((g|0)!=(n|0))}g=c+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=c,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(q1(c,v,x-v>>3,a)|0,v=c+16|0,x=$n(e[v>>2]|0,e[v+4>>2]|0,1)|0,v=(e[a+4>>2]|0)-(e[a>>2]|0)|0,m=g,e[m>>2]=v,e[m+4>>2]=0,m=Wt(x|0,Xe|0,39,0)|0,x=r0(m|0,Xe|0,3)|0,m=Wt(x|0,Xe|0,8,0)|0,x=Wt(m|0,Xe|0,v|0,0)|0,ds(a,x,Xe),x=c+24|0,e[x>>2]=(e[a>>2]|0)+(e[g>>2]|0),g=c+28|0,e[g>>2]=0,v=c+32|0,e[v>>2]=4194304,o){o=n,n=4194304;do{if(m=o,o=o+-1|0,C=e[r+(o<<2)>>2]|0,b=e[c>>2]|0,S=e[b+(C<<3)>>2]|0,M=S<<10,n>>>0<M>>>0)I=n;else for(D=n;;)if(L=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Z[L+N>>0]=D,N=(e[v>>2]|0)>>>8,e[v>>2]=N,N>>>0<M>>>0){I=N;break}else D=N;n=(((I>>>0)/(S>>>0)|0)<<20)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[v>>2]=n}while((m|0)>1)}return Nc(c,a),a=e[c>>2]|0,a|0&&(n=c+4|0,c=e[n>>2]|0,(c|0)!=(a|0)&&(e[n>>2]=c+(~((c+-8-a|0)>>>3)<<3)),ve(a)),a=e[h>>2]|0,a?(h=e[d>>2]|0,(h|0)!=(a|0)&&(e[d>>2]=h+(~((h+-8-a|0)>>>3)<<3)),ve(a),q=f,1):(q=f,1)}function d6(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;f=q,q=q+64|0,h=f+48|0,c=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)Je();else{m=Dt(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Mi(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,v=m,x=b;break}else v=0,x=0;while(0);if(o=(n|0)>0,o){g=0;do b=v+(e[r+(g<<2)>>2]<<3)|0,m=b,C=Wt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Xe,g=g+1|0;while((g|0)!=(n|0))}g=c+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=c,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(Zh(c,v,x-v>>3,a)|0,v=c+16|0,x=$n(e[v>>2]|0,e[v+4>>2]|0,1)|0,v=(e[a+4>>2]|0)-(e[a>>2]|0)|0,m=g,e[m>>2]=v,e[m+4>>2]=0,m=Wt(x|0,Xe|0,39,0)|0,x=r0(m|0,Xe|0,3)|0,m=Wt(x|0,Xe|0,8,0)|0,x=Wt(m|0,Xe|0,v|0,0)|0,ds(a,x,Xe),x=c+24|0,e[x>>2]=(e[a>>2]|0)+(e[g>>2]|0),g=c+28|0,e[g>>2]=0,v=c+32|0,e[v>>2]=4194304,o){o=n,n=4194304;do{if(m=o,o=o+-1|0,C=e[r+(o<<2)>>2]|0,b=e[c>>2]|0,S=e[b+(C<<3)>>2]|0,M=S<<10,n>>>0<M>>>0)I=n;else for(D=n;;)if(L=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Z[L+N>>0]=D,N=(e[v>>2]|0)>>>8,e[v>>2]=N,N>>>0<M>>>0){I=N;break}else D=N;n=(((I>>>0)/(S>>>0)|0)<<20)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[v>>2]=n}while((m|0)>1)}return Nc(c,a),a=e[c>>2]|0,a|0&&(n=c+4|0,c=e[n>>2]|0,(c|0)!=(a|0)&&(e[n>>2]=c+(~((c+-8-a|0)>>>3)<<3)),ve(a)),a=e[h>>2]|0,a?(h=e[d>>2]|0,(h|0)!=(a|0)&&(e[d>>2]=h+(~((h+-8-a|0)>>>3)<<3)),ve(a),q=f,1):(q=f,1)}function p6(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;f=q,q=q+64|0,h=f+48|0,c=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)Je();else{m=Dt(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Mi(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,v=m,x=b;break}else v=0,x=0;while(0);if(o=(n|0)>0,o){g=0;do b=v+(e[r+(g<<2)>>2]<<3)|0,m=b,C=Wt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Xe,g=g+1|0;while((g|0)!=(n|0))}g=c+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=c,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(Zb(c,v,x-v>>3,a)|0,v=c+16|0,x=$n(e[v>>2]|0,e[v+4>>2]|0,1)|0,v=(e[a+4>>2]|0)-(e[a>>2]|0)|0,m=g,e[m>>2]=v,e[m+4>>2]=0,m=Wt(x|0,Xe|0,39,0)|0,x=r0(m|0,Xe|0,3)|0,m=Wt(x|0,Xe|0,8,0)|0,x=Wt(m|0,Xe|0,v|0,0)|0,ds(a,x,Xe),x=c+24|0,e[x>>2]=(e[a>>2]|0)+(e[g>>2]|0),g=c+28|0,e[g>>2]=0,v=c+32|0,e[v>>2]=4194304,o){o=n,n=4194304;do{if(m=o,o=o+-1|0,C=e[r+(o<<2)>>2]|0,b=e[c>>2]|0,S=e[b+(C<<3)>>2]|0,M=S<<10,n>>>0<M>>>0)I=n;else for(D=n;;)if(L=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Z[L+N>>0]=D,N=(e[v>>2]|0)>>>8,e[v>>2]=N,N>>>0<M>>>0){I=N;break}else D=N;n=(((I>>>0)/(S>>>0)|0)<<20)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[v>>2]=n}while((m|0)>1)}return Nc(c,a),a=e[c>>2]|0,a|0&&(n=c+4|0,c=e[n>>2]|0,(c|0)!=(a|0)&&(e[n>>2]=c+(~((c+-8-a|0)>>>3)<<3)),ve(a)),a=e[h>>2]|0,a?(h=e[d>>2]|0,(h|0)!=(a|0)&&(e[d>>2]=h+(~((h+-8-a|0)>>>3)<<3)),ve(a),q=f,1):(q=f,1)}function Qo(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;f=q,q=q+64|0,h=f+48|0,c=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)Je();else{m=Dt(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Mi(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,v=m,x=b;break}else v=0,x=0;while(0);if(o=(n|0)>0,o){g=0;do b=v+(e[r+(g<<2)>>2]<<3)|0,m=b,C=Wt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Xe,g=g+1|0;while((g|0)!=(n|0))}g=c+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=c,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(Z1(c,v,x-v>>3,a)|0,v=c+16|0,x=$n(e[v>>2]|0,e[v+4>>2]|0,1)|0,v=(e[a+4>>2]|0)-(e[a>>2]|0)|0,m=g,e[m>>2]=v,e[m+4>>2]=0,m=Wt(x|0,Xe|0,39,0)|0,x=r0(m|0,Xe|0,3)|0,m=Wt(x|0,Xe|0,8,0)|0,x=Wt(m|0,Xe|0,v|0,0)|0,ds(a,x,Xe),x=c+24|0,e[x>>2]=(e[a>>2]|0)+(e[g>>2]|0),g=c+28|0,e[g>>2]=0,v=c+32|0,e[v>>2]=2097152,o){o=n,n=2097152;do{if(m=o,o=o+-1|0,C=e[r+(o<<2)>>2]|0,b=e[c>>2]|0,S=e[b+(C<<3)>>2]|0,M=S<<10,n>>>0<M>>>0)I=n;else for(D=n;;)if(L=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Z[L+N>>0]=D,N=(e[v>>2]|0)>>>8,e[v>>2]=N,N>>>0<M>>>0){I=N;break}else D=N;n=(((I>>>0)/(S>>>0)|0)<<19)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[v>>2]=n}while((m|0)>1)}return R6(c,a),a=e[c>>2]|0,a|0&&(n=c+4|0,c=e[n>>2]|0,(c|0)!=(a|0)&&(e[n>>2]=c+(~((c+-8-a|0)>>>3)<<3)),ve(a)),a=e[h>>2]|0,a?(h=e[d>>2]|0,(h|0)!=(a|0)&&(e[d>>2]=h+(~((h+-8-a|0)>>>3)<<3)),ve(a),q=f,1):(q=f,1)}function uy(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;f=q,q=q+64|0,h=f+48|0,c=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)Je();else{m=Dt(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Mi(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,v=m,x=b;break}else v=0,x=0;while(0);if(o=(n|0)>0,o){g=0;do b=v+(e[r+(g<<2)>>2]<<3)|0,m=b,C=Wt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Xe,g=g+1|0;while((g|0)!=(n|0))}g=c+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=c,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(Jf(c,v,x-v>>3,a)|0,v=c+16|0,x=$n(e[v>>2]|0,e[v+4>>2]|0,1)|0,v=(e[a+4>>2]|0)-(e[a>>2]|0)|0,m=g,e[m>>2]=v,e[m+4>>2]=0,m=Wt(x|0,Xe|0,39,0)|0,x=r0(m|0,Xe|0,3)|0,m=Wt(x|0,Xe|0,8,0)|0,x=Wt(m|0,Xe|0,v|0,0)|0,ds(a,x,Xe),x=c+24|0,e[x>>2]=(e[a>>2]|0)+(e[g>>2]|0),g=c+28|0,e[g>>2]=0,v=c+32|0,e[v>>2]=1048576,o){o=n,n=1048576;do{if(m=o,o=o+-1|0,C=e[r+(o<<2)>>2]|0,b=e[c>>2]|0,S=e[b+(C<<3)>>2]|0,M=S<<10,n>>>0<M>>>0)I=n;else for(D=n;;)if(L=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Z[L+N>>0]=D,N=(e[v>>2]|0)>>>8,e[v>>2]=N,N>>>0<M>>>0){I=N;break}else D=N;n=(((I>>>0)/(S>>>0)|0)<<18)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[v>>2]=n}while((m|0)>1)}return vm(c,a),a=e[c>>2]|0,a|0&&(n=c+4|0,c=e[n>>2]|0,(c|0)!=(a|0)&&(e[n>>2]=c+(~((c+-8-a|0)>>>3)<<3)),ve(a)),a=e[h>>2]|0,a?(h=e[d>>2]|0,(h|0)!=(a|0)&&(e[d>>2]=h+(~((h+-8-a|0)>>>3)<<3)),ve(a),q=f,1):(q=f,1)}function m6(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;f=q,q=q+64|0,h=f+48|0,c=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)Je();else{m=Dt(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Mi(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,v=m,x=b;break}else v=0,x=0;while(0);if(o=(n|0)>0,o){g=0;do b=v+(e[r+(g<<2)>>2]<<3)|0,m=b,C=Wt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Xe,g=g+1|0;while((g|0)!=(n|0))}g=c+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=c,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(Yb(c,v,x-v>>3,a)|0,v=c+16|0,x=$n(e[v>>2]|0,e[v+4>>2]|0,1)|0,v=(e[a+4>>2]|0)-(e[a>>2]|0)|0,m=g,e[m>>2]=v,e[m+4>>2]=0,m=Wt(x|0,Xe|0,39,0)|0,x=r0(m|0,Xe|0,3)|0,m=Wt(x|0,Xe|0,8,0)|0,x=Wt(m|0,Xe|0,v|0,0)|0,ds(a,x,Xe),x=c+24|0,e[x>>2]=(e[a>>2]|0)+(e[g>>2]|0),g=c+28|0,e[g>>2]=0,v=c+32|0,e[v>>2]=262144,o){o=n,n=262144;do{if(m=o,o=o+-1|0,C=e[r+(o<<2)>>2]|0,b=e[c>>2]|0,S=e[b+(C<<3)>>2]|0,M=S<<10,n>>>0<M>>>0)I=n;else for(D=n;;)if(L=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Z[L+N>>0]=D,N=(e[v>>2]|0)>>>8,e[v>>2]=N,N>>>0<M>>>0){I=N;break}else D=N;n=(((I>>>0)/(S>>>0)|0)<<16)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[v>>2]=n}while((m|0)>1)}return My(c,a),a=e[c>>2]|0,a|0&&(n=c+4|0,c=e[n>>2]|0,(c|0)!=(a|0)&&(e[n>>2]=c+(~((c+-8-a|0)>>>3)<<3)),ve(a)),a=e[h>>2]|0,a?(h=e[d>>2]|0,(h|0)!=(a|0)&&(e[d>>2]=h+(~((h+-8-a|0)>>>3)<<3)),ve(a),q=f,1):(q=f,1)}function g6(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;f=q,q=q+64|0,h=f+48|0,c=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)Je();else{m=Dt(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Mi(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,v=m,x=b;break}else v=0,x=0;while(0);if(o=(n|0)>0,o){g=0;do b=v+(e[r+(g<<2)>>2]<<3)|0,m=b,C=Wt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Xe,g=g+1|0;while((g|0)!=(n|0))}g=c+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=c,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(Kb(c,v,x-v>>3,a)|0,v=c+16|0,x=$n(e[v>>2]|0,e[v+4>>2]|0,1)|0,v=(e[a+4>>2]|0)-(e[a>>2]|0)|0,m=g,e[m>>2]=v,e[m+4>>2]=0,m=Wt(x|0,Xe|0,39,0)|0,x=r0(m|0,Xe|0,3)|0,m=Wt(x|0,Xe|0,8,0)|0,x=Wt(m|0,Xe|0,v|0,0)|0,ds(a,x,Xe),x=c+24|0,e[x>>2]=(e[a>>2]|0)+(e[g>>2]|0),g=c+28|0,e[g>>2]=0,v=c+32|0,e[v>>2]=131072,o){o=n,n=131072;do{if(m=o,o=o+-1|0,C=e[r+(o<<2)>>2]|0,b=e[c>>2]|0,S=e[b+(C<<3)>>2]|0,M=S<<10,n>>>0<M>>>0)I=n;else for(D=n;;)if(L=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Z[L+N>>0]=D,N=(e[v>>2]|0)>>>8,e[v>>2]=N,N>>>0<M>>>0){I=N;break}else D=N;n=(((I>>>0)/(S>>>0)|0)<<15)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[v>>2]=n}while((m|0)>1)}return B6(c,a),a=e[c>>2]|0,a|0&&(n=c+4|0,c=e[n>>2]|0,(c|0)!=(a|0)&&(e[n>>2]=c+(~((c+-8-a|0)>>>3)<<3)),ve(a)),a=e[h>>2]|0,a?(h=e[d>>2]|0,(h|0)!=(a|0)&&(e[d>>2]=h+(~((h+-8-a|0)>>>3)<<3)),ve(a),q=f,1):(q=f,1)}function b6(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;f=q,q=q+64|0,h=f+48|0,c=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)Je();else{m=Dt(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Mi(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,v=m,x=b;break}else v=0,x=0;while(0);if(o=(n|0)>0,o){g=0;do b=v+(e[r+(g<<2)>>2]<<3)|0,m=b,C=Wt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Xe,g=g+1|0;while((g|0)!=(n|0))}g=c+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=c,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(o6(c,v,x-v>>3,a)|0,v=c+16|0,x=$n(e[v>>2]|0,e[v+4>>2]|0,1)|0,v=(e[a+4>>2]|0)-(e[a>>2]|0)|0,m=g,e[m>>2]=v,e[m+4>>2]=0,m=Wt(x|0,Xe|0,39,0)|0,x=r0(m|0,Xe|0,3)|0,m=Wt(x|0,Xe|0,8,0)|0,x=Wt(m|0,Xe|0,v|0,0)|0,ds(a,x,Xe),x=c+24|0,e[x>>2]=(e[a>>2]|0)+(e[g>>2]|0),g=c+28|0,e[g>>2]=0,v=c+32|0,e[v>>2]=32768,o){o=n,n=32768;do{if(m=o,o=o+-1|0,C=e[r+(o<<2)>>2]|0,b=e[c>>2]|0,S=e[b+(C<<3)>>2]|0,M=S<<10,n>>>0<M>>>0)I=n;else for(D=n;;)if(L=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Z[L+N>>0]=D,N=(e[v>>2]|0)>>>8,e[v>>2]=N,N>>>0<M>>>0){I=N;break}else D=N;n=(((I>>>0)/(S>>>0)|0)<<13)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[v>>2]=n}while((m|0)>1)}return Fc(c,a),a=e[c>>2]|0,a|0&&(n=c+4|0,c=e[n>>2]|0,(c|0)!=(a|0)&&(e[n>>2]=c+(~((c+-8-a|0)>>>3)<<3)),ve(a)),a=e[h>>2]|0,a?(h=e[d>>2]|0,(h|0)!=(a|0)&&(e[d>>2]=h+(~((h+-8-a|0)>>>3)<<3)),ve(a),q=f,1):(q=f,1)}function cy(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;f=q,q=q+64|0,h=f+48|0,c=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)Je();else{m=Dt(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Mi(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,v=m,x=b;break}else v=0,x=0;while(0);if(o=(n|0)>0,o){g=0;do b=v+(e[r+(g<<2)>>2]<<3)|0,m=b,C=Wt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Xe,g=g+1|0;while((g|0)!=(n|0))}g=c+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=c,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(k2(c,v,x-v>>3,a)|0,v=c+16|0,x=$n(e[v>>2]|0,e[v+4>>2]|0,1)|0,v=(e[a+4>>2]|0)-(e[a>>2]|0)|0,m=g,e[m>>2]=v,e[m+4>>2]=0,m=Wt(x|0,Xe|0,39,0)|0,x=r0(m|0,Xe|0,3)|0,m=Wt(x|0,Xe|0,8,0)|0,x=Wt(m|0,Xe|0,v|0,0)|0,ds(a,x,Xe),x=c+24|0,e[x>>2]=(e[a>>2]|0)+(e[g>>2]|0),g=c+28|0,e[g>>2]=0,v=c+32|0,e[v>>2]=16384,o){o=n,n=16384;do{if(m=o,o=o+-1|0,C=e[r+(o<<2)>>2]|0,b=e[c>>2]|0,S=e[b+(C<<3)>>2]|0,M=S<<10,n>>>0<M>>>0)I=n;else for(D=n;;)if(L=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Z[L+N>>0]=D,N=(e[v>>2]|0)>>>8,e[v>>2]=N,N>>>0<M>>>0){I=N;break}else D=N;n=(((I>>>0)/(S>>>0)|0)<<12)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[v>>2]=n}while((m|0)>1)}return lf(c,a),a=e[c>>2]|0,a|0&&(n=c+4|0,c=e[n>>2]|0,(c|0)!=(a|0)&&(e[n>>2]=c+(~((c+-8-a|0)>>>3)<<3)),ve(a)),a=e[h>>2]|0,a?(h=e[d>>2]|0,(h|0)!=(a|0)&&(e[d>>2]=h+(~((h+-8-a|0)>>>3)<<3)),ve(a),q=f,1):(q=f,1)}function hy(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;f=q,q=q+64|0,h=f+48|0,c=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)Je();else{m=Dt(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Mi(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,v=m,x=b;break}else v=0,x=0;while(0);if(o=(n|0)>0,o){g=0;do b=v+(e[r+(g<<2)>>2]<<3)|0,m=b,C=Wt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Xe,g=g+1|0;while((g|0)!=(n|0))}g=c+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=c,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(Y1(c,v,x-v>>3,a)|0,v=c+16|0,x=$n(e[v>>2]|0,e[v+4>>2]|0,1)|0,v=(e[a+4>>2]|0)-(e[a>>2]|0)|0,m=g,e[m>>2]=v,e[m+4>>2]=0,m=Wt(x|0,Xe|0,39,0)|0,x=r0(m|0,Xe|0,3)|0,m=Wt(x|0,Xe|0,8,0)|0,x=Wt(m|0,Xe|0,v|0,0)|0,ds(a,x,Xe),x=c+24|0,e[x>>2]=(e[a>>2]|0)+(e[g>>2]|0),g=c+28|0,e[g>>2]=0,v=c+32|0,e[v>>2]=16384,o){o=n,n=16384;do{if(m=o,o=o+-1|0,C=e[r+(o<<2)>>2]|0,b=e[c>>2]|0,S=e[b+(C<<3)>>2]|0,M=S<<10,n>>>0<M>>>0)I=n;else for(D=n;;)if(L=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Z[L+N>>0]=D,N=(e[v>>2]|0)>>>8,e[v>>2]=N,N>>>0<M>>>0){I=N;break}else D=N;n=(((I>>>0)/(S>>>0)|0)<<12)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[v>>2]=n}while((m|0)>1)}return lf(c,a),a=e[c>>2]|0,a|0&&(n=c+4|0,c=e[n>>2]|0,(c|0)!=(a|0)&&(e[n>>2]=c+(~((c+-8-a|0)>>>3)<<3)),ve(a)),a=e[h>>2]|0,a?(h=e[d>>2]|0,(h|0)!=(a|0)&&(e[d>>2]=h+(~((h+-8-a|0)>>>3)<<3)),ve(a),q=f,1):(q=f,1)}function dy(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;f=q,q=q+64|0,h=f+48|0,c=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)Je();else{m=Dt(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Mi(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,v=m,x=b;break}else v=0,x=0;while(0);if(o=(n|0)>0,o){g=0;do b=v+(e[r+(g<<2)>>2]<<3)|0,m=b,C=Wt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Xe,g=g+1|0;while((g|0)!=(n|0))}g=c+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=c,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if($b(c,v,x-v>>3,a)|0,v=c+16|0,x=$n(e[v>>2]|0,e[v+4>>2]|0,1)|0,v=(e[a+4>>2]|0)-(e[a>>2]|0)|0,m=g,e[m>>2]=v,e[m+4>>2]=0,m=Wt(x|0,Xe|0,39,0)|0,x=r0(m|0,Xe|0,3)|0,m=Wt(x|0,Xe|0,8,0)|0,x=Wt(m|0,Xe|0,v|0,0)|0,ds(a,x,Xe),x=c+24|0,e[x>>2]=(e[a>>2]|0)+(e[g>>2]|0),g=c+28|0,e[g>>2]=0,v=c+32|0,e[v>>2]=16384,o){o=n,n=16384;do{if(m=o,o=o+-1|0,C=e[r+(o<<2)>>2]|0,b=e[c>>2]|0,S=e[b+(C<<3)>>2]|0,M=S<<10,n>>>0<M>>>0)I=n;else for(D=n;;)if(L=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Z[L+N>>0]=D,N=(e[v>>2]|0)>>>8,e[v>>2]=N,N>>>0<M>>>0){I=N;break}else D=N;n=(((I>>>0)/(S>>>0)|0)<<12)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[v>>2]=n}while((m|0)>1)}return lf(c,a),a=e[c>>2]|0,a|0&&(n=c+4|0,c=e[n>>2]|0,(c|0)!=(a|0)&&(e[n>>2]=c+(~((c+-8-a|0)>>>3)<<3)),ve(a)),a=e[h>>2]|0,a?(h=e[d>>2]|0,(h|0)!=(a|0)&&(e[d>>2]=h+(~((h+-8-a|0)>>>3)<<3)),ve(a),q=f,1):(q=f,1)}function y6(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;f=q,q=q+64|0,h=f+48|0,c=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)Je();else{m=Dt(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Mi(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,v=m,x=b;break}else v=0,x=0;while(0);if(o=(n|0)>0,o){g=0;do b=v+(e[r+(g<<2)>>2]<<3)|0,m=b,C=Wt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Xe,g=g+1|0;while((g|0)!=(n|0))}g=c+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=c,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(ey(c,v,x-v>>3,a)|0,v=c+16|0,x=$n(e[v>>2]|0,e[v+4>>2]|0,1)|0,v=(e[a+4>>2]|0)-(e[a>>2]|0)|0,m=g,e[m>>2]=v,e[m+4>>2]=0,m=Wt(x|0,Xe|0,39,0)|0,x=r0(m|0,Xe|0,3)|0,m=Wt(x|0,Xe|0,8,0)|0,x=Wt(m|0,Xe|0,v|0,0)|0,ds(a,x,Xe),x=c+24|0,e[x>>2]=(e[a>>2]|0)+(e[g>>2]|0),g=c+28|0,e[g>>2]=0,v=c+32|0,e[v>>2]=16384,o){o=n,n=16384;do{if(m=o,o=o+-1|0,C=e[r+(o<<2)>>2]|0,b=e[c>>2]|0,S=e[b+(C<<3)>>2]|0,M=S<<10,n>>>0<M>>>0)I=n;else for(D=n;;)if(L=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Z[L+N>>0]=D,N=(e[v>>2]|0)>>>8,e[v>>2]=N,N>>>0<M>>>0){I=N;break}else D=N;n=(((I>>>0)/(S>>>0)|0)<<12)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[v>>2]=n}while((m|0)>1)}return lf(c,a),a=e[c>>2]|0,a|0&&(n=c+4|0,c=e[n>>2]|0,(c|0)!=(a|0)&&(e[n>>2]=c+(~((c+-8-a|0)>>>3)<<3)),ve(a)),a=e[h>>2]|0,a?(h=e[d>>2]|0,(h|0)!=(a|0)&&(e[d>>2]=h+(~((h+-8-a|0)>>>3)<<3)),ve(a),q=f,1):(q=f,1)}function A6(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;f=q,q=q+64|0,h=f+48|0,c=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)Je();else{m=Dt(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Mi(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,v=m,x=b;break}else v=0,x=0;while(0);if(o=(n|0)>0,o){g=0;do b=v+(e[r+(g<<2)>>2]<<3)|0,m=b,C=Wt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Xe,g=g+1|0;while((g|0)!=(n|0))}g=c+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=c,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(ty(c,v,x-v>>3,a)|0,v=c+16|0,x=$n(e[v>>2]|0,e[v+4>>2]|0,1)|0,v=(e[a+4>>2]|0)-(e[a>>2]|0)|0,m=g,e[m>>2]=v,e[m+4>>2]=0,m=Wt(x|0,Xe|0,39,0)|0,x=r0(m|0,Xe|0,3)|0,m=Wt(x|0,Xe|0,8,0)|0,x=Wt(m|0,Xe|0,v|0,0)|0,ds(a,x,Xe),x=c+24|0,e[x>>2]=(e[a>>2]|0)+(e[g>>2]|0),g=c+28|0,e[g>>2]=0,v=c+32|0,e[v>>2]=16384,o){o=n,n=16384;do{if(m=o,o=o+-1|0,C=e[r+(o<<2)>>2]|0,b=e[c>>2]|0,S=e[b+(C<<3)>>2]|0,M=S<<10,n>>>0<M>>>0)I=n;else for(D=n;;)if(L=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Z[L+N>>0]=D,N=(e[v>>2]|0)>>>8,e[v>>2]=N,N>>>0<M>>>0){I=N;break}else D=N;n=(((I>>>0)/(S>>>0)|0)<<12)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[v>>2]=n}while((m|0)>1)}return lf(c,a),a=e[c>>2]|0,a|0&&(n=c+4|0,c=e[n>>2]|0,(c|0)!=(a|0)&&(e[n>>2]=c+(~((c+-8-a|0)>>>3)<<3)),ve(a)),a=e[h>>2]|0,a?(h=e[d>>2]|0,(h|0)!=(a|0)&&(e[d>>2]=h+(~((h+-8-a|0)>>>3)<<3)),ve(a),q=f,1):(q=f,1)}function v6(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;f=q,q=q+64|0,h=f+48|0,c=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)Je();else{m=Dt(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Mi(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,v=m,x=b;break}else v=0,x=0;while(0);if(o=(n|0)>0,o){g=0;do b=v+(e[r+(g<<2)>>2]<<3)|0,m=b,C=Wt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Xe,g=g+1|0;while((g|0)!=(n|0))}g=c+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=c,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(a6(c,v,x-v>>3,a)|0,v=c+16|0,x=$n(e[v>>2]|0,e[v+4>>2]|0,1)|0,v=(e[a+4>>2]|0)-(e[a>>2]|0)|0,m=g,e[m>>2]=v,e[m+4>>2]=0,m=Wt(x|0,Xe|0,39,0)|0,x=r0(m|0,Xe|0,3)|0,m=Wt(x|0,Xe|0,8,0)|0,x=Wt(m|0,Xe|0,v|0,0)|0,ds(a,x,Xe),x=c+24|0,e[x>>2]=(e[a>>2]|0)+(e[g>>2]|0),g=c+28|0,e[g>>2]=0,v=c+32|0,e[v>>2]=16384,o){o=n,n=16384;do{if(m=o,o=o+-1|0,C=e[r+(o<<2)>>2]|0,b=e[c>>2]|0,S=e[b+(C<<3)>>2]|0,M=S<<10,n>>>0<M>>>0)I=n;else for(D=n;;)if(L=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Z[L+N>>0]=D,N=(e[v>>2]|0)>>>8,e[v>>2]=N,N>>>0<M>>>0){I=N;break}else D=N;n=(((I>>>0)/(S>>>0)|0)<<12)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[v>>2]=n}while((m|0)>1)}return lf(c,a),a=e[c>>2]|0,a|0&&(n=c+4|0,c=e[n>>2]|0,(c|0)!=(a|0)&&(e[n>>2]=c+(~((c+-8-a|0)>>>3)<<3)),ve(a)),a=e[h>>2]|0,a?(h=e[d>>2]|0,(h|0)!=(a|0)&&(e[d>>2]=h+(~((h+-8-a|0)>>>3)<<3)),ve(a),q=f,1):(q=f,1)}function Zf(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;f=q,q=q+64|0,h=f+48|0,c=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)Je();else{m=Dt(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Mi(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,v=m,x=b;break}else v=0,x=0;while(0);if(o=(n|0)>0,o){g=0;do b=v+(e[r+(g<<2)>>2]<<3)|0,m=b,C=Wt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Xe,g=g+1|0;while((g|0)!=(n|0))}g=c+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=c,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(l6(c,v,x-v>>3,a)|0,v=c+16|0,x=$n(e[v>>2]|0,e[v+4>>2]|0,1)|0,v=(e[a+4>>2]|0)-(e[a>>2]|0)|0,m=g,e[m>>2]=v,e[m+4>>2]=0,m=Wt(x|0,Xe|0,39,0)|0,x=r0(m|0,Xe|0,3)|0,m=Wt(x|0,Xe|0,8,0)|0,x=Wt(m|0,Xe|0,v|0,0)|0,ds(a,x,Xe),x=c+24|0,e[x>>2]=(e[a>>2]|0)+(e[g>>2]|0),g=c+28|0,e[g>>2]=0,v=c+32|0,e[v>>2]=16384,o){o=n,n=16384;do{if(m=o,o=o+-1|0,C=e[r+(o<<2)>>2]|0,b=e[c>>2]|0,S=e[b+(C<<3)>>2]|0,M=S<<10,n>>>0<M>>>0)I=n;else for(D=n;;)if(L=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Z[L+N>>0]=D,N=(e[v>>2]|0)>>>8,e[v>>2]=N,N>>>0<M>>>0){I=N;break}else D=N;n=(((I>>>0)/(S>>>0)|0)<<12)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[v>>2]=n}while((m|0)>1)}return lf(c,a),a=e[c>>2]|0,a|0&&(n=c+4|0,c=e[n>>2]|0,(c|0)!=(a|0)&&(e[n>>2]=c+(~((c+-8-a|0)>>>3)<<3)),ve(a)),a=e[h>>2]|0,a?(h=e[d>>2]|0,(h|0)!=(a|0)&&(e[d>>2]=h+(~((h+-8-a|0)>>>3)<<3)),ve(a),q=f,1):(q=f,1)}function rd(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;f=q,q=q+64|0,h=f+48|0,c=f,g=o+1|0,e[h>>2]=0,d=h+4|0,e[d>>2]=0,e[h+8>>2]=0;do if(g)if(g>>>0>536870911)Je();else{m=Dt(g<<3)|0,e[h>>2]=m,b=m+(g<<3)|0,e[h+8>>2]=b,Mi(m|0,0,(o<<3)+8|0)|0,e[d>>2]=b,v=m,x=b;break}else v=0,x=0;while(0);if(o=(n|0)>0,o){g=0;do b=v+(e[r+(g<<2)>>2]<<3)|0,m=b,C=Wt(e[m>>2]|0,e[m+4>>2]|0,1,0)|0,m=b,e[m>>2]=C,e[m+4>>2]=Xe,g=g+1|0;while((g|0)!=(n|0))}g=c+40|0,m=g,e[m>>2]=0,e[m+4>>2]=0,m=c,C=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(C|0));if(C2(c,v,x-v>>3,a)|0,v=c+16|0,x=$n(e[v>>2]|0,e[v+4>>2]|0,1)|0,v=(e[a+4>>2]|0)-(e[a>>2]|0)|0,m=g,e[m>>2]=v,e[m+4>>2]=0,m=Wt(x|0,Xe|0,39,0)|0,x=r0(m|0,Xe|0,3)|0,m=Wt(x|0,Xe|0,8,0)|0,x=Wt(m|0,Xe|0,v|0,0)|0,ds(a,x,Xe),x=c+24|0,e[x>>2]=(e[a>>2]|0)+(e[g>>2]|0),g=c+28|0,e[g>>2]=0,v=c+32|0,e[v>>2]=16384,o){o=n,n=16384;do{if(m=o,o=o+-1|0,C=e[r+(o<<2)>>2]|0,b=e[c>>2]|0,S=e[b+(C<<3)>>2]|0,M=S<<10,n>>>0<M>>>0)I=n;else for(D=n;;)if(L=e[x>>2]|0,N=e[g>>2]|0,e[g>>2]=N+1,Z[L+N>>0]=D,N=(e[v>>2]|0)>>>8,e[v>>2]=N,N>>>0<M>>>0){I=N;break}else D=N;n=(((I>>>0)/(S>>>0)|0)<<12)+((I>>>0)%(S>>>0)|0)+(e[b+(C<<3)+4>>2]|0)|0,e[v>>2]=n}while((m|0)>1)}return lf(c,a),a=e[c>>2]|0,a|0&&(n=c+4|0,c=e[n>>2]|0,(c|0)!=(a|0)&&(e[n>>2]=c+(~((c+-8-a|0)>>>3)<<3)),ve(a)),a=e[h>>2]|0,a?(h=e[d>>2]|0,(h|0)!=(a|0)&&(e[d>>2]=h+(~((h+-8-a|0)>>>3)<<3)),ve(a),q=f,1):(q=f,1)}function B2(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0;if(f=e[n>>2]|0,h=n+4|0,c=e[h>>2]|0,g=((e[o>>2]|0)-f<<3)+(e[o+4>>2]|0)-c|0,o=f,(g|0)<=0){d=a+4|0,m=e[a>>2]|0,e[r>>2]=m,b=r+4|0,v=e[d>>2]|0,e[b>>2]=v;return}if(c?(f=32-c|0,I=(g|0)<(f|0)?g:f,D=-1>>>(f-I|0)&-1<<c&e[o>>2],o=a+4|0,c=e[o>>2]|0,f=32-c|0,L=f>>>0<I>>>0?f:I,N=e[a>>2]|0,X=e[N>>2]&~(-1>>>(f-L|0)&-1<<c),e[N>>2]=X,c=e[o>>2]|0,f=e[h>>2]|0,e[N>>2]=(c>>>0>f>>>0?D<<c-f:D>>>(f-c|0))|X,X=(e[o>>2]|0)+L|0,c=N+(X>>>5<<2)|0,e[a>>2]=c,N=X&31,e[o>>2]=N,X=I-L|0,(X|0)>0?(f=e[c>>2]&~(-1>>>(32-X|0)),e[c>>2]=f,e[c>>2]=f|D>>>((e[h>>2]|0)+L|0),e[o>>2]=X,V=X):V=N,N=(e[n>>2]|0)+4|0,e[n>>2]=N,x=g-I|0,C=o,S=N,M=V):(f=a+4|0,x=g,C=f,S=o,M=e[f>>2]|0),V=32-M|0,N=-1<<M,(x|0)>31){for(M=~N,o=~x,I=x+((o|0)>-64?o:-64)+32&-32,o=x,g=S;X=e[g>>2]|0,L=e[a>>2]|0,h=e[L>>2]&M,e[L>>2]=h,e[L>>2]=h|X<<e[C>>2],h=L+4|0,e[a>>2]=h,e[h>>2]=e[h>>2]&N|X>>>V,g=(e[n>>2]|0)+4|0,e[n>>2]=g,!((o|0)<=63);)o=o+-32|0;Q=x+-32-I|0,U=g}else Q=x,U=S;if((Q|0)<=0){d=C,m=e[a>>2]|0,e[r>>2]=m,b=r+4|0,v=e[d>>2]|0,e[b>>2]=v;return}if(S=e[U>>2]&-1>>>(32-Q|0),U=(V|0)<(Q|0)?V:Q,x=e[a>>2]|0,g=e[x>>2]&~(-1<<e[C>>2]&-1>>>(V-U|0)),e[x>>2]=g,e[x>>2]=g|S<<e[C>>2],g=(e[C>>2]|0)+U|0,V=x+(g>>>5<<2)|0,e[a>>2]=V,e[C>>2]=g&31,g=Q-U|0,(g|0)<=0){d=C,m=e[a>>2]|0,e[r>>2]=m,b=r+4|0,v=e[d>>2]|0,e[b>>2]=v;return}e[V>>2]=e[V>>2]&~(-1>>>(32-g|0))|S>>>U,e[C>>2]=g,d=C,m=e[a>>2]|0,e[r>>2]=m,b=r+4|0,v=e[d>>2]|0,e[b>>2]=v}function Bc(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0;o=q,q=q+16|0,a=o+4|0,f=o,h=o+9|0,c=o+8|0,g=e[(e[r+184>>2]|0)+(n<<2)>>2]&255,Z[h>>0]=g,n=r+4|0,d=e[(e[n>>2]|0)+44>>2]|0,m=d+16|0,b=e[m+4>>2]|0,(b|0)>0|(b|0)==0&(e[m>>2]|0)>>>0>0?v=g:(e[f>>2]=e[d+4>>2],e[a>>2]=e[f>>2],vr(d,a,h,h+1|0)|0,v=Z[h>>0]|0);e:do if(v<<24>>24>-1){switch(d=r+172|0,g=e[(e[d>>2]|0)+((v<<24>>24)*136|0)>>2]|0,m=(kn[e[(e[r>>2]|0)+40>>2]&127](r)|0)+56|0,b=Z[h>>0]|0,x=e[d>>2]|0,d=e[x+(b*136|0)+132>>2]|0,e[(e[(e[m>>2]|0)+84>>2]|0)+(g<<2)>>2]|0){case 0:{C=d,S=7;break e}case 1:{if(Z[x+(b*136|0)+28>>0]|0){C=d,S=7;break e}break}}b=e[(e[n>>2]|0)+44>>2]|0,Z[c>>0]=1,x=b+16|0,g=e[x+4>>2]|0,(g|0)>0|(g|0)==0&(e[x>>2]|0)>>>0>0||(e[f>>2]=e[b+4>>2],e[a>>2]=e[f>>2],vr(b,a,c,c+1|0)|0),M=d}else C=e[r+68>>2]|0,S=7;while(0);return(S|0)==7&&(S=e[(e[n>>2]|0)+44>>2]|0,Z[c>>0]=0,r=S+16|0,h=e[r+4>>2]|0,(h|0)>0|(h|0)==0&(e[r>>2]|0)>>>0>0||(e[f>>2]=e[S+4>>2],e[a>>2]=e[f>>2],vr(S,a,c,c+1|0)|0),M=C),C=e[(e[n>>2]|0)+44>>2]|0,Z[c>>0]=M,M=C+16|0,n=e[M+4>>2]|0,(n|0)>0|(n|0)==0&(e[M>>2]|0)>>>0>0?(q=o,1):(e[f>>2]=e[C+4>>2],e[a>>2]=e[f>>2],vr(C,a,c,c+1|0)|0,q=o,1)}function of(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;if(c=q,q=q+16|0,g=c+4|0,d=c,m=r+60|0,e[r+64>>2]=h,h=r+8|0,hd(h,n,a,f),a=r+56|0,b=e[a>>2]|0,v=e[b+4>>2]|0,x=e[b>>2]|0,C=v-x|0,(C|0)<=0)return q=c,1;for(S=(C>>>2)+-1|0,C=r+68|0,M=r+16|0,I=r+32|0,D=r+12|0,L=r+28|0,N=r+20|0,X=r+24|0,v-x>>2>>>0>S>>>0?(V=S,Q=x):Je();;){if(e[d>>2]=e[Q+(V<<2)>>2],e[g>>2]=e[d>>2],Q_(m,g,n,V)|0,b=_i(V,f)|0,x=n+(b<<2)|0,S=o+(b<<2)|0,b=e[h>>2]|0,(b|0)>0)for(v=0,r=C,U=b;;){if((U|0)>0){b=0;do j=e[r+(b<<2)>>2]|0,$=e[M>>2]|0,(j|0)>($|0)?(J=e[I>>2]|0,e[J+(b<<2)>>2]=$,F=J):(J=e[D>>2]|0,$=e[I>>2]|0,e[$+(b<<2)>>2]=(j|0)<(J|0)?J:j,F=$),b=b+1|0;while((b|0)<(e[h>>2]|0));K=F}else K=e[I>>2]|0;if(b=(e[x+(v<<2)>>2]|0)-(e[K+(v<<2)>>2]|0)|0,$=S+(v<<2)|0,e[$>>2]=b,(b|0)>=(e[L>>2]|0)?(b|0)>(e[X>>2]|0)&&(re=b-(e[N>>2]|0)|0,se=18):(re=(e[N>>2]|0)+b|0,se=18),(se|0)==18&&(se=0,e[$>>2]=re),v=v+1|0,U=e[h>>2]|0,(v|0)>=(U|0))break;r=K}if(V=V+-1|0,(V|0)<=-1){se=3;break}if(r=e[a>>2]|0,Q=e[r>>2]|0,(e[r+4>>2]|0)-Q>>2>>>0<=V>>>0){se=4;break}}return(se|0)==3?(q=c,1):((se|0)==4&&Je(),0)}function w6(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0;if(c=q,q=q+16|0,g=c+4|0,d=c,m=r+60|0,e[r+64>>2]=h,h=r+8|0,hd(h,n,a,f),a=r+56|0,b=e[a>>2]|0,v=e[b+4>>2]|0,x=e[b>>2]|0,C=v-x|0,(C|0)<=0)return q=c,1;for(S=(C>>>2)+-1|0,C=r+68|0,M=r+16|0,I=r+32|0,D=r+12|0,L=r+28|0,N=r+20|0,X=r+24|0,v-x>>2>>>0>S>>>0?(V=S,Q=x):Je();;){if(e[d>>2]=e[Q+(V<<2)>>2],e[g>>2]=e[d>>2],W_(m,g,n,V)|0,b=_i(V,f)|0,x=n+(b<<2)|0,S=o+(b<<2)|0,b=e[h>>2]|0,(b|0)>0)for(v=0,r=C,U=b;;){if((U|0)>0){b=0;do j=e[r+(b<<2)>>2]|0,$=e[M>>2]|0,(j|0)>($|0)?(J=e[I>>2]|0,e[J+(b<<2)>>2]=$,F=J):(J=e[D>>2]|0,$=e[I>>2]|0,e[$+(b<<2)>>2]=(j|0)<(J|0)?J:j,F=$),b=b+1|0;while((b|0)<(e[h>>2]|0));K=F}else K=e[I>>2]|0;if(b=(e[x+(v<<2)>>2]|0)-(e[K+(v<<2)>>2]|0)|0,$=S+(v<<2)|0,e[$>>2]=b,(b|0)>=(e[L>>2]|0)?(b|0)>(e[X>>2]|0)&&(re=b-(e[N>>2]|0)|0,se=18):(re=(e[N>>2]|0)+b|0,se=18),(se|0)==18&&(se=0,e[$>>2]=re),v=v+1|0,U=e[h>>2]|0,(v|0)>=(U|0))break;r=K}if(V=V+-1|0,(V|0)<=-1){se=3;break}if(r=e[a>>2]|0,Q=e[r>>2]|0,(e[r+4>>2]|0)-Q>>2>>>0<=V>>>0){se=4;break}}return(se|0)==3?(q=c,1):((se|0)==4&&Je(),0)}function py(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0;if(n=q,q=q+16|0,o=n+4|0,a=n,f=r+12|0,h=e[f>>2]|0,c=(e[h+4>>2]|0)-(e[h>>2]|0)>>2,!c)return q=n,1;for(g=r+152|0,d=r+140|0,m=r+144|0,b=r+148|0,r=0,v=h;;){if(e[a>>2]=(r>>>0)/3|0,e[o>>2]=e[a>>2],!(Ly(v,o)|0)&&(h=e[f>>2]|0,(e[(e[h+12>>2]|0)+(r<<2)>>2]|0)==-1)&&(x=r+1|0,C=((x>>>0)%3|0|0)==0?r+-2|0:x,(C|0)==-1?S=-1:S=e[(e[h>>2]|0)+(C<<2)>>2]|0,C=e[g>>2]|0,(e[C+(S<<2)>>2]|0)==-1)){if(h=e[m>>2]|0,x=e[b>>2]|0,(h|0)==(x<<5|0)){if((h+1|0)<0){M=11;break}I=x<<6,x=h+32&-32,la(d,h>>>0<1073741823?I>>>0<x>>>0?x:I:2147483647),D=e[m>>2]|0,L=e[g>>2]|0}else D=h,L=C;if(e[m>>2]=D+1,C=(e[d>>2]|0)+(D>>>5<<2)|0,e[C>>2]=e[C>>2]&~(1<<(D&31)),C=L+(S<<2)|0,(e[C>>2]|0)==-1)for(I=r,x=C;;){e[x>>2]=h,C=I+1|0;e:do if((I|0)!=-1&&(N=((C>>>0)%3|0|0)==0?I+-2|0:C,(N|0)!=-1)){for(X=e[f>>2]|0,V=e[X+12>>2]|0,Q=N;N=e[V+(Q<<2)>>2]|0,(N|0)!=-1;)if(U=N+1|0,j=((U>>>0)%3|0|0)==0?N+-2|0:U,(j|0)==-1){$=-1,J=-1;break e}else Q=j;V=Q+1|0,j=((V>>>0)%3|0|0)==0?Q+-2|0:V,(j|0)==-1?($=Q,J=-1):($=Q,J=e[(e[X>>2]|0)+(j<<2)>>2]|0)}else $=-1,J=-1;while(0);if(x=L+(J<<2)|0,(e[x>>2]|0)!=-1)break;I=$}}if(I=r+1|0,I>>>0>=c>>>0){M=3;break}r=I,v=e[f>>2]|0}return(M|0)==3?(q=n,1):((M|0)==11&&Je(),0)}function Ic(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0;if(a=q,q=q+32|0,f=a+8|0,h=a,c=r+4|0,g=e[c>>2]|0,g>>>0>=n>>>0){e[c>>2]=n,q=a;return}if(d=r+8|0,m=e[d>>2]|0,b=m<<5,v=n-g|0,b>>>0<v>>>0|g>>>0>(b-v|0)>>>0?(e[f>>2]=0,x=f+4|0,e[x>>2]=0,C=f+8|0,e[C>>2]=0,(n|0)<0&&Je(),S=m<<6,m=n+31&-32,la(f,b>>>0<1073741823?S>>>0<m>>>0?m:S:2147483647),S=e[c>>2]|0,e[x>>2]=S+v,m=e[r>>2]|0,b=m,M=e[f>>2]|0,I=(b+(S>>>5<<2)-m<<3)+(S&31)|0,(I|0)>0?(S=I>>>5,W0(M|0,m|0,S<<2|0)|0,m=I&31,I=M+(S<<2)|0,D=I,m?(X=-1>>>(32-m|0),e[I>>2]=e[I>>2]&~X|e[b+(S<<2)>>2]&X,L=m,N=D):(L=0,N=D)):(L=0,N=M),e[h>>2]=N,e[h+4>>2]=L,L=h,h=e[L>>2]|0,N=e[L+4>>2]|0,L=e[r>>2]|0,e[r>>2]=e[f>>2],e[f>>2]=L,f=e[c>>2]|0,e[c>>2]=e[x>>2],e[x>>2]=f,f=e[d>>2]|0,e[d>>2]=e[C>>2],e[C>>2]=f,L|0&&ve(L),V=h,Q=N):(N=(e[r>>2]|0)+(g>>>5<<2)|0,e[c>>2]=n,V=N,Q=g&31),!v){q=a;return}if(g=(Q|0)==0,N=V,o){if(g?(U=v,j=V,$=N):(o=32-Q|0,n=o>>>0>v>>>0?v:o,e[N>>2]=e[N>>2]|-1>>>(o-n|0)&-1<<Q,o=N+4|0,U=v-n|0,j=o,$=o),o=U>>>5,Mi(j|0,-1,o<<2|0)|0,j=U&31,U=$+(o<<2)|0,!j){q=a;return}e[U>>2]=e[U>>2]|-1>>>(32-j|0),q=a;return}else{if(g?(J=v,F=V,K=N):(V=32-Q|0,g=V>>>0>v>>>0?v:V,e[N>>2]=e[N>>2]&~(-1>>>(V-g|0)&-1<<Q),Q=N+4|0,J=v-g|0,F=Q,K=Q),Q=J>>>5,Mi(F|0,0,Q<<2|0)|0,F=J&31,J=K+(Q<<2)|0,!F){q=a;return}e[J>>2]=e[J>>2]&~(-1>>>(32-F|0)),q=a;return}}function my(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0;return r=q,q=q+48|0,f=r+36|0,h=r+24|0,c=r+12|0,g=r,n?(e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,m=Uc(o)|0,m>>>0>4294967279&&Je(),m>>>0<11?(Z[f+11>>0]=m,m?(v=f,x=7):b=f):(C=m+16&-16,S=Dt(C)|0,e[f>>2]=S,e[f+8>>2]=C|-2147483648,e[f+4>>2]=m,v=S,x=7),(x|0)==7&&(Fr(v|0,o|0,m|0)|0,b=v),Z[b+m>>0]=0,e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=0,m=Uc(a)|0,m>>>0>4294967279&&Je(),m>>>0<11?(Z[h+11>>0]=m,m?(I=h,x=13):M=h):(b=m+16&-16,v=Dt(b)|0,e[h>>2]=v,e[h+8>>2]=b|-2147483648,e[h+4>>2]=m,I=v,x=13),(x|0)==13&&(Fr(I|0,a|0,m|0)|0,M=I),Z[M+m>>0]=0,e[c>>2]=0,e[c+4>>2]=0,e[c+8>>2]=0,m=Uc(o)|0,m>>>0>4294967279&&Je(),m>>>0<11?(Z[c+11>>0]=m,m?(L=c,x=19):D=c):(M=m+16&-16,I=Dt(M)|0,e[c>>2]=I,e[c+8>>2]=M|-2147483648,e[c+4>>2]=m,L=I,x=19),(x|0)==19&&(Fr(L|0,o|0,m|0)|0,D=L),Z[D+m>>0]=0,e[g>>2]=0,e[g+4>>2]=0,e[g+8>>2]=0,m=Uc(a)|0,m>>>0>4294967279&&Je(),m>>>0<11?(Z[g+11>>0]=m,m?(X=g,x=25):N=g):(D=m+16&-16,L=Dt(D)|0,e[g>>2]=L,e[g+8>>2]=D|-2147483648,e[g+4>>2]=m,X=L,x=25),(x|0)==25&&(Fr(X|0,a|0,m|0)|0,N=X),Z[N+m>>0]=0,SF(n,c,g),(Z[g+11>>0]|0)<0&&ve(e[g>>2]|0),(Z[c+11>>0]|0)<0&&ve(e[c>>2]|0),(Z[h+11>>0]|0)<0&&ve(e[h>>2]|0),(Z[f+11>>0]|0)<0&&ve(e[f>>2]|0),d=1,q=r,d|0):(d=0,q=r,d|0)}function gy(r,n){r=r|0,n=n|0;var o=0,a=0,f=0;e[r>>2]=e[n>>2],o=n+4|0,e[r+4>>2]=e[o>>2],a=n+8|0,e[r+8>>2]=e[a>>2],f=n+12|0,e[r+12>>2]=e[f>>2],e[o>>2]=0,e[a>>2]=0,e[f>>2]=0,f=n+16|0,e[r+16>>2]=e[f>>2],a=n+20|0,e[r+20>>2]=e[a>>2],o=n+24|0,e[r+24>>2]=e[o>>2],e[f>>2]=0,e[a>>2]=0,e[o>>2]=0,Z[r+28>>0]=Z[n+28>>0]|0,o=r+32|0,a=n+32|0,e[o>>2]=0,f=r+36|0,e[f>>2]=0,e[r+40>>2]=0,e[o>>2]=e[a>>2],o=n+36|0,e[f>>2]=e[o>>2],f=n+40|0,e[r+40>>2]=e[f>>2],e[f>>2]=0,e[o>>2]=0,e[a>>2]=0,a=r+44|0,o=n+44|0,e[a>>2]=0,f=r+48|0,e[f>>2]=0,e[r+52>>2]=0,e[a>>2]=e[o>>2],a=n+48|0,e[f>>2]=e[a>>2],f=n+52|0,e[r+52>>2]=e[f>>2],e[f>>2]=0,e[a>>2]=0,e[o>>2]=0,o=r+56|0,a=n+56|0,e[o>>2]=0,f=r+60|0,e[f>>2]=0,e[r+64>>2]=0,e[o>>2]=e[a>>2],o=n+60|0,e[f>>2]=e[o>>2],f=n+64|0,e[r+64>>2]=e[f>>2],e[f>>2]=0,e[o>>2]=0,e[a>>2]=0,e[r+68>>2]=e[n+68>>2],e[r+72>>2]=e[n+72>>2],a=r+76|0,o=n+76|0,e[a>>2]=0,f=r+80|0,e[f>>2]=0,e[r+84>>2]=0,e[a>>2]=e[o>>2],a=n+80|0,e[f>>2]=e[a>>2],f=n+84|0,e[r+84>>2]=e[f>>2],e[f>>2]=0,e[a>>2]=0,e[o>>2]=0,o=r+88|0,a=n+88|0,e[o>>2]=0,f=r+92|0,e[f>>2]=0,e[r+96>>2]=0,e[o>>2]=e[a>>2],o=n+92|0,e[f>>2]=e[o>>2],f=n+96|0,e[r+96>>2]=e[f>>2],e[f>>2]=0,e[o>>2]=0,e[a>>2]=0,Z[r+100>>0]=Z[n+100>>0]|0,a=r+104|0,o=n+104|0,e[a>>2]=0,f=r+108|0,e[f>>2]=0,e[r+112>>2]=0,e[a>>2]=e[o>>2],a=n+108|0,e[f>>2]=e[a>>2],f=n+112|0,e[r+112>>2]=e[f>>2],e[f>>2]=0,e[a>>2]=0,e[o>>2]=0,o=r+116|0,a=n+116|0,e[o>>2]=0,f=r+120|0,e[f>>2]=0,e[r+124>>2]=0,e[o>>2]=e[a>>2],o=n+120|0,e[f>>2]=e[o>>2],f=n+124|0,e[r+124>>2]=e[f>>2],e[f>>2]=0,e[o>>2]=0,e[a>>2]=0,e[r+128>>2]=e[n+128>>2],e[r+132>>2]=e[n+132>>2]}function by(r,n,o,a,f){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0;var h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0;if(h=q,q=q+48|0,c=h+36|0,g=h+24|0,d=h+8|0,m=h+4|0,b=h,v=a+4|0,U6(c,n,(e[v>>2]|0)-(e[a>>2]|0)>>2,2,f,o,1),f=e[c>>2]|0,x=(e[e[f>>2]>>2]|0)+(e[f+48>>2]|0)|0,e[d>>2]=-1,e[d+4>>2]=-1,e[d+8>>2]=-1,e[d+12>>2]=-1,C=e[n+4>>2]|0,(C+-2|0)>>>0<=28){if(e[d>>2]=C,n=1<<C,e[d+4>>2]=n+-1,C=n+-2|0,e[d+8>>2]=C,e[d+12>>2]=(C|0)/2|0,C=e[a>>2]|0,(e[v>>2]|0)==(C|0))S=f;else{for(n=o+84|0,M=o+68|0,I=o+48|0,D=o+40|0,L=0,N=0,X=C;C=e[X+(L<<2)>>2]|0,Z[n>>0]|0?V=C:V=e[(e[M>>2]|0)+(C<<2)>>2]|0,C=I,Q=e[C>>2]|0,U=e[C+4>>2]|0,C=D,j=e[C>>2]|0,$=zi(j|0,e[C+4>>2]|0,V|0,0)|0,C=Wt($|0,Xe|0,Q|0,U|0)|0,Fr(g|0,(e[e[o>>2]>>2]|0)+C|0,j|0)|0,T6(d,g,m,b),e[x+(N<<2)>>2]=e[m>>2],e[x+((N|1)<<2)>>2]=e[b>>2],L=L+1|0,X=e[a>>2]|0,!(L>>>0>=(e[v>>2]|0)-X>>2>>>0);)N=N+2|0;S=e[c>>2]|0}e[r>>2]=S,e[c>>2]=0,q=h;return}if(e[r>>2]=0,e[c>>2]=0,!f){q=h;return}c=f+88|0,r=e[c>>2]|0,e[c>>2]=0,r|0&&(c=e[r+8>>2]|0,c|0&&(S=r+12|0,(e[S>>2]|0)!=(c|0)&&(e[S>>2]=c),ve(c)),ve(r)),r=e[f+68>>2]|0,r|0&&(c=f+72|0,S=e[c>>2]|0,(S|0)!=(r|0)&&(e[c>>2]=S+(~((S+-4-r|0)>>>2)<<2)),ve(r)),r=f+64|0,S=e[r>>2]|0,e[r>>2]=0,S|0&&(r=e[S>>2]|0,r|0&&(c=S+4|0,(e[c>>2]|0)!=(r|0)&&(e[c>>2]=r),ve(r)),ve(S)),ve(f),q=h}function I2(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;if(o=r+8|0,a=e[o>>2]|0,f=r+4|0,h=e[f>>2]|0,((a-h|0)/136|0)>>>0>=n>>>0){c=n,g=h;do e[g>>2]=-1,Ak(g+4|0),Z[g+100>>0]=1,d=g+104|0,e[d>>2]=0,e[d+4>>2]=0,e[d+8>>2]=0,e[d+12>>2]=0,e[d+16>>2]=0,e[d+20>>2]=0,e[d+24>>2]=0,g=(e[f>>2]|0)+136|0,e[f>>2]=g,c=c+-1|0;while((c|0)!=0);return}c=e[r>>2]|0,g=(h-c|0)/136|0,h=g+n|0,h>>>0>31580641&&Je(),d=(a-c|0)/136|0,c=d<<1,a=d>>>0<15790320?c>>>0<h>>>0?h:c:31580641;do if(a)if(a>>>0>31580641)c=wn(8)|0,u0(c,14941),e[c>>2]=6944,yn(c|0,1080,114);else{m=Dt(a*136|0)|0;break}else m=0;while(0);c=m+(g*136|0)|0,g=c,h=m+(a*136|0)|0,a=n,n=g,m=c;do e[m>>2]=-1,Ak(m+4|0),Z[m+100>>0]=1,d=m+104|0,e[d>>2]=0,e[d+4>>2]=0,e[d+8>>2]=0,e[d+12>>2]=0,e[d+16>>2]=0,e[d+20>>2]=0,e[d+24>>2]=0,m=n+136|0,n=m,a=a+-1|0;while((a|0)!=0);if(a=e[r>>2]|0,m=e[f>>2]|0,(m|0)==(a|0))b=g,v=a,x=a;else{d=m,m=g,g=c;do d=d+-136|0,gy(g+-136|0,d),g=m+-136|0,m=g;while((d|0)!=(a|0));b=m,v=e[r>>2]|0,x=e[f>>2]|0}if(e[r>>2]=b,e[f>>2]=n,e[o>>2]=h,h=v,(x|0)!=(h|0)){o=x;do x=e[o+-20>>2]|0,x|0&&(n=o+-16|0,f=e[n>>2]|0,(f|0)!=(x|0)&&(e[n>>2]=f+(~((f+-4-x|0)>>>2)<<2)),ve(x)),x=e[o+-32>>2]|0,x|0&&(f=o+-28|0,n=e[f>>2]|0,(n|0)!=(x|0)&&(e[f>>2]=n+(~((n+-4-x|0)>>>2)<<2)),ve(x)),W6(o+-132|0),o=o+-136|0;while((o|0)!=(h|0))}!v||ve(v)}function Ou(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0;o=e[n>>2]|0,n=r+12|0,a=(o|0)==-1,f=o+1|0;do if(a)c=-1,g=-1;else if(h=((f>>>0)%3|0|0)==0?o+-2|0:f,(o>>>0)%3|0){c=h,g=o+-1|0;break}else{c=h,g=o+2|0;break}while(0);if(f=a?-1:(o>>>0)/3|0,h=r+28|0,d=(e[h>>2]|0)+(f>>>5<<2)|0,e[d>>2]=1<<(f&31)|e[d>>2],d=r+172|0,f=r+176|0,m=r+280|0,!a&&(a=e[(e[(e[n>>2]|0)+12>>2]|0)+(o<<2)>>2]|0,(a|0)!=-1)&&(r=(a>>>0)/3|0,(e[(e[h>>2]|0)+(r>>>5<<2)>>2]&1<<(r&31)|0)==0)&&(r=e[d>>2]|0,(e[f>>2]|0)!=(r|0))){a=o>>>5,b=1<<(o&31),o=0,v=r;do r=(e[m>>2]|0)+(o<<5)|0,b&e[(e[v+(o*136|0)+4>>2]|0)+(a<<2)>>2]?zn(r,1):zn(r,0),o=o+1|0,v=e[d>>2]|0;while(o>>>0<(((e[f>>2]|0)-v|0)/136|0)>>>0)}if((c|0)!=-1&&(v=e[(e[(e[n>>2]|0)+12>>2]|0)+(c<<2)>>2]|0,(v|0)!=-1)&&(o=(v>>>0)/3|0,(e[(e[h>>2]|0)+(o>>>5<<2)>>2]&1<<(o&31)|0)==0)&&(o=e[d>>2]|0,(e[f>>2]|0)!=(o|0))){v=c>>>5,a=1<<(c&31),c=0,b=o;do o=(e[m>>2]|0)+(c<<5)|0,a&e[(e[b+(c*136|0)+4>>2]|0)+(v<<2)>>2]?zn(o,1):zn(o,0),c=c+1|0,b=e[d>>2]|0;while(c>>>0<(((e[f>>2]|0)-b|0)/136|0)>>>0)}if((g|0)==-1||(b=e[(e[(e[n>>2]|0)+12>>2]|0)+(g<<2)>>2]|0,(b|0)==-1)||(n=(b>>>0)/3|0,e[(e[h>>2]|0)+(n>>>5<<2)>>2]&1<<(n&31)|0)||(n=e[d>>2]|0,(e[f>>2]|0)==(n|0)))return 1;h=g>>>5,b=1<<(g&31),g=0,c=n;do n=(e[m>>2]|0)+(g<<5)|0,b&e[(e[c+(g*136|0)+4>>2]|0)+(h<<2)>>2]?zn(n,1):zn(n,0),g=g+1|0,c=e[d>>2]|0;while(g>>>0<(((e[f>>2]|0)-c|0)/136|0)>>>0);return 1}function D2(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0;if(o=q,q=q+16|0,a=o+4|0,f=o,h=o+8|0,c=r+4|0,g=r+8|0,p0((e[g>>2]|0)-(e[c>>2]|0)>>2,n)|0,d=e[c>>2]|0,(e[g>>2]|0)==(d|0))return q=o,1;m=r+32|0,r=n+16|0,b=n+4|0,v=h+1|0,x=h+1|0,C=h+1|0,S=h+1|0,M=0,I=d;do d=e[(e[(e[m>>2]|0)+8>>2]|0)+(e[I+(M<<2)>>2]<<2)>>2]|0,Z[h>>0]=e[d+56>>2],D=r,L=e[D>>2]|0,N=e[D+4>>2]|0,(N|0)>0|(N|0)==0&L>>>0>0?(X=N,V=L):(e[f>>2]=e[b>>2],e[a>>2]=e[f>>2],vr(n,a,h,S)|0,L=r,X=e[L+4>>2]|0,V=e[L>>2]|0),Z[h>>0]=e[d+28>>2],(X|0)>0|(X|0)==0&V>>>0>0?(Q=X,U=V):(e[f>>2]=e[b>>2],e[a>>2]=e[f>>2],vr(n,a,h,C)|0,L=r,Q=e[L+4>>2]|0,U=e[L>>2]|0),Z[h>>0]=Z[d+24>>0]|0,(Q|0)>0|(Q|0)==0&U>>>0>0?(j=Q,$=U):(e[f>>2]=e[b>>2],e[a>>2]=e[f>>2],vr(n,a,h,x)|0,L=r,j=e[L+4>>2]|0,$=e[L>>2]|0),Z[h>>0]=Z[d+32>>0]|0,(j|0)>0|(j|0)==0&$>>>0>0||(e[f>>2]=e[b>>2],e[a>>2]=e[f>>2],vr(n,a,h,v)|0),p0(e[d+60>>2]|0,n)|0,M=M+1|0,I=e[c>>2]|0;while(M>>>0<(e[g>>2]|0)-I>>2>>>0);return q=o,1}function P2(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0;if(a=q,q=q+32|0,f=a+16|0,h=a+12|0,c=a+8|0,g=a+4|0,d=a,W2(r),e[r+16>>2]=0,e[r+20>>2]=0,e[r+12>>2]=r+16,m=r+24|0,W2(m),b=n+4|0,(r|0)!=(b|0)&&(e[c>>2]=e[b>>2],e[g>>2]=n+8,e[h>>2]=e[c>>2],e[f>>2]=e[g>>2],uo(r,h,f)),b=n+28|0,(m|0)!=(b|0)&&(e[c>>2]=e[b>>2],e[g>>2]=n+32,e[h>>2]=e[c>>2],e[f>>2]=e[g>>2],uo(m,h,f)),e[d>>2]=0,m=o+8|0,b=o+12|0,o=e[b>>2]|0,v=e[m>>2]|0,(o-v|0)<=0){q=a;return}for(x=n+20|0,n=v,v=o,o=0;;){if(C=e[(e[n+(o<<2)>>2]|0)+56>>2]|0,S=e[x>>2]|0,S){M=x,I=S;e:for(;;){for(S=I;!((e[S+16>>2]|0)>=(C|0));)if(D=e[S+4>>2]|0,D)S=D;else{L=M;break e}if(I=e[S>>2]|0,I)M=S;else{L=S;break}}(L|0)!=(x|0)&&(C|0)>=(e[L+16>>2]|0)?(M=L+20|0,I=Xf(r,d)|0,(I|0)!=(M|0)&&(e[c>>2]=e[M>>2],e[g>>2]=L+24,e[h>>2]=e[c>>2],e[f>>2]=e[g>>2],uo(I,h,f)),N=e[d>>2]|0,X=e[m>>2]|0,V=e[b>>2]|0):(N=o,X=n,V=v)}else N=o,X=n,V=v;if(o=N+1|0,e[d>>2]=o,(o|0)>=(V-X>>2|0))break;n=X,v=V}q=a}function zs(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0;if(o=q,q=q+16|0,a=o+4|0,f=o,h=o+8|0,c=r+12|0,p0(e[c>>2]|0,n)|0,!(e[c>>2]|0))return g=1,q=o,g|0;for(d=n+16|0,m=n+4|0,b=h+1|0,v=h+1|0,x=h+1|0,C=0;;){if(S=e[r>>2]|0,M=e[S+(C<<3)>>2]|0,M>>>0>63)if(M>>>0>16383)if(M>>>0>4194303){g=0,I=20;break}else D=2,I=13;else D=1,I=13;else if(M)D=0,I=13;else{for(L=C+1|0,N=0;;){if(e[S+(L+N<<3)>>2]|0){X=N;break}if(V=N+1|0,V>>>0<63)N=V;else{X=V;break}}Z[h>>0]=X<<2|3,N=d,L=e[N+4>>2]|0,(L|0)>0|(L|0)==0&(e[N>>2]|0)>>>0>0||(e[f>>2]=e[m>>2],e[a>>2]=e[f>>2],vr(n,a,h,x)|0),Q=X+C|0}if((I|0)==13)if(I=0,Z[h>>0]=D|M<<2,N=d,L=e[N+4>>2]|0,(L|0)>0|(L|0)==0&(e[N>>2]|0)>>>0>0||(e[f>>2]=e[m>>2],e[a>>2]=e[f>>2],vr(n,a,h,v)|0),!D)Q=C;else{N=0;do N=N+1|0,Z[h>>0]=M>>>((N<<3)+-2|0),L=d,S=e[L+4>>2]|0,(S|0)>0|(S|0)==0&(e[L>>2]|0)>>>0>0||(e[f>>2]=e[m>>2],e[a>>2]=e[f>>2],vr(n,a,h,b)|0);while((N|0)<(D|0));Q=C}if(C=Q+1|0,C>>>0>=(e[c>>2]|0)>>>0){g=1,I=20;break}}return(I|0)==20?(q=o,g|0):0}function vr(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0;if(f=e[r>>2]|0,h=f,c=(e[n>>2]|0)-h|0,n=f+c|0,g=a-o|0,(g|0)<=0)return d=n,d|0;if(m=r+8|0,b=e[m>>2]|0,v=r+4|0,x=e[v>>2]|0,C=x,(g|0)<=(b-C|0)){if(S=C-n|0,(g|0)>(S|0)){if(M=o+S|0,(M|0)==(a|0))I=x;else for(D=M,L=x;;)if(Z[L>>0]=Z[D>>0]|0,D=D+1|0,N=(e[v>>2]|0)+1|0,e[v>>2]=N,(D|0)==(a|0)){I=N;break}else L=N;if((S|0)>0)X=M,V=I;else return d=n,d|0}else X=a,V=x;if(I=V-(n+g)|0,M=n+I|0,M>>>0<x>>>0){S=M,M=V;do Z[M>>0]=Z[S>>0]|0,S=S+1|0,M=(e[v>>2]|0)+1|0,e[v>>2]=M;while((S|0)!=(x|0))}if(I|0&&W0(V+(0-I)|0,n|0,I|0)|0,(X|0)==(o|0))return d=n,d|0;for(Q=o,U=n;;)if(Z[U>>0]=Z[Q>>0]|0,Q=Q+1|0,(Q|0)==(X|0)){d=n;break}else U=U+1|0;return d|0}if(U=C-h+g|0,(U|0)<0&&Je(),g=b-h|0,h=g<<1,b=g>>>0<1073741823?h>>>0<U>>>0?U:h:2147483647,h=n,b?j=Dt(b)|0:j=0,U=j+c|0,c=U,g=j+b|0,(o|0)==(a|0))$=c,J=f;else{f=o,o=c,c=U;do Z[c>>0]=Z[f>>0]|0,c=o+1|0,o=c,f=f+1|0;while((f|0)!=(a|0));$=o,J=e[r>>2]|0}return o=h-J|0,a=U+(0-o)|0,(o|0)>0&&Fr(a|0,J|0,o|0)|0,o=(e[v>>2]|0)-h|0,(o|0)>0?(h=$,Fr(h|0,n|0,o|0)|0,F=h+o|0,K=e[r>>2]|0):(F=$,K=J),e[r>>2]=a,e[v>>2]=F,e[m>>2]=g,K?(ve(K),d=U,d|0):(d=U,d|0)}function nd(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0;switch(a=q,q=q+16|0,f=a,h=e[(e[n+4>>2]|0)+(o<<2)>>2]|0,o=e[n+28>>2]|0,n=e[(e[(e[o+4>>2]|0)+8>>2]|0)+(h<<2)>>2]|0,e[n+28>>2]|0){case 5:case 6:case 3:case 4:case 1:case 2:{c=Dt(40)|0,Tx(c),g=c,d=g,e[r>>2]=d,q=a;return}case 9:{m=3;break}}if((m|0)==3){c=e[o+48>>2]|0,o=Dt(32)|0,e[f>>2]=o,e[f+8>>2]=-2147483616,e[f+4>>2]=17,b=o,v=12932,x=b+17|0;do Z[b>>0]=Z[v>>0]|0,b=b+1|0,v=v+1|0;while((b|0)<(x|0));if(Z[o+17>>0]=0,o=c+16|0,v=e[o>>2]|0,v){C=o,S=v;e:for(;;){for(v=S;!((e[v+16>>2]|0)>=(h|0));)if(M=e[v+4>>2]|0,M)v=M;else{I=C;break e}if(S=e[v>>2]|0,S)C=v;else{I=v;break}}(I|0)!=(o|0)&&(h|0)>=(e[I+16>>2]|0)&&(h=I+20|0,(mo(h,f)|0)!=0)?D=go(h,f,-1)|0:m=12}else m=12;if((m|0)==12&&(D=go(c,f,-1)|0),(Z[f+11>>0]|0)<0&&ve(e[f>>2]|0),(D|0)>0)if((e[n+56>>2]|0)==1){n=Dt(48)|0,b=n,x=b+48|0;do e[b>>2]=0,b=b+4|0;while((b|0)<(x|0));Tx(n),e[n>>2]=2256,e[n+40>>2]=1152,e[n+44>>2]=-1,g=n,d=g,e[r>>2]=d,q=a;return}else{n=Dt(64)|0,iF(n),g=n,d=g,e[r>>2]=d,q=a;return}}n=Dt(36)|0,Fk(n),g=n,d=g,e[r>>2]=d,q=a}function af(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0;if(o=(n|0)==(r|0),Z[n+12>>0]=o&1,!o){for(a=n;;){if(f=a+8|0,h=e[f>>2]|0,n=h+12|0,Z[n>>0]|0){c=23;break}if(g=h+8|0,d=e[g>>2]|0,o=e[d>>2]|0,(o|0)==(h|0)){if(m=e[d+4>>2]|0,!m){c=7;break}if(b=m+12|0,!(Z[b>>0]|0))v=b;else{c=7;break}}else{if(!o){c=16;break}if(b=o+12|0,!(Z[b>>0]|0))v=b;else{c=16;break}}if(Z[n>>0]=1,n=(d|0)==(r|0),Z[d+12>>0]=n&1,Z[v>>0]=1,n){c=23;break}else a=d}if((c|0)==7){(e[h>>2]|0)==(a|0)?(x=h,C=d):(v=h+4|0,r=e[v>>2]|0,n=e[r>>2]|0,e[v>>2]=n,n?(e[n+8>>2]=h,S=e[g>>2]|0):S=d,e[r+8>>2]=S,S=e[g>>2]|0,e[((e[S>>2]|0)==(h|0)?S:S+4|0)>>2]=r,e[r>>2]=h,e[g>>2]=r,x=r,C=e[r+8>>2]|0),Z[x+12>>0]=1,Z[C+12>>0]=0,x=e[C>>2]|0,r=x+4|0,S=e[r>>2]|0,e[C>>2]=S,S|0&&(e[S+8>>2]=C),S=C+8|0,e[x+8>>2]=e[S>>2],n=e[S>>2]|0,e[((e[n>>2]|0)==(C|0)?n:n+4|0)>>2]=x,e[r>>2]=C,e[S>>2]=x;return}else if((c|0)==16){(e[h>>2]|0)==(a|0)?(x=a+4|0,S=e[x>>2]|0,e[h>>2]=S,S?(e[S+8>>2]=h,M=e[g>>2]|0):M=d,e[f>>2]=M,M=e[g>>2]|0,e[((e[M>>2]|0)==(h|0)?M:M+4|0)>>2]=a,e[x>>2]=h,e[g>>2]=a,I=a,D=e[a+8>>2]|0):(I=h,D=d),Z[I+12>>0]=1,Z[D+12>>0]=0,I=D+4|0,d=e[I>>2]|0,h=e[d>>2]|0,e[I>>2]=h,h|0&&(e[h+8>>2]=D),h=D+8|0,e[d+8>>2]=e[h>>2],I=e[h>>2]|0,e[((e[I>>2]|0)==(D|0)?I:I+4|0)>>2]=d,e[d>>2]=D,e[h>>2]=d;return}else if((c|0)==23)return}}function x6(r,n,o,a,f){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0;var h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=Ar,j=Ar;if(h=q,q=q+16|0,c=h,g=a+4|0,d=Z[o+24>>0]|0,m=d<<24>>24,U6(r,n,(e[g>>2]|0)-(e[a>>2]|0)>>2,m,f,o,1),f=e[r>>2]|0,r=(e[e[f>>2]>>2]|0)+(e[f+48>>2]|0)|0,f=e[n+4>>2]|0,AC(c),eC(c,qt(br[n+20>>2]),(1<<f)+-1|0),f=Fl(m>>>0>1073741823?-1:m<<2)|0,b=e[g>>2]|0,g=e[a>>2]|0,a=g,(b|0)==(g|0)){N0(f),q=h;return}if(v=o+68|0,x=o+48|0,C=o+40|0,S=n+8|0,n=(Z[o+84>>0]|0)==0,M=b-g>>2,d<<24>>24>0)I=0,D=0;else{d=0;do g=e[a+(d<<2)>>2]|0,n?L=e[(e[v>>2]|0)+(g<<2)>>2]|0:L=g,g=x,b=e[g>>2]|0,N=e[g+4>>2]|0,g=C,X=e[g>>2]|0,V=zi(X|0,e[g+4>>2]|0,L|0,0)|0,g=Wt(V|0,Xe|0,b|0,N|0)|0,Fr(f|0,(e[e[o>>2]>>2]|0)+g|0,X|0)|0,d=d+1|0;while(d>>>0<M>>>0);N0(f),q=h;return}for(;;){for(d=e[a+(I<<2)>>2]|0,n?Q=e[(e[v>>2]|0)+(d<<2)>>2]|0:Q=d,d=x,L=e[d>>2]|0,X=e[d+4>>2]|0,d=C,g=e[d>>2]|0,N=zi(g|0,e[d+4>>2]|0,Q|0,0)|0,d=Wt(N|0,Xe|0,L|0,X|0)|0,Fr(f|0,(e[e[o>>2]>>2]|0)+d|0,g|0)|0,g=e[S>>2]|0,U=qt(br[c>>2]),d=0,X=D;j=qt(br[f+(d<<2)>>2]),L=~~qt(bn(qt(qt(U*qt(j-qt(br[g+(d<<2)>>2])))+qt(.5)))),e[r+(X<<2)>>2]=L,d=d+1|0,(d|0)!=(m|0);)X=X+1|0;if(I=I+1|0,I>>>0>=M>>>0)break;D=D+m|0}N0(f),q=h}function sd(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0;a=e[n>>2]|0,n=r+12|0,f=(a|0)==-1;do if(f)h=1,c=-1,g=-1;else{if(d=a+(((a>>>0)%3|0|0)==0?2:-1)|0,(d|0)!=-1){for(m=e[(e[n>>2]|0)+12>>2]|0,b=d;;){if(d=e[m+(b<<2)>>2]|0,(d|0)==-1){v=0,x=b;break}if(C=d+1|0,b=((C>>>0)%3|0|0)==0?d+-2|0:C,(b|0)==-1){v=1,x=-1;break}}if(f){h=v,c=-1,g=x;break}else S=v,M=x}else S=1,M=-1;h=S,c=e[(e[e[n>>2]>>2]|0)+(a<<2)>>2]|0,g=M}while(0);if(o?(o=(e[r+84>>2]|0)+(c>>>5<<2)|0,e[o>>2]=e[o>>2]|1<<(c&31),I=1):I=0,o=e[(e[r+152>>2]|0)+(c<<2)>>2]|0,M=(e[r+140>>2]|0)+(o>>>5<<2)|0,e[M>>2]=e[M>>2]|1<<(o&31),h?(D=-1,L=-1):(h=(((g>>>0)%3|0|0)==0?2:-1)+g|0,(h|0)==-1?(D=-1,L=g):(D=e[(e[e[n>>2]>>2]|0)+(h<<2)>>2]|0,L=g)),(D|0)==(c|0))return N=I,N|0;for(g=e[r+84>>2]|0,r=I,I=D,D=L;;){L=g+(I>>>5<<2)|0,e[L>>2]=e[L>>2]|1<<(I&31),L=r+1|0,h=D+1|0;e:do if((D|0)!=-1&&(o=((h>>>0)%3|0|0)==0?D+-2|0:h,(o|0)!=-1)){for(M=e[n>>2]|0,a=e[M+12>>2]|0,S=o;o=e[a+(S<<2)>>2]|0,(o|0)!=-1;)if(x=o+1|0,v=((x>>>0)%3|0|0)==0?o+-2|0:x,(v|0)==-1){X=-1,V=-1;break e}else S=v;a=(((S>>>0)%3|0|0)==0?2:-1)+S|0,(a|0)==-1?(X=-1,V=S):(X=e[(e[M>>2]|0)+(a<<2)>>2]|0,V=S)}else X=-1,V=-1;while(0);if((X|0)==(c|0)){N=L;break}else r=L,I=X,D=V}return N|0}function od(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0;switch(o=r+4|0,a=e[o>>2]|0,f=r+100|0,a>>>0<(e[f>>2]|0)>>>0?(e[o>>2]=a+1,h=yi[a>>0]|0):h=io(r)|0,h|0){case 43:case 45:{a=(h|0)==45&1,c=e[o>>2]|0,c>>>0<(e[f>>2]|0)>>>0?(e[o>>2]=c+1,g=yi[c>>0]|0):g=io(r)|0,(n|0)!=0&(g+-48|0)>>>0>9&&(e[f>>2]|0)!=0?(e[o>>2]=(e[o>>2]|0)+-1,d=a,m=g):(d=a,m=g);break}default:d=0,m=h}if((m+-48|0)>>>0>9)e[f>>2]|0?(e[o>>2]=(e[o>>2]|0)+-1,b=-2147483648,v=0):(b=-2147483648,v=0);else{for(h=0,g=m;h=g+-48+(h*10|0)|0,m=e[o>>2]|0,m>>>0<(e[f>>2]|0)>>>0?(e[o>>2]=m+1,x=yi[m>>0]|0):x=io(r)|0,(x+-48|0)>>>0<10&(h|0)<214748364;)g=x;if(g=((h|0)<0)<<31>>31,(x+-48|0)>>>0<10)for(m=x,a=h,n=g;;)if(c=zi(a|0,n|0,10,0)|0,C=Xe,S=Wt(m|0,((m|0)<0)<<31>>31|0,-48,-1)|0,M=Wt(S|0,Xe|0,c|0,C|0)|0,C=Xe,c=e[o>>2]|0,c>>>0<(e[f>>2]|0)>>>0?(e[o>>2]=c+1,I=yi[c>>0]|0):I=io(r)|0,(I+-48|0)>>>0<10&((C|0)<21474836|(C|0)==21474836&M>>>0<2061584302))m=I,a=M,n=C;else{D=I,L=M,N=C;break}else D=x,L=h,N=g;if((D+-48|0)>>>0<10)do D=e[o>>2]|0,D>>>0<(e[f>>2]|0)>>>0?(e[o>>2]=D+1,X=yi[D>>0]|0):X=io(r)|0;while((X+-48|0)>>>0<10);e[f>>2]|0&&(e[o>>2]=(e[o>>2]|0)+-1),o=(d|0)!=0,d=Gr(0,0,L|0,N|0)|0,b=o?Xe:N,v=o?d:L}return Xe=b,v|0}function am(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0;if(n=r+1176|0,o=e[n>>2]|0,o|0){if(a=r+1180|0,f=e[a>>2]|0,(f|0)==(o|0))h=o;else{for(c=f;f=c+-12|0,e[a>>2]=f,g=e[f>>2]|0,g?(f=c+-8|0,m=e[f>>2]|0,(m|0)!=(g|0)&&(e[f>>2]=m+(~((m+-4-g|0)>>>2)<<2)),ve(g),d=e[a>>2]|0):d=f,(d|0)!=(o|0);)c=d;h=e[n>>2]|0}ve(h)}if(h=r+1164|0,n=e[h>>2]|0,n|0){if(d=r+1168|0,c=e[d>>2]|0,(c|0)==(n|0))b=n;else{for(o=c;c=o+-12|0,e[d>>2]=c,a=e[c>>2]|0,a?(c=o+-8|0,g=e[c>>2]|0,(g|0)!=(a|0)&&(e[c>>2]=g+(~((g+-4-a|0)>>>2)<<2)),ve(a),v=e[d>>2]|0):v=c,(v|0)!=(n|0);)o=v;b=e[h>>2]|0}ve(b)}if(b=e[r+1152>>2]|0,b|0&&(h=r+1156|0,v=e[h>>2]|0,(v|0)!=(b|0)&&(e[h>>2]=v+(~((v+-4-b|0)>>>2)<<2)),ve(b)),b=e[r+1140>>2]|0,b|0&&(v=r+1144|0,h=e[v>>2]|0,(h|0)!=(b|0)&&(e[v>>2]=h+(~((h+-4-b|0)>>>2)<<2)),ve(b)),b=e[r+1128>>2]|0,!b){x=r+1108|0,bo(x),C=r+1088|0,bo(C),S=r+1068|0,bo(S),M=r+1036|0,ln(M),I=r+12|0,k_(I);return}h=r+1132|0,v=e[h>>2]|0,(v|0)!=(b|0)&&(e[h>>2]=v+(~((v+-4-b|0)>>>2)<<2)),ve(b),x=r+1108|0,bo(x),C=r+1088|0,bo(C),S=r+1068|0,bo(S),M=r+1036|0,ln(M),I=r+12|0,k_(I)}function E6(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0;if(o=q,q=q+16|0,a=o,f=r+4|0,h=e[f>>2]|0,c=e[(e[r>>2]|0)+52>>2]|0,h){if(!(Xo[c&31](r,n,e[(e[h+4>>2]|0)+80>>2]|0)|0))return g=0,q=o,g|0}else if(!(Xo[c&31](r,n,0)|0))return g=0,q=o,g|0;if(!(Z[r+28>>0]|0))return g=1,q=o,g|0;h=e[r+8>>2]|0,c=e[r+32>>2]|0,r=e[h+80>>2]|0,e[a>>2]=0,d=a+4|0,e[d>>2]=0,e[a+8>>2]=0;do if(r)if(r>>>0>1073741823)Je();else{m=r<<2,b=Dt(m)|0,e[a>>2]=b,v=b+(r<<2)|0,e[a+8>>2]=v,Mi(b|0,0,m|0)|0,e[d>>2]=v,x=b,C=v,S=b;break}else x=0,C=0,S=0;while(0);a=e[n+4>>2]|0,r=e[n>>2]|0,n=r;e:do if((a|0)!=(r|0)){if(b=a-r>>2,Z[h+84>>0]|0){for(v=0;;)if(e[x+(e[n+(v<<2)>>2]<<2)>>2]=v,v=v+1|0,v>>>0>=b>>>0)break e}v=e[h+68>>2]|0,m=0;do e[x+(e[v+(e[n+(m<<2)>>2]<<2)>>2]<<2)>>2]=m,m=m+1|0;while(m>>>0<b>>>0)}while(0);n=e[(e[(e[f>>2]|0)+4>>2]|0)+80>>2]|0;e:do if(n|0){if(f=e[c+68>>2]|0,Z[h+84>>0]|0){for(r=0;;)if(e[f+(r<<2)>>2]=e[x+(r<<2)>>2],r=r+1|0,r>>>0>=n>>>0)break e}r=e[h+68>>2]|0,a=0;do e[f+(a<<2)>>2]=e[x+(e[r+(a<<2)>>2]<<2)>>2],a=a+1|0;while(a>>>0<n>>>0)}while(0);return x|0&&((C|0)!=(x|0)&&(e[d>>2]=C+(~((C+-4-x|0)>>>2)<<2)),ve(S)),g=1,q=o,g|0}function Hu(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0;o=q,q=q+16|0,a=o,e[r>>2]=0,e[r+8>>2]=n,WD(r+12|0),_n(r+1036|0),$f(r+1068|0),$f(r+1088|0),$f(r+1108|0),f=r+1128|0,e[f>>2]=0,h=r+1132|0,e[h>>2]=0,e[r+1136>>2]=0,c=(n|0)==0;do if(!c)if(n>>>0>1073741823)Je();else{g=n<<2,d=Dt(g)|0,e[f>>2]=d,m=d+(n<<2)|0,e[r+1136>>2]=m,Mi(d|0,0,g|0)|0,e[h>>2]=m;break}while(0);if(h=r+1140|0,e[h>>2]=0,f=r+1144|0,e[f>>2]=0,e[r+1148>>2]=0,c||(m=n<<2,g=Dt(m)|0,e[h>>2]=g,h=g+(n<<2)|0,e[r+1148>>2]=h,Mi(g|0,0,m|0)|0,e[f>>2]=h),h=r+1152|0,e[h>>2]=0,f=r+1156|0,e[f>>2]=0,e[r+1160>>2]=0,c||(m=n<<2,g=Dt(m)|0,e[h>>2]=g,h=g+(n<<2)|0,e[r+1160>>2]=h,Mi(g|0,0,m|0)|0,e[f>>2]=h),h=n<<5|1,e[a>>2]=0,f=a+4|0,e[f>>2]=0,e[a+8>>2]=0,c||(m=n<<2,g=Dt(m)|0,e[a>>2]=g,d=g+(n<<2)|0,e[a+8>>2]=d,Mi(g|0,0,m|0)|0,e[f>>2]=d),G2(r+1164|0,h,a),d=e[a>>2]|0,d|0&&(m=e[f>>2]|0,(m|0)!=(d|0)&&(e[f>>2]=m+(~((m+-4-d|0)>>>2)<<2)),ve(d)),e[a>>2]=0,d=a+4|0,e[d>>2]=0,e[a+8>>2]=0,c||(c=n<<2,m=Dt(c)|0,e[a>>2]=m,f=m+(n<<2)|0,e[a+8>>2]=f,Mi(m|0,0,c|0)|0,e[d>>2]=f),G2(r+1176|0,h,a),h=e[a>>2]|0,!h){q=o;return}a=e[d>>2]|0,(a|0)!=(h|0)&&(e[d>>2]=a+(~((a+-4-h|0)>>>2)<<2)),ve(h),q=o}function lm(r,n,o,a,f){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0;var h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0;if(h=q,q=q+16|0,c=h,g=n+16|0,e[r>>2]=e[g>>2],e[r+4>>2]=e[g+4>>2],e[r+8>>2]=e[g+8>>2],e[r+12>>2]=e[g+12>>2],e[r+16>>2]=e[g+16>>2],e[r+20>>2]=e[g+20>>2],d=r+8|0,e[d>>2]=(e[d>>2]|0)+a,d=(a|0)>0,d)for(m=n+4|0,b=r+16|0,v=r+12|0,x=e[n>>2]|0,C=x,S=0,M=C,I=x,x=C;C=e[o+(S<<2)>>2]|0,D=e[m>>2]|0,D-I>>2>>>0>C>>>0?(L=M,N=x):(X=C+1|0,e[c>>2]=0,V=D-I>>2,Q=I,U=D,X>>>0<=V>>>0?(X>>>0<V>>>0&&(D=Q+(X<<2)|0,(D|0)!=(U|0))&&(e[m>>2]=U+(~((U+-4-D|0)>>>2)<<2)),j=M):(z0(n,X-V|0,c),j=e[n>>2]|0),L=j,N=j),V=N+(C<<2)|0,X=e[V>>2]|0,I=N,(X|0)<=1?((X|0)==0&&(e[b>>2]=(e[b>>2]|0)+1,C>>>0>(e[v>>2]|0)>>>0)&&(e[v>>2]=C),$=0):(J=+(X|0),$=+U0(J)*J),X=(e[V>>2]|0)+1|0,e[V>>2]=X,J=+(X|0),F=+U0(J)*J-$,L0[r>>3]=+L0[r>>3]+F,S=S+1|0,(S|0)!=(a|0);)M=L,x=N;if(f){e[g>>2]=e[r>>2],e[g+4>>2]=e[r+4>>2],e[g+8>>2]=e[r+8>>2],e[g+12>>2]=e[r+12>>2],e[g+16>>2]=e[r+16>>2],q=h;return}if(!d){q=h;return}d=e[n>>2]|0,n=0;do r=d+(e[o+(n<<2)>>2]<<2)|0,e[r>>2]=(e[r>>2]|0)+-1,n=n+1|0;while((n|0)!=(a|0));q=h}function fm(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0;e:do if(n>>>0<=20)do switch(n|0){case 9:{a=(e[o>>2]|0)+(4-1)&~(4-1),f=e[a>>2]|0,e[o>>2]=a+4,e[r>>2]=f;break e}case 10:{f=(e[o>>2]|0)+(4-1)&~(4-1),a=e[f>>2]|0,e[o>>2]=f+4,f=r,e[f>>2]=a,e[f+4>>2]=((a|0)<0)<<31>>31;break e}case 11:{a=(e[o>>2]|0)+(4-1)&~(4-1),f=e[a>>2]|0,e[o>>2]=a+4,a=r,e[a>>2]=f,e[a+4>>2]=0;break e}case 12:{a=(e[o>>2]|0)+(8-1)&~(8-1),f=a,h=e[f>>2]|0,c=e[f+4>>2]|0,e[o>>2]=a+8,a=r,e[a>>2]=h,e[a+4>>2]=c;break e}case 13:{c=(e[o>>2]|0)+(4-1)&~(4-1),a=e[c>>2]|0,e[o>>2]=c+4,c=(a&65535)<<16>>16,a=r,e[a>>2]=c,e[a+4>>2]=((c|0)<0)<<31>>31;break e}case 14:{c=(e[o>>2]|0)+(4-1)&~(4-1),a=e[c>>2]|0,e[o>>2]=c+4,c=r,e[c>>2]=a&65535,e[c+4>>2]=0;break e}case 15:{c=(e[o>>2]|0)+(4-1)&~(4-1),a=e[c>>2]|0,e[o>>2]=c+4,c=(a&255)<<24>>24,a=r,e[a>>2]=c,e[a+4>>2]=((c|0)<0)<<31>>31;break e}case 16:{c=(e[o>>2]|0)+(4-1)&~(4-1),a=e[c>>2]|0,e[o>>2]=c+4,c=r,e[c>>2]=a&255,e[c+4>>2]=0;break e}case 17:{c=(e[o>>2]|0)+(8-1)&~(8-1),g=+L0[c>>3],e[o>>2]=c+8,L0[r>>3]=g;break e}case 18:{c=(e[o>>2]|0)+(8-1)&~(8-1),g=+L0[c>>3],e[o>>2]=c+8,L0[r>>3]=g;break e}default:break e}while(0);while(0)}function _6(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0;if(n=q,q=q+16|0,o=n+4|0,a=n,f=n+8|0,!(kn[e[(e[r>>2]|0)+32>>2]&127](r)|0))return h=0,q=n,h|0;c=r+44|0,g=e[c>>2]|0,d=r+8|0,m=r+12|0,b=e[m>>2]|0,v=e[d>>2]|0,Z[f>>0]=(b-v|0)>>>2,x=g+16|0,C=e[x+4>>2]|0,(C|0)>0|(C|0)==0&(e[x>>2]|0)>>>0>0?(S=d,M=v,I=b):(e[a>>2]=e[g+4>>2],e[o>>2]=e[a>>2],vr(g,o,f,f+1|0)|0,S=d,M=e[d>>2]|0,I=e[m>>2]|0);e:do if((M|0)!=(I|0)){for(m=r+4|0,d=M;;){if(f=e[d>>2]|0,d=d+4|0,!(Xo[e[(e[f>>2]|0)+8>>2]&31](f,r,e[m>>2]|0)|0)){h=0;break}if((d|0)==(I|0))break e}return q=n,h|0}while(0);if(!(EL(r)|0))return h=0,q=n,h|0;I=r+32|0,M=e[I>>2]|0,d=r+36|0,m=e[d>>2]|0;e:do if((M|0)!=(m|0)){f=M;do{if(!(M0[e[(e[r>>2]|0)+40>>2]&127](r,e[f>>2]|0)|0)){h=0,D=18;break}f=f+4|0}while((f|0)!=(m|0));if((D|0)==18)return q=n,h|0;if(f=e[I>>2]|0,o=e[d>>2]|0,(f|0)!=(o|0)){for(g=f;;){if(f=e[(e[S>>2]|0)+(e[g>>2]<<2)>>2]|0,g=g+4|0,!(M0[e[(e[f>>2]|0)+12>>2]&127](f,e[c>>2]|0)|0)){h=0;break}if((g|0)==(o|0))break e}return q=n,h|0}}while(0);return h=kn[e[(e[r>>2]|0)+44>>2]&127](r)|0,q=n,h|0}function L2(r,n){r=r|0,n=n|0,pn(r,n),pn(r+32|0,n),pn(r+64|0,n),pn(r+96|0,n),pn(r+128|0,n),pn(r+160|0,n),pn(r+192|0,n),pn(r+224|0,n),pn(r+256|0,n),pn(r+288|0,n),pn(r+320|0,n),pn(r+352|0,n),pn(r+384|0,n),pn(r+416|0,n),pn(r+448|0,n),pn(r+480|0,n),pn(r+512|0,n),pn(r+544|0,n),pn(r+576|0,n),pn(r+608|0,n),pn(r+640|0,n),pn(r+672|0,n),pn(r+704|0,n),pn(r+736|0,n),pn(r+768|0,n),pn(r+800|0,n),pn(r+832|0,n),pn(r+864|0,n),pn(r+896|0,n),pn(r+928|0,n),pn(r+960|0,n),pn(r+992|0,n),pn(r+1024|0,n)}function um(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0;a=q,q=q+64|0,f=a+60|0,h=a,c=Dt(80)|0,g=e[n+8>>2]|0,e[c+4>>2]=0,e[c>>2]=3232,d=c+8|0,m=c+12|0,b=m+44|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(b|0));e[d>>2]=3256,v=c+56|0,e[v>>2]=0,e[c+60>>2]=0,e[c+64>>2]=0,e[c+68>>2]=g,e[c+72>>2]=o,x=c+76|0,e[x>>2]=0,C=c,S=e[n+12>>2]|0,M=h+4|0,m=M+4|0,b=m+40|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(b|0));if(e[h>>2]=3256,m=h+48|0,e[m>>2]=0,b=h+52|0,e[b>>2]=0,e[h+56>>2]=0,I=S,e[M>>2]=I,D=((e[I+4>>2]|0)-(e[S>>2]|0)>>2>>>0)/3|0,Z[f>>0]=0,po(h+24|0,D,f),D=e[M>>2]|0,M=(e[D+28>>2]|0)-(e[D+24>>2]|0)>>2,Z[f>>0]=0,po(h+36|0,M,f),e[h+8>>2]=S,e[h+12>>2]=o,e[h+16>>2]=g,e[h+20>>2]=c,e[x>>2]=n+72,ld(d,h)|0,Zt(v,e[m>>2]|0,e[b>>2]|0),e[r>>2]=C,e[h>>2]=3256,C=e[m>>2]|0,C|0&&(m=e[b>>2]|0,(m|0)!=(C|0)&&(e[b>>2]=m+(~((m+-4-C|0)>>>2)<<2)),ve(C)),e[h>>2]=3276,C=e[h+36>>2]|0,C|0&&ve(C),C=e[h+24>>2]|0,!C){q=a;return}ve(C),q=a}function k6(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0;o=q,q=q+32|0,a=o,f=r+4|0,h=e[r>>2]|0,c=(e[f>>2]|0)-h>>2,g=c+1|0,g>>>0>1073741823&&Je(),d=r+8|0,m=(e[d>>2]|0)-h|0,h=m>>1,b=m>>2>>>0<536870911?h>>>0<g>>>0?g:h:1073741823,e[a+12>>2]=0,e[a+16>>2]=r+8;do if(b)if(b>>>0>1073741823)h=wn(8)|0,u0(h,14941),e[h>>2]=6944,yn(h|0,1080,114);else{v=Dt(b<<2)|0;break}else v=0;while(0);if(e[a>>2]=v,h=v+(c<<2)|0,c=a+8|0,g=a+4|0,e[g>>2]=h,m=v+(b<<2)|0,b=a+12|0,e[b>>2]=m,v=e[n>>2]|0,e[n>>2]=0,e[h>>2]=v,v=h+4|0,e[c>>2]=v,n=e[r>>2]|0,x=e[f>>2]|0,(x|0)==(n|0)){C=h,S=b,M=c,I=n,D=v,L=x,N=m,X=C,e[r>>2]=X,e[g>>2]=I,e[f>>2]=D,e[M>>2]=L,V=e[d>>2]|0,e[d>>2]=N,e[S>>2]=V,e[a>>2]=I,j6(a),q=o;return}else Q=x,U=h;do Q=Q+-4|0,h=e[Q>>2]|0,e[Q>>2]=0,e[U+-4>>2]=h,U=(e[g>>2]|0)+-4|0,e[g>>2]=U;while((Q|0)!=(n|0));C=U,S=b,M=c,I=e[r>>2]|0,D=e[c>>2]|0,L=e[f>>2]|0,N=e[b>>2]|0,X=C,e[r>>2]=X,e[g>>2]=I,e[f>>2]=D,e[M>>2]=L,V=e[d>>2]|0,e[d>>2]=N,e[S>>2]=V,e[a>>2]=I,j6(a),q=o}function cm(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0;if(o=q,q=q+32|0,a=o+12|0,f=o,h=EN(n,0)|0,!h){e[r>>2]=0,q=o;return}c=e[n+100>>2]|0,g=e[n+96>>2]|0,n=c-g|0,d=(n|0)/12|0,e[a>>2]=0,m=a+4|0,e[m>>2]=0,e[a+8>>2]=0,b=g;do if(n)if(d>>>0>357913941)Je();else{v=Dt(n)|0,e[a>>2]=v,e[a+8>>2]=v+(d*12|0),Mi(v|0,0,n|0)|0,e[m>>2]=v+n,x=v;break}else x=0;while(0);e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0;e:do if((c|0)!=(g|0)){if(n=f+4|0,v=f+8|0,Z[h+84>>0]|0){for(C=0;;)if(S=b+(C*12|0)|0,e[f>>2]=e[S>>2],e[f+4>>2]=e[S+4>>2],e[f+8>>2]=e[S+8>>2],e[x+(C*12|0)>>2]=e[f>>2],e[x+(C*12|0)+4>>2]=e[n>>2],e[x+(C*12|0)+8>>2]=e[v>>2],C=C+1|0,C>>>0>=d>>>0)break e}C=e[h+68>>2]|0,S=0;do M=e[C+(e[b+(S*12|0)>>2]<<2)>>2]|0,e[f>>2]=M,I=e[C+(e[b+(S*12|0)+4>>2]<<2)>>2]|0,e[n>>2]=I,D=e[C+(e[b+(S*12|0)+8>>2]<<2)>>2]|0,e[v>>2]=D,e[x+(S*12|0)>>2]=M,e[x+(S*12|0)+4>>2]=I,e[x+(S*12|0)+8>>2]=D,S=S+1|0;while(S>>>0<d>>>0)}while(0);ak(r,a),r=e[a>>2]|0,r|0&&(a=e[m>>2]|0,(a|0)!=(r|0)&&(e[m>>2]=a+(~(((a+-12-r|0)>>>0)/12|0)*12|0)),ve(r)),q=o}function hm(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0;o=q,q=q+16|0,a=o,e[r>>2]=0,e[r+8>>2]=n,_n(r+12|0),$f(r+44|0),$f(r+64|0),$f(r+84|0),f=r+104|0,e[f>>2]=0,h=r+108|0,e[h>>2]=0,e[r+112>>2]=0,c=(n|0)==0;do if(!c)if(n>>>0>1073741823)Je();else{g=n<<2,d=Dt(g)|0,e[f>>2]=d,m=d+(n<<2)|0,e[r+112>>2]=m,Mi(d|0,0,g|0)|0,e[h>>2]=m;break}while(0);if(h=r+116|0,e[h>>2]=0,f=r+120|0,e[f>>2]=0,e[r+124>>2]=0,c||(m=n<<2,g=Dt(m)|0,e[h>>2]=g,h=g+(n<<2)|0,e[r+124>>2]=h,Mi(g|0,0,m|0)|0,e[f>>2]=h),h=r+128|0,e[h>>2]=0,f=r+132|0,e[f>>2]=0,e[r+136>>2]=0,c||(m=n<<2,g=Dt(m)|0,e[h>>2]=g,h=g+(n<<2)|0,e[r+136>>2]=h,Mi(g|0,0,m|0)|0,e[f>>2]=h),h=n<<5|1,e[a>>2]=0,f=a+4|0,e[f>>2]=0,e[a+8>>2]=0,c||(m=n<<2,g=Dt(m)|0,e[a>>2]=g,d=g+(n<<2)|0,e[a+8>>2]=d,Mi(g|0,0,m|0)|0,e[f>>2]=d),G2(r+140|0,h,a),d=e[a>>2]|0,d|0&&(m=e[f>>2]|0,(m|0)!=(d|0)&&(e[f>>2]=m+(~((m+-4-d|0)>>>2)<<2)),ve(d)),e[a>>2]=0,d=a+4|0,e[d>>2]=0,e[a+8>>2]=0,c||(c=n<<2,m=Dt(c)|0,e[a>>2]=m,f=m+(n<<2)|0,e[a+8>>2]=f,Mi(m|0,0,c|0)|0,e[d>>2]=f),G2(r+152|0,h,a),h=e[a>>2]|0,!h){q=o;return}a=e[d>>2]|0,(a|0)!=(h|0)&&(e[d>>2]=a+(~((a+-4-h|0)>>>2)<<2)),ve(h),q=o}function yy(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0;o=q,q=q+16|0,a=o,e[r>>2]=0,e[r+8>>2]=n,$f(r+12|0),$f(r+32|0),$f(r+52|0),$f(r+72|0),f=r+92|0,e[f>>2]=0,h=r+96|0,e[h>>2]=0,e[r+100>>2]=0,c=(n|0)==0;do if(!c)if(n>>>0>1073741823)Je();else{g=n<<2,d=Dt(g)|0,e[f>>2]=d,m=d+(n<<2)|0,e[r+100>>2]=m,Mi(d|0,0,g|0)|0,e[h>>2]=m;break}while(0);if(h=r+104|0,e[h>>2]=0,f=r+108|0,e[f>>2]=0,e[r+112>>2]=0,c||(m=n<<2,g=Dt(m)|0,e[h>>2]=g,h=g+(n<<2)|0,e[r+112>>2]=h,Mi(g|0,0,m|0)|0,e[f>>2]=h),h=r+116|0,e[h>>2]=0,f=r+120|0,e[f>>2]=0,e[r+124>>2]=0,c||(m=n<<2,g=Dt(m)|0,e[h>>2]=g,h=g+(n<<2)|0,e[r+124>>2]=h,Mi(g|0,0,m|0)|0,e[f>>2]=h),h=n<<5|1,e[a>>2]=0,f=a+4|0,e[f>>2]=0,e[a+8>>2]=0,c||(m=n<<2,g=Dt(m)|0,e[a>>2]=g,d=g+(n<<2)|0,e[a+8>>2]=d,Mi(g|0,0,m|0)|0,e[f>>2]=d),G2(r+128|0,h,a),d=e[a>>2]|0,d|0&&(m=e[f>>2]|0,(m|0)!=(d|0)&&(e[f>>2]=m+(~((m+-4-d|0)>>>2)<<2)),ve(d)),e[a>>2]=0,d=a+4|0,e[d>>2]=0,e[a+8>>2]=0,c||(c=n<<2,m=Dt(c)|0,e[a>>2]=m,f=m+(n<<2)|0,e[a+8>>2]=f,Mi(m|0,0,c|0)|0,e[d>>2]=f),G2(r+140|0,h,a),h=e[a>>2]|0,!h){q=o;return}a=e[d>>2]|0,(a|0)!=(h|0)&&(e[d>>2]=a+(~((a+-4-h|0)>>>2)<<2)),ve(h),q=o}function dm(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0;o=Dt(40)|0,a=o+16|0,T0(a,n),T0(o+28|0,n+12|0),n=r+4|0,f=e[n>>2]|0;do if(f){for(h=Z[o+27>>0]|0,c=h<<24>>24<0,g=c?e[o+20>>2]|0:h&255,h=c?e[a>>2]|0:a,c=f;;){if(d=c+16|0,m=Z[d+11>>0]|0,b=m<<24>>24<0,v=b?e[c+20>>2]|0:m&255,m=v>>>0<g>>>0?v:g,(m|0)!=0&&(x=As(h,b?e[d>>2]|0:d,m)|0,(x|0)!=0)?(x|0)<0?C=7:C=9:g>>>0<v>>>0?C=7:C=9,(C|0)==7)if(C=0,v=e[c>>2]|0,v)S=v;else{C=8;break}else if((C|0)==9)if(C=0,M=c+4|0,v=e[M>>2]|0,v)S=v;else{C=11;break}c=S}if((C|0)==8){I=c,D=c;break}else if((C|0)==11){I=c,D=M;break}}else I=n,D=n;while(0);return e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=I,e[D>>2]=o,I=e[e[r>>2]>>2]|0,I?(e[r>>2]=I,L=e[D>>2]|0,N=r+4|0,X=e[N>>2]|0,af(X,L),V=r+8|0,Q=e[V>>2]|0,U=Q+1|0,e[V>>2]=U,o|0):(L=o,N=r+4|0,X=e[N>>2]|0,af(X,L),V=r+8|0,Q=e[V>>2]|0,U=Q+1|0,e[V>>2]=U,o|0)}function ad(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=Ar,U=Ar;if(f=q,q=q+16|0,h=f,c=Z[o+24>>0]|0,g=c<<24>>24,U6(r,n,a,g,0,o,1),d=e[r>>2]|0,r=(e[e[d>>2]>>2]|0)+(e[d+48>>2]|0)|0,d=e[n+4>>2]|0,AC(h),eC(h,qt(br[n+20>>2]),(1<<d)+-1|0),d=Fl(g>>>0>1073741823?-1:g<<2)|0,!a){N0(d),q=f;return}if(m=o+68|0,b=o+48|0,v=o+40|0,x=n+8|0,n=(Z[o+84>>0]|0)==0,c<<24>>24>0)C=0,S=0;else{c=0;do n?M=e[(e[m>>2]|0)+(c<<2)>>2]|0:M=c,I=b,D=e[I>>2]|0,L=e[I+4>>2]|0,I=v,N=e[I>>2]|0,X=zi(N|0,e[I+4>>2]|0,M|0,0)|0,I=Wt(X|0,Xe|0,D|0,L|0)|0,Fr(d|0,(e[e[o>>2]>>2]|0)+I|0,N|0)|0,c=c+1|0;while((c|0)!=(a|0));N0(d),q=f;return}for(;;){for(n?V=e[(e[m>>2]|0)+(S<<2)>>2]|0:V=S,c=b,M=e[c>>2]|0,N=e[c+4>>2]|0,c=v,I=e[c>>2]|0,L=zi(I|0,e[c+4>>2]|0,V|0,0)|0,c=Wt(L|0,Xe|0,M|0,N|0)|0,Fr(d|0,(e[e[o>>2]>>2]|0)+c|0,I|0)|0,I=e[x>>2]|0,Q=qt(br[h>>2]),c=0,N=C;U=qt(br[d+(c<<2)>>2]),M=~~qt(bn(qt(qt(Q*qt(U-qt(br[I+(c<<2)>>2])))+qt(.5)))),e[r+(N<<2)>>2]=M,c=c+1|0,(c|0)!=(g|0);)N=N+1|0;if(S=S+1|0,(S|0)==(a|0))break;C=C+g|0}N0(d),q=f}function Dc(r){r=r|0;var n=0,o=0,a=0;if(e[r>>2]=3340,bP(r+200|0),n=e[r+184>>2]|0,n|0&&(o=r+188|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),O_(r+172|0),n=e[r+152>>2]|0,n|0&&(a=r+156|0,o=e[a>>2]|0,(o|0)!=(n|0)&&(e[a>>2]=o+(~((o+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+140>>2]|0,n|0&&ve(n),n=e[r+128>>2]|0,n|0){o=n;do n=o,o=e[o>>2]|0,ve(n);while((o|0)!=0)}o=r+120|0,n=e[o>>2]|0,e[o>>2]=0,n|0&&ve(n),n=e[r+108>>2]|0,n|0&&(o=r+112|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~(((a+-12-n|0)>>>0)/12|0)*12|0)),ve(n)),n=e[r+96>>2]|0,n|0&&(a=r+100|0,o=e[a>>2]|0,(o|0)!=(n|0)&&(e[a>>2]=o+(~((o+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+84>>2]|0,n|0&&ve(n),n=e[r+72>>2]|0,n|0&&(o=r+76|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+52>>2]|0,n|0&&(a=r+56|0,o=e[a>>2]|0,(o|0)!=(n|0)&&(e[a>>2]=o+(~((o+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+40>>2]|0,n|0&&(o=r+44|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+28>>2]|0,n|0&&ve(n),n=e[r+16>>2]|0,n|0&&(a=r+20|0,o=e[a>>2]|0,(o|0)!=(n|0)&&(e[a>>2]=o+(~((o+-4-n|0)>>>2)<<2)),ve(n)),n=r+12|0,r=e[n>>2]|0,e[n>>2]=0,r&&(uf(r),ve(r))}function Ay(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0;if(n=r+140|0,o=e[n>>2]|0,o|0){if(a=r+144|0,f=e[a>>2]|0,(f|0)==(o|0))h=o;else{for(c=f;f=c+-12|0,e[a>>2]=f,g=e[f>>2]|0,g?(f=c+-8|0,m=e[f>>2]|0,(m|0)!=(g|0)&&(e[f>>2]=m+(~((m+-4-g|0)>>>2)<<2)),ve(g),d=e[a>>2]|0):d=f,(d|0)!=(o|0);)c=d;h=e[n>>2]|0}ve(h)}if(h=r+128|0,n=e[h>>2]|0,n|0){if(d=r+132|0,c=e[d>>2]|0,(c|0)==(n|0))b=n;else{for(o=c;c=o+-12|0,e[d>>2]=c,a=e[c>>2]|0,a?(c=o+-8|0,g=e[c>>2]|0,(g|0)!=(a|0)&&(e[c>>2]=g+(~((g+-4-a|0)>>>2)<<2)),ve(a),v=e[d>>2]|0):v=c,(v|0)!=(n|0);)o=v;b=e[h>>2]|0}ve(b)}if(b=e[r+116>>2]|0,b|0&&(h=r+120|0,v=e[h>>2]|0,(v|0)!=(b|0)&&(e[h>>2]=v+(~((v+-4-b|0)>>>2)<<2)),ve(b)),b=e[r+104>>2]|0,b|0&&(v=r+108|0,h=e[v>>2]|0,(h|0)!=(b|0)&&(e[v>>2]=h+(~((h+-4-b|0)>>>2)<<2)),ve(b)),b=e[r+92>>2]|0,!b){x=r+72|0,bo(x),C=r+52|0,bo(C),S=r+32|0,bo(S),M=r+12|0,bo(M);return}h=r+96|0,v=e[h>>2]|0,(v|0)!=(b|0)&&(e[h>>2]=v+(~((v+-4-b|0)>>>2)<<2)),ve(b),x=r+72|0,bo(x),C=r+52|0,bo(C),S=r+32|0,bo(S),M=r+12|0,bo(M)}function pm(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0;if(n=r+152|0,o=e[n>>2]|0,o|0){if(a=r+156|0,f=e[a>>2]|0,(f|0)==(o|0))h=o;else{for(c=f;f=c+-12|0,e[a>>2]=f,g=e[f>>2]|0,g?(f=c+-8|0,m=e[f>>2]|0,(m|0)!=(g|0)&&(e[f>>2]=m+(~((m+-4-g|0)>>>2)<<2)),ve(g),d=e[a>>2]|0):d=f,(d|0)!=(o|0);)c=d;h=e[n>>2]|0}ve(h)}if(h=r+140|0,n=e[h>>2]|0,n|0){if(d=r+144|0,c=e[d>>2]|0,(c|0)==(n|0))b=n;else{for(o=c;c=o+-12|0,e[d>>2]=c,a=e[c>>2]|0,a?(c=o+-8|0,g=e[c>>2]|0,(g|0)!=(a|0)&&(e[c>>2]=g+(~((g+-4-a|0)>>>2)<<2)),ve(a),v=e[d>>2]|0):v=c,(v|0)!=(n|0);)o=v;b=e[h>>2]|0}ve(b)}if(b=e[r+128>>2]|0,b|0&&(h=r+132|0,v=e[h>>2]|0,(v|0)!=(b|0)&&(e[h>>2]=v+(~((v+-4-b|0)>>>2)<<2)),ve(b)),b=e[r+116>>2]|0,b|0&&(v=r+120|0,h=e[v>>2]|0,(h|0)!=(b|0)&&(e[v>>2]=h+(~((h+-4-b|0)>>>2)<<2)),ve(b)),b=e[r+104>>2]|0,!b){x=r+84|0,bo(x),C=r+64|0,bo(C),S=r+44|0,bo(S),M=r+12|0,ln(M);return}h=r+108|0,v=e[h>>2]|0,(v|0)!=(b|0)&&(e[h>>2]=v+(~((v+-4-b|0)>>>2)<<2)),ve(b),x=r+84|0,bo(x),C=r+64|0,bo(C),S=r+44|0,bo(S),M=r+12|0,ln(M)}function vy(r){r=r|0;var n=0,o=0,a=0;if(e[r>>2]=3080,X6(r+200|0),n=e[r+184>>2]|0,n|0&&(o=r+188|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),O_(r+172|0),n=e[r+152>>2]|0,n|0&&(a=r+156|0,o=e[a>>2]|0,(o|0)!=(n|0)&&(e[a>>2]=o+(~((o+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+140>>2]|0,n|0&&ve(n),n=e[r+128>>2]|0,n|0){o=n;do n=o,o=e[o>>2]|0,ve(n);while((o|0)!=0)}o=r+120|0,n=e[o>>2]|0,e[o>>2]=0,n|0&&ve(n),n=e[r+108>>2]|0,n|0&&(o=r+112|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~(((a+-12-n|0)>>>0)/12|0)*12|0)),ve(n)),n=e[r+96>>2]|0,n|0&&(a=r+100|0,o=e[a>>2]|0,(o|0)!=(n|0)&&(e[a>>2]=o+(~((o+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+84>>2]|0,n|0&&ve(n),n=e[r+72>>2]|0,n|0&&(o=r+76|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+52>>2]|0,n|0&&(a=r+56|0,o=e[a>>2]|0,(o|0)!=(n|0)&&(e[a>>2]=o+(~((o+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+40>>2]|0,n|0&&(o=r+44|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+28>>2]|0,n|0&&ve(n),n=e[r+16>>2]|0,n|0&&(a=r+20|0,o=e[a>>2]|0,(o|0)!=(n|0)&&(e[a>>2]=o+(~((o+-4-n|0)>>>2)<<2)),ve(n)),n=r+12|0,r=e[n>>2]|0,e[n>>2]=0,r&&(uf(r),ve(r))}function wy(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0;if(o=q,q=q+48|0,a=o+44|0,f=o+40|0,h=o+36|0,c=o+32|0,g=o,e[c>>2]=e[r+60>>2],d=n+16|0,m=d,b=e[m+4>>2]|0,(b|0)>0|(b|0)==0&(e[m>>2]|0)>>>0>0||(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,c,c+4|0)|0),_n(g),Sn(g),(e[c>>2]|0)>0){m=r+56|0,b=1,v=0;do x=b,b=(e[(e[m>>2]|0)+(v>>>5<<2)>>2]&1<<(v&31)|0)!=0,zn(g,x^b^1),v=v+1|0;while((v|0)<(e[c>>2]|0))}return pn(g,n),e[h>>2]=e[r+12>>2],c=d,v=e[c>>2]|0,b=e[c+4>>2]|0,(b|0)>0|(b|0)==0&v>>>0>0?(C=b,S=v):(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+4|0)|0,v=d,C=e[v+4>>2]|0,S=e[v>>2]|0),e[h>>2]=e[r+20>>2],(C|0)>0|(C|0)==0&S>>>0>0?(ln(g),q=o,1):(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+4|0)|0,ln(g),q=o,1)}function mm(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0;for(o=e[n>>2]|0,n=e[o>>2]|0,a=e[r+4>>2]|0,f=e[o+4>>2]|0,h=a+-1|0,c=(h&a|0)==0,c?g=h&f:f>>>0<a>>>0?g=f:g=(f>>>0)%(a>>>0)|0,f=(e[r>>2]|0)+(g<<2)|0,d=e[f>>2]|0;m=e[d>>2]|0,(m|0)!=(o|0);)d=m;(d|0)!=(r+8|0)?(m=e[d+4>>2]|0,c?b=m&h:m>>>0<a>>>0?b=m:b=(m>>>0)%(a>>>0)|0,(b|0)==(g|0)?(v=n,x=21):x=13):x=13;do if((x|0)==13){if(n|0&&(b=e[n+4>>2]|0,c?C=b&h:b>>>0<a>>>0?C=b:C=(b>>>0)%(a>>>0)|0,(C|0)==(g|0))){S=n,M=n,x=22;break}e[f>>2]=0,v=e[o>>2]|0,x=21}while(0);return(x|0)==21&&(f=v,v?(S=v,M=f,x=22):I=f),(x|0)==22&&(x=e[S+4>>2]|0,c?D=x&h:x>>>0<a>>>0?D=x:D=(x>>>0)%(a>>>0)|0,(D|0)==(g|0)?I=M:(e[(e[r>>2]|0)+(D<<2)>>2]=d,I=e[o>>2]|0)),e[d>>2]=I,e[o>>2]=0,I=r+12|0,e[I>>2]=(e[I>>2]|0)+-1,o&&(I=o+8|0,r=e[o+20>>2]|0,r|0&&(d=o+24|0,(e[d>>2]|0)!=(r|0)&&(e[d>>2]=r),ve(r)),(Z[I+11>>0]|0)<0&&ve(e[I>>2]|0),ve(o)),n|0}function C6(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0;if(n=q,q=q+16|0,o=n+4|0,a=n,e[o>>2]=0,f=o+4|0,e[f>>2]=0,e[o+8>>2]=0,h=r+56|0,c=e[h>>2]|0,g=(e[c+100>>2]|0)-(e[c+96>>2]|0)|0,d=(g|0)/12|0,!g)m=0,b=0;else{for(g=o+8|0,v=0,x=0,C=c,c=0,S=0;M=e[C+96>>2]|0,I=e[M+(x*12|0)>>2]|0,D=I-v|0,L=((D|0)>-1?D:0-D|0)<<1|D>>>31,e[a>>2]=L,(c|0)==(S|0)?(pr(o,a),N=e[f>>2]|0,X=e[g>>2]|0):(e[c>>2]=L,L=c+4|0,e[f>>2]=L,N=L,X=S),L=e[M+(x*12|0)+4>>2]|0,D=L-I|0,I=((D|0)>-1?D:0-D|0)<<1|D>>>31,e[a>>2]=I,(N|0)==(X|0)?(pr(o,a),V=e[f>>2]|0,Q=e[g>>2]|0):(e[N>>2]=I,I=N+4|0,e[f>>2]=I,V=I,Q=X),I=e[M+(x*12|0)+8>>2]|0,M=I-L|0,L=((M|0)>-1?M:0-M|0)<<1|M>>>31,e[a>>2]=L,(V|0)==(Q|0)?pr(o,a):(e[V>>2]=L,e[f>>2]=V+4),L=x+1|0,!(L>>>0>=d>>>0);)v=I,x=L,C=e[h>>2]|0,c=e[f>>2]|0,S=e[g>>2]|0;m=e[o>>2]|0,b=e[f>>2]|0}return nl(m,b-m>>2,1,0,e[r+44>>2]|0)|0,r=e[o>>2]|0,r?(o=e[f>>2]|0,(o|0)!=(r|0)&&(e[f>>2]=o+(~((o+-4-r|0)>>>2)<<2)),ve(r),q=n,1):(q=n,1)}function xy(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0;if(o=e[r+12>>2]|0,a=r+108|0,f=e[a>>2]|0,h=e[f+80>>2]|0,Z[n+84>>0]=0,c=n+68|0,g=n+72|0,d=e[g>>2]|0,m=e[c>>2]|0,b=d-m>>2,v=m,m=d,h>>>0<=b>>>0?h>>>0<b>>>0&&(d=v+(h<<2)|0,(d|0)!=(m|0))?(e[g>>2]=m+(~((m+-4-d|0)>>>2)<<2),x=f,C=h):(x=f,C=h):(z0(c,h-b|0,3220),b=e[a>>2]|0,x=b,C=e[b+80>>2]|0),b=(e[x+100>>2]|0)-(e[x+96>>2]|0)|0,a=(b|0)/12|0,!b)return S=1,S|0;for(b=r+112|0,r=n+68|0,n=e[x+96>>2]|0,x=0;;){if(h=x*3|0,(h|0)==-1){S=0,M=12;break}if(c=e[o>>2]|0,f=e[c+(h<<2)>>2]|0,(f|0)==-1){S=0,M=12;break}if(d=e[(e[b>>2]|0)+12>>2]|0,m=e[d+(f<<2)>>2]|0,m>>>0>=C>>>0){S=0,M=12;break}if(f=e[r>>2]|0,e[f+(e[n+(x*12|0)>>2]<<2)>>2]=m,m=h+1|0,(m|0)==-1){S=0,M=12;break}if(g=e[c+(m<<2)>>2]|0,(g|0)==-1){S=0,M=12;break}if(m=e[d+(g<<2)>>2]|0,m>>>0>=C>>>0){S=0,M=12;break}if(e[f+(e[n+(x*12|0)+4>>2]<<2)>>2]=m,m=h+2|0,(m|0)==-1){S=0,M=12;break}if(h=e[c+(m<<2)>>2]|0,(h|0)==-1){S=0,M=12;break}if(m=e[d+(h<<2)>>2]|0,m>>>0>=C>>>0){S=0,M=12;break}if(e[f+(e[n+(x*12|0)+8>>2]<<2)>>2]=m,x=x+1|0,x>>>0>=a>>>0){S=1,M=12;break}}return(M|0)==12?S|0:0}function Ey(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0;if(o=q,q=q+48|0,a=o+44|0,f=o+40|0,h=o+36|0,c=o+32|0,g=o,e[c>>2]=e[r+80>>2],d=n+16|0,m=d,b=e[m+4>>2]|0,(b|0)>0|(b|0)==0&(e[m>>2]|0)>>>0>0||(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,c,c+4|0)|0),_n(g),Sn(g),(e[c>>2]|0)>0){m=r+76|0,b=1,v=0;do x=b,b=(e[(e[m>>2]|0)+(v>>>5<<2)>>2]&1<<(v&31)|0)!=0,zn(g,x^b^1),v=v+1|0;while((v|0)<(e[c>>2]|0))}return pn(g,n),e[h>>2]=e[r+12>>2],c=d,v=e[c>>2]|0,b=e[c+4>>2]|0,(b|0)>0|(b|0)==0&v>>>0>0?(C=b,S=v):(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+4|0)|0,v=d,C=e[v+4>>2]|0,S=e[v>>2]|0),e[h>>2]=e[r+16>>2],(C|0)>0|(C|0)==0&S>>>0>0?(ln(g),q=o,1):(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+4|0)|0,ln(g),q=o,1)}function S6(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0;if(n=q,q=q+16|0,o=n+4|0,a=n,f=r+8|0,h=r+12|0,c=e[h>>2]|0,al(e[r+4>>2]|0,(e[c+28>>2]|0)-(e[c+24>>2]|0)>>2),c=r+96|0,g=e[h>>2]|0,d=(e[g+28>>2]|0)-(e[g+24>>2]|0)>>2,e[o>>2]=0,g=r+100|0,m=e[g>>2]|0,b=e[c>>2]|0,v=m-b>>2,x=b,b=m,d>>>0<=v>>>0?d>>>0<v>>>0&&(m=x+(d<<2)|0,(m|0)!=(b|0))&&(e[g>>2]=b+(~((b+-4-m|0)>>>2)<<2)):z0(c,d-v|0,o),v=r+116|0,r=e[v>>2]|0,r){if(d=e[r>>2]|0,(e[r+4>>2]|0)==(d|0))return C=1,q=n,C|0;for(r=0,h=d;;){if(e[a>>2]=e[h+(r<<2)>>2],e[o>>2]=e[a>>2],r=r+1|0,!(J_(f,o)|0)){C=0,S=15;break}if(d=e[v>>2]|0,h=e[d>>2]|0,r>>>0>=(e[d+4>>2]|0)-h>>2>>>0){C=1,S=15;break}}if((S|0)==15)return q=n,C|0}else{if(d=e[h>>2]|0,h=(e[d+4>>2]|0)-(e[d>>2]|0)>>2,d=(h>>>0)/3|0,h>>>0<=2)return C=1,q=n,C|0;for(h=0;;){if(e[a>>2]=h*3,e[o>>2]=e[a>>2],h=h+1|0,!(J_(f,o)|0)){C=0,S=15;break}if((h|0)>=(d|0)){C=1,S=15;break}}if((S|0)==15)return q=n,C|0}return 0}function _y(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0;if(o=e[r+12>>2]|0,a=r+68|0,f=e[a>>2]|0,h=e[f+80>>2]|0,Z[n+84>>0]=0,c=n+68|0,g=n+72|0,d=e[g>>2]|0,m=e[c>>2]|0,b=d-m>>2,v=m,m=d,h>>>0<=b>>>0?h>>>0<b>>>0&&(d=v+(h<<2)|0,(d|0)!=(m|0))?(e[g>>2]=m+(~((m+-4-d|0)>>>2)<<2),x=f,C=h):(x=f,C=h):(z0(c,h-b|0,3220),b=e[a>>2]|0,x=b,C=e[b+80>>2]|0),b=(e[x+100>>2]|0)-(e[x+96>>2]|0)|0,a=(b|0)/12|0,!b)return S=1,S|0;for(b=r+72|0,r=n+68|0,n=e[x+96>>2]|0,x=0;;){if(h=x*3|0,(h|0)==-1){S=0,M=12;break}if(c=e[o>>2]|0,f=e[c+(h<<2)>>2]|0,(f|0)==-1){S=0,M=12;break}if(d=e[(e[b>>2]|0)+12>>2]|0,m=e[d+(f<<2)>>2]|0,m>>>0>=C>>>0){S=0,M=12;break}if(f=e[r>>2]|0,e[f+(e[n+(x*12|0)>>2]<<2)>>2]=m,m=h+1|0,(m|0)==-1){S=0,M=12;break}if(g=e[c+(m<<2)>>2]|0,(g|0)==-1){S=0,M=12;break}if(m=e[d+(g<<2)>>2]|0,m>>>0>=C>>>0){S=0,M=12;break}if(e[f+(e[n+(x*12|0)+4>>2]<<2)>>2]=m,m=h+2|0,(m|0)==-1){S=0,M=12;break}if(h=e[c+(m<<2)>>2]|0,(h|0)==-1){S=0,M=12;break}if(m=e[d+(h<<2)>>2]|0,m>>>0>=C>>>0){S=0,M=12;break}if(e[f+(e[n+(x*12|0)+8>>2]<<2)>>2]=m,x=x+1|0,x>>>0>=a>>>0){S=1,M=12;break}}return(M|0)==12?S|0:0}function N2(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0;return o=q,q=q+16|0,a=o+12|0,f=o+8|0,h=o+4|0,c=o,n?(h=e[e[r+8>>2]>>2]|0,e[a>>2]=n,r=h+4|0,c=h+8|0,b=e[c>>2]|0,(b|0)==(e[h+12>>2]|0)?pr(r,a):(e[b>>2]=n,e[c>>2]=b+4),b=e[a>>2]|0,n=h+16|0,m=h+20|0,h=e[m>>2]|0,g=e[n>>2]|0,d=h-g>>2,v=g,(b|0)<(d|0)?(x=v,C=b):(g=b+1|0,e[f>>2]=-1,S=h,g>>>0<=d>>>0?g>>>0<d>>>0&&(h=v+(g<<2)|0,(h|0)!=(S|0))?(e[m>>2]=S+(~((S+-4-h|0)>>>2)<<2),M=b,I=v):(M=b,I=v):(z0(n,g-d|0,f),M=e[a>>2]|0,I=e[n>>2]|0),x=I,C=M),e[x+(C<<2)>>2]=((e[c>>2]|0)-(e[r>>2]|0)>>2)+-1,q=o,1):(g=Dt(76)|0,d=Dt(12)|0,m=e[(e[r+4>>2]|0)+80>>2]|0,e[d+4>>2]=0,e[d>>2]=3584,e[d+8>>2]=m,e[c>>2]=d,wx(g,c,0),d=g,e[h>>2]=d,g=r+12|0,m=e[g>>2]|0,m>>>0<(e[r+16>>2]|0)>>>0?(e[h>>2]=0,e[m>>2]=d,e[g>>2]=m+4,b=h):(wa(r+8|0,h),b=h),h=e[b>>2]|0,e[b>>2]=0,h|0&&Fn[e[(e[h>>2]|0)+4>>2]&127](h),h=e[c>>2]|0,e[c>>2]=0,h?(Fn[e[(e[h>>2]|0)+4>>2]&127](h),q=o,1):(q=o,1))}function F2(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;a=r+8|0,f=e[a>>2]|0,h=e[r>>2]|0,c=h;do if(f-h>>3>>>0>=n>>>0){if(g=r+4|0,d=e[g>>2]|0,m=d-h>>3,b=m>>>0<n>>>0,v=b?m:n,x=d,v|0)for(d=v,v=c;C=o,S=e[C+4>>2]|0,M=v,e[M>>2]=e[C>>2],e[M+4>>2]=S,d=d+-1|0,d;)v=v+8|0;if(b){for(v=n-m|0,d=v,S=x;M=o,C=e[M+4>>2]|0,L=S,e[L>>2]=e[M>>2],e[L+4>>2]=C,d=d+-1|0,d;)S=S+8|0;I=g,D=x+(v<<3)|0;break}else{if(v=c+(n<<3)|0,(v|0)==(x|0))return;I=g,D=x+(~((x+-8-v|0)>>>3)<<3)|0;break}}else{for(S=h,h?(d=r+4|0,m=e[d>>2]|0,(m|0)!=(c|0)&&(e[d>>2]=m+(~((m+-8-h|0)>>>3)<<3)),ve(S),e[a>>2]=0,e[d>>2]=0,e[r>>2]=0,N=0):N=f,n>>>0>536870911&&Je(),d=N>>2,S=N>>3>>>0<268435455?d>>>0<n>>>0?n:d:536870911,S>>>0>536870911&&Je(),d=Dt(S<<3)|0,m=r+4|0,e[m>>2]=d,e[r>>2]=d,e[a>>2]=d+(S<<3),S=n,b=d;C=o,L=e[C+4>>2]|0,M=b,e[M>>2]=e[C>>2],e[M+4>>2]=L,S=S+-1|0,S;)b=b+8|0;I=m,D=d+(n<<3)|0}while(0);e[I>>2]=D}function T6(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;f=+qt(br[n>>2]),h=+f0(+f),c=+qt(br[n+4>>2]),g=h+ +f0(+c),h=+qt(br[n+8>>2]),d=g+ +f0(+h),n=d>1e-6,g=1/d,m=e[r+12>>2]|0,d=+(m|0),b=~~+bn(+((n?g*f:1)*d+.5)),v=~~+bn(+((n?g*c:0)*d+.5)),x=(b|0)>-1,C=m-(x?b:0-b|0)-((v|0)>-1?v:0-v|0)|0,b=(C|0)<0,S=(b?(v|0)>0?C:0-C|0:0)+v|0,v=b?0:C,C=(n?g*h:0)<0?0-v|0:v;do if(x)I=m+C|0,D=m+S|0;else if((S|0)<0?M=(C|0)>-1?C:0-C|0:M=(e[r+8>>2]|0)-((C|0)>-1?C:0-C|0)|0,(C|0)<0){I=(S|0)>-1?S:0-S|0,D=M;break}else{I=(e[r+8>>2]|0)-((S|0)>-1?S:0-S|0)|0,D=M;break}while(0);if(S=(D|0)==0,C=(I|0)==0,M=e[r+8>>2]|0,!(I|D)){L=M,N=M,e[o>>2]=L,e[a>>2]=N;return}if(r=(M|0)==(I|0),S&r){L=I,N=I,e[o>>2]=L,e[a>>2]=N;return}if(x=(M|0)==(D|0),C&x){L=D,N=D,e[o>>2]=L,e[a>>2]=N;return}if(S&(m|0)<(I|0)){L=0,N=(m<<1)-I|0,e[o>>2]=L,e[a>>2]=N;return}if(x&(m|0)>(I|0)){L=D,N=(m<<1)-I|0,e[o>>2]=L,e[a>>2]=N;return}if(r&(m|0)>(D|0)){L=(m<<1)-D|0,N=I,e[o>>2]=L,e[a>>2]=N;return}if(!C){L=D,N=I,e[o>>2]=L,e[a>>2]=N;return}L=(m|0)<(D|0)?(m<<1)-D|0:D,N=0,e[o>>2]=L,e[a>>2]=N}function ld(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0;if(o=r+4|0,a=n+4|0,e[o>>2]=e[a>>2],e[o+4>>2]=e[a+4>>2],e[o+8>>2]=e[a+8>>2],e[o+12>>2]=e[a+12>>2],e[o+16>>2]=e[a+16>>2],a=r+24|0,o=n+24|0,(r|0)==(n|0))return r|0;if(f=n+28|0,h=e[f>>2]|0,!h)c=0;else{g=r+32|0;do if(h>>>0>e[g>>2]<<5>>>0)if(d=e[a>>2]|0,d?(ve(d),e[a>>2]=0,e[g>>2]=0,e[r+28>>2]=0,m=e[f>>2]|0):m=h,(m|0)<0)Je();else{d=((m+-1|0)>>>5)+1|0,b=Dt(d<<2)|0,e[a>>2]=b,e[r+28>>2]=0,e[g>>2]=d,v=e[f>>2]|0,x=b;break}else v=h,x=e[a>>2]|0;while(0);W0(x|0,e[o>>2]|0,((v+-1|0)>>>5<<2)+4|0)|0,c=e[f>>2]|0}if(e[r+28>>2]=c,c=r+36|0,f=n+36|0,v=n+40|0,n=e[v>>2]|0,!n)C=0;else{o=r+44|0;do if(n>>>0>e[o>>2]<<5>>>0)if(x=e[c>>2]|0,x?(ve(x),e[c>>2]=0,e[o>>2]=0,e[r+40>>2]=0,S=e[v>>2]|0):S=n,(S|0)<0)Je();else{x=((S+-1|0)>>>5)+1|0,a=Dt(x<<2)|0,e[c>>2]=a,e[r+40>>2]=0,e[o>>2]=x,M=e[v>>2]|0,I=a;break}else M=n,I=e[c>>2]|0;while(0);W0(I|0,e[f>>2]|0,((M+-1|0)>>>5<<2)+4|0)|0,C=e[v>>2]|0}return e[r+40>>2]=C,r|0}function Pc(r,n,o,a,f){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0;var h=0,c=0,g=0,d=0,m=0,b=0,v=0;return h=q,q=q+32|0,c=h+12|0,g=h,e[r>>2]=e[a>>2],a=r+4|0,e[a>>2]=(e[o>>2]|0)-(e[n>>2]|0),d=f+16|0,m=d,b=e[m+4>>2]|0,!((b|0)>0|(b|0)==0&(e[m>>2]|0)>>>0>0)&&(m=f+4|0,e[g>>2]=e[m>>2],e[c>>2]=e[g>>2],vr(f,c,r,r+4|0)|0,b=d,d=e[b+4>>2]|0,!((d|0)>0|(d|0)==0&(e[b>>2]|0)>>>0>0))&&(e[g>>2]=e[m>>2],e[c>>2]=e[g>>2],vr(f,c,a,a+4|0)|0),v=g,e[a>>2]|0?(a=r+12|0,Ss(a),v=r+1068|0,ll(v),m=r+1088|0,ll(m),b=r+1108|0,ll(b),e[g>>2]=e[n>>2],e[g+4>>2]=e[n+4>>2],e[g+8>>2]=e[n+8>>2],e[c>>2]=e[o>>2],e[c+4>>2]=e[o+4>>2],e[c+8>>2]=e[o+8>>2],eL(r,g,c),L2(a,f),K0(v,f),K0(m,f),K0(b,f),q=h,1):(q=h,1)}function gm(r,n,o,a,f){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0;var h=0,c=0,g=0,d=0,m=0,b=0,v=0;return h=q,q=q+32|0,c=h+12|0,g=h,e[r>>2]=e[a>>2],a=r+4|0,e[a>>2]=(e[o>>2]|0)-(e[n>>2]|0),d=f+16|0,m=d,b=e[m+4>>2]|0,!((b|0)>0|(b|0)==0&(e[m>>2]|0)>>>0>0)&&(m=f+4|0,e[g>>2]=e[m>>2],e[c>>2]=e[g>>2],vr(f,c,r,r+4|0)|0,b=d,d=e[b+4>>2]|0,!((d|0)>0|(d|0)==0&(e[b>>2]|0)>>>0>0))&&(e[g>>2]=e[m>>2],e[c>>2]=e[g>>2],vr(f,c,a,a+4|0)|0),v=g,e[a>>2]|0?(a=r+12|0,Ss(a),v=r+1068|0,ll(v),m=r+1088|0,ll(m),b=r+1108|0,ll(b),e[g>>2]=e[n>>2],e[g+4>>2]=e[n+4>>2],e[g+8>>2]=e[n+8>>2],e[c>>2]=e[o>>2],e[c+4>>2]=e[o+4>>2],e[c+8>>2]=e[o+8>>2],rL(r,g,c),L2(a,f),K0(v,f),K0(m,f),K0(b,f),q=h,1):(q=h,1)}function O2(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0;if(o=q,q=q+32|0,a=o,f=r+8|0,h=e[f>>2]|0,c=r+4|0,g=e[c>>2]|0,d=g,h-g>>2>>>0>=n>>>0){Mi(g|0,0,n<<2|0)|0,e[c>>2]=g+(n<<2),q=o;return}m=e[r>>2]|0,b=g-m>>2,v=b+n|0,x=m,v>>>0>1073741823&&Je(),C=h-m|0,S=C>>1,M=C>>2>>>0<536870911?S>>>0<v>>>0?v:S:1073741823,e[a+12>>2]=0,e[a+16>>2]=r+8;do if(M)if(M>>>0>1073741823)S=wn(8)|0,u0(S,14941),e[S>>2]=6944,yn(S|0,1080,114);else{I=Dt(M<<2)|0;break}else I=0;while(0);if(e[a>>2]=I,S=I+(b<<2)|0,b=a+8|0,v=a+4|0,e[v>>2]=S,C=I+(M<<2)|0,M=a+12|0,e[M>>2]=C,I=S+(n<<2)|0,Mi(S|0,0,n<<2|0)|0,e[b>>2]=I,(d|0)==(x|0))D=S,L=M,N=b,X=m,V=I,Q=g,U=C,j=h;else{h=d,d=S;do h=h+-4|0,S=e[h>>2]|0,e[h>>2]=0,e[d+-4>>2]=S,d=(e[v>>2]|0)+-4|0,e[v>>2]=d;while((h|0)!=(x|0));D=d,L=M,N=b,X=e[r>>2]|0,V=e[b>>2]|0,Q=e[c>>2]|0,U=e[M>>2]|0,j=e[f>>2]|0}e[r>>2]=D,e[v>>2]=X,e[c>>2]=V,e[N>>2]=Q,e[f>>2]=U,e[L>>2]=j,e[a>>2]=X,j6(a),q=o}function Lc(r,n,o,a,f){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0;var h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0;if(o=q,q=q+16|0,h=o,c=e[r+124>>2]|0,!c){q=o;return}if(g=c+-1|0,d=(g&c|0)==0,d?m=g&f:c>>>0>f>>>0?m=f:m=(f>>>0)%(c>>>0)|0,b=e[(e[r+120>>2]|0)+(m<<2)>>2]|0,!b){q=o;return}if(v=e[b>>2]|0,!v){q=o;return}e:do if(d){for(b=v;;){if(x=e[b+4>>2]|0,C=(x|0)==(f|0),!(C|(x&g|0)==(m|0))){S=24;break}if(C&&(e[b+8>>2]|0)==(f|0)){M=b;break e}if(b=e[b>>2]|0,!b){S=24;break}}if((S|0)==24){q=o;return}}else{for(b=v;;){if(C=e[b+4>>2]|0,(C|0)==(f|0)){if((e[b+8>>2]|0)==(f|0)){M=b;break e}}else if(C>>>0<c>>>0?I=C:I=(C>>>0)%(c>>>0)|0,(I|0)!=(m|0)){S=24;break}if(b=e[b>>2]|0,!b){S=24;break}}if((S|0)==24){q=o;return}}while(0);if(S=e[M+12>>2]|0,(S|0)==-1){q=o;return}e[h>>2]=S,e[h+4>>2]=n,Z[h+8>>0]=a&1,a=r+112|0,n=e[a>>2]|0,(n|0)==(e[r+116>>2]|0)?AP(r+108|0,h):(e[n>>2]=e[h>>2],e[n+4>>2]=e[h+4>>2],e[n+8>>2]=e[h+8>>2],e[a>>2]=(e[a>>2]|0)+12),q=o}function M6(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0;if(o=Oi[n>>1]|0,a=Oi[n+2>>1]|0,f=Oi[n+4>>1]|0,h=Oi[n+6>>1]|0,n=((((o^318)&65535)+239^a&65535)+239^f&65535)+239^h&65535,c=e[r+4>>2]|0,!c||(d=c+-1|0,m=(d&c|0)==0,m?b=n&d:n>>>0<c>>>0?b=n:b=(n>>>0)%(c>>>0)|0,v=e[(e[r>>2]|0)+(b<<2)>>2]|0,!v)||(r=e[v>>2]|0,!r))return g=0,g|0;if(m){for(m=r;;){if(v=e[m+4>>2]|0,x=(v|0)==(n|0),!(x|(v&d|0)==(b|0))){g=0,C=25;break}if(x&&(x=m+8|0,(Oi[x>>1]|0)==o<<16>>16)&&(Oi[x+2>>1]|0)==a<<16>>16&&(Oi[m+12>>1]|0)==f<<16>>16&&(Oi[x+6>>1]|0)==h<<16>>16){g=m,C=25;break}if(m=e[m>>2]|0,!m){g=0,C=25;break}}if((C|0)==25)return g|0}else S=r;for(;;){if(r=e[S+4>>2]|0,(r|0)==(n|0)){if(m=S+8|0,(Oi[m>>1]|0)==o<<16>>16&&(Oi[m+2>>1]|0)==a<<16>>16&&(Oi[S+12>>1]|0)==f<<16>>16&&(Oi[m+6>>1]|0)==h<<16>>16){g=S,C=25;break}}else if(r>>>0<c>>>0?M=r:M=(r>>>0)%(c>>>0)|0,(M|0)!=(b|0)){g=0,C=25;break}if(S=e[S>>2]|0,!S){g=0,C=25;break}}return(C|0)==25?g|0:0}function ky(r,n,o,a,f){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0;var h=0,c=0,g=0,d=0,m=0,b=0,v=0;return h=q,q=q+32|0,c=h+12|0,g=h,e[r>>2]=e[a>>2],a=r+4|0,e[a>>2]=(e[o>>2]|0)-(e[n>>2]|0),d=f+16|0,m=d,b=e[m+4>>2]|0,!((b|0)>0|(b|0)==0&(e[m>>2]|0)>>>0>0)&&(m=f+4|0,e[g>>2]=e[m>>2],e[c>>2]=e[g>>2],vr(f,c,r,r+4|0)|0,b=d,d=e[b+4>>2]|0,!((d|0)>0|(d|0)==0&(e[b>>2]|0)>>>0>0))&&(e[g>>2]=e[m>>2],e[c>>2]=e[g>>2],vr(f,c,a,a+4|0)|0),v=g,e[a>>2]|0?(a=r+12|0,ll(a),v=r+32|0,ll(v),m=r+52|0,ll(m),b=r+72|0,ll(b),e[g>>2]=e[n>>2],e[g+4>>2]=e[n+4>>2],e[g+8>>2]=e[n+8>>2],e[c>>2]=e[o>>2],e[c+4>>2]=e[o+4>>2],e[c+8>>2]=e[o+8>>2],KP(r,g,c),K0(a,f),K0(v,f),K0(m,f),K0(b,f),q=h,1):(q=h,1)}function Y0(r,n,o,a,f){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0;var h=0,c=0,g=0,d=0,m=0,b=0,v=0;return h=q,q=q+32|0,c=h+12|0,g=h,e[r>>2]=e[a>>2],a=r+4|0,e[a>>2]=(e[o>>2]|0)-(e[n>>2]|0),d=f+16|0,m=d,b=e[m+4>>2]|0,!((b|0)>0|(b|0)==0&(e[m>>2]|0)>>>0>0)&&(m=f+4|0,e[g>>2]=e[m>>2],e[c>>2]=e[g>>2],vr(f,c,r,r+4|0)|0,b=d,d=e[b+4>>2]|0,!((d|0)>0|(d|0)==0&(e[b>>2]|0)>>>0>0))&&(e[g>>2]=e[m>>2],e[c>>2]=e[g>>2],vr(f,c,a,a+4|0)|0),v=g,e[a>>2]|0?(a=r+12|0,Sn(a),v=r+44|0,ll(v),m=r+64|0,ll(m),b=r+84|0,ll(b),e[g>>2]=e[n>>2],e[g+4>>2]=e[n+4>>2],e[g+8>>2]=e[n+8>>2],e[c>>2]=e[o>>2],e[c+4>>2]=e[o+4>>2],e[c+8>>2]=e[o+8>>2],nL(r,g,c),pn(a,f),K0(v,f),K0(m,f),K0(b,f),q=h,1):(q=h,1)}function Cy(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0;if(r=q,q=q+16|0,a=r+4|0,f=r,h=r+8|0,c=o+11|0,g=Z[c>>0]|0,d=g<<24>>24<0,d){if(m=e[o+4>>2]|0,m>>>0>255)return b=0,q=r,b|0;v=m}else v=g&255;return v?(v=o+4|0,m=e[v>>2]|0,Z[h>>0]=d?m:g&255,d=n+16|0,x=d,C=e[x>>2]|0,S=e[x+4>>2]|0,(S|0)>0|(S|0)==0&C>>>0>0?(M=g,I=S,D=C,L=m):(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+1|0)|0,h=d,M=Z[c>>0]|0,I=e[h+4>>2]|0,D=e[h>>2]|0,L=e[v>>2]|0),v=M<<24>>24<0,h=v?e[o>>2]|0:o,(I|0)>0|(I|0)==0&D>>>0>0||(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+(v?L:M&255)|0)|0),b=1,q=r,b|0):(Z[h>>0]=0,v=n+16|0,m=e[v+4>>2]|0,(m|0)>0|(m|0)==0&(e[v>>2]|0)>>>0>0||(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+1|0)|0),b=1,q=r,b|0)}function bm(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0;o=r+4|0,a=e[r>>2]|0,f=((e[o>>2]|0)-a|0)/24|0,h=f+1|0,h>>>0>178956970&&Je(),c=r+8|0,g=((e[c>>2]|0)-a|0)/24|0,a=g<<1,d=g>>>0<89478485?a>>>0<h>>>0?h:a:178956970;do if(d)if(d>>>0>178956970)a=wn(8)|0,u0(a,14941),e[a>>2]=6944,yn(a|0,1080,114);else{m=Dt(d*24|0)|0;break}else m=0;while(0);if(a=m+(f*24|0)|0,h=a,g=m+(d*24|0)|0,e[a>>2]=1180,e[m+(f*24|0)+4>>2]=e[n+4>>2],cf(m+(f*24|0)+8|0,n+8|0),e[m+(f*24|0)+20>>2]=e[n+20>>2],n=a+24|0,f=e[r>>2]|0,m=e[o>>2]|0,(m|0)==(f|0))b=h,v=f,x=f;else{d=m,m=h,h=a;do e[h+-24>>2]=1180,e[h+-20>>2]=e[d+-20>>2],a=h+-16|0,C=d+-16|0,e[a>>2]=0,S=h+-12|0,e[S>>2]=0,e[h+-8>>2]=0,e[a>>2]=e[C>>2],a=d+-12|0,e[S>>2]=e[a>>2],S=d+-8|0,e[h+-8>>2]=e[S>>2],e[S>>2]=0,e[a>>2]=0,e[C>>2]=0,e[h+-4>>2]=e[d+-4>>2],d=d+-24|0,h=m+-24|0,m=h;while((d|0)!=(f|0));b=m,v=e[r>>2]|0,x=e[o>>2]|0}if(e[r>>2]=b,e[o>>2]=n,e[c>>2]=g,g=v,(x|0)!=(g|0)){c=x;do c=c+-24|0,Fn[e[e[c>>2]>>2]&127](c);while((c|0)!=(g|0))}!v||ve(v)}function fd(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0;if(o=Z[n>>0]|0,a=Z[n+1>>0]|0,f=Z[n+2>>0]|0,h=Z[n+3>>0]|0,n=(((o&255^318)+239^a&255)+239^f&255)+239^h&255,c=e[r+4>>2]|0,!c||(d=c+-1|0,m=(d&c|0)==0,m?b=n&d:n>>>0<c>>>0?b=n:b=(n>>>0)%(c>>>0)|0,v=e[(e[r>>2]|0)+(b<<2)>>2]|0,!v)||(r=e[v>>2]|0,!r))return g=0,g|0;if(m){for(m=r;;){if(v=e[m+4>>2]|0,x=(v|0)==(n|0),!(x|(v&d|0)==(b|0))){g=0,C=25;break}if(x&&(x=m+8|0,(Z[x>>0]|0)==o<<24>>24)&&(Z[x+1>>0]|0)==a<<24>>24&&(Z[x+2>>0]|0)==f<<24>>24&&(Z[x+3>>0]|0)==h<<24>>24){g=m,C=25;break}if(m=e[m>>2]|0,!m){g=0,C=25;break}}if((C|0)==25)return g|0}else S=r;for(;;){if(r=e[S+4>>2]|0,(r|0)==(n|0)){if(m=S+8|0,(Z[m>>0]|0)==o<<24>>24&&(Z[m+1>>0]|0)==a<<24>>24&&(Z[m+2>>0]|0)==f<<24>>24&&(Z[m+3>>0]|0)==h<<24>>24){g=S,C=25;break}}else if(r>>>0<c>>>0?M=r:M=(r>>>0)%(c>>>0)|0,(M|0)!=(b|0)){g=0,C=25;break}if(S=e[S>>2]|0,!S){g=0,C=25;break}}return(C|0)==25?g|0:0}function sl(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0;if(a=q,q=q+32|0,c=a+24|0,g=a+16|0,d=a,m=a+8|0,b=r+40|0,e[r+44>>2]=h,h=r+36|0,v=e[h>>2]|0,x=e[v+4>>2]|0,C=e[v>>2]|0,S=x-C|0,(S|0)<=0)return q=a,1;for(M=(S>>>2)+-1|0,S=r+8|0,I=r+48|0,D=r+52|0,r=g+4|0,L=d+4|0,N=c+4|0,x-C>>2>>>0>M>>>0?(X=M,V=C):Je();;){if(e[m>>2]=e[V+(X<<2)>>2],e[c>>2]=e[m>>2],Q_(b,c,n,X)|0,v=_i(X,f)|0,C=n+(v<<2)|0,M=o+(v<<2)|0,v=e[C+4>>2]|0,x=e[I>>2]|0,Q=e[D>>2]|0,e[g>>2]=e[C>>2],e[r>>2]=v,e[d>>2]=x,e[L>>2]=Q,Ds(c,S,g,d),e[M>>2]=e[c>>2],e[M+4>>2]=e[N>>2],X=X+-1|0,(X|0)<=-1){U=3;break}if(M=e[h>>2]|0,V=e[M>>2]|0,(e[M+4>>2]|0)-V>>2>>>0<=X>>>0){U=4;break}}return(U|0)==3?(q=a,1):((U|0)==4&&Je(),0)}function ud(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0;c=q,q=q+32|0,g=c,d=c+16|0,m=e[(e[(e[n+4>>2]|0)+8>>2]|0)+(a<<2)>>2]|0;do if((o+-1|0)>>>0<6&(kn[e[(e[n>>2]|0)+8>>2]&127](n)|0)==1){if(b=kn[e[(e[n>>2]|0)+52>>2]&127](n)|0,v=M0[e[(e[n>>2]|0)+60>>2]&127](n,a)|0,(b|0)==0|(v|0)==0){e[r>>2]=0,q=c;return}if(x=M0[e[(e[n>>2]|0)+56>>2]&127](n,a)|0,x){if(e[g>>2]=e[n+56>>2],e[g+4>>2]=x,e[g+12>>2]=v,e[g+8>>2]=v+12,u6(r,d,o,m,f,g,h),!(e[r>>2]|0)){e[r>>2]=0;break}q=c;return}else{if(e[g>>2]=e[n+56>>2],e[g+4>>2]=b,e[g+12>>2]=v,e[g+8>>2]=v+12,qf(r,d,o,m,f,g,h),!(e[r>>2]|0)){e[r>>2]=0;break}q=c;return}}while(0);e[r>>2]=0,q=c}function ym(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0;if(a=q,q=q+32|0,c=a+24|0,g=a+16|0,d=a,m=a+8|0,b=r+40|0,e[r+44>>2]=h,h=r+36|0,v=e[h>>2]|0,x=e[v+4>>2]|0,C=e[v>>2]|0,S=x-C|0,(S|0)<=0)return q=a,1;for(M=(S>>>2)+-1|0,S=r+8|0,I=r+48|0,D=r+52|0,r=g+4|0,L=d+4|0,N=c+4|0,x-C>>2>>>0>M>>>0?(X=M,V=C):Je();;){if(e[m>>2]=e[V+(X<<2)>>2],e[c>>2]=e[m>>2],W_(b,c,n,X)|0,v=_i(X,f)|0,C=n+(v<<2)|0,M=o+(v<<2)|0,v=e[C+4>>2]|0,x=e[I>>2]|0,Q=e[D>>2]|0,e[g>>2]=e[C>>2],e[r>>2]=v,e[d>>2]=x,e[L>>2]=Q,Ds(c,S,g,d),e[M>>2]=e[c>>2],e[M+4>>2]=e[N>>2],X=X+-1|0,(X|0)<=-1){U=3;break}if(M=e[h>>2]|0,V=e[M>>2]|0,(e[M+4>>2]|0)-V>>2>>>0<=X>>>0){U=4;break}}return(U|0)==3?(q=a,1):((U|0)==4&&Je(),0)}function Aa(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0;if(a=e[n>>2]|0,n=e[o>>2]|0,f=n-a>>2,h=r+8|0,c=e[h>>2]|0,g=e[r>>2]|0,d=g,m=n,f>>>0<=c-g>>2>>>0){if(b=r+4|0,v=(e[b>>2]|0)-g>>2,x=f>>>0>v>>>0,C=x?a+(v<<2)|0:n,n=C-a|0,v=n>>2,v|0&&W0(g|0,a|0,n|0)|0,n=d+(v<<2)|0,!x){if(x=e[b>>2]|0,(x|0)==(n|0))return;e[b>>2]=x+(~((x+-4-n|0)>>>2)<<2);return}if(n=e[o>>2]|0,o=C,(n|0)==(o|0))return;for(x=e[b>>2]|0,v=n+-4-C|0,C=o,o=x;e[o>>2]=e[C>>2],C=C+4|0,(C|0)!=(n|0);)o=o+4|0;e[b>>2]=x+((v>>>2)+1<<2);return}if(v=g,g?(c=r+4|0,x=e[c>>2]|0,(x|0)!=(d|0)&&(e[c>>2]=x+(~((x+-4-g|0)>>>2)<<2)),ve(v),e[h>>2]=0,e[c>>2]=0,e[r>>2]=0,S=0):S=c,f>>>0>1073741823&&Je(),c=S>>1,v=S>>2>>>0<536870911?c>>>0<f>>>0?f:c:1073741823,v>>>0>1073741823&&Je(),c=Dt(v<<2)|0,f=r+4|0,e[f>>2]=c,e[r>>2]=c,e[h>>2]=c+(v<<2),v=a,(m|0)!=(v|0)){for(h=m+-4-a|0,a=v,v=c;e[v>>2]=e[a>>2],a=a+4|0,(a|0)!=(m|0);)v=v+4|0;e[f>>2]=c+((h>>>2)+1<<2)}}function Am(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0;a=q,q=q+112|0,f=a+100|0,h=a,c=Dt(120)|0,g=e[n+8>>2]|0,e[c+4>>2]=0,e[c>>2]=3296,d=c+8|0,m=c+12|0,b=m+44|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(b|0));e[d>>2]=3320,m=c+56|0,b=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(b|0));e[c+96>>2]=0,e[c+100>>2]=0,e[c+104>>2]=0,e[c+108>>2]=g,e[c+112>>2]=o,d=c+116|0,e[d>>2]=0,v=c,x=e[n+12>>2]|0,C=h+4|0,m=C+4|0,b=m+40|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(b|0));e[h>>2]=3320,m=h+48|0,b=m+36|0;do e[m>>2]=0,m=m+4|0;while((m|0)<(b|0));e[h+88>>2]=0,e[h+92>>2]=0,e[h+96>>2]=0,m=x,e[C>>2]=m,b=((e[m+4>>2]|0)-(e[x>>2]|0)>>2>>>0)/3|0,Z[f>>0]=0,po(h+24|0,b,f),b=e[C>>2]|0,C=(e[b+28>>2]|0)-(e[b+24>>2]|0)>>2,Z[f>>0]=0,po(h+36|0,C,f),e[h+8>>2]=x,e[h+12>>2]=o,e[h+16>>2]=g,e[h+20>>2]=c,e[d>>2]=n+72,ND(c,h),e[r>>2]=v,_m(h),q=a}function Sy(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0;if(o=r+8|0,a=e[o>>2]|0,f=r+4|0,h=e[f>>2]|0,c=h,((a-h|0)/12|0)>>>0>=n>>>0){Mi(h|0,0,n*12|0)|0,e[f>>2]=c+(n*12|0);return}g=e[r>>2]|0,d=(h-g|0)/12|0,h=d+n|0,m=g,h>>>0>357913941&&Je(),b=(a-g|0)/12|0,a=b<<1,v=b>>>0<178956970?a>>>0<h>>>0?h:a:357913941;do if(v)if(v>>>0>357913941)a=wn(8)|0,u0(a,14941),e[a>>2]=6944,yn(a|0,1080,114);else{x=Dt(v*12|0)|0;break}else x=0;while(0);if(a=x+(d*12|0)|0,d=a,h=x+(v*12|0)|0,Mi(a|0,0,n*12|0)|0,v=a+(n*12|0)|0,(c|0)==(m|0))C=d,S=g,M=c;else{g=c,c=d,d=a;do a=d+-12|0,n=g,g=g+-12|0,e[a>>2]=0,x=d+-8|0,e[x>>2]=0,e[d+-4>>2]=0,e[a>>2]=e[g>>2],a=n+-8|0,e[x>>2]=e[a>>2],x=n+-4|0,e[d+-4>>2]=e[x>>2],e[x>>2]=0,e[a>>2]=0,e[g>>2]=0,d=c+-12|0,c=d;while((g|0)!=(m|0));C=c,S=e[r>>2]|0,M=e[f>>2]|0}if(e[r>>2]=C,e[f>>2]=v,e[o>>2]=h,h=S,(M|0)!=(h|0)){o=M;do M=o,o=o+-12|0,v=e[o>>2]|0,v|0&&(f=M+-8|0,M=e[f>>2]|0,(M|0)!=(v|0)&&(e[f>>2]=M+(~((M+-4-v|0)>>>2)<<2)),ve(v));while((o|0)!=(h|0))}!S||ve(S)}function Ty(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0;if(o=e[r+12>>2]|0,a=r+68|0,f=e[a>>2]|0,h=e[f+80>>2]|0,Z[n+84>>0]=0,c=n+68|0,g=n+72|0,d=e[g>>2]|0,m=e[c>>2]|0,b=d-m>>2,v=m,m=d,h>>>0<=b>>>0?h>>>0<b>>>0&&(d=v+(h<<2)|0,(d|0)!=(m|0))?(e[g>>2]=m+(~((m+-4-d|0)>>>2)<<2),x=f,C=h):(x=f,C=h):(z0(c,h-b|0,3220),b=e[a>>2]|0,x=b,C=e[b+80>>2]|0),b=(e[x+100>>2]|0)-(e[x+96>>2]|0)|0,a=(b|0)/12|0,!b)return S=1,S|0;for(b=r+72|0,r=n+68|0,n=e[x+96>>2]|0,x=e[o+28>>2]|0,o=0;;){if(h=o*3|0,c=e[x+(h<<2)>>2]|0,(c|0)==-1){S=0,M=11;break}if(f=e[(e[b>>2]|0)+12>>2]|0,d=e[f+(c<<2)>>2]|0,d>>>0>=C>>>0){S=0,M=11;break}if(c=e[r>>2]|0,e[c+(e[n+(o*12|0)>>2]<<2)>>2]=d,d=e[x+(h+1<<2)>>2]|0,(d|0)==-1){S=0,M=11;break}if(m=e[f+(d<<2)>>2]|0,m>>>0>=C>>>0){S=0,M=11;break}if(e[c+(e[n+(o*12|0)+4>>2]<<2)>>2]=m,m=e[x+(h+2<<2)>>2]|0,(m|0)==-1){S=0,M=11;break}if(h=e[f+(m<<2)>>2]|0,h>>>0>=C>>>0){S=0,M=11;break}if(e[c+(e[n+(o*12|0)+8>>2]<<2)>>2]=h,o=o+1|0,o>>>0>=a>>>0){S=1,M=11;break}}return(M|0)==11?S|0:0}function Nc(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;o=q,q=q+32|0,a=o,f=r+40|0,h=(e[n>>2]|0)+(e[f>>2]|0)|0,c=r+24|0,g=e[r+32>>2]|0,d=g+-4194304|0;do if(d>>>0>=64){if(d>>>0<16384){m=r+28|0,b=(e[c>>2]|0)+(e[m>>2]|0)|0,v=g+-4177920|0,Z[b>>0]=v,Z[b+1>>0]=v>>>8,x=(e[m>>2]|0)+2|0;break}if(d>>>0<4194304){m=r+28|0,v=(e[c>>2]|0)+(e[m>>2]|0)|0,b=g+4194304|0,Z[v>>0]=b,Z[v+1>>0]=b>>>8,Z[v+2>>0]=b>>>16,x=(e[m>>2]|0)+3|0;break}if(d>>>0<1073741824){m=r+28|0,b=(e[c>>2]|0)+(e[m>>2]|0)|0,v=g+-1077936128|0,Z[b>>0]=v,Z[b+1>>0]=v>>>8,Z[b+2>>0]=v>>>16,Z[b+3>>0]=v>>>24,x=(e[m>>2]|0)+4|0;break}else{x=e[r+28>>2]|0;break}}else m=r+28|0,Z[(e[c>>2]|0)+(e[m>>2]|0)>>0]=d,x=(e[m>>2]|0)+1|0;while(0);if(d=((x|0)<0)<<31>>31,fl(a),Vu(x,d,a)|0,c=a+4|0,r=(e[c>>2]|0)-(e[a>>2]|0)|0,W0(h+r|0,h|0,x|0)|0,Fr(h|0,e[a>>2]|0,r|0)|0,h=f,f=e[h>>2]|0,g=e[h+4>>2]|0,h=Wt(r|0,0,x|0,d|0)|0,d=Wt(h|0,Xe|0,f|0,g|0)|0,ds(n,d,Xe),d=a+12|0,n=e[d>>2]|0,e[d>>2]=0,n|0&&ve(n),n=e[a>>2]|0,!n){q=o;return}(e[c>>2]|0)!=(n|0)&&(e[c>>2]=n),ve(n),q=o}function R6(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;o=q,q=q+32|0,a=o,f=r+40|0,h=(e[n>>2]|0)+(e[f>>2]|0)|0,c=r+24|0,g=e[r+32>>2]|0,d=g+-2097152|0;do if(d>>>0>=64){if(d>>>0<16384){m=r+28|0,b=(e[c>>2]|0)+(e[m>>2]|0)|0,v=g+-2080768|0,Z[b>>0]=v,Z[b+1>>0]=v>>>8,x=(e[m>>2]|0)+2|0;break}if(d>>>0<4194304){m=r+28|0,v=(e[c>>2]|0)+(e[m>>2]|0)|0,b=g+6291456|0,Z[v>>0]=b,Z[v+1>>0]=b>>>8,Z[v+2>>0]=b>>>16,x=(e[m>>2]|0)+3|0;break}if(d>>>0<1073741824){m=r+28|0,b=(e[c>>2]|0)+(e[m>>2]|0)|0,v=g+-1075838976|0,Z[b>>0]=v,Z[b+1>>0]=v>>>8,Z[b+2>>0]=v>>>16,Z[b+3>>0]=v>>>24,x=(e[m>>2]|0)+4|0;break}else{x=e[r+28>>2]|0;break}}else m=r+28|0,Z[(e[c>>2]|0)+(e[m>>2]|0)>>0]=d,x=(e[m>>2]|0)+1|0;while(0);if(d=((x|0)<0)<<31>>31,fl(a),Vu(x,d,a)|0,c=a+4|0,r=(e[c>>2]|0)-(e[a>>2]|0)|0,W0(h+r|0,h|0,x|0)|0,Fr(h|0,e[a>>2]|0,r|0)|0,h=f,f=e[h>>2]|0,g=e[h+4>>2]|0,h=Wt(r|0,0,x|0,d|0)|0,d=Wt(h|0,Xe|0,f|0,g|0)|0,ds(n,d,Xe),d=a+12|0,n=e[d>>2]|0,e[d>>2]=0,n|0&&ve(n),n=e[a>>2]|0,!n){q=o;return}(e[c>>2]|0)!=(n|0)&&(e[c>>2]=n),ve(n),q=o}function vm(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;o=q,q=q+32|0,a=o,f=r+40|0,h=(e[n>>2]|0)+(e[f>>2]|0)|0,c=r+24|0,g=e[r+32>>2]|0,d=g+-1048576|0;do if(d>>>0>=64){if(d>>>0<16384){m=r+28|0,b=(e[c>>2]|0)+(e[m>>2]|0)|0,v=g+-1032192|0,Z[b>>0]=v,Z[b+1>>0]=v>>>8,x=(e[m>>2]|0)+2|0;break}if(d>>>0<4194304){m=r+28|0,v=(e[c>>2]|0)+(e[m>>2]|0)|0,b=g+7340032|0,Z[v>>0]=b,Z[v+1>>0]=b>>>8,Z[v+2>>0]=b>>>16,x=(e[m>>2]|0)+3|0;break}if(d>>>0<1073741824){m=r+28|0,b=(e[c>>2]|0)+(e[m>>2]|0)|0,v=g+-1074790400|0,Z[b>>0]=v,Z[b+1>>0]=v>>>8,Z[b+2>>0]=v>>>16,Z[b+3>>0]=v>>>24,x=(e[m>>2]|0)+4|0;break}else{x=e[r+28>>2]|0;break}}else m=r+28|0,Z[(e[c>>2]|0)+(e[m>>2]|0)>>0]=d,x=(e[m>>2]|0)+1|0;while(0);if(d=((x|0)<0)<<31>>31,fl(a),Vu(x,d,a)|0,c=a+4|0,r=(e[c>>2]|0)-(e[a>>2]|0)|0,W0(h+r|0,h|0,x|0)|0,Fr(h|0,e[a>>2]|0,r|0)|0,h=f,f=e[h>>2]|0,g=e[h+4>>2]|0,h=Wt(r|0,0,x|0,d|0)|0,d=Wt(h|0,Xe|0,f|0,g|0)|0,ds(n,d,Xe),d=a+12|0,n=e[d>>2]|0,e[d>>2]=0,n|0&&ve(n),n=e[a>>2]|0,!n){q=o;return}(e[c>>2]|0)!=(n|0)&&(e[c>>2]=n),ve(n),q=o}function wm(r,n,o,a,f,h,c){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,c=c|0;var g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;if(r=q,q=q+96|0,g=r,!n)return d=-1,q=r,d|0;if(Wy(g),Tm(g,o,0,f&255,c,0,f<<1,0,0,0),c=H6(n,g,1,a)|0,o=e[(e[n+8>>2]|0)+(c<<2)>>2]|0,a|0){m=o+84|0,b=o+68|0,v=o+40|0,x=o+64|0,o=0;do Z[m>>0]|0?C=o:C=e[(e[b>>2]|0)+(o<<2)>>2]|0,S=h+((_i(o,f)|0)<<1)|0,M=v,I=e[M>>2]|0,D=zi(I|0,e[M+4>>2]|0,C|0,0)|0,Fr((e[e[x>>2]>>2]|0)+D|0,S|0,I|0)|0,o=o+1|0;while((o|0)!=(a|0))}return o=n+80|0,n=e[o>>2]|0,n?(n|0)==(a|0)?L=10:N=-1:(e[o>>2]=a,L=10),(L|0)==10&&(N=c),c=g+88|0,L=e[c>>2]|0,e[c>>2]=0,L|0&&(c=e[L+8>>2]|0,c|0&&(a=L+12|0,(e[a>>2]|0)!=(c|0)&&(e[a>>2]=c),ve(c)),ve(L)),L=e[g+68>>2]|0,L|0&&(c=g+72|0,a=e[c>>2]|0,(a|0)!=(L|0)&&(e[c>>2]=a+(~((a+-4-L|0)>>>2)<<2)),ve(L)),L=g+64|0,g=e[L>>2]|0,e[L>>2]=0,g|0&&(L=e[g>>2]|0,L|0&&(a=g+4|0,(e[a>>2]|0)!=(L|0)&&(e[a>>2]=L),ve(L)),ve(g)),d=N,q=r,d|0}function E0(r,n,o,a,f,h,c){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,c=c|0;var g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;if(r=q,q=q+96|0,g=r,!n)return d=-1,q=r,d|0;if(Wy(g),Tm(g,o,0,f&255,c,0,f<<2,0,0,0),c=H6(n,g,1,a)|0,o=e[(e[n+8>>2]|0)+(c<<2)>>2]|0,a|0){m=o+84|0,b=o+68|0,v=o+40|0,x=o+64|0,o=0;do Z[m>>0]|0?C=o:C=e[(e[b>>2]|0)+(o<<2)>>2]|0,S=h+((_i(o,f)|0)<<2)|0,M=v,I=e[M>>2]|0,D=zi(I|0,e[M+4>>2]|0,C|0,0)|0,Fr((e[e[x>>2]>>2]|0)+D|0,S|0,I|0)|0,o=o+1|0;while((o|0)!=(a|0))}return o=n+80|0,n=e[o>>2]|0,n?(n|0)==(a|0)?L=10:N=-1:(e[o>>2]=a,L=10),(L|0)==10&&(N=c),c=g+88|0,L=e[c>>2]|0,e[c>>2]=0,L|0&&(c=e[L+8>>2]|0,c|0&&(a=L+12|0,(e[a>>2]|0)!=(c|0)&&(e[a>>2]=c),ve(c)),ve(L)),L=e[g+68>>2]|0,L|0&&(c=g+72|0,a=e[c>>2]|0,(a|0)!=(L|0)&&(e[c>>2]=a+(~((a+-4-L|0)>>>2)<<2)),ve(L)),L=g+64|0,g=e[L>>2]|0,e[L>>2]=0,g|0&&(L=e[g>>2]|0,L|0&&(a=g+4|0,(e[a>>2]|0)!=(L|0)&&(e[a>>2]=L),ve(L)),ve(g)),d=N,q=r,d|0}function My(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;o=q,q=q+32|0,a=o,f=r+40|0,h=(e[n>>2]|0)+(e[f>>2]|0)|0,c=r+24|0,g=e[r+32>>2]|0,d=g+-262144|0;do if(d>>>0>=64){if(d>>>0<16384){m=r+28|0,b=(e[c>>2]|0)+(e[m>>2]|0)|0,v=g+-245760|0,Z[b>>0]=v,Z[b+1>>0]=v>>>8,x=(e[m>>2]|0)+2|0;break}if(d>>>0<4194304){m=r+28|0,v=(e[c>>2]|0)+(e[m>>2]|0)|0,b=g+8126464|0,Z[v>>0]=b,Z[v+1>>0]=b>>>8,Z[v+2>>0]=b>>>16,x=(e[m>>2]|0)+3|0;break}if(d>>>0<1073741824){m=r+28|0,b=(e[c>>2]|0)+(e[m>>2]|0)|0,v=g+-1074003968|0,Z[b>>0]=v,Z[b+1>>0]=v>>>8,Z[b+2>>0]=v>>>16,Z[b+3>>0]=v>>>24,x=(e[m>>2]|0)+4|0;break}else{x=e[r+28>>2]|0;break}}else m=r+28|0,Z[(e[c>>2]|0)+(e[m>>2]|0)>>0]=d,x=(e[m>>2]|0)+1|0;while(0);if(d=((x|0)<0)<<31>>31,fl(a),Vu(x,d,a)|0,c=a+4|0,r=(e[c>>2]|0)-(e[a>>2]|0)|0,W0(h+r|0,h|0,x|0)|0,Fr(h|0,e[a>>2]|0,r|0)|0,h=f,f=e[h>>2]|0,g=e[h+4>>2]|0,h=Wt(r|0,0,x|0,d|0)|0,d=Wt(h|0,Xe|0,f|0,g|0)|0,ds(n,d,Xe),d=a+12|0,n=e[d>>2]|0,e[d>>2]=0,n|0&&ve(n),n=e[a>>2]|0,!n){q=o;return}(e[c>>2]|0)!=(n|0)&&(e[c>>2]=n),ve(n),q=o}function B6(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;o=q,q=q+32|0,a=o,f=r+40|0,h=(e[n>>2]|0)+(e[f>>2]|0)|0,c=r+24|0,g=e[r+32>>2]|0,d=g+-131072|0;do if(d>>>0>=64){if(d>>>0<16384){m=r+28|0,b=(e[c>>2]|0)+(e[m>>2]|0)|0,v=g+-114688|0,Z[b>>0]=v,Z[b+1>>0]=v>>>8,x=(e[m>>2]|0)+2|0;break}if(d>>>0<4194304){m=r+28|0,v=(e[c>>2]|0)+(e[m>>2]|0)|0,b=g+8257536|0,Z[v>>0]=b,Z[v+1>>0]=b>>>8,Z[v+2>>0]=b>>>16,x=(e[m>>2]|0)+3|0;break}if(d>>>0<1073741824){m=r+28|0,b=(e[c>>2]|0)+(e[m>>2]|0)|0,v=g+-1073872896|0,Z[b>>0]=v,Z[b+1>>0]=v>>>8,Z[b+2>>0]=v>>>16,Z[b+3>>0]=v>>>24,x=(e[m>>2]|0)+4|0;break}else{x=e[r+28>>2]|0;break}}else m=r+28|0,Z[(e[c>>2]|0)+(e[m>>2]|0)>>0]=d,x=(e[m>>2]|0)+1|0;while(0);if(d=((x|0)<0)<<31>>31,fl(a),Vu(x,d,a)|0,c=a+4|0,r=(e[c>>2]|0)-(e[a>>2]|0)|0,W0(h+r|0,h|0,x|0)|0,Fr(h|0,e[a>>2]|0,r|0)|0,h=f,f=e[h>>2]|0,g=e[h+4>>2]|0,h=Wt(r|0,0,x|0,d|0)|0,d=Wt(h|0,Xe|0,f|0,g|0)|0,ds(n,d,Xe),d=a+12|0,n=e[d>>2]|0,e[d>>2]=0,n|0&&ve(n),n=e[a>>2]|0,!n){q=o;return}(e[c>>2]|0)!=(n|0)&&(e[c>>2]=n),ve(n),q=o}function Fc(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;o=q,q=q+32|0,a=o,f=r+40|0,h=(e[n>>2]|0)+(e[f>>2]|0)|0,c=r+24|0,g=e[r+32>>2]|0,d=g+-32768|0;do if(d>>>0>=64){if(d>>>0<16384){m=r+28|0,b=(e[c>>2]|0)+(e[m>>2]|0)|0,v=g+-16384|0,Z[b>>0]=v,Z[b+1>>0]=v>>>8,x=(e[m>>2]|0)+2|0;break}if(d>>>0<4194304){m=r+28|0,v=(e[c>>2]|0)+(e[m>>2]|0)|0,b=g+8355840|0,Z[v>>0]=b,Z[v+1>>0]=b>>>8,Z[v+2>>0]=b>>>16,x=(e[m>>2]|0)+3|0;break}if(d>>>0<1073741824){m=r+28|0,b=(e[c>>2]|0)+(e[m>>2]|0)|0,v=g+-1073774592|0,Z[b>>0]=v,Z[b+1>>0]=v>>>8,Z[b+2>>0]=v>>>16,Z[b+3>>0]=v>>>24,x=(e[m>>2]|0)+4|0;break}else{x=e[r+28>>2]|0;break}}else m=r+28|0,Z[(e[c>>2]|0)+(e[m>>2]|0)>>0]=d,x=(e[m>>2]|0)+1|0;while(0);if(d=((x|0)<0)<<31>>31,fl(a),Vu(x,d,a)|0,c=a+4|0,r=(e[c>>2]|0)-(e[a>>2]|0)|0,W0(h+r|0,h|0,x|0)|0,Fr(h|0,e[a>>2]|0,r|0)|0,h=f,f=e[h>>2]|0,g=e[h+4>>2]|0,h=Wt(r|0,0,x|0,d|0)|0,d=Wt(h|0,Xe|0,f|0,g|0)|0,ds(n,d,Xe),d=a+12|0,n=e[d>>2]|0,e[d>>2]=0,n|0&&ve(n),n=e[a>>2]|0,!n){q=o;return}(e[c>>2]|0)!=(n|0)&&(e[c>>2]=n),ve(n),q=o}function I6(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0;if(o=e[n>>2]|0,a=e[n+4>>2]|0,f=e[n+8>>2]|0,h=e[n+12>>2]|0,n=(((o^318)+239^a)+239^f)+239^h,c=e[r+4>>2]|0,!c||(d=c+-1|0,m=(d&c|0)==0,m?b=n&d:n>>>0<c>>>0?b=n:b=(n>>>0)%(c>>>0)|0,v=e[(e[r>>2]|0)+(b<<2)>>2]|0,!v)||(r=e[v>>2]|0,!r))return g=0,g|0;if(m){for(m=r;;){if(v=e[m+4>>2]|0,x=(v|0)==(n|0),!(x|(v&d|0)==(b|0))){g=0,C=25;break}if(x&&(e[m+8>>2]|0)==(o|0)&&(e[m+12>>2]|0)==(a|0)&&(e[m+16>>2]|0)==(f|0)&&(e[m+20>>2]|0)==(h|0)){g=m,C=25;break}if(m=e[m>>2]|0,!m){g=0,C=25;break}}if((C|0)==25)return g|0}else S=r;for(;;){if(r=e[S+4>>2]|0,(r|0)==(n|0)){if((e[S+8>>2]|0)==(o|0)&&(e[S+12>>2]|0)==(a|0)&&(e[S+16>>2]|0)==(f|0)&&(e[S+20>>2]|0)==(h|0)){g=S,C=25;break}}else if(r>>>0<c>>>0?M=r:M=(r>>>0)%(c>>>0)|0,(M|0)!=(b|0)){g=0,C=25;break}if(S=e[S>>2]|0,!S){g=0,C=25;break}}return(C|0)==25?g|0:0}function cd(r,n,o,a,f,h,c){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,c=c|0;var g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;if(r=q,q=q+96|0,g=r,!n)return d=-1,q=r,d|0;if(Wy(g),Tm(g,o,0,f&255,c,0,f,0,0,0),c=H6(n,g,1,a)|0,o=e[(e[n+8>>2]|0)+(c<<2)>>2]|0,a|0){m=o+84|0,b=o+68|0,v=o+40|0,x=o+64|0,o=0;do Z[m>>0]|0?C=o:C=e[(e[b>>2]|0)+(o<<2)>>2]|0,S=h+(_i(o,f)|0)|0,M=v,I=e[M>>2]|0,D=zi(I|0,e[M+4>>2]|0,C|0,0)|0,Fr((e[e[x>>2]>>2]|0)+D|0,S|0,I|0)|0,o=o+1|0;while((o|0)!=(a|0))}return o=n+80|0,n=e[o>>2]|0,n?(n|0)==(a|0)?L=10:N=-1:(e[o>>2]=a,L=10),(L|0)==10&&(N=c),c=g+88|0,L=e[c>>2]|0,e[c>>2]=0,L|0&&(c=e[L+8>>2]|0,c|0&&(a=L+12|0,(e[a>>2]|0)!=(c|0)&&(e[a>>2]=c),ve(c)),ve(L)),L=e[g+68>>2]|0,L|0&&(c=g+72|0,a=e[c>>2]|0,(a|0)!=(L|0)&&(e[c>>2]=a+(~((a+-4-L|0)>>>2)<<2)),ve(L)),L=g+64|0,g=e[L>>2]|0,e[L>>2]=0,g|0&&(L=e[g>>2]|0,L|0&&(a=g+4|0,(e[a>>2]|0)!=(L|0)&&(e[a>>2]=L),ve(L)),ve(g)),d=N,q=r,d|0}function D6(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0;c=q,q=q+32|0,g=c,d=c+16|0,m=e[(e[(e[n+4>>2]|0)+8>>2]|0)+(a<<2)>>2]|0;do if((o+-1|0)>>>0<6&(kn[e[(e[n>>2]|0)+8>>2]&127](n)|0)==1){if(b=kn[e[(e[n>>2]|0)+52>>2]&127](n)|0,v=M0[e[(e[n>>2]|0)+60>>2]&127](n,a)|0,(b|0)==0|(v|0)==0){e[r>>2]=0,q=c;return}if(x=M0[e[(e[n>>2]|0)+56>>2]&127](n,a)|0,x){if(e[g>>2]=e[n+56>>2],e[g+4>>2]=x,e[g+12>>2]=v,e[g+8>>2]=v+12,td(r,d,o,m,f,g,h),!(e[r>>2]|0)){e[r>>2]=0;break}q=c;return}else{if(e[g>>2]=e[n+56>>2],e[g+4>>2]=b,e[g+12>>2]=v,e[g+8>>2]=v+12,ly(r,d,o,m,f,g,h),!(e[r>>2]|0)){e[r>>2]=0;break}q=c;return}}while(0);e[r>>2]=0,q=c}function bs(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0;if(a=e[o>>2]|0,f=e[o+4>>2]|0,(a|0)==(f|0))h=0,c=r+12|0,g=r+8|0;else for(o=e[n>>2]|0,n=r+8|0,d=r+12|0,r=0,m=a;;){if(a=e[m>>2]|0,b=e[o+(a<<2)>>2]|0,b>>>0<r>>>0)v=r;else{if(x=e[n>>2]|0,C=(e[d>>2]|0)-x|0,S=x,(C|0)>0){x=C>>>2,C=0;do M=e[S+(C<<2)>>2]|0,I=e[M+68>>2]|0,Z[M+84>>0]|0?D=a:D=e[I+(a<<2)>>2]|0,e[I+(b<<2)>>2]=D,C=C+1|0;while((C|0)<(x|0))}v=b+1|0}if(m=m+4|0,(m|0)==(f|0)){h=v,c=d,g=n;break}else r=v}if(v=e[c>>2]|0,r=e[g>>2]|0,(v-r|0)>0)L=0,N=r,X=v;else return;for(;v=e[N+(L<<2)>>2]|0,Z[v+84>>0]=0,r=v+68|0,n=v+72|0,v=e[n>>2]|0,d=e[r>>2]|0,f=v-d>>2,m=d,d=v,h>>>0<=f>>>0?h>>>0<f>>>0&&(v=m+(h<<2)|0,(v|0)!=(d|0))?(e[n>>2]=d+(~((d+-4-v|0)>>>2)<<2),V=N,Q=X):(V=N,Q=X):(z0(r,h-f|0,5908),V=e[g>>2]|0,Q=e[c>>2]|0),L=L+1|0,!((L|0)>=(Q-V>>2|0));)N=V,X=Q}function P6(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0;if(a=n,f=o-a>>2,h=r+8|0,c=e[h>>2]|0,g=e[r>>2]|0,d=g,f>>>0<=c-g>>2>>>0){if(m=r+4|0,b=(e[m>>2]|0)-g>>2,v=f>>>0>b>>>0,x=n+(b<<2)|0,b=v?x:o,C=b,S=C-a|0,M=S>>2,M|0&&W0(g|0,n|0,S|0)|0,S=d+(M<<2)|0,!v){if(v=e[m>>2]|0,(v|0)==(S|0))return;e[m>>2]=v+(~((v+-4-S|0)>>>2)<<2);return}if((b|0)==(o|0))return;for(b=e[m>>2]|0,S=((o+-4-C|0)>>>2)+1|0,C=x,x=b;e[x>>2]=e[C>>2],C=C+4|0,(C|0)!=(o|0);)x=x+4|0;e[m>>2]=b+(S<<2);return}if(S=g,g?(c=r+4|0,b=e[c>>2]|0,(b|0)!=(d|0)&&(e[c>>2]=b+(~((b+-4-g|0)>>>2)<<2)),ve(S),e[h>>2]=0,e[c>>2]=0,e[r>>2]=0,I=0):I=c,f>>>0>1073741823&&Je(),c=I>>1,S=I>>2>>>0<536870911?c>>>0<f>>>0?f:c:1073741823,S>>>0>1073741823&&Je(),c=Dt(S<<2)|0,f=r+4|0,e[f>>2]=c,e[r>>2]=c,e[h>>2]=c+(S<<2),(n|0)!=(o|0)){for(S=((o+-4-a|0)>>>2)+1|0,a=n,n=c;e[n>>2]=e[a>>2],a=a+4|0,(a|0)!=(o|0);)n=n+4|0;e[f>>2]=c+(S<<2)}}function L6(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0;if(o=q,q=q+16|0,a=o,f=r+76|0,h=e[f>>2]|0,c=r+80|0,g=e[c>>2]|0,(g|0)!=(h|0)&&(e[c>>2]=g+(~((g+-4-h|0)>>>2)<<2)),e[f>>2]=0,e[c>>2]=0,e[r+84>>2]=0,h|0&&ve(h),h=r+64|0,c=e[h>>2]|0,f=r+68|0,(e[f>>2]|0)!=(c|0)&&(e[f>>2]=c),e[h>>2]=0,e[f>>2]=0,e[r+72>>2]=0,c|0&&ve(c),c=n+4|0,f=e[c>>2]|0,h=e[n>>2]|0,g=((f-h|0)/12|0)*3|0,d=r+4|0,m=e[d>>2]|0,b=e[r>>2]|0,v=m-b>>2,x=b,b=m,m=h,g>>>0<=v>>>0?g>>>0<v>>>0&&(C=x+(g<<2)|0,(C|0)!=(b|0))?(e[d>>2]=b+(~((b+-4-C|0)>>>2)<<2),S=f,M=h,I=m):(S=f,M=h,I=m):(q0(r,g-v|0),v=e[n>>2]|0,S=e[c>>2]|0,M=v,I=v),(S|0)!=(M|0)){M=e[r>>2]|0,v=(S-I|0)/12|0,S=0;do c=S*3|0,e[M+(c<<2)>>2]=e[I+(S*12|0)>>2],e[M+(c+1<<2)>>2]=e[I+(S*12|0)+4>>2],e[M+(c+2<<2)>>2]=e[I+(S*12|0)+8>>2],S=S+1|0;while(S>>>0<v>>>0)}return e[a>>2]=-1,yL(r,a)|0?(Jb(r)|0,ZP(r,e[a>>2]|0)|0,D=1,q=o,D|0):(D=0,q=o,D|0)}function lf(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;o=q,q=q+32|0,a=o,f=r+40|0,h=(e[n>>2]|0)+(e[f>>2]|0)|0,c=r+24|0,g=e[r+32>>2]|0,d=g+-16384|0;do if(d>>>0>=64){if(d>>>0<16384){m=r+28|0,b=(e[c>>2]|0)+(e[m>>2]|0)|0,Z[b>>0]=g,Z[b+1>>0]=g>>>8,v=(e[m>>2]|0)+2|0;break}if(d>>>0<4194304){m=r+28|0,b=(e[c>>2]|0)+(e[m>>2]|0)|0,x=g+8372224|0,Z[b>>0]=x,Z[b+1>>0]=x>>>8,Z[b+2>>0]=x>>>16,v=(e[m>>2]|0)+3|0;break}if(d>>>0<1073741824){m=r+28|0,x=(e[c>>2]|0)+(e[m>>2]|0)|0,b=g+-1073758208|0,Z[x>>0]=b,Z[x+1>>0]=b>>>8,Z[x+2>>0]=b>>>16,Z[x+3>>0]=b>>>24,v=(e[m>>2]|0)+4|0;break}else{v=e[r+28>>2]|0;break}}else m=r+28|0,Z[(e[c>>2]|0)+(e[m>>2]|0)>>0]=d,v=(e[m>>2]|0)+1|0;while(0);if(d=((v|0)<0)<<31>>31,fl(a),Vu(v,d,a)|0,c=a+4|0,r=(e[c>>2]|0)-(e[a>>2]|0)|0,W0(h+r|0,h|0,v|0)|0,Fr(h|0,e[a>>2]|0,r|0)|0,h=f,f=e[h>>2]|0,g=e[h+4>>2]|0,h=Wt(r|0,0,v|0,d|0)|0,d=Wt(h|0,Xe|0,f|0,g|0)|0,ds(n,d,Xe),d=a+12|0,n=e[d>>2]|0,e[d>>2]=0,n|0&&ve(n),n=e[a>>2]|0,!n){q=o;return}(e[c>>2]|0)!=(n|0)&&(e[c>>2]=n),ve(n),q=o}function Uu(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0;if(a=n,f=o-a>>2,h=r+8|0,c=e[h>>2]|0,g=e[r>>2]|0,d=g,f>>>0<=c-g>>2>>>0){if(m=r+4|0,b=(e[m>>2]|0)-g>>2,v=f>>>0>b>>>0,x=n+(b<<2)|0,b=v?x:o,C=b,S=C-a|0,M=S>>2,M|0&&W0(g|0,n|0,S|0)|0,S=d+(M<<2)|0,!v){if(v=e[m>>2]|0,(v|0)==(S|0))return;e[m>>2]=v+(~((v+-4-S|0)>>>2)<<2);return}if((b|0)==(o|0))return;for(b=e[m>>2]|0,S=o+-4-C|0,C=x,x=b;e[x>>2]=e[C>>2],C=C+4|0,(C|0)!=(o|0);)x=x+4|0;e[m>>2]=b+((S>>>2)+1<<2);return}if(S=g,g?(c=r+4|0,b=e[c>>2]|0,(b|0)!=(d|0)&&(e[c>>2]=b+(~((b+-4-g|0)>>>2)<<2)),ve(S),e[h>>2]=0,e[c>>2]=0,e[r>>2]=0,I=0):I=c,f>>>0>1073741823&&Je(),c=I>>1,S=I>>2>>>0<536870911?c>>>0<f>>>0?f:c:1073741823,S>>>0>1073741823&&Je(),c=Dt(S<<2)|0,f=r+4|0,e[f>>2]=c,e[r>>2]=c,e[h>>2]=c+(S<<2),(n|0)!=(o|0)){for(S=o+-4-a|0,a=n,n=c;e[n>>2]=e[a>>2],a=a+4|0,(a|0)!=(o|0);)n=n+4|0;e[f>>2]=c+((S>>>2)+1<<2)}}function w(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0;if(f=q,q=q+80|0,h=f,c=f+64|0,Vy(h),g=e[(e[r+8>>2]|0)+56>>2]|0,d=_i(jy(5)|0,o)|0,Tm(h,g,0,o&255,5,0,d,((d|0)<0)<<31>>31,0,0),d=Dt(96)|0,xx(d,h),q6(d,n)|0,e[c>>2]=d,J6(r,c),d=e[c>>2]|0,e[c>>2]=0,d|0&&(c=d+88|0,n=e[c>>2]|0,e[c>>2]=0,n|0&&(c=e[n+8>>2]|0,c|0&&(h=n+12|0,(e[h>>2]|0)!=(c|0)&&(e[h>>2]=c),ve(c)),ve(n)),n=e[d+68>>2]|0,n|0&&(c=d+72|0,h=e[c>>2]|0,(h|0)!=(n|0)&&(e[c>>2]=h+(~((h+-4-n|0)>>>2)<<2)),ve(n)),n=d+64|0,h=e[n>>2]|0,e[n>>2]=0,h|0&&(n=e[h>>2]|0,n|0&&(c=h+4|0,(e[c>>2]|0)!=(n|0)&&(e[c>>2]=n),ve(n)),ve(h)),ve(d)),!a){q=f;return}if(d=e[r+32>>2]|0,Z[d+84>>0]=0,r=d+68|0,h=d+72|0,d=e[h>>2]|0,n=e[r>>2]|0,c=d-n>>2,o=d,c>>>0<a>>>0){z0(r,a-c|0,1516),q=f;return}if(c>>>0<=a>>>0){q=f;return}if(c=n+(a<<2)|0,(c|0)==(o|0)){q=f;return}e[h>>2]=o+(~((o+-4-c|0)>>>2)<<2),q=f}function T(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0;if(o=q,q=q+16|0,a=o+4|0,f=o,h=r+4|0,c=e[h>>2]|0,g=r+8|0,d=e[g>>2]|0,(d|0)==(c|0)?m=c:(b=d+(~((d+-4-c|0)>>>2)<<2)|0,e[g>>2]=b,m=b),b=r+16|0,c=e[b>>2]|0,d=r+20|0,v=e[d>>2]|0,x=c,(v|0)!=(c|0)&&(e[d>>2]=v+(~((v+-4-x|0)>>>2)<<2)),v=e[n>>2]|0,c=e[n+4>>2]|0,(v|0)==(c|0)){q=o;return}for(n=r+12|0,r=v,v=m,m=x;x=e[r>>2]|0,e[a>>2]=x,(v|0)==(e[n>>2]|0)?(pr(h,a),C=e[b>>2]|0):(e[v>>2]=x,e[g>>2]=v+4,C=m),x=e[a>>2]|0,S=e[d>>2]|0,M=S-C>>2,I=C,(x|0)<(M|0)?(D=I,L=x,N=C):(X=x+1|0,e[f>>2]=-1,V=S,X>>>0<=M>>>0?X>>>0<M>>>0&&(S=I+(X<<2)|0,(S|0)!=(V|0))?(e[d>>2]=V+(~((V+-4-S|0)>>>2)<<2),Q=x,U=I,j=C):(Q=x,U=I,j=C):(z0(b,X-M|0,f),M=e[b>>2]|0,Q=e[a>>2]|0,U=M,j=M),D=U,L=Q,N=j),v=e[g>>2]|0,e[D+(L<<2)>>2]=(v-(e[h>>2]|0)>>2)+-1,r=r+4|0,(r|0)!=(c|0);)m=N;q=o}function W(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0;if(o=Oi[n>>1]|0,a=Oi[n+2>>1]|0,f=Oi[n+4>>1]|0,n=(((o^318)&65535)+239^a&65535)+239^f&65535,h=e[r+4>>2]|0,!h||(g=h+-1|0,d=(g&h|0)==0,d?m=n&g:n>>>0<h>>>0?m=n:m=(n>>>0)%(h>>>0)|0,b=e[(e[r>>2]|0)+(m<<2)>>2]|0,!b)||(r=e[b>>2]|0,!r))return c=0,c|0;if(d){for(d=r;;){if(b=e[d+4>>2]|0,v=(b|0)==(n|0),!(v|(b&g|0)==(m|0))){c=0,x=23;break}if(v&&(v=d+8|0,(Oi[v>>1]|0)==o<<16>>16)&&(Oi[v+2>>1]|0)==a<<16>>16&&(Oi[d+12>>1]|0)==f<<16>>16){c=d,x=23;break}if(d=e[d>>2]|0,!d){c=0,x=23;break}}if((x|0)==23)return c|0}else C=r;for(;;){if(r=e[C+4>>2]|0,(r|0)==(n|0)){if(d=C+8|0,(Oi[d>>1]|0)==o<<16>>16&&(Oi[d+2>>1]|0)==a<<16>>16&&(Oi[C+12>>1]|0)==f<<16>>16){c=C,x=23;break}}else if(r>>>0<h>>>0?S=r:S=(r>>>0)%(h>>>0)|0,(S|0)!=(m|0)){c=0,x=23;break}if(C=e[C>>2]|0,!C){c=0,x=23;break}}return(x|0)==23?c|0:0}function G(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0;if(n=q,q=q+32|0,o=n,a=r+16|0,f=a,h=e[f>>2]|0,c=e[f+4>>2]|0,!((c|0)>0|(c|0)==0&h>>>0>0)){q=n;return}f=Wt(e[(e[r+12>>2]|0)+4>>2]|0,0,7,0)|0,g=r0(f|0,Xe|0,3)|0,f=Xe,Z[r+24>>0]|0?(d=e[r>>2]|0,C=r+4|0,S=d+((e[C>>2]|0)-d)|0,d=Wt(h|0,c|0,8,0)|0,c=S+(0-d)|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,Z[o+24>>0]=0,Vu(g,f,o)|0,d=o+4|0,S=(e[d>>2]|0)-(e[o>>2]|0)|0,W0(c+S|0,c+8|0,g|0)|0,Fr(c|0,e[o>>2]|0,S|0)|0,c=a,h=Wt(e[c>>2]|0,e[c+4>>2]|0,8-S|0,0)|0,S=a,e[S>>2]=h,e[S+4>>2]=Xe,S=o+12|0,h=e[S>>2]|0,e[S>>2]=0,h|0&&ve(h),h=e[o>>2]|0,h|0&&((e[d>>2]|0)!=(h|0)&&(e[d>>2]=h),ve(h)),h=a,m=C,b=C,v=e[h>>2]|0,x=e[h+4>>2]|0):(d=r+4|0,m=d,b=d,v=h,x=c),h=e[m>>2]|0,m=e[r>>2]|0,C=h-m|0,d=Gr(g|0,f|0,v|0,x|0)|0,x=Wt(d|0,Xe|0,C|0,0)|0,d=m,m=h,C>>>0>=x>>>0?C>>>0>x>>>0&&(h=d+x|0,(h|0)!=(m|0))&&(e[b>>2]=h):Na(r,x-C|0),C=a,e[C>>2]=0,e[C+4>>2]=0,q=n}function te(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0;if(e[n>>2]=1,o=r+4|0,a=n+8|0,f=n+12|0,n=e[a>>2]|0,h=(e[f>>2]|0)-n|0,h>>>0<4294967292?(Oy(a,h+4|0,0),c=e[a>>2]|0):c=n,n=c+h|0,h=yi[o>>0]|yi[o+1>>0]<<8|yi[o+2>>0]<<16|yi[o+3>>0]<<24,Z[n>>0]=h,Z[n+1>>0]=h>>8,Z[n+2>>0]=h>>16,Z[n+3>>0]=h>>24,h=r+8|0,n=r+12|0,o=e[h>>2]|0,(e[n>>2]|0)!=(o|0)){c=0,g=o;do o=g+(c<<2)|0,d=e[a>>2]|0,m=(e[f>>2]|0)-d|0,m>>>0<4294967292?(Oy(a,m+4|0,0),b=e[a>>2]|0):b=d,d=b+m|0,m=yi[o>>0]|yi[o+1>>0]<<8|yi[o+2>>0]<<16|yi[o+3>>0]<<24,Z[d>>0]=m,Z[d+1>>0]=m>>8,Z[d+2>>0]=m>>16,Z[d+3>>0]=m>>24,c=c+1|0,g=e[h>>2]|0;while(c>>>0<(e[n>>2]|0)-g>>2>>>0)}if(g=r+20|0,r=e[a>>2]|0,n=(e[f>>2]|0)-r|0,n>>>0<4294967292){Oy(a,n+4|0,0),v=e[a>>2]|0,x=v+n|0,C=yi[g>>0]|yi[g+1>>0]<<8|yi[g+2>>0]<<16|yi[g+3>>0]<<24,Z[x>>0]=C,Z[x+1>>0]=C>>8,Z[x+2>>0]=C>>16,Z[x+3>>0]=C>>24;return}else{v=r,x=v+n|0,C=yi[g>>0]|yi[g+1>>0]<<8|yi[g+2>>0]<<16|yi[g+3>>0]<<24,Z[x>>0]=C,Z[x+1>>0]=C>>8,Z[x+2>>0]=C>>16,Z[x+3>>0]=C>>24;return}}function pe(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0;a=r+8|0,f=e[a>>2]|0,h=e[r>>2]|0,c=h;do if(f-h>>2>>>0>=n>>>0){if(g=r+4|0,d=e[g>>2]|0,m=d-h>>2,b=m>>>0<n>>>0,v=b?m:n,x=d,v|0)for(d=v,v=c;e[v>>2]=e[o>>2],d=d+-1|0,d;)v=v+4|0;if(b){for(v=n-m|0,d=v,M=x;e[M>>2]=e[o>>2],d=d+-1|0,d;)M=M+4|0;C=g,S=x+(v<<2)|0;break}else{if(v=c+(n<<2)|0,(v|0)==(x|0))return;C=g,S=x+(~((x+-4-v|0)>>>2)<<2)|0;break}}else{for(M=h,h?(d=r+4|0,m=e[d>>2]|0,(m|0)!=(c|0)&&(e[d>>2]=m+(~((m+-4-h|0)>>>2)<<2)),ve(M),e[a>>2]=0,e[d>>2]=0,e[r>>2]=0,I=0):I=f,n>>>0>1073741823&&Je(),d=I>>1,M=I>>2>>>0<536870911?d>>>0<n>>>0?n:d:1073741823,M>>>0>1073741823&&Je(),d=Dt(M<<2)|0,m=r+4|0,e[m>>2]=d,e[r>>2]=d,e[a>>2]=d+(M<<2),M=n,b=d;e[b>>2]=e[o>>2],M=M+-1|0,M;)b=b+4|0;C=m,S=d+(n<<2)|0}while(0);e[C>>2]=S}function De(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0;return c=ho(r,n,o,a,h)|0,g=e[f>>2]|0,d=e[a>>2]|0,m=e[h>>2]|0,h=e[m>>2]|0,b=(e[m+4>>2]|0)-h>>3,b>>>0<=g>>>0&&Je(),v=h,b>>>0<=d>>>0&&Je(),(e[v+(g<<3)>>2]|0)>>>0>=(e[v+(d<<3)>>2]|0)>>>0?(x=c,x|0):(e[a>>2]=g,e[f>>2]=d,d=e[a>>2]|0,f=e[o>>2]|0,b>>>0<=d>>>0&&Je(),b>>>0<=f>>>0&&Je(),(e[v+(d<<3)>>2]|0)>>>0>=(e[v+(f<<3)>>2]|0)>>>0?(x=c+1|0,x|0):(e[o>>2]=d,e[a>>2]=f,f=e[o>>2]|0,a=e[n>>2]|0,b>>>0<=f>>>0&&Je(),b>>>0<=a>>>0&&Je(),(e[v+(f<<3)>>2]|0)>>>0>=(e[v+(a<<3)>>2]|0)>>>0?(x=c+2|0,x|0):(e[n>>2]=f,e[o>>2]=a,a=e[n>>2]|0,o=e[r>>2]|0,b>>>0<=a>>>0&&Je(),b>>>0<=o>>>0&&Je(),(e[v+(a<<3)>>2]|0)>>>0>=(e[v+(o<<3)>>2]|0)>>>0?(x=c+3|0,x|0):(e[r>>2]=a,e[n>>2]=o,x=c+4|0,x|0))))}function je(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0;if(o=Z[n>>0]|0,a=Z[n+1>>0]|0,f=Z[n+2>>0]|0,n=((o&255^318)+239^a&255)+239^f&255,h=e[r+4>>2]|0,!h||(g=h+-1|0,d=(g&h|0)==0,d?m=n&g:n>>>0<h>>>0?m=n:m=(n>>>0)%(h>>>0)|0,b=e[(e[r>>2]|0)+(m<<2)>>2]|0,!b)||(r=e[b>>2]|0,!r))return c=0,c|0;if(d){for(d=r;;){if(b=e[d+4>>2]|0,v=(b|0)==(n|0),!(v|(b&g|0)==(m|0))){c=0,x=23;break}if(v&&(v=d+8|0,(Z[v>>0]|0)==o<<24>>24)&&(Z[v+1>>0]|0)==a<<24>>24&&(Z[v+2>>0]|0)==f<<24>>24){c=d,x=23;break}if(d=e[d>>2]|0,!d){c=0,x=23;break}}if((x|0)==23)return c|0}else C=r;for(;;){if(r=e[C+4>>2]|0,(r|0)==(n|0)){if(d=C+8|0,(Z[d>>0]|0)==o<<24>>24&&(Z[d+1>>0]|0)==a<<24>>24&&(Z[d+2>>0]|0)==f<<24>>24){c=C,x=23;break}}else if(r>>>0<h>>>0?S=r:S=(r>>>0)%(h>>>0)|0,(S|0)!=(m|0)){c=0,x=23;break}if(C=e[C>>2]|0,!C){c=0,x=23;break}}return(x|0)==23?c|0:0}function tt(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0;if(n=q,q=q+16|0,o=n,a=r+36|0,f=r+4|0,h=r+8|0,c=(e[h>>2]|0)-(e[f>>2]|0)>>2,g=r+40|0,d=e[g>>2]|0,m=e[a>>2]|0,b=d-m>>2,v=m,m=d,c>>>0<=b>>>0){if(c>>>0<b>>>0&&(d=v+(c<<2)|0,(d|0)!=(m|0))){v=m;do m=v+-4|0,e[g>>2]=m,x=e[m>>2]|0,e[m>>2]=0,x|0&&Fn[e[(e[x>>2]|0)+4>>2]&127](x),v=e[g>>2]|0;while((v|0)!=(d|0))}}else Jo(a,c-b|0);if((e[h>>2]|0)==(e[f>>2]|0))return C=1,q=n,C|0;for(b=r+52|0,c=r+48|0,d=0;;){if(Im[e[(e[r>>2]|0)+56>>2]&15](o,r,d),v=(e[a>>2]|0)+(d<<2)|0,g=e[o>>2]|0,e[o>>2]=0,x=e[v>>2]|0,e[v>>2]=g,x|0&&Fn[e[(e[x>>2]|0)+4>>2]&127](x),x=e[o>>2]|0,e[o>>2]=0,x|0&&Fn[e[(e[x>>2]|0)+4>>2]&127](x),x=e[(e[a>>2]|0)+(d<<2)>>2]|0,!x){C=0,S=19;break}if(d>>>0<(e[b>>2]|0)>>>0&&e[(e[c>>2]|0)+(d>>>5<<2)>>2]&1<<(d&31)|0&&dC(x),d=d+1|0,d>>>0>=(e[h>>2]|0)-(e[f>>2]|0)>>2>>>0){C=1,S=19;break}}return(S|0)==19?(q=n,C|0):0}function ct(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0;a=q,q=q+16|0,f=a+4|0,h=a,p0(e[o+12>>2]|0,n)|0,c=e[o+8>>2]|0;e:do if(c|0){for(g=n+16|0,d=n+4|0,m=c;;){if(b=m,!(Cy(0,n,b+8|0)|0)){v=0;break}if(x=b+20|0,C=(e[b+24>>2]|0)-(e[x>>2]|0)|0,p0(C,n)|0,b=e[x>>2]|0,x=g,S=e[x+4>>2]|0,(S|0)>0|(S|0)==0&(e[x>>2]|0)>>>0>0||(e[h>>2]=e[d>>2],e[f>>2]=e[h>>2],vr(n,f,b,b+C|0)|0),m=e[m>>2]|0,!m)break e}return q=a,v|0}while(0);if(p0(e[o+32>>2]|0,n)|0,f=e[o+28>>2]|0,f)M=f;else return v=1,q=a,v|0;for(;;){if(f=M,!(Cy(0,n,f+8|0)|0)){v=0,I=10;break}if(ct(r,n,e[f+20>>2]|0)|0,M=e[M>>2]|0,!M){v=1,I=10;break}}return(I|0)==10?(q=a,v|0):0}function Ht(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0;return o=q,q=q+16|0,a=o+8|0,f=o+4|0,h=o,c=r+8|0,g=r+12|0,d=e[c>>2]|0,(e[g>>2]|0)==(d|0)?(m=Dt(76)|0,DF(m,n),b=m,e[h>>2]=b,m=e[g>>2]|0,m>>>0<(e[r+16>>2]|0)>>>0?(e[h>>2]=0,e[m>>2]=b,e[g>>2]=m+4,v=h):(wa(c,h),v=h),h=e[v>>2]|0,e[v>>2]=0,h?(Fn[e[(e[h>>2]|0)+4>>2]&127](h),q=o,1):(q=o,1)):(h=e[d>>2]|0,e[a>>2]=n,d=h+4|0,v=h+8|0,c=e[v>>2]|0,(c|0)==(e[h+12>>2]|0)?pr(d,a):(e[c>>2]=n,e[v>>2]=c+4),c=e[a>>2]|0,n=h+16|0,m=h+20|0,h=e[m>>2]|0,g=e[n>>2]|0,b=h-g>>2,r=g,(c|0)<(b|0)?(x=r,C=c):(g=c+1|0,e[f>>2]=-1,S=h,g>>>0<=b>>>0?g>>>0<b>>>0&&(h=r+(g<<2)|0,(h|0)!=(S|0))?(e[m>>2]=S+(~((S+-4-h|0)>>>2)<<2),M=c,I=r):(M=c,I=r):(z0(n,g-b|0,f),M=e[a>>2]|0,I=e[n>>2]|0),x=I,C=M),e[x+(C<<2)>>2]=((e[v>>2]|0)-(e[d>>2]|0)>>2)+-1,q=o,1)}function Zt(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0;if(a=o,f=n,h=a-f|0,c=h>>2,g=r+8|0,d=e[g>>2]|0,m=e[r>>2]|0,b=m,c>>>0>d-m>>2>>>0){if(v=m,m?(d=r+4|0,C=e[d>>2]|0,(C|0)!=(b|0)&&(e[d>>2]=C+(~((C+-4-m|0)>>>2)<<2)),ve(v),e[g>>2]=0,e[d>>2]=0,e[r>>2]=0,x=0):x=d,c>>>0>1073741823&&Je(),d=x>>1,v=x>>2>>>0<536870911?d>>>0<c>>>0?c:d:1073741823,v>>>0>1073741823&&Je(),d=Dt(v<<2)|0,x=r+4|0,e[x>>2]=d,e[r>>2]=d,e[g>>2]=d+(v<<2),(h|0)<=0)return;Fr(d|0,n|0,h|0)|0,e[x>>2]=d+(h>>>2<<2);return}if(h=r+4|0,r=e[h>>2]|0,d=r-m>>2,m=c>>>0>d>>>0,c=m?n+(d<<2)|0:o,o=r,d=r,(c|0)==(n|0))S=b;else{for(r=c+-4-f|0,f=n,n=b;e[n>>2]=e[f>>2],f=f+4|0,(f|0)!=(c|0);)n=n+4|0;S=b+((r>>>2)+1<<2)|0}if(m){if(m=a-c|0,(m|0)<=0)return;Fr(d|0,c|0,m|0)|0,e[h>>2]=(e[h>>2]|0)+(m>>>2<<2);return}else{if((S|0)==(o|0))return;e[h>>2]=o+(~((o+-4-S|0)>>>2)<<2);return}}function Ai(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0;f=q,q=q+96|0,h=f+40|0,c=f,Uk(h,o),P2(c,n,o),E_(h,c),hs(c+24|0,e[c+28>>2]|0),ju(c+12|0,e[c+16>>2]|0),hs(c,e[c+4>>2]|0),Q6(r,h,a),e[r>>2]|0||(a=r+4|0,(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0),e[n+40>>2]=e[h+40>>2],e[n+44>>2]=e[h+44>>2],e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0),e[h>>2]=2968,hs(h+28|0,e[h+32>>2]|0),ju(h+16|0,e[h+20>>2]|0),hs(h+4|0,e[h+8>>2]|0),q=f}function hi(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0;if(o=e[n>>2]|0,a=e[n+4>>2]|0,f=e[n+8>>2]|0,n=((o^318)+239^a)+239^f,h=e[r+4>>2]|0,!h||(g=h+-1|0,d=(g&h|0)==0,d?m=n&g:n>>>0<h>>>0?m=n:m=(n>>>0)%(h>>>0)|0,b=e[(e[r>>2]|0)+(m<<2)>>2]|0,!b)||(r=e[b>>2]|0,!r))return c=0,c|0;if(d){for(d=r;;){if(b=e[d+4>>2]|0,v=(b|0)==(n|0),!(v|(b&g|0)==(m|0))){c=0,x=23;break}if(v&&(e[d+8>>2]|0)==(o|0)&&(e[d+12>>2]|0)==(a|0)&&(e[d+16>>2]|0)==(f|0)){c=d,x=23;break}if(d=e[d>>2]|0,!d){c=0,x=23;break}}if((x|0)==23)return c|0}else C=r;for(;;){if(r=e[C+4>>2]|0,(r|0)==(n|0)){if((e[C+8>>2]|0)==(o|0)&&(e[C+12>>2]|0)==(a|0)&&(e[C+16>>2]|0)==(f|0)){c=C,x=23;break}}else if(r>>>0<h>>>0?S=r:S=(r>>>0)%(h>>>0)|0,(S|0)!=(m|0)){c=0,x=23;break}if(C=e[C>>2]|0,!C){c=0,x=23;break}}return(x|0)==23?c|0:0}function Gi(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0;if(a=q,q=q+16|0,f=a,!(F6(r,n,o)|0)||(Z[(e[r+8>>2]|0)+24>>0]|0)!=3)return h=0,q=a,h|0;c=e[n+48>>2]|0,n=Dt(32)|0,e[f>>2]=n,e[f+8>>2]=-2147483616,e[f+4>>2]=17,g=n,d=12932,m=g+17|0;do Z[g>>0]=Z[d>>0]|0,g=g+1|0,d=d+1|0;while((g|0)<(m|0));if(Z[n+17>>0]=0,n=c+16|0,d=e[n>>2]|0,d){g=n,m=d;e:for(;;){for(d=m;!((e[d+16>>2]|0)>=(o|0));)if(b=e[d+4>>2]|0,b)d=b;else{v=g;break e}if(m=e[d>>2]|0,m)g=d;else{v=d;break}}(v|0)!=(n|0)&&(e[v+16>>2]|0)<=(o|0)&&(o=v+20|0,(mo(o,f)|0)!=0)?x=go(o,f,-1)|0:C=12}else C=12;return(C|0)==12&&(x=go(c,f,-1)|0),(Z[f+11>>0]|0)<0&&ve(e[f>>2]|0),(x|0)<1?(h=0,q=a,h|0):(Mx(r+40|0,x),h=1,q=a,h|0)}function Zi(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0;if(a=n,f=o-a|0,h=r+8|0,c=e[h>>2]|0,g=e[r>>2]|0,d=g,f>>>0>(c-g|0)>>>0){if(g?(c=r+4|0,(e[c>>2]|0)!=(d|0)&&(e[c>>2]=d),ve(d),e[h>>2]=0,e[c>>2]=0,e[r>>2]=0,m=0):m=c,(f|0)<0&&Je(),c=m<<1,b=m>>>0<1073741823?c>>>0<f>>>0?f:c:2147483647,(b|0)<0&&Je(),c=Dt(b)|0,m=r+4|0,e[m>>2]=c,e[r>>2]=c,e[h>>2]=c+b,(n|0)==(o|0))return;v=n,x=c;do Z[x>>0]=Z[v>>0]|0,v=v+1|0,x=(e[m>>2]|0)+1|0,e[m>>2]=x;while((v|0)!=(o|0));return}if(v=r+4|0,r=(e[v>>2]|0)-g|0,g=f>>>0>r>>>0,f=n+r|0,r=g?f:o,(r|0)==(n|0))C=d;else{for(x=n,n=d;Z[n>>0]=Z[x>>0]|0,x=x+1|0,(x|0)!=(r|0);)n=n+1|0;C=d+(r-a)|0}if(!g){if((e[v>>2]|0)==(C|0))return;e[v>>2]=C;return}if((r|0)!=(o|0)){r=f,f=e[v>>2]|0;do Z[f>>0]=Z[r>>0]|0,r=r+1|0,f=(e[v>>2]|0)+1|0,e[v>>2]=f;while((r|0)!=(o|0))}}function ur(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;a=o>>>1&1431655765|o<<1&-1431655766,o=a>>>2&858993459|a<<2&-858993460,a=o>>>4&252645135|o<<4&-252645136,o=a>>>8&16711935|a<<8&-16711936,a=32-n|0,f=(o>>>16|o<<16)>>>a,o=f-(f>>>1&1431655765)|0,h=(o>>>2&858993459)+(o&858993459)|0,o=(_i((h>>>4)+h&252645135,16843009)|0)>>>24,h=n-o|0,c=e[r>>2]|0,g=c,d=Wt(e[g>>2]|0,e[g+4>>2]|0,h|0,((h|0)<0)<<31>>31|0)|0,h=c,e[h>>2]=d,e[h+4>>2]=Xe,h=c+8|0,c=h,d=Wt(e[c>>2]|0,e[c+4>>2]|0,o|0,0)|0,o=h,e[o>>2]=d,e[o+4>>2]=Xe,o=r+28|0,d=e[o>>2]|0,h=32-d|0,c=r+24|0;do if((h|0)>=(n|0)){if(g=-1>>>a<<d,m=e[c>>2]&~g|g&f<<d,e[c>>2]=m,g=d+n|0,e[o>>2]=g,(g|0)!=32)return;if(g=r+16|0,b=e[g>>2]|0,(b|0)==(e[r+20>>2]|0)){pr(r+12|0,c),v=0,x=0;break}else{e[b>>2]=m,e[g>>2]=b+4,v=0,x=0;break}}else b=-1>>>d<<d,g=e[c>>2]&~b|b&f<<d,e[c>>2]=g,b=r+16|0,m=e[b>>2]|0,(m|0)==(e[r+20>>2]|0)?pr(r+12|0,c):(e[m>>2]=g,e[b>>2]=m+4),m=n-h|0,v=m,x=-1>>>(32-m|0)&f>>>h;while(0);e[c>>2]=x,e[o>>2]=v}function xr(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0;a=n&255,f=(o|0)!=0;e:do if(f&(r&3|0)!=0)for(h=n&255,c=r,g=o;;){if((Z[c>>0]|0)==h<<24>>24){d=c,m=g,b=6;break e}if(v=c+1|0,x=g+-1|0,C=(x|0)!=0,C&(v&3|0)!=0)c=v,g=x;else{S=v,M=x,I=C,b=5;break}}else S=r,M=o,I=f,b=5;while(0);(b|0)==5&&(I?(d=S,m=M,b=6):(D=S,L=0));e:do if((b|0)==6)if(S=n&255,(Z[d>>0]|0)==S<<24>>24)D=d,L=m;else{M=_i(a,16843009)|0;t:do if(m>>>0>3){for(I=d,f=m;o=e[I>>2]^M,!((o&-2139062144^-2139062144)&o+-16843009|0);)if(o=I+4|0,r=f+-4|0,r>>>0>3)I=o,f=r;else{N=o,X=r,b=11;break t}V=I,Q=f}else N=d,X=m,b=11;while(0);if((b|0)==11)if(X)V=N,Q=X;else{D=N,L=0;break}for(;;){if((Z[V>>0]|0)==S<<24>>24){D=V,L=Q;break e}if(M=V+1|0,Q=Q+-1|0,Q)V=M;else{D=M,L=0;break}}}while(0);return(L|0?D:0)|0}function Rr(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0;o=r+4|0,a=e[o>>2]|0,f=e[r>>2]|0,h=f;do if((a|0)==(f|0)){if(c=r+8|0,g=e[c>>2]|0,d=r+12|0,m=e[d>>2]|0,b=m,g>>>0<m>>>0){m=g,v=((b-m>>2)+1|0)/2|0,x=g+(v<<2)|0,C=m-a|0,m=C>>2,S=x+(0-m<<2)|0,m?(W0(S|0,a|0,C|0)|0,M=S,I=e[c>>2]|0):(M=x,I=g),e[o>>2]=M,e[c>>2]=I+(v<<2),D=M;break}if(v=b-h>>1,b=(v|0)==0?1:v,b>>>0>1073741823&&(v=wn(8)|0,u0(v,14941),e[v>>2]=6944,yn(v|0,1080,114)),v=Dt(b<<2)|0,S=v,C=v+((b+3|0)>>>2<<2)|0,x=C,m=v+(b<<2)|0,(a|0)==(g|0))L=x,N=a;else{b=C,v=x,X=a;do e[b>>2]=e[X>>2],b=v+4|0,v=b,X=X+4|0;while((X|0)!=(g|0));L=v,N=e[r>>2]|0}e[r>>2]=S,e[o>>2]=x,e[c>>2]=L,e[d>>2]=m,N?(ve(N),D=e[o>>2]|0):D=C}else D=a;while(0);e[D+-4>>2]=e[n>>2],e[o>>2]=(e[o>>2]|0)+-4}function wr(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0;return o=q,q=q+16|0,a=o+4|0,f=o,h=o+8|0,c=r+4|0,(e[c>>2]|0)==-1?(g=0,q=o,g|0):(d=e[r+8>>2]|0,m=n+16|0,b=m,v=e[b>>2]|0,x=e[b+4>>2]|0,(x|0)>0|(x|0)==0&v>>>0>0?(M=x,I=v):(b=(e[r+12>>2]|0)-d|0,C=n+4|0,e[f>>2]=e[C>>2],e[a>>2]=e[f>>2],vr(n,a,d,d+b|0)|0,b=m,d=e[b>>2]|0,S=e[b+4>>2]|0,b=r+20|0,(S|0)>0|(S|0)==0&d>>>0>0?(M=S,I=d):(e[f>>2]=e[C>>2],e[a>>2]=e[f>>2],vr(n,a,b,b+4|0)|0,b=m,M=e[b+4>>2]|0,I=e[b>>2]|0)),Z[h>>0]=e[c>>2],(M|0)>0|(M|0)==0&I>>>0>0||(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+1|0)|0),g=1,q=o,g|0)}function Hr(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0;if(a=q,q=q+16|0,f=a+4|0,h=a,c=r+8|0,r=e[c>>2]|0,g=e[r+40>>2]|0,d=Fl((g|0)>-1?g:-1)|0,m=n+4|0,b=e[m>>2]|0,v=e[n>>2]|0,(b|0)==(v|0))return N0(d),q=a,1;for(x=o+16|0,C=o+4|0,S=d+g|0,g=0,M=v,v=r,I=r,r=b;b=e[M+(g<<2)>>2]|0,Z[v+84>>0]|0?D=b:D=e[(e[v+68>>2]|0)+(b<<2)>>2]|0,b=I+48|0,L=e[b>>2]|0,N=e[b+4>>2]|0,b=I+40|0,X=e[b>>2]|0,V=zi(X|0,e[b+4>>2]|0,D|0,0)|0,b=Wt(V|0,Xe|0,L|0,N|0)|0,Fr(d|0,(e[e[I>>2]>>2]|0)+b|0,X|0)|0,X=x,b=e[X+4>>2]|0,(b|0)>0|(b|0)==0&(e[X>>2]|0)>>>0>0?(Q=M,U=r):(e[h>>2]=e[C>>2],e[f>>2]=e[h>>2],vr(o,f,d,S)|0,Q=e[n>>2]|0,U=e[m>>2]|0),X=g+1|0,!(X>>>0>=U-Q>>2>>>0);)b=e[c>>2]|0,g=X,M=Q,v=b,I=b,r=U;return N0(d),q=a,1}function an(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0;if(a=(e[n>>2]|0)*3|0,(a|0)==-1)return f=0,h=-1,e[o>>2]=h,f|0;if(n=e[r+12>>2]|0,c=e[n+12>>2]|0,(e[c+(a<<2)>>2]|0)==-1)return f=0,h=a,e[o>>2]=h,f|0;if(g=e[n>>2]|0,n=e[r+152>>2]|0,(e[n+(e[g+(a<<2)>>2]<<2)>>2]|0)==-1){if(r=a+1|0,d=((r>>>0)%3|0|0)==0?a+-2|0:r,(d|0)==-1)return f=0,h=-1,e[o>>2]=h,f|0;if((e[c+(d<<2)>>2]|0)==-1)return f=0,h=d,e[o>>2]=h,f|0;if((e[n+(e[g+(d<<2)>>2]<<2)>>2]|0)==-1){if(r=d+1|0,m=((r>>>0)%3|0|0)==0?d+-2|0:r,(m|0)==-1)return f=0,h=-1,e[o>>2]=h,f|0;if((e[c+(m<<2)>>2]|0)==-1)return f=0,h=m,e[o>>2]=h,f|0;if((e[n+(e[g+(m<<2)>>2]<<2)>>2]|0)==-1)return g=m+1|0,f=1,h=((g>>>0)%3|0|0)==0?m+-2|0:g,e[o>>2]=h,f|0;b=m}else b=d}else b=a;for(;a=(((b>>>0)%3|0|0)==0?2:-1)+b|0,!((a|0)==-1||(d=e[c+(a<<2)>>2]|0,(d|0)==-1)||(a=d+(((d>>>0)%3|0|0)==0?2:-1)|0,(a|0)==-1));)b=a;return f=0,h=(((b>>>0)%3|0|0)==0?2:-1)+b|0,e[o>>2]=h,f|0}function Zr(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0;if(a=r+4|0,f=e[a>>2]|0,!f)return e[n>>2]=a,h=a,h|0;for(a=Z[o+11>>0]|0,c=a<<24>>24<0,g=c?e[o+4>>2]|0:a&255,a=c?e[o>>2]|0:o,o=r+4|0,r=f;;){if(f=r+16|0,c=Z[f+11>>0]|0,d=c<<24>>24<0,m=d?e[r+20>>2]|0:c&255,c=m>>>0<g>>>0,b=c?m:g,(b|0)!=0&&(v=As(a,d?e[f>>2]|0:f,b)|0,(v|0)!=0)?(v|0)<0?x=8:x=10:g>>>0<m>>>0?x=8:x=10,(x|0)==8)if(x=0,v=e[r>>2]|0,v)C=r,S=v;else{x=9;break}else if((x|0)==10){if(x=0,v=g>>>0<m>>>0?g:m,(v|0)!=0&&(m=As(d?e[f>>2]|0:f,a,v)|0,(m|0)!=0)){if((m|0)>=0){x=16;break}}else x=12;if((x|0)==12&&(x=0,!c)){x=16;break}if(M=r+4|0,c=e[M>>2]|0,c)C=M,S=c;else{x=15;break}}o=C,r=S}return(x|0)==9?(e[n>>2]=r,h=r,h|0):(x|0)==15?(e[n>>2]=r,h=M,h|0):(x|0)==16?(e[n>>2]=r,h=o,h|0):0}function Ln(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;if(a=q,q=q+32|0,f=a+24|0,h=a+16|0,c=a+8|0,g=a,d=r+4|0,m=e[d>>2]|0,b=e[n>>2]|0,v=e[n+4>>2]|0,n=e[o>>2]|0,x=e[o+4>>2]|0,o=n-b<<3,e[d>>2]=m-v+x+o,d=(e[r>>2]|0)+(m>>>5<<2)|0,r=m&31,m=d,(v|0)!=(r|0)){e[f>>2]=b,e[f+4>>2]=v,e[h>>2]=n,e[h+4>>2]=x,e[c>>2]=m,e[c+4>>2]=r,B2(g,f,h,c),q=a;return}c=x-v+o|0,o=b,(c|0)>0?(v?(b=32-v|0,x=(c|0)<(b|0)?c:b,h=-1>>>(b-x|0)&-1<<v,e[d>>2]=e[d>>2]&~h|e[o>>2]&h,h=x+v|0,b=o+4|0,C=c-x|0,S=d+(h>>>5<<2)|0,M=h&31,I=b,D=b):(C=c,S=d,M=0,I=b,D=o),b=(C|0)/32|0,W0(S|0,I|0,b<<2|0)|0,I=C-(b<<5)|0,C=S+(b<<2)|0,S=C,(I|0)>0?(h=-1>>>(32-I|0),e[C>>2]=e[C>>2]&~h|e[D+(b<<2)>>2]&h,L=I,N=S):(L=M,N=S)):(L=v,N=m),e[g>>2]=N,e[g+4>>2]=L,q=a}function G0(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0;f=q,q=q+16|0,h=f,c=n+4|0,e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=0,g=Dt(16)|0,e[h>>2]=g,e[h+8>>2]=-2147483632,e[h+4>>2]=15,d=g,m=12916,b=d+15|0;do Z[d>>0]=Z[m>>0]|0,d=d+1|0,m=m+1|0;while((d|0)<(b|0));switch(Z[g+15>>0]=0,g=go(c,h,-1)|0,(Z[h+11>>0]|0)<0&&ve(e[h>>2]|0),g|0){case-1:{(ol(c)|0)==10?v=6:v=5;break}case 1:{v=5;break}default:v=6}if((v|0)==5?(g=Dt(68)|0,PO(g),x=g):(v|0)==6&&(v=Dt(64)|0,rH(v),x=v),yO(x,o),Nu(r,x,c,a),e[r>>2]|0){C=e[x>>2]|0,S=C+4|0,M=e[S>>2]|0,Fn[M&127](x),q=f;return}a=r+4|0,(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0),e[n+40>>2]=e[x+52>>2],e[n+44>>2]=e[x+60>>2],e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,C=e[x>>2]|0,S=C+4|0,M=e[S>>2]|0,Fn[M&127](x),q=f}function Ws(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;o=r+8|0,a=e[o>>2]|0,f=r+12|0,h=e[f>>2]|0,c=h;do if((a|0)==(h|0)){if(g=r+4|0,d=e[g>>2]|0,m=e[r>>2]|0,b=m,d>>>0>m>>>0){v=d,x=((v-b>>2)+1|0)/-2|0,C=d+(x<<2)|0,S=a-v|0,v=S>>2,v?(W0(C|0,d|0,S|0)|0,M=e[g>>2]|0):M=d,S=C+(v<<2)|0,e[o>>2]=S,e[g>>2]=M+(x<<2),I=S;break}if(S=c-b>>1,b=(S|0)==0?1:S,b>>>0>1073741823&&(S=wn(8)|0,u0(S,14941),e[S>>2]=6944,yn(S|0,1080,114)),S=Dt(b<<2)|0,x=S,v=S+(b>>>2<<2)|0,C=v,D=S+(b<<2)|0,(d|0)==(a|0))L=C,N=m;else{m=v,v=C,b=d;do e[m>>2]=e[b>>2],m=v+4|0,v=m,b=b+4|0;while((b|0)!=(a|0));L=v,N=e[r>>2]|0}e[r>>2]=x,e[g>>2]=C,e[o>>2]=L,e[f>>2]=D,N?(ve(N),I=e[o>>2]|0):I=L}else I=a;while(0);e[I>>2]=e[n>>2],e[o>>2]=(e[o>>2]|0)+4}function cs(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0;if(n=q,q=q+16|0,o=n+4|0,a=n,f=r+8|0,h=r+12|0,c=e[h>>2]|0,al(e[r+4>>2]|0,(e[c+56>>2]|0)-(e[c+52>>2]|0)>>2),c=r+76|0,r=e[c>>2]|0,r){if(g=e[r>>2]|0,(e[r+4>>2]|0)==(g|0))return d=1,q=n,d|0;for(r=0,h=g;;){if(e[a>>2]=e[h+(r<<2)>>2],e[o>>2]=e[a>>2],r=r+1|0,!(X_(f,o)|0)){d=0,m=10;break}if(g=e[c>>2]|0,h=e[g>>2]|0,r>>>0>=(e[g+4>>2]|0)-h>>2>>>0){d=1,m=10;break}}if((m|0)==10)return q=n,d|0}else{if(g=e[(e[h>>2]|0)+64>>2]|0,h=(e[g+4>>2]|0)-(e[g>>2]|0)>>2,g=(h>>>0)/3|0,h>>>0<=2)return d=1,q=n,d|0;for(h=0;;){if(e[a>>2]=h*3,e[o>>2]=e[a>>2],h=h+1|0,!(X_(f,o)|0)){d=0,m=10;break}if((h|0)>=(g|0)){d=1,m=10;break}}if((m|0)==10)return q=n,d|0}return 0}function K0(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0;if(o=q,q=q+16|0,a=o+8|0,f=o+4|0,h=o,c=r+12|0,g=r+4|0,d=e[g>>2]|0,(d|0)==(e[r+8>>2]|0)?(pr(r,c),m=e[g>>2]|0):(e[d>>2]=e[c>>2],b=d+4|0,e[g>>2]=b,m=b),b=e[r>>2]|0,e[h>>2]=m-b,m=n+16|0,d=m,v=e[d+4>>2]|0,(v|0)>0|(v|0)==0&(e[d>>2]|0)>>>0>0?x=b:(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+4|0)|0,d=e[r>>2]|0,v=e[h>>2]|0,h=m,m=e[h+4>>2]|0,(m|0)>0|(m|0)==0&(e[h>>2]|0)>>>0>0?x=d:(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,d,d+v|0)|0,x=e[r>>2]|0)),f=e[g>>2]|0,(f|0)==(x|0)){e[c>>2]=0,C=r+16|0,e[C>>2]=0,q=o;return}e[g>>2]=f+(~((f+-4-x|0)>>>2)<<2),e[c>>2]=0,C=r+16|0,e[C>>2]=0,q=o}function Jo(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0;if(o=r+8|0,a=e[o>>2]|0,f=r+4|0,h=e[f>>2]|0,c=h,a-h>>2>>>0>=n>>>0){Mi(h|0,0,n<<2|0)|0,e[f>>2]=h+(n<<2);return}g=e[r>>2]|0,d=h-g>>2,h=d+n|0,m=g,h>>>0>1073741823&&Je(),b=a-g|0,a=b>>1,v=b>>2>>>0<536870911?a>>>0<h>>>0?h:a:1073741823;do if(v)if(v>>>0>1073741823)a=wn(8)|0,u0(a,14941),e[a>>2]=6944,yn(a|0,1080,114);else{x=Dt(v<<2)|0;break}else x=0;while(0);if(a=x+(d<<2)|0,Mi(a|0,0,n<<2|0)|0,n=a,d=x+(v<<2)|0,v=x+(h<<2)|0,(c|0)==(m|0))C=n,S=g,M=c;else{g=c,c=n,n=a;do g=g+-4|0,a=e[g>>2]|0,e[g>>2]=0,e[n+-4>>2]=a,n=c+-4|0,c=n;while((g|0)!=(m|0));C=c,S=e[r>>2]|0,M=e[f>>2]|0}if(e[r>>2]=C,e[f>>2]=v,e[o>>2]=d,d=S,(M|0)!=(d|0)){o=M;do o=o+-4|0,M=e[o>>2]|0,e[o>>2]=0,M|0&&Fn[e[(e[M>>2]|0)+4>>2]&127](M);while((o|0)!=(d|0))}!S||ve(S)}function Ss(r){r=r|0,Sn(r),Sn(r+32|0),Sn(r+64|0),Sn(r+96|0),Sn(r+128|0),Sn(r+160|0),Sn(r+192|0),Sn(r+224|0),Sn(r+256|0),Sn(r+288|0),Sn(r+320|0),Sn(r+352|0),Sn(r+384|0),Sn(r+416|0),Sn(r+448|0),Sn(r+480|0),Sn(r+512|0),Sn(r+544|0),Sn(r+576|0),Sn(r+608|0),Sn(r+640|0),Sn(r+672|0),Sn(r+704|0),Sn(r+736|0),Sn(r+768|0),Sn(r+800|0),Sn(r+832|0),Sn(r+864|0),Sn(r+896|0),Sn(r+928|0),Sn(r+960|0),Sn(r+992|0),Sn(r+1024|0)}function Do(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=qt(h);var c=0,g=0,d=0,m=0,b=0,v=0;c=q,q=q+16|0,g=c,d=c+4|0,e[g>>2]=n,n=r+4|0,r=Dt(32)|0,e[d>>2]=r,e[d+8>>2]=-2147483616,e[d+4>>2]=17,m=r,b=12932,v=m+17|0;do Z[m>>0]=Z[b>>0]|0,m=m+1|0,b=b+1|0;while((m|0)<(v|0));Z[r+17>>0]=0,V2(Xf(n,g)|0,d,o),(Z[d+11>>0]|0)<0&&ve(e[d>>2]|0),o=Dt(32)|0,e[d>>2]=o,e[d+8>>2]=-2147483616,e[d+4>>2]=19,m=o,b=13005,v=m+19|0;do Z[m>>0]=Z[b>>0]|0,m=m+1|0,b=b+1|0;while((m|0)<(v|0));Z[o+19>>0]=0,dP(Xf(n,g)|0,d,f,a),(Z[d+11>>0]|0)<0&&ve(e[d>>2]|0),a=Dt(32)|0,e[d>>2]=a,e[d+8>>2]=-2147483616,e[d+4>>2]=18,m=a,b=13025,v=m+18|0;do Z[m>>0]=Z[b>>0]|0,m=m+1|0,b=b+1|0;while((m|0)<(v|0));if(Z[a+18>>0]=0,IL(Xf(n,g)|0,d,h),(Z[d+11>>0]|0)>=0){q=c;return}ve(e[d>>2]|0),q=c}function $0(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0;if(a=o,f=n,h=a-f|0,c=h>>2,g=r+8|0,d=e[g>>2]|0,m=e[r>>2]|0,b=m,c>>>0<=d-m>>2>>>0)if(v=r+4|0,x=(e[v>>2]|0)-m>>2,C=c>>>0>x>>>0,S=C?n+(x<<2)|0:o,o=S,x=o-f|0,f=x>>2,f|0&&W0(m|0,n|0,x|0)|0,x=b+(f<<2)|0,C){if(C=a-o|0,(C|0)<=0)return;Fr(e[v>>2]|0,S|0,C|0)|0,e[v>>2]=(e[v>>2]|0)+(C>>>2<<2);return}else{if(C=e[v>>2]|0,(C|0)==(x|0))return;e[v>>2]=C+(~((C+-4-x|0)>>>2)<<2);return}x=m,m?(d=r+4|0,C=e[d>>2]|0,(C|0)!=(b|0)&&(e[d>>2]=C+(~((C+-4-m|0)>>>2)<<2)),ve(x),e[g>>2]=0,e[d>>2]=0,e[r>>2]=0,M=0):M=d,c>>>0>1073741823&&Je(),d=M>>1,x=M>>2>>>0<536870911?d>>>0<c>>>0?c:d:1073741823,x>>>0>1073741823&&Je(),d=Dt(x<<2)|0,c=r+4|0,e[c>>2]=d,e[r>>2]=d,e[g>>2]=d+(x<<2),!((h|0)<=0)&&(Fr(d|0,n|0,h|0)|0,e[c>>2]=d+(h>>>2<<2))}function Ps(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0;f=q,q=q+16|0,h=f,c=o+1|0,e[h>>2]=0,g=h+4|0,e[g>>2]=0,e[h+8>>2]=0;do if(c)if(c>>>0>1073741823)Je();else{d=Dt(c<<2)|0,e[h>>2]=d,m=d+(c<<2)|0,e[h+8>>2]=m,Mi(d|0,0,(o<<2)+4|0)|0,e[g>>2]=m,b=d,v=m,x=d;break}else b=0,v=0,x=0;while(0);if((n|0)>0){h=0;do d=b+(e[r+(h<<2)>>2]<<2)|0,e[d>>2]=(e[d>>2]|0)+1,h=h+1|0;while((h|0)!=(n|0))}if(C=+(n|0),(o|0)<0)S=0,M=0;else for(o=0,I=0,n=0;;)if(h=e[b+(n<<2)>>2]|0,D=+(h|0),(h|0)>0?(L=o+1|0,N=I+ +U0(D/C)*D):(L=o,N=I),n=n+1|0,(n|0)==(c|0)){S=L,M=N;break}else o=L,I=N;return a|0&&(e[a>>2]=S),N=-M,S=~~N>>>0,a=+f0(N)>=1?N>0?~~+i0(+bn(N/4294967296),4294967295)>>>0:~~+yr((N-+(~~N>>>0))/4294967296)>>>0:0,b?((v|0)!=(b|0)&&(e[g>>2]=v+(~((v+-4-b|0)>>>2)<<2)),ve(x),Xe=a,q=f,S|0):(Xe=a,q=f,S|0)}function Ls(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0;if(n=q,q=q+16|0,o=n+4|0,a=n,f=r+8|0,h=r+12|0,c=e[h>>2]|0,al(e[r+4>>2]|0,(e[c+28>>2]|0)-(e[c+24>>2]|0)>>2),c=r+76|0,r=e[c>>2]|0,r){if(g=e[r>>2]|0,(e[r+4>>2]|0)==(g|0))return d=1,q=n,d|0;for(r=0,h=g;;){if(e[a>>2]=e[h+(r<<2)>>2],e[o>>2]=e[a>>2],r=r+1|0,!(Z_(f,o)|0)){d=0,m=10;break}if(g=e[c>>2]|0,h=e[g>>2]|0,r>>>0>=(e[g+4>>2]|0)-h>>2>>>0){d=1,m=10;break}}if((m|0)==10)return q=n,d|0}else{if(g=e[h>>2]|0,h=(e[g+4>>2]|0)-(e[g>>2]|0)>>2,g=(h>>>0)/3|0,h>>>0<=2)return d=1,q=n,d|0;for(h=0;;){if(e[a>>2]=h*3,e[o>>2]=e[a>>2],h=h+1|0,!(Z_(f,o)|0)){d=0,m=10;break}if((h|0)>=(g|0)){d=1,m=10;break}}if((m|0)==10)return q=n,d|0}return 0}function ys(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;if(a=q,q=q+16|0,f=a+4|0,h=a,c=Dt(32)|0,e[r>>2]=c,e[r+4>>2]=n+4,n=r+8|0,Z[n>>0]=0,e[c+16>>2]=e[o>>2],r=c+20|0,e[c+24>>2]=0,e[c+28>>2]=0,g=c+24|0,e[r>>2]=g,c=e[o+4>>2]|0,d=o+8|0,(c|0)==(d|0)){Z[n>>0]=1,q=a;return}for(o=g,g=c;;){if(c=g+16|0,e[h>>2]=o,e[f>>2]=e[h>>2],y_(r,f,c,c)|0,c=e[g+4>>2]|0,c){for(b=c;x=e[b>>2]|0,x;)b=x;v=b}else if(m=g+8|0,b=e[m>>2]|0,(e[b>>2]|0)==(g|0))v=b;else{b=m;do m=e[b>>2]|0,b=m+8|0,x=e[b>>2]|0;while((e[x>>2]|0)!=(m|0));v=x}if((v|0)==(d|0))break;g=v}Z[n>>0]=1,q=a}function Po(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0;a=q,q=q+16|0,f=a,e[f>>2]=n,h=r+8|0,((e[r+12>>2]|0)-(e[h>>2]|0)>>2|0)<=(n|0)&&OD(h,n+1|0),c=e[(e[o>>2]|0)+56>>2]|0;do if((c|0)<5)if(g=r+20+(c*12|0)+4|0,d=e[g>>2]|0,(d|0)==(e[r+20+(c*12|0)+8>>2]|0)){pr(r+20+(c*12|0)|0,f);break}else{e[d>>2]=n,e[g>>2]=d+4;break}while(0);if(n=e[o>>2]|0,c=e[f>>2]|0,e[n+60>>2]=c,f=(e[h>>2]|0)+(c<<2)|0,e[o>>2]=0,o=e[f>>2]|0,e[f>>2]=n,!o){q=a;return}n=o+88|0,f=e[n>>2]|0,e[n>>2]=0,f|0&&(n=e[f+8>>2]|0,n|0&&(c=f+12|0,(e[c>>2]|0)!=(n|0)&&(e[c>>2]=n),ve(n)),ve(f)),f=e[o+68>>2]|0,f|0&&(n=o+72|0,c=e[n>>2]|0,(c|0)!=(f|0)&&(e[n>>2]=c+(~((c+-4-f|0)>>>2)<<2)),ve(f)),f=o+64|0,c=e[f>>2]|0,e[f>>2]=0,c|0&&(f=e[c>>2]|0,f|0&&(n=c+4|0,(e[n>>2]|0)!=(f|0)&&(e[n>>2]=f),ve(f)),ve(c)),ve(o),q=a}function Oc(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0;a=q,q=q+48|0,f=a+16|0,h=a,c=a+32|0,g=r+28|0,d=e[g>>2]|0,e[c>>2]=d,m=r+20|0,b=(e[m>>2]|0)-d|0,e[c+4>>2]=b,e[c+8>>2]=n,e[c+12>>2]=o,n=b+o|0,b=r+60|0,e[h>>2]=e[b>>2],e[h+4>>2]=c,e[h+8>>2]=2,d=Ky(Gb(146,h|0)|0)|0;e:do if((n|0)!=(d|0)){for(h=2,v=n,x=c,C=d;!((C|0)<0);)if(v=v-C|0,S=e[x+4>>2]|0,M=C>>>0>S>>>0,I=M?x+8|0:x,D=h+(M<<31>>31)|0,L=C-(M?S:0)|0,e[I>>2]=(e[I>>2]|0)+L,S=I+4|0,e[S>>2]=(e[S>>2]|0)-L,e[f>>2]=e[b>>2],e[f+4>>2]=I,e[f+8>>2]=D,C=Ky(Gb(146,f|0)|0)|0,(v|0)==(C|0)){N=3;break e}else h=D,x=I;e[r+16>>2]=0,e[g>>2]=0,e[m>>2]=0,e[r>>2]=e[r>>2]|32,(h|0)==2?X=0:X=o-(e[x+4>>2]|0)|0}else N=3;while(0);return(N|0)==3&&(N=e[r+44>>2]|0,e[r+16>>2]=N+(e[r+48>>2]|0),r=N,e[g>>2]=r,e[m>>2]=r,X=o),q=a,X|0}function va(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0;if(e[r>>2]=5880,n=e[r+68>>2]|0,n|0&&(o=r+72|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+56>>2]|0,n|0&&(a=r+60|0,o=e[a>>2]|0,(o|0)!=(n|0)&&(e[a>>2]=o+(~((o+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+44>>2]|0,n|0&&(o=r+48|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+32>>2]|0,n|0&&(a=r+36|0,o=e[a>>2]|0,(o|0)!=(n|0)&&(e[a>>2]=o+(~((o+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+20>>2]|0,n|0&&(o=r+24|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),C_(r+8|0),n=r+4|0,r=e[n>>2]|0,e[n>>2]=0,!!r){if(n=r+40|0,a=e[n>>2]|0,a|0){if(o=r+44|0,f=e[o>>2]|0,(f|0)==(a|0))h=a;else{c=f;do f=c+-4|0,e[o>>2]=f,g=e[f>>2]|0,e[f>>2]=0,g|0&&(Kf(g),ve(g)),c=e[o>>2]|0;while((c|0)!=(a|0));h=e[n>>2]|0}ve(h)}Kf(r),ve(r)}}function To(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0;if(n=r+12|0,o=e[r>>2]|0,a=r+8|0,f=e[a>>2]|0,h=(f|0)==-1,!(Z[n>>0]|0)){do if(!h&&(c=(((f>>>0)%3|0|0)==0?2:-1)+f|0,(c|0)!=-1)&&(e[(e[o>>2]|0)+(c>>>5<<2)>>2]&1<<(c&31)|0)==0&&(g=e[(e[(e[o+64>>2]|0)+12>>2]|0)+(c<<2)>>2]|0,(g|0)!=-1))if((g>>>0)%3|0){d=g+-1|0;break}else{d=g+2|0;break}else d=-1;while(0);e[a>>2]=d;return}if(d=f+1|0,!h&&(h=((d>>>0)%3|0|0)==0?f+-2|0:d,(h|0)!=-1)&&(e[(e[o>>2]|0)+(h>>>5<<2)>>2]&1<<(h&31)|0)==0&&(d=e[(e[(e[o+64>>2]|0)+12>>2]|0)+(h<<2)>>2]|0,h=d+1|0,(d|0)!=-1)){if(f=((h>>>0)%3|0|0)==0?d+-2|0:h,e[a>>2]=f,(f|0)!=-1){if((f|0)!=(e[r+4>>2]|0))return;e[a>>2]=-1;return}}else e[a>>2]=-1;f=e[r+4>>2]|0;do if((f|0)!=-1&&(r=(((f>>>0)%3|0|0)==0?2:-1)+f|0,(r|0)!=-1)&&(e[(e[o>>2]|0)+(r>>>5<<2)>>2]&1<<(r&31)|0)==0&&(h=e[(e[(e[o+64>>2]|0)+12>>2]|0)+(r<<2)>>2]|0,(h|0)!=-1))if((h>>>0)%3|0){m=h+-1|0;break}else{m=h+2|0;break}else m=-1;while(0);e[a>>2]=m,Z[n>>0]=0}function wa(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;o=r+4|0,a=e[r>>2]|0,f=(e[o>>2]|0)-a>>2,h=f+1|0,h>>>0>1073741823&&Je(),c=r+8|0,g=(e[c>>2]|0)-a|0,a=g>>1,d=g>>2>>>0<536870911?a>>>0<h>>>0?h:a:1073741823;do if(d)if(d>>>0>1073741823)a=wn(8)|0,u0(a,14941),e[a>>2]=6944,yn(a|0,1080,114);else{m=Dt(d<<2)|0;break}else m=0;while(0);if(a=m+(f<<2)|0,f=a,h=m+(d<<2)|0,d=e[n>>2]|0,e[n>>2]=0,e[a>>2]=d,d=a+4|0,n=e[r>>2]|0,m=e[o>>2]|0,(m|0)==(n|0))b=f,v=n,x=n;else{g=m,m=f,f=a;do g=g+-4|0,a=e[g>>2]|0,e[g>>2]=0,e[f+-4>>2]=a,f=m+-4|0,m=f;while((g|0)!=(n|0));b=m,v=e[r>>2]|0,x=e[o>>2]|0}if(e[r>>2]=b,e[o>>2]=d,e[c>>2]=h,h=v,(x|0)!=(h|0)){c=x;do c=c+-4|0,x=e[c>>2]|0,e[c>>2]=0,x|0&&Fn[e[(e[x>>2]|0)+4>>2]&127](x);while((c|0)!=(h|0))}!v||ve(v)}function X0(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0;o=r+4|0,r=e[o>>2]|0;do if(r|0){a=Z[n+11>>0]|0,f=a<<24>>24<0,h=f?e[n+4>>2]|0:a&255,a=f?e[n>>2]|0:n,f=o,c=r;e:for(;;){for(g=c;;){if(d=g+16|0,m=Z[d+11>>0]|0,b=m<<24>>24<0,v=b?e[g+20>>2]|0:m&255,m=h>>>0<v>>>0?h:v,(m|0)!=0&&(x=As(b?e[d>>2]|0:d,a,m)|0,(x|0)!=0)){if((x|0)>=0)break}else C=6;if((C|0)==6&&(C=0,v>>>0>=h>>>0))break;if(v=e[g+4>>2]|0,v)g=v;else{S=f;break e}}if(c=e[g>>2]|0,c)f=g;else{S=g;break}}if((S|0)!=(o|0)){if(f=S+16|0,c=Z[f+11>>0]|0,v=c<<24>>24<0,x=v?e[S+20>>2]|0:c&255,c=x>>>0<h>>>0?x:h,c|0&&(m=As(a,v?e[f>>2]|0:f,c)|0,m|0)){if((m|0)<0)break;return M=S,M|0}if(h>>>0>=x>>>0)return M=S,M|0}}while(0);return M=o,M|0}function H2(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0;if(a=r+8|0,f=e[a>>2]|0,h=r+4|0,c=e[h>>2]|0,((f-c|0)/12|0)>>>0>=n>>>0){g=n,d=c;do e[d>>2]=e[o>>2],e[d+4>>2]=e[o+4>>2],e[d+8>>2]=e[o+8>>2],d=(e[h>>2]|0)+12|0,e[h>>2]=d,g=g+-1|0;while((g|0)!=0);return}g=e[r>>2]|0,d=(c-g|0)/12|0,c=d+n|0,c>>>0>357913941&&Je(),m=(f-g|0)/12|0,g=m<<1,f=m>>>0<178956970?g>>>0<c>>>0?c:g:357913941;do if(f)if(f>>>0>357913941)g=wn(8)|0,u0(g,14941),e[g>>2]=6944,yn(g|0,1080,114);else{b=Dt(f*12|0)|0;break}else b=0;while(0);g=b+(d*12|0)|0,d=b+(f*12|0)|0,f=n,n=g,b=g;do e[n>>2]=e[o>>2],e[n+4>>2]=e[o+4>>2],e[n+8>>2]=e[o+8>>2],n=b+12|0,b=n,f=f+-1|0;while((f|0)!=0);f=e[r>>2]|0,n=(e[h>>2]|0)-f|0,o=g+(((n|0)/-12|0)*12|0)|0,(n|0)>0&&Fr(o|0,f|0,n|0)|0,e[r>>2]=o,e[h>>2]=b,e[a>>2]=d,f&&ve(f)}function ff(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;o=r+4|0,a=e[r>>2]|0,f=(e[o>>2]|0)-a>>2,h=f+1|0,h>>>0>1073741823&&Je(),c=r+8|0,g=(e[c>>2]|0)-a|0,a=g>>1,d=g>>2>>>0<536870911?a>>>0<h>>>0?h:a:1073741823;do if(d)if(d>>>0>1073741823)a=wn(8)|0,u0(a,14941),e[a>>2]=6944,yn(a|0,1080,114);else{m=Dt(d<<2)|0;break}else m=0;while(0);if(a=m+(f<<2)|0,f=a,h=m+(d<<2)|0,d=e[n>>2]|0,e[n>>2]=0,e[a>>2]=d,d=a+4|0,n=e[r>>2]|0,m=e[o>>2]|0,(m|0)==(n|0))b=f,v=n,x=n;else{g=m,m=f,f=a;do g=g+-4|0,a=e[g>>2]|0,e[g>>2]=0,e[f+-4>>2]=a,f=m+-4|0,m=f;while((g|0)!=(n|0));b=m,v=e[r>>2]|0,x=e[o>>2]|0}if(e[r>>2]=b,e[o>>2]=d,e[c>>2]=h,h=v,(x|0)!=(h|0)){c=x;do c=c+-4|0,x=e[c>>2]|0,e[c>>2]=0,x|0&&(Kf(x),ve(x));while((c|0)!=(h|0))}!v||ve(v)}function Tn(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;return f=e[n>>2]|0,h=e[r>>2]|0,c=e[a>>2]|0,a=e[c>>2]|0,g=(e[c+4>>2]|0)-a>>3,g>>>0<=f>>>0&&Je(),d=a,g>>>0<=h>>>0&&Je(),a=e[d+(f<<3)>>2]|0,m=e[o>>2]|0,g>>>0<=m>>>0&&Je(),b=d+(h<<3)|0,v=(e[d+(m<<3)>>2]|0)>>>0<a>>>0,a>>>0<(e[b>>2]|0)>>>0?v?(e[r>>2]=m,e[o>>2]=h,x=1,x|0):(e[r>>2]=f,e[n>>2]=h,a=e[o>>2]|0,g>>>0<=a>>>0&&Je(),(e[d+(a<<3)>>2]|0)>>>0>=(e[b>>2]|0)>>>0?(x=1,x|0):(e[n>>2]=a,e[o>>2]=h,x=2,x|0)):v?(e[n>>2]=m,e[o>>2]=f,f=e[n>>2]|0,o=e[r>>2]|0,g>>>0<=f>>>0&&Je(),g>>>0<=o>>>0&&Je(),(e[d+(f<<3)>>2]|0)>>>0>=(e[d+(o<<3)>>2]|0)>>>0?(x=1,x|0):(e[r>>2]=f,e[n>>2]=o,x=2,x|0)):(x=0,x|0)}function Yf(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0;f=q,q=q+96|0,h=f+40|0,c=f,Hk(h,o),P2(c,n,o),E_(h,c),hs(c+24|0,e[c+28>>2]|0),ju(c+12|0,e[c+16>>2]|0),hs(c,e[c+4>>2]|0),Q6(r,h,a),e[h>>2]=2968,hs(h+28|0,e[h+32>>2]|0),ju(h+16|0,e[h+20>>2]|0),hs(h+4|0,e[h+8>>2]|0),q=f}function Lo(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0;if(r=q,q=q+16|0,f=r,!n)return h=0,q=r,h|0;if(c=n+96|0,g=n+100|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,n=e[g>>2]|0,d=e[c>>2]|0,m=(n-d|0)/12|0,b=d,d=n,m>>>0>=o>>>0){if(m>>>0>o>>>0&&(n=b+(o*12|0)|0,(n|0)!=(d|0))&&(e[g>>2]=d+(~(((d+-12-n|0)>>>0)/12|0)*12|0)),!o)return h=1,q=r,h|0}else H2(c,o-m|0,f);for(m=0,n=e[c>>2]|0;;)if(d=m*3|0,b=e[a+(d<<2)>>2]|0,v=e[a+(d+1<<2)>>2]|0,x=e[a+(d+2<<2)>>2]|0,d=((e[g>>2]|0)-n|0)/12|0,C=m,m=m+1|0,C>>>0<d>>>0?(S=n,M=n):(e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,H2(c,m-d|0,f),d=e[c>>2]|0,S=d,M=d),e[S+(C*12|0)>>2]=b,e[S+(C*12|0)+4>>2]=v,e[S+(C*12|0)+8>>2]=x,(m|0)==(o|0)){h=1;break}else n=M;return q=r,h|0}function U0(r){r=+r;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0;L0[En>>3]=r,n=e[En>>2]|0,o=e[En+4>>2]|0,a=(o|0)<0;do if(a|o>>>0<1048576){if((n|0)==0&(o&2147483647|0)==0){f=-1/(r*r);break}if(a){f=(r-r)/0;break}else{L0[En>>3]=r*0x40000000000000,h=e[En+4>>2]|0,c=-1077,g=h,d=e[En>>2]|0,m=9;break}}else o>>>0<=2146435071?(n|0)==0&!0&(o|0)==1072693248?f=0:(c=-1023,g=o,d=n,m=9):f=r;while(0);return(m|0)==9&&(m=g+614242|0,e[En>>2]=d,e[En+4>>2]=(m&1048575)+1072079006,r=+L0[En>>3]+-1,b=r*r*.5,v=r/(r+2),x=v*v,C=x*x,L0[En>>3]=r-b,d=e[En+4>>2]|0,e[En>>2]=0,e[En+4>>2]=d,S=+L0[En>>3],M=r-S-b+v*(b+(C*(C*(C*.15313837699209373+.22222198432149784)+.3999999999940942)+x*(C*(C*(C*.14798198605116586+.1818357216161805)+.2857142874366239)+.6666666666666735))),C=S*1.4426950407214463,x=+(c+(m>>>20)|0),b=C+x,f=b+(C+(x-b)+(M*1.4426950407214463+(M+S)*16751713164886512e-26))),+f}function xm(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0;o=q,q=q+16|0,a=o,f=Dt(32)|0,e[a>>2]=f,e[a+8>>2]=-2147483616,e[a+4>>2]=17,h=f,c=12804,g=h+17|0;do Z[h>>0]=Z[c>>0]|0,h=h+1|0,c=c+1|0;while((h|0)<(g|0));if(Z[f+17>>0]=0,f=n+16|0,c=e[f>>2]|0,c){h=f,g=c;e:for(;;){for(c=g;!((e[c+16>>2]|0)>=(r|0));)if(d=e[c+4>>2]|0,d)c=d;else{m=h;break e}if(g=e[c>>2]|0,g)h=c;else{m=c;break}}(m|0)!=(f|0)&&(e[m+16>>2]|0)<=(r|0)&&(r=m+20|0,(mo(r,a)|0)!=0)?b=r:v=10}else v=10;return(v|0)==10&&(b=n),n=go(b,a,-1)|0,(Z[a+11>>0]|0)>=0?(x=(n|0)==-1,C=n>>>0>6,S=C?-2:n,M=x?-1:S,q=o,M|0):(ve(e[a>>2]|0),x=(n|0)==-1,C=n>>>0>6,S=C?-2:n,M=x?-1:S,q=o,M|0)}function ED(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0;if(a=q,q=q+16|0,f=a,h=e[o>>2]|0,e[o>>2]=0,e[f>>2]=h,Po(r,n,f),h=e[f>>2]|0,e[f>>2]=0,h|0&&(f=h+88|0,o=e[f>>2]|0,e[f>>2]=0,o|0&&(f=e[o+8>>2]|0,f|0&&(c=o+12|0,(e[c>>2]|0)!=(f|0)&&(e[c>>2]=f),ve(f)),ve(o)),o=e[h+68>>2]|0,o|0&&(f=h+72|0,c=e[f>>2]|0,(c|0)!=(o|0)&&(e[f>>2]=c+(~((c+-4-o|0)>>>2)<<2)),ve(o)),o=h+64|0,c=e[o>>2]|0,e[o>>2]=0,c|0&&(o=e[c>>2]|0,o|0&&(f=c+4|0,(e[f>>2]|0)!=(o|0)&&(e[f>>2]=o),ve(o)),ve(c)),ve(h)),h=r+84|0,c=r+88|0,r=e[c>>2]|0,o=e[h>>2]|0,f=r-o>>2,(f|0)>(n|0)){q=a;return}if(g=n+1|0,n=r,g>>>0>f>>>0){UD(h,g-f|0),q=a;return}if(g>>>0>=f>>>0){q=a;return}if(f=o+(g<<2)|0,(f|0)==(n|0)){q=a;return}e[c>>2]=n+(~((n+-4-f|0)>>>2)<<2),q=a}function _D(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0;o=q,q=q+16|0,a=o,f=r+4|0,e[f>>2]=n,e[r+8>>2]=e[n+56>>2],h=e[r+184>>2]|0,c=r+188|0,g=e[c>>2]|0,(g|0)!=(h|0)&&(e[c>>2]=g+(~((g+-4-h|0)>>>2)<<2)),h=e[n+48>>2]|0,n=Dt(32)|0,e[a>>2]=n,e[a+8>>2]=-2147483616,e[a+4>>2]=19,g=n,c=14285,d=g+19|0;do Z[g>>0]=Z[c>>0]|0,g=g+1|0,c=c+1|0;while((g|0)<(d|0));if(Z[n+19>>0]=0,n=(mo(h,a)|0)==0,(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0),h=e[(e[f>>2]|0)+48>>2]|0,n)return n=(ol(h)|0)>5&1,Z[r+352>>0]=n,q=o,1;n=Dt(32)|0,e[a>>2]=n,e[a+8>>2]=-2147483616,e[a+4>>2]=19,g=n,c=14285,d=g+19|0;do Z[g>>0]=Z[c>>0]|0,g=g+1|0,c=c+1|0;while((g|0)<(d|0));return Z[n+19>>0]=0,n=(j2(h,a,0)|0)&1,Z[r+352>>0]=n,(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0),q=o,1}function m_(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0;if(n=r+108|0,o=(e[r+112>>2]|0)-(e[n>>2]|0)|0,a=(o|0)/12|0,f=r+4|0,p0(a,e[(e[f>>2]|0)+44>>2]|0)|0,!o)return 1;for(o=0,r=0;h=e[n>>2]|0,c=h+(o*12|0)+4|0,p0((e[c>>2]|0)-r|0,e[(e[f>>2]|0)+44>>2]|0)|0,p0((e[c>>2]|0)-(e[h+(o*12|0)>>2]|0)|0,e[(e[f>>2]|0)+44>>2]|0)|0,o=o+1|0,!(o>>>0>=a>>>0);)r=e[c>>2]|0;z6(e[(e[f>>2]|0)+44>>2]|0,a,0,0)|0,r=0;do o=e[(e[f>>2]|0)+44>>2]|0,c=o+16|0,h=e[c+4>>2]|0,(h|0)>0|(h|0)==0&(e[c>>2]|0)>>>0>0&&(c=e[o+12>>2]|0,o=c+4|0,h=e[o>>2]|0,g=Z[(e[n>>2]|0)+(r*12|0)+8>>0]&1,d=h>>>3,m=h&7,h=(e[c>>2]|0)+d|0,Z[h>>0]=(1<<m^255)&(yi[h>>0]|0),h=(e[c>>2]|0)+d|0,Z[h>>0]=g<<m|(yi[h>>0]|0),e[o>>2]=(e[o>>2]|0)+1),r=r+1|0;while(r>>>0<a>>>0);return G(e[(e[f>>2]|0)+44>>2]|0),1}function kD(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0;o=q,q=q+16|0,a=o,f=r+4|0,e[f>>2]=n,e[r+8>>2]=e[n+56>>2],h=e[r+184>>2]|0,c=r+188|0,g=e[c>>2]|0,(g|0)!=(h|0)&&(e[c>>2]=g+(~((g+-4-h|0)>>>2)<<2)),h=e[n+48>>2]|0,n=Dt(32)|0,e[a>>2]=n,e[a+8>>2]=-2147483616,e[a+4>>2]=19,g=n,c=14285,d=g+19|0;do Z[g>>0]=Z[c>>0]|0,g=g+1|0,c=c+1|0;while((g|0)<(d|0));if(Z[n+19>>0]=0,n=(mo(h,a)|0)==0,(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0),h=e[(e[f>>2]|0)+48>>2]|0,n)return n=(ol(h)|0)>5&1,Z[r+288>>0]=n,q=o,1;n=Dt(32)|0,e[a>>2]=n,e[a+8>>2]=-2147483616,e[a+4>>2]=19,g=n,c=14285,d=g+19|0;do Z[g>>0]=Z[c>>0]|0,g=g+1|0,c=c+1|0;while((g|0)<(d|0));return Z[n+19>>0]=0,n=(j2(h,a,0)|0)&1,Z[r+288>>0]=n,(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0),q=o,1}function CD(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0;if(h=q,q=q+32|0,c=h+16|0,g=h+8|0,d=h,m=a-f|0,a=r+8|0,(m|0)>0){r=0-f|0,b=g+4|0,v=d+4|0,x=c+4|0,C=m;do m=n+(C<<2)|0,S=m+(r<<2)|0,M=o+(C<<2)|0,I=e[m+4>>2]|0,D=e[S>>2]|0,L=e[S+4>>2]|0,e[g>>2]=e[m>>2],e[b>>2]=I,e[d>>2]=D,e[v>>2]=L,Ds(c,a,g,d),e[M>>2]=e[c>>2],e[M+4>>2]=e[x>>2],C=C-f|0;while((C|0)>0)}return C=f>>>0>1073741823?-1:f<<2,f=Fl(C)|0,Mi(f|0,0,C|0)|0,C=e[n+4>>2]|0,x=e[f>>2]|0,v=e[f+4>>2]|0,e[g>>2]=e[n>>2],e[g+4>>2]=C,e[d>>2]=x,e[d+4>>2]=v,Ds(c,a,g,d),e[o>>2]=e[c>>2],e[o+4>>2]=e[c+4>>2],N0(f),q=h,1}function g_(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0;o=q,q=q+32|0,a=o+12|0,f=o,h=e[n+100>>2]|0,c=e[n+96>>2]|0,n=h-c|0,g=(n|0)/12|0,e[a>>2]=0,d=a+4|0,e[d>>2]=0,e[a+8>>2]=0,m=c;do if(n)if(g>>>0>357913941)Je();else{b=Dt(n)|0,e[a>>2]=b,e[a+8>>2]=b+(g*12|0),Mi(b|0,0,n|0)|0,e[d>>2]=b+n,v=b;break}else v=0;while(0);if(e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,(h|0)!=(c|0)){c=f+4|0,h=f+8|0,n=0;do b=m+(n*12|0)|0,e[f>>2]=e[b>>2],e[f+4>>2]=e[b+4>>2],e[f+8>>2]=e[b+8>>2],e[v+(n*12|0)>>2]=e[f>>2],e[v+(n*12|0)+4>>2]=e[c>>2],e[v+(n*12|0)+8>>2]=e[h>>2],n=n+1|0;while(n>>>0<g>>>0)}if(ak(r,a),r=e[a>>2]|0,!r){q=o;return}a=e[d>>2]|0,(a|0)!=(r|0)&&(e[d>>2]=a+(~(((a+-12-r|0)>>>0)/12|0)*12|0)),ve(r),q=o}function N6(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0;n>>>0>4294967279&&Je(),o=r+11|0,a=Z[o>>0]|0,f=a<<24>>24<0,f?(h=e[r+4>>2]|0,c=(e[r+8>>2]&2147483647)+-1|0):(h=a&255,c=10),g=h>>>0>n>>>0?h:n,n=g>>>0<11,d=n?10:(g+16&-16)+-1|0;do if((d|0)!=(c|0)){do if(n)g=e[r>>2]|0,f?(m=0,b=g,v=r,x=13):(eu(r,g,(a&255)+1|0)|0,ve(g),x=16);else if(g=d+1|0,C=Dt(g)|0,f){m=1,b=e[r>>2]|0,v=C,x=13;break}else{eu(C,r,(a&255)+1|0)|0,S=C,M=g,I=r+4|0,x=15;break}while(0);if((x|0)==13&&(g=r+4|0,eu(v,b,(e[g>>2]|0)+1|0)|0,ve(b),m?(S=v,M=d+1|0,I=g,x=15):x=16),(x|0)==15){e[r+8>>2]=M|-2147483648,e[I>>2]=h,e[r>>2]=S;break}else if((x|0)==16){Z[o>>0]=h;break}}while(0)}function SD(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0;if(o=e[n>>2]|0,(o|0)==-1)return a=-1,a|0;if(n=e[(e[r+24>>2]|0)+(o<<2)>>2]|0,(n|0)==-1)return a=0,a|0;o=r+12|0,r=0,f=0,h=n;e:for(;;){t:do if(f){if(c=r+1|0,g=(((h>>>0)%3|0|0)==0?2:-1)+h|0,(g|0)==-1){a=c,d=15;break e}if(m=e[(e[o>>2]|0)+(g<<2)>>2]|0,(m|0)==-1){a=c,d=15;break e}if((m>>>0)%3|0){b=m+-1|0,v=c;break}else{b=m+2|0,v=c;break}}else for(c=r,m=h;;){if(g=c+1|0,x=m+1|0,C=((x>>>0)%3|0|0)==0?m+-2|0:x,(C|0)==-1){b=n,v=g;break t}if(x=e[(e[o>>2]|0)+(C<<2)>>2]|0,C=x+1|0,(x|0)==-1){b=n,v=g;break t}if(m=((C>>>0)%3|0|0)==0?x+-2|0:C,(m|0)==-1){b=n,v=g;break t}if((m|0)==(n|0)){a=g,d=15;break e}else c=g}while(0);if((b|0)==-1){a=v,d=15;break}else r=v,f=1,h=b}return(d|0)==15?a|0:0}function No(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0;if(a=r+8|0,Tn(r,r+4|0,a,o)|0,f=r+12|0,(f|0)==(n|0))return;h=e[o>>2]|0,o=e[h>>2]|0,c=(e[h+4>>2]|0)-o>>3,g=o,o=f,f=a;e:for(;;){if(a=e[o>>2]|0,d=e[f>>2]|0,c>>>0<=a>>>0){m=5;break}if(c>>>0<=d>>>0){m=7;break}if(b=g+(a<<3)|0,(e[b>>2]|0)>>>0<(e[g+(d<<3)>>2]|0)>>>0){for(v=f,x=o,C=d;;){if(e[x>>2]=C,(v|0)==(r|0)){S=r;break}if(d=v+-4|0,C=e[d>>2]|0,c>>>0<=C>>>0){m=11;break e}if((e[b>>2]|0)>>>0>=(e[g+(C<<3)>>2]|0)>>>0){S=v;break}else M=v,v=d,x=M}e[S>>2]=a}if(x=o+4|0,(x|0)==(n|0)){m=3;break}else v=o,o=x,f=v}(m|0)!=3&&((m|0)==5||(m|0)==7||(m|0)==11)&&Je()}function ho(r,n,o,a,f){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0;var h=0,c=0,g=0,d=0,m=0,b=0,v=0;return h=Tn(r,n,o,f)|0,c=e[a>>2]|0,g=e[o>>2]|0,d=e[f>>2]|0,f=e[d>>2]|0,m=(e[d+4>>2]|0)-f>>3,m>>>0<=c>>>0&&Je(),b=f,m>>>0<=g>>>0&&Je(),(e[b+(c<<3)>>2]|0)>>>0>=(e[b+(g<<3)>>2]|0)>>>0?(v=h,v|0):(e[o>>2]=c,e[a>>2]=g,g=e[o>>2]|0,a=e[n>>2]|0,m>>>0<=g>>>0&&Je(),m>>>0<=a>>>0&&Je(),(e[b+(g<<3)>>2]|0)>>>0>=(e[b+(a<<3)>>2]|0)>>>0?(v=h+1|0,v|0):(e[n>>2]=g,e[o>>2]=a,a=e[n>>2]|0,o=e[r>>2]|0,m>>>0<=a>>>0&&Je(),m>>>0<=o>>>0&&Je(),(e[b+(a<<3)>>2]|0)>>>0>=(e[b+(o<<3)>>2]|0)>>>0?(v=h+2|0,v|0):(e[r>>2]=a,e[n>>2]=o,v=h+3|0,v|0)))}function Fr(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0;if((o|0)>=8192)return e6(r|0,n|0,o|0)|0;if(a=r|0,f=r+o|0,(r&3)==(n&3)){for(;r&3;){if(!o)return a|0;Z[r>>0]=Z[n>>0]|0,r=r+1|0,n=n+1|0,o=o-1|0}for(h=f&-4|0,o=h-64|0;(r|0)<=(o|0);)e[r>>2]=e[n>>2],e[r+4>>2]=e[n+4>>2],e[r+8>>2]=e[n+8>>2],e[r+12>>2]=e[n+12>>2],e[r+16>>2]=e[n+16>>2],e[r+20>>2]=e[n+20>>2],e[r+24>>2]=e[n+24>>2],e[r+28>>2]=e[n+28>>2],e[r+32>>2]=e[n+32>>2],e[r+36>>2]=e[n+36>>2],e[r+40>>2]=e[n+40>>2],e[r+44>>2]=e[n+44>>2],e[r+48>>2]=e[n+48>>2],e[r+52>>2]=e[n+52>>2],e[r+56>>2]=e[n+56>>2],e[r+60>>2]=e[n+60>>2],r=r+64|0,n=n+64|0;for(;(r|0)<(h|0);)e[r>>2]=e[n>>2],r=r+4|0,n=n+4|0}else for(h=f-4|0;(r|0)<(h|0);)Z[r>>0]=Z[n>>0]|0,Z[r+1>>0]=Z[n+1>>0]|0,Z[r+2>>0]=Z[n+2>>0]|0,Z[r+3>>0]=Z[n+3>>0]|0,r=r+4|0,n=n+4|0;for(;(r|0)<(f|0);)Z[r>>0]=Z[n>>0]|0,r=r+1|0,n=n+1|0;return a|0}function b_(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0;if(o=q,q=q+16|0,a=o+4|0,f=o,e[r>>2]=1216,h=r+4|0,e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=0,e[h+12>>2]=0,e[h+16>>2]=0,e[h+20>>2]=0,e[h+24>>2]=0,e[h+28>>2]=0,e[a>>2]=n,n=r+4|0,h=r+8|0,pr(n,a),c=e[a>>2]|0,g=r+20|0,d=e[g>>2]|0,m=r+16|0,r=e[m>>2]|0,b=d-r>>2,v=r,(c|0)<(b|0)){x=v,C=c,S=e[h>>2]|0,M=e[n>>2]|0,I=S-M|0,D=I>>2,L=D+-1|0,N=x+(C<<2)|0,e[N>>2]=L,q=o;return}r=c+1|0,e[f>>2]=-1,X=d,r>>>0<=b>>>0?r>>>0<b>>>0&&(d=v+(r<<2)|0,(d|0)!=(X|0))?(e[g>>2]=X+(~((X+-4-d|0)>>>2)<<2),V=c,Q=v):(V=c,Q=v):(z0(m,r-b|0,f),V=e[a>>2]|0,Q=e[m>>2]|0),x=Q,C=V,S=e[h>>2]|0,M=e[n>>2]|0,I=S-M|0,D=I>>2,L=D+-1|0,N=x+(C<<2)|0,e[N>>2]=L,q=o}function TD(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0;n=r+4|0,o=e[n>>2]|0,a=(e[o+12>>2]|0)-(e[o+8>>2]|0)|0,o=a>>2;e:do if((a|0)>0){for(f=0;;){if(!(M0[e[(e[r>>2]|0)+36>>2]&127](r,f)|0)){h=0;break}if(f=f+1|0,c=e[n>>2]|0,g=(e[c+12>>2]|0)-(e[c+8>>2]|0)>>2,(f|0)>=(g|0)){d=g;break e}}return h|0}else d=o;while(0);if(o=r+20|0,n=r+24|0,a=e[n>>2]|0,f=e[o>>2]|0,g=a-f>>2,c=f,f=a,d>>>0<=g>>>0?d>>>0<g>>>0&&(a=c+(d<<2)|0,(a|0)!=(f|0))&&(e[n>>2]=f+(~((f+-4-a|0)>>>2)<<2)):q0(o,d-g|0),g=e[r+12>>2]|0,d=e[r+8>>2]|0,r=d,(g|0)==(d|0))return h=1,h|0;a=g-d>>2,d=0;do{if(g=e[r+(d<<2)>>2]|0,f=e[g+8>>2]|0,n=e[g+4>>2]|0,g=n,(f|0)!=(n|0)&&(c=e[o>>2]|0,m=f-n>>2,e[c+(e[g>>2]<<2)>>2]=d,m>>>0>1)){n=1;do e[c+(e[g+(n<<2)>>2]<<2)>>2]=d,n=n+1|0;while(n>>>0<m>>>0)}d=d+1|0}while(d>>>0<a>>>0);return h=1,h|0}function MD(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0;if(o=e[n+88>>2]|0,!o||(e[o>>2]|0)!=1)return a=0,a|0;if(f=o+8|0,o=e[f>>2]|0,e[r+4>>2]=yi[o>>0]|yi[o+1>>0]<<8|yi[o+2>>0]<<16|yi[o+3>>0]<<24,h=r+8|0,c=n+24|0,n=Z[c>>0]|0,g=n<<24>>24,d=r+12|0,m=e[d>>2]|0,b=e[h>>2]|0,v=m-b>>2,x=b,b=m,v>>>0>=g>>>0?v>>>0>g>>>0&&(m=x+(g<<2)|0,(m|0)!=(b|0))?(e[d>>2]=b+(~((b+-4-m|0)>>>2)<<2),C=n,S=o):(C=n,S=o):(q0(h,g-v|0),C=Z[c>>0]|0,S=e[f>>2]|0),f=S+4|0,c=yi[f>>0]|yi[f+1>>0]<<8|yi[f+2>>0]<<16|yi[f+3>>0]<<24,C<<24>>24>0)for(f=e[h>>2]|0,h=C<<24>>24,C=c,v=4,g=0;;)if(e[f+(g<<2)>>2]=C,v=v+4|0,g=g+1|0,o=S+v|0,n=yi[o>>0]|yi[o+1>>0]<<8|yi[o+2>>0]<<16|yi[o+3>>0]<<24,(g|0)>=(h|0)){M=n;break}else C=n;else M=c;return e[r+20>>2]=M,a=1,a|0}function RD(r,n,o,a,f){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0;var h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;do if(tu(r,e[n+8>>2]|0)|0)jk(0,n,o,a);else{if(!(tu(r,e[n>>2]|0)|0)){h=e[r+8>>2]|0,Ox[e[(e[h>>2]|0)+24>>2]&3](h,n,o,a,f);break}if((e[n+16>>2]|0)!=(o|0)&&(h=n+20|0,(e[h>>2]|0)!=(o|0))){if(e[n+32>>2]=a,c=n+44|0,(e[c>>2]|0)==4)break;g=n+52|0,Z[g>>0]=0,d=n+53|0,Z[d>>0]=0,m=e[r+8>>2]|0,sA[e[(e[m>>2]|0)+20>>2]&3](m,n,o,o,1,f),Z[d>>0]|0?Z[g>>0]|0?x=3:(b=3,v=11):(b=4,v=11),(v|0)==11&&(e[h>>2]=o,h=n+40|0,e[h>>2]=(e[h>>2]|0)+1,(e[n+36>>2]|0)==1&&(e[n+24>>2]|0)==2&&(Z[n+54>>0]=1),x=b),e[c>>2]=x;break}(a|0)==1&&(e[n+32>>2]=1)}while(0)}function y_(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0;return f=q,q=q+16|0,h=f+12|0,c=f+8|0,g=f,e[g>>2]=e[n>>2],e[h>>2]=e[g>>2],g=sy(r,h,c,f+4|0,o)|0,o=e[g>>2]|0,o|0?(d=o,q=f,d|0):(o=Dt(40)|0,T0(o+16|0,a),T0(o+28|0,a+12|0),a=e[c>>2]|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=a,e[g>>2]=o,a=e[e[r>>2]>>2]|0,a?(e[r>>2]=a,m=e[g>>2]|0):m=o,af(e[r+4>>2]|0,m),m=r+8|0,e[m>>2]=(e[m>>2]|0)+1,d=o,q=f,d|0)}function po(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;if(a=q,q=q+16|0,f=a,h=r+4|0,e[h>>2]=0,!n){q=a;return}if(c=r+8|0,g=e[c>>2]|0,d=g<<5,d>>>0<n>>>0?(e[f>>2]=0,m=f+4|0,e[m>>2]=0,b=f+8|0,e[b>>2]=0,(n|0)<0&&Je(),v=g<<6,g=n+31&-32,la(f,d>>>0<1073741823?v>>>0<g>>>0?g:v:2147483647),v=e[r>>2]|0,e[r>>2]=e[f>>2],e[f>>2]=v,f=e[h>>2]|0,e[h>>2]=n,e[m>>2]=f,f=e[c>>2]|0,e[c>>2]=e[b>>2],e[b>>2]=f,v|0&&ve(v),x=r):(e[h>>2]=n,x=r),r=e[x>>2]|0,x=r,h=r,r=n>>>5,v=r<<2,Z[o>>0]|0){if(Mi(h|0,-1,v|0)|0,v=n&31,n=x+(r<<2)|0,!v){q=a;return}e[n>>2]=e[n>>2]|-1>>>(32-v|0),q=a;return}else{if(Mi(h|0,0,v|0)|0,o=n&31,f=x+(r<<2)|0,!o){q=a;return}e[f>>2]=e[f>>2]&~(-1>>>(32-o|0)),q=a;return}}function A_(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;return o=q,q=q+16|0,a=o+8|0,f=o+4|0,h=o,e[h>>2]=e[r+12>>2],c=n+16|0,g=c,d=e[g>>2]|0,m=e[g+4>>2]|0,(m|0)>0|(m|0)==0&d>>>0>0?(b=m,v=d):(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+4|0)|0,d=c,b=e[d+4>>2]|0,v=e[d>>2]|0),e[h>>2]=e[r+20>>2],(b|0)>0|(b|0)==0&v>>>0>0?(x=r+88|0,pn(x,n),q=o,1):(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+4|0)|0,x=r+88|0,pn(x,n),q=o,1)}function v_(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;return o=q,q=q+16|0,a=o+8|0,f=o+4|0,h=o,e[h>>2]=e[r+12>>2],c=n+16|0,g=c,d=e[g>>2]|0,m=e[g+4>>2]|0,(m|0)>0|(m|0)==0&d>>>0>0?(b=m,v=d):(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+4|0)|0,d=c,b=e[d+4>>2]|0,v=e[d>>2]|0),e[h>>2]=e[r+16>>2],(b|0)>0|(b|0)==0&v>>>0>0?(x=r+108|0,pn(x,n),q=o,1):(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+4|0)|0,x=r+108|0,pn(x,n),q=o,1)}function BD(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0;if(n=r+32|0,o=e[r+64>>2]|0,a=(kn[e[(e[o>>2]|0)+40>>2]&127](o)|0)+56|0,o=e[a>>2]|0,z6(n,(((e[o+100>>2]|0)-(e[o+96>>2]|0)|0)/12|0)*3|0,0,1)|0,o=r+68|0,a=e[o>>2]|0,f=(e[r+72>>2]|0)-a|0,(f|0)<=0){G(n);return}for(h=r+48|0,c=r+44|0,r=(f>>>2)+-1|0,f=a;;){if(a=e[f+(r<<2)>>2]|0,g=e[3124+(a<<2)>>2]|0,d=h,m=e[d+4>>2]|0,(m|0)>0|(m|0)==0&(e[d>>2]|0)>>>0>0&&(d=e[c>>2]|0,171>>>a&1|0)){m=d+4|0,b=0,v=e[m>>2]|0;do x=v>>>3,C=v&7,S=(e[d>>2]|0)+x|0,Z[S>>0]=(1<<C^255)&(yi[S>>0]|0),S=(e[d>>2]|0)+x|0,Z[S>>0]=(a>>>b&1)<<C|(yi[S>>0]|0),v=(e[m>>2]|0)+1|0,e[m>>2]=v,b=b+1|0;while((b|0)!=(g|0))}if(g=r+-1|0,(g|0)<=-1)break;r=g,f=e[o>>2]|0}G(n)}function ID(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0;if(f=q,q=q+48|0,h=f,c=f+32|0,!n)return g=0,q=f,g|0;fl(h);do if((Gy(n,0)|0)!=-1){if(o){if(!(kn[e[(e[n>>2]|0)+16>>2]&127](n)|0)){d=0;break}Fn[e[(e[n>>2]|0)+20>>2]&127](n)}Yf(c,r,n,h),m=(e[c>>2]|0)==0,b=c+4|0,(Z[b+11>>0]|0)<0&&ve(e[b>>2]|0),m?(m=e[h>>2]|0,b=h+4|0,Zi(a,m,m+((e[b>>2]|0)-m)|0),d=(e[b>>2]|0)-(e[h>>2]|0)|0):d=0}else d=0;while(0);return a=h+12|0,c=e[a>>2]|0,e[a>>2]=0,c|0&&ve(c),c=e[h>>2]|0,c|0&&(a=h+4|0,(e[a>>2]|0)!=(c|0)&&(e[a>>2]=c),ve(c)),g=d,q=f,g|0}function DD(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0;return o=q,q=q+16|0,a=o,f=e[(e[r>>2]|0)+8>>2]|0,h=r+8|0,c=r+12|0,g=(e[c>>2]|0)-(e[h>>2]|0)>>2,d=e[n>>2]|0,e[n>>2]=0,e[a>>2]=d,Im[f&15](r,g,a),g=e[a>>2]|0,e[a>>2]=0,g?(a=g+88|0,r=e[a>>2]|0,e[a>>2]=0,r|0&&(a=e[r+8>>2]|0,a|0&&(f=r+12|0,(e[f>>2]|0)!=(a|0)&&(e[f>>2]=a),ve(a)),ve(r)),r=e[g+68>>2]|0,r|0&&(a=g+72|0,f=e[a>>2]|0,(f|0)!=(r|0)&&(e[a>>2]=f+(~((f+-4-r|0)>>>2)<<2)),ve(r)),r=g+64|0,f=e[r>>2]|0,e[r>>2]=0,f|0&&(r=e[f>>2]|0,r|0&&(a=f+4|0,(e[a>>2]|0)!=(r|0)&&(e[a>>2]=r),ve(r)),ve(f)),ve(g),m=e[c>>2]|0,b=e[h>>2]|0,v=m-b|0,x=v>>2,C=x+-1|0,q=o,C|0):(m=e[c>>2]|0,b=e[h>>2]|0,v=m-b|0,x=v>>2,C=x+-1|0,q=o,C|0)}function PD(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0;if(Z[r+352>>0]|0||(n=r+8|0,o=e[n>>2]|0,a=(e[o+12>>2]|0)-(e[o+8>>2]|0)|0,o=a>>2,f=r+172|0,R_(f,o+-1|0),!((o|0)!=1&(a|0)>0)))return 1;for(a=r+12|0,r=0,h=0;c=e[(e[(e[n>>2]|0)+8>>2]|0)+(r<<2)>>2]|0,e[c+56>>2]|0?(d=e[f>>2]|0,e[d+(h*136|0)>>2]=r,m=e[d+(h*136|0)+104>>2]|0,b=d+(h*136|0)+108|0,v=e[b>>2]|0,(v|0)!=(m|0)&&(e[b>>2]=v+(~((v+-4-m|0)>>>2)<<2)),m=e[a>>2]|0,al(d+(h*136|0)+104|0,(e[m+4>>2]|0)-(e[m>>2]|0)>>2),m=e[f>>2]|0,e[m+(h*136|0)+128>>2]=0,Q1(m+(h*136|0)+4|0,e[n>>2]|0,e[a>>2]|0,c)|0,g=h+1|0):g=h,r=r+1|0,!((r|0)>=(o|0));)h=g;return 1}function LD(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0;if(Z[r+288>>0]|0||(n=r+8|0,o=e[n>>2]|0,a=(e[o+12>>2]|0)-(e[o+8>>2]|0)|0,o=a>>2,f=r+172|0,R_(f,o+-1|0),!((o|0)!=1&(a|0)>0)))return 1;for(a=r+12|0,r=0,h=0;c=e[(e[(e[n>>2]|0)+8>>2]|0)+(r<<2)>>2]|0,e[c+56>>2]|0?(d=e[f>>2]|0,e[d+(h*136|0)>>2]=r,m=e[d+(h*136|0)+104>>2]|0,b=d+(h*136|0)+108|0,v=e[b>>2]|0,(v|0)!=(m|0)&&(e[b>>2]=v+(~((v+-4-m|0)>>>2)<<2)),m=e[a>>2]|0,al(d+(h*136|0)+104|0,(e[m+4>>2]|0)-(e[m>>2]|0)>>2),m=e[f>>2]|0,e[m+(h*136|0)+128>>2]=0,Q1(m+(h*136|0)+4|0,e[n>>2]|0,e[a>>2]|0,c)|0,g=h+1|0):g=h,r=r+1|0,!((r|0)>=(o|0));)h=g;return 1}function Fo(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0;if(o=r+8|0,a=e[o>>2]|0,f=r+4|0,h=e[f>>2]|0,a-h>>3>>>0>=n>>>0){c=n,g=h;do d=g,e[d>>2]=0,e[d+4>>2]=0,g=(e[f>>2]|0)+8|0,e[f>>2]=g,c=c+-1|0;while((c|0)!=0);return}c=e[r>>2]|0,g=h-c>>3,h=g+n|0,h>>>0>536870911&&Je(),d=a-c|0,c=d>>2,a=d>>3>>>0<268435455?c>>>0<h>>>0?h:c:536870911;do if(a)if(a>>>0>536870911)c=wn(8)|0,u0(c,14941),e[c>>2]=6944,yn(c|0,1080,114);else{m=Dt(a<<3)|0;break}else m=0;while(0);c=m+(g<<3)|0,g=m+(a<<3)|0,a=n,n=c,m=c;do h=n,e[h>>2]=0,e[h+4>>2]=0,n=m+8|0,m=n,a=a+-1|0;while((a|0)!=0);a=e[r>>2]|0,n=(e[f>>2]|0)-a|0,h=c+(0-(n>>3)<<3)|0,(n|0)>0&&Fr(h|0,a|0,n|0)|0,e[r>>2]=h,e[f>>2]=m,e[o>>2]=g,a&&ve(a)}function Vu(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0;a=q,q=q+16|0,f=a+4|0,h=a,c=a+8|0,g=r&255,Z[c>>0]=g&127;do if(n>>>0>0|(n|0)==0&r>>>0>127)if(Z[c>>0]=g|-128,d=o+16|0,m=e[d+4>>2]|0,(m|0)>0|(m|0)==0&(e[d>>2]|0)>>>0>0){b=0;break}else{e[h>>2]=e[o+4>>2],e[f>>2]=e[h>>2],vr(o,f,c,c+1|0)|0,d=r0(r|0,n|0,7)|0,b=Vu(d,Xe,o)|0;break}else{if(d=o+16|0,m=e[d+4>>2]|0,(m|0)>0|(m|0)==0&(e[d>>2]|0)>>>0>0){b=0;break}return e[h>>2]=e[o+4>>2],e[f>>2]=e[h>>2],vr(o,f,c,c+1|0)|0,v=1,q=a,v|0}while(0);return v=b,q=a,v|0}function ND(r,n){r=r|0,n=n|0;var o=0;if(o=r+8|0,ld(o,n)|0,(o|0)==(n|0)){e[r+92>>2]=e[n+84>>2];return}else{Zt(r+56|0,e[n+48>>2]|0,e[n+52>>2]|0),Zt(r+68|0,e[n+60>>2]|0,e[n+64>>2]|0),Zt(r+80|0,e[n+72>>2]|0,e[n+76>>2]|0),e[r+92>>2]=e[n+84>>2],$0(r+96|0,e[n+88>>2]|0,e[n+92>>2]|0);return}}function FD(r,n,o,a,f){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0;var h=0,c=0,g=0;if(h=e[(e[(e[a+4>>2]|0)+8>>2]|0)+(o<<2)>>2]|0,(n|0)==-1?c=P_(o,a)|0:c=n,(c|0)==-2)g=0;else{do if((kn[e[(e[a>>2]|0)+8>>2]&127](a)|0)==1){if(D6(r,a,c,o,f,514),e[r>>2]|0)return;e[r>>2]=0;break}while(0);o=Dt(44)|0,e[o>>2]=1528,e[o+4>>2]=h,h=o+8|0,e[h>>2]=e[f>>2],e[h+4>>2]=e[f+4>>2],e[h+8>>2]=e[f+8>>2],e[h+12>>2]=e[f+12>>2],e[h+16>>2]=e[f+16>>2],e[h+20>>2]=e[f+20>>2],cf(o+32|0,f+24|0),e[o>>2]=1584,g=o}e[r>>2]=g}function w_(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0;a=q,q=q+224|0,f=a+120|0,h=a+80|0,c=a,g=a+136|0,d=h,m=d+40|0;do e[d>>2]=0,d=d+4|0;while((d|0)<(m|0));return e[f>>2]=e[o>>2],(Z6(0,n,f,c,h)|0)<0?b=-1:((e[r+76>>2]|0)>-1,o=e[r>>2]|0,d=o&32,(Z[r+74>>0]|0)<1&&(e[r>>2]=o&-33),o=r+48|0,e[o>>2]|0?M=Z6(r,n,f,c,h)|0:(m=r+44|0,v=e[m>>2]|0,e[m>>2]=g,x=r+28|0,e[x>>2]=g,C=r+20|0,e[C>>2]=g,e[o>>2]=80,S=r+16|0,e[S>>2]=g+80,g=Z6(r,n,f,c,h)|0,v?(Xo[e[r+36>>2]&31](r,0,0)|0,I=(e[C>>2]|0)==0?-1:g,e[m>>2]=v,e[o>>2]=0,e[S>>2]=0,e[x>>2]=0,e[C>>2]=0,M=I):M=g),h=e[r>>2]|0,e[r>>2]=h|d,b=(h&32|0)==0?M:-1),q=a,b|0}function F6(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0;return a=q,q=q+16|0,f=a,Xk(r,n,o)|0,(kn[e[(e[r>>2]|0)+32>>2]&127](r)|0)<<24>>24==1&&((e[(e[r+8>>2]|0)+28>>2]|0)+-1|0)>>>0>=6?(h=0,q=a,h|0):(c=xm(o,e[n+48>>2]|0)|0,Im[e[(e[r>>2]|0)+48>>2]&15](f,r,c),c=r+36|0,n=e[f>>2]|0,e[f>>2]=0,o=e[c>>2]|0,e[c>>2]=n,o?(Fn[e[(e[o>>2]|0)+4>>2]&127](o),o=e[f>>2]|0,e[f>>2]=0,o|0&&Fn[e[(e[o>>2]|0)+4>>2]&127](o),g=e[c>>2]|0):(e[f>>2]=0,g=n),!g||M0[e[(e[r>>2]|0)+36>>2]&127](r,g)|0||(g=e[c>>2]|0,e[c>>2]=0,!g)?(h=1,q=a,h|0):(Fn[e[(e[g>>2]|0)+4>>2]&127](g),h=1,q=a,h|0))}function OD(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0;if(o=r+4|0,a=e[o>>2]|0,f=e[r>>2]|0,h=a-f>>2,c=a,h>>>0<n>>>0){O2(r,n-h|0);return}if(!(h>>>0<=n>>>0)&&(h=f+(n<<2)|0,(h|0)!=(c|0))){g=c;do c=g+-4|0,e[o>>2]=c,n=e[c>>2]|0,e[c>>2]=0,n|0&&(c=n+88|0,f=e[c>>2]|0,e[c>>2]=0,f|0&&(c=e[f+8>>2]|0,c|0&&(r=f+12|0,(e[r>>2]|0)!=(c|0)&&(e[r>>2]=c),ve(c)),ve(f)),f=e[n+68>>2]|0,f|0&&(c=n+72|0,r=e[c>>2]|0,(r|0)!=(f|0)&&(e[c>>2]=r+(~((r+-4-f|0)>>>2)<<2)),ve(f)),f=n+64|0,r=e[f>>2]|0,e[f>>2]=0,r|0&&(f=e[r>>2]|0,f|0&&(c=r+4|0,(e[c>>2]|0)!=(f|0)&&(e[c>>2]=f),ve(f)),ve(r)),ve(n)),g=e[o>>2]|0;while((g|0)!=(h|0))}}function z0(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0;if(a=r+8|0,f=e[a>>2]|0,h=r+4|0,c=e[h>>2]|0,g=c,f-c>>2>>>0>=n>>>0){for(d=n,m=g;e[m>>2]=e[o>>2],d=d+-1|0,d;)m=m+4|0;e[h>>2]=g+(n<<2);return}g=e[r>>2]|0,m=c-g|0,c=m>>2,d=c+n|0,d>>>0>1073741823&&Je(),b=f-g|0,f=b>>1,v=b>>2>>>0<536870911?f>>>0<d>>>0?d:f:1073741823;do if(v)if(v>>>0>1073741823)f=wn(8)|0,u0(f,14941),e[f>>2]=6944,yn(f|0,1080,114);else{f=Dt(v<<2)|0,x=f,C=f;break}else x=0,C=0;while(0);for(f=x+(c<<2)|0,c=x+(v<<2)|0,v=n,d=f;e[d>>2]=e[o>>2],v=v+-1|0,v;)d=d+4|0;(m|0)>0&&Fr(C|0,g|0,m|0)|0,e[r>>2]=x,e[h>>2]=f+(n<<2),e[a>>2]=c,g&&ve(g)}function HD(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0;a=(e[r>>2]|0)+1794895138|0,f=md(e[r+8>>2]|0,a)|0,h=md(e[r+12>>2]|0,a)|0,c=md(e[r+16>>2]|0,a)|0;e:do if(f>>>0<n>>>2>>>0&&(g=n-(f<<2)|0,h>>>0<g>>>0&c>>>0<g>>>0)&&((c|h)&3|0)==0){for(g=h>>>2,d=c>>>2,m=0,b=f;;){if(v=b>>>1,x=m+v|0,C=x<<1,S=C+g|0,M=md(e[r+(S<<2)>>2]|0,a)|0,I=md(e[r+(S+1<<2)>>2]|0,a)|0,!(I>>>0<n>>>0&M>>>0<(n-I|0)>>>0)){D=0;break e}if(Z[r+(I+M)>>0]|0){D=0;break e}if(M=vN(o,r+I|0)|0,!M)break;if(I=(M|0)<0,(b|0)==1){D=0;break e}else m=I?m:x,b=I?v:b-v|0}b=C+d|0,m=md(e[r+(b<<2)>>2]|0,a)|0,g=md(e[r+(b+1<<2)>>2]|0,a)|0,g>>>0<n>>>0&m>>>0<(n-g|0)>>>0?D=(Z[r+(g+m)>>0]|0)==0?r+g|0:0:D=0}else D=0;while(0);return D|0}function O6(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0;f=q,q=q+64|0,h=f,c=e[r>>2]|0,g=r+(e[c+-8>>2]|0)|0,d=e[c+-4>>2]|0,e[h>>2]=o,e[h+4>>2]=r,e[h+8>>2]=n,e[h+12>>2]=a,a=h+16|0,n=h+20|0,r=h+24|0,c=h+28|0,m=h+32|0,b=h+40|0,v=a,x=v+36|0;do e[v>>2]=0,v=v+4|0;while((v|0)<(x|0));Oi[a+36>>1]=0,Z[a+38>>0]=0;e:do if(tu(d,o)|0)e[h+48>>2]=1,sA[e[(e[d>>2]|0)+20>>2]&3](d,h,g,g,1,0),C=(e[r>>2]|0)==1?g:0;else{switch(Ox[e[(e[d>>2]|0)+24>>2]&3](d,h,g,1,0),e[h+36>>2]|0){case 0:{C=(e[b>>2]|0)==1&(e[c>>2]|0)==1&(e[m>>2]|0)==1?e[n>>2]|0:0;break e}case 1:break;default:{C=0;break e}}if((e[r>>2]|0)!=1&&!((e[b>>2]|0)==0&(e[c>>2]|0)==1&(e[m>>2]|0)==1)){C=0;break}C=e[a>>2]|0}while(0);return q=f,C|0}function UD(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;if(o=r+8|0,a=e[o>>2]|0,f=r+4|0,h=e[f>>2]|0,c=h,a-h>>2>>>0>=n>>>0){for(g=n,d=c;e[d>>2]=1,g=g+-1|0,g;)d=d+4|0;e[f>>2]=c+(n<<2);return}c=e[r>>2]|0,d=h-c|0,h=d>>2,g=h+n|0,g>>>0>1073741823&&Je(),m=a-c|0,a=m>>1,b=m>>2>>>0<536870911?a>>>0<g>>>0?g:a:1073741823;do if(b)if(b>>>0>1073741823)a=wn(8)|0,u0(a,14941),e[a>>2]=6944,yn(a|0,1080,114);else{a=Dt(b<<2)|0,v=a,x=a;break}else v=0,x=0;while(0);for(a=v+(h<<2)|0,h=v+(b<<2)|0,b=n,g=a;e[g>>2]=1,b=b+-1|0,b;)g=g+4|0;(d|0)>0&&Fr(x|0,c|0,d|0)|0,e[r>>2]=v,e[f>>2]=a+(n<<2),e[o>>2]=h,c&&ve(c)}function VD(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0;return o=q,q=q+16|0,a=o,n?(h=r+84|0,c=e[h>>2]|0,g=r+88|0,d=e[g>>2]|0,(d|0)!=(c|0)&&(e[g>>2]=d+(~((d+-4-c|0)>>>2)<<2)),e[h>>2]=0,e[g>>2]=0,e[r+92>>2]=0,c|0&&ve(c),c=r+72|0,g=e[c>>2]|0,h=r+76|0,(e[h>>2]|0)!=(g|0)&&(e[h>>2]=g),e[c>>2]=0,e[h>>2]=0,e[r+80>>2]=0,g|0&&ve(g),g=n+4|0,h=(e[g>>2]|0)-(e[n>>2]|0)>>2,Z[a>>0]=0,po(r,h,a),h=n+24|0,c=n+28|0,d=(e[c>>2]|0)-(e[h>>2]|0)>>2,Z[a>>0]=0,po(r+12|0,d,a),pe(r+28|0,(e[g>>2]|0)-(e[n>>2]|0)>>2,5868),al(r+52|0,(e[c>>2]|0)-(e[h>>2]|0)>>2),al(r+40|0,(e[c>>2]|0)-(e[h>>2]|0)>>2),e[r+64>>2]=n,Z[r+24>>0]=1,f=1,q=o,f|0):(f=0,q=o,f|0)}function jD(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0;if(n=r+12|0,o=e[r>>2]|0,a=r+8|0,f=e[a>>2]|0,h=(f|0)==-1,!(Z[n>>0]|0)){do if(!h&&(c=(((f>>>0)%3|0|0)==0?2:-1)+f|0,(c|0)!=-1)&&(g=e[(e[o+12>>2]|0)+(c<<2)>>2]|0,(g|0)!=-1))if((g>>>0)%3|0){d=g+-1|0;break}else{d=g+2|0;break}else d=-1;while(0);e[a>>2]=d;return}if(d=f+1|0,!h&&(h=((d>>>0)%3|0|0)==0?f+-2|0:d,(h|0)!=-1)&&(d=e[(e[o+12>>2]|0)+(h<<2)>>2]|0,h=d+1|0,(d|0)!=-1)){if(f=((h>>>0)%3|0|0)==0?d+-2|0:h,e[a>>2]=f,(f|0)!=-1){if((f|0)!=(e[r+4>>2]|0))return;e[a>>2]=-1;return}}else e[a>>2]=-1;f=e[r+4>>2]|0;do if((f|0)!=-1&&(r=(((f>>>0)%3|0|0)==0?2:-1)+f|0,(r|0)!=-1)&&(h=e[(e[o+12>>2]|0)+(r<<2)>>2]|0,(h|0)!=-1))if((h>>>0)%3|0){m=h+-1|0;break}else{m=h+2|0;break}else m=-1;while(0);e[a>>2]=m,Z[n>>0]=0}function x_(r,n){r=r|0,n=n|0;var o=0,a=Ar,f=0,h=0;if((n|0)!=1?n+-1&n?o=es(n)|0:o=n:o=2,n=e[r+4>>2]|0,o>>>0>n>>>0){om(r,o);return}o>>>0>=n>>>0||(a=qt((e[r+12>>2]|0)>>>0),f=~~qt(yr(qt(a/qt(br[r+20>>2]))))>>>0,n>>>0>2&(n+-1&n|0)==0?h=1<<32-(S0(f+-1|0)|0):h=es(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=n>>>0)&&om(r,f))}function GD(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0;if(a=q,q=q+48|0,f=a,h=a+32|0,c=r+4|0,g=e[c>>2]|0,!g)return d=0,q=a,d|0;do if(n)if(kn[e[(e[g>>2]|0)+16>>2]&127](g)|0){m=e[c>>2]|0,Fn[e[(e[m>>2]|0)+20>>2]&127](m);break}else return d=0,q=a,d|0;while(0);return fl(f),Q6(h,e[r>>2]|0,f),r=(e[h>>2]|0)==0,c=h+4|0,(Z[c+11>>0]|0)<0&&ve(e[c>>2]|0),r?(r=e[f>>2]|0,c=f+4|0,Zi(o,r,r+((e[c>>2]|0)-r)|0),b=(e[c>>2]|0)-(e[f>>2]|0)|0):b=0,c=f+12|0,r=e[c>>2]|0,e[c>>2]=0,r|0&&ve(r),r=e[f>>2]|0,r|0&&(c=f+4|0,(e[c>>2]|0)!=(r|0)&&(e[c>>2]=r),ve(r)),d=b,q=a,d|0}function mo(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0;if(o=e[r+4>>2]|0,!o)return a=0,a|0;for(r=Z[n+11>>0]|0,f=r<<24>>24<0,h=f?e[n+4>>2]|0:r&255,r=f?e[n>>2]|0:n,n=o;;){if(o=n+16|0,f=Z[o+11>>0]|0,c=f<<24>>24<0,g=c?e[n+20>>2]|0:f&255,f=g>>>0<h>>>0,d=f?g:h,(d|0)!=0&&(m=As(r,c?e[o>>2]|0:o,d)|0,(m|0)!=0)?(m|0)<0?b=7:b=8:h>>>0<g>>>0?b=7:b=8,(b|0)==7)b=0,v=n;else if((b|0)==8){if(b=0,m=h>>>0<g>>>0?h:g,(m|0)!=0&&(g=As(c?e[o>>2]|0:o,r,m)|0,(g|0)!=0)){if((g|0)>=0){a=1,b=14;break}}else b=10;if((b|0)==10&&(b=0,!f)){a=1,b=14;break}v=n+4|0}if(n=e[v>>2]|0,!n){a=0,b=14;break}}return(b|0)==14?a|0:0}function E_(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0;if(o=q,q=q+16|0,a=o+12|0,f=o+8|0,h=o+4|0,c=o,g=r+4|0,d=(g|0)==(n|0),d||(e[h>>2]=e[n>>2],e[c>>2]=n+4,e[f>>2]=e[h>>2],e[a>>2]=e[c>>2],uo(g,f,a)),d||(e[h>>2]=e[n+12>>2],e[c>>2]=n+16,e[f>>2]=e[h>>2],e[a>>2]=e[c>>2],qh(r+16|0,f,a)),d){q=o;return}e[h>>2]=e[n+24>>2],e[c>>2]=n+28,e[f>>2]=e[h>>2],e[a>>2]=e[c>>2],uo(r+28|0,f,a),q=o}function H6(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0;return f=q,q=q+16|0,h=f+4|0,c=f,pP(h,r,n,o,a),a=e[h>>2]|0,a?(e[h>>2]=0,e[c>>2]=a,a=DD(r,c)|0,r=e[c>>2]|0,e[c>>2]=0,r?(c=r+88|0,o=e[c>>2]|0,e[c>>2]=0,o|0&&(c=e[o+8>>2]|0,c|0&&(n=o+12|0,(e[n>>2]|0)!=(c|0)&&(e[n>>2]=c),ve(c)),ve(o)),o=e[r+68>>2]|0,o|0&&(c=r+72|0,n=e[c>>2]|0,(n|0)!=(o|0)&&(e[c>>2]=n+(~((n+-4-o|0)>>>2)<<2)),ve(o)),o=r+64|0,n=e[o>>2]|0,e[o>>2]=0,n|0&&(o=e[n>>2]|0,o|0&&(c=n+4|0,(e[c>>2]|0)!=(o|0)&&(e[c>>2]=o),ve(o)),ve(n)),ve(r),g=a,e[h>>2]=0,q=f,g|0):(g=a,e[h>>2]=0,q=f,g|0)):(g=-1,e[h>>2]=0,q=f,g|0)}function zD(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0;if(a=q,q=q+16|0,f=a+4|0,h=a,c=e[r+8>>2]|0,g=c+24|0,d=Z[g>>0]|0,m=n+4|0,w(r,(e[m>>2]|0)-(e[n>>2]|0)>>2,d,o),o=e[r+32>>2]|0,r=(e[e[o>>2]>>2]|0)+(e[o+48>>2]|0)|0,o=e[n>>2]|0,n=e[m>>2]|0,(o|0)==(n|0))return b=1,q=a,b|0;for(m=c+84|0,v=c+68|0,x=0,C=o;;){if(o=e[C>>2]|0,Z[m>>0]|0?S=o:S=e[(e[v>>2]|0)+(o<<2)>>2]|0,e[h>>2]=S,o=Z[g>>0]|0,e[f>>2]=e[h>>2],!(mx(c,f,o,r+(x<<2)|0)|0)){b=0,M=7;break}if(C=C+4|0,(C|0)==(n|0)){b=1,M=7;break}else x=x+d|0}return(M|0)==7?(q=a,b|0):0}function __(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0;if(e[r>>2]=1392,n=r+72|0,o=e[n>>2]|0,e[n>>2]=0,o|0&&Fn[e[(e[o>>2]|0)+4>>2]&127](o),o=e[r+60>>2]|0,o|0&&(n=r+64|0,a=e[n>>2]|0,(a|0)!=(o|0)&&(e[n>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ve(o)),o=e[r+48>>2]|0,o|0&&ve(o),o=r+36|0,a=e[o>>2]|0,a|0){if(n=r+40|0,f=e[n>>2]|0,(f|0)==(a|0))h=a;else{c=f;do f=c+-4|0,e[n>>2]=f,g=e[f>>2]|0,e[f>>2]=0,g|0&&Fn[e[(e[g>>2]|0)+4>>2]&127](g),c=e[n>>2]|0;while((c|0)!=(a|0));h=e[o>>2]|0}ve(h)}e[r>>2]=1216,h=e[r+16>>2]|0,h|0&&(o=r+20|0,a=e[o>>2]|0,(a|0)!=(h|0)&&(e[o>>2]=a+(~((a+-4-h|0)>>>2)<<2)),ve(h)),h=e[r+4>>2]|0,h&&(a=r+8|0,r=e[a>>2]|0,(r|0)!=(h|0)&&(e[a>>2]=r+(~((r+-4-h|0)>>>2)<<2)),ve(h))}function k_(r){r=r|0,ln(r+992|0),ln(r+960|0),ln(r+928|0),ln(r+896|0),ln(r+864|0),ln(r+832|0),ln(r+800|0),ln(r+768|0),ln(r+736|0),ln(r+704|0),ln(r+672|0),ln(r+640|0),ln(r+608|0),ln(r+576|0),ln(r+544|0),ln(r+512|0),ln(r+480|0),ln(r+448|0),ln(r+416|0),ln(r+384|0),ln(r+352|0),ln(r+320|0),ln(r+288|0),ln(r+256|0),ln(r+224|0),ln(r+192|0),ln(r+160|0),ln(r+128|0),ln(r+96|0),ln(r+64|0),ln(r+32|0),ln(r)}function WD(r){r=r|0,_n(r),_n(r+32|0),_n(r+64|0),_n(r+96|0),_n(r+128|0),_n(r+160|0),_n(r+192|0),_n(r+224|0),_n(r+256|0),_n(r+288|0),_n(r+320|0),_n(r+352|0),_n(r+384|0),_n(r+416|0),_n(r+448|0),_n(r+480|0),_n(r+512|0),_n(r+544|0),_n(r+576|0),_n(r+608|0),_n(r+640|0),_n(r+672|0),_n(r+704|0),_n(r+736|0),_n(r+768|0),_n(r+800|0),_n(r+832|0),_n(r+864|0),_n(r+896|0),_n(r+928|0),_n(r+960|0),_n(r+992|0)}function QD(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0;return r=q,q=q+16|0,f=r,(o|0)<0|((n|0)==0|(a|0)==0)||(c=e[n+8>>2]|0,((e[n+12>>2]|0)-c>>2|0)<=(o|0))?(h=0,q=r,h|0):(g=n+4|0,e[g>>2]|0||(d=Dt(52)|0,e[d>>2]=0,e[d+4>>2]=0,e[d+8>>2]=0,e[d+12>>2]=0,br[d+16>>2]=qt(1),m=d+20|0,e[m>>2]=0,e[m+4>>2]=0,e[m+8>>2]=0,e[m+12>>2]=0,br[d+36>>2]=qt(1),e[d+40>>2]=0,e[d+44>>2]=0,e[d+48>>2]=0,e[n+4>>2]=d),d=e[(e[c+(o<<2)>>2]|0)+60>>2]|0,o=Dt(44)|0,gx(o,a),e[o+40>>2]=d,d=e[g>>2]|0,e[f>>2]=o,jL(d,f)|0,d=e[f>>2]|0,e[f>>2]=0,d?(Kf(d),ve(d),h=1,q=r,h|0):(h=1,q=r,h|0))}function hd(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;if(e[r>>2]=a,f=r+24|0,h=r+28|0,c=e[h>>2]|0,g=e[f>>2]|0,d=c-g>>2,m=g,g=c,d>>>0>=a>>>0?d>>>0>a>>>0&&(c=m+(a<<2)|0,(c|0)!=(g|0))&&(e[h>>2]=g+(~((g+-4-c|0)>>>2)<<2)):q0(f,a-d|0),!!o){if(d=e[n>>2]|0,(o|0)>1)for(a=d,f=d,c=1;;)if(g=e[n+(c<<2)>>2]|0,h=(g|0)<(f|0),m=h?g:f,b=h?a:(g|0)>(a|0)?g:a,c=c+1|0,(c|0)==(o|0)){v=b,x=m;break}else a=b,f=m;else v=d,x=d;e[r+4>>2]=x,e[r+8>>2]=v,d=Gr(v|0,((v|0)<0)<<31>>31|0,x|0,((x|0)<0)<<31>>31|0)|0,x=Xe,x>>>0<0|(x|0)==0&d>>>0<2147483647&&(x=d+1|0,e[r+12>>2]=x,d=(x|0)/2|0,v=r+16|0,e[v>>2]=d,e[r+20>>2]=0-d,!(x&1|0)&&(e[v>>2]=d+-1))}}function U6(r,n,o,a,f,h,c){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,c=c|0;var g=0,d=0;if(n=q,q=q+64|0,g=n,d=c?6:5,Vy(g),c=e[h+56>>2]|0,h=_i(jy(d)|0,a)|0,Tm(g,c,0,a&255,d,0,h,((h|0)<0)<<31>>31,0,0),h=Dt(96)|0,xx(h,g),e[r>>2]=h,q6(h,o)|0,o=h+84|0,!f){if(Z[o>>0]=1,r=e[h+68>>2]|0,g=h+72|0,d=e[g>>2]|0,(d|0)==(r|0)){q=n;return}e[g>>2]=d+(~((d+-4-r|0)>>>2)<<2),q=n;return}if(Z[o>>0]=0,o=h+68|0,r=h+72|0,h=e[r>>2]|0,d=e[o>>2]|0,g=h-d>>2,a=h,g>>>0<f>>>0){z0(o,f-g|0,1200),q=n;return}if(g>>>0<=f>>>0){q=n;return}if(g=d+(f<<2)|0,(g|0)==(a|0)){q=n;return}e[r>>2]=a+(~((a+-4-g|0)>>>2)<<2),q=n}function JD(r,n){r=r|0,n=n|0;var o=0,a=Ar,f=0,h=0;if((n|0)!=1?n+-1&n?o=es(n)|0:o=n:o=2,n=e[r+4>>2]|0,o>>>0>n>>>0){S2(r,o);return}o>>>0>=n>>>0||(a=qt((e[r+12>>2]|0)>>>0),f=~~qt(yr(qt(a/qt(br[r+16>>2]))))>>>0,n>>>0>2&(n+-1&n|0)==0?h=1<<32-(S0(f+-1|0)|0):h=es(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=n>>>0)&&S2(r,f))}function XD(r,n){r=r|0,n=n|0;var o=0,a=Ar,f=0,h=0;if((n|0)!=1?n+-1&n?o=es(n)|0:o=n:o=2,n=e[r+4>>2]|0,o>>>0>n>>>0){em(r,o);return}o>>>0>=n>>>0||(a=qt((e[r+12>>2]|0)>>>0),f=~~qt(yr(qt(a/qt(br[r+16>>2]))))>>>0,n>>>0>2&(n+-1&n|0)==0?h=1<<32-(S0(f+-1|0)|0):h=es(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=n>>>0)&&em(r,f))}function qD(r,n){r=r|0,n=n|0;var o=0,a=Ar,f=0,h=0;if((n|0)!=1?n+-1&n?o=es(n)|0:o=n:o=2,n=e[r+4>>2]|0,o>>>0>n>>>0){rm(r,o);return}o>>>0>=n>>>0||(a=qt((e[r+12>>2]|0)>>>0),f=~~qt(yr(qt(a/qt(br[r+16>>2]))))>>>0,n>>>0>2&(n+-1&n|0)==0?h=1<<32-(S0(f+-1|0)|0):h=es(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=n>>>0)&&rm(r,f))}function ZD(r,n){r=r|0,n=n|0;var o=0,a=Ar,f=0,h=0;if((n|0)!=1?n+-1&n?o=es(n)|0:o=n:o=2,n=e[r+4>>2]|0,o>>>0>n>>>0){Sc(r,o);return}o>>>0>=n>>>0||(a=qt((e[r+12>>2]|0)>>>0),f=~~qt(yr(qt(a/qt(br[r+16>>2]))))>>>0,n>>>0>2&(n+-1&n|0)==0?h=1<<32-(S0(f+-1|0)|0):h=es(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=n>>>0)&&Sc(r,f))}function YD(r,n){r=r|0,n=n|0;var o=0,a=Ar,f=0,h=0;if((n|0)!=1?n+-1&n?o=es(n)|0:o=n:o=2,n=e[r+4>>2]|0,o>>>0>n>>>0){K1(r,o);return}o>>>0>=n>>>0||(a=qt((e[r+12>>2]|0)>>>0),f=~~qt(yr(qt(a/qt(br[r+16>>2]))))>>>0,n>>>0>2&(n+-1&n|0)==0?h=1<<32-(S0(f+-1|0)|0):h=es(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=n>>>0)&&K1(r,f))}function KD(r,n){r=r|0,n=n|0;var o=0,a=Ar,f=0,h=0;if((n|0)!=1?n+-1&n?o=es(n)|0:o=n:o=2,n=e[r+4>>2]|0,o>>>0>n>>>0){co(r,o);return}o>>>0>=n>>>0||(a=qt((e[r+12>>2]|0)>>>0),f=~~qt(yr(qt(a/qt(br[r+16>>2]))))>>>0,n>>>0>2&(n+-1&n|0)==0?h=1<<32-(S0(f+-1|0)|0):h=es(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=n>>>0)&&co(r,f))}function $D(r,n){r=r|0,n=n|0;var o=0,a=Ar,f=0,h=0;if((n|0)!=1?n+-1&n?o=es(n)|0:o=n:o=2,n=e[r+4>>2]|0,o>>>0>n>>>0){nm(r,o);return}o>>>0>=n>>>0||(a=qt((e[r+12>>2]|0)>>>0),f=~~qt(yr(qt(a/qt(br[r+16>>2]))))>>>0,n>>>0>2&(n+-1&n|0)==0?h=1<<32-(S0(f+-1|0)|0):h=es(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=n>>>0)&&nm(r,f))}function eP(r,n){r=r|0,n=n|0;var o=0,a=Ar,f=0,h=0;if((n|0)!=1?n+-1&n?o=es(n)|0:o=n:o=2,n=e[r+4>>2]|0,o>>>0>n>>>0){Kh(r,o);return}o>>>0>=n>>>0||(a=qt((e[r+12>>2]|0)>>>0),f=~~qt(yr(qt(a/qt(br[r+16>>2]))))>>>0,n>>>0>2&(n+-1&n|0)==0?h=1<<32-(S0(f+-1|0)|0):h=es(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=n>>>0)&&Kh(r,f))}function tP(r,n){r=r|0,n=n|0;var o=0,a=Ar,f=0,h=0;if((n|0)!=1?n+-1&n?o=es(n)|0:o=n:o=2,n=e[r+4>>2]|0,o>>>0>n>>>0){ry(r,o);return}o>>>0>=n>>>0||(a=qt((e[r+12>>2]|0)>>>0),f=~~qt(yr(qt(a/qt(br[r+16>>2]))))>>>0,n>>>0>2&(n+-1&n|0)==0?h=1<<32-(S0(f+-1|0)|0):h=es(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=n>>>0)&&ry(r,f))}function iP(r,n){r=r|0,n=n|0;var o=0,a=Ar,f=0,h=0;if((n|0)!=1?n+-1&n?o=es(n)|0:o=n:o=2,n=e[r+4>>2]|0,o>>>0>n>>>0){Lu(r,o);return}o>>>0>=n>>>0||(a=qt((e[r+12>>2]|0)>>>0),f=~~qt(yr(qt(a/qt(br[r+16>>2]))))>>>0,n>>>0>2&(n+-1&n|0)==0?h=1<<32-(S0(f+-1|0)|0):h=es(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=n>>>0)&&Lu(r,f))}function rP(r,n){r=r|0,n=n|0;var o=0,a=Ar,f=0,h=0;if((n|0)!=1?n+-1&n?o=es(n)|0:o=n:o=2,n=e[r+4>>2]|0,o>>>0>n>>>0){oy(r,o);return}o>>>0>=n>>>0||(a=qt((e[r+12>>2]|0)>>>0),f=~~qt(yr(qt(a/qt(br[r+16>>2]))))>>>0,n>>>0>2&(n+-1&n|0)==0?h=1<<32-(S0(f+-1|0)|0):h=es(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=n>>>0)&&oy(r,f))}function p0(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0;o=q,q=q+16|0,a=o+4|0,f=o,h=o+8|0,Z[h>>0]=r&127;do if(r>>>0>127)if(Z[h>>0]=r|128,c=n+16|0,g=e[c+4>>2]|0,(g|0)>0|(g|0)==0&(e[c>>2]|0)>>>0>0){d=0;break}else{e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+1|0)|0,d=p0(r>>>7,n)|0;break}else{if(c=n+16|0,g=e[c+4>>2]|0,(g|0)>0|(g|0)==0&(e[c>>2]|0)>>>0>0){d=0;break}return e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+1|0)|0,m=1,q=o,m|0}while(0);return m=d,q=o,m|0}function nP(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0;return a=q,q=q+16|0,f=a,x6(f,r+40|0,e[r+8>>2]|0,n,o),J6(r,f),r=e[f>>2]|0,e[f>>2]=0,r?(f=r+88|0,o=e[f>>2]|0,e[f>>2]=0,o|0&&(f=e[o+8>>2]|0,f|0&&(n=o+12|0,(e[n>>2]|0)!=(f|0)&&(e[n>>2]=f),ve(f)),ve(o)),o=e[r+68>>2]|0,o|0&&(f=r+72|0,n=e[f>>2]|0,(n|0)!=(o|0)&&(e[f>>2]=n+(~((n+-4-o|0)>>>2)<<2)),ve(o)),o=r+64|0,n=e[o>>2]|0,e[o>>2]=0,n|0&&(o=e[n>>2]|0,o|0&&(f=n+4|0,(e[f>>2]|0)!=(o|0)&&(e[f>>2]=o),ve(o)),ve(n)),ve(r),q=a,1):(q=a,1)}function Em(r,n){r=r|0,n=n|0;var o=0,a=Ar,f=0,h=0;if((n|0)!=1?n+-1&n?o=es(n)|0:o=n:o=2,n=e[r+4>>2]|0,o>>>0>n>>>0){$h(r,o);return}o>>>0>=n>>>0||(a=qt((e[r+12>>2]|0)>>>0),f=~~qt(yr(qt(a/qt(br[r+16>>2]))))>>>0,n>>>0>2&(n+-1&n|0)==0?h=1<<32-(S0(f+-1|0)|0):h=es(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=n>>>0)&&$h(r,f))}function sP(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0;return a=q,q=q+48|0,f=a,h=a+32|0,n?(fl(f),(Gy(n,0)|0)!=-1&&kn[e[(e[n>>2]|0)+16>>2]&127](n)|0?(Fn[e[(e[n>>2]|0)+20>>2]&127](n),Ai(h,r,n,f),n=(e[h>>2]|0)==0,r=h+4|0,(Z[r+11>>0]|0)<0&&ve(e[r>>2]|0),n?(n=e[f>>2]|0,r=f+4|0,Zi(o,n,n+((e[r>>2]|0)-n)|0),g=(e[r>>2]|0)-(e[f>>2]|0)|0):g=0):g=0,r=f+12|0,n=e[r>>2]|0,e[r>>2]=0,n|0&&ve(n),n=e[f>>2]|0,n|0&&(r=f+4|0,(e[r>>2]|0)!=(n|0)&&(e[r>>2]=n),ve(n)),c=g,q=a,c|0):(c=0,q=a,c|0)}function oP(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0;return a=q,q=q+16|0,f=a,by(f,r+40|0,e[r+8>>2]|0,n,o),J6(r,f),r=e[f>>2]|0,e[f>>2]=0,r?(f=r+88|0,o=e[f>>2]|0,e[f>>2]=0,o|0&&(f=e[o+8>>2]|0,f|0&&(n=o+12|0,(e[n>>2]|0)!=(f|0)&&(e[n>>2]=f),ve(f)),ve(o)),o=e[r+68>>2]|0,o|0&&(f=r+72|0,n=e[f>>2]|0,(n|0)!=(o|0)&&(e[f>>2]=n+(~((n+-4-o|0)>>>2)<<2)),ve(o)),o=r+64|0,n=e[o>>2]|0,e[o>>2]=0,n|0&&(o=e[n>>2]|0,o|0&&(f=n+4|0,(e[f>>2]|0)!=(o|0)&&(e[f>>2]=o),ve(o)),ve(n)),ve(r),q=a,1):(q=a,1)}function C_(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0;if(n=e[r>>2]|0,!!n){if(o=r+4|0,a=e[o>>2]|0,(a|0)==(n|0))f=n;else{h=a;do a=h+-4|0,e[o>>2]=a,c=e[a>>2]|0,e[a>>2]=0,c|0&&(a=c+88|0,g=e[a>>2]|0,e[a>>2]=0,g|0&&(a=e[g+8>>2]|0,a|0&&(d=g+12|0,(e[d>>2]|0)!=(a|0)&&(e[d>>2]=a),ve(a)),ve(g)),g=e[c+68>>2]|0,g|0&&(a=c+72|0,d=e[a>>2]|0,(d|0)!=(g|0)&&(e[a>>2]=d+(~((d+-4-g|0)>>>2)<<2)),ve(g)),g=c+64|0,d=e[g>>2]|0,e[g>>2]=0,d|0&&(g=e[d>>2]|0,g|0&&(a=d+4|0,(e[a>>2]|0)!=(g|0)&&(e[a>>2]=g),ve(g)),ve(d)),ve(c)),h=e[o>>2]|0;while((h|0)!=(n|0));f=e[r>>2]|0}ve(f)}}function aP(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0;f=(a|0)<0;do if(n){if(f)return h=0,h|0;m=r+4|0,c=e[m>>2]|0,g=e[r>>2]|0,d=c-g|0;do if(0<(a|0)|(a|0)==0&d>>>0<o>>>0){if(d>>>0<o>>>0){Na(r,o-d|0);break}d>>>0>o>>>0&&(b=g+o|0,(b|0)!=(c|0))&&(e[m>>2]=b),v=15}else v=15;while(0);if((v|0)==15&&(o|0)==0)break;W0(e[r>>2]|0,n|0,o|0)|0}else{if(f)return h=0,h|0;if(c=r+4|0,g=e[c>>2]|0,d=e[r>>2]|0,m=g-d|0,m>>>0<o>>>0){Na(r,o-m|0);break}m>>>0>o>>>0&&(m=d+o|0,(m|0)!=(g|0))&&(e[c>>2]=m)}while(0);return o=r+24|0,r=o,n=Wt(e[r>>2]|0,e[r+4>>2]|0,1,0)|0,r=o,e[r>>2]=n,e[r+4>>2]=Xe,h=1,h|0}function lP(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0;if(o=q,q=q+16|0,a=o+4|0,f=o,h=o+8|0,!(D2(r,n)|0))return c=0,q=o,c|0;if(g=r+36|0,d=r+40|0,r=e[g>>2]|0,(e[d>>2]|0)==(r|0))return c=1,q=o,c|0;m=n+16|0,b=n+4|0,v=h+1|0,x=0,C=r;do r=e[C+(x<<2)>>2]|0,S=kn[e[(e[r>>2]|0)+32>>2]&127](r)|0,Z[h>>0]=S,S=m,r=e[S+4>>2]|0,(r|0)>0|(r|0)==0&(e[S>>2]|0)>>>0>0||(e[f>>2]=e[b>>2],e[a>>2]=e[f>>2],vr(n,a,h,v)|0),x=x+1|0,C=e[g>>2]|0;while(x>>>0<(e[d>>2]|0)-C>>2>>>0);return c=1,q=o,c|0}function V6(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0;n=q,q=q+16|0,o=n,W2(r),e[r+16>>2]=0,e[r+20>>2]=0,e[r+12>>2]=r+16,a=r+24|0,W2(a),e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,r=Dt(32)|0,e[o>>2]=r,e[o+8>>2]=-2147483616,e[o+4>>2]=20,f=r,h=13101,c=f+20|0;do Z[f>>0]=Z[h>>0]|0,f=f+1|0,h=h+1|0;while((f|0)<(c|0));Z[r+20>>0]=0,Py(a,o,1),(Z[o+11>>0]|0)<0&&ve(e[o>>2]|0),e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,r=Dt(32)|0,e[o>>2]=r,e[o+8>>2]=-2147483616,e[o+4>>2]=22,f=r,h=13122,c=f+22|0;do Z[f>>0]=Z[h>>0]|0,f=f+1|0,h=h+1|0;while((f|0)<(c|0));if(Z[r+22>>0]=0,Py(a,o,1),(Z[o+11>>0]|0)>=0){q=n;return}ve(e[o>>2]|0),q=n}function j6(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0;if(n=e[r+4>>2]|0,o=r+8|0,a=e[o>>2]|0,(a|0)!=(n|0)){f=a;do a=f+-4|0,e[o>>2]=a,h=e[a>>2]|0,e[a>>2]=0,h|0&&(a=h+88|0,c=e[a>>2]|0,e[a>>2]=0,c|0&&(a=e[c+8>>2]|0,a|0&&(g=c+12|0,(e[g>>2]|0)!=(a|0)&&(e[g>>2]=a),ve(a)),ve(c)),c=e[h+68>>2]|0,c|0&&(a=h+72|0,g=e[a>>2]|0,(g|0)!=(c|0)&&(e[a>>2]=g+(~((g+-4-c|0)>>>2)<<2)),ve(c)),c=h+64|0,g=e[c>>2]|0,e[c>>2]=0,g|0&&(c=e[g>>2]|0,c|0&&(a=g+4|0,(e[a>>2]|0)!=(c|0)&&(e[a>>2]=c),ve(c)),ve(g)),ve(h)),f=e[o>>2]|0;while((f|0)!=(n|0))}n=e[r>>2]|0,n&&ve(n)}function fP(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0;return o=q,q=q+16|0,a=o+8|0,f=o+4|0,h=o,e[h>>2]=e[r+12>>2],c=n+16|0,g=c,d=e[g>>2]|0,m=e[g+4>>2]|0,(m|0)>0|(m|0)==0&d>>>0>0?(b=m,v=d):(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+4|0)|0,d=c,b=e[d+4>>2]|0,v=e[d>>2]|0),e[h>>2]=e[r+20>>2],(b|0)>0|(b|0)==0&v>>>0>0?(q=o,1):(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+4|0)|0,q=o,1)}function ol(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0;n=q,q=q+16|0,o=n,a=Dt(16)|0,e[o>>2]=a,e[o+8>>2]=-2147483632,e[o+4>>2]=14,f=a,h=12975,c=f+14|0;do Z[f>>0]=Z[h>>0]|0,f=f+1|0,h=h+1|0;while((f|0)<(c|0));Z[a+14>>0]=0,a=go(r,o,-1)|0,(Z[o+11>>0]|0)<0&&ve(e[o>>2]|0),g=Dt(16)|0,e[o>>2]=g,e[o+8>>2]=-2147483632,e[o+4>>2]=14,f=g,h=12990,c=f+14|0;do Z[f>>0]=Z[h>>0]|0,f=f+1|0,h=h+1|0;while((f|0)<(c|0));return Z[g+14>>0]=0,g=go(r,o,-1)|0,(Z[o+11>>0]|0)>=0?(d=(a|0)<(g|0),m=d?g:a,b=(m|0)==-1,v=b?5:m,q=n,v|0):(ve(e[o>>2]|0),d=(a|0)<(g|0),m=d?g:a,b=(m|0)==-1,v=b?5:m,q=n,v|0)}function uP(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0;return o=q,q=q+16|0,a=o+8|0,f=o+4|0,h=o,e[h>>2]=e[r+12>>2],c=n+16|0,g=c,d=e[g>>2]|0,m=e[g+4>>2]|0,(m|0)>0|(m|0)==0&d>>>0>0?(b=m,v=d):(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+4|0)|0,d=c,b=e[d+4>>2]|0,v=e[d>>2]|0),e[h>>2]=e[r+16>>2],(b|0)>0|(b|0)==0&v>>>0>0?(q=o,1):(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+4|0)|0,q=o,1)}function G6(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0;f=Dt(32)|0,e[r>>2]=f,e[r+4>>2]=n+8,n=r+8|0,Z[n>>0]=0,h=f+8|0,e[h>>2]=e[a>>2],e[h+4>>2]=e[a+4>>2],e[h+8>>2]=e[a+8>>2],e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,h=f+20|0,c=a+12|0,e[h>>2]=0,e[f+24>>2]=0,e[f+28>>2]=0,f=a+16|0,a=e[f>>2]|0,g=e[c>>2]|0,d=a-g|0,d?(Na(h,d),m=e[c>>2]|0,b=e[f>>2]|0,v=e[h>>2]|0):(m=g,b=a,v=0),Fr(v|0,m|0,b-m|0)|0,Z[n>>0]=1,n=e[r>>2]|0,e[n+4>>2]=o,e[n>>2]=0}function cP(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0;if(n=r+32|0,pn(r,n),o=r+80|0,a=e[o>>2]|0,a|0&&(f=r+84|0,(e[f>>2]|0)>0)&&(pn(a,n),(e[f>>2]|0)>1)){a=1;do pn((e[o>>2]|0)+(a<<5)|0,n),a=a+1|0;while((a|0)<(e[f>>2]|0))}if(f=r+136|0,a=r+140|0,r=e[f>>2]|0,(e[a>>2]|0)!=(r|0))for(o=0,h=r;r=h,p0((e[r+(o*12|0)+4>>2]|0)-(e[r+(o*12|0)>>2]|0)>>2,n)|0,r=e[f>>2]|0,c=e[r+(o*12|0)>>2]|0,g=(e[r+(o*12|0)+4>>2]|0)-c>>2,g?(nl(c,g,1,0,n)|0,d=e[f>>2]|0):d=r,o=o+1|0,!(o>>>0>=(((e[a>>2]|0)-d|0)/12|0)>>>0);)h=d}function hP(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0;a=o+16|0,f=e[a>>2]|0,f?(h=f,c=5):Sk(o)|0?g=0:(h=e[a>>2]|0,c=5);e:do if((c|0)==5){if(f=o+20|0,a=e[f>>2]|0,d=a,(h-a|0)>>>0<n>>>0){g=Xo[e[o+36>>2]&31](o,r,n)|0;break}t:do if((Z[o+75>>0]|0)>-1){for(a=n;;){if(!a){m=0,b=r,v=n,x=d;break t}if(C=a+-1|0,(Z[r+C>>0]|0)==10)break;a=C}if(C=Xo[e[o+36>>2]&31](o,r,a)|0,C>>>0<a>>>0){g=C;break e}m=a,b=r+a|0,v=n-a|0,x=e[f>>2]|0}else m=0,b=r,v=n,x=d;while(0);Fr(x|0,b|0,v|0)|0,e[f>>2]=(e[f>>2]|0)+v,g=m+v|0}while(0);return g|0}function S_(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0;if(n=r+12|0,o=e[n>>2]|0,e[n>>2]=0,o|0){if(n=e[o+28>>2]|0,n|0){a=n;do n=a,a=e[a>>2]|0,S_(n+8|0),ve(n);while((a|0)!=0)}if(a=o+20|0,n=e[a>>2]|0,e[a>>2]=0,n|0&&ve(n),n=e[o+8>>2]|0,n|0){a=n;do n=a,a=e[a>>2]|0,f=n+8|0,h=e[n+20>>2]|0,h|0&&(c=n+24|0,(e[c>>2]|0)!=(h|0)&&(e[c>>2]=h),ve(h)),(Z[f+11>>0]|0)<0&&ve(e[f>>2]|0),ve(n);while((a|0)!=0)}a=e[o>>2]|0,e[o>>2]=0,a|0&&ve(a),ve(o)}(Z[r+11>>0]|0)>=0||ve(e[r>>2]|0)}function dP(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0;if(f=q,q=q+32|0,h=f+12|0,c=f,e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=0,(a|0)>0){g=c+11|0,d=c+4|0,m=0;do(m|0)>0&&OF(h,12890)|0,Ek(c,qt(br[o+(m<<2)>>2])),b=Z[g>>0]|0,v=b<<24>>24<0,H_(h,v?e[c>>2]|0:c,v?e[d>>2]|0:b&255)|0,(Z[g>>0]|0)<0&&ve(e[c>>2]|0),m=m+1|0;while((m|0)<(a|0))}if(_x(Ry(r,n)|0,h)|0,(Z[h+11>>0]|0)>=0){q=f;return}ve(e[h>>2]|0),q=f}function pP(r,n,o,a,f){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0;var h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0;if((e[o+56>>2]|0)==-1){h=0,e[r>>2]=h;return}c=Dt(96)|0,xx(c,o),o=c;do if(a)Z[c+84>>0]=1,x=e[c+68>>2]|0,C=c+72|0,m=e[C>>2]|0,(m|0)!=(x|0)&&(e[C>>2]=m+(~((m+-4-x|0)>>>2)<<2)),e[c+80>>2]=e[n+80>>2];else{if(g=e[n+80>>2]|0,Z[c+84>>0]=0,d=c+68|0,m=c+72|0,b=e[m>>2]|0,v=e[d>>2]|0,x=b-v>>2,C=b,g>>>0>x>>>0){z0(d,g-x|0,5908);break}g>>>0<x>>>0&&(x=v+(g<<2)|0,(x|0)!=(C|0))&&(e[m>>2]=C+(~((C+-4-x|0)>>>2)<<2))}while(0);if(!f){h=o,e[r>>2]=h;return}q6(c,f)|0,h=o,e[r>>2]=h}function mP(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;o=r+4|0,a=e[r>>2]|0,f=(e[o>>2]|0)-a|0,h=f>>3,c=h+1|0,c>>>0>536870911&&Je(),g=r+8|0,d=(e[g>>2]|0)-a|0,m=d>>2,b=d>>3>>>0<268435455?m>>>0<c>>>0?c:m:536870911;do if(b)if(b>>>0>536870911)m=wn(8)|0,u0(m,14941),e[m>>2]=6944,yn(m|0,1080,114);else{m=Dt(b<<3)|0,v=m,x=m;break}else v=0,x=0;while(0);m=v+(h<<3)|0,h=n,n=e[h+4>>2]|0,c=m,e[c>>2]=e[h>>2],e[c+4>>2]=n,(f|0)>0&&Fr(x|0,a|0,f|0)|0,e[r>>2]=v,e[o>>2]=m+8,e[g>>2]=v+(b<<3),a&&ve(a)}function gP(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0;if(o=q,q=q+16|0,a=o,(kn[e[(e[n>>2]|0)+20>>2]&127](n)|0)<=0)return f=1,q=o,f|0;for(h=r+4|0,c=r+20|0,g=r+24|0,d=r+16|0,r=0;m=e[(e[h>>2]|0)+4>>2]|0,b=Gy(m,M0[e[(e[n>>2]|0)+24>>2]&127](n,r)|0)|0,e[a>>2]=b,(b|0)!=-1;)if(m=e[c>>2]|0,(m|0)==(e[g>>2]|0)?pr(d,a):(e[m>>2]=b,e[c>>2]=m+4),AN(e[h>>2]|0,e[a>>2]|0)|0,r=r+1|0,(r|0)>=(kn[e[(e[n>>2]|0)+20>>2]&127](n)|0)){f=1,v=9;break}return(v|0)==9?(q=o,f|0):(f=0,q=o,f|0)}function T_(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0;if(e[r>>2]=1276,C_(r+60|0),n=e[r+48>>2]|0,n|0&&(o=r+52|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),n=r+36|0,a=e[n>>2]|0,a|0){if(o=r+40|0,f=e[o>>2]|0,(f|0)==(a|0))h=a;else{c=f;do f=c+-24|0,e[o>>2]=f,Fn[e[e[f>>2]>>2]&127](f),c=e[o>>2]|0;while((c|0)!=(a|0));h=e[n>>2]|0}ve(h)}e[r>>2]=1216,h=e[r+16>>2]|0,h|0&&(n=r+20|0,a=e[n>>2]|0,(a|0)!=(h|0)&&(e[n>>2]=a+(~((a+-4-h|0)>>>2)<<2)),ve(h)),h=e[r+4>>2]|0,h&&(a=r+8|0,r=e[a>>2]|0,(r|0)!=(h|0)&&(e[a>>2]=r+(~((r+-4-h|0)>>>2)<<2)),ve(h))}function la(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0;if(o=q,q=q+32|0,a=o+16|0,f=o+8|0,h=o,c=r+8|0,e[c>>2]<<5>>>0>=n>>>0){q=o;return}e[a>>2]=0,g=a+4|0,e[g>>2]=0,d=a+8|0,e[d>>2]=0,(n|0)<0&&Je(),m=((n+-1|0)>>>5)+1|0,n=Dt(m<<2)|0,e[a>>2]=n,e[g>>2]=0,e[d>>2]=m,m=e[r>>2]|0,e[f>>2]=m,e[f+4>>2]=0,n=r+4|0,b=e[n>>2]|0,e[h>>2]=m+(b>>>5<<2),e[h+4>>2]=b&31,Ln(a,f,h),h=e[r>>2]|0,e[r>>2]=e[a>>2],e[a>>2]=h,a=e[n>>2]|0,e[n>>2]=e[g>>2],e[g>>2]=a,a=e[c>>2]|0,e[c>>2]=e[d>>2],e[d>>2]=a,h|0&&ve(h),q=o}function bP(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0;if(n=r+136|0,o=e[n>>2]|0,o|0){if(a=r+140|0,f=e[a>>2]|0,(f|0)==(o|0))h=o;else{for(c=f;f=c+-12|0,e[a>>2]=f,g=e[f>>2]|0,g?(f=c+-8|0,m=e[f>>2]|0,(m|0)!=(g|0)&&(e[f>>2]=m+(~((m+-4-g|0)>>>2)<<2)),ve(g),d=e[a>>2]|0):d=f,(d|0)!=(o|0);)c=d;h=e[n>>2]|0}ve(h)}if(h=e[r+104>>2]|0,h|0&&(n=r+108|0,d=e[n>>2]|0,(d|0)!=(h|0)&&(e[n>>2]=d+(~((d+-4-h|0)>>>2)<<2)),ve(h)),h=e[r+92>>2]|0,!h){X6(r);return}d=r+96|0,n=e[d>>2]|0,(n|0)!=(h|0)&&(e[d>>2]=n+(~((n+-4-h|0)>>>2)<<2)),ve(h),X6(r)}function yP(r){r=r|0;var n=0,o=0,a=0,f=0;e[r>>2]=3340,n=r+72|0,o=r+136|0,a=r+4|0,f=a+64|0;do e[a>>2]=0,a=a+4|0;while((a|0)<(f|0));a=n,f=a+64|0;do e[a>>2]=0,a=a+4|0;while((a|0)<(f|0));br[o>>2]=qt(1),o=r+140|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[r+164>>2]=-1,o=r+168|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+24>>2]=0,_n(r+200|0),fl(r+232|0),o=r+316|0,a=r+264|0,f=a+52|0;do e[a>>2]=0,a=a+4|0;while((a|0)<(f|0));e[o>>2]=-1,e[r+320>>2]=-1,e[r+324>>2]=0,e[r+328>>2]=2,e[r+332>>2]=7,e[r+336>>2]=0,e[r+340>>2]=0,e[r+344>>2]=0,Z[r+352>>0]=0}function AP(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0;o=r+4|0,a=e[r>>2]|0,f=(e[o>>2]|0)-a|0,h=(f|0)/12|0,c=h+1|0,c>>>0>357913941&&Je(),g=r+8|0,d=((e[g>>2]|0)-a|0)/12|0,m=d<<1,b=d>>>0<178956970?m>>>0<c>>>0?c:m:357913941;do if(b)if(b>>>0>357913941)m=wn(8)|0,u0(m,14941),e[m>>2]=6944,yn(m|0,1080,114);else{v=Dt(b*12|0)|0;break}else v=0;while(0);m=v+(h*12|0)|0,e[m>>2]=e[n>>2],e[m+4>>2]=e[n+4>>2],e[m+8>>2]=e[n+8>>2],n=m+(((f|0)/-12|0)*12|0)|0,(f|0)>0&&Fr(n|0,a|0,f|0)|0,e[r>>2]=n,e[o>>2]=m+12,e[g>>2]=v+(b*12|0),a&&ve(a)}function z6(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0;return f=r+16|0,h=f,c=e[h+4>>2]|0,(o|0)<0|(o|0)==0&n>>>0<1|((c|0)>0|(c|0)==0&(e[h>>2]|0)>>>0>0)?(g=0,g|0):(Z[r+24>>0]=a&1,h=Wt(n|0,o|0,7,0)|0,o=m0(h|0,Xe|0,8,0)|0,h=Xe,n=f,e[n>>2]=o,e[n+4>>2]=h,n=r+4|0,f=e[n>>2]|0,c=e[r>>2]|0,d=f-c|0,m=Wt(d|0,0,8,0)|0,b=a?m:d,m=Wt(b|0,(a?Xe:0)|0,o|0,h|0)|0,h=c,c=f,d>>>0>=m>>>0?(d>>>0>m>>>0&&(f=h+m|0,(f|0)!=(c|0))&&(e[n>>2]=f),v=h):(Na(r,m-d|0),v=e[r>>2]|0),d=Dt(8)|0,e[d>>2]=v+b,e[d+4>>2]=0,b=r+12|0,r=e[b>>2]|0,e[b>>2]=d,r?(ve(r),g=1,g|0):(g=1,g|0))}function Ry(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0;return o=q,q=q+16|0,a=o,f=Zr(r,a,n)|0,h=e[f>>2]|0,h|0?(c=h,g=c+28|0,q=o,g|0):(h=Dt(40)|0,T0(h+16|0,n),n=h+28|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,n=e[a>>2]|0,e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=n,e[f>>2]=h,n=e[e[r>>2]>>2]|0,n?(e[r>>2]=n,d=e[f>>2]|0):d=h,af(e[r+4>>2]|0,d),d=r+8|0,e[d>>2]=(e[d>>2]|0)+1,c=h,g=c+28|0,q=o,g|0)}function M_(r,n,o,a,f,h,c,g){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,c=c|0,g=g|0;var d=0,m=0,b=0,v=0,x=0,C=0;d=q,q=q+16|0,m=d,(-18-n|0)>>>0<o>>>0&&Je(),(Z[r+11>>0]|0)<0?b=e[r>>2]|0:b=r,n>>>0<2147483623?(v=o+n|0,o=n<<1,x=v>>>0<o>>>0?o:v,C=x>>>0<11?11:x+16&-16):C=-17,x=Dt(C)|0,f|0&&eu(x,b,f)|0,c|0&&eu(x+f|0,g,c)|0,g=a-h|0,a=g-f|0,a|0&&eu(x+f+c|0,b+f+h|0,a)|0,(n|0)!=10&&ve(b),e[r>>2]=x,e[r+8>>2]=C|-2147483648,C=g+c|0,e[r+4>>2]=C,Z[m>>0]=0,gd(x+C|0,m),q=d}function q0(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;if(o=r+8|0,a=e[o>>2]|0,f=r+4|0,h=e[f>>2]|0,a-h>>2>>>0>=n>>>0){Mi(h|0,0,n<<2|0)|0,e[f>>2]=h+(n<<2);return}c=e[r>>2]|0,g=h-c|0,h=g>>2,d=h+n|0,d>>>0>1073741823&&Je(),m=a-c|0,a=m>>1,b=m>>2>>>0<536870911?a>>>0<d>>>0?d:a:1073741823;do if(b)if(b>>>0>1073741823)a=wn(8)|0,u0(a,14941),e[a>>2]=6944,yn(a|0,1080,114);else{a=Dt(b<<2)|0,v=a,x=a;break}else v=0,x=0;while(0);a=v+(h<<2)|0,Mi(a|0,0,n<<2|0)|0,(g|0)>0&&Fr(x|0,c|0,g|0)|0,e[r>>2]=v,e[f>>2]=a+(n<<2),e[o>>2]=v+(b<<2),c&&ve(c)}function vP(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0;f=Dt(32)|0,e[r>>2]=f,e[r+4>>2]=n+8,n=r+8|0,Z[n>>0]=0,T0(f+8|0,a),h=f+20|0,c=a+12|0,e[h>>2]=0,e[f+24>>2]=0,e[f+28>>2]=0,f=a+16|0,a=e[f>>2]|0,g=e[c>>2]|0,d=a-g|0,d?(Na(h,d),m=e[c>>2]|0,b=e[f>>2]|0,v=e[h>>2]|0):(m=g,b=a,v=0),Fr(v|0,m|0,b-m|0)|0,Z[n>>0]=1,n=e[r>>2]|0,e[n+4>>2]=o,e[n>>2]=0}function wP(r,n,o){r=r|0,n=n|0,o=qt(o);var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;for(a=q,q=q+16|0,f=a,h=n+11|0,c=Z[h>>0]|0,c<<24>>24<0?g=e[n+4>>2]|0:g=c&255,d=+o,m=g,g=c;;){if(g<<24>>24<0?b=e[n>>2]|0:b=n,L0[f>>3]=d,v=qk(b,m+1|0,17468,f)|0,(v|0)>-1)if(v>>>0>m>>>0)x=v;else break;else x=m<<1|1;Sm(n,x,0),m=x,g=Z[h>>0]|0}for(Sm(n,v,0),e[r>>2]=e[n>>2],e[r+4>>2]=e[n+4>>2],e[r+8>>2]=e[n+8>>2],r=0;(r|0)!=3;)e[n+(r<<2)>>2]=0,r=r+1|0;q=a}function Na(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0;if(o=r+8|0,a=e[o>>2]|0,f=r+4|0,h=e[f>>2]|0,(a-h|0)>>>0>=n>>>0){c=n,g=h;do Z[g>>0]=0,g=(e[f>>2]|0)+1|0,e[f>>2]=g,c=c+-1|0;while((c|0)!=0);return}c=e[r>>2]|0,g=h-c|0,h=g+n|0,(h|0)<0&&Je(),d=a-c|0,c=d<<1,a=d>>>0<1073741823?c>>>0<h>>>0?h:c:2147483647,a?m=Dt(a)|0:m=0,c=m+g|0,g=m+a|0,a=n,n=c,m=c;do Z[m>>0]=0,m=n+1|0,n=m,a=a+-1|0;while((a|0)!=0);a=e[r>>2]|0,m=(e[f>>2]|0)-a|0,h=c+(0-m)|0,(m|0)>0&&Fr(h|0,a|0,m|0)|0,e[r>>2]=h,e[f>>2]=n,e[o>>2]=g,a&&ve(a)}function R_(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0;if(o=r+4|0,a=e[o>>2]|0,f=e[r>>2]|0,h=(a-f|0)/136|0,c=a,h>>>0<n>>>0){I2(r,n-h|0);return}if(!(h>>>0<=n>>>0)&&(h=f+(n*136|0)|0,(h|0)!=(c|0))){g=c;do e[o>>2]=g+-136,c=e[g+-20>>2]|0,c|0&&(n=g+-16|0,f=e[n>>2]|0,(f|0)!=(c|0)&&(e[n>>2]=f+(~((f+-4-c|0)>>>2)<<2)),ve(c)),c=e[g+-32>>2]|0,c|0&&(f=g+-28|0,n=e[f>>2]|0,(n|0)!=(c|0)&&(e[f>>2]=n+(~((n+-4-c|0)>>>2)<<2)),ve(c)),W6(g+-132|0),g=e[o>>2]|0;while((g|0)!=(h|0))}}function B_(r,n){r=r|0,n=n|0;var o=0,a=Ar,f=0,h=0;if((n|0)!=1?n+-1&n?o=es(n)|0:o=n:o=2,n=e[r+4>>2]|0,o>>>0>n>>>0){sm(r,o);return}o>>>0>=n>>>0||(a=qt((e[r+12>>2]|0)>>>0),f=~~qt(yr(qt(a/qt(br[r+16>>2]))))>>>0,n>>>0>2&(n+-1&n|0)==0?h=1<<32-(S0(f+-1|0)|0):h=es(f)|0,f=o>>>0<h>>>0?h:o,!(f>>>0>=n>>>0)&&sm(r,f))}function uf(r){r=r|0;var n=0,o=0,a=0;n=e[r+76>>2]|0,n|0&&(o=r+80|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+64>>2]|0,n|0&&(a=r+68|0,(e[a>>2]|0)!=(n|0)&&(e[a>>2]=n),ve(n)),n=e[r+48>>2]|0,n|0&&(a=r+52|0,o=e[a>>2]|0,(o|0)!=(n|0)&&(e[a>>2]=o+(~((o+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+24>>2]|0,n|0&&(o=r+28|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+12>>2]|0,n|0&&(a=r+16|0,o=e[a>>2]|0,(o|0)!=(n|0)&&(e[a>>2]=o+(~((o+-4-n|0)>>>2)<<2)),ve(n)),n=e[r>>2]|0,n&&(o=r+4|0,r=e[o>>2]|0,(r|0)!=(n|0)&&(e[o>>2]=r+(~((r+-4-n|0)>>>2)<<2)),ve(n))}function xP(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0;for(a=q,q=q+16|0,f=a,h=n+11|0,c=Z[h>>0]|0,c<<24>>24<0?g=e[n+4>>2]|0:g=c&255,d=g,g=c;;){if(g<<24>>24<0?m=e[n>>2]|0:m=n,e[f>>2]=o,b=qk(m,d+1|0,17465,f)|0,(b|0)>-1)if(b>>>0>d>>>0)v=b;else break;else v=d<<1|1;Sm(n,v,0),d=v,g=Z[h>>0]|0}for(Sm(n,b,0),e[r>>2]=e[n>>2],e[r+4>>2]=e[n+4>>2],e[r+8>>2]=e[n+8>>2],r=0;(r|0)!=3;)e[n+(r<<2)>>2]=0,r=r+1|0;q=a}function EP(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0;if(n=r+8|0,o=e[n>>2]|0,(o|0)<0)return a=0,a|0;if(f=r+4|0,r=e[f>>2]|0,h=r+4|0,c=e[h>>2]|0,g=e[r>>2]|0,d=c-g>>2,m=g,g=c,o>>>0<=d>>>0?(o>>>0<d>>>0&&(c=m+(o<<2)|0,(c|0)!=(g|0))&&(e[h>>2]=g+(~((g+-4-c|0)>>>2)<<2)),b=o):(q0(r,o-d|0),b=e[n>>2]|0),(b|0)<=0)return a=1,a|0;for(n=e[f>>2]|0,f=e[n>>2]|0,d=(e[n+4>>2]|0)-f>>2,o=f,f=0;;){if(d>>>0<=f>>>0){v=10;break}if(e[o+(f<<2)>>2]=f,f=f+1|0,(f|0)>=(b|0)){a=1,v=12;break}}if((v|0)==10)Je();else if((v|0)==12)return a|0;return 0}function I_(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0;o=q,q=q+16|0,a=o,f=Dt(32)|0,e[a>>2]=f,e[a+8>>2]=-2147483616,e[a+4>>2]=30,h=f,c=14791,g=h+30|0;do Z[h>>0]=Z[c>>0]|0,h=h+1|0,c=c+1|0;while((h|0)<(g|0));Z[f+30>>0]=0,f=r+4|0,Py(f,a,n),(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0),r=Dt(32)|0,e[a>>2]=r,e[a+8>>2]=-2147483616,e[a+4>>2]=29,h=r,c=14510,g=h+29|0;do Z[h>>0]=Z[c>>0]|0,h=h+1|0,c=c+1|0;while((h|0)<(g|0));if(Z[r+29>>0]=0,Py(f,a,n),(Z[a+11>>0]|0)>=0){q=o;return}ve(e[a>>2]|0),q=o}function W6(r){r=r|0;var n=0,o=0,a=0;n=e[r+84>>2]|0,n|0&&(o=r+88|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+72>>2]|0,n|0&&(a=r+76|0,(e[a>>2]|0)!=(n|0)&&(e[a>>2]=n),ve(n)),n=e[r+52>>2]|0,n|0&&(a=r+56|0,o=e[a>>2]|0,(o|0)!=(n|0)&&(e[a>>2]=o+(~((o+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+40>>2]|0,n|0&&(o=r+44|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+28>>2]|0,n|0&&(a=r+32|0,o=e[a>>2]|0,(o|0)!=(n|0)&&(e[a>>2]=o+(~((o+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+12>>2]|0,n|0&&ve(n),n=e[r>>2]|0,n&&ve(n)}function Hc(r){r=r|0;var n=0,o=0,a=0,f=0;e[r>>2]=1336,n=r+32|0,o=e[n>>2]|0,e[n>>2]=0,o|0&&(n=o+88|0,a=e[n>>2]|0,e[n>>2]=0,a|0&&(n=e[a+8>>2]|0,n|0&&(f=a+12|0,(e[f>>2]|0)!=(n|0)&&(e[f>>2]=n),ve(n)),ve(a)),a=e[o+68>>2]|0,a|0&&(n=o+72|0,f=e[n>>2]|0,(f|0)!=(a|0)&&(e[n>>2]=f+(~((f+-4-a|0)>>>2)<<2)),ve(a)),a=o+64|0,f=e[a>>2]|0,e[a>>2]=0,f|0&&(a=e[f>>2]|0,a|0&&(n=f+4|0,(e[n>>2]|0)!=(a|0)&&(e[n>>2]=a),ve(a)),ve(f)),ve(o)),o=e[r+16>>2]|0,o&&(f=r+20|0,r=e[f>>2]|0,(r|0)!=(o|0)&&(e[f>>2]=r+(~((r+-4-o|0)>>>2)<<2)),ve(o))}function _P(){var r=0,n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0;r=q,q=q+48|0,n=r+32|0,o=r+24|0,a=r+16|0,f=r,h=r+36|0,r=BF()|0,r|0&&(c=e[r>>2]|0,c|0)&&(r=c+48|0,g=e[r>>2]|0,d=e[r+4>>2]|0,(g&-256|0)==1126902528&(d|0)==1129074247||(e[o>>2]=17607,pd(17557,o)),(g|0)==1126902529&(d|0)==1129074247?m=e[c+44>>2]|0:m=c+80|0,e[h>>2]=m,m=e[c>>2]|0,c=e[m+4>>2]|0,Xo[e[(e[250]|0)+16>>2]&31](1e3,m,h)|0?(m=e[h>>2]|0,h=kn[e[(e[m>>2]|0)+8>>2]&127](m)|0,e[f>>2]=17607,e[f+4>>2]=c,e[f+8>>2]=h,pd(17471,f)):(e[a>>2]=17607,e[a+4>>2]=c,pd(17516,a))),pd(17595,n)}function kP(r,n,o){r=r|0,n=n|0,o=o|0;var a=0;do if(r){if(n>>>0<128){Z[r>>0]=n,a=1;break}if(o=(kC()|0)+188|0,!(e[e[o>>2]>>2]|0))if((n&-128|0)==57216){Z[r>>0]=n,a=1;break}else{o=fa()|0,e[o>>2]=84,a=-1;break}if(n>>>0<2048){Z[r>>0]=n>>>6|192,Z[r+1>>0]=n&63|128,a=2;break}if(n>>>0<55296|(n&-8192|0)==57344){Z[r>>0]=n>>>12|224,Z[r+1>>0]=n>>>6&63|128,Z[r+2>>0]=n&63|128,a=3;break}if((n+-65536|0)>>>0<1048576){Z[r>>0]=n>>>18|240,Z[r+1>>0]=n>>>12&63|128,Z[r+2>>0]=n>>>6&63|128,Z[r+3>>0]=n&63|128,a=4;break}else{o=fa()|0,e[o>>2]=84,a=-1;break}}else a=1;while(0);return a|0}function pr(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0;o=r+4|0,a=e[r>>2]|0,f=(e[o>>2]|0)-a|0,h=f>>2,c=h+1|0,c>>>0>1073741823&&Je(),g=r+8|0,d=(e[g>>2]|0)-a|0,m=d>>1,b=d>>2>>>0<536870911?m>>>0<c>>>0?c:m:1073741823;do if(b)if(b>>>0>1073741823)m=wn(8)|0,u0(m,14941),e[m>>2]=6944,yn(m|0,1080,114);else{m=Dt(b<<2)|0,v=m,x=m;break}else v=0,x=0;while(0);m=v+(h<<2)|0,e[m>>2]=e[n>>2],(f|0)>0&&Fr(x|0,a|0,f|0)|0,e[r>>2]=v,e[o>>2]=m+4,e[g>>2]=v+(b<<2),a&&ve(a)}function io(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0;return n=r+104|0,o=e[n>>2]|0,(o|0)!=0&&(e[r+108>>2]|0)>=(o|0)?a=4:(o=vF(r)|0,(o|0)>=0?(f=e[n>>2]|0,n=r+8|0,f?(h=e[n>>2]|0,c=e[r+4>>2]|0,g=f-(e[r+108>>2]|0)|0,f=h,(h-c|0)<(g|0)?(d=f,m=f):(d=c+(g+-1)|0,m=f)):(f=e[n>>2]|0,d=f,m=f),e[r+100>>2]=d,d=r+4|0,m?(f=e[d>>2]|0,d=r+108|0,e[d>>2]=m+1-f+(e[d>>2]|0),b=f):b=e[d>>2]|0,f=b+-1|0,(o|0)==(yi[f>>0]|0|0)||(Z[f>>0]=o),v=o):a=4),(a|0)==4&&(e[r+100>>2]=0,v=-1),v|0}function CP(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0,e[r>>2]=1528,e[r+4>>2]=n,n=r+8|0,e[n>>2]=e[o>>2],e[n+4>>2]=e[o+4>>2],e[n+8>>2]=e[o+8>>2],e[n+12>>2]=e[o+12>>2],e[n+16>>2]=e[o+16>>2],e[n+20>>2]=e[o+20>>2],cf(r+32|0,o+24|0),e[r>>2]=2144,o=r+44|0,e[o>>2]=e[a>>2],e[o+4>>2]=e[a+4>>2],e[o+8>>2]=e[a+8>>2],e[o+12>>2]=e[a+12>>2],e[r>>2]=2200,a=r+112|0,o=r+60|0,n=o+52|0;do e[o>>2]=0,o=o+4|0;while((o|0)<(n|0));Qy(a),e[r+152>>2]=0,e[r+156>>2]=0,e[r+160>>2]=0}function SP(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0;a=q,q=q+16|0,f=a,h=Dt(16)|0,e[f>>2]=h,e[f+8>>2]=-2147483632,e[f+4>>2]=14,c=h,g=12975,d=c+14|0;do Z[c>>0]=Z[g>>0]|0,c=c+1|0,g=g+1|0;while((c|0)<(d|0));Z[h+14>>0]=0,V2(r,f,n),(Z[f+11>>0]|0)<0&&ve(e[f>>2]|0),n=Dt(16)|0,e[f>>2]=n,e[f+8>>2]=-2147483632,e[f+4>>2]=14,c=n,g=12990,d=c+14|0;do Z[c>>0]=Z[g>>0]|0,c=c+1|0,g=g+1|0;while((c|0)<(d|0));if(Z[n+14>>0]=0,V2(r,f,o),(Z[f+11>>0]|0)>=0){q=a;return}ve(e[f>>2]|0),q=a}function _m(r){r=r|0;var n=0,o=0,a=0;e[r>>2]=3320,n=e[r+88>>2]|0,n|0&&(o=r+92|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+72>>2]|0,n|0&&(a=r+76|0,o=e[a>>2]|0,(o|0)!=(n|0)&&(e[a>>2]=o+(~((o+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+60>>2]|0,n|0&&(o=r+64|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+48>>2]|0,n|0&&(a=r+52|0,o=e[a>>2]|0,(o|0)!=(n|0)&&(e[a>>2]=o+(~((o+-4-n|0)>>>2)<<2)),ve(n)),e[r>>2]=3276,n=e[r+36>>2]|0,n|0&&ve(n),n=e[r+24>>2]|0,n&&ve(n)}function TP(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0,e[r>>2]=1528,e[r+4>>2]=n,n=r+8|0,e[n>>2]=e[o>>2],e[n+4>>2]=e[o+4>>2],e[n+8>>2]=e[o+8>>2],e[n+12>>2]=e[o+12>>2],e[n+16>>2]=e[o+16>>2],e[n+20>>2]=e[o+20>>2],cf(r+32|0,o+24|0),e[r>>2]=1836,o=r+44|0,e[o>>2]=e[a>>2],e[o+4>>2]=e[a+4>>2],e[o+8>>2]=e[a+8>>2],e[o+12>>2]=e[a+12>>2],e[r>>2]=1892,a=r+112|0,o=r+60|0,n=o+52|0;do e[o>>2]=0,o=o+4|0;while((o|0)<(n|0));Qy(a),e[r+152>>2]=0,e[r+156>>2]=0,e[r+160>>2]=0}function D_(r){r=r|0;var n=0,o=0,a=0;e[r>>2]=2200,n=e[r+152>>2]|0,n|0&&(o=r+156|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+112>>2]|0,n|0&&(a=r+116|0,o=e[a>>2]|0,(o|0)!=(n|0)&&(e[a>>2]=o+(~((o+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+96>>2]|0,n|0&&ve(n),n=e[r+84>>2]|0,n|0&&ve(n),n=e[r+72>>2]|0,n|0&&ve(n),n=e[r+60>>2]|0,n|0&&ve(n),e[r>>2]=1528,n=e[r+32>>2]|0,n&&(o=r+36|0,r=e[o>>2]|0,(r|0)!=(n|0)&&(e[o>>2]=r+(~((r+-4-n|0)>>>2)<<2)),ve(n))}function MP(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0;if(o=q,q=q+16|0,a=o,f=e[(e[n+4>>2]|0)+4>>2]|0,!f){e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,q=o;return}if(WP(o+12|0,e[n+44>>2]|0,f)|0)e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0;else{f=Dt(32)|0,e[a>>2]=f,e[a+8>>2]=-2147483616,e[a+4>>2]=26,n=f,h=14822,c=n+26|0;do Z[n>>0]=Z[h>>0]|0,n=n+1|0,h=h+1|0;while((n|0)<(c|0));Z[f+26>>0]=0,e[r>>2]=-1,T0(r+4|0,a),(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0)}q=o}function P_(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0;if(o=n+48|0,(ol(e[o>>2]|0)|0)>9||(kn[e[(e[n>>2]|0)+8>>2]&127](n)|0)!=1)return a=0,a|0;f=n+4|0,n=(e[(e[(e[f>>2]|0)+8>>2]|0)+(r<<2)>>2]|0)+56|0,r=e[n>>2]|0;do if((r|0)==3){if((ol(e[o>>2]|0)|0)<4)return a=5,a|0;h=e[n>>2]|0;break}else h=r;while(0);return r=ol(e[o>>2]|0)|0,(h|0)==1?(a=(r|0)<4?6:0,a|0):(r|0)>7?(a=0,a|0):(ol(e[o>>2]|0)|0)>1?(a=1,a|0):((e[(e[f>>2]|0)+80>>2]|0)>>>0<40?1:4)|0}function L_(r){r=r|0;var n=0,o=0,a=0;e[r>>2]=1892,n=e[r+152>>2]|0,n|0&&(o=r+156|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+112>>2]|0,n|0&&(a=r+116|0,o=e[a>>2]|0,(o|0)!=(n|0)&&(e[a>>2]=o+(~((o+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+96>>2]|0,n|0&&ve(n),n=e[r+84>>2]|0,n|0&&ve(n),n=e[r+72>>2]|0,n|0&&ve(n),n=e[r+60>>2]|0,n|0&&ve(n),e[r>>2]=1528,n=e[r+32>>2]|0,n&&(o=r+36|0,r=e[o>>2]|0,(r|0)!=(n|0)&&(e[o>>2]=r+(~((r+-4-n|0)>>>2)<<2)),ve(n))}function RP(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0;f=q,q=q+128|0,h=f+124|0,c=f,g=c,d=6284,m=g+124|0;do e[g>>2]=e[d>>2],g=g+4|0,d=d+4|0;while((g|0)<(m|0));return(n+-1|0)>>>0>2147483646?n?(h=fa()|0,e[h>>2]=75,C=-1):(b=h,v=1,x=4):(b=r,v=n,x=4),(x|0)==4&&(x=-2-b|0,n=v>>>0>x>>>0?x:v,e[c+48>>2]=n,v=c+20|0,e[v>>2]=b,e[c+44>>2]=b,x=b+n|0,b=c+16|0,e[b>>2]=x,e[c+28>>2]=x,x=w_(c,o,a)|0,n&&(n=e[v>>2]|0,Z[n+(((n|0)==(e[b>>2]|0))<<31>>31)>>0]=0),C=x),q=f,C|0}function BP(r){r=r|0;var n=0,o=0,a=0,f=0;e[r>>2]=3080,n=r+72|0,o=r+136|0,a=r+4|0,f=a+64|0;do e[a>>2]=0,a=a+4|0;while((a|0)<(f|0));a=n,f=a+64|0;do e[a>>2]=0,a=a+4|0;while((a|0)<(f|0));br[o>>2]=qt(1),o=r+140|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[r+164>>2]=-1,o=r+168|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,e[o+24>>2]=0,_n(r+200|0),fl(r+232|0),o=r+264|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=0,e[o+20>>2]=0,Z[o+24>>0]=0}function IP(r,n,o,a){r=r|0,n=n|0,o=o|0,a=+a;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0;return r=q,q=q+16|0,f=r,n?(e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,c=Uc(o)|0,c>>>0>4294967279&&Je(),c>>>0<11?(Z[f+11>>0]=c,c?(d=f,m=7):g=f):(b=c+16&-16,v=Dt(b)|0,e[f>>2]=v,e[f+8>>2]=b|-2147483648,e[f+4>>2]=c,d=v,m=7),(m|0)==7&&(Fr(d|0,o|0,c|0)|0,g=d),Z[g+c>>0]=0,FN(n,f,a),(Z[f+11>>0]|0)<0&&ve(e[f>>2]|0),h=1,q=r,h|0):(h=0,q=r,h|0)}function DP(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0;return r=q,q=q+16|0,f=r,n?(e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,c=Uc(o)|0,c>>>0>4294967279&&Je(),c>>>0<11?(Z[f+11>>0]=c,c?(d=f,m=7):g=f):(b=c+16&-16,v=Dt(b)|0,e[f>>2]=v,e[f+8>>2]=b|-2147483648,e[f+4>>2]=c,d=v,m=7),(m|0)==7&&(Fr(d|0,o|0,c|0)|0,g=d),Z[g+c>>0]=0,ON(n,f,a),(Z[f+11>>0]|0)<0&&ve(e[f>>2]|0),h=1,q=r,h|0):(h=0,q=r,h|0)}function Kf(r){r=r|0;var n=0,o=0,a=0,f=0,h=0;if(n=e[r+28>>2]|0,n|0){o=n;do n=o,o=e[o>>2]|0,a=n+8|0,f=n+20|0,h=e[f>>2]|0,e[f>>2]=0,h|0&&(Kf(h),ve(h)),(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0),ve(n);while((o|0)!=0)}if(o=r+20|0,n=e[o>>2]|0,e[o>>2]=0,n|0&&ve(n),n=e[r+8>>2]|0,n|0){o=n;do n=o,o=e[o>>2]|0,a=n+8|0,h=e[n+20>>2]|0,h|0&&(f=n+24|0,(e[f>>2]|0)!=(h|0)&&(e[f>>2]=h),ve(h)),(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0),ve(n);while((o|0)!=0)}o=e[r>>2]|0,e[r>>2]=0,o&&ve(o)}function PP(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0;if(o=q,q=q+16|0,a=o,nA[e[(e[n>>2]|0)+64>>2]&15](r,n),e[r>>2]|0){q=o;return}f=r+4|0,(Z[f+11>>0]|0)<0&&ve(e[f>>2]|0),f=e[n+48>>2]|0,h=Dt(32)|0,e[a>>2]=h,e[a+8>>2]=-2147483616,e[a+4>>2]=29,c=h,g=14510,d=c+29|0;do Z[c>>0]=Z[g>>0]|0,c=c+1|0,g=g+1|0;while((c|0)<(d|0));Z[h+29>>0]=0,h=j2(f,a,0)|0,(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0),h&&Fn[e[(e[n>>2]|0)+68>>2]&127](n),e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,q=o}function Q6(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0;if(a=q,q=q+16|0,f=a,h=e[n+48>>2]|0,!h){c=Dt(32)|0,e[f>>2]=c,e[f+8>>2]=-2147483616,e[f+4>>2]=23,g=c,d=14670,m=g+23|0;do Z[g>>0]=Z[d>>0]|0,g=g+1|0,d=d+1|0;while((g|0)<(m|0));Z[c+23>>0]=0,e[r>>2]=-1,T0(r+4|0,f),(Z[f+11>>0]|0)<0&&ve(e[f>>2]|0),q=a;return}if(f=e[n+52>>2]|0,f){G0(r,n,f,o),q=a;return}else{x0(r,n,h,o),q=a;return}}function N_(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0;if(Sn(r),n=r+84|0,o=e[n>>2]|0,!((o|0)<=0)){a=o<<5,f=Fl(o>>>0>134217727|a>>>0>4294967291?-1:a+4|0)|0,e[f>>2]=o,a=f+4|0,f=a+(o<<5)|0,o=a;do _n(o),o=o+32|0;while((o|0)!=(f|0));if(f=r+80|0,r=e[f>>2]|0,e[f>>2]=a,r|0){if(a=r+-4|0,o=e[a>>2]|0,o|0){h=r+(o<<5)|0;do h=h+-32|0,ln(h);while((h|0)!=(r|0))}N0(a)}if((e[n>>2]|0)>0)c=0;else return;do Sn((e[f>>2]|0)+(c<<5)|0),c=c+1|0;while((c|0)<(e[n>>2]|0))}}function F_(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0;if(!n||e[n+4>>2]|0)return a=0,a|0;if(r=Dt(52)|0,gx(r,o),e[r+40>>2]=0,e[r+44>>2]=0,e[r+48>>2]=0,o=n+4|0,n=e[o>>2]|0,e[o>>2]=r,!n)return a=1,a|0;if(r=n+40|0,o=e[r>>2]|0,o|0){if(f=n+44|0,h=e[f>>2]|0,(h|0)==(o|0))c=o;else{g=h;do h=g+-4|0,e[f>>2]=h,d=e[h>>2]|0,e[h>>2]=0,d|0&&(Kf(d),ve(d)),g=e[f>>2]|0;while((g|0)!=(o|0));c=e[r>>2]|0}ve(c)}return Kf(n),ve(n),a=1,a|0}function zn(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0;o=e[r>>2]|0,n?(n=o+8|0,a=n,f=Wt(e[a>>2]|0,e[a+4>>2]|0,1,0)|0,a=n,e[a>>2]=f,e[a+4>>2]=Xe,a=r+28|0,f=e[a>>2]|0,n=r+24|0,e[n>>2]=e[n>>2]|1<<f,h=a,c=f):(f=o,a=Wt(e[f>>2]|0,e[f+4>>2]|0,1,0)|0,f=o,e[f>>2]=a,e[f+4>>2]=Xe,f=r+28|0,h=f,c=e[f>>2]|0),f=c+1|0,e[h>>2]=f,(f|0)==32&&(f=r+24|0,c=r+16|0,a=e[c>>2]|0,(a|0)==(e[r+20>>2]|0)?pr(r+12|0,f):(e[a>>2]=e[f>>2],e[c>>2]=a+4),e[h>>2]=0,e[f>>2]=0)}function J6(r,n){r=r|0,n=n|0;var o=0,a=0;o=r+32|0,r=e[n>>2]|0,e[n>>2]=0,n=e[o>>2]|0,e[o>>2]=r,n&&(r=n+88|0,o=e[r>>2]|0,e[r>>2]=0,o|0&&(r=e[o+8>>2]|0,r|0&&(a=o+12|0,(e[a>>2]|0)!=(r|0)&&(e[a>>2]=r),ve(r)),ve(o)),o=e[n+68>>2]|0,o|0&&(r=n+72|0,a=e[r>>2]|0,(a|0)!=(o|0)&&(e[r>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ve(o)),o=n+64|0,a=e[o>>2]|0,e[o>>2]=0,a|0&&(o=e[a>>2]|0,o|0&&(r=a+4|0,(e[r>>2]|0)!=(o|0)&&(e[r>>2]=o),ve(o)),ve(a)),ve(n))}function LP(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0;return a=q,q=q+16|0,f=a,n|0&&(h=r+11|0,c=Z[h>>0]|0,c<<24>>24<0?(g=e[r+4>>2]|0,d=(e[r+8>>2]&2147483647)+-1|0):(g=c&255,d=10),(d-g|0)>>>0<n>>>0?(jP(r,d,n-d+g|0,g,g,0,0),m=Z[h>>0]|0):m=c,m<<24>>24<0?b=e[r>>2]|0:b=r,KF(b+g|0,n,o)|0,o=g+n|0,(Z[h>>0]|0)<0?e[r+4>>2]=o:Z[h>>0]=o,Z[f>>0]=0,gd(b+o|0,f)),q=a,r|0}function NP(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0;a=q,q=q+48|0,f=a+4|0,h=a,c=e[n+12>>2]|0,g=e[n+4>>2]|0,n=f,d=n+36|0;do e[n>>2]=0,n=n+4|0;while((n|0)<(d|0));if(FD(h,o,c,g,f),g=e[f+24>>2]|0,!g){m=e[h>>2]|0,e[r>>2]=m,q=a;return}c=f+28|0,f=e[c>>2]|0,(f|0)!=(g|0)&&(e[c>>2]=f+(~((f+-4-g|0)>>>2)<<2)),ve(g),m=e[h>>2]|0,e[r>>2]=m,q=a}function FP(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0;a=q,q=q+16|0,f=a,h=r+11|0,c=Z[h>>0]|0,g=c<<24>>24<0,g?d=(e[r+8>>2]&2147483647)+-1|0:d=10;do if(d>>>0>=o>>>0)if(g?m=e[r>>2]|0:m=r,kO(m,n,o)|0,Z[f>>0]=0,gd(m+o|0,f),(Z[h>>0]|0)<0){e[r+4>>2]=o;break}else{Z[h>>0]=o;break}else g?b=e[r+4>>2]|0:b=c&255,M_(r,d,o-d|0,b,0,b,o,n);while(0);return q=a,r|0}function O_(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0;if(n=e[r>>2]|0,!!n){if(o=r+4|0,a=e[o>>2]|0,(a|0)==(n|0))f=n;else{h=a;do e[o>>2]=h+-136,a=e[h+-20>>2]|0,a|0&&(c=h+-16|0,g=e[c>>2]|0,(g|0)!=(a|0)&&(e[c>>2]=g+(~((g+-4-a|0)>>>2)<<2)),ve(a)),a=e[h+-32>>2]|0,a|0&&(g=h+-28|0,c=e[g>>2]|0,(c|0)!=(a|0)&&(e[g>>2]=c+(~((c+-4-a|0)>>>2)<<2)),ve(a)),W6(h+-132|0),h=e[o>>2]|0;while((h|0)!=(n|0));f=e[r>>2]|0}ve(f)}}function H_(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0;return a=q,q=q+16|0,f=a,h=r+11|0,c=Z[h>>0]|0,g=c<<24>>24<0,g?(d=e[r+4>>2]|0,m=(e[r+8>>2]&2147483647)+-1|0):(d=c&255,m=10),(m-d|0)>>>0>=o>>>0?o|0&&(g?b=e[r>>2]|0:b=r,eu(b+d|0,n,o)|0,g=d+o|0,(Z[h>>0]|0)<0?e[r+4>>2]=g:Z[h>>0]=g,Z[f>>0]=0,gd(b+g|0,f)):M_(r,m,o-m+d|0,d,d,0,o,n),q=a,r|0}function km(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0;if(e[r>>2]=3608,n=e[r+32>>2]|0,n|0&&(o=r+36|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+20>>2]|0,n|0&&(a=r+24|0,o=e[a>>2]|0,(o|0)!=(n|0)&&(e[a>>2]=o+(~((o+-4-n|0)>>>2)<<2)),ve(n)),n=r+8|0,o=e[n>>2]|0,!!o){if(a=r+12|0,r=e[a>>2]|0,(r|0)==(o|0))f=o;else{h=r;do r=h+-4|0,e[a>>2]=r,c=e[r>>2]|0,e[r>>2]=0,c|0&&Fn[e[(e[c>>2]|0)+4>>2]&127](c),h=e[a>>2]|0;while((h|0)!=(o|0));f=e[n>>2]|0}ve(f)}}function OP(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0;if(o=r+4|0,(kn[e[(e[n>>2]|0)+20>>2]&127](n)|0)<=0)return a=1,a|0;for(r=0;;){if(f=e[(e[o>>2]|0)+4>>2]|0,h=Gy(f,M0[e[(e[n>>2]|0)+24>>2]&127](n,r)|0)|0,(h|0)==-1){a=0,c=6;break}if(f=e[(e[n>>2]|0)+28>>2]|0,g=yN(e[o>>2]|0,h)|0,r=r+1|0,!(M0[f&127](n,g)|0)){a=0,c=6;break}if((r|0)>=(kn[e[(e[n>>2]|0)+20>>2]&127](n)|0)){a=1,c=6;break}}return(c|0)==6?a|0:0}function HP(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0;if(Kk(r,n,o)|0,!(kn[e[(e[r>>2]|0)+52>>2]&127](r)|0))return a=0,a|0;if(o=r+4|0,f=r+8|0,h=e[o>>2]|0,(e[f>>2]|0)==(h|0))return a=1,a|0;for(c=r+36|0,r=0,g=h;;){if(h=e[(e[c>>2]|0)+(r<<2)>>2]|0,!(Xo[e[(e[h>>2]|0)+8>>2]&31](h,n,e[g+(r<<2)>>2]|0)|0)){a=0,d=7;break}if(r=r+1|0,g=e[o>>2]|0,r>>>0>=(e[f>>2]|0)-g>>2>>>0){a=1,d=7;break}}return(d|0)==7?a|0:0}function T0(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0;o=q,q=q+16|0,a=o,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,(Z[n+11>>0]|0)<0?(f=e[n>>2]|0,h=e[n+4>>2]|0,h>>>0>4294967279&&Je(),h>>>0<11?(Z[r+11>>0]=h,c=r):(g=h+16&-16,d=Dt(g)|0,e[r>>2]=d,e[r+8>>2]=g|-2147483648,e[r+4>>2]=h,c=d),eu(c,f,h)|0,Z[a>>0]=0,gd(c+h|0,a)):(e[r>>2]=e[n>>2],e[r+4>>2]=e[n+4>>2],e[r+8>>2]=e[n+8>>2]),q=o}function U_(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0;if(o=q,q=q+16|0,a=o+8|0,f=o+4|0,h=o,e[h>>2]=e[(e[n+4>>2]|0)+80>>2],c=e[n+44>>2]|0,n=c+16|0,g=e[n+4>>2]|0,(g|0)>0|(g|0)==0&(e[n>>2]|0)>>>0>0){e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,q=o;return}e[f>>2]=e[c+4>>2],e[a>>2]=e[f>>2],vr(c,a,h,h+4|0)|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,q=o}function V_(r,n,o,a,f){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0;var h=0,c=0;Z[n+53>>0]=1;do if((e[n+4>>2]|0)==(a|0)){if(Z[n+52>>0]=1,r=n+16|0,h=e[r>>2]|0,!h){if(e[r>>2]=o,e[n+24>>2]=f,e[n+36>>2]=1,!((f|0)==1&&(e[n+48>>2]|0)==1))break;Z[n+54>>0]=1;break}if((h|0)!=(o|0)){h=n+36|0,e[h>>2]=(e[h>>2]|0)+1,Z[n+54>>0]=1;break}h=n+24|0,r=e[h>>2]|0,(r|0)==2?(e[h>>2]=f,c=f):c=r,(c|0)==1&&(e[n+48>>2]|0)==1&&(Z[n+54>>0]=1)}while(0)}function UP(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0;if(o=r+36|0,a=r+40|0,f=e[o>>2]|0,(e[a>>2]|0)!=(f|0)){h=0,c=f;do wr(c+(h*24|0)|0,n)|0,h=h+1|0,c=e[o>>2]|0;while(h>>>0<(((e[a>>2]|0)-c|0)/24|0)>>>0)}if(c=r+48|0,a=r+52|0,r=e[c>>2]|0,(e[a>>2]|0)==(r|0))return 1;g=0,d=r;do r=e[d+(g<<2)>>2]|0,p0(r<<1^r>>31,n)|0,g=g+1|0,d=e[c>>2]|0;while(g>>>0<(e[a>>2]|0)-d>>2>>>0);return 1}function Mi(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0;if(a=r+o|0,n=n&255,(o|0)>=67){for(;r&3;)Z[r>>0]=n,r=r+1|0;for(f=a&-4|0,h=f-64|0,c=n|n<<8|n<<16|n<<24;(r|0)<=(h|0);)e[r>>2]=c,e[r+4>>2]=c,e[r+8>>2]=c,e[r+12>>2]=c,e[r+16>>2]=c,e[r+20>>2]=c,e[r+24>>2]=c,e[r+28>>2]=c,e[r+32>>2]=c,e[r+36>>2]=c,e[r+40>>2]=c,e[r+44>>2]=c,e[r+48>>2]=c,e[r+52>>2]=c,e[r+56>>2]=c,e[r+60>>2]=c,r=r+64|0;for(;(r|0)<(f|0);)e[r>>2]=c,r=r+4|0}for(;(r|0)<(a|0);)Z[r>>0]=n,r=r+1|0;return a-o|0}function VP(r,n,o,a,f){r=r|0,n=n|0,o=o|0,a=a|0;var h=0;do if(tu(r,e[n+8>>2]|0)|0)jk(0,n,o,a);else if(tu(r,e[n>>2]|0)|0){if((e[n+16>>2]|0)!=(o|0)&&(h=n+20|0,(e[h>>2]|0)!=(o|0))){e[n+32>>2]=a,e[h>>2]=o,h=n+40|0,e[h>>2]=(e[h>>2]|0)+1,(e[n+36>>2]|0)==1&&(e[n+24>>2]|0)==2&&(Z[n+54>>0]=1),e[n+44>>2]=4;break}(a|0)==1&&(e[n+32>>2]=1)}while(0)}function X6(r){r=r|0;var n=0,o=0,a=0,f=0;if(n=r+80|0,o=e[n>>2]|0,e[n>>2]=0,o|0){if(n=o+-4|0,a=e[n>>2]|0,a|0){f=o+(a<<5)|0;do f=f+-32|0,ln(f);while((f|0)!=(o|0))}N0(n)}if(n=e[r+68>>2]|0,n|0&&(o=r+72|0,f=e[o>>2]|0,(f|0)!=(n|0)&&(e[o>>2]=f+(~((f+-4-n|0)>>>2)<<2)),ve(n)),n=r+44|0,f=e[n>>2]|0,e[n>>2]=0,f|0&&ve(f),f=e[r+32>>2]|0,!f){ln(r);return}n=r+36|0,(e[n>>2]|0)!=(f|0)&&(e[n>>2]=f),ve(f),ln(r)}function j_(r){r=r|0;var n=0,o=0,a=0;e[r>>2]=2684,n=e[r+136>>2]|0,n|0&&(o=r+140|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+96>>2]|0,n|0&&(a=r+100|0,o=e[a>>2]|0,(o|0)!=(n|0)&&(e[a>>2]=o+(~((o+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+76>>2]|0,n|0&&ve(n),n=e[r+64>>2]|0,n|0&&ve(n),n=e[r+52>>2]|0,n|0&&ve(n),n=e[r+40>>2]|0,n&&ve(n)}function jP(r,n,o,a,f,h,c){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,c=c|0;var g=0,d=0,m=0,b=0;(-17-n|0)>>>0<o>>>0&&Je(),(Z[r+11>>0]|0)<0?g=e[r>>2]|0:g=r,n>>>0<2147483623?(d=o+n|0,o=n<<1,m=d>>>0<o>>>0?o:d,b=m>>>0<11?11:m+16&-16):b=-17,m=Dt(b)|0,f|0&&eu(m,g,f)|0,d=a-h-f|0,d|0&&eu(m+f+c|0,g+f+h|0,d)|0,(n|0)!=10&&ve(g),e[r>>2]=m,e[r+8>>2]=b|-2147483648}function G_(r){r=r|0;var n=0,o=0,a=0;e[r>>2]=2432,n=e[r+136>>2]|0,n|0&&(o=r+140|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+96>>2]|0,n|0&&(a=r+100|0,o=e[a>>2]|0,(o|0)!=(n|0)&&(e[a>>2]=o+(~((o+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+76>>2]|0,n|0&&ve(n),n=e[r+64>>2]|0,n|0&&ve(n),n=e[r+52>>2]|0,n|0&&ve(n),n=e[r+40>>2]|0,n&&ve(n)}function Cm(r,n){if(r=r|0,n=n|0,n){Cm(r,e[n>>2]|0),Cm(r,e[n+4>>2]|0),hs(n+20|0,e[n+24>>2]|0),ve(n);return}else return}function GP(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0;if(bs(r,n,o),o=e[r+100>>2]|0,a=e[r+96>>2]|0,r=a,(o|0)!=(a|0)){f=e[n>>2]|0,n=(o-a|0)/12|0,a=0;do o=r+(a*12|0)|0,e[o>>2]=e[f+(e[o>>2]<<2)>>2],o=r+(a*12|0)+4|0,e[o>>2]=e[f+(e[o>>2]<<2)>>2],o=r+(a*12|0)+8|0,e[o>>2]=e[f+(e[o>>2]<<2)>>2],a=a+1|0;while(a>>>0<n>>>0)}}function q6(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0;return o=r+64|0,(e[o>>2]|0)==0&&(a=Dt(32)|0,NF(a),f=e[o>>2]|0,e[o>>2]=a,f|0)&&(a=e[f>>2]|0,a|0&&(h=f+4|0,(e[h>>2]|0)!=(a|0)&&(e[h>>2]=a),ve(a)),ve(f)),f=jy(e[r+28>>2]|0)|0,a=_i(f,Z[r+24>>0]|0)|0,f=((a|0)<0)<<31>>31,h=e[o>>2]|0,c=zi(a|0,f|0,n|0,0)|0,aP(h,0,c,Xe)|0?(eN(r,e[o>>2]|0,a,f,0,0),e[r+80>>2]=n,g=1,g|0):(g=0,g|0)}function zP(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0;if(a=q,q=q+64|0,f=a,tu(r,n)|0)d=1;else if((n|0)!=0&&(h=O6(n,1024,1008,0)|0,(h|0)!=0)){n=f+4|0,c=n+52|0;do e[n>>2]=0,n=n+4|0;while((n|0)<(c|0));e[f>>2]=h,e[f+8>>2]=r,e[f+12>>2]=-1,e[f+48>>2]=1,Fx[e[(e[h>>2]|0)+28>>2]&7](h,f,e[o>>2]|0,1),(e[f+24>>2]|0)==1?(e[o>>2]=e[f+16>>2],g=1):g=0,d=g}else d=0;return q=a,d|0}function WP(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0;if(!o)return a=0,a|0;if(f=o+40|0,h=o+44|0,p0((e[h>>2]|0)-(e[f>>2]|0)>>2,n)|0,c=e[f>>2]|0,f=e[h>>2]|0,(c|0)!=(f|0)){h=c;do c=e[h>>2]|0,c|0&&(p0(e[c+40>>2]|0,n)|0,ct(r,n,c)|0),h=h+4|0;while((h|0)!=(f|0))}return ct(r,n,o)|0,a=1,a|0}function hs(r,n){r=r|0,n=n|0;var o=0;!n||(hs(r,e[n>>2]|0),hs(r,e[n+4>>2]|0),r=n+16|0,o=n+28|0,(Z[o+11>>0]|0)<0&&ve(e[o>>2]|0),(Z[r+11>>0]|0)<0&&ve(e[r>>2]|0),ve(n))}function ln(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0;if(n=q,q=q+16|0,o=n,a=o,e[a>>2]=0,e[a+4>>2]=0,F2(r,2,o),o=e[r+12>>2]|0,a=r+16|0,f=e[a>>2]|0,(f|0)==(o|0)?h=o:(c=f+(~((f+-4-o|0)>>>2)<<2)|0,e[a>>2]=c,h=c),e[r+24>>2]=0,e[r+28>>2]=0,o|0&&((h|0)!=(o|0)&&(e[a>>2]=h+(~((h+-4-o|0)>>>2)<<2)),ve(o)),o=e[r>>2]|0,!o){q=n;return}h=r+4|0,r=e[h>>2]|0,(r|0)!=(o|0)&&(e[h>>2]=r+(~((r+-8-o|0)>>>3)<<3)),ve(o),q=n}function z_(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0,Gt=0,ci=0,mi=0,ji=0,di=0,Ei=0,ni=0,Ri=0,Ni=0,ai=0,gi=0,oi=0,ti=0,Vi=0,Ji=0,Wi=0,Hi=0;n=q,q=q+16|0,o=n;do if(r>>>0<245){if(a=r>>>0<11?16:r+11&-8,f=a>>>3,h=e[4512]|0,c=h>>>f,c&3|0)return g=(c&1^1)+f|0,d=18088+(g<<1<<2)|0,m=d+8|0,b=e[m>>2]|0,v=b+8|0,x=e[v>>2]|0,(x|0)==(d|0)?e[4512]=h&~(1<<g):(e[x+12>>2]=d,e[m>>2]=x),x=g<<3,e[b+4>>2]=x|3,g=b+x+4|0,e[g>>2]=e[g>>2]|1,C=v,q=n,C|0;if(v=e[4514]|0,a>>>0>v>>>0){if(c|0)return g=2<<f,x=c<<f&(g|0-g),g=(x&0-x)+-1|0,x=g>>>12&16,f=g>>>x,g=f>>>5&8,c=f>>>g,f=c>>>2&4,b=c>>>f,c=b>>>1&2,m=b>>>c,b=m>>>1&1,d=(g|x|f|c|b)+(m>>>b)|0,b=18088+(d<<1<<2)|0,m=b+8|0,c=e[m>>2]|0,f=c+8|0,x=e[f>>2]|0,(x|0)==(b|0)?(g=h&~(1<<d),e[4512]=g,S=g):(e[x+12>>2]=b,e[m>>2]=x,S=h),x=d<<3,d=x-a|0,e[c+4>>2]=a|3,m=c+a|0,e[m+4>>2]=d|1,e[c+x>>2]=d,v|0&&(x=e[4517]|0,c=v>>>3,b=18088+(c<<1<<2)|0,g=1<<c,S&g?(g=b+8|0,M=e[g>>2]|0,I=g):(e[4512]=S|g,M=b,I=b+8|0),e[I>>2]=x,e[M+12>>2]=x,e[x+8>>2]=M,e[x+12>>2]=b),e[4514]=d,e[4517]=m,C=f,q=n,C|0;if(f=e[4513]|0,f){if(m=(f&0-f)+-1|0,d=m>>>12&16,b=m>>>d,m=b>>>5&8,x=b>>>m,b=x>>>2&4,g=x>>>b,x=g>>>1&2,c=g>>>x,g=c>>>1&1,D=e[18352+((m|d|b|x|g)+(c>>>g)<<2)>>2]|0,g=(e[D+4>>2]&-8)-a|0,c=e[D+16+(((e[D+16>>2]|0)==0&1)<<2)>>2]|0,!c)L=D,N=g;else for(x=D,D=g,g=c;;)if(c=(e[g+4>>2]&-8)-a|0,b=c>>>0<D>>>0,d=b?c:D,c=b?g:x,g=e[g+16+(((e[g+16>>2]|0)==0&1)<<2)>>2]|0,g)x=c,D=d;else{L=c,N=d;break}if(D=L+a|0,D>>>0>L>>>0){x=e[L+24>>2]|0,g=e[L+12>>2]|0;do if((g|0)==(L|0)){if(d=L+20|0,c=e[d>>2]|0,c)V=c,Q=d;else if(b=L+16|0,m=e[b>>2]|0,m)V=m,Q=b;else{X=0;break}for(;;){if(d=V+20|0,c=e[d>>2]|0,c|0){V=c,Q=d;continue}if(d=V+16|0,c=e[d>>2]|0,c)V=c,Q=d;else break}e[Q>>2]=0,X=V}else d=e[L+8>>2]|0,e[d+12>>2]=g,e[g+8>>2]=d,X=g;while(0);do if(x|0){if(g=e[L+28>>2]|0,d=18352+(g<<2)|0,(L|0)==(e[d>>2]|0)){if(e[d>>2]=X,!X){e[4513]=f&~(1<<g);break}}else if(e[x+16+(((e[x+16>>2]|0)!=(L|0)&1)<<2)>>2]=X,!X)break;e[X+24>>2]=x,g=e[L+16>>2]|0,g|0&&(e[X+16>>2]=g,e[g+24>>2]=X),g=e[L+20>>2]|0,g|0&&(e[X+20>>2]=g,e[g+24>>2]=X)}while(0);return N>>>0<16?(x=N+a|0,e[L+4>>2]=x|3,f=L+x+4|0,e[f>>2]=e[f>>2]|1):(e[L+4>>2]=a|3,e[D+4>>2]=N|1,e[D+N>>2]=N,v|0&&(f=e[4517]|0,x=v>>>3,g=18088+(x<<1<<2)|0,d=1<<x,h&d?(d=g+8|0,U=e[d>>2]|0,j=d):(e[4512]=h|d,U=g,j=g+8|0),e[j>>2]=f,e[U+12>>2]=f,e[f+8>>2]=U,e[f+12>>2]=g),e[4514]=N,e[4517]=D),C=L+8|0,q=n,C|0}else $=a}else $=a}else $=a}else if(r>>>0<=4294967231)if(g=r+11|0,f=g&-8,d=e[4513]|0,d){x=0-f|0,c=g>>>8,c?f>>>0>16777215?J=31:(g=(c+1048320|0)>>>16&8,b=c<<g,c=(b+520192|0)>>>16&4,m=b<<c,b=(m+245760|0)>>>16&2,F=14-(c|g|b)+(m<<b>>>15)|0,J=f>>>(F+7|0)&1|F<<1):J=0,F=e[18352+(J<<2)>>2]|0;e:do if(!F)K=0,re=0,se=x,fe=57;else for(b=0,m=x,g=F,c=f<<((J|0)==31?0:25-(J>>>1)|0),Ee=0;;){if(Ne=(e[g+4>>2]&-8)-f|0,Ne>>>0<m>>>0)if(Ne)Ce=g,We=Ne;else{me=0,Ie=g,_e=g,fe=61;break e}else Ce=b,We=m;if(Ne=e[g+20>>2]|0,g=e[g+16+(c>>>31<<2)>>2]|0,at=(Ne|0)==0|(Ne|0)==(g|0)?Ee:Ne,Ne=(g|0)==0,Ne){K=at,re=Ce,se=We,fe=57;break}else b=Ce,m=We,c=c<<((Ne^1)&1),Ee=at}while(0);if((fe|0)==57){if((K|0)==0&(re|0)==0){if(F=2<<J,x=d&(F|0-F),!x){$=f;break}F=(x&0-x)+-1|0,x=F>>>12&16,a=F>>>x,F=a>>>5&8,D=a>>>F,a=D>>>2&4,h=D>>>a,D=h>>>1&2,v=h>>>D,h=v>>>1&1,Ke=0,Ve=e[18352+((F|x|a|D|h)+(v>>>h)<<2)>>2]|0}else Ke=re,Ve=K;Ve?(me=se,Ie=Ve,_e=Ke,fe=61):(Ue=Ke,st=se)}if((fe|0)==61)for(;;)if(fe=0,h=(e[Ie+4>>2]&-8)-f|0,v=h>>>0<me>>>0,D=v?h:me,h=v?Ie:_e,Ie=e[Ie+16+(((e[Ie+16>>2]|0)==0&1)<<2)>>2]|0,Ie)me=D,_e=h,fe=61;else{Ue=h,st=D;break}if((Ue|0)!=0&&st>>>0<((e[4514]|0)-f|0)>>>0){if(h=Ue+f|0,h>>>0<=Ue>>>0)return C=0,q=n,C|0;D=e[Ue+24>>2]|0,v=e[Ue+12>>2]|0;do if((v|0)==(Ue|0)){if(a=Ue+20|0,x=e[a>>2]|0,x)it=x,ze=a;else if(F=Ue+16|0,Ee=e[F>>2]|0,Ee)it=Ee,ze=F;else{Qe=0;break}for(;;){if(a=it+20|0,x=e[a>>2]|0,x|0){it=x,ze=a;continue}if(a=it+16|0,x=e[a>>2]|0,x)it=x,ze=a;else break}e[ze>>2]=0,Qe=it}else a=e[Ue+8>>2]|0,e[a+12>>2]=v,e[v+8>>2]=a,Qe=v;while(0);do if(D){if(v=e[Ue+28>>2]|0,a=18352+(v<<2)|0,(Ue|0)==(e[a>>2]|0)){if(e[a>>2]=Qe,!Qe){a=d&~(1<<v),e[4513]=a,Ge=a;break}}else if(e[D+16+(((e[D+16>>2]|0)!=(Ue|0)&1)<<2)>>2]=Qe,!Qe){Ge=d;break}e[Qe+24>>2]=D,a=e[Ue+16>>2]|0,a|0&&(e[Qe+16>>2]=a,e[a+24>>2]=Qe),a=e[Ue+20>>2]|0,a&&(e[Qe+20>>2]=a,e[a+24>>2]=Qe),Ge=d}else Ge=d;while(0);do if(st>>>0>=16){if(e[Ue+4>>2]=f|3,e[h+4>>2]=st|1,e[h+st>>2]=st,d=st>>>3,st>>>0<256){D=18088+(d<<1<<2)|0,a=e[4512]|0,v=1<<d,a&v?(v=D+8|0,ke=e[v>>2]|0,ut=v):(e[4512]=a|v,ke=D,ut=D+8|0),e[ut>>2]=h,e[ke+12>>2]=h,e[h+8>>2]=ke,e[h+12>>2]=D;break}if(D=st>>>8,D?st>>>0>16777215?et=31:(v=(D+1048320|0)>>>16&8,a=D<<v,D=(a+520192|0)>>>16&4,d=a<<D,a=(d+245760|0)>>>16&2,x=14-(D|v|a)+(d<<a>>>15)|0,et=st>>>(x+7|0)&1|x<<1):et=0,x=18352+(et<<2)|0,e[h+28>>2]=et,a=h+16|0,e[a+4>>2]=0,e[a>>2]=0,a=1<<et,!(Ge&a)){e[4513]=Ge|a,e[x>>2]=h,e[h+24>>2]=x,e[h+12>>2]=h,e[h+8>>2]=h;break}for(a=st<<((et|0)==31?0:25-(et>>>1)|0),d=e[x>>2]|0;;){if((e[d+4>>2]&-8|0)==(st|0)){fe=97;break}if(ot=d+16+(a>>>31<<2)|0,x=e[ot>>2]|0,x)a=a<<1,d=x;else{fe=96;break}}if((fe|0)==96){e[ot>>2]=h,e[h+24>>2]=d,e[h+12>>2]=h,e[h+8>>2]=h;break}else if((fe|0)==97){a=d+8|0,x=e[a>>2]|0,e[x+12>>2]=h,e[a>>2]=h,e[h+8>>2]=x,e[h+12>>2]=d,e[h+24>>2]=0;break}}else x=st+f|0,e[Ue+4>>2]=x|3,a=Ue+x+4|0,e[a>>2]=e[a>>2]|1;while(0);return C=Ue+8|0,q=n,C|0}else $=f}else $=f;else $=-1;while(0);if(Ue=e[4514]|0,Ue>>>0>=$>>>0)return st=Ue-$|0,ot=e[4517]|0,st>>>0>15?(et=ot+$|0,e[4517]=et,e[4514]=st,e[et+4>>2]=st|1,e[ot+Ue>>2]=st,e[ot+4>>2]=$|3):(e[4514]=0,e[4517]=0,e[ot+4>>2]=Ue|3,st=ot+Ue+4|0,e[st>>2]=e[st>>2]|1),C=ot+8|0,q=n,C|0;if(ot=e[4515]|0,ot>>>0>$>>>0)return st=ot-$|0,e[4515]=st,Ue=e[4518]|0,et=Ue+$|0,e[4518]=et,e[et+4>>2]=st|1,e[Ue+4>>2]=$|3,C=Ue+8|0,q=n,C|0;if(e[4630]|0?Rt=e[4632]|0:(e[4632]=4096,e[4631]=4096,e[4633]=-1,e[4634]=-1,e[4635]=0,e[4623]=0,e[4630]=o&-16^1431655768,Rt=4096),o=$+48|0,Ue=$+47|0,st=Rt+Ue|0,et=0-Rt|0,Rt=st&et,Rt>>>0<=$>>>0||(Ge=e[4622]|0,Ge|0&&(ke=e[4620]|0,ut=ke+Rt|0,ut>>>0<=ke>>>0|ut>>>0>Ge>>>0)))return C=0,q=n,C|0;e:do if(e[4623]&4)St=0,fe=133;else{Ge=e[4518]|0;t:do if(Ge){for(ut=18496;ke=e[ut>>2]|0,!(ke>>>0<=Ge>>>0&&(Nt=ut+4|0,(ke+(e[Nt>>2]|0)|0)>>>0>Ge>>>0));)if(ke=e[ut+8>>2]|0,ke)ut=ke;else{fe=118;break t}if(d=st-ot&et,d>>>0<2147483647)if(ke=jc(d|0)|0,(ke|0)==((e[ut>>2]|0)+(e[Nt>>2]|0)|0))if((ke|0)==-1)At=d;else{Vt=d,Pt=ke,fe=135;break e}else xt=ke,_t=d,fe=126;else At=0}else fe=118;while(0);do if((fe|0)==118)if(Ge=jc(0)|0,(Ge|0)!=-1&&(f=Ge,d=e[4631]|0,ke=d+-1|0,Qe=((ke&f|0)==0?0:(ke+f&0-d)-f|0)+Rt|0,f=e[4620]|0,d=Qe+f|0,Qe>>>0>$>>>0&Qe>>>0<2147483647)){if(ke=e[4622]|0,ke|0&&d>>>0<=f>>>0|d>>>0>ke>>>0){At=0;break}if(ke=jc(Qe|0)|0,(ke|0)==(Ge|0)){Vt=Qe,Pt=Ge,fe=135;break e}else xt=ke,_t=Qe,fe=126}else At=0;while(0);do if((fe|0)==126){if(Qe=0-_t|0,!(o>>>0>_t>>>0&(_t>>>0<2147483647&(xt|0)!=-1)))if((xt|0)==-1){At=0;break}else{Vt=_t,Pt=xt,fe=135;break e}if(ke=e[4632]|0,Ge=Ue-_t+ke&0-ke,Ge>>>0>=2147483647){Vt=_t,Pt=xt,fe=135;break e}if((jc(Ge|0)|0)==-1){jc(Qe|0)|0,At=0;break}else{Vt=Ge+_t|0,Pt=xt,fe=135;break e}}while(0);e[4623]=e[4623]|4,St=At,fe=133}while(0);if((fe|0)==133&&Rt>>>0<2147483647&&(At=jc(Rt|0)|0,Rt=jc(0)|0,xt=Rt-At|0,_t=xt>>>0>($+40|0)>>>0,!((At|0)==-1|_t^1|At>>>0<Rt>>>0&((At|0)!=-1&(Rt|0)!=-1)^1))&&(Vt=_t?xt:St,Pt=At,fe=135),(fe|0)==135){At=(e[4620]|0)+Vt|0,e[4620]=At,At>>>0>(e[4621]|0)>>>0&&(e[4621]=At),At=e[4518]|0;do if(At){for(St=18496;;){if(fi=e[St>>2]|0,Gt=St+4|0,ci=e[Gt>>2]|0,(Pt|0)==(fi+ci|0)){fe=143;break}if(xt=e[St+8>>2]|0,xt)St=xt;else break}if((fe|0)==143&&(e[St+12>>2]&8|0)==0&&Pt>>>0>At>>>0&fi>>>0<=At>>>0){e[Gt>>2]=ci+Vt,xt=(e[4515]|0)+Vt|0,_t=At+8|0,Rt=(_t&7|0)==0?0:0-_t&7,_t=At+Rt|0,Ue=xt-Rt|0,e[4518]=_t,e[4515]=Ue,e[_t+4>>2]=Ue|1,e[At+xt+4>>2]=40,e[4519]=e[4634];break}for(Pt>>>0<(e[4516]|0)>>>0&&(e[4516]=Pt),xt=Pt+Vt|0,Ue=18496;;){if((e[Ue>>2]|0)==(xt|0)){fe=151;break}if(_t=e[Ue+8>>2]|0,_t)Ue=_t;else{mi=18496;break}}if((fe|0)==151)if(e[Ue+12>>2]&8)mi=18496;else{e[Ue>>2]=Pt,St=Ue+4|0,e[St>>2]=(e[St>>2]|0)+Vt,St=Pt+8|0,_t=Pt+((St&7|0)==0?0:0-St&7)|0,St=xt+8|0,Rt=xt+((St&7|0)==0?0:0-St&7)|0,St=_t+$|0,o=Rt-_t-$|0,e[_t+4>>2]=$|3;do if((At|0)!=(Rt|0)){if((e[4517]|0)==(Rt|0)){Nt=(e[4514]|0)+o|0,e[4514]=Nt,e[4517]=St,e[St+4>>2]=Nt|1,e[St+Nt>>2]=Nt;break}if(Nt=e[Rt+4>>2]|0,(Nt&3|0)==1){et=Nt&-8,ot=Nt>>>3;e:do if(Nt>>>0<256)if(st=e[Rt+8>>2]|0,Ge=e[Rt+12>>2]|0,(Ge|0)==(st|0)){e[4512]=e[4512]&~(1<<ot);break}else{e[st+12>>2]=Ge,e[Ge+8>>2]=st;break}else{st=e[Rt+24>>2]|0,Ge=e[Rt+12>>2]|0;do if((Ge|0)==(Rt|0)){if(Qe=Rt+16|0,ke=Qe+4|0,d=e[ke>>2]|0,d)di=d,Ei=ke;else if(f=e[Qe>>2]|0,f)di=f,Ei=Qe;else{ji=0;break}for(;;){if(ke=di+20|0,d=e[ke>>2]|0,d|0){di=d,Ei=ke;continue}if(ke=di+16|0,d=e[ke>>2]|0,d)di=d,Ei=ke;else break}e[Ei>>2]=0,ji=di}else ke=e[Rt+8>>2]|0,e[ke+12>>2]=Ge,e[Ge+8>>2]=ke,ji=Ge;while(0);if(!st)break;Ge=e[Rt+28>>2]|0,ke=18352+(Ge<<2)|0;do if((e[ke>>2]|0)!=(Rt|0)){if(e[st+16+(((e[st+16>>2]|0)!=(Rt|0)&1)<<2)>>2]=ji,!ji)break e}else{if(e[ke>>2]=ji,ji|0)break;e[4513]=e[4513]&~(1<<Ge);break e}while(0);if(e[ji+24>>2]=st,Ge=Rt+16|0,ke=e[Ge>>2]|0,ke|0&&(e[ji+16>>2]=ke,e[ke+24>>2]=ji),ke=e[Ge+4>>2]|0,!ke)break;e[ji+20>>2]=ke,e[ke+24>>2]=ji}while(0);ni=Rt+et|0,Ri=et+o|0}else ni=Rt,Ri=o;if(ot=ni+4|0,e[ot>>2]=e[ot>>2]&-2,e[St+4>>2]=Ri|1,e[St+Ri>>2]=Ri,ot=Ri>>>3,Ri>>>0<256){Nt=18088+(ot<<1<<2)|0,ut=e[4512]|0,ke=1<<ot,ut&ke?(ke=Nt+8|0,Ni=e[ke>>2]|0,ai=ke):(e[4512]=ut|ke,Ni=Nt,ai=Nt+8|0),e[ai>>2]=St,e[Ni+12>>2]=St,e[St+8>>2]=Ni,e[St+12>>2]=Nt;break}Nt=Ri>>>8;do if(!Nt)gi=0;else{if(Ri>>>0>16777215){gi=31;break}ke=(Nt+1048320|0)>>>16&8,ut=Nt<<ke,ot=(ut+520192|0)>>>16&4,Ge=ut<<ot,ut=(Ge+245760|0)>>>16&2,d=14-(ot|ke|ut)+(Ge<<ut>>>15)|0,gi=Ri>>>(d+7|0)&1|d<<1}while(0);if(Nt=18352+(gi<<2)|0,e[St+28>>2]=gi,et=St+16|0,e[et+4>>2]=0,e[et>>2]=0,et=e[4513]|0,d=1<<gi,!(et&d)){e[4513]=et|d,e[Nt>>2]=St,e[St+24>>2]=Nt,e[St+12>>2]=St,e[St+8>>2]=St;break}for(d=Ri<<((gi|0)==31?0:25-(gi>>>1)|0),et=e[Nt>>2]|0;;){if((e[et+4>>2]&-8|0)==(Ri|0)){fe=192;break}if(oi=et+16+(d>>>31<<2)|0,Nt=e[oi>>2]|0,Nt)d=d<<1,et=Nt;else{fe=191;break}}if((fe|0)==191){e[oi>>2]=St,e[St+24>>2]=et,e[St+12>>2]=St,e[St+8>>2]=St;break}else if((fe|0)==192){d=et+8|0,Nt=e[d>>2]|0,e[Nt+12>>2]=St,e[d>>2]=St,e[St+8>>2]=Nt,e[St+12>>2]=et,e[St+24>>2]=0;break}}else Nt=(e[4515]|0)+o|0,e[4515]=Nt,e[4518]=St,e[St+4>>2]=Nt|1;while(0);return C=_t+8|0,q=n,C|0}for(;St=e[mi>>2]|0,!(St>>>0<=At>>>0&&(ti=St+(e[mi+4>>2]|0)|0,ti>>>0>At>>>0));)mi=e[mi+8>>2]|0;_t=ti+-47|0,St=_t+8|0,o=_t+((St&7|0)==0?0:0-St&7)|0,St=At+16|0,_t=o>>>0<St>>>0?At:o,o=_t+8|0,Rt=Vt+-40|0,xt=Pt+8|0,Ue=(xt&7|0)==0?0:0-xt&7,xt=Pt+Ue|0,Nt=Rt-Ue|0,e[4518]=xt,e[4515]=Nt,e[xt+4>>2]=Nt|1,e[Pt+Rt+4>>2]=40,e[4519]=e[4634],Rt=_t+4|0,e[Rt>>2]=27,e[o>>2]=e[4624],e[o+4>>2]=e[4625],e[o+8>>2]=e[4626],e[o+12>>2]=e[4627],e[4624]=Pt,e[4625]=Vt,e[4627]=0,e[4626]=o,o=_t+24|0;do Nt=o,o=o+4|0,e[o>>2]=7;while((Nt+8|0)>>>0<ti>>>0);if((_t|0)!=(At|0)){if(o=_t-At|0,e[Rt>>2]=e[Rt>>2]&-2,e[At+4>>2]=o|1,e[_t>>2]=o,Nt=o>>>3,o>>>0<256){xt=18088+(Nt<<1<<2)|0,Ue=e[4512]|0,d=1<<Nt,Ue&d?(d=xt+8|0,Vi=e[d>>2]|0,Ji=d):(e[4512]=Ue|d,Vi=xt,Ji=xt+8|0),e[Ji>>2]=At,e[Vi+12>>2]=At,e[At+8>>2]=Vi,e[At+12>>2]=xt;break}if(xt=o>>>8,xt?o>>>0>16777215?Wi=31:(d=(xt+1048320|0)>>>16&8,Ue=xt<<d,xt=(Ue+520192|0)>>>16&4,Nt=Ue<<xt,Ue=(Nt+245760|0)>>>16&2,ut=14-(xt|d|Ue)+(Nt<<Ue>>>15)|0,Wi=o>>>(ut+7|0)&1|ut<<1):Wi=0,ut=18352+(Wi<<2)|0,e[At+28>>2]=Wi,e[At+20>>2]=0,e[St>>2]=0,Ue=e[4513]|0,Nt=1<<Wi,!(Ue&Nt)){e[4513]=Ue|Nt,e[ut>>2]=At,e[At+24>>2]=ut,e[At+12>>2]=At,e[At+8>>2]=At;break}for(Nt=o<<((Wi|0)==31?0:25-(Wi>>>1)|0),Ue=e[ut>>2]|0;;){if((e[Ue+4>>2]&-8|0)==(o|0)){fe=213;break}if(Hi=Ue+16+(Nt>>>31<<2)|0,ut=e[Hi>>2]|0,ut)Nt=Nt<<1,Ue=ut;else{fe=212;break}}if((fe|0)==212){e[Hi>>2]=At,e[At+24>>2]=Ue,e[At+12>>2]=At,e[At+8>>2]=At;break}else if((fe|0)==213){Nt=Ue+8|0,o=e[Nt>>2]|0,e[o+12>>2]=At,e[Nt>>2]=At,e[At+8>>2]=o,e[At+12>>2]=Ue,e[At+24>>2]=0;break}}}else o=e[4516]|0,(o|0)==0|Pt>>>0<o>>>0&&(e[4516]=Pt),e[4624]=Pt,e[4625]=Vt,e[4627]=0,e[4521]=e[4630],e[4520]=-1,e[4525]=18088,e[4524]=18088,e[4527]=18096,e[4526]=18096,e[4529]=18104,e[4528]=18104,e[4531]=18112,e[4530]=18112,e[4533]=18120,e[4532]=18120,e[4535]=18128,e[4534]=18128,e[4537]=18136,e[4536]=18136,e[4539]=18144,e[4538]=18144,e[4541]=18152,e[4540]=18152,e[4543]=18160,e[4542]=18160,e[4545]=18168,e[4544]=18168,e[4547]=18176,e[4546]=18176,e[4549]=18184,e[4548]=18184,e[4551]=18192,e[4550]=18192,e[4553]=18200,e[4552]=18200,e[4555]=18208,e[4554]=18208,e[4557]=18216,e[4556]=18216,e[4559]=18224,e[4558]=18224,e[4561]=18232,e[4560]=18232,e[4563]=18240,e[4562]=18240,e[4565]=18248,e[4564]=18248,e[4567]=18256,e[4566]=18256,e[4569]=18264,e[4568]=18264,e[4571]=18272,e[4570]=18272,e[4573]=18280,e[4572]=18280,e[4575]=18288,e[4574]=18288,e[4577]=18296,e[4576]=18296,e[4579]=18304,e[4578]=18304,e[4581]=18312,e[4580]=18312,e[4583]=18320,e[4582]=18320,e[4585]=18328,e[4584]=18328,e[4587]=18336,e[4586]=18336,o=Vt+-40|0,Nt=Pt+8|0,St=(Nt&7|0)==0?0:0-Nt&7,Nt=Pt+St|0,_t=o-St|0,e[4518]=Nt,e[4515]=_t,e[Nt+4>>2]=_t|1,e[Pt+o+4>>2]=40,e[4519]=e[4634];while(0);if(Pt=e[4515]|0,Pt>>>0>$>>>0)return Vt=Pt-$|0,e[4515]=Vt,Pt=e[4518]|0,At=Pt+$|0,e[4518]=At,e[At+4>>2]=Vt|1,e[Pt+4>>2]=$|3,C=Pt+8|0,q=n,C|0}return Pt=fa()|0,e[Pt>>2]=12,C=0,q=n,C|0}function QP(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0,Gt=0,ci=0,mi=0,ji=0,di=0,Ei=0,ni=0,Ri=0,Ni=0,ai=0,gi=0,oi=0,ti=0,Vi=0,Ji=0,Wi=0,Hi=0,Pi=0,wi=0,ki=0,Bi=0,er=0,lr=0,Ii=0,hr=0,tr=0,Xr=0,nn=0,mn=0,R0=0,gn=0,Wn=0,On=0,xn=0,Dr=0,zr=0,Br=0,Qr=0,Ir=0,tn=0,Ur=0,sn=0,Wr=0,Mr=0,Vr=0,Sr=0,Yr=0,cn=0,Hn=0,c0=0,B0=0,n0=0,Ts=0,Q0=0,as=0,_0=0,In=0,O0=0,Dn=0,An=0,J0=0,Pn=0,Ro=0,yo=0,cl=0,Ao=0,hl=0,Ea=0,df=0,Xn=0,dl=0,Zn=0,Ha=0,Ol=0;h=q,q=q+240|0,c=h+104|0,g=h+224|0,d=h+176|0,m=h+160|0,b=h+228|0,v=h+72|0,x=h+40|0,C=h+132|0,S=h,M=h+172|0,I=h+156|0,D=h+152|0,L=h+148|0,N=h+144|0,X=h+128|0,V=r+8|0,hd(V,n,a,f),a=e[r+48>>2]|0,Q=e[r+52>>2]|0,U=d,j=U+48|0;do e[U>>2]=0,U=U+4|0;while((U|0)<(j|0));f?(q0(d,f),$=e[d+12>>2]|0,J=e[d+16>>2]|0):($=0,J=0),U=d+16|0,j=J-$>>2,F=$,$=J,j>>>0>=f>>>0?j>>>0>f>>>0&&(J=F+(f<<2)|0,(J|0)!=($|0))&&(e[U>>2]=$+(~(($+-4-J|0)>>>2)<<2)):q0(d+12|0,f-j|0),j=d+24|0,J=d+28|0,$=e[J>>2]|0,U=e[j>>2]|0,F=$-U>>2,K=U,U=$,F>>>0>=f>>>0?F>>>0>f>>>0&&($=K+(f<<2)|0,($|0)!=(U|0))&&(e[J>>2]=U+(~((U+-4-$|0)>>>2)<<2)):q0(j,f-F|0),F=d+36|0,j=d+40|0,$=e[j>>2]|0,U=e[F>>2]|0,J=$-U>>2,K=U,U=$,J>>>0>=f>>>0?J>>>0>f>>>0&&($=K+(f<<2)|0,($|0)!=(U|0))&&(e[j>>2]=U+(~((U+-4-$|0)>>>2)<<2)):q0(F,f-J|0),e[m>>2]=0,J=m+4|0,e[J>>2]=0,e[m+8>>2]=0,F=(f|0)==0;do if(!F)if(f>>>0>1073741823)Je();else{$=f<<2,U=Dt($)|0,e[m>>2]=U,j=U+(f<<2)|0,e[m+8>>2]=j,Mi(U|0,0,$|0)|0,e[J>>2]=j;break}while(0);j=r+152|0,$=r+156|0,U=e[$>>2]|0,K=e[j>>2]|0,re=U-K>>2,se=K,K=U,re>>>0>=f>>>0?re>>>0>f>>>0&&(U=se+(f<<2)|0,(U|0)!=(K|0))&&(e[$>>2]=K+(~((K+-4-U|0)>>>2)<<2)):q0(j,f-re|0),e[v>>2]=0,e[v+4>>2]=0,e[v+8>>2]=0,e[v+12>>2]=0,e[v+16>>2]=0,e[v+20>>2]=0,e[v+24>>2]=0,e[v+28>>2]=0,e[x>>2]=0,e[x+4>>2]=0,e[x+8>>2]=0,e[x+12>>2]=0,e[x+16>>2]=0,e[x+20>>2]=0,e[x+24>>2]=0,e[x+28>>2]=0,e[C>>2]=0,re=C+4|0,e[re>>2]=0,e[C+8>>2]=0,F?(fe=0,Ee=0,Ne=0,me=0):(F=f<<2,U=Dt(F)|0,e[C>>2]=U,K=U+(f<<2)|0,e[C+8>>2]=K,Mi(U|0,0,F|0)|0,e[re>>2]=K,fe=U,Ee=K,Ne=K,me=U),U=r+56|0,K=e[U>>2]|0,F=e[K+4>>2]|0,$=e[K>>2]|0,se=F-$|0;e:do if((se|0)>4){Ie=se>>>2,_e=a+64|0,Ce=a+28|0,We=(f|0)>0,at=S+4|0,Ke=S+8|0,Ve=S+12|0,Ue=r+152|0,st=r+112|0,Qe=S+16|0,it=S+28|0,ze=r+16|0,Ge=r+32|0,ke=r+12|0,ut=r+28|0,et=r+20|0,ot=r+24|0,Rt=S+28|0,Nt=S+16|0,At=S+20|0,Vt=S+32|0,Pt=b+1|0,xt=f<<2,_t=(f|0)==1,St=Ie+-1|0,F-$>>2>>>0>St>>>0?(fi=Ie,Gt=St,ci=$,mi=fe,ji=me,di=Ne,Ei=fe,ni=Ee,Ri=fe,Ni=Ee):(ai=K,Je());t:for(;;){St=e[ci+(Gt<<2)>>2]|0,Ie=(((St>>>0)%3|0|0)==0?2:-1)+St|0,gi=Ie>>>5,oi=1<<(Ie&31),ti=(St|0)==-1|(Ie|0)==-1,Vi=1,Ji=0,Wi=St;i:for(;;){for(Hi=Vi^1,Pi=Ji,wi=Wi;;){if((wi|0)==-1){ki=Pi;break i}if(Bi=e[d+(Pi*12|0)>>2]|0,(e[(e[a>>2]|0)+(wi>>>5<<2)>>2]&1<<(wi&31)|0)==0&&(er=e[(e[(e[_e>>2]|0)+12>>2]|0)+(wi<<2)>>2]|0,(er|0)!=-1)&&(lr=e[Ce>>2]|0,Ii=e[Q>>2]|0,hr=e[Ii+(e[lr+(er<<2)>>2]<<2)>>2]|0,tr=er+1|0,Xr=e[Ii+(e[lr+((((tr>>>0)%3|0|0)==0?er+-2|0:tr)<<2)>>2]<<2)>>2]|0,tr=e[Ii+(e[lr+((((er>>>0)%3|0|0)==0?2:-1)+er<<2)>>2]<<2)>>2]|0,(hr|0)<(Gt|0)&(Xr|0)<(Gt|0)&(tr|0)<(Gt|0))){if(er=_i(hr,f)|0,hr=_i(Xr,f)|0,Xr=_i(tr,f)|0,We){tr=0;do e[Bi+(tr<<2)>>2]=(e[n+(tr+Xr<<2)>>2]|0)+(e[n+(tr+hr<<2)>>2]|0)-(e[n+(tr+er<<2)>>2]|0),tr=tr+1|0;while((tr|0)!=(f|0))}if(tr=Pi+1|0,(tr|0)==4){ki=4;break i}else nn=tr}else nn=Pi;do if(Vi)tr=wi+1|0,er=((tr>>>0)%3|0|0)==0?wi+-2|0:tr,(er|0)!=-1&&(e[(e[a>>2]|0)+(er>>>5<<2)>>2]&1<<(er&31)|0)==0&&(tr=e[(e[(e[_e>>2]|0)+12>>2]|0)+(er<<2)>>2]|0,er=tr+1|0,(tr|0)!=-1)?mn=((er>>>0)%3|0|0)==0?tr+-2|0:er:mn=-1;else if(er=(((wi>>>0)%3|0|0)==0?2:-1)+wi|0,(er|0)!=-1&&(e[(e[a>>2]|0)+(er>>>5<<2)>>2]&1<<(er&31)|0)==0&&(tr=e[(e[(e[_e>>2]|0)+12>>2]|0)+(er<<2)>>2]|0,(tr|0)!=-1))if((tr>>>0)%3|0){mn=tr+-1|0;break}else{mn=tr+2|0;break}else mn=-1;while(0);if((mn|0)==(St|0)){ki=nn;break i}if((mn|0)!=-1|Hi)Pi=nn,wi=mn;else break}if(ti){Vi=0,Ji=nn,Wi=-1;continue}if(e[(e[a>>2]|0)+(gi<<2)>>2]&oi|0){Vi=0,Ji=nn,Wi=-1;continue}if(wi=e[(e[(e[_e>>2]|0)+12>>2]|0)+(Ie<<2)>>2]|0,(wi|0)==-1){Vi=0,Ji=nn,Wi=-1;continue}if((wi>>>0)%3|0){Vi=0,Ji=nn,Wi=wi+-1|0;continue}else{Vi=0,Ji=nn,Wi=wi+2|0;continue}}if(Wi=_i(Gt,f)|0,e[S>>2]=0,e[at>>2]=0,Z[Ke>>0]=0,e[Ve>>2]=0,e[Ve+4>>2]=0,e[Ve+8>>2]=0,e[Ve+12>>2]=0,e[Ve+16>>2]=0,e[Ve+20>>2]=0,e[Ve+24>>2]=0,Ji=n+((_i(fi+-2|0,f)|0)<<2)|0,Vi=n+(Wi<<2)|0,Ie=e[Ue>>2]|0,We)for(oi=0,gi=0;;)if(ti=(e[Ji+(oi<<2)>>2]|0)-(e[Vi+(oi<<2)>>2]|0)|0,St=((ti|0)>-1?ti:0-ti|0)+gi|0,e[mi+(oi<<2)>>2]=ti,e[Ie+(oi<<2)>>2]=ti<<1^ti>>31,oi=oi+1|0,(oi|0)==(f|0)){R0=St;break}else gi=St;else R0=0;if(Wc(c,st,Ie,f),gi=Vc(c)|0,oi=Xe,St=zc(c)|0,ti=Wt(St|0,Xe|0,gi|0,oi|0)|0,oi=Xe,gi=(ki|0)>0,gi?(St=ki+-1|0,wi=x+(St<<3)|0,Pi=wi,Hi=Wt(e[Pi>>2]|0,e[Pi+4>>2]|0,ki|0,((ki|0)<0)<<31>>31|0)|0,Pi=Xe,tr=wi,e[tr>>2]=Hi,e[tr+4>>2]=Pi,gn=+yr(+(+Gc(Hi,e[v+(St<<3)>>2]|0)*(+(Hi>>>0)+4294967296*+(Pi|0)))),Pi=Wt(ti|0,oi|0,~~gn>>>0|0,(+f0(gn)>=1?gn>0?~~+i0(+bn(gn/4294967296),4294967295)>>>0:~~+yr((gn-+(~~gn>>>0))/4294967296)>>>0:0)|0)|0,Wn=Pi):Wn=ti,ti=S,e[ti>>2]=Wn,e[ti+4>>2]=R0,Z[Ke>>0]=0,e[Ve>>2]=0,Uu(Qe,Ji,Ji+(f<<2)|0),e[M>>2]=ji,e[I>>2]=di,e[g>>2]=e[M>>2],e[c>>2]=e[I>>2],Aa(it,g,c),(ki|0)<1)On=Ni,xn=Ri,Dr=ni,zr=Ei,Br=di,Qr=ji,Ir=ji;else for(ti=b+ki|0,Pi=e[C>>2]|0,oi=ki+-1|0,Hi=v+(oi<<3)|0,St=x+(oi<<3)|0,oi=Pi,tr=e[re>>2]|0,wi=ti+-1|0,er=(wi|0)==(b|0),hr=ti+-2|0,Xr=Pt>>>0<hr>>>0,Bi=~ki,lr=ki+2+((Bi|0)>-2?Bi:-2)|0,Bi=tr,Ii=wi>>>0>b>>>0,tn=0,Ur=1;;){tn=tn+1|0,Mi(b|0,1,lr|0)|0,Mi(b|0,0,tn|0)|0;i:for(;;){if(We)for(Mi(e[m>>2]|0,0,xt|0)|0,sn=e[m>>2]|0,Wr=0,Mr=0;;){if(Z[b+Wr>>0]|0)cn=Mr;else{Vr=e[d+(Wr*12|0)>>2]|0,Sr=0;do Yr=sn+(Sr<<2)|0,e[Yr>>2]=(e[Yr>>2]|0)+(e[Vr+(Sr<<2)>>2]|0),Sr=Sr+1|0;while((Sr|0)!=(f|0));cn=(1<<Wr|Mr&255)&255}if(Wr=Wr+1|0,(Wr|0)==(ki|0)){Hn=cn;break}else Mr=cn}else for(Mr=0,Wr=0;;)if(Z[b+Mr>>0]|0?c0=Wr:c0=(1<<Mr|Wr&255)&255,Mr=Mr+1|0,(Mr|0)==(ki|0)){Hn=c0;break}else Wr=c0;Wr=e[m>>2]|0;do if(We){if(e[Wr>>2]=(e[Wr>>2]|0)/(Ur|0)|0,_t)B0=e[Ue>>2]|0;else{Mr=1;do sn=Wr+(Mr<<2)|0,e[sn>>2]=(e[sn>>2]|0)/(Ur|0)|0,Mr=Mr+1|0;while((Mr|0)!=(f|0));if(Mr=e[Ue>>2]|0,We)B0=Mr;else{n0=0,Ts=Mr;break}}for(Mr=0,sn=0;;)if(Sr=(e[Wr+(Mr<<2)>>2]|0)-(e[Vi+(Mr<<2)>>2]|0)|0,Vr=((Sr|0)>-1?Sr:0-Sr|0)+sn|0,e[Pi+(Mr<<2)>>2]=Sr,e[B0+(Mr<<2)>>2]=Sr<<1^Sr>>31,Mr=Mr+1|0,(Mr|0)==(f|0)){n0=Vr,Ts=B0;break}else sn=Vr}else n0=0,Ts=e[Ue>>2]|0;while(0);if(Wc(c,st,Ts,f),Wr=Vc(c)|0,sn=Xe,Mr=zc(c)|0,Vr=Wt(Mr|0,Xe|0,Wr|0,sn|0)|0,sn=Xe,gi?(Wr=Hi,Mr=Wt(e[Wr>>2]|0,e[Wr+4>>2]|0,Ur|0,0)|0,Wr=St,Sr=e[Wr>>2]|0,Yr=e[Wr+4>>2]|0,gn=+yr(+(+Gc(Sr,Mr)*(+(Sr>>>0)+4294967296*+(Yr|0)))),Yr=Wt(Vr|0,sn|0,~~gn>>>0|0,(+f0(gn)>=1?gn>0?~~+i0(+bn(gn/4294967296),4294967295)>>>0:~~+yr((gn-+(~~gn>>>0))/4294967296)>>>0:0)|0)|0,Q0=Yr):Q0=Vr,Vr=e[S>>2]|0,(Q0|0)>=(Vr|0)&&!((Q0|0)<=(Vr|0)&&(n0|0)<(e[at>>2]|0))||(Vr=S,e[Vr>>2]=Q0,e[Vr+4>>2]=n0,Z[Ke>>0]=Hn,e[Ve>>2]=Ur,e[D>>2]=e[m>>2],e[L>>2]=e[J>>2],e[g>>2]=e[D>>2],e[c>>2]=e[L>>2],Aa(Qe,g,c),e[N>>2]=oi,e[X>>2]=tr,e[g>>2]=e[N>>2],e[c>>2]=e[X>>2],Aa(it,g,c)),er)break;for(as=Z[wi>>0]|0,Vr=-1,Yr=as;sn=Vr+-1|0,_0=ti+sn|0,Sr=Yr,Yr=Z[_0>>0]|0,!((Yr&255)<(Sr&255));)if((_0|0)==(b|0)){In=86;break i}else Vr=sn;if(sn=ti+Vr|0,(Yr&255)<(as&255))O0=wi,Dn=as;else for(Sr=ti,Mr=wi;;)if(Wr=Mr+-1|0,(Yr&255)<(yi[Sr+-2>>0]|0)){O0=Wr,Dn=1;break}else An=Mr,Mr=Wr,Sr=An;if(Z[_0>>0]=Dn,Z[O0>>0]=Yr,(Vr|0)<-1)J0=sn,Pn=wi;else continue;for(;;)if(Sr=Z[J0>>0]|0,Z[J0>>0]=Z[Pn>>0]|0,Z[Pn>>0]=Sr,Sr=J0+1|0,Mr=Pn+-1|0,Sr>>>0<Mr>>>0)J0=Sr,Pn=Mr;else continue i}if((In|0)==86&&(In=0,Ii)&&(sn=Z[b>>0]|0,Z[b>>0]=as,Z[wi>>0]=sn,Xr)){sn=hr,Vr=Pt;do Yr=Z[Vr>>0]|0,Z[Vr>>0]=Z[sn>>0]|0,Z[sn>>0]=Yr,Vr=Vr+1|0,sn=sn+-1|0;while(Vr>>>0<sn>>>0)}if((Ur|0)>=(ki|0)){On=Bi,xn=Pi,Dr=Bi,zr=Pi,Br=tr,Qr=oi,Ir=Pi;break}else Ur=Ur+1|0}if(gi&&(Ur=e[Ve>>2]|0,Pi=v+(ki+-1<<3)|0,oi=Pi,tr=Wt(e[oi>>2]|0,e[oi+4>>2]|0,Ur|0,((Ur|0)<0)<<31>>31|0)|0,Ur=Pi,e[Ur>>2]=tr,e[Ur+4>>2]=Xe),We){Ur=e[it>>2]|0,tr=e[j>>2]|0,Pi=0;do oi=e[Ur+(Pi<<2)>>2]|0,e[tr+(Pi<<2)>>2]=oi<<1^oi>>31,Pi=Pi+1|0;while((Pi|0)!=(f|0));Ro=tr}else Ro=e[j>>2]|0;if(Yy(c,st,Ro,f),gi){tr=ki+-1|0,yo=r+60+(tr*12|0)|0,Pi=r+60+(tr*12|0)+4|0,Ur=r+60+(tr*12|0)+8|0,tr=0;do{if(oi=e[Pi>>2]|0,Bi=e[Ur>>2]|0,hr=(oi|0)==(Bi<<5|0),1<<tr&yi[Ke>>0]){if(hr){if((oi+1|0)<0){In=119;break t}hr=Bi<<6,Bi=oi+32&-32,la(yo,oi>>>0<1073741823?hr>>>0<Bi>>>0?Bi:hr:2147483647),Ao=e[Pi>>2]|0}else Ao=oi;e[Pi>>2]=Ao+1,oi=(e[yo>>2]|0)+(Ao>>>5<<2)|0,e[oi>>2]=e[oi>>2]&~(1<<(Ao&31))}else{if(hr){if((oi+1|0)<0){In=114;break t}Xr=Bi<<6,wi=oi+32&-32,la(yo,oi>>>0<1073741823?Xr>>>0<wi>>>0?wi:Xr:2147483647),cl=e[Pi>>2]|0}else cl=oi;e[Pi>>2]=cl+1,Xr=(e[yo>>2]|0)+(cl>>>5<<2)|0,e[Xr>>2]=e[Xr>>2]|1<<(cl&31)}tr=tr+1|0}while((tr|0)<(ki|0))}if(tr=o+(Wi<<2)|0,Pi=e[V>>2]|0,(Pi|0)>0)for(Ur=0,gi=e[Qe>>2]|0,oi=Pi;;){if((oi|0)>0){Pi=0;do hr=e[gi+(Pi<<2)>>2]|0,Bi=e[ze>>2]|0,(hr|0)>(Bi|0)?(Xr=e[Ge>>2]|0,e[Xr+(Pi<<2)>>2]=Bi,hl=Xr):(Xr=e[ke>>2]|0,Bi=e[Ge>>2]|0,e[Bi+(Pi<<2)>>2]=(hr|0)<(Xr|0)?Xr:hr,hl=Bi),Pi=Pi+1|0;while((Pi|0)<(e[V>>2]|0));Ea=hl}else Ea=e[Ge>>2]|0;Pi=(e[Vi+(Ur<<2)>>2]|0)-(e[Ea+(Ur<<2)>>2]|0)|0,Bi=tr+(Ur<<2)|0,e[Bi>>2]=Pi;do if((Pi|0)<(e[ut>>2]|0))df=(e[et>>2]|0)+Pi|0,In=109;else{if((Pi|0)<=(e[ot>>2]|0))break;df=Pi-(e[et>>2]|0)|0,In=109}while(0);if((In|0)==109&&(In=0,e[Bi>>2]=df),Ur=Ur+1|0,oi=e[V>>2]|0,(Ur|0)>=(oi|0))break;gi=Ea}if(gi=e[Rt>>2]|0,gi|0&&(oi=e[Vt>>2]|0,(oi|0)!=(gi|0)&&(e[Vt>>2]=oi+(~((oi+-4-gi|0)>>>2)<<2)),ve(gi)),gi=e[Nt>>2]|0,gi|0&&(oi=e[At>>2]|0,(oi|0)!=(gi|0)&&(e[At>>2]=oi+(~((oi+-4-gi|0)>>>2)<<2)),ve(gi)),(fi|0)<=2){Xn=zr,dl=Dr;break e}if(gi=e[U>>2]|0,ci=e[gi>>2]|0,oi=Gt+-1|0,(e[gi+4>>2]|0)-ci>>2>>>0<=oi>>>0){ai=gi,In=18;break}else gi=Gt,Gt=oi,mi=Ir,ji=Qr,di=Br,Ei=zr,ni=Dr,Ri=xn,Ni=On,fi=gi}((In|0)==18||(In|0)==114||(In|0)==119)&&Je()}else Xn=fe,dl=Ee;while(0);if(Ee=e[d>>2]|0,(f|0)>0&&(e[Ee>>2]=0,(f|0)!=1)){fe=1;do e[Ee+(fe<<2)>>2]=0,fe=fe+1|0;while((fe|0)!=(f|0))}if(f=e[V>>2]|0,(f|0)>0)for(fe=r+16|0,yo=r+32|0,ai=r+12|0,fi=r+28|0,On=r+20|0,Ni=r+24|0,r=0,xn=Ee,Ee=f;;){if((Ee|0)>0){f=0;do Ri=e[xn+(f<<2)>>2]|0,Dr=e[fe>>2]|0,(Ri|0)>(Dr|0)?(ni=e[yo>>2]|0,e[ni+(f<<2)>>2]=Dr,Zn=ni):(ni=e[ai>>2]|0,Dr=e[yo>>2]|0,e[Dr+(f<<2)>>2]=(Ri|0)<(ni|0)?ni:Ri,Zn=Dr),f=f+1|0;while((f|0)<(e[V>>2]|0));Ha=Zn}else Ha=e[yo>>2]|0;if(f=(e[n+(r<<2)>>2]|0)-(e[Ha+(r<<2)>>2]|0)|0,Dr=o+(r<<2)|0,e[Dr>>2]=f,(f|0)>=(e[fi>>2]|0)?(f|0)>(e[Ni>>2]|0)&&(Ol=f-(e[On>>2]|0)|0,In=145):(Ol=(e[On>>2]|0)+f|0,In=145),(In|0)==145&&(In=0,e[Dr>>2]=Ol),r=r+1|0,Ee=e[V>>2]|0,(r|0)>=(Ee|0))break;xn=Ha}return Xn|0&&((dl|0)!=(Xn|0)&&(e[re>>2]=dl+(~((dl+-4-Xn|0)>>>2)<<2)),ve(Xn)),Xn=e[m>>2]|0,Xn|0&&(m=e[J>>2]|0,(m|0)!=(Xn|0)&&(e[J>>2]=m+(~((m+-4-Xn|0)>>>2)<<2)),ve(Xn)),Xn=e[d+36>>2]|0,Xn|0&&(m=d+40|0,J=e[m>>2]|0,(J|0)!=(Xn|0)&&(e[m>>2]=J+(~((J+-4-Xn|0)>>>2)<<2)),ve(Xn)),Xn=e[d+24>>2]|0,Xn|0&&(J=d+28|0,m=e[J>>2]|0,(m|0)!=(Xn|0)&&(e[J>>2]=m+(~((m+-4-Xn|0)>>>2)<<2)),ve(Xn)),Xn=e[d+12>>2]|0,Xn|0&&(m=d+16|0,J=e[m>>2]|0,(J|0)!=(Xn|0)&&(e[m>>2]=J+(~((J+-4-Xn|0)>>>2)<<2)),ve(Xn)),Xn=e[d>>2]|0,Xn?(J=d+4|0,d=e[J>>2]|0,(d|0)!=(Xn|0)&&(e[J>>2]=d+(~((d+-4-Xn|0)>>>2)<<2)),ve(Xn),q=h,1):(q=h,1)}function JP(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0,Gt=0,ci=0,mi=0,ji=0,di=0,Ei=0,ni=0,Ri=0,Ni=0,ai=0,gi=0,oi=0,ti=0,Vi=0,Ji=0,Wi=0,Hi=0,Pi=0,wi=0,ki=0,Bi=0,er=0,lr=0,Ii=0,hr=0,tr=0,Xr=0,nn=0,mn=0,R0=0,gn=0,Wn=0,On=0,xn=0,Dr=0,zr=0,Br=0,Qr=0,Ir=0,tn=0,Ur=0,sn=0,Wr=0,Mr=0,Vr=0,Sr=0,Yr=0,cn=0,Hn=0,c0=0,B0=0,n0=0,Ts=0,Q0=0,as=0,_0=0,In=0,O0=0,Dn=0,An=0,J0=0,Pn=0,Ro=0,yo=0,cl=0,Ao=0,hl=0,Ea=0,df=0,Xn=0,dl=0,Zn=0,Ha=0,Ol=0,Qc=0,Jc=0;h=q,q=q+240|0,c=h+104|0,g=h+224|0,d=h+176|0,m=h+160|0,b=h+228|0,v=h+72|0,x=h+40|0,C=h+132|0,S=h,M=h+172|0,I=h+156|0,D=h+152|0,L=h+148|0,N=h+144|0,X=h+128|0,V=r+8|0,hd(V,n,a,f),a=e[r+48>>2]|0,Q=e[r+52>>2]|0,U=d,j=U+48|0;do e[U>>2]=0,U=U+4|0;while((U|0)<(j|0));f?(q0(d,f),$=e[d+12>>2]|0,J=e[d+16>>2]|0):($=0,J=0),U=d+16|0,j=J-$>>2,F=$,$=J,j>>>0>=f>>>0?j>>>0>f>>>0&&(J=F+(f<<2)|0,(J|0)!=($|0))&&(e[U>>2]=$+(~(($+-4-J|0)>>>2)<<2)):q0(d+12|0,f-j|0),j=d+24|0,J=d+28|0,$=e[J>>2]|0,U=e[j>>2]|0,F=$-U>>2,K=U,U=$,F>>>0>=f>>>0?F>>>0>f>>>0&&($=K+(f<<2)|0,($|0)!=(U|0))&&(e[J>>2]=U+(~((U+-4-$|0)>>>2)<<2)):q0(j,f-F|0),F=d+36|0,j=d+40|0,$=e[j>>2]|0,U=e[F>>2]|0,J=$-U>>2,K=U,U=$,J>>>0>=f>>>0?J>>>0>f>>>0&&($=K+(f<<2)|0,($|0)!=(U|0))&&(e[j>>2]=U+(~((U+-4-$|0)>>>2)<<2)):q0(F,f-J|0),e[m>>2]=0,J=m+4|0,e[J>>2]=0,e[m+8>>2]=0,F=(f|0)==0;do if(!F)if(f>>>0>1073741823)Je();else{$=f<<2,U=Dt($)|0,e[m>>2]=U,j=U+(f<<2)|0,e[m+8>>2]=j,Mi(U|0,0,$|0)|0,e[J>>2]=j;break}while(0);j=r+152|0,$=r+156|0,U=e[$>>2]|0,K=e[j>>2]|0,re=U-K>>2,se=K,K=U,re>>>0>=f>>>0?re>>>0>f>>>0&&(U=se+(f<<2)|0,(U|0)!=(K|0))&&(e[$>>2]=K+(~((K+-4-U|0)>>>2)<<2)):q0(j,f-re|0),e[v>>2]=0,e[v+4>>2]=0,e[v+8>>2]=0,e[v+12>>2]=0,e[v+16>>2]=0,e[v+20>>2]=0,e[v+24>>2]=0,e[v+28>>2]=0,e[x>>2]=0,e[x+4>>2]=0,e[x+8>>2]=0,e[x+12>>2]=0,e[x+16>>2]=0,e[x+20>>2]=0,e[x+24>>2]=0,e[x+28>>2]=0,e[C>>2]=0,re=C+4|0,e[re>>2]=0,e[C+8>>2]=0,F?(fe=0,Ee=0,Ne=0,me=0):(F=f<<2,U=Dt(F)|0,e[C>>2]=U,K=U+(f<<2)|0,e[C+8>>2]=K,Mi(U|0,0,F|0)|0,e[re>>2]=K,fe=U,Ee=K,Ne=K,me=U),U=r+56|0,K=e[U>>2]|0,F=e[K+4>>2]|0,$=e[K>>2]|0,se=F-$|0;e:do if((se|0)>4){Ie=se>>>2,_e=a+12|0,Ce=(f|0)>0,We=S+4|0,at=S+8|0,Ke=S+12|0,Ve=r+152|0,Ue=r+112|0,st=S+16|0,Qe=S+28|0,it=r+16|0,ze=r+32|0,Ge=r+12|0,ke=r+28|0,ut=r+20|0,et=r+24|0,ot=S+28|0,Rt=S+16|0,Nt=S+20|0,At=S+32|0,Vt=b+1|0,Pt=f<<2,xt=(f|0)==1,_t=Ie+-1|0,F-$>>2>>>0>_t>>>0?(St=Ie,fi=_t,Gt=$,ci=fe,mi=me,ji=Ne,di=fe,Ei=Ee,ni=fe,Ri=Ee):(Ni=K,Je());t:for(;;){_t=e[Gt+(fi<<2)>>2]|0,Ie=(((_t>>>0)%3|0|0)==0?2:-1)+_t|0,ai=(_t|0)==-1|(Ie|0)==-1,gi=1,oi=0,ti=_t;i:for(;;){for(Vi=gi^1,Ji=oi,Wi=ti;;){if((Wi|0)==-1){Hi=Ji;break i}if(Pi=e[d+(Ji*12|0)>>2]|0,wi=e[_e>>2]|0,ki=e[wi+(Wi<<2)>>2]|0,(ki|0)!=-1)if(Bi=e[a>>2]|0,er=e[Q>>2]|0,lr=e[er+(e[Bi+(ki<<2)>>2]<<2)>>2]|0,Ii=ki+1|0,hr=((Ii>>>0)%3|0|0)==0?ki+-2|0:Ii,(hr|0)==-1?tr=-1:tr=e[Bi+(hr<<2)>>2]|0,hr=e[er+(tr<<2)>>2]|0,Ii=(((ki>>>0)%3|0|0)==0?2:-1)+ki|0,(Ii|0)==-1?Xr=-1:Xr=e[Bi+(Ii<<2)>>2]|0,Ii=e[er+(Xr<<2)>>2]|0,(lr|0)<(fi|0)&(hr|0)<(fi|0)&(Ii|0)<(fi|0)){if(er=_i(lr,f)|0,lr=_i(hr,f)|0,hr=_i(Ii,f)|0,Ce){Ii=0;do e[Pi+(Ii<<2)>>2]=(e[n+(Ii+hr<<2)>>2]|0)+(e[n+(Ii+lr<<2)>>2]|0)-(e[n+(Ii+er<<2)>>2]|0),Ii=Ii+1|0;while((Ii|0)!=(f|0))}if(Ii=Ji+1|0,(Ii|0)==4){Hi=4;break i}else nn=Ii}else nn=Ji;else nn=Ji;do if(gi)Ii=Wi+1|0,er=((Ii>>>0)%3|0|0)==0?Wi+-2|0:Ii,(er|0)!=-1&&(Ii=e[wi+(er<<2)>>2]|0,er=Ii+1|0,(Ii|0)!=-1)?mn=((er>>>0)%3|0|0)==0?Ii+-2|0:er:mn=-1;else if(er=(((Wi>>>0)%3|0|0)==0?2:-1)+Wi|0,(er|0)!=-1&&(Ii=e[wi+(er<<2)>>2]|0,(Ii|0)!=-1))if((Ii>>>0)%3|0){mn=Ii+-1|0;break}else{mn=Ii+2|0;break}else mn=-1;while(0);if((mn|0)==(_t|0)){Hi=nn;break i}if((mn|0)!=-1|Vi)Ji=nn,Wi=mn;else break}if(ai){gi=0,oi=nn,ti=-1;continue}if(Wi=e[wi+(Ie<<2)>>2]|0,(Wi|0)==-1){gi=0,oi=nn,ti=-1;continue}if((Wi>>>0)%3|0){gi=0,oi=nn,ti=Wi+-1|0;continue}else{gi=0,oi=nn,ti=Wi+2|0;continue}}if(ti=_i(fi,f)|0,e[S>>2]=0,e[We>>2]=0,Z[at>>0]=0,e[Ke>>2]=0,e[Ke+4>>2]=0,e[Ke+8>>2]=0,e[Ke+12>>2]=0,e[Ke+16>>2]=0,e[Ke+20>>2]=0,e[Ke+24>>2]=0,oi=n+((_i(St+-2|0,f)|0)<<2)|0,gi=n+(ti<<2)|0,Ie=e[Ve>>2]|0,Ce)for(ai=0,_t=0;;)if(Wi=(e[oi+(ai<<2)>>2]|0)-(e[gi+(ai<<2)>>2]|0)|0,Ji=((Wi|0)>-1?Wi:0-Wi|0)+_t|0,e[ci+(ai<<2)>>2]=Wi,e[Ie+(ai<<2)>>2]=Wi<<1^Wi>>31,ai=ai+1|0,(ai|0)==(f|0)){R0=Ji;break}else _t=Ji;else R0=0;if(Wc(c,Ue,Ie,f),_t=Vc(c)|0,ai=Xe,Ji=zc(c)|0,Wi=Wt(Ji|0,Xe|0,_t|0,ai|0)|0,ai=Xe,_t=(Hi|0)>0,_t?(Ji=Hi+-1|0,Vi=x+(Ji<<3)|0,Ii=Vi,er=Wt(e[Ii>>2]|0,e[Ii+4>>2]|0,Hi|0,((Hi|0)<0)<<31>>31|0)|0,Ii=Xe,lr=Vi,e[lr>>2]=er,e[lr+4>>2]=Ii,gn=+yr(+(+Gc(er,e[v+(Ji<<3)>>2]|0)*(+(er>>>0)+4294967296*+(Ii|0)))),Ii=Wt(Wi|0,ai|0,~~gn>>>0|0,(+f0(gn)>=1?gn>0?~~+i0(+bn(gn/4294967296),4294967295)>>>0:~~+yr((gn-+(~~gn>>>0))/4294967296)>>>0:0)|0)|0,Wn=Ii):Wn=Wi,Wi=S,e[Wi>>2]=Wn,e[Wi+4>>2]=R0,Z[at>>0]=0,e[Ke>>2]=0,Uu(st,oi,oi+(f<<2)|0),e[M>>2]=mi,e[I>>2]=ji,e[g>>2]=e[M>>2],e[c>>2]=e[I>>2],Aa(Qe,g,c),(Hi|0)<1)On=Ri,xn=ni,Dr=Ei,zr=di,Br=ji,Qr=mi,Ir=mi;else for(Wi=b+Hi|0,Ii=e[C>>2]|0,ai=Hi+-1|0,er=v+(ai<<3)|0,Ji=x+(ai<<3)|0,ai=Ii,lr=e[re>>2]|0,Vi=Wi+-1|0,hr=(Vi|0)==(b|0),Pi=Wi+-2|0,Bi=Vt>>>0<Pi>>>0,ki=~Hi,tn=Hi+2+((ki|0)>-2?ki:-2)|0,ki=lr,Ur=Vi>>>0>b>>>0,sn=0,Wr=1;;){sn=sn+1|0,Mi(b|0,1,tn|0)|0,Mi(b|0,0,sn|0)|0;i:for(;;){if(Ce)for(Mi(e[m>>2]|0,0,Pt|0)|0,Mr=e[m>>2]|0,Vr=0,Sr=0;;){if(Z[b+Vr>>0]|0)c0=Sr;else{Yr=e[d+(Vr*12|0)>>2]|0,cn=0;do Hn=Mr+(cn<<2)|0,e[Hn>>2]=(e[Hn>>2]|0)+(e[Yr+(cn<<2)>>2]|0),cn=cn+1|0;while((cn|0)!=(f|0));c0=(1<<Vr|Sr&255)&255}if(Vr=Vr+1|0,(Vr|0)==(Hi|0)){B0=c0;break}else Sr=c0}else for(Sr=0,Vr=0;;)if(Z[b+Sr>>0]|0?n0=Vr:n0=(1<<Sr|Vr&255)&255,Sr=Sr+1|0,(Sr|0)==(Hi|0)){B0=n0;break}else Vr=n0;Vr=e[m>>2]|0;do if(Ce){if(e[Vr>>2]=(e[Vr>>2]|0)/(Wr|0)|0,xt)Ts=e[Ve>>2]|0;else{Sr=1;do Mr=Vr+(Sr<<2)|0,e[Mr>>2]=(e[Mr>>2]|0)/(Wr|0)|0,Sr=Sr+1|0;while((Sr|0)!=(f|0));if(Sr=e[Ve>>2]|0,Ce)Ts=Sr;else{Q0=0,as=Sr;break}}for(Sr=0,Mr=0;;)if(cn=(e[Vr+(Sr<<2)>>2]|0)-(e[gi+(Sr<<2)>>2]|0)|0,Yr=((cn|0)>-1?cn:0-cn|0)+Mr|0,e[Ii+(Sr<<2)>>2]=cn,e[Ts+(Sr<<2)>>2]=cn<<1^cn>>31,Sr=Sr+1|0,(Sr|0)==(f|0)){Q0=Yr,as=Ts;break}else Mr=Yr}else Q0=0,as=e[Ve>>2]|0;while(0);if(Wc(c,Ue,as,f),Vr=Vc(c)|0,Mr=Xe,Sr=zc(c)|0,Yr=Wt(Sr|0,Xe|0,Vr|0,Mr|0)|0,Mr=Xe,_t?(Vr=er,Sr=Wt(e[Vr>>2]|0,e[Vr+4>>2]|0,Wr|0,0)|0,Vr=Ji,cn=e[Vr>>2]|0,Hn=e[Vr+4>>2]|0,gn=+yr(+(+Gc(cn,Sr)*(+(cn>>>0)+4294967296*+(Hn|0)))),Hn=Wt(Yr|0,Mr|0,~~gn>>>0|0,(+f0(gn)>=1?gn>0?~~+i0(+bn(gn/4294967296),4294967295)>>>0:~~+yr((gn-+(~~gn>>>0))/4294967296)>>>0:0)|0)|0,_0=Hn):_0=Yr,Yr=e[S>>2]|0,(_0|0)>=(Yr|0)&&!((_0|0)<=(Yr|0)&&(Q0|0)<(e[We>>2]|0))||(Yr=S,e[Yr>>2]=_0,e[Yr+4>>2]=Q0,Z[at>>0]=B0,e[Ke>>2]=Wr,e[D>>2]=e[m>>2],e[L>>2]=e[J>>2],e[g>>2]=e[D>>2],e[c>>2]=e[L>>2],Aa(st,g,c),e[N>>2]=ai,e[X>>2]=lr,e[g>>2]=e[N>>2],e[c>>2]=e[X>>2],Aa(Qe,g,c)),hr)break;for(In=Z[Vi>>0]|0,Yr=-1,Hn=In;Mr=Yr+-1|0,O0=Wi+Mr|0,cn=Hn,Hn=Z[O0>>0]|0,!((Hn&255)<(cn&255));)if((O0|0)==(b|0)){Dn=86;break i}else Yr=Mr;if(Mr=Wi+Yr|0,(Hn&255)<(In&255))An=Vi,J0=In;else for(cn=Wi,Sr=Vi;;)if(Vr=Sr+-1|0,(Hn&255)<(yi[cn+-2>>0]|0)){An=Vr,J0=1;break}else Pn=Sr,Sr=Vr,cn=Pn;if(Z[O0>>0]=J0,Z[An>>0]=Hn,(Yr|0)<-1)Ro=Mr,yo=Vi;else continue;for(;;)if(cn=Z[Ro>>0]|0,Z[Ro>>0]=Z[yo>>0]|0,Z[yo>>0]=cn,cn=Ro+1|0,Sr=yo+-1|0,cn>>>0<Sr>>>0)Ro=cn,yo=Sr;else continue i}if((Dn|0)==86&&(Dn=0,Ur)&&(Mr=Z[b>>0]|0,Z[b>>0]=In,Z[Vi>>0]=Mr,Bi)){Mr=Pi,Yr=Vt;do Hn=Z[Yr>>0]|0,Z[Yr>>0]=Z[Mr>>0]|0,Z[Mr>>0]=Hn,Yr=Yr+1|0,Mr=Mr+-1|0;while(Yr>>>0<Mr>>>0)}if((Wr|0)>=(Hi|0)){On=ki,xn=Ii,Dr=ki,zr=Ii,Br=lr,Qr=ai,Ir=Ii;break}else Wr=Wr+1|0}if(_t&&(Wr=e[Ke>>2]|0,Ii=v+(Hi+-1<<3)|0,ai=Ii,lr=Wt(e[ai>>2]|0,e[ai+4>>2]|0,Wr|0,((Wr|0)<0)<<31>>31|0)|0,Wr=Ii,e[Wr>>2]=lr,e[Wr+4>>2]=Xe),Ce){Wr=e[Qe>>2]|0,lr=e[j>>2]|0,Ii=0;do ai=e[Wr+(Ii<<2)>>2]|0,e[lr+(Ii<<2)>>2]=ai<<1^ai>>31,Ii=Ii+1|0;while((Ii|0)!=(f|0));cl=lr}else cl=e[j>>2]|0;if(Yy(c,Ue,cl,f),_t){lr=Hi+-1|0,Ao=r+60+(lr*12|0)|0,Ii=r+60+(lr*12|0)+4|0,Wr=r+60+(lr*12|0)+8|0,lr=0;do{if(ai=e[Ii>>2]|0,ki=e[Wr>>2]|0,Pi=(ai|0)==(ki<<5|0),1<<lr&yi[at>>0]){if(Pi){if((ai+1|0)<0){Dn=119;break t}Pi=ki<<6,ki=ai+32&-32,la(Ao,ai>>>0<1073741823?Pi>>>0<ki>>>0?ki:Pi:2147483647),Ea=e[Ii>>2]|0}else Ea=ai;e[Ii>>2]=Ea+1,ai=(e[Ao>>2]|0)+(Ea>>>5<<2)|0,e[ai>>2]=e[ai>>2]&~(1<<(Ea&31))}else{if(Pi){if((ai+1|0)<0){Dn=114;break t}Bi=ki<<6,Vi=ai+32&-32,la(Ao,ai>>>0<1073741823?Bi>>>0<Vi>>>0?Vi:Bi:2147483647),hl=e[Ii>>2]|0}else hl=ai;e[Ii>>2]=hl+1,Bi=(e[Ao>>2]|0)+(hl>>>5<<2)|0,e[Bi>>2]=e[Bi>>2]|1<<(hl&31)}lr=lr+1|0}while((lr|0)<(Hi|0))}if(lr=o+(ti<<2)|0,Ii=e[V>>2]|0,(Ii|0)>0)for(Wr=0,_t=e[st>>2]|0,ai=Ii;;){if((ai|0)>0){Ii=0;do Pi=e[_t+(Ii<<2)>>2]|0,ki=e[it>>2]|0,(Pi|0)>(ki|0)?(Bi=e[ze>>2]|0,e[Bi+(Ii<<2)>>2]=ki,df=Bi):(Bi=e[Ge>>2]|0,ki=e[ze>>2]|0,e[ki+(Ii<<2)>>2]=(Pi|0)<(Bi|0)?Bi:Pi,df=ki),Ii=Ii+1|0;while((Ii|0)<(e[V>>2]|0));Xn=df}else Xn=e[ze>>2]|0;Ii=(e[gi+(Wr<<2)>>2]|0)-(e[Xn+(Wr<<2)>>2]|0)|0,ki=lr+(Wr<<2)|0,e[ki>>2]=Ii;do if((Ii|0)<(e[ke>>2]|0))dl=(e[ut>>2]|0)+Ii|0,Dn=109;else{if((Ii|0)<=(e[et>>2]|0))break;dl=Ii-(e[ut>>2]|0)|0,Dn=109}while(0);if((Dn|0)==109&&(Dn=0,e[ki>>2]=dl),Wr=Wr+1|0,ai=e[V>>2]|0,(Wr|0)>=(ai|0))break;_t=Xn}if(_t=e[ot>>2]|0,_t|0&&(ai=e[At>>2]|0,(ai|0)!=(_t|0)&&(e[At>>2]=ai+(~((ai+-4-_t|0)>>>2)<<2)),ve(_t)),_t=e[Rt>>2]|0,_t|0&&(ai=e[Nt>>2]|0,(ai|0)!=(_t|0)&&(e[Nt>>2]=ai+(~((ai+-4-_t|0)>>>2)<<2)),ve(_t)),(St|0)<=2){Zn=zr,Ha=Dr;break e}if(_t=e[U>>2]|0,Gt=e[_t>>2]|0,ai=fi+-1|0,(e[_t+4>>2]|0)-Gt>>2>>>0<=ai>>>0){Ni=_t,Dn=18;break}else _t=fi,fi=ai,ci=Ir,mi=Qr,ji=Br,di=zr,Ei=Dr,ni=xn,Ri=On,St=_t}((Dn|0)==18||(Dn|0)==114||(Dn|0)==119)&&Je()}else Zn=fe,Ha=Ee;while(0);if(Ee=e[d>>2]|0,(f|0)>0&&(e[Ee>>2]=0,(f|0)!=1)){fe=1;do e[Ee+(fe<<2)>>2]=0,fe=fe+1|0;while((fe|0)!=(f|0))}if(f=e[V>>2]|0,(f|0)>0)for(fe=r+16|0,Ao=r+32|0,Ni=r+12|0,St=r+28|0,On=r+20|0,Ri=r+24|0,r=0,xn=Ee,Ee=f;;){if((Ee|0)>0){f=0;do ni=e[xn+(f<<2)>>2]|0,Dr=e[fe>>2]|0,(ni|0)>(Dr|0)?(Ei=e[Ao>>2]|0,e[Ei+(f<<2)>>2]=Dr,Ol=Ei):(Ei=e[Ni>>2]|0,Dr=e[Ao>>2]|0,e[Dr+(f<<2)>>2]=(ni|0)<(Ei|0)?Ei:ni,Ol=Dr),f=f+1|0;while((f|0)<(e[V>>2]|0));Qc=Ol}else Qc=e[Ao>>2]|0;if(f=(e[n+(r<<2)>>2]|0)-(e[Qc+(r<<2)>>2]|0)|0,Dr=o+(r<<2)|0,e[Dr>>2]=f,(f|0)>=(e[St>>2]|0)?(f|0)>(e[Ri>>2]|0)&&(Jc=f-(e[On>>2]|0)|0,Dn=145):(Jc=(e[On>>2]|0)+f|0,Dn=145),(Dn|0)==145&&(Dn=0,e[Dr>>2]=Jc),r=r+1|0,Ee=e[V>>2]|0,(r|0)>=(Ee|0))break;xn=Qc}return Zn|0&&((Ha|0)!=(Zn|0)&&(e[re>>2]=Ha+(~((Ha+-4-Zn|0)>>>2)<<2)),ve(Zn)),Zn=e[m>>2]|0,Zn|0&&(m=e[J>>2]|0,(m|0)!=(Zn|0)&&(e[J>>2]=m+(~((m+-4-Zn|0)>>>2)<<2)),ve(Zn)),Zn=e[d+36>>2]|0,Zn|0&&(m=d+40|0,J=e[m>>2]|0,(J|0)!=(Zn|0)&&(e[m>>2]=J+(~((J+-4-Zn|0)>>>2)<<2)),ve(Zn)),Zn=e[d+24>>2]|0,Zn|0&&(J=d+28|0,m=e[J>>2]|0,(m|0)!=(Zn|0)&&(e[J>>2]=m+(~((m+-4-Zn|0)>>>2)<<2)),ve(Zn)),Zn=e[d+12>>2]|0,Zn|0&&(m=d+16|0,J=e[m>>2]|0,(J|0)!=(Zn|0)&&(e[m>>2]=J+(~((J+-4-Zn|0)>>>2)<<2)),ve(Zn)),Zn=e[d>>2]|0,Zn?(J=d+4|0,d=e[J>>2]|0,(d|0)!=(Zn|0)&&(e[J>>2]=d+(~((d+-4-Zn|0)>>>2)<<2)),ve(Zn),q=h,1):(q=h,1)}function es(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0;n=q,q=q+16|0,o=n,a=n+8|0,f=n+4|0,e[a>>2]=r;do if(r>>>0>=212){h=(r>>>0)/210|0,c=h*210|0,e[f>>2]=r-c,g=0,d=h,h=(Bk(6640,6832,f,o)|0)-6640>>2,m=c;e:for(;;){for(b=(e[6640+(h<<2)>>2]|0)+m|0,c=5;;){if(c>>>0>=47){v=211,x=g,C=8;break}if(S=e[6448+(c<<2)>>2]|0,M=(b>>>0)/(S>>>0)|0,M>>>0<S>>>0){C=106;break e}if((b|0)==(_i(M,S)|0)){I=g;break}else c=c+1|0}t:do if((C|0)==8){i:for(;;){C=0,c=(b>>>0)/(v>>>0)|0;do if(c>>>0>=v>>>0)if((b|0)!=(_i(c,v)|0))if(S=v+10|0,M=(b>>>0)/(S>>>0)|0,M>>>0>=S>>>0)if((b|0)!=(_i(M,S)|0))if(M=v+12|0,D=(b>>>0)/(M>>>0)|0,D>>>0>=M>>>0)if((b|0)!=(_i(D,M)|0))if(D=v+16|0,L=(b>>>0)/(D>>>0)|0,L>>>0>=D>>>0)if((b|0)!=(_i(L,D)|0))if(L=v+18|0,N=(b>>>0)/(L>>>0)|0,N>>>0>=L>>>0)if((b|0)!=(_i(N,L)|0))if(N=v+22|0,X=(b>>>0)/(N>>>0)|0,X>>>0>=N>>>0)if((b|0)!=(_i(X,N)|0))if(X=v+28|0,V=(b>>>0)/(X>>>0)|0,V>>>0>=X>>>0)if((b|0)==(_i(V,X)|0))Q=X,U=9,j=x;else{if(V=v+30|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+36|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+40|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+42|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+46|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+52|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+58|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+60|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+66|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+70|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+72|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+78|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+82|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+88|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+96|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+100|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+102|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+106|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+108|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+112|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+120|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+126|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+130|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+136|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+138|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+142|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+148|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+150|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+156|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+162|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+166|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+168|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+172|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+178|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+180|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+186|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+190|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+192|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+196|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}if(V=v+198|0,$=(b>>>0)/(V>>>0)|0,$>>>0<V>>>0){Q=V,U=1,j=b;break}if((b|0)==(_i($,V)|0)){Q=V,U=9,j=x;break}V=v+208|0,$=(b>>>0)/(V>>>0)|0,J=$>>>0<V>>>0,F=(b|0)==(_i($,V)|0),Q=J|F?V:v+210|0,U=J?1:F?9:0,j=J?b:x}else Q=X,U=1,j=b;else Q=N,U=9,j=x;else Q=N,U=1,j=b;else Q=L,U=9,j=x;else Q=L,U=1,j=b;else Q=D,U=9,j=x;else Q=D,U=1,j=b;else Q=M,U=9,j=x;else Q=M,U=1,j=b;else Q=S,U=9,j=x;else Q=S,U=1,j=b;else Q=v,U=9,j=x;else Q=v,U=1,j=b;while(0);switch(U&15){case 9:{I=j;break t}case 0:{v=Q,x=j,C=8;break}default:break i}}if(!U)I=j;else{C=107;break e}}while(0);c=h+1|0,S=(c|0)==48,M=d+(S&1)|0,g=I,d=M,h=S?0:c,m=M*210|0}if((C|0)==106){e[a>>2]=b,K=b;break}else if((C|0)==107){e[a>>2]=b,K=j;break}}else m=Bk(6448,6640,a,o)|0,K=e[m>>2]|0;while(0);return q=n,K|0}function XP(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0,Gt=0,ci=0,mi=0,ji=0,di=0,Ei=0,ni=0,Ri=0,Ni=0,ai=0,gi=0,oi=0,ti=0,Vi=0,Ji=0,Wi=0,Hi=0,Pi=0,wi=0,ki=0,Bi=0,er=0,lr=0,Ii=0,hr=0,tr=0,Xr=0,nn=0,mn=0,R0=0,gn=0,Wn=0,On=0,xn=0,Dr=0,zr=0,Br=0,Qr=0,Ir=0,tn=0,Ur=0,sn=0,Wr=0,Mr=0,Vr=0,Sr=0,Yr=0,cn=0,Hn=0,c0=0,B0=0,n0=0,Ts=0,Q0=0,as=0,_0=0,In=0,O0=0,Dn=0,An=0,J0=0;h=q,q=q+256|0,a=h+104|0,c=h+240|0,g=h+224|0,d=h+160|0,m=h+140|0,b=h+248|0,v=h+72|0,x=h+40|0,C=h+128|0,S=h,M=h+232|0,I=h+220|0,D=h+216|0,L=h+212|0,N=h+208|0,X=h+152|0,V=e[r+28>>2]|0,Q=e[r+32>>2]|0,U=d,j=U+48|0;do e[U>>2]=0,U=U+4|0;while((U|0)<(j|0));f?(q0(d,f),$=e[d+12>>2]|0,J=e[d+16>>2]|0):($=0,J=0),U=d+16|0,j=J-$>>2,F=$,$=J,j>>>0>=f>>>0?j>>>0>f>>>0&&(J=F+(f<<2)|0,(J|0)!=($|0))&&(e[U>>2]=$+(~(($+-4-J|0)>>>2)<<2)):q0(d+12|0,f-j|0),j=d+24|0,J=d+28|0,$=e[J>>2]|0,U=e[j>>2]|0,F=$-U>>2,K=U,U=$,F>>>0>=f>>>0?F>>>0>f>>>0&&($=K+(f<<2)|0,($|0)!=(U|0))&&(e[J>>2]=U+(~((U+-4-$|0)>>>2)<<2)):q0(j,f-F|0),F=d+36|0,j=d+40|0,$=e[j>>2]|0,U=e[F>>2]|0,J=$-U>>2,K=U,U=$,J>>>0>=f>>>0?J>>>0>f>>>0&&($=K+(f<<2)|0,($|0)!=(U|0))&&(e[j>>2]=U+(~((U+-4-$|0)>>>2)<<2)):q0(F,f-J|0),e[m>>2]=0,J=m+4|0,e[J>>2]=0,e[m+8>>2]=0,F=(f|0)==0;do if(!F)if(f>>>0>1073741823)Je();else{$=f<<2,U=Dt($)|0,e[m>>2]=U,j=U+(f<<2)|0,e[m+8>>2]=j,Mi(U|0,0,$|0)|0,e[J>>2]=j;break}while(0);j=r+136|0,$=r+140|0,U=e[$>>2]|0,K=e[j>>2]|0,re=U-K>>2,se=K,K=U,re>>>0>=f>>>0?re>>>0>f>>>0&&(U=se+(f<<2)|0,(U|0)!=(K|0))&&(e[$>>2]=K+(~((K+-4-U|0)>>>2)<<2)):q0(j,f-re|0),e[v>>2]=0,e[v+4>>2]=0,e[v+8>>2]=0,e[v+12>>2]=0,e[v+16>>2]=0,e[v+20>>2]=0,e[v+24>>2]=0,e[v+28>>2]=0,e[x>>2]=0,e[x+4>>2]=0,e[x+8>>2]=0,e[x+12>>2]=0,e[x+16>>2]=0,e[x+20>>2]=0,e[x+24>>2]=0,e[x+28>>2]=0,e[C>>2]=0,re=C+4|0,e[re>>2]=0,e[C+8>>2]=0,F?(fe=0,Ee=0,Ne=0,me=0):(F=f<<2,U=Dt(F)|0,e[C>>2]=U,K=U+(f<<2)|0,e[C+8>>2]=K,Mi(U|0,0,F|0)|0,e[re>>2]=K,fe=U,Ee=K,Ne=K,me=U),U=r+36|0,K=e[U>>2]|0,F=e[K+4>>2]|0,$=e[K>>2]|0,se=F-$|0;e:do if((se|0)>4){Ie=se>>>2,_e=V+64|0,Ce=V+28|0,We=(f|0)>0,at=S+4|0,Ke=S+8|0,Ve=S+12|0,Ue=r+136|0,st=r+96|0,Qe=S+16|0,it=S+28|0,ze=r+8|0,Ge=c+4|0,ke=g+4|0,ut=a+4|0,et=S+28|0,ot=S+16|0,Rt=S+20|0,Nt=S+32|0,At=b+1|0,Vt=f<<2,Pt=(f|0)==1,xt=Ie+-1|0,F-$>>2>>>0>xt>>>0?(_t=Ie,St=xt,fi=$,Gt=fe,ci=me,mi=Ne,ji=fe,di=Ee):Je();t:for(;;){xt=e[fi+(St<<2)>>2]|0,Ie=(((xt>>>0)%3|0|0)==0?2:-1)+xt|0,Ei=Ie>>>5,ni=1<<(Ie&31),Ri=(xt|0)==-1|(Ie|0)==-1,Ni=1,ai=0,gi=xt;i:for(;;){for(oi=Ni^1,ti=ai,Vi=gi;;){if((Vi|0)==-1){Ji=ti;break i}if(Wi=e[d+(ti*12|0)>>2]|0,(e[(e[V>>2]|0)+(Vi>>>5<<2)>>2]&1<<(Vi&31)|0)==0&&(Hi=e[(e[(e[_e>>2]|0)+12>>2]|0)+(Vi<<2)>>2]|0,(Hi|0)!=-1)&&(Pi=e[Ce>>2]|0,wi=e[Q>>2]|0,ki=e[wi+(e[Pi+(Hi<<2)>>2]<<2)>>2]|0,Bi=Hi+1|0,er=e[wi+(e[Pi+((((Bi>>>0)%3|0|0)==0?Hi+-2|0:Bi)<<2)>>2]<<2)>>2]|0,Bi=e[wi+(e[Pi+((((Hi>>>0)%3|0|0)==0?2:-1)+Hi<<2)>>2]<<2)>>2]|0,(ki|0)<(St|0)&(er|0)<(St|0)&(Bi|0)<(St|0))){if(Hi=_i(ki,f)|0,ki=_i(er,f)|0,er=_i(Bi,f)|0,We){Bi=0;do e[Wi+(Bi<<2)>>2]=(e[n+(Bi+er<<2)>>2]|0)+(e[n+(Bi+ki<<2)>>2]|0)-(e[n+(Bi+Hi<<2)>>2]|0),Bi=Bi+1|0;while((Bi|0)!=(f|0))}if(Bi=ti+1|0,(Bi|0)==4){Ji=4;break i}else lr=Bi}else lr=ti;do if(Ni)Bi=Vi+1|0,Hi=((Bi>>>0)%3|0|0)==0?Vi+-2|0:Bi,(Hi|0)!=-1&&(e[(e[V>>2]|0)+(Hi>>>5<<2)>>2]&1<<(Hi&31)|0)==0&&(Bi=e[(e[(e[_e>>2]|0)+12>>2]|0)+(Hi<<2)>>2]|0,Hi=Bi+1|0,(Bi|0)!=-1)?Ii=((Hi>>>0)%3|0|0)==0?Bi+-2|0:Hi:Ii=-1;else if(Hi=(((Vi>>>0)%3|0|0)==0?2:-1)+Vi|0,(Hi|0)!=-1&&(e[(e[V>>2]|0)+(Hi>>>5<<2)>>2]&1<<(Hi&31)|0)==0&&(Bi=e[(e[(e[_e>>2]|0)+12>>2]|0)+(Hi<<2)>>2]|0,(Bi|0)!=-1))if((Bi>>>0)%3|0){Ii=Bi+-1|0;break}else{Ii=Bi+2|0;break}else Ii=-1;while(0);if((Ii|0)==(xt|0)){Ji=lr;break i}if((Ii|0)!=-1|oi)ti=lr,Vi=Ii;else break}if(Ri){Ni=0,ai=lr,gi=-1;continue}if(e[(e[V>>2]|0)+(Ei<<2)>>2]&ni|0){Ni=0,ai=lr,gi=-1;continue}if(Vi=e[(e[(e[_e>>2]|0)+12>>2]|0)+(Ie<<2)>>2]|0,(Vi|0)==-1){Ni=0,ai=lr,gi=-1;continue}if((Vi>>>0)%3|0){Ni=0,ai=lr,gi=Vi+-1|0;continue}else{Ni=0,ai=lr,gi=Vi+2|0;continue}}if(gi=_i(St,f)|0,e[S>>2]=0,e[at>>2]=0,Z[Ke>>0]=0,e[Ve>>2]=0,e[Ve+4>>2]=0,e[Ve+8>>2]=0,e[Ve+12>>2]=0,e[Ve+16>>2]=0,e[Ve+20>>2]=0,e[Ve+24>>2]=0,ai=n+((_i(_t+-2|0,f)|0)<<2)|0,Ni=n+(gi<<2)|0,Ie=e[Ue>>2]|0,We)for(ni=0,Ei=0;;)if(Ri=(e[ai+(ni<<2)>>2]|0)-(e[Ni+(ni<<2)>>2]|0)|0,xt=((Ri|0)>-1?Ri:0-Ri|0)+Ei|0,e[Gt+(ni<<2)>>2]=Ri,e[Ie+(ni<<2)>>2]=Ri<<1^Ri>>31,ni=ni+1|0,(ni|0)==(f|0)){hr=xt;break}else Ei=xt;else hr=0;if(Wc(a,st,Ie,f),Ei=Vc(a)|0,ni=Xe,xt=zc(a)|0,Ri=Wt(xt|0,Xe|0,Ei|0,ni|0)|0,ni=Xe,Ei=(Ji|0)>0,Ei?(xt=Ji+-1|0,Vi=x+(xt<<3)|0,ti=Vi,oi=Wt(e[ti>>2]|0,e[ti+4>>2]|0,Ji|0,((Ji|0)<0)<<31>>31|0)|0,ti=Xe,Bi=Vi,e[Bi>>2]=oi,e[Bi+4>>2]=ti,tr=+yr(+(+Gc(oi,e[v+(xt<<3)>>2]|0)*(+(oi>>>0)+4294967296*+(ti|0)))),ti=Wt(Ri|0,ni|0,~~tr>>>0|0,(+f0(tr)>=1?tr>0?~~+i0(+bn(tr/4294967296),4294967295)>>>0:~~+yr((tr-+(~~tr>>>0))/4294967296)>>>0:0)|0)|0,Xr=ti):Xr=Ri,Ri=S,e[Ri>>2]=Xr,e[Ri+4>>2]=hr,Z[Ke>>0]=0,e[Ve>>2]=0,Uu(Qe,ai,ai+(f<<2)|0),e[M>>2]=ci,e[I>>2]=mi,e[c>>2]=e[M>>2],e[a>>2]=e[I>>2],Aa(it,c,a),(Ji|0)<1)nn=di,mn=ji,R0=mi,gn=ci,Wn=ci;else for(Ri=b+Ji|0,ti=e[C>>2]|0,ni=Ji+-1|0,oi=v+(ni<<3)|0,xt=x+(ni<<3)|0,ni=ti,Bi=e[re>>2]|0,Vi=Ri+-1|0,Hi=(Vi|0)==(b|0),ki=Ri+-2|0,er=At>>>0<ki>>>0,Wi=~Ji,Pi=Ji+2+((Wi|0)>-2?Wi:-2)|0,Wi=Bi,wi=Vi>>>0>b>>>0,On=0,xn=1;;){On=On+1|0,Mi(b|0,1,Pi|0)|0,Mi(b|0,0,On|0)|0;i:for(;;){if(We)for(Mi(e[m>>2]|0,0,Vt|0)|0,Dr=e[m>>2]|0,zr=0,Br=0;;){if(Z[b+zr>>0]|0)Ur=Br;else{Qr=e[d+(zr*12|0)>>2]|0,Ir=0;do tn=Dr+(Ir<<2)|0,e[tn>>2]=(e[tn>>2]|0)+(e[Qr+(Ir<<2)>>2]|0),Ir=Ir+1|0;while((Ir|0)!=(f|0));Ur=(1<<zr|Br&255)&255}if(zr=zr+1|0,(zr|0)==(Ji|0)){sn=Ur;break}else Br=Ur}else for(Br=0,zr=0;;)if(Z[b+Br>>0]|0?Wr=zr:Wr=(1<<Br|zr&255)&255,Br=Br+1|0,(Br|0)==(Ji|0)){sn=Wr;break}else zr=Wr;zr=e[m>>2]|0;do if(We){if(e[zr>>2]=(e[zr>>2]|0)/(xn|0)|0,Pt)Mr=e[Ue>>2]|0;else{Br=1;do Dr=zr+(Br<<2)|0,e[Dr>>2]=(e[Dr>>2]|0)/(xn|0)|0,Br=Br+1|0;while((Br|0)!=(f|0));if(Br=e[Ue>>2]|0,We)Mr=Br;else{Vr=0,Sr=Br;break}}for(Br=0,Dr=0;;)if(Ir=(e[zr+(Br<<2)>>2]|0)-(e[Ni+(Br<<2)>>2]|0)|0,Qr=((Ir|0)>-1?Ir:0-Ir|0)+Dr|0,e[ti+(Br<<2)>>2]=Ir,e[Mr+(Br<<2)>>2]=Ir<<1^Ir>>31,Br=Br+1|0,(Br|0)==(f|0)){Vr=Qr,Sr=Mr;break}else Dr=Qr}else Vr=0,Sr=e[Ue>>2]|0;while(0);if(Wc(a,st,Sr,f),zr=Vc(a)|0,Dr=Xe,Br=zc(a)|0,Qr=Wt(Br|0,Xe|0,zr|0,Dr|0)|0,Dr=Xe,Ei?(zr=oi,Br=Wt(e[zr>>2]|0,e[zr+4>>2]|0,xn|0,0)|0,zr=xt,Ir=e[zr>>2]|0,tn=e[zr+4>>2]|0,tr=+yr(+(+Gc(Ir,Br)*(+(Ir>>>0)+4294967296*+(tn|0)))),tn=Wt(Qr|0,Dr|0,~~tr>>>0|0,(+f0(tr)>=1?tr>0?~~+i0(+bn(tr/4294967296),4294967295)>>>0:~~+yr((tr-+(~~tr>>>0))/4294967296)>>>0:0)|0)|0,Yr=tn):Yr=Qr,Qr=e[S>>2]|0,(Yr|0)>=(Qr|0)&&!((Yr|0)<=(Qr|0)&&(Vr|0)<(e[at>>2]|0))||(Qr=S,e[Qr>>2]=Yr,e[Qr+4>>2]=Vr,Z[Ke>>0]=sn,e[Ve>>2]=xn,e[D>>2]=e[m>>2],e[L>>2]=e[J>>2],e[c>>2]=e[D>>2],e[a>>2]=e[L>>2],Aa(Qe,c,a),e[N>>2]=ni,e[X>>2]=Bi,e[c>>2]=e[N>>2],e[a>>2]=e[X>>2],Aa(it,c,a)),Hi)break;for(cn=Z[Vi>>0]|0,Qr=-1,tn=cn;Dr=Qr+-1|0,Hn=Ri+Dr|0,Ir=tn,tn=Z[Hn>>0]|0,!((tn&255)<(Ir&255));)if((Hn|0)==(b|0)){c0=86;break i}else Qr=Dr;if(Dr=Ri+Qr|0,(tn&255)<(cn&255))B0=Vi,n0=cn;else for(Ir=Ri,Br=Vi;;)if(zr=Br+-1|0,(tn&255)<(yi[Ir+-2>>0]|0)){B0=zr,n0=1;break}else Ts=Br,Br=zr,Ir=Ts;if(Z[Hn>>0]=n0,Z[B0>>0]=tn,(Qr|0)<-1)Q0=Dr,as=Vi;else continue;for(;;)if(Ir=Z[Q0>>0]|0,Z[Q0>>0]=Z[as>>0]|0,Z[as>>0]=Ir,Ir=Q0+1|0,Br=as+-1|0,Ir>>>0<Br>>>0)Q0=Ir,as=Br;else continue i}if((c0|0)==86&&(c0=0,wi)&&(Dr=Z[b>>0]|0,Z[b>>0]=cn,Z[Vi>>0]=Dr,er)){Dr=ki,Qr=At;do tn=Z[Qr>>0]|0,Z[Qr>>0]=Z[Dr>>0]|0,Z[Dr>>0]=tn,Qr=Qr+1|0,Dr=Dr+-1|0;while(Qr>>>0<Dr>>>0)}if((xn|0)>=(Ji|0)){nn=Wi,mn=ti,R0=Bi,gn=ni,Wn=ti;break}else xn=xn+1|0}if(Ei&&(xn=e[Ve>>2]|0,ti=v+(Ji+-1<<3)|0,ni=ti,Bi=Wt(e[ni>>2]|0,e[ni+4>>2]|0,xn|0,((xn|0)<0)<<31>>31|0)|0,xn=ti,e[xn>>2]=Bi,e[xn+4>>2]=Xe),We){xn=e[it>>2]|0,Bi=e[j>>2]|0,ti=0;do ni=e[xn+(ti<<2)>>2]|0,e[Bi+(ti<<2)>>2]=ni<<1^ni>>31,ti=ti+1|0;while((ti|0)!=(f|0));_0=Bi}else _0=e[j>>2]|0;if(Yy(a,st,_0,f),Ei){Bi=Ji+-1|0,In=r+40+(Bi*12|0)|0,ti=r+40+(Bi*12|0)+4|0,xn=r+40+(Bi*12|0)+8|0,Bi=0;do{if(ni=e[ti>>2]|0,Wi=e[xn>>2]|0,ki=(ni|0)==(Wi<<5|0),1<<Bi&yi[Ke>>0]){if(ki){if((ni+1|0)<0){c0=106;break t}ki=Wi<<6,Wi=ni+32&-32,la(In,ni>>>0<1073741823?ki>>>0<Wi>>>0?Wi:ki:2147483647),Dn=e[ti>>2]|0}else Dn=ni;e[ti>>2]=Dn+1,ni=(e[In>>2]|0)+(Dn>>>5<<2)|0,e[ni>>2]=e[ni>>2]&~(1<<(Dn&31))}else{if(ki){if((ni+1|0)<0){c0=101;break t}er=Wi<<6,Vi=ni+32&-32,la(In,ni>>>0<1073741823?er>>>0<Vi>>>0?Vi:er:2147483647),O0=e[ti>>2]|0}else O0=ni;e[ti>>2]=O0+1,er=(e[In>>2]|0)+(O0>>>5<<2)|0,e[er>>2]=e[er>>2]|1<<(O0&31)}Bi=Bi+1|0}while((Bi|0)<(Ji|0))}if(Bi=e[Qe>>2]|0,ti=o+(gi<<2)|0,xn=e[Ni+4>>2]|0,Ei=e[Bi>>2]|0,ni=e[Bi+4>>2]|0,e[c>>2]=e[Ni>>2],e[Ge>>2]=xn,e[g>>2]=Ei,e[ke>>2]=ni,Ds(a,ze,c,g),e[ti>>2]=e[a>>2],e[ti+4>>2]=e[ut>>2],ti=e[et>>2]|0,ti|0&&(ni=e[Nt>>2]|0,(ni|0)!=(ti|0)&&(e[Nt>>2]=ni+(~((ni+-4-ti|0)>>>2)<<2)),ve(ti)),ti=e[ot>>2]|0,ti|0&&(ni=e[Rt>>2]|0,(ni|0)!=(ti|0)&&(e[Rt>>2]=ni+(~((ni+-4-ti|0)>>>2)<<2)),ve(ti)),(_t|0)<=2){An=mn,J0=nn;break e}if(ti=e[U>>2]|0,fi=e[ti>>2]|0,ni=St+-1|0,(e[ti+4>>2]|0)-fi>>2>>>0<=ni>>>0){c0=18;break}else ti=St,St=ni,Gt=Wn,ci=gn,mi=R0,ji=mn,di=nn,_t=ti}((c0|0)==18||(c0|0)==101||(c0|0)==106)&&Je()}else An=fe,J0=Ee;while(0);return(f|0)>0&&Mi(e[d>>2]|0,0,f<<2|0)|0,f=e[d>>2]|0,Ee=e[n+4>>2]|0,fe=e[f>>2]|0,In=e[f+4>>2]|0,e[c>>2]=e[n>>2],e[c+4>>2]=Ee,e[g>>2]=fe,e[g+4>>2]=In,Ds(a,r+8|0,c,g),e[o>>2]=e[a>>2],e[o+4>>2]=e[a+4>>2],An|0&&((J0|0)!=(An|0)&&(e[re>>2]=J0+(~((J0+-4-An|0)>>>2)<<2)),ve(An)),An=e[m>>2]|0,An|0&&(m=e[J>>2]|0,(m|0)!=(An|0)&&(e[J>>2]=m+(~((m+-4-An|0)>>>2)<<2)),ve(An)),An=e[d+36>>2]|0,An|0&&(m=d+40|0,J=e[m>>2]|0,(J|0)!=(An|0)&&(e[m>>2]=J+(~((J+-4-An|0)>>>2)<<2)),ve(An)),An=e[d+24>>2]|0,An|0&&(J=d+28|0,m=e[J>>2]|0,(m|0)!=(An|0)&&(e[J>>2]=m+(~((m+-4-An|0)>>>2)<<2)),ve(An)),An=e[d+12>>2]|0,An|0&&(m=d+16|0,J=e[m>>2]|0,(J|0)!=(An|0)&&(e[m>>2]=J+(~((J+-4-An|0)>>>2)<<2)),ve(An)),An=e[d>>2]|0,An?(J=d+4|0,d=e[J>>2]|0,(d|0)!=(An|0)&&(e[J>>2]=d+(~((d+-4-An|0)>>>2)<<2)),ve(An),q=h,1):(q=h,1)}function qP(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0,Gt=0,ci=0,mi=0,ji=0,di=0,Ei=0,ni=0,Ri=0,Ni=0,ai=0,gi=0,oi=0,ti=0,Vi=0,Ji=0,Wi=0,Hi=0,Pi=0,wi=0,ki=0,Bi=0,er=0,lr=0,Ii=0,hr=0,tr=0,Xr=0,nn=0,mn=0,R0=0,gn=0,Wn=0,On=0,xn=0,Dr=0,zr=0,Br=0,Qr=0,Ir=0,tn=0,Ur=0,sn=0,Wr=0,Mr=0,Vr=0,Sr=0,Yr=0,cn=0,Hn=0,c0=0,B0=0,n0=0,Ts=0,Q0=0,as=0,_0=0,In=0,O0=0,Dn=0,An=0,J0=0,Pn=0,Ro=0;h=q,q=q+256|0,a=h+104|0,c=h+240|0,g=h+224|0,d=h+160|0,m=h+140|0,b=h+248|0,v=h+72|0,x=h+40|0,C=h+128|0,S=h,M=h+232|0,I=h+220|0,D=h+216|0,L=h+212|0,N=h+208|0,X=h+152|0,V=e[r+28>>2]|0,Q=e[r+32>>2]|0,U=d,j=U+48|0;do e[U>>2]=0,U=U+4|0;while((U|0)<(j|0));f?(q0(d,f),$=e[d+12>>2]|0,J=e[d+16>>2]|0):($=0,J=0),U=d+16|0,j=J-$>>2,F=$,$=J,j>>>0>=f>>>0?j>>>0>f>>>0&&(J=F+(f<<2)|0,(J|0)!=($|0))&&(e[U>>2]=$+(~(($+-4-J|0)>>>2)<<2)):q0(d+12|0,f-j|0),j=d+24|0,J=d+28|0,$=e[J>>2]|0,U=e[j>>2]|0,F=$-U>>2,K=U,U=$,F>>>0>=f>>>0?F>>>0>f>>>0&&($=K+(f<<2)|0,($|0)!=(U|0))&&(e[J>>2]=U+(~((U+-4-$|0)>>>2)<<2)):q0(j,f-F|0),F=d+36|0,j=d+40|0,$=e[j>>2]|0,U=e[F>>2]|0,J=$-U>>2,K=U,U=$,J>>>0>=f>>>0?J>>>0>f>>>0&&($=K+(f<<2)|0,($|0)!=(U|0))&&(e[j>>2]=U+(~((U+-4-$|0)>>>2)<<2)):q0(F,f-J|0),e[m>>2]=0,J=m+4|0,e[J>>2]=0,e[m+8>>2]=0,F=(f|0)==0;do if(!F)if(f>>>0>1073741823)Je();else{$=f<<2,U=Dt($)|0,e[m>>2]=U,j=U+(f<<2)|0,e[m+8>>2]=j,Mi(U|0,0,$|0)|0,e[J>>2]=j;break}while(0);j=r+136|0,$=r+140|0,U=e[$>>2]|0,K=e[j>>2]|0,re=U-K>>2,se=K,K=U,re>>>0>=f>>>0?re>>>0>f>>>0&&(U=se+(f<<2)|0,(U|0)!=(K|0))&&(e[$>>2]=K+(~((K+-4-U|0)>>>2)<<2)):q0(j,f-re|0),e[v>>2]=0,e[v+4>>2]=0,e[v+8>>2]=0,e[v+12>>2]=0,e[v+16>>2]=0,e[v+20>>2]=0,e[v+24>>2]=0,e[v+28>>2]=0,e[x>>2]=0,e[x+4>>2]=0,e[x+8>>2]=0,e[x+12>>2]=0,e[x+16>>2]=0,e[x+20>>2]=0,e[x+24>>2]=0,e[x+28>>2]=0,e[C>>2]=0,re=C+4|0,e[re>>2]=0,e[C+8>>2]=0,F?(fe=0,Ee=0,Ne=0,me=0):(F=f<<2,U=Dt(F)|0,e[C>>2]=U,K=U+(f<<2)|0,e[C+8>>2]=K,Mi(U|0,0,F|0)|0,e[re>>2]=K,fe=U,Ee=K,Ne=K,me=U),U=r+36|0,K=e[U>>2]|0,F=e[K+4>>2]|0,$=e[K>>2]|0,se=F-$|0;e:do if((se|0)>4){Ie=se>>>2,_e=V+12|0,Ce=(f|0)>0,We=S+4|0,at=S+8|0,Ke=S+12|0,Ve=r+136|0,Ue=r+96|0,st=S+16|0,Qe=S+28|0,it=r+8|0,ze=c+4|0,Ge=g+4|0,ke=a+4|0,ut=S+28|0,et=S+16|0,ot=S+20|0,Rt=S+32|0,Nt=b+1|0,At=f<<2,Vt=(f|0)==1,Pt=Ie+-1|0,F-$>>2>>>0>Pt>>>0?(xt=Ie,_t=Pt,St=fe,fi=me,Gt=Ne,ci=fe,mi=Ee,ji=$):Je();t:for(;;){Pt=e[ji+(_t<<2)>>2]|0,Ie=(((Pt>>>0)%3|0|0)==0?2:-1)+Pt|0,di=(Pt|0)==-1|(Ie|0)==-1,Ei=1,ni=0,Ri=Pt;i:for(;;){for(Ni=Ei^1,ai=ni,gi=Ri;;){if((gi|0)==-1){oi=ai;break i}if(ti=e[d+(ai*12|0)>>2]|0,Vi=e[_e>>2]|0,Ji=e[Vi+(gi<<2)>>2]|0,(Ji|0)!=-1)if(Wi=e[V>>2]|0,Hi=e[Q>>2]|0,Pi=e[Hi+(e[Wi+(Ji<<2)>>2]<<2)>>2]|0,wi=Ji+1|0,ki=((wi>>>0)%3|0|0)==0?Ji+-2|0:wi,(ki|0)==-1?Bi=-1:Bi=e[Wi+(ki<<2)>>2]|0,ki=e[Hi+(Bi<<2)>>2]|0,wi=(((Ji>>>0)%3|0|0)==0?2:-1)+Ji|0,(wi|0)==-1?er=-1:er=e[Wi+(wi<<2)>>2]|0,wi=e[Hi+(er<<2)>>2]|0,(Pi|0)<(_t|0)&(ki|0)<(_t|0)&(wi|0)<(_t|0)){if(Hi=_i(Pi,f)|0,Pi=_i(ki,f)|0,ki=_i(wi,f)|0,Ce){wi=0;do e[ti+(wi<<2)>>2]=(e[n+(wi+ki<<2)>>2]|0)+(e[n+(wi+Pi<<2)>>2]|0)-(e[n+(wi+Hi<<2)>>2]|0),wi=wi+1|0;while((wi|0)!=(f|0))}if(wi=ai+1|0,(wi|0)==4){oi=4;break i}else lr=wi}else lr=ai;else lr=ai;do if(Ei)wi=gi+1|0,Hi=((wi>>>0)%3|0|0)==0?gi+-2|0:wi,(Hi|0)!=-1&&(wi=e[Vi+(Hi<<2)>>2]|0,Hi=wi+1|0,(wi|0)!=-1)?Ii=((Hi>>>0)%3|0|0)==0?wi+-2|0:Hi:Ii=-1;else if(Hi=(((gi>>>0)%3|0|0)==0?2:-1)+gi|0,(Hi|0)!=-1&&(wi=e[Vi+(Hi<<2)>>2]|0,(wi|0)!=-1))if((wi>>>0)%3|0){Ii=wi+-1|0;break}else{Ii=wi+2|0;break}else Ii=-1;while(0);if((Ii|0)==(Pt|0)){oi=lr;break i}if((Ii|0)!=-1|Ni)ai=lr,gi=Ii;else break}if(di){Ei=0,ni=lr,Ri=-1;continue}if(gi=e[Vi+(Ie<<2)>>2]|0,(gi|0)==-1){Ei=0,ni=lr,Ri=-1;continue}if((gi>>>0)%3|0){Ei=0,ni=lr,Ri=gi+-1|0;continue}else{Ei=0,ni=lr,Ri=gi+2|0;continue}}if(Ri=_i(_t,f)|0,e[S>>2]=0,e[We>>2]=0,Z[at>>0]=0,e[Ke>>2]=0,e[Ke+4>>2]=0,e[Ke+8>>2]=0,e[Ke+12>>2]=0,e[Ke+16>>2]=0,e[Ke+20>>2]=0,e[Ke+24>>2]=0,ni=n+((_i(xt+-2|0,f)|0)<<2)|0,Ei=n+(Ri<<2)|0,Ie=e[Ve>>2]|0,Ce)for(di=0,Pt=0;;)if(gi=(e[ni+(di<<2)>>2]|0)-(e[Ei+(di<<2)>>2]|0)|0,ai=((gi|0)>-1?gi:0-gi|0)+Pt|0,e[St+(di<<2)>>2]=gi,e[Ie+(di<<2)>>2]=gi<<1^gi>>31,di=di+1|0,(di|0)==(f|0)){hr=ai;break}else Pt=ai;else hr=0;if(Wc(a,Ue,Ie,f),Pt=Vc(a)|0,di=Xe,ai=zc(a)|0,gi=Wt(ai|0,Xe|0,Pt|0,di|0)|0,di=Xe,Pt=(oi|0)>0,Pt?(ai=oi+-1|0,Ni=x+(ai<<3)|0,wi=Ni,Hi=Wt(e[wi>>2]|0,e[wi+4>>2]|0,oi|0,((oi|0)<0)<<31>>31|0)|0,wi=Xe,Pi=Ni,e[Pi>>2]=Hi,e[Pi+4>>2]=wi,tr=+yr(+(+Gc(Hi,e[v+(ai<<3)>>2]|0)*(+(Hi>>>0)+4294967296*+(wi|0)))),wi=Wt(gi|0,di|0,~~tr>>>0|0,(+f0(tr)>=1?tr>0?~~+i0(+bn(tr/4294967296),4294967295)>>>0:~~+yr((tr-+(~~tr>>>0))/4294967296)>>>0:0)|0)|0,Xr=wi):Xr=gi,gi=S,e[gi>>2]=Xr,e[gi+4>>2]=hr,Z[at>>0]=0,e[Ke>>2]=0,Uu(st,ni,ni+(f<<2)|0),e[M>>2]=fi,e[I>>2]=Gt,e[c>>2]=e[M>>2],e[a>>2]=e[I>>2],Aa(Qe,c,a),(oi|0)<1)nn=mi,mn=ci,R0=Gt,gn=fi,Wn=fi;else for(gi=b+oi|0,wi=e[C>>2]|0,di=oi+-1|0,Hi=v+(di<<3)|0,ai=x+(di<<3)|0,di=wi,Pi=e[re>>2]|0,Ni=gi+-1|0,ki=(Ni|0)==(b|0),ti=gi+-2|0,Wi=Nt>>>0<ti>>>0,Ji=~oi,On=oi+2+((Ji|0)>-2?Ji:-2)|0,Ji=Pi,xn=Ni>>>0>b>>>0,Dr=0,zr=1;;){Dr=Dr+1|0,Mi(b|0,1,On|0)|0,Mi(b|0,0,Dr|0)|0;i:for(;;){if(Ce)for(Mi(e[m>>2]|0,0,At|0)|0,Br=e[m>>2]|0,Qr=0,Ir=0;;){if(Z[b+Qr>>0]|0)Wr=Ir;else{tn=e[d+(Qr*12|0)>>2]|0,Ur=0;do sn=Br+(Ur<<2)|0,e[sn>>2]=(e[sn>>2]|0)+(e[tn+(Ur<<2)>>2]|0),Ur=Ur+1|0;while((Ur|0)!=(f|0));Wr=(1<<Qr|Ir&255)&255}if(Qr=Qr+1|0,(Qr|0)==(oi|0)){Mr=Wr;break}else Ir=Wr}else for(Ir=0,Qr=0;;)if(Z[b+Ir>>0]|0?Vr=Qr:Vr=(1<<Ir|Qr&255)&255,Ir=Ir+1|0,(Ir|0)==(oi|0)){Mr=Vr;break}else Qr=Vr;Qr=e[m>>2]|0;do if(Ce){if(e[Qr>>2]=(e[Qr>>2]|0)/(zr|0)|0,Vt)Sr=e[Ve>>2]|0;else{Ir=1;do Br=Qr+(Ir<<2)|0,e[Br>>2]=(e[Br>>2]|0)/(zr|0)|0,Ir=Ir+1|0;while((Ir|0)!=(f|0));if(Ir=e[Ve>>2]|0,Ce)Sr=Ir;else{Yr=0,cn=Ir;break}}for(Ir=0,Br=0;;)if(Ur=(e[Qr+(Ir<<2)>>2]|0)-(e[Ei+(Ir<<2)>>2]|0)|0,tn=((Ur|0)>-1?Ur:0-Ur|0)+Br|0,e[wi+(Ir<<2)>>2]=Ur,e[Sr+(Ir<<2)>>2]=Ur<<1^Ur>>31,Ir=Ir+1|0,(Ir|0)==(f|0)){Yr=tn,cn=Sr;break}else Br=tn}else Yr=0,cn=e[Ve>>2]|0;while(0);if(Wc(a,Ue,cn,f),Qr=Vc(a)|0,Br=Xe,Ir=zc(a)|0,tn=Wt(Ir|0,Xe|0,Qr|0,Br|0)|0,Br=Xe,Pt?(Qr=Hi,Ir=Wt(e[Qr>>2]|0,e[Qr+4>>2]|0,zr|0,0)|0,Qr=ai,Ur=e[Qr>>2]|0,sn=e[Qr+4>>2]|0,tr=+yr(+(+Gc(Ur,Ir)*(+(Ur>>>0)+4294967296*+(sn|0)))),sn=Wt(tn|0,Br|0,~~tr>>>0|0,(+f0(tr)>=1?tr>0?~~+i0(+bn(tr/4294967296),4294967295)>>>0:~~+yr((tr-+(~~tr>>>0))/4294967296)>>>0:0)|0)|0,Hn=sn):Hn=tn,tn=e[S>>2]|0,(Hn|0)>=(tn|0)&&!((Hn|0)<=(tn|0)&&(Yr|0)<(e[We>>2]|0))||(tn=S,e[tn>>2]=Hn,e[tn+4>>2]=Yr,Z[at>>0]=Mr,e[Ke>>2]=zr,e[D>>2]=e[m>>2],e[L>>2]=e[J>>2],e[c>>2]=e[D>>2],e[a>>2]=e[L>>2],Aa(st,c,a),e[N>>2]=di,e[X>>2]=Pi,e[c>>2]=e[N>>2],e[a>>2]=e[X>>2],Aa(Qe,c,a)),ki)break;for(c0=Z[Ni>>0]|0,tn=-1,sn=c0;Br=tn+-1|0,B0=gi+Br|0,Ur=sn,sn=Z[B0>>0]|0,!((sn&255)<(Ur&255));)if((B0|0)==(b|0)){n0=86;break i}else tn=Br;if(Br=gi+tn|0,(sn&255)<(c0&255))Ts=Ni,Q0=c0;else for(Ur=gi,Ir=Ni;;)if(Qr=Ir+-1|0,(sn&255)<(yi[Ur+-2>>0]|0)){Ts=Qr,Q0=1;break}else as=Ir,Ir=Qr,Ur=as;if(Z[B0>>0]=Q0,Z[Ts>>0]=sn,(tn|0)<-1)_0=Br,In=Ni;else continue;for(;;)if(Ur=Z[_0>>0]|0,Z[_0>>0]=Z[In>>0]|0,Z[In>>0]=Ur,Ur=_0+1|0,Ir=In+-1|0,Ur>>>0<Ir>>>0)_0=Ur,In=Ir;else continue i}if((n0|0)==86&&(n0=0,xn)&&(Br=Z[b>>0]|0,Z[b>>0]=c0,Z[Ni>>0]=Br,Wi)){Br=ti,tn=Nt;do sn=Z[tn>>0]|0,Z[tn>>0]=Z[Br>>0]|0,Z[Br>>0]=sn,tn=tn+1|0,Br=Br+-1|0;while(tn>>>0<Br>>>0)}if((zr|0)>=(oi|0)){nn=Ji,mn=wi,R0=Pi,gn=di,Wn=wi;break}else zr=zr+1|0}if(Pt&&(zr=e[Ke>>2]|0,wi=v+(oi+-1<<3)|0,di=wi,Pi=Wt(e[di>>2]|0,e[di+4>>2]|0,zr|0,((zr|0)<0)<<31>>31|0)|0,zr=wi,e[zr>>2]=Pi,e[zr+4>>2]=Xe),Ce){zr=e[Qe>>2]|0,Pi=e[j>>2]|0,wi=0;do di=e[zr+(wi<<2)>>2]|0,e[Pi+(wi<<2)>>2]=di<<1^di>>31,wi=wi+1|0;while((wi|0)!=(f|0));O0=Pi}else O0=e[j>>2]|0;if(Yy(a,Ue,O0,f),Pt){Pi=oi+-1|0,Dn=r+40+(Pi*12|0)|0,wi=r+40+(Pi*12|0)+4|0,zr=r+40+(Pi*12|0)+8|0,Pi=0;do{if(di=e[wi>>2]|0,Ji=e[zr>>2]|0,ti=(di|0)==(Ji<<5|0),1<<Pi&yi[at>>0]){if(ti){if((di+1|0)<0){n0=106;break t}ti=Ji<<6,Ji=di+32&-32,la(Dn,di>>>0<1073741823?ti>>>0<Ji>>>0?Ji:ti:2147483647),J0=e[wi>>2]|0}else J0=di;e[wi>>2]=J0+1,di=(e[Dn>>2]|0)+(J0>>>5<<2)|0,e[di>>2]=e[di>>2]&~(1<<(J0&31))}else{if(ti){if((di+1|0)<0){n0=101;break t}Wi=Ji<<6,Ni=di+32&-32,la(Dn,di>>>0<1073741823?Wi>>>0<Ni>>>0?Ni:Wi:2147483647),An=e[wi>>2]|0}else An=di;e[wi>>2]=An+1,Wi=(e[Dn>>2]|0)+(An>>>5<<2)|0,e[Wi>>2]=e[Wi>>2]|1<<(An&31)}Pi=Pi+1|0}while((Pi|0)<(oi|0))}if(Pi=e[st>>2]|0,wi=o+(Ri<<2)|0,zr=e[Ei+4>>2]|0,Pt=e[Pi>>2]|0,di=e[Pi+4>>2]|0,e[c>>2]=e[Ei>>2],e[ze>>2]=zr,e[g>>2]=Pt,e[Ge>>2]=di,Ds(a,it,c,g),e[wi>>2]=e[a>>2],e[wi+4>>2]=e[ke>>2],wi=e[ut>>2]|0,wi|0&&(di=e[Rt>>2]|0,(di|0)!=(wi|0)&&(e[Rt>>2]=di+(~((di+-4-wi|0)>>>2)<<2)),ve(wi)),wi=e[et>>2]|0,wi|0&&(di=e[ot>>2]|0,(di|0)!=(wi|0)&&(e[ot>>2]=di+(~((di+-4-wi|0)>>>2)<<2)),ve(wi)),(xt|0)<=2){Pn=mn,Ro=nn;break e}if(wi=e[U>>2]|0,ji=e[wi>>2]|0,di=_t+-1|0,(e[wi+4>>2]|0)-ji>>2>>>0<=di>>>0){n0=18;break}else wi=_t,_t=di,St=Wn,fi=gn,Gt=R0,ci=mn,mi=nn,xt=wi}((n0|0)==18||(n0|0)==101||(n0|0)==106)&&Je()}else Pn=fe,Ro=Ee;while(0);return(f|0)>0&&Mi(e[d>>2]|0,0,f<<2|0)|0,f=e[d>>2]|0,Ee=e[n+4>>2]|0,fe=e[f>>2]|0,Dn=e[f+4>>2]|0,e[c>>2]=e[n>>2],e[c+4>>2]=Ee,e[g>>2]=fe,e[g+4>>2]=Dn,Ds(a,r+8|0,c,g),e[o>>2]=e[a>>2],e[o+4>>2]=e[a+4>>2],Pn|0&&((Ro|0)!=(Pn|0)&&(e[re>>2]=Ro+(~((Ro+-4-Pn|0)>>>2)<<2)),ve(Pn)),Pn=e[m>>2]|0,Pn|0&&(m=e[J>>2]|0,(m|0)!=(Pn|0)&&(e[J>>2]=m+(~((m+-4-Pn|0)>>>2)<<2)),ve(Pn)),Pn=e[d+36>>2]|0,Pn|0&&(m=d+40|0,J=e[m>>2]|0,(J|0)!=(Pn|0)&&(e[m>>2]=J+(~((J+-4-Pn|0)>>>2)<<2)),ve(Pn)),Pn=e[d+24>>2]|0,Pn|0&&(J=d+28|0,m=e[J>>2]|0,(m|0)!=(Pn|0)&&(e[J>>2]=m+(~((m+-4-Pn|0)>>>2)<<2)),ve(Pn)),Pn=e[d+12>>2]|0,Pn|0&&(m=d+16|0,J=e[m>>2]|0,(J|0)!=(Pn|0)&&(e[m>>2]=J+(~((J+-4-Pn|0)>>>2)<<2)),ve(Pn)),Pn=e[d>>2]|0,Pn?(J=d+4|0,d=e[J>>2]|0,(d|0)!=(Pn|0)&&(e[J>>2]=d+(~((d+-4-Pn|0)>>>2)<<2)),ve(Pn),q=h,1):(q=h,1)}function ZP(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0,Gt=0,ci=0,mi=0,ji=0,di=0,Ei=0,ni=0,Ri=0,Ni=0,ai=0,gi=0,oi=0,ti=0,Vi=0,Ji=0,Wi=0,Hi=0,Pi=0,wi=0,ki=0,Bi=0,er=0,lr=0,Ii=0,hr=0,tr=0,Xr=0,nn=0,mn=0,R0=0,gn=0,Wn=0,On=0,xn=0,Dr=0,zr=0,Br=0,Qr=0,Ir=0,tn=0,Ur=0,sn=0,Wr=0,Mr=0,Vr=0,Sr=0,Yr=0,cn=0,Hn=0,c0=0,B0=0,n0=0,Ts=0,Q0=0,as=0,_0=0,In=0,O0=0,Dn=0,An=0,J0=0,Pn=0,Ro=0,yo=0,cl=0,Ao=0,hl=0,Ea=0,df=0,Xn=0,dl=0,Zn=0,Ha=0,Ol=0,Qc=0,Jc=0,Hx=0,oA=0,Ux=0,aA=0,Vx=0,lA=0,jx=0,fA=0,Gx=0,uA=0,zx=0,cA=0,Wx=0,hA=0,Qx=0,dA=0,Jx=0,Xx=0,pA=0,qx=0,Zx=0,Gu=0;o=q,q=q+32|0,a=o+16|0,f=o+4|0,h=o,e[r+36>>2]=n,c=r+24|0,g=r+28|0,d=e[g>>2]|0,m=e[c>>2]|0,b=d-m>>2,v=m,m=d,b>>>0>=n>>>0?b>>>0>n>>>0&&(d=v+(n<<2)|0,(d|0)!=(m|0))&&(e[g>>2]=m+(~((m+-4-d|0)>>>2)<<2)):z0(c,n-b|0,5828),e[a>>2]=0,b=a+4|0,e[b>>2]=0,d=a+8|0,e[d>>2]=0,n?((n|0)<0&&Je(),m=((n+-1|0)>>>5)+1|0,v=Dt(m<<2)|0,e[a>>2]=v,e[d>>2]=m,e[b>>2]=n,m=n>>>5,Mi(v|0,0,m<<2|0)|0,x=n&31,C=v+(m<<2)|0,m=v,x?(e[C>>2]=e[C>>2]&~(-1>>>(32-x|0)),S=n,M=m,I=v):(S=n,M=m,I=v)):(S=0,M=0,I=0),v=r+4|0,m=e[r>>2]|0,x=(e[v>>2]|0)-m|0,C=x>>2,e[f>>2]=0,D=f+4|0,e[D>>2]=0,L=f+8|0,e[L>>2]=0;do if(C)if((x|0)<0&&Je(),N=((C+-1|0)>>>5)+1|0,X=Dt(N<<2)|0,e[f>>2]=X,e[L>>2]=N,e[D>>2]=C,N=C>>>5,Mi(X|0,0,N<<2|0)|0,V=C&31,Q=X+(N<<2)|0,V|0&&(e[Q>>2]=e[Q>>2]&~(-1>>>(32-V|0))),C>>>0>2){V=r+12|0,Q=r+32|0,N=r+52|0,X=r+56|0,U=r+48|0,j=n,$=m,J=0,F=M,K=I;e:for(;;){if(re=$,se=J*3|0,(se|0)!=-1)if(fe=e[re+(se<<2)>>2]|0,Ee=se+1|0,Ne=((Ee>>>0)%3|0|0)==0?se+-2|0:Ee,(Ne|0)==-1?me=-1:me=e[re+(Ne<<2)>>2]|0,Ne=(((se>>>0)%3|0|0)==0?2:-1)+se|0,(Ne|0)==-1?Ie=-1:Ie=e[re+(Ne<<2)>>2]|0,(fe|0)!=(me|0)&&!((fe|0)==(Ie|0)|(me|0)==(Ie|0)))for(fe=0,Ne=j,re=K,Ee=F;;){if(_e=fe+se|0,e[(e[f>>2]|0)+(_e>>>5<<2)>>2]&1<<(_e&31))ot=Ne,Rt=Ee,Nt=re;else{if(Ce=e[(e[r>>2]|0)+(_e<<2)>>2]|0,e[h>>2]=Ce,!(e[re+(Ce>>>5<<2)>>2]&1<<(Ce&31)))We=0,at=Ne,Ke=Ce;else{if(Ce=e[g>>2]|0,(Ce|0)==(e[Q>>2]|0)?pr(c,5828):(e[Ce>>2]=-1,e[g>>2]=Ce+4),Ce=e[N>>2]|0,(Ce|0)==(e[X>>2]|0)?pr(U,h):(e[Ce>>2]=e[h>>2],e[N>>2]=Ce+4),Ce=e[b>>2]|0,Ve=e[d>>2]|0,(Ce|0)==(Ve<<5|0)){if((Ce+1|0)<0){Ue=50;break e}st=Ve<<6,Ve=Ce+32&-32,la(a,Ce>>>0<1073741823?st>>>0<Ve>>>0?Ve:st:2147483647),Qe=e[b>>2]|0}else Qe=Ce;e[b>>2]=Qe+1,Ce=(e[a>>2]|0)+(Qe>>>5<<2)|0,e[Ce>>2]=e[Ce>>2]&~(1<<(Qe&31)),e[h>>2]=Ne,We=1,at=Ne+1|0,Ke=Ne}Ce=e[a>>2]|0,st=Ce+(Ke>>>5<<2)|0,e[st>>2]=e[st>>2]|1<<(Ke&31),st=Ce;t:do if(We)for(Ve=_e;;){if((Ve|0)==-1){Ue=64;break t}it=(e[f>>2]|0)+(Ve>>>5<<2)|0,e[it>>2]=e[it>>2]|1<<(Ve&31),it=e[h>>2]|0,e[(e[c>>2]|0)+(it<<2)>>2]=Ve,e[(e[r>>2]|0)+(Ve<<2)>>2]=it,it=Ve+1|0,ze=((it>>>0)%3|0|0)==0?Ve+-2|0:it;do if((ze|0)==-1)Ge=-1;else{if(it=e[(e[V>>2]|0)+(ze<<2)>>2]|0,ke=it+1|0,(it|0)==-1){Ge=-1;break}Ge=((ke>>>0)%3|0|0)==0?it+-2|0:ke}while(0);if((Ge|0)==(_e|0))break;Ve=Ge}else for(Ve=_e;;){if((Ve|0)==-1){Ue=64;break t}ze=(e[f>>2]|0)+(Ve>>>5<<2)|0,e[ze>>2]=e[ze>>2]|1<<(Ve&31),e[(e[c>>2]|0)+(e[h>>2]<<2)>>2]=Ve,ze=Ve+1|0,ke=((ze>>>0)%3|0|0)==0?Ve+-2|0:ze;do if((ke|0)==-1)ut=-1;else{if(ze=e[(e[V>>2]|0)+(ke<<2)>>2]|0,it=ze+1|0,(ze|0)==-1){ut=-1;break}ut=((it>>>0)%3|0|0)==0?ze+-2|0:it}while(0);if((ut|0)==(_e|0))break;Ve=ut}while(0);t:do if((Ue|0)==64){if(Ue=0,(_e|0)==-1||(Ve=(((_e>>>0)%3|0|0)==0?2:-1)+_e|0,(Ve|0)==-1)||(ke=e[(e[V>>2]|0)+(Ve<<2)>>2]|0,(ke|0)==-1)||(Ve=ke+(((ke>>>0)%3|0|0)==0?2:-1)|0,(Ve|0)==-1))break;if(!We){for(ke=Ve;;)if(it=(e[f>>2]|0)+(ke>>>5<<2)|0,e[it>>2]=e[it>>2]|1<<(ke&31),it=(((ke>>>0)%3|0|0)==0?2:-1)+ke|0,(it|0)==-1||(ze=e[(e[V>>2]|0)+(it<<2)>>2]|0,(ze|0)==-1)||(ke=ze+(((ze>>>0)%3|0|0)==0?2:-1)|0,(ke|0)==-1))break t}ke=e[r>>2]|0,ze=Ve;do{if(it=(e[f>>2]|0)+(ze>>>5<<2)|0,e[it>>2]=e[it>>2]|1<<(ze&31),e[ke+(ze<<2)>>2]=e[h>>2],it=(((ze>>>0)%3|0|0)==0?2:-1)+ze|0,(it|0)==-1||(et=e[(e[V>>2]|0)+(it<<2)>>2]|0,(et|0)==-1))break t;ze=et+(((et>>>0)%3|0|0)==0?2:-1)|0}while((ze|0)!=-1)}while(0);ot=at,Rt=st,Nt=Ce}if((fe|0)<2)fe=fe+1|0,Ne=ot,re=Nt,Ee=Rt;else{At=ot,Vt=Rt,Pt=Nt;break}}else At=j,Vt=F,Pt=K;else At=j,Vt=F,Pt=K;if(J=J+1|0,$=e[r>>2]|0,J>>>0>=(((e[v>>2]|0)-$>>2>>>0)/3|0)>>>0){Ue=18;break}else j=At,F=Vt,K=Pt}if((Ue|0)==18){xt=Vt,_t=e[b>>2]|0;break}else(Ue|0)==50&&Je()}else xt=M,_t=S;else xt=M,_t=S;while(0);S=r+44|0,e[S>>2]=0,r=xt,xt=_t>>>5,M=r+(xt<<2)|0,Ue=_t&31,_t=(xt|0)!=0;e:do if(xt|Ue|0)if(Ue){if(_t)for(Pt=0,Vt=r,b=0;;)if(e[Vt>>2]&1?(Wn=b,On=Pt):(v=b+1|0,e[S>>2]=v,Wn=v,On=v),e[Vt>>2]&2?(xn=Wn,Dr=On):(v=Wn+1|0,e[S>>2]=v,xn=v,Dr=v),e[Vt>>2]&4?(zr=xn,Br=Dr):(v=xn+1|0,e[S>>2]=v,zr=v,Br=v),e[Vt>>2]&8?(Qr=zr,Ir=Br):(v=zr+1|0,e[S>>2]=v,Qr=v,Ir=v),e[Vt>>2]&16?(tn=Qr,Ur=Ir):(v=Qr+1|0,e[S>>2]=v,tn=v,Ur=v),e[Vt>>2]&32?(sn=tn,Wr=Ur):(v=tn+1|0,e[S>>2]=v,sn=v,Wr=v),e[Vt>>2]&64?(Mr=sn,Vr=Wr):(v=sn+1|0,e[S>>2]=v,Mr=v,Vr=v),e[Vt>>2]&128?(Sr=Mr,Yr=Vr):(v=Mr+1|0,e[S>>2]=v,Sr=v,Yr=v),e[Vt>>2]&256?(cn=Sr,Hn=Yr):(v=Sr+1|0,e[S>>2]=v,cn=v,Hn=v),e[Vt>>2]&512?(c0=cn,B0=Hn):(v=cn+1|0,e[S>>2]=v,c0=v,B0=v),e[Vt>>2]&1024?(n0=c0,Ts=B0):(v=c0+1|0,e[S>>2]=v,n0=v,Ts=v),e[Vt>>2]&2048?(Q0=n0,as=Ts):(v=n0+1|0,e[S>>2]=v,Q0=v,as=v),e[Vt>>2]&4096?(_0=Q0,In=as):(v=Q0+1|0,e[S>>2]=v,_0=v,In=v),e[Vt>>2]&8192?(O0=_0,Dn=In):(v=_0+1|0,e[S>>2]=v,O0=v,Dn=v),e[Vt>>2]&16384?(An=O0,J0=Dn):(v=O0+1|0,e[S>>2]=v,An=v,J0=v),e[Vt>>2]&32768?(Pn=An,Ro=J0):(v=An+1|0,e[S>>2]=v,Pn=v,Ro=v),e[Vt>>2]&65536?(yo=Pn,cl=Ro):(v=Pn+1|0,e[S>>2]=v,yo=v,cl=v),e[Vt>>2]&131072?(Ao=yo,hl=cl):(v=yo+1|0,e[S>>2]=v,Ao=v,hl=v),e[Vt>>2]&262144?(Ea=Ao,df=hl):(v=Ao+1|0,e[S>>2]=v,Ea=v,df=v),e[Vt>>2]&524288?(Xn=Ea,dl=df):(v=Ea+1|0,e[S>>2]=v,Xn=v,dl=v),e[Vt>>2]&1048576?(Zn=Xn,Ha=dl):(v=Xn+1|0,e[S>>2]=v,Zn=v,Ha=v),e[Vt>>2]&2097152?(Ol=Zn,Qc=Ha):(v=Zn+1|0,e[S>>2]=v,Ol=v,Qc=v),e[Vt>>2]&4194304?(Jc=Ol,Hx=Qc):(v=Ol+1|0,e[S>>2]=v,Jc=v,Hx=v),e[Vt>>2]&8388608?(oA=Jc,Ux=Hx):(v=Jc+1|0,e[S>>2]=v,oA=v,Ux=v),e[Vt>>2]&16777216?(aA=oA,Vx=Ux):(v=oA+1|0,e[S>>2]=v,aA=v,Vx=v),e[Vt>>2]&33554432?(lA=aA,jx=Vx):(v=aA+1|0,e[S>>2]=v,lA=v,jx=v),e[Vt>>2]&67108864?(fA=lA,Gx=jx):(v=lA+1|0,e[S>>2]=v,fA=v,Gx=v),e[Vt>>2]&134217728?(uA=fA,zx=Gx):(v=fA+1|0,e[S>>2]=v,uA=v,zx=v),e[Vt>>2]&268435456?(cA=uA,Wx=zx):(v=uA+1|0,e[S>>2]=v,cA=v,Wx=v),e[Vt>>2]&536870912?(hA=cA,Qx=Wx):(v=cA+1|0,e[S>>2]=v,hA=v,Qx=v),e[Vt>>2]&1073741824?(dA=hA,Jx=Qx):(v=hA+1|0,e[S>>2]=v,dA=v,Jx=v),(e[Vt>>2]|0)>-1?(v=dA+1|0,e[S>>2]=v,Xx=v,pA=v):(Xx=dA,pA=Jx),v=Vt+4|0,(M|0)==(v|0)){qx=v,Zx=pA;break}else Pt=pA,Vt=v,b=Xx;else qx=r,Zx=0;for(b=0,Vt=Zx;e[qx>>2]&1<<b?Gu=Vt:(Pt=Vt+1|0,e[S>>2]=Pt,Gu=Pt),b=b+1|0,(b|0)!=(Ue|0);)Vt=Gu}else for(b=r,Vt=0,Pt=_t;;){t:do if(Pt){if(e[b>>2]&1?St=Vt:(At=Vt+1|0,e[S>>2]=At,St=At),e[b>>2]&2?fi=St:(At=St+1|0,e[S>>2]=At,fi=At),e[b>>2]&4?Gt=fi:(At=fi+1|0,e[S>>2]=At,Gt=At),e[b>>2]&8?ci=Gt:(At=Gt+1|0,e[S>>2]=At,ci=At),e[b>>2]&16?mi=ci:(At=ci+1|0,e[S>>2]=At,mi=At),e[b>>2]&32?ji=mi:(At=mi+1|0,e[S>>2]=At,ji=At),e[b>>2]&64?di=ji:(At=ji+1|0,e[S>>2]=At,di=At),e[b>>2]&128?Ei=di:(At=di+1|0,e[S>>2]=At,Ei=At),e[b>>2]&256?ni=Ei:(At=Ei+1|0,e[S>>2]=At,ni=At),e[b>>2]&512?Ri=ni:(At=ni+1|0,e[S>>2]=At,Ri=At),e[b>>2]&1024?Ni=Ri:(At=Ri+1|0,e[S>>2]=At,Ni=At),e[b>>2]&2048?ai=Ni:(At=Ni+1|0,e[S>>2]=At,ai=At),e[b>>2]&4096?gi=ai:(At=ai+1|0,e[S>>2]=At,gi=At),e[b>>2]&8192?oi=gi:(At=gi+1|0,e[S>>2]=At,oi=At),e[b>>2]&16384?ti=oi:(At=oi+1|0,e[S>>2]=At,ti=At),e[b>>2]&32768?Vi=ti:(At=ti+1|0,e[S>>2]=At,Vi=At),e[b>>2]&65536?Ji=Vi:(At=Vi+1|0,e[S>>2]=At,Ji=At),e[b>>2]&131072?Wi=Ji:(At=Ji+1|0,e[S>>2]=At,Wi=At),e[b>>2]&262144?Hi=Wi:(At=Wi+1|0,e[S>>2]=At,Hi=At),e[b>>2]&524288?Pi=Hi:(At=Hi+1|0,e[S>>2]=At,Pi=At),e[b>>2]&1048576?wi=Pi:(At=Pi+1|0,e[S>>2]=At,wi=At),e[b>>2]&2097152?ki=wi:(At=wi+1|0,e[S>>2]=At,ki=At),e[b>>2]&4194304?Bi=ki:(At=ki+1|0,e[S>>2]=At,Bi=At),e[b>>2]&8388608?er=Bi:(At=Bi+1|0,e[S>>2]=At,er=At),e[b>>2]&16777216?lr=er:(At=er+1|0,e[S>>2]=At,lr=At),e[b>>2]&33554432?Ii=lr:(At=lr+1|0,e[S>>2]=At,Ii=At),e[b>>2]&67108864?hr=Ii:(At=Ii+1|0,e[S>>2]=At,hr=At),e[b>>2]&134217728?tr=hr:(At=hr+1|0,e[S>>2]=At,tr=At),e[b>>2]&268435456?Xr=tr:(At=tr+1|0,e[S>>2]=At,Xr=At),e[b>>2]&536870912?nn=Xr:(At=Xr+1|0,e[S>>2]=At,nn=At),e[b>>2]&1073741824?mn=nn:(At=nn+1|0,e[S>>2]=At,mn=At),(e[b>>2]|0)<=-1){R0=mn;break}At=mn+1|0,e[S>>2]=At,R0=At}else for(At=0,v=Vt;;){if(e[b>>2]&1<<At?gn=v:(Nt=v+1|0,e[S>>2]=Nt,gn=Nt),(At|0)==31){R0=gn;break t}if(At=At+1|0,At)v=gn;else break e}while(0);if(b=b+4|0,(M|0)==(b|0))break;Vt=R0,Pt=1}while(0);return Gu=e[f>>2]|0,Gu|0&&ve(Gu),Gu=e[a>>2]|0,Gu?(ve(Gu),q=o,1):(q=o,1)}function YP(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0,Gt=0,ci=0,mi=0,ji=0,di=0,Ei=0,ni=0,Ri=0,Ni=0,ai=0,gi=0,oi=0,ti=0,Vi=0,Ji=0,Wi=0,Hi=0,Pi=0,wi=0,ki=0,Bi=0,er=0,lr=0,Ii=0,hr=Ar,tr=0,Xr=0,nn=0,mn=0,R0=Ar,gn=0,Wn=0,On=0,xn=0,Dr=0;if(n=q,q=q+80|0,o=n+60|0,a=n+48|0,f=n+24|0,h=n+12|0,c=n,g=r+28|0,d=e[g>>2]|0,m=e[d+4>>2]|0,b=e[m+80>>2]|0,v=r+4|0,x=r+8|0,C=e[x>>2]|0,S=e[v>>2]|0,M=(C|0)==(S|0),I=S,M)return e[r+72>>2]=0,D=1,q=n,D|0;L=e[m+8>>2]|0,N=C-S>>2,S=0,C=0;do S=S+(Z[(e[L+(e[I+(C<<2)>>2]<<2)>>2]|0)+24>>0]|0)|0,C=C+1|0;while(C>>>0<N>>>0);if(e[r+72>>2]=S,M)return D=1,q=n,D|0;M=f+4|0,S=f+8|0,N=o+8|0,C=o+4|0,L=o+11|0,X=f+12|0,V=o+8|0,Q=o+4|0,U=o+11|0,j=h+4|0,$=h+8|0,J=c+8|0,F=c+4|0,K=o+11|0,re=o+4|0,se=c+11|0,fe=o+8|0,Ee=o+4|0,Ne=o+11|0,me=o+11|0,Ie=o+4|0,_e=h+8|0,Ce=r+40|0,We=r+44|0,at=r+36|0,Ke=r+64|0,Ve=r+68|0,Ue=r+60|0,st=f+8|0,Qe=f+20|0,it=a+8|0,ze=a+4|0,Ge=a+11|0,ke=f+4|0,ut=f+8|0,et=h+4|0,ot=h+8|0,Rt=h+8|0,Nt=r+52|0,At=r+56|0,Vt=r+48|0,r=f+8|0,Pt=0,xt=I,I=m,m=d;e:for(;;){switch(d=e[xt+(Pt<<2)>>2]|0,_t=e[(e[I+8>>2]|0)+(d<<2)>>2]|0,e[_t+28>>2]|0){case 9:{e[f>>2]=1180,e[M>>2]=-1,e[S>>2]=0,e[S+4>>2]=0,e[S+8>>2]=0,e[S+12>>2]=0,St=e[m+48>>2]|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,fi=Dt(32)|0,e[o>>2]=fi,e[N>>2]=-2147483616,e[C>>2]=17,Gt=fi,ci=12932,mi=Gt+17|0;do Z[Gt>>0]=Z[ci>>0]|0,Gt=Gt+1|0,ci=ci+1|0;while((Gt|0)<(mi|0));if(Z[fi+17>>0]=0,ji=St+16|0,di=e[ji>>2]|0,di){Ei=ji,ni=di;t:for(;;){for(di=ni;!((e[di+16>>2]|0)>=(d|0));)if(Ri=e[di+4>>2]|0,Ri)di=Ri;else{Ni=Ei;break t}if(ni=e[di>>2]|0,ni)Ei=di;else{Ni=di;break}}(Ni|0)!=(ji|0)&&(d|0)>=(e[Ni+16>>2]|0)&&(Ei=Ni+20|0,(mo(Ei,o)|0)!=0)?ai=go(Ei,o,-1)|0:gi=17}else gi=17;if((gi|0)==17&&(gi=0,ai=go(St,o,-1)|0),(Z[L>>0]|0)<0&&ve(e[o>>2]|0),(ai|0)<1)oi=1;else{Ei=e[(e[g>>2]|0)+48>>2]|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,ni=Dt(32)|0,e[o>>2]=ni,e[V>>2]=-2147483616,e[Q>>2]=19,Gt=ni,ci=13005,mi=Gt+19|0;do Z[Gt>>0]=Z[ci>>0]|0,Gt=Gt+1|0,ci=ci+1|0;while((Gt|0)<(mi|0));if(Z[ni+19>>0]=0,St=Ei+16|0,ji=e[St>>2]|0,ji){fi=St,Ri=ji;t:for(;;){for(ji=Ri;!((e[ji+16>>2]|0)>=(d|0));)if(ti=e[ji+4>>2]|0,ti)ji=ti;else{Vi=fi;break t}if(Ri=e[ji>>2]|0,Ri)fi=ji;else{Vi=ji;break}}(Vi|0)!=(St|0)&&(d|0)>=(e[Vi+16>>2]|0)?Ji=Vi+20|0:gi=29}else gi=29;if((gi|0)==29&&(gi=0,Ji=Ei),!(mo(Ji,o)|0))Wi=0;else{fi=e[(e[g>>2]|0)+48>>2]|0,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,Ri=Dt(32)|0,e[a>>2]=Ri,e[it>>2]=-2147483616,e[ze>>2]=18,Gt=Ri,ci=13025,mi=Gt+18|0;do Z[Gt>>0]=Z[ci>>0]|0,Gt=Gt+1|0,ci=ci+1|0;while((Gt|0)<(mi|0));if(Z[Ri+18>>0]=0,Ei=fi+16|0,St=e[Ei>>2]|0,St){ni=Ei,di=St;t:for(;;){for(St=di;!((e[St+16>>2]|0)>=(d|0));)if(ti=e[St+4>>2]|0,ti)St=ti;else{Hi=ni;break t}if(di=e[St>>2]|0,di)ni=St;else{Hi=St;break}}(Hi|0)!=(Ei|0)&&(d|0)>=(e[Hi+16>>2]|0)?Pi=Hi+20|0:gi=39}else gi=39;(gi|0)==39&&(gi=0,Pi=fi),ni=(mo(Pi,a)|0)!=0,(Z[Ge>>0]|0)<0&&ve(e[a>>2]|0),Wi=ni}if((Z[U>>0]|0)<0&&ve(e[o>>2]|0),Wi){if(ni=_t+24|0,di=Z[ni>>0]|0,Ri=di<<24>>24,e[h>>2]=0,e[j>>2]=0,e[$>>2]=0,!(di<<24>>24))wi=0;else{if(di<<24>>24<0){gi=48;break e}di=Ri<<2,ji=Dt(di)|0,e[h>>2]=ji,ti=ji+(Ri<<2)|0,e[_e>>2]=ti,Mi(ji|0,0,di|0)|0,e[j>>2]=ti,wi=ji}ji=e[(e[g>>2]|0)+48>>2]|0,e[c>>2]=0,e[c+4>>2]=0,e[c+8>>2]=0,ti=Dt(32)|0,e[c>>2]=ti,e[J>>2]=-2147483616,e[F>>2]=19,Gt=ti,ci=13005,mi=Gt+19|0;do Z[Gt>>0]=Z[ci>>0]|0,Gt=Gt+1|0,ci=ci+1|0;while((Gt|0)<(mi|0));if(Z[ti+19>>0]=0,fi=Z[ni>>0]|0,Ei=fi<<24>>24,di=ji+16|0,Ri=e[di>>2]|0,Ri){ki=di,Bi=Ri;t:for(;;){for(Ri=Bi;!((e[Ri+16>>2]|0)>=(d|0));)if(er=e[Ri+4>>2]|0,er)Ri=er;else{lr=ki;break t}if(Bi=e[Ri>>2]|0,Bi)ki=Ri;else{lr=Ri;break}}if((lr|0)!=(di|0)&&(d|0)>=(e[lr+16>>2]|0)&&(ki=lr+20|0,(mo(ki,c)|0)!=0)){if(Bi=X0(ki,c)|0,(Bi|0)!=(lr+24|0)){if(T0(o,Bi+28|0),Bi=Z[me>>0]|0,ki=Bi<<24>>24<0,!((ki?e[Ie>>2]|0:Bi&255)|0))Ii=Bi;else{if(fi<<24>>24>0){ti=ki?e[o>>2]|0:o,ki=0;do{if(hr=qt(tA(ti,a)),St=ti,ti=e[a>>2]|0,(St|0)==(ti|0))break;br[wi+(ki<<2)>>2]=hr,ki=ki+1|0}while((ki|0)<(Ei|0));tr=Z[me>>0]|0}else tr=Bi;Ii=tr}Ii<<24>>24<0&&ve(e[o>>2]|0)}}else gi=69}else gi=69;if((gi|0)==69&&(gi=0,ki=X0(ji,c)|0,(ki|0)!=(ji+4|0))){if(T0(o,ki+28|0),ki=Z[K>>0]|0,ti=ki<<24>>24<0,!((ti?e[re>>2]|0:ki&255)|0))Xr=ki;else{if(fi<<24>>24>0){di=ti?e[o>>2]|0:o,ti=0;do{if(hr=qt(tA(di,a)),St=di,di=e[a>>2]|0,(St|0)==(di|0))break;br[wi+(ti<<2)>>2]=hr,ti=ti+1|0}while((ti|0)<(Ei|0));nn=Z[K>>0]|0}else nn=ki;Xr=nn}Xr<<24>>24<0&&ve(e[o>>2]|0)}(Z[se>>0]|0)<0&&ve(e[c>>2]|0),Ei=e[(e[g>>2]|0)+48>>2]|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,ti=Dt(32)|0,e[o>>2]=ti,e[fe>>2]=-2147483616,e[Ee>>2]=18,Gt=ti,ci=13025,mi=Gt+18|0;do Z[Gt>>0]=Z[ci>>0]|0,Gt=Gt+1|0,ci=ci+1|0;while((Gt|0)<(mi|0));Z[ti+18>>0]=0,ci=Ei+16|0,Gt=e[ci>>2]|0;do if(Gt){mi=ci,ki=Gt;t:for(;;){for(di=ki;!((e[di+16>>2]|0)>=(d|0));)if(fi=e[di+4>>2]|0,fi)di=fi;else{mn=mi;break t}if(ki=e[di>>2]|0,ki)mi=di;else{mn=di;break}}if((mn|0)!=(ci|0)&&(d|0)>=(e[mn+16>>2]|0)){if(mi=mn+20|0,!(mo(mi,o)|0)){gi=91;break}R0=qt(Fy(mi,o,qt(1)))}else gi=91}else gi=91;while(0);(gi|0)==91&&(gi=0,R0=qt(Fy(Ei,o,qt(1)))),(Z[Ne>>0]|0)<0&&ve(e[o>>2]|0),Rk(f,ai,e[h>>2]|0,Z[ni>>0]|0,R0),d=e[h>>2]|0,d|0&&(ci=e[j>>2]|0,(ci|0)!=(d|0)&&(e[j>>2]=ci+(~((ci+-4-d|0)>>>2)<<2)),ve(d))}else Mc(f,_t,ai)|0;if(d=e[Ce>>2]|0,(d|0)==(e[We>>2]|0))bm(at,f);else{if(e[d>>2]=1180,e[d+4>>2]=e[M>>2],gn=d+8|0,e[gn>>2]=0,ci=d+12|0,e[ci>>2]=0,e[d+16>>2]=0,Gt=(e[X>>2]|0)-(e[st>>2]|0)|0,ti=Gt>>2,ti|0){if(ti>>>0>1073741823){gi=103;break e}mi=Dt(Gt)|0,e[ci>>2]=mi,e[gn>>2]=mi,e[d+16>>2]=mi+(ti<<2),ti=e[st>>2]|0,Gt=(e[X>>2]|0)-ti|0,(Gt|0)>0&&(Fr(mi|0,ti|0,Gt|0)|0,e[ci>>2]=mi+(Gt>>>2<<2))}e[d+20>>2]=e[Qe>>2],e[Ce>>2]=(e[Ce>>2]|0)+24}ad(o,f,_t,b),d=e[Ke>>2]|0,d>>>0<(e[Ve>>2]|0)>>>0?(Gt=e[o>>2]|0,e[o>>2]=0,e[d>>2]=Gt,e[Ke>>2]=d+4):k6(Ue,o),d=e[o>>2]|0,e[o>>2]=0,d|0&&(Gt=d+88|0,mi=e[Gt>>2]|0,e[Gt>>2]=0,mi|0&&(Gt=e[mi+8>>2]|0,Gt|0&&(ci=mi+12|0,(e[ci>>2]|0)!=(Gt|0)&&(e[ci>>2]=Gt),ve(Gt)),ve(mi)),mi=e[d+68>>2]|0,mi|0&&(Gt=d+72|0,ci=e[Gt>>2]|0,(ci|0)!=(mi|0)&&(e[Gt>>2]=ci+(~((ci+-4-mi|0)>>>2)<<2)),ve(mi)),mi=d+64|0,ci=e[mi>>2]|0,e[mi>>2]=0,ci|0&&(mi=e[ci>>2]|0,mi|0&&(Gt=ci+4|0,(e[Gt>>2]|0)!=(mi|0)&&(e[Gt>>2]=mi),ve(mi)),ve(ci)),ve(d)),oi=0}if(e[f>>2]=1180,d=e[S>>2]|0,d|0&&(ci=e[X>>2]|0,(ci|0)!=(d|0)&&(e[X>>2]=ci+(~((ci+-4-d|0)>>>2)<<2)),ve(d)),oi|0){D=0,gi=169;break e}break}case 1:case 3:case 5:{if(d=_t+24|0,ci=Z[d>>0]|0,mi=ci<<24>>24,e[f>>2]=0,e[ke>>2]=0,e[ut>>2]=0,!(ci<<24>>24))Wn=0;else{if(ci<<24>>24<0){gi=137;break e}for(ci=Dt(mi<<2)|0,e[ke>>2]=ci,e[f>>2]=ci,Gt=ci+(mi<<2)|0,e[r>>2]=Gt,ti=mi,mi=ci;e[mi>>2]=2147483647,ti=ti+-1|0,ti;)mi=mi+4|0;e[ke>>2]=Gt,Wn=Z[d>>0]|0}if(mi=Wn<<24>>24,e[h>>2]=0,e[et>>2]=0,e[ot>>2]=0,!(Wn<<24>>24))On=0;else{if(Wn<<24>>24<0){gi=144;break e}ti=mi<<2,ni=Dt(ti)|0,e[h>>2]=ni,Ei=ni+(mi<<2)|0,e[Rt>>2]=Ei,Mi(ni|0,0,ti|0)|0,e[et>>2]=Ei,On=ni}ni=_t+80|0,Ei=Z[d>>0]|0;t:do if(!(e[ni>>2]|0))xn=Ei;else for(ti=0,mi=Ei,ci=On;;){if(e[a>>2]=ti,e[o>>2]=e[a>>2],mx(_t,o,mi,ci)|0,ki=Z[d>>0]|0,ki<<24>>24>0){Ri=e[f>>2]|0,fi=e[h>>2]|0,ji=ki<<24>>24,Bi=0;do St=Ri+(Bi<<2)|0,er=e[fi+(Bi<<2)>>2]|0,(e[St>>2]|0)>(er|0)&&(e[St>>2]=er),Bi=Bi+1|0;while((Bi|0)<(ji|0))}if(ji=ti+1|0,ji>>>0>=(e[ni>>2]|0)>>>0){xn=ki;break t}ti=ji,mi=ki,ci=e[h>>2]|0}while(0);if(xn<<24>>24>0)for(ni=0,_t=xn;Ei=(e[f>>2]|0)+(ni<<2)|0,Gt=e[Nt>>2]|0,(Gt|0)==(e[At>>2]|0)?(pr(Vt,Ei),Dr=Z[d>>0]|0):(e[Gt>>2]=e[Ei>>2],e[Nt>>2]=Gt+4,Dr=_t),ni=ni+1|0,!((ni|0)>=(Dr<<24>>24|0));)_t=Dr;_t=e[h>>2]|0,_t|0&&(ni=e[et>>2]|0,(ni|0)!=(_t|0)&&(e[et>>2]=ni+(~((ni+-4-_t|0)>>>2)<<2)),ve(_t)),_t=e[f>>2]|0,_t|0&&(ni=e[ke>>2]|0,(ni|0)!=(_t|0)&&(e[ke>>2]=ni+(~((ni+-4-_t|0)>>>2)<<2)),ve(_t));break}}if(_t=Pt+1|0,ni=e[v>>2]|0,_t>>>0>=(e[x>>2]|0)-ni>>2>>>0){D=1,gi=169;break}d=e[g>>2]|0,Pt=_t,xt=ni,I=e[d+4>>2]|0,m=d}if((gi|0)==48)Je();else if((gi|0)==103)Je();else if((gi|0)==137)Je();else if((gi|0)==144)Je();else if((gi|0)==169)return q=n,D|0;return 0}function KP(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0,Gt=0,ci=0,mi=0,ji=0,di=0,Ei=0,ni=0,Ri=0,Ni=0,ai=0,gi=0,oi=0,ti=0,Vi=0,Ji=0,Wi=0,Hi=0,Pi=0,wi=0,ki=0,Bi=0,er=0,lr=0,Ii=0,hr=0,tr=0,Xr=0,nn=0,mn=0,R0=0,gn=0,Wn=0,On=0;a=q,q=q+32|0,f=a,h=r+8|0,c=e[h>>2]|0,e[f>>2]=0,g=f+4|0,e[g>>2]=0,e[f+8>>2]=0;do if(c)if(c>>>0>1073741823)Je();else{d=c<<2,m=Dt(d)|0,e[f>>2]=m,b=m+(c<<2)|0,e[f+8>>2]=b,Mi(m|0,0,d|0)|0,e[g>>2]=b,v=b,x=m;break}else v=0,x=0;while(0);m=r+128|0,b=e[m>>2]|0,d=e[b>>2]|0,C=b+4|0,d?(c=e[C>>2]|0,(c|0)!=(d|0)&&(e[C>>2]=c+(~((c+-4-d|0)>>>2)<<2)),ve(d),d=b+8|0,e[d>>2]=0,e[C>>2]=0,e[b>>2]=0,S=d,M=e[f>>2]|0,I=e[g>>2]|0,D=e[h>>2]|0):(S=b+8|0,M=x,I=v,D=c),e[b>>2]=M,e[C>>2]=I,e[S>>2]=e[f+8>>2],e[f>>2]=0,S=f+4|0,e[S>>2]=0,e[f+8>>2]=0;do if(D)if(D>>>0>1073741823)Je();else{I=D<<2,C=Dt(I)|0,e[f>>2]=C,M=C+(D<<2)|0,e[f+8>>2]=M,Mi(C|0,0,I|0)|0,e[S>>2]=M,L=M,N=C;break}else L=0,N=0;while(0);if(D=r+140|0,C=e[D>>2]|0,M=e[C>>2]|0,I=C+4|0,M?(L=e[I>>2]|0,(L|0)!=(M|0)&&(e[I>>2]=L+(~((L+-4-M|0)>>>2)<<2)),ve(M),M=C+8|0,e[M>>2]=0,e[I>>2]=0,e[C>>2]=0,X=M,V=e[f>>2]|0,Q=e[S>>2]|0):(X=C+8|0,V=N,Q=L),e[C>>2]=V,e[I>>2]=Q,e[X>>2]=e[f+8>>2],X=e[n>>2]|0,Q=n+4|0,I=e[Q>>2]|0,V=e[Q+4>>2]|0,Q=e[o>>2]|0,C=o+4|0,S=e[C>>2]|0,M=e[C+4>>2]|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[f+16>>2]=0,e[f+20>>2]=0,C=f+8|0,L=f+4|0,N=f+16|0,b=f+20|0,g=I,Cs(f),d=e[L>>2]|0,c=(e[b>>2]|0)+(e[N>>2]|0)|0,(e[C>>2]|0)==(d|0)?U=0:U=(e[d+(((c>>>0)/113|0)<<2)>>2]|0)+(((c>>>0)%113|0)*36|0)|0,e[U>>2]=X,c=U+4|0,e[c>>2]=I,e[c+4>>2]=V,e[U+12>>2]=Q,c=U+16|0,e[c>>2]=S,e[c+4>>2]=M,e[U+24>>2]=0,e[U+28>>2]=Q-X,e[U+32>>2]=0,U=(e[b>>2]|0)+1|0,e[b>>2]=U,U|0)for(X=r+116|0,Q=r+48|0,c=r+44|0,d=r+36|0,v=r+40|0,x=r+32|0,j=n+8|0,$=o+8|0,J=r+28|0,F=r+24|0,K=r+16|0,re=r+20|0,se=r+12|0,fe=r+88|0,Ee=r+84|0,Ne=r+76|0,me=r+80|0,Ie=r+72|0,_e=g+4|0,Ce=g+24|0,We=g+24|0,at=S+24|0,Ke=U;;){U=e[N>>2]|0,Ve=Ke+-1|0,Ue=Ve+U|0,st=e[L>>2]|0,Qe=e[st+(((Ue>>>0)/113|0)<<2)>>2]|0,it=(Ue>>>0)%113|0,Ue=e[Qe+(it*36|0)>>2]|0,ze=e[Qe+(it*36|0)+12>>2]|0,Ge=e[Qe+(it*36|0)+24>>2]|0,ke=e[Qe+(it*36|0)+32>>2]|0,e[b>>2]=Ve,Ve=e[C>>2]|0,it=Ve-st>>2,(1-Ke-U+((it|0)==0?0:(it*113|0)+-1|0)|0)>>>0>225&&(ve(e[Ve+-4>>2]|0),e[C>>2]=(e[C>>2]|0)+-4),e[n>>2]=Ue,e[o>>2]=ze,Ve=e[m>>2]|0,it=((e[h>>2]|0)+-1|0)==(Ge|0)?0:Ge+1|0,Ge=(e[D>>2]|0)+(ke*12|0)|0,U=ze-Ue|0,st=(e[r>>2]|0)-(e[(e[Ge>>2]|0)+(it<<2)>>2]|0)|0;e:do if(st){if(U>>>0<3){if(Qe=e[X>>2]|0,e[Qe>>2]=it,ut=e[h>>2]|0,ut>>>0>1)for(et=1,ot=ut,Rt=it;;)if(Rt=(Rt|0)==(ot+-1|0)?0:Rt+1|0,e[Qe+(et<<2)>>2]=Rt,et=et+1|0,Nt=e[h>>2]|0,et>>>0>=Nt>>>0){At=Nt;break}else ot=Nt;else At=ut;if(U)Pt=0,xt=At;else{Vt=99;break}for(;;){if(ot=(e[Ce>>2]|0)+((_i(e[_e>>2]|0,Ue+Pt|0)|0)<<2)|0,!xt)_t=0;else{et=0;do{Rt=e[(e[X>>2]|0)+(et<<2)>>2]|0,Qe=(e[r>>2]|0)-(e[(e[Ge>>2]|0)+(Rt<<2)>>2]|0)|0;do if(Qe|0){if(Nt=e[Q>>2]|0,St=32-Nt|0,fi=32-Qe|0,Gt=e[ot+(Rt<<2)>>2]<<fi,(Qe|0)>(St|0)){ci=Gt>>>fi,fi=Qe-St|0,e[Q>>2]=fi,St=e[c>>2]|ci>>>fi,e[c>>2]=St,fi=e[d>>2]|0,(fi|0)==(e[v>>2]|0)?pr(x,c):(e[fi>>2]=St,e[d>>2]=fi+4),e[c>>2]=ci<<32-(e[Q>>2]|0);break}if(ci=e[c>>2]|Gt>>>Nt,e[c>>2]=ci,Gt=Nt+Qe|0,e[Q>>2]=Gt,(Gt|0)!=32)break;Gt=e[d>>2]|0,(Gt|0)==(e[v>>2]|0)?pr(x,c):(e[Gt>>2]=ci,e[d>>2]=Gt+4),e[c>>2]=0,e[Q>>2]=0}while(0);et=et+1|0,Qe=e[h>>2]|0}while(et>>>0<Qe>>>0);_t=Qe}if(Pt=Pt+1|0,Pt>>>0>=U>>>0){Vt=99;break e}else xt=_t}}ut=ke+1|0,$0(Ve+(ut*12|0)|0,e[Ve+(ke*12|0)>>2]|0,e[Ve+(ke*12|0)+4>>2]|0),et=(e[(e[m>>2]|0)+(ut*12|0)>>2]|0)+(it<<2)|0,ot=(e[et>>2]|0)+(1<<st+-1)|0,e[et>>2]=ot,et=e[j>>2]|0,Qe=e[$>>2]|0;t:do if((ze|0)==(Ue|0))mi=Ue;else{if(Rt=e[We>>2]|0,et)Ei=ze,ni=Ue;else{if((e[Rt+(it<<2)>>2]|0)>>>0<ot>>>0){mi=ze;break}else ji=ze,di=Ue;for(;;){Gt=ji;do{if(Gt=Gt+-1|0,(di|0)==(Gt|0)){mi=di;break t}ci=(e[at>>2]|0)+((_i(Gt,Qe)|0)<<2)+(it<<2)|0}while((e[ci>>2]|0)>>>0>=ot>>>0);if(di=di+1|0,(di|0)==(Gt|0)){mi=Gt;break t}else ji=Gt}}for(;;){for(ci=ni;;){if(Ri=Rt+((_i(ci,et)|0)<<2)|0,(e[Ri+(it<<2)>>2]|0)>>>0>=ot>>>0){Ni=Ei;break}if(Nt=ci+1|0,(Nt|0)==(Ei|0)){mi=Ei;break t}else ci=Nt}for(;;){if(Ni=Ni+-1|0,(ci|0)==(Ni|0)){mi=ci;break t}if(ai=(e[at>>2]|0)+((_i(Ni,Qe)|0)<<2)|0,(e[ai+(it<<2)>>2]|0)>>>0<ot>>>0){gi=0;break}}do Gt=Ri+(gi<<2)|0,Nt=ai+(gi<<2)|0,fi=e[Gt>>2]|0,e[Gt>>2]=e[Nt>>2],e[Nt>>2]=fi,gi=gi+1|0;while((gi|0)!=(et|0));if(ni=ci+1|0,(ni|0)==(Ni|0)){mi=Ni;break}else Ei=Ni}}while(0);ot=(S0(U|0)|0)^31,Qe=mi-Ue|0,Rt=ze-mi|0,fi=Qe>>>0<Rt>>>0,(Qe|0)!=(Rt|0)&&(Nt=e[fe>>2]|0,fi&&(e[Ee>>2]=e[Ee>>2]|1<<31-Nt),Gt=Nt+1|0,e[fe>>2]=Gt,(Gt|0)==32&&(Gt=e[Ne>>2]|0,(Gt|0)==(e[me>>2]|0)?pr(Ie,Ee):(e[Gt>>2]=e[Ee>>2],e[Ne>>2]=Gt+4),e[fe>>2]=0,e[Ee>>2]=0)),Gt=U>>>1;do if(fi){if(Nt=e[J>>2]|0,St=32-Nt|0,oi=32-ot|0,ti=Gt-Qe<<oi,(ot|0)>(St|0)){Vi=ti>>>oi,oi=ot-St|0,e[J>>2]=oi,St=e[F>>2]|Vi>>>oi,e[F>>2]=St,oi=e[K>>2]|0,(oi|0)==(e[re>>2]|0)?pr(se,F):(e[oi>>2]=St,e[K>>2]=oi+4),e[F>>2]=Vi<<32-(e[J>>2]|0);break}Vi=e[F>>2]|ti>>>Nt,e[F>>2]=Vi,ti=Nt+ot|0,e[J>>2]=ti,(ti|0)==32&&(ti=e[K>>2]|0,(ti|0)==(e[re>>2]|0)?pr(se,F):(e[ti>>2]=Vi,e[K>>2]=ti+4),e[F>>2]=0,e[J>>2]=0)}else{if(ti=e[J>>2]|0,Vi=32-ti|0,Nt=32-ot|0,oi=Gt-Rt<<Nt,(ot|0)>(Vi|0)){St=oi>>>Nt,Nt=ot-Vi|0,e[J>>2]=Nt,Vi=e[F>>2]|St>>>Nt,e[F>>2]=Vi,Nt=e[K>>2]|0,(Nt|0)==(e[re>>2]|0)?pr(se,F):(e[Nt>>2]=Vi,e[K>>2]=Nt+4),e[F>>2]=St<<32-(e[J>>2]|0);break}St=e[F>>2]|oi>>>ti,e[F>>2]=St,oi=ti+ot|0,e[J>>2]=oi,(oi|0)==32&&(oi=e[K>>2]|0,(oi|0)==(e[re>>2]|0)?pr(se,F):(e[oi>>2]=St,e[K>>2]=oi+4),e[F>>2]=0,e[J>>2]=0)}while(0);ot=e[D>>2]|0,Gt=e[ot+(ke*12|0)>>2]|0,fi=Gt+(it<<2)|0,e[fi>>2]=(e[fi>>2]|0)+1,$0(ot+(ut*12|0)|0,Gt,e[ot+(ke*12|0)+4>>2]|0),(mi|0)!=(Ue|0)&&(ot=e[C>>2]|0,Gt=e[L>>2]|0,fi=ot-Gt>>2,oi=e[N>>2]|0,St=e[b>>2]|0,(((fi|0)==0?0:(fi*113|0)+-1|0)|0)==(St+oi|0)?(Cs(f),Ji=e[N>>2]|0,Wi=e[b>>2]|0,Hi=e[C>>2]|0,Pi=e[L>>2]|0):(Ji=oi,Wi=St,Hi=ot,Pi=Gt),Gt=Wi+Ji|0,(Hi|0)==(Pi|0)?wi=0:wi=(e[Pi+(((Gt>>>0)/113|0)<<2)>>2]|0)+(((Gt>>>0)%113|0)*36|0)|0,e[wi>>2]=Ue,Gt=wi+4|0,e[Gt>>2]=I,e[Gt+4>>2]=V,e[wi+12>>2]=mi,e[wi+16>>2]=g,e[wi+20>>2]=et,e[wi+24>>2]=it,e[wi+28>>2]=Qe,e[wi+32>>2]=ke,e[b>>2]=(e[b>>2]|0)+1),(ze|0)!=(mi|0)?(Gt=e[C>>2]|0,ot=e[L>>2]|0,St=Gt-ot>>2,oi=e[N>>2]|0,fi=e[b>>2]|0,(((St|0)==0?0:(St*113|0)+-1|0)|0)==(fi+oi|0)?(Cs(f),ki=e[N>>2]|0,Bi=e[b>>2]|0,er=e[C>>2]|0,lr=e[L>>2]|0):(ki=oi,Bi=fi,er=Gt,lr=ot),ot=Bi+ki|0,(er|0)==(lr|0)?Ii=0:Ii=(e[lr+(((ot>>>0)/113|0)<<2)>>2]|0)+(((ot>>>0)%113|0)*36|0)|0,e[Ii>>2]=mi,e[Ii+4>>2]=g,e[Ii+8>>2]=et,e[Ii+12>>2]=ze,ot=Ii+16|0,e[ot>>2]=S,e[ot+4>>2]=M,e[Ii+24>>2]=it,e[Ii+28>>2]=Rt,e[Ii+32>>2]=ut,ot=(e[b>>2]|0)+1|0,e[b>>2]=ot,hr=ot):Vt=99}else Vt=99;while(0);if((Vt|0)==99&&(Vt=0,hr=e[b>>2]|0),hr)Ke=hr;else break}hr=e[L>>2]|0,Ke=e[N>>2]|0,Ii=hr+(((Ke>>>0)/113|0)<<2)|0,M=e[C>>2]|0,S=M,g=hr,(M|0)==(hr|0)?(tr=0,Xr=0):(mi=(e[Ii>>2]|0)+(((Ke>>>0)%113|0)*36|0)|0,tr=mi,Xr=mi),mi=Ii,Ii=Xr;e:for(;;){Xr=Ii;do{if(Ke=Xr,(tr|0)==(Ke|0))break e;Xr=Ke+36|0}while((Xr-(e[mi>>2]|0)|0)!=4068);Xr=mi+4|0,mi=Xr,Ii=e[Xr>>2]|0}if(e[b>>2]=0,b=S-g>>2,b>>>0>2){g=hr;do ve(e[g>>2]|0),g=(e[L>>2]|0)+4|0,e[L>>2]=g,nn=e[C>>2]|0,mn=nn-g>>2;while(mn>>>0>2);R0=mn,gn=g,Wn=nn}else R0=b,gn=hr,Wn=M;switch(R0|0){case 1:{On=56,Vt=113;break}case 2:{On=113,Vt=113;break}}if((Vt|0)==113&&(e[N>>2]=On),(gn|0)!=(Wn|0)){On=gn;do ve(e[On>>2]|0),On=On+4|0;while((On|0)!=(Wn|0));Wn=e[L>>2]|0,L=e[C>>2]|0,(L|0)!=(Wn|0)&&(e[C>>2]=L+(~((L+-4-Wn|0)>>>2)<<2))}if(Wn=e[f>>2]|0,!Wn){q=a;return}ve(Wn),q=a}function $P(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0;if(o=q,q=q+80|0,a=o+56|0,f=o+52|0,h=o+48|0,c=o+68|0,g=o,d=o+44|0,m=o+40|0,b=o+36|0,v=o+32|0,x=o+28|0,C=o+24|0,S=o+20|0,M=o+16|0,I=o+12|0,Z[n+288>>0]|0?(g_(a,e[n+8>>2]|0),N=n+12|0,L=e[a>>2]|0,e[a>>2]=0,D=e[N>>2]|0,e[N>>2]=L,D?(uf(D),ve(D),D=e[a>>2]|0,e[a>>2]=0,D|0&&(uf(D),ve(D))):e[a>>2]=0):(cm(a,e[n+8>>2]|0),D=n+12|0,L=e[a>>2]|0,e[a>>2]=0,N=e[D>>2]|0,e[D>>2]=L,N?(uf(N),ve(N),N=e[a>>2]|0,e[a>>2]=0,N|0&&(uf(N),ve(N))):e[a>>2]=0),D=n+12|0,L=e[D>>2]|0,L|0&&(((e[L+4>>2]|0)-(e[L>>2]|0)>>2>>>0)/3|0|0)!=(e[L+40>>2]|0)){if(N=n+200|0,e[n+264>>2]=n,X=n+4|0,p0(((e[L+28>>2]|0)-(e[L+24>>2]|0)>>2)-(e[L+44>>2]|0)|0,e[(e[X>>2]|0)+44>>2]|0)|0,L=e[D>>2]|0,p0((((e[L+4>>2]|0)-(e[L>>2]|0)>>2>>>0)/3|0)-(e[L+40>>2]|0)|0,e[(e[X>>2]|0)+44>>2]|0)|0,L=n+28|0,V=n+8|0,Q=e[V>>2]|0,U=((e[Q+100>>2]|0)-(e[Q+96>>2]|0)|0)/12|0,Z[a>>0]=0,po(L,U,a),U=e[D>>2]|0,Q=(e[U+28>>2]|0)-(e[U+24>>2]|0)>>2,e[a>>2]=-1,pe(n+52|0,Q,a),Q=n+40|0,U=e[Q>>2]|0,j=n+44|0,$=e[j>>2]|0,($|0)!=(U|0)&&(e[j>>2]=$+(~(($+-4-U|0)>>>2)<<2)),U=e[D>>2]|0,$=(e[U+4>>2]|0)-(e[U>>2]|0)>>2,al(Q,$-(($>>>0)%3|0)|0),$=n+84|0,Q=e[D>>2]|0,U=(e[Q+28>>2]|0)-(e[Q+24>>2]|0)>>2,Z[a>>0]=0,po($,U,a),U=n+96|0,Q=e[U>>2]|0,j=n+100|0,J=e[j>>2]|0,(J|0)!=(Q|0)&&(e[j>>2]=J+(~((J+-4-Q|0)>>>2)<<2)),e[n+164>>2]=-1,Q=n+168|0,e[Q>>2]=0,J=e[n+108>>2]|0,F=n+112|0,K=e[F>>2]|0,(K|0)!=(J|0)&&(e[F>>2]=K+(~(((K+-12-J|0)>>>0)/12|0)*12|0)),J=n+132|0,e[J>>2]|0){if(K=n+128|0,F=e[K>>2]|0,F|0){re=F;do F=re,re=e[re>>2]|0,ve(F);while((re|0)!=0)}if(e[K>>2]=0,K=e[n+124>>2]|0,K|0){re=n+120|0,F=0;do e[(e[re>>2]|0)+(F<<2)>>2]=0,F=F+1|0;while((F|0)!=(K|0))}e[J>>2]=0}if(e[n+144>>2]=0,J=e[D>>2]|0,K=(e[J+28>>2]|0)-(e[J+24>>2]|0)>>2,e[a>>2]=-1,pe(n+152|0,K,a),K=n+72|0,J=e[K>>2]|0,F=n+76|0,re=e[F>>2]|0,(re|0)!=(J|0)&&(e[F>>2]=re+(~((re+-4-J|0)>>>2)<<2)),J=e[D>>2]|0,al(K,((e[J+4>>2]|0)-(e[J>>2]|0)>>2>>>0)/3|0),e[n+64>>2]=0,!(py(n)|0)){J=Dt(32)|0,e[a>>2]=J,e[a+8>>2]=-2147483616,e[a+4>>2]=29,se=J,fe=13227,Ee=se+29|0;do Z[se>>0]=Z[fe>>0]|0,se=se+1|0,fe=fe+1|0;while((se|0)<(Ee|0));Z[J+29>>0]=0,e[r>>2]=-1,T0(r+4|0,a),(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0),q=o;return}if(!(LD(n)|0)){J=Dt(48)|0,e[a>>2]=J,e[a+8>>2]=-2147483600,e[a+4>>2]=36,se=J,fe=13257,Ee=se+36|0;do Z[se>>0]=Z[fe>>0]|0,se=se+1|0,fe=fe+1|0;while((se|0)<(Ee|0));Z[J+36>>0]=0,e[r>>2]=-1,T0(r+4|0,a),(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0),q=o;return}J=n+172|0,re=n+176|0,Ne=(((e[re>>2]|0)-(e[J>>2]|0)|0)/136|0)&255,Z[c>>0]=Ne,me=e[(e[X>>2]|0)+44>>2]|0,Ie=me+16|0,_e=e[Ie+4>>2]|0,(_e|0)>0|(_e|0)==0&(e[Ie>>2]|0)>>>0>0?Ce=Ne:(e[f>>2]=e[me+4>>2],e[a>>2]=e[f>>2],vr(me,a,c,c+1|0)|0,Ce=Z[c>>0]|0),c=n+284|0,e[c>>2]=Ce&255,Ce=e[D>>2]|0,me=(e[Ce+4>>2]|0)-(e[Ce>>2]|0)|0,Ce=me>>2,N_(N),e[g>>2]=0,Ne=g+4|0,e[Ne>>2]=0,e[g+8>>2]=0;e:do if((me|0)>0){Ie=n+104|0,_e=g+8|0,We=0;t:for(;;){if(at=(We>>>0)/3|0,Ke=at>>>5,Ve=1<<(at&31),(e[(e[L>>2]|0)+(Ke<<2)>>2]&Ve|0)==0&&(Ue=e[D>>2]|0,e[d>>2]=at,e[a>>2]=e[d>>2],!(Ly(Ue,a)|0))){e[f>>2]=0,e[m>>2]=at,e[a>>2]=e[m>>2],at=an(n,a,f)|0,zn(N,at),Ue=e[f>>2]|0,st=(Ue|0)==-1;do if(at){do if(st)Qe=-1,it=-1,ze=-1;else{if(Ge=e[e[D>>2]>>2]|0,ke=e[Ge+(Ue<<2)>>2]|0,ut=Ue+1|0,et=((ut>>>0)%3|0|0)==0?Ue+-2|0:ut,(et|0)==-1?ot=-1:ot=e[Ge+(et<<2)>>2]|0,et=(((Ue>>>0)%3|0|0)==0?2:-1)+Ue|0,(et|0)==-1){Qe=-1,it=ot,ze=ke;break}Qe=e[Ge+(et<<2)>>2]|0,it=ot,ze=ke}while(0);if(ke=e[$>>2]|0,et=ke+(ze>>>5<<2)|0,e[et>>2]=e[et>>2]|1<<(ze&31),et=ke+(it>>>5<<2)|0,e[et>>2]=e[et>>2]|1<<(it&31),et=ke+(Qe>>>5<<2)|0,e[et>>2]=e[et>>2]|1<<(Qe&31),e[a>>2]=1,et=e[j>>2]|0,et>>>0<(e[Ie>>2]|0)>>>0?(e[et>>2]=1,e[j>>2]=et+4):pr(U,a),et=(e[L>>2]|0)+(Ke<<2)|0,e[et>>2]=e[et>>2]|Ve,et=Ue+1|0,st?Rt=-1:Rt=((et>>>0)%3|0|0)==0?Ue+-2|0:et,e[a>>2]=Rt,ke=e[Ne>>2]|0,ke>>>0<(e[_e>>2]|0)>>>0?(e[ke>>2]=Rt,e[Ne>>2]=ke+4):pr(g,a),st||(ke=((et>>>0)%3|0|0)==0?Ue+-2|0:et,(ke|0)==-1)||(et=e[(e[(e[D>>2]|0)+12>>2]|0)+(ke<<2)>>2]|0,ke=(et|0)==-1,Ge=ke?-1:(et>>>0)/3|0,ke)||e[(e[L>>2]|0)+(Ge>>>5<<2)>>2]&1<<(Ge&31)|0)break;if(e[b>>2]=et,e[a>>2]=e[b>>2],!(ik(n,a)|0)){Nt=65;break t}}else if(et=Ue+1|0,st?At=-1:At=((et>>>0)%3|0|0)==0?Ue+-2|0:et,e[v>>2]=At,e[a>>2]=e[v>>2],sd(n,a,1)|0,e[x>>2]=e[f>>2],e[a>>2]=e[x>>2],!(ik(n,a)|0)){Nt=71;break t}while(0)}if(We=We+1|0,(We|0)>=(Ce|0)){Nt=77;break e}}if((Nt|0)==65){e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,We=Dt(48)|0,e[a>>2]=We,e[a+8>>2]=-2147483600,e[a+4>>2]=32,se=We,fe=13294,Ee=se+32|0;do Z[se>>0]=Z[fe>>0]|0,se=se+1|0,fe=fe+1|0;while((se|0)<(Ee|0));Z[We+32>>0]=0,e[r>>2]=-1,T0(r+4|0,a),(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0)}else if((Nt|0)==71){e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,_e=Dt(48)|0,e[a>>2]=_e,e[a+8>>2]=-2147483600,e[a+4>>2]=32,se=_e,fe=13294,Ee=se+32|0;do Z[se>>0]=Z[fe>>0]|0,se=se+1|0,fe=fe+1|0;while((se|0)<(Ee|0));Z[_e+32>>0]=0,e[r>>2]=-1,T0(r+4|0,a),(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0)}}else Nt=77;while(0);do if((Nt|0)==77){if(Ce=e[K>>2]|0,x=e[F>>2]|0,v=x,(Ce|0)!=(x|0)&&(At=x+-4|0,Ce>>>0<At>>>0)){x=Ce,Ce=At;do At=e[x>>2]|0,e[x>>2]=e[Ce>>2],e[Ce>>2]=At,x=x+4|0,Ce=Ce+-4|0;while(x>>>0<Ce>>>0)}if(e[C>>2]=v,e[S>>2]=e[g>>2],e[M>>2]=e[Ne>>2],e[h>>2]=e[C>>2],e[f>>2]=e[S>>2],e[a>>2]=e[M>>2],Rc(K,h,f,a)|0,(e[re>>2]|0)!=(e[J>>2]|0)&&(Ce=e[V>>2]|0,x=((e[Ce+100>>2]|0)-(e[Ce+96>>2]|0)|0)/12|0,Z[a>>0]=0,po(L,x,a),x=e[K>>2]|0,Ce=e[F>>2]|0,(x|0)!=(Ce|0))){_e=x;do e[I>>2]=e[_e>>2],e[a>>2]=e[I>>2],Ou(n,a)|0,_e=_e+4|0;while((_e|0)!=(Ce|0))}if(BD(N),Ce=n+232|0,pn(N,Ce),_e=n+280|0,v=e[_e>>2]|0,v|0&&(e[c>>2]|0)>0&&(pn(v,Ce),(e[c>>2]|0)>1)){v=1;do pn((e[_e>>2]|0)+(v<<5)|0,Ce),v=v+1|0;while((v|0)<(e[c>>2]|0))}if(p0((e[n+272>>2]|0)-(e[n+268>>2]|0)>>2,e[(e[X>>2]|0)+44>>2]|0)|0,p0(e[Q>>2]|0,e[(e[X>>2]|0)+44>>2]|0)|0,m_(n)|0){v=e[(e[X>>2]|0)+44>>2]|0,_e=e[Ce>>2]|0,x=v+16|0,At=e[x+4>>2]|0,(At|0)>0|(At|0)==0&(e[x>>2]|0)>>>0>0||(x=(e[n+236>>2]|0)-_e|0,e[f>>2]=e[v+4>>2],e[a>>2]=e[f>>2],vr(v,a,_e,_e+x|0)|0),e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0;break}else{e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,x=Dt(32)|0,e[a>>2]=x,e[a+8>>2]=-2147483616,e[a+4>>2]=28,se=x,fe=13327,Ee=se+28|0;do Z[se>>0]=Z[fe>>0]|0,se=se+1|0,fe=fe+1|0;while((se|0)<(Ee|0));Z[x+28>>0]=0,e[r>>2]=-1,T0(r+4|0,a),(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0);break}}while(0);f=e[g>>2]|0,f|0&&(g=e[Ne>>2]|0,(g|0)!=(f|0)&&(e[Ne>>2]=g+(~((g+-4-f|0)>>>2)<<2)),ve(f)),q=o;return}f=Dt(32)|0,e[a>>2]=f,e[a+8>>2]=-2147483616,e[a+4>>2]=29,se=f,fe=13197,Ee=se+29|0;do Z[se>>0]=Z[fe>>0]|0,se=se+1|0,fe=fe+1|0;while((se|0)<(Ee|0));Z[f+29>>0]=0,e[r>>2]=-1,T0(r+4|0,a),(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0),q=o}function eL(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0,Gt=0,ci=0,mi=0,ji=0,di=0,Ei=0,ni=0,Ri=0,Ni=0,ai=0,gi=0,oi=0,ti=0,Vi=0,Ji=0,Wi=0,Hi=0,Pi=0,wi=0,ki=0,Bi=0,er=0,lr=0,Ii=0,hr=0,tr=0,Xr=0,nn=0,mn=0;a=q,q=q+48|0,f=a+36|0,h=a+24|0,c=a,g=r+8|0,d=e[g>>2]|0,e[f>>2]=0,m=f+4|0,e[m>>2]=0,e[f+8>>2]=0;do if(d)if(d>>>0>1073741823)Je();else{b=d<<2,v=Dt(b)|0,e[f>>2]=v,x=v+(d<<2)|0,e[f+8>>2]=x,Mi(v|0,0,b|0)|0,e[m>>2]=x,C=x,S=v;break}else C=0,S=0;while(0);v=r+1164|0,x=e[v>>2]|0,b=e[x>>2]|0,M=x+4|0,b?(d=e[M>>2]|0,(d|0)!=(b|0)&&(e[M>>2]=d+(~((d+-4-b|0)>>>2)<<2)),ve(b),b=x+8|0,e[b>>2]=0,e[M>>2]=0,e[x>>2]=0,I=b,D=e[f>>2]|0,L=e[m>>2]|0,N=e[g>>2]|0):(I=x+8|0,D=S,L=C,N=d),e[x>>2]=D,e[M>>2]=L,e[I>>2]=e[f+8>>2],e[f>>2]=0,I=f+4|0,e[I>>2]=0,e[f+8>>2]=0;do if(N)if(N>>>0>1073741823)Je();else{L=N<<2,M=Dt(L)|0,e[f>>2]=M,D=M+(N<<2)|0,e[f+8>>2]=D,Mi(M|0,0,L|0)|0,e[I>>2]=D,X=D,V=M;break}else X=0,V=0;while(0);if(N=r+1176|0,M=e[N>>2]|0,D=e[M>>2]|0,L=M+4|0,D?(X=e[L>>2]|0,(X|0)!=(D|0)&&(e[L>>2]=X+(~((X+-4-D|0)>>>2)<<2)),ve(D),D=M+8|0,e[D>>2]=0,e[L>>2]=0,e[M>>2]=0,Q=D,U=e[f>>2]|0,j=e[I>>2]|0):(Q=M+8|0,U=V,j=X),e[M>>2]=U,e[L>>2]=j,e[Q>>2]=e[f+8>>2],Q=e[n>>2]|0,j=n+4|0,L=e[j>>2]|0,U=e[j+4>>2]|0,j=e[o>>2]|0,M=o+4|0,I=e[M>>2]|0,D=e[M+4>>2]|0,e[c>>2]=0,e[c+4>>2]=0,e[c+8>>2]=0,e[c+12>>2]=0,e[c+16>>2]=0,e[c+20>>2]=0,M=c+8|0,X=c+4|0,V=c+16|0,x=c+20|0,m=L,Cs(c),b=e[X>>2]|0,d=(e[x>>2]|0)+(e[V>>2]|0)|0,(e[M>>2]|0)==(b|0)?$=0:$=(e[b+(((d>>>0)/113|0)<<2)>>2]|0)+(((d>>>0)%113|0)*36|0)|0,e[$>>2]=Q,d=$+4|0,e[d>>2]=L,e[d+4>>2]=U,e[$+12>>2]=j,d=$+16|0,e[d>>2]=I,e[d+4>>2]=D,e[$+24>>2]=0,e[$+28>>2]=j-Q,e[$+32>>2]=0,$=(e[x>>2]|0)+1|0,e[x>>2]=$,$|0)for(Q=r+1152|0,j=r+1084|0,d=r+1080|0,b=r+1072|0,C=r+1076|0,S=r+1068|0,J=n+8|0,F=o+8|0,K=r+1124|0,re=r+1120|0,se=r+1112|0,fe=r+1116|0,Ee=r+1108|0,Ne=m+4|0,me=m+24|0,Ie=m+24|0,_e=I+24|0,Ce=$;;){$=e[V>>2]|0,We=Ce+-1|0,at=We+$|0,Ke=e[X>>2]|0,Ve=e[Ke+(((at>>>0)/113|0)<<2)>>2]|0,Ue=(at>>>0)%113|0,at=e[Ve+(Ue*36|0)>>2]|0,st=e[Ve+(Ue*36|0)+12>>2]|0,Qe=e[Ve+(Ue*36|0)+24>>2]|0,it=e[Ve+(Ue*36|0)+32>>2]|0,e[x>>2]=We,We=e[M>>2]|0,Ue=We-Ke>>2,(1-Ce-$+((Ue|0)==0?0:(Ue*113|0)+-1|0)|0)>>>0>225&&(ve(e[We+-4>>2]|0),e[M>>2]=(e[M>>2]|0)+-4),e[n>>2]=at,e[o>>2]=st,We=e[v>>2]|0,Ue=We+(it*12|0)|0,$=(e[N>>2]|0)+(it*12|0)|0,e[h>>2]=e[n>>2],e[h+4>>2]=e[n+4>>2],e[h+8>>2]=e[n+8>>2],e[f>>2]=e[o>>2],e[f+4>>2]=e[o+4>>2],e[f+8>>2]=e[o+8>>2],Ke=Tc(r,h,f,Ue,$,Qe)|0,Qe=st-at|0,Ve=(e[r>>2]|0)-(e[(e[$>>2]|0)+(Ke<<2)>>2]|0)|0;e:do if(Ve){if(Qe>>>0<3){if(ze=e[Q>>2]|0,e[ze>>2]=Ke,Ge=e[g>>2]|0,Ge>>>0>1)for(ke=1,ut=Ge,et=Ke;;)if(et=(et|0)==(ut+-1|0)?0:et+1|0,e[ze+(ke<<2)>>2]=et,ke=ke+1|0,ot=e[g>>2]|0,ke>>>0>=ot>>>0){Rt=ot;break}else ut=ot;else Rt=Ge;if(Qe)At=0,Vt=Rt;else{Nt=87;break}for(;;){if(ut=(e[me>>2]|0)+((_i(e[Ne>>2]|0,at+At|0)|0)<<2)|0,!Vt)Pt=0;else{ke=0;do{et=e[(e[Q>>2]|0)+(ke<<2)>>2]|0,ze=(e[r>>2]|0)-(e[(e[$>>2]|0)+(et<<2)>>2]|0)|0;do if(ze|0){if(ot=e[j>>2]|0,xt=32-ot|0,_t=32-ze|0,St=e[ut+(et<<2)>>2]<<_t,(ze|0)>(xt|0)){fi=St>>>_t,_t=ze-xt|0,e[j>>2]=_t,xt=e[d>>2]|fi>>>_t,e[d>>2]=xt,_t=e[b>>2]|0,(_t|0)==(e[C>>2]|0)?pr(S,d):(e[_t>>2]=xt,e[b>>2]=_t+4),e[d>>2]=fi<<32-(e[j>>2]|0);break}if(fi=e[d>>2]|St>>>ot,e[d>>2]=fi,St=ot+ze|0,e[j>>2]=St,(St|0)!=32)break;St=e[b>>2]|0,(St|0)==(e[C>>2]|0)?pr(S,d):(e[St>>2]=fi,e[b>>2]=St+4),e[d>>2]=0,e[j>>2]=0}while(0);ke=ke+1|0,ze=e[g>>2]|0}while(ke>>>0<ze>>>0);Pt=ze}if(At=At+1|0,At>>>0>=Qe>>>0){Nt=87;break e}else Vt=Pt}}Ge=it+1|0,ke=e[v>>2]|0,ut=ke+(Ge*12|0)|0,(ut|0)==(Ue|0)?Gt=ke:($0(ut,e[Ue>>2]|0,e[We+(it*12|0)+4>>2]|0),Gt=e[v>>2]|0),ut=(e[Gt+(Ge*12|0)>>2]|0)+(Ke<<2)|0,ke=(e[ut>>2]|0)+(1<<Ve+-1)|0,e[ut>>2]=ke,ut=e[J>>2]|0,ze=e[F>>2]|0;t:do if((st|0)==(at|0))ci=at;else{if(et=e[Ie>>2]|0,ut)di=st,Ei=at;else{if((e[et+(Ke<<2)>>2]|0)>>>0<ke>>>0){ci=st;break}else mi=st,ji=at;for(;;){St=mi;do{if(St=St+-1|0,(ji|0)==(St|0)){ci=ji;break t}fi=(e[_e>>2]|0)+((_i(St,ze)|0)<<2)+(Ke<<2)|0}while((e[fi>>2]|0)>>>0>=ke>>>0);if(ji=ji+1|0,(ji|0)==(St|0)){ci=St;break t}else mi=St}}for(;;){for(fi=Ei;;){if(ni=et+((_i(fi,ut)|0)<<2)|0,(e[ni+(Ke<<2)>>2]|0)>>>0>=ke>>>0){Ri=di;break}if(ot=fi+1|0,(ot|0)==(di|0)){ci=di;break t}else fi=ot}for(;;){if(Ri=Ri+-1|0,(fi|0)==(Ri|0)){ci=fi;break t}if(Ni=(e[_e>>2]|0)+((_i(Ri,ze)|0)<<2)|0,(e[Ni+(Ke<<2)>>2]|0)>>>0<ke>>>0){ai=0;break}}do St=ni+(ai<<2)|0,ot=Ni+(ai<<2)|0,_t=e[St>>2]|0,e[St>>2]=e[ot>>2],e[ot>>2]=_t,ai=ai+1|0;while((ai|0)!=(ut|0));if(Ei=fi+1|0,(Ei|0)==(Ri|0)){ci=Ri;break}else di=Ri}}while(0);if(ke=(S0(Qe|0)|0)^31,ze=ci-at|0,et=st-ci|0,_t=ze>>>0<et>>>0,(ze|0)!=(et|0)&&(ot=e[K>>2]|0,_t&&(e[re>>2]=e[re>>2]|1<<31-ot),St=ot+1|0,e[K>>2]=St,(St|0)==32&&(St=e[se>>2]|0,(St|0)==(e[fe>>2]|0)?pr(Ee,re):(e[St>>2]=e[re>>2],e[se>>2]=St+4),e[K>>2]=0,e[re>>2]=0)),St=Qe>>>1,_t){if(_t=St-ze|0,ke|0)for(ot=0,xt=1<<ke+-1;zn(r+12+(ot<<5)|0,(xt&_t|0)!=0),ot=ot+1|0,(ot|0)!=(ke|0);)xt=xt>>>1}else if(xt=St-et|0,ke|0)for(ot=0,_t=1<<ke+-1;zn(r+12+(ot<<5)|0,(_t&xt|0)!=0),ot=ot+1|0,(ot|0)!=(ke|0);)_t=_t>>>1;_t=e[N>>2]|0,ke=e[_t+(it*12|0)>>2]|0,ot=ke+(Ke<<2)|0,e[ot>>2]=(e[ot>>2]|0)+1,$0(_t+(Ge*12|0)|0,ke,e[_t+(it*12|0)+4>>2]|0),(ci|0)!=(at|0)&&(_t=e[M>>2]|0,ke=e[X>>2]|0,ot=_t-ke>>2,xt=e[V>>2]|0,St=e[x>>2]|0,(((ot|0)==0?0:(ot*113|0)+-1|0)|0)==(St+xt|0)?(Cs(c),gi=e[V>>2]|0,oi=e[x>>2]|0,ti=e[M>>2]|0,Vi=e[X>>2]|0):(gi=xt,oi=St,ti=_t,Vi=ke),ke=oi+gi|0,(ti|0)==(Vi|0)?Ji=0:Ji=(e[Vi+(((ke>>>0)/113|0)<<2)>>2]|0)+(((ke>>>0)%113|0)*36|0)|0,e[Ji>>2]=at,ke=Ji+4|0,e[ke>>2]=L,e[ke+4>>2]=U,e[Ji+12>>2]=ci,e[Ji+16>>2]=m,e[Ji+20>>2]=ut,e[Ji+24>>2]=Ke,e[Ji+28>>2]=ze,e[Ji+32>>2]=it,e[x>>2]=(e[x>>2]|0)+1),(st|0)!=(ci|0)?(ke=e[M>>2]|0,_t=e[X>>2]|0,St=ke-_t>>2,xt=e[V>>2]|0,ot=e[x>>2]|0,(((St|0)==0?0:(St*113|0)+-1|0)|0)==(ot+xt|0)?(Cs(c),Wi=e[V>>2]|0,Hi=e[x>>2]|0,Pi=e[M>>2]|0,wi=e[X>>2]|0):(Wi=xt,Hi=ot,Pi=ke,wi=_t),_t=Hi+Wi|0,(Pi|0)==(wi|0)?ki=0:ki=(e[wi+(((_t>>>0)/113|0)<<2)>>2]|0)+(((_t>>>0)%113|0)*36|0)|0,e[ki>>2]=ci,e[ki+4>>2]=m,e[ki+8>>2]=ut,e[ki+12>>2]=st,_t=ki+16|0,e[_t>>2]=I,e[_t+4>>2]=D,e[ki+24>>2]=Ke,e[ki+28>>2]=et,e[ki+32>>2]=Ge,_t=(e[x>>2]|0)+1|0,e[x>>2]=_t,Bi=_t):Nt=87}else Nt=87;while(0);if((Nt|0)==87&&(Nt=0,Bi=e[x>>2]|0),Bi)Ce=Bi;else break}Bi=e[X>>2]|0,Ce=e[V>>2]|0,ki=Bi+(((Ce>>>0)/113|0)<<2)|0,D=e[M>>2]|0,I=D,m=Bi,(D|0)==(Bi|0)?(er=0,lr=0):(ci=(e[ki>>2]|0)+(((Ce>>>0)%113|0)*36|0)|0,er=ci,lr=ci),ci=ki,ki=lr;e:for(;;){lr=ki;do{if(Ce=lr,(er|0)==(Ce|0))break e;lr=Ce+36|0}while((lr-(e[ci>>2]|0)|0)!=4068);lr=ci+4|0,ci=lr,ki=e[lr>>2]|0}if(e[x>>2]=0,x=I-m>>2,x>>>0>2){m=Bi;do ve(e[m>>2]|0),m=(e[X>>2]|0)+4|0,e[X>>2]=m,Ii=e[M>>2]|0,hr=Ii-m>>2;while(hr>>>0>2);tr=hr,Xr=m,nn=Ii}else tr=x,Xr=Bi,nn=D;switch(tr|0){case 1:{mn=56,Nt=101;break}case 2:{mn=113,Nt=101;break}}if((Nt|0)==101&&(e[V>>2]=mn),(Xr|0)!=(nn|0)){mn=Xr;do ve(e[mn>>2]|0),mn=mn+4|0;while((mn|0)!=(nn|0));nn=e[X>>2]|0,X=e[M>>2]|0,(X|0)!=(nn|0)&&(e[M>>2]=X+(~((X+-4-nn|0)>>>2)<<2))}if(nn=e[c>>2]|0,!nn){q=a;return}ve(nn),q=a}function tL(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0,Gt=0,ci=0,mi=0,ji=0,di=0,Ei=0,ni=0,Ri=0,Ni=0,ai=0,gi=0,oi=0,ti=0,Vi=0,Ji=0,Wi=0,Hi=0,Pi=0,wi=0,ki=0,Bi=0,er=0,lr=0,Ii=0,hr=0;o=q,q=q+1424|0,a=o+1408|0,f=o+1396|0,h=o+1420|0,c=o+1200|0,g=o+12|0,d=o,m=o+1384|0,b=o+1372|0,v=o+1360|0,x=o+1348|0,C=o+1336|0,S=o+1324|0,M=o+1312|0,I=o+1300|0,D=o+1288|0,L=o+1276|0,N=o+1264|0,X=o+1252|0,V=o+1240|0,Q=o+1228|0,U=r+28|0,j=10-(ol(e[(e[U>>2]|0)+48>>2]|0)|0)|0,$=(j|0)<6?j:6,Z[h>>0]=$,($&255|0)==6&&(e[r+72>>2]|0)>15&&(Z[h>>0]=5),$=n+16|0,j=e[$+4>>2]|0,(j|0)>0|(j|0)==0&(e[$>>2]|0)>>>0>0||(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+1|0)|0),$=e[U>>2]|0,j=e[(e[$+4>>2]|0)+80>>2]|0,J=r+72|0,F=e[J>>2]|0,e[c>>2]=j,K=c+4|0,e[K>>2]=F,e[c+8>>2]=F<<2,re=c+12|0,se=_i(F,j)|0,e[re>>2]=0,fe=c+16|0,e[fe>>2]=0,e[c+20>>2]=0;do if(se)if(se>>>0>1073741823)Je();else{Ee=se<<2,Ne=Dt(Ee)|0,e[re>>2]=Ne,me=Ne+(se<<2)|0,e[c+20>>2]=me,Mi(Ne|0,0,Ee|0)|0,e[fe>>2]=me,Ie=Ne;break}else Ie=0;while(0);se=c+24|0,e[se>>2]=Ie,re=r+4|0,Ne=r+8|0,me=e[re>>2]|0;e:do if((e[Ne>>2]|0)!=(me|0)){Ee=g+4|0,_e=g+8|0,Ce=g+8|0,We=(j|0)==0,at=g+4|0,Ke=g+8|0,Ve=d+4|0,Ue=d+8|0,st=d+8|0,Qe=r+48|0,it=g+8|0,ze=r+60|0,Ge=0,ke=0,ut=0,et=0,ot=me,Rt=$;t:for(;;){switch(Nt=e[(e[(e[Rt+4>>2]|0)+8>>2]|0)+(e[ot+(et<<2)>>2]<<2)>>2]|0,e[Nt+28>>2]|0){case 1:case 3:case 5:case 2:case 4:case 6:{At=Nt,Vt=ke;break}case 9:{At=e[(e[ze>>2]|0)+(ke<<2)>>2]|0,Vt=ke+1|0;break}default:{Pt=0;break e}}if(!At){Pt=0;break e}i:do switch(e[At+28>>2]|0){case 6:{if(We){xt=ut,_t=At+24|0;break i}Nt=At+84|0,St=At+68|0,fi=At+48|0,Gt=At+40|0,ci=At+24|0,mi=0;do Z[Nt>>0]|0?ji=mi:ji=e[(e[St>>2]|0)+(mi<<2)>>2]|0,di=fi,Ei=e[di>>2]|0,ni=e[di+4>>2]|0,di=Gt,Ri=zi(e[di>>2]|0,e[di+4>>2]|0,ji|0,0)|0,di=Wt(Ri|0,Xe|0,Ei|0,ni|0)|0,Fr((e[se>>2]|0)+((_i(e[K>>2]|0,mi)|0)<<2)+(Ge<<2)|0,(e[e[At>>2]>>2]|0)+di|0,Z[ci>>0]<<2|0)|0,mi=mi+1|0;while((mi|0)!=(j|0));xt=ut,_t=ci;break}case 1:case 3:case 5:{if(ci=At+24|0,mi=Z[ci>>0]|0,Gt=mi<<24>>24,e[g>>2]=0,e[at>>2]=0,e[Ke>>2]=0,!(mi<<24>>24))Ni=0;else{if(mi<<24>>24<0){ai=24;break t}mi=Gt<<2,fi=Dt(mi)|0,e[g>>2]=fi,St=fi+(Gt<<2)|0,e[it>>2]=St,Mi(fi|0,0,mi|0)|0,e[at>>2]=St,Ni=Z[ci>>0]|0}if(St=Ni<<24>>24,e[d>>2]=0,e[Ve>>2]=0,e[Ue>>2]=0,!(Ni<<24>>24))gi=0,oi=0;else{if(Ni<<24>>24<0){ai=30;break t}mi=St<<2,fi=Dt(mi)|0,e[d>>2]=fi,Gt=fi+(St<<2)|0,e[st>>2]=Gt,Mi(fi|0,0,mi|0)|0,e[Ve>>2]=Gt,gi=fi,oi=fi}if(We)ti=oi,Vi=gi;else{fi=At+84|0,Gt=At+68|0,mi=0;do{if(Z[fi>>0]|0?Ji=mi:Ji=e[(e[Gt>>2]|0)+(mi<<2)>>2]|0,St=e[g>>2]|0,e[f>>2]=Ji,Nt=Z[ci>>0]|0,e[a>>2]=e[f>>2],mx(At,a,Nt,St)|0,St=Z[ci>>0]|0,Nt=St<<24>>24,St<<24>>24>0){St=e[g>>2]|0,di=e[Qe>>2]|0,ni=e[d>>2]|0,Ei=0;do e[ni+(Ei<<2)>>2]=(e[St+(Ei<<2)>>2]|0)-(e[di+(Ei+ut<<2)>>2]|0),Ei=Ei+1|0;while((Ei|0)<(Nt|0));Wi=ni}else Wi=e[d>>2]|0;Fr((e[se>>2]|0)+((_i(e[K>>2]|0,mi)|0)<<2)+(Ge<<2)|0,Wi|0,Nt<<2|0)|0,mi=mi+1|0}while(mi>>>0<j>>>0);mi=e[d>>2]|0,ti=mi,Vi=mi}mi=ut+(Z[ci>>0]|0)|0,ti|0&&(Gt=e[Ve>>2]|0,(Gt|0)!=(ti|0)&&(e[Ve>>2]=Gt+(~((Gt+-4-ti|0)>>>2)<<2)),ve(Vi)),Gt=e[g>>2]|0,Gt|0&&(fi=e[at>>2]|0,(fi|0)!=(Gt|0)&&(e[at>>2]=fi+(~((fi+-4-Gt|0)>>>2)<<2)),ve(Gt)),xt=mi,_t=ci;break}default:{if(mi=At+24|0,Gt=Z[mi>>0]|0,fi=Gt<<24>>24,e[g>>2]=0,e[Ee>>2]=0,e[_e>>2]=0,!(Gt<<24>>24))Hi=0,Pi=0;else{if(Gt<<24>>24<0){ai=53;break t}Gt=fi<<2,ni=Dt(Gt)|0,e[g>>2]=ni,Ei=ni+(fi<<2)|0,e[Ce>>2]=Ei,Mi(ni|0,0,Gt|0)|0,e[Ee>>2]=Ei,Hi=ni,Pi=ni}if(We)wi=Pi,ki=Hi;else{ni=At+84|0,Ei=At+68|0,Gt=0;do Z[ni>>0]|0?Bi=Gt:Bi=e[(e[Ei>>2]|0)+(Gt<<2)>>2]|0,fi=e[g>>2]|0,e[f>>2]=Bi,di=Z[mi>>0]|0,e[a>>2]=e[f>>2],lL(At,a,di,fi)|0,Fr((e[se>>2]|0)+((_i(e[K>>2]|0,Gt)|0)<<2)+(Ge<<2)|0,e[g>>2]|0,Z[mi>>0]<<2|0)|0,Gt=Gt+1|0;while(Gt>>>0<j>>>0);Gt=e[g>>2]|0,wi=Gt,ki=Gt}wi|0&&(Gt=e[Ee>>2]|0,(Gt|0)!=(wi|0)&&(e[Ee>>2]=Gt+(~((Gt+-4-wi|0)>>>2)<<2)),ve(ki)),xt=ut,_t=mi}}while(0);if(Gt=et+1|0,Ei=e[re>>2]|0,Gt>>>0>=(e[Ne>>2]|0)-Ei>>2>>>0){ai=66;break}Ge=Ge+(Z[_t>>0]|0)|0,ke=Vt,ut=xt,et=Gt,ot=Ei,Rt=e[U>>2]|0}if((ai|0)==24)Je();else if((ai|0)==30)Je();else if((ai|0)==53)Je();else if((ai|0)==66){er=e[J>>2]|0,lr=e[se>>2]|0,ai=67;break}}else er=F,lr=Ie,ai=67;while(0);e:do if((ai|0)==67){if(Ie=_i(er,j)|0,(Ie|0)>0)for(F=0,se=0;;)if(J=e[lr+(F<<2)>>2]|0,J?(U=(S0(J|0)|0)^31,Ii=(U|0)<(se|0)?se:U+1|0):Ii=se,F=F+1|0,(F|0)>=(Ie|0)){hr=Ii;break}else se=Ii;else hr=0;switch(Z[h>>0]|0){case 6:{if(Hu(g,er),e[m>>2]=0,e[m+4>>2]=c,se=e[K>>2]|0,e[m+8>>2]=se,e[b>>2]=e[c>>2],e[b+4>>2]=c,e[b+8>>2]=se,e[d>>2]=hr,e[f>>2]=e[m>>2],e[f+4>>2]=e[m+4>>2],e[f+8>>2]=e[m+8>>2],e[a>>2]=e[b>>2],e[a+4>>2]=e[b+4>>2],e[a+8>>2]=e[b+8>>2],se=Pc(g,f,a,d,n)|0,am(g),!se){Pt=0;break e}break}case 5:{if(Hu(g,er),e[v>>2]=0,e[v+4>>2]=c,se=e[K>>2]|0,e[v+8>>2]=se,e[x>>2]=e[c>>2],e[x+4>>2]=c,e[x+8>>2]=se,e[d>>2]=hr,e[f>>2]=e[v>>2],e[f+4>>2]=e[v+4>>2],e[f+8>>2]=e[v+8>>2],e[a>>2]=e[x>>2],e[a+4>>2]=e[x+4>>2],e[a+8>>2]=e[x+8>>2],se=gm(g,f,a,d,n)|0,am(g),!se){Pt=0;break e}break}case 4:{if(Hu(g,er),e[C>>2]=0,e[C+4>>2]=c,se=e[K>>2]|0,e[C+8>>2]=se,e[S>>2]=e[c>>2],e[S+4>>2]=c,e[S+8>>2]=se,e[d>>2]=hr,e[f>>2]=e[C>>2],e[f+4>>2]=e[C+4>>2],e[f+8>>2]=e[C+8>>2],e[a>>2]=e[S>>2],e[a+4>>2]=e[S+4>>2],e[a+8>>2]=e[S+8>>2],se=gm(g,f,a,d,n)|0,am(g),!se){Pt=0;break e}break}case 3:{if(hm(g,er),e[M>>2]=0,e[M+4>>2]=c,se=e[K>>2]|0,e[M+8>>2]=se,e[I>>2]=e[c>>2],e[I+4>>2]=c,e[I+8>>2]=se,e[d>>2]=hr,e[f>>2]=e[M>>2],e[f+4>>2]=e[M+4>>2],e[f+8>>2]=e[M+8>>2],e[a>>2]=e[I>>2],e[a+4>>2]=e[I+4>>2],e[a+8>>2]=e[I+8>>2],se=Y0(g,f,a,d,n)|0,pm(g),!se){Pt=0;break e}break}case 2:{if(hm(g,er),e[D>>2]=0,e[D+4>>2]=c,se=e[K>>2]|0,e[D+8>>2]=se,e[L>>2]=e[c>>2],e[L+4>>2]=c,e[L+8>>2]=se,e[d>>2]=hr,e[f>>2]=e[D>>2],e[f+4>>2]=e[D+4>>2],e[f+8>>2]=e[D+8>>2],e[a>>2]=e[L>>2],e[a+4>>2]=e[L+4>>2],e[a+8>>2]=e[L+8>>2],se=Y0(g,f,a,d,n)|0,pm(g),!se){Pt=0;break e}break}case 1:{if(yy(g,er),e[N>>2]=0,e[N+4>>2]=c,se=e[K>>2]|0,e[N+8>>2]=se,e[X>>2]=e[c>>2],e[X+4>>2]=c,e[X+8>>2]=se,e[d>>2]=hr,e[f>>2]=e[N>>2],e[f+4>>2]=e[N+4>>2],e[f+8>>2]=e[N+8>>2],e[a>>2]=e[X>>2],e[a+4>>2]=e[X+4>>2],e[a+8>>2]=e[X+8>>2],se=ky(g,f,a,d,n)|0,Ay(g),!se){Pt=0;break e}break}case 0:{if(yy(g,er),e[V>>2]=0,e[V+4>>2]=c,se=e[K>>2]|0,e[V+8>>2]=se,e[Q>>2]=e[c>>2],e[Q+4>>2]=c,e[Q+8>>2]=se,e[d>>2]=hr,e[f>>2]=e[V>>2],e[f+4>>2]=e[V+4>>2],e[f+8>>2]=e[V+8>>2],e[a>>2]=e[Q>>2],e[a+4>>2]=e[Q+4>>2],e[a+8>>2]=e[Q+8>>2],se=ky(g,f,a,d,n)|0,Ay(g),!se){Pt=0;break e}break}default:{Pt=0;break e}}Pt=1}while(0);return g=e[c+12>>2]|0,g?(c=e[fe>>2]|0,(c|0)!=(g|0)&&(e[fe>>2]=c+(~((c+-4-g|0)>>>2)<<2)),ve(g),q=o,Pt|0):(q=o,Pt|0)}function iL(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0;if(o=q,q=q+80|0,a=o+56|0,f=o+52|0,h=o+48|0,c=o+68|0,g=o,d=o+44|0,m=o+40|0,b=o+36|0,v=o+32|0,x=o+28|0,C=o+24|0,S=o+20|0,M=o+16|0,I=o+12|0,Z[n+352>>0]|0?(g_(a,e[n+8>>2]|0),N=n+12|0,L=e[a>>2]|0,e[a>>2]=0,D=e[N>>2]|0,e[N>>2]=L,D?(uf(D),ve(D),D=e[a>>2]|0,e[a>>2]=0,D|0&&(uf(D),ve(D))):e[a>>2]=0):(cm(a,e[n+8>>2]|0),D=n+12|0,L=e[a>>2]|0,e[a>>2]=0,N=e[D>>2]|0,e[D>>2]=L,N?(uf(N),ve(N),N=e[a>>2]|0,e[a>>2]=0,N|0&&(uf(N),ve(N))):e[a>>2]=0),D=n+12|0,L=e[D>>2]|0,L|0&&(((e[L+4>>2]|0)-(e[L>>2]|0)>>2>>>0)/3|0|0)!=(e[L+40>>2]|0)){if(L=n+200|0,id(L,n)|0,N=e[D>>2]|0,X=n+4|0,p0(((e[N+28>>2]|0)-(e[N+24>>2]|0)>>2)-(e[N+44>>2]|0)|0,e[(e[X>>2]|0)+44>>2]|0)|0,N=e[D>>2]|0,p0((((e[N+4>>2]|0)-(e[N>>2]|0)>>2>>>0)/3|0)-(e[N+40>>2]|0)|0,e[(e[X>>2]|0)+44>>2]|0)|0,N=n+28|0,V=n+8|0,Q=e[V>>2]|0,U=((e[Q+100>>2]|0)-(e[Q+96>>2]|0)|0)/12|0,Z[a>>0]=0,po(N,U,a),U=e[D>>2]|0,Q=(e[U+28>>2]|0)-(e[U+24>>2]|0)>>2,e[a>>2]=-1,pe(n+52|0,Q,a),Q=n+40|0,U=e[Q>>2]|0,j=n+44|0,$=e[j>>2]|0,($|0)!=(U|0)&&(e[j>>2]=$+(~(($+-4-U|0)>>>2)<<2)),U=e[D>>2]|0,$=(e[U+4>>2]|0)-(e[U>>2]|0)>>2,al(Q,$-(($>>>0)%3|0)|0),$=n+84|0,Q=e[D>>2]|0,U=(e[Q+28>>2]|0)-(e[Q+24>>2]|0)>>2,Z[a>>0]=0,po($,U,a),U=n+96|0,Q=e[U>>2]|0,j=n+100|0,J=e[j>>2]|0,(J|0)!=(Q|0)&&(e[j>>2]=J+(~((J+-4-Q|0)>>>2)<<2)),e[n+164>>2]=-1,Q=n+168|0,e[Q>>2]=0,J=e[n+108>>2]|0,F=n+112|0,K=e[F>>2]|0,(K|0)!=(J|0)&&(e[F>>2]=K+(~(((K+-12-J|0)>>>0)/12|0)*12|0)),J=n+132|0,e[J>>2]|0){if(K=n+128|0,F=e[K>>2]|0,F|0){re=F;do F=re,re=e[re>>2]|0,ve(F);while((re|0)!=0)}if(e[K>>2]=0,K=e[n+124>>2]|0,K|0){re=n+120|0,F=0;do e[(e[re>>2]|0)+(F<<2)>>2]=0,F=F+1|0;while((F|0)!=(K|0))}e[J>>2]=0}if(e[n+144>>2]=0,J=e[D>>2]|0,K=(e[J+28>>2]|0)-(e[J+24>>2]|0)>>2,e[a>>2]=-1,pe(n+152|0,K,a),K=n+72|0,J=e[K>>2]|0,F=n+76|0,re=e[F>>2]|0,(re|0)!=(J|0)&&(e[F>>2]=re+(~((re+-4-J|0)>>>2)<<2)),J=e[D>>2]|0,al(K,((e[J+4>>2]|0)-(e[J>>2]|0)>>2>>>0)/3|0),e[n+64>>2]=0,!(py(n)|0)){J=Dt(32)|0,e[a>>2]=J,e[a+8>>2]=-2147483616,e[a+4>>2]=29,se=J,fe=13227,Ee=se+29|0;do Z[se>>0]=Z[fe>>0]|0,se=se+1|0,fe=fe+1|0;while((se|0)<(Ee|0));Z[J+29>>0]=0,e[r>>2]=-1,T0(r+4|0,a),(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0),q=o;return}if(!(PD(n)|0)){J=Dt(48)|0,e[a>>2]=J,e[a+8>>2]=-2147483600,e[a+4>>2]=36,se=J,fe=13257,Ee=se+36|0;do Z[se>>0]=Z[fe>>0]|0,se=se+1|0,fe=fe+1|0;while((se|0)<(Ee|0));Z[J+36>>0]=0,e[r>>2]=-1,T0(r+4|0,a),(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0),q=o;return}J=n+172|0,re=n+176|0,Ne=(((e[re>>2]|0)-(e[J>>2]|0)|0)/136|0)&255,Z[c>>0]=Ne,me=e[(e[X>>2]|0)+44>>2]|0,Ie=me+16|0,_e=e[Ie+4>>2]|0,(_e|0)>0|(_e|0)==0&(e[Ie>>2]|0)>>>0>0?Ce=Ne:(e[f>>2]=e[me+4>>2],e[a>>2]=e[f>>2],vr(me,a,c,c+1|0)|0,Ce=Z[c>>0]|0),e[n+284>>2]=Ce&255,Ce=e[D>>2]|0,c=(e[Ce+4>>2]|0)-(e[Ce>>2]|0)|0,Ce=c>>2,N_(L),e[g>>2]=0,me=g+4|0,e[me>>2]=0,e[g+8>>2]=0;e:do if((c|0)>0){Ne=n+104|0,Ie=g+8|0,_e=0;t:for(;;){if(We=(_e>>>0)/3|0,at=We>>>5,Ke=1<<(We&31),(e[(e[N>>2]|0)+(at<<2)>>2]&Ke|0)==0&&(Ve=e[D>>2]|0,e[d>>2]=We,e[a>>2]=e[d>>2],!(Ly(Ve,a)|0))){e[f>>2]=0,e[m>>2]=We,e[a>>2]=e[m>>2],We=an(n,a,f)|0,zn(L,We),Ve=e[f>>2]|0,Ue=(Ve|0)==-1;do if(We){do if(Ue)st=-1,Qe=-1,it=-1;else{if(ze=e[e[D>>2]>>2]|0,Ge=e[ze+(Ve<<2)>>2]|0,ke=Ve+1|0,ut=((ke>>>0)%3|0|0)==0?Ve+-2|0:ke,(ut|0)==-1?et=-1:et=e[ze+(ut<<2)>>2]|0,ut=(((Ve>>>0)%3|0|0)==0?2:-1)+Ve|0,(ut|0)==-1){st=-1,Qe=et,it=Ge;break}st=e[ze+(ut<<2)>>2]|0,Qe=et,it=Ge}while(0);if(Ge=e[$>>2]|0,ut=Ge+(it>>>5<<2)|0,e[ut>>2]=e[ut>>2]|1<<(it&31),ut=Ge+(Qe>>>5<<2)|0,e[ut>>2]=e[ut>>2]|1<<(Qe&31),ut=Ge+(st>>>5<<2)|0,e[ut>>2]=e[ut>>2]|1<<(st&31),e[a>>2]=1,ut=e[j>>2]|0,ut>>>0<(e[Ne>>2]|0)>>>0?(e[ut>>2]=1,e[j>>2]=ut+4):pr(U,a),ut=(e[N>>2]|0)+(at<<2)|0,e[ut>>2]=e[ut>>2]|Ke,ut=Ve+1|0,Ue?ot=-1:ot=((ut>>>0)%3|0|0)==0?Ve+-2|0:ut,e[a>>2]=ot,Ge=e[me>>2]|0,Ge>>>0<(e[Ie>>2]|0)>>>0?(e[Ge>>2]=ot,e[me>>2]=Ge+4):pr(g,a),Ue||(Ge=((ut>>>0)%3|0|0)==0?Ve+-2|0:ut,(Ge|0)==-1)||(ut=e[(e[(e[D>>2]|0)+12>>2]|0)+(Ge<<2)>>2]|0,Ge=(ut|0)==-1,ze=Ge?-1:(ut>>>0)/3|0,Ge)||e[(e[N>>2]|0)+(ze>>>5<<2)>>2]&1<<(ze&31)|0)break;if(e[b>>2]=ut,e[a>>2]=e[b>>2],!(K_(n,a)|0)){Rt=65;break t}}else if(ut=Ve+1|0,Ue?Nt=-1:Nt=((ut>>>0)%3|0|0)==0?Ve+-2|0:ut,e[v>>2]=Nt,e[a>>2]=e[v>>2],sd(n,a,1)|0,e[x>>2]=e[f>>2],e[a>>2]=e[x>>2],!(K_(n,a)|0)){Rt=71;break t}while(0)}if(_e=_e+1|0,(_e|0)>=(Ce|0)){Rt=77;break e}}if((Rt|0)==65){e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,_e=Dt(48)|0,e[a>>2]=_e,e[a+8>>2]=-2147483600,e[a+4>>2]=32,se=_e,fe=13294,Ee=se+32|0;do Z[se>>0]=Z[fe>>0]|0,se=se+1|0,fe=fe+1|0;while((se|0)<(Ee|0));Z[_e+32>>0]=0,e[r>>2]=-1,T0(r+4|0,a),(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0)}else if((Rt|0)==71){e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,Ie=Dt(48)|0,e[a>>2]=Ie,e[a+8>>2]=-2147483600,e[a+4>>2]=32,se=Ie,fe=13294,Ee=se+32|0;do Z[se>>0]=Z[fe>>0]|0,se=se+1|0,fe=fe+1|0;while((se|0)<(Ee|0));Z[Ie+32>>0]=0,e[r>>2]=-1,T0(r+4|0,a),(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0)}}else Rt=77;while(0);do if((Rt|0)==77){if(Ce=e[K>>2]|0,x=e[F>>2]|0,v=x,(Ce|0)!=(x|0)&&(Nt=x+-4|0,Ce>>>0<Nt>>>0)){x=Ce,Ce=Nt;do Nt=e[x>>2]|0,e[x>>2]=e[Ce>>2],e[Ce>>2]=Nt,x=x+4|0,Ce=Ce+-4|0;while(x>>>0<Ce>>>0)}if(e[C>>2]=v,e[S>>2]=e[g>>2],e[M>>2]=e[me>>2],e[h>>2]=e[C>>2],e[f>>2]=e[S>>2],e[a>>2]=e[M>>2],Rc(K,h,f,a)|0,(e[re>>2]|0)!=(e[J>>2]|0)&&(Ce=e[V>>2]|0,x=((e[Ce+100>>2]|0)-(e[Ce+96>>2]|0)|0)/12|0,Z[a>>0]=0,po(N,x,a),x=e[K>>2]|0,Ce=e[F>>2]|0,(x|0)!=(Ce|0))){Ie=x;do e[I>>2]=e[Ie>>2],e[a>>2]=e[I>>2],Ou(n,a)|0,Ie=Ie+4|0;while((Ie|0)!=(Ce|0))}if(cP(L),p0(e[n+324>>2]|0,e[(e[X>>2]|0)+44>>2]|0)|0,p0(e[Q>>2]|0,e[(e[X>>2]|0)+44>>2]|0)|0,m_(n)|0){Ce=e[(e[X>>2]|0)+44>>2]|0,Ie=e[n+232>>2]|0,v=Ce+16|0,x=e[v+4>>2]|0,(x|0)>0|(x|0)==0&(e[v>>2]|0)>>>0>0||(v=(e[n+236>>2]|0)-Ie|0,e[f>>2]=e[Ce+4>>2],e[a>>2]=e[f>>2],vr(Ce,a,Ie,Ie+v|0)|0),e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0;break}else{e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,v=Dt(32)|0,e[a>>2]=v,e[a+8>>2]=-2147483616,e[a+4>>2]=28,se=v,fe=13327,Ee=se+28|0;do Z[se>>0]=Z[fe>>0]|0,se=se+1|0,fe=fe+1|0;while((se|0)<(Ee|0));Z[v+28>>0]=0,e[r>>2]=-1,T0(r+4|0,a),(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0);break}}while(0);f=e[g>>2]|0,f|0&&(g=e[me>>2]|0,(g|0)!=(f|0)&&(e[me>>2]=g+(~((g+-4-f|0)>>>2)<<2)),ve(f)),q=o;return}f=Dt(32)|0,e[a>>2]=f,e[a+8>>2]=-2147483616,e[a+4>>2]=29,se=f,fe=13197,Ee=se+29|0;do Z[se>>0]=Z[fe>>0]|0,se=se+1|0,fe=fe+1|0;while((se|0)<(Ee|0));Z[f+29>>0]=0,e[r>>2]=-1,T0(r+4|0,a),(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0),q=o}function rL(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0,Gt=0,ci=0,mi=0,ji=0,di=0,Ei=0,ni=0,Ri=0,Ni=0,ai=0,gi=0,oi=0,ti=0,Vi=0,Ji=0,Wi=0,Hi=0,Pi=0,wi=0,ki=0,Bi=0,er=0,lr=0,Ii=0,hr=0;a=q,q=q+32|0,f=a,h=r+8|0,c=e[h>>2]|0,e[f>>2]=0,g=f+4|0,e[g>>2]=0,e[f+8>>2]=0;do if(c)if(c>>>0>1073741823)Je();else{d=c<<2,m=Dt(d)|0,e[f>>2]=m,b=m+(c<<2)|0,e[f+8>>2]=b,Mi(m|0,0,d|0)|0,e[g>>2]=b,v=b,x=m;break}else v=0,x=0;while(0);m=r+1164|0,b=e[m>>2]|0,d=e[b>>2]|0,C=b+4|0,d?(c=e[C>>2]|0,(c|0)!=(d|0)&&(e[C>>2]=c+(~((c+-4-d|0)>>>2)<<2)),ve(d),d=b+8|0,e[d>>2]=0,e[C>>2]=0,e[b>>2]=0,S=d,M=e[f>>2]|0,I=e[g>>2]|0,D=e[h>>2]|0):(S=b+8|0,M=x,I=v,D=c),e[b>>2]=M,e[C>>2]=I,e[S>>2]=e[f+8>>2],e[f>>2]=0,S=f+4|0,e[S>>2]=0,e[f+8>>2]=0;do if(D)if(D>>>0>1073741823)Je();else{I=D<<2,C=Dt(I)|0,e[f>>2]=C,M=C+(D<<2)|0,e[f+8>>2]=M,Mi(C|0,0,I|0)|0,e[S>>2]=M,L=M,N=C;break}else L=0,N=0;while(0);if(D=r+1176|0,C=e[D>>2]|0,M=e[C>>2]|0,I=C+4|0,M?(L=e[I>>2]|0,(L|0)!=(M|0)&&(e[I>>2]=L+(~((L+-4-M|0)>>>2)<<2)),ve(M),M=C+8|0,e[M>>2]=0,e[I>>2]=0,e[C>>2]=0,X=M,V=e[f>>2]|0,Q=e[S>>2]|0):(X=C+8|0,V=N,Q=L),e[C>>2]=V,e[I>>2]=Q,e[X>>2]=e[f+8>>2],X=e[n>>2]|0,Q=n+4|0,I=e[Q>>2]|0,V=e[Q+4>>2]|0,Q=e[o>>2]|0,C=o+4|0,S=e[C>>2]|0,M=e[C+4>>2]|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[f+16>>2]=0,e[f+20>>2]=0,C=f+8|0,L=f+4|0,N=f+16|0,b=f+20|0,g=I,Cs(f),d=e[L>>2]|0,c=(e[b>>2]|0)+(e[N>>2]|0)|0,(e[C>>2]|0)==(d|0)?U=0:U=(e[d+(((c>>>0)/113|0)<<2)>>2]|0)+(((c>>>0)%113|0)*36|0)|0,e[U>>2]=X,c=U+4|0,e[c>>2]=I,e[c+4>>2]=V,e[U+12>>2]=Q,c=U+16|0,e[c>>2]=S,e[c+4>>2]=M,e[U+24>>2]=0,e[U+28>>2]=Q-X,e[U+32>>2]=0,U=(e[b>>2]|0)+1|0,e[b>>2]=U,U|0)for(X=r+1152|0,Q=r+1084|0,c=r+1080|0,d=r+1072|0,v=r+1076|0,x=r+1068|0,j=n+8|0,$=o+8|0,J=r+1124|0,F=r+1120|0,K=r+1112|0,re=r+1116|0,se=r+1108|0,fe=g+4|0,Ee=g+24|0,Ne=g+24|0,me=S+24|0,Ie=U;;){U=e[N>>2]|0,_e=Ie+-1|0,Ce=_e+U|0,We=e[L>>2]|0,at=e[We+(((Ce>>>0)/113|0)<<2)>>2]|0,Ke=(Ce>>>0)%113|0,Ce=e[at+(Ke*36|0)>>2]|0,Ve=e[at+(Ke*36|0)+12>>2]|0,Ue=e[at+(Ke*36|0)+24>>2]|0,st=e[at+(Ke*36|0)+32>>2]|0,e[b>>2]=_e,_e=e[C>>2]|0,Ke=_e-We>>2,(1-Ie-U+((Ke|0)==0?0:(Ke*113|0)+-1|0)|0)>>>0>225&&(ve(e[_e+-4>>2]|0),e[C>>2]=(e[C>>2]|0)+-4),e[n>>2]=Ce,e[o>>2]=Ve,_e=e[m>>2]|0,Ke=((e[h>>2]|0)+-1|0)==(Ue|0)?0:Ue+1|0,Ue=(e[D>>2]|0)+(st*12|0)|0,U=Ve-Ce|0,We=(e[r>>2]|0)-(e[(e[Ue>>2]|0)+(Ke<<2)>>2]|0)|0;e:do if(We){if(U>>>0<3){if(at=e[X>>2]|0,e[at>>2]=Ke,Qe=e[h>>2]|0,Qe>>>0>1)for(it=1,ze=Qe,Ge=Ke;;)if(Ge=(Ge|0)==(ze+-1|0)?0:Ge+1|0,e[at+(it<<2)>>2]=Ge,it=it+1|0,ke=e[h>>2]|0,it>>>0>=ke>>>0){ut=ke;break}else ze=ke;else ut=Qe;if(U)ot=0,Rt=ut;else{et=85;break}for(;;){if(ze=(e[Ee>>2]|0)+((_i(e[fe>>2]|0,Ce+ot|0)|0)<<2)|0,!Rt)Nt=0;else{it=0;do{Ge=e[(e[X>>2]|0)+(it<<2)>>2]|0,at=(e[r>>2]|0)-(e[(e[Ue>>2]|0)+(Ge<<2)>>2]|0)|0;do if(at|0){if(ke=e[Q>>2]|0,At=32-ke|0,Vt=32-at|0,Pt=e[ze+(Ge<<2)>>2]<<Vt,(at|0)>(At|0)){xt=Pt>>>Vt,Vt=at-At|0,e[Q>>2]=Vt,At=e[c>>2]|xt>>>Vt,e[c>>2]=At,Vt=e[d>>2]|0,(Vt|0)==(e[v>>2]|0)?pr(x,c):(e[Vt>>2]=At,e[d>>2]=Vt+4),e[c>>2]=xt<<32-(e[Q>>2]|0);break}if(xt=e[c>>2]|Pt>>>ke,e[c>>2]=xt,Pt=ke+at|0,e[Q>>2]=Pt,(Pt|0)!=32)break;Pt=e[d>>2]|0,(Pt|0)==(e[v>>2]|0)?pr(x,c):(e[Pt>>2]=xt,e[d>>2]=Pt+4),e[c>>2]=0,e[Q>>2]=0}while(0);it=it+1|0,at=e[h>>2]|0}while(it>>>0<at>>>0);Nt=at}if(ot=ot+1|0,ot>>>0>=U>>>0){et=85;break e}else Rt=Nt}}Qe=st+1|0,$0(_e+(Qe*12|0)|0,e[_e+(st*12|0)>>2]|0,e[_e+(st*12|0)+4>>2]|0),it=(e[(e[m>>2]|0)+(Qe*12|0)>>2]|0)+(Ke<<2)|0,ze=(e[it>>2]|0)+(1<<We+-1)|0,e[it>>2]=ze,it=e[j>>2]|0,at=e[$>>2]|0;t:do if((Ve|0)==(Ce|0))_t=Ce;else{if(Ge=e[Ne>>2]|0,it)Gt=Ve,ci=Ce;else{if((e[Ge+(Ke<<2)>>2]|0)>>>0<ze>>>0){_t=Ve;break}else St=Ve,fi=Ce;for(;;){Pt=St;do{if(Pt=Pt+-1|0,(fi|0)==(Pt|0)){_t=fi;break t}xt=(e[me>>2]|0)+((_i(Pt,at)|0)<<2)+(Ke<<2)|0}while((e[xt>>2]|0)>>>0>=ze>>>0);if(fi=fi+1|0,(fi|0)==(Pt|0)){_t=Pt;break t}else St=Pt}}for(;;){for(xt=ci;;){if(mi=Ge+((_i(xt,it)|0)<<2)|0,(e[mi+(Ke<<2)>>2]|0)>>>0>=ze>>>0){ji=Gt;break}if(ke=xt+1|0,(ke|0)==(Gt|0)){_t=Gt;break t}else xt=ke}for(;;){if(ji=ji+-1|0,(xt|0)==(ji|0)){_t=xt;break t}if(di=(e[me>>2]|0)+((_i(ji,at)|0)<<2)|0,(e[di+(Ke<<2)>>2]|0)>>>0<ze>>>0){Ei=0;break}}do Pt=mi+(Ei<<2)|0,ke=di+(Ei<<2)|0,Vt=e[Pt>>2]|0,e[Pt>>2]=e[ke>>2],e[ke>>2]=Vt,Ei=Ei+1|0;while((Ei|0)!=(it|0));if(ci=xt+1|0,(ci|0)==(ji|0)){_t=ji;break}else Gt=ji}}while(0);if(ze=(S0(U|0)|0)^31,at=_t-Ce|0,Ge=Ve-_t|0,Vt=at>>>0<Ge>>>0,(at|0)!=(Ge|0)&&(ke=e[J>>2]|0,Vt&&(e[F>>2]=e[F>>2]|1<<31-ke),Pt=ke+1|0,e[J>>2]=Pt,(Pt|0)==32&&(Pt=e[K>>2]|0,(Pt|0)==(e[re>>2]|0)?pr(se,F):(e[Pt>>2]=e[F>>2],e[K>>2]=Pt+4),e[J>>2]=0,e[F>>2]=0)),Pt=U>>>1,Vt){if(Vt=Pt-at|0,ze|0)for(ke=0,At=1<<ze+-1;zn(r+12+(ke<<5)|0,(At&Vt|0)!=0),ke=ke+1|0,(ke|0)!=(ze|0);)At=At>>>1}else if(At=Pt-Ge|0,ze|0)for(ke=0,Vt=1<<ze+-1;zn(r+12+(ke<<5)|0,(Vt&At|0)!=0),ke=ke+1|0,(ke|0)!=(ze|0);)Vt=Vt>>>1;Vt=e[D>>2]|0,ze=e[Vt+(st*12|0)>>2]|0,ke=ze+(Ke<<2)|0,e[ke>>2]=(e[ke>>2]|0)+1,$0(Vt+(Qe*12|0)|0,ze,e[Vt+(st*12|0)+4>>2]|0),(_t|0)!=(Ce|0)&&(Vt=e[C>>2]|0,ze=e[L>>2]|0,ke=Vt-ze>>2,At=e[N>>2]|0,Pt=e[b>>2]|0,(((ke|0)==0?0:(ke*113|0)+-1|0)|0)==(Pt+At|0)?(Cs(f),ni=e[N>>2]|0,Ri=e[b>>2]|0,Ni=e[C>>2]|0,ai=e[L>>2]|0):(ni=At,Ri=Pt,Ni=Vt,ai=ze),ze=Ri+ni|0,(Ni|0)==(ai|0)?gi=0:gi=(e[ai+(((ze>>>0)/113|0)<<2)>>2]|0)+(((ze>>>0)%113|0)*36|0)|0,e[gi>>2]=Ce,ze=gi+4|0,e[ze>>2]=I,e[ze+4>>2]=V,e[gi+12>>2]=_t,e[gi+16>>2]=g,e[gi+20>>2]=it,e[gi+24>>2]=Ke,e[gi+28>>2]=at,e[gi+32>>2]=st,e[b>>2]=(e[b>>2]|0)+1),(Ve|0)!=(_t|0)?(ze=e[C>>2]|0,Vt=e[L>>2]|0,Pt=ze-Vt>>2,At=e[N>>2]|0,ke=e[b>>2]|0,(((Pt|0)==0?0:(Pt*113|0)+-1|0)|0)==(ke+At|0)?(Cs(f),oi=e[N>>2]|0,ti=e[b>>2]|0,Vi=e[C>>2]|0,Ji=e[L>>2]|0):(oi=At,ti=ke,Vi=ze,Ji=Vt),Vt=ti+oi|0,(Vi|0)==(Ji|0)?Wi=0:Wi=(e[Ji+(((Vt>>>0)/113|0)<<2)>>2]|0)+(((Vt>>>0)%113|0)*36|0)|0,e[Wi>>2]=_t,e[Wi+4>>2]=g,e[Wi+8>>2]=it,e[Wi+12>>2]=Ve,Vt=Wi+16|0,e[Vt>>2]=S,e[Vt+4>>2]=M,e[Wi+24>>2]=Ke,e[Wi+28>>2]=Ge,e[Wi+32>>2]=Qe,Vt=(e[b>>2]|0)+1|0,e[b>>2]=Vt,Hi=Vt):et=85}else et=85;while(0);if((et|0)==85&&(et=0,Hi=e[b>>2]|0),Hi)Ie=Hi;else break}Hi=e[L>>2]|0,Ie=e[N>>2]|0,Wi=Hi+(((Ie>>>0)/113|0)<<2)|0,M=e[C>>2]|0,S=M,g=Hi,(M|0)==(Hi|0)?(Pi=0,wi=0):(_t=(e[Wi>>2]|0)+(((Ie>>>0)%113|0)*36|0)|0,Pi=_t,wi=_t),_t=Wi,Wi=wi;e:for(;;){wi=Wi;do{if(Ie=wi,(Pi|0)==(Ie|0))break e;wi=Ie+36|0}while((wi-(e[_t>>2]|0)|0)!=4068);wi=_t+4|0,_t=wi,Wi=e[wi>>2]|0}if(e[b>>2]=0,b=S-g>>2,b>>>0>2){g=Hi;do ve(e[g>>2]|0),g=(e[L>>2]|0)+4|0,e[L>>2]=g,ki=e[C>>2]|0,Bi=ki-g>>2;while(Bi>>>0>2);er=Bi,lr=g,Ii=ki}else er=b,lr=Hi,Ii=M;switch(er|0){case 1:{hr=56,et=99;break}case 2:{hr=113,et=99;break}}if((et|0)==99&&(e[N>>2]=hr),(lr|0)!=(Ii|0)){hr=lr;do ve(e[hr>>2]|0),hr=hr+4|0;while((hr|0)!=(Ii|0));Ii=e[L>>2]|0,L=e[C>>2]|0,(L|0)!=(Ii|0)&&(e[C>>2]=L+(~((L+-4-Ii|0)>>>2)<<2))}if(Ii=e[f>>2]|0,!Ii){q=a;return}ve(Ii),q=a}function nL(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0,Gt=0,ci=0,mi=0,ji=0,di=0,Ei=0,ni=0,Ri=0,Ni=0,ai=0,gi=0,oi=0,ti=0,Vi=0,Ji=0,Wi=0,Hi=0,Pi=0,wi=0,ki=0,Bi=0,er=0,lr=0,Ii=0,hr=0,tr=0;a=q,q=q+32|0,f=a,h=r+8|0,c=e[h>>2]|0,e[f>>2]=0,g=f+4|0,e[g>>2]=0,e[f+8>>2]=0;do if(c)if(c>>>0>1073741823)Je();else{d=c<<2,m=Dt(d)|0,e[f>>2]=m,b=m+(c<<2)|0,e[f+8>>2]=b,Mi(m|0,0,d|0)|0,e[g>>2]=b,v=b,x=m;break}else v=0,x=0;while(0);m=r+140|0,b=e[m>>2]|0,d=e[b>>2]|0,C=b+4|0,d?(c=e[C>>2]|0,(c|0)!=(d|0)&&(e[C>>2]=c+(~((c+-4-d|0)>>>2)<<2)),ve(d),d=b+8|0,e[d>>2]=0,e[C>>2]=0,e[b>>2]=0,S=d,M=e[f>>2]|0,I=e[g>>2]|0,D=e[h>>2]|0):(S=b+8|0,M=x,I=v,D=c),e[b>>2]=M,e[C>>2]=I,e[S>>2]=e[f+8>>2],e[f>>2]=0,S=f+4|0,e[S>>2]=0,e[f+8>>2]=0;do if(D)if(D>>>0>1073741823)Je();else{I=D<<2,C=Dt(I)|0,e[f>>2]=C,M=C+(D<<2)|0,e[f+8>>2]=M,Mi(C|0,0,I|0)|0,e[S>>2]=M,L=M,N=C;break}else L=0,N=0;while(0);if(D=r+152|0,C=e[D>>2]|0,M=e[C>>2]|0,I=C+4|0,M?(L=e[I>>2]|0,(L|0)!=(M|0)&&(e[I>>2]=L+(~((L+-4-M|0)>>>2)<<2)),ve(M),M=C+8|0,e[M>>2]=0,e[I>>2]=0,e[C>>2]=0,X=M,V=e[f>>2]|0,Q=e[S>>2]|0):(X=C+8|0,V=N,Q=L),e[C>>2]=V,e[I>>2]=Q,e[X>>2]=e[f+8>>2],X=e[n>>2]|0,Q=n+4|0,I=e[Q>>2]|0,V=e[Q+4>>2]|0,Q=e[o>>2]|0,C=o+4|0,S=e[C>>2]|0,M=e[C+4>>2]|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,e[f+16>>2]=0,e[f+20>>2]=0,C=f+8|0,L=f+4|0,N=f+16|0,b=f+20|0,g=I,Cs(f),d=e[L>>2]|0,c=(e[b>>2]|0)+(e[N>>2]|0)|0,(e[C>>2]|0)==(d|0)?U=0:U=(e[d+(((c>>>0)/113|0)<<2)>>2]|0)+(((c>>>0)%113|0)*36|0)|0,e[U>>2]=X,c=U+4|0,e[c>>2]=I,e[c+4>>2]=V,e[U+12>>2]=Q,c=U+16|0,e[c>>2]=S,e[c+4>>2]=M,e[U+24>>2]=0,e[U+28>>2]=Q-X,e[U+32>>2]=0,U=(e[b>>2]|0)+1|0,e[b>>2]=U,U|0)for(X=r+128|0,Q=r+60|0,c=r+56|0,d=r+48|0,v=r+52|0,x=r+44|0,j=n+8|0,$=o+8|0,J=r+12|0,F=r+100|0,K=r+96|0,re=r+88|0,se=r+92|0,fe=r+84|0,Ee=g+4|0,Ne=g+24|0,me=g+24|0,Ie=S+24|0,_e=U;;){U=e[N>>2]|0,Ce=_e+-1|0,We=Ce+U|0,at=e[L>>2]|0,Ke=e[at+(((We>>>0)/113|0)<<2)>>2]|0,Ve=(We>>>0)%113|0,We=e[Ke+(Ve*36|0)>>2]|0,Ue=e[Ke+(Ve*36|0)+12>>2]|0,st=e[Ke+(Ve*36|0)+24>>2]|0,Qe=e[Ke+(Ve*36|0)+32>>2]|0,e[b>>2]=Ce,Ce=e[C>>2]|0,Ve=Ce-at>>2,(1-_e-U+((Ve|0)==0?0:(Ve*113|0)+-1|0)|0)>>>0>225&&(ve(e[Ce+-4>>2]|0),e[C>>2]=(e[C>>2]|0)+-4),e[n>>2]=We,e[o>>2]=Ue,Ce=e[m>>2]|0,Ve=((e[h>>2]|0)+-1|0)==(st|0)?0:st+1|0,st=(e[D>>2]|0)+(Qe*12|0)|0,U=Ue-We|0,at=(e[r>>2]|0)-(e[(e[st>>2]|0)+(Ve<<2)>>2]|0)|0;e:do if(at){if(U>>>0<3){if(Ke=e[X>>2]|0,e[Ke>>2]=Ve,it=e[h>>2]|0,it>>>0>1)for(ze=1,Ge=it,ke=Ve;;)if(ke=(ke|0)==(Ge+-1|0)?0:ke+1|0,e[Ke+(ze<<2)>>2]=ke,ze=ze+1|0,ut=e[h>>2]|0,ze>>>0>=ut>>>0){et=ut;break}else Ge=ut;else et=it;if(U)Rt=0,Nt=et;else{ot=81;break}for(;;){if(Ge=(e[Ne>>2]|0)+((_i(e[Ee>>2]|0,We+Rt|0)|0)<<2)|0,!Nt)At=0;else{ze=0;do{ke=e[(e[X>>2]|0)+(ze<<2)>>2]|0,Ke=(e[r>>2]|0)-(e[(e[st>>2]|0)+(ke<<2)>>2]|0)|0;do if(Ke|0){if(ut=e[Q>>2]|0,Vt=32-ut|0,Pt=32-Ke|0,xt=e[Ge+(ke<<2)>>2]<<Pt,(Ke|0)>(Vt|0)){_t=xt>>>Pt,Pt=Ke-Vt|0,e[Q>>2]=Pt,Vt=e[c>>2]|_t>>>Pt,e[c>>2]=Vt,Pt=e[d>>2]|0,(Pt|0)==(e[v>>2]|0)?pr(x,c):(e[Pt>>2]=Vt,e[d>>2]=Pt+4),e[c>>2]=_t<<32-(e[Q>>2]|0);break}if(_t=e[c>>2]|xt>>>ut,e[c>>2]=_t,xt=ut+Ke|0,e[Q>>2]=xt,(xt|0)!=32)break;xt=e[d>>2]|0,(xt|0)==(e[v>>2]|0)?pr(x,c):(e[xt>>2]=_t,e[d>>2]=xt+4),e[c>>2]=0,e[Q>>2]=0}while(0);ze=ze+1|0,Ke=e[h>>2]|0}while(ze>>>0<Ke>>>0);At=Ke}if(Rt=Rt+1|0,Rt>>>0>=U>>>0){ot=81;break e}else Nt=At}}it=Qe+1|0,$0(Ce+(it*12|0)|0,e[Ce+(Qe*12|0)>>2]|0,e[Ce+(Qe*12|0)+4>>2]|0),ze=(e[(e[m>>2]|0)+(it*12|0)>>2]|0)+(Ve<<2)|0,Ge=(e[ze>>2]|0)+(1<<at+-1)|0,e[ze>>2]=Ge,ze=e[j>>2]|0,Ke=e[$>>2]|0;t:do if((Ue|0)==(We|0))St=We;else{if(ke=e[me>>2]|0,ze)ci=Ue,mi=We;else{if((e[ke+(Ve<<2)>>2]|0)>>>0<Ge>>>0){St=Ue;break}else fi=Ue,Gt=We;for(;;){xt=fi;do{if(xt=xt+-1|0,(Gt|0)==(xt|0)){St=Gt;break t}_t=(e[Ie>>2]|0)+((_i(xt,Ke)|0)<<2)+(Ve<<2)|0}while((e[_t>>2]|0)>>>0>=Ge>>>0);if(Gt=Gt+1|0,(Gt|0)==(xt|0)){St=xt;break t}else fi=xt}}for(;;){for(_t=mi;;){if(ji=ke+((_i(_t,ze)|0)<<2)|0,(e[ji+(Ve<<2)>>2]|0)>>>0>=Ge>>>0){di=ci;break}if(ut=_t+1|0,(ut|0)==(ci|0)){St=ci;break t}else _t=ut}for(;;){if(di=di+-1|0,(_t|0)==(di|0)){St=_t;break t}if(Ei=(e[Ie>>2]|0)+((_i(di,Ke)|0)<<2)|0,(e[Ei+(Ve<<2)>>2]|0)>>>0<Ge>>>0){ni=0;break}}do xt=ji+(ni<<2)|0,ut=Ei+(ni<<2)|0,Pt=e[xt>>2]|0,e[xt>>2]=e[ut>>2],e[ut>>2]=Pt,ni=ni+1|0;while((ni|0)!=(ze|0));if(mi=_t+1|0,(mi|0)==(di|0)){St=di;break}else ci=di}}while(0);Ge=(S0(U|0)|0)^31,Ke=St-We|0,ke=Ue-St|0,Pt=Ke>>>0<ke>>>0,(Ke|0)!=(ke|0)&&(ut=e[F>>2]|0,Pt&&(e[K>>2]=e[K>>2]|1<<31-ut),xt=ut+1|0,e[F>>2]=xt,(xt|0)==32&&(xt=e[re>>2]|0,(xt|0)==(e[se>>2]|0)?pr(fe,K):(e[xt>>2]=e[K>>2],e[re>>2]=xt+4),e[F>>2]=0,e[K>>2]=0)),xt=U>>>1,Pt?ur(J,Ge,xt-Ke|0):ur(J,Ge,xt-ke|0),xt=e[D>>2]|0,Ge=e[xt+(Qe*12|0)>>2]|0,Pt=Ge+(Ve<<2)|0,e[Pt>>2]=(e[Pt>>2]|0)+1,$0(xt+(it*12|0)|0,Ge,e[xt+(Qe*12|0)+4>>2]|0),(St|0)!=(We|0)&&(xt=e[C>>2]|0,Ge=e[L>>2]|0,Pt=xt-Ge>>2,ut=e[N>>2]|0,Vt=e[b>>2]|0,(((Pt|0)==0?0:(Pt*113|0)+-1|0)|0)==(Vt+ut|0)?(Cs(f),Ri=e[N>>2]|0,Ni=e[b>>2]|0,ai=e[C>>2]|0,gi=e[L>>2]|0):(Ri=ut,Ni=Vt,ai=xt,gi=Ge),Ge=Ni+Ri|0,(ai|0)==(gi|0)?oi=0:oi=(e[gi+(((Ge>>>0)/113|0)<<2)>>2]|0)+(((Ge>>>0)%113|0)*36|0)|0,e[oi>>2]=We,Ge=oi+4|0,e[Ge>>2]=I,e[Ge+4>>2]=V,e[oi+12>>2]=St,e[oi+16>>2]=g,e[oi+20>>2]=ze,e[oi+24>>2]=Ve,e[oi+28>>2]=Ke,e[oi+32>>2]=Qe,e[b>>2]=(e[b>>2]|0)+1),(Ue|0)!=(St|0)?(Ke=e[C>>2]|0,Ge=e[L>>2]|0,xt=Ke-Ge>>2,Vt=e[N>>2]|0,ut=e[b>>2]|0,(((xt|0)==0?0:(xt*113|0)+-1|0)|0)==(ut+Vt|0)?(Cs(f),ti=e[N>>2]|0,Vi=e[b>>2]|0,Ji=e[C>>2]|0,Wi=e[L>>2]|0):(ti=Vt,Vi=ut,Ji=Ke,Wi=Ge),Ge=Vi+ti|0,(Ji|0)==(Wi|0)?Hi=0:Hi=(e[Wi+(((Ge>>>0)/113|0)<<2)>>2]|0)+(((Ge>>>0)%113|0)*36|0)|0,e[Hi>>2]=St,e[Hi+4>>2]=g,e[Hi+8>>2]=ze,e[Hi+12>>2]=Ue,Ge=Hi+16|0,e[Ge>>2]=S,e[Ge+4>>2]=M,e[Hi+24>>2]=Ve,e[Hi+28>>2]=ke,e[Hi+32>>2]=it,ke=(e[b>>2]|0)+1|0,e[b>>2]=ke,Pi=ke):ot=81}else ot=81;while(0);if((ot|0)==81&&(ot=0,Pi=e[b>>2]|0),Pi)_e=Pi;else break}Pi=e[L>>2]|0,_e=e[N>>2]|0,Hi=Pi+(((_e>>>0)/113|0)<<2)|0,M=e[C>>2]|0,S=M,g=Pi,(M|0)==(Pi|0)?(wi=0,ki=0):(St=(e[Hi>>2]|0)+(((_e>>>0)%113|0)*36|0)|0,wi=St,ki=St),St=Hi,Hi=ki;e:for(;;){ki=Hi;do{if(_e=ki,(wi|0)==(_e|0))break e;ki=_e+36|0}while((ki-(e[St>>2]|0)|0)!=4068);ki=St+4|0,St=ki,Hi=e[ki>>2]|0}if(e[b>>2]=0,b=S-g>>2,b>>>0>2){g=Pi;do ve(e[g>>2]|0),g=(e[L>>2]|0)+4|0,e[L>>2]=g,Bi=e[C>>2]|0,er=Bi-g>>2;while(er>>>0>2);lr=er,Ii=g,hr=Bi}else lr=b,Ii=Pi,hr=M;switch(lr|0){case 1:{tr=56,ot=95;break}case 2:{tr=113,ot=95;break}}if((ot|0)==95&&(e[N>>2]=tr),(Ii|0)!=(hr|0)){tr=Ii;do ve(e[tr>>2]|0),tr=tr+4|0;while((tr|0)!=(hr|0));hr=e[L>>2]|0,L=e[C>>2]|0,(L|0)!=(hr|0)&&(e[C>>2]=L+(~((L+-4-hr|0)>>>2)<<2))}if(hr=e[f>>2]|0,!hr){q=a;return}ve(hr),q=a}function sL(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0,Gt=0,ci=0,mi=0,ji=0,di=0,Ei=0,ni=0,Ri=0,Ni=0,ai=0,gi=0,oi=0,ti=0,Vi=0,Ji=0,Wi=0,Hi=0,Pi=0,wi=0,ki=0,Bi=0,er=0,lr=0,Ii=0,hr=0,tr=0,Xr=0,nn=0,mn=0,R0=0,gn=0,Wn=0,On=0,xn=0,Dr=0,zr=0,Br=0,Qr=0,Ir=0,tn=0,Ur=0,sn=0,Wr=0,Mr=0,Vr=0,Sr=0,Yr=0,cn=0,Hn=0,c0=0,B0=0,n0=0,Ts=0,Q0=0,as=0,_0=0,In=0,O0=0,Dn=0,An=0,J0=0;c=q,q=q+512|0,g=c,d=a+o|0,m=0-d|0,b=r+4|0,v=r+100|0,x=n,n=0;e:for(;;){switch(x|0){case 46:{C=6;break e}case 48:break;default:{S=0,M=x,I=n,D=0,L=0;break e}}if(N=e[b>>2]|0,N>>>0<(e[v>>2]|0)>>>0){e[b>>2]=N+1,x=yi[N>>0]|0,n=1;continue}else{x=io(r)|0,n=1;continue}}if((C|0)==6)if(x=e[b>>2]|0,x>>>0<(e[v>>2]|0)>>>0?(e[b>>2]=x+1,X=yi[x>>0]|0):X=io(r)|0,(X|0)==48)for(x=0,N=0;;)if(V=Wt(x|0,N|0,-1,-1)|0,Q=Xe,U=e[b>>2]|0,U>>>0<(e[v>>2]|0)>>>0?(e[b>>2]=U+1,j=yi[U>>0]|0):j=io(r)|0,(j|0)==48)x=V,N=Q;else{S=1,M=j,I=1,D=V,L=Q;break}else S=1,M=X,I=n,D=0,L=0;e[g>>2]=0,n=M+-48|0,X=(M|0)==46;e:do if(X|n>>>0<10){j=g+496|0,N=0,x=0,Q=0,V=S,U=I,$=M,J=X,F=n,K=D,re=L,se=0,fe=0;t:for(;;){do if(J)if(!V)Ee=N,Ne=x,me=1,Ie=Q,_e=U,Ce=se,We=fe,at=se,Ke=fe;else break t;else{if(Ve=Wt(se|0,fe|0,1,0)|0,Ue=Xe,st=($|0)!=48,(x|0)>=125){if(!st){Ee=N,Ne=x,me=V,Ie=Q,_e=U,Ce=K,We=re,at=Ve,Ke=Ue;break}e[j>>2]=e[j>>2]|1,Ee=N,Ne=x,me=V,Ie=Q,_e=U,Ce=K,We=re,at=Ve,Ke=Ue;break}Qe=g+(x<<2)|0,N?it=$+-48+((e[Qe>>2]|0)*10|0)|0:it=F,e[Qe>>2]=it,Qe=N+1|0,ze=(Qe|0)==9,Ee=ze?0:Qe,Ne=x+(ze&1)|0,me=V,Ie=st?Ve:Q,_e=1,Ce=K,We=re,at=Ve,Ke=Ue}while(0);if(Ue=e[b>>2]|0,Ue>>>0<(e[v>>2]|0)>>>0?(e[b>>2]=Ue+1,Ge=yi[Ue>>0]|0):Ge=io(r)|0,F=Ge+-48|0,J=(Ge|0)==46,J|F>>>0<10)N=Ee,x=Ne,Q=Ie,V=me,U=_e,$=Ge,K=Ce,re=We,se=at,fe=Ke;else{ke=Ee,ut=Ne,et=Ie,ot=me,Rt=Ge,Nt=_e,At=at,Vt=Ce,Pt=Ke,xt=We,C=29;break e}}_t=N,St=x,fi=Q,Gt=se,ci=fe,mi=K,ji=re,di=(U|0)!=0,C=37}else ke=0,ut=0,et=0,ot=S,Rt=M,Nt=I,At=0,Vt=D,Pt=0,xt=L,C=29;while(0);do if((C|0)==29){if(L=(ot|0)==0,D=L?At:Vt,I=L?Pt:xt,L=(Nt|0)!=0,!(L&(Rt|32|0)==101))if((Rt|0)>-1){_t=ke,St=ut,fi=et,Gt=At,ci=Pt,mi=D,ji=I,di=L,C=37;break}else{Ei=ke,ni=ut,Ri=et,Ni=At,ai=Pt,gi=L,oi=D,ti=I,C=39;break}if(L=od(r,h)|0,M=Xe,(L|0)==0&(M|0)==-2147483648){if(!h){dd(r,0),Vi=0;break}e[v>>2]|0?(e[b>>2]=(e[b>>2]|0)+-1,Ji=0,Wi=0):(Ji=0,Wi=0)}else Ji=L,Wi=M;M=Wt(Ji|0,Wi|0,D|0,I|0)|0,Hi=ke,Pi=ut,wi=et,ki=M,Bi=At,er=Xe,lr=Pt,C=41}while(0);(C|0)==37&&(e[v>>2]|0?(e[b>>2]=(e[b>>2]|0)+-1,di?(Hi=_t,Pi=St,wi=fi,ki=mi,Bi=Gt,er=ji,lr=ci,C=41):C=40):(Ei=_t,ni=St,Ri=fi,Ni=Gt,ai=ci,gi=di,oi=mi,ti=ji,C=39)),(C|0)==39&&(gi?(Hi=Ei,Pi=ni,wi=Ri,ki=oi,Bi=Ni,er=ti,lr=ai,C=41):C=40);do if((C|0)==40)ai=fa()|0,e[ai>>2]=22,dd(r,0),Vi=0;else if((C|0)==41){if(ai=e[g>>2]|0,!ai){Vi=+(f|0)*0;break}if(((lr|0)<0|(lr|0)==0&Bi>>>0<10)&((ki|0)==(Bi|0)&(er|0)==(lr|0))&&(o|0)>30|(ai>>>o|0)==0){Vi=+(f|0)*+(ai>>>0);break}if(ai=(a|0)/-2|0,ti=((ai|0)<0)<<31>>31,(er|0)>(ti|0)|(er|0)==(ti|0)&ki>>>0>ai>>>0){ai=fa()|0,e[ai>>2]=34,Vi=+(f|0)*17976931348623157e292*17976931348623157e292;break}if(ai=a+-106|0,ti=((ai|0)<0)<<31>>31,(er|0)<(ti|0)|(er|0)==(ti|0)&ki>>>0<ai>>>0){ai=fa()|0,e[ai>>2]=34,Vi=+(f|0)*22250738585072014e-324*22250738585072014e-324;break}if(!Hi)Ii=Pi;else{if((Hi|0)<9){for(ai=g+(Pi<<2)|0,ti=Hi,Ni=e[ai>>2]|0;Ni=Ni*10|0,!((ti|0)>=8);)ti=ti+1|0;e[ai>>2]=Ni}Ii=Pi+1|0}if((wi|0)<9&&(wi|0)<=(ki|0)&(ki|0)<18){if((ki|0)==9){Vi=+(f|0)*+((e[g>>2]|0)>>>0);break}if((ki|0)<9){Vi=+(f|0)*+((e[g>>2]|0)>>>0)/+(e[6408+(8-ki<<2)>>2]|0);break}if(ti=o+27+(_i(ki,-3)|0)|0,U=e[g>>2]|0,(ti|0)>30|(U>>>ti|0)==0){Vi=+(f|0)*+(U>>>0)*+(e[6408+(ki+-10<<2)>>2]|0);break}}if(U=(ki|0)%9|0,!U)hr=0,tr=Ii,Xr=0,nn=ki;else{if(ti=(ki|0)>-1?U:U+9|0,U=e[6408+(8-ti<<2)>>2]|0,Ii){re=1e9/(U|0)|0,K=0,fe=0,se=ki,Q=0;do x=g+(Q<<2)|0,N=e[x>>2]|0,oi=((N>>>0)/(U>>>0)|0)+K|0,e[x>>2]=oi,K=_i(re,(N>>>0)%(U>>>0)|0)|0,N=(Q|0)==(fe|0)&(oi|0)==0,se=N?se+-9|0:se,fe=N?fe+1&127:fe,Q=Q+1|0;while((Q|0)!=(Ii|0));K?(e[g+(Ii<<2)>>2]=K,mn=fe,R0=Ii+1|0,gn=se):(mn=fe,R0=Ii,gn=se)}else mn=0,R0=0,gn=ki;hr=0,tr=R0,Xr=mn,nn=9-ti+gn|0}e:for(;;){for(Q=(nn|0)<18,U=(nn|0)==18,re=g+(Xr<<2)|0,Ni=hr,ai=tr;;){if(!Q){if(!U){Wn=Ni,On=Xr,xn=nn,Dr=ai;break e}if((e[re>>2]|0)>>>0>=9007199){Wn=Ni,On=Xr,xn=18,Dr=ai;break e}}for(N=0,zr=ai,oi=ai+127|0;x=oi&127,Ri=g+(x<<2)|0,ni=$n(e[Ri>>2]|0,0,29)|0,Ei=Wt(ni|0,Xe|0,N|0,0)|0,ni=Xe,ni>>>0>0|(ni|0)==0&Ei>>>0>1e9?(gi=z2(Ei|0,ni|0,1e9,0)|0,ji=Jy(Ei|0,ni|0,1e9,0)|0,Br=gi,Qr=ji):(Br=0,Qr=Ei),e[Ri>>2]=Qr,Ri=(x|0)==(Xr|0),zr=(Qr|0)==0&(((x|0)!=(zr+127&127|0)|Ri)^1)?x:zr,!Ri;)N=Br,oi=x+-1|0;if(Ni=Ni+-29|0,Br|0)break;ai=zr}ai=Xr+127&127,re=zr+127&127,U=g+((zr+126&127)<<2)|0,(ai|0)==(zr|0)?(e[U>>2]=e[U>>2]|e[g+(re<<2)>>2],Ir=re):Ir=zr,e[g+(ai<<2)>>2]=Br,hr=Ni,tr=Ir,Xr=ai,nn=nn+9|0}e:for(;;){for(ti=Dr+1&127,se=g+((Dr+127&127)<<2)|0,fe=Wn,K=On,ai=xn;;){for(re=(ai|0)==18,U=(ai|0)>27?9:1,tn=fe,Ur=K;;){for(Q=0;;){if(oi=Q+Ur&127,(oi|0)==(Dr|0)){sn=2,C=88;break}if(N=e[g+(oi<<2)>>2]|0,oi=e[6440+(Q<<2)>>2]|0,N>>>0<oi>>>0){sn=2,C=88;break}if(N>>>0>oi>>>0)break;if(oi=Q+1|0,(Q|0)<1)Q=oi;else{sn=oi,C=88;break}}if((C|0)==88&&(C=0,re&(sn|0)==2)){Wr=0,Mr=0,Vr=Dr;break e}if(Sr=U+tn|0,(Ur|0)==(Dr|0))tn=Sr,Ur=Dr;else break}re=(1<<U)+-1|0,Q=1e9>>>U,Yr=0,cn=Ur,Hn=ai,oi=Ur;do N=g+(oi<<2)|0,x=e[N>>2]|0,Ri=(x>>>U)+Yr|0,e[N>>2]=Ri,Yr=_i(x&re,Q)|0,x=(oi|0)==(cn|0)&(Ri|0)==0,Hn=x?Hn+-9|0:Hn,cn=x?cn+1&127:cn,oi=oi+1&127;while((oi|0)!=(Dr|0));if(!Yr){fe=Sr,K=cn,ai=Hn;continue}if((ti|0)!=(cn|0))break;e[se>>2]=e[se>>2]|1,fe=Sr,K=cn,ai=Hn}e[g+(Dr<<2)>>2]=Yr,Wn=Sr,On=cn,xn=Hn,Dr=ti}for(;ai=Mr+Ur&127,K=Vr+1&127,(ai|0)==(Vr|0)?(e[g+(K+-1<<2)>>2]=0,c0=K):c0=Vr,Wr=Wr*1e9+ +((e[g+(ai<<2)>>2]|0)>>>0),Mr=Mr+1|0,(Mr|0)!=2;)Vr=c0;if(B0=+(f|0),n0=Wr*B0,ai=tn+53|0,K=ai-a|0,fe=(K|0)<(o|0),se=fe?(K|0)>0?K:0:o,(se|0)<53?(Ts=+wC(+Ny(1,105-se|0),n0),Q0=+_C(n0,+Ny(1,53-se|0)),as=Ts,_0=Q0,In=Ts+(n0-Q0)):(as=0,_0=0,In=n0),Ni=Ur+2&127,(Ni|0)!=(c0|0)){oi=e[g+(Ni<<2)>>2]|0;do if(oi>>>0>=5e8){if((oi|0)!=5e8){O0=B0*.75+_0;break}if((Ur+3&127|0)==(c0|0)){O0=B0*.5+_0;break}else{O0=B0*.75+_0;break}}else{if((oi|0)==0&&(Ur+3&127|0)==(c0|0)){O0=_0;break}O0=B0*.25+_0}while(0);(53-se|0)>1&&+_C(O0,1)==0?Dn=O0+1:Dn=O0}else Dn=_0;B0=In+Dn-as;do if((ai&2147483647|0)>(-2-d|0)){if(oi=!(+f0(+B0)>=9007199254740992),Ni=tn+((oi^1)&1)|0,n0=oi?B0:B0*.5,(Ni+50|0)<=(m|0)&&!(Dn!=0&(fe&((se|0)!=(K|0)|oi)))){An=n0,J0=Ni;break}oi=fa()|0,e[oi>>2]=34,An=n0,J0=Ni}else An=B0,J0=tn;while(0);Vi=+xC(An,J0)}while(0);return q=c,+Vi}function oL(r,n,o,a,f,h){r=r|0,n=+n,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0,Gt=0,ci=0,mi=0,ji=0,di=0,Ei=0,ni=0,Ri=0,Ni=0,ai=0,gi=0,oi=0,ti=0,Vi=0,Ji=0,Wi=0,Hi=0,Pi=0,wi=0;c=q,q=q+560|0,g=c+8|0,d=c,m=c+524|0,b=m,v=c+512|0,e[d>>2]=0,x=v+12|0,Sx(n)|0,(Xe|0)<0?(C=-n,S=1,M=15511):(C=n,S=(f&2049|0)!=0&1,M=(f&2048|0)==0?(f&1|0)==0?15512:15517:15514),Sx(C)|0;do if(!0&(Xe&2146435072|0)==2146435072)I=(h&32|0)!=0,D=S+3|0,Oo(r,32,o,D,f&-65537),Mo(r,M,S),Mo(r,C!=C|!1?I?17461:15538:I?15530:15534,3),Oo(r,32,o,D,f^8192),L=D;else{if(n=+PH(C,d)*2,D=n!=0,D&&(e[d>>2]=(e[d>>2]|0)+-1),I=h|32,(I|0)==97){N=h&32,X=(N|0)==0?M:M+9|0,V=S|2,Q=12-a|0;do if(a>>>0>11|(Q|0)==0)$=n;else{U=8,j=Q;do j=j+-1|0,U=U*16;while((j|0)!=0);if((Z[X>>0]|0)==45){$=-(U+(-n-U));break}else{$=n+U-U;break}}while(0);for(Q=e[d>>2]|0,j=(Q|0)<0?0-Q|0:Q,J=U2(j,((j|0)<0)<<31>>31,x)|0,(J|0)==(x|0)?(j=v+11|0,Z[j>>0]=48,F=j):F=J,Z[F+-1>>0]=(Q>>31&2)+43,Q=F+-2|0,Z[Q>>0]=h+15,J=(a|0)<1,j=(f&8|0)==0,K=m,re=$;se=~~re,fe=K+1|0,Z[K>>0]=N|yi[15542+se>>0],re=(re-+(se|0))*16,(fe-b|0)==1&&!(j&(J&re==0))?(Z[fe>>0]=46,Ee=K+2|0):Ee=fe,re!=0;)K=Ee;K=Ee,(a|0)!=0&&(-2-b+K|0)<(a|0)?(Ne=K-b|0,me=a+2|0):(J=K-b|0,Ne=J,me=J),J=x-Q|0,K=J+V+me|0,Oo(r,32,o,K,f),Mo(r,X,V),Oo(r,48,o,K,f^65536),Mo(r,m,Ne),Oo(r,48,me-Ne|0,0,0),Mo(r,Q,J),Oo(r,32,o,K,f^8192),L=K;break}K=(a|0)<0?6:a,D?(J=(e[d>>2]|0)+-28|0,e[d>>2]=J,Ie=n*268435456,_e=J):(Ie=n,_e=e[d>>2]|0),J=(_e|0)<0?g:g+288|0,j=J,re=Ie;do N=~~re>>>0,e[j>>2]=N,j=j+4|0,re=(re-+(N>>>0))*1e9;while(re!=0);if((_e|0)>0)for(D=J,Q=j,V=_e;;){if(X=(V|0)<29?V:29,N=Q+-4|0,N>>>0>=D>>>0){fe=N,N=0;do se=$n(e[fe>>2]|0,0,X|0)|0,Ce=Wt(se|0,Xe|0,N|0,0)|0,se=Xe,We=Jy(Ce|0,se|0,1e9,0)|0,e[fe>>2]=We,N=z2(Ce|0,se|0,1e9,0)|0,fe=fe+-4|0;while(fe>>>0>=D>>>0);N?(fe=D+-4|0,e[fe>>2]=N,at=fe):at=D}else at=D;for(fe=Q;!(fe>>>0<=at>>>0);)if(se=fe+-4|0,!(e[se>>2]|0))fe=se;else break;if(N=(e[d>>2]|0)-X|0,e[d>>2]=N,(N|0)>0)D=at,Q=fe,V=N;else{Ke=at,Ve=fe,Ue=N;break}}else Ke=J,Ve=j,Ue=_e;if((Ue|0)<0)for(V=((K+25|0)/9|0)+1|0,Q=(I|0)==102,D=Ke,N=Ve,se=Ue;;){if(Ce=0-se|0,We=(Ce|0)<9?Ce:9,D>>>0<N>>>0){Ce=(1<<We)+-1|0,st=1e9>>>We,Qe=0,it=D;do ze=e[it>>2]|0,e[it>>2]=(ze>>>We)+Qe,Qe=_i(ze&Ce,st)|0,it=it+4|0;while(it>>>0<N>>>0);it=(e[D>>2]|0)==0?D+4|0:D,Qe?(e[N>>2]=Qe,Ge=it,ke=N+4|0):(Ge=it,ke=N)}else Ge=(e[D>>2]|0)==0?D+4|0:D,ke=N;if(it=Q?J:Ge,st=(ke-it>>2|0)>(V|0)?it+(V<<2)|0:ke,se=(e[d>>2]|0)+We|0,e[d>>2]=se,(se|0)>=0){ut=Ge,et=st;break}else D=Ge,N=st}else ut=Ke,et=Ve;if(N=J,ut>>>0<et>>>0)if(D=(N-ut>>2)*9|0,se=e[ut>>2]|0,se>>>0<10)ot=D;else for(V=D,D=10;;)if(D=D*10|0,Q=V+1|0,se>>>0<D>>>0){ot=Q;break}else V=Q;else ot=0;if(V=(I|0)==103,D=(K|0)!=0,se=K-((I|0)!=102?ot:0)+((D&V)<<31>>31)|0,(se|0)<(((et-N>>2)*9|0)+-9|0)){if(Q=se+9216|0,se=J+4+(((Q|0)/9|0)+-1024<<2)|0,j=(Q|0)%9|0,(j|0)<8)for(Q=j,j=10;;)if(st=j*10|0,(Q|0)<7)Q=Q+1|0,j=st;else{Rt=st;break}else Rt=10;if(j=e[se>>2]|0,Q=(j>>>0)%(Rt>>>0)|0,I=(se+4|0)==(et|0),I&(Q|0)==0)_t=se,St=ot,fi=ut;else if(U=(((j>>>0)/(Rt>>>0)|0)&1|0)==0?9007199254740992:9007199254740994,st=(Rt|0)/2|0,re=Q>>>0<st>>>0?.5:I&(Q|0)==(st|0)?1:1.5,S?(st=(Z[M>>0]|0)==45,Nt=st?-re:re,At=st?-U:U):(Nt=re,At=U),st=j-Q|0,e[se>>2]=st,At+Nt!=At){if(Q=st+Rt|0,e[se>>2]=Q,Q>>>0>999999999)for(Q=ut,st=se;;)if(j=st+-4|0,e[st>>2]=0,j>>>0<Q>>>0?(I=Q+-4|0,e[I>>2]=0,Vt=I):Vt=Q,I=(e[j>>2]|0)+1|0,e[j>>2]=I,I>>>0>999999999)Q=Vt,st=j;else{Pt=Vt,xt=j;break}else Pt=ut,xt=se;if(st=(N-Pt>>2)*9|0,Q=e[Pt>>2]|0,Q>>>0<10)_t=xt,St=st,fi=Pt;else for(j=st,st=10;;)if(st=st*10|0,I=j+1|0,Q>>>0<st>>>0){_t=xt,St=I,fi=Pt;break}else j=I}else _t=se,St=ot,fi=ut;j=_t+4|0,Gt=St,ci=et>>>0>j>>>0?j:et,mi=fi}else Gt=ot,ci=et,mi=ut;for(j=ci;;){if(j>>>0<=mi>>>0){ji=0;break}if(st=j+-4|0,!(e[st>>2]|0))j=st;else{ji=1;break}}se=0-Gt|0;do if(V)if(st=K+((D^1)&1)|0,(st|0)>(Gt|0)&(Gt|0)>-5?(di=h+-1|0,Ei=st+-1-Gt|0):(di=h+-2|0,Ei=st+-1|0),st=f&8,st)Ri=di,Ni=Ei,ai=st;else{if(ji&&(Q=e[j+-4>>2]|0,(Q|0)!=0))if((Q>>>0)%10|0)ni=0;else for(I=0,it=10;;)if(it=it*10|0,Ce=I+1|0,(Q>>>0)%(it>>>0)|0|0){ni=Ce;break}else I=Ce;else ni=9;if(I=((j-N>>2)*9|0)+-9|0,(di|32|0)==102){it=I-ni|0,Q=(it|0)>0?it:0,Ri=di,Ni=(Ei|0)<(Q|0)?Ei:Q,ai=0;break}else{Q=I+Gt-ni|0,I=(Q|0)>0?Q:0,Ri=di,Ni=(Ei|0)<(I|0)?Ei:I,ai=0;break}}else Ri=h,Ni=K,ai=f&8;while(0);if(K=Ni|ai,N=(K|0)!=0&1,D=(Ri|32|0)==102,D)gi=0,oi=(Gt|0)>0?Gt:0;else{if(V=(Gt|0)<0?se:Gt,I=U2(V,((V|0)<0)<<31>>31,x)|0,V=x,(V-I|0)<2)for(Q=I;;)if(it=Q+-1|0,Z[it>>0]=48,(V-it|0)<2)Q=it;else{ti=it;break}else ti=I;Z[ti+-1>>0]=(Gt>>31&2)+43,Q=ti+-2|0,Z[Q>>0]=Ri,gi=Q,oi=V-Q|0}if(Q=S+1+Ni+N+oi|0,Oo(r,32,o,Q,f),Mo(r,M,S),Oo(r,48,o,Q,f^65536),D){se=mi>>>0>J>>>0?J:mi,it=m+9|0,We=it,Qe=m+8|0,Ce=se;do{if(fe=U2(e[Ce>>2]|0,0,it)|0,(Ce|0)==(se|0))(fe|0)==(it|0)?(Z[Qe>>0]=48,Vi=Qe):Vi=fe;else if(fe>>>0>m>>>0)for(Mi(m|0,48,fe-b|0)|0,X=fe;;)if(ze=X+-1|0,ze>>>0>m>>>0)X=ze;else{Vi=ze;break}else Vi=fe;Mo(r,Vi,We-Vi|0),Ce=Ce+4|0}while(Ce>>>0<=J>>>0);if(K|0&&Mo(r,15558,1),Ce>>>0<j>>>0&(Ni|0)>0)for(J=Ni,We=Ce;;){if(Qe=U2(e[We>>2]|0,0,it)|0,Qe>>>0>m>>>0)for(Mi(m|0,48,Qe-b|0)|0,se=Qe;;)if(D=se+-1|0,D>>>0>m>>>0)se=D;else{Ji=D;break}else Ji=Qe;if(Mo(r,Ji,(J|0)<9?J:9),We=We+4|0,se=J+-9|0,We>>>0<j>>>0&(J|0)>9)J=se;else{Wi=se;break}}else Wi=Ni;Oo(r,48,Wi+9|0,9,0)}else{if(J=ji?j:mi+4|0,(Ni|0)>-1)for(We=m+9|0,it=(ai|0)==0,Ce=We,K=0-b|0,se=m+8|0,fe=Ni,D=mi;;){N=U2(e[D>>2]|0,0,We)|0,(N|0)==(We|0)?(Z[se>>0]=48,Hi=se):Hi=N;do if((D|0)==(mi|0)){if(N=Hi+1|0,Mo(r,Hi,1),it&(fe|0)<1){Pi=N;break}Mo(r,15558,1),Pi=N}else{if(Hi>>>0<=m>>>0){Pi=Hi;break}for(Mi(m|0,48,Hi+K|0)|0,N=Hi;;)if(V=N+-1|0,V>>>0>m>>>0)N=V;else{Pi=V;break}}while(0);if(Qe=Ce-Pi|0,Mo(r,Pi,(fe|0)>(Qe|0)?Qe:fe),N=fe-Qe|0,D=D+4|0,D>>>0<J>>>0&(N|0)>-1)fe=N;else{wi=N;break}}else wi=Ni;Oo(r,48,wi+18|0,18,0),Mo(r,gi,x-gi|0)}Oo(r,32,o,Q,f^8192),L=Q}while(0);return q=c,((L|0)<(o|0)?o:L)|0}function Z6(r,n,o,a,f){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0;var h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0,Gt=0,ci=0,mi=0,ji=0,di=0,Ei=0,ni=0,Ri=0,Ni=0,ai=0,gi=0,oi=0,ti=0,Vi=0,Ji=0,Wi=0,Hi=0,Pi=0,wi=0,ki=0,Bi=0,er=0;h=q,q=q+64|0,c=h+16|0,g=h,d=h+24|0,m=h+8|0,b=h+20|0,e[c>>2]=n,n=(r|0)!=0,v=d+40|0,x=v,C=d+39|0,d=m+4|0,S=0,M=0,I=0;e:for(;;){do if((M|0)>-1)if((S|0)>(2147483647-M|0)){D=fa()|0,e[D>>2]=75,L=-1;break}else{L=S+M|0;break}else L=M;while(0);if(D=e[c>>2]|0,N=Z[D>>0]|0,N<<24>>24)V=N,Q=D;else{X=88;break}t:for(;;){switch(V<<24>>24){case 37:{U=Q,j=Q,X=9;break t}case 0:{$=Q;break t}}N=Q+1|0,e[c>>2]=N,V=Z[N>>0]|0,Q=N}t:do if((X|0)==9)for(;;){if(X=0,(Z[j+1>>0]|0)!=37){$=U;break t}if(N=U+1|0,j=j+2|0,e[c>>2]=j,(Z[j>>0]|0)!=37){$=N;break}else U=N,X=9}while(0);if(N=$-D|0,n&&Mo(r,D,N),N|0){S=N,M=L;continue}if(N=(bd(Z[(e[c>>2]|0)+1>>0]|0)|0)==0,J=e[c>>2]|0,!N&&(Z[J+2>>0]|0)==36?(F=(Z[J+1>>0]|0)+-48|0,K=1,re=3):(F=-1,K=I,re=1),N=J+re|0,e[c>>2]=N,J=Z[N>>0]|0,se=(J<<24>>24)+-32|0,se>>>0>31|(1<<se&75913|0)==0)fe=0,Ee=J,Ne=N;else for(se=0,me=J,J=N;;)if(N=1<<(me<<24>>24)+-32|se,Ie=J+1|0,e[c>>2]=Ie,_e=Z[Ie>>0]|0,Ce=(_e<<24>>24)+-32|0,Ce>>>0>31|(1<<Ce&75913|0)==0){fe=N,Ee=_e,Ne=Ie;break}else se=N,me=_e,J=Ie;if(Ee<<24>>24==42){if((bd(Z[Ne+1>>0]|0)|0)!=0&&(J=e[c>>2]|0,(Z[J+2>>0]|0)==36))me=J+1|0,e[f+((Z[me>>0]|0)+-48<<2)>>2]=10,We=e[a+((Z[me>>0]|0)+-48<<3)>>2]|0,at=1,Ke=J+3|0;else{if(K|0){Ve=-1;break}n?(J=(e[o>>2]|0)+(4-1)&~(4-1),me=e[J>>2]|0,e[o>>2]=J+4,Ue=me):Ue=0,We=Ue,at=0,Ke=(e[c>>2]|0)+1|0}e[c>>2]=Ke,me=(We|0)<0,st=me?0-We|0:We,Qe=me?fe|8192:fe,it=at,ze=Ke}else{if(me=Ik(c)|0,(me|0)<0){Ve=-1;break}st=me,Qe=fe,it=K,ze=e[c>>2]|0}do if((Z[ze>>0]|0)==46){if((Z[ze+1>>0]|0)!=42){e[c>>2]=ze+1,me=Ik(c)|0,Ge=me,ke=e[c>>2]|0;break}if(bd(Z[ze+2>>0]|0)|0&&(me=e[c>>2]|0,(Z[me+3>>0]|0)==36)){J=me+2|0,e[f+((Z[J>>0]|0)+-48<<2)>>2]=10,se=e[a+((Z[J>>0]|0)+-48<<3)>>2]|0,J=me+4|0,e[c>>2]=J,Ge=se,ke=J;break}if(it|0){Ve=-1;break e}n?(J=(e[o>>2]|0)+(4-1)&~(4-1),se=e[J>>2]|0,e[o>>2]=J+4,ut=se):ut=0,se=(e[c>>2]|0)+2|0,e[c>>2]=se,Ge=ut,ke=se}else Ge=-1,ke=ze;while(0);for(se=0,J=ke;;){if(((Z[J>>0]|0)+-65|0)>>>0>57){Ve=-1;break e}if(me=J,J=J+1|0,e[c>>2]=J,et=Z[(Z[me>>0]|0)+-65+(15030+(se*58|0))>>0]|0,ot=et&255,(ot+-1|0)>>>0>=8)break;se=ot}if(!(et<<24>>24)){Ve=-1;break}me=(F|0)>-1;do if(et<<24>>24==19)if(me){Ve=-1;break e}else X=50;else{if(me){e[f+(F<<2)>>2]=ot,Ie=a+(F<<3)|0,_e=e[Ie+4>>2]|0,N=g,e[N>>2]=e[Ie>>2],e[N+4>>2]=_e,X=50;break}if(!n){Ve=0;break e}fm(g,ot,o),Rt=e[c>>2]|0}while(0);if((X|0)==50)if(X=0,n)Rt=J;else{S=0,M=L,I=it;continue}me=Z[Rt+-1>>0]|0,_e=(se|0)!=0&(me&15|0)==3?me&-33:me,me=Qe&-65537,N=(Qe&8192|0)==0?Qe:me;t:do switch(_e|0){case 110:switch((se&255)<<24>>24){case 0:{e[e[g>>2]>>2]=L,S=0,M=L,I=it;continue e}case 1:{e[e[g>>2]>>2]=L,S=0,M=L,I=it;continue e}case 2:{Ie=e[g>>2]|0,e[Ie>>2]=L,e[Ie+4>>2]=((L|0)<0)<<31>>31,S=0,M=L,I=it;continue e}case 3:{Oi[e[g>>2]>>1]=L,S=0,M=L,I=it;continue e}case 4:{Z[e[g>>2]>>0]=L,S=0,M=L,I=it;continue e}case 6:{e[e[g>>2]>>2]=L,S=0,M=L,I=it;continue e}case 7:{Ie=e[g>>2]|0,e[Ie>>2]=L,e[Ie+4>>2]=((L|0)<0)<<31>>31,S=0,M=L,I=it;continue e}default:{S=0,M=L,I=it;continue e}}case 112:{Nt=120,At=Ge>>>0>8?Ge:8,Vt=N|8,X=62;break}case 88:case 120:{Nt=_e,At=Ge,Vt=N,X=62;break}case 111:{Ie=g,Ce=e[Ie>>2]|0,Pt=e[Ie+4>>2]|0,Ie=BN(Ce,Pt,v)|0,xt=x-Ie|0,_t=Ie,St=0,fi=15494,Gt=(N&8|0)==0|(Ge|0)>(xt|0)?Ge:xt+1|0,ci=N,mi=Ce,ji=Pt,X=68;break}case 105:case 100:if(Pt=g,Ce=e[Pt>>2]|0,xt=e[Pt+4>>2]|0,(xt|0)<0){Pt=Gr(0,0,Ce|0,xt|0)|0,Ie=Xe,di=g,e[di>>2]=Pt,e[di+4>>2]=Ie,Ei=1,ni=15494,Ri=Pt,Ni=Ie,X=67;break t}else{Ei=(N&2049|0)!=0&1,ni=(N&2048|0)==0?(N&1|0)==0?15494:15496:15495,Ri=Ce,Ni=xt,X=67;break t}case 117:{xt=g,Ei=0,ni=15494,Ri=e[xt>>2]|0,Ni=e[xt+4>>2]|0,X=67;break}case 99:{Z[C>>0]=e[g>>2],ai=C,gi=0,oi=15494,ti=v,Vi=1,Ji=me;break}case 109:{xt=fa()|0,Wi=WO(e[xt>>2]|0)|0,X=72;break}case 115:{xt=e[g>>2]|0,Wi=xt|0?xt:15504,X=72;break}case 67:{e[m>>2]=e[g>>2],e[d>>2]=0,e[g>>2]=m,Hi=-1,Pi=m,X=76;break}case 83:{xt=e[g>>2]|0,Ge?(Hi=Ge,Pi=xt,X=76):(Oo(r,32,st,0,N),wi=0,X=85);break}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{S=oL(r,+L0[g>>3],st,Ge,N,_e)|0,M=L,I=it;continue e}default:ai=D,gi=0,oi=15494,ti=v,Vi=Ge,Ji=N}while(0);t:do if((X|0)==62)X=0,D=g,_e=e[D>>2]|0,se=e[D+4>>2]|0,D=kN(_e,se,v,Nt&32)|0,J=(Vt&8|0)==0|(_e|0)==0&(se|0)==0,_t=D,St=J?0:2,fi=J?15494:15494+(Nt>>4)|0,Gt=At,ci=Vt,mi=_e,ji=se,X=68;else if((X|0)==67)X=0,_t=U2(Ri,Ni,v)|0,St=Ei,fi=ni,Gt=Ge,ci=N,mi=Ri,ji=Ni,X=68;else if((X|0)==72)X=0,se=xr(Wi,0,Ge)|0,_e=(se|0)==0,ai=Wi,gi=0,oi=15494,ti=_e?Wi+Ge|0:se,Vi=_e?Ge:se-Wi|0,Ji=me;else if((X|0)==76){for(X=0,se=Pi,_e=0,J=0;;){if(D=e[se>>2]|0,!D){ki=_e,Bi=J;break}if(xt=aC(b,D)|0,(xt|0)<0|xt>>>0>(Hi-_e|0)>>>0){ki=_e,Bi=xt;break}if(D=xt+_e|0,Hi>>>0>D>>>0)se=se+4|0,_e=D,J=xt;else{ki=D,Bi=xt;break}}if((Bi|0)<0){Ve=-1;break e}if(Oo(r,32,st,ki,N),!ki)wi=0,X=85;else for(J=Pi,_e=0;;){if(se=e[J>>2]|0,!se){wi=ki,X=85;break t}if(xt=aC(b,se)|0,_e=xt+_e|0,(_e|0)>(ki|0)){wi=ki,X=85;break t}if(Mo(r,b,xt),_e>>>0>=ki>>>0){wi=ki,X=85;break}else J=J+4|0}}while(0);if((X|0)==68)X=0,me=(mi|0)!=0|(ji|0)!=0,J=(Gt|0)!=0|me,_e=x-_t+((me^1)&1)|0,ai=J?_t:v,gi=St,oi=fi,ti=v,Vi=J?(Gt|0)>(_e|0)?Gt:_e:Gt,Ji=(Gt|0)>-1?ci&-65537:ci;else if((X|0)==85){X=0,Oo(r,32,st,wi,N^8192),S=(st|0)>(wi|0)?st:wi,M=L,I=it;continue}_e=ti-ai|0,J=(Vi|0)<(_e|0)?_e:Vi,me=J+gi|0,xt=(st|0)<(me|0)?me:st,Oo(r,32,xt,me,Ji),Mo(r,oi,gi),Oo(r,48,xt,me,Ji^65536),Oo(r,48,J,_e,0),Mo(r,ai,_e),Oo(r,32,xt,me,Ji^8192),S=xt,M=L,I=it}e:do if((X|0)==88)if(r)Ve=L;else if(I){for(it=1;;){if(M=e[f+(it<<2)>>2]|0,!M){er=it;break}if(fm(a+(it<<3)|0,M,o),M=it+1|0,(it|0)<9)it=M;else{er=M;break}}if((er|0)<10)for(it=er;;){if(e[f+(it<<2)>>2]|0){Ve=-1;break e}if((it|0)<9)it=it+1|0;else{Ve=1;break}}else Ve=1}else Ve=0;while(0);return q=h,Ve|0}function aL(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=Ar,fi=Ar,Gt=Ar,ci=0,mi=0,ji=0,di=0,Ei=0;n=q,q=q+64|0,o=n+28|0,a=n+16|0,f=n+4|0,h=n,c=r,g=r+80|0,d=e[g>>2]|0,e[o>>2]=0,e[o+4>>2]=0,e[o+8>>2]=0,e[o+12>>2]=0,e[o+16>>2]=c,m=o+20|0,br[m>>2]=qt(1),e[o+24>>2]=c,x_(o,d),d=e[g>>2]|0,e[a>>2]=0,c=a+4|0,e[c>>2]=0,e[a+8>>2]=0,b=(d|0)==0;do if(!b)if(d>>>0>1073741823)Je();else{v=d<<2,x=Dt(v)|0,e[a>>2]=x,C=x+(d<<2)|0,e[a+8>>2]=C,Mi(x|0,0,v|0)|0,e[c>>2]=C;break}while(0);if(e[f>>2]=0,d=f+4|0,e[d>>2]=0,e[f+8>>2]=0,e[h>>2]=0,!b){for(b=o+16|0,C=o+4|0,v=o+12|0,x=o+8|0,S=f+8|0,M=o+24|0,I=0,D=0;;){if(L=e[b>>2]|0,N=e[L+8>>2]|0,X=(e[L+12>>2]|0)-N|0,L=(X|0)>0,V=N,L)for(N=X>>>2,Q=0,U=0;;)if(j=e[V+(Q<<2)>>2]|0,Z[j+84>>0]|0?$=D:$=e[(e[j+68>>2]|0)+(D<<2)>>2]|0,j=$+239^U,Q=Q+1|0,(Q|0)>=(N|0)){J=j;break}else U=j;else J=0;U=e[C>>2]|0,N=(U|0)==0;e:do if(N)me=44;else if(Q=U+-1|0,j=(Q&U|0)==0,j?F=Q&J:J>>>0<U>>>0?F=J:F=(J>>>0)%(U>>>0)|0,K=e[(e[o>>2]|0)+(F<<2)>>2]|0,(K|0)!=0&&(re=e[K>>2]|0,(re|0)!=0)){K=e[M>>2]|0,se=K+8|0,fe=K+12|0;t:do if(j)for(K=re;;){if(Ee=e[K+4>>2]|0,Ne=(Ee|0)==(J|0),!(Ne|(Ee&Q|0)==(F|0))){me=44;break e}i:do if(Ne){if(Ee=e[K+8>>2]|0,Ie=e[se>>2]|0,_e=(e[fe>>2]|0)-Ie|0,Ce=Ie,(_e|0)<=0){We=K;break t}for(Ie=_e>>>2,_e=0;;){if(at=e[Ce+(_e<<2)>>2]|0,Z[at+84>>0]|0?(Ve=D,Ue=Ee):(Ke=e[at+68>>2]|0,Ve=e[Ke+(D<<2)>>2]|0,Ue=e[Ke+(Ee<<2)>>2]|0),_e=_e+1|0,(Ue|0)!=(Ve|0))break i;if((_e|0)>=(Ie|0)){st=K,me=42;break t}}}while(0);if(K=e[K>>2]|0,!K){me=44;break e}}else for(K=re;;){Ne=e[K+4>>2]|0;i:do if((Ne|0)!=(J|0)){if(Ne>>>0<U>>>0?Qe=Ne:Qe=(Ne>>>0)%(U>>>0)|0,(Qe|0)!=(F|0)){me=44;break e}}else{if(Ie=e[K+8>>2]|0,_e=e[se>>2]|0,Ee=(e[fe>>2]|0)-_e|0,Ce=_e,(Ee|0)<=0){We=K;break t}for(_e=Ee>>>2,Ee=0;;){if(Ke=e[Ce+(Ee<<2)>>2]|0,Z[Ke+84>>0]|0?(it=D,ze=Ie):(at=e[Ke+68>>2]|0,it=e[at+(D<<2)>>2]|0,ze=e[at+(Ie<<2)>>2]|0),Ee=Ee+1|0,(ze|0)!=(it|0))break i;if((Ee|0)>=(_e|0)){st=K,me=42;break t}}}while(0);if(K=e[K>>2]|0,!K){me=44;break e}}while(0);if((me|0)==42)if(me=0,st)We=st;else{me=44;break}e[(e[a>>2]|0)+(D<<2)>>2]=e[We+12>>2],Ge=I}else me=44;while(0);do if((me|0)==44){if(me=0,L)for(fe=X>>>2,se=0,re=0;;)if(Q=e[V+(se<<2)>>2]|0,Z[Q+84>>0]|0?ke=D:ke=e[(e[Q+68>>2]|0)+(D<<2)>>2]|0,Q=ke+239^re,se=se+1|0,(se|0)>=(fe|0)){ut=Q;break}else re=Q;else ut=0;e:do if(N)ot=0,me=76;else if(re=U+-1|0,fe=(re&U|0)==0,fe?et=re&ut:ut>>>0<U>>>0?et=ut:et=(ut>>>0)%(U>>>0)|0,se=e[(e[o>>2]|0)+(et<<2)>>2]|0,(se|0)!=0&&(Q=e[se>>2]|0,(Q|0)!=0)){if(se=e[M>>2]|0,j=se+8|0,K=se+12|0,fe)for(fe=Q;;){if(se=e[fe+4>>2]|0,!((se|0)==(ut|0)|(se&re|0)==(et|0))){ot=et,me=76;break e}if(se=e[fe+8>>2]|0,Ne=e[j>>2]|0,_e=(e[K>>2]|0)-Ne|0,Ee=Ne,(_e|0)<=0){Rt=D;break e}for(Ne=_e>>>2,_e=0;Ie=e[Ee+(_e<<2)>>2]|0,Z[Ie+84>>0]|0?(Nt=D,At=se):(Ce=e[Ie+68>>2]|0,Nt=e[Ce+(D<<2)>>2]|0,At=e[Ce+(se<<2)>>2]|0),_e=_e+1|0,(At|0)==(Nt|0);)if((_e|0)>=(Ne|0)){Rt=D;break e}if(fe=e[fe>>2]|0,!fe){ot=et,me=76;break e}}else Vt=Q;for(;;){if(fe=e[Vt+4>>2]|0,(fe|0)!=(ut|0)&&(fe>>>0<U>>>0?Pt=fe:Pt=(fe>>>0)%(U>>>0)|0,(Pt|0)!=(et|0))){ot=et,me=76;break e}if(fe=e[Vt+8>>2]|0,re=e[j>>2]|0,Ne=(e[K>>2]|0)-re|0,_e=re,(Ne|0)<=0){Rt=D;break e}for(re=Ne>>>2,Ne=0;se=e[_e+(Ne<<2)>>2]|0,Z[se+84>>0]|0?(xt=D,_t=fe):(Ee=e[se+68>>2]|0,xt=e[Ee+(D<<2)>>2]|0,_t=e[Ee+(fe<<2)>>2]|0),Ne=Ne+1|0,(_t|0)==(xt|0);)if((Ne|0)>=(re|0)){Rt=D;break e}if(Vt=e[Vt>>2]|0,!Vt){ot=et,me=76;break}}}else ot=et,me=76;while(0);if((me|0)==76){me=0,K=Dt(16)|0,e[K+8>>2]=D,e[K+12>>2]=I,e[K+4>>2]=ut,e[K>>2]=0,St=qt(((e[v>>2]|0)+1|0)>>>0),fi=qt(U>>>0),Gt=qt(br[m>>2]);do if(N|qt(Gt*fi)<St){if(j=U<<1|(U>>>0<3|(U+-1&U|0)!=0)&1,Q=~~qt(yr(qt(St/Gt)))>>>0,x_(o,j>>>0<Q>>>0?Q:j),j=e[C>>2]|0,Q=j+-1|0,!(Q&j)){ci=j,mi=Q&ut;break}ut>>>0<j>>>0?(ci=j,mi=ut):(ci=j,mi=(ut>>>0)%(j>>>0)|0)}else ci=U,mi=ot;while(0);j=(e[o>>2]|0)+(mi<<2)|0,Q=e[j>>2]|0,Q?(e[K>>2]=e[Q>>2],di=Q,me=89):(e[K>>2]=e[x>>2],e[x>>2]=K,e[j>>2]=x,j=e[K>>2]|0,j|0&&(re=e[j+4>>2]|0,j=ci+-1|0,j&ci?re>>>0<ci>>>0?ji=re:ji=(re>>>0)%(ci>>>0)|0:ji=re&j,di=(e[o>>2]|0)+(ji<<2)|0,me=89)),(me|0)==89&&(me=0,e[di>>2]=K),e[v>>2]=(e[v>>2]|0)+1,Rt=e[h>>2]|0}if(Q=I+1|0,e[(e[a>>2]|0)+(Rt<<2)>>2]=I,j=e[d>>2]|0,(j|0)==(e[S>>2]|0)){pr(f,h),Ge=Q;break}else{e[j>>2]=e[h>>2],e[d>>2]=j+4,Ge=Q;break}}while(0);if(D=(e[h>>2]|0)+1|0,e[h>>2]=D,Ei=e[g>>2]|0,D>>>0>=Ei>>>0)break;I=Ge}(Ge|0)!=(Ei|0)&&(Im[e[(e[r>>2]|0)+24>>2]&15](r,a,f),e[g>>2]=Ge)}if(Ge=e[f>>2]|0,Ge|0&&(f=e[d>>2]|0,(f|0)!=(Ge|0)&&(e[d>>2]=f+(~((f+-4-Ge|0)>>>2)<<2)),ve(Ge)),Ge=e[a>>2]|0,Ge|0&&(a=e[c>>2]|0,(a|0)!=(Ge|0)&&(e[c>>2]=a+(~((a+-4-Ge|0)>>>2)<<2)),ve(Ge)),Ge=e[o+8>>2]|0,Ge|0){a=Ge;do Ge=a,a=e[a>>2]|0,ve(Ge);while((a|0)!=0)}if(a=e[o>>2]|0,e[o>>2]=0,!a){q=n;return}ve(a),q=n}function W_(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0;f=q,q=q+80|0,h=f+76|0,c=f+72|0,g=f+48|0,d=f+24|0,m=f,b=r+32|0,v=e[n>>2]|0,n=v+1|0,(v|0)!=-1?(x=((n>>>0)%3|0|0)==0?v+-2|0:n,n=(((v>>>0)%3|0|0)==0?2:-1)+v|0,(x|0)==-1?C=-1:C=e[(e[e[b>>2]>>2]|0)+(x<<2)>>2]|0,(n|0)==-1?(S=C,M=-1):(S=C,M=e[(e[e[b>>2]>>2]|0)+(n<<2)>>2]|0)):(S=-1,M=-1),n=e[r+36>>2]|0,b=e[n>>2]|0,C=(e[n+4>>2]|0)-b>>2,C>>>0<=S>>>0&&Je(),x=b,b=e[x+(S<<2)>>2]|0,C>>>0<=M>>>0&&Je(),n=e[x+(M<<2)>>2]|0,M=(b|0)<(a|0);do if(M&(n|0)<(a|0)){if(x=b<<1,C=e[o+(x<<2)>>2]|0,S=((C|0)<0)<<31>>31,v=e[o+((x|1)<<2)>>2]|0,x=((v|0)<0)<<31>>31,I=n<<1,D=e[o+(I<<2)>>2]|0,L=e[o+((I|1)<<2)>>2]|0,!((D|0)!=(C|0)|(L|0)!=(v|0)))return e[r+8>>2]=C,e[r+12>>2]=v,q=f,1;if(I=r+4|0,N=e[(e[I>>2]|0)+(a<<2)>>2]|0,e[g>>2]=0,e[g+4>>2]=0,e[g+8>>2]=0,e[g+12>>2]=0,e[g+16>>2]=0,e[g+20>>2]=0,X=e[r>>2]|0,Z[X+84>>0]|0?V=N:V=e[(e[X+68>>2]|0)+(N<<2)>>2]|0,e[c>>2]=V,N=Z[X+24>>0]|0,e[h>>2]=e[c>>2],Nl(X,h,N,g)|0,N=e[(e[I>>2]|0)+(b<<2)>>2]|0,e[d>>2]=0,e[d+4>>2]=0,e[d+8>>2]=0,e[d+12>>2]=0,e[d+16>>2]=0,e[d+20>>2]=0,X=e[r>>2]|0,Z[X+84>>0]|0?Q=N:Q=e[(e[X+68>>2]|0)+(N<<2)>>2]|0,e[c>>2]=Q,N=Z[X+24>>0]|0,e[h>>2]=e[c>>2],Nl(X,h,N,d)|0,N=e[(e[I>>2]|0)+(n<<2)>>2]|0,e[m>>2]=0,e[m+4>>2]=0,e[m+8>>2]=0,e[m+12>>2]=0,e[m+16>>2]=0,e[m+20>>2]=0,I=e[r>>2]|0,Z[I+84>>0]|0?U=N:U=e[(e[I+68>>2]|0)+(N<<2)>>2]|0,e[c>>2]=U,N=Z[I+24>>0]|0,e[h>>2]=e[c>>2],Nl(I,h,N,m)|0,N=m,I=d,X=e[I>>2]|0,j=e[I+4>>2]|0,I=Gr(e[N>>2]|0,e[N+4>>2]|0,X|0,j|0)|0,N=Xe,$=m+8|0,J=d+8|0,F=e[J>>2]|0,K=e[J+4>>2]|0,J=Gr(e[$>>2]|0,e[$+4>>2]|0,F|0,K|0)|0,$=Xe,re=m+16|0,se=d+16|0,fe=e[se>>2]|0,Ee=e[se+4>>2]|0,se=Gr(e[re>>2]|0,e[re+4>>2]|0,fe|0,Ee|0)|0,re=Xe,Ne=zi(I|0,N|0,I|0,N|0)|0,me=Xe,Ie=zi(J|0,$|0,J|0,$|0)|0,_e=Wt(Ie|0,Xe|0,Ne|0,me|0)|0,me=Xe,Ne=zi(se|0,re|0,se|0,re|0)|0,Ie=Wt(_e|0,me|0,Ne|0,Xe|0)|0,Ne=Xe,(Ie|0)==0&(Ne|0)==0)break;switch(me=g,_e=Gr(e[me>>2]|0,e[me+4>>2]|0,X|0,j|0)|0,j=Xe,X=g+8|0,me=Gr(e[X>>2]|0,e[X+4>>2]|0,F|0,K|0)|0,K=Xe,F=g+16|0,X=Gr(e[F>>2]|0,e[F+4>>2]|0,fe|0,Ee|0)|0,Ee=Xe,fe=zi(_e|0,j|0,I|0,N|0)|0,F=Xe,Ce=zi(me|0,K|0,J|0,$|0)|0,We=Wt(Ce|0,Xe|0,fe|0,F|0)|0,F=Xe,fe=zi(X|0,Ee|0,se|0,re|0)|0,Ce=Wt(We|0,F|0,fe|0,Xe|0)|0,fe=Xe,F=Gr(D|0,((D|0)<0)<<31>>31|0,C|0,S|0)|0,D=Xe,We=Gr(L|0,((L|0)<0)<<31>>31|0,v|0,x|0)|0,L=Xe,at=zi(Ie|0,Ne|0,C|0,S|0)|0,S=Xe,C=zi(Ie|0,Ne|0,v|0,x|0)|0,x=Xe,v=zi(Ce|0,fe|0,F|0,D|0)|0,Ke=Xe,Ve=zi(Ce|0,fe|0,We|0,L|0)|0,Ue=Xe,st=Wt(v|0,Ke|0,at|0,S|0)|0,S=Xe,at=Wt(Ve|0,Ue|0,C|0,x|0)|0,x=Xe,C=zi(Ce|0,fe|0,I|0,N|0)|0,N=Xe,I=zi(Ce|0,fe|0,J|0,$|0)|0,$=Xe,J=zi(Ce|0,fe|0,se|0,re|0)|0,re=Xe,se=m0(C|0,N|0,Ie|0,Ne|0)|0,N=Xe,C=m0(I|0,$|0,Ie|0,Ne|0)|0,$=Xe,I=m0(J|0,re|0,Ie|0,Ne|0)|0,re=Xe,J=Gr(_e|0,j|0,se|0,N|0)|0,N=Xe,se=Gr(me|0,K|0,C|0,$|0)|0,$=Xe,C=Gr(X|0,Ee|0,I|0,re|0)|0,re=Xe,I=zi(J|0,N|0,J|0,N|0)|0,N=Xe,J=zi(se|0,$|0,se|0,$|0)|0,$=Wt(J|0,Xe|0,I|0,N|0)|0,N=Xe,I=zi(C|0,re|0,C|0,re|0)|0,re=Wt($|0,N|0,I|0,Xe|0)|0,I=Xe,N=Gr(0,0,F|0,D|0)|0,D=Xe,F=zi(re|0,I|0,Ie|0,Ne|0)|0,I=Xe,F|0){case 0:{I?(ze=1,Ge=0,ke=F,ut=I,et=23):(Qe=0,it=0);break}case 1:{I?(ze=1,Ge=0,ke=F,ut=I,et=23):(ot=1,Rt=0,et=24);break}default:ze=1,Ge=0,ke=F,ut=I,et=23}if((et|0)==23)for(;;)if(et=0,re=$n(ze|0,Ge|0,1)|0,$=Xe,C=ke,ke=r0(ke|0,ut|0,2)|0,ut>>>0>0|(ut|0)==0&C>>>0>7)ze=re,Ge=$,ut=Xe,et=23;else{ot=re,Rt=$,et=24;break}if((et|0)==24)for(;;)if(et=0,$=z2(F|0,I|0,ot|0,Rt|0)|0,re=Wt($|0,Xe|0,ot|0,Rt|0)|0,$=r0(re|0,Xe|0,1)|0,re=Xe,C=zi($|0,re|0,$|0,re|0)|0,J=Xe,J>>>0>I>>>0|(J|0)==(I|0)&C>>>0>F>>>0)ot=$,Rt=re,et=24;else{Qe=$,it=re;break}if(F=zi(Qe|0,it|0,We|0,L|0)|0,I=Xe,re=zi(Qe|0,it|0,N|0,D|0)|0,$=Xe,C=Wt(F|0,I|0,st|0,S|0)|0,J=Xe,se=Wt(re|0,$|0,at|0,x|0)|0,Ee=Xe,X=m0(C|0,J|0,Ie|0,Ne|0)|0,J=Xe,C=m0(se|0,Ee|0,Ie|0,Ne|0)|0,Ee=Xe,se=Gr(st|0,S|0,F|0,I|0)|0,I=Xe,F=Gr(at|0,x|0,re|0,$|0)|0,$=Xe,re=m0(se|0,I|0,Ie|0,Ne|0)|0,I=Xe,se=m0(F|0,$|0,Ie|0,Ne|0)|0,$=Xe,F=a<<1,K=e[o+(F<<2)>>2]|0,me=((K|0)<0)<<31>>31,j=e[o+((F|1)<<2)>>2]|0,F=((j|0)<0)<<31>>31,_e=Gr(K|0,me|0,X|0,J|0)|0,fe=Xe,Ce=Gr(j|0,F|0,C|0,Ee|0)|0,Ue=Xe,Ve=zi(_e|0,fe|0,_e|0,fe|0)|0,fe=Xe,_e=zi(Ce|0,Ue|0,Ce|0,Ue|0)|0,Ue=Wt(_e|0,Xe|0,Ve|0,fe|0)|0,fe=Xe,Ve=Gr(K|0,me|0,re|0,I|0)|0,me=Xe,K=Gr(j|0,F|0,se|0,$|0)|0,F=Xe,j=zi(Ve|0,me|0,Ve|0,me|0)|0,me=Xe,Ve=zi(K|0,F|0,K|0,F|0)|0,F=Wt(Ve|0,Xe|0,j|0,me|0)|0,me=Xe,j=r+16|0,Ve=r+20|0,K=e[Ve>>2]|0,_e=e[r+24>>2]|0,Ce=(K|0)==(_e<<5|0),fe>>>0<me>>>0|(fe|0)==(me|0)&Ue>>>0<F>>>0){do if(Ce)if((K+1|0)<0)Je();else{F=_e<<6,Ue=K+32&-32,la(j,K>>>0<1073741823?F>>>0<Ue>>>0?Ue:F:2147483647),Nt=e[Ve>>2]|0;break}else Nt=K;while(0);e[Ve>>2]=Nt+1,Ne=(e[j>>2]|0)+(Nt>>>5<<2)|0,e[Ne>>2]=e[Ne>>2]|1<<(Nt&31),At=X,Vt=C}else{do if(Ce)if((K+1|0)<0)Je();else{Ne=_e<<6,Ie=K+32&-32,la(j,K>>>0<1073741823?Ne>>>0<Ie>>>0?Ie:Ne:2147483647),Pt=e[Ve>>2]|0;break}else Pt=K;while(0);e[Ve>>2]=Pt+1,K=(e[j>>2]|0)+(Pt>>>5<<2)|0,e[K>>2]=e[K>>2]&~(1<<(Pt&31)),At=re,Vt=se}return e[r+8>>2]=At,e[r+12>>2]=Vt,q=f,1}while(0);do if(M)xt=b<<1;else{if((a|0)>0){xt=(a<<1)+-2|0;break}return Vt=r+8|0,e[Vt>>2]=0,e[Vt+4>>2]=0,q=f,1}while(0);return e[r+8>>2]=e[o+(xt<<2)>>2],e[r+12>>2]=e[o+(xt+1<<2)>>2],q=f,1}function Q_(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0;f=q,q=q+80|0,h=f+76|0,c=f+72|0,g=f+48|0,d=f+24|0,m=f,b=r+32|0,v=e[n>>2]|0,n=v+1|0;do if((v|0)!=-1)if(x=((n>>>0)%3|0|0)==0?v+-2|0:n,(v>>>0)%3|0){C=v+-1|0,S=x;break}else{C=v+2|0,S=x;break}else C=-1,S=-1;while(0);v=e[(e[b>>2]|0)+28>>2]|0,b=e[v+(S<<2)>>2]|0,S=e[v+(C<<2)>>2]|0,C=e[r+36>>2]|0,v=e[C>>2]|0,n=(e[C+4>>2]|0)-v>>2,n>>>0<=b>>>0&&Je(),x=v,v=e[x+(b<<2)>>2]|0,n>>>0<=S>>>0&&Je(),C=e[x+(S<<2)>>2]|0,S=(v|0)<(a|0);do if(S&(C|0)<(a|0)){if(x=v<<1,n=e[o+(x<<2)>>2]|0,b=((n|0)<0)<<31>>31,M=e[o+((x|1)<<2)>>2]|0,x=((M|0)<0)<<31>>31,I=C<<1,D=e[o+(I<<2)>>2]|0,L=e[o+((I|1)<<2)>>2]|0,!((D|0)!=(n|0)|(L|0)!=(M|0)))return e[r+8>>2]=n,e[r+12>>2]=M,q=f,1;if(I=r+4|0,N=e[(e[I>>2]|0)+(a<<2)>>2]|0,e[g>>2]=0,e[g+4>>2]=0,e[g+8>>2]=0,e[g+12>>2]=0,e[g+16>>2]=0,e[g+20>>2]=0,X=e[r>>2]|0,Z[X+84>>0]|0?V=N:V=e[(e[X+68>>2]|0)+(N<<2)>>2]|0,e[c>>2]=V,N=Z[X+24>>0]|0,e[h>>2]=e[c>>2],Nl(X,h,N,g)|0,N=e[(e[I>>2]|0)+(v<<2)>>2]|0,e[d>>2]=0,e[d+4>>2]=0,e[d+8>>2]=0,e[d+12>>2]=0,e[d+16>>2]=0,e[d+20>>2]=0,X=e[r>>2]|0,Z[X+84>>0]|0?Q=N:Q=e[(e[X+68>>2]|0)+(N<<2)>>2]|0,e[c>>2]=Q,N=Z[X+24>>0]|0,e[h>>2]=e[c>>2],Nl(X,h,N,d)|0,N=e[(e[I>>2]|0)+(C<<2)>>2]|0,e[m>>2]=0,e[m+4>>2]=0,e[m+8>>2]=0,e[m+12>>2]=0,e[m+16>>2]=0,e[m+20>>2]=0,I=e[r>>2]|0,Z[I+84>>0]|0?U=N:U=e[(e[I+68>>2]|0)+(N<<2)>>2]|0,e[c>>2]=U,N=Z[I+24>>0]|0,e[h>>2]=e[c>>2],Nl(I,h,N,m)|0,N=m,I=d,X=e[I>>2]|0,j=e[I+4>>2]|0,I=Gr(e[N>>2]|0,e[N+4>>2]|0,X|0,j|0)|0,N=Xe,$=m+8|0,J=d+8|0,F=e[J>>2]|0,K=e[J+4>>2]|0,J=Gr(e[$>>2]|0,e[$+4>>2]|0,F|0,K|0)|0,$=Xe,re=m+16|0,se=d+16|0,fe=e[se>>2]|0,Ee=e[se+4>>2]|0,se=Gr(e[re>>2]|0,e[re+4>>2]|0,fe|0,Ee|0)|0,re=Xe,Ne=zi(I|0,N|0,I|0,N|0)|0,me=Xe,Ie=zi(J|0,$|0,J|0,$|0)|0,_e=Wt(Ie|0,Xe|0,Ne|0,me|0)|0,me=Xe,Ne=zi(se|0,re|0,se|0,re|0)|0,Ie=Wt(_e|0,me|0,Ne|0,Xe|0)|0,Ne=Xe,(Ie|0)==0&(Ne|0)==0)break;switch(me=g,_e=Gr(e[me>>2]|0,e[me+4>>2]|0,X|0,j|0)|0,j=Xe,X=g+8|0,me=Gr(e[X>>2]|0,e[X+4>>2]|0,F|0,K|0)|0,K=Xe,F=g+16|0,X=Gr(e[F>>2]|0,e[F+4>>2]|0,fe|0,Ee|0)|0,Ee=Xe,fe=zi(_e|0,j|0,I|0,N|0)|0,F=Xe,Ce=zi(me|0,K|0,J|0,$|0)|0,We=Wt(Ce|0,Xe|0,fe|0,F|0)|0,F=Xe,fe=zi(X|0,Ee|0,se|0,re|0)|0,Ce=Wt(We|0,F|0,fe|0,Xe|0)|0,fe=Xe,F=Gr(D|0,((D|0)<0)<<31>>31|0,n|0,b|0)|0,D=Xe,We=Gr(L|0,((L|0)<0)<<31>>31|0,M|0,x|0)|0,L=Xe,at=zi(Ie|0,Ne|0,n|0,b|0)|0,b=Xe,n=zi(Ie|0,Ne|0,M|0,x|0)|0,x=Xe,M=zi(Ce|0,fe|0,F|0,D|0)|0,Ke=Xe,Ve=zi(Ce|0,fe|0,We|0,L|0)|0,Ue=Xe,st=Wt(M|0,Ke|0,at|0,b|0)|0,b=Xe,at=Wt(Ve|0,Ue|0,n|0,x|0)|0,x=Xe,n=zi(Ce|0,fe|0,I|0,N|0)|0,N=Xe,I=zi(Ce|0,fe|0,J|0,$|0)|0,$=Xe,J=zi(Ce|0,fe|0,se|0,re|0)|0,re=Xe,se=m0(n|0,N|0,Ie|0,Ne|0)|0,N=Xe,n=m0(I|0,$|0,Ie|0,Ne|0)|0,$=Xe,I=m0(J|0,re|0,Ie|0,Ne|0)|0,re=Xe,J=Gr(_e|0,j|0,se|0,N|0)|0,N=Xe,se=Gr(me|0,K|0,n|0,$|0)|0,$=Xe,n=Gr(X|0,Ee|0,I|0,re|0)|0,re=Xe,I=zi(J|0,N|0,J|0,N|0)|0,N=Xe,J=zi(se|0,$|0,se|0,$|0)|0,$=Wt(J|0,Xe|0,I|0,N|0)|0,N=Xe,I=zi(n|0,re|0,n|0,re|0)|0,re=Wt($|0,N|0,I|0,Xe|0)|0,I=Xe,N=Gr(0,0,F|0,D|0)|0,D=Xe,F=zi(re|0,I|0,Ie|0,Ne|0)|0,I=Xe,F|0){case 0:{I?(ze=1,Ge=0,ke=F,ut=I,et=22):(Qe=0,it=0);break}case 1:{I?(ze=1,Ge=0,ke=F,ut=I,et=22):(ot=1,Rt=0,et=23);break}default:ze=1,Ge=0,ke=F,ut=I,et=22}if((et|0)==22)for(;;)if(et=0,re=$n(ze|0,Ge|0,1)|0,$=Xe,n=ke,ke=r0(ke|0,ut|0,2)|0,ut>>>0>0|(ut|0)==0&n>>>0>7)ze=re,Ge=$,ut=Xe,et=22;else{ot=re,Rt=$,et=23;break}if((et|0)==23)for(;;)if(et=0,$=z2(F|0,I|0,ot|0,Rt|0)|0,re=Wt($|0,Xe|0,ot|0,Rt|0)|0,$=r0(re|0,Xe|0,1)|0,re=Xe,n=zi($|0,re|0,$|0,re|0)|0,J=Xe,J>>>0>I>>>0|(J|0)==(I|0)&n>>>0>F>>>0)ot=$,Rt=re,et=23;else{Qe=$,it=re;break}if(F=zi(Qe|0,it|0,We|0,L|0)|0,I=Xe,re=zi(Qe|0,it|0,N|0,D|0)|0,$=Xe,n=Wt(F|0,I|0,st|0,b|0)|0,J=Xe,se=Wt(re|0,$|0,at|0,x|0)|0,Ee=Xe,X=m0(n|0,J|0,Ie|0,Ne|0)|0,J=Xe,n=m0(se|0,Ee|0,Ie|0,Ne|0)|0,Ee=Xe,se=Gr(st|0,b|0,F|0,I|0)|0,I=Xe,F=Gr(at|0,x|0,re|0,$|0)|0,$=Xe,re=m0(se|0,I|0,Ie|0,Ne|0)|0,I=Xe,se=m0(F|0,$|0,Ie|0,Ne|0)|0,$=Xe,F=a<<1,K=e[o+(F<<2)>>2]|0,me=((K|0)<0)<<31>>31,j=e[o+((F|1)<<2)>>2]|0,F=((j|0)<0)<<31>>31,_e=Gr(K|0,me|0,X|0,J|0)|0,fe=Xe,Ce=Gr(j|0,F|0,n|0,Ee|0)|0,Ue=Xe,Ve=zi(_e|0,fe|0,_e|0,fe|0)|0,fe=Xe,_e=zi(Ce|0,Ue|0,Ce|0,Ue|0)|0,Ue=Wt(_e|0,Xe|0,Ve|0,fe|0)|0,fe=Xe,Ve=Gr(K|0,me|0,re|0,I|0)|0,me=Xe,K=Gr(j|0,F|0,se|0,$|0)|0,F=Xe,j=zi(Ve|0,me|0,Ve|0,me|0)|0,me=Xe,Ve=zi(K|0,F|0,K|0,F|0)|0,F=Wt(Ve|0,Xe|0,j|0,me|0)|0,me=Xe,j=r+16|0,Ve=r+20|0,K=e[Ve>>2]|0,_e=e[r+24>>2]|0,Ce=(K|0)==(_e<<5|0),fe>>>0<me>>>0|(fe|0)==(me|0)&Ue>>>0<F>>>0){do if(Ce)if((K+1|0)<0)Je();else{F=_e<<6,Ue=K+32&-32,la(j,K>>>0<1073741823?F>>>0<Ue>>>0?Ue:F:2147483647),Nt=e[Ve>>2]|0;break}else Nt=K;while(0);e[Ve>>2]=Nt+1,Ne=(e[j>>2]|0)+(Nt>>>5<<2)|0,e[Ne>>2]=e[Ne>>2]|1<<(Nt&31),At=X,Vt=n}else{do if(Ce)if((K+1|0)<0)Je();else{Ne=_e<<6,Ie=K+32&-32,la(j,K>>>0<1073741823?Ne>>>0<Ie>>>0?Ie:Ne:2147483647),Pt=e[Ve>>2]|0;break}else Pt=K;while(0);e[Ve>>2]=Pt+1,K=(e[j>>2]|0)+(Pt>>>5<<2)|0,e[K>>2]=e[K>>2]&~(1<<(Pt&31)),At=re,Vt=se}return e[r+8>>2]=At,e[r+12>>2]=Vt,q=f,1}while(0);do if(S)xt=v<<1;else{if((a|0)>0){xt=(a<<1)+-2|0;break}return Vt=r+8|0,e[Vt>>2]=0,e[Vt+4>>2]=0,q=f,1}while(0);return e[r+8>>2]=e[o+(xt<<2)>>2],e[r+12>>2]=e[o+(xt+1<<2)>>2],q=f,1}function Nl(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=Ar,Q=0,U=0,j=0,$=0;if(!a)return f=0,f|0;do switch(e[r+28>>2]|0){case 1:{if(h=r+24|0,c=Z[h>>0]|0,(c<<24>>24>o<<24>>24?o:c)<<24>>24>0)for(g=e[e[r>>2]>>2]|0,d=r+40|0,m=zi(e[d>>2]|0,e[d+4>>2]|0,e[n>>2]|0,0)|0,d=r+48|0,b=Wt(m|0,Xe|0,e[d>>2]|0,e[d+4>>2]|0)|0,d=g+b|0,b=0;;)if(g=Z[d>>0]|0,m=a+(b<<3)|0,e[m>>2]=g,e[m+4>>2]=((g|0)<0)<<31>>31,b=b+1|0,g=Z[h>>0]|0,(b|0)>=((g<<24>>24>o<<24>>24?o:g)<<24>>24|0)){v=g;break}else d=d+1|0;else v=c;return d=v<<24>>24,v<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(d<<3)|0,0,(o<<24>>24)-d<<3|0)|0,f=1,f|0)}case 2:{if(d=r+24|0,b=Z[d>>0]|0,(b<<24>>24>o<<24>>24?o:b)<<24>>24>0)for(h=e[e[r>>2]>>2]|0,g=r+40|0,m=zi(e[g>>2]|0,e[g+4>>2]|0,e[n>>2]|0,0)|0,g=r+48|0,x=Wt(m|0,Xe|0,e[g>>2]|0,e[g+4>>2]|0)|0,g=h+x|0,x=0;;)if(h=a+(x<<3)|0,e[h>>2]=yi[g>>0],e[h+4>>2]=0,x=x+1|0,h=Z[d>>0]|0,(x|0)>=((h<<24>>24>o<<24>>24?o:h)<<24>>24|0)){C=h;break}else g=g+1|0;else C=b;return g=C<<24>>24,C<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(g<<3)|0,0,(o<<24>>24)-g<<3|0)|0,f=1,f|0)}case 3:{if(g=r+24|0,x=Z[g>>0]|0,(x<<24>>24>o<<24>>24?o:x)<<24>>24>0)for(d=e[e[r>>2]>>2]|0,c=r+40|0,h=zi(e[c>>2]|0,e[c+4>>2]|0,e[n>>2]|0,0)|0,c=r+48|0,m=Wt(h|0,Xe|0,e[c>>2]|0,e[c+4>>2]|0)|0,c=d+m|0,m=0;;)if(d=Oi[c>>1]|0,h=a+(m<<3)|0,e[h>>2]=d,e[h+4>>2]=((d|0)<0)<<31>>31,m=m+1|0,d=Z[g>>0]|0,(m|0)>=((d<<24>>24>o<<24>>24?o:d)<<24>>24|0)){S=d;break}else c=c+2|0;else S=x;return c=S<<24>>24,S<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(c<<3)|0,0,(o<<24>>24)-c<<3|0)|0,f=1,f|0)}case 4:{if(c=r+24|0,m=Z[c>>0]|0,(m<<24>>24>o<<24>>24?o:m)<<24>>24>0)for(g=e[e[r>>2]>>2]|0,b=r+40|0,d=zi(e[b>>2]|0,e[b+4>>2]|0,e[n>>2]|0,0)|0,b=r+48|0,h=Wt(d|0,Xe|0,e[b>>2]|0,e[b+4>>2]|0)|0,b=g+h|0,h=0;;)if(g=a+(h<<3)|0,e[g>>2]=aa[b>>1],e[g+4>>2]=0,h=h+1|0,g=Z[c>>0]|0,(h|0)>=((g<<24>>24>o<<24>>24?o:g)<<24>>24|0)){M=g;break}else b=b+2|0;else M=m;return b=M<<24>>24,M<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(b<<3)|0,0,(o<<24>>24)-b<<3|0)|0,f=1,f|0)}case 5:{if(b=r+24|0,h=Z[b>>0]|0,(h<<24>>24>o<<24>>24?o:h)<<24>>24>0)for(c=e[e[r>>2]>>2]|0,x=r+40|0,g=zi(e[x>>2]|0,e[x+4>>2]|0,e[n>>2]|0,0)|0,x=r+48|0,d=Wt(g|0,Xe|0,e[x>>2]|0,e[x+4>>2]|0)|0,x=c+d|0,d=0;;)if(c=e[x>>2]|0,g=a+(d<<3)|0,e[g>>2]=c,e[g+4>>2]=((c|0)<0)<<31>>31,d=d+1|0,c=Z[b>>0]|0,(d|0)>=((c<<24>>24>o<<24>>24?o:c)<<24>>24|0)){I=c;break}else x=x+4|0;else I=h;return x=I<<24>>24,I<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(x<<3)|0,0,(o<<24>>24)-x<<3|0)|0,f=1,f|0)}case 6:{if(x=r+24|0,d=Z[x>>0]|0,(d<<24>>24>o<<24>>24?o:d)<<24>>24>0)for(b=e[e[r>>2]>>2]|0,m=r+40|0,c=zi(e[m>>2]|0,e[m+4>>2]|0,e[n>>2]|0,0)|0,m=r+48|0,g=Wt(c|0,Xe|0,e[m>>2]|0,e[m+4>>2]|0)|0,m=b+g|0,g=0;;)if(b=a+(g<<3)|0,e[b>>2]=e[m>>2],e[b+4>>2]=0,g=g+1|0,b=Z[x>>0]|0,(g|0)>=((b<<24>>24>o<<24>>24?o:b)<<24>>24|0)){D=b;break}else m=m+4|0;else D=d;return m=D<<24>>24,D<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(m<<3)|0,0,(o<<24>>24)-m<<3|0)|0,f=1,f|0)}case 7:{if(m=r+24|0,g=Z[m>>0]|0,(g<<24>>24>o<<24>>24?o:g)<<24>>24>0)for(x=e[e[r>>2]>>2]|0,h=r+40|0,b=zi(e[h>>2]|0,e[h+4>>2]|0,e[n>>2]|0,0)|0,h=r+48|0,c=Wt(b|0,Xe|0,e[h>>2]|0,e[h+4>>2]|0)|0,h=x+c|0,c=0;;)if(x=h,b=e[x+4>>2]|0,L=a+(c<<3)|0,e[L>>2]=e[x>>2],e[L+4>>2]=b,c=c+1|0,b=Z[m>>0]|0,(c|0)>=((b<<24>>24>o<<24>>24?o:b)<<24>>24|0)){N=b;break}else h=h+8|0;else N=g;return h=N<<24>>24,N<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(h<<3)|0,0,(o<<24>>24)-h<<3|0)|0,f=1,f|0)}case 8:{if(h=r+24|0,c=Z[h>>0]|0,(c<<24>>24>o<<24>>24?o:c)<<24>>24>0)for(m=e[e[r>>2]>>2]|0,d=r+40|0,b=zi(e[d>>2]|0,e[d+4>>2]|0,e[n>>2]|0,0)|0,d=r+48|0,L=Wt(b|0,Xe|0,e[d>>2]|0,e[d+4>>2]|0)|0,d=m+L|0,L=0;;)if(m=d,b=e[m+4>>2]|0,x=a+(L<<3)|0,e[x>>2]=e[m>>2],e[x+4>>2]=b,L=L+1|0,b=Z[h>>0]|0,(L|0)>=((b<<24>>24>o<<24>>24?o:b)<<24>>24|0)){X=b;break}else d=d+8|0;else X=c;return d=X<<24>>24,X<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(d<<3)|0,0,(o<<24>>24)-d<<3|0)|0,f=1,f|0)}case 9:{if(d=r+24|0,L=Z[d>>0]|0,(L<<24>>24>o<<24>>24?o:L)<<24>>24>0)for(h=e[e[r>>2]>>2]|0,g=r+40|0,b=zi(e[g>>2]|0,e[g+4>>2]|0,e[n>>2]|0,0)|0,g=r+48|0,x=Wt(b|0,Xe|0,e[g>>2]|0,e[g+4>>2]|0)|0,g=h+x|0,x=0;;)if(V=qt(br[g>>2]),h=+f0(+V)>=1?+V>0?~~+i0(+bn(+V/4294967296),4294967295)>>>0:~~+yr((+V-+(~~+V>>>0))/4294967296)>>>0:0,b=a+(x<<3)|0,e[b>>2]=~~+V>>>0,e[b+4>>2]=h,x=x+1|0,h=Z[d>>0]|0,(x|0)>=((h<<24>>24>o<<24>>24?o:h)<<24>>24|0)){Q=h;break}else g=g+4|0;else Q=L;return g=Q<<24>>24,Q<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(g<<3)|0,0,(o<<24>>24)-g<<3|0)|0,f=1,f|0)}case 10:{if(g=r+24|0,x=Z[g>>0]|0,(x<<24>>24>o<<24>>24?o:x)<<24>>24>0)for(d=e[e[r>>2]>>2]|0,c=r+40|0,h=zi(e[c>>2]|0,e[c+4>>2]|0,e[n>>2]|0,0)|0,c=r+48|0,b=Wt(h|0,Xe|0,e[c>>2]|0,e[c+4>>2]|0)|0,c=d+b|0,b=0;;)if(U=+L0[c>>3],d=+f0(U)>=1?U>0?~~+i0(+bn(U/4294967296),4294967295)>>>0:~~+yr((U-+(~~U>>>0))/4294967296)>>>0:0,h=a+(b<<3)|0,e[h>>2]=~~U>>>0,e[h+4>>2]=d,b=b+1|0,d=Z[g>>0]|0,(b|0)>=((d<<24>>24>o<<24>>24?o:d)<<24>>24|0)){j=d;break}else c=c+8|0;else j=x;return c=j<<24>>24,j<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(c<<3)|0,0,(o<<24>>24)-c<<3|0)|0,f=1,f|0)}case 11:{if(c=r+24|0,b=Z[c>>0]|0,(b<<24>>24>o<<24>>24?o:b)<<24>>24>0)for(g=e[e[r>>2]>>2]|0,L=r+40|0,d=zi(e[L>>2]|0,e[L+4>>2]|0,e[n>>2]|0,0)|0,L=r+48|0,h=Wt(d|0,Xe|0,e[L>>2]|0,e[L+4>>2]|0)|0,L=g+h|0,h=0;;)if(g=a+(h<<3)|0,e[g>>2]=yi[L>>0],e[g+4>>2]=0,h=h+1|0,g=Z[c>>0]|0,(h|0)>=((g<<24>>24>o<<24>>24?o:g)<<24>>24|0)){$=g;break}else L=L+1|0;else $=b;return L=$<<24>>24,$<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(L<<3)|0,0,(o<<24>>24)-L<<3|0)|0,f=1,f|0)}default:return f=0,f|0}while(0);return 0}function J_(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0;if(o=q,q=q+16|0,a=o+8|0,f=o,(e[r+92>>2]|0)==(e[r+88>>2]|0))return q=o,1;if(h=r+52|0,c=e[h>>2]|0,(c|0)==(e[r+56>>2]|0)?(pr(r+48|0,n),g=n):(e[c>>2]=e[n>>2],e[h>>2]=c+4,g=n),n=r+84|0,e[n>>2]=0,c=r+4|0,h=e[c>>2]|0,d=e[g>>2]|0,m=d+1|0,(d|0)!=-1?(b=((m>>>0)%3|0|0)==0?d+-2|0:m,(b|0)==-1?v=-1:v=e[(e[h>>2]|0)+(b<<2)>>2]|0,b=(((d>>>0)%3|0|0)==0?2:-1)+d|0,(b|0)==-1?(x=v,C=-1):(x=v,C=e[(e[h>>2]|0)+(b<<2)>>2]|0)):(x=-1,C=-1),b=r+36|0,h=e[b>>2]|0,v=h+(x>>>5<<2)|0,d=1<<(x&31),m=e[v>>2]|0,m&d?I=h:(e[v>>2]=m|d,d=e[g>>2]|0,m=d+1|0,(d|0)==-1?S=-1:S=((m>>>0)%3|0|0)==0?d+-2|0:m,e[f>>2]=S,m=e[(e[(e[r+16>>2]|0)+96>>2]|0)+(((S>>>0)/3|0)*12|0)+(((S>>>0)%3|0)<<2)>>2]|0,S=e[r+20>>2]|0,e[a>>2]=m,d=e[S+4>>2]|0,S=d+4|0,v=e[S>>2]|0,(v|0)==(e[d+8>>2]|0)?pr(d,a):(e[v>>2]=m,e[S>>2]=v+4),v=r+12|0,S=e[v>>2]|0,m=S+4|0,d=e[m>>2]|0,(d|0)==(e[S+8>>2]|0)?(pr(S,f),M=e[v>>2]|0):(e[d>>2]=e[f>>2],e[m>>2]=d+4,M=S),S=M+24|0,e[(e[M+12>>2]|0)+(x<<2)>>2]=e[S>>2],e[S>>2]=(e[S>>2]|0)+1,I=e[b>>2]|0),h=I+(C>>>5<<2)|0,I=1<<(C&31),S=e[h>>2]|0,!(S&I)){e[h>>2]=S|I,I=e[g>>2]|0;do if((I|0)!=-1)if((I>>>0)%3|0){D=I+-1|0;break}else{D=I+2|0;break}else D=-1;while(0);e[f>>2]=D,I=e[(e[(e[r+16>>2]|0)+96>>2]|0)+(((D>>>0)/3|0)*12|0)+(((D>>>0)%3|0)<<2)>>2]|0,D=e[r+20>>2]|0,e[a>>2]=I,S=e[D+4>>2]|0,D=S+4|0,h=e[D>>2]|0,(h|0)==(e[S+8>>2]|0)?pr(S,a):(e[h>>2]=I,e[D>>2]=h+4),h=r+12|0,D=e[h>>2]|0,I=D+4|0,S=e[I>>2]|0,(S|0)==(e[D+8>>2]|0)?(pr(D,f),L=e[h>>2]|0):(e[S>>2]=e[f>>2],e[I>>2]=S+4,L=D),D=L+24|0,e[(e[L+12>>2]|0)+(C<<2)>>2]=e[D>>2],e[D>>2]=(e[D>>2]|0)+1}D=e[g>>2]|0,(D|0)==-1?N=-1:N=e[(e[e[c>>2]>>2]|0)+(D<<2)>>2]|0,D=(e[b>>2]|0)+(N>>>5<<2)|0,C=1<<(N&31),L=e[D>>2]|0,C&L||(e[D>>2]=L|C,C=e[g>>2]|0,e[f>>2]=C,L=e[(e[(e[r+16>>2]|0)+96>>2]|0)+(((C>>>0)/3|0)*12|0)+(((C>>>0)%3|0)<<2)>>2]|0,C=e[r+20>>2]|0,e[a>>2]=L,D=e[C+4>>2]|0,C=D+4|0,S=e[C>>2]|0,(S|0)==(e[D+8>>2]|0)?pr(D,a):(e[S>>2]=L,e[C>>2]=S+4),S=r+12|0,C=e[S>>2]|0,L=C+4|0,D=e[L>>2]|0,(D|0)==(e[C+8>>2]|0)?(pr(C,f),X=e[S>>2]|0):(e[D>>2]=e[f>>2],e[L>>2]=D+4,X=C),C=X+24|0,e[(e[X+12>>2]|0)+(N<<2)>>2]=e[C>>2],e[C>>2]=(e[C>>2]|0)+1),C=e[n>>2]|0;e:do if((C|0)<3){for(N=r+24|0,X=r+16|0,D=r+20|0,L=r+12|0,S=r+88|0,I=C;;){for(h=I;V=r+48+(h*12|0)+4|0,Q=e[V>>2]|0,(e[r+48+(h*12|0)>>2]|0)==(Q|0);)if((h|0)<2)h=h+1|0;else break e;if(x=Q+-4|0,M=e[x>>2]|0,e[V>>2]=x,e[n>>2]=h,e[g>>2]=M,(M|0)==-1)break;x=(M>>>0)/3|0,d=e[N>>2]|0;do if(e[d+(x>>>5<<2)>>2]&1<<(x&31))Ke=h;else{m=M,v=d;t:for(;;){if(U=(m>>>0)/3|0,j=v+(U>>>5<<2)|0,e[j>>2]=1<<(U&31)|e[j>>2],j=e[g>>2]|0,(j|0)==-1?$=-1:$=e[(e[e[c>>2]>>2]|0)+(j<<2)>>2]|0,U=(e[b>>2]|0)+($>>>5<<2)|0,J=1<<($&31),F=e[U>>2]|0,J&F?se=j:(e[U>>2]=F|J,J=e[g>>2]|0,e[f>>2]=J,F=e[(e[(e[X>>2]|0)+96>>2]|0)+(((J>>>0)/3|0)*12|0)+(((J>>>0)%3|0)<<2)>>2]|0,J=e[D>>2]|0,e[a>>2]=F,U=e[J+4>>2]|0,J=U+4|0,K=e[J>>2]|0,(K|0)==(e[U+8>>2]|0)?pr(U,a):(e[K>>2]=F,e[J>>2]=K+4),K=e[L>>2]|0,J=K+4|0,F=e[J>>2]|0,(F|0)==(e[K+8>>2]|0)?(pr(K,f),re=e[L>>2]|0):(e[F>>2]=e[f>>2],e[J>>2]=F+4,re=K),K=re+24|0,e[(e[re+12>>2]|0)+($<<2)>>2]=e[K>>2],e[K>>2]=(e[K>>2]|0)+1,se=e[g>>2]|0),j=e[c>>2]|0,(se|0)==-1){fe=93;break}K=se+1|0,F=((K>>>0)%3|0|0)==0?se+-2|0:K,(F|0)==-1?Ee=-1:Ee=e[(e[j+12>>2]|0)+(F<<2)>>2]|0,F=(((se>>>0)%3|0|0)==0?2:-1)+se|0,(F|0)==-1?Ne=-1:Ne=e[(e[j+12>>2]|0)+(F<<2)>>2]|0,F=(Ee|0)==-1,K=F?-1:(Ee>>>0)/3|0,J=(Ne|0)==-1,U=J?-1:(Ne>>>0)/3|0,F?me=1:me=(e[(e[N>>2]|0)+(K>>>5<<2)>>2]&1<<(K&31)|0)!=0;do if(J)if(me){fe=93;break t}else fe=82;else{if(e[(e[N>>2]|0)+(U>>>5<<2)>>2]&1<<(U&31)|0)if(me){fe=93;break t}else{fe=82;break}if(K=e[(e[j>>2]|0)+(Ne<<2)>>2]|0,1<<(K&31)&e[(e[b>>2]|0)+(K>>>5<<2)>>2]?_e=0:(Ie=(e[S>>2]|0)+(K<<2)|0,K=e[Ie>>2]|0,e[Ie>>2]=K+1,_e=(K|0)>0?1:2),me&&(_e|0)<=(e[n>>2]|0)){Ce=Ne;break}if(e[a>>2]=Ne,K=r+48+(_e*12|0)+4|0,Ie=e[K>>2]|0,(Ie|0)==(e[r+48+(_e*12|0)+8>>2]|0)?pr(r+48+(_e*12|0)|0,a):(e[Ie>>2]=Ne,e[K>>2]=Ie+4),(e[n>>2]|0)>(_e|0)&&(e[n>>2]=_e),me){fe=93;break t}else fe=82}while(0);if((fe|0)==82){if(fe=0,F?We=-1:We=e[(e[e[c>>2]>>2]|0)+(Ee<<2)>>2]|0,1<<(We&31)&e[(e[b>>2]|0)+(We>>>5<<2)>>2]?at=0:(j=(e[S>>2]|0)+(We<<2)|0,U=e[j>>2]|0,e[j>>2]=U+1,at=(U|0)>0?1:2),(at|0)>(e[n>>2]|0))break;Ce=Ee}e[g>>2]=Ce,m=Ce,v=e[N>>2]|0}if((fe|0)==93){fe=0,Ke=e[n>>2]|0;break}e[a>>2]=Ee,v=r+48+(at*12|0)+4|0,m=e[v>>2]|0,(m|0)==(e[r+48+(at*12|0)+8>>2]|0)?pr(r+48+(at*12|0)|0,a):(e[m>>2]=Ee,e[v>>2]=m+4),m=e[n>>2]|0,(m|0)>(at|0)?(e[n>>2]=at,Ve=at):Ve=m,Ke=Ve}while(0);if((Ke|0)<3)I=Ke;else break e}return q=o,1}while(0);return e[g>>2]=-1,q=o,1}function Y6(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0;a=r,r=n;e:for(;;){for(n=r,f=r+-4|0,h=a;;){c=h;t:for(;;){switch(g=c,d=n-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(v=c+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=De(c,c+(d<<2)|0,v,v+(d<<2)|0,f,o)|0):x=Tn(c,v,f,o)|0,C=e[c>>2]|0,d=e[v>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,M=(e[S+4>>2]|0)-m>>3,M>>>0<=C>>>0){b=20;break e}if(I=m,M>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,D=e[I+(d<<3)>>2]|0,m>>>0<D>>>0){L=f,N=x;break}else X=f;for(;X=X+-4|0,(c|0)!=(X|0);){if(V=e[X>>2]|0,M>>>0<=V>>>0){b=51;break e}if((e[I+(V<<3)>>2]|0)>>>0<D>>>0){b=53;break t}}if(D=c+4|0,d=e[f>>2]|0,M>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=D;else{if((D|0)==(f|0)){b=84;break e}else U=D;for(;;){if(j=e[U>>2]|0,M>>>0<=j>>>0){b=32;break e}if(m>>>0<(e[I+(j<<3)>>2]|0)>>>0)break;if(D=U+4|0,(D|0)==(f|0)){b=84;break e}else U=D}e[U>>2]=d,e[f>>2]=j,Q=U+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[c>>2]|0,$=e[o>>2]|0,m=e[$>>2]|0,M=(e[$+4>>2]|0)-m>>3,M>>>0<=I>>>0){b=38;break e}for(D=m,m=f,J=Q,F=I;;){for(I=D+(F<<3)|0,K=M>>>0>F>>>0,re=J;;){if(se=e[re>>2]|0,M>>>0<=se>>>0){b=40;break e}if(fe=e[I>>2]|0,fe>>>0<(e[D+(se<<3)>>2]|0)>>>0)break;if(K)re=re+4|0;else{b=38;break e}}if(M>>>0>F>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Ne=e[Ee>>2]|0,M>>>0<=Ne>>>0){b=47;break e}while(fe>>>0<(e[D+(Ne<<3)>>2]|0)>>>0);if(re>>>0>=Ee>>>0){c=re;continue t}if(K=e[re>>2]|0,e[re>>2]=Ne,e[Ee>>2]=K,F=e[c>>2]|0,M>>>0<=F>>>0){b=38;break e}else m=Ee,J=re+4|0}}(b|0)==53&&(b=0,e[c>>2]=V,e[X>>2]=C,L=X,N=x+1|0),J=c+4|0;t:do if(J>>>0<L>>>0){if(m=e[J>>2]|0,F=e[o>>2]|0,M=e[F>>2]|0,D=(e[F+4>>2]|0)-M>>3,D>>>0>m>>>0)me=L,Ie=J,_e=N,Ce=v,We=D,at=M,Ke=F,Ve=m;else{b=57;break e}for(;;){for(F=e[o>>2]|0,m=F+4|0,M=e[Ce>>2]|0,D=Ie,d=at,K=We,Ue=Ke,I=Ve;;){if(se=d,K>>>0<=M>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(M<<3)>>2]|0)>>>0)break;if(se=D+4|0,st=e[se>>2]|0,d=e[F>>2]|0,K=(e[m>>2]|0)-d>>3,K>>>0<=st>>>0){b=57;break e}else D=se,Ue=F,I=st}if(F=e[Ce>>2]|0,at=e[Ue>>2]|0,We=(e[Ue+4>>2]|0)-at>>3,K=at,d=K+(F<<3)|0,We>>>0>F>>>0)Qe=me;else{b=65;break e}do if(Qe=Qe+-4|0,it=e[Qe>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[K+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(D>>>0>Qe>>>0){ze=Ce,Ge=_e,ke=D;break t}if(e[D>>2]=it,e[Qe>>2]=I,Ie=D+4|0,Ve=e[Ie>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else me=Qe,_e=_e+1|0,Ce=(Ce|0)==(D|0)?Qe:Ce,Ke=Ue}}else ze=v,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,K=e[ut>>2]|0,F=(e[ut+4>>2]|0)-K>>3,F>>>0<=J>>>0){b=72;break e}if(m=K,F>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,et=Ge+1|0):et=Ge}else et=Ge;if(!et){if(ot=Kn(c,ke,o)|0,d=ke+4|0,Kn(d,r,o)|0){b=83;break}if(ot){h=d;continue}}if(d=ke,(d-g|0)>=(n-d|0)){b=82;break}Y6(c,ke,o),h=ke+4|0}if((b|0)==82){b=0,Y6(ke+4|0,r,o),a=c,r=ke;continue}else if((b|0)==83)if(b=0,ot){b=84;break}else{a=c,r=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[c>>2]|0,a=e[o>>2]|0,ot=e[a>>2]|0,g=(e[a+4>>2]|0)-ot>>3,g>>>0<=b>>>0&&Je(),et=ot,g>>>0<=ke>>>0&&Je(),(e[et+(b<<3)>>2]|0)>>>0>=(e[et+(ke<<3)>>2]|0)>>>0)return;e[c>>2]=b,e[f>>2]=ke;return}case 11:{Tn(c,c+4|0,f,o)|0;return}case 12:{ho(c,c+4|0,c+8|0,f,o)|0;return}case 13:{De(c,c+4|0,c+8|0,c+12|0,f,o)|0;return}case 15:{No(c,r,o);return}case 20:{Je();break}case 22:{Je();break}case 26:{Je();break}case 32:{Je();break}case 38:{Je();break}case 40:{Je();break}case 46:{Je();break}case 47:{Je();break}case 51:{Je();break}case 57:{Je();break}case 59:{Je();break}case 65:{We>>>0>(e[me+-4>>2]|0)>>>0,Je();break}case 66:{Je();break}case 72:{Je();break}case 74:{Je();break}case 84:return}}function K6(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0;a=r,r=n;e:for(;;){for(n=r,f=r+-4|0,h=a;;){c=h;t:for(;;){switch(g=c,d=n-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(v=c+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=De(c,c+(d<<2)|0,v,v+(d<<2)|0,f,o)|0):x=Tn(c,v,f,o)|0,C=e[c>>2]|0,d=e[v>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,M=(e[S+4>>2]|0)-m>>3,M>>>0<=C>>>0){b=20;break e}if(I=m,M>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,D=e[I+(d<<3)>>2]|0,m>>>0<D>>>0){L=f,N=x;break}else X=f;for(;X=X+-4|0,(c|0)!=(X|0);){if(V=e[X>>2]|0,M>>>0<=V>>>0){b=51;break e}if((e[I+(V<<3)>>2]|0)>>>0<D>>>0){b=53;break t}}if(D=c+4|0,d=e[f>>2]|0,M>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=D;else{if((D|0)==(f|0)){b=84;break e}else U=D;for(;;){if(j=e[U>>2]|0,M>>>0<=j>>>0){b=32;break e}if(m>>>0<(e[I+(j<<3)>>2]|0)>>>0)break;if(D=U+4|0,(D|0)==(f|0)){b=84;break e}else U=D}e[U>>2]=d,e[f>>2]=j,Q=U+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[c>>2]|0,$=e[o>>2]|0,m=e[$>>2]|0,M=(e[$+4>>2]|0)-m>>3,M>>>0<=I>>>0){b=38;break e}for(D=m,m=f,J=Q,F=I;;){for(I=D+(F<<3)|0,K=M>>>0>F>>>0,re=J;;){if(se=e[re>>2]|0,M>>>0<=se>>>0){b=40;break e}if(fe=e[I>>2]|0,fe>>>0<(e[D+(se<<3)>>2]|0)>>>0)break;if(K)re=re+4|0;else{b=38;break e}}if(M>>>0>F>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Ne=e[Ee>>2]|0,M>>>0<=Ne>>>0){b=47;break e}while(fe>>>0<(e[D+(Ne<<3)>>2]|0)>>>0);if(re>>>0>=Ee>>>0){c=re;continue t}if(K=e[re>>2]|0,e[re>>2]=Ne,e[Ee>>2]=K,F=e[c>>2]|0,M>>>0<=F>>>0){b=38;break e}else m=Ee,J=re+4|0}}(b|0)==53&&(b=0,e[c>>2]=V,e[X>>2]=C,L=X,N=x+1|0),J=c+4|0;t:do if(J>>>0<L>>>0){if(m=e[J>>2]|0,F=e[o>>2]|0,M=e[F>>2]|0,D=(e[F+4>>2]|0)-M>>3,D>>>0>m>>>0)me=L,Ie=J,_e=N,Ce=v,We=D,at=M,Ke=F,Ve=m;else{b=57;break e}for(;;){for(F=e[o>>2]|0,m=F+4|0,M=e[Ce>>2]|0,D=Ie,d=at,K=We,Ue=Ke,I=Ve;;){if(se=d,K>>>0<=M>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(M<<3)>>2]|0)>>>0)break;if(se=D+4|0,st=e[se>>2]|0,d=e[F>>2]|0,K=(e[m>>2]|0)-d>>3,K>>>0<=st>>>0){b=57;break e}else D=se,Ue=F,I=st}if(F=e[Ce>>2]|0,at=e[Ue>>2]|0,We=(e[Ue+4>>2]|0)-at>>3,K=at,d=K+(F<<3)|0,We>>>0>F>>>0)Qe=me;else{b=65;break e}do if(Qe=Qe+-4|0,it=e[Qe>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[K+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(D>>>0>Qe>>>0){ze=Ce,Ge=_e,ke=D;break t}if(e[D>>2]=it,e[Qe>>2]=I,Ie=D+4|0,Ve=e[Ie>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else me=Qe,_e=_e+1|0,Ce=(Ce|0)==(D|0)?Qe:Ce,Ke=Ue}}else ze=v,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,K=e[ut>>2]|0,F=(e[ut+4>>2]|0)-K>>3,F>>>0<=J>>>0){b=72;break e}if(m=K,F>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,et=Ge+1|0):et=Ge}else et=Ge;if(!et){if(ot=Kn(c,ke,o)|0,d=ke+4|0,Kn(d,r,o)|0){b=83;break}if(ot){h=d;continue}}if(d=ke,(d-g|0)>=(n-d|0)){b=82;break}K6(c,ke,o),h=ke+4|0}if((b|0)==82){b=0,K6(ke+4|0,r,o),a=c,r=ke;continue}else if((b|0)==83)if(b=0,ot){b=84;break}else{a=c,r=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[c>>2]|0,a=e[o>>2]|0,ot=e[a>>2]|0,g=(e[a+4>>2]|0)-ot>>3,g>>>0<=b>>>0&&Je(),et=ot,g>>>0<=ke>>>0&&Je(),(e[et+(b<<3)>>2]|0)>>>0>=(e[et+(ke<<3)>>2]|0)>>>0)return;e[c>>2]=b,e[f>>2]=ke;return}case 11:{Tn(c,c+4|0,f,o)|0;return}case 12:{ho(c,c+4|0,c+8|0,f,o)|0;return}case 13:{De(c,c+4|0,c+8|0,c+12|0,f,o)|0;return}case 15:{No(c,r,o);return}case 20:{Je();break}case 22:{Je();break}case 26:{Je();break}case 32:{Je();break}case 38:{Je();break}case 40:{Je();break}case 46:{Je();break}case 47:{Je();break}case 51:{Je();break}case 57:{Je();break}case 59:{Je();break}case 65:{We>>>0>(e[me+-4>>2]|0)>>>0,Je();break}case 66:{Je();break}case 72:{Je();break}case 74:{Je();break}case 84:return}}function $6(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0;a=r,r=n;e:for(;;){for(n=r,f=r+-4|0,h=a;;){c=h;t:for(;;){switch(g=c,d=n-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(v=c+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=De(c,c+(d<<2)|0,v,v+(d<<2)|0,f,o)|0):x=Tn(c,v,f,o)|0,C=e[c>>2]|0,d=e[v>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,M=(e[S+4>>2]|0)-m>>3,M>>>0<=C>>>0){b=20;break e}if(I=m,M>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,D=e[I+(d<<3)>>2]|0,m>>>0<D>>>0){L=f,N=x;break}else X=f;for(;X=X+-4|0,(c|0)!=(X|0);){if(V=e[X>>2]|0,M>>>0<=V>>>0){b=51;break e}if((e[I+(V<<3)>>2]|0)>>>0<D>>>0){b=53;break t}}if(D=c+4|0,d=e[f>>2]|0,M>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=D;else{if((D|0)==(f|0)){b=84;break e}else U=D;for(;;){if(j=e[U>>2]|0,M>>>0<=j>>>0){b=32;break e}if(m>>>0<(e[I+(j<<3)>>2]|0)>>>0)break;if(D=U+4|0,(D|0)==(f|0)){b=84;break e}else U=D}e[U>>2]=d,e[f>>2]=j,Q=U+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[c>>2]|0,$=e[o>>2]|0,m=e[$>>2]|0,M=(e[$+4>>2]|0)-m>>3,M>>>0<=I>>>0){b=38;break e}for(D=m,m=f,J=Q,F=I;;){for(I=D+(F<<3)|0,K=M>>>0>F>>>0,re=J;;){if(se=e[re>>2]|0,M>>>0<=se>>>0){b=40;break e}if(fe=e[I>>2]|0,fe>>>0<(e[D+(se<<3)>>2]|0)>>>0)break;if(K)re=re+4|0;else{b=38;break e}}if(M>>>0>F>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Ne=e[Ee>>2]|0,M>>>0<=Ne>>>0){b=47;break e}while(fe>>>0<(e[D+(Ne<<3)>>2]|0)>>>0);if(re>>>0>=Ee>>>0){c=re;continue t}if(K=e[re>>2]|0,e[re>>2]=Ne,e[Ee>>2]=K,F=e[c>>2]|0,M>>>0<=F>>>0){b=38;break e}else m=Ee,J=re+4|0}}(b|0)==53&&(b=0,e[c>>2]=V,e[X>>2]=C,L=X,N=x+1|0),J=c+4|0;t:do if(J>>>0<L>>>0){if(m=e[J>>2]|0,F=e[o>>2]|0,M=e[F>>2]|0,D=(e[F+4>>2]|0)-M>>3,D>>>0>m>>>0)me=L,Ie=J,_e=N,Ce=v,We=D,at=M,Ke=F,Ve=m;else{b=57;break e}for(;;){for(F=e[o>>2]|0,m=F+4|0,M=e[Ce>>2]|0,D=Ie,d=at,K=We,Ue=Ke,I=Ve;;){if(se=d,K>>>0<=M>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(M<<3)>>2]|0)>>>0)break;if(se=D+4|0,st=e[se>>2]|0,d=e[F>>2]|0,K=(e[m>>2]|0)-d>>3,K>>>0<=st>>>0){b=57;break e}else D=se,Ue=F,I=st}if(F=e[Ce>>2]|0,at=e[Ue>>2]|0,We=(e[Ue+4>>2]|0)-at>>3,K=at,d=K+(F<<3)|0,We>>>0>F>>>0)Qe=me;else{b=65;break e}do if(Qe=Qe+-4|0,it=e[Qe>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[K+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(D>>>0>Qe>>>0){ze=Ce,Ge=_e,ke=D;break t}if(e[D>>2]=it,e[Qe>>2]=I,Ie=D+4|0,Ve=e[Ie>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else me=Qe,_e=_e+1|0,Ce=(Ce|0)==(D|0)?Qe:Ce,Ke=Ue}}else ze=v,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,K=e[ut>>2]|0,F=(e[ut+4>>2]|0)-K>>3,F>>>0<=J>>>0){b=72;break e}if(m=K,F>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,et=Ge+1|0):et=Ge}else et=Ge;if(!et){if(ot=Kn(c,ke,o)|0,d=ke+4|0,Kn(d,r,o)|0){b=83;break}if(ot){h=d;continue}}if(d=ke,(d-g|0)>=(n-d|0)){b=82;break}$6(c,ke,o),h=ke+4|0}if((b|0)==82){b=0,$6(ke+4|0,r,o),a=c,r=ke;continue}else if((b|0)==83)if(b=0,ot){b=84;break}else{a=c,r=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[c>>2]|0,a=e[o>>2]|0,ot=e[a>>2]|0,g=(e[a+4>>2]|0)-ot>>3,g>>>0<=b>>>0&&Je(),et=ot,g>>>0<=ke>>>0&&Je(),(e[et+(b<<3)>>2]|0)>>>0>=(e[et+(ke<<3)>>2]|0)>>>0)return;e[c>>2]=b,e[f>>2]=ke;return}case 11:{Tn(c,c+4|0,f,o)|0;return}case 12:{ho(c,c+4|0,c+8|0,f,o)|0;return}case 13:{De(c,c+4|0,c+8|0,c+12|0,f,o)|0;return}case 15:{No(c,r,o);return}case 20:{Je();break}case 22:{Je();break}case 26:{Je();break}case 32:{Je();break}case 38:{Je();break}case 40:{Je();break}case 46:{Je();break}case 47:{Je();break}case 51:{Je();break}case 57:{Je();break}case 59:{Je();break}case 65:{We>>>0>(e[me+-4>>2]|0)>>>0,Je();break}case 66:{Je();break}case 72:{Je();break}case 74:{Je();break}case 84:return}}function ex(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0;a=r,r=n;e:for(;;){for(n=r,f=r+-4|0,h=a;;){c=h;t:for(;;){switch(g=c,d=n-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(v=c+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=De(c,c+(d<<2)|0,v,v+(d<<2)|0,f,o)|0):x=Tn(c,v,f,o)|0,C=e[c>>2]|0,d=e[v>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,M=(e[S+4>>2]|0)-m>>3,M>>>0<=C>>>0){b=20;break e}if(I=m,M>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,D=e[I+(d<<3)>>2]|0,m>>>0<D>>>0){L=f,N=x;break}else X=f;for(;X=X+-4|0,(c|0)!=(X|0);){if(V=e[X>>2]|0,M>>>0<=V>>>0){b=51;break e}if((e[I+(V<<3)>>2]|0)>>>0<D>>>0){b=53;break t}}if(D=c+4|0,d=e[f>>2]|0,M>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=D;else{if((D|0)==(f|0)){b=84;break e}else U=D;for(;;){if(j=e[U>>2]|0,M>>>0<=j>>>0){b=32;break e}if(m>>>0<(e[I+(j<<3)>>2]|0)>>>0)break;if(D=U+4|0,(D|0)==(f|0)){b=84;break e}else U=D}e[U>>2]=d,e[f>>2]=j,Q=U+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[c>>2]|0,$=e[o>>2]|0,m=e[$>>2]|0,M=(e[$+4>>2]|0)-m>>3,M>>>0<=I>>>0){b=38;break e}for(D=m,m=f,J=Q,F=I;;){for(I=D+(F<<3)|0,K=M>>>0>F>>>0,re=J;;){if(se=e[re>>2]|0,M>>>0<=se>>>0){b=40;break e}if(fe=e[I>>2]|0,fe>>>0<(e[D+(se<<3)>>2]|0)>>>0)break;if(K)re=re+4|0;else{b=38;break e}}if(M>>>0>F>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Ne=e[Ee>>2]|0,M>>>0<=Ne>>>0){b=47;break e}while(fe>>>0<(e[D+(Ne<<3)>>2]|0)>>>0);if(re>>>0>=Ee>>>0){c=re;continue t}if(K=e[re>>2]|0,e[re>>2]=Ne,e[Ee>>2]=K,F=e[c>>2]|0,M>>>0<=F>>>0){b=38;break e}else m=Ee,J=re+4|0}}(b|0)==53&&(b=0,e[c>>2]=V,e[X>>2]=C,L=X,N=x+1|0),J=c+4|0;t:do if(J>>>0<L>>>0){if(m=e[J>>2]|0,F=e[o>>2]|0,M=e[F>>2]|0,D=(e[F+4>>2]|0)-M>>3,D>>>0>m>>>0)me=L,Ie=J,_e=N,Ce=v,We=D,at=M,Ke=F,Ve=m;else{b=57;break e}for(;;){for(F=e[o>>2]|0,m=F+4|0,M=e[Ce>>2]|0,D=Ie,d=at,K=We,Ue=Ke,I=Ve;;){if(se=d,K>>>0<=M>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(M<<3)>>2]|0)>>>0)break;if(se=D+4|0,st=e[se>>2]|0,d=e[F>>2]|0,K=(e[m>>2]|0)-d>>3,K>>>0<=st>>>0){b=57;break e}else D=se,Ue=F,I=st}if(F=e[Ce>>2]|0,at=e[Ue>>2]|0,We=(e[Ue+4>>2]|0)-at>>3,K=at,d=K+(F<<3)|0,We>>>0>F>>>0)Qe=me;else{b=65;break e}do if(Qe=Qe+-4|0,it=e[Qe>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[K+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(D>>>0>Qe>>>0){ze=Ce,Ge=_e,ke=D;break t}if(e[D>>2]=it,e[Qe>>2]=I,Ie=D+4|0,Ve=e[Ie>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else me=Qe,_e=_e+1|0,Ce=(Ce|0)==(D|0)?Qe:Ce,Ke=Ue}}else ze=v,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,K=e[ut>>2]|0,F=(e[ut+4>>2]|0)-K>>3,F>>>0<=J>>>0){b=72;break e}if(m=K,F>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,et=Ge+1|0):et=Ge}else et=Ge;if(!et){if(ot=Kn(c,ke,o)|0,d=ke+4|0,Kn(d,r,o)|0){b=83;break}if(ot){h=d;continue}}if(d=ke,(d-g|0)>=(n-d|0)){b=82;break}ex(c,ke,o),h=ke+4|0}if((b|0)==82){b=0,ex(ke+4|0,r,o),a=c,r=ke;continue}else if((b|0)==83)if(b=0,ot){b=84;break}else{a=c,r=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[c>>2]|0,a=e[o>>2]|0,ot=e[a>>2]|0,g=(e[a+4>>2]|0)-ot>>3,g>>>0<=b>>>0&&Je(),et=ot,g>>>0<=ke>>>0&&Je(),(e[et+(b<<3)>>2]|0)>>>0>=(e[et+(ke<<3)>>2]|0)>>>0)return;e[c>>2]=b,e[f>>2]=ke;return}case 11:{Tn(c,c+4|0,f,o)|0;return}case 12:{ho(c,c+4|0,c+8|0,f,o)|0;return}case 13:{De(c,c+4|0,c+8|0,c+12|0,f,o)|0;return}case 15:{No(c,r,o);return}case 20:{Je();break}case 22:{Je();break}case 26:{Je();break}case 32:{Je();break}case 38:{Je();break}case 40:{Je();break}case 46:{Je();break}case 47:{Je();break}case 51:{Je();break}case 57:{Je();break}case 59:{Je();break}case 65:{We>>>0>(e[me+-4>>2]|0)>>>0,Je();break}case 66:{Je();break}case 72:{Je();break}case 74:{Je();break}case 84:return}}function tx(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0;a=r,r=n;e:for(;;){for(n=r,f=r+-4|0,h=a;;){c=h;t:for(;;){switch(g=c,d=n-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(v=c+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=De(c,c+(d<<2)|0,v,v+(d<<2)|0,f,o)|0):x=Tn(c,v,f,o)|0,C=e[c>>2]|0,d=e[v>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,M=(e[S+4>>2]|0)-m>>3,M>>>0<=C>>>0){b=20;break e}if(I=m,M>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,D=e[I+(d<<3)>>2]|0,m>>>0<D>>>0){L=f,N=x;break}else X=f;for(;X=X+-4|0,(c|0)!=(X|0);){if(V=e[X>>2]|0,M>>>0<=V>>>0){b=51;break e}if((e[I+(V<<3)>>2]|0)>>>0<D>>>0){b=53;break t}}if(D=c+4|0,d=e[f>>2]|0,M>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=D;else{if((D|0)==(f|0)){b=84;break e}else U=D;for(;;){if(j=e[U>>2]|0,M>>>0<=j>>>0){b=32;break e}if(m>>>0<(e[I+(j<<3)>>2]|0)>>>0)break;if(D=U+4|0,(D|0)==(f|0)){b=84;break e}else U=D}e[U>>2]=d,e[f>>2]=j,Q=U+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[c>>2]|0,$=e[o>>2]|0,m=e[$>>2]|0,M=(e[$+4>>2]|0)-m>>3,M>>>0<=I>>>0){b=38;break e}for(D=m,m=f,J=Q,F=I;;){for(I=D+(F<<3)|0,K=M>>>0>F>>>0,re=J;;){if(se=e[re>>2]|0,M>>>0<=se>>>0){b=40;break e}if(fe=e[I>>2]|0,fe>>>0<(e[D+(se<<3)>>2]|0)>>>0)break;if(K)re=re+4|0;else{b=38;break e}}if(M>>>0>F>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Ne=e[Ee>>2]|0,M>>>0<=Ne>>>0){b=47;break e}while(fe>>>0<(e[D+(Ne<<3)>>2]|0)>>>0);if(re>>>0>=Ee>>>0){c=re;continue t}if(K=e[re>>2]|0,e[re>>2]=Ne,e[Ee>>2]=K,F=e[c>>2]|0,M>>>0<=F>>>0){b=38;break e}else m=Ee,J=re+4|0}}(b|0)==53&&(b=0,e[c>>2]=V,e[X>>2]=C,L=X,N=x+1|0),J=c+4|0;t:do if(J>>>0<L>>>0){if(m=e[J>>2]|0,F=e[o>>2]|0,M=e[F>>2]|0,D=(e[F+4>>2]|0)-M>>3,D>>>0>m>>>0)me=L,Ie=J,_e=N,Ce=v,We=D,at=M,Ke=F,Ve=m;else{b=57;break e}for(;;){for(F=e[o>>2]|0,m=F+4|0,M=e[Ce>>2]|0,D=Ie,d=at,K=We,Ue=Ke,I=Ve;;){if(se=d,K>>>0<=M>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(M<<3)>>2]|0)>>>0)break;if(se=D+4|0,st=e[se>>2]|0,d=e[F>>2]|0,K=(e[m>>2]|0)-d>>3,K>>>0<=st>>>0){b=57;break e}else D=se,Ue=F,I=st}if(F=e[Ce>>2]|0,at=e[Ue>>2]|0,We=(e[Ue+4>>2]|0)-at>>3,K=at,d=K+(F<<3)|0,We>>>0>F>>>0)Qe=me;else{b=65;break e}do if(Qe=Qe+-4|0,it=e[Qe>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[K+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(D>>>0>Qe>>>0){ze=Ce,Ge=_e,ke=D;break t}if(e[D>>2]=it,e[Qe>>2]=I,Ie=D+4|0,Ve=e[Ie>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else me=Qe,_e=_e+1|0,Ce=(Ce|0)==(D|0)?Qe:Ce,Ke=Ue}}else ze=v,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,K=e[ut>>2]|0,F=(e[ut+4>>2]|0)-K>>3,F>>>0<=J>>>0){b=72;break e}if(m=K,F>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,et=Ge+1|0):et=Ge}else et=Ge;if(!et){if(ot=Kn(c,ke,o)|0,d=ke+4|0,Kn(d,r,o)|0){b=83;break}if(ot){h=d;continue}}if(d=ke,(d-g|0)>=(n-d|0)){b=82;break}tx(c,ke,o),h=ke+4|0}if((b|0)==82){b=0,tx(ke+4|0,r,o),a=c,r=ke;continue}else if((b|0)==83)if(b=0,ot){b=84;break}else{a=c,r=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[c>>2]|0,a=e[o>>2]|0,ot=e[a>>2]|0,g=(e[a+4>>2]|0)-ot>>3,g>>>0<=b>>>0&&Je(),et=ot,g>>>0<=ke>>>0&&Je(),(e[et+(b<<3)>>2]|0)>>>0>=(e[et+(ke<<3)>>2]|0)>>>0)return;e[c>>2]=b,e[f>>2]=ke;return}case 11:{Tn(c,c+4|0,f,o)|0;return}case 12:{ho(c,c+4|0,c+8|0,f,o)|0;return}case 13:{De(c,c+4|0,c+8|0,c+12|0,f,o)|0;return}case 15:{No(c,r,o);return}case 20:{Je();break}case 22:{Je();break}case 26:{Je();break}case 32:{Je();break}case 38:{Je();break}case 40:{Je();break}case 46:{Je();break}case 47:{Je();break}case 51:{Je();break}case 57:{Je();break}case 59:{Je();break}case 65:{We>>>0>(e[me+-4>>2]|0)>>>0,Je();break}case 66:{Je();break}case 72:{Je();break}case 74:{Je();break}case 84:return}}function ix(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0;a=r,r=n;e:for(;;){for(n=r,f=r+-4|0,h=a;;){c=h;t:for(;;){switch(g=c,d=n-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(v=c+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=De(c,c+(d<<2)|0,v,v+(d<<2)|0,f,o)|0):x=Tn(c,v,f,o)|0,C=e[c>>2]|0,d=e[v>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,M=(e[S+4>>2]|0)-m>>3,M>>>0<=C>>>0){b=20;break e}if(I=m,M>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,D=e[I+(d<<3)>>2]|0,m>>>0<D>>>0){L=f,N=x;break}else X=f;for(;X=X+-4|0,(c|0)!=(X|0);){if(V=e[X>>2]|0,M>>>0<=V>>>0){b=51;break e}if((e[I+(V<<3)>>2]|0)>>>0<D>>>0){b=53;break t}}if(D=c+4|0,d=e[f>>2]|0,M>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=D;else{if((D|0)==(f|0)){b=84;break e}else U=D;for(;;){if(j=e[U>>2]|0,M>>>0<=j>>>0){b=32;break e}if(m>>>0<(e[I+(j<<3)>>2]|0)>>>0)break;if(D=U+4|0,(D|0)==(f|0)){b=84;break e}else U=D}e[U>>2]=d,e[f>>2]=j,Q=U+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[c>>2]|0,$=e[o>>2]|0,m=e[$>>2]|0,M=(e[$+4>>2]|0)-m>>3,M>>>0<=I>>>0){b=38;break e}for(D=m,m=f,J=Q,F=I;;){for(I=D+(F<<3)|0,K=M>>>0>F>>>0,re=J;;){if(se=e[re>>2]|0,M>>>0<=se>>>0){b=40;break e}if(fe=e[I>>2]|0,fe>>>0<(e[D+(se<<3)>>2]|0)>>>0)break;if(K)re=re+4|0;else{b=38;break e}}if(M>>>0>F>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Ne=e[Ee>>2]|0,M>>>0<=Ne>>>0){b=47;break e}while(fe>>>0<(e[D+(Ne<<3)>>2]|0)>>>0);if(re>>>0>=Ee>>>0){c=re;continue t}if(K=e[re>>2]|0,e[re>>2]=Ne,e[Ee>>2]=K,F=e[c>>2]|0,M>>>0<=F>>>0){b=38;break e}else m=Ee,J=re+4|0}}(b|0)==53&&(b=0,e[c>>2]=V,e[X>>2]=C,L=X,N=x+1|0),J=c+4|0;t:do if(J>>>0<L>>>0){if(m=e[J>>2]|0,F=e[o>>2]|0,M=e[F>>2]|0,D=(e[F+4>>2]|0)-M>>3,D>>>0>m>>>0)me=L,Ie=J,_e=N,Ce=v,We=D,at=M,Ke=F,Ve=m;else{b=57;break e}for(;;){for(F=e[o>>2]|0,m=F+4|0,M=e[Ce>>2]|0,D=Ie,d=at,K=We,Ue=Ke,I=Ve;;){if(se=d,K>>>0<=M>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(M<<3)>>2]|0)>>>0)break;if(se=D+4|0,st=e[se>>2]|0,d=e[F>>2]|0,K=(e[m>>2]|0)-d>>3,K>>>0<=st>>>0){b=57;break e}else D=se,Ue=F,I=st}if(F=e[Ce>>2]|0,at=e[Ue>>2]|0,We=(e[Ue+4>>2]|0)-at>>3,K=at,d=K+(F<<3)|0,We>>>0>F>>>0)Qe=me;else{b=65;break e}do if(Qe=Qe+-4|0,it=e[Qe>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[K+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(D>>>0>Qe>>>0){ze=Ce,Ge=_e,ke=D;break t}if(e[D>>2]=it,e[Qe>>2]=I,Ie=D+4|0,Ve=e[Ie>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else me=Qe,_e=_e+1|0,Ce=(Ce|0)==(D|0)?Qe:Ce,Ke=Ue}}else ze=v,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,K=e[ut>>2]|0,F=(e[ut+4>>2]|0)-K>>3,F>>>0<=J>>>0){b=72;break e}if(m=K,F>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,et=Ge+1|0):et=Ge}else et=Ge;if(!et){if(ot=Kn(c,ke,o)|0,d=ke+4|0,Kn(d,r,o)|0){b=83;break}if(ot){h=d;continue}}if(d=ke,(d-g|0)>=(n-d|0)){b=82;break}ix(c,ke,o),h=ke+4|0}if((b|0)==82){b=0,ix(ke+4|0,r,o),a=c,r=ke;continue}else if((b|0)==83)if(b=0,ot){b=84;break}else{a=c,r=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[c>>2]|0,a=e[o>>2]|0,ot=e[a>>2]|0,g=(e[a+4>>2]|0)-ot>>3,g>>>0<=b>>>0&&Je(),et=ot,g>>>0<=ke>>>0&&Je(),(e[et+(b<<3)>>2]|0)>>>0>=(e[et+(ke<<3)>>2]|0)>>>0)return;e[c>>2]=b,e[f>>2]=ke;return}case 11:{Tn(c,c+4|0,f,o)|0;return}case 12:{ho(c,c+4|0,c+8|0,f,o)|0;return}case 13:{De(c,c+4|0,c+8|0,c+12|0,f,o)|0;return}case 15:{No(c,r,o);return}case 20:{Je();break}case 22:{Je();break}case 26:{Je();break}case 32:{Je();break}case 38:{Je();break}case 40:{Je();break}case 46:{Je();break}case 47:{Je();break}case 51:{Je();break}case 57:{Je();break}case 59:{Je();break}case 65:{We>>>0>(e[me+-4>>2]|0)>>>0,Je();break}case 66:{Je();break}case 72:{Je();break}case 74:{Je();break}case 84:return}}function rx(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0;a=r,r=n;e:for(;;){for(n=r,f=r+-4|0,h=a;;){c=h;t:for(;;){switch(g=c,d=n-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(v=c+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=De(c,c+(d<<2)|0,v,v+(d<<2)|0,f,o)|0):x=Tn(c,v,f,o)|0,C=e[c>>2]|0,d=e[v>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,M=(e[S+4>>2]|0)-m>>3,M>>>0<=C>>>0){b=20;break e}if(I=m,M>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,D=e[I+(d<<3)>>2]|0,m>>>0<D>>>0){L=f,N=x;break}else X=f;for(;X=X+-4|0,(c|0)!=(X|0);){if(V=e[X>>2]|0,M>>>0<=V>>>0){b=51;break e}if((e[I+(V<<3)>>2]|0)>>>0<D>>>0){b=53;break t}}if(D=c+4|0,d=e[f>>2]|0,M>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=D;else{if((D|0)==(f|0)){b=84;break e}else U=D;for(;;){if(j=e[U>>2]|0,M>>>0<=j>>>0){b=32;break e}if(m>>>0<(e[I+(j<<3)>>2]|0)>>>0)break;if(D=U+4|0,(D|0)==(f|0)){b=84;break e}else U=D}e[U>>2]=d,e[f>>2]=j,Q=U+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[c>>2]|0,$=e[o>>2]|0,m=e[$>>2]|0,M=(e[$+4>>2]|0)-m>>3,M>>>0<=I>>>0){b=38;break e}for(D=m,m=f,J=Q,F=I;;){for(I=D+(F<<3)|0,K=M>>>0>F>>>0,re=J;;){if(se=e[re>>2]|0,M>>>0<=se>>>0){b=40;break e}if(fe=e[I>>2]|0,fe>>>0<(e[D+(se<<3)>>2]|0)>>>0)break;if(K)re=re+4|0;else{b=38;break e}}if(M>>>0>F>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Ne=e[Ee>>2]|0,M>>>0<=Ne>>>0){b=47;break e}while(fe>>>0<(e[D+(Ne<<3)>>2]|0)>>>0);if(re>>>0>=Ee>>>0){c=re;continue t}if(K=e[re>>2]|0,e[re>>2]=Ne,e[Ee>>2]=K,F=e[c>>2]|0,M>>>0<=F>>>0){b=38;break e}else m=Ee,J=re+4|0}}(b|0)==53&&(b=0,e[c>>2]=V,e[X>>2]=C,L=X,N=x+1|0),J=c+4|0;t:do if(J>>>0<L>>>0){if(m=e[J>>2]|0,F=e[o>>2]|0,M=e[F>>2]|0,D=(e[F+4>>2]|0)-M>>3,D>>>0>m>>>0)me=L,Ie=J,_e=N,Ce=v,We=D,at=M,Ke=F,Ve=m;else{b=57;break e}for(;;){for(F=e[o>>2]|0,m=F+4|0,M=e[Ce>>2]|0,D=Ie,d=at,K=We,Ue=Ke,I=Ve;;){if(se=d,K>>>0<=M>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(M<<3)>>2]|0)>>>0)break;if(se=D+4|0,st=e[se>>2]|0,d=e[F>>2]|0,K=(e[m>>2]|0)-d>>3,K>>>0<=st>>>0){b=57;break e}else D=se,Ue=F,I=st}if(F=e[Ce>>2]|0,at=e[Ue>>2]|0,We=(e[Ue+4>>2]|0)-at>>3,K=at,d=K+(F<<3)|0,We>>>0>F>>>0)Qe=me;else{b=65;break e}do if(Qe=Qe+-4|0,it=e[Qe>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[K+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(D>>>0>Qe>>>0){ze=Ce,Ge=_e,ke=D;break t}if(e[D>>2]=it,e[Qe>>2]=I,Ie=D+4|0,Ve=e[Ie>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else me=Qe,_e=_e+1|0,Ce=(Ce|0)==(D|0)?Qe:Ce,Ke=Ue}}else ze=v,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,K=e[ut>>2]|0,F=(e[ut+4>>2]|0)-K>>3,F>>>0<=J>>>0){b=72;break e}if(m=K,F>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,et=Ge+1|0):et=Ge}else et=Ge;if(!et){if(ot=Kn(c,ke,o)|0,d=ke+4|0,Kn(d,r,o)|0){b=83;break}if(ot){h=d;continue}}if(d=ke,(d-g|0)>=(n-d|0)){b=82;break}rx(c,ke,o),h=ke+4|0}if((b|0)==82){b=0,rx(ke+4|0,r,o),a=c,r=ke;continue}else if((b|0)==83)if(b=0,ot){b=84;break}else{a=c,r=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[c>>2]|0,a=e[o>>2]|0,ot=e[a>>2]|0,g=(e[a+4>>2]|0)-ot>>3,g>>>0<=b>>>0&&Je(),et=ot,g>>>0<=ke>>>0&&Je(),(e[et+(b<<3)>>2]|0)>>>0>=(e[et+(ke<<3)>>2]|0)>>>0)return;e[c>>2]=b,e[f>>2]=ke;return}case 11:{Tn(c,c+4|0,f,o)|0;return}case 12:{ho(c,c+4|0,c+8|0,f,o)|0;return}case 13:{De(c,c+4|0,c+8|0,c+12|0,f,o)|0;return}case 15:{No(c,r,o);return}case 20:{Je();break}case 22:{Je();break}case 26:{Je();break}case 32:{Je();break}case 38:{Je();break}case 40:{Je();break}case 46:{Je();break}case 47:{Je();break}case 51:{Je();break}case 57:{Je();break}case 59:{Je();break}case 65:{We>>>0>(e[me+-4>>2]|0)>>>0,Je();break}case 66:{Je();break}case 72:{Je();break}case 74:{Je();break}case 84:return}}function nx(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0;a=r,r=n;e:for(;;){for(n=r,f=r+-4|0,h=a;;){c=h;t:for(;;){switch(g=c,d=n-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(v=c+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=De(c,c+(d<<2)|0,v,v+(d<<2)|0,f,o)|0):x=Tn(c,v,f,o)|0,C=e[c>>2]|0,d=e[v>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,M=(e[S+4>>2]|0)-m>>3,M>>>0<=C>>>0){b=20;break e}if(I=m,M>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,D=e[I+(d<<3)>>2]|0,m>>>0<D>>>0){L=f,N=x;break}else X=f;for(;X=X+-4|0,(c|0)!=(X|0);){if(V=e[X>>2]|0,M>>>0<=V>>>0){b=51;break e}if((e[I+(V<<3)>>2]|0)>>>0<D>>>0){b=53;break t}}if(D=c+4|0,d=e[f>>2]|0,M>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=D;else{if((D|0)==(f|0)){b=84;break e}else U=D;for(;;){if(j=e[U>>2]|0,M>>>0<=j>>>0){b=32;break e}if(m>>>0<(e[I+(j<<3)>>2]|0)>>>0)break;if(D=U+4|0,(D|0)==(f|0)){b=84;break e}else U=D}e[U>>2]=d,e[f>>2]=j,Q=U+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[c>>2]|0,$=e[o>>2]|0,m=e[$>>2]|0,M=(e[$+4>>2]|0)-m>>3,M>>>0<=I>>>0){b=38;break e}for(D=m,m=f,J=Q,F=I;;){for(I=D+(F<<3)|0,K=M>>>0>F>>>0,re=J;;){if(se=e[re>>2]|0,M>>>0<=se>>>0){b=40;break e}if(fe=e[I>>2]|0,fe>>>0<(e[D+(se<<3)>>2]|0)>>>0)break;if(K)re=re+4|0;else{b=38;break e}}if(M>>>0>F>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Ne=e[Ee>>2]|0,M>>>0<=Ne>>>0){b=47;break e}while(fe>>>0<(e[D+(Ne<<3)>>2]|0)>>>0);if(re>>>0>=Ee>>>0){c=re;continue t}if(K=e[re>>2]|0,e[re>>2]=Ne,e[Ee>>2]=K,F=e[c>>2]|0,M>>>0<=F>>>0){b=38;break e}else m=Ee,J=re+4|0}}(b|0)==53&&(b=0,e[c>>2]=V,e[X>>2]=C,L=X,N=x+1|0),J=c+4|0;t:do if(J>>>0<L>>>0){if(m=e[J>>2]|0,F=e[o>>2]|0,M=e[F>>2]|0,D=(e[F+4>>2]|0)-M>>3,D>>>0>m>>>0)me=L,Ie=J,_e=N,Ce=v,We=D,at=M,Ke=F,Ve=m;else{b=57;break e}for(;;){for(F=e[o>>2]|0,m=F+4|0,M=e[Ce>>2]|0,D=Ie,d=at,K=We,Ue=Ke,I=Ve;;){if(se=d,K>>>0<=M>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(M<<3)>>2]|0)>>>0)break;if(se=D+4|0,st=e[se>>2]|0,d=e[F>>2]|0,K=(e[m>>2]|0)-d>>3,K>>>0<=st>>>0){b=57;break e}else D=se,Ue=F,I=st}if(F=e[Ce>>2]|0,at=e[Ue>>2]|0,We=(e[Ue+4>>2]|0)-at>>3,K=at,d=K+(F<<3)|0,We>>>0>F>>>0)Qe=me;else{b=65;break e}do if(Qe=Qe+-4|0,it=e[Qe>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[K+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(D>>>0>Qe>>>0){ze=Ce,Ge=_e,ke=D;break t}if(e[D>>2]=it,e[Qe>>2]=I,Ie=D+4|0,Ve=e[Ie>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else me=Qe,_e=_e+1|0,Ce=(Ce|0)==(D|0)?Qe:Ce,Ke=Ue}}else ze=v,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,K=e[ut>>2]|0,F=(e[ut+4>>2]|0)-K>>3,F>>>0<=J>>>0){b=72;break e}if(m=K,F>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,et=Ge+1|0):et=Ge}else et=Ge;if(!et){if(ot=Kn(c,ke,o)|0,d=ke+4|0,Kn(d,r,o)|0){b=83;break}if(ot){h=d;continue}}if(d=ke,(d-g|0)>=(n-d|0)){b=82;break}nx(c,ke,o),h=ke+4|0}if((b|0)==82){b=0,nx(ke+4|0,r,o),a=c,r=ke;continue}else if((b|0)==83)if(b=0,ot){b=84;break}else{a=c,r=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[c>>2]|0,a=e[o>>2]|0,ot=e[a>>2]|0,g=(e[a+4>>2]|0)-ot>>3,g>>>0<=b>>>0&&Je(),et=ot,g>>>0<=ke>>>0&&Je(),(e[et+(b<<3)>>2]|0)>>>0>=(e[et+(ke<<3)>>2]|0)>>>0)return;e[c>>2]=b,e[f>>2]=ke;return}case 11:{Tn(c,c+4|0,f,o)|0;return}case 12:{ho(c,c+4|0,c+8|0,f,o)|0;return}case 13:{De(c,c+4|0,c+8|0,c+12|0,f,o)|0;return}case 15:{No(c,r,o);return}case 20:{Je();break}case 22:{Je();break}case 26:{Je();break}case 32:{Je();break}case 38:{Je();break}case 40:{Je();break}case 46:{Je();break}case 47:{Je();break}case 51:{Je();break}case 57:{Je();break}case 59:{Je();break}case 65:{We>>>0>(e[me+-4>>2]|0)>>>0,Je();break}case 66:{Je();break}case 72:{Je();break}case 74:{Je();break}case 84:return}}function sx(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0;a=r,r=n;e:for(;;){for(n=r,f=r+-4|0,h=a;;){c=h;t:for(;;){switch(g=c,d=n-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(v=c+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=De(c,c+(d<<2)|0,v,v+(d<<2)|0,f,o)|0):x=Tn(c,v,f,o)|0,C=e[c>>2]|0,d=e[v>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,M=(e[S+4>>2]|0)-m>>3,M>>>0<=C>>>0){b=20;break e}if(I=m,M>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,D=e[I+(d<<3)>>2]|0,m>>>0<D>>>0){L=f,N=x;break}else X=f;for(;X=X+-4|0,(c|0)!=(X|0);){if(V=e[X>>2]|0,M>>>0<=V>>>0){b=51;break e}if((e[I+(V<<3)>>2]|0)>>>0<D>>>0){b=53;break t}}if(D=c+4|0,d=e[f>>2]|0,M>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=D;else{if((D|0)==(f|0)){b=84;break e}else U=D;for(;;){if(j=e[U>>2]|0,M>>>0<=j>>>0){b=32;break e}if(m>>>0<(e[I+(j<<3)>>2]|0)>>>0)break;if(D=U+4|0,(D|0)==(f|0)){b=84;break e}else U=D}e[U>>2]=d,e[f>>2]=j,Q=U+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[c>>2]|0,$=e[o>>2]|0,m=e[$>>2]|0,M=(e[$+4>>2]|0)-m>>3,M>>>0<=I>>>0){b=38;break e}for(D=m,m=f,J=Q,F=I;;){for(I=D+(F<<3)|0,K=M>>>0>F>>>0,re=J;;){if(se=e[re>>2]|0,M>>>0<=se>>>0){b=40;break e}if(fe=e[I>>2]|0,fe>>>0<(e[D+(se<<3)>>2]|0)>>>0)break;if(K)re=re+4|0;else{b=38;break e}}if(M>>>0>F>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Ne=e[Ee>>2]|0,M>>>0<=Ne>>>0){b=47;break e}while(fe>>>0<(e[D+(Ne<<3)>>2]|0)>>>0);if(re>>>0>=Ee>>>0){c=re;continue t}if(K=e[re>>2]|0,e[re>>2]=Ne,e[Ee>>2]=K,F=e[c>>2]|0,M>>>0<=F>>>0){b=38;break e}else m=Ee,J=re+4|0}}(b|0)==53&&(b=0,e[c>>2]=V,e[X>>2]=C,L=X,N=x+1|0),J=c+4|0;t:do if(J>>>0<L>>>0){if(m=e[J>>2]|0,F=e[o>>2]|0,M=e[F>>2]|0,D=(e[F+4>>2]|0)-M>>3,D>>>0>m>>>0)me=L,Ie=J,_e=N,Ce=v,We=D,at=M,Ke=F,Ve=m;else{b=57;break e}for(;;){for(F=e[o>>2]|0,m=F+4|0,M=e[Ce>>2]|0,D=Ie,d=at,K=We,Ue=Ke,I=Ve;;){if(se=d,K>>>0<=M>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(M<<3)>>2]|0)>>>0)break;if(se=D+4|0,st=e[se>>2]|0,d=e[F>>2]|0,K=(e[m>>2]|0)-d>>3,K>>>0<=st>>>0){b=57;break e}else D=se,Ue=F,I=st}if(F=e[Ce>>2]|0,at=e[Ue>>2]|0,We=(e[Ue+4>>2]|0)-at>>3,K=at,d=K+(F<<3)|0,We>>>0>F>>>0)Qe=me;else{b=65;break e}do if(Qe=Qe+-4|0,it=e[Qe>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[K+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(D>>>0>Qe>>>0){ze=Ce,Ge=_e,ke=D;break t}if(e[D>>2]=it,e[Qe>>2]=I,Ie=D+4|0,Ve=e[Ie>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else me=Qe,_e=_e+1|0,Ce=(Ce|0)==(D|0)?Qe:Ce,Ke=Ue}}else ze=v,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,K=e[ut>>2]|0,F=(e[ut+4>>2]|0)-K>>3,F>>>0<=J>>>0){b=72;break e}if(m=K,F>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,et=Ge+1|0):et=Ge}else et=Ge;if(!et){if(ot=Kn(c,ke,o)|0,d=ke+4|0,Kn(d,r,o)|0){b=83;break}if(ot){h=d;continue}}if(d=ke,(d-g|0)>=(n-d|0)){b=82;break}sx(c,ke,o),h=ke+4|0}if((b|0)==82){b=0,sx(ke+4|0,r,o),a=c,r=ke;continue}else if((b|0)==83)if(b=0,ot){b=84;break}else{a=c,r=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[c>>2]|0,a=e[o>>2]|0,ot=e[a>>2]|0,g=(e[a+4>>2]|0)-ot>>3,g>>>0<=b>>>0&&Je(),et=ot,g>>>0<=ke>>>0&&Je(),(e[et+(b<<3)>>2]|0)>>>0>=(e[et+(ke<<3)>>2]|0)>>>0)return;e[c>>2]=b,e[f>>2]=ke;return}case 11:{Tn(c,c+4|0,f,o)|0;return}case 12:{ho(c,c+4|0,c+8|0,f,o)|0;return}case 13:{De(c,c+4|0,c+8|0,c+12|0,f,o)|0;return}case 15:{No(c,r,o);return}case 20:{Je();break}case 22:{Je();break}case 26:{Je();break}case 32:{Je();break}case 38:{Je();break}case 40:{Je();break}case 46:{Je();break}case 47:{Je();break}case 51:{Je();break}case 57:{Je();break}case 59:{Je();break}case 65:{We>>>0>(e[me+-4>>2]|0)>>>0,Je();break}case 66:{Je();break}case 72:{Je();break}case 74:{Je();break}case 84:return}}function ox(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0;a=r,r=n;e:for(;;){for(n=r,f=r+-4|0,h=a;;){c=h;t:for(;;){switch(g=c,d=n-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(v=c+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=De(c,c+(d<<2)|0,v,v+(d<<2)|0,f,o)|0):x=Tn(c,v,f,o)|0,C=e[c>>2]|0,d=e[v>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,M=(e[S+4>>2]|0)-m>>3,M>>>0<=C>>>0){b=20;break e}if(I=m,M>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,D=e[I+(d<<3)>>2]|0,m>>>0<D>>>0){L=f,N=x;break}else X=f;for(;X=X+-4|0,(c|0)!=(X|0);){if(V=e[X>>2]|0,M>>>0<=V>>>0){b=51;break e}if((e[I+(V<<3)>>2]|0)>>>0<D>>>0){b=53;break t}}if(D=c+4|0,d=e[f>>2]|0,M>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=D;else{if((D|0)==(f|0)){b=84;break e}else U=D;for(;;){if(j=e[U>>2]|0,M>>>0<=j>>>0){b=32;break e}if(m>>>0<(e[I+(j<<3)>>2]|0)>>>0)break;if(D=U+4|0,(D|0)==(f|0)){b=84;break e}else U=D}e[U>>2]=d,e[f>>2]=j,Q=U+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[c>>2]|0,$=e[o>>2]|0,m=e[$>>2]|0,M=(e[$+4>>2]|0)-m>>3,M>>>0<=I>>>0){b=38;break e}for(D=m,m=f,J=Q,F=I;;){for(I=D+(F<<3)|0,K=M>>>0>F>>>0,re=J;;){if(se=e[re>>2]|0,M>>>0<=se>>>0){b=40;break e}if(fe=e[I>>2]|0,fe>>>0<(e[D+(se<<3)>>2]|0)>>>0)break;if(K)re=re+4|0;else{b=38;break e}}if(M>>>0>F>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Ne=e[Ee>>2]|0,M>>>0<=Ne>>>0){b=47;break e}while(fe>>>0<(e[D+(Ne<<3)>>2]|0)>>>0);if(re>>>0>=Ee>>>0){c=re;continue t}if(K=e[re>>2]|0,e[re>>2]=Ne,e[Ee>>2]=K,F=e[c>>2]|0,M>>>0<=F>>>0){b=38;break e}else m=Ee,J=re+4|0}}(b|0)==53&&(b=0,e[c>>2]=V,e[X>>2]=C,L=X,N=x+1|0),J=c+4|0;t:do if(J>>>0<L>>>0){if(m=e[J>>2]|0,F=e[o>>2]|0,M=e[F>>2]|0,D=(e[F+4>>2]|0)-M>>3,D>>>0>m>>>0)me=L,Ie=J,_e=N,Ce=v,We=D,at=M,Ke=F,Ve=m;else{b=57;break e}for(;;){for(F=e[o>>2]|0,m=F+4|0,M=e[Ce>>2]|0,D=Ie,d=at,K=We,Ue=Ke,I=Ve;;){if(se=d,K>>>0<=M>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(M<<3)>>2]|0)>>>0)break;if(se=D+4|0,st=e[se>>2]|0,d=e[F>>2]|0,K=(e[m>>2]|0)-d>>3,K>>>0<=st>>>0){b=57;break e}else D=se,Ue=F,I=st}if(F=e[Ce>>2]|0,at=e[Ue>>2]|0,We=(e[Ue+4>>2]|0)-at>>3,K=at,d=K+(F<<3)|0,We>>>0>F>>>0)Qe=me;else{b=65;break e}do if(Qe=Qe+-4|0,it=e[Qe>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[K+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(D>>>0>Qe>>>0){ze=Ce,Ge=_e,ke=D;break t}if(e[D>>2]=it,e[Qe>>2]=I,Ie=D+4|0,Ve=e[Ie>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else me=Qe,_e=_e+1|0,Ce=(Ce|0)==(D|0)?Qe:Ce,Ke=Ue}}else ze=v,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,K=e[ut>>2]|0,F=(e[ut+4>>2]|0)-K>>3,F>>>0<=J>>>0){b=72;break e}if(m=K,F>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,et=Ge+1|0):et=Ge}else et=Ge;if(!et){if(ot=Kn(c,ke,o)|0,d=ke+4|0,Kn(d,r,o)|0){b=83;break}if(ot){h=d;continue}}if(d=ke,(d-g|0)>=(n-d|0)){b=82;break}ox(c,ke,o),h=ke+4|0}if((b|0)==82){b=0,ox(ke+4|0,r,o),a=c,r=ke;continue}else if((b|0)==83)if(b=0,ot){b=84;break}else{a=c,r=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[c>>2]|0,a=e[o>>2]|0,ot=e[a>>2]|0,g=(e[a+4>>2]|0)-ot>>3,g>>>0<=b>>>0&&Je(),et=ot,g>>>0<=ke>>>0&&Je(),(e[et+(b<<3)>>2]|0)>>>0>=(e[et+(ke<<3)>>2]|0)>>>0)return;e[c>>2]=b,e[f>>2]=ke;return}case 11:{Tn(c,c+4|0,f,o)|0;return}case 12:{ho(c,c+4|0,c+8|0,f,o)|0;return}case 13:{De(c,c+4|0,c+8|0,c+12|0,f,o)|0;return}case 15:{No(c,r,o);return}case 20:{Je();break}case 22:{Je();break}case 26:{Je();break}case 32:{Je();break}case 38:{Je();break}case 40:{Je();break}case 46:{Je();break}case 47:{Je();break}case 51:{Je();break}case 57:{Je();break}case 59:{Je();break}case 65:{We>>>0>(e[me+-4>>2]|0)>>>0,Je();break}case 66:{Je();break}case 72:{Je();break}case 74:{Je();break}case 84:return}}function ax(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0;a=r,r=n;e:for(;;){for(n=r,f=r+-4|0,h=a;;){c=h;t:for(;;){switch(g=c,d=n-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(v=c+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=De(c,c+(d<<2)|0,v,v+(d<<2)|0,f,o)|0):x=Tn(c,v,f,o)|0,C=e[c>>2]|0,d=e[v>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,M=(e[S+4>>2]|0)-m>>3,M>>>0<=C>>>0){b=20;break e}if(I=m,M>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,D=e[I+(d<<3)>>2]|0,m>>>0<D>>>0){L=f,N=x;break}else X=f;for(;X=X+-4|0,(c|0)!=(X|0);){if(V=e[X>>2]|0,M>>>0<=V>>>0){b=51;break e}if((e[I+(V<<3)>>2]|0)>>>0<D>>>0){b=53;break t}}if(D=c+4|0,d=e[f>>2]|0,M>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=D;else{if((D|0)==(f|0)){b=84;break e}else U=D;for(;;){if(j=e[U>>2]|0,M>>>0<=j>>>0){b=32;break e}if(m>>>0<(e[I+(j<<3)>>2]|0)>>>0)break;if(D=U+4|0,(D|0)==(f|0)){b=84;break e}else U=D}e[U>>2]=d,e[f>>2]=j,Q=U+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[c>>2]|0,$=e[o>>2]|0,m=e[$>>2]|0,M=(e[$+4>>2]|0)-m>>3,M>>>0<=I>>>0){b=38;break e}for(D=m,m=f,J=Q,F=I;;){for(I=D+(F<<3)|0,K=M>>>0>F>>>0,re=J;;){if(se=e[re>>2]|0,M>>>0<=se>>>0){b=40;break e}if(fe=e[I>>2]|0,fe>>>0<(e[D+(se<<3)>>2]|0)>>>0)break;if(K)re=re+4|0;else{b=38;break e}}if(M>>>0>F>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Ne=e[Ee>>2]|0,M>>>0<=Ne>>>0){b=47;break e}while(fe>>>0<(e[D+(Ne<<3)>>2]|0)>>>0);if(re>>>0>=Ee>>>0){c=re;continue t}if(K=e[re>>2]|0,e[re>>2]=Ne,e[Ee>>2]=K,F=e[c>>2]|0,M>>>0<=F>>>0){b=38;break e}else m=Ee,J=re+4|0}}(b|0)==53&&(b=0,e[c>>2]=V,e[X>>2]=C,L=X,N=x+1|0),J=c+4|0;t:do if(J>>>0<L>>>0){if(m=e[J>>2]|0,F=e[o>>2]|0,M=e[F>>2]|0,D=(e[F+4>>2]|0)-M>>3,D>>>0>m>>>0)me=L,Ie=J,_e=N,Ce=v,We=D,at=M,Ke=F,Ve=m;else{b=57;break e}for(;;){for(F=e[o>>2]|0,m=F+4|0,M=e[Ce>>2]|0,D=Ie,d=at,K=We,Ue=Ke,I=Ve;;){if(se=d,K>>>0<=M>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(M<<3)>>2]|0)>>>0)break;if(se=D+4|0,st=e[se>>2]|0,d=e[F>>2]|0,K=(e[m>>2]|0)-d>>3,K>>>0<=st>>>0){b=57;break e}else D=se,Ue=F,I=st}if(F=e[Ce>>2]|0,at=e[Ue>>2]|0,We=(e[Ue+4>>2]|0)-at>>3,K=at,d=K+(F<<3)|0,We>>>0>F>>>0)Qe=me;else{b=65;break e}do if(Qe=Qe+-4|0,it=e[Qe>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[K+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(D>>>0>Qe>>>0){ze=Ce,Ge=_e,ke=D;break t}if(e[D>>2]=it,e[Qe>>2]=I,Ie=D+4|0,Ve=e[Ie>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else me=Qe,_e=_e+1|0,Ce=(Ce|0)==(D|0)?Qe:Ce,Ke=Ue}}else ze=v,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,K=e[ut>>2]|0,F=(e[ut+4>>2]|0)-K>>3,F>>>0<=J>>>0){b=72;break e}if(m=K,F>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,et=Ge+1|0):et=Ge}else et=Ge;if(!et){if(ot=Kn(c,ke,o)|0,d=ke+4|0,Kn(d,r,o)|0){b=83;break}if(ot){h=d;continue}}if(d=ke,(d-g|0)>=(n-d|0)){b=82;break}ax(c,ke,o),h=ke+4|0}if((b|0)==82){b=0,ax(ke+4|0,r,o),a=c,r=ke;continue}else if((b|0)==83)if(b=0,ot){b=84;break}else{a=c,r=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[c>>2]|0,a=e[o>>2]|0,ot=e[a>>2]|0,g=(e[a+4>>2]|0)-ot>>3,g>>>0<=b>>>0&&Je(),et=ot,g>>>0<=ke>>>0&&Je(),(e[et+(b<<3)>>2]|0)>>>0>=(e[et+(ke<<3)>>2]|0)>>>0)return;e[c>>2]=b,e[f>>2]=ke;return}case 11:{Tn(c,c+4|0,f,o)|0;return}case 12:{ho(c,c+4|0,c+8|0,f,o)|0;return}case 13:{De(c,c+4|0,c+8|0,c+12|0,f,o)|0;return}case 15:{No(c,r,o);return}case 20:{Je();break}case 22:{Je();break}case 26:{Je();break}case 32:{Je();break}case 38:{Je();break}case 40:{Je();break}case 46:{Je();break}case 47:{Je();break}case 51:{Je();break}case 57:{Je();break}case 59:{Je();break}case 65:{We>>>0>(e[me+-4>>2]|0)>>>0,Je();break}case 66:{Je();break}case 72:{Je();break}case 74:{Je();break}case 84:return}}function lx(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0;a=r,r=n;e:for(;;){for(n=r,f=r+-4|0,h=a;;){c=h;t:for(;;){switch(g=c,d=n-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(v=c+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=De(c,c+(d<<2)|0,v,v+(d<<2)|0,f,o)|0):x=Tn(c,v,f,o)|0,C=e[c>>2]|0,d=e[v>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,M=(e[S+4>>2]|0)-m>>3,M>>>0<=C>>>0){b=20;break e}if(I=m,M>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,D=e[I+(d<<3)>>2]|0,m>>>0<D>>>0){L=f,N=x;break}else X=f;for(;X=X+-4|0,(c|0)!=(X|0);){if(V=e[X>>2]|0,M>>>0<=V>>>0){b=51;break e}if((e[I+(V<<3)>>2]|0)>>>0<D>>>0){b=53;break t}}if(D=c+4|0,d=e[f>>2]|0,M>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=D;else{if((D|0)==(f|0)){b=84;break e}else U=D;for(;;){if(j=e[U>>2]|0,M>>>0<=j>>>0){b=32;break e}if(m>>>0<(e[I+(j<<3)>>2]|0)>>>0)break;if(D=U+4|0,(D|0)==(f|0)){b=84;break e}else U=D}e[U>>2]=d,e[f>>2]=j,Q=U+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[c>>2]|0,$=e[o>>2]|0,m=e[$>>2]|0,M=(e[$+4>>2]|0)-m>>3,M>>>0<=I>>>0){b=38;break e}for(D=m,m=f,J=Q,F=I;;){for(I=D+(F<<3)|0,K=M>>>0>F>>>0,re=J;;){if(se=e[re>>2]|0,M>>>0<=se>>>0){b=40;break e}if(fe=e[I>>2]|0,fe>>>0<(e[D+(se<<3)>>2]|0)>>>0)break;if(K)re=re+4|0;else{b=38;break e}}if(M>>>0>F>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Ne=e[Ee>>2]|0,M>>>0<=Ne>>>0){b=47;break e}while(fe>>>0<(e[D+(Ne<<3)>>2]|0)>>>0);if(re>>>0>=Ee>>>0){c=re;continue t}if(K=e[re>>2]|0,e[re>>2]=Ne,e[Ee>>2]=K,F=e[c>>2]|0,M>>>0<=F>>>0){b=38;break e}else m=Ee,J=re+4|0}}(b|0)==53&&(b=0,e[c>>2]=V,e[X>>2]=C,L=X,N=x+1|0),J=c+4|0;t:do if(J>>>0<L>>>0){if(m=e[J>>2]|0,F=e[o>>2]|0,M=e[F>>2]|0,D=(e[F+4>>2]|0)-M>>3,D>>>0>m>>>0)me=L,Ie=J,_e=N,Ce=v,We=D,at=M,Ke=F,Ve=m;else{b=57;break e}for(;;){for(F=e[o>>2]|0,m=F+4|0,M=e[Ce>>2]|0,D=Ie,d=at,K=We,Ue=Ke,I=Ve;;){if(se=d,K>>>0<=M>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(M<<3)>>2]|0)>>>0)break;if(se=D+4|0,st=e[se>>2]|0,d=e[F>>2]|0,K=(e[m>>2]|0)-d>>3,K>>>0<=st>>>0){b=57;break e}else D=se,Ue=F,I=st}if(F=e[Ce>>2]|0,at=e[Ue>>2]|0,We=(e[Ue+4>>2]|0)-at>>3,K=at,d=K+(F<<3)|0,We>>>0>F>>>0)Qe=me;else{b=65;break e}do if(Qe=Qe+-4|0,it=e[Qe>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[K+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(D>>>0>Qe>>>0){ze=Ce,Ge=_e,ke=D;break t}if(e[D>>2]=it,e[Qe>>2]=I,Ie=D+4|0,Ve=e[Ie>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else me=Qe,_e=_e+1|0,Ce=(Ce|0)==(D|0)?Qe:Ce,Ke=Ue}}else ze=v,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,K=e[ut>>2]|0,F=(e[ut+4>>2]|0)-K>>3,F>>>0<=J>>>0){b=72;break e}if(m=K,F>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,et=Ge+1|0):et=Ge}else et=Ge;if(!et){if(ot=Kn(c,ke,o)|0,d=ke+4|0,Kn(d,r,o)|0){b=83;break}if(ot){h=d;continue}}if(d=ke,(d-g|0)>=(n-d|0)){b=82;break}lx(c,ke,o),h=ke+4|0}if((b|0)==82){b=0,lx(ke+4|0,r,o),a=c,r=ke;continue}else if((b|0)==83)if(b=0,ot){b=84;break}else{a=c,r=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[c>>2]|0,a=e[o>>2]|0,ot=e[a>>2]|0,g=(e[a+4>>2]|0)-ot>>3,g>>>0<=b>>>0&&Je(),et=ot,g>>>0<=ke>>>0&&Je(),(e[et+(b<<3)>>2]|0)>>>0>=(e[et+(ke<<3)>>2]|0)>>>0)return;e[c>>2]=b,e[f>>2]=ke;return}case 11:{Tn(c,c+4|0,f,o)|0;return}case 12:{ho(c,c+4|0,c+8|0,f,o)|0;return}case 13:{De(c,c+4|0,c+8|0,c+12|0,f,o)|0;return}case 15:{No(c,r,o);return}case 20:{Je();break}case 22:{Je();break}case 26:{Je();break}case 32:{Je();break}case 38:{Je();break}case 40:{Je();break}case 46:{Je();break}case 47:{Je();break}case 51:{Je();break}case 57:{Je();break}case 59:{Je();break}case 65:{We>>>0>(e[me+-4>>2]|0)>>>0,Je();break}case 66:{Je();break}case 72:{Je();break}case 74:{Je();break}case 84:return}}function fx(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0;a=r,r=n;e:for(;;){for(n=r,f=r+-4|0,h=a;;){c=h;t:for(;;){switch(g=c,d=n-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(v=c+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=De(c,c+(d<<2)|0,v,v+(d<<2)|0,f,o)|0):x=Tn(c,v,f,o)|0,C=e[c>>2]|0,d=e[v>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,M=(e[S+4>>2]|0)-m>>3,M>>>0<=C>>>0){b=20;break e}if(I=m,M>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,D=e[I+(d<<3)>>2]|0,m>>>0<D>>>0){L=f,N=x;break}else X=f;for(;X=X+-4|0,(c|0)!=(X|0);){if(V=e[X>>2]|0,M>>>0<=V>>>0){b=51;break e}if((e[I+(V<<3)>>2]|0)>>>0<D>>>0){b=53;break t}}if(D=c+4|0,d=e[f>>2]|0,M>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=D;else{if((D|0)==(f|0)){b=84;break e}else U=D;for(;;){if(j=e[U>>2]|0,M>>>0<=j>>>0){b=32;break e}if(m>>>0<(e[I+(j<<3)>>2]|0)>>>0)break;if(D=U+4|0,(D|0)==(f|0)){b=84;break e}else U=D}e[U>>2]=d,e[f>>2]=j,Q=U+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[c>>2]|0,$=e[o>>2]|0,m=e[$>>2]|0,M=(e[$+4>>2]|0)-m>>3,M>>>0<=I>>>0){b=38;break e}for(D=m,m=f,J=Q,F=I;;){for(I=D+(F<<3)|0,K=M>>>0>F>>>0,re=J;;){if(se=e[re>>2]|0,M>>>0<=se>>>0){b=40;break e}if(fe=e[I>>2]|0,fe>>>0<(e[D+(se<<3)>>2]|0)>>>0)break;if(K)re=re+4|0;else{b=38;break e}}if(M>>>0>F>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Ne=e[Ee>>2]|0,M>>>0<=Ne>>>0){b=47;break e}while(fe>>>0<(e[D+(Ne<<3)>>2]|0)>>>0);if(re>>>0>=Ee>>>0){c=re;continue t}if(K=e[re>>2]|0,e[re>>2]=Ne,e[Ee>>2]=K,F=e[c>>2]|0,M>>>0<=F>>>0){b=38;break e}else m=Ee,J=re+4|0}}(b|0)==53&&(b=0,e[c>>2]=V,e[X>>2]=C,L=X,N=x+1|0),J=c+4|0;t:do if(J>>>0<L>>>0){if(m=e[J>>2]|0,F=e[o>>2]|0,M=e[F>>2]|0,D=(e[F+4>>2]|0)-M>>3,D>>>0>m>>>0)me=L,Ie=J,_e=N,Ce=v,We=D,at=M,Ke=F,Ve=m;else{b=57;break e}for(;;){for(F=e[o>>2]|0,m=F+4|0,M=e[Ce>>2]|0,D=Ie,d=at,K=We,Ue=Ke,I=Ve;;){if(se=d,K>>>0<=M>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(M<<3)>>2]|0)>>>0)break;if(se=D+4|0,st=e[se>>2]|0,d=e[F>>2]|0,K=(e[m>>2]|0)-d>>3,K>>>0<=st>>>0){b=57;break e}else D=se,Ue=F,I=st}if(F=e[Ce>>2]|0,at=e[Ue>>2]|0,We=(e[Ue+4>>2]|0)-at>>3,K=at,d=K+(F<<3)|0,We>>>0>F>>>0)Qe=me;else{b=65;break e}do if(Qe=Qe+-4|0,it=e[Qe>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[K+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(D>>>0>Qe>>>0){ze=Ce,Ge=_e,ke=D;break t}if(e[D>>2]=it,e[Qe>>2]=I,Ie=D+4|0,Ve=e[Ie>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else me=Qe,_e=_e+1|0,Ce=(Ce|0)==(D|0)?Qe:Ce,Ke=Ue}}else ze=v,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,K=e[ut>>2]|0,F=(e[ut+4>>2]|0)-K>>3,F>>>0<=J>>>0){b=72;break e}if(m=K,F>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,et=Ge+1|0):et=Ge}else et=Ge;if(!et){if(ot=Kn(c,ke,o)|0,d=ke+4|0,Kn(d,r,o)|0){b=83;break}if(ot){h=d;continue}}if(d=ke,(d-g|0)>=(n-d|0)){b=82;break}fx(c,ke,o),h=ke+4|0}if((b|0)==82){b=0,fx(ke+4|0,r,o),a=c,r=ke;continue}else if((b|0)==83)if(b=0,ot){b=84;break}else{a=c,r=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[c>>2]|0,a=e[o>>2]|0,ot=e[a>>2]|0,g=(e[a+4>>2]|0)-ot>>3,g>>>0<=b>>>0&&Je(),et=ot,g>>>0<=ke>>>0&&Je(),(e[et+(b<<3)>>2]|0)>>>0>=(e[et+(ke<<3)>>2]|0)>>>0)return;e[c>>2]=b,e[f>>2]=ke;return}case 11:{Tn(c,c+4|0,f,o)|0;return}case 12:{ho(c,c+4|0,c+8|0,f,o)|0;return}case 13:{De(c,c+4|0,c+8|0,c+12|0,f,o)|0;return}case 15:{No(c,r,o);return}case 20:{Je();break}case 22:{Je();break}case 26:{Je();break}case 32:{Je();break}case 38:{Je();break}case 40:{Je();break}case 46:{Je();break}case 47:{Je();break}case 51:{Je();break}case 57:{Je();break}case 59:{Je();break}case 65:{We>>>0>(e[me+-4>>2]|0)>>>0,Je();break}case 66:{Je();break}case 72:{Je();break}case 74:{Je();break}case 84:return}}function ux(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0;a=r,r=n;e:for(;;){for(n=r,f=r+-4|0,h=a;;){c=h;t:for(;;){switch(g=c,d=n-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(v=c+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=De(c,c+(d<<2)|0,v,v+(d<<2)|0,f,o)|0):x=Tn(c,v,f,o)|0,C=e[c>>2]|0,d=e[v>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,M=(e[S+4>>2]|0)-m>>3,M>>>0<=C>>>0){b=20;break e}if(I=m,M>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,D=e[I+(d<<3)>>2]|0,m>>>0<D>>>0){L=f,N=x;break}else X=f;for(;X=X+-4|0,(c|0)!=(X|0);){if(V=e[X>>2]|0,M>>>0<=V>>>0){b=51;break e}if((e[I+(V<<3)>>2]|0)>>>0<D>>>0){b=53;break t}}if(D=c+4|0,d=e[f>>2]|0,M>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=D;else{if((D|0)==(f|0)){b=84;break e}else U=D;for(;;){if(j=e[U>>2]|0,M>>>0<=j>>>0){b=32;break e}if(m>>>0<(e[I+(j<<3)>>2]|0)>>>0)break;if(D=U+4|0,(D|0)==(f|0)){b=84;break e}else U=D}e[U>>2]=d,e[f>>2]=j,Q=U+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[c>>2]|0,$=e[o>>2]|0,m=e[$>>2]|0,M=(e[$+4>>2]|0)-m>>3,M>>>0<=I>>>0){b=38;break e}for(D=m,m=f,J=Q,F=I;;){for(I=D+(F<<3)|0,K=M>>>0>F>>>0,re=J;;){if(se=e[re>>2]|0,M>>>0<=se>>>0){b=40;break e}if(fe=e[I>>2]|0,fe>>>0<(e[D+(se<<3)>>2]|0)>>>0)break;if(K)re=re+4|0;else{b=38;break e}}if(M>>>0>F>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Ne=e[Ee>>2]|0,M>>>0<=Ne>>>0){b=47;break e}while(fe>>>0<(e[D+(Ne<<3)>>2]|0)>>>0);if(re>>>0>=Ee>>>0){c=re;continue t}if(K=e[re>>2]|0,e[re>>2]=Ne,e[Ee>>2]=K,F=e[c>>2]|0,M>>>0<=F>>>0){b=38;break e}else m=Ee,J=re+4|0}}(b|0)==53&&(b=0,e[c>>2]=V,e[X>>2]=C,L=X,N=x+1|0),J=c+4|0;t:do if(J>>>0<L>>>0){if(m=e[J>>2]|0,F=e[o>>2]|0,M=e[F>>2]|0,D=(e[F+4>>2]|0)-M>>3,D>>>0>m>>>0)me=L,Ie=J,_e=N,Ce=v,We=D,at=M,Ke=F,Ve=m;else{b=57;break e}for(;;){for(F=e[o>>2]|0,m=F+4|0,M=e[Ce>>2]|0,D=Ie,d=at,K=We,Ue=Ke,I=Ve;;){if(se=d,K>>>0<=M>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(M<<3)>>2]|0)>>>0)break;if(se=D+4|0,st=e[se>>2]|0,d=e[F>>2]|0,K=(e[m>>2]|0)-d>>3,K>>>0<=st>>>0){b=57;break e}else D=se,Ue=F,I=st}if(F=e[Ce>>2]|0,at=e[Ue>>2]|0,We=(e[Ue+4>>2]|0)-at>>3,K=at,d=K+(F<<3)|0,We>>>0>F>>>0)Qe=me;else{b=65;break e}do if(Qe=Qe+-4|0,it=e[Qe>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[K+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(D>>>0>Qe>>>0){ze=Ce,Ge=_e,ke=D;break t}if(e[D>>2]=it,e[Qe>>2]=I,Ie=D+4|0,Ve=e[Ie>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else me=Qe,_e=_e+1|0,Ce=(Ce|0)==(D|0)?Qe:Ce,Ke=Ue}}else ze=v,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,K=e[ut>>2]|0,F=(e[ut+4>>2]|0)-K>>3,F>>>0<=J>>>0){b=72;break e}if(m=K,F>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,et=Ge+1|0):et=Ge}else et=Ge;if(!et){if(ot=Kn(c,ke,o)|0,d=ke+4|0,Kn(d,r,o)|0){b=83;break}if(ot){h=d;continue}}if(d=ke,(d-g|0)>=(n-d|0)){b=82;break}ux(c,ke,o),h=ke+4|0}if((b|0)==82){b=0,ux(ke+4|0,r,o),a=c,r=ke;continue}else if((b|0)==83)if(b=0,ot){b=84;break}else{a=c,r=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[c>>2]|0,a=e[o>>2]|0,ot=e[a>>2]|0,g=(e[a+4>>2]|0)-ot>>3,g>>>0<=b>>>0&&Je(),et=ot,g>>>0<=ke>>>0&&Je(),(e[et+(b<<3)>>2]|0)>>>0>=(e[et+(ke<<3)>>2]|0)>>>0)return;e[c>>2]=b,e[f>>2]=ke;return}case 11:{Tn(c,c+4|0,f,o)|0;return}case 12:{ho(c,c+4|0,c+8|0,f,o)|0;return}case 13:{De(c,c+4|0,c+8|0,c+12|0,f,o)|0;return}case 15:{No(c,r,o);return}case 20:{Je();break}case 22:{Je();break}case 26:{Je();break}case 32:{Je();break}case 38:{Je();break}case 40:{Je();break}case 46:{Je();break}case 47:{Je();break}case 51:{Je();break}case 57:{Je();break}case 59:{Je();break}case 65:{We>>>0>(e[me+-4>>2]|0)>>>0,Je();break}case 66:{Je();break}case 72:{Je();break}case 74:{Je();break}case 84:return}}function cx(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0;a=r,r=n;e:for(;;){for(n=r,f=r+-4|0,h=a;;){c=h;t:for(;;){switch(g=c,d=n-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(v=c+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=De(c,c+(d<<2)|0,v,v+(d<<2)|0,f,o)|0):x=Tn(c,v,f,o)|0,C=e[c>>2]|0,d=e[v>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,M=(e[S+4>>2]|0)-m>>3,M>>>0<=C>>>0){b=20;break e}if(I=m,M>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,D=e[I+(d<<3)>>2]|0,m>>>0<D>>>0){L=f,N=x;break}else X=f;for(;X=X+-4|0,(c|0)!=(X|0);){if(V=e[X>>2]|0,M>>>0<=V>>>0){b=51;break e}if((e[I+(V<<3)>>2]|0)>>>0<D>>>0){b=53;break t}}if(D=c+4|0,d=e[f>>2]|0,M>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=D;else{if((D|0)==(f|0)){b=84;break e}else U=D;for(;;){if(j=e[U>>2]|0,M>>>0<=j>>>0){b=32;break e}if(m>>>0<(e[I+(j<<3)>>2]|0)>>>0)break;if(D=U+4|0,(D|0)==(f|0)){b=84;break e}else U=D}e[U>>2]=d,e[f>>2]=j,Q=U+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[c>>2]|0,$=e[o>>2]|0,m=e[$>>2]|0,M=(e[$+4>>2]|0)-m>>3,M>>>0<=I>>>0){b=38;break e}for(D=m,m=f,J=Q,F=I;;){for(I=D+(F<<3)|0,K=M>>>0>F>>>0,re=J;;){if(se=e[re>>2]|0,M>>>0<=se>>>0){b=40;break e}if(fe=e[I>>2]|0,fe>>>0<(e[D+(se<<3)>>2]|0)>>>0)break;if(K)re=re+4|0;else{b=38;break e}}if(M>>>0>F>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Ne=e[Ee>>2]|0,M>>>0<=Ne>>>0){b=47;break e}while(fe>>>0<(e[D+(Ne<<3)>>2]|0)>>>0);if(re>>>0>=Ee>>>0){c=re;continue t}if(K=e[re>>2]|0,e[re>>2]=Ne,e[Ee>>2]=K,F=e[c>>2]|0,M>>>0<=F>>>0){b=38;break e}else m=Ee,J=re+4|0}}(b|0)==53&&(b=0,e[c>>2]=V,e[X>>2]=C,L=X,N=x+1|0),J=c+4|0;t:do if(J>>>0<L>>>0){if(m=e[J>>2]|0,F=e[o>>2]|0,M=e[F>>2]|0,D=(e[F+4>>2]|0)-M>>3,D>>>0>m>>>0)me=L,Ie=J,_e=N,Ce=v,We=D,at=M,Ke=F,Ve=m;else{b=57;break e}for(;;){for(F=e[o>>2]|0,m=F+4|0,M=e[Ce>>2]|0,D=Ie,d=at,K=We,Ue=Ke,I=Ve;;){if(se=d,K>>>0<=M>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(M<<3)>>2]|0)>>>0)break;if(se=D+4|0,st=e[se>>2]|0,d=e[F>>2]|0,K=(e[m>>2]|0)-d>>3,K>>>0<=st>>>0){b=57;break e}else D=se,Ue=F,I=st}if(F=e[Ce>>2]|0,at=e[Ue>>2]|0,We=(e[Ue+4>>2]|0)-at>>3,K=at,d=K+(F<<3)|0,We>>>0>F>>>0)Qe=me;else{b=65;break e}do if(Qe=Qe+-4|0,it=e[Qe>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[K+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(D>>>0>Qe>>>0){ze=Ce,Ge=_e,ke=D;break t}if(e[D>>2]=it,e[Qe>>2]=I,Ie=D+4|0,Ve=e[Ie>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else me=Qe,_e=_e+1|0,Ce=(Ce|0)==(D|0)?Qe:Ce,Ke=Ue}}else ze=v,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,K=e[ut>>2]|0,F=(e[ut+4>>2]|0)-K>>3,F>>>0<=J>>>0){b=72;break e}if(m=K,F>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,et=Ge+1|0):et=Ge}else et=Ge;if(!et){if(ot=Kn(c,ke,o)|0,d=ke+4|0,Kn(d,r,o)|0){b=83;break}if(ot){h=d;continue}}if(d=ke,(d-g|0)>=(n-d|0)){b=82;break}cx(c,ke,o),h=ke+4|0}if((b|0)==82){b=0,cx(ke+4|0,r,o),a=c,r=ke;continue}else if((b|0)==83)if(b=0,ot){b=84;break}else{a=c,r=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[c>>2]|0,a=e[o>>2]|0,ot=e[a>>2]|0,g=(e[a+4>>2]|0)-ot>>3,g>>>0<=b>>>0&&Je(),et=ot,g>>>0<=ke>>>0&&Je(),(e[et+(b<<3)>>2]|0)>>>0>=(e[et+(ke<<3)>>2]|0)>>>0)return;e[c>>2]=b,e[f>>2]=ke;return}case 11:{Tn(c,c+4|0,f,o)|0;return}case 12:{ho(c,c+4|0,c+8|0,f,o)|0;return}case 13:{De(c,c+4|0,c+8|0,c+12|0,f,o)|0;return}case 15:{No(c,r,o);return}case 20:{Je();break}case 22:{Je();break}case 26:{Je();break}case 32:{Je();break}case 38:{Je();break}case 40:{Je();break}case 46:{Je();break}case 47:{Je();break}case 51:{Je();break}case 57:{Je();break}case 59:{Je();break}case 65:{We>>>0>(e[me+-4>>2]|0)>>>0,Je();break}case 66:{Je();break}case 72:{Je();break}case 74:{Je();break}case 84:return}}function hx(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0;a=r,r=n;e:for(;;){for(n=r,f=r+-4|0,h=a;;){c=h;t:for(;;){switch(g=c,d=n-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(v=c+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=De(c,c+(d<<2)|0,v,v+(d<<2)|0,f,o)|0):x=Tn(c,v,f,o)|0,C=e[c>>2]|0,d=e[v>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,M=(e[S+4>>2]|0)-m>>3,M>>>0<=C>>>0){b=20;break e}if(I=m,M>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,D=e[I+(d<<3)>>2]|0,m>>>0<D>>>0){L=f,N=x;break}else X=f;for(;X=X+-4|0,(c|0)!=(X|0);){if(V=e[X>>2]|0,M>>>0<=V>>>0){b=51;break e}if((e[I+(V<<3)>>2]|0)>>>0<D>>>0){b=53;break t}}if(D=c+4|0,d=e[f>>2]|0,M>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=D;else{if((D|0)==(f|0)){b=84;break e}else U=D;for(;;){if(j=e[U>>2]|0,M>>>0<=j>>>0){b=32;break e}if(m>>>0<(e[I+(j<<3)>>2]|0)>>>0)break;if(D=U+4|0,(D|0)==(f|0)){b=84;break e}else U=D}e[U>>2]=d,e[f>>2]=j,Q=U+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[c>>2]|0,$=e[o>>2]|0,m=e[$>>2]|0,M=(e[$+4>>2]|0)-m>>3,M>>>0<=I>>>0){b=38;break e}for(D=m,m=f,J=Q,F=I;;){for(I=D+(F<<3)|0,K=M>>>0>F>>>0,re=J;;){if(se=e[re>>2]|0,M>>>0<=se>>>0){b=40;break e}if(fe=e[I>>2]|0,fe>>>0<(e[D+(se<<3)>>2]|0)>>>0)break;if(K)re=re+4|0;else{b=38;break e}}if(M>>>0>F>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Ne=e[Ee>>2]|0,M>>>0<=Ne>>>0){b=47;break e}while(fe>>>0<(e[D+(Ne<<3)>>2]|0)>>>0);if(re>>>0>=Ee>>>0){c=re;continue t}if(K=e[re>>2]|0,e[re>>2]=Ne,e[Ee>>2]=K,F=e[c>>2]|0,M>>>0<=F>>>0){b=38;break e}else m=Ee,J=re+4|0}}(b|0)==53&&(b=0,e[c>>2]=V,e[X>>2]=C,L=X,N=x+1|0),J=c+4|0;t:do if(J>>>0<L>>>0){if(m=e[J>>2]|0,F=e[o>>2]|0,M=e[F>>2]|0,D=(e[F+4>>2]|0)-M>>3,D>>>0>m>>>0)me=L,Ie=J,_e=N,Ce=v,We=D,at=M,Ke=F,Ve=m;else{b=57;break e}for(;;){for(F=e[o>>2]|0,m=F+4|0,M=e[Ce>>2]|0,D=Ie,d=at,K=We,Ue=Ke,I=Ve;;){if(se=d,K>>>0<=M>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(M<<3)>>2]|0)>>>0)break;if(se=D+4|0,st=e[se>>2]|0,d=e[F>>2]|0,K=(e[m>>2]|0)-d>>3,K>>>0<=st>>>0){b=57;break e}else D=se,Ue=F,I=st}if(F=e[Ce>>2]|0,at=e[Ue>>2]|0,We=(e[Ue+4>>2]|0)-at>>3,K=at,d=K+(F<<3)|0,We>>>0>F>>>0)Qe=me;else{b=65;break e}do if(Qe=Qe+-4|0,it=e[Qe>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[K+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(D>>>0>Qe>>>0){ze=Ce,Ge=_e,ke=D;break t}if(e[D>>2]=it,e[Qe>>2]=I,Ie=D+4|0,Ve=e[Ie>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else me=Qe,_e=_e+1|0,Ce=(Ce|0)==(D|0)?Qe:Ce,Ke=Ue}}else ze=v,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,K=e[ut>>2]|0,F=(e[ut+4>>2]|0)-K>>3,F>>>0<=J>>>0){b=72;break e}if(m=K,F>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,et=Ge+1|0):et=Ge}else et=Ge;if(!et){if(ot=Kn(c,ke,o)|0,d=ke+4|0,Kn(d,r,o)|0){b=83;break}if(ot){h=d;continue}}if(d=ke,(d-g|0)>=(n-d|0)){b=82;break}hx(c,ke,o),h=ke+4|0}if((b|0)==82){b=0,hx(ke+4|0,r,o),a=c,r=ke;continue}else if((b|0)==83)if(b=0,ot){b=84;break}else{a=c,r=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[c>>2]|0,a=e[o>>2]|0,ot=e[a>>2]|0,g=(e[a+4>>2]|0)-ot>>3,g>>>0<=b>>>0&&Je(),et=ot,g>>>0<=ke>>>0&&Je(),(e[et+(b<<3)>>2]|0)>>>0>=(e[et+(ke<<3)>>2]|0)>>>0)return;e[c>>2]=b,e[f>>2]=ke;return}case 11:{Tn(c,c+4|0,f,o)|0;return}case 12:{ho(c,c+4|0,c+8|0,f,o)|0;return}case 13:{De(c,c+4|0,c+8|0,c+12|0,f,o)|0;return}case 15:{No(c,r,o);return}case 20:{Je();break}case 22:{Je();break}case 26:{Je();break}case 32:{Je();break}case 38:{Je();break}case 40:{Je();break}case 46:{Je();break}case 47:{Je();break}case 51:{Je();break}case 57:{Je();break}case 59:{Je();break}case 65:{We>>>0>(e[me+-4>>2]|0)>>>0,Je();break}case 66:{Je();break}case 72:{Je();break}case 74:{Je();break}case 84:return}}function dx(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0;a=r,r=n;e:for(;;){for(n=r,f=r+-4|0,h=a;;){c=h;t:for(;;){switch(g=c,d=n-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(v=c+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=De(c,c+(d<<2)|0,v,v+(d<<2)|0,f,o)|0):x=Tn(c,v,f,o)|0,C=e[c>>2]|0,d=e[v>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,M=(e[S+4>>2]|0)-m>>3,M>>>0<=C>>>0){b=20;break e}if(I=m,M>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,D=e[I+(d<<3)>>2]|0,m>>>0<D>>>0){L=f,N=x;break}else X=f;for(;X=X+-4|0,(c|0)!=(X|0);){if(V=e[X>>2]|0,M>>>0<=V>>>0){b=51;break e}if((e[I+(V<<3)>>2]|0)>>>0<D>>>0){b=53;break t}}if(D=c+4|0,d=e[f>>2]|0,M>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=D;else{if((D|0)==(f|0)){b=84;break e}else U=D;for(;;){if(j=e[U>>2]|0,M>>>0<=j>>>0){b=32;break e}if(m>>>0<(e[I+(j<<3)>>2]|0)>>>0)break;if(D=U+4|0,(D|0)==(f|0)){b=84;break e}else U=D}e[U>>2]=d,e[f>>2]=j,Q=U+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[c>>2]|0,$=e[o>>2]|0,m=e[$>>2]|0,M=(e[$+4>>2]|0)-m>>3,M>>>0<=I>>>0){b=38;break e}for(D=m,m=f,J=Q,F=I;;){for(I=D+(F<<3)|0,K=M>>>0>F>>>0,re=J;;){if(se=e[re>>2]|0,M>>>0<=se>>>0){b=40;break e}if(fe=e[I>>2]|0,fe>>>0<(e[D+(se<<3)>>2]|0)>>>0)break;if(K)re=re+4|0;else{b=38;break e}}if(M>>>0>F>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Ne=e[Ee>>2]|0,M>>>0<=Ne>>>0){b=47;break e}while(fe>>>0<(e[D+(Ne<<3)>>2]|0)>>>0);if(re>>>0>=Ee>>>0){c=re;continue t}if(K=e[re>>2]|0,e[re>>2]=Ne,e[Ee>>2]=K,F=e[c>>2]|0,M>>>0<=F>>>0){b=38;break e}else m=Ee,J=re+4|0}}(b|0)==53&&(b=0,e[c>>2]=V,e[X>>2]=C,L=X,N=x+1|0),J=c+4|0;t:do if(J>>>0<L>>>0){if(m=e[J>>2]|0,F=e[o>>2]|0,M=e[F>>2]|0,D=(e[F+4>>2]|0)-M>>3,D>>>0>m>>>0)me=L,Ie=J,_e=N,Ce=v,We=D,at=M,Ke=F,Ve=m;else{b=57;break e}for(;;){for(F=e[o>>2]|0,m=F+4|0,M=e[Ce>>2]|0,D=Ie,d=at,K=We,Ue=Ke,I=Ve;;){if(se=d,K>>>0<=M>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(M<<3)>>2]|0)>>>0)break;if(se=D+4|0,st=e[se>>2]|0,d=e[F>>2]|0,K=(e[m>>2]|0)-d>>3,K>>>0<=st>>>0){b=57;break e}else D=se,Ue=F,I=st}if(F=e[Ce>>2]|0,at=e[Ue>>2]|0,We=(e[Ue+4>>2]|0)-at>>3,K=at,d=K+(F<<3)|0,We>>>0>F>>>0)Qe=me;else{b=65;break e}do if(Qe=Qe+-4|0,it=e[Qe>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[K+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(D>>>0>Qe>>>0){ze=Ce,Ge=_e,ke=D;break t}if(e[D>>2]=it,e[Qe>>2]=I,Ie=D+4|0,Ve=e[Ie>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else me=Qe,_e=_e+1|0,Ce=(Ce|0)==(D|0)?Qe:Ce,Ke=Ue}}else ze=v,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,K=e[ut>>2]|0,F=(e[ut+4>>2]|0)-K>>3,F>>>0<=J>>>0){b=72;break e}if(m=K,F>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,et=Ge+1|0):et=Ge}else et=Ge;if(!et){if(ot=Kn(c,ke,o)|0,d=ke+4|0,Kn(d,r,o)|0){b=83;break}if(ot){h=d;continue}}if(d=ke,(d-g|0)>=(n-d|0)){b=82;break}dx(c,ke,o),h=ke+4|0}if((b|0)==82){b=0,dx(ke+4|0,r,o),a=c,r=ke;continue}else if((b|0)==83)if(b=0,ot){b=84;break}else{a=c,r=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[c>>2]|0,a=e[o>>2]|0,ot=e[a>>2]|0,g=(e[a+4>>2]|0)-ot>>3,g>>>0<=b>>>0&&Je(),et=ot,g>>>0<=ke>>>0&&Je(),(e[et+(b<<3)>>2]|0)>>>0>=(e[et+(ke<<3)>>2]|0)>>>0)return;e[c>>2]=b,e[f>>2]=ke;return}case 11:{Tn(c,c+4|0,f,o)|0;return}case 12:{ho(c,c+4|0,c+8|0,f,o)|0;return}case 13:{De(c,c+4|0,c+8|0,c+12|0,f,o)|0;return}case 15:{No(c,r,o);return}case 20:{Je();break}case 22:{Je();break}case 26:{Je();break}case 32:{Je();break}case 38:{Je();break}case 40:{Je();break}case 46:{Je();break}case 47:{Je();break}case 51:{Je();break}case 57:{Je();break}case 59:{Je();break}case 65:{We>>>0>(e[me+-4>>2]|0)>>>0,Je();break}case 66:{Je();break}case 72:{Je();break}case 74:{Je();break}case 84:return}}function px(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0;a=r,r=n;e:for(;;){for(n=r,f=r+-4|0,h=a;;){c=h;t:for(;;){switch(g=c,d=n-g|0,m=d>>2,m|0){case 2:{b=5;break e}case 3:{b=11;break e}case 4:{b=12;break e}case 5:{b=13;break e}case 1:case 0:{b=84;break e}}if((d|0)<124){b=15;break e}if(v=c+(((m|0)/2|0)<<2)|0,(d|0)>3996?(d=(m|0)/4|0,x=De(c,c+(d<<2)|0,v,v+(d<<2)|0,f,o)|0):x=Tn(c,v,f,o)|0,C=e[c>>2]|0,d=e[v>>2]|0,S=e[o>>2]|0,m=e[S>>2]|0,M=(e[S+4>>2]|0)-m>>3,M>>>0<=C>>>0){b=20;break e}if(I=m,M>>>0<=d>>>0){b=22;break e}if(m=e[I+(C<<3)>>2]|0,D=e[I+(d<<3)>>2]|0,m>>>0<D>>>0){L=f,N=x;break}else X=f;for(;X=X+-4|0,(c|0)!=(X|0);){if(V=e[X>>2]|0,M>>>0<=V>>>0){b=51;break e}if((e[I+(V<<3)>>2]|0)>>>0<D>>>0){b=53;break t}}if(D=c+4|0,d=e[f>>2]|0,M>>>0<=d>>>0){b=26;break e}if(m>>>0<(e[I+(d<<3)>>2]|0)>>>0)Q=D;else{if((D|0)==(f|0)){b=84;break e}else U=D;for(;;){if(j=e[U>>2]|0,M>>>0<=j>>>0){b=32;break e}if(m>>>0<(e[I+(j<<3)>>2]|0)>>>0)break;if(D=U+4|0,(D|0)==(f|0)){b=84;break e}else U=D}e[U>>2]=d,e[f>>2]=j,Q=U+4|0}if((Q|0)==(f|0)){b=84;break e}if(I=e[c>>2]|0,$=e[o>>2]|0,m=e[$>>2]|0,M=(e[$+4>>2]|0)-m>>3,M>>>0<=I>>>0){b=38;break e}for(D=m,m=f,J=Q,F=I;;){for(I=D+(F<<3)|0,K=M>>>0>F>>>0,re=J;;){if(se=e[re>>2]|0,M>>>0<=se>>>0){b=40;break e}if(fe=e[I>>2]|0,fe>>>0<(e[D+(se<<3)>>2]|0)>>>0)break;if(K)re=re+4|0;else{b=38;break e}}if(M>>>0>F>>>0)Ee=m;else{b=46;break e}do if(Ee=Ee+-4|0,Ne=e[Ee>>2]|0,M>>>0<=Ne>>>0){b=47;break e}while(fe>>>0<(e[D+(Ne<<3)>>2]|0)>>>0);if(re>>>0>=Ee>>>0){c=re;continue t}if(K=e[re>>2]|0,e[re>>2]=Ne,e[Ee>>2]=K,F=e[c>>2]|0,M>>>0<=F>>>0){b=38;break e}else m=Ee,J=re+4|0}}(b|0)==53&&(b=0,e[c>>2]=V,e[X>>2]=C,L=X,N=x+1|0),J=c+4|0;t:do if(J>>>0<L>>>0){if(m=e[J>>2]|0,F=e[o>>2]|0,M=e[F>>2]|0,D=(e[F+4>>2]|0)-M>>3,D>>>0>m>>>0)me=L,Ie=J,_e=N,Ce=v,We=D,at=M,Ke=F,Ve=m;else{b=57;break e}for(;;){for(F=e[o>>2]|0,m=F+4|0,M=e[Ce>>2]|0,D=Ie,d=at,K=We,Ue=Ke,I=Ve;;){if(se=d,K>>>0<=M>>>0){b=59;break e}if((e[se+(I<<3)>>2]|0)>>>0>=(e[se+(M<<3)>>2]|0)>>>0)break;if(se=D+4|0,st=e[se>>2]|0,d=e[F>>2]|0,K=(e[m>>2]|0)-d>>3,K>>>0<=st>>>0){b=57;break e}else D=se,Ue=F,I=st}if(F=e[Ce>>2]|0,at=e[Ue>>2]|0,We=(e[Ue+4>>2]|0)-at>>3,K=at,d=K+(F<<3)|0,We>>>0>F>>>0)Qe=me;else{b=65;break e}do if(Qe=Qe+-4|0,it=e[Qe>>2]|0,We>>>0<=it>>>0){b=66;break e}while((e[K+(it<<3)>>2]|0)>>>0>=(e[d>>2]|0)>>>0);if(D>>>0>Qe>>>0){ze=Ce,Ge=_e,ke=D;break t}if(e[D>>2]=it,e[Qe>>2]=I,Ie=D+4|0,Ve=e[Ie>>2]|0,We>>>0<=Ve>>>0){b=57;break e}else me=Qe,_e=_e+1|0,Ce=(Ce|0)==(D|0)?Qe:Ce,Ke=Ue}}else ze=v,Ge=N,ke=J;while(0);if((ke|0)!=(ze|0)){if(J=e[ze>>2]|0,d=e[ke>>2]|0,ut=e[o>>2]|0,K=e[ut>>2]|0,F=(e[ut+4>>2]|0)-K>>3,F>>>0<=J>>>0){b=72;break e}if(m=K,F>>>0<=d>>>0){b=74;break e}(e[m+(J<<3)>>2]|0)>>>0<(e[m+(d<<3)>>2]|0)>>>0?(e[ke>>2]=J,e[ze>>2]=d,et=Ge+1|0):et=Ge}else et=Ge;if(!et){if(ot=Kn(c,ke,o)|0,d=ke+4|0,Kn(d,r,o)|0){b=83;break}if(ot){h=d;continue}}if(d=ke,(d-g|0)>=(n-d|0)){b=82;break}px(c,ke,o),h=ke+4|0}if((b|0)==82){b=0,px(ke+4|0,r,o),a=c,r=ke;continue}else if((b|0)==83)if(b=0,ot){b=84;break}else{a=c,r=ke;continue}}switch(b|0){case 5:{if(b=e[f>>2]|0,ke=e[c>>2]|0,a=e[o>>2]|0,ot=e[a>>2]|0,g=(e[a+4>>2]|0)-ot>>3,g>>>0<=b>>>0&&Je(),et=ot,g>>>0<=ke>>>0&&Je(),(e[et+(b<<3)>>2]|0)>>>0>=(e[et+(ke<<3)>>2]|0)>>>0)return;e[c>>2]=b,e[f>>2]=ke;return}case 11:{Tn(c,c+4|0,f,o)|0;return}case 12:{ho(c,c+4|0,c+8|0,f,o)|0;return}case 13:{De(c,c+4|0,c+8|0,c+12|0,f,o)|0;return}case 15:{No(c,r,o);return}case 20:{Je();break}case 22:{Je();break}case 26:{Je();break}case 32:{Je();break}case 38:{Je();break}case 40:{Je();break}case 46:{Je();break}case 47:{Je();break}case 51:{Je();break}case 57:{Je();break}case 59:{Je();break}case 65:{We>>>0>(e[me+-4>>2]|0)>>>0,Je();break}case 66:{Je();break}case 72:{Je();break}case 74:{Je();break}case 84:return}}function lL(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0;if(!a)return f=0,f|0;do switch(e[r+28>>2]|0){case 1:{if(h=r+24|0,c=Z[h>>0]|0,(c<<24>>24>o<<24>>24?o:c)<<24>>24>0)for(g=e[e[r>>2]>>2]|0,d=r+40|0,m=zi(e[d>>2]|0,e[d+4>>2]|0,e[n>>2]|0,0)|0,d=r+48|0,b=Wt(m|0,Xe|0,e[d>>2]|0,e[d+4>>2]|0)|0,d=g+b|0,b=0;;)if(e[a+(b<<2)>>2]=Z[d>>0],b=b+1|0,g=Z[h>>0]|0,(b|0)>=((g<<24>>24>o<<24>>24?o:g)<<24>>24|0)){v=g;break}else d=d+1|0;else v=c;return d=v<<24>>24,v<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(d<<2)|0,0,(o<<24>>24)-d<<2|0)|0,f=1,f|0)}case 2:{if(d=r+24|0,b=Z[d>>0]|0,(b<<24>>24>o<<24>>24?o:b)<<24>>24>0)for(h=e[e[r>>2]>>2]|0,g=r+40|0,m=zi(e[g>>2]|0,e[g+4>>2]|0,e[n>>2]|0,0)|0,g=r+48|0,x=Wt(m|0,Xe|0,e[g>>2]|0,e[g+4>>2]|0)|0,g=h+x|0,x=0;;)if(e[a+(x<<2)>>2]=yi[g>>0],x=x+1|0,h=Z[d>>0]|0,(x|0)>=((h<<24>>24>o<<24>>24?o:h)<<24>>24|0)){C=h;break}else g=g+1|0;else C=b;return g=C<<24>>24,C<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(g<<2)|0,0,(o<<24>>24)-g<<2|0)|0,f=1,f|0)}case 3:{if(g=r+24|0,x=Z[g>>0]|0,(x<<24>>24>o<<24>>24?o:x)<<24>>24>0)for(d=e[e[r>>2]>>2]|0,c=r+40|0,h=zi(e[c>>2]|0,e[c+4>>2]|0,e[n>>2]|0,0)|0,c=r+48|0,m=Wt(h|0,Xe|0,e[c>>2]|0,e[c+4>>2]|0)|0,c=d+m|0,m=0;;)if(e[a+(m<<2)>>2]=Oi[c>>1],m=m+1|0,d=Z[g>>0]|0,(m|0)>=((d<<24>>24>o<<24>>24?o:d)<<24>>24|0)){S=d;break}else c=c+2|0;else S=x;return c=S<<24>>24,S<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(c<<2)|0,0,(o<<24>>24)-c<<2|0)|0,f=1,f|0)}case 4:{if(c=r+24|0,m=Z[c>>0]|0,(m<<24>>24>o<<24>>24?o:m)<<24>>24>0)for(g=e[e[r>>2]>>2]|0,b=r+40|0,d=zi(e[b>>2]|0,e[b+4>>2]|0,e[n>>2]|0,0)|0,b=r+48|0,h=Wt(d|0,Xe|0,e[b>>2]|0,e[b+4>>2]|0)|0,b=g+h|0,h=0;;)if(e[a+(h<<2)>>2]=aa[b>>1],h=h+1|0,g=Z[c>>0]|0,(h|0)>=((g<<24>>24>o<<24>>24?o:g)<<24>>24|0)){M=g;break}else b=b+2|0;else M=m;return b=M<<24>>24,M<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(b<<2)|0,0,(o<<24>>24)-b<<2|0)|0,f=1,f|0)}case 5:{if(b=r+24|0,h=Z[b>>0]|0,(h<<24>>24>o<<24>>24?o:h)<<24>>24>0)for(c=e[e[r>>2]>>2]|0,x=r+40|0,g=zi(e[x>>2]|0,e[x+4>>2]|0,e[n>>2]|0,0)|0,x=r+48|0,d=Wt(g|0,Xe|0,e[x>>2]|0,e[x+4>>2]|0)|0,x=c+d|0,d=0;;)if(e[a+(d<<2)>>2]=e[x>>2],d=d+1|0,c=Z[b>>0]|0,(d|0)>=((c<<24>>24>o<<24>>24?o:c)<<24>>24|0)){I=c;break}else x=x+4|0;else I=h;return x=I<<24>>24,I<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(x<<2)|0,0,(o<<24>>24)-x<<2|0)|0,f=1,f|0)}case 6:{if(x=r+24|0,d=Z[x>>0]|0,(d<<24>>24>o<<24>>24?o:d)<<24>>24>0)for(b=e[e[r>>2]>>2]|0,m=r+40|0,c=zi(e[m>>2]|0,e[m+4>>2]|0,e[n>>2]|0,0)|0,m=r+48|0,g=Wt(c|0,Xe|0,e[m>>2]|0,e[m+4>>2]|0)|0,m=b+g|0,g=0;;)if(e[a+(g<<2)>>2]=e[m>>2],g=g+1|0,b=Z[x>>0]|0,(g|0)>=((b<<24>>24>o<<24>>24?o:b)<<24>>24|0)){D=b;break}else m=m+4|0;else D=d;return m=D<<24>>24,D<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(m<<2)|0,0,(o<<24>>24)-m<<2|0)|0,f=1,f|0)}case 7:{if(m=r+24|0,g=Z[m>>0]|0,(g<<24>>24>o<<24>>24?o:g)<<24>>24>0)for(x=e[e[r>>2]>>2]|0,h=r+40|0,b=zi(e[h>>2]|0,e[h+4>>2]|0,e[n>>2]|0,0)|0,h=r+48|0,c=Wt(b|0,Xe|0,e[h>>2]|0,e[h+4>>2]|0)|0,h=x+c|0,c=0;;)if(e[a+(c<<2)>>2]=e[h>>2],c=c+1|0,x=Z[m>>0]|0,(c|0)>=((x<<24>>24>o<<24>>24?o:x)<<24>>24|0)){L=x;break}else h=h+8|0;else L=g;return h=L<<24>>24,L<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(h<<2)|0,0,(o<<24>>24)-h<<2|0)|0,f=1,f|0)}case 8:{if(h=r+24|0,c=Z[h>>0]|0,(c<<24>>24>o<<24>>24?o:c)<<24>>24>0)for(m=e[e[r>>2]>>2]|0,d=r+40|0,x=zi(e[d>>2]|0,e[d+4>>2]|0,e[n>>2]|0,0)|0,d=r+48|0,b=Wt(x|0,Xe|0,e[d>>2]|0,e[d+4>>2]|0)|0,d=m+b|0,b=0;;)if(e[a+(b<<2)>>2]=e[d>>2],b=b+1|0,m=Z[h>>0]|0,(b|0)>=((m<<24>>24>o<<24>>24?o:m)<<24>>24|0)){N=m;break}else d=d+8|0;else N=c;return d=N<<24>>24,N<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(d<<2)|0,0,(o<<24>>24)-d<<2|0)|0,f=1,f|0)}case 9:{if(d=r+24|0,b=Z[d>>0]|0,(b<<24>>24>o<<24>>24?o:b)<<24>>24>0)for(h=e[e[r>>2]>>2]|0,g=r+40|0,m=zi(e[g>>2]|0,e[g+4>>2]|0,e[n>>2]|0,0)|0,g=r+48|0,x=Wt(m|0,Xe|0,e[g>>2]|0,e[g+4>>2]|0)|0,g=h+x|0,x=0;;)if(h=~~qt(br[g>>2])>>>0,e[a+(x<<2)>>2]=h,x=x+1|0,h=Z[d>>0]|0,(x|0)>=((h<<24>>24>o<<24>>24?o:h)<<24>>24|0)){X=h;break}else g=g+4|0;else X=b;return g=X<<24>>24,X<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(g<<2)|0,0,(o<<24>>24)-g<<2|0)|0,f=1,f|0)}case 10:{if(g=r+24|0,x=Z[g>>0]|0,(x<<24>>24>o<<24>>24?o:x)<<24>>24>0)for(d=e[e[r>>2]>>2]|0,c=r+40|0,h=zi(e[c>>2]|0,e[c+4>>2]|0,e[n>>2]|0,0)|0,c=r+48|0,m=Wt(h|0,Xe|0,e[c>>2]|0,e[c+4>>2]|0)|0,c=d+m|0,m=0;;)if(e[a+(m<<2)>>2]=~~+L0[c>>3]>>>0,m=m+1|0,d=Z[g>>0]|0,(m|0)>=((d<<24>>24>o<<24>>24?o:d)<<24>>24|0)){V=d;break}else c=c+8|0;else V=x;return c=V<<24>>24,V<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(c<<2)|0,0,(o<<24>>24)-c<<2|0)|0,f=1,f|0)}case 11:{if(c=r+24|0,m=Z[c>>0]|0,(m<<24>>24>o<<24>>24?o:m)<<24>>24>0)for(g=e[e[r>>2]>>2]|0,b=r+40|0,d=zi(e[b>>2]|0,e[b+4>>2]|0,e[n>>2]|0,0)|0,b=r+48|0,h=Wt(d|0,Xe|0,e[b>>2]|0,e[b+4>>2]|0)|0,b=g+h|0,h=0;;)if(e[a+(h<<2)>>2]=yi[b>>0],h=h+1|0,g=Z[c>>0]|0,(h|0)>=((g<<24>>24>o<<24>>24?o:g)<<24>>24|0)){Q=g;break}else b=b+1|0;else Q=m;return b=Q<<24>>24,Q<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(b<<2)|0,0,(o<<24>>24)-b<<2|0)|0,f=1,f|0)}default:return f=0,f|0}while(0);return 0}function mx(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0;if(!a)return f=0,f|0;do switch(e[r+28>>2]|0){case 1:{if(h=r+24|0,c=Z[h>>0]|0,(c<<24>>24>o<<24>>24?o:c)<<24>>24>0)for(g=e[e[r>>2]>>2]|0,d=r+40|0,m=zi(e[d>>2]|0,e[d+4>>2]|0,e[n>>2]|0,0)|0,d=r+48|0,b=Wt(m|0,Xe|0,e[d>>2]|0,e[d+4>>2]|0)|0,d=g+b|0,b=0;;)if(e[a+(b<<2)>>2]=Z[d>>0],b=b+1|0,g=Z[h>>0]|0,(b|0)>=((g<<24>>24>o<<24>>24?o:g)<<24>>24|0)){v=g;break}else d=d+1|0;else v=c;return d=v<<24>>24,v<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(d<<2)|0,0,(o<<24>>24)-d<<2|0)|0,f=1,f|0)}case 2:{if(d=r+24|0,b=Z[d>>0]|0,(b<<24>>24>o<<24>>24?o:b)<<24>>24>0)for(h=e[e[r>>2]>>2]|0,g=r+40|0,m=zi(e[g>>2]|0,e[g+4>>2]|0,e[n>>2]|0,0)|0,g=r+48|0,x=Wt(m|0,Xe|0,e[g>>2]|0,e[g+4>>2]|0)|0,g=h+x|0,x=0;;)if(e[a+(x<<2)>>2]=yi[g>>0],x=x+1|0,h=Z[d>>0]|0,(x|0)>=((h<<24>>24>o<<24>>24?o:h)<<24>>24|0)){C=h;break}else g=g+1|0;else C=b;return g=C<<24>>24,C<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(g<<2)|0,0,(o<<24>>24)-g<<2|0)|0,f=1,f|0)}case 3:{if(g=r+24|0,x=Z[g>>0]|0,(x<<24>>24>o<<24>>24?o:x)<<24>>24>0)for(d=e[e[r>>2]>>2]|0,c=r+40|0,h=zi(e[c>>2]|0,e[c+4>>2]|0,e[n>>2]|0,0)|0,c=r+48|0,m=Wt(h|0,Xe|0,e[c>>2]|0,e[c+4>>2]|0)|0,c=d+m|0,m=0;;)if(e[a+(m<<2)>>2]=Oi[c>>1],m=m+1|0,d=Z[g>>0]|0,(m|0)>=((d<<24>>24>o<<24>>24?o:d)<<24>>24|0)){S=d;break}else c=c+2|0;else S=x;return c=S<<24>>24,S<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(c<<2)|0,0,(o<<24>>24)-c<<2|0)|0,f=1,f|0)}case 4:{if(c=r+24|0,m=Z[c>>0]|0,(m<<24>>24>o<<24>>24?o:m)<<24>>24>0)for(g=e[e[r>>2]>>2]|0,b=r+40|0,d=zi(e[b>>2]|0,e[b+4>>2]|0,e[n>>2]|0,0)|0,b=r+48|0,h=Wt(d|0,Xe|0,e[b>>2]|0,e[b+4>>2]|0)|0,b=g+h|0,h=0;;)if(e[a+(h<<2)>>2]=aa[b>>1],h=h+1|0,g=Z[c>>0]|0,(h|0)>=((g<<24>>24>o<<24>>24?o:g)<<24>>24|0)){M=g;break}else b=b+2|0;else M=m;return b=M<<24>>24,M<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(b<<2)|0,0,(o<<24>>24)-b<<2|0)|0,f=1,f|0)}case 5:{if(b=r+24|0,h=Z[b>>0]|0,(h<<24>>24>o<<24>>24?o:h)<<24>>24>0)for(c=e[e[r>>2]>>2]|0,x=r+40|0,g=zi(e[x>>2]|0,e[x+4>>2]|0,e[n>>2]|0,0)|0,x=r+48|0,d=Wt(g|0,Xe|0,e[x>>2]|0,e[x+4>>2]|0)|0,x=c+d|0,d=0;;)if(e[a+(d<<2)>>2]=e[x>>2],d=d+1|0,c=Z[b>>0]|0,(d|0)>=((c<<24>>24>o<<24>>24?o:c)<<24>>24|0)){I=c;break}else x=x+4|0;else I=h;return x=I<<24>>24,I<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(x<<2)|0,0,(o<<24>>24)-x<<2|0)|0,f=1,f|0)}case 6:{if(x=r+24|0,d=Z[x>>0]|0,(d<<24>>24>o<<24>>24?o:d)<<24>>24>0)for(b=e[e[r>>2]>>2]|0,m=r+40|0,c=zi(e[m>>2]|0,e[m+4>>2]|0,e[n>>2]|0,0)|0,m=r+48|0,g=Wt(c|0,Xe|0,e[m>>2]|0,e[m+4>>2]|0)|0,m=b+g|0,g=0;;)if(e[a+(g<<2)>>2]=e[m>>2],g=g+1|0,b=Z[x>>0]|0,(g|0)>=((b<<24>>24>o<<24>>24?o:b)<<24>>24|0)){D=b;break}else m=m+4|0;else D=d;return m=D<<24>>24,D<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(m<<2)|0,0,(o<<24>>24)-m<<2|0)|0,f=1,f|0)}case 7:{if(m=r+24|0,g=Z[m>>0]|0,(g<<24>>24>o<<24>>24?o:g)<<24>>24>0)for(x=e[e[r>>2]>>2]|0,h=r+40|0,b=zi(e[h>>2]|0,e[h+4>>2]|0,e[n>>2]|0,0)|0,h=r+48|0,c=Wt(b|0,Xe|0,e[h>>2]|0,e[h+4>>2]|0)|0,h=x+c|0,c=0;;)if(e[a+(c<<2)>>2]=e[h>>2],c=c+1|0,x=Z[m>>0]|0,(c|0)>=((x<<24>>24>o<<24>>24?o:x)<<24>>24|0)){L=x;break}else h=h+8|0;else L=g;return h=L<<24>>24,L<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(h<<2)|0,0,(o<<24>>24)-h<<2|0)|0,f=1,f|0)}case 8:{if(h=r+24|0,c=Z[h>>0]|0,(c<<24>>24>o<<24>>24?o:c)<<24>>24>0)for(m=e[e[r>>2]>>2]|0,d=r+40|0,x=zi(e[d>>2]|0,e[d+4>>2]|0,e[n>>2]|0,0)|0,d=r+48|0,b=Wt(x|0,Xe|0,e[d>>2]|0,e[d+4>>2]|0)|0,d=m+b|0,b=0;;)if(e[a+(b<<2)>>2]=e[d>>2],b=b+1|0,m=Z[h>>0]|0,(b|0)>=((m<<24>>24>o<<24>>24?o:m)<<24>>24|0)){N=m;break}else d=d+8|0;else N=c;return d=N<<24>>24,N<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(d<<2)|0,0,(o<<24>>24)-d<<2|0)|0,f=1,f|0)}case 9:{if(d=r+24|0,b=Z[d>>0]|0,(b<<24>>24>o<<24>>24?o:b)<<24>>24>0)for(h=e[e[r>>2]>>2]|0,g=r+40|0,m=zi(e[g>>2]|0,e[g+4>>2]|0,e[n>>2]|0,0)|0,g=r+48|0,x=Wt(m|0,Xe|0,e[g>>2]|0,e[g+4>>2]|0)|0,g=h+x|0,x=0;;)if(h=~~qt(br[g>>2]),e[a+(x<<2)>>2]=h,x=x+1|0,h=Z[d>>0]|0,(x|0)>=((h<<24>>24>o<<24>>24?o:h)<<24>>24|0)){X=h;break}else g=g+4|0;else X=b;return g=X<<24>>24,X<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(g<<2)|0,0,(o<<24>>24)-g<<2|0)|0,f=1,f|0)}case 10:{if(g=r+24|0,x=Z[g>>0]|0,(x<<24>>24>o<<24>>24?o:x)<<24>>24>0)for(d=e[e[r>>2]>>2]|0,c=r+40|0,h=zi(e[c>>2]|0,e[c+4>>2]|0,e[n>>2]|0,0)|0,c=r+48|0,m=Wt(h|0,Xe|0,e[c>>2]|0,e[c+4>>2]|0)|0,c=d+m|0,m=0;;)if(e[a+(m<<2)>>2]=~~+L0[c>>3],m=m+1|0,d=Z[g>>0]|0,(m|0)>=((d<<24>>24>o<<24>>24?o:d)<<24>>24|0)){V=d;break}else c=c+8|0;else V=x;return c=V<<24>>24,V<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(c<<2)|0,0,(o<<24>>24)-c<<2|0)|0,f=1,f|0)}case 11:{if(c=r+24|0,m=Z[c>>0]|0,(m<<24>>24>o<<24>>24?o:m)<<24>>24>0)for(g=e[e[r>>2]>>2]|0,b=r+40|0,d=zi(e[b>>2]|0,e[b+4>>2]|0,e[n>>2]|0,0)|0,b=r+48|0,h=Wt(d|0,Xe|0,e[b>>2]|0,e[b+4>>2]|0)|0,b=g+h|0,h=0;;)if(e[a+(h<<2)>>2]=yi[b>>0],h=h+1|0,g=Z[c>>0]|0,(h|0)>=((g<<24>>24>o<<24>>24?o:g)<<24>>24|0)){Q=g;break}else b=b+1|0;else Q=m;return b=Q<<24>>24,Q<<24>>24>=o<<24>>24?(f=1,f|0):(Mi(a+(b<<2)|0,0,(o<<24>>24)-b<<2|0)|0,f=1,f|0)}default:return f=0,f|0}while(0);return 0}function fL(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=Ar,fe=0,Ee=0,Ne=0,me=0,Ie=Ar;if(a=q,q=q+48|0,f=a+36|0,h=a+24|0,c=a+12|0,g=a,!(F6(r,n,o)|0)||(m=e[(e[(e[n+4>>2]|0)+8>>2]|0)+(o<<2)>>2]|0,(e[m+28>>2]|0)!=9))return d=0,q=a,d|0;b=n+48|0,n=e[b>>2]|0,v=Dt(32)|0,e[f>>2]=v,e[f+8>>2]=-2147483616,e[f+4>>2]=17,x=v,C=12932,S=x+17|0;do Z[x>>0]=Z[C>>0]|0,x=x+1|0,C=C+1|0;while((x|0)<(S|0));if(Z[v+17>>0]=0,v=n+16|0,M=e[v>>2]|0,M){I=v,D=M;e:for(;;){for(M=D;!((e[M+16>>2]|0)>=(o|0));)if(L=e[M+4>>2]|0,L)M=L;else{N=I;break e}if(D=e[M>>2]|0,D)I=M;else{N=M;break}}(N|0)!=(v|0)&&(e[N+16>>2]|0)<=(o|0)&&(v=N+20|0,(mo(v,f)|0)!=0)?X=go(v,f,-1)|0:V=12}else V=12;if((V|0)==12&&(X=go(n,f,-1)|0),(Z[f+11>>0]|0)<0&&ve(e[f>>2]|0),(X|0)<1)return d=0,q=a,d|0;n=e[b>>2]|0,v=Dt(32)|0,e[f>>2]=v,e[f+8>>2]=-2147483616,e[f+4>>2]=19,x=v,C=13005,S=x+19|0;do Z[x>>0]=Z[C>>0]|0,x=x+1|0,C=C+1|0;while((x|0)<(S|0));if(Z[v+19>>0]=0,v=n+16|0,N=e[v>>2]|0,N){I=v,D=N;e:for(;;){for(N=D;!((e[N+16>>2]|0)>=(o|0));)if(L=e[N+4>>2]|0,L)N=L;else{Q=I;break e}if(D=e[N>>2]|0,D)I=N;else{Q=N;break}}(Q|0)!=(v|0)&&(e[Q+16>>2]|0)<=(o|0)?U=Q+20|0:V=24}else V=24;if((V|0)==24&&(U=n),!(mo(U,f)|0))j=0;else{U=e[b>>2]|0,e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=0,n=Dt(32)|0,e[h>>2]=n,e[h+8>>2]=-2147483616,e[h+4>>2]=18,x=n,C=13025,S=x+18|0;do Z[x>>0]=Z[C>>0]|0,x=x+1|0,C=C+1|0;while((x|0)<(S|0));if(Z[n+18>>0]=0,n=U+16|0,Q=e[n>>2]|0,Q){v=n,I=Q;e:for(;;){for(Q=I;!((e[Q+16>>2]|0)>=(o|0));)if(D=e[Q+4>>2]|0,D)Q=D;else{$=v;break e}if(I=e[Q>>2]|0,I)v=Q;else{$=Q;break}}($|0)!=(n|0)&&(e[$+16>>2]|0)<=(o|0)?J=$+20|0:V=34}else V=34;(V|0)==34&&(J=U),U=(mo(J,h)|0)!=0,(Z[h+11>>0]|0)<0&&ve(e[h>>2]|0),j=U}if((Z[f+11>>0]|0)<0&&ve(e[f>>2]|0),!j)return Mc(r+40|0,m,X)|0,d=1,q=a,d|0;j=m+24|0,m=Z[j>>0]|0,U=m<<24>>24,e[c>>2]=0,J=c+4|0,e[J>>2]=0,e[c+8>>2]=0;do if(m<<24>>24)if(m<<24>>24<0)Je();else{$=U<<2,n=Dt($)|0,e[c>>2]=n,v=n+(U<<2)|0,e[c+8>>2]=v,Mi(n|0,0,$|0)|0,e[J>>2]=v,F=n;break}else F=0;while(0);U=e[b>>2]|0,e[g>>2]=0,e[g+4>>2]=0,e[g+8>>2]=0,m=Dt(32)|0,e[g>>2]=m,e[g+8>>2]=-2147483616,e[g+4>>2]=19,x=m,C=13005,S=x+19|0;do Z[x>>0]=Z[C>>0]|0,x=x+1|0,C=C+1|0;while((x|0)<(S|0));if(Z[m+19>>0]=0,m=Z[j>>0]|0,n=m<<24>>24,v=U+16|0,$=e[v>>2]|0,$){I=v,N=$;e:for(;;){for($=N;!((e[$+16>>2]|0)>=(o|0));)if(D=e[$+4>>2]|0,D)$=D;else{K=I;break e}if(N=e[$>>2]|0,N)I=$;else{K=$;break}}if((K|0)!=(v|0)&&(e[K+16>>2]|0)<=(o|0)&&(v=K+20|0,(mo(v,g)|0)!=0)){if(I=X0(v,g)|0,(I|0)!=(K+24|0)){if(T0(f,I+28|0),I=f+11|0,K=Z[I>>0]|0,v=K<<24>>24<0,!((v?e[f+4>>2]|0:K&255)|0))re=K;else{if(m<<24>>24>0){N=v?e[f>>2]|0:f,v=0;do{if(se=qt(tA(N,h)),Q=N,N=e[h>>2]|0,(Q|0)==(N|0))break;br[F+(v<<2)>>2]=se,v=v+1|0}while((v|0)<(n|0));fe=Z[I>>0]|0}else fe=K;re=fe}re<<24>>24<0&&ve(e[f>>2]|0)}}else V=64}else V=64;if((V|0)==64&&(re=X0(U,g)|0,(re|0)!=(U+4|0))){if(T0(f,re+28|0),re=f+11|0,U=Z[re>>0]|0,fe=U<<24>>24<0,!((fe?e[f+4>>2]|0:U&255)|0))Ee=U;else{if(m<<24>>24>0){m=fe?e[f>>2]|0:f,fe=0;do{if(se=qt(tA(m,h)),K=m,m=e[h>>2]|0,(K|0)==(m|0))break;br[F+(fe<<2)>>2]=se,fe=fe+1|0}while((fe|0)<(n|0));Ne=Z[re>>0]|0}else Ne=U;Ee=Ne}Ee<<24>>24<0&&ve(e[f>>2]|0)}(Z[g+11>>0]|0)<0&&ve(e[g>>2]|0),g=e[b>>2]|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,b=Dt(32)|0,e[f>>2]=b,e[f+8>>2]=-2147483616,e[f+4>>2]=18,x=b,C=13025,S=x+18|0;do Z[x>>0]=Z[C>>0]|0,x=x+1|0,C=C+1|0;while((x|0)<(S|0));if(Z[b+18>>0]=0,b=g+16|0,C=e[b>>2]|0,C){x=b,S=C;e:for(;;){for(C=S;!((e[C+16>>2]|0)>=(o|0));)if(Ee=e[C+4>>2]|0,Ee)C=Ee;else{me=x;break e}if(S=e[C>>2]|0,S)x=C;else{me=C;break}}(me|0)!=(b|0)&&(e[me+16>>2]|0)<=(o|0)&&(o=me+20|0,(mo(o,f)|0)!=0)?Ie=qt(Fy(o,f,qt(1))):V=86}else V=86;return(V|0)==86&&(Ie=qt(Fy(g,f,qt(1)))),(Z[f+11>>0]|0)<0&&ve(e[f>>2]|0),Rk(r+40|0,X,e[c>>2]|0,Z[j>>0]|0,Ie),j=e[c>>2]|0,j|0&&(c=e[J>>2]|0,(c|0)!=(j|0)&&(e[J>>2]=c+(~((c+-4-j|0)>>>2)<<2)),ve(j)),d=1,q=a,d|0}function uL(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0,Gt=0,ci=0,mi=0,ji=0,di=0,Ei=0,ni=0,Ri=0,Ni=0,ai=0,gi=0,oi=0;if(f=q,q=q+64|0,a=f+48|0,c=f+36|0,g=f+24|0,d=f+16|0,m=f+8|0,b=f,v=f+32|0,x=r+60|0,e[r+68>>2]=h,h=r+108|0,Sn(h),C=r+56|0,S=e[C>>2]|0,M=(e[S+4>>2]|0)-(e[S>>2]|0)|0,I=M>>2,e[c>>2]=0,e[c+4>>2]=0,e[c+8>>2]=0,D=g,e[D>>2]=0,e[D+4>>2]=0,D=d,e[D>>2]=0,e[D+4>>2]=0,D=m,e[D>>2]=0,e[D+4>>2]=0,D=b,e[D>>2]=0,e[D+4>>2]=0,(M|0)<=0)return q=f,1;for(M=c+4|0,D=c+8|0,L=r+104|0,N=g+4|0,X=r+100|0,V=d+4|0,Q=r+8|0,U=r+16|0,j=r+32|0,$=r+12|0,J=r+28|0,F=r+20|0,K=r+24|0,re=r+96|0,r=m+4|0,se=b+4|0,fe=e[S>>2]|0,(e[S+4>>2]|0)==(fe|0)?Je():(Ee=0,Ne=fe);;){e[v>>2]=e[Ne+(Ee<<2)>>2],e[a>>2]=e[v>>2],Iy(x,a,c),fe=e[c>>2]|0,S=(fe|0)>-1?fe:0-fe|0,me=e[M>>2]|0,Ie=(me|0)>-1?me:0-me|0,_e=Wt(Ie|0,((Ie|0)<0)<<31>>31|0,S|0,((S|0)<0)<<31>>31|0)|0,S=e[D>>2]|0,Ie=(S|0)>-1,Ce=Ie?S:0-S|0,S=Wt(_e|0,Xe|0,Ce|0,((Ce|0)<0)<<31>>31|0)|0,Ce=Xe,(S|0)==0&(Ce|0)==0?(_e=e[L>>2]|0,We=_e,at=c,Ke=me,Ve=_e):(_e=e[L>>2]|0,Ue=((_e|0)<0)<<31>>31,st=zi(_e|0,Ue|0,fe|0,((fe|0)<0)<<31>>31|0)|0,fe=m0(st|0,Xe|0,S|0,Ce|0)|0,e[c>>2]=fe,st=zi(_e|0,Ue|0,me|0,((me|0)<0)<<31>>31|0)|0,me=m0(st|0,Xe|0,S|0,Ce|0)|0,e[M>>2]=me,Ce=_e-((fe|0)>-1?fe:0-fe|0)-((me|0)>-1?me:0-me|0)|0,We=Ie?Ce:0-Ce|0,at=D,Ke=me,Ve=_e),e[at>>2]=We,_e=e[c>>2]|0;do if((_e|0)<=-1)if((Ke|0)<0?(me=e[D>>2]|0,Qe=(me|0)>-1?me:0-me|0,it=me):(me=e[D>>2]|0,Qe=(e[X>>2]|0)-((me|0)>-1?me:0-me|0)|0,it=me),(it|0)<0){ze=(Ke|0)>-1?Ke:0-Ke|0,Ge=Qe,ke=it;break}else{ze=(e[X>>2]|0)-((Ke|0)>-1?Ke:0-Ke|0)|0,Ge=Qe,ke=it;break}else me=e[D>>2]|0,ze=me+Ve|0,Ge=Ve+Ke|0,ke=me;while(0);me=(Ge|0)==0,Ce=(ze|0)==0,Ie=e[X>>2]|0;do if(ze|Ge)if(fe=(Ie|0)==(ze|0),me&fe)ut=ze,et=ze;else if(S=(Ie|0)==(Ge|0),Ce&S)ut=Ge,et=Ge;else{if(me&(Ve|0)<(ze|0)){ut=0,et=(Ve<<1)-ze|0;break}if(S&(Ve|0)>(ze|0)){ut=Ge,et=(Ve<<1)-ze|0;break}if(fe&(Ve|0)>(Ge|0)){ut=(Ve<<1)-Ge|0,et=ze;break}Ce?(ut=(Ve|0)<(Ge|0)?(Ve<<1)-Ge|0:Ge,et=0):(ut=Ge,et=ze)}else ut=Ie,et=Ie;while(0);e[g>>2]=ut,e[N>>2]=et,Ce=0-Ke|0,me=0-ke|0,e[c>>2]=0-_e,e[M>>2]=Ce,e[D>>2]=me,(_e|0)<1?(ot=Ve-ke|0,Rt=Ve-Ke|0):(fe=(ke|0)<1?me:ke,me=(Ke|0)<1?Ce:Ke,ot=(ke|0)>0?me:Ie-me|0,Rt=(Ke|0)>0?fe:Ie-fe|0),fe=(Rt|0)==0,me=(ot|0)==0;do if((ot|Rt|0)!=0&&(Ce=(Ie|0)==(ot|0),!(fe&Ce))&&(S=(Ie|0)==(Rt|0),!(me&S))){if(fe&(Ve|0)<(ot|0)){Nt=0,At=(Ve<<1)-ot|0;break}if(S&(Ve|0)>(ot|0)){Nt=Ie,At=(Ve<<1)-ot|0;break}if(Ce&(Ve|0)>(Rt|0)){Nt=(Ve<<1)-Rt|0,At=Ie;break}me?(Nt=(Ve|0)<(Rt|0)?(Ve<<1)-Rt|0:Rt,At=0):(Nt=Rt,At=ot)}else Nt=Ie,At=Ie;while(0);if(e[d>>2]=Nt,e[V>>2]=At,Ie=Ee<<1,me=n+(Ie<<2)|0,fe=e[Q>>2]|0,(fe|0)>0){for(_e=0,Ce=g,S=fe;;){if((S|0)>0){fe=0;do st=e[Ce+(fe<<2)>>2]|0,Ue=e[U>>2]|0,(st|0)>(Ue|0)?(Vt=e[j>>2]|0,e[Vt+(fe<<2)>>2]=Ue,Pt=Vt):(Vt=e[$>>2]|0,Ue=e[j>>2]|0,e[Ue+(fe<<2)>>2]=(st|0)<(Vt|0)?Vt:st,Pt=Ue),fe=fe+1|0,Ue=e[Q>>2]|0;while((fe|0)<(Ue|0));xt=Pt,_t=Ue}else xt=e[j>>2]|0,_t=S;if(fe=(e[me+(_e<<2)>>2]|0)-(e[xt+(_e<<2)>>2]|0)|0,Ue=m+(_e<<2)|0,e[Ue>>2]=fe,St=e[J>>2]|0,(fe|0)>=(St|0)?(fe|0)>(e[K>>2]|0)&&(fi=fe-(e[F>>2]|0)|0,Gt=52):(fi=(e[F>>2]|0)+fe|0,Gt=52),(Gt|0)==52&&(Gt=0,e[Ue>>2]=fi),_e=_e+1|0,(_e|0)>=(_t|0))break;Ce=xt,S=_t}if((_t|0)>0)for(S=0,Ce=d,_e=_t,Ue=St;;){if((_e|0)>0){fe=0;do st=e[Ce+(fe<<2)>>2]|0,Vt=e[U>>2]|0,(st|0)>(Vt|0)?e[xt+(fe<<2)>>2]=Vt:(Vt=e[$>>2]|0,e[xt+(fe<<2)>>2]=(st|0)<(Vt|0)?Vt:st),fe=fe+1|0,ci=e[Q>>2]|0;while((fe|0)<(ci|0));mi=e[J>>2]|0,ji=ci}else mi=Ue,ji=_e;if(fe=(e[me+(S<<2)>>2]|0)-(e[xt+(S<<2)>>2]|0)|0,st=b+(S<<2)|0,e[st>>2]=fe,(fe|0)>=(mi|0)?(fe|0)>(e[K>>2]|0)&&(di=fe-(e[F>>2]|0)|0,Gt=65):(di=(e[F>>2]|0)+fe|0,Gt=65),(Gt|0)==65&&(Gt=0,e[st>>2]=di),S=S+1|0,(S|0)>=(ji|0))break;Ce=xt,_e=ji,Ue=mi}}if(Ue=e[m>>2]|0,_e=e[L>>2]|0,(_e|0)>=(Ue|0)?(Ue|0)<(0-_e|0)?Ei=(e[re>>2]|0)+Ue|0:Ei=Ue:Ei=Ue-(e[re>>2]|0)|0,e[m>>2]=Ei,Ue=e[r>>2]|0,(_e|0)>=(Ue|0)?(Ue|0)<(0-_e|0)?ni=(e[re>>2]|0)+Ue|0:ni=Ue:ni=Ue-(e[re>>2]|0)|0,e[r>>2]=ni,Ue=e[b>>2]|0,(_e|0)>=(Ue|0)?(Ue|0)<(0-_e|0)?Ri=(e[re>>2]|0)+Ue|0:Ri=Ue:Ri=Ue-(e[re>>2]|0)|0,e[b>>2]=Ri,Ue=e[se>>2]|0,(_e|0)>=(Ue|0)?(Ue|0)<(0-_e|0)?Ni=(e[re>>2]|0)+Ue|0:Ni=Ue:Ni=Ue-(e[re>>2]|0)|0,e[se>>2]=Ni,(((ni|0)>-1?ni:0-ni|0)+((Ei|0)>-1?Ei:0-Ei|0)|0)<(((Ri|0)>-1?Ri:0-Ri|0)+((Ni|0)>-1?Ni:0-Ni|0)|0)?(zn(h,0),ai=m):(zn(h,1),ai=b),Ue=e[ai>>2]|0,(Ue|0)<0?gi=(e[re>>2]|0)+Ue|0:gi=Ue,Ue=o+(Ie<<2)|0,e[Ue>>2]=gi,_e=e[ai+4>>2]|0,(_e|0)<0?oi=(e[re>>2]|0)+_e|0:oi=_e,e[Ue+4>>2]=oi,Ee=Ee+1|0,(Ee|0)>=(I|0)){Gt=3;break}if(Ue=e[C>>2]|0,Ne=e[Ue>>2]|0,(e[Ue+4>>2]|0)-Ne>>2>>>0<=Ee>>>0){Gt=4;break}}return(Gt|0)==3?(q=f,1):((Gt|0)==4&&Je(),0)}function cL(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0,Gt=0,ci=0,mi=0,ji=0,di=0,Ei=0,ni=0,Ri=0,Ni=0,ai=0,gi=0,oi=0;if(f=q,q=q+64|0,a=f+48|0,c=f+36|0,g=f+24|0,d=f+16|0,m=f+8|0,b=f,v=f+32|0,x=r+60|0,e[r+68>>2]=h,h=r+108|0,Sn(h),C=r+56|0,S=e[C>>2]|0,M=(e[S+4>>2]|0)-(e[S>>2]|0)|0,I=M>>2,e[c>>2]=0,e[c+4>>2]=0,e[c+8>>2]=0,D=g,e[D>>2]=0,e[D+4>>2]=0,D=d,e[D>>2]=0,e[D+4>>2]=0,D=m,e[D>>2]=0,e[D+4>>2]=0,D=b,e[D>>2]=0,e[D+4>>2]=0,(M|0)<=0)return q=f,1;for(M=c+4|0,D=c+8|0,L=r+104|0,N=g+4|0,X=r+100|0,V=d+4|0,Q=r+8|0,U=r+16|0,j=r+32|0,$=r+12|0,J=r+28|0,F=r+20|0,K=r+24|0,re=r+96|0,r=m+4|0,se=b+4|0,fe=e[S>>2]|0,(e[S+4>>2]|0)==(fe|0)?Je():(Ee=0,Ne=fe);;){e[v>>2]=e[Ne+(Ee<<2)>>2],e[a>>2]=e[v>>2],By(x,a,c),fe=e[c>>2]|0,S=(fe|0)>-1?fe:0-fe|0,me=e[M>>2]|0,Ie=(me|0)>-1?me:0-me|0,_e=Wt(Ie|0,((Ie|0)<0)<<31>>31|0,S|0,((S|0)<0)<<31>>31|0)|0,S=e[D>>2]|0,Ie=(S|0)>-1,Ce=Ie?S:0-S|0,S=Wt(_e|0,Xe|0,Ce|0,((Ce|0)<0)<<31>>31|0)|0,Ce=Xe,(S|0)==0&(Ce|0)==0?(_e=e[L>>2]|0,We=_e,at=c,Ke=me,Ve=_e):(_e=e[L>>2]|0,Ue=((_e|0)<0)<<31>>31,st=zi(_e|0,Ue|0,fe|0,((fe|0)<0)<<31>>31|0)|0,fe=m0(st|0,Xe|0,S|0,Ce|0)|0,e[c>>2]=fe,st=zi(_e|0,Ue|0,me|0,((me|0)<0)<<31>>31|0)|0,me=m0(st|0,Xe|0,S|0,Ce|0)|0,e[M>>2]=me,Ce=_e-((fe|0)>-1?fe:0-fe|0)-((me|0)>-1?me:0-me|0)|0,We=Ie?Ce:0-Ce|0,at=D,Ke=me,Ve=_e),e[at>>2]=We,_e=e[c>>2]|0;do if((_e|0)<=-1)if((Ke|0)<0?(me=e[D>>2]|0,Qe=(me|0)>-1?me:0-me|0,it=me):(me=e[D>>2]|0,Qe=(e[X>>2]|0)-((me|0)>-1?me:0-me|0)|0,it=me),(it|0)<0){ze=(Ke|0)>-1?Ke:0-Ke|0,Ge=Qe,ke=it;break}else{ze=(e[X>>2]|0)-((Ke|0)>-1?Ke:0-Ke|0)|0,Ge=Qe,ke=it;break}else me=e[D>>2]|0,ze=me+Ve|0,Ge=Ve+Ke|0,ke=me;while(0);me=(Ge|0)==0,Ce=(ze|0)==0,Ie=e[X>>2]|0;do if(ze|Ge)if(fe=(Ie|0)==(ze|0),me&fe)ut=ze,et=ze;else if(S=(Ie|0)==(Ge|0),Ce&S)ut=Ge,et=Ge;else{if(me&(Ve|0)<(ze|0)){ut=0,et=(Ve<<1)-ze|0;break}if(S&(Ve|0)>(ze|0)){ut=Ge,et=(Ve<<1)-ze|0;break}if(fe&(Ve|0)>(Ge|0)){ut=(Ve<<1)-Ge|0,et=ze;break}Ce?(ut=(Ve|0)<(Ge|0)?(Ve<<1)-Ge|0:Ge,et=0):(ut=Ge,et=ze)}else ut=Ie,et=Ie;while(0);e[g>>2]=ut,e[N>>2]=et,Ce=0-Ke|0,me=0-ke|0,e[c>>2]=0-_e,e[M>>2]=Ce,e[D>>2]=me,(_e|0)<1?(ot=Ve-ke|0,Rt=Ve-Ke|0):(fe=(ke|0)<1?me:ke,me=(Ke|0)<1?Ce:Ke,ot=(ke|0)>0?me:Ie-me|0,Rt=(Ke|0)>0?fe:Ie-fe|0),fe=(Rt|0)==0,me=(ot|0)==0;do if((ot|Rt|0)!=0&&(Ce=(Ie|0)==(ot|0),!(fe&Ce))&&(S=(Ie|0)==(Rt|0),!(me&S))){if(fe&(Ve|0)<(ot|0)){Nt=0,At=(Ve<<1)-ot|0;break}if(S&(Ve|0)>(ot|0)){Nt=Ie,At=(Ve<<1)-ot|0;break}if(Ce&(Ve|0)>(Rt|0)){Nt=(Ve<<1)-Rt|0,At=Ie;break}me?(Nt=(Ve|0)<(Rt|0)?(Ve<<1)-Rt|0:Rt,At=0):(Nt=Rt,At=ot)}else Nt=Ie,At=Ie;while(0);if(e[d>>2]=Nt,e[V>>2]=At,Ie=Ee<<1,me=n+(Ie<<2)|0,fe=e[Q>>2]|0,(fe|0)>0){for(_e=0,Ce=g,S=fe;;){if((S|0)>0){fe=0;do st=e[Ce+(fe<<2)>>2]|0,Ue=e[U>>2]|0,(st|0)>(Ue|0)?(Vt=e[j>>2]|0,e[Vt+(fe<<2)>>2]=Ue,Pt=Vt):(Vt=e[$>>2]|0,Ue=e[j>>2]|0,e[Ue+(fe<<2)>>2]=(st|0)<(Vt|0)?Vt:st,Pt=Ue),fe=fe+1|0,Ue=e[Q>>2]|0;while((fe|0)<(Ue|0));xt=Pt,_t=Ue}else xt=e[j>>2]|0,_t=S;if(fe=(e[me+(_e<<2)>>2]|0)-(e[xt+(_e<<2)>>2]|0)|0,Ue=m+(_e<<2)|0,e[Ue>>2]=fe,St=e[J>>2]|0,(fe|0)>=(St|0)?(fe|0)>(e[K>>2]|0)&&(fi=fe-(e[F>>2]|0)|0,Gt=52):(fi=(e[F>>2]|0)+fe|0,Gt=52),(Gt|0)==52&&(Gt=0,e[Ue>>2]=fi),_e=_e+1|0,(_e|0)>=(_t|0))break;Ce=xt,S=_t}if((_t|0)>0)for(S=0,Ce=d,_e=_t,Ue=St;;){if((_e|0)>0){fe=0;do st=e[Ce+(fe<<2)>>2]|0,Vt=e[U>>2]|0,(st|0)>(Vt|0)?e[xt+(fe<<2)>>2]=Vt:(Vt=e[$>>2]|0,e[xt+(fe<<2)>>2]=(st|0)<(Vt|0)?Vt:st),fe=fe+1|0,ci=e[Q>>2]|0;while((fe|0)<(ci|0));mi=e[J>>2]|0,ji=ci}else mi=Ue,ji=_e;if(fe=(e[me+(S<<2)>>2]|0)-(e[xt+(S<<2)>>2]|0)|0,st=b+(S<<2)|0,e[st>>2]=fe,(fe|0)>=(mi|0)?(fe|0)>(e[K>>2]|0)&&(di=fe-(e[F>>2]|0)|0,Gt=65):(di=(e[F>>2]|0)+fe|0,Gt=65),(Gt|0)==65&&(Gt=0,e[st>>2]=di),S=S+1|0,(S|0)>=(ji|0))break;Ce=xt,_e=ji,Ue=mi}}if(Ue=e[m>>2]|0,_e=e[L>>2]|0,(_e|0)>=(Ue|0)?(Ue|0)<(0-_e|0)?Ei=(e[re>>2]|0)+Ue|0:Ei=Ue:Ei=Ue-(e[re>>2]|0)|0,e[m>>2]=Ei,Ue=e[r>>2]|0,(_e|0)>=(Ue|0)?(Ue|0)<(0-_e|0)?ni=(e[re>>2]|0)+Ue|0:ni=Ue:ni=Ue-(e[re>>2]|0)|0,e[r>>2]=ni,Ue=e[b>>2]|0,(_e|0)>=(Ue|0)?(Ue|0)<(0-_e|0)?Ri=(e[re>>2]|0)+Ue|0:Ri=Ue:Ri=Ue-(e[re>>2]|0)|0,e[b>>2]=Ri,Ue=e[se>>2]|0,(_e|0)>=(Ue|0)?(Ue|0)<(0-_e|0)?Ni=(e[re>>2]|0)+Ue|0:Ni=Ue:Ni=Ue-(e[re>>2]|0)|0,e[se>>2]=Ni,(((ni|0)>-1?ni:0-ni|0)+((Ei|0)>-1?Ei:0-Ei|0)|0)<(((Ri|0)>-1?Ri:0-Ri|0)+((Ni|0)>-1?Ni:0-Ni|0)|0)?(zn(h,0),ai=m):(zn(h,1),ai=b),Ue=e[ai>>2]|0,(Ue|0)<0?gi=(e[re>>2]|0)+Ue|0:gi=Ue,Ue=o+(Ie<<2)|0,e[Ue>>2]=gi,_e=e[ai+4>>2]|0,(_e|0)<0?oi=(e[re>>2]|0)+_e|0:oi=_e,e[Ue+4>>2]=oi,Ee=Ee+1|0,(Ee|0)>=(I|0)){Gt=3;break}if(Ue=e[C>>2]|0,Ne=e[Ue>>2]|0,(e[Ue+4>>2]|0)-Ne>>2>>>0<=Ee>>>0){Gt=4;break}}return(Gt|0)==3?(q=f,1):((Gt|0)==4&&Je(),0)}function X_(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0;if(o=q,q=q+16|0,a=o+8|0,f=o,h=e[n>>2]|0,(h|0)==-1||(g=(h>>>0)/3|0,d=r+24|0,e[(e[d>>2]|0)+(g>>>5<<2)>>2]&1<<(g&31)|0))return c=1,q=o,c|0;g=r+48|0,m=e[g>>2]|0,b=r+52|0,v=e[b>>2]|0,(v|0)==(m|0)?x=m:(C=v+(~((v+-4-m|0)>>>2)<<2)|0,e[b>>2]=C,x=C),C=r+56|0,(x|0)==(e[C>>2]|0)?pr(g,n):(e[x>>2]=h,e[b>>2]=x+4),x=r+4|0,h=e[x>>2]|0,m=e[n>>2]|0,v=m+1|0;do if((m|0)!=-1)if(S=e[h+28>>2]|0,M=e[S+((((v>>>0)%3|0|0)==0?m+-2|0:v)<<2)>>2]|0,(m>>>0)%3|0){I=M,D=m+-1|0,L=S;break}else{I=M,D=m+2|0,L=S;break}else S=e[h+28>>2]|0,I=e[S+-4>>2]|0,D=-1,L=S;while(0);if(h=e[L+(D<<2)>>2]|0,(I|0)==-1|(h|0)==-1)return c=0,q=o,c|0;if(D=r+36|0,L=e[D>>2]|0,m=L+(I>>>5<<2)|0,v=1<<(I&31),S=e[m>>2]|0,S&v?V=L:(e[m>>2]=S|v,v=e[n>>2]|0,S=v+1|0,(v|0)==-1?N=-1:N=((S>>>0)%3|0|0)==0?v+-2|0:S,e[f>>2]=N,S=e[(e[(e[r+16>>2]|0)+96>>2]|0)+(((N>>>0)/3|0)*12|0)+(((N>>>0)%3|0)<<2)>>2]|0,N=e[r+20>>2]|0,e[a>>2]=S,v=e[N+4>>2]|0,N=v+4|0,m=e[N>>2]|0,(m|0)==(e[v+8>>2]|0)?pr(v,a):(e[m>>2]=S,e[N>>2]=m+4),m=r+12|0,N=e[m>>2]|0,S=N+4|0,v=e[S>>2]|0,(v|0)==(e[N+8>>2]|0)?(pr(N,f),X=e[m>>2]|0):(e[v>>2]=e[f>>2],e[S>>2]=v+4,X=N),N=X+24|0,e[(e[X+12>>2]|0)+(I<<2)>>2]=e[N>>2],e[N>>2]=(e[N>>2]|0)+1,V=e[D>>2]|0),L=V+(h>>>5<<2)|0,V=1<<(h&31),N=e[L>>2]|0,!(N&V)){e[L>>2]=N|V,V=e[n>>2]|0;do if((V|0)!=-1)if((V>>>0)%3|0){Q=V+-1|0;break}else{Q=V+2|0;break}else Q=-1;while(0);e[f>>2]=Q,V=e[(e[(e[r+16>>2]|0)+96>>2]|0)+(((Q>>>0)/3|0)*12|0)+(((Q>>>0)%3|0)<<2)>>2]|0,Q=e[r+20>>2]|0,e[a>>2]=V,N=e[Q+4>>2]|0,Q=N+4|0,L=e[Q>>2]|0,(L|0)==(e[N+8>>2]|0)?pr(N,a):(e[L>>2]=V,e[Q>>2]=L+4),L=r+12|0,Q=e[L>>2]|0,V=Q+4|0,N=e[V>>2]|0,(N|0)==(e[Q+8>>2]|0)?(pr(Q,f),U=e[L>>2]|0):(e[N>>2]=e[f>>2],e[V>>2]=N+4,U=Q),Q=U+24|0,e[(e[U+12>>2]|0)+(h<<2)>>2]=e[Q>>2],e[Q>>2]=(e[Q>>2]|0)+1}if(Q=e[g>>2]|0,h=e[b>>2]|0,(Q|0)==(h|0))return c=1,q=o,c|0;U=r+16|0,N=r+20|0,V=r+12|0,r=h,h=Q;e:for(;;){if(Q=e[r+-4>>2]|0,e[n>>2]=Q,L=(Q>>>0)/3|0,(Q|0)!=-1&&(Q=(e[d>>2]|0)+(L>>>5<<2)|0,I=1<<(L&31),L=e[Q>>2]|0,(L&I|0)==0)){if(e[Q>>2]=L|I,I=e[x>>2]|0,L=e[n>>2]|0,Q=e[(e[I+28>>2]|0)+(L<<2)>>2]|0,(Q|0)==-1){c=0,j=79;break}else $=Q,J=I,F=L;t:for(;;){L=(e[D>>2]|0)+($>>>5<<2)|0,I=1<<($&31),Q=e[L>>2]|0;do if(Q&I)se=F,fe=J,j=59;else{if(X=e[(e[J+40>>2]|0)+($<<2)>>2]|0,(X|0)==-1?K=1:(v=e[(e[e[J+64>>2]>>2]|0)+(X<<2)>>2]|0,K=(1<<(v&31)&e[(e[J+12>>2]|0)+(v>>>5<<2)>>2]|0)!=0),e[L>>2]=Q|I,v=e[n>>2]|0,e[f>>2]=v,X=e[(e[(e[U>>2]|0)+96>>2]|0)+(((v>>>0)/3|0)*12|0)+(((v>>>0)%3|0)<<2)>>2]|0,v=e[N>>2]|0,e[a>>2]=X,S=e[v+4>>2]|0,v=S+4|0,m=e[v>>2]|0,(m|0)==(e[S+8>>2]|0)?pr(S,a):(e[m>>2]=X,e[v>>2]=m+4),m=e[V>>2]|0,v=m+4|0,X=e[v>>2]|0,(X|0)==(e[m+8>>2]|0)?(pr(m,f),re=e[V>>2]|0):(e[X>>2]=e[f>>2],e[v>>2]=X+4,re=m),m=re+24|0,e[(e[re+12>>2]|0)+($<<2)>>2]=e[m>>2],e[m>>2]=(e[m>>2]|0)+1,m=e[x>>2]|0,X=e[n>>2]|0,K){se=X,fe=m,j=59;break}v=X+1|0;do if((X|0)==-1)Ee=-1;else{if(S=((v>>>0)%3|0|0)==0?X+-2|0:v,(S|0)==-1){Ee=-1;break}if(e[(e[m>>2]|0)+(S>>>5<<2)>>2]&1<<(S&31)|0){Ee=-1;break}Ee=e[(e[(e[m+64>>2]|0)+12>>2]|0)+(S<<2)>>2]|0}while(0);e[n>>2]=Ee,Ne=(Ee>>>0)/3|0,me=m}while(0);if((j|0)==59){if(j=0,I=se+1|0,(se|0)==-1){j=60;break}Q=((I>>>0)%3|0|0)==0?se+-2|0:I;do if((Q|0)==-1)Ie=-1;else{if(e[(e[fe>>2]|0)+(Q>>>5<<2)>>2]&1<<(Q&31)|0){Ie=-1;break}Ie=e[(e[(e[fe+64>>2]|0)+12>>2]|0)+(Q<<2)>>2]|0}while(0);e[a>>2]=Ie,Q=(((se>>>0)%3|0|0)==0?2:-1)+se|0;do if((Q|0)==-1)_e=-1;else{if(e[(e[fe>>2]|0)+(Q>>>5<<2)>>2]&1<<(Q&31)|0){_e=-1;break}_e=e[(e[(e[fe+64>>2]|0)+12>>2]|0)+(Q<<2)>>2]|0}while(0);Q=(Ie|0)==-1,I=(Ie>>>0)/3|0,L=Q?-1:I,v=(_e|0)==-1,X=(_e>>>0)/3|0,S=v?-1:X;do if(Q)j=69;else{if(M=e[d>>2]|0,e[M+(L>>>5<<2)>>2]&1<<(L&31)|0){j=69;break}if(v){Ce=Ie,We=I;break}if(e[M+(S>>>5<<2)>>2]&1<<(S&31))Ce=Ie,We=I;else{j=74;break t}}while(0);if((j|0)==69){if(j=0,v){j=71;break}if(!(e[(e[d>>2]|0)+(S>>>5<<2)>>2]&1<<(S&31)))Ce=_e,We=X;else{j=71;break}}e[n>>2]=Ce,Ne=We,me=fe}if(I=(e[d>>2]|0)+(Ne>>>5<<2)|0,e[I>>2]=e[I>>2]|1<<(Ne&31),F=e[n>>2]|0,$=e[(e[me+28>>2]|0)+(F<<2)>>2]|0,($|0)==-1){c=0,j=79;break e}else J=me}do if((j|0)==60)j=0,e[a>>2]=-1,j=71;else if((j|0)==74)if(j=0,I=e[b>>2]|0,e[I+-4>>2]=_e,(I|0)==(e[C>>2]|0)){pr(g,a),at=e[b>>2]|0;break}else{e[I>>2]=e[a>>2],L=I+4|0,e[b>>2]=L,at=L;break}while(0);(j|0)==71&&(j=0,L=(e[b>>2]|0)+-4|0,e[b>>2]=L,at=L),Ke=e[g>>2]|0,Ve=at}else L=r+-4|0,e[b>>2]=L,Ke=h,Ve=L;if((Ke|0)==(Ve|0)){c=1,j=79;break}else r=Ve,h=Ke}return(j|0)==79?(q=o,c|0):0}function gx(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=Ar,Ue=Ar,st=Ar,Qe=0,it=0,ze=0,Ge=0;o=q,q=q+16|0,a=o,f=r+16|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,br[f>>2]=qt(1),h=r+20|0,e[h>>2]=0,e[h+4>>2]=0,e[h+8>>2]=0,e[h+12>>2]=0,br[r+36>>2]=qt(1),c=e[n+8>>2]|0;e:do if(c|0)for(g=r+4|0,d=r+12|0,m=r+8|0,b=c,v=c;;){if(x=b+8|0,C=Z[x+11>>0]|0,S=C<<24>>24<0,M=S?e[x>>2]|0:x,I=S?e[b+12>>2]|0:C&255,I>>>0>3){for(C=M,S=I,D=I;L=_i(yi[C>>0]|yi[C+1>>0]<<8|yi[C+2>>0]<<16|yi[C+3>>0]<<24,1540483477)|0,S=(_i(L>>>24^L,1540483477)|0)^(_i(S,1540483477)|0),D=D+-4|0,!(D>>>0<=3);)C=C+4|0;C=I+-4|0,D=C&-4,N=C-D|0,X=M+(D+4)|0,V=S}else N=I,X=M,V=I;switch(N|0){case 3:{Q=yi[X+2>>0]<<16^V,U=8;break}case 2:{Q=V,U=8;break}case 1:{j=V,U=9;break}default:$=V}(U|0)==8&&(U=0,j=yi[X+1>>0]<<8^Q,U=9),(U|0)==9&&(U=0,$=_i(j^yi[X>>0],1540483477)|0),D=_i($>>>13^$,1540483477)|0,C=D>>>15^D,D=e[g>>2]|0,L=(D|0)==0;t:do if(L)Ee=0,U=50;else if(J=D+-1|0,F=(J&D|0)==0,F?K=C&J:C>>>0<D>>>0?K=C:K=(C>>>0)%(D>>>0)|0,re=e[(e[r>>2]|0)+(K<<2)>>2]|0,(re|0)!=0&&(se=e[re>>2]|0,(se|0)!=0)){if(re=(I|0)==0,F){if(re)for(F=se;;){if(fe=e[F+4>>2]|0,!((fe|0)==(C|0)|(fe&J|0)==(K|0))){Ee=K,U=50;break t}if(fe=Z[F+8+11>>0]|0,!((fe<<24>>24<0?e[F+12>>2]|0:fe&255)|0))break t;if(F=e[F>>2]|0,!F){Ee=K,U=50;break t}}else Ne=se;for(;;){if(F=e[Ne+4>>2]|0,!((F|0)==(C|0)|(F&J|0)==(K|0))){Ee=K,U=50;break t}F=Ne+8|0,fe=Z[F+11>>0]|0,me=fe<<24>>24<0,Ie=fe&255;do if(((me?e[Ne+12>>2]|0:Ie)|0)==(I|0)){if(fe=e[F>>2]|0,me){if(As(fe,M,I)|0)break;break t}if((Z[M>>0]|0)==(fe&255)<<24>>24){fe=F,_e=Ie,Ce=M;do{if(_e=_e+-1|0,fe=fe+1|0,!_e)break t;Ce=Ce+1|0}while((Z[fe>>0]|0)==(Z[Ce>>0]|0))}}while(0);if(Ne=e[Ne>>2]|0,!Ne){Ee=K,U=50;break t}}}if(re)for(J=se;;){if(Ie=e[J+4>>2]|0,(Ie|0)!=(C|0)&&(Ie>>>0<D>>>0?We=Ie:We=(Ie>>>0)%(D>>>0)|0,(We|0)!=(K|0))){Ee=K,U=50;break t}if(Ie=Z[J+8+11>>0]|0,!((Ie<<24>>24<0?e[J+12>>2]|0:Ie&255)|0))break t;if(J=e[J>>2]|0,!J){Ee=K,U=50;break t}}else at=se;for(;;){if(J=e[at+4>>2]|0,(J|0)!=(C|0)&&(J>>>0<D>>>0?Ke=J:Ke=(J>>>0)%(D>>>0)|0,(Ke|0)!=(K|0))){Ee=K,U=50;break t}J=at+8|0,re=Z[J+11>>0]|0,Ie=re<<24>>24<0,F=re&255;do if(((Ie?e[at+12>>2]|0:F)|0)==(I|0)){if(re=e[J>>2]|0,Ie){if(As(re,M,I)|0)break;break t}if((Z[M>>0]|0)==(re&255)<<24>>24){re=J,me=F,Ce=M;do{if(me=me+-1|0,re=re+1|0,!me)break t;Ce=Ce+1|0}while((Z[re>>0]|0)==(Z[Ce>>0]|0))}}while(0);if(at=e[at>>2]|0,!at){Ee=K,U=50;break}}}else Ee=K,U=50;while(0);if((U|0)==50){U=0,vP(a,r,C,x),Ve=qt(((e[d>>2]|0)+1|0)>>>0),Ue=qt(D>>>0),st=qt(br[f>>2]);do if(L|qt(st*Ue)<Ve){if(M=D<<1|(D>>>0<3|(D+-1&D|0)!=0)&1,I=~~qt(yr(qt(Ve/st)))>>>0,Em(r,M>>>0<I>>>0?I:M),M=e[g>>2]|0,I=M+-1|0,!(I&M)){Qe=M,it=I&C;break}C>>>0<M>>>0?(Qe=M,it=C):(Qe=M,it=(C>>>0)%(M>>>0)|0)}else Qe=D,it=Ee;while(0);D=e[(e[r>>2]|0)+(it<<2)>>2]|0,D?(e[e[a>>2]>>2]=e[D>>2],e[D>>2]=e[a>>2]):(e[e[a>>2]>>2]=e[m>>2],e[m>>2]=e[a>>2],e[(e[r>>2]|0)+(it<<2)>>2]=m,C=e[a>>2]|0,L=e[C>>2]|0,L|0&&(x=e[L+4>>2]|0,L=Qe+-1|0,L&Qe?x>>>0<Qe>>>0?ze=x:ze=(x>>>0)%(Qe>>>0)|0:ze=x&L,e[(e[r>>2]|0)+(ze<<2)>>2]=C)),e[d>>2]=(e[d>>2]|0)+1}if(D=e[v>>2]|0,D)b=D,v=D;else break e}while(0);if(a=e[n+28>>2]|0,a)Ge=a;else{q=o;return}do{if(a=Ge,n=Dt(40)|0,gx(n,e[a+20>>2]|0),ze=Qb(h,a+8|0)|0,a=e[ze>>2]|0,e[ze>>2]=n,a|0){if(n=e[a+28>>2]|0,n|0){ze=n;do n=ze,ze=e[ze>>2]|0,S_(n+8|0),ve(n);while((ze|0)!=0)}if(ze=a+20|0,n=e[ze>>2]|0,e[ze>>2]=0,n|0&&ve(n),n=e[a+8>>2]|0,n|0){ze=n;do n=ze,ze=e[ze>>2]|0,r=n+8|0,Qe=e[n+20>>2]|0,Qe|0&&(it=n+24|0,(e[it>>2]|0)!=(Qe|0)&&(e[it>>2]=Qe),ve(Qe)),(Z[r+11>>0]|0)<0&&ve(e[r>>2]|0),ve(n);while((ze|0)!=0)}ze=e[a>>2]|0,e[a>>2]=0,ze|0&&ve(ze),ve(a)}Ge=e[Ge>>2]|0}while((Ge|0)!=0);q=o}function q_(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=Ar,et=Ar,ot=Ar,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0;if(a=q,q=q+48|0,f=a+16|0,h=a+12|0,c=a,g=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,br[g>>2]=qt(1),d=r+80|0,m=e[d>>2]|0,e[c>>2]=0,b=c+4|0,e[b>>2]=0,e[c+8>>2]=0,m){for(m>>>0>1073741823&&Je(),v=m<<2,x=Dt(v)|0,e[c>>2]=x,C=x+(m<<2)|0,e[c+8>>2]=C,Mi(x|0,0,v|0)|0,e[b>>2]=C,C=n+48|0,v=n+40|0,m=f+4|0,S=f+12|0,M=f+8|0,I=r+40|0,D=r+64|0,L=e[o>>2]|0,o=x,N=0,X=0,V=x,Q=x,U=0,j=x;;){x=C,$=e[x>>2]|0,J=e[x+4>>2]|0,x=v,F=zi(e[x>>2]|0,e[x+4>>2]|0,L+N|0,0)|0,x=Wt(F|0,Xe|0,$|0,J|0)|0,J=(e[e[n>>2]>>2]|0)+x|0,x=yi[J>>0]|yi[J+1>>0]<<8|yi[J+2>>0]<<16|yi[J+3>>0]<<24,e[h>>2]=x,J=x&65535,$=x>>>16,F=$&65535,K=(x&65535^318)+239^$,$=(U|0)==0;e:do if($)it=0,Ce=46;else{re=U+-1|0,se=(re&U|0)==0,se?fe=K&re:K>>>0<U>>>0?fe=K:fe=(K>>>0)%(U>>>0)|0,Ee=e[(e[f>>2]|0)+(fe<<2)>>2]|0;do if(Ee|0&&(Ne=e[Ee>>2]|0,Ne|0)){t:do if(se)for(me=Ne;;){if(Ie=e[me+4>>2]|0,_e=(Ie|0)==(K|0),!(_e|(Ie&re|0)==(fe|0))){Ce=27;break t}if(_e&&(_e=me+8|0,(Oi[_e>>1]|0)==J<<16>>16)&&(Oi[_e+2>>1]|0)==F<<16>>16){We=me,Ce=26;break t}if(me=e[me>>2]|0,!me){Ce=27;break}}else for(me=Ne;;){if(_e=e[me+4>>2]|0,(_e|0)==(K|0)){if(Ie=me+8|0,(Oi[Ie>>1]|0)==J<<16>>16&&(Oi[Ie+2>>1]|0)==F<<16>>16){We=me,Ce=26;break t}}else if(_e>>>0<U>>>0?at=_e:at=(_e>>>0)%(U>>>0)|0,(at|0)!=(fe|0)){Ce=27;break t}if(me=e[me>>2]|0,!me){Ce=27;break}}while(0);if((Ce|0)==26){Ce=0,e[j+(N<<2)>>2]=e[We+12>>2],Ke=o,Ve=X,Ue=Q,st=V,Qe=j;break e}else if((Ce|0)==27)if(Ce=0,$){it=0,Ce=46;break e}else break}while(0);if(re=U+-1|0,se=(re&U|0)==0,se?ze=re&K:K>>>0<U>>>0?ze=K:ze=(K>>>0)%(U>>>0)|0,Ee=e[(e[f>>2]|0)+(ze<<2)>>2]|0,(Ee|0)!=0&&(Ne=e[Ee>>2]|0,(Ne|0)!=0)){if(se)for(se=Ne;;){if(Ee=e[se+4>>2]|0,!((Ee|0)==(K|0)|(Ee&re|0)==(ze|0))){it=ze,Ce=46;break e}if(Ee=se+8|0,(Oi[Ee>>1]|0)==J<<16>>16&&(Oi[Ee+2>>1]|0)==F<<16>>16){Ce=61;break e}if(se=e[se>>2]|0,!se){it=ze,Ce=46;break e}}else Ge=Ne;for(;;){if(se=e[Ge+4>>2]|0,(se|0)!=(K|0)&&(se>>>0<U>>>0?ke=se:ke=(se>>>0)%(U>>>0)|0,(ke|0)!=(ze|0))){it=ze,Ce=46;break e}if(se=Ge+8|0,(Oi[se>>1]|0)==J<<16>>16&&(Oi[se+2>>1]|0)==F<<16>>16){Ce=61;break e}if(Ge=e[Ge>>2]|0,!Ge){it=ze,Ce=46;break}}}else it=ze,Ce=46}while(0);if((Ce|0)==46){Ce=0,F=Dt(16)|0,J=F+8|0,Oi[J>>1]=x,Oi[J+2>>1]=x>>>16,e[F+12>>2]=X,e[F+4>>2]=K,e[F>>2]=0,ut=qt(((e[S>>2]|0)+1|0)>>>0),et=qt(U>>>0),ot=qt(br[g>>2]);do if($|qt(ot*et)<ut){if(J=U<<1|(U>>>0<3|(U+-1&U|0)!=0)&1,Ne=~~qt(yr(qt(ut/ot)))>>>0,qD(f,J>>>0<Ne>>>0?Ne:J),J=e[m>>2]|0,Ne=J+-1|0,!(Ne&J)){Rt=J,Nt=Ne&K;break}K>>>0<J>>>0?(Rt=J,Nt=K):(Rt=J,Nt=(K>>>0)%(J>>>0)|0)}else Rt=U,Nt=it;while(0);K=(e[f>>2]|0)+(Nt<<2)|0,$=e[K>>2]|0,$?(e[F>>2]=e[$>>2],Vt=$,Ce=59):(e[F>>2]=e[M>>2],e[M>>2]=F,e[K>>2]=M,K=e[F>>2]|0,K|0&&(x=e[K+4>>2]|0,K=Rt+-1|0,K&Rt?x>>>0<Rt>>>0?At=x:At=(x>>>0)%(Rt>>>0)|0:At=x&K,Vt=(e[f>>2]|0)+(At<<2)|0,Ce=59)),(Ce|0)==59&&(Ce=0,e[Vt>>2]=F),e[S>>2]=(e[S>>2]|0)+1,Ce=61}if((Ce|0)==61&&(Ce=0,$=I,K=e[$>>2]|0,x=zi(K|0,e[$+4>>2]|0,X|0,0)|0,Fr((e[e[D>>2]>>2]|0)+x|0,h|0,K|0)|0,K=e[c>>2]|0,e[K+(N<<2)>>2]=X,Ke=K,Ve=X+1|0,Ue=K,st=K,Qe=K),K=N+1|0,Pt=e[d>>2]|0,K>>>0>=Pt>>>0)break;o=Ke,N=K,X=Ve,V=st,Q=Ue,U=e[m>>2]|0,j=Qe}if((Ve|0)==(Pt|0))xt=st;else{if(st=r+84|0,Z[st>>0]|0)if(Z[st>>0]=0,st=r+68|0,Ke=r+72|0,U=e[Ke>>2]|0,j=e[st>>2]|0,Ue=U-j>>2,m=j,j=U,Pt>>>0<=Ue>>>0?(Pt>>>0<Ue>>>0&&(U=m+(Pt<<2)|0,(U|0)!=(j|0))&&(e[Ke>>2]=j+(~((j+-4-U|0)>>>2)<<2)),St=Pt):(z0(st,Pt-Ue|0,1204),St=e[d>>2]|0),Ue=e[c>>2]|0,!St)_t=Ue;else{c=e[r+68>>2]|0,r=0;do e[c+(r<<2)>>2]=e[Ue+(r<<2)>>2],r=r+1|0;while(r>>>0<St>>>0);_t=Ue}else if(Qe=e[r+72>>2]|0,j=e[r+68>>2]|0,m=j,(Qe|0)==(j|0))_t=Ke;else{U=Qe-j>>2,j=0;do Qe=m+(j<<2)|0,e[Qe>>2]=e[Ue+(e[Qe>>2]<<2)>>2],j=j+1|0;while(j>>>0<U>>>0);_t=Ke}e[d>>2]=Ve,xt=_t}xt&&(_t=e[b>>2]|0,(_t|0)!=(xt|0)&&(e[b>>2]=_t+(~((_t+-4-xt|0)>>>2)<<2)),ve(xt)),fi=Ve}else fi=0;if(Ve=e[f+8>>2]|0,Ve|0){xt=Ve;do Ve=xt,xt=e[xt>>2]|0,ve(Ve);while((xt|0)!=0)}return xt=e[f>>2]|0,e[f>>2]=0,xt?(ve(xt),q=a,fi|0):(q=a,fi|0)}function Z_(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0;if(o=q,q=q+16|0,a=o+8|0,f=o,h=e[n>>2]|0,(h|0)==-1||(g=(h>>>0)/3|0,d=r+24|0,e[(e[d>>2]|0)+(g>>>5<<2)>>2]&1<<(g&31)|0))return c=1,q=o,c|0;if(g=r+48|0,m=e[g>>2]|0,b=r+52|0,v=e[b>>2]|0,(v|0)==(m|0)?x=m:(C=v+(~((v+-4-m|0)>>>2)<<2)|0,e[b>>2]=C,x=C),C=r+56|0,(x|0)==(e[C>>2]|0)?pr(g,n):(e[x>>2]=h,e[b>>2]=x+4),x=r+4|0,h=e[x>>2]|0,m=e[n>>2]|0,v=m+1|0,(m|0)==-1||(S=((v>>>0)%3|0|0)==0?m+-2|0:v,(S|0)==-1?M=-1:M=e[(e[h>>2]|0)+(S<<2)>>2]|0,S=(((m>>>0)%3|0|0)==0?2:-1)+m|0,(S|0)==-1)||(m=e[(e[h>>2]|0)+(S<<2)>>2]|0,(M|0)==-1|(m|0)==-1))return c=0,q=o,c|0;if(S=r+36|0,h=e[S>>2]|0,v=h+(M>>>5<<2)|0,I=1<<(M&31),D=e[v>>2]|0,D&I?X=h:(e[v>>2]=D|I,I=e[n>>2]|0,D=I+1|0,(I|0)==-1?L=-1:L=((D>>>0)%3|0|0)==0?I+-2|0:D,e[f>>2]=L,D=e[(e[(e[r+16>>2]|0)+96>>2]|0)+(((L>>>0)/3|0)*12|0)+(((L>>>0)%3|0)<<2)>>2]|0,L=e[r+20>>2]|0,e[a>>2]=D,I=e[L+4>>2]|0,L=I+4|0,v=e[L>>2]|0,(v|0)==(e[I+8>>2]|0)?pr(I,a):(e[v>>2]=D,e[L>>2]=v+4),v=r+12|0,L=e[v>>2]|0,D=L+4|0,I=e[D>>2]|0,(I|0)==(e[L+8>>2]|0)?(pr(L,f),N=e[v>>2]|0):(e[I>>2]=e[f>>2],e[D>>2]=I+4,N=L),L=N+24|0,e[(e[N+12>>2]|0)+(M<<2)>>2]=e[L>>2],e[L>>2]=(e[L>>2]|0)+1,X=e[S>>2]|0),h=X+(m>>>5<<2)|0,X=1<<(m&31),L=e[h>>2]|0,!(L&X)){e[h>>2]=L|X,X=e[n>>2]|0;do if((X|0)!=-1)if((X>>>0)%3|0){V=X+-1|0;break}else{V=X+2|0;break}else V=-1;while(0);e[f>>2]=V,X=e[(e[(e[r+16>>2]|0)+96>>2]|0)+(((V>>>0)/3|0)*12|0)+(((V>>>0)%3|0)<<2)>>2]|0,V=e[r+20>>2]|0,e[a>>2]=X,L=e[V+4>>2]|0,V=L+4|0,h=e[V>>2]|0,(h|0)==(e[L+8>>2]|0)?pr(L,a):(e[h>>2]=X,e[V>>2]=h+4),h=r+12|0,V=e[h>>2]|0,X=V+4|0,L=e[X>>2]|0,(L|0)==(e[V+8>>2]|0)?(pr(V,f),Q=e[h>>2]|0):(e[L>>2]=e[f>>2],e[X>>2]=L+4,Q=V),V=Q+24|0,e[(e[Q+12>>2]|0)+(m<<2)>>2]=e[V>>2],e[V>>2]=(e[V>>2]|0)+1}if(V=e[g>>2]|0,m=e[b>>2]|0,(V|0)==(m|0))return c=1,q=o,c|0;Q=r+16|0,L=r+20|0,X=r+12|0,r=m,m=V;e:for(;;){if(V=e[r+-4>>2]|0,e[n>>2]=V,h=(V>>>0)/3|0,(V|0)!=-1&&(V=(e[d>>2]|0)+(h>>>5<<2)|0,M=1<<(h&31),h=e[V>>2]|0,(h&M|0)==0)){if(e[V>>2]=h|M,M=e[n>>2]|0,(M|0)==-1){c=0,U=80;break}h=e[x>>2]|0,V=M;t:for(;;){if(M=e[(e[h>>2]|0)+(V<<2)>>2]|0,(M|0)==-1){c=0,U=80;break e}N=(e[S>>2]|0)+(M>>>5<<2)|0,I=1<<(M&31),D=e[N>>2]|0;do if(D&I)re=V,se=h,U=64;else{v=e[(e[h+24>>2]|0)+(M<<2)>>2]|0,j=v+1|0;do if((v|0)==-1)$=1;else{if(J=((j>>>0)%3|0|0)==0?v+-2|0:j,(J|0)==-1){$=1;break}if(F=e[(e[h+12>>2]|0)+(J<<2)>>2]|0,J=F+1|0,(F|0)==-1){$=1;break}$=((((J>>>0)%3|0|0)==0?F+-2|0:J)|0)==-1}while(0);if(e[N>>2]=D|I,j=e[n>>2]|0,e[f>>2]=j,v=e[(e[(e[Q>>2]|0)+96>>2]|0)+(((j>>>0)/3|0)*12|0)+(((j>>>0)%3|0)<<2)>>2]|0,j=e[L>>2]|0,e[a>>2]=v,J=e[j+4>>2]|0,j=J+4|0,F=e[j>>2]|0,(F|0)==(e[J+8>>2]|0)?pr(J,a):(e[F>>2]=v,e[j>>2]=F+4),F=e[X>>2]|0,j=F+4|0,v=e[j>>2]|0,(v|0)==(e[F+8>>2]|0)?(pr(F,f),K=e[X>>2]|0):(e[v>>2]=e[f>>2],e[j>>2]=v+4,K=F),F=K+24|0,e[(e[K+12>>2]|0)+(M<<2)>>2]=e[F>>2],e[F>>2]=(e[F>>2]|0)+1,F=e[x>>2]|0,v=e[n>>2]|0,$)if((v|0)==-1){U=63;break t}else{re=v,se=F,U=64;break}do if((v|0)==-1)fe=-1;else{if(j=v+1|0,J=((j>>>0)%3|0|0)==0?v+-2|0:j,(J|0)==-1){fe=-1;break}fe=e[(e[F+12>>2]|0)+(J<<2)>>2]|0}while(0);e[n>>2]=fe,Ee=(fe>>>0)/3|0,Ne=F}while(0);if((U|0)==64){U=0,M=re+1|0,I=((M>>>0)%3|0|0)==0?re+-2|0:M,(I|0)==-1?me=-1:me=e[(e[se+12>>2]|0)+(I<<2)>>2]|0,e[a>>2]=me,I=(((re>>>0)%3|0|0)==0?2:-1)+re|0,(I|0)==-1?Ie=-1:Ie=e[(e[se+12>>2]|0)+(I<<2)>>2]|0,I=(me|0)==-1,M=(me>>>0)/3|0,D=I?-1:M,N=(Ie|0)==-1,v=(Ie>>>0)/3|0,J=N?-1:v;do if(I)U=70;else{if(j=e[d>>2]|0,e[j+(D>>>5<<2)>>2]&1<<(D&31)|0){U=70;break}if(N){_e=me,Ce=M;break}if(e[j+(J>>>5<<2)>>2]&1<<(J&31))_e=me,Ce=M;else{U=75;break t}}while(0);if((U|0)==70){if(U=0,N){U=72;break}if(!(e[(e[d>>2]|0)+(J>>>5<<2)>>2]&1<<(J&31)))_e=Ie,Ce=v;else{U=72;break}}e[n>>2]=_e,Ee=Ce,Ne=se}if(M=(e[d>>2]|0)+(Ee>>>5<<2)|0,e[M>>2]=e[M>>2]|1<<(Ee&31),V=e[n>>2]|0,(V|0)==-1){c=0,U=80;break e}else h=Ne}do if((U|0)==63)U=0,e[a>>2]=-1,U=72;else if((U|0)==75)if(U=0,h=e[b>>2]|0,e[h+-4>>2]=Ie,(h|0)==(e[C>>2]|0)){pr(g,a),We=e[b>>2]|0;break}else{e[h>>2]=e[a>>2],V=h+4|0,e[b>>2]=V,We=V;break}while(0);(U|0)==72&&(U=0,V=(e[b>>2]|0)+-4|0,e[b>>2]=V,We=V),at=e[g>>2]|0,Ke=We}else V=r+-4|0,e[b>>2]=V,at=m,Ke=V;if((at|0)==(Ke|0)){c=1,U=80;break}else r=Ke,m=at}return(U|0)==80?(q=o,c|0):0}function bx(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=Ar,ut=Ar,et=Ar,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0;if(a=q,q=q+48|0,f=a+20|0,h=a,c=a+8|0,g=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,br[g>>2]=qt(1),d=r+80|0,m=e[d>>2]|0,e[c>>2]=0,b=c+4|0,e[b>>2]=0,e[c+8>>2]=0,m){for(m>>>0>1073741823&&Je(),v=m<<2,x=Dt(v)|0,e[c>>2]=x,C=x+(m<<2)|0,e[c+8>>2]=C,Mi(x|0,0,v|0)|0,e[b>>2]=C,C=n+48|0,v=n+40|0,m=f+4|0,S=f+12|0,M=f+8|0,I=r+40|0,D=r+64|0,L=e[o>>2]|0,o=x,N=0,X=0,V=x,Q=x,U=x,x=0;;){j=C,$=e[j>>2]|0,J=e[j+4>>2]|0,j=v,F=zi(e[j>>2]|0,e[j+4>>2]|0,L+N|0,0)|0,j=Wt(F|0,Xe|0,$|0,J|0)|0,J=(e[e[n>>2]>>2]|0)+j|0,j=J,$=yi[j>>0]|yi[j+1>>0]<<8|yi[j+2>>0]<<16|yi[j+3>>0]<<24,j=J+4|0,J=yi[j>>0]|yi[j+1>>0]<<8|yi[j+2>>0]<<16|yi[j+3>>0]<<24,j=h,e[j>>2]=$,e[j+4>>2]=J,j=($^318)+239^J,F=(x|0)==0;e:do if(F)Qe=0,_e=46;else{K=x+-1|0,re=(K&x|0)==0,re?se=j&K:j>>>0<x>>>0?se=j:se=(j>>>0)%(x>>>0)|0,fe=e[(e[f>>2]|0)+(se<<2)>>2]|0;do if(fe|0&&(Ee=e[fe>>2]|0,Ee|0)){t:do if(re)for(Ne=Ee;;){if(me=e[Ne+4>>2]|0,Ie=(me|0)==(j|0),!(Ie|(me&K|0)==(se|0))){_e=27;break t}if(Ie&&(e[Ne+8>>2]|0)==($|0)&&(e[Ne+12>>2]|0)==(J|0)){Ce=Ne,_e=26;break t}if(Ne=e[Ne>>2]|0,!Ne){_e=27;break}}else for(Ne=Ee;;){if(Ie=e[Ne+4>>2]|0,(Ie|0)==(j|0)){if((e[Ne+8>>2]|0)==($|0)&&(e[Ne+12>>2]|0)==(J|0)){Ce=Ne,_e=26;break t}}else if(Ie>>>0<x>>>0?We=Ie:We=(Ie>>>0)%(x>>>0)|0,(We|0)!=(se|0)){_e=27;break t}if(Ne=e[Ne>>2]|0,!Ne){_e=27;break}}while(0);if((_e|0)==26){_e=0,e[V+(N<<2)>>2]=e[Ce+16>>2],at=o,Ke=X,Ve=U,Ue=Q,st=V;break e}else if((_e|0)==27)if(_e=0,F){Qe=0,_e=46;break e}else break}while(0);if(K=x+-1|0,re=(K&x|0)==0,re?it=K&j:j>>>0<x>>>0?it=j:it=(j>>>0)%(x>>>0)|0,fe=e[(e[f>>2]|0)+(it<<2)>>2]|0,(fe|0)!=0&&(Ee=e[fe>>2]|0,(Ee|0)!=0)){if(re)for(re=Ee;;){if(fe=e[re+4>>2]|0,!((fe|0)==(j|0)|(fe&K|0)==(it|0))){Qe=it,_e=46;break e}if((e[re+8>>2]|0)==($|0)&&(e[re+12>>2]|0)==(J|0)){_e=61;break e}if(re=e[re>>2]|0,!re){Qe=it,_e=46;break e}}else ze=Ee;for(;;){if(re=e[ze+4>>2]|0,(re|0)!=(j|0)&&(re>>>0<x>>>0?Ge=re:Ge=(re>>>0)%(x>>>0)|0,(Ge|0)!=(it|0))){Qe=it,_e=46;break e}if((e[ze+8>>2]|0)==($|0)&&(e[ze+12>>2]|0)==(J|0)){_e=61;break e}if(ze=e[ze>>2]|0,!ze){Qe=it,_e=46;break}}}else Qe=it,_e=46}while(0);if((_e|0)==46){_e=0,Ee=Dt(20)|0,re=Ee+8|0,e[re>>2]=$,e[re+4>>2]=J,e[Ee+16>>2]=X,e[Ee+4>>2]=j,e[Ee>>2]=0,ke=qt(((e[S>>2]|0)+1|0)>>>0),ut=qt(x>>>0),et=qt(br[g>>2]);do if(F|qt(et*ut)<ke){if(re=x<<1|(x>>>0<3|(x+-1&x|0)!=0)&1,K=~~qt(yr(qt(ke/et)))>>>0,$D(f,re>>>0<K>>>0?K:re),re=e[m>>2]|0,K=re+-1|0,!(K&re)){ot=re,Rt=K&j;break}j>>>0<re>>>0?(ot=re,Rt=j):(ot=re,Rt=(j>>>0)%(re>>>0)|0)}else ot=x,Rt=Qe;while(0);j=(e[f>>2]|0)+(Rt<<2)|0,F=e[j>>2]|0,F?(e[Ee>>2]=e[F>>2],At=F,_e=59):(e[Ee>>2]=e[M>>2],e[M>>2]=Ee,e[j>>2]=M,j=e[Ee>>2]|0,j|0&&(J=e[j+4>>2]|0,j=ot+-1|0,j&ot?J>>>0<ot>>>0?Nt=J:Nt=(J>>>0)%(ot>>>0)|0:Nt=J&j,At=(e[f>>2]|0)+(Nt<<2)|0,_e=59)),(_e|0)==59&&(_e=0,e[At>>2]=Ee),e[S>>2]=(e[S>>2]|0)+1,_e=61}if((_e|0)==61&&(_e=0,F=I,j=e[F>>2]|0,J=zi(j|0,e[F+4>>2]|0,X|0,0)|0,Fr((e[e[D>>2]>>2]|0)+J|0,h|0,j|0)|0,j=e[c>>2]|0,e[j+(N<<2)>>2]=X,at=j,Ke=X+1|0,Ve=j,Ue=j,st=j),j=N+1|0,Vt=e[d>>2]|0,j>>>0>=Vt>>>0)break;o=at,N=j,X=Ke,V=st,Q=Ue,U=Ve,x=e[m>>2]|0}if((Ke|0)==(Vt|0))Pt=Ue;else{if(Ue=r+84|0,Z[Ue>>0]|0)if(Z[Ue>>0]=0,Ue=r+68|0,at=r+72|0,Q=e[at>>2]|0,x=e[Ue>>2]|0,Ve=Q-x>>2,U=x,x=Q,Vt>>>0<=Ve>>>0?(Vt>>>0<Ve>>>0&&(Q=U+(Vt<<2)|0,(Q|0)!=(x|0))&&(e[at>>2]=x+(~((x+-4-Q|0)>>>2)<<2)),_t=Vt):(z0(Ue,Vt-Ve|0,1204),_t=e[d>>2]|0),Ve=e[c>>2]|0,!_t)xt=Ve;else{c=e[r+68>>2]|0,r=0;do e[c+(r<<2)>>2]=e[Ve+(r<<2)>>2],r=r+1|0;while(r>>>0<_t>>>0);xt=Ve}else if(m=e[r+72>>2]|0,x=e[r+68>>2]|0,U=x,(m|0)==(x|0))xt=at;else{Q=m-x>>2,x=0;do m=U+(x<<2)|0,e[m>>2]=e[Ve+(e[m>>2]<<2)>>2],x=x+1|0;while(x>>>0<Q>>>0);xt=at}e[d>>2]=Ke,Pt=xt}Pt&&(xt=e[b>>2]|0,(xt|0)!=(Pt|0)&&(e[b>>2]=xt+(~((xt+-4-Pt|0)>>>2)<<2)),ve(Pt)),St=Ke}else St=0;if(Ke=e[f+8>>2]|0,Ke|0){Pt=Ke;do Ke=Pt,Pt=e[Pt>>2]|0,ve(Ke);while((Pt|0)!=0)}return Pt=e[f>>2]|0,e[f>>2]=0,Pt?(ve(Pt),q=a,St|0):(q=a,St|0)}function Y_(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=Ar,et=Ar,ot=Ar,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0;if(a=q,q=q+48|0,f=a+12|0,h=a+32|0,c=a,g=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,br[g>>2]=qt(1),d=r+80|0,m=e[d>>2]|0,e[c>>2]=0,b=c+4|0,e[b>>2]=0,e[c+8>>2]=0,m){for(m>>>0>1073741823&&Je(),v=m<<2,x=Dt(v)|0,e[c>>2]=x,C=x+(m<<2)|0,e[c+8>>2]=C,Mi(x|0,0,v|0)|0,e[b>>2]=C,C=n+48|0,v=n+40|0,m=f+4|0,S=f+12|0,M=f+8|0,I=r+40|0,D=r+64|0,L=e[o>>2]|0,o=x,N=0,X=0,V=x,Q=x,U=0,j=x;;){x=C,$=e[x>>2]|0,J=e[x+4>>2]|0,x=v,F=zi(e[x>>2]|0,e[x+4>>2]|0,L+N|0,0)|0,x=Wt(F|0,Xe|0,$|0,J|0)|0,J=(e[e[n>>2]>>2]|0)+x|0,x=yi[J>>0]|yi[J+1>>0]<<8,Oi[h>>1]=x,J=x&255,$=(x&65535)>>>8,F=$&255,K=((x&255^318)+239<<16>>16^$)&65535,$=(U|0)==0;e:do if($)it=0,Ce=46;else{re=U+-1|0,se=(re&U|0)==0,se?fe=re&K:U>>>0>K>>>0?fe=K:fe=(K>>>0)%(U>>>0)|0,Ee=e[(e[f>>2]|0)+(fe<<2)>>2]|0;do if(Ee|0&&(Ne=e[Ee>>2]|0,Ne|0)){t:do if(se)for(me=Ne;;){if(Ie=e[me+4>>2]|0,_e=(Ie|0)==(K|0),!(_e|(Ie&re|0)==(fe|0))){Ce=27;break t}if(_e&&(_e=me+8|0,(Z[_e>>0]|0)==J<<24>>24)&&(Z[_e+1>>0]|0)==F<<24>>24){We=me,Ce=26;break t}if(me=e[me>>2]|0,!me){Ce=27;break}}else for(me=Ne;;){if(_e=e[me+4>>2]|0,(_e|0)==(K|0)){if(Ie=me+8|0,(Z[Ie>>0]|0)==J<<24>>24&&(Z[Ie+1>>0]|0)==F<<24>>24){We=me,Ce=26;break t}}else if(_e>>>0<U>>>0?at=_e:at=(_e>>>0)%(U>>>0)|0,(at|0)!=(fe|0)){Ce=27;break t}if(me=e[me>>2]|0,!me){Ce=27;break}}while(0);if((Ce|0)==26){Ce=0,e[j+(N<<2)>>2]=e[We+12>>2],Ke=o,Ve=X,Ue=Q,st=V,Qe=j;break e}else if((Ce|0)==27)if(Ce=0,$){it=0,Ce=46;break e}else break}while(0);if(re=U+-1|0,se=(re&U|0)==0,se?ze=re&K:U>>>0>K>>>0?ze=K:ze=(K>>>0)%(U>>>0)|0,Ee=e[(e[f>>2]|0)+(ze<<2)>>2]|0,(Ee|0)!=0&&(Ne=e[Ee>>2]|0,(Ne|0)!=0)){if(se)for(se=Ne;;){if(Ee=e[se+4>>2]|0,!((Ee|0)==(K|0)|(Ee&re|0)==(ze|0))){it=ze,Ce=46;break e}if(Ee=se+8|0,(Z[Ee>>0]|0)==J<<24>>24&&(Z[Ee+1>>0]|0)==F<<24>>24){Ce=61;break e}if(se=e[se>>2]|0,!se){it=ze,Ce=46;break e}}else Ge=Ne;for(;;){if(se=e[Ge+4>>2]|0,(se|0)!=(K|0)&&(se>>>0<U>>>0?ke=se:ke=(se>>>0)%(U>>>0)|0,(ke|0)!=(ze|0))){it=ze,Ce=46;break e}if(se=Ge+8|0,(Z[se>>0]|0)==J<<24>>24&&(Z[se+1>>0]|0)==F<<24>>24){Ce=61;break e}if(Ge=e[Ge>>2]|0,!Ge){it=ze,Ce=46;break}}}else it=ze,Ce=46}while(0);if((Ce|0)==46){Ce=0,F=Dt(16)|0,J=F+8|0,Z[J>>0]=x,Z[J+1>>0]=x>>8,e[F+12>>2]=X,e[F+4>>2]=K,e[F>>2]=0,ut=qt(((e[S>>2]|0)+1|0)>>>0),et=qt(U>>>0),ot=qt(br[g>>2]);do if($|qt(ot*et)<ut){if(J=U<<1|(U>>>0<3|(U+-1&U|0)!=0)&1,Ne=~~qt(yr(qt(ut/ot)))>>>0,iP(f,J>>>0<Ne>>>0?Ne:J),J=e[m>>2]|0,Ne=J+-1|0,!(Ne&J)){Rt=J,Nt=Ne&K;break}J>>>0>K>>>0?(Rt=J,Nt=K):(Rt=J,Nt=(K>>>0)%(J>>>0)|0)}else Rt=U,Nt=it;while(0);K=(e[f>>2]|0)+(Nt<<2)|0,$=e[K>>2]|0,$?(e[F>>2]=e[$>>2],Vt=$,Ce=59):(e[F>>2]=e[M>>2],e[M>>2]=F,e[K>>2]=M,K=e[F>>2]|0,K|0&&(x=e[K+4>>2]|0,K=Rt+-1|0,K&Rt?x>>>0<Rt>>>0?At=x:At=(x>>>0)%(Rt>>>0)|0:At=x&K,Vt=(e[f>>2]|0)+(At<<2)|0,Ce=59)),(Ce|0)==59&&(Ce=0,e[Vt>>2]=F),e[S>>2]=(e[S>>2]|0)+1,Ce=61}if((Ce|0)==61&&(Ce=0,$=I,K=e[$>>2]|0,x=zi(K|0,e[$+4>>2]|0,X|0,0)|0,Fr((e[e[D>>2]>>2]|0)+x|0,h|0,K|0)|0,K=e[c>>2]|0,e[K+(N<<2)>>2]=X,Ke=K,Ve=X+1|0,Ue=K,st=K,Qe=K),K=N+1|0,Pt=e[d>>2]|0,K>>>0>=Pt>>>0)break;o=Ke,N=K,X=Ve,V=st,Q=Ue,U=e[m>>2]|0,j=Qe}if((Ve|0)==(Pt|0))xt=st;else{if(st=r+84|0,Z[st>>0]|0)if(Z[st>>0]=0,st=r+68|0,Ke=r+72|0,U=e[Ke>>2]|0,j=e[st>>2]|0,Ue=U-j>>2,m=j,j=U,Pt>>>0<=Ue>>>0?(Pt>>>0<Ue>>>0&&(U=m+(Pt<<2)|0,(U|0)!=(j|0))&&(e[Ke>>2]=j+(~((j+-4-U|0)>>>2)<<2)),St=Pt):(z0(st,Pt-Ue|0,1204),St=e[d>>2]|0),Ue=e[c>>2]|0,!St)_t=Ue;else{c=e[r+68>>2]|0,r=0;do e[c+(r<<2)>>2]=e[Ue+(r<<2)>>2],r=r+1|0;while(r>>>0<St>>>0);_t=Ue}else if(Qe=e[r+72>>2]|0,j=e[r+68>>2]|0,m=j,(Qe|0)==(j|0))_t=Ke;else{U=Qe-j>>2,j=0;do Qe=m+(j<<2)|0,e[Qe>>2]=e[Ue+(e[Qe>>2]<<2)>>2],j=j+1|0;while(j>>>0<U>>>0);_t=Ke}e[d>>2]=Ve,xt=_t}xt&&(_t=e[b>>2]|0,(_t|0)!=(xt|0)&&(e[b>>2]=_t+(~((_t+-4-xt|0)>>>2)<<2)),ve(xt)),fi=Ve}else fi=0;if(Ve=e[f+8>>2]|0,Ve|0){xt=Ve;do Ve=xt,xt=e[xt>>2]|0,ve(Ve);while((xt|0)!=0)}return xt=e[f>>2]|0,e[f>>2]=0,xt?(ve(xt),q=a,fi|0):(q=a,fi|0)}function K_(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0;if(o=q,q=q+16|0,a=o+8|0,f=o,h=o+4|0,c=r+16|0,g=e[c>>2]|0,d=r+20|0,m=e[d>>2]|0,(m|0)==(g|0)?b=g:(v=m+(~((m+-4-g|0)>>>2)<<2)|0,e[d>>2]=v,b=v),v=r+24|0,(b|0)==(e[v>>2]|0)?(pr(c,n),x=e[c>>2]|0,C=e[d>>2]|0):(e[b>>2]=e[n>>2],m=b+4|0,e[d>>2]=m,x=g,C=m),m=e[r+8>>2]|0,g=(e[m+100>>2]|0)-(e[m+96>>2]|0)|0,m=(g|0)/12|0,(x|0)==(C|0))return q=o,1;x=r+28|0,b=(g|0)>0,g=r+164|0,S=r+12|0,M=r+76|0,I=r+80|0,D=r+72|0,L=r+200|0,N=r+320|0,X=r+152|0,V=r+84|0,Q=r+324|0,U=r+292|0,j=r+304|0,$=r+316|0,J=r+328|0,F=r+336|0,K=r+332|0,re=r+168|0,se=r+140|0,fe=r+120|0,Ee=C;do{C=e[Ee+-4>>2]|0,e[n>>2]=C;e:do if((C|0)!=-1&&(Ne=(C>>>0)/3|0,me=e[x>>2]|0,(e[me+(Ne>>>5<<2)>>2]&1<<(Ne&31)|0)==0)){if(b){Ne=0,Ie=me;t:for(;;){me=Ne+1|0,e[g>>2]=(e[g>>2]|0)+1,_e=e[n>>2]|0,Ce=(_e|0)==-1?-1:(_e>>>0)/3|0,_e=Ie+(Ce>>>5<<2)|0,e[_e>>2]=1<<(Ce&31)|e[_e>>2],_e=e[M>>2]|0,(_e|0)==(e[I>>2]|0)?pr(D,n):(e[_e>>2]=e[n>>2],e[M>>2]=_e+4),e[N>>2]=e[n>>2],_e=e[n>>2]|0,(_e|0)==-1?We=-1:We=e[(e[e[S>>2]>>2]|0)+(_e<<2)>>2]|0,at=(e[(e[X>>2]|0)+(We<<2)>>2]|0)!=-1,Ke=(e[V>>2]|0)+(We>>>5<<2)|0,Ve=1<<(We&31),Ue=e[Ke>>2]|0;do if(Ue&Ve)st=_e,Qe=38;else{if(e[Ke>>2]=Ue|Ve,at){st=e[n>>2]|0,Qe=38;break}e[Q>>2]=(e[Q>>2]|0)+1,it=e[N>>2]|0,ze=it+1|0;do if((it|0)!=-1)if(Ge=((ze>>>0)%3|0|0)==0?it+-2|0:ze,(it>>>0)%3|0){ke=it+-1|0,ut=Ge;break}else{ke=it+2|0,ut=Ge;break}else ke=-1,ut=-1;while(0);it=e[U>>2]|0,ze=e[j>>2]|0,Ge=ze+(e[it+(ut<<2)>>2]<<2)|0,et=e[Ge>>2]|0,e[Ge>>2]=et+-1,Ge=ze+(e[it+(ke<<2)>>2]<<2)|0,e[Ge>>2]=(e[Ge>>2]|0)+-1,Ge=e[$>>2]|0,(Ge|0)!=-1&&(it=e[J>>2]|0,(et|0)<(it|0)?ot=it:(ze=e[K>>2]|0,ot=(et|0)>(ze|0)?ze:et),et=ot-it|0,it=e[F>>2]|0,ze=e[3384+(Ge<<2)>>2]|0,e[a>>2]=ze,Ge=it+(et*12|0)+4|0,Rt=e[Ge>>2]|0,Rt>>>0<(e[it+(et*12|0)+8>>2]|0)>>>0?(e[Rt>>2]=ze,e[Ge>>2]=Rt+4):pr(it+(et*12|0)|0,a)),e[$>>2]=0,et=e[n>>2]|0,it=et+1|0,(et|0)!=-1&&(Rt=((it>>>0)%3|0|0)==0?et+-2|0:it,(Rt|0)!=-1)?Nt=e[(e[(e[S>>2]|0)+12>>2]|0)+(Rt<<2)>>2]|0:Nt=-1,e[n>>2]=Nt}while(0);if((Qe|0)==38){if(Qe=0,_e=st+1|0,(st|0)==-1){Qe=43;break}if(Ve=((_e>>>0)%3|0|0)==0?st+-2|0:_e,(Ve|0)==-1?At=-1:At=e[(e[(e[S>>2]|0)+12>>2]|0)+(Ve<<2)>>2]|0,e[f>>2]=At,Ve=(((st>>>0)%3|0|0)==0?2:-1)+st|0,(Ve|0)==-1?Vt=-1:Vt=e[(e[(e[S>>2]|0)+12>>2]|0)+(Ve<<2)>>2]|0,Ve=(At|0)==-1,Ue=Ve?-1:(At>>>0)/3|0,Pt=(Vt|0)==-1,xt=Pt?-1:(Vt>>>0)/3|0,Ke=((_e>>>0)%3|0|0)==0?st+-2|0:_e,(Ke|0)!=-1&&(_e=e[(e[S>>2]|0)+12>>2]|0,Rt=e[_e+(Ke<<2)>>2]|0,(Rt|0)!=-1)&&(Ke=(Rt>>>0)/3|0,Rt=e[x>>2]|0,(e[Rt+(Ke>>>5<<2)>>2]&1<<(Ke&31)|0)==0)){Ke=(((st>>>0)%3|0|0)==0?2:-1)+st|0;do if((Ke|0)!=-1){if(it=e[_e+(Ke<<2)>>2]|0,(it|0)==-1)break;if(et=(it>>>0)/3|0,!(e[Rt+(et>>>5<<2)>>2]&1<<(et&31))){Qe=62;break t}}while(0);Pt||Lc(r,e[g>>2]|0,Ce,0,xt),Yh(L,3),_t=e[f>>2]|0}else{if(Ve)St=st;else if(Lc(r,e[g>>2]|0,Ce,1,Ue),Rt=e[n>>2]|0,(Rt|0)==-1){Qe=52;break}else St=Rt;if(Rt=(((St>>>0)%3|0|0)==0?2:-1)+St|0,(Rt|0)==-1){Qe=52;break}if(Ke=e[(e[(e[S>>2]|0)+12>>2]|0)+(Rt<<2)>>2]|0,(Ke|0)==-1){Qe=52;break}if(Rt=(Ke>>>0)/3|0,e[(e[x>>2]|0)+(Rt>>>5<<2)>>2]&1<<(Rt&31)|0){Qe=52;break}Yh(L,5),_t=Vt}e[n>>2]=_t}if((me|0)>=(m|0))break e;Ne=me,Ie=e[x>>2]|0}do if((Qe|0)==43)Qe=0,e[f>>2]=-1,Qe=54;else if((Qe|0)==52)Qe=0,Pt||Lc(r,e[g>>2]|0,Ce,0,xt),Qe=54;else if((Qe|0)==62)if(Qe=0,Yh(L,1),e[re>>2]=(e[re>>2]|0)+1,at&&(Ie=e[(e[X>>2]|0)+(We<<2)>>2]|0,(1<<(Ie&31)&e[(e[se>>2]|0)+(Ie>>>5<<2)>>2]|0)==0)&&(e[h>>2]=e[n>>2],e[a>>2]=e[h>>2],sd(r,a,0)|0),Ie=e[g>>2]|0,e[a>>2]=Ce,Ne=Fu(fe,a)|0,e[Ne>>2]=Ie,Ie=e[d>>2]|0,e[Ie+-4>>2]=Vt,(Ie|0)==(e[v>>2]|0)){pr(c,f);break}else{e[Ie>>2]=e[f>>2],e[d>>2]=Ie+4;break}while(0);(Qe|0)==54&&(Qe=0,Yh(L,7),e[d>>2]=(e[d>>2]|0)+-4)}}else Qe=11;while(0);(Qe|0)==11&&(Qe=0,e[d>>2]=Ee+-4),Ee=e[d>>2]|0}while((e[c>>2]|0)!=(Ee|0));return q=o,1}function hL(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=Ar,fe=Ar,Ee=Ar,Ne=0,me=0,Ie=0,_e=0;if(a=q,q=q+64|0,f=a+40|0,h=a+16|0,c=a,g=T2(r,n)|0,g|0&&(e[h>>2]=g,e[f>>2]=e[h>>2],mm(r,f)|0),e[c>>2]=0,g=c+4|0,e[g>>2]=0,e[c+8>>2]=0,Na(c,8),d=o,o=d,m=yi[o>>0]|yi[o+1>>0]<<8|yi[o+2>>0]<<16|yi[o+3>>0]<<24,o=d+4|0,d=yi[o>>0]|yi[o+1>>0]<<8|yi[o+2>>0]<<16|yi[o+3>>0]<<24,o=e[c>>2]|0,b=o,Z[b>>0]=m,Z[b+1>>0]=m>>8,Z[b+2>>0]=m>>16,Z[b+3>>0]=m>>24,m=o+4|0,Z[m>>0]=d,Z[m+1>>0]=d>>8,Z[m+2>>0]=d>>16,Z[m+3>>0]=d>>24,T0(h,n),n=h+12|0,e[n>>2]=0,d=h+16|0,e[d>>2]=0,e[h+20>>2]=0,m=e[g>>2]|0,o=e[c>>2]|0,b=m-o|0,b?(Na(n,b),v=e[c>>2]|0,x=e[g>>2]|0,C=e[n>>2]|0):(v=o,x=m,C=0),Fr(C|0,v|0,x-v|0)|0,v=h+11|0,x=Z[v>>0]|0,C=x<<24>>24<0,n=C?e[h>>2]|0:h,b=C?e[h+4>>2]|0:x&255,b>>>0>3){for(x=n,C=b,m=b;o=_i(yi[x>>0]|yi[x+1>>0]<<8|yi[x+2>>0]<<16|yi[x+3>>0]<<24,1540483477)|0,C=(_i(o>>>24^o,1540483477)|0)^(_i(C,1540483477)|0),m=m+-4|0,!(m>>>0<=3);)x=x+4|0;x=b+-4|0,m=x&-4,S=x-m|0,M=n+(m+4)|0,I=C}else S=b,M=n,I=b;switch(S|0){case 3:{D=yi[M+2>>0]<<16^I,L=10;break}case 2:{D=I,L=10;break}case 1:{N=I,L=11;break}default:X=I}(L|0)==10&&(N=yi[M+1>>0]<<8^D,L=11),(L|0)==11&&(X=_i(N^yi[M>>0],1540483477)|0),M=_i(X>>>13^X,1540483477)|0,X=M>>>15^M,M=r+4|0,N=e[M>>2]|0,D=(N|0)==0;e:do if(D)Q=0,L=52;else if(I=N+-1|0,S=(I&N|0)==0,S?V=X&I:X>>>0<N>>>0?V=X:V=(X>>>0)%(N>>>0)|0,C=e[(e[r>>2]|0)+(V<<2)>>2]|0,(C|0)!=0&&(m=e[C>>2]|0,(m|0)!=0)){if(C=(b|0)==0,S){if(C)for(S=m;;){if(x=e[S+4>>2]|0,!((x|0)==(X|0)|(x&I|0)==(V|0))){Q=V,L=52;break e}if(x=Z[S+8+11>>0]|0,!((x<<24>>24<0?e[S+12>>2]|0:x&255)|0))break e;if(S=e[S>>2]|0,!S){Q=V,L=52;break e}}else U=m;for(;;){if(S=e[U+4>>2]|0,!((S|0)==(X|0)|(S&I|0)==(V|0))){Q=V,L=52;break e}S=U+8|0,x=Z[S+11>>0]|0,o=x<<24>>24<0,j=x&255;do if(((o?e[U+12>>2]|0:j)|0)==(b|0)){if(x=e[S>>2]|0,o){if(As(x,n,b)|0)break;break e}if((Z[n>>0]|0)==(x&255)<<24>>24){x=S,$=j,J=n;do{if($=$+-1|0,x=x+1|0,!$)break e;J=J+1|0}while((Z[x>>0]|0)==(Z[J>>0]|0))}}while(0);if(U=e[U>>2]|0,!U){Q=V,L=52;break e}}}if(C)for(I=m;;){if(j=e[I+4>>2]|0,(j|0)!=(X|0)&&(j>>>0<N>>>0?F=j:F=(j>>>0)%(N>>>0)|0,(F|0)!=(V|0))){Q=V,L=52;break e}if(j=Z[I+8+11>>0]|0,!((j<<24>>24<0?e[I+12>>2]|0:j&255)|0))break e;if(I=e[I>>2]|0,!I){Q=V,L=52;break e}}else K=m;for(;;){if(I=e[K+4>>2]|0,(I|0)!=(X|0)&&(I>>>0<N>>>0?re=I:re=(I>>>0)%(N>>>0)|0,(re|0)!=(V|0))){Q=V,L=52;break e}I=K+8|0,C=Z[I+11>>0]|0,j=C<<24>>24<0,S=C&255;do if(((j?e[K+12>>2]|0:S)|0)==(b|0)){if(C=e[I>>2]|0,j){if(As(C,n,b)|0)break;break e}if((Z[n>>0]|0)==(C&255)<<24>>24){C=I,o=S,J=n;do{if(o=o+-1|0,C=C+1|0,!o)break e;J=J+1|0}while((Z[C>>0]|0)==(Z[J>>0]|0))}}while(0);if(K=e[K>>2]|0,!K){Q=V,L=52;break}}}else Q=V,L=52;while(0);if((L|0)==52){G6(f,r,X,h),L=r+12|0,se=qt(((e[L>>2]|0)+1|0)>>>0),fe=qt(N>>>0),Ee=qt(br[r+16>>2]);do if(D|qt(Ee*fe)<se){if(V=N<<1|(N>>>0<3|(N+-1&N|0)!=0)&1,K=~~qt(yr(qt(se/Ee)))>>>0,Em(r,V>>>0<K>>>0?K:V),V=e[M>>2]|0,K=V+-1|0,!(K&V)){Ne=V,me=K&X;break}X>>>0<V>>>0?(Ne=V,me=X):(Ne=V,me=(X>>>0)%(V>>>0)|0)}else Ne=N,me=Q;while(0);Q=e[(e[r>>2]|0)+(me<<2)>>2]|0,Q?(e[e[f>>2]>>2]=e[Q>>2],e[Q>>2]=e[f>>2],Ie=f):(N=r+8|0,e[e[f>>2]>>2]=e[N>>2],e[N>>2]=e[f>>2],e[(e[r>>2]|0)+(me<<2)>>2]=N,N=e[f>>2]|0,me=e[N>>2]|0,me&&(X=e[me+4>>2]|0,me=Ne+-1|0,me&Ne?X>>>0<Ne>>>0?_e=X:_e=(X>>>0)%(Ne>>>0)|0:_e=X&me,e[(e[r>>2]|0)+(_e<<2)>>2]=N),Ie=f),e[L>>2]=(e[L>>2]|0)+1,e[Ie>>2]=0}if(Ie=e[h+12>>2]|0,Ie|0&&((e[d>>2]|0)!=(Ie|0)&&(e[d>>2]=Ie),ve(Ie)),(Z[v>>0]|0)<0&&ve(e[h>>2]|0),h=e[c>>2]|0,!h){q=a;return}(e[g>>2]|0)!=(h|0)&&(e[g>>2]=h),ve(h),q=a}function By(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0,Gt=0,ci=0,mi=0,ji=0,di=0,Ei=0,ni=0,Ri=0,Ni=0,ai=0,gi=0,oi=0,ti=0,Vi=0,Ji=0;a=q,q=q+96|0,f=a+92|0,h=a+88|0,c=a+72|0,g=a+48|0,d=a+24|0,m=a,b=r+16|0,v=e[b>>2]|0,x=e[n>>2]|0,e[c>>2]=v,e[c+4>>2]=x,n=c+8|0,e[n>>2]=x,Z[c+12>>0]=1,C=(x|0)==-1,C?S=-1:S=e[(e[v>>2]|0)+(x<<2)>>2]|0,v=r+20|0,M=e[v>>2]|0,I=e[M>>2]|0,(e[M+4>>2]|0)-I>>2>>>0<=S>>>0&&Je(),M=r+8|0,D=e[(e[M>>2]|0)+(e[I+(S<<2)>>2]<<2)>>2]|0,S=r+4|0,I=e[S>>2]|0,Z[I+84>>0]|0?L=D:L=e[(e[I+68>>2]|0)+(D<<2)>>2]|0,e[g>>2]=0,e[g+4>>2]=0,e[g+8>>2]=0,e[g+12>>2]=0,e[g+16>>2]=0,e[g+20>>2]=0,e[h>>2]=L,L=Z[I+24>>0]|0,e[f>>2]=e[h>>2],Nl(I,f,L,g)|0,L=r+28|0,r=(e[L>>2]|0)==0;e:do if(C)ji=r,di=0,Ei=0,ni=0,Ri=0,Ni=0,ai=0;else{for(I=d+8|0,D=g+8|0,N=d+16|0,X=g+16|0,V=m+8|0,Q=m+16|0,U=x,j=x,$=0,J=0,F=0,K=0,re=0,se=0,fe=r,Ee=x;;){do if(fe){if(Ne=Ee+1|0,(Ee|0)==-1){me=U,Ie=-1,_e=-1,Ce=-1;break}if(We=((Ne>>>0)%3|0|0)==0?Ee+-2|0:Ne,(U|0)!=-1)if((U>>>0)%3|0){at=U,Ke=U+-1|0,Ve=We,Ue=U,st=19;break}else{at=U,Ke=U+2|0,Ve=We,Ue=U,st=19;break}else at=-1,Ke=-1,Ve=We,Ue=-1,st=19}else if(We=j+1|0,Ne=((We>>>0)%3|0|0)==0?j+-2|0:We,(j>>>0)%3|0){at=U,Ke=j+-1|0,Ve=Ne,Ue=Ee,st=19;break}else{at=U,Ke=j+2|0,Ve=Ne,Ue=Ee,st=19;break}while(0);if((st|0)==19&&(st=0,(Ve|0)==-1?(me=at,Ie=-1,_e=Ke,Ce=Ue):(me=at,Ie=e[(e[e[b>>2]>>2]|0)+(Ve<<2)>>2]|0,_e=Ke,Ce=Ue)),Qe=e[v>>2]|0,Ne=e[Qe>>2]|0,(e[Qe+4>>2]|0)-Ne>>2>>>0<=Ie>>>0){st=22;break}if(We=e[(e[M>>2]|0)+(e[Ne+(Ie<<2)>>2]<<2)>>2]|0,Ne=e[S>>2]|0,Z[Ne+84>>0]|0?it=We:it=e[(e[Ne+68>>2]|0)+(We<<2)>>2]|0,e[d>>2]=0,e[d+4>>2]=0,e[d+8>>2]=0,e[d+12>>2]=0,e[d+16>>2]=0,e[d+20>>2]=0,e[h>>2]=it,We=Z[Ne+24>>0]|0,e[f>>2]=e[h>>2],Nl(Ne,f,We,d)|0,(_e|0)==-1?ze=-1:ze=e[(e[e[b>>2]>>2]|0)+(_e<<2)>>2]|0,Ge=e[v>>2]|0,We=e[Ge>>2]|0,(e[Ge+4>>2]|0)-We>>2>>>0<=ze>>>0){st=28;break}if(Ne=e[(e[M>>2]|0)+(e[We+(ze<<2)>>2]<<2)>>2]|0,We=e[S>>2]|0,Z[We+84>>0]|0?ke=Ne:ke=e[(e[We+68>>2]|0)+(Ne<<2)>>2]|0,e[m>>2]=0,e[m+4>>2]=0,e[m+8>>2]=0,e[m+12>>2]=0,e[m+16>>2]=0,e[m+20>>2]=0,e[h>>2]=ke,Ne=Z[We+24>>0]|0,e[f>>2]=e[h>>2],Nl(We,f,Ne,m)|0,Ne=d,We=g,ut=e[We>>2]|0,et=e[We+4>>2]|0,We=Gr(e[Ne>>2]|0,e[Ne+4>>2]|0,ut|0,et|0)|0,Ne=Xe,ot=I,Rt=D,Nt=e[Rt>>2]|0,At=e[Rt+4>>2]|0,Rt=Gr(e[ot>>2]|0,e[ot+4>>2]|0,Nt|0,At|0)|0,ot=Xe,Vt=N,Pt=X,xt=e[Pt>>2]|0,_t=e[Pt+4>>2]|0,Pt=Gr(e[Vt>>2]|0,e[Vt+4>>2]|0,xt|0,_t|0)|0,Vt=Xe,St=m,fi=Gr(e[St>>2]|0,e[St+4>>2]|0,ut|0,et|0)|0,et=Xe,ut=V,St=Gr(e[ut>>2]|0,e[ut+4>>2]|0,Nt|0,At|0)|0,At=Xe,Nt=Q,ut=Gr(e[Nt>>2]|0,e[Nt+4>>2]|0,xt|0,_t|0)|0,_t=Xe,xt=zi(ut|0,_t|0,Rt|0,ot|0)|0,Nt=Xe,Gt=zi(St|0,At|0,Pt|0,Vt|0)|0,ci=Xe,mi=zi(fi|0,et|0,Pt|0,Vt|0)|0,Vt=Xe,Pt=zi(ut|0,_t|0,We|0,Ne|0)|0,_t=Xe,ut=zi(St|0,At|0,We|0,Ne|0)|0,Ne=Xe,We=zi(fi|0,et|0,Rt|0,ot|0)|0,ot=Xe,Rt=Gr($|0,J|0,Gt|0,ci|0)|0,ci=Wt(Rt|0,Xe|0,xt|0,Nt|0)|0,Nt=Xe,xt=Wt(mi|0,Vt|0,F|0,K|0)|0,Vt=Gr(xt|0,Xe|0,Pt|0,_t|0)|0,_t=Xe,Pt=Gr(re|0,se|0,We|0,ot|0)|0,ot=Wt(Pt|0,Xe|0,ut|0,Ne|0)|0,Ne=Xe,jD(c),j=e[n>>2]|0,ut=(e[L>>2]|0)==0,(j|0)==-1){ji=ut,di=Nt,Ei=ci,ni=_t,Ri=Vt,Ni=Ne,ai=ot;break e}else U=me,$=ci,J=Nt,F=Vt,K=_t,re=ot,se=Ne,fe=ut,Ee=Ce}((st|0)==22||(st|0)==28)&&Je()}while(0);if(r=(di|0)>-1|(di|0)==-1&Ei>>>0>4294967295,Ge=Gr(0,0,Ei|0,di|0)|0,st=r?di:Xe,Qe=(ni|0)>-1|(ni|0)==-1&Ri>>>0>4294967295,Ce=Gr(0,0,Ri|0,ni|0)|0,me=Qe?ni:Xe,L=(Ni|0)>-1|(Ni|0)==-1&ai>>>0>4294967295,n=Gr(0,0,ai|0,Ni|0)|0,c=Wt((Qe?Ri:Ce)|0,me|0,(L?ai:n)|0,(L?Ni:Xe)|0)|0,L=Wt(c|0,Xe|0,(r?Ei:Ge)|0,st|0)|0,st=Xe,ji){if((L|0)<=536870912){gi=Ei,oi=Ri,ti=ai,e[o>>2]=gi,Vi=o+4|0,e[Vi>>2]=oi,Ji=o+8|0,e[Ji>>2]=ti,q=a;return}ji=r0(L|0,st|0,29)|0,Ge=ji&7,ji=m0(Ei|0,di|0,Ge|0,0)|0,r=m0(Ri|0,ni|0,Ge|0,0)|0,c=m0(ai|0,Ni|0,Ge|0,0)|0,gi=ji,oi=r,ti=c,e[o>>2]=gi,Vi=o+4|0,e[Vi>>2]=oi,Ji=o+8|0,e[Ji>>2]=ti,q=a;return}else{if(!((st|0)>0|(st|0)==0&L>>>0>536870912)){gi=Ei,oi=Ri,ti=ai,e[o>>2]=gi,Vi=o+4|0,e[Vi>>2]=oi,Ji=o+8|0,e[Ji>>2]=ti,q=a;return}c=r0(L|0,st|0,29)|0,st=Xe,L=m0(Ei|0,di|0,c|0,st|0)|0,di=m0(Ri|0,ni|0,c|0,st|0)|0,ni=m0(ai|0,Ni|0,c|0,st|0)|0,gi=L,oi=di,ti=ni,e[o>>2]=gi,Vi=o+4|0,e[Vi>>2]=oi,Ji=o+8|0,e[Ji>>2]=ti,q=a;return}}function dL(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=Ar,Ne=Ar,me=Ar,Ie=0,_e=0,Ce=0,We=0;if(a=q,q=q+64|0,f=a+40|0,h=a+16|0,c=a,g=T2(r,n)|0,g|0&&(e[h>>2]=g,e[f>>2]=e[h>>2],mm(r,f)|0),e[c>>2]=0,g=c+4|0,e[g>>2]=0,e[c+8>>2]=0,d=o+11|0,m=Z[d>>0]|0,b=o+4|0,v=e[b>>2]|0,x=m<<24>>24<0?v:m&255,x?(Na(c,x),C=Z[d>>0]|0,S=e[b>>2]|0,M=e[c>>2]|0):(C=m,S=v,M=0),b=C<<24>>24<0,Fr(M|0,(b?e[o>>2]|0:o)|0,(b?S:C&255)|0)|0,T0(h,n),n=h+12|0,e[n>>2]=0,C=h+16|0,e[C>>2]=0,e[h+20>>2]=0,S=e[g>>2]|0,b=e[c>>2]|0,o=S-b|0,o?(Na(n,o),I=e[c>>2]|0,D=e[g>>2]|0,L=e[n>>2]|0):(I=b,D=S,L=0),Fr(L|0,I|0,D-I|0)|0,I=h+11|0,D=Z[I>>0]|0,L=D<<24>>24<0,n=L?e[h>>2]|0:h,o=L?e[h+4>>2]|0:D&255,o>>>0>3){for(D=n,L=o,S=o;b=_i(yi[D>>0]|yi[D+1>>0]<<8|yi[D+2>>0]<<16|yi[D+3>>0]<<24,1540483477)|0,L=(_i(b>>>24^b,1540483477)|0)^(_i(L,1540483477)|0),S=S+-4|0,!(S>>>0<=3);)D=D+4|0;D=o+-4|0,S=D&-4,N=D-S|0,X=n+(S+4)|0,V=L}else N=o,X=n,V=o;switch(N|0){case 3:{Q=yi[X+2>>0]<<16^V,U=12;break}case 2:{Q=V,U=12;break}case 1:{j=V,U=13;break}default:$=V}(U|0)==12&&(j=yi[X+1>>0]<<8^Q,U=13),(U|0)==13&&($=_i(j^yi[X>>0],1540483477)|0),X=_i($>>>13^$,1540483477)|0,$=X>>>15^X,X=r+4|0,j=e[X>>2]|0,Q=(j|0)==0;e:do if(Q)F=0,U=54;else if(V=j+-1|0,N=(V&j|0)==0,N?J=$&V:$>>>0<j>>>0?J=$:J=($>>>0)%(j>>>0)|0,L=e[(e[r>>2]|0)+(J<<2)>>2]|0,(L|0)!=0&&(S=e[L>>2]|0,(S|0)!=0)){if(L=(o|0)==0,N){if(L)for(N=S;;){if(D=e[N+4>>2]|0,!((D|0)==($|0)|(D&V|0)==(J|0))){F=J,U=54;break e}if(D=Z[N+8+11>>0]|0,!((D<<24>>24<0?e[N+12>>2]|0:D&255)|0))break e;if(N=e[N>>2]|0,!N){F=J,U=54;break e}}else K=S;for(;;){if(N=e[K+4>>2]|0,!((N|0)==($|0)|(N&V|0)==(J|0))){F=J,U=54;break e}N=K+8|0,D=Z[N+11>>0]|0,b=D<<24>>24<0,M=D&255;do if(((b?e[K+12>>2]|0:M)|0)==(o|0)){if(D=e[N>>2]|0,b){if(As(D,n,o)|0)break;break e}if((Z[n>>0]|0)==(D&255)<<24>>24){D=N,d=M,x=n;do{if(d=d+-1|0,D=D+1|0,!d)break e;x=x+1|0}while((Z[D>>0]|0)==(Z[x>>0]|0))}}while(0);if(K=e[K>>2]|0,!K){F=J,U=54;break e}}}if(L)for(V=S;;){if(M=e[V+4>>2]|0,(M|0)!=($|0)&&(M>>>0<j>>>0?re=M:re=(M>>>0)%(j>>>0)|0,(re|0)!=(J|0))){F=J,U=54;break e}if(M=Z[V+8+11>>0]|0,!((M<<24>>24<0?e[V+12>>2]|0:M&255)|0))break e;if(V=e[V>>2]|0,!V){F=J,U=54;break e}}else se=S;for(;;){if(V=e[se+4>>2]|0,(V|0)!=($|0)&&(V>>>0<j>>>0?fe=V:fe=(V>>>0)%(j>>>0)|0,(fe|0)!=(J|0))){F=J,U=54;break e}V=se+8|0,L=Z[V+11>>0]|0,M=L<<24>>24<0,N=L&255;do if(((M?e[se+12>>2]|0:N)|0)==(o|0)){if(L=e[V>>2]|0,M){if(As(L,n,o)|0)break;break e}if((Z[n>>0]|0)==(L&255)<<24>>24){L=V,b=N,x=n;do{if(b=b+-1|0,L=L+1|0,!b)break e;x=x+1|0}while((Z[L>>0]|0)==(Z[x>>0]|0))}}while(0);if(se=e[se>>2]|0,!se){F=J,U=54;break}}}else F=J,U=54;while(0);if((U|0)==54){G6(f,r,$,h),U=r+12|0,Ee=qt(((e[U>>2]|0)+1|0)>>>0),Ne=qt(j>>>0),me=qt(br[r+16>>2]);do if(Q|qt(me*Ne)<Ee){if(J=j<<1|(j>>>0<3|(j+-1&j|0)!=0)&1,se=~~qt(yr(qt(Ee/me)))>>>0,Em(r,J>>>0<se>>>0?se:J),J=e[X>>2]|0,se=J+-1|0,!(se&J)){Ie=J,_e=se&$;break}$>>>0<J>>>0?(Ie=J,_e=$):(Ie=J,_e=($>>>0)%(J>>>0)|0)}else Ie=j,_e=F;while(0);F=e[(e[r>>2]|0)+(_e<<2)>>2]|0,F?(e[e[f>>2]>>2]=e[F>>2],e[F>>2]=e[f>>2],Ce=f):(j=r+8|0,e[e[f>>2]>>2]=e[j>>2],e[j>>2]=e[f>>2],e[(e[r>>2]|0)+(_e<<2)>>2]=j,j=e[f>>2]|0,_e=e[j>>2]|0,_e&&($=e[_e+4>>2]|0,_e=Ie+-1|0,_e&Ie?$>>>0<Ie>>>0?We=$:We=($>>>0)%(Ie>>>0)|0:We=$&_e,e[(e[r>>2]|0)+(We<<2)>>2]=j),Ce=f),e[U>>2]=(e[U>>2]|0)+1,e[Ce>>2]=0}if(Ce=e[h+12>>2]|0,Ce|0&&((e[C>>2]|0)!=(Ce|0)&&(e[C>>2]=Ce),ve(Ce)),(Z[I>>0]|0)<0&&ve(e[h>>2]|0),h=e[c>>2]|0,!h){q=a;return}(e[g>>2]|0)!=(h|0)&&(e[g>>2]=h),ve(h),q=a}function $_(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=Ar,et=Ar,ot=Ar,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0;if(a=q,q=q+48|0,f=a+12|0,h=a+32|0,c=a,g=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,br[g>>2]=qt(1),d=r+80|0,m=e[d>>2]|0,e[c>>2]=0,b=c+4|0,e[b>>2]=0,e[c+8>>2]=0,m){for(m>>>0>1073741823&&Je(),v=m<<2,x=Dt(v)|0,e[c>>2]=x,C=x+(m<<2)|0,e[c+8>>2]=C,Mi(x|0,0,v|0)|0,e[b>>2]=C,C=n+48|0,v=n+40|0,m=f+4|0,S=f+12|0,M=f+8|0,I=r+40|0,D=r+64|0,L=e[o>>2]|0,o=0,N=x,X=0,V=0,Q=x,U=x,j=x;;){x=C,$=e[x>>2]|0,J=e[x+4>>2]|0,x=v,F=zi(e[x>>2]|0,e[x+4>>2]|0,L+X|0,0)|0,x=Wt(F|0,Xe|0,$|0,J|0)|0,J=(e[e[n>>2]>>2]|0)+x|0,x=yi[J>>0]|yi[J+1>>0]<<8,Oi[h>>1]=x,J=(x^318)&65535;e:do if(o){$=o+-1|0,F=($&o|0)==0,F?K=$&J:o>>>0>J>>>0?K=J:K=(J>>>0)%(o>>>0)|0,re=e[f>>2]|0,se=e[re+(K<<2)>>2]|0;t:do if(se|0&&(fe=e[se>>2]|0,fe|0)){i:do if(F)for(Ee=fe;;){if(Ne=e[Ee+4>>2]|0,me=(Ne|0)==(J|0),!(me|(Ne&$|0)==(K|0)))break t;if(me&&(Oi[Ee+8>>1]|0)==x<<16>>16){Ie=Ee;break i}if(Ee=e[Ee>>2]|0,!Ee)break t}else for(Ee=fe;;){if(me=e[Ee+4>>2]|0,(me|0)==(J|0)){if((Oi[Ee+8>>1]|0)==x<<16>>16){Ie=Ee;break i}}else if(me>>>0<o>>>0?_e=me:_e=(me>>>0)%(o>>>0)|0,(_e|0)!=(K|0))break t;if(Ee=e[Ee>>2]|0,!Ee)break t}while(0);e[j+(X<<2)>>2]=e[Ie+12>>2],Ce=N,We=V,at=U,Ke=Q,Ve=j;break e}while(0);if(F?Ue=$&J:o>>>0>J>>>0?Ue=J:Ue=(J>>>0)%(o>>>0)|0,se=e[re+(Ue<<2)>>2]|0,!se)st=Ue,Qe=o,it=0,ze=40;else{if(F)for(fe=se;;){if(fe=e[fe>>2]|0,!fe){st=Ue,Qe=o,it=0,ze=40;break e}if(Ee=e[fe+4>>2]|0,!((Ee|0)==(J|0)|(Ee&$|0)==(Ue|0))){st=Ue,Qe=o,it=0,ze=40;break e}if((Oi[fe+8>>1]|0)==x<<16>>16){ze=55;break e}}else Ge=se;for(;;){if(Ge=e[Ge>>2]|0,!Ge){st=Ue,Qe=o,it=0,ze=40;break e}if(fe=e[Ge+4>>2]|0,(fe|0)!=(J|0)&&(fe>>>0<o>>>0?ke=fe:ke=(fe>>>0)%(o>>>0)|0,(ke|0)!=(Ue|0))){st=Ue,Qe=o,it=0,ze=40;break e}if((Oi[Ge+8>>1]|0)==x<<16>>16){ze=55;break}}}}else st=0,Qe=0,it=1,ze=40;while(0);if((ze|0)==40){ze=0,se=Dt(16)|0,Oi[se+8>>1]=x,e[se+12>>2]=V,e[se+4>>2]=J,e[se>>2]=0,ut=qt(((e[S>>2]|0)+1|0)>>>0),et=qt(Qe>>>0),ot=qt(br[g>>2]);do if(it|qt(ot*et)<ut){if(fe=Qe<<1|(Qe>>>0<3|(Qe+-1&Qe|0)!=0)&1,$=~~qt(yr(qt(ut/ot)))>>>0,ZD(f,fe>>>0<$>>>0?$:fe),fe=e[m>>2]|0,$=fe+-1|0,!($&fe)){Rt=fe,Nt=$&J;break}fe>>>0>J>>>0?(Rt=fe,Nt=J):(Rt=fe,Nt=(J>>>0)%(fe>>>0)|0)}else Rt=Qe,Nt=st;while(0);J=(e[f>>2]|0)+(Nt<<2)|0,x=e[J>>2]|0,x?(e[se>>2]=e[x>>2],Vt=x,ze=53):(e[se>>2]=e[M>>2],e[M>>2]=se,e[J>>2]=M,J=e[se>>2]|0,J|0&&(fe=e[J+4>>2]|0,J=Rt+-1|0,J&Rt?fe>>>0<Rt>>>0?At=fe:At=(fe>>>0)%(Rt>>>0)|0:At=fe&J,Vt=(e[f>>2]|0)+(At<<2)|0,ze=53)),(ze|0)==53&&(ze=0,e[Vt>>2]=se),e[S>>2]=(e[S>>2]|0)+1,ze=55}if((ze|0)==55&&(ze=0,x=I,J=e[x>>2]|0,fe=zi(J|0,e[x+4>>2]|0,V|0,0)|0,Fr((e[e[D>>2]>>2]|0)+fe|0,h|0,J|0)|0,J=e[c>>2]|0,e[J+(X<<2)>>2]=V,Ce=J,We=V+1|0,at=J,Ke=J,Ve=J),J=X+1|0,Pt=e[d>>2]|0,J>>>0>=Pt>>>0)break;o=e[m>>2]|0,N=Ce,X=J,V=We,Q=Ke,U=at,j=Ve}if((We|0)==(Pt|0))xt=Ke;else{if(Ke=r+84|0,Z[Ke>>0]|0)if(Z[Ke>>0]=0,Ke=r+68|0,Ce=r+72|0,Q=e[Ce>>2]|0,j=e[Ke>>2]|0,at=Q-j>>2,U=j,j=Q,Pt>>>0<=at>>>0?(Pt>>>0<at>>>0&&(Q=U+(Pt<<2)|0,(Q|0)!=(j|0))&&(e[Ce>>2]=j+(~((j+-4-Q|0)>>>2)<<2)),St=Pt):(z0(Ke,Pt-at|0,1204),St=e[d>>2]|0),at=e[c>>2]|0,!St)_t=at;else{c=e[r+68>>2]|0,r=0;do e[c+(r<<2)>>2]=e[at+(r<<2)>>2],r=r+1|0;while(r>>>0<St>>>0);_t=at}else if(Ve=e[r+72>>2]|0,j=e[r+68>>2]|0,U=j,(Ve|0)==(j|0))_t=Ce;else{Q=Ve-j>>2,j=0;do Ve=U+(j<<2)|0,e[Ve>>2]=e[at+(e[Ve>>2]<<2)>>2],j=j+1|0;while(j>>>0<Q>>>0);_t=Ce}e[d>>2]=We,xt=_t}xt&&(_t=e[b>>2]|0,(_t|0)!=(xt|0)&&(e[b>>2]=_t+(~((_t+-4-xt|0)>>>2)<<2)),ve(xt)),fi=We}else fi=0;if(We=e[f+8>>2]|0,We|0){xt=We;do We=xt,xt=e[xt>>2]|0,ve(We);while((xt|0)!=0)}return xt=e[f>>2]|0,e[f>>2]=0,xt?(ve(xt),q=a,fi|0):(q=a,fi|0)}function pL(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=Ar,fe=Ar,Ee=Ar,Ne=0,me=0,Ie=0,_e=0;if(a=q,q=q+64|0,f=a+40|0,h=a+16|0,c=a,g=T2(r,n)|0,g|0&&(e[h>>2]=g,e[f>>2]=e[h>>2],mm(r,f)|0),e[c>>2]=0,g=c+4|0,e[g>>2]=0,e[c+8>>2]=0,Na(c,4),d=e[c>>2]|0,m=yi[o>>0]|yi[o+1>>0]<<8|yi[o+2>>0]<<16|yi[o+3>>0]<<24,Z[d>>0]=m,Z[d+1>>0]=m>>8,Z[d+2>>0]=m>>16,Z[d+3>>0]=m>>24,T0(h,n),n=h+12|0,e[n>>2]=0,m=h+16|0,e[m>>2]=0,e[h+20>>2]=0,d=e[g>>2]|0,o=e[c>>2]|0,b=d-o|0,b?(Na(n,b),v=e[c>>2]|0,x=e[g>>2]|0,C=e[n>>2]|0):(v=o,x=d,C=0),Fr(C|0,v|0,x-v|0)|0,v=h+11|0,x=Z[v>>0]|0,C=x<<24>>24<0,n=C?e[h>>2]|0:h,b=C?e[h+4>>2]|0:x&255,b>>>0>3){for(x=n,C=b,d=b;o=_i(yi[x>>0]|yi[x+1>>0]<<8|yi[x+2>>0]<<16|yi[x+3>>0]<<24,1540483477)|0,C=(_i(o>>>24^o,1540483477)|0)^(_i(C,1540483477)|0),d=d+-4|0,!(d>>>0<=3);)x=x+4|0;x=b+-4|0,d=x&-4,S=x-d|0,M=n+(d+4)|0,I=C}else S=b,M=n,I=b;switch(S|0){case 3:{D=yi[M+2>>0]<<16^I,L=10;break}case 2:{D=I,L=10;break}case 1:{N=I,L=11;break}default:X=I}(L|0)==10&&(N=yi[M+1>>0]<<8^D,L=11),(L|0)==11&&(X=_i(N^yi[M>>0],1540483477)|0),M=_i(X>>>13^X,1540483477)|0,X=M>>>15^M,M=r+4|0,N=e[M>>2]|0,D=(N|0)==0;e:do if(D)Q=0,L=52;else if(I=N+-1|0,S=(I&N|0)==0,S?V=X&I:X>>>0<N>>>0?V=X:V=(X>>>0)%(N>>>0)|0,C=e[(e[r>>2]|0)+(V<<2)>>2]|0,(C|0)!=0&&(d=e[C>>2]|0,(d|0)!=0)){if(C=(b|0)==0,S){if(C)for(S=d;;){if(x=e[S+4>>2]|0,!((x|0)==(X|0)|(x&I|0)==(V|0))){Q=V,L=52;break e}if(x=Z[S+8+11>>0]|0,!((x<<24>>24<0?e[S+12>>2]|0:x&255)|0))break e;if(S=e[S>>2]|0,!S){Q=V,L=52;break e}}else U=d;for(;;){if(S=e[U+4>>2]|0,!((S|0)==(X|0)|(S&I|0)==(V|0))){Q=V,L=52;break e}S=U+8|0,x=Z[S+11>>0]|0,o=x<<24>>24<0,j=x&255;do if(((o?e[U+12>>2]|0:j)|0)==(b|0)){if(x=e[S>>2]|0,o){if(As(x,n,b)|0)break;break e}if((Z[n>>0]|0)==(x&255)<<24>>24){x=S,$=j,J=n;do{if($=$+-1|0,x=x+1|0,!$)break e;J=J+1|0}while((Z[x>>0]|0)==(Z[J>>0]|0))}}while(0);if(U=e[U>>2]|0,!U){Q=V,L=52;break e}}}if(C)for(I=d;;){if(j=e[I+4>>2]|0,(j|0)!=(X|0)&&(j>>>0<N>>>0?F=j:F=(j>>>0)%(N>>>0)|0,(F|0)!=(V|0))){Q=V,L=52;break e}if(j=Z[I+8+11>>0]|0,!((j<<24>>24<0?e[I+12>>2]|0:j&255)|0))break e;if(I=e[I>>2]|0,!I){Q=V,L=52;break e}}else K=d;for(;;){if(I=e[K+4>>2]|0,(I|0)!=(X|0)&&(I>>>0<N>>>0?re=I:re=(I>>>0)%(N>>>0)|0,(re|0)!=(V|0))){Q=V,L=52;break e}I=K+8|0,C=Z[I+11>>0]|0,j=C<<24>>24<0,S=C&255;do if(((j?e[K+12>>2]|0:S)|0)==(b|0)){if(C=e[I>>2]|0,j){if(As(C,n,b)|0)break;break e}if((Z[n>>0]|0)==(C&255)<<24>>24){C=I,o=S,J=n;do{if(o=o+-1|0,C=C+1|0,!o)break e;J=J+1|0}while((Z[C>>0]|0)==(Z[J>>0]|0))}}while(0);if(K=e[K>>2]|0,!K){Q=V,L=52;break}}}else Q=V,L=52;while(0);if((L|0)==52){G6(f,r,X,h),L=r+12|0,se=qt(((e[L>>2]|0)+1|0)>>>0),fe=qt(N>>>0),Ee=qt(br[r+16>>2]);do if(D|qt(Ee*fe)<se){if(V=N<<1|(N>>>0<3|(N+-1&N|0)!=0)&1,K=~~qt(yr(qt(se/Ee)))>>>0,Em(r,V>>>0<K>>>0?K:V),V=e[M>>2]|0,K=V+-1|0,!(K&V)){Ne=V,me=K&X;break}X>>>0<V>>>0?(Ne=V,me=X):(Ne=V,me=(X>>>0)%(V>>>0)|0)}else Ne=N,me=Q;while(0);Q=e[(e[r>>2]|0)+(me<<2)>>2]|0,Q?(e[e[f>>2]>>2]=e[Q>>2],e[Q>>2]=e[f>>2],Ie=f):(N=r+8|0,e[e[f>>2]>>2]=e[N>>2],e[N>>2]=e[f>>2],e[(e[r>>2]|0)+(me<<2)>>2]=N,N=e[f>>2]|0,me=e[N>>2]|0,me&&(X=e[me+4>>2]|0,me=Ne+-1|0,me&Ne?X>>>0<Ne>>>0?_e=X:_e=(X>>>0)%(Ne>>>0)|0:_e=X&me,e[(e[r>>2]|0)+(_e<<2)>>2]=N),Ie=f),e[L>>2]=(e[L>>2]|0)+1,e[Ie>>2]=0}if(Ie=e[h+12>>2]|0,Ie|0&&((e[m>>2]|0)!=(Ie|0)&&(e[m>>2]=Ie),ve(Ie)),(Z[v>>0]|0)<0&&ve(e[h>>2]|0),h=e[c>>2]|0,!h){q=a;return}(e[g>>2]|0)!=(h|0)&&(e[g>>2]=h),ve(h),q=a}function ek(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=Ar,et=Ar,ot=Ar,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0;if(a=q,q=q+48|0,f=a+12|0,h=a+32|0,c=a,g=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,br[g>>2]=qt(1),d=r+80|0,m=e[d>>2]|0,e[c>>2]=0,b=c+4|0,e[b>>2]=0,e[c+8>>2]=0,m){for(m>>>0>1073741823&&Je(),v=m<<2,x=Dt(v)|0,e[c>>2]=x,C=x+(m<<2)|0,e[c+8>>2]=C,Mi(x|0,0,v|0)|0,e[b>>2]=C,C=n+48|0,v=n+40|0,m=f+4|0,S=f+12|0,M=f+8|0,I=r+40|0,D=r+64|0,L=e[o>>2]|0,o=0,N=x,X=0,V=0,Q=x,U=x,j=x;;){x=C,$=e[x>>2]|0,J=e[x+4>>2]|0,x=v,F=zi(e[x>>2]|0,e[x+4>>2]|0,L+X|0,0)|0,x=Wt(F|0,Xe|0,$|0,J|0)|0,J=Z[(e[e[n>>2]>>2]|0)+x>>0]|0,Z[h>>0]=J,x=J&255^318;e:do if(o){$=o+-1|0,F=($&o|0)==0,F?K=$&x:x>>>0<o>>>0?K=x:K=(x>>>0)%(o>>>0)|0,re=e[f>>2]|0,se=e[re+(K<<2)>>2]|0;t:do if(se|0&&(fe=e[se>>2]|0,fe|0)){i:do if(F)for(Ee=fe;;){if(Ne=e[Ee+4>>2]|0,me=(Ne|0)==(x|0),!(me|(Ne&$|0)==(K|0)))break t;if(me&&(Z[Ee+8>>0]|0)==J<<24>>24){Ie=Ee;break i}if(Ee=e[Ee>>2]|0,!Ee)break t}else for(Ee=fe;;){if(me=e[Ee+4>>2]|0,(me|0)==(x|0)){if((Z[Ee+8>>0]|0)==J<<24>>24){Ie=Ee;break i}}else if(me>>>0<o>>>0?_e=me:_e=(me>>>0)%(o>>>0)|0,(_e|0)!=(K|0))break t;if(Ee=e[Ee>>2]|0,!Ee)break t}while(0);e[j+(X<<2)>>2]=e[Ie+12>>2],Ce=N,We=V,at=U,Ke=Q,Ve=j;break e}while(0);if(F?Ue=$&x:x>>>0<o>>>0?Ue=x:Ue=(x>>>0)%(o>>>0)|0,se=e[re+(Ue<<2)>>2]|0,!se)st=Ue,Qe=o,it=0,ze=40;else{if(F)for(fe=se;;){if(fe=e[fe>>2]|0,!fe){st=Ue,Qe=o,it=0,ze=40;break e}if(Ee=e[fe+4>>2]|0,!((Ee|0)==(x|0)|(Ee&$|0)==(Ue|0))){st=Ue,Qe=o,it=0,ze=40;break e}if((Z[fe+8>>0]|0)==J<<24>>24){ze=55;break e}}else Ge=se;for(;;){if(Ge=e[Ge>>2]|0,!Ge){st=Ue,Qe=o,it=0,ze=40;break e}if(fe=e[Ge+4>>2]|0,(fe|0)!=(x|0)&&(fe>>>0<o>>>0?ke=fe:ke=(fe>>>0)%(o>>>0)|0,(ke|0)!=(Ue|0))){st=Ue,Qe=o,it=0,ze=40;break e}if((Z[Ge+8>>0]|0)==J<<24>>24){ze=55;break}}}}else st=0,Qe=0,it=1,ze=40;while(0);if((ze|0)==40){ze=0,se=Dt(16)|0,Z[se+8>>0]=J,e[se+12>>2]=V,e[se+4>>2]=x,e[se>>2]=0,ut=qt(((e[S>>2]|0)+1|0)>>>0),et=qt(Qe>>>0),ot=qt(br[g>>2]);do if(it|qt(ot*et)<ut){if(fe=Qe<<1|(Qe>>>0<3|(Qe+-1&Qe|0)!=0)&1,$=~~qt(yr(qt(ut/ot)))>>>0,rP(f,fe>>>0<$>>>0?$:fe),fe=e[m>>2]|0,$=fe+-1|0,!($&fe)){Rt=fe,Nt=$&x;break}x>>>0<fe>>>0?(Rt=fe,Nt=x):(Rt=fe,Nt=(x>>>0)%(fe>>>0)|0)}else Rt=Qe,Nt=st;while(0);x=(e[f>>2]|0)+(Nt<<2)|0,J=e[x>>2]|0,J?(e[se>>2]=e[J>>2],Vt=J,ze=53):(e[se>>2]=e[M>>2],e[M>>2]=se,e[x>>2]=M,x=e[se>>2]|0,x|0&&(fe=e[x+4>>2]|0,x=Rt+-1|0,x&Rt?fe>>>0<Rt>>>0?At=fe:At=(fe>>>0)%(Rt>>>0)|0:At=fe&x,Vt=(e[f>>2]|0)+(At<<2)|0,ze=53)),(ze|0)==53&&(ze=0,e[Vt>>2]=se),e[S>>2]=(e[S>>2]|0)+1,ze=55}if((ze|0)==55&&(ze=0,J=I,x=e[J>>2]|0,fe=zi(x|0,e[J+4>>2]|0,V|0,0)|0,Fr((e[e[D>>2]>>2]|0)+fe|0,h|0,x|0)|0,x=e[c>>2]|0,e[x+(X<<2)>>2]=V,Ce=x,We=V+1|0,at=x,Ke=x,Ve=x),x=X+1|0,Pt=e[d>>2]|0,x>>>0>=Pt>>>0)break;o=e[m>>2]|0,N=Ce,X=x,V=We,Q=Ke,U=at,j=Ve}if((We|0)==(Pt|0))xt=Ke;else{if(Ke=r+84|0,Z[Ke>>0]|0)if(Z[Ke>>0]=0,Ke=r+68|0,Ce=r+72|0,Q=e[Ce>>2]|0,j=e[Ke>>2]|0,at=Q-j>>2,U=j,j=Q,Pt>>>0<=at>>>0?(Pt>>>0<at>>>0&&(Q=U+(Pt<<2)|0,(Q|0)!=(j|0))&&(e[Ce>>2]=j+(~((j+-4-Q|0)>>>2)<<2)),St=Pt):(z0(Ke,Pt-at|0,1204),St=e[d>>2]|0),at=e[c>>2]|0,!St)_t=at;else{c=e[r+68>>2]|0,r=0;do e[c+(r<<2)>>2]=e[at+(r<<2)>>2],r=r+1|0;while(r>>>0<St>>>0);_t=at}else if(Ve=e[r+72>>2]|0,j=e[r+68>>2]|0,U=j,(Ve|0)==(j|0))_t=Ce;else{Q=Ve-j>>2,j=0;do Ve=U+(j<<2)|0,e[Ve>>2]=e[at+(e[Ve>>2]<<2)>>2],j=j+1|0;while(j>>>0<Q>>>0);_t=Ce}e[d>>2]=We,xt=_t}xt&&(_t=e[b>>2]|0,(_t|0)!=(xt|0)&&(e[b>>2]=_t+(~((_t+-4-xt|0)>>>2)<<2)),ve(xt)),fi=We}else fi=0;if(We=e[f+8>>2]|0,We|0){xt=We;do We=xt,xt=e[xt>>2]|0,ve(We);while((xt|0)!=0)}return xt=e[f>>2]|0,e[f>>2]=0,xt?(ve(xt),q=a,fi|0):(q=a,fi|0)}function yx(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=Ar,et=Ar,ot=Ar,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0;if(a=q,q=q+48|0,f=a+16|0,h=a+12|0,c=a,g=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,br[g>>2]=qt(1),d=r+80|0,m=e[d>>2]|0,e[c>>2]=0,b=c+4|0,e[b>>2]=0,e[c+8>>2]=0,m){for(m>>>0>1073741823&&Je(),v=m<<2,x=Dt(v)|0,e[c>>2]=x,C=x+(m<<2)|0,e[c+8>>2]=C,Mi(x|0,0,v|0)|0,e[b>>2]=C,C=n+48|0,v=n+40|0,m=f+4|0,S=f+12|0,M=f+8|0,I=r+40|0,D=r+64|0,L=e[o>>2]|0,o=0,N=x,X=0,V=0,Q=x,U=x,j=x;;){x=C,$=e[x>>2]|0,J=e[x+4>>2]|0,x=v,F=zi(e[x>>2]|0,e[x+4>>2]|0,L+X|0,0)|0,x=Wt(F|0,Xe|0,$|0,J|0)|0,J=(e[e[n>>2]>>2]|0)+x|0,x=yi[J>>0]|yi[J+1>>0]<<8|yi[J+2>>0]<<16|yi[J+3>>0]<<24,e[h>>2]=x,J=x^318;e:do if(o){$=o+-1|0,F=($&o|0)==0,F?K=$&J:J>>>0<o>>>0?K=J:K=(J>>>0)%(o>>>0)|0,re=e[f>>2]|0,se=e[re+(K<<2)>>2]|0;t:do if(se|0&&(fe=e[se>>2]|0,fe|0)){i:do if(F)for(Ee=fe;;){if(Ne=e[Ee+4>>2]|0,me=(Ne|0)==(J|0),!(me|(Ne&$|0)==(K|0)))break t;if(me&&(e[Ee+8>>2]|0)==(x|0)){Ie=Ee;break i}if(Ee=e[Ee>>2]|0,!Ee)break t}else for(Ee=fe;;){if(me=e[Ee+4>>2]|0,(me|0)==(J|0)){if((e[Ee+8>>2]|0)==(x|0)){Ie=Ee;break i}}else if(me>>>0<o>>>0?_e=me:_e=(me>>>0)%(o>>>0)|0,(_e|0)!=(K|0))break t;if(Ee=e[Ee>>2]|0,!Ee)break t}while(0);e[j+(X<<2)>>2]=e[Ie+12>>2],Ce=N,We=V,at=U,Ke=Q,Ve=j;break e}while(0);if(F?Ue=$&J:J>>>0<o>>>0?Ue=J:Ue=(J>>>0)%(o>>>0)|0,se=e[re+(Ue<<2)>>2]|0,!se)st=Ue,Qe=o,it=0,ze=40;else{if(F)for(fe=se;;){if(fe=e[fe>>2]|0,!fe){st=Ue,Qe=o,it=0,ze=40;break e}if(Ee=e[fe+4>>2]|0,!((Ee|0)==(J|0)|(Ee&$|0)==(Ue|0))){st=Ue,Qe=o,it=0,ze=40;break e}if((e[fe+8>>2]|0)==(x|0)){ze=55;break e}}else Ge=se;for(;;){if(Ge=e[Ge>>2]|0,!Ge){st=Ue,Qe=o,it=0,ze=40;break e}if(fe=e[Ge+4>>2]|0,(fe|0)!=(J|0)&&(fe>>>0<o>>>0?ke=fe:ke=(fe>>>0)%(o>>>0)|0,(ke|0)!=(Ue|0))){st=Ue,Qe=o,it=0,ze=40;break e}if((e[Ge+8>>2]|0)==(x|0)){ze=55;break}}}}else st=0,Qe=0,it=1,ze=40;while(0);if((ze|0)==40){ze=0,se=Dt(16)|0,e[se+8>>2]=x,e[se+12>>2]=V,e[se+4>>2]=J,e[se>>2]=0,ut=qt(((e[S>>2]|0)+1|0)>>>0),et=qt(Qe>>>0),ot=qt(br[g>>2]);do if(it|qt(ot*et)<ut){if(fe=Qe<<1|(Qe>>>0<3|(Qe+-1&Qe|0)!=0)&1,$=~~qt(yr(qt(ut/ot)))>>>0,B_(f,fe>>>0<$>>>0?$:fe),fe=e[m>>2]|0,$=fe+-1|0,!($&fe)){Rt=fe,Nt=$&J;break}J>>>0<fe>>>0?(Rt=fe,Nt=J):(Rt=fe,Nt=(J>>>0)%(fe>>>0)|0)}else Rt=Qe,Nt=st;while(0);J=(e[f>>2]|0)+(Nt<<2)|0,x=e[J>>2]|0,x?(e[se>>2]=e[x>>2],Vt=x,ze=53):(e[se>>2]=e[M>>2],e[M>>2]=se,e[J>>2]=M,J=e[se>>2]|0,J|0&&(fe=e[J+4>>2]|0,J=Rt+-1|0,J&Rt?fe>>>0<Rt>>>0?At=fe:At=(fe>>>0)%(Rt>>>0)|0:At=fe&J,Vt=(e[f>>2]|0)+(At<<2)|0,ze=53)),(ze|0)==53&&(ze=0,e[Vt>>2]=se),e[S>>2]=(e[S>>2]|0)+1,ze=55}if((ze|0)==55&&(ze=0,x=I,J=e[x>>2]|0,fe=zi(J|0,e[x+4>>2]|0,V|0,0)|0,Fr((e[e[D>>2]>>2]|0)+fe|0,h|0,J|0)|0,J=e[c>>2]|0,e[J+(X<<2)>>2]=V,Ce=J,We=V+1|0,at=J,Ke=J,Ve=J),J=X+1|0,Pt=e[d>>2]|0,J>>>0>=Pt>>>0)break;o=e[m>>2]|0,N=Ce,X=J,V=We,Q=Ke,U=at,j=Ve}if((We|0)==(Pt|0))xt=Ke;else{if(Ke=r+84|0,Z[Ke>>0]|0)if(Z[Ke>>0]=0,Ke=r+68|0,Ce=r+72|0,Q=e[Ce>>2]|0,j=e[Ke>>2]|0,at=Q-j>>2,U=j,j=Q,Pt>>>0<=at>>>0?(Pt>>>0<at>>>0&&(Q=U+(Pt<<2)|0,(Q|0)!=(j|0))&&(e[Ce>>2]=j+(~((j+-4-Q|0)>>>2)<<2)),St=Pt):(z0(Ke,Pt-at|0,1204),St=e[d>>2]|0),at=e[c>>2]|0,!St)_t=at;else{c=e[r+68>>2]|0,r=0;do e[c+(r<<2)>>2]=e[at+(r<<2)>>2],r=r+1|0;while(r>>>0<St>>>0);_t=at}else if(Ve=e[r+72>>2]|0,j=e[r+68>>2]|0,U=j,(Ve|0)==(j|0))_t=Ce;else{Q=Ve-j>>2,j=0;do Ve=U+(j<<2)|0,e[Ve>>2]=e[at+(e[Ve>>2]<<2)>>2],j=j+1|0;while(j>>>0<Q>>>0);_t=Ce}e[d>>2]=We,xt=_t}xt&&(_t=e[b>>2]|0,(_t|0)!=(xt|0)&&(e[b>>2]=_t+(~((_t+-4-xt|0)>>>2)<<2)),ve(xt)),fi=We}else fi=0;if(We=e[f+8>>2]|0,We|0){xt=We;do We=xt,xt=e[xt>>2]|0,ve(We);while((xt|0)!=0)}return xt=e[f>>2]|0,e[f>>2]=0,xt?(ve(xt),q=a,fi|0):(q=a,fi|0)}function Iy(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0,Gt=0,ci=0,mi=0,ji=0,di=0,Ei=0,ni=0,Ri=0,Ni=0;a=q,q=q+96|0,f=a+92|0,h=a+88|0,c=a+72|0,g=a+48|0,d=a+24|0,m=a,b=r+16|0,v=e[b>>2]|0,x=e[n>>2]|0,e[c>>2]=v,e[c+4>>2]=x,n=c+8|0,e[n>>2]=x,Z[c+12>>0]=1,C=e[(e[v+28>>2]|0)+(x<<2)>>2]|0,v=r+20|0,S=e[v>>2]|0,M=e[S>>2]|0,(e[S+4>>2]|0)-M>>2>>>0<=C>>>0&&Je(),S=r+8|0,I=e[(e[S>>2]|0)+(e[M+(C<<2)>>2]<<2)>>2]|0,C=r+4|0,M=e[C>>2]|0,Z[M+84>>0]|0?D=I:D=e[(e[M+68>>2]|0)+(I<<2)>>2]|0,e[g>>2]=0,e[g+4>>2]=0,e[g+8>>2]=0,e[g+12>>2]=0,e[g+16>>2]=0,e[g+20>>2]=0,e[h>>2]=D,D=Z[M+24>>0]|0,e[f>>2]=e[h>>2],Nl(M,f,D,g)|0,D=r+28|0,r=(e[D>>2]|0)==0;e:do if((x|0)!=-1){for(M=d+8|0,I=g+8|0,L=d+16|0,N=g+16|0,X=m+8|0,V=m+16|0,Q=x,U=x,j=0,$=0,J=0,F=0,K=0,re=0,se=r,fe=x;;){do if(se)if(Ee=fe+1|0,(fe|0)!=-1)if(Ne=((Ee>>>0)%3|0|0)==0?fe+-2|0:Ee,(Q|0)!=-1)if((Q>>>0)%3|0){me=Q,Ie=Q+-1|0,_e=Ne,Ce=Q;break}else{me=Q,Ie=Q+2|0,_e=Ne,Ce=Q;break}else me=-1,Ie=-1,_e=Ne,Ce=-1;else me=Q,Ie=-1,_e=-1,Ce=-1;else if(Ne=U+1|0,Ee=((Ne>>>0)%3|0|0)==0?U+-2|0:Ne,(U>>>0)%3|0){me=Q,Ie=U+-1|0,_e=Ee,Ce=fe;break}else{me=Q,Ie=U+2|0,_e=Ee,Ce=fe;break}while(0);if(Ee=e[(e[(e[b>>2]|0)+28>>2]|0)+(_e<<2)>>2]|0,We=e[v>>2]|0,Ne=e[We>>2]|0,(e[We+4>>2]|0)-Ne>>2>>>0<=Ee>>>0){at=17;break}if(Ke=e[(e[S>>2]|0)+(e[Ne+(Ee<<2)>>2]<<2)>>2]|0,Ee=e[C>>2]|0,Z[Ee+84>>0]|0?Ve=Ke:Ve=e[(e[Ee+68>>2]|0)+(Ke<<2)>>2]|0,e[d>>2]=0,e[d+4>>2]=0,e[d+8>>2]=0,e[d+12>>2]=0,e[d+16>>2]=0,e[d+20>>2]=0,e[h>>2]=Ve,Ke=Z[Ee+24>>0]|0,e[f>>2]=e[h>>2],Nl(Ee,f,Ke,d)|0,Ke=e[(e[(e[b>>2]|0)+28>>2]|0)+(Ie<<2)>>2]|0,Ue=e[v>>2]|0,Ee=e[Ue>>2]|0,(e[Ue+4>>2]|0)-Ee>>2>>>0<=Ke>>>0){at=21;break}if(Ne=e[(e[S>>2]|0)+(e[Ee+(Ke<<2)>>2]<<2)>>2]|0,Ke=e[C>>2]|0,Z[Ke+84>>0]|0?st=Ne:st=e[(e[Ke+68>>2]|0)+(Ne<<2)>>2]|0,e[m>>2]=0,e[m+4>>2]=0,e[m+8>>2]=0,e[m+12>>2]=0,e[m+16>>2]=0,e[m+20>>2]=0,e[h>>2]=st,Ne=Z[Ke+24>>0]|0,e[f>>2]=e[h>>2],Nl(Ke,f,Ne,m)|0,Ne=d,Ke=g,Ee=e[Ke>>2]|0,Qe=e[Ke+4>>2]|0,Ke=Gr(e[Ne>>2]|0,e[Ne+4>>2]|0,Ee|0,Qe|0)|0,Ne=Xe,it=M,ze=I,Ge=e[ze>>2]|0,ke=e[ze+4>>2]|0,ze=Gr(e[it>>2]|0,e[it+4>>2]|0,Ge|0,ke|0)|0,it=Xe,ut=L,et=N,ot=e[et>>2]|0,Rt=e[et+4>>2]|0,et=Gr(e[ut>>2]|0,e[ut+4>>2]|0,ot|0,Rt|0)|0,ut=Xe,Nt=m,At=Gr(e[Nt>>2]|0,e[Nt+4>>2]|0,Ee|0,Qe|0)|0,Qe=Xe,Ee=X,Nt=Gr(e[Ee>>2]|0,e[Ee+4>>2]|0,Ge|0,ke|0)|0,ke=Xe,Ge=V,Ee=Gr(e[Ge>>2]|0,e[Ge+4>>2]|0,ot|0,Rt|0)|0,Rt=Xe,ot=zi(Ee|0,Rt|0,ze|0,it|0)|0,Ge=Xe,Vt=zi(Nt|0,ke|0,et|0,ut|0)|0,Pt=Xe,xt=zi(At|0,Qe|0,et|0,ut|0)|0,ut=Xe,et=zi(Ee|0,Rt|0,Ke|0,Ne|0)|0,Rt=Xe,Ee=zi(Nt|0,ke|0,Ke|0,Ne|0)|0,Ne=Xe,Ke=zi(At|0,Qe|0,ze|0,it|0)|0,it=Xe,ze=Gr(j|0,$|0,Vt|0,Pt|0)|0,Pt=Wt(ze|0,Xe|0,ot|0,Ge|0)|0,Ge=Xe,ot=Wt(xt|0,ut|0,J|0,F|0)|0,ut=Gr(ot|0,Xe|0,et|0,Rt|0)|0,Rt=Xe,et=Gr(K|0,re|0,Ke|0,it|0)|0,it=Wt(et|0,Xe|0,Ee|0,Ne|0)|0,Ne=Xe,To(c),U=e[n>>2]|0,Ee=(e[D>>2]|0)==0,(U|0)==-1){_t=Ee,St=Ge,fi=Pt,Gt=Rt,ci=ut,mi=Ne,ji=it;break e}else Q=me,j=Pt,$=Ge,J=ut,F=Rt,K=it,re=Ne,se=Ee,fe=Ce}((at|0)==17||(at|0)==21)&&Je()}else _t=r,St=0,fi=0,Gt=0,ci=0,mi=0,ji=0;while(0);if(r=(St|0)>-1|(St|0)==-1&fi>>>0>4294967295,Ue=Gr(0,0,fi|0,St|0)|0,at=r?St:Xe,We=(Gt|0)>-1|(Gt|0)==-1&ci>>>0>4294967295,Ce=Gr(0,0,ci|0,Gt|0)|0,me=We?Gt:Xe,D=(mi|0)>-1|(mi|0)==-1&ji>>>0>4294967295,n=Gr(0,0,ji|0,mi|0)|0,c=Wt((We?ci:Ce)|0,me|0,(D?ji:n)|0,(D?mi:Xe)|0)|0,D=Wt(c|0,Xe|0,(r?fi:Ue)|0,at|0)|0,at=Xe,_t){if((D|0)<=536870912){di=fi,Ei=ci,ni=ji,e[o>>2]=di,Ri=o+4|0,e[Ri>>2]=Ei,Ni=o+8|0,e[Ni>>2]=ni,q=a;return}_t=r0(D|0,at|0,29)|0,Ue=_t&7,_t=m0(fi|0,St|0,Ue|0,0)|0,r=m0(ci|0,Gt|0,Ue|0,0)|0,c=m0(ji|0,mi|0,Ue|0,0)|0,di=_t,Ei=r,ni=c,e[o>>2]=di,Ri=o+4|0,e[Ri>>2]=Ei,Ni=o+8|0,e[Ni>>2]=ni,q=a;return}else{if(!((at|0)>0|(at|0)==0&D>>>0>536870912)){di=fi,Ei=ci,ni=ji,e[o>>2]=di,Ri=o+4|0,e[Ri>>2]=Ei,Ni=o+8|0,e[Ni>>2]=ni,q=a;return}c=r0(D|0,at|0,29)|0,at=Xe,D=m0(fi|0,St|0,c|0,at|0)|0,St=m0(ci|0,Gt|0,c|0,at|0)|0,Gt=m0(ji|0,mi|0,c|0,at|0)|0,di=D,Ei=St,ni=Gt,e[o>>2]=di,Ri=o+4|0,e[Ri>>2]=Ei,Ni=o+8|0,e[Ni>>2]=ni,q=a;return}}function tk(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=Ar,Ke=Ar,Ve=Ar,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0;if(a=q,q=q+48|0,f=a+28|0,h=a+8|0,c=a,g=a+16|0,d=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,br[d>>2]=qt(1),m=r+80|0,b=e[m>>2]|0,e[g>>2]=0,v=g+4|0,e[v>>2]=0,e[g+8>>2]=0,b){for(b>>>0>1073741823&&Je(),x=b<<2,C=Dt(x)|0,e[g>>2]=C,S=C+(b<<2)|0,e[g+8>>2]=S,Mi(C|0,0,x|0)|0,e[v>>2]=S,S=e[o>>2]|0,o=n+48|0,x=n+40|0,C=f+4|0,b=f+12|0,M=f+8|0,I=r+40|0,D=r+64|0,L=0,N=0;;){if(X=o,V=e[X>>2]|0,Q=e[X+4>>2]|0,X=x,U=zi(e[X>>2]|0,e[X+4>>2]|0,S+L|0,0)|0,X=Wt(U|0,Xe|0,V|0,Q|0)|0,Q=(e[e[n>>2]>>2]|0)+X|0,X=Q,V=yi[X>>0]|yi[X+1>>0]<<8|yi[X+2>>0]<<16|yi[X+3>>0]<<24,X=Q+4|0,Q=yi[X>>0]|yi[X+1>>0]<<8|yi[X+2>>0]<<16|yi[X+3>>0]<<24,X=h,e[X>>2]=V,e[X+4>>2]=Q,X=c,e[X>>2]=V,e[X+4>>2]=Q,Q=M6(f,c)|0,Q)F=e[g>>2]|0,e[F+(L<<2)>>2]=e[Q+16>>2],ze=N,Ge=F;else{X=c,V=e[X>>2]|0,U=e[X+4>>2]|0,X=V&65535,j=r0(V|0,U|0,16)|0,$=j&65535,J=U&65535,F=r0(V|0,U|0,48)|0,K=F&65535,re=((((X^318)&65535)+239^j&65535)+239^U&65535)+239^F&65535,F=e[C>>2]|0,j=(F|0)==0;e:do if(j)Ie=0,_e=31;else if(se=F+-1|0,fe=(se&F|0)==0,fe?Ee=re&se:re>>>0<F>>>0?Ee=re:Ee=(re>>>0)%(F>>>0)|0,Ne=e[(e[f>>2]|0)+(Ee<<2)>>2]|0,(Ne|0)!=0&&(me=e[Ne>>2]|0,(me|0)!=0)){if(fe)for(fe=me;;){if(Ne=e[fe+4>>2]|0,!((Ne|0)==(re|0)|(Ne&se|0)==(Ee|0))){Ie=Ee,_e=31;break e}if(Ne=fe+8|0,(Oi[Ne>>1]|0)==X<<16>>16&&(Oi[Ne+2>>1]|0)==$<<16>>16&&(Oi[fe+12>>1]|0)==J<<16>>16&&(Oi[Ne+6>>1]|0)==K<<16>>16)break e;if(fe=e[fe>>2]|0,!fe){Ie=Ee,_e=31;break e}}else Ce=me;for(;;){if(fe=e[Ce+4>>2]|0,(fe|0)!=(re|0)&&(fe>>>0<F>>>0?We=fe:We=(fe>>>0)%(F>>>0)|0,(We|0)!=(Ee|0))){Ie=Ee,_e=31;break e}if(fe=Ce+8|0,(Oi[fe>>1]|0)==X<<16>>16&&(Oi[fe+2>>1]|0)==$<<16>>16&&(Oi[Ce+12>>1]|0)==J<<16>>16&&(Oi[fe+6>>1]|0)==K<<16>>16)break e;if(Ce=e[Ce>>2]|0,!Ce){Ie=Ee,_e=31;break}}}else Ie=Ee,_e=31;while(0);if((_e|0)==31){_e=0,K=Dt(20)|0,J=K+8|0,$=J,Oi[$>>1]=V,Oi[$+2>>1]=V>>>16,$=J+4|0,Oi[$>>1]=U,Oi[$+2>>1]=U>>>16,e[K+16>>2]=N,e[K+4>>2]=re,e[K>>2]=0,at=qt(((e[b>>2]|0)+1|0)>>>0),Ke=qt(F>>>0),Ve=qt(br[d>>2]);do if(j|qt(Ve*Ke)<at){if($=F<<1|(F>>>0<3|(F+-1&F|0)!=0)&1,J=~~qt(yr(qt(at/Ve)))>>>0,JD(f,$>>>0<J>>>0?J:$),$=e[C>>2]|0,J=$+-1|0,!(J&$)){Ue=$,st=J&re;break}re>>>0<$>>>0?(Ue=$,st=re):(Ue=$,st=(re>>>0)%($>>>0)|0)}else Ue=F,st=Ie;while(0);F=(e[f>>2]|0)+(st<<2)|0,re=e[F>>2]|0,re?(e[K>>2]=e[re>>2],it=re,_e=44):(e[K>>2]=e[M>>2],e[M>>2]=K,e[F>>2]=M,F=e[K>>2]|0,F|0&&(j=e[F+4>>2]|0,F=Ue+-1|0,F&Ue?j>>>0<Ue>>>0?Qe=j:Qe=(j>>>0)%(Ue>>>0)|0:Qe=j&F,it=(e[f>>2]|0)+(Qe<<2)|0,_e=44)),(_e|0)==44&&(_e=0,e[it>>2]=K),e[b>>2]=(e[b>>2]|0)+1}re=I,F=e[re>>2]|0,j=zi(F|0,e[re+4>>2]|0,N|0,0)|0,Fr((e[e[D>>2]>>2]|0)+j|0,h|0,F|0)|0,F=e[g>>2]|0,e[F+(L<<2)>>2]=N,ze=N+1|0,Ge=F}if(L=L+1|0,ke=e[m>>2]|0,L>>>0>=ke>>>0)break;N=ze}if((ze|0)==(ke|0))ut=Ge;else{if(N=r+84|0,Z[N>>0]|0)if(Z[N>>0]=0,N=r+68|0,Ge=r+72|0,I=e[Ge>>2]|0,h=e[N>>2]|0,D=I-h>>2,L=h,h=I,ke>>>0<=D>>>0?(ke>>>0<D>>>0&&(I=L+(ke<<2)|0,(I|0)!=(h|0))&&(e[Ge>>2]=h+(~((h+-4-I|0)>>>2)<<2)),ot=ke):(z0(N,ke-D|0,1204),ot=e[m>>2]|0),D=e[g>>2]|0,!ot)et=D;else{g=e[r+68>>2]|0,r=0;do e[g+(r<<2)>>2]=e[D+(r<<2)>>2],r=r+1|0;while(r>>>0<ot>>>0);et=D}else if(L=e[r+72>>2]|0,h=e[r+68>>2]|0,D=h,(L|0)==(h|0))et=Ge;else{I=L-h>>2,h=0;do L=D+(h<<2)|0,e[L>>2]=e[Ge+(e[L>>2]<<2)>>2],h=h+1|0;while(h>>>0<I>>>0);et=Ge}e[m>>2]=ze,ut=et}ut&&(et=e[v>>2]|0,(et|0)!=(ut|0)&&(e[v>>2]=et+(~((et+-4-ut|0)>>>2)<<2)),ve(ut)),Rt=ze}else Rt=0;if(ze=e[f+8>>2]|0,ze|0){ut=ze;do ze=ut,ut=e[ut>>2]|0,ve(ze);while((ut|0)!=0)}return ut=e[f>>2]|0,e[f>>2]=0,ut?(ve(ut),q=a,Rt|0):(q=a,Rt|0)}function ik(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0;if(o=q,q=q+16|0,a=o+8|0,f=o,h=o+4|0,c=r+16|0,g=e[c>>2]|0,d=r+20|0,m=e[d>>2]|0,(m|0)==(g|0)?b=g:(v=m+(~((m+-4-g|0)>>>2)<<2)|0,e[d>>2]=v,b=v),v=r+24|0,(b|0)==(e[v>>2]|0)?(pr(c,n),x=e[c>>2]|0,C=e[d>>2]|0):(e[b>>2]=e[n>>2],m=b+4|0,e[d>>2]=m,x=g,C=m),m=e[r+8>>2]|0,g=(e[m+100>>2]|0)-(e[m+96>>2]|0)|0,m=(g|0)/12|0,(x|0)==(C|0))return q=o,1;x=r+28|0,b=(g|0)>0,g=r+164|0,S=r+12|0,M=r+76|0,I=r+80|0,D=r+72|0,L=r+152|0,N=r+84|0,X=r+272|0,V=r+276|0,Q=r+268|0,U=r+168|0,j=r+140|0,$=r+120|0,J=C;do{C=e[J+-4>>2]|0,e[n>>2]=C;e:do if((C|0)!=-1&&(F=(C>>>0)/3|0,K=e[x>>2]|0,(e[K+(F>>>5<<2)>>2]&1<<(F&31)|0)==0)){if(b){F=0,re=K;t:for(;;){K=F+1|0,e[g>>2]=(e[g>>2]|0)+1,se=e[n>>2]|0,fe=(se|0)==-1?-1:(se>>>0)/3|0,se=re+(fe>>>5<<2)|0,e[se>>2]=1<<(fe&31)|e[se>>2],se=e[M>>2]|0,(se|0)==(e[I>>2]|0)?pr(D,n):(e[se>>2]=e[n>>2],e[M>>2]=se+4),se=e[n>>2]|0,(se|0)==-1?Ee=-1:Ee=e[(e[e[S>>2]>>2]|0)+(se<<2)>>2]|0,Ne=(e[(e[L>>2]|0)+(Ee<<2)>>2]|0)!=-1,me=(e[N>>2]|0)+(Ee>>>5<<2)|0,Ie=1<<(Ee&31),_e=e[me>>2]|0;do if(_e&Ie)Ce=se,We=30;else{if(e[me>>2]=_e|Ie,Ne){Ce=e[n>>2]|0,We=30;break}e[a>>2]=0,at=e[X>>2]|0,(at|0)==(e[V>>2]|0)?pr(Q,a):(e[at>>2]=0,e[X>>2]=at+4),at=e[n>>2]|0,Ke=at+1|0,(at|0)!=-1&&(Ve=((Ke>>>0)%3|0|0)==0?at+-2|0:Ke,(Ve|0)!=-1)?Ue=e[(e[(e[S>>2]|0)+12>>2]|0)+(Ve<<2)>>2]|0:Ue=-1,e[n>>2]=Ue}while(0);if((We|0)==30){if(We=0,se=Ce+1|0,(Ce|0)==-1){We=35;break}if(Ie=((se>>>0)%3|0|0)==0?Ce+-2|0:se,(Ie|0)==-1?st=-1:st=e[(e[(e[S>>2]|0)+12>>2]|0)+(Ie<<2)>>2]|0,e[f>>2]=st,Ie=(((Ce>>>0)%3|0|0)==0?2:-1)+Ce|0,(Ie|0)==-1?Qe=-1:Qe=e[(e[(e[S>>2]|0)+12>>2]|0)+(Ie<<2)>>2]|0,Ie=(st|0)==-1,_e=Ie?-1:(st>>>0)/3|0,it=(Qe|0)==-1,ze=it?-1:(Qe>>>0)/3|0,me=((se>>>0)%3|0|0)==0?Ce+-2|0:se,(me|0)!=-1&&(se=e[(e[S>>2]|0)+12>>2]|0,Ve=e[se+(me<<2)>>2]|0,(Ve|0)!=-1)&&(me=(Ve>>>0)/3|0,Ve=e[x>>2]|0,(e[Ve+(me>>>5<<2)>>2]&1<<(me&31)|0)==0)){me=(((Ce>>>0)%3|0|0)==0?2:-1)+Ce|0;do if((me|0)!=-1){if(Ke=e[se+(me<<2)>>2]|0,(Ke|0)==-1)break;if(at=(Ke>>>0)/3|0,!(e[Ve+(at>>>5<<2)>>2]&1<<(at&31))){We=63;break t}}while(0);it||Lc(r,e[g>>2]|0,fe,0,ze),e[a>>2]=3,Ve=e[X>>2]|0,(Ve|0)==(e[V>>2]|0)?pr(Q,a):(e[Ve>>2]=3,e[X>>2]=Ve+4),Ge=e[f>>2]|0}else{if(Ie)ke=Ce;else if(Lc(r,e[g>>2]|0,fe,1,_e),Ve=e[n>>2]|0,(Ve|0)==-1){We=44;break}else ke=Ve;if(Ve=(((ke>>>0)%3|0|0)==0?2:-1)+ke|0,(Ve|0)==-1){We=44;break}if(me=e[(e[(e[S>>2]|0)+12>>2]|0)+(Ve<<2)>>2]|0,(me|0)==-1){We=44;break}if(Ve=(me>>>0)/3|0,e[(e[x>>2]|0)+(Ve>>>5<<2)>>2]&1<<(Ve&31)|0){We=44;break}e[a>>2]=5,Ve=e[X>>2]|0,(Ve|0)==(e[V>>2]|0)?pr(Q,a):(e[Ve>>2]=5,e[X>>2]=Ve+4),Ge=Qe}e[n>>2]=Ge}if((K|0)>=(m|0))break e;F=K,re=e[x>>2]|0}do if((We|0)==35)We=0,e[f>>2]=-1,We=46;else if((We|0)==44)We=0,it||Lc(r,e[g>>2]|0,fe,0,ze),We=46;else if((We|0)==63)if(We=0,e[a>>2]=1,re=e[X>>2]|0,(re|0)==(e[V>>2]|0)?pr(Q,a):(e[re>>2]=1,e[X>>2]=re+4),e[U>>2]=(e[U>>2]|0)+1,Ne&&(re=e[(e[L>>2]|0)+(Ee<<2)>>2]|0,(1<<(re&31)&e[(e[j>>2]|0)+(re>>>5<<2)>>2]|0)==0)&&(e[h>>2]=e[n>>2],e[a>>2]=e[h>>2],sd(r,a,0)|0),re=e[g>>2]|0,e[a>>2]=fe,F=Fu($,a)|0,e[F>>2]=re,re=e[d>>2]|0,e[re+-4>>2]=Qe,(re|0)==(e[v>>2]|0)){pr(c,f);break}else{e[re>>2]=e[f>>2],e[d>>2]=re+4;break}while(0);(We|0)==46&&(We=0,e[a>>2]=7,re=e[X>>2]|0,(re|0)==(e[V>>2]|0)?pr(Q,a):(e[re>>2]=7,e[X>>2]=re+4),e[d>>2]=(e[d>>2]|0)+-4)}}else We=11;while(0);(We|0)==11&&(We=0,e[d>>2]=J+-4),J=e[d>>2]|0}while((e[c>>2]|0)!=(J|0));return q=o,1}function rk(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=Ar,Ve=Ar,Ue=Ar,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0;if(a=q,q=q+48|0,f=a+20|0,h=a+16|0,c=a+12|0,g=a,d=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,br[d>>2]=qt(1),m=r+80|0,b=e[m>>2]|0,e[g>>2]=0,v=g+4|0,e[v>>2]=0,e[g+8>>2]=0,b){for(b>>>0>1073741823&&Je(),x=b<<2,C=Dt(x)|0,e[g>>2]=C,S=C+(b<<2)|0,e[g+8>>2]=S,Mi(C|0,0,x|0)|0,e[v>>2]=S,S=e[o>>2]|0,o=n+48|0,x=n+40|0,C=f+4|0,b=f+12|0,M=f+8|0,I=r+40|0,D=r+64|0,L=0,N=0;;){if(X=o,V=e[X>>2]|0,Q=e[X+4>>2]|0,X=x,U=zi(e[X>>2]|0,e[X+4>>2]|0,S+L|0,0)|0,X=Wt(U|0,Xe|0,V|0,Q|0)|0,Q=(e[e[n>>2]>>2]|0)+X|0,X=yi[Q>>0]|yi[Q+1>>0]<<8|yi[Q+2>>0]<<16|yi[Q+3>>0]<<24,e[h>>2]=X,e[c>>2]=X,X=fd(f,c)|0,X)F=e[g>>2]|0,e[F+(L<<2)>>2]=e[X+12>>2],Ge=N,ke=F;else{Q=e[c>>2]|0,V=Q&255,U=Q>>>8,j=U&255,$=Q>>>16,J=$&255,F=Q>>>24,K=F&255,re=U&255,U=$&255,$=(((Q&255^318)+239^re)+239^U)+239^F,F=e[C>>2]|0,se=(F|0)==0;e:do if(se)_e=0,Ce=31;else if(fe=F+-1|0,Ee=(fe&F|0)==0,Ee?Ne=$&fe:$>>>0<F>>>0?Ne=$:Ne=($>>>0)%(F>>>0)|0,me=e[(e[f>>2]|0)+(Ne<<2)>>2]|0,(me|0)!=0&&(Ie=e[me>>2]|0,(Ie|0)!=0)){if(Ee)for(Ee=Ie;;){if(me=e[Ee+4>>2]|0,!((me|0)==($|0)|(me&fe|0)==(Ne|0))){_e=Ne,Ce=31;break e}if(me=Ee+8|0,(Z[me>>0]|0)==V<<24>>24&&(Z[me+1>>0]|0)==j<<24>>24&&(Z[me+2>>0]|0)==J<<24>>24&&(Z[me+3>>0]|0)==K<<24>>24)break e;if(Ee=e[Ee>>2]|0,!Ee){_e=Ne,Ce=31;break e}}else We=Ie;for(;;){if(Ee=e[We+4>>2]|0,(Ee|0)!=($|0)&&(Ee>>>0<F>>>0?at=Ee:at=(Ee>>>0)%(F>>>0)|0,(at|0)!=(Ne|0))){_e=Ne,Ce=31;break e}if(Ee=We+8|0,(Z[Ee>>0]|0)==V<<24>>24&&(Z[Ee+1>>0]|0)==j<<24>>24&&(Z[Ee+2>>0]|0)==J<<24>>24&&(Z[Ee+3>>0]|0)==K<<24>>24)break e;if(We=e[We>>2]|0,!We){_e=Ne,Ce=31;break}}}else _e=Ne,Ce=31;while(0);if((Ce|0)==31){Ce=0,K=Dt(16)|0,J=K+8|0,j=Q&-16776961|U<<16|re<<8,Z[J>>0]=j,Z[J+1>>0]=j>>8,Z[J+2>>0]=j>>16,Z[J+3>>0]=j>>24,e[K+12>>2]=N,e[K+4>>2]=$,e[K>>2]=0,Ke=qt(((e[b>>2]|0)+1|0)>>>0),Ve=qt(F>>>0),Ue=qt(br[d>>2]);do if(se|qt(Ue*Ve)<Ke){if(j=F<<1|(F>>>0<3|(F+-1&F|0)!=0)&1,J=~~qt(yr(qt(Ke/Ue)))>>>0,eP(f,j>>>0<J>>>0?J:j),j=e[C>>2]|0,J=j+-1|0,!(J&j)){st=j,Qe=J&$;break}$>>>0<j>>>0?(st=j,Qe=$):(st=j,Qe=($>>>0)%(j>>>0)|0)}else st=F,Qe=_e;while(0);F=(e[f>>2]|0)+(Qe<<2)|0,$=e[F>>2]|0,$?(e[K>>2]=e[$>>2],ze=$,Ce=44):(e[K>>2]=e[M>>2],e[M>>2]=K,e[F>>2]=M,F=e[K>>2]|0,F|0&&(se=e[F+4>>2]|0,F=st+-1|0,F&st?se>>>0<st>>>0?it=se:it=(se>>>0)%(st>>>0)|0:it=se&F,ze=(e[f>>2]|0)+(it<<2)|0,Ce=44)),(Ce|0)==44&&(Ce=0,e[ze>>2]=K),e[b>>2]=(e[b>>2]|0)+1}$=I,F=e[$>>2]|0,se=zi(F|0,e[$+4>>2]|0,N|0,0)|0,Fr((e[e[D>>2]>>2]|0)+se|0,h|0,F|0)|0,F=e[g>>2]|0,e[F+(L<<2)>>2]=N,Ge=N+1|0,ke=F}if(L=L+1|0,ut=e[m>>2]|0,L>>>0>=ut>>>0)break;N=Ge}if((Ge|0)==(ut|0))et=ke;else{if(N=r+84|0,Z[N>>0]|0)if(Z[N>>0]=0,N=r+68|0,ke=r+72|0,I=e[ke>>2]|0,h=e[N>>2]|0,D=I-h>>2,L=h,h=I,ut>>>0<=D>>>0?(ut>>>0<D>>>0&&(I=L+(ut<<2)|0,(I|0)!=(h|0))&&(e[ke>>2]=h+(~((h+-4-I|0)>>>2)<<2)),Rt=ut):(z0(N,ut-D|0,1204),Rt=e[m>>2]|0),D=e[g>>2]|0,!Rt)ot=D;else{g=e[r+68>>2]|0,r=0;do e[g+(r<<2)>>2]=e[D+(r<<2)>>2],r=r+1|0;while(r>>>0<Rt>>>0);ot=D}else if(L=e[r+72>>2]|0,h=e[r+68>>2]|0,D=h,(L|0)==(h|0))ot=ke;else{I=L-h>>2,h=0;do L=D+(h<<2)|0,e[L>>2]=e[ke+(e[L>>2]<<2)>>2],h=h+1|0;while(h>>>0<I>>>0);ot=ke}e[m>>2]=Ge,et=ot}et&&(ot=e[v>>2]|0,(ot|0)!=(et|0)&&(e[v>>2]=ot+(~((ot+-4-et|0)>>>2)<<2)),ve(et)),Nt=Ge}else Nt=0;if(Ge=e[f+8>>2]|0,Ge|0){et=Ge;do Ge=et,et=e[et>>2]|0,ve(Ge);while((et|0)!=0)}return et=e[f>>2]|0,e[f>>2]=0,et?(ve(et),q=a,Nt|0):(q=a,Nt|0)}function Ax(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=Ar,Ue=Ar,st=Ar,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0;if(a=q,q=q+80|0,f=a+48|0,h=a+32|0,c=a+16|0,g=a,d=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,br[d>>2]=qt(1),m=r+80|0,b=e[m>>2]|0,e[g>>2]=0,v=g+4|0,e[v>>2]=0,e[g+8>>2]=0,b){for(b>>>0>1073741823&&Je(),x=b<<2,C=Dt(x)|0,e[g>>2]=C,S=C+(b<<2)|0,e[g+8>>2]=S,Mi(C|0,0,x|0)|0,e[v>>2]=S,S=e[o>>2]|0,o=n+48|0,x=n+40|0,C=c+4|0,b=c+8|0,M=c+12|0,I=f+4|0,D=f+12|0,L=f+8|0,N=r+40|0,X=r+64|0,V=0,Q=0;;){U=o,j=e[U>>2]|0,$=e[U+4>>2]|0,U=x,J=zi(e[U>>2]|0,e[U+4>>2]|0,S+Q|0,0)|0,U=Wt(J|0,Xe|0,j|0,$|0)|0,$=(e[e[n>>2]>>2]|0)+U|0,U=h,j=$,J=U+16|0;do Z[U>>0]=Z[j>>0]|0,U=U+1|0,j=j+1|0;while((U|0)<(J|0));if(W0(c|0,$|0,16)|0,j=I6(f,c)|0,j)se=e[g>>2]|0,e[se+(Q<<2)>>2]=e[j+24>>2],ke=V,ut=se;else{U=e[c>>2]|0,J=e[C>>2]|0,F=e[b>>2]|0,K=e[M>>2]|0,re=(((U^318)+239^J)+239^F)+239^K,se=e[I>>2]|0,fe=(se|0)==0;e:do if(fe)Ce=0,We=31;else if(Ee=se+-1|0,Ne=(Ee&se|0)==0,Ne?me=re&Ee:re>>>0<se>>>0?me=re:me=(re>>>0)%(se>>>0)|0,Ie=e[(e[f>>2]|0)+(me<<2)>>2]|0,(Ie|0)!=0&&(_e=e[Ie>>2]|0,(_e|0)!=0)){if(Ne)for(Ne=_e;;){if(Ie=e[Ne+4>>2]|0,!((Ie|0)==(re|0)|(Ie&Ee|0)==(me|0))){Ce=me,We=31;break e}if((e[Ne+8>>2]|0)==(U|0)&&(e[Ne+12>>2]|0)==(J|0)&&(e[Ne+16>>2]|0)==(F|0)&&(e[Ne+20>>2]|0)==(K|0))break e;if(Ne=e[Ne>>2]|0,!Ne){Ce=me,We=31;break e}}else at=_e;for(;;){if(Ne=e[at+4>>2]|0,(Ne|0)!=(re|0)&&(Ne>>>0<se>>>0?Ke=Ne:Ke=(Ne>>>0)%(se>>>0)|0,(Ke|0)!=(me|0))){Ce=me,We=31;break e}if((e[at+8>>2]|0)==(U|0)&&(e[at+12>>2]|0)==(J|0)&&(e[at+16>>2]|0)==(F|0)&&(e[at+20>>2]|0)==(K|0))break e;if(at=e[at>>2]|0,!at){Ce=me,We=31;break}}}else Ce=me,We=31;while(0);if((We|0)==31){We=0,$=Dt(28)|0,e[$+8>>2]=U,e[$+12>>2]=J,e[$+16>>2]=F,e[$+20>>2]=K,e[$+24>>2]=V,e[$+4>>2]=re,e[$>>2]=0,Ve=qt(((e[D>>2]|0)+1|0)>>>0),Ue=qt(se>>>0),st=qt(br[d>>2]);do if(fe|qt(st*Ue)<Ve){if(_e=se<<1|(se>>>0<3|(se+-1&se|0)!=0)&1,Ne=~~qt(yr(qt(Ve/st)))>>>0,YD(f,_e>>>0<Ne>>>0?Ne:_e),_e=e[I>>2]|0,Ne=_e+-1|0,!(Ne&_e)){Qe=_e,it=Ne&re;break}re>>>0<_e>>>0?(Qe=_e,it=re):(Qe=_e,it=(re>>>0)%(_e>>>0)|0)}else Qe=se,it=Ce;while(0);se=(e[f>>2]|0)+(it<<2)|0,re=e[se>>2]|0,re?(e[$>>2]=e[re>>2],Ge=re,We=44):(e[$>>2]=e[L>>2],e[L>>2]=$,e[se>>2]=L,se=e[$>>2]|0,se|0&&(fe=e[se+4>>2]|0,se=Qe+-1|0,se&Qe?fe>>>0<Qe>>>0?ze=fe:ze=(fe>>>0)%(Qe>>>0)|0:ze=fe&se,Ge=(e[f>>2]|0)+(ze<<2)|0,We=44)),(We|0)==44&&(We=0,e[Ge>>2]=$),e[D>>2]=(e[D>>2]|0)+1}re=N,se=e[re>>2]|0,fe=zi(se|0,e[re+4>>2]|0,V|0,0)|0,Fr((e[e[X>>2]>>2]|0)+fe|0,h|0,se|0)|0,se=e[g>>2]|0,e[se+(Q<<2)>>2]=V,ke=V+1|0,ut=se}if(Q=Q+1|0,et=e[m>>2]|0,Q>>>0>=et>>>0)break;V=ke}if((ke|0)==(et|0))ot=ut;else{if(V=r+84|0,Z[V>>0]|0)if(Z[V>>0]=0,V=r+68|0,ut=r+72|0,N=e[ut>>2]|0,h=e[V>>2]|0,X=N-h>>2,Q=h,h=N,et>>>0<=X>>>0?(et>>>0<X>>>0&&(N=Q+(et<<2)|0,(N|0)!=(h|0))&&(e[ut>>2]=h+(~((h+-4-N|0)>>>2)<<2)),Nt=et):(z0(V,et-X|0,1204),Nt=e[m>>2]|0),X=e[g>>2]|0,!Nt)Rt=X;else{g=e[r+68>>2]|0,r=0;do e[g+(r<<2)>>2]=e[X+(r<<2)>>2],r=r+1|0;while(r>>>0<Nt>>>0);Rt=X}else if(Q=e[r+72>>2]|0,h=e[r+68>>2]|0,X=h,(Q|0)==(h|0))Rt=ut;else{N=Q-h>>2,h=0;do Q=X+(h<<2)|0,e[Q>>2]=e[ut+(e[Q>>2]<<2)>>2],h=h+1|0;while(h>>>0<N>>>0);Rt=ut}e[m>>2]=ke,ot=Rt}ot&&(Rt=e[v>>2]|0,(Rt|0)!=(ot|0)&&(e[v>>2]=Rt+(~((Rt+-4-ot|0)>>>2)<<2)),ve(ot)),At=ke}else At=0;if(ke=e[f+8>>2]|0,ke|0){ot=ke;do ke=ot,ot=e[ot>>2]|0,ve(ke);while((ot|0)!=0)}return ot=e[f>>2]|0,e[f>>2]=0,ot?(ve(ot),q=a,At|0):(q=a,At|0)}function nk(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=Ar,at=Ar,Ke=Ar,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0;if(a=q,q=q+48|0,f=a+12|0,h=a+38|0,c=a+32|0,g=a,d=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,br[d>>2]=qt(1),m=r+80|0,b=e[m>>2]|0,e[g>>2]=0,v=g+4|0,e[v>>2]=0,e[g+8>>2]=0,b){for(b>>>0>1073741823&&Je(),x=b<<2,C=Dt(x)|0,e[g>>2]=C,S=C+(b<<2)|0,e[g+8>>2]=S,Mi(C|0,0,x|0)|0,e[v>>2]=S,S=e[o>>2]|0,o=n+48|0,x=n+40|0,C=c+2|0,b=c+4|0,M=f+4|0,I=f+12|0,D=f+8|0,L=r+40|0,N=r+64|0,X=0,V=0;;){if(Q=o,U=e[Q>>2]|0,j=e[Q+4>>2]|0,Q=x,$=zi(e[Q>>2]|0,e[Q+4>>2]|0,S+V|0,0)|0,Q=Wt($|0,Xe|0,U|0,j|0)|0,j=(e[e[n>>2]>>2]|0)+Q|0,Z[h>>0]=Z[j>>0]|0,Z[h+1>>0]=Z[j+1>>0]|0,Z[h+2>>0]=Z[j+2>>0]|0,Z[h+3>>0]=Z[j+3>>0]|0,Z[h+4>>0]=Z[j+4>>0]|0,Z[h+5>>0]=Z[j+5>>0]|0,W0(c|0,j|0,6)|0,j=W(f,c)|0,j)F=e[g>>2]|0,e[F+(V<<2)>>2]=e[j+16>>2],it=X,ze=F;else{Q=Oi[c>>1]|0,U=Oi[C>>1]|0,$=Oi[b>>1]|0,J=(((Q^318)&65535)+239^U&65535)+239^$&65535,F=e[M>>2]|0,K=(F|0)==0;e:do if(K)me=0,Ie=29;else if(re=F+-1|0,se=(re&F|0)==0,se?fe=J&re:J>>>0<F>>>0?fe=J:fe=(J>>>0)%(F>>>0)|0,Ee=e[(e[f>>2]|0)+(fe<<2)>>2]|0,(Ee|0)!=0&&(Ne=e[Ee>>2]|0,(Ne|0)!=0)){if(se)for(se=Ne;;){if(Ee=e[se+4>>2]|0,!((Ee|0)==(J|0)|(Ee&re|0)==(fe|0))){me=fe,Ie=29;break e}if(Ee=se+8|0,(Oi[Ee>>1]|0)==Q<<16>>16&&(Oi[Ee+2>>1]|0)==U<<16>>16&&(Oi[se+12>>1]|0)==$<<16>>16)break e;if(se=e[se>>2]|0,!se){me=fe,Ie=29;break e}}else _e=Ne;for(;;){if(se=e[_e+4>>2]|0,(se|0)!=(J|0)&&(se>>>0<F>>>0?Ce=se:Ce=(se>>>0)%(F>>>0)|0,(Ce|0)!=(fe|0))){me=fe,Ie=29;break e}if(se=_e+8|0,(Oi[se>>1]|0)==Q<<16>>16&&(Oi[se+2>>1]|0)==U<<16>>16&&(Oi[_e+12>>1]|0)==$<<16>>16)break e;if(_e=e[_e>>2]|0,!_e){me=fe,Ie=29;break}}}else me=fe,Ie=29;while(0);if((Ie|0)==29){Ie=0,Ne=Dt(20)|0,Oi[Ne+8>>1]=Q,Oi[Ne+10>>1]=U,Oi[Ne+12>>1]=$,e[Ne+16>>2]=X,e[Ne+4>>2]=J,e[Ne>>2]=0,We=qt(((e[I>>2]|0)+1|0)>>>0),at=qt(F>>>0),Ke=qt(br[d>>2]);do if(K|qt(Ke*at)<We){if(se=F<<1|(F>>>0<3|(F+-1&F|0)!=0)&1,re=~~qt(yr(qt(We/Ke)))>>>0,XD(f,se>>>0<re>>>0?re:se),se=e[M>>2]|0,re=se+-1|0,!(re&se)){Ve=se,Ue=re&J;break}J>>>0<se>>>0?(Ve=se,Ue=J):(Ve=se,Ue=(J>>>0)%(se>>>0)|0)}else Ve=F,Ue=me;while(0);F=(e[f>>2]|0)+(Ue<<2)|0,J=e[F>>2]|0,J?(e[Ne>>2]=e[J>>2],Qe=J,Ie=42):(e[Ne>>2]=e[D>>2],e[D>>2]=Ne,e[F>>2]=D,F=e[Ne>>2]|0,F|0&&(K=e[F+4>>2]|0,F=Ve+-1|0,F&Ve?K>>>0<Ve>>>0?st=K:st=(K>>>0)%(Ve>>>0)|0:st=K&F,Qe=(e[f>>2]|0)+(st<<2)|0,Ie=42)),(Ie|0)==42&&(Ie=0,e[Qe>>2]=Ne),e[I>>2]=(e[I>>2]|0)+1}J=L,F=e[J>>2]|0,K=zi(F|0,e[J+4>>2]|0,X|0,0)|0,Fr((e[e[N>>2]>>2]|0)+K|0,h|0,F|0)|0,F=e[g>>2]|0,e[F+(V<<2)>>2]=X,it=X+1|0,ze=F}if(V=V+1|0,Ge=e[m>>2]|0,V>>>0>=Ge>>>0)break;X=it}if((it|0)==(Ge|0))ke=ze;else{if(X=r+84|0,Z[X>>0]|0)if(Z[X>>0]=0,X=r+68|0,ze=r+72|0,L=e[ze>>2]|0,h=e[X>>2]|0,N=L-h>>2,V=h,h=L,Ge>>>0<=N>>>0?(Ge>>>0<N>>>0&&(L=V+(Ge<<2)|0,(L|0)!=(h|0))&&(e[ze>>2]=h+(~((h+-4-L|0)>>>2)<<2)),et=Ge):(z0(X,Ge-N|0,1204),et=e[m>>2]|0),N=e[g>>2]|0,!et)ut=N;else{g=e[r+68>>2]|0,r=0;do e[g+(r<<2)>>2]=e[N+(r<<2)>>2],r=r+1|0;while(r>>>0<et>>>0);ut=N}else if(V=e[r+72>>2]|0,h=e[r+68>>2]|0,N=h,(V|0)==(h|0))ut=ze;else{L=V-h>>2,h=0;do V=N+(h<<2)|0,e[V>>2]=e[ze+(e[V>>2]<<2)>>2],h=h+1|0;while(h>>>0<L>>>0);ut=ze}e[m>>2]=it,ke=ut}ke&&(ut=e[v>>2]|0,(ut|0)!=(ke|0)&&(e[v>>2]=ut+(~((ut+-4-ke|0)>>>2)<<2)),ve(ke)),ot=it}else ot=0;if(it=e[f+8>>2]|0,it|0){ke=it;do it=ke,ke=e[ke>>2]|0,ve(it);while((ke|0)!=0)}return ke=e[f>>2]|0,e[f>>2]=0,ke?(ve(ke),q=a,ot|0):(q=a,ot|0)}function mL(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0;if(o=q,q=q+80|0,a=o+72|0,f=o+64|0,h=o,c=o+68|0,g=o+60|0,d=r+352|0,Z[d>>0]|0&&(m=kn[e[(e[r>>2]|0)+40>>2]&127](r)|0,((e[m+12>>2]|0)-(e[m+8>>2]|0)|0)>0))return m=(kn[e[(e[r>>2]|0)+40>>2]&127](r)|0)+8|0,b=e[e[m>>2]>>2]|0,e[a>>2]=n,m=b+4|0,v=b+8|0,x=e[v>>2]|0,(x|0)==(e[b+12>>2]|0)?pr(m,a):(e[x>>2]=n,e[v>>2]=x+4),x=e[a>>2]|0,C=b+16|0,S=b+20|0,b=e[S>>2]|0,M=e[C>>2]|0,I=b-M>>2,D=M,(x|0)<(I|0)?(L=D,N=x):(M=x+1|0,e[f>>2]=-1,X=b,M>>>0<=I>>>0?M>>>0<I>>>0&&(b=D+(M<<2)|0,(b|0)!=(X|0))?(e[S>>2]=X+(~((X+-4-b|0)>>>2)<<2),V=x,Q=D):(V=x,Q=D):(z0(C,M-I|0,f),V=e[a>>2]|0,Q=e[C>>2]|0),L=Q,N=V),e[L+(N<<2)>>2]=((e[v>>2]|0)-(e[m>>2]|0)>>2)+-1,U=1,q=o,U|0;m=(kn[e[(e[r>>2]|0)+40>>2]&127](r)|0)+56|0,v=e[(e[(e[m>>2]|0)+84>>2]|0)+(n<<2)>>2]|0,m=(kn[e[(e[r>>2]|0)+40>>2]&127](r)|0)+4|0,N=e[(e[(e[m>>2]|0)+8>>2]|0)+(n<<2)>>2]|0,e[f>>2]=-1,m=r+172|0,L=e[r+176>>2]|0,V=e[m>>2]|0,Q=V;e:do if((L|0)==(V|0))j=-1;else{for(C=(L-V|0)/136|0,I=0;(e[Q+(I*136|0)>>2]|0)!=(n|0);)if(M=I+1|0,M>>>0<C>>>0)I=M;else{j=-1;break e}e[f>>2]=I,j=I}while(0);e:do if(Z[d>>0]|0)fe=24;else{V=(e[N+56>>2]|0)==0;do if(!((v|0)==0|V)){if((v|0)==1&&Z[Q+(j*136|0)+28>>0]|0)break;L=Q+(j*136|0)+104|0,C=Q+(j*136|0)+4|0,M=(e[Q+(j*136|0)+60>>2]|0)-(e[Q+(j*136|0)+56>>2]|0)>>2,e[a>>2]=-1,pe(Q+(j*136|0)+116|0,M,a),M=Dt(80)|0,D=e[r+8>>2]|0,e[M+4>>2]=0,e[M>>2]=3164,x=M+8|0,b=M+12|0,X=b+44|0;do e[b>>2]=0,b=b+4|0;while((b|0)<(X|0));e[x>>2]=3188,S=M+56|0,e[S>>2]=0,e[M+60>>2]=0,e[M+64>>2]=0,e[M+68>>2]=D,e[M+72>>2]=L,$=M+76|0,e[$>>2]=0,J=h+4|0,b=J+4|0,X=b+40|0;do e[b>>2]=0,b=b+4|0;while((b|0)<(X|0));e[h>>2]=3188,b=h+48|0,e[b>>2]=0,X=h+52|0,e[X>>2]=0,e[h+56>>2]=0,e[J>>2]=C,F=e[Q+(j*136|0)+68>>2]|0,K=((e[F+4>>2]|0)-(e[F>>2]|0)>>2>>>0)/3|0,Z[a>>0]=0,po(h+24|0,K,a),K=e[J>>2]|0,F=(e[K+56>>2]|0)-(e[K+52>>2]|0)>>2,Z[a>>0]=0,po(h+36|0,F,a),e[h+8>>2]=C,e[h+12>>2]=L,e[h+16>>2]=D,e[h+20>>2]=M,e[$>>2]=r+72,ld(x,h)|0,Zt(S,e[b>>2]|0,e[X>>2]|0),F=M,e[h>>2]=3188,K=e[b>>2]|0,K|0&&(b=e[X>>2]|0,(b|0)!=(K|0)&&(e[X>>2]=b+(~((b+-4-K|0)>>>2)<<2)),ve(K)),e[h>>2]=3208,K=e[h+36>>2]|0,K|0&&ve(K),K=e[h+24>>2]|0,K|0&&ve(K),re=0,se=F,fe=42;break e}while(0);V?fe=24:(I=e[r+12>>2]|0,F=(e[I+28>>2]|0)-(e[I+24>>2]|0)>>2,e[a>>2]=-1,pe(Q+(j*136|0)+116|0,F,a),Z[(e[m>>2]|0)+((e[f>>2]|0)*136|0)+100>>0]=0,Ee=Q+(j*136|0)+104|0,fe=26)}while(0);if((fe|0)==24&&(Ee=r+40|0,fe=26),(fe|0)==26){j=(kn[e[(e[r>>2]|0)+40>>2]&127](r)|0)+48|0;do if((ol(e[j>>2]|0)|0)==0&&(e[N+56>>2]|0)==0){if(Z[d>>0]|0&&(Q=e[r+8>>2]|0,((e[Q+12>>2]|0)-(e[Q+8>>2]|0)|0)>=5)){fe=31;break}Am(a,r,Ee),Ne=1,me=e[a>>2]|0}else fe=31;while(0);(fe|0)==31&&(um(a,r,Ee),Ne=0,me=e[a>>2]|0),me?(re=Ne,se=me,fe=42):Ie=0}return(fe|0)==42&&(fe=e[f>>2]|0,(fe|0)==-1?_e=r+68|0:_e=(e[m>>2]|0)+(fe*136|0)+132|0,e[_e>>2]=re,re=Dt(76)|0,e[c>>2]=se,wx(re,c,n),n=re,re=e[c>>2]|0,e[c>>2]=0,re|0&&Fn[e[(e[re>>2]|0)+4>>2]&127](re),re=r+188|0,c=e[re>>2]|0,(c|0)==(e[r+192>>2]|0)?pr(r+184|0,f):(e[c>>2]=e[f>>2],e[re>>2]=c+4),c=kn[e[(e[r>>2]|0)+40>>2]&127](r)|0,e[g>>2]=n,r=c+12|0,re=e[r>>2]|0,re>>>0<(e[c+16>>2]|0)>>>0?(e[g>>2]=0,e[re>>2]=n,e[r>>2]=re+4,Ce=g):(wa(c+8|0,g),Ce=g),g=e[Ce>>2]|0,e[Ce>>2]=0,g&&Fn[e[(e[g>>2]|0)+4>>2]&127](g),Ie=1),U=Ie,q=o,U|0}function gL(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0;if(o=q,q=q+80|0,a=o+72|0,f=o+64|0,h=o,c=o+68|0,g=o+60|0,d=r+288|0,Z[d>>0]|0&&(m=kn[e[(e[r>>2]|0)+40>>2]&127](r)|0,((e[m+12>>2]|0)-(e[m+8>>2]|0)|0)>0))return m=(kn[e[(e[r>>2]|0)+40>>2]&127](r)|0)+8|0,b=e[e[m>>2]>>2]|0,e[a>>2]=n,m=b+4|0,v=b+8|0,x=e[v>>2]|0,(x|0)==(e[b+12>>2]|0)?pr(m,a):(e[x>>2]=n,e[v>>2]=x+4),x=e[a>>2]|0,C=b+16|0,S=b+20|0,b=e[S>>2]|0,M=e[C>>2]|0,I=b-M>>2,D=M,(x|0)<(I|0)?(L=D,N=x):(M=x+1|0,e[f>>2]=-1,X=b,M>>>0<=I>>>0?M>>>0<I>>>0&&(b=D+(M<<2)|0,(b|0)!=(X|0))?(e[S>>2]=X+(~((X+-4-b|0)>>>2)<<2),V=x,Q=D):(V=x,Q=D):(z0(C,M-I|0,f),V=e[a>>2]|0,Q=e[C>>2]|0),L=Q,N=V),e[L+(N<<2)>>2]=((e[v>>2]|0)-(e[m>>2]|0)>>2)+-1,U=1,q=o,U|0;m=(kn[e[(e[r>>2]|0)+40>>2]&127](r)|0)+56|0,v=e[(e[(e[m>>2]|0)+84>>2]|0)+(n<<2)>>2]|0,m=(kn[e[(e[r>>2]|0)+40>>2]&127](r)|0)+4|0,N=e[(e[(e[m>>2]|0)+8>>2]|0)+(n<<2)>>2]|0,e[f>>2]=-1,m=r+172|0,L=e[r+176>>2]|0,V=e[m>>2]|0,Q=V;e:do if((L|0)==(V|0))j=-1;else{for(C=(L-V|0)/136|0,I=0;(e[Q+(I*136|0)>>2]|0)!=(n|0);)if(M=I+1|0,M>>>0<C>>>0)I=M;else{j=-1;break e}e[f>>2]=I,j=I}while(0);e:do if(Z[d>>0]|0)fe=24;else{V=(e[N+56>>2]|0)==0;do if(!((v|0)==0|V)){if((v|0)==1&&Z[Q+(j*136|0)+28>>0]|0)break;L=Q+(j*136|0)+104|0,C=Q+(j*136|0)+4|0,M=(e[Q+(j*136|0)+60>>2]|0)-(e[Q+(j*136|0)+56>>2]|0)>>2,e[a>>2]=-1,pe(Q+(j*136|0)+116|0,M,a),M=Dt(80)|0,D=e[r+8>>2]|0,e[M+4>>2]=0,e[M>>2]=3164,x=M+8|0,b=M+12|0,X=b+44|0;do e[b>>2]=0,b=b+4|0;while((b|0)<(X|0));e[x>>2]=3188,S=M+56|0,e[S>>2]=0,e[M+60>>2]=0,e[M+64>>2]=0,e[M+68>>2]=D,e[M+72>>2]=L,$=M+76|0,e[$>>2]=0,J=h+4|0,b=J+4|0,X=b+40|0;do e[b>>2]=0,b=b+4|0;while((b|0)<(X|0));e[h>>2]=3188,b=h+48|0,e[b>>2]=0,X=h+52|0,e[X>>2]=0,e[h+56>>2]=0,e[J>>2]=C,F=e[Q+(j*136|0)+68>>2]|0,K=((e[F+4>>2]|0)-(e[F>>2]|0)>>2>>>0)/3|0,Z[a>>0]=0,po(h+24|0,K,a),K=e[J>>2]|0,F=(e[K+56>>2]|0)-(e[K+52>>2]|0)>>2,Z[a>>0]=0,po(h+36|0,F,a),e[h+8>>2]=C,e[h+12>>2]=L,e[h+16>>2]=D,e[h+20>>2]=M,e[$>>2]=r+72,ld(x,h)|0,Zt(S,e[b>>2]|0,e[X>>2]|0),F=M,e[h>>2]=3188,K=e[b>>2]|0,K|0&&(b=e[X>>2]|0,(b|0)!=(K|0)&&(e[X>>2]=b+(~((b+-4-K|0)>>>2)<<2)),ve(K)),e[h>>2]=3208,K=e[h+36>>2]|0,K|0&&ve(K),K=e[h+24>>2]|0,K|0&&ve(K),re=0,se=F,fe=42;break e}while(0);V?fe=24:(I=e[r+12>>2]|0,F=(e[I+28>>2]|0)-(e[I+24>>2]|0)>>2,e[a>>2]=-1,pe(Q+(j*136|0)+116|0,F,a),Z[(e[m>>2]|0)+((e[f>>2]|0)*136|0)+100>>0]=0,Ee=Q+(j*136|0)+104|0,fe=26)}while(0);if((fe|0)==24&&(Ee=r+40|0,fe=26),(fe|0)==26){j=(kn[e[(e[r>>2]|0)+40>>2]&127](r)|0)+48|0;do if((ol(e[j>>2]|0)|0)==0&&(e[N+56>>2]|0)==0){if(Z[d>>0]|0&&(Q=e[r+8>>2]|0,((e[Q+12>>2]|0)-(e[Q+8>>2]|0)|0)>=5)){fe=31;break}Am(a,r,Ee),Ne=1,me=e[a>>2]|0}else fe=31;while(0);(fe|0)==31&&(um(a,r,Ee),Ne=0,me=e[a>>2]|0),me?(re=Ne,se=me,fe=42):Ie=0}return(fe|0)==42&&(fe=e[f>>2]|0,(fe|0)==-1?_e=r+68|0:_e=(e[m>>2]|0)+(fe*136|0)+132|0,e[_e>>2]=re,re=Dt(76)|0,e[c>>2]=se,wx(re,c,n),n=re,re=e[c>>2]|0,e[c>>2]=0,re|0&&Fn[e[(e[re>>2]|0)+4>>2]&127](re),re=r+188|0,c=e[re>>2]|0,(c|0)==(e[r+192>>2]|0)?pr(r+184|0,f):(e[c>>2]=e[f>>2],e[re>>2]=c+4),c=kn[e[(e[r>>2]|0)+40>>2]&127](r)|0,e[g>>2]=n,r=c+12|0,re=e[r>>2]|0,re>>>0<(e[c+16>>2]|0)>>>0?(e[g>>2]=0,e[re>>2]=n,e[r>>2]=re+4,Ce=g):(wa(c+8|0,g),Ce=g),g=e[Ce>>2]|0,e[Ce>>2]=0,g&&Fn[e[(e[g>>2]|0)+4>>2]&127](g),Ie=1),U=Ie,q=o,U|0}function bL(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0,Gt=0,ci=0;if(f=q,q=q+64|0,a=f+48|0,c=f+40|0,g=f+32|0,d=f+16|0,m=f+8|0,b=f,v=f+28|0,x=r+8|0,C=e[x>>2]|0,(C+-2|0)>>>0<=28&&(e[r+72>>2]=C,S=1<<C,e[r+76>>2]=S+-1,C=S+-2|0,e[r+80>>2]=C,e[r+84>>2]=(C|0)/2|0),C=r+40|0,e[r+48>>2]=h,h=r+88|0,Sn(h),S=r+36|0,M=e[S>>2]|0,I=(e[M+4>>2]|0)-(e[M>>2]|0)|0,D=I>>2,e[d>>2]=0,e[d+4>>2]=0,e[d+8>>2]=0,L=m,e[L>>2]=0,e[L+4>>2]=0,L=b,e[L>>2]=0,e[L+4>>2]=0,(I|0)<=0)return q=f,1;for(I=d+4|0,L=d+8|0,N=r+84|0,X=r+80|0,V=c+4|0,Q=g+4|0,U=a+4|0,j=m+4|0,$=c+4|0,J=g+4|0,F=a+4|0,K=b+4|0,re=r+76|0,r=m+4|0,se=b+4|0,fe=e[M>>2]|0,(e[M+4>>2]|0)==(fe|0)?Je():(Ee=0,Ne=fe);;){e[v>>2]=e[Ne+(Ee<<2)>>2],e[a>>2]=e[v>>2],Iy(C,a,d),fe=e[d>>2]|0,M=(fe|0)>-1?fe:0-fe|0,me=e[I>>2]|0,Ie=(me|0)>-1?me:0-me|0,_e=Wt(Ie|0,((Ie|0)<0)<<31>>31|0,M|0,((M|0)<0)<<31>>31|0)|0,M=e[L>>2]|0,Ie=(M|0)>-1,Ce=Ie?M:0-M|0,M=Wt(_e|0,Xe|0,Ce|0,((Ce|0)<0)<<31>>31|0)|0,Ce=Xe,(M|0)==0&(Ce|0)==0?(_e=e[N>>2]|0,We=_e,at=d,Ke=me,Ve=_e):(_e=e[N>>2]|0,Ue=((_e|0)<0)<<31>>31,st=zi(_e|0,Ue|0,fe|0,((fe|0)<0)<<31>>31|0)|0,fe=m0(st|0,Xe|0,M|0,Ce|0)|0,e[d>>2]=fe,st=zi(_e|0,Ue|0,me|0,((me|0)<0)<<31>>31|0)|0,me=m0(st|0,Xe|0,M|0,Ce|0)|0,e[I>>2]=me,Ce=_e-((fe|0)>-1?fe:0-fe|0)-((me|0)>-1?me:0-me|0)|0,We=Ie?Ce:0-Ce|0,at=L,Ke=me,Ve=_e),e[at>>2]=We,_e=e[d>>2]|0;do if((_e|0)<=-1)if((Ke|0)<0?(me=e[L>>2]|0,Qe=(me|0)>-1?me:0-me|0,it=me):(me=e[L>>2]|0,Qe=(e[X>>2]|0)-((me|0)>-1?me:0-me|0)|0,it=me),(it|0)<0){ze=(Ke|0)>-1?Ke:0-Ke|0,Ge=Qe,ke=it;break}else{ze=(e[X>>2]|0)-((Ke|0)>-1?Ke:0-Ke|0)|0,Ge=Qe,ke=it;break}else me=e[L>>2]|0,ze=me+Ve|0,Ge=Ve+Ke|0,ke=me;while(0);me=(Ge|0)==0,Ce=(ze|0)==0,Ie=e[X>>2]|0;do if(ze|Ge)if(fe=(Ie|0)==(ze|0),me&fe)ut=ze,et=ze;else if(M=(Ie|0)==(Ge|0),Ce&M)ut=Ge,et=Ge;else{if(me&(Ve|0)<(ze|0)){ut=0,et=(Ve<<1)-ze|0;break}if(M&(Ve|0)>(ze|0)){ut=Ge,et=(Ve<<1)-ze|0;break}if(fe&(Ve|0)>(Ge|0)){ut=(Ve<<1)-Ge|0,et=ze;break}Ce?(ut=(Ve|0)<(Ge|0)?(Ve<<1)-Ge|0:Ge,et=0):(ut=Ge,et=ze)}else ut=Ie,et=Ie;while(0);Ce=0-Ke|0,me=0-ke|0,e[d>>2]=0-_e,e[I>>2]=Ce,e[L>>2]=me,(_e|0)<1?(ot=Ve-ke|0,Rt=Ve-Ke|0):(fe=(ke|0)<1?me:ke,me=(Ke|0)<1?Ce:Ke,ot=(ke|0)>0?me:Ie-me|0,Rt=(Ke|0)>0?fe:Ie-fe|0),fe=(Rt|0)==0,me=(ot|0)==0;do if((ot|Rt|0)!=0&&(Ce=(Ie|0)==(ot|0),!(fe&Ce))&&(M=(Ie|0)==(Rt|0),!(me&M))){if(fe&(Ve|0)<(ot|0)){Nt=0,At=(Ve<<1)-ot|0;break}if(M&(Ve|0)>(ot|0)){Nt=Ie,At=(Ve<<1)-ot|0;break}if(Ce&(Ve|0)>(Rt|0)){Nt=(Ve<<1)-Rt|0,At=Ie;break}me?(Nt=(Ve|0)<(Rt|0)?(Ve<<1)-Rt|0:Rt,At=0):(Nt=Rt,At=ot)}else Nt=Ie,At=Ie;while(0);if(Ie=Ee<<1,me=n+(Ie<<2)|0,fe=me+4|0,_e=e[fe>>2]|0,e[c>>2]=e[me>>2],e[V>>2]=_e,e[g>>2]=ut,e[Q>>2]=et,Ds(a,x,c,g),_e=e[a>>2]|0,e[m>>2]=_e,Ce=e[U>>2]|0,e[j>>2]=Ce,M=e[fe>>2]|0,e[c>>2]=e[me>>2],e[$>>2]=M,e[g>>2]=Nt,e[J>>2]=At,Ds(a,x,c,g),M=e[a>>2]|0,e[b>>2]=M,me=e[F>>2]|0,e[K>>2]=me,fe=e[N>>2]|0,(fe|0)>=(_e|0)?(_e|0)<(0-fe|0)?Vt=(e[re>>2]|0)+_e|0:Vt=_e:Vt=_e-(e[re>>2]|0)|0,e[m>>2]=Vt,(fe|0)>=(Ce|0)?(Ce|0)<(0-fe|0)?Pt=(e[re>>2]|0)+Ce|0:Pt=Ce:Pt=Ce-(e[re>>2]|0)|0,e[r>>2]=Pt,(fe|0)>=(M|0)?(M|0)<(0-fe|0)?xt=(e[re>>2]|0)+M|0:xt=M:xt=M-(e[re>>2]|0)|0,e[b>>2]=xt,(fe|0)>=(me|0)?(me|0)<(0-fe|0)?_t=(e[re>>2]|0)+me|0:_t=me:_t=me-(e[re>>2]|0)|0,e[se>>2]=_t,(((Pt|0)>-1?Pt:0-Pt|0)+((Vt|0)>-1?Vt:0-Vt|0)|0)<(((xt|0)>-1?xt:0-xt|0)+((_t|0)>-1?_t:0-_t|0)|0)?(zn(h,0),St=m):(zn(h,1),St=b),me=e[St>>2]|0,(me|0)<0?fi=(e[re>>2]|0)+me|0:fi=me,me=o+(Ie<<2)|0,e[me>>2]=fi,Ie=e[St+4>>2]|0,(Ie|0)<0?Gt=(e[re>>2]|0)+Ie|0:Gt=Ie,e[me+4>>2]=Gt,Ee=Ee+1|0,(Ee|0)>=(D|0)){ci=5;break}if(me=e[S>>2]|0,Ne=e[me>>2]|0,(e[me+4>>2]|0)-Ne>>2>>>0<=Ee>>>0){ci=6;break}}return(ci|0)==5?(q=f,1):((ci|0)==6&&Je(),0)}function yL(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0;if(o=q,q=q+48|0,a=o+24|0,f=o+12|0,h=o,!n)return c=0,q=o,c|0;if(g=r+12|0,d=r+4|0,m=e[d>>2]|0,b=e[r>>2]|0,v=m-b>>2,x=r+16|0,C=e[x>>2]|0,S=e[g>>2]|0,M=C-S>>2,I=S,S=C,v>>>0<=M>>>0?v>>>0<M>>>0&&(C=I+(v<<2)|0,(C|0)!=(S|0))?(e[x>>2]=S+(~((S+-4-C|0)>>>2)<<2),D=b,L=m):(D=b,L=m):(z0(g,v-M|0,5828),D=e[r>>2]|0,L=e[d>>2]|0),e[a>>2]=0,M=a+4|0,e[M>>2]=0,e[a+8>>2]=0,al(a,L-D>>2),D=e[d>>2]|0,L=e[r>>2]|0,(D|0)==(L|0))N=D,X=D;else for(v=e[a>>2]|0,m=v,b=m,C=0,S=D,D=m,m=L,L=v;;)if(v=e[m+(C<<2)>>2]|0,x=e[M>>2]|0,v>>>0<x-L>>2>>>0?(V=b,Q=D,U=m,j=S):(I=v+1|0,e[f>>2]=0,$=x-L>>2,J=L,F=x,I>>>0<=$>>>0?I>>>0<$>>>0&&(x=J+(I<<2)|0,(x|0)!=(F|0))?(e[M>>2]=F+(~((F+-4-x|0)>>>2)<<2),K=b,re=S,se=m):(K=b,re=S,se=m):(z0(a,I-$|0,f),K=e[a>>2]|0,re=e[d>>2]|0,se=e[r>>2]|0),V=K,Q=K,U=se,j=re),$=Q+(v<<2)|0,e[$>>2]=(e[$>>2]|0)+1,C=C+1|0,C>>>0>=j-U>>2>>>0){N=U,X=j;break}else b=V,S=j,D=Q,m=U,L=Q;if(Q=X-N|0,N=Q>>2,e[f>>2]=0,X=f+4|0,e[X>>2]=0,e[f+8>>2]=0,!N)fe=0,Ee=0;else{for(N>>>0>536870911&&Je(),L=Dt(Q<<1)|0,e[X>>2]=L,e[f>>2]=L,Q=L+(N<<3)|0,e[f+8>>2]=Q,U=N,N=L,m=L;D=N,e[D>>2]=-1,e[D+4>>2]=-1,D=m+8|0,j=U+-1|0,j;)U=j,N=D,m=D;e[X>>2]=Q,fe=L,Ee=L}L=e[M>>2]|0,Q=e[a>>2]|0,m=L-Q|0,N=m>>2,e[h>>2]=0,U=h+4|0,e[U>>2]=0,e[h+8>>2]=0,D=Q;do if(N)if(N>>>0>1073741823)Je();else{j=Dt(m)|0,e[h>>2]=j,S=j+(N<<2)|0,e[h+8>>2]=S,Mi(j|0,0,m|0)|0,e[U>>2]=S,Ne=j,me=S,Ie=j;break}else Ne=0,me=0,Ie=0;while(0);if((L|0)!=(Q|0))for(Q=0,L=0;e[Ne+(L<<2)>>2]=Q,m=L+1|0,m>>>0<N>>>0;)Q=(e[D+(L<<2)>>2]|0)+Q|0,L=m;if(L=e[d>>2]|0,d=e[r>>2]|0,Q=d,(L|0)!=(d|0))for(m=r+40|0,r=L-d>>2,d=fe,L=fe,h=fe,j=fe,S=fe,V=fe,b=0,C=Ne;;){re=e[Q+(b<<2)>>2]|0,se=b+1|0,K=((se>>>0)%3|0|0)==0?b+-2|0:se,(K|0)==-1?_e=-1:_e=e[Q+(K<<2)>>2]|0,K=((b>>>0)%3|0|0)==0,se=(K?2:-1)+b|0,(se|0)==-1?Ce=-1:Ce=e[Q+(se<<2)>>2]|0,K&&(_e|0)==(Ce|0)|((re|0)==(_e|0)|(re|0)==(Ce|0))?(e[m>>2]=(e[m>>2]|0)+1,We=d,at=L,Ke=h,Ve=j,Ue=S,st=V,Qe=b+2|0,it=C):ze=51;e:do if((ze|0)==51){ze=0,K=e[D+(Ce<<2)>>2]|0;t:do if((K|0)>0){for(se=0,$=e[C+(Ce<<2)>>2]|0;;){if(v=e[S+($<<3)>>2]|0,(v|0)==-1){Ge=d,ke=L,ut=j,et=S;break t}if((v|0)==(_e|0)&&(v=e[S+($<<3)+4>>2]|0,(v|0)==-1?ot=-1:ot=e[Q+(v<<2)>>2]|0,(re|0)!=(ot|0)))break;if(v=se+1|0,(v|0)<(K|0))se=v,$=$+1|0;else{Ge=d,ke=L,ut=j,et=S;break t}}for(v=e[j+($<<3)+4>>2]|0,I=se,x=$,F=L;I=I+1|0,!((I|0)>=(K|0)||(J=x+1|0,e[F+(x<<3)>>2]=e[F+(J<<3)>>2],e[F+(x<<3)+4>>2]=e[F+(J<<3)+4>>2],(e[d+(x<<3)>>2]|0)==-1));)x=J,F=d;if(e[h+(x<<3)>>2]=-1,(v|0)==-1)Ge=h,ke=h,ut=h,et=h;else{F=e[g>>2]|0,e[F+(b<<2)>>2]=v,e[F+(v<<2)>>2]=b,We=h,at=h,Ke=h,Ve=h,Ue=h,st=V,Qe=b,it=C;break e}}else Ge=d,ke=L,ut=j,et=S;while(0);if(K=e[D+(_e<<2)>>2]|0,(K|0)>0){for(F=0,I=e[Ne+(_e<<2)>>2]|0;Rt=V+(I<<3)|0,(e[Rt>>2]|0)!=-1;)if(F=F+1|0,(F|0)>=(K|0)){We=V,at=V,Ke=V,Ve=V,Ue=V,st=V,Qe=b,it=Ne;break e}else I=I+1|0;e[Rt>>2]=Ce,e[fe+(I<<3)+4>>2]=b,We=fe,at=fe,Ke=fe,Ve=fe,Ue=fe,st=fe,Qe=b,it=Ne}else We=Ge,at=ke,Ke=h,Ve=ut,Ue=et,st=V,Qe=b,it=C}while(0);if(b=Qe+1|0,b>>>0>=r>>>0)break;d=We,L=at,h=Ke,j=Ve,S=Ue,V=st,C=it}return e[n>>2]=N,Ne?((me|0)!=(Ne|0)&&(e[U>>2]=me+(~((me+-4-Ne|0)>>>2)<<2)),ve(Ie),Ie=e[f>>2]|0,Nt=Ie,At=Ie):(Nt=fe,At=Ee),Nt|0&&(Ie=e[X>>2]|0,(Ie|0)!=(Nt|0)&&(e[X>>2]=Ie+(~((Ie+-8-Nt|0)>>>3)<<3)),ve(At)),At=e[a>>2]|0,At|0&&(a=e[M>>2]|0,(a|0)!=(At|0)&&(e[M>>2]=a+(~((a+-4-At|0)>>>2)<<2)),ve(At)),c=1,q=o,c|0}function sk(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=Ar,at=Ar,Ke=Ar,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0;if(a=q,q=q+48|0,f=a+12|0,h=a+35|0,c=a+32|0,g=a,d=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,br[d>>2]=qt(1),m=r+80|0,b=e[m>>2]|0,e[g>>2]=0,v=g+4|0,e[v>>2]=0,e[g+8>>2]=0,b){for(b>>>0>1073741823&&Je(),x=b<<2,C=Dt(x)|0,e[g>>2]=C,S=C+(b<<2)|0,e[g+8>>2]=S,Mi(C|0,0,x|0)|0,e[v>>2]=S,S=e[o>>2]|0,o=n+48|0,x=n+40|0,C=c+1|0,b=c+2|0,M=f+4|0,I=f+12|0,D=f+8|0,L=r+40|0,N=r+64|0,X=0,V=0;;){if(Q=o,U=e[Q>>2]|0,j=e[Q+4>>2]|0,Q=x,$=zi(e[Q>>2]|0,e[Q+4>>2]|0,S+X|0,0)|0,Q=Wt($|0,Xe|0,U|0,j|0)|0,j=(e[e[n>>2]>>2]|0)+Q|0,Z[h>>0]=Z[j>>0]|0,Z[h+1>>0]=Z[j+1>>0]|0,Z[h+2>>0]=Z[j+2>>0]|0,W0(c|0,j|0,3)|0,j=je(f,c)|0,j)F=e[g>>2]|0,e[F+(X<<2)>>2]=e[j+12>>2],it=V,ze=F;else{Q=Z[c>>0]|0,U=Z[C>>0]|0,$=Z[b>>0]|0,J=((Q&255^318)+239^U&255)+239^$&255,F=e[M>>2]|0,K=(F|0)==0;e:do if(K)me=0,Ie=29;else if(re=F+-1|0,se=(re&F|0)==0,se?fe=J&re:J>>>0<F>>>0?fe=J:fe=(J>>>0)%(F>>>0)|0,Ee=e[(e[f>>2]|0)+(fe<<2)>>2]|0,(Ee|0)!=0&&(Ne=e[Ee>>2]|0,(Ne|0)!=0)){if(se)for(se=Ne;;){if(Ee=e[se+4>>2]|0,!((Ee|0)==(J|0)|(Ee&re|0)==(fe|0))){me=fe,Ie=29;break e}if(Ee=se+8|0,(Z[Ee>>0]|0)==Q<<24>>24&&(Z[Ee+1>>0]|0)==U<<24>>24&&(Z[Ee+2>>0]|0)==$<<24>>24)break e;if(se=e[se>>2]|0,!se){me=fe,Ie=29;break e}}else _e=Ne;for(;;){if(se=e[_e+4>>2]|0,(se|0)!=(J|0)&&(se>>>0<F>>>0?Ce=se:Ce=(se>>>0)%(F>>>0)|0,(Ce|0)!=(fe|0))){me=fe,Ie=29;break e}if(se=_e+8|0,(Z[se>>0]|0)==Q<<24>>24&&(Z[se+1>>0]|0)==U<<24>>24&&(Z[se+2>>0]|0)==$<<24>>24)break e;if(_e=e[_e>>2]|0,!_e){me=fe,Ie=29;break}}}else me=fe,Ie=29;while(0);if((Ie|0)==29){Ie=0,Ne=Dt(16)|0,Z[Ne+8>>0]=Q,Z[Ne+9>>0]=U,Z[Ne+10>>0]=$,e[Ne+12>>2]=V,e[Ne+4>>2]=J,e[Ne>>2]=0,We=qt(((e[I>>2]|0)+1|0)>>>0),at=qt(F>>>0),Ke=qt(br[d>>2]);do if(K|qt(Ke*at)<We){if(se=F<<1|(F>>>0<3|(F+-1&F|0)!=0)&1,re=~~qt(yr(qt(We/Ke)))>>>0,tP(f,se>>>0<re>>>0?re:se),se=e[M>>2]|0,re=se+-1|0,!(re&se)){Ve=se,Ue=re&J;break}J>>>0<se>>>0?(Ve=se,Ue=J):(Ve=se,Ue=(J>>>0)%(se>>>0)|0)}else Ve=F,Ue=me;while(0);F=(e[f>>2]|0)+(Ue<<2)|0,J=e[F>>2]|0,J?(e[Ne>>2]=e[J>>2],Qe=J,Ie=42):(e[Ne>>2]=e[D>>2],e[D>>2]=Ne,e[F>>2]=D,F=e[Ne>>2]|0,F|0&&(K=e[F+4>>2]|0,F=Ve+-1|0,F&Ve?K>>>0<Ve>>>0?st=K:st=(K>>>0)%(Ve>>>0)|0:st=K&F,Qe=(e[f>>2]|0)+(st<<2)|0,Ie=42)),(Ie|0)==42&&(Ie=0,e[Qe>>2]=Ne),e[I>>2]=(e[I>>2]|0)+1}J=L,F=e[J>>2]|0,K=zi(F|0,e[J+4>>2]|0,V|0,0)|0,Fr((e[e[N>>2]>>2]|0)+K|0,h|0,F|0)|0,F=e[g>>2]|0,e[F+(X<<2)>>2]=V,it=V+1|0,ze=F}if(X=X+1|0,Ge=e[m>>2]|0,X>>>0>=Ge>>>0)break;V=it}if((it|0)==(Ge|0))ke=ze;else{if(V=r+84|0,Z[V>>0]|0)if(Z[V>>0]=0,V=r+68|0,ze=r+72|0,L=e[ze>>2]|0,h=e[V>>2]|0,N=L-h>>2,X=h,h=L,Ge>>>0<=N>>>0?(Ge>>>0<N>>>0&&(L=X+(Ge<<2)|0,(L|0)!=(h|0))&&(e[ze>>2]=h+(~((h+-4-L|0)>>>2)<<2)),et=Ge):(z0(V,Ge-N|0,1204),et=e[m>>2]|0),N=e[g>>2]|0,!et)ut=N;else{g=e[r+68>>2]|0,r=0;do e[g+(r<<2)>>2]=e[N+(r<<2)>>2],r=r+1|0;while(r>>>0<et>>>0);ut=N}else if(X=e[r+72>>2]|0,h=e[r+68>>2]|0,N=h,(X|0)==(h|0))ut=ze;else{L=X-h>>2,h=0;do X=N+(h<<2)|0,e[X>>2]=e[ze+(e[X>>2]<<2)>>2],h=h+1|0;while(h>>>0<L>>>0);ut=ze}e[m>>2]=it,ke=ut}ke&&(ut=e[v>>2]|0,(ut|0)!=(ke|0)&&(e[v>>2]=ut+(~((ut+-4-ke|0)>>>2)<<2)),ve(ke)),ot=it}else ot=0;if(it=e[f+8>>2]|0,it|0){ke=it;do it=ke,ke=e[ke>>2]|0,ve(it);while((ke|0)!=0)}return ke=e[f>>2]|0,e[f>>2]=0,ke?(ve(ke),q=a,ot|0):(q=a,ot|0)}function AL(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0,Nt=0,At=0,Vt=0,Pt=0,xt=0,_t=0,St=0,fi=0,Gt=0,ci=0;if(f=q,q=q+64|0,a=f+48|0,c=f+40|0,g=f+32|0,d=f+16|0,m=f+8|0,b=f,v=f+28|0,x=r+8|0,C=e[x>>2]|0,(C+-2|0)>>>0<=28&&(e[r+72>>2]=C,S=1<<C,e[r+76>>2]=S+-1,C=S+-2|0,e[r+80>>2]=C,e[r+84>>2]=(C|0)/2|0),C=r+40|0,e[r+48>>2]=h,h=r+88|0,Sn(h),S=r+36|0,M=e[S>>2]|0,I=(e[M+4>>2]|0)-(e[M>>2]|0)|0,D=I>>2,e[d>>2]=0,e[d+4>>2]=0,e[d+8>>2]=0,L=m,e[L>>2]=0,e[L+4>>2]=0,L=b,e[L>>2]=0,e[L+4>>2]=0,(I|0)<=0)return q=f,1;for(I=d+4|0,L=d+8|0,N=r+84|0,X=r+80|0,V=c+4|0,Q=g+4|0,U=a+4|0,j=m+4|0,$=c+4|0,J=g+4|0,F=a+4|0,K=b+4|0,re=r+76|0,r=m+4|0,se=b+4|0,fe=e[M>>2]|0,(e[M+4>>2]|0)==(fe|0)?Je():(Ee=0,Ne=fe);;){e[v>>2]=e[Ne+(Ee<<2)>>2],e[a>>2]=e[v>>2],By(C,a,d),fe=e[d>>2]|0,M=(fe|0)>-1?fe:0-fe|0,me=e[I>>2]|0,Ie=(me|0)>-1?me:0-me|0,_e=Wt(Ie|0,((Ie|0)<0)<<31>>31|0,M|0,((M|0)<0)<<31>>31|0)|0,M=e[L>>2]|0,Ie=(M|0)>-1,Ce=Ie?M:0-M|0,M=Wt(_e|0,Xe|0,Ce|0,((Ce|0)<0)<<31>>31|0)|0,Ce=Xe,(M|0)==0&(Ce|0)==0?(_e=e[N>>2]|0,We=_e,at=d,Ke=me,Ve=_e):(_e=e[N>>2]|0,Ue=((_e|0)<0)<<31>>31,st=zi(_e|0,Ue|0,fe|0,((fe|0)<0)<<31>>31|0)|0,fe=m0(st|0,Xe|0,M|0,Ce|0)|0,e[d>>2]=fe,st=zi(_e|0,Ue|0,me|0,((me|0)<0)<<31>>31|0)|0,me=m0(st|0,Xe|0,M|0,Ce|0)|0,e[I>>2]=me,Ce=_e-((fe|0)>-1?fe:0-fe|0)-((me|0)>-1?me:0-me|0)|0,We=Ie?Ce:0-Ce|0,at=L,Ke=me,Ve=_e),e[at>>2]=We,_e=e[d>>2]|0;do if((_e|0)<=-1)if((Ke|0)<0?(me=e[L>>2]|0,Qe=(me|0)>-1?me:0-me|0,it=me):(me=e[L>>2]|0,Qe=(e[X>>2]|0)-((me|0)>-1?me:0-me|0)|0,it=me),(it|0)<0){ze=(Ke|0)>-1?Ke:0-Ke|0,Ge=Qe,ke=it;break}else{ze=(e[X>>2]|0)-((Ke|0)>-1?Ke:0-Ke|0)|0,Ge=Qe,ke=it;break}else me=e[L>>2]|0,ze=me+Ve|0,Ge=Ve+Ke|0,ke=me;while(0);me=(Ge|0)==0,Ce=(ze|0)==0,Ie=e[X>>2]|0;do if(ze|Ge)if(fe=(Ie|0)==(ze|0),me&fe)ut=ze,et=ze;else if(M=(Ie|0)==(Ge|0),Ce&M)ut=Ge,et=Ge;else{if(me&(Ve|0)<(ze|0)){ut=0,et=(Ve<<1)-ze|0;break}if(M&(Ve|0)>(ze|0)){ut=Ge,et=(Ve<<1)-ze|0;break}if(fe&(Ve|0)>(Ge|0)){ut=(Ve<<1)-Ge|0,et=ze;break}Ce?(ut=(Ve|0)<(Ge|0)?(Ve<<1)-Ge|0:Ge,et=0):(ut=Ge,et=ze)}else ut=Ie,et=Ie;while(0);Ce=0-Ke|0,me=0-ke|0,e[d>>2]=0-_e,e[I>>2]=Ce,e[L>>2]=me,(_e|0)<1?(ot=Ve-ke|0,Rt=Ve-Ke|0):(fe=(ke|0)<1?me:ke,me=(Ke|0)<1?Ce:Ke,ot=(ke|0)>0?me:Ie-me|0,Rt=(Ke|0)>0?fe:Ie-fe|0),fe=(Rt|0)==0,me=(ot|0)==0;do if((ot|Rt|0)!=0&&(Ce=(Ie|0)==(ot|0),!(fe&Ce))&&(M=(Ie|0)==(Rt|0),!(me&M))){if(fe&(Ve|0)<(ot|0)){Nt=0,At=(Ve<<1)-ot|0;break}if(M&(Ve|0)>(ot|0)){Nt=Ie,At=(Ve<<1)-ot|0;break}if(Ce&(Ve|0)>(Rt|0)){Nt=(Ve<<1)-Rt|0,At=Ie;break}me?(Nt=(Ve|0)<(Rt|0)?(Ve<<1)-Rt|0:Rt,At=0):(Nt=Rt,At=ot)}else Nt=Ie,At=Ie;while(0);if(Ie=Ee<<1,me=n+(Ie<<2)|0,fe=me+4|0,_e=e[fe>>2]|0,e[c>>2]=e[me>>2],e[V>>2]=_e,e[g>>2]=ut,e[Q>>2]=et,Ds(a,x,c,g),_e=e[a>>2]|0,e[m>>2]=_e,Ce=e[U>>2]|0,e[j>>2]=Ce,M=e[fe>>2]|0,e[c>>2]=e[me>>2],e[$>>2]=M,e[g>>2]=Nt,e[J>>2]=At,Ds(a,x,c,g),M=e[a>>2]|0,e[b>>2]=M,me=e[F>>2]|0,e[K>>2]=me,fe=e[N>>2]|0,(fe|0)>=(_e|0)?(_e|0)<(0-fe|0)?Vt=(e[re>>2]|0)+_e|0:Vt=_e:Vt=_e-(e[re>>2]|0)|0,e[m>>2]=Vt,(fe|0)>=(Ce|0)?(Ce|0)<(0-fe|0)?Pt=(e[re>>2]|0)+Ce|0:Pt=Ce:Pt=Ce-(e[re>>2]|0)|0,e[r>>2]=Pt,(fe|0)>=(M|0)?(M|0)<(0-fe|0)?xt=(e[re>>2]|0)+M|0:xt=M:xt=M-(e[re>>2]|0)|0,e[b>>2]=xt,(fe|0)>=(me|0)?(me|0)<(0-fe|0)?_t=(e[re>>2]|0)+me|0:_t=me:_t=me-(e[re>>2]|0)|0,e[se>>2]=_t,(((Pt|0)>-1?Pt:0-Pt|0)+((Vt|0)>-1?Vt:0-Vt|0)|0)<(((xt|0)>-1?xt:0-xt|0)+((_t|0)>-1?_t:0-_t|0)|0)?(zn(h,0),St=m):(zn(h,1),St=b),me=e[St>>2]|0,(me|0)<0?fi=(e[re>>2]|0)+me|0:fi=me,me=o+(Ie<<2)|0,e[me>>2]=fi,Ie=e[St+4>>2]|0,(Ie|0)<0?Gt=(e[re>>2]|0)+Ie|0:Gt=Ie,e[me+4>>2]=Gt,Ee=Ee+1|0,(Ee|0)>=(D|0)){ci=5;break}if(me=e[S>>2]|0,Ne=e[me>>2]|0,(e[me+4>>2]|0)-Ne>>2>>>0<=Ee>>>0){ci=6;break}}return(ci|0)==5?(q=f,1):((ci|0)==6&&Je(),0)}function vx(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=Ar,Ke=Ar,Ve=Ar,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0,ke=0,ut=0,et=0,ot=0,Rt=0;if(a=q,q=q+64|0,f=a+36|0,h=a+24|0,c=a+12|0,g=a,d=f+16|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,e[f+12>>2]=0,br[d>>2]=qt(1),m=r+80|0,b=e[m>>2]|0,e[g>>2]=0,v=g+4|0,e[v>>2]=0,e[g+8>>2]=0,b){for(b>>>0>1073741823&&Je(),x=b<<2,C=Dt(x)|0,e[g>>2]=C,S=C+(b<<2)|0,e[g+8>>2]=S,Mi(C|0,0,x|0)|0,e[v>>2]=S,S=e[o>>2]|0,o=n+48|0,x=n+40|0,C=c+4|0,b=c+8|0,M=f+4|0,I=f+12|0,D=f+8|0,L=r+40|0,N=r+64|0,X=0,V=0;;){Q=o,U=e[Q>>2]|0,j=e[Q+4>>2]|0,Q=x,$=zi(e[Q>>2]|0,e[Q+4>>2]|0,S+V|0,0)|0,Q=Wt($|0,Xe|0,U|0,j|0)|0,j=(e[e[n>>2]>>2]|0)+Q|0,Q=h,U=j,$=Q+12|0;do Z[Q>>0]=Z[U>>0]|0,Q=Q+1|0,U=U+1|0;while((Q|0)<($|0));if(W0(c|0,j|0,12)|0,U=hi(f,c)|0,U)K=e[g>>2]|0,e[K+(V<<2)>>2]=e[U+20>>2],ze=X,Ge=K;else{Q=e[c>>2]|0,$=e[C>>2]|0,J=e[b>>2]|0,F=((Q^318)+239^$)+239^J,K=e[M>>2]|0,re=(K|0)==0;e:do if(re)Ie=0,_e=29;else if(se=K+-1|0,fe=(se&K|0)==0,fe?Ee=F&se:F>>>0<K>>>0?Ee=F:Ee=(F>>>0)%(K>>>0)|0,Ne=e[(e[f>>2]|0)+(Ee<<2)>>2]|0,(Ne|0)!=0&&(me=e[Ne>>2]|0,(me|0)!=0)){if(fe)for(fe=me;;){if(Ne=e[fe+4>>2]|0,!((Ne|0)==(F|0)|(Ne&se|0)==(Ee|0))){Ie=Ee,_e=29;break e}if((e[fe+8>>2]|0)==(Q|0)&&(e[fe+12>>2]|0)==($|0)&&(e[fe+16>>2]|0)==(J|0))break e;if(fe=e[fe>>2]|0,!fe){Ie=Ee,_e=29;break e}}else Ce=me;for(;;){if(fe=e[Ce+4>>2]|0,(fe|0)!=(F|0)&&(fe>>>0<K>>>0?We=fe:We=(fe>>>0)%(K>>>0)|0,(We|0)!=(Ee|0))){Ie=Ee,_e=29;break e}if((e[Ce+8>>2]|0)==(Q|0)&&(e[Ce+12>>2]|0)==($|0)&&(e[Ce+16>>2]|0)==(J|0))break e;if(Ce=e[Ce>>2]|0,!Ce){Ie=Ee,_e=29;break}}}else Ie=Ee,_e=29;while(0);if((_e|0)==29){_e=0,j=Dt(24)|0,e[j+8>>2]=Q,e[j+12>>2]=$,e[j+16>>2]=J,e[j+20>>2]=X,e[j+4>>2]=F,e[j>>2]=0,at=qt(((e[I>>2]|0)+1|0)>>>0),Ke=qt(K>>>0),Ve=qt(br[d>>2]);do if(re|qt(Ve*Ke)<at){if(me=K<<1|(K>>>0<3|(K+-1&K|0)!=0)&1,fe=~~qt(yr(qt(at/Ve)))>>>0,KD(f,me>>>0<fe>>>0?fe:me),me=e[M>>2]|0,fe=me+-1|0,!(fe&me)){Ue=me,st=fe&F;break}F>>>0<me>>>0?(Ue=me,st=F):(Ue=me,st=(F>>>0)%(me>>>0)|0)}else Ue=K,st=Ie;while(0);K=(e[f>>2]|0)+(st<<2)|0,F=e[K>>2]|0,F?(e[j>>2]=e[F>>2],it=F,_e=42):(e[j>>2]=e[D>>2],e[D>>2]=j,e[K>>2]=D,K=e[j>>2]|0,K|0&&(re=e[K+4>>2]|0,K=Ue+-1|0,K&Ue?re>>>0<Ue>>>0?Qe=re:Qe=(re>>>0)%(Ue>>>0)|0:Qe=re&K,it=(e[f>>2]|0)+(Qe<<2)|0,_e=42)),(_e|0)==42&&(_e=0,e[it>>2]=j),e[I>>2]=(e[I>>2]|0)+1}F=L,K=e[F>>2]|0,re=zi(K|0,e[F+4>>2]|0,X|0,0)|0,Fr((e[e[N>>2]>>2]|0)+re|0,h|0,K|0)|0,K=e[g>>2]|0,e[K+(V<<2)>>2]=X,ze=X+1|0,Ge=K}if(V=V+1|0,ke=e[m>>2]|0,V>>>0>=ke>>>0)break;X=ze}if((ze|0)==(ke|0))ut=Ge;else{if(X=r+84|0,Z[X>>0]|0)if(Z[X>>0]=0,X=r+68|0,Ge=r+72|0,L=e[Ge>>2]|0,h=e[X>>2]|0,N=L-h>>2,V=h,h=L,ke>>>0<=N>>>0?(ke>>>0<N>>>0&&(L=V+(ke<<2)|0,(L|0)!=(h|0))&&(e[Ge>>2]=h+(~((h+-4-L|0)>>>2)<<2)),ot=ke):(z0(X,ke-N|0,1204),ot=e[m>>2]|0),N=e[g>>2]|0,!ot)et=N;else{g=e[r+68>>2]|0,r=0;do e[g+(r<<2)>>2]=e[N+(r<<2)>>2],r=r+1|0;while(r>>>0<ot>>>0);et=N}else if(V=e[r+72>>2]|0,h=e[r+68>>2]|0,N=h,(V|0)==(h|0))et=Ge;else{L=V-h>>2,h=0;do V=N+(h<<2)|0,e[V>>2]=e[Ge+(e[V>>2]<<2)>>2],h=h+1|0;while(h>>>0<L>>>0);et=Ge}e[m>>2]=ze,ut=et}ut&&(et=e[v>>2]|0,(et|0)!=(ut|0)&&(e[v>>2]=et+(~((et+-4-ut|0)>>>2)<<2)),ve(ut)),Rt=ze}else Rt=0;if(ze=e[f+8>>2]|0,ze|0){ut=ze;do ze=ut,ut=e[ut>>2]|0,ve(ze);while((ut|0)!=0)}return ut=e[f>>2]|0,e[f>>2]=0,ut?(ve(ut),q=a,Rt|0):(q=a,Rt|0)}function vL(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0;o=q,q=q+32|0,a=o+4|0,f=o,h=o+16|0,c=n+56|0,g=e[c>>2]|0,d=(e[g+100>>2]|0)-(e[g+96>>2]|0)|0,g=(d|0)/12|0,m=n+44|0,p0(g,e[m>>2]|0)|0,p0(e[(e[c>>2]|0)+80>>2]|0,e[m>>2]|0)|0,b=e[n+48>>2]|0,v=Dt(32)|0,e[a>>2]=v,e[a+8>>2]=-2147483616,e[a+4>>2]=21,x=v,C=14562,S=x+21|0;do Z[x>>0]=Z[C>>0]|0,x=x+1|0,C=C+1|0;while((x|0)<(S|0));if(Z[v+21>>0]=0,v=j2(b,a,0)|0,(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0),b=e[m>>2]|0,v){Z[h>>0]=0,v=b+16|0,C=e[v+4>>2]|0,(C|0)>0|(C|0)==0&(e[v>>2]|0)>>>0>0||(e[f>>2]=e[b+4>>2],e[a>>2]=e[f>>2],vr(b,a,h,h+1|0)|0),C6(n)|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,q=o;return}if(Z[h>>0]=1,n=b+16|0,v=e[n+4>>2]|0,(v|0)>0|(v|0)==0&(e[n>>2]|0)>>>0>0||(e[f>>2]=e[b+4>>2],e[a>>2]=e[f>>2],vr(b,a,h,h+1|0)|0),b=e[c>>2]|0,n=e[b+80>>2]|0,n>>>0<256){if(!d){e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,q=o;return}for(v=h+1|0,C=h+1|0,x=h+1|0,S=0,M=b;I=e[M+96>>2]|0,D=e[m>>2]|0,Z[h>>0]=e[I+(S*12|0)>>2],L=D+16|0,N=e[L>>2]|0,X=e[L+4>>2]|0,(X|0)>0|(X|0)==0&N>>>0>0?(V=N,Q=D,U=X):(e[f>>2]=e[D+4>>2],e[a>>2]=e[f>>2],vr(D,a,h,x)|0,D=e[m>>2]|0,X=D+16|0,V=e[X>>2]|0,Q=D,U=e[X+4>>2]|0),Z[h>>0]=e[I+(S*12|0)+4>>2],(U|0)>0|(U|0)==0&V>>>0>0?(j=U,$=V,J=Q):(e[f>>2]=e[Q+4>>2],e[a>>2]=e[f>>2],vr(Q,a,h,C)|0,X=e[m>>2]|0,D=X+16|0,j=e[D+4>>2]|0,$=e[D>>2]|0,J=X),Z[h>>0]=e[I+(S*12|0)+8>>2],(j|0)>0|(j|0)==0&$>>>0>0||(e[f>>2]=e[J+4>>2],e[a>>2]=e[f>>2],vr(J,a,h,v)|0),I=S+1|0,!(I>>>0>=g>>>0);)S=I,M=e[c>>2]|0;e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,q=o;return}if(n>>>0<65536){if(!d){e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,q=o;return}for(M=h+2|0,S=h+2|0,v=h+2|0,J=0,$=b;j=e[$+96>>2]|0,C=e[m>>2]|0,Oi[h>>1]=e[j+(J*12|0)>>2],Q=C+16|0,V=e[Q>>2]|0,U=e[Q+4>>2]|0,(U|0)>0|(U|0)==0&V>>>0>0?(F=U,K=V,re=C):(e[f>>2]=e[C+4>>2],e[a>>2]=e[f>>2],vr(C,a,h,v)|0,C=e[m>>2]|0,V=C+16|0,F=e[V+4>>2]|0,K=e[V>>2]|0,re=C),Oi[h>>1]=e[j+(J*12|0)+4>>2],(F|0)>0|(F|0)==0&K>>>0>0?(se=F,fe=K,Ee=re):(e[f>>2]=e[re+4>>2],e[a>>2]=e[f>>2],vr(re,a,h,S)|0,C=e[m>>2]|0,V=C+16|0,se=e[V+4>>2]|0,fe=e[V>>2]|0,Ee=C),Oi[h>>1]=e[j+(J*12|0)+8>>2],(se|0)>0|(se|0)==0&fe>>>0>0||(e[f>>2]=e[Ee+4>>2],e[a>>2]=e[f>>2],vr(Ee,a,h,M)|0),j=J+1|0,!(j>>>0>=g>>>0);)J=j,$=e[c>>2]|0;e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,q=o;return}if($=(d|0)!=0,n>>>0<2097152){if($)Ne=0,me=b;else{e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,q=o;return}for(;n=e[me+96>>2]|0,p0(e[n+(Ne*12|0)>>2]|0,e[m>>2]|0)|0,p0(e[n+(Ne*12|0)+4>>2]|0,e[m>>2]|0)|0,p0(e[n+(Ne*12|0)+8>>2]|0,e[m>>2]|0)|0,n=Ne+1|0,!(n>>>0>=g>>>0);)Ne=n,me=e[c>>2]|0;e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,q=o;return}if(!$){e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,q=o;return}for($=0,me=b;b=(e[me+96>>2]|0)+($*12|0)|0,Ne=e[m>>2]|0,n=Ne+16|0,d=e[n+4>>2]|0,(d|0)>0|(d|0)==0&(e[n>>2]|0)>>>0>0||(e[f>>2]=e[Ne+4>>2],e[a>>2]=e[f>>2],vr(Ne,a,b,b+12|0)|0),b=$+1|0,!(b>>>0>=g>>>0);)$=b,me=e[c>>2]|0;e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,q=o}function wL(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0;switch(a=q,q=q+32|0,f=a+16|0,h=a+12|0,c=a+8|0,g=a+4|0,d=a,e[n+28>>2]|0){case 9:{switch(m=e[o>>2]|0,Z[n+24>>0]|0){case 1:{e[h>>2]=m,e[f>>2]=e[h>>2],b=yx(r,n,f)|0;break}case 2:{e[c>>2]=m,e[f>>2]=e[c>>2],b=bx(r,n,f)|0;break}case 3:{e[g>>2]=m,e[f>>2]=e[g>>2],b=vx(r,n,f)|0;break}case 4:{e[d>>2]=m,e[f>>2]=e[d>>2],b=Ax(r,n,f)|0;break}default:b=0}v=b;break}case 1:{switch(b=e[o>>2]|0,Z[n+24>>0]|0){case 1:{e[h>>2]=b,e[f>>2]=e[h>>2],x=ek(r,n,f)|0;break}case 2:{e[c>>2]=b,e[f>>2]=e[c>>2],x=Y_(r,n,f)|0;break}case 3:{e[g>>2]=b,e[f>>2]=e[g>>2],x=sk(r,n,f)|0;break}case 4:{e[d>>2]=b,e[f>>2]=e[d>>2],x=rk(r,n,f)|0;break}default:x=0}v=x;break}case 11:case 2:{switch(x=e[o>>2]|0,Z[n+24>>0]|0){case 1:{e[h>>2]=x,e[f>>2]=e[h>>2],C=ek(r,n,f)|0;break}case 2:{e[c>>2]=x,e[f>>2]=e[c>>2],C=Y_(r,n,f)|0;break}case 3:{e[g>>2]=x,e[f>>2]=e[g>>2],C=sk(r,n,f)|0;break}case 4:{e[d>>2]=x,e[f>>2]=e[d>>2],C=rk(r,n,f)|0;break}default:C=0}v=C;break}case 4:{switch(C=e[o>>2]|0,Z[n+24>>0]|0){case 1:{e[h>>2]=C,e[f>>2]=e[h>>2],S=$_(r,n,f)|0;break}case 2:{e[c>>2]=C,e[f>>2]=e[c>>2],S=q_(r,n,f)|0;break}case 3:{e[g>>2]=C,e[f>>2]=e[g>>2],S=nk(r,n,f)|0;break}case 4:{e[d>>2]=C,e[f>>2]=e[d>>2],S=tk(r,n,f)|0;break}default:S=0}v=S;break}case 3:{switch(S=e[o>>2]|0,Z[n+24>>0]|0){case 1:{e[h>>2]=S,e[f>>2]=e[h>>2],M=$_(r,n,f)|0;break}case 2:{e[c>>2]=S,e[f>>2]=e[c>>2],M=q_(r,n,f)|0;break}case 3:{e[g>>2]=S,e[f>>2]=e[g>>2],M=nk(r,n,f)|0;break}case 4:{e[d>>2]=S,e[f>>2]=e[d>>2],M=tk(r,n,f)|0;break}default:M=0}v=M;break}case 6:{switch(M=e[o>>2]|0,Z[n+24>>0]|0){case 1:{e[h>>2]=M,e[f>>2]=e[h>>2],I=yx(r,n,f)|0;break}case 2:{e[c>>2]=M,e[f>>2]=e[c>>2],I=bx(r,n,f)|0;break}case 3:{e[g>>2]=M,e[f>>2]=e[g>>2],I=vx(r,n,f)|0;break}case 4:{e[d>>2]=M,e[f>>2]=e[d>>2],I=Ax(r,n,f)|0;break}default:I=0}v=I;break}case 5:{switch(I=e[o>>2]|0,Z[n+24>>0]|0){case 1:{e[h>>2]=I,e[f>>2]=e[h>>2],D=yx(r,n,f)|0;break}case 2:{e[c>>2]=I,e[f>>2]=e[c>>2],D=bx(r,n,f)|0;break}case 3:{e[g>>2]=I,e[f>>2]=e[g>>2],D=vx(r,n,f)|0;break}case 4:{e[d>>2]=I,e[f>>2]=e[d>>2],D=Ax(r,n,f)|0;break}default:D=0}v=D;break}default:return L=-1,q=a,L|0}return L=(v|0)==0?-1:v,q=a,L|0}function xL(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0;if(a=q,q=q+32|0,f=a+16|0,h=a+12|0,c=a+29|0,g=a,d=a+28|0,!(e[(e[r+8>>2]|0)+80>>2]|0))return m=1,q=a,m|0;if(Z[c>>0]=-2,b=r+36|0,v=e[b>>2]|0,v?M0[e[(e[r>>2]|0)+40>>2]&127](r,v)|0?(v=e[b>>2]|0,x=(kn[e[(e[v>>2]|0)+8>>2]&127](v)|0)&255,Z[c>>0]=x,C=5):S=0:C=5,(C|0)==5){x=o+16|0,v=x,M=e[v+4>>2]|0,(M|0)>0|(M|0)==0&(e[v>>2]|0)>>>0>0||(e[h>>2]=e[o+4>>2],e[f>>2]=e[h>>2],vr(o,f,c,c+1|0)|0),c=e[b>>2]|0,c|0&&(v=(kn[e[(e[c>>2]|0)+36>>2]&127](c)|0)&255,Z[g>>0]=v,v=x,c=e[v+4>>2]|0,!((c|0)>0|(c|0)==0&(e[v>>2]|0)>>>0>0))&&(e[h>>2]=e[o+4>>2],e[f>>2]=e[h>>2],vr(o,f,g,g+1|0)|0),v=e[r+32>>2]|0,c=Z[v+24>>0]|0,M=_i(e[v+80>>2]|0,c)|0,I=(e[e[v>>2]>>2]|0)+(e[v+48>>2]|0)|0,e[g>>2]=0,v=g+4|0,e[v>>2]=0,e[g+8>>2]=0,D=(M|0)==0;do if(D)V=0;else if(M>>>0>1073741823)Je();else{L=M<<2,N=Dt(L)|0,e[g>>2]=N,X=N+(M<<2)|0,e[g+8>>2]=X,Mi(N|0,0,L|0)|0,e[v>>2]=X,V=N;break}while(0);N=e[b>>2]|0;do if(N){if(CC[e[(e[N>>2]|0)+44>>2]&31](N,I,V,M,c,e[n>>2]|0)|0,X=e[b>>2]|0,!X){Q=I,U=e[g>>2]|0,C=20;break}kn[e[(e[X>>2]|0)+32>>2]&127](X)|0||(X=e[g>>2]|0,Q=e[b>>2]|0?X:I,U=X,C=20)}else Q=I,U=V,C=20;while(0);(C|0)==20&&eF(Q,M,U),U=r+4|0,r=e[U>>2]|0;do if(r){Q=e[r+48>>2]|0,e[f>>2]=0,e[f+4>>2]=0,e[f+8>>2]=0,V=Dt(48)|0,e[f>>2]=V,e[f+8>>2]=-2147483600,e[f+4>>2]=34,I=V,N=9835,X=I+34|0;do Z[I>>0]=Z[N>>0]|0,I=I+1|0,N=N+1|0;while((I|0)<(X|0));if(Z[V+34>>0]=0,N=j2(Q,f,1)|0,(Z[f+11>>0]|0)<0&&ve(e[f>>2]|0),N)C=27;else{if(D)j=1;else{N=e[g>>2]|0,I=0,X=0;do X=e[N+(I<<2)>>2]|X,I=I+1|0;while((I|0)!=(M|0));X?j=((S0(X|0)|0)>>>3^3)+1|0:j=1}if(Z[d>>0]=0,I=x,N=e[I>>2]|0,Q=e[I+4>>2]|0,(Q|0)>0|(Q|0)==0&N>>>0>0?($=Q,J=N):(e[h>>2]=e[o+4>>2],e[f>>2]=e[h>>2],vr(o,f,d,d+1|0)|0,N=x,$=e[N+4>>2]|0,J=e[N>>2]|0),Z[d>>0]=j,($|0)>0|($|0)==0&J>>>0>0||(e[h>>2]=e[o+4>>2],e[f>>2]=e[h>>2],vr(o,f,d,d+1|0)|0),(j|0)==(jy(5)|0)){N=e[g>>2]|0,Q=x,I=e[Q+4>>2]|0,(I|0)>0|(I|0)==0&(e[Q>>2]|0)>>>0>0||(e[h>>2]=e[o+4>>2],e[f>>2]=e[h>>2],vr(o,f,N,N+(M<<2)|0)|0),C=48;break}if(D)C=48;else{N=o+4|0,Q=0;do I=(e[g>>2]|0)+(Q<<2)|0,V=x,L=e[V+4>>2]|0,(L|0)>0|(L|0)==0&(e[V>>2]|0)>>>0>0||(e[h>>2]=e[N>>2],e[f>>2]=e[h>>2],vr(o,f,I,I+j|0)|0),Q=Q+1|0;while(Q>>>0<M>>>0);C=48}}}else C=27;while(0);(C|0)==27&&(Z[d>>0]=1,M=x,x=e[M+4>>2]|0,(x|0)>0|(x|0)==0&(e[M>>2]|0)>>>0>0||(e[h>>2]=e[o+4>>2],e[f>>2]=e[h>>2],vr(o,f,d,d+1|0)|0),W2(f),d=e[U>>2]|0,d|0&&DL(f,10-(ol(e[d+48>>2]|0)|0)|0)|0,d=nl(e[g>>2]|0,_i((e[n+4>>2]|0)-(e[n>>2]|0)>>2,c)|0,c,f,o)|0,hs(f,e[f+4>>2]|0),d?C=48:F=0),(C|0)==48&&(C=e[b>>2]|0,C&&M0[e[(e[C>>2]|0)+40>>2]&127](C,o)|0,F=1),o=e[g>>2]|0,o|0&&(g=e[v>>2]|0,(g|0)!=(o|0)&&(e[v>>2]=g+(~((g+-4-o|0)>>>2)<<2)),ve(o)),S=F}return m=S,q=a,m|0}function EL(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0,v=0,x=0,C=0,S=0,M=0,I=0,D=0,L=0,N=0,X=0,V=0,Q=0,U=0,j=0,$=0,J=0,F=0,K=0,re=0,se=0,fe=0,Ee=0,Ne=0,me=0,Ie=0,_e=0,Ce=0,We=0,at=0,Ke=0,Ve=0,Ue=0,st=0,Qe=0,it=0,ze=0,Ge=0;for(n=q,q=q+48|0,o=n+24|0,a=n+12|0,f=n,h=r+32|0,c=r+8|0,g=r+12|0,d=e[g>>2]|0,m=e[c>>2]|0,b=d-m>>2,v=r+36|0,x=e[v>>2]|0,C=e[h>>2]|0,S=x-C>>2,M=C,C=x,x=m,b>>>0<=S>>>0?b>>>0<S>>>0&&(I=M+(b<<2)|0,(I|0)!=(C|0))?(e[v>>2]=C+(~((C+-4-I|0)>>>2)<<2),D=x,L=m,N=d):(D=x,L=m,N=d):(q0(h,b-S|0),S=e[c>>2]|0,D=S,L=S,N=e[g>>2]|0),S=N-L|0,b=S>>2,e[o>>2]=0,d=o+4|0,e[d>>2]=0,m=o+8|0,e[m>>2]=0,b|0&&((S|0)<0&&Je(),S=((b+-1|0)>>>5)+1|0,x=Dt(S<<2)|0,e[o>>2]=x,e[m>>2]=S,e[d>>2]=b,d=b>>>5,Mi(x|0,0,d<<2|0)|0,S=b&31,b=x+(d<<2)|0,S|0&&(e[b>>2]=e[b>>2]&~(-1>>>(32-S|0)))),S=r+20|0,b=0,d=D,D=L,L=N;;){if(b>>>0<L-D>>2>>>0)X=0,V=0,Q=b,U=D,j=d;else{$=25;break}for(;;){N=V>>>5,x=1<<(V&31);do if(e[(e[o>>2]|0)+(N<<2)>>2]&x)Ee=X,Ne=Q,me=U;else{if(m=e[j+(V<<2)>>2]|0,(e[m+8>>2]|0)!=(e[m+4>>2]|0)){for(I=0,C=1,v=j,M=m;;){for(m=e[(e[M+4>>2]|0)+(I<<2)>>2]|0,J=0,F=v;;){if(K=e[F+(V<<2)>>2]|0,(J|0)>=(M0[e[(e[K>>2]|0)+24>>2]&127](K,m)|0)){re=C;break}if(K=e[(e[c>>2]|0)+(V<<2)>>2]|0,se=Xo[e[(e[K>>2]|0)+28>>2]&31](K,m,J)|0,(se|0)!=(V|0)&&(K=e[(e[S>>2]|0)+(se<<2)>>2]|0,(1<<(K&31)&e[(e[o>>2]|0)+(K>>>5<<2)>>2]|0)==0)){re=0;break}J=J+1|0,F=e[c>>2]|0}if(I=I+1|0,v=e[c>>2]|0,M=e[v+(V<<2)>>2]|0,I>>>0>=(e[M+8>>2]|0)-(e[M+4>>2]|0)>>2>>>0)break;C=re}if(C=v,re)fe=C;else{Ee=X,Ne=Q,me=C;break}}else fe=U;e[(e[h>>2]|0)+(Q<<2)>>2]=V,C=(e[o>>2]|0)+(N<<2)|0,e[C>>2]=e[C>>2]|x,Ee=1,Ne=Q+1|0,me=fe}while(0);if(V=V+1|0,Ie=e[g>>2]|0,_e=Ie-me>>2,j=me,V>>>0>=_e>>>0)break;X=Ee,Q=Ne,U=me}if(Ne>>>0<_e>>>0&(Ee^1)){Ce=0;break}else b=Ne,d=j,D=me,L=Ie}if(($|0)==25){e[a>>2]=0,$=a+4|0,e[$>>2]=0,e[a+8>>2]=0,Ie=e[r+4>>2]|0,r=(e[Ie+12>>2]|0)-(e[Ie+8>>2]|0)|0,Ie=r>>2,e[f>>2]=0,me=f+4|0,e[me>>2]=0,j=f+8|0,e[j>>2]=0,Ie|0&&((r|0)<0&&Je(),r=((Ie+-1|0)>>>5)+1|0,Ne=Dt(r<<2)|0,e[f>>2]=Ne,e[j>>2]=r,e[me>>2]=Ie,me=Ie>>>5,Mi(Ne|0,0,me<<2|0)|0,r=Ie&31,Ie=Ne+(me<<2)|0,r|0&&(e[Ie>>2]=e[Ie>>2]&~(-1>>>(32-r|0))));e:do if((L|0)==(D|0))We=1;else for(r=0,Ie=d,me=D,Ne=L;;){if(j=e[(e[h>>2]|0)+(r<<2)>>2]|0,b=e[Ie+(j<<2)>>2]|0,Ee=(e[b+8>>2]|0)-(e[b+4>>2]|0)|0,b=Ee>>2,(Ee|0)<8)at=me,Ke=Ne;else{for(Ee=e[$>>2]|0,_e=e[a>>2]|0,U=Ee-_e>>2,Q=_e,_e=Ee,b>>>0<=U>>>0?(b>>>0<U>>>0&&(Ee=Q+(b<<2)|0,(Ee|0)!=(_e|0))&&(e[$>>2]=_e+(~((_e+-4-Ee|0)>>>2)<<2)),Ve=0):(q0(a,b-U|0),Ve=0);(Ve|0)<(b|0);){Ue=0,st=0,Qe=Ve;for(;;){if(U=e[(e[c>>2]|0)+(j<<2)>>2]|0,Ee=e[(e[U+4>>2]|0)+(Ue<<2)>>2]|0,_e=Ue>>>5,Q=1<<(Ue&31),e[(e[f>>2]|0)+(_e<<2)>>2]&Q)ze=st,Ge=Qe;else{for(X=0,V=1,fe=U;;){if((X|0)>=(M0[e[(e[fe>>2]|0)+24>>2]&127](fe,Ee)|0)){it=V;break}if(U=e[(e[c>>2]|0)+(j<<2)>>2]|0,re=Xo[e[(e[U>>2]|0)+28>>2]&31](U,Ee,X)|0,U=(e[(e[f>>2]|0)+(re>>>5<<2)>>2]&1<<(re&31)|0)!=0,re=V&U,!U){it=re;break}X=X+1|0,V=re,fe=e[(e[c>>2]|0)+(j<<2)>>2]|0}it?(e[(e[a>>2]|0)+(Qe<<2)>>2]=Ue,fe=(e[f>>2]|0)+(_e<<2)|0,e[fe>>2]=e[fe>>2]|Q,ze=1,Ge=Qe+1|0):(ze=st,Ge=Qe)}if(Ue=Ue+1|0,(Ue|0)>=(b|0))break;st=ze,Qe=Ge}if(ze|(Ge|0)>=(b|0))Ve=Ge;else{We=0;break e}}T(e[(e[c>>2]|0)+(j<<2)>>2]|0,a),at=e[c>>2]|0,Ke=e[g>>2]|0}if(r=r+1|0,r>>>0>=Ke-at>>2>>>0){We=1;break}else Ie=at,me=at,Ne=Ke}while(0);Ke=e[f>>2]|0,Ke|0&&ve(Ke),Ke=e[a>>2]|0,Ke|0&&(a=e[$>>2]|0,(a|0)!=(Ke|0)&&(e[$>>2]=a+(~((a+-4-Ke|0)>>>2)<<2)),ve(Ke)),Ce=We}return We=e[o>>2]|0,We?(ve(We),q=n,Ce|0):(q=n,Ce|0)}function _L(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0;a=q,q=q+16|0,f=a,h=r+4|0,e[h>>2]=n,c=e[n+64>>2]|0,n=((e[c+4>>2]|0)-(e[c>>2]|0)>>2>>>0)/3|0,Z[f>>0]=0,po(r+24|0,n,f),n=e[h>>2]|0,h=(e[n+56>>2]|0)-(e[n+52>>2]|0)>>2,Z[f>>0]=0,po(r+36|0,h,f),f=r+8|0,e[f>>2]=e[o>>2],e[f+4>>2]=e[o+4>>2],e[f+8>>2]=e[o+8>>2],e[f+12>>2]=e[o+12>>2],q=a}function Uc(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0;n=r;e:do if(!(n&3))o=r,a=4;else for(f=r,h=n;;){if(!(Z[f>>0]|0)){c=h;break e}if(g=f+1|0,h=g,h&3)f=g;else{o=g,a=4;break}}while(0);if((a|0)==4){for(a=o;d=e[a>>2]|0,!((d&-2139062144^-2139062144)&d+-16843009);)a=a+4|0;if(!((d&255)<<24>>24))m=a;else for(d=a;;)if(a=d+1|0,Z[a>>0]|0)d=a;else{m=a;break}c=m}return c-n|0}function Sm(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0;a=q,q=q+16|0,f=a,h=r+11|0,c=Z[h>>0]|0,g=c<<24>>24<0,g?d=e[r+4>>2]|0:d=c&255;do if(d>>>0>=n>>>0)if(g){c=(e[r>>2]|0)+n|0,Z[f>>0]=0,gd(c,f),e[r+4>>2]=n;break}else{Z[f>>0]=0,gd(r+n|0,f),Z[h>>0]=n;break}else LP(r,n-d|0,o)|0;while(0);q=a}function kL(r){r=r|0;var n=0,o=0,a=0;!r||(n=r+88|0,o=e[n>>2]|0,e[n>>2]=0,o|0&&(n=e[o+8>>2]|0,n|0&&(a=o+12|0,(e[a>>2]|0)!=(n|0)&&(e[a>>2]=n),ve(n)),ve(o)),o=e[r+68>>2]|0,o|0&&(n=r+72|0,a=e[n>>2]|0,(a|0)!=(o|0)&&(e[n>>2]=a+(~((a+-4-o|0)>>>2)<<2)),ve(o)),o=r+64|0,a=e[o>>2]|0,e[o>>2]=0,a|0&&(o=e[a>>2]|0,o|0&&(n=a+4|0,(e[n>>2]|0)!=(o|0)&&(e[n>>2]=o),ve(o)),ve(a)),ve(r))}function Tm(r,n,o,a,f,h,c,g,d,m){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,c=c|0,g=g|0,d=d|0,m=m|0;var b=0,v=0,x=0;e[r>>2]=o,o|0&&(b=o+16|0,v=e[b+4>>2]|0,x=r+8|0,e[x>>2]=e[b>>2],e[x+4>>2]=v,v=o+24|0,o=e[v+4>>2]|0,x=r+16|0,e[x>>2]=e[v>>2],e[x+4>>2]=o),Z[r+24>>0]=a,e[r+28>>2]=f,Z[r+32>>0]=h&1,h=r+40|0,e[h>>2]=c,e[h+4>>2]=g,g=r+48|0,e[g>>2]=d,e[g+4>>2]=m,e[r+56>>2]=n}function CL(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0;(e[n+76>>2]|0)>=0&&(ul()|0)!=0?(o=r&255,a=r&255,(a|0)!=(Z[n+75>>0]|0)&&(f=n+20|0,h=e[f>>2]|0,h>>>0<(e[n+16>>2]|0)>>>0)?(e[f>>2]=h+1,Z[h>>0]=o,c=a):c=ok(n,r)|0,g=c):d=3;do if((d|0)==3){if(c=r&255,a=r&255,(a|0)!=(Z[n+75>>0]|0)&&(o=n+20|0,h=e[o>>2]|0,h>>>0<(e[n+16>>2]|0)>>>0)){e[o>>2]=h+1,Z[h>>0]=c,g=a;break}g=ok(n,r)|0}while(0);return g|0}function SL(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0;return o=q,q=q+16|0,a=o+4|0,f=o,h=o+8|0,c=e[r+4>>2]|0,(c|0)==-1?(g=0,q=o,g|0):(Z[h>>0]=c,c=n+16|0,r=e[c+4>>2]|0,(r|0)>0|(r|0)==0&(e[c>>2]|0)>>>0>0||(e[f>>2]=e[n+4>>2],e[a>>2]=e[f>>2],vr(n,a,h,h+1|0)|0),g=1,q=o,g|0)}function ok(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0,m=0,b=0;o=q,q=q+16|0,a=o,f=n&255,Z[a>>0]=f,h=r+16|0,c=e[h>>2]|0,c?(g=c,d=4):Sk(r)|0?m=-1:(g=e[h>>2]|0,d=4);do if((d|0)==4){if(c=r+20|0,h=e[c>>2]|0,h>>>0<g>>>0&&(b=n&255,(b|0)!=(Z[r+75>>0]|0))){e[c>>2]=h+1,Z[h>>0]=f,m=b;break}(Xo[e[r+36>>2]&31](r,a,1)|0)==1?m=yi[a>>0]|0:m=-1}while(0);return q=o,m|0}function ak(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0;o=Dt(88)|0,a=o+60|0,f=o,h=f+60|0;do e[f>>2]=0,f=f+4|0;while((f|0)<(h|0));e[a>>2]=o,a=o+64|0,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[a+16>>2]=0,e[a+20>>2]=0,a=L6(o,n)|0,e[r>>2]=a?o:0,r=a?0:o,!a&&(uf(r),ve(r))}function ju(r,n){if(r=r|0,n=n|0,n){ju(r,e[n>>2]|0),ju(r,e[n+4>>2]|0),hs(n+20|0,e[n+24>>2]|0),ve(n);return}else return}function TL(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0;a=q,q=q+16|0,f=a,h=r+4|0,e[h>>2]=n,c=((e[n+4>>2]|0)-(e[n>>2]|0)>>2>>>0)/3|0,Z[f>>0]=0,po(r+24|0,c,f),c=e[h>>2]|0,h=(e[c+28>>2]|0)-(e[c+24>>2]|0)>>2,Z[f>>0]=0,po(r+36|0,h,f),f=r+8|0,e[f>>2]=e[o>>2],e[f+4>>2]=e[o+4>>2],e[f+8>>2]=e[o+8>>2],e[f+12>>2]=e[o+12>>2],q=a}function lk(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0;a=q,q=q+16|0,f=a,h=a+4|0,e[f>>2]=n,n=r+4|0,r=Dt(32)|0,e[h>>2]=r,e[h+8>>2]=-2147483616,e[h+4>>2]=17,c=r,g=12932,d=c+17|0;do Z[c>>0]=Z[g>>0]|0,c=c+1|0,g=g+1|0;while((c|0)<(d|0));if(Z[r+17>>0]=0,V2(Xf(n,f)|0,h,o),(Z[h+11>>0]|0)>=0){q=a;return}ve(e[h>>2]|0),q=a}function ML(r,n){r=r|0,n=n|0;var o=0,a=0,f=0;return o=e[r+16>>2]|0,((e[r+20>>2]|0)-o>>2|0)<=(n|0)||(f=e[o+(n<<2)>>2]|0,(f|0)<0)?(a=0,a|0):(n=r+48|0,(e[r+52>>2]|0)>>>0<=f>>>0&&Ic(n,f+1|0,0),o=(e[n>>2]|0)+(f>>>5<<2)|0,e[o>>2]=e[o>>2]|1<<(f&31),o=e[r+36>>2]|0,(e[r+40>>2]|0)-o>>2>>>0<=f>>>0?(a=1,a|0):(dC(e[o+(f<<2)>>2]|0),a=1,a|0))}function RL(r){r=r|0,r&&(e[r>>2]=1136,hs(r+28|0,e[r+32>>2]|0),Cm(r+16|0,e[r+20>>2]|0),hs(r+4|0,e[r+8>>2]|0),ve(r))}function BL(r){r=r|0,e[r>>2]=1136,hs(r+28|0,e[r+32>>2]|0),Cm(r+16|0,e[r+20>>2]|0),hs(r+4|0,e[r+8>>2]|0)}function U2(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0;if(n>>>0>0|(n|0)==0&r>>>0>4294967295){for(a=o,f=r,h=n;n=Jy(f|0,h|0,10,0)|0,a=a+-1|0,Z[a>>0]=n&255|48,n=f,f=z2(f|0,h|0,10,0)|0,h>>>0>9|(h|0)==9&n>>>0>4294967295;)h=Xe;c=f,g=a}else c=r,g=o;if(!c)d=g;else for(o=c,c=g;;)if(g=c+-1|0,Z[g>>0]=(o>>>0)%10|0|48,o>>>0<10){d=g;break}else o=(o>>>0)/10|0,c=g;return d|0}function Dy(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0,d=0;for(n=r;o=n+1|0,vC(Z[n>>0]|0)|0;)n=o;switch(r=Z[n>>0]|0,r<<24>>24|0){case 45:{a=1,f=5;break}case 43:{a=0,f=5;break}default:h=0,c=n,g=r}if((f|0)==5&&(h=a,c=o,g=Z[o>>0]|0),!(bd(g<<24>>24)|0))d=0;else for(g=0,o=c;;)if(c=(g*10|0)+48-(Z[o>>0]|0)|0,o=o+1|0,bd(Z[o>>0]|0)|0)g=c;else{d=c;break}return(h|0?d:0-d|0)|0}function IL(r,n,o){r=r|0,n=n|0,o=qt(o);var a=0,f=0,h=0;a=q,q=q+16|0,f=a,Ek(f,o),h=Ry(r,n)|0,n=h+11|0,(Z[n>>0]|0)<0?(Z[e[h>>2]>>0]=0,e[h+4>>2]=0):(Z[h>>0]=0,Z[n>>0]=0),N6(h,0),e[h>>2]=e[f>>2],e[h+4>>2]=e[f+4>>2],e[h+8>>2]=e[f+8>>2],q=a}function Py(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0;a=q,q=q+16|0,f=a,_k(f,o&1),o=Ry(r,n)|0,n=o+11|0,(Z[n>>0]|0)<0?(Z[e[o>>2]>>0]=0,e[o+4>>2]=0):(Z[o>>0]=0,Z[n>>0]=0),N6(o,0),e[o>>2]=e[f>>2],e[o+4>>2]=e[f+4>>2],e[o+8>>2]=e[f+8>>2],q=a}function V2(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0;a=q,q=q+16|0,f=a,_k(f,o),o=Ry(r,n)|0,n=o+11|0,(Z[n>>0]|0)<0?(Z[e[o>>2]>>0]=0,e[o+4>>2]=0):(Z[o>>0]=0,Z[n>>0]=0),N6(o,0),e[o>>2]=e[f>>2],e[o+4>>2]=e[f+4>>2],e[o+8>>2]=e[f+8>>2],q=a}function j2(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0;return a=X0(r,n)|0,(a|0)==(r+4|0)?(f=-1,h=(f|0)==-1,c=(f|0)!=0,g=h?o:c,g|0):(r=a+28|0,(Z[r+11>>0]|0)<0?d=e[r>>2]|0:d=r,f=Dy(d)|0,h=(f|0)==-1,c=(f|0)!=0,g=h?o:c,g|0)}function DL(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0;if(o=q,q=q+16|0,a=o,n>>>0>10)return f=0,q=o,f|0;h=Dt(48)|0,e[a>>2]=h,e[a+8>>2]=-2147483600,e[a+4>>2]=33,c=h,g=13067,d=c+33|0;do Z[c>>0]=Z[g>>0]|0,c=c+1|0,g=g+1|0;while((c|0)<(d|0));return Z[h+33>>0]=0,V2(r,a,n),(Z[a+11>>0]|0)<0&&ve(e[a>>2]|0),f=1,q=o,f|0}function fk(r){r=r|0,e[r>>2]=1136,hs(r+28|0,e[r+32>>2]|0),Cm(r+16|0,e[r+20>>2]|0),hs(r+4|0,e[r+8>>2]|0),ve(r)}function Ly(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0;return o=e[n>>2]|0,(o|0)==-1||(n=o*3|0,(n|0)==-1)||(o=e[r>>2]|0,r=e[o+(n<<2)>>2]|0,a=n+1|0,f=((a>>>0)%3|0|0)==0?n+-2|0:a,(f|0)==-1?h=-1:h=e[o+(f<<2)>>2]|0,f=(((n>>>0)%3|0|0)==0?2:-1)+n|0,(f|0)==-1?c=-1:c=e[o+(f<<2)>>2]|0,(r|0)==(h|0))?1:(r|0)==(c|0)|(h|0)==(c|0)|0}function PL(r){r=r|0,e[r>>2]=2968,hs(r+28|0,e[r+32>>2]|0),ju(r+16|0,e[r+20>>2]|0),hs(r+4|0,e[r+8>>2]|0)}function LL(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0;for(o=0;;){if((yi[15560+o>>0]|0)==(r|0)){a=2;break}if(f=o+1|0,(f|0)==87){h=15648,c=87,a=5;break}else o=f}if((a|0)==2&&(o?(h=15648,c=o,a=5):g=15648),(a|0)==5)for(;;){a=0,o=h;do r=o,o=o+1|0;while((Z[r>>0]|0)!=0);if(c=c+-1|0,c)h=o,a=5;else{g=o;break}}return MH(g,e[n+20>>2]|0)|0}function uk(r,n){r=+r,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0;switch(L0[En>>3]=r,o=e[En>>2]|0,a=e[En+4>>2]|0,f=r0(o|0,a|0,52)|0,f&2047){case 0:{r!=0?(h=+uk(r*0xffffffffffffffff,n),c=h,g=(e[n>>2]|0)+-64|0):(c=r,g=0),e[n>>2]=g,d=c;break}case 2047:{d=r;break}default:e[n>>2]=(f&2047)+-1022,e[En>>2]=o,e[En+4>>2]=a&-2146435073|1071644672,d=+L0[En>>3]}return+d}function ck(r){r=r|0,e[r>>2]=2968,hs(r+28|0,e[r+32>>2]|0),ju(r+16|0,e[r+20>>2]|0),hs(r+4|0,e[r+8>>2]|0),ve(r)}function Ny(r,n){r=+r,n=n|0;var o=0,a=0,f=0,h=0,c=0;return(n|0)<=1023?(n|0)<-1022?(o=r*22250738585072014e-324,a=(n|0)<-2044,f=n+2044|0,h=a?o*22250738585072014e-324:o,c=a?(f|0)>-1022?f:-1022:n+1022|0):(h=r,c=n):(o=r*898846567431158e293,f=(n|0)>2046,a=n+-2046|0,h=f?o*898846567431158e293:o,c=f?(a|0)<1023?a:1023:n+-1023|0),n=$n(c+1023|0,0,52)|0,c=Xe,e[En>>2]=n,e[En+4>>2]=c,+(h*+L0[En>>3])}function NL(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0;if(!(e[r+80>>2]|0))return n=0,n|0;if(o=r+8|0,a=r+12|0,r=e[o>>2]|0,((e[a>>2]|0)-r|0)>0)f=0,h=r;else return n=1,n|0;for(;;){if(r=e[h+(f<<2)>>2]|0,f=f+1|0,!(MN(r,r)|0)){n=0,c=5;break}if(h=e[o>>2]|0,(f|0)>=((e[a>>2]|0)-h>>2|0)){n=1,c=5;break}}return(c|0)==5?n|0:0}function FL(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0;if(o=r+36|0,a=r+40|0,f=e[o>>2]|0,(e[a>>2]|0)==(f|0))return h=1,h|0;for(c=r+60|0,r=0,g=f;;){if(f=e[g+(r<<2)>>2]|0,r=r+1|0,!(Xo[e[(e[f>>2]|0)+20>>2]&31](f,c,n)|0)){h=0,d=5;break}if(g=e[o>>2]|0,r>>>0>=(e[a>>2]|0)-g>>2>>>0){h=1,d=5;break}}return(d|0)==5?h|0:0}function OL(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0;if(o=r+36|0,a=r+40|0,r=e[o>>2]|0,(e[a>>2]|0)==(r|0))return f=1,f|0;for(h=0,c=r;;){if(r=e[c+(h<<2)>>2]|0,h=h+1|0,!(M0[e[(e[r>>2]|0)+24>>2]&127](r,n)|0)){f=0,g=4;break}if(c=e[o>>2]|0,h>>>0>=(e[a>>2]|0)-c>>2>>>0){f=1,g=4;break}}return(g|0)==4?f|0:0}function cf(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0;e[r>>2]=0,o=r+4|0,e[o>>2]=0,e[r+8>>2]=0,a=n+4|0,f=(e[a>>2]|0)-(e[n>>2]|0)|0,h=f>>2,h&&(h>>>0>1073741823&&Je(),c=Dt(f)|0,e[o>>2]=c,e[r>>2]=c,e[r+8>>2]=c+(h<<2),h=e[n>>2]|0,n=(e[a>>2]|0)-h|0,!((n|0)<=0)&&(Fr(c|0,h|0,n|0)|0,e[o>>2]=c+(n>>>2<<2)))}function al(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0;o=r+8|0,a=e[r>>2]|0,!((e[o>>2]|0)-a>>2>>>0>=n>>>0)&&(f=r+4|0,n>>>0>1073741823&&(h=wn(8)|0,u0(h,14941),e[h>>2]=6944,yn(h|0,1080,114)),h=(e[f>>2]|0)-a|0,c=Dt(n<<2)|0,(h|0)>0&&Fr(c|0,a|0,h|0)|0,e[r>>2]=c,e[f>>2]=c+(h>>2<<2),e[o>>2]=c+(n<<2),a&&ve(a))}function HL(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0,g=0;if(n=r+36|0,o=r+40|0,a=e[n>>2]|0,(e[o>>2]|0)==(a|0))return f=1,f|0;for(h=r+60|0,r=0,c=a;;){if(a=e[c+(r<<2)>>2]|0,r=r+1|0,!(M0[e[(e[a>>2]|0)+16>>2]&127](a,h)|0)){f=0,g=5;break}if(c=e[n>>2]|0,r>>>0>=(e[o>>2]|0)-c>>2>>>0){f=1,g=5;break}}return(g|0)==5?f|0:0}function hk(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0;o=q,q=q+16|0,a=o,f=Dt(16)|0,e[a>>2]=f,e[a+8>>2]=-2147483632,e[a+4>>2]=15,h=f,c=12916,g=h+15|0;do Z[h>>0]=Z[c>>0]|0,h=h+1|0,c=c+1|0;while((h|0)<(g|0));if(Z[f+15>>0]=0,V2(r+4|0,a,n),(Z[a+11>>0]|0)>=0){q=o;return}ve(e[a>>2]|0),q=o}function UL(r,n){r=r|0,n=n|0;var o=0,a=0;if(e[r>>2]=0,e[r+4>>2]=n,n|0&&(o=O6(n,992,976,0)|0,o|0)){if(a=Dt(56)|0,Uk(a,o),o=e[r>>2]|0,e[r>>2]=a,!o)return;Fn[e[(e[o>>2]|0)+4>>2]&127](o);return}o=Dt(56)|0,Hk(o,n),n=e[r>>2]|0,e[r>>2]=o,n&&Fn[e[(e[n>>2]|0)+4>>2]&127](n)}function dk(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0;if(o=e[r+176>>2]|0,a=e[r+172>>2]|0,r=a,(o|0)==(a|0))return 0;for(f=(o-a|0)/136|0,a=0;;){if((e[r+(a*136|0)>>2]|0)==(n|0)){h=4;break}if(o=a+1|0,o>>>0<f>>>0)a=o;else{h=6;break}}return(h|0)==4?((Z[r+(a*136|0)+100>>0]|0)==0?0:r+(a*136|0)+4|0)|0:((h|0)==6,0)}function VL(r,n){r=r|0,n=n|0;var o=0,a=0;return o=e[r+72>>2]|0,!o||(e[o+4>>2]=r+60,!(kn[e[(e[o>>2]|0)+12>>2]&127](o)|0))||!(kn[e[(e[r>>2]|0)+40>>2]&127](r)|0)||!(M0[e[(e[r>>2]|0)+44>>2]&127](r,n)|0)?(a=0,a|0):(a=M0[e[(e[r>>2]|0)+48>>2]&127](r,n)|0,a|0)}function G2(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0;if(e[r>>2]=0,a=r+4|0,e[a>>2]=0,e[r+8>>2]=0,!!n){n>>>0>357913941&&Je(),f=Dt(n*12|0)|0,e[a>>2]=f,e[r>>2]=f,e[r+8>>2]=f+(n*12|0),r=n,n=f;do cf(n,o),n=(e[a>>2]|0)+12|0,e[a>>2]=n,r=r+-1|0;while((r|0)!=0)}}function jL(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0;return o=e[n>>2]|0,o?(f=r+44|0,h=e[f>>2]|0,h>>>0<(e[r+48>>2]|0)>>>0?(e[n>>2]=0,e[h>>2]=o,e[f>>2]=(e[f>>2]|0)+4,a=1,a|0):(ff(r+40|0,n),a=1,a|0)):(a=0,a|0)}function GL(r){r=r|0;var n=0,o=0,a=0;if(e[r>>2]=2880,e[r+40>>2]=1180,n=e[r+48>>2]|0,n|0&&(o=r+52|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),e[r>>2]=1460,n=r+36|0,a=e[n>>2]|0,e[n>>2]=0,!a){Hc(r),ve(r);return}Fn[e[(e[a>>2]|0)+4>>2]&127](a),Hc(r),ve(r)}function zL(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0;e[n>>2]=2,o=r+4|0,r=n+8|0,a=e[r>>2]|0,f=(e[n+12>>2]|0)-a|0,f>>>0<4294967292?(Oy(r,f+4|0,0),h=e[r>>2]|0):h=a,a=h+f|0,f=yi[o>>0]|yi[o+1>>0]<<8|yi[o+2>>0]<<16|yi[o+3>>0]<<24,Z[a>>0]=f,Z[a+1>>0]=f>>8,Z[a+2>>0]=f>>16,Z[a+3>>0]=f>>24}function WL(r){r=r|0;var n=0,o=0,a=0,f=0;if(e[r>>2]=3164,n=r+8|0,e[n>>2]=3188,o=e[r+56>>2]|0,o|0&&(a=r+60|0,f=e[a>>2]|0,(f|0)!=(o|0)&&(e[a>>2]=f+(~((f+-4-o|0)>>>2)<<2)),ve(o)),e[n>>2]=3208,n=e[r+44>>2]|0,n|0&&ve(n),n=e[r+32>>2]|0,!n){ve(r);return}ve(n),ve(r)}function Fy(r,n,o){r=r|0,n=n|0,o=qt(o);var a=0,f=Ar,h=0;return a=X0(r,n)|0,(a|0)==(r+4|0)?(f=o,qt(f)):(r=a+28|0,(Z[r+11>>0]|0)<0?h=e[r>>2]|0:h=r,f=qt(+UH(h)),qt(f))}function Sn(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0;if(n=q,q=q+16|0,o=n,a=o,e[a>>2]=0,e[a+4>>2]=0,F2(r,2,o),o=e[r+12>>2]|0,a=r+16|0,f=e[a>>2]|0,(f|0)==(o|0)){h=r+24|0,e[h>>2]=0,c=r+28|0,e[c>>2]=0,q=n;return}e[a>>2]=f+(~((f+-4-o|0)>>>2)<<2),h=r+24|0,e[h>>2]=0,c=r+28|0,e[c>>2]=0,q=n}function pk(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0,g=0,d=0;o=e[r+176>>2]|0,a=e[r+172>>2]|0,f=a;e:do if((o|0)!=(a|0)){for(h=(o-a|0)/136|0,c=0;(e[f+(c*136|0)>>2]|0)!=(n|0);)if(g=c+1|0,g>>>0<h>>>0)c=g;else break e;return d=f+(c*136|0)+104|0,d|0}while(0);return d=r+40|0,d|0}function QL(r){r=r|0;var n=0,o=0,a=0,f=0;if(e[r>>2]=3232,n=r+8|0,e[n>>2]=3256,o=e[r+56>>2]|0,o|0&&(a=r+60|0,f=e[a>>2]|0,(f|0)!=(o|0)&&(e[a>>2]=f+(~((f+-4-o|0)>>>2)<<2)),ve(o)),e[n>>2]=3276,n=e[r+44>>2]|0,n|0&&ve(n),n=e[r+32>>2]|0,!n){ve(r);return}ve(n),ve(r)}function JL(r){r=r|0;var n=0,o=0,a=0;if(e[r>>2]=2880,e[r+40>>2]=1180,n=e[r+48>>2]|0,n|0&&(o=r+52|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),e[r>>2]=1460,n=r+36|0,a=e[n>>2]|0,e[n>>2]=0,!a){Hc(r);return}Fn[e[(e[a>>2]|0)+4>>2]&127](a),Hc(r)}function XL(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0,c=0;J1(r,n),!((n|0)<=-1)&&(o=r+88|0,a=e[o>>2]|0,f=e[r+84>>2]|0,!((a-f>>2|0)<=(n|0))&&(r=f+(n<<2)|0,n=r+4|0,f=a-n|0,h=f>>2,h?(W0(r|0,n|0,f|0)|0,c=e[o>>2]|0):c=a,f=r+(h<<2)|0,(c|0)!=(f|0)&&(e[o>>2]=c+(~((c+-4-f|0)>>>2)<<2))))}function qL(r){r=r|0;var n=0,o=0,a=0,f=0,h=0,c=0;if(n=e[r+32>>2]|0,o=e[r+36>>2]|0,(n|0)==(o|0))return a=1,a|0;for(f=r+8|0,h=r+44|0,r=n;;){if(n=e[(e[f>>2]|0)+(e[r>>2]<<2)>>2]|0,r=r+4|0,!(M0[e[(e[n>>2]|0)+20>>2]&127](n,e[h>>2]|0)|0)){a=0,c=5;break}if((r|0)==(o|0)){a=1,c=5;break}}return(c|0)==5?a|0:0}function ZL(r){r=r|0;var n=0,o=0,a=0,f=0;e[r>>2]=3164,n=r+8|0,e[n>>2]=3188,o=e[r+56>>2]|0,o|0&&(a=r+60|0,f=e[a>>2]|0,(f|0)!=(o|0)&&(e[a>>2]=f+(~((f+-4-o|0)>>>2)<<2)),ve(o)),e[n>>2]=3208,n=e[r+44>>2]|0,n|0&&ve(n),n=e[r+32>>2]|0,n&&ve(n)}function mk(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0;a=q,q=q+128|0,f=a,h=f,c=h+124|0;do e[h>>2]=0,h=h+4|0;while((h|0)<(c|0));return h=f+4|0,e[h>>2]=r,c=f+8|0,e[c>>2]=-1,e[f+44>>2]=r,e[f+76>>2]=-1,dd(f,0),g=+Qf(f,o,1),o=(e[h>>2]|0)-(e[c>>2]|0)+(e[f+108>>2]|0)|0,n|0&&(e[n>>2]=o|0?r+o|0:r),q=a,+g}function gk(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0;r=n+16|0,f=e[r>>2]|0;do if(f){if((f|0)!=(o|0)){h=n+36|0,e[h>>2]=(e[h>>2]|0)+1,e[n+24>>2]=2,Z[n+54>>0]=1;break}h=n+24|0,(e[h>>2]|0)==2&&(e[h>>2]=a)}else e[r>>2]=o,e[n+24>>2]=a,e[n+36>>2]=1;while(0)}function YL(r){r=r|0;var n=0,o=0,a=0;return n=r+74|0,o=Z[n>>0]|0,Z[n>>0]=o+255|o,o=r+20|0,n=r+28|0,(e[o>>2]|0)>>>0>(e[n>>2]|0)>>>0&&Xo[e[r+36>>2]&31](r,0,0)|0,e[r+16>>2]=0,e[n>>2]=0,e[o>>2]=0,o=e[r>>2]|0,o&4?(e[r>>2]=o|32,a=-1):(n=(e[r+44>>2]|0)+(e[r+48>>2]|0)|0,e[r+8>>2]=n,e[r+4>>2]=n,a=o<<27>>31),a|0}function bk(r,n){r=r|0,n=n|0;var o=0,a=0,f=0;return o=X0(r,n)|0,(o|0)==(r+4|0)?(a=0,a|0):(r=o+28|0,(Z[r+11>>0]|0)<0?f=e[r>>2]|0:f=r,a=((Dy(f)|0)+1|0)>>>0>1,a|0)}function KL(r){r=r|0;var n=0,o=0,a=0;if(e[r>>2]=5840,n=e[r+96>>2]|0,n|0&&(o=r+100|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~(((a+-12-n|0)>>>0)/12|0)*12|0)),ve(n)),n=e[r+84>>2]|0,!n){va(r),ve(r);return}a=r+88|0,o=e[a>>2]|0,(o|0)!=(n|0)&&(e[a>>2]=o+(~((o+-4-n|0)>>>2)<<2)),ve(n),va(r),ve(r)}function $L(r){r=r|0;var n=0,o=0,a=0,f=0;e[r>>2]=3232,n=r+8|0,e[n>>2]=3256,o=e[r+56>>2]|0,o|0&&(a=r+60|0,f=e[a>>2]|0,(f|0)!=(o|0)&&(e[a>>2]=f+(~((f+-4-o|0)>>>2)<<2)),ve(o)),e[n>>2]=3276,n=e[r+44>>2]|0,n|0&&ve(n),n=e[r+32>>2]|0,n&&ve(n)}function go(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0;return a=X0(r,n)|0,(a|0)==(r+4|0)?(f=o,f|0):(o=a+28|0,(Z[o+11>>0]|0)<0?h=e[o>>2]|0:h=o,f=Dy(h)|0,f|0)}function m0(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0,c=0,g=0,d=0;return f=n>>31|((n|0)<0?-1:0)<<1,h=((n|0)<0?-1:0)>>31|((n|0)<0?-1:0)<<1,c=a>>31|((a|0)<0?-1:0)<<1,g=((a|0)<0?-1:0)>>31|((a|0)<0?-1:0)<<1,d=Gr(f^r|0,h^n|0,f|0,h|0)|0,n=Xe,r=c^f,f=g^h,Gr((M2(d,n,Gr(c^o|0,g^a|0,c|0,g|0)|0,Xe,0)|0)^r|0,Xe^f|0,r|0,f|0)|0}function eN(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0,g=0,d=0;e[r>>2]=n,c=n+16|0,g=e[c+4>>2]|0,d=r+8|0,e[d>>2]=e[c>>2],e[d+4>>2]=g,g=n+24|0,n=e[g+4>>2]|0,d=r+16|0,e[d>>2]=e[g>>2],e[d+4>>2]=n,n=r+40|0,e[n>>2]=o,e[n+4>>2]=a,a=r+48|0,e[a>>2]=f,e[a+4>>2]=h}function Oy(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0;o=r+4|0,a=e[o>>2]|0,f=e[r>>2]|0,h=a-f|0,c=f,f=a,h>>>0>=n>>>0?h>>>0>n>>>0&&(a=c+n|0,(a|0)!=(f|0))&&(e[o>>2]=a):Na(r,n-h|0),h=r+24|0,r=h,n=Wt(e[r>>2]|0,e[r+4>>2]|0,1,0)|0,r=h,e[r>>2]=n,e[r+4>>2]=Xe}function yk(r,n){r=r|0,n=n|0;var o=0,a=0,f=0;return o=X0(r,n)|0,(o|0)==(r+4|0)?(a=-1,a|0):(r=o+28|0,(Z[r+11>>0]|0)<0?f=e[r>>2]|0:f=r,a=Dy(f)|0,a|0)}function tN(r){r=r|0;var n=0,o=0,a=0;if(e[r>>2]=5840,n=e[r+96>>2]|0,n|0&&(o=r+100|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~(((a+-12-n|0)>>>0)/12|0)*12|0)),ve(n)),n=e[r+84>>2]|0,!n){va(r);return}a=r+88|0,o=e[a>>2]|0,(o|0)!=(n|0)&&(e[a>>2]=o+(~((o+-4-n|0)>>>2)<<2)),ve(n),va(r)}function Ak(r){r=r|0;var n=0,o=0,a=0;e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,Z[r+24>>0]=1,n=r+68|0,o=r+28|0,a=o+40|0;do e[o>>2]=0,o=o+4|0;while((o|0)<(a|0));e[n>>2]=r,n=r+72|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0}function iN(r){r=r|0;var n=0,o=0,a=0;if(e[r>>2]=3188,n=e[r+48>>2]|0,n|0&&(o=r+52|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),e[r>>2]=3208,n=e[r+36>>2]|0,n|0&&ve(n),n=e[r+24>>2]|0,!n){ve(r);return}ve(n),ve(r)}function rN(r){r=r|0;var n=0,o=0,a=0;if(e[r>>2]=2004,n=e[r+76>>2]|0,n|0&&ve(n),e[r>>2]=1528,n=e[r+32>>2]|0,!n){ve(r);return}o=r+36|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n),ve(r)}function Oo(r,n,o,a,f){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0;var h=0,c=0,g=0;if(h=q,q=q+256|0,c=h,(o|0)>(a|0)&(f&73728|0)==0){if(f=o-a|0,Mi(c|0,n<<24>>24|0,(f>>>0<256?f:256)|0)|0,f>>>0>255){n=o-a|0,a=f;do Mo(r,c,256),a=a+-256|0;while(a>>>0>255);g=n&255}else g=f;Mo(r,c,g)}q=h}function nN(r){r=r|0;var n=0,o=0,a=0;if(e[r>>2]=3256,n=e[r+48>>2]|0,n|0&&(o=r+52|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),e[r>>2]=3276,n=e[r+36>>2]|0,n|0&&ve(n),n=e[r+24>>2]|0,!n){ve(r);return}ve(n),ve(r)}function sN(r){r=r|0;var n=0,o=0,a=0;if(e[r>>2]=1696,n=e[r+76>>2]|0,n|0&&ve(n),e[r>>2]=1528,n=e[r+32>>2]|0,!n){ve(r);return}o=r+36|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n),ve(r)}function oN(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0;var c=0;tu(r,e[n+8>>2]|0)|0?V_(0,n,o,a,f):(c=e[r+8>>2]|0,sA[e[(e[c>>2]|0)+20>>2]&3](c,n,o,a,f,h))}function aN(r){r=r|0;var n=0,o=0,a=0;e[r>>2]=3188,n=e[r+48>>2]|0,n|0&&(o=r+52|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),e[r>>2]=3208,n=e[r+36>>2]|0,n|0&&ve(n),n=e[r+24>>2]|0,n&&ve(n)}function lN(r){r=r|0;var n=0,o=0,a=0;if(e[r>>2]=2060,ln(r+108|0),e[r>>2]=1528,n=e[r+32>>2]|0,!n){ve(r);return}o=r+36|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n),ve(r)}function fN(r){r=r|0;var n=0,o=0,a=0;e[r>>2]=3256,n=e[r+48>>2]|0,n|0&&(o=r+52|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),e[r>>2]=3276,n=e[r+36>>2]|0,n|0&&ve(n),n=e[r+24>>2]|0,n&&ve(n)}function uN(r){r=r|0;var n=0,o=0,a=0;if(e[r>>2]=1752,ln(r+108|0),e[r>>2]=1528,n=e[r+32>>2]|0,!n){ve(r);return}o=r+36|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n),ve(r)}function As(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0,g=0,d=0;e:do if(!o)a=0;else{for(f=r,h=o,c=n;g=Z[f>>0]|0,d=Z[c>>0]|0,g<<24>>24==d<<24>>24;)if(h=h+-1|0,h)f=f+1|0,c=c+1|0;else{a=0;break e}a=(g&255)-(d&255)|0}while(0);return a|0}function vk(r){return r=r|0,!(e[r+44>>2]|0)||!(e[r+48>>2]|0)||!(e[r+24>>2]|0)||!(e[r+28>>2]|0)?0:e[r+32>>2]|0?(e[r+36>>2]|0)!=0|0:0}function cN(r){r=r|0;var n=0,o=0;e[r>>2]=2004,n=e[r+76>>2]|0,n|0&&ve(n),e[r>>2]=1528,n=e[r+32>>2]|0,n&&(o=r+36|0,r=e[o>>2]|0,(r|0)!=(n|0)&&(e[o>>2]=r+(~((r+-4-n|0)>>>2)<<2)),ve(n))}function wk(r){r=r|0;var n=0,o=0;for(e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,n=0;(n|0)!=3;)e[r+(n<<2)>>2]=0,n=n+1|0;(Z[r+11>>0]|0)<0?o=(e[r+8>>2]&2147483647)+-1|0:o=10,Sm(r,o,0)}function Vc(r){r=r|0;var n=0,o=0,a=0,f=0,h=0;return n=e[r+8>>2]|0,(n|0)<2?(o=0,a=0,Xe=o,a|0):(f=+(n|0),h=+U0(f)*f,f=+yr(+(h-+L0[r>>3])),o=+f0(f)>=1?f>0?~~+i0(+bn(f/4294967296),4294967295)>>>0:~~+yr((f-+(~~f>>>0))/4294967296)>>>0:0,a=~~f>>>0,Xe=o,a|0)}function hN(r){r=r|0;var n=0,o=0;e[r>>2]=1696,n=e[r+76>>2]|0,n|0&&ve(n),e[r>>2]=1528,n=e[r+32>>2]|0,n&&(o=r+36|0,r=e[o>>2]|0,(r|0)!=(n|0)&&(e[o>>2]=r+(~((r+-4-n|0)>>>2)<<2)),ve(n))}function dN(r,n){r=r|0,n=n|0;var o=0,a=0,f=0;return o=e[r+16>>2]|0,((e[r+20>>2]|0)-o>>2|0)<=(n|0)||(f=e[o+(n<<2)>>2]|0,(f|0)<0)?(a=0,a|0):(n=e[(e[r+36>>2]|0)+(f<<2)>>2]|0,f=e[n+32>>2]|0,f|0?(a=f,a|0):(a=e[n+8>>2]|0,a|0))}function pN(r){r=r|0;var n=0,o=0,a=0;e[r>>2]=1216,n=e[r+16>>2]|0,n|0&&(o=r+20|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n)),n=e[r+4>>2]|0,n&&(a=r+8|0,r=e[a>>2]|0,(r|0)!=(n|0)&&(e[a>>2]=r+(~((r+-4-n|0)>>>2)<<2)),ve(n))}function mN(r){r=r|0;var n=0,o=0;e[r>>2]=2060,ln(r+108|0),e[r>>2]=1528,n=e[r+32>>2]|0,n&&(o=r+36|0,r=e[o>>2]|0,(r|0)!=(n|0)&&(e[o>>2]=r+(~((r+-4-n|0)>>>2)<<2)),ve(n))}function xk(r){return r=r|0,!(e[r+64>>2]|0)||!(e[r+68>>2]|0)||!(e[r+44>>2]|0)||!(e[r+48>>2]|0)?0:e[r+52>>2]|0?(e[r+56>>2]|0)!=0|0:0}function gN(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0;tu(r,e[n+8>>2]|0)|0?gk(0,n,o,a):(f=e[r+8>>2]|0,Fx[e[(e[f>>2]|0)+28>>2]&7](f,n,o,a))}function bN(r){r=r|0;var n=0,o=0;e[r>>2]=1752,ln(r+108|0),e[r>>2]=1528,n=e[r+32>>2]|0,n&&(o=r+36|0,r=e[o>>2]|0,(r|0)!=(n|0)&&(e[o>>2]=r+(~((r+-4-n|0)>>>2)<<2)),ve(n))}function yN(r,n){r=r|0,n=n|0;var o=0,a=0;return(n|0)<0||(a=e[r+4>>2]|0,((e[a+12>>2]|0)-(e[a+8>>2]|0)>>2|0)<=(n|0))?(o=0,o|0):(a=e[(e[r+8>>2]|0)+(e[(e[r+20>>2]|0)+(n<<2)>>2]<<2)>>2]|0,o=M0[e[(e[a>>2]|0)+36>>2]&127](a,n)|0,o|0)}function AN(r,n){r=r|0,n=n|0;var o=0,a=0;return(n|0)<0||(a=e[r+4>>2]|0,((e[a+12>>2]|0)-(e[a+8>>2]|0)>>2|0)<=(n|0))?(o=0,o|0):(a=e[(e[r+8>>2]|0)+(e[(e[r+20>>2]|0)+(n<<2)>>2]<<2)>>2]|0,o=M0[e[(e[a>>2]|0)+32>>2]&127](a,n)|0,o|0)}function vN(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0;if(o=Z[r>>0]|0,a=Z[n>>0]|0,o<<24>>24==0||o<<24>>24!=a<<24>>24)f=a,h=o;else{o=n,n=r;do n=n+1|0,o=o+1|0,r=Z[n>>0]|0,a=Z[o>>0]|0;while(!(r<<24>>24==0||r<<24>>24!=a<<24>>24));f=a,h=r}return(h&255)-(f&255)|0}function Ek(r,n){r=r|0,n=qt(n);var o=0,a=0;o=q,q=q+16|0,a=o,wk(a),wP(r,a,n),rC(a),q=o}function bo(r){r=r|0;var n=0,o=0,a=0,f=0,h=0;n=e[r>>2]|0,o=r+4|0,a=e[o>>2]|0,(a|0)==(n|0)?f=n:(h=a+(~((a+-4-n|0)>>>2)<<2)|0,e[o>>2]=h,f=h),e[r+12>>2]=0,e[r+16>>2]=0,n&&((f|0)!=(n|0)&&(e[o>>2]=f+(~((f+-4-n|0)>>>2)<<2)),ve(n))}function wN(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0;return a=e[r+16>>2]|0,((e[r+20>>2]|0)-a>>2|0)<=(n|0)||(h=e[a+(n<<2)>>2]|0,(h|0)<0)?(f=-1,f|0):(f=e[(e[(e[(e[r+36>>2]|0)+(h<<2)>>2]|0)+16>>2]|0)+(o<<2)>>2]|0,f|0)}function _k(r,n){r=r|0,n=n|0;var o=0,a=0;o=q,q=q+16|0,a=o,wk(a),xP(r,a,n),rC(a),q=o}function xN(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0,c=0;return a=q,q=q+32|0,f=a,h=a+20|0,e[f>>2]=e[r+60>>2],e[f+4>>2]=0,e[f+8>>2]=n,e[f+12>>2]=h,e[f+16>>2]=o,(Ky(Xh(140,f|0)|0)|0)<0?(e[h>>2]=-1,c=-1):c=e[h>>2]|0,q=a,c|0}function EN(r,n){r=r|0,n=n|0;var o=0,a=0;return(n|0)==-1|(n|0)>4||(a=e[r+20+(n*12|0)>>2]|0,((e[r+20+(n*12|0)+4>>2]|0)-a|0)<=0)||(n=e[a>>2]|0,(n|0)==-1)?(o=0,o|0):(o=e[(e[r+8>>2]|0)+(n<<2)>>2]|0,o|0)}function kk(r){return r=r|0,!(e[r+40>>2]|0)||!(e[r+24>>2]|0)||!(e[r+28>>2]|0)?0:e[r+32>>2]|0?(e[r+36>>2]|0)!=0|0:0}function _N(r,n){r=r|0,n=n|0;var o=0,a=0,f=0;return o=e[r+16>>2]|0,((e[r+20>>2]|0)-o>>2|0)<=(n|0)||(f=e[o+(n<<2)>>2]|0,(f|0)<0)?(a=0,a|0):(n=e[(e[r+36>>2]|0)+(f<<2)>>2]|0,a=(e[n+20>>2]|0)-(e[n+16>>2]|0)>>2,a|0)}function Hy(r){r=r|0;var n=0;return!(e[r+24>>2]|0)||!(e[r+28>>2]|0)||!(e[r+32>>2]|0)?(n=0,n|0):(n=(e[r+36>>2]|0)!=0,n|0)}function Ck(r){return r=r|0,!(e[r+60>>2]|0)||!(e[r+44>>2]|0)||!(e[r+48>>2]|0)?0:e[r+52>>2]|0?(e[r+56>>2]|0)!=0|0:0}function wx(r,n,o){r=r|0,n=n|0,o=o|0;var a=0;b_(r,o),e[r>>2]=1392,o=r+72|0,a=r+36|0,r=a+36|0;do e[a>>2]=0,a=a+4|0;while((a|0)<(r|0));a=e[n>>2]|0,e[n>>2]=0,e[o>>2]=a}function xx(r,n){r=r|0,n=n|0;var o=0,a=0;o=r,a=n,n=o+64|0;do e[o>>2]=e[a>>2],o=o+4|0,a=a+4|0;while((o|0)<(n|0));a=r+64|0,e[r+88>>2]=0,e[a>>2]=0,e[a+4>>2]=0,e[a+8>>2]=0,e[a+12>>2]=0,e[a+16>>2]=0,Z[a+20>>0]=0}function kN(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0;if((r|0)==0&(n|0)==0)f=o;else for(h=o,o=n,n=r;;)if(r=h+-1|0,Z[r>>0]=yi[15542+(n&15)>>0]|0|a,n=r0(n|0,o|0,4)|0,o=Xe,(n|0)==0&(o|0)==0){f=r;break}else h=r;return f|0}function Sk(r){r=r|0;var n=0,o=0,a=0;return n=r+74|0,o=Z[n>>0]|0,Z[n>>0]=o+255|o,o=e[r>>2]|0,o&8?(e[r>>2]=o|32,a=-1):(e[r+8>>2]=0,e[r+4>>2]=0,n=e[r+44>>2]|0,e[r+28>>2]=n,e[r+20>>2]=n,e[r+16>>2]=n+(e[r+48>>2]|0),a=0),a|0}function CN(r,n){r=r|0,n=n|0;var o=0,a=0;return o=e[n+88>>2]|0,!o||(e[o>>2]|0)!=2?(a=0,a|0):(n=e[o+8>>2]|0,e[r+4>>2]=yi[n>>0]|yi[n+1>>0]<<8|yi[n+2>>0]<<16|yi[n+3>>0]<<24,a=1,a|0)}function Uy(r){r=r|0;var n=0;return!(e[r+44>>2]|0)||!(e[r+48>>2]|0)||!(e[r+52>>2]|0)?(n=0,n|0):(n=(e[r+56>>2]|0)!=0,n|0)}function SN(r){r=r|0,j_(r),ve(r)}function Tk(r,n){r=r|0,n=n|0;var o=0;return e[n+56>>2]|0||(Z[n+24>>0]|0)!=3?(o=0,o|0):(e[r+40>>2]=n,o=1,o|0)}function Mk(r,n){r=r|0,n=n|0;var o=0;return e[n+56>>2]|0||(Z[n+24>>0]|0)!=3?(o=0,o|0):(e[r+44>>2]=n,o=1,o|0)}function ds(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0;if(o=r+4|0,a=e[o>>2]|0,f=e[r>>2]|0,h=a-f|0,h>>>0<n>>>0){Na(r,n-h|0);return}h>>>0<=n>>>0||(h=f+n|0,(h|0)!=(a|0)&&(e[o>>2]=h))}function Rk(r,n,o,a,f){r=r|0,n=n|0,o=o|0,a=a|0,f=qt(f),e[r+4>>2]=n,P6(r+8|0,o,o+(a<<2)|0),br[r+20>>2]=f}function TN(r,n){r=r|0,n=n|0;var o=0;return!(kn[e[(e[r>>2]|0)+40>>2]&127](r)|0)||!(M0[e[(e[r>>2]|0)+44>>2]&127](r,n)|0)?(o=0,o|0):(o=M0[e[(e[r>>2]|0)+48>>2]&127](r,n)|0,o|0)}function MN(r,n){r=r|0,n=n|0;var o=0,a=0,f=0;return o=q,q=q+16|0,a=o+4|0,f=o,e[f>>2]=0,e[a>>2]=e[f>>2],f=wL(r,n,a)|0,q=o,f|0}function Bk(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0;for(a=e[o>>2]|0,o=r,f=n-r>>2;f;)r=(f|0)/2|0,n=o+(r<<2)|0,h=(e[n>>2]|0)>>>0<a>>>0,o=h?n+4|0:o,f=h?f+-1-r|0:r;return o|0}function Vy(r){r=r|0;var n=0;e[r>>2]=0,n=r+8|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,Z[r+24>>0]=1,e[r+28>>2]=9,n=r+40|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[r+56>>2]=-1,e[r+60>>2]=0}function RN(r){r=r|0,G_(r),ve(r)}function Ik(r){r=r|0;var n=0,o=0,a=0,f=0,h=0;if(!(bd(Z[e[r>>2]>>0]|0)|0))n=0;else for(o=0;;)if(a=e[r>>2]|0,f=(o*10|0)+-48+(Z[a>>0]|0)|0,h=a+1|0,e[r>>2]=h,bd(Z[h>>0]|0)|0)o=f;else{n=f;break}return n|0}function Dk(r,n){r=r|0,n=n|0;var o=0;return e[n+56>>2]|0||(Z[n+24>>0]|0)!=3?(o=0,o|0):(e[r+60>>2]=n,o=1,o|0)}function Pk(r,n){r=r|0,n=n|0;var o=0;return e[n+56>>2]|0||(Z[n+24>>0]|0)!=3?(o=0,o|0):(e[r+64>>2]=n,o=1,o|0)}function jc(r){r=r|0;var n=0,o=0;return n=e[w2>>2]|0,o=n+r|0,(r|0)>0&(o|0)<(n|0)|(o|0)<0?($w()|0,Gs(12),-1):(e[w2>>2]=o,(o|0)>(Kw()|0)&&(Yw()|0)==0?(e[w2>>2]=n,Gs(12),-1):n|0)}function BN(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0;if((r|0)==0&(n|0)==0)a=o;else for(f=o,o=n,n=r;;)if(r=f+-1|0,Z[r>>0]=n&7|48,n=r0(n|0,o|0,3)|0,o=Xe,(n|0)==0&(o|0)==0){a=r;break}else f=r;return a|0}function Ex(r){r=r|0;var n=0,o=0,a=0;if(e[r>>2]=1528,n=e[r+32>>2]|0,!n){ve(r);return}o=r+36|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n),ve(r)}function IN(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,tu(r,e[n+8>>2]|0)|0&&V_(0,n,o,a,f)}function DN(r){r=r|0;var n=0,o=0;n=e[r+64>>2]|0,n&&(o=kn[e[(e[n>>2]|0)+32>>2]&127](n)|0,o&&(e[r+60>>2]=(((e[o+4>>2]|0)-(e[o>>2]|0)>>2>>>0)/3|0)-(e[o+40>>2]|0)))}function PN(r){r=r|0,D_(r),ve(r)}function jy(r){r=r|0;var n=0;switch(r|0){case 11:case 2:case 1:{n=1;break}case 4:case 3:{n=2;break}case 6:case 5:{n=4;break}case 8:case 7:{n=8;break}case 9:{n=4;break}case 10:{n=8;break}default:n=-1}return n|0}function LN(){var r=0,n=0;return r=Dt(40)|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,br[r+16>>2]=qt(1),n=r+20|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,br[r+36>>2]=qt(1),r|0}function NN(r,n){r=+r,n=+n;var o=0,a=0,f=0;return L0[En>>3]=r,o=e[En>>2]|0,a=e[En+4>>2]|0,L0[En>>3]=n,f=e[En+4>>2]&-2147483648|a&2147483647,e[En>>2]=o,e[En+4>>2]=f,+ +L0[En>>3]}function FN(r,n,o){r=r|0,n=n|0,o=+o;var a=0,f=0;a=q,q=q+16|0,f=a,L0[f>>3]=o,hL(r,n,f),q=a}function ON(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0;a=q,q=q+16|0,f=a,e[f>>2]=o,pL(r,n,f),q=a}function _x(r,n){r=r|0,n=n|0;var o=0,a=0;return(r|0)!=(n|0)&&(o=Z[n+11>>0]|0,a=o<<24>>24<0,FP(r,a?e[n>>2]|0:n,a?e[n+4>>2]|0:o&255)|0),r|0}function HN(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0;return o=r&65535,a=n&65535,f=_i(a,o)|0,h=r>>>16,r=(f>>>16)+(_i(a,h)|0)|0,a=n>>>16,n=_i(a,o)|0,Xe=(r>>>16)+(_i(a,h)|0)+(((r&65535)+n|0)>>>16)|0,r+n<<16|f&65535|0|0}function UN(r,n){r=r|0,n=n|0;var o=0,a=0,f=0;o=Uc(n)|0,a=Dt(o+13|0)|0,e[a>>2]=o,e[a+4>>2]=o,e[a+8>>2]=0,f=uH(a)|0,Fr(f|0,n|0,o+1|0)|0,e[r>>2]=f}function Gy(r,n){r=r|0,n=n|0;var o=0,a=0;return(n|0)==-1|(n|0)>4||(a=e[r+20+(n*12|0)>>2]|0,((e[r+20+(n*12|0)+4>>2]|0)-a|0)<=0)?(o=-1,o|0):(o=e[a>>2]|0,o|0)}function VN(r){r=r|0,L_(r),ve(r)}function jN(r){r=r|0;var n=0,o=0;e[r>>2]=1528,n=e[r+32>>2]|0,n&&(o=r+36|0,r=e[o>>2]|0,(r|0)!=(n|0)&&(e[o>>2]=r+(~((r+-4-n|0)>>>2)<<2)),ve(n))}function GN(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0,tu(r,e[n+8>>2]|0)|0&&gk(0,n,o,a)}function W0(r,n,o){r=r|0,n=n|0,o=o|0;var a=0;if((n|0)<(r|0)&(r|0)<(n+o|0)){for(a=r,n=n+o|0,r=r+o|0;(o|0)>0;)r=r-1|0,n=n-1|0,o=o-1|0,Z[r>>0]=Z[n>>0]|0;r=a}else Fr(r,n,o)|0;return r|0}function zN(r){r=r|0;var n=0,o=0,a=0;if(e[r>>2]=1180,n=e[r+8>>2]|0,!n){ve(r);return}o=r+12|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),ve(n),ve(r)}function WN(r){r=r|0;var n=0;if(e[r>>2]=2740,n=e[r+56>>2]|0,!n){ve(r);return}ve(n),ve(r)}function QN(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0;return a=q,q=q+16|0,f=a,e[f>>2]=e[o>>2],h=Xo[e[(e[r>>2]|0)+16>>2]&31](r,n,f)|0,h&&(e[o>>2]=e[f>>2]),q=a,h&1|0}function zy(r,n){r=r|0,n=n|0;var o=0;return n>>>0>=2?(o=0,o|0):(e[r+28>>2]=n,o=1,o|0)}function JN(r){r=r|0;var n=0,o=0;if(e[r>>2]=3e3,n=r+64|0,o=e[n>>2]|0,e[n>>2]=0,!o){km(r);return}Fn[e[(e[o>>2]|0)+4>>2]&127](o),km(r)}function XN(r,n,o,a,f,h){return r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,E0(r,n,o,a,f,h,6)|0}function qN(r,n,o,a,f,h){return r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,wm(r,n,o,a,f,h,4)|0}function ZN(r,n,o,a,f,h){return r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,cd(r,n,o,a,f,h,2)|0}function YN(r,n,o,a,f,h){return r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,wm(r,n,o,a,f,h,3)|0}function KN(r){r=r|0;var n=0;if(e[r>>2]=2488,n=e[r+56>>2]|0,!n){ve(r);return}ve(n),ve(r)}function $N(r,n,o,a,f,h){return r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,cd(r,n,o,a,f,h,1)|0}function Lk(r){r=r|0;var n=0;return n=Z[Ll+(r&255)>>0]|0,(n|0)<8?n|0:(n=Z[Ll+(r>>8&255)>>0]|0,(n|0)<8?n+8|0:(n=Z[Ll+(r>>16&255)>>0]|0,(n|0)<8?n+16|0:(Z[Ll+(r>>>24)>>0]|0)+24|0))}function Gc(r,n){r=r|0,n=n|0;var o=0,a=0,f=0,h=0;return!r||(n|0)==0|(r|0)==(n|0)?(o=0,+o):(a=+(n>>>0)/+(r>>>0),f=1-a,h=a*+U0(a),o=-(h+f*+U0(f)),+o)}function eF(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0;if((n|0)>0)a=0;else return;do f=e[r+(a<<2)>>2]|0,e[o+(a<<2)>>2]=f<<1^f>>31,a=a+1|0;while((a|0)!=(n|0))}function tF(r){r=r|0;var n=0,o=0;n=bH(e[r>>2]|0)|0,r=n+8|0,o=e[r>>2]|0,e[r>>2]=o+-1,(o+-1|0)<0&&ve(n)}function iF(r){r=r|0;var n=0;Tx(r),e[r>>2]=2880,e[r+40>>2]=1180,e[r+44>>2]=-1,n=r+48|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0}function rF(r,n){r=r|0,n=n|0;var o=0;return Z[n+84>>0]=1,r=e[n+68>>2]|0,o=n+72|0,n=e[o>>2]|0,(n|0)==(r|0)||(e[o>>2]=n+(~((n+-4-r|0)>>>2)<<2)),1}function zc(r){r=r|0;var n=0,o=0;return n=e[r+16>>2]|0,o=(((e[r+12>>2]|0)+1-n|0)/64|0)+n<<3,r=n<<3,n=Wt(o|0,((o|0)<0)<<31>>31|0,r|0,((r|0)<0)<<31>>31|0)|0,n|0}function nF(r,n,o,a,f,h){return r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,E0(r,n,o,a,f,h,5)|0}function sF(r,n,o,a,f,h){return r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,E0(r,n,o,a,f,h,9)|0}function oF(r){r=r|0;var n=0;if(e[r>>2]=3208,n=e[r+36>>2]|0,n|0&&ve(n),n=e[r+24>>2]|0,!n){ve(r);return}ve(n),ve(r)}function aF(r){r=r|0;var n=0;e[r>>2]=2740,n=e[r+56>>2]|0,n&&ve(n)}function Nk(r){r=r|0;var n=0,o=0;e[r>>2]=1460,n=r+36|0,o=e[n>>2]|0,e[n>>2]=0,o|0&&Fn[e[(e[o>>2]|0)+4>>2]&127](o),Hc(r),ve(r)}function lF(r){r=r|0;var n=0,o=0;e[r>>2]=1180,n=e[r+8>>2]|0,n&&(o=r+12|0,r=e[o>>2]|0,(r|0)!=(n|0)&&(e[o>>2]=r+(~((r+-4-n|0)>>>2)<<2)),ve(n))}function fF(r){r=r|0;var n=0;if(e[r>>2]=3276,n=e[r+36>>2]|0,n|0&&ve(n),n=e[r+24>>2]|0,!n){ve(r);return}ve(n),ve(r)}function Fk(r){r=r|0;var n=0;e[r>>2]=1336,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=-1,n=r+16|0,e[r+32>>2]=0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,Z[n+12>>0]=0}function uF(r){r=r|0,e[r>>2]=3296,_m(r+8|0),ve(r)}function cF(r){r=r|0;var n=0;e[r>>2]=2488,n=e[r+56>>2]|0,n&&ve(n)}function Ok(r){r=r|0;var n=0,o=0;e[r>>2]=1460,n=r+36|0,o=e[n>>2]|0,e[n>>2]=0,o|0&&Fn[e[(e[o>>2]|0)+4>>2]&127](o),Hc(r)}function Hk(r,n){r=r|0,n=n|0,e[r>>2]=2968,V6(r+4|0),e[r+40>>2]=0,e[r+44>>2]=0,e[r>>2]=2984,e[r+48>>2]=n,e[r+52>>2]=0}function hF(r){r=r|0;var n=0,o=0;e[r>>2]=3e3,n=r+64|0,o=e[n>>2]|0,e[n>>2]=0,o|0&&Fn[e[(e[o>>2]|0)+4>>2]&127](o),km(r),ve(r)}function ll(r){r=r|0;var n=0,o=0,a=0;n=e[r>>2]|0,o=r+4|0,a=e[o>>2]|0,(a|0)!=(n|0)&&(e[o>>2]=a+(~((a+-4-n|0)>>>2)<<2)),e[r+12>>2]=0,e[r+16>>2]=0}function dF(r,n,o){r=r|0,n=n|0,o=o|0;var a=0,f=0,h=0;return a=r+20|0,f=e[a>>2]|0,h=(e[r+16>>2]|0)-f|0,r=h>>>0>o>>>0?o:h,Fr(f|0,n|0,r|0)|0,e[a>>2]=(e[a>>2]|0)+r,o|0}function pF(r){r=r|0;var n=0;e[r>>2]=3208,n=e[r+36>>2]|0,n|0&&ve(n),n=e[r+24>>2]|0,n&&ve(n)}function mF(r){r=r|0,e[r>>2]=3296,_m(r+8|0)}function Uk(r,n){r=r|0,n=n|0,e[r>>2]=2968,V6(r+4|0),e[r+40>>2]=0,e[r+44>>2]=0,e[r>>2]=2984,e[r+48>>2]=n,e[r+52>>2]=n}function Vk(r,n){r=r|0,n=n|0;var o=0;return o=e[n>>2]|0,(1<<(o&31)&e[(e[r+28>>2]|0)+(o>>>5<<2)>>2]|0)!=0|0}function gF(r,n,o){return r=r|0,n=n|0,o=o|0,Xo[e[(e[r>>2]|0)+44>>2]&31](r,n,o)|0}function Wy(r){r=r|0;var n=0;Vy(r),n=r+64|0,e[r+88>>2]=0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,Z[n+20>>0]=0}function bF(r){r=r|0,e[r>>2]=2796,ln(r+88|0),ve(r)}function yF(r){r=r|0;var n=0;e[r>>2]=3276,n=e[r+36>>2]|0,n|0&&ve(n),n=e[r+24>>2]|0,n&&ve(n)}function jk(r,n,o,a){n=n|0,o=o|0,a=a|0,(e[n+4>>2]|0)==(o|0)&&(o=n+28|0,(e[o>>2]|0)!=1)&&(e[o>>2]=a)}function AF(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=qt(h),Do(r,n,o,a,f,h)}function vF(r){r=r|0;var n=0,o=0,a=0;return n=q,q=q+16|0,o=n,(YL(r)|0)==0&&(Xo[e[r+32>>2]&31](r,o,1)|0)==1?a=yi[o>>0]|0:a=-1,q=n,a|0}function dd(r,n){r=r|0,n=n|0;var o=0,a=0,f=0;e[r+104>>2]=n,o=e[r+8>>2]|0,a=e[r+4>>2]|0,f=o-a|0,e[r+108>>2]=f,e[r+100>>2]=(n|0)!=0&(f|0)>(n|0)?a+n|0:o}function Qy(r){r=r|0;var n=0;e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,n=r+16|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0}function wF(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=qt(h),Do(e[r>>2]|0,n,o,a,f,h)}function xF(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=qt(h),AF(r,n,o,a,f,h)}function Gk(r,n,o,a,f,h){return r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,XN(r,n,o,a,f,h)|0}function zk(r,n,o,a,f,h){return r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,qN(r,n,o,a,f,h)|0}function EF(r){r=r|0;var n=0,o=0;!r||(n=e[r>>2]|0,n|0&&(o=r+4|0,(e[o>>2]|0)!=(n|0)&&(e[o>>2]=n),ve(n)),ve(r))}function _F(r){r=r|0,e[r>>2]=2544,ln(r+88|0),ve(r)}function Wk(r,n,o,a,f,h){return r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,ZN(r,n,o,a,f,h)|0}function Qk(r,n,o,a,f,h){return r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,YN(r,n,o,a,f,h)|0}function kF(r){r=r|0,e[r>>2]=2796,ln(r+88|0)}function Jy(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0;return f=q,q=q+16|0,h=f|0,M2(r,n,o,a,h)|0,q=f,Xe=e[h+4>>2]|0,e[h>>2]|0|0}function CF(r){r=r|0;var n=0;Yk(r),e[r>>2]=5840,n=r+84|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0,e[n+16>>2]=0,e[n+20>>2]=0}function Jk(r,n,o,a,f,h){return r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,$N(r,n,o,a,f,h)|0}function Dt(r){r=r|0;var n=0,o=0;for(n=(r|0)==0?1:r;;){if(r=z_(n)|0,r|0){o=r;break}if(r=yH()|0,!r){o=0;break}SC[r&3]()}return o|0}function SF(r,n,o){r=r|0,n=n|0,o=o|0,dL(r,n,o)}function Xk(r,n,o){return r=r|0,n=n|0,o=o|0,e[r+4>>2]=n,e[r+8>>2]=e[(e[(e[n+4>>2]|0)+8>>2]|0)+(o<<2)>>2],e[r+12>>2]=o,1}function kx(r,n,o,a,f,h){return r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,nF(r,n,o,a,f,h)|0}function Cx(r,n,o,a,f,h){return r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,sF(r,n,o,a,f,h)|0}function TF(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=qt(h),wF(r,n,o,a,f,h)}function MF(r){r=r|0,e[r>>2]=2544,ln(r+88|0)}function RF(r){r=r|0;var n=0,o=0,a=0;return n=q,q=q+16|0,o=n,a=GH(e[r+60>>2]|0)|0,e[o>>2]=a,a=Ky(x2(6,o|0)|0)|0,q=n,a|0}function BF(){var r=0,n=0;if(r=q,q=q+16|0,G1(18612,3)|0)pd(17746,r);else return n=j1(e[4654]|0)|0,q=r,n|0;return 0}function IF(r){r=r|0;var n=0;!r||(n=e[r>>2]|0,e[r>>2]=0,n|0&&Fn[e[(e[n>>2]|0)+4>>2]&127](n),ve(r))}function zi(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0;return f=r,r=o,o=HN(f,r)|0,h=Xe,Xe=(_i(n,r)|0)+(_i(a,f)|0)+h|h&0,o|0|0|0}function DF(r,n){r=r|0,n=n|0,b_(r,n),e[r>>2]=1276,n=r+36|0,r=n+40|0;do e[n>>2]=0,n=n+4|0;while((n|0)<(r|0))}function PF(r){r=r|0,_m(r),ve(r)}function _n(r){r=r|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,e[r+24>>2]=0,e[r+28>>2]=0}function LF(r){r=r|0;var n=0;if(n=q,q=q+16|0,E2(r),i6(e[4654]|0,0)|0)pd(17845,n);else{q=n;return}}function NF(r){r=r|0;var n=0;e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,n=r+16|0,e[n>>2]=0,e[n+4>>2]=0,e[n+8>>2]=0,e[n+12>>2]=0}function FF(r,n){return r=r|0,n=n|0,wr(r+40|0,n)|0}function OF(r,n){return r=r|0,n=n|0,H_(r,n,BH(n)|0)|0}function qk(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0,h=0;return f=q,q=q+16|0,h=f,e[h>>2]=a,a=RP(r,n,o,h)|0,q=f,a|0}function HF(r,n){return r=r|0,n=n|0,SL(r+40|0,n)|0}function Zk(r,n,o,a){return r=r|0,n=n|0,o=o|0,a=a|0,QD(r,n,o,a)|0}function Mm(r){r=r|0;var n=0;e[r>>2]=3608,e[r+52>>2]=0,n=r+4|0,r=n+44|0;do e[n>>2]=0,n=n+4|0;while((n|0)<(r|0))}function UF(r,n,o,a){return r=r|0,n=n|0,o=o|0,a=a|0,ID(r,n,o,a)|0}function VF(r,n){r=r|0,n=n|0;var o=0;return o=e[r+64>>2]|0,M0[e[(e[o>>2]|0)+24>>2]&127](o,n)|0}function fl(r){r=r|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0,e[r+20>>2]=0,Z[r+24>>0]=0}function pd(r,n){r=r|0,n=n|0;var o=0,a=0;o=q,q=q+16|0,a=o,e[a>>2]=n,n=e[1478]|0,w_(n,r,a)|0,CL(10,n)|0,zb()}function jF(r,n,o,a,f,h,c){return r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,c=c|0,CC[r&31](n|0,o|0,a|0,f|0,h|0,c|0)|0}function GF(r){r=r|0;var n=0;n=e[r+56>>2]|0,e[r+60>>2]=((e[n+100>>2]|0)-(e[n+96>>2]|0)|0)/12|0}function zF(r,n){r=r|0,n=n|0;var o=0;return o=e[r+64>>2]|0,M0[e[(e[o>>2]|0)+16>>2]&127](o,n)|0}function WF(r,n){r=r|0,n=n|0;var o=0;return o=e[r+64>>2]|0,M0[e[(e[o>>2]|0)+20>>2]&127](o,n)|0}function QF(r,n){r=r|0,n=n|0;var o=0;return o=e[r+64>>2]|0,M0[e[(e[o>>2]|0)+12>>2]&127](o,n)|0}function JF(){var r=0;if(r=q,q=q+16|0,Wb(18616,117)|0)pd(17795,r);else{q=r;return}}function XF(r){r=r|0,e[r>>2]=1136,V6(r+4|0),e[r+40>>2]=0,e[r+44>>2]=0,e[r>>2]=2944}function qF(r){r=r|0,Dc(r),ve(r)}function ZF(r,n,o,a,f,h,c){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,c=c|0,sA[r&3](n|0,o|0,a|0,f|0,h|0,c|0)}function YF(r,n){r=r|0,n=n|0;var o=0;o=e[n+64>>2]|0,nA[e[(e[o>>2]|0)+28>>2]&15](r,o)}function KF(r,n,o){return r=r|0,n=n|0,o=o|0,n|0&&Mi(r|0,(RH(o)|0)&255|0,n|0)|0,r|0}function Xy(r){return 4}function $F(r,n,o){return n=n|0,o=o|0,F_(0,n,o)|0}function $n(r,n,o){return r=r|0,n=n|0,o=o|0,(o|0)<32?(Xe=n<<o|(r&(1<<o)-1<<32-o)>>>32-o,r<<o):(Xe=r<<o-32,0)}function eO(){}function Wt(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0;return f=r+o>>>0,Xe=n+a+(f>>>0<r>>>0|0)>>>0,f|0|0}function tO(r,n){r=r|0,n=n|0;var o=0;return n?o=HD(e[n>>2]|0,e[n+4>>2]|0,r)|0:o=0,(o|0?o:r)|0}function Gr(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0;var f=0;return f=n-a>>>0,f=n-a-(o>>>0>r>>>0|0)>>>0,Xe=f,r-o>>>0|0|0}function r0(r,n,o){return r=r|0,n=n|0,o=o|0,(o|0)<32?(Xe=n>>>o,r>>>o|(n&(1<<o)-1)<<32-o):(Xe=0,n>>>o-32|0)}function iO(r,n,o,a){return r=r|0,n=n|0,o=o|0,a=a|0,my(r,n,o,a)|0}function rO(r){r=r|0,vy(r),ve(r)}function nO(r,n,o,a){return r=r|0,n=n|0,o=o|0,a=+a,IP(r,n,o,a)|0}function qy(r){return 5}function Yk(r){r=r|0;var n=0;e[r>>2]=5880,n=r+4|0,r=n+80|0;do e[n>>2]=0,n=n+4|0;while((n|0)<(r|0))}function Zy(r){return 6}function sO(r,n,o,a){return r=r|0,n=n|0,o=o|0,a=a|0,DP(r,n,o,a)|0}function oO(r,n,o){r=r|0,n=n|0,o=o|0,lk(r,n,o)}function aO(r,n){r=r|0,n=n|0,I_(e[r>>2]|0,n)}function lO(r,n,o){r=r|0,n=n|0,o=o|0,oO(r,n,o)}function Yy(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0,lm(r,n,o,a,1)}function Wc(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0,lm(r,n,o,a,0)}function fO(r,n,o,a){return r=r|0,n=n|0,o=o|0,a=a|0,Lo(r,n,o,a)|0}function uO(r,n,o){return r=r|0,n=n|0,o=o|0,sP(r,n,o)|0}function cO(r){r=r|0;var n=0;return n=e[r+64>>2]|0,kn[e[(e[n>>2]|0)+32>>2]&127](n)|0}function Kk(r,n,o){return r=r|0,n=n|0,o=o|0,e[r+28>>2]=n,e[r+32>>2]=o,1}function hO(r,n){r=r|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0}function dO(r,n,o){r=r|0,n=n|0,o=o|0,lk(e[r>>2]|0,n,o)}function $k(r,n,o){return r=r|0,n=n|0,o=o|0,F_(r,n,o)|0}function pO(r,n,o){return r=r|0,n=n|0,o=o|0,$F(r,n,o)|0}function mO(r,n,o,a,f,h){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,h=h|0,Ox[r&3](n|0,o|0,a|0,f|0,h|0)}function Ky(r){r=r|0;var n=0,o=0;return r>>>0>4294963200?(n=fa()|0,e[n>>2]=0-r,o=-1):o=r,o|0}function gO(r,n,o){return r=r|0,n=n|0,o=o|0,GD(r,n,o)|0}function $f(r){r=r|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0,e[r+12>>2]=0,e[r+16>>2]=0}function bO(r,n){return r=r|0,n=n|0,e[r+8>>2]=n,e[r+12>>2]=-1,1}function yO(r,n){r=r|0,n=n|0,e[r+56>>2]=n,Mx(r,n)}function AO(r,n,o){r=r|0,n=n|0,o=o|0,dO(r,n,o)}function Sx(r){r=+r;var n=0;return L0[En>>3]=r,n=e[En>>2]|0,Xe=e[En+4>>2]|0,n|0}function eC(r,n,o){r=r|0,n=qt(n),o=o|0;var a=Ar;a=qt(qt(o|0)/n),br[r>>2]=a}function vO(r,n){r=r|0,n=n|0,I_(r,n)}function Tx(r){r=r|0,Fk(r),e[r>>2]=1460,e[r+36>>2]=0}function tC(r){r=r|0,Mm(r),e[r>>2]=3424,e[r+56>>2]=0,e[r+60>>2]=0}function wO(r){r=r|0;var n=0;return r?n=(O6(r,1024,1112,0)|0)!=0&1:n=0,n|0}function xO(r,n,o){r=r|0,n=n|0,o=o|0,iC(e[r>>2]|0,n,o)}function iC(r,n,o){r=r|0,n=n|0,o=o|0,SP(r+4|0,n,o)}function EO(r){r=r|0;var n=0;return n=Dt(8)|0,UL(n,r),n|0}function rC(r){r=r|0,(Z[r+11>>0]|0)<0&&ve(e[r>>2]|0)}function nC(r){r=r|0,r&&Fn[e[(e[r>>2]|0)+4>>2]&127](r)}function _O(r,n,o,a,f){r=r|0,n=n|0,o=o|0,a=a|0,f=f|0,Fx[r&7](n|0,o|0,a|0,f|0)}function kO(r,n,o){return r=r|0,n=n|0,o=o|0,o|0&&W0(r|0,n|0,o|0)|0,r|0}function CO(r,n,o){r=r|0,n=n|0,o=o|0,xO(r,n,o)}function eu(r,n,o){return r=r|0,n=n|0,o=o|0,o|0&&Fr(r|0,n|0,o|0)|0,r|0}function sC(r){r=r|0,e[r+52>>2]=e[(e[r+4>>2]|0)+80>>2]}function SO(r,n){r=r|0,n=n|0,aO(r,n)}function TO(r){r=r|0,e[r+52>>2]=e[(e[r+56>>2]|0)+80>>2]}function oC(r,n){return-1}function MO(r){r=r|0,__(r),ve(r)}function RO(r,n,o){r=r|0,n=n|0,o=o|0,NO(r,n,o)}function BO(r,n){r=r|0,n=n|0,hk(e[r>>2]|0,n)}function IO(r,n,o,a){return r=r|0,n=n|0,o=o|0,a=a|0,Xo[r&31](n|0,o|0,a|0)|0}function DO(r,n){return r=r|0,n=n|0,(sH(r,n)|0)<<24>>24|0}function u0(r,n){r=r|0,n=n|0,e[r>>2]=6924,UN(r+4|0,n)}function PO(r){r=r|0,tC(r),e[r>>2]=3e3,e[r+64>>2]=0}function aC(r,n){r=r|0,n=n|0;var o=0;return r?o=kP(r,n,0)|0:o=0,o|0}function LO(r,n){r=r|0,n=n|0,vO(r,n)}function lC(r){return r=r|0,e[r+12>>2]|0}function NO(r,n,o){r=r|0,n=n|0,o=o|0,iC(r,n,o)}function FO(){var r=0;return r=Dt(64)|0,Vy(r),r|0}function OO(r,n){r=r|0,n=n|0,BO(r,n)}function HO(r){r=r|0,r&&(Kf(r),ve(r))}function $y(r){return r=r|0,e[r+4>>2]|0}function Mo(r,n,o){r=r|0,n=n|0,o=o|0,e[r>>2]&32||hP(n,o,r)|0}function UO(r){return r=r|0,aH(r)|0}function VO(r,n,o,a){r=r|0,n=n|0,o=o|0,a=a|0,Im[r&15](n|0,o|0,a|0)}function jO(){var r=0;return r=Dt(96)|0,Wy(r),r|0}function GO(r){return r=r|0,lH(r)|0}function zO(r){r=r|0;var n=0;return n=q,q=q+r|0,q=q+15&-16,n|0}function WO(r){r=r|0;var n=0;return n=(kC()|0)+188|0,LL(r,e[n>>2]|0)|0}function QO(r){return r=r|0,((e[r+100>>2]|0)-(e[r+96>>2]|0)|0)/12|0|0}function JO(r,n){r=r|0,n=n|0,ZO(r,n)}function Fa(r,n,o,a,f,h){return rl(3),0}function XO(){var r=0;return r=Dt(12)|0,tH(r),r|0}function qO(r){r=r|0,Hc(r),ve(r)}function tu(r,n,o){return r=r|0,n=n|0,(r|0)==(n|0)|0}function md(r,n){r=r|0,n=n|0;var o=0;return o=hC(r|0)|0,((n|0)==0?r:o)|0}function fC(r){return r=r|0,(e[r+12>>2]|0)-(e[r+8>>2]|0)>>2|0}function Mx(r,n){r=r|0,n=n|0,e[r+4>>2]=n}function z2(r,n,o,a){return r=r|0,n=n|0,o=o|0,a=a|0,M2(r,n,o,a,0)|0}function ZO(r,n){r=r|0,n=n|0,hk(r,n)}function W2(r){r=r|0,e[r+4>>2]=0,e[r+8>>2]=0,e[r>>2]=r+4}function YO(r){return r=r|0,bC(r)|0}function KO(){var r=0;return r=Dt(84)|0,Yk(r),r|0}function $O(r){r=r|0,T_(r),ve(r)}function eH(r){return r=r|0,kH(r)|0}function tH(r){r=r|0,e[r>>2]=0,e[r+4>>2]=0,e[r+8>>2]=0}function uC(r){r=r|0,e[r>>2]=6924,tF(r+4|0)}function iH(r,n,o){return r=r|0,n=n|0,o=o|0,M0[r&127](n|0,o|0)|0}function cC(r,n,o,a,f,h){rl(10)}function hC(r){return r=r|0,(r&255)<<24|(r>>8&255)<<16|(r>>16&255)<<8|r>>>24|0}function rH(r){r=r|0,tC(r),e[r>>2]=3504}function gd(r,n){r=r|0,n=n|0,Z[r>>0]=Z[n>>0]|0}function nH(r,n,o){return-1}function sH(r,n){return r=r|0,n=n|0,Z[(e[r>>2]|0)+n>>0]|0}function oH(r){return r=r|0,(e[r+4>>2]|0)-(e[r>>2]|0)|0}function Rx(r){r=r|0,km(r),ve(r)}function aH(r){return r=r|0,e[(e[r>>2]|0)+40>>2]|0}function lH(r){return r=r|0,e[(e[r>>2]|0)+44>>2]|0}function Rm(r){r=r|0,r&&ve(r)}function dC(r){r=r|0,Z[r+28>>0]=1}function fH(r,n){}function eA(r,n){return 1}function uH(r){return r=r|0,r+12|0}function cH(r,n,o){r=r|0,n=n|0,o=o|0,nA[r&15](n|0,o|0)}function hH(r,n){r=r|0,n=n|0,e[r+80>>2]=n}function dH(){var r=0;return r=Dt(48)|0,DH(r),r|0}function pH(r){return r=r|0,SH(r+4|0)|0}function mH(){var r=0;return r=Dt(108)|0,CF(r),r|0}function gH(r){return r=r|0,(Z[r+32>>0]|0)!=0|0}function bH(r){return r=r|0,r+-12|0}function pC(r,n,o,a,f){rl(9)}function yH(){var r=0;return r=e[4655]|0,e[4655]=r+0,r|0}function AH(r){return r=r|0,e[r+56>>2]|0}function vH(r){r=r|0,va(r),ve(r)}function mC(r){r=r|0,ve(r)}function wH(r){return r=r|0,Z[r+24>>0]|0}function xa(r,n){return 0}function xH(r){return r=r|0,e[r+48>>2]|0}function EH(r,n){return r=r|0,n=n|0,kn[r&127](n|0)|0}function _H(r){return r=r|0,e[r+60>>2]|0}function Bm(r){return r=r|0,e[r+28>>2]|0}function gC(r){r=r|0,uC(r),ve(r)}function Je(r){zb()}function bC(r){return r=r|0,e[r+40>>2]|0}function kH(r){return r=r|0,e[r+44>>2]|0}function tA(r,n){return r=r|0,n=n|0,qt(+mk(r,n,0))}function yC(r){return 3}function CH(r,n){r=r|0,q=r}function AC(r){r=r|0,br[r>>2]=qt(1)}function vC(r){return r=r|0,((r|0)==32|(r+-9|0)>>>0<5)&1|0}function Bx(r){return r=r|0,e[r+80>>2]|0}function SH(r){return r=r|0,e[r>>2]|0}function iA(r,n,o,a){rl(8)}function TH(r,n){r=r|0,n=n|0,Fn[r&127](n|0)}function MH(r,n){return r=r|0,n=n|0,tO(r,n)|0}function RH(r){return r=r|0,r&255|0}function BH(r){return r=r|0,Uc(r)|0}function IH(r,n){return r=r|0,n=n|0,+ +mk(r,n,1)}function Oa(r,n,o){return rl(2),0}function Ix(r){return 2}function ps(r){return 1}function DH(r){r=r|0,XF(r)}function wC(r,n){return r=+r,n=+n,+ +NN(r,n)}function xC(r,n){return r=+r,n=n|0,+ +Ny(r,n)}function PH(r,n){return r=+r,n=n|0,+ +uk(r,n)}function LH(){return 3}function Dx(r,n,o){rl(7)}function Px(){return 0}function EC(){return-1}function Lx(){return Dt(1)|0}function NH(){return 4}function bd(r){return r=r|0,(r+-48|0)>>>0<10|0}function Nx(){return 1}function FH(){return 2}function _C(r,n){return r=+r,n=+n,+ +ny(r,n)}function e0(r,n){return rl(1),0}function Q2(r){t6()}function OH(r){r=r|0,SC[r&3]()}function HH(){to()}function UH(r){return r=r|0,+ +IH(r,0)}function kC(){return QH()|0}function rA(r,n){rl(6)}function Fl(r){return r=r|0,Dt(r)|0}function N0(r){r=r|0,ve(r)}function VH(r){r=r|0,q=r}function ve(r){r=r|0,E2(r)}function jH(r){r=r|0,Xe=r}function GH(r){return r=r|0,r|0}function F0(r){return rl(0),0}function iu(r){}function ul(r){return 0}function zH(){return Xe|0}function fa(){return 18544}function WH(){return q|0}function hf(r){rl(5)}function QH(){return 6040}function JH(){rl(4)}var kn=[F0,Ix,ps,ps,Ix,YP,ul,ul,ul,HL,tt,ps,$y,ul,ul,ps,ul,ps,ps,Uy,qy,Ck,ps,Zy,xk,ps,Bm,Xy,Uy,ps,Uy,qy,Ck,ps,Zy,xk,ps,Bm,Xy,Uy,ps,yC,ul,$y,ps,ul,ps,yC,ps,Hy,Xy,Hy,qy,kk,ps,Zy,vk,ps,Bm,ps,Hy,Xy,Hy,qy,kk,ps,Zy,vk,ps,Bm,ps,Ix,ps,ps,R2,ps,_6,TD,qL,cO,lC,$y,cs,Ls,S6,lC,$y,ps,ul,ul,EP,ul,ps,ul,NL,RF,pH,F0,F0,F0,F0,F0,F0,F0,F0,F0,F0,F0,F0,F0,F0,F0,F0,F0,F0,F0,F0,F0,F0,F0,F0,F0,F0,F0,F0,F0,F0,F0],M0=[e0,CN,MD,D2,TN,xa,xa,xa,eA,tL,UP,bO,eA,eA,gP,OP,lP,VL,_N,ML,dN,FL,OL,E6,oC,xa,uP,xa,Dk,Ey,xa,Pk,v_,zy,im,xa,Dk,Ey,xa,Pk,v_,zy,im,HF,oC,xa,fP,tm,xa,Tk,wy,xa,Mk,A_,zy,tm,xa,Tk,wy,xa,Mk,A_,zy,FF,WF,VF,QF,zF,kD,dk,pk,gL,Bc,Vk,Ty,_y,xy,_D,dk,pk,mL,Bc,Vk,eA,xa,xa,N2,rF,Ht,N2,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0,e0],Xo=[Oa,Kk,nH,Xk,gF,Hr,HP,wN,F6,xL,zD,Gi,oP,fL,nP,Oc,xN,dF,zP,Oa,Oa,Oa,Oa,Oa,Oa,Oa,Oa,Oa,Oa,Oa,Oa,Oa],CC=[Fa,ed,r6,w6,cL,JP,_2,of,uL,QP,CD,iy,qP,ym,AL,Cc,XP,sl,bL,Fa,Fa,Fa,Fa,Fa,Fa,Fa,Fa,Fa,Fa,Fa,Fa,Fa],SC=[JH,HH,_P,JF],Fn=[hf,BL,fk,iu,N0,lF,zN,pN,Q2,T_,$O,Hc,qO,__,MO,Ok,Nk,jN,Q2,Ex,Ex,hN,sN,bN,uN,iu,N0,Q2,L_,VN,Ex,cN,rN,mN,lN,iu,N0,Q2,D_,PN,Ok,Nk,iu,N0,N0,G_,RN,cF,KN,MF,_F,iu,N0,N0,j_,SN,aF,WN,kF,bF,iu,N0,JL,GL,fk,PL,ck,ck,JN,hF,Xb,DN,vy,rO,ZL,WL,aN,iN,pF,oF,$L,QL,fN,nN,yF,fF,mF,uF,_m,PF,Dc,qF,km,Q2,Rx,TO,GF,iu,N0,Q2,Rx,sC,Rx,sC,tN,KL,aL,va,vH,iu,mC,iu,iu,mC,uC,gC,gC,LF,hf,hf,hf,hf,hf,hf,hf,hf,hf,hf],nA=[rA,zL,te,PP,YF,$P,iL,vL,hO,U_,U_,XL,J1,rA,rA,rA],Im=[Dx,nd,NP,By,Iy,n6,By,Iy,_L,TL,ED,GP,Po,bs,Dx,Dx],Fx=[iA,Yf,Ai,GN,gN,iA,iA,iA],Ox=[pC,VP,RD,pC],sA=[cC,IN,oN,cC];return{___cxa_can_catch:QN,___cxa_is_pointer_type:wO,___divdi3:m0,___muldi3:zi,___udivdi3:z2,___uremdi3:Jy,_bitshift64Lshr:r0,_bitshift64Shl:$n,_emscripten_bind_DracoInt8Array_DracoInt8Array_0:XO,_emscripten_bind_DracoInt8Array_GetValue_1:DO,_emscripten_bind_DracoInt8Array___destroy___0:EF,_emscripten_bind_DracoInt8Array_size_0:oH,_emscripten_bind_Encoder_EncodeMeshToDracoBuffer_2:uO,_emscripten_bind_Encoder_EncodePointCloudToDracoBuffer_3:UF,_emscripten_bind_Encoder_Encoder_0:dH,_emscripten_bind_Encoder_GetNumberOfEncodedFaces_0:eH,_emscripten_bind_Encoder_GetNumberOfEncodedPoints_0:YO,_emscripten_bind_Encoder_SetAttributeExplicitQuantization_5:xF,_emscripten_bind_Encoder_SetAttributeQuantization_2:lO,_emscripten_bind_Encoder_SetEncodingMethod_1:JO,_emscripten_bind_Encoder_SetSpeedOptions_2:RO,_emscripten_bind_Encoder_SetTrackEncodedProperties_1:LO,_emscripten_bind_Encoder___destroy___0:RL,_emscripten_bind_ExpertEncoder_EncodeToDracoBuffer_2:gO,_emscripten_bind_ExpertEncoder_ExpertEncoder_1:EO,_emscripten_bind_ExpertEncoder_GetNumberOfEncodedFaces_0:GO,_emscripten_bind_ExpertEncoder_GetNumberOfEncodedPoints_0:UO,_emscripten_bind_ExpertEncoder_SetAttributeExplicitQuantization_5:TF,_emscripten_bind_ExpertEncoder_SetAttributeQuantization_2:AO,_emscripten_bind_ExpertEncoder_SetEncodingMethod_1:OO,_emscripten_bind_ExpertEncoder_SetSpeedOptions_2:CO,_emscripten_bind_ExpertEncoder_SetTrackEncodedProperties_1:SO,_emscripten_bind_ExpertEncoder___destroy___0:IF,_emscripten_bind_GeometryAttribute_GeometryAttribute_0:FO,_emscripten_bind_GeometryAttribute___destroy___0:Rm,_emscripten_bind_MeshBuilder_AddFacesToMesh_3:fO,_emscripten_bind_MeshBuilder_AddFloatAttributeToMesh_5:Cx,_emscripten_bind_MeshBuilder_AddFloatAttribute_5:Cx,_emscripten_bind_MeshBuilder_AddInt16Attribute_5:Qk,_emscripten_bind_MeshBuilder_AddInt32AttributeToMesh_5:kx,_emscripten_bind_MeshBuilder_AddInt32Attribute_5:kx,_emscripten_bind_MeshBuilder_AddInt8Attribute_5:Jk,_emscripten_bind_MeshBuilder_AddMetadataToMesh_2:pO,_emscripten_bind_MeshBuilder_AddMetadata_2:$k,_emscripten_bind_MeshBuilder_AddUInt16Attribute_5:zk,_emscripten_bind_MeshBuilder_AddUInt32Attribute_5:Gk,_emscripten_bind_MeshBuilder_AddUInt8Attribute_5:Wk,_emscripten_bind_MeshBuilder_MeshBuilder_0:Lx,_emscripten_bind_MeshBuilder_SetMetadataForAttribute_3:Zk,_emscripten_bind_MeshBuilder___destroy___0:Rm,_emscripten_bind_Mesh_Mesh_0:mH,_emscripten_bind_Mesh___destroy___0:nC,_emscripten_bind_Mesh_num_attributes_0:fC,_emscripten_bind_Mesh_num_faces_0:QO,_emscripten_bind_Mesh_num_points_0:Bx,_emscripten_bind_Mesh_set_num_points_1:hH,_emscripten_bind_MetadataBuilder_AddDoubleEntry_3:nO,_emscripten_bind_MetadataBuilder_AddIntEntry_3:sO,_emscripten_bind_MetadataBuilder_AddStringEntry_3:iO,_emscripten_bind_MetadataBuilder_MetadataBuilder_0:Lx,_emscripten_bind_MetadataBuilder___destroy___0:Rm,_emscripten_bind_Metadata_Metadata_0:LN,_emscripten_bind_Metadata___destroy___0:HO,_emscripten_bind_PointAttribute_PointAttribute_0:jO,_emscripten_bind_PointAttribute___destroy___0:kL,_emscripten_bind_PointAttribute_attribute_type_0:AH,_emscripten_bind_PointAttribute_byte_offset_0:xH,_emscripten_bind_PointAttribute_byte_stride_0:bC,_emscripten_bind_PointAttribute_data_type_0:Bm,_emscripten_bind_PointAttribute_normalized_0:gH,_emscripten_bind_PointAttribute_num_components_0:wH,_emscripten_bind_PointAttribute_size_0:Bx,_emscripten_bind_PointAttribute_unique_id_0:_H,_emscripten_bind_PointCloudBuilder_AddFloatAttribute_5:Cx,_emscripten_bind_PointCloudBuilder_AddInt16Attribute_5:Qk,_emscripten_bind_PointCloudBuilder_AddInt32Attribute_5:kx,_emscripten_bind_PointCloudBuilder_AddInt8Attribute_5:Jk,_emscripten_bind_PointCloudBuilder_AddMetadata_2:$k,_emscripten_bind_PointCloudBuilder_AddUInt16Attribute_5:zk,_emscripten_bind_PointCloudBuilder_AddUInt32Attribute_5:Gk,_emscripten_bind_PointCloudBuilder_AddUInt8Attribute_5:Wk,_emscripten_bind_PointCloudBuilder_PointCloudBuilder_0:Lx,_emscripten_bind_PointCloudBuilder_SetMetadataForAttribute_3:Zk,_emscripten_bind_PointCloudBuilder___destroy___0:Rm,_emscripten_bind_PointCloud_PointCloud_0:KO,_emscripten_bind_PointCloud___destroy___0:nC,_emscripten_bind_PointCloud_num_attributes_0:fC,_emscripten_bind_PointCloud_num_points_0:Bx,_emscripten_bind_VoidPtr___destroy___0:Rm,_emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE:EC,_emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD:Px,_emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH:Nx,_emscripten_enum_draco_GeometryAttribute_Type_COLOR:FH,_emscripten_enum_draco_GeometryAttribute_Type_GENERIC:NH,_emscripten_enum_draco_GeometryAttribute_Type_INVALID:EC,_emscripten_enum_draco_GeometryAttribute_Type_NORMAL:Nx,_emscripten_enum_draco_GeometryAttribute_Type_POSITION:Px,_emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD:LH,_emscripten_enum_draco_MeshEncoderMethod_MESH_EDGEBREAKER_ENCODING:Nx,_emscripten_enum_draco_MeshEncoderMethod_MESH_SEQUENTIAL_ENCODING:Px,_emscripten_replace_memory:z1,_free:E2,_i64Add:Wt,_i64Subtract:Gr,_llvm_bswap_i32:hC,_malloc:z_,_memcpy:Fr,_memmove:W0,_memset:Mi,_sbrk:jc,dynCall_ii:EH,dynCall_iii:iH,dynCall_iiii:IO,dynCall_iiiiiii:jF,dynCall_v:OH,dynCall_vi:TH,dynCall_vii:cH,dynCall_viii:VO,dynCall_viiii:_O,dynCall_viiiii:mO,dynCall_viiiiii:ZF,establishStackSpace:CH,getTempRet0:zH,runPostSets:eO,setTempRet0:jH,setThrew:fH,stackAlloc:zO,stackRestore:VH,stackSave:WH}}(t.asmGlobalArg,t.asmLibraryArg,Le);t.___cxa_can_catch=qi.___cxa_can_catch,t.___cxa_is_pointer_type=qi.___cxa_is_pointer_type,t.___divdi3=qi.___divdi3,t.___muldi3=qi.___muldi3,t.___udivdi3=qi.___udivdi3,t.___uremdi3=qi.___uremdi3,t._bitshift64Lshr=qi._bitshift64Lshr,t._bitshift64Shl=qi._bitshift64Shl;var gb=t._emscripten_bind_DracoInt8Array_DracoInt8Array_0=qi._emscripten_bind_DracoInt8Array_DracoInt8Array_0,bb=t._emscripten_bind_DracoInt8Array_GetValue_1=qi._emscripten_bind_DracoInt8Array_GetValue_1,dw=t._emscripten_bind_DracoInt8Array___destroy___0=qi._emscripten_bind_DracoInt8Array___destroy___0,pw=t._emscripten_bind_DracoInt8Array_size_0=qi._emscripten_bind_DracoInt8Array_size_0,yb=t._emscripten_bind_Encoder_EncodeMeshToDracoBuffer_2=qi._emscripten_bind_Encoder_EncodeMeshToDracoBuffer_2,ef=t._emscripten_bind_Encoder_EncodePointCloudToDracoBuffer_3=qi._emscripten_bind_Encoder_EncodePointCloudToDracoBuffer_3,mw=t._emscripten_bind_Encoder_Encoder_0=qi._emscripten_bind_Encoder_Encoder_0,gw=t._emscripten_bind_Encoder_GetNumberOfEncodedFaces_0=qi._emscripten_bind_Encoder_GetNumberOfEncodedFaces_0,d2=t._emscripten_bind_Encoder_GetNumberOfEncodedPoints_0=qi._emscripten_bind_Encoder_GetNumberOfEncodedPoints_0,Uh=t._emscripten_bind_Encoder_SetAttributeExplicitQuantization_5=qi._emscripten_bind_Encoder_SetAttributeExplicitQuantization_5,bw=t._emscripten_bind_Encoder_SetAttributeQuantization_2=qi._emscripten_bind_Encoder_SetAttributeQuantization_2,yw=t._emscripten_bind_Encoder_SetEncodingMethod_1=qi._emscripten_bind_Encoder_SetEncodingMethod_1,Aw=t._emscripten_bind_Encoder_SetSpeedOptions_2=qi._emscripten_bind_Encoder_SetSpeedOptions_2,vw=t._emscripten_bind_Encoder_SetTrackEncodedProperties_1=qi._emscripten_bind_Encoder_SetTrackEncodedProperties_1,R1=t._emscripten_bind_Encoder___destroy___0=qi._emscripten_bind_Encoder___destroy___0,Ab=t._emscripten_bind_ExpertEncoder_EncodeToDracoBuffer_2=qi._emscripten_bind_ExpertEncoder_EncodeToDracoBuffer_2,ww=t._emscripten_bind_ExpertEncoder_ExpertEncoder_1=qi._emscripten_bind_ExpertEncoder_ExpertEncoder_1,vb=t._emscripten_bind_ExpertEncoder_GetNumberOfEncodedFaces_0=qi._emscripten_bind_ExpertEncoder_GetNumberOfEncodedFaces_0,wb=t._emscripten_bind_ExpertEncoder_GetNumberOfEncodedPoints_0=qi._emscripten_bind_ExpertEncoder_GetNumberOfEncodedPoints_0,p2=t._emscripten_bind_ExpertEncoder_SetAttributeExplicitQuantization_5=qi._emscripten_bind_ExpertEncoder_SetAttributeExplicitQuantization_5,m2=t._emscripten_bind_ExpertEncoder_SetAttributeQuantization_2=qi._emscripten_bind_ExpertEncoder_SetAttributeQuantization_2,B1=t._emscripten_bind_ExpertEncoder_SetEncodingMethod_1=qi._emscripten_bind_ExpertEncoder_SetEncodingMethod_1,xb=t._emscripten_bind_ExpertEncoder_SetSpeedOptions_2=qi._emscripten_bind_ExpertEncoder_SetSpeedOptions_2,Eb=t._emscripten_bind_ExpertEncoder_SetTrackEncodedProperties_1=qi._emscripten_bind_ExpertEncoder_SetTrackEncodedProperties_1,g2=t._emscripten_bind_ExpertEncoder___destroy___0=qi._emscripten_bind_ExpertEncoder___destroy___0,xw=t._emscripten_bind_GeometryAttribute_GeometryAttribute_0=qi._emscripten_bind_GeometryAttribute_GeometryAttribute_0,_b=t._emscripten_bind_GeometryAttribute___destroy___0=qi._emscripten_bind_GeometryAttribute___destroy___0,Ka=t._emscripten_bind_MeshBuilder_AddFacesToMesh_3=qi._emscripten_bind_MeshBuilder_AddFacesToMesh_3,Ew=t._emscripten_bind_MeshBuilder_AddFloatAttributeToMesh_5=qi._emscripten_bind_MeshBuilder_AddFloatAttributeToMesh_5,_w=t._emscripten_bind_MeshBuilder_AddFloatAttribute_5=qi._emscripten_bind_MeshBuilder_AddFloatAttribute_5,I1=t._emscripten_bind_MeshBuilder_AddInt16Attribute_5=qi._emscripten_bind_MeshBuilder_AddInt16Attribute_5,kb=t._emscripten_bind_MeshBuilder_AddInt32AttributeToMesh_5=qi._emscripten_bind_MeshBuilder_AddInt32AttributeToMesh_5,Vf=t._emscripten_bind_MeshBuilder_AddInt32Attribute_5=qi._emscripten_bind_MeshBuilder_AddInt32Attribute_5,D1=t._emscripten_bind_MeshBuilder_AddInt8Attribute_5=qi._emscripten_bind_MeshBuilder_AddInt8Attribute_5,tf=t._emscripten_bind_MeshBuilder_AddMetadataToMesh_2=qi._emscripten_bind_MeshBuilder_AddMetadataToMesh_2,b2=t._emscripten_bind_MeshBuilder_AddMetadata_2=qi._emscripten_bind_MeshBuilder_AddMetadata_2,P1=t._emscripten_bind_MeshBuilder_AddUInt16Attribute_5=qi._emscripten_bind_MeshBuilder_AddUInt16Attribute_5,bc=t._emscripten_bind_MeshBuilder_AddUInt32Attribute_5=qi._emscripten_bind_MeshBuilder_AddUInt32Attribute_5,kw=t._emscripten_bind_MeshBuilder_AddUInt8Attribute_5=qi._emscripten_bind_MeshBuilder_AddUInt8Attribute_5,Cw=t._emscripten_bind_MeshBuilder_MeshBuilder_0=qi._emscripten_bind_MeshBuilder_MeshBuilder_0,Sw=t._emscripten_bind_MeshBuilder_SetMetadataForAttribute_3=qi._emscripten_bind_MeshBuilder_SetMetadataForAttribute_3,Tw=t._emscripten_bind_MeshBuilder___destroy___0=qi._emscripten_bind_MeshBuilder___destroy___0,Cb=t._emscripten_bind_Mesh_Mesh_0=qi._emscripten_bind_Mesh_Mesh_0,Sb=t._emscripten_bind_Mesh___destroy___0=qi._emscripten_bind_Mesh___destroy___0,Mw=t._emscripten_bind_Mesh_num_attributes_0=qi._emscripten_bind_Mesh_num_attributes_0,Rw=t._emscripten_bind_Mesh_num_faces_0=qi._emscripten_bind_Mesh_num_faces_0,Bw=t._emscripten_bind_Mesh_num_points_0=qi._emscripten_bind_Mesh_num_points_0,Iw=t._emscripten_bind_Mesh_set_num_points_1=qi._emscripten_bind_Mesh_set_num_points_1,Tb=t._emscripten_bind_MetadataBuilder_AddDoubleEntry_3=qi._emscripten_bind_MetadataBuilder_AddDoubleEntry_3,Dw=t._emscripten_bind_MetadataBuilder_AddIntEntry_3=qi._emscripten_bind_MetadataBuilder_AddIntEntry_3,Mb=t._emscripten_bind_MetadataBuilder_AddStringEntry_3=qi._emscripten_bind_MetadataBuilder_AddStringEntry_3,y2=t._emscripten_bind_MetadataBuilder_MetadataBuilder_0=qi._emscripten_bind_MetadataBuilder_MetadataBuilder_0,yc=t._emscripten_bind_MetadataBuilder___destroy___0=qi._emscripten_bind_MetadataBuilder___destroy___0,Pw=t._emscripten_bind_Metadata_Metadata_0=qi._emscripten_bind_Metadata_Metadata_0,Lw=t._emscripten_bind_Metadata___destroy___0=qi._emscripten_bind_Metadata___destroy___0,Nw=t._emscripten_bind_PointAttribute_PointAttribute_0=qi._emscripten_bind_PointAttribute_PointAttribute_0,Vh=t._emscripten_bind_PointAttribute___destroy___0=qi._emscripten_bind_PointAttribute___destroy___0,$s=t._emscripten_bind_PointAttribute_attribute_type_0=qi._emscripten_bind_PointAttribute_attribute_type_0,Fw=t._emscripten_bind_PointAttribute_byte_offset_0=qi._emscripten_bind_PointAttribute_byte_offset_0,Rb=t._emscripten_bind_PointAttribute_byte_stride_0=qi._emscripten_bind_PointAttribute_byte_stride_0,jh=t._emscripten_bind_PointAttribute_data_type_0=qi._emscripten_bind_PointAttribute_data_type_0,Ow=t._emscripten_bind_PointAttribute_normalized_0=qi._emscripten_bind_PointAttribute_normalized_0,Bb=t._emscripten_bind_PointAttribute_num_components_0=qi._emscripten_bind_PointAttribute_num_components_0,Hw=t._emscripten_bind_PointAttribute_size_0=qi._emscripten_bind_PointAttribute_size_0,L1=t._emscripten_bind_PointAttribute_unique_id_0=qi._emscripten_bind_PointAttribute_unique_id_0,Ib=t._emscripten_bind_PointCloudBuilder_AddFloatAttribute_5=qi._emscripten_bind_PointCloudBuilder_AddFloatAttribute_5,Uw=t._emscripten_bind_PointCloudBuilder_AddInt16Attribute_5=qi._emscripten_bind_PointCloudBuilder_AddInt16Attribute_5,Vw=t._emscripten_bind_PointCloudBuilder_AddInt32Attribute_5=qi._emscripten_bind_PointCloudBuilder_AddInt32Attribute_5,Db=t._emscripten_bind_PointCloudBuilder_AddInt8Attribute_5=qi._emscripten_bind_PointCloudBuilder_AddInt8Attribute_5,Pb=t._emscripten_bind_PointCloudBuilder_AddMetadata_2=qi._emscripten_bind_PointCloudBuilder_AddMetadata_2,jw=t._emscripten_bind_PointCloudBuilder_AddUInt16Attribute_5=qi._emscripten_bind_PointCloudBuilder_AddUInt16Attribute_5,Gh=t._emscripten_bind_PointCloudBuilder_AddUInt32Attribute_5=qi._emscripten_bind_PointCloudBuilder_AddUInt32Attribute_5,rf=t._emscripten_bind_PointCloudBuilder_AddUInt8Attribute_5=qi._emscripten_bind_PointCloudBuilder_AddUInt8Attribute_5,A2=t._emscripten_bind_PointCloudBuilder_PointCloudBuilder_0=qi._emscripten_bind_PointCloudBuilder_PointCloudBuilder_0,N1=t._emscripten_bind_PointCloudBuilder_SetMetadataForAttribute_3=qi._emscripten_bind_PointCloudBuilder_SetMetadataForAttribute_3,Lb=t._emscripten_bind_PointCloudBuilder___destroy___0=qi._emscripten_bind_PointCloudBuilder___destroy___0,Il=t._emscripten_bind_PointCloud_PointCloud_0=qi._emscripten_bind_PointCloud_PointCloud_0,Iu=t._emscripten_bind_PointCloud___destroy___0=qi._emscripten_bind_PointCloud___destroy___0,F1=t._emscripten_bind_PointCloud_num_attributes_0=qi._emscripten_bind_PointCloud_num_attributes_0,Gw=t._emscripten_bind_PointCloud_num_points_0=qi._emscripten_bind_PointCloud_num_points_0,Nb=t._emscripten_bind_VoidPtr___destroy___0=qi._emscripten_bind_VoidPtr___destroy___0,zw=t._emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE=qi._emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE,Fb=t._emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD=qi._emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD,O1=t._emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH=qi._emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH,Ac=t._emscripten_enum_draco_GeometryAttribute_Type_COLOR=qi._emscripten_enum_draco_GeometryAttribute_Type_COLOR,Dl=t._emscripten_enum_draco_GeometryAttribute_Type_GENERIC=qi._emscripten_enum_draco_GeometryAttribute_Type_GENERIC,Ob=t._emscripten_enum_draco_GeometryAttribute_Type_INVALID=qi._emscripten_enum_draco_GeometryAttribute_Type_INVALID,Hb=t._emscripten_enum_draco_GeometryAttribute_Type_NORMAL=qi._emscripten_enum_draco_GeometryAttribute_Type_NORMAL,Ww=t._emscripten_enum_draco_GeometryAttribute_Type_POSITION=qi._emscripten_enum_draco_GeometryAttribute_Type_POSITION,Qw=t._emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD=qi._emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD,Jw=t._emscripten_enum_draco_MeshEncoderMethod_MESH_EDGEBREAKER_ENCODING=qi._emscripten_enum_draco_MeshEncoderMethod_MESH_EDGEBREAKER_ENCODING,Ub=t._emscripten_enum_draco_MeshEncoderMethod_MESH_SEQUENTIAL_ENCODING=qi._emscripten_enum_draco_MeshEncoderMethod_MESH_SEQUENTIAL_ENCODING,Vb=t._emscripten_replace_memory=qi._emscripten_replace_memory;t._free=qi._free,t._i64Add=qi._i64Add,t._i64Subtract=qi._i64Subtract,t._llvm_bswap_i32=qi._llvm_bswap_i32;var jf=t._malloc=qi._malloc;t._memcpy=qi._memcpy,t._memmove=qi._memmove,t._memset=qi._memset,t._sbrk=qi._sbrk,t.establishStackSpace=qi.establishStackSpace,t.getTempRet0=qi.getTempRet0,t.runPostSets=qi.runPostSets;var zh=t.setTempRet0=qi.setTempRet0;t.setThrew=qi.setThrew;var jb=t.stackAlloc=qi.stackAlloc;if(t.stackRestore=qi.stackRestore,t.stackSave=qi.stackSave,t.dynCall_ii=qi.dynCall_ii,t.dynCall_iii=qi.dynCall_iii,t.dynCall_iiii=qi.dynCall_iiii,t.dynCall_iiiiiii=qi.dynCall_iiiiiii,t.dynCall_v=qi.dynCall_v,t.dynCall_vi=qi.dynCall_vi,t.dynCall_vii=qi.dynCall_vii,t.dynCall_viii=qi.dynCall_viii,t.dynCall_viiii=qi.dynCall_viiii,t.dynCall_viiiii=qi.dynCall_viiiii,t.dynCall_viiiiii=qi.dynCall_viiiiii,t.asm=qi,ht)if(ei(ht)||(typeof t.locateFile=="function"?ht=t.locateFile(ht):t.memoryInitializerPrefixURL&&(ht=t.memoryInitializerPrefixURL+ht)),_||k){var H1=t.readBinary(ht);He.set(H1,ee)}else{let Oe=function(){t.readAsync(ht,vc,function(){throw"could not load memory initializer "+ht})};Fe();var vc=function(qe){qe.byteLength&&(qe=new Uint8Array(qe)),He.set(qe,ee),t.memoryInitializerRequest&&delete t.memoryInitializerRequest.response,Ze()},U1=Cr(ht);if(U1)vc(U1.buffer);else if(t.memoryInitializerRequest){let qe=function(){var vt=t.memoryInitializerRequest,Xt=vt.response;if(vt.status!==200&&vt.status!==0){var Z=Cr(t.memoryInitializerRequestURL);if(Z)Xt=Z.buffer;else{console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+vt.status+", retrying "+ht),Oe();return}}vc(Xt)};t.memoryInitializerRequest.response?setTimeout(qe,0):t.memoryInitializerRequest.addEventListener("load",qe)}else Oe()}t.then=function(Oe){if(t.calledRun)Oe(t);else{var qe=t.onRuntimeInitialized;t.onRuntimeInitialized=function(){qe&&qe(),Oe(t)}}return t};function Gf(Oe){this.name="ExitStatus",this.message="Program terminated with exit("+Oe+")",this.status=Oe}Gf.prototype=new Error,Gf.prototype.constructor=Gf;var $a;mr=function Oe(){t.calledRun||v2(),t.calledRun||(mr=Oe)};function v2(Oe){if(Oe=Oe||t.arguments,kr>0||(Me(),kr>0)||t.calledRun)return;function qe(){t.calledRun||(t.calledRun=!0,!ue&&(bt(),zt(),t.onRuntimeInitialized&&t.onRuntimeInitialized(),yt()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),qe()},1)):qe()}t.run=v2;function V1(Oe,qe){qe&&t.noExitRuntime&&Oe===0||(t.noExitRuntime||(ue=!0,Ft=$a,It(),t.onExit&&t.onExit(Oe)),_&&process.exit(Oe),t.quit(Oe,new Gf(Oe)))}t.exit=V1;function el(Oe){throw t.onAbort&&t.onAbort(Oe),Oe!==void 0?(t.print(Oe),t.printErr(Oe),Oe=JSON.stringify(Oe)):Oe="",ue=!0,"abort("+Oe+"). Build with -s ASSERTIONS=1 for more info."}if(t.abort=el,t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();t.noExitRuntime=!0,v2();function ms(){}ms.prototype=Object.create(ms.prototype),ms.prototype.constructor=ms,ms.prototype.__class__=ms,ms.__cache__={},t.WrapperObject=ms;function Wo(Oe){return(Oe||ms).__cache__}t.getCache=Wo;function Wh(Oe,qe){var vt=Wo(qe),Xt=vt[Oe];return Xt||(Xt=Object.create((qe||ms).prototype),Xt.ptr=Oe,vt[Oe]=Xt)}t.wrapPointer=Wh;function Xw(Oe,qe){return Wh(Oe.ptr,qe)}t.castObject=Xw,t.NULL=Wh(0);function qw(Oe){if(!Oe.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";Oe.__destroy__(),delete Wo(Oe.__class__)[Oe.ptr]}t.destroy=qw;function Zw(Oe,qe){return Oe.ptr===qe.ptr}t.compare=Zw;function Du(Oe){return Oe.ptr}t.getPointer=Du;function wc(Oe){return Oe.__class__}t.getClass=wc;var en={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(en.needed){for(var Oe=0;Oe<en.temps.length;Oe++)t._free(en.temps[Oe]);en.temps.length=0,t._free(en.buffer),en.buffer=0,en.size+=en.needed,en.needed=0}en.buffer||(en.size+=128,en.buffer=t._malloc(en.size),oe(en.buffer)),en.pos=0},alloc:function(Oe,qe){oe(en.buffer);var vt=qe.BYTES_PER_ELEMENT,Xt=Oe.length*vt;Xt=Xt+7&-8;var Z;return en.pos+Xt>=en.size?(oe(Xt>0),en.needed+=Xt,Z=t._malloc(Xt),en.temps.push(Z)):(Z=en.buffer+en.pos,en.pos+=Xt),Z},copy:function(Oe,qe,vt){var Xt=vt,Z=qe.BYTES_PER_ELEMENT;switch(Z){case 2:Xt>>=1;break;case 4:Xt>>=2;break;case 8:Xt>>=3;break}for(var cr=0;cr<Oe.length;cr++)qe[Xt+cr]=Oe[cr]}};function xc(Oe){if(typeof Oe=="string"){var qe=Qi(Oe),vt=en.alloc(qe,nt);return en.copy(qe,nt,vt),vt}return Oe}function Ec(Oe){if(typeof Oe=="object"){var qe=en.alloc(Oe,nt);return en.copy(Oe,nt,qe),qe}return Oe}function Qh(Oe){if(typeof Oe=="object"){var qe=en.alloc(Oe,ce);return en.copy(Oe,ce,qe),qe}return Oe}function zf(Oe){if(typeof Oe=="object"){var qe=en.alloc(Oe,Re);return en.copy(Oe,Re,qe),qe}return Oe}function tl(Oe){if(typeof Oe=="object"){var qe=en.alloc(Oe,lt);return en.copy(Oe,lt,qe),qe}return Oe}function js(){this.ptr=Il(),Wo(js)[this.ptr]=this}js.prototype=Object.create(ms.prototype),js.prototype.constructor=js,js.prototype.__class__=js,js.__cache__={},t.PointCloud=js,js.prototype.num_attributes=js.prototype.num_attributes=function(){var Oe=this.ptr;return F1(Oe)},js.prototype.num_points=js.prototype.num_points=function(){var Oe=this.ptr;return Gw(Oe)},js.prototype.__destroy__=js.prototype.__destroy__=function(){var Oe=this.ptr;Iu(Oe)};function Gn(Oe){Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),this.ptr=ww(Oe),Wo(Gn)[this.ptr]=this}Gn.prototype=Object.create(ms.prototype),Gn.prototype.constructor=Gn,Gn.prototype.__class__=Gn,Gn.__cache__={},t.ExpertEncoder=Gn,Gn.prototype.SetEncodingMethod=Gn.prototype.SetEncodingMethod=function(Oe){var qe=this.ptr;Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),B1(qe,Oe)},Gn.prototype.SetAttributeQuantization=Gn.prototype.SetAttributeQuantization=function(Oe,qe){var vt=this.ptr;Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),m2(vt,Oe,qe)},Gn.prototype.SetAttributeExplicitQuantization=Gn.prototype.SetAttributeExplicitQuantization=function(Oe,qe,vt,Xt,Z){var cr=this.ptr;en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),typeof Xt=="object"&&(Xt=tl(Xt)),Z&&typeof Z=="object"&&(Z=Z.ptr),p2(cr,Oe,qe,vt,Xt,Z)},Gn.prototype.SetSpeedOptions=Gn.prototype.SetSpeedOptions=function(Oe,qe){var vt=this.ptr;Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),xb(vt,Oe,qe)},Gn.prototype.SetTrackEncodedProperties=Gn.prototype.SetTrackEncodedProperties=function(Oe){var qe=this.ptr;Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Eb(qe,Oe)},Gn.prototype.EncodeToDracoBuffer=Gn.prototype.EncodeToDracoBuffer=function(Oe,qe){var vt=this.ptr;return Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),Ab(vt,Oe,qe)},Gn.prototype.GetNumberOfEncodedPoints=Gn.prototype.GetNumberOfEncodedPoints=function(){var Oe=this.ptr;return wb(Oe)},Gn.prototype.GetNumberOfEncodedFaces=Gn.prototype.GetNumberOfEncodedFaces=function(){var Oe=this.ptr;return vb(Oe)},Gn.prototype.__destroy__=Gn.prototype.__destroy__=function(){var Oe=this.ptr;g2(Oe)};function A0(){this.ptr=Nw(),Wo(A0)[this.ptr]=this}A0.prototype=Object.create(ms.prototype),A0.prototype.constructor=A0,A0.prototype.__class__=A0,A0.__cache__={},t.PointAttribute=A0,A0.prototype.size=A0.prototype.size=function(){var Oe=this.ptr;return Hw(Oe)},A0.prototype.attribute_type=A0.prototype.attribute_type=function(){var Oe=this.ptr;return $s(Oe)},A0.prototype.data_type=A0.prototype.data_type=function(){var Oe=this.ptr;return jh(Oe)},A0.prototype.num_components=A0.prototype.num_components=function(){var Oe=this.ptr;return Bb(Oe)},A0.prototype.normalized=A0.prototype.normalized=function(){var Oe=this.ptr;return!!Ow(Oe)},A0.prototype.byte_stride=A0.prototype.byte_stride=function(){var Oe=this.ptr;return Rb(Oe)},A0.prototype.byte_offset=A0.prototype.byte_offset=function(){var Oe=this.ptr;return Fw(Oe)},A0.prototype.unique_id=A0.prototype.unique_id=function(){var Oe=this.ptr;return L1(Oe)},A0.prototype.__destroy__=A0.prototype.__destroy__=function(){var Oe=this.ptr;Vh(Oe)};function l0(){this.ptr=mw(),Wo(l0)[this.ptr]=this}l0.prototype=Object.create(ms.prototype),l0.prototype.constructor=l0,l0.prototype.__class__=l0,l0.__cache__={},t.Encoder=l0,l0.prototype.SetEncodingMethod=l0.prototype.SetEncodingMethod=function(Oe){var qe=this.ptr;Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),yw(qe,Oe)},l0.prototype.SetAttributeQuantization=l0.prototype.SetAttributeQuantization=function(Oe,qe){var vt=this.ptr;Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),bw(vt,Oe,qe)},l0.prototype.SetAttributeExplicitQuantization=l0.prototype.SetAttributeExplicitQuantization=function(Oe,qe,vt,Xt,Z){var cr=this.ptr;en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),typeof Xt=="object"&&(Xt=tl(Xt)),Z&&typeof Z=="object"&&(Z=Z.ptr),Uh(cr,Oe,qe,vt,Xt,Z)},l0.prototype.SetSpeedOptions=l0.prototype.SetSpeedOptions=function(Oe,qe){var vt=this.ptr;Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),Aw(vt,Oe,qe)},l0.prototype.SetTrackEncodedProperties=l0.prototype.SetTrackEncodedProperties=function(Oe){var qe=this.ptr;Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),vw(qe,Oe)},l0.prototype.EncodeMeshToDracoBuffer=l0.prototype.EncodeMeshToDracoBuffer=function(Oe,qe){var vt=this.ptr;return Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),yb(vt,Oe,qe)},l0.prototype.EncodePointCloudToDracoBuffer=l0.prototype.EncodePointCloudToDracoBuffer=function(Oe,qe,vt){var Xt=this.ptr;return Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),ef(Xt,Oe,qe,vt)},l0.prototype.GetNumberOfEncodedPoints=l0.prototype.GetNumberOfEncodedPoints=function(){var Oe=this.ptr;return d2(Oe)},l0.prototype.GetNumberOfEncodedFaces=l0.prototype.GetNumberOfEncodedFaces=function(){var Oe=this.ptr;return gw(Oe)},l0.prototype.__destroy__=l0.prototype.__destroy__=function(){var Oe=this.ptr;R1(Oe)};function Jn(){this.ptr=Cw(),Wo(Jn)[this.ptr]=this}Jn.prototype=Object.create(ms.prototype),Jn.prototype.constructor=Jn,Jn.prototype.__class__=Jn,Jn.__cache__={},t.MeshBuilder=Jn,Jn.prototype.AddFacesToMesh=Jn.prototype.AddFacesToMesh=function(Oe,qe,vt){var Xt=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),typeof vt=="object"&&(vt=zf(vt)),!!Ka(Xt,Oe,qe,vt)},Jn.prototype.AddFloatAttributeToMesh=Jn.prototype.AddFloatAttributeToMesh=function(Oe,qe,vt,Xt,Z){var cr=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),Xt&&typeof Xt=="object"&&(Xt=Xt.ptr),typeof Z=="object"&&(Z=tl(Z)),Ew(cr,Oe,qe,vt,Xt,Z)},Jn.prototype.AddInt32AttributeToMesh=Jn.prototype.AddInt32AttributeToMesh=function(Oe,qe,vt,Xt,Z){var cr=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),Xt&&typeof Xt=="object"&&(Xt=Xt.ptr),typeof Z=="object"&&(Z=zf(Z)),kb(cr,Oe,qe,vt,Xt,Z)},Jn.prototype.AddMetadataToMesh=Jn.prototype.AddMetadataToMesh=function(Oe,qe){var vt=this.ptr;return Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),!!tf(vt,Oe,qe)},Jn.prototype.AddFloatAttribute=Jn.prototype.AddFloatAttribute=function(Oe,qe,vt,Xt,Z){var cr=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),Xt&&typeof Xt=="object"&&(Xt=Xt.ptr),typeof Z=="object"&&(Z=tl(Z)),_w(cr,Oe,qe,vt,Xt,Z)},Jn.prototype.AddInt8Attribute=Jn.prototype.AddInt8Attribute=function(Oe,qe,vt,Xt,Z){var cr=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),Xt&&typeof Xt=="object"&&(Xt=Xt.ptr),typeof Z=="object"&&(Z=Ec(Z)),D1(cr,Oe,qe,vt,Xt,Z)},Jn.prototype.AddUInt8Attribute=Jn.prototype.AddUInt8Attribute=function(Oe,qe,vt,Xt,Z){var cr=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),Xt&&typeof Xt=="object"&&(Xt=Xt.ptr),typeof Z=="object"&&(Z=Ec(Z)),kw(cr,Oe,qe,vt,Xt,Z)},Jn.prototype.AddInt16Attribute=Jn.prototype.AddInt16Attribute=function(Oe,qe,vt,Xt,Z){var cr=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),Xt&&typeof Xt=="object"&&(Xt=Xt.ptr),typeof Z=="object"&&(Z=Qh(Z)),I1(cr,Oe,qe,vt,Xt,Z)},Jn.prototype.AddUInt16Attribute=Jn.prototype.AddUInt16Attribute=function(Oe,qe,vt,Xt,Z){var cr=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),Xt&&typeof Xt=="object"&&(Xt=Xt.ptr),typeof Z=="object"&&(Z=Qh(Z)),P1(cr,Oe,qe,vt,Xt,Z)},Jn.prototype.AddInt32Attribute=Jn.prototype.AddInt32Attribute=function(Oe,qe,vt,Xt,Z){var cr=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),Xt&&typeof Xt=="object"&&(Xt=Xt.ptr),typeof Z=="object"&&(Z=zf(Z)),Vf(cr,Oe,qe,vt,Xt,Z)},Jn.prototype.AddUInt32Attribute=Jn.prototype.AddUInt32Attribute=function(Oe,qe,vt,Xt,Z){var cr=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),Xt&&typeof Xt=="object"&&(Xt=Xt.ptr),typeof Z=="object"&&(Z=zf(Z)),bc(cr,Oe,qe,vt,Xt,Z)},Jn.prototype.AddMetadata=Jn.prototype.AddMetadata=function(Oe,qe){var vt=this.ptr;return Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),!!b2(vt,Oe,qe)},Jn.prototype.SetMetadataForAttribute=Jn.prototype.SetMetadataForAttribute=function(Oe,qe,vt){var Xt=this.ptr;return Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),!!Sw(Xt,Oe,qe,vt)},Jn.prototype.__destroy__=Jn.prototype.__destroy__=function(){var Oe=this.ptr;Tw(Oe)};function sa(){this.ptr=gb(),Wo(sa)[this.ptr]=this}sa.prototype=Object.create(ms.prototype),sa.prototype.constructor=sa,sa.prototype.__class__=sa,sa.__cache__={},t.DracoInt8Array=sa,sa.prototype.GetValue=sa.prototype.GetValue=function(Oe){var qe=this.ptr;return Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),bb(qe,Oe)},sa.prototype.size=sa.prototype.size=function(){var Oe=this.ptr;return pw(Oe)},sa.prototype.__destroy__=sa.prototype.__destroy__=function(){var Oe=this.ptr;dw(Oe)};function So(){this.ptr=y2(),Wo(So)[this.ptr]=this}So.prototype=Object.create(ms.prototype),So.prototype.constructor=So,So.prototype.__class__=So,So.__cache__={},t.MetadataBuilder=So,So.prototype.AddStringEntry=So.prototype.AddStringEntry=function(Oe,qe,vt){var Xt=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"?qe=qe.ptr:qe=xc(qe),vt&&typeof vt=="object"?vt=vt.ptr:vt=xc(vt),!!Mb(Xt,Oe,qe,vt)},So.prototype.AddIntEntry=So.prototype.AddIntEntry=function(Oe,qe,vt){var Xt=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"?qe=qe.ptr:qe=xc(qe),vt&&typeof vt=="object"&&(vt=vt.ptr),!!Dw(Xt,Oe,qe,vt)},So.prototype.AddDoubleEntry=So.prototype.AddDoubleEntry=function(Oe,qe,vt){var Xt=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"?qe=qe.ptr:qe=xc(qe),vt&&typeof vt=="object"&&(vt=vt.ptr),!!Tb(Xt,Oe,qe,vt)},So.prototype.__destroy__=So.prototype.__destroy__=function(){var Oe=this.ptr;yc(Oe)};function oa(){this.ptr=xw(),Wo(oa)[this.ptr]=this}oa.prototype=Object.create(ms.prototype),oa.prototype.constructor=oa,oa.prototype.__class__=oa,oa.__cache__={},t.GeometryAttribute=oa,oa.prototype.__destroy__=oa.prototype.__destroy__=function(){var Oe=this.ptr;_b(Oe)};function eo(){this.ptr=Cb(),Wo(eo)[this.ptr]=this}eo.prototype=Object.create(ms.prototype),eo.prototype.constructor=eo,eo.prototype.__class__=eo,eo.__cache__={},t.Mesh=eo,eo.prototype.num_faces=eo.prototype.num_faces=function(){var Oe=this.ptr;return Rw(Oe)},eo.prototype.num_attributes=eo.prototype.num_attributes=function(){var Oe=this.ptr;return Mw(Oe)},eo.prototype.num_points=eo.prototype.num_points=function(){var Oe=this.ptr;return Bw(Oe)},eo.prototype.set_num_points=eo.prototype.set_num_points=function(Oe){var qe=this.ptr;Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),Iw(qe,Oe)},eo.prototype.__destroy__=eo.prototype.__destroy__=function(){var Oe=this.ptr;Sb(Oe)};function P0(){this.ptr=A2(),Wo(P0)[this.ptr]=this}P0.prototype=Object.create(ms.prototype),P0.prototype.constructor=P0,P0.prototype.__class__=P0,P0.__cache__={},t.PointCloudBuilder=P0,P0.prototype.AddFloatAttribute=P0.prototype.AddFloatAttribute=function(Oe,qe,vt,Xt,Z){var cr=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),Xt&&typeof Xt=="object"&&(Xt=Xt.ptr),typeof Z=="object"&&(Z=tl(Z)),Ib(cr,Oe,qe,vt,Xt,Z)},P0.prototype.AddInt8Attribute=P0.prototype.AddInt8Attribute=function(Oe,qe,vt,Xt,Z){var cr=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),Xt&&typeof Xt=="object"&&(Xt=Xt.ptr),typeof Z=="object"&&(Z=Ec(Z)),Db(cr,Oe,qe,vt,Xt,Z)},P0.prototype.AddUInt8Attribute=P0.prototype.AddUInt8Attribute=function(Oe,qe,vt,Xt,Z){var cr=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),Xt&&typeof Xt=="object"&&(Xt=Xt.ptr),typeof Z=="object"&&(Z=Ec(Z)),rf(cr,Oe,qe,vt,Xt,Z)},P0.prototype.AddInt16Attribute=P0.prototype.AddInt16Attribute=function(Oe,qe,vt,Xt,Z){var cr=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),Xt&&typeof Xt=="object"&&(Xt=Xt.ptr),typeof Z=="object"&&(Z=Qh(Z)),Uw(cr,Oe,qe,vt,Xt,Z)},P0.prototype.AddUInt16Attribute=P0.prototype.AddUInt16Attribute=function(Oe,qe,vt,Xt,Z){var cr=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),Xt&&typeof Xt=="object"&&(Xt=Xt.ptr),typeof Z=="object"&&(Z=Qh(Z)),jw(cr,Oe,qe,vt,Xt,Z)},P0.prototype.AddInt32Attribute=P0.prototype.AddInt32Attribute=function(Oe,qe,vt,Xt,Z){var cr=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),Xt&&typeof Xt=="object"&&(Xt=Xt.ptr),typeof Z=="object"&&(Z=zf(Z)),Vw(cr,Oe,qe,vt,Xt,Z)},P0.prototype.AddUInt32Attribute=P0.prototype.AddUInt32Attribute=function(Oe,qe,vt,Xt,Z){var cr=this.ptr;return en.prepare(),Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),Xt&&typeof Xt=="object"&&(Xt=Xt.ptr),typeof Z=="object"&&(Z=zf(Z)),Gh(cr,Oe,qe,vt,Xt,Z)},P0.prototype.AddMetadata=P0.prototype.AddMetadata=function(Oe,qe){var vt=this.ptr;return Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),!!Pb(vt,Oe,qe)},P0.prototype.SetMetadataForAttribute=P0.prototype.SetMetadataForAttribute=function(Oe,qe,vt){var Xt=this.ptr;return Oe&&typeof Oe=="object"&&(Oe=Oe.ptr),qe&&typeof qe=="object"&&(qe=qe.ptr),vt&&typeof vt=="object"&&(vt=vt.ptr),!!N1(Xt,Oe,qe,vt)},P0.prototype.__destroy__=P0.prototype.__destroy__=function(){var Oe=this.ptr;Lb(Oe)};function La(){throw"cannot construct a VoidPtr, no constructor in IDL"}La.prototype=Object.create(ms.prototype),La.prototype.constructor=La,La.prototype.__class__=La,La.__cache__={},t.VoidPtr=La,La.prototype.__destroy__=La.prototype.__destroy__=function(){var Oe=this.ptr;Nb(Oe)};function Pl(){this.ptr=Pw(),Wo(Pl)[this.ptr]=this}return Pl.prototype=Object.create(ms.prototype),Pl.prototype.constructor=Pl,Pl.prototype.__class__=Pl,Pl.__cache__={},t.Metadata=Pl,Pl.prototype.__destroy__=Pl.prototype.__destroy__=function(){var Oe=this.ptr;Lw(Oe)},function(){function Oe(){t.MESH_SEQUENTIAL_ENCODING=Ub(),t.MESH_EDGEBREAKER_ENCODING=Jw(),t.INVALID_GEOMETRY_TYPE=zw(),t.POINT_CLOUD=Fb(),t.TRIANGULAR_MESH=O1(),t.INVALID=Ob(),t.POSITION=Ww(),t.NORMAL=Hb(),t.COLOR=Ac(),t.TEX_COORD=Qw(),t.GENERIC=Dl()}t.calledRun?Oe():Tt(Oe)}(),typeof t.onModuleParsed=="function"&&t.onModuleParsed(),l};typeof exports=="object"&&typeof module=="object"?module.exports=Kx:typeof define=="function"&&define.amd?define([],function(){return Kx}):typeof exports=="object"&&(exports.DracoEncoderModule=Kx);(function(l,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):(l=l||self,l.CodeMirror=t())})(globalThis,function(){var l=navigator.userAgent,t=navigator.platform,i=/gecko\/\d/i.test(l),s=/MSIE \d/.test(l),u=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(l),p=/Edge\/(\d+)/.exec(l),y=s||u||p,A=y&&(s?document.documentMode||6:+(p||u)[1]),E=!p&&/WebKit\//.test(l),_=E&&/Qt\/\d+\.\d+/.test(l),k=!p&&/Chrome\//.test(l),R=/Opera\//.test(l),P=/Apple Computer/.test(navigator.vendor),B=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(l),O=/PhantomJS/.test(l),H=P&&(/Mobile\/\w+/.test(l)||navigator.maxTouchPoints>2),z=/Android/.test(l),Y=H||z||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(l),ee=H||/Mac/.test(t),ue=/\bCrOS\b/.test(l),oe=/win/i.test(t),Ae=R&&l.match(/Version\/(\d*\.\d*)/);Ae&&(Ae=Number(Ae[1])),Ae&&Ae>=15&&(R=!1,E=!0);var be=ee&&(_||R&&(Ae==null||Ae<12.11)),xe=i||y&&A>=9;function ne(w){return new RegExp("(^|\\s)"+w+"(?:$|\\s)\\s*")}var ae=function(w,T){var W=w.className,G=ne(T).exec(W);if(G){var te=W.slice(G.index+G[0].length);w.className=W.slice(0,G.index)+(te?G[1]+te:"")}};function ye(w){for(var T=w.childNodes.length;T>0;--T)w.removeChild(w.firstChild);return w}function ge(w,T){return ye(w).appendChild(T)}function we(w,T,W,G){var te=document.createElement(w);if(W&&(te.className=W),G&&(te.style.cssText=G),typeof T=="string")te.appendChild(document.createTextNode(T));else if(T)for(var pe=0;pe<T.length;++pe)te.appendChild(T[pe]);return te}function le(w,T,W,G){var te=we(w,T,W,G);return te.setAttribute("role","presentation"),te}var ie;document.createRange?ie=function(w,T,W,G){var te=document.createRange();return te.setEnd(G||w,W),te.setStart(w,T),te}:ie=function(w,T,W){var G=document.body.createTextRange();try{G.moveToElementText(w.parentNode)}catch{return G}return G.collapse(!0),G.moveEnd("character",W),G.moveStart("character",T),G};function he(w,T){if(T.nodeType==3&&(T=T.parentNode),w.contains)return w.contains(T);do if(T.nodeType==11&&(T=T.host),T==w)return!0;while(T=T.parentNode)}function de(){var w;try{w=document.activeElement}catch{w=document.body||null}for(;w&&w.shadowRoot&&w.shadowRoot.activeElement;)w=w.shadowRoot.activeElement;return w}function Se(w,T){var W=w.className;ne(T).test(W)||(w.className+=(W?" ":"")+T)}function Be(w,T){for(var W=w.split(" "),G=0;G<W.length;G++)W[G]&&!ne(W[G]).test(T)&&(T+=" "+W[G]);return T}var Le=function(w){w.select()};H?Le=function(w){w.selectionStart=0,w.selectionEnd=w.value.length}:y&&(Le=function(w){try{w.select()}catch{}});function nt(w){var T=Array.prototype.slice.call(arguments,1);return function(){return w.apply(null,T)}}function He(w,T,W){T||(T={});for(var G in w)w.hasOwnProperty(G)&&(W!==!1||!T.hasOwnProperty(G))&&(T[G]=w[G]);return T}function ce(w,T,W,G,te){T==null&&(T=w.search(/[^\s\u00a0]/),T==-1&&(T=w.length));for(var pe=G||0,De=te||0;;){var je=w.indexOf("	",pe);if(je<0||je>=T)return De+(T-pe);De+=je-pe,De+=W-De%W,pe=je+1}}var Re=function(){this.id=null,this.f=null,this.time=0,this.handler=nt(this.onTimeout,this)};Re.prototype.onTimeout=function(w){w.id=0,w.time<=+new Date?w.f():setTimeout(w.handler,w.time-+new Date)},Re.prototype.set=function(w,T){this.f=T;var W=+new Date+w;(!this.id||W<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,w),this.time=W)};function lt(w,T){for(var W=0;W<w.length;++W)if(w[W]==T)return W;return-1}var Te=50,Ye={toString:function(){return"CodeMirror.Pass"}},mt={scroll:!1},$e={origin:"*mouse"},gt={origin:"+move"};function kt(w,T,W){for(var G=0,te=0;;){var pe=w.indexOf("	",G);pe==-1&&(pe=w.length);var De=pe-G;if(pe==w.length||te+De>=T)return G+Math.min(De,T-te);if(te+=pe-G,te+=W-te%W,G=pe+1,te>=T)return G}}var Kt=[""];function Ft(w){for(;Kt.length<=w;)Kt.push(Yt(Kt)+" ");return Kt[w]}function Yt(w){return w[w.length-1]}function $t(w,T){for(var W=[],G=0;G<w.length;G++)W[G]=T(w[G],G);return W}function vi(w,T,W){for(var G=0,te=W(T);G<w.length&&W(w[G])<=te;)G++;w.splice(G,0,T)}function Xi(){}function Ki(w,T){var W;return Object.create?W=Object.create(w):(Xi.prototype=w,W=new Xi),T&&He(T,W),W}var or=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Et(w){return/\w/.test(w)||w>"\x80"&&(w.toUpperCase()!=w.toLowerCase()||or.test(w))}function Ct(w,T){return T?T.source.indexOf("\\w")>-1&&Et(w)?!0:T.test(w):Et(w)}function ri(w){for(var T in w)if(w.hasOwnProperty(T)&&w[T])return!1;return!0}var pt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ft(w){return w.charCodeAt(0)>=768&&pt.test(w)}function Lt(w,T,W){for(;(W<0?T>0:T<w.length)&&ft(w.charAt(T));)T+=W;return T}function ii(w,T,W){for(var G=T>W?-1:1;;){if(T==W)return T;var te=(T+W)/2,pe=G<0?Math.ceil(te):Math.floor(te);if(pe==T)return w(pe)?T:W;w(pe)?W=pe:T=pe+G}}function bi(w,T,W,G){if(!w)return G(T,W,"ltr",0);for(var te=!1,pe=0;pe<w.length;++pe){var De=w[pe];(De.from<W&&De.to>T||T==W&&De.to==T)&&(G(Math.max(De.from,T),Math.min(De.to,W),De.level==1?"rtl":"ltr",pe),te=!0)}te||G(T,W,"ltr")}var rt=null;function Pe(w,T,W){var G;rt=null;for(var te=0;te<w.length;++te){var pe=w[te];if(pe.from<T&&pe.to>T)return te;pe.to==T&&(pe.from!=pe.to&&W=="before"?G=te:rt=te),pe.from==T&&(pe.from!=pe.to&&W!="before"?G=te:rt=te)}return G!=null?G:rt}var Me=function(){var w="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",T="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function W(ct){return ct<=247?w.charAt(ct):1424<=ct&&ct<=1524?"R":1536<=ct&&ct<=1785?T.charAt(ct-1536):1774<=ct&&ct<=2220?"r":8192<=ct&&ct<=8203?"w":ct==8204?"b":"L"}var G=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,te=/[stwN]/,pe=/[LRr]/,De=/[Lb1n]/,je=/[1n]/;function tt(ct,Ht,Zt){this.level=ct,this.from=Ht,this.to=Zt}return function(ct,Ht){var Zt=Ht=="ltr"?"L":"R";if(ct.length==0||Ht=="ltr"&&!G.test(ct))return!1;for(var Ai=ct.length,hi=[],Gi=0;Gi<Ai;++Gi)hi.push(W(ct.charCodeAt(Gi)));for(var Zi=0,ur=Zt;Zi<Ai;++Zi){var xr=hi[Zi];xr=="m"?hi[Zi]=ur:ur=xr}for(var Rr=0,wr=Zt;Rr<Ai;++Rr){var Hr=hi[Rr];Hr=="1"&&wr=="r"?hi[Rr]="n":pe.test(Hr)&&(wr=Hr,Hr=="r"&&(hi[Rr]="R"))}for(var an=1,Zr=hi[0];an<Ai-1;++an){var Ln=hi[an];Ln=="+"&&Zr=="1"&&hi[an+1]=="1"?hi[an]="1":Ln==","&&Zr==hi[an+1]&&(Zr=="1"||Zr=="n")&&(hi[an]=Zr),Zr=Ln}for(var G0=0;G0<Ai;++G0){var Ws=hi[G0];if(Ws==",")hi[G0]="N";else if(Ws=="%"){var cs=void 0;for(cs=G0+1;cs<Ai&&hi[cs]=="%";++cs);for(var K0=G0&&hi[G0-1]=="!"||cs<Ai&&hi[cs]=="1"?"1":"N",Jo=G0;Jo<cs;++Jo)hi[Jo]=K0;G0=cs-1}}for(var Ss=0,Do=Zt;Ss<Ai;++Ss){var $0=hi[Ss];Do=="L"&&$0=="1"?hi[Ss]="L":pe.test($0)&&(Do=$0)}for(var Ps=0;Ps<Ai;++Ps)if(te.test(hi[Ps])){var Ls=void 0;for(Ls=Ps+1;Ls<Ai&&te.test(hi[Ls]);++Ls);for(var ys=(Ps?hi[Ps-1]:Zt)=="L",Po=(Ls<Ai?hi[Ls]:Zt)=="L",Oc=ys==Po?ys?"L":"R":Zt,va=Ps;va<Ls;++va)hi[va]=Oc;Ps=Ls-1}for(var To=[],wa,X0=0;X0<Ai;)if(De.test(hi[X0])){var H2=X0;for(++X0;X0<Ai&&De.test(hi[X0]);++X0);To.push(new tt(0,H2,X0))}else{var ff=X0,Tn=To.length,Yf=Ht=="rtl"?1:0;for(++X0;X0<Ai&&hi[X0]!="L";++X0);for(var Lo=ff;Lo<X0;)if(je.test(hi[Lo])){ff<Lo&&(To.splice(Tn,0,new tt(1,ff,Lo)),Tn+=Yf);var U0=Lo;for(++Lo;Lo<X0&&je.test(hi[Lo]);++Lo);To.splice(Tn,0,new tt(2,U0,Lo)),Tn+=Yf,ff=Lo}else++Lo;ff<X0&&To.splice(Tn,0,new tt(1,ff,X0))}return Ht=="ltr"&&(To[0].level==1&&(wa=ct.match(/^\s+/))&&(To[0].from=wa[0].length,To.unshift(new tt(0,0,wa[0].length))),Yt(To).level==1&&(wa=ct.match(/\s+$/))&&(Yt(To).to-=wa[0].length,To.push(new tt(0,Ai-wa[0].length,Ai)))),Ht=="rtl"?To.reverse():To}}();function bt(w,T){var W=w.order;return W==null&&(W=w.order=Me(w.text,T)),W}var zt=[],It=function(w,T,W){if(w.addEventListener)w.addEventListener(T,W,!1);else if(w.attachEvent)w.attachEvent("on"+T,W);else{var G=w._handlers||(w._handlers={});G[T]=(G[T]||zt).concat(W)}};function yt(w,T){return w._handlers&&w._handlers[T]||zt}function Di(w,T,W){if(w.removeEventListener)w.removeEventListener(T,W,!1);else if(w.detachEvent)w.detachEvent("on"+T,W);else{var G=w._handlers,te=G&&G[T];if(te){var pe=lt(te,W);pe>-1&&(G[T]=te.slice(0,pe).concat(te.slice(pe+1)))}}}function Tt(w,T){var W=yt(w,T);if(!!W.length)for(var G=Array.prototype.slice.call(arguments,2),te=0;te<W.length;++te)W[te].apply(null,G)}function Ot(w,T,W){return typeof T=="string"&&(T={type:T,preventDefault:function(){this.defaultPrevented=!0}}),Tt(w,W||T.type,w,T),mr(T)||T.codemirrorIgnore}function li(w){var T=w._handlers&&w._handlers.cursorActivity;if(!!T)for(var W=w.curOp.cursorActivityHandlers||(w.curOp.cursorActivityHandlers=[]),G=0;G<T.length;++G)lt(W,T[G])==-1&&W.push(T[G])}function Ti(w,T){return yt(w,T).length>0}function Ui(w){w.prototype.on=function(T,W){It(this,T,W)},w.prototype.off=function(T,W){Di(this,T,W)}}function gr(w){w.preventDefault?w.preventDefault():w.returnValue=!1}function kr(w){w.stopPropagation?w.stopPropagation():w.cancelBubble=!0}function mr(w){return w.defaultPrevented!=null?w.defaultPrevented:w.returnValue==!1}function Fe(w){gr(w),kr(w)}function Ze(w){return w.target||w.srcElement}function ht(w){var T=w.which;return T==null&&(w.button&1?T=1:w.button&2?T=3:w.button&4&&(T=2)),ee&&w.ctrlKey&&T==1&&(T=3),T}var Ut=function(){if(y&&A<9)return!1;var w=we("div");return"draggable"in w||"dragDrop"in w}(),ei;function Si(w){if(ei==null){var T=we("span","\u200B");ge(w,we("span",[T,document.createTextNode("x")])),w.firstChild.offsetHeight!=0&&(ei=T.offsetWidth<=1&&T.offsetHeight>2&&!(y&&A<8))}var W=ei?we("span","\u200B"):we("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return W.setAttribute("cm-text",""),W}var sr;function jt(w){if(sr!=null)return sr;var T=ge(w,document.createTextNode("A\u062EA")),W=ie(T,0,1).getBoundingClientRect(),G=ie(T,1,2).getBoundingClientRect();return ye(w),!W||W.left==W.right?!1:sr=G.right-W.right<3}var nr=`

b`.split(/\n/).length!=3?function(w){for(var T=0,W=[],G=w.length;T<=G;){var te=w.indexOf(`
`,T);te==-1&&(te=w.length);var pe=w.slice(T,w.charAt(te-1)=="\r"?te-1:te),De=pe.indexOf("\r");De!=-1?(W.push(pe.slice(0,De)),T+=De+1):(W.push(pe),T=te+1)}return W}:function(w){return w.split(/\r\n?|\n/)},Mn=window.getSelection?function(w){try{return w.selectionStart!=w.selectionEnd}catch{return!1}}:function(w){var T;try{T=w.ownerDocument.selection.createRange()}catch{}return!T||T.parentElement()!=w?!1:T.compareEndPoints("StartToEnd",T)!=0},Mt=function(){var w=we("div");return"oncopy"in w?!0:(w.setAttribute("oncopy","return;"),typeof w.oncopy=="function")}(),ui=null;function Li(w){if(ui!=null)return ui;var T=ge(w,we("span","x")),W=T.getBoundingClientRect(),G=ie(T,0,1).getBoundingClientRect();return ui=Math.abs(W.left-G.left)>1}var xi={},Fi={};function qr(w,T){arguments.length>2&&(T.dependencies=Array.prototype.slice.call(arguments,2)),xi[w]=T}function fr(w,T){Fi[w]=T}function Pr(w){if(typeof w=="string"&&Fi.hasOwnProperty(w))w=Fi[w];else if(w&&typeof w.name=="string"&&Fi.hasOwnProperty(w.name)){var T=Fi[w.name];typeof T=="string"&&(T={name:T}),w=Ki(T,w),w.name=T.name}else{if(typeof w=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(w))return Pr("application/xml");if(typeof w=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(w))return Pr("application/json")}return typeof w=="string"?{name:w}:w||{name:"null"}}function hn(w,T){T=Pr(T);var W=xi[T.name];if(!W)return hn(w,"text/plain");var G=W(w,T);if(Lr.hasOwnProperty(T.name)){var te=Lr[T.name];for(var pe in te)!te.hasOwnProperty(pe)||(G.hasOwnProperty(pe)&&(G["_"+pe]=G[pe]),G[pe]=te[pe])}if(G.name=T.name,T.helperType&&(G.helperType=T.helperType),T.modeProps)for(var De in T.modeProps)G[De]=T.modeProps[De];return G}var Lr={};function jr(w,T){var W=Lr.hasOwnProperty(w)?Lr[w]:Lr[w]={};He(T,W)}function un(w,T){if(T===!0)return T;if(w.copyState)return w.copyState(T);var W={};for(var G in T){var te=T[G];te instanceof Array&&(te=te.concat([])),W[G]=te}return W}function Yn(w,T){for(var W;w.innerMode&&(W=w.innerMode(T),!(!W||W.mode==w));)T=W.state,w=W.mode;return W||{mode:w,state:T}}function ks(w,T,W){return w.startState?w.startState(T,W):!0}var Qn=function(w,T,W){this.pos=this.start=0,this.string=w,this.tabSize=T||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=W};Qn.prototype.eol=function(){return this.pos>=this.string.length},Qn.prototype.sol=function(){return this.pos==this.lineStart},Qn.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Qn.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Qn.prototype.eat=function(w){var T=this.string.charAt(this.pos),W;if(typeof w=="string"?W=T==w:W=T&&(w.test?w.test(T):w(T)),W)return++this.pos,T},Qn.prototype.eatWhile=function(w){for(var T=this.pos;this.eat(w););return this.pos>T},Qn.prototype.eatSpace=function(){for(var w=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>w},Qn.prototype.skipToEnd=function(){this.pos=this.string.length},Qn.prototype.skipTo=function(w){var T=this.string.indexOf(w,this.pos);if(T>-1)return this.pos=T,!0},Qn.prototype.backUp=function(w){this.pos-=w},Qn.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ce(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ce(this.string,this.lineStart,this.tabSize):0)},Qn.prototype.indentation=function(){return ce(this.string,null,this.tabSize)-(this.lineStart?ce(this.string,this.lineStart,this.tabSize):0)},Qn.prototype.match=function(w,T,W){if(typeof w=="string"){var G=function(De){return W?De.toLowerCase():De},te=this.string.substr(this.pos,w.length);if(G(te)==G(w))return T!==!1&&(this.pos+=w.length),!0}else{var pe=this.string.slice(this.pos).match(w);return pe&&pe.index>0?null:(pe&&T!==!1&&(this.pos+=pe[0].length),pe)}},Qn.prototype.current=function(){return this.string.slice(this.start,this.pos)},Qn.prototype.hideFirstChars=function(w,T){this.lineStart+=w;try{return T()}finally{this.lineStart-=w}},Qn.prototype.lookAhead=function(w){var T=this.lineOracle;return T&&T.lookAhead(w)},Qn.prototype.baseToken=function(){var w=this.lineOracle;return w&&w.baseToken(this.pos)};function Tr(w,T){if(T-=w.first,T<0||T>=w.size)throw new Error("There is no line "+(T+w.first)+" in the document.");for(var W=w;!W.lines;)for(var G=0;;++G){var te=W.children[G],pe=te.chunkSize();if(T<pe){W=te;break}T-=pe}return W.lines[T]}function ss(w,T,W){var G=[],te=T.line;return w.iter(T.line,W.line+1,function(pe){var De=pe.text;te==W.line&&(De=De.slice(0,W.ch)),te==T.line&&(De=De.slice(T.ch)),G.push(De),++te}),G}function Bn(w,T,W){var G=[];return w.iter(T,W,function(te){G.push(te.text)}),G}function os(w,T){var W=T-w.height;if(W)for(var G=w;G;G=G.parent)G.height+=W}function rn(w){if(w.parent==null)return null;for(var T=w.parent,W=lt(T.lines,w),G=T.parent;G;T=G,G=G.parent)for(var te=0;G.children[te]!=T;++te)W+=G.children[te].chunkSize();return W+T.first}function Z0(w,T){var W=w.first;e:do{for(var G=0;G<w.children.length;++G){var te=w.children[G],pe=te.height;if(T<pe){w=te;continue e}T-=pe,W+=te.chunkSize()}return W}while(!w.lines);for(var De=0;De<w.lines.length;++De){var je=w.lines[De],tt=je.height;if(T<tt)break;T-=tt}return W+De}function Vs(w,T){return T>=w.first&&T<w.first+w.size}function Ks(w,T){return String(w.lineNumberFormatter(T+w.firstLineNumber))}function rr(w,T,W){if(W===void 0&&(W=null),!(this instanceof rr))return new rr(w,T,W);this.line=w,this.ch=T,this.sticky=W}function dt(w,T){return w.line-T.line||w.ch-T.ch}function Jt(w,T){return w.sticky==T.sticky&&dt(w,T)==0}function Qi(w){return rr(w.line,w.ch)}function $i(w,T){return dt(w,T)<0?T:w}function dn(w,T){return dt(w,T)<0?w:T}function jn(w,T){return Math.max(w.first,Math.min(T,w.first+w.size-1))}function Cr(w,T){if(T.line<w.first)return rr(w.first,0);var W=w.first+w.size-1;return T.line>W?rr(W,Tr(w,W).text.length):Co(T,Tr(w,T.line).text.length)}function Co(w,T){var W=w.ch;return W==null||W>T?rr(w.line,T):W<0?rr(w.line,0):w}function ya(w,T){for(var W=[],G=0;G<T.length;G++)W[G]=Cr(w,T[G]);return W}var gc=function(w,T){this.state=w,this.lookAhead=T},Bl=function(w,T,W,G){this.state=T,this.doc=w,this.line=W,this.maxLookAhead=G||0,this.baseTokens=null,this.baseTokenPos=1};Bl.prototype.lookAhead=function(w){var T=this.doc.getLine(this.line+w);return T!=null&&w>this.maxLookAhead&&(this.maxLookAhead=w),T},Bl.prototype.baseToken=function(w){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=w;)this.baseTokenPos+=2;var T=this.baseTokens[this.baseTokenPos+1];return{type:T&&T.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-w}},Bl.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Bl.fromSaved=function(w,T,W){return T instanceof gc?new Bl(w,un(w.mode,T.state),W,T.lookAhead):new Bl(w,un(w.mode,T),W)},Bl.prototype.save=function(w){var T=w!==!1?un(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new gc(T,this.maxLookAhead):T};function hb(w,T,W,G){var te=[w.state.modeGen],pe={};bb(w,T.text,w.doc.mode,W,function(ct,Ht){return te.push(ct,Ht)},pe,G);for(var De=W.state,je=function(ct){W.baseTokens=te;var Ht=w.state.overlays[ct],Zt=1,Ai=0;W.state=!0,bb(w,T.text,Ht.mode,W,function(hi,Gi){for(var Zi=Zt;Ai<hi;){var ur=te[Zt];ur>hi&&te.splice(Zt,1,hi,te[Zt+1],ur),Zt+=2,Ai=Math.min(hi,ur)}if(!!Gi)if(Ht.opaque)te.splice(Zi,Zt-Zi,hi,"overlay "+Gi),Zt=Zi+2;else for(;Zi<Zt;Zi+=2){var xr=te[Zi+1];te[Zi+1]=(xr?xr+" ":"")+"overlay "+Gi}},pe),W.state=De,W.baseTokens=null,W.baseTokenPos=1},tt=0;tt<w.state.overlays.length;++tt)je(tt);return{styles:te,classes:pe.bgClass||pe.textClass?pe:null}}function db(w,T,W){if(!T.styles||T.styles[0]!=w.state.modeGen){var G=Hh(w,rn(T)),te=T.text.length>w.options.maxHighlightLength&&un(w.doc.mode,G.state),pe=hb(w,T,G);te&&(G.state=te),T.stateAfter=G.save(!te),T.styles=pe.styles,pe.classes?T.styleClasses=pe.classes:T.styleClasses&&(T.styleClasses=null),W===w.doc.highlightFrontier&&(w.doc.modeFrontier=Math.max(w.doc.modeFrontier,++w.doc.highlightFrontier))}return T.styles}function Hh(w,T,W){var G=w.doc,te=w.display;if(!G.mode.startState)return new Bl(G,!0,T);var pe=dw(w,T,W),De=pe>G.first&&Tr(G,pe-1).stateAfter,je=De?Bl.fromSaved(G,De,pe):new Bl(G,ks(G.mode),pe);return G.iter(pe,T,function(tt){T1(w,tt.text,je);var ct=je.line;tt.stateAfter=ct==T-1||ct%5==0||ct>=te.viewFrom&&ct<te.viewTo?je.save():null,je.nextLine()}),W&&(G.modeFrontier=je.line),je}function T1(w,T,W,G){var te=w.doc.mode,pe=new Qn(T,w.options.tabSize,W);for(pe.start=pe.pos=G||0,T==""&&pb(te,W.state);!pe.eol();)M1(te,pe,W.state),pe.start=pe.pos}function pb(w,T){if(w.blankLine)return w.blankLine(T);if(!!w.innerMode){var W=Yn(w,T);if(W.mode.blankLine)return W.mode.blankLine(W.state)}}function M1(w,T,W,G){for(var te=0;te<10;te++){G&&(G[0]=Yn(w,W).mode);var pe=w.token(T,W);if(T.pos>T.start)return pe}throw new Error("Mode "+w.name+" failed to advance stream.")}var mb=function(w,T,W){this.start=w.start,this.end=w.pos,this.string=w.current(),this.type=T||null,this.state=W};function qi(w,T,W,G){var te=w.doc,pe=te.mode,De;T=Cr(te,T);var je=Tr(te,T.line),tt=Hh(w,T.line,W),ct=new Qn(je.text,w.options.tabSize,tt),Ht;for(G&&(Ht=[]);(G||ct.pos<T.ch)&&!ct.eol();)ct.start=ct.pos,De=M1(pe,ct,tt.state),G&&Ht.push(new mb(ct,De,un(te.mode,tt.state)));return G?Ht:new mb(ct,De,tt.state)}function gb(w,T){if(w)for(;;){var W=w.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!W)break;w=w.slice(0,W.index)+w.slice(W.index+W[0].length);var G=W[1]?"bgClass":"textClass";T[G]==null?T[G]=W[2]:new RegExp("(?:^|\\s)"+W[2]+"(?:$|\\s)").test(T[G])||(T[G]+=" "+W[2])}return w}function bb(w,T,W,G,te,pe,De){var je=W.flattenSpans;je==null&&(je=w.options.flattenSpans);var tt=0,ct=null,Ht=new Qn(T,w.options.tabSize,G),Zt,Ai=w.options.addModeClass&&[null];for(T==""&&gb(pb(W,G.state),pe);!Ht.eol();){if(Ht.pos>w.options.maxHighlightLength?(je=!1,De&&T1(w,T,G,Ht.pos),Ht.pos=T.length,Zt=null):Zt=gb(M1(W,Ht,G.state,Ai),pe),Ai){var hi=Ai[0].name;hi&&(Zt="m-"+(Zt?hi+" "+Zt:hi))}if(!je||ct!=Zt){for(;tt<Ht.start;)tt=Math.min(Ht.start,tt+5e3),te(tt,ct);ct=Zt}Ht.start=Ht.pos}for(;tt<Ht.pos;){var Gi=Math.min(Ht.pos,tt+5e3);te(Gi,ct),tt=Gi}}function dw(w,T,W){for(var G,te,pe=w.doc,De=W?-1:T-(w.doc.mode.innerMode?1e3:100),je=T;je>De;--je){if(je<=pe.first)return pe.first;var tt=Tr(pe,je-1),ct=tt.stateAfter;if(ct&&(!W||je+(ct instanceof gc?ct.lookAhead:0)<=pe.modeFrontier))return je;var Ht=ce(tt.text,null,w.options.tabSize);(te==null||G>Ht)&&(te=je-1,G=Ht)}return te}function pw(w,T){if(w.modeFrontier=Math.min(w.modeFrontier,T),!(w.highlightFrontier<T-10)){for(var W=w.first,G=T-1;G>W;G--){var te=Tr(w,G).stateAfter;if(te&&(!(te instanceof gc)||G+te.lookAhead<T)){W=G+1;break}}w.highlightFrontier=Math.min(w.highlightFrontier,W)}}var yb=!1,ef=!1;function mw(){yb=!0}function gw(){ef=!0}function d2(w,T,W){this.marker=w,this.from=T,this.to=W}function Uh(w,T){if(w)for(var W=0;W<w.length;++W){var G=w[W];if(G.marker==T)return G}}function bw(w,T){for(var W,G=0;G<w.length;++G)w[G]!=T&&(W||(W=[])).push(w[G]);return W}function yw(w,T,W){var G=W&&window.WeakSet&&(W.markedSpans||(W.markedSpans=new WeakSet));G&&G.has(w.markedSpans)?w.markedSpans.push(T):(w.markedSpans=w.markedSpans?w.markedSpans.concat([T]):[T],G&&G.add(w.markedSpans)),T.marker.attachLine(w)}function Aw(w,T,W){var G;if(w)for(var te=0;te<w.length;++te){var pe=w[te],De=pe.marker,je=pe.from==null||(De.inclusiveLeft?pe.from<=T:pe.from<T);if(je||pe.from==T&&De.type=="bookmark"&&(!W||!pe.marker.insertLeft)){var tt=pe.to==null||(De.inclusiveRight?pe.to>=T:pe.to>T);(G||(G=[])).push(new d2(De,pe.from,tt?null:pe.to))}}return G}function vw(w,T,W){var G;if(w)for(var te=0;te<w.length;++te){var pe=w[te],De=pe.marker,je=pe.to==null||(De.inclusiveRight?pe.to>=T:pe.to>T);if(je||pe.from==T&&De.type=="bookmark"&&(!W||pe.marker.insertLeft)){var tt=pe.from==null||(De.inclusiveLeft?pe.from<=T:pe.from<T);(G||(G=[])).push(new d2(De,tt?null:pe.from-T,pe.to==null?null:pe.to-T))}}return G}function R1(w,T){if(T.full)return null;var W=Vs(w,T.from.line)&&Tr(w,T.from.line).markedSpans,G=Vs(w,T.to.line)&&Tr(w,T.to.line).markedSpans;if(!W&&!G)return null;var te=T.from.ch,pe=T.to.ch,De=dt(T.from,T.to)==0,je=Aw(W,te,De),tt=vw(G,pe,De),ct=T.text.length==1,Ht=Yt(T.text).length+(ct?te:0);if(je)for(var Zt=0;Zt<je.length;++Zt){var Ai=je[Zt];if(Ai.to==null){var hi=Uh(tt,Ai.marker);hi?ct&&(Ai.to=hi.to==null?null:hi.to+Ht):Ai.to=te}}if(tt)for(var Gi=0;Gi<tt.length;++Gi){var Zi=tt[Gi];if(Zi.to!=null&&(Zi.to+=Ht),Zi.from==null){var ur=Uh(je,Zi.marker);ur||(Zi.from=Ht,ct&&(je||(je=[])).push(Zi))}else Zi.from+=Ht,ct&&(je||(je=[])).push(Zi)}je&&(je=Ab(je)),tt&&tt!=je&&(tt=Ab(tt));var xr=[je];if(!ct){var Rr=T.text.length-2,wr;if(Rr>0&&je)for(var Hr=0;Hr<je.length;++Hr)je[Hr].to==null&&(wr||(wr=[])).push(new d2(je[Hr].marker,null,null));for(var an=0;an<Rr;++an)xr.push(wr);xr.push(tt)}return xr}function Ab(w){for(var T=0;T<w.length;++T){var W=w[T];W.from!=null&&W.from==W.to&&W.marker.clearWhenEmpty!==!1&&w.splice(T--,1)}return w.length?w:null}function ww(w,T,W){var G=null;if(w.iter(T.line,W.line+1,function(hi){if(hi.markedSpans)for(var Gi=0;Gi<hi.markedSpans.length;++Gi){var Zi=hi.markedSpans[Gi].marker;Zi.readOnly&&(!G||lt(G,Zi)==-1)&&(G||(G=[])).push(Zi)}}),!G)return null;for(var te=[{from:T,to:W}],pe=0;pe<G.length;++pe)for(var De=G[pe],je=De.find(0),tt=0;tt<te.length;++tt){var ct=te[tt];if(!(dt(ct.to,je.from)<0||dt(ct.from,je.to)>0)){var Ht=[tt,1],Zt=dt(ct.from,je.from),Ai=dt(ct.to,je.to);(Zt<0||!De.inclusiveLeft&&!Zt)&&Ht.push({from:ct.from,to:je.from}),(Ai>0||!De.inclusiveRight&&!Ai)&&Ht.push({from:je.to,to:ct.to}),te.splice.apply(te,Ht),tt+=Ht.length-3}}return te}function vb(w){var T=w.markedSpans;if(!!T){for(var W=0;W<T.length;++W)T[W].marker.detachLine(w);w.markedSpans=null}}function wb(w,T){if(!!T){for(var W=0;W<T.length;++W)T[W].marker.attachLine(w);w.markedSpans=T}}function p2(w){return w.inclusiveLeft?-1:0}function m2(w){return w.inclusiveRight?1:0}function B1(w,T){var W=w.lines.length-T.lines.length;if(W!=0)return W;var G=w.find(),te=T.find(),pe=dt(G.from,te.from)||p2(w)-p2(T);if(pe)return-pe;var De=dt(G.to,te.to)||m2(w)-m2(T);return De||T.id-w.id}function xb(w,T){var W=ef&&w.markedSpans,G;if(W)for(var te=void 0,pe=0;pe<W.length;++pe)te=W[pe],te.marker.collapsed&&(T?te.from:te.to)==null&&(!G||B1(G,te.marker)<0)&&(G=te.marker);return G}function Eb(w){return xb(w,!0)}function g2(w){return xb(w,!1)}function xw(w,T){var W=ef&&w.markedSpans,G;if(W)for(var te=0;te<W.length;++te){var pe=W[te];pe.marker.collapsed&&(pe.from==null||pe.from<T)&&(pe.to==null||pe.to>T)&&(!G||B1(G,pe.marker)<0)&&(G=pe.marker)}return G}function _b(w,T,W,G,te){var pe=Tr(w,T),De=ef&&pe.markedSpans;if(De)for(var je=0;je<De.length;++je){var tt=De[je];if(!!tt.marker.collapsed){var ct=tt.marker.find(0),Ht=dt(ct.from,W)||p2(tt.marker)-p2(te),Zt=dt(ct.to,G)||m2(tt.marker)-m2(te);if(!(Ht>=0&&Zt<=0||Ht<=0&&Zt>=0)&&(Ht<=0&&(tt.marker.inclusiveRight&&te.inclusiveLeft?dt(ct.to,W)>=0:dt(ct.to,W)>0)||Ht>=0&&(tt.marker.inclusiveRight&&te.inclusiveLeft?dt(ct.from,G)<=0:dt(ct.from,G)<0)))return!0}}}function Ka(w){for(var T;T=Eb(w);)w=T.find(-1,!0).line;return w}function Ew(w){for(var T;T=g2(w);)w=T.find(1,!0).line;return w}function _w(w){for(var T,W;T=g2(w);)w=T.find(1,!0).line,(W||(W=[])).push(w);return W}function I1(w,T){var W=Tr(w,T),G=Ka(W);return W==G?T:rn(G)}function kb(w,T){if(T>w.lastLine())return T;var W=Tr(w,T),G;if(!Vf(w,W))return T;for(;G=g2(W);)W=G.find(1,!0).line;return rn(W)+1}function Vf(w,T){var W=ef&&T.markedSpans;if(W){for(var G=void 0,te=0;te<W.length;++te)if(G=W[te],!!G.marker.collapsed){if(G.from==null)return!0;if(!G.marker.widgetNode&&G.from==0&&G.marker.inclusiveLeft&&D1(w,T,G))return!0}}}function D1(w,T,W){if(W.to==null){var G=W.marker.find(1,!0);return D1(w,G.line,Uh(G.line.markedSpans,W.marker))}if(W.marker.inclusiveRight&&W.to==T.text.length)return!0;for(var te=void 0,pe=0;pe<T.markedSpans.length;++pe)if(te=T.markedSpans[pe],te.marker.collapsed&&!te.marker.widgetNode&&te.from==W.to&&(te.to==null||te.to!=W.from)&&(te.marker.inclusiveLeft||W.marker.inclusiveRight)&&D1(w,T,te))return!0}function tf(w){w=Ka(w);for(var T=0,W=w.parent,G=0;G<W.lines.length;++G){var te=W.lines[G];if(te==w)break;T+=te.height}for(var pe=W.parent;pe;W=pe,pe=W.parent)for(var De=0;De<pe.children.length;++De){var je=pe.children[De];if(je==W)break;T+=je.height}return T}function b2(w){if(w.height==0)return 0;for(var T=w.text.length,W,G=w;W=Eb(G);){var te=W.find(0,!0);G=te.from.line,T+=te.from.ch-te.to.ch}for(G=w;W=g2(G);){var pe=W.find(0,!0);T-=G.text.length-pe.from.ch,G=pe.to.line,T+=G.text.length-pe.to.ch}return T}function P1(w){var T=w.display,W=w.doc;T.maxLine=Tr(W,W.first),T.maxLineLength=b2(T.maxLine),T.maxLineChanged=!0,W.iter(function(G){var te=b2(G);te>T.maxLineLength&&(T.maxLineLength=te,T.maxLine=G)})}var bc=function(w,T,W){this.text=w,wb(this,T),this.height=W?W(this):1};bc.prototype.lineNo=function(){return rn(this)},Ui(bc);function kw(w,T,W,G){w.text=T,w.stateAfter&&(w.stateAfter=null),w.styles&&(w.styles=null),w.order!=null&&(w.order=null),vb(w),wb(w,W);var te=G?G(w):1;te!=w.height&&os(w,te)}function Cw(w){w.parent=null,vb(w)}var Sw={},Tw={};function Cb(w,T){if(!w||/^\s*$/.test(w))return null;var W=T.addModeClass?Tw:Sw;return W[w]||(W[w]=w.replace(/\S+/g,"cm-$&"))}function Sb(w,T){var W=le("span",null,null,E?"padding-right: .1px":null),G={pre:le("pre",[W],"CodeMirror-line"),content:W,col:0,pos:0,cm:w,trailingSpace:!1,splitSpaces:w.getOption("lineWrapping")};T.measure={};for(var te=0;te<=(T.rest?T.rest.length:0);te++){var pe=te?T.rest[te-1]:T.line,De=void 0;G.pos=0,G.addToken=Rw,jt(w.display.measure)&&(De=bt(pe,w.doc.direction))&&(G.addToken=Iw(G.addToken,De)),G.map=[];var je=T!=w.display.externalMeasured&&rn(pe);Dw(pe,G,db(w,pe,je)),pe.styleClasses&&(pe.styleClasses.bgClass&&(G.bgClass=Be(pe.styleClasses.bgClass,G.bgClass||"")),pe.styleClasses.textClass&&(G.textClass=Be(pe.styleClasses.textClass,G.textClass||""))),G.map.length==0&&G.map.push(0,0,G.content.appendChild(Si(w.display.measure))),te==0?(T.measure.map=G.map,T.measure.cache={}):((T.measure.maps||(T.measure.maps=[])).push(G.map),(T.measure.caches||(T.measure.caches=[])).push({}))}if(E){var tt=G.content.lastChild;(/\bcm-tab\b/.test(tt.className)||tt.querySelector&&tt.querySelector(".cm-tab"))&&(G.content.className="cm-tab-wrap-hack")}return Tt(w,"renderLine",w,T.line,G.pre),G.pre.className&&(G.textClass=Be(G.pre.className,G.textClass||"")),G}function Mw(w){var T=we("span","\u2022","cm-invalidchar");return T.title="\\u"+w.charCodeAt(0).toString(16),T.setAttribute("aria-label",T.title),T}function Rw(w,T,W,G,te,pe,De){if(!!T){var je=w.splitSpaces?Bw(T,w.trailingSpace):T,tt=w.cm.state.specialChars,ct=!1,Ht;if(!tt.test(T))w.col+=T.length,Ht=document.createTextNode(je),w.map.push(w.pos,w.pos+T.length,Ht),y&&A<9&&(ct=!0),w.pos+=T.length;else{Ht=document.createDocumentFragment();for(var Zt=0;;){tt.lastIndex=Zt;var Ai=tt.exec(T),hi=Ai?Ai.index-Zt:T.length-Zt;if(hi){var Gi=document.createTextNode(je.slice(Zt,Zt+hi));y&&A<9?Ht.appendChild(we("span",[Gi])):Ht.appendChild(Gi),w.map.push(w.pos,w.pos+hi,Gi),w.col+=hi,w.pos+=hi}if(!Ai)break;Zt+=hi+1;var Zi=void 0;if(Ai[0]=="	"){var ur=w.cm.options.tabSize,xr=ur-w.col%ur;Zi=Ht.appendChild(we("span",Ft(xr),"cm-tab")),Zi.setAttribute("role","presentation"),Zi.setAttribute("cm-text","	"),w.col+=xr}else Ai[0]=="\r"||Ai[0]==`
`?(Zi=Ht.appendChild(we("span",Ai[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),Zi.setAttribute("cm-text",Ai[0]),w.col+=1):(Zi=w.cm.options.specialCharPlaceholder(Ai[0]),Zi.setAttribute("cm-text",Ai[0]),y&&A<9?Ht.appendChild(we("span",[Zi])):Ht.appendChild(Zi),w.col+=1);w.map.push(w.pos,w.pos+1,Zi),w.pos++}}if(w.trailingSpace=je.charCodeAt(T.length-1)==32,W||G||te||ct||pe||De){var Rr=W||"";G&&(Rr+=G),te&&(Rr+=te);var wr=we("span",[Ht],Rr,pe);if(De)for(var Hr in De)De.hasOwnProperty(Hr)&&Hr!="style"&&Hr!="class"&&wr.setAttribute(Hr,De[Hr]);return w.content.appendChild(wr)}w.content.appendChild(Ht)}}function Bw(w,T){if(w.length>1&&!/  /.test(w))return w;for(var W=T,G="",te=0;te<w.length;te++){var pe=w.charAt(te);pe==" "&&W&&(te==w.length-1||w.charCodeAt(te+1)==32)&&(pe="\xA0"),G+=pe,W=pe==" "}return G}function Iw(w,T){return function(W,G,te,pe,De,je,tt){te=te?te+" cm-force-border":"cm-force-border";for(var ct=W.pos,Ht=ct+G.length;;){for(var Zt=void 0,Ai=0;Ai<T.length&&(Zt=T[Ai],!(Zt.to>ct&&Zt.from<=ct));Ai++);if(Zt.to>=Ht)return w(W,G,te,pe,De,je,tt);w(W,G.slice(0,Zt.to-ct),te,pe,null,je,tt),pe=null,G=G.slice(Zt.to-ct),ct=Zt.to}}}function Tb(w,T,W,G){var te=!G&&W.widgetNode;te&&w.map.push(w.pos,w.pos+T,te),!G&&w.cm.display.input.needsContentAttribute&&(te||(te=w.content.appendChild(document.createElement("span"))),te.setAttribute("cm-marker",W.id)),te&&(w.cm.display.input.setUneditable(te),w.content.appendChild(te)),w.pos+=T,w.trailingSpace=!1}function Dw(w,T,W){var G=w.markedSpans,te=w.text,pe=0;if(!G){for(var De=1;De<W.length;De+=2)T.addToken(T,te.slice(pe,pe=W[De]),Cb(W[De+1],T.cm.options));return}for(var je=te.length,tt=0,ct=1,Ht="",Zt,Ai,hi=0,Gi,Zi,ur,xr,Rr;;){if(hi==tt){Gi=Zi=ur=Ai="",Rr=null,xr=null,hi=1/0;for(var wr=[],Hr=void 0,an=0;an<G.length;++an){var Zr=G[an],Ln=Zr.marker;if(Ln.type=="bookmark"&&Zr.from==tt&&Ln.widgetNode)wr.push(Ln);else if(Zr.from<=tt&&(Zr.to==null||Zr.to>tt||Ln.collapsed&&Zr.to==tt&&Zr.from==tt)){if(Zr.to!=null&&Zr.to!=tt&&hi>Zr.to&&(hi=Zr.to,Zi=""),Ln.className&&(Gi+=" "+Ln.className),Ln.css&&(Ai=(Ai?Ai+";":"")+Ln.css),Ln.startStyle&&Zr.from==tt&&(ur+=" "+Ln.startStyle),Ln.endStyle&&Zr.to==hi&&(Hr||(Hr=[])).push(Ln.endStyle,Zr.to),Ln.title&&((Rr||(Rr={})).title=Ln.title),Ln.attributes)for(var G0 in Ln.attributes)(Rr||(Rr={}))[G0]=Ln.attributes[G0];Ln.collapsed&&(!xr||B1(xr.marker,Ln)<0)&&(xr=Zr)}else Zr.from>tt&&hi>Zr.from&&(hi=Zr.from)}if(Hr)for(var Ws=0;Ws<Hr.length;Ws+=2)Hr[Ws+1]==hi&&(Zi+=" "+Hr[Ws]);if(!xr||xr.from==tt)for(var cs=0;cs<wr.length;++cs)Tb(T,0,wr[cs]);if(xr&&(xr.from||0)==tt){if(Tb(T,(xr.to==null?je+1:xr.to)-tt,xr.marker,xr.from==null),xr.to==null)return;xr.to==tt&&(xr=!1)}}if(tt>=je)break;for(var K0=Math.min(je,hi);;){if(Ht){var Jo=tt+Ht.length;if(!xr){var Ss=Jo>K0?Ht.slice(0,K0-tt):Ht;T.addToken(T,Ss,Zt?Zt+Gi:Gi,ur,tt+Ss.length==hi?Zi:"",Ai,Rr)}if(Jo>=K0){Ht=Ht.slice(K0-tt),tt=K0;break}tt=Jo,ur=""}Ht=te.slice(pe,pe=W[ct++]),Zt=Cb(W[ct++],T.cm.options)}}}function Mb(w,T,W){this.line=T,this.rest=_w(T),this.size=this.rest?rn(Yt(this.rest))-W+1:1,this.node=this.text=null,this.hidden=Vf(w,T)}function y2(w,T,W){for(var G=[],te,pe=T;pe<W;pe=te){var De=new Mb(w.doc,Tr(w.doc,pe),pe);te=pe+De.size,G.push(De)}return G}var yc=null;function Pw(w){yc?yc.ops.push(w):w.ownsGroup=yc={ops:[w],delayedCallbacks:[]}}function Lw(w){var T=w.delayedCallbacks,W=0;do{for(;W<T.length;W++)T[W].call(null);for(var G=0;G<w.ops.length;G++){var te=w.ops[G];if(te.cursorActivityHandlers)for(;te.cursorActivityCalled<te.cursorActivityHandlers.length;)te.cursorActivityHandlers[te.cursorActivityCalled++].call(null,te.cm)}}while(W<T.length)}function Nw(w,T){var W=w.ownsGroup;if(!!W)try{Lw(W)}finally{yc=null,T(W)}}var Vh=null;function $s(w,T){var W=yt(w,T);if(!!W.length){var G=Array.prototype.slice.call(arguments,2),te;yc?te=yc.delayedCallbacks:Vh?te=Vh:(te=Vh=[],setTimeout(Fw,0));for(var pe=function(je){te.push(function(){return W[je].apply(null,G)})},De=0;De<W.length;++De)pe(De)}}function Fw(){var w=Vh;Vh=null;for(var T=0;T<w.length;++T)w[T]()}function Rb(w,T,W,G){for(var te=0;te<T.changes.length;te++){var pe=T.changes[te];pe=="text"?Hw(w,T):pe=="gutter"?Ib(w,T,W,G):pe=="class"?L1(w,T):pe=="widget"&&Uw(w,T,G)}T.changes=null}function jh(w){return w.node==w.text&&(w.node=we("div",null,null,"position: relative"),w.text.parentNode&&w.text.parentNode.replaceChild(w.node,w.text),w.node.appendChild(w.text),y&&A<8&&(w.node.style.zIndex=2)),w.node}function Ow(w,T){var W=T.bgClass?T.bgClass+" "+(T.line.bgClass||""):T.line.bgClass;if(W&&(W+=" CodeMirror-linebackground"),T.background)W?T.background.className=W:(T.background.parentNode.removeChild(T.background),T.background=null);else if(W){var G=jh(T);T.background=G.insertBefore(we("div",null,W),G.firstChild),w.display.input.setUneditable(T.background)}}function Bb(w,T){var W=w.display.externalMeasured;return W&&W.line==T.line?(w.display.externalMeasured=null,T.measure=W.measure,W.built):Sb(w,T)}function Hw(w,T){var W=T.text.className,G=Bb(w,T);T.text==T.node&&(T.node=G.pre),T.text.parentNode.replaceChild(G.pre,T.text),T.text=G.pre,G.bgClass!=T.bgClass||G.textClass!=T.textClass?(T.bgClass=G.bgClass,T.textClass=G.textClass,L1(w,T)):W&&(T.text.className=W)}function L1(w,T){Ow(w,T),T.line.wrapClass?jh(T).className=T.line.wrapClass:T.node!=T.text&&(T.node.className="");var W=T.textClass?T.textClass+" "+(T.line.textClass||""):T.line.textClass;T.text.className=W||""}function Ib(w,T,W,G){if(T.gutter&&(T.node.removeChild(T.gutter),T.gutter=null),T.gutterBackground&&(T.node.removeChild(T.gutterBackground),T.gutterBackground=null),T.line.gutterClass){var te=jh(T);T.gutterBackground=we("div",null,"CodeMirror-gutter-background "+T.line.gutterClass,"left: "+(w.options.fixedGutter?G.fixedPos:-G.gutterTotalWidth)+"px; width: "+G.gutterTotalWidth+"px"),w.display.input.setUneditable(T.gutterBackground),te.insertBefore(T.gutterBackground,T.text)}var pe=T.line.gutterMarkers;if(w.options.lineNumbers||pe){var De=jh(T),je=T.gutter=we("div",null,"CodeMirror-gutter-wrapper","left: "+(w.options.fixedGutter?G.fixedPos:-G.gutterTotalWidth)+"px");if(je.setAttribute("aria-hidden","true"),w.display.input.setUneditable(je),De.insertBefore(je,T.text),T.line.gutterClass&&(je.className+=" "+T.line.gutterClass),w.options.lineNumbers&&(!pe||!pe["CodeMirror-linenumbers"])&&(T.lineNumber=je.appendChild(we("div",Ks(w.options,W),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+G.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+w.display.lineNumInnerWidth+"px"))),pe)for(var tt=0;tt<w.display.gutterSpecs.length;++tt){var ct=w.display.gutterSpecs[tt].className,Ht=pe.hasOwnProperty(ct)&&pe[ct];Ht&&je.appendChild(we("div",[Ht],"CodeMirror-gutter-elt","left: "+G.gutterLeft[ct]+"px; width: "+G.gutterWidth[ct]+"px"))}}}function Uw(w,T,W){T.alignable&&(T.alignable=null);for(var G=ne("CodeMirror-linewidget"),te=T.node.firstChild,pe=void 0;te;te=pe)pe=te.nextSibling,G.test(te.className)&&T.node.removeChild(te);Db(w,T,W)}function Vw(w,T,W,G){var te=Bb(w,T);return T.text=T.node=te.pre,te.bgClass&&(T.bgClass=te.bgClass),te.textClass&&(T.textClass=te.textClass),L1(w,T),Ib(w,T,W,G),Db(w,T,G),T.node}function Db(w,T,W){if(Pb(w,T.line,T,W,!0),T.rest)for(var G=0;G<T.rest.length;G++)Pb(w,T.rest[G],T,W,!1)}function Pb(w,T,W,G,te){if(!!T.widgets)for(var pe=jh(W),De=0,je=T.widgets;De<je.length;++De){var tt=je[De],ct=we("div",[tt.node],"CodeMirror-linewidget"+(tt.className?" "+tt.className:""));tt.handleMouseEvents||ct.setAttribute("cm-ignore-events","true"),jw(tt,ct,W,G),w.display.input.setUneditable(ct),te&&tt.above?pe.insertBefore(ct,W.gutter||W.text):pe.appendChild(ct),$s(tt,"redraw")}}function jw(w,T,W,G){if(w.noHScroll){(W.alignable||(W.alignable=[])).push(T);var te=G.wrapperWidth;T.style.left=G.fixedPos+"px",w.coverGutter||(te-=G.gutterTotalWidth,T.style.paddingLeft=G.gutterTotalWidth+"px"),T.style.width=te+"px"}w.coverGutter&&(T.style.zIndex=5,T.style.position="relative",w.noHScroll||(T.style.marginLeft=-G.gutterTotalWidth+"px"))}function Gh(w){if(w.height!=null)return w.height;var T=w.doc.cm;if(!T)return 0;if(!he(document.body,w.node)){var W="position: relative;";w.coverGutter&&(W+="margin-left: -"+T.display.gutters.offsetWidth+"px;"),w.noHScroll&&(W+="width: "+T.display.wrapper.clientWidth+"px;"),ge(T.display.measure,we("div",[w.node],null,W))}return w.height=w.node.parentNode.offsetHeight}function rf(w,T){for(var W=Ze(T);W!=w.wrapper;W=W.parentNode)if(!W||W.nodeType==1&&W.getAttribute("cm-ignore-events")=="true"||W.parentNode==w.sizer&&W!=w.mover)return!0}function A2(w){return w.lineSpace.offsetTop}function N1(w){return w.mover.offsetHeight-w.lineSpace.offsetHeight}function Lb(w){if(w.cachedPaddingH)return w.cachedPaddingH;var T=ge(w.measure,we("pre","x","CodeMirror-line-like")),W=window.getComputedStyle?window.getComputedStyle(T):T.currentStyle,G={left:parseInt(W.paddingLeft),right:parseInt(W.paddingRight)};return!isNaN(G.left)&&!isNaN(G.right)&&(w.cachedPaddingH=G),G}function Il(w){return Te-w.display.nativeBarWidth}function Iu(w){return w.display.scroller.clientWidth-Il(w)-w.display.barWidth}function F1(w){return w.display.scroller.clientHeight-Il(w)-w.display.barHeight}function Gw(w,T,W){var G=w.options.lineWrapping,te=G&&Iu(w);if(!T.measure.heights||G&&T.measure.width!=te){var pe=T.measure.heights=[];if(G){T.measure.width=te;for(var De=T.text.firstChild.getClientRects(),je=0;je<De.length-1;je++){var tt=De[je],ct=De[je+1];Math.abs(tt.bottom-ct.bottom)>2&&pe.push((tt.bottom+ct.top)/2-W.top)}}pe.push(W.bottom-W.top)}}function Nb(w,T,W){if(w.line==T)return{map:w.measure.map,cache:w.measure.cache};if(w.rest){for(var G=0;G<w.rest.length;G++)if(w.rest[G]==T)return{map:w.measure.maps[G],cache:w.measure.caches[G]};for(var te=0;te<w.rest.length;te++)if(rn(w.rest[te])>W)return{map:w.measure.maps[te],cache:w.measure.caches[te],before:!0}}}function zw(w,T){T=Ka(T);var W=rn(T),G=w.display.externalMeasured=new Mb(w.doc,T,W);G.lineN=W;var te=G.built=Sb(w,G);return G.text=te.pre,ge(w.display.lineMeasure,te.pre),G}function Fb(w,T,W,G){return Dl(w,Ac(w,T),W,G)}function O1(w,T){if(T>=w.display.viewFrom&&T<w.display.viewTo)return w.display.view[js(w,T)];var W=w.display.externalMeasured;if(W&&T>=W.lineN&&T<W.lineN+W.size)return W}function Ac(w,T){var W=rn(T),G=O1(w,W);G&&!G.text?G=null:G&&G.changes&&(Rb(w,G,W,xc(w)),w.curOp.forceUpdate=!0),G||(G=zw(w,T));var te=Nb(G,T,W);return{line:T,view:G,rect:null,map:te.map,cache:te.cache,before:te.before,hasHeights:!1}}function Dl(w,T,W,G,te){T.before&&(W=-1);var pe=W+(G||""),De;return T.cache.hasOwnProperty(pe)?De=T.cache[pe]:(T.rect||(T.rect=T.view.text.getBoundingClientRect()),T.hasHeights||(Gw(w,T.view,T.rect),T.hasHeights=!0),De=Qw(w,T,W,G),De.bogus||(T.cache[pe]=De)),{left:De.left,right:De.right,top:te?De.rtop:De.top,bottom:te?De.rbottom:De.bottom}}var Ob={left:0,right:0,top:0,bottom:0};function Hb(w,T,W){for(var G,te,pe,De,je,tt,ct=0;ct<w.length;ct+=3)if(je=w[ct],tt=w[ct+1],T<je?(te=0,pe=1,De="left"):T<tt?(te=T-je,pe=te+1):(ct==w.length-3||T==tt&&w[ct+3]>T)&&(pe=tt-je,te=pe-1,T>=tt&&(De="right")),te!=null){if(G=w[ct+2],je==tt&&W==(G.insertLeft?"left":"right")&&(De=W),W=="left"&&te==0)for(;ct&&w[ct-2]==w[ct-3]&&w[ct-1].insertLeft;)G=w[(ct-=3)+2],De="left";if(W=="right"&&te==tt-je)for(;ct<w.length-3&&w[ct+3]==w[ct+4]&&!w[ct+5].insertLeft;)G=w[(ct+=3)+2],De="right";break}return{node:G,start:te,end:pe,collapse:De,coverStart:je,coverEnd:tt}}function Ww(w,T){var W=Ob;if(T=="left")for(var G=0;G<w.length&&(W=w[G]).left==W.right;G++);else for(var te=w.length-1;te>=0&&(W=w[te]).left==W.right;te--);return W}function Qw(w,T,W,G){var te=Hb(T.map,W,G),pe=te.node,De=te.start,je=te.end,tt=te.collapse,ct;if(pe.nodeType==3){for(var Ht=0;Ht<4;Ht++){for(;De&&ft(T.line.text.charAt(te.coverStart+De));)--De;for(;te.coverStart+je<te.coverEnd&&ft(T.line.text.charAt(te.coverStart+je));)++je;if(y&&A<9&&De==0&&je==te.coverEnd-te.coverStart?ct=pe.parentNode.getBoundingClientRect():ct=Ww(ie(pe,De,je).getClientRects(),G),ct.left||ct.right||De==0)break;je=De,De=De-1,tt="right"}y&&A<11&&(ct=Jw(w.display.measure,ct))}else{De>0&&(tt=G="right");var Zt;w.options.lineWrapping&&(Zt=pe.getClientRects()).length>1?ct=Zt[G=="right"?Zt.length-1:0]:ct=pe.getBoundingClientRect()}if(y&&A<9&&!De&&(!ct||!ct.left&&!ct.right)){var Ai=pe.parentNode.getClientRects()[0];Ai?ct={left:Ai.left,right:Ai.left+en(w.display),top:Ai.top,bottom:Ai.bottom}:ct=Ob}for(var hi=ct.top-T.rect.top,Gi=ct.bottom-T.rect.top,Zi=(hi+Gi)/2,ur=T.view.measure.heights,xr=0;xr<ur.length-1&&!(Zi<ur[xr]);xr++);var Rr=xr?ur[xr-1]:0,wr=ur[xr],Hr={left:(tt=="right"?ct.right:ct.left)-T.rect.left,right:(tt=="left"?ct.left:ct.right)-T.rect.left,top:Rr,bottom:wr};return!ct.left&&!ct.right&&(Hr.bogus=!0),w.options.singleCursorHeightPerLine||(Hr.rtop=hi,Hr.rbottom=Gi),Hr}function Jw(w,T){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Li(w))return T;var W=screen.logicalXDPI/screen.deviceXDPI,G=screen.logicalYDPI/screen.deviceYDPI;return{left:T.left*W,right:T.right*W,top:T.top*G,bottom:T.bottom*G}}function Ub(w){if(w.measure&&(w.measure.cache={},w.measure.heights=null,w.rest))for(var T=0;T<w.rest.length;T++)w.measure.caches[T]={}}function Vb(w){w.display.externalMeasure=null,ye(w.display.lineMeasure);for(var T=0;T<w.display.view.length;T++)Ub(w.display.view[T])}function jf(w){Vb(w),w.display.cachedCharWidth=w.display.cachedTextHeight=w.display.cachedPaddingH=null,w.options.lineWrapping||(w.display.maxLineChanged=!0),w.display.lineNumChars=null}function zh(){return k&&z?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function jb(){return k&&z?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function H1(w){var T=Ka(w),W=T.widgets,G=0;if(W)for(var te=0;te<W.length;++te)W[te].above&&(G+=Gh(W[te]));return G}function vc(w,T,W,G,te){if(!te){var pe=H1(T);W.top+=pe,W.bottom+=pe}if(G=="line")return W;G||(G="local");var De=tf(T);if(G=="local"?De+=A2(w.display):De-=w.display.viewOffset,G=="page"||G=="window"){var je=w.display.lineSpace.getBoundingClientRect();De+=je.top+(G=="window"?0:jb());var tt=je.left+(G=="window"?0:zh());W.left+=tt,W.right+=tt}return W.top+=De,W.bottom+=De,W}function U1(w,T,W){if(W=="div")return T;var G=T.left,te=T.top;if(W=="page")G-=zh(),te-=jb();else if(W=="local"||!W){var pe=w.display.sizer.getBoundingClientRect();G+=pe.left,te+=pe.top}var De=w.display.lineSpace.getBoundingClientRect();return{left:G-De.left,top:te-De.top}}function Gf(w,T,W,G,te){return G||(G=Tr(w.doc,T.line)),vc(w,G,Fb(w,G,T.ch,te),W)}function $a(w,T,W,G,te,pe){G=G||Tr(w.doc,T.line),te||(te=Ac(w,G));function De(Gi,Zi){var ur=Dl(w,te,Gi,Zi?"right":"left",pe);return Zi?ur.left=ur.right:ur.right=ur.left,vc(w,G,ur,W)}var je=bt(G,w.doc.direction),tt=T.ch,ct=T.sticky;if(tt>=G.text.length?(tt=G.text.length,ct="before"):tt<=0&&(tt=0,ct="after"),!je)return De(ct=="before"?tt-1:tt,ct=="before");function Ht(Gi,Zi,ur){var xr=je[Zi],Rr=xr.level==1;return De(ur?Gi-1:Gi,Rr!=ur)}var Zt=Pe(je,tt,ct),Ai=rt,hi=Ht(tt,Zt,ct=="before");return Ai!=null&&(hi.other=Ht(tt,Ai,ct!="before")),hi}function v2(w,T){var W=0;T=Cr(w.doc,T),w.options.lineWrapping||(W=en(w.display)*T.ch);var G=Tr(w.doc,T.line),te=tf(G)+A2(w.display);return{left:W,right:W,top:te,bottom:te+G.height}}function V1(w,T,W,G,te){var pe=rr(w,T,W);return pe.xRel=te,G&&(pe.outside=G),pe}function el(w,T,W){var G=w.doc;if(W+=w.display.viewOffset,W<0)return V1(G.first,0,null,-1,-1);var te=Z0(G,W),pe=G.first+G.size-1;if(te>pe)return V1(G.first+G.size-1,Tr(G,pe).text.length,null,1,1);T<0&&(T=0);for(var De=Tr(G,te);;){var je=Xw(w,De,te,T,W),tt=xw(De,je.ch+(je.xRel>0||je.outside>0?1:0));if(!tt)return je;var ct=tt.find(1);if(ct.line==te)return ct;De=Tr(G,te=ct.line)}}function ms(w,T,W,G){G-=H1(T);var te=T.text.length,pe=ii(function(De){return Dl(w,W,De-1).bottom<=G},te,0);return te=ii(function(De){return Dl(w,W,De).top>G},pe,te),{begin:pe,end:te}}function Wo(w,T,W,G){W||(W=Ac(w,T));var te=vc(w,T,Dl(w,W,G),"line").top;return ms(w,T,W,te)}function Wh(w,T,W,G){return w.bottom<=W?!1:w.top>W?!0:(G?w.left:w.right)>T}function Xw(w,T,W,G,te){te-=tf(T);var pe=Ac(w,T),De=H1(T),je=0,tt=T.text.length,ct=!0,Ht=bt(T,w.doc.direction);if(Ht){var Zt=(w.options.lineWrapping?Zw:qw)(w,T,W,pe,Ht,G,te);ct=Zt.level!=1,je=ct?Zt.from:Zt.to-1,tt=ct?Zt.to:Zt.from-1}var Ai=null,hi=null,Gi=ii(function(an){var Zr=Dl(w,pe,an);return Zr.top+=De,Zr.bottom+=De,Wh(Zr,G,te,!1)?(Zr.top<=te&&Zr.left<=G&&(Ai=an,hi=Zr),!0):!1},je,tt),Zi,ur,xr=!1;if(hi){var Rr=G-hi.left<hi.right-G,wr=Rr==ct;Gi=Ai+(wr?0:1),ur=wr?"after":"before",Zi=Rr?hi.left:hi.right}else{!ct&&(Gi==tt||Gi==je)&&Gi++,ur=Gi==0?"after":Gi==T.text.length?"before":Dl(w,pe,Gi-(ct?1:0)).bottom+De<=te==ct?"after":"before";var Hr=$a(w,rr(W,Gi,ur),"line",T,pe);Zi=Hr.left,xr=te<Hr.top?-1:te>=Hr.bottom?1:0}return Gi=Lt(T.text,Gi,1),V1(W,Gi,ur,xr,G-Zi)}function qw(w,T,W,G,te,pe,De){var je=ii(function(Zt){var Ai=te[Zt],hi=Ai.level!=1;return Wh($a(w,rr(W,hi?Ai.to:Ai.from,hi?"before":"after"),"line",T,G),pe,De,!0)},0,te.length-1),tt=te[je];if(je>0){var ct=tt.level!=1,Ht=$a(w,rr(W,ct?tt.from:tt.to,ct?"after":"before"),"line",T,G);Wh(Ht,pe,De,!0)&&Ht.top>De&&(tt=te[je-1])}return tt}function Zw(w,T,W,G,te,pe,De){var je=ms(w,T,G,De),tt=je.begin,ct=je.end;/\s/.test(T.text.charAt(ct-1))&&ct--;for(var Ht=null,Zt=null,Ai=0;Ai<te.length;Ai++){var hi=te[Ai];if(!(hi.from>=ct||hi.to<=tt)){var Gi=hi.level!=1,Zi=Dl(w,G,Gi?Math.min(ct,hi.to)-1:Math.max(tt,hi.from)).right,ur=Zi<pe?pe-Zi+1e9:Zi-pe;(!Ht||Zt>ur)&&(Ht=hi,Zt=ur)}}return Ht||(Ht=te[te.length-1]),Ht.from<tt&&(Ht={from:tt,to:Ht.to,level:Ht.level}),Ht.to>ct&&(Ht={from:Ht.from,to:ct,level:Ht.level}),Ht}var Du;function wc(w){if(w.cachedTextHeight!=null)return w.cachedTextHeight;if(Du==null){Du=we("pre",null,"CodeMirror-line-like");for(var T=0;T<49;++T)Du.appendChild(document.createTextNode("x")),Du.appendChild(we("br"));Du.appendChild(document.createTextNode("x"))}ge(w.measure,Du);var W=Du.offsetHeight/50;return W>3&&(w.cachedTextHeight=W),ye(w.measure),W||1}function en(w){if(w.cachedCharWidth!=null)return w.cachedCharWidth;var T=we("span","xxxxxxxxxx"),W=we("pre",[T],"CodeMirror-line-like");ge(w.measure,W);var G=T.getBoundingClientRect(),te=(G.right-G.left)/10;return te>2&&(w.cachedCharWidth=te),te||10}function xc(w){for(var T=w.display,W={},G={},te=T.gutters.clientLeft,pe=T.gutters.firstChild,De=0;pe;pe=pe.nextSibling,++De){var je=w.display.gutterSpecs[De].className;W[je]=pe.offsetLeft+pe.clientLeft+te,G[je]=pe.clientWidth}return{fixedPos:Ec(T),gutterTotalWidth:T.gutters.offsetWidth,gutterLeft:W,gutterWidth:G,wrapperWidth:T.wrapper.clientWidth}}function Ec(w){return w.scroller.getBoundingClientRect().left-w.sizer.getBoundingClientRect().left}function Qh(w){var T=wc(w.display),W=w.options.lineWrapping,G=W&&Math.max(5,w.display.scroller.clientWidth/en(w.display)-3);return function(te){if(Vf(w.doc,te))return 0;var pe=0;if(te.widgets)for(var De=0;De<te.widgets.length;De++)te.widgets[De].height&&(pe+=te.widgets[De].height);return W?pe+(Math.ceil(te.text.length/G)||1)*T:pe+T}}function zf(w){var T=w.doc,W=Qh(w);T.iter(function(G){var te=W(G);te!=G.height&&os(G,te)})}function tl(w,T,W,G){var te=w.display;if(!W&&Ze(T).getAttribute("cm-not-content")=="true")return null;var pe,De,je=te.lineSpace.getBoundingClientRect();try{pe=T.clientX-je.left,De=T.clientY-je.top}catch{return null}var tt=el(w,pe,De),ct;if(G&&tt.xRel>0&&(ct=Tr(w.doc,tt.line).text).length==tt.ch){var Ht=ce(ct,ct.length,w.options.tabSize)-ct.length;tt=rr(tt.line,Math.max(0,Math.round((pe-Lb(w.display).left)/en(w.display))-Ht))}return tt}function js(w,T){if(T>=w.display.viewTo||(T-=w.display.viewFrom,T<0))return null;for(var W=w.display.view,G=0;G<W.length;G++)if(T-=W[G].size,T<0)return G}function Gn(w,T,W,G){T==null&&(T=w.doc.first),W==null&&(W=w.doc.first+w.doc.size),G||(G=0);var te=w.display;if(G&&W<te.viewTo&&(te.updateLineNumbers==null||te.updateLineNumbers>T)&&(te.updateLineNumbers=T),w.curOp.viewChanged=!0,T>=te.viewTo)ef&&I1(w.doc,T)<te.viewTo&&l0(w);else if(W<=te.viewFrom)ef&&kb(w.doc,W+G)>te.viewFrom?l0(w):(te.viewFrom+=G,te.viewTo+=G);else if(T<=te.viewFrom&&W>=te.viewTo)l0(w);else if(T<=te.viewFrom){var pe=Jn(w,W,W+G,1);pe?(te.view=te.view.slice(pe.index),te.viewFrom=pe.lineN,te.viewTo+=G):l0(w)}else if(W>=te.viewTo){var De=Jn(w,T,T,-1);De?(te.view=te.view.slice(0,De.index),te.viewTo=De.lineN):l0(w)}else{var je=Jn(w,T,T,-1),tt=Jn(w,W,W+G,1);je&&tt?(te.view=te.view.slice(0,je.index).concat(y2(w,je.lineN,tt.lineN)).concat(te.view.slice(tt.index)),te.viewTo+=G):l0(w)}var ct=te.externalMeasured;ct&&(W<ct.lineN?ct.lineN+=G:T<ct.lineN+ct.size&&(te.externalMeasured=null))}function A0(w,T,W){w.curOp.viewChanged=!0;var G=w.display,te=w.display.externalMeasured;if(te&&T>=te.lineN&&T<te.lineN+te.size&&(G.externalMeasured=null),!(T<G.viewFrom||T>=G.viewTo)){var pe=G.view[js(w,T)];if(pe.node!=null){var De=pe.changes||(pe.changes=[]);lt(De,W)==-1&&De.push(W)}}}function l0(w){w.display.viewFrom=w.display.viewTo=w.doc.first,w.display.view=[],w.display.viewOffset=0}function Jn(w,T,W,G){var te=js(w,T),pe,De=w.display.view;if(!ef||W==w.doc.first+w.doc.size)return{index:te,lineN:W};for(var je=w.display.viewFrom,tt=0;tt<te;tt++)je+=De[tt].size;if(je!=T){if(G>0){if(te==De.length-1)return null;pe=je+De[te].size-T,te++}else pe=je-T;T+=pe,W+=pe}for(;I1(w.doc,W)!=W;){if(te==(G<0?0:De.length-1))return null;W+=G*De[te-(G<0?1:0)].size,te+=G}return{index:te,lineN:W}}function sa(w,T,W){var G=w.display,te=G.view;te.length==0||T>=G.viewTo||W<=G.viewFrom?(G.view=y2(w,T,W),G.viewFrom=T):(G.viewFrom>T?G.view=y2(w,T,G.viewFrom).concat(G.view):G.viewFrom<T&&(G.view=G.view.slice(js(w,T))),G.viewFrom=T,G.viewTo<W?G.view=G.view.concat(y2(w,G.viewTo,W)):G.viewTo>W&&(G.view=G.view.slice(0,js(w,W)))),G.viewTo=W}function So(w){for(var T=w.display.view,W=0,G=0;G<T.length;G++){var te=T[G];!te.hidden&&(!te.node||te.changes)&&++W}return W}function oa(w){w.display.input.showSelection(w.display.input.prepareSelection())}function eo(w,T){T===void 0&&(T=!0);var W=w.doc,G={},te=G.cursors=document.createDocumentFragment(),pe=G.selection=document.createDocumentFragment(),De=w.options.$customCursor;De&&(T=!0);for(var je=0;je<W.sel.ranges.length;je++)if(!(!T&&je==W.sel.primIndex)){var tt=W.sel.ranges[je];if(!(tt.from().line>=w.display.viewTo||tt.to().line<w.display.viewFrom)){var ct=tt.empty();if(De){var Ht=De(w,tt);Ht&&P0(w,Ht,te)}else(ct||w.options.showCursorWhenSelecting)&&P0(w,tt.head,te);ct||Pl(w,tt,pe)}}return G}function P0(w,T,W){var G=$a(w,T,"div",null,null,!w.options.singleCursorHeightPerLine),te=W.appendChild(we("div","\xA0","CodeMirror-cursor"));if(te.style.left=G.left+"px",te.style.top=G.top+"px",te.style.height=Math.max(0,G.bottom-G.top)*w.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(w.getWrapperElement().className)){var pe=Gf(w,T,"div",null,null),De=pe.right-pe.left;te.style.width=(De>0?De:w.defaultCharWidth())+"px"}if(G.other){var je=W.appendChild(we("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));je.style.display="",je.style.left=G.other.left+"px",je.style.top=G.other.top+"px",je.style.height=(G.other.bottom-G.other.top)*.85+"px"}}function La(w,T){return w.top-T.top||w.left-T.left}function Pl(w,T,W){var G=w.display,te=w.doc,pe=document.createDocumentFragment(),De=Lb(w.display),je=De.left,tt=Math.max(G.sizerWidth,Iu(w)-G.sizer.offsetLeft)-De.right,ct=te.direction=="ltr";function Ht(wr,Hr,an,Zr){Hr<0&&(Hr=0),Hr=Math.round(Hr),Zr=Math.round(Zr),pe.appendChild(we("div",null,"CodeMirror-selected","position: absolute; left: "+wr+`px;
                             top: `+Hr+"px; width: "+(an==null?tt-wr:an)+`px;
                             height: `+(Zr-Hr)+"px"))}function Zt(wr,Hr,an){var Zr=Tr(te,wr),Ln=Zr.text.length,G0,Ws;function cs(Ss,Do){return Gf(w,rr(wr,Ss),"div",Zr,Do)}function K0(Ss,Do,$0){var Ps=Wo(w,Zr,null,Ss),Ls=Do=="ltr"==($0=="after")?"left":"right",ys=$0=="after"?Ps.begin:Ps.end-(/\s/.test(Zr.text.charAt(Ps.end-1))?2:1);return cs(ys,Ls)[Ls]}var Jo=bt(Zr,te.direction);return bi(Jo,Hr||0,an==null?Ln:an,function(Ss,Do,$0,Ps){var Ls=$0=="ltr",ys=cs(Ss,Ls?"left":"right"),Po=cs(Do-1,Ls?"right":"left"),Oc=Hr==null&&Ss==0,va=an==null&&Do==Ln,To=Ps==0,wa=!Jo||Ps==Jo.length-1;if(Po.top-ys.top<=3){var X0=(ct?Oc:va)&&To,H2=(ct?va:Oc)&&wa,ff=X0?je:(Ls?ys:Po).left,Tn=H2?tt:(Ls?Po:ys).right;Ht(ff,ys.top,Tn-ff,ys.bottom)}else{var Yf,Lo,U0,xm;Ls?(Yf=ct&&Oc&&To?je:ys.left,Lo=ct?tt:K0(Ss,$0,"before"),U0=ct?je:K0(Do,$0,"after"),xm=ct&&va&&wa?tt:Po.right):(Yf=ct?K0(Ss,$0,"before"):je,Lo=!ct&&Oc&&To?tt:ys.right,U0=!ct&&va&&wa?je:Po.left,xm=ct?K0(Do,$0,"after"):tt),Ht(Yf,ys.top,Lo-Yf,ys.bottom),ys.bottom<Po.top&&Ht(je,ys.bottom,null,Po.top),Ht(U0,Po.top,xm-U0,Po.bottom)}(!G0||La(ys,G0)<0)&&(G0=ys),La(Po,G0)<0&&(G0=Po),(!Ws||La(ys,Ws)<0)&&(Ws=ys),La(Po,Ws)<0&&(Ws=Po)}),{start:G0,end:Ws}}var Ai=T.from(),hi=T.to();if(Ai.line==hi.line)Zt(Ai.line,Ai.ch,hi.ch);else{var Gi=Tr(te,Ai.line),Zi=Tr(te,hi.line),ur=Ka(Gi)==Ka(Zi),xr=Zt(Ai.line,Ai.ch,ur?Gi.text.length+1:null).end,Rr=Zt(hi.line,ur?0:null,hi.ch).start;ur&&(xr.top<Rr.top-2?(Ht(xr.right,xr.top,null,xr.bottom),Ht(je,Rr.top,Rr.left,Rr.bottom)):Ht(xr.right,xr.top,Rr.left-xr.right,xr.bottom)),xr.bottom<Rr.top&&Ht(je,xr.bottom,null,Rr.top)}W.appendChild(pe)}function Oe(w){if(!!w.state.focused){var T=w.display;clearInterval(T.blinker);var W=!0;T.cursorDiv.style.visibility="",w.options.cursorBlinkRate>0?T.blinker=setInterval(function(){w.hasFocus()||Z(w),T.cursorDiv.style.visibility=(W=!W)?"":"hidden"},w.options.cursorBlinkRate):w.options.cursorBlinkRate<0&&(T.cursorDiv.style.visibility="hidden")}}function qe(w){w.hasFocus()||(w.display.input.focus(),w.state.focused||Xt(w))}function vt(w){w.state.delayingBlurEvent=!0,setTimeout(function(){w.state.delayingBlurEvent&&(w.state.delayingBlurEvent=!1,w.state.focused&&Z(w))},100)}function Xt(w,T){w.state.delayingBlurEvent&&!w.state.draggingText&&(w.state.delayingBlurEvent=!1),w.options.readOnly!="nocursor"&&(w.state.focused||(Tt(w,"focus",w,T),w.state.focused=!0,Se(w.display.wrapper,"CodeMirror-focused"),!w.curOp&&w.display.selForContextMenu!=w.doc.sel&&(w.display.input.reset(),E&&setTimeout(function(){return w.display.input.reset(!0)},20)),w.display.input.receivedFocus()),Oe(w))}function Z(w,T){w.state.delayingBlurEvent||(w.state.focused&&(Tt(w,"blur",w,T),w.state.focused=!1,ae(w.display.wrapper,"CodeMirror-focused")),clearInterval(w.display.blinker),setTimeout(function(){w.state.focused||(w.display.shift=!1)},150))}function cr(w){for(var T=w.display,W=T.lineDiv.offsetTop,G=Math.max(0,T.scroller.getBoundingClientRect().top),te=T.lineDiv.getBoundingClientRect().top,pe=0,De=0;De<T.view.length;De++){var je=T.view[De],tt=w.options.lineWrapping,ct=void 0,Ht=0;if(!je.hidden){if(te+=je.line.height,y&&A<8){var Zt=je.node.offsetTop+je.node.offsetHeight;ct=Zt-W,W=Zt}else{var Ai=je.node.getBoundingClientRect();ct=Ai.bottom-Ai.top,!tt&&je.text.firstChild&&(Ht=je.text.firstChild.getBoundingClientRect().right-Ai.left-1)}var hi=je.line.height-ct;if((hi>.005||hi<-.005)&&(te<G&&(pe-=hi),os(je.line,ct),Oi(je.line),je.rest))for(var Gi=0;Gi<je.rest.length;Gi++)Oi(je.rest[Gi]);if(Ht>w.display.sizerWidth){var Zi=Math.ceil(Ht/en(w.display));Zi>w.display.maxLineLength&&(w.display.maxLineLength=Zi,w.display.maxLine=je.line,w.display.maxLineChanged=!0)}}}Math.abs(pe)>2&&(T.scroller.scrollTop+=pe)}function Oi(w){if(w.widgets)for(var T=0;T<w.widgets.length;++T){var W=w.widgets[T],G=W.node.parentNode;G&&(W.height=G.offsetHeight)}}function Nr(w,T,W){var G=W&&W.top!=null?Math.max(0,W.top):w.scroller.scrollTop;G=Math.floor(G-A2(w));var te=W&&W.bottom!=null?W.bottom:G+w.wrapper.clientHeight,pe=Z0(T,G),De=Z0(T,te);if(W&&W.ensure){var je=W.ensure.from.line,tt=W.ensure.to.line;je<pe?(pe=je,De=Z0(T,tf(Tr(T,je))+w.wrapper.clientHeight)):Math.min(tt,T.lastLine())>=De&&(pe=Z0(T,tf(Tr(T,tt))-w.wrapper.clientHeight),De=tt)}return{from:pe,to:Math.max(De,pe+1)}}function e(w,T){if(!Ot(w,"scrollCursorIntoView")){var W=w.display,G=W.sizer.getBoundingClientRect(),te=null;if(T.top+G.top<0?te=!0:T.bottom+G.top>(window.innerHeight||document.documentElement.clientHeight)&&(te=!1),te!=null&&!O){var pe=we("div","\u200B",null,`position: absolute;
                         top: `+(T.top-W.viewOffset-A2(w.display))+`px;
                         height: `+(T.bottom-T.top+Il(w)+W.barHeight)+`px;
                         left: `+T.left+"px; width: "+Math.max(2,T.right-T.left)+"px;");w.display.lineSpace.appendChild(pe),pe.scrollIntoView(te),w.display.lineSpace.removeChild(pe)}}}function gs(w,T,W,G){G==null&&(G=0);var te;!w.options.lineWrapping&&T==W&&(W=T.sticky=="before"?rr(T.line,T.ch+1,"before"):T,T=T.ch?rr(T.line,T.sticky=="before"?T.ch-1:T.ch,"after"):T);for(var pe=0;pe<5;pe++){var De=!1,je=$a(w,T),tt=!W||W==T?je:$a(w,W);te={left:Math.min(je.left,tt.left),top:Math.min(je.top,tt.top)-G,right:Math.max(je.left,tt.left),bottom:Math.max(je.bottom,tt.bottom)+G};var ct=il(w,te),Ht=w.doc.scrollTop,Zt=w.doc.scrollLeft;if(ct.scrollTop!=null&&(Pu(w,ct.scrollTop),Math.abs(w.doc.scrollTop-Ht)>1&&(De=!0)),ct.scrollLeft!=null&&(En(w,ct.scrollLeft),Math.abs(w.doc.scrollLeft-Zt)>1&&(De=!0)),!De)break}return te}function yi(w,T){var W=il(w,T);W.scrollTop!=null&&Pu(w,W.scrollTop),W.scrollLeft!=null&&En(w,W.scrollLeft)}function il(w,T){var W=w.display,G=wc(w.display);T.top<0&&(T.top=0);var te=w.curOp&&w.curOp.scrollTop!=null?w.curOp.scrollTop:W.scroller.scrollTop,pe=F1(w),De={};T.bottom-T.top>pe&&(T.bottom=T.top+pe);var je=w.doc.height+N1(W),tt=T.top<G,ct=T.bottom>je-G;if(T.top<te)De.scrollTop=tt?0:T.top;else if(T.bottom>te+pe){var Ht=Math.min(T.top,(ct?je:T.bottom)-pe);Ht!=te&&(De.scrollTop=Ht)}var Zt=w.options.fixedGutter?0:W.gutters.offsetWidth,Ai=w.curOp&&w.curOp.scrollLeft!=null?w.curOp.scrollLeft:W.scroller.scrollLeft-Zt,hi=Iu(w)-W.gutters.offsetWidth,Gi=T.right-T.left>hi;return Gi&&(T.right=T.left+hi),T.left<10?De.scrollLeft=0:T.left<Ai?De.scrollLeft=Math.max(0,T.left+Zt-(Gi?0:10)):T.right>hi+Ai-3&&(De.scrollLeft=T.right+(Gi?0:10)-hi),De}function aa(w,T){T!=null&&(Jh(w),w.curOp.scrollTop=(w.curOp.scrollTop==null?w.doc.scrollTop:w.curOp.scrollTop)+T)}function nf(w){Jh(w);var T=w.getCursor();w.curOp.scrollToPos={from:T,to:T,margin:w.options.cursorScrollMargin}}function _c(w,T,W){(T!=null||W!=null)&&Jh(w),T!=null&&(w.curOp.scrollLeft=T),W!=null&&(w.curOp.scrollTop=W)}function br(w,T){Jh(w),w.curOp.scrollToPos=T}function Jh(w){var T=w.curOp.scrollToPos;if(T){w.curOp.scrollToPos=null;var W=v2(w,T.from),G=v2(w,T.to);L0(w,W,G,T.margin)}}function L0(w,T,W,G){var te=il(w,{left:Math.min(T.left,W.left),top:Math.min(T.top,W.top)-G,right:Math.max(T.right,W.right),bottom:Math.max(T.bottom,W.bottom)+G});_c(w,te.scrollLeft,te.scrollTop)}function Pu(w,T){Math.abs(w.doc.scrollTop-T)<2||(i||G1(w,{top:T}),w2(w,T,!0),i&&G1(w),Xh(w,100))}function w2(w,T,W){T=Math.max(0,Math.min(w.display.scroller.scrollHeight-w.display.scroller.clientHeight,T)),!(w.display.scroller.scrollTop==T&&!W)&&(w.doc.scrollTop=T,w.display.scrollbars.setScrollTop(T),w.display.scroller.scrollTop!=T&&(w.display.scroller.scrollTop=T))}function En(w,T,W,G){T=Math.max(0,Math.min(T,w.display.scroller.scrollWidth-w.display.scroller.clientWidth)),!((W?T==w.doc.scrollLeft:Math.abs(w.doc.scrollLeft-T)<2)&&!G)&&(w.doc.scrollLeft=T,E2(w),w.display.scroller.scrollLeft!=T&&(w.display.scroller.scrollLeft=T),w.display.scrollbars.setScrollLeft(T))}function q(w){var T=w.display,W=T.gutters.offsetWidth,G=Math.round(w.doc.height+N1(w.display));return{clientHeight:T.scroller.clientHeight,viewHeight:T.wrapper.clientHeight,scrollWidth:T.scroller.scrollWidth,clientWidth:T.scroller.clientWidth,viewWidth:T.wrapper.clientWidth,barLeft:w.options.fixedGutter?W:0,docHeight:G,scrollHeight:G+Il(w)+T.barHeight,nativeBarWidth:T.nativeBarWidth,gutterWidth:W}}var Ll=function(w,T,W){this.cm=W;var G=this.vert=we("div",[we("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),te=this.horiz=we("div",[we("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");G.tabIndex=te.tabIndex=-1,w(G),w(te),It(G,"scroll",function(){G.clientHeight&&T(G.scrollTop,"vertical")}),It(te,"scroll",function(){te.clientWidth&&T(te.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,y&&A<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ll.prototype.update=function(w){var T=w.scrollWidth>w.clientWidth+1,W=w.scrollHeight>w.clientHeight+1,G=w.nativeBarWidth;if(W){this.vert.style.display="block",this.vert.style.bottom=T?G+"px":"0";var te=w.viewHeight-(T?G:0);this.vert.firstChild.style.height=Math.max(0,w.scrollHeight-w.clientHeight+te)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(T){this.horiz.style.display="block",this.horiz.style.right=W?G+"px":"0",this.horiz.style.left=w.barLeft+"px";var pe=w.viewWidth-w.barLeft-(W?G:0);this.horiz.firstChild.style.width=Math.max(0,w.scrollWidth-w.clientWidth+pe)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&w.clientHeight>0&&(G==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:W?G:0,bottom:T?G:0}},Ll.prototype.setScrollLeft=function(w){this.horiz.scrollLeft!=w&&(this.horiz.scrollLeft=w),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ll.prototype.setScrollTop=function(w){this.vert.scrollTop!=w&&(this.vert.scrollTop=w),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ll.prototype.zeroWidthHack=function(){var w=ee&&!B?"12px":"18px";this.horiz.style.height=this.vert.style.width=w,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Re,this.disableVert=new Re},Ll.prototype.enableZeroWidthBar=function(w,T,W){w.style.pointerEvents="auto";function G(){var te=w.getBoundingClientRect(),pe=W=="vert"?document.elementFromPoint(te.right-1,(te.top+te.bottom)/2):document.elementFromPoint((te.right+te.left)/2,te.bottom-1);pe!=w?w.style.pointerEvents="none":T.set(1e3,G)}T.set(1e3,G)},Ll.prototype.clear=function(){var w=this.horiz.parentNode;w.removeChild(this.horiz),w.removeChild(this.vert)};var sf=function(){};sf.prototype.update=function(){return{bottom:0,right:0}},sf.prototype.setScrollLeft=function(){},sf.prototype.setScrollTop=function(){},sf.prototype.clear=function(){};function kc(w,T){T||(T=q(w));var W=w.display.barWidth,G=w.display.barHeight;Xe(w,T);for(var te=0;te<4&&W!=w.display.barWidth||G!=w.display.barHeight;te++)W!=w.display.barWidth&&w.options.lineWrapping&&cr(w),Xe(w,q(w)),W=w.display.barWidth,G=w.display.barHeight}function Xe(w,T){var W=w.display,G=W.scrollbars.update(T);W.sizer.style.paddingRight=(W.barWidth=G.right)+"px",W.sizer.style.paddingBottom=(W.barHeight=G.bottom)+"px",W.heightForcer.style.borderBottom=G.bottom+"px solid transparent",G.right&&G.bottom?(W.scrollbarFiller.style.display="block",W.scrollbarFiller.style.height=G.bottom+"px",W.scrollbarFiller.style.width=G.right+"px"):W.scrollbarFiller.style.display="",G.bottom&&w.options.coverGutterNextToScrollbar&&w.options.fixedGutter?(W.gutterFiller.style.display="block",W.gutterFiller.style.height=G.bottom+"px",W.gutterFiller.style.width=T.gutterWidth+"px"):W.gutterFiller.style.display=""}var bn={native:Ll,null:sf};function f0(w){w.display.scrollbars&&(w.display.scrollbars.clear(),w.display.scrollbars.addClass&&ae(w.display.wrapper,w.display.scrollbars.addClass)),w.display.scrollbars=new bn[w.options.scrollbarStyle](function(T){w.display.wrapper.insertBefore(T,w.display.scrollbarFiller),It(T,"mousedown",function(){w.state.focused&&setTimeout(function(){return w.display.input.focus()},0)}),T.setAttribute("cm-not-content","true")},function(T,W){W=="horizontal"?En(w,T):Pu(w,T)},w),w.display.scrollbars.addClass&&Se(w.display.wrapper,w.display.scrollbars.addClass)}var yr=0;function _i(w){w.curOp={cm:w,viewChanged:!1,startHeight:w.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++yr,markArrays:null},Pw(w.curOp)}function i0(w){var T=w.curOp;T&&Nw(T,function(W){for(var G=0;G<W.ops.length;G++)W.ops[G].cm.curOp=null;S0(W)})}function S0(w){for(var T=w.ops,W=0;W<T.length;W++)qt(T[W]);for(var G=0;G<T.length;G++)rl(T[G]);for(var te=0;te<T.length;te++)Yw(T[te]);for(var pe=0;pe<T.length;pe++)Kw(T[pe]);for(var De=0;De<T.length;De++)$w(T[De])}function qt(w){var T=w.cm,W=T.display;zb(T),w.updateMaxLine&&P1(T),w.mustUpdate=w.viewChanged||w.forceUpdate||w.scrollTop!=null||w.scrollToPos&&(w.scrollToPos.from.line<W.viewFrom||w.scrollToPos.to.line>=W.viewTo)||W.maxLineChanged&&T.options.lineWrapping,w.update=w.mustUpdate&&new x2(T,w.mustUpdate&&{top:w.scrollTop,ensure:w.scrollToPos},w.forceUpdate)}function rl(w){w.updatedDisplay=w.mustUpdate&&j1(w.cm,w.update)}function Yw(w){var T=w.cm,W=T.display;w.updatedDisplay&&cr(T),w.barMeasure=q(T),W.maxLineChanged&&!T.options.lineWrapping&&(w.adjustWidthTo=Fb(T,W.maxLine,W.maxLine.text.length).left+3,T.display.sizerWidth=w.adjustWidthTo,w.barMeasure.scrollWidth=Math.max(W.scroller.clientWidth,W.sizer.offsetLeft+w.adjustWidthTo+Il(T)+T.display.barWidth),w.maxScrollLeft=Math.max(0,W.sizer.offsetLeft+w.adjustWidthTo-Iu(T))),(w.updatedDisplay||w.selectionChanged)&&(w.preparedSelection=W.input.prepareSelection())}function Kw(w){var T=w.cm;w.adjustWidthTo!=null&&(T.display.sizer.style.minWidth=w.adjustWidthTo+"px",w.maxScrollLeft<T.doc.scrollLeft&&En(T,Math.min(T.display.scroller.scrollLeft,w.maxScrollLeft),!0),T.display.maxLineChanged=!1);var W=w.focus&&w.focus==de();w.preparedSelection&&T.display.input.showSelection(w.preparedSelection,W),(w.updatedDisplay||w.startHeight!=T.doc.height)&&kc(T,w.barMeasure),w.updatedDisplay&&z1(T,w.barMeasure),w.selectionChanged&&Oe(T),T.state.focused&&w.updateInput&&T.display.input.reset(w.typing),W&&qe(w.cm)}function $w(w){var T=w.cm,W=T.display,G=T.doc;if(w.updatedDisplay&&Wb(T,w.update),W.wheelStartX!=null&&(w.scrollTop!=null||w.scrollLeft!=null||w.scrollToPos)&&(W.wheelStartX=W.wheelStartY=null),w.scrollTop!=null&&w2(T,w.scrollTop,w.forceScroll),w.scrollLeft!=null&&En(T,w.scrollLeft,!0,!0),w.scrollToPos){var te=gs(T,Cr(G,w.scrollToPos.from),Cr(G,w.scrollToPos.to),w.scrollToPos.margin);e(T,te)}var pe=w.maybeHiddenMarkers,De=w.maybeUnhiddenMarkers;if(pe)for(var je=0;je<pe.length;++je)pe[je].lines.length||Tt(pe[je],"hide");if(De)for(var tt=0;tt<De.length;++tt)De[tt].lines.length&&Tt(De[tt],"unhide");W.wrapper.offsetHeight&&(G.scrollTop=T.display.scroller.scrollTop),w.changeObjs&&Tt(T,"changes",T,w.changeObjs),w.update&&w.update.finish()}function wn(w,T){if(w.curOp)return T();_i(w);try{return T()}finally{i0(w)}}function to(w,T){return function(){if(w.curOp)return T.apply(w,arguments);_i(w);try{return T.apply(w,arguments)}finally{i0(w)}}}function yn(w){return function(){if(this.curOp)return w.apply(this,arguments);_i(this);try{return w.apply(this,arguments)}finally{i0(this)}}}function Gs(w){return function(){var T=this.cm;if(!T||T.curOp)return w.apply(this,arguments);_i(T);try{return w.apply(this,arguments)}finally{i0(T)}}}function Xh(w,T){w.doc.highlightFrontier<w.display.viewTo&&w.state.highlight.set(T,nt(Gb,w))}function Gb(w){var T=w.doc;if(!(T.highlightFrontier>=w.display.viewTo)){var W=+new Date+w.options.workTime,G=Hh(w,T.highlightFrontier),te=[];T.iter(G.line,Math.min(T.first+T.size,w.display.viewTo+500),function(pe){if(G.line>=w.display.viewFrom){var De=pe.styles,je=pe.text.length>w.options.maxHighlightLength?un(T.mode,G.state):null,tt=hb(w,pe,G,!0);je&&(G.state=je),pe.styles=tt.styles;var ct=pe.styleClasses,Ht=tt.classes;Ht?pe.styleClasses=Ht:ct&&(pe.styleClasses=null);for(var Zt=!De||De.length!=pe.styles.length||ct!=Ht&&(!ct||!Ht||ct.bgClass!=Ht.bgClass||ct.textClass!=Ht.textClass),Ai=0;!Zt&&Ai<De.length;++Ai)Zt=De[Ai]!=pe.styles[Ai];Zt&&te.push(G.line),pe.stateAfter=G.save(),G.nextLine()}else pe.text.length<=w.options.maxHighlightLength&&T1(w,pe.text,G),pe.stateAfter=G.line%5==0?G.save():null,G.nextLine();if(+new Date>W)return Xh(w,w.options.workDelay),!0}),T.highlightFrontier=G.line,T.modeFrontier=Math.max(T.modeFrontier,G.line),te.length&&wn(w,function(){for(var pe=0;pe<te.length;pe++)A0(w,te[pe],"text")})}}var x2=function(w,T,W){var G=w.display;this.viewport=T,this.visible=Nr(G,w.doc,T),this.editorIsHidden=!G.wrapper.offsetWidth,this.wrapperHeight=G.wrapper.clientHeight,this.wrapperWidth=G.wrapper.clientWidth,this.oldDisplayWidth=Iu(w),this.force=W,this.dims=xc(w),this.events=[]};x2.prototype.signal=function(w,T){Ti(w,T)&&this.events.push(arguments)},x2.prototype.finish=function(){for(var w=0;w<this.events.length;w++)Tt.apply(null,this.events[w])};function zb(w){var T=w.display;!T.scrollbarsClipped&&T.scroller.offsetWidth&&(T.nativeBarWidth=T.scroller.offsetWidth-T.scroller.clientWidth,T.heightForcer.style.height=Il(w)+"px",T.sizer.style.marginBottom=-T.nativeBarWidth+"px",T.sizer.style.borderRightWidth=Il(w)+"px",T.scrollbarsClipped=!0)}function e6(w){if(w.hasFocus())return null;var T=de();if(!T||!he(w.display.lineDiv,T))return null;var W={activeElt:T};if(window.getSelection){var G=window.getSelection();G.anchorNode&&G.extend&&he(w.display.lineDiv,G.anchorNode)&&(W.anchorNode=G.anchorNode,W.anchorOffset=G.anchorOffset,W.focusNode=G.focusNode,W.focusOffset=G.focusOffset)}return W}function t6(w){if(!(!w||!w.activeElt||w.activeElt==de())&&(w.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(w.activeElt.nodeName)&&w.anchorNode&&he(document.body,w.anchorNode)&&he(document.body,w.focusNode))){var T=window.getSelection(),W=document.createRange();W.setEnd(w.anchorNode,w.anchorOffset),W.collapse(!1),T.removeAllRanges(),T.addRange(W),T.extend(w.focusNode,w.focusOffset)}}function j1(w,T){var W=w.display,G=w.doc;if(T.editorIsHidden)return l0(w),!1;if(!T.force&&T.visible.from>=W.viewFrom&&T.visible.to<=W.viewTo&&(W.updateLineNumbers==null||W.updateLineNumbers>=W.viewTo)&&W.renderedView==W.view&&So(w)==0)return!1;Qb(w)&&(l0(w),T.dims=xc(w));var te=G.first+G.size,pe=Math.max(T.visible.from-w.options.viewportMargin,G.first),De=Math.min(te,T.visible.to+w.options.viewportMargin);W.viewFrom<pe&&pe-W.viewFrom<20&&(pe=Math.max(G.first,W.viewFrom)),W.viewTo>De&&W.viewTo-De<20&&(De=Math.min(te,W.viewTo)),ef&&(pe=I1(w.doc,pe),De=kb(w.doc,De));var je=pe!=W.viewFrom||De!=W.viewTo||W.lastWrapHeight!=T.wrapperHeight||W.lastWrapWidth!=T.wrapperWidth;sa(w,pe,De),W.viewOffset=tf(Tr(w.doc,W.viewFrom)),w.display.mover.style.top=W.viewOffset+"px";var tt=So(w);if(!je&&tt==0&&!T.force&&W.renderedView==W.view&&(W.updateLineNumbers==null||W.updateLineNumbers>=W.viewTo))return!1;var ct=e6(w);return tt>4&&(W.lineDiv.style.display="none"),i6(w,W.updateLineNumbers,T.dims),tt>4&&(W.lineDiv.style.display=""),W.renderedView=W.view,t6(ct),ye(W.cursorDiv),ye(W.selectionDiv),W.gutters.style.height=W.sizer.style.minHeight=0,je&&(W.lastWrapHeight=T.wrapperHeight,W.lastWrapWidth=T.wrapperWidth,Xh(w,400)),W.updateLineNumbers=null,!0}function Wb(w,T){for(var W=T.viewport,G=!0;;G=!1){if(!G||!w.options.lineWrapping||T.oldDisplayWidth==Iu(w)){if(W&&W.top!=null&&(W={top:Math.min(w.doc.height+N1(w.display)-F1(w),W.top)}),T.visible=Nr(w.display,w.doc,W),T.visible.from>=w.display.viewFrom&&T.visible.to<=w.display.viewTo)break}else G&&(T.visible=Nr(w.display,w.doc,W));if(!j1(w,T))break;cr(w);var te=q(w);oa(w),kc(w,te),z1(w,te),T.force=!1}T.signal(w,"update",w),(w.display.viewFrom!=w.display.reportedViewFrom||w.display.viewTo!=w.display.reportedViewTo)&&(T.signal(w,"viewportChange",w,w.display.viewFrom,w.display.viewTo),w.display.reportedViewFrom=w.display.viewFrom,w.display.reportedViewTo=w.display.viewTo)}function G1(w,T){var W=new x2(w,T);if(j1(w,W)){cr(w),Wb(w,W);var G=q(w);oa(w),kc(w,G),z1(w,G),W.finish()}}function i6(w,T,W){var G=w.display,te=w.options.lineNumbers,pe=G.lineDiv,De=pe.firstChild;function je(Gi){var Zi=Gi.nextSibling;return E&&ee&&w.display.currentWheelTarget==Gi?Gi.style.display="none":Gi.parentNode.removeChild(Gi),Zi}for(var tt=G.view,ct=G.viewFrom,Ht=0;Ht<tt.length;Ht++){var Zt=tt[Ht];if(!Zt.hidden)if(!Zt.node||Zt.node.parentNode!=pe){var Ai=Vw(w,Zt,ct,W);pe.insertBefore(Ai,De)}else{for(;De!=Zt.node;)De=je(De);var hi=te&&T!=null&&T<=ct&&Zt.lineNumber;Zt.changes&&(lt(Zt.changes,"gutter")>-1&&(hi=!1),Rb(w,Zt,ct,W)),hi&&(ye(Zt.lineNumber),Zt.lineNumber.appendChild(document.createTextNode(Ks(w.options,ct)))),De=Zt.node.nextSibling}ct+=Zt.size}for(;De;)De=je(De)}function Ar(w){var T=w.gutters.offsetWidth;w.sizer.style.marginLeft=T+"px",$s(w,"gutterChanged",w)}function z1(w,T){w.display.sizer.style.minHeight=T.docHeight+"px",w.display.heightForcer.style.top=T.docHeight+"px",w.display.gutters.style.height=T.docHeight+w.display.barHeight+Il(w)+"px"}function E2(w){var T=w.display,W=T.view;if(!(!T.alignWidgets&&(!T.gutters.firstChild||!w.options.fixedGutter))){for(var G=Ec(T)-T.scroller.scrollLeft+w.doc.scrollLeft,te=T.gutters.offsetWidth,pe=G+"px",De=0;De<W.length;De++)if(!W[De].hidden){w.options.fixedGutter&&(W[De].gutter&&(W[De].gutter.style.left=pe),W[De].gutterBackground&&(W[De].gutterBackground.style.left=pe));var je=W[De].alignable;if(je)for(var tt=0;tt<je.length;tt++)je[tt].style.left=pe}w.options.fixedGutter&&(T.gutters.style.left=G+te+"px")}}function Qb(w){if(!w.options.lineNumbers)return!1;var T=w.doc,W=Ks(w.options,T.first+T.size-1),G=w.display;if(W.length!=G.lineNumChars){var te=G.measure.appendChild(we("div",[we("div",W)],"CodeMirror-linenumber CodeMirror-gutter-elt")),pe=te.firstChild.offsetWidth,De=te.offsetWidth-pe;return G.lineGutter.style.width="",G.lineNumInnerWidth=Math.max(pe,G.lineGutter.offsetWidth-De)+1,G.lineNumWidth=G.lineNumInnerWidth+De,G.lineNumChars=G.lineNumInnerWidth?W.length:-1,G.lineGutter.style.width=G.lineNumWidth+"px",Ar(w.display),!0}return!1}function W1(w,T){for(var W=[],G=!1,te=0;te<w.length;te++){var pe=w[te],De=null;if(typeof pe!="string"&&(De=pe.style,pe=pe.className),pe=="CodeMirror-linenumbers")if(T)G=!0;else continue;W.push({className:pe,style:De})}return T&&!G&&W.push({className:"CodeMirror-linenumbers",style:null}),W}function Q1(w){var T=w.gutters,W=w.gutterSpecs;ye(T),w.lineGutter=null;for(var G=0;G<W.length;++G){var te=W[G],pe=te.className,De=te.style,je=T.appendChild(we("div",null,"CodeMirror-gutter "+pe));De&&(je.style.cssText=De),pe=="CodeMirror-linenumbers"&&(w.lineGutter=je,je.style.width=(w.lineNumWidth||1)+"px")}T.style.display=W.length?"":"none",Ar(w)}function qh(w){Q1(w.display),Gn(w),E2(w)}function r6(w,T,W,G){var te=this;this.input=W,te.scrollbarFiller=we("div",null,"CodeMirror-scrollbar-filler"),te.scrollbarFiller.setAttribute("cm-not-content","true"),te.gutterFiller=we("div",null,"CodeMirror-gutter-filler"),te.gutterFiller.setAttribute("cm-not-content","true"),te.lineDiv=le("div",null,"CodeMirror-code"),te.selectionDiv=we("div",null,null,"position: relative; z-index: 1"),te.cursorDiv=we("div",null,"CodeMirror-cursors"),te.measure=we("div",null,"CodeMirror-measure"),te.lineMeasure=we("div",null,"CodeMirror-measure"),te.lineSpace=le("div",[te.measure,te.lineMeasure,te.selectionDiv,te.cursorDiv,te.lineDiv],null,"position: relative; outline: none");var pe=le("div",[te.lineSpace],"CodeMirror-lines");te.mover=we("div",[pe],null,"position: relative"),te.sizer=we("div",[te.mover],"CodeMirror-sizer"),te.sizerWidth=null,te.heightForcer=we("div",null,null,"position: absolute; height: "+Te+"px; width: 1px;"),te.gutters=we("div",null,"CodeMirror-gutters"),te.lineGutter=null,te.scroller=we("div",[te.sizer,te.heightForcer,te.gutters],"CodeMirror-scroll"),te.scroller.setAttribute("tabIndex","-1"),te.wrapper=we("div",[te.scrollbarFiller,te.gutterFiller,te.scroller],"CodeMirror"),te.wrapper.setAttribute("translate","no"),y&&A<8&&(te.gutters.style.zIndex=-1,te.scroller.style.paddingRight=0),!E&&!(i&&Y)&&(te.scroller.draggable=!0),w&&(w.appendChild?w.appendChild(te.wrapper):w(te.wrapper)),te.viewFrom=te.viewTo=T.first,te.reportedViewFrom=te.reportedViewTo=T.first,te.view=[],te.renderedView=null,te.externalMeasured=null,te.viewOffset=0,te.lastWrapHeight=te.lastWrapWidth=0,te.updateLineNumbers=null,te.nativeBarWidth=te.barHeight=te.barWidth=0,te.scrollbarsClipped=!1,te.lineNumWidth=te.lineNumInnerWidth=te.lineNumChars=null,te.alignWidgets=!1,te.cachedCharWidth=te.cachedTextHeight=te.cachedPaddingH=null,te.maxLine=null,te.maxLineLength=0,te.maxLineChanged=!1,te.wheelDX=te.wheelDY=te.wheelStartX=te.wheelStartY=null,te.shift=!1,te.selForContextMenu=null,te.activeTouch=null,te.gutterSpecs=W1(G.gutters,G.lineNumbers),Q1(te),W.init(te)}var _2=0,nl=null;y?nl=-.53:i?nl=15:k?nl=-.7:P&&(nl=-1/3);function J1(w){var T=w.wheelDeltaX,W=w.wheelDeltaY;return T==null&&w.detail&&w.axis==w.HORIZONTAL_AXIS&&(T=w.detail),W==null&&w.detail&&w.axis==w.VERTICAL_AXIS?W=w.detail:W==null&&(W=w.wheelDelta),{x:T,y:W}}function n6(w){var T=J1(w);return T.x*=nl,T.y*=nl,T}function Jb(w,T){var W=J1(T),G=W.x,te=W.y,pe=nl;T.deltaMode===0&&(G=T.deltaX,te=T.deltaY,pe=1);var De=w.display,je=De.scroller,tt=je.scrollWidth>je.clientWidth,ct=je.scrollHeight>je.clientHeight;if(!!(G&&tt||te&&ct)){if(te&&ee&&E){e:for(var Ht=T.target,Zt=De.view;Ht!=je;Ht=Ht.parentNode)for(var Ai=0;Ai<Zt.length;Ai++)if(Zt[Ai].node==Ht){w.display.currentWheelTarget=Ht;break e}}if(G&&!i&&!R&&pe!=null){te&&ct&&Pu(w,Math.max(0,je.scrollTop+te*pe)),En(w,Math.max(0,je.scrollLeft+G*pe)),(!te||te&&ct)&&gr(T),De.wheelStartX=null;return}if(te&&pe!=null){var hi=te*pe,Gi=w.doc.scrollTop,Zi=Gi+De.wrapper.clientHeight;hi<0?Gi=Math.max(0,Gi+hi-50):Zi=Math.min(w.doc.height,Zi+hi+50),G1(w,{top:Gi,bottom:Zi})}_2<20&&T.deltaMode!==0&&(De.wheelStartX==null?(De.wheelStartX=je.scrollLeft,De.wheelStartY=je.scrollTop,De.wheelDX=G,De.wheelDY=te,setTimeout(function(){if(De.wheelStartX!=null){var ur=je.scrollLeft-De.wheelStartX,xr=je.scrollTop-De.wheelStartY,Rr=xr&&De.wheelDY&&xr/De.wheelDY||ur&&De.wheelDX&&ur/De.wheelDX;De.wheelStartX=De.wheelStartY=null,Rr&&(nl=(nl*_2+Rr)/(_2+1),++_2)}},200)):(De.wheelDX+=G,De.wheelDY+=te))}}var uo=function(w,T){this.ranges=w,this.primIndex=T};uo.prototype.primary=function(){return this.ranges[this.primIndex]},uo.prototype.equals=function(w){if(w==this)return!0;if(w.primIndex!=this.primIndex||w.ranges.length!=this.ranges.length)return!1;for(var T=0;T<this.ranges.length;T++){var W=this.ranges[T],G=w.ranges[T];if(!Jt(W.anchor,G.anchor)||!Jt(W.head,G.head))return!1}return!0},uo.prototype.deepCopy=function(){for(var w=[],T=0;T<this.ranges.length;T++)w[T]=new x0(Qi(this.ranges[T].anchor),Qi(this.ranges[T].head));return new uo(w,this.primIndex)},uo.prototype.somethingSelected=function(){for(var w=0;w<this.ranges.length;w++)if(!this.ranges[w].empty())return!0;return!1},uo.prototype.contains=function(w,T){T||(T=w);for(var W=0;W<this.ranges.length;W++){var G=this.ranges[W];if(dt(T,G.from())>=0&&dt(w,G.to())<=0)return W}return-1};var x0=function(w,T){this.anchor=w,this.head=T};x0.prototype.from=function(){return dn(this.anchor,this.head)},x0.prototype.to=function(){return $i(this.anchor,this.head)},x0.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Cs(w,T,W){var G=w&&w.options.selectionsMayTouch,te=T[W];T.sort(function(Ai,hi){return dt(Ai.from(),hi.from())}),W=lt(T,te);for(var pe=1;pe<T.length;pe++){var De=T[pe],je=T[pe-1],tt=dt(je.to(),De.from());if(G&&!De.empty()?tt>0:tt>=0){var ct=dn(je.from(),De.from()),Ht=$i(je.to(),De.to()),Zt=je.empty()?De.from()==De.head:je.from()==je.head;pe<=W&&--W,T.splice(--pe,2,new x0(Zt?Ht:ct,Zt?ct:Ht))}}return new uo(T,W)}function Wf(w,T){return new uo([new x0(w,T||w)],0)}function Qf(w){return w.text?rr(w.from.line+w.text.length-1,Yt(w.text).length+(w.text.length==1?w.from.ch:0)):w.to}function Xb(w,T){if(dt(w,T.from)<0)return w;if(dt(w,T.to)<=0)return Qf(T);var W=w.line+T.text.length-(T.to.line-T.from.line)-1,G=w.ch;return w.line==T.to.line&&(G+=Qf(T).ch-T.to.ch),rr(W,G)}function X1(w,T){for(var W=[],G=0;G<w.sel.ranges.length;G++){var te=w.sel.ranges[G];W.push(new x0(Xb(te.anchor,T),Xb(te.head,T)))}return Cs(w.cm,W,w.sel.primIndex)}function qb(w,T,W){return w.line==T.line?rr(W.line,w.ch-T.ch+W.ch):rr(W.line+(w.line-T.line),w.ch)}function s6(w,T,W){for(var G=[],te=rr(w.first,0),pe=te,De=0;De<T.length;De++){var je=T[De],tt=qb(je.from,te,pe),ct=qb(Qf(je),te,pe);if(te=je.to,pe=ct,W=="around"){var Ht=w.sel.ranges[De],Zt=dt(Ht.head,Ht.anchor)<0;G[De]=new x0(Zt?ct:tt,Zt?tt:ct)}else G[De]=new x0(tt,tt)}return new uo(G,w.sel.primIndex)}function q1(w){w.doc.mode=hn(w.options,w.doc.modeOption),Zh(w)}function Zh(w){w.doc.iter(function(T){T.stateAfter&&(T.stateAfter=null),T.styles&&(T.styles=null)}),w.doc.modeFrontier=w.doc.highlightFrontier=w.doc.first,Xh(w,100),w.state.modeGen++,w.curOp&&Gn(w)}function Zb(w,T){return T.from.ch==0&&T.to.ch==0&&Yt(T.text)==""&&(!w.cm||w.cm.options.wholeLineUpdateBefore)}function Z1(w,T,W,G){function te(Rr){return W?W[Rr]:null}function pe(Rr,wr,Hr){kw(Rr,wr,Hr,G),$s(Rr,"change",Rr,T)}function De(Rr,wr){for(var Hr=[],an=Rr;an<wr;++an)Hr.push(new bc(ct[an],te(an),G));return Hr}var je=T.from,tt=T.to,ct=T.text,Ht=Tr(w,je.line),Zt=Tr(w,tt.line),Ai=Yt(ct),hi=te(ct.length-1),Gi=tt.line-je.line;if(T.full)w.insert(0,De(0,ct.length)),w.remove(ct.length,w.size-ct.length);else if(Zb(w,T)){var Zi=De(0,ct.length-1);pe(Zt,Zt.text,hi),Gi&&w.remove(je.line,Gi),Zi.length&&w.insert(je.line,Zi)}else if(Ht==Zt)if(ct.length==1)pe(Ht,Ht.text.slice(0,je.ch)+Ai+Ht.text.slice(tt.ch),hi);else{var ur=De(1,ct.length-1);ur.push(new bc(Ai+Ht.text.slice(tt.ch),hi,G)),pe(Ht,Ht.text.slice(0,je.ch)+ct[0],te(0)),w.insert(je.line+1,ur)}else if(ct.length==1)pe(Ht,Ht.text.slice(0,je.ch)+ct[0]+Zt.text.slice(tt.ch),te(0)),w.remove(je.line+1,Gi);else{pe(Ht,Ht.text.slice(0,je.ch)+ct[0],te(0)),pe(Zt,Ai+Zt.text.slice(tt.ch),hi);var xr=De(1,ct.length-1);Gi>1&&w.remove(je.line+1,Gi-1),w.insert(je.line+1,xr)}$s(w,"change",w,T)}function Jf(w,T,W){function G(te,pe,De){if(te.linked)for(var je=0;je<te.linked.length;++je){var tt=te.linked[je];if(tt.doc!=pe){var ct=De&&tt.sharedHist;W&&!ct||(T(tt.doc,ct),G(tt.doc,te,ct))}}}G(w,null,!0)}function Yb(w,T){if(T.cm)throw new Error("This document is already in use.");w.doc=T,T.cm=w,zf(w),q1(w),Kb(w),w.options.direction=T.direction,w.options.lineWrapping||P1(w),w.options.mode=T.modeOption,Gn(w)}function Kb(w){(w.doc.direction=="rtl"?Se:ae)(w.display.lineDiv,"CodeMirror-rtl")}function o6(w){wn(w,function(){Kb(w),Gn(w)})}function k2(w){this.done=[],this.undone=[],this.undoDepth=w?w.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=w?w.maxGeneration:1}function Y1(w,T){var W={from:Qi(T.from),to:Qf(T),text:ss(w,T.from,T.to)};return iy(w,W,T.from.line,T.to.line+1),Jf(w,function(G){return iy(G,W,T.from.line,T.to.line+1)},!0),W}function $b(w){for(;w.length;){var T=Yt(w);if(T.ranges)w.pop();else break}}function ey(w,T){if(T)return $b(w.done),Yt(w.done);if(w.done.length&&!Yt(w.done).ranges)return Yt(w.done);if(w.done.length>1&&!w.done[w.done.length-2].ranges)return w.done.pop(),Yt(w.done)}function ty(w,T,W,G){var te=w.history;te.undone.length=0;var pe=+new Date,De,je;if((te.lastOp==G||te.lastOrigin==T.origin&&T.origin&&(T.origin.charAt(0)=="+"&&te.lastModTime>pe-(w.cm?w.cm.options.historyEventDelay:500)||T.origin.charAt(0)=="*"))&&(De=ey(te,te.lastOp==G)))je=Yt(De.changes),dt(T.from,T.to)==0&&dt(T.from,je.to)==0?je.to=Qf(T):De.changes.push(Y1(w,T));else{var tt=Yt(te.done);for((!tt||!tt.ranges)&&C2(w.sel,te.done),De={changes:[Y1(w,T)],generation:te.generation},te.done.push(De);te.done.length>te.undoDepth;)te.done.shift(),te.done[0].ranges||te.done.shift()}te.done.push(W),te.generation=++te.maxGeneration,te.lastModTime=te.lastSelTime=pe,te.lastOp=te.lastSelOp=G,te.lastOrigin=te.lastSelOrigin=T.origin,je||Tt(w,"historyAdded")}function a6(w,T,W,G){var te=T.charAt(0);return te=="*"||te=="+"&&W.ranges.length==G.ranges.length&&W.somethingSelected()==G.somethingSelected()&&new Date-w.history.lastSelTime<=(w.cm?w.cm.options.historyEventDelay:500)}function l6(w,T,W,G){var te=w.history,pe=G&&G.origin;W==te.lastSelOp||pe&&te.lastSelOrigin==pe&&(te.lastModTime==te.lastSelTime&&te.lastOrigin==pe||a6(w,pe,Yt(te.done),T))?te.done[te.done.length-1]=T:C2(T,te.done),te.lastSelTime=+new Date,te.lastSelOrigin=pe,te.lastSelOp=W,G&&G.clearRedo!==!1&&$b(te.undone)}function C2(w,T){var W=Yt(T);W&&W.ranges&&W.equals(w)||T.push(w)}function iy(w,T,W,G){var te=T["spans_"+w.id],pe=0;w.iter(Math.max(w.first,W),Math.min(w.first+w.size,G),function(De){De.markedSpans&&((te||(te=T["spans_"+w.id]={}))[pe]=De.markedSpans),++pe})}function pn(w){if(!w)return null;for(var T,W=0;W<w.length;++W)w[W].marker.explicitlyCleared?T||(T=w.slice(0,W)):T&&T.push(w[W]);return T?T.length?T:null:w}function f6(w,T){var W=T["spans_"+w.id];if(!W)return null;for(var G=[],te=0;te<T.text.length;++te)G.push(pn(W[te]));return G}function Yh(w,T){var W=f6(w,T),G=R1(w,T);if(!W)return G;if(!G)return W;for(var te=0;te<W.length;++te){var pe=W[te],De=G[te];if(pe&&De){e:for(var je=0;je<De.length;++je){for(var tt=De[je],ct=0;ct<pe.length;++ct)if(pe[ct].marker==tt.marker)continue e;pe.push(tt)}}else De&&(W[te]=De)}return W}function Cc(w,T,W){for(var G=[],te=0;te<w.length;++te){var pe=w[te];if(pe.ranges){G.push(W?uo.prototype.deepCopy.call(pe):pe);continue}var De=pe.changes,je=[];G.push({changes:je});for(var tt=0;tt<De.length;++tt){var ct=De[tt],Ht=void 0;if(je.push({from:ct.from,to:ct.to,text:ct.text}),T)for(var Zt in ct)(Ht=Zt.match(/^spans_(\d+)$/))&&lt(T,Number(Ht[1]))>-1&&(Yt(je)[Zt]=ct[Zt],delete ct[Zt])}}return G}function S2(w,T,W,G){if(G){var te=w.anchor;if(W){var pe=dt(T,te)<0;pe!=dt(W,te)<0?(te=T,T=W):pe!=dt(T,W)<0&&(T=W)}return new x0(te,T)}else return new x0(W||T,T)}function Kh(w,T,W,G,te){te==null&&(te=w.cm&&(w.cm.display.shift||w.extend)),co(w,new uo([S2(w.sel.primary(),T,W,te)],0),G)}function K1(w,T,W){for(var G=[],te=w.cm&&(w.cm.display.shift||w.extend),pe=0;pe<w.sel.ranges.length;pe++)G[pe]=S2(w.sel.ranges[pe],T[pe],null,te);var De=Cs(w.cm,G,w.sel.primIndex);co(w,De,W)}function $1(w,T,W,G){var te=w.sel.ranges.slice(0);te[T]=W,co(w,Cs(w.cm,te,w.sel.primIndex),G)}function em(w,T,W,G){co(w,Wf(T,W),G)}function ry(w,T,W){var G={ranges:T.ranges,update:function(te){this.ranges=[];for(var pe=0;pe<te.length;pe++)this.ranges[pe]=new x0(Cr(w,te[pe].anchor),Cr(w,te[pe].head))},origin:W&&W.origin};return Tt(w,"beforeSelectionChange",w,G),w.cm&&Tt(w.cm,"beforeSelectionChange",w.cm,G),G.ranges!=T.ranges?Cs(w.cm,G.ranges,G.ranges.length-1):T}function ny(w,T,W){var G=w.history.done,te=Yt(G);te&&te.ranges?(G[G.length-1]=T,$h(w,T,W)):co(w,T,W)}function co(w,T,W){$h(w,T,W),l6(w,w.sel,w.cm?w.cm.curOp.id:NaN,W)}function $h(w,T,W){(Ti(w,"beforeSelectionChange")||w.cm&&Ti(w.cm,"beforeSelectionChange"))&&(T=ry(w,T,W));var G=W&&W.bias||(dt(T.primary().head,w.sel.primary().head)<0?-1:1);tm(w,rm(w,T,G,!0)),!(W&&W.scroll===!1)&&w.cm&&w.cm.getOption("readOnly")!="nocursor"&&nf(w.cm)}function tm(w,T){T.equals(w.sel)||(w.sel=T,w.cm&&(w.cm.curOp.updateInput=1,w.cm.curOp.selectionChanged=!0,li(w.cm)),$s(w,"cursorActivity",w))}function im(w){tm(w,rm(w,w.sel,null,!1))}function rm(w,T,W,G){for(var te,pe=0;pe<T.ranges.length;pe++){var De=T.ranges[pe],je=T.ranges.length==w.sel.ranges.length&&w.sel.ranges[pe],tt=Xf(w,De.anchor,je&&je.anchor,W,G),ct=Xf(w,De.head,je&&je.head,W,G);(te||tt!=De.anchor||ct!=De.head)&&(te||(te=T.ranges.slice(0,pe)),te[pe]=new x0(tt,ct))}return te?Cs(w.cm,te,T.primIndex):T}function Lu(w,T,W,G,te){var pe=Tr(w,T.line);if(pe.markedSpans)for(var De=0;De<pe.markedSpans.length;++De){var je=pe.markedSpans[De],tt=je.marker,ct="selectLeft"in tt?!tt.selectLeft:tt.inclusiveLeft,Ht="selectRight"in tt?!tt.selectRight:tt.inclusiveRight;if((je.from==null||(ct?je.from<=T.ch:je.from<T.ch))&&(je.to==null||(Ht?je.to>=T.ch:je.to>T.ch))){if(te&&(Tt(tt,"beforeCursorEnter"),tt.explicitlyCleared))if(pe.markedSpans){--De;continue}else break;if(!tt.atomic)continue;if(W){var Zt=tt.find(G<0?1:-1),Ai=void 0;if((G<0?Ht:ct)&&(Zt=T2(w,Zt,-G,Zt&&Zt.line==T.line?pe:null)),Zt&&Zt.line==T.line&&(Ai=dt(Zt,W))&&(G<0?Ai<0:Ai>0))return Lu(w,Zt,T,G,te)}var hi=tt.find(G<0?-1:1);return(G<0?ct:Ht)&&(hi=T2(w,hi,G,hi.line==T.line?pe:null)),hi?Lu(w,hi,T,G,te):null}}return T}function Xf(w,T,W,G,te){var pe=G||1,De=Lu(w,T,W,pe,te)||!te&&Lu(w,T,W,pe,!0)||Lu(w,T,W,-pe,te)||!te&&Lu(w,T,W,-pe,!0);return De||(w.cantEdit=!0,rr(w.first,0))}function T2(w,T,W,G){return W<0&&T.ch==0?T.line>w.first?Cr(w,rr(T.line-1)):null:W>0&&T.ch==(G||Tr(w,T.line)).text.length?T.line<w.first+w.size-1?rr(T.line+1,0):null:new rr(T.line,T.ch+W)}function nm(w){w.setSelection(rr(w.firstLine(),0),rr(w.lastLine()),mt)}function sy(w,T,W){var G={canceled:!1,from:T.from,to:T.to,text:T.text,origin:T.origin,cancel:function(){return G.canceled=!0}};return W&&(G.update=function(te,pe,De,je){te&&(G.from=Cr(w,te)),pe&&(G.to=Cr(w,pe)),De&&(G.text=De),je!==void 0&&(G.origin=je)}),Tt(w,"beforeChange",w,G),w.cm&&Tt(w.cm,"beforeChange",w.cm,G),G.canceled?(w.cm&&(w.cm.curOp.updateInput=2),null):{from:G.from,to:G.to,text:G.text,origin:G.origin}}function Nu(w,T,W){if(w.cm){if(!w.cm.curOp)return to(w.cm,Nu)(w,T,W);if(w.cm.state.suppressEdits)return}if(!((Ti(w,"beforeChange")||w.cm&&Ti(w.cm,"beforeChange"))&&(T=sy(w,T,!0),!T))){var G=yb&&!W&&ww(w,T.from,T.to);if(G)for(var te=G.length-1;te>=0;--te)M2(w,{from:G[te].from,to:G[te].to,text:te?[""]:T.text,origin:T.origin});else M2(w,T)}}function M2(w,T){if(!(T.text.length==1&&T.text[0]==""&&dt(T.from,T.to)==0)){var W=X1(w,T);ty(w,T,W,w.cm?w.cm.curOp.id:NaN),Sc(w,T,W,R1(w,T));var G=[];Jf(w,function(te,pe){!pe&&lt(G,te.history)==-1&&(ay(te.history,T),G.push(te.history)),Sc(te,T,null,R1(te,T))})}}function R2(w,T,W){var G=w.cm&&w.cm.state.suppressEdits;if(!(G&&!W)){for(var te=w.history,pe,De=w.sel,je=T=="undo"?te.done:te.undone,tt=T=="undo"?te.undone:te.done,ct=0;ct<je.length&&(pe=je[ct],!(W?pe.ranges&&!pe.equals(w.sel):!pe.ranges));ct++);if(ct!=je.length){for(te.lastOrigin=te.lastSelOrigin=null;;)if(pe=je.pop(),pe.ranges){if(C2(pe,tt),W&&!pe.equals(w.sel)){co(w,pe,{clearRedo:!1});return}De=pe}else if(G){je.push(pe);return}else break;var Ht=[];C2(De,tt),tt.push({changes:Ht,generation:te.generation}),te.generation=pe.generation||++te.maxGeneration;for(var Zt=Ti(w,"beforeChange")||w.cm&&Ti(w.cm,"beforeChange"),Ai=function(Zi){var ur=pe.changes[Zi];if(ur.origin=T,Zt&&!sy(w,ur,!1))return je.length=0,{};Ht.push(Y1(w,ur));var xr=Zi?X1(w,ur):Yt(je);Sc(w,ur,xr,Yh(w,ur)),!Zi&&w.cm&&w.cm.scrollIntoView({from:ur.from,to:Qf(ur)});var Rr=[];Jf(w,function(wr,Hr){!Hr&&lt(Rr,wr.history)==-1&&(ay(wr.history,ur),Rr.push(wr.history)),Sc(wr,ur,null,Yh(wr,ur))})},hi=pe.changes.length-1;hi>=0;--hi){var Gi=Ai(hi);if(Gi)return Gi.v}}}}function Ds(w,T){if(T!=0&&(w.first+=T,w.sel=new uo($t(w.sel.ranges,function(te){return new x0(rr(te.anchor.line+T,te.anchor.ch),rr(te.head.line+T,te.head.ch))}),w.sel.primIndex),w.cm)){Gn(w.cm,w.first,w.first-T,T);for(var W=w.cm.display,G=W.viewFrom;G<W.viewTo;G++)A0(w.cm,G,"gutter")}}function Sc(w,T,W,G){if(w.cm&&!w.cm.curOp)return to(w.cm,Sc)(w,T,W,G);if(T.to.line<w.first){Ds(w,T.text.length-1-(T.to.line-T.from.line));return}if(!(T.from.line>w.lastLine())){if(T.from.line<w.first){var te=T.text.length-1-(w.first-T.from.line);Ds(w,te),T={from:rr(w.first,0),to:rr(T.to.line+te,T.to.ch),text:[Yt(T.text)],origin:T.origin}}var pe=w.lastLine();T.to.line>pe&&(T={from:T.from,to:rr(pe,Tr(w,pe).text.length),text:[T.text[0]],origin:T.origin}),T.removed=ss(w,T.from,T.to),W||(W=X1(w,T)),w.cm?oy(w.cm,T,G):Z1(w,T,G),$h(w,W,mt),w.cantEdit&&Xf(w,rr(w.firstLine(),0))&&(w.cantEdit=!1)}}function oy(w,T,W){var G=w.doc,te=w.display,pe=T.from,De=T.to,je=!1,tt=pe.line;w.options.lineWrapping||(tt=rn(Ka(Tr(G,pe.line))),G.iter(tt,De.line+1,function(hi){if(hi==te.maxLine)return je=!0,!0})),G.sel.contains(T.from,T.to)>-1&&li(w),Z1(G,T,W,Qh(w)),w.options.lineWrapping||(G.iter(tt,pe.line+T.text.length,function(hi){var Gi=b2(hi);Gi>te.maxLineLength&&(te.maxLine=hi,te.maxLineLength=Gi,te.maxLineChanged=!0,je=!1)}),je&&(w.curOp.updateMaxLine=!0)),pw(G,pe.line),Xh(w,400);var ct=T.text.length-(De.line-pe.line)-1;T.full?Gn(w):pe.line==De.line&&T.text.length==1&&!Zb(w.doc,T)?A0(w,pe.line,"text"):Gn(w,pe.line,De.line+1,ct);var Ht=Ti(w,"changes"),Zt=Ti(w,"change");if(Zt||Ht){var Ai={from:pe,to:De,text:T.text,removed:T.removed,origin:T.origin};Zt&&$s(w,"change",w,Ai),Ht&&(w.curOp.changeObjs||(w.curOp.changeObjs=[])).push(Ai)}w.display.selForContextMenu=null}function Tc(w,T,W,G,te){var pe;G||(G=W),dt(G,W)<0&&(pe=[G,W],W=pe[0],G=pe[1]),typeof T=="string"&&(T=w.splitLines(T)),Nu(w,{from:W,to:G,text:T,origin:te})}function sm(w,T,W,G){W<w.line?w.line+=G:T<w.line&&(w.line=T,w.ch=0)}function om(w,T,W,G){for(var te=0;te<w.length;++te){var pe=w[te],De=!0;if(pe.ranges){pe.copied||(pe=w[te]=pe.deepCopy(),pe.copied=!0);for(var je=0;je<pe.ranges.length;je++)sm(pe.ranges[je].anchor,T,W,G),sm(pe.ranges[je].head,T,W,G);continue}for(var tt=0;tt<pe.changes.length;++tt){var ct=pe.changes[tt];if(W<ct.from.line)ct.from=rr(ct.from.line+G,ct.from.ch),ct.to=rr(ct.to.line+G,ct.to.ch);else if(T<=ct.to.line){De=!1;break}}De||(w.splice(0,te+1),te=0)}}function ay(w,T){var W=T.from.line,G=T.to.line,te=T.text.length-(G-W)-1;om(w.done,W,G,te),om(w.undone,W,G,te)}function Mc(w,T,W,G){var te=T,pe=T;return typeof T=="number"?pe=Tr(w,jn(w,T)):te=rn(T),te==null?null:(G(pe,te)&&w.cm&&A0(w.cm,te,W),pe)}function ed(w){this.lines=w,this.parent=null;for(var T=0,W=0;W<w.length;++W)w[W].parent=this,T+=w[W].height;this.height=T}ed.prototype={chunkSize:function(){return this.lines.length},removeInner:function(w,T){for(var W=w,G=w+T;W<G;++W){var te=this.lines[W];this.height-=te.height,Cw(te),$s(te,"delete")}this.lines.splice(w,T)},collapse:function(w){w.push.apply(w,this.lines)},insertInner:function(w,T,W){this.height+=W,this.lines=this.lines.slice(0,w).concat(T).concat(this.lines.slice(w));for(var G=0;G<T.length;++G)T[G].parent=this},iterN:function(w,T,W){for(var G=w+T;w<G;++w)if(W(this.lines[w]))return!0}};function Rc(w){this.children=w;for(var T=0,W=0,G=0;G<w.length;++G){var te=w[G];T+=te.chunkSize(),W+=te.height,te.parent=this}this.size=T,this.height=W,this.parent=null}Rc.prototype={chunkSize:function(){return this.size},removeInner:function(w,T){this.size-=T;for(var W=0;W<this.children.length;++W){var G=this.children[W],te=G.chunkSize();if(w<te){var pe=Math.min(T,te-w),De=G.height;if(G.removeInner(w,pe),this.height-=De-G.height,te==pe&&(this.children.splice(W--,1),G.parent=null),(T-=pe)==0)break;w=0}else w-=te}if(this.size-T<25&&(this.children.length>1||!(this.children[0]instanceof ed))){var je=[];this.collapse(je),this.children=[new ed(je)],this.children[0].parent=this}},collapse:function(w){for(var T=0;T<this.children.length;++T)this.children[T].collapse(w)},insertInner:function(w,T,W){this.size+=T.length,this.height+=W;for(var G=0;G<this.children.length;++G){var te=this.children[G],pe=te.chunkSize();if(w<=pe){if(te.insertInner(w,T,W),te.lines&&te.lines.length>50){for(var De=te.lines.length%25+25,je=De;je<te.lines.length;){var tt=new ed(te.lines.slice(je,je+=25));te.height-=tt.height,this.children.splice(++G,0,tt),tt.parent=this}te.lines=te.lines.slice(0,De),this.maybeSpill()}break}w-=pe}},maybeSpill:function(){if(!(this.children.length<=10)){var w=this;do{var T=w.children.splice(w.children.length-5,5),W=new Rc(T);if(w.parent){w.size-=W.size,w.height-=W.height;var te=lt(w.parent.children,w);w.parent.children.splice(te+1,0,W)}else{var G=new Rc(w.children);G.parent=w,w.children=[G,W],w=G}W.parent=w.parent}while(w.children.length>10);w.parent.maybeSpill()}},iterN:function(w,T,W){for(var G=0;G<this.children.length;++G){var te=this.children[G],pe=te.chunkSize();if(w<pe){var De=Math.min(T,pe-w);if(te.iterN(w,De,W))return!0;if((T-=De)==0)break;w=0}else w-=pe}}};var td=function(w,T,W){if(W)for(var G in W)W.hasOwnProperty(G)&&(this[G]=W[G]);this.doc=w,this.node=T};td.prototype.clear=function(){var w=this.doc.cm,T=this.line.widgets,W=this.line,G=rn(W);if(!(G==null||!T)){for(var te=0;te<T.length;++te)T[te]==this&&T.splice(te--,1);T.length||(W.widgets=null);var pe=Gh(this);os(W,Math.max(0,W.height-pe)),w&&(wn(w,function(){ly(w,W,-pe),A0(w,G,"widget")}),$s(w,"lineWidgetCleared",w,this,G))}},td.prototype.changed=function(){var w=this,T=this.height,W=this.doc.cm,G=this.line;this.height=null;var te=Gh(this)-T;!te||(Vf(this.doc,G)||os(G,G.height+te),W&&wn(W,function(){W.curOp.forceUpdate=!0,ly(W,G,te),$s(W,"lineWidgetChanged",W,w,rn(G))}))},Ui(td);function ly(w,T,W){tf(T)<(w.curOp&&w.curOp.scrollTop||w.doc.scrollTop)&&aa(w,W)}function u6(w,T,W,G){var te=new td(w,W,G),pe=w.cm;return pe&&te.noHScroll&&(pe.display.alignWidgets=!0),Mc(w,T,"widget",function(De){var je=De.widgets||(De.widgets=[]);if(te.insertAt==null?je.push(te):je.splice(Math.min(je.length,Math.max(0,te.insertAt)),0,te),te.line=De,pe&&!Vf(w,De)){var tt=tf(De)<w.scrollTop;os(De,De.height+Gh(te)),tt&&aa(pe,te.height),pe.curOp.forceUpdate=!0}return!0}),pe&&$s(pe,"lineWidgetAdded",pe,te,typeof T=="number"?T:rn(T)),te}var Kn=0,qf=function(w,T){this.lines=[],this.type=T,this.doc=w,this.id=++Kn};qf.prototype.clear=function(){if(!this.explicitlyCleared){var w=this.doc.cm,T=w&&!w.curOp;if(T&&_i(w),Ti(this,"clear")){var W=this.find();W&&$s(this,"clear",W.from,W.to)}for(var G=null,te=null,pe=0;pe<this.lines.length;++pe){var De=this.lines[pe],je=Uh(De.markedSpans,this);w&&!this.collapsed?A0(w,rn(De),"text"):w&&(je.to!=null&&(te=rn(De)),je.from!=null&&(G=rn(De))),De.markedSpans=bw(De.markedSpans,je),je.from==null&&this.collapsed&&!Vf(this.doc,De)&&w&&os(De,wc(w.display))}if(w&&this.collapsed&&!w.options.lineWrapping)for(var tt=0;tt<this.lines.length;++tt){var ct=Ka(this.lines[tt]),Ht=b2(ct);Ht>w.display.maxLineLength&&(w.display.maxLine=ct,w.display.maxLineLength=Ht,w.display.maxLineChanged=!0)}G!=null&&w&&this.collapsed&&Gn(w,G,te+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,w&&im(w.doc)),w&&$s(w,"markerCleared",w,this,G,te),T&&i0(w),this.parent&&this.parent.clear()}},qf.prototype.find=function(w,T){w==null&&this.type=="bookmark"&&(w=1);for(var W,G,te=0;te<this.lines.length;++te){var pe=this.lines[te],De=Uh(pe.markedSpans,this);if(De.from!=null&&(W=rr(T?pe:rn(pe),De.from),w==-1))return W;if(De.to!=null&&(G=rr(T?pe:rn(pe),De.to),w==1))return G}return W&&{from:W,to:G}},qf.prototype.changed=function(){var w=this,T=this.find(-1,!0),W=this,G=this.doc.cm;!T||!G||wn(G,function(){var te=T.line,pe=rn(T.line),De=O1(G,pe);if(De&&(Ub(De),G.curOp.selectionChanged=G.curOp.forceUpdate=!0),G.curOp.updateMaxLine=!0,!Vf(W.doc,te)&&W.height!=null){var je=W.height;W.height=null;var tt=Gh(W)-je;tt&&os(te,te.height+tt)}$s(G,"markerChanged",G,w)})},qf.prototype.attachLine=function(w){if(!this.lines.length&&this.doc.cm){var T=this.doc.cm.curOp;(!T.maybeHiddenMarkers||lt(T.maybeHiddenMarkers,this)==-1)&&(T.maybeUnhiddenMarkers||(T.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(w)},qf.prototype.detachLine=function(w){if(this.lines.splice(lt(this.lines,w),1),!this.lines.length&&this.doc.cm){var T=this.doc.cm.curOp;(T.maybeHiddenMarkers||(T.maybeHiddenMarkers=[])).push(this)}},Ui(qf);function Fu(w,T,W,G,te){if(G&&G.shared)return c6(w,T,W,G,te);if(w.cm&&!w.cm.curOp)return to(w.cm,Fu)(w,T,W,G,te);var pe=new qf(w,te),De=dt(T,W);if(G&&He(G,pe,!1),De>0||De==0&&pe.clearWhenEmpty!==!1)return pe;if(pe.replacedWith&&(pe.collapsed=!0,pe.widgetNode=le("span",[pe.replacedWith],"CodeMirror-widget"),G.handleMouseEvents||pe.widgetNode.setAttribute("cm-ignore-events","true"),G.insertLeft&&(pe.widgetNode.insertLeft=!0)),pe.collapsed){if(_b(w,T.line,T,W,pe)||T.line!=W.line&&_b(w,W.line,T,W,pe))throw new Error("Inserting collapsed marker partially overlapping an existing one");gw()}pe.addToHistory&&ty(w,{from:T,to:W,origin:"markText"},w.sel,NaN);var je=T.line,tt=w.cm,ct;if(w.iter(je,W.line+1,function(Zt){tt&&pe.collapsed&&!tt.options.lineWrapping&&Ka(Zt)==tt.display.maxLine&&(ct=!0),pe.collapsed&&je!=T.line&&os(Zt,0),yw(Zt,new d2(pe,je==T.line?T.ch:null,je==W.line?W.ch:null),w.cm&&w.cm.curOp),++je}),pe.collapsed&&w.iter(T.line,W.line+1,function(Zt){Vf(w,Zt)&&os(Zt,0)}),pe.clearOnEnter&&It(pe,"beforeCursorEnter",function(){return pe.clear()}),pe.readOnly&&(mw(),(w.history.done.length||w.history.undone.length)&&w.clearHistory()),pe.collapsed&&(pe.id=++Kn,pe.atomic=!0),tt){if(ct&&(tt.curOp.updateMaxLine=!0),pe.collapsed)Gn(tt,T.line,W.line+1);else if(pe.className||pe.startStyle||pe.endStyle||pe.css||pe.attributes||pe.title)for(var Ht=T.line;Ht<=W.line;Ht++)A0(tt,Ht,"text");pe.atomic&&im(tt.doc),$s(tt,"markerAdded",tt,pe)}return pe}var id=function(w,T){this.markers=w,this.primary=T;for(var W=0;W<w.length;++W)w[W].parent=this};id.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var w=0;w<this.markers.length;++w)this.markers[w].clear();$s(this,"clear")}},id.prototype.find=function(w,T){return this.primary.find(w,T)},Ui(id);function c6(w,T,W,G,te){G=He(G),G.shared=!1;var pe=[Fu(w,T,W,G,te)],De=pe[0],je=G.widgetNode;return Jf(w,function(tt){je&&(G.widgetNode=je.cloneNode(!0)),pe.push(Fu(tt,Cr(tt,T),Cr(tt,W),G,te));for(var ct=0;ct<tt.linked.length;++ct)if(tt.linked[ct].isParent)return;De=Yt(pe)}),new id(pe,De)}function fy(w){return w.findMarks(rr(w.first,0),w.clipPos(rr(w.lastLine())),function(T){return T.parent})}function h6(w,T){for(var W=0;W<T.length;W++){var G=T[W],te=G.find(),pe=w.clipPos(te.from),De=w.clipPos(te.to);if(dt(pe,De)){var je=Fu(w,pe,De,G.primary,G.primary.type);G.markers.push(je),je.parent=G}}}function d6(w){for(var T=function(G){var te=w[G],pe=[te.primary.doc];Jf(te.primary.doc,function(tt){return pe.push(tt)});for(var De=0;De<te.markers.length;De++){var je=te.markers[De];lt(pe,je.doc)==-1&&(je.parent=null,te.markers.splice(De--,1))}},W=0;W<w.length;W++)T(W)}var p6=0,Qo=function(w,T,W,G,te){if(!(this instanceof Qo))return new Qo(w,T,W,G,te);W==null&&(W=0),Rc.call(this,[new ed([new bc("",null)])]),this.first=W,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=W;var pe=rr(W,0);this.sel=Wf(pe),this.history=new k2(null),this.id=++p6,this.modeOption=T,this.lineSep=G,this.direction=te=="rtl"?"rtl":"ltr",this.extend=!1,typeof w=="string"&&(w=this.splitLines(w)),Z1(this,{from:pe,to:pe,text:w}),co(this,Wf(pe),mt)};Qo.prototype=Ki(Rc.prototype,{constructor:Qo,iter:function(w,T,W){W?this.iterN(w-this.first,T-w,W):this.iterN(this.first,this.first+this.size,w)},insert:function(w,T){for(var W=0,G=0;G<T.length;++G)W+=T[G].height;this.insertInner(w-this.first,T,W)},remove:function(w,T){this.removeInner(w-this.first,T)},getValue:function(w){var T=Bn(this,this.first,this.first+this.size);return w===!1?T:T.join(w||this.lineSeparator())},setValue:Gs(function(w){var T=rr(this.first,0),W=this.first+this.size-1;Nu(this,{from:T,to:rr(W,Tr(this,W).text.length),text:this.splitLines(w),origin:"setValue",full:!0},!0),this.cm&&_c(this.cm,0,0),co(this,Wf(T),mt)}),replaceRange:function(w,T,W,G){T=Cr(this,T),W=W?Cr(this,W):T,Tc(this,w,T,W,G)},getRange:function(w,T,W){var G=ss(this,Cr(this,w),Cr(this,T));return W===!1?G:W===""?G.join(""):G.join(W||this.lineSeparator())},getLine:function(w){var T=this.getLineHandle(w);return T&&T.text},getLineHandle:function(w){if(Vs(this,w))return Tr(this,w)},getLineNumber:function(w){return rn(w)},getLineHandleVisualStart:function(w){return typeof w=="number"&&(w=Tr(this,w)),Ka(w)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(w){return Cr(this,w)},getCursor:function(w){var T=this.sel.primary(),W;return w==null||w=="head"?W=T.head:w=="anchor"?W=T.anchor:w=="end"||w=="to"||w===!1?W=T.to():W=T.from(),W},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Gs(function(w,T,W){em(this,Cr(this,typeof w=="number"?rr(w,T||0):w),null,W)}),setSelection:Gs(function(w,T,W){em(this,Cr(this,w),Cr(this,T||w),W)}),extendSelection:Gs(function(w,T,W){Kh(this,Cr(this,w),T&&Cr(this,T),W)}),extendSelections:Gs(function(w,T){K1(this,ya(this,w),T)}),extendSelectionsBy:Gs(function(w,T){var W=$t(this.sel.ranges,w);K1(this,ya(this,W),T)}),setSelections:Gs(function(w,T,W){if(!!w.length){for(var G=[],te=0;te<w.length;te++)G[te]=new x0(Cr(this,w[te].anchor),Cr(this,w[te].head||w[te].anchor));T==null&&(T=Math.min(w.length-1,this.sel.primIndex)),co(this,Cs(this.cm,G,T),W)}}),addSelection:Gs(function(w,T,W){var G=this.sel.ranges.slice(0);G.push(new x0(Cr(this,w),Cr(this,T||w))),co(this,Cs(this.cm,G,G.length-1),W)}),getSelection:function(w){for(var T=this.sel.ranges,W,G=0;G<T.length;G++){var te=ss(this,T[G].from(),T[G].to());W=W?W.concat(te):te}return w===!1?W:W.join(w||this.lineSeparator())},getSelections:function(w){for(var T=[],W=this.sel.ranges,G=0;G<W.length;G++){var te=ss(this,W[G].from(),W[G].to());w!==!1&&(te=te.join(w||this.lineSeparator())),T[G]=te}return T},replaceSelection:function(w,T,W){for(var G=[],te=0;te<this.sel.ranges.length;te++)G[te]=w;this.replaceSelections(G,T,W||"+input")},replaceSelections:Gs(function(w,T,W){for(var G=[],te=this.sel,pe=0;pe<te.ranges.length;pe++){var De=te.ranges[pe];G[pe]={from:De.from(),to:De.to(),text:this.splitLines(w[pe]),origin:W}}for(var je=T&&T!="end"&&s6(this,G,T),tt=G.length-1;tt>=0;tt--)Nu(this,G[tt]);je?ny(this,je):this.cm&&nf(this.cm)}),undo:Gs(function(){R2(this,"undo")}),redo:Gs(function(){R2(this,"redo")}),undoSelection:Gs(function(){R2(this,"undo",!0)}),redoSelection:Gs(function(){R2(this,"redo",!0)}),setExtending:function(w){this.extend=w},getExtending:function(){return this.extend},historySize:function(){for(var w=this.history,T=0,W=0,G=0;G<w.done.length;G++)w.done[G].ranges||++T;for(var te=0;te<w.undone.length;te++)w.undone[te].ranges||++W;return{undo:T,redo:W}},clearHistory:function(){var w=this;this.history=new k2(this.history),Jf(this,function(T){return T.history=w.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(w){return w&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(w){return this.history.generation==(w||this.cleanGeneration)},getHistory:function(){return{done:Cc(this.history.done),undone:Cc(this.history.undone)}},setHistory:function(w){var T=this.history=new k2(this.history);T.done=Cc(w.done.slice(0),null,!0),T.undone=Cc(w.undone.slice(0),null,!0)},setGutterMarker:Gs(function(w,T,W){return Mc(this,w,"gutter",function(G){var te=G.gutterMarkers||(G.gutterMarkers={});return te[T]=W,!W&&ri(te)&&(G.gutterMarkers=null),!0})}),clearGutter:Gs(function(w){var T=this;this.iter(function(W){W.gutterMarkers&&W.gutterMarkers[w]&&Mc(T,W,"gutter",function(){return W.gutterMarkers[w]=null,ri(W.gutterMarkers)&&(W.gutterMarkers=null),!0})})}),lineInfo:function(w){var T;if(typeof w=="number"){if(!Vs(this,w)||(T=w,w=Tr(this,w),!w))return null}else if(T=rn(w),T==null)return null;return{line:T,handle:w,text:w.text,gutterMarkers:w.gutterMarkers,textClass:w.textClass,bgClass:w.bgClass,wrapClass:w.wrapClass,widgets:w.widgets}},addLineClass:Gs(function(w,T,W){return Mc(this,w,T=="gutter"?"gutter":"class",function(G){var te=T=="text"?"textClass":T=="background"?"bgClass":T=="gutter"?"gutterClass":"wrapClass";if(!G[te])G[te]=W;else{if(ne(W).test(G[te]))return!1;G[te]+=" "+W}return!0})}),removeLineClass:Gs(function(w,T,W){return Mc(this,w,T=="gutter"?"gutter":"class",function(G){var te=T=="text"?"textClass":T=="background"?"bgClass":T=="gutter"?"gutterClass":"wrapClass",pe=G[te];if(pe)if(W==null)G[te]=null;else{var De=pe.match(ne(W));if(!De)return!1;var je=De.index+De[0].length;G[te]=pe.slice(0,De.index)+(!De.index||je==pe.length?"":" ")+pe.slice(je)||null}else return!1;return!0})}),addLineWidget:Gs(function(w,T,W){return u6(this,w,T,W)}),removeLineWidget:function(w){w.clear()},markText:function(w,T,W){return Fu(this,Cr(this,w),Cr(this,T),W,W&&W.type||"range")},setBookmark:function(w,T){var W={replacedWith:T&&(T.nodeType==null?T.widget:T),insertLeft:T&&T.insertLeft,clearWhenEmpty:!1,shared:T&&T.shared,handleMouseEvents:T&&T.handleMouseEvents};return w=Cr(this,w),Fu(this,w,w,W,"bookmark")},findMarksAt:function(w){w=Cr(this,w);var T=[],W=Tr(this,w.line).markedSpans;if(W)for(var G=0;G<W.length;++G){var te=W[G];(te.from==null||te.from<=w.ch)&&(te.to==null||te.to>=w.ch)&&T.push(te.marker.parent||te.marker)}return T},findMarks:function(w,T,W){w=Cr(this,w),T=Cr(this,T);var G=[],te=w.line;return this.iter(w.line,T.line+1,function(pe){var De=pe.markedSpans;if(De)for(var je=0;je<De.length;je++){var tt=De[je];!(tt.to!=null&&te==w.line&&w.ch>=tt.to||tt.from==null&&te!=w.line||tt.from!=null&&te==T.line&&tt.from>=T.ch)&&(!W||W(tt.marker))&&G.push(tt.marker.parent||tt.marker)}++te}),G},getAllMarks:function(){var w=[];return this.iter(function(T){var W=T.markedSpans;if(W)for(var G=0;G<W.length;++G)W[G].from!=null&&w.push(W[G].marker)}),w},posFromIndex:function(w){var T,W=this.first,G=this.lineSeparator().length;return this.iter(function(te){var pe=te.text.length+G;if(pe>w)return T=w,!0;w-=pe,++W}),Cr(this,rr(W,T))},indexFromPos:function(w){w=Cr(this,w);var T=w.ch;if(w.line<this.first||w.ch<0)return 0;var W=this.lineSeparator().length;return this.iter(this.first,w.line,function(G){T+=G.text.length+W}),T},copy:function(w){var T=new Qo(Bn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return T.scrollTop=this.scrollTop,T.scrollLeft=this.scrollLeft,T.sel=this.sel,T.extend=!1,w&&(T.history.undoDepth=this.history.undoDepth,T.setHistory(this.getHistory())),T},linkedDoc:function(w){w||(w={});var T=this.first,W=this.first+this.size;w.from!=null&&w.from>T&&(T=w.from),w.to!=null&&w.to<W&&(W=w.to);var G=new Qo(Bn(this,T,W),w.mode||this.modeOption,T,this.lineSep,this.direction);return w.sharedHist&&(G.history=this.history),(this.linked||(this.linked=[])).push({doc:G,sharedHist:w.sharedHist}),G.linked=[{doc:this,isParent:!0,sharedHist:w.sharedHist}],h6(G,fy(this)),G},unlinkDoc:function(w){if(w instanceof Y0&&(w=w.doc),this.linked)for(var T=0;T<this.linked.length;++T){var W=this.linked[T];if(W.doc==w){this.linked.splice(T,1),w.unlinkDoc(this),d6(fy(this));break}}if(w.history==this.history){var G=[w.id];Jf(w,function(te){return G.push(te.id)},!0),w.history=new k2(null),w.history.done=Cc(this.history.done,G),w.history.undone=Cc(this.history.undone,G)}},iterLinkedDocs:function(w){Jf(this,w)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(w){return this.lineSep?w.split(this.lineSep):nr(w)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Gs(function(w){w!="rtl"&&(w="ltr"),w!=this.direction&&(this.direction=w,this.iter(function(T){return T.order=null}),this.cm&&o6(this.cm))})}),Qo.prototype.eachLine=Qo.prototype.iter;var uy=0;function m6(w){var T=this;if(cy(T),!(Ot(T,w)||rf(T.display,w))){gr(w),y&&(uy=+new Date);var W=tl(T,w,!0),G=w.dataTransfer.files;if(!(!W||T.isReadOnly()))if(G&&G.length&&window.FileReader&&window.File)for(var te=G.length,pe=Array(te),De=0,je=function(){++De==te&&to(T,function(){W=Cr(T.doc,W);var hi={from:W,to:W,text:T.doc.splitLines(pe.filter(function(Gi){return Gi!=null}).join(T.doc.lineSeparator())),origin:"paste"};Nu(T.doc,hi),ny(T.doc,Wf(Cr(T.doc,W),Cr(T.doc,Qf(hi))))})()},tt=function(hi,Gi){if(T.options.allowDropFileTypes&&lt(T.options.allowDropFileTypes,hi.type)==-1){je();return}var Zi=new FileReader;Zi.onerror=function(){return je()},Zi.onload=function(){var ur=Zi.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(ur)){je();return}pe[Gi]=ur,je()},Zi.readAsText(hi)},ct=0;ct<G.length;ct++)tt(G[ct],ct);else{if(T.state.draggingText&&T.doc.sel.contains(W)>-1){T.state.draggingText(w),setTimeout(function(){return T.display.input.focus()},20);return}try{var Ht=w.dataTransfer.getData("Text");if(Ht){var Zt;if(T.state.draggingText&&!T.state.draggingText.copy&&(Zt=T.listSelections()),$h(T.doc,Wf(W,W)),Zt)for(var Ai=0;Ai<Zt.length;++Ai)Tc(T.doc,"",Zt[Ai].anchor,Zt[Ai].head,"drag");T.replaceSelection(Ht,"around","paste"),T.display.input.focus()}}catch{}}}}function g6(w,T){if(y&&(!w.state.draggingText||+new Date-uy<100)){Fe(T);return}if(!(Ot(w,T)||rf(w.display,T))&&(T.dataTransfer.setData("Text",w.getSelection()),T.dataTransfer.effectAllowed="copyMove",T.dataTransfer.setDragImage&&!P)){var W=we("img",null,null,"position: fixed; left: 0; top: 0;");W.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",R&&(W.width=W.height=1,w.display.wrapper.appendChild(W),W._top=W.offsetTop),T.dataTransfer.setDragImage(W,0,0),R&&W.parentNode.removeChild(W)}}function b6(w,T){var W=tl(w,T);if(!!W){var G=document.createDocumentFragment();P0(w,W,G),w.display.dragCursor||(w.display.dragCursor=we("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),w.display.lineSpace.insertBefore(w.display.dragCursor,w.display.cursorDiv)),ge(w.display.dragCursor,G)}}function cy(w){w.display.dragCursor&&(w.display.lineSpace.removeChild(w.display.dragCursor),w.display.dragCursor=null)}function hy(w){if(!!document.getElementsByClassName){for(var T=document.getElementsByClassName("CodeMirror"),W=[],G=0;G<T.length;G++){var te=T[G].CodeMirror;te&&W.push(te)}W.length&&W[0].operation(function(){for(var pe=0;pe<W.length;pe++)w(W[pe])})}}var dy=!1;function y6(){dy||(A6(),dy=!0)}function A6(){var w;It(window,"resize",function(){w==null&&(w=setTimeout(function(){w=null,hy(v6)},100))}),It(window,"blur",function(){return hy(Z)})}function v6(w){var T=w.display;T.cachedCharWidth=T.cachedTextHeight=T.cachedPaddingH=null,T.scrollbarsClipped=!1,w.setSize()}for(var Zf={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},rd=0;rd<10;rd++)Zf[rd+48]=Zf[rd+96]=String(rd);for(var B2=65;B2<=90;B2++)Zf[B2]=String.fromCharCode(B2);for(var Bc=1;Bc<=12;Bc++)Zf[Bc+111]=Zf[Bc+63235]="F"+Bc;var of={};of.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},of.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},of.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},of.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},of.default=ee?of.macDefault:of.pcDefault;function w6(w){var T=w.split(/-(?!$)/);w=T[T.length-1];for(var W,G,te,pe,De=0;De<T.length-1;De++){var je=T[De];if(/^(cmd|meta|m)$/i.test(je))pe=!0;else if(/^a(lt)?$/i.test(je))W=!0;else if(/^(c|ctrl|control)$/i.test(je))G=!0;else if(/^s(hift)?$/i.test(je))te=!0;else throw new Error("Unrecognized modifier name: "+je)}return W&&(w="Alt-"+w),G&&(w="Ctrl-"+w),pe&&(w="Cmd-"+w),te&&(w="Shift-"+w),w}function py(w){var T={};for(var W in w)if(w.hasOwnProperty(W)){var G=w[W];if(/^(name|fallthrough|(de|at)tach)$/.test(W))continue;if(G=="..."){delete w[W];continue}for(var te=$t(W.split(" "),w6),pe=0;pe<te.length;pe++){var De=void 0,je=void 0;pe==te.length-1?(je=te.join(" "),De=G):(je=te.slice(0,pe+1).join(" "),De="...");var tt=T[je];if(!tt)T[je]=De;else if(tt!=De)throw new Error("Inconsistent bindings for "+je)}delete w[W]}for(var ct in T)w[ct]=T[ct];return w}function Ic(w,T,W,G){T=I2(T);var te=T.call?T.call(w,G):T[w];if(te===!1)return"nothing";if(te==="...")return"multi";if(te!=null&&W(te))return"handled";if(T.fallthrough){if(Object.prototype.toString.call(T.fallthrough)!="[object Array]")return Ic(w,T.fallthrough,W,G);for(var pe=0;pe<T.fallthrough.length;pe++){var De=Ic(w,T.fallthrough[pe],W,G);if(De)return De}}}function my(w){var T=typeof w=="string"?w:Zf[w.keyCode];return T=="Ctrl"||T=="Alt"||T=="Shift"||T=="Mod"}function gy(w,T,W){var G=w;return T.altKey&&G!="Alt"&&(w="Alt-"+w),(be?T.metaKey:T.ctrlKey)&&G!="Ctrl"&&(w="Ctrl-"+w),(be?T.ctrlKey:T.metaKey)&&G!="Mod"&&(w="Cmd-"+w),!W&&T.shiftKey&&G!="Shift"&&(w="Shift-"+w),w}function by(w,T){if(R&&w.keyCode==34&&w.char)return!1;var W=Zf[w.keyCode];return W==null||w.altGraphKey?!1:(w.keyCode==3&&w.code&&(W=w.code),gy(W,w,T))}function I2(w){return typeof w=="string"?of[w]:w}function Ou(w,T){for(var W=w.doc.sel.ranges,G=[],te=0;te<W.length;te++){for(var pe=T(W[te]);G.length&&dt(pe.from,Yt(G).to)<=0;){var De=G.pop();if(dt(De.from,pe.from)<0){pe.from=De.from;break}}G.push(pe)}wn(w,function(){for(var je=G.length-1;je>=0;je--)Tc(w.doc,"",G[je].from,G[je].to,"+delete");nf(w)})}function D2(w,T,W){var G=Lt(w.text,T+W,W);return G<0||G>w.text.length?null:G}function P2(w,T,W){var G=D2(w,T.ch,W);return G==null?null:new rr(T.line,G,W<0?"after":"before")}function zs(w,T,W,G,te){if(w){T.doc.direction=="rtl"&&(te=-te);var pe=bt(W,T.doc.direction);if(pe){var De=te<0?Yt(pe):pe[0],je=te<0==(De.level==1),tt=je?"after":"before",ct;if(De.level>0||T.doc.direction=="rtl"){var Ht=Ac(T,W);ct=te<0?W.text.length-1:0;var Zt=Dl(T,Ht,ct).top;ct=ii(function(Ai){return Dl(T,Ht,Ai).top==Zt},te<0==(De.level==1)?De.from:De.to-1,ct),tt=="before"&&(ct=D2(W,ct,1))}else ct=te<0?De.to:De.from;return new rr(G,ct,tt)}}return new rr(G,te<0?W.text.length:0,te<0?"before":"after")}function vr(w,T,W,G){var te=bt(T,w.doc.direction);if(!te)return P2(T,W,G);W.ch>=T.text.length?(W.ch=T.text.length,W.sticky="before"):W.ch<=0&&(W.ch=0,W.sticky="after");var pe=Pe(te,W.ch,W.sticky),De=te[pe];if(w.doc.direction=="ltr"&&De.level%2==0&&(G>0?De.to>W.ch:De.from<W.ch))return P2(T,W,G);var je=function(xr,Rr){return D2(T,xr instanceof rr?xr.ch:xr,Rr)},tt,ct=function(xr){return w.options.lineWrapping?(tt=tt||Ac(w,T),Wo(w,T,tt,xr)):{begin:0,end:T.text.length}},Ht=ct(W.sticky=="before"?je(W,-1):W.ch);if(w.doc.direction=="rtl"||De.level==1){var Zt=De.level==1==G<0,Ai=je(W,Zt?1:-1);if(Ai!=null&&(Zt?Ai<=De.to&&Ai<=Ht.end:Ai>=De.from&&Ai>=Ht.begin)){var hi=Zt?"before":"after";return new rr(W.line,Ai,hi)}}var Gi=function(xr,Rr,wr){for(var Hr=function(G0,Ws){return Ws?new rr(W.line,je(G0,1),"before"):new rr(W.line,G0,"after")};xr>=0&&xr<te.length;xr+=Rr){var an=te[xr],Zr=Rr>0==(an.level!=1),Ln=Zr?wr.begin:je(wr.end,-1);if(an.from<=Ln&&Ln<an.to||(Ln=Zr?an.from:je(an.to,-1),wr.begin<=Ln&&Ln<wr.end))return Hr(Ln,Zr)}},Zi=Gi(pe+G,G,Ht);if(Zi)return Zi;var ur=G>0?Ht.end:je(Ht.begin,-1);return ur!=null&&!(G>0&&ur==T.text.length)&&(Zi=Gi(G>0?0:te.length-1,G,ct(ur)),Zi)?Zi:null}var nd={selectAll:nm,singleSelection:function(w){return w.setSelection(w.getCursor("anchor"),w.getCursor("head"),mt)},killLine:function(w){return Ou(w,function(T){if(T.empty()){var W=Tr(w.doc,T.head.line).text.length;return T.head.ch==W&&T.head.line<w.lastLine()?{from:T.head,to:rr(T.head.line+1,0)}:{from:T.head,to:rr(T.head.line,W)}}else return{from:T.from(),to:T.to()}})},deleteLine:function(w){return Ou(w,function(T){return{from:rr(T.from().line,0),to:Cr(w.doc,rr(T.to().line+1,0))}})},delLineLeft:function(w){return Ou(w,function(T){return{from:rr(T.from().line,0),to:T.from()}})},delWrappedLineLeft:function(w){return Ou(w,function(T){var W=w.charCoords(T.head,"div").top+5,G=w.coordsChar({left:0,top:W},"div");return{from:G,to:T.from()}})},delWrappedLineRight:function(w){return Ou(w,function(T){var W=w.charCoords(T.head,"div").top+5,G=w.coordsChar({left:w.display.lineDiv.offsetWidth+100,top:W},"div");return{from:T.from(),to:G}})},undo:function(w){return w.undo()},redo:function(w){return w.redo()},undoSelection:function(w){return w.undoSelection()},redoSelection:function(w){return w.redoSelection()},goDocStart:function(w){return w.extendSelection(rr(w.firstLine(),0))},goDocEnd:function(w){return w.extendSelection(rr(w.lastLine()))},goLineStart:function(w){return w.extendSelectionsBy(function(T){return af(w,T.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(w){return w.extendSelectionsBy(function(T){return sd(w,T.head)},{origin:"+move",bias:1})},goLineEnd:function(w){return w.extendSelectionsBy(function(T){return x6(w,T.head.line)},{origin:"+move",bias:-1})},goLineRight:function(w){return w.extendSelectionsBy(function(T){var W=w.cursorCoords(T.head,"div").top+5;return w.coordsChar({left:w.display.lineDiv.offsetWidth+100,top:W},"div")},gt)},goLineLeft:function(w){return w.extendSelectionsBy(function(T){var W=w.cursorCoords(T.head,"div").top+5;return w.coordsChar({left:0,top:W},"div")},gt)},goLineLeftSmart:function(w){return w.extendSelectionsBy(function(T){var W=w.cursorCoords(T.head,"div").top+5,G=w.coordsChar({left:0,top:W},"div");return G.ch<w.getLine(G.line).search(/\S/)?sd(w,T.head):G},gt)},goLineUp:function(w){return w.moveV(-1,"line")},goLineDown:function(w){return w.moveV(1,"line")},goPageUp:function(w){return w.moveV(-1,"page")},goPageDown:function(w){return w.moveV(1,"page")},goCharLeft:function(w){return w.moveH(-1,"char")},goCharRight:function(w){return w.moveH(1,"char")},goColumnLeft:function(w){return w.moveH(-1,"column")},goColumnRight:function(w){return w.moveH(1,"column")},goWordLeft:function(w){return w.moveH(-1,"word")},goGroupRight:function(w){return w.moveH(1,"group")},goGroupLeft:function(w){return w.moveH(-1,"group")},goWordRight:function(w){return w.moveH(1,"word")},delCharBefore:function(w){return w.deleteH(-1,"codepoint")},delCharAfter:function(w){return w.deleteH(1,"char")},delWordBefore:function(w){return w.deleteH(-1,"word")},delWordAfter:function(w){return w.deleteH(1,"word")},delGroupBefore:function(w){return w.deleteH(-1,"group")},delGroupAfter:function(w){return w.deleteH(1,"group")},indentAuto:function(w){return w.indentSelection("smart")},indentMore:function(w){return w.indentSelection("add")},indentLess:function(w){return w.indentSelection("subtract")},insertTab:function(w){return w.replaceSelection("	")},insertSoftTab:function(w){for(var T=[],W=w.listSelections(),G=w.options.tabSize,te=0;te<W.length;te++){var pe=W[te].from(),De=ce(w.getLine(pe.line),pe.ch,G);T.push(Ft(G-De%G))}w.replaceSelections(T)},defaultTab:function(w){w.somethingSelected()?w.indentSelection("add"):w.execCommand("insertTab")},transposeChars:function(w){return wn(w,function(){for(var T=w.listSelections(),W=[],G=0;G<T.length;G++)if(!!T[G].empty()){var te=T[G].head,pe=Tr(w.doc,te.line).text;if(pe){if(te.ch==pe.length&&(te=new rr(te.line,te.ch-1)),te.ch>0)te=new rr(te.line,te.ch+1),w.replaceRange(pe.charAt(te.ch-1)+pe.charAt(te.ch-2),rr(te.line,te.ch-2),te,"+transpose");else if(te.line>w.doc.first){var De=Tr(w.doc,te.line-1).text;De&&(te=new rr(te.line,1),w.replaceRange(pe.charAt(0)+w.doc.lineSeparator()+De.charAt(De.length-1),rr(te.line-1,De.length-1),te,"+transpose"))}}W.push(new x0(te,te))}w.setSelections(W)})},newlineAndIndent:function(w){return wn(w,function(){for(var T=w.listSelections(),W=T.length-1;W>=0;W--)w.replaceRange(w.doc.lineSeparator(),T[W].anchor,T[W].head,"+input");T=w.listSelections();for(var G=0;G<T.length;G++)w.indentLine(T[G].from().line,null,!0);nf(w)})},openLine:function(w){return w.replaceSelection(`
`,"start")},toggleOverwrite:function(w){return w.toggleOverwrite()}};function af(w,T){var W=Tr(w.doc,T),G=Ka(W);return G!=W&&(T=rn(G)),zs(!0,w,G,T,1)}function x6(w,T){var W=Tr(w.doc,T),G=Ew(W);return G!=W&&(T=rn(G)),zs(!0,w,W,T,-1)}function sd(w,T){var W=af(w,T.line),G=Tr(w.doc,W.line),te=bt(G,w.doc.direction);if(!te||te[0].level==0){var pe=Math.max(W.ch,G.text.search(/\S/)),De=T.line==W.line&&T.ch<=pe&&T.ch;return rr(W.line,De?0:pe,W.sticky)}return W}function od(w,T,W){if(typeof T=="string"&&(T=nd[T],!T))return!1;w.display.input.ensurePolled();var G=w.display.shift,te=!1;try{w.isReadOnly()&&(w.state.suppressEdits=!0),W&&(w.display.shift=!1),te=T(w)!=Ye}finally{w.display.shift=G,w.state.suppressEdits=!1}return te}function am(w,T,W){for(var G=0;G<w.state.keyMaps.length;G++){var te=Ic(T,w.state.keyMaps[G],W,w);if(te)return te}return w.options.extraKeys&&Ic(T,w.options.extraKeys,W,w)||Ic(T,w.options.keyMap,W,w)}var E6=new Re;function Hu(w,T,W,G){var te=w.state.keySeq;if(te){if(my(T))return"handled";if(/\'$/.test(T)?w.state.keySeq=null:E6.set(50,function(){w.state.keySeq==te&&(w.state.keySeq=null,w.display.input.reset())}),lm(w,te+" "+T,W,G))return!0}return lm(w,T,W,G)}function lm(w,T,W,G){var te=am(w,T,G);return te=="multi"&&(w.state.keySeq=T),te=="handled"&&$s(w,"keyHandled",w,T,W),(te=="handled"||te=="multi")&&(gr(W),Oe(w)),!!te}function fm(w,T){var W=by(T,!0);return W?T.shiftKey&&!w.state.keySeq?Hu(w,"Shift-"+W,T,function(G){return od(w,G,!0)})||Hu(w,W,T,function(G){if(typeof G=="string"?/^go[A-Z]/.test(G):G.motion)return od(w,G)}):Hu(w,W,T,function(G){return od(w,G)}):!1}function _6(w,T,W){return Hu(w,"'"+W+"'",T,function(G){return od(w,G,!0)})}var L2=null;function um(w){var T=this;if(!(w.target&&w.target!=T.display.input.getField())&&(T.curOp.focus=de(),!Ot(T,w))){y&&A<11&&w.keyCode==27&&(w.returnValue=!1);var W=w.keyCode;T.display.shift=W==16||w.shiftKey;var G=fm(T,w);R&&(L2=G?W:null,!G&&W==88&&!Mt&&(ee?w.metaKey:w.ctrlKey)&&T.replaceSelection("",null,"cut")),i&&!ee&&!G&&W==46&&w.shiftKey&&!w.ctrlKey&&document.execCommand&&document.execCommand("cut"),W==18&&!/\bCodeMirror-crosshair\b/.test(T.display.lineDiv.className)&&k6(T)}}function k6(w){var T=w.display.lineDiv;Se(T,"CodeMirror-crosshair");function W(G){(G.keyCode==18||!G.altKey)&&(ae(T,"CodeMirror-crosshair"),Di(document,"keyup",W),Di(document,"mouseover",W))}It(document,"keyup",W),It(document,"mouseover",W)}function cm(w){w.keyCode==16&&(this.doc.sel.shift=!1),Ot(this,w)}function hm(w){var T=this;if(!(w.target&&w.target!=T.display.input.getField())&&!(rf(T.display,w)||Ot(T,w)||w.ctrlKey&&!w.altKey||ee&&w.metaKey)){var W=w.keyCode,G=w.charCode;if(R&&W==L2){L2=null,gr(w);return}if(!(R&&(!w.which||w.which<10)&&fm(T,w))){var te=String.fromCharCode(G==null?W:G);te!="\b"&&(_6(T,w,te)||T.display.input.onKeyPress(w))}}}var yy=400,dm=function(w,T,W){this.time=w,this.pos=T,this.button=W};dm.prototype.compare=function(w,T,W){return this.time+yy>w&&dt(T,this.pos)==0&&W==this.button};var ad,Dc;function Ay(w,T){var W=+new Date;return Dc&&Dc.compare(W,w,T)?(ad=Dc=null,"triple"):ad&&ad.compare(W,w,T)?(Dc=new dm(W,w,T),ad=null,"double"):(ad=new dm(W,w,T),Dc=null,"single")}function pm(w){var T=this,W=T.display;if(!(Ot(T,w)||W.activeTouch&&W.input.supportsTouch())){if(W.input.ensurePolled(),W.shift=w.shiftKey,rf(W,w)){E||(W.scroller.draggable=!1,setTimeout(function(){return W.scroller.draggable=!0},100));return}if(!N2(T,w)){var G=tl(T,w),te=ht(w),pe=G?Ay(G,te):"single";window.focus(),te==1&&T.state.selectingText&&T.state.selectingText(w),!(G&&vy(T,te,G,pe,w))&&(te==1?G?mm(T,G,pe,w):Ze(w)==W.scroller&&gr(w):te==2?(G&&Kh(T.doc,G),setTimeout(function(){return W.input.focus()},20)):te==3&&(xe?T.display.input.onContextMenu(w):vt(T)))}}}function vy(w,T,W,G,te){var pe="Click";return G=="double"?pe="Double"+pe:G=="triple"&&(pe="Triple"+pe),pe=(T==1?"Left":T==2?"Middle":"Right")+pe,Hu(w,gy(pe,te),te,function(De){if(typeof De=="string"&&(De=nd[De]),!De)return!1;var je=!1;try{w.isReadOnly()&&(w.state.suppressEdits=!0),je=De(w,W)!=Ye}finally{w.state.suppressEdits=!1}return je})}function wy(w,T,W){var G=w.getOption("configureMouse"),te=G?G(w,T,W):{};if(te.unit==null){var pe=ue?W.shiftKey&&W.metaKey:W.altKey;te.unit=pe?"rectangle":T=="single"?"char":T=="double"?"word":"line"}return(te.extend==null||w.doc.extend)&&(te.extend=w.doc.extend||W.shiftKey),te.addNew==null&&(te.addNew=ee?W.metaKey:W.ctrlKey),te.moveOnDrag==null&&(te.moveOnDrag=!(ee?W.altKey:W.ctrlKey)),te}function mm(w,T,W,G){y?setTimeout(nt(qe,w),0):w.curOp.focus=de();var te=wy(w,W,G),pe=w.doc.sel,De;w.options.dragDrop&&Ut&&!w.isReadOnly()&&W=="single"&&(De=pe.contains(T))>-1&&(dt((De=pe.ranges[De]).from(),T)<0||T.xRel>0)&&(dt(De.to(),T)>0||T.xRel<0)?C6(w,G,T,te):Ey(w,G,T,te)}function C6(w,T,W,G){var te=w.display,pe=!1,De=to(w,function(ct){E&&(te.scroller.draggable=!1),w.state.draggingText=!1,w.state.delayingBlurEvent&&(w.hasFocus()?w.state.delayingBlurEvent=!1:vt(w)),Di(te.wrapper.ownerDocument,"mouseup",De),Di(te.wrapper.ownerDocument,"mousemove",je),Di(te.scroller,"dragstart",tt),Di(te.scroller,"drop",De),pe||(gr(ct),G.addNew||Kh(w.doc,W,null,null,G.extend),E&&!P||y&&A==9?setTimeout(function(){te.wrapper.ownerDocument.body.focus({preventScroll:!0}),te.input.focus()},20):te.input.focus())}),je=function(ct){pe=pe||Math.abs(T.clientX-ct.clientX)+Math.abs(T.clientY-ct.clientY)>=10},tt=function(){return pe=!0};E&&(te.scroller.draggable=!0),w.state.draggingText=De,De.copy=!G.moveOnDrag,It(te.wrapper.ownerDocument,"mouseup",De),It(te.wrapper.ownerDocument,"mousemove",je),It(te.scroller,"dragstart",tt),It(te.scroller,"drop",De),w.state.delayingBlurEvent=!0,setTimeout(function(){return te.input.focus()},20),te.scroller.dragDrop&&te.scroller.dragDrop()}function xy(w,T,W){if(W=="char")return new x0(T,T);if(W=="word")return w.findWordAt(T);if(W=="line")return new x0(rr(T.line,0),Cr(w.doc,rr(T.line+1,0)));var G=W(w,T);return new x0(G.from,G.to)}function Ey(w,T,W,G){y&&vt(w);var te=w.display,pe=w.doc;gr(T);var De,je,tt=pe.sel,ct=tt.ranges;if(G.addNew&&!G.extend?(je=pe.sel.contains(W),je>-1?De=ct[je]:De=new x0(W,W)):(De=pe.sel.primary(),je=pe.sel.primIndex),G.unit=="rectangle")G.addNew||(De=new x0(W,W)),W=tl(w,T,!0,!0),je=-1;else{var Ht=xy(w,W,G.unit);G.extend?De=S2(De,Ht.anchor,Ht.head,G.extend):De=Ht}G.addNew?je==-1?(je=ct.length,co(pe,Cs(w,ct.concat([De]),je),{scroll:!1,origin:"*mouse"})):ct.length>1&&ct[je].empty()&&G.unit=="char"&&!G.extend?(co(pe,Cs(w,ct.slice(0,je).concat(ct.slice(je+1)),0),{scroll:!1,origin:"*mouse"}),tt=pe.sel):$1(pe,je,De,$e):(je=0,co(pe,new uo([De],0),$e),tt=pe.sel);var Zt=W;function Ai(wr){if(dt(Zt,wr)!=0)if(Zt=wr,G.unit=="rectangle"){for(var Hr=[],an=w.options.tabSize,Zr=ce(Tr(pe,W.line).text,W.ch,an),Ln=ce(Tr(pe,wr.line).text,wr.ch,an),G0=Math.min(Zr,Ln),Ws=Math.max(Zr,Ln),cs=Math.min(W.line,wr.line),K0=Math.min(w.lastLine(),Math.max(W.line,wr.line));cs<=K0;cs++){var Jo=Tr(pe,cs).text,Ss=kt(Jo,G0,an);G0==Ws?Hr.push(new x0(rr(cs,Ss),rr(cs,Ss))):Jo.length>Ss&&Hr.push(new x0(rr(cs,Ss),rr(cs,kt(Jo,Ws,an))))}Hr.length||Hr.push(new x0(W,W)),co(pe,Cs(w,tt.ranges.slice(0,je).concat(Hr),je),{origin:"*mouse",scroll:!1}),w.scrollIntoView(wr)}else{var Do=De,$0=xy(w,wr,G.unit),Ps=Do.anchor,Ls;dt($0.anchor,Ps)>0?(Ls=$0.head,Ps=dn(Do.from(),$0.anchor)):(Ls=$0.anchor,Ps=$i(Do.to(),$0.head));var ys=tt.ranges.slice(0);ys[je]=S6(w,new x0(Cr(pe,Ps),Ls)),co(pe,Cs(w,ys,je),$e)}}var hi=te.wrapper.getBoundingClientRect(),Gi=0;function Zi(wr){var Hr=++Gi,an=tl(w,wr,!0,G.unit=="rectangle");if(!!an)if(dt(an,Zt)!=0){w.curOp.focus=de(),Ai(an);var Zr=Nr(te,pe);(an.line>=Zr.to||an.line<Zr.from)&&setTimeout(to(w,function(){Gi==Hr&&Zi(wr)}),150)}else{var Ln=wr.clientY<hi.top?-20:wr.clientY>hi.bottom?20:0;Ln&&setTimeout(to(w,function(){Gi==Hr&&(te.scroller.scrollTop+=Ln,Zi(wr))}),50)}}function ur(wr){w.state.selectingText=!1,Gi=1/0,wr&&(gr(wr),te.input.focus()),Di(te.wrapper.ownerDocument,"mousemove",xr),Di(te.wrapper.ownerDocument,"mouseup",Rr),pe.history.lastSelOrigin=null}var xr=to(w,function(wr){wr.buttons===0||!ht(wr)?ur(wr):Zi(wr)}),Rr=to(w,ur);w.state.selectingText=Rr,It(te.wrapper.ownerDocument,"mousemove",xr),It(te.wrapper.ownerDocument,"mouseup",Rr)}function S6(w,T){var W=T.anchor,G=T.head,te=Tr(w.doc,W.line);if(dt(W,G)==0&&W.sticky==G.sticky)return T;var pe=bt(te);if(!pe)return T;var De=Pe(pe,W.ch,W.sticky),je=pe[De];if(je.from!=W.ch&&je.to!=W.ch)return T;var tt=De+(je.from==W.ch==(je.level!=1)?0:1);if(tt==0||tt==pe.length)return T;var ct;if(G.line!=W.line)ct=(G.line-W.line)*(w.doc.direction=="ltr"?1:-1)>0;else{var Ht=Pe(pe,G.ch,G.sticky),Zt=Ht-De||(G.ch-W.ch)*(je.level==1?-1:1);Ht==tt-1||Ht==tt?ct=Zt<0:ct=Zt>0}var Ai=pe[tt+(ct?-1:0)],hi=ct==(Ai.level==1),Gi=hi?Ai.from:Ai.to,Zi=hi?"after":"before";return W.ch==Gi&&W.sticky==Zi?T:new x0(new rr(W.line,Gi,Zi),G)}function _y(w,T,W,G){var te,pe;if(T.touches)te=T.touches[0].clientX,pe=T.touches[0].clientY;else try{te=T.clientX,pe=T.clientY}catch{return!1}if(te>=Math.floor(w.display.gutters.getBoundingClientRect().right))return!1;G&&gr(T);var De=w.display,je=De.lineDiv.getBoundingClientRect();if(pe>je.bottom||!Ti(w,W))return mr(T);pe-=je.top-De.viewOffset;for(var tt=0;tt<w.display.gutterSpecs.length;++tt){var ct=De.gutters.childNodes[tt];if(ct&&ct.getBoundingClientRect().right>=te){var Ht=Z0(w.doc,pe),Zt=w.display.gutterSpecs[tt];return Tt(w,W,w,Ht,Zt.className,T),mr(T)}}}function N2(w,T){return _y(w,T,"gutterClick",!0)}function F2(w,T){rf(w.display,T)||T6(w,T)||Ot(w,T,"contextmenu")||xe||w.display.input.onContextMenu(T)}function T6(w,T){return Ti(w,"gutterContextMenu")?_y(w,T,"gutterContextMenu",!1):!1}function ld(w){w.display.wrapper.className=w.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+w.options.theme.replace(/(^|\s)\s*/g," cm-s-"),jf(w)}var Pc={toString:function(){return"CodeMirror.Init"}},gm={},O2={};function Lc(w){var T=w.optionHandlers;function W(G,te,pe,De){w.defaults[G]=te,pe&&(T[G]=De?function(je,tt,ct){ct!=Pc&&pe(je,tt,ct)}:pe)}w.defineOption=W,w.Init=Pc,W("value","",function(G,te){return G.setValue(te)},!0),W("mode",null,function(G,te){G.doc.modeOption=te,q1(G)},!0),W("indentUnit",2,q1,!0),W("indentWithTabs",!1),W("smartIndent",!0),W("tabSize",4,function(G){Zh(G),jf(G),Gn(G)},!0),W("lineSeparator",null,function(G,te){if(G.doc.lineSep=te,!!te){var pe=[],De=G.doc.first;G.doc.iter(function(tt){for(var ct=0;;){var Ht=tt.text.indexOf(te,ct);if(Ht==-1)break;ct=Ht+te.length,pe.push(rr(De,Ht))}De++});for(var je=pe.length-1;je>=0;je--)Tc(G.doc,te,pe[je],rr(pe[je].line,pe[je].ch+te.length))}}),W("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(G,te,pe){G.state.specialChars=new RegExp(te.source+(te.test("	")?"":"|	"),"g"),pe!=Pc&&G.refresh()}),W("specialCharPlaceholder",Mw,function(G){return G.refresh()},!0),W("electricChars",!0),W("inputStyle",Y?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),W("spellcheck",!1,function(G,te){return G.getInputField().spellcheck=te},!0),W("autocorrect",!1,function(G,te){return G.getInputField().autocorrect=te},!0),W("autocapitalize",!1,function(G,te){return G.getInputField().autocapitalize=te},!0),W("rtlMoveVisually",!oe),W("wholeLineUpdateBefore",!0),W("theme","default",function(G){ld(G),qh(G)},!0),W("keyMap","default",function(G,te,pe){var De=I2(te),je=pe!=Pc&&I2(pe);je&&je.detach&&je.detach(G,De),De.attach&&De.attach(G,je||null)}),W("extraKeys",null),W("configureMouse",null),W("lineWrapping",!1,ky,!0),W("gutters",[],function(G,te){G.display.gutterSpecs=W1(te,G.options.lineNumbers),qh(G)},!0),W("fixedGutter",!0,function(G,te){G.display.gutters.style.left=te?Ec(G.display)+"px":"0",G.refresh()},!0),W("coverGutterNextToScrollbar",!1,function(G){return kc(G)},!0),W("scrollbarStyle","native",function(G){f0(G),kc(G),G.display.scrollbars.setScrollTop(G.doc.scrollTop),G.display.scrollbars.setScrollLeft(G.doc.scrollLeft)},!0),W("lineNumbers",!1,function(G,te){G.display.gutterSpecs=W1(G.options.gutters,te),qh(G)},!0),W("firstLineNumber",1,qh,!0),W("lineNumberFormatter",function(G){return G},qh,!0),W("showCursorWhenSelecting",!1,oa,!0),W("resetSelectionOnContextMenu",!0),W("lineWiseCopyCut",!0),W("pasteLinesPerSelection",!0),W("selectionsMayTouch",!1),W("readOnly",!1,function(G,te){te=="nocursor"&&(Z(G),G.display.input.blur()),G.display.input.readOnlyChanged(te)}),W("screenReaderLabel",null,function(G,te){te=te===""?null:te,G.display.input.screenReaderLabelChanged(te)}),W("disableInput",!1,function(G,te){te||G.display.input.reset()},!0),W("dragDrop",!0,M6),W("allowDropFileTypes",null),W("cursorBlinkRate",530),W("cursorScrollMargin",0),W("cursorHeight",1,oa,!0),W("singleCursorHeightPerLine",!0,oa,!0),W("workTime",100),W("workDelay",100),W("flattenSpans",!0,Zh,!0),W("addModeClass",!1,Zh,!0),W("pollInterval",100),W("undoDepth",200,function(G,te){return G.doc.history.undoDepth=te}),W("historyEventDelay",1250),W("viewportMargin",10,function(G){return G.refresh()},!0),W("maxHighlightLength",1e4,Zh,!0),W("moveInputWithCursor",!0,function(G,te){te||G.display.input.resetPosition()}),W("tabindex",null,function(G,te){return G.display.input.getField().tabIndex=te||""}),W("autofocus",null),W("direction","ltr",function(G,te){return G.doc.setDirection(te)},!0),W("phrases",null)}function M6(w,T,W){var G=W&&W!=Pc;if(!T!=!G){var te=w.display.dragFunctions,pe=T?It:Di;pe(w.display.scroller,"dragstart",te.start),pe(w.display.scroller,"dragenter",te.enter),pe(w.display.scroller,"dragover",te.over),pe(w.display.scroller,"dragleave",te.leave),pe(w.display.scroller,"drop",te.drop)}}function ky(w){w.options.lineWrapping?(Se(w.display.wrapper,"CodeMirror-wrap"),w.display.sizer.style.minWidth="",w.display.sizerWidth=null):(ae(w.display.wrapper,"CodeMirror-wrap"),P1(w)),zf(w),Gn(w),jf(w),setTimeout(function(){return kc(w)},100)}function Y0(w,T){var W=this;if(!(this instanceof Y0))return new Y0(w,T);this.options=T=T?He(T):{},He(gm,T,!1);var G=T.value;typeof G=="string"?G=new Qo(G,T.mode,null,T.lineSeparator,T.direction):T.mode&&(G.modeOption=T.mode),this.doc=G;var te=new Y0.inputStyles[T.inputStyle](this),pe=this.display=new r6(w,G,te,T);pe.wrapper.CodeMirror=this,ld(this),T.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),f0(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Re,keySeq:null,specialChars:null},T.autofocus&&!Y&&pe.input.focus(),y&&A<11&&setTimeout(function(){return W.display.input.reset(!0)},20),Cy(this),y6(),_i(this),this.curOp.forceUpdate=!0,Yb(this,G),T.autofocus&&!Y||this.hasFocus()?setTimeout(function(){W.hasFocus()&&!W.state.focused&&Xt(W)},20):Z(this);for(var De in O2)O2.hasOwnProperty(De)&&O2[De](this,T[De],Pc);Qb(this),T.finishInit&&T.finishInit(this);for(var je=0;je<bm.length;++je)bm[je](this);i0(this),E&&T.lineWrapping&&getComputedStyle(pe.lineDiv).textRendering=="optimizelegibility"&&(pe.lineDiv.style.textRendering="auto")}Y0.defaults=gm,Y0.optionHandlers=O2;function Cy(w){var T=w.display;It(T.scroller,"mousedown",to(w,pm)),y&&A<11?It(T.scroller,"dblclick",to(w,function(tt){if(!Ot(w,tt)){var ct=tl(w,tt);if(!(!ct||N2(w,tt)||rf(w.display,tt))){gr(tt);var Ht=w.findWordAt(ct);Kh(w.doc,Ht.anchor,Ht.head)}}})):It(T.scroller,"dblclick",function(tt){return Ot(w,tt)||gr(tt)}),It(T.scroller,"contextmenu",function(tt){return F2(w,tt)}),It(T.input.getField(),"contextmenu",function(tt){T.scroller.contains(tt.target)||F2(w,tt)});var W,G={end:0};function te(){T.activeTouch&&(W=setTimeout(function(){return T.activeTouch=null},1e3),G=T.activeTouch,G.end=+new Date)}function pe(tt){if(tt.touches.length!=1)return!1;var ct=tt.touches[0];return ct.radiusX<=1&&ct.radiusY<=1}function De(tt,ct){if(ct.left==null)return!0;var Ht=ct.left-tt.left,Zt=ct.top-tt.top;return Ht*Ht+Zt*Zt>20*20}It(T.scroller,"touchstart",function(tt){if(!Ot(w,tt)&&!pe(tt)&&!N2(w,tt)){T.input.ensurePolled(),clearTimeout(W);var ct=+new Date;T.activeTouch={start:ct,moved:!1,prev:ct-G.end<=300?G:null},tt.touches.length==1&&(T.activeTouch.left=tt.touches[0].pageX,T.activeTouch.top=tt.touches[0].pageY)}}),It(T.scroller,"touchmove",function(){T.activeTouch&&(T.activeTouch.moved=!0)}),It(T.scroller,"touchend",function(tt){var ct=T.activeTouch;if(ct&&!rf(T,tt)&&ct.left!=null&&!ct.moved&&new Date-ct.start<300){var Ht=w.coordsChar(T.activeTouch,"page"),Zt;!ct.prev||De(ct,ct.prev)?Zt=new x0(Ht,Ht):!ct.prev.prev||De(ct,ct.prev.prev)?Zt=w.findWordAt(Ht):Zt=new x0(rr(Ht.line,0),Cr(w.doc,rr(Ht.line+1,0))),w.setSelection(Zt.anchor,Zt.head),w.focus(),gr(tt)}te()}),It(T.scroller,"touchcancel",te),It(T.scroller,"scroll",function(){T.scroller.clientHeight&&(Pu(w,T.scroller.scrollTop),En(w,T.scroller.scrollLeft,!0),Tt(w,"scroll",w))}),It(T.scroller,"mousewheel",function(tt){return Jb(w,tt)}),It(T.scroller,"DOMMouseScroll",function(tt){return Jb(w,tt)}),It(T.wrapper,"scroll",function(){return T.wrapper.scrollTop=T.wrapper.scrollLeft=0}),T.dragFunctions={enter:function(tt){Ot(w,tt)||Fe(tt)},over:function(tt){Ot(w,tt)||(b6(w,tt),Fe(tt))},start:function(tt){return g6(w,tt)},drop:to(w,m6),leave:function(tt){Ot(w,tt)||cy(w)}};var je=T.input.getField();It(je,"keyup",function(tt){return cm.call(w,tt)}),It(je,"keydown",to(w,um)),It(je,"keypress",to(w,hm)),It(je,"focus",function(tt){return Xt(w,tt)}),It(je,"blur",function(tt){return Z(w,tt)})}var bm=[];Y0.defineInitHook=function(w){return bm.push(w)};function fd(w,T,W,G){var te=w.doc,pe;W==null&&(W="add"),W=="smart"&&(te.mode.indent?pe=Hh(w,T).state:W="prev");var De=w.options.tabSize,je=Tr(te,T),tt=ce(je.text,null,De);je.stateAfter&&(je.stateAfter=null);var ct=je.text.match(/^\s*/)[0],Ht;if(!G&&!/\S/.test(je.text))Ht=0,W="not";else if(W=="smart"&&(Ht=te.mode.indent(pe,je.text.slice(ct.length),je.text),Ht==Ye||Ht>150)){if(!G)return;W="prev"}W=="prev"?T>te.first?Ht=ce(Tr(te,T-1).text,null,De):Ht=0:W=="add"?Ht=tt+w.options.indentUnit:W=="subtract"?Ht=tt-w.options.indentUnit:typeof W=="number"&&(Ht=tt+W),Ht=Math.max(0,Ht);var Zt="",Ai=0;if(w.options.indentWithTabs)for(var hi=Math.floor(Ht/De);hi;--hi)Ai+=De,Zt+="	";if(Ai<Ht&&(Zt+=Ft(Ht-Ai)),Zt!=ct)return Tc(te,Zt,rr(T,0),rr(T,ct.length),"+input"),je.stateAfter=null,!0;for(var Gi=0;Gi<te.sel.ranges.length;Gi++){var Zi=te.sel.ranges[Gi];if(Zi.head.line==T&&Zi.head.ch<ct.length){var ur=rr(T,ct.length);$1(te,Gi,new x0(ur,ur));break}}}var sl=null;function ud(w){sl=w}function ym(w,T,W,G,te){var pe=w.doc;w.display.shift=!1,G||(G=pe.sel);var De=+new Date-200,je=te=="paste"||w.state.pasteIncoming>De,tt=nr(T),ct=null;if(je&&G.ranges.length>1)if(sl&&sl.text.join(`
`)==T){if(G.ranges.length%sl.text.length==0){ct=[];for(var Ht=0;Ht<sl.text.length;Ht++)ct.push(pe.splitLines(sl.text[Ht]))}}else tt.length==G.ranges.length&&w.options.pasteLinesPerSelection&&(ct=$t(tt,function(xr){return[xr]}));for(var Zt=w.curOp.updateInput,Ai=G.ranges.length-1;Ai>=0;Ai--){var hi=G.ranges[Ai],Gi=hi.from(),Zi=hi.to();hi.empty()&&(W&&W>0?Gi=rr(Gi.line,Gi.ch-W):w.state.overwrite&&!je?Zi=rr(Zi.line,Math.min(Tr(pe,Zi.line).text.length,Zi.ch+Yt(tt).length)):je&&sl&&sl.lineWise&&sl.text.join(`
`)==tt.join(`
`)&&(Gi=Zi=rr(Gi.line,0)));var ur={from:Gi,to:Zi,text:ct?ct[Ai%ct.length]:tt,origin:te||(je?"paste":w.state.cutIncoming>De?"cut":"+input")};Nu(w.doc,ur),$s(w,"inputRead",w,ur)}T&&!je&&Am(w,T),nf(w),w.curOp.updateInput<2&&(w.curOp.updateInput=Zt),w.curOp.typing=!0,w.state.pasteIncoming=w.state.cutIncoming=-1}function Aa(w,T){var W=w.clipboardData&&w.clipboardData.getData("Text");if(W)return w.preventDefault(),!T.isReadOnly()&&!T.options.disableInput&&wn(T,function(){return ym(T,W,0,null,"paste")}),!0}function Am(w,T){if(!(!w.options.electricChars||!w.options.smartIndent))for(var W=w.doc.sel,G=W.ranges.length-1;G>=0;G--){var te=W.ranges[G];if(!(te.head.ch>100||G&&W.ranges[G-1].head.line==te.head.line)){var pe=w.getModeAt(te.head),De=!1;if(pe.electricChars){for(var je=0;je<pe.electricChars.length;je++)if(T.indexOf(pe.electricChars.charAt(je))>-1){De=fd(w,te.head.line,"smart");break}}else pe.electricInput&&pe.electricInput.test(Tr(w.doc,te.head.line).text.slice(0,te.head.ch))&&(De=fd(w,te.head.line,"smart"));De&&$s(w,"electricInput",w,te.head.line)}}}function Sy(w){for(var T=[],W=[],G=0;G<w.doc.sel.ranges.length;G++){var te=w.doc.sel.ranges[G].head.line,pe={anchor:rr(te,0),head:rr(te+1,0)};W.push(pe),T.push(w.getRange(pe.anchor,pe.head))}return{text:T,ranges:W}}function Ty(w,T,W,G){w.setAttribute("autocorrect",W?"":"off"),w.setAttribute("autocapitalize",G?"":"off"),w.setAttribute("spellcheck",!!T)}function Nc(){var w=we("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),T=we("div",[w],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return E?w.style.width="1000px":w.setAttribute("wrap","off"),H&&(w.style.border="1px solid black"),Ty(w),T}function R6(w){var T=w.optionHandlers,W=w.helpers={};w.prototype={constructor:w,focus:function(){window.focus(),this.display.input.focus()},setOption:function(G,te){var pe=this.options,De=pe[G];pe[G]==te&&G!="mode"||(pe[G]=te,T.hasOwnProperty(G)&&to(this,T[G])(this,te,De),Tt(this,"optionChange",this,G))},getOption:function(G){return this.options[G]},getDoc:function(){return this.doc},addKeyMap:function(G,te){this.state.keyMaps[te?"push":"unshift"](I2(G))},removeKeyMap:function(G){for(var te=this.state.keyMaps,pe=0;pe<te.length;++pe)if(te[pe]==G||te[pe].name==G)return te.splice(pe,1),!0},addOverlay:yn(function(G,te){var pe=G.token?G:w.getMode(this.options,G);if(pe.startState)throw new Error("Overlays may not be stateful.");vi(this.state.overlays,{mode:pe,modeSpec:G,opaque:te&&te.opaque,priority:te&&te.priority||0},function(De){return De.priority}),this.state.modeGen++,Gn(this)}),removeOverlay:yn(function(G){for(var te=this.state.overlays,pe=0;pe<te.length;++pe){var De=te[pe].modeSpec;if(De==G||typeof G=="string"&&De.name==G){te.splice(pe,1),this.state.modeGen++,Gn(this);return}}}),indentLine:yn(function(G,te,pe){typeof te!="string"&&typeof te!="number"&&(te==null?te=this.options.smartIndent?"smart":"prev":te=te?"add":"subtract"),Vs(this.doc,G)&&fd(this,G,te,pe)}),indentSelection:yn(function(G){for(var te=this.doc.sel.ranges,pe=-1,De=0;De<te.length;De++){var je=te[De];if(je.empty())je.head.line>pe&&(fd(this,je.head.line,G,!0),pe=je.head.line,De==this.doc.sel.primIndex&&nf(this));else{var tt=je.from(),ct=je.to(),Ht=Math.max(pe,tt.line);pe=Math.min(this.lastLine(),ct.line-(ct.ch?0:1))+1;for(var Zt=Ht;Zt<pe;++Zt)fd(this,Zt,G);var Ai=this.doc.sel.ranges;tt.ch==0&&te.length==Ai.length&&Ai[De].from().ch>0&&$1(this.doc,De,new x0(tt,Ai[De].to()),mt)}}}),getTokenAt:function(G,te){return qi(this,G,te)},getLineTokens:function(G,te){return qi(this,rr(G),te,!0)},getTokenTypeAt:function(G){G=Cr(this.doc,G);var te=db(this,Tr(this.doc,G.line)),pe=0,De=(te.length-1)/2,je=G.ch,tt;if(je==0)tt=te[2];else for(;;){var ct=pe+De>>1;if((ct?te[ct*2-1]:0)>=je)De=ct;else if(te[ct*2+1]<je)pe=ct+1;else{tt=te[ct*2+2];break}}var Ht=tt?tt.indexOf("overlay "):-1;return Ht<0?tt:Ht==0?null:tt.slice(0,Ht-1)},getModeAt:function(G){var te=this.doc.mode;return te.innerMode?w.innerMode(te,this.getTokenAt(G).state).mode:te},getHelper:function(G,te){return this.getHelpers(G,te)[0]},getHelpers:function(G,te){var pe=[];if(!W.hasOwnProperty(te))return pe;var De=W[te],je=this.getModeAt(G);if(typeof je[te]=="string")De[je[te]]&&pe.push(De[je[te]]);else if(je[te])for(var tt=0;tt<je[te].length;tt++){var ct=De[je[te][tt]];ct&&pe.push(ct)}else je.helperType&&De[je.helperType]?pe.push(De[je.helperType]):De[je.name]&&pe.push(De[je.name]);for(var Ht=0;Ht<De._global.length;Ht++){var Zt=De._global[Ht];Zt.pred(je,this)&&lt(pe,Zt.val)==-1&&pe.push(Zt.val)}return pe},getStateAfter:function(G,te){var pe=this.doc;return G=jn(pe,G==null?pe.first+pe.size-1:G),Hh(this,G+1,te).state},cursorCoords:function(G,te){var pe,De=this.doc.sel.primary();return G==null?pe=De.head:typeof G=="object"?pe=Cr(this.doc,G):pe=G?De.from():De.to(),$a(this,pe,te||"page")},charCoords:function(G,te){return Gf(this,Cr(this.doc,G),te||"page")},coordsChar:function(G,te){return G=U1(this,G,te||"page"),el(this,G.left,G.top)},lineAtHeight:function(G,te){return G=U1(this,{top:G,left:0},te||"page").top,Z0(this.doc,G+this.display.viewOffset)},heightAtLine:function(G,te,pe){var De=!1,je;if(typeof G=="number"){var tt=this.doc.first+this.doc.size-1;G<this.doc.first?G=this.doc.first:G>tt&&(G=tt,De=!0),je=Tr(this.doc,G)}else je=G;return vc(this,je,{top:0,left:0},te||"page",pe||De).top+(De?this.doc.height-tf(je):0)},defaultTextHeight:function(){return wc(this.display)},defaultCharWidth:function(){return en(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(G,te,pe,De,je){var tt=this.display;G=$a(this,Cr(this.doc,G));var ct=G.bottom,Ht=G.left;if(te.style.position="absolute",te.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(te),tt.sizer.appendChild(te),De=="over")ct=G.top;else if(De=="above"||De=="near"){var Zt=Math.max(tt.wrapper.clientHeight,this.doc.height),Ai=Math.max(tt.sizer.clientWidth,tt.lineSpace.clientWidth);(De=="above"||G.bottom+te.offsetHeight>Zt)&&G.top>te.offsetHeight?ct=G.top-te.offsetHeight:G.bottom+te.offsetHeight<=Zt&&(ct=G.bottom),Ht+te.offsetWidth>Ai&&(Ht=Ai-te.offsetWidth)}te.style.top=ct+"px",te.style.left=te.style.right="",je=="right"?(Ht=tt.sizer.clientWidth-te.offsetWidth,te.style.right="0px"):(je=="left"?Ht=0:je=="middle"&&(Ht=(tt.sizer.clientWidth-te.offsetWidth)/2),te.style.left=Ht+"px"),pe&&yi(this,{left:Ht,top:ct,right:Ht+te.offsetWidth,bottom:ct+te.offsetHeight})},triggerOnKeyDown:yn(um),triggerOnKeyPress:yn(hm),triggerOnKeyUp:cm,triggerOnMouseDown:yn(pm),execCommand:function(G){if(nd.hasOwnProperty(G))return nd[G].call(null,this)},triggerElectric:yn(function(G){Am(this,G)}),findPosH:function(G,te,pe,De){var je=1;te<0&&(je=-1,te=-te);for(var tt=Cr(this.doc,G),ct=0;ct<te&&(tt=vm(this.doc,tt,je,pe,De),!tt.hitSide);++ct);return tt},moveH:yn(function(G,te){var pe=this;this.extendSelectionsBy(function(De){return pe.display.shift||pe.doc.extend||De.empty()?vm(pe.doc,De.head,G,te,pe.options.rtlMoveVisually):G<0?De.from():De.to()},gt)}),deleteH:yn(function(G,te){var pe=this.doc.sel,De=this.doc;pe.somethingSelected()?De.replaceSelection("",null,"+delete"):Ou(this,function(je){var tt=vm(De,je.head,G,te,!1);return G<0?{from:tt,to:je.head}:{from:je.head,to:tt}})}),findPosV:function(G,te,pe,De){var je=1,tt=De;te<0&&(je=-1,te=-te);for(var ct=Cr(this.doc,G),Ht=0;Ht<te;++Ht){var Zt=$a(this,ct,"div");if(tt==null?tt=Zt.left:Zt.left=tt,ct=wm(this,Zt,je,pe),ct.hitSide)break}return ct},moveV:yn(function(G,te){var pe=this,De=this.doc,je=[],tt=!this.display.shift&&!De.extend&&De.sel.somethingSelected();if(De.extendSelectionsBy(function(Ht){if(tt)return G<0?Ht.from():Ht.to();var Zt=$a(pe,Ht.head,"div");Ht.goalColumn!=null&&(Zt.left=Ht.goalColumn),je.push(Zt.left);var Ai=wm(pe,Zt,G,te);return te=="page"&&Ht==De.sel.primary()&&aa(pe,Gf(pe,Ai,"div").top-Zt.top),Ai},gt),je.length)for(var ct=0;ct<De.sel.ranges.length;ct++)De.sel.ranges[ct].goalColumn=je[ct]}),findWordAt:function(G){var te=this.doc,pe=Tr(te,G.line).text,De=G.ch,je=G.ch;if(pe){var tt=this.getHelper(G,"wordChars");(G.sticky=="before"||je==pe.length)&&De?--De:++je;for(var ct=pe.charAt(De),Ht=Ct(ct,tt)?function(Zt){return Ct(Zt,tt)}:/\s/.test(ct)?function(Zt){return/\s/.test(Zt)}:function(Zt){return!/\s/.test(Zt)&&!Ct(Zt)};De>0&&Ht(pe.charAt(De-1));)--De;for(;je<pe.length&&Ht(pe.charAt(je));)++je}return new x0(rr(G.line,De),rr(G.line,je))},toggleOverwrite:function(G){G!=null&&G==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Se(this.display.cursorDiv,"CodeMirror-overwrite"):ae(this.display.cursorDiv,"CodeMirror-overwrite"),Tt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==de()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:yn(function(G,te){_c(this,G,te)}),getScrollInfo:function(){var G=this.display.scroller;return{left:G.scrollLeft,top:G.scrollTop,height:G.scrollHeight-Il(this)-this.display.barHeight,width:G.scrollWidth-Il(this)-this.display.barWidth,clientHeight:F1(this),clientWidth:Iu(this)}},scrollIntoView:yn(function(G,te){G==null?(G={from:this.doc.sel.primary().head,to:null},te==null&&(te=this.options.cursorScrollMargin)):typeof G=="number"?G={from:rr(G,0),to:null}:G.from==null&&(G={from:G,to:null}),G.to||(G.to=G.from),G.margin=te||0,G.from.line!=null?br(this,G):L0(this,G.from,G.to,G.margin)}),setSize:yn(function(G,te){var pe=this,De=function(tt){return typeof tt=="number"||/^\d+$/.test(String(tt))?tt+"px":tt};G!=null&&(this.display.wrapper.style.width=De(G)),te!=null&&(this.display.wrapper.style.height=De(te)),this.options.lineWrapping&&Vb(this);var je=this.display.viewFrom;this.doc.iter(je,this.display.viewTo,function(tt){if(tt.widgets){for(var ct=0;ct<tt.widgets.length;ct++)if(tt.widgets[ct].noHScroll){A0(pe,je,"widget");break}}++je}),this.curOp.forceUpdate=!0,Tt(this,"refresh",this)}),operation:function(G){return wn(this,G)},startOperation:function(){return _i(this)},endOperation:function(){return i0(this)},refresh:yn(function(){var G=this.display.cachedTextHeight;Gn(this),this.curOp.forceUpdate=!0,jf(this),_c(this,this.doc.scrollLeft,this.doc.scrollTop),Ar(this.display),(G==null||Math.abs(G-wc(this.display))>.5||this.options.lineWrapping)&&zf(this),Tt(this,"refresh",this)}),swapDoc:yn(function(G){var te=this.doc;return te.cm=null,this.state.selectingText&&this.state.selectingText(),Yb(this,G),jf(this),this.display.input.reset(),_c(this,G.scrollLeft,G.scrollTop),this.curOp.forceScroll=!0,$s(this,"swapDoc",this,te),te}),phrase:function(G){var te=this.options.phrases;return te&&Object.prototype.hasOwnProperty.call(te,G)?te[G]:G},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ui(w),w.registerHelper=function(G,te,pe){W.hasOwnProperty(G)||(W[G]=w[G]={_global:[]}),W[G][te]=pe},w.registerGlobalHelper=function(G,te,pe,De){w.registerHelper(G,te,De),W[G]._global.push({pred:pe,val:De})}}function vm(w,T,W,G,te){var pe=T,De=W,je=Tr(w,T.line),tt=te&&w.direction=="rtl"?-W:W;function ct(){var Rr=T.line+tt;return Rr<w.first||Rr>=w.first+w.size?!1:(T=new rr(Rr,T.ch,T.sticky),je=Tr(w,Rr))}function Ht(Rr){var wr;if(G=="codepoint"){var Hr=je.text.charCodeAt(T.ch+(W>0?0:-1));if(isNaN(Hr))wr=null;else{var an=W>0?Hr>=55296&&Hr<56320:Hr>=56320&&Hr<57343;wr=new rr(T.line,Math.max(0,Math.min(je.text.length,T.ch+W*(an?2:1))),-W)}}else te?wr=vr(w.cm,je,T,W):wr=P2(je,T,W);if(wr==null)if(!Rr&&ct())T=zs(te,w.cm,je,T.line,tt);else return!1;else T=wr;return!0}if(G=="char"||G=="codepoint")Ht();else if(G=="column")Ht(!0);else if(G=="word"||G=="group")for(var Zt=null,Ai=G=="group",hi=w.cm&&w.cm.getHelper(T,"wordChars"),Gi=!0;!(W<0&&!Ht(!Gi));Gi=!1){var Zi=je.text.charAt(T.ch)||`
`,ur=Ct(Zi,hi)?"w":Ai&&Zi==`
`?"n":!Ai||/\s/.test(Zi)?null:"p";if(Ai&&!Gi&&!ur&&(ur="s"),Zt&&Zt!=ur){W<0&&(W=1,Ht(),T.sticky="after");break}if(ur&&(Zt=ur),W>0&&!Ht(!Gi))break}var xr=Xf(w,T,pe,De,!0);return Jt(pe,xr)&&(xr.hitSide=!0),xr}function wm(w,T,W,G){var te=w.doc,pe=T.left,De;if(G=="page"){var je=Math.min(w.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),tt=Math.max(je-.5*wc(w.display),3);De=(W>0?T.bottom:T.top)+W*tt}else G=="line"&&(De=W>0?T.bottom+3:T.top-3);for(var ct;ct=el(w,pe,De),!!ct.outside;){if(W<0?De<=0:De>=te.height){ct.hitSide=!0;break}De+=W*5}return ct}var E0=function(w){this.cm=w,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Re,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};E0.prototype.init=function(w){var T=this,W=this,G=W.cm,te=W.div=w.lineDiv;te.contentEditable=!0,Ty(te,G.options.spellcheck,G.options.autocorrect,G.options.autocapitalize);function pe(je){for(var tt=je.target;tt;tt=tt.parentNode){if(tt==te)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(tt.className))break}return!1}It(te,"paste",function(je){!pe(je)||Ot(G,je)||Aa(je,G)||A<=11&&setTimeout(to(G,function(){return T.updateFromDOM()}),20)}),It(te,"compositionstart",function(je){T.composing={data:je.data,done:!1}}),It(te,"compositionupdate",function(je){T.composing||(T.composing={data:je.data,done:!1})}),It(te,"compositionend",function(je){T.composing&&(je.data!=T.composing.data&&T.readFromDOMSoon(),T.composing.done=!0)}),It(te,"touchstart",function(){return W.forceCompositionEnd()}),It(te,"input",function(){T.composing||T.readFromDOMSoon()});function De(je){if(!(!pe(je)||Ot(G,je))){if(G.somethingSelected())ud({lineWise:!1,text:G.getSelections()}),je.type=="cut"&&G.replaceSelection("",null,"cut");else if(G.options.lineWiseCopyCut){var tt=Sy(G);ud({lineWise:!0,text:tt.text}),je.type=="cut"&&G.operation(function(){G.setSelections(tt.ranges,0,mt),G.replaceSelection("",null,"cut")})}else return;if(je.clipboardData){je.clipboardData.clearData();var ct=sl.text.join(`
`);if(je.clipboardData.setData("Text",ct),je.clipboardData.getData("Text")==ct){je.preventDefault();return}}var Ht=Nc(),Zt=Ht.firstChild;G.display.lineSpace.insertBefore(Ht,G.display.lineSpace.firstChild),Zt.value=sl.text.join(`
`);var Ai=de();Le(Zt),setTimeout(function(){G.display.lineSpace.removeChild(Ht),Ai.focus(),Ai==te&&W.showPrimarySelection()},50)}}It(te,"copy",De),It(te,"cut",De)},E0.prototype.screenReaderLabelChanged=function(w){w?this.div.setAttribute("aria-label",w):this.div.removeAttribute("aria-label")},E0.prototype.prepareSelection=function(){var w=eo(this.cm,!1);return w.focus=de()==this.div,w},E0.prototype.showSelection=function(w,T){!w||!this.cm.display.view.length||((w.focus||T)&&this.showPrimarySelection(),this.showMultipleSelections(w))},E0.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},E0.prototype.showPrimarySelection=function(){var w=this.getSelection(),T=this.cm,W=T.doc.sel.primary(),G=W.from(),te=W.to();if(T.display.viewTo==T.display.viewFrom||G.line>=T.display.viewTo||te.line<T.display.viewFrom){w.removeAllRanges();return}var pe=cd(T,w.anchorNode,w.anchorOffset),De=cd(T,w.focusNode,w.focusOffset);if(!(pe&&!pe.bad&&De&&!De.bad&&dt(dn(pe,De),G)==0&&dt($i(pe,De),te)==0)){var je=T.display.view,tt=G.line>=T.display.viewFrom&&My(T,G)||{node:je[0].measure.map[2],offset:0},ct=te.line<T.display.viewTo&&My(T,te);if(!ct){var Ht=je[je.length-1].measure,Zt=Ht.maps?Ht.maps[Ht.maps.length-1]:Ht.map;ct={node:Zt[Zt.length-1],offset:Zt[Zt.length-2]-Zt[Zt.length-3]}}if(!tt||!ct){w.removeAllRanges();return}var Ai=w.rangeCount&&w.getRangeAt(0),hi;try{hi=ie(tt.node,tt.offset,ct.offset,ct.node)}catch{}hi&&(!i&&T.state.focused?(w.collapse(tt.node,tt.offset),hi.collapsed||(w.removeAllRanges(),w.addRange(hi))):(w.removeAllRanges(),w.addRange(hi)),Ai&&w.anchorNode==null?w.addRange(Ai):i&&this.startGracePeriod()),this.rememberSelection()}},E0.prototype.startGracePeriod=function(){var w=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){w.gracePeriod=!1,w.selectionChanged()&&w.cm.operation(function(){return w.cm.curOp.selectionChanged=!0})},20)},E0.prototype.showMultipleSelections=function(w){ge(this.cm.display.cursorDiv,w.cursors),ge(this.cm.display.selectionDiv,w.selection)},E0.prototype.rememberSelection=function(){var w=this.getSelection();this.lastAnchorNode=w.anchorNode,this.lastAnchorOffset=w.anchorOffset,this.lastFocusNode=w.focusNode,this.lastFocusOffset=w.focusOffset},E0.prototype.selectionInEditor=function(){var w=this.getSelection();if(!w.rangeCount)return!1;var T=w.getRangeAt(0).commonAncestorContainer;return he(this.div,T)},E0.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||de()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},E0.prototype.blur=function(){this.div.blur()},E0.prototype.getField=function(){return this.div},E0.prototype.supportsTouch=function(){return!0},E0.prototype.receivedFocus=function(){var w=this,T=this;this.selectionInEditor()?setTimeout(function(){return w.pollSelection()},20):wn(this.cm,function(){return T.cm.curOp.selectionChanged=!0});function W(){T.cm.state.focused&&(T.pollSelection(),T.polling.set(T.cm.options.pollInterval,W))}this.polling.set(this.cm.options.pollInterval,W)},E0.prototype.selectionChanged=function(){var w=this.getSelection();return w.anchorNode!=this.lastAnchorNode||w.anchorOffset!=this.lastAnchorOffset||w.focusNode!=this.lastFocusNode||w.focusOffset!=this.lastFocusOffset},E0.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var w=this.getSelection(),T=this.cm;if(z&&k&&this.cm.display.gutterSpecs.length&&B6(w.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var W=cd(T,w.anchorNode,w.anchorOffset),G=cd(T,w.focusNode,w.focusOffset);W&&G&&wn(T,function(){co(T.doc,Wf(W,G),mt),(W.bad||G.bad)&&(T.curOp.selectionChanged=!0)})}}},E0.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var w=this.cm,T=w.display,W=w.doc.sel.primary(),G=W.from(),te=W.to();if(G.ch==0&&G.line>w.firstLine()&&(G=rr(G.line-1,Tr(w.doc,G.line-1).length)),te.ch==Tr(w.doc,te.line).text.length&&te.line<w.lastLine()&&(te=rr(te.line+1,0)),G.line<T.viewFrom||te.line>T.viewTo-1)return!1;var pe,De,je;G.line==T.viewFrom||(pe=js(w,G.line))==0?(De=rn(T.view[0].line),je=T.view[0].node):(De=rn(T.view[pe].line),je=T.view[pe-1].node.nextSibling);var tt=js(w,te.line),ct,Ht;if(tt==T.view.length-1?(ct=T.viewTo-1,Ht=T.lineDiv.lastChild):(ct=rn(T.view[tt+1].line)-1,Ht=T.view[tt+1].node.previousSibling),!je)return!1;for(var Zt=w.doc.splitLines(I6(w,je,Ht,De,ct)),Ai=ss(w.doc,rr(De,0),rr(ct,Tr(w.doc,ct).text.length));Zt.length>1&&Ai.length>1;)if(Yt(Zt)==Yt(Ai))Zt.pop(),Ai.pop(),ct--;else if(Zt[0]==Ai[0])Zt.shift(),Ai.shift(),De++;else break;for(var hi=0,Gi=0,Zi=Zt[0],ur=Ai[0],xr=Math.min(Zi.length,ur.length);hi<xr&&Zi.charCodeAt(hi)==ur.charCodeAt(hi);)++hi;for(var Rr=Yt(Zt),wr=Yt(Ai),Hr=Math.min(Rr.length-(Zt.length==1?hi:0),wr.length-(Ai.length==1?hi:0));Gi<Hr&&Rr.charCodeAt(Rr.length-Gi-1)==wr.charCodeAt(wr.length-Gi-1);)++Gi;if(Zt.length==1&&Ai.length==1&&De==G.line)for(;hi&&hi>G.ch&&Rr.charCodeAt(Rr.length-Gi-1)==wr.charCodeAt(wr.length-Gi-1);)hi--,Gi++;Zt[Zt.length-1]=Rr.slice(0,Rr.length-Gi).replace(/^\u200b+/,""),Zt[0]=Zt[0].slice(hi).replace(/\u200b+$/,"");var an=rr(De,hi),Zr=rr(ct,Ai.length?Yt(Ai).length-Gi:0);if(Zt.length>1||Zt[0]||dt(an,Zr))return Tc(w.doc,Zt,an,Zr,"+input"),!0},E0.prototype.ensurePolled=function(){this.forceCompositionEnd()},E0.prototype.reset=function(){this.forceCompositionEnd()},E0.prototype.forceCompositionEnd=function(){!this.composing||(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},E0.prototype.readFromDOMSoon=function(){var w=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(w.readDOMTimeout=null,w.composing)if(w.composing.done)w.composing=null;else return;w.updateFromDOM()},80))},E0.prototype.updateFromDOM=function(){var w=this;(this.cm.isReadOnly()||!this.pollContent())&&wn(this.cm,function(){return Gn(w.cm)})},E0.prototype.setUneditable=function(w){w.contentEditable="false"},E0.prototype.onKeyPress=function(w){w.charCode==0||this.composing||(w.preventDefault(),this.cm.isReadOnly()||to(this.cm,ym)(this.cm,String.fromCharCode(w.charCode==null?w.keyCode:w.charCode),0))},E0.prototype.readOnlyChanged=function(w){this.div.contentEditable=String(w!="nocursor")},E0.prototype.onContextMenu=function(){},E0.prototype.resetPosition=function(){},E0.prototype.needsContentAttribute=!0;function My(w,T){var W=O1(w,T.line);if(!W||W.hidden)return null;var G=Tr(w.doc,T.line),te=Nb(W,G,T.line),pe=bt(G,w.doc.direction),De="left";if(pe){var je=Pe(pe,T.ch);De=je%2?"right":"left"}var tt=Hb(te.map,T.ch,De);return tt.offset=tt.collapse=="right"?tt.end:tt.start,tt}function B6(w){for(var T=w;T;T=T.parentNode)if(/CodeMirror-gutter-wrapper/.test(T.className))return!0;return!1}function Fc(w,T){return T&&(w.bad=!0),w}function I6(w,T,W,G,te){var pe="",De=!1,je=w.doc.lineSeparator(),tt=!1;function ct(hi){return function(Gi){return Gi.id==hi}}function Ht(){De&&(pe+=je,tt&&(pe+=je),De=tt=!1)}function Zt(hi){hi&&(Ht(),pe+=hi)}function Ai(hi){if(hi.nodeType==1){var Gi=hi.getAttribute("cm-text");if(Gi){Zt(Gi);return}var Zi=hi.getAttribute("cm-marker"),ur;if(Zi){var xr=w.findMarks(rr(G,0),rr(te+1,0),ct(+Zi));xr.length&&(ur=xr[0].find(0))&&Zt(ss(w.doc,ur.from,ur.to).join(je));return}if(hi.getAttribute("contenteditable")=="false")return;var Rr=/^(pre|div|p|li|table|br)$/i.test(hi.nodeName);if(!/^br$/i.test(hi.nodeName)&&hi.textContent.length==0)return;Rr&&Ht();for(var wr=0;wr<hi.childNodes.length;wr++)Ai(hi.childNodes[wr]);/^(pre|p)$/i.test(hi.nodeName)&&(tt=!0),Rr&&(De=!0)}else hi.nodeType==3&&Zt(hi.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Ai(T),T!=W;)T=T.nextSibling,tt=!1;return pe}function cd(w,T,W){var G;if(T==w.display.lineDiv){if(G=w.display.lineDiv.childNodes[W],!G)return Fc(w.clipPos(rr(w.display.viewTo-1)),!0);T=null,W=0}else for(G=T;;G=G.parentNode){if(!G||G==w.display.lineDiv)return null;if(G.parentNode&&G.parentNode==w.display.lineDiv)break}for(var te=0;te<w.display.view.length;te++){var pe=w.display.view[te];if(pe.node==G)return D6(pe,T,W)}}function D6(w,T,W){var G=w.text.firstChild,te=!1;if(!T||!he(G,T))return Fc(rr(rn(w.line),0),!0);if(T==G&&(te=!0,T=G.childNodes[W],W=0,!T)){var pe=w.rest?Yt(w.rest):w.line;return Fc(rr(rn(pe),pe.text.length),te)}var De=T.nodeType==3?T:null,je=T;for(!De&&T.childNodes.length==1&&T.firstChild.nodeType==3&&(De=T.firstChild,W&&(W=De.nodeValue.length));je.parentNode!=G;)je=je.parentNode;var tt=w.measure,ct=tt.maps;function Ht(ur,xr,Rr){for(var wr=-1;wr<(ct?ct.length:0);wr++)for(var Hr=wr<0?tt.map:ct[wr],an=0;an<Hr.length;an+=3){var Zr=Hr[an+2];if(Zr==ur||Zr==xr){var Ln=rn(wr<0?w.line:w.rest[wr]),G0=Hr[an]+Rr;return(Rr<0||Zr!=ur)&&(G0=Hr[an+(Rr?1:0)]),rr(Ln,G0)}}}var Zt=Ht(De,je,W);if(Zt)return Fc(Zt,te);for(var Ai=je.nextSibling,hi=De?De.nodeValue.length-W:0;Ai;Ai=Ai.nextSibling){if(Zt=Ht(Ai,Ai.firstChild,0),Zt)return Fc(rr(Zt.line,Zt.ch-hi),te);hi+=Ai.textContent.length}for(var Gi=je.previousSibling,Zi=W;Gi;Gi=Gi.previousSibling){if(Zt=Ht(Gi,Gi.firstChild,-1),Zt)return Fc(rr(Zt.line,Zt.ch+Zi),te);Zi+=Gi.textContent.length}}var bs=function(w){this.cm=w,this.prevInput="",this.pollingFast=!1,this.polling=new Re,this.hasSelection=!1,this.composing=null};bs.prototype.init=function(w){var T=this,W=this,G=this.cm;this.createField(w);var te=this.textarea;w.wrapper.insertBefore(this.wrapper,w.wrapper.firstChild),H&&(te.style.width="0px"),It(te,"input",function(){y&&A>=9&&T.hasSelection&&(T.hasSelection=null),W.poll()}),It(te,"paste",function(De){Ot(G,De)||Aa(De,G)||(G.state.pasteIncoming=+new Date,W.fastPoll())});function pe(De){if(!Ot(G,De)){if(G.somethingSelected())ud({lineWise:!1,text:G.getSelections()});else if(G.options.lineWiseCopyCut){var je=Sy(G);ud({lineWise:!0,text:je.text}),De.type=="cut"?G.setSelections(je.ranges,null,mt):(W.prevInput="",te.value=je.text.join(`
`),Le(te))}else return;De.type=="cut"&&(G.state.cutIncoming=+new Date)}}It(te,"cut",pe),It(te,"copy",pe),It(w.scroller,"paste",function(De){if(!(rf(w,De)||Ot(G,De))){if(!te.dispatchEvent){G.state.pasteIncoming=+new Date,W.focus();return}var je=new Event("paste");je.clipboardData=De.clipboardData,te.dispatchEvent(je)}}),It(w.lineSpace,"selectstart",function(De){rf(w,De)||gr(De)}),It(te,"compositionstart",function(){var De=G.getCursor("from");W.composing&&W.composing.range.clear(),W.composing={start:De,range:G.markText(De,G.getCursor("to"),{className:"CodeMirror-composing"})}}),It(te,"compositionend",function(){W.composing&&(W.poll(),W.composing.range.clear(),W.composing=null)})},bs.prototype.createField=function(w){this.wrapper=Nc(),this.textarea=this.wrapper.firstChild},bs.prototype.screenReaderLabelChanged=function(w){w?this.textarea.setAttribute("aria-label",w):this.textarea.removeAttribute("aria-label")},bs.prototype.prepareSelection=function(){var w=this.cm,T=w.display,W=w.doc,G=eo(w);if(w.options.moveInputWithCursor){var te=$a(w,W.sel.primary().head,"div"),pe=T.wrapper.getBoundingClientRect(),De=T.lineDiv.getBoundingClientRect();G.teTop=Math.max(0,Math.min(T.wrapper.clientHeight-10,te.top+De.top-pe.top)),G.teLeft=Math.max(0,Math.min(T.wrapper.clientWidth-10,te.left+De.left-pe.left))}return G},bs.prototype.showSelection=function(w){var T=this.cm,W=T.display;ge(W.cursorDiv,w.cursors),ge(W.selectionDiv,w.selection),w.teTop!=null&&(this.wrapper.style.top=w.teTop+"px",this.wrapper.style.left=w.teLeft+"px")},bs.prototype.reset=function(w){if(!(this.contextMenuPending||this.composing)){var T=this.cm;if(T.somethingSelected()){this.prevInput="";var W=T.getSelection();this.textarea.value=W,T.state.focused&&Le(this.textarea),y&&A>=9&&(this.hasSelection=W)}else w||(this.prevInput=this.textarea.value="",y&&A>=9&&(this.hasSelection=null))}},bs.prototype.getField=function(){return this.textarea},bs.prototype.supportsTouch=function(){return!1},bs.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!Y||de()!=this.textarea))try{this.textarea.focus()}catch{}},bs.prototype.blur=function(){this.textarea.blur()},bs.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},bs.prototype.receivedFocus=function(){this.slowPoll()},bs.prototype.slowPoll=function(){var w=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){w.poll(),w.cm.state.focused&&w.slowPoll()})},bs.prototype.fastPoll=function(){var w=!1,T=this;T.pollingFast=!0;function W(){var G=T.poll();!G&&!w?(w=!0,T.polling.set(60,W)):(T.pollingFast=!1,T.slowPoll())}T.polling.set(20,W)},bs.prototype.poll=function(){var w=this,T=this.cm,W=this.textarea,G=this.prevInput;if(this.contextMenuPending||!T.state.focused||Mn(W)&&!G&&!this.composing||T.isReadOnly()||T.options.disableInput||T.state.keySeq)return!1;var te=W.value;if(te==G&&!T.somethingSelected())return!1;if(y&&A>=9&&this.hasSelection===te||ee&&/[\uf700-\uf7ff]/.test(te))return T.display.input.reset(),!1;if(T.doc.sel==T.display.selForContextMenu){var pe=te.charCodeAt(0);if(pe==8203&&!G&&(G="\u200B"),pe==8666)return this.reset(),this.cm.execCommand("undo")}for(var De=0,je=Math.min(G.length,te.length);De<je&&G.charCodeAt(De)==te.charCodeAt(De);)++De;return wn(T,function(){ym(T,te.slice(De),G.length-De,null,w.composing?"*compose":null),te.length>1e3||te.indexOf(`
`)>-1?W.value=w.prevInput="":w.prevInput=te,w.composing&&(w.composing.range.clear(),w.composing.range=T.markText(w.composing.start,T.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},bs.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},bs.prototype.onKeyPress=function(){y&&A>=9&&(this.hasSelection=null),this.fastPoll()},bs.prototype.onContextMenu=function(w){var T=this,W=T.cm,G=W.display,te=T.textarea;T.contextMenuPending&&T.contextMenuPending();var pe=tl(W,w),De=G.scroller.scrollTop;if(!pe||R)return;var je=W.options.resetSelectionOnContextMenu;je&&W.doc.sel.contains(pe)==-1&&to(W,co)(W.doc,Wf(pe),mt);var tt=te.style.cssText,ct=T.wrapper.style.cssText,Ht=T.wrapper.offsetParent.getBoundingClientRect();T.wrapper.style.cssText="position: static",te.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(w.clientY-Ht.top-5)+"px; left: "+(w.clientX-Ht.left-5)+`px;
      z-index: 1000; background: `+(y?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var Zt;E&&(Zt=window.scrollY),G.input.focus(),E&&window.scrollTo(null,Zt),G.input.reset(),W.somethingSelected()||(te.value=T.prevInput=" "),T.contextMenuPending=hi,G.selForContextMenu=W.doc.sel,clearTimeout(G.detectingSelectAll);function Ai(){if(te.selectionStart!=null){var Zi=W.somethingSelected(),ur="\u200B"+(Zi?te.value:"");te.value="\u21DA",te.value=ur,T.prevInput=Zi?"":"\u200B",te.selectionStart=1,te.selectionEnd=ur.length,G.selForContextMenu=W.doc.sel}}function hi(){if(T.contextMenuPending==hi&&(T.contextMenuPending=!1,T.wrapper.style.cssText=ct,te.style.cssText=tt,y&&A<9&&G.scrollbars.setScrollTop(G.scroller.scrollTop=De),te.selectionStart!=null)){(!y||y&&A<9)&&Ai();var Zi=0,ur=function(){G.selForContextMenu==W.doc.sel&&te.selectionStart==0&&te.selectionEnd>0&&T.prevInput=="\u200B"?to(W,nm)(W):Zi++<10?G.detectingSelectAll=setTimeout(ur,500):(G.selForContextMenu=null,G.input.reset())};G.detectingSelectAll=setTimeout(ur,200)}}if(y&&A>=9&&Ai(),xe){Fe(w);var Gi=function(){Di(window,"mouseup",Gi),setTimeout(hi,20)};It(window,"mouseup",Gi)}else setTimeout(hi,50)},bs.prototype.readOnlyChanged=function(w){w||this.reset(),this.textarea.disabled=w=="nocursor",this.textarea.readOnly=!!w},bs.prototype.setUneditable=function(){},bs.prototype.needsContentAttribute=!1;function P6(w,T){if(T=T?He(T):{},T.value=w.value,!T.tabindex&&w.tabIndex&&(T.tabindex=w.tabIndex),!T.placeholder&&w.placeholder&&(T.placeholder=w.placeholder),T.autofocus==null){var W=de();T.autofocus=W==w||w.getAttribute("autofocus")!=null&&W==document.body}function G(){w.value=je.getValue()}var te;if(w.form&&(It(w.form,"submit",G),!T.leaveSubmitMethodAlone)){var pe=w.form;te=pe.submit;try{var De=pe.submit=function(){G(),pe.submit=te,pe.submit(),pe.submit=De}}catch{}}T.finishInit=function(tt){tt.save=G,tt.getTextArea=function(){return w},tt.toTextArea=function(){tt.toTextArea=isNaN,G(),w.parentNode.removeChild(tt.getWrapperElement()),w.style.display="",w.form&&(Di(w.form,"submit",G),!T.leaveSubmitMethodAlone&&typeof w.form.submit=="function"&&(w.form.submit=te))}},w.style.display="none";var je=Y0(function(tt){return w.parentNode.insertBefore(tt,w.nextSibling)},T);return je}function L6(w){w.off=Di,w.on=It,w.wheelEventPixels=n6,w.Doc=Qo,w.splitLines=nr,w.countColumn=ce,w.findColumn=kt,w.isWordChar=Et,w.Pass=Ye,w.signal=Tt,w.Line=bc,w.changeEnd=Qf,w.scrollbarModel=bn,w.Pos=rr,w.cmpPos=dt,w.modes=xi,w.mimeModes=Fi,w.resolveMode=Pr,w.getMode=hn,w.modeExtensions=Lr,w.extendMode=jr,w.copyState=un,w.startState=ks,w.innerMode=Yn,w.commands=nd,w.keyMap=of,w.keyName=by,w.isModifierKey=my,w.lookupKey=Ic,w.normalizeKeyMap=py,w.StringStream=Qn,w.SharedTextMarker=id,w.TextMarker=qf,w.LineWidget=td,w.e_preventDefault=gr,w.e_stopPropagation=kr,w.e_stop=Fe,w.addClass=Se,w.contains=he,w.rmClass=ae,w.keyNames=Zf}Lc(Y0),R6(Y0);var lf="iter insert remove copy getEditor constructor".split(" ");for(var Uu in Qo.prototype)Qo.prototype.hasOwnProperty(Uu)&&lt(lf,Uu)<0&&(Y0.prototype[Uu]=function(w){return function(){return w.apply(this.doc,arguments)}}(Qo.prototype[Uu]));return Ui(Qo),Y0.inputStyles={textarea:bs,contenteditable:E0},Y0.defineMode=function(w){!Y0.defaults.mode&&w!="null"&&(Y0.defaults.mode=w),qr.apply(this,arguments)},Y0.defineMIME=fr,Y0.defineMode("null",function(){return{token:function(w){return w.skipToEnd()}}}),Y0.defineMIME("text/plain","null"),Y0.defineExtension=function(w,T){Y0.prototype[w]=T},Y0.defineDocExtension=function(w,T){Qo.prototype[w]=T},Y0.fromTextArea=P6,L6(Y0),Y0.version="5.65.2",Y0});(function(l){typeof exports=="object"&&typeof module=="object"?l(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],l):l(CodeMirror)})(function(l){l.defineMode("javascript",function(t,i){var s=t.indentUnit,u=i.statementIndent,p=i.jsonld,y=i.json||p,A=i.trackScope!==!1,E=i.typescript,_=i.wordCharacters||/[\w$\xa1-\uffff]/,k=function(){function dt(Co){return{type:Co,style:"keyword"}}var Jt=dt("keyword a"),Qi=dt("keyword b"),$i=dt("keyword c"),dn=dt("keyword d"),jn=dt("operator"),Cr={type:"atom",style:"atom"};return{if:dt("if"),while:Jt,with:Jt,else:Qi,do:Qi,try:Qi,finally:Qi,return:dn,break:dn,continue:dn,new:dt("new"),delete:$i,void:$i,throw:$i,debugger:dt("debugger"),var:dt("var"),const:dt("var"),let:dt("var"),function:dt("function"),catch:dt("catch"),for:dt("for"),switch:dt("switch"),case:dt("case"),default:dt("default"),in:jn,typeof:jn,instanceof:jn,true:Cr,false:Cr,null:Cr,undefined:Cr,NaN:Cr,Infinity:Cr,this:dt("this"),class:dt("class"),super:dt("atom"),yield:$i,export:dt("export"),import:dt("import"),extends:$i,await:$i}}(),R=/[+\-*&%=<>!?|~^@]/,P=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function B(dt){for(var Jt=!1,Qi,$i=!1;(Qi=dt.next())!=null;){if(!Jt){if(Qi=="/"&&!$i)return;Qi=="["?$i=!0:$i&&Qi=="]"&&($i=!1)}Jt=!Jt&&Qi=="\\"}}var O,H;function z(dt,Jt,Qi){return O=dt,H=Qi,Jt}function Y(dt,Jt){var Qi=dt.next();if(Qi=='"'||Qi=="'")return Jt.tokenize=ee(Qi),Jt.tokenize(dt,Jt);if(Qi=="."&&dt.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return z("number","number");if(Qi=="."&&dt.match(".."))return z("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Qi))return z(Qi);if(Qi=="="&&dt.eat(">"))return z("=>","operator");if(Qi=="0"&&dt.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return z("number","number");if(/\d/.test(Qi))return dt.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),z("number","number");if(Qi=="/")return dt.eat("*")?(Jt.tokenize=ue,ue(dt,Jt)):dt.eat("/")?(dt.skipToEnd(),z("comment","comment")):rr(dt,Jt,1)?(B(dt),dt.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),z("regexp","string-2")):(dt.eat("="),z("operator","operator",dt.current()));if(Qi=="`")return Jt.tokenize=oe,oe(dt,Jt);if(Qi=="#"&&dt.peek()=="!")return dt.skipToEnd(),z("meta","meta");if(Qi=="#"&&dt.eatWhile(_))return z("variable","property");if(Qi=="<"&&dt.match("!--")||Qi=="-"&&dt.match("->")&&!/\S/.test(dt.string.slice(0,dt.start)))return dt.skipToEnd(),z("comment","comment");if(R.test(Qi))return(Qi!=">"||!Jt.lexical||Jt.lexical.type!=">")&&(dt.eat("=")?(Qi=="!"||Qi=="=")&&dt.eat("="):/[<>*+\-|&?]/.test(Qi)&&(dt.eat(Qi),Qi==">"&&dt.eat(Qi))),Qi=="?"&&dt.eat(".")?z("."):z("operator","operator",dt.current());if(_.test(Qi)){dt.eatWhile(_);var $i=dt.current();if(Jt.lastType!="."){if(k.propertyIsEnumerable($i)){var dn=k[$i];return z(dn.type,dn.style,$i)}if($i=="async"&&dt.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return z("async","keyword",$i)}return z("variable","variable",$i)}}function ee(dt){return function(Jt,Qi){var $i=!1,dn;if(p&&Jt.peek()=="@"&&Jt.match(P))return Qi.tokenize=Y,z("jsonld-keyword","meta");for(;(dn=Jt.next())!=null&&!(dn==dt&&!$i);)$i=!$i&&dn=="\\";return $i||(Qi.tokenize=Y),z("string","string")}}function ue(dt,Jt){for(var Qi=!1,$i;$i=dt.next();){if($i=="/"&&Qi){Jt.tokenize=Y;break}Qi=$i=="*"}return z("comment","comment")}function oe(dt,Jt){for(var Qi=!1,$i;($i=dt.next())!=null;){if(!Qi&&($i=="`"||$i=="$"&&dt.eat("{"))){Jt.tokenize=Y;break}Qi=!Qi&&$i=="\\"}return z("quasi","string-2",dt.current())}var Ae="([{}])";function be(dt,Jt){Jt.fatArrowAt&&(Jt.fatArrowAt=null);var Qi=dt.string.indexOf("=>",dt.start);if(!(Qi<0)){if(E){var $i=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(dt.string.slice(dt.start,Qi));$i&&(Qi=$i.index)}for(var dn=0,jn=!1,Cr=Qi-1;Cr>=0;--Cr){var Co=dt.string.charAt(Cr),ya=Ae.indexOf(Co);if(ya>=0&&ya<3){if(!dn){++Cr;break}if(--dn==0){Co=="("&&(jn=!0);break}}else if(ya>=3&&ya<6)++dn;else if(_.test(Co))jn=!0;else if(/["'\/`]/.test(Co))for(;;--Cr){if(Cr==0)return;var gc=dt.string.charAt(Cr-1);if(gc==Co&&dt.string.charAt(Cr-2)!="\\"){Cr--;break}}else if(jn&&!dn){++Cr;break}}jn&&!dn&&(Jt.fatArrowAt=Cr)}}var xe={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function ne(dt,Jt,Qi,$i,dn,jn){this.indented=dt,this.column=Jt,this.type=Qi,this.prev=dn,this.info=jn,$i!=null&&(this.align=$i)}function ae(dt,Jt){if(!A)return!1;for(var Qi=dt.localVars;Qi;Qi=Qi.next)if(Qi.name==Jt)return!0;for(var $i=dt.context;$i;$i=$i.prev)for(var Qi=$i.vars;Qi;Qi=Qi.next)if(Qi.name==Jt)return!0}function ye(dt,Jt,Qi,$i,dn){var jn=dt.cc;for(ge.state=dt,ge.stream=dn,ge.marked=null,ge.cc=jn,ge.style=Jt,dt.lexical.hasOwnProperty("align")||(dt.lexical.align=!0);;){var Cr=jn.length?jn.pop():y?gt:mt;if(Cr(Qi,$i)){for(;jn.length&&jn[jn.length-1].lex;)jn.pop()();return ge.marked?ge.marked:Qi=="variable"&&ae(dt,$i)?"variable-2":Jt}}}var ge={state:null,column:null,marked:null,cc:null};function we(){for(var dt=arguments.length-1;dt>=0;dt--)ge.cc.push(arguments[dt])}function le(){return we.apply(null,arguments),!0}function ie(dt,Jt){for(var Qi=Jt;Qi;Qi=Qi.next)if(Qi.name==dt)return!0;return!1}function he(dt){var Jt=ge.state;if(ge.marked="def",!!A){if(Jt.context){if(Jt.lexical.info=="var"&&Jt.context&&Jt.context.block){var Qi=de(dt,Jt.context);if(Qi!=null){Jt.context=Qi;return}}else if(!ie(dt,Jt.localVars)){Jt.localVars=new Le(dt,Jt.localVars);return}}i.globalVars&&!ie(dt,Jt.globalVars)&&(Jt.globalVars=new Le(dt,Jt.globalVars))}}function de(dt,Jt){if(Jt)if(Jt.block){var Qi=de(dt,Jt.prev);return Qi?Qi==Jt.prev?Jt:new Be(Qi,Jt.vars,!0):null}else return ie(dt,Jt.vars)?Jt:new Be(Jt.prev,new Le(dt,Jt.vars),!1);else return null}function Se(dt){return dt=="public"||dt=="private"||dt=="protected"||dt=="abstract"||dt=="readonly"}function Be(dt,Jt,Qi){this.prev=dt,this.vars=Jt,this.block=Qi}function Le(dt,Jt){this.name=dt,this.next=Jt}var nt=new Le("this",new Le("arguments",null));function He(){ge.state.context=new Be(ge.state.context,ge.state.localVars,!1),ge.state.localVars=nt}function ce(){ge.state.context=new Be(ge.state.context,ge.state.localVars,!0),ge.state.localVars=null}function Re(){ge.state.localVars=ge.state.context.vars,ge.state.context=ge.state.context.prev}Re.lex=!0;function lt(dt,Jt){var Qi=function(){var $i=ge.state,dn=$i.indented;if($i.lexical.type=="stat")dn=$i.lexical.indented;else for(var jn=$i.lexical;jn&&jn.type==")"&&jn.align;jn=jn.prev)dn=jn.indented;$i.lexical=new ne(dn,ge.stream.column(),dt,null,$i.lexical,Jt)};return Qi.lex=!0,Qi}function Te(){var dt=ge.state;dt.lexical.prev&&(dt.lexical.type==")"&&(dt.indented=dt.lexical.indented),dt.lexical=dt.lexical.prev)}Te.lex=!0;function Ye(dt){function Jt(Qi){return Qi==dt?le():dt==";"||Qi=="}"||Qi==")"||Qi=="]"?we():le(Jt)}return Jt}function mt(dt,Jt){return dt=="var"?le(lt("vardef",Jt),Ut,Ye(";"),Te):dt=="keyword a"?le(lt("form"),Kt,mt,Te):dt=="keyword b"?le(lt("form"),mt,Te):dt=="keyword d"?ge.stream.match(/^\s*$/,!1)?le():le(lt("stat"),Yt,Ye(";"),Te):dt=="debugger"?le(Ye(";")):dt=="{"?le(lt("}"),ce,bt,Te,Re):dt==";"?le():dt=="if"?(ge.state.lexical.info=="else"&&ge.state.cc[ge.state.cc.length-1]==Te&&ge.state.cc.pop()(),le(lt("form"),Kt,mt,Te,Mn)):dt=="function"?le(xi):dt=="for"?le(lt("form"),ce,Mt,mt,Re,Te):dt=="class"||E&&Jt=="interface"?(ge.marked="keyword",le(lt("form",dt=="class"?dt:Jt),hn,Te)):dt=="variable"?E&&Jt=="declare"?(ge.marked="keyword",le(mt)):E&&(Jt=="module"||Jt=="enum"||Jt=="type")&&ge.stream.match(/^\s*\w/,!1)?(ge.marked="keyword",Jt=="enum"?le(Z0):Jt=="type"?le(qr,Ye("operator"),Tt,Ye(";")):le(lt("form"),ei,Ye("{"),lt("}"),bt,Te,Te)):E&&Jt=="namespace"?(ge.marked="keyword",le(lt("form"),gt,mt,Te)):E&&Jt=="abstract"?(ge.marked="keyword",le(mt)):le(lt("stat"),ft):dt=="switch"?le(lt("form"),Kt,Ye("{"),lt("}","switch"),ce,bt,Te,Te,Re):dt=="case"?le(gt,Ye(":")):dt=="default"?le(Ye(":")):dt=="catch"?le(lt("form"),He,$e,mt,Te,Re):dt=="export"?le(lt("stat"),Yn,Te):dt=="import"?le(lt("stat"),Qn,Te):dt=="async"?le(mt):Jt=="@"?le(gt,mt):we(lt("stat"),gt,Ye(";"),Te)}function $e(dt){if(dt=="(")return le(fr,Ye(")"))}function gt(dt,Jt){return Ft(dt,Jt,!1)}function kt(dt,Jt){return Ft(dt,Jt,!0)}function Kt(dt){return dt!="("?we():le(lt(")"),Yt,Ye(")"),Te)}function Ft(dt,Jt,Qi){if(ge.state.fatArrowAt==ge.stream.start){var $i=Qi?Et:or;if(dt=="(")return le(He,lt(")"),Pe(fr,")"),Te,Ye("=>"),$i,Re);if(dt=="variable")return we(He,ei,Ye("=>"),$i,Re)}var dn=Qi?vi:$t;return xe.hasOwnProperty(dt)?le(dn):dt=="function"?le(xi,dn):dt=="class"||E&&Jt=="interface"?(ge.marked="keyword",le(lt("form"),Pr,Te)):dt=="keyword c"||dt=="async"?le(Qi?kt:gt):dt=="("?le(lt(")"),Yt,Ye(")"),Te,dn):dt=="operator"||dt=="spread"?le(Qi?kt:gt):dt=="["?le(lt("]"),rn,Te,dn):dt=="{"?Me(ii,"}",null,dn):dt=="quasi"?we(Xi,dn):dt=="new"?le(Ct(Qi)):le()}function Yt(dt){return dt.match(/[;\}\)\],]/)?we():we(gt)}function $t(dt,Jt){return dt==","?le(Yt):vi(dt,Jt,!1)}function vi(dt,Jt,Qi){var $i=Qi==!1?$t:vi,dn=Qi==!1?gt:kt;if(dt=="=>")return le(He,Qi?Et:or,Re);if(dt=="operator")return/\+\+|--/.test(Jt)||E&&Jt=="!"?le($i):E&&Jt=="<"&&ge.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?le(lt(">"),Pe(Tt,">"),Te,$i):Jt=="?"?le(gt,Ye(":"),dn):le(dn);if(dt=="quasi")return we(Xi,$i);if(dt!=";"){if(dt=="(")return Me(kt,")","call",$i);if(dt==".")return le(Lt,$i);if(dt=="[")return le(lt("]"),Yt,Ye("]"),Te,$i);if(E&&Jt=="as")return ge.marked="keyword",le(Tt,$i);if(dt=="regexp")return ge.state.lastType=ge.marked="operator",ge.stream.backUp(ge.stream.pos-ge.stream.start-1),le(dn)}}function Xi(dt,Jt){return dt!="quasi"?we():Jt.slice(Jt.length-2)!="${"?le(Xi):le(Yt,Ki)}function Ki(dt){if(dt=="}")return ge.marked="string-2",ge.state.tokenize=oe,le(Xi)}function or(dt){return be(ge.stream,ge.state),we(dt=="{"?mt:gt)}function Et(dt){return be(ge.stream,ge.state),we(dt=="{"?mt:kt)}function Ct(dt){return function(Jt){return Jt=="."?le(dt?pt:ri):Jt=="variable"&&E?le(Fe,dt?vi:$t):we(dt?kt:gt)}}function ri(dt,Jt){if(Jt=="target")return ge.marked="keyword",le($t)}function pt(dt,Jt){if(Jt=="target")return ge.marked="keyword",le(vi)}function ft(dt){return dt==":"?le(Te,mt):we($t,Ye(";"),Te)}function Lt(dt){if(dt=="variable")return ge.marked="property",le()}function ii(dt,Jt){if(dt=="async")return ge.marked="property",le(ii);if(dt=="variable"||ge.style=="keyword"){if(ge.marked="property",Jt=="get"||Jt=="set")return le(bi);var Qi;return E&&ge.state.fatArrowAt==ge.stream.start&&(Qi=ge.stream.match(/^\s*:\s*/,!1))&&(ge.state.fatArrowAt=ge.stream.pos+Qi[0].length),le(rt)}else{if(dt=="number"||dt=="string")return ge.marked=p?"property":ge.style+" property",le(rt);if(dt=="jsonld-keyword")return le(rt);if(E&&Se(Jt))return ge.marked="keyword",le(ii);if(dt=="[")return le(gt,zt,Ye("]"),rt);if(dt=="spread")return le(kt,rt);if(Jt=="*")return ge.marked="keyword",le(ii);if(dt==":")return we(rt)}}function bi(dt){return dt!="variable"?we(rt):(ge.marked="property",le(xi))}function rt(dt){if(dt==":")return le(kt);if(dt=="(")return we(xi)}function Pe(dt,Jt,Qi){function $i(dn,jn){if(Qi?Qi.indexOf(dn)>-1:dn==","){var Cr=ge.state.lexical;return Cr.info=="call"&&(Cr.pos=(Cr.pos||0)+1),le(function(Co,ya){return Co==Jt||ya==Jt?we():we(dt)},$i)}return dn==Jt||jn==Jt?le():Qi&&Qi.indexOf(";")>-1?we(dt):le(Ye(Jt))}return function(dn,jn){return dn==Jt||jn==Jt?le():we(dt,$i)}}function Me(dt,Jt,Qi){for(var $i=3;$i<arguments.length;$i++)ge.cc.push(arguments[$i]);return le(lt(Jt,Qi),Pe(dt,Jt),Te)}function bt(dt){return dt=="}"?le():we(mt,bt)}function zt(dt,Jt){if(E){if(dt==":")return le(Tt);if(Jt=="?")return le(zt)}}function It(dt,Jt){if(E&&(dt==":"||Jt=="in"))return le(Tt)}function yt(dt){if(E&&dt==":")return ge.stream.match(/^\s*\w+\s+is\b/,!1)?le(gt,Di,Tt):le(Tt)}function Di(dt,Jt){if(Jt=="is")return ge.marked="keyword",le()}function Tt(dt,Jt){if(Jt=="keyof"||Jt=="typeof"||Jt=="infer"||Jt=="readonly")return ge.marked="keyword",le(Jt=="typeof"?kt:Tt);if(dt=="variable"||Jt=="void")return ge.marked="type",le(mr);if(Jt=="|"||Jt=="&")return le(Tt);if(dt=="string"||dt=="number"||dt=="atom")return le(mr);if(dt=="[")return le(lt("]"),Pe(Tt,"]",","),Te,mr);if(dt=="{")return le(lt("}"),li,Te,mr);if(dt=="(")return le(Pe(kr,")"),Ot,mr);if(dt=="<")return le(Pe(Tt,">"),Tt);if(dt=="quasi")return we(Ui,mr)}function Ot(dt){if(dt=="=>")return le(Tt)}function li(dt){return dt.match(/[\}\)\]]/)?le():dt==","||dt==";"?le(li):we(Ti,li)}function Ti(dt,Jt){if(dt=="variable"||ge.style=="keyword")return ge.marked="property",le(Ti);if(Jt=="?"||dt=="number"||dt=="string")return le(Ti);if(dt==":")return le(Tt);if(dt=="[")return le(Ye("variable"),It,Ye("]"),Ti);if(dt=="(")return we(Fi,Ti);if(!dt.match(/[;\}\)\],]/))return le()}function Ui(dt,Jt){return dt!="quasi"?we():Jt.slice(Jt.length-2)!="${"?le(Ui):le(Tt,gr)}function gr(dt){if(dt=="}")return ge.marked="string-2",ge.state.tokenize=oe,le(Ui)}function kr(dt,Jt){return dt=="variable"&&ge.stream.match(/^\s*[?:]/,!1)||Jt=="?"?le(kr):dt==":"?le(Tt):dt=="spread"?le(kr):we(Tt)}function mr(dt,Jt){if(Jt=="<")return le(lt(">"),Pe(Tt,">"),Te,mr);if(Jt=="|"||dt=="."||Jt=="&")return le(Tt);if(dt=="[")return le(Tt,Ye("]"),mr);if(Jt=="extends"||Jt=="implements")return ge.marked="keyword",le(Tt);if(Jt=="?")return le(Tt,Ye(":"),Tt)}function Fe(dt,Jt){if(Jt=="<")return le(lt(">"),Pe(Tt,">"),Te,mr)}function Ze(){return we(Tt,ht)}function ht(dt,Jt){if(Jt=="=")return le(Tt)}function Ut(dt,Jt){return Jt=="enum"?(ge.marked="keyword",le(Z0)):we(ei,zt,jt,nr)}function ei(dt,Jt){if(E&&Se(Jt))return ge.marked="keyword",le(ei);if(dt=="variable")return he(Jt),le();if(dt=="spread")return le(ei);if(dt=="[")return Me(sr,"]");if(dt=="{")return Me(Si,"}")}function Si(dt,Jt){return dt=="variable"&&!ge.stream.match(/^\s*:/,!1)?(he(Jt),le(jt)):(dt=="variable"&&(ge.marked="property"),dt=="spread"?le(ei):dt=="}"?we():dt=="["?le(gt,Ye("]"),Ye(":"),Si):le(Ye(":"),ei,jt))}function sr(){return we(ei,jt)}function jt(dt,Jt){if(Jt=="=")return le(kt)}function nr(dt){if(dt==",")return le(Ut)}function Mn(dt,Jt){if(dt=="keyword b"&&Jt=="else")return le(lt("form","else"),mt,Te)}function Mt(dt,Jt){if(Jt=="await")return le(Mt);if(dt=="(")return le(lt(")"),ui,Te)}function ui(dt){return dt=="var"?le(Ut,Li):dt=="variable"?le(Li):we(Li)}function Li(dt,Jt){return dt==")"?le():dt==";"?le(Li):Jt=="in"||Jt=="of"?(ge.marked="keyword",le(gt,Li)):we(gt,Li)}function xi(dt,Jt){if(Jt=="*")return ge.marked="keyword",le(xi);if(dt=="variable")return he(Jt),le(xi);if(dt=="(")return le(He,lt(")"),Pe(fr,")"),Te,yt,mt,Re);if(E&&Jt=="<")return le(lt(">"),Pe(Ze,">"),Te,xi)}function Fi(dt,Jt){if(Jt=="*")return ge.marked="keyword",le(Fi);if(dt=="variable")return he(Jt),le(Fi);if(dt=="(")return le(He,lt(")"),Pe(fr,")"),Te,yt,Re);if(E&&Jt=="<")return le(lt(">"),Pe(Ze,">"),Te,Fi)}function qr(dt,Jt){if(dt=="keyword"||dt=="variable")return ge.marked="type",le(qr);if(Jt=="<")return le(lt(">"),Pe(Ze,">"),Te)}function fr(dt,Jt){return Jt=="@"&&le(gt,fr),dt=="spread"?le(fr):E&&Se(Jt)?(ge.marked="keyword",le(fr)):E&&dt=="this"?le(zt,jt):we(ei,zt,jt)}function Pr(dt,Jt){return dt=="variable"?hn(dt,Jt):Lr(dt,Jt)}function hn(dt,Jt){if(dt=="variable")return he(Jt),le(Lr)}function Lr(dt,Jt){if(Jt=="<")return le(lt(">"),Pe(Ze,">"),Te,Lr);if(Jt=="extends"||Jt=="implements"||E&&dt==",")return Jt=="implements"&&(ge.marked="keyword"),le(E?Tt:gt,Lr);if(dt=="{")return le(lt("}"),jr,Te)}function jr(dt,Jt){if(dt=="async"||dt=="variable"&&(Jt=="static"||Jt=="get"||Jt=="set"||E&&Se(Jt))&&ge.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return ge.marked="keyword",le(jr);if(dt=="variable"||ge.style=="keyword")return ge.marked="property",le(un,jr);if(dt=="number"||dt=="string")return le(un,jr);if(dt=="[")return le(gt,zt,Ye("]"),un,jr);if(Jt=="*")return ge.marked="keyword",le(jr);if(E&&dt=="(")return we(Fi,jr);if(dt==";"||dt==",")return le(jr);if(dt=="}")return le();if(Jt=="@")return le(gt,jr)}function un(dt,Jt){if(Jt=="!"||Jt=="?")return le(un);if(dt==":")return le(Tt,jt);if(Jt=="=")return le(kt);var Qi=ge.state.lexical.prev,$i=Qi&&Qi.info=="interface";return we($i?Fi:xi)}function Yn(dt,Jt){return Jt=="*"?(ge.marked="keyword",le(os,Ye(";"))):Jt=="default"?(ge.marked="keyword",le(gt,Ye(";"))):dt=="{"?le(Pe(ks,"}"),os,Ye(";")):we(mt)}function ks(dt,Jt){if(Jt=="as")return ge.marked="keyword",le(Ye("variable"));if(dt=="variable")return we(kt,ks)}function Qn(dt){return dt=="string"?le():dt=="("?we(gt):dt=="."?we($t):we(Tr,ss,os)}function Tr(dt,Jt){return dt=="{"?Me(Tr,"}"):(dt=="variable"&&he(Jt),Jt=="*"&&(ge.marked="keyword"),le(Bn))}function ss(dt){if(dt==",")return le(Tr,ss)}function Bn(dt,Jt){if(Jt=="as")return ge.marked="keyword",le(Tr)}function os(dt,Jt){if(Jt=="from")return ge.marked="keyword",le(gt)}function rn(dt){return dt=="]"?le():we(Pe(kt,"]"))}function Z0(){return we(lt("form"),ei,Ye("{"),lt("}"),Pe(Vs,"}"),Te,Te)}function Vs(){return we(ei,jt)}function Ks(dt,Jt){return dt.lastType=="operator"||dt.lastType==","||R.test(Jt.charAt(0))||/[,.]/.test(Jt.charAt(0))}function rr(dt,Jt,Qi){return Jt.tokenize==Y&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(Jt.lastType)||Jt.lastType=="quasi"&&/\{\s*$/.test(dt.string.slice(0,dt.pos-(Qi||0)))}return{startState:function(dt){var Jt={tokenize:Y,lastType:"sof",cc:[],lexical:new ne((dt||0)-s,0,"block",!1),localVars:i.localVars,context:i.localVars&&new Be(null,null,!1),indented:dt||0};return i.globalVars&&typeof i.globalVars=="object"&&(Jt.globalVars=i.globalVars),Jt},token:function(dt,Jt){if(dt.sol()&&(Jt.lexical.hasOwnProperty("align")||(Jt.lexical.align=!1),Jt.indented=dt.indentation(),be(dt,Jt)),Jt.tokenize!=ue&&dt.eatSpace())return null;var Qi=Jt.tokenize(dt,Jt);return O=="comment"?Qi:(Jt.lastType=O=="operator"&&(H=="++"||H=="--")?"incdec":O,ye(Jt,Qi,O,H,dt))},indent:function(dt,Jt){if(dt.tokenize==ue||dt.tokenize==oe)return l.Pass;if(dt.tokenize!=Y)return 0;var Qi=Jt&&Jt.charAt(0),$i=dt.lexical,dn;if(!/^\s*else\b/.test(Jt))for(var jn=dt.cc.length-1;jn>=0;--jn){var Cr=dt.cc[jn];if(Cr==Te)$i=$i.prev;else if(Cr!=Mn&&Cr!=Re)break}for(;($i.type=="stat"||$i.type=="form")&&(Qi=="}"||(dn=dt.cc[dt.cc.length-1])&&(dn==$t||dn==vi)&&!/^[,\.=+\-*:?[\(]/.test(Jt));)$i=$i.prev;u&&$i.type==")"&&$i.prev.type=="stat"&&($i=$i.prev);var Co=$i.type,ya=Qi==Co;return Co=="vardef"?$i.indented+(dt.lastType=="operator"||dt.lastType==","?$i.info.length+1:0):Co=="form"&&Qi=="{"?$i.indented:Co=="form"?$i.indented+s:Co=="stat"?$i.indented+(Ks(dt,Jt)?u||s:0):$i.info=="switch"&&!ya&&i.doubleIndentSwitch!=!1?$i.indented+(/^(?:case|default)\b/.test(Jt)?s:2*s):$i.align?$i.column+(ya?0:1):$i.indented+(ya?0:s)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:y?null:"/*",blockCommentEnd:y?null:"*/",blockCommentContinue:y?null:" * ",lineComment:y?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:y?"json":"javascript",jsonldMode:p,jsonMode:y,expressionAllowed:rr,skipExpression:function(dt){ye(dt,"atom","atom","true",new l.StringStream("",2,null))}}}),l.registerHelper("wordChars","javascript",/[\w$]/),l.defineMIME("text/javascript","javascript"),l.defineMIME("text/ecmascript","javascript"),l.defineMIME("application/javascript","javascript"),l.defineMIME("application/x-javascript","javascript"),l.defineMIME("application/ecmascript","javascript"),l.defineMIME("application/json",{name:"javascript",json:!0}),l.defineMIME("application/x-json",{name:"javascript",json:!0}),l.defineMIME("application/manifest+json",{name:"javascript",json:!0}),l.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),l.defineMIME("text/typescript",{name:"javascript",typescript:!0}),l.defineMIME("application/typescript",{name:"javascript",typescript:!0})});(function(l){typeof exports=="object"&&typeof module=="object"?l(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],l):l(CodeMirror)})(function(l){l.defineMode("glsl",function(p,y){var A=p.indentUnit,E=y.keywords||t(i),_=y.builtins||t(s),k=y.blockKeywords||t("case do else for if switch while struct"),R=y.atoms||t("null"),P=y.hooks||{},B=y.multiLineStrings,O=/[+\-*&%=<>!?|\/]/,H;function z(be,xe){var ne=be.next();if(P[ne]){var ae=P[ne](be,xe);if(ae!==!1)return ae}if(ne=='"'||ne=="'")return xe.tokenize=Y(ne),xe.tokenize(be,xe);if(/[\[\]{}\(\),;\:\.]/.test(ne))return H=ne,"bracket";if(/\d/.test(ne))return be.eatWhile(/[\w\.]/),"number";if(ne=="/"){if(be.eat("*"))return xe.tokenize=ee,ee(be,xe);if(be.eat("/"))return be.skipToEnd(),"comment"}if(ne=="#")return be.eatWhile(/[\S]+/),be.eatWhile(/[\s]+/),be.eatWhile(/[\S]+/),be.eatWhile(/[\s]+/),"comment";if(O.test(ne))return be.eatWhile(O),"operator";be.eatWhile(/[\w\$_]/);var ye=be.current();return E.propertyIsEnumerable(ye)?(k.propertyIsEnumerable(ye)&&(H="newstatement"),"keyword"):_.propertyIsEnumerable(ye)?"builtin":R.propertyIsEnumerable(ye)?"atom":"word"}function Y(be){return function(xe,ne){for(var ae=!1,ye,ge=!1;(ye=xe.next())!=null;){if(ye==be&&!ae){ge=!0;break}ae=!ae&&ye=="\\"}return(ge||!(ae||B))&&(ne.tokenize=z),"string"}}function ee(be,xe){for(var ne=!1,ae;ae=be.next();){if(ae=="/"&&ne){xe.tokenize=z;break}ne=ae=="*"}return"comment"}function ue(be,xe,ne,ae,ye){this.indented=be,this.column=xe,this.type=ne,this.align=ae,this.prev=ye}function oe(be,xe,ne){return be.context=new ue(be.indented,xe,ne,null,be.context)}function Ae(be){var xe=be.context.type;return(xe==")"||xe=="]"||xe=="}")&&(be.indented=be.context.indented),be.context=be.context.prev}return{startState:function(be){return{tokenize:null,context:new ue((be||0)-A,0,"top",!1),indented:0,startOfLine:!0}},token:function(be,xe){var ne=xe.context;if(be.sol()&&(ne.align==null&&(ne.align=!1),xe.indented=be.indentation(),xe.startOfLine=!0),be.eatSpace())return null;H=null;var ae=(xe.tokenize||z)(be,xe);if(ae=="comment"||ae=="meta")return ae;if(ne.align==null&&(ne.align=!0),(H==";"||H==":")&&ne.type=="statement")Ae(xe);else if(H=="{")oe(xe,be.column(),"}");else if(H=="[")oe(xe,be.column(),"]");else if(H=="(")oe(xe,be.column(),")");else if(H=="}"){for(;ne.type=="statement";)ne=Ae(xe);for(ne.type=="}"&&(ne=Ae(xe));ne.type=="statement";)ne=Ae(xe)}else H==ne.type?Ae(xe):(ne.type=="}"||ne.type=="top"||ne.type=="statement"&&H=="newstatement")&&oe(xe,be.column(),"statement");return xe.startOfLine=!1,ae},indent:function(be,xe){if(be.tokenize!=z&&be.tokenize!=null)return 0;var ne=xe&&xe.charAt(0),ae=be.context,ye=ne==ae.type;return ae.type=="statement"?ae.indented+(ne=="{"?0:A):ae.align?ae.column+(ye?0:1):ae.indented+(ye?0:A)},electricChars:"{}"}});function t(p){for(var y={},A=p.split(" "),E=0;E<A.length;++E)y[A[E]]=!0;return y}var i="attribute const uniform varying break continue do for while if else in out inout float int void bool true false lowp mediump highp precision invariant discard return mat2 mat3 mat4 vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 sampler2D samplerCube struct gl_FragCoord gl_FragColor gl_Position",s="radians degrees sin cos tan asin acos atan pow exp log exp2 log2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not dFdx dFdy fwidth texture2D texture2DProj texture2DLod texture2DProjLod textureCube textureCubeLod require export";function u(p,y){return y.startOfLine?(p.skipToEnd(),"meta"):!1}(function(){l.defineMIME("text/x-glsl",{name:"glsl",keywords:t(i),builtins:t(s),blockKeywords:t("case do else for if switch while struct"),atoms:t("null"),hooks:{"#":u}})})()});(function(t,i){typeof exports=="object"&&typeof module=="object"?module.exports=i():typeof define=="function"&&define.amd?define([],i):typeof exports=="object"?exports.esprima=i():t.esprima=i()})(globalThis,function(){return function(l){var t={};function i(s){if(t[s])return t[s].exports;var u=t[s]={exports:{},id:s,loaded:!1};return l[s].call(u.exports,u,u.exports,i),u.loaded=!0,u.exports}return i.m=l,i.c=t,i.p="",i(0)}([function(l,t,i){var s=i(1),u=i(3),p=i(11),y=i(15);function A(k,R,P){var B=null,O=function(oe,Ae){P&&P(oe,Ae),B&&B.visit(oe,Ae)},H=typeof P=="function"?O:null,z=!1;if(R){z=typeof R.comment=="boolean"&&R.comment;var Y=typeof R.attachComment=="boolean"&&R.attachComment;(z||Y)&&(B=new s.CommentHandler,B.attach=Y,R.comment=!0,H=O)}var ee;R&&typeof R.jsx=="boolean"&&R.jsx?ee=new p.JSXParser(k,R,H):ee=new u.Parser(k,R,H);var ue=ee.parseProgram();return z&&(ue.comments=B.comments),ee.config.tokens&&(ue.tokens=ee.tokens),ee.config.tolerant&&(ue.errors=ee.errorHandler.errors),ue}t.parse=A;function E(k,R,P){var B=new y.Tokenizer(k,R),O;O=[];try{for(;;){var H=B.getNextToken();if(!H)break;P&&(H=P(H)),O.push(H)}}catch(z){B.errorHandler.tolerate(z)}return B.errorHandler.tolerant&&(O.errors=B.errors()),O}t.tokenize=E;var _=i(2);t.Syntax=_.Syntax,t.version="3.1.3"},function(l,t,i){var s=i(2),u=function(){function p(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return p.prototype.insertInnerComments=function(y,A){if(y.type===s.Syntax.BlockStatement&&y.body.length===0){for(var E=[],_=this.leading.length-1;_>=0;--_){var k=this.leading[_];A.end.offset>=k.start&&(E.unshift(k.comment),this.leading.splice(_,1),this.trailing.splice(_,1))}E.length&&(y.innerComments=E)}},p.prototype.findTrailingComments=function(y,A){var E=[];if(this.trailing.length>0){for(var _=this.trailing.length-1;_>=0;--_){var k=this.trailing[_];k.start>=A.end.offset&&E.unshift(k.comment)}return this.trailing.length=0,E}var R=this.stack[this.stack.length-1];if(R&&R.node.trailingComments){var P=R.node.trailingComments[0];P&&P.range[0]>=A.end.offset&&(E=R.node.trailingComments,delete R.node.trailingComments)}return E},p.prototype.findLeadingComments=function(y,A){for(var E=[],_;this.stack.length>0;){var k=this.stack[this.stack.length-1];if(k&&k.start>=A.start.offset)_=this.stack.pop().node;else break}if(_){for(var R=_.leadingComments?_.leadingComments.length:0,P=R-1;P>=0;--P){var B=_.leadingComments[P];B.range[1]<=A.start.offset&&(E.unshift(B),_.leadingComments.splice(P,1))}return _.leadingComments&&_.leadingComments.length===0&&delete _.leadingComments,E}for(var P=this.leading.length-1;P>=0;--P){var k=this.leading[P];k.start<=A.start.offset&&(E.unshift(k.comment),this.leading.splice(P,1))}return E},p.prototype.visitNode=function(y,A){if(!(y.type===s.Syntax.Program&&y.body.length>0)){this.insertInnerComments(y,A);var E=this.findTrailingComments(y,A),_=this.findLeadingComments(y,A);_.length>0&&(y.leadingComments=_),E.length>0&&(y.trailingComments=E),this.stack.push({node:y,start:A.start.offset})}},p.prototype.visitComment=function(y,A){var E=y.type[0]==="L"?"Line":"Block",_={type:E,value:y.value};if(y.range&&(_.range=y.range),y.loc&&(_.loc=y.loc),this.comments.push(_),this.attach){var k={comment:{type:E,value:y.value,range:[A.start.offset,A.end.offset]},start:A.start.offset};y.loc&&(k.comment.loc=y.loc),y.type=E,this.leading.push(k),this.trailing.push(k)}},p.prototype.visit=function(y,A){y.type==="LineComment"?this.visitComment(y,A):y.type==="BlockComment"?this.visitComment(y,A):this.attach&&this.visitNode(y,A)},p}();t.CommentHandler=u},function(l,t){t.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(l,t,i){var s=i(4),u=i(5),p=i(6),y=i(7),A=i(8),E=i(2),_=i(10),k="ArrowParameterPlaceHolder",R=function(){function P(B,O,H){O===void 0&&(O={}),this.config={range:typeof O.range=="boolean"&&O.range,loc:typeof O.loc=="boolean"&&O.loc,source:null,tokens:typeof O.tokens=="boolean"&&O.tokens,comment:typeof O.comment=="boolean"&&O.comment,tolerant:typeof O.tolerant=="boolean"&&O.tolerant},this.config.loc&&O.source&&O.source!==null&&(this.config.source=String(O.source)),this.delegate=H,this.errorHandler=new p.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new A.Scanner(B,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.sourceType=O&&O.sourceType==="module"?"module":"script",this.lookahead=null,this.hasLineTerminator=!1,this.context={allowIn:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:this.sourceType==="module"},this.tokens=[],this.startMarker={index:0,lineNumber:this.scanner.lineNumber,lineStart:0},this.lastMarker={index:0,lineNumber:this.scanner.lineNumber,lineStart:0},this.nextToken(),this.lastMarker={index:this.scanner.index,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart}}return P.prototype.throwError=function(B){for(var O=[],H=1;H<arguments.length;H++)O[H-1]=arguments[H];var z=Array.prototype.slice.call(arguments,1),Y=B.replace(/%(\d)/g,function(Ae,be){return s.assert(be<z.length,"Message reference must be in range"),z[be]}),ee=this.lastMarker.index,ue=this.lastMarker.lineNumber,oe=this.lastMarker.index-this.lastMarker.lineStart+1;throw this.errorHandler.createError(ee,ue,oe,Y)},P.prototype.tolerateError=function(B){for(var O=[],H=1;H<arguments.length;H++)O[H-1]=arguments[H];var z=Array.prototype.slice.call(arguments,1),Y=B.replace(/%(\d)/g,function(Ae,be){return s.assert(be<z.length,"Message reference must be in range"),z[be]}),ee=this.lastMarker.index,ue=this.scanner.lineNumber,oe=this.lastMarker.index-this.lastMarker.lineStart+1;this.errorHandler.tolerateError(ee,ue,oe,Y)},P.prototype.unexpectedTokenError=function(B,O){var H=O||u.Messages.UnexpectedToken,z;if(B?(O||(H=B.type===y.Token.EOF?u.Messages.UnexpectedEOS:B.type===y.Token.Identifier?u.Messages.UnexpectedIdentifier:B.type===y.Token.NumericLiteral?u.Messages.UnexpectedNumber:B.type===y.Token.StringLiteral?u.Messages.UnexpectedString:B.type===y.Token.Template?u.Messages.UnexpectedTemplate:u.Messages.UnexpectedToken,B.type===y.Token.Keyword&&(this.scanner.isFutureReservedWord(B.value)?H=u.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(B.value)&&(H=u.Messages.StrictReservedWord))),z=B.type===y.Token.Template?B.value.raw:B.value):z="ILLEGAL",H=H.replace("%0",z),B&&typeof B.lineNumber=="number"){var Y=B.start,ee=B.lineNumber,ue=B.start-this.lastMarker.lineStart+1;return this.errorHandler.createError(Y,ee,ue,H)}else{var Y=this.lastMarker.index,ee=this.lastMarker.lineNumber,ue=Y-this.lastMarker.lineStart+1;return this.errorHandler.createError(Y,ee,ue,H)}},P.prototype.throwUnexpectedToken=function(B,O){throw this.unexpectedTokenError(B,O)},P.prototype.tolerateUnexpectedToken=function(B,O){this.errorHandler.tolerate(this.unexpectedTokenError(B,O))},P.prototype.collectComments=function(){if(!this.config.comment)this.scanner.scanComments();else{var B=this.scanner.scanComments();if(B.length>0&&this.delegate)for(var O=0;O<B.length;++O){var H=B[O],z=void 0;z={type:H.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(H.slice[0],H.slice[1])},this.config.range&&(z.range=H.range),this.config.loc&&(z.loc=H.loc);var Y={start:{line:H.loc.start.line,column:H.loc.start.column,offset:H.range[0]},end:{line:H.loc.end.line,column:H.loc.end.column,offset:H.range[1]}};this.delegate(z,Y)}}},P.prototype.getTokenRaw=function(B){return this.scanner.source.slice(B.start,B.end)},P.prototype.convertToken=function(B){var O;return O={type:y.TokenName[B.type],value:this.getTokenRaw(B)},this.config.range&&(O.range=[B.start,B.end]),this.config.loc&&(O.loc={start:{line:this.startMarker.lineNumber,column:this.startMarker.index-this.startMarker.lineStart},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),B.regex&&(O.regex=B.regex),O},P.prototype.nextToken=function(){var B=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.lineNumber=this.scanner.lineNumber,this.lastMarker.lineStart=this.scanner.lineStart,this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.lineNumber=this.scanner.lineNumber,this.startMarker.lineStart=this.scanner.lineStart;var O;return O=this.scanner.lex(),this.hasLineTerminator=B&&O?B.lineNumber!==O.lineNumber:!1,O&&this.context.strict&&O.type===y.Token.Identifier&&this.scanner.isStrictModeReservedWord(O.value)&&(O.type=y.Token.Keyword),this.lookahead=O,this.config.tokens&&O.type!==y.Token.EOF&&this.tokens.push(this.convertToken(O)),B},P.prototype.nextRegexToken=function(){this.collectComments();var B=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(B))),this.lookahead=B,this.nextToken(),B},P.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.lineNumber,column:this.startMarker.index-this.startMarker.lineStart}},P.prototype.startNode=function(B){return{index:B.start,line:B.lineNumber,column:B.start-B.lineStart}},P.prototype.finalize=function(B,O){if(this.config.range&&(O.range=[B.index,this.lastMarker.index]),this.config.loc&&(O.loc={start:{line:B.line,column:B.column},end:{line:this.lastMarker.lineNumber,column:this.lastMarker.index-this.lastMarker.lineStart}},this.config.source&&(O.loc.source=this.config.source)),this.delegate){var H={start:{line:B.line,column:B.column,offset:B.index},end:{line:this.lastMarker.lineNumber,column:this.lastMarker.index-this.lastMarker.lineStart,offset:this.lastMarker.index}};this.delegate(O,H)}return O},P.prototype.expect=function(B){var O=this.nextToken();(O.type!==y.Token.Punctuator||O.value!==B)&&this.throwUnexpectedToken(O)},P.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var B=this.lookahead;B.type===y.Token.Punctuator&&B.value===","?this.nextToken():B.type===y.Token.Punctuator&&B.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(B)):this.tolerateUnexpectedToken(B,u.Messages.UnexpectedToken)}else this.expect(",")},P.prototype.expectKeyword=function(B){var O=this.nextToken();(O.type!==y.Token.Keyword||O.value!==B)&&this.throwUnexpectedToken(O)},P.prototype.match=function(B){return this.lookahead.type===y.Token.Punctuator&&this.lookahead.value===B},P.prototype.matchKeyword=function(B){return this.lookahead.type===y.Token.Keyword&&this.lookahead.value===B},P.prototype.matchContextualKeyword=function(B){return this.lookahead.type===y.Token.Identifier&&this.lookahead.value===B},P.prototype.matchAssign=function(){if(this.lookahead.type!==y.Token.Punctuator)return!1;var B=this.lookahead.value;return B==="="||B==="*="||B==="**="||B==="/="||B==="%="||B==="+="||B==="-="||B==="<<="||B===">>="||B===">>>="||B==="&="||B==="^="||B==="|="},P.prototype.isolateCoverGrammar=function(B){var O=this.context.isBindingElement,H=this.context.isAssignmentTarget,z=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var Y=B.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=O,this.context.isAssignmentTarget=H,this.context.firstCoverInitializedNameError=z,Y},P.prototype.inheritCoverGrammar=function(B){var O=this.context.isBindingElement,H=this.context.isAssignmentTarget,z=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var Y=B.call(this);return this.context.isBindingElement=this.context.isBindingElement&&O,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&H,this.context.firstCoverInitializedNameError=z||this.context.firstCoverInitializedNameError,Y},P.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type!==y.Token.EOF&&!this.match("}")&&this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.lineNumber=this.startMarker.lineNumber,this.lastMarker.lineStart=this.startMarker.lineStart)},P.prototype.parsePrimaryExpression=function(){var B=this.createNode(),O,H,z,Y;switch(this.lookahead.type){case y.Token.Identifier:this.sourceType==="module"&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),O=this.finalize(B,new _.Identifier(this.nextToken().value));break;case y.Token.NumericLiteral:case y.Token.StringLiteral:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,u.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,z=this.nextToken(),Y=this.getTokenRaw(z),O=this.finalize(B,new _.Literal(z.value,Y));break;case y.Token.BooleanLiteral:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,z=this.nextToken(),z.value=z.value==="true",Y=this.getTokenRaw(z),O=this.finalize(B,new _.Literal(z.value,Y));break;case y.Token.NullLiteral:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,z=this.nextToken(),z.value=null,Y=this.getTokenRaw(z),O=this.finalize(B,new _.Literal(z.value,Y));break;case y.Token.Template:O=this.parseTemplateLiteral();break;case y.Token.Punctuator:switch(H=this.lookahead.value,H){case"(":this.context.isBindingElement=!1,O=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":O=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":O=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,z=this.nextRegexToken(),Y=this.getTokenRaw(z),O=this.finalize(B,new _.RegexLiteral(z.value,Y,z.regex));break;default:this.throwUnexpectedToken(this.nextToken())}break;case y.Token.Keyword:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?O=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?O=this.finalize(B,new _.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?O=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),O=this.finalize(B,new _.ThisExpression)):this.matchKeyword("class")?O=this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:this.throwUnexpectedToken(this.nextToken())}return O},P.prototype.parseSpreadElement=function(){var B=this.createNode();this.expect("...");var O=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(B,new _.SpreadElement(O))},P.prototype.parseArrayInitializer=function(){var B=this.createNode(),O=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),O.push(null);else if(this.match("...")){var H=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),O.push(H)}else O.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(B,new _.ArrayExpression(O))},P.prototype.parsePropertyMethod=function(B){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var O=this.context.strict,H=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&B.firstRestricted&&this.tolerateUnexpectedToken(B.firstRestricted,B.message),this.context.strict&&B.stricted&&this.tolerateUnexpectedToken(B.stricted,B.message),this.context.strict=O,H},P.prototype.parsePropertyMethodFunction=function(){var B=!1,O=this.createNode(),H=this.context.allowYield;this.context.allowYield=!1;var z=this.parseFormalParameters(),Y=this.parsePropertyMethod(z);return this.context.allowYield=H,this.finalize(O,new _.FunctionExpression(null,z.params,Y,B))},P.prototype.parseObjectPropertyKey=function(){var B=this.createNode(),O=this.nextToken(),H=null;switch(O.type){case y.Token.StringLiteral:case y.Token.NumericLiteral:this.context.strict&&O.octal&&this.tolerateUnexpectedToken(O,u.Messages.StrictOctalLiteral);var z=this.getTokenRaw(O);H=this.finalize(B,new _.Literal(O.value,z));break;case y.Token.Identifier:case y.Token.BooleanLiteral:case y.Token.NullLiteral:case y.Token.Keyword:H=this.finalize(B,new _.Identifier(O.value));break;case y.Token.Punctuator:O.value==="["?(H=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):this.throwUnexpectedToken(O);break;default:this.throwUnexpectedToken(O)}return H},P.prototype.isPropertyKey=function(B,O){return B.type===E.Syntax.Identifier&&B.name===O||B.type===E.Syntax.Literal&&B.value===O},P.prototype.parseObjectProperty=function(B){var O=this.createNode(),H=this.lookahead,z,Y,ee,ue=!1,oe=!1,Ae=!1;H.type===y.Token.Identifier?(this.nextToken(),Y=this.finalize(O,new _.Identifier(H.value))):this.match("*")?this.nextToken():(ue=this.match("["),Y=this.parseObjectPropertyKey());var be=this.qualifiedPropertyName(this.lookahead);if(H.type===y.Token.Identifier&&H.value==="get"&&be)z="get",ue=this.match("["),Y=this.parseObjectPropertyKey(),this.context.allowYield=!1,ee=this.parseGetterMethod();else if(H.type===y.Token.Identifier&&H.value==="set"&&be)z="set",ue=this.match("["),Y=this.parseObjectPropertyKey(),ee=this.parseSetterMethod();else if(H.type===y.Token.Punctuator&&H.value==="*"&&be)z="init",ue=this.match("["),Y=this.parseObjectPropertyKey(),ee=this.parseGeneratorMethod(),oe=!0;else if(Y||this.throwUnexpectedToken(this.lookahead),z="init",this.match(":"))!ue&&this.isPropertyKey(Y,"__proto__")&&(B.value&&this.tolerateError(u.Messages.DuplicateProtoProperty),B.value=!0),this.nextToken(),ee=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))ee=this.parsePropertyMethodFunction(),oe=!0;else if(H.type===y.Token.Identifier){var xe=this.finalize(O,new _.Identifier(H.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),Ae=!0;var ne=this.isolateCoverGrammar(this.parseAssignmentExpression);ee=this.finalize(O,new _.AssignmentPattern(xe,ne))}else Ae=!0,ee=xe}else this.throwUnexpectedToken(this.nextToken());return this.finalize(O,new _.Property(z,Y,ue,ee,oe,Ae))},P.prototype.parseObjectInitializer=function(){var B=this.createNode();this.expect("{");for(var O=[],H={value:!1};!this.match("}");)O.push(this.parseObjectProperty(H)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(B,new _.ObjectExpression(O))},P.prototype.parseTemplateHead=function(){s.assert(this.lookahead.head,"Template literal must start with a template head");var B=this.createNode(),O=this.nextToken(),H={raw:O.value.raw,cooked:O.value.cooked};return this.finalize(B,new _.TemplateElement(H,O.tail))},P.prototype.parseTemplateElement=function(){this.lookahead.type!==y.Token.Template&&this.throwUnexpectedToken();var B=this.createNode(),O=this.nextToken(),H={raw:O.value.raw,cooked:O.value.cooked};return this.finalize(B,new _.TemplateElement(H,O.tail))},P.prototype.parseTemplateLiteral=function(){var B=this.createNode(),O=[],H=[],z=this.parseTemplateHead();for(H.push(z);!z.tail;)O.push(this.parseExpression()),z=this.parseTemplateElement(),H.push(z);return this.finalize(B,new _.TemplateLiteral(H,O))},P.prototype.reinterpretExpressionAsPattern=function(B){switch(B.type){case E.Syntax.Identifier:case E.Syntax.MemberExpression:case E.Syntax.RestElement:case E.Syntax.AssignmentPattern:break;case E.Syntax.SpreadElement:B.type=E.Syntax.RestElement,this.reinterpretExpressionAsPattern(B.argument);break;case E.Syntax.ArrayExpression:B.type=E.Syntax.ArrayPattern;for(var O=0;O<B.elements.length;O++)B.elements[O]!==null&&this.reinterpretExpressionAsPattern(B.elements[O]);break;case E.Syntax.ObjectExpression:B.type=E.Syntax.ObjectPattern;for(var O=0;O<B.properties.length;O++)this.reinterpretExpressionAsPattern(B.properties[O].value);break;case E.Syntax.AssignmentExpression:B.type=E.Syntax.AssignmentPattern,delete B.operator,this.reinterpretExpressionAsPattern(B.left);break}},P.prototype.parseGroupExpression=function(){var B;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),B={type:k,params:[]};else{var O=this.lookahead,H=[];if(this.match("..."))B=this.parseRestElement(H),this.expect(")"),this.match("=>")||this.expect("=>"),B={type:k,params:[B]};else{var z=!1;if(this.context.isBindingElement=!0,B=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var Y=[];for(this.context.isAssignmentTarget=!1,Y.push(B);this.startMarker.index<this.scanner.length&&this.match(",");){if(this.nextToken(),this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),Y.push(this.parseRestElement(H)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1;for(var ee=0;ee<Y.length;ee++)this.reinterpretExpressionAsPattern(Y[ee]);z=!0,B={type:k,params:Y}}else Y.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(z)break}z||(B=this.finalize(this.startNode(O),new _.SequenceExpression(Y)))}if(!z){if(this.expect(")"),this.match("=>")&&(B.type===E.Syntax.Identifier&&B.name==="yield"&&(z=!0,B={type:k,params:[B]}),!z)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),B.type===E.Syntax.SequenceExpression)for(var ee=0;ee<B.expressions.length;ee++)this.reinterpretExpressionAsPattern(B.expressions[ee]);else this.reinterpretExpressionAsPattern(B);var ue=B.type===E.Syntax.SequenceExpression?B.expressions:[B];B={type:k,params:ue}}this.context.isBindingElement=!1}}}return B},P.prototype.parseArguments=function(){this.expect("(");var B=[];if(!this.match(")"))for(;;){var O=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(B.push(O),this.match(")"))break;this.expectCommaSeparator()}return this.expect(")"),B},P.prototype.isIdentifierName=function(B){return B.type===y.Token.Identifier||B.type===y.Token.Keyword||B.type===y.Token.BooleanLiteral||B.type===y.Token.NullLiteral},P.prototype.parseIdentifierName=function(){var B=this.createNode(),O=this.nextToken();return this.isIdentifierName(O)||this.throwUnexpectedToken(O),this.finalize(B,new _.Identifier(O.value))},P.prototype.parseNewExpression=function(){var B=this.createNode(),O=this.parseIdentifierName();s.assert(O.name==="new","New expression must start with `new`");var H;if(this.match("."))if(this.nextToken(),this.lookahead.type===y.Token.Identifier&&this.context.inFunctionBody&&this.lookahead.value==="target"){var z=this.parseIdentifierName();H=new _.MetaProperty(O,z)}else this.throwUnexpectedToken(this.lookahead);else{var Y=this.isolateCoverGrammar(this.parseLeftHandSideExpression),ee=this.match("(")?this.parseArguments():[];H=new _.NewExpression(Y,ee),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(B,H)},P.prototype.parseLeftHandSideExpressionAllowCall=function(){var B=this.lookahead,O=this.context.allowIn;this.context.allowIn=!0;var H;for(this.matchKeyword("super")&&this.context.inFunctionBody?(H=this.createNode(),this.nextToken(),H=this.finalize(H,new _.Super),!this.match("(")&&!this.match(".")&&!this.match("[")&&this.throwUnexpectedToken(this.lookahead)):H=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var z=this.parseIdentifierName();H=this.finalize(this.startNode(B),new _.StaticMemberExpression(H,z))}else if(this.match("(")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var Y=this.parseArguments();H=this.finalize(this.startNode(B),new _.CallExpression(H,Y))}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var z=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),H=this.finalize(this.startNode(B),new _.ComputedMemberExpression(H,z))}else if(this.lookahead.type===y.Token.Template&&this.lookahead.head){var ee=this.parseTemplateLiteral();H=this.finalize(this.startNode(B),new _.TaggedTemplateExpression(H,ee))}else break;return this.context.allowIn=O,H},P.prototype.parseSuper=function(){var B=this.createNode();return this.expectKeyword("super"),!this.match("[")&&!this.match(".")&&this.throwUnexpectedToken(this.lookahead),this.finalize(B,new _.Super)},P.prototype.parseLeftHandSideExpression=function(){s.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var B=this.startNode(this.lookahead),O=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var H=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),O=this.finalize(B,new _.ComputedMemberExpression(O,H))}else if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var H=this.parseIdentifierName();O=this.finalize(B,new _.StaticMemberExpression(O,H))}else if(this.lookahead.type===y.Token.Template&&this.lookahead.head){var z=this.parseTemplateLiteral();O=this.finalize(B,new _.TaggedTemplateExpression(O,z))}else break;return O},P.prototype.parseUpdateExpression=function(){var B,O=this.lookahead;if(this.match("++")||this.match("--")){var H=this.startNode(O),z=this.nextToken();B=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&B.type===E.Syntax.Identifier&&this.scanner.isRestrictedWord(B.name)&&this.tolerateError(u.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(u.Messages.InvalidLHSInAssignment);var Y=!0;B=this.finalize(H,new _.UpdateExpression(z.value,B,Y)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(B=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===y.Token.Punctuator&&(this.match("++")||this.match("--"))){this.context.strict&&B.type===E.Syntax.Identifier&&this.scanner.isRestrictedWord(B.name)&&this.tolerateError(u.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(u.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var ee=this.nextToken().value,Y=!1;B=this.finalize(this.startNode(O),new _.UpdateExpression(ee,B,Y))}return B},P.prototype.parseUnaryExpression=function(){var B;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var O=this.startNode(this.lookahead),H=this.nextToken();B=this.inheritCoverGrammar(this.parseUnaryExpression),B=this.finalize(O,new _.UnaryExpression(H.value,B)),this.context.strict&&B.operator==="delete"&&B.argument.type===E.Syntax.Identifier&&this.tolerateError(u.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else B=this.parseUpdateExpression();return B},P.prototype.parseExponentiationExpression=function(){var B=this.lookahead,O=this.inheritCoverGrammar(this.parseUnaryExpression);if(O.type!==E.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var H=O,z=this.isolateCoverGrammar(this.parseExponentiationExpression);O=this.finalize(this.startNode(B),new _.BinaryExpression("**",H,z))}return O},P.prototype.binaryPrecedence=function(B){var O=B.value,H;return B.type===y.Token.Punctuator?H=this.operatorPrecedence[O]||0:B.type===y.Token.Keyword?H=O==="instanceof"||this.context.allowIn&&O==="in"?7:0:H=0,H},P.prototype.parseBinaryExpression=function(){var B=this.lookahead,O=this.inheritCoverGrammar(this.parseExponentiationExpression),H=this.lookahead,z=this.binaryPrecedence(H);if(z>0){this.nextToken(),H.prec=z,this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var Y=[B,this.lookahead],ee=O,ue=this.isolateCoverGrammar(this.parseExponentiationExpression),oe=[ee,H,ue];z=this.binaryPrecedence(this.lookahead),!(z<=0);){for(;oe.length>2&&z<=oe[oe.length-2].prec;){ue=oe.pop();var Ae=oe.pop().value;ee=oe.pop(),Y.pop();var be=this.startNode(Y[Y.length-1]);oe.push(this.finalize(be,new _.BinaryExpression(Ae,ee,ue)))}H=this.nextToken(),H.prec=z,oe.push(H),Y.push(this.lookahead),oe.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var xe=oe.length-1;for(O=oe[xe],Y.pop();xe>1;){var be=this.startNode(Y.pop());O=this.finalize(be,new _.BinaryExpression(oe[xe-1].value,oe[xe-2],O)),xe-=2}}return O},P.prototype.parseConditionalExpression=function(){var B=this.lookahead,O=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var H=this.context.allowIn;this.context.allowIn=!0;var z=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=H,this.expect(":");var Y=this.isolateCoverGrammar(this.parseAssignmentExpression);O=this.finalize(this.startNode(B),new _.ConditionalExpression(O,z,Y)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return O},P.prototype.checkPatternParam=function(B,O){switch(O.type){case E.Syntax.Identifier:this.validateParam(B,O,O.name);break;case E.Syntax.RestElement:this.checkPatternParam(B,O.argument);break;case E.Syntax.AssignmentPattern:this.checkPatternParam(B,O.left);break;case E.Syntax.ArrayPattern:for(var H=0;H<O.elements.length;H++)O.elements[H]!==null&&this.checkPatternParam(B,O.elements[H]);break;case E.Syntax.YieldExpression:break;default:s.assert(O.type===E.Syntax.ObjectPattern,"Invalid type");for(var H=0;H<O.properties.length;H++)this.checkPatternParam(B,O.properties[H].value);break}},P.prototype.reinterpretAsCoverFormalsList=function(B){var O=[B],H;switch(B.type){case E.Syntax.Identifier:break;case k:O=B.params;break;default:return null}H={paramSet:{}};for(var z=0;z<O.length;++z){var Y=O[z];Y.type===E.Syntax.AssignmentPattern&&Y.right.type===E.Syntax.YieldExpression&&(Y.right.argument&&this.throwUnexpectedToken(this.lookahead),Y.right.type=E.Syntax.Identifier,Y.right.name="yield",delete Y.right.argument,delete Y.right.delegate),this.checkPatternParam(H,Y),O[z]=Y}if(this.context.strict||!this.context.allowYield)for(var z=0;z<O.length;++z){var Y=O[z];Y.type===E.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(H.message===u.Messages.StrictParamDupe){var ee=this.context.strict?H.stricted:H.firstRestricted;this.throwUnexpectedToken(ee,H.message)}return{params:O,stricted:H.stricted,firstRestricted:H.firstRestricted,message:H.message}},P.prototype.parseAssignmentExpression=function(){var B;if(!this.context.allowYield&&this.matchKeyword("yield"))B=this.parseYieldExpression();else{var O=this.lookahead,H=O;if(B=this.parseConditionalExpression(),B.type===k||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var z=this.reinterpretAsCoverFormalsList(B);if(z){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var Y=this.context.strict,ee=this.context.allowYield;this.context.allowYield=!0;var ue=this.startNode(O);this.expect("=>");var oe=this.match("{")?this.parseFunctionSourceElements():this.isolateCoverGrammar(this.parseAssignmentExpression),Ae=oe.type!==E.Syntax.BlockStatement;this.context.strict&&z.firstRestricted&&this.throwUnexpectedToken(z.firstRestricted,z.message),this.context.strict&&z.stricted&&this.tolerateUnexpectedToken(z.stricted,z.message),B=this.finalize(ue,new _.ArrowFunctionExpression(z.params,oe,Ae)),this.context.strict=Y,this.context.allowYield=ee}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(u.Messages.InvalidLHSInAssignment),this.context.strict&&B.type===E.Syntax.Identifier){var be=B;this.scanner.isRestrictedWord(be.name)&&this.tolerateUnexpectedToken(H,u.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(be.name)&&this.tolerateUnexpectedToken(H,u.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(B):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),H=this.nextToken();var xe=this.isolateCoverGrammar(this.parseAssignmentExpression);B=this.finalize(this.startNode(O),new _.AssignmentExpression(H.value,B,xe)),this.context.firstCoverInitializedNameError=null}}return B},P.prototype.parseExpression=function(){var B=this.lookahead,O=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var H=[];for(H.push(O);this.startMarker.index<this.scanner.length&&this.match(",");)this.nextToken(),H.push(this.isolateCoverGrammar(this.parseAssignmentExpression));O=this.finalize(this.startNode(B),new _.SequenceExpression(H))}return O},P.prototype.parseStatementListItem=function(){var B=null;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===y.Token.Keyword)switch(this.lookahead.value){case"export":this.sourceType!=="module"&&this.tolerateUnexpectedToken(this.lookahead,u.Messages.IllegalExportDeclaration),B=this.parseExportDeclaration();break;case"import":this.sourceType!=="module"&&this.tolerateUnexpectedToken(this.lookahead,u.Messages.IllegalImportDeclaration),B=this.parseImportDeclaration();break;case"const":B=this.parseLexicalDeclaration({inFor:!1});break;case"function":B=this.parseFunctionDeclaration();break;case"class":B=this.parseClassDeclaration();break;case"let":B=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:B=this.parseStatement();break}else B=this.parseStatement();return B},P.prototype.parseBlock=function(){var B=this.createNode();this.expect("{");for(var O=[];!this.match("}");)O.push(this.parseStatementListItem());return this.expect("}"),this.finalize(B,new _.BlockStatement(O))},P.prototype.parseLexicalBinding=function(B,O){var H=this.createNode(),z=[],Y=this.parsePattern(z,B);this.context.strict&&Y.type===E.Syntax.Identifier&&this.scanner.isRestrictedWord(Y.name)&&this.tolerateError(u.Messages.StrictVarName);var ee=null;return B==="const"?!this.matchKeyword("in")&&!this.matchContextualKeyword("of")&&(this.expect("="),ee=this.isolateCoverGrammar(this.parseAssignmentExpression)):(!O.inFor&&Y.type!==E.Syntax.Identifier||this.match("="))&&(this.expect("="),ee=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(H,new _.VariableDeclarator(Y,ee))},P.prototype.parseBindingList=function(B,O){for(var H=[this.parseLexicalBinding(B,O)];this.match(",");)this.nextToken(),H.push(this.parseLexicalBinding(B,O));return H},P.prototype.isLexicalDeclaration=function(){var B=this.scanner.index,O=this.scanner.lineNumber,H=this.scanner.lineStart;this.collectComments();var z=this.scanner.lex();return this.scanner.index=B,this.scanner.lineNumber=O,this.scanner.lineStart=H,z.type===y.Token.Identifier||z.type===y.Token.Punctuator&&z.value==="["||z.type===y.Token.Punctuator&&z.value==="{"||z.type===y.Token.Keyword&&z.value==="let"||z.type===y.Token.Keyword&&z.value==="yield"},P.prototype.parseLexicalDeclaration=function(B){var O=this.createNode(),H=this.nextToken().value;s.assert(H==="let"||H==="const","Lexical declaration must be either let or const");var z=this.parseBindingList(H,B);return this.consumeSemicolon(),this.finalize(O,new _.VariableDeclaration(z,H))},P.prototype.parseBindingRestElement=function(B,O){var H=this.createNode();this.expect("...");var z=this.parsePattern(B,O);return this.finalize(H,new _.RestElement(z))},P.prototype.parseArrayPattern=function(B,O){var H=this.createNode();this.expect("[");for(var z=[];!this.match("]");)if(this.match(","))this.nextToken(),z.push(null);else{if(this.match("...")){z.push(this.parseBindingRestElement(B,O));break}else z.push(this.parsePatternWithDefault(B,O));this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(H,new _.ArrayPattern(z))},P.prototype.parsePropertyPattern=function(B,O){var H=this.createNode(),z=!1,Y=!1,ee=!1,ue,oe;if(this.lookahead.type===y.Token.Identifier){var Ae=this.lookahead;ue=this.parseVariableIdentifier();var be=this.finalize(H,new _.Identifier(Ae.value));if(this.match("=")){B.push(Ae),Y=!0,this.nextToken();var xe=this.parseAssignmentExpression();oe=this.finalize(this.startNode(Ae),new _.AssignmentPattern(be,xe))}else this.match(":")?(this.expect(":"),oe=this.parsePatternWithDefault(B,O)):(B.push(Ae),Y=!0,oe=be)}else z=this.match("["),ue=this.parseObjectPropertyKey(),this.expect(":"),oe=this.parsePatternWithDefault(B,O);return this.finalize(H,new _.Property("init",ue,z,oe,ee,Y))},P.prototype.parseObjectPattern=function(B,O){var H=this.createNode(),z=[];for(this.expect("{");!this.match("}");)z.push(this.parsePropertyPattern(B,O)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(H,new _.ObjectPattern(z))},P.prototype.parsePattern=function(B,O){var H;return this.match("[")?H=this.parseArrayPattern(B,O):this.match("{")?H=this.parseObjectPattern(B,O):(this.matchKeyword("let")&&(O==="const"||O==="let")&&this.tolerateUnexpectedToken(this.lookahead,u.Messages.UnexpectedToken),B.push(this.lookahead),H=this.parseVariableIdentifier(O)),H},P.prototype.parsePatternWithDefault=function(B,O){var H=this.lookahead,z=this.parsePattern(B,O);if(this.match("=")){this.nextToken();var Y=this.context.allowYield;this.context.allowYield=!0;var ee=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=Y,z=this.finalize(this.startNode(H),new _.AssignmentPattern(z,ee))}return z},P.prototype.parseVariableIdentifier=function(B){var O=this.createNode(),H=this.nextToken();return H.type===y.Token.Keyword&&H.value==="yield"?(this.context.strict&&this.tolerateUnexpectedToken(H,u.Messages.StrictReservedWord),this.context.allowYield||this.throwUnexpectedToken(H)):H.type!==y.Token.Identifier?this.context.strict&&H.type===y.Token.Keyword&&this.scanner.isStrictModeReservedWord(H.value)?this.tolerateUnexpectedToken(H,u.Messages.StrictReservedWord):(this.context.strict||H.value!=="let"||B!=="var")&&this.throwUnexpectedToken(H):this.sourceType==="module"&&H.type===y.Token.Identifier&&H.value==="await"&&this.tolerateUnexpectedToken(H),this.finalize(O,new _.Identifier(H.value))},P.prototype.parseVariableDeclaration=function(B){var O=this.createNode(),H=[],z=this.parsePattern(H,"var");this.context.strict&&z.type===E.Syntax.Identifier&&this.scanner.isRestrictedWord(z.name)&&this.tolerateError(u.Messages.StrictVarName);var Y=null;return this.match("=")?(this.nextToken(),Y=this.isolateCoverGrammar(this.parseAssignmentExpression)):z.type!==E.Syntax.Identifier&&!B.inFor&&this.expect("="),this.finalize(O,new _.VariableDeclarator(z,Y))},P.prototype.parseVariableDeclarationList=function(B){var O={inFor:B.inFor},H=[];for(H.push(this.parseVariableDeclaration(O));this.match(",");)this.nextToken(),H.push(this.parseVariableDeclaration(O));return H},P.prototype.parseVariableStatement=function(){var B=this.createNode();this.expectKeyword("var");var O=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(B,new _.VariableDeclaration(O,"var"))},P.prototype.parseEmptyStatement=function(){var B=this.createNode();return this.expect(";"),this.finalize(B,new _.EmptyStatement)},P.prototype.parseExpressionStatement=function(){var B=this.createNode(),O=this.parseExpression();return this.consumeSemicolon(),this.finalize(B,new _.ExpressionStatement(O))},P.prototype.parseIfStatement=function(){var B=this.createNode(),O,H=null;this.expectKeyword("if"),this.expect("(");var z=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),O=this.finalize(this.createNode(),new _.EmptyStatement)):(this.expect(")"),O=this.parseStatement(),this.matchKeyword("else")&&(this.nextToken(),H=this.parseStatement())),this.finalize(B,new _.IfStatement(z,O,H))},P.prototype.parseDoWhileStatement=function(){var B=this.createNode();this.expectKeyword("do");var O=this.context.inIteration;this.context.inIteration=!0;var H=this.parseStatement();this.context.inIteration=O,this.expectKeyword("while"),this.expect("(");var z=this.parseExpression();return this.expect(")"),this.match(";")&&this.nextToken(),this.finalize(B,new _.DoWhileStatement(H,z))},P.prototype.parseWhileStatement=function(){var B=this.createNode(),O;this.expectKeyword("while"),this.expect("(");var H=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),O=this.finalize(this.createNode(),new _.EmptyStatement);else{this.expect(")");var z=this.context.inIteration;this.context.inIteration=!0,O=this.parseStatement(),this.context.inIteration=z}return this.finalize(B,new _.WhileStatement(H,O))},P.prototype.parseForStatement=function(){var B=null,O=null,H=null,z=!0,Y,ee,ue=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){B=this.createNode(),this.nextToken();var oe=this.context.allowIn;this.context.allowIn=!1;var Ae=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=oe,Ae.length===1&&this.matchKeyword("in")){var be=Ae[0];be.init&&(be.id.type===E.Syntax.ArrayPattern||be.id.type===E.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(u.Messages.ForInOfLoopInitializer,"for-in"),B=this.finalize(B,new _.VariableDeclaration(Ae,"var")),this.nextToken(),Y=B,ee=this.parseExpression(),B=null}else Ae.length===1&&Ae[0].init===null&&this.matchContextualKeyword("of")?(B=this.finalize(B,new _.VariableDeclaration(Ae,"var")),this.nextToken(),Y=B,ee=this.parseAssignmentExpression(),B=null,z=!1):(B=this.finalize(B,new _.VariableDeclaration(Ae,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){B=this.createNode();var xe=this.nextToken().value;if(!this.context.strict&&this.lookahead.value==="in")B=this.finalize(B,new _.Identifier(xe)),this.nextToken(),Y=B,ee=this.parseExpression(),B=null;else{var oe=this.context.allowIn;this.context.allowIn=!1;var Ae=this.parseBindingList(xe,{inFor:!0});this.context.allowIn=oe,Ae.length===1&&Ae[0].init===null&&this.matchKeyword("in")?(B=this.finalize(B,new _.VariableDeclaration(Ae,xe)),this.nextToken(),Y=B,ee=this.parseExpression(),B=null):Ae.length===1&&Ae[0].init===null&&this.matchContextualKeyword("of")?(B=this.finalize(B,new _.VariableDeclaration(Ae,xe)),this.nextToken(),Y=B,ee=this.parseAssignmentExpression(),B=null,z=!1):(this.consumeSemicolon(),B=this.finalize(B,new _.VariableDeclaration(Ae,xe)))}}else{var ne=this.lookahead,oe=this.context.allowIn;if(this.context.allowIn=!1,B=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=oe,this.matchKeyword("in"))(!this.context.isAssignmentTarget||B.type===E.Syntax.AssignmentExpression)&&this.tolerateError(u.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(B),Y=B,ee=this.parseExpression(),B=null;else if(this.matchContextualKeyword("of"))(!this.context.isAssignmentTarget||B.type===E.Syntax.AssignmentExpression)&&this.tolerateError(u.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(B),Y=B,ee=this.parseAssignmentExpression(),B=null,z=!1;else{if(this.match(",")){for(var ae=[B];this.match(",");)this.nextToken(),ae.push(this.isolateCoverGrammar(this.parseAssignmentExpression));B=this.finalize(this.startNode(ne),new _.SequenceExpression(ae))}this.expect(";")}}typeof Y=="undefined"&&(this.match(";")||(O=this.parseExpression()),this.expect(";"),this.match(")")||(H=this.parseExpression()));var ye;if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),ye=this.finalize(this.createNode(),new _.EmptyStatement);else{this.expect(")");var ge=this.context.inIteration;this.context.inIteration=!0,ye=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=ge}return typeof Y=="undefined"?this.finalize(ue,new _.ForStatement(B,O,H,ye)):z?this.finalize(ue,new _.ForInStatement(Y,ee,ye)):this.finalize(ue,new _.ForOfStatement(Y,ee,ye))},P.prototype.parseContinueStatement=function(){var B=this.createNode();this.expectKeyword("continue");var O=null;if(this.lookahead.type===y.Token.Identifier&&!this.hasLineTerminator){O=this.parseVariableIdentifier();var H="$"+O.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,H)||this.throwError(u.Messages.UnknownLabel,O.name)}return this.consumeSemicolon(),O===null&&!this.context.inIteration&&this.throwError(u.Messages.IllegalContinue),this.finalize(B,new _.ContinueStatement(O))},P.prototype.parseBreakStatement=function(){var B=this.createNode();this.expectKeyword("break");var O=null;if(this.lookahead.type===y.Token.Identifier&&!this.hasLineTerminator){O=this.parseVariableIdentifier();var H="$"+O.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,H)||this.throwError(u.Messages.UnknownLabel,O.name)}return this.consumeSemicolon(),O===null&&!this.context.inIteration&&!this.context.inSwitch&&this.throwError(u.Messages.IllegalBreak),this.finalize(B,new _.BreakStatement(O))},P.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(u.Messages.IllegalReturn);var B=this.createNode();this.expectKeyword("return");var O=!this.match(";")&&!this.match("}")&&!this.hasLineTerminator&&this.lookahead.type!==y.Token.EOF,H=O?this.parseExpression():null;return this.consumeSemicolon(),this.finalize(B,new _.ReturnStatement(H))},P.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(u.Messages.StrictModeWith);var B=this.createNode();this.expectKeyword("with"),this.expect("(");var O=this.parseExpression();this.expect(")");var H=this.parseStatement();return this.finalize(B,new _.WithStatement(O,H))},P.prototype.parseSwitchCase=function(){var B=this.createNode(),O;this.matchKeyword("default")?(this.nextToken(),O=null):(this.expectKeyword("case"),O=this.parseExpression()),this.expect(":");for(var H=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)H.push(this.parseStatementListItem());return this.finalize(B,new _.SwitchCase(O,H))},P.prototype.parseSwitchStatement=function(){var B=this.createNode();this.expectKeyword("switch"),this.expect("(");var O=this.parseExpression();this.expect(")");var H=this.context.inSwitch;this.context.inSwitch=!0;var z=[],Y=!1;for(this.expect("{");!this.match("}");){var ee=this.parseSwitchCase();ee.test===null&&(Y&&this.throwError(u.Messages.MultipleDefaultsInSwitch),Y=!0),z.push(ee)}return this.expect("}"),this.context.inSwitch=H,this.finalize(B,new _.SwitchStatement(O,z))},P.prototype.parseLabelledStatement=function(){var B=this.createNode(),O=this.parseExpression(),H;if(O.type===E.Syntax.Identifier&&this.match(":")){this.nextToken();var z=O,Y="$"+z.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,Y)&&this.throwError(u.Messages.Redeclaration,"Label",z.name),this.context.labelSet[Y]=!0;var ee=this.parseStatement();delete this.context.labelSet[Y],H=new _.LabeledStatement(z,ee)}else this.consumeSemicolon(),H=new _.ExpressionStatement(O);return this.finalize(B,H)},P.prototype.parseThrowStatement=function(){var B=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(u.Messages.NewlineAfterThrow);var O=this.parseExpression();return this.consumeSemicolon(),this.finalize(B,new _.ThrowStatement(O))},P.prototype.parseCatchClause=function(){var B=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var O=[],H=this.parsePattern(O),z={},Y=0;Y<O.length;Y++){var ee="$"+O[Y].value;Object.prototype.hasOwnProperty.call(z,ee)&&this.tolerateError(u.Messages.DuplicateBinding,O[Y].value),z[ee]=!0}this.context.strict&&H.type===E.Syntax.Identifier&&this.scanner.isRestrictedWord(H.name)&&this.tolerateError(u.Messages.StrictCatchVariable),this.expect(")");var ue=this.parseBlock();return this.finalize(B,new _.CatchClause(H,ue))},P.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},P.prototype.parseTryStatement=function(){var B=this.createNode();this.expectKeyword("try");var O=this.parseBlock(),H=this.matchKeyword("catch")?this.parseCatchClause():null,z=this.matchKeyword("finally")?this.parseFinallyClause():null;return!H&&!z&&this.throwError(u.Messages.NoCatchOrFinally),this.finalize(B,new _.TryStatement(O,H,z))},P.prototype.parseDebuggerStatement=function(){var B=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(B,new _.DebuggerStatement)},P.prototype.parseStatement=function(){var B=null;switch(this.lookahead.type){case y.Token.BooleanLiteral:case y.Token.NullLiteral:case y.Token.NumericLiteral:case y.Token.StringLiteral:case y.Token.Template:case y.Token.RegularExpression:B=this.parseExpressionStatement();break;case y.Token.Punctuator:var O=this.lookahead.value;O==="{"?B=this.parseBlock():O==="("?B=this.parseExpressionStatement():O===";"?B=this.parseEmptyStatement():B=this.parseExpressionStatement();break;case y.Token.Identifier:B=this.parseLabelledStatement();break;case y.Token.Keyword:switch(this.lookahead.value){case"break":B=this.parseBreakStatement();break;case"continue":B=this.parseContinueStatement();break;case"debugger":B=this.parseDebuggerStatement();break;case"do":B=this.parseDoWhileStatement();break;case"for":B=this.parseForStatement();break;case"function":B=this.parseFunctionDeclaration();break;case"if":B=this.parseIfStatement();break;case"return":B=this.parseReturnStatement();break;case"switch":B=this.parseSwitchStatement();break;case"throw":B=this.parseThrowStatement();break;case"try":B=this.parseTryStatement();break;case"var":B=this.parseVariableStatement();break;case"while":B=this.parseWhileStatement();break;case"with":B=this.parseWithStatement();break;default:B=this.parseExpressionStatement();break}break;default:this.throwUnexpectedToken(this.lookahead)}return B},P.prototype.parseFunctionSourceElements=function(){var B=this.createNode();this.expect("{");var O=this.parseDirectivePrologues(),H=this.context.labelSet,z=this.context.inIteration,Y=this.context.inSwitch,ee=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.startMarker.index<this.scanner.length&&!this.match("}");)O.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=H,this.context.inIteration=z,this.context.inSwitch=Y,this.context.inFunctionBody=ee,this.finalize(B,new _.BlockStatement(O))},P.prototype.validateParam=function(B,O,H){var z="$"+H;this.context.strict?(this.scanner.isRestrictedWord(H)&&(B.stricted=O,B.message=u.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(B.paramSet,z)&&(B.stricted=O,B.message=u.Messages.StrictParamDupe)):B.firstRestricted||(this.scanner.isRestrictedWord(H)?(B.firstRestricted=O,B.message=u.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(H)?(B.firstRestricted=O,B.message=u.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(B.paramSet,z)&&(B.stricted=O,B.message=u.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(B.paramSet,z,{value:!0,enumerable:!0,writable:!0,configurable:!0}):B.paramSet[z]=!0},P.prototype.parseRestElement=function(B){var O=this.createNode();this.expect("...");var H=this.parsePattern(B);return this.match("=")&&this.throwError(u.Messages.DefaultRestParameter),this.match(")")||this.throwError(u.Messages.ParameterAfterRestParameter),this.finalize(O,new _.RestElement(H))},P.prototype.parseFormalParameter=function(B){for(var O=[],H=this.match("...")?this.parseRestElement(O):this.parsePatternWithDefault(O),z=0;z<O.length;z++)this.validateParam(B,O[z],O[z].value);return B.params.push(H),!this.match(")")},P.prototype.parseFormalParameters=function(B){var O;if(O={params:[],firstRestricted:B},this.expect("("),!this.match(")"))for(O.paramSet={};this.startMarker.index<this.scanner.length&&this.parseFormalParameter(O);)this.expect(",");return this.expect(")"),{params:O.params,stricted:O.stricted,firstRestricted:O.firstRestricted,message:O.message}},P.prototype.parseFunctionDeclaration=function(B){var O=this.createNode();this.expectKeyword("function");var H=this.match("*");H&&this.nextToken();var z,Y=null,ee=null;if(!B||!this.match("(")){var ue=this.lookahead;Y=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(ue.value)&&this.tolerateUnexpectedToken(ue,u.Messages.StrictFunctionName):this.scanner.isRestrictedWord(ue.value)?(ee=ue,z=u.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(ue.value)&&(ee=ue,z=u.Messages.StrictReservedWord)}var oe=this.context.allowYield;this.context.allowYield=!H;var Ae=this.parseFormalParameters(ee),be=Ae.params,xe=Ae.stricted;ee=Ae.firstRestricted,Ae.message&&(z=Ae.message);var ne=this.context.strict,ae=this.parseFunctionSourceElements();return this.context.strict&&ee&&this.throwUnexpectedToken(ee,z),this.context.strict&&xe&&this.tolerateUnexpectedToken(xe,z),this.context.strict=ne,this.context.allowYield=oe,this.finalize(O,new _.FunctionDeclaration(Y,be,ae,H))},P.prototype.parseFunctionExpression=function(){var B=this.createNode();this.expectKeyword("function");var O=this.match("*");O&&this.nextToken();var H,z=null,Y,ee=this.context.allowYield;if(this.context.allowYield=!O,!this.match("(")){var ue=this.lookahead;z=!this.context.strict&&!O&&this.matchKeyword("yield")?this.parseIdentifierName():this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(ue.value)&&this.tolerateUnexpectedToken(ue,u.Messages.StrictFunctionName):this.scanner.isRestrictedWord(ue.value)?(Y=ue,H=u.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(ue.value)&&(Y=ue,H=u.Messages.StrictReservedWord)}var oe=this.parseFormalParameters(Y),Ae=oe.params,be=oe.stricted;Y=oe.firstRestricted,oe.message&&(H=oe.message);var xe=this.context.strict,ne=this.parseFunctionSourceElements();return this.context.strict&&Y&&this.throwUnexpectedToken(Y,H),this.context.strict&&be&&this.tolerateUnexpectedToken(be,H),this.context.strict=xe,this.context.allowYield=ee,this.finalize(B,new _.FunctionExpression(z,Ae,ne,O))},P.prototype.parseDirective=function(){var B=this.lookahead,O=null,H=this.createNode(),z=this.parseExpression();return z.type===E.Syntax.Literal&&(O=this.getTokenRaw(B).slice(1,-1)),this.consumeSemicolon(),this.finalize(H,O?new _.Directive(z,O):new _.ExpressionStatement(z))},P.prototype.parseDirectivePrologues=function(){for(var B=null,O=[];;){var H=this.lookahead;if(H.type!==y.Token.StringLiteral)break;var z=this.parseDirective();O.push(z);var Y=z.directive;if(typeof Y!="string")break;Y==="use strict"?(this.context.strict=!0,B&&this.tolerateUnexpectedToken(B,u.Messages.StrictOctalLiteral)):!B&&H.octal&&(B=H)}return O},P.prototype.qualifiedPropertyName=function(B){switch(B.type){case y.Token.Identifier:case y.Token.StringLiteral:case y.Token.BooleanLiteral:case y.Token.NullLiteral:case y.Token.NumericLiteral:case y.Token.Keyword:return!0;case y.Token.Punctuator:return B.value==="["}return!1},P.prototype.parseGetterMethod=function(){var B=this.createNode();this.expect("("),this.expect(")");var O=!1,H={params:[],stricted:null,firstRestricted:null,message:null},z=this.context.allowYield;this.context.allowYield=!1;var Y=this.parsePropertyMethod(H);return this.context.allowYield=z,this.finalize(B,new _.FunctionExpression(null,H.params,Y,O))},P.prototype.parseSetterMethod=function(){var B=this.createNode(),O={params:[],firstRestricted:null,paramSet:{}},H=!1,z=this.context.allowYield;this.context.allowYield=!1,this.expect("("),this.match(")")?this.tolerateUnexpectedToken(this.lookahead):this.parseFormalParameter(O),this.expect(")");var Y=this.parsePropertyMethod(O);return this.context.allowYield=z,this.finalize(B,new _.FunctionExpression(null,O.params,Y,H))},P.prototype.parseGeneratorMethod=function(){var B=this.createNode(),O=!0,H=this.context.allowYield;this.context.allowYield=!0;var z=this.parseFormalParameters();this.context.allowYield=!1;var Y=this.parsePropertyMethod(z);return this.context.allowYield=H,this.finalize(B,new _.FunctionExpression(null,z.params,Y,O))},P.prototype.isStartOfExpression=function(){var B=!0,O=this.lookahead.value;switch(this.lookahead.type){case y.Token.Punctuator:B=O==="["||O==="("||O==="{"||O==="+"||O==="-"||O==="!"||O==="~"||O==="++"||O==="--"||O==="/"||O==="/=";break;case y.Token.Keyword:B=O==="class"||O==="delete"||O==="function"||O==="let"||O==="new"||O==="super"||O==="this"||O==="typeof"||O==="void"||O==="yield";break}return B},P.prototype.parseYieldExpression=function(){var B=this.createNode();this.expectKeyword("yield");var O=null,H=!1;if(!this.hasLineTerminator){var z=this.context.allowYield;this.context.allowYield=!1,H=this.match("*"),H?(this.nextToken(),O=this.parseAssignmentExpression()):this.isStartOfExpression()&&(O=this.parseAssignmentExpression()),this.context.allowYield=z}return this.finalize(B,new _.YieldExpression(O,H))},P.prototype.parseClassElement=function(B){var O=this.lookahead,H=this.createNode(),z,Y,ee,ue=!1,oe=!1,Ae=!1;if(this.match("*"))this.nextToken();else{ue=this.match("["),Y=this.parseObjectPropertyKey();var be=Y;be.name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(O=this.lookahead,Ae=!0,ue=this.match("["),this.match("*")?this.nextToken():Y=this.parseObjectPropertyKey())}var xe=this.qualifiedPropertyName(this.lookahead);return O.type===y.Token.Identifier?O.value==="get"&&xe?(z="get",ue=this.match("["),Y=this.parseObjectPropertyKey(),this.context.allowYield=!1,ee=this.parseGetterMethod()):O.value==="set"&&xe&&(z="set",ue=this.match("["),Y=this.parseObjectPropertyKey(),ee=this.parseSetterMethod()):O.type===y.Token.Punctuator&&O.value==="*"&&xe&&(z="init",ue=this.match("["),Y=this.parseObjectPropertyKey(),ee=this.parseGeneratorMethod(),oe=!0),!z&&Y&&this.match("(")&&(z="init",ee=this.parsePropertyMethodFunction(),oe=!0),z||this.throwUnexpectedToken(this.lookahead),z==="init"&&(z="method"),ue||(Ae&&this.isPropertyKey(Y,"prototype")&&this.throwUnexpectedToken(O,u.Messages.StaticPrototype),!Ae&&this.isPropertyKey(Y,"constructor")&&((z!=="method"||!oe||ee.generator)&&this.throwUnexpectedToken(O,u.Messages.ConstructorSpecialMethod),B.value?this.throwUnexpectedToken(O,u.Messages.DuplicateConstructor):B.value=!0,z="constructor")),this.finalize(H,new _.MethodDefinition(Y,ue,ee,z,Ae))},P.prototype.parseClassElementList=function(){var B=[],O={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():B.push(this.parseClassElement(O));return this.expect("}"),B},P.prototype.parseClassBody=function(){var B=this.createNode(),O=this.parseClassElementList();return this.finalize(B,new _.ClassBody(O))},P.prototype.parseClassDeclaration=function(B){var O=this.createNode(),H=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var z=B&&this.lookahead.type!==y.Token.Identifier?null:this.parseVariableIdentifier(),Y=null;this.matchKeyword("extends")&&(this.nextToken(),Y=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var ee=this.parseClassBody();return this.context.strict=H,this.finalize(O,new _.ClassDeclaration(z,Y,ee))},P.prototype.parseClassExpression=function(){var B=this.createNode(),O=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var H=this.lookahead.type===y.Token.Identifier?this.parseVariableIdentifier():null,z=null;this.matchKeyword("extends")&&(this.nextToken(),z=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var Y=this.parseClassBody();return this.context.strict=O,this.finalize(B,new _.ClassExpression(H,z,Y))},P.prototype.parseProgram=function(){for(var B=this.createNode(),O=this.parseDirectivePrologues();this.startMarker.index<this.scanner.length;)O.push(this.parseStatementListItem());return this.finalize(B,new _.Program(O,this.sourceType))},P.prototype.parseModuleSpecifier=function(){var B=this.createNode();this.lookahead.type!==y.Token.StringLiteral&&this.throwError(u.Messages.InvalidModuleSpecifier);var O=this.nextToken(),H=this.getTokenRaw(O);return this.finalize(B,new _.Literal(O.value,H))},P.prototype.parseImportSpecifier=function(){var B=this.createNode(),O,H;return this.lookahead.type===y.Token.Identifier?(O=this.parseVariableIdentifier(),H=O,this.matchContextualKeyword("as")&&(this.nextToken(),H=this.parseVariableIdentifier())):(O=this.parseIdentifierName(),H=O,this.matchContextualKeyword("as")?(this.nextToken(),H=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(B,new _.ImportSpecifier(H,O))},P.prototype.parseNamedImports=function(){this.expect("{");for(var B=[];!this.match("}");)B.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),B},P.prototype.parseImportDefaultSpecifier=function(){var B=this.createNode(),O=this.parseIdentifierName();return this.finalize(B,new _.ImportDefaultSpecifier(O))},P.prototype.parseImportNamespaceSpecifier=function(){var B=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(u.Messages.NoAsAfterImportNamespace),this.nextToken();var O=this.parseIdentifierName();return this.finalize(B,new _.ImportNamespaceSpecifier(O))},P.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(u.Messages.IllegalImportDeclaration);var B=this.createNode();this.expectKeyword("import");var O,H=[];if(this.lookahead.type===y.Token.StringLiteral)O=this.parseModuleSpecifier();else{if(this.match("{")?H=H.concat(this.parseNamedImports()):this.match("*")?H.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(H.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?H.push(this.parseImportNamespaceSpecifier()):this.match("{")?H=H.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var z=this.lookahead.value?u.Messages.UnexpectedToken:u.Messages.MissingFromClause;this.throwError(z,this.lookahead.value)}this.nextToken(),O=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(B,new _.ImportDeclaration(H,O))},P.prototype.parseExportSpecifier=function(){var B=this.createNode(),O=this.parseIdentifierName(),H=O;return this.matchContextualKeyword("as")&&(this.nextToken(),H=this.parseIdentifierName()),this.finalize(B,new _.ExportSpecifier(O,H))},P.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(u.Messages.IllegalExportDeclaration);var B=this.createNode();this.expectKeyword("export");var O;if(this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var H=this.parseFunctionDeclaration(!0);O=this.finalize(B,new _.ExportDefaultDeclaration(H))}else if(this.matchKeyword("class")){var H=this.parseClassDeclaration(!0);O=this.finalize(B,new _.ExportDefaultDeclaration(H))}else{this.matchContextualKeyword("from")&&this.throwError(u.Messages.UnexpectedToken,this.lookahead.value);var H=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression();this.consumeSemicolon(),O=this.finalize(B,new _.ExportDefaultDeclaration(H))}else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var z=this.lookahead.value?u.Messages.UnexpectedToken:u.Messages.MissingFromClause;this.throwError(z,this.lookahead.value)}this.nextToken();var Y=this.parseModuleSpecifier();this.consumeSemicolon(),O=this.finalize(B,new _.ExportAllDeclaration(Y))}else if(this.lookahead.type===y.Token.Keyword){var H=void 0;switch(this.lookahead.value){case"let":case"const":H=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":H=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}O=this.finalize(B,new _.ExportNamedDeclaration(H,[],null))}else{var ee=[],ue=null,oe=!1;for(this.expect("{");!this.match("}");)oe=oe||this.matchKeyword("default"),ee.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");if(this.expect("}"),this.matchContextualKeyword("from"))this.nextToken(),ue=this.parseModuleSpecifier(),this.consumeSemicolon();else if(oe){var z=this.lookahead.value?u.Messages.UnexpectedToken:u.Messages.MissingFromClause;this.throwError(z,this.lookahead.value)}else this.consumeSemicolon();O=this.finalize(B,new _.ExportNamedDeclaration(null,ee,ue))}return O},P}();t.Parser=R},function(l,t){function i(s,u){if(!s)throw new Error("ASSERT: "+u)}t.assert=i},function(l,t){t.Messages={UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",DefaultRestParameter:"Unexpected token =",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ConstructorSpecialMethod:"Class constructor may not be an accessor",DuplicateConstructor:"A class may only have one constructor",StaticPrototype:"Classes may not have static property named prototype",MissingFromClause:"Unexpected token",NoAsAfterImportNamespace:"Unexpected token",InvalidModuleSpecifier:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalExportDeclaration:"Unexpected token",DuplicateBinding:"Duplicate binding %0",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer"}},function(l,t){var i=function(){function s(){this.errors=[],this.tolerant=!1}return s.prototype.recordError=function(u){this.errors.push(u)},s.prototype.tolerate=function(u){if(this.tolerant)this.recordError(u);else throw u},s.prototype.constructError=function(u,p){var y=new Error(u);try{throw y}catch(A){Object.create&&Object.defineProperty&&(y=Object.create(A),Object.defineProperty(y,"column",{value:p}))}finally{return y}},s.prototype.createError=function(u,p,y,A){var E="Line "+p+": "+A,_=this.constructError(E,y);return _.index=u,_.lineNumber=p,_.description=A,_},s.prototype.throwError=function(u,p,y,A){throw this.createError(u,p,y,A)},s.prototype.tolerateError=function(u,p,y,A){var E=this.createError(u,p,y,A);if(this.tolerant)this.recordError(E);else throw E},s}();t.ErrorHandler=i},function(l,t){(function(s){s[s.BooleanLiteral=1]="BooleanLiteral",s[s.EOF=2]="EOF",s[s.Identifier=3]="Identifier",s[s.Keyword=4]="Keyword",s[s.NullLiteral=5]="NullLiteral",s[s.NumericLiteral=6]="NumericLiteral",s[s.Punctuator=7]="Punctuator",s[s.StringLiteral=8]="StringLiteral",s[s.RegularExpression=9]="RegularExpression",s[s.Template=10]="Template"})(t.Token||(t.Token={}));var i=t.Token;t.TokenName={},t.TokenName[i.BooleanLiteral]="Boolean",t.TokenName[i.EOF]="<end>",t.TokenName[i.Identifier]="Identifier",t.TokenName[i.Keyword]="Keyword",t.TokenName[i.NullLiteral]="Null",t.TokenName[i.NumericLiteral]="Numeric",t.TokenName[i.Punctuator]="Punctuator",t.TokenName[i.StringLiteral]="String",t.TokenName[i.RegularExpression]="RegularExpression",t.TokenName[i.Template]="Template"},function(l,t,i){var s=i(4),u=i(5),p=i(9),y=i(7);function A(k){return"0123456789abcdef".indexOf(k.toLowerCase())}function E(k){return"01234567".indexOf(k)}var _=function(){function k(R,P){this.source=R,this.errorHandler=P,this.trackComment=!1,this.length=R.length,this.index=0,this.lineNumber=R.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return k.prototype.eof=function(){return this.index>=this.length},k.prototype.throwUnexpectedToken=function(R){R===void 0&&(R=u.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,R)},k.prototype.tolerateUnexpectedToken=function(){this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,u.Messages.UnexpectedTokenIllegal)},k.prototype.skipSingleLineComment=function(R){var P,B,O;for(this.trackComment&&(P=[],B=this.index-R,O={start:{line:this.lineNumber,column:this.index-this.lineStart-R},end:{}});!this.eof();){var H=this.source.charCodeAt(this.index);if(++this.index,p.Character.isLineTerminator(H)){if(this.trackComment){O.end={line:this.lineNumber,column:this.index-this.lineStart-1};var z={multiLine:!1,slice:[B+R,this.index-1],range:[B,this.index-1],loc:O};P.push(z)}return H===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,P}}if(this.trackComment){O.end={line:this.lineNumber,column:this.index-this.lineStart};var z={multiLine:!1,slice:[B+R,this.index],range:[B,this.index],loc:O};P.push(z)}return P},k.prototype.skipMultiLineComment=function(){var R,P,B;for(this.trackComment&&(R=[],P=this.index-2,B={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var O=this.source.charCodeAt(this.index);if(p.Character.isLineTerminator(O))O===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(O===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){B.end={line:this.lineNumber,column:this.index-this.lineStart};var H={multiLine:!0,slice:[P+2,this.index-2],range:[P,this.index],loc:B};R.push(H)}return R}++this.index}else++this.index}if(this.trackComment){B.end={line:this.lineNumber,column:this.index-this.lineStart};var H={multiLine:!0,slice:[P+2,this.index],range:[P,this.index],loc:B};R.push(H)}return this.tolerateUnexpectedToken(),R},k.prototype.scanComments=function(){var R;this.trackComment&&(R=[]);for(var P=this.index===0;!this.eof();){var B=this.source.charCodeAt(this.index);if(p.Character.isWhiteSpace(B))++this.index;else if(p.Character.isLineTerminator(B))++this.index,B===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,P=!0;else if(B===47)if(B=this.source.charCodeAt(this.index+1),B===47){this.index+=2;var O=this.skipSingleLineComment(2);this.trackComment&&(R=R.concat(O)),P=!0}else if(B===42){this.index+=2;var O=this.skipMultiLineComment();this.trackComment&&(R=R.concat(O))}else break;else if(P&&B===45)if(this.source.charCodeAt(this.index+1)===45&&this.source.charCodeAt(this.index+2)===62){this.index+=3;var O=this.skipSingleLineComment(3);this.trackComment&&(R=R.concat(O))}else break;else if(B===60)if(this.source.slice(this.index+1,this.index+4)==="!--"){this.index+=4;var O=this.skipSingleLineComment(4);this.trackComment&&(R=R.concat(O))}else break;else break}return R},k.prototype.isFutureReservedWord=function(R){switch(R){case"enum":case"export":case"import":case"super":return!0;default:return!1}},k.prototype.isStrictModeReservedWord=function(R){switch(R){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},k.prototype.isRestrictedWord=function(R){return R==="eval"||R==="arguments"},k.prototype.isKeyword=function(R){switch(R.length){case 2:return R==="if"||R==="in"||R==="do";case 3:return R==="var"||R==="for"||R==="new"||R==="try"||R==="let";case 4:return R==="this"||R==="else"||R==="case"||R==="void"||R==="with"||R==="enum";case 5:return R==="while"||R==="break"||R==="catch"||R==="throw"||R==="const"||R==="yield"||R==="class"||R==="super";case 6:return R==="return"||R==="typeof"||R==="delete"||R==="switch"||R==="export"||R==="import";case 7:return R==="default"||R==="finally"||R==="extends";case 8:return R==="function"||R==="continue"||R==="debugger";case 10:return R==="instanceof";default:return!1}},k.prototype.codePointAt=function(R){var P=this.source.charCodeAt(R);if(P>=55296&&P<=56319){var B=this.source.charCodeAt(R+1);if(B>=56320&&B<=57343){var O=P;P=(O-55296)*1024+B-56320+65536}}return P},k.prototype.scanHexEscape=function(R){for(var P=R==="u"?4:2,B=0,O=0;O<P;++O)if(!this.eof()&&p.Character.isHexDigit(this.source.charCodeAt(this.index)))B=B*16+A(this.source[this.index++]);else return"";return String.fromCharCode(B)},k.prototype.scanUnicodeCodePointEscape=function(){var R=this.source[this.index],P=0;for(R==="}"&&this.throwUnexpectedToken();!this.eof()&&(R=this.source[this.index++],!!p.Character.isHexDigit(R.charCodeAt(0)));)P=P*16+A(R);return(P>1114111||R!=="}")&&this.throwUnexpectedToken(),p.Character.fromCodePoint(P)},k.prototype.getIdentifier=function(){for(var R=this.index++;!this.eof();){var P=this.source.charCodeAt(this.index);if(P===92)return this.index=R,this.getComplexIdentifier();if(P>=55296&&P<57343)return this.index=R,this.getComplexIdentifier();if(p.Character.isIdentifierPart(P))++this.index;else break}return this.source.slice(R,this.index)},k.prototype.getComplexIdentifier=function(){var R=this.codePointAt(this.index),P=p.Character.fromCodePoint(R);this.index+=P.length;var B;for(R===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,B=this.scanUnicodeCodePointEscape()):(B=this.scanHexEscape("u"),R=B.charCodeAt(0),(!B||B==="\\"||!p.Character.isIdentifierStart(R))&&this.throwUnexpectedToken()),P=B);!this.eof()&&(R=this.codePointAt(this.index),!!p.Character.isIdentifierPart(R));)B=p.Character.fromCodePoint(R),P+=B,this.index+=B.length,R===92&&(P=P.substr(0,P.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,B=this.scanUnicodeCodePointEscape()):(B=this.scanHexEscape("u"),R=B.charCodeAt(0),(!B||B==="\\"||!p.Character.isIdentifierPart(R))&&this.throwUnexpectedToken()),P+=B);return P},k.prototype.octalToDecimal=function(R){var P=R!=="0",B=E(R);return!this.eof()&&p.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(P=!0,B=B*8+E(this.source[this.index++]),"0123".indexOf(R)>=0&&!this.eof()&&p.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(B=B*8+E(this.source[this.index++]))),{code:B,octal:P}},k.prototype.scanIdentifier=function(){var R,P=this.index,B=this.source.charCodeAt(P)===92?this.getComplexIdentifier():this.getIdentifier();return B.length===1?R=y.Token.Identifier:this.isKeyword(B)?R=y.Token.Keyword:B==="null"?R=y.Token.NullLiteral:B==="true"||B==="false"?R=y.Token.BooleanLiteral:R=y.Token.Identifier,{type:R,value:B,lineNumber:this.lineNumber,lineStart:this.lineStart,start:P,end:this.index}},k.prototype.scanPunctuator=function(){var R={type:y.Token.Punctuator,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index},P=this.source[this.index];switch(P){case"(":case"{":P==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,P="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:P=this.source.substr(this.index,4),P===">>>="?this.index+=4:(P=P.substr(0,3),P==="==="||P==="!=="||P===">>>"||P==="<<="||P===">>="||P==="**="?this.index+=3:(P=P.substr(0,2),P==="&&"||P==="||"||P==="=="||P==="!="||P==="+="||P==="-="||P==="*="||P==="/="||P==="++"||P==="--"||P==="<<"||P===">>"||P==="&="||P==="|="||P==="^="||P==="%="||P==="<="||P===">="||P==="=>"||P==="**"?this.index+=2:(P=this.source[this.index],"<>=!+-*%&|^/".indexOf(P)>=0&&++this.index)))}return this.index===R.start&&this.throwUnexpectedToken(),R.end=this.index,R.value=P,R},k.prototype.scanHexLiteral=function(R){for(var P="";!this.eof()&&p.Character.isHexDigit(this.source.charCodeAt(this.index));)P+=this.source[this.index++];return P.length===0&&this.throwUnexpectedToken(),p.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:y.Token.NumericLiteral,value:parseInt("0x"+P,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:R,end:this.index}},k.prototype.scanBinaryLiteral=function(R){for(var P="",B;!this.eof()&&(B=this.source[this.index],!(B!=="0"&&B!=="1"));)P+=this.source[this.index++];return P.length===0&&this.throwUnexpectedToken(),this.eof()||(B=this.source.charCodeAt(this.index),(p.Character.isIdentifierStart(B)||p.Character.isDecimalDigit(B))&&this.throwUnexpectedToken()),{type:y.Token.NumericLiteral,value:parseInt(P,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:R,end:this.index}},k.prototype.scanOctalLiteral=function(R,P){var B="",O=!1;for(p.Character.isOctalDigit(R.charCodeAt(0))?(O=!0,B="0"+this.source[this.index++]):++this.index;!this.eof()&&p.Character.isOctalDigit(this.source.charCodeAt(this.index));)B+=this.source[this.index++];return!O&&B.length===0&&this.throwUnexpectedToken(),(p.Character.isIdentifierStart(this.source.charCodeAt(this.index))||p.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:y.Token.NumericLiteral,value:parseInt(B,8),octal:O,lineNumber:this.lineNumber,lineStart:this.lineStart,start:P,end:this.index}},k.prototype.isImplicitOctalLiteral=function(){for(var R=this.index+1;R<this.length;++R){var P=this.source[R];if(P==="8"||P==="9")return!1;if(!p.Character.isOctalDigit(P.charCodeAt(0)))return!0}return!0},k.prototype.scanNumericLiteral=function(){var R=this.index,P=this.source[R];s.assert(p.Character.isDecimalDigit(P.charCodeAt(0))||P===".","Numeric literal must start with a decimal digit or a decimal point");var B="";if(P!=="."){if(B=this.source[this.index++],P=this.source[this.index],B==="0"){if(P==="x"||P==="X")return++this.index,this.scanHexLiteral(R);if(P==="b"||P==="B")return++this.index,this.scanBinaryLiteral(R);if(P==="o"||P==="O")return this.scanOctalLiteral(P,R);if(P&&p.Character.isOctalDigit(P.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(P,R)}for(;p.Character.isDecimalDigit(this.source.charCodeAt(this.index));)B+=this.source[this.index++];P=this.source[this.index]}if(P==="."){for(B+=this.source[this.index++];p.Character.isDecimalDigit(this.source.charCodeAt(this.index));)B+=this.source[this.index++];P=this.source[this.index]}if(P==="e"||P==="E")if(B+=this.source[this.index++],P=this.source[this.index],(P==="+"||P==="-")&&(B+=this.source[this.index++]),p.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;p.Character.isDecimalDigit(this.source.charCodeAt(this.index));)B+=this.source[this.index++];else this.throwUnexpectedToken();return p.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:y.Token.NumericLiteral,value:parseFloat(B),lineNumber:this.lineNumber,lineStart:this.lineStart,start:R,end:this.index}},k.prototype.scanStringLiteral=function(){var R=this.index,P=this.source[R];s.assert(P==="'"||P==='"',"String literal must starts with a quote"),++this.index;for(var B=!1,O="";!this.eof();){var H=this.source[this.index++];if(H===P){P="";break}else if(H==="\\")if(H=this.source[this.index++],!H||!p.Character.isLineTerminator(H.charCodeAt(0)))switch(H){case"u":case"x":if(this.source[this.index]==="{")++this.index,O+=this.scanUnicodeCodePointEscape();else{var z=this.scanHexEscape(H);z||this.throwUnexpectedToken(),O+=z}break;case"n":O+=`
`;break;case"r":O+="\r";break;case"t":O+="	";break;case"b":O+="\b";break;case"f":O+="\f";break;case"v":O+="\v";break;case"8":case"9":O+=H,this.tolerateUnexpectedToken();break;default:if(H&&p.Character.isOctalDigit(H.charCodeAt(0))){var Y=this.octalToDecimal(H);B=Y.octal||B,O+=String.fromCharCode(Y.code)}else O+=H;break}else++this.lineNumber,H==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else{if(p.Character.isLineTerminator(H.charCodeAt(0)))break;O+=H}}return P!==""&&(this.index=R,this.throwUnexpectedToken()),{type:y.Token.StringLiteral,value:O,octal:B,lineNumber:this.lineNumber,lineStart:this.lineStart,start:R,end:this.index}},k.prototype.scanTemplate=function(){var R="",P=!1,B=this.index,O=this.source[B]==="`",H=!1,z=2;for(++this.index;!this.eof();){var Y=this.source[this.index++];if(Y==="`"){z=1,H=!0,P=!0;break}else if(Y==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,P=!0;break}R+=Y}else if(Y==="\\")if(Y=this.source[this.index++],p.Character.isLineTerminator(Y.charCodeAt(0)))++this.lineNumber,Y==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(Y){case"n":R+=`
`;break;case"r":R+="\r";break;case"t":R+="	";break;case"u":case"x":if(this.source[this.index]==="{")++this.index,R+=this.scanUnicodeCodePointEscape();else{var ee=this.index,ue=this.scanHexEscape(Y);ue?R+=ue:(this.index=ee,R+=Y)}break;case"b":R+="\b";break;case"f":R+="\f";break;case"v":R+="\v";break;default:Y==="0"?(p.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(u.Messages.TemplateOctalLiteral),R+="\0"):p.Character.isOctalDigit(Y.charCodeAt(0))?this.throwUnexpectedToken(u.Messages.TemplateOctalLiteral):R+=Y;break}else p.Character.isLineTerminator(Y.charCodeAt(0))?(++this.lineNumber,Y==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,R+=`
`):R+=Y}return P||this.throwUnexpectedToken(),O||this.curlyStack.pop(),{type:y.Token.Template,value:{cooked:R,raw:this.source.slice(B+1,this.index-z)},head:O,tail:H,lineNumber:this.lineNumber,lineStart:this.lineStart,start:B,end:this.index}},k.prototype.testRegExp=function(R,P){var B="\uFFFF",O=R,H=this;P.indexOf("u")>=0&&(O=O.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(z,Y,ee){var ue=parseInt(Y||ee,16);return ue>1114111&&H.throwUnexpectedToken(u.Messages.InvalidRegExp),ue<=65535?String.fromCharCode(ue):B}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,B));try{RegExp(O)}catch{this.throwUnexpectedToken(u.Messages.InvalidRegExp)}try{return new RegExp(R,P)}catch{return null}},k.prototype.scanRegExpBody=function(){var R=this.source[this.index];s.assert(R==="/","Regular expression literal must start with a slash");for(var P=this.source[this.index++],B=!1,O=!1;!this.eof();)if(R=this.source[this.index++],P+=R,R==="\\")R=this.source[this.index++],p.Character.isLineTerminator(R.charCodeAt(0))&&this.throwUnexpectedToken(u.Messages.UnterminatedRegExp),P+=R;else if(p.Character.isLineTerminator(R.charCodeAt(0)))this.throwUnexpectedToken(u.Messages.UnterminatedRegExp);else if(B)R==="]"&&(B=!1);else if(R==="/"){O=!0;break}else R==="["&&(B=!0);O||this.throwUnexpectedToken(u.Messages.UnterminatedRegExp);var H=P.substr(1,P.length-2);return{value:H,literal:P}},k.prototype.scanRegExpFlags=function(){for(var R="",P="";!this.eof();){var B=this.source[this.index];if(!p.Character.isIdentifierPart(B.charCodeAt(0)))break;if(++this.index,B==="\\"&&!this.eof())if(B=this.source[this.index],B==="u"){++this.index;var O=this.index;if(B=this.scanHexEscape("u"),B)for(P+=B,R+="\\u";O<this.index;++O)R+=this.source[O];else this.index=O,P+="u",R+="\\u";this.tolerateUnexpectedToken()}else R+="\\",this.tolerateUnexpectedToken();else P+=B,R+=B}return{value:P,literal:R}},k.prototype.scanRegExp=function(){var R=this.index,P=this.scanRegExpBody(),B=this.scanRegExpFlags(),O=this.testRegExp(P.value,B.value);return{type:y.Token.RegularExpression,value:O,literal:P.literal+B.literal,regex:{pattern:P.value,flags:B.value},lineNumber:this.lineNumber,lineStart:this.lineStart,start:R,end:this.index}},k.prototype.lex=function(){if(this.eof())return{type:y.Token.EOF,lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var R=this.source.charCodeAt(this.index);return p.Character.isIdentifierStart(R)?this.scanIdentifier():R===40||R===41||R===59?this.scanPunctuator():R===39||R===34?this.scanStringLiteral():R===46?p.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():p.Character.isDecimalDigit(R)?this.scanNumericLiteral():R===96||R===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():R>=55296&&R<57343&&p.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},k}();t.Scanner=_},function(l,t){var i={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};t.Character={fromCodePoint:function(s){return s<65536?String.fromCharCode(s):String.fromCharCode(55296+(s-65536>>10))+String.fromCharCode(56320+(s-65536&1023))},isWhiteSpace:function(s){return s===32||s===9||s===11||s===12||s===160||s>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(s)>=0},isLineTerminator:function(s){return s===10||s===13||s===8232||s===8233},isIdentifierStart:function(s){return s===36||s===95||s>=65&&s<=90||s>=97&&s<=122||s===92||s>=128&&i.NonAsciiIdentifierStart.test(t.Character.fromCodePoint(s))},isIdentifierPart:function(s){return s===36||s===95||s>=65&&s<=90||s>=97&&s<=122||s>=48&&s<=57||s===92||s>=128&&i.NonAsciiIdentifierPart.test(t.Character.fromCodePoint(s))},isDecimalDigit:function(s){return s>=48&&s<=57},isHexDigit:function(s){return s>=48&&s<=57||s>=65&&s<=70||s>=97&&s<=102},isOctalDigit:function(s){return s>=48&&s<=55}}},function(l,t,i){var s=i(2),u=function(){function Tt(Ot){this.type=s.Syntax.ArrayExpression,this.elements=Ot}return Tt}();t.ArrayExpression=u;var p=function(){function Tt(Ot){this.type=s.Syntax.ArrayPattern,this.elements=Ot}return Tt}();t.ArrayPattern=p;var y=function(){function Tt(Ot,li,Ti){this.type=s.Syntax.ArrowFunctionExpression,this.id=null,this.params=Ot,this.body=li,this.generator=!1,this.expression=Ti}return Tt}();t.ArrowFunctionExpression=y;var A=function(){function Tt(Ot,li,Ti){this.type=s.Syntax.AssignmentExpression,this.operator=Ot,this.left=li,this.right=Ti}return Tt}();t.AssignmentExpression=A;var E=function(){function Tt(Ot,li){this.type=s.Syntax.AssignmentPattern,this.left=Ot,this.right=li}return Tt}();t.AssignmentPattern=E;var _=function(){function Tt(Ot,li,Ti){var Ui=Ot==="||"||Ot==="&&";this.type=Ui?s.Syntax.LogicalExpression:s.Syntax.BinaryExpression,this.operator=Ot,this.left=li,this.right=Ti}return Tt}();t.BinaryExpression=_;var k=function(){function Tt(Ot){this.type=s.Syntax.BlockStatement,this.body=Ot}return Tt}();t.BlockStatement=k;var R=function(){function Tt(Ot){this.type=s.Syntax.BreakStatement,this.label=Ot}return Tt}();t.BreakStatement=R;var P=function(){function Tt(Ot,li){this.type=s.Syntax.CallExpression,this.callee=Ot,this.arguments=li}return Tt}();t.CallExpression=P;var B=function(){function Tt(Ot,li){this.type=s.Syntax.CatchClause,this.param=Ot,this.body=li}return Tt}();t.CatchClause=B;var O=function(){function Tt(Ot){this.type=s.Syntax.ClassBody,this.body=Ot}return Tt}();t.ClassBody=O;var H=function(){function Tt(Ot,li,Ti){this.type=s.Syntax.ClassDeclaration,this.id=Ot,this.superClass=li,this.body=Ti}return Tt}();t.ClassDeclaration=H;var z=function(){function Tt(Ot,li,Ti){this.type=s.Syntax.ClassExpression,this.id=Ot,this.superClass=li,this.body=Ti}return Tt}();t.ClassExpression=z;var Y=function(){function Tt(Ot,li){this.type=s.Syntax.MemberExpression,this.computed=!0,this.object=Ot,this.property=li}return Tt}();t.ComputedMemberExpression=Y;var ee=function(){function Tt(Ot,li,Ti){this.type=s.Syntax.ConditionalExpression,this.test=Ot,this.consequent=li,this.alternate=Ti}return Tt}();t.ConditionalExpression=ee;var ue=function(){function Tt(Ot){this.type=s.Syntax.ContinueStatement,this.label=Ot}return Tt}();t.ContinueStatement=ue;var oe=function(){function Tt(){this.type=s.Syntax.DebuggerStatement}return Tt}();t.DebuggerStatement=oe;var Ae=function(){function Tt(Ot,li){this.type=s.Syntax.ExpressionStatement,this.expression=Ot,this.directive=li}return Tt}();t.Directive=Ae;var be=function(){function Tt(Ot,li){this.type=s.Syntax.DoWhileStatement,this.body=Ot,this.test=li}return Tt}();t.DoWhileStatement=be;var xe=function(){function Tt(){this.type=s.Syntax.EmptyStatement}return Tt}();t.EmptyStatement=xe;var ne=function(){function Tt(Ot){this.type=s.Syntax.ExportAllDeclaration,this.source=Ot}return Tt}();t.ExportAllDeclaration=ne;var ae=function(){function Tt(Ot){this.type=s.Syntax.ExportDefaultDeclaration,this.declaration=Ot}return Tt}();t.ExportDefaultDeclaration=ae;var ye=function(){function Tt(Ot,li,Ti){this.type=s.Syntax.ExportNamedDeclaration,this.declaration=Ot,this.specifiers=li,this.source=Ti}return Tt}();t.ExportNamedDeclaration=ye;var ge=function(){function Tt(Ot,li){this.type=s.Syntax.ExportSpecifier,this.exported=li,this.local=Ot}return Tt}();t.ExportSpecifier=ge;var we=function(){function Tt(Ot){this.type=s.Syntax.ExpressionStatement,this.expression=Ot}return Tt}();t.ExpressionStatement=we;var le=function(){function Tt(Ot,li,Ti){this.type=s.Syntax.ForInStatement,this.left=Ot,this.right=li,this.body=Ti,this.each=!1}return Tt}();t.ForInStatement=le;var ie=function(){function Tt(Ot,li,Ti){this.type=s.Syntax.ForOfStatement,this.left=Ot,this.right=li,this.body=Ti}return Tt}();t.ForOfStatement=ie;var he=function(){function Tt(Ot,li,Ti,Ui){this.type=s.Syntax.ForStatement,this.init=Ot,this.test=li,this.update=Ti,this.body=Ui}return Tt}();t.ForStatement=he;var de=function(){function Tt(Ot,li,Ti,Ui){this.type=s.Syntax.FunctionDeclaration,this.id=Ot,this.params=li,this.body=Ti,this.generator=Ui,this.expression=!1}return Tt}();t.FunctionDeclaration=de;var Se=function(){function Tt(Ot,li,Ti,Ui){this.type=s.Syntax.FunctionExpression,this.id=Ot,this.params=li,this.body=Ti,this.generator=Ui,this.expression=!1}return Tt}();t.FunctionExpression=Se;var Be=function(){function Tt(Ot){this.type=s.Syntax.Identifier,this.name=Ot}return Tt}();t.Identifier=Be;var Le=function(){function Tt(Ot,li,Ti){this.type=s.Syntax.IfStatement,this.test=Ot,this.consequent=li,this.alternate=Ti}return Tt}();t.IfStatement=Le;var nt=function(){function Tt(Ot,li){this.type=s.Syntax.ImportDeclaration,this.specifiers=Ot,this.source=li}return Tt}();t.ImportDeclaration=nt;var He=function(){function Tt(Ot){this.type=s.Syntax.ImportDefaultSpecifier,this.local=Ot}return Tt}();t.ImportDefaultSpecifier=He;var ce=function(){function Tt(Ot){this.type=s.Syntax.ImportNamespaceSpecifier,this.local=Ot}return Tt}();t.ImportNamespaceSpecifier=ce;var Re=function(){function Tt(Ot,li){this.type=s.Syntax.ImportSpecifier,this.local=Ot,this.imported=li}return Tt}();t.ImportSpecifier=Re;var lt=function(){function Tt(Ot,li){this.type=s.Syntax.LabeledStatement,this.label=Ot,this.body=li}return Tt}();t.LabeledStatement=lt;var Te=function(){function Tt(Ot,li){this.type=s.Syntax.Literal,this.value=Ot,this.raw=li}return Tt}();t.Literal=Te;var Ye=function(){function Tt(Ot,li){this.type=s.Syntax.MetaProperty,this.meta=Ot,this.property=li}return Tt}();t.MetaProperty=Ye;var mt=function(){function Tt(Ot,li,Ti,Ui,gr){this.type=s.Syntax.MethodDefinition,this.key=Ot,this.computed=li,this.value=Ti,this.kind=Ui,this.static=gr}return Tt}();t.MethodDefinition=mt;var $e=function(){function Tt(Ot,li){this.type=s.Syntax.NewExpression,this.callee=Ot,this.arguments=li}return Tt}();t.NewExpression=$e;var gt=function(){function Tt(Ot){this.type=s.Syntax.ObjectExpression,this.properties=Ot}return Tt}();t.ObjectExpression=gt;var kt=function(){function Tt(Ot){this.type=s.Syntax.ObjectPattern,this.properties=Ot}return Tt}();t.ObjectPattern=kt;var Kt=function(){function Tt(Ot,li){this.type=s.Syntax.Program,this.body=Ot,this.sourceType=li}return Tt}();t.Program=Kt;var Ft=function(){function Tt(Ot,li,Ti,Ui,gr,kr){this.type=s.Syntax.Property,this.key=li,this.computed=Ti,this.value=Ui,this.kind=Ot,this.method=gr,this.shorthand=kr}return Tt}();t.Property=Ft;var Yt=function(){function Tt(Ot,li,Ti){this.type=s.Syntax.Literal,this.value=Ot,this.raw=li,this.regex=Ti}return Tt}();t.RegexLiteral=Yt;var $t=function(){function Tt(Ot){this.type=s.Syntax.RestElement,this.argument=Ot}return Tt}();t.RestElement=$t;var vi=function(){function Tt(Ot){this.type=s.Syntax.ReturnStatement,this.argument=Ot}return Tt}();t.ReturnStatement=vi;var Xi=function(){function Tt(Ot){this.type=s.Syntax.SequenceExpression,this.expressions=Ot}return Tt}();t.SequenceExpression=Xi;var Ki=function(){function Tt(Ot){this.type=s.Syntax.SpreadElement,this.argument=Ot}return Tt}();t.SpreadElement=Ki;var or=function(){function Tt(Ot,li){this.type=s.Syntax.MemberExpression,this.computed=!1,this.object=Ot,this.property=li}return Tt}();t.StaticMemberExpression=or;var Et=function(){function Tt(){this.type=s.Syntax.Super}return Tt}();t.Super=Et;var Ct=function(){function Tt(Ot,li){this.type=s.Syntax.SwitchCase,this.test=Ot,this.consequent=li}return Tt}();t.SwitchCase=Ct;var ri=function(){function Tt(Ot,li){this.type=s.Syntax.SwitchStatement,this.discriminant=Ot,this.cases=li}return Tt}();t.SwitchStatement=ri;var pt=function(){function Tt(Ot,li){this.type=s.Syntax.TaggedTemplateExpression,this.tag=Ot,this.quasi=li}return Tt}();t.TaggedTemplateExpression=pt;var ft=function(){function Tt(Ot,li){this.type=s.Syntax.TemplateElement,this.value=Ot,this.tail=li}return Tt}();t.TemplateElement=ft;var Lt=function(){function Tt(Ot,li){this.type=s.Syntax.TemplateLiteral,this.quasis=Ot,this.expressions=li}return Tt}();t.TemplateLiteral=Lt;var ii=function(){function Tt(){this.type=s.Syntax.ThisExpression}return Tt}();t.ThisExpression=ii;var bi=function(){function Tt(Ot){this.type=s.Syntax.ThrowStatement,this.argument=Ot}return Tt}();t.ThrowStatement=bi;var rt=function(){function Tt(Ot,li,Ti){this.type=s.Syntax.TryStatement,this.block=Ot,this.handler=li,this.finalizer=Ti}return Tt}();t.TryStatement=rt;var Pe=function(){function Tt(Ot,li){this.type=s.Syntax.UnaryExpression,this.operator=Ot,this.argument=li,this.prefix=!0}return Tt}();t.UnaryExpression=Pe;var Me=function(){function Tt(Ot,li,Ti){this.type=s.Syntax.UpdateExpression,this.operator=Ot,this.argument=li,this.prefix=Ti}return Tt}();t.UpdateExpression=Me;var bt=function(){function Tt(Ot,li){this.type=s.Syntax.VariableDeclaration,this.declarations=Ot,this.kind=li}return Tt}();t.VariableDeclaration=bt;var zt=function(){function Tt(Ot,li){this.type=s.Syntax.VariableDeclarator,this.id=Ot,this.init=li}return Tt}();t.VariableDeclarator=zt;var It=function(){function Tt(Ot,li){this.type=s.Syntax.WhileStatement,this.test=Ot,this.body=li}return Tt}();t.WhileStatement=It;var yt=function(){function Tt(Ot,li){this.type=s.Syntax.WithStatement,this.object=Ot,this.body=li}return Tt}();t.WithStatement=yt;var Di=function(){function Tt(Ot,li){this.type=s.Syntax.YieldExpression,this.argument=Ot,this.delegate=li}return Tt}();t.YieldExpression=Di},function(l,t,i){var s=this&&this.__extends||function(O,H){for(var z in H)H.hasOwnProperty(z)&&(O[z]=H[z]);function Y(){this.constructor=O}O.prototype=H===null?Object.create(H):(Y.prototype=H.prototype,new Y)},u=i(9),p=i(7),y=i(3),A=i(12),E=i(13),_=i(10),k=i(14),R;(function(O){O[O.Identifier=100]="Identifier",O[O.Text=101]="Text"})(R||(R={})),p.TokenName[R.Identifier]="JSXIdentifier",p.TokenName[R.Text]="JSXText";function P(O){var H;switch(O.type){case E.JSXSyntax.JSXIdentifier:var z=O;H=z.name;break;case E.JSXSyntax.JSXNamespacedName:var Y=O;H=P(Y.namespace)+":"+P(Y.name);break;case E.JSXSyntax.JSXMemberExpression:var ee=O;H=P(ee.object)+"."+P(ee.property);break}return H}var B=function(O){s(H,O);function H(z,Y,ee){O.call(this,z,Y,ee)}return H.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():O.prototype.parsePrimaryExpression.call(this)},H.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.lineNumber,this.scanner.lineStart=this.startMarker.lineStart},H.prototype.finishJSX=function(){this.nextToken()},H.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},H.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},H.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},H.prototype.scanXHTMLEntity=function(z){for(var Y="&",ee=!0,ue=!1,oe=!1,Ae=!1;!this.scanner.eof()&&ee&&!ue;){var be=this.scanner.source[this.scanner.index];if(be===z)break;if(ue=be===";",Y+=be,++this.scanner.index,!ue)switch(Y.length){case 2:oe=be==="#";break;case 3:oe&&(Ae=be==="x",ee=Ae||u.Character.isDecimalDigit(be.charCodeAt(0)),oe=oe&&!Ae);break;default:ee=ee&&!(oe&&!u.Character.isDecimalDigit(be.charCodeAt(0))),ee=ee&&!(Ae&&!u.Character.isHexDigit(be.charCodeAt(0)));break}}if(ee&&ue&&Y.length>2){var xe=Y.substr(1,Y.length-2);oe&&xe.length>1?Y=String.fromCharCode(parseInt(xe.substr(1),10)):Ae&&xe.length>2?Y=String.fromCharCode(parseInt("0"+xe.substr(1),16)):!oe&&!Ae&&A.XHTMLEntities[xe]&&(Y=A.XHTMLEntities[xe])}return Y},H.prototype.lexJSX=function(){var z=this.scanner.source.charCodeAt(this.scanner.index);if(z===60||z===62||z===47||z===58||z===61||z===123||z===125){var Y=this.scanner.source[this.scanner.index++];return{type:p.Token.Punctuator,value:Y,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index}}if(z===34||z===39){for(var ee=this.scanner.index,ue=this.scanner.source[this.scanner.index++],oe="";!this.scanner.eof();){var Ae=this.scanner.source[this.scanner.index++];if(Ae===ue)break;Ae==="&"?oe+=this.scanXHTMLEntity(ue):oe+=Ae}return{type:p.Token.StringLiteral,value:oe,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:ee,end:this.scanner.index}}if(z===46){var be=this.scanner.source.charCodeAt(this.scanner.index+1),xe=this.scanner.source.charCodeAt(this.scanner.index+2),Y=be===46&&xe===46?"...":".",ee=this.scanner.index;return this.scanner.index+=Y.length,{type:p.Token.Punctuator,value:Y,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:ee,end:this.scanner.index}}if(z===96)return{type:p.Token.Template,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(u.Character.isIdentifierStart(z)&&z!==92){var ee=this.scanner.index;for(++this.scanner.index;!this.scanner.eof();){var Ae=this.scanner.source.charCodeAt(this.scanner.index);if(u.Character.isIdentifierPart(Ae)&&Ae!==92)++this.scanner.index;else if(Ae===45)++this.scanner.index;else break}var ne=this.scanner.source.slice(ee,this.scanner.index);return{type:R.Identifier,value:ne,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:ee,end:this.scanner.index}}this.scanner.throwUnexpectedToken()},H.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.lineNumber=this.scanner.lineNumber,this.startMarker.lineStart=this.scanner.lineStart;var z=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.lineNumber=this.scanner.lineNumber,this.lastMarker.lineStart=this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(z)),z},H.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.lineNumber=this.scanner.lineNumber,this.startMarker.lineStart=this.scanner.lineStart;for(var z=this.scanner.index,Y="";!this.scanner.eof();){var ee=this.scanner.source[this.scanner.index];if(ee==="{"||ee==="<")break;++this.scanner.index,Y+=ee,u.Character.isLineTerminator(ee.charCodeAt(0))&&(++this.scanner.lineNumber,ee==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.lineNumber=this.scanner.lineNumber,this.lastMarker.lineStart=this.scanner.lineStart;var ue={type:R.Text,value:Y,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:z,end:this.scanner.index};return Y.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(ue)),ue},H.prototype.peekJSXToken=function(){var z=this.scanner.index,Y=this.scanner.lineNumber,ee=this.scanner.lineStart;this.scanner.scanComments();var ue=this.lexJSX();return this.scanner.index=z,this.scanner.lineNumber=Y,this.scanner.lineStart=ee,ue},H.prototype.expectJSX=function(z){var Y=this.nextJSXToken();(Y.type!==p.Token.Punctuator||Y.value!==z)&&this.throwUnexpectedToken(Y)},H.prototype.matchJSX=function(z){var Y=this.peekJSXToken();return Y.type===p.Token.Punctuator&&Y.value===z},H.prototype.parseJSXIdentifier=function(){var z=this.createJSXNode(),Y=this.nextJSXToken();return Y.type!==R.Identifier&&this.throwUnexpectedToken(Y),this.finalize(z,new k.JSXIdentifier(Y.value))},H.prototype.parseJSXElementName=function(){var z=this.createJSXNode(),Y=this.parseJSXIdentifier();if(this.matchJSX(":")){var ee=Y;this.expectJSX(":");var ue=this.parseJSXIdentifier();Y=this.finalize(z,new k.JSXNamespacedName(ee,ue))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var oe=Y;this.expectJSX(".");var Ae=this.parseJSXIdentifier();Y=this.finalize(z,new k.JSXMemberExpression(oe,Ae))}return Y},H.prototype.parseJSXAttributeName=function(){var z=this.createJSXNode(),Y,ee=this.parseJSXIdentifier();if(this.matchJSX(":")){var ue=ee;this.expectJSX(":");var oe=this.parseJSXIdentifier();Y=this.finalize(z,new k.JSXNamespacedName(ue,oe))}else Y=ee;return Y},H.prototype.parseJSXStringLiteralAttribute=function(){var z=this.createJSXNode(),Y=this.nextJSXToken();Y.type!==p.Token.StringLiteral&&this.throwUnexpectedToken(Y);var ee=this.getTokenRaw(Y);return this.finalize(z,new _.Literal(Y.value,ee))},H.prototype.parseJSXExpressionAttribute=function(){var z=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var Y=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(z,new k.JSXExpressionContainer(Y))},H.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},H.prototype.parseJSXNameValueAttribute=function(){var z=this.createJSXNode(),Y=this.parseJSXAttributeName(),ee=null;return this.matchJSX("=")&&(this.expectJSX("="),ee=this.parseJSXAttributeValue()),this.finalize(z,new k.JSXAttribute(Y,ee))},H.prototype.parseJSXSpreadAttribute=function(){var z=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var Y=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(z,new k.JSXSpreadAttribute(Y))},H.prototype.parseJSXAttributes=function(){for(var z=[];!this.matchJSX("/")&&!this.matchJSX(">");){var Y=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();z.push(Y)}return z},H.prototype.parseJSXOpeningElement=function(){var z=this.createJSXNode();this.expectJSX("<");var Y=this.parseJSXElementName(),ee=this.parseJSXAttributes(),ue=this.matchJSX("/");return ue&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(z,new k.JSXOpeningElement(Y,ue,ee))},H.prototype.parseJSXBoundaryElement=function(){var z=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var Y=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(z,new k.JSXClosingElement(Y))}var ee=this.parseJSXElementName(),ue=this.parseJSXAttributes(),oe=this.matchJSX("/");return oe&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(z,new k.JSXOpeningElement(ee,oe,ue))},H.prototype.parseJSXEmptyExpression=function(){var z=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.lineNumber=this.scanner.lineNumber,this.lastMarker.lineStart=this.scanner.lineStart,this.finalize(z,new k.JSXEmptyExpression)},H.prototype.parseJSXExpressionContainer=function(){var z=this.createJSXNode();this.expectJSX("{");var Y;return this.matchJSX("}")?(Y=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),Y=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(z,new k.JSXExpressionContainer(Y))},H.prototype.parseJSXChildren=function(){for(var z=[];!this.scanner.eof();){var Y=this.createJSXChildNode(),ee=this.nextJSXText();if(ee.start<ee.end){var ue=this.getTokenRaw(ee),oe=this.finalize(Y,new k.JSXText(ee.value,ue));z.push(oe)}if(this.scanner.source[this.scanner.index]==="{"){var Ae=this.parseJSXExpressionContainer();z.push(Ae)}else break}return z},H.prototype.parseComplexJSXElement=function(z){for(var Y=[];!this.scanner.eof();){z.children=z.children.concat(this.parseJSXChildren());var ee=this.createJSXChildNode(),ue=this.parseJSXBoundaryElement();if(ue.type===E.JSXSyntax.JSXOpeningElement){var oe=ue;if(oe.selfClosing){var Ae=this.finalize(ee,new k.JSXElement(oe,[],null));z.children.push(Ae)}else Y.push(z),z={node:ee,opening:oe,closing:null,children:[]}}if(ue.type===E.JSXSyntax.JSXClosingElement){z.closing=ue;var be=P(z.opening.name),xe=P(z.closing.name);if(be!==xe&&this.tolerateError("Expected corresponding JSX closing tag for %0",be),Y.length>0){var Ae=this.finalize(z.node,new k.JSXElement(z.opening,z.children,z.closing));z=Y.pop(),z.children.push(Ae)}else break}}return z},H.prototype.parseJSXElement=function(){var z=this.createJSXNode(),Y=this.parseJSXOpeningElement(),ee=[],ue=null;if(!Y.selfClosing){var oe=this.parseComplexJSXElement({node:z,opening:Y,closing:ue,children:ee});ee=oe.children,ue=oe.closing}return this.finalize(z,new k.JSXElement(Y,ee,ue))},H.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var z=this.parseJSXElement();return this.finishJSX(),z},H}(y.Parser);t.JSXParser=B},function(l,t){t.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",frasl:"\u2044",euro:"\u20AC",image:"\u2111",weierp:"\u2118",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",lang:"\u27E8",rang:"\u27E9"}},function(l,t){t.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(l,t,i){var s=i(13),u=function(){function H(z){this.type=s.JSXSyntax.JSXClosingElement,this.name=z}return H}();t.JSXClosingElement=u;var p=function(){function H(z,Y,ee){this.type=s.JSXSyntax.JSXElement,this.openingElement=z,this.children=Y,this.closingElement=ee}return H}();t.JSXElement=p;var y=function(){function H(){this.type=s.JSXSyntax.JSXEmptyExpression}return H}();t.JSXEmptyExpression=y;var A=function(){function H(z){this.type=s.JSXSyntax.JSXExpressionContainer,this.expression=z}return H}();t.JSXExpressionContainer=A;var E=function(){function H(z){this.type=s.JSXSyntax.JSXIdentifier,this.name=z}return H}();t.JSXIdentifier=E;var _=function(){function H(z,Y){this.type=s.JSXSyntax.JSXMemberExpression,this.object=z,this.property=Y}return H}();t.JSXMemberExpression=_;var k=function(){function H(z,Y){this.type=s.JSXSyntax.JSXAttribute,this.name=z,this.value=Y}return H}();t.JSXAttribute=k;var R=function(){function H(z,Y){this.type=s.JSXSyntax.JSXNamespacedName,this.namespace=z,this.name=Y}return H}();t.JSXNamespacedName=R;var P=function(){function H(z,Y,ee){this.type=s.JSXSyntax.JSXOpeningElement,this.name=z,this.selfClosing=Y,this.attributes=ee}return H}();t.JSXOpeningElement=P;var B=function(){function H(z){this.type=s.JSXSyntax.JSXSpreadAttribute,this.argument=z}return H}();t.JSXSpreadAttribute=B;var O=function(){function H(z,Y){this.type=s.JSXSyntax.JSXText,this.value=z,this.raw=Y}return H}();t.JSXText=O},function(l,t,i){var s=i(8),u=i(6),p=i(7),y=function(){function E(){this.values=[],this.curly=this.paren=-1}return E.prototype.beforeFunctionExpression=function(_){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(_)>=0},E.prototype.isRegexStart=function(){var _=this.values[this.values.length-1],k=_!==null;switch(_){case"this":case"]":k=!1;break;case")":var R=this.values[this.paren-1];k=R==="if"||R==="while"||R==="for"||R==="with";break;case"}":if(k=!1,this.values[this.curly-3]==="function"){var P=this.values[this.curly-4];k=P?!this.beforeFunctionExpression(P):!1}else if(this.values[this.curly-4]==="function"){var B=this.values[this.curly-5];k=B?!this.beforeFunctionExpression(B):!0}}return k},E.prototype.push=function(_){_.type===p.Token.Punctuator||_.type===p.Token.Keyword?(_.value==="{"?this.curly=this.values.length:_.value==="("&&(this.paren=this.values.length),this.values.push(_.value)):this.values.push(null)},E}(),A=function(){function E(_,k){this.errorHandler=new u.ErrorHandler,this.errorHandler.tolerant=k?typeof k.tolerant=="boolean"&&k.tolerant:!1,this.scanner=new s.Scanner(_,this.errorHandler),this.scanner.trackComment=k?typeof k.comment=="boolean"&&k.comment:!1,this.trackRange=k?typeof k.range=="boolean"&&k.range:!1,this.trackLoc=k?typeof k.loc=="boolean"&&k.loc:!1,this.buffer=[],this.reader=new y}return E.prototype.errors=function(){return this.errorHandler.errors},E.prototype.getNextToken=function(){if(this.buffer.length===0){var _=this.scanner.scanComments();if(this.scanner.trackComment)for(var k=0;k<_.length;++k){var R=_[k],P=void 0,B=this.scanner.source.slice(R.slice[0],R.slice[1]);P={type:R.multiLine?"BlockComment":"LineComment",value:B},this.trackRange&&(P.range=R.range),this.trackLoc&&(P.loc=R.loc),this.buffer.push(P)}if(!this.scanner.eof()){var O=void 0;this.trackLoc&&(O={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var H=void 0;this.scanner.source[this.scanner.index]==="/"?H=this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.scanPunctuator():H=this.scanner.lex(),this.reader.push(H);var z=void 0;z={type:p.TokenName[H.type],value:this.scanner.source.slice(H.start,H.end)},this.trackRange&&(z.range=[H.start,H.end]),this.trackLoc&&(O.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},z.loc=O),H.regex&&(z.regex=H.regex),this.buffer.push(z)}}return this.buffer.shift()},E}();t.Tokenizer=A}])});var $x=function(){var l={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(s,u,p,y,A,E,_){var k=E.length-1;switch(A){case 1:this.$=s.replace(/\\(\\|")/g,"$1").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(s);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=E[k-1];case 13:this.$={};break;case 14:this.$=E[k-1];break;case 15:this.$=[E[k-2],E[k]];break;case 16:this.$={},this.$[E[k][0]]=E[k][1];break;case 17:this.$=E[k-2],E[k-2][E[k][0]]=E[k][1];break;case 18:this.$=[];break;case 19:this.$=E[k-1];break;case 20:this.$=[E[k]];break;case 21:this.$=E[k-2],E[k-2].push(E[k]);break}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(s,u){throw new Error(s)},parse:function(s){var u=this,p=[0],y=[null],A=[],E=this.table,_="",k=0,R=0,P=0,B=2,O=1;this.lexer.setInput(s),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,typeof this.lexer.yylloc=="undefined"&&(this.lexer.yylloc={});var H=this.lexer.yylloc;A.push(H),typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function z(le){p.length=p.length-2*le,y.length=y.length-le,A.length=A.length-le}function Y(){var le;return le=u.lexer.lex()||1,typeof le!="number"&&(le=u.symbols_[le]||le),le}for(var ee,ue,oe,Ae,be,xe={},ne,ae,ye,ge;;){if(oe=p[p.length-1],this.defaultActions[oe]?Ae=this.defaultActions[oe]:(ee==null&&(ee=Y()),Ae=E[oe]&&E[oe][ee]),typeof Ae=="undefined"||!Ae.length||!Ae[0]){if(!P){ge=[];for(ne in E[oe])this.terminals_[ne]&&ne>2&&ge.push("'"+this.terminals_[ne]+"'");var we="";this.lexer.showPosition?we="Parse error on line "+(k+1)+`:
`+this.lexer.showPosition()+`
Expecting `+ge.join(", ")+", got '"+this.terminals_[ee]+"'":we="Parse error on line "+(k+1)+": Unexpected "+(ee==1?"end of input":"'"+(this.terminals_[ee]||ee)+"'"),this.parseError(we,{text:this.lexer.match,token:this.terminals_[ee]||ee,line:this.lexer.yylineno,loc:H,expected:ge})}if(P==3){if(ee==O)throw new Error(we||"Parsing halted.");R=this.lexer.yyleng,_=this.lexer.yytext,k=this.lexer.yylineno,H=this.lexer.yylloc,ee=Y()}for(;!(B.toString()in E[oe]);){if(oe==0)throw new Error(we||"Parsing halted.");z(1),oe=p[p.length-1]}ue=ee,ee=B,oe=p[p.length-1],Ae=E[oe]&&E[oe][B],P=3}if(Ae[0]instanceof Array&&Ae.length>1)throw new Error("Parse Error: multiple actions possible at state: "+oe+", token: "+ee);switch(Ae[0]){case 1:p.push(ee),y.push(this.lexer.yytext),A.push(this.lexer.yylloc),p.push(Ae[1]),ee=null,ue?(ee=ue,ue=null):(R=this.lexer.yyleng,_=this.lexer.yytext,k=this.lexer.yylineno,H=this.lexer.yylloc,P>0&&P--);break;case 2:if(ae=this.productions_[Ae[1]][1],xe.$=y[y.length-ae],xe._$={first_line:A[A.length-(ae||1)].first_line,last_line:A[A.length-1].last_line,first_column:A[A.length-(ae||1)].first_column,last_column:A[A.length-1].last_column},be=this.performAction.call(xe,_,R,k,this.yy,Ae[1],y,A),typeof be!="undefined")return be;ae&&(p=p.slice(0,-1*ae*2),y=y.slice(0,-1*ae),A=A.slice(0,-1*ae)),p.push(this.productions_[Ae[1]][0]),y.push(xe.$),A.push(xe._$),ye=E[p[p.length-2]][p[p.length-1]],p.push(ye);break;case 3:return!0}}}},t=function(){var i={EOF:1,parseError:function(u,p){if(this.yy.parseError)this.yy.parseError(u,p);else throw new Error(u)},setInput:function(s){return this._input=s,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var s=this._input[0];this.yytext+=s,this.yyleng++,this.match+=s,this.matched+=s;var u=s.match(/\n/);return u&&this.yylineno++,this._input=this._input.slice(1),s},unput:function(s){return this._input=s+this._input,this},more:function(){return this._more=!0,this},less:function(s){this._input=this.match.slice(s)+this._input},pastInput:function(){var s=this.matched.substr(0,this.matched.length-this.match.length);return(s.length>20?"...":"")+s.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var s=this.match;return s.length<20&&(s+=this._input.substr(0,20-s.length)),(s.substr(0,20)+(s.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var s=this.pastInput(),u=new Array(s.length+1).join("-");return s+this.upcomingInput()+`
`+u+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var s,u,p,y,A;this._more||(this.yytext="",this.match="");for(var E=this._currentRules(),_=0;_<E.length&&(p=this._input.match(this.rules[E[_]]),!(p&&(!u||p[0].length>u[0].length)&&(u=p,y=_,!this.options.flex)));_++);if(u)return A=u[0].match(/\n.*/g),A&&(this.yylineno+=A.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:A?A[A.length-1].length-1:this.yylloc.last_column+u[0].length},this.yytext+=u[0],this.match+=u[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(u[0].length),this.matched+=u[0],s=this.performAction.call(this,this.yy,this,E[y],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),s||void 0;if(this._input==="")return this.EOF;this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var u=this.next();return typeof u!="undefined"?u:this.lex()},begin:function(u){this.conditionStack.push(u)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(u){this.begin(u)}};return i.options={},i.performAction=function(u,p,y){switch(y){case 0:break;case 1:return 6;case 2:return p.yytext=p.yytext.substr(1,p.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},i.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],i.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}},i}();return l.lexer=t,l}();typeof require!="undefined"&&typeof exports!="undefined"&&(exports.parser=$x,exports.parse=function(){return $x.parse.apply($x,arguments)},exports.main=function(t){if(!t[1])throw new Error("Usage: "+t[0]+" FILE");if(typeof process!="undefined")var i=require("fs").readFileSync(require("path").join(process.cwd(),t[1]),"utf8");else var s=require("file").path(require("file").cwd()),i=s.join(t[1]).read({charset:"utf-8"});return exports.parser.parse(i)},typeof module!="undefined"&&require.main===module&&exports.main(typeof process!="undefined"?process.argv.slice(1):require("system").args));(function(l){typeof exports=="object"&&typeof module=="object"?l(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],l):l(CodeMirror)})(function(l){function t(s,u,p){var y=s.getWrapperElement(),A;return A=y.appendChild(document.createElement("div")),p?A.className="CodeMirror-dialog CodeMirror-dialog-bottom":A.className="CodeMirror-dialog CodeMirror-dialog-top",typeof u=="string"?A.innerHTML=u:A.appendChild(u),l.addClass(y,"dialog-opened"),A}function i(s,u){s.state.currentNotificationClose&&s.state.currentNotificationClose(),s.state.currentNotificationClose=u}l.defineExtension("openDialog",function(s,u,p){p||(p={}),i(this,null);var y=t(this,s,p.bottom),A=!1,E=this;function _(P){if(typeof P=="string")k.value=P;else{if(A)return;A=!0,l.rmClass(y.parentNode,"dialog-opened"),y.parentNode.removeChild(y),E.focus(),p.onClose&&p.onClose(y)}}var k=y.getElementsByTagName("input")[0],R;return k?(k.focus(),p.value&&(k.value=p.value,p.selectValueOnOpen!==!1&&k.select()),p.onInput&&l.on(k,"input",function(P){p.onInput(P,k.value,_)}),p.onKeyUp&&l.on(k,"keyup",function(P){p.onKeyUp(P,k.value,_)}),l.on(k,"keydown",function(P){p&&p.onKeyDown&&p.onKeyDown(P,k.value,_)||((P.keyCode==27||p.closeOnEnter!==!1&&P.keyCode==13)&&(k.blur(),l.e_stop(P),_()),P.keyCode==13&&u(k.value,P))}),p.closeOnBlur!==!1&&l.on(y,"focusout",function(P){P.relatedTarget!==null&&_()})):(R=y.getElementsByTagName("button")[0])&&(l.on(R,"click",function(){_(),E.focus()}),p.closeOnBlur!==!1&&l.on(R,"blur",_),R.focus()),_}),l.defineExtension("openConfirm",function(s,u,p){i(this,null);var y=t(this,s,p&&p.bottom),A=y.getElementsByTagName("button"),E=!1,_=this,k=1;function R(){E||(E=!0,l.rmClass(y.parentNode,"dialog-opened"),y.parentNode.removeChild(y),_.focus())}A[0].focus();for(var P=0;P<A.length;++P){var B=A[P];(function(O){l.on(B,"click",function(H){l.e_preventDefault(H),R(),O&&O(_)})})(u[P]),l.on(B,"blur",function(){--k,setTimeout(function(){k<=0&&R()},200)}),l.on(B,"focus",function(){++k})}}),l.defineExtension("openNotification",function(s,u){i(this,_);var p=t(this,s,u&&u.bottom),y=!1,A,E=u&&typeof u.duration!="undefined"?u.duration:5e3;function _(){y||(y=!0,clearTimeout(A),l.rmClass(p.parentNode,"dialog-opened"),p.parentNode.removeChild(p))}return l.on(p,"click",function(k){l.e_preventDefault(k),_()}),E&&(A=setTimeout(_,E)),_})});(function(l){typeof exports=="object"&&typeof module=="object"?l(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],l):l(CodeMirror)})(function(l){var t="CodeMirror-hint",i="CodeMirror-hint-active";l.showHint=function(H,z,Y){if(!z)return H.showHint(Y);Y&&Y.async&&(z.async=!0);var ee={hint:z};if(Y)for(var ue in Y)ee[ue]=Y[ue];return H.showHint(ee)},l.defineExtension("showHint",function(H){H=y(this,this.getCursor("start"),H);var z=this.listSelections();if(!(z.length>1)){if(this.somethingSelected()){if(!H.hint.supportsSelection)return;for(var Y=0;Y<z.length;Y++)if(z[Y].head.line!=z[Y].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var ee=this.state.completionActive=new s(this,H);!ee.options.hint||(l.signal(this,"startCompletion",this),ee.update(!0))}}),l.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});function s(H,z){if(this.cm=H,this.options=z,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var Y=this;H.on("cursorActivity",this.activityFunc=function(){Y.cursorActivity()})}}var u=window.requestAnimationFrame||function(H){return setTimeout(H,1e3/60)},p=window.cancelAnimationFrame||clearTimeout;s.prototype={close:function(){!this.active()||(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&l.signal(this.data,"close"),this.widget&&this.widget.close(),l.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(H,z){var Y=H.list[z],ee=this;this.cm.operation(function(){Y.hint?Y.hint(ee.cm,H,Y):ee.cm.replaceRange(A(Y),Y.from||H.from,Y.to||H.to,"complete"),l.signal(H,"pick",Y),ee.cm.scrollIntoView()}),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(p(this.debounce),this.debounce=0);var H=this.startPos;this.data&&(H=this.data.from);var z=this.cm.getCursor(),Y=this.cm.getLine(z.line);if(z.line!=this.startPos.line||Y.length-z.ch!=this.startLen-this.startPos.ch||z.ch<H.ch||this.cm.somethingSelected()||!z.ch||this.options.closeCharacters.test(Y.charAt(z.ch-1)))this.close();else{var ee=this;this.debounce=u(function(){ee.update()}),this.widget&&this.widget.disable()}},update:function(H){if(this.tick!=null){var z=this,Y=++this.tick;P(this.options.hint,this.cm,this.options,function(ee){z.tick==Y&&z.finishUpdate(ee,H)})}},finishUpdate:function(H,z){this.data&&l.signal(this.data,"update");var Y=this.widget&&this.widget.picked||z&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=H,H&&H.list.length&&(Y&&H.list.length==1?this.pick(H,0):(this.widget=new k(this,H),l.signal(H,"shown")))}};function y(H,z,Y){var ee=H.options.hintOptions,ue={};for(var oe in O)ue[oe]=O[oe];if(ee)for(var oe in ee)ee[oe]!==void 0&&(ue[oe]=ee[oe]);if(Y)for(var oe in Y)Y[oe]!==void 0&&(ue[oe]=Y[oe]);return ue.hint.resolve&&(ue.hint=ue.hint.resolve(H,z)),ue}function A(H){return typeof H=="string"?H:H.text}function E(H,z){var Y={Up:function(){z.moveFocus(-1)},Down:function(){z.moveFocus(1)},PageUp:function(){z.moveFocus(-z.menuSize()+1,!0)},PageDown:function(){z.moveFocus(z.menuSize()-1,!0)},Home:function(){z.setFocus(0)},End:function(){z.setFocus(z.length-1)},Enter:z.pick,Tab:z.pick,Esc:z.close},ee=/Mac/.test(navigator.platform);ee&&(Y["Ctrl-P"]=function(){z.moveFocus(-1)},Y["Ctrl-N"]=function(){z.moveFocus(1)});var ue=H.options.customKeys,oe=ue?{}:Y;function Ae(ne,ae){var ye;typeof ae!="string"?ye=function(ge){return ae(ge,z)}:Y.hasOwnProperty(ae)?ye=Y[ae]:ye=ae,oe[ne]=ye}if(ue)for(var be in ue)ue.hasOwnProperty(be)&&Ae(be,ue[be]);var xe=H.options.extraKeys;if(xe)for(var be in xe)xe.hasOwnProperty(be)&&Ae(be,xe[be]);return oe}function _(H,z){for(;z&&z!=H;){if(z.nodeName.toUpperCase()==="LI"&&z.parentNode==H)return z;z=z.parentNode}}function k(H,z){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=H,this.data=z,this.picked=!1;var Y=this,ee=H.cm,ue=ee.getInputField().ownerDocument,oe=ue.defaultView||ue.parentWindow,Ae=this.hints=ue.createElement("ul");Ae.setAttribute("role","listbox"),Ae.setAttribute("aria-expanded","true"),Ae.id=this.id;var be=H.cm.options.theme;Ae.className="CodeMirror-hints "+be,this.selectedHint=z.selectedHint||0;for(var xe=z.list,ne=0;ne<xe.length;++ne){var ae=Ae.appendChild(ue.createElement("li")),ye=xe[ne],ge=t+(ne!=this.selectedHint?"":" "+i);ye.className!=null&&(ge=ye.className+" "+ge),ae.className=ge,ne==this.selectedHint&&ae.setAttribute("aria-selected","true"),ae.id=this.id+"-"+ne,ae.setAttribute("role","option"),ye.render?ye.render(ae,z,ye):ae.appendChild(ue.createTextNode(ye.displayText||A(ye))),ae.hintId=ne}var we=H.options.container||ue.body,le=ee.cursorCoords(H.options.alignWithWord?z.from:null),ie=le.left,he=le.bottom,de=!0,Se=0,Be=0;if(we!==ue.body){var Le=["absolute","relative","fixed"].indexOf(oe.getComputedStyle(we).position)!==-1,nt=Le?we:we.offsetParent,He=nt.getBoundingClientRect(),ce=ue.body.getBoundingClientRect();Se=He.left-ce.left-nt.scrollLeft,Be=He.top-ce.top-nt.scrollTop}Ae.style.left=ie-Se+"px",Ae.style.top=he-Be+"px";var Re=oe.innerWidth||Math.max(ue.body.offsetWidth,ue.documentElement.offsetWidth),lt=oe.innerHeight||Math.max(ue.body.offsetHeight,ue.documentElement.offsetHeight);we.appendChild(Ae),ee.getInputField().setAttribute("aria-autocomplete","list"),ee.getInputField().setAttribute("aria-owns",this.id),ee.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var Te=H.options.moveOnOverlap?Ae.getBoundingClientRect():new DOMRect,Ye=H.options.paddingForScrollbar?Ae.scrollHeight>Ae.clientHeight+1:!1,mt;setTimeout(function(){mt=ee.getScrollInfo()});var $e=Te.bottom-lt;if($e>0){var gt=Te.bottom-Te.top,kt=le.top-(le.bottom-Te.top);if(kt-gt>0)Ae.style.top=(he=le.top-gt-Be)+"px",de=!1;else if(gt>lt){Ae.style.height=lt-5+"px",Ae.style.top=(he=le.bottom-Te.top-Be)+"px";var Kt=ee.getCursor();z.from.ch!=Kt.ch&&(le=ee.cursorCoords(Kt),Ae.style.left=(ie=le.left-Se)+"px",Te=Ae.getBoundingClientRect())}}var Ft=Te.right-Re;if(Ye&&(Ft+=ee.display.nativeBarWidth),Ft>0&&(Te.right-Te.left>Re&&(Ae.style.width=Re-5+"px",Ft-=Te.right-Te.left-Re),Ae.style.left=(ie=le.left-Ft-Se)+"px"),Ye)for(var Yt=Ae.firstChild;Yt;Yt=Yt.nextSibling)Yt.style.paddingRight=ee.display.nativeBarWidth+"px";if(ee.addKeyMap(this.keyMap=E(H,{moveFocus:function(Xi,Ki){Y.changeActive(Y.selectedHint+Xi,Ki)},setFocus:function(Xi){Y.changeActive(Xi)},menuSize:function(){return Y.screenAmount()},length:xe.length,close:function(){H.close()},pick:function(){Y.pick()},data:z})),H.options.closeOnUnfocus){var $t;ee.on("blur",this.onBlur=function(){$t=setTimeout(function(){H.close()},100)}),ee.on("focus",this.onFocus=function(){clearTimeout($t)})}ee.on("scroll",this.onScroll=function(){var Xi=ee.getScrollInfo(),Ki=ee.getWrapperElement().getBoundingClientRect();mt||(mt=ee.getScrollInfo());var or=he+mt.top-Xi.top,Et=or-(oe.pageYOffset||(ue.documentElement||ue.body).scrollTop);if(de||(Et+=Ae.offsetHeight),Et<=Ki.top||Et>=Ki.bottom)return H.close();Ae.style.top=or+"px",Ae.style.left=ie+mt.left-Xi.left+"px"}),l.on(Ae,"dblclick",function(Xi){var Ki=_(Ae,Xi.target||Xi.srcElement);Ki&&Ki.hintId!=null&&(Y.changeActive(Ki.hintId),Y.pick())}),l.on(Ae,"click",function(Xi){var Ki=_(Ae,Xi.target||Xi.srcElement);Ki&&Ki.hintId!=null&&(Y.changeActive(Ki.hintId),H.options.completeOnSingleClick&&Y.pick())}),l.on(Ae,"mousedown",function(){setTimeout(function(){ee.focus()},20)});var vi=this.getSelectedHintRange();return(vi.from!==0||vi.to!==0)&&this.scrollToActive(),l.signal(z,"select",xe[this.selectedHint],Ae.childNodes[this.selectedHint]),!0}k.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var H=this.completion.cm.getInputField();H.removeAttribute("aria-activedescendant"),H.removeAttribute("aria-owns");var z=this.completion.cm;this.completion.options.closeOnUnfocus&&(z.off("blur",this.onBlur),z.off("focus",this.onFocus)),z.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var H=this;this.keyMap={Enter:function(){H.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(H,z){if(H>=this.data.list.length?H=z?this.data.list.length-1:0:H<0&&(H=z?0:this.data.list.length-1),this.selectedHint!=H){var Y=this.hints.childNodes[this.selectedHint];Y&&(Y.className=Y.className.replace(" "+i,""),Y.removeAttribute("aria-selected")),Y=this.hints.childNodes[this.selectedHint=H],Y.className+=" "+i,Y.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",Y.id),this.scrollToActive(),l.signal(this.data,"select",this.data.list[this.selectedHint],Y)}},scrollToActive:function(){var H=this.getSelectedHintRange(),z=this.hints.childNodes[H.from],Y=this.hints.childNodes[H.to],ee=this.hints.firstChild;z.offsetTop<this.hints.scrollTop?this.hints.scrollTop=z.offsetTop-ee.offsetTop:Y.offsetTop+Y.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=Y.offsetTop+Y.offsetHeight-this.hints.clientHeight+ee.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var H=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-H),to:Math.min(this.data.list.length-1,this.selectedHint+H)}}};function R(H,z){if(!H.somethingSelected())return z;for(var Y=[],ee=0;ee<z.length;ee++)z[ee].supportsSelection&&Y.push(z[ee]);return Y}function P(H,z,Y,ee){if(H.async)H(z,ee,Y);else{var ue=H(z,Y);ue&&ue.then?ue.then(ee):ee(ue)}}function B(H,z){var Y=H.getHelpers(z,"hint"),ee;if(Y.length){var ue=function(oe,Ae,be){var xe=R(oe,Y);function ne(ae){if(ae==xe.length)return Ae(null);P(xe[ae],oe,be,function(ye){ye&&ye.list.length>0?Ae(ye):ne(ae+1)})}ne(0)};return ue.async=!0,ue.supportsSelection=!0,ue}else return(ee=H.getHelper(H.getCursor(),"hintWords"))?function(oe){return l.hint.fromList(oe,{words:ee})}:l.hint.anyword?function(oe,Ae){return l.hint.anyword(oe,Ae)}:function(){}}l.registerHelper("hint","auto",{resolve:B}),l.registerHelper("hint","fromList",function(H,z){var Y=H.getCursor(),ee=H.getTokenAt(Y),ue,oe=l.Pos(Y.line,ee.start),Ae=Y;ee.start<Y.ch&&/\w/.test(ee.string.charAt(Y.ch-ee.start-1))?ue=ee.string.substr(0,Y.ch-ee.start):(ue="",oe=Y);for(var be=[],xe=0;xe<z.words.length;xe++){var ne=z.words[xe];ne.slice(0,ue.length)==ue&&be.push(ne)}if(be.length)return{list:be,from:oe,to:Ae}}),l.commands.autocomplete=l.showHint;var O={hint:l.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};l.defineOption("hintOptions",null)});(function(l){typeof exports=="object"&&typeof module=="object"?l(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],l):l(CodeMirror)})(function(l){l.TernServer=function(ce){var Re=this;this.options=ce||{};var lt=this.options.plugins||(this.options.plugins={});lt.doc_comment||(lt.doc_comment=!0),this.docs=Object.create(null),this.options.useWorker?this.server=new He(this):this.server=new tern.Server({getFile:function(Te,Ye){return u(Re,Te,Ye)},async:!0,defs:this.options.defs||[],plugins:lt}),this.trackChange=function(Te,Ye){A(Re,Te,Ye)},this.cachedArgHints=null,this.activeArgHints=null,this.jumpStack=[],this.getHint=function(Te,Ye){return _(Re,Te,Ye)},this.getHint.async=!0},l.TernServer.prototype={addDoc:function(ce,Re){var lt={doc:Re,name:ce,changed:null};return this.server.addFile(ce,nt(this,lt)),l.on(Re,"change",this.trackChange),this.docs[ce]=lt},delDoc:function(ce){var Re=y(this,ce);!Re||(l.off(Re.doc,"change",this.trackChange),delete this.docs[Re.name],this.server.delFile(Re.name))},hideDoc:function(ce){Le(this);var Re=y(this,ce);Re&&Re.changed&&E(this,Re)},complete:function(ce){ce.showHint({hint:this.getHint})},showType:function(ce,Re,lt){R(this,ce,Re,"type",lt)},showDocs:function(ce,Re,lt){R(this,ce,Re,"documentation",lt)},updateArgHints:function(ce){P(this,ce)},jumpToDef:function(ce){H(this,ce)},jumpBack:function(ce){z(this,ce)},rename:function(ce){oe(this,ce)},selectName:function(ce){Ae(this,ce)},request:function(ce,Re,lt,Te){var Ye=this,mt=p(this,ce.getDoc()),$e=ne(this,mt,Re,Te),gt=$e.query&&this.options.queryOptions&&this.options.queryOptions[$e.query.type];if(gt)for(var kt in gt)$e.query[kt]=gt[kt];this.server.request($e,function(Kt,Ft){!Kt&&Ye.options.responseFilter&&(Ft=Ye.options.responseFilter(mt,Re,$e,Kt,Ft)),lt(Kt,Ft)})},destroy:function(){Le(this),this.worker&&(this.worker.terminate(),this.worker=null)}};var t=l.Pos,i="CodeMirror-Tern-",s=250;function u(ce,Re,lt){var Te=ce.docs[Re];Te?lt(nt(ce,Te)):ce.options.getFile?ce.options.getFile(Re,lt):lt(null)}function p(ce,Re,lt){for(var Te in ce.docs){var Ye=ce.docs[Te];if(Ye.doc==Re)return Ye}if(!lt){for(var mt=0;;++mt)if(Te="[doc"+(mt||"")+"]",!ce.docs[Te]){lt=Te;break}}return ce.addDoc(lt,Re)}function y(ce,Re){if(typeof Re=="string")return ce.docs[Re];if(Re instanceof l&&(Re=Re.getDoc()),Re instanceof l.Doc)return p(ce,Re)}function A(ce,Re,lt){var Te=p(ce,Re),Ye=ce.cachedArgHints;Ye&&Ye.doc==Re&&ye(Ye.start,lt.to)>=0&&(ce.cachedArgHints=null);var mt=Te.changed;mt==null&&(Te.changed=mt={from:lt.from.line,to:lt.from.line});var $e=lt.from.line+(lt.text.length-1);lt.from.line<mt.to&&(mt.to=mt.to-(lt.to.line-$e)),$e>=mt.to&&(mt.to=$e+1),mt.from>lt.from.line&&(mt.from=lt.from.line),Re.lineCount()>s&&lt.to-mt.from>100&&setTimeout(function(){Te.changed&&Te.changed.to-Te.changed.from>100&&E(ce,Te)},200)}function E(ce,Re){ce.server.request({files:[{type:"full",name:Re.name,text:nt(ce,Re)}]},function(lt){lt?window.console.error(lt):Re.changed=null})}function _(ce,Re,lt){ce.request(Re,{type:"completions",types:!0,docs:!0,urls:!0},function(Te,Ye){if(Te)return Be(ce,Re,Te);var mt=[],$e="",gt=Ye.start,kt=Ye.end;Re.getRange(t(gt.line,gt.ch-2),gt)=='["'&&Re.getRange(kt,t(kt.line,kt.ch+2))!='"]'&&($e='"]');for(var Kt=0;Kt<Ye.completions.length;++Kt){var Ft=Ye.completions[Kt],Yt=k(Ft.type);Ye.guess&&(Yt+=" "+i+"guess"),mt.push({text:Ft.name+$e,displayText:Ft.displayName||Ft.name,className:Yt,data:Ft})}var $t={from:gt,to:kt,list:mt},vi=null;l.on($t,"close",function(){de(vi)}),l.on($t,"update",function(){de(vi)}),l.on($t,"select",function(Xi,Ki){de(vi);var or=ce.options.completionTip?ce.options.completionTip(Xi.data):Xi.data.doc;or&&(vi=he(Ki.parentNode.getBoundingClientRect().right+window.pageXOffset,Ki.getBoundingClientRect().top+window.pageYOffset,or,Re,i+"hint-doc"))}),lt($t)})}function k(ce){var Re;return ce=="?"?Re="unknown":ce=="number"||ce=="string"||ce=="bool"?Re=ce:/^fn\(/.test(ce)?Re="fn":/^\[/.test(ce)?Re="array":Re="object",i+"completion "+i+"completion-"+Re}function R(ce,Re,lt,Te,Ye){ce.request(Re,Te,function(mt,$e){if(mt)return Be(ce,Re,mt);if(ce.options.typeTip)var gt=ce.options.typeTip($e);else{var gt=ge("span",null,ge("strong",null,$e.type||"not found"));if($e.doc&&gt.appendChild(document.createTextNode(" \u2014 "+$e.doc)),$e.url){gt.appendChild(document.createTextNode(" "));var kt=gt.appendChild(ge("a",null,"[docs]"));kt.href=$e.url,kt.target="_blank"}}le(Re,gt,ce),Ye&&Ye()},lt)}function P(ce,Re){if(Le(ce),!Re.somethingSelected()){var lt=Re.getTokenAt(Re.getCursor()).state,Te=l.innerMode(Re.getMode(),lt);if(Te.mode.name=="javascript"){var Ye=Te.state.lexical;if(Ye.info=="call"){for(var mt,$e=Ye.pos||0,gt=Re.getOption("tabSize"),kt=Re.getCursor().line,Kt=Math.max(0,kt-9),Ft=!1;kt>=Kt;--kt){for(var Yt=Re.getLine(kt),$t=0,vi=0;;){var Xi=Yt.indexOf("	",vi);if(Xi==-1)break;$t+=gt-(Xi+$t)%gt-1,vi=Xi+1}if(mt=Ye.column-$t,Yt.charAt(mt)=="("){Ft=!0;break}}if(!!Ft){var Ki=t(kt,mt),or=ce.cachedArgHints;if(or&&or.doc==Re.getDoc()&&ye(Ki,or.start)==0)return B(ce,Re,$e);ce.request(Re,{type:"type",preferFunction:!0,end:Ki},function(Et,Ct){Et||!Ct.type||!/^fn\(/.test(Ct.type)||(ce.cachedArgHints={start:Ki,type:O(Ct.type),name:Ct.exprName||Ct.name||"fn",guess:Ct.guess,doc:Re.getDoc()},B(ce,Re,$e))})}}}}}function B(ce,Re,lt){Le(ce);for(var Te=ce.cachedArgHints,Ye=Te.type,mt=ge("span",Te.guess?i+"fhint-guess":null,ge("span",i+"fname",Te.name),"("),$e=0;$e<Ye.args.length;++$e){$e&&mt.appendChild(document.createTextNode(", "));var gt=Ye.args[$e];mt.appendChild(ge("span",i+"farg"+($e==lt?" "+i+"farg-current":""),gt.name||"?")),gt.type!="?"&&(mt.appendChild(document.createTextNode(":\xA0")),mt.appendChild(ge("span",i+"type",gt.type)))}mt.appendChild(document.createTextNode(Ye.rettype?") ->\xA0":")")),Ye.rettype&&mt.appendChild(ge("span",i+"type",Ye.rettype));var kt=Re.cursorCoords(null,"page"),Kt=ce.activeArgHints=he(kt.right+1,kt.bottom,mt,Re);setTimeout(function(){Kt.clear=ie(Re,function(){ce.activeArgHints==Kt&&Le(ce)})},20)}function O(ce){var Re=[],lt=3;function Te($e){for(var gt=0,kt=lt;;){var Kt=ce.charAt(lt);if($e.test(Kt)&&!gt)return ce.slice(kt,lt);/[{\[\(]/.test(Kt)?++gt:/[}\]\)]/.test(Kt)&&--gt,++lt}}if(ce.charAt(lt)!=")")for(;;){var Ye=ce.slice(lt).match(/^([^, \(\[\{]+): /);if(Ye&&(lt+=Ye[0].length,Ye=Ye[1]),Re.push({name:Ye,type:Te(/[\),]/)}),ce.charAt(lt)==")")break;lt+=2}var mt=ce.slice(lt).match(/^\) -> (.*)$/);return{args:Re,rettype:mt&&mt[1]}}function H(ce,Re){function lt(Te){var Ye={type:"definition",variable:Te||null},mt=p(ce,Re.getDoc());ce.server.request(ne(ce,mt,Ye),function($e,gt){if($e)return Be(ce,Re,$e);if(!gt.file&&gt.url){window.open(gt.url);return}if(gt.file){var kt=ce.docs[gt.file],Kt;if(kt&&(Kt=ee(kt.doc,gt))){ce.jumpStack.push({file:mt.name,start:Re.getCursor("from"),end:Re.getCursor("to")}),Y(ce,mt,kt,Kt.start,Kt.end);return}}Be(ce,Re,"Could not find a definition.")})}ue(Re)?lt():we(Re,"Jump to variable",function(Te){Te&&lt(Te)})}function z(ce,Re){var lt=ce.jumpStack.pop(),Te=lt&&ce.docs[lt.file];!Te||Y(ce,p(ce,Re.getDoc()),Te,lt.start,lt.end)}function Y(ce,Re,lt,Te,Ye){lt.doc.setSelection(Te,Ye),Re!=lt&&ce.options.switchToDoc&&(Le(ce),ce.options.switchToDoc(lt.name,lt.doc))}function ee(ce,Re){for(var lt=Re.context.slice(0,Re.contextOffset).split(`
`),Te=Re.start.line-(lt.length-1),Ye=t(Te,(lt.length==1?Re.start.ch:ce.getLine(Te).length)-lt[0].length),mt=ce.getLine(Te).slice(Ye.ch),$e=Te+1;$e<ce.lineCount()&&mt.length<Re.context.length;++$e)mt+=`
`+ce.getLine($e);if(mt.slice(0,Re.context.length)==Re.context)return Re;for(var gt=ce.getSearchCursor(Re.context,0,!1),kt,Kt=1/0;gt.findNext();){var Ft=gt.from(),Yt=Math.abs(Ft.line-Ye.line)*1e4;Yt||(Yt=Math.abs(Ft.ch-Ye.ch)),Yt<Kt&&(kt=Ft,Kt=Yt)}if(!kt)return null;if(lt.length==1?kt.ch+=lt[0].length:kt=t(kt.line+(lt.length-1),lt[lt.length-1].length),Re.start.line==Re.end.line)var $t=t(kt.line,kt.ch+(Re.end.ch-Re.start.ch));else var $t=t(kt.line+(Re.end.line-Re.start.line),Re.end.ch);return{start:kt,end:$t}}function ue(ce){var Re=ce.getCursor("end"),lt=ce.getTokenAt(Re);return lt.start<Re.ch&&lt.type=="comment"?!1:/[\w)\]]/.test(ce.getLine(Re.line).slice(Math.max(Re.ch-1,0),Re.ch+1))}function oe(ce,Re){var lt=Re.getTokenAt(Re.getCursor());if(!/\w/.test(lt.string))return Be(ce,Re,"Not at a variable");we(Re,"New name for "+lt.string,function(Te){ce.request(Re,{type:"rename",newName:Te,fullDocs:!0},function(Ye,mt){if(Ye)return Be(ce,Re,Ye);xe(ce,mt.changes)})})}function Ae(ce,Re){var lt=p(ce,Re.doc).name;ce.request(Re,{type:"refs"},function(Te,Ye){if(Te)return Be(ce,Re,Te);for(var mt=[],$e=0,gt=Re.getCursor(),kt=0;kt<Ye.refs.length;kt++){var Kt=Ye.refs[kt];Kt.file==lt&&(mt.push({anchor:Kt.start,head:Kt.end}),ye(gt,Kt.start)>=0&&ye(gt,Kt.end)<=0&&($e=mt.length-1))}Re.setSelections(mt,$e)})}var be=0;function xe(ce,Re){for(var lt=Object.create(null),Te=0;Te<Re.length;++Te){var Ye=Re[Te];(lt[Ye.file]||(lt[Ye.file]=[])).push(Ye)}for(var mt in lt){var $e=ce.docs[mt],gt=lt[mt];if(!!$e){gt.sort(function(Kt,Ft){return ye(Ft.start,Kt.start)});for(var kt="*rename"+ ++be,Te=0;Te<gt.length;++Te){var Ye=gt[Te];$e.doc.replaceRange(Ye.text,Ye.start,Ye.end,kt)}}}}function ne(ce,Re,lt,Te){var Ye=[],mt=0,$e=!lt.fullDocs;$e||delete lt.fullDocs,typeof lt=="string"&&(lt={type:lt}),lt.lineCharPositions=!0,lt.end==null&&(lt.end=Te||Re.doc.getCursor("end"),Re.doc.somethingSelected()&&(lt.start=Re.doc.getCursor("start")));var gt=lt.start||lt.end;if(Re.changed)if(Re.doc.lineCount()>s&&$e!==!1&&Re.changed.to-Re.changed.from<100&&Re.changed.from<=gt.line&&Re.changed.to>lt.end.line){Ye.push(ae(Re,gt,lt.end)),lt.file="#0";var mt=Ye[0].offsetLines;lt.start!=null&&(lt.start=t(lt.start.line- -mt,lt.start.ch)),lt.end=t(lt.end.line-mt,lt.end.ch)}else Ye.push({type:"full",name:Re.name,text:nt(ce,Re)}),lt.file=Re.name,Re.changed=null;else lt.file=Re.name;for(var kt in ce.docs){var Kt=ce.docs[kt];Kt.changed&&Kt!=Re&&(Ye.push({type:"full",name:Kt.name,text:nt(ce,Kt)}),Kt.changed=null)}return{query:lt,files:Ye}}function ae(ce,Re,lt){for(var Te=ce.doc,Ye=null,mt=null,$e,gt=4,kt=Re.line-1,Kt=Math.max(0,kt-50);kt>=Kt;--kt){var Ft=Te.getLine(kt),Yt=Ft.search(/\bfunction\b/);if(!(Yt<0)){var $t=l.countColumn(Ft,null,gt);Ye!=null&&Ye<=$t||(Ye=$t,mt=kt)}}mt==null&&(mt=Kt);var vi=Math.min(Te.lastLine(),lt.line+20);if(Ye==null||Ye==l.countColumn(Te.getLine(Re.line),null,gt))$e=vi;else for($e=lt.line+1;$e<vi;++$e){var $t=l.countColumn(Te.getLine($e),null,gt);if($t<=Ye)break}var Xi=t(mt,0);return{type:"part",name:ce.name,offsetLines:Xi.line,text:Te.getRange(Xi,t($e,lt.line==$e?null:0))}}var ye=l.cmpPos;function ge(ce,Re){var lt=document.createElement(ce);Re&&(lt.className=Re);for(var Te=2;Te<arguments.length;++Te){var Ye=arguments[Te];typeof Ye=="string"&&(Ye=document.createTextNode(Ye)),lt.appendChild(Ye)}return lt}function we(ce,Re,lt){ce.openDialog?ce.openDialog(Re+": <input type=text>",lt):lt(prompt(Re,""))}function le(ce,Re,lt){ce.state.ternTooltip&&de(ce.state.ternTooltip);var Te=ce.cursorCoords(),Ye=ce.state.ternTooltip=he(Te.right+1,Te.bottom,Re,ce);function mt(){kt=!0,gt||$e()}function $e(){ce.state.ternTooltip=null,Ye.parentNode&&Se(Ye),Kt()}var gt=!1,kt=!1;l.on(Ye,"mousemove",function(){gt=!0}),l.on(Ye,"mouseout",function(Ft){var Yt=Ft.relatedTarget||Ft.toElement;(!Yt||!l.contains(Ye,Yt))&&(kt?$e():gt=!1)}),setTimeout(mt,lt.options.hintDelay?lt.options.hintDelay:1700);var Kt=ie(ce,$e)}function ie(ce,Re){return ce.on("cursorActivity",Re),ce.on("blur",Re),ce.on("scroll",Re),ce.on("setDoc",Re),function(){ce.off("cursorActivity",Re),ce.off("blur",Re),ce.off("scroll",Re),ce.off("setDoc",Re)}}function he(ce,Re,lt,Te,Ye){var mt=ge("div",i+"tooltip "+(Ye||""),lt);mt.style.left=ce+"px",mt.style.top=Re+"px";var $e=((Te.options||{}).hintOptions||{}).container||document.body;$e.appendChild(mt);var gt=Te.cursorCoords(),kt=window.innerWidth,Kt=window.innerHeight,Ft=mt.getBoundingClientRect(),Yt=document.querySelector(".CodeMirror-hints"),$t=Ft.bottom-Kt,vi=Ft.right-kt;if(Yt&&vi>0){mt.style.left=0;var Ft=mt.getBoundingClientRect();mt.style.left=(ce=ce-Yt.offsetWidth-Ft.width)+"px",vi=Ft.right-kt}if($t>0){var Xi=Ft.bottom-Ft.top,Ki=gt.top-(gt.bottom-Ft.top);Ki-Xi>0?mt.style.top=gt.top-Xi+"px":Xi>Kt&&(mt.style.height=Kt-5+"px",mt.style.top=gt.bottom-Ft.top+"px")}return vi>0&&(Ft.right-Ft.left>kt&&(mt.style.width=kt-5+"px",vi-=Ft.right-Ft.left-kt),mt.style.left=ce-vi+"px"),mt}function de(ce){var Re=ce&&ce.parentNode;Re&&Re.removeChild(ce)}function Se(ce){ce.style.opacity="0",setTimeout(function(){de(ce)},1100)}function Be(ce,Re,lt){ce.options.showError?ce.options.showError(Re,lt):le(Re,String(lt),ce)}function Le(ce){ce.activeArgHints&&(ce.activeArgHints.clear&&ce.activeArgHints.clear(),de(ce.activeArgHints),ce.activeArgHints=null)}function nt(ce,Re){var lt=Re.doc.getValue();return ce.options.fileFilter&&(lt=ce.options.fileFilter(lt,Re.name,Re.doc)),lt}function He(ce){var Re=ce.worker=new Worker(ce.options.workerScript);Re.postMessage({type:"init",defs:ce.options.defs,plugins:ce.options.plugins,scripts:ce.options.workerDeps});var lt=0,Te={};function Ye(mt,$e){$e&&(mt.id=++lt,Te[lt]=$e),Re.postMessage(mt)}Re.onmessage=function(mt){var $e=mt.data;$e.type=="getFile"?u(ce,$e.name,function(gt,kt){Ye({type:"getFile",err:String(gt),text:kt,id:$e.id})}):$e.type=="debug"?window.console.log($e.message):$e.id&&Te[$e.id]&&(Te[$e.id]($e.err,$e.body),delete Te[$e.id])},Re.onerror=function(mt){for(var $e in Te)Te[$e](mt);Te={}},this.addFile=function(mt,$e){Ye({type:"add",name:mt,text:$e})},this.delFile=function(mt){Ye({type:"del",name:mt})},this.request=function(mt,$e){Ye({type:"req",body:mt},$e)}}});(function(l){if(typeof exports=="object"&&typeof module!="undefined")module.exports=l();else if(typeof define=="function"&&define.amd)define([],l);else{var t;typeof window!="undefined"?t=window:typeof global!="undefined"?t=global:typeof self!="undefined"?t=self:t=this,t.acorn=l()}})(function(){return function l(t,i,s){function u(A,E){if(!i[A]){if(!t[A]){var _=typeof require=="function"&&require;if(!E&&_)return _(A,!0);if(p)return p(A,!0);var k=new Error("Cannot find module '"+A+"'");throw k.code="MODULE_NOT_FOUND",k}var R=i[A]={exports:{}};t[A][0].call(R.exports,function(P){var B=t[A][1][P];return u(B||P)},R,R.exports,l,t,i,s)}return i[A].exports}for(var p=typeof require=="function"&&require,y=0;y<s.length;y++)u(s[y]);return u}({1:[function(l,t,i){i.parse=B,i.parseExpressionAt=O,i.tokenizer=H,Object.defineProperty(i,"__esModule",{value:!0});var s=l("./state"),u=s.Parser,p=l("./options"),y=p.getOptions;l("./parseutil"),l("./statement"),l("./lval"),l("./expression"),i.Parser=s.Parser,i.plugins=s.plugins,i.defaultOptions=p.defaultOptions;var A=l("./location");i.SourceLocation=A.SourceLocation,i.getLineInfo=A.getLineInfo,i.Node=l("./node").Node;var E=l("./tokentype");i.TokenType=E.TokenType,i.tokTypes=E.types;var _=l("./tokencontext");i.TokContext=_.TokContext,i.tokContexts=_.types;var k=l("./identifier");i.isIdentifierChar=k.isIdentifierChar,i.isIdentifierStart=k.isIdentifierStart,i.Token=l("./tokenize").Token;var R=l("./whitespace");i.isNewLine=R.isNewLine,i.lineBreak=R.lineBreak,i.lineBreakG=R.lineBreakG;var P="1.0.1";i.version=P;function B(Y,ee){var ue=z(ee,Y),oe=ue.options.locations?[ue.pos,ue.curPosition()]:ue.pos;return ue.nextToken(),ue.parseTopLevel(ue.options.program||ue.startNodeAt(oe))}function O(Y,ee,ue){var oe=z(ue,Y);return oe.nextToken(),oe.parseExpression()}function H(Y,ee){return z(ee,Y)}function z(Y,ee){return new u(y(Y),String(ee))}},{"./expression":2,"./identifier":3,"./location":4,"./lval":5,"./node":6,"./options":7,"./parseutil":8,"./state":9,"./statement":10,"./tokencontext":11,"./tokenize":12,"./tokentype":13,"./whitespace":15}],2:[function(l,t,i){var s=l("./tokentype").types,u=l("./state").Parser,p=l("./identifier").reservedWords,y=l("./util").has,A=u.prototype;A.checkPropClash=function(_,k){if(!(this.options.ecmaVersion>=6)){var R=_.key,P=void 0;switch(R.type){case"Identifier":P=R.name;break;case"Literal":P=String(R.value);break;default:return}var B=_.kind||"init",O=void 0;if(y(k,P)){O=k[P];var H=B!=="init";((this.strict||H)&&O[B]||!(H^O.init))&&this.raise(R.start,"Redefinition of property")}else O=k[P]={init:!1,get:!1,set:!1};O[B]=!0}},A.parseExpression=function(_,k){var R=this.markPosition(),P=this.parseMaybeAssign(_,k);if(this.type===s.comma){var B=this.startNodeAt(R);for(B.expressions=[P];this.eat(s.comma);)B.expressions.push(this.parseMaybeAssign(_,k));return this.finishNode(B,"SequenceExpression")}return P},A.parseMaybeAssign=function(_,k){if(this.type==s._yield&&this.inGenerator)return this.parseYield();var R=void 0;k?R=!1:(k={start:0},R=!0);var P=this.markPosition(),B=this.parseMaybeConditional(_,k);if(this.type.isAssign){var O=this.startNodeAt(P);return O.operator=this.value,O.left=this.type===s.eq?this.toAssignable(B):B,k.start=0,this.checkLVal(B),this.next(),O.right=this.parseMaybeAssign(_),this.finishNode(O,"AssignmentExpression")}else R&&k.start&&this.unexpected(k.start);return B},A.parseMaybeConditional=function(_,k){var R=this.markPosition(),P=this.parseExprOps(_,k);if(k&&k.start)return P;if(this.eat(s.question)){var B=this.startNodeAt(R);return B.test=P,B.consequent=this.parseMaybeAssign(),this.expect(s.colon),B.alternate=this.parseMaybeAssign(_),this.finishNode(B,"ConditionalExpression")}return P},A.parseExprOps=function(_,k){var R=this.markPosition(),P=this.parseMaybeUnary(k);return k&&k.start?P:this.parseExprOp(P,R,-1,_)},A.parseExprOp=function(_,k,R,P){var B=this.type.binop;if(B!=null&&(!P||this.type!==s._in)&&B>R){var O=this.startNodeAt(k);O.left=_,O.operator=this.value;var H=this.type;this.next();var z=this.markPosition();return O.right=this.parseExprOp(this.parseMaybeUnary(),z,B,P),this.finishNode(O,H===s.logicalOR||H===s.logicalAND?"LogicalExpression":"BinaryExpression"),this.parseExprOp(O,k,R,P)}return _},A.parseMaybeUnary=function(_){if(this.type.prefix){var k=this.startNode(),R=this.type===s.incDec;return k.operator=this.value,k.prefix=!0,this.next(),k.argument=this.parseMaybeUnary(),_&&_.start&&this.unexpected(_.start),R?this.checkLVal(k.argument):this.strict&&k.operator==="delete"&&k.argument.type==="Identifier"&&this.raise(k.start,"Deleting local variable in strict mode"),this.finishNode(k,R?"UpdateExpression":"UnaryExpression")}var P=this.markPosition(),B=this.parseExprSubscripts(_);if(_&&_.start)return B;for(;this.type.postfix&&!this.canInsertSemicolon();){var k=this.startNodeAt(P);k.operator=this.value,k.prefix=!1,k.argument=B,this.checkLVal(B),this.next(),B=this.finishNode(k,"UpdateExpression")}return B},A.parseExprSubscripts=function(_){var k=this.markPosition(),R=this.parseExprAtom(_);return _&&_.start?R:this.parseSubscripts(R,k)},A.parseSubscripts=function(_,k,R){if(this.eat(s.dot)){var P=this.startNodeAt(k);return P.object=_,P.property=this.parseIdent(!0),P.computed=!1,this.parseSubscripts(this.finishNode(P,"MemberExpression"),k,R)}else if(this.eat(s.bracketL)){var P=this.startNodeAt(k);return P.object=_,P.property=this.parseExpression(),P.computed=!0,this.expect(s.bracketR),this.parseSubscripts(this.finishNode(P,"MemberExpression"),k,R)}else if(!R&&this.eat(s.parenL)){var P=this.startNodeAt(k);return P.callee=_,P.arguments=this.parseExprList(s.parenR,!1),this.parseSubscripts(this.finishNode(P,"CallExpression"),k,R)}else if(this.type===s.backQuote){var P=this.startNodeAt(k);return P.tag=_,P.quasi=this.parseTemplate(),this.parseSubscripts(this.finishNode(P,"TaggedTemplateExpression"),k,R)}return _},A.parseExprAtom=function(_){var k=void 0;switch(this.type){case s._this:case s._super:var R=this.type===s._this?"ThisExpression":"Super";return k=this.startNode(),this.next(),this.finishNode(k,R);case s._yield:this.inGenerator&&unexpected();case s.name:var P=this.markPosition(),B=this.parseIdent(this.type!==s.name);return!this.canInsertSemicolon()&&this.eat(s.arrow)?this.parseArrowExpression(this.startNodeAt(P),[B]):B;case s.regexp:var O=this.value;return k=this.parseLiteral(O.value),k.regex={pattern:O.pattern,flags:O.flags},k;case s.num:case s.string:return this.parseLiteral(this.value);case s._null:case s._true:case s._false:return k=this.startNode(),k.value=this.type===s._null?null:this.type===s._true,k.raw=this.type.keyword,this.next(),this.finishNode(k,"Literal");case s.parenL:return this.parseParenAndDistinguishExpression();case s.bracketL:return k=this.startNode(),this.next(),this.options.ecmaVersion>=7&&this.type===s._for?this.parseComprehension(k,!1):(k.elements=this.parseExprList(s.bracketR,!0,!0,_),this.finishNode(k,"ArrayExpression"));case s.braceL:return this.parseObj(!1,_);case s._function:return k=this.startNode(),this.next(),this.parseFunction(k,!1);case s._class:return this.parseClass(this.startNode(),!1);case s._new:return this.parseNew();case s.backQuote:return this.parseTemplate();default:this.unexpected()}},A.parseLiteral=function(_){var k=this.startNode();return k.value=_,k.raw=this.input.slice(this.start,this.end),this.next(),this.finishNode(k,"Literal")},A.parseParenExpression=function(){this.expect(s.parenL);var _=this.parseExpression();return this.expect(s.parenR),_},A.parseParenAndDistinguishExpression=function(){var _=this.markPosition(),k=void 0;if(this.options.ecmaVersion>=6){if(this.next(),this.options.ecmaVersion>=7&&this.type===s._for)return this.parseComprehension(this.startNodeAt(_),!0);for(var R=this.markPosition(),P=[],B=!0,O={start:0},H=void 0,z=void 0;this.type!==s.parenR;)if(B?B=!1:this.expect(s.comma),this.type===s.ellipsis){H=this.start,P.push(this.parseRest());break}else this.type===s.parenL&&!z&&(z=this.start),P.push(this.parseMaybeAssign(!1,O));var Y=this.markPosition();if(this.expect(s.parenR),!this.canInsertSemicolon()&&this.eat(s.arrow))return z&&this.unexpected(z),this.parseArrowExpression(this.startNodeAt(_),P);P.length||this.unexpected(this.lastTokStart),H&&this.unexpected(H),O.start&&this.unexpected(O.start),P.length>1?(k=this.startNodeAt(R),k.expressions=P,this.finishNodeAt(k,"SequenceExpression",Y)):k=P[0]}else k=this.parseParenExpression();if(this.options.preserveParens){var ee=this.startNodeAt(_);return ee.expression=k,this.finishNode(ee,"ParenthesizedExpression")}else return k};var E=[];A.parseNew=function(){var _=this.startNode(),k=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(s.dot))return _.meta=k,_.property=this.parseIdent(!0),_.property.name!=="target"&&this.raise(_.property.start,"The only valid meta property for new is new.target"),this.finishNode(_,"MetaProperty");var R=this.markPosition();return _.callee=this.parseSubscripts(this.parseExprAtom(),R,!0),this.eat(s.parenL)?_.arguments=this.parseExprList(s.parenR,!1):_.arguments=E,this.finishNode(_,"NewExpression")},A.parseTemplateElement=function(){var _=this.startNode();return _.value={raw:this.input.slice(this.start,this.end),cooked:this.value},this.next(),_.tail=this.type===s.backQuote,this.finishNode(_,"TemplateElement")},A.parseTemplate=function(){var _=this.startNode();this.next(),_.expressions=[];var k=this.parseTemplateElement();for(_.quasis=[k];!k.tail;)this.expect(s.dollarBraceL),_.expressions.push(this.parseExpression()),this.expect(s.braceR),_.quasis.push(k=this.parseTemplateElement());return this.next(),this.finishNode(_,"TemplateLiteral")},A.parseObj=function(_,k){var R=this.startNode(),P=!0,B={};for(R.properties=[],this.next();!this.eat(s.braceR);){if(P)P=!1;else if(this.expect(s.comma),this.afterTrailingComma(s.braceR))break;var O=this.startNode(),H=void 0,z=void 0;this.options.ecmaVersion>=6&&(O.method=!1,O.shorthand=!1,(_||k)&&(z=this.markPosition()),_||(H=this.eat(s.star))),this.parsePropertyName(O),this.eat(s.colon)?(O.value=_?this.parseMaybeDefault():this.parseMaybeAssign(!1,k),O.kind="init"):this.options.ecmaVersion>=6&&this.type===s.parenL?(_&&this.unexpected(),O.kind="init",O.method=!0,O.value=this.parseMethod(H)):this.options.ecmaVersion>=5&&!O.computed&&O.key.type==="Identifier"&&(O.key.name==="get"||O.key.name==="set")&&this.type!=s.comma&&this.type!=s.braceR?((H||_)&&this.unexpected(),O.kind=O.key.name,this.parsePropertyName(O),O.value=this.parseMethod(!1)):this.options.ecmaVersion>=6&&!O.computed&&O.key.type==="Identifier"?(O.kind="init",_?((this.isKeyword(O.key.name)||this.strict&&(p.strictBind(O.key.name)||p.strict(O.key.name))||!this.options.allowReserved&&this.isReservedWord(O.key.name))&&this.raise(O.key.start,"Binding "+O.key.name),O.value=this.parseMaybeDefault(z,O.key)):this.type===s.eq&&k?(k.start||(k.start=this.start),O.value=this.parseMaybeDefault(z,O.key)):O.value=O.key,O.shorthand=!0):this.unexpected(),this.checkPropClash(O,B),R.properties.push(this.finishNode(O,"Property"))}return this.finishNode(R,_?"ObjectPattern":"ObjectExpression")},A.parsePropertyName=function(_){if(this.options.ecmaVersion>=6)if(this.eat(s.bracketL)){_.computed=!0,_.key=this.parseMaybeAssign(),this.expect(s.bracketR);return}else _.computed=!1;_.key=this.type===s.num||this.type===s.string?this.parseExprAtom():this.parseIdent(!0)},A.initFunction=function(_){_.id=null,this.options.ecmaVersion>=6&&(_.generator=!1,_.expression=!1)},A.parseMethod=function(_){var k=this.startNode();this.initFunction(k),this.expect(s.parenL),k.params=this.parseBindingList(s.parenR,!1,!1);var R=void 0;return this.options.ecmaVersion>=6?(k.generator=_,R=!0):R=!1,this.parseFunctionBody(k,R),this.finishNode(k,"FunctionExpression")},A.parseArrowExpression=function(_,k){return this.initFunction(_),_.params=this.toAssignableList(k,!0),this.parseFunctionBody(_,!0),this.finishNode(_,"ArrowFunctionExpression")},A.parseFunctionBody=function(_,k){var R=k&&this.type!==s.braceL;if(R)_.body=this.parseMaybeAssign(),_.expression=!0;else{var P=this.inFunction,B=this.inGenerator,O=this.labels;this.inFunction=!0,this.inGenerator=_.generator,this.labels=[],_.body=this.parseBlock(!0),_.expression=!1,this.inFunction=P,this.inGenerator=B,this.labels=O}if(this.strict||!R&&_.body.body.length&&this.isUseStrict(_.body.body[0])){var H={},z=this.strict;this.strict=!0,_.id&&this.checkLVal(_.id,!0);for(var Y=0;Y<_.params.length;Y++)this.checkLVal(_.params[Y],!0,H);this.strict=z}},A.parseExprList=function(_,k,R,P){for(var B=[],O=!0;!this.eat(_);){if(O)O=!1;else if(this.expect(s.comma),k&&this.afterTrailingComma(_))break;R&&this.type===s.comma?B.push(null):this.type===s.ellipsis?B.push(this.parseSpread(P)):B.push(this.parseMaybeAssign(!1,P))}return B},A.parseIdent=function(_){var k=this.startNode();return _&&this.options.allowReserved=="never"&&(_=!1),this.type===s.name?(!_&&(!this.options.allowReserved&&this.isReservedWord(this.value)||this.strict&&p.strict(this.value)&&(this.options.ecmaVersion>=6||this.input.slice(this.start,this.end).indexOf("\\")==-1))&&this.raise(this.start,"The keyword '"+this.value+"' is reserved"),k.name=this.value):_&&this.type.keyword?k.name=this.type.keyword:this.unexpected(),this.next(),this.finishNode(k,"Identifier")},A.parseYield=function(){var _=this.startNode();return this.next(),this.type==s.semi||this.canInsertSemicolon()||this.type!=s.star&&!this.type.startsExpr?(_.delegate=!1,_.argument=null):(_.delegate=this.eat(s.star),_.argument=this.parseMaybeAssign()),this.finishNode(_,"YieldExpression")},A.parseComprehension=function(_,k){for(_.blocks=[];this.type===s._for;){var R=this.startNode();this.next(),this.expect(s.parenL),R.left=this.parseBindingAtom(),this.checkLVal(R.left,!0),this.expectContextual("of"),R.right=this.parseExpression(),this.expect(s.parenR),_.blocks.push(this.finishNode(R,"ComprehensionBlock"))}return _.filter=this.eat(s._if)?this.parseParenExpression():null,_.body=this.parseExpression(),this.expect(k?s.parenR:s.bracketR),_.generator=k,this.finishNode(_,"ComprehensionExpression")}},{"./identifier":3,"./state":9,"./tokentype":13,"./util":14}],3:[function(l,t,i){i.isIdentifierStart=O,i.isIdentifierChar=H,Object.defineProperty(i,"__esModule",{value:!0});function s(z){z=z.split(" ");var Y="",ee=[];e:for(var ue=0;ue<z.length;++ue){for(var oe=0;oe<ee.length;++oe)if(ee[oe][0].length==z[ue].length){ee[oe].push(z[ue]);continue e}ee.push([z[ue]])}function Ae(xe){if(xe.length==1)return Y+="return str === "+JSON.stringify(xe[0])+";";Y+="switch(str){";for(var ne=0;ne<xe.length;++ne)Y+="case "+JSON.stringify(xe[ne])+":";Y+="return true}return false;"}if(ee.length>3){ee.sort(function(xe,ne){return ne.length-xe.length}),Y+="switch(str.length){";for(var ue=0;ue<ee.length;++ue){var be=ee[ue];Y+="case "+be[0].length+":",Ae(be)}Y+="}"}else Ae(z);return new Function("str",Y)}var u={3:s("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),5:s("class enum extends super const export import"),6:s("enum await"),strict:s("implements interface let package private protected public static yield"),strictBind:s("eval arguments")};i.reservedWords=u;var p="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",y={5:s(p),6:s(p+" let const class extends export import yield super")};i.keywords=y;var A="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",E="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19B0-\u19C0\u19C8\u19C9\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F1\uA900-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",_=new RegExp("["+A+"]"),k=new RegExp("["+A+E+"]");A=E=null;var R=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,17,26,6,37,11,29,3,35,5,7,2,4,43,157,99,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,98,21,11,25,71,55,7,1,65,0,16,3,2,2,2,26,45,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,955,52,76,44,33,24,27,35,42,34,4,0,13,47,15,3,22,0,38,17,2,24,133,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,32,4,287,47,21,1,2,0,185,46,82,47,21,0,60,42,502,63,32,0,449,56,1288,920,104,110,2962,1070,13266,568,8,30,114,29,19,47,17,3,32,20,6,18,881,68,12,0,67,12,16481,1,3071,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,1340,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,16355,541],P=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,1306,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,52,0,13,2,49,13,16,9,83,11,168,11,6,9,8,2,57,0,2,6,3,1,3,2,10,0,11,1,3,6,4,4,316,19,13,9,214,6,3,8,112,16,16,9,82,12,9,9,535,9,20855,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,4305,6,792618,239];function B(z,Y){for(var ee=65536,ue=0;ue<Y.length;ue+=2){if(ee+=Y[ue],ee>z)return!1;if(ee+=Y[ue+1],ee>=z)return!0}}function O(z,Y){return z<65?z===36:z<91?!0:z<97?z===95:z<123?!0:z<=65535?z>=170&&_.test(String.fromCharCode(z)):Y===!1?!1:B(z,R)}function H(z,Y){return z<48?z===36:z<58?!0:z<65?!1:z<91?!0:z<97?z===95:z<123?!0:z<=65535?z>=170&&k.test(String.fromCharCode(z)):Y===!1?!1:B(z,R)||B(z,P)}},{}],4:[function(l,t,i){var s=function(){function k(R,P){for(var B in P){var O=P[B];O.configurable=!0,O.value&&(O.writable=!0)}Object.defineProperties(R,P)}return function(R,P,B){return P&&k(R.prototype,P),B&&k(R,B),R}}(),u=function(k,R){if(!(k instanceof R))throw new TypeError("Cannot call a class as a function")};i.getLineInfo=E,Object.defineProperty(i,"__esModule",{value:!0});var p=l("./state").Parser,y=l("./whitespace").lineBreakG,A=i.Position=function(){function k(R,P){u(this,k),this.line=R,this.column=P}return s(k,{offset:{value:function(P){return new k(this.line,this.column+P)}}}),k}();i.SourceLocation=function k(R,P,B){u(this,k),this.start=P,this.end=B,R.sourceFile!==null&&(this.source=R.sourceFile)};function E(k,R){for(var P=1,B=0;;){y.lastIndex=B;var O=y.exec(k);if(O&&O.index<R)++P,B=O.index+O[0].length;else return new A(P,R-B)}}var _=p.prototype;_.raise=function(k,R){var P=E(this.input,k);R+=" ("+P.line+":"+P.column+")";var B=new SyntaxError(R);throw B.pos=k,B.loc=P,B.raisedAt=this.pos,B},_.curPosition=function(){return new A(this.curLine,this.pos-this.lineStart)},_.markPosition=function(){return this.options.locations?[this.start,this.startLoc]:this.start}},{"./state":9,"./whitespace":15}],5:[function(l,t,i){var s=l("./tokentype").types,u=l("./state").Parser,p=l("./identifier").reservedWords,y=l("./util").has,A=u.prototype;A.toAssignable=function(E,_){if(this.options.ecmaVersion>=6&&E)switch(E.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":break;case"ObjectExpression":E.type="ObjectPattern";for(var k=0;k<E.properties.length;k++){var R=E.properties[k];R.kind!=="init"&&this.raise(R.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(R.value,_)}break;case"ArrayExpression":E.type="ArrayPattern",this.toAssignableList(E.elements,_);break;case"AssignmentExpression":E.operator==="="?E.type="AssignmentPattern":this.raise(E.left.end,"Only '=' operator can be used for specifying default value.");break;case"MemberExpression":if(!_)break;default:this.raise(E.start,"Assigning to rvalue")}return E},A.toAssignableList=function(E,_){var k=E.length;if(k){var R=E[k-1];if(R&&R.type=="RestElement")--k;else if(R&&R.type=="SpreadElement"){R.type="RestElement";var P=R.argument;this.toAssignable(P,_),P.type!=="Identifier"&&P.type!=="MemberExpression"&&P.type!=="ArrayPattern"&&this.unexpected(P.start),--k}}for(var B=0;B<k;B++){var O=E[B];O&&this.toAssignable(O,_)}return E},A.parseSpread=function(E){var _=this.startNode();return this.next(),_.argument=this.parseMaybeAssign(E),this.finishNode(_,"SpreadElement")},A.parseRest=function(){var E=this.startNode();return this.next(),E.argument=this.type===s.name||this.type===s.bracketL?this.parseBindingAtom():this.unexpected(),this.finishNode(E,"RestElement")},A.parseBindingAtom=function(){if(this.options.ecmaVersion<6)return this.parseIdent();switch(this.type){case s.name:return this.parseIdent();case s.bracketL:var E=this.startNode();return this.next(),E.elements=this.parseBindingList(s.bracketR,!0,!0),this.finishNode(E,"ArrayPattern");case s.braceL:return this.parseObj(!0);default:this.unexpected()}},A.parseBindingList=function(E,_,k){for(var R=[],P=!0;!this.eat(E);)if(P?P=!1:this.expect(s.comma),_&&this.type===s.comma)R.push(null);else{if(k&&this.afterTrailingComma(E))break;if(this.type===s.ellipsis){R.push(this.parseRest()),this.expect(E);break}else R.push(this.parseMaybeDefault())}return R},A.parseMaybeDefault=function(E,_){if(E=E||this.markPosition(),_=_||this.parseBindingAtom(),!this.eat(s.eq))return _;var k=this.startNodeAt(E);return k.operator="=",k.left=_,k.right=this.parseMaybeAssign(),this.finishNode(k,"AssignmentPattern")},A.checkLVal=function(E,_,k){switch(E.type){case"Identifier":this.strict&&(p.strictBind(E.name)||p.strict(E.name))&&this.raise(E.start,(_?"Binding ":"Assigning to ")+E.name+" in strict mode"),k&&(y(k,E.name)&&this.raise(E.start,"Argument name clash in strict mode"),k[E.name]=!0);break;case"MemberExpression":_&&this.raise(E.start,(_?"Binding":"Assigning to")+" member expression");break;case"ObjectPattern":for(var R=0;R<E.properties.length;R++)this.checkLVal(E.properties[R].value,_,k);break;case"ArrayPattern":for(var R=0;R<E.elements.length;R++){var P=E.elements[R];P&&this.checkLVal(P,_,k)}break;case"AssignmentPattern":this.checkLVal(E.left,_,k);break;case"RestElement":this.checkLVal(E.argument,_,k);break;default:this.raise(E.start,(_?"Binding":"Assigning to")+" rvalue")}}},{"./identifier":3,"./state":9,"./tokentype":13,"./util":14}],6:[function(l,t,i){var s=function(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(i,"__esModule",{value:!0});var u=l("./state").Parser,p=l("./location").SourceLocation,y=u.prototype,A=i.Node=function E(){s(this,E)};y.startNode=function(){var E=new A;return E.start=this.start,this.options.locations&&(E.loc=new p(this,this.startLoc)),this.options.directSourceFile&&(E.sourceFile=this.options.directSourceFile),this.options.ranges&&(E.range=[this.start,0]),E},y.startNodeAt=function(E){var _=new A,k=E;return this.options.locations&&(_.loc=new p(this,k[1]),k=E[0]),_.start=k,this.options.directSourceFile&&(_.sourceFile=this.options.directSourceFile),this.options.ranges&&(_.range=[k,0]),_},y.finishNode=function(E,_){return E.type=_,E.end=this.lastTokEnd,this.options.locations&&(E.loc.end=this.lastTokEndLoc),this.options.ranges&&(E.range[1]=this.lastTokEnd),E},y.finishNodeAt=function(E,_,k){return this.options.locations&&(E.loc.end=k[1],k=k[0]),E.type=_,E.end=k,this.options.ranges&&(E.range[1]=k),E}},{"./location":4,"./state":9}],7:[function(l,t,i){i.getOptions=E,Object.defineProperty(i,"__esModule",{value:!0});var s=l("./util"),u=s.has,p=s.isArray,y=l("./location").SourceLocation,A={ecmaVersion:5,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:!0,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1,plugins:{}};i.defaultOptions=A;function E(k){var R={};for(var P in A)R[P]=k&&u(k,P)?k[P]:A[P];return p(R.onToken)&&function(){var B=R.onToken;R.onToken=function(O){return B.push(O)}}(),p(R.onComment)&&(R.onComment=_(R,R.onComment)),R}function _(k,R){return function(P,B,O,H,z,Y){var ee={type:P?"Block":"Line",value:B,start:O,end:H};k.locations&&(ee.loc=new y(this,z,Y)),k.ranges&&(ee.range=[O,H]),R.push(ee)}}},{"./location":4,"./util":14}],8:[function(l,t,i){var s=l("./tokentype").types,u=l("./state").Parser,p=l("./whitespace").lineBreak,y=u.prototype;y.isUseStrict=function(A){return this.options.ecmaVersion>=5&&A.type==="ExpressionStatement"&&A.expression.type==="Literal"&&A.expression.value==="use strict"},y.eat=function(A){return this.type===A?(this.next(),!0):!1},y.isContextual=function(A){return this.type===s.name&&this.value===A},y.eatContextual=function(A){return this.value===A&&this.eat(s.name)},y.expectContextual=function(A){this.eatContextual(A)||this.unexpected()},y.canInsertSemicolon=function(){return this.type===s.eof||this.type===s.braceR||p.test(this.input.slice(this.lastTokEnd,this.start))},y.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},y.semicolon=function(){!this.eat(s.semi)&&!this.insertSemicolon()&&this.unexpected()},y.afterTrailingComma=function(A){if(this.type==A)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),this.next(),!0},y.expect=function(A){this.eat(A)||this.unexpected()},y.unexpected=function(A){this.raise(A!=null?A:this.start,"Unexpected token")}},{"./state":9,"./tokentype":13,"./whitespace":15}],9:[function(l,t,i){i.Parser=_,Object.defineProperty(i,"__esModule",{value:!0});var s=l("./identifier"),u=s.reservedWords,p=s.keywords,y=l("./tokentype"),A=y.types,E=y.lineBreak;function _(R,P,B){this.options=R,this.loadPlugins(this.options.plugins),this.sourceFile=this.options.sourceFile||null,this.isKeyword=p[this.options.ecmaVersion>=6?6:5],this.isReservedWord=u[this.options.ecmaVersion],this.input=P,B?(this.pos=B,this.lineStart=Math.max(0,this.input.lastIndexOf(`
`,B)),this.curLine=this.input.slice(0,this.lineStart).split(E).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=A.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=null,this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.strict=this.inModule=this.options.sourceType==="module",this.inFunction=this.inGenerator=!1,this.labels=[],this.pos===0&&this.options.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2)}_.prototype.extend=function(R,P){this[R]=P(this[R])};var k={};i.plugins=k,_.prototype.loadPlugins=function(R){for(var P in R){var B=i.plugins[P];if(!B)throw new Error("Plugin '"+P+"' not found");B(this,R[P])}}},{"./identifier":3,"./tokentype":13}],10:[function(l,t,i){var s=l("./tokentype").types,u=l("./state").Parser,p=l("./whitespace").lineBreak,y=u.prototype;y.parseTopLevel=function(k){var R=!0;for(k.body||(k.body=[]);this.type!==s.eof;){var P=this.parseStatement(!0,!0);k.body.push(P),R&&this.isUseStrict(P)&&this.setStrict(!0),R=!1}return this.next(),this.options.ecmaVersion>=6&&(k.sourceType=this.options.sourceType),this.finishNode(k,"Program")};var A={kind:"loop"},E={kind:"switch"};y.parseStatement=function(k,R){var P=this.type,B=this.startNode();switch(P){case s._break:case s._continue:return this.parseBreakContinueStatement(B,P.keyword);case s._debugger:return this.parseDebuggerStatement(B);case s._do:return this.parseDoStatement(B);case s._for:return this.parseForStatement(B);case s._function:return!k&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(B);case s._class:return k||this.unexpected(),this.parseClass(B,!0);case s._if:return this.parseIfStatement(B);case s._return:return this.parseReturnStatement(B);case s._switch:return this.parseSwitchStatement(B);case s._throw:return this.parseThrowStatement(B);case s._try:return this.parseTryStatement(B);case s._let:case s._const:k||this.unexpected();case s._var:return this.parseVarStatement(B,P);case s._while:return this.parseWhileStatement(B);case s._with:return this.parseWithStatement(B);case s.braceL:return this.parseBlock();case s.semi:return this.parseEmptyStatement(B);case s._export:case s._import:return this.options.allowImportExportEverywhere||(R||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),P===s._import?this.parseImport(B):this.parseExport(B);default:var O=this.value,H=this.parseExpression();return P===s.name&&H.type==="Identifier"&&this.eat(s.colon)?this.parseLabeledStatement(B,O,H):this.parseExpressionStatement(B,H)}},y.parseBreakContinueStatement=function(k,R){var P=R=="break";this.next(),this.eat(s.semi)||this.insertSemicolon()?k.label=null:this.type!==s.name?this.unexpected():(k.label=this.parseIdent(),this.semicolon());for(var B=0;B<this.labels.length;++B){var O=this.labels[B];if((k.label==null||O.name===k.label.name)&&(O.kind!=null&&(P||O.kind==="loop")||k.label&&P))break}return B===this.labels.length&&this.raise(k.start,"Unsyntactic "+R),this.finishNode(k,P?"BreakStatement":"ContinueStatement")},y.parseDebuggerStatement=function(k){return this.next(),this.semicolon(),this.finishNode(k,"DebuggerStatement")},y.parseDoStatement=function(k){return this.next(),this.labels.push(A),k.body=this.parseStatement(!1),this.labels.pop(),this.expect(s._while),k.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(s.semi):this.semicolon(),this.finishNode(k,"DoWhileStatement")},y.parseForStatement=function(k){if(this.next(),this.labels.push(A),this.expect(s.parenL),this.type===s.semi)return this.parseFor(k,null);if(this.type===s._var||this.type===s._let||this.type===s._const){var R=this.startNode(),P=this.type;return this.next(),this.parseVar(R,!0,P),this.finishNode(R,"VariableDeclaration"),(this.type===s._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&R.declarations.length===1&&!(P!==s._var&&R.declarations[0].init)?this.parseForIn(k,R):this.parseFor(k,R)}var B={start:0},O=this.parseExpression(!0,B);return this.type===s._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.toAssignable(O),this.checkLVal(O),this.parseForIn(k,O)):(B.start&&this.unexpected(B.start),this.parseFor(k,O))},y.parseFunctionStatement=function(k){return this.next(),this.parseFunction(k,!0)},y.parseIfStatement=function(k){return this.next(),k.test=this.parseParenExpression(),k.consequent=this.parseStatement(!1),k.alternate=this.eat(s._else)?this.parseStatement(!1):null,this.finishNode(k,"IfStatement")},y.parseReturnStatement=function(k){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(s.semi)||this.insertSemicolon()?k.argument=null:(k.argument=this.parseExpression(),this.semicolon()),this.finishNode(k,"ReturnStatement")},y.parseSwitchStatement=function(k){this.next(),k.discriminant=this.parseParenExpression(),k.cases=[],this.expect(s.braceL),this.labels.push(E);for(var R,P;this.type!=s.braceR;)if(this.type===s._case||this.type===s._default){var B=this.type===s._case;R&&this.finishNode(R,"SwitchCase"),k.cases.push(R=this.startNode()),R.consequent=[],this.next(),B?R.test=this.parseExpression():(P&&this.raise(this.lastTokStart,"Multiple default clauses"),P=!0,R.test=null),this.expect(s.colon)}else R||this.unexpected(),R.consequent.push(this.parseStatement(!0));return R&&this.finishNode(R,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(k,"SwitchStatement")},y.parseThrowStatement=function(k){return this.next(),p.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),k.argument=this.parseExpression(),this.semicolon(),this.finishNode(k,"ThrowStatement")};var _=[];y.parseTryStatement=function(k){if(this.next(),k.block=this.parseBlock(),k.handler=null,this.type===s._catch){var R=this.startNode();this.next(),this.expect(s.parenL),R.param=this.parseBindingAtom(),this.checkLVal(R.param,!0),this.expect(s.parenR),R.guard=null,R.body=this.parseBlock(),k.handler=this.finishNode(R,"CatchClause")}return k.guardedHandlers=_,k.finalizer=this.eat(s._finally)?this.parseBlock():null,!k.handler&&!k.finalizer&&this.raise(k.start,"Missing catch or finally clause"),this.finishNode(k,"TryStatement")},y.parseVarStatement=function(k,R){return this.next(),this.parseVar(k,!1,R),this.semicolon(),this.finishNode(k,"VariableDeclaration")},y.parseWhileStatement=function(k){return this.next(),k.test=this.parseParenExpression(),this.labels.push(A),k.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(k,"WhileStatement")},y.parseWithStatement=function(k){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),k.object=this.parseParenExpression(),k.body=this.parseStatement(!1),this.finishNode(k,"WithStatement")},y.parseEmptyStatement=function(k){return this.next(),this.finishNode(k,"EmptyStatement")},y.parseLabeledStatement=function(k,R,P){for(var B=0;B<this.labels.length;++B)this.labels[B].name===R&&this.raise(P.start,"Label '"+R+"' is already declared");var O=this.type.isLoop?"loop":this.type===s._switch?"switch":null;return this.labels.push({name:R,kind:O}),k.body=this.parseStatement(!0),this.labels.pop(),k.label=P,this.finishNode(k,"LabeledStatement")},y.parseExpressionStatement=function(k,R){return k.expression=R,this.semicolon(),this.finishNode(k,"ExpressionStatement")},y.parseBlock=function(k){var R=this.startNode(),P=!0,B=void 0;for(R.body=[],this.expect(s.braceL);!this.eat(s.braceR);){var O=this.parseStatement(!0);R.body.push(O),P&&k&&this.isUseStrict(O)&&(B=this.strict,this.setStrict(this.strict=!0)),P=!1}return B===!1&&this.setStrict(!1),this.finishNode(R,"BlockStatement")},y.parseFor=function(k,R){return k.init=R,this.expect(s.semi),k.test=this.type===s.semi?null:this.parseExpression(),this.expect(s.semi),k.update=this.type===s.parenR?null:this.parseExpression(),this.expect(s.parenR),k.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(k,"ForStatement")},y.parseForIn=function(k,R){var P=this.type===s._in?"ForInStatement":"ForOfStatement";return this.next(),k.left=R,k.right=this.parseExpression(),this.expect(s.parenR),k.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(k,P)},y.parseVar=function(k,R,P){for(k.declarations=[],k.kind=P.keyword;;){var B=this.startNode();if(B.id=this.parseBindingAtom(),this.checkLVal(B.id,!0),this.eat(s.eq)?B.init=this.parseMaybeAssign(R):P===s._const&&!(this.type===s._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():B.id.type!="Identifier"&&!(R&&(this.type===s._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):B.init=null,k.declarations.push(this.finishNode(B,"VariableDeclarator")),!this.eat(s.comma))break}return k},y.parseFunction=function(k,R,P){return this.initFunction(k),this.options.ecmaVersion>=6&&(k.generator=this.eat(s.star)),(R||this.type===s.name)&&(k.id=this.parseIdent()),this.expect(s.parenL),k.params=this.parseBindingList(s.parenR,!1,!1),this.parseFunctionBody(k,P),this.finishNode(k,R?"FunctionDeclaration":"FunctionExpression")},y.parseClass=function(k,R){this.next(),k.id=this.type===s.name?this.parseIdent():R?this.unexpected():null,k.superClass=this.eat(s._extends)?this.parseExprSubscripts():null;var P=this.startNode();for(P.body=[],this.expect(s.braceL);!this.eat(s.braceR);)if(!this.eat(s.semi)){var B=this.startNode(),O=this.eat(s.star);this.parsePropertyName(B),this.type!==s.parenL&&!B.computed&&B.key.type==="Identifier"&&B.key.name==="static"?(O&&this.unexpected(),B.static=!0,O=this.eat(s.star),this.parsePropertyName(B)):B.static=!1,B.kind="method",!B.computed&&!O&&(B.key.type==="Identifier"?this.type!==s.parenL&&(B.key.name==="get"||B.key.name==="set")?(B.kind=B.key.name,this.parsePropertyName(B)):!B.static&&B.key.name==="constructor"&&(B.kind="constructor"):!B.static&&B.key.type==="Literal"&&B.key.value==="constructor"&&(B.kind="constructor")),B.value=this.parseMethod(O),P.body.push(this.finishNode(B,"MethodDefinition"))}return k.body=this.finishNode(P,"ClassBody"),this.finishNode(k,R?"ClassDeclaration":"ClassExpression")},y.parseExport=function(k){if(this.next(),this.eat(s.star))return this.expectContextual("from"),k.source=this.type===s.string?this.parseExprAtom():this.unexpected(),this.semicolon(),this.finishNode(k,"ExportAllDeclaration");if(this.eat(s._default)){var R=this.parseMaybeAssign(),P=!0;return(R.type=="FunctionExpression"||R.type=="ClassExpression")&&(P=!1,R.id&&(R.type=R.type=="FunctionExpression"?"FunctionDeclaration":"ClassDeclaration")),k.declaration=R,P&&this.semicolon(),this.finishNode(k,"ExportDefaultDeclaration")}return this.type.keyword?(k.declaration=this.parseStatement(!0),k.specifiers=[],k.source=null):(k.declaration=null,k.specifiers=this.parseExportSpecifiers(),this.eatContextual("from")?k.source=this.type===s.string?this.parseExprAtom():this.unexpected():k.source=null,this.semicolon()),this.finishNode(k,"ExportNamedDeclaration")},y.parseExportSpecifiers=function(){var k=[],R=!0;for(this.expect(s.braceL);!this.eat(s.braceR);){if(R)R=!1;else if(this.expect(s.comma),this.afterTrailingComma(s.braceR))break;var P=this.startNode();P.local=this.parseIdent(this.type===s._default),P.exported=this.eatContextual("as")?this.parseIdent(!0):P.local,k.push(this.finishNode(P,"ExportSpecifier"))}return k},y.parseImport=function(k){return this.next(),this.type===s.string?(k.specifiers=_,k.source=this.parseExprAtom(),k.kind=""):(k.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),k.source=this.type===s.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(k,"ImportDeclaration")},y.parseImportSpecifiers=function(){var k=[],R=!0;if(this.type===s.name){var P=this.startNode();if(P.local=this.parseIdent(),this.checkLVal(P.local,!0),k.push(this.finishNode(P,"ImportDefaultSpecifier")),!this.eat(s.comma))return k}if(this.type===s.star){var P=this.startNode();return this.next(),this.expectContextual("as"),P.local=this.parseIdent(),this.checkLVal(P.local,!0),k.push(this.finishNode(P,"ImportNamespaceSpecifier")),k}for(this.expect(s.braceL);!this.eat(s.braceR);){if(R)R=!1;else if(this.expect(s.comma),this.afterTrailingComma(s.braceR))break;var P=this.startNode();P.imported=this.parseIdent(!0),P.local=this.eatContextual("as")?this.parseIdent():P.imported,this.checkLVal(P.local,!0),k.push(this.finishNode(P,"ImportSpecifier"))}return k}},{"./state":9,"./tokentype":13,"./whitespace":15}],11:[function(l,t,i){var s=function(k,R){if(!(k instanceof R))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(i,"__esModule",{value:!0});var u=l("./state").Parser,p=l("./tokentype").types,y=l("./whitespace").lineBreak,A=i.TokContext=function k(R,P,B,O){s(this,k),this.token=R,this.isExpr=P,this.preserveSpace=B,this.override=O},E={b_stat:new A("{",!1),b_expr:new A("{",!0),b_tmpl:new A("${",!0),p_stat:new A("(",!1),p_expr:new A("(",!0),q_tmpl:new A("`",!0,!0,function(k){return k.readTmplToken()}),f_expr:new A("function",!0)};i.types=E;var _=u.prototype;_.initialContext=function(){return[E.b_stat]},_.braceIsBlock=function(k){var R=void 0;return k===p.colon&&(R=this.curContext()).token=="{"?!R.isExpr:k===p._return?y.test(this.input.slice(this.lastTokEnd,this.start)):k===p._else||k===p.semi||k===p.eof?!0:k==p.braceL?this.curContext()===E.b_stat:!this.exprAllowed},_.updateContext=function(k){var R=void 0,P=this.type;P.keyword&&k==p.dot?this.exprAllowed=!1:(R=P.updateContext)?R.call(this,k):this.exprAllowed=P.beforeExpr},p.parenR.updateContext=p.braceR.updateContext=function(){if(this.context.length==1){this.exprAllowed=!0;return}var k=this.context.pop();k===E.b_stat&&this.curContext()===E.f_expr?(this.context.pop(),this.exprAllowed=!1):k===E.b_tmpl?this.exprAllowed=!0:this.exprAllowed=!k.isExpr},p.braceL.updateContext=function(k){this.context.push(this.braceIsBlock(k)?E.b_stat:E.b_expr),this.exprAllowed=!0},p.dollarBraceL.updateContext=function(){this.context.push(E.b_tmpl),this.exprAllowed=!0},p.parenL.updateContext=function(k){var R=k===p._if||k===p._for||k===p._with||k===p._while;this.context.push(R?E.p_stat:E.p_expr),this.exprAllowed=!0},p.incDec.updateContext=function(){},p._function.updateContext=function(){this.curContext()!==E.b_stat&&this.context.push(E.f_expr),this.exprAllowed=!1},p.backQuote.updateContext=function(){this.curContext()===E.q_tmpl?this.context.pop():this.context.push(E.q_tmpl),this.exprAllowed=!1}},{"./state":9,"./tokentype":13,"./whitespace":15}],12:[function(l,t,i){var s=function(be,xe){if(!(be instanceof xe))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(i,"__esModule",{value:!0});var u=l("./identifier"),p=u.isIdentifierStart,y=u.isIdentifierChar,A=l("./tokentype"),E=A.types,_=A.keywords,k=l("./state").Parser,R=l("./location").SourceLocation,P=l("./whitespace"),B=P.lineBreak,O=P.lineBreakG,H=P.isNewLine,z=P.nonASCIIwhitespace,Y=i.Token=function be(xe){s(this,be),this.type=xe.type,this.value=xe.value,this.start=xe.start,this.end=xe.end,xe.options.locations&&(this.loc=new R(xe,xe.startLoc,xe.endLoc)),xe.options.ranges&&(this.range=[xe.start,xe.end])},ee=k.prototype;ee.next=function(){this.options.onToken&&this.options.onToken(new Y(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},ee.getToken=function(){return this.next(),new Y(this)},typeof Symbol!="undefined"&&(ee[Symbol.iterator]=function(){var be=this;return{next:function(){var ne=be.getToken();return{done:ne.type===E.eof,value:ne}}}}),ee.setStrict=function(be){if(this.strict=be,!(this.type!==E.num&&this.type!==E.string)){if(this.pos=this.start,this.options.locations)for(;this.pos<this.lineStart;)this.lineStart=this.input.lastIndexOf(`
`,this.lineStart-2)+1,--this.curLine;this.nextToken()}},ee.curContext=function(){return this.context[this.context.length-1]},ee.nextToken=function(){var be=this.curContext();if((!be||!be.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(E.eof);if(be.override)return be.override(this);this.readToken(this.fullCharCodeAtPos())},ee.readToken=function(be){return p(be,this.options.ecmaVersion>=6)||be===92?this.readWord():this.getTokenFromCode(be)},ee.fullCharCodeAtPos=function(){var be=this.input.charCodeAt(this.pos);if(be<=55295||be>=57344)return be;var xe=this.input.charCodeAt(this.pos+1);return(be<<10)+xe-56613888},ee.skipBlockComment=function(){var be=this.options.onComment&&this.options.locations&&this.curPosition(),xe=this.pos,ne=this.input.indexOf("*/",this.pos+=2);if(ne===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=ne+2,this.options.locations){O.lastIndex=xe;for(var ae=void 0;(ae=O.exec(this.input))&&ae.index<this.pos;)++this.curLine,this.lineStart=ae.index+ae[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(xe+2,ne),xe,this.pos,be,this.options.locations&&this.curPosition())},ee.skipLineComment=function(be){for(var xe=this.pos,ne=this.options.onComment&&this.options.locations&&this.curPosition(),ae=this.input.charCodeAt(this.pos+=be);this.pos<this.input.length&&ae!==10&&ae!==13&&ae!==8232&&ae!==8233;)++this.pos,ae=this.input.charCodeAt(this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(xe+be,this.pos),xe,this.pos,ne,this.options.locations&&this.curPosition())},ee.skipSpace=function(){for(;this.pos<this.input.length;){var be=this.input.charCodeAt(this.pos);if(be===32)++this.pos;else if(be===13){++this.pos;var xe=this.input.charCodeAt(this.pos);xe===10&&++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos)}else if(be===10||be===8232||be===8233)++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);else if(be>8&&be<14)++this.pos;else if(be===47){var xe=this.input.charCodeAt(this.pos+1);if(xe===42)this.skipBlockComment();else if(xe===47)this.skipLineComment(2);else break}else if(be===160)++this.pos;else if(be>=5760&&z.test(String.fromCharCode(be)))++this.pos;else break}},ee.finishToken=function(be,xe){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var ne=this.type;this.type=be,this.value=xe,this.updateContext(ne)},ee.readToken_dot=function(){var be=this.input.charCodeAt(this.pos+1);if(be>=48&&be<=57)return this.readNumber(!0);var xe=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&be===46&&xe===46?(this.pos+=3,this.finishToken(E.ellipsis)):(++this.pos,this.finishToken(E.dot))},ee.readToken_slash=function(){var be=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):be===61?this.finishOp(E.assign,2):this.finishOp(E.slash,1)},ee.readToken_mult_modulo=function(be){var xe=this.input.charCodeAt(this.pos+1);return xe===61?this.finishOp(E.assign,2):this.finishOp(be===42?E.star:E.modulo,1)},ee.readToken_pipe_amp=function(be){var xe=this.input.charCodeAt(this.pos+1);return xe===be?this.finishOp(be===124?E.logicalOR:E.logicalAND,2):xe===61?this.finishOp(E.assign,2):this.finishOp(be===124?E.bitwiseOR:E.bitwiseAND,1)},ee.readToken_caret=function(){var be=this.input.charCodeAt(this.pos+1);return be===61?this.finishOp(E.assign,2):this.finishOp(E.bitwiseXOR,1)},ee.readToken_plus_min=function(be){var xe=this.input.charCodeAt(this.pos+1);return xe===be?xe==45&&this.input.charCodeAt(this.pos+2)==62&&B.test(this.input.slice(this.lastTokEnd,this.pos))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(E.incDec,2):xe===61?this.finishOp(E.assign,2):this.finishOp(E.plusMin,1)},ee.readToken_lt_gt=function(be){var xe=this.input.charCodeAt(this.pos+1),ne=1;return xe===be?(ne=be===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+ne)===61?this.finishOp(E.assign,ne+1):this.finishOp(E.bitShift,ne)):xe==33&&be==60&&this.input.charCodeAt(this.pos+2)==45&&this.input.charCodeAt(this.pos+3)==45?(this.inModule&&unexpected(),this.skipLineComment(4),this.skipSpace(),this.nextToken()):(xe===61&&(ne=this.input.charCodeAt(this.pos+2)===61?3:2),this.finishOp(E.relational,ne))},ee.readToken_eq_excl=function(be){var xe=this.input.charCodeAt(this.pos+1);return xe===61?this.finishOp(E.equality,this.input.charCodeAt(this.pos+2)===61?3:2):be===61&&xe===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(E.arrow)):this.finishOp(be===61?E.eq:E.prefix,1)},ee.getTokenFromCode=function(be){switch(be){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(E.parenL);case 41:return++this.pos,this.finishToken(E.parenR);case 59:return++this.pos,this.finishToken(E.semi);case 44:return++this.pos,this.finishToken(E.comma);case 91:return++this.pos,this.finishToken(E.bracketL);case 93:return++this.pos,this.finishToken(E.bracketR);case 123:return++this.pos,this.finishToken(E.braceL);case 125:return++this.pos,this.finishToken(E.braceR);case 58:return++this.pos,this.finishToken(E.colon);case 63:return++this.pos,this.finishToken(E.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(E.backQuote);case 48:var xe=this.input.charCodeAt(this.pos+1);if(xe===120||xe===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(xe===111||xe===79)return this.readRadixNumber(8);if(xe===98||xe===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(be);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo(be);case 124:case 38:return this.readToken_pipe_amp(be);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(be);case 60:case 62:return this.readToken_lt_gt(be);case 61:case 33:return this.readToken_eq_excl(be);case 126:return this.finishOp(E.prefix,1)}this.raise(this.pos,"Unexpected character '"+oe(be)+"'")},ee.finishOp=function(be,xe){var ne=this.input.slice(this.pos,this.pos+xe);return this.pos+=xe,this.finishToken(be,ne)};var ue=!1;try{new RegExp("\uFFFF","u"),ue=!0}catch{}ee.readRegexp=function(){for(var be=void 0,xe=void 0,ne=this.pos;;){this.pos>=this.input.length&&this.raise(ne,"Unterminated regular expression");var ae=this.input.charAt(this.pos);if(B.test(ae)&&this.raise(ne,"Unterminated regular expression"),be)be=!1;else{if(ae==="[")xe=!0;else if(ae==="]"&&xe)xe=!1;else if(ae==="/"&&!xe)break;be=ae==="\\"}++this.pos}var ye=this.input.slice(ne,this.pos);++this.pos;var ge=this.readWord1(),we=ye;if(ge){var le=/^[gmsiy]*$/;this.options.ecmaVersion>=6&&(le=/^[gmsiyu]*$/),le.test(ge)||this.raise(ne,"Invalid regular expression flag"),ge.indexOf("u")>=0&&!ue&&(we=we.replace(/\\u([a-fA-F0-9]{4})|\\u\{([0-9a-fA-F]+)\}|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"))}try{new RegExp(we)}catch(he){he instanceof SyntaxError&&this.raise(ne,"Error parsing regular expression: "+he.message),this.raise(he)}var ie=void 0;try{ie=new RegExp(ye,ge)}catch{ie=null}return this.finishToken(E.regexp,{pattern:ye,flags:ge,value:ie})},ee.readInt=function(be,xe){for(var ne=this.pos,ae=0,ye=0,ge=xe==null?1/0:xe;ye<ge;++ye){var we=this.input.charCodeAt(this.pos),le=void 0;if(we>=97?le=we-97+10:we>=65?le=we-65+10:we>=48&&we<=57?le=we-48:le=1/0,le>=be)break;++this.pos,ae=ae*be+le}return this.pos===ne||xe!=null&&this.pos-ne!==xe?null:ae},ee.readRadixNumber=function(be){this.pos+=2;var xe=this.readInt(be);return xe==null&&this.raise(this.start+2,"Expected number in radix "+be),p(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(E.num,xe)},ee.readNumber=function(be){var xe=this.pos,ne=!1,ae=this.input.charCodeAt(this.pos)===48;!be&&this.readInt(10)===null&&this.raise(xe,"Invalid number"),this.input.charCodeAt(this.pos)===46&&(++this.pos,this.readInt(10),ne=!0);var ye=this.input.charCodeAt(this.pos);(ye===69||ye===101)&&(ye=this.input.charCodeAt(++this.pos),(ye===43||ye===45)&&++this.pos,this.readInt(10)===null&&this.raise(xe,"Invalid number"),ne=!0),p(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var ge=this.input.slice(xe,this.pos),we=void 0;return ne?we=parseFloat(ge):!ae||ge.length===1?we=parseInt(ge,10):/[89]/.test(ge)||this.strict?this.raise(xe,"Invalid number"):we=parseInt(ge,8),this.finishToken(E.num,we)},ee.readCodePoint=function(){var be=this.input.charCodeAt(this.pos),xe=void 0;return be===123?(this.options.ecmaVersion<6&&this.unexpected(),++this.pos,xe=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,xe>1114111&&this.unexpected()):xe=this.readHexChar(4),xe};function oe(be){return be<=65535?String.fromCharCode(be):String.fromCharCode((be-65536>>10)+55296,(be-65536&1023)+56320)}ee.readString=function(be){for(var xe="",ne=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var ae=this.input.charCodeAt(this.pos);if(ae===be)break;ae===92?(xe+=this.input.slice(ne,this.pos),xe+=this.readEscapedChar(),ne=this.pos):(H(ae)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return xe+=this.input.slice(ne,this.pos++),this.finishToken(E.string,xe)},ee.readTmplToken=function(){for(var be="",xe=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var ne=this.input.charCodeAt(this.pos);if(ne===96||ne===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&this.type===E.template?ne===36?(this.pos+=2,this.finishToken(E.dollarBraceL)):(++this.pos,this.finishToken(E.backQuote)):(be+=this.input.slice(xe,this.pos),this.finishToken(E.template,be));ne===92?(be+=this.input.slice(xe,this.pos),be+=this.readEscapedChar(),xe=this.pos):H(ne)?(be+=this.input.slice(xe,this.pos),++this.pos,ne===13&&this.input.charCodeAt(this.pos)===10?(++this.pos,be+=`
`):be+=String.fromCharCode(ne),this.options.locations&&(++this.curLine,this.lineStart=this.pos),xe=this.pos):++this.pos}},ee.readEscapedChar=function(){var be=this.input.charCodeAt(++this.pos),xe=/^[0-7]+/.exec(this.input.slice(this.pos,this.pos+3));for(xe&&(xe=xe[0]);xe&&parseInt(xe,8)>255;)xe=xe.slice(0,-1);if(xe==="0"&&(xe=null),++this.pos,xe)return this.strict&&this.raise(this.pos-2,"Octal literal in strict mode"),this.pos+=xe.length-1,String.fromCharCode(parseInt(xe,8));switch(be){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return oe(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 48:return"\0";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:return String.fromCharCode(be)}},ee.readHexChar=function(be){var xe=this.readInt(16,be);return xe===null&&this.raise(this.start,"Bad character escape sequence"),xe};var Ae;ee.readWord1=function(){Ae=!1;for(var be="",xe=!0,ne=this.pos,ae=this.options.ecmaVersion>=6;this.pos<this.input.length;){var ye=this.fullCharCodeAtPos();if(y(ye,ae))this.pos+=ye<=65535?1:2;else if(ye===92){Ae=!0,be+=this.input.slice(ne,this.pos);var ge=this.pos;this.input.charCodeAt(++this.pos)!=117&&this.raise(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var we=this.readCodePoint();(xe?p:y)(we,ae)||this.raise(ge,"Invalid Unicode escape"),be+=oe(we),ne=this.pos}else break;xe=!1}return be+this.input.slice(ne,this.pos)},ee.readWord=function(){var be=this.readWord1(),xe=E.name;return(this.options.ecmaVersion>=6||!Ae)&&this.isKeyword(be)&&(xe=_[be]),this.finishToken(xe,be)}},{"./identifier":3,"./location":4,"./state":9,"./tokentype":13,"./whitespace":15}],13:[function(l,t,i){var s=function(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(i,"__esModule",{value:!0});var u=i.TokenType=function R(P){var B=arguments[1]===void 0?{}:arguments[1];s(this,R),this.label=P,this.keyword=B.keyword,this.beforeExpr=!!B.beforeExpr,this.startsExpr=!!B.startsExpr,this.isLoop=!!B.isLoop,this.isAssign=!!B.isAssign,this.prefix=!!B.prefix,this.postfix=!!B.postfix,this.binop=B.binop||null,this.updateContext=null};function p(R,P){return new u(R,{beforeExpr:!0,binop:P})}var y={beforeExpr:!0},A={startsExpr:!0},E={num:new u("num",A),regexp:new u("regexp",A),string:new u("string",A),name:new u("name",A),eof:new u("eof"),bracketL:new u("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new u("]"),braceL:new u("{",{beforeExpr:!0,startsExpr:!0}),braceR:new u("}"),parenL:new u("(",{beforeExpr:!0,startsExpr:!0}),parenR:new u(")"),comma:new u(",",y),semi:new u(";",y),colon:new u(":",y),dot:new u("."),question:new u("?",y),arrow:new u("=>",y),template:new u("template"),ellipsis:new u("...",y),backQuote:new u("`",A),dollarBraceL:new u("${",{beforeExpr:!0,startsExpr:!0}),eq:new u("=",{beforeExpr:!0,isAssign:!0}),assign:new u("_=",{beforeExpr:!0,isAssign:!0}),incDec:new u("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new u("prefix",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:p("||",1),logicalAND:p("&&",2),bitwiseOR:p("|",3),bitwiseXOR:p("^",4),bitwiseAND:p("&",5),equality:p("==/!=",6),relational:p("</>",7),bitShift:p("<</>>",8),plusMin:new u("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:p("%",10),star:p("*",10),slash:p("/",10)};i.types=E;var _={};i.keywords=_;function k(R){var P=arguments[1]===void 0?{}:arguments[1];P.keyword=R,_[R]=E["_"+R]=new u(R,P)}k("break"),k("case",y),k("catch"),k("continue"),k("debugger"),k("default"),k("do",{isLoop:!0}),k("else",y),k("finally"),k("for",{isLoop:!0}),k("function"),k("if"),k("return",y),k("switch"),k("throw",y),k("try"),k("var"),k("let"),k("const"),k("while",{isLoop:!0}),k("with"),k("new",{beforeExpr:!0,startsExpr:!0}),k("this",A),k("super",A),k("class"),k("extends",y),k("export"),k("import"),k("yield",{beforeExpr:!0,startsExpr:!0}),k("null",A),k("true",A),k("false",A),k("in",{beforeExpr:!0,binop:7}),k("instanceof",{beforeExpr:!0,binop:7}),k("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),k("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),k("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},{}],14:[function(l,t,i){i.isArray=s,i.has=u,Object.defineProperty(i,"__esModule",{value:!0});function s(p){return Object.prototype.toString.call(p)==="[object Array]"}function u(p,y){return Object.prototype.hasOwnProperty.call(p,y)}},{}],15:[function(l,t,i){i.isNewLine=p,Object.defineProperty(i,"__esModule",{value:!0});var s=/\r\n?|\n|\u2028|\u2029/;i.lineBreak=s;var u=new RegExp(s.source,"g");i.lineBreakG=u;function p(A){return A===10||A===13||A===8232||A==8233}var y=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/;i.nonASCIIwhitespace=y},{}]},{},[1])(1)});(function(l){if(typeof exports=="object"&&typeof module!="undefined")module.exports=l();else if(typeof define=="function"&&define.amd)define([],l);else{var t;typeof window!="undefined"?t=window:typeof global!="undefined"?t=global:typeof self!="undefined"?t=self:t=this,(t.acorn||(t.acorn={})).loose=l()}})(function(){return function l(t,i,s){function u(A,E){if(!i[A]){if(!t[A]){var _=typeof require=="function"&&require;if(!E&&_)return _(A,!0);if(p)return p(A,!0);var k=new Error("Cannot find module '"+A+"'");throw k.code="MODULE_NOT_FOUND",k}var R=i[A]={exports:{}};t[A][0].call(R.exports,function(P){var B=t[A][1][P];return u(B||P)},R,R.exports,l,t,i,s)}return i[A].exports}for(var p=typeof require=="function"&&require,y=0;y<s.length;y++)u(s[y]);return u}({1:[function(l,t,i){var s=function(E){return E&&E.__esModule?E:{default:E}};i.parse_dammit=A,Object.defineProperty(i,"__esModule",{value:!0});var u=s(l("..")),p=l("./state"),y=p.LooseParser;l("./tokenize"),l("./parseutil"),l("./statement"),l("./expression"),i.LooseParser=p.LooseParser,u.defaultOptions.tabSize=4;function A(E,_){var k=new y(E,_);return k.next(),k.parseTopLevel()}u.parse_dammit=A,u.LooseParser=y},{"..":2,"./expression":3,"./parseutil":4,"./state":5,"./statement":6,"./tokenize":7}],2:[function(l,t,i){t.exports=typeof window!="undefined"?window.acorn:l("./acorn")},{}],3:[function(l,t,i){var s=l("./state").LooseParser,u=l("./parseutil").isDummy,p=l("..").tokTypes,y=s.prototype;y.checkLVal=function(A){if(!A)return A;switch(A.type){case"Identifier":case"MemberExpression":case"ObjectPattern":case"ArrayPattern":case"RestElement":case"AssignmentPattern":return A;default:return this.dummyIdent()}},y.parseExpression=function(A){var E=this.storeCurrentPos(),_=this.parseMaybeAssign(A);if(this.tok.type===p.comma){var k=this.startNodeAt(E);for(k.expressions=[_];this.eat(p.comma);)k.expressions.push(this.parseMaybeAssign(A));return this.finishNode(k,"SequenceExpression")}return _},y.parseParenExpression=function(){this.pushCx(),this.expect(p.parenL);var A=this.parseExpression();return this.popCx(),this.expect(p.parenR),A},y.parseMaybeAssign=function(A){var E=this.storeCurrentPos(),_=this.parseMaybeConditional(A);if(this.tok.type.isAssign){var k=this.startNodeAt(E);return k.operator=this.tok.value,k.left=this.tok.type===p.eq?this.toAssignable(_):this.checkLVal(_),this.next(),k.right=this.parseMaybeAssign(A),this.finishNode(k,"AssignmentExpression")}return _},y.parseMaybeConditional=function(A){var E=this.storeCurrentPos(),_=this.parseExprOps(A);if(this.eat(p.question)){var k=this.startNodeAt(E);return k.test=_,k.consequent=this.parseMaybeAssign(),k.alternate=this.expect(p.colon)?this.parseMaybeAssign(A):this.dummyIdent(),this.finishNode(k,"ConditionalExpression")}return _},y.parseExprOps=function(A){var E=this.storeCurrentPos(),_=this.curIndent,k=this.curLineStart;return this.parseExprOp(this.parseMaybeUnary(A),E,-1,A,_,k)},y.parseExprOp=function(A,E,_,k,R,P){if(this.curLineStart!=P&&this.curIndent<R&&this.tokenStartsLine())return A;var B=this.tok.type.binop;if(B!=null&&(!k||this.tok.type!==p._in)&&B>_){var O=this.startNodeAt(E);if(O.left=A,O.operator=this.tok.value,this.next(),this.curLineStart!=P&&this.curIndent<R&&this.tokenStartsLine())O.right=this.dummyIdent();else{var H=this.storeCurrentPos();O.right=this.parseExprOp(this.parseMaybeUnary(k),H,B,k,R,P)}return this.finishNode(O,/&&|\|\|/.test(O.operator)?"LogicalExpression":"BinaryExpression"),this.parseExprOp(O,E,_,k,R,P)}return A},y.parseMaybeUnary=function(A){if(this.tok.type.prefix){var E=this.startNode(),_=this.tok.type===p.incDec;return E.operator=this.tok.value,E.prefix=!0,this.next(),E.argument=this.parseMaybeUnary(A),_&&(E.argument=this.checkLVal(E.argument)),this.finishNode(E,_?"UpdateExpression":"UnaryExpression")}else if(this.tok.type===p.ellipsis){var E=this.startNode();return this.next(),E.argument=this.parseMaybeUnary(A),this.finishNode(E,"SpreadElement")}for(var k=this.storeCurrentPos(),R=this.parseExprSubscripts();this.tok.type.postfix&&!this.canInsertSemicolon();){var E=this.startNodeAt(k);E.operator=this.tok.value,E.prefix=!1,E.argument=this.checkLVal(R),this.next(),R=this.finishNode(E,"UpdateExpression")}return R},y.parseExprSubscripts=function(){var A=this.storeCurrentPos();return this.parseSubscripts(this.parseExprAtom(),A,!1,this.curIndent,this.curLineStart)},y.parseSubscripts=function(A,E,_,k,R){for(;;){if(this.curLineStart!=R&&this.curIndent<=k&&this.tokenStartsLine())if(this.tok.type==p.dot&&this.curIndent==k)--k;else return A;if(this.eat(p.dot)){var P=this.startNodeAt(E);P.object=A,this.curLineStart!=R&&this.curIndent<=k&&this.tokenStartsLine()?P.property=this.dummyIdent():P.property=this.parsePropertyAccessor()||this.dummyIdent(),P.computed=!1,A=this.finishNode(P,"MemberExpression")}else if(this.tok.type==p.bracketL){this.pushCx(),this.next();var P=this.startNodeAt(E);P.object=A,P.property=this.parseExpression(),P.computed=!0,this.popCx(),this.expect(p.bracketR),A=this.finishNode(P,"MemberExpression")}else if(!_&&this.tok.type==p.parenL){this.pushCx();var P=this.startNodeAt(E);P.callee=A,P.arguments=this.parseExprList(p.parenR),A=this.finishNode(P,"CallExpression")}else if(this.tok.type==p.backQuote){var P=this.startNodeAt(E);P.tag=A,P.quasi=this.parseTemplate(),A=this.finishNode(P,"TaggedTemplateExpression")}else return A}},y.parseExprAtom=function(){var A=void 0;switch(this.tok.type){case p._this:case p._super:var E=this.tok.type===p._this?"ThisExpression":"Super";return A=this.startNode(),this.next(),this.finishNode(A,E);case p.name:var _=this.storeCurrentPos(),k=this.parseIdent();return this.eat(p.arrow)?this.parseArrowExpression(this.startNodeAt(_),[k]):k;case p.regexp:A=this.startNode();var R=this.tok.value;return A.regex={pattern:R.pattern,flags:R.flags},A.value=R.value,A.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(A,"Literal");case p.num:case p.string:return A=this.startNode(),A.value=this.tok.value,A.raw=this.input.slice(this.tok.start,this.tok.end),this.next(),this.finishNode(A,"Literal");case p._null:case p._true:case p._false:return A=this.startNode(),A.value=this.tok.type===p._null?null:this.tok.type===p._true,A.raw=this.tok.type.keyword,this.next(),this.finishNode(A,"Literal");case p.parenL:var P=this.storeCurrentPos();this.next();var B=this.parseExpression();if(this.expect(p.parenR),this.eat(p.arrow))return this.parseArrowExpression(this.startNodeAt(P),B.expressions||(u(B)?[]:[B]));if(this.options.preserveParens){var O=this.startNodeAt(P);O.expression=B,B=this.finishNode(O,"ParenthesizedExpression")}return B;case p.bracketL:return A=this.startNode(),this.pushCx(),A.elements=this.parseExprList(p.bracketR,!0),this.finishNode(A,"ArrayExpression");case p.braceL:return this.parseObj();case p._class:return this.parseClass();case p._function:return A=this.startNode(),this.next(),this.parseFunction(A,!1);case p._new:return this.parseNew();case p._yield:return A=this.startNode(),this.next(),this.semicolon()||this.canInsertSemicolon()||this.tok.type!=p.star&&!this.tok.type.startsExpr?(A.delegate=!1,A.argument=null):(A.delegate=this.eat(p.star),A.argument=this.parseMaybeAssign()),this.finishNode(A,"YieldExpression");case p.backQuote:return this.parseTemplate();default:return this.dummyIdent()}},y.parseNew=function(){var A=this.startNode(),E=this.curIndent,_=this.curLineStart,k=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(p.dot))return A.meta=k,A.property=this.parseIdent(!0),this.finishNode(A,"MetaProperty");var R=this.storeCurrentPos();return A.callee=this.parseSubscripts(this.parseExprAtom(),R,!0,E,_),this.tok.type==p.parenL?(this.pushCx(),A.arguments=this.parseExprList(p.parenR)):A.arguments=[],this.finishNode(A,"NewExpression")},y.parseTemplateElement=function(){var A=this.startNode();return A.value={raw:this.input.slice(this.tok.start,this.tok.end),cooked:this.tok.value},this.next(),A.tail=this.tok.type===p.backQuote,this.finishNode(A,"TemplateElement")},y.parseTemplate=function(){var A=this.startNode();this.next(),A.expressions=[];var E=this.parseTemplateElement();for(A.quasis=[E];!E.tail;)this.next(),A.expressions.push(this.parseExpression()),this.expect(p.braceR)?E=this.parseTemplateElement():(E=this.startNode(),E.value={cooked:"",raw:""},E.tail=!0),A.quasis.push(E);return this.expect(p.backQuote),this.finishNode(A,"TemplateLiteral")},y.parseObj=function(){var A=this.startNode();A.properties=[],this.pushCx();var E=this.curIndent+1,_=this.curLineStart;for(this.eat(p.braceL),this.curIndent+1<E&&(E=this.curIndent,_=this.curLineStart);!this.closes(p.braceR,E,_);){var k=this.startNode(),R=void 0,P=void 0;if(this.options.ecmaVersion>=6&&(P=this.storeCurrentPos(),k.method=!1,k.shorthand=!1,R=this.eat(p.star)),this.parsePropertyName(k),u(k.key)){u(this.parseMaybeAssign())&&this.next(),this.eat(p.comma);continue}if(this.eat(p.colon))k.kind="init",k.value=this.parseMaybeAssign();else if(this.options.ecmaVersion>=6&&(this.tok.type===p.parenL||this.tok.type===p.braceL))k.kind="init",k.method=!0,k.value=this.parseMethod(R);else if(this.options.ecmaVersion>=5&&k.key.type==="Identifier"&&!k.computed&&(k.key.name==="get"||k.key.name==="set")&&this.tok.type!=p.comma&&this.tok.type!=p.braceR)k.kind=k.key.name,this.parsePropertyName(k),k.value=this.parseMethod(!1);else{if(k.kind="init",this.options.ecmaVersion>=6)if(this.eat(p.eq)){var B=this.startNodeAt(P);B.operator="=",B.left=k.key,B.right=this.parseMaybeAssign(),k.value=this.finishNode(B,"AssignmentExpression")}else k.value=k.key;else k.value=this.dummyIdent();k.shorthand=!0}A.properties.push(this.finishNode(k,"Property")),this.eat(p.comma)}return this.popCx(),this.eat(p.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.finishNode(A,"ObjectExpression")},y.parsePropertyName=function(A){if(this.options.ecmaVersion>=6)if(this.eat(p.bracketL)){A.computed=!0,A.key=this.parseExpression(),this.expect(p.bracketR);return}else A.computed=!1;var E=this.tok.type===p.num||this.tok.type===p.string?this.parseExprAtom():this.parseIdent();A.key=E||this.dummyIdent()},y.parsePropertyAccessor=function(){if(this.tok.type===p.name||this.tok.type.keyword)return this.parseIdent()},y.parseIdent=function(){var A=this.tok.type===p.name?this.tok.value:this.tok.type.keyword;if(!A)return this.dummyIdent();var E=this.startNode();return this.next(),E.name=A,this.finishNode(E,"Identifier")},y.initFunction=function(A){A.id=null,A.params=[],this.options.ecmaVersion>=6&&(A.generator=!1,A.expression=!1)},y.toAssignable=function(A){if(this.options.ecmaVersion>=6&&A)switch(A.type){case"ObjectExpression":A.type="ObjectPattern";for(var E=A.properties,_=0;_<E.length;_++)this.toAssignable(E[_].value);break;case"ArrayExpression":A.type="ArrayPattern",this.toAssignableList(A.elements);break;case"SpreadElement":A.type="RestElement",A.argument=this.toAssignable(A.argument);break;case"AssignmentExpression":A.type="AssignmentPattern";break}return this.checkLVal(A)},y.toAssignableList=function(A){for(var E=0;E<A.length;E++)this.toAssignable(A[E]);return A},y.parseFunctionParams=function(A){return this.pushCx(),A=this.parseExprList(p.parenR),this.toAssignableList(A)},y.parseMethod=function(A){var E=this.startNode();return this.initFunction(E),E.params=this.parseFunctionParams(),E.generator=A||!1,E.expression=this.options.ecmaVersion>=6&&this.tok.type!==p.braceL,E.body=E.expression?this.parseMaybeAssign():this.parseBlock(),this.finishNode(E,"FunctionExpression")},y.parseArrowExpression=function(A,E){return this.initFunction(A),A.params=this.toAssignableList(E),A.expression=this.tok.type!==p.braceL,A.body=A.expression?this.parseMaybeAssign():this.parseBlock(),this.finishNode(A,"ArrowFunctionExpression")},y.parseExprList=function(A,E){var _=this.curIndent,k=this.curLineStart,R=[];for(this.next();!this.closes(A,_+1,k);){if(this.eat(p.comma)){R.push(E?null:this.dummyIdent());continue}var P=this.parseMaybeAssign();if(u(P)){if(this.closes(A,_,k))break;this.next()}else R.push(P);this.eat(p.comma)}return this.popCx(),this.eat(A)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),R}},{"..":2,"./parseutil":4,"./state":5}],4:[function(l,t,i){i.isDummy=R,Object.defineProperty(i,"__esModule",{value:!0});var s=l("./state").LooseParser,u=l(".."),p=u.Node,y=u.SourceLocation,A=u.lineBreak,E=u.isNewLine,_=u.tokTypes,k=s.prototype;k.startNode=function(){var P=new p;return P.start=this.tok.start,this.options.locations&&(P.loc=new y(this.toks,this.tok.loc.start)),this.options.directSourceFile&&(P.sourceFile=this.options.directSourceFile),this.options.ranges&&(P.range=[this.tok.start,0]),P},k.storeCurrentPos=function(){return this.options.locations?[this.tok.start,this.tok.loc.start]:this.tok.start},k.startNodeAt=function(P){var B=new p;return this.options.locations?(B.start=P[0],B.loc=new y(this.toks,P[1]),P=P[0]):B.start=P,this.options.directSourceFile&&(B.sourceFile=this.options.directSourceFile),this.options.ranges&&(B.range=[P,0]),B},k.finishNode=function(P,B){return P.type=B,P.end=this.last.end,this.options.locations&&(P.loc.end=this.last.loc.end),this.options.ranges&&(P.range[1]=this.last.end),P},k.dummyIdent=function(){var P=this.startNode();return P.name="\u2716",this.finishNode(P,"Identifier")};function R(P){return P.name=="\u2716"}k.eat=function(P){return this.tok.type===P?(this.next(),!0):!1},k.isContextual=function(P){return this.tok.type===_.name&&this.tok.value===P},k.eatContextual=function(P){return this.tok.value===P&&this.eat(_.name)},k.canInsertSemicolon=function(){return this.tok.type===_.eof||this.tok.type===_.braceR||A.test(this.input.slice(this.last.end,this.tok.start))},k.semicolon=function(){return this.eat(_.semi)},k.expect=function(P){if(this.eat(P))return!0;for(var B=1;B<=2;B++)if(this.lookAhead(B).type==P){for(var O=0;O<B;O++)this.next();return!0}},k.pushCx=function(){this.context.push(this.curIndent)},k.popCx=function(){this.curIndent=this.context.pop()},k.lineEnd=function(P){for(;P<this.input.length&&!E(this.input.charCodeAt(P));)++P;return P},k.indentationAfter=function(P){for(var B=0;;++P){var O=this.input.charCodeAt(P);if(O===32)++B;else if(O===9)B+=this.options.tabSize;else return B}},k.closes=function(P,B,O,H){return this.tok.type===P||this.tok.type===_.eof?!0:O!=this.curLineStart&&this.curIndent<B&&this.tokenStartsLine()&&(!H||this.nextLineStart>=this.input.length||this.indentationAfter(this.nextLineStart)<B)},k.tokenStartsLine=function(){for(var P=this.tok.start-1;P>=this.curLineStart;--P){var B=this.input.charCodeAt(P);if(B!==9&&B!==32)return!1}return!0}},{"..":2,"./state":5}],5:[function(l,t,i){i.LooseParser=A,Object.defineProperty(i,"__esModule",{value:!0});var s=l(".."),u=s.tokenizer,p=s.SourceLocation,y=s.tokTypes;function A(E,_){if(this.toks=u(E,_),this.options=this.toks.options,this.input=this.toks.input,this.tok=this.last={type:y.eof,start:0,end:0},this.options.locations){var k=this.toks.curPosition();this.tok.loc=new p(this.toks,k,k)}this.ahead=[],this.context=[],this.curIndent=0,this.curLineStart=0,this.nextLineStart=this.lineEnd(this.curLineStart)+1}},{"..":2}],6:[function(l,t,i){var s=l("./state").LooseParser,u=l("./parseutil").isDummy,p=l(".."),y=p.getLineInfo,A=p.tokTypes,E=s.prototype;E.parseTopLevel=function(){var _=this.startNodeAt(this.options.locations?[0,y(this.input,0)]:0);for(_.body=[];this.tok.type!==A.eof;)_.body.push(this.parseStatement());return this.last=this.tok,this.options.ecmaVersion>=6&&(_.sourceType=this.options.sourceType),this.finishNode(_,"Program")},E.parseStatement=function(){var _=this.tok.type,k=this.startNode();switch(_){case A._break:case A._continue:this.next();var R=_===A._break;return this.semicolon()||this.canInsertSemicolon()?k.label=null:(k.label=this.tok.type===A.name?this.parseIdent():null,this.semicolon()),this.finishNode(k,R?"BreakStatement":"ContinueStatement");case A._debugger:return this.next(),this.semicolon(),this.finishNode(k,"DebuggerStatement");case A._do:return this.next(),k.body=this.parseStatement(),k.test=this.eat(A._while)?this.parseParenExpression():this.dummyIdent(),this.semicolon(),this.finishNode(k,"DoWhileStatement");case A._for:if(this.next(),this.pushCx(),this.expect(A.parenL),this.tok.type===A.semi)return this.parseFor(k,null);if(this.tok.type===A._var||this.tok.type===A._let||this.tok.type===A._const){var P=this.parseVar(!0);return P.declarations.length===1&&(this.tok.type===A._in||this.isContextual("of"))?this.parseForIn(k,P):this.parseFor(k,P)}var B=this.parseExpression(!0);return this.tok.type===A._in||this.isContextual("of")?this.parseForIn(k,this.toAssignable(B)):this.parseFor(k,B);case A._function:return this.next(),this.parseFunction(k,!0);case A._if:return this.next(),k.test=this.parseParenExpression(),k.consequent=this.parseStatement(),k.alternate=this.eat(A._else)?this.parseStatement():null,this.finishNode(k,"IfStatement");case A._return:return this.next(),this.eat(A.semi)||this.canInsertSemicolon()?k.argument=null:(k.argument=this.parseExpression(),this.semicolon()),this.finishNode(k,"ReturnStatement");case A._switch:var O=this.curIndent,H=this.curLineStart;this.next(),k.discriminant=this.parseParenExpression(),k.cases=[],this.pushCx(),this.expect(A.braceL);for(var z=void 0;!this.closes(A.braceR,O,H,!0);)if(this.tok.type===A._case||this.tok.type===A._default){var Y=this.tok.type===A._case;z&&this.finishNode(z,"SwitchCase"),k.cases.push(z=this.startNode()),z.consequent=[],this.next(),Y?z.test=this.parseExpression():z.test=null,this.expect(A.colon)}else z||(k.cases.push(z=this.startNode()),z.consequent=[],z.test=null),z.consequent.push(this.parseStatement());return z&&this.finishNode(z,"SwitchCase"),this.popCx(),this.eat(A.braceR),this.finishNode(k,"SwitchStatement");case A._throw:return this.next(),k.argument=this.parseExpression(),this.semicolon(),this.finishNode(k,"ThrowStatement");case A._try:if(this.next(),k.block=this.parseBlock(),k.handler=null,this.tok.type===A._catch){var ee=this.startNode();this.next(),this.expect(A.parenL),ee.param=this.toAssignable(this.parseExprAtom()),this.expect(A.parenR),ee.guard=null,ee.body=this.parseBlock(),k.handler=this.finishNode(ee,"CatchClause")}return k.finalizer=this.eat(A._finally)?this.parseBlock():null,!k.handler&&!k.finalizer?k.block:this.finishNode(k,"TryStatement");case A._var:case A._let:case A._const:return this.parseVar();case A._while:return this.next(),k.test=this.parseParenExpression(),k.body=this.parseStatement(),this.finishNode(k,"WhileStatement");case A._with:return this.next(),k.object=this.parseParenExpression(),k.body=this.parseStatement(),this.finishNode(k,"WithStatement");case A.braceL:return this.parseBlock();case A.semi:return this.next(),this.finishNode(k,"EmptyStatement");case A._class:return this.parseClass(!0);case A._import:return this.parseImport();case A._export:return this.parseExport();default:var ue=this.parseExpression();return u(ue)?(this.next(),this.tok.type===A.eof?this.finishNode(k,"EmptyStatement"):this.parseStatement()):_===A.name&&ue.type==="Identifier"&&this.eat(A.colon)?(k.body=this.parseStatement(),k.label=ue,this.finishNode(k,"LabeledStatement")):(k.expression=ue,this.semicolon(),this.finishNode(k,"ExpressionStatement"))}},E.parseBlock=function(){var _=this.startNode();this.pushCx(),this.expect(A.braceL);var k=this.curIndent,R=this.curLineStart;for(_.body=[];!this.closes(A.braceR,k,R,!0);)_.body.push(this.parseStatement());return this.popCx(),this.eat(A.braceR),this.finishNode(_,"BlockStatement")},E.parseFor=function(_,k){return _.init=k,_.test=_.update=null,this.eat(A.semi)&&this.tok.type!==A.semi&&(_.test=this.parseExpression()),this.eat(A.semi)&&this.tok.type!==A.parenR&&(_.update=this.parseExpression()),this.popCx(),this.expect(A.parenR),_.body=this.parseStatement(),this.finishNode(_,"ForStatement")},E.parseForIn=function(_,k){var R=this.tok.type===A._in?"ForInStatement":"ForOfStatement";return this.next(),_.left=k,_.right=this.parseExpression(),this.popCx(),this.expect(A.parenR),_.body=this.parseStatement(),this.finishNode(_,R)},E.parseVar=function(_){var k=this.startNode();k.kind=this.tok.type.keyword,this.next(),k.declarations=[];do{var R=this.startNode();R.id=this.options.ecmaVersion>=6?this.toAssignable(this.parseExprAtom()):this.parseIdent(),R.init=this.eat(A.eq)?this.parseMaybeAssign(_):null,k.declarations.push(this.finishNode(R,"VariableDeclarator"))}while(this.eat(A.comma));if(!k.declarations.length){var R=this.startNode();R.id=this.dummyIdent(),k.declarations.push(this.finishNode(R,"VariableDeclarator"))}return _||this.semicolon(),this.finishNode(k,"VariableDeclaration")},E.parseClass=function(_){var k=this.startNode();this.next(),this.tok.type===A.name?k.id=this.parseIdent():_?k.id=this.dummyIdent():k.id=null,k.superClass=this.eat(A._extends)?this.parseExpression():null,k.body=this.startNode(),k.body.body=[],this.pushCx();var R=this.curIndent+1,P=this.curLineStart;for(this.eat(A.braceL),this.curIndent+1<R&&(R=this.curIndent,P=this.curLineStart);!this.closes(A.braceR,R,P);)if(!this.semicolon()){var B=this.startNode(),O=void 0;if(this.options.ecmaVersion>=6&&(B.static=!1,O=this.eat(A.star)),this.parsePropertyName(B),u(B.key)){u(this.parseMaybeAssign())&&this.next(),this.eat(A.comma);continue}B.key.type==="Identifier"&&!B.computed&&B.key.name==="static"&&this.tok.type!=A.parenL&&this.tok.type!=A.braceL?(B.static=!0,O=this.eat(A.star),this.parsePropertyName(B)):B.static=!1,this.options.ecmaVersion>=5&&B.key.type==="Identifier"&&!B.computed&&(B.key.name==="get"||B.key.name==="set")&&this.tok.type!==A.parenL&&this.tok.type!==A.braceL?(B.kind=B.key.name,this.parsePropertyName(B),B.value=this.parseMethod(!1)):(!B.computed&&!B.static&&!O&&(B.key.type==="Identifier"&&B.key.name==="constructor"||B.key.type==="Literal"&&B.key.value==="constructor")?B.kind="constructor":B.kind="method",B.value=this.parseMethod(O)),k.body.body.push(this.finishNode(B,"MethodDefinition"))}return this.popCx(),this.eat(A.braceR)||(this.last.end=this.tok.start,this.options.locations&&(this.last.loc.end=this.tok.loc.start)),this.semicolon(),this.finishNode(k.body,"ClassBody"),this.finishNode(k,_?"ClassDeclaration":"ClassExpression")},E.parseFunction=function(_,k){return this.initFunction(_),this.options.ecmaVersion>=6&&(_.generator=this.eat(A.star)),this.tok.type===A.name?_.id=this.parseIdent():k&&(_.id=this.dummyIdent()),_.params=this.parseFunctionParams(),_.body=this.parseBlock(),this.finishNode(_,k?"FunctionDeclaration":"FunctionExpression")},E.parseExport=function(){var _=this.startNode();if(this.next(),this.eat(A.star))return _.source=this.eatContextual("from")?this.parseExprAtom():null,this.finishNode(_,"ExportAllDeclaration");if(this.eat(A._default)){var k=this.parseMaybeAssign();if(k.id)switch(k.type){case"FunctionExpression":k.type="FunctionDeclaration";break;case"ClassExpression":k.type="ClassDeclaration";break}return _.declaration=k,this.semicolon(),this.finishNode(_,"ExportDefaultDeclaration")}return this.tok.type.keyword?(_.declaration=this.parseStatement(),_.specifiers=[],_.source=null):(_.declaration=null,_.specifiers=this.parseExportSpecifierList(),_.source=this.eatContextual("from")?this.parseExprAtom():null,this.semicolon()),this.finishNode(_,"ExportNamedDeclaration")},E.parseImport=function(){var _=this.startNode();if(this.next(),this.tok.type===A.string)_.specifiers=[],_.source=this.parseExprAtom(),_.kind="";else{var k=void 0;this.tok.type===A.name&&this.tok.value!=="from"&&(k=this.startNode(),k.local=this.parseIdent(),this.finishNode(k,"ImportDefaultSpecifier"),this.eat(A.comma)),_.specifiers=this.parseImportSpecifierList(),_.source=this.eatContextual("from")?this.parseExprAtom():null,k&&_.specifiers.unshift(k)}return this.semicolon(),this.finishNode(_,"ImportDeclaration")},E.parseImportSpecifierList=function(){var _=[];if(this.tok.type===A.star){var k=this.startNode();this.next(),this.eatContextual("as")&&(k.local=this.parseIdent()),_.push(this.finishNode(k,"ImportNamespaceSpecifier"))}else{var R=this.curIndent,P=this.curLineStart,B=this.nextLineStart;for(this.pushCx(),this.eat(A.braceL),this.curLineStart>B&&(B=this.curLineStart);!this.closes(A.braceR,R+(this.curLineStart<=B?1:0),P);){var k=this.startNode();if(this.eat(A.star))this.eatContextual("as")&&(k.local=this.parseIdent()),this.finishNode(k,"ImportNamespaceSpecifier");else{if(this.isContextual("from"))break;k.imported=this.parseIdent(),k.local=this.eatContextual("as")?this.parseIdent():k.imported,this.finishNode(k,"ImportSpecifier")}_.push(k),this.eat(A.comma)}this.eat(A.braceR),this.popCx()}return _},E.parseExportSpecifierList=function(){var _=[],k=this.curIndent,R=this.curLineStart,P=this.nextLineStart;for(this.pushCx(),this.eat(A.braceL),this.curLineStart>P&&(P=this.curLineStart);!this.closes(A.braceR,k+(this.curLineStart<=P?1:0),R)&&!this.isContextual("from");){var B=this.startNode();B.local=this.parseIdent(),B.exported=this.eatContextual("as")?this.parseIdent():B.local,this.finishNode(B,"ExportSpecifier"),_.push(B),this.eat(A.comma)}return this.eat(A.braceR),this.popCx(),_}},{"..":2,"./parseutil":4,"./state":5}],7:[function(l,t,i){var s=l(".."),u=s.tokTypes,p=s.Token,y=s.isNewLine,A=s.SourceLocation,E=s.getLineInfo,_=s.lineBreakG,k=l("./state").LooseParser,R=k.prototype;function P(B){return B<14&&B>8||B===32||B===160||y(B)}R.next=function(){if(this.last=this.tok,this.ahead.length?this.tok=this.ahead.shift():this.tok=this.readToken(),this.tok.start>=this.nextLineStart){for(;this.tok.start>=this.nextLineStart;)this.curLineStart=this.nextLineStart,this.nextLineStart=this.lineEnd(this.curLineStart)+1;this.curIndent=this.indentationAfter(this.curLineStart)}},R.readToken=function(){for(;;)try{return this.toks.next(),this.toks.type===u.dot&&this.input.substr(this.toks.end,1)==="."&&this.options.ecmaVersion>=6&&(this.toks.end++,this.toks.type=u.ellipsis),new p(this.toks)}catch(ee){if(!(ee instanceof SyntaxError))throw ee;var B=ee.message,O=ee.raisedAt,H=!0;if(/unterminated/i.test(B))if(O=this.lineEnd(ee.pos+1),/string/.test(B))H={start:ee.pos,end:O,type:u.string,value:this.input.slice(ee.pos+1,O)};else if(/regular expr/i.test(B)){var z=this.input.slice(ee.pos,O);try{z=new RegExp(z)}catch{}H={start:ee.pos,end:O,type:u.regexp,value:z}}else/template/.test(B)?H={start:ee.pos,end:O,type:u.template,value:this.input.slice(ee.pos,O)}:H=!1;else if(/invalid (unicode|regexp|number)|expecting unicode|octal literal|is reserved|directly after number/i.test(B))for(;O<this.input.length&&!P(this.input.charCodeAt(O));)++O;else if(/character escape|expected hexadecimal/i.test(B))for(;O<this.input.length;){var Y=this.input.charCodeAt(O++);if(Y===34||Y===39||y(Y))break}else if(/unexpected character/i.test(B))O++,H=!1;else if(/regular expression/i.test(B))H=!0;else throw ee;if(this.resetTo(O),H===!0&&(H={start:O,end:O,type:u.name,value:"\u2716"}),H)return this.options.locations&&(H.loc=new A(this.toks,E(this.input,H.start),E(this.input,H.end))),H}},R.resetTo=function(B){this.toks.pos=B;var O=this.input.charAt(B-1);if(this.toks.exprAllowed=!O||/[\[\{\(,;:?\/*=+\-~!|&%^<>]/.test(O)||/[enwfd]/.test(O)&&/\b(keywords|case|else|return|throw|new|in|(instance|type)of|delete|void)$/.test(this.input.slice(B-10,B)),this.options.locations){this.toks.curLine=1,this.toks.lineStart=_.lastIndex=0;for(var H=void 0;(H=_.exec(this.input))&&H.index<B;)++this.toks.curLine,this.toks.lineStart=H.index+H[0].length}},R.lookAhead=function(B){for(;B>this.ahead.length;)this.ahead.push(this.readToken());return this.ahead[B-1]}},{"..":2,"./state":5}]},{},[1])(1)});(function(l){if(typeof exports=="object"&&typeof module!="undefined")module.exports=l();else if(typeof define=="function"&&define.amd)define([],l);else{var t;typeof window!="undefined"?t=window:typeof global!="undefined"?t=global:typeof self!="undefined"?t=self:t=this,(t.acorn||(t.acorn={})).walk=l()}})(function(){return function l(t,i,s){function u(A,E){if(!i[A]){if(!t[A]){var _=typeof require=="function"&&require;if(!E&&_)return _(A,!0);if(p)return p(A,!0);var k=new Error("Cannot find module '"+A+"'");throw k.code="MODULE_NOT_FOUND",k}var R=i[A]={exports:{}};t[A][0].call(R.exports,function(P){var B=t[A][1][P];return u(B||P)},R,R.exports,l,t,i,s)}return i[A].exports}for(var p=typeof require=="function"&&require,y=0;y<s.length;y++)u(s[y]);return u}({1:[function(l,t,i){var s=function(Y,ee){if(!(Y instanceof ee))throw new TypeError("Cannot call a class as a function")};i.simple=u,i.ancestor=p,i.recursive=y,i.findNodeAt=_,i.findNodeAround=k,i.findNodeAfter=R,i.findNodeBefore=P,i.make=B,Object.defineProperty(i,"__esModule",{value:!0});function u(Y,ee,ue,oe){ue||(ue=i.base),function Ae(be,xe,ne){var ae=ne||be.type,ye=ee[ae];ue[ae](be,xe,Ae),ye&&ye(be,xe)}(Y,oe)}function p(Y,ee,ue,oe){ue||(ue=i.base),oe||(oe=[]),function Ae(be,xe,ne){var ae=ne||be.type,ye=ee[ae];be!=xe[xe.length-1]&&(xe=xe.slice(),xe.push(be)),ue[ae](be,xe,Ae),ye&&ye(be,xe)}(Y,oe)}function y(Y,ee,ue,oe){var Ae=ue?i.make(ue,oe):oe;(function be(xe,ne,ae){Ae[ae||xe.type](xe,ne,be)})(Y,ee)}function A(Y){return typeof Y=="string"?function(ee){return ee==Y}:Y||function(){return!0}}var E=function Y(ee,ue){s(this,Y),this.node=ee,this.state=ue};function _(Y,ee,ue,oe,Ae,be){oe=A(oe),Ae||(Ae=i.base);try{(function xe(ne,ae,ye){var ge=ye||ne.type;if((ee==null||ne.start<=ee)&&(ue==null||ne.end>=ue)&&Ae[ge](ne,ae,xe),oe(ge,ne)&&(ee==null||ne.start==ee)&&(ue==null||ne.end==ue))throw new E(ne,ae)})(Y,be)}catch(xe){if(xe instanceof E)return xe;throw xe}}function k(Y,ee,ue,oe,Ae){ue=A(ue),oe||(oe=i.base);try{(function be(xe,ne,ae){var ye=ae||xe.type;if(!(xe.start>ee||xe.end<ee)&&(oe[ye](xe,ne,be),ue(ye,xe)))throw new E(xe,ne)})(Y,Ae)}catch(be){if(be instanceof E)return be;throw be}}function R(Y,ee,ue,oe,Ae){ue=A(ue),oe||(oe=i.base);try{(function be(xe,ne,ae){if(!(xe.end<ee)){var ye=ae||xe.type;if(xe.start>=ee&&ue(ye,xe))throw new E(xe,ne);oe[ye](xe,ne,be)}})(Y,Ae)}catch(be){if(be instanceof E)return be;throw be}}function P(Y,ee,ue,oe,Ae){ue=A(ue),oe||(oe=i.base);var be=void 0;return function xe(ne,ae,ye){if(!(ne.start>ee)){var ge=ye||ne.type;ne.end<=ee&&(!be||be.node.end<ne.end)&&ue(ge,ne)&&(be=new E(ne,ae)),oe[ge](ne,ae,xe)}}(Y,Ae),be}function B(Y,ee){ee||(ee=i.base);var ue={};for(var oe in ee)ue[oe]=ee[oe];for(var oe in Y)ue[oe]=Y[oe];return ue}function O(Y,ee,ue){ue(Y,ee)}function H(Y,ee,ue){}var z={};i.base=z,z.Program=z.BlockStatement=function(Y,ee,ue){for(var oe=0;oe<Y.body.length;++oe)ue(Y.body[oe],ee,"Statement")},z.Statement=O,z.EmptyStatement=H,z.ExpressionStatement=z.ParenthesizedExpression=function(Y,ee,ue){return ue(Y.expression,ee,"Expression")},z.IfStatement=function(Y,ee,ue){ue(Y.test,ee,"Expression"),ue(Y.consequent,ee,"Statement"),Y.alternate&&ue(Y.alternate,ee,"Statement")},z.LabeledStatement=function(Y,ee,ue){return ue(Y.body,ee,"Statement")},z.BreakStatement=z.ContinueStatement=H,z.WithStatement=function(Y,ee,ue){ue(Y.object,ee,"Expression"),ue(Y.body,ee,"Statement")},z.SwitchStatement=function(Y,ee,ue){ue(Y.discriminant,ee,"Expression");for(var oe=0;oe<Y.cases.length;++oe){var Ae=Y.cases[oe];Ae.test&&ue(Ae.test,ee,"Expression");for(var be=0;be<Ae.consequent.length;++be)ue(Ae.consequent[be],ee,"Statement")}},z.ReturnStatement=z.YieldExpression=function(Y,ee,ue){Y.argument&&ue(Y.argument,ee,"Expression")},z.ThrowStatement=z.SpreadElement=z.RestElement=function(Y,ee,ue){return ue(Y.argument,ee,"Expression")},z.TryStatement=function(Y,ee,ue){ue(Y.block,ee,"Statement"),Y.handler&&ue(Y.handler.body,ee,"ScopeBody"),Y.finalizer&&ue(Y.finalizer,ee,"Statement")},z.WhileStatement=z.DoWhileStatement=function(Y,ee,ue){ue(Y.test,ee,"Expression"),ue(Y.body,ee,"Statement")},z.ForStatement=function(Y,ee,ue){Y.init&&ue(Y.init,ee,"ForInit"),Y.test&&ue(Y.test,ee,"Expression"),Y.update&&ue(Y.update,ee,"Expression"),ue(Y.body,ee,"Statement")},z.ForInStatement=z.ForOfStatement=function(Y,ee,ue){ue(Y.left,ee,"ForInit"),ue(Y.right,ee,"Expression"),ue(Y.body,ee,"Statement")},z.ForInit=function(Y,ee,ue){Y.type=="VariableDeclaration"?ue(Y,ee):ue(Y,ee,"Expression")},z.DebuggerStatement=H,z.FunctionDeclaration=function(Y,ee,ue){return ue(Y,ee,"Function")},z.VariableDeclaration=function(Y,ee,ue){for(var oe=0;oe<Y.declarations.length;++oe){var Ae=Y.declarations[oe];Ae.init&&ue(Ae.init,ee,"Expression")}},z.Function=function(Y,ee,ue){return ue(Y.body,ee,"ScopeBody")},z.ScopeBody=function(Y,ee,ue){return ue(Y,ee,"Statement")},z.Expression=O,z.ThisExpression=z.Super=z.MetaProperty=H,z.ArrayExpression=z.ArrayPattern=function(Y,ee,ue){for(var oe=0;oe<Y.elements.length;++oe){var Ae=Y.elements[oe];Ae&&ue(Ae,ee,"Expression")}},z.ObjectExpression=z.ObjectPattern=function(Y,ee,ue){for(var oe=0;oe<Y.properties.length;++oe)ue(Y.properties[oe],ee)},z.FunctionExpression=z.ArrowFunctionExpression=z.FunctionDeclaration,z.SequenceExpression=z.TemplateLiteral=function(Y,ee,ue){for(var oe=0;oe<Y.expressions.length;++oe)ue(Y.expressions[oe],ee,"Expression")},z.UnaryExpression=z.UpdateExpression=function(Y,ee,ue){ue(Y.argument,ee,"Expression")},z.BinaryExpression=z.AssignmentExpression=z.AssignmentPattern=z.LogicalExpression=function(Y,ee,ue){ue(Y.left,ee,"Expression"),ue(Y.right,ee,"Expression")},z.ConditionalExpression=function(Y,ee,ue){ue(Y.test,ee,"Expression"),ue(Y.consequent,ee,"Expression"),ue(Y.alternate,ee,"Expression")},z.NewExpression=z.CallExpression=function(Y,ee,ue){if(ue(Y.callee,ee,"Expression"),Y.arguments)for(var oe=0;oe<Y.arguments.length;++oe)ue(Y.arguments[oe],ee,"Expression")},z.MemberExpression=function(Y,ee,ue){ue(Y.object,ee,"Expression"),Y.computed&&ue(Y.property,ee,"Expression")},z.ExportDeclaration=function(Y,ee,ue){return ue(Y.declaration,ee)},z.ImportDeclaration=function(Y,ee,ue){for(var oe=0;oe<Y.specifiers.length;oe++)ue(Y.specifiers[oe],ee)},z.ImportSpecifier=z.ImportBatchSpecifier=z.Identifier=z.Literal=H,z.TaggedTemplateExpression=function(Y,ee,ue){ue(Y.tag,ee,"Expression"),ue(Y.quasi,ee)},z.ClassDeclaration=z.ClassExpression=function(Y,ee,ue){Y.superClass&&ue(Y.superClass,ee,"Expression");for(var oe=0;oe<Y.body.body.length;oe++)ue(Y.body.body[oe],ee)},z.MethodDefinition=z.Property=function(Y,ee,ue){Y.computed&&ue(Y.key,ee,"Expression"),ue(Y.value,ee,"Expression")},z.ComprehensionExpression=function(Y,ee,ue){for(var oe=0;oe<Y.blocks.length;oe++)ue(Y.blocks[oe].right,ee,"Expression");ue(Y.body,ee,"Expression")}},{}]},{},[1])(1)});(function(){Object.create=Object.create||function(){if(!({__proto__:null}instanceof Object))return function(u){return{__proto__:u}};function t(){}var i=document.body.appendChild(document.createElement("iframe"));i.src="javascript:";var s=i.contentWindow.Object.prototype;return delete s.hasOwnProperty,delete s.isPrototypeOf,delete s.propertyIsEnumerable,delete s.valueOf,delete s.toString,delete s.toLocaleString,delete s.constructor,function(u){return t.prototype=u||s,new t}}();var l=Array.prototype;l.some=l.some||function(t){for(var i=0;i<this.length;++i)if(t(this[i],i))return!0},l.forEach=l.forEach||function(t){for(var i=0;i<this.length;++i)t(this[i],i)},l.indexOf=l.indexOf||function(t,i){for(var s=i||0;s<this.length;++s)if(this[s]===t)return s;return-1},l.lastIndexOf=l.lastIndexOf||function(t,i){for(var s=i==null?this.length-1:i;s>=0;++s)if(this[s]===t)return s;return-1},l.map=l.map||function(t){for(var i=[],s=0;s<this.length;++s)i.push(t(this[s],s));return i},Array.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},String.prototype.trim=String.prototype.trim||function(){for(var t=0,i=this.length;/\s/.test(this.charAt(t));)++t;for(;/\s/.test(this.charAt(i-1));)--i;return this.slice(t,i)};/*! JSON v3.2.4 | http://bestiejs.github.com/json3 | Copyright 2012, Kit Cambridge | http://kit.mit-license.org */window.JSON||function(){var t=void 0,i=!0,s=null,u={}.toString,p,y,A=typeof define=="function"&&define.c,E=!A&&typeof exports=="object"&&exports;E||A?typeof JSON=="object"&&JSON?A?E=JSON:(E.stringify=JSON.stringify,E.parse=JSON.parse):A&&(E=this.JSON={}):E=this.JSON||(this.JSON={});var _,k,R,P,B,O,H,z,Y,ee,ue,oe,Ae,be=new Date(-0xc782b5b800cec),xe,ne,ae;try{be=be.getUTCFullYear()==-109252&&be.getUTCMonth()===0&&be.getUTCDate()==1&&be.getUTCHours()==10&&be.getUTCMinutes()==37&&be.getUTCSeconds()==6&&be.getUTCMilliseconds()==708}catch{}function ye(ge){var we,le,ie,he=ge=="json";if(he||ge=="json-stringify"||ge=="json-parse"){if(ge=="json-stringify"||he){if(we=typeof E.stringify=="function"&&be){(ie=function(){return 1}).toJSON=ie;try{we=E.stringify(0)==="0"&&E.stringify(new Number)==="0"&&E.stringify(new String)=='""'&&E.stringify(u)===t&&E.stringify(t)===t&&E.stringify()===t&&E.stringify(ie)==="1"&&E.stringify([ie])=="[1]"&&E.stringify([t])=="[null]"&&E.stringify(s)=="null"&&E.stringify([t,u,s])=="[null,null,null]"&&E.stringify({A:[ie,i,!1,s,`\0\b
\f\r	`]})=='{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'&&E.stringify(s,ie)==="1"&&E.stringify([1,2],s,1)==`[
 1,
 2
]`&&E.stringify(new Date(-864e13))=='"-271821-04-20T00:00:00.000Z"'&&E.stringify(new Date(864e13))=='"+275760-09-13T00:00:00.000Z"'&&E.stringify(new Date(-621987552e5))=='"-000001-01-01T00:00:00.000Z"'&&E.stringify(new Date(-1))=='"1969-12-31T23:59:59.999Z"'}catch{we=!1}}if(!he)return we}if(ge=="json-parse"||he){if(typeof E.parse=="function")try{if(E.parse("0")===0&&!E.parse(!1)&&(ie=E.parse('{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'),le=ie.a.length==5&&ie.a[0]==1)){try{le=!E.parse('"	"')}catch{}if(le)try{le=E.parse("01")!=1}catch{}}}catch{le=!1}if(!he)return le}return we&&le}}ye("json")||(be||(xe=Math.floor,ne=[0,31,59,90,120,151,181,212,243,273,304,334],ae=function(ge,we){return ne[we]+365*(ge-1970)+xe((ge-1969+(we=+(we>1)))/4)-xe((ge-1901+we)/100)+xe((ge-1601+we)/400)}),(p={}.hasOwnProperty)||(p=function(ge){var we={},le;return(we.__proto__=s,we.__proto__={toString:1},we).toString!=u?p=function(de){var he=this.__proto__,de=de in(this.__proto__=s,this);return this.__proto__=he,de}:(le=we.constructor,p=function(ie){var he=(this.constructor||le).prototype;return ie in this&&!(ie in he&&this[ie]===he[ie])}),we=s,p.call(this,ge)}),y=function(ge,we){var le=0,ie,he,de;(ie=function(){this.valueOf=0}).prototype.valueOf=0,he=new ie;for(de in he)p.call(he,de)&&le++;ie=he=s,le?le=le==2?function(Se,Be){var Le={},nt=u.call(Se)=="[object Function]",He;for(He in Se)!(nt&&He=="prototype")&&!p.call(Le,He)&&(Le[He]=1)&&p.call(Se,He)&&Be(He)}:function(Se,Be){var Le=u.call(Se)=="[object Function]",nt,He;for(nt in Se)!(Le&&nt=="prototype")&&p.call(Se,nt)&&!(He=nt==="constructor")&&Be(nt);(He||p.call(Se,nt="constructor"))&&Be(nt)}:(he=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],le=function(Se,Be){var Le=u.call(Se)=="[object Function]",nt;for(nt in Se)!(Le&&nt=="prototype")&&p.call(Se,nt)&&Be(nt);for(Le=he.length;nt=he[--Le];p.call(Se,nt)&&Be(nt));}),le(ge,we)},ye("json-stringify")||(_={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},k=function(ge,we){return("000000"+(we||0)).slice(-ge)},R=function(ge){for(var we='"',le=0,ie;ie=ge.charAt(le);le++)we=we+(`\\"\b\f
\r	`.indexOf(ie)>-1?_[ie]:_[ie]=ie<" "?"\\u00"+k(2,ie.charCodeAt(0).toString(16)):ie);return we+'"'},P=function(ge,we,le,ie,he,de,Se){var Be=we[ge],Le,nt,He,ce,Re,lt,Te,Ye,mt;if(typeof Be=="object"&&Be)if(Le=u.call(Be),Le=="[object Date]"&&!p.call(Be,"toJSON"))if(Be>-1/0&&Be<1/0){if(ae){for(He=xe(Be/864e5),Le=xe(He/365.2425)+1970-1;ae(Le+1,0)<=He;Le++);for(nt=xe((He-ae(Le,0))/30.42);ae(Le,nt+1)<=He;nt++);He=1+He-ae(Le,nt),ce=(Be%864e5+864e5)%864e5,Re=xe(ce/36e5)%24,lt=xe(ce/6e4)%60,Te=xe(ce/1e3)%60,ce=ce%1e3}else Le=Be.getUTCFullYear(),nt=Be.getUTCMonth(),He=Be.getUTCDate(),Re=Be.getUTCHours(),lt=Be.getUTCMinutes(),Te=Be.getUTCSeconds(),ce=Be.getUTCMilliseconds();Be=(Le<=0||Le>=1e4?(Le<0?"-":"+")+k(6,Le<0?-Le:Le):k(4,Le))+"-"+k(2,nt+1)+"-"+k(2,He)+"T"+k(2,Re)+":"+k(2,lt)+":"+k(2,Te)+"."+k(3,ce)+"Z"}else Be=s;else typeof Be.toJSON=="function"&&(Le!="[object Number]"&&Le!="[object String]"&&Le!="[object Array]"||p.call(Be,"toJSON"))&&(Be=Be.toJSON(ge));if(le&&(Be=le.call(we,ge,Be)),Be===s)return"null";if(Le=u.call(Be),Le=="[object Boolean]")return""+Be;if(Le=="[object Number]")return Be>-1/0&&Be<1/0?""+Be:"null";if(Le=="[object String]")return R(Be);if(typeof Be=="object"){for(ge=Se.length;ge--;)if(Se[ge]===Be)throw TypeError();if(Se.push(Be),Ye=[],we=de,de=de+he,Le=="[object Array]"){for(nt=0,ge=Be.length;nt<ge;mt||(mt=i),nt++)Le=P(nt,Be,le,ie,he,de,Se),Ye.push(Le===t?"null":Le);ge=mt?he?`[
`+de+Ye.join(`,
`+de)+`
`+we+"]":"["+Ye.join(",")+"]":"[]"}else y(ie||Be,function($e){var gt=P($e,Be,le,ie,he,de,Se);gt!==t&&Ye.push(R($e)+":"+(he?" ":"")+gt),mt||(mt=i)}),ge=mt?he?`{
`+de+Ye.join(`,
`+de)+`
`+we+"}":"{"+Ye.join(",")+"}":"{}";return Se.pop(),ge}},E.stringify=function(ge,we,le){var ie,he,de,Se,Be,Le;if(typeof we=="function"||typeof we=="object"&&we){if(u.call(we)=="[object Function]")he=we;else if(u.call(we)=="[object Array]")for(de={},Se=0,Be=we.length;Se<Be;Le=we[Se++],(u.call(Le)=="[object String]"||u.call(Le)=="[object Number]")&&(de[Le]=1));}if(le)if(u.call(le)=="[object Number]"){if((le=le-le%1)>0)for(ie="",le>10&&(le=10);ie.length<le;ie=ie+" ");}else u.call(le)=="[object String]"&&(ie=le.length<=10?le:le.slice(0,10));return P("",(Le={},Le[""]=ge,Le),he,de,ie,"",[])}),ye("json-parse")||(B=String.fromCharCode,O={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"	",n:`
`,f:"\f",r:"\r"},H=function(){throw oe=Ae=s,SyntaxError()},z=function(){for(var ge=Ae,we=ge.length,le,ie,he,de,Se;oe<we;)if(le=ge.charAt(oe),`	\r
 `.indexOf(le)>-1)oe++;else{if("{}[]:,".indexOf(le)>-1)return oe++,le;if(le=='"'){for(ie="@",oe++;oe<we;)if(le=ge.charAt(oe),le<" ")H();else if(le=="\\")if(le=ge.charAt(++oe),'\\"/btnfr'.indexOf(le)>-1)ie=ie+O[le],oe++;else if(le=="u"){for(he=++oe,de=oe+4;oe<de;oe++)le=ge.charAt(oe),le>="0"&&le<="9"||le>="a"&&le<="f"||le>="A"&&le<="F"||H();ie=ie+B("0x"+ge.slice(he,oe))}else H();else{if(le=='"')break;ie=ie+le,oe++}if(ge.charAt(oe)=='"')return oe++,ie}else{if(he=oe,le=="-"&&(Se=i,le=ge.charAt(++oe)),le>="0"&&le<="9"){for(le=="0"&&(le=ge.charAt(oe+1),le>="0"&&le<="9")&&H();oe<we&&(le=ge.charAt(oe),le>="0"&&le<="9");oe++);if(ge.charAt(oe)=="."){for(de=++oe;de<we&&(le=ge.charAt(de),le>="0"&&le<="9");de++);de==oe&&H(),oe=de}if(le=ge.charAt(oe),le=="e"||le=="E"){for(le=ge.charAt(++oe),(le=="+"||le=="-")&&oe++,de=oe;de<we&&(le=ge.charAt(de),le>="0"&&le<="9");de++);de==oe&&H(),oe=de}return+ge.slice(he,oe)}if(Se&&H(),ge.slice(oe,oe+4)=="true")return oe=oe+4,i;if(ge.slice(oe,oe+5)=="false")return oe=oe+5,!1;if(ge.slice(oe,oe+4)=="null")return oe=oe+4,s}H()}return"$"},Y=function(ge){var we,le;if(ge=="$"&&H(),typeof ge=="string"){if(ge.charAt(0)=="@")return ge.slice(1);if(ge=="["){for(we=[];ge=z(),ge!="]";le||(le=i))le&&(ge==","?(ge=z(),ge=="]"&&H()):H()),ge==","&&H(),we.push(Y(ge));return we}if(ge=="{"){for(we={};ge=z(),ge!="}";le||(le=i))le&&(ge==","?(ge=z(),ge=="}"&&H()):H()),(ge==","||typeof ge!="string"||ge.charAt(0)!="@"||z()!=":")&&H(),we[ge.slice(1)]=Y(z());return we}H()}return ge},ue=function(ge,we,le){le=ee(ge,we,le),le===t?delete ge[we]:ge[we]=le},ee=function(ge,we,le){var ie=ge[we],he;if(typeof ie=="object"&&ie)if(u.call(ie)=="[object Array]")for(he=ie.length;he--;)ue(ie,he,le);else y(ie,function(de){ue(ie,de,le)});return le.call(ge,we,ie)},E.parse=function(ge,we){var le,ie;return oe=0,Ae=ge,le=Y(z()),z()!="$"&&H(),oe=Ae=s,we&&u.call(we)=="[object Function]"?ee((ie={},ie[""]=le,ie),"",we):le})),A&&define(function(){return E})}()})();(function(l,t){if(typeof exports=="object"&&typeof module=="object")return t(exports);if(typeof define=="function"&&define.amd)return define(["exports"],t);t((l.tern||(l.tern={})).signal={})})(globalThis,function(l){function t(u,p){var y=this._handlers||(this._handlers=Object.create(null));(y[u]||(y[u]=[])).push(p)}function i(u,p){var y=this._handlers&&this._handlers[u];if(y){for(var A=0;A<y.length;++A)if(y[A]==p){y.splice(A,1);break}}}function s(u,p,y,A,E){var _=this._handlers&&this._handlers[u];if(_)for(var k=0;k<_.length;++k)_[k].call(this,p,y,A,E)}l.mixin=function(u){return u.on=t,u.off=i,u.signal=s,u}});(function(l,t){if(typeof exports=="object"&&typeof module=="object")return t(exports,require("./infer"),require("./signal"),require("../acorn/acorn"),require("../acorn/walk"));if(typeof define=="function"&&define.amd)return define(["exports","./infer","./signal","../acorn/acorn","../acorn/walk"],t);t(l.tern||(l.tern={}),tern,tern.signal,acorn,acorn.walk)})(globalThis,function(l,t,i,s,u){var p=Object.create(null);l.registerPlugin=function(Et,Ct){p[Et]=Ct};var y=l.defaultOptions={debug:!1,async:!1,getFile:function(Et,Ct){this.async&&Ct(null,null)},defs:[],plugins:{},fetchTimeout:1e3,dependencyBudget:2e4,reuseInstances:!0,stripCRs:!1},A={completions:{takesFile:!0,run:ce},properties:{run:Re},type:{takesFile:!0,run:$e},documentation:{takesFile:!0,run:gt},definition:{takesFile:!0,run:Yt},refs:{takesFile:!0,fullFile:!0,run:Xi},rename:{takesFile:!0,fullFile:!0,run:Ki},files:{run:or}};l.defineQueryType=function(Et,Ct){A[Et]=Ct};function E(Et,Ct){this.name=Et,this.parent=Ct,this.scope=this.text=this.ast=this.lineOffsets=null}E.prototype.asLineChar=function(Et){return ie(this,Et)};function _(Et,Ct,ri){Et.text=ri.options.stripCRs?Ct.replace(/\r\n/g,`
`):Ct,t.withContext(ri.cx,function(){Et.ast=t.parse(Et.text,ri.passes,{directSourceFile:Et,allowReturnOutsideFunction:!0})}),Et.lineOffsets=null}var k=l.Server=function(Et){this.cx=null,this.options=Et||{};for(var Ct in y)Et.hasOwnProperty(Ct)||(Et[Ct]=y[Ct]);this.handlers=Object.create(null),this.files=[],this.fileMap=Object.create(null),this.needsPurge=[],this.budgets=Object.create(null),this.uses=0,this.pending=0,this.asyncError=null,this.passes=Object.create(null),this.defs=Et.defs.slice(0);for(var ri in Et.plugins)if(Et.plugins.hasOwnProperty(ri)&&ri in p){var pt=p[ri](this,Et.plugins[ri]);if(pt&&pt.defs&&(pt.loadFirst?this.defs.unshift(pt.defs):this.defs.push(pt.defs)),pt&&pt.passes)for(var ft in pt.passes)pt.passes.hasOwnProperty(ft)&&(this.passes[ft]||(this.passes[ft]=[])).push(pt.passes[ft])}this.reset()};k.prototype=i.mixin({addFile:function(Et,Ct,ri){ri&&!(ri in this.fileMap)&&(ri=null),B(this,Et,ri,Ct)},delFile:function(Et){var Ct=this.findFile(Et);Ct&&(this.needsPurge.push(Ct.name),this.files.splice(this.files.indexOf(Ct),1),delete this.fileMap[Et])},reset:function(){this.signal("reset"),this.cx=new t.Context(this.defs,this),this.uses=0,this.budgets=Object.create(null);for(var Et=0;Et<this.files.length;++Et){var Ct=this.files[Et];Ct.scope=null}},request:function(Et,Ct){var ri=ye(Et);if(ri)return Ct(ri);var pt=this;R(this,Et,function(ft,Lt){Ct(ft,Lt),pt.uses>40&&(pt.reset(),H(pt,null,function(){}))})},findFile:function(Et){return this.fileMap[Et]},flush:function(Et){var Ct=this.cx;H(this,null,function(ri){if(ri)return Et(ri);t.withContext(Ct,Et)})},startAsyncAction:function(){++this.pending},finishAsyncAction:function(Et){Et&&(this.asyncError=Et),--this.pending===0&&this.signal("everythingFetched")}});function R(Et,Ct,ri){if(Ct.query&&!A.hasOwnProperty(Ct.query.type))return ri("No query type '"+Ct.query.type+"' defined");var pt=Ct.query;pt||ri(null,{});var ft=Ct.files||[];ft.length&&++Et.uses;for(var Lt=0;Lt<ft.length;++Lt){var ii=ft[Lt];ii.type=="delete"?Et.delFile(ii.name):B(Et,ii.name,null,ii.type=="full"?ii.text:null)}var bi=typeof Ct.timeout=="number"?[Ct.timeout]:null;if(!pt){H(Et,bi,function(){});return}var rt=A[pt.type];if(rt.takesFile){if(typeof pt.file!="string")return ri(".query.file must be a string");/^#/.test(pt.file)||B(Et,pt.file,null)}H(Et,bi,function(Pe){if(Pe)return ri(Pe);var Me=rt.takesFile&&oe(Et,ft,pt.file);if(rt.fullFile&&Me.type=="part")return ri("Can't run a "+pt.type+" query on a file fragment");function bt(){var zt;try{zt=rt.run(Et,pt,Me)}catch(It){return Et.options.debug&&It.name!="TernError"&&console.error(It.stack),ri(It)}ri(null,zt)}t.withContext(Et.cx,bi?function(){t.withTimeout(bi[0],bt)}:bt)})}function P(Et,Ct){return t.withContext(Et.cx,function(){Ct.scope=Et.cx.topScope,Et.signal("beforeLoad",Ct),t.analyze(Ct.ast,Ct.name,Ct.scope,Et.passes),Et.signal("afterLoad",Ct)}),Ct}function B(Et,Ct,ri,pt){var ft=Et.findFile(Ct);if(ft){pt!=null&&(ft.scope&&(Et.needsPurge.push(Ct),ft.scope=null),_(ft,pt,Et)),be(Et,ft.parent)>be(Et,ri)&&(ft.parent=ri,ft.excluded&&(ft.excluded=null));return}var Lt=new E(Ct,ri);Et.files.push(Lt),Et.fileMap[Ct]=Lt,pt!=null?_(Lt,pt,Et):Et.options.async?(Et.startAsyncAction(),Et.options.getFile(Ct,function(ii,bi){_(Lt,bi||"",Et),Et.finishAsyncAction(ii)})):_(Lt,Et.options.getFile(Ct)||"",Et)}function O(Et,Ct,ri){var pt=function(){Et.off("everythingFetched",pt),clearTimeout(ft),H(Et,Ct,ri)};Et.on("everythingFetched",pt);var ft=setTimeout(pt,Et.options.fetchTimeout)}function H(Et,Ct,ri){if(Et.pending)return O(Et,Ct,ri);var pt=Et.fetchError;if(pt)return Et.fetchError=null,ri(pt);Et.needsPurge.length>0&&t.withContext(Et.cx,function(){t.purge(Et.needsPurge),Et.needsPurge.length=0});for(var ft=!0,Lt=0;Lt<Et.files.length;){for(var ii=[];Lt<Et.files.length;++Lt){var bi=Et.files[Lt];bi.text==null?ft=!1:bi.scope==null&&!bi.excluded&&ii.push(bi)}ii.sort(function(Me,bt){return be(Et,Me.parent)-be(Et,bt.parent)});for(var rt=0;rt<ii.length;rt++){var bi=ii[rt];if(bi.parent&&!ne(Et,bi))bi.excluded=!0;else if(Ct){var Pe=+new Date;t.withTimeout(Ct[0],function(){P(Et,bi)}),Ct[0]-=+new Date-Pe}else P(Et,bi)}}ft?ri():O(Et,Ct,ri)}function z(Et){var Ct=Et.indexOf(`
`);return Ct<0?Et:Et.slice(0,Ct)}function Y(Et,Ct,ri){var pt=Math.max(0,ri-500),ft=null;if(!/^\s*$/.test(Et))for(;;){var Lt=Ct.indexOf(Et,pt);if(Lt<0||Lt>ri+500)break;(ft==null||Math.abs(ft-ri)>Math.abs(Lt-ri))&&(ft=Lt),pt=Lt+Et.length}return ft}function ee(Et){for(var Ct=0;Et;++Ct,Et=Et.prev);return Ct}function ue(Et){var Ct=new Error(Et);return Ct.name="TernError",Ct}function oe(Et,Ct,ri){var pt=ri.match(/^#(\d+)$/);if(!pt)return Et.findFile(ri);var ft=Ct[pt[1]];if(!ft||ft.type=="delete")throw ue("Reference to unknown file "+ri);if(ft.type=="full")return Et.findFile(ft.name);var Lt=ft.backing=Et.findFile(ft.name),ii;ft.offset=ii=le(Lt,ft.offsetLines==null?ft.offset:{line:ft.offsetLines,ch:0},!0);var bi=z(ft.text),rt=Y(bi,Lt.text,ii),Pe=rt==null?Math.max(0,Lt.text.lastIndexOf(`
`,ii)):rt,Me,bt;return t.withContext(Et.cx,function(){t.purge(ft.name,Pe,Pe+ft.text.length);var zt=ft.text,It;if(It=zt.match(/(?:"([^"]*)"|([\w$]+))\s*:\s*function\b/)){var yt=u.findNodeAround(ft.backing.ast,Pe,"ObjectExpression");yt&&yt.node.objType&&(Me={type:yt.node.objType,prop:It[2]||It[1]})}if(rt&&(It=bi.match(/^(.*?)\bfunction\b/))){for(var Di=It[1].length,Tt="",Ot=0;Ot<Di;++Ot)Tt+=" ";zt=Tt+zt.slice(Di),bt=!0}var li=t.scopeAt(Lt.ast,Pe,Lt.scope),Ti=t.scopeAt(Lt.ast,Pe+zt.length,Lt.scope),Ui=ft.scope=ee(li)<ee(Ti)?Ti:li;ft.ast=t.parse(zt,Et.passes,{directSourceFile:ft,allowReturnOutsideFunction:!0}),t.analyze(ft.ast,ft.name,Ui,Et.passes);e:if(Me||bt){var gr=t.scopeAt(ft.ast,bi.length,li);if(!gr.fnType)break e;if(Me){var kr=Me.type.getProp(Me.prop);kr.addType(gr.fnType)}else if(bt){var mr=t.scopeAt(Lt.ast,Pe+bi.length,Lt.scope);if(mr==li||!mr.fnType)break e;var Fe=mr.fnType,Ze=gr.fnType;if(!Ze||Ze.name!=Fe.name&&Fe.name)break e;for(var Ot=0,ht=Math.min(Fe.args.length,Ze.args.length);Ot<ht;++Ot)Fe.args[Ot].propagate(Ze.args[Ot]);Fe.self.propagate(Ze.self),Ze.retval.propagate(Fe.retval)}}}),ft}function Ae(Et){var Ct=0;return u.simple(Et,{Expression:function(){++Ct}}),Ct}function be(Et,Ct){for(var ri=0;Ct;)Ct=Et.findFile(Ct).parent,++ri;return ri}function xe(Et,Ct){for(;;){var ri=Et.findFile(Ct.parent);if(!ri.parent)break;Ct=ri}return Ct.name}function ne(Et,Ct){var ri=xe(Et,Ct),pt=Ae(Ct.ast),ft=Et.budgets[ri];return ft==null&&(ft=Et.budgets[ri]=Et.options.dependencyBudget),ft<pt?!1:(Et.budgets[ri]=ft-pt,!0)}function ae(Et){return typeof Et=="number"||typeof Et=="object"&&typeof Et.line=="number"&&typeof Et.ch=="number"}function ye(Et){if(Et.query){if(typeof Et.query.type!="string")return".query.type must be a string";if(Et.query.start&&!ae(Et.query.start))return".query.start must be a position";if(Et.query.end&&!ae(Et.query.end))return".query.end must be a position"}if(Et.files){if(!Array.isArray(Et.files))return"Files property must be an array";for(var Ct=0;Ct<Et.files.length;++Ct){var ri=Et.files[Ct];if(typeof ri!="object")return".files[n] must be objects";if(typeof ri.name!="string")return".files[n].name must be a string";if(ri.type=="delete")continue;if(typeof ri.text!="string")return".files[n].text must be a string";if(ri.type=="part"){if(!ae(ri.offset)&&typeof ri.offsetLines!="number")return".files[n].offset must be a position"}else if(ri.type!="full")return'.files[n].type must be "full" or "part"'}}}var ge=25;function we(Et,Ct){for(var ri=Et.text,pt=Et.lineOffsets||(Et.lineOffsets=[0]),Lt=0,ii=0,ft=Math.min(Math.floor(Ct/ge),pt.length-1),Lt=pt[ft],ii=ft*ge;ii<Ct;){if(++ii,Lt=ri.indexOf(`
`,Lt)+1,Lt===0)return null;ii%ge===0&&pt.push(Lt)}return Lt}var le=l.resolvePos=function(Et,Ct,ri){if(typeof Ct!="number"){var pt=we(Et,Ct.line);if(pt==null)if(ri)Ct=Et.text.length;else throw ue("File doesn't contain a line "+Ct.line);else Ct=pt+Ct.ch}if(Ct>Et.text.length)if(ri)Ct=Et.text.length;else throw ue("Position "+Ct+" is outside of file.");return Ct};function ie(Et,Ct){if(!Et)return{line:0,ch:0};for(var ri=Et.lineOffsets||(Et.lineOffsets=[0]),pt=Et.text,ft,Lt,ii=ri.length-1;ii>=0;--ii)ri[ii]<=Ct&&(ft=ii*ge,Lt=ri[ii]);for(;;){var bi=pt.indexOf(`
`,Lt);if(bi>=Ct||bi<0)break;Lt=bi+1,++ft}return{line:ft,ch:Ct-Lt}}var he=l.outputPos=function(Et,Ct,ri){if(Et.lineCharPositions){var pt=ie(Ct,ri);return Ct.type=="part"&&(pt.line+=Ct.offsetLines!=null?Ct.offsetLines:ie(Ct.backing,Ct.offset).line),pt}else return ri+(Ct.type=="part"?Ct.offset:0)};function de(Et){for(var Ct in Et)Et[Ct]==null&&delete Et[Ct];return Et}function Se(Et,Ct,ri){ri!=null&&(Et[Ct]=ri)}function Be(Et,Ct){typeof Et!="string"&&(Et=Et.name,Ct=Ct.name);var ri=/^[A-Z]/.test(Et),pt=/^[A-Z]/.test(Ct);return ri==pt?Et<Ct?-1:Et==Ct?0:1:ri?1:-1}function Le(Et,Ct,ri){return Et.type=="Literal"&&typeof Et.value=="string"&&Et.start==Ct-1&&Et.end<=ri+1}function nt(Et,Ct){for(var ri=0;ri<Et.properties.length;ri++){var pt=Et.properties[ri];if(pt.key.start<=Ct&&pt.key.end>=Ct)return pt}}var He="break do instanceof typeof case else new var catch finally return void continue for switch while debugger function this with default if throw delete in try".split(" ");function ce(Et,Ct,ri){if(Ct.end==null)throw ue("missing .query.end field");if(Et.passes.completion)for(var pt=0;pt<Et.passes.completion.length;pt++){var ft=Et.passes.completion[pt](ri,Ct);if(ft)return ft}for(var Lt=le(ri,Ct.end),ii=Lt,bi=ri.text;Lt&&s.isIdentifierChar(bi.charCodeAt(Lt-1));)--Lt;if(Ct.expandWordForward!==!1)for(;ii<bi.length&&s.isIdentifierChar(bi.charCodeAt(ii));)++ii;var rt=bi.slice(Lt,ii),Pe=[],Me;Ct.caseInsensitive&&(rt=rt.toLowerCase());var bt=Ct.types||Ct.depths||Ct.docs||Ct.urls||Ct.origins;function zt(Fe,Ze,ht,Ut){if(!((Ti||Ct.omitObjectPrototype!==!1)&&Ze==Et.cx.protos.Object&&!rt)&&!(Ct.filter!==!1&&rt&&(Ct.caseInsensitive?Fe.toLowerCase():Fe).indexOf(rt)!==0)&&!(Me&&Me.props[Fe])){for(var ei=0;ei<Pe.length;++ei){var Si=Pe[ei];if((bt?Si.name:Si)==Fe)return}var sr=bt?{name:Fe}:Fe;if(Pe.push(sr),Ze&&(Ct.types||Ct.docs||Ct.urls||Ct.origins)){var jt=Ze.props[Fe];t.resetGuessing();var nr=jt.getType();sr.guess=t.didGuess(),Ct.types&&(sr.type=t.toString(jt)),Ct.docs&&Se(sr,"doc",jt.doc||nr&&nr.doc),Ct.urls&&Se(sr,"url",jt.url||nr&&nr.url),Ct.origins&&Se(sr,"origin",jt.origin||nr&&nr.origin)}Ct.depths&&(sr.depth=ht),bt&&Ut&&Ut(sr)}}var It,yt,Di,Tt,Ot=t.findExpressionAround(ri.ast,null,Lt,ri.scope),li,Ti;if(Ot){if(Ot.node.type=="MemberExpression"&&Ot.node.object.end<Lt)li=Ot;else if(Le(Ot.node,Lt,ii)){var Ui=t.parentNode(Ot.node,ri.ast);Ui.type=="MemberExpression"&&Ui.property==Ot.node&&(li={node:Ui,state:Ot.state})}else if(Ot.node.type=="ObjectExpression"){var gr=nt(Ot.node,ii);gr?(Ti=Ot,yt=Tt=gr.key.name):!rt&&!/:\s*$/.test(ri.text.slice(0,Lt))&&(Ti=Ot,yt=Tt=!0)}}if(Ti)Di=t.typeFromContext(ri.ast,Ti),Me=Ti.node.objType;else if(li)yt=li.node.property,yt=yt.type=="Literal"?yt.value.slice(1):yt.name,li.node=li.node.object,Di=t.expressionType(li);else if(bi.charAt(Lt-1)=="."){for(var kr=Lt-1;kr&&(bi.charAt(kr-1)=="."||s.isIdentifierChar(bi.charCodeAt(kr-1)));)kr--;var mr=bi.slice(kr,Lt-1);mr&&(Di=t.def.parsePath(mr,ri.scope).getObjType(),yt=rt)}if(yt!=null){if(Et.cx.completingProperty=yt,Di&&t.forAllPropertiesOf(Di,zt),!Pe.length&&Ct.guess!==!1&&Di&&Di.guessProperties&&Di.guessProperties(function(Fe,Ze,ht){Fe!=yt&&Fe!="\u2716"&&zt(Fe,Ze,ht)}),!Pe.length&&rt.length>=2&&Ct.guess!==!1)for(var yt in Et.cx.props)zt(yt,Et.cx.props[yt][0],0);It="memberCompletion"}else t.forAllLocalsAt(ri.ast,Lt,ri.scope,zt),Ct.includeKeywords&&He.forEach(function(Fe){zt(Fe,null,0,function(Ze){Ze.isKeyword=!0})}),It="variableCompletion";return Et.passes[It]&&Et.passes[It].forEach(function(Fe){Fe(ri,Lt,ii,zt)}),Ct.sort!==!1&&Pe.sort(Be),Et.cx.completingProperty=null,{start:he(Ct,ri,Lt),end:he(Ct,ri,ii),isProperty:!!yt,isObjectKey:!!Tt,completions:Pe}}function Re(Et,Ct){var ri=Ct.prefix,pt=[];for(var ft in Et.cx.props)ft!="<i>"&&(!ri||ft.indexOf(ri)===0)&&pt.push(ft);return Ct.sort!==!1&&pt.sort(Be),{completions:pt}}var lt=l.findQueryExpr=function(Et,Ct,ri){if(Ct.end==null)throw ue("missing .query.end field");if(Ct.variable){var pt=t.scopeAt(Et.ast,le(Et,Ct.end),Et.scope);return{node:{type:"Identifier",name:Ct.variable,start:Ct.end,end:Ct.end+1},state:pt}}else{var ft=Ct.start&&le(Et,Ct.start),Lt=le(Et,Ct.end),ii=t.findExpressionAt(Et.ast,ft,Lt,Et.scope);return ii||(ii=t.findExpressionAround(Et.ast,ft,Lt,Et.scope),ii&&(ii.node.type=="ObjectExpression"||ri||(ft==null?Lt:ft)-ii.node.start<20||ii.node.end-Lt<20))?ii:null}};function Te(Et,Ct,ri){var pt=lt(Et,Ct,ri);if(pt)return pt;throw ue("No expression at the given position.")}function Ye(Et){return!Et||!(Et=Et.getType())||!(Et instanceof t.Obj)?null:Et}function mt(Et,Ct,ri,pt){var ft;if(pt&&(t.resetGuessing(),ft=t.expressionType(pt)),Et.passes.typeAt){var Lt=le(ri,Ct.end);Et.passes.typeAt.forEach(function(Me){ft=Me(ri,Lt,pt,ft)})}if(!ft)throw ue("No type found at the given position.");var ii;if(pt.node.type=="ObjectExpression"&&Ct.end!=null&&(ii=nt(pt.node,le(ri,Ct.end)))){var bi=ii.key.name,rt=Ye(t.typeFromContext(ri.ast,pt));if(rt&&rt.hasProp(bi))ft=rt.hasProp(bi);else{var Pe=Ye(ft);Pe&&Pe.hasProp(bi)&&(ft=Pe.hasProp(bi))}}return ft}function $e(Et,Ct,ri){var pt=lt(ri,Ct),ft,Lt=mt(Et,Ct,ri,pt),ii=Lt;if(Ct.preferFunction?Lt=Lt.getFunctionType()||Lt.getType():Lt=Lt.getType(),pt&&(pt.node.type=="Identifier"?ft=pt.node.name:pt.node.type=="MemberExpression"&&!pt.node.computed&&(ft=pt.node.property.name)),Ct.depth!=null&&typeof Ct.depth!="number")throw ue(".query.depth must be a number");var bi={guess:t.didGuess(),type:t.toString(ii,Ct.depth),name:Lt&&Lt.name,exprName:ft};return Lt&&kt(Lt,bi),!bi.doc&&ii.doc&&(bi.doc=ii.doc),de(bi)}function gt(Et,Ct,ri){var pt=lt(ri,Ct),ft=mt(Et,Ct,ri,pt),Lt={url:ft.url,doc:ft.doc,type:t.toString(ft)},ii=ft.getType();return ii&&kt(ii,Lt),de(Lt)}function kt(Et,Ct){Ct.url||(Ct.url=Et.url),Ct.doc||(Ct.doc=Et.doc),Ct.origin||(Ct.origin=Et.origin);var ri,pt=t.cx().protos;!Ct.url&&!Ct.doc&&Et.proto&&(ri=Et.proto.hasCtor)&&Et.proto!=pt.Object&&Et.proto!=pt.Function&&Et.proto!=pt.Array&&(Ct.url=ri.url,Ct.doc=ri.doc)}var Kt=l.getSpan=function(Et){if(!!Et.origin){if(Et.originNode){var Ct=Et.originNode;return/^Function/.test(Ct.type)&&Ct.id&&(Ct=Ct.id),{origin:Et.origin,node:Ct}}if(Et.span)return{origin:Et.origin,span:Et.span}}},Ft=l.storeSpan=function(Et,Ct,ri,pt){if(pt.origin=ri.origin,ri.span){var ft=/^(\d+)\[(\d+):(\d+)\]-(\d+)\[(\d+):(\d+)\]$/.exec(ri.span);pt.start=Ct.lineCharPositions?{line:Number(ft[2]),ch:Number(ft[3])}:Number(ft[1]),pt.end=Ct.lineCharPositions?{line:Number(ft[5]),ch:Number(ft[6])}:Number(ft[4])}else{var Lt=Et.findFile(ri.origin);pt.start=he(Ct,Lt,ri.node.start),pt.end=he(Ct,Lt,ri.node.end)}};function Yt(Et,Ct,ri){var pt=lt(ri,Ct),ft=mt(Et,Ct,ri,pt);if(t.didGuess())return{};var Lt=Kt(ft),ii={url:ft.url,doc:ft.doc,origin:ft.origin};if(ft.types)for(var bi=ft.types.length-1;bi>=0;--bi){var rt=ft.types[bi];kt(rt,ii),Lt||(Lt=Kt(rt))}if(Lt&&Lt.node){var Pe=Lt.node.sourceFile||Et.findFile(Lt.origin),Me=he(Ct,Pe,Lt.node.start),bt=he(Ct,Pe,Lt.node.end);ii.start=Me,ii.end=bt,ii.file=Lt.origin;var zt=Math.max(0,Lt.node.start-50);ii.contextOffset=Lt.node.start-zt,ii.context=Pe.text.slice(zt,zt+50)}else Lt&&(ii.file=Lt.origin,Ft(Et,Ct,Lt,ii));return de(ii)}function $t(Et,Ct,ri,pt,ft){for(var Lt=pt.node.name,ii=pt.state;ii&&!(Lt in ii.props);ii=ii.prev);if(!ii)throw ue("Could not find a definition for "+Lt+" "+!!Et.cx.topScope.props.x);var bi,rt=[];function Pe(It){return function(yt,Di){if(ft)for(var Tt=Di;Tt!=ii;Tt=Tt.prev){var Ot=Tt.hasProp(ft);if(Ot)throw ue("Renaming `"+Lt+"` to `"+ft+"` would make a variable at line "+(ie(It,yt.start).line+1)+" point to the definition at line "+(ie(It,Ot.name.start).line+1))}rt.push({file:It.name,start:he(Ct,It,yt.start),end:he(Ct,It,yt.end)})}}if(ii.originNode){if(bi="local",ft){for(var Me=ii.prev;Me&&!(ft in Me.props);Me=Me.prev);Me&&t.findRefs(ii.originNode,ii,ft,Me,function(It){throw ue("Renaming `"+Lt+"` to `"+ft+"` would shadow the definition used at line "+(ie(ri,It.start).line+1))})}t.findRefs(ii.originNode,ii,Lt,ii,Pe(ri))}else{bi="global";for(var bt=0;bt<Et.files.length;++bt){var zt=Et.files[bt];t.findRefs(zt.ast,zt.scope,Lt,ii,Pe(zt))}}return{refs:rt,type:bi,name:Lt}}function vi(Et,Ct,ri,pt){var ft=t.expressionType(ri).getObjType();if(!ft)throw ue("Couldn't determine type of base object.");var Lt=[];function ii(Pe){return function(Me){Lt.push({file:Pe.name,start:he(Ct,Pe,Me.start),end:he(Ct,Pe,Me.end)})}}for(var bi=0;bi<Et.files.length;++bi){var rt=Et.files[bi];t.findPropRefs(rt.ast,rt.scope,ft,pt.name,ii(rt))}return{refs:Lt,name:pt.name}}function Xi(Et,Ct,ri){var pt=Te(ri,Ct,!0);if(pt.node.type=="Identifier")return $t(Et,Ct,ri,pt);if(pt.node.type=="MemberExpression"&&!pt.node.computed){var ft=pt.node.property;return pt.node=pt.node.object,vi(Et,Ct,pt,ft)}else if(pt.node.type=="ObjectExpression")for(var Lt=le(ri,Ct.end),ii=0;ii<pt.node.properties.length;++ii){var bi=pt.node.properties[ii].key;if(bi.start<=Lt&&bi.end>=Lt)return vi(Et,Ct,pt,bi)}throw ue("Not at a variable or property name.")}function Ki(Et,Ct,ri){if(typeof Ct.newName!="string")throw ue(".query.newName should be a string");var pt=Te(ri,Ct);if(!pt||pt.node.type!="Identifier")throw ue("Not at a variable.");var ft=$t(Et,Ct,ri,pt,Ct.newName),Lt=ft.refs;delete ft.refs,ft.files=Et.files.map(function(Pe){return Pe.name});for(var ii=ft.changes=[],bi=0;bi<Lt.length;++bi){var rt=Lt[bi];rt.text=Ct.newName,ii.push(rt)}return ft}function or(Et){return{files:Et.files.map(function(Ct){return Ct.name})}}l.version="0.11.1"});(function(l){if(typeof exports=="object"&&typeof module=="object")return exports.init=l;if(typeof define=="function"&&define.amd)return define({init:l});tern.def={init:l}})(function(l,t){function i(ae,ye){return Object.prototype.hasOwnProperty.call(ae,ye)}var s=l.TypeParser=function(ae,ye,ge,we){this.pos=ye||0,this.spec=ae,this.base=ge,this.forceNew=we};function u(ae,ye,ge){return ae.call?ae(ye,ge):ae}function p(ae,ye){if(ye=="!ret"){if(ae.retval)return ae.retval;var ge=new t.AVal;return ae.propagate(new t.IsCallee(t.ANull,[],null,ge)),ge}else return ae.getProp(ye)}function y(ae,ye){return function(ge,we){for(var le=[],ie=0;ie<ae.length;ie++)le.push(u(ae[ie],ge,we));return new t.Fn(name,t.ANull,le,u(ye,ge,we))}}function A(ae){return function(ye,ge){for(var we=new t.AVal,le=0;le<ae.length;le++)u(ae[le],ye,ge).propagate(we);return we}}function E(ae){return function(ye,ge){return new t.Arr(ae(ye,ge))}}s.prototype={eat:function(ae){if(ae.length==1?this.spec.charAt(this.pos)==ae:this.spec.indexOf(ae,this.pos)==this.pos)return this.pos+=ae.length,!0},word:function(we){for(var ye="",ge,we=we||/[\w$]/;(ge=this.spec.charAt(this.pos))&&we.test(ge);)ye+=ge,++this.pos;return ye},error:function(){throw new Error("Unrecognized type spec: "+this.spec+" (at "+this.pos+")")},parseFnType:function(ae,ye,ge){var we=[],le=[],ie=!1;if(!this.eat(")"))for(var he=0;;++he){var de=this.spec.indexOf(": ",this.pos),Se;de!=-1&&(Se=this.spec.slice(this.pos,de),/^[$\w?]+$/.test(Se)?this.pos=de+2:Se=null),le.push(Se);var Be=this.parseType(ae);if(Be.call&&(ie=!0),we.push(Be),!this.eat(", ")){this.eat(")")||this.error();break}}var Le,nt,He,ce;if(this.eat(" -> ")){var Re=this.pos;Le=this.parseType(!0),Le.call&&(ge?(nt=Le,Le=t.ANull,He=Re):ie=!0)}else Le=t.ANull;return ie?y(we,Le):(ge&&(ce=this.base)?t.Fn.call(this.base,ye,t.ANull,we,le,Le):ce=new t.Fn(ye,t.ANull,we,le,Le),nt&&(ce.computeRet=nt),He!=null&&(ce.computeRetSource=this.spec.slice(He,this.pos)),ce)},parseType:function(ae,ye,ge){var we=this.parseTypeMaybeProp(ae,ye,ge);if(!this.eat("|"))return we;for(var le=[we],ie=we.call;;){var he=this.parseTypeMaybeProp(ae,ye,ge);if(le.push(he),he.call&&(ie=!0),!this.eat("|"))break}if(ie)return A(le);for(var de=new t.AVal,Se=0;Se<le.length;Se++)le[Se].propagate(de);return de},parseTypeMaybeProp:function(ae,ye,ge){for(var we=this.parseTypeInner(ae,ye,ge);ae&&this.eat(".");)we=this.extendWithProp(we);return we},extendWithProp:function(ae){var ye=this.word(/[\w<>$!]/)||this.error();return ae.apply?function(ge,we){return p(ae(ge,we),ye)}:p(ae,ye)},parseTypeInner:function(ae,ye,ge){if(this.eat("fn("))return this.parseFnType(ae,ye,ge);if(this.eat("[")){var we=this.parseType(ae);return this.eat("]")||this.error(),we.call?E(we):ge&&this.base?(t.Arr.call(this.base,we),this.base):new t.Arr(we)}else if(this.eat("+")){var le=this.word(/[\w$<>\.!]/),ie=B(le+".prototype");return ie instanceof t.Obj||(ie=B(le)),ie instanceof t.Obj?ae&&this.eat("[")?this.parsePoly(ie):ge&&this.forceNew?new t.Obj(ie):t.getInstance(ie):ie}else if(ae&&this.eat("!")){var he=this.word(/\d/);if(he)return he=Number(he),function(Se,Be){return Be[he]||t.ANull};if(this.eat("this"))return function(Se){return Se};if(this.eat("custom:")){var de=this.word(/[\w$]/);return Ae[de]||function(){return t.ANull}}else return this.fromWord("!"+this.word(/[\w$<>\.!]/))}else return this.eat("?")?t.ANull:this.fromWord(this.word(/[\w$<>\.!`]/))},fromWord:function(ae){var ye=t.cx();switch(ae){case"number":return ye.num;case"string":return ye.str;case"bool":return ye.bool;case"<top>":return ye.topScope}return ye.localDefs&&ae in ye.localDefs?ye.localDefs[ae]:B(ae)},parsePoly:function(ae){var ye="<i>",ge;(ge=this.spec.slice(this.pos).match(/^\s*(\w+)\s*=\s*/))&&(ye=ge[1],this.pos+=ge[0].length);var we=this.parseType(!0);if(this.eat("]")||this.error(),we.call)return function(ie,he){var de=t.getInstance(ae);return we(ie,he).propagate(de.defProp(ye)),de};var le=t.getInstance(ae);return we.propagate(le.defProp(ye)),le}};function _(ae,ye,ge,we){var le=new s(ae,null,ge,we).parseType(!1,ye,!0);if(/^fn\(/.test(ae))for(var ie=0;ie<le.args.length;++ie)(function(he){var de=le.args[he];de instanceof t.Fn&&de.args&&de.args.length&&k(le,function(Se,Be){var Le=Be[he];Le&&Le.propagate(new t.IsCallee(t.cx().topScope,de.args,null,t.ANull))})})(ie);return le}function k(ae,ye,ge){var we=ae.computeRet,le=ae.retval;ae.computeRet=function(ie,he,de){var Se=ye(ie,he,de),Be=we?we(ie,he,de):le;return ge?Se:Be}}var R=l.parseEffect=function(ae,ye){var ge;if(ae.indexOf("propagate ")==0){var we=new s(ae,10),le=we.parseType(!0);we.eat(" ")||we.error();var ie=we.parseType(!0);k(ye,function(ce,Re){u(le,ce,Re).propagate(u(ie,ce,Re))})}else if(ae.indexOf("call ")==0){var he=ae.indexOf("and return ",5)==5,we=new s(ae,he?16:5),de=we.parseType(!0),Se=null,Be=[];for(we.eat(" this=")&&(Se=we.parseType(!0));we.eat(" ");)Be.push(we.parseType(!0));k(ye,function(Re,lt){for(var Te=u(de,Re,lt),Ye=Se?u(Se,Re,lt):t.ANull,mt=[],$e=0;$e<Be.length;++$e)mt.push(u(Be[$e],Re,lt));var gt=he?new t.AVal:t.ANull;return Te.propagate(new t.IsCallee(Ye,mt,null,gt)),gt},he)}else if(ge=ae.match(/^custom (\S+)\s*(.*)/)){var Le=Ae[ge[1]];Le&&k(ye,ge[2]?Le(ge[2]):Le)}else if(ae.indexOf("copy ")==0){var we=new s(ae,5),nt=we.parseType(!0);we.eat(" ");var He=we.parseType(!0);k(ye,function(Re,lt){var Te=u(nt,Re,lt),Ye=u(He,Re,lt);Te.forAllProps(function(mt,$e,gt){gt&&mt!="<i>"&&Ye.propagate(new t.PropHasSubset(mt,$e))})})}else throw new Error("Unknown effect type: "+ae)},P,B=l.parsePath=function(ae,ye){var ge=t.cx(),we=ge.paths[ae],le=ae;if(we!=null)return we;ge.paths[ae]=t.ANull;var ie=ye||P||ge.topScope;if(ge.localDefs){for(var he in ge.localDefs)if(ae.indexOf(he)==0){if(ae==he)return ge.paths[ae]=ge.localDefs[ae];if(ae.charAt(he.length)=="."){ie=ge.localDefs[he],ae=ae.slice(he.length+1);break}}}for(var de=ae.split("."),Se=0;Se<de.length&&ie!=t.ANull;++Se){var Be=de[Se];if(Be.charAt(0)=="!")if(Be=="!proto")ie=ie instanceof t.Obj&&ie.proto||t.ANull;else{var Le=ie.getFunctionType();if(!Le)ie=t.ANull;else if(Be=="!ret")ie=Le.retval&&Le.retval.getType(!1)||t.ANull;else{var nt=Le.args&&Le.args[Number(Be.slice(1))];ie=nt&&nt.getType(!1)||t.ANull}}else if(ie instanceof t.Obj){var He=Be=="prototype"&&ie instanceof t.Fn?ie.getProp(Be):ie.props[Be];!He||He.isEmpty()?ie=t.ANull:ie=He.types[0]}}return ge.paths[le]=ie==t.ANull?null:ie,ie};function O(ae){var ye=Object.create(ae.prototype);return ye.props=Object.create(null),ye.isShell=!0,ye}function H(ae){if(!ae["!type"]||/^(fn\(|\[)/.test(ae["!type"]))return!1;for(var ye in ae)if(ye!="!type"&&ye!="!doc"&&ye!="!url"&&ye!="!span"&&ye!="!data")return!1;return!0}function z(ae,ye,ge){if(!ae){var we=ye["!type"];if(we)if(/^fn\(/.test(we))ae=O(t.Fn);else if(we.charAt(0)=="[")ae=O(t.Arr);else throw new Error("Invalid !type spec: "+we);else ye["!stdProto"]?ae=t.cx().protos[ye["!stdProto"]]:ae=O(t.Obj);ae.name=ge}for(var le in ye)if(i(ye,le)&&le.charCodeAt(0)!=33){var ie=ye[le];if(typeof ie=="string"||H(ie))continue;var he=ae.defProp(le);z(he.getObjType(),ie,ge?ge+"."+le:le).propagate(he)}return ae}function Y(ae,ye,ge){if(ae.isShell){delete ae.isShell;var we=ye["!type"];if(we)_(we,ge,ae);else{var le=ye["!proto"]&&_(ye["!proto"]);t.Obj.call(ae,le instanceof t.Obj?le:!0,ge)}}var ie=ye["!effects"];if(ie&&ae instanceof t.Fn)for(var he=0;he<ie.length;++he)R(ie[he],ae);ee(ye,ae);for(var de in ye)if(i(ye,de)&&de.charCodeAt(0)!=33){var Se=ye[de],Be=ae.defProp(de),Le=ge?ge+"."+de:de;if(typeof Se=="string")Be.isEmpty()&&_(Se,Le).propagate(Be);else{if(!H(Se))Y(Be.getObjType(),Se,Le);else if(Be.isEmpty())_(Se["!type"],Le,null,!0).propagate(Be);else continue;Se["!doc"]&&(Be.doc=Se["!doc"]),Se["!url"]&&(Be.url=Se["!url"]),Se["!span"]&&(Be.span=Se["!span"])}}return ae}function ee(ae,ye){ae["!doc"]&&(ye.doc=ae["!doc"]),ae["!url"]&&(ye.url=ae["!url"]),ae["!span"]&&(ye.span=ae["!span"]),ae["!data"]&&(ye.metaData=ae["!data"])}function ue(ae,ye){var ge=t.cx().parent,we=ge&&ge.passes&&ge.passes[ae];if(we)for(var le=0;le<we.length;le++)we[le](ye)}function oe(ae,ye){var ge=t.cx();t.addOrigin(ge.curOrigin=ae["!name"]||"env#"+ge.origins.length),ge.localDefs=ge.definitions[ge.curOrigin]=Object.create(null),ue("preLoadDef",ae),z(ye,ae);var we=ae["!define"];if(we){for(var le in we){var ie=we[le];ge.localDefs[le]=typeof ie=="string"?B(ie):z(null,ie,le)}for(var le in we){var ie=we[le];typeof ie!="string"&&Y(ge.localDefs[le],we[le],le)}}Y(ye,ae),ue("postLoadDef",ae),ge.curOrigin=ge.localDefs=null}l.load=function(ae,ye){ye||(ye=t.cx().topScope);var ge=P;P=ye;try{oe(ae,ye)}finally{P=ge}},l.parse=function(ae,ye,ge){var we=t.cx();ye&&(we.origin=ye,we.localDefs=we.definitions[ye]);try{return typeof ae=="string"?_(ae,ge):Y(z(null,ae,ge),ae,ge)}finally{ye&&(we.origin=we.localDefs=null)}};var Ae=Object.create(null);t.registerFunction=function(ae,ye){Ae[ae]=ye};var be=t.constraint("created, target, spec",{addType:function(ae){if(ae instanceof t.Obj&&this.created++<5){var ye=new t.Obj(ae),ge=this.spec;if(ge instanceof t.AVal&&(ge=ge.getObjType(!1)),ge instanceof t.Obj)for(var we in ge.props){var le=ge.props[we].types[0],ie=ye.defProp(we);if(le&&le instanceof t.Obj&&le.props.value){var he=le.props.value.getType(!1);he&&ie.addType(he)}}this.target.addType(ye)}}});t.registerFunction("Object_create",function(ae,ye,ge){if(ge&&ge.length&&ge[0].type=="Literal"&&ge[0].value==null)return new t.Obj;var we=new t.AVal;return ye[0]&&ye[0].propagate(new be(0,we,ye[1])),we});var xe=t.constraint("target",{addType:function(ae){ae instanceof t.Obj&&(ae.hasProp("value")?ae.getProp("value").propagate(this.target):ae.hasProp("get")&&ae.getProp("get").propagate(new t.IsCallee(t.ANull,[],null,this.target)))}});t.registerFunction("Object_defineProperty",function(ae,ye,ge){if(ge&&ge.length>=3&&ge[1].type=="Literal"&&typeof ge[1].value=="string"){var we=ye[0],le=new t.AVal;we.propagate(new t.PropHasSubset(ge[1].value,le,ge[1])),ye[2].propagate(new xe(le))}return t.ANull}),t.registerFunction("Object_defineProperties",function(ae,ye,ge){if(ye.length>=2){var we=ye[0];ye[1].forAllProps(function(le,ie,he){if(!!he){var de=new t.AVal;we.propagate(new t.PropHasSubset(le,de,ge&&ge[1])),ie.propagate(new xe(de))}})}return t.ANull});var ne=t.constraint("self, args, target",{addType:function(ae){if(ae instanceof t.Fn){this.target.addType(new t.Fn(ae.name,t.ANull,ae.args.slice(this.args.length),ae.argNames.slice(this.args.length),ae.retval)),this.self.propagate(ae.self);for(var ye=0;ye<Math.min(ae.args.length,this.args.length);++ye)this.args[ye].propagate(ae.args[ye])}}});return t.registerFunction("Function_bind",function(ae,ye){if(!ye.length)return t.ANull;var ge=new t.AVal;return ae.propagate(new ne(ye[0],ye.slice(1),ge)),ge}),t.registerFunction("Array_ctor",function(ae,ye){var ge=new t.Arr;if(ye.length!=1||!ye[0].hasType(t.cx().num))for(var we=ge.getProp("<i>"),le=0;le<ye.length;++le)ye[le].propagate(we);return ge}),t.registerFunction("Promise_ctor",function(ae,ye,ge){if(ye.length<1)return t.ANull;var we=new t.Obj(t.cx().definitions.ecma6["Promise.prototype"]),le=we.defProp("value",ge&&ge[0]),ie=new t.AVal;ie.propagate(le);var he=new t.Fn("execute",t.ANull,[ie],["value"],t.ANull),de=t.cx().definitions.ecma6.promiseReject;return ye[0].propagate(new t.IsCallee(t.ANull,[he,de],null,t.ANull)),we}),l});(function(l){if(typeof exports=="object"&&typeof module=="object")return l(exports);if(typeof define=="function"&&define.amd)return define(["exports"],l);l(tern.comment||(tern.comment={}))})(function(l){function t(s){return s<14&&s>8||s===32||s===160}function i(s,u){for(;u>0;--u){var p=s.charCodeAt(u-1);if(p==10)break;if(!t(p))return!1}return!0}l.commentsBefore=function(s,u){var p=null,y=0,A;e:for(;u>0;){var E=s.charCodeAt(u-1);if(E==10)for(var _=--u,k=!1;_>0;--_)if(E=s.charCodeAt(_-1),E==47&&s.charCodeAt(_-2)==47){if(!i(s,_-2))break e;var R=s.slice(_,u);!y&&A?p[0]=R+`
`+p[0]:(p||(p=[])).unshift(R),A=!0,y=0,u=_-2;break}else if(E==10){if(!k&&++y>1)break e;break}else!k&&!t(E)&&(k=!0);else if(E==47&&s.charCodeAt(u-2)==42){for(var _=u-2;_>1;--_)if(s.charCodeAt(_-1)==42&&s.charCodeAt(_-2)==47){if(!i(s,_-2))break e;(p||(p=[])).unshift(s.slice(_,u-2)),A=!1,y=0;break}u=_-2}else if(t(E))--u;else break}return p},l.commentAfter=function(s,u){for(;u<s.length;){var p=s.charCodeAt(u);if(p==47){var y=s.charCodeAt(u+1),A;if(y==47)A=s.indexOf(`
`,u+2);else if(y==42)A=s.indexOf("*/",u+2);else return;return s.slice(u+2,A<0?s.length:A)}else t(p)&&++u}},l.ensureCommentsBefore=function(s,u){return u.hasOwnProperty("commentsBefore")?u.commentsBefore:u.commentsBefore=l.commentsBefore(s,u.start)}});(function(l,t){if(typeof exports=="object"&&typeof module=="object")return t(exports,require("../acorn"),require("../acorn/acorn_loose"),require("../acorn/walk"),require("./def"),require("./signal"));if(typeof define=="function"&&define.amd)return define(["exports","../acorn/acorn","../acorn/acorn_loose","../acorn/walk","./def","./signal"],t);t(l.tern||(l.tern={}),acorn,acorn,acorn.walk,tern.def,tern.signal)})(globalThis,function(l,t,i,s,u,p){var y=l.toString=function(Fe,Ze,ht){return!Fe||Fe==ht||Ze&&Ze<-3?"?":Fe.toString(Ze,ht)},A=l.ANull=p.mixin({addType:function(){},propagate:function(){},getProp:function(){return A},forAllProps:function(){},hasType:function(){return!1},isEmpty:function(){return!0},getFunctionType:function(){},getObjType:function(){},getType:function(){},gatherProperties:function(){},propagatesTo:function(){},typeHint:function(){},propHint:function(){},toString:function(){return"?"}});function E(Fe,Ze){var ht=Object.create(Fe);if(Ze)for(var Ut in Ze)ht[Ut]=Ze[Ut];return ht}var _=100,k=90,R=10,P=5,B=5,O=90,H=2,z=l.AVal=function(){this.types=[],this.forward=null,this.maxWeight=0};z.prototype=E(A,{addType:function(Fe,Ze){if(Ze=Ze||_,this.maxWeight<Ze){if(this.maxWeight=Ze,this.types.length==1&&this.types[0]==Fe)return;this.types.length=0}else if(this.maxWeight>Ze||this.types.indexOf(Fe)>-1)return;this.signal("addType",Fe),this.types.push(Fe);var ht=this.forward;ht&&Ft(function(Ut){for(var ei=0;ei<ht.length;++ei)Ut(Fe,ht[ei],Ze)})},propagate:function(Fe,Ze){if(!(Fe==A||Fe instanceof He&&this.forward&&this.forward.length>2)){Ze&&Ze!=_&&(Fe=new nt(Fe,Ze)),(this.forward||(this.forward=[])).push(Fe);var ht=this.types;ht.length&&Ft(function(Ut){for(var ei=0;ei<ht.length;++ei)Ut(ht[ei],Fe,Ze)})}},getProp:function(Fe){if(Fe=="__proto__"||Fe=="\u2716")return A;var Ze=(this.props||(this.props=Object.create(null)))[Fe];return Ze||(Ze=this.props[Fe]=new z,this.propagate(new xe(Fe,Ze))),Ze},forAllProps:function(Fe){this.propagate(new ae(Fe))},hasType:function(Fe){return this.types.indexOf(Fe)>-1},isEmpty:function(){return this.types.length===0},getFunctionType:function(){for(var Fe=this.types.length-1;Fe>=0;--Fe)if(this.types[Fe]instanceof lt)return this.types[Fe]},getObjType:function(){for(var Fe=null,Ze=this.types.length-1;Ze>=0;--Ze){var ht=this.types[Ze];if(ht instanceof Re){if(ht.name)return ht;Fe||(Fe=ht)}}return Fe},getType:function(Fe){return this.types.length===0&&Fe!==!1?this.makeupType():this.types.length===1?this.types[0]:oe(this.types)},toString:function(Fe,Ze){if(this.types.length==0)return y(this.makeupType(),Fe,Ze);if(this.types.length==1)return y(this.types[0],Fe,Ze);var ht=ue(this.types);return ht.length>2?"?":ht.map(function(Ut){return y(Ut,Fe,Ze)}).join("|")},computedPropType:function(){if(!this.propertyOf)return null;if(this.propertyOf.hasProp("<i>")){var Fe=this.propertyOf.getProp("<i>");return Fe==this?null:Fe.getType()}else if(this.propertyOf.maybeProps&&this.propertyOf.maybeProps["<i>"]==this){for(var Ze in this.propertyOf.props){var ht=this.propertyOf.props[Ze];if(!ht.isEmpty())return ht}return null}},makeupType:function(){var Fe=this.computedPropType();if(Fe)return Fe;if(!this.forward)return null;for(var Ze=this.forward.length-1;Ze>=0;--Ze){var ht=this.forward[Ze].typeHint();if(ht&&!ht.isEmpty())return Ui=!0,ht}for(var Ut=Object.create(null),ei=null,Ze=0;Ze<this.forward.length;++Ze){var Si=this.forward[Ze].propHint();Si&&Si!="length"&&Si!="<i>"&&Si!="\u2716"&&Si!=$e.completingProperty&&(Ut[Si]=!0,ei=Si)}if(!ei)return null;var sr=mt(ei);if(sr){var jt=[];e:for(var Ze=0;Ze<sr.length;++Ze){var nr=sr[Ze];for(var Si in Ut)if(!nr.hasProp(Si))continue e;nr.hasCtor&&(nr=ie(nr)),jt.push(nr)}var Mn=oe(jt);if(Mn)return Ui=!0,Mn}},typeHint:function(){return this.types.length?this.getType():null},propagatesTo:function(){return this},gatherProperties:function(Fe,Ze){for(var ht=0;ht<this.types.length;++ht)this.types[ht].gatherProperties(Fe,Ze)},guessProperties:function(Fe){if(this.forward)for(var Ze=0;Ze<this.forward.length;++Ze){var ht=this.forward[Ze].propHint();ht&&Fe(ht,null,0)}var Ut=this.makeupType();Ut&&Ut.gatherProperties(Fe)}});function Y(Fe,Ze,ht){var Ut=Fe.getType(!1),ei=Ze.getType(!1);return!Ut||!ei?!0:ee(Ut,ei,ht)}function ee(Fe,Ze,ht){if(!Fe||ht>=5)return Ze;if(Fe==Ze||!Ze)return Fe;if(Fe.constructor!=Ze.constructor)return!1;if(Fe.constructor==Te){var Ut=Fe.getProp("<i>").getType(!1);if(!Ut)return Ze;var ei=Ze.getProp("<i>").getType(!1);if(!ei||ee(Ut,ei,ht+1))return Ze}else if(Fe.constructor==Re){var Si=0,sr=0,jt=0;for(var nr in Fe.props)Si++,nr in Ze.props&&Y(Fe.props[nr],Ze.props[nr],ht+1)&&jt++;for(var nr in Ze.props)sr++;return Si&&sr&&jt<Math.max(Si,sr)/2?!1:Si>sr?Fe:Ze}else return Fe.constructor==lt?Fe.args.length!=Ze.args.length||!Fe.args.every(function(Mn,Mt){return Y(Mn,Ze.args[Mt],ht+1)})||!Y(Fe.retval,Ze.retval,ht+1)||!Y(Fe.self,Ze.self,ht+1)?!1:Fe:!1}var ue=l.simplifyTypes=function(Fe){var Ze=[];e:for(var ht=0;ht<Fe.length;++ht){for(var Ut=Fe[ht],ei=0;ei<Ze.length;ei++){var Si=ee(Ut,Ze[ei],0);if(Si){Ze[ei]=Si;continue e}}Ze.push(Ut)}return Ze};function oe(Fe){for(var Ze=0,ht=0,Ut=0,ei=null,Si=0;Si<Fe.length;++Si){var sr=Fe[Si];if(sr instanceof Te)++Ze;else if(sr instanceof lt)++ht;else if(sr instanceof Re)++Ut;else if(sr instanceof ce){if(ei&&sr.name!=ei.name)return null;ei=sr}}var jt=(Ze&&1)+(ht&&1)+(Ut&&1)+(ei&&1);if(jt>1)return null;if(ei)return ei;for(var nr=0,Mn=null,Si=0;Si<Fe.length;++Si){var sr=Fe[Si],Mt=0;if(Ze)Mt=sr.getProp("<i>").isEmpty()?1:2;else if(ht){Mt=1;for(var ui=0;ui<sr.args.length;++ui)sr.args[ui].isEmpty()||++Mt;sr.retval.isEmpty()||++Mt}else Ut&&(Mt=sr.name?100:2);Mt>=nr&&(nr=Mt,Mn=sr)}return Mn}function Ae(){}Ae.prototype=E(A,{init:function(){this.origin=$e.curOrigin}});var be=l.constraint=function(Fe,Ze){var ht="this.init();";Fe=Fe?Fe.split(", "):[];for(var Ut=0;Ut<Fe.length;++Ut)ht+="this."+Fe[Ut]+" = "+Fe[Ut]+";";var ei=Function.apply(null,Fe.concat([ht]));ei.prototype=Object.create(Ae.prototype);for(var Si in Ze)Ze.hasOwnProperty(Si)&&(ei.prototype[Si]=Ze[Si]);return ei},xe=be("prop, target",{addType:function(Fe,Ze){Fe.getProp&&Fe.getProp(this.prop).propagate(this.target,Ze)},propHint:function(){return this.prop},propagatesTo:function(){if(this.prop=="<i>"||!/[^\w_]/.test(this.prop))return{target:this.target,pathExt:"."+this.prop}}}),ne=l.PropHasSubset=be("prop, type, originNode",{addType:function(Fe,Ze){if(Fe instanceof Re){var ht=Fe.defProp(this.prop,this.originNode);ht.origin||(ht.origin=this.origin),this.type.propagate(ht,Ze)}},propHint:function(){return this.prop}}),ae=be("c",{addType:function(Fe){Fe instanceof Re&&Fe.forAllProps(this.c)}});function ye(Fe,Ze){$e.disabledComputing={fn:Fe,prev:$e.disabledComputing};try{return Ze()}finally{$e.disabledComputing=$e.disabledComputing.prev}}var ge=l.IsCallee=be("self, args, argNodes, retval",{init:function(){Ae.prototype.init.call(this),this.disabled=$e.disabledComputing},addType:function(Fe,Ze){if(Fe instanceof lt){for(var ht=0;ht<this.args.length;++ht)ht<Fe.args.length&&this.args[ht].propagate(Fe.args[ht],Ze),Fe.arguments&&this.args[ht].propagate(Fe.arguments,Ze);this.self.propagate(Fe.self,this.self==$e.topScope?O:Ze);var Ut=Fe.computeRet;if(Ut)for(var ei=this.disabled;ei;ei=ei.prev)(ei.fn==Fe||Fe.originNode&&ei.fn.originNode==Fe.originNode)&&(Ut=null);Ut?Ut(this.self,this.args,this.argNodes).propagate(this.retval,Ze):Fe.retval.propagate(this.retval,Ze)}},typeHint:function(){for(var Fe=[],Ze=0;Ze<this.args.length;++Ze)Fe.push("?");return new lt(null,this.self,this.args,Fe,A)},propagatesTo:function(){return{target:this.retval,pathExt:".!ret"}}}),we=be("propName, args, argNodes, retval",{init:function(){Ae.prototype.init.call(this),this.disabled=$e.disabledComputing},addType:function(Fe,Ze){var ht=new ge(Fe,this.args,this.argNodes,this.retval);ht.disabled=this.disabled,Fe.getProp(this.propName).propagate(ht,Ze)},propHint:function(){return this.propName}}),le=l.IsCtor=be("target, noReuse",{addType:function(Fe,Ze){Fe instanceof lt&&($e.parent&&!$e.parent.options.reuseInstances&&(this.noReuse=!0),Fe.getProp("prototype").propagate(new he(this.noReuse?!1:Fe,this.target),Ze))}}),ie=l.getInstance=function(Fe,Ze){if(Ze===!1)return new Re(Fe);Ze||(Ze=Fe.hasCtor),Fe.instances||(Fe.instances=[]);for(var ht=0;ht<Fe.instances.length;++ht){var Ut=Fe.instances[ht];if(Ut.ctor==Ze)return Ut.instance}var ei=new Re(Fe,Ze&&Ze.name);return ei.origin=Fe.origin,Fe.instances.push({ctor:Ze,instance:ei}),ei},he=l.IsProto=be("ctor, target",{addType:function(Fe,Ze){Fe instanceof Re&&((this.count=(this.count||0)+1)>8||(Fe==$e.protos.Array?this.target.addType(new Te):this.target.addType(ie(Fe,this.ctor))))}}),de=be("fn",{addType:function(Fe,Ze){if(Fe instanceof Re&&!Fe.hasCtor){Fe.hasCtor=this.fn;var ht=new Le(Fe,this.fn);ht.addType(this.fn),Fe.forAllProps(function(Ut,ei,Si){Si&&ei.propagate(ht)})}}}),Se=be("other, target",{addType:function(Fe,Ze){Fe==$e.str?this.target.addType($e.str,Ze):Fe==$e.num&&this.other.hasType($e.num)&&this.target.addType($e.num,Ze)},typeHint:function(){return this.other}}),Be=l.IfObj=be("target",{addType:function(Fe,Ze){Fe instanceof Re&&this.target.addType(Fe,Ze)},propagatesTo:function(){return this.target}}),Le=be("obj, ctor",{addType:function(Fe){Fe instanceof lt&&Fe.self&&Fe.self.isEmpty()&&Fe.self.addType(ie(this.obj,this.ctor),H)}}),nt=be("inner, weight",{addType:function(Fe,Ze){this.inner.addType(Fe,Math.min(Ze,this.weight))},propagatesTo:function(){return this.inner.propagatesTo()},typeHint:function(){return this.inner.typeHint()},propHint:function(){return this.inner.propHint()}}),He=l.Type=function(){};He.prototype=E(A,{constructor:He,propagate:function(Fe,Ze){Fe.addType(this,Ze)},hasType:function(Fe){return Fe==this},isEmpty:function(){return!1},typeHint:function(){return this},getType:function(){return this}});var ce=l.Prim=function(Fe,Ze){this.name=Ze,this.proto=Fe};ce.prototype=E(He.prototype,{constructor:ce,toString:function(){return this.name},getProp:function(Fe){return this.proto.hasProp(Fe)||A},gatherProperties:function(Fe,Ze){this.proto&&this.proto.gatherProperties(Fe,Ze)}});var Re=l.Obj=function(Fe,Ze){if(this.props||(this.props=Object.create(null)),this.proto=Fe===!0?$e.protos.Object:Fe,Fe&&!Ze&&Fe.name&&!(this instanceof lt)){var ht=/^(.*)\.prototype$/.exec(this.proto.name);ht&&(Ze=ht[1])}this.name=Ze,this.maybeProps=null,this.origin=$e.curOrigin};Re.prototype=E(He.prototype,{constructor:Re,toString:function(Fe){if(Fe==null&&(Fe=0),Fe<=0&&this.name)return this.name;var Ze=[],ht=!1;for(var Ut in this.props)if(Ut!="<i>"){if(Ze.length>5){ht=!0;break}Fe?Ze.push(Ut+": "+y(this.props[Ut],Fe-1,this)):Ze.push(Ut)}return Ze.sort(),ht&&Ze.push("..."),"{"+Ze.join(", ")+"}"},hasProp:function(Fe,Ze){var ht=this.props[Fe];if(Ze!==!1)for(var Ut=this.proto;Ut&&!ht;Ut=Ut.proto)ht=Ut.props[Fe];return ht},defProp:function(Fe,Ze){var ht=this.hasProp(Fe,!1);if(ht)return Ze&&!ht.originNode&&(ht.originNode=Ze),ht;if(Fe=="__proto__"||Fe=="\u2716")return A;var Ut=this.maybeProps&&this.maybeProps[Fe];return Ut?(delete this.maybeProps[Fe],this.maybeUnregProtoPropHandler()):(Ut=new z,Ut.propertyOf=this),this.props[Fe]=Ut,Ut.originNode=Ze,Ut.origin=$e.curOrigin,this.broadcastProp(Fe,Ut,!0),Ut},getProp:function(Fe){var Ze=this.hasProp(Fe,!0)||this.maybeProps&&this.maybeProps[Fe];if(Ze)return Ze;if(Fe=="__proto__"||Fe=="\u2716")return A;var ht=this.ensureMaybeProps()[Fe]=new z;return ht.propertyOf=this,ht},broadcastProp:function(Fe,Ze,ht){if(ht&&(this.signal("addProp",Fe,Ze),this instanceof Yt||Ye(Fe,this)),this.onNewProp)for(var Ut=0;Ut<this.onNewProp.length;++Ut){var ei=this.onNewProp[Ut];ei.onProtoProp?ei.onProtoProp(Fe,Ze,ht):ei(Fe,Ze,ht)}},onProtoProp:function(Fe,Ze,ht){var Ut=this.maybeProps&&this.maybeProps[Fe];Ut&&(delete this.maybeProps[Fe],this.maybeUnregProtoPropHandler(),this.proto.getProp(Fe).propagate(Ut)),this.broadcastProp(Fe,Ze,!1)},ensureMaybeProps:function(){return this.maybeProps||(this.proto&&this.proto.forAllProps(this),this.maybeProps=Object.create(null)),this.maybeProps},removeProp:function(Fe){var Ze=this.props[Fe];delete this.props[Fe],this.ensureMaybeProps()[Fe]=Ze,Ze.types.length=0},forAllProps:function(Fe){this.onNewProp||(this.onNewProp=[],this.proto&&this.proto.forAllProps(this)),this.onNewProp.push(Fe);for(var Ze=this;Ze;Ze=Ze.proto)for(var ht in Ze.props)Fe.onProtoProp?Fe.onProtoProp(ht,Ze.props[ht],Ze==this):Fe(ht,Ze.props[ht],Ze==this)},maybeUnregProtoPropHandler:function(){if(this.maybeProps){for(var Fe in this.maybeProps)return;this.maybeProps=null}!this.proto||this.onNewProp&&this.onNewProp.length||this.proto.unregPropHandler(this)},unregPropHandler:function(Fe){for(var Ze=0;Ze<this.onNewProp.length;++Ze)if(this.onNewProp[Ze]==Fe){this.onNewProp.splice(Ze,1);break}this.maybeUnregProtoPropHandler()},gatherProperties:function(Fe,Ze){for(var ht in this.props)ht!="<i>"&&Fe(ht,this,Ze);this.proto&&this.proto.gatherProperties(Fe,Ze+1)},getObjType:function(){return this}});var lt=l.Fn=function(Fe,Ze,ht,Ut,ei){Re.call(this,$e.protos.Function,Fe),this.self=Ze,this.args=ht,this.argNames=Ut,this.retval=ei};lt.prototype=E(Re.prototype,{constructor:lt,toString:function(Fe){Fe==null&&(Fe=0);for(var Ze="fn(",ht=0;ht<this.args.length;++ht){ht&&(Ze+=", ");var Ut=this.argNames[ht];Ut&&Ut!="?"&&(Ze+=Ut+": "),Ze+=Fe>-3?y(this.args[ht],Fe-1,this):"?"}return Ze+=")",this.retval.isEmpty()||(Ze+=" -> "+(Fe>-3?y(this.retval,Fe-1,this):"?")),Ze},getProp:function(Fe){if(Fe=="prototype"){var Ze=this.hasProp(Fe,!1);if(!Ze){Ze=this.defProp(Fe);var ht=new Re(!0,this.name&&this.name+".prototype");ht.origin=this.origin,Ze.addType(ht,R)}return Ze}return Re.prototype.getProp.call(this,Fe)},defProp:function(Fe,Ze){if(Fe=="prototype"){var ht=this.hasProp(Fe,!1);return ht||(ht=Re.prototype.defProp.call(this,Fe,Ze),ht.origin=this.origin,ht.propagate(new de(this)),ht)}return Re.prototype.defProp.call(this,Fe,Ze)},getFunctionType:function(){return this}});var Te=l.Arr=function(Fe){Re.call(this,$e.protos.Array);var Ze=this.defProp("<i>");Fe&&Fe.propagate(Ze)};Te.prototype=E(Re.prototype,{constructor:Te,toString:function(Fe){return Fe==null&&(Fe=0),"["+(Fe>-3?y(this.getProp("<i>"),Fe-1,this):"?")+"]"}});function Ye(Fe,Ze){var ht=$e.props[Fe]||($e.props[Fe]=[]);ht.push(Ze)}function mt(Fe){return $e.props[Fe]}l.Context=function(Fe,Ze){this.parent=Ze,this.props=Object.create(null),this.protos=Object.create(null),this.origins=[],this.curOrigin="ecma5",this.paths=Object.create(null),this.definitions=Object.create(null),this.purgeGen=0,this.workList=null,this.disabledComputing=null,l.withContext(this,function(){if($e.protos.Object=new Re(null,"Object.prototype"),$e.topScope=new Yt,$e.topScope.name="<top>",$e.protos.Array=new Re(!0,"Array.prototype"),$e.protos.Function=new Re(!0,"Function.prototype"),$e.protos.RegExp=new Re(!0,"RegExp.prototype"),$e.protos.String=new Re(!0,"String.prototype"),$e.protos.Number=new Re(!0,"Number.prototype"),$e.protos.Boolean=new Re(!0,"Boolean.prototype"),$e.str=new ce($e.protos.String,"string"),$e.bool=new ce($e.protos.Boolean,"bool"),$e.num=new ce($e.protos.Number,"number"),$e.curOrigin=null,Fe)for(var ht=0;ht<Fe.length;++ht)u.load(Fe[ht])})};var $e=null;l.cx=function(){return $e},l.withContext=function(Fe,Ze){var ht=$e;$e=Fe;try{return Ze()}finally{$e=ht}},l.TimedOut=function(){this.message="Timed out",this.stack=new Error().stack},l.TimedOut.prototype=Object.create(Error.prototype),l.TimedOut.prototype.name="infer.TimedOut";var gt;l.withTimeout=function(Fe,Ze){var ht=+new Date+Fe,Ut=gt;if(Ut&&Ut<ht)return Ze();gt=ht;try{return Ze()}finally{gt=Ut}},l.addOrigin=function(Fe){$e.origins.indexOf(Fe)<0&&$e.origins.push(Fe)};var kt=20,Kt=1e-4;function Ft(Fe){if($e.workList)return Fe($e.workList);var Ze=[],ht=0,Ut=$e.workList=function(sr,jt,nr){ht<kt-Kt*Ze.length&&Ze.push(sr,jt,nr,ht)};try{for(var ei=Fe(Ut),Si=0;Si<Ze.length;Si+=4){if(gt&&+new Date>=gt)throw new l.TimedOut;ht=Ze[Si+3]+1,Ze[Si+1].addType(Ze[Si],Ze[Si+2])}return ei}finally{$e.workList=null}}var Yt=l.Scope=function(Fe){Re.call(this,Fe||!0),this.prev=Fe};Yt.prototype=E(Re.prototype,{constructor:Yt,defVar:function(Fe,Ze){for(var ht=this;;ht=ht.proto){var Ut=ht.props[Fe];if(Ut)return Ut;if(!ht.prev)return ht.defProp(Fe,Ze)}}});function $t(Fe,Ze){Fe.fnType&&(Fe.fnType.instantiateScore=(Fe.fnType.instantiateScore||0)+Ze)}var vi={};function Xi(Fe,Ze){try{return s.simple(Fe,{Expression:function(){if(--Ze<=0)throw vi}}),!0}catch(ht){if(ht==vi)return!1;throw ht}}function Ki(Fe,Ze){var ht=Ze.fnType.instantiateScore;if(!$e.disabledComputing&&ht&&Ze.fnType.args.length&&Xi(Fe,ht*5))return $t(Ze.prev,ht/2),or(Fe,Ze),!0;Ze.fnType.instantiateScore=null}function or(Fe,Ze){for(var ht=Ze.fnType,Ut=0;Ut<ht.args.length;++Ut)ht.args[Ut]=new z;ht.self=new z,ht.computeRet=function(ei,Si){return ye(ht,function(){var sr=$e.curOrigin;$e.curOrigin=ht.origin;var jt=new Yt(Ze.prev);jt.originNode=Ze.originNode;for(var nr in Ze.props)for(var Mn=jt.defProp(nr,Ze.props[nr].originNode),Mt=0;Mt<Si.length;++Mt)ht.argNames[Mt]==nr&&Mt<Si.length&&Si[Mt].propagate(Mn);for(var ui=ht.argNames.length!=Si.length?ht.argNames.slice(0,Si.length):ht.argNames;ui.length<Si.length;)ui.push("?");if(jt.fnType=new lt(ht.name,ei,Si,ui,A),jt.fnType.originNode=ht.originNode,ht.arguments){var Li=jt.fnType.arguments=new z;jt.defProp("arguments").addType(new Te(Li));for(var Mt=0;Mt<Si.length;++Mt)Si[Mt].propagate(Li)}return Fe.body.scope=jt,s.recursive(Fe.body,jt,null,ri),s.recursive(Fe.body,jt,null,bt),$e.curOrigin=sr,jt.fnType.retval})}}function Et(Fe){var Ze=Fe.fnType,ht=Ze.retval;if(ht==A)return;var Ut,ei;!ht.isEmpty()&&(Ut=ht.getType())instanceof Te&&(ht=ei=Ut.getProp("<i>"));function Si(Mt,ui,Li){if(!(Li>3||!Mt.forward))for(var xi=0;xi<Mt.forward.length;++xi){var Fi=Mt.forward[xi].propagatesTo();if(!!Fi){var qr=ui,fr;if(Fi instanceof z)fr=Fi;else if(Fi.target instanceof z)qr+=Fi.pathExt,fr=Fi.target;else continue;if(fr==ht)return qr;var Pr=Si(fr,qr,Li+1);if(Pr)return Pr}}}for(var sr=Si(Ze.self,"!this",0),jt=0;!sr&&jt<Ze.args.length;++jt)sr=Si(Ze.args[jt],"!"+jt,0);if(sr){ei&&(sr="["+sr+"]");var nr=new u.TypeParser(sr),Mn=nr.parseType(!0);return Ze.computeRet=Mn.apply?Mn:function(){return Mn},Ze.computeRetSource=sr,!0}}function Ct(Fe,Ze){return Fe.defProp(Ze.name,Ze)}var ri=s.make({Function:function(Fe,Ze,ht){var Ut=Fe.body.scope=new Yt(Ze);Ut.originNode=Fe;for(var ei=[],Si=[],sr=0;sr<Fe.params.length;++sr){var jt=Fe.params[sr];Si.push(jt.name),ei.push(Ct(Ut,jt))}if(Ut.fnType=new lt(Fe.id&&Fe.id.name,new z,ei,Si,A),Ut.fnType.originNode=Fe,Fe.id){var nr=Fe.type=="FunctionDeclaration";Ct(nr?Ze:Ut,Fe.id)}ht(Fe.body,Ut,"ScopeBody")},TryStatement:function(Fe,Ze,ht){if(ht(Fe.block,Ze,"Statement"),Fe.handler){var Ut=Ct(Ze,Fe.handler.param);ht(Fe.handler.body,Ze,"ScopeBody");var ei=$e.definitions.ecma5;ei&&Ut.isEmpty()&&ie(ei["Error.prototype"]).propagate(Ut,B)}Fe.finalizer&&ht(Fe.finalizer,Ze,"Statement")},VariableDeclaration:function(Fe,Ze,ht){for(var Ut=0;Ut<Fe.declarations.length;++Ut){var ei=Fe.declarations[Ut];Ct(Ze,ei.id),ei.init&&ht(ei.init,Ze,"Expression")}}});function pt(Fe,Ze,ht){var Ut=Fe.property;return Fe.computed?Ut.type=="Literal"&&typeof Ut.value=="string"?Ut.value:(ht&&Me(Ut,Ze,ht,A),"<i>"):Ut.name}function ft(Fe){switch(Fe){case"+":case"-":case"~":return $e.num;case"!":return $e.bool;case"typeof":return $e.str;case"void":case"delete":return A}}function Lt(Fe){switch(Fe){case"==":case"!=":case"===":case"!==":case"<":case">":case">=":case"<=":case"in":case"instanceof":return!0}}function ii(Fe){if(Fe.regex)return ie($e.protos.RegExp);switch(typeof Fe.value){case"boolean":return $e.bool;case"number":return $e.num;case"string":return $e.str;case"object":case"function":return Fe.value?ie($e.protos.RegExp):A}}function bi(Fe){return function(Ze,ht,Ut,ei,Si){var sr=Fe(Ze,ht,Ut,Si);return ei&&sr.propagate(ei),sr}}function rt(Fe){return function(Ze,ht,Ut,ei,Si){return ei||(ei=new z),Fe(Ze,ht,Ut,ei,Si),ei}}var Pe={ArrayExpression:bi(function(Fe,Ze,ht){for(var Ut=new z,ei=0;ei<Fe.elements.length;++ei){var Si=Fe.elements[ei];Si&&Me(Si,Ze,ht,Ut)}return new Te(Ut)}),ObjectExpression:bi(function(Fe,Ze,ht,Ut){var ei=Fe.objType=new Re(!0,Ut);ei.originNode=Fe;for(var Si=0;Si<Fe.properties.length;++Si){var sr=Fe.properties[Si],jt=sr.key,Ut;if(sr.value.name!="\u2716"){if(jt.type=="Identifier"?Ut=jt.name:typeof jt.value=="string"&&(Ut=jt.value),!Ut||sr.kind=="set"){Me(sr.value,Ze,ht,A);continue}var nr=ei.defProp(Ut,jt),Mn=nr;nr.initializer=!0,sr.kind=="get"&&(Mn=new ge(ei,[],null,nr)),Me(sr.value,Ze,ht,Mn,Ut)}}return ei}),FunctionExpression:bi(function(Fe,Ze,ht,Ut){var ei=Fe.body.scope,Si=ei.fnType;return Ut&&!Si.name&&(Si.name=Ut),ht(Fe.body,Ze,"ScopeBody"),Ki(Fe,ei)||Et(ei),Fe.id&&ei.getProp(Fe.id.name).addType(Si),Si}),SequenceExpression:bi(function(Fe,Ze,ht){for(var Ut=0,ei=Fe.expressions.length-1;Ut<ei;++Ut)Me(Fe.expressions[Ut],Ze,ht,A);return Me(Fe.expressions[ei],Ze,ht)}),UnaryExpression:bi(function(Fe,Ze,ht){return Me(Fe.argument,Ze,ht,A),ft(Fe.operator)}),UpdateExpression:bi(function(Fe,Ze,ht){return Me(Fe.argument,Ze,ht,A),$e.num}),BinaryExpression:bi(function(Fe,Ze,ht){if(Fe.operator=="+"){var Ut=Me(Fe.left,Ze,ht),ei=Me(Fe.right,Ze,ht);if(Ut.hasType($e.str)||ei.hasType($e.str))return $e.str;if(Ut.hasType($e.num)&&ei.hasType($e.num))return $e.num;var Si=new z;return Ut.propagate(new Se(ei,Si)),ei.propagate(new Se(Ut,Si)),Si}else return Me(Fe.left,Ze,ht,A),Me(Fe.right,Ze,ht,A),Lt(Fe.operator)?$e.bool:$e.num}),AssignmentExpression:bi(function(Fe,Ze,ht){var Ut,ei,Si;if(Fe.left.type=="MemberExpression"?(Si=pt(Fe.left,Ze,ht),Fe.left.object.type=="Identifier"&&(ei=Fe.left.object.name+"."+Si)):ei=Fe.left.name,Fe.operator!="="&&Fe.operator!="+="?(Me(Fe.right,Ze,ht,A),Ut=$e.num):Ut=Me(Fe.right,Ze,ht,null,ei),Fe.left.type=="MemberExpression"){var sr=Me(Fe.left.object,Ze,ht);if(Si=="prototype"&&$t(Ze,20),Si=="<i>"){var jt=Fe.left.property.name,nr=Ze.props[jt],Mn=nr&&nr.iteratesOver;if(Mn){$t(Ze,20);var Mt=Fe.right.type=="MemberExpression"&&Fe.right.computed&&Fe.right.property.name==jt;return Mn.forAllProps(function(ui,Li,xi){xi&&ui!="prototype"&&ui!="<i>"&&sr.propagate(new ne(ui,Mt?Li:A))}),Ut}}sr.propagate(new ne(Si,Ut,Fe.left.property))}else Ut.propagate(Ze.defVar(Fe.left.name,Fe.left));return Ut}),LogicalExpression:rt(function(Fe,Ze,ht,Ut){Me(Fe.left,Ze,ht,Ut),Me(Fe.right,Ze,ht,Ut)}),ConditionalExpression:rt(function(Fe,Ze,ht,Ut){Me(Fe.test,Ze,ht,A),Me(Fe.consequent,Ze,ht,Ut),Me(Fe.alternate,Ze,ht,Ut)}),NewExpression:rt(function(Fe,Ze,ht,Ut,ei){Fe.callee.type=="Identifier"&&Fe.callee.name in Ze.props&&$t(Ze,20);for(var Si=0,sr=[];Si<Fe.arguments.length;++Si)sr.push(Me(Fe.arguments[Si],Ze,ht));var jt=Me(Fe.callee,Ze,ht),nr=new z;jt.propagate(new le(nr,ei&&/\.prototype$/.test(ei))),nr.propagate(Ut,k),jt.propagate(new ge(nr,sr,Fe.arguments,new Be(Ut)))}),CallExpression:rt(function(Fe,Ze,ht,Ut){for(var ei=0,Si=[];ei<Fe.arguments.length;++ei)Si.push(Me(Fe.arguments[ei],Ze,ht));if(Fe.callee.type=="MemberExpression"){var sr=Me(Fe.callee.object,Ze,ht),jt=pt(Fe.callee,Ze,ht);(jt=="call"||jt=="apply")&&Ze.fnType&&Ze.fnType.args.indexOf(sr)>-1&&$t(Ze,30),sr.propagate(new we(jt,Si,Fe.arguments,Ut))}else{var nr=Me(Fe.callee,Ze,ht);Ze.fnType&&Ze.fnType.args.indexOf(nr)>-1&&$t(Ze,30);var Mn=nr.getFunctionType();Mn&&Mn.instantiateScore&&Ze.fnType&&$t(Ze,Mn.instantiateScore/5),nr.propagate(new ge($e.topScope,Si,Fe.arguments,Ut))}}),MemberExpression:rt(function(Fe,Ze,ht,Ut){var ei=pt(Fe,Ze),Si=Me(Fe.object,Ze,ht),sr=Si.getProp(ei);if(ei=="<i>"){var jt=Me(Fe.property,Ze,ht);if(!jt.hasType($e.num))return sr.propagate(Ut,P)}sr.propagate(Ut)}),Identifier:bi(function(Fe,Ze){return Fe.name=="arguments"&&Ze.fnType&&!(Fe.name in Ze.props)&&Ze.defProp(Fe.name,Ze.fnType.originNode).addType(new Te(Ze.fnType.arguments=new z)),Ze.getProp(Fe.name)}),ThisExpression:bi(function(Fe,Ze){return Ze.fnType?Ze.fnType.self:$e.topScope}),Literal:bi(function(Fe){return ii(Fe)})};function Me(Fe,Ze,ht,Ut,ei){return Pe[Fe.type](Fe,Ze,ht,Ut,ei)}var bt=s.make({Expression:function(Fe,Ze,ht){Me(Fe,Ze,ht,A)},FunctionDeclaration:function(Fe,Ze,ht){var Ut=Fe.body.scope,ei=Ut.fnType;ht(Fe.body,Ze,"ScopeBody"),Ki(Fe,Ut)||Et(Ut);var Si=Ze.getProp(Fe.id.name);Si.addType(ei)},VariableDeclaration:function(Fe,Ze,ht){for(var Ut=0;Ut<Fe.declarations.length;++Ut){var ei=Fe.declarations[Ut],Si=Ze.getProp(ei.id.name);ei.init&&Me(ei.init,Ze,ht,Si,ei.id.name)}},ReturnStatement:function(Fe,Ze,ht){if(!!Fe.argument){var Ut=A;Ze.fnType&&(Ze.fnType.retval==A&&(Ze.fnType.retval=new z),Ut=Ze.fnType.retval),Me(Fe.argument,Ze,ht,Ut)}},ForInStatement:function(Fe,Ze,ht){var Ut=Me(Fe.right,Ze,ht);if(Fe.right.type=="Identifier"&&Fe.right.name in Ze.props||Fe.right.type=="MemberExpression"&&Fe.right.property.name=="prototype"){$t(Ze,5);var ei;Fe.left.type=="Identifier"?ei=Fe.left.name:Fe.left.type=="VariableDeclaration"&&(ei=Fe.left.declarations[0].id.name),ei&&ei in Ze.props&&(Ze.getProp(ei).iteratesOver=Ut)}ht(Fe.body,Ze,"Statement")},ScopeBody:function(Fe,Ze,ht){ht(Fe,Fe.scope||Ze)}});function zt(Fe,Ze){var ht=Fe&&Fe[Ze],Ut=Array.prototype.slice.call(arguments,2);if(ht)for(var ei=0;ei<ht.length;++ei)ht[ei].apply(null,Ut)}var It=l.parse=function(Fe,Ze,ht){var Ut;try{Ut=t.parse(Fe,ht)}catch{Ut=i.parse_dammit(Fe,ht)}return zt(Ze,"postParse",Ut,Fe),Ut};l.analyze=function(Fe,Ze,ht,Ut){typeof Fe=="string"&&(Fe=It(Fe)),Ze||(Ze="file#"+$e.origins.length),l.addOrigin($e.curOrigin=Ze),ht||(ht=$e.topScope),s.recursive(Fe,ht,null,ri),zt(Ut,"preInfer",Fe,ht),s.recursive(Fe,ht,null,bt),zt(Ut,"postInfer",Fe,ht),$e.curOrigin=null},l.purge=function(Fe,Ze,ht){var Ut=yt(Fe,Ze,ht);++$e.purgeGen,$e.topScope.purge(Ut);for(var ei in $e.props){for(var Si=$e.props[ei],sr=0;sr<Si.length;++sr){var jt=Si[sr],nr=jt.props[ei];(!nr||Ut(nr,nr.originNode))&&Si.splice(sr--,1)}Si.length||delete $e.props[ei]}};function yt(Fe,Ze,ht){var Ut=Array.isArray(Fe);return Ut&&Fe.length==1&&(Fe=Fe[0],Ut=!1),Ut?ht==null?function(ei){return Fe.indexOf(ei.origin)>-1}:function(ei,Si){return Si&&Si.start>=Ze&&Si.end<=ht&&Fe.indexOf(ei.origin)>-1}:ht==null?function(ei){return ei.origin==Fe}:function(ei,Si){return Si&&Si.start>=Ze&&Si.end<=ht&&ei.origin==Fe}}z.prototype.purge=function(Fe){if(this.purgeGen!=$e.purgeGen){this.purgeGen=$e.purgeGen;for(var Ze=0;Ze<this.types.length;++Ze){var ht=this.types[Ze];Fe(ht,ht.originNode)?this.types.splice(Ze--,1):ht.purge(Fe)}if(this.forward)for(var Ze=0;Ze<this.forward.length;++Ze){var Ut=this.forward[Ze];Fe(Ut)?(this.forward.splice(Ze--,1),this.props&&(this.props=null)):Ut.purge&&Ut.purge(Fe)}}},A.purge=function(){},Re.prototype.purge=function(Fe){if(this.purgeGen==$e.purgeGen)return!0;this.purgeGen=$e.purgeGen;for(var Ze in this.props){var ht=this.props[Ze];Fe(ht,ht.originNode)&&this.removeProp(Ze),ht.purge(Fe)}},lt.prototype.purge=function(Fe){if(!Re.prototype.purge.call(this,Fe)){this.self.purge(Fe),this.retval.purge(Fe);for(var Ze=0;Ze<this.args.length;++Ze)this.args[Ze].purge(Fe)}};function Di(Fe){Ui=!0;var Ze=mt(Fe);if(Ze)for(var ht=0;ht<Ze.length;++ht){var Ut=Ze[ht].getProp(Fe);if(!Ut.isEmpty())return Ut}return A}var Tt={ArrayExpression:function(Fe,Ze){for(var ht=new z,Ut=0;Ut<Fe.elements.length;++Ut){var ei=Fe.elements[Ut];ei&&Ot(ei,Ze).propagate(ht)}return new Te(ht)},ObjectExpression:function(Fe){return Fe.objType},FunctionExpression:function(Fe){return Fe.body.scope.fnType},SequenceExpression:function(Fe,Ze){return Ot(Fe.expressions[Fe.expressions.length-1],Ze)},UnaryExpression:function(Fe){return ft(Fe.operator)},UpdateExpression:function(){return $e.num},BinaryExpression:function(Fe,Ze){if(Lt(Fe.operator))return $e.bool;if(Fe.operator=="+"){var ht=Ot(Fe.left,Ze),Ut=Ot(Fe.right,Ze);if(ht.hasType($e.str)||Ut.hasType($e.str))return $e.str}return $e.num},AssignmentExpression:function(Fe,Ze){return Ot(Fe.right,Ze)},LogicalExpression:function(Fe,Ze){var ht=Ot(Fe.left,Ze);return ht.isEmpty()?Ot(Fe.right,Ze):ht},ConditionalExpression:function(Fe,Ze){var ht=Ot(Fe.consequent,Ze);return ht.isEmpty()?Ot(Fe.alternate,Ze):ht},NewExpression:function(Fe,Ze){var ht=Ot(Fe.callee,Ze).getFunctionType(),Ut=ht&&ht.getProp("prototype").getObjType();return Ut?ie(Ut,ht):A},CallExpression:function(Fe,Ze){var ht=Ot(Fe.callee,Ze).getFunctionType();if(!ht)return A;if(ht.computeRet){for(var Ut=0,ei=[];Ut<Fe.arguments.length;++Ut)ei.push(Ot(Fe.arguments[Ut],Ze));var Si=A;return Fe.callee.type=="MemberExpression"&&(Si=Ot(Fe.callee.object,Ze)),ht.computeRet(Si,ei,Fe.arguments)}else return ht.retval},MemberExpression:function(Fe,Ze){var ht=pt(Fe,Ze),Ut=Ot(Fe.object,Ze).getType();return Ut?Ut.getProp(ht):ht=="<i>"?A:Di(ht)},Identifier:function(Fe,Ze){return Ze.hasProp(Fe.name)||A},ThisExpression:function(Fe,Ze){return Ze.fnType?Ze.fnType.self:$e.topScope},Literal:function(Fe){return ii(Fe)}};function Ot(Fe,Ze){return Tt[Fe.type](Fe,Ze)}var li=l.searchVisitor=s.make({Function:function(Fe,Ze,ht){var Ut=Fe.body.scope;Fe.id&&ht(Fe.id,Ut);for(var ei=0;ei<Fe.params.length;++ei)ht(Fe.params[ei],Ut);ht(Fe.body,Ut,"ScopeBody")},TryStatement:function(Fe,Ze,ht){Fe.handler&&ht(Fe.handler.param,Ze),s.base.TryStatement(Fe,Ze,ht)},VariableDeclaration:function(Fe,Ze,ht){for(var Ut=0;Ut<Fe.declarations.length;++Ut){var ei=Fe.declarations[Ut];ht(ei.id,Ze),ei.init&&ht(ei.init,Ze,"Expression")}}});l.fullVisitor=s.make({MemberExpression:function(Fe,Ze,ht){ht(Fe.object,Ze,"Expression"),ht(Fe.property,Ze,Fe.computed?"Expression":null)},ObjectExpression:function(Fe,Ze,ht){for(var Ut=0;Ut<Fe.properties.length;++Ut)ht(Fe.properties[Ut].value,Ze,"Expression"),ht(Fe.properties[Ut].key,Ze)}},li),l.findExpressionAt=function(Fe,Ze,ht,Ut,ei){var Si=ei||function(sr,jt){return jt.type=="Identifier"&&jt.name=="\u2716"?!1:Tt.hasOwnProperty(jt.type)};return s.findNodeAt(Fe,Ze,ht,Si,li,Ut||$e.topScope)},l.findExpressionAround=function(Fe,Ze,ht,Ut,ei){var Si=ei||function(sr,jt){return Ze!=null&&jt.start>Ze||jt.type=="Identifier"&&jt.name=="\u2716"?!1:Tt.hasOwnProperty(jt.type)};return s.findNodeAround(Fe,ht,Si,li,Ut||$e.topScope)},l.expressionType=function(Fe){return Ot(Fe.node,Fe.state)},l.parentNode=function(Fe,Ze){var ht=[];function Ut(ei,Si,sr){if(ei.start<=Fe.start&&ei.end>=Fe.end){var jt=ht[ht.length-1];if(ei==Fe)throw{found:jt};jt!=ei&&ht.push(ei),s.base[sr||ei.type](ei,Si,Ut),jt!=ei&&ht.pop()}}try{Ut(Ze,null)}catch(ei){if(ei.found)return ei.found;throw ei}};var Ti={ArrayExpression:function(Fe,Ze,ht){return ht(Fe,!0).getProp("<i>")},ObjectExpression:function(Fe,Ze,ht){for(var Ut=0;Ut<Fe.properties.length;++Ut){var ei=Ze.properties[Ut];if(ei.value==Ze)return ht(Fe,!0).getProp(ei.key.name)}},UnaryExpression:function(Fe){return ft(Fe.operator)},UpdateExpression:function(){return $e.num},BinaryExpression:function(Fe){return Lt(Fe.operator)?$e.bool:$e.num},AssignmentExpression:function(Fe,Ze,ht){return ht(Fe.left)},LogicalExpression:function(Fe,Ze,ht){return ht(Fe,!0)},ConditionalExpression:function(Fe,Ze,ht){if(Fe.consequent==Ze||Fe.alternate==Ze)return ht(Fe,!0)},NewExpression:function(Fe,Ze,ht){return this.CallExpression(Fe,Ze,ht)},CallExpression:function(Fe,Ze,ht){for(var Ut=0;Ut<Fe.arguments.length;Ut++){var ei=Fe.arguments[Ut];if(ei==Ze){var Si=ht(Fe.callee).getFunctionType();if(Si instanceof lt)return Si.args[Ut];break}}},ReturnStatement:function(Fe,Ze,ht){var Ut=s.findNodeAround(Ze.sourceFile.ast,Ze.start,"Function");if(Ut){var ei=Ut.node.type=="FunctionExpression"?ht(Ut.node,!0).getFunctionType():Ut.node.body.scope.fnType;if(ei)return ei.retval.getType()}},VariableDeclaration:function(Fe,Ze,ht){for(var Ut=0;Ut<Fe.declarations.length;Ut++){var ei=Fe.declarations[Ut];if(ei.init==Ze)return ht(ei.id)}}};l.typeFromContext=function(Fe,Ze){var ht=l.parentNode(Ze.node,Fe),Ut=null;return Ti.hasOwnProperty(ht.type)&&(Ut=Ti[ht.type](ht,Ze.node,function(ei,Si){var sr={node:ei,state:Ze.state},jt=Si?l.typeFromContext(Fe,sr):l.expressionType(sr);return jt||A})),Ut||l.expressionType(Ze)};var Ui=!1;l.resetGuessing=function(Fe){Ui=Fe},l.didGuess=function(){return Ui},l.forAllPropertiesOf=function(Fe,Ze){Fe.gatherProperties(Ze,0)};var gr=s.make({},li);l.findRefs=function(Fe,Ze,ht,Ut,ei){gr.Identifier=function(Si,sr){if(Si.name==ht){for(var jt=sr;jt;jt=jt.prev)if(jt==Ut&&ei(Si,sr),ht in jt.props)return}},s.recursive(Fe,Ze,null,gr)};var kr=s.make({Function:function(Fe,Ze,ht){ht(Fe.body,Fe.body.scope,"ScopeBody")}});l.findPropRefs=function(Fe,Ze,ht,Ut,ei){s.simple(Fe,{MemberExpression:function(Si,sr){Si.computed||Si.property.name!=Ut||Ot(Si.object,sr).getType()==ht&&ei(Si.property)},ObjectExpression:function(Si,sr){if(Ot(Si,sr).getType()==ht)for(var jt=0;jt<Si.properties.length;++jt)Si.properties[jt].key.name==Ut&&ei(Si.properties[jt].key)}},kr,Ze)};var mr=l.scopeAt=function(Fe,Ze,ht){var Ut=s.findNodeAround(Fe,Ze,function(ei,Si){return ei=="ScopeBody"&&Si.scope});return Ut?Ut.node.scope:ht||$e.topScope};l.forAllLocalsAt=function(Fe,Ze,ht,Ut){var ei=mr(Fe,Ze,ht);ei.gatherProperties(Ut,0)},u=l.def=u.init({},l)});(function(l){if(typeof exports=="object"&&typeof module=="object")return l(require("../lib/infer"),require("../lib/tern"),require("../lib/comment"),require("./js/editor/acorn"),require("./js/editor/acorn/walk"));if(typeof define=="function"&&define.amd)return define(["../lib/infer","../lib/tern","../lib/comment","./js/editor/acorn/acorn","./js/editor/acorn/walk"],l);l(tern,tern,tern.comment,acorn,acorn.walk)})(function(l,t,i,s,u){var p=1,y=101;t.registerPlugin("doc_comment",function(xe,ne){return xe.jsdocTypedefs=Object.create(null),xe.on("reset",function(){xe.jsdocTypedefs=Object.create(null)}),xe._docComment={weight:ne&&ne.strong?y:void 0,fullDocs:ne&&ne.fullDocs},{passes:{postParse:A,postInfer:_,postLoadDef:k}}});function A(xe,ne){function ae(ye){i.ensureCommentsBefore(ne,ye)}u.simple(xe,{VariableDeclaration:ae,FunctionDeclaration:ae,AssignmentExpression:function(ye){ye.operator=="="&&ae(ye)},ObjectExpression:function(ye){for(var ge=0;ge<ye.properties.length;++ge)ae(ye.properties[ge])},CallExpression:function(ye){E(ye)&&ae(ye)}})}function E(xe){return xe.callee.type=="MemberExpression"&&xe.callee.object.name=="Object"&&xe.callee.property.name=="defineProperty"&&xe.arguments.length>=3&&typeof xe.arguments[1].value=="string"}function _(xe,ne){oe(xe.sourceFile.text,ne),u.simple(xe,{VariableDeclaration:function(ae,ye){ae.commentsBefore&&R(ae,ae.commentsBefore,ye,ye.getProp(ae.declarations[0].id.name))},FunctionDeclaration:function(ae,ye){ae.commentsBefore&&R(ae,ae.commentsBefore,ye,ye.getProp(ae.id.name),ae.body.scope.fnType)},AssignmentExpression:function(ae,ye){ae.commentsBefore&&R(ae,ae.commentsBefore,ye,l.expressionType({node:ae.left,state:ye}))},ObjectExpression:function(ae,ye){for(var ge=0;ge<ae.properties.length;++ge){var we=ae.properties[ge];we.commentsBefore&&R(we,we.commentsBefore,ye,ae.objType.getProp(we.key.name))}},CallExpression:function(ae,ye){if(ae.commentsBefore&&E(ae)){var ge=l.expressionType({node:ae.arguments[0],state:ye}).getObjType();if(ge&&ge instanceof l.Obj){var we=ge.props[ae.arguments[1].value];we&&R(ae,ae.commentsBefore,ye,we)}}}},l.searchVisitor,ne)}function k(xe){var ne=xe["!typedef"],ae=l.cx(),ye=xe["!name"];if(ne)for(var ge in ne)ae.parent.jsdocTypedefs[ge]=Y(l.def.parse(ne[ge],ye,ge),ge)}function R(xe,ne,ae,ye,ge){ue(xe,ae,ye,ne);var we=l.cx();!ge&&ye instanceof l.AVal&&ye.types.length&&(ge=ye.types[ye.types.length-1],(!(ge instanceof l.Obj)||ge.origin!=we.curOrigin||ge.doc)&&(ge=null));var le=ne[ne.length-1];if(we.parent._docComment.fullDocs)le=le.trim().replace(/\n[ \t]*\* ?/g,`
`);else{var ie=le.search(/\.\s/);ie>5&&(le=le.slice(0,ie+1)),le=le.trim().replace(/\s*\n\s*\*\s*|\s{1,}/g," ")}le=le.replace(/^\s*\*+\s*/,""),ye instanceof l.AVal&&(ye.doc=le),ge&&(ge.doc=le)}function P(xe,ne){for(;/\s/.test(xe.charAt(ne));)++ne;return ne}function B(xe){if(!s.isIdentifierStart(xe.charCodeAt(0)))return!1;for(var ne=1;ne<xe.length;ne++)if(!s.isIdentifierChar(xe.charCodeAt(ne)))return!1;return!0}function O(xe,ne,ae,ye){for(var ge=[],we=[],le=!1,ie=!0;ae=P(ne,ae),!(ie&&ne.charAt(ae)==ye);ie=!1){var he=ne.indexOf(":",ae);if(he<0)return null;var de=ne.slice(ae,he);if(!B(de))return null;ge.push(de),ae=he+1;var Se=H(xe,ne,ae);if(!Se)return null;ae=Se.end,le=le||Se.madeUp,we.push(Se.type),ae=P(ne,ae);var Be=ne.charAt(ae);if(++ae,Be==ye)break;if(Be!=",")return null}return{labels:ge,types:we,end:ae,madeUp:le}}function H(xe,ne,ae){for(var ye,ge=!1,we=!1;;){var le=z(xe,ne,ae);if(!le)return null;if(we=we||le.madeUp,ge?le.type.propagate(ge):ye=le.type,ae=P(ne,le.end),ne.charAt(ae)!="|")break;ae++,ge||(ge=new l.AVal,ye.propagate(ge),ye=ge)}var ie=!1;return ne.charAt(ae)=="="&&(++ae,ie=!0),{type:ye,end:ae,isOptional:ie,madeUp:we}}function z(xe,ne,ae){ae=P(ne,ae);var ye,ge=!1;if(ne.indexOf("function(",ae)==ae){var we=O(xe,ne,ae+9,")"),le=l.ANull;if(!we)return null;if(ae=P(ne,we.end),ne.charAt(ae)==":"){++ae;var ie=H(xe,ne,ae+1);if(!ie)return null;ae=ie.end,le=ie.type,ge=ie.madeUp}ye=new l.Fn(null,l.ANull,we.types,we.labels,le)}else if(ne.charAt(ae)=="["){var he=H(xe,ne,ae+1);if(!he||(ae=P(ne,he.end),ge=he.madeUp,ne.charAt(ae)!="]"))return null;++ae,ye=new l.Arr(he.type)}else if(ne.charAt(ae)=="{"){var de=O(xe,ne,ae+1,"}");if(!de)return null;ye=new l.Obj(!0);for(var Se=0;Se<de.types.length;++Se){var Be=ye.defProp(de.labels[Se]);Be.initializer=!0,de.types[Se].propagate(Be)}ae=de.end,ge=de.madeUp}else if(ne.charAt(ae)=="("){var he=H(xe,ne,ae+1);if(!he||(ae=P(ne,he.end),ne.charAt(ae)!=")"))return null;++ae,ye=he.type}else{var Le=ae;if(!s.isIdentifierStart(ne.charCodeAt(ae)))return null;for(;s.isIdentifierChar(ne.charCodeAt(ae));)++ae;if(Le==ae)return null;var nt=ne.slice(Le,ae);if(/^(number|integer)$/i.test(nt))ye=l.cx().num;else if(/^bool(ean)?$/i.test(nt))ye=l.cx().bool;else if(/^string$/i.test(nt))ye=l.cx().str;else if(/^(null|undefined)$/i.test(nt))ye=l.ANull;else if(/^array$/i.test(nt)){var he=null;if(ne.charAt(ae)=="."&&ne.charAt(ae+1)=="<"){var He=H(xe,ne,ae+2);if(!He||(ae=P(ne,He.end),ge=He.madeUp,ne.charAt(ae++)!=">"))return null;he=He.type}ye=new l.Arr(he)}else if(/^object$/i.test(nt)){if(ye=new l.Obj(!0),ne.charAt(ae)=="."&&ne.charAt(ae+1)=="<"){var ce=H(xe,ne,ae+2);if(!ce||(ae=P(ne,ce.end),ne.charAt(ae++)!=","))return null;var Re=H(xe,ne,ae);if(!Re||(ae=P(ne,Re.end),ge=ce.madeUp||Re.madeUp,ne.charAt(ae++)!=">"))return null;Re.type.propagate(ye.defProp("<i>"))}}else{for(;ne.charCodeAt(ae)==46||s.isIdentifierChar(ne.charCodeAt(ae));)++ae;var lt=ne.slice(Le,ae),Te=l.cx(),Ye=Te.parent&&Te.parent.jsdocTypedefs,mt;Ye&&lt in Ye?ye=Ye[lt]:(mt=l.def.parsePath(lt,xe).getObjType())?ye=Y(mt,lt):(Te.jsdocPlaceholders||(Te.jsdocPlaceholders=Object.create(null)),lt in Te.jsdocPlaceholders?ye=Te.jsdocPlaceholders[lt]:ye=Te.jsdocPlaceholders[lt]=new l.Obj(null,lt),ge=!0)}}return{type:ye,end:ae,madeUp:ge}}function Y(xe,ne){if(xe instanceof l.Fn&&/^[A-Z]/.test(ne)){var ae=xe.getProp("prototype").getObjType();if(ae instanceof l.Obj)return l.getInstance(ae)}return xe}function ee(xe,ne,ae){if(ae=P(ne,ae||0),ne.charAt(ae)!="{")return null;var ye=H(xe,ne,ae+1);if(!ye)return null;var ge=P(ne,ye.end);return ne.charAt(ge)!="}"?null:(ye.end=ge+1,ye)}function ue(xe,ne,ae,ye){for(var ge,we,le,ie,he,de,Se=0;Se<ye.length;++Se)for(var Be=ye[Se],Le=/(?:\n|\$|\*)\s*@(type|param|arg(?:ument)?|returns?|this)\s+(.*)/g,nt;nt=Le.exec(Be);){if(nt[1]=="this"&&(de=H(ne,nt[2],0))){he=de,ie=!0;continue}if(!!(de=ee(ne,nt[2])))switch(ie=!0,nt[1]){case"returns":case"return":le=de;break;case"type":ge=de;break;case"param":case"arg":case"argument":var He=nt[2].slice(de.end).match(/^\s*(\[?)\s*([^\]\s=]+)\s*(?:=[^\]]+\s*)?(\]?).*/);if(!He)continue;var ce=He[2]+(de.isOptional||He[1]==="["&&He[3]==="]"?"?":"");(we||(we=Object.create(null)))[ce]=de;break}}ie&&be(ge,he,we,le,xe,ae)}function oe(xe,ne){for(var ae=l.cx(),ye=/\s@typedef\s+(.*)/g,ge;ge=ye.exec(xe);){var we=ee(ne,ge[1]),le=we&&ge[1].slice(we.end).match(/^\s*(\S+)/);le&&(ae.parent.jsdocTypedefs[le[1]]=we.type)}}function Ae(xe,ne){var ae=l.cx().parent._docComment.weight;xe.type.propagate(ne,ae||(xe.madeUp?p:void 0))}function be(xe,ne,ae,ye,ge,we){var le;if(ge.type=="VariableDeclaration"){var ie=ge.declarations[0];ie.init&&ie.init.type=="FunctionExpression"&&(le=ie.init.body.scope.fnType)}else ge.type=="FunctionDeclaration"?le=ge.body.scope.fnType:ge.type=="AssignmentExpression"?ge.right.type=="FunctionExpression"&&(le=ge.right.body.scope.fnType):ge.type=="CallExpression"||ge.value.type=="FunctionExpression"&&(le=ge.value.body.scope.fnType);if(le&&(ae||ye||ne)){if(ae)for(var he=0;he<le.argNames.length;++he){var de=le.argNames[he],Se=ae[de];!Se&&(Se=ae[de+"?"])&&(le.argNames[he]+="?"),Se&&Ae(Se,le.args[he])}ye&&Ae(ye,le.retval),ne&&Ae(ne,le.self)}else xe&&Ae(xe,we)}});(function(l){if(typeof exports=="object"&&typeof module=="object")return l(require("./js/ternjs/tern/lib/infer"),require("./js/ternjs/lib/tern"));if(typeof define=="function"&&define.amd)return define(["./js/ternjs/lib/infer","./js/ternjs/lib/tern"],l);l(tern,tern)})(function(l,t){t.registerPlugin("threejs",function(i,s){return{defs:{"!name":"threejs",THREE:{Original:{"!url":"http://threejs.org/docs/#Reference/Original",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"todo"},Camera:{"!url":"http://threejs.org/docs/#Reference/cameras/Camera",prototype:{"!proto":"THREE.Object3D.prototype",matrixWorldInverse:{"!type":"+THREE.Matrix4","!doc":"This is the inverse of matrixWorld. MatrixWorld contains the Matrix which has the world transform of the Camera."},projectionMatrix:{"!type":"+THREE.Matrix4","!doc":"This is the matrix which contains the projection."},lookAt:{"!type":"fn(vector: +THREE.Vector3)","!doc":`vector \u2014 point to look at<br>
		<br>
		This makes the camera look at the vector position in the global space as long as the parent of this camera is the scene or at position (0,0,0).`}},"!doc":"Abstract base class for cameras. This class should always be inherited when you build a new camera.","!type":"fn()"},CubeCamera:{"!url":"http://threejs.org/docs/#Reference/cameras/CubeCamera",prototype:{"!proto":"THREE.Object3D.prototype",renderTarget:{"!type":"+THREE.WebGLRenderTargetCube","!doc":"The cube texture that gets generated."},updateCubeMap:{"!type":"fn(renderer: todo, scene: todo) -> todo","!doc":"Call this to update the renderTarget."}},"!doc":"Creates 6 cameras that render to a [page:WebGLRenderTargetCube].","!type":"fn(near: number, far: number, cubeResolution: number)"},OrthographicCamera:{"!url":"http://threejs.org/docs/#Reference/cameras/OrthographicCamera",prototype:{"!proto":"THREE.Camera.prototype",left:{"!type":"number","!doc":"Camera frustum left plane."},right:{"!type":"number","!doc":"Camera frustum right plane."},top:{"!type":"number","!doc":"Camera frustum top plane."},bottom:{"!type":"number","!doc":"Camera frustum bottom plane."},near:{"!type":"number","!doc":"Camera frustum near plane."},far:{"!type":"number","!doc":"Camera frustum far plane."},updateProjectionMatrix:{"!type":"fn()","!doc":"Updates the camera projection matrix. Must be called after change of parameters."}},"!doc":"Camera with orthographic projection.","!type":"fn(left: number, right: number, top: number, bottom: number, near: number, far: number)"},PerspectiveCamera:{"!url":"http://threejs.org/docs/#Reference/cameras/PerspectiveCamera",prototype:{"!proto":"THREE.Camera.prototype",fov:{"!type":"number","!doc":"Camera frustum vertical field of view, from bottom to top of view, in degrees."},aspect:{"!type":"number","!doc":"Camera frustum aspect ratio, window width divided by window height."},near:{"!type":"number","!doc":"Camera frustum near plane."},far:{"!type":"number","!doc":"Camera frustum far plane."},setLens:{"!type":"fn(focalLength: number, frameSize: number)","!doc":`Uses focal length (in mm) to estimate and set FOV 35mm (fullframe) camera is used if frame size is not specified.<br>
		Formula based on [link:http://www.bobatkins.com/photography/technical/field_of_view.html]`},setViewOffset:{"!type":"fn(fullWidth: number, fullHeight: number, x: number, y: number, width: number, height: number)","!doc":`For example, if you have 3x2 monitors and each monitor is 1920x1080 and the monitors are in grid like this:<br>

		<pre>+---+---+---+
| A | B | C |
+---+---+---+
| D | E | F |
+---+---+---+</pre>

		then for each monitor you would call it like this:<br>

		<code>var w = 1920;
var h = 1080;
var fullWidth = w * 3;
var fullHeight = h * 2;

// A
camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );
// B
camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );
// C
camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );
// D
camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );
// E
camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );
// F
camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );
</code>

		Note there is no reason monitors have to be the same size or in a grid.`},updateProjectionMatrix:{"!type":"fn()","!doc":"Updates the camera projection matrix. Must be called after change of parameters."}},"!doc":"Camera with perspective projection.","!type":"fn(fov: number, aspect: number, near: number, far: number)"},CustomBlendingEquations:{"!url":"http://threejs.org/docs/#Reference/constants/CustomBlendingEquations",prototype:{}},GLState:{"!url":"http://threejs.org/docs/#Reference/constants/GLState",prototype:{}},Materials:{"!url":"http://threejs.org/docs/#Reference/constants/Materials",prototype:{}},ShadowingTypes:{"!url":"http://threejs.org/docs/#Reference/constants/ShadowingTypes",prototype:{}},Textures:{"!url":"http://threejs.org/docs/#Reference/constants/Textures",prototype:{}},BufferAttribute:{"!url":"http://threejs.org/docs/#Reference/core/BufferAttribute",prototype:{array:{"!type":"[]","!doc":"Stores the data associated with this attribute; can be an Array or a Typed Array. This element should have <code>itemSize * numVertices</code> elements, where numVertices is the number of vertices in the associated [page:BufferGeometry geometry]."},itemSize:{"!type":"number","!doc":`Records how many items of the array are associated with a particular vertex. For instance, if this
		attribute is storing a 3-component vector (such as a position, normal, or color), then itemSize should be 3.`},length:{"!type":"number","!doc":"Gives the total number of elements in the array."},needsUpdate:{"!type":"bool","!doc":"Flag to indicate that this attribute has changed and should be re-send to the GPU. Set this to true when you modify the value of the array."},setX:{"!type":"fn(index, x)","!doc":"Sets the value of the array at <code>index * itemSize</code> to x"},setY:{"!type":"fn(index, y)","!doc":"Sets the value of the array at <code>index * itemSize + 1</code> to y"},setZ:{"!type":"fn(index, z)","!doc":"Sets the value of the array at <code>index * itemSize + 2</code> to z"},setXY:{"!type":"fn(index, x, y)","!doc":`Sets the value of the array at <code>index * itemSize</code> to x and 
		sets the value of the array at <code>index * itemSize + 1</code> to y`},setXYZ:{"!type":"fn(index, x, y, z)","!doc":`Sets the value of the array at <code>index * itemSize</code> to x,
		the value of the array at <code>index * itemSize + 1</code> to y, and
		the value of the array at <code>index * itemSize + 2</code> to z.`},setXYZW:{"!type":"fn(index, x, y, z, w)","!doc":`Sets the value of the array at <code>index * itemSize</code> to x,
		the value of the array at <code>index * itemSize + 1</code> to y, 
		the value of the array at <code>index * itemSize + 2</code> to z, and
		the value of the array at <code>index * itemSize + 3</code> to w.`},clone:{"!type":"fn() -> +THREE.BufferAttribute","!doc":"Copies this attribute."}},"!doc":"This class stores data for an attribute associated with a [page:BufferGeometry]. See that page for details and a usage example. This class is used to store builtin attributes such as vertex position, normals, color, etc., but can also be used in your code to store custom attributes in a [page:BufferGeometry].","!type":"fn(array: [], itemSize: number)"},BufferGeometry:{"!url":"http://threejs.org/docs/#Reference/core/BufferGeometry",prototype:{id:{"!type":"number","!doc":"Unique number for this buffergeometry instance."},attributes:{"!type":"Hashmap","!doc":`This hashmap has as id the name of the attribute to be set and as value the [page:BufferAttribute buffer] to set it to.
		Rather than accessing this property directly, use addAttribute and getAttribute to access attributes of this geometry.`},drawCalls:{"!type":"[]","!doc":`For geometries that use indexed triangles, this Array can be used to split the object into multiple WebGL draw calls. Each draw call will draw some subset of the vertices in this geometry using the configured [page:Material shader]. This may be necessary if, for instance, you have more than 65535 vertices in your object. 
		Each element is an object of the form:
		<code>{ start: Integer, count: Integer, index: Integer }</code>
		where start specifies the index of the first vertex in this draw call, count specifies how many vertices are included, and index specifies an optional offset.

		Use addDrawCall to add draw calls, rather than modifying this array directly.`},boundingBox:{"!type":"+THREE.Box3","!doc":`Bounding box.
		<code>{ min: new THREE.Vector3(), max: new THREE.Vector3() }</code>`},boundingSphere:{"!type":"+THREE.Sphere","!doc":`Bounding sphere.
		<code>{ radius: float }</code>`},morphTargets:{"!type":"[]","!doc":`Array of morph targets. Each morph target is a Javascript object:
		<code>{ name: "targetName", vertices: [ new THREE.Vertex(), ... ] }</code>
		Morph vertices match number and order of primary vertices.`},addAttribute:{"!type":"null","!doc":`Adds an attribute to this geometry. Use this rather than the attributes property, 
		because an internal array of attributes is maintained to speed up iterating over
		attributes.`},addDrawCall:{"!type":"fn(start: number, count: number, indexOffset: number)","!doc":"Adds a draw call to this geometry; see the drawcalls property for details."},applyMatrix:{"!type":"fn(matrix: +THREE.Matrix4)","!doc":"Bakes matrix transform directly into vertex coordinates."},computeVertexNormals:{"!type":"fn()","!doc":"Computes vertex normals by averaging face normals.<br>"},computeBoundingBox:{"!type":"fn()","!doc":`Computes bounding box of the geometry, updating [page:Geometry Geometry.boundingBox] attribute.<br>
		Bounding boxes aren't computed by default. They need to be explicitly computed, otherwise they are *null*.`},computeBoundingSphere:{"!type":"fn()","!doc":`Computes bounding sphere of the geometry, updating [page:Geometry Geometry.boundingSphere] attribute.<br>
		Bounding spheres aren't computed by default. They need to be explicitly computed, otherwise they are *null*.`},dispose:{"!type":"fn()","!doc":`Disposes the object from memory. <br>
		You need to call this when you want the bufferGeometry removed while the application is running.`},fromGeometry:{"!type":"fn()","!doc":"Populates this BufferGeometry with data from a [page:Geometry] object."},getAttribute:{"!type":"fn(name: string) -> +THREE.BufferAttribute","!doc":"Returns the [page:BufferAttribute attribute] with the specified name."},normalizeNormals:{"!type":"fn()","!doc":`Every normal vector in a geometry will have a magnitude of 1.
		This will correct lighting on the geometry surfaces.`}},"!doc":`<p>
		This class is an efficient alternative to [page:Geometry], because it stores all data, including
		vertex positions, face indices, normals, colors, UVs, and custom attributes within buffers; this
		reduces the cost of passing all this data to the GPU. 
		This also makes BufferGeometry harder to work with than [page:Geometry]; rather than accessing 
		position data as [page:Vector3] objects, color data as [page:Color] objects, and so on, you have to 
		access the raw data from the appropriate [page:BufferAttribute attribute] buffer. This makes 
		BufferGeometry best-suited for static objects where you don't need to manipulate the geometry much
		after instantiating it.
		</p>

		<h3>Example</h3>
		<code>
		var geometry = new THREE.BufferGeometry();
		// create a simple square shape. We duplicate the top left and bottom right
		// vertices because each vertex needs to appear once per triangle. 
		var vertexPositions = [ 
			[-1.0, -1.0,  1.0],
			[ 1.0, -1.0,  1.0],
			[ 1.0,  1.0,  1.0],

			[ 1.0,  1.0,  1.0],
			[-1.0,  1.0,  1.0],
			[-1.0, -1.0,  1.0]
		];
		var vertices = new Float32Array( vertexPositions.length * 3 ); // three components per vertex

		// components of the position vector for each vertex are stored
		// contiguously in the buffer.
		for ( var i = 0; i &lt; vertexPositions.length; i++ )
		{
			vertices[ i*3 + 0 ] = vertexPositions[i][0];
			vertices[ i*3 + 1 ] = vertexPositions[i][1];
			vertices[ i*3 + 2 ] = vertexPositions[i][2];
		}

		// itemSize = 3 because there are 3 values (components) per vertex
		geometry.setAttribute( 'position', new THREE.BufferAttribute( vertices, 3 ) );
		var material = new THREE.MeshBasicMaterial( { color: 0xff0000 } );
		var mesh = new THREE.Mesh( geometry, material );
		</code>
		<p>More examples: [example:webgl_buffergeometry Complex mesh with non-indexed faces], [example:webgl_buffergeometry_uint Complex mesh with indexed faces], [example:webgl_buffergeometry_lines Lines], [example:webgl_buffergeometry_lines_indexed Indexed Lines], [example:webgl_buffergeometry_particles Particles], and [example:webgl_buffergeometry_rawshader Raw Shaders].</p>

		
		<h3>Accessing attributes</h3>
		<p>
		WebGL stores data associated with individual vertices of a geometry in <emph>attributes</emph>. 
		Examples include the position of the vertex, the normal vector for the vertex, the vertex color,
		and so on. When using [page:Geometry], the [page:WebGLRenderer renderer] takes care of wrapping
		up this information into typed array buffers and sending this data to the shader. With 
		BufferGeometry, all of this data is stored in buffers associated with an individual attributes.
		This means that to get the position data associated with a vertex (for instance), you must call
		[page:.getAttribute] to access the 'position' [page:BufferAttribute attribute], then access the individual 
		x, y, and z coordinates of the position.  
		</p>
		<p>
		The following attributes are set by various members of this class:
		</p>
		<h4>[page:BufferAttribute position] (itemSize: 3)</h4>
		<div>
		Stores the x, y, and z coordinates of each vertex in this geometry. Set by [page:.fromGeometry]().
		</div>

		<h4>[page:BufferAttribute normal] (itemSize: 3)</h4>
		<div>
		Stores the x, y, and z components of the face or vertex normal vector of each vertex in this geometry.
		Set by [page:.fromGeometry]().
		</div>

		<h4>[page:BufferAttribute color] (itemSize: 3)</h4>
		<div>
		Stores the red, green, and blue channels of vertex color of each vertex in this geometry.
		Set by [page:.fromGeometry]().
		</div>

		<h4>[page:BufferAttribute tangent] (itemSize: 3)</h4>
		<div>
		Stores the x, y, and z components of the tangent vector of each vertex in this geometry. Set by [page:.computeTangents]().
		</div>

		<h4>[page:BufferAttribute index] (itemSize: 3)</h4>
		Allows for vertices to be re-used across multiple triangles; this is called using "indexed triangles," and works much the same as it does in [page:Geometry]: each triangle is associated with the index of three vertices. This attribute therefore stores the index of each vertex for each triangular face.

		If this attribute is not set, the [page:WebGLRenderer renderer] assumes that each three contiguous positions represent a single triangle.`,"!type":"fn()"},Clock:{"!url":"http://threejs.org/docs/#Reference/core/Clock",prototype:{autoStart:{"!type":"bool","!doc":"If set, starts the clock automatically when the first update is called."},startTime:{"!type":"number","!doc":`When the clock is running, It holds the start time of the clock. <br>
		This counted from the number of milliseconds elapsed since 1 January 1970 00:00:00 UTC.`},oldTime:{"!type":"number","!doc":`When the clock is running, It holds the previous time from a update.<br>
		This counted from the number of milliseconds elapsed since 1 January 1970 00:00:00 UTC.`},elapsedTime:{"!type":"number","!doc":`When the clock is running, It holds the time elapsed between the start of the clock to the previous update.<br>
		This counted from the number of milliseconds elapsed since 1 January 1970 00:00:00 UTC.`},running:{"!type":"bool","!doc":"This property keeps track whether the clock is running or not."},start:{"!type":"fn()","!doc":"Starts clock."},stop:{"!type":"fn()","!doc":"Stops clock."},getElapsedTime:{"!type":"fn() -> number","!doc":"Get the seconds passed since the clock started."},getDelta:{"!type":"fn() -> number","!doc":"Get the seconds passed since the last call to this method."}},"!doc":"Object for keeping track of time.","!type":"fn(autoStart: bool)"},EventDispatcher:{"!url":"http://threejs.org/docs/#Reference/core/EventDispatcher",prototype:{addEventListener:{"!type":"fn(type: string, listener: function)","!doc":"Adds a listener to an event type."},hasEventListener:{"!type":"fn(type: string, listener: function) -> bool","!doc":"Checks if listener is added to an event type."},removeEventListener:{"!type":"fn(type: string, listener: function)","!doc":"Removes a listener from an event type."},dispatchEvent:{"!type":"fn(type: string)","!doc":"Fire an event type."}},"!doc":`JavaScript events for custom objects.<br>
		<a href="https://github.com/mrdoob/eventdispatcher.js">https://github.com/mrdoob/eventdispatcher.js</a>`,"!type":"fn()"},Face3:{"!url":"http://threejs.org/docs/#Reference/core/Face3",prototype:{a:{"!type":"number","!doc":"Vertex A index."},b:{"!type":"number","!doc":"Vertex B index."},c:{"!type":"number","!doc":"Vertex C index."},normal:{"!type":"+THREE.Vector3","!doc":"Face normal."},color:{"!type":"+THREE.Color","!doc":"Face color."},vertexNormals:{"!type":"[]","!doc":"Array of 3 vertex normals."},vertexColors:{"!type":"[]","!doc":"Array of 3 vertex colors."},materialIndex:{"!type":"number","!doc":"Material index (points to [page:MultiMaterial MultiMaterial.materials])."},clone:{"!type":"fn() -> +THREE.Face3","!doc":"Creates a new clone of the Face3 object."}},"!doc":"Triangle face.","!type":"fn(a: number, b: number, c: number, normal: +THREE.Vector3, color: +THREE.Color, materialIndex: number)"},Geometry:{"!url":"http://threejs.org/docs/#Reference/core/Geometry",prototype:{id:{"!type":"number","!doc":"Unique number for this geometry instance."},name:{"!type":"string","!doc":"Name for this geometry. Default is an empty string."},vertices:{"!type":"[]","!doc":`Array of [page:Vector3 vertices].<br>
		The array of vertices holds every position of points in the model.<br>
		To signal an update in this array, [page:Geometry Geometry.verticesNeedUpdate] needs to be set to true.`},colors:{"!type":"[]","!doc":`Array of vertex [page:Color colors], matching number and order of vertices.<br>
		Used in [page:PointCloud] and [page:Line].<br>
		[page:Mesh Meshes] use per-face-use-of-vertex colors embedded directly in faces.<br>
		To signal an update in this array, [page:Geometry Geometry.colorsNeedUpdate] needs to be set to true.`},faces:{"!type":"[]","!doc":`Array of [page:Face3 triangles].<br>
		The array of faces describe how each vertex in the model is connected with each other.<br>
		To signal an update in this array, [page:Geometry Geometry.elementsNeedUpdate] needs to be set to true.`},faceVertexUvs:{"!type":"[]","!doc":`Array of face [page:UV] layers.<br>
		Each UV layer is an array of [page:UV]s matching the order and number of vertices in faces.<br>
		To signal an update in this array, [page:Geometry Geometry.uvsNeedUpdate] needs to be set to true.`},morphTargets:{"!type":"[]","!doc":`Array of morph targets. Each morph target is a Javascript object:
		<code>{ name: "targetName", vertices: [ new THREE.Vector3(), ... ] }</code>
		Morph vertices match number and order of primary vertices.`},morphNormals:{"!type":"[]","!doc":`Array of morph normals. Morph normals have similar structure as morph targets, each normal set is a Javascript object:
		<code>morphNormal = { name: "NormalName", normals: [ new THREE.Vector3(), ... ] }</code>`},skinWeights:{"!type":"[]","!doc":"Array of skinning weights, matching number and order of vertices."},skinIndices:{"!type":"[]","!doc":"Array of skinning indices, matching number and order of vertices."},boundingBox:{"!type":"object","!doc":`Bounding box.
		<code>{ min: new THREE.Vector3(), max: new THREE.Vector3() }</code>`},boundingSphere:{"!type":"object","!doc":`Bounding sphere.
		<code>{ radius: float }</code>`},dynamic:{"!type":"bool","!doc":`Set to *true* if attribute buffers will need to change in runtime (using "dirty" flags).<br>
		Unless set to true internal typed arrays corresponding to buffers will be deleted once sent to GPU.<br>
		Defaults to true.`},verticesNeedUpdate:{"!type":"bool","!doc":"Set to *true* if the vertices array has been updated."},elementsNeedUpdate:{"!type":"bool","!doc":"Set to *true* if the faces array has been updated."},uvsNeedUpdate:{"!type":"bool","!doc":"Set to *true* if the uvs array has been updated."},normalsNeedUpdate:{"!type":"bool","!doc":"Set to *true* if the normals array has been updated."},colorsNeedUpdate:{"!type":"bool","!doc":"Set to *true* if the colors array has been updated."},lineDistancesNeedUpdate:{"!type":"bool","!doc":"Set to *true* if the linedistances array has been updated."},lineDistances:{"!type":"array","!doc":`An array containing distances between vertices for Line geometries.
		This is required for LinePieces/LineDashedMaterial to render correctly.
		Line distances can also be generated with computeLineDistances.`},applyMatrix:{"!type":"fn(matrix: +THREE.Matrix4)","!doc":"Bakes matrix transform directly into vertex coordinates."},computeFaceNormals:{"!type":"fn()","!doc":"Computes face normals."},computeVertexNormals:{"!type":"fn()","!doc":`Computes vertex normals by averaging face normals.<br>
		Face normals must be existing / computed beforehand.`},computeMorphNormals:{"!type":"fn()","!doc":"Computes morph normals."},computeBoundingBox:{"!type":"fn()","!doc":"Computes bounding box of the geometry, updating [page:Geometry Geometry.boundingBox] attribute."},computeBoundingSphere:{"!type":"fn()","!doc":"Neither bounding boxes or bounding spheres are computed by default. They need to be explicitly computed, otherwise they are *null*."},merge:{"!type":"fn(geometry: +THREE.Geometry, matrix: +THREE.Matrix4, materialIndexOffset: number)","!doc":"Merge two geometries or geometry and geometry from object (using object's transform)"},mergeVertices:{"!type":"fn()","!doc":`Checks for duplicate vertices using hashmap.<br>
		Duplicated vertices are removed and faces' vertices are updated.`},clone:{"!type":"fn() -> +THREE.Geometry","!doc":"Creates a new clone of the Geometry."},dispose:{"!type":"fn()","!doc":`Removes The object from memory. <br>
		Don't forget to call this method when you remove a geometry because it can cause memory leaks.`}},"!doc":`Base class for geometries.<br>
		A geometry holds all data necessary to describe a 3D model.`,"!type":"fn()"},Object3D:{"!url":"http://threejs.org/docs/#Reference/core/Object3D",prototype:{id:{"!type":"number","!doc":"readonly \u2013 Unique number for this object instance."},uuid:{"!type":"string","!doc":`[link:http://en.wikipedia.org/wiki/Universally_unique_identifier UUID] of this object instance.
		This gets automatically assigned, so this shouldn't be edited.`},name:{"!type":"string","!doc":"Optional name of the object (doesn't need to be unique)."},parent:{"!type":"+THREE.Object3D","!doc":"Object's parent in the scene graph."},children:{"!type":"+THREE.Object3D","!doc":"Array with object's children."},position:{"!type":"+THREE.Vector3","!doc":"Object's local position."},rotation:{"!type":"+THREE.Euler","!doc":`Object's local rotation (<a href="https://en.wikipedia.org/wiki/Euler_angles" target="_blank">Euler angles</a>), in radians.`},scale:{"!type":"+THREE.Vector3","!doc":"Object's local scale."},up:{"!type":"+THREE.Vector3","!doc":"Up direction."},matrix:{"!type":"+THREE.Matrix4","!doc":"Local transform."},quaternion:{"!type":"+THREE.Quaternion","!doc":"Object's local rotation as [page:Quaternion Quaternion]."},visible:{"!type":"bool","!doc":"default \u2013 true"},castShadow:{"!type":"bool","!doc":"default \u2013 false"},receiveShadow:{"!type":"bool","!doc":"default \u2013 false"},frustumCulled:{"!type":"bool","!doc":"default \u2013 true"},matrixAutoUpdate:{"!type":"bool","!doc":"default \u2013 true"},matrixWorldNeedsUpdate:{"!type":"bool","!doc":"default \u2013 false"},userData:{"!type":"object","!doc":"An object that can be used to store custom data about the Object3d. It should not hold references to functions as these will not be cloned."},matrixWorld:{"!type":"+THREE.Matrix4","!doc":"The global transform of the object. If the Object3d has no parent, then it's identical to the local transform."},applyMatrix:{"!type":"fn(matrix: +THREE.Matrix4)","!doc":"This updates the position, rotation and scale with the matrix."},translateX:{"!type":"fn(distance: number)","!doc":"Translates object along x axis by distance."},translateY:{"!type":"fn(distance: number)","!doc":"Translates object along y axis by distance."},translateZ:{"!type":"fn(distance: number)","!doc":"Translates object along z axis by distance."},localToWorld:{"!type":"fn(vector: +THREE.Vector3) -> +THREE.Vector3","!doc":"Updates the vector from local space to world space."},worldToLocal:{"!type":"fn(vector: +THREE.Vector3) -> +THREE.Vector3","!doc":"Updates the vector from world space to local space."},lookAt:{"!type":"fn(vector: +THREE.Vector3)","!doc":"Rotates object to face point in space."},traverse:{"!type":"fn(callback: function)","!doc":"Executes the callback on this object and all descendants."},traverseVisible:{"!type":"fn(callback: function)","!doc":`Like traverse, but the callback will only be executed for visible objects.
		Descendants of invisible objects are not traversed.`},traverseAncestors:{"!type":"fn(callback: function)","!doc":"Executes the callback on this object and all ancestors."},updateMatrix:{"!type":"fn()","!doc":"Updates local transform."},updateMatrixWorld:{"!type":"fn(force: bool)","!doc":"Updates global transform of the object and its children."},clone:{"!type":"fn() -> +THREE.Object3D","!doc":"Creates a new clone of this object and all descendants."},getObjectByName:{"!type":"fn(name: string) -> +THREE.Object3D","!doc":"Searches through the object's children and returns the first with a matching name."},getObjectById:{"!type":"fn(id: number) -> +THREE.Object3D","!doc":"Searches through the object's children and returns the first with a matching id."},translateOnAxis:{"!type":"fn(axis: +THREE.Vector3, distance: number) -> +THREE.Object3D","!doc":"Translate an object by distance along an axis in object space. The axis is assumed to be normalized."},rotateOnAxis:{"!type":"fn(axis: +THREE.Vector3, angle: number) -> +THREE.Object3D","!doc":"Rotate an object along an axis in object space. The axis is assumed to be normalized."},raycast:{"!type":"fn(raycaster: +THREE.Raycaster, intersects: []) -> []","!doc":"Abstract method to get intersections between a casted ray and this object. Subclasses such as [page:Mesh], [page:Line], and [page:PointCloud] implement this method in order to participate in raycasting."}},"!doc":"Base class for scene graph objects.","!type":"fn()"},Raycaster:{"!url":"http://threejs.org/docs/#Reference/core/Raycaster",prototype:{ray:{"!type":"+THREE.Ray","!doc":"The Ray used for the raycasting."},near:{"!type":"float","!doc":`The near factor of the raycaster. This value indicates which objects can be discarded based on the distance.<br>
		This value shouldn't be negative and should be smaller than the far property.`},far:{"!type":"float","!doc":`The far factor of the raycaster. This value indicates which objects can be discarded based on the distance.<br>
		This value shouldn't be negative and should be larger than the near property.`},precision:{"!type":"float","!doc":"The precision factor of the raycaster when intersecting [page:Mesh] objects."},set:{"!type":"fn(origin: +THREE.Vector3, direction: +THREE.Vector3)","!doc":"Updates the ray with a new origin and direction."},setFromCamera:{"!type":"fn(coords: +THREE.Vector2, camera: +THREE.Camera)","!doc":"Updates the ray with a new origin and direction."},intersectObject:{"!type":"fn(object: +THREE.Object3D, recursive: bool) -> []","!doc":`Checks all intersection between the ray and the object with or without the descendants. Intersections are returned sorted by distance, closest first. An array of intersections is returned...
        <code>
            [ { distance, point, face, faceIndex, indices, object }, ... ]
        </code>
        <p>
        [page:Float distance] \u2013 distance between the origin of the ray and the intersection<br>
        [page:Vector3 point] \u2013 point of intersection, in world coordinates<br>
        [page:Face3 face] \u2013 intersected face<br>
        [page:Integer faceIndex] \u2013 index of the intersected face<br>
        [page:Array indices] \u2013 indices of vertices comprising the intersected face<br>
        [page:Object3D object] \u2013 the intersected object
    	</p>
        <p>
        When intersecting a [page:Mesh] with a [page:BufferGeometry], the *faceIndex* will be *undefined*, and *indices* will be set; when intersecting a [page:Mesh] with a [page:Geometry], *indices* will be *undefined*. 
        </p>
		<p>
		*Raycaster* delegates to the [page:Object3D.raycast raycast] method of the passed object, when evaluating whether the ray intersects the object or not. This allows [page:Mesh meshes] to respond differently to ray casting than [page:Line lines] and [page:PointCloud pointclouds].
		</p>
		<p>
		*Note* that for meshes, faces must be pointed towards the origin of the [page:.ray ray] in order to be detected; intersections of the ray passing through the back of a face will not be detected. To raycast against both faces of an object, you'll want to set the [page:Mesh.material material]'s [page:Material.side side] property to *THREE.DoubleSide*.  
		</p>`},intersectObjects:{"!type":"fn(objects: [], recursive: bool) -> []","!doc":"Checks all intersection between the ray and the objects with or without the descendants. Intersections are returned sorted by distance, closest first. Intersections are of the same form as those returned by [page:.intersectObject]."}},"!doc":"This class makes raycasting easier. Raycasting is used for picking and more.","!type":"fn(origin: +THREE.Vector3, direction: +THREE.Vector3, near: number, far: number)"},Lut:{"!url":"http://threejs.org/docs/#Reference/examples/Lut",prototype:{minV:{"!type":"number","!doc":"The minimum value to be represented with the lookup table. Default is 0."},maxV:{"!type":"number","!doc":"The maximum value to be represented with the lookup table. Default is 1."},copy:{"!type":"fn(lut: +THREE.Lut)","!doc":"Copies given lut."},setminV:{"!type":"fn(minV: number) -> +THREE.Lut","!doc":"Sets this Lut with the minimum value to be represented."},setmaxV:{"!type":"fn(maxV: number) -> +THREE.Lut","!doc":"Sets this Lut with the maximum value to be represented."},changeNumberOfColors:{"!type":"fn(numberOfColors: number) -> +THREE.Lut","!doc":"Sets this Lut with the number of colors to be used."},changeColorMap:{"!type":"fn(colorMap: number) -> +THREE.Lut","!doc":"Sets this Lut with the colormap to be used."},addColorMap:{"!type":"fn(colorMapName, arrayOfColors) -> +THREE.Lut","!doc":"Insert a new color map into the set of available color maps."},getColor:{"!type":"fn(value) -> +THREE.Lut","!doc":"Returns a Three.Color."}},"!doc":"Represents a lookup table for colormaps. It is used to determine the color values from a range of data values.","!type":"fn(colormap, numberOfColors)"},FontUtils:{"!url":"http://threejs.org/docs/#Reference/extras/FontUtils",prototype:{divisions:{"!type":"number","!doc":"The amount of segments in a curve. Default is 10."},style:{"!type":"string","!doc":'The style of the used font. Default is "normal".'},weight:{"!type":"string","!doc":'The weight of the used font. Default is "normal".'},face:{"!type":"string","!doc":'The name of the font. Default is "helvetiker".'},faces:{"!type":"object","!doc":"All Fonts which are already loaded in."},size:{"!type":"number","!doc":"The size of the used Font. Default is 150."},drawText:{"!type":"fn(text: string) -> object","!doc":"Calculates the path and offset of the text in the used font. It returns an  object like { paths : fontPaths, offset : width }."},Triangulate:{"!type":"fn(contour: [], indices: bool) -> []","!doc":"Triangulates a contour into an array of faces."},extractGlyphPoints:{"!type":"fn(c: string, face: string, scale: number, offset: number, path: +THREE.Path) -> object","!doc":"This ectracts the glyphPoints of the character of the face and returns an object containing the path and the new offset."},generateShapes:{"!type":"fn(text: string, parameters: object) -> []","!doc":"Generates shapes from the text and return them as an Array of [page:Shape]."},loadFace:{"!type":"fn(data: object) -> object","!doc":"This loads and saves the data of the face and return the data. When you add the font Data as javascriptfile, then this automatically get called. So there is no need to do this yourself."},getFace:{"!type":"fn() -> object","!doc":"Returns the used font its data based on its style and weight."}},"!doc":"A class for text operations in three.js (See [page:TextGeometry])"},GeometryUtils:{"!url":"http://threejs.org/docs/#Reference/extras/GeometryUtils",prototype:{},"!doc":"Contains handy functions geometry manipulations."},Curve:{"!url":"http://threejs.org/docs/#Reference/extras/core/Curve",prototype:{getPoint:{"!type":"fn(t) -> Vector","!doc":"Returns a vector for point t of the curve where t is between 0 and 1"},getPointAt:{"!type":"fn(u) -> Vector","!doc":"Returns a vector for point at relative position in curve according to arc length"},getPoints:{"!type":"fn(divisions) -> []","!doc":"Get sequence of points using getPoint( t )"},getSpacedPoints:{"!type":"fn(divisions) -> []","!doc":"Get sequence of equi-spaced points using getPointAt( u )"},getLength:{"!type":"fn() -> number","!doc":"Get total curve arc length"},getLengths:{"!type":"fn(divisions) -> []","!doc":"Get list of cumulative segment lengths"},updateArcLengths:{"!type":"fn()","!doc":"Update the cumlative segment distance cache"},getUtoTmapping:{"!type":"fn(u, distance) -> number","!doc":"Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant"},getTangent:{"!type":"fn(t) -> Vector","!doc":"Returns a unit vector tangent at t. If the subclassed curve do not implement its tangent derivation, 2 points a small delta apart will be used to find its gradient which seems to give a reasonable approximation"},getTangentAt:{"!type":"fn(u) -> Vector","!doc":"Returns tangent at equidistant point u on the curve"}},"!doc":"An extensible curve object which contains methods for interpolation.","!type":"fn()"},CurvePath:{"!url":"http://threejs.org/docs/#Reference/extras/core/CurvePath",prototype:{"!proto":"THREE.Curve.prototype",curves:{"!type":"array","!doc":"todo"},bends:{"!type":"array","!doc":"todo"},autoClose:{"!type":"boolean","!doc":"todo"},add:{"!type":"fn(curve: todo) -> todo","!doc":"todo"},closePath:{"!type":"fn() -> todo","!doc":"todo"},getBoundingBox:{"!type":"fn() -> todo","!doc":"todo"},getCurveLengths:{"!type":"fn() -> todo","!doc":"todo"}},"!doc":"todo","!type":"fn()"},Gyroscope:{"!url":"http://threejs.org/docs/#Reference/extras/core/Gyroscope",prototype:{"!proto":"THREE.Object3D.prototype"},"!doc":"todo","!type":"fn()"},Path:{"!url":"http://threejs.org/docs/#Reference/extras/core/Path",prototype:{"!proto":"THREE.CurvePath.prototype",actions:{"!type":"array","!doc":"The possible actions that define the path."},setFromPoints:{"!type":"fn(vectors) -> todo","!doc":"Adds to the Path from the points. The first vector defines the offset. After that the lines get defined."},moveTo:{"!type":"fn(x, y) -> todo","!doc":"This moves the offset to x and y"},lineTo:{"!type":"fn(x, y) -> todo","!doc":"This creates a line from the offset to X and Y and updates the offset to X and Y."},quadraticCurveTo:{"!type":"fn(aCPx, aCPy, aX, aY) -> todo","!doc":"This creates a quadratic curve from the offset to aX and aY with aCPx and aCPy as control point and updates the offset to aX and aY."},bezierCurveTo:{"!type":"fn(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY) -> todo","!doc":"This creates a bezier curve from the offset to aX and aY with aCP1x, aCP1y and aCP1x, aCP1y  as control points and updates the offset to aX and aY."},arc:{"!type":"fn(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) -> todo","!doc":"todo"},absarc:{"!type":"fn(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) -> todo","!doc":"todo"},ellipse:{"!type":"fn(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise) -> todo","!doc":"todo"},absellipse:{"!type":"fn(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise) -> todo","!doc":"todo"},toShapes:{"!type":"fn() -> todo","!doc":"todo"}},"!doc":"A 2d path representation, comprising of points, lines, and cubes,  similar to the html5 2d canvas api. It extends CurvePath.","!type":"fn(points: todo)"},Shape:{"!url":"http://threejs.org/docs/#Reference/extras/core/Shape",prototype:{"!proto":"THREE.Path.prototype",holes:{"!type":"array","!doc":"todo"},extractPoints:{"!type":"fn(divisions: todo) -> todo","!doc":"todo"},getPointsHoles:{"!type":"fn(divisions: todo) -> todo","!doc":"Get points of holes"}},"!doc":"Defines a 2d shape plane using paths.","!type":"fn()"},ArcCurve:{"!url":"http://threejs.org/docs/#Reference/extras/curves/ArcCurve",prototype:{"!proto":"THREE.EllipseCurve.prototype"},"!doc":"Alias for [page:EllipseCurve]"},CubicBezierCurve:{"!url":"http://threejs.org/docs/#Reference/extras/curves/CubicBezierCurve",prototype:{"!proto":"THREE.Curve.prototype",v0:"+THREE.Vector2",v1:"+THREE.Vector2",v2:"+THREE.Vector2",v3:"+THREE.Vector2"},"!doc":'Create a smooth 2d <a href="http://en.wikipedia.org/wiki/B%C3%A9zier_curve#mediaviewer/File:Bezier_curve.svg" target="_blank">cubic bezier curve</a>.'},CubicBezierCurve3:{"!url":"http://threejs.org/docs/#Reference/extras/curves/CubicBezierCurve3",prototype:{"!proto":"THREE.Curve.prototype",v0:"+THREE.Vector3",v1:"+THREE.Vector3",v2:"+THREE.Vector3",v3:"+THREE.Vector3"},"!doc":'Create a smooth 3d <a href="http://en.wikipedia.org/wiki/B%C3%A9zier_curve#mediaviewer/File:Bezier_curve.svg" target="_blank">cubic bezier curve</a>.',"!type":"fn(v0: +THREE.Vector3, v1: +THREE.Vector3, v2: +THREE.Vector3, v3: +THREE.Vector3)"},EllipseCurve:{"!url":"http://threejs.org/docs/#Reference/extras/curves/EllipseCurve",prototype:{"!proto":"THREE.Curve.prototype",aX:"number",aY:"number",xRadius:"Radians",yRadius:"Radians",aStartAngle:"number",aEndAngle:"number",aClockwise:"bool"},"!doc":"Creates a 2d curve in the shape of an ellipse.","!type":"fn(aX: number, aY: number, xRadius: number, yRadius: number, aStartAngle: Radians, aEndAngle: Radians, aClockwise: bool)"},LineCurve:{"!url":"http://threejs.org/docs/#Reference/extras/curves/LineCurve",prototype:{"!proto":"THREE.Curve.prototype",v1:"+THREE.Vector2",v2:"+THREE.Vector2"},"!doc":"A curve representing a 2d line segment","!type":"fn(v1: +THREE.Vector2, v2: +THREE.Vector2)"},LineCurve3:{"!url":"http://threejs.org/docs/#Reference/extras/curves/LineCurve3",prototype:{"!proto":"THREE.Curve.prototype",v1:"+THREE.Vector3",v2:"+THREE.Vector3"},"!doc":"A curve representing a 3d line segment","!type":"fn(v1: +THREE.Vector3, v2: +THREE.Vector3)"},QuadraticBezierCurve:{"!url":"http://threejs.org/docs/#Reference/extras/curves/QuadraticBezierCurve",prototype:{"!proto":"THREE.Curve.prototype",v0:"+THREE.Vector2",v1:"+THREE.Vector2",v2:"+THREE.Vector2"},"!doc":'Create a smooth 2d <a href="http://en.wikipedia.org/wiki/B%C3%A9zier_curve#mediaviewer/File:B%C3%A9zier_2_big.gif" target="_blank">quadratic bezier curve</a>.',"!type":"fn(v0: +THREE.Vector2, v1: +THREE.Vector2, v2: +THREE.Vector2)"},QuadraticBezierCurve3:{"!url":"http://threejs.org/docs/#Reference/extras/curves/QuadraticBezierCurve3",prototype:{"!proto":"THREE.Curve.prototype",v0:"+THREE.Vector3",v1:"+THREE.Vector3",v2:"+THREE.Vector3"},"!doc":'Create a smooth 3d <a href="http://en.wikipedia.org/wiki/B%C3%A9zier_curve#mediaviewer/File:B%C3%A9zier_2_big.gif" target="_blank">quadratic bezier curve</a>.',"!type":"fn(v0: +THREE.Vector3, v1: +THREE.Vector3, v2: +THREE.Vector3)"},SplineCurve:{"!url":"http://threejs.org/docs/#Reference/extras/curves/SplineCurve",prototype:{"!proto":"THREE.Curve.prototype",points:"[]"},"!doc":"Create a smooth 2d spline curve from a series of points","!type":"fn(points: [])"},BoxGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/BoxGeometry",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"BoxGeometry is the quadrilateral primitive geometry class. It is typically used for creating a cube or irregular quadrilateral of the dimensions provided with the 'width', 'height', and 'depth' constructor arguments.","!type":"fn(width: number, height: number, depth: number, widthSegments: number, heightSegments: number, depthSegments: number)"},CircleGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/CircleGeometry",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"CircleGeometry is a simple shape of Euclidean geometry.  It is contructed from a number of triangular segments that are oriented around a central point and extend as far out as a given radius.  It is built counter-clockwise from a start angle and a given central angle.  It can also be used to create regular polygons, where the number of segments determines the number of sides.","!type":"fn(radius: number, segments: number, thetaStart: number, thetaLength: number)"},CubeGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/CubeGeometry",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"Renamed CubeGeometry to BoxGeometry. see [page:BoxGeometry]."},CylinderGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/CylinderGeometry",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"A class for generating cylinder geometries","!type":"fn(radiusTop: number, radiusBottom: number, height: number, radiusSegments: number, heightSegments: number, openEnded: bool, thetaStart: number, thetaLength: number)"},DodecahedronGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/DodecahedronGeometry",prototype:{"!proto":"THREE.PolyhedronGeometry.prototype",parameters:{"!type":"object","!doc":"An object with all of the parameters that were used to generate the geometry."}},"!doc":"A class for generating a dodecahedron geometries.","!type":"fn(radius: number, detail: number)"},ExtrudeGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/ExtrudeGeometry",prototype:{"!proto":"THREE.Geometry.prototype",addShapeList:{"!type":"fn(shapes: [], options: object)","!doc":"Adds the shapes to the list to extrude."},addShape:{"!type":"fn(shape: +THREE.Shape, options: object)","!doc":"Add the shape to the list to extrude."}},"!doc":"Creates extruded geometry from a path shape","!type":"fn(shapes: [], options: object)"},IcosahedronGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/IcosahedronGeometry",prototype:{"!proto":"THREE.PolyhedronGeometry.prototype",parameters:{"!type":"object","!doc":"An object with all of the parameters that were used to generate the geometry."}},"!doc":"A class for generating an icosahedron geometry.","!type":"fn(radius: number, detail: number)"},LatheGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/LatheGeometry",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"Class for generating meshes with axial symmetry. Possible uses include donuts, pipes, vases etc. The lathe rotate around the Y axis.","!type":"fn(points: [], segments: number, phiStart: number, phiLength: number)"},OctahedronGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/OctahedronGeometry",prototype:{"!proto":"THREE.PolyhedronGeometry.prototype",parameters:{"!type":"object","!doc":"An object with all of the parameters that were used to generate the geometry."}},"!doc":"A class for generating an octahedron geometry.","!type":"fn(radius: number, detail: number)"},ParametricGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/ParametricGeometry",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"Generate geometry representing a parametric surface.","!type":"fn(func: function, slices: number, stacks: number)"},PlaneGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/PlaneGeometry",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"A class for generating plane geometries","!type":"fn(width: number, height: number, widthSegments: number, heightSegments: number)"},PolyhedronGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/PolyhedronGeometry",prototype:{"!proto":"THREE.Geometry.prototype",parameters:{"!type":"object","!doc":"An object with all of the parameters that were used to generate the geometry."}},"!doc":`A polyhedron is a solid in three dimensions with flat faces. This class will take an array of vertices,
			project them onto a sphere, and then divide them up to the desired level of detail. This class is used
			by [page:DodecahedronGeometry], [page:IcosahedronGeometry], [page:OctahedronGeometry],
			and [page:TetrahedronGeometry] to generate their respective geometries.`,"!type":"fn(vertices: [], faces: [], radius: number, detail: number)"},RingGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/RingGeometry",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"A class for generating a two-dimensional ring geometry.","!type":"fn(innerRadius: number, outerRadius: number, thetaSegments: number, phiSegments: number, thetaStart: number, thetaLength: number)"},ShapeGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/ShapeGeometry",prototype:{"!proto":"THREE.Geometry.prototype",addShape:{"!type":"fn(shape: +THREE.Shape, options: object)","!doc":"Adds a single shape to the geometry"}},"!doc":"Creates a one-sided polygonal geometry from one or more path shapes. Similar to [page:ExtrudeGeometry]","!type":"fn(shapes: [], options: object)"},SphereGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/SphereGeometry",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"A class for generating sphere geometries","!type":"fn(radius: number, widthSegments: number, heightSegments: number, phiStart: number, phiLength: number, thetaStart: number, thetaLength: number)"},TetrahedronGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/TetrahedronGeometry",prototype:{"!proto":"THREE.PolyhedronGeometry.prototype",parameters:{"!type":"object","!doc":"An object with all of the parameters that were used to generate the geometry."}},"!doc":"A class for generating a tetrahedron geometries.","!type":"fn(radius: number, detail: number)"},TextGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/TextGeometry",prototype:{"!proto":"THREE.ExtrudeGeometry.prototype"},"!doc":"This object creates an 3D object of text as a single object.","!type":"fn(text: string, parameters: object)"},TorusGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/TorusGeometry",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"A class for generating torus geometries","!type":"fn(radius: number, tube: number, radialSegments: number, tubularSegments: number, arc: number)"},TorusKnotGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/TorusKnotGeometry",prototype:{"!proto":"THREE.Geometry.prototype"},"!doc":"Creates a torus knot, the particular shape of which is defined by a pair of coprime integers, p and q.  If p and q are not coprime, the result will be a torus link.","!type":"fn(radius: number, tube: number, radialSegments: number, tubularSegments: number, p: number, q: number, heightScale: number)"},TubeGeometry:{"!url":"http://threejs.org/docs/#Reference/geometries/TubeGeometry",prototype:{"!proto":"THREE.Geometry.prototype",parameters:{"!type":"object","!doc":"An object with all of the parameters that were used to generate the geometry."},tangents:{"!type":"[]","!doc":"An array of [page:Vector3] tangents"},normals:{"!type":"[]","!doc":"An array of [page:Vector3] normals"},binormals:{"!type":"[]","!doc":"An array of [page:Vector3] binormals"}},"!doc":"Creates a tube that extrudes along a 3d curve","!type":"fn(path: +THREE.Curve, segments: number, radius: number, radiusSegments: number, closed: bool)"},ArrowHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/ArrowHelper",prototype:{"!proto":"THREE.Object3D.prototype",line:{"!type":"+THREE.Line","!doc":"Contains the line part of the arrowHelper."},cone:{"!type":"+THREE.Mesh","!doc":"Contains the cone part of the arrowHelper."},setColor:{"!type":"fn(hex: number)","!doc":"Sets the color of the arrowHelper."},setLength:{"!type":"fn(length: number, headLength: number, headWidth: number)","!doc":"Sets the length of the arrowhelper."},setDirection:{"!type":"fn(dir: +THREE.Vector3)","!doc":"Sets the direction of the arrowhelper."}},"!doc":"An 3D arrow Object.","!type":"fn(dir: +THREE.Vector3, origin: +THREE.Vector3, length: number, hex: number, headLength: number, headWidth: number)"},AxisHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/AxisHelper",prototype:{"!proto":"THREE.Line.prototype"},"!doc":`An axis object to visualize the the 3 axes in a simple way. <br>
			The X axis is red. The Y axis is green. The Z axis is blue.`,"!type":"fn(size: number)"},BoundingBoxHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/BoundingBoxHelper",prototype:{"!proto":"THREE.Mesh.prototype",object:{"!type":"+THREE.Object3D","!doc":"Contains the object3D to show the world-axis-aligned boundingbox."},box:{"!type":"+THREE.Box3","!doc":"Contains the bounding box of the object."},update:{"!type":"fn()","!doc":"Updates the BoundingBoxHelper based on the object property."}},"!doc":"A helper object to show the world-axis-aligned bounding box for an object.","!type":"fn(object: +THREE.Object3D, hex: number)"},BoxHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/BoxHelper",prototype:{"!proto":"THREE.Line.prototype",update:{"!type":"fn(object: +THREE.Object3D)","!doc":`Updates the helper's geometry to match the dimensions of the [page:Geometry.boundingBox bounding box] of the passed object's geometry.

		<h2>Source</h2>

		[link:https://github.com/mrdoob/three.js/blob/master/src/[path].js src/[path].js]`}},"!doc":"Helper object to show a wireframe box (with no face diagonals) around an object","!type":"fn(object: +THREE.Object3D)"},CameraHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/CameraHelper",prototype:{"!proto":"THREE.Line.prototype",pointMap:{"!type":"object","!doc":"This contains the points to viualize the cameraHelper"},camera:{"!type":"+THREE.Camera","!doc":"The camera to visualize."},update:{"!type":"fn()","!doc":"Updates the helper based on the projectionMatrix of the camera."}},"!doc":`The camera Helper is an Object3D which helps visualizing what a camera contains in its frustum.<br>
		It visualizes the frustum with an line Geometry.`,"!type":"fn(camera: +THREE.Camera)"},DirectionalLightHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/DirectionalLightHelper",prototype:{"!proto":"THREE.Object3D.prototype",lightPlane:{"!type":"+THREE.Line","!doc":"Contains the line mesh showing the location of the directional light."},light:{"!type":"+THREE.DirectionalLight","!doc":"Contains the directionalLight."},targetLine:{"!type":"+THREE.Line","!doc":"Contains the line mesh that shows the direction of the light."},update:{"!type":"fn()","!doc":"Updates the helper to match the position and direction of the [page:.light]."}},"!doc":"Visualize a [page:DirectionalLight]'s effect on the scene","!type":"fn(light: +THREE.DirectionalLight, size: number)"},EdgesHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/EdgesHelper",prototype:{"!proto":"THREE.Line.prototype"},"!doc":`Creates a wireframe object that shows the "hard" edges of another object's geometry. To draw a full wireframe image of an object, see [page:WireframeHelper].`,"!type":"fn(object: +THREE.Object3D, color: +THREE.Color, thresholdAngle: number)"},FaceNormalsHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/FaceNormalsHelper",prototype:{"!proto":"THREE.Line.prototype",object:{"!type":"+THREE.Object3D","!doc":"The attached object"},update:{"!type":"fn()","!doc":"Updates the face normal preview based on movement of the object."}},"!doc":"Renders [page:ArrowHelper arrows] to visualize an object's [page:Face3 face] normals. Requires that the object's geometry be an instance of [page:Geometry] (does not work with [page:BufferGeometry]), and that face normals have been specified on all [page:Face3 faces] or calculated with [page:Geometry.computeFaceNormals computeFaceNormals].","!type":"fn(object: +THREE.Object3D, size: number, color: +THREE.Color, linewidth: number)"},GridHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/GridHelper",prototype:{"!proto":"THREE.Line.prototype"},"!doc":"The GridHelper is an object to define grids. Grids are two-dimensional arrays of lines.","!type":"fn(size: number, step: number)"},HemisphereLightHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/HemisphereLightHelper",prototype:{"!proto":"THREE.Object3D.prototype",lightSphere:{"!type":"+THREE.Mesh","!doc":"The sphere mesh that shows the location of the hemispherelight."},light:{"!type":"+THREE.HemisphereLight","!doc":"Contains the HemisphereLight."},update:{"!type":"fn()","!doc":"Updates the helper to match the position and direction of the [page:.light]."}},"!doc":"Creates a visual aid for a [page:HemisphereLight HemisphereLight].","!type":"fn(light: +THREE.HemisphereLight, sphereSize: number)"},PointLightHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/PointLightHelper",prototype:{"!proto":"THREE.Mesh.prototype",lightSphere:{"!type":"+THREE.Mesh","!doc":"todo"},light:{"!type":"+THREE.PointLight","!doc":"todo"},update:{"!type":"fn() -> todo","!doc":"todo"}},"!doc":"This display a helper for a pointLight","!type":"fn(light: todo, sphereSize: todo)"},SpotLightHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/SpotLightHelper",prototype:{"!proto":"THREE.Object3D.prototype",lightSphere:{"!type":"+THREE.Mesh","!doc":"todo"},light:{"!type":"+THREE.SpotLight","!doc":"todo"},lightCone:{"!type":"+THREE.Mesh","!doc":"todo"},update:{"!type":"fn() -> todo","!doc":"todo"}},"!doc":"todo","!type":"fn(light: todo, sphereSize: todo)"},VertexNormalsHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/VertexNormalsHelper",prototype:{"!proto":"THREE.Line.prototype",object:{"!type":"+THREE.Object3D","!doc":"The attached object"},update:{"!type":"fn()","!doc":"Updates the vertex normal preview based on movement of the object."}},"!doc":"Renders [page:ArrowHelper arrows] to visualize an object's vertex normal vectors. Requires that normals have been specified in a [page:BufferAttribute custom attribute] or have been calculated using [page:Geometry.computeVertexNormals computeVertexNormals].","!type":"fn(object: +THREE.Object3D, size: number, color: +THREE.Color, linewidth: number)"},WireframeHelper:{"!url":"http://threejs.org/docs/#Reference/extras/helpers/WireframeHelper",prototype:{"!proto":"THREE.Line.prototype"},"!doc":`Creates a wireframe object that shows the edges of another object's geometry. To draw a  wireframe image showing only "hard" edges (edges between non-coplanar faces), see [page:EdgesHelper].`,"!type":"fn(object: +THREE.Object3D, color: +THREE.Color)"},AmbientLight:{"!url":"http://threejs.org/docs/#Reference/lights/AmbientLight",prototype:{"!proto":"THREE.Light.prototype"},"!doc":"This light's color gets applied to all the objects in the scene globally.","!type":"fn(hex: number)"},DirectionalLight:{"!url":"http://threejs.org/docs/#Reference/lights/DirectionalLight",prototype:{"!proto":"THREE.Light.prototype",target:{"!type":"+THREE.Object3D","!doc":"Target used for shadow camera orientation."},intensity:{"!type":"number","!doc":`Light's intensity.<br>
			Default \u2014 *1.0*.`}},"!doc":"Affects objects using [page:MeshLambertMaterial] or [page:MeshPhongMaterial].","!type":"fn(hex: number, intensity: number)"},HemisphereLight:{"!url":"http://threejs.org/docs/#Reference/lights/HemisphereLight",prototype:{"!proto":"THREE.Light.prototype",groundColor:{"!type":"number","!doc":"Light's ground color.<br>"},intensity:{"!type":"number","!doc":`Light's intensity.<br>
			Default \u2014 *1.0*.`}},"!doc":"A light source positioned directly above the scene.","!type":"fn(skyColorHex: number, groundColorHex: number, intensity: number)"},Light:{"!url":"http://threejs.org/docs/#Reference/lights/Light",prototype:{"!proto":"THREE.Object3D.prototype",color:{"!type":"+THREE.Color","!doc":"Color of the light.<br>"}},"!doc":"Abstract base class for lights.","!type":"fn(hex: number)"},PointLight:{"!url":"http://threejs.org/docs/#Reference/lights/PointLight",prototype:{"!proto":"THREE.Light.prototype",intensity:{"!type":"number","!doc":`Light's intensity.<br>
			Default - *1.0*.`},distance:{"!type":"number","!doc":`If non-zero, light will attenuate linearly from maximum intensity at light *position* down to zero at *distance*.<br>
			Default \u2014 *0.0*.`}},"!doc":"Affects objects using [page:MeshLambertMaterial] or [page:MeshPhongMaterial].","!type":"fn(hex: number, intensity: number, distance: number)"},SpotLight:{"!url":"http://threejs.org/docs/#Reference/lights/SpotLight",prototype:{"!proto":"THREE.Light.prototype",target:{"!type":"+THREE.Object3D","!doc":`Spotlight focus points at target.position.<br>
			Default position \u2014 *(0,0,0)*.`},intensity:{"!type":"number","!doc":`Light's intensity.<br>
			Default \u2014 *1.0*.`},distance:{"!type":"number","!doc":`If non-zero, light will attenuate linearly from maximum intensity at light *position* down to zero at *distance*.<br>
			Default \u2014 *0.0*.`},angle:{"!type":"number","!doc":`Maximum extent of the spotlight, in radians, from its direction. Should be no more than *Math.PI/2*.<br>
			Default \u2014 *Math.PI/3*.`},exponent:{"!type":"number","!doc":`Rapidity of the falloff of light from its target direction.<br>
			Default \u2014 *10.0*.`}},"!doc":"A point light that can cast shadow in one direction.","!type":"fn(hex: number, intensity: number, distance: todo, angle: todo, exponent: todo)"},BabylonLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/BabylonLoader",prototype:{load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from url and call onLoad with the parsed response content."},parse:{"!type":"fn(json: object) -> +THREE.Object3D","!doc":`Parse a <em>JSON</em> structure and return an [page:Object3D object] or a [page:Scene scene].<br>
		Found objects are converted to [page:Mesh] with a [page:BufferGeometry] and a default [page:MeshPhongMaterial].<br>
		Lights are parsed accordingly.`}},"!doc":"A loader for loading a <em>.babylon</em> resource.","!type":"fn(manager: +THREE.LoadingManager)"},BufferGeometryLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/BufferGeometryLoader",prototype:{load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from url and call onLoad with the parsed response content."},parse:{"!type":"fn(json: object) -> +THREE.BufferGeometry","!doc":"Parse a <em>JSON</em> structure and return a [page:BufferGeometry]."}},"!doc":"A loader for loading a [page:BufferGeometry].","!type":"fn(manager: +THREE.LoadingManager)"},Cache:{"!url":"http://threejs.org/docs/#Reference/loaders/Cache",prototype:{files:{"!type":"object","!doc":"An [page:Object object] that hold cached values."},add:{"!type":"fn(key: string, value)","!doc":"Adds a cache entry with that key to hold the value. If this key already holds a value, it is overwritten."},get:{"!type":"fn(key: string)","!doc":"Get the value of key. If the key does not exist the null value is returned."},remove:{"!type":"fn(key: string)","!doc":"Remove the cached value associated with the key."},clear:{"!type":"fn()","!doc":"Remove all values from the cache."}},"!doc":"A simple caching classe, used internaly by [page:FileLoader].","!type":"fn()"},ColladaLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/ColladaLoader",prototype:{options:{"!type":"[]","!doc":`&nbsp;.[page:Boolean centerGeometry] \u2014 Force [page:Geometry] to always be centered at the local origin of the containing [page: Mesh].<br>
		&nbsp;.[page:Boolean convertUpAxis] \u2014 Axis conversion is done for geometries, animations, and controllers.<br>
		&nbsp;.[page:Boolean subdivideFaces] \u2014 Force subdivision into multiple [page: Face3].<br>
		&nbsp;.[page:String upAxis] \u2014 X, Y or Z<br>
		&nbsp;.[page:Boolean defaultEnvMap] \u2014 Cubemap to use for reflective or refractive materials.<br>`},geometries:{"!type":"object","!doc":"Parsed <em>.dae</em> geometries."},load:{"!type":"fn(url: string, onLoad: function, onProgress: function)","!doc":"Begin loading from url and call onLoad with the parsed response content."},parse:{"!type":"fn(doc: Document, callBack: function, url: string) -> object","!doc":"Parse an <em>XML Document</em> and return an [page:Object object] that contain loaded parts: .[page:Scene scene], .[page:Array morphs], .[page:Array skins], .[page:Array animations], .[page:Object dae]"},setPreferredShading:{"!type":"fn(shading: number)","!doc":`Set the .[page:Integer shading] property on the resource's materials.<br>
		Options are [page:Materials THREE.SmoothShading], [page:Materials THREE.FlatShading].`},applySkin:{"!type":"fn(geometry: +THREE.Geometry, instanceCtrl: object, frame: number)","!doc":"Apply a skin (vertices, animation, bones) from a <em>collada skin controller</em>, on the given [page:Geometry]."}},"!doc":"A loader for <em>Collada</em> files.","!type":"fn()"},ImageLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/ImageLoader",prototype:{crossOrigin:{"!type":"string","!doc":"The crossOrigin string to implement CORS for loading the url from a different domain that allows CORS."},load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from url and return the [page:Image image] object that will contain the data."},setCrossOrigin:{"!type":"fn(value: string)","!doc":"The crossOrigin string to implement CORS for loading the url from a different domain that allows CORS."}},"!doc":"A loader for loading an [page:Image].","!type":"fn(manager: +THREE.LoadingManager)"},Loader:{"!url":"http://threejs.org/docs/#Reference/loaders/Loader",prototype:{onLoadStart:{"!type":"function","!doc":"The default is a function with empty body."},onLoadProgress:{"!type":"function","!doc":"The default is a function with empty body."},onLoadComplete:{"!type":"function","!doc":"The default is a function with empty body."},crossOrigin:{"!type":"string","!doc":"The crossOrigin string to implement CORS for loading the url from a different domain that allows CORS."},updateProgress:{"!type":"fn(progress: object)","!doc":"Updates the DOM object with the progress made."},createMaterial:{"!type":"fn(m: object, texturePath: string) -> +THREE.Material","!doc":"Creates the Material based on the parameters m."},initMaterials:{"!type":"fn(materials: [], texturePath: string) -> []","!doc":"Creates an array of [page:Material] based on the array of parameters m. The index of the parameters decide the correct index of the materials."}},"!doc":"Base class for implementing loaders.","!type":"fn()"},LoadingManager:{"!url":"http://threejs.org/docs/#Reference/loaders/LoadingManager",prototype:{onLoad:{"!type":"function","!doc":"The function that needs to be called when all loaders are done."},onProgress:{"!type":"function","!doc":`The function that needs to be called when an item is complete. The arguments are url(The url of the item just loaded),<br>
		loaded(the amount of items already loaded), total( The total amount of items to be loaded.)`},onError:{"!type":"function","!doc":"The function that needs to be called when an item errors."},itemStart:{"!type":"fn(url: string)","!doc":"This should be called by any loader used by the manager when the loader starts loading an url. These shouldn't be called outside a loader."},itemEnd:{"!type":"fn(url: string)","!doc":"This should be called by any loader used by the manager when the loader ended loading an url.  These shouldn't be called outside a loader."}},"!doc":"Handles and keeps track of loaded and pending data.","!type":"fn(onLoad: function, onProgress: function, onError: function)"},MTLLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/MTLLoader",prototype:{load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from url and return the loaded material."},parse:{"!type":"fn(text: string) -> MTLLoaderMaterialCreator","!doc":"Parse a <em>mtl</em> text structure and return a [page:MTLLoaderMaterialCreator] instance.<br>"}},"!doc":"A loader for loading an <em>.mtl</em> resource, used internaly by [page:OBJLoader].","!type":"fn(baseUrl: string, options: object, crossOrigin: string)"},MaterialLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/MaterialLoader",prototype:{load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from url and return the [page:Material] object that will contain the data."},setCrossOrigin:{"!type":"fn(value: string)","!doc":"The crossOrigin string to implement CORS for loading the url from a different domain that allows CORS."},parse:{"!type":"fn(json: object) -> +THREE.Material","!doc":"Parse a <em>JSON</em> structure and create a new [page:Material] of the type [page:String json.type] with parameters defined in the json object."}},"!doc":"A loader for loading a [page:Material] in JSON format.","!type":"fn(manager: +THREE.LoadingManager)"},OBJLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/OBJLoader",prototype:{load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from url and call onLoad with the parsed response content."},parse:{"!type":"fn(text: string) -> +THREE.Object3D","!doc":`Parse an <em>obj</em> text structure and return an [page:Object3D].<br>
		Found objects are converted to [page:Mesh] with a [page:BufferGeometry] and a default [page:MeshLambertMaterial].`}},"!doc":"A loader for loading an <em>.obj</em> resource.","!type":"fn(manager: +THREE.LoadingManager)"},OBJMTLLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/OBJMTLLoader",prototype:{load:{"!type":"fn(objUrl: string, mtlUrl: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from urls and call onLoad with the parsed response content."},parse:{"!type":"fn(text: string, mtllibCallback: function) -> +THREE.Object3D","!doc":`Parse an <em>obj</em> text structure and return an [page:Object3D].<br>
		Found objects are converted to a [page:Mesh] and materials are converted to [page:MeshLambertMaterial].`}},"!doc":"A loader for loading a <em>.obj</em> and its <em>.mtl</em> together.","!type":"fn(manager: +THREE.LoadingManager)"},ObjectLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/ObjectLoader",prototype:{load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from url and call onLoad with the parsed response content."},parse:{"!type":"fn(json: object) -> +THREE.Object3D","!doc":"Parse a <em>JSON</em> content and return a threejs object."},setCrossOrigin:{"!type":"fn(value: string)","!doc":"[page:String value] \u2014 The crossOrigin string to implement CORS for loading the url from a different domain that allows CORS."}},"!doc":"A loader for loading a JSON resource.","!type":"fn(manager: +THREE.LoadingManager)"},PDBLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/PDBLoader",prototype:{load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from url and call onLoad with the parsed response content."},parsePDB:{"!type":"fn(text: string) -> object","!doc":"Parse a <em>pdb</em> text and return a <em>JSON</em> structure.<br>"},createModel:{"!type":"fn(json: object, callback: function)","!doc":"Parse a <em>(JSON) pdb</em> structure and return two [page:Geometry]: one for atoms, one for bonds.<br>"}},"!doc":`A loader for loading a <em>.pdb</em> resource.
		<br><br>
		The <a href="http://en.wikipedia.org/wiki/Protein_Data_Bank_(file_format)">Protein Data Bank file format</a> is a textual file format describing the three-dimensional structures of molecules.`,"!type":"fn(manager: +THREE.LoadingManager)"},SVGLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/SVGLoader",prototype:{load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from url and call onLoad with the response content."}},"!doc":"A loader for loading an <em>.svg</em> resource.","!type":"fn(manager: +THREE.LoadingManager)"},TGALoader:{"!url":"http://threejs.org/docs/#Reference/loaders/TGALoader",prototype:{load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function) -> +THREE.DataTexture","!doc":"Begin loading from url and pass the loaded [page:DataTexture texture] to onLoad. The [page:DataTexture texture] is also directly returned for immediate use (but may not be fully loaded)."}},"!doc":"Class for loading a <em>.tga</em> [page:DataTexture texture].","!type":"fn(manager: +THREE.LoadingManager)"},TextureLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/TextureLoader",prototype:{crossOrigin:{"!type":"string","!doc":`default \u2014 *null*.<br>
		If set, assigns the *crossOrigin* attribute of the image to the value of *crossOrigin*, prior to starting the load.`},load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from url and pass the loaded [page:Texture texture] to onLoad."}},"!doc":"Class for loading a [page:Texture texture].","!type":"fn(manager: +THREE.LoadingManager)"},FileLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/FileLoader",prototype:{cache:{"!type":"+THREE.Cache","!doc":"A [page:Cache cache] instance that hold the response from each request made through this loader, so each file is requested once."},crossOrigin:{"!type":"string","!doc":"The crossOrigin string to implement CORS for loading the url from a different domain that allows CORS."},responseType:{"!type":"string","!doc":"Can be set to change the response type."},load:{"!type":"fn(url: string, onLoad: function, onProgress: function, onError: function)","!doc":"Begin loading from url and return the [page:String text] response that will contain the data."},setCrossOrigin:{"!type":"fn(value: string)","!doc":"[page:String value] \u2014 The crossOrigin string to implement CORS for loading the url from a different domain that allows CORS."},setResponseType:{"!type":"fn(value: string)","!doc":'[page:String value] \u2014 the empty string (default), "arraybuffer", "blob", "document", "json", or "text".'}},"!doc":"A low level class for loading resources with XMLHttpRequest, used internaly by most loaders.","!type":"fn(manager: +THREE.LoadingManager)"},GLTFLoader:{"!url":"http://threejs.org/docs/#Reference/loaders/GLTFLoader",prototype:{"!proto":"THREE.Loader.prototype",load:{"!type":"fn(url: string, callback: function) -> +THREE.Object3D","!doc":"Begin loading from url and call the callback function with the parsed response content."}},"!doc":`A loader for loading a <em>.gltf</em> resource in <em>JSON</em> format.
		<br><br>
		The <a href="https://www.khronos.org/gltf">glTF file format</a> is a JSON file format to enable rapid delivery and loading of 3D content.`,"!type":"fn()"},LineBasicMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/LineBasicMaterial",prototype:{"!proto":"THREE.Material.prototype",color:{"!type":"number","!doc":"Sets the color of the line. Default is 0xffffff."},linewidth:{"!type":"number","!doc":'Due to limitations in the <a href="https://code.google.com/p/angleproject/" target="_blank">ANGLE layer</a>, on Windows platforms linewidth will always be 1 regardless of the set value.'},linecap:{"!type":"string","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:WebGLRenderer WebGL] renderer, but does work with the [page:CanvasRenderer Canvas] renderer."},linejoin:{"!type":"string","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:WebGLRenderer WebGL] renderer, but does work with the [page:CanvasRenderer Canvas] renderer."},vertexColors:{"!type":"bool","!doc":"This setting might not have any effect when used with certain renderers."},fog:{"!type":"bool","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:CanvasRenderer Canvas] renderer, but does work with the [page:WebGLRenderer WebGL] renderer."}},"!doc":"A material for drawing wireframe-style geometries.","!type":"fn(parameters: object)"},LineDashedMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/LineDashedMaterial",prototype:{"!proto":"THREE.Material.prototype",color:{"!type":"+THREE.Color","!doc":"Sets the color of the line. Default is 0xffffff."},linewidth:{"!type":"number","!doc":'Due to limitations in the <a href="https://code.google.com/p/angleproject/" target="_blank">ANGLE layer</a>, on Windows platforms linewidth will always be 1 regardless of the set value.'},scale:{"!type":"number","!doc":"The scale of the dashed part of a line."},dashSize:{"!type":"number","!doc":"The size of the dash. This is both the gap with the stroke. Default is 3."},gapSize:{"!type":"number","!doc":"The size of the gap. Default is 1."},vertexColors:{"!type":"bool","!doc":"This setting might not have any effect when used with certain renderers."},fog:{"!type":"boolean","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:CanvasRenderer Canvas] renderer, but does work with the [page:WebGLRenderer WebGL] renderer."}},"!doc":"A material for drawing wireframe-style geometries with dashed lines.","!type":"fn(parameters: object)"},Material:{"!url":"http://threejs.org/docs/#Reference/materials/Material",prototype:{id:{"!type":"number","!doc":"Unique number for this material instance."},name:{"!type":"string","!doc":"Material name. Default is an empty string."},opacity:{"!type":"number","!doc":"Default is *1.0*."},transparent:{"!type":"bool","!doc":"Default is *false*."},blendDst:{"!type":"number","!doc":"Blending destination. It's one of the blending mode constants defined in [page:Three Three.js]. Default is [page:CustomBlendingEquation OneMinusSrcAlphaFactor]."},blendEquation:{"!type":"number","!doc":"Blending equation to use when applying blending. It's one of the constants defined in [page:Three Three.js]. Default is [page:CustomBlendingEquation AddEquation.]"},depthTest:{"!type":"bool","!doc":"Whether to have depth test enabled when rendering this material. Default is *true*."},depthWrite:{"!type":"bool","!doc":"When drawing 2D overlays it can be useful to disable the depth writing in order to layer several things together without creating z-index artifacts."},polygonOffset:{"!type":"bool","!doc":"Whether to use polygon offset. Default is *false*. This corresponds to the *POLYGON_OFFSET_FILL* WebGL feature."},polygonOffsetFactor:{"!type":"number","!doc":"Sets the polygon offset factor. Default is *0*."},polygonOffsetUnits:{"!type":"number","!doc":"Sets the polygon offset units. Default is *0*."},alphaTest:{"!type":"number","!doc":"Sets the alpha value to be used when running an alpha test. Default is *0*."},overdraw:{"!type":"number","!doc":"Amount of triangle expansion at draw time. This is a workaround for cases when gaps appear between triangles when using [page:CanvasRenderer]. *0.5* tends to give good results across browsers. Default is *0*."},visible:{"!type":"bool","!doc":"Defines whether this material is visible. Default is *true*."},side:{"!type":"Enum","!doc":"Default is [page:Materials THREE.FrontSide]. Other options are [page:Materials THREE.BackSide] and [page:Materials THREE.DoubleSide]."},needsUpdate:{"!type":"bool","!doc":"This property is automatically set to *true* when instancing a new material."},clone:{"!type":"fn(material: material) -> +THREE.Material","!doc":"This clones the material in the optional parameter and returns it."},dispose:{"!type":"fn()","!doc":"This disposes the material."},setValues:{"!type":"fn(values: object)","!doc":"Sets the properties based on the *values*."}},"!doc":"Materials describe the appearance of [page:Object objects]. They are defined in a (mostly) renderer-independent way, so you don't have to rewrite materials if you decide to use a different renderer.","!type":"fn()"},MeshBasicMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/MeshBasicMaterial",prototype:{"!proto":"THREE.Material.prototype",color:{"!type":"number","!doc":"Sets the color of the geometry. Default is 0xffffff."},lightMap:{"!type":"+THREE.Texture","!doc":"Set light map. Default is null."},specularMap:{"!type":"+THREE.Texture","!doc":"Set specular map. Default is null."},alphaMap:{"!type":"+THREE.Texture","!doc":"Only the color of the texture is used, ignoring the alpha channel if one exists. For RGB and RGBA textures, the [page:WebGLRenderer WebGL] renderer will use the green channel when sampling this texture due to the extra bit of precision provided for green in DXT-compressed and uncompressed RGB 565 formats. Luminance-only and luminance/alpha textures will also still work as expected."},envMap:{"!type":"TextureCube","!doc":"Set env map. Default is null."},fog:{"!type":"bool","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:CanvasRenderer Canvas] renderer, but does work with the [page:WebGLRenderer WebGL] renderer."},shading:{"!type":"string","!doc":"Define shading type. Default is THREE.SmoothShading."},wireframe:{"!type":"bool","!doc":"Render geometry as wireframe. Default is false (i.e. render as flat polygons)."},wireframeLinewidth:{"!type":"number","!doc":'Due to limitations in the <a href="https://code.google.com/p/angleproject/" target="_blank">ANGLE layer</a>, on Windows platforms linewidth will always be 1 regardless of the set value.'},wireframeLinecap:{"!type":"string","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:WebGLRenderer WebGL] renderer, but does work with the [page:CanvasRenderer Canvas] renderer."},wireframeLinejoin:{"!type":"string","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:WebGLRenderer WebGL] renderer, but does work with the [page:CanvasRenderer Canvas] renderer."},vertexColors:{"!type":"boolean","!doc":"This setting might not have any effect when used with certain renderers."},morphTargets:{"!type":"bool","!doc":"Define whether the material uses morphTargets. Default is false."},map:{"!type":"+THREE.Texture","!doc":"Sets the texture map. Default is  null."},combine:{"!type":"number","!doc":"How to combine the result of the surface's color with the environment map, if any."},reflectivity:{"!type":"number","!doc":'How much the environment map affects the surface; also see "combine".'},refractionRatio:{"!type":"number","!doc":"The index of refraction for an environment map using [page:Textures THREE.CubeRefractionMapping]. Default is *0.98*."}},"!doc":"A material for drawing geometries in a simple shaded (flat or wireframe) way.","!type":"fn(parameters: object)"},MeshDepthMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/MeshDepthMaterial",prototype:{"!proto":"THREE.Material.prototype",morphTargets:{"!type":"boolean","!doc":"Define whether the material uses morphTargets. Default is false."},wireframe:{"!type":"boolean","!doc":"Render geometry as wireframe. Default is false (i.e. render as smooth shaded)."},wireframeLinewidth:{"!type":"number","!doc":`Controls wireframe thickness. Default is 1.<br><br>
			Due to limitations in the ANGLE layer, on Windows platforms linewidth will always be 1 regardless of the set value.`}},"!doc":"A material for drawing geometry by depth. Depth is based off of the camera near and far plane. White is nearest, black is farthest.","!type":"fn(parameters: object)"},MultiMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/MultiMaterial",prototype:{materials:{"!type":"[]","!doc":"Get or set the materials for the geometry."}},"!doc":`A Material to define multiple materials for the same geometry. 
		The geometry decides which material is used for which faces by the [page:Face3 faces materialindex].
		The materialindex corresponds with the index of the material in the materials array.`,"!type":"fn(materials: [])"},MeshLambertMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/MeshLambertMaterial",prototype:{"!proto":"THREE.Material.prototype",color:{"!type":"+THREE.Color","!doc":"Diffuse color of the material. Default is white.<br>"},emissive:{"!type":"+THREE.Color","!doc":"Emissive (light) color of the material, essentially a solid color unaffected by other lighting. Default is black.<br>"},wrapAround:{"!type":"boolean","!doc":`Define whether the diffuse lighting wraps around the model or not. This option adds a little more (tintable) light
			onto the side of the object in relation to a light.`},wrapRGB:{"!type":"+THREE.Vector3","!doc":`Decide how much of the wrap around values get used if the wrapAround option is set. The x, y, z values correspond
			to the r, g, b values respectively. The typical range is of each is from 0 to 1. For example setting all of the
			vector values to 0.5 will add a moderate amount of light to the side of the model. Changing *b* to 1 will
			tint the light on the side to be more blue. Defaults to *(1,1,1)*.`},map:{"!type":"+THREE.Texture","!doc":"Set color texture map. Default is null."},lightMap:{"!type":"+THREE.Texture","!doc":"Set light map. Default is null."},specularMap:{"!type":"+THREE.Texture","!doc":"Since this material does not have a specular component, the specular value affects only how much of the environment map affects the surface. Default is null."},alphaMap:{"!type":"+THREE.Texture","!doc":"Only the color of the texture is used, ignoring the alpha channel if one exists. For RGB and RGBA textures, the [page:WebGLRenderer WebGL] renderer will use the green channel when sampling this texture due to the extra bit of precision provided for green in DXT-compressed and uncompressed RGB 565 formats. Luminance-only and luminance/alpha textures will also still work as expected."},envMap:{"!type":"TextureCube","!doc":"Set env map. Default is null."},combine:{"!type":"number","!doc":"Options are [page:Textures THREE.Multiply] (default), [page:Textures THREE.MixOperation], [page:Textures THREE.AddOperation]. If mix is chosen, the reflectivity is used to blend between the two colors."},reflectivity:{"!type":"number","!doc":'How much the environment map affects the surface; also see "combine".'},refractionRatio:{"!type":"number","!doc":"The index of refraction for an environment map using [page:Textures THREE.CubeRefractionMapping]. Default is *0.98*."},fog:{"!type":"bool","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:CanvasRenderer Canvas] renderer, but does work with the [page:WebGLRenderer WebGL] renderer."},shading:{"!type":"number","!doc":"Options are [page:Materials THREE.SmoothShading] (default), [page:Materials THREE.FlatShading]."},wireframe:{"!type":"bool","!doc":"Whether the triangles' edges are displayed instead of surfaces. Default is *false*."},wireframeLinewidth:{"!type":"number","!doc":'Due to limitations in the <a href="https://code.google.com/p/angleproject/" target="_blank">ANGLE layer</a>, on Windows platforms linewidth will always be 1 regardless of the set value.'},wireframeLinecap:{"!type":"string","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:WebGLRenderer WebGL] renderer, but does work with the [page:CanvasRenderer Canvas] renderer."},wireframeLinejoin:{"!type":"string","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:WebGLRenderer WebGL] renderer, but does work with the [page:CanvasRenderer Canvas] renderer."},vertexColors:{"!type":"boolean","!doc":"This setting might not have any effect when used with certain renderers."},morphTargets:{"!type":"bool","!doc":"Define whether the material uses morphTargets. Default is *false*."},morphNormals:{"!type":"boolean","!doc":`Defines whether the material uses morphNormals. Set as true to pass morphNormal attributes from the [page:Geometry]
			to the shader. Default is *false*.`}},"!doc":"A material for non-shiny (Lambertian) surfaces, evaluated per vertex.","!type":"fn(parameters: object)"},MeshNormalMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/MeshNormalMaterial",prototype:{"!proto":"THREE.Material.prototype",wireframe:{"!type":"boolean","!doc":"Render geometry as wireframe. Default is false (i.e. render as smooth shaded)."},wireframeLinewidth:{"!type":"number","!doc":`Controls wireframe thickness. Default is 1.<br><br>
			Due to limitations in the ANGLE layer, on Windows platforms linewidth will always be 1 regardless of the set value.`},morphTargets:{"!type":"boolean","!doc":"Define whether the material uses morphTargets. Default is false."}},"!doc":"A material that maps the normal vectors to RGB colors.","!type":"fn(parameters: object)"},MeshPhongMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/MeshPhongMaterial",prototype:{"!proto":"THREE.Material.prototype",color:{"!type":"+THREE.Color","!doc":"Diffuse color of the material. Default is white.<br>"},emissive:{"!type":"+THREE.Color","!doc":"Emissive (light) color of the material, essentially a solid color unaffected by other lighting. Default is black.<br>"},specular:{"!type":"+THREE.Color","!doc":"Specular color of the material, i.e., how shiny the material is and the color of its shine. Setting this the same color as the diffuse value (times some intensity) makes the material more metallic-looking; setting this to some gray makes the material look more plastic. Default is dark gray.<br>"},shininess:{"!type":"number","!doc":"How shiny the specular highlight is; a higher value gives a sharper highlight. Default is *30*. It should not be set to 0."},metal:{"!type":"boolean","!doc":`If set to true the shader multiplies the specular highlight by the underlying color of the object, making
			it appear to be more metal-like and darker. If set to false the specular highlight is added ontop of the
			underlying colors.`},wrapAround:{"!type":"boolean","!doc":`Define whether the diffuse lighting wraps around the model or not. This option adds a little more (tintable) light
			onto the side of the object in relation to a light.`},wrapRGB:{"!type":"+THREE.Vector3","!doc":`Decide how much of the wrap around values get used if the wrapAround option is set. The x, y, z values correspond
			to the r, g, b values respectively. The typical range is of each is from 0 to 1. For example setting all of the
			vector values to 0.5 will add a moderate amount of light to the side of the model. Changing *b* to 1 will
			tint the light on the side to be more blue. Defaults to (1,1,1).`},map:{"!type":"+THREE.Texture","!doc":"Set color texture map. Default is null."},lightMap:{"!type":"+THREE.Texture","!doc":"Set light map. Default is null."},bumpMap:{"!type":"+THREE.Texture","!doc":`The texture to create a bump map. The black and white values map to the perceived depth in relation to the lights.
			Bump doesn't actually affect the geometry of the object, only the lighting. If a normal map is defined this will
			be ignored.`},bumpScale:{"!type":"number","!doc":"How much the bump map affects the material. Typical ranges are 0-1. Default is 1."},normalMap:{"!type":"+THREE.Texture","!doc":`The texture to create a normal map. The RGB values affect the surface normal for each pixel fragment and change
			the way the color is lit. Normal maps do not change the actual shape of the surface, only the lighting.`},normalScale:{"!type":"+THREE.Vector2","!doc":"How much the normal map affects the material. Typical ranges are 0-1. Default is (1,1)."},specularMap:{"!type":"+THREE.Texture","!doc":"The specular map value affects both how much the specular surface highlight contributes and how much of the environment map affects the surface. Default is null."},alphaMap:{"!type":"+THREE.Texture","!doc":"Only the color of the texture is used, ignoring the alpha channel if one exists. For RGB and RGBA textures, the [page:WebGLRenderer WebGL] renderer will use the green channel when sampling this texture due to the extra bit of precision provided for green in DXT-compressed and uncompressed RGB 565 formats. Luminance-only and luminance/alpha textures will also still work as expected."},envMap:{"!type":"TextureCube","!doc":"Set env map. Default is null."},combine:{"!type":"number","!doc":"Options are [page:Textures THREE.MultiplyOperation] (default), [page:Textures THREE.MixOperation], [page:Textures THREE.AddOperation]. If mix is chosen, the reflectivity is used to blend between the two colors."},reflectivity:{"!type":"number","!doc":'How much the environment map affects the surface; also see "combine".'},refractionRatio:{"!type":"number","!doc":"The index of refraction for an environment map using [page:Textures THREE.CubeRefractionMapping]. Default is *0.98*."},fog:{"!type":"bool","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:CanvasRenderer Canvas] renderer, but does work with the [page:WebGLRenderer WebGL] renderer."},shading:{"!type":"number","!doc":"Options are [page:Materials THREE.SmoothShading] (default), [page:Materials THREE.FlatShading]."},wireframe:{"!type":"bool","!doc":"Whether the triangles' edges are displayed instead of surfaces. Default is *false*."},wireframeLinewidth:{"!type":"number","!doc":'Due to limitations in the <a href="https://code.google.com/p/angleproject/" target="_blank">ANGLE layer</a>, on Windows platforms linewidth will always be 1 regardless of the set value.'},wireframeLinecap:{"!type":"string","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:WebGLRenderer WebGL] renderer, but does work with the [page:CanvasRenderer Canvas] renderer."},wireframeLinejoin:{"!type":"string","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:WebGLRenderer WebGL] renderer, but does work with the [page:CanvasRenderer Canvas] renderer."},vertexColors:{"!type":"bool","!doc":"This setting might not have any effect when used with certain renderers."},morphTargets:{"!type":"bool","!doc":"Define whether the material uses morphTargets. Default is *false*."},morphNormals:{"!type":"boolean","!doc":`Defines whether the material uses morphNormals. Set as true to pass morphNormal attributes from the [page:Geometry]
			to the shader. Default is *false*.`}},"!doc":"A material for shiny surfaces, evaluated per pixel.","!type":"fn(parameters: object)"},PointCloudMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/PointCloudMaterial",prototype:{"!proto":"THREE.Material.prototype",color:{"!type":"number","!doc":"Sets the color of the particles. Default is 0xffffff."},map:{"!type":"+THREE.Texture","!doc":"Sets the color of the particles using data from a texture."},size:{"!type":"number","!doc":"Sets the size of the particles. Default is 1.0."},sizeAttenuation:{"!type":"bool","!doc":"Specify whether particles' size will get smaller with the distance. Default is true."},vertexColors:{"!type":"bool","!doc":"This setting might not have any effect when used with certain renderers."},fog:{"!type":"bool","!doc":"This setting might not have any effect when used with certain renderers. For example, it is ignored with the [page:CanvasRenderer Canvas] renderer, but does work with the [page:WebGLRenderer WebGL] renderer."}},"!doc":"The default material used by [page:PointCloud particle] systems.","!type":"fn(parameters: object)"},RawShaderMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/RawShaderMaterial",prototype:{"!proto":"THREE.ShaderMaterial.prototype"},"!doc":"This class works just like [page:ShaderMaterial], except that definitions of built-in uniforms and attributes are not automatically prepended to the GLSL shader code."},ShaderMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/ShaderMaterial",prototype:{"!proto":"THREE.Material.prototype",uniforms:{"!type":"object","!doc":`Object specifying the uniforms to be passed to the shader code; keys are uniform names, values are definitions of the form
		<code>
		{ type: 'f', value: 1.0 }
		</code>
		where *type* is a <a href="#uniform-types">uniform type string</a>, and *value* is the value of the uniform. Names must match the name of the uniform, as defined in the GLSL code. Note that uniforms are refreshed on every frame, so updating the value of the uniform will immediately update the value available to the GLSL code.`},attributes:{"!type":"object","!doc":`<p>
		Object specifying the custom attributes to be passed to the shader code; keys are attribute names, values are definitions of the form
		<code>
		{ type: 'f', value: [1.0, 0.5, 2.0, ...] }
		</code>
		where *type* is an <a href="#attribute-types">attribute type string</a>, and *value* is an array containing an attribute value for each vertex in the geometry (or *undefined* if using [page:BufferGeometry]). Names must match the name of the attribute, as defined in the GLSL code.
		</p>
		<p>
		Note that attribute buffers are <emph>not</emph> refreshed automatically when their values change; if using [page:Geometry], set <code>needsUpdate = true</code> on the attribute definition. If using [page:BufferGeometry], set <code>needsUpdate = true</code> on the [page:BufferAttribute].
		</p>`},defines:{"!type":"object","!doc":`Defines custom constants using *#define* directives within the GLSL code for both the vertex shader and the fragment shader; each key/value pair yields another directive:
		<code>
		defines: {
			FOO: 15,
			BAR: true
		}
		</code>
		yields the lines
		<code>
		#define FOO 15
		#define BAR true
		</code>
		in the GLSL code.`},vertexShader:{"!type":"string","!doc":"Vertex shader GLSL code.  This is the actual code for the shader. In the example above, the *vertexShader* and *fragmentShader* code is extracted from the DOM; it could be passed as a string directly or loaded via AJAX instead."},fragmentShader:{"!type":"string","!doc":"Fragment shader GLSL code.  This is the actual code for the shader. In the example above, the *vertexShader* and *fragmentShader* code is extracted from the DOM; it could be passed as a string directly or loaded via AJAX instead."},shading:{"!type":"number","!doc":"Define shading type, which determines whether normals are smoothed between vertices; possible values are [page:Materials THREE.SmoothShading] or [page:Materials THREE.FlatShading]. Default is THREE.SmoothShading."},linewidth:{"!type":"number","!doc":'Due to limitations in the <a href="https://code.google.com/p/angleproject/" target="_blank">ANGLE layer</a>, on Windows platforms linewidth will always be 1 regardless of the set value.'},wireframe:{"!type":"bool","!doc":"Render geometry as wireframe (using GL_LINES instead of GL_TRIANGLES). Default is false (i.e. render as flat polygons)."},wireframeLinewidth:{"!type":"number","!doc":'Due to limitations in the <a href="https://code.google.com/p/angleproject/" target="_blank">ANGLE layer</a>, on Windows platforms linewidth will always be 1 regardless of the set value.'},fog:{"!type":"bool","!doc":"Define whether the material color is affected by global fog settings; true to pass fog uniforms to the shader. Default is false."},lights:{"!type":"bool","!doc":"Defines whether this material uses lighting; true to pass uniform data related to lighting to this shader"},vertexColors:{"!type":"bool","!doc":"Define how the vertices are colored, by defining how the *colors* attribute gets populated. Default is false."},morphTargets:{"!type":"bool","!doc":"Defines whether the material uses morphTargets; true morphTarget attributes to this shader"},morphNormals:{"!type":"boolean","!doc":`Defines whether the material uses morphNormals. Set as true to pass morphNormal attributes from the [page:Geometry]
			to the shader. Default is *false*.`},program:{"!type":"+THREE.WebGLProgram","!doc":"The compiled shader program associated with this material, generated by [page:WebGLRenderer]. You should not need to access this property."},clone:{"!type":"fn() -> +THREE.ShaderMaterial","!doc":"Generates a shallow copy of this material. Note that the vertexShader and fragmentShader are copied <emph>by reference</emph>, as are the definitions of the *attributes*; this means that clones of the material will share the same compiled [page:WebGLProgram]. However, the *uniforms* are copied <emph>by value</emph>, which allows you to have different sets of uniforms for different copies of the material."}},"!doc":`Material rendered with custom shaders. A shader is a small program written in [link:https://www.opengl.org/documentation/glsl/ GLSL] to run on the GPU. You may want to use a custom shader if you need to:
		<ul>
			<li>implement an effect not included with any of the built-in [page:Material materials]</li>
			<li>combine many objects into a single [page:Geometry] or [page:BufferGeometry] in order to improve performance</li>
			<li>associate custom data with individual vertices ("custom attributes")</li>
		</ul>
		Note that a ShaderMaterial will only be rendered properly by [page:WebGLRenderer], since the GLSL code in the vertexShader and fragmentShader properties must be compiled and run on the GPU using WebGL.`,"!type":"fn(parameters: object)"},SpriteCanvasMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/SpriteCanvasMaterial",prototype:{"!proto":"THREE.Material.prototype",color:{"!type":"+THREE.Color","!doc":"The color of the sprite. The material will set up the color for the context before calling the material's program."},program:{"!type":"fn(context: CanvasRenderingContext2D, color: +THREE.Color)","!doc":"Define a program that will use the context to draw the sprite."}},"!doc":"Create a material that can draw custom sprites using a 2d canvas.","!type":"fn(parameters: object)"},SpriteMaterial:{"!url":"http://threejs.org/docs/#Reference/materials/SpriteMaterial",prototype:{"!proto":"THREE.Material.prototype",color:{"!type":"+THREE.Color","!doc":"The texture is multiplied by this color. The default is 0xffffff"},map:{"!type":"+THREE.Texture","!doc":"The texture map. Default is null."},rotation:{"!type":"Radians","!doc":"The rotation of the sprite in radians. Default is 0."},fog:{"!type":"boolean","!doc":"Whether or not this material affected by the scene's fog. Default is false"}},"!doc":"A material for a [page:Sprite].","!type":"fn(parameters: object)"},Box2:{"!url":"http://threejs.org/docs/#Reference/math/Box2",prototype:{min:{"!type":"+THREE.Vector2","!doc":"Lower (x, y) boundary of this box."},max:{"!type":"+THREE.Vector2","!doc":"Upper (x, y) boundary of this box."},set:{"!type":"fn(min: +THREE.Vector2, max: +THREE.Vector2) -> +THREE.Box2","!doc":"Sets the lower and upper (x, y) boundaries of this box."},expandByPoint:{"!type":"fn(point: +THREE.Vector2) -> +THREE.Box2","!doc":"Expands the boundaries of this box to include *point*."},clampPoint:{"!type":"fn(point: +THREE.Vector2, optionalTarget: +THREE.Vector2) -> +THREE.Vector2","!doc":"Clamps *point* within the bounds of this box."},isIntersectionBox:{"!type":"fn(box: +THREE.Box2) -> bool","!doc":"Determines whether or not this box intersects *box*."},setFromPoints:{"!type":"fn(points: []) -> +THREE.Box2","!doc":"Sets the upper and lower bounds of this box to include all of the points in *points*."},size:{"!type":"fn(optionalTarget: +THREE.Vector2) -> +THREE.Vector2","!doc":"Returns the width and height of this box."},union:{"!type":"fn(box: +THREE.Box2) -> +THREE.Box2","!doc":`Unions this box with *box* setting the upper bound of this box to the greater of the 
		two boxes' upper bounds and the lower bound of this box to the lesser of the two boxes'
		lower bounds.`},getParameter:{"!type":"fn(point: +THREE.Vector2, optionalTarget: +THREE.Vector2) -> +THREE.Vector2","!doc":"Returns a point as a proportion of this box's width and height."},expandByScalar:{"!type":"fn(scalar: float) -> +THREE.Box2","!doc":`Expands each dimension of the box by *scalar*. If negative, the dimensions of the box <br>
		will be contracted.`},intersect:{"!type":"fn(box: +THREE.Box2) -> +THREE.Box2","!doc":`Returns the intersection of this and *box*, setting the upper bound of this box to the lesser <br>
		of the two boxes' upper bounds and the lower bound of this box to the greater of the two boxes' <br>
		lower bounds.`},containsBox:{"!type":"fn(box: +THREE.Box2) -> bool","!doc":`Returns true if this box includes the entirety of *box*. If this and *box* overlap exactly,<br>
		this function also returns true.`},translate:{"!type":"fn(offset: +THREE.Vector2) -> +THREE.Box2","!doc":`Adds *offset* to both the upper and lower bounds of this box, effectively moving this box <br>
		*offset* units in 2D space.`},empty:{"!type":"fn() -> bool","!doc":`Returns true if this box includes zero points within its bounds.<br>
		Note that a box with equal lower and upper bounds still includes one point, the
		one both bounds share.`},clone:{"!type":"fn() -> +THREE.Box2","!doc":"Returns a copy of this box."},equals:{"!type":"fn(box: +THREE.Box2) -> bool","!doc":"Returns true if this box and *box* share the same lower and upper bounds."},expandByVector:{"!type":"fn(vector: +THREE.Vector2) -> +THREE.Box2","!doc":`Expands this box equilaterally by *vector*. The width of this box will be
		expanded by the x component of *vector* in both directions. The height of 
		this box will be expanded by the y component of *vector* in both directions.`},copy:{"!type":"fn(box: +THREE.Box2) -> +THREE.Box2","!doc":"Copies the values of *box* to this box."},makeEmpty:{"!type":"fn() -> +THREE.Box2","!doc":"Makes this box empty."},center:{"!type":"fn(optionalTarget: +THREE.Vector2) -> +THREE.Vector2","!doc":"Returns the center point of this box."},distanceToPoint:{"!type":"fn(point: +THREE.Vector2) -> number","!doc":`Returns the distance from any edge of this box to the specified point. <br>
		If the point lies inside of this box, the distance will be 0.`},containsPoint:{"!type":"fn(point: +THREE.Vector2) -> bool","!doc":"Returns true if the specified point lies within the boundaries of this box."},setFromCenterAndSize:{"!type":"fn(center: +THREE.Vector2, size: +THREE.Vector2) -> +THREE.Box2","!doc":`Centers this box on *center* and sets this box's width and height to the values specified
		in *size*.`}},"!doc":"Represents a boundary box in 2D space.","!type":"fn(min: +THREE.Vector2, max: +THREE.Vector2)"},Box3:{"!url":"http://threejs.org/docs/#Reference/math/Box3",prototype:{min:{"!type":"+THREE.Vector3","!doc":"Lower (x, y, z) boundary of this box."},max:{"!type":"+THREE.Vector3","!doc":"Upper (x, y, z) boundary of this box."},set:{"!type":"fn(min: +THREE.Vector3, max: +THREE.Vector3) -> +THREE.Box3","!doc":"Sets the lower and upper (x, y, z) boundaries of this box."},applyMatrix4:{"!type":"fn(matrix: +THREE.Matrix4) -> +THREE.Box3","!doc":"Transforms this Box3 with the supplied matrix."},clampPoint:{"!type":"fn(point: +THREE.Vector3, optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Clamps *point* within the bounds of this box."},isIntersectionBox:{"!type":"fn(box: +THREE.Box3) -> bool","!doc":"Determines whether or not this box intersects *box*."},setFromPoints:{"!type":"fn(points: []) -> +THREE.Box3","!doc":"Sets the upper and lower bounds of this box to include all of the points in *points*."},setFromObject:{"!type":"fn(object: +THREE.Object3D) -> +THREE.Box3","!doc":`Computes the world-axis-aligned bounding box of an object (including its children),
		accounting for both the object's, and childrens', world transforms`},size:{"!type":"fn(optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Returns the width, height, and depth of this box."},union:{"!type":"fn(box: +THREE.Box3) -> +THREE.Box3","!doc":`Unions this box with *box* setting the upper bound of this box to the greater of the 
		two boxes' upper bounds and the lower bound of this box to the lesser of the two boxes'
		lower bounds.`},getParameter:{"!type":"fn(point: +THREE.Vector3, optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Returns point as a proportion of this box's width and height."},intersect:{"!type":"fn(box: +THREE.Box3) -> +THREE.Box3","!doc":`Returns the intersection of this and *box*, setting the upper bound of this box to the lesser <br>
		of the two boxes' upper bounds and the lower bound of this box to the greater of the two boxes' <br>
		lower bounds.`},containsBox:{"!type":"fn(box: +THREE.Box3) -> bool","!doc":`Returns true if this box includes the entirety of *box*. If this and *box* overlap exactly,<br>
		this function also returns true.`},containsPoint:{"!type":"fn(point: +THREE.Vector3) -> bool","!doc":"Returns true if the specified point lies within the boundaries of this box."},translate:{"!type":"fn(offset: +THREE.Vector3) -> +THREE.Box3","!doc":`Adds *offset* to both the upper and lower bounds of this box, effectively moving this box <br>
		*offset* units in 3D space.`},empty:{"!type":"fn() -> bool","!doc":`Returns true if this box includes zero points within its bounds.<br>
		Note that a box with equal lower and upper bounds still includes one point, the
		one both bounds share.`},clone:{"!type":"fn() -> +THREE.Box3","!doc":"Returns a copy of this box."},equals:{"!type":"fn(box: +THREE.Box3) -> bool","!doc":"Returns true if this box and *box* share the same lower and upper bounds."},expandByPoint:{"!type":"fn(point: +THREE.Vector3) -> +THREE.Box3","!doc":"Expands the boundaries of this box to include *point*."},expandByScalar:{"!type":"fn(scalar: float) -> +THREE.Box3","!doc":`Expands each dimension of the box by *scalar*. If negative, the dimensions of the box <br>
		will be contracted.`},expandByVector:{"!type":"fn(vector: +THREE.Vector3) -> +THREE.Box3","!doc":`Expands this box equilaterally by *vector*. The width of this box will be
		expanded by the x component of *vector* in both directions. The height of 
		this box will be expanded by the y component of *vector* in both directions.
		The depth of this box will be expanded by the z component of *vector* in
		both directions.`},copy:{"!type":"fn(box: +THREE.Box3) -> +THREE.Box3","!doc":"Copies the values of *box* to this box."},makeEmpty:{"!type":"fn() -> +THREE.Box3","!doc":"Makes this box empty."},center:{"!type":"fn(optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Returns the center point of this box."},getBoundingSphere:{"!type":"fn(optionalTarget: +THREE.Sphere) -> +THREE.Sphere","!doc":"Gets a sphere that bounds the box."},distanceToPoint:{"!type":"fn(point: +THREE.Vector3) -> number","!doc":`Returns the distance from any edge of this box to the specified point. <br>
		If the point lies inside of this box, the distance will be 0.`},setFromCenterAndSize:{"!type":"fn(center: +THREE.Vector3, size: +THREE.Vector3) -> +THREE.Box3","!doc":`Centers this box on *center* and sets this box's width and height to the values specified
		in *size*.`}},"!doc":"Represents a boundary box in 3d space.","!type":"fn(min: +THREE.Vector3, max: +THREE.Vector3)"},Color:{"!url":"http://threejs.org/docs/#Reference/math/Color",prototype:{r:{"!type":"number","!doc":"Red channel value between 0 and 1. Default is 1."},g:{"!type":"number","!doc":"Green channel value between 0 and 1. Default is 1."},b:{"!type":"number","!doc":"Blue channel value between 0 and 1. Default is 1."},copy:{"!type":"fn(color: +THREE.Color) -> +THREE.Color","!doc":"Copies given color."},copyGammaToLinear:{"!type":"fn(color: +THREE.Color) -> +THREE.Color","!doc":"Copies given color making conversion from gamma to linear space."},copyLinearToGamma:{"!type":"fn(color: +THREE.Color) -> +THREE.Color","!doc":"Copies given color making conversion from linear to gamma space."},convertGammaToLinear:{"!type":"fn() -> +THREE.Color","!doc":"Converts this color from gamma to linear space."},convertLinearToGamma:{"!type":"fn() -> +THREE.Color","!doc":"Converts this color from linear to gamma space."},setRGB:{"!type":"fn(r: number, g: number, b: number) -> +THREE.Color","!doc":"Sets this color from RGB values."},getHex:{"!type":"fn() -> number","!doc":"Returns the hexadecimal value of this color."},getHexString:{"!type":"fn() -> string","!doc":"Returns the string formated hexadecimal value of this color."},setHex:{"!type":"fn(hex: number) -> +THREE.Color","!doc":"Sets this color from a hexadecimal value."},setStyle:{"!type":"fn(style: string) -> +THREE.Color","!doc":"Sets this color	from a CSS-style string."},getStyle:{"!type":"fn() -> string","!doc":"Returns the value of this color as a CSS-style string. Example: rgb(255,0,0)"},setHSL:{"!type":"fn(h: number, s: number, l: number) -> +THREE.Color","!doc":"Sets color from hsl"},offsetHSL:{"!type":"fn(h: number, s: number, l: number) -> +THREE.Color","!doc":"Adds given h, s, and l to this color's existing h, s, and l values."},add:{"!type":"fn(color: +THREE.Color) -> +THREE.Color","!doc":"Adds rgb values of given color to rgb values of this color"},addColors:{"!type":"fn(color1: +THREE.Color, color2: +THREE.Color) -> +THREE.Color","!doc":"Sets this color to the sum of color1 and color2"},addScalar:{"!type":"fn(s: number) -> +THREE.Color","!doc":"Adds s to the rgb values of this color"},multiply:{"!type":"fn(color: +THREE.Color) -> +THREE.Color","!doc":"Multiplies this color's rgb values by given color's rgb values"},multiplyScalar:{"!type":"fn(s: number) -> +THREE.Color","!doc":"Multiplies this color's rgb values by s"},lerp:{"!type":"fn(color: +THREE.Color, alpha) -> +THREE.Color","!doc":"Linear interpolation of this colors rgb values and the rgb values of the first argument. The alpha argument can be thought of as the percent between the two colors, where 0 is this color and 1 is the first argument."},toArray:{"!type":"fn(array: []) -> []","!doc":"Returns an array [r,g,b]"},equals:{"!type":"fn(c: +THREE.Color) -> +THREE.Color","!doc":"Compares this color and c and returns true if they are the same, false otherwise."},clone:{"!type":"fn() -> +THREE.Color","!doc":"Clones this color."},set:{"!type":"fn(value) -> +THREE.Color","!doc":"Delegates to .copy, .setStyle, or .setHex depending on input type."}},"!doc":"Represents a color.","!type":"fn(value)"},Euler:{"!url":"http://threejs.org/docs/#Reference/math/Euler",prototype:{x:"number",y:"number",z:"number",order:"string",set:{"!type":"fn(x: number, y: number, z: number, order: string) -> +THREE.Euler","!doc":"Sets the angles of this euler transform."},copy:{"!type":"fn(euler: +THREE.Euler) -> +THREE.Euler","!doc":"Copies value of *euler* to this euler."},setFromRotationMatrix:{"!type":"fn(m: +THREE.Matrix4, order: string) -> +THREE.Euler","!doc":"Sets the angles of this euler transform from a pure rotation matrix based on the orientation specified by order."},setFromQuaternion:{"!type":"fn(q: +THREE.Quaternion, order: string) -> +THREE.Euler","!doc":"Sets the angles of this euler transform from a normalized quaternion based on the orientation specified by order."},reorder:{"!type":"fn(newOrder: string) -> +THREE.Euler","!doc":`Resets the euler angle with a new order by creating a quaternion from this euler angle and then setting this euler angle with the quaternion and the new order. <br>
		WARNING: this discards revolution information.`},setFromVector3:{"!type":"fn(vector: +THREE.Vector3, order: string) -> +THREE.Euler","!doc":"Optionally Vector3 to the XYZ parameters of Euler, and order to the Euler's order property."},toVector3:{"!type":"fn() -> +THREE.Vector3","!doc":"Returns the Euler's XYZ properties as a Vector3."},fromArray:{"!type":"fn(array: []) -> +THREE.Euler","!doc":`Assigns this euler's x angle to array[0]. <br>
		Assigns this euler's y angle to array[1]. <br>
		Assigns this euler's z angle to array[2]. <br>
		Optionally assigns this euler's order to array[3].`},toArray:{"!type":"fn(array: []) -> []","!doc":"Returns an array [x, y, z, order]"},equals:{"!type":"fn(euler: +THREE.Euler) -> bool","!doc":"Checks for strict equality of this euler and *euler*."},clone:{"!type":"fn() -> +THREE.Euler","!doc":"Returns a new euler created from this euler."}},"!doc":`Euler Angles. <br><br>

		Euler angles describe a rotation transformation by rotating an object on its various axes in specified amounts per axis, and a specified axis order.
		(More information on <a href="http://en.wikipedia.org/wiki/Euler_angles" target="blank">Wikipedia</a>)`,"!type":"fn(x: number, y: number, z: number, order: string)"},Frustum:{"!url":"http://threejs.org/docs/#Reference/math/Frustum",prototype:{planes:{"!type":"[]","!doc":"Array of 6 [page:Plane planes]."},setFromMatrix:{"!type":"fn(matrix: +THREE.Matrix4) -> +THREE.Frustum","!doc":"Array of 6 [page:Plane planes]."},intersectsObject:{"!type":"fn(object: +THREE.Object3D) -> bool","!doc":"Checks whether the object's bounding sphere is intersecting the Frustum."},clone:{"!type":"fn() -> +THREE.Frustum","!doc":"Return a copy of this Frustum"},set:{"!type":"fn(p0: +THREE.Plane, p1: +THREE.Plane, p2: +THREE.Plane, p3: +THREE.Plane, p4: +THREE.Plane, p5: +THREE.Plane) -> bool","!doc":"Sets the current frustum from the passed planes. No plane order is implicitely implied."},copy:{"!type":"fn(frustum: +THREE.Frustum) -> +THREE.Frustum","!doc":"Copies the values of the passed frustum."},containsPoint:{"!type":"fn(point: +THREE.Vector3) -> bool","!doc":"Checks to see if the frustum contains the point."},intersectsSphere:{"!type":"fn(sphere: +THREE.Sphere) -> bool","!doc":"Check to see if the sphere intersects with the frustum."}},"!doc":`<a href="http://en.wikipedia.org/wiki/Frustum">Frustums</a> are used to determine what is inside the camera's field of view. They help speed up the rendering process.`,"!type":"fn(p0: +THREE.Plane, p1: +THREE.Plane, p2: +THREE.Plane, p3: +THREE.Plane, p4: +THREE.Plane, p5: +THREE.Plane)"},Line3:{"!url":"http://threejs.org/docs/#Reference/math/Line3",prototype:{start:"+THREE.Vector3",end:"+THREE.Vector3",set:{"!type":"fn(start: +THREE.Vector3, end: +THREE.Vector3) -> +THREE.Line3","!doc":"Sets the start and end values by copying the provided vectors."},copy:{"!type":"fn(line: +THREE.Line3) -> +THREE.Line3","!doc":"Copies the passed line's start and end vectors to this line."},clone:{"!type":"fn() -> +THREE.Line3","!doc":"Return a new copy of this [page:Line3]."},equals:{"!type":"fn(line: +THREE.Line3) -> bool","!doc":`<h3>[method:Float distance]()</h3>
		<div>
		Returns the length of the line segment.
		</div>
		Returns true if both line's start and end points are equal.`},distance:{"!type":"fn() -> number","!doc":"Returns the length of the line segment."},distanceSq:{"!type":"fn() -> number","!doc":"Returns the line segment's length squared."},applyMatrix4:{"!type":"fn(matrix: +THREE.Matrix4) -> +THREE.Line3","!doc":"Apply a matrix transform to the line segment."},at:{"!type":"fn(t: number, optionalTarget: +THREE.Vector3) -> Vector","!doc":"Return a vector at a certain position along the line. When t = 0, it returns the start vector, and when t=1 it returns the end vector."},center:{"!type":"fn(optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Return the center of the line segment."},delta:{"!type":"fn(optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Returns the delta vector of the line segment, or the end vector minus the start vector."},closestPointToPoint:{"!type":"fn(point: +THREE.Vector3, clampToLine: bool, optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Returns the closets point on the line. If clamp to line is true, then the returned value will be clamped to the line segment."},closestPointToPointParameter:{"!type":"fn(point: +THREE.Vector3, clampToLine: bool) -> number","!doc":"Returns a point parameter based on the closest point as projected on the line segement. If clamp to line is true, then the returned value will be between 0 and 1."}},"!doc":"A geometric line segment represented by a start and end point.","!type":"fn(start: +THREE.Vector3, end: +THREE.Vector3)"},Math:{"!url":"http://threejs.org/docs/#Reference/math/Math",prototype:{clamp:{"!type":"fn(x: number, a: number, b: number) -> number","!doc":"Clamps the *x* to be between *a* and *b*."},clampBottom:{"!type":"fn(x: number, a: number) -> number","!doc":"Clamps the *x* to be larger than *a*."},mapLinear:{"!type":"fn(x: number, a1: number, a2: number, b1: number, b2: number) -> number","!doc":"Linear mapping of *x* from range [*a1*, *a2*] to range [*b1*, *b2*]."},random16:{"!type":"fn() -> number","!doc":`Random float from 0 to 1 with 16 bits of randomness.<br>
		Standard Math.random() creates repetitive patterns when applied over larger space.`},randInt:{"!type":"fn(low: number, high: number) -> number","!doc":"Random integer from *low* to *high* interval."},randFloat:{"!type":"fn(low: number, high: number) -> number","!doc":"Random float from *low* to *high* interval."},randFloatSpread:{"!type":"fn(range: number) -> number","!doc":"Random float from *- range / 2* to *range / 2* interval."},sign:{"!type":"fn(x: number) -> number","!doc":"Returns -1 if *x* is less than 0, 1 if *x* is greater than 0, and 0 if *x* is zero."},degToRad:{"!type":"fn(degrees: number) -> number","!doc":"Converts degrees to radians."},radToDeg:{"!type":"fn(radians: number) -> number","!doc":"Converts radians to degrees"},smoothstep:{"!type":"fn(x: number, min: number, max: number) -> number","!doc":`Returns a value between 0-1 that represents the percentage that x has moved between min and max, but smoothed or slowed down the closer X is to the min and max.<br><br>
		
		[link:http://en.wikipedia.org/wiki/Smoothstep Wikipedia]`},smootherstep:{"!type":"fn(x: number, min: number, max: number) -> number","!doc":"Returns a value between 0-1. It works the same as smoothstep, but more smooth."}},"!doc":"Math utility functions"},Matrix3:{"!url":"http://threejs.org/docs/#Reference/math/Matrix3",prototype:{elements:{"!type":"Float32Array","!doc":"Float32Array with column-major matrix values."},transpose:{"!type":"fn() -> +THREE.Matrix3","!doc":"Transposes this matrix in place."},transposeIntoArray:{"!type":"fn(array: []) -> +THREE.Matrix3","!doc":"Transposes this matrix into the supplied array, and returns itself."},determinant:{"!type":"fn() -> number","!doc":"Returns the matrix's determinant."},set:{"!type":"fn(n11: number, n12: number, n13: number, n21: number, n22: number, n23: number, n31: number, n32: number, n33: number) -> +THREE.Matrix3","!doc":"Set the 3x3 matrix values to the given row-major sequence of values."},multiplyScalar:{"!type":"fn(scalar: number) -> +THREE.Matrix3","!doc":"Multiply every component of the matrix by a scalar value."},applyToBufferAttribute:{"!type":"fn(attribute: []) -> +THREE.BufferAttribute","!doc":"Multiply (apply) this matrix to every vector3 in the attribute."},getNormalMatrix:{"!type":"fn(matrix4: +THREE.Matrix4) -> +THREE.Matrix3","!doc":"Set this matrix as the normal matrix of the passed [page:Matrix4 matrix4]. The normal matrix is the inverse transpose of the matrix."},getInverse:{"!type":"fn(matrix4: +THREE.Matrix4, throwOnInvertible: bool) -> +THREE.Matrix3","!doc":"Set this matrix to the inverse of the passed matrix."},copy:{"!type":"fn(matrix: +THREE.Matrix3) -> +THREE.Matrix3","!doc":"Copy the values of the passed matrix."},clone:{"!type":"fn() -> +THREE.Matrix3","!doc":"Create a copy of the matrix."},identity:{"!type":"fn() -> +THREE.Matrix3","!doc":`Set as an identity matrix.<br><br>
		
		1, 0, 0<br>
		0, 1, 0<br>
		0, 0, 1<br>`}},"!doc":"A 3x3 matrix.","!type":"fn(n11: number, n12: number, n13: number, n21: number, n22: number, n23: number, n31: number, n32: number, n33: number)"},Matrix4:{"!url":"http://threejs.org/docs/#Reference/math/Matrix4",prototype:{elements:{"!type":"Float32Array","!doc":"A column-major list of matrix values."},set:{"!type":"fn(n11: number, n12: number, n13: number, n14: number, n21: number, n22: number, n23: number, n24: number, n31: number, n32: number, n33: number, n34: number, n41: number, n42: number, n43: number, n44: number) -> +THREE.Matrix4","!doc":"Sets all fields of this matrix to the supplied row-major values n11..n44."},identity:{"!type":"fn() -> +THREE.Matrix4","!doc":"Resets this matrix to identity."},copy:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Matrix4","!doc":"Copies a matrix *m* into this matrix."},copyPosition:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Matrix4","!doc":"Copies the translation component of the supplied matrix *m* into this matrix translation component."},makeBasis:{"!type":"fn(xAxis: +THREE.Vector3, zAxis: +THREE.Vector3, zAxis: +THREE.Vector3) -> +THREE.Matrix4","!doc":"Creates the basis matrix consisting of the three provided axis vectors.  Returns the current matrix."},extractBasis:{"!type":"fn(xAxis: +THREE.Vector3, zAxis: +THREE.Vector3, zAxis: +THREE.Vector3) -> +THREE.Matrix4","!doc":"Extracts basis of into the three axis vectors provided.  Returns the current matrix."},extractRotation:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Matrix4","!doc":"Extracts the rotation of the supplied matrix *m* into this matrix rotation component."},lookAt:{"!type":"fn(eye: +THREE.Vector3, center: +THREE.Vector3, up: +THREE.Vector3) -> +THREE.Matrix4","!doc":"Constructs a rotation matrix, looking from *eye* towards *center* with defined *up* vector."},multiply:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Matrix4","!doc":"Multiplies this matrix by *m*."},multiplyMatrices:{"!type":"fn(a: +THREE.Matrix4, b: +THREE.Matrix4) -> +THREE.Matrix4","!doc":"Sets this matrix to *a x b*."},multiplyScalar:{"!type":"fn(s: number) -> +THREE.Matrix4","!doc":"Multiplies this matrix by *s*."},determinant:{"!type":"fn() -> number","!doc":`Computes determinant of this matrix.<br>
		Based on [link:http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm]`},transpose:{"!type":"fn() -> +THREE.Matrix4","!doc":"Transposes this matrix."},flattenToArrayOffset:{"!type":"fn(flat: [], offset: number) -> []","!doc":"Flattens this matrix into supplied *flat* array starting from *offset* position in the array."},setPosition:{"!type":"fn(v: +THREE.Vector3) -> +THREE.Matrix4","!doc":"Sets the position component for this matrix from vector *v*."},getInverse:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Matrix4","!doc":`Sets this matrix to the inverse of matrix *m*.<br>
		Based on [link:http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm].`},makeRotationFromEuler:{"!type":"fn(euler: +THREE.Euler) -> +THREE.Matrix4","!doc":`Sets the rotation submatrix of this matrix to the rotation specified by Euler angles, the rest of the matrix is identity.<br>
		Default order is *"XYZ"*.`},makeRotationFromQuaternion:{"!type":"fn(q: +THREE.Quaternion) -> +THREE.Matrix4","!doc":"Sets the rotation submatrix of this matrix to the rotation specified by *q*. The rest of the matrix is identity."},scale:{"!type":"fn(v: +THREE.Vector3) -> +THREE.Matrix4","!doc":"Multiplies the columns of this matrix by vector *v*."},compose:{"!type":"fn(translation: +THREE.Vector3, quaternion: +THREE.Quaternion, scale: +THREE.Vector3) -> +THREE.Matrix4","!doc":"Sets this matrix to the transformation composed of *translation*, *quaternion* and *scale*."},decompose:{"!type":"fn(translation: +THREE.Vector3, quaternion: +THREE.Quaternion, scale: +THREE.Vector3) -> []","!doc":"Decomposes this matrix into the *translation*, *quaternion* and *scale* components."},makeTranslation:{"!type":"fn(x: number, y: number, z: number) -> +THREE.Matrix4","!doc":"Sets this matrix as translation transform."},makeRotationX:{"!type":"fn(theta: number) -> +THREE.Matrix4","!doc":"Sets this matrix as rotation transform around x axis by *theta* radians."},makeRotationY:{"!type":"fn(theta: number) -> +THREE.Matrix4","!doc":"Sets this matrix as rotation transform around y axis by *theta* radians."},makeRotationZ:{"!type":"fn(theta: number) -> +THREE.Matrix4","!doc":"Sets this matrix as rotation transform around z axis by *theta* radians."},makeRotationAxis:{"!type":"fn(axis: +THREE.Vector3, theta: number) -> +THREE.Matrix4","!doc":`Sets this matrix as rotation transform around *axis* by *angle* radians.<br>
		Based on [link:http://www.gamedev.net/reference/articles/article1199.asp].`},makeScale:{"!type":"fn(x: number, y: number, z: number) -> +THREE.Matrix4","!doc":"Sets this matrix as scale transform."},makePerspective:{"!type":"fn(left: number, right: number, top: number, bottom: number, near: number, far: number) -> +THREE.Matrix4","!doc":"Creates a perspective projection matrix."},makeOrthographic:{"!type":"fn(left: number, right: number, top: number, bottom: number, near: number, far: number) -> +THREE.Matrix4","!doc":"Creates an orthographic projection matrix."},clone:{"!type":"fn() -> +THREE.Matrix4","!doc":"Clones this matrix."},applyToBufferAttribute:{"!type":"fn(attribute: []) -> +THREE.BufferAttribute","!doc":"Multiply (apply) this matrix to every vector3 in the attribute."},getMaxScaleOnAxis:{"!type":"fn() -> number","!doc":"Gets the max scale value of the 3 axes."}},"!doc":"A 4x4 Matrix.","!type":"fn(n11: number, n12: number, n13: number, n14: number, n21: number, n22: number, n23: number, n24: number, n31: number, n32: number, n33: number, n34: number, n41: number, n42: number, n43: number, n44: number)"},Plane:{"!url":"http://threejs.org/docs/#Reference/math/Plane",prototype:{normal:"+THREE.Vector3",constant:"number",normalize:{"!type":"fn() -> +THREE.Plane","!doc":"Normalizes the normal vector, and adjusts the constant value accordingly."},set:{"!type":"fn(normal: +THREE.Vector3, constant: number) -> +THREE.Plane","!doc":"Sets the plane's values."},copy:{"!type":"fn(plane: +THREE.Plane) -> +THREE.Plane","!doc":"Copies the values of the passed plane to this plane."},applyMatrix4:{"!type":"fn(matrix: +THREE.Matrix4, optionalNormalMatrix: +THREE.Matrix3) -> +THREE.Plane","!doc":`Apply a Matrix4 to the plane. The second parameter is optional.
		
		<code>
		var optionalNormalMatrix = new THREE.Matrix3().getNormalMatrix( matrix ) 
		</code>`},orthoPoint:{"!type":"fn(point: +THREE.Vector3, optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Returns a vector in the same direction as the Plane's normal, but the magnitude is passed point's original distance to the plane."},isIntersectionLine:{"!type":"fn(line: +THREE.Line3) -> bool","!doc":"Tests whether a line segment intersects with the plane. (Do not mistake this for a collinear check.)"},intersectLine:{"!type":"fn(line: +THREE.Line3, optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Returns the intersection point of the passed line and the plane. Returns undefined if the line does not intersect. Returns the line's starting point if the line is coplanar with the plane."},setFromNormalAndCoplanarPoint:{"!type":"fn(normal: +THREE.Vector3, point: +THREE.Vector3) -> +THREE.Vector3","!doc":"Sets the plane's values as defined by a normal and arbitrary coplanar point."},clone:{"!type":"fn() -> +THREE.Plane","!doc":"Returns a new copy of this plane."},distanceToPoint:{"!type":"fn(point: +THREE.Vector3) -> number","!doc":"Returns the smallest distance from the point to the plane."},equals:{"!type":"fn(plane: +THREE.Plane) -> bool","!doc":"Checks to see if two planes are equal (their normals and constants match)"},setComponents:{"!type":"fn(x: number, y: number, z: number, w: number) -> +THREE.Plane","!doc":"Set the individual components that make up the plane."},distanceToSphere:{"!type":"fn(sphere: +THREE.Sphere) -> number","!doc":"Returns the smallest distance from an edge of the sphere to the plane."},setFromCoplanarPoints:{"!type":"fn(a: +THREE.Vector3, b: +THREE.Vector3, c: +THREE.Vector3) -> +THREE.Plane","!doc":"Defines the plane based on the 3 provided points. The winding order is counter clockwise, and determines which direction the normal will point."},projectPoint:{"!type":"fn(point: +THREE.Vector3, optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Projects a point onto the plane. The projected point is the closest point on the plane to the passed point, so a line drawn from the projected point and the passed point would be orthogonal to the plane."},negate:{"!type":"fn() -> +THREE.Plane","!doc":"Negates both the normal vector and constant, effectively mirroring the plane across the origin."},translate:{"!type":"fn(offset: +THREE.Vector3) -> +THREE.Plane","!doc":"Translates the plane the distance defined by the vector. Note that this only affects the constant (distance from origin) and will not affect the normal vector."},coplanarPoint:{"!type":"fn(optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Returns a coplanar point. (The projection of the normal vector at the origin onto the plane.)"}},"!doc":"A two dimensional surface that extends infinitely in 3d space.","!type":"fn(normal: +THREE.Vector3, constant: number)"},Quaternion:{"!url":"http://threejs.org/docs/#Reference/math/Quaternion",prototype:{x:"number",y:"number",z:"number",w:"number",set:{"!type":"fn(x: number, y: number, z: number, w: number) -> +THREE.Quaternion","!doc":"Sets values of this quaternion."},copy:{"!type":"fn(q: +THREE.Quaternion) -> +THREE.Quaternion","!doc":"Copies values of *q* to this quaternion."},setFromEuler:{"!type":"fn(euler: +THREE.Euler) -> +THREE.Quaternion","!doc":"Sets this quaternion from rotation specified by Euler angle."},setFromAxisAngle:{"!type":"fn(axis: +THREE.Vector3, angle: number) -> +THREE.Quaternion","!doc":`Sets this quaternion from rotation specified by axis and angle.<br>
		Adapted from [link:http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm].<br>
		*Axis* is asumed to be normalized, *angle* is in radians.`},setFromRotationMatrix:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Quaternion","!doc":`Sets this quaternion from rotation component of *m*.<br>
		Adapted from [link:http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm].`},setFromUnitVectors:{"!type":"fn(vFrom: +THREE.Vector3, vTo: +THREE.Vector3) -> +THREE.Quaternion","!doc":`Sets this quaternion to the rotation required to rotate direction vector *vFrom* to direction vector *vTo*.<br>
		Adapted from [link:http://lolengine.net/blog/2013/09/18/beautiful-maths-quaternion-from-vectors].<br>
		*vFrom* and *vTo* are assumed to be normalized.`},inverse:{"!type":"fn() -> +THREE.Quaternion","!doc":"Inverts this quaternion."},length:{"!type":"fn() -> number","!doc":"Computes length of this quaternion."},normalize:{"!type":"fn() -> +THREE.Quaternion","!doc":"Normalizes this quaternion."},multiply:{"!type":"fn(b: +THREE.Quaternion) -> +THREE.Quaternion","!doc":"Multiplies this quaternion by *b*."},multiplyQuaternions:{"!type":"fn(a: +THREE.Quaternion, b: +THREE.Quaternion) -> +THREE.Quaternion","!doc":`Sets this quaternion to *a x b*<br>
		Adapted from [link:http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm].`},multiplyVector3:{"!type":"fn(vector: +THREE.Vector3, dest: +THREE.Vector3) -> +THREE.Quaternion","!doc":`Rotates *vector* by this quaternion into *dest*.<br>
		If *dest* is not specified, result goes to *vec*.`},clone:{"!type":"fn() -> +THREE.Quaternion","!doc":"Clones this quaternion."},slerp:{"!type":"fn(qb: +THREE.Quaternion, t: float) -> +THREE.Quaternion","!doc":`Handles the spherical linear interpolation between this quaternion's configuration
		and that of *qb*. *t* represents how close to the current (0) or target (1) rotation the
		result should be.`},toArray:{"!type":"fn(array: []) -> []","!doc":"Returns the numerical elements of this quaternion in an array of format (x, y, z, w)."},equals:{"!type":"fn(v: +THREE.Quaternion) -> bool","!doc":`Compares each component of *v* to each component of this quaternion to determine if they
		represent the same rotation.`},lengthSq:{"!type":"fn() -> number","!doc":"Calculates the squared length of the quaternion."},fromArray:{"!type":"fn(array: []) -> +THREE.Quaternion","!doc":"Sets this quaternion's component values from an array."},conjugate:{"!type":"fn() -> +THREE.Quaternion","!doc":`Returns the rotational conjugate of this quaternion. The conjugate of a quaternion
		represents the same rotation in the opposite direction about the rotational axis.`}},"!doc":'Implementation of a <a href="http://en.wikipedia.org/wiki/Quaternion">quaternion</a>. This is used for rotating things without encountering the dreaded <a href="http://en.wikipedia.org/wiki/Gimbal_lock">gimbal lock</a> issue, amongst other advantages.',"!type":"fn(x: number, y: number, z: number, w: number)"},Ray:{"!url":"http://threejs.org/docs/#Reference/math/Ray",prototype:{origin:{"!type":"+THREE.Vector3","!doc":"The origin of the [page:Ray]."},direction:{"!type":"+THREE.Vector3","!doc":"The direction of the [page:Ray]. This must be normalized (with [page:Vector3].normalize) for the methods to operate properly."},applyMatrix4:{"!type":"fn(matrix4: +THREE.Matrix4) -> +THREE.Ray","!doc":"Transform this [page:Ray] by the [page:Matrix4]."},clone:{"!type":"fn() -> +THREE.Ray","!doc":"Create a clone of this [page:Ray]."},closestPointToPoint:{"!type":"fn(point: +THREE.Vector3, optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Get the point along this [page:Ray] that is closest to the [page:Vector3] provided."},copy:{"!type":"fn(ray: +THREE.Ray) -> +THREE.Ray","!doc":"Copy the properties of the provided [page:Ray], then return this [page:Ray]."},distanceToPlane:{"!type":"fn(plane: +THREE.Plane) -> number","!doc":"Get the distance from the origin to the [page:Plane], or *null* if the [page:Ray] doesn't intersect the [page:Plane]."},distanceToPoint:{"!type":"fn(point: +THREE.Vector3) -> number","!doc":"Get the distance of the closest approach between the [page:Ray] and the [page:Vector3]."},equals:{"!type":"fn(ray: +THREE.Ray) -> bool","!doc":"Return whether this and the other [page:Ray] have equal offsets and directions."},isIntersectionBox:{"!type":"fn(box: +THREE.Box3) -> bool","!doc":"Return whether or not this [page:Ray] intersects with the [page:Box3]."},isIntersectionPlane:{"!type":"fn(plane: +THREE.Plane) -> bool","!doc":"Return whether or not this [page:Ray] intersects with the [page:Plane]."},isIntersectionSphere:{"!type":"fn(sphere: +THREE.Sphere) -> bool","!doc":"Return whether or not this [page:Ray] intersects with the [page:Sphere]."},recast:{"!type":"fn(t: number) -> +THREE.Ray","!doc":"Shift the origin of this [page:Ray] along its direction by the distance given."},set:{"!type":"fn(origin: +THREE.Vector3, direction: +THREE.Vector3) -> +THREE.Ray","!doc":"Copy the parameters to the origin and direction properties."}},"!doc":"A ray that emits from an origin in a certain direction.","!type":"fn(origin: +THREE.Vector3, direction: +THREE.Vector3)"},Sphere:{"!url":"http://threejs.org/docs/#Reference/math/Sphere",prototype:{center:"+THREE.Vector3",radius:"number",applyMatrix4:{"!type":"fn(matrix: +THREE.Matrix4) -> +THREE.Sphere","!doc":"Transforms this sphere with the provided [page:Matrix4]."},clampPoint:{"!type":"fn(point: +THREE.Vector3, optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Clamps a point within the sphere. If the point is is outside the sphere, it will clamp it to the closets point on the edge of the sphere."},translate:{"!type":"fn(offset: +THREE.Vector3) -> +THREE.Sphere","!doc":"Translate the sphere's center by the provided offset vector."},clone:{"!type":"fn() -> +THREE.Sphere","!doc":"Provides a new copy of the sphere."},equals:{"!type":"fn(sphere: +THREE.Sphere) -> bool","!doc":"Checks to see if the two spheres' centers and radii are equal."},setFromPoints:{"!type":"fn(points: [], optionalCenter: +THREE.Vector3) -> +THREE.Sphere","!doc":"Computes the minimum bounding sphere for *points*. If *optionalCenter* is given, it is used as the sphere's center. Otherwise, the center of the axis-aligned bounding box encompassing *points* is calculated."},distanceToPoint:{"!type":"fn(point: +THREE.Vector3) -> number","!doc":"Returns the closest distance from the boundary of the sphere to the point. If the sphere contains the point, the distance will be negative."},getBoundingBox:{"!type":"fn(optionalTarget: Box) -> Box","!doc":"Returns a bounding box for the sphere, optionally setting a provided box target."},containsPoint:{"!type":"fn(point: +THREE.Vector3) -> bool","!doc":"Checks to see if the sphere contains the provided point inclusive of the edge of the sphere."},copy:{"!type":"fn(sphere: +THREE.Sphere) -> +THREE.Sphere","!doc":"Copies the values of the passed sphere to this sphere."},intersectsSphere:{"!type":"fn(sphere: +THREE.Sphere) -> bool","!doc":"Checks to see if two spheres intersect."},empty:{"!type":"fn() -> bool","!doc":"Checks to see if the sphere is empty (the radius set to 0)."}},"!doc":"A geometric sphere defined by a center position and radius.","!type":"fn(center: +THREE.Vector3, radius: number)"},Triangle:{"!url":"http://threejs.org/docs/#Reference/math/Triangle",prototype:{a:{"!type":"+THREE.Vector3","!doc":"The first [page:Vector3] of the triangle."},b:{"!type":"+THREE.Vector3","!doc":"The second [page:Vector3] of the triangle."},c:{"!type":"+THREE.Vector3","!doc":"The third [page:Vector3] of the triangle."},setFromPointsAndIndices:{"!type":"fn(points: [], i0: number, i1: number, i2: number) -> +THREE.Triangle","!doc":"Sets the triangle's vectors to the vectors in the array."},set:{"!type":"fn(a: +THREE.Vector3, b: +THREE.Vector3, c: +THREE.Vector3) -> +THREE.Triangle","!doc":"Sets the triangle's vectors to the passed vectors."},getNormal:{"!type":"fn(optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Return the calculated normal of the triangle."},getBarycoord:{"!type":"fn(point: +THREE.Vector3, optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":`Return a barycentric coordinate from the given vector. <br><br>
		[link:http://commons.wikimedia.org/wiki/File:Barycentric_coordinates_1.png](Picture of barycentric coordinates)`},clone:{"!type":"fn() -> +THREE.Triangle","!doc":"Return a new copy of this triangle."},getArea:{"!type":"fn() -> number","!doc":"Return the area of the triangle."},getMidpoint:{"!type":"fn(optionalTarget: +THREE.Vector3) -> +THREE.Vector3","!doc":"Return the midpoint of the triangle. Optionally sets a target vector."},equals:{"!type":"fn(triangle: +THREE.Triangle) -> bool","!doc":"Checks to see if two triangles are equal (share the same vectors)."},getPlane:{"!type":"fn(optionalTarget: +THREE.Plane) -> +THREE.Plane","!doc":"Return a [page:Plane plane] based on the triangle. Optionally sets a target plane."},containsPoint:{"!type":"fn(point: +THREE.Vector3) -> bool","!doc":"Checks to see if the passed vector is within the triangle."},copy:{"!type":"fn(triangle: +THREE.Triangle) -> +THREE.Triangle","!doc":"Copies the values of the vertices of the passed triangle to this triangle."}},"!doc":"A geometric triangle as defined by three vectors.","!type":"fn(a: +THREE.Vector3, b: +THREE.Vector3, c: +THREE.Vector3)"},Vector2:{"!url":"http://threejs.org/docs/#Reference/math/Vector2",prototype:{x:"number",y:"number",set:{"!type":"fn(x: number, y: number) -> +THREE.Vector2","!doc":"Sets value of this vector."},copy:{"!type":"fn(v: +THREE.Vector2) -> +THREE.Vector2","!doc":"Copies value of *v* to this vector."},add:{"!type":"fn(v: +THREE.Vector2) -> +THREE.Vector2","!doc":"Adds *v* to this vector."},addVectors:{"!type":"fn(a: +THREE.Vector2, b: +THREE.Vector2) -> +THREE.Vector2","!doc":"Sets this vector to *a + b*."},sub:{"!type":"fn(v: +THREE.Vector2) -> +THREE.Vector2","!doc":"Subtracts *v* from this vector."},subVectors:{"!type":"fn(a: +THREE.Vector2, b: +THREE.Vector2) -> +THREE.Vector2","!doc":"Sets this vector to *a - b*."},multiplyScalar:{"!type":"fn(s: number) -> +THREE.Vector2","!doc":"Multiplies this vector by scalar *s*."},divideScalar:{"!type":"fn(s: number) -> +THREE.Vector2","!doc":`Divides this vector by scalar *s*.<br>
		Set vector to *( 0, 0 )* if *s == 0*.`},negate:{"!type":"fn() -> +THREE.Vector2","!doc":"Inverts this vector."},dot:{"!type":"fn(v: +THREE.Vector2) -> number","!doc":"Computes dot product of this vector and *v*."},lengthSq:{"!type":"fn() -> number","!doc":"Computes squared length of this vector."},length:{"!type":"fn() -> number","!doc":"Computes length of this vector."},normalize:{"!type":"fn() -> +THREE.Vector2","!doc":"Normalizes this vector."},distanceTo:{"!type":"fn(v: +THREE.Vector2) -> number","!doc":"Computes distance of this vector to *v*."},distanceToSquared:{"!type":"fn(v: +THREE.Vector2) -> number","!doc":"Computes squared distance of this vector to *v*."},setLength:{"!type":"fn(l: number) -> +THREE.Vector2","!doc":"Normalizes this vector and multiplies it by *l*."},equals:{"!type":"fn(v: +THREE.Vector2) -> bool","!doc":"Checks for strict equality of this vector and *v*."},clone:{"!type":"fn() -> +THREE.Vector2","!doc":"Clones this vector."},clamp:{"!type":"fn(min: +THREE.Vector2, max: +THREE.Vector2) -> +THREE.Vector2","!doc":"If this vector's x or y value is greater than the max vector's x or y value, it is replaced by the corresponding value. <br>	If this vector's x or y value is less than the min vector's x or y value, it is replace by the corresponding value."},clampScalar:{"!type":"fn(min: number, max: number) -> +THREE.Vector2","!doc":"If this vector's x or y values are greater than the max value, they are replaced by the max value. <br>  If this vector's x or y values are less than the min value, they are replace by the min value."},floor:{"!type":"fn() -> +THREE.Vector2","!doc":"The components of the vector are rounded downwards (towards negative infinity) to an integer value."},ceil:{"!type":"fn() -> +THREE.Vector2","!doc":"The components of the vector are rounded upwards (towards positive infinity) to an integer value."},round:{"!type":"fn() -> +THREE.Vector2","!doc":"The components of the vector are rounded towards the nearest integer value."},roundToZero:{"!type":"fn() -> +THREE.Vector2","!doc":"The components of the vector are rounded towards zero (up if negative, down if positive) to an integer value."},lerp:{"!type":"fn(v: +THREE.Vector2, alpha: number) -> +THREE.Vector2","!doc":"Linear interpolation between this vector and v, where alpha is the percent along the line."},lerpVectors:{"!type":"fn(v1: +THREE.Vector2, v2: +THREE.Vector2, alpha: number) -> +THREE.Vector2","!doc":"Sets this vector to be the vector linearly interpolated between *v1* and *v2* with *alpha* factor."},setComponent:{"!type":"fn(index: number, value: number) -> undefined","!doc":`if index equals 0 method replaces this.x with value. <br>
		if index equals 1 method replaces this.y with value.`},addScalar:{"!type":"fn(s: number) -> +THREE.Vector2","!doc":"Add the scalar value s to this vector's x and y values."},getComponent:{"!type":"fn(index: number) -> number","!doc":`if index equals 0 returns the x value. <br>
		if index equals 1 returns the y value.`},fromArray:{"!type":"fn(array: []) -> +THREE.Vector2","!doc":"Sets this vector's x value to be array[0] and y value to be array[1]."},toArray:{"!type":"fn(array: []) -> []","!doc":"Returns an array [x, y]."},min:{"!type":"fn(v: +THREE.Vector2) -> +THREE.Vector2","!doc":"If this vector's x or y value is less than v's x or y value, replace that value with the corresponding min value."},max:{"!type":"fn(v: +THREE.Vector2) -> +THREE.Vector2","!doc":"If this vector's x or y value is greater than v's x or y value, replace that value with the corresponding max value."},setX:{"!type":"fn(x: number) -> +THREE.Vector2","!doc":"replace this vector's x value with x."},setY:{"!type":"fn(y: number) -> +THREE.Vector2","!doc":"replace this vector's y value with y."}},"!doc":"2D vector.","!type":"fn(x: number, y: number)"},Vector3:{"!url":"http://threejs.org/docs/#Reference/math/Vector3",prototype:{x:"number",y:"number",z:"number",set:{"!type":"fn(x: number, y: number, z: number) -> +THREE.Vector3","!doc":"Sets value of this vector."},setX:{"!type":"fn(x: number) -> +THREE.Vector3","!doc":"Sets x value of this vector."},setY:{"!type":"fn(y: number) -> +THREE.Vector3","!doc":"Sets y value of this vector."},setZ:{"!type":"fn(z: number) -> +THREE.Vector3","!doc":"Sets z value of this vector."},copy:{"!type":"fn(v: +THREE.Vector3) -> +THREE.Vector3","!doc":"Copies value of *v* to this vector."},add:{"!type":"fn(v: +THREE.Vector3) -> +THREE.Vector3","!doc":"Adds *v* to this vector."},addVectors:{"!type":"fn(a: +THREE.Vector3, b: +THREE.Vector3) -> +THREE.Vector3","!doc":"Sets this vector to *a + b*."},sub:{"!type":"fn(v: +THREE.Vector3) -> +THREE.Vector3","!doc":"Subtracts *v* from this vector."},subVectors:{"!type":"fn(a: +THREE.Vector3, b: +THREE.Vector3) -> +THREE.Vector3","!doc":"Sets this vector to *a - b*."},multiplyScalar:{"!type":"fn(s: number) -> +THREE.Vector3","!doc":"Multiplies this vector by scalar *s*."},divideScalar:{"!type":"fn(s: number) -> +THREE.Vector3","!doc":`Divides this vector by scalar *s*.<br>
		Set vector to *( 0, 0, 0 )* if *s == 0*.`},negate:{"!type":"fn() -> +THREE.Vector3","!doc":"Inverts this vector."},dot:{"!type":"fn(v: +THREE.Vector3) -> number","!doc":"Computes dot product of this vector and *v*."},lengthSq:{"!type":"fn() -> number","!doc":"Computes squared length of this vector."},length:{"!type":"fn() -> number","!doc":"Computes length of this vector."},lengthManhattan:{"!type":"fn() -> number","!doc":`Computes Manhattan length of this vector.<br>
		[link:http://en.wikipedia.org/wiki/Taxicab_geometry]`},normalize:{"!type":"fn() -> +THREE.Vector3","!doc":"Normalizes this vector. Transforms this Vector into a Unit vector by dividing the vector by it's length."},distanceTo:{"!type":"fn(v: +THREE.Vector3) -> number","!doc":"Computes distance of this vector to *v*."},distanceToSquared:{"!type":"fn(v: +THREE.Vector3) -> number","!doc":"Computes squared distance of this vector to *v*."},setLength:{"!type":"fn(l: number) -> +THREE.Vector3","!doc":"Normalizes this vector and multiplies it by *l*."},cross:{"!type":"fn(v: +THREE.Vector3) -> +THREE.Vector3","!doc":"Sets this vector to cross product of itself and *v*."},crossVectors:{"!type":"fn(a: +THREE.Vector3, b: +THREE.Vector3) -> +THREE.Vector3","!doc":"Sets this vector to cross product of *a* and *b*."},setFromMatrixPosition:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Vector3","!doc":"Sets this vector extracting position from matrix transform."},setFromMatrixScale:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Vector3","!doc":"Sets this vector extracting scale from matrix transform."},equals:{"!type":"fn(v: +THREE.Vector3) -> bool","!doc":"Checks for strict equality of this vector and *v*."},clone:{"!type":"fn() -> +THREE.Vector3","!doc":"Clones this vector."},clamp:{"!type":"fn(min: +THREE.Vector3, max: +THREE.Vector3) -> +THREE.Vector3","!doc":`If this vector's x, y or z value is greater than the max vector's x, y or z value, it is replaced by the corresponding value. <br><br>
		If this vector's x, y or z value is less than the min vector's x, y or z value, it is replace by the corresponding value.`},clampScalar:{"!type":"fn(min: number, max: number) -> +THREE.Vector3","!doc":"If this vector's x, y or z values are greater than the max value, they are replaced by the max value. <br>  If this vector's x, y or z values are less than the min value, they are replace by the min value."},floor:{"!type":"fn() -> +THREE.Vector3","!doc":"The components of the vector are rounded downwards (towards negative infinity) to an integer value."},ceil:{"!type":"fn() -> +THREE.Vector3","!doc":"The components of the vector are rounded upwards (towards positive infinity) to an integer value."},round:{"!type":"fn() -> +THREE.Vector3","!doc":"The components of the vector are rounded towards the nearest integer value."},roundToZero:{"!type":"fn() -> +THREE.Vector3","!doc":"The components of the vector are rounded towards zero (up if negative, down if positive) to an integer value."},applyMatrix3:{"!type":"fn(m: +THREE.Matrix3) -> +THREE.Vector3","!doc":"Multiplies this vector times a 3 x 3 matrix."},applyMatrix4:{"!type":"fn(m: +THREE.Matrix3) -> +THREE.Vector3","!doc":"Multiplies this vector by 4 x 3 subset of a Matrix4."},projectOnPlane:{"!type":"fn(planeNormal: +THREE.Vector3) -> +THREE.Vector3","!doc":"Projects this vector onto a plane by subtracting this vector projected onto the plane's normal from this vector."},projectOnVector:{"!type":"fn() -> +THREE.Vector3","!doc":"Projects this vector onto another vector."},addScalar:{"!type":"fn() -> +THREE.Vector3","!doc":"Adds a s to this vector."},divide:{"!type":"fn(v: +THREE.Vector3) -> +THREE.Vector3","!doc":"Divides this vector by vector v."},min:{"!type":"fn(v: +THREE.Vector3) -> +THREE.Vector3","!doc":"If this vector's x, y, or z value is less than vector v's x, y, or z value, that value is replaced by the corresponding vector v value."},max:{"!type":"fn(v: +THREE.Vector3) -> +THREE.Vector3","!doc":"If this vector's x, y, or z value is greater than vector v's x, y, or z value, that value is replaced by the corresponding vector v value."},setComponent:{"!type":"fn(index: number, value: number) -> +THREE.Vector3","!doc":`If index equals 0 the method sets this vector's x value to value <br>
		If index equals 1 the method sets this vector's y value to value <br>
		If index equals 2 the method sets this vector's z value to value`},transformDirection:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Vector3","!doc":"Transforms the direction of this vector by a matrix (a 3 x 3 subset of a Matrix4) and then normalizes the result."},multiplyVectors:{"!type":"fn(a: +THREE.Vector3, b: +THREE.Vector3) -> +THREE.Vector3","!doc":"Sets this vector equal to the result of multiplying vector a by vector b."},getComponent:{"!type":"fn(index: number) -> number","!doc":`Returns the value of the vector component x, y, or z by an index. <br><br>

		Index 0: x <br>
		Index 1: y <br>
		Index 2: z <br>`},applyAxisAngle:{"!type":"fn(axis: +THREE.Vector3, angle: number) -> +THREE.Vector3","!doc":"Applies a rotation specified by an axis and an angle to this vector."},lerp:{"!type":"fn(v: +THREE.Vector3, alpha: number) -> +THREE.Vector3","!doc":"Linear Interpolation between this vector and vector v, where alpha is the percent along the line."},lerpVectors:{"!type":"fn(v1: +THREE.Vector3, v2: +THREE.Vector3, alpha: number) -> +THREE.Vector3","!doc":"Sets this vector to be the vector linearly interpolated between *v1* and *v2* with *alpha* factor."},angleTo:{"!type":"fn(v: +THREE.Vector3) -> number","!doc":"Returns the angle between this vector and vector v in radians."},setFromMatrixColumn:{"!type":"fn(index: number, matrix: +THREE.Matrix4) -> +THREE.Vector3","!doc":"Sets this vector's x, y, and z equal to the column of the matrix specified by the index."},reflect:{"!type":"fn(normal: +THREE.Vector3) -> +THREE.Vector3","!doc":"Reflect incident vector off of plane orthogonal to normal. Normal is assumed to have unit length."},fromArray:{"!type":"fn(array: []) -> +THREE.Vector3","!doc":"Sets the vector's components based on an array formatted like [x, y, z]"},multiply:{"!type":"fn(v: +THREE.Vector3) -> +THREE.Vector3","!doc":"Multiplies this vector by vector v."},applyProjection:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Vector3","!doc":"Multiplies this vector and m, and divides by perspective."},toArray:{"!type":"fn(array: []) -> []","!doc":`Assigns this vector's x value to array[0]. <br>
		Assigns this vector's y value to array[1]. <br>
		Assigns this vector's z value to array[2]. <br>
		Returns the created array.`},applyEuler:{"!type":"fn(euler: +THREE.Euler) -> +THREE.Vector3","!doc":"Applies euler transform to this vector by converting the [page:Euler] object to a [page:Quaternion] and applying."},applyQuaternion:{"!type":"fn(quaternion: +THREE.Quaternion) -> +THREE.Vector3","!doc":"Applies a [page:Quaternion] transform to this vector."},project:{"!type":"fn(camera: +THREE.Camera) -> +THREE.Vector3","!doc":"Projects the vector with the camera."},unproject:{"!type":"fn(camera: +THREE.Camera) -> +THREE.Vector3","!doc":"Unprojects the vector with the camera."}},"!doc":"3D vector.","!type":"fn(x: number, y: number, z: number)"},Vector4:{"!url":"http://threejs.org/docs/#Reference/math/Vector4",prototype:{x:"number",y:"number",z:"number",w:"number",set:{"!type":"fn(x: number, y: number, z: number, w: number) -> +THREE.Vector4","!doc":"Sets value of this vector."},copy:{"!type":"fn(v: +THREE.Vector4) -> +THREE.Vector4","!doc":"Copies value of *v* to this vector."},add:{"!type":"fn(v: +THREE.Vector4) -> +THREE.Vector4","!doc":"Adds *v* to this vector."},addVectors:{"!type":"fn(a: +THREE.Vector4, b: +THREE.Vector4) -> +THREE.Vector4","!doc":"Sets this vector to *a + b*."},sub:{"!type":"fn(v: +THREE.Vector4) -> +THREE.Vector4","!doc":"Subtracts *v* from this vector."},subVectors:{"!type":"fn(a: +THREE.Vector4, b: +THREE.Vector4) -> +THREE.Vector4","!doc":"Sets this vector to *a - b*."},multiplyScalar:{"!type":"fn(s: number) -> +THREE.Vector4","!doc":"Multiplies this vector by scalar *s*."},divideScalar:{"!type":"fn(s: number) -> +THREE.Vector4","!doc":`Divides this vector by scalar *s*.<br>
		Set vector to *( 0, 0, 0 )* if *s == 0*.`},negate:{"!type":"fn() -> +THREE.Vector4","!doc":"Inverts this vector."},dot:{"!type":"fn(v: +THREE.Vector4) -> number","!doc":"Computes dot product of this vector and *v*."},lengthSq:{"!type":"fn() -> number","!doc":"Computes squared length of this vector."},length:{"!type":"fn() -> number","!doc":"Computes length of this vector."},normalize:{"!type":"fn() -> +THREE.Vector4","!doc":"Normalizes this vector."},setLength:{"!type":"fn(l: number) -> +THREE.Vector4","!doc":"Normalizes this vector and multiplies it by *l*."},lerp:{"!type":"fn(v: +THREE.Vector4, alpha: number) -> +THREE.Vector4","!doc":"Linearly interpolate between this vector and *v* with *alpha* factor."},lerpVectors:{"!type":"fn(v1: +THREE.Vector4, v2: +THREE.Vector4, alpha: number) -> +THREE.Vector4","!doc":"Sets this vector to be the vector linearly interpolated between *v1* and *v2* with *alpha* factor."},clone:{"!type":"fn() -> +THREE.Vector4","!doc":"Clones this vector."},clamp:{"!type":"fn(min: +THREE.Vector4, max: +THREE.Vector4) -> +THREE.Vector4","!doc":`If this vector's x, y, z, or w value is greater than the max vector's x, y, z, or w value, it is replaced by the corresponding value.<br><br>

		If this vector's x, y, z, or w value is less than the min vector's x, y, z, or w value, it is replace by the corresponding value.`},clampScalar:{"!type":"fn(min: number, max: number) -> +THREE.Vector4","!doc":`If this vector's x, y, z or w values are greater than the max value, they are replaced by the max value. <br>
		If this vector's x, y, z or w values are less than the min value, they are replace by the min value.`},floor:{"!type":"fn() -> +THREE.Vector4","!doc":"The components of the vector are rounded downwards (towards negative infinity) to an integer value."},ceil:{"!type":"fn() -> +THREE.Vector4","!doc":"The components of the vector are rounded upwards (towards positive infinity) to an integer value."},round:{"!type":"fn() -> +THREE.Vector4","!doc":"The components of the vector are rounded towards the nearest integer value."},roundToZero:{"!type":"fn() -> +THREE.Vector4","!doc":"The components of the vector are rounded towards zero (up if negative, down if positive) to an integer value."},applyMatrix4:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Vector4","!doc":"Transforms the vector by the matrix."},min:{"!type":"fn(v: +THREE.Vector4) -> +THREE.Vector4","!doc":"If this vector's x, y, z, or w value is less than vector v's x, y, z, or w value, that value is replaced by the corresponding vector v value."},max:{"!type":"fn(v: +THREE.Vector4) -> +THREE.Vector4","!doc":"If this vector's x, y, z, or w value is greater than vector v's x, y, z, or w value, that value is replaced by the corresponding vector v value."},addScalar:{"!type":"fn(s: number) -> +THREE.Vector4","!doc":"Adds a scalar value to all of the vector's components."},equals:{"!type":"fn(v: +THREE.Vector4) -> bool","!doc":"Checks to see if this vector matches vector v."},setAxisAngleFromRotationMatrix:{"!type":"fn(m: +THREE.Matrix4) -> +THREE.Vector4","!doc":`Sets this Vector4 to the computed <a href="http://en.wikipedia.org/wiki/Axis%E2%80%93angle_representation" target="_blank">axis-angle representation</a> of the rotation defined by Matrix4 m. Assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled).<br><br>

		The axis is stored in components (x, y, z) of the vector, and the rotation in radians is stored in component w`},setAxisAngleFromQuaternion:{"!type":"fn(q: +THREE.Quaternion) -> +THREE.Vector4","!doc":`Sets this Vector4 to the computed <a href="http://en.wikipedia.org/wiki/Axis%E2%80%93angle_representation" target="_blank">axis-angle representation</a> of the rotation defined by Quaternion q.<br><br>

		The axis is stored in components (x, y, z) of the vector, and the rotation in radians is stored in component w`},getComponent:{"!type":"fn(index: number) -> number","!doc":`Returns the value of the vector component x, y, or z by an index.<br><br>

		Index 0: x<br>
		Index 1: y<br>
		Index 2: z<br>
		Index 3: w<br>`},setComponent:{"!type":"fn(index: number, value: number)","!doc":`Sets the value of the vector component	x, y, or z by an index.<br><br>

		Index 0: x<br>
		Index 1: y<br>
		Index 2: z<br>
		Index 3: w<br>`},fromArray:{"!type":"fn(array: []) -> +THREE.Vector4","!doc":"Sets the vector's components based on an array formatted like [x, y, z, w]"},toArray:{"!type":"fn(array: []) -> []","!doc":"Returns an array in the format [x, y, z, w]"},lengthManhattan:{"!type":"fn() -> number","!doc":`Computes Manhattan length of this vector.<br>
		[link:http://en.wikipedia.org/wiki/Taxicab_geometry]`},setX:{"!type":"fn(x: number) -> +THREE.Vector4","!doc":"Sets the x component of the vector."},setY:{"!type":"fn(y: number) -> +THREE.Vector4","!doc":"Sets the y component of the vector."},setZ:{"!type":"fn(z: number) -> +THREE.Vector4","!doc":"Sets the z component of the vector."},setW:{"!type":"fn(w: number) -> +THREE.Vector4","!doc":"Sets the w component of the vector."}},"!doc":"4D vector.","!type":"fn(x: number, y: number, z: number, w: number)"},Bone:{"!url":"http://threejs.org/docs/#Reference/objects/Bone",prototype:{"!proto":"THREE.Object3D.prototype",skinMatrix:{"!type":"+THREE.Matrix4","!doc":"The matrix of the bone."},skin:{"!type":"+THREE.SkinnedMesh","!doc":"The skin that contains this bone."},update:{"!type":"fn(parentSkinMatrix: +THREE.Matrix4, forceUpdate: boolean) -> todo","!doc":"This updates the matrix of the bone and the matrices of its children."}},"!doc":"A bone which is part of a SkinnedMesh.","!type":"fn(belongsToSkin: +THREE.SkinnedMesh)"},LOD:{"!url":"http://threejs.org/docs/#Reference/objects/LOD",prototype:{"!proto":"THREE.Object3D.prototype",objects:{"!type":"array","!doc":"todo"},addLevel:{"!type":"fn(object: todo, distance: todo) -> todo","!doc":"todo"},getObjectForDistance:{"!type":"fn(distance: todo) -> todo","!doc":"todo"},update:{"!type":"fn(camera: todo) -> todo","!doc":"todo"}},"!doc":"todo","!type":"fn()"},Line:{"!url":"http://threejs.org/docs/#Reference/objects/Line",prototype:{"!proto":"THREE.Object3D.prototype",geometry:{"!type":"+THREE.Geometry","!doc":"Vertices representing the line segment(s)."},material:{"!type":"+THREE.Material","!doc":"Material for the line."},type:{"!type":"number","!doc":"In OpenGL terms, LineStrip is the classic GL_LINE_STRIP and LinePieces is the equivalent to GL_LINES."},raycast:{"!type":"fn(raycaster: +THREE.Raycaster, intersects: []) -> []","!doc":"Get intersections between a casted ray and this Line. [page:Raycaster.intersectObject] will call this method."}},"!doc":"A line or a series of lines.","!type":"fn(geometry: +THREE.Geometry, material: +THREE.Material, type: number)"},Mesh:{"!url":"http://threejs.org/docs/#Reference/objects/Mesh",prototype:{"!proto":"THREE.Object3D.prototype",geometry:{"!type":"+THREE.Geometry","!doc":"An instance of [page:Geometry], defining the object's structure."},material:{"!type":"+THREE.Material","!doc":"An instance of [page:Material], defining the object's appearance. Default is a [page:MeshBasicMaterial] with wireframe mode enabled and randomised color."},getMorphTargetIndexByName:{"!type":"fn(name: string) -> number","!doc":"Returns the index of a morph target defined by name."},updateMorphTargets:{"!type":"fn()","!doc":"Updates the morphtargets to have no influence on the object."},raycast:{"!type":"fn(raycaster: +THREE.Raycaster, intersects: []) -> []","!doc":"Get intersections between a casted ray and this mesh. [page:Raycaster.intersectObject] will call this method."}},"!doc":"Base class for Mesh objects, such as [page:MorphAnimMesh] and [page:SkinnedMesh].","!type":"fn(geometry: +THREE.Geometry, material: +THREE.Material)"},MorphAnimMesh:{"!url":"http://threejs.org/docs/#Reference/objects/MorphAnimMesh",prototype:{"!proto":"THREE.Object3D.prototype",directionBackwards:{"!type":"boolean","!doc":"todo"},direction:{"!type":"number","!doc":"todo"},endKeyframe:{"!type":"number","!doc":"todo"},mirroredLoop:{"!type":"boolean","!doc":"todo"},startKeyframe:{"!type":"number","!doc":"todo"},lastKeyframe:{"!type":"number","!doc":"todo"},length:{"!type":"number","!doc":"todo"},time:{"!type":"number","!doc":"todo"},duration:{"!type":"number","!doc":"todo"},currentKeyframe:{"!type":"number","!doc":"todo"},setDirectionForward:{"!type":"fn() -> todo","!doc":"todo"},playAnimation:{"!type":"fn(label: todo, fps: todo) -> todo","!doc":"todo"},setFrameRange:{"!type":"fn(start: todo, end: todo) -> todo","!doc":"todo"},setDirectionBackward:{"!type":"fn() -> todo","!doc":"todo"},parseAnimations:{"!type":"fn() -> todo","!doc":"todo"},updateAnimation:{"!type":"fn(delta: todo) -> todo","!doc":"todo"},setAnimationLabel:{"!type":"fn(label: todo, start: todo, end: todo) -> todo","!doc":"todo"}},"!doc":"todo","!type":"fn(geometry: todo, material: todo)"},PointCloud:{"!url":"http://threejs.org/docs/#Reference/objects/PointCloud",prototype:{"!proto":"THREE.Object3D.prototype",geometry:{"!type":"+THREE.Geometry","!doc":"An instance of [page:Geometry], where each vertex designates the position of a particle in the system."},material:{"!type":"+THREE.Material","!doc":"An instance of [page:Material], defining the object's appearance. Default is a [page:PointCloudMaterial] with randomised color."},clone:{"!type":"fn() -> +THREE.PointCloud","!doc":"This creates a clone of the particle system."},raycast:{"!type":"fn(raycaster: +THREE.Raycaster, intersects: []) -> []","!doc":"Get intersections between a casted ray and this PointCloud. [page:Raycaster.intersectObject] will call this method."}},"!doc":"A class for displaying particles in the form of variable size points. For example, if using the [page:WebGLRenderer], the particles are displayed using GL_POINTS.","!type":"fn(geometry: +THREE.Geometry, material: +THREE.Material)"},SkinnedMesh:{"!url":"http://threejs.org/docs/#Reference/objects/SkinnedMesh",prototype:{"!proto":"THREE.Object3D.prototype",bones:{"!type":"array","!doc":"This contains the array of bones for this mesh. These should be set in the constructor."},identityMatrix:{"!type":"+THREE.Matrix4","!doc":"This is an identityMatrix to calculate the bones matrices from."},useVertexTexture:{"!type":"boolean","!doc":"The boolean defines whether a vertex texture is used to calculate the bones. This boolean shouldn't be changed after constructor."},boneMatrices:{"!type":"array","!doc":"This array of matrices contains the matrices of the bones. These get calculated in the constructor."},pose:{"!type":"fn()","!doc":"This method sets the skinnedmesh in the rest pose."},addBone:{"!type":"fn(bone: +THREE.Bone) -> +THREE.Bone","!doc":"This method adds the bone to the skinnedmesh when it is provided. It creates a new bone and adds that when no bone is given."}},"!doc":"An 3d object that has bones data. These Bones can then be used to animate the vertices of the object.","!type":"fn(geometry: +THREE.Geometry, material: +THREE.Material, useVertexTexture: boolean)"},Sprite:{"!url":"http://threejs.org/docs/#Reference/objects/Sprite",prototype:{"!proto":"THREE.Object3D.prototype",material:{"!type":"+THREE.SpriteMaterial","!doc":"An instance of [page:Material], defining the object's appearance. Default is a [page:SpriteMaterial] which is a white plane."},clone:{"!type":"fn() -> +THREE.Sprite","!doc":"This creates a new clone of the sprite."}},"!doc":"A sprite is a plane in an 3d scene which faces always towards the camera.","!type":"fn(material: +THREE.Material)"},CanvasRenderer:{"!url":"http://threejs.org/docs/#Reference/renderers/CanvasRenderer",prototype:{info:{"!type":"object","!doc":"An object with a series of statistical information about the graphics board memory and the rendering process. Useful for debugging or just for the sake of curiosity. The object contains the following fields:"},domElement:{"!type":"DOMElement","!doc":`A [page:Canvas] where the renderer draws its output.<br>
			This is automatically created by the renderer in the constructor (if not provided already); you just need to add it to your page.`},autoClear:{"!type":"bool","!doc":"Defines whether the renderer should automatically clear its output before rendering."},sortObjects:{"!type":"bool","!doc":`Defines whether the renderer should sort objects. Default is true.<br>
      Note: Sorting is used to attempt to properly render objects that have some degree of transparency.  By definition, sorting objects may not work in all cases.  Depending on the needs of application, it may be neccessary to turn off sorting and use other methods to deal with transparency rendering e.g. manually determining the object rendering order.`},sortElements:{"!type":"boolean","!doc":"Defines whether the renderer should sort the face of each object. Default is true."},render:{"!type":"fn(scene: +THREE.Scene, camera: +THREE.Camera)","!doc":"Render a scene using a camera."},clear:{"!type":"fn()","!doc":"Tells the renderer to clear its color drawing buffer with the clearcolor."},setClearColor:{"!type":"fn(color: +THREE.Color, alpha: number)","!doc":"This set the clearColor and the clearAlpha."},setSize:{"!type":"fn(width: number, height: number)","!doc":"This set the size of the drawing canvas and if updateStyle is set, then the css of the canvas is updated too."},setClearColorHex:{"!type":"fn(hex: number, alpha: number)","!doc":"This set the clearColor and the clearAlpha."},getClearColorHex:{"!type":"fn() -> number","!doc":"Returns the [page:number hex] color."},getClearAlpha:{"!type":"fn() -> number","!doc":"Returns the alpha value."}},"!doc":`The Canvas renderer displays your beautifully crafted scenes <em>not</em> using WebGL, but draws it using the (slower) <a href="http://www.w3.org/html/wg/drafts/2dcontext/html5_canvas/">Canvas 2D Context</a> API.<br><br>
			This renderer can be a nice fallback from [page:WebGLRenderer] for simple scenes:

			<code>
			function webglAvailable() {
				try {
					var canvas = document.createElement( 'canvas' );
					return !!( window.WebGLRenderingContext &amp;&amp; (
						canvas.getContext( 'webgl' ) ||
						canvas.getContext( 'experimental-webgl' ) )
					);
				} catch ( e ) {
					return false;
				}
			}

			if ( webglAvailable() ) {
				renderer = new THREE.WebGLRenderer();
			} else {
				renderer = new THREE.CanvasRenderer();
			}
			</code>

			Note: both WebGLRenderer and CanvasRenderer are embedded in the web page using an HTML5 &lt;canvas&gt; tag.
			The "Canvas" in CanvasRenderer means it uses Canvas 2D instead of WebGL.<br><br>

			Don't confuse either CanvasRenderer with the SoftwareRenderer example, which simulates a screen buffer in a Javascript array.`,"!type":"fn(parameters: object)"},WebGLRenderTarget:{"!url":"http://threejs.org/docs/#Reference/renderers/WebGLRenderTarget",prototype:{wrapS:{"!type":"number","!doc":"The default is THREE.ClampToEdgeWrapping, where the edge is clamped to the outer edge texels. The other two choices are THREE.RepeatWrapping and THREE.MirroredRepeatWrapping."},wrapT:{"!type":"number","!doc":"The default is THREE.ClampToEdgeWrapping, where the edge is clamped to the outer edge texels. The other two choices are THREE.RepeatWrapping and THREE.MirroredRepeatWrapping."},magFilter:{"!type":"number","!doc":"How the texture is sampled when a texel covers more than one pixel. The default is THREE.LinearFilter, which takes the four closest texels and bilinearly interpolates among them. The other option is THREE.NearestFilter, which uses the value of the closest texel."},minFilter:{"!type":"number","!doc":"How the texture is sampled when a texel covers less than one pixel. The default is THREE.LinearMipMapLinearFilter, which uses mipmapping and a trilinear filter. Other choices are THREE.NearestFilter, THREE.NearestMipMapNearestFilter, THREE.NearestMipMapLinearFilter, THREE.LinearFilter, and THREE.LinearMipMapNearestFilter. These vary whether the nearest texel or nearest four texels are retrieved on the nearest mipmap or nearest two mipmaps. Interpolation occurs among the samples retrieved."},anisotropy:{"!type":"number","!doc":"The number of samples taken along the axis through the pixel that has the highest density of texels. By default, this value is 1. A higher value gives a less blurry result than a basic mipmap, at the cost of more texture samples being used. Use renderer.getMaxAnisotropy() to find the maximum valid anisotropy value for the GPU; this value is usually a power of 2."},repeat:{"!type":"+THREE.Vector2","!doc":"How many times the texture is repeated across the surface, in each direction U and V."},offset:{"!type":"+THREE.Vector2","!doc":"How much a single repetition of the texture is offset from the beginning, in each direction U and V. Typical range is 0.0 to 1.0."},format:{"!type":"number","!doc":"The default is THREE.RGBAFormat for the texture. Other formats are: THREE.AlphaFormat, THREE.RGBFormat, THREE.LuminanceFormat, and THREE.LuminanceAlphaFormat. There are also compressed texture formats, if the S3TC extension is supported: THREE.RGB_S3TC_DXT1_Format, THREE.RGBA_S3TC_DXT1_Format, THREE.RGBA_S3TC_DXT3_Format, and THREE.RGBA_S3TC_DXT5_Format."},type:{"!type":"number","!doc":"The default is THREE.UnsignedByteType. Other valid types (as WebGL allows) are THREE.ByteType, THREE.ShortType, THREE.UnsignedShortType, THREE.IntType, THREE.UnsignedIntType, THREE.HalfFloatType, THREE.FloatType, THREE.UnsignedShort4444Type, THREE.UnsignedShort5551Type, and THREE.UnsignedShort565Type."},depthBuffer:{"!type":"boolean","!doc":"Renders to the depth buffer. Default is true."},stencilBuffer:{"!type":"boolean","!doc":"Renders to the stencil buffer. Default is true."},generateMipmaps:{"!type":"boolean","!doc":"Whether to generate mipmaps (if possible) for a texture. True by default."},setSize:{"!type":"fn(width: number, height: number)","!doc":"Sets the size of the renderTarget."},clone:{"!type":"fn() -> RenderTarget","!doc":"Creates a copy of the render target."},dispose:{"!type":"fn()","!doc":"Dispatches a dispose event."}},"!doc":"A render target is a buffer where the video card draws pixels for a scene that is being rendered in the background. It is used in different effects.","!type":"fn(width: number, height: number, options: object)"},WebGLRenderTargetCube:{"!url":"http://threejs.org/docs/#Reference/renderers/WebGLRenderTargetCube",prototype:{"!proto":"THREE.WebGLRenderTarget.prototype"},"!doc":"[page:CubeCamera] uses this as its [page:WebGLRenderTarget]","!type":"fn(width: number, height: number, options: object)"},WebGLRenderer:{"!url":"http://threejs.org/docs/#Reference/renderers/WebGLRenderer",prototype:{domElement:{"!type":"DOMElement","!doc":`A [page:Canvas] where the renderer draws its output.<br>
		This is automatically created by the renderer in the constructor (if not provided already); you just need to add it to your page.`},context:{"!type":"WebGLRenderingContext","!doc":"The HTML5 Canvas's 'webgl' context obtained from the canvas where the renderer will draw."},autoClear:{"!type":"bool","!doc":"Defines whether the renderer should automatically clear its output before rendering."},autoClearColor:{"!type":"bool","!doc":"If autoClear is true, defines whether the renderer should clear the color buffer. Default is true."},autoClearDepth:{"!type":"bool","!doc":"If autoClear is true, defines whether the renderer should clear the depth buffer. Default is true."},autoClearStencil:{"!type":"bool","!doc":"If autoClear is true, defines whether the renderer should clear the stencil buffer. Default is true."},sortObjects:{"!type":"bool","!doc":"Note: Sorting is used to attempt to properly render objects that have some degree of transparency.  By definition, sorting objects may not work in all cases.  Depending on the needs of application, it may be neccessary to turn off sorting and use other methods to deal with transparency rendering e.g. manually determining the object rendering order."},autoUpdateObjects:{"!type":"bool","!doc":"Defines whether the renderer should auto update objects. Default is true."},shadowMapEnabled:{"!type":"bool","!doc":"Default is false. If set, use shadow maps in the scene."},shadowMapType:{"!type":"number","!doc":"Options are THREE.BasicShadowMap, THREE.PCFShadowMap, THREE.PCFSoftShadowMap. Default is THREE.PCFShadowMap."},shadowMapCullFace:{"!type":"number","!doc":"Default is THREE.CullFaceFront. The faces that needed to be culled. Possible values: THREE.CullFaceFront and THREE.CullFaceBack"},shadowMapCascade:{"!type":"bool","!doc":"Default is false. If Set, use cascaded shadowmaps. See [link:http://developer.download.nvidia.com/SDK/10.5/opengl/src/cascaded_shadow_maps/doc/cascaded_shadow_maps.pdf cascaded shadowmaps] for more information."},maxMorphTargets:{"!type":"number","!doc":"Default is 8. The maximum number of MorphTargets allowed in a shader. Keep in mind that the standard materials only allow 8 MorphTargets."},maxMorphNormals:{"!type":"number","!doc":"Default is 4. The maximum number of MorphNormals allowed in a shader. Keep in mind that the standard materials only allow 4 MorphNormals."},autoScaleCubemaps:{"!type":"bool","!doc":"Default is true. If set, then Cubemaps are scaled, when they are bigger than the maximum size, to make sure that they aren't bigger than the maximum size."},info:{"!type":"object","!doc":`<ul>
			<li>memory:
				<ul>
					<li>programs</li>
					<li>geometries</li>
					<li>textures</li>
				</ul>
			</li>
			<li>render:
				<ul>
					<li>calls</li>
					<li>vertices</li>
					<li>faces</li>
					<li>points</li>
				</ul>
			</li>
		</ul>`},shadowMapPlugin:{"!type":"+THREE.ShadowMapPlugin","!doc":"This contains the reference to the shadowMapPlugin."},getContext:{"!type":"fn() -> WebGLRenderingContext","!doc":"Return the WebGL context."},supportsVertexTextures:{"!type":"fn() -> bool","!doc":"Return a [page:Boolean] true if the context supports vertex textures."},setSize:{"!type":"fn(width: number, height: number)","!doc":"Resizes the output canvas to (width, height), and also sets the viewport to fit that size, starting in (0, 0)."},setViewport:{"!type":"fn(x: number, y: number, width: number, height: number)","!doc":"Sets the viewport to render from (x, y) to (x + width, y + height)."},setScissor:{"!type":"fn(x: number, y: number, width: number, height: number)","!doc":"Sets the scissor area from (x, y) to (x + width, y + height)."},enableScissorTest:{"!type":"fn(enable: bool)","!doc":"Enable the scissor test. When this is enabled, only the pixels within the defined scissor area will be affected by further renderer actions."},setClearColor:{"!type":"fn(color: +THREE.Color, alpha: number)","!doc":"Sets the clear color and opacity."},getClearColor:{"!type":"fn() -> +THREE.Color","!doc":"Returns a [page:Color THREE.Color] instance with the current clear color."},getClearAlpha:{"!type":"fn() -> number","!doc":"Returns a [page:Float float] with the current clear alpha. Ranges from 0 to 1."},clear:{"!type":"fn(color: bool, depth: bool, stencil: bool)","!doc":"Arguments default to true."},renderBufferImmediate:{"!type":"fn(object: +THREE.Object3D, program: shaderprogram, shading: +THREE.Material)","!doc":"Render an immediate buffer. Gets called by renderImmediateObject."},renderBufferDirect:{"!type":"fn(camera: +THREE.Camera, lights: [], fog: +THREE.Fog, material: +THREE.Material, geometryGroup: object, object: +THREE.Object3D)","!doc":"Render a buffer geometry group using the camera and with the correct material."},renderBuffer:{"!type":"fn(camera: +THREE.Camera, lights: [], fog: +THREE.Fog, material: +THREE.Material, geometryGroup: object, object: +THREE.Object3D)","!doc":"Render a geometry group using the camera and with the correct material."},render:{"!type":"fn(scene: +THREE.Scene, camera: +THREE.Camera, renderTarget: +THREE.WebGLRenderTarget, forceClear: bool)","!doc":"Even with forceClear set to true you can prevent certain buffers being cleared by setting either the .autoClearColor, .autoClearStencil or .autoClearDepth properties to false."},renderImmediateObject:{"!type":"fn(camera, lights, fog, material, object)","!doc":"Renders an immediate Object using a camera."},setDepthTest:{"!type":"fn(depthTest: boolean)","!doc":"This sets, based on depthTest, whether or not the depth data needs to be tested against the depth buffer."},setDepthWrite:{"!type":"fn(depthWrite: boolean)","!doc":"This sets, based on depthWrite, whether or not the depth data needs to be written in the depth buffer."},setBlending:{"!type":"fn(blending: number, blendEquation: number, blendSrc: number, blendDst: number)","!doc":"This method sets the correct blending."},setTexture:{"!type":"fn(texture: +THREE.Texture, slot: number)","!doc":"This method sets the correct texture to the correct slot for the wegl shader. The slot number can be found as a value of the uniform of the sampler."},setRenderTarget:{"!type":"fn(renderTarget: +THREE.WebGLRenderTarget)","!doc":"This method sets the active rendertarget."},supportsCompressedTextureS3TC:{"!type":"fn() -> boolean","!doc":"This method returns true if the webgl implementation supports compressed textures of the format S3TC."},getMaxAnisotropy:{"!type":"fn() -> number","!doc":"This returns the anisotropy level of the textures."},getPrecision:{"!type":"fn() -> string","!doc":'This gets the precision used by the shaders. It returns "highp","mediump" or "lowp".'},setMaterialFaces:{"!type":"fn(material: +THREE.Material)","!doc":"This sets which side needs to be culled in the webgl renderer."},supportsStandardDerivatives:{"!type":"fn() -> boolean","!doc":"This method returns true if the webgl implementation supports standard derivatives."},supportsFloatTextures:{"!type":"fn() -> boolean","!doc":"This method returns true if the webgl implementation supports float textures."},clearTarget:{"!type":"fn(renderTarget: +THREE.WebGLRenderTarget, color: boolean, depth: boolean, stencil: boolean)","!doc":"This method clears a rendertarget. To do this, it activates the rendertarget."}},"!doc":"The WebGL renderer displays your beautifully crafted scenes using WebGL, if your device supports it.","!type":"fn(parameters: object)"},ShaderChunk:{"!url":"http://threejs.org/docs/#Reference/renderers/shaders/ShaderChunk",prototype:{},"!doc":"Shader chunks for WebLG Shader library"},ShaderLib:{"!url":"http://threejs.org/docs/#Reference/renderers/shaders/ShaderLib",prototype:{},"!doc":"Webgl Shader Library for three.js"},UniformsLib:{"!url":"http://threejs.org/docs/#Reference/renderers/shaders/UniformsLib",prototype:{},"!doc":"Uniforms library for shared webgl shaders"},UniformsUtils:{"!url":"http://threejs.org/docs/#Reference/renderers/shaders/UniformsUtils",prototype:{},"!doc":"Uniform Utilities. Support merging and cloning of uniform variables"},WebGLProgram:{"!url":"http://threejs.org/docs/#Reference/renderers/webgl/WebGLProgram",prototype:{uniforms:"object",attributes:"object",id:"string",code:"string",usedTimes:"number",program:"object",vertexShader:"+THREE.WebGLShader",fragmentShader:"+THREE.WebGLShader"},"!doc":"Constructor for the GLSL program sent to vertex and fragment shaders, including default uniforms and attributes.","!type":"fn(renderer: +THREE.WebGLRenderer, code: object, material: +THREE.Material, parameters: object)"},WebGLShader:{"!url":"http://threejs.org/docs/#Reference/renderers/webgl/WebGLShader",prototype:{},"!doc":"todo"},ShadowMapPlugin:{"!url":"http://threejs.org/docs/#Reference/renderers/webgl/plugins/ShadowMapPlugin",prototype:{render:{"!type":"fn(scene: +THREE.Scene, camera: +THREE.Camera)","!doc":"Prepares the shadowmaps to be rendered defined in the scene."}},"!doc":"The Webglrenderer plugin class that allows shadowmaps to be rendered in the WebglRenderer. This plugin is automatically loaded in the Webglrenderer.","!type":"fn()"},SpritePlugin:{"!url":"http://threejs.org/docs/#Reference/renderers/webgl/plugins/SpritePlugin",prototype:{render:{"!type":"fn(scene: +THREE.Scene, camera: +THREE.Camera)","!doc":"Renders the sprites defined in the scene."}},"!doc":"The Webglrenderer plugin class that allows Sprites to be rendered in the WebglRenderer. This plugin is automatically loaded in the Webglrenderer.","!type":"fn()"},Fog:{"!url":"http://threejs.org/docs/#Reference/scenes/Fog",prototype:{name:{"!type":"string","!doc":"Default is the empty string."},color:{"!type":"+THREE.Color","!doc":"Fog color.  Example: If set to black, far away objects will be rendered black."},near:{"!type":"number","!doc":"Default is 1."},far:{"!type":"number","!doc":"Default is 1000."},clone:{"!type":"fn() -> +THREE.Fog","!doc":"Returns a copy of this."}},"!doc":"This class contains the parameters that define linear fog, i.e., that grows linearly denser with the distance.","!type":"fn(hex: number, near: number, far: number)"},FogExp2:{"!url":"http://threejs.org/docs/#Reference/scenes/FogExp2",prototype:{name:{"!type":"string","!doc":"Default is the empty string."},color:{"!type":"+THREE.Color","!doc":"Fog color. Example: If set to black, far away objects will be rendered black."},density:{"!type":"number","!doc":"Default is 0.00025."},clone:{"!type":"fn() -> +THREE.FogExp2","!doc":"Returns a copy of this."}},"!doc":"This class contains the parameters that define exponential fog, i.e., that grows exponentially denser with the distance.","!type":"fn(hex: number, density: number)"},Scene:{"!url":"http://threejs.org/docs/#Reference/scenes/Scene",prototype:{"!proto":"THREE.Object3D.prototype",fog:{"!type":"+THREE.Fog","!doc":"A [page:Fog fog] instance defining the type of fog that affects everything rendered in the scene. Default is null."},overrideMaterial:{"!type":"+THREE.Material","!doc":"If not null, it will force everything in the scene to be rendered with that material. Default is null."},autoUpdate:{"!type":"boolean","!doc":`Default is true. If set, then the renderer checks every frame if the scene and its objects needs matrix updates. 
		When it isn't, then you have to maintain all matrices in the scene yourself.`}},"!doc":"Scenes allow you to set up what and where is to be rendered by three.js. This is where you place objects, lights and cameras.","!type":"fn()"},CompressedTexture:{"!url":"http://threejs.org/docs/#Reference/textures/CompressedTexture",prototype:{"!proto":"THREE.Texture.prototype",flipY:{"!type":"boolean","!doc":"False by default. Flipping textures does not work for compressed textures."},generateMipmaps:{"!type":"boolean","!doc":"False by default. Mipmaps can't be generated for compressed textures"}},"!doc":"Creates a texture based on data in compressed form.","!type":"fn(mipmaps: [], width: number, height: number, format: number, type: number, mapping: number, wrapS: number, wrapT: number, magFilter: number, minFilter: number, anisotropy: number)"},DataTexture:{"!url":"http://threejs.org/docs/#Reference/textures/DataTexture",prototype:{"!proto":"THREE.Texture.prototype"},"!doc":"Creates a texture directly from bitmapdata, width and height.","!type":"fn(data: ArraybufferView, width: number, height: number, format: number, type: number, mapping: number, wrapS: number, wrapT: number, magFilter: number, minFilter: number, anisotropy: number)"},Texture:{"!url":"http://threejs.org/docs/#Reference/textures/Texture",prototype:{id:{"!type":"number","!doc":"Unique number for this texture instance."},image:{"!type":"Image","!doc":"An Image object, typically created using the [page:ImageLoader ImageLoader] class. The Image object can include an image (e.g., PNG, JPG, GIF, DDS), video (e.g., MP4, OGG/OGV), or set of six images for a cube map. To use video as a texture you need to have a playing HTML5 video element as a source for your texture image and continuously update this texture as long as video is playing."},mapping:{"!type":"object","!doc":"How the image is applied to the object. An object type of THREE.UVMapping is the default, where the U,V coordinates are used to apply the map, and a single texture is expected. The other types are THREE.CubeReflectionMapping, for cube maps used as a reflection map; THREE.CubeRefractionMapping, refraction mapping; and THREE.SphericalReflectionMapping, a spherical reflection map projection."},wrapS:{"!type":"number","!doc":"The default is THREE.ClampToEdgeWrapping, where the edge is clamped to the outer edge texels. The other two choices are THREE.RepeatWrapping and THREE.MirroredRepeatWrapping."},wrapT:{"!type":"number","!doc":"NOTE: tiling of images in textures only functions if image dimensions are powers of two (2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 2048, ...) in terms of pixels. Individual dimensions need not be equal, but each must be a power of two. This is a limitation of WebGL, not Three.js."},magFilter:{"!type":"number","!doc":"How the texture is sampled when a texel covers more than one pixel. The default is THREE.LinearFilter, which takes the four closest texels and bilinearly interpolates among them. The other option is THREE.NearestFilter, which uses the value of the closest texel."},minFilter:{"!type":"number","!doc":"How the texture is sampled when a texel covers less than one pixel. The default is THREE.LinearMipMapLinearFilter, which uses mipmapping and a trilinear filter. Other choices are THREE.NearestFilter, THREE.NearestMipMapNearestFilter, THREE.NearestMipMapLinearFilter, THREE.LinearFilter, and THREE.LinearMipMapNearestFilter. These vary whether the nearest texel or nearest four texels are retrieved on the nearest mipmap or nearest two mipmaps. Interpolation occurs among the samples retrieved."},format:{"!type":"number","!doc":"The default is THREE.RGBAFormat for the texture. Other formats are: THREE.AlphaFormat, THREE.RGBFormat, THREE.LuminanceFormat, and THREE.LuminanceAlphaFormat. There are also compressed texture formats, if the S3TC extension is supported: THREE.RGB_S3TC_DXT1_Format, THREE.RGBA_S3TC_DXT1_Format, THREE.RGBA_S3TC_DXT3_Format, and THREE.RGBA_S3TC_DXT5_Format."},type:{"!type":"number","!doc":"The default is THREE.UnsignedByteType. Other valid types (as WebGL allows) are THREE.ByteType, THREE.ShortType, THREE.UnsignedShortType, THREE.IntType, THREE.UnsignedIntType, THREE.FloatType, THREE.UnsignedShort4444Type, THREE.UnsignedShort5551Type, and THREE.UnsignedShort565Type."},anisotropy:{"!type":"number","!doc":"The number of samples taken along the axis through the pixel that has the highest density of texels. By default, this value is 1. A higher value gives a less blurry result than a basic mipmap, at the cost of more texture samples being used. Use renderer.getMaxAnisotropy() to find the maximum valid anisotropy value for the GPU; this value is usually a power of 2."},needsUpdate:{"!type":"boolean","!doc":"If a texture is changed after creation, set this flag to true so that the texture is properly set up. Particularly important for setting the wrap mode."},repeat:{"!type":"+THREE.Vector2","!doc":"How many times the texture is repeated across the surface, in each direction U and V."},offset:{"!type":"+THREE.Vector2","!doc":"How much a single repetition of the texture is offset from the beginning, in each direction U and V. Typical range is 0.0 to 1.0."},name:{"!type":"string","!doc":"Given name of the texture, empty string by default."},generateMipmaps:{"!type":"boolean","!doc":"Whether to generate mipmaps (if possible) for a texture. True by default."},flipY:{"!type":"boolean","!doc":"True by default. Flips the image's Y axis to match the WebGL texture coordinate space."},mipmaps:{"!type":"array","!doc":"Array of mipmaps generated."},unpackAlignment:{"!type":"number","!doc":'4 by default. Specifies the alignment requirements for the start of each pixel row in memory. The allowable values are 1 (byte-alignment), 2 (rows aligned to even-numbered bytes), 4 (word-alignment), and 8 (rows start on double-word boundaries). See <a href="http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml">glPixelStorei</a> for more information.'},premultiplyAlpha:{"!type":"boolean","!doc":"False by default, which is the norm for PNG images. Set to true if the RGB values have been stored premultiplied by alpha."},onUpdate:{"!type":"object","!doc":"A callback function, called when the texture is updated (e.g., when needsUpdate has been set to true and then the texture is used)."}},"!doc":"Create a texture to apply to a surface or as a reflection or refraction map.","!type":"fn(image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy)"}}}}})});(function(l){function t(p,y,A,E,_){this._listener=y,this._isOnce=A,this.context=E,this._signal=p,this._priority=_||0}function i(p,y){if(typeof p!="function")throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",y))}function s(){this._bindings=[],this._prevParams=null;var p=this;this.dispatch=function(){s.prototype.dispatch.apply(p,arguments)}}t.prototype={active:!0,params:null,execute:function(p){var y;return this.active&&this._listener&&(p=this.params?this.params.concat(p):p,y=this._listener.apply(this.context,p),this._isOnce&&this.detach()),y},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},s.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(p,y,A,E){var _=this._indexOfListener(p,A);if(_!==-1){if(p=this._bindings[_],p.isOnce()!==y)throw Error("You cannot add"+(y?"":"Once")+"() then add"+(y?"Once":"")+"() the same listener without removing the relationship first.")}else p=new t(this,p,y,A,E),this._addBinding(p);return this.memorize&&this._prevParams&&p.execute(this._prevParams),p},_addBinding:function(p){var y=this._bindings.length;do--y;while(this._bindings[y]&&p._priority<=this._bindings[y]._priority);this._bindings.splice(y+1,0,p)},_indexOfListener:function(p,y){for(var A=this._bindings.length,E;A--;)if(E=this._bindings[A],E._listener===p&&E.context===y)return A;return-1},has:function(p,y){return this._indexOfListener(p,y)!==-1},add:function(p,y,A){return i(p,"add"),this._registerListener(p,!1,y,A)},addOnce:function(p,y,A){return i(p,"addOnce"),this._registerListener(p,!0,y,A)},remove:function(p,y){i(p,"remove");var A=this._indexOfListener(p,y);return A!==-1&&(this._bindings[A]._destroy(),this._bindings.splice(A,1)),p},removeAll:function(){for(var p=this._bindings.length;p--;)this._bindings[p]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(p){if(this.active){var y=Array.prototype.slice.call(arguments),A=this._bindings.length,E;if(this.memorize&&(this._prevParams=y),A){E=this._bindings.slice(),this._shouldPropagate=!0;do A--;while(E[A]&&this._shouldPropagate&&E[A].execute(y)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var u=s;u.Signal=s,typeof define=="function"&&define.amd?define(function(){return u}):typeof module!="undefined"&&module.exports?module.exports=u:l.signals=u})(globalThis);/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const A4="140",eU={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},tU={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},y9=0,C5=1,A9=2,iU=3,rU=0,v4=1,v9=2,vp=3,wh=0,Qa=1,Pf=2,HE=1,nU=2,nc=0,Nd=1,S5=2,T5=3,M5=4,w9=5,Bd=100,x9=101,E9=102,R5=103,B5=104,_9=200,k9=201,C9=202,S9=203,UE=204,VE=205,T9=206,M9=207,R9=208,B9=209,I9=210,D9=0,jE=1,P9=2,Yv=3,L9=4,N9=5,F9=6,O9=7,Vg=0,H9=1,U9=2,If=0,V9=1,j9=2,G9=3,z9=4,W9=5,w4=300,xh=301,Eh=302,sc=303,xg=304,u1=306,_h=1e3,da=1001,Lp=1002,so=1003,Eg=1004,sU=1004,_g=1005,oU=1005,Es=1006,x4=1007,aU=1007,Tu=1008,lU=1008,kh=1009,Q9=1010,J9=1011,Np=1012,X9=1013,cg=1014,ic=1015,Fp=1016,q9=1017,Z9=1018,Fd=1020,Y9=1021,K9=1022,wl=1023,$9=1024,e7=1025,Ah=1026,zd=1027,t7=1028,i7=1029,r7=1030,n7=1031,s7=1033,_v=33776,kv=33777,Cv=33778,Sv=33779,I5=35840,D5=35841,P5=35842,L5=35843,o7=36196,N5=37492,F5=37496,O5=37808,H5=37809,U5=37810,V5=37811,j5=37812,G5=37813,z5=37814,W5=37815,Q5=37816,J5=37817,X5=37818,q5=37819,Z5=37820,Y5=37821,K5=36492,a7=2200,l7=2201,f7=2202,Op=2300,Wd=2301,Tv=2302,Pd=2400,Ld=2401,kg=2402,E4=2500,GE=2501,u7=0,c7=1,zE=2,oc=3e3,b0=3001,WE=3200,QE=3201,i2=0,h7=1,fU="",lu="srgb",gh="srgb-linear",uU=0,Mv=7680,cU=7681,hU=7682,dU=7683,pU=34055,mU=34056,gU=5386,bU=512,yU=513,AU=514,vU=515,wU=516,xU=517,EU=518,d7=519,Hp=35044,Up=35048,_U=35040,kU=35045,CU=35049,SU=35041,TU=35046,MU=35050,RU=35042,BU="100",$5="300 es",Kv=1035;class cc{addEventListener(t,i){this._listeners===void 0&&(this._listeners={});const s=this._listeners;s[t]===void 0&&(s[t]=[]),s[t].indexOf(i)===-1&&s[t].push(i)}hasEventListener(t,i){if(this._listeners===void 0)return!1;const s=this._listeners;return s[t]!==void 0&&s[t].indexOf(i)!==-1}removeEventListener(t,i){if(this._listeners===void 0)return;const u=this._listeners[t];if(u!==void 0){const p=u.indexOf(i);p!==-1&&u.splice(p,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const s=this._listeners[t.type];if(s!==void 0){t.target=this;const u=s.slice(0);for(let p=0,y=u.length;p<y;p++)u[p].call(this,t);t.target=null}}}const qo=[];for(let l=0;l<256;l++)qo[l]=(l<16?"0":"")+l.toString(16);let RC=1234567;const Od=Math.PI/180,Cg=180/Math.PI;function kl(){const l=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0,s=Math.random()*4294967295|0;return(qo[l&255]+qo[l>>8&255]+qo[l>>16&255]+qo[l>>24&255]+"-"+qo[t&255]+qo[t>>8&255]+"-"+qo[t>>16&15|64]+qo[t>>24&255]+"-"+qo[i&63|128]+qo[i>>8&255]+"-"+qo[i>>16&255]+qo[i>>24&255]+qo[s&255]+qo[s>>8&255]+qo[s>>16&255]+qo[s>>24&255]).toLowerCase()}function oo(l,t,i){return Math.max(t,Math.min(i,l))}function JE(l,t){return(l%t+t)%t}function IU(l,t,i,s,u){return s+(l-t)*(u-s)/(i-t)}function DU(l,t,i){return l!==t?(i-l)/(t-l):0}function hg(l,t,i){return(1-i)*l+i*t}function PU(l,t,i,s){return hg(l,t,1-Math.exp(-i*s))}function LU(l,t=1){return t-Math.abs(JE(l,t*2)-t)}function NU(l,t,i){return l<=t?0:l>=i?1:(l=(l-t)/(i-t),l*l*(3-2*l))}function FU(l,t,i){return l<=t?0:l>=i?1:(l=(l-t)/(i-t),l*l*l*(l*(l*6-15)+10))}function OU(l,t){return l+Math.floor(Math.random()*(t-l+1))}function HU(l,t){return l+Math.random()*(t-l)}function UU(l){return l*(.5-Math.random())}function VU(l){l!==void 0&&(RC=l);let t=RC+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function jU(l){return l*Od}function GU(l){return l*Cg}function eE(l){return(l&l-1)===0&&l!==0}function p7(l){return Math.pow(2,Math.ceil(Math.log(l)/Math.LN2))}function $v(l){return Math.pow(2,Math.floor(Math.log(l)/Math.LN2))}function zU(l,t,i,s,u){const p=Math.cos,y=Math.sin,A=p(i/2),E=y(i/2),_=p((t+s)/2),k=y((t+s)/2),R=p((t-s)/2),P=y((t-s)/2),B=p((s-t)/2),O=y((s-t)/2);switch(u){case"XYX":l.set(A*k,E*R,E*P,A*_);break;case"YZY":l.set(E*P,A*k,E*R,A*_);break;case"ZXZ":l.set(E*R,E*P,A*k,A*_);break;case"XZX":l.set(A*k,E*O,E*B,A*_);break;case"YXY":l.set(E*B,A*k,E*O,A*_);break;case"ZYZ":l.set(E*O,E*B,A*k,A*_);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+u)}}function WU(l,t){switch(t.constructor){case Float32Array:return l;case Uint16Array:return l/65535;case Uint8Array:return l/255;case Int16Array:return Math.max(l/32767,-1);case Int8Array:return Math.max(l/127,-1);default:throw new Error("Invalid component type.")}}function QU(l,t){switch(t.constructor){case Float32Array:return l;case Uint16Array:return Math.round(l*65535);case Uint8Array:return Math.round(l*255);case Int16Array:return Math.round(l*32767);case Int8Array:return Math.round(l*127);default:throw new Error("Invalid component type.")}}var Cf=Object.freeze({__proto__:null,DEG2RAD:Od,RAD2DEG:Cg,generateUUID:kl,clamp:oo,euclideanModulo:JE,mapLinear:IU,inverseLerp:DU,lerp:hg,damp:PU,pingpong:LU,smoothstep:NU,smootherstep:FU,randInt:OU,randFloat:HU,randFloatSpread:UU,seededRandom:VU,degToRad:jU,radToDeg:GU,isPowerOfTwo:eE,ceilPowerOfTwo:p7,floorPowerOfTwo:$v,setQuaternionFromProperEuler:zU,normalize:QU,denormalize:WU});class Yi{constructor(t=0,i=0){this.x=t,this.y=i}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,i){return this.x=t,this.y=i,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,i){switch(t){case 0:this.x=i;break;case 1:this.y=i;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,i){return i!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,i)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this}addScaledVector(t,i){return this.x+=t.x*i,this.y+=t.y*i,this}sub(t,i){return i!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,i)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const i=this.x,s=this.y,u=t.elements;return this.x=u[0]*i+u[3]*s+u[6],this.y=u[1]*i+u[4]*s+u[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,i){return this.x=Math.max(t.x,Math.min(i.x,this.x)),this.y=Math.max(t.y,Math.min(i.y,this.y)),this}clampScalar(t,i){return this.x=Math.max(t,Math.min(i,this.x)),this.y=Math.max(t,Math.min(i,this.y)),this}clampLength(t,i){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(t,Math.min(i,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const i=this.x-t.x,s=this.y-t.y;return i*i+s*s}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this}lerpVectors(t,i,s){return this.x=t.x+(i.x-t.x)*s,this.y=t.y+(i.y-t.y)*s,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,i=0){return this.x=t[i],this.y=t[i+1],this}toArray(t=[],i=0){return t[i]=this.x,t[i+1]=this.y,t}fromBufferAttribute(t,i,s){return s!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(i),this.y=t.getY(i),this}rotateAround(t,i){const s=Math.cos(i),u=Math.sin(i),p=this.x-t.x,y=this.y-t.y;return this.x=p*s-y*u+t.x,this.y=p*u+y*s+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Yi.prototype.isVector2=!0;class qs{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,i,s,u,p,y,A,E,_){const k=this.elements;return k[0]=t,k[1]=u,k[2]=A,k[3]=i,k[4]=p,k[5]=E,k[6]=s,k[7]=y,k[8]=_,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const i=this.elements,s=t.elements;return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i[4]=s[4],i[5]=s[5],i[6]=s[6],i[7]=s[7],i[8]=s[8],this}extractBasis(t,i,s){return t.setFromMatrix3Column(this,0),i.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const i=t.elements;return this.set(i[0],i[4],i[8],i[1],i[5],i[9],i[2],i[6],i[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,i){const s=t.elements,u=i.elements,p=this.elements,y=s[0],A=s[3],E=s[6],_=s[1],k=s[4],R=s[7],P=s[2],B=s[5],O=s[8],H=u[0],z=u[3],Y=u[6],ee=u[1],ue=u[4],oe=u[7],Ae=u[2],be=u[5],xe=u[8];return p[0]=y*H+A*ee+E*Ae,p[3]=y*z+A*ue+E*be,p[6]=y*Y+A*oe+E*xe,p[1]=_*H+k*ee+R*Ae,p[4]=_*z+k*ue+R*be,p[7]=_*Y+k*oe+R*xe,p[2]=P*H+B*ee+O*Ae,p[5]=P*z+B*ue+O*be,p[8]=P*Y+B*oe+O*xe,this}multiplyScalar(t){const i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=t,i[4]*=t,i[7]*=t,i[2]*=t,i[5]*=t,i[8]*=t,this}determinant(){const t=this.elements,i=t[0],s=t[1],u=t[2],p=t[3],y=t[4],A=t[5],E=t[6],_=t[7],k=t[8];return i*y*k-i*A*_-s*p*k+s*A*E+u*p*_-u*y*E}invert(){const t=this.elements,i=t[0],s=t[1],u=t[2],p=t[3],y=t[4],A=t[5],E=t[6],_=t[7],k=t[8],R=k*y-A*_,P=A*E-k*p,B=_*p-y*E,O=i*R+s*P+u*B;if(O===0)return this.set(0,0,0,0,0,0,0,0,0);const H=1/O;return t[0]=R*H,t[1]=(u*_-k*s)*H,t[2]=(A*s-u*y)*H,t[3]=P*H,t[4]=(k*i-u*E)*H,t[5]=(u*p-A*i)*H,t[6]=B*H,t[7]=(s*E-_*i)*H,t[8]=(y*i-s*p)*H,this}transpose(){let t;const i=this.elements;return t=i[1],i[1]=i[3],i[3]=t,t=i[2],i[2]=i[6],i[6]=t,t=i[5],i[5]=i[7],i[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const i=this.elements;return t[0]=i[0],t[1]=i[3],t[2]=i[6],t[3]=i[1],t[4]=i[4],t[5]=i[7],t[6]=i[2],t[7]=i[5],t[8]=i[8],this}setUvTransform(t,i,s,u,p,y,A){const E=Math.cos(p),_=Math.sin(p);return this.set(s*E,s*_,-s*(E*y+_*A)+y+t,-u*_,u*E,-u*(-_*y+E*A)+A+i,0,0,1),this}scale(t,i){const s=this.elements;return s[0]*=t,s[3]*=t,s[6]*=t,s[1]*=i,s[4]*=i,s[7]*=i,this}rotate(t){const i=Math.cos(t),s=Math.sin(t),u=this.elements,p=u[0],y=u[3],A=u[6],E=u[1],_=u[4],k=u[7];return u[0]=i*p+s*E,u[3]=i*y+s*_,u[6]=i*A+s*k,u[1]=-s*p+i*E,u[4]=-s*y+i*_,u[7]=-s*A+i*k,this}translate(t,i){const s=this.elements;return s[0]+=t*s[2],s[3]+=t*s[5],s[6]+=t*s[8],s[1]+=i*s[2],s[4]+=i*s[5],s[7]+=i*s[8],this}equals(t){const i=this.elements,s=t.elements;for(let u=0;u<9;u++)if(i[u]!==s[u])return!1;return!0}fromArray(t,i=0){for(let s=0;s<9;s++)this.elements[s]=t[s+i];return this}toArray(t=[],i=0){const s=this.elements;return t[i]=s[0],t[i+1]=s[1],t[i+2]=s[2],t[i+3]=s[3],t[i+4]=s[4],t[i+5]=s[5],t[i+6]=s[6],t[i+7]=s[7],t[i+8]=s[8],t}clone(){return new this.constructor().fromArray(this.elements)}}qs.prototype.isMatrix3=!0;function m7(l){for(let t=l.length-1;t>=0;--t)if(l[t]>65535)return!0;return!1}const JU={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function wp(l,t){return new JU[l](t)}function Sg(l){return document.createElementNS("http://www.w3.org/1999/xhtml",l)}function Hd(l){return l<.04045?l*.0773993808:Math.pow(l*.9478672986+.0521327014,2.4)}function Rv(l){return l<.0031308?l*12.92:1.055*Math.pow(l,.41666)-.055}const e3={[lu]:{[gh]:Hd},[gh]:{[lu]:Rv}},zl={legacyMode:!0,get workingColorSpace(){return gh},set workingColorSpace(l){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(l,t,i){if(this.legacyMode||t===i||!t||!i)return l;if(e3[t]&&e3[t][i]!==void 0){const s=e3[t][i];return l.r=s(l.r),l.g=s(l.g),l.b=s(l.b),l}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(l,t){return this.convert(l,this.workingColorSpace,t)},toWorkingColorSpace:function(l,t){return this.convert(l,t,this.workingColorSpace)}},g7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Bo={r:0,g:0,b:0},pf={h:0,s:0,l:0},mA={h:0,s:0,l:0};function t3(l,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?l+(t-l)*6*i:i<1/2?t:i<2/3?l+(t-l)*6*(2/3-i):l}function gA(l,t){return t.r=l.r,t.g=l.g,t.b=l.b,t}class _r{constructor(t,i,s){return i===void 0&&s===void 0?this.set(t):this.setRGB(t,i,s)}set(t){return t&&t.isColor?this.copy(t):typeof t=="number"?this.setHex(t):typeof t=="string"&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,i=lu){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,zl.toWorkingColorSpace(this,i),this}setRGB(t,i,s,u=gh){return this.r=t,this.g=i,this.b=s,zl.toWorkingColorSpace(this,u),this}setHSL(t,i,s,u=gh){if(t=JE(t,1),i=oo(i,0,1),s=oo(s,0,1),i===0)this.r=this.g=this.b=s;else{const p=s<=.5?s*(1+i):s+i-s*i,y=2*s-p;this.r=t3(y,p,t+1/3),this.g=t3(y,p,t),this.b=t3(y,p,t-1/3)}return zl.toWorkingColorSpace(this,u),this}setStyle(t,i=lu){function s(p){p!==void 0&&parseFloat(p)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let u;if(u=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let p;const y=u[1],A=u[2];switch(y){case"rgb":case"rgba":if(p=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(A))return this.r=Math.min(255,parseInt(p[1],10))/255,this.g=Math.min(255,parseInt(p[2],10))/255,this.b=Math.min(255,parseInt(p[3],10))/255,zl.toWorkingColorSpace(this,i),s(p[4]),this;if(p=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(A))return this.r=Math.min(100,parseInt(p[1],10))/100,this.g=Math.min(100,parseInt(p[2],10))/100,this.b=Math.min(100,parseInt(p[3],10))/100,zl.toWorkingColorSpace(this,i),s(p[4]),this;break;case"hsl":case"hsla":if(p=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(A)){const E=parseFloat(p[1])/360,_=parseInt(p[2],10)/100,k=parseInt(p[3],10)/100;return s(p[4]),this.setHSL(E,_,k,i)}break}}else if(u=/^\#([A-Fa-f\d]+)$/.exec(t)){const p=u[1],y=p.length;if(y===3)return this.r=parseInt(p.charAt(0)+p.charAt(0),16)/255,this.g=parseInt(p.charAt(1)+p.charAt(1),16)/255,this.b=parseInt(p.charAt(2)+p.charAt(2),16)/255,zl.toWorkingColorSpace(this,i),this;if(y===6)return this.r=parseInt(p.charAt(0)+p.charAt(1),16)/255,this.g=parseInt(p.charAt(2)+p.charAt(3),16)/255,this.b=parseInt(p.charAt(4)+p.charAt(5),16)/255,zl.toWorkingColorSpace(this,i),this}return t&&t.length>0?this.setColorName(t,i):this}setColorName(t,i=lu){const s=g7[t.toLowerCase()];return s!==void 0?this.setHex(s,i):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Hd(t.r),this.g=Hd(t.g),this.b=Hd(t.b),this}copyLinearToSRGB(t){return this.r=Rv(t.r),this.g=Rv(t.g),this.b=Rv(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=lu){return zl.fromWorkingColorSpace(gA(this,Bo),t),oo(Bo.r*255,0,255)<<16^oo(Bo.g*255,0,255)<<8^oo(Bo.b*255,0,255)<<0}getHexString(t=lu){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,i=gh){zl.fromWorkingColorSpace(gA(this,Bo),i);const s=Bo.r,u=Bo.g,p=Bo.b,y=Math.max(s,u,p),A=Math.min(s,u,p);let E,_;const k=(A+y)/2;if(A===y)E=0,_=0;else{const R=y-A;switch(_=k<=.5?R/(y+A):R/(2-y-A),y){case s:E=(u-p)/R+(u<p?6:0);break;case u:E=(p-s)/R+2;break;case p:E=(s-u)/R+4;break}E/=6}return t.h=E,t.s=_,t.l=k,t}getRGB(t,i=gh){return zl.fromWorkingColorSpace(gA(this,Bo),i),t.r=Bo.r,t.g=Bo.g,t.b=Bo.b,t}getStyle(t=lu){return zl.fromWorkingColorSpace(gA(this,Bo),t),t!==lu?`color(${t} ${Bo.r} ${Bo.g} ${Bo.b})`:`rgb(${Bo.r*255|0},${Bo.g*255|0},${Bo.b*255|0})`}offsetHSL(t,i,s){return this.getHSL(pf),pf.h+=t,pf.s+=i,pf.l+=s,this.setHSL(pf.h,pf.s,pf.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,i){return this.r=t.r+i.r,this.g=t.g+i.g,this.b=t.b+i.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,i){return this.r+=(t.r-this.r)*i,this.g+=(t.g-this.g)*i,this.b+=(t.b-this.b)*i,this}lerpColors(t,i,s){return this.r=t.r+(i.r-t.r)*s,this.g=t.g+(i.g-t.g)*s,this.b=t.b+(i.b-t.b)*s,this}lerpHSL(t,i){this.getHSL(pf),t.getHSL(mA);const s=hg(pf.h,mA.h,i),u=hg(pf.s,mA.s,i),p=hg(pf.l,mA.l,i);return this.setHSL(s,u,p),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,i=0){return this.r=t[i],this.g=t[i+1],this.b=t[i+2],this}toArray(t=[],i=0){return t[i]=this.r,t[i+1]=this.g,t[i+2]=this.b,t}fromBufferAttribute(t,i){return this.r=t.getX(i),this.g=t.getY(i),this.b=t.getZ(i),t.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}_r.NAMES=g7;_r.prototype.isColor=!0;_r.prototype.r=1;_r.prototype.g=1;_r.prototype.b=1;let J2;class Dh{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement=="undefined")return t.src;let i;if(t instanceof HTMLCanvasElement)i=t;else{J2===void 0&&(J2=Sg("canvas")),J2.width=t.width,J2.height=t.height;const s=J2.getContext("2d");t instanceof ImageData?s.putImageData(t,0,0):s.drawImage(t,0,0,t.width,t.height),i=J2}return i.width>2048||i.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),i.toDataURL("image/jpeg",.6)):i.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement!="undefined"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&t instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&t instanceof ImageBitmap){const i=Sg("canvas");i.width=t.width,i.height=t.height;const s=i.getContext("2d");s.drawImage(t,0,0,t.width,t.height);const u=s.getImageData(0,0,t.width,t.height),p=u.data;for(let y=0;y<p.length;y++)p[y]=Hd(p[y]/255)*255;return s.putImageData(u,0,0),i}else if(t.data){const i=t.data.slice(0);for(let s=0;s<i.length;s++)i instanceof Uint8Array||i instanceof Uint8ClampedArray?i[s]=Math.floor(Hd(i[s]/255)*255):i[s]=Hd(i[s]);return{data:i,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}class bh{constructor(t=null){this.uuid=kl(),this.data=t,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const i=t===void 0||typeof t=="string";if(!i&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const s={uuid:this.uuid,url:""},u=this.data;if(u!==null){let p;if(Array.isArray(u)){p=[];for(let y=0,A=u.length;y<A;y++)u[y].isDataTexture?p.push(i3(u[y].image)):p.push(i3(u[y]))}else p=i3(u);s.url=p}return i||(t.images[this.uuid]=s),s}}function i3(l){return typeof HTMLImageElement!="undefined"&&l instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&l instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&l instanceof ImageBitmap?Dh.getDataURL(l):l.data?{data:Array.prototype.slice.call(l.data),width:l.width,height:l.height,type:l.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}bh.prototype.isSource=!0;let XU=0;class ns extends cc{constructor(t=ns.DEFAULT_IMAGE,i=ns.DEFAULT_MAPPING,s=da,u=da,p=Es,y=Tu,A=wl,E=kh,_=1,k=oc){super(),Object.defineProperty(this,"id",{value:XU++}),this.uuid=kl(),this.name="",this.source=new bh(t),this.mipmaps=[],this.mapping=i,this.wrapS=s,this.wrapT=u,this.magFilter=p,this.minFilter=y,this.anisotropy=_,this.format=A,this.internalFormat=null,this.type=E,this.offset=new Yi(0,0),this.repeat=new Yi(1,1),this.center=new Yi(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new qs,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=k,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const i=t===void 0||typeof t=="string";if(!i&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const s={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(s.userData=this.userData),i||(t.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==w4)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case _h:t.x=t.x-Math.floor(t.x);break;case da:t.x=t.x<0?0:1;break;case Lp:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case _h:t.y=t.y-Math.floor(t.y);break;case da:t.y=t.y<0?0:1;break;case Lp:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}}ns.DEFAULT_IMAGE=null;ns.DEFAULT_MAPPING=w4;ns.prototype.isTexture=!0;class V0{constructor(t=0,i=0,s=0,u=1){this.x=t,this.y=i,this.z=s,this.w=u}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,i,s,u){return this.x=t,this.y=i,this.z=s,this.w=u,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,i){switch(t){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;case 3:this.w=i;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t,i){return i!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,i)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this.z=t.z+i.z,this.w=t.w+i.w,this}addScaledVector(t,i){return this.x+=t.x*i,this.y+=t.y*i,this.z+=t.z*i,this.w+=t.w*i,this}sub(t,i){return i!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,i)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this.z=t.z-i.z,this.w=t.w-i.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const i=this.x,s=this.y,u=this.z,p=this.w,y=t.elements;return this.x=y[0]*i+y[4]*s+y[8]*u+y[12]*p,this.y=y[1]*i+y[5]*s+y[9]*u+y[13]*p,this.z=y[2]*i+y[6]*s+y[10]*u+y[14]*p,this.w=y[3]*i+y[7]*s+y[11]*u+y[15]*p,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const i=Math.sqrt(1-t.w*t.w);return i<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/i,this.y=t.y/i,this.z=t.z/i),this}setAxisAngleFromRotationMatrix(t){let i,s,u,p;const E=t.elements,_=E[0],k=E[4],R=E[8],P=E[1],B=E[5],O=E[9],H=E[2],z=E[6],Y=E[10];if(Math.abs(k-P)<.01&&Math.abs(R-H)<.01&&Math.abs(O-z)<.01){if(Math.abs(k+P)<.1&&Math.abs(R+H)<.1&&Math.abs(O+z)<.1&&Math.abs(_+B+Y-3)<.1)return this.set(1,0,0,0),this;i=Math.PI;const ue=(_+1)/2,oe=(B+1)/2,Ae=(Y+1)/2,be=(k+P)/4,xe=(R+H)/4,ne=(O+z)/4;return ue>oe&&ue>Ae?ue<.01?(s=0,u=.707106781,p=.707106781):(s=Math.sqrt(ue),u=be/s,p=xe/s):oe>Ae?oe<.01?(s=.707106781,u=0,p=.707106781):(u=Math.sqrt(oe),s=be/u,p=ne/u):Ae<.01?(s=.707106781,u=.707106781,p=0):(p=Math.sqrt(Ae),s=xe/p,u=ne/p),this.set(s,u,p,i),this}let ee=Math.sqrt((z-O)*(z-O)+(R-H)*(R-H)+(P-k)*(P-k));return Math.abs(ee)<.001&&(ee=1),this.x=(z-O)/ee,this.y=(R-H)/ee,this.z=(P-k)/ee,this.w=Math.acos((_+B+Y-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,i){return this.x=Math.max(t.x,Math.min(i.x,this.x)),this.y=Math.max(t.y,Math.min(i.y,this.y)),this.z=Math.max(t.z,Math.min(i.z,this.z)),this.w=Math.max(t.w,Math.min(i.w,this.w)),this}clampScalar(t,i){return this.x=Math.max(t,Math.min(i,this.x)),this.y=Math.max(t,Math.min(i,this.y)),this.z=Math.max(t,Math.min(i,this.z)),this.w=Math.max(t,Math.min(i,this.w)),this}clampLength(t,i){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(t,Math.min(i,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this.z+=(t.z-this.z)*i,this.w+=(t.w-this.w)*i,this}lerpVectors(t,i,s){return this.x=t.x+(i.x-t.x)*s,this.y=t.y+(i.y-t.y)*s,this.z=t.z+(i.z-t.z)*s,this.w=t.w+(i.w-t.w)*s,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,i=0){return this.x=t[i],this.y=t[i+1],this.z=t[i+2],this.w=t[i+3],this}toArray(t=[],i=0){return t[i]=this.x,t[i+1]=this.y,t[i+2]=this.z,t[i+3]=this.w,t}fromBufferAttribute(t,i,s){return s!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(i),this.y=t.getY(i),this.z=t.getZ(i),this.w=t.getW(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}V0.prototype.isVector4=!0;class Ta extends cc{constructor(t,i,s={}){super(),this.width=t,this.height=i,this.depth=1,this.scissor=new V0(0,0,t,i),this.scissorTest=!1,this.viewport=new V0(0,0,t,i);const u={width:t,height:i,depth:1};this.texture=new ns(u,s.mapping,s.wrapS,s.wrapT,s.magFilter,s.minFilter,s.format,s.type,s.anisotropy,s.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=s.generateMipmaps!==void 0?s.generateMipmaps:!1,this.texture.internalFormat=s.internalFormat!==void 0?s.internalFormat:null,this.texture.minFilter=s.minFilter!==void 0?s.minFilter:Es,this.depthBuffer=s.depthBuffer!==void 0?s.depthBuffer:!0,this.stencilBuffer=s.stencilBuffer!==void 0?s.stencilBuffer:!1,this.depthTexture=s.depthTexture!==void 0?s.depthTexture:null,this.samples=s.samples!==void 0?s.samples:0}setSize(t,i,s=1){(this.width!==t||this.height!==i||this.depth!==s)&&(this.width=t,this.height=i,this.depth=s,this.texture.image.width=t,this.texture.image.height=i,this.texture.image.depth=s,this.dispose()),this.viewport.set(0,0,t,i),this.scissor.set(0,0,t,i)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;const i=Object.assign({},t.texture.image);return this.texture.source=new bh(i),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}Ta.prototype.isWebGLRenderTarget=!0;class c1 extends ns{constructor(t=null,i=1,s=1,u=1){super(null),this.image={data:t,width:i,height:s,depth:u},this.magFilter=so,this.minFilter=so,this.wrapR=da,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}c1.prototype.isDataArrayTexture=!0;class b7 extends Ta{constructor(t,i,s){super(t,i),this.depth=s,this.texture=new c1(null,t,i,s),this.texture.isRenderTargetTexture=!0}}b7.prototype.isWebGLArrayRenderTarget=!0;class jg extends ns{constructor(t=null,i=1,s=1,u=1){super(null),this.image={data:t,width:i,height:s,depth:u},this.magFilter=so,this.minFilter=so,this.wrapR=da,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}jg.prototype.isData3DTexture=!0;class y7 extends Ta{constructor(t,i,s){super(t,i),this.depth=s,this.texture=new jg(null,t,i,s),this.texture.isRenderTargetTexture=!0}}y7.prototype.isWebGL3DRenderTarget=!0;class A7 extends Ta{constructor(t,i,s,u={}){super(t,i,u);const p=this.texture;this.texture=[];for(let y=0;y<s;y++)this.texture[y]=p.clone(),this.texture[y].isRenderTargetTexture=!0}setSize(t,i,s=1){if(this.width!==t||this.height!==i||this.depth!==s){this.width=t,this.height=i,this.depth=s;for(let u=0,p=this.texture.length;u<p;u++)this.texture[u].image.width=t,this.texture[u].image.height=i,this.texture[u].image.depth=s;this.dispose()}return this.viewport.set(0,0,t,i),this.scissor.set(0,0,t,i),this}copy(t){this.dispose(),this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.texture.length=0;for(let i=0,s=t.texture.length;i<s;i++)this.texture[i]=t.texture[i].clone(),this.texture[i].isRenderTargetTexture=!0;return this}}A7.prototype.isWebGLMultipleRenderTargets=!0;class D0{constructor(t=0,i=0,s=0,u=1){this._x=t,this._y=i,this._z=s,this._w=u}static slerp(t,i,s,u){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),s.slerpQuaternions(t,i,u)}static slerpFlat(t,i,s,u,p,y,A){let E=s[u+0],_=s[u+1],k=s[u+2],R=s[u+3];const P=p[y+0],B=p[y+1],O=p[y+2],H=p[y+3];if(A===0){t[i+0]=E,t[i+1]=_,t[i+2]=k,t[i+3]=R;return}if(A===1){t[i+0]=P,t[i+1]=B,t[i+2]=O,t[i+3]=H;return}if(R!==H||E!==P||_!==B||k!==O){let z=1-A;const Y=E*P+_*B+k*O+R*H,ee=Y>=0?1:-1,ue=1-Y*Y;if(ue>Number.EPSILON){const Ae=Math.sqrt(ue),be=Math.atan2(Ae,Y*ee);z=Math.sin(z*be)/Ae,A=Math.sin(A*be)/Ae}const oe=A*ee;if(E=E*z+P*oe,_=_*z+B*oe,k=k*z+O*oe,R=R*z+H*oe,z===1-A){const Ae=1/Math.sqrt(E*E+_*_+k*k+R*R);E*=Ae,_*=Ae,k*=Ae,R*=Ae}}t[i]=E,t[i+1]=_,t[i+2]=k,t[i+3]=R}static multiplyQuaternionsFlat(t,i,s,u,p,y){const A=s[u],E=s[u+1],_=s[u+2],k=s[u+3],R=p[y],P=p[y+1],B=p[y+2],O=p[y+3];return t[i]=A*O+k*R+E*B-_*P,t[i+1]=E*O+k*P+_*R-A*B,t[i+2]=_*O+k*B+A*P-E*R,t[i+3]=k*O-A*R-E*P-_*B,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,i,s,u){return this._x=t,this._y=i,this._z=s,this._w=u,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,i){if(!(t&&t.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const s=t._x,u=t._y,p=t._z,y=t._order,A=Math.cos,E=Math.sin,_=A(s/2),k=A(u/2),R=A(p/2),P=E(s/2),B=E(u/2),O=E(p/2);switch(y){case"XYZ":this._x=P*k*R+_*B*O,this._y=_*B*R-P*k*O,this._z=_*k*O+P*B*R,this._w=_*k*R-P*B*O;break;case"YXZ":this._x=P*k*R+_*B*O,this._y=_*B*R-P*k*O,this._z=_*k*O-P*B*R,this._w=_*k*R+P*B*O;break;case"ZXY":this._x=P*k*R-_*B*O,this._y=_*B*R+P*k*O,this._z=_*k*O+P*B*R,this._w=_*k*R-P*B*O;break;case"ZYX":this._x=P*k*R-_*B*O,this._y=_*B*R+P*k*O,this._z=_*k*O-P*B*R,this._w=_*k*R+P*B*O;break;case"YZX":this._x=P*k*R+_*B*O,this._y=_*B*R+P*k*O,this._z=_*k*O-P*B*R,this._w=_*k*R-P*B*O;break;case"XZY":this._x=P*k*R-_*B*O,this._y=_*B*R-P*k*O,this._z=_*k*O+P*B*R,this._w=_*k*R+P*B*O;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+y)}return i!==!1&&this._onChangeCallback(),this}setFromAxisAngle(t,i){const s=i/2,u=Math.sin(s);return this._x=t.x*u,this._y=t.y*u,this._z=t.z*u,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(t){const i=t.elements,s=i[0],u=i[4],p=i[8],y=i[1],A=i[5],E=i[9],_=i[2],k=i[6],R=i[10],P=s+A+R;if(P>0){const B=.5/Math.sqrt(P+1);this._w=.25/B,this._x=(k-E)*B,this._y=(p-_)*B,this._z=(y-u)*B}else if(s>A&&s>R){const B=2*Math.sqrt(1+s-A-R);this._w=(k-E)/B,this._x=.25*B,this._y=(u+y)/B,this._z=(p+_)/B}else if(A>R){const B=2*Math.sqrt(1+A-s-R);this._w=(p-_)/B,this._x=(u+y)/B,this._y=.25*B,this._z=(E+k)/B}else{const B=2*Math.sqrt(1+R-s-A);this._w=(y-u)/B,this._x=(p+_)/B,this._y=(E+k)/B,this._z=.25*B}return this._onChangeCallback(),this}setFromUnitVectors(t,i){let s=t.dot(i)+1;return s<Number.EPSILON?(s=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=s):(this._x=0,this._y=-t.z,this._z=t.y,this._w=s)):(this._x=t.y*i.z-t.z*i.y,this._y=t.z*i.x-t.x*i.z,this._z=t.x*i.y-t.y*i.x,this._w=s),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(oo(this.dot(t),-1,1)))}rotateTowards(t,i){const s=this.angleTo(t);if(s===0)return this;const u=Math.min(1,i/s);return this.slerp(t,u),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,i){return i!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,i)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,i){const s=t._x,u=t._y,p=t._z,y=t._w,A=i._x,E=i._y,_=i._z,k=i._w;return this._x=s*k+y*A+u*_-p*E,this._y=u*k+y*E+p*A-s*_,this._z=p*k+y*_+s*E-u*A,this._w=y*k-s*A-u*E-p*_,this._onChangeCallback(),this}slerp(t,i){if(i===0)return this;if(i===1)return this.copy(t);const s=this._x,u=this._y,p=this._z,y=this._w;let A=y*t._w+s*t._x+u*t._y+p*t._z;if(A<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,A=-A):this.copy(t),A>=1)return this._w=y,this._x=s,this._y=u,this._z=p,this;const E=1-A*A;if(E<=Number.EPSILON){const B=1-i;return this._w=B*y+i*this._w,this._x=B*s+i*this._x,this._y=B*u+i*this._y,this._z=B*p+i*this._z,this.normalize(),this._onChangeCallback(),this}const _=Math.sqrt(E),k=Math.atan2(_,A),R=Math.sin((1-i)*k)/_,P=Math.sin(i*k)/_;return this._w=y*R+this._w*P,this._x=s*R+this._x*P,this._y=u*R+this._y*P,this._z=p*R+this._z*P,this._onChangeCallback(),this}slerpQuaternions(t,i,s){return this.copy(t).slerp(i,s)}random(){const t=Math.random(),i=Math.sqrt(1-t),s=Math.sqrt(t),u=2*Math.PI*Math.random(),p=2*Math.PI*Math.random();return this.set(i*Math.cos(u),s*Math.sin(p),s*Math.cos(p),i*Math.sin(u))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,i=0){return this._x=t[i],this._y=t[i+1],this._z=t[i+2],this._w=t[i+3],this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._w,t}fromBufferAttribute(t,i){return this._x=t.getX(i),this._y=t.getY(i),this._z=t.getZ(i),this._w=t.getW(i),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}D0.prototype.isQuaternion=!0;class wt{constructor(t=0,i=0,s=0){this.x=t,this.y=i,this.z=s}set(t,i,s){return s===void 0&&(s=this.z),this.x=t,this.y=i,this.z=s,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,i){switch(t){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,i){return i!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,i)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this.z=t.z+i.z,this}addScaledVector(t,i){return this.x+=t.x*i,this.y+=t.y*i,this.z+=t.z*i,this}sub(t,i){return i!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,i)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this.z=t.z-i.z,this}multiply(t,i){return i!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,i)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,i){return this.x=t.x*i.x,this.y=t.y*i.y,this.z=t.z*i.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(BC.setFromEuler(t))}applyAxisAngle(t,i){return this.applyQuaternion(BC.setFromAxisAngle(t,i))}applyMatrix3(t){const i=this.x,s=this.y,u=this.z,p=t.elements;return this.x=p[0]*i+p[3]*s+p[6]*u,this.y=p[1]*i+p[4]*s+p[7]*u,this.z=p[2]*i+p[5]*s+p[8]*u,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const i=this.x,s=this.y,u=this.z,p=t.elements,y=1/(p[3]*i+p[7]*s+p[11]*u+p[15]);return this.x=(p[0]*i+p[4]*s+p[8]*u+p[12])*y,this.y=(p[1]*i+p[5]*s+p[9]*u+p[13])*y,this.z=(p[2]*i+p[6]*s+p[10]*u+p[14])*y,this}applyQuaternion(t){const i=this.x,s=this.y,u=this.z,p=t.x,y=t.y,A=t.z,E=t.w,_=E*i+y*u-A*s,k=E*s+A*i-p*u,R=E*u+p*s-y*i,P=-p*i-y*s-A*u;return this.x=_*E+P*-p+k*-A-R*-y,this.y=k*E+P*-y+R*-p-_*-A,this.z=R*E+P*-A+_*-y-k*-p,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const i=this.x,s=this.y,u=this.z,p=t.elements;return this.x=p[0]*i+p[4]*s+p[8]*u,this.y=p[1]*i+p[5]*s+p[9]*u,this.z=p[2]*i+p[6]*s+p[10]*u,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,i){return this.x=Math.max(t.x,Math.min(i.x,this.x)),this.y=Math.max(t.y,Math.min(i.y,this.y)),this.z=Math.max(t.z,Math.min(i.z,this.z)),this}clampScalar(t,i){return this.x=Math.max(t,Math.min(i,this.x)),this.y=Math.max(t,Math.min(i,this.y)),this.z=Math.max(t,Math.min(i,this.z)),this}clampLength(t,i){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(t,Math.min(i,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this.z+=(t.z-this.z)*i,this}lerpVectors(t,i,s){return this.x=t.x+(i.x-t.x)*s,this.y=t.y+(i.y-t.y)*s,this.z=t.z+(i.z-t.z)*s,this}cross(t,i){return i!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,i)):this.crossVectors(this,t)}crossVectors(t,i){const s=t.x,u=t.y,p=t.z,y=i.x,A=i.y,E=i.z;return this.x=u*E-p*A,this.y=p*y-s*E,this.z=s*A-u*y,this}projectOnVector(t){const i=t.lengthSq();if(i===0)return this.set(0,0,0);const s=t.dot(this)/i;return this.copy(t).multiplyScalar(s)}projectOnPlane(t){return r3.copy(this).projectOnVector(t),this.sub(r3)}reflect(t){return this.sub(r3.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const i=Math.sqrt(this.lengthSq()*t.lengthSq());if(i===0)return Math.PI/2;const s=this.dot(t)/i;return Math.acos(oo(s,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const i=this.x-t.x,s=this.y-t.y,u=this.z-t.z;return i*i+s*s+u*u}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,i,s){const u=Math.sin(i)*t;return this.x=u*Math.sin(s),this.y=Math.cos(i)*t,this.z=u*Math.cos(s),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,i,s){return this.x=t*Math.sin(i),this.y=s,this.z=t*Math.cos(i),this}setFromMatrixPosition(t){const i=t.elements;return this.x=i[12],this.y=i[13],this.z=i[14],this}setFromMatrixScale(t){const i=this.setFromMatrixColumn(t,0).length(),s=this.setFromMatrixColumn(t,1).length(),u=this.setFromMatrixColumn(t,2).length();return this.x=i,this.y=s,this.z=u,this}setFromMatrixColumn(t,i){return this.fromArray(t.elements,i*4)}setFromMatrix3Column(t,i){return this.fromArray(t.elements,i*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,i=0){return this.x=t[i],this.y=t[i+1],this.z=t[i+2],this}toArray(t=[],i=0){return t[i]=this.x,t[i+1]=this.y,t[i+2]=this.z,t}fromBufferAttribute(t,i,s){return s!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(i),this.y=t.getY(i),this.z=t.getZ(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=(Math.random()-.5)*2,i=Math.random()*Math.PI*2,s=Math.sqrt(1-t**2);return this.x=s*Math.cos(i),this.y=s*Math.sin(i),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}wt.prototype.isVector3=!0;const r3=new wt,BC=new D0;class ia{constructor(t=new wt(1/0,1/0,1/0),i=new wt(-1/0,-1/0,-1/0)){this.min=t,this.max=i}set(t,i){return this.min.copy(t),this.max.copy(i),this}setFromArray(t){let i=1/0,s=1/0,u=1/0,p=-1/0,y=-1/0,A=-1/0;for(let E=0,_=t.length;E<_;E+=3){const k=t[E],R=t[E+1],P=t[E+2];k<i&&(i=k),R<s&&(s=R),P<u&&(u=P),k>p&&(p=k),R>y&&(y=R),P>A&&(A=P)}return this.min.set(i,s,u),this.max.set(p,y,A),this}setFromBufferAttribute(t){let i=1/0,s=1/0,u=1/0,p=-1/0,y=-1/0,A=-1/0;for(let E=0,_=t.count;E<_;E++){const k=t.getX(E),R=t.getY(E),P=t.getZ(E);k<i&&(i=k),R<s&&(s=R),P<u&&(u=P),k>p&&(p=k),R>y&&(y=R),P>A&&(A=P)}return this.min.set(i,s,u),this.max.set(p,y,A),this}setFromPoints(t){this.makeEmpty();for(let i=0,s=t.length;i<s;i++)this.expandByPoint(t[i]);return this}setFromCenterAndSize(t,i){const s=yd.copy(i).multiplyScalar(.5);return this.min.copy(t).sub(s),this.max.copy(t).add(s),this}setFromObject(t,i=!1){return this.makeEmpty(),this.expandByObject(t,i)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,i=!1){t.updateWorldMatrix(!1,!1);const s=t.geometry;if(s!==void 0)if(i&&s.attributes!=null&&s.attributes.position!==void 0){const p=s.attributes.position;for(let y=0,A=p.count;y<A;y++)yd.fromBufferAttribute(p,y).applyMatrix4(t.matrixWorld),this.expandByPoint(yd)}else s.boundingBox===null&&s.computeBoundingBox(),n3.copy(s.boundingBox),n3.applyMatrix4(t.matrixWorld),this.union(n3);const u=t.children;for(let p=0,y=u.length;p<y;p++)this.expandByObject(u[p],i);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,i){return i.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,yd),yd.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let i,s;return t.normal.x>0?(i=t.normal.x*this.min.x,s=t.normal.x*this.max.x):(i=t.normal.x*this.max.x,s=t.normal.x*this.min.x),t.normal.y>0?(i+=t.normal.y*this.min.y,s+=t.normal.y*this.max.y):(i+=t.normal.y*this.max.y,s+=t.normal.y*this.min.y),t.normal.z>0?(i+=t.normal.z*this.min.z,s+=t.normal.z*this.max.z):(i+=t.normal.z*this.max.z,s+=t.normal.z*this.min.z),i<=-t.constant&&s>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Dm),bA.subVectors(this.max,Dm),X2.subVectors(t.a,Dm),q2.subVectors(t.b,Dm),Z2.subVectors(t.c,Dm),Xc.subVectors(q2,X2),qc.subVectors(Z2,q2),Ad.subVectors(X2,Z2);let i=[0,-Xc.z,Xc.y,0,-qc.z,qc.y,0,-Ad.z,Ad.y,Xc.z,0,-Xc.x,qc.z,0,-qc.x,Ad.z,0,-Ad.x,-Xc.y,Xc.x,0,-qc.y,qc.x,0,-Ad.y,Ad.x,0];return!s3(i,X2,q2,Z2,bA)||(i=[1,0,0,0,1,0,0,0,1],!s3(i,X2,q2,Z2,bA))?!1:(yA.crossVectors(Xc,qc),i=[yA.x,yA.y,yA.z],s3(i,X2,q2,Z2,bA))}clampPoint(t,i){return i.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return yd.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=this.getSize(yd).length()*.5,t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(zu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),zu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),zu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),zu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),zu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),zu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),zu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),zu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(zu),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}ia.prototype.isBox3=!0;const zu=[new wt,new wt,new wt,new wt,new wt,new wt,new wt,new wt],yd=new wt,n3=new ia,X2=new wt,q2=new wt,Z2=new wt,Xc=new wt,qc=new wt,Ad=new wt,Dm=new wt,bA=new wt,yA=new wt,vd=new wt;function s3(l,t,i,s,u){for(let p=0,y=l.length-3;p<=y;p+=3){vd.fromArray(l,p);const A=u.x*Math.abs(vd.x)+u.y*Math.abs(vd.y)+u.z*Math.abs(vd.z),E=t.dot(vd),_=i.dot(vd),k=s.dot(vd);if(Math.max(-Math.max(E,_,k),Math.min(E,_,k))>A)return!1}return!0}const qU=new ia,IC=new wt,AA=new wt,o3=new wt;class Mu{constructor(t=new wt,i=-1){this.center=t,this.radius=i}set(t,i){return this.center.copy(t),this.radius=i,this}setFromPoints(t,i){const s=this.center;i!==void 0?s.copy(i):qU.setFromPoints(t).getCenter(s);let u=0;for(let p=0,y=t.length;p<y;p++)u=Math.max(u,s.distanceToSquared(t[p]));return this.radius=Math.sqrt(u),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const i=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=i*i}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,i){const s=this.center.distanceToSquared(t);return i.copy(t),s>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){o3.subVectors(t,this.center);const i=o3.lengthSq();if(i>this.radius*this.radius){const s=Math.sqrt(i),u=(s-this.radius)*.5;this.center.add(o3.multiplyScalar(u/s)),this.radius+=u}return this}union(t){return this.center.equals(t.center)===!0?AA.set(0,0,1).multiplyScalar(t.radius):AA.subVectors(t.center,this.center).normalize().multiplyScalar(t.radius),this.expandByPoint(IC.copy(t.center).add(AA)),this.expandByPoint(IC.copy(t.center).sub(AA)),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Wu=new wt,a3=new wt,vA=new wt,Zc=new wt,l3=new wt,wA=new wt,f3=new wt;class Ph{constructor(t=new wt,i=new wt(0,0,-1)){this.origin=t,this.direction=i}set(t,i){return this.origin.copy(t),this.direction.copy(i),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,i){return i.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Wu)),this}closestPointToPoint(t,i){i.subVectors(t,this.origin);const s=i.dot(this.direction);return s<0?i.copy(this.origin):i.copy(this.direction).multiplyScalar(s).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const i=Wu.subVectors(t,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(t):(Wu.copy(this.direction).multiplyScalar(i).add(this.origin),Wu.distanceToSquared(t))}distanceSqToSegment(t,i,s,u){a3.copy(t).add(i).multiplyScalar(.5),vA.copy(i).sub(t).normalize(),Zc.copy(this.origin).sub(a3);const p=t.distanceTo(i)*.5,y=-this.direction.dot(vA),A=Zc.dot(this.direction),E=-Zc.dot(vA),_=Zc.lengthSq(),k=Math.abs(1-y*y);let R,P,B,O;if(k>0)if(R=y*E-A,P=y*A-E,O=p*k,R>=0)if(P>=-O)if(P<=O){const H=1/k;R*=H,P*=H,B=R*(R+y*P+2*A)+P*(y*R+P+2*E)+_}else P=p,R=Math.max(0,-(y*P+A)),B=-R*R+P*(P+2*E)+_;else P=-p,R=Math.max(0,-(y*P+A)),B=-R*R+P*(P+2*E)+_;else P<=-O?(R=Math.max(0,-(-y*p+A)),P=R>0?-p:Math.min(Math.max(-p,-E),p),B=-R*R+P*(P+2*E)+_):P<=O?(R=0,P=Math.min(Math.max(-p,-E),p),B=P*(P+2*E)+_):(R=Math.max(0,-(y*p+A)),P=R>0?p:Math.min(Math.max(-p,-E),p),B=-R*R+P*(P+2*E)+_);else P=y>0?-p:p,R=Math.max(0,-(y*P+A)),B=-R*R+P*(P+2*E)+_;return s&&s.copy(this.direction).multiplyScalar(R).add(this.origin),u&&u.copy(vA).multiplyScalar(P).add(a3),B}intersectSphere(t,i){Wu.subVectors(t.center,this.origin);const s=Wu.dot(this.direction),u=Wu.dot(Wu)-s*s,p=t.radius*t.radius;if(u>p)return null;const y=Math.sqrt(p-u),A=s-y,E=s+y;return A<0&&E<0?null:A<0?this.at(E,i):this.at(A,i)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const i=t.normal.dot(this.direction);if(i===0)return t.distanceToPoint(this.origin)===0?0:null;const s=-(this.origin.dot(t.normal)+t.constant)/i;return s>=0?s:null}intersectPlane(t,i){const s=this.distanceToPlane(t);return s===null?null:this.at(s,i)}intersectsPlane(t){const i=t.distanceToPoint(this.origin);return i===0||t.normal.dot(this.direction)*i<0}intersectBox(t,i){let s,u,p,y,A,E;const _=1/this.direction.x,k=1/this.direction.y,R=1/this.direction.z,P=this.origin;return _>=0?(s=(t.min.x-P.x)*_,u=(t.max.x-P.x)*_):(s=(t.max.x-P.x)*_,u=(t.min.x-P.x)*_),k>=0?(p=(t.min.y-P.y)*k,y=(t.max.y-P.y)*k):(p=(t.max.y-P.y)*k,y=(t.min.y-P.y)*k),s>y||p>u||((p>s||s!==s)&&(s=p),(y<u||u!==u)&&(u=y),R>=0?(A=(t.min.z-P.z)*R,E=(t.max.z-P.z)*R):(A=(t.max.z-P.z)*R,E=(t.min.z-P.z)*R),s>E||A>u)||((A>s||s!==s)&&(s=A),(E<u||u!==u)&&(u=E),u<0)?null:this.at(s>=0?s:u,i)}intersectsBox(t){return this.intersectBox(t,Wu)!==null}intersectTriangle(t,i,s,u,p){l3.subVectors(i,t),wA.subVectors(s,t),f3.crossVectors(l3,wA);let y=this.direction.dot(f3),A;if(y>0){if(u)return null;A=1}else if(y<0)A=-1,y=-y;else return null;Zc.subVectors(this.origin,t);const E=A*this.direction.dot(wA.crossVectors(Zc,wA));if(E<0)return null;const _=A*this.direction.dot(l3.cross(Zc));if(_<0||E+_>y)return null;const k=-A*Zc.dot(f3);return k<0?null:this.at(k/y,p)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Jr{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,i,s,u,p,y,A,E,_,k,R,P,B,O,H,z){const Y=this.elements;return Y[0]=t,Y[4]=i,Y[8]=s,Y[12]=u,Y[1]=p,Y[5]=y,Y[9]=A,Y[13]=E,Y[2]=_,Y[6]=k,Y[10]=R,Y[14]=P,Y[3]=B,Y[7]=O,Y[11]=H,Y[15]=z,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Jr().fromArray(this.elements)}copy(t){const i=this.elements,s=t.elements;return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i[4]=s[4],i[5]=s[5],i[6]=s[6],i[7]=s[7],i[8]=s[8],i[9]=s[9],i[10]=s[10],i[11]=s[11],i[12]=s[12],i[13]=s[13],i[14]=s[14],i[15]=s[15],this}copyPosition(t){const i=this.elements,s=t.elements;return i[12]=s[12],i[13]=s[13],i[14]=s[14],this}setFromMatrix3(t){const i=t.elements;return this.set(i[0],i[3],i[6],0,i[1],i[4],i[7],0,i[2],i[5],i[8],0,0,0,0,1),this}extractBasis(t,i,s){return t.setFromMatrixColumn(this,0),i.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(t,i,s){return this.set(t.x,i.x,s.x,0,t.y,i.y,s.y,0,t.z,i.z,s.z,0,0,0,0,1),this}extractRotation(t){const i=this.elements,s=t.elements,u=1/Y2.setFromMatrixColumn(t,0).length(),p=1/Y2.setFromMatrixColumn(t,1).length(),y=1/Y2.setFromMatrixColumn(t,2).length();return i[0]=s[0]*u,i[1]=s[1]*u,i[2]=s[2]*u,i[3]=0,i[4]=s[4]*p,i[5]=s[5]*p,i[6]=s[6]*p,i[7]=0,i[8]=s[8]*y,i[9]=s[9]*y,i[10]=s[10]*y,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const i=this.elements,s=t.x,u=t.y,p=t.z,y=Math.cos(s),A=Math.sin(s),E=Math.cos(u),_=Math.sin(u),k=Math.cos(p),R=Math.sin(p);if(t.order==="XYZ"){const P=y*k,B=y*R,O=A*k,H=A*R;i[0]=E*k,i[4]=-E*R,i[8]=_,i[1]=B+O*_,i[5]=P-H*_,i[9]=-A*E,i[2]=H-P*_,i[6]=O+B*_,i[10]=y*E}else if(t.order==="YXZ"){const P=E*k,B=E*R,O=_*k,H=_*R;i[0]=P+H*A,i[4]=O*A-B,i[8]=y*_,i[1]=y*R,i[5]=y*k,i[9]=-A,i[2]=B*A-O,i[6]=H+P*A,i[10]=y*E}else if(t.order==="ZXY"){const P=E*k,B=E*R,O=_*k,H=_*R;i[0]=P-H*A,i[4]=-y*R,i[8]=O+B*A,i[1]=B+O*A,i[5]=y*k,i[9]=H-P*A,i[2]=-y*_,i[6]=A,i[10]=y*E}else if(t.order==="ZYX"){const P=y*k,B=y*R,O=A*k,H=A*R;i[0]=E*k,i[4]=O*_-B,i[8]=P*_+H,i[1]=E*R,i[5]=H*_+P,i[9]=B*_-O,i[2]=-_,i[6]=A*E,i[10]=y*E}else if(t.order==="YZX"){const P=y*E,B=y*_,O=A*E,H=A*_;i[0]=E*k,i[4]=H-P*R,i[8]=O*R+B,i[1]=R,i[5]=y*k,i[9]=-A*k,i[2]=-_*k,i[6]=B*R+O,i[10]=P-H*R}else if(t.order==="XZY"){const P=y*E,B=y*_,O=A*E,H=A*_;i[0]=E*k,i[4]=-R,i[8]=_*k,i[1]=P*R+H,i[5]=y*k,i[9]=B*R-O,i[2]=O*R-B,i[6]=A*k,i[10]=H*R+P}return i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromQuaternion(t){return this.compose(ZU,t,YU)}lookAt(t,i,s){const u=this.elements;return ml.subVectors(t,i),ml.lengthSq()===0&&(ml.z=1),ml.normalize(),Yc.crossVectors(s,ml),Yc.lengthSq()===0&&(Math.abs(s.z)===1?ml.x+=1e-4:ml.z+=1e-4,ml.normalize(),Yc.crossVectors(s,ml)),Yc.normalize(),xA.crossVectors(ml,Yc),u[0]=Yc.x,u[4]=xA.x,u[8]=ml.x,u[1]=Yc.y,u[5]=xA.y,u[9]=ml.y,u[2]=Yc.z,u[6]=xA.z,u[10]=ml.z,this}multiply(t,i){return i!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,i)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,i){const s=t.elements,u=i.elements,p=this.elements,y=s[0],A=s[4],E=s[8],_=s[12],k=s[1],R=s[5],P=s[9],B=s[13],O=s[2],H=s[6],z=s[10],Y=s[14],ee=s[3],ue=s[7],oe=s[11],Ae=s[15],be=u[0],xe=u[4],ne=u[8],ae=u[12],ye=u[1],ge=u[5],we=u[9],le=u[13],ie=u[2],he=u[6],de=u[10],Se=u[14],Be=u[3],Le=u[7],nt=u[11],He=u[15];return p[0]=y*be+A*ye+E*ie+_*Be,p[4]=y*xe+A*ge+E*he+_*Le,p[8]=y*ne+A*we+E*de+_*nt,p[12]=y*ae+A*le+E*Se+_*He,p[1]=k*be+R*ye+P*ie+B*Be,p[5]=k*xe+R*ge+P*he+B*Le,p[9]=k*ne+R*we+P*de+B*nt,p[13]=k*ae+R*le+P*Se+B*He,p[2]=O*be+H*ye+z*ie+Y*Be,p[6]=O*xe+H*ge+z*he+Y*Le,p[10]=O*ne+H*we+z*de+Y*nt,p[14]=O*ae+H*le+z*Se+Y*He,p[3]=ee*be+ue*ye+oe*ie+Ae*Be,p[7]=ee*xe+ue*ge+oe*he+Ae*Le,p[11]=ee*ne+ue*we+oe*de+Ae*nt,p[15]=ee*ae+ue*le+oe*Se+Ae*He,this}multiplyScalar(t){const i=this.elements;return i[0]*=t,i[4]*=t,i[8]*=t,i[12]*=t,i[1]*=t,i[5]*=t,i[9]*=t,i[13]*=t,i[2]*=t,i[6]*=t,i[10]*=t,i[14]*=t,i[3]*=t,i[7]*=t,i[11]*=t,i[15]*=t,this}determinant(){const t=this.elements,i=t[0],s=t[4],u=t[8],p=t[12],y=t[1],A=t[5],E=t[9],_=t[13],k=t[2],R=t[6],P=t[10],B=t[14],O=t[3],H=t[7],z=t[11],Y=t[15];return O*(+p*E*R-u*_*R-p*A*P+s*_*P+u*A*B-s*E*B)+H*(+i*E*B-i*_*P+p*y*P-u*y*B+u*_*k-p*E*k)+z*(+i*_*R-i*A*B-p*y*R+s*y*B+p*A*k-s*_*k)+Y*(-u*A*k-i*E*R+i*A*P+u*y*R-s*y*P+s*E*k)}transpose(){const t=this.elements;let i;return i=t[1],t[1]=t[4],t[4]=i,i=t[2],t[2]=t[8],t[8]=i,i=t[6],t[6]=t[9],t[9]=i,i=t[3],t[3]=t[12],t[12]=i,i=t[7],t[7]=t[13],t[13]=i,i=t[11],t[11]=t[14],t[14]=i,this}setPosition(t,i,s){const u=this.elements;return t.isVector3?(u[12]=t.x,u[13]=t.y,u[14]=t.z):(u[12]=t,u[13]=i,u[14]=s),this}invert(){const t=this.elements,i=t[0],s=t[1],u=t[2],p=t[3],y=t[4],A=t[5],E=t[6],_=t[7],k=t[8],R=t[9],P=t[10],B=t[11],O=t[12],H=t[13],z=t[14],Y=t[15],ee=R*z*_-H*P*_+H*E*B-A*z*B-R*E*Y+A*P*Y,ue=O*P*_-k*z*_-O*E*B+y*z*B+k*E*Y-y*P*Y,oe=k*H*_-O*R*_+O*A*B-y*H*B-k*A*Y+y*R*Y,Ae=O*R*E-k*H*E-O*A*P+y*H*P+k*A*z-y*R*z,be=i*ee+s*ue+u*oe+p*Ae;if(be===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const xe=1/be;return t[0]=ee*xe,t[1]=(H*P*p-R*z*p-H*u*B+s*z*B+R*u*Y-s*P*Y)*xe,t[2]=(A*z*p-H*E*p+H*u*_-s*z*_-A*u*Y+s*E*Y)*xe,t[3]=(R*E*p-A*P*p-R*u*_+s*P*_+A*u*B-s*E*B)*xe,t[4]=ue*xe,t[5]=(k*z*p-O*P*p+O*u*B-i*z*B-k*u*Y+i*P*Y)*xe,t[6]=(O*E*p-y*z*p-O*u*_+i*z*_+y*u*Y-i*E*Y)*xe,t[7]=(y*P*p-k*E*p+k*u*_-i*P*_-y*u*B+i*E*B)*xe,t[8]=oe*xe,t[9]=(O*R*p-k*H*p-O*s*B+i*H*B+k*s*Y-i*R*Y)*xe,t[10]=(y*H*p-O*A*p+O*s*_-i*H*_-y*s*Y+i*A*Y)*xe,t[11]=(k*A*p-y*R*p-k*s*_+i*R*_+y*s*B-i*A*B)*xe,t[12]=Ae*xe,t[13]=(k*H*u-O*R*u+O*s*P-i*H*P-k*s*z+i*R*z)*xe,t[14]=(O*A*u-y*H*u-O*s*E+i*H*E+y*s*z-i*A*z)*xe,t[15]=(y*R*u-k*A*u+k*s*E-i*R*E-y*s*P+i*A*P)*xe,this}scale(t){const i=this.elements,s=t.x,u=t.y,p=t.z;return i[0]*=s,i[4]*=u,i[8]*=p,i[1]*=s,i[5]*=u,i[9]*=p,i[2]*=s,i[6]*=u,i[10]*=p,i[3]*=s,i[7]*=u,i[11]*=p,this}getMaxScaleOnAxis(){const t=this.elements,i=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],s=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],u=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(i,s,u))}makeTranslation(t,i,s){return this.set(1,0,0,t,0,1,0,i,0,0,1,s,0,0,0,1),this}makeRotationX(t){const i=Math.cos(t),s=Math.sin(t);return this.set(1,0,0,0,0,i,-s,0,0,s,i,0,0,0,0,1),this}makeRotationY(t){const i=Math.cos(t),s=Math.sin(t);return this.set(i,0,s,0,0,1,0,0,-s,0,i,0,0,0,0,1),this}makeRotationZ(t){const i=Math.cos(t),s=Math.sin(t);return this.set(i,-s,0,0,s,i,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,i){const s=Math.cos(i),u=Math.sin(i),p=1-s,y=t.x,A=t.y,E=t.z,_=p*y,k=p*A;return this.set(_*y+s,_*A-u*E,_*E+u*A,0,_*A+u*E,k*A+s,k*E-u*y,0,_*E-u*A,k*E+u*y,p*E*E+s,0,0,0,0,1),this}makeScale(t,i,s){return this.set(t,0,0,0,0,i,0,0,0,0,s,0,0,0,0,1),this}makeShear(t,i,s,u,p,y){return this.set(1,s,p,0,t,1,y,0,i,u,1,0,0,0,0,1),this}compose(t,i,s){const u=this.elements,p=i._x,y=i._y,A=i._z,E=i._w,_=p+p,k=y+y,R=A+A,P=p*_,B=p*k,O=p*R,H=y*k,z=y*R,Y=A*R,ee=E*_,ue=E*k,oe=E*R,Ae=s.x,be=s.y,xe=s.z;return u[0]=(1-(H+Y))*Ae,u[1]=(B+oe)*Ae,u[2]=(O-ue)*Ae,u[3]=0,u[4]=(B-oe)*be,u[5]=(1-(P+Y))*be,u[6]=(z+ee)*be,u[7]=0,u[8]=(O+ue)*xe,u[9]=(z-ee)*xe,u[10]=(1-(P+H))*xe,u[11]=0,u[12]=t.x,u[13]=t.y,u[14]=t.z,u[15]=1,this}decompose(t,i,s){const u=this.elements;let p=Y2.set(u[0],u[1],u[2]).length();const y=Y2.set(u[4],u[5],u[6]).length(),A=Y2.set(u[8],u[9],u[10]).length();this.determinant()<0&&(p=-p),t.x=u[12],t.y=u[13],t.z=u[14],mf.copy(this);const _=1/p,k=1/y,R=1/A;return mf.elements[0]*=_,mf.elements[1]*=_,mf.elements[2]*=_,mf.elements[4]*=k,mf.elements[5]*=k,mf.elements[6]*=k,mf.elements[8]*=R,mf.elements[9]*=R,mf.elements[10]*=R,i.setFromRotationMatrix(mf),s.x=p,s.y=y,s.z=A,this}makePerspective(t,i,s,u,p,y){y===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const A=this.elements,E=2*p/(i-t),_=2*p/(s-u),k=(i+t)/(i-t),R=(s+u)/(s-u),P=-(y+p)/(y-p),B=-2*y*p/(y-p);return A[0]=E,A[4]=0,A[8]=k,A[12]=0,A[1]=0,A[5]=_,A[9]=R,A[13]=0,A[2]=0,A[6]=0,A[10]=P,A[14]=B,A[3]=0,A[7]=0,A[11]=-1,A[15]=0,this}makeOrthographic(t,i,s,u,p,y){const A=this.elements,E=1/(i-t),_=1/(s-u),k=1/(y-p),R=(i+t)*E,P=(s+u)*_,B=(y+p)*k;return A[0]=2*E,A[4]=0,A[8]=0,A[12]=-R,A[1]=0,A[5]=2*_,A[9]=0,A[13]=-P,A[2]=0,A[6]=0,A[10]=-2*k,A[14]=-B,A[3]=0,A[7]=0,A[11]=0,A[15]=1,this}equals(t){const i=this.elements,s=t.elements;for(let u=0;u<16;u++)if(i[u]!==s[u])return!1;return!0}fromArray(t,i=0){for(let s=0;s<16;s++)this.elements[s]=t[s+i];return this}toArray(t=[],i=0){const s=this.elements;return t[i]=s[0],t[i+1]=s[1],t[i+2]=s[2],t[i+3]=s[3],t[i+4]=s[4],t[i+5]=s[5],t[i+6]=s[6],t[i+7]=s[7],t[i+8]=s[8],t[i+9]=s[9],t[i+10]=s[10],t[i+11]=s[11],t[i+12]=s[12],t[i+13]=s[13],t[i+14]=s[14],t[i+15]=s[15],t}}Jr.prototype.isMatrix4=!0;const Y2=new wt,mf=new Jr,ZU=new wt(0,0,0),YU=new wt(1,1,1),Yc=new wt,xA=new wt,ml=new wt,DC=new Jr,PC=new D0;class ao{constructor(t=0,i=0,s=0,u=ao.DefaultOrder){this._x=t,this._y=i,this._z=s,this._order=u}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,i,s,u=this._order){return this._x=t,this._y=i,this._z=s,this._order=u,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,i=this._order,s=!0){const u=t.elements,p=u[0],y=u[4],A=u[8],E=u[1],_=u[5],k=u[9],R=u[2],P=u[6],B=u[10];switch(i){case"XYZ":this._y=Math.asin(oo(A,-1,1)),Math.abs(A)<.9999999?(this._x=Math.atan2(-k,B),this._z=Math.atan2(-y,p)):(this._x=Math.atan2(P,_),this._z=0);break;case"YXZ":this._x=Math.asin(-oo(k,-1,1)),Math.abs(k)<.9999999?(this._y=Math.atan2(A,B),this._z=Math.atan2(E,_)):(this._y=Math.atan2(-R,p),this._z=0);break;case"ZXY":this._x=Math.asin(oo(P,-1,1)),Math.abs(P)<.9999999?(this._y=Math.atan2(-R,B),this._z=Math.atan2(-y,_)):(this._y=0,this._z=Math.atan2(E,p));break;case"ZYX":this._y=Math.asin(-oo(R,-1,1)),Math.abs(R)<.9999999?(this._x=Math.atan2(P,B),this._z=Math.atan2(E,p)):(this._x=0,this._z=Math.atan2(-y,_));break;case"YZX":this._z=Math.asin(oo(E,-1,1)),Math.abs(E)<.9999999?(this._x=Math.atan2(-k,_),this._y=Math.atan2(-R,p)):(this._x=0,this._y=Math.atan2(A,B));break;case"XZY":this._z=Math.asin(-oo(y,-1,1)),Math.abs(y)<.9999999?(this._x=Math.atan2(P,_),this._y=Math.atan2(A,p)):(this._x=Math.atan2(-k,B),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,s===!0&&this._onChangeCallback(),this}setFromQuaternion(t,i,s){return DC.makeRotationFromQuaternion(t),this.setFromRotationMatrix(DC,i,s)}setFromVector3(t,i=this._order){return this.set(t.x,t.y,t.z,i)}reorder(t){return PC.setFromEuler(this),this.setFromQuaternion(PC,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ao.prototype.isEuler=!0;ao.DefaultOrder="XYZ";ao.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class _4{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let KU=0;const LC=new wt,K2=new D0,Qu=new Jr,EA=new wt,Pm=new wt,$U=new wt,eV=new D0,NC=new wt(1,0,0),FC=new wt(0,1,0),OC=new wt(0,0,1),tV={type:"added"},HC={type:"removed"};class Rn extends cc{constructor(){super(),Object.defineProperty(this,"id",{value:KU++}),this.uuid=kl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Rn.DefaultUp.clone();const t=new wt,i=new ao,s=new D0,u=new wt(1,1,1);function p(){s.setFromEuler(i,!1)}function y(){i.setFromQuaternion(s,void 0,!1)}i._onChange(p),s._onChange(y),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:u},modelViewMatrix:{value:new Jr},normalMatrix:{value:new qs}}),this.matrix=new Jr,this.matrixWorld=new Jr,this.matrixAutoUpdate=Rn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new _4,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,i){this.quaternion.setFromAxisAngle(t,i)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,i){return K2.setFromAxisAngle(t,i),this.quaternion.multiply(K2),this}rotateOnWorldAxis(t,i){return K2.setFromAxisAngle(t,i),this.quaternion.premultiply(K2),this}rotateX(t){return this.rotateOnAxis(NC,t)}rotateY(t){return this.rotateOnAxis(FC,t)}rotateZ(t){return this.rotateOnAxis(OC,t)}translateOnAxis(t,i){return LC.copy(t).applyQuaternion(this.quaternion),this.position.add(LC.multiplyScalar(i)),this}translateX(t){return this.translateOnAxis(NC,t)}translateY(t){return this.translateOnAxis(FC,t)}translateZ(t){return this.translateOnAxis(OC,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(Qu.copy(this.matrixWorld).invert())}lookAt(t,i,s){t.isVector3?EA.copy(t):EA.set(t,i,s);const u=this.parent;this.updateWorldMatrix(!0,!1),Pm.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Qu.lookAt(Pm,EA,this.up):Qu.lookAt(EA,Pm,this.up),this.quaternion.setFromRotationMatrix(Qu),u&&(Qu.extractRotation(u.matrixWorld),K2.setFromRotationMatrix(Qu),this.quaternion.premultiply(K2.invert()))}add(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.parent!==null&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(tV)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.remove(arguments[s]);return this}const i=this.children.indexOf(t);return i!==-1&&(t.parent=null,this.children.splice(i,1),t.dispatchEvent(HC)),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const i=this.children[t];i.parent=null,i.dispatchEvent(HC)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),Qu.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),Qu.multiply(t.parent.matrixWorld)),t.applyMatrix4(Qu),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,i){if(this[t]===i)return this;for(let s=0,u=this.children.length;s<u;s++){const y=this.children[s].getObjectByProperty(t,i);if(y!==void 0)return y}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Pm,t,$U),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Pm,eV,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return t.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(t){t(this);const i=this.children;for(let s=0,u=i.length;s<u;s++)i[s].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const i=this.children;for(let s=0,u=i.length;s<u;s++)i[s].traverseVisible(t)}traverseAncestors(t){const i=this.parent;i!==null&&(t(i),i.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const i=this.children;for(let s=0,u=i.length;s<u;s++)i[s].updateMatrixWorld(t)}updateWorldMatrix(t,i){const s=this.parent;if(t===!0&&s!==null&&s.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),i===!0){const u=this.children;for(let p=0,y=u.length;p<y;p++)u[p].updateWorldMatrix(!1,!0)}}toJSON(t){const i=t===void 0||typeof t=="string",s={};i&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},s.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const u={};u.uuid=this.uuid,u.type=this.type,this.name!==""&&(u.name=this.name),this.castShadow===!0&&(u.castShadow=!0),this.receiveShadow===!0&&(u.receiveShadow=!0),this.visible===!1&&(u.visible=!1),this.frustumCulled===!1&&(u.frustumCulled=!1),this.renderOrder!==0&&(u.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(u.userData=this.userData),u.layers=this.layers.mask,u.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(u.matrixAutoUpdate=!1),this.isInstancedMesh&&(u.type="InstancedMesh",u.count=this.count,u.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(u.instanceColor=this.instanceColor.toJSON()));function p(A,E){return A[E.uuid]===void 0&&(A[E.uuid]=E.toJSON(t)),E.uuid}if(this.isScene)this.background&&(this.background.isColor?u.background=this.background.toJSON():this.background.isTexture&&(u.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&(u.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){u.geometry=p(t.geometries,this.geometry);const A=this.geometry.parameters;if(A!==void 0&&A.shapes!==void 0){const E=A.shapes;if(Array.isArray(E))for(let _=0,k=E.length;_<k;_++){const R=E[_];p(t.shapes,R)}else p(t.shapes,E)}}if(this.isSkinnedMesh&&(u.bindMode=this.bindMode,u.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(p(t.skeletons,this.skeleton),u.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const A=[];for(let E=0,_=this.material.length;E<_;E++)A.push(p(t.materials,this.material[E]));u.material=A}else u.material=p(t.materials,this.material);if(this.children.length>0){u.children=[];for(let A=0;A<this.children.length;A++)u.children.push(this.children[A].toJSON(t).object)}if(this.animations.length>0){u.animations=[];for(let A=0;A<this.animations.length;A++){const E=this.animations[A];u.animations.push(p(t.animations,E))}}if(i){const A=y(t.geometries),E=y(t.materials),_=y(t.textures),k=y(t.images),R=y(t.shapes),P=y(t.skeletons),B=y(t.animations),O=y(t.nodes);A.length>0&&(s.geometries=A),E.length>0&&(s.materials=E),_.length>0&&(s.textures=_),k.length>0&&(s.images=k),R.length>0&&(s.shapes=R),P.length>0&&(s.skeletons=P),B.length>0&&(s.animations=B),O.length>0&&(s.nodes=O)}return s.object=u,s;function y(A){const E=[];for(const _ in A){const k=A[_];delete k.metadata,E.push(k)}return E}}clone(t){return new this.constructor().copy(this,t)}copy(t,i=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),i===!0)for(let s=0;s<t.children.length;s++){const u=t.children[s];this.add(u.clone())}return this}}Rn.DefaultUp=new wt(0,1,0);Rn.DefaultMatrixAutoUpdate=!0;Rn.prototype.isObject3D=!0;const gf=new wt,Ju=new wt,u3=new wt,Xu=new wt,$2=new wt,ep=new wt,UC=new wt,c3=new wt,h3=new wt,d3=new wt;class lo{constructor(t=new wt,i=new wt,s=new wt){this.a=t,this.b=i,this.c=s}static getNormal(t,i,s,u){u.subVectors(s,i),gf.subVectors(t,i),u.cross(gf);const p=u.lengthSq();return p>0?u.multiplyScalar(1/Math.sqrt(p)):u.set(0,0,0)}static getBarycoord(t,i,s,u,p){gf.subVectors(u,i),Ju.subVectors(s,i),u3.subVectors(t,i);const y=gf.dot(gf),A=gf.dot(Ju),E=gf.dot(u3),_=Ju.dot(Ju),k=Ju.dot(u3),R=y*_-A*A;if(R===0)return p.set(-2,-1,-1);const P=1/R,B=(_*E-A*k)*P,O=(y*k-A*E)*P;return p.set(1-B-O,O,B)}static containsPoint(t,i,s,u){return this.getBarycoord(t,i,s,u,Xu),Xu.x>=0&&Xu.y>=0&&Xu.x+Xu.y<=1}static getUV(t,i,s,u,p,y,A,E){return this.getBarycoord(t,i,s,u,Xu),E.set(0,0),E.addScaledVector(p,Xu.x),E.addScaledVector(y,Xu.y),E.addScaledVector(A,Xu.z),E}static isFrontFacing(t,i,s,u){return gf.subVectors(s,i),Ju.subVectors(t,i),gf.cross(Ju).dot(u)<0}set(t,i,s){return this.a.copy(t),this.b.copy(i),this.c.copy(s),this}setFromPointsAndIndices(t,i,s,u){return this.a.copy(t[i]),this.b.copy(t[s]),this.c.copy(t[u]),this}setFromAttributeAndIndices(t,i,s,u){return this.a.fromBufferAttribute(t,i),this.b.fromBufferAttribute(t,s),this.c.fromBufferAttribute(t,u),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return gf.subVectors(this.c,this.b),Ju.subVectors(this.a,this.b),gf.cross(Ju).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return lo.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,i){return lo.getBarycoord(t,this.a,this.b,this.c,i)}getUV(t,i,s,u,p){return lo.getUV(t,this.a,this.b,this.c,i,s,u,p)}containsPoint(t){return lo.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return lo.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,i){const s=this.a,u=this.b,p=this.c;let y,A;$2.subVectors(u,s),ep.subVectors(p,s),c3.subVectors(t,s);const E=$2.dot(c3),_=ep.dot(c3);if(E<=0&&_<=0)return i.copy(s);h3.subVectors(t,u);const k=$2.dot(h3),R=ep.dot(h3);if(k>=0&&R<=k)return i.copy(u);const P=E*R-k*_;if(P<=0&&E>=0&&k<=0)return y=E/(E-k),i.copy(s).addScaledVector($2,y);d3.subVectors(t,p);const B=$2.dot(d3),O=ep.dot(d3);if(O>=0&&B<=O)return i.copy(p);const H=B*_-E*O;if(H<=0&&_>=0&&O<=0)return A=_/(_-O),i.copy(s).addScaledVector(ep,A);const z=k*O-B*R;if(z<=0&&R-k>=0&&B-O>=0)return UC.subVectors(p,u),A=(R-k)/(R-k+(B-O)),i.copy(u).addScaledVector(UC,A);const Y=1/(z+H+P);return y=H*Y,A=P*Y,i.copy(s).addScaledVector($2,y).addScaledVector(ep,A)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let iV=0;class Bs extends cc{constructor(){super(),Object.defineProperty(this,"id",{value:iV++}),this.uuid=kl(),this.name="",this.type="Material",this.blending=Nd,this.side=wh,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=UE,this.blendDst=VE,this.blendEquation=Bd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Yv,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=d7,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Mv,this.stencilZFail=Mv,this.stencilZPass=Mv,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const i in t){const s=t[i];if(s===void 0){console.warn("THREE.Material: '"+i+"' parameter is undefined.");continue}if(i==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=s===HE;continue}const u=this[i];if(u===void 0){console.warn("THREE."+this.type+": '"+i+"' is not a property of this material.");continue}u&&u.isColor?u.set(s):u&&u.isVector3&&s&&s.isVector3?u.copy(s):this[i]=s}}toJSON(t){const i=t===void 0||typeof t=="string";i&&(t={textures:{},images:{}});const s={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.color&&this.color.isColor&&(s.color=this.color.getHex()),this.roughness!==void 0&&(s.roughness=this.roughness),this.metalness!==void 0&&(s.metalness=this.metalness),this.sheen!==void 0&&(s.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(s.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(s.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(s.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(s.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(s.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(s.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(s.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(s.shininess=this.shininess),this.clearcoat!==void 0&&(s.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(s.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(s.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(s.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,s.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(s.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(s.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(s.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(s.lightMap=this.lightMap.toJSON(t).uuid,s.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(s.aoMap=this.aoMap.toJSON(t).uuid,s.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(s.bumpMap=this.bumpMap.toJSON(t).uuid,s.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(s.normalMap=this.normalMap.toJSON(t).uuid,s.normalMapType=this.normalMapType,s.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(s.displacementMap=this.displacementMap.toJSON(t).uuid,s.displacementScale=this.displacementScale,s.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(s.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(s.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(s.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(s.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(s.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(s.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(s.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(s.combine=this.combine)),this.envMapIntensity!==void 0&&(s.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(s.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(s.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(s.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(s.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(s.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(s.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(s.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&(s.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(s.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(s.size=this.size),this.shadowSide!==null&&(s.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(s.sizeAttenuation=this.sizeAttenuation),this.blending!==Nd&&(s.blending=this.blending),this.side!==wh&&(s.side=this.side),this.vertexColors&&(s.vertexColors=!0),this.opacity<1&&(s.opacity=this.opacity),this.transparent===!0&&(s.transparent=this.transparent),s.depthFunc=this.depthFunc,s.depthTest=this.depthTest,s.depthWrite=this.depthWrite,s.colorWrite=this.colorWrite,s.stencilWrite=this.stencilWrite,s.stencilWriteMask=this.stencilWriteMask,s.stencilFunc=this.stencilFunc,s.stencilRef=this.stencilRef,s.stencilFuncMask=this.stencilFuncMask,s.stencilFail=this.stencilFail,s.stencilZFail=this.stencilZFail,s.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(s.rotation=this.rotation),this.polygonOffset===!0&&(s.polygonOffset=!0),this.polygonOffsetFactor!==0&&(s.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(s.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(s.linewidth=this.linewidth),this.dashSize!==void 0&&(s.dashSize=this.dashSize),this.gapSize!==void 0&&(s.gapSize=this.gapSize),this.scale!==void 0&&(s.scale=this.scale),this.dithering===!0&&(s.dithering=!0),this.alphaTest>0&&(s.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(s.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(s.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(s.wireframe=this.wireframe),this.wireframeLinewidth>1&&(s.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(s.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(s.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(s.flatShading=this.flatShading),this.visible===!1&&(s.visible=!1),this.toneMapped===!1&&(s.toneMapped=!1),this.fog===!1&&(s.fog=!1),JSON.stringify(this.userData)!=="{}"&&(s.userData=this.userData);function u(p){const y=[];for(const A in p){const E=p[A];delete E.metadata,y.push(E)}return y}if(i){const p=u(t.textures),y=u(t.images);p.length>0&&(s.textures=p),y.length>0&&(s.images=y)}return s}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const i=t.clippingPlanes;let s=null;if(i!==null){const u=i.length;s=new Array(u);for(let p=0;p!==u;++p)s[p]=i[p].clone()}return this.clippingPlanes=s,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}Bs.prototype.isMaterial=!0;Bs.fromType=function(){return null};class Us extends Bs{constructor(t){super(),this.type="MeshBasicMaterial",this.color=new _r(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Vg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}Us.prototype.isMeshBasicMaterial=!0;const vo=new wt,_A=new Yi;class d0{constructor(t,i,s){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=i,this.count=t!==void 0?t.length/i:0,this.normalized=s===!0,this.usage=Hp,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}copyAt(t,i,s){t*=this.itemSize,s*=i.itemSize;for(let u=0,p=this.itemSize;u<p;u++)this.array[t+u]=i.array[s+u];return this}copyArray(t){return this.array.set(t),this}copyColorsArray(t){const i=this.array;let s=0;for(let u=0,p=t.length;u<p;u++){let y=t[u];y===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",u),y=new _r),i[s++]=y.r,i[s++]=y.g,i[s++]=y.b}return this}copyVector2sArray(t){const i=this.array;let s=0;for(let u=0,p=t.length;u<p;u++){let y=t[u];y===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",u),y=new Yi),i[s++]=y.x,i[s++]=y.y}return this}copyVector3sArray(t){const i=this.array;let s=0;for(let u=0,p=t.length;u<p;u++){let y=t[u];y===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",u),y=new wt),i[s++]=y.x,i[s++]=y.y,i[s++]=y.z}return this}copyVector4sArray(t){const i=this.array;let s=0;for(let u=0,p=t.length;u<p;u++){let y=t[u];y===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",u),y=new V0),i[s++]=y.x,i[s++]=y.y,i[s++]=y.z,i[s++]=y.w}return this}applyMatrix3(t){if(this.itemSize===2)for(let i=0,s=this.count;i<s;i++)_A.fromBufferAttribute(this,i),_A.applyMatrix3(t),this.setXY(i,_A.x,_A.y);else if(this.itemSize===3)for(let i=0,s=this.count;i<s;i++)vo.fromBufferAttribute(this,i),vo.applyMatrix3(t),this.setXYZ(i,vo.x,vo.y,vo.z);return this}applyMatrix4(t){for(let i=0,s=this.count;i<s;i++)vo.fromBufferAttribute(this,i),vo.applyMatrix4(t),this.setXYZ(i,vo.x,vo.y,vo.z);return this}applyNormalMatrix(t){for(let i=0,s=this.count;i<s;i++)vo.fromBufferAttribute(this,i),vo.applyNormalMatrix(t),this.setXYZ(i,vo.x,vo.y,vo.z);return this}transformDirection(t){for(let i=0,s=this.count;i<s;i++)vo.fromBufferAttribute(this,i),vo.transformDirection(t),this.setXYZ(i,vo.x,vo.y,vo.z);return this}set(t,i=0){return this.array.set(t,i),this}getX(t){return this.array[t*this.itemSize]}setX(t,i){return this.array[t*this.itemSize]=i,this}getY(t){return this.array[t*this.itemSize+1]}setY(t,i){return this.array[t*this.itemSize+1]=i,this}getZ(t){return this.array[t*this.itemSize+2]}setZ(t,i){return this.array[t*this.itemSize+2]=i,this}getW(t){return this.array[t*this.itemSize+3]}setW(t,i){return this.array[t*this.itemSize+3]=i,this}setXY(t,i,s){return t*=this.itemSize,this.array[t+0]=i,this.array[t+1]=s,this}setXYZ(t,i,s,u){return t*=this.itemSize,this.array[t+0]=i,this.array[t+1]=s,this.array[t+2]=u,this}setXYZW(t,i,s,u,p){return t*=this.itemSize,this.array[t+0]=i,this.array[t+1]=s,this.array[t+2]=u,this.array[t+3]=p,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==Hp&&(t.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(t.updateRange=this.updateRange),t}}d0.prototype.isBufferAttribute=!0;class v7 extends d0{constructor(t,i,s){super(new Int8Array(t),i,s)}}class w7 extends d0{constructor(t,i,s){super(new Uint8Array(t),i,s)}}class x7 extends d0{constructor(t,i,s){super(new Uint8ClampedArray(t),i,s)}}class E7 extends d0{constructor(t,i,s){super(new Int16Array(t),i,s)}}class k4 extends d0{constructor(t,i,s){super(new Uint16Array(t),i,s)}}class _7 extends d0{constructor(t,i,s){super(new Int32Array(t),i,s)}}class C4 extends d0{constructor(t,i,s){super(new Uint32Array(t),i,s)}}class k7 extends d0{constructor(t,i,s){super(new Uint16Array(t),i,s)}}k7.prototype.isFloat16BufferAttribute=!0;class $r extends d0{constructor(t,i,s){super(new Float32Array(t),i,s)}}class C7 extends d0{constructor(t,i,s){super(new Float64Array(t),i,s)}}let rV=0;const Ul=new Jr,p3=new Rn,tp=new wt,gl=new ia,Lm=new ia,Ho=new wt;class vn extends cc{constructor(){super(),Object.defineProperty(this,"id",{value:rV++}),this.uuid=kl(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(m7(t)?C4:k4)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,i){return this.attributes[t]=i,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,i,s=0){this.groups.push({start:t,count:i,materialIndex:s})}clearGroups(){this.groups=[]}setDrawRange(t,i){this.drawRange.start=t,this.drawRange.count=i}applyMatrix4(t){const i=this.attributes.position;i!==void 0&&(i.applyMatrix4(t),i.needsUpdate=!0);const s=this.attributes.normal;if(s!==void 0){const p=new qs().getNormalMatrix(t);s.applyNormalMatrix(p),s.needsUpdate=!0}const u=this.attributes.tangent;return u!==void 0&&(u.transformDirection(t),u.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return Ul.makeRotationFromQuaternion(t),this.applyMatrix4(Ul),this}rotateX(t){return Ul.makeRotationX(t),this.applyMatrix4(Ul),this}rotateY(t){return Ul.makeRotationY(t),this.applyMatrix4(Ul),this}rotateZ(t){return Ul.makeRotationZ(t),this.applyMatrix4(Ul),this}translate(t,i,s){return Ul.makeTranslation(t,i,s),this.applyMatrix4(Ul),this}scale(t,i,s){return Ul.makeScale(t,i,s),this.applyMatrix4(Ul),this}lookAt(t){return p3.lookAt(t),p3.updateMatrix(),this.applyMatrix4(p3.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(tp).negate(),this.translate(tp.x,tp.y,tp.z),this}setFromPoints(t){const i=[];for(let s=0,u=t.length;s<u;s++){const p=t[s];i.push(p.x,p.y,p.z||0)}return this.setAttribute("position",new $r(i,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ia);const t=this.attributes.position,i=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new wt(-1/0,-1/0,-1/0),new wt(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),i)for(let s=0,u=i.length;s<u;s++){const p=i[s];gl.setFromBufferAttribute(p),this.morphTargetsRelative?(Ho.addVectors(this.boundingBox.min,gl.min),this.boundingBox.expandByPoint(Ho),Ho.addVectors(this.boundingBox.max,gl.max),this.boundingBox.expandByPoint(Ho)):(this.boundingBox.expandByPoint(gl.min),this.boundingBox.expandByPoint(gl.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Mu);const t=this.attributes.position,i=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new wt,1/0);return}if(t){const s=this.boundingSphere.center;if(gl.setFromBufferAttribute(t),i)for(let p=0,y=i.length;p<y;p++){const A=i[p];Lm.setFromBufferAttribute(A),this.morphTargetsRelative?(Ho.addVectors(gl.min,Lm.min),gl.expandByPoint(Ho),Ho.addVectors(gl.max,Lm.max),gl.expandByPoint(Ho)):(gl.expandByPoint(Lm.min),gl.expandByPoint(Lm.max))}gl.getCenter(s);let u=0;for(let p=0,y=t.count;p<y;p++)Ho.fromBufferAttribute(t,p),u=Math.max(u,s.distanceToSquared(Ho));if(i)for(let p=0,y=i.length;p<y;p++){const A=i[p],E=this.morphTargetsRelative;for(let _=0,k=A.count;_<k;_++)Ho.fromBufferAttribute(A,_),E&&(tp.fromBufferAttribute(t,_),Ho.add(tp)),u=Math.max(u,s.distanceToSquared(Ho))}this.boundingSphere.radius=Math.sqrt(u),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,i=this.attributes;if(t===null||i.position===void 0||i.normal===void 0||i.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const s=t.array,u=i.position.array,p=i.normal.array,y=i.uv.array,A=u.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new d0(new Float32Array(4*A),4));const E=this.getAttribute("tangent").array,_=[],k=[];for(let ye=0;ye<A;ye++)_[ye]=new wt,k[ye]=new wt;const R=new wt,P=new wt,B=new wt,O=new Yi,H=new Yi,z=new Yi,Y=new wt,ee=new wt;function ue(ye,ge,we){R.fromArray(u,ye*3),P.fromArray(u,ge*3),B.fromArray(u,we*3),O.fromArray(y,ye*2),H.fromArray(y,ge*2),z.fromArray(y,we*2),P.sub(R),B.sub(R),H.sub(O),z.sub(O);const le=1/(H.x*z.y-z.x*H.y);!isFinite(le)||(Y.copy(P).multiplyScalar(z.y).addScaledVector(B,-H.y).multiplyScalar(le),ee.copy(B).multiplyScalar(H.x).addScaledVector(P,-z.x).multiplyScalar(le),_[ye].add(Y),_[ge].add(Y),_[we].add(Y),k[ye].add(ee),k[ge].add(ee),k[we].add(ee))}let oe=this.groups;oe.length===0&&(oe=[{start:0,count:s.length}]);for(let ye=0,ge=oe.length;ye<ge;++ye){const we=oe[ye],le=we.start,ie=we.count;for(let he=le,de=le+ie;he<de;he+=3)ue(s[he+0],s[he+1],s[he+2])}const Ae=new wt,be=new wt,xe=new wt,ne=new wt;function ae(ye){xe.fromArray(p,ye*3),ne.copy(xe);const ge=_[ye];Ae.copy(ge),Ae.sub(xe.multiplyScalar(xe.dot(ge))).normalize(),be.crossVectors(ne,ge);const le=be.dot(k[ye])<0?-1:1;E[ye*4]=Ae.x,E[ye*4+1]=Ae.y,E[ye*4+2]=Ae.z,E[ye*4+3]=le}for(let ye=0,ge=oe.length;ye<ge;++ye){const we=oe[ye],le=we.start,ie=we.count;for(let he=le,de=le+ie;he<de;he+=3)ae(s[he+0]),ae(s[he+1]),ae(s[he+2])}}computeVertexNormals(){const t=this.index,i=this.getAttribute("position");if(i!==void 0){let s=this.getAttribute("normal");if(s===void 0)s=new d0(new Float32Array(i.count*3),3),this.setAttribute("normal",s);else for(let P=0,B=s.count;P<B;P++)s.setXYZ(P,0,0,0);const u=new wt,p=new wt,y=new wt,A=new wt,E=new wt,_=new wt,k=new wt,R=new wt;if(t)for(let P=0,B=t.count;P<B;P+=3){const O=t.getX(P+0),H=t.getX(P+1),z=t.getX(P+2);u.fromBufferAttribute(i,O),p.fromBufferAttribute(i,H),y.fromBufferAttribute(i,z),k.subVectors(y,p),R.subVectors(u,p),k.cross(R),A.fromBufferAttribute(s,O),E.fromBufferAttribute(s,H),_.fromBufferAttribute(s,z),A.add(k),E.add(k),_.add(k),s.setXYZ(O,A.x,A.y,A.z),s.setXYZ(H,E.x,E.y,E.z),s.setXYZ(z,_.x,_.y,_.z)}else for(let P=0,B=i.count;P<B;P+=3)u.fromBufferAttribute(i,P+0),p.fromBufferAttribute(i,P+1),y.fromBufferAttribute(i,P+2),k.subVectors(y,p),R.subVectors(u,p),k.cross(R),s.setXYZ(P+0,k.x,k.y,k.z),s.setXYZ(P+1,k.x,k.y,k.z),s.setXYZ(P+2,k.x,k.y,k.z);this.normalizeNormals(),s.needsUpdate=!0}}merge(t,i){if(!(t&&t.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);return}i===void 0&&(i=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const s=this.attributes;for(const u in s){if(t.attributes[u]===void 0)continue;const y=s[u].array,A=t.attributes[u],E=A.array,_=A.itemSize*i,k=Math.min(E.length,y.length-_);for(let R=0,P=_;R<k;R++,P++)y[P]=E[R]}return this}normalizeNormals(){const t=this.attributes.normal;for(let i=0,s=t.count;i<s;i++)Ho.fromBufferAttribute(t,i),Ho.normalize(),t.setXYZ(i,Ho.x,Ho.y,Ho.z)}toNonIndexed(){function t(A,E){const _=A.array,k=A.itemSize,R=A.normalized,P=new _.constructor(E.length*k);let B=0,O=0;for(let H=0,z=E.length;H<z;H++){A.isInterleavedBufferAttribute?B=E[H]*A.data.stride+A.offset:B=E[H]*k;for(let Y=0;Y<k;Y++)P[O++]=_[B++]}return new d0(P,k,R)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const i=new vn,s=this.index.array,u=this.attributes;for(const A in u){const E=u[A],_=t(E,s);i.setAttribute(A,_)}const p=this.morphAttributes;for(const A in p){const E=[],_=p[A];for(let k=0,R=_.length;k<R;k++){const P=_[k],B=t(P,s);E.push(B)}i.morphAttributes[A]=E}i.morphTargetsRelative=this.morphTargetsRelative;const y=this.groups;for(let A=0,E=y.length;A<E;A++){const _=y[A];i.addGroup(_.start,_.count,_.materialIndex)}return i}toJSON(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const E=this.parameters;for(const _ in E)E[_]!==void 0&&(t[_]=E[_]);return t}t.data={attributes:{}};const i=this.index;i!==null&&(t.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});const s=this.attributes;for(const E in s){const _=s[E];t.data.attributes[E]=_.toJSON(t.data)}const u={};let p=!1;for(const E in this.morphAttributes){const _=this.morphAttributes[E],k=[];for(let R=0,P=_.length;R<P;R++){const B=_[R];k.push(B.toJSON(t.data))}k.length>0&&(u[E]=k,p=!0)}p&&(t.data.morphAttributes=u,t.data.morphTargetsRelative=this.morphTargetsRelative);const y=this.groups;y.length>0&&(t.data.groups=JSON.parse(JSON.stringify(y)));const A=this.boundingSphere;return A!==null&&(t.data.boundingSphere={center:A.center.toArray(),radius:A.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const i={};this.name=t.name;const s=t.index;s!==null&&this.setIndex(s.clone(i));const u=t.attributes;for(const _ in u){const k=u[_];this.setAttribute(_,k.clone(i))}const p=t.morphAttributes;for(const _ in p){const k=[],R=p[_];for(let P=0,B=R.length;P<B;P++)k.push(R[P].clone(i));this.morphAttributes[_]=k}this.morphTargetsRelative=t.morphTargetsRelative;const y=t.groups;for(let _=0,k=y.length;_<k;_++){const R=y[_];this.addGroup(R.start,R.count,R.materialIndex)}const A=t.boundingBox;A!==null&&(this.boundingBox=A.clone());const E=t.boundingSphere;return E!==null&&(this.boundingSphere=E.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,t.parameters!==void 0&&(this.parameters=Object.assign({},t.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}vn.prototype.isBufferGeometry=!0;const VC=new Jr,ip=new Ph,m3=new Mu,Kc=new wt,$c=new wt,eh=new wt,g3=new wt,b3=new wt,y3=new wt,kA=new wt,CA=new wt,SA=new wt,TA=new Yi,MA=new Yi,RA=new Yi,A3=new wt,BA=new wt;class ir extends Rn{constructor(t=new vn,i=new Us){super(),this.type="Mesh",this.geometry=t,this.material=i,this.updateMorphTargets()}copy(t){return super.copy(t),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const i=t.morphAttributes,s=Object.keys(i);if(s.length>0){const u=i[s[0]];if(u!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let p=0,y=u.length;p<y;p++){const A=u[p].name||String(p);this.morphTargetInfluences.push(0),this.morphTargetDictionary[A]=p}}}}else{const i=t.morphTargets;i!==void 0&&i.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(t,i){const s=this.geometry,u=this.material,p=this.matrixWorld;if(u===void 0||(s.boundingSphere===null&&s.computeBoundingSphere(),m3.copy(s.boundingSphere),m3.applyMatrix4(p),t.ray.intersectsSphere(m3)===!1)||(VC.copy(p).invert(),ip.copy(t.ray).applyMatrix4(VC),s.boundingBox!==null&&ip.intersectsBox(s.boundingBox)===!1))return;let y;if(s.isBufferGeometry){const A=s.index,E=s.attributes.position,_=s.morphAttributes.position,k=s.morphTargetsRelative,R=s.attributes.uv,P=s.attributes.uv2,B=s.groups,O=s.drawRange;if(A!==null)if(Array.isArray(u))for(let H=0,z=B.length;H<z;H++){const Y=B[H],ee=u[Y.materialIndex],ue=Math.max(Y.start,O.start),oe=Math.min(A.count,Math.min(Y.start+Y.count,O.start+O.count));for(let Ae=ue,be=oe;Ae<be;Ae+=3){const xe=A.getX(Ae),ne=A.getX(Ae+1),ae=A.getX(Ae+2);y=IA(this,ee,t,ip,E,_,k,R,P,xe,ne,ae),y&&(y.faceIndex=Math.floor(Ae/3),y.face.materialIndex=Y.materialIndex,i.push(y))}}else{const H=Math.max(0,O.start),z=Math.min(A.count,O.start+O.count);for(let Y=H,ee=z;Y<ee;Y+=3){const ue=A.getX(Y),oe=A.getX(Y+1),Ae=A.getX(Y+2);y=IA(this,u,t,ip,E,_,k,R,P,ue,oe,Ae),y&&(y.faceIndex=Math.floor(Y/3),i.push(y))}}else if(E!==void 0)if(Array.isArray(u))for(let H=0,z=B.length;H<z;H++){const Y=B[H],ee=u[Y.materialIndex],ue=Math.max(Y.start,O.start),oe=Math.min(E.count,Math.min(Y.start+Y.count,O.start+O.count));for(let Ae=ue,be=oe;Ae<be;Ae+=3){const xe=Ae,ne=Ae+1,ae=Ae+2;y=IA(this,ee,t,ip,E,_,k,R,P,xe,ne,ae),y&&(y.faceIndex=Math.floor(Ae/3),y.face.materialIndex=Y.materialIndex,i.push(y))}}else{const H=Math.max(0,O.start),z=Math.min(E.count,O.start+O.count);for(let Y=H,ee=z;Y<ee;Y+=3){const ue=Y,oe=Y+1,Ae=Y+2;y=IA(this,u,t,ip,E,_,k,R,P,ue,oe,Ae),y&&(y.faceIndex=Math.floor(Y/3),i.push(y))}}}else s.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}ir.prototype.isMesh=!0;function nV(l,t,i,s,u,p,y,A){let E;if(t.side===Qa?E=s.intersectTriangle(y,p,u,!0,A):E=s.intersectTriangle(u,p,y,t.side!==Pf,A),E===null)return null;BA.copy(A),BA.applyMatrix4(l.matrixWorld);const _=i.ray.origin.distanceTo(BA);return _<i.near||_>i.far?null:{distance:_,point:BA.clone(),object:l}}function IA(l,t,i,s,u,p,y,A,E,_,k,R){Kc.fromBufferAttribute(u,_),$c.fromBufferAttribute(u,k),eh.fromBufferAttribute(u,R);const P=l.morphTargetInfluences;if(p&&P){kA.set(0,0,0),CA.set(0,0,0),SA.set(0,0,0);for(let O=0,H=p.length;O<H;O++){const z=P[O],Y=p[O];z!==0&&(g3.fromBufferAttribute(Y,_),b3.fromBufferAttribute(Y,k),y3.fromBufferAttribute(Y,R),y?(kA.addScaledVector(g3,z),CA.addScaledVector(b3,z),SA.addScaledVector(y3,z)):(kA.addScaledVector(g3.sub(Kc),z),CA.addScaledVector(b3.sub($c),z),SA.addScaledVector(y3.sub(eh),z)))}Kc.add(kA),$c.add(CA),eh.add(SA)}l.isSkinnedMesh&&(l.boneTransform(_,Kc),l.boneTransform(k,$c),l.boneTransform(R,eh));const B=nV(l,t,i,s,Kc,$c,eh,A3);if(B){A&&(TA.fromBufferAttribute(A,_),MA.fromBufferAttribute(A,k),RA.fromBufferAttribute(A,R),B.uv=lo.getUV(A3,Kc,$c,eh,TA,MA,RA,new Yi)),E&&(TA.fromBufferAttribute(E,_),MA.fromBufferAttribute(E,k),RA.fromBufferAttribute(E,R),B.uv2=lo.getUV(A3,Kc,$c,eh,TA,MA,RA,new Yi));const O={a:_,b:k,c:R,normal:new wt,materialIndex:0};lo.getNormal(Kc,$c,eh,O.normal),B.face=O}return B}class fs extends vn{constructor(t=1,i=1,s=1,u=1,p=1,y=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:i,depth:s,widthSegments:u,heightSegments:p,depthSegments:y};const A=this;u=Math.floor(u),p=Math.floor(p),y=Math.floor(y);const E=[],_=[],k=[],R=[];let P=0,B=0;O("z","y","x",-1,-1,s,i,t,y,p,0),O("z","y","x",1,-1,s,i,-t,y,p,1),O("x","z","y",1,1,t,s,i,u,y,2),O("x","z","y",1,-1,t,s,-i,u,y,3),O("x","y","z",1,-1,t,i,s,u,p,4),O("x","y","z",-1,-1,t,i,-s,u,p,5),this.setIndex(E),this.setAttribute("position",new $r(_,3)),this.setAttribute("normal",new $r(k,3)),this.setAttribute("uv",new $r(R,2));function O(H,z,Y,ee,ue,oe,Ae,be,xe,ne,ae){const ye=oe/xe,ge=Ae/ne,we=oe/2,le=Ae/2,ie=be/2,he=xe+1,de=ne+1;let Se=0,Be=0;const Le=new wt;for(let nt=0;nt<de;nt++){const He=nt*ge-le;for(let ce=0;ce<he;ce++){const Re=ce*ye-we;Le[H]=Re*ee,Le[z]=He*ue,Le[Y]=ie,_.push(Le.x,Le.y,Le.z),Le[H]=0,Le[z]=0,Le[Y]=be>0?1:-1,k.push(Le.x,Le.y,Le.z),R.push(ce/xe),R.push(1-nt/ne),Se+=1}}for(let nt=0;nt<ne;nt++)for(let He=0;He<xe;He++){const ce=P+He+he*nt,Re=P+He+he*(nt+1),lt=P+(He+1)+he*(nt+1),Te=P+(He+1)+he*nt;E.push(ce,Re,Te),E.push(Re,lt,Te),Be+=6}A.addGroup(B,Be,ae),B+=Be,P+=Se}}static fromJSON(t){return new fs(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Vp(l){const t={};for(const i in l){t[i]={};for(const s in l[i]){const u=l[i][s];u&&(u.isColor||u.isMatrix3||u.isMatrix4||u.isVector2||u.isVector3||u.isVector4||u.isTexture||u.isQuaternion)?t[i][s]=u.clone():Array.isArray(u)?t[i][s]=u.slice():t[i][s]=u}}return t}function ua(l){const t={};for(let i=0;i<l.length;i++){const s=Vp(l[i]);for(const u in s)t[u]=s[u]}return t}const S7={clone:Vp,merge:ua};var sV=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,oV=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Tl extends Bs{constructor(t){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=sV,this.fragmentShader=oV,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&(t.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Vp(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const i=super.toJSON(t);i.glslVersion=this.glslVersion,i.uniforms={};for(const u in this.uniforms){const y=this.uniforms[u].value;y&&y.isTexture?i.uniforms[u]={type:"t",value:y.toJSON(t).uuid}:y&&y.isColor?i.uniforms[u]={type:"c",value:y.getHex()}:y&&y.isVector2?i.uniforms[u]={type:"v2",value:y.toArray()}:y&&y.isVector3?i.uniforms[u]={type:"v3",value:y.toArray()}:y&&y.isVector4?i.uniforms[u]={type:"v4",value:y.toArray()}:y&&y.isMatrix3?i.uniforms[u]={type:"m3",value:y.toArray()}:y&&y.isMatrix4?i.uniforms[u]={type:"m4",value:y.toArray()}:i.uniforms[u]={value:y}}Object.keys(this.defines).length>0&&(i.defines=this.defines),i.vertexShader=this.vertexShader,i.fragmentShader=this.fragmentShader;const s={};for(const u in this.extensions)this.extensions[u]===!0&&(s[u]=!0);return Object.keys(s).length>0&&(i.extensions=s),i}}Tl.prototype.isShaderMaterial=!0;class Gg extends Rn{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Jr,this.projectionMatrix=new Jr,this.projectionMatrixInverse=new Jr}copy(t,i){return super.copy(t,i),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return t.set(-i[8],-i[9],-i[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,i){super.updateWorldMatrix(t,i),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}Gg.prototype.isCamera=!0;class _o extends Gg{constructor(t=50,i=1,s=.1,u=2e3){super(),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=s,this.far=u,this.focus=10,this.aspect=i,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,i){return super.copy(t,i),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const i=.5*this.getFilmHeight()/t;this.fov=Cg*2*Math.atan(i),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(Od*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return Cg*2*Math.atan(Math.tan(Od*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,i,s,u,p,y){this.aspect=t/i,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=i,this.view.offsetX=s,this.view.offsetY=u,this.view.width=p,this.view.height=y,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let i=t*Math.tan(Od*.5*this.fov)/this.zoom,s=2*i,u=this.aspect*s,p=-.5*u;const y=this.view;if(this.view!==null&&this.view.enabled){const E=y.fullWidth,_=y.fullHeight;p+=y.offsetX*u/E,i-=y.offsetY*s/_,u*=y.width/E,s*=y.height/_}const A=this.filmOffset;A!==0&&(p+=t*A/this.getFilmWidth()),this.projectionMatrix.makePerspective(p,p+u,i,i-s,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const i=super.toJSON(t);return i.object.fov=this.fov,i.object.zoom=this.zoom,i.object.near=this.near,i.object.far=this.far,i.object.focus=this.focus,i.object.aspect=this.aspect,this.view!==null&&(i.object.view=Object.assign({},this.view)),i.object.filmGauge=this.filmGauge,i.object.filmOffset=this.filmOffset,i}}_o.prototype.isPerspectiveCamera=!0;const rp=90,np=1;class S4 extends Rn{constructor(t,i,s){if(super(),this.type="CubeCamera",s.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=s;const u=new _o(rp,np,t,i);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new wt(1,0,0)),this.add(u);const p=new _o(rp,np,t,i);p.layers=this.layers,p.up.set(0,-1,0),p.lookAt(new wt(-1,0,0)),this.add(p);const y=new _o(rp,np,t,i);y.layers=this.layers,y.up.set(0,0,1),y.lookAt(new wt(0,1,0)),this.add(y);const A=new _o(rp,np,t,i);A.layers=this.layers,A.up.set(0,0,-1),A.lookAt(new wt(0,-1,0)),this.add(A);const E=new _o(rp,np,t,i);E.layers=this.layers,E.up.set(0,-1,0),E.lookAt(new wt(0,0,1)),this.add(E);const _=new _o(rp,np,t,i);_.layers=this.layers,_.up.set(0,-1,0),_.lookAt(new wt(0,0,-1)),this.add(_)}update(t,i){this.parent===null&&this.updateMatrixWorld();const s=this.renderTarget,[u,p,y,A,E,_]=this.children,k=t.getRenderTarget(),R=t.toneMapping,P=t.xr.enabled;t.toneMapping=If,t.xr.enabled=!1;const B=s.texture.generateMipmaps;s.texture.generateMipmaps=!1,t.setRenderTarget(s,0),t.render(i,u),t.setRenderTarget(s,1),t.render(i,p),t.setRenderTarget(s,2),t.render(i,y),t.setRenderTarget(s,3),t.render(i,A),t.setRenderTarget(s,4),t.render(i,E),s.texture.generateMipmaps=B,t.setRenderTarget(s,5),t.render(i,_),t.setRenderTarget(k),t.toneMapping=R,t.xr.enabled=P,s.texture.needsPMREMUpdate=!0}}class h1 extends ns{constructor(t,i,s,u,p,y,A,E,_,k){t=t!==void 0?t:[],i=i!==void 0?i:xh,super(t,i,s,u,p,y,A,E,_,k),this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}h1.prototype.isCubeTexture=!0;class T4 extends Ta{constructor(t,i={}){super(t,t,i);const s={width:t,height:t,depth:1},u=[s,s,s,s,s,s];this.texture=new h1(u,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:Es}fromEquirectangularTexture(t,i){this.texture.type=i.type,this.texture.encoding=i.encoding,this.texture.generateMipmaps=i.generateMipmaps,this.texture.minFilter=i.minFilter,this.texture.magFilter=i.magFilter;const s={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},u=new fs(5,5,5),p=new Tl({name:"CubemapFromEquirect",uniforms:Vp(s.uniforms),vertexShader:s.vertexShader,fragmentShader:s.fragmentShader,side:Qa,blending:nc});p.uniforms.tEquirect.value=i;const y=new ir(u,p),A=i.minFilter;return i.minFilter===Tu&&(i.minFilter=Es),new S4(1,10,this).update(t,y),i.minFilter=A,y.geometry.dispose(),y.material.dispose(),this}clear(t,i,s,u){const p=t.getRenderTarget();for(let y=0;y<6;y++)t.setRenderTarget(this,y),t.clear(i,s,u);t.setRenderTarget(p)}}T4.prototype.isWebGLCubeRenderTarget=!0;const v3=new wt,aV=new wt,lV=new qs;class cu{constructor(t=new wt(1,0,0),i=0){this.normal=t,this.constant=i}set(t,i){return this.normal.copy(t),this.constant=i,this}setComponents(t,i,s,u){return this.normal.set(t,i,s),this.constant=u,this}setFromNormalAndCoplanarPoint(t,i){return this.normal.copy(t),this.constant=-i.dot(this.normal),this}setFromCoplanarPoints(t,i,s){const u=v3.subVectors(s,i).cross(aV.subVectors(t,i)).normalize();return this.setFromNormalAndCoplanarPoint(u,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,i){return i.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,i){const s=t.delta(v3),u=this.normal.dot(s);if(u===0)return this.distanceToPoint(t.start)===0?i.copy(t.start):null;const p=-(t.start.dot(this.normal)+this.constant)/u;return p<0||p>1?null:i.copy(s).multiplyScalar(p).add(t.start)}intersectsLine(t){const i=this.distanceToPoint(t.start),s=this.distanceToPoint(t.end);return i<0&&s>0||s<0&&i>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,i){const s=i||lV.getNormalMatrix(t),u=this.coplanarPoint(v3).applyMatrix4(t),p=this.normal.applyMatrix3(s).normalize();return this.constant=-u.dot(p),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}cu.prototype.isPlane=!0;const sp=new Mu,DA=new wt;class zg{constructor(t=new cu,i=new cu,s=new cu,u=new cu,p=new cu,y=new cu){this.planes=[t,i,s,u,p,y]}set(t,i,s,u,p,y){const A=this.planes;return A[0].copy(t),A[1].copy(i),A[2].copy(s),A[3].copy(u),A[4].copy(p),A[5].copy(y),this}copy(t){const i=this.planes;for(let s=0;s<6;s++)i[s].copy(t.planes[s]);return this}setFromProjectionMatrix(t){const i=this.planes,s=t.elements,u=s[0],p=s[1],y=s[2],A=s[3],E=s[4],_=s[5],k=s[6],R=s[7],P=s[8],B=s[9],O=s[10],H=s[11],z=s[12],Y=s[13],ee=s[14],ue=s[15];return i[0].setComponents(A-u,R-E,H-P,ue-z).normalize(),i[1].setComponents(A+u,R+E,H+P,ue+z).normalize(),i[2].setComponents(A+p,R+_,H+B,ue+Y).normalize(),i[3].setComponents(A-p,R-_,H-B,ue-Y).normalize(),i[4].setComponents(A-y,R-k,H-O,ue-ee).normalize(),i[5].setComponents(A+y,R+k,H+O,ue+ee).normalize(),this}intersectsObject(t){const i=t.geometry;return i.boundingSphere===null&&i.computeBoundingSphere(),sp.copy(i.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(sp)}intersectsSprite(t){return sp.center.set(0,0,0),sp.radius=.7071067811865476,sp.applyMatrix4(t.matrixWorld),this.intersectsSphere(sp)}intersectsSphere(t){const i=this.planes,s=t.center,u=-t.radius;for(let p=0;p<6;p++)if(i[p].distanceToPoint(s)<u)return!1;return!0}intersectsBox(t){const i=this.planes;for(let s=0;s<6;s++){const u=i[s];if(DA.x=u.normal.x>0?t.max.x:t.min.x,DA.y=u.normal.y>0?t.max.y:t.min.y,DA.z=u.normal.z>0?t.max.z:t.min.z,u.distanceToPoint(DA)<0)return!1}return!0}containsPoint(t){const i=this.planes;for(let s=0;s<6;s++)if(i[s].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function T7(){let l=null,t=!1,i=null,s=null;function u(p,y){i(p,y),s=l.requestAnimationFrame(u)}return{start:function(){t!==!0&&i!==null&&(s=l.requestAnimationFrame(u),t=!0)},stop:function(){l.cancelAnimationFrame(s),t=!1},setAnimationLoop:function(p){i=p},setContext:function(p){l=p}}}function fV(l,t){const i=t.isWebGL2,s=new WeakMap;function u(_,k){const R=_.array,P=_.usage,B=l.createBuffer();l.bindBuffer(k,B),l.bufferData(k,R,P),_.onUploadCallback();let O;if(R instanceof Float32Array)O=5126;else if(R instanceof Uint16Array)if(_.isFloat16BufferAttribute)if(i)O=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else O=5123;else if(R instanceof Int16Array)O=5122;else if(R instanceof Uint32Array)O=5125;else if(R instanceof Int32Array)O=5124;else if(R instanceof Int8Array)O=5120;else if(R instanceof Uint8Array)O=5121;else if(R instanceof Uint8ClampedArray)O=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+R);return{buffer:B,type:O,bytesPerElement:R.BYTES_PER_ELEMENT,version:_.version}}function p(_,k,R){const P=k.array,B=k.updateRange;l.bindBuffer(R,_),B.count===-1?l.bufferSubData(R,0,P):(i?l.bufferSubData(R,B.offset*P.BYTES_PER_ELEMENT,P,B.offset,B.count):l.bufferSubData(R,B.offset*P.BYTES_PER_ELEMENT,P.subarray(B.offset,B.offset+B.count)),B.count=-1)}function y(_){return _.isInterleavedBufferAttribute&&(_=_.data),s.get(_)}function A(_){_.isInterleavedBufferAttribute&&(_=_.data);const k=s.get(_);k&&(l.deleteBuffer(k.buffer),s.delete(_))}function E(_,k){if(_.isGLBufferAttribute){const P=s.get(_);(!P||P.version<_.version)&&s.set(_,{buffer:_.buffer,type:_.type,bytesPerElement:_.elementSize,version:_.version});return}_.isInterleavedBufferAttribute&&(_=_.data);const R=s.get(_);R===void 0?s.set(_,u(_,k)):R.version<_.version&&(p(R.buffer,_,k),R.version=_.version)}return{get:y,remove:A,update:E}}class $o extends vn{constructor(t=1,i=1,s=1,u=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:i,widthSegments:s,heightSegments:u};const p=t/2,y=i/2,A=Math.floor(s),E=Math.floor(u),_=A+1,k=E+1,R=t/A,P=i/E,B=[],O=[],H=[],z=[];for(let Y=0;Y<k;Y++){const ee=Y*P-y;for(let ue=0;ue<_;ue++){const oe=ue*R-p;O.push(oe,-ee,0),H.push(0,0,1),z.push(ue/A),z.push(1-Y/E)}}for(let Y=0;Y<E;Y++)for(let ee=0;ee<A;ee++){const ue=ee+_*Y,oe=ee+_*(Y+1),Ae=ee+1+_*(Y+1),be=ee+1+_*Y;B.push(ue,oe,be),B.push(oe,Ae,be)}this.setIndex(B),this.setAttribute("position",new $r(O,3)),this.setAttribute("normal",new $r(H,3)),this.setAttribute("uv",new $r(z,2))}static fromJSON(t){return new $o(t.width,t.height,t.widthSegments,t.heightSegments)}}var uV=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,cV=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,hV=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,dV=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,pV=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,mV=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,gV="vec3 transformed = vec3( position );",bV=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,yV=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,AV=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,vV=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,wV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,xV=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,EV=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,_V=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,kV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,CV=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,SV=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,TV=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,MV=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,RV=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,BV=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,IV=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,DV=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,PV=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,LV="gl_FragColor = linearToOutputTexel( gl_FragColor );",NV=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,FV=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,OV=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,HV=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,UV=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,VV=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,jV=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,GV=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,zV=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,WV=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,QV=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,JV=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,XV=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,qV=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,ZV=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,YV=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,KV=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,$V=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,ej=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,tj=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,ij=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,rj=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,nj=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,sj=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,oj=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,aj=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,lj=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,fj=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,uj=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,cj=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,hj=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,dj=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,pj=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,mj=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,gj=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,bj=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,yj=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Aj=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,vj=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,wj=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,xj=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Ej=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,_j=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,kj=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Cj=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,Sj=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Tj=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,Mj=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,Rj=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Bj=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,Ij=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Dj=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Pj=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Lj=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Nj=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Fj=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Oj=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Hj=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Uj=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,Vj=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,jj=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Gj=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,zj=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Wj=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Qj=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Jj=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Xj=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,qj=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Zj=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,Yj=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Kj=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,$j=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,eG=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,tG=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,iG=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,rG=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,nG=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const sG=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,oG=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,aG=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,lG=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,fG=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,uG=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,cG=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,hG=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,dG=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,pG=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,mG=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,gG=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,bG=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,yG=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AG=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vG=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wG=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,xG=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EG=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,_G=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,kG=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,CG=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,SG=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,TG=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MG=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,RG=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,BG=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,IG=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,DG=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,PG=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,LG=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,NG=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,s0={alphamap_fragment:uV,alphamap_pars_fragment:cV,alphatest_fragment:hV,alphatest_pars_fragment:dV,aomap_fragment:pV,aomap_pars_fragment:mV,begin_vertex:gV,beginnormal_vertex:bV,bsdfs:yV,bumpmap_pars_fragment:AV,clipping_planes_fragment:vV,clipping_planes_pars_fragment:wV,clipping_planes_pars_vertex:xV,clipping_planes_vertex:EV,color_fragment:_V,color_pars_fragment:kV,color_pars_vertex:CV,color_vertex:SV,common:TV,cube_uv_reflection_fragment:MV,defaultnormal_vertex:RV,displacementmap_pars_vertex:BV,displacementmap_vertex:IV,emissivemap_fragment:DV,emissivemap_pars_fragment:PV,encodings_fragment:LV,encodings_pars_fragment:NV,envmap_fragment:FV,envmap_common_pars_fragment:OV,envmap_pars_fragment:HV,envmap_pars_vertex:UV,envmap_physical_pars_fragment:YV,envmap_vertex:VV,fog_vertex:jV,fog_pars_vertex:GV,fog_fragment:zV,fog_pars_fragment:WV,gradientmap_pars_fragment:QV,lightmap_fragment:JV,lightmap_pars_fragment:XV,lights_lambert_vertex:qV,lights_pars_begin:ZV,lights_toon_fragment:KV,lights_toon_pars_fragment:$V,lights_phong_fragment:ej,lights_phong_pars_fragment:tj,lights_physical_fragment:ij,lights_physical_pars_fragment:rj,lights_fragment_begin:nj,lights_fragment_maps:sj,lights_fragment_end:oj,logdepthbuf_fragment:aj,logdepthbuf_pars_fragment:lj,logdepthbuf_pars_vertex:fj,logdepthbuf_vertex:uj,map_fragment:cj,map_pars_fragment:hj,map_particle_fragment:dj,map_particle_pars_fragment:pj,metalnessmap_fragment:mj,metalnessmap_pars_fragment:gj,morphcolor_vertex:bj,morphnormal_vertex:yj,morphtarget_pars_vertex:Aj,morphtarget_vertex:vj,normal_fragment_begin:wj,normal_fragment_maps:xj,normal_pars_fragment:Ej,normal_pars_vertex:_j,normal_vertex:kj,normalmap_pars_fragment:Cj,clearcoat_normal_fragment_begin:Sj,clearcoat_normal_fragment_maps:Tj,clearcoat_pars_fragment:Mj,output_fragment:Rj,packing:Bj,premultiplied_alpha_fragment:Ij,project_vertex:Dj,dithering_fragment:Pj,dithering_pars_fragment:Lj,roughnessmap_fragment:Nj,roughnessmap_pars_fragment:Fj,shadowmap_pars_fragment:Oj,shadowmap_pars_vertex:Hj,shadowmap_vertex:Uj,shadowmask_pars_fragment:Vj,skinbase_vertex:jj,skinning_pars_vertex:Gj,skinning_vertex:zj,skinnormal_vertex:Wj,specularmap_fragment:Qj,specularmap_pars_fragment:Jj,tonemapping_fragment:Xj,tonemapping_pars_fragment:qj,transmission_fragment:Zj,transmission_pars_fragment:Yj,uv_pars_fragment:Kj,uv_pars_vertex:$j,uv_vertex:eG,uv2_pars_fragment:tG,uv2_pars_vertex:iG,uv2_vertex:rG,worldpos_vertex:nG,background_vert:sG,background_frag:oG,cube_vert:aG,cube_frag:lG,depth_vert:fG,depth_frag:uG,distanceRGBA_vert:cG,distanceRGBA_frag:hG,equirect_vert:dG,equirect_frag:pG,linedashed_vert:mG,linedashed_frag:gG,meshbasic_vert:bG,meshbasic_frag:yG,meshlambert_vert:AG,meshlambert_frag:vG,meshmatcap_vert:wG,meshmatcap_frag:xG,meshnormal_vert:EG,meshnormal_frag:_G,meshphong_vert:kG,meshphong_frag:CG,meshphysical_vert:SG,meshphysical_frag:TG,meshtoon_vert:MG,meshtoon_frag:RG,points_vert:BG,points_frag:IG,shadow_vert:DG,shadow_frag:PG,sprite_vert:LG,sprite_frag:NG},Or={common:{diffuse:{value:new _r(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new qs},uv2Transform:{value:new qs},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Yi(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new _r(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new _r(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new qs}},sprite:{diffuse:{value:new _r(16777215)},opacity:{value:1},center:{value:new Yi(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new qs}}},Tf={basic:{uniforms:ua([Or.common,Or.specularmap,Or.envmap,Or.aomap,Or.lightmap,Or.fog]),vertexShader:s0.meshbasic_vert,fragmentShader:s0.meshbasic_frag},lambert:{uniforms:ua([Or.common,Or.specularmap,Or.envmap,Or.aomap,Or.lightmap,Or.emissivemap,Or.fog,Or.lights,{emissive:{value:new _r(0)}}]),vertexShader:s0.meshlambert_vert,fragmentShader:s0.meshlambert_frag},phong:{uniforms:ua([Or.common,Or.specularmap,Or.envmap,Or.aomap,Or.lightmap,Or.emissivemap,Or.bumpmap,Or.normalmap,Or.displacementmap,Or.fog,Or.lights,{emissive:{value:new _r(0)},specular:{value:new _r(1118481)},shininess:{value:30}}]),vertexShader:s0.meshphong_vert,fragmentShader:s0.meshphong_frag},standard:{uniforms:ua([Or.common,Or.envmap,Or.aomap,Or.lightmap,Or.emissivemap,Or.bumpmap,Or.normalmap,Or.displacementmap,Or.roughnessmap,Or.metalnessmap,Or.fog,Or.lights,{emissive:{value:new _r(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:s0.meshphysical_vert,fragmentShader:s0.meshphysical_frag},toon:{uniforms:ua([Or.common,Or.aomap,Or.lightmap,Or.emissivemap,Or.bumpmap,Or.normalmap,Or.displacementmap,Or.gradientmap,Or.fog,Or.lights,{emissive:{value:new _r(0)}}]),vertexShader:s0.meshtoon_vert,fragmentShader:s0.meshtoon_frag},matcap:{uniforms:ua([Or.common,Or.bumpmap,Or.normalmap,Or.displacementmap,Or.fog,{matcap:{value:null}}]),vertexShader:s0.meshmatcap_vert,fragmentShader:s0.meshmatcap_frag},points:{uniforms:ua([Or.points,Or.fog]),vertexShader:s0.points_vert,fragmentShader:s0.points_frag},dashed:{uniforms:ua([Or.common,Or.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:s0.linedashed_vert,fragmentShader:s0.linedashed_frag},depth:{uniforms:ua([Or.common,Or.displacementmap]),vertexShader:s0.depth_vert,fragmentShader:s0.depth_frag},normal:{uniforms:ua([Or.common,Or.bumpmap,Or.normalmap,Or.displacementmap,{opacity:{value:1}}]),vertexShader:s0.meshnormal_vert,fragmentShader:s0.meshnormal_frag},sprite:{uniforms:ua([Or.sprite,Or.fog]),vertexShader:s0.sprite_vert,fragmentShader:s0.sprite_frag},background:{uniforms:{uvTransform:{value:new qs},t2D:{value:null}},vertexShader:s0.background_vert,fragmentShader:s0.background_frag},cube:{uniforms:ua([Or.envmap,{opacity:{value:1}}]),vertexShader:s0.cube_vert,fragmentShader:s0.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:s0.equirect_vert,fragmentShader:s0.equirect_frag},distanceRGBA:{uniforms:ua([Or.common,Or.displacementmap,{referencePosition:{value:new wt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:s0.distanceRGBA_vert,fragmentShader:s0.distanceRGBA_frag},shadow:{uniforms:ua([Or.lights,Or.fog,{color:{value:new _r(0)},opacity:{value:1}}]),vertexShader:s0.shadow_vert,fragmentShader:s0.shadow_frag}};Tf.physical={uniforms:ua([Tf.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Yi(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new _r(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Yi},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new _r(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new _r(1,1,1)},specularColorMap:{value:null}}]),vertexShader:s0.meshphysical_vert,fragmentShader:s0.meshphysical_frag};function FG(l,t,i,s,u,p){const y=new _r(0);let A=u===!0?0:1,E,_,k=null,R=0,P=null;function B(H,z){let Y=!1,ee=z.isScene===!0?z.background:null;ee&&ee.isTexture&&(ee=t.get(ee));const ue=l.xr,oe=ue.getSession&&ue.getSession();oe&&oe.environmentBlendMode==="additive"&&(ee=null),ee===null?O(y,A):ee&&ee.isColor&&(O(ee,1),Y=!0),(l.autoClear||Y)&&l.clear(l.autoClearColor,l.autoClearDepth,l.autoClearStencil),ee&&(ee.isCubeTexture||ee.mapping===u1)?(_===void 0&&(_=new ir(new fs(1,1,1),new Tl({name:"BackgroundCubeMaterial",uniforms:Vp(Tf.cube.uniforms),vertexShader:Tf.cube.vertexShader,fragmentShader:Tf.cube.fragmentShader,side:Qa,depthTest:!1,depthWrite:!1,fog:!1})),_.geometry.deleteAttribute("normal"),_.geometry.deleteAttribute("uv"),_.onBeforeRender=function(Ae,be,xe){this.matrixWorld.copyPosition(xe.matrixWorld)},Object.defineProperty(_.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(_)),_.material.uniforms.envMap.value=ee,_.material.uniforms.flipEnvMap.value=ee.isCubeTexture&&ee.isRenderTargetTexture===!1?-1:1,(k!==ee||R!==ee.version||P!==l.toneMapping)&&(_.material.needsUpdate=!0,k=ee,R=ee.version,P=l.toneMapping),_.layers.enableAll(),H.unshift(_,_.geometry,_.material,0,0,null)):ee&&ee.isTexture&&(E===void 0&&(E=new ir(new $o(2,2),new Tl({name:"BackgroundMaterial",uniforms:Vp(Tf.background.uniforms),vertexShader:Tf.background.vertexShader,fragmentShader:Tf.background.fragmentShader,side:wh,depthTest:!1,depthWrite:!1,fog:!1})),E.geometry.deleteAttribute("normal"),Object.defineProperty(E.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(E)),E.material.uniforms.t2D.value=ee,ee.matrixAutoUpdate===!0&&ee.updateMatrix(),E.material.uniforms.uvTransform.value.copy(ee.matrix),(k!==ee||R!==ee.version||P!==l.toneMapping)&&(E.material.needsUpdate=!0,k=ee,R=ee.version,P=l.toneMapping),E.layers.enableAll(),H.unshift(E,E.geometry,E.material,0,0,null))}function O(H,z){i.buffers.color.setClear(H.r,H.g,H.b,z,p)}return{getClearColor:function(){return y},setClearColor:function(H,z=1){y.set(H),A=z,O(y,A)},getClearAlpha:function(){return A},setClearAlpha:function(H){A=H,O(y,A)},render:B}}function OG(l,t,i,s){const u=l.getParameter(34921),p=s.isWebGL2?null:t.get("OES_vertex_array_object"),y=s.isWebGL2||p!==null,A={},E=z(null);let _=E,k=!1;function R(ie,he,de,Se,Be){let Le=!1;if(y){const nt=H(Se,de,he);_!==nt&&(_=nt,B(_.object)),Le=Y(ie,Se,de,Be),Le&&ee(ie,Se,de,Be)}else{const nt=he.wireframe===!0;(_.geometry!==Se.id||_.program!==de.id||_.wireframe!==nt)&&(_.geometry=Se.id,_.program=de.id,_.wireframe=nt,Le=!0)}Be!==null&&i.update(Be,34963),(Le||k)&&(k=!1,ne(ie,he,de,Se),Be!==null&&l.bindBuffer(34963,i.get(Be).buffer))}function P(){return s.isWebGL2?l.createVertexArray():p.createVertexArrayOES()}function B(ie){return s.isWebGL2?l.bindVertexArray(ie):p.bindVertexArrayOES(ie)}function O(ie){return s.isWebGL2?l.deleteVertexArray(ie):p.deleteVertexArrayOES(ie)}function H(ie,he,de){const Se=de.wireframe===!0;let Be=A[ie.id];Be===void 0&&(Be={},A[ie.id]=Be);let Le=Be[he.id];Le===void 0&&(Le={},Be[he.id]=Le);let nt=Le[Se];return nt===void 0&&(nt=z(P()),Le[Se]=nt),nt}function z(ie){const he=[],de=[],Se=[];for(let Be=0;Be<u;Be++)he[Be]=0,de[Be]=0,Se[Be]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:he,enabledAttributes:de,attributeDivisors:Se,object:ie,attributes:{},index:null}}function Y(ie,he,de,Se){const Be=_.attributes,Le=he.attributes;let nt=0;const He=de.getAttributes();for(const ce in He)if(He[ce].location>=0){const lt=Be[ce];let Te=Le[ce];if(Te===void 0&&(ce==="instanceMatrix"&&ie.instanceMatrix&&(Te=ie.instanceMatrix),ce==="instanceColor"&&ie.instanceColor&&(Te=ie.instanceColor)),lt===void 0||lt.attribute!==Te||Te&&lt.data!==Te.data)return!0;nt++}return _.attributesNum!==nt||_.index!==Se}function ee(ie,he,de,Se){const Be={},Le=he.attributes;let nt=0;const He=de.getAttributes();for(const ce in He)if(He[ce].location>=0){let lt=Le[ce];lt===void 0&&(ce==="instanceMatrix"&&ie.instanceMatrix&&(lt=ie.instanceMatrix),ce==="instanceColor"&&ie.instanceColor&&(lt=ie.instanceColor));const Te={};Te.attribute=lt,lt&&lt.data&&(Te.data=lt.data),Be[ce]=Te,nt++}_.attributes=Be,_.attributesNum=nt,_.index=Se}function ue(){const ie=_.newAttributes;for(let he=0,de=ie.length;he<de;he++)ie[he]=0}function oe(ie){Ae(ie,0)}function Ae(ie,he){const de=_.newAttributes,Se=_.enabledAttributes,Be=_.attributeDivisors;de[ie]=1,Se[ie]===0&&(l.enableVertexAttribArray(ie),Se[ie]=1),Be[ie]!==he&&((s.isWebGL2?l:t.get("ANGLE_instanced_arrays"))[s.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](ie,he),Be[ie]=he)}function be(){const ie=_.newAttributes,he=_.enabledAttributes;for(let de=0,Se=he.length;de<Se;de++)he[de]!==ie[de]&&(l.disableVertexAttribArray(de),he[de]=0)}function xe(ie,he,de,Se,Be,Le){s.isWebGL2===!0&&(de===5124||de===5125)?l.vertexAttribIPointer(ie,he,de,Be,Le):l.vertexAttribPointer(ie,he,de,Se,Be,Le)}function ne(ie,he,de,Se){if(s.isWebGL2===!1&&(ie.isInstancedMesh||Se.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;ue();const Be=Se.attributes,Le=de.getAttributes(),nt=he.defaultAttributeValues;for(const He in Le){const ce=Le[He];if(ce.location>=0){let Re=Be[He];if(Re===void 0&&(He==="instanceMatrix"&&ie.instanceMatrix&&(Re=ie.instanceMatrix),He==="instanceColor"&&ie.instanceColor&&(Re=ie.instanceColor)),Re!==void 0){const lt=Re.normalized,Te=Re.itemSize,Ye=i.get(Re);if(Ye===void 0)continue;const mt=Ye.buffer,$e=Ye.type,gt=Ye.bytesPerElement;if(Re.isInterleavedBufferAttribute){const kt=Re.data,Kt=kt.stride,Ft=Re.offset;if(kt.isInstancedInterleavedBuffer){for(let Yt=0;Yt<ce.locationSize;Yt++)Ae(ce.location+Yt,kt.meshPerAttribute);ie.isInstancedMesh!==!0&&Se._maxInstanceCount===void 0&&(Se._maxInstanceCount=kt.meshPerAttribute*kt.count)}else for(let Yt=0;Yt<ce.locationSize;Yt++)oe(ce.location+Yt);l.bindBuffer(34962,mt);for(let Yt=0;Yt<ce.locationSize;Yt++)xe(ce.location+Yt,Te/ce.locationSize,$e,lt,Kt*gt,(Ft+Te/ce.locationSize*Yt)*gt)}else{if(Re.isInstancedBufferAttribute){for(let kt=0;kt<ce.locationSize;kt++)Ae(ce.location+kt,Re.meshPerAttribute);ie.isInstancedMesh!==!0&&Se._maxInstanceCount===void 0&&(Se._maxInstanceCount=Re.meshPerAttribute*Re.count)}else for(let kt=0;kt<ce.locationSize;kt++)oe(ce.location+kt);l.bindBuffer(34962,mt);for(let kt=0;kt<ce.locationSize;kt++)xe(ce.location+kt,Te/ce.locationSize,$e,lt,Te*gt,Te/ce.locationSize*kt*gt)}}else if(nt!==void 0){const lt=nt[He];if(lt!==void 0)switch(lt.length){case 2:l.vertexAttrib2fv(ce.location,lt);break;case 3:l.vertexAttrib3fv(ce.location,lt);break;case 4:l.vertexAttrib4fv(ce.location,lt);break;default:l.vertexAttrib1fv(ce.location,lt)}}}}be()}function ae(){we();for(const ie in A){const he=A[ie];for(const de in he){const Se=he[de];for(const Be in Se)O(Se[Be].object),delete Se[Be];delete he[de]}delete A[ie]}}function ye(ie){if(A[ie.id]===void 0)return;const he=A[ie.id];for(const de in he){const Se=he[de];for(const Be in Se)O(Se[Be].object),delete Se[Be];delete he[de]}delete A[ie.id]}function ge(ie){for(const he in A){const de=A[he];if(de[ie.id]===void 0)continue;const Se=de[ie.id];for(const Be in Se)O(Se[Be].object),delete Se[Be];delete de[ie.id]}}function we(){le(),k=!0,_!==E&&(_=E,B(_.object))}function le(){E.geometry=null,E.program=null,E.wireframe=!1}return{setup:R,reset:we,resetDefaultState:le,dispose:ae,releaseStatesOfGeometry:ye,releaseStatesOfProgram:ge,initAttributes:ue,enableAttribute:oe,disableUnusedAttributes:be}}function HG(l,t,i,s){const u=s.isWebGL2;let p;function y(_){p=_}function A(_,k){l.drawArrays(p,_,k),i.update(k,p,1)}function E(_,k,R){if(R===0)return;let P,B;if(u)P=l,B="drawArraysInstanced";else if(P=t.get("ANGLE_instanced_arrays"),B="drawArraysInstancedANGLE",P===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}P[B](p,_,k,R),i.update(k,p,R)}this.setMode=y,this.render=A,this.renderInstances=E}function UG(l,t,i){let s;function u(){if(s!==void 0)return s;if(t.has("EXT_texture_filter_anisotropic")===!0){const xe=t.get("EXT_texture_filter_anisotropic");s=l.getParameter(xe.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function p(xe){if(xe==="highp"){if(l.getShaderPrecisionFormat(35633,36338).precision>0&&l.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";xe="mediump"}return xe==="mediump"&&l.getShaderPrecisionFormat(35633,36337).precision>0&&l.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const y=typeof WebGL2RenderingContext!="undefined"&&l instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&l instanceof WebGL2ComputeRenderingContext;let A=i.precision!==void 0?i.precision:"highp";const E=p(A);E!==A&&(console.warn("THREE.WebGLRenderer:",A,"not supported, using",E,"instead."),A=E);const _=y||t.has("WEBGL_draw_buffers"),k=i.logarithmicDepthBuffer===!0,R=l.getParameter(34930),P=l.getParameter(35660),B=l.getParameter(3379),O=l.getParameter(34076),H=l.getParameter(34921),z=l.getParameter(36347),Y=l.getParameter(36348),ee=l.getParameter(36349),ue=P>0,oe=y||t.has("OES_texture_float"),Ae=ue&&oe,be=y?l.getParameter(36183):0;return{isWebGL2:y,drawBuffers:_,getMaxAnisotropy:u,getMaxPrecision:p,precision:A,logarithmicDepthBuffer:k,maxTextures:R,maxVertexTextures:P,maxTextureSize:B,maxCubemapSize:O,maxAttributes:H,maxVertexUniforms:z,maxVaryings:Y,maxFragmentUniforms:ee,vertexTextures:ue,floatFragmentTextures:oe,floatVertexTextures:Ae,maxSamples:be}}function VG(l){const t=this;let i=null,s=0,u=!1,p=!1;const y=new cu,A=new qs,E={value:null,needsUpdate:!1};this.uniform=E,this.numPlanes=0,this.numIntersection=0,this.init=function(R,P,B){const O=R.length!==0||P||s!==0||u;return u=P,i=k(R,B,0),s=R.length,O},this.beginShadows=function(){p=!0,k(null)},this.endShadows=function(){p=!1,_()},this.setState=function(R,P,B){const O=R.clippingPlanes,H=R.clipIntersection,z=R.clipShadows,Y=l.get(R);if(!u||O===null||O.length===0||p&&!z)p?k(null):_();else{const ee=p?0:s,ue=ee*4;let oe=Y.clippingState||null;E.value=oe,oe=k(O,P,ue,B);for(let Ae=0;Ae!==ue;++Ae)oe[Ae]=i[Ae];Y.clippingState=oe,this.numIntersection=H?this.numPlanes:0,this.numPlanes+=ee}};function _(){E.value!==i&&(E.value=i,E.needsUpdate=s>0),t.numPlanes=s,t.numIntersection=0}function k(R,P,B,O){const H=R!==null?R.length:0;let z=null;if(H!==0){if(z=E.value,O!==!0||z===null){const Y=B+H*4,ee=P.matrixWorldInverse;A.getNormalMatrix(ee),(z===null||z.length<Y)&&(z=new Float32Array(Y));for(let ue=0,oe=B;ue!==H;++ue,oe+=4)y.copy(R[ue]).applyMatrix4(ee,A),y.normal.toArray(z,oe),z[oe+3]=y.constant}E.value=z,E.needsUpdate=!0}return t.numPlanes=H,t.numIntersection=0,z}}function jG(l){let t=new WeakMap;function i(y,A){return A===sc?y.mapping=xh:A===xg&&(y.mapping=Eh),y}function s(y){if(y&&y.isTexture&&y.isRenderTargetTexture===!1){const A=y.mapping;if(A===sc||A===xg)if(t.has(y)){const E=t.get(y).texture;return i(E,y.mapping)}else{const E=y.image;if(E&&E.height>0){const _=new T4(E.height/2);return _.fromEquirectangularTexture(l,y),t.set(y,_),y.addEventListener("dispose",u),i(_.texture,y.mapping)}else return null}}return y}function u(y){const A=y.target;A.removeEventListener("dispose",u);const E=t.get(A);E!==void 0&&(t.delete(A),E.dispose())}function p(){t=new WeakMap}return{get:s,dispose:p}}class Lh extends Gg{constructor(t=-1,i=1,s=1,u=-1,p=.1,y=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=i,this.top=s,this.bottom=u,this.near=p,this.far=y,this.updateProjectionMatrix()}copy(t,i){return super.copy(t,i),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,i,s,u,p,y){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=i,this.view.offsetX=s,this.view.offsetY=u,this.view.width=p,this.view.height=y,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),i=(this.top-this.bottom)/(2*this.zoom),s=(this.right+this.left)/2,u=(this.top+this.bottom)/2;let p=s-t,y=s+t,A=u+i,E=u-i;if(this.view!==null&&this.view.enabled){const _=(this.right-this.left)/this.view.fullWidth/this.zoom,k=(this.top-this.bottom)/this.view.fullHeight/this.zoom;p+=_*this.view.offsetX,y=p+_*this.view.width,A-=k*this.view.offsetY,E=A-k*this.view.height}this.projectionMatrix.makeOrthographic(p,y,A,E,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const i=super.toJSON(t);return i.object.zoom=this.zoom,i.object.left=this.left,i.object.right=this.right,i.object.top=this.top,i.object.bottom=this.bottom,i.object.near=this.near,i.object.far=this.far,this.view!==null&&(i.object.view=Object.assign({},this.view)),i}}Lh.prototype.isOrthographicCamera=!0;const xp=4,jC=[.125,.215,.35,.446,.526,.582],Id=20,w3=new Lh,GC=new _r;let x3=null;const Td=(1+Math.sqrt(5))/2,op=1/Td,zC=[new wt(1,1,1),new wt(-1,1,1),new wt(1,1,-1),new wt(-1,1,-1),new wt(0,Td,op),new wt(0,Td,-op),new wt(op,0,Td),new wt(-op,0,Td),new wt(Td,op,0),new wt(-Td,op,0)];class e4{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,i=0,s=.1,u=100){x3=this._renderer.getRenderTarget(),this._setSize(256);const p=this._allocateTargets();return p.depthBuffer=!0,this._sceneToCubeUV(t,s,u,p),i>0&&this._blur(p,0,0,i),this._applyPMREM(p),this._cleanup(p),p}fromEquirectangular(t,i=null){return this._fromTexture(t,i)}fromCubemap(t,i=null){return this._fromTexture(t,i)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=JC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=QC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(x3),t.scissorTest=!1,PA(t,0,0,t.width,t.height)}_fromTexture(t,i){t.mapping===xh||t.mapping===Eh?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),x3=this._renderer.getRenderTarget();const s=i||this._allocateTargets();return this._textureToCubeUV(t,s),this._applyPMREM(s),this._cleanup(s),s}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),i=4*this._cubeSize,s={magFilter:Es,minFilter:Es,generateMipmaps:!1,type:Fp,format:wl,encoding:oc,depthBuffer:!1},u=WC(t,i,s);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=WC(t,i,s);const{_lodMax:p}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=GG(p)),this._blurMaterial=zG(p,t,i)}return u}_compileMaterial(t){const i=new ir(this._lodPlanes[0],t);this._renderer.compile(i,w3)}_sceneToCubeUV(t,i,s,u){const A=new _o(90,1,i,s),E=[1,-1,1,1,1,1],_=[1,1,1,-1,-1,-1],k=this._renderer,R=k.autoClear,P=k.toneMapping;k.getClearColor(GC),k.toneMapping=If,k.autoClear=!1;const B=new Us({name:"PMREM.Background",side:Qa,depthWrite:!1,depthTest:!1}),O=new ir(new fs,B);let H=!1;const z=t.background;z?z.isColor&&(B.color.copy(z),t.background=null,H=!0):(B.color.copy(GC),H=!0);for(let Y=0;Y<6;Y++){const ee=Y%3;ee===0?(A.up.set(0,E[Y],0),A.lookAt(_[Y],0,0)):ee===1?(A.up.set(0,0,E[Y]),A.lookAt(0,_[Y],0)):(A.up.set(0,E[Y],0),A.lookAt(0,0,_[Y]));const ue=this._cubeSize;PA(u,ee*ue,Y>2?ue:0,ue,ue),k.setRenderTarget(u),H&&k.render(O,A),k.render(t,A)}O.geometry.dispose(),O.material.dispose(),k.toneMapping=P,k.autoClear=R,t.background=z}_textureToCubeUV(t,i){const s=this._renderer,u=t.mapping===xh||t.mapping===Eh;u?(this._cubemapMaterial===null&&(this._cubemapMaterial=JC()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=QC());const p=u?this._cubemapMaterial:this._equirectMaterial,y=new ir(this._lodPlanes[0],p),A=p.uniforms;A.envMap.value=t;const E=this._cubeSize;PA(i,0,0,3*E,2*E),s.setRenderTarget(i),s.render(y,w3)}_applyPMREM(t){const i=this._renderer,s=i.autoClear;i.autoClear=!1;for(let u=1;u<this._lodPlanes.length;u++){const p=Math.sqrt(this._sigmas[u]*this._sigmas[u]-this._sigmas[u-1]*this._sigmas[u-1]),y=zC[(u-1)%zC.length];this._blur(t,u-1,u,p,y)}i.autoClear=s}_blur(t,i,s,u,p){const y=this._pingPongRenderTarget;this._halfBlur(t,y,i,s,u,"latitudinal",p),this._halfBlur(y,t,s,s,u,"longitudinal",p)}_halfBlur(t,i,s,u,p,y,A){const E=this._renderer,_=this._blurMaterial;y!=="latitudinal"&&y!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const k=3,R=new ir(this._lodPlanes[u],_),P=_.uniforms,B=this._sizeLods[s]-1,O=isFinite(p)?Math.PI/(2*B):2*Math.PI/(2*Id-1),H=p/O,z=isFinite(p)?1+Math.floor(k*H):Id;z>Id&&console.warn(`sigmaRadians, ${p}, is too large and will clip, as it requested ${z} samples when the maximum is set to ${Id}`);const Y=[];let ee=0;for(let xe=0;xe<Id;++xe){const ne=xe/H,ae=Math.exp(-ne*ne/2);Y.push(ae),xe===0?ee+=ae:xe<z&&(ee+=2*ae)}for(let xe=0;xe<Y.length;xe++)Y[xe]=Y[xe]/ee;P.envMap.value=t.texture,P.samples.value=z,P.weights.value=Y,P.latitudinal.value=y==="latitudinal",A&&(P.poleAxis.value=A);const{_lodMax:ue}=this;P.dTheta.value=O,P.mipInt.value=ue-s;const oe=this._sizeLods[u],Ae=3*oe*(u>ue-xp?u-ue+xp:0),be=4*(this._cubeSize-oe);PA(i,Ae,be,3*oe,2*oe),E.setRenderTarget(i),E.render(R,w3)}}function GG(l){const t=[],i=[],s=[];let u=l;const p=l-xp+1+jC.length;for(let y=0;y<p;y++){const A=Math.pow(2,u);i.push(A);let E=1/A;y>l-xp?E=jC[y-l+xp-1]:y===0&&(E=0),s.push(E);const _=1/(A-2),k=-_,R=1+_,P=[k,k,R,k,R,R,k,k,R,R,k,R],B=6,O=6,H=3,z=2,Y=1,ee=new Float32Array(H*O*B),ue=new Float32Array(z*O*B),oe=new Float32Array(Y*O*B);for(let be=0;be<B;be++){const xe=be%3*2/3-1,ne=be>2?0:-1,ae=[xe,ne,0,xe+2/3,ne,0,xe+2/3,ne+1,0,xe,ne,0,xe+2/3,ne+1,0,xe,ne+1,0];ee.set(ae,H*O*be),ue.set(P,z*O*be);const ye=[be,be,be,be,be,be];oe.set(ye,Y*O*be)}const Ae=new vn;Ae.setAttribute("position",new d0(ee,H)),Ae.setAttribute("uv",new d0(ue,z)),Ae.setAttribute("faceIndex",new d0(oe,Y)),t.push(Ae),u>xp&&u--}return{lodPlanes:t,sizeLods:i,sigmas:s}}function WC(l,t,i){const s=new Ta(l,t,i);return s.texture.mapping=u1,s.texture.name="PMREM.cubeUv",s.scissorTest=!0,s}function PA(l,t,i,s,u){l.viewport.set(t,i,s,u),l.scissor.set(t,i,s,u)}function zG(l,t,i){const s=new Float32Array(Id),u=new wt(0,1,0);return new Tl({name:"SphericalGaussianBlur",defines:{n:Id,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/i,CUBEUV_MAX_MIP:`${l}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:s},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:u}},vertexShader:XE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:nc,depthTest:!1,depthWrite:!1})}function QC(){return new Tl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:XE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:nc,depthTest:!1,depthWrite:!1})}function JC(){return new Tl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:XE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:nc,depthTest:!1,depthWrite:!1})}function XE(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WG(l){let t=new WeakMap,i=null;function s(A){if(A&&A.isTexture){const E=A.mapping,_=E===sc||E===xg,k=E===xh||E===Eh;if(_||k)if(A.isRenderTargetTexture&&A.needsPMREMUpdate===!0){A.needsPMREMUpdate=!1;let R=t.get(A);return i===null&&(i=new e4(l)),R=_?i.fromEquirectangular(A,R):i.fromCubemap(A,R),t.set(A,R),R.texture}else{if(t.has(A))return t.get(A).texture;{const R=A.image;if(_&&R&&R.height>0||k&&R&&u(R)){i===null&&(i=new e4(l));const P=_?i.fromEquirectangular(A):i.fromCubemap(A);return t.set(A,P),A.addEventListener("dispose",p),P.texture}else return null}}}return A}function u(A){let E=0;const _=6;for(let k=0;k<_;k++)A[k]!==void 0&&E++;return E===_}function p(A){const E=A.target;E.removeEventListener("dispose",p);const _=t.get(E);_!==void 0&&(t.delete(E),_.dispose())}function y(){t=new WeakMap,i!==null&&(i.dispose(),i=null)}return{get:s,dispose:y}}function QG(l){const t={};function i(s){if(t[s]!==void 0)return t[s];let u;switch(s){case"WEBGL_depth_texture":u=l.getExtension("WEBGL_depth_texture")||l.getExtension("MOZ_WEBGL_depth_texture")||l.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":u=l.getExtension("EXT_texture_filter_anisotropic")||l.getExtension("MOZ_EXT_texture_filter_anisotropic")||l.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":u=l.getExtension("WEBGL_compressed_texture_s3tc")||l.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||l.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":u=l.getExtension("WEBGL_compressed_texture_pvrtc")||l.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:u=l.getExtension(s)}return t[s]=u,u}return{has:function(s){return i(s)!==null},init:function(s){s.isWebGL2?i("EXT_color_buffer_float"):(i("WEBGL_depth_texture"),i("OES_texture_float"),i("OES_texture_half_float"),i("OES_texture_half_float_linear"),i("OES_standard_derivatives"),i("OES_element_index_uint"),i("OES_vertex_array_object"),i("ANGLE_instanced_arrays")),i("OES_texture_float_linear"),i("EXT_color_buffer_half_float"),i("WEBGL_multisampled_render_to_texture")},get:function(s){const u=i(s);return u===null&&console.warn("THREE.WebGLRenderer: "+s+" extension not supported."),u}}}function JG(l,t,i,s){const u={},p=new WeakMap;function y(R){const P=R.target;P.index!==null&&t.remove(P.index);for(const O in P.attributes)t.remove(P.attributes[O]);P.removeEventListener("dispose",y),delete u[P.id];const B=p.get(P);B&&(t.remove(B),p.delete(P)),s.releaseStatesOfGeometry(P),P.isInstancedBufferGeometry===!0&&delete P._maxInstanceCount,i.memory.geometries--}function A(R,P){return u[P.id]===!0||(P.addEventListener("dispose",y),u[P.id]=!0,i.memory.geometries++),P}function E(R){const P=R.attributes;for(const O in P)t.update(P[O],34962);const B=R.morphAttributes;for(const O in B){const H=B[O];for(let z=0,Y=H.length;z<Y;z++)t.update(H[z],34962)}}function _(R){const P=[],B=R.index,O=R.attributes.position;let H=0;if(B!==null){const ee=B.array;H=B.version;for(let ue=0,oe=ee.length;ue<oe;ue+=3){const Ae=ee[ue+0],be=ee[ue+1],xe=ee[ue+2];P.push(Ae,be,be,xe,xe,Ae)}}else{const ee=O.array;H=O.version;for(let ue=0,oe=ee.length/3-1;ue<oe;ue+=3){const Ae=ue+0,be=ue+1,xe=ue+2;P.push(Ae,be,be,xe,xe,Ae)}}const z=new(m7(P)?C4:k4)(P,1);z.version=H;const Y=p.get(R);Y&&t.remove(Y),p.set(R,z)}function k(R){const P=p.get(R);if(P){const B=R.index;B!==null&&P.version<B.version&&_(R)}else _(R);return p.get(R)}return{get:A,update:E,getWireframeAttribute:k}}function XG(l,t,i,s){const u=s.isWebGL2;let p;function y(P){p=P}let A,E;function _(P){A=P.type,E=P.bytesPerElement}function k(P,B){l.drawElements(p,B,A,P*E),i.update(B,p,1)}function R(P,B,O){if(O===0)return;let H,z;if(u)H=l,z="drawElementsInstanced";else if(H=t.get("ANGLE_instanced_arrays"),z="drawElementsInstancedANGLE",H===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}H[z](p,B,A,P*E,O),i.update(B,p,O)}this.setMode=y,this.setIndex=_,this.render=k,this.renderInstances=R}function qG(l){const t={geometries:0,textures:0},i={frame:0,calls:0,triangles:0,points:0,lines:0};function s(p,y,A){switch(i.calls++,y){case 4:i.triangles+=A*(p/3);break;case 1:i.lines+=A*(p/2);break;case 3:i.lines+=A*(p-1);break;case 2:i.lines+=A*p;break;case 0:i.points+=A*p;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",y);break}}function u(){i.frame++,i.calls=0,i.triangles=0,i.points=0,i.lines=0}return{memory:t,render:i,programs:null,autoReset:!0,reset:u,update:s}}function ZG(l,t){return l[0]-t[0]}function YG(l,t){return Math.abs(t[1])-Math.abs(l[1])}function E3(l,t){let i=1;const s=t.isInterleavedBufferAttribute?t.data.array:t.array;s instanceof Int8Array?i=127:s instanceof Int16Array?i=32767:s instanceof Int32Array?i=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",s),l.divideScalar(i)}function KG(l,t,i){const s={},u=new Float32Array(8),p=new WeakMap,y=new V0,A=[];for(let _=0;_<8;_++)A[_]=[_,0];function E(_,k,R,P){const B=_.morphTargetInfluences;if(t.isWebGL2===!0){const O=k.morphAttributes.position||k.morphAttributes.normal||k.morphAttributes.color,H=O!==void 0?O.length:0;let z=p.get(k);if(z===void 0||z.count!==H){let he=function(){le.dispose(),p.delete(k),k.removeEventListener("dispose",he)};z!==void 0&&z.texture.dispose();const ue=k.morphAttributes.position!==void 0,oe=k.morphAttributes.normal!==void 0,Ae=k.morphAttributes.color!==void 0,be=k.morphAttributes.position||[],xe=k.morphAttributes.normal||[],ne=k.morphAttributes.color||[];let ae=0;ue===!0&&(ae=1),oe===!0&&(ae=2),Ae===!0&&(ae=3);let ye=k.attributes.position.count*ae,ge=1;ye>t.maxTextureSize&&(ge=Math.ceil(ye/t.maxTextureSize),ye=t.maxTextureSize);const we=new Float32Array(ye*ge*4*H),le=new c1(we,ye,ge,H);le.type=ic,le.needsUpdate=!0;const ie=ae*4;for(let de=0;de<H;de++){const Se=be[de],Be=xe[de],Le=ne[de],nt=ye*ge*4*de;for(let He=0;He<Se.count;He++){const ce=He*ie;ue===!0&&(y.fromBufferAttribute(Se,He),Se.normalized===!0&&E3(y,Se),we[nt+ce+0]=y.x,we[nt+ce+1]=y.y,we[nt+ce+2]=y.z,we[nt+ce+3]=0),oe===!0&&(y.fromBufferAttribute(Be,He),Be.normalized===!0&&E3(y,Be),we[nt+ce+4]=y.x,we[nt+ce+5]=y.y,we[nt+ce+6]=y.z,we[nt+ce+7]=0),Ae===!0&&(y.fromBufferAttribute(Le,He),Le.normalized===!0&&E3(y,Le),we[nt+ce+8]=y.x,we[nt+ce+9]=y.y,we[nt+ce+10]=y.z,we[nt+ce+11]=Le.itemSize===4?y.w:1)}}z={count:H,texture:le,size:new Yi(ye,ge)},p.set(k,z),k.addEventListener("dispose",he)}let Y=0;for(let ue=0;ue<B.length;ue++)Y+=B[ue];const ee=k.morphTargetsRelative?1:1-Y;P.getUniforms().setValue(l,"morphTargetBaseInfluence",ee),P.getUniforms().setValue(l,"morphTargetInfluences",B),P.getUniforms().setValue(l,"morphTargetsTexture",z.texture,i),P.getUniforms().setValue(l,"morphTargetsTextureSize",z.size)}else{const O=B===void 0?0:B.length;let H=s[k.id];if(H===void 0||H.length!==O){H=[];for(let oe=0;oe<O;oe++)H[oe]=[oe,0];s[k.id]=H}for(let oe=0;oe<O;oe++){const Ae=H[oe];Ae[0]=oe,Ae[1]=B[oe]}H.sort(YG);for(let oe=0;oe<8;oe++)oe<O&&H[oe][1]?(A[oe][0]=H[oe][0],A[oe][1]=H[oe][1]):(A[oe][0]=Number.MAX_SAFE_INTEGER,A[oe][1]=0);A.sort(ZG);const z=k.morphAttributes.position,Y=k.morphAttributes.normal;let ee=0;for(let oe=0;oe<8;oe++){const Ae=A[oe],be=Ae[0],xe=Ae[1];be!==Number.MAX_SAFE_INTEGER&&xe?(z&&k.getAttribute("morphTarget"+oe)!==z[be]&&k.setAttribute("morphTarget"+oe,z[be]),Y&&k.getAttribute("morphNormal"+oe)!==Y[be]&&k.setAttribute("morphNormal"+oe,Y[be]),u[oe]=xe,ee+=xe):(z&&k.hasAttribute("morphTarget"+oe)===!0&&k.deleteAttribute("morphTarget"+oe),Y&&k.hasAttribute("morphNormal"+oe)===!0&&k.deleteAttribute("morphNormal"+oe),u[oe]=0)}const ue=k.morphTargetsRelative?1:1-ee;P.getUniforms().setValue(l,"morphTargetBaseInfluence",ue),P.getUniforms().setValue(l,"morphTargetInfluences",u)}}return{update:E}}function $G(l,t,i,s){let u=new WeakMap;function p(E){const _=s.render.frame,k=E.geometry,R=t.get(E,k);return u.get(R)!==_&&(t.update(R),u.set(R,_)),E.isInstancedMesh&&(E.hasEventListener("dispose",A)===!1&&E.addEventListener("dispose",A),i.update(E.instanceMatrix,34962),E.instanceColor!==null&&i.update(E.instanceColor,34962)),R}function y(){u=new WeakMap}function A(E){const _=E.target;_.removeEventListener("dispose",A),i.remove(_.instanceMatrix),_.instanceColor!==null&&i.remove(_.instanceColor)}return{update:p,dispose:y}}const M7=new ns,R7=new c1,B7=new jg,I7=new h1,XC=[],qC=[],ZC=new Float32Array(16),YC=new Float32Array(9),KC=new Float32Array(4);function d1(l,t,i){const s=l[0];if(s<=0||s>0)return l;const u=t*i;let p=XC[u];if(p===void 0&&(p=new Float32Array(u),XC[u]=p),t!==0){s.toArray(p,0);for(let y=1,A=0;y!==t;++y)A+=i,l[y].toArray(p,A)}return p}function Ba(l,t){if(l.length!==t.length)return!1;for(let i=0,s=l.length;i<s;i++)if(l[i]!==t[i])return!1;return!0}function Ia(l,t){for(let i=0,s=t.length;i<s;i++)l[i]=t[i]}function M4(l,t){let i=qC[t];i===void 0&&(i=new Int32Array(t),qC[t]=i);for(let s=0;s!==t;++s)i[s]=l.allocateTextureUnit();return i}function ez(l,t){const i=this.cache;i[0]!==t&&(l.uniform1f(this.addr,t),i[0]=t)}function tz(l,t){const i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y)&&(l.uniform2f(this.addr,t.x,t.y),i[0]=t.x,i[1]=t.y);else{if(Ba(i,t))return;l.uniform2fv(this.addr,t),Ia(i,t)}}function iz(l,t){const i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z)&&(l.uniform3f(this.addr,t.x,t.y,t.z),i[0]=t.x,i[1]=t.y,i[2]=t.z);else if(t.r!==void 0)(i[0]!==t.r||i[1]!==t.g||i[2]!==t.b)&&(l.uniform3f(this.addr,t.r,t.g,t.b),i[0]=t.r,i[1]=t.g,i[2]=t.b);else{if(Ba(i,t))return;l.uniform3fv(this.addr,t),Ia(i,t)}}function rz(l,t){const i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z||i[3]!==t.w)&&(l.uniform4f(this.addr,t.x,t.y,t.z,t.w),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=t.w);else{if(Ba(i,t))return;l.uniform4fv(this.addr,t),Ia(i,t)}}function nz(l,t){const i=this.cache,s=t.elements;if(s===void 0){if(Ba(i,t))return;l.uniformMatrix2fv(this.addr,!1,t),Ia(i,t)}else{if(Ba(i,s))return;KC.set(s),l.uniformMatrix2fv(this.addr,!1,KC),Ia(i,s)}}function sz(l,t){const i=this.cache,s=t.elements;if(s===void 0){if(Ba(i,t))return;l.uniformMatrix3fv(this.addr,!1,t),Ia(i,t)}else{if(Ba(i,s))return;YC.set(s),l.uniformMatrix3fv(this.addr,!1,YC),Ia(i,s)}}function oz(l,t){const i=this.cache,s=t.elements;if(s===void 0){if(Ba(i,t))return;l.uniformMatrix4fv(this.addr,!1,t),Ia(i,t)}else{if(Ba(i,s))return;ZC.set(s),l.uniformMatrix4fv(this.addr,!1,ZC),Ia(i,s)}}function az(l,t){const i=this.cache;i[0]!==t&&(l.uniform1i(this.addr,t),i[0]=t)}function lz(l,t){const i=this.cache;Ba(i,t)||(l.uniform2iv(this.addr,t),Ia(i,t))}function fz(l,t){const i=this.cache;Ba(i,t)||(l.uniform3iv(this.addr,t),Ia(i,t))}function uz(l,t){const i=this.cache;Ba(i,t)||(l.uniform4iv(this.addr,t),Ia(i,t))}function cz(l,t){const i=this.cache;i[0]!==t&&(l.uniform1ui(this.addr,t),i[0]=t)}function hz(l,t){const i=this.cache;Ba(i,t)||(l.uniform2uiv(this.addr,t),Ia(i,t))}function dz(l,t){const i=this.cache;Ba(i,t)||(l.uniform3uiv(this.addr,t),Ia(i,t))}function pz(l,t){const i=this.cache;Ba(i,t)||(l.uniform4uiv(this.addr,t),Ia(i,t))}function mz(l,t,i){const s=this.cache,u=i.allocateTextureUnit();s[0]!==u&&(l.uniform1i(this.addr,u),s[0]=u),i.setTexture2D(t||M7,u)}function gz(l,t,i){const s=this.cache,u=i.allocateTextureUnit();s[0]!==u&&(l.uniform1i(this.addr,u),s[0]=u),i.setTexture3D(t||B7,u)}function bz(l,t,i){const s=this.cache,u=i.allocateTextureUnit();s[0]!==u&&(l.uniform1i(this.addr,u),s[0]=u),i.setTextureCube(t||I7,u)}function yz(l,t,i){const s=this.cache,u=i.allocateTextureUnit();s[0]!==u&&(l.uniform1i(this.addr,u),s[0]=u),i.setTexture2DArray(t||R7,u)}function Az(l){switch(l){case 5126:return ez;case 35664:return tz;case 35665:return iz;case 35666:return rz;case 35674:return nz;case 35675:return sz;case 35676:return oz;case 5124:case 35670:return az;case 35667:case 35671:return lz;case 35668:case 35672:return fz;case 35669:case 35673:return uz;case 5125:return cz;case 36294:return hz;case 36295:return dz;case 36296:return pz;case 35678:case 36198:case 36298:case 36306:case 35682:return mz;case 35679:case 36299:case 36307:return gz;case 35680:case 36300:case 36308:case 36293:return bz;case 36289:case 36303:case 36311:case 36292:return yz}}function vz(l,t){l.uniform1fv(this.addr,t)}function wz(l,t){const i=d1(t,this.size,2);l.uniform2fv(this.addr,i)}function xz(l,t){const i=d1(t,this.size,3);l.uniform3fv(this.addr,i)}function Ez(l,t){const i=d1(t,this.size,4);l.uniform4fv(this.addr,i)}function _z(l,t){const i=d1(t,this.size,4);l.uniformMatrix2fv(this.addr,!1,i)}function kz(l,t){const i=d1(t,this.size,9);l.uniformMatrix3fv(this.addr,!1,i)}function Cz(l,t){const i=d1(t,this.size,16);l.uniformMatrix4fv(this.addr,!1,i)}function Sz(l,t){l.uniform1iv(this.addr,t)}function Tz(l,t){l.uniform2iv(this.addr,t)}function Mz(l,t){l.uniform3iv(this.addr,t)}function Rz(l,t){l.uniform4iv(this.addr,t)}function Bz(l,t){l.uniform1uiv(this.addr,t)}function Iz(l,t){l.uniform2uiv(this.addr,t)}function Dz(l,t){l.uniform3uiv(this.addr,t)}function Pz(l,t){l.uniform4uiv(this.addr,t)}function Lz(l,t,i){const s=t.length,u=M4(i,s);l.uniform1iv(this.addr,u);for(let p=0;p!==s;++p)i.setTexture2D(t[p]||M7,u[p])}function Nz(l,t,i){const s=t.length,u=M4(i,s);l.uniform1iv(this.addr,u);for(let p=0;p!==s;++p)i.setTexture3D(t[p]||B7,u[p])}function Fz(l,t,i){const s=t.length,u=M4(i,s);l.uniform1iv(this.addr,u);for(let p=0;p!==s;++p)i.setTextureCube(t[p]||I7,u[p])}function Oz(l,t,i){const s=t.length,u=M4(i,s);l.uniform1iv(this.addr,u);for(let p=0;p!==s;++p)i.setTexture2DArray(t[p]||R7,u[p])}function Hz(l){switch(l){case 5126:return vz;case 35664:return wz;case 35665:return xz;case 35666:return Ez;case 35674:return _z;case 35675:return kz;case 35676:return Cz;case 5124:case 35670:return Sz;case 35667:case 35671:return Tz;case 35668:case 35672:return Mz;case 35669:case 35673:return Rz;case 5125:return Bz;case 36294:return Iz;case 36295:return Dz;case 36296:return Pz;case 35678:case 36198:case 36298:case 36306:case 35682:return Lz;case 35679:case 36299:case 36307:return Nz;case 35680:case 36300:case 36308:case 36293:return Fz;case 36289:case 36303:case 36311:case 36292:return Oz}}function Uz(l,t,i){this.id=l,this.addr=i,this.cache=[],this.setValue=Az(t.type)}function Vz(l,t,i){this.id=l,this.addr=i,this.cache=[],this.size=t.size,this.setValue=Hz(t.type)}function D7(l){this.id=l,this.seq=[],this.map={}}D7.prototype.setValue=function(l,t,i){const s=this.seq;for(let u=0,p=s.length;u!==p;++u){const y=s[u];y.setValue(l,t[y.id],i)}};const _3=/(\w+)(\])?(\[|\.)?/g;function $C(l,t){l.seq.push(t),l.map[t.id]=t}function jz(l,t,i){const s=l.name,u=s.length;for(_3.lastIndex=0;;){const p=_3.exec(s),y=_3.lastIndex;let A=p[1];const E=p[2]==="]",_=p[3];if(E&&(A=A|0),_===void 0||_==="["&&y+2===u){$C(i,_===void 0?new Uz(A,l,t):new Vz(A,l,t));break}else{let R=i.map[A];R===void 0&&(R=new D7(A),$C(i,R)),i=R}}}function vh(l,t){this.seq=[],this.map={};const i=l.getProgramParameter(t,35718);for(let s=0;s<i;++s){const u=l.getActiveUniform(t,s),p=l.getUniformLocation(t,u.name);jz(u,p,this)}}vh.prototype.setValue=function(l,t,i,s){const u=this.map[t];u!==void 0&&u.setValue(l,i,s)};vh.prototype.setOptional=function(l,t,i){const s=t[i];s!==void 0&&this.setValue(l,i,s)};vh.upload=function(l,t,i,s){for(let u=0,p=t.length;u!==p;++u){const y=t[u],A=i[y.id];A.needsUpdate!==!1&&y.setValue(l,A.value,s)}};vh.seqWithValue=function(l,t){const i=[];for(let s=0,u=l.length;s!==u;++s){const p=l[s];p.id in t&&i.push(p)}return i};function eS(l,t,i){const s=l.createShader(t);return l.shaderSource(s,i),l.compileShader(s),s}let Gz=0;function zz(l,t){const i=l.split(`
`),s=[],u=Math.max(t-6,0),p=Math.min(t+6,i.length);for(let y=u;y<p;y++)s.push(y+1+": "+i[y]);return s.join(`
`)}function Wz(l){switch(l){case oc:return["Linear","( value )"];case b0:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",l),["Linear","( value )"]}}function tS(l,t,i){const s=l.getShaderParameter(t,35713),u=l.getShaderInfoLog(t).trim();if(s&&u==="")return"";const p=/ERROR: 0:(\d+)/.exec(u);if(p){const y=parseInt(p[0]);return i.toUpperCase()+`

`+u+`

`+zz(l.getShaderSource(t),y)}else return u}function Qz(l,t){const i=Wz(t);return"vec4 "+l+"( vec4 value ) { return LinearTo"+i[0]+i[1]+"; }"}function Jz(l,t){let i;switch(t){case V9:i="Linear";break;case j9:i="Reinhard";break;case G9:i="OptimizedCineon";break;case z9:i="ACESFilmic";break;case W9:i="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),i="Linear"}return"vec3 "+l+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function Xz(l){return[l.extensionDerivatives||!!l.envMapCubeUVHeight||l.bumpMap||l.tangentSpaceNormalMap||l.clearcoatNormalMap||l.flatShading||l.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(l.extensionFragDepth||l.logarithmicDepthBuffer)&&l.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",l.extensionDrawBuffers&&l.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(l.extensionShaderTextureLOD||l.envMap||l.transmission)&&l.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(rg).join(`
`)}function qz(l){const t=[];for(const i in l){const s=l[i];s!==!1&&t.push("#define "+i+" "+s)}return t.join(`
`)}function Zz(l,t){const i={},s=l.getProgramParameter(t,35721);for(let u=0;u<s;u++){const p=l.getActiveAttrib(t,u),y=p.name;let A=1;p.type===35674&&(A=2),p.type===35675&&(A=3),p.type===35676&&(A=4),i[y]={type:p.type,location:l.getAttribLocation(t,y),locationSize:A}}return i}function rg(l){return l!==""}function iS(l,t){return l.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function rS(l,t){return l.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Yz=/^[ \t]*#include +<([\w\d./]+)>/gm;function tE(l){return l.replace(Yz,Kz)}function Kz(l,t){const i=s0[t];if(i===void 0)throw new Error("Can not resolve #include <"+t+">");return tE(i)}const $z=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,eW=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function nS(l){return l.replace(eW,P7).replace($z,tW)}function tW(l,t,i,s){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),P7(l,t,i,s)}function P7(l,t,i,s){let u="";for(let p=parseInt(t);p<parseInt(i);p++)u+=s.replace(/\[\s*i\s*\]/g,"[ "+p+" ]").replace(/UNROLLED_LOOP_INDEX/g,p);return u}function sS(l){let t="precision "+l.precision+` float;
precision `+l.precision+" int;";return l.precision==="highp"?t+=`
#define HIGH_PRECISION`:l.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:l.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function iW(l){let t="SHADOWMAP_TYPE_BASIC";return l.shadowMapType===v4?t="SHADOWMAP_TYPE_PCF":l.shadowMapType===v9?t="SHADOWMAP_TYPE_PCF_SOFT":l.shadowMapType===vp&&(t="SHADOWMAP_TYPE_VSM"),t}function rW(l){let t="ENVMAP_TYPE_CUBE";if(l.envMap)switch(l.envMapMode){case xh:case Eh:t="ENVMAP_TYPE_CUBE";break;case u1:t="ENVMAP_TYPE_CUBE_UV";break}return t}function nW(l){let t="ENVMAP_MODE_REFLECTION";if(l.envMap)switch(l.envMapMode){case Eh:t="ENVMAP_MODE_REFRACTION";break}return t}function sW(l){let t="ENVMAP_BLENDING_NONE";if(l.envMap)switch(l.combine){case Vg:t="ENVMAP_BLENDING_MULTIPLY";break;case H9:t="ENVMAP_BLENDING_MIX";break;case U9:t="ENVMAP_BLENDING_ADD";break}return t}function oW(l){const t=l.envMapCubeUVHeight;if(t===null)return null;const i=Math.log2(t)-2,s=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,i),7*16)),texelHeight:s,maxMip:i}}function aW(l,t,i,s){const u=l.getContext(),p=i.defines;let y=i.vertexShader,A=i.fragmentShader;const E=iW(i),_=rW(i),k=nW(i),R=sW(i),P=oW(i),B=i.isWebGL2?"":Xz(i),O=qz(p),H=u.createProgram();let z,Y,ee=i.glslVersion?"#version "+i.glslVersion+`
`:"";i.isRawShaderMaterial?(z=[O].filter(rg).join(`
`),z.length>0&&(z+=`
`),Y=[B,O].filter(rg).join(`
`),Y.length>0&&(Y+=`
`)):(z=[sS(i),"#define SHADER_NAME "+i.shaderName,O,i.instancing?"#define USE_INSTANCING":"",i.instancingColor?"#define USE_INSTANCING_COLOR":"",i.supportsVertexTextures?"#define VERTEX_TEXTURES":"",i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+k:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.displacementMap&&i.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",i.specularColorMap?"#define USE_SPECULARCOLORMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.sheenColorMap?"#define USE_SHEENCOLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&i.flatShading===!1?"#define USE_MORPHNORMALS":"",i.morphColors&&i.isWebGL2?"#define USE_MORPHCOLORS":"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+i.morphTextureStride:"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_COUNT "+i.morphTargetsCount:"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+E:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(rg).join(`
`),Y=[B,sS(i),"#define SHADER_NAME "+i.shaderName,O,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+_:"",i.envMap?"#define "+k:"",i.envMap?"#define "+R:"",P?"#define CUBEUV_TEXEL_WIDTH "+P.texelWidth:"",P?"#define CUBEUV_TEXEL_HEIGHT "+P.texelHeight:"",P?"#define CUBEUV_MAX_MIP "+P.maxMip+".0":"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoat?"#define USE_CLEARCOAT":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",i.specularColorMap?"#define USE_SPECULARCOLORMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaTest?"#define USE_ALPHATEST":"",i.sheen?"#define USE_SHEEN":"",i.sheenColorMap?"#define USE_SHEENCOLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors||i.instancingColor?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+E:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",i.toneMapping!==If?"#define TONE_MAPPING":"",i.toneMapping!==If?s0.tonemapping_pars_fragment:"",i.toneMapping!==If?Jz("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",i.opaque?"#define OPAQUE":"",s0.encodings_pars_fragment,Qz("linearToOutputTexel",i.outputEncoding),i.useDepthPacking?"#define DEPTH_PACKING "+i.depthPacking:"",`
`].filter(rg).join(`
`)),y=tE(y),y=iS(y,i),y=rS(y,i),A=tE(A),A=iS(A,i),A=rS(A,i),y=nS(y),A=nS(A),i.isWebGL2&&i.isRawShaderMaterial!==!0&&(ee=`#version 300 es
`,z=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+z,Y=["#define varying in",i.glslVersion===$5?"":"layout(location = 0) out highp vec4 pc_fragColor;",i.glslVersion===$5?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+Y);const ue=ee+z+y,oe=ee+Y+A,Ae=eS(u,35633,ue),be=eS(u,35632,oe);if(u.attachShader(H,Ae),u.attachShader(H,be),i.index0AttributeName!==void 0?u.bindAttribLocation(H,0,i.index0AttributeName):i.morphTargets===!0&&u.bindAttribLocation(H,0,"position"),u.linkProgram(H),l.debug.checkShaderErrors){const ae=u.getProgramInfoLog(H).trim(),ye=u.getShaderInfoLog(Ae).trim(),ge=u.getShaderInfoLog(be).trim();let we=!0,le=!0;if(u.getProgramParameter(H,35714)===!1){we=!1;const ie=tS(u,Ae,"vertex"),he=tS(u,be,"fragment");console.error("THREE.WebGLProgram: Shader Error "+u.getError()+" - VALIDATE_STATUS "+u.getProgramParameter(H,35715)+`

Program Info Log: `+ae+`
`+ie+`
`+he)}else ae!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ae):(ye===""||ge==="")&&(le=!1);le&&(this.diagnostics={runnable:we,programLog:ae,vertexShader:{log:ye,prefix:z},fragmentShader:{log:ge,prefix:Y}})}u.deleteShader(Ae),u.deleteShader(be);let xe;this.getUniforms=function(){return xe===void 0&&(xe=new vh(u,H)),xe};let ne;return this.getAttributes=function(){return ne===void 0&&(ne=Zz(u,H)),ne},this.destroy=function(){s.releaseStatesOfProgram(this),u.deleteProgram(H),this.program=void 0},this.name=i.shaderName,this.id=Gz++,this.cacheKey=t,this.usedTimes=1,this.program=H,this.vertexShader=Ae,this.fragmentShader=be,this}let lW=0;class fW{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const i=t.vertexShader,s=t.fragmentShader,u=this._getShaderStage(i),p=this._getShaderStage(s),y=this._getShaderCacheForMaterial(t);return y.has(u)===!1&&(y.add(u),u.usedTimes++),y.has(p)===!1&&(y.add(p),p.usedTimes++),this}remove(t){const i=this.materialCache.get(t);for(const s of i)s.usedTimes--,s.usedTimes===0&&this.shaderCache.delete(s.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const i=this.materialCache;return i.has(t)===!1&&i.set(t,new Set),i.get(t)}_getShaderStage(t){const i=this.shaderCache;if(i.has(t)===!1){const s=new uW(t);i.set(t,s)}return i.get(t)}}class uW{constructor(t){this.id=lW++,this.code=t,this.usedTimes=0}}function cW(l,t,i,s,u,p,y){const A=new _4,E=new fW,_=[],k=u.isWebGL2,R=u.logarithmicDepthBuffer,P=u.vertexTextures;let B=u.precision;const O={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function H(ne,ae,ye,ge,we){const le=ge.fog,ie=we.geometry,he=ne.isMeshStandardMaterial?ge.environment:null,de=(ne.isMeshStandardMaterial?i:t).get(ne.envMap||he),Se=!!de&&de.mapping===u1?de.image.height:null,Be=O[ne.type];ne.precision!==null&&(B=u.getMaxPrecision(ne.precision),B!==ne.precision&&console.warn("THREE.WebGLProgram.getParameters:",ne.precision,"not supported, using",B,"instead."));const Le=ie.morphAttributes.position||ie.morphAttributes.normal||ie.morphAttributes.color,nt=Le!==void 0?Le.length:0;let He=0;ie.morphAttributes.position!==void 0&&(He=1),ie.morphAttributes.normal!==void 0&&(He=2),ie.morphAttributes.color!==void 0&&(He=3);let ce,Re,lt,Te;if(Be){const kt=Tf[Be];ce=kt.vertexShader,Re=kt.fragmentShader}else ce=ne.vertexShader,Re=ne.fragmentShader,E.update(ne),lt=E.getVertexShaderID(ne),Te=E.getFragmentShaderID(ne);const Ye=l.getRenderTarget(),mt=ne.alphaTest>0,$e=ne.clearcoat>0;return{isWebGL2:k,shaderID:Be,shaderName:ne.type,vertexShader:ce,fragmentShader:Re,defines:ne.defines,customVertexShaderID:lt,customFragmentShaderID:Te,isRawShaderMaterial:ne.isRawShaderMaterial===!0,glslVersion:ne.glslVersion,precision:B,instancing:we.isInstancedMesh===!0,instancingColor:we.isInstancedMesh===!0&&we.instanceColor!==null,supportsVertexTextures:P,outputEncoding:Ye===null?l.outputEncoding:Ye.isXRRenderTarget===!0?Ye.texture.encoding:oc,map:!!ne.map,matcap:!!ne.matcap,envMap:!!de,envMapMode:de&&de.mapping,envMapCubeUVHeight:Se,lightMap:!!ne.lightMap,aoMap:!!ne.aoMap,emissiveMap:!!ne.emissiveMap,bumpMap:!!ne.bumpMap,normalMap:!!ne.normalMap,objectSpaceNormalMap:ne.normalMapType===h7,tangentSpaceNormalMap:ne.normalMapType===i2,decodeVideoTexture:!!ne.map&&ne.map.isVideoTexture===!0&&ne.map.encoding===b0,clearcoat:$e,clearcoatMap:$e&&!!ne.clearcoatMap,clearcoatRoughnessMap:$e&&!!ne.clearcoatRoughnessMap,clearcoatNormalMap:$e&&!!ne.clearcoatNormalMap,displacementMap:!!ne.displacementMap,roughnessMap:!!ne.roughnessMap,metalnessMap:!!ne.metalnessMap,specularMap:!!ne.specularMap,specularIntensityMap:!!ne.specularIntensityMap,specularColorMap:!!ne.specularColorMap,opaque:ne.transparent===!1&&ne.blending===Nd,alphaMap:!!ne.alphaMap,alphaTest:mt,gradientMap:!!ne.gradientMap,sheen:ne.sheen>0,sheenColorMap:!!ne.sheenColorMap,sheenRoughnessMap:!!ne.sheenRoughnessMap,transmission:ne.transmission>0,transmissionMap:!!ne.transmissionMap,thicknessMap:!!ne.thicknessMap,combine:ne.combine,vertexTangents:!!ne.normalMap&&!!ie.attributes.tangent,vertexColors:ne.vertexColors,vertexAlphas:ne.vertexColors===!0&&!!ie.attributes.color&&ie.attributes.color.itemSize===4,vertexUvs:!!ne.map||!!ne.bumpMap||!!ne.normalMap||!!ne.specularMap||!!ne.alphaMap||!!ne.emissiveMap||!!ne.roughnessMap||!!ne.metalnessMap||!!ne.clearcoatMap||!!ne.clearcoatRoughnessMap||!!ne.clearcoatNormalMap||!!ne.displacementMap||!!ne.transmissionMap||!!ne.thicknessMap||!!ne.specularIntensityMap||!!ne.specularColorMap||!!ne.sheenColorMap||!!ne.sheenRoughnessMap,uvsVertexOnly:!(!!ne.map||!!ne.bumpMap||!!ne.normalMap||!!ne.specularMap||!!ne.alphaMap||!!ne.emissiveMap||!!ne.roughnessMap||!!ne.metalnessMap||!!ne.clearcoatNormalMap||ne.transmission>0||!!ne.transmissionMap||!!ne.thicknessMap||!!ne.specularIntensityMap||!!ne.specularColorMap||ne.sheen>0||!!ne.sheenColorMap||!!ne.sheenRoughnessMap)&&!!ne.displacementMap,fog:!!le,useFog:ne.fog===!0,fogExp2:le&&le.isFogExp2,flatShading:!!ne.flatShading,sizeAttenuation:ne.sizeAttenuation,logarithmicDepthBuffer:R,skinning:we.isSkinnedMesh===!0,morphTargets:ie.morphAttributes.position!==void 0,morphNormals:ie.morphAttributes.normal!==void 0,morphColors:ie.morphAttributes.color!==void 0,morphTargetsCount:nt,morphTextureStride:He,numDirLights:ae.directional.length,numPointLights:ae.point.length,numSpotLights:ae.spot.length,numRectAreaLights:ae.rectArea.length,numHemiLights:ae.hemi.length,numDirLightShadows:ae.directionalShadowMap.length,numPointLightShadows:ae.pointShadowMap.length,numSpotLightShadows:ae.spotShadowMap.length,numClippingPlanes:y.numPlanes,numClipIntersection:y.numIntersection,dithering:ne.dithering,shadowMapEnabled:l.shadowMap.enabled&&ye.length>0,shadowMapType:l.shadowMap.type,toneMapping:ne.toneMapped?l.toneMapping:If,physicallyCorrectLights:l.physicallyCorrectLights,premultipliedAlpha:ne.premultipliedAlpha,doubleSided:ne.side===Pf,flipSided:ne.side===Qa,useDepthPacking:!!ne.depthPacking,depthPacking:ne.depthPacking||0,index0AttributeName:ne.index0AttributeName,extensionDerivatives:ne.extensions&&ne.extensions.derivatives,extensionFragDepth:ne.extensions&&ne.extensions.fragDepth,extensionDrawBuffers:ne.extensions&&ne.extensions.drawBuffers,extensionShaderTextureLOD:ne.extensions&&ne.extensions.shaderTextureLOD,rendererExtensionFragDepth:k||s.has("EXT_frag_depth"),rendererExtensionDrawBuffers:k||s.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:k||s.has("EXT_shader_texture_lod"),customProgramCacheKey:ne.customProgramCacheKey()}}function z(ne){const ae=[];if(ne.shaderID?ae.push(ne.shaderID):(ae.push(ne.customVertexShaderID),ae.push(ne.customFragmentShaderID)),ne.defines!==void 0)for(const ye in ne.defines)ae.push(ye),ae.push(ne.defines[ye]);return ne.isRawShaderMaterial===!1&&(Y(ae,ne),ee(ae,ne),ae.push(l.outputEncoding)),ae.push(ne.customProgramCacheKey),ae.join()}function Y(ne,ae){ne.push(ae.precision),ne.push(ae.outputEncoding),ne.push(ae.envMapMode),ne.push(ae.envMapCubeUVHeight),ne.push(ae.combine),ne.push(ae.vertexUvs),ne.push(ae.fogExp2),ne.push(ae.sizeAttenuation),ne.push(ae.morphTargetsCount),ne.push(ae.morphAttributeCount),ne.push(ae.numDirLights),ne.push(ae.numPointLights),ne.push(ae.numSpotLights),ne.push(ae.numHemiLights),ne.push(ae.numRectAreaLights),ne.push(ae.numDirLightShadows),ne.push(ae.numPointLightShadows),ne.push(ae.numSpotLightShadows),ne.push(ae.shadowMapType),ne.push(ae.toneMapping),ne.push(ae.numClippingPlanes),ne.push(ae.numClipIntersection),ne.push(ae.depthPacking)}function ee(ne,ae){A.disableAll(),ae.isWebGL2&&A.enable(0),ae.supportsVertexTextures&&A.enable(1),ae.instancing&&A.enable(2),ae.instancingColor&&A.enable(3),ae.map&&A.enable(4),ae.matcap&&A.enable(5),ae.envMap&&A.enable(6),ae.lightMap&&A.enable(7),ae.aoMap&&A.enable(8),ae.emissiveMap&&A.enable(9),ae.bumpMap&&A.enable(10),ae.normalMap&&A.enable(11),ae.objectSpaceNormalMap&&A.enable(12),ae.tangentSpaceNormalMap&&A.enable(13),ae.clearcoat&&A.enable(14),ae.clearcoatMap&&A.enable(15),ae.clearcoatRoughnessMap&&A.enable(16),ae.clearcoatNormalMap&&A.enable(17),ae.displacementMap&&A.enable(18),ae.specularMap&&A.enable(19),ae.roughnessMap&&A.enable(20),ae.metalnessMap&&A.enable(21),ae.gradientMap&&A.enable(22),ae.alphaMap&&A.enable(23),ae.alphaTest&&A.enable(24),ae.vertexColors&&A.enable(25),ae.vertexAlphas&&A.enable(26),ae.vertexUvs&&A.enable(27),ae.vertexTangents&&A.enable(28),ae.uvsVertexOnly&&A.enable(29),ae.fog&&A.enable(30),ne.push(A.mask),A.disableAll(),ae.useFog&&A.enable(0),ae.flatShading&&A.enable(1),ae.logarithmicDepthBuffer&&A.enable(2),ae.skinning&&A.enable(3),ae.morphTargets&&A.enable(4),ae.morphNormals&&A.enable(5),ae.morphColors&&A.enable(6),ae.premultipliedAlpha&&A.enable(7),ae.shadowMapEnabled&&A.enable(8),ae.physicallyCorrectLights&&A.enable(9),ae.doubleSided&&A.enable(10),ae.flipSided&&A.enable(11),ae.useDepthPacking&&A.enable(12),ae.dithering&&A.enable(13),ae.specularIntensityMap&&A.enable(14),ae.specularColorMap&&A.enable(15),ae.transmission&&A.enable(16),ae.transmissionMap&&A.enable(17),ae.thicknessMap&&A.enable(18),ae.sheen&&A.enable(19),ae.sheenColorMap&&A.enable(20),ae.sheenRoughnessMap&&A.enable(21),ae.decodeVideoTexture&&A.enable(22),ae.opaque&&A.enable(23),ne.push(A.mask)}function ue(ne){const ae=O[ne.type];let ye;if(ae){const ge=Tf[ae];ye=S7.clone(ge.uniforms)}else ye=ne.uniforms;return ye}function oe(ne,ae){let ye;for(let ge=0,we=_.length;ge<we;ge++){const le=_[ge];if(le.cacheKey===ae){ye=le,++ye.usedTimes;break}}return ye===void 0&&(ye=new aW(l,ae,ne,p),_.push(ye)),ye}function Ae(ne){if(--ne.usedTimes===0){const ae=_.indexOf(ne);_[ae]=_[_.length-1],_.pop(),ne.destroy()}}function be(ne){E.remove(ne)}function xe(){E.dispose()}return{getParameters:H,getProgramCacheKey:z,getUniforms:ue,acquireProgram:oe,releaseProgram:Ae,releaseShaderCache:be,programs:_,dispose:xe}}function hW(){let l=new WeakMap;function t(p){let y=l.get(p);return y===void 0&&(y={},l.set(p,y)),y}function i(p){l.delete(p)}function s(p,y,A){l.get(p)[y]=A}function u(){l=new WeakMap}return{get:t,remove:i,update:s,dispose:u}}function dW(l,t){return l.groupOrder!==t.groupOrder?l.groupOrder-t.groupOrder:l.renderOrder!==t.renderOrder?l.renderOrder-t.renderOrder:l.material.id!==t.material.id?l.material.id-t.material.id:l.z!==t.z?l.z-t.z:l.id-t.id}function oS(l,t){return l.groupOrder!==t.groupOrder?l.groupOrder-t.groupOrder:l.renderOrder!==t.renderOrder?l.renderOrder-t.renderOrder:l.z!==t.z?t.z-l.z:l.id-t.id}function aS(){const l=[];let t=0;const i=[],s=[],u=[];function p(){t=0,i.length=0,s.length=0,u.length=0}function y(R,P,B,O,H,z){let Y=l[t];return Y===void 0?(Y={id:R.id,object:R,geometry:P,material:B,groupOrder:O,renderOrder:R.renderOrder,z:H,group:z},l[t]=Y):(Y.id=R.id,Y.object=R,Y.geometry=P,Y.material=B,Y.groupOrder=O,Y.renderOrder=R.renderOrder,Y.z=H,Y.group=z),t++,Y}function A(R,P,B,O,H,z){const Y=y(R,P,B,O,H,z);B.transmission>0?s.push(Y):B.transparent===!0?u.push(Y):i.push(Y)}function E(R,P,B,O,H,z){const Y=y(R,P,B,O,H,z);B.transmission>0?s.unshift(Y):B.transparent===!0?u.unshift(Y):i.unshift(Y)}function _(R,P){i.length>1&&i.sort(R||dW),s.length>1&&s.sort(P||oS),u.length>1&&u.sort(P||oS)}function k(){for(let R=t,P=l.length;R<P;R++){const B=l[R];if(B.id===null)break;B.id=null,B.object=null,B.geometry=null,B.material=null,B.group=null}}return{opaque:i,transmissive:s,transparent:u,init:p,push:A,unshift:E,finish:k,sort:_}}function pW(){let l=new WeakMap;function t(s,u){let p;return l.has(s)===!1?(p=new aS,l.set(s,[p])):u>=l.get(s).length?(p=new aS,l.get(s).push(p)):p=l.get(s)[u],p}function i(){l=new WeakMap}return{get:t,dispose:i}}function mW(){const l={};return{get:function(t){if(l[t.id]!==void 0)return l[t.id];let i;switch(t.type){case"DirectionalLight":i={direction:new wt,color:new _r};break;case"SpotLight":i={position:new wt,direction:new wt,color:new _r,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":i={position:new wt,color:new _r,distance:0,decay:0};break;case"HemisphereLight":i={direction:new wt,skyColor:new _r,groundColor:new _r};break;case"RectAreaLight":i={color:new _r,position:new wt,halfWidth:new wt,halfHeight:new wt};break}return l[t.id]=i,i}}}function gW(){const l={};return{get:function(t){if(l[t.id]!==void 0)return l[t.id];let i;switch(t.type){case"DirectionalLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Yi};break;case"SpotLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Yi};break;case"PointLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Yi,shadowCameraNear:1,shadowCameraFar:1e3};break}return l[t.id]=i,i}}}let bW=0;function yW(l,t){return(t.castShadow?1:0)-(l.castShadow?1:0)}function AW(l,t){const i=new mW,s=gW(),u={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let k=0;k<9;k++)u.probe.push(new wt);const p=new wt,y=new Jr,A=new Jr;function E(k,R){let P=0,B=0,O=0;for(let ae=0;ae<9;ae++)u.probe[ae].set(0,0,0);let H=0,z=0,Y=0,ee=0,ue=0,oe=0,Ae=0,be=0;k.sort(yW);const xe=R!==!0?Math.PI:1;for(let ae=0,ye=k.length;ae<ye;ae++){const ge=k[ae],we=ge.color,le=ge.intensity,ie=ge.distance,he=ge.shadow&&ge.shadow.map?ge.shadow.map.texture:null;if(ge.isAmbientLight)P+=we.r*le*xe,B+=we.g*le*xe,O+=we.b*le*xe;else if(ge.isLightProbe)for(let de=0;de<9;de++)u.probe[de].addScaledVector(ge.sh.coefficients[de],le);else if(ge.isDirectionalLight){const de=i.get(ge);if(de.color.copy(ge.color).multiplyScalar(ge.intensity*xe),ge.castShadow){const Se=ge.shadow,Be=s.get(ge);Be.shadowBias=Se.bias,Be.shadowNormalBias=Se.normalBias,Be.shadowRadius=Se.radius,Be.shadowMapSize=Se.mapSize,u.directionalShadow[H]=Be,u.directionalShadowMap[H]=he,u.directionalShadowMatrix[H]=ge.shadow.matrix,oe++}u.directional[H]=de,H++}else if(ge.isSpotLight){const de=i.get(ge);if(de.position.setFromMatrixPosition(ge.matrixWorld),de.color.copy(we).multiplyScalar(le*xe),de.distance=ie,de.coneCos=Math.cos(ge.angle),de.penumbraCos=Math.cos(ge.angle*(1-ge.penumbra)),de.decay=ge.decay,ge.castShadow){const Se=ge.shadow,Be=s.get(ge);Be.shadowBias=Se.bias,Be.shadowNormalBias=Se.normalBias,Be.shadowRadius=Se.radius,Be.shadowMapSize=Se.mapSize,u.spotShadow[Y]=Be,u.spotShadowMap[Y]=he,u.spotShadowMatrix[Y]=ge.shadow.matrix,be++}u.spot[Y]=de,Y++}else if(ge.isRectAreaLight){const de=i.get(ge);de.color.copy(we).multiplyScalar(le),de.halfWidth.set(ge.width*.5,0,0),de.halfHeight.set(0,ge.height*.5,0),u.rectArea[ee]=de,ee++}else if(ge.isPointLight){const de=i.get(ge);if(de.color.copy(ge.color).multiplyScalar(ge.intensity*xe),de.distance=ge.distance,de.decay=ge.decay,ge.castShadow){const Se=ge.shadow,Be=s.get(ge);Be.shadowBias=Se.bias,Be.shadowNormalBias=Se.normalBias,Be.shadowRadius=Se.radius,Be.shadowMapSize=Se.mapSize,Be.shadowCameraNear=Se.camera.near,Be.shadowCameraFar=Se.camera.far,u.pointShadow[z]=Be,u.pointShadowMap[z]=he,u.pointShadowMatrix[z]=ge.shadow.matrix,Ae++}u.point[z]=de,z++}else if(ge.isHemisphereLight){const de=i.get(ge);de.skyColor.copy(ge.color).multiplyScalar(le*xe),de.groundColor.copy(ge.groundColor).multiplyScalar(le*xe),u.hemi[ue]=de,ue++}}ee>0&&(t.isWebGL2||l.has("OES_texture_float_linear")===!0?(u.rectAreaLTC1=Or.LTC_FLOAT_1,u.rectAreaLTC2=Or.LTC_FLOAT_2):l.has("OES_texture_half_float_linear")===!0?(u.rectAreaLTC1=Or.LTC_HALF_1,u.rectAreaLTC2=Or.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),u.ambient[0]=P,u.ambient[1]=B,u.ambient[2]=O;const ne=u.hash;(ne.directionalLength!==H||ne.pointLength!==z||ne.spotLength!==Y||ne.rectAreaLength!==ee||ne.hemiLength!==ue||ne.numDirectionalShadows!==oe||ne.numPointShadows!==Ae||ne.numSpotShadows!==be)&&(u.directional.length=H,u.spot.length=Y,u.rectArea.length=ee,u.point.length=z,u.hemi.length=ue,u.directionalShadow.length=oe,u.directionalShadowMap.length=oe,u.pointShadow.length=Ae,u.pointShadowMap.length=Ae,u.spotShadow.length=be,u.spotShadowMap.length=be,u.directionalShadowMatrix.length=oe,u.pointShadowMatrix.length=Ae,u.spotShadowMatrix.length=be,ne.directionalLength=H,ne.pointLength=z,ne.spotLength=Y,ne.rectAreaLength=ee,ne.hemiLength=ue,ne.numDirectionalShadows=oe,ne.numPointShadows=Ae,ne.numSpotShadows=be,u.version=bW++)}function _(k,R){let P=0,B=0,O=0,H=0,z=0;const Y=R.matrixWorldInverse;for(let ee=0,ue=k.length;ee<ue;ee++){const oe=k[ee];if(oe.isDirectionalLight){const Ae=u.directional[P];Ae.direction.setFromMatrixPosition(oe.matrixWorld),p.setFromMatrixPosition(oe.target.matrixWorld),Ae.direction.sub(p),Ae.direction.transformDirection(Y),P++}else if(oe.isSpotLight){const Ae=u.spot[O];Ae.position.setFromMatrixPosition(oe.matrixWorld),Ae.position.applyMatrix4(Y),Ae.direction.setFromMatrixPosition(oe.matrixWorld),p.setFromMatrixPosition(oe.target.matrixWorld),Ae.direction.sub(p),Ae.direction.transformDirection(Y),O++}else if(oe.isRectAreaLight){const Ae=u.rectArea[H];Ae.position.setFromMatrixPosition(oe.matrixWorld),Ae.position.applyMatrix4(Y),A.identity(),y.copy(oe.matrixWorld),y.premultiply(Y),A.extractRotation(y),Ae.halfWidth.set(oe.width*.5,0,0),Ae.halfHeight.set(0,oe.height*.5,0),Ae.halfWidth.applyMatrix4(A),Ae.halfHeight.applyMatrix4(A),H++}else if(oe.isPointLight){const Ae=u.point[B];Ae.position.setFromMatrixPosition(oe.matrixWorld),Ae.position.applyMatrix4(Y),B++}else if(oe.isHemisphereLight){const Ae=u.hemi[z];Ae.direction.setFromMatrixPosition(oe.matrixWorld),Ae.direction.transformDirection(Y),z++}}}return{setup:E,setupView:_,state:u}}function lS(l,t){const i=new AW(l,t),s=[],u=[];function p(){s.length=0,u.length=0}function y(R){s.push(R)}function A(R){u.push(R)}function E(R){i.setup(s,R)}function _(R){i.setupView(s,R)}return{init:p,state:{lightsArray:s,shadowsArray:u,lights:i},setupLights:E,setupLightsView:_,pushLight:y,pushShadow:A}}function vW(l,t){let i=new WeakMap;function s(p,y=0){let A;return i.has(p)===!1?(A=new lS(l,t),i.set(p,[A])):y>=i.get(p).length?(A=new lS(l,t),i.get(p).push(A)):A=i.get(p)[y],A}function u(){i=new WeakMap}return{get:s,dispose:u}}class R4 extends Bs{constructor(t){super(),this.type="MeshDepthMaterial",this.depthPacking=WE,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}R4.prototype.isMeshDepthMaterial=!0;class B4 extends Bs{constructor(t){super(),this.type="MeshDistanceMaterial",this.referencePosition=new wt,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}B4.prototype.isMeshDistanceMaterial=!0;const wW=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,xW=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function L7(l,t,i){let s=new zg;const u=new Yi,p=new Yi,y=new V0,A=new R4({depthPacking:QE}),E=new B4,_={},k=i.maxTextureSize,R={0:Qa,1:wh,2:Pf},P=new Tl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Yi},radius:{value:4}},vertexShader:wW,fragmentShader:xW}),B=P.clone();B.defines.HORIZONTAL_PASS=1;const O=new vn;O.setAttribute("position",new d0(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const H=new ir(O,P),z=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=v4,this.render=function(oe,Ae,be){if(z.enabled===!1||z.autoUpdate===!1&&z.needsUpdate===!1||oe.length===0)return;const xe=l.getRenderTarget(),ne=l.getActiveCubeFace(),ae=l.getActiveMipmapLevel(),ye=l.state;ye.setBlending(nc),ye.buffers.color.setClear(1,1,1,1),ye.buffers.depth.setTest(!0),ye.setScissorTest(!1);for(let ge=0,we=oe.length;ge<we;ge++){const le=oe[ge],ie=le.shadow;if(ie===void 0){console.warn("THREE.WebGLShadowMap:",le,"has no shadow.");continue}if(ie.autoUpdate===!1&&ie.needsUpdate===!1)continue;u.copy(ie.mapSize);const he=ie.getFrameExtents();if(u.multiply(he),p.copy(ie.mapSize),(u.x>k||u.y>k)&&(u.x>k&&(p.x=Math.floor(k/he.x),u.x=p.x*he.x,ie.mapSize.x=p.x),u.y>k&&(p.y=Math.floor(k/he.y),u.y=p.y*he.y,ie.mapSize.y=p.y)),ie.map===null&&!ie.isPointLightShadow&&this.type===vp&&(ie.map=new Ta(u.x,u.y),ie.map.texture.name=le.name+".shadowMap",ie.mapPass=new Ta(u.x,u.y),ie.camera.updateProjectionMatrix()),ie.map===null){const Se={minFilter:so,magFilter:so,format:wl};ie.map=new Ta(u.x,u.y,Se),ie.map.texture.name=le.name+".shadowMap",ie.camera.updateProjectionMatrix()}l.setRenderTarget(ie.map),l.clear();const de=ie.getViewportCount();for(let Se=0;Se<de;Se++){const Be=ie.getViewport(Se);y.set(p.x*Be.x,p.y*Be.y,p.x*Be.z,p.y*Be.w),ye.viewport(y),ie.updateMatrices(le,Se),s=ie.getFrustum(),ue(Ae,be,ie.camera,le,this.type)}!ie.isPointLightShadow&&this.type===vp&&Y(ie,be),ie.needsUpdate=!1}z.needsUpdate=!1,l.setRenderTarget(xe,ne,ae)};function Y(oe,Ae){const be=t.update(H);P.defines.VSM_SAMPLES!==oe.blurSamples&&(P.defines.VSM_SAMPLES=oe.blurSamples,B.defines.VSM_SAMPLES=oe.blurSamples,P.needsUpdate=!0,B.needsUpdate=!0),P.uniforms.shadow_pass.value=oe.map.texture,P.uniforms.resolution.value=oe.mapSize,P.uniforms.radius.value=oe.radius,l.setRenderTarget(oe.mapPass),l.clear(),l.renderBufferDirect(Ae,null,be,P,H,null),B.uniforms.shadow_pass.value=oe.mapPass.texture,B.uniforms.resolution.value=oe.mapSize,B.uniforms.radius.value=oe.radius,l.setRenderTarget(oe.map),l.clear(),l.renderBufferDirect(Ae,null,be,B,H,null)}function ee(oe,Ae,be,xe,ne,ae){let ye=null;const ge=be.isPointLight===!0?oe.customDistanceMaterial:oe.customDepthMaterial;if(ge!==void 0?ye=ge:ye=be.isPointLight===!0?E:A,l.localClippingEnabled&&Ae.clipShadows===!0&&Ae.clippingPlanes.length!==0||Ae.displacementMap&&Ae.displacementScale!==0||Ae.alphaMap&&Ae.alphaTest>0){const we=ye.uuid,le=Ae.uuid;let ie=_[we];ie===void 0&&(ie={},_[we]=ie);let he=ie[le];he===void 0&&(he=ye.clone(),ie[le]=he),ye=he}return ye.visible=Ae.visible,ye.wireframe=Ae.wireframe,ae===vp?ye.side=Ae.shadowSide!==null?Ae.shadowSide:Ae.side:ye.side=Ae.shadowSide!==null?Ae.shadowSide:R[Ae.side],ye.alphaMap=Ae.alphaMap,ye.alphaTest=Ae.alphaTest,ye.clipShadows=Ae.clipShadows,ye.clippingPlanes=Ae.clippingPlanes,ye.clipIntersection=Ae.clipIntersection,ye.displacementMap=Ae.displacementMap,ye.displacementScale=Ae.displacementScale,ye.displacementBias=Ae.displacementBias,ye.wireframeLinewidth=Ae.wireframeLinewidth,ye.linewidth=Ae.linewidth,be.isPointLight===!0&&ye.isMeshDistanceMaterial===!0&&(ye.referencePosition.setFromMatrixPosition(be.matrixWorld),ye.nearDistance=xe,ye.farDistance=ne),ye}function ue(oe,Ae,be,xe,ne){if(oe.visible===!1)return;if(oe.layers.test(Ae.layers)&&(oe.isMesh||oe.isLine||oe.isPoints)&&(oe.castShadow||oe.receiveShadow&&ne===vp)&&(!oe.frustumCulled||s.intersectsObject(oe))){oe.modelViewMatrix.multiplyMatrices(be.matrixWorldInverse,oe.matrixWorld);const ge=t.update(oe),we=oe.material;if(Array.isArray(we)){const le=ge.groups;for(let ie=0,he=le.length;ie<he;ie++){const de=le[ie],Se=we[de.materialIndex];if(Se&&Se.visible){const Be=ee(oe,Se,xe,be.near,be.far,ne);l.renderBufferDirect(be,null,ge,Be,oe,de)}}}else if(we.visible){const le=ee(oe,we,xe,be.near,be.far,ne);l.renderBufferDirect(be,null,ge,le,oe,null)}}const ye=oe.children;for(let ge=0,we=ye.length;ge<we;ge++)ue(ye[ge],Ae,be,xe,ne)}}function EW(l,t,i){const s=i.isWebGL2;function u(){let yt=!1;const Di=new V0;let Tt=null;const Ot=new V0(0,0,0,0);return{setMask:function(li){Tt!==li&&!yt&&(l.colorMask(li,li,li,li),Tt=li)},setLocked:function(li){yt=li},setClear:function(li,Ti,Ui,gr,kr){kr===!0&&(li*=gr,Ti*=gr,Ui*=gr),Di.set(li,Ti,Ui,gr),Ot.equals(Di)===!1&&(l.clearColor(li,Ti,Ui,gr),Ot.copy(Di))},reset:function(){yt=!1,Tt=null,Ot.set(-1,0,0,0)}}}function p(){let yt=!1,Di=null,Tt=null,Ot=null;return{setTest:function(li){li?Te(2929):Ye(2929)},setMask:function(li){Di!==li&&!yt&&(l.depthMask(li),Di=li)},setFunc:function(li){if(Tt!==li){if(li)switch(li){case D9:l.depthFunc(512);break;case jE:l.depthFunc(519);break;case P9:l.depthFunc(513);break;case Yv:l.depthFunc(515);break;case L9:l.depthFunc(514);break;case N9:l.depthFunc(518);break;case F9:l.depthFunc(516);break;case O9:l.depthFunc(517);break;default:l.depthFunc(515)}else l.depthFunc(515);Tt=li}},setLocked:function(li){yt=li},setClear:function(li){Ot!==li&&(l.clearDepth(li),Ot=li)},reset:function(){yt=!1,Di=null,Tt=null,Ot=null}}}function y(){let yt=!1,Di=null,Tt=null,Ot=null,li=null,Ti=null,Ui=null,gr=null,kr=null;return{setTest:function(mr){yt||(mr?Te(2960):Ye(2960))},setMask:function(mr){Di!==mr&&!yt&&(l.stencilMask(mr),Di=mr)},setFunc:function(mr,Fe,Ze){(Tt!==mr||Ot!==Fe||li!==Ze)&&(l.stencilFunc(mr,Fe,Ze),Tt=mr,Ot=Fe,li=Ze)},setOp:function(mr,Fe,Ze){(Ti!==mr||Ui!==Fe||gr!==Ze)&&(l.stencilOp(mr,Fe,Ze),Ti=mr,Ui=Fe,gr=Ze)},setLocked:function(mr){yt=mr},setClear:function(mr){kr!==mr&&(l.clearStencil(mr),kr=mr)},reset:function(){yt=!1,Di=null,Tt=null,Ot=null,li=null,Ti=null,Ui=null,gr=null,kr=null}}}const A=new u,E=new p,_=new y;let k={},R={},P=new WeakMap,B=[],O=null,H=!1,z=null,Y=null,ee=null,ue=null,oe=null,Ae=null,be=null,xe=!1,ne=null,ae=null,ye=null,ge=null,we=null;const le=l.getParameter(35661);let ie=!1,he=0;const de=l.getParameter(7938);de.indexOf("WebGL")!==-1?(he=parseFloat(/^WebGL (\d)/.exec(de)[1]),ie=he>=1):de.indexOf("OpenGL ES")!==-1&&(he=parseFloat(/^OpenGL ES (\d)/.exec(de)[1]),ie=he>=2);let Se=null,Be={};const Le=l.getParameter(3088),nt=l.getParameter(2978),He=new V0().fromArray(Le),ce=new V0().fromArray(nt);function Re(yt,Di,Tt){const Ot=new Uint8Array(4),li=l.createTexture();l.bindTexture(yt,li),l.texParameteri(yt,10241,9728),l.texParameteri(yt,10240,9728);for(let Ti=0;Ti<Tt;Ti++)l.texImage2D(Di+Ti,0,6408,1,1,0,6408,5121,Ot);return li}const lt={};lt[3553]=Re(3553,3553,1),lt[34067]=Re(34067,34069,6),A.setClear(0,0,0,1),E.setClear(1),_.setClear(0),Te(2929),E.setFunc(Yv),$t(!1),vi(C5),Te(2884),Ft(nc);function Te(yt){k[yt]!==!0&&(l.enable(yt),k[yt]=!0)}function Ye(yt){k[yt]!==!1&&(l.disable(yt),k[yt]=!1)}function mt(yt,Di){return R[yt]!==Di?(l.bindFramebuffer(yt,Di),R[yt]=Di,s&&(yt===36009&&(R[36160]=Di),yt===36160&&(R[36009]=Di)),!0):!1}function $e(yt,Di){let Tt=B,Ot=!1;if(yt)if(Tt=P.get(Di),Tt===void 0&&(Tt=[],P.set(Di,Tt)),yt.isWebGLMultipleRenderTargets){const li=yt.texture;if(Tt.length!==li.length||Tt[0]!==36064){for(let Ti=0,Ui=li.length;Ti<Ui;Ti++)Tt[Ti]=36064+Ti;Tt.length=li.length,Ot=!0}}else Tt[0]!==36064&&(Tt[0]=36064,Ot=!0);else Tt[0]!==1029&&(Tt[0]=1029,Ot=!0);Ot&&(i.isWebGL2?l.drawBuffers(Tt):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(Tt))}function gt(yt){return O!==yt?(l.useProgram(yt),O=yt,!0):!1}const kt={[Bd]:32774,[x9]:32778,[E9]:32779};if(s)kt[R5]=32775,kt[B5]=32776;else{const yt=t.get("EXT_blend_minmax");yt!==null&&(kt[R5]=yt.MIN_EXT,kt[B5]=yt.MAX_EXT)}const Kt={[_9]:0,[k9]:1,[C9]:768,[UE]:770,[I9]:776,[R9]:774,[T9]:772,[S9]:769,[VE]:771,[B9]:775,[M9]:773};function Ft(yt,Di,Tt,Ot,li,Ti,Ui,gr){if(yt===nc){H===!0&&(Ye(3042),H=!1);return}if(H===!1&&(Te(3042),H=!0),yt!==w9){if(yt!==z||gr!==xe){if((Y!==Bd||oe!==Bd)&&(l.blendEquation(32774),Y=Bd,oe=Bd),gr)switch(yt){case Nd:l.blendFuncSeparate(1,771,1,771);break;case S5:l.blendFunc(1,1);break;case T5:l.blendFuncSeparate(0,769,0,1);break;case M5:l.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",yt);break}else switch(yt){case Nd:l.blendFuncSeparate(770,771,1,771);break;case S5:l.blendFunc(770,1);break;case T5:l.blendFuncSeparate(0,769,0,1);break;case M5:l.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",yt);break}ee=null,ue=null,Ae=null,be=null,z=yt,xe=gr}return}li=li||Di,Ti=Ti||Tt,Ui=Ui||Ot,(Di!==Y||li!==oe)&&(l.blendEquationSeparate(kt[Di],kt[li]),Y=Di,oe=li),(Tt!==ee||Ot!==ue||Ti!==Ae||Ui!==be)&&(l.blendFuncSeparate(Kt[Tt],Kt[Ot],Kt[Ti],Kt[Ui]),ee=Tt,ue=Ot,Ae=Ti,be=Ui),z=yt,xe=null}function Yt(yt,Di){yt.side===Pf?Ye(2884):Te(2884);let Tt=yt.side===Qa;Di&&(Tt=!Tt),$t(Tt),yt.blending===Nd&&yt.transparent===!1?Ft(nc):Ft(yt.blending,yt.blendEquation,yt.blendSrc,yt.blendDst,yt.blendEquationAlpha,yt.blendSrcAlpha,yt.blendDstAlpha,yt.premultipliedAlpha),E.setFunc(yt.depthFunc),E.setTest(yt.depthTest),E.setMask(yt.depthWrite),A.setMask(yt.colorWrite);const Ot=yt.stencilWrite;_.setTest(Ot),Ot&&(_.setMask(yt.stencilWriteMask),_.setFunc(yt.stencilFunc,yt.stencilRef,yt.stencilFuncMask),_.setOp(yt.stencilFail,yt.stencilZFail,yt.stencilZPass)),Ki(yt.polygonOffset,yt.polygonOffsetFactor,yt.polygonOffsetUnits),yt.alphaToCoverage===!0?Te(32926):Ye(32926)}function $t(yt){ne!==yt&&(yt?l.frontFace(2304):l.frontFace(2305),ne=yt)}function vi(yt){yt!==y9?(Te(2884),yt!==ae&&(yt===C5?l.cullFace(1029):yt===A9?l.cullFace(1028):l.cullFace(1032))):Ye(2884),ae=yt}function Xi(yt){yt!==ye&&(ie&&l.lineWidth(yt),ye=yt)}function Ki(yt,Di,Tt){yt?(Te(32823),(ge!==Di||we!==Tt)&&(l.polygonOffset(Di,Tt),ge=Di,we=Tt)):Ye(32823)}function or(yt){yt?Te(3089):Ye(3089)}function Et(yt){yt===void 0&&(yt=33984+le-1),Se!==yt&&(l.activeTexture(yt),Se=yt)}function Ct(yt,Di){Se===null&&Et();let Tt=Be[Se];Tt===void 0&&(Tt={type:void 0,texture:void 0},Be[Se]=Tt),(Tt.type!==yt||Tt.texture!==Di)&&(l.bindTexture(yt,Di||lt[yt]),Tt.type=yt,Tt.texture=Di)}function ri(){const yt=Be[Se];yt!==void 0&&yt.type!==void 0&&(l.bindTexture(yt.type,null),yt.type=void 0,yt.texture=void 0)}function pt(){try{l.compressedTexImage2D.apply(l,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function ft(){try{l.texSubImage2D.apply(l,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function Lt(){try{l.texSubImage3D.apply(l,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function ii(){try{l.compressedTexSubImage2D.apply(l,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function bi(){try{l.texStorage2D.apply(l,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function rt(){try{l.texStorage3D.apply(l,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function Pe(){try{l.texImage2D.apply(l,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function Me(){try{l.texImage3D.apply(l,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function bt(yt){He.equals(yt)===!1&&(l.scissor(yt.x,yt.y,yt.z,yt.w),He.copy(yt))}function zt(yt){ce.equals(yt)===!1&&(l.viewport(yt.x,yt.y,yt.z,yt.w),ce.copy(yt))}function It(){l.disable(3042),l.disable(2884),l.disable(2929),l.disable(32823),l.disable(3089),l.disable(2960),l.disable(32926),l.blendEquation(32774),l.blendFunc(1,0),l.blendFuncSeparate(1,0,1,0),l.colorMask(!0,!0,!0,!0),l.clearColor(0,0,0,0),l.depthMask(!0),l.depthFunc(513),l.clearDepth(1),l.stencilMask(4294967295),l.stencilFunc(519,0,4294967295),l.stencilOp(7680,7680,7680),l.clearStencil(0),l.cullFace(1029),l.frontFace(2305),l.polygonOffset(0,0),l.activeTexture(33984),l.bindFramebuffer(36160,null),s===!0&&(l.bindFramebuffer(36009,null),l.bindFramebuffer(36008,null)),l.useProgram(null),l.lineWidth(1),l.scissor(0,0,l.canvas.width,l.canvas.height),l.viewport(0,0,l.canvas.width,l.canvas.height),k={},Se=null,Be={},R={},P=new WeakMap,B=[],O=null,H=!1,z=null,Y=null,ee=null,ue=null,oe=null,Ae=null,be=null,xe=!1,ne=null,ae=null,ye=null,ge=null,we=null,He.set(0,0,l.canvas.width,l.canvas.height),ce.set(0,0,l.canvas.width,l.canvas.height),A.reset(),E.reset(),_.reset()}return{buffers:{color:A,depth:E,stencil:_},enable:Te,disable:Ye,bindFramebuffer:mt,drawBuffers:$e,useProgram:gt,setBlending:Ft,setMaterial:Yt,setFlipSided:$t,setCullFace:vi,setLineWidth:Xi,setPolygonOffset:Ki,setScissorTest:or,activeTexture:Et,bindTexture:Ct,unbindTexture:ri,compressedTexImage2D:pt,texImage2D:Pe,texImage3D:Me,texStorage2D:bi,texStorage3D:rt,texSubImage2D:ft,texSubImage3D:Lt,compressedTexSubImage2D:ii,scissor:bt,viewport:zt,reset:It}}function _W(l,t,i,s,u,p,y){const A=u.isWebGL2,E=u.maxTextures,_=u.maxCubemapSize,k=u.maxTextureSize,R=u.maxSamples,P=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,B=/OculusBrowser/g.test(navigator.userAgent),O=new WeakMap;let H;const z=new WeakMap;let Y=!1;try{Y=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function ee(pt,ft){return Y?new OffscreenCanvas(pt,ft):Sg("canvas")}function ue(pt,ft,Lt,ii){let bi=1;if((pt.width>ii||pt.height>ii)&&(bi=ii/Math.max(pt.width,pt.height)),bi<1||ft===!0)if(typeof HTMLImageElement!="undefined"&&pt instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&pt instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&pt instanceof ImageBitmap){const rt=ft?$v:Math.floor,Pe=rt(bi*pt.width),Me=rt(bi*pt.height);H===void 0&&(H=ee(Pe,Me));const bt=Lt?ee(Pe,Me):H;return bt.width=Pe,bt.height=Me,bt.getContext("2d").drawImage(pt,0,0,Pe,Me),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+pt.width+"x"+pt.height+") to ("+Pe+"x"+Me+")."),bt}else return"data"in pt&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+pt.width+"x"+pt.height+")."),pt;return pt}function oe(pt){return eE(pt.width)&&eE(pt.height)}function Ae(pt){return A?!1:pt.wrapS!==da||pt.wrapT!==da||pt.minFilter!==so&&pt.minFilter!==Es}function be(pt,ft){return pt.generateMipmaps&&ft&&pt.minFilter!==so&&pt.minFilter!==Es}function xe(pt){l.generateMipmap(pt)}function ne(pt,ft,Lt,ii,bi=!1){if(A===!1)return ft;if(pt!==null){if(l[pt]!==void 0)return l[pt];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+pt+"'")}let rt=ft;return ft===6403&&(Lt===5126&&(rt=33326),Lt===5131&&(rt=33325),Lt===5121&&(rt=33321)),ft===33319&&(Lt===5126&&(rt=33328),Lt===5131&&(rt=33327),Lt===5121&&(rt=33323)),ft===6408&&(Lt===5126&&(rt=34836),Lt===5131&&(rt=34842),Lt===5121&&(rt=ii===b0&&bi===!1?35907:32856),Lt===32819&&(rt=32854),Lt===32820&&(rt=32855)),(rt===33325||rt===33326||rt===33327||rt===33328||rt===34842||rt===34836)&&t.get("EXT_color_buffer_float"),rt}function ae(pt,ft,Lt){return be(pt,Lt)===!0||pt.isFramebufferTexture&&pt.minFilter!==so&&pt.minFilter!==Es?Math.log2(Math.max(ft.width,ft.height))+1:pt.mipmaps!==void 0&&pt.mipmaps.length>0?pt.mipmaps.length:pt.isCompressedTexture&&Array.isArray(pt.image)?ft.mipmaps.length:1}function ye(pt){return pt===so||pt===Eg||pt===_g?9728:9729}function ge(pt){const ft=pt.target;ft.removeEventListener("dispose",ge),le(ft),ft.isVideoTexture&&O.delete(ft)}function we(pt){const ft=pt.target;ft.removeEventListener("dispose",we),he(ft)}function le(pt){const ft=s.get(pt);if(ft.__webglInit===void 0)return;const Lt=pt.source,ii=z.get(Lt);if(ii){const bi=ii[ft.__cacheKey];bi.usedTimes--,bi.usedTimes===0&&ie(pt),Object.keys(ii).length===0&&z.delete(Lt)}s.remove(pt)}function ie(pt){const ft=s.get(pt);l.deleteTexture(ft.__webglTexture);const Lt=pt.source,ii=z.get(Lt);delete ii[ft.__cacheKey],y.memory.textures--}function he(pt){const ft=pt.texture,Lt=s.get(pt),ii=s.get(ft);if(ii.__webglTexture!==void 0&&(l.deleteTexture(ii.__webglTexture),y.memory.textures--),pt.depthTexture&&pt.depthTexture.dispose(),pt.isWebGLCubeRenderTarget)for(let bi=0;bi<6;bi++)l.deleteFramebuffer(Lt.__webglFramebuffer[bi]),Lt.__webglDepthbuffer&&l.deleteRenderbuffer(Lt.__webglDepthbuffer[bi]);else l.deleteFramebuffer(Lt.__webglFramebuffer),Lt.__webglDepthbuffer&&l.deleteRenderbuffer(Lt.__webglDepthbuffer),Lt.__webglMultisampledFramebuffer&&l.deleteFramebuffer(Lt.__webglMultisampledFramebuffer),Lt.__webglColorRenderbuffer&&l.deleteRenderbuffer(Lt.__webglColorRenderbuffer),Lt.__webglDepthRenderbuffer&&l.deleteRenderbuffer(Lt.__webglDepthRenderbuffer);if(pt.isWebGLMultipleRenderTargets)for(let bi=0,rt=ft.length;bi<rt;bi++){const Pe=s.get(ft[bi]);Pe.__webglTexture&&(l.deleteTexture(Pe.__webglTexture),y.memory.textures--),s.remove(ft[bi])}s.remove(ft),s.remove(pt)}let de=0;function Se(){de=0}function Be(){const pt=de;return pt>=E&&console.warn("THREE.WebGLTextures: Trying to use "+pt+" texture units while this GPU supports only "+E),de+=1,pt}function Le(pt){const ft=[];return ft.push(pt.wrapS),ft.push(pt.wrapT),ft.push(pt.magFilter),ft.push(pt.minFilter),ft.push(pt.anisotropy),ft.push(pt.internalFormat),ft.push(pt.format),ft.push(pt.type),ft.push(pt.generateMipmaps),ft.push(pt.premultiplyAlpha),ft.push(pt.flipY),ft.push(pt.unpackAlignment),ft.push(pt.encoding),ft.join()}function nt(pt,ft){const Lt=s.get(pt);if(pt.isVideoTexture&&Ct(pt),pt.isRenderTargetTexture===!1&&pt.version>0&&Lt.__version!==pt.version){const ii=pt.image;if(ii===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ii.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{$e(Lt,pt,ft);return}}i.activeTexture(33984+ft),i.bindTexture(3553,Lt.__webglTexture)}function He(pt,ft){const Lt=s.get(pt);if(pt.version>0&&Lt.__version!==pt.version){$e(Lt,pt,ft);return}i.activeTexture(33984+ft),i.bindTexture(35866,Lt.__webglTexture)}function ce(pt,ft){const Lt=s.get(pt);if(pt.version>0&&Lt.__version!==pt.version){$e(Lt,pt,ft);return}i.activeTexture(33984+ft),i.bindTexture(32879,Lt.__webglTexture)}function Re(pt,ft){const Lt=s.get(pt);if(pt.version>0&&Lt.__version!==pt.version){gt(Lt,pt,ft);return}i.activeTexture(33984+ft),i.bindTexture(34067,Lt.__webglTexture)}const lt={[_h]:10497,[da]:33071,[Lp]:33648},Te={[so]:9728,[Eg]:9984,[_g]:9986,[Es]:9729,[x4]:9985,[Tu]:9987};function Ye(pt,ft,Lt){if(Lt?(l.texParameteri(pt,10242,lt[ft.wrapS]),l.texParameteri(pt,10243,lt[ft.wrapT]),(pt===32879||pt===35866)&&l.texParameteri(pt,32882,lt[ft.wrapR]),l.texParameteri(pt,10240,Te[ft.magFilter]),l.texParameteri(pt,10241,Te[ft.minFilter])):(l.texParameteri(pt,10242,33071),l.texParameteri(pt,10243,33071),(pt===32879||pt===35866)&&l.texParameteri(pt,32882,33071),(ft.wrapS!==da||ft.wrapT!==da)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),l.texParameteri(pt,10240,ye(ft.magFilter)),l.texParameteri(pt,10241,ye(ft.minFilter)),ft.minFilter!==so&&ft.minFilter!==Es&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),t.has("EXT_texture_filter_anisotropic")===!0){const ii=t.get("EXT_texture_filter_anisotropic");if(ft.type===ic&&t.has("OES_texture_float_linear")===!1||A===!1&&ft.type===Fp&&t.has("OES_texture_half_float_linear")===!1)return;(ft.anisotropy>1||s.get(ft).__currentAnisotropy)&&(l.texParameterf(pt,ii.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ft.anisotropy,u.getMaxAnisotropy())),s.get(ft).__currentAnisotropy=ft.anisotropy)}}function mt(pt,ft){let Lt=!1;pt.__webglInit===void 0&&(pt.__webglInit=!0,ft.addEventListener("dispose",ge));const ii=ft.source;let bi=z.get(ii);bi===void 0&&(bi={},z.set(ii,bi));const rt=Le(ft);if(rt!==pt.__cacheKey){bi[rt]===void 0&&(bi[rt]={texture:l.createTexture(),usedTimes:0},y.memory.textures++,Lt=!0),bi[rt].usedTimes++;const Pe=bi[pt.__cacheKey];Pe!==void 0&&(bi[pt.__cacheKey].usedTimes--,Pe.usedTimes===0&&ie(ft)),pt.__cacheKey=rt,pt.__webglTexture=bi[rt].texture}return Lt}function $e(pt,ft,Lt){let ii=3553;ft.isDataArrayTexture&&(ii=35866),ft.isData3DTexture&&(ii=32879);const bi=mt(pt,ft),rt=ft.source;if(i.activeTexture(33984+Lt),i.bindTexture(ii,pt.__webglTexture),rt.version!==rt.__currentVersion||bi===!0){l.pixelStorei(37440,ft.flipY),l.pixelStorei(37441,ft.premultiplyAlpha),l.pixelStorei(3317,ft.unpackAlignment),l.pixelStorei(37443,0);const Pe=Ae(ft)&&oe(ft.image)===!1;let Me=ue(ft.image,Pe,!1,k);Me=ri(ft,Me);const bt=oe(Me)||A,zt=p.convert(ft.format,ft.encoding);let It=p.convert(ft.type),yt=ne(ft.internalFormat,zt,It,ft.encoding,ft.isVideoTexture);Ye(ii,ft,bt);let Di;const Tt=ft.mipmaps,Ot=A&&ft.isVideoTexture!==!0,li=pt.__version===void 0||bi===!0,Ti=ae(ft,Me,bt);if(ft.isDepthTexture)yt=6402,A?ft.type===ic?yt=36012:ft.type===cg?yt=33190:ft.type===Fd?yt=35056:yt=33189:ft.type===ic&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),ft.format===Ah&&yt===6402&&ft.type!==Np&&ft.type!==cg&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),ft.type=Np,It=p.convert(ft.type)),ft.format===zd&&yt===6402&&(yt=34041,ft.type!==Fd&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),ft.type=Fd,It=p.convert(ft.type))),li&&(Ot?i.texStorage2D(3553,1,yt,Me.width,Me.height):i.texImage2D(3553,0,yt,Me.width,Me.height,0,zt,It,null));else if(ft.isDataTexture)if(Tt.length>0&&bt){Ot&&li&&i.texStorage2D(3553,Ti,yt,Tt[0].width,Tt[0].height);for(let Ui=0,gr=Tt.length;Ui<gr;Ui++)Di=Tt[Ui],Ot?i.texSubImage2D(3553,Ui,0,0,Di.width,Di.height,zt,It,Di.data):i.texImage2D(3553,Ui,yt,Di.width,Di.height,0,zt,It,Di.data);ft.generateMipmaps=!1}else Ot?(li&&i.texStorage2D(3553,Ti,yt,Me.width,Me.height),i.texSubImage2D(3553,0,0,0,Me.width,Me.height,zt,It,Me.data)):i.texImage2D(3553,0,yt,Me.width,Me.height,0,zt,It,Me.data);else if(ft.isCompressedTexture){Ot&&li&&i.texStorage2D(3553,Ti,yt,Tt[0].width,Tt[0].height);for(let Ui=0,gr=Tt.length;Ui<gr;Ui++)Di=Tt[Ui],ft.format!==wl?zt!==null?Ot?i.compressedTexSubImage2D(3553,Ui,0,0,Di.width,Di.height,zt,Di.data):i.compressedTexImage2D(3553,Ui,yt,Di.width,Di.height,0,Di.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ot?i.texSubImage2D(3553,Ui,0,0,Di.width,Di.height,zt,It,Di.data):i.texImage2D(3553,Ui,yt,Di.width,Di.height,0,zt,It,Di.data)}else if(ft.isDataArrayTexture)Ot?(li&&i.texStorage3D(35866,Ti,yt,Me.width,Me.height,Me.depth),i.texSubImage3D(35866,0,0,0,0,Me.width,Me.height,Me.depth,zt,It,Me.data)):i.texImage3D(35866,0,yt,Me.width,Me.height,Me.depth,0,zt,It,Me.data);else if(ft.isData3DTexture)Ot?(li&&i.texStorage3D(32879,Ti,yt,Me.width,Me.height,Me.depth),i.texSubImage3D(32879,0,0,0,0,Me.width,Me.height,Me.depth,zt,It,Me.data)):i.texImage3D(32879,0,yt,Me.width,Me.height,Me.depth,0,zt,It,Me.data);else if(ft.isFramebufferTexture){if(li)if(Ot)i.texStorage2D(3553,Ti,yt,Me.width,Me.height);else{let Ui=Me.width,gr=Me.height;for(let kr=0;kr<Ti;kr++)i.texImage2D(3553,kr,yt,Ui,gr,0,zt,It,null),Ui>>=1,gr>>=1}}else if(Tt.length>0&&bt){Ot&&li&&i.texStorage2D(3553,Ti,yt,Tt[0].width,Tt[0].height);for(let Ui=0,gr=Tt.length;Ui<gr;Ui++)Di=Tt[Ui],Ot?i.texSubImage2D(3553,Ui,0,0,zt,It,Di):i.texImage2D(3553,Ui,yt,zt,It,Di);ft.generateMipmaps=!1}else Ot?(li&&i.texStorage2D(3553,Ti,yt,Me.width,Me.height),i.texSubImage2D(3553,0,0,0,zt,It,Me)):i.texImage2D(3553,0,yt,zt,It,Me);be(ft,bt)&&xe(ii),rt.__currentVersion=rt.version,ft.onUpdate&&ft.onUpdate(ft)}pt.__version=ft.version}function gt(pt,ft,Lt){if(ft.image.length!==6)return;const ii=mt(pt,ft),bi=ft.source;if(i.activeTexture(33984+Lt),i.bindTexture(34067,pt.__webglTexture),bi.version!==bi.__currentVersion||ii===!0){l.pixelStorei(37440,ft.flipY),l.pixelStorei(37441,ft.premultiplyAlpha),l.pixelStorei(3317,ft.unpackAlignment),l.pixelStorei(37443,0);const rt=ft.isCompressedTexture||ft.image[0].isCompressedTexture,Pe=ft.image[0]&&ft.image[0].isDataTexture,Me=[];for(let Ui=0;Ui<6;Ui++)!rt&&!Pe?Me[Ui]=ue(ft.image[Ui],!1,!0,_):Me[Ui]=Pe?ft.image[Ui].image:ft.image[Ui],Me[Ui]=ri(ft,Me[Ui]);const bt=Me[0],zt=oe(bt)||A,It=p.convert(ft.format,ft.encoding),yt=p.convert(ft.type),Di=ne(ft.internalFormat,It,yt,ft.encoding),Tt=A&&ft.isVideoTexture!==!0,Ot=pt.__version===void 0;let li=ae(ft,bt,zt);Ye(34067,ft,zt);let Ti;if(rt){Tt&&Ot&&i.texStorage2D(34067,li,Di,bt.width,bt.height);for(let Ui=0;Ui<6;Ui++){Ti=Me[Ui].mipmaps;for(let gr=0;gr<Ti.length;gr++){const kr=Ti[gr];ft.format!==wl?It!==null?Tt?i.compressedTexSubImage2D(34069+Ui,gr,0,0,kr.width,kr.height,It,kr.data):i.compressedTexImage2D(34069+Ui,gr,Di,kr.width,kr.height,0,kr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Tt?i.texSubImage2D(34069+Ui,gr,0,0,kr.width,kr.height,It,yt,kr.data):i.texImage2D(34069+Ui,gr,Di,kr.width,kr.height,0,It,yt,kr.data)}}}else{Ti=ft.mipmaps,Tt&&Ot&&(Ti.length>0&&li++,i.texStorage2D(34067,li,Di,Me[0].width,Me[0].height));for(let Ui=0;Ui<6;Ui++)if(Pe){Tt?i.texSubImage2D(34069+Ui,0,0,0,Me[Ui].width,Me[Ui].height,It,yt,Me[Ui].data):i.texImage2D(34069+Ui,0,Di,Me[Ui].width,Me[Ui].height,0,It,yt,Me[Ui].data);for(let gr=0;gr<Ti.length;gr++){const mr=Ti[gr].image[Ui].image;Tt?i.texSubImage2D(34069+Ui,gr+1,0,0,mr.width,mr.height,It,yt,mr.data):i.texImage2D(34069+Ui,gr+1,Di,mr.width,mr.height,0,It,yt,mr.data)}}else{Tt?i.texSubImage2D(34069+Ui,0,0,0,It,yt,Me[Ui]):i.texImage2D(34069+Ui,0,Di,It,yt,Me[Ui]);for(let gr=0;gr<Ti.length;gr++){const kr=Ti[gr];Tt?i.texSubImage2D(34069+Ui,gr+1,0,0,It,yt,kr.image[Ui]):i.texImage2D(34069+Ui,gr+1,Di,It,yt,kr.image[Ui])}}}be(ft,zt)&&xe(34067),bi.__currentVersion=bi.version,ft.onUpdate&&ft.onUpdate(ft)}pt.__version=ft.version}function kt(pt,ft,Lt,ii,bi){const rt=p.convert(Lt.format,Lt.encoding),Pe=p.convert(Lt.type),Me=ne(Lt.internalFormat,rt,Pe,Lt.encoding);s.get(ft).__hasExternalTextures||(bi===32879||bi===35866?i.texImage3D(bi,0,Me,ft.width,ft.height,ft.depth,0,rt,Pe,null):i.texImage2D(bi,0,Me,ft.width,ft.height,0,rt,Pe,null)),i.bindFramebuffer(36160,pt),Et(ft)?P.framebufferTexture2DMultisampleEXT(36160,ii,bi,s.get(Lt).__webglTexture,0,or(ft)):l.framebufferTexture2D(36160,ii,bi,s.get(Lt).__webglTexture,0),i.bindFramebuffer(36160,null)}function Kt(pt,ft,Lt){if(l.bindRenderbuffer(36161,pt),ft.depthBuffer&&!ft.stencilBuffer){let ii=33189;if(Lt||Et(ft)){const bi=ft.depthTexture;bi&&bi.isDepthTexture&&(bi.type===ic?ii=36012:bi.type===cg&&(ii=33190));const rt=or(ft);Et(ft)?P.renderbufferStorageMultisampleEXT(36161,rt,ii,ft.width,ft.height):l.renderbufferStorageMultisample(36161,rt,ii,ft.width,ft.height)}else l.renderbufferStorage(36161,ii,ft.width,ft.height);l.framebufferRenderbuffer(36160,36096,36161,pt)}else if(ft.depthBuffer&&ft.stencilBuffer){const ii=or(ft);Lt&&Et(ft)===!1?l.renderbufferStorageMultisample(36161,ii,35056,ft.width,ft.height):Et(ft)?P.renderbufferStorageMultisampleEXT(36161,ii,35056,ft.width,ft.height):l.renderbufferStorage(36161,34041,ft.width,ft.height),l.framebufferRenderbuffer(36160,33306,36161,pt)}else{const ii=ft.isWebGLMultipleRenderTargets===!0?ft.texture[0]:ft.texture,bi=p.convert(ii.format,ii.encoding),rt=p.convert(ii.type),Pe=ne(ii.internalFormat,bi,rt,ii.encoding),Me=or(ft);Lt&&Et(ft)===!1?l.renderbufferStorageMultisample(36161,Me,Pe,ft.width,ft.height):Et(ft)?P.renderbufferStorageMultisampleEXT(36161,Me,Pe,ft.width,ft.height):l.renderbufferStorage(36161,Pe,ft.width,ft.height)}l.bindRenderbuffer(36161,null)}function Ft(pt,ft){if(ft&&ft.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(i.bindFramebuffer(36160,pt),!(ft.depthTexture&&ft.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!s.get(ft.depthTexture).__webglTexture||ft.depthTexture.image.width!==ft.width||ft.depthTexture.image.height!==ft.height)&&(ft.depthTexture.image.width=ft.width,ft.depthTexture.image.height=ft.height,ft.depthTexture.needsUpdate=!0),nt(ft.depthTexture,0);const ii=s.get(ft.depthTexture).__webglTexture,bi=or(ft);if(ft.depthTexture.format===Ah)Et(ft)?P.framebufferTexture2DMultisampleEXT(36160,36096,3553,ii,0,bi):l.framebufferTexture2D(36160,36096,3553,ii,0);else if(ft.depthTexture.format===zd)Et(ft)?P.framebufferTexture2DMultisampleEXT(36160,33306,3553,ii,0,bi):l.framebufferTexture2D(36160,33306,3553,ii,0);else throw new Error("Unknown depthTexture format")}function Yt(pt){const ft=s.get(pt),Lt=pt.isWebGLCubeRenderTarget===!0;if(pt.depthTexture&&!ft.__autoAllocateDepthBuffer){if(Lt)throw new Error("target.depthTexture not supported in Cube render targets");Ft(ft.__webglFramebuffer,pt)}else if(Lt){ft.__webglDepthbuffer=[];for(let ii=0;ii<6;ii++)i.bindFramebuffer(36160,ft.__webglFramebuffer[ii]),ft.__webglDepthbuffer[ii]=l.createRenderbuffer(),Kt(ft.__webglDepthbuffer[ii],pt,!1)}else i.bindFramebuffer(36160,ft.__webglFramebuffer),ft.__webglDepthbuffer=l.createRenderbuffer(),Kt(ft.__webglDepthbuffer,pt,!1);i.bindFramebuffer(36160,null)}function $t(pt,ft,Lt){const ii=s.get(pt);ft!==void 0&&kt(ii.__webglFramebuffer,pt,pt.texture,36064,3553),Lt!==void 0&&Yt(pt)}function vi(pt){const ft=pt.texture,Lt=s.get(pt),ii=s.get(ft);pt.addEventListener("dispose",we),pt.isWebGLMultipleRenderTargets!==!0&&(ii.__webglTexture===void 0&&(ii.__webglTexture=l.createTexture()),ii.__version=ft.version,y.memory.textures++);const bi=pt.isWebGLCubeRenderTarget===!0,rt=pt.isWebGLMultipleRenderTargets===!0,Pe=oe(pt)||A;if(bi){Lt.__webglFramebuffer=[];for(let Me=0;Me<6;Me++)Lt.__webglFramebuffer[Me]=l.createFramebuffer()}else if(Lt.__webglFramebuffer=l.createFramebuffer(),rt)if(u.drawBuffers){const Me=pt.texture;for(let bt=0,zt=Me.length;bt<zt;bt++){const It=s.get(Me[bt]);It.__webglTexture===void 0&&(It.__webglTexture=l.createTexture(),y.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(A&&pt.samples>0&&Et(pt)===!1){Lt.__webglMultisampledFramebuffer=l.createFramebuffer(),Lt.__webglColorRenderbuffer=l.createRenderbuffer(),l.bindRenderbuffer(36161,Lt.__webglColorRenderbuffer);const Me=p.convert(ft.format,ft.encoding),bt=p.convert(ft.type),zt=ne(ft.internalFormat,Me,bt,ft.encoding),It=or(pt);l.renderbufferStorageMultisample(36161,It,zt,pt.width,pt.height),i.bindFramebuffer(36160,Lt.__webglMultisampledFramebuffer),l.framebufferRenderbuffer(36160,36064,36161,Lt.__webglColorRenderbuffer),l.bindRenderbuffer(36161,null),pt.depthBuffer&&(Lt.__webglDepthRenderbuffer=l.createRenderbuffer(),Kt(Lt.__webglDepthRenderbuffer,pt,!0)),i.bindFramebuffer(36160,null)}if(bi){i.bindTexture(34067,ii.__webglTexture),Ye(34067,ft,Pe);for(let Me=0;Me<6;Me++)kt(Lt.__webglFramebuffer[Me],pt,ft,36064,34069+Me);be(ft,Pe)&&xe(34067),i.unbindTexture()}else if(rt){const Me=pt.texture;for(let bt=0,zt=Me.length;bt<zt;bt++){const It=Me[bt],yt=s.get(It);i.bindTexture(3553,yt.__webglTexture),Ye(3553,It,Pe),kt(Lt.__webglFramebuffer,pt,It,36064+bt,3553),be(It,Pe)&&xe(3553)}i.unbindTexture()}else{let Me=3553;(pt.isWebGL3DRenderTarget||pt.isWebGLArrayRenderTarget)&&(A?Me=pt.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),i.bindTexture(Me,ii.__webglTexture),Ye(Me,ft,Pe),kt(Lt.__webglFramebuffer,pt,ft,36064,Me),be(ft,Pe)&&xe(Me),i.unbindTexture()}pt.depthBuffer&&Yt(pt)}function Xi(pt){const ft=oe(pt)||A,Lt=pt.isWebGLMultipleRenderTargets===!0?pt.texture:[pt.texture];for(let ii=0,bi=Lt.length;ii<bi;ii++){const rt=Lt[ii];if(be(rt,ft)){const Pe=pt.isWebGLCubeRenderTarget?34067:3553,Me=s.get(rt).__webglTexture;i.bindTexture(Pe,Me),xe(Pe),i.unbindTexture()}}}function Ki(pt){if(A&&pt.samples>0&&Et(pt)===!1){const ft=pt.width,Lt=pt.height;let ii=16384;const bi=[36064],rt=pt.stencilBuffer?33306:36096;pt.depthBuffer&&bi.push(rt);const Pe=s.get(pt),Me=Pe.__ignoreDepthValues!==void 0?Pe.__ignoreDepthValues:!1;Me===!1&&(pt.depthBuffer&&(ii|=256),pt.stencilBuffer&&(ii|=1024)),i.bindFramebuffer(36008,Pe.__webglMultisampledFramebuffer),i.bindFramebuffer(36009,Pe.__webglFramebuffer),Me===!0&&(l.invalidateFramebuffer(36008,[rt]),l.invalidateFramebuffer(36009,[rt])),l.blitFramebuffer(0,0,ft,Lt,0,0,ft,Lt,ii,9728),B&&l.invalidateFramebuffer(36008,bi),i.bindFramebuffer(36008,null),i.bindFramebuffer(36009,Pe.__webglMultisampledFramebuffer)}}function or(pt){return Math.min(R,pt.samples)}function Et(pt){const ft=s.get(pt);return A&&pt.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&ft.__useRenderToTexture!==!1}function Ct(pt){const ft=y.render.frame;O.get(pt)!==ft&&(O.set(pt,ft),pt.update())}function ri(pt,ft){const Lt=pt.encoding,ii=pt.format,bi=pt.type;return pt.isCompressedTexture===!0||pt.isVideoTexture===!0||pt.format===Kv||Lt!==oc&&(Lt===b0?A===!1?t.has("EXT_sRGB")===!0&&ii===wl?(pt.format=Kv,pt.minFilter=Es,pt.generateMipmaps=!1):ft=Dh.sRGBToLinear(ft):(ii!==wl||bi!==kh)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Lt)),ft}this.allocateTextureUnit=Be,this.resetTextureUnits=Se,this.setTexture2D=nt,this.setTexture2DArray=He,this.setTexture3D=ce,this.setTextureCube=Re,this.rebindTextures=$t,this.setupRenderTarget=vi,this.updateRenderTargetMipmap=Xi,this.updateMultisampleRenderTarget=Ki,this.setupDepthRenderbuffer=Yt,this.setupFrameBufferTexture=kt,this.useMultisampledRTT=Et}function N7(l,t,i){const s=i.isWebGL2;function u(p,y=null){let A;if(p===kh)return 5121;if(p===q9)return 32819;if(p===Z9)return 32820;if(p===Q9)return 5120;if(p===J9)return 5122;if(p===Np)return 5123;if(p===X9)return 5124;if(p===cg)return 5125;if(p===ic)return 5126;if(p===Fp)return s?5131:(A=t.get("OES_texture_half_float"),A!==null?A.HALF_FLOAT_OES:null);if(p===Y9)return 6406;if(p===wl)return 6408;if(p===$9)return 6409;if(p===e7)return 6410;if(p===Ah)return 6402;if(p===zd)return 34041;if(p===t7)return 6403;if(p===K9)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(p===Kv)return A=t.get("EXT_sRGB"),A!==null?A.SRGB_ALPHA_EXT:null;if(p===i7)return 36244;if(p===r7)return 33319;if(p===n7)return 33320;if(p===s7)return 36249;if(p===_v||p===kv||p===Cv||p===Sv)if(y===b0)if(A=t.get("WEBGL_compressed_texture_s3tc_srgb"),A!==null){if(p===_v)return A.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(p===kv)return A.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(p===Cv)return A.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(p===Sv)return A.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(A=t.get("WEBGL_compressed_texture_s3tc"),A!==null){if(p===_v)return A.COMPRESSED_RGB_S3TC_DXT1_EXT;if(p===kv)return A.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(p===Cv)return A.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(p===Sv)return A.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(p===I5||p===D5||p===P5||p===L5)if(A=t.get("WEBGL_compressed_texture_pvrtc"),A!==null){if(p===I5)return A.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(p===D5)return A.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(p===P5)return A.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(p===L5)return A.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(p===o7)return A=t.get("WEBGL_compressed_texture_etc1"),A!==null?A.COMPRESSED_RGB_ETC1_WEBGL:null;if(p===N5||p===F5)if(A=t.get("WEBGL_compressed_texture_etc"),A!==null){if(p===N5)return y===b0?A.COMPRESSED_SRGB8_ETC2:A.COMPRESSED_RGB8_ETC2;if(p===F5)return y===b0?A.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:A.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(p===O5||p===H5||p===U5||p===V5||p===j5||p===G5||p===z5||p===W5||p===Q5||p===J5||p===X5||p===q5||p===Z5||p===Y5)if(A=t.get("WEBGL_compressed_texture_astc"),A!==null){if(p===O5)return y===b0?A.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:A.COMPRESSED_RGBA_ASTC_4x4_KHR;if(p===H5)return y===b0?A.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:A.COMPRESSED_RGBA_ASTC_5x4_KHR;if(p===U5)return y===b0?A.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:A.COMPRESSED_RGBA_ASTC_5x5_KHR;if(p===V5)return y===b0?A.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:A.COMPRESSED_RGBA_ASTC_6x5_KHR;if(p===j5)return y===b0?A.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:A.COMPRESSED_RGBA_ASTC_6x6_KHR;if(p===G5)return y===b0?A.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:A.COMPRESSED_RGBA_ASTC_8x5_KHR;if(p===z5)return y===b0?A.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:A.COMPRESSED_RGBA_ASTC_8x6_KHR;if(p===W5)return y===b0?A.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:A.COMPRESSED_RGBA_ASTC_8x8_KHR;if(p===Q5)return y===b0?A.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:A.COMPRESSED_RGBA_ASTC_10x5_KHR;if(p===J5)return y===b0?A.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:A.COMPRESSED_RGBA_ASTC_10x6_KHR;if(p===X5)return y===b0?A.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:A.COMPRESSED_RGBA_ASTC_10x8_KHR;if(p===q5)return y===b0?A.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:A.COMPRESSED_RGBA_ASTC_10x10_KHR;if(p===Z5)return y===b0?A.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:A.COMPRESSED_RGBA_ASTC_12x10_KHR;if(p===Y5)return y===b0?A.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:A.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(p===K5)if(A=t.get("EXT_texture_compression_bptc"),A!==null){if(p===K5)return y===b0?A.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:A.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return p===Fd?s?34042:(A=t.get("WEBGL_depth_texture"),A!==null?A.UNSIGNED_INT_24_8_WEBGL:null):l[p]!==void 0?l[p]:null}return{convert:u}}class qE extends _o{constructor(t=[]){super(),this.cameras=t}}qE.prototype.isArrayCamera=!0;class xl extends Rn{constructor(){super(),this.type="Group"}}xl.prototype.isGroup=!0;const kW={type:"move"};class k3{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new xl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new xl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new wt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new wt),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new xl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new wt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new wt),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,i,s){let u=null,p=null,y=null;const A=this._targetRay,E=this._grip,_=this._hand;if(t&&i.session.visibilityState!=="visible-blurred")if(A!==null&&(u=i.getPose(t.targetRaySpace,s),u!==null&&(A.matrix.fromArray(u.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),u.linearVelocity?(A.hasLinearVelocity=!0,A.linearVelocity.copy(u.linearVelocity)):A.hasLinearVelocity=!1,u.angularVelocity?(A.hasAngularVelocity=!0,A.angularVelocity.copy(u.angularVelocity)):A.hasAngularVelocity=!1,this.dispatchEvent(kW))),_&&t.hand){y=!0;for(const H of t.hand.values()){const z=i.getJointPose(H,s);if(_.joints[H.jointName]===void 0){const ee=new xl;ee.matrixAutoUpdate=!1,ee.visible=!1,_.joints[H.jointName]=ee,_.add(ee)}const Y=_.joints[H.jointName];z!==null&&(Y.matrix.fromArray(z.transform.matrix),Y.matrix.decompose(Y.position,Y.rotation,Y.scale),Y.jointRadius=z.radius),Y.visible=z!==null}const k=_.joints["index-finger-tip"],R=_.joints["thumb-tip"],P=k.position.distanceTo(R.position),B=.02,O=.005;_.inputState.pinching&&P>B+O?(_.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!_.inputState.pinching&&P<=B-O&&(_.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else E!==null&&t.gripSpace&&(p=i.getPose(t.gripSpace,s),p!==null&&(E.matrix.fromArray(p.transform.matrix),E.matrix.decompose(E.position,E.rotation,E.scale),p.linearVelocity?(E.hasLinearVelocity=!0,E.linearVelocity.copy(p.linearVelocity)):E.hasLinearVelocity=!1,p.angularVelocity?(E.hasAngularVelocity=!0,E.angularVelocity.copy(p.angularVelocity)):E.hasAngularVelocity=!1));return A!==null&&(A.visible=u!==null),E!==null&&(E.visible=p!==null),_!==null&&(_.visible=y!==null),this}}class ZE extends ns{constructor(t,i,s,u,p,y,A,E,_,k){if(k=k!==void 0?k:Ah,k!==Ah&&k!==zd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");s===void 0&&k===Ah&&(s=Np),s===void 0&&k===zd&&(s=Fd),super(null,u,p,y,A,E,k,s,_),this.image={width:t,height:i},this.magFilter=A!==void 0?A:so,this.minFilter=E!==void 0?E:so,this.flipY=!1,this.generateMipmaps=!1}}ZE.prototype.isDepthTexture=!0;class CW extends cc{constructor(t,i){super();const s=this;let u=null,p=1,y=null,A="local-floor",E=null,_=null,k=null,R=null,P=null,B=null;const O=i.getContextAttributes();let H=null,z=null;const Y=[],ee=new Map,ue=new _o;ue.layers.enable(1),ue.viewport=new V0;const oe=new _o;oe.layers.enable(2),oe.viewport=new V0;const Ae=[ue,oe],be=new qE;be.layers.enable(1),be.layers.enable(2);let xe=null,ne=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Le){let nt=Y[Le];return nt===void 0&&(nt=new k3,Y[Le]=nt),nt.getTargetRaySpace()},this.getControllerGrip=function(Le){let nt=Y[Le];return nt===void 0&&(nt=new k3,Y[Le]=nt),nt.getGripSpace()},this.getHand=function(Le){let nt=Y[Le];return nt===void 0&&(nt=new k3,Y[Le]=nt),nt.getHandSpace()};function ae(Le){const nt=ee.get(Le.inputSource);nt&&nt.dispatchEvent({type:Le.type,data:Le.inputSource})}function ye(){ee.forEach(function(Le,nt){Le.disconnect(nt)}),ee.clear(),xe=null,ne=null,t.setRenderTarget(H),P=null,R=null,k=null,u=null,z=null,Be.stop(),s.isPresenting=!1,s.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Le){p=Le,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Le){A=Le,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return E||y},this.setReferenceSpace=function(Le){E=Le},this.getBaseLayer=function(){return R!==null?R:P},this.getBinding=function(){return k},this.getFrame=function(){return B},this.getSession=function(){return u},this.setSession=async function(Le){if(u=Le,u!==null){if(H=t.getRenderTarget(),u.addEventListener("select",ae),u.addEventListener("selectstart",ae),u.addEventListener("selectend",ae),u.addEventListener("squeeze",ae),u.addEventListener("squeezestart",ae),u.addEventListener("squeezeend",ae),u.addEventListener("end",ye),u.addEventListener("inputsourceschange",ge),O.xrCompatible!==!0&&await i.makeXRCompatible(),u.renderState.layers===void 0||t.capabilities.isWebGL2===!1){const nt={antialias:u.renderState.layers===void 0?O.antialias:!0,alpha:O.alpha,depth:O.depth,stencil:O.stencil,framebufferScaleFactor:p};P=new XRWebGLLayer(u,i,nt),u.updateRenderState({baseLayer:P}),z=new Ta(P.framebufferWidth,P.framebufferHeight,{format:wl,type:kh,encoding:t.outputEncoding})}else{let nt=null,He=null,ce=null;O.depth&&(ce=O.stencil?35056:33190,nt=O.stencil?zd:Ah,He=O.stencil?Fd:Np);const Re={colorFormat:t.outputEncoding===b0?35907:32856,depthFormat:ce,scaleFactor:p};k=new XRWebGLBinding(u,i),R=k.createProjectionLayer(Re),u.updateRenderState({layers:[R]}),z=new Ta(R.textureWidth,R.textureHeight,{format:wl,type:kh,depthTexture:new ZE(R.textureWidth,R.textureHeight,He,void 0,void 0,void 0,void 0,void 0,void 0,nt),stencilBuffer:O.stencil,encoding:t.outputEncoding,samples:O.antialias?4:0});const lt=t.properties.get(z);lt.__ignoreDepthValues=R.ignoreDepthValues}z.isXRRenderTarget=!0,this.setFoveation(1),y=await u.requestReferenceSpace(A),Be.setContext(u),Be.start(),s.isPresenting=!0,s.dispatchEvent({type:"sessionstart"})}};function ge(Le){const nt=u.inputSources;for(let He=0;He<nt.length;He++){const ce=nt[He].handedness==="right"?1:0;ee.set(nt[He],Y[ce])}for(let He=0;He<Le.removed.length;He++){const ce=Le.removed[He],Re=ee.get(ce);Re&&(Re.dispatchEvent({type:"disconnected",data:ce}),ee.delete(ce))}for(let He=0;He<Le.added.length;He++){const ce=Le.added[He],Re=ee.get(ce);Re&&Re.dispatchEvent({type:"connected",data:ce})}}const we=new wt,le=new wt;function ie(Le,nt,He){we.setFromMatrixPosition(nt.matrixWorld),le.setFromMatrixPosition(He.matrixWorld);const ce=we.distanceTo(le),Re=nt.projectionMatrix.elements,lt=He.projectionMatrix.elements,Te=Re[14]/(Re[10]-1),Ye=Re[14]/(Re[10]+1),mt=(Re[9]+1)/Re[5],$e=(Re[9]-1)/Re[5],gt=(Re[8]-1)/Re[0],kt=(lt[8]+1)/lt[0],Kt=Te*gt,Ft=Te*kt,Yt=ce/(-gt+kt),$t=Yt*-gt;nt.matrixWorld.decompose(Le.position,Le.quaternion,Le.scale),Le.translateX($t),Le.translateZ(Yt),Le.matrixWorld.compose(Le.position,Le.quaternion,Le.scale),Le.matrixWorldInverse.copy(Le.matrixWorld).invert();const vi=Te+Yt,Xi=Ye+Yt,Ki=Kt-$t,or=Ft+(ce-$t),Et=mt*Ye/Xi*vi,Ct=$e*Ye/Xi*vi;Le.projectionMatrix.makePerspective(Ki,or,Et,Ct,vi,Xi)}function he(Le,nt){nt===null?Le.matrixWorld.copy(Le.matrix):Le.matrixWorld.multiplyMatrices(nt.matrixWorld,Le.matrix),Le.matrixWorldInverse.copy(Le.matrixWorld).invert()}this.updateCamera=function(Le){if(u===null)return;be.near=oe.near=ue.near=Le.near,be.far=oe.far=ue.far=Le.far,(xe!==be.near||ne!==be.far)&&(u.updateRenderState({depthNear:be.near,depthFar:be.far}),xe=be.near,ne=be.far);const nt=Le.parent,He=be.cameras;he(be,nt);for(let Re=0;Re<He.length;Re++)he(He[Re],nt);be.matrixWorld.decompose(be.position,be.quaternion,be.scale),Le.position.copy(be.position),Le.quaternion.copy(be.quaternion),Le.scale.copy(be.scale),Le.matrix.copy(be.matrix),Le.matrixWorld.copy(be.matrixWorld);const ce=Le.children;for(let Re=0,lt=ce.length;Re<lt;Re++)ce[Re].updateMatrixWorld(!0);He.length===2?ie(be,ue,oe):be.projectionMatrix.copy(ue.projectionMatrix)},this.getCamera=function(){return be},this.getFoveation=function(){if(R!==null)return R.fixedFoveation;if(P!==null)return P.fixedFoveation},this.setFoveation=function(Le){R!==null&&(R.fixedFoveation=Le),P!==null&&P.fixedFoveation!==void 0&&(P.fixedFoveation=Le)};let de=null;function Se(Le,nt){if(_=nt.getViewerPose(E||y),B=nt,_!==null){const ce=_.views;P!==null&&(t.setRenderTargetFramebuffer(z,P.framebuffer),t.setRenderTarget(z));let Re=!1;ce.length!==be.cameras.length&&(be.cameras.length=0,Re=!0);for(let lt=0;lt<ce.length;lt++){const Te=ce[lt];let Ye=null;if(P!==null)Ye=P.getViewport(Te);else{const $e=k.getViewSubImage(R,Te);Ye=$e.viewport,lt===0&&(t.setRenderTargetTextures(z,$e.colorTexture,R.ignoreDepthValues?void 0:$e.depthStencilTexture),t.setRenderTarget(z))}const mt=Ae[lt];mt.matrix.fromArray(Te.transform.matrix),mt.projectionMatrix.fromArray(Te.projectionMatrix),mt.viewport.set(Ye.x,Ye.y,Ye.width,Ye.height),lt===0&&be.matrix.copy(mt.matrix),Re===!0&&be.cameras.push(mt)}}const He=u.inputSources;for(let ce=0;ce<Y.length;ce++){const Re=He[ce],lt=ee.get(Re);lt!==void 0&&lt.update(Re,nt,E||y)}de&&de(Le,nt),B=null}const Be=new T7;Be.setAnimationLoop(Se),this.setAnimationLoop=function(Le){de=Le},this.dispose=function(){}}}function SW(l,t){function i(H,z){H.fogColor.value.copy(z.color),z.isFog?(H.fogNear.value=z.near,H.fogFar.value=z.far):z.isFogExp2&&(H.fogDensity.value=z.density)}function s(H,z,Y,ee,ue){z.isMeshBasicMaterial||z.isMeshLambertMaterial?u(H,z):z.isMeshToonMaterial?(u(H,z),k(H,z)):z.isMeshPhongMaterial?(u(H,z),_(H,z)):z.isMeshStandardMaterial?(u(H,z),R(H,z),z.isMeshPhysicalMaterial&&P(H,z,ue)):z.isMeshMatcapMaterial?(u(H,z),B(H,z)):z.isMeshDepthMaterial?u(H,z):z.isMeshDistanceMaterial?(u(H,z),O(H,z)):z.isMeshNormalMaterial?u(H,z):z.isLineBasicMaterial?(p(H,z),z.isLineDashedMaterial&&y(H,z)):z.isPointsMaterial?A(H,z,Y,ee):z.isSpriteMaterial?E(H,z):z.isShadowMaterial?(H.color.value.copy(z.color),H.opacity.value=z.opacity):z.isShaderMaterial&&(z.uniformsNeedUpdate=!1)}function u(H,z){H.opacity.value=z.opacity,z.color&&H.diffuse.value.copy(z.color),z.emissive&&H.emissive.value.copy(z.emissive).multiplyScalar(z.emissiveIntensity),z.map&&(H.map.value=z.map),z.alphaMap&&(H.alphaMap.value=z.alphaMap),z.bumpMap&&(H.bumpMap.value=z.bumpMap,H.bumpScale.value=z.bumpScale,z.side===Qa&&(H.bumpScale.value*=-1)),z.displacementMap&&(H.displacementMap.value=z.displacementMap,H.displacementScale.value=z.displacementScale,H.displacementBias.value=z.displacementBias),z.emissiveMap&&(H.emissiveMap.value=z.emissiveMap),z.normalMap&&(H.normalMap.value=z.normalMap,H.normalScale.value.copy(z.normalScale),z.side===Qa&&H.normalScale.value.negate()),z.specularMap&&(H.specularMap.value=z.specularMap),z.alphaTest>0&&(H.alphaTest.value=z.alphaTest);const Y=t.get(z).envMap;if(Y&&(H.envMap.value=Y,H.flipEnvMap.value=Y.isCubeTexture&&Y.isRenderTargetTexture===!1?-1:1,H.reflectivity.value=z.reflectivity,H.ior.value=z.ior,H.refractionRatio.value=z.refractionRatio),z.lightMap){H.lightMap.value=z.lightMap;const oe=l.physicallyCorrectLights!==!0?Math.PI:1;H.lightMapIntensity.value=z.lightMapIntensity*oe}z.aoMap&&(H.aoMap.value=z.aoMap,H.aoMapIntensity.value=z.aoMapIntensity);let ee;z.map?ee=z.map:z.specularMap?ee=z.specularMap:z.displacementMap?ee=z.displacementMap:z.normalMap?ee=z.normalMap:z.bumpMap?ee=z.bumpMap:z.roughnessMap?ee=z.roughnessMap:z.metalnessMap?ee=z.metalnessMap:z.alphaMap?ee=z.alphaMap:z.emissiveMap?ee=z.emissiveMap:z.clearcoatMap?ee=z.clearcoatMap:z.clearcoatNormalMap?ee=z.clearcoatNormalMap:z.clearcoatRoughnessMap?ee=z.clearcoatRoughnessMap:z.specularIntensityMap?ee=z.specularIntensityMap:z.specularColorMap?ee=z.specularColorMap:z.transmissionMap?ee=z.transmissionMap:z.thicknessMap?ee=z.thicknessMap:z.sheenColorMap?ee=z.sheenColorMap:z.sheenRoughnessMap&&(ee=z.sheenRoughnessMap),ee!==void 0&&(ee.isWebGLRenderTarget&&(ee=ee.texture),ee.matrixAutoUpdate===!0&&ee.updateMatrix(),H.uvTransform.value.copy(ee.matrix));let ue;z.aoMap?ue=z.aoMap:z.lightMap&&(ue=z.lightMap),ue!==void 0&&(ue.isWebGLRenderTarget&&(ue=ue.texture),ue.matrixAutoUpdate===!0&&ue.updateMatrix(),H.uv2Transform.value.copy(ue.matrix))}function p(H,z){H.diffuse.value.copy(z.color),H.opacity.value=z.opacity}function y(H,z){H.dashSize.value=z.dashSize,H.totalSize.value=z.dashSize+z.gapSize,H.scale.value=z.scale}function A(H,z,Y,ee){H.diffuse.value.copy(z.color),H.opacity.value=z.opacity,H.size.value=z.size*Y,H.scale.value=ee*.5,z.map&&(H.map.value=z.map),z.alphaMap&&(H.alphaMap.value=z.alphaMap),z.alphaTest>0&&(H.alphaTest.value=z.alphaTest);let ue;z.map?ue=z.map:z.alphaMap&&(ue=z.alphaMap),ue!==void 0&&(ue.matrixAutoUpdate===!0&&ue.updateMatrix(),H.uvTransform.value.copy(ue.matrix))}function E(H,z){H.diffuse.value.copy(z.color),H.opacity.value=z.opacity,H.rotation.value=z.rotation,z.map&&(H.map.value=z.map),z.alphaMap&&(H.alphaMap.value=z.alphaMap),z.alphaTest>0&&(H.alphaTest.value=z.alphaTest);let Y;z.map?Y=z.map:z.alphaMap&&(Y=z.alphaMap),Y!==void 0&&(Y.matrixAutoUpdate===!0&&Y.updateMatrix(),H.uvTransform.value.copy(Y.matrix))}function _(H,z){H.specular.value.copy(z.specular),H.shininess.value=Math.max(z.shininess,1e-4)}function k(H,z){z.gradientMap&&(H.gradientMap.value=z.gradientMap)}function R(H,z){H.roughness.value=z.roughness,H.metalness.value=z.metalness,z.roughnessMap&&(H.roughnessMap.value=z.roughnessMap),z.metalnessMap&&(H.metalnessMap.value=z.metalnessMap),t.get(z).envMap&&(H.envMapIntensity.value=z.envMapIntensity)}function P(H,z,Y){H.ior.value=z.ior,z.sheen>0&&(H.sheenColor.value.copy(z.sheenColor).multiplyScalar(z.sheen),H.sheenRoughness.value=z.sheenRoughness,z.sheenColorMap&&(H.sheenColorMap.value=z.sheenColorMap),z.sheenRoughnessMap&&(H.sheenRoughnessMap.value=z.sheenRoughnessMap)),z.clearcoat>0&&(H.clearcoat.value=z.clearcoat,H.clearcoatRoughness.value=z.clearcoatRoughness,z.clearcoatMap&&(H.clearcoatMap.value=z.clearcoatMap),z.clearcoatRoughnessMap&&(H.clearcoatRoughnessMap.value=z.clearcoatRoughnessMap),z.clearcoatNormalMap&&(H.clearcoatNormalScale.value.copy(z.clearcoatNormalScale),H.clearcoatNormalMap.value=z.clearcoatNormalMap,z.side===Qa&&H.clearcoatNormalScale.value.negate())),z.transmission>0&&(H.transmission.value=z.transmission,H.transmissionSamplerMap.value=Y.texture,H.transmissionSamplerSize.value.set(Y.width,Y.height),z.transmissionMap&&(H.transmissionMap.value=z.transmissionMap),H.thickness.value=z.thickness,z.thicknessMap&&(H.thicknessMap.value=z.thicknessMap),H.attenuationDistance.value=z.attenuationDistance,H.attenuationColor.value.copy(z.attenuationColor)),H.specularIntensity.value=z.specularIntensity,H.specularColor.value.copy(z.specularColor),z.specularIntensityMap&&(H.specularIntensityMap.value=z.specularIntensityMap),z.specularColorMap&&(H.specularColorMap.value=z.specularColorMap)}function B(H,z){z.matcap&&(H.matcap.value=z.matcap)}function O(H,z){H.referencePosition.value.copy(z.referencePosition),H.nearDistance.value=z.nearDistance,H.farDistance.value=z.farDistance}return{refreshFogUniforms:i,refreshMaterialUniforms:s}}function TW(){const l=Sg("canvas");return l.style.display="block",l}function j0(l={}){const t=l.canvas!==void 0?l.canvas:TW(),i=l.context!==void 0?l.context:null,s=l.depth!==void 0?l.depth:!0,u=l.stencil!==void 0?l.stencil:!0,p=l.antialias!==void 0?l.antialias:!1,y=l.premultipliedAlpha!==void 0?l.premultipliedAlpha:!0,A=l.preserveDrawingBuffer!==void 0?l.preserveDrawingBuffer:!1,E=l.powerPreference!==void 0?l.powerPreference:"default",_=l.failIfMajorPerformanceCaveat!==void 0?l.failIfMajorPerformanceCaveat:!1;let k;i!==null?k=i.getContextAttributes().alpha:k=l.alpha!==void 0?l.alpha:!1;let R=null,P=null;const B=[],O=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=oc,this.physicallyCorrectLights=!1,this.toneMapping=If,this.toneMappingExposure=1;const H=this;let z=!1,Y=0,ee=0,ue=null,oe=-1,Ae=null;const be=new V0,xe=new V0;let ne=null,ae=t.width,ye=t.height,ge=1,we=null,le=null;const ie=new V0(0,0,ae,ye),he=new V0(0,0,ae,ye);let de=!1;const Se=new zg;let Be=!1,Le=!1,nt=null;const He=new Jr,ce=new Yi,Re=new wt,lt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Te(){return ue===null?ge:1}let Ye=i;function mt(Mt,ui){for(let Li=0;Li<Mt.length;Li++){const xi=Mt[Li],Fi=t.getContext(xi,ui);if(Fi!==null)return Fi}return null}try{const Mt={alpha:!0,depth:s,stencil:u,antialias:p,premultipliedAlpha:y,preserveDrawingBuffer:A,powerPreference:E,failIfMajorPerformanceCaveat:_};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${A4}`),t.addEventListener("webglcontextlost",yt,!1),t.addEventListener("webglcontextrestored",Di,!1),Ye===null){const ui=["webgl2","webgl","experimental-webgl"];if(H.isWebGL1Renderer===!0&&ui.shift(),Ye=mt(ui,Mt),Ye===null)throw mt(ui)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Ye.getShaderPrecisionFormat===void 0&&(Ye.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Mt){throw console.error("THREE.WebGLRenderer: "+Mt.message),Mt}let $e,gt,kt,Kt,Ft,Yt,$t,vi,Xi,Ki,or,Et,Ct,ri,pt,ft,Lt,ii,bi,rt,Pe,Me,bt;function zt(){$e=new QG(Ye),gt=new UG(Ye,$e,l),$e.init(gt),Me=new N7(Ye,$e,gt),kt=new EW(Ye,$e,gt),Kt=new qG(Ye),Ft=new hW,Yt=new _W(Ye,$e,kt,Ft,gt,Me,Kt),$t=new jG(H),vi=new WG(H),Xi=new fV(Ye,gt),bt=new OG(Ye,$e,Xi,gt),Ki=new JG(Ye,Xi,Kt,bt),or=new $G(Ye,Ki,Xi,Kt),bi=new KG(Ye,gt,Yt),ft=new VG(Ft),Et=new cW(H,$t,vi,$e,gt,bt,ft),Ct=new SW(H,Ft),ri=new pW,pt=new vW($e,gt),ii=new FG(H,$t,kt,or,k,y),Lt=new L7(H,or,gt),rt=new HG(Ye,$e,Kt,gt),Pe=new XG(Ye,$e,Kt,gt),Kt.programs=Et.programs,H.capabilities=gt,H.extensions=$e,H.properties=Ft,H.renderLists=ri,H.shadowMap=Lt,H.state=kt,H.info=Kt}zt();const It=new CW(H,Ye);this.xr=It,this.getContext=function(){return Ye},this.getContextAttributes=function(){return Ye.getContextAttributes()},this.forceContextLoss=function(){const Mt=$e.get("WEBGL_lose_context");Mt&&Mt.loseContext()},this.forceContextRestore=function(){const Mt=$e.get("WEBGL_lose_context");Mt&&Mt.restoreContext()},this.getPixelRatio=function(){return ge},this.setPixelRatio=function(Mt){Mt!==void 0&&(ge=Mt,this.setSize(ae,ye,!1))},this.getSize=function(Mt){return Mt.set(ae,ye)},this.setSize=function(Mt,ui,Li){if(It.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ae=Mt,ye=ui,t.width=Math.floor(Mt*ge),t.height=Math.floor(ui*ge),Li!==!1&&(t.style.width=Mt+"px",t.style.height=ui+"px"),this.setViewport(0,0,Mt,ui)},this.getDrawingBufferSize=function(Mt){return Mt.set(ae*ge,ye*ge).floor()},this.setDrawingBufferSize=function(Mt,ui,Li){ae=Mt,ye=ui,ge=Li,t.width=Math.floor(Mt*Li),t.height=Math.floor(ui*Li),this.setViewport(0,0,Mt,ui)},this.getCurrentViewport=function(Mt){return Mt.copy(be)},this.getViewport=function(Mt){return Mt.copy(ie)},this.setViewport=function(Mt,ui,Li,xi){Mt.isVector4?ie.set(Mt.x,Mt.y,Mt.z,Mt.w):ie.set(Mt,ui,Li,xi),kt.viewport(be.copy(ie).multiplyScalar(ge).floor())},this.getScissor=function(Mt){return Mt.copy(he)},this.setScissor=function(Mt,ui,Li,xi){Mt.isVector4?he.set(Mt.x,Mt.y,Mt.z,Mt.w):he.set(Mt,ui,Li,xi),kt.scissor(xe.copy(he).multiplyScalar(ge).floor())},this.getScissorTest=function(){return de},this.setScissorTest=function(Mt){kt.setScissorTest(de=Mt)},this.setOpaqueSort=function(Mt){we=Mt},this.setTransparentSort=function(Mt){le=Mt},this.getClearColor=function(Mt){return Mt.copy(ii.getClearColor())},this.setClearColor=function(){ii.setClearColor.apply(ii,arguments)},this.getClearAlpha=function(){return ii.getClearAlpha()},this.setClearAlpha=function(){ii.setClearAlpha.apply(ii,arguments)},this.clear=function(Mt=!0,ui=!0,Li=!0){let xi=0;Mt&&(xi|=16384),ui&&(xi|=256),Li&&(xi|=1024),Ye.clear(xi)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",yt,!1),t.removeEventListener("webglcontextrestored",Di,!1),ri.dispose(),pt.dispose(),Ft.dispose(),$t.dispose(),vi.dispose(),or.dispose(),bt.dispose(),Et.dispose(),It.dispose(),It.removeEventListener("sessionstart",gr),It.removeEventListener("sessionend",kr),nt&&(nt.dispose(),nt=null),mr.stop()};function yt(Mt){Mt.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),z=!0}function Di(){console.log("THREE.WebGLRenderer: Context Restored."),z=!1;const Mt=Kt.autoReset,ui=Lt.enabled,Li=Lt.autoUpdate,xi=Lt.needsUpdate,Fi=Lt.type;zt(),Kt.autoReset=Mt,Lt.enabled=ui,Lt.autoUpdate=Li,Lt.needsUpdate=xi,Lt.type=Fi}function Tt(Mt){const ui=Mt.target;ui.removeEventListener("dispose",Tt),Ot(ui)}function Ot(Mt){li(Mt),Ft.remove(Mt)}function li(Mt){const ui=Ft.get(Mt).programs;ui!==void 0&&(ui.forEach(function(Li){Et.releaseProgram(Li)}),Mt.isShaderMaterial&&Et.releaseShaderCache(Mt))}this.renderBufferDirect=function(Mt,ui,Li,xi,Fi,qr){ui===null&&(ui=lt);const fr=Fi.isMesh&&Fi.matrixWorld.determinant()<0,Pr=jt(Mt,ui,Li,xi,Fi);kt.setMaterial(xi,fr);let hn=Li.index;const Lr=Li.attributes.position;if(hn===null){if(Lr===void 0||Lr.count===0)return}else if(hn.count===0)return;let jr=1;xi.wireframe===!0&&(hn=Ki.getWireframeAttribute(Li),jr=2),bt.setup(Fi,xi,Pr,Li,hn);let un,Yn=rt;hn!==null&&(un=Xi.get(hn),Yn=Pe,Yn.setIndex(un));const ks=hn!==null?hn.count:Lr.count,Qn=Li.drawRange.start*jr,Tr=Li.drawRange.count*jr,ss=qr!==null?qr.start*jr:0,Bn=qr!==null?qr.count*jr:1/0,os=Math.max(Qn,ss),rn=Math.min(ks,Qn+Tr,ss+Bn)-1,Z0=Math.max(0,rn-os+1);if(Z0!==0){if(Fi.isMesh)xi.wireframe===!0?(kt.setLineWidth(xi.wireframeLinewidth*Te()),Yn.setMode(1)):Yn.setMode(4);else if(Fi.isLine){let Vs=xi.linewidth;Vs===void 0&&(Vs=1),kt.setLineWidth(Vs*Te()),Fi.isLineSegments?Yn.setMode(1):Fi.isLineLoop?Yn.setMode(2):Yn.setMode(3)}else Fi.isPoints?Yn.setMode(0):Fi.isSprite&&Yn.setMode(4);if(Fi.isInstancedMesh)Yn.renderInstances(os,Z0,Fi.count);else if(Li.isInstancedBufferGeometry){const Vs=Math.min(Li.instanceCount,Li._maxInstanceCount);Yn.renderInstances(os,Z0,Vs)}else Yn.render(os,Z0)}},this.compile=function(Mt,ui){P=pt.get(Mt),P.init(),O.push(P),Mt.traverseVisible(function(Li){Li.isLight&&Li.layers.test(ui.layers)&&(P.pushLight(Li),Li.castShadow&&P.pushShadow(Li))}),P.setupLights(H.physicallyCorrectLights),Mt.traverse(function(Li){const xi=Li.material;if(xi)if(Array.isArray(xi))for(let Fi=0;Fi<xi.length;Fi++){const qr=xi[Fi];Si(qr,Mt,Li)}else Si(xi,Mt,Li)}),O.pop(),P=null};let Ti=null;function Ui(Mt){Ti&&Ti(Mt)}function gr(){mr.stop()}function kr(){mr.start()}const mr=new T7;mr.setAnimationLoop(Ui),typeof self!="undefined"&&mr.setContext(self),this.setAnimationLoop=function(Mt){Ti=Mt,It.setAnimationLoop(Mt),Mt===null?mr.stop():mr.start()},It.addEventListener("sessionstart",gr),It.addEventListener("sessionend",kr),this.render=function(Mt,ui){if(ui!==void 0&&ui.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(z===!0)return;Mt.autoUpdate===!0&&Mt.updateMatrixWorld(),ui.parent===null&&ui.updateMatrixWorld(),It.enabled===!0&&It.isPresenting===!0&&(It.cameraAutoUpdate===!0&&It.updateCamera(ui),ui=It.getCamera()),Mt.isScene===!0&&Mt.onBeforeRender(H,Mt,ui,ue),P=pt.get(Mt,O.length),P.init(),O.push(P),He.multiplyMatrices(ui.projectionMatrix,ui.matrixWorldInverse),Se.setFromProjectionMatrix(He),Le=this.localClippingEnabled,Be=ft.init(this.clippingPlanes,Le,ui),R=ri.get(Mt,B.length),R.init(),B.push(R),Fe(Mt,ui,0,H.sortObjects),R.finish(),H.sortObjects===!0&&R.sort(we,le),Be===!0&&ft.beginShadows();const Li=P.state.shadowsArray;if(Lt.render(Li,Mt,ui),Be===!0&&ft.endShadows(),this.info.autoReset===!0&&this.info.reset(),ii.render(R,Mt),P.setupLights(H.physicallyCorrectLights),ui.isArrayCamera){const xi=ui.cameras;for(let Fi=0,qr=xi.length;Fi<qr;Fi++){const fr=xi[Fi];Ze(R,Mt,fr,fr.viewport)}}else Ze(R,Mt,ui);ue!==null&&(Yt.updateMultisampleRenderTarget(ue),Yt.updateRenderTargetMipmap(ue)),Mt.isScene===!0&&Mt.onAfterRender(H,Mt,ui),bt.resetDefaultState(),oe=-1,Ae=null,O.pop(),O.length>0?P=O[O.length-1]:P=null,B.pop(),B.length>0?R=B[B.length-1]:R=null};function Fe(Mt,ui,Li,xi){if(Mt.visible===!1)return;if(Mt.layers.test(ui.layers)){if(Mt.isGroup)Li=Mt.renderOrder;else if(Mt.isLOD)Mt.autoUpdate===!0&&Mt.update(ui);else if(Mt.isLight)P.pushLight(Mt),Mt.castShadow&&P.pushShadow(Mt);else if(Mt.isSprite){if(!Mt.frustumCulled||Se.intersectsSprite(Mt)){xi&&Re.setFromMatrixPosition(Mt.matrixWorld).applyMatrix4(He);const fr=or.update(Mt),Pr=Mt.material;Pr.visible&&R.push(Mt,fr,Pr,Li,Re.z,null)}}else if((Mt.isMesh||Mt.isLine||Mt.isPoints)&&(Mt.isSkinnedMesh&&Mt.skeleton.frame!==Kt.render.frame&&(Mt.skeleton.update(),Mt.skeleton.frame=Kt.render.frame),!Mt.frustumCulled||Se.intersectsObject(Mt))){xi&&Re.setFromMatrixPosition(Mt.matrixWorld).applyMatrix4(He);const fr=or.update(Mt),Pr=Mt.material;if(Array.isArray(Pr)){const hn=fr.groups;for(let Lr=0,jr=hn.length;Lr<jr;Lr++){const un=hn[Lr],Yn=Pr[un.materialIndex];Yn&&Yn.visible&&R.push(Mt,fr,Yn,Li,Re.z,un)}}else Pr.visible&&R.push(Mt,fr,Pr,Li,Re.z,null)}}const qr=Mt.children;for(let fr=0,Pr=qr.length;fr<Pr;fr++)Fe(qr[fr],ui,Li,xi)}function Ze(Mt,ui,Li,xi){const Fi=Mt.opaque,qr=Mt.transmissive,fr=Mt.transparent;P.setupLightsView(Li),qr.length>0&&ht(Fi,ui,Li),xi&&kt.viewport(be.copy(xi)),Fi.length>0&&Ut(Fi,ui,Li),qr.length>0&&Ut(qr,ui,Li),fr.length>0&&Ut(fr,ui,Li),kt.buffers.depth.setTest(!0),kt.buffers.depth.setMask(!0),kt.buffers.color.setMask(!0),kt.setPolygonOffset(!1)}function ht(Mt,ui,Li){const xi=gt.isWebGL2;nt===null&&(nt=new Ta(1,1,{generateMipmaps:!0,type:$e.has("EXT_color_buffer_half_float")?Fp:kh,minFilter:Tu,samples:xi&&p===!0?4:0})),H.getDrawingBufferSize(ce),xi?nt.setSize(ce.x,ce.y):nt.setSize($v(ce.x),$v(ce.y));const Fi=H.getRenderTarget();H.setRenderTarget(nt),H.clear();const qr=H.toneMapping;H.toneMapping=If,Ut(Mt,ui,Li),H.toneMapping=qr,Yt.updateMultisampleRenderTarget(nt),Yt.updateRenderTargetMipmap(nt),H.setRenderTarget(Fi)}function Ut(Mt,ui,Li){const xi=ui.isScene===!0?ui.overrideMaterial:null;for(let Fi=0,qr=Mt.length;Fi<qr;Fi++){const fr=Mt[Fi],Pr=fr.object,hn=fr.geometry,Lr=xi===null?fr.material:xi,jr=fr.group;Pr.layers.test(Li.layers)&&ei(Pr,ui,Li,hn,Lr,jr)}}function ei(Mt,ui,Li,xi,Fi,qr){Mt.onBeforeRender(H,ui,Li,xi,Fi,qr),Mt.modelViewMatrix.multiplyMatrices(Li.matrixWorldInverse,Mt.matrixWorld),Mt.normalMatrix.getNormalMatrix(Mt.modelViewMatrix),Fi.onBeforeRender(H,ui,Li,xi,Mt,qr),Fi.transparent===!0&&Fi.side===Pf?(Fi.side=Qa,Fi.needsUpdate=!0,H.renderBufferDirect(Li,ui,xi,Fi,Mt,qr),Fi.side=wh,Fi.needsUpdate=!0,H.renderBufferDirect(Li,ui,xi,Fi,Mt,qr),Fi.side=Pf):H.renderBufferDirect(Li,ui,xi,Fi,Mt,qr),Mt.onAfterRender(H,ui,Li,xi,Fi,qr)}function Si(Mt,ui,Li){ui.isScene!==!0&&(ui=lt);const xi=Ft.get(Mt),Fi=P.state.lights,qr=P.state.shadowsArray,fr=Fi.state.version,Pr=Et.getParameters(Mt,Fi.state,qr,ui,Li),hn=Et.getProgramCacheKey(Pr);let Lr=xi.programs;xi.environment=Mt.isMeshStandardMaterial?ui.environment:null,xi.fog=ui.fog,xi.envMap=(Mt.isMeshStandardMaterial?vi:$t).get(Mt.envMap||xi.environment),Lr===void 0&&(Mt.addEventListener("dispose",Tt),Lr=new Map,xi.programs=Lr);let jr=Lr.get(hn);if(jr!==void 0){if(xi.currentProgram===jr&&xi.lightsStateVersion===fr)return sr(Mt,Pr),jr}else Pr.uniforms=Et.getUniforms(Mt),Mt.onBuild(Li,Pr,H),Mt.onBeforeCompile(Pr,H),jr=Et.acquireProgram(Pr,hn),Lr.set(hn,jr),xi.uniforms=Pr.uniforms;const un=xi.uniforms;(!Mt.isShaderMaterial&&!Mt.isRawShaderMaterial||Mt.clipping===!0)&&(un.clippingPlanes=ft.uniform),sr(Mt,Pr),xi.needsLights=Mn(Mt),xi.lightsStateVersion=fr,xi.needsLights&&(un.ambientLightColor.value=Fi.state.ambient,un.lightProbe.value=Fi.state.probe,un.directionalLights.value=Fi.state.directional,un.directionalLightShadows.value=Fi.state.directionalShadow,un.spotLights.value=Fi.state.spot,un.spotLightShadows.value=Fi.state.spotShadow,un.rectAreaLights.value=Fi.state.rectArea,un.ltc_1.value=Fi.state.rectAreaLTC1,un.ltc_2.value=Fi.state.rectAreaLTC2,un.pointLights.value=Fi.state.point,un.pointLightShadows.value=Fi.state.pointShadow,un.hemisphereLights.value=Fi.state.hemi,un.directionalShadowMap.value=Fi.state.directionalShadowMap,un.directionalShadowMatrix.value=Fi.state.directionalShadowMatrix,un.spotShadowMap.value=Fi.state.spotShadowMap,un.spotShadowMatrix.value=Fi.state.spotShadowMatrix,un.pointShadowMap.value=Fi.state.pointShadowMap,un.pointShadowMatrix.value=Fi.state.pointShadowMatrix);const Yn=jr.getUniforms(),ks=vh.seqWithValue(Yn.seq,un);return xi.currentProgram=jr,xi.uniformsList=ks,jr}function sr(Mt,ui){const Li=Ft.get(Mt);Li.outputEncoding=ui.outputEncoding,Li.instancing=ui.instancing,Li.skinning=ui.skinning,Li.morphTargets=ui.morphTargets,Li.morphNormals=ui.morphNormals,Li.morphColors=ui.morphColors,Li.morphTargetsCount=ui.morphTargetsCount,Li.numClippingPlanes=ui.numClippingPlanes,Li.numIntersection=ui.numClipIntersection,Li.vertexAlphas=ui.vertexAlphas,Li.vertexTangents=ui.vertexTangents,Li.toneMapping=ui.toneMapping}function jt(Mt,ui,Li,xi,Fi){ui.isScene!==!0&&(ui=lt),Yt.resetTextureUnits();const qr=ui.fog,fr=xi.isMeshStandardMaterial?ui.environment:null,Pr=ue===null?H.outputEncoding:ue.isXRRenderTarget===!0?ue.texture.encoding:oc,hn=(xi.isMeshStandardMaterial?vi:$t).get(xi.envMap||fr),Lr=xi.vertexColors===!0&&!!Li.attributes.color&&Li.attributes.color.itemSize===4,jr=!!xi.normalMap&&!!Li.attributes.tangent,un=!!Li.morphAttributes.position,Yn=!!Li.morphAttributes.normal,ks=!!Li.morphAttributes.color,Qn=xi.toneMapped?H.toneMapping:If,Tr=Li.morphAttributes.position||Li.morphAttributes.normal||Li.morphAttributes.color,ss=Tr!==void 0?Tr.length:0,Bn=Ft.get(xi),os=P.state.lights;if(Be===!0&&(Le===!0||Mt!==Ae)){const $i=Mt===Ae&&xi.id===oe;ft.setState(xi,Mt,$i)}let rn=!1;xi.version===Bn.__version?(Bn.needsLights&&Bn.lightsStateVersion!==os.state.version||Bn.outputEncoding!==Pr||Fi.isInstancedMesh&&Bn.instancing===!1||!Fi.isInstancedMesh&&Bn.instancing===!0||Fi.isSkinnedMesh&&Bn.skinning===!1||!Fi.isSkinnedMesh&&Bn.skinning===!0||Bn.envMap!==hn||xi.fog===!0&&Bn.fog!==qr||Bn.numClippingPlanes!==void 0&&(Bn.numClippingPlanes!==ft.numPlanes||Bn.numIntersection!==ft.numIntersection)||Bn.vertexAlphas!==Lr||Bn.vertexTangents!==jr||Bn.morphTargets!==un||Bn.morphNormals!==Yn||Bn.morphColors!==ks||Bn.toneMapping!==Qn||gt.isWebGL2===!0&&Bn.morphTargetsCount!==ss)&&(rn=!0):(rn=!0,Bn.__version=xi.version);let Z0=Bn.currentProgram;rn===!0&&(Z0=Si(xi,ui,Fi));let Vs=!1,Ks=!1,rr=!1;const dt=Z0.getUniforms(),Jt=Bn.uniforms;if(kt.useProgram(Z0.program)&&(Vs=!0,Ks=!0,rr=!0),xi.id!==oe&&(oe=xi.id,Ks=!0),Vs||Ae!==Mt){if(dt.setValue(Ye,"projectionMatrix",Mt.projectionMatrix),gt.logarithmicDepthBuffer&&dt.setValue(Ye,"logDepthBufFC",2/(Math.log(Mt.far+1)/Math.LN2)),Ae!==Mt&&(Ae=Mt,Ks=!0,rr=!0),xi.isShaderMaterial||xi.isMeshPhongMaterial||xi.isMeshToonMaterial||xi.isMeshStandardMaterial||xi.envMap){const $i=dt.map.cameraPosition;$i!==void 0&&$i.setValue(Ye,Re.setFromMatrixPosition(Mt.matrixWorld))}(xi.isMeshPhongMaterial||xi.isMeshToonMaterial||xi.isMeshLambertMaterial||xi.isMeshBasicMaterial||xi.isMeshStandardMaterial||xi.isShaderMaterial)&&dt.setValue(Ye,"isOrthographic",Mt.isOrthographicCamera===!0),(xi.isMeshPhongMaterial||xi.isMeshToonMaterial||xi.isMeshLambertMaterial||xi.isMeshBasicMaterial||xi.isMeshStandardMaterial||xi.isShaderMaterial||xi.isShadowMaterial||Fi.isSkinnedMesh)&&dt.setValue(Ye,"viewMatrix",Mt.matrixWorldInverse)}if(Fi.isSkinnedMesh){dt.setOptional(Ye,Fi,"bindMatrix"),dt.setOptional(Ye,Fi,"bindMatrixInverse");const $i=Fi.skeleton;$i&&(gt.floatVertexTextures?($i.boneTexture===null&&$i.computeBoneTexture(),dt.setValue(Ye,"boneTexture",$i.boneTexture,Yt),dt.setValue(Ye,"boneTextureSize",$i.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Qi=Li.morphAttributes;return(Qi.position!==void 0||Qi.normal!==void 0||Qi.color!==void 0&&gt.isWebGL2===!0)&&bi.update(Fi,Li,xi,Z0),(Ks||Bn.receiveShadow!==Fi.receiveShadow)&&(Bn.receiveShadow=Fi.receiveShadow,dt.setValue(Ye,"receiveShadow",Fi.receiveShadow)),Ks&&(dt.setValue(Ye,"toneMappingExposure",H.toneMappingExposure),Bn.needsLights&&nr(Jt,rr),qr&&xi.fog===!0&&Ct.refreshFogUniforms(Jt,qr),Ct.refreshMaterialUniforms(Jt,xi,ge,ye,nt),vh.upload(Ye,Bn.uniformsList,Jt,Yt)),xi.isShaderMaterial&&xi.uniformsNeedUpdate===!0&&(vh.upload(Ye,Bn.uniformsList,Jt,Yt),xi.uniformsNeedUpdate=!1),xi.isSpriteMaterial&&dt.setValue(Ye,"center",Fi.center),dt.setValue(Ye,"modelViewMatrix",Fi.modelViewMatrix),dt.setValue(Ye,"normalMatrix",Fi.normalMatrix),dt.setValue(Ye,"modelMatrix",Fi.matrixWorld),Z0}function nr(Mt,ui){Mt.ambientLightColor.needsUpdate=ui,Mt.lightProbe.needsUpdate=ui,Mt.directionalLights.needsUpdate=ui,Mt.directionalLightShadows.needsUpdate=ui,Mt.pointLights.needsUpdate=ui,Mt.pointLightShadows.needsUpdate=ui,Mt.spotLights.needsUpdate=ui,Mt.spotLightShadows.needsUpdate=ui,Mt.rectAreaLights.needsUpdate=ui,Mt.hemisphereLights.needsUpdate=ui}function Mn(Mt){return Mt.isMeshLambertMaterial||Mt.isMeshToonMaterial||Mt.isMeshPhongMaterial||Mt.isMeshStandardMaterial||Mt.isShadowMaterial||Mt.isShaderMaterial&&Mt.lights===!0}this.getActiveCubeFace=function(){return Y},this.getActiveMipmapLevel=function(){return ee},this.getRenderTarget=function(){return ue},this.setRenderTargetTextures=function(Mt,ui,Li){Ft.get(Mt.texture).__webglTexture=ui,Ft.get(Mt.depthTexture).__webglTexture=Li;const xi=Ft.get(Mt);xi.__hasExternalTextures=!0,xi.__hasExternalTextures&&(xi.__autoAllocateDepthBuffer=Li===void 0,xi.__autoAllocateDepthBuffer||$e.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),xi.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Mt,ui){const Li=Ft.get(Mt);Li.__webglFramebuffer=ui,Li.__useDefaultFramebuffer=ui===void 0},this.setRenderTarget=function(Mt,ui=0,Li=0){ue=Mt,Y=ui,ee=Li;let xi=!0;if(Mt){const hn=Ft.get(Mt);hn.__useDefaultFramebuffer!==void 0?(kt.bindFramebuffer(36160,null),xi=!1):hn.__webglFramebuffer===void 0?Yt.setupRenderTarget(Mt):hn.__hasExternalTextures&&Yt.rebindTextures(Mt,Ft.get(Mt.texture).__webglTexture,Ft.get(Mt.depthTexture).__webglTexture)}let Fi=null,qr=!1,fr=!1;if(Mt){const hn=Mt.texture;(hn.isData3DTexture||hn.isDataArrayTexture)&&(fr=!0);const Lr=Ft.get(Mt).__webglFramebuffer;Mt.isWebGLCubeRenderTarget?(Fi=Lr[ui],qr=!0):gt.isWebGL2&&Mt.samples>0&&Yt.useMultisampledRTT(Mt)===!1?Fi=Ft.get(Mt).__webglMultisampledFramebuffer:Fi=Lr,be.copy(Mt.viewport),xe.copy(Mt.scissor),ne=Mt.scissorTest}else be.copy(ie).multiplyScalar(ge).floor(),xe.copy(he).multiplyScalar(ge).floor(),ne=de;if(kt.bindFramebuffer(36160,Fi)&&gt.drawBuffers&&xi&&kt.drawBuffers(Mt,Fi),kt.viewport(be),kt.scissor(xe),kt.setScissorTest(ne),qr){const hn=Ft.get(Mt.texture);Ye.framebufferTexture2D(36160,36064,34069+ui,hn.__webglTexture,Li)}else if(fr){const hn=Ft.get(Mt.texture),Lr=ui||0;Ye.framebufferTextureLayer(36160,36064,hn.__webglTexture,Li||0,Lr)}oe=-1},this.readRenderTargetPixels=function(Mt,ui,Li,xi,Fi,qr,fr){if(!(Mt&&Mt.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Pr=Ft.get(Mt).__webglFramebuffer;if(Mt.isWebGLCubeRenderTarget&&fr!==void 0&&(Pr=Pr[fr]),Pr){kt.bindFramebuffer(36160,Pr);try{const hn=Mt.texture,Lr=hn.format,jr=hn.type;if(Lr!==wl&&Me.convert(Lr)!==Ye.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const un=jr===Fp&&($e.has("EXT_color_buffer_half_float")||gt.isWebGL2&&$e.has("EXT_color_buffer_float"));if(jr!==kh&&Me.convert(jr)!==Ye.getParameter(35738)&&!(jr===ic&&(gt.isWebGL2||$e.has("OES_texture_float")||$e.has("WEBGL_color_buffer_float")))&&!un){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ui>=0&&ui<=Mt.width-xi&&Li>=0&&Li<=Mt.height-Fi&&Ye.readPixels(ui,Li,xi,Fi,Me.convert(Lr),Me.convert(jr),qr)}finally{const hn=ue!==null?Ft.get(ue).__webglFramebuffer:null;kt.bindFramebuffer(36160,hn)}}},this.copyFramebufferToTexture=function(Mt,ui,Li=0){if(ui.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const xi=Math.pow(2,-Li),Fi=Math.floor(ui.image.width*xi),qr=Math.floor(ui.image.height*xi);Yt.setTexture2D(ui,0),Ye.copyTexSubImage2D(3553,Li,0,0,Mt.x,Mt.y,Fi,qr),kt.unbindTexture()},this.copyTextureToTexture=function(Mt,ui,Li,xi=0){const Fi=ui.image.width,qr=ui.image.height,fr=Me.convert(Li.format),Pr=Me.convert(Li.type);Yt.setTexture2D(Li,0),Ye.pixelStorei(37440,Li.flipY),Ye.pixelStorei(37441,Li.premultiplyAlpha),Ye.pixelStorei(3317,Li.unpackAlignment),ui.isDataTexture?Ye.texSubImage2D(3553,xi,Mt.x,Mt.y,Fi,qr,fr,Pr,ui.image.data):ui.isCompressedTexture?Ye.compressedTexSubImage2D(3553,xi,Mt.x,Mt.y,ui.mipmaps[0].width,ui.mipmaps[0].height,fr,ui.mipmaps[0].data):Ye.texSubImage2D(3553,xi,Mt.x,Mt.y,fr,Pr,ui.image),xi===0&&Li.generateMipmaps&&Ye.generateMipmap(3553),kt.unbindTexture()},this.copyTextureToTexture3D=function(Mt,ui,Li,xi,Fi=0){if(H.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const qr=Mt.max.x-Mt.min.x+1,fr=Mt.max.y-Mt.min.y+1,Pr=Mt.max.z-Mt.min.z+1,hn=Me.convert(xi.format),Lr=Me.convert(xi.type);let jr;if(xi.isData3DTexture)Yt.setTexture3D(xi,0),jr=32879;else if(xi.isDataArrayTexture)Yt.setTexture2DArray(xi,0),jr=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Ye.pixelStorei(37440,xi.flipY),Ye.pixelStorei(37441,xi.premultiplyAlpha),Ye.pixelStorei(3317,xi.unpackAlignment);const un=Ye.getParameter(3314),Yn=Ye.getParameter(32878),ks=Ye.getParameter(3316),Qn=Ye.getParameter(3315),Tr=Ye.getParameter(32877),ss=Li.isCompressedTexture?Li.mipmaps[0]:Li.image;Ye.pixelStorei(3314,ss.width),Ye.pixelStorei(32878,ss.height),Ye.pixelStorei(3316,Mt.min.x),Ye.pixelStorei(3315,Mt.min.y),Ye.pixelStorei(32877,Mt.min.z),Li.isDataTexture||Li.isData3DTexture?Ye.texSubImage3D(jr,Fi,ui.x,ui.y,ui.z,qr,fr,Pr,hn,Lr,ss.data):Li.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Ye.compressedTexSubImage3D(jr,Fi,ui.x,ui.y,ui.z,qr,fr,Pr,hn,ss.data)):Ye.texSubImage3D(jr,Fi,ui.x,ui.y,ui.z,qr,fr,Pr,hn,Lr,ss),Ye.pixelStorei(3314,un),Ye.pixelStorei(32878,Yn),Ye.pixelStorei(3316,ks),Ye.pixelStorei(3315,Qn),Ye.pixelStorei(32877,Tr),Fi===0&&xi.generateMipmaps&&Ye.generateMipmap(jr),kt.unbindTexture()},this.initTexture=function(Mt){Yt.setTexture2D(Mt,0),kt.unbindTexture()},this.resetState=function(){Y=0,ee=0,ue=null,kt.reset(),bt.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}j0.prototype.isWebGLRenderer=!0;class F7 extends j0{}F7.prototype.isWebGL1Renderer=!0;class p1{constructor(t,i=25e-5){this.name="",this.color=new _r(t),this.density=i}clone(){return new p1(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}p1.prototype.isFogExp2=!0;class m1{constructor(t,i=1,s=1e3){this.name="",this.color=new _r(t),this.near=i,this.far=s}clone(){return new m1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}m1.prototype.isFog=!0;class Ch extends Rn{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,i){return super.copy(t,i),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const i=super.toJSON(t);return this.fog!==null&&(i.object.fog=this.fog.toJSON()),i}}Ch.prototype.isScene=!0;class Nh{constructor(t,i){this.array=t,this.stride=i,this.count=t!==void 0?t.length/i:0,this.usage=Hp,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=kl()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,i,s){t*=this.stride,s*=i.stride;for(let u=0,p=this.stride;u<p;u++)this.array[t+u]=i.array[s+u];return this}set(t,i=0){return this.array.set(t,i),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=kl()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const i=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),s=new this.constructor(i,this.stride);return s.setUsage(this.usage),s}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=kl()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}Nh.prototype.isInterleavedBuffer=!0;const _a=new wt;class ac{constructor(t,i,s,u=!1){this.name="",this.data=t,this.itemSize=i,this.offset=s,this.normalized=u===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let i=0,s=this.data.count;i<s;i++)_a.fromBufferAttribute(this,i),_a.applyMatrix4(t),this.setXYZ(i,_a.x,_a.y,_a.z);return this}applyNormalMatrix(t){for(let i=0,s=this.count;i<s;i++)_a.fromBufferAttribute(this,i),_a.applyNormalMatrix(t),this.setXYZ(i,_a.x,_a.y,_a.z);return this}transformDirection(t){for(let i=0,s=this.count;i<s;i++)_a.fromBufferAttribute(this,i),_a.transformDirection(t),this.setXYZ(i,_a.x,_a.y,_a.z);return this}setX(t,i){return this.data.array[t*this.data.stride+this.offset]=i,this}setY(t,i){return this.data.array[t*this.data.stride+this.offset+1]=i,this}setZ(t,i){return this.data.array[t*this.data.stride+this.offset+2]=i,this}setW(t,i){return this.data.array[t*this.data.stride+this.offset+3]=i,this}getX(t){return this.data.array[t*this.data.stride+this.offset]}getY(t){return this.data.array[t*this.data.stride+this.offset+1]}getZ(t){return this.data.array[t*this.data.stride+this.offset+2]}getW(t){return this.data.array[t*this.data.stride+this.offset+3]}setXY(t,i,s){return t=t*this.data.stride+this.offset,this.data.array[t+0]=i,this.data.array[t+1]=s,this}setXYZ(t,i,s,u){return t=t*this.data.stride+this.offset,this.data.array[t+0]=i,this.data.array[t+1]=s,this.data.array[t+2]=u,this}setXYZW(t,i,s,u,p){return t=t*this.data.stride+this.offset,this.data.array[t+0]=i,this.data.array[t+1]=s,this.data.array[t+2]=u,this.data.array[t+3]=p,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const i=[];for(let s=0;s<this.count;s++){const u=s*this.data.stride+this.offset;for(let p=0;p<this.itemSize;p++)i.push(this.data.array[u+p])}return new d0(new this.array.constructor(i),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new ac(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const i=[];for(let s=0;s<this.count;s++){const u=s*this.data.stride+this.offset;for(let p=0;p<this.itemSize;p++)i.push(this.data.array[u+p])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:i,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}ac.prototype.isInterleavedBufferAttribute=!0;class r2 extends Bs{constructor(t){super(),this.type="SpriteMaterial",this.color=new _r(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}r2.prototype.isSpriteMaterial=!0;let ap;const Nm=new wt,lp=new wt,fp=new wt,up=new Yi,Fm=new Yi,O7=new Jr,LA=new wt,Om=new wt,NA=new wt,fS=new Yi,C3=new Yi,uS=new Yi;class Mf extends Rn{constructor(t){if(super(),this.type="Sprite",ap===void 0){ap=new vn;const i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),s=new Nh(i,5);ap.setIndex([0,1,2,0,2,3]),ap.setAttribute("position",new ac(s,3,0,!1)),ap.setAttribute("uv",new ac(s,2,3,!1))}this.geometry=ap,this.material=t!==void 0?t:new r2,this.center=new Yi(.5,.5)}raycast(t,i){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),lp.setFromMatrixScale(this.matrixWorld),O7.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),fp.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&lp.multiplyScalar(-fp.z);const s=this.material.rotation;let u,p;s!==0&&(p=Math.cos(s),u=Math.sin(s));const y=this.center;FA(LA.set(-.5,-.5,0),fp,y,lp,u,p),FA(Om.set(.5,-.5,0),fp,y,lp,u,p),FA(NA.set(.5,.5,0),fp,y,lp,u,p),fS.set(0,0),C3.set(1,0),uS.set(1,1);let A=t.ray.intersectTriangle(LA,Om,NA,!1,Nm);if(A===null&&(FA(Om.set(-.5,.5,0),fp,y,lp,u,p),C3.set(0,1),A=t.ray.intersectTriangle(LA,NA,Om,!1,Nm),A===null))return;const E=t.ray.origin.distanceTo(Nm);E<t.near||E>t.far||i.push({distance:E,point:Nm.clone(),uv:lo.getUV(Nm,LA,Om,NA,fS,C3,uS,new Yi),face:null,object:this})}copy(t){return super.copy(t),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}Mf.prototype.isSprite=!0;function FA(l,t,i,s,u,p){up.subVectors(l,i).addScalar(.5).multiply(s),u!==void 0?(Fm.x=p*up.x-u*up.y,Fm.y=u*up.x+p*up.y):Fm.copy(up),l.copy(t),l.x+=Fm.x,l.y+=Fm.y,l.applyMatrix4(O7)}const OA=new wt,cS=new wt;class H7 extends Rn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const i=t.levels;for(let s=0,u=i.length;s<u;s++){const p=i[s];this.addLevel(p.object.clone(),p.distance)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,i=0){i=Math.abs(i);const s=this.levels;let u;for(u=0;u<s.length&&!(i<s[u].distance);u++);return s.splice(u,0,{distance:i,object:t}),this.add(t),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const i=this.levels;if(i.length>0){let s,u;for(s=1,u=i.length;s<u&&!(t<i[s].distance);s++);return i[s-1].object}return null}raycast(t,i){if(this.levels.length>0){OA.setFromMatrixPosition(this.matrixWorld);const u=t.ray.origin.distanceTo(OA);this.getObjectForDistance(u).raycast(t,i)}}update(t){const i=this.levels;if(i.length>1){OA.setFromMatrixPosition(t.matrixWorld),cS.setFromMatrixPosition(this.matrixWorld);const s=OA.distanceTo(cS)/t.zoom;i[0].object.visible=!0;let u,p;for(u=1,p=i.length;u<p&&s>=i[u].distance;u++)i[u-1].object.visible=!1,i[u].object.visible=!0;for(this._currentLevel=u-1;u<p;u++)i[u].object.visible=!1}}toJSON(t){const i=super.toJSON(t);this.autoUpdate===!1&&(i.object.autoUpdate=!1),i.object.levels=[];const s=this.levels;for(let u=0,p=s.length;u<p;u++){const y=s[u];i.object.levels.push({object:y.object.uuid,distance:y.distance})}return i}}const hS=new wt,dS=new V0,pS=new V0,MW=new wt,mS=new Jr;class Wg extends ir{constructor(t,i){super(t,i),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Jr,this.bindMatrixInverse=new Jr}copy(t){return super.copy(t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this}bind(t,i){this.skeleton=t,i===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),i=this.matrixWorld),this.bindMatrix.copy(i),this.bindMatrixInverse.copy(i).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new V0,i=this.geometry.attributes.skinWeight;for(let s=0,u=i.count;s<u;s++){t.fromBufferAttribute(i,s);const p=1/t.manhattanLength();p!==1/0?t.multiplyScalar(p):t.set(1,0,0,0),i.setXYZW(s,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(t,i){const s=this.skeleton,u=this.geometry;dS.fromBufferAttribute(u.attributes.skinIndex,t),pS.fromBufferAttribute(u.attributes.skinWeight,t),hS.copy(i).applyMatrix4(this.bindMatrix),i.set(0,0,0);for(let p=0;p<4;p++){const y=pS.getComponent(p);if(y!==0){const A=dS.getComponent(p);mS.multiplyMatrices(s.bones[A].matrixWorld,s.boneInverses[A]),i.addScaledVector(MW.copy(hS).applyMatrix4(mS),y)}}return i.applyMatrix4(this.bindMatrixInverse)}}Wg.prototype.isSkinnedMesh=!0;class Qg extends Rn{constructor(){super(),this.type="Bone"}}Qg.prototype.isBone=!0;class Ud extends ns{constructor(t=null,i=1,s=1,u,p,y,A,E,_=so,k=so,R,P){super(null,y,A,E,_,k,u,p,R,P),this.image={data:t,width:i,height:s},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Ud.prototype.isDataTexture=!0;const gS=new Jr,RW=new Jr;class Jg{constructor(t=[],i=[]){this.uuid=kl(),this.bones=t.slice(0),this.boneInverses=i,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const t=this.bones,i=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),i.length===0)this.calculateInverses();else if(t.length!==i.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let s=0,u=this.bones.length;s<u;s++)this.boneInverses.push(new Jr)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,i=this.bones.length;t<i;t++){const s=new Jr;this.bones[t]&&s.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(s)}}pose(){for(let t=0,i=this.bones.length;t<i;t++){const s=this.bones[t];s&&s.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,i=this.bones.length;t<i;t++){const s=this.bones[t];s&&(s.parent&&s.parent.isBone?(s.matrix.copy(s.parent.matrixWorld).invert(),s.matrix.multiply(s.matrixWorld)):s.matrix.copy(s.matrixWorld),s.matrix.decompose(s.position,s.quaternion,s.scale))}}update(){const t=this.bones,i=this.boneInverses,s=this.boneMatrices,u=this.boneTexture;for(let p=0,y=t.length;p<y;p++){const A=t[p]?t[p].matrixWorld:RW;gS.multiplyMatrices(A,i[p]),gS.toArray(s,p*16)}u!==null&&(u.needsUpdate=!0)}clone(){return new Jg(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=p7(t),t=Math.max(t,4);const i=new Float32Array(t*t*4);i.set(this.boneMatrices);const s=new Ud(i,t,t,wl,ic);return s.needsUpdate=!0,this.boneMatrices=i,this.boneTexture=s,this.boneTextureSize=t,this}getBoneByName(t){for(let i=0,s=this.bones.length;i<s;i++){const u=this.bones[i];if(u.name===t)return u}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,i){this.uuid=t.uuid;for(let s=0,u=t.bones.length;s<u;s++){const p=t.bones[s];let y=i[p];y===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",p),y=new Qg),this.bones.push(y),this.boneInverses.push(new Jr().fromArray(t.boneInverses[s]))}return this.init(),this}toJSON(){const t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const i=this.bones,s=this.boneInverses;for(let u=0,p=i.length;u<p;u++){const y=i[u];t.bones.push(y.uuid);const A=s[u];t.boneInverses.push(A.toArray())}return t}}class Qd extends d0{constructor(t,i,s,u=1){typeof s=="number"&&(u=s,s=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(t,i,s),this.meshPerAttribute=u}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}Qd.prototype.isInstancedBufferAttribute=!0;const bS=new Jr,yS=new Jr,HA=[],Hm=new ir;class I4 extends ir{constructor(t,i,s){super(t,i),this.instanceMatrix=new Qd(new Float32Array(s*16),16),this.instanceColor=null,this.count=s,this.frustumCulled=!1}copy(t){return super.copy(t),this.instanceMatrix.copy(t.instanceMatrix),t.instanceColor!==null&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,this}getColorAt(t,i){i.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,i){i.fromArray(this.instanceMatrix.array,t*16)}raycast(t,i){const s=this.matrixWorld,u=this.count;if(Hm.geometry=this.geometry,Hm.material=this.material,Hm.material!==void 0)for(let p=0;p<u;p++){this.getMatrixAt(p,bS),yS.multiplyMatrices(s,bS),Hm.matrixWorld=yS,Hm.raycast(t,HA);for(let y=0,A=HA.length;y<A;y++){const E=HA[y];E.instanceId=p,E.object=this,i.push(E)}HA.length=0}}setColorAt(t,i){this.instanceColor===null&&(this.instanceColor=new Qd(new Float32Array(this.instanceMatrix.count*3),3)),i.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,i){i.toArray(this.instanceMatrix.array,t*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}I4.prototype.isInstancedMesh=!0;class fo extends Bs{constructor(t){super(),this.type="LineBasicMaterial",this.color=new _r(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}fo.prototype.isLineBasicMaterial=!0;const AS=new wt,vS=new wt,wS=new Jr,S3=new Ph,UA=new Mu;class Eo extends Rn{constructor(t=new vn,i=new fo){super(),this.type="Line",this.geometry=t,this.material=i,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(t.index===null){const i=t.attributes.position,s=[0];for(let u=1,p=i.count;u<p;u++)AS.fromBufferAttribute(i,u-1),vS.fromBufferAttribute(i,u),s[u]=s[u-1],s[u]+=AS.distanceTo(vS);t.setAttribute("lineDistance",new $r(s,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(t,i){const s=this.geometry,u=this.matrixWorld,p=t.params.Line.threshold,y=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),UA.copy(s.boundingSphere),UA.applyMatrix4(u),UA.radius+=p,t.ray.intersectsSphere(UA)===!1)return;wS.copy(u).invert(),S3.copy(t.ray).applyMatrix4(wS);const A=p/((this.scale.x+this.scale.y+this.scale.z)/3),E=A*A,_=new wt,k=new wt,R=new wt,P=new wt,B=this.isLineSegments?2:1;if(s.isBufferGeometry){const O=s.index,z=s.attributes.position;if(O!==null){const Y=Math.max(0,y.start),ee=Math.min(O.count,y.start+y.count);for(let ue=Y,oe=ee-1;ue<oe;ue+=B){const Ae=O.getX(ue),be=O.getX(ue+1);if(_.fromBufferAttribute(z,Ae),k.fromBufferAttribute(z,be),S3.distanceSqToSegment(_,k,P,R)>E)continue;P.applyMatrix4(this.matrixWorld);const ne=t.ray.origin.distanceTo(P);ne<t.near||ne>t.far||i.push({distance:ne,point:R.clone().applyMatrix4(this.matrixWorld),index:ue,face:null,faceIndex:null,object:this})}}else{const Y=Math.max(0,y.start),ee=Math.min(z.count,y.start+y.count);for(let ue=Y,oe=ee-1;ue<oe;ue+=B){if(_.fromBufferAttribute(z,ue),k.fromBufferAttribute(z,ue+1),S3.distanceSqToSegment(_,k,P,R)>E)continue;P.applyMatrix4(this.matrixWorld);const be=t.ray.origin.distanceTo(P);be<t.near||be>t.far||i.push({distance:be,point:R.clone().applyMatrix4(this.matrixWorld),index:ue,face:null,faceIndex:null,object:this})}}}else s.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const i=t.morphAttributes,s=Object.keys(i);if(s.length>0){const u=i[s[0]];if(u!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let p=0,y=u.length;p<y;p++){const A=u[p].name||String(p);this.morphTargetInfluences.push(0),this.morphTargetDictionary[A]=p}}}}else{const i=t.morphTargets;i!==void 0&&i.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Eo.prototype.isLine=!0;const xS=new wt,ES=new wt;class Da extends Eo{constructor(t,i){super(t,i),this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(t.index===null){const i=t.attributes.position,s=[];for(let u=0,p=i.count;u<p;u+=2)xS.fromBufferAttribute(i,u),ES.fromBufferAttribute(i,u+1),s[u]=u===0?0:s[u-1],s[u+1]=s[u]+xS.distanceTo(ES);t.setAttribute("lineDistance",new $r(s,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Da.prototype.isLineSegments=!0;class D4 extends Eo{constructor(t,i){super(t,i),this.type="LineLoop"}}D4.prototype.isLineLoop=!0;class hc extends Bs{constructor(t){super(),this.type="PointsMaterial",this.color=new _r(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}hc.prototype.isPointsMaterial=!0;const _S=new Jr,iE=new Ph,VA=new Mu,jA=new wt;class g1 extends Rn{constructor(t=new vn,i=new hc){super(),this.type="Points",this.geometry=t,this.material=i,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}raycast(t,i){const s=this.geometry,u=this.matrixWorld,p=t.params.Points.threshold,y=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),VA.copy(s.boundingSphere),VA.applyMatrix4(u),VA.radius+=p,t.ray.intersectsSphere(VA)===!1)return;_S.copy(u).invert(),iE.copy(t.ray).applyMatrix4(_S);const A=p/((this.scale.x+this.scale.y+this.scale.z)/3),E=A*A;if(s.isBufferGeometry){const _=s.index,R=s.attributes.position;if(_!==null){const P=Math.max(0,y.start),B=Math.min(_.count,y.start+y.count);for(let O=P,H=B;O<H;O++){const z=_.getX(O);jA.fromBufferAttribute(R,z),kS(jA,z,E,u,t,i,this)}}else{const P=Math.max(0,y.start),B=Math.min(R.count,y.start+y.count);for(let O=P,H=B;O<H;O++)jA.fromBufferAttribute(R,O),kS(jA,O,E,u,t,i,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const i=t.morphAttributes,s=Object.keys(i);if(s.length>0){const u=i[s[0]];if(u!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let p=0,y=u.length;p<y;p++){const A=u[p].name||String(p);this.morphTargetInfluences.push(0),this.morphTargetDictionary[A]=p}}}}else{const i=t.morphTargets;i!==void 0&&i.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}g1.prototype.isPoints=!0;function kS(l,t,i,s,u,p,y){const A=iE.distanceSqToPoint(l);if(A<i){const E=new wt;iE.closestPointToPoint(l,E),E.applyMatrix4(s);const _=u.ray.origin.distanceTo(E);if(_<u.near||_>u.far)return;p.push({distance:_,distanceToRay:Math.sqrt(A),point:E,index:t,face:null,object:y})}}class U7 extends ns{constructor(t,i,s,u,p,y,A,E,_){super(t,i,s,u,p,y,A,E,_),this.minFilter=y!==void 0?y:Es,this.magFilter=p!==void 0?p:Es,this.generateMipmaps=!1;const k=this;function R(){k.needsUpdate=!0,t.requestVideoFrameCallback(R)}"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(R)}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}U7.prototype.isVideoTexture=!0;class V7 extends ns{constructor(t,i,s){super({width:t,height:i}),this.format=s,this.magFilter=so,this.minFilter=so,this.generateMipmaps=!1,this.needsUpdate=!0}}V7.prototype.isFramebufferTexture=!0;class YE extends ns{constructor(t,i,s,u,p,y,A,E,_,k,R,P){super(null,y,A,E,_,k,u,p,R,P),this.image={width:i,height:s},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}YE.prototype.isCompressedTexture=!0;class Xg extends ns{constructor(t,i,s,u,p,y,A,E,_){super(t,i,s,u,p,y,A,E,_),this.needsUpdate=!0}}Xg.prototype.isCanvasTexture=!0;class Ml{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,i){const s=this.getUtoTmapping(t);return this.getPoint(s,i)}getPoints(t=5){const i=[];for(let s=0;s<=t;s++)i.push(this.getPoint(s/t));return i}getSpacedPoints(t=5){const i=[];for(let s=0;s<=t;s++)i.push(this.getPointAt(s/t));return i}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const i=[];let s,u=this.getPoint(0),p=0;i.push(0);for(let y=1;y<=t;y++)s=this.getPoint(y/t),p+=s.distanceTo(u),i.push(p),u=s;return this.cacheArcLengths=i,i}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,i){const s=this.getLengths();let u=0;const p=s.length;let y;i?y=i:y=t*s[p-1];let A=0,E=p-1,_;for(;A<=E;)if(u=Math.floor(A+(E-A)/2),_=s[u]-y,_<0)A=u+1;else if(_>0)E=u-1;else{E=u;break}if(u=E,s[u]===y)return u/(p-1);const k=s[u],P=s[u+1]-k,B=(y-k)/P;return(u+B)/(p-1)}getTangent(t,i){let u=t-1e-4,p=t+1e-4;u<0&&(u=0),p>1&&(p=1);const y=this.getPoint(u),A=this.getPoint(p),E=i||(y.isVector2?new Yi:new wt);return E.copy(A).sub(y).normalize(),E}getTangentAt(t,i){const s=this.getUtoTmapping(t);return this.getTangent(s,i)}computeFrenetFrames(t,i){const s=new wt,u=[],p=[],y=[],A=new wt,E=new Jr;for(let B=0;B<=t;B++){const O=B/t;u[B]=this.getTangentAt(O,new wt)}p[0]=new wt,y[0]=new wt;let _=Number.MAX_VALUE;const k=Math.abs(u[0].x),R=Math.abs(u[0].y),P=Math.abs(u[0].z);k<=_&&(_=k,s.set(1,0,0)),R<=_&&(_=R,s.set(0,1,0)),P<=_&&s.set(0,0,1),A.crossVectors(u[0],s).normalize(),p[0].crossVectors(u[0],A),y[0].crossVectors(u[0],p[0]);for(let B=1;B<=t;B++){if(p[B]=p[B-1].clone(),y[B]=y[B-1].clone(),A.crossVectors(u[B-1],u[B]),A.length()>Number.EPSILON){A.normalize();const O=Math.acos(oo(u[B-1].dot(u[B]),-1,1));p[B].applyMatrix4(E.makeRotationAxis(A,O))}y[B].crossVectors(u[B],p[B])}if(i===!0){let B=Math.acos(oo(p[0].dot(p[t]),-1,1));B/=t,u[0].dot(A.crossVectors(p[0],p[t]))>0&&(B=-B);for(let O=1;O<=t;O++)p[O].applyMatrix4(E.makeRotationAxis(u[O],B*O)),y[O].crossVectors(u[O],p[O])}return{tangents:u,normals:p,binormals:y}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class qg extends Ml{constructor(t=0,i=0,s=1,u=1,p=0,y=Math.PI*2,A=!1,E=0){super(),this.type="EllipseCurve",this.aX=t,this.aY=i,this.xRadius=s,this.yRadius=u,this.aStartAngle=p,this.aEndAngle=y,this.aClockwise=A,this.aRotation=E}getPoint(t,i){const s=i||new Yi,u=Math.PI*2;let p=this.aEndAngle-this.aStartAngle;const y=Math.abs(p)<Number.EPSILON;for(;p<0;)p+=u;for(;p>u;)p-=u;p<Number.EPSILON&&(y?p=0:p=u),this.aClockwise===!0&&!y&&(p===u?p=-u:p=p-u);const A=this.aStartAngle+t*p;let E=this.aX+this.xRadius*Math.cos(A),_=this.aY+this.yRadius*Math.sin(A);if(this.aRotation!==0){const k=Math.cos(this.aRotation),R=Math.sin(this.aRotation),P=E-this.aX,B=_-this.aY;E=P*k-B*R+this.aX,_=P*R+B*k+this.aY}return s.set(E,_)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}qg.prototype.isEllipseCurve=!0;class KE extends qg{constructor(t,i,s,u,p,y){super(t,i,s,s,u,p,y),this.type="ArcCurve"}}KE.prototype.isArcCurve=!0;function $E(){let l=0,t=0,i=0,s=0;function u(p,y,A,E){l=p,t=A,i=-3*p+3*y-2*A-E,s=2*p-2*y+A+E}return{initCatmullRom:function(p,y,A,E,_){u(y,A,_*(A-p),_*(E-y))},initNonuniformCatmullRom:function(p,y,A,E,_,k,R){let P=(y-p)/_-(A-p)/(_+k)+(A-y)/k,B=(A-y)/k-(E-y)/(k+R)+(E-A)/R;P*=k,B*=k,u(y,A,P,B)},calc:function(p){const y=p*p,A=y*p;return l+t*p+i*y+s*A}}}const GA=new wt,T3=new $E,M3=new $E,R3=new $E;class e8 extends Ml{constructor(t=[],i=!1,s="centripetal",u=.5){super(),this.type="CatmullRomCurve3",this.points=t,this.closed=i,this.curveType=s,this.tension=u}getPoint(t,i=new wt){const s=i,u=this.points,p=u.length,y=(p-(this.closed?0:1))*t;let A=Math.floor(y),E=y-A;this.closed?A+=A>0?0:(Math.floor(Math.abs(A)/p)+1)*p:E===0&&A===p-1&&(A=p-2,E=1);let _,k;this.closed||A>0?_=u[(A-1)%p]:(GA.subVectors(u[0],u[1]).add(u[0]),_=GA);const R=u[A%p],P=u[(A+1)%p];if(this.closed||A+2<p?k=u[(A+2)%p]:(GA.subVectors(u[p-1],u[p-2]).add(u[p-1]),k=GA),this.curveType==="centripetal"||this.curveType==="chordal"){const B=this.curveType==="chordal"?.5:.25;let O=Math.pow(_.distanceToSquared(R),B),H=Math.pow(R.distanceToSquared(P),B),z=Math.pow(P.distanceToSquared(k),B);H<1e-4&&(H=1),O<1e-4&&(O=H),z<1e-4&&(z=H),T3.initNonuniformCatmullRom(_.x,R.x,P.x,k.x,O,H,z),M3.initNonuniformCatmullRom(_.y,R.y,P.y,k.y,O,H,z),R3.initNonuniformCatmullRom(_.z,R.z,P.z,k.z,O,H,z)}else this.curveType==="catmullrom"&&(T3.initCatmullRom(_.x,R.x,P.x,k.x,this.tension),M3.initCatmullRom(_.y,R.y,P.y,k.y,this.tension),R3.initCatmullRom(_.z,R.z,P.z,k.z,this.tension));return s.set(T3.calc(E),M3.calc(E),R3.calc(E)),s}copy(t){super.copy(t),this.points=[];for(let i=0,s=t.points.length;i<s;i++){const u=t.points[i];this.points.push(u.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let i=0,s=this.points.length;i<s;i++){const u=this.points[i];t.points.push(u.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let i=0,s=t.points.length;i<s;i++){const u=t.points[i];this.points.push(new wt().fromArray(u))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}e8.prototype.isCatmullRomCurve3=!0;function CS(l,t,i,s,u){const p=(s-t)*.5,y=(u-i)*.5,A=l*l,E=l*A;return(2*i-2*s+p+y)*E+(-3*i+3*s-2*p-y)*A+p*l+i}function BW(l,t){const i=1-l;return i*i*t}function IW(l,t){return 2*(1-l)*l*t}function DW(l,t){return l*l*t}function dg(l,t,i,s){return BW(l,t)+IW(l,i)+DW(l,s)}function PW(l,t){const i=1-l;return i*i*i*t}function LW(l,t){const i=1-l;return 3*i*i*l*t}function NW(l,t){return 3*(1-l)*l*l*t}function FW(l,t){return l*l*l*t}function pg(l,t,i,s,u){return PW(l,t)+LW(l,i)+NW(l,s)+FW(l,u)}class P4 extends Ml{constructor(t=new Yi,i=new Yi,s=new Yi,u=new Yi){super(),this.type="CubicBezierCurve",this.v0=t,this.v1=i,this.v2=s,this.v3=u}getPoint(t,i=new Yi){const s=i,u=this.v0,p=this.v1,y=this.v2,A=this.v3;return s.set(pg(t,u.x,p.x,y.x,A.x),pg(t,u.y,p.y,y.y,A.y)),s}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}P4.prototype.isCubicBezierCurve=!0;class t8 extends Ml{constructor(t=new wt,i=new wt,s=new wt,u=new wt){super(),this.type="CubicBezierCurve3",this.v0=t,this.v1=i,this.v2=s,this.v3=u}getPoint(t,i=new wt){const s=i,u=this.v0,p=this.v1,y=this.v2,A=this.v3;return s.set(pg(t,u.x,p.x,y.x,A.x),pg(t,u.y,p.y,y.y,A.y),pg(t,u.z,p.z,y.z,A.z)),s}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}t8.prototype.isCubicBezierCurve3=!0;class Zg extends Ml{constructor(t=new Yi,i=new Yi){super(),this.type="LineCurve",this.v1=t,this.v2=i}getPoint(t,i=new Yi){const s=i;return t===1?s.copy(this.v2):(s.copy(this.v2).sub(this.v1),s.multiplyScalar(t).add(this.v1)),s}getPointAt(t,i){return this.getPoint(t,i)}getTangent(t,i){const s=i||new Yi;return s.copy(this.v2).sub(this.v1).normalize(),s}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}Zg.prototype.isLineCurve=!0;class j7 extends Ml{constructor(t=new wt,i=new wt){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=t,this.v2=i}getPoint(t,i=new wt){const s=i;return t===1?s.copy(this.v2):(s.copy(this.v2).sub(this.v1),s.multiplyScalar(t).add(this.v1)),s}getPointAt(t,i){return this.getPoint(t,i)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class L4 extends Ml{constructor(t=new Yi,i=new Yi,s=new Yi){super(),this.type="QuadraticBezierCurve",this.v0=t,this.v1=i,this.v2=s}getPoint(t,i=new Yi){const s=i,u=this.v0,p=this.v1,y=this.v2;return s.set(dg(t,u.x,p.x,y.x),dg(t,u.y,p.y,y.y)),s}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}L4.prototype.isQuadraticBezierCurve=!0;class N4 extends Ml{constructor(t=new wt,i=new wt,s=new wt){super(),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=i,this.v2=s}getPoint(t,i=new wt){const s=i,u=this.v0,p=this.v1,y=this.v2;return s.set(dg(t,u.x,p.x,y.x),dg(t,u.y,p.y,y.y),dg(t,u.z,p.z,y.z)),s}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}N4.prototype.isQuadraticBezierCurve3=!0;class F4 extends Ml{constructor(t=[]){super(),this.type="SplineCurve",this.points=t}getPoint(t,i=new Yi){const s=i,u=this.points,p=(u.length-1)*t,y=Math.floor(p),A=p-y,E=u[y===0?y:y-1],_=u[y],k=u[y>u.length-2?u.length-1:y+1],R=u[y>u.length-3?u.length-1:y+2];return s.set(CS(A,E.x,_.x,k.x,R.x),CS(A,E.y,_.y,k.y,R.y)),s}copy(t){super.copy(t),this.points=[];for(let i=0,s=t.points.length;i<s;i++){const u=t.points[i];this.points.push(u.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let i=0,s=this.points.length;i<s;i++){const u=this.points[i];t.points.push(u.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let i=0,s=t.points.length;i<s;i++){const u=t.points[i];this.points.push(new Yi().fromArray(u))}return this}}F4.prototype.isSplineCurve=!0;var i8=Object.freeze({__proto__:null,ArcCurve:KE,CatmullRomCurve3:e8,CubicBezierCurve:P4,CubicBezierCurve3:t8,EllipseCurve:qg,LineCurve:Zg,LineCurve3:j7,QuadraticBezierCurve:L4,QuadraticBezierCurve3:N4,SplineCurve:F4});class G7 extends Ml{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),i=this.curves[this.curves.length-1].getPoint(1);t.equals(i)||this.curves.push(new Zg(i,t))}getPoint(t,i){const s=t*this.getLength(),u=this.getCurveLengths();let p=0;for(;p<u.length;){if(u[p]>=s){const y=u[p]-s,A=this.curves[p],E=A.getLength(),_=E===0?0:1-y/E;return A.getPointAt(_,i)}p++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let i=0;for(let s=0,u=this.curves.length;s<u;s++)i+=this.curves[s].getLength(),t.push(i);return this.cacheLengths=t,t}getSpacedPoints(t=40){const i=[];for(let s=0;s<=t;s++)i.push(this.getPoint(s/t));return this.autoClose&&i.push(i[0]),i}getPoints(t=12){const i=[];let s;for(let u=0,p=this.curves;u<p.length;u++){const y=p[u],A=y.isEllipseCurve?t*2:y.isLineCurve||y.isLineCurve3?1:y.isSplineCurve?t*y.points.length:t,E=y.getPoints(A);for(let _=0;_<E.length;_++){const k=E[_];s&&s.equals(k)||(i.push(k),s=k)}}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i}copy(t){super.copy(t),this.curves=[];for(let i=0,s=t.curves.length;i<s;i++){const u=t.curves[i];this.curves.push(u.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let i=0,s=this.curves.length;i<s;i++){const u=this.curves[i];t.curves.push(u.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let i=0,s=t.curves.length;i<s;i++){const u=t.curves[i];this.curves.push(new i8[u.type]().fromJSON(u))}return this}}class jp extends G7{constructor(t){super(),this.type="Path",this.currentPoint=new Yi,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let i=1,s=t.length;i<s;i++)this.lineTo(t[i].x,t[i].y);return this}moveTo(t,i){return this.currentPoint.set(t,i),this}lineTo(t,i){const s=new Zg(this.currentPoint.clone(),new Yi(t,i));return this.curves.push(s),this.currentPoint.set(t,i),this}quadraticCurveTo(t,i,s,u){const p=new L4(this.currentPoint.clone(),new Yi(t,i),new Yi(s,u));return this.curves.push(p),this.currentPoint.set(s,u),this}bezierCurveTo(t,i,s,u,p,y){const A=new P4(this.currentPoint.clone(),new Yi(t,i),new Yi(s,u),new Yi(p,y));return this.curves.push(A),this.currentPoint.set(p,y),this}splineThru(t){const i=[this.currentPoint.clone()].concat(t),s=new F4(i);return this.curves.push(s),this.currentPoint.copy(t[t.length-1]),this}arc(t,i,s,u,p,y){const A=this.currentPoint.x,E=this.currentPoint.y;return this.absarc(t+A,i+E,s,u,p,y),this}absarc(t,i,s,u,p,y){return this.absellipse(t,i,s,s,u,p,y),this}ellipse(t,i,s,u,p,y,A,E){const _=this.currentPoint.x,k=this.currentPoint.y;return this.absellipse(t+_,i+k,s,u,p,y,A,E),this}absellipse(t,i,s,u,p,y,A,E){const _=new qg(t,i,s,u,p,y,A,E);if(this.curves.length>0){const R=_.getPoint(0);R.equals(this.currentPoint)||this.lineTo(R.x,R.y)}this.curves.push(_);const k=_.getPoint(1);return this.currentPoint.copy(k),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class Jd extends vn{constructor(t=[new Yi(0,.5),new Yi(.5,0),new Yi(0,-.5)],i=12,s=0,u=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:t,segments:i,phiStart:s,phiLength:u},i=Math.floor(i),u=oo(u,0,Math.PI*2);const p=[],y=[],A=[],E=[],_=[],k=1/i,R=new wt,P=new Yi,B=new wt,O=new wt,H=new wt;let z=0,Y=0;for(let ee=0;ee<=t.length-1;ee++)switch(ee){case 0:z=t[ee+1].x-t[ee].x,Y=t[ee+1].y-t[ee].y,B.x=Y*1,B.y=-z,B.z=Y*0,H.copy(B),B.normalize(),E.push(B.x,B.y,B.z);break;case t.length-1:E.push(H.x,H.y,H.z);break;default:z=t[ee+1].x-t[ee].x,Y=t[ee+1].y-t[ee].y,B.x=Y*1,B.y=-z,B.z=Y*0,O.copy(B),B.x+=H.x,B.y+=H.y,B.z+=H.z,B.normalize(),E.push(B.x,B.y,B.z),H.copy(O)}for(let ee=0;ee<=i;ee++){const ue=s+ee*k*u,oe=Math.sin(ue),Ae=Math.cos(ue);for(let be=0;be<=t.length-1;be++){R.x=t[be].x*oe,R.y=t[be].y,R.z=t[be].x*Ae,y.push(R.x,R.y,R.z),P.x=ee/i,P.y=be/(t.length-1),A.push(P.x,P.y);const xe=E[3*be+0]*oe,ne=E[3*be+1],ae=E[3*be+0]*Ae;_.push(xe,ne,ae)}}for(let ee=0;ee<i;ee++)for(let ue=0;ue<t.length-1;ue++){const oe=ue+ee*t.length,Ae=oe,be=oe+t.length,xe=oe+t.length+1,ne=oe+1;p.push(Ae,be,ne),p.push(xe,ne,be)}this.setIndex(p),this.setAttribute("position",new $r(y,3)),this.setAttribute("uv",new $r(A,2)),this.setAttribute("normal",new $r(_,3))}static fromJSON(t){return new Jd(t.points,t.segments,t.phiStart,t.phiLength)}}class Gp extends Jd{constructor(t=1,i=1,s=4,u=8){const p=new jp;p.absarc(0,-i/2,t,Math.PI*1.5,0),p.absarc(0,i/2,t,0,Math.PI*.5),super(p.getPoints(s),u),this.type="CapsuleGeometry",this.parameters={radius:t,height:i,capSegments:s,radialSegments:u}}static fromJSON(t){return new Gp(t.radius,t.length,t.capSegments,t.radialSegments)}}class zp extends vn{constructor(t=1,i=8,s=0,u=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:i,thetaStart:s,thetaLength:u},i=Math.max(3,i);const p=[],y=[],A=[],E=[],_=new wt,k=new Yi;y.push(0,0,0),A.push(0,0,1),E.push(.5,.5);for(let R=0,P=3;R<=i;R++,P+=3){const B=s+R/i*u;_.x=t*Math.cos(B),_.y=t*Math.sin(B),y.push(_.x,_.y,_.z),A.push(0,0,1),k.x=(y[P]/t+1)/2,k.y=(y[P+1]/t+1)/2,E.push(k.x,k.y)}for(let R=1;R<=i;R++)p.push(R,R+1,0);this.setIndex(p),this.setAttribute("position",new $r(y,3)),this.setAttribute("normal",new $r(A,3)),this.setAttribute("uv",new $r(E,2))}static fromJSON(t){return new zp(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class ws extends vn{constructor(t=1,i=1,s=1,u=8,p=1,y=!1,A=0,E=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:i,height:s,radialSegments:u,heightSegments:p,openEnded:y,thetaStart:A,thetaLength:E};const _=this;u=Math.floor(u),p=Math.floor(p);const k=[],R=[],P=[],B=[];let O=0;const H=[],z=s/2;let Y=0;ee(),y===!1&&(t>0&&ue(!0),i>0&&ue(!1)),this.setIndex(k),this.setAttribute("position",new $r(R,3)),this.setAttribute("normal",new $r(P,3)),this.setAttribute("uv",new $r(B,2));function ee(){const oe=new wt,Ae=new wt;let be=0;const xe=(i-t)/s;for(let ne=0;ne<=p;ne++){const ae=[],ye=ne/p,ge=ye*(i-t)+t;for(let we=0;we<=u;we++){const le=we/u,ie=le*E+A,he=Math.sin(ie),de=Math.cos(ie);Ae.x=ge*he,Ae.y=-ye*s+z,Ae.z=ge*de,R.push(Ae.x,Ae.y,Ae.z),oe.set(he,xe,de).normalize(),P.push(oe.x,oe.y,oe.z),B.push(le,1-ye),ae.push(O++)}H.push(ae)}for(let ne=0;ne<u;ne++)for(let ae=0;ae<p;ae++){const ye=H[ae][ne],ge=H[ae+1][ne],we=H[ae+1][ne+1],le=H[ae][ne+1];k.push(ye,ge,le),k.push(ge,we,le),be+=6}_.addGroup(Y,be,0),Y+=be}function ue(oe){const Ae=O,be=new Yi,xe=new wt;let ne=0;const ae=oe===!0?t:i,ye=oe===!0?1:-1;for(let we=1;we<=u;we++)R.push(0,z*ye,0),P.push(0,ye,0),B.push(.5,.5),O++;const ge=O;for(let we=0;we<=u;we++){const ie=we/u*E+A,he=Math.cos(ie),de=Math.sin(ie);xe.x=ae*de,xe.y=z*ye,xe.z=ae*he,R.push(xe.x,xe.y,xe.z),P.push(0,ye,0),be.x=he*.5+.5,be.y=de*.5*ye+.5,B.push(be.x,be.y),O++}for(let we=0;we<u;we++){const le=Ae+we,ie=ge+we;oe===!0?k.push(ie,ie+1,le):k.push(ie+1,ie,le),ne+=3}_.addGroup(Y,ne,oe===!0?1:2),Y+=ne}}static fromJSON(t){return new ws(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class Sh extends ws{constructor(t=1,i=1,s=8,u=1,p=!1,y=0,A=Math.PI*2){super(0,t,i,s,u,p,y,A),this.type="ConeGeometry",this.parameters={radius:t,height:i,radialSegments:s,heightSegments:u,openEnded:p,thetaStart:y,thetaLength:A}}static fromJSON(t){return new Sh(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class wu extends vn{constructor(t=[],i=[],s=1,u=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:i,radius:s,detail:u};const p=[],y=[];A(u),_(s),k(),this.setAttribute("position",new $r(p,3)),this.setAttribute("normal",new $r(p.slice(),3)),this.setAttribute("uv",new $r(y,2)),u===0?this.computeVertexNormals():this.normalizeNormals();function A(ee){const ue=new wt,oe=new wt,Ae=new wt;for(let be=0;be<i.length;be+=3)B(i[be+0],ue),B(i[be+1],oe),B(i[be+2],Ae),E(ue,oe,Ae,ee)}function E(ee,ue,oe,Ae){const be=Ae+1,xe=[];for(let ne=0;ne<=be;ne++){xe[ne]=[];const ae=ee.clone().lerp(oe,ne/be),ye=ue.clone().lerp(oe,ne/be),ge=be-ne;for(let we=0;we<=ge;we++)we===0&&ne===be?xe[ne][we]=ae:xe[ne][we]=ae.clone().lerp(ye,we/ge)}for(let ne=0;ne<be;ne++)for(let ae=0;ae<2*(be-ne)-1;ae++){const ye=Math.floor(ae/2);ae%2===0?(P(xe[ne][ye+1]),P(xe[ne+1][ye]),P(xe[ne][ye])):(P(xe[ne][ye+1]),P(xe[ne+1][ye+1]),P(xe[ne+1][ye]))}}function _(ee){const ue=new wt;for(let oe=0;oe<p.length;oe+=3)ue.x=p[oe+0],ue.y=p[oe+1],ue.z=p[oe+2],ue.normalize().multiplyScalar(ee),p[oe+0]=ue.x,p[oe+1]=ue.y,p[oe+2]=ue.z}function k(){const ee=new wt;for(let ue=0;ue<p.length;ue+=3){ee.x=p[ue+0],ee.y=p[ue+1],ee.z=p[ue+2];const oe=z(ee)/2/Math.PI+.5,Ae=Y(ee)/Math.PI+.5;y.push(oe,1-Ae)}O(),R()}function R(){for(let ee=0;ee<y.length;ee+=6){const ue=y[ee+0],oe=y[ee+2],Ae=y[ee+4],be=Math.max(ue,oe,Ae),xe=Math.min(ue,oe,Ae);be>.9&&xe<.1&&(ue<.2&&(y[ee+0]+=1),oe<.2&&(y[ee+2]+=1),Ae<.2&&(y[ee+4]+=1))}}function P(ee){p.push(ee.x,ee.y,ee.z)}function B(ee,ue){const oe=ee*3;ue.x=t[oe+0],ue.y=t[oe+1],ue.z=t[oe+2]}function O(){const ee=new wt,ue=new wt,oe=new wt,Ae=new wt,be=new Yi,xe=new Yi,ne=new Yi;for(let ae=0,ye=0;ae<p.length;ae+=9,ye+=6){ee.set(p[ae+0],p[ae+1],p[ae+2]),ue.set(p[ae+3],p[ae+4],p[ae+5]),oe.set(p[ae+6],p[ae+7],p[ae+8]),be.set(y[ye+0],y[ye+1]),xe.set(y[ye+2],y[ye+3]),ne.set(y[ye+4],y[ye+5]),Ae.copy(ee).add(ue).add(oe).divideScalar(3);const ge=z(Ae);H(be,ye+0,ee,ge),H(xe,ye+2,ue,ge),H(ne,ye+4,oe,ge)}}function H(ee,ue,oe,Ae){Ae<0&&ee.x===1&&(y[ue]=ee.x-1),oe.x===0&&oe.z===0&&(y[ue]=Ae/2/Math.PI+.5)}function z(ee){return Math.atan2(ee.z,-ee.x)}function Y(ee){return Math.atan2(-ee.y,Math.sqrt(ee.x*ee.x+ee.z*ee.z))}}static fromJSON(t){return new wu(t.vertices,t.indices,t.radius,t.details)}}class Wp extends wu{constructor(t=1,i=0){const s=(1+Math.sqrt(5))/2,u=1/s,p=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-u,-s,0,-u,s,0,u,-s,0,u,s,-u,-s,0,-u,s,0,u,-s,0,u,s,0,-s,0,-u,s,0,-u,-s,0,u,s,0,u],y=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(p,y,t,i),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:i}}static fromJSON(t){return new Wp(t.radius,t.detail)}}const zA=new wt,WA=new wt,B3=new wt,QA=new lo;class r8 extends vn{constructor(t=null,i=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:i},t!==null){const u=Math.pow(10,4),p=Math.cos(Od*i),y=t.getIndex(),A=t.getAttribute("position"),E=y?y.count:A.count,_=[0,0,0],k=["a","b","c"],R=new Array(3),P={},B=[];for(let O=0;O<E;O+=3){y?(_[0]=y.getX(O),_[1]=y.getX(O+1),_[2]=y.getX(O+2)):(_[0]=O,_[1]=O+1,_[2]=O+2);const{a:H,b:z,c:Y}=QA;if(H.fromBufferAttribute(A,_[0]),z.fromBufferAttribute(A,_[1]),Y.fromBufferAttribute(A,_[2]),QA.getNormal(B3),R[0]=`${Math.round(H.x*u)},${Math.round(H.y*u)},${Math.round(H.z*u)}`,R[1]=`${Math.round(z.x*u)},${Math.round(z.y*u)},${Math.round(z.z*u)}`,R[2]=`${Math.round(Y.x*u)},${Math.round(Y.y*u)},${Math.round(Y.z*u)}`,!(R[0]===R[1]||R[1]===R[2]||R[2]===R[0]))for(let ee=0;ee<3;ee++){const ue=(ee+1)%3,oe=R[ee],Ae=R[ue],be=QA[k[ee]],xe=QA[k[ue]],ne=`${oe}_${Ae}`,ae=`${Ae}_${oe}`;ae in P&&P[ae]?(B3.dot(P[ae].normal)<=p&&(B.push(be.x,be.y,be.z),B.push(xe.x,xe.y,xe.z)),P[ae]=null):ne in P||(P[ne]={index0:_[ee],index1:_[ue],normal:B3.clone()})}}for(const O in P)if(P[O]){const{index0:H,index1:z}=P[O];zA.fromBufferAttribute(A,H),WA.fromBufferAttribute(A,z),B.push(zA.x,zA.y,zA.z),B.push(WA.x,WA.y,WA.z)}this.setAttribute("position",new $r(B,3))}}}class Df extends jp{constructor(t){super(t),this.uuid=kl(),this.type="Shape",this.holes=[]}getPointsHoles(t){const i=[];for(let s=0,u=this.holes.length;s<u;s++)i[s]=this.holes[s].getPoints(t);return i}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let i=0,s=t.holes.length;i<s;i++){const u=t.holes[i];this.holes.push(u.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let i=0,s=this.holes.length;i<s;i++){const u=this.holes[i];t.holes.push(u.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let i=0,s=t.holes.length;i<s;i++){const u=t.holes[i];this.holes.push(new jp().fromJSON(u))}return this}}const OW={triangulate:function(l,t,i=2){const s=t&&t.length,u=s?t[0]*i:l.length;let p=z7(l,0,u,i,!0);const y=[];if(!p||p.next===p.prev)return y;let A,E,_,k,R,P,B;if(s&&(p=GW(l,t,p,i)),l.length>80*i){A=_=l[0],E=k=l[1];for(let O=i;O<u;O+=i)R=l[O],P=l[O+1],R<A&&(A=R),P<E&&(E=P),R>_&&(_=R),P>k&&(k=P);B=Math.max(_-A,k-E),B=B!==0?1/B:0}return Tg(p,y,i,A,E,B),y}};function z7(l,t,i,s,u){let p,y;if(u===eQ(l,t,i,s)>0)for(p=t;p<i;p+=s)y=SS(p,l[p],l[p+1],y);else for(p=i-s;p>=t;p-=s)y=SS(p,l[p],l[p+1],y);return y&&O4(y,y.next)&&(Rg(y),y=y.next),y}function Th(l,t){if(!l)return l;t||(t=l);let i=l,s;do if(s=!1,!i.steiner&&(O4(i,i.next)||Hs(i.prev,i,i.next)===0)){if(Rg(i),i=t=i.prev,i===i.next)break;s=!0}else i=i.next;while(s||i!==t);return t}function Tg(l,t,i,s,u,p,y){if(!l)return;!y&&p&&XW(l,s,u,p);let A=l,E,_;for(;l.prev!==l.next;){if(E=l.prev,_=l.next,p?UW(l,s,u,p):HW(l)){t.push(E.i/i),t.push(l.i/i),t.push(_.i/i),Rg(l),l=_.next,A=_.next;continue}if(l=_,l===A){y?y===1?(l=VW(Th(l),t,i),Tg(l,t,i,s,u,p,2)):y===2&&jW(l,t,i,s,u,p):Tg(Th(l),t,i,s,u,p,1);break}}}function HW(l){const t=l.prev,i=l,s=l.next;if(Hs(t,i,s)>=0)return!1;let u=l.next.next;for(;u!==l.prev;){if(Ep(t.x,t.y,i.x,i.y,s.x,s.y,u.x,u.y)&&Hs(u.prev,u,u.next)>=0)return!1;u=u.next}return!0}function UW(l,t,i,s){const u=l.prev,p=l,y=l.next;if(Hs(u,p,y)>=0)return!1;const A=u.x<p.x?u.x<y.x?u.x:y.x:p.x<y.x?p.x:y.x,E=u.y<p.y?u.y<y.y?u.y:y.y:p.y<y.y?p.y:y.y,_=u.x>p.x?u.x>y.x?u.x:y.x:p.x>y.x?p.x:y.x,k=u.y>p.y?u.y>y.y?u.y:y.y:p.y>y.y?p.y:y.y,R=rE(A,E,t,i,s),P=rE(_,k,t,i,s);let B=l.prevZ,O=l.nextZ;for(;B&&B.z>=R&&O&&O.z<=P;){if(B!==l.prev&&B!==l.next&&Ep(u.x,u.y,p.x,p.y,y.x,y.y,B.x,B.y)&&Hs(B.prev,B,B.next)>=0||(B=B.prevZ,O!==l.prev&&O!==l.next&&Ep(u.x,u.y,p.x,p.y,y.x,y.y,O.x,O.y)&&Hs(O.prev,O,O.next)>=0))return!1;O=O.nextZ}for(;B&&B.z>=R;){if(B!==l.prev&&B!==l.next&&Ep(u.x,u.y,p.x,p.y,y.x,y.y,B.x,B.y)&&Hs(B.prev,B,B.next)>=0)return!1;B=B.prevZ}for(;O&&O.z<=P;){if(O!==l.prev&&O!==l.next&&Ep(u.x,u.y,p.x,p.y,y.x,y.y,O.x,O.y)&&Hs(O.prev,O,O.next)>=0)return!1;O=O.nextZ}return!0}function VW(l,t,i){let s=l;do{const u=s.prev,p=s.next.next;!O4(u,p)&&W7(u,s,s.next,p)&&Mg(u,p)&&Mg(p,u)&&(t.push(u.i/i),t.push(s.i/i),t.push(p.i/i),Rg(s),Rg(s.next),s=l=p),s=s.next}while(s!==l);return Th(s)}function jW(l,t,i,s,u,p){let y=l;do{let A=y.next.next;for(;A!==y.prev;){if(y.i!==A.i&&YW(y,A)){let E=Q7(y,A);y=Th(y,y.next),E=Th(E,E.next),Tg(y,t,i,s,u,p),Tg(E,t,i,s,u,p);return}A=A.next}y=y.next}while(y!==l)}function GW(l,t,i,s){const u=[];let p,y,A,E,_;for(p=0,y=t.length;p<y;p++)A=t[p]*s,E=p<y-1?t[p+1]*s:l.length,_=z7(l,A,E,s,!1),_===_.next&&(_.steiner=!0),u.push(ZW(_));for(u.sort(zW),p=0;p<u.length;p++)WW(u[p],i),i=Th(i,i.next);return i}function zW(l,t){return l.x-t.x}function WW(l,t){if(t=QW(l,t),t){const i=Q7(t,l);Th(t,t.next),Th(i,i.next)}}function QW(l,t){let i=t;const s=l.x,u=l.y;let p=-1/0,y;do{if(u<=i.y&&u>=i.next.y&&i.next.y!==i.y){const P=i.x+(u-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(P<=s&&P>p){if(p=P,P===s){if(u===i.y)return i;if(u===i.next.y)return i.next}y=i.x<i.next.x?i:i.next}}i=i.next}while(i!==t);if(!y)return null;if(s===p)return y;const A=y,E=y.x,_=y.y;let k=1/0,R;i=y;do s>=i.x&&i.x>=E&&s!==i.x&&Ep(u<_?s:p,u,E,_,u<_?p:s,u,i.x,i.y)&&(R=Math.abs(u-i.y)/(s-i.x),Mg(i,l)&&(R<k||R===k&&(i.x>y.x||i.x===y.x&&JW(y,i)))&&(y=i,k=R)),i=i.next;while(i!==A);return y}function JW(l,t){return Hs(l.prev,l,t.prev)<0&&Hs(t.next,l,l.next)<0}function XW(l,t,i,s){let u=l;do u.z===null&&(u.z=rE(u.x,u.y,t,i,s)),u.prevZ=u.prev,u.nextZ=u.next,u=u.next;while(u!==l);u.prevZ.nextZ=null,u.prevZ=null,qW(u)}function qW(l){let t,i,s,u,p,y,A,E,_=1;do{for(i=l,l=null,p=null,y=0;i;){for(y++,s=i,A=0,t=0;t<_&&(A++,s=s.nextZ,!!s);t++);for(E=_;A>0||E>0&&s;)A!==0&&(E===0||!s||i.z<=s.z)?(u=i,i=i.nextZ,A--):(u=s,s=s.nextZ,E--),p?p.nextZ=u:l=u,u.prevZ=p,p=u;i=s}p.nextZ=null,_*=2}while(y>1);return l}function rE(l,t,i,s,u){return l=32767*(l-i)*u,t=32767*(t-s)*u,l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,l|t<<1}function ZW(l){let t=l,i=l;do(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next;while(t!==l);return i}function Ep(l,t,i,s,u,p,y,A){return(u-y)*(t-A)-(l-y)*(p-A)>=0&&(l-y)*(s-A)-(i-y)*(t-A)>=0&&(i-y)*(p-A)-(u-y)*(s-A)>=0}function YW(l,t){return l.next.i!==t.i&&l.prev.i!==t.i&&!KW(l,t)&&(Mg(l,t)&&Mg(t,l)&&$W(l,t)&&(Hs(l.prev,l,t.prev)||Hs(l,t.prev,t))||O4(l,t)&&Hs(l.prev,l,l.next)>0&&Hs(t.prev,t,t.next)>0)}function Hs(l,t,i){return(t.y-l.y)*(i.x-t.x)-(t.x-l.x)*(i.y-t.y)}function O4(l,t){return l.x===t.x&&l.y===t.y}function W7(l,t,i,s){const u=XA(Hs(l,t,i)),p=XA(Hs(l,t,s)),y=XA(Hs(i,s,l)),A=XA(Hs(i,s,t));return!!(u!==p&&y!==A||u===0&&JA(l,i,t)||p===0&&JA(l,s,t)||y===0&&JA(i,l,s)||A===0&&JA(i,t,s))}function JA(l,t,i){return t.x<=Math.max(l.x,i.x)&&t.x>=Math.min(l.x,i.x)&&t.y<=Math.max(l.y,i.y)&&t.y>=Math.min(l.y,i.y)}function XA(l){return l>0?1:l<0?-1:0}function KW(l,t){let i=l;do{if(i.i!==l.i&&i.next.i!==l.i&&i.i!==t.i&&i.next.i!==t.i&&W7(i,i.next,l,t))return!0;i=i.next}while(i!==l);return!1}function Mg(l,t){return Hs(l.prev,l,l.next)<0?Hs(l,t,l.next)>=0&&Hs(l,l.prev,t)>=0:Hs(l,t,l.prev)<0||Hs(l,l.next,t)<0}function $W(l,t){let i=l,s=!1;const u=(l.x+t.x)/2,p=(l.y+t.y)/2;do i.y>p!=i.next.y>p&&i.next.y!==i.y&&u<(i.next.x-i.x)*(p-i.y)/(i.next.y-i.y)+i.x&&(s=!s),i=i.next;while(i!==l);return s}function Q7(l,t){const i=new nE(l.i,l.x,l.y),s=new nE(t.i,t.x,t.y),u=l.next,p=t.prev;return l.next=t,t.prev=l,i.next=u,u.prev=i,s.next=i,i.prev=s,p.next=s,s.prev=p,s}function SS(l,t,i,s){const u=new nE(l,t,i);return s?(u.next=s.next,u.prev=s,s.next.prev=u,s.next=u):(u.prev=u,u.next=u),u}function Rg(l){l.next.prev=l.prev,l.prev.next=l.next,l.prevZ&&(l.prevZ.nextZ=l.nextZ),l.nextZ&&(l.nextZ.prevZ=l.prevZ)}function nE(l,t,i){this.i=l,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function eQ(l,t,i,s){let u=0;for(let p=t,y=i-s;p<i;p+=s)u+=(l[y]-l[p])*(l[p+1]+l[y+1]),y=p;return u}class gu{static area(t){const i=t.length;let s=0;for(let u=i-1,p=0;p<i;u=p++)s+=t[u].x*t[p].y-t[p].x*t[u].y;return s*.5}static isClockWise(t){return gu.area(t)<0}static triangulateShape(t,i){const s=[],u=[],p=[];TS(t),MS(s,t);let y=t.length;i.forEach(TS);for(let E=0;E<i.length;E++)u.push(y),y+=i[E].length,MS(s,i[E]);const A=OW.triangulate(s,u);for(let E=0;E<A.length;E+=3)p.push(A.slice(E,E+3));return p}}function TS(l){const t=l.length;t>2&&l[t-1].equals(l[0])&&l.pop()}function MS(l,t){for(let i=0;i<t.length;i++)l.push(t[i].x),l.push(t[i].y)}class Lf extends vn{constructor(t=new Df([new Yi(.5,.5),new Yi(-.5,.5),new Yi(-.5,-.5),new Yi(.5,-.5)]),i={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:i},t=Array.isArray(t)?t:[t];const s=this,u=[],p=[];for(let A=0,E=t.length;A<E;A++){const _=t[A];y(_)}this.setAttribute("position",new $r(u,3)),this.setAttribute("uv",new $r(p,2)),this.computeVertexNormals();function y(A){const E=[],_=i.curveSegments!==void 0?i.curveSegments:12,k=i.steps!==void 0?i.steps:1;let R=i.depth!==void 0?i.depth:1,P=i.bevelEnabled!==void 0?i.bevelEnabled:!0,B=i.bevelThickness!==void 0?i.bevelThickness:.2,O=i.bevelSize!==void 0?i.bevelSize:B-.1,H=i.bevelOffset!==void 0?i.bevelOffset:0,z=i.bevelSegments!==void 0?i.bevelSegments:3;const Y=i.extrudePath,ee=i.UVGenerator!==void 0?i.UVGenerator:tQ;i.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),R=i.amount);let ue,oe=!1,Ae,be,xe,ne;Y&&(ue=Y.getSpacedPoints(k),oe=!0,P=!1,Ae=Y.computeFrenetFrames(k,!1),be=new wt,xe=new wt,ne=new wt),P||(z=0,B=0,O=0,H=0);const ae=A.extractPoints(_);let ye=ae.shape;const ge=ae.holes;if(!gu.isClockWise(ye)){ye=ye.reverse();for(let Ft=0,Yt=ge.length;Ft<Yt;Ft++){const $t=ge[Ft];gu.isClockWise($t)&&(ge[Ft]=$t.reverse())}}const le=gu.triangulateShape(ye,ge),ie=ye;for(let Ft=0,Yt=ge.length;Ft<Yt;Ft++){const $t=ge[Ft];ye=ye.concat($t)}function he(Ft,Yt,$t){return Yt||console.error("THREE.ExtrudeGeometry: vec does not exist"),Yt.clone().multiplyScalar($t).add(Ft)}const de=ye.length,Se=le.length;function Be(Ft,Yt,$t){let vi,Xi,Ki;const or=Ft.x-Yt.x,Et=Ft.y-Yt.y,Ct=$t.x-Ft.x,ri=$t.y-Ft.y,pt=or*or+Et*Et,ft=or*ri-Et*Ct;if(Math.abs(ft)>Number.EPSILON){const Lt=Math.sqrt(pt),ii=Math.sqrt(Ct*Ct+ri*ri),bi=Yt.x-Et/Lt,rt=Yt.y+or/Lt,Pe=$t.x-ri/ii,Me=$t.y+Ct/ii,bt=((Pe-bi)*ri-(Me-rt)*Ct)/(or*ri-Et*Ct);vi=bi+or*bt-Ft.x,Xi=rt+Et*bt-Ft.y;const zt=vi*vi+Xi*Xi;if(zt<=2)return new Yi(vi,Xi);Ki=Math.sqrt(zt/2)}else{let Lt=!1;or>Number.EPSILON?Ct>Number.EPSILON&&(Lt=!0):or<-Number.EPSILON?Ct<-Number.EPSILON&&(Lt=!0):Math.sign(Et)===Math.sign(ri)&&(Lt=!0),Lt?(vi=-Et,Xi=or,Ki=Math.sqrt(pt)):(vi=or,Xi=Et,Ki=Math.sqrt(pt/2))}return new Yi(vi/Ki,Xi/Ki)}const Le=[];for(let Ft=0,Yt=ie.length,$t=Yt-1,vi=Ft+1;Ft<Yt;Ft++,$t++,vi++)$t===Yt&&($t=0),vi===Yt&&(vi=0),Le[Ft]=Be(ie[Ft],ie[$t],ie[vi]);const nt=[];let He,ce=Le.concat();for(let Ft=0,Yt=ge.length;Ft<Yt;Ft++){const $t=ge[Ft];He=[];for(let vi=0,Xi=$t.length,Ki=Xi-1,or=vi+1;vi<Xi;vi++,Ki++,or++)Ki===Xi&&(Ki=0),or===Xi&&(or=0),He[vi]=Be($t[vi],$t[Ki],$t[or]);nt.push(He),ce=ce.concat(He)}for(let Ft=0;Ft<z;Ft++){const Yt=Ft/z,$t=B*Math.cos(Yt*Math.PI/2),vi=O*Math.sin(Yt*Math.PI/2)+H;for(let Xi=0,Ki=ie.length;Xi<Ki;Xi++){const or=he(ie[Xi],Le[Xi],vi);mt(or.x,or.y,-$t)}for(let Xi=0,Ki=ge.length;Xi<Ki;Xi++){const or=ge[Xi];He=nt[Xi];for(let Et=0,Ct=or.length;Et<Ct;Et++){const ri=he(or[Et],He[Et],vi);mt(ri.x,ri.y,-$t)}}}const Re=O+H;for(let Ft=0;Ft<de;Ft++){const Yt=P?he(ye[Ft],ce[Ft],Re):ye[Ft];oe?(xe.copy(Ae.normals[0]).multiplyScalar(Yt.x),be.copy(Ae.binormals[0]).multiplyScalar(Yt.y),ne.copy(ue[0]).add(xe).add(be),mt(ne.x,ne.y,ne.z)):mt(Yt.x,Yt.y,0)}for(let Ft=1;Ft<=k;Ft++)for(let Yt=0;Yt<de;Yt++){const $t=P?he(ye[Yt],ce[Yt],Re):ye[Yt];oe?(xe.copy(Ae.normals[Ft]).multiplyScalar($t.x),be.copy(Ae.binormals[Ft]).multiplyScalar($t.y),ne.copy(ue[Ft]).add(xe).add(be),mt(ne.x,ne.y,ne.z)):mt($t.x,$t.y,R/k*Ft)}for(let Ft=z-1;Ft>=0;Ft--){const Yt=Ft/z,$t=B*Math.cos(Yt*Math.PI/2),vi=O*Math.sin(Yt*Math.PI/2)+H;for(let Xi=0,Ki=ie.length;Xi<Ki;Xi++){const or=he(ie[Xi],Le[Xi],vi);mt(or.x,or.y,R+$t)}for(let Xi=0,Ki=ge.length;Xi<Ki;Xi++){const or=ge[Xi];He=nt[Xi];for(let Et=0,Ct=or.length;Et<Ct;Et++){const ri=he(or[Et],He[Et],vi);oe?mt(ri.x,ri.y+ue[k-1].y,ue[k-1].x+$t):mt(ri.x,ri.y,R+$t)}}}lt(),Te();function lt(){const Ft=u.length/3;if(P){let Yt=0,$t=de*Yt;for(let vi=0;vi<Se;vi++){const Xi=le[vi];$e(Xi[2]+$t,Xi[1]+$t,Xi[0]+$t)}Yt=k+z*2,$t=de*Yt;for(let vi=0;vi<Se;vi++){const Xi=le[vi];$e(Xi[0]+$t,Xi[1]+$t,Xi[2]+$t)}}else{for(let Yt=0;Yt<Se;Yt++){const $t=le[Yt];$e($t[2],$t[1],$t[0])}for(let Yt=0;Yt<Se;Yt++){const $t=le[Yt];$e($t[0]+de*k,$t[1]+de*k,$t[2]+de*k)}}s.addGroup(Ft,u.length/3-Ft,0)}function Te(){const Ft=u.length/3;let Yt=0;Ye(ie,Yt),Yt+=ie.length;for(let $t=0,vi=ge.length;$t<vi;$t++){const Xi=ge[$t];Ye(Xi,Yt),Yt+=Xi.length}s.addGroup(Ft,u.length/3-Ft,1)}function Ye(Ft,Yt){let $t=Ft.length;for(;--$t>=0;){const vi=$t;let Xi=$t-1;Xi<0&&(Xi=Ft.length-1);for(let Ki=0,or=k+z*2;Ki<or;Ki++){const Et=de*Ki,Ct=de*(Ki+1),ri=Yt+vi+Et,pt=Yt+Xi+Et,ft=Yt+Xi+Ct,Lt=Yt+vi+Ct;gt(ri,pt,ft,Lt)}}}function mt(Ft,Yt,$t){E.push(Ft),E.push(Yt),E.push($t)}function $e(Ft,Yt,$t){kt(Ft),kt(Yt),kt($t);const vi=u.length/3,Xi=ee.generateTopUV(s,u,vi-3,vi-2,vi-1);Kt(Xi[0]),Kt(Xi[1]),Kt(Xi[2])}function gt(Ft,Yt,$t,vi){kt(Ft),kt(Yt),kt(vi),kt(Yt),kt($t),kt(vi);const Xi=u.length/3,Ki=ee.generateSideWallUV(s,u,Xi-6,Xi-3,Xi-2,Xi-1);Kt(Ki[0]),Kt(Ki[1]),Kt(Ki[3]),Kt(Ki[1]),Kt(Ki[2]),Kt(Ki[3])}function kt(Ft){u.push(E[Ft*3+0]),u.push(E[Ft*3+1]),u.push(E[Ft*3+2])}function Kt(Ft){p.push(Ft.x),p.push(Ft.y)}}}toJSON(){const t=super.toJSON(),i=this.parameters.shapes,s=this.parameters.options;return iQ(i,s,t)}static fromJSON(t,i){const s=[];for(let p=0,y=t.shapes.length;p<y;p++){const A=i[t.shapes[p]];s.push(A)}const u=t.options.extrudePath;return u!==void 0&&(t.options.extrudePath=new i8[u.type]().fromJSON(u)),new Lf(s,t.options)}}const tQ={generateTopUV:function(l,t,i,s,u){const p=t[i*3],y=t[i*3+1],A=t[s*3],E=t[s*3+1],_=t[u*3],k=t[u*3+1];return[new Yi(p,y),new Yi(A,E),new Yi(_,k)]},generateSideWallUV:function(l,t,i,s,u,p){const y=t[i*3],A=t[i*3+1],E=t[i*3+2],_=t[s*3],k=t[s*3+1],R=t[s*3+2],P=t[u*3],B=t[u*3+1],O=t[u*3+2],H=t[p*3],z=t[p*3+1],Y=t[p*3+2];return Math.abs(A-k)<Math.abs(y-_)?[new Yi(y,1-E),new Yi(_,1-R),new Yi(P,1-O),new Yi(H,1-Y)]:[new Yi(A,1-E),new Yi(k,1-R),new Yi(B,1-O),new Yi(z,1-Y)]}};function iQ(l,t,i){if(i.shapes=[],Array.isArray(l))for(let s=0,u=l.length;s<u;s++){const p=l[s];i.shapes.push(p.uuid)}else i.shapes.push(l.uuid);return t.extrudePath!==void 0&&(i.options.extrudePath=t.extrudePath.toJSON()),i}class Qp extends wu{constructor(t=1,i=0){const s=(1+Math.sqrt(5))/2,u=[-1,s,0,1,s,0,-1,-s,0,1,-s,0,0,-1,s,0,1,s,0,-1,-s,0,1,-s,s,0,-1,s,0,1,-s,0,-1,-s,0,1],p=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(u,p,t,i),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:i}}static fromJSON(t){return new Qp(t.radius,t.detail)}}class Rf extends wu{constructor(t=1,i=0){const s=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],u=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(s,u,t,i),this.type="OctahedronGeometry",this.parameters={radius:t,detail:i}}static fromJSON(t){return new Rf(t.radius,t.detail)}}class Jp extends vn{constructor(t=.5,i=1,s=8,u=1,p=0,y=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:i,thetaSegments:s,phiSegments:u,thetaStart:p,thetaLength:y},s=Math.max(3,s),u=Math.max(1,u);const A=[],E=[],_=[],k=[];let R=t;const P=(i-t)/u,B=new wt,O=new Yi;for(let H=0;H<=u;H++){for(let z=0;z<=s;z++){const Y=p+z/s*y;B.x=R*Math.cos(Y),B.y=R*Math.sin(Y),E.push(B.x,B.y,B.z),_.push(0,0,1),O.x=(B.x/i+1)/2,O.y=(B.y/i+1)/2,k.push(O.x,O.y)}R+=P}for(let H=0;H<u;H++){const z=H*(s+1);for(let Y=0;Y<s;Y++){const ee=Y+z,ue=ee,oe=ee+s+1,Ae=ee+s+2,be=ee+1;A.push(ue,oe,be),A.push(oe,Ae,be)}}this.setIndex(A),this.setAttribute("position",new $r(E,3)),this.setAttribute("normal",new $r(_,3)),this.setAttribute("uv",new $r(k,2))}static fromJSON(t){return new Jp(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class Xd extends vn{constructor(t=new Df([new Yi(0,.5),new Yi(-.5,-.5),new Yi(.5,-.5)]),i=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:i};const s=[],u=[],p=[],y=[];let A=0,E=0;if(Array.isArray(t)===!1)_(t);else for(let k=0;k<t.length;k++)_(t[k]),this.addGroup(A,E,k),A+=E,E=0;this.setIndex(s),this.setAttribute("position",new $r(u,3)),this.setAttribute("normal",new $r(p,3)),this.setAttribute("uv",new $r(y,2));function _(k){const R=u.length/3,P=k.extractPoints(i);let B=P.shape;const O=P.holes;gu.isClockWise(B)===!1&&(B=B.reverse());for(let z=0,Y=O.length;z<Y;z++){const ee=O[z];gu.isClockWise(ee)===!0&&(O[z]=ee.reverse())}const H=gu.triangulateShape(B,O);for(let z=0,Y=O.length;z<Y;z++){const ee=O[z];B=B.concat(ee)}for(let z=0,Y=B.length;z<Y;z++){const ee=B[z];u.push(ee.x,ee.y,0),p.push(0,0,1),y.push(ee.x,ee.y)}for(let z=0,Y=H.length;z<Y;z++){const ee=H[z],ue=ee[0]+R,oe=ee[1]+R,Ae=ee[2]+R;s.push(ue,oe,Ae),E+=3}}}toJSON(){const t=super.toJSON(),i=this.parameters.shapes;return rQ(i,t)}static fromJSON(t,i){const s=[];for(let u=0,p=t.shapes.length;u<p;u++){const y=i[t.shapes[u]];s.push(y)}return new Xd(s,t.curveSegments)}}function rQ(l,t){if(t.shapes=[],Array.isArray(l))for(let i=0,s=l.length;i<s;i++){const u=l[i];t.shapes.push(u.uuid)}else t.shapes.push(l.uuid);return t}class Nf extends vn{constructor(t=1,i=32,s=16,u=0,p=Math.PI*2,y=0,A=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:i,heightSegments:s,phiStart:u,phiLength:p,thetaStart:y,thetaLength:A},i=Math.max(3,Math.floor(i)),s=Math.max(2,Math.floor(s));const E=Math.min(y+A,Math.PI);let _=0;const k=[],R=new wt,P=new wt,B=[],O=[],H=[],z=[];for(let Y=0;Y<=s;Y++){const ee=[],ue=Y/s;let oe=0;Y==0&&y==0?oe=.5/i:Y==s&&E==Math.PI&&(oe=-.5/i);for(let Ae=0;Ae<=i;Ae++){const be=Ae/i;R.x=-t*Math.cos(u+be*p)*Math.sin(y+ue*A),R.y=t*Math.cos(y+ue*A),R.z=t*Math.sin(u+be*p)*Math.sin(y+ue*A),O.push(R.x,R.y,R.z),P.copy(R).normalize(),H.push(P.x,P.y,P.z),z.push(be+oe,1-ue),ee.push(_++)}k.push(ee)}for(let Y=0;Y<s;Y++)for(let ee=0;ee<i;ee++){const ue=k[Y][ee+1],oe=k[Y][ee],Ae=k[Y+1][ee],be=k[Y+1][ee+1];(Y!==0||y>0)&&B.push(ue,oe,be),(Y!==s-1||E<Math.PI)&&B.push(oe,Ae,be)}this.setIndex(B),this.setAttribute("position",new $r(O,3)),this.setAttribute("normal",new $r(H,3)),this.setAttribute("uv",new $r(z,2))}static fromJSON(t){return new Nf(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class Xp extends wu{constructor(t=1,i=0){const s=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],u=[2,1,0,0,3,2,1,3,0,2,3,1];super(s,u,t,i),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:i}}static fromJSON(t){return new Xp(t.radius,t.detail)}}class Zl extends vn{constructor(t=1,i=.4,s=8,u=6,p=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:i,radialSegments:s,tubularSegments:u,arc:p},s=Math.floor(s),u=Math.floor(u);const y=[],A=[],E=[],_=[],k=new wt,R=new wt,P=new wt;for(let B=0;B<=s;B++)for(let O=0;O<=u;O++){const H=O/u*p,z=B/s*Math.PI*2;R.x=(t+i*Math.cos(z))*Math.cos(H),R.y=(t+i*Math.cos(z))*Math.sin(H),R.z=i*Math.sin(z),A.push(R.x,R.y,R.z),k.x=t*Math.cos(H),k.y=t*Math.sin(H),P.subVectors(R,k).normalize(),E.push(P.x,P.y,P.z),_.push(O/u),_.push(B/s)}for(let B=1;B<=s;B++)for(let O=1;O<=u;O++){const H=(u+1)*B+O-1,z=(u+1)*(B-1)+O-1,Y=(u+1)*(B-1)+O,ee=(u+1)*B+O;y.push(H,z,ee),y.push(z,Y,ee)}this.setIndex(y),this.setAttribute("position",new $r(A,3)),this.setAttribute("normal",new $r(E,3)),this.setAttribute("uv",new $r(_,2))}static fromJSON(t){return new Zl(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class qp extends vn{constructor(t=1,i=.4,s=64,u=8,p=2,y=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:i,tubularSegments:s,radialSegments:u,p,q:y},s=Math.floor(s),u=Math.floor(u);const A=[],E=[],_=[],k=[],R=new wt,P=new wt,B=new wt,O=new wt,H=new wt,z=new wt,Y=new wt;for(let ue=0;ue<=s;++ue){const oe=ue/s*p*Math.PI*2;ee(oe,p,y,t,B),ee(oe+.01,p,y,t,O),z.subVectors(O,B),Y.addVectors(O,B),H.crossVectors(z,Y),Y.crossVectors(H,z),H.normalize(),Y.normalize();for(let Ae=0;Ae<=u;++Ae){const be=Ae/u*Math.PI*2,xe=-i*Math.cos(be),ne=i*Math.sin(be);R.x=B.x+(xe*Y.x+ne*H.x),R.y=B.y+(xe*Y.y+ne*H.y),R.z=B.z+(xe*Y.z+ne*H.z),E.push(R.x,R.y,R.z),P.subVectors(R,B).normalize(),_.push(P.x,P.y,P.z),k.push(ue/s),k.push(Ae/u)}}for(let ue=1;ue<=s;ue++)for(let oe=1;oe<=u;oe++){const Ae=(u+1)*(ue-1)+(oe-1),be=(u+1)*ue+(oe-1),xe=(u+1)*ue+oe,ne=(u+1)*(ue-1)+oe;A.push(Ae,be,ne),A.push(be,xe,ne)}this.setIndex(A),this.setAttribute("position",new $r(E,3)),this.setAttribute("normal",new $r(_,3)),this.setAttribute("uv",new $r(k,2));function ee(ue,oe,Ae,be,xe){const ne=Math.cos(ue),ae=Math.sin(ue),ye=Ae/oe*ue,ge=Math.cos(ye);xe.x=be*(2+ge)*.5*ne,xe.y=be*(2+ge)*ae*.5,xe.z=be*Math.sin(ye)*.5}}static fromJSON(t){return new qp(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class Zp extends vn{constructor(t=new N4(new wt(-1,-1,0),new wt(-1,1,0),new wt(1,1,0)),i=64,s=1,u=8,p=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:i,radius:s,radialSegments:u,closed:p};const y=t.computeFrenetFrames(i,p);this.tangents=y.tangents,this.normals=y.normals,this.binormals=y.binormals;const A=new wt,E=new wt,_=new Yi;let k=new wt;const R=[],P=[],B=[],O=[];H(),this.setIndex(O),this.setAttribute("position",new $r(R,3)),this.setAttribute("normal",new $r(P,3)),this.setAttribute("uv",new $r(B,2));function H(){for(let ue=0;ue<i;ue++)z(ue);z(p===!1?i:0),ee(),Y()}function z(ue){k=t.getPointAt(ue/i,k);const oe=y.normals[ue],Ae=y.binormals[ue];for(let be=0;be<=u;be++){const xe=be/u*Math.PI*2,ne=Math.sin(xe),ae=-Math.cos(xe);E.x=ae*oe.x+ne*Ae.x,E.y=ae*oe.y+ne*Ae.y,E.z=ae*oe.z+ne*Ae.z,E.normalize(),P.push(E.x,E.y,E.z),A.x=k.x+s*E.x,A.y=k.y+s*E.y,A.z=k.z+s*E.z,R.push(A.x,A.y,A.z)}}function Y(){for(let ue=1;ue<=i;ue++)for(let oe=1;oe<=u;oe++){const Ae=(u+1)*(ue-1)+(oe-1),be=(u+1)*ue+(oe-1),xe=(u+1)*ue+oe,ne=(u+1)*(ue-1)+oe;O.push(Ae,be,ne),O.push(be,xe,ne)}}function ee(){for(let ue=0;ue<=i;ue++)for(let oe=0;oe<=u;oe++)_.x=ue/i,_.y=oe/u,B.push(_.x,_.y)}}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new Zp(new i8[t.path.type]().fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class n8 extends vn{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},t!==null){const i=[],s=new Set,u=new wt,p=new wt;if(t.index!==null){const y=t.attributes.position,A=t.index;let E=t.groups;E.length===0&&(E=[{start:0,count:A.count,materialIndex:0}]);for(let _=0,k=E.length;_<k;++_){const R=E[_],P=R.start,B=R.count;for(let O=P,H=P+B;O<H;O+=3)for(let z=0;z<3;z++){const Y=A.getX(O+z),ee=A.getX(O+(z+1)%3);u.fromBufferAttribute(y,Y),p.fromBufferAttribute(y,ee),RS(u,p,s)===!0&&(i.push(u.x,u.y,u.z),i.push(p.x,p.y,p.z))}}}else{const y=t.attributes.position;for(let A=0,E=y.count/3;A<E;A++)for(let _=0;_<3;_++){const k=3*A+_,R=3*A+(_+1)%3;u.fromBufferAttribute(y,k),p.fromBufferAttribute(y,R),RS(u,p,s)===!0&&(i.push(u.x,u.y,u.z),i.push(p.x,p.y,p.z))}}this.setAttribute("position",new $r(i,3))}}}function RS(l,t,i){const s=`${l.x},${l.y},${l.z}-${t.x},${t.y},${t.z}`,u=`${t.x},${t.y},${t.z}-${l.x},${l.y},${l.z}`;return i.has(s)===!0||i.has(u)===!0?!1:(i.add(s),i.add(u),!0)}var BS=Object.freeze({__proto__:null,BoxGeometry:fs,BoxBufferGeometry:fs,CapsuleGeometry:Gp,CapsuleBufferGeometry:Gp,CircleGeometry:zp,CircleBufferGeometry:zp,ConeGeometry:Sh,ConeBufferGeometry:Sh,CylinderGeometry:ws,CylinderBufferGeometry:ws,DodecahedronGeometry:Wp,DodecahedronBufferGeometry:Wp,EdgesGeometry:r8,ExtrudeGeometry:Lf,ExtrudeBufferGeometry:Lf,IcosahedronGeometry:Qp,IcosahedronBufferGeometry:Qp,LatheGeometry:Jd,LatheBufferGeometry:Jd,OctahedronGeometry:Rf,OctahedronBufferGeometry:Rf,PlaneGeometry:$o,PlaneBufferGeometry:$o,PolyhedronGeometry:wu,PolyhedronBufferGeometry:wu,RingGeometry:Jp,RingBufferGeometry:Jp,ShapeGeometry:Xd,ShapeBufferGeometry:Xd,SphereGeometry:Nf,SphereBufferGeometry:Nf,TetrahedronGeometry:Xp,TetrahedronBufferGeometry:Xp,TorusGeometry:Zl,TorusBufferGeometry:Zl,TorusKnotGeometry:qp,TorusKnotBufferGeometry:qp,TubeGeometry:Zp,TubeBufferGeometry:Zp,WireframeGeometry:n8});class s8 extends Bs{constructor(t){super(),this.type="ShadowMaterial",this.color=new _r(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}s8.prototype.isShadowMaterial=!0;class H4 extends Tl{constructor(t){super(t),this.type="RawShaderMaterial"}}H4.prototype.isRawShaderMaterial=!0;class is extends Bs{constructor(t){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new _r(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _r(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=i2,this.normalScale=new Yi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}is.prototype.isMeshStandardMaterial=!0;class Ru extends is{constructor(t){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Yi(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return oo(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(i){this.ior=(1+.4*i)/(1-.4*i)}}),this.sheenColor=new _r(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new _r(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new _r(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(t)}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}Ru.prototype.isMeshPhysicalMaterial=!0;class o8 extends Bs{constructor(t){super(),this.type="MeshPhongMaterial",this.color=new _r(16777215),this.specular=new _r(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _r(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=i2,this.normalScale=new Yi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Vg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}o8.prototype.isMeshPhongMaterial=!0;class a8 extends Bs{constructor(t){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new _r(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _r(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=i2,this.normalScale=new Yi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}a8.prototype.isMeshToonMaterial=!0;class l8 extends Bs{constructor(t){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=i2,this.normalScale=new Yi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}l8.prototype.isMeshNormalMaterial=!0;class f8 extends Bs{constructor(t){super(),this.type="MeshLambertMaterial",this.color=new _r(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _r(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Vg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}f8.prototype.isMeshLambertMaterial=!0;class u8 extends Bs{constructor(t){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new _r(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=i2,this.normalScale=new Yi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}u8.prototype.isMeshMatcapMaterial=!0;class U4 extends fo{constructor(t){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}U4.prototype.isLineDashedMaterial=!0;const nQ={ShadowMaterial:s8,SpriteMaterial:r2,RawShaderMaterial:H4,ShaderMaterial:Tl,PointsMaterial:hc,MeshPhysicalMaterial:Ru,MeshStandardMaterial:is,MeshPhongMaterial:o8,MeshToonMaterial:a8,MeshNormalMaterial:l8,MeshLambertMaterial:f8,MeshDepthMaterial:R4,MeshDistanceMaterial:B4,MeshBasicMaterial:Us,MeshMatcapMaterial:u8,LineDashedMaterial:U4,LineBasicMaterial:fo,Material:Bs};Bs.fromType=function(l){return new nQ[l]};const xs={arraySlice:function(l,t,i){return xs.isTypedArray(l)?new l.constructor(l.subarray(t,i!==void 0?i:l.length)):l.slice(t,i)},convertArray:function(l,t,i){return!l||!i&&l.constructor===t?l:typeof t.BYTES_PER_ELEMENT=="number"?new t(l):Array.prototype.slice.call(l)},isTypedArray:function(l){return ArrayBuffer.isView(l)&&!(l instanceof DataView)},getKeyframeOrder:function(l){function t(u,p){return l[u]-l[p]}const i=l.length,s=new Array(i);for(let u=0;u!==i;++u)s[u]=u;return s.sort(t),s},sortedArray:function(l,t,i){const s=l.length,u=new l.constructor(s);for(let p=0,y=0;y!==s;++p){const A=i[p]*t;for(let E=0;E!==t;++E)u[y++]=l[A+E]}return u},flattenJSON:function(l,t,i,s){let u=1,p=l[0];for(;p!==void 0&&p[s]===void 0;)p=l[u++];if(p===void 0)return;let y=p[s];if(y!==void 0)if(Array.isArray(y))do y=p[s],y!==void 0&&(t.push(p.time),i.push.apply(i,y)),p=l[u++];while(p!==void 0);else if(y.toArray!==void 0)do y=p[s],y!==void 0&&(t.push(p.time),y.toArray(i,i.length)),p=l[u++];while(p!==void 0);else do y=p[s],y!==void 0&&(t.push(p.time),i.push(y)),p=l[u++];while(p!==void 0)},subclip:function(l,t,i,s,u=30){const p=l.clone();p.name=t;const y=[];for(let E=0;E<p.tracks.length;++E){const _=p.tracks[E],k=_.getValueSize(),R=[],P=[];for(let B=0;B<_.times.length;++B){const O=_.times[B]*u;if(!(O<i||O>=s)){R.push(_.times[B]);for(let H=0;H<k;++H)P.push(_.values[B*k+H])}}R.length!==0&&(_.times=xs.convertArray(R,_.times.constructor),_.values=xs.convertArray(P,_.values.constructor),y.push(_))}p.tracks=y;let A=1/0;for(let E=0;E<p.tracks.length;++E)A>p.tracks[E].times[0]&&(A=p.tracks[E].times[0]);for(let E=0;E<p.tracks.length;++E)p.tracks[E].shift(-1*A);return p.resetDuration(),p},makeClipAdditive:function(l,t=0,i=l,s=30){s<=0&&(s=30);const u=i.tracks.length,p=t/s;for(let y=0;y<u;++y){const A=i.tracks[y],E=A.ValueTypeName;if(E==="bool"||E==="string")continue;const _=l.tracks.find(function(Y){return Y.name===A.name&&Y.ValueTypeName===E});if(_===void 0)continue;let k=0;const R=A.getValueSize();A.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(k=R/3);let P=0;const B=_.getValueSize();_.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(P=B/3);const O=A.times.length-1;let H;if(p<=A.times[0]){const Y=k,ee=R-k;H=xs.arraySlice(A.values,Y,ee)}else if(p>=A.times[O]){const Y=O*R+k,ee=Y+R-k;H=xs.arraySlice(A.values,Y,ee)}else{const Y=A.createInterpolant(),ee=k,ue=R-k;Y.evaluate(p),H=xs.arraySlice(Y.resultBuffer,ee,ue)}E==="quaternion"&&new D0().fromArray(H).normalize().conjugate().toArray(H);const z=_.times.length;for(let Y=0;Y<z;++Y){const ee=Y*B+P;if(E==="quaternion")D0.multiplyQuaternionsFlat(_.values,ee,H,0,_.values,ee);else{const ue=B-P*2;for(let oe=0;oe<ue;++oe)_.values[ee+oe]-=H[oe]}}}return l.blendMode=GE,l}};class xu{constructor(t,i,s,u){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=u!==void 0?u:new i.constructor(s),this.sampleValues=i,this.valueSize=s,this.settings=null,this.DefaultSettings_={}}evaluate(t){const i=this.parameterPositions;let s=this._cachedIndex,u=i[s],p=i[s-1];e:{t:{let y;i:{r:if(!(t<u)){for(let A=s+2;;){if(u===void 0){if(t<p)break r;return s=i.length,this._cachedIndex=s,this.afterEnd_(s-1,t,p)}if(s===A)break;if(p=u,u=i[++s],t<u)break t}y=i.length;break i}if(!(t>=p)){const A=i[1];t<A&&(s=2,p=A);for(let E=s-2;;){if(p===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,u);if(s===E)break;if(u=p,p=i[--s-1],t>=p)break t}y=s,s=0;break i}break e}for(;s<y;){const A=s+y>>>1;t<i[A]?y=A:s=A+1}if(u=i[s],p=i[s-1],p===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,u);if(u===void 0)return s=i.length,this._cachedIndex=s,this.afterEnd_(s-1,p,t)}this._cachedIndex=s,this.intervalChanged_(s,p,u)}return this.interpolate_(s,p,t,u)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const i=this.resultBuffer,s=this.sampleValues,u=this.valueSize,p=t*u;for(let y=0;y!==u;++y)i[y]=s[p+y];return i}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}xu.prototype.beforeStart_=xu.prototype.copySampleValue_;xu.prototype.afterEnd_=xu.prototype.copySampleValue_;class J7 extends xu{constructor(t,i,s,u){super(t,i,s,u),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Pd,endingEnd:Pd}}intervalChanged_(t,i,s){const u=this.parameterPositions;let p=t-2,y=t+1,A=u[p],E=u[y];if(A===void 0)switch(this.getSettings_().endingStart){case Ld:p=t,A=2*i-s;break;case kg:p=u.length-2,A=i+u[p]-u[p+1];break;default:p=t,A=s}if(E===void 0)switch(this.getSettings_().endingEnd){case Ld:y=t,E=2*s-i;break;case kg:y=1,E=s+u[1]-u[0];break;default:y=t-1,E=i}const _=(s-i)*.5,k=this.valueSize;this._weightPrev=_/(i-A),this._weightNext=_/(E-s),this._offsetPrev=p*k,this._offsetNext=y*k}interpolate_(t,i,s,u){const p=this.resultBuffer,y=this.sampleValues,A=this.valueSize,E=t*A,_=E-A,k=this._offsetPrev,R=this._offsetNext,P=this._weightPrev,B=this._weightNext,O=(s-i)/(u-i),H=O*O,z=H*O,Y=-P*z+2*P*H-P*O,ee=(1+P)*z+(-1.5-2*P)*H+(-.5+P)*O+1,ue=(-1-B)*z+(1.5+B)*H+.5*O,oe=B*z-B*H;for(let Ae=0;Ae!==A;++Ae)p[Ae]=Y*y[k+Ae]+ee*y[_+Ae]+ue*y[E+Ae]+oe*y[R+Ae];return p}}class c8 extends xu{constructor(t,i,s,u){super(t,i,s,u)}interpolate_(t,i,s,u){const p=this.resultBuffer,y=this.sampleValues,A=this.valueSize,E=t*A,_=E-A,k=(s-i)/(u-i),R=1-k;for(let P=0;P!==A;++P)p[P]=y[_+P]*R+y[E+P]*k;return p}}class X7 extends xu{constructor(t,i,s,u){super(t,i,s,u)}interpolate_(t){return this.copySampleValue_(t-1)}}class Hf{constructor(t,i,s,u){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(i===void 0||i.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=xs.convertArray(i,this.TimeBufferType),this.values=xs.convertArray(s,this.ValueBufferType),this.setInterpolation(u||this.DefaultInterpolation)}static toJSON(t){const i=t.constructor;let s;if(i.toJSON!==this.toJSON)s=i.toJSON(t);else{s={name:t.name,times:xs.convertArray(t.times,Array),values:xs.convertArray(t.values,Array)};const u=t.getInterpolation();u!==t.DefaultInterpolation&&(s.interpolation=u)}return s.type=t.ValueTypeName,s}InterpolantFactoryMethodDiscrete(t){return new X7(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new c8(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new J7(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let i;switch(t){case Op:i=this.InterpolantFactoryMethodDiscrete;break;case Wd:i=this.InterpolantFactoryMethodLinear;break;case Tv:i=this.InterpolantFactoryMethodSmooth;break}if(i===void 0){const s="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(s);return console.warn("THREE.KeyframeTrack:",s),this}return this.createInterpolant=i,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Op;case this.InterpolantFactoryMethodLinear:return Wd;case this.InterpolantFactoryMethodSmooth:return Tv}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const i=this.times;for(let s=0,u=i.length;s!==u;++s)i[s]+=t}return this}scale(t){if(t!==1){const i=this.times;for(let s=0,u=i.length;s!==u;++s)i[s]*=t}return this}trim(t,i){const s=this.times,u=s.length;let p=0,y=u-1;for(;p!==u&&s[p]<t;)++p;for(;y!==-1&&s[y]>i;)--y;if(++y,p!==0||y!==u){p>=y&&(y=Math.max(y,1),p=y-1);const A=this.getValueSize();this.times=xs.arraySlice(s,p,y),this.values=xs.arraySlice(this.values,p*A,y*A)}return this}validate(){let t=!0;const i=this.getValueSize();i-Math.floor(i)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const s=this.times,u=this.values,p=s.length;p===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let y=null;for(let A=0;A!==p;A++){const E=s[A];if(typeof E=="number"&&isNaN(E)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,A,E),t=!1;break}if(y!==null&&y>E){console.error("THREE.KeyframeTrack: Out of order keys.",this,A,E,y),t=!1;break}y=E}if(u!==void 0&&xs.isTypedArray(u))for(let A=0,E=u.length;A!==E;++A){const _=u[A];if(isNaN(_)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,A,_),t=!1;break}}return t}optimize(){const t=xs.arraySlice(this.times),i=xs.arraySlice(this.values),s=this.getValueSize(),u=this.getInterpolation()===Tv,p=t.length-1;let y=1;for(let A=1;A<p;++A){let E=!1;const _=t[A],k=t[A+1];if(_!==k&&(A!==1||_!==t[0]))if(u)E=!0;else{const R=A*s,P=R-s,B=R+s;for(let O=0;O!==s;++O){const H=i[R+O];if(H!==i[P+O]||H!==i[B+O]){E=!0;break}}}if(E){if(A!==y){t[y]=t[A];const R=A*s,P=y*s;for(let B=0;B!==s;++B)i[P+B]=i[R+B]}++y}}if(p>0){t[y]=t[p];for(let A=p*s,E=y*s,_=0;_!==s;++_)i[E+_]=i[A+_];++y}return y!==t.length?(this.times=xs.arraySlice(t,0,y),this.values=xs.arraySlice(i,0,y*s)):(this.times=t,this.values=i),this}clone(){const t=xs.arraySlice(this.times,0),i=xs.arraySlice(this.values,0),s=this.constructor,u=new s(this.name,t,i);return u.createInterpolant=this.createInterpolant,u}}Hf.prototype.TimeBufferType=Float32Array;Hf.prototype.ValueBufferType=Float32Array;Hf.prototype.DefaultInterpolation=Wd;class n2 extends Hf{}n2.prototype.ValueTypeName="bool";n2.prototype.ValueBufferType=Array;n2.prototype.DefaultInterpolation=Op;n2.prototype.InterpolantFactoryMethodLinear=void 0;n2.prototype.InterpolantFactoryMethodSmooth=void 0;class h8 extends Hf{}h8.prototype.ValueTypeName="color";class Yp extends Hf{}Yp.prototype.ValueTypeName="number";class q7 extends xu{constructor(t,i,s,u){super(t,i,s,u)}interpolate_(t,i,s,u){const p=this.resultBuffer,y=this.sampleValues,A=this.valueSize,E=(s-i)/(u-i);let _=t*A;for(let k=_+A;_!==k;_+=4)D0.slerpFlat(p,0,y,_-A,y,_,E);return p}}class Mh extends Hf{InterpolantFactoryMethodLinear(t){return new q7(this.times,this.values,this.getValueSize(),t)}}Mh.prototype.ValueTypeName="quaternion";Mh.prototype.DefaultInterpolation=Wd;Mh.prototype.InterpolantFactoryMethodSmooth=void 0;class s2 extends Hf{}s2.prototype.ValueTypeName="string";s2.prototype.ValueBufferType=Array;s2.prototype.DefaultInterpolation=Op;s2.prototype.InterpolantFactoryMethodLinear=void 0;s2.prototype.InterpolantFactoryMethodSmooth=void 0;class Kp extends Hf{}Kp.prototype.ValueTypeName="vector";class $p{constructor(t,i=-1,s,u=E4){this.name=t,this.tracks=s,this.duration=i,this.blendMode=u,this.uuid=kl(),this.duration<0&&this.resetDuration()}static parse(t){const i=[],s=t.tracks,u=1/(t.fps||1);for(let y=0,A=s.length;y!==A;++y)i.push(oQ(s[y]).scale(u));const p=new this(t.name,t.duration,i,t.blendMode);return p.uuid=t.uuid,p}static toJSON(t){const i=[],s=t.tracks,u={name:t.name,duration:t.duration,tracks:i,uuid:t.uuid,blendMode:t.blendMode};for(let p=0,y=s.length;p!==y;++p)i.push(Hf.toJSON(s[p]));return u}static CreateFromMorphTargetSequence(t,i,s,u){const p=i.length,y=[];for(let A=0;A<p;A++){let E=[],_=[];E.push((A+p-1)%p,A,(A+1)%p),_.push(0,1,0);const k=xs.getKeyframeOrder(E);E=xs.sortedArray(E,1,k),_=xs.sortedArray(_,1,k),!u&&E[0]===0&&(E.push(p),_.push(_[0])),y.push(new Yp(".morphTargetInfluences["+i[A].name+"]",E,_).scale(1/s))}return new this(t,-1,y)}static findByName(t,i){let s=t;if(!Array.isArray(t)){const u=t;s=u.geometry&&u.geometry.animations||u.animations}for(let u=0;u<s.length;u++)if(s[u].name===i)return s[u];return null}static CreateClipsFromMorphTargetSequences(t,i,s){const u={},p=/^([\w-]*?)([\d]+)$/;for(let A=0,E=t.length;A<E;A++){const _=t[A],k=_.name.match(p);if(k&&k.length>1){const R=k[1];let P=u[R];P||(u[R]=P=[]),P.push(_)}}const y=[];for(const A in u)y.push(this.CreateFromMorphTargetSequence(A,u[A],i,s));return y}static parseAnimation(t,i){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const s=function(R,P,B,O,H){if(B.length!==0){const z=[],Y=[];xs.flattenJSON(B,z,Y,O),z.length!==0&&H.push(new R(P,z,Y))}},u=[],p=t.name||"default",y=t.fps||30,A=t.blendMode;let E=t.length||-1;const _=t.hierarchy||[];for(let R=0;R<_.length;R++){const P=_[R].keys;if(!(!P||P.length===0))if(P[0].morphTargets){const B={};let O;for(O=0;O<P.length;O++)if(P[O].morphTargets)for(let H=0;H<P[O].morphTargets.length;H++)B[P[O].morphTargets[H]]=-1;for(const H in B){const z=[],Y=[];for(let ee=0;ee!==P[O].morphTargets.length;++ee){const ue=P[O];z.push(ue.time),Y.push(ue.morphTarget===H?1:0)}u.push(new Yp(".morphTargetInfluence["+H+"]",z,Y))}E=B.length*y}else{const B=".bones["+i[R].name+"]";s(Kp,B+".position",P,"pos",u),s(Mh,B+".quaternion",P,"rot",u),s(Kp,B+".scale",P,"scl",u)}}return u.length===0?null:new this(p,E,u,A)}resetDuration(){const t=this.tracks;let i=0;for(let s=0,u=t.length;s!==u;++s){const p=this.tracks[s];i=Math.max(i,p.times[p.times.length-1])}return this.duration=i,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let i=0;i<this.tracks.length;i++)t=t&&this.tracks[i].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let i=0;i<this.tracks.length;i++)t.push(this.tracks[i].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function sQ(l){switch(l.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Yp;case"vector":case"vector2":case"vector3":case"vector4":return Kp;case"color":return h8;case"quaternion":return Mh;case"bool":case"boolean":return n2;case"string":return s2}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+l)}function oQ(l){if(l.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=sQ(l.type);if(l.times===void 0){const i=[],s=[];xs.flattenJSON(l.keys,i,s,"value"),l.times=i,l.values=s}return t.parse!==void 0?t.parse(l):new t(l.name,l.times,l.values,l.interpolation)}const qd={enabled:!1,files:{},add:function(l,t){this.enabled!==!1&&(this.files[l]=t)},get:function(l){if(this.enabled!==!1)return this.files[l]},remove:function(l){delete this.files[l]},clear:function(){this.files={}}};class o2{constructor(t,i,s){const u=this;let p=!1,y=0,A=0,E;const _=[];this.onStart=void 0,this.onLoad=t,this.onProgress=i,this.onError=s,this.itemStart=function(k){A++,p===!1&&u.onStart!==void 0&&u.onStart(k,y,A),p=!0},this.itemEnd=function(k){y++,u.onProgress!==void 0&&u.onProgress(k,y,A),y===A&&(p=!1,u.onLoad!==void 0&&u.onLoad())},this.itemError=function(k){u.onError!==void 0&&u.onError(k)},this.resolveURL=function(k){return E?E(k):k},this.setURLModifier=function(k){return E=k,this},this.addHandler=function(k,R){return _.push(k,R),this},this.removeHandler=function(k){const R=_.indexOf(k);return R!==-1&&_.splice(R,2),this},this.getHandler=function(k){for(let R=0,P=_.length;R<P;R+=2){const B=_[R],O=_[R+1];if(B.global&&(B.lastIndex=0),B.test(k))return O}return null}}}const Z7=new o2;class ga{constructor(t){this.manager=t!==void 0?t:Z7,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,i){const s=this;return new Promise(function(u,p){s.load(t,u,i,p)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}const qu={};class Pa extends ga{constructor(t){super(t)}load(t,i,s,u){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const p=qd.get(t);if(p!==void 0)return this.manager.itemStart(t),setTimeout(()=>{i&&i(p),this.manager.itemEnd(t)},0),p;if(qu[t]!==void 0){qu[t].push({onLoad:i,onProgress:s,onError:u});return}qu[t]=[],qu[t].push({onLoad:i,onProgress:s,onError:u});const y=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),A=this.mimeType,E=this.responseType;fetch(y).then(_=>{if(_.status===200||_.status===0){if(_.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||_.body===void 0||_.body.getReader===void 0)return _;const k=qu[t],R=_.body.getReader(),P=_.headers.get("Content-Length"),B=P?parseInt(P):0,O=B!==0;let H=0;const z=new ReadableStream({start(Y){ee();function ee(){R.read().then(({done:ue,value:oe})=>{if(ue)Y.close();else{H+=oe.byteLength;const Ae=new ProgressEvent("progress",{lengthComputable:O,loaded:H,total:B});for(let be=0,xe=k.length;be<xe;be++){const ne=k[be];ne.onProgress&&ne.onProgress(Ae)}Y.enqueue(oe),ee()}})}}});return new Response(z)}else throw Error(`fetch for "${_.url}" responded with ${_.status}: ${_.statusText}`)}).then(_=>{switch(E){case"arraybuffer":return _.arrayBuffer();case"blob":return _.blob();case"document":return _.text().then(k=>new DOMParser().parseFromString(k,A));case"json":return _.json();default:if(A===void 0)return _.text();{const R=/charset="?([^;"\s]*)"?/i.exec(A),P=R&&R[1]?R[1].toLowerCase():void 0,B=new TextDecoder(P);return _.arrayBuffer().then(O=>B.decode(O))}}}).then(_=>{qd.add(t,_);const k=qu[t];delete qu[t];for(let R=0,P=k.length;R<P;R++){const B=k[R];B.onLoad&&B.onLoad(_)}}).catch(_=>{const k=qu[t];if(k===void 0)throw this.manager.itemError(t),_;delete qu[t];for(let R=0,P=k.length;R<P;R++){const B=k[R];B.onError&&B.onError(_)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class aQ extends ga{constructor(t){super(t)}load(t,i,s,u){const p=this,y=new Pa(this.manager);y.setPath(this.path),y.setRequestHeader(this.requestHeader),y.setWithCredentials(this.withCredentials),y.load(t,function(A){try{i(p.parse(JSON.parse(A)))}catch(E){u?u(E):console.error(E),p.manager.itemError(t)}},s,u)}parse(t){const i=[];for(let s=0;s<t.length;s++){const u=$p.parse(t[s]);i.push(u)}return i}}class lQ extends ga{constructor(t){super(t)}load(t,i,s,u){const p=this,y=[],A=new YE,E=new Pa(this.manager);E.setPath(this.path),E.setResponseType("arraybuffer"),E.setRequestHeader(this.requestHeader),E.setWithCredentials(p.withCredentials);let _=0;function k(R){E.load(t[R],function(P){const B=p.parse(P,!0);y[R]={width:B.width,height:B.height,format:B.format,mipmaps:B.mipmaps},_+=1,_===6&&(B.mipmapCount===1&&(A.minFilter=Es),A.image=y,A.format=B.format,A.needsUpdate=!0,i&&i(A))},s,u)}if(Array.isArray(t))for(let R=0,P=t.length;R<P;++R)k(R);else E.load(t,function(R){const P=p.parse(R,!0);if(P.isCubemap){const B=P.mipmaps.length/P.mipmapCount;for(let O=0;O<B;O++){y[O]={mipmaps:[]};for(let H=0;H<P.mipmapCount;H++)y[O].mipmaps.push(P.mipmaps[O*P.mipmapCount+H]),y[O].format=P.format,y[O].width=P.width,y[O].height=P.height}A.image=y}else A.image.width=P.width,A.image.height=P.height,A.mipmaps=P.mipmaps;P.mipmapCount===1&&(A.minFilter=Es),A.format=P.format,A.needsUpdate=!0,i&&i(A)},s,u);return A}}class Bg extends ga{constructor(t){super(t)}load(t,i,s,u){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const p=this,y=qd.get(t);if(y!==void 0)return p.manager.itemStart(t),setTimeout(function(){i&&i(y),p.manager.itemEnd(t)},0),y;const A=Sg("img");function E(){k(),qd.add(t,this),i&&i(this),p.manager.itemEnd(t)}function _(R){k(),u&&u(R),p.manager.itemError(t),p.manager.itemEnd(t)}function k(){A.removeEventListener("load",E,!1),A.removeEventListener("error",_,!1)}return A.addEventListener("load",E,!1),A.addEventListener("error",_,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(A.crossOrigin=this.crossOrigin),p.manager.itemStart(t),A.src=t,A}}class Y7 extends ga{constructor(t){super(t)}load(t,i,s,u){const p=new h1,y=new Bg(this.manager);y.setCrossOrigin(this.crossOrigin),y.setPath(this.path);let A=0;function E(_){y.load(t[_],function(k){p.images[_]=k,A++,A===6&&(p.needsUpdate=!0,i&&i(p))},void 0,u)}for(let _=0;_<t.length;++_)E(_);return p}}class d8 extends ga{constructor(t){super(t)}load(t,i,s,u){const p=this,y=new Ud,A=new Pa(this.manager);return A.setResponseType("arraybuffer"),A.setRequestHeader(this.requestHeader),A.setPath(this.path),A.setWithCredentials(p.withCredentials),A.load(t,function(E){const _=p.parse(E);!_||(_.image!==void 0?y.image=_.image:_.data!==void 0&&(y.image.width=_.width,y.image.height=_.height,y.image.data=_.data),y.wrapS=_.wrapS!==void 0?_.wrapS:da,y.wrapT=_.wrapT!==void 0?_.wrapT:da,y.magFilter=_.magFilter!==void 0?_.magFilter:Es,y.minFilter=_.minFilter!==void 0?_.minFilter:Es,y.anisotropy=_.anisotropy!==void 0?_.anisotropy:1,_.encoding!==void 0&&(y.encoding=_.encoding),_.flipY!==void 0&&(y.flipY=_.flipY),_.format!==void 0&&(y.format=_.format),_.type!==void 0&&(y.type=_.type),_.mipmaps!==void 0&&(y.mipmaps=_.mipmaps,y.minFilter=Tu),_.mipmapCount===1&&(y.minFilter=Es),_.generateMipmaps!==void 0&&(y.generateMipmaps=_.generateMipmaps),y.needsUpdate=!0,i&&i(y,_))},s,u),y}}class p8 extends ga{constructor(t){super(t)}load(t,i,s,u){const p=new ns,y=new Bg(this.manager);return y.setCrossOrigin(this.crossOrigin),y.setPath(this.path),y.load(t,function(A){p.image=A,p.needsUpdate=!0,i!==void 0&&i(p)},s,u),p}}class Ff extends Rn{constructor(t,i=1){super(),this.type="Light",this.color=new _r(t),this.intensity=i}dispose(){}copy(t){return super.copy(t),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const i=super.toJSON(t);return i.object.color=this.color.getHex(),i.object.intensity=this.intensity,this.groundColor!==void 0&&(i.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(i.object.distance=this.distance),this.angle!==void 0&&(i.object.angle=this.angle),this.decay!==void 0&&(i.object.decay=this.decay),this.penumbra!==void 0&&(i.object.penumbra=this.penumbra),this.shadow!==void 0&&(i.object.shadow=this.shadow.toJSON()),i}}Ff.prototype.isLight=!0;class m8 extends Ff{constructor(t,i,s){super(t,s),this.type="HemisphereLight",this.position.copy(Rn.DefaultUp),this.updateMatrix(),this.groundColor=new _r(i)}copy(t){return Ff.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}m8.prototype.isHemisphereLight=!0;const IS=new Jr,DS=new wt,PS=new wt;class g8{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Yi(512,512),this.map=null,this.mapPass=null,this.matrix=new Jr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new zg,this._frameExtents=new Yi(1,1),this._viewportCount=1,this._viewports=[new V0(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const i=this.camera,s=this.matrix;DS.setFromMatrixPosition(t.matrixWorld),i.position.copy(DS),PS.setFromMatrixPosition(t.target.matrixWorld),i.lookAt(PS),i.updateMatrixWorld(),IS.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(IS),s.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),s.multiply(i.projectionMatrix),s.multiply(i.matrixWorldInverse)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class K7 extends g8{constructor(){super(new _o(50,1,.5,500)),this.focus=1}updateMatrices(t){const i=this.camera,s=Cg*2*t.angle*this.focus,u=this.mapSize.width/this.mapSize.height,p=t.distance||i.far;(s!==i.fov||u!==i.aspect||p!==i.far)&&(i.fov=s,i.aspect=u,i.far=p,i.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}K7.prototype.isSpotLightShadow=!0;class V4 extends Ff{constructor(t,i,s=0,u=Math.PI/3,p=0,y=1){super(t,i),this.type="SpotLight",this.position.copy(Rn.DefaultUp),this.updateMatrix(),this.target=new Rn,this.distance=s,this.angle=u,this.penumbra=p,this.decay=y,this.shadow=new K7}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}V4.prototype.isSpotLight=!0;const LS=new Jr,Um=new wt,I3=new wt;class $7 extends g8{constructor(){super(new _o(90,1,.5,500)),this._frameExtents=new Yi(4,2),this._viewportCount=6,this._viewports=[new V0(2,1,1,1),new V0(0,1,1,1),new V0(3,1,1,1),new V0(1,1,1,1),new V0(3,0,1,1),new V0(1,0,1,1)],this._cubeDirections=[new wt(1,0,0),new wt(-1,0,0),new wt(0,0,1),new wt(0,0,-1),new wt(0,1,0),new wt(0,-1,0)],this._cubeUps=[new wt(0,1,0),new wt(0,1,0),new wt(0,1,0),new wt(0,1,0),new wt(0,0,1),new wt(0,0,-1)]}updateMatrices(t,i=0){const s=this.camera,u=this.matrix,p=t.distance||s.far;p!==s.far&&(s.far=p,s.updateProjectionMatrix()),Um.setFromMatrixPosition(t.matrixWorld),s.position.copy(Um),I3.copy(s.position),I3.add(this._cubeDirections[i]),s.up.copy(this._cubeUps[i]),s.lookAt(I3),s.updateMatrixWorld(),u.makeTranslation(-Um.x,-Um.y,-Um.z),LS.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),this._frustum.setFromProjectionMatrix(LS)}}$7.prototype.isPointLightShadow=!0;class Yg extends Ff{constructor(t,i,s=0,u=1){super(t,i),this.type="PointLight",this.distance=s,this.decay=u,this.shadow=new $7}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}Yg.prototype.isPointLight=!0;class eR extends g8{constructor(){super(new Lh(-5,5,5,-5,.5,500))}}eR.prototype.isDirectionalLightShadow=!0;class Kg extends Ff{constructor(t,i){super(t,i),this.type="DirectionalLight",this.position.copy(Rn.DefaultUp),this.updateMatrix(),this.target=new Rn,this.shadow=new eR}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}Kg.prototype.isDirectionalLight=!0;class b8 extends Ff{constructor(t,i){super(t,i),this.type="AmbientLight"}}b8.prototype.isAmbientLight=!0;class y8 extends Ff{constructor(t,i,s=10,u=10){super(t,i),this.type="RectAreaLight",this.width=s,this.height=u}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const i=super.toJSON(t);return i.object.width=this.width,i.object.height=this.height,i}}y8.prototype.isRectAreaLight=!0;class A8{constructor(){this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new wt)}set(t){for(let i=0;i<9;i++)this.coefficients[i].copy(t[i]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,i){const s=t.x,u=t.y,p=t.z,y=this.coefficients;return i.copy(y[0]).multiplyScalar(.282095),i.addScaledVector(y[1],.488603*u),i.addScaledVector(y[2],.488603*p),i.addScaledVector(y[3],.488603*s),i.addScaledVector(y[4],1.092548*(s*u)),i.addScaledVector(y[5],1.092548*(u*p)),i.addScaledVector(y[6],.315392*(3*p*p-1)),i.addScaledVector(y[7],1.092548*(s*p)),i.addScaledVector(y[8],.546274*(s*s-u*u)),i}getIrradianceAt(t,i){const s=t.x,u=t.y,p=t.z,y=this.coefficients;return i.copy(y[0]).multiplyScalar(.886227),i.addScaledVector(y[1],2*.511664*u),i.addScaledVector(y[2],2*.511664*p),i.addScaledVector(y[3],2*.511664*s),i.addScaledVector(y[4],2*.429043*s*u),i.addScaledVector(y[5],2*.429043*u*p),i.addScaledVector(y[6],.743125*p*p-.247708),i.addScaledVector(y[7],2*.429043*s*p),i.addScaledVector(y[8],.429043*(s*s-u*u)),i}add(t){for(let i=0;i<9;i++)this.coefficients[i].add(t.coefficients[i]);return this}addScaledSH(t,i){for(let s=0;s<9;s++)this.coefficients[s].addScaledVector(t.coefficients[s],i);return this}scale(t){for(let i=0;i<9;i++)this.coefficients[i].multiplyScalar(t);return this}lerp(t,i){for(let s=0;s<9;s++)this.coefficients[s].lerp(t.coefficients[s],i);return this}equals(t){for(let i=0;i<9;i++)if(!this.coefficients[i].equals(t.coefficients[i]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,i=0){const s=this.coefficients;for(let u=0;u<9;u++)s[u].fromArray(t,i+u*3);return this}toArray(t=[],i=0){const s=this.coefficients;for(let u=0;u<9;u++)s[u].toArray(t,i+u*3);return t}static getBasisAt(t,i){const s=t.x,u=t.y,p=t.z;i[0]=.282095,i[1]=.488603*u,i[2]=.488603*p,i[3]=.488603*s,i[4]=1.092548*s*u,i[5]=1.092548*u*p,i[6]=.315392*(3*p*p-1),i[7]=1.092548*s*p,i[8]=.546274*(s*s-u*u)}}A8.prototype.isSphericalHarmonics3=!0;class $g extends Ff{constructor(t=new A8,i=1){super(void 0,i),this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const i=super.toJSON(t);return i.object.sh=this.sh.toArray(),i}}$g.prototype.isLightProbe=!0;class tR extends ga{constructor(t){super(t),this.textures={}}load(t,i,s,u){const p=this,y=new Pa(p.manager);y.setPath(p.path),y.setRequestHeader(p.requestHeader),y.setWithCredentials(p.withCredentials),y.load(t,function(A){try{i(p.parse(JSON.parse(A)))}catch(E){u?u(E):console.error(E),p.manager.itemError(t)}},s,u)}parse(t){const i=this.textures;function s(p){return i[p]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",p),i[p]}const u=Bs.fromType(t.type);if(t.uuid!==void 0&&(u.uuid=t.uuid),t.name!==void 0&&(u.name=t.name),t.color!==void 0&&u.color!==void 0&&u.color.setHex(t.color),t.roughness!==void 0&&(u.roughness=t.roughness),t.metalness!==void 0&&(u.metalness=t.metalness),t.sheen!==void 0&&(u.sheen=t.sheen),t.sheenColor!==void 0&&(u.sheenColor=new _r().setHex(t.sheenColor)),t.sheenRoughness!==void 0&&(u.sheenRoughness=t.sheenRoughness),t.emissive!==void 0&&u.emissive!==void 0&&u.emissive.setHex(t.emissive),t.specular!==void 0&&u.specular!==void 0&&u.specular.setHex(t.specular),t.specularIntensity!==void 0&&(u.specularIntensity=t.specularIntensity),t.specularColor!==void 0&&u.specularColor!==void 0&&u.specularColor.setHex(t.specularColor),t.shininess!==void 0&&(u.shininess=t.shininess),t.clearcoat!==void 0&&(u.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(u.clearcoatRoughness=t.clearcoatRoughness),t.transmission!==void 0&&(u.transmission=t.transmission),t.thickness!==void 0&&(u.thickness=t.thickness),t.attenuationDistance!==void 0&&(u.attenuationDistance=t.attenuationDistance),t.attenuationColor!==void 0&&u.attenuationColor!==void 0&&u.attenuationColor.setHex(t.attenuationColor),t.fog!==void 0&&(u.fog=t.fog),t.flatShading!==void 0&&(u.flatShading=t.flatShading),t.blending!==void 0&&(u.blending=t.blending),t.combine!==void 0&&(u.combine=t.combine),t.side!==void 0&&(u.side=t.side),t.shadowSide!==void 0&&(u.shadowSide=t.shadowSide),t.opacity!==void 0&&(u.opacity=t.opacity),t.transparent!==void 0&&(u.transparent=t.transparent),t.alphaTest!==void 0&&(u.alphaTest=t.alphaTest),t.depthTest!==void 0&&(u.depthTest=t.depthTest),t.depthWrite!==void 0&&(u.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(u.colorWrite=t.colorWrite),t.stencilWrite!==void 0&&(u.stencilWrite=t.stencilWrite),t.stencilWriteMask!==void 0&&(u.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(u.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(u.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(u.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(u.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(u.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(u.stencilZPass=t.stencilZPass),t.wireframe!==void 0&&(u.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(u.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(u.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(u.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(u.rotation=t.rotation),t.linewidth!==1&&(u.linewidth=t.linewidth),t.dashSize!==void 0&&(u.dashSize=t.dashSize),t.gapSize!==void 0&&(u.gapSize=t.gapSize),t.scale!==void 0&&(u.scale=t.scale),t.polygonOffset!==void 0&&(u.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(u.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(u.polygonOffsetUnits=t.polygonOffsetUnits),t.dithering!==void 0&&(u.dithering=t.dithering),t.alphaToCoverage!==void 0&&(u.alphaToCoverage=t.alphaToCoverage),t.premultipliedAlpha!==void 0&&(u.premultipliedAlpha=t.premultipliedAlpha),t.visible!==void 0&&(u.visible=t.visible),t.toneMapped!==void 0&&(u.toneMapped=t.toneMapped),t.userData!==void 0&&(u.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?u.vertexColors=t.vertexColors>0:u.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const p in t.uniforms){const y=t.uniforms[p];switch(u.uniforms[p]={},y.type){case"t":u.uniforms[p].value=s(y.value);break;case"c":u.uniforms[p].value=new _r().setHex(y.value);break;case"v2":u.uniforms[p].value=new Yi().fromArray(y.value);break;case"v3":u.uniforms[p].value=new wt().fromArray(y.value);break;case"v4":u.uniforms[p].value=new V0().fromArray(y.value);break;case"m3":u.uniforms[p].value=new qs().fromArray(y.value);break;case"m4":u.uniforms[p].value=new Jr().fromArray(y.value);break;default:u.uniforms[p].value=y.value}}if(t.defines!==void 0&&(u.defines=t.defines),t.vertexShader!==void 0&&(u.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(u.fragmentShader=t.fragmentShader),t.extensions!==void 0)for(const p in t.extensions)u.extensions[p]=t.extensions[p];if(t.shading!==void 0&&(u.flatShading=t.shading===1),t.size!==void 0&&(u.size=t.size),t.sizeAttenuation!==void 0&&(u.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(u.map=s(t.map)),t.matcap!==void 0&&(u.matcap=s(t.matcap)),t.alphaMap!==void 0&&(u.alphaMap=s(t.alphaMap)),t.bumpMap!==void 0&&(u.bumpMap=s(t.bumpMap)),t.bumpScale!==void 0&&(u.bumpScale=t.bumpScale),t.normalMap!==void 0&&(u.normalMap=s(t.normalMap)),t.normalMapType!==void 0&&(u.normalMapType=t.normalMapType),t.normalScale!==void 0){let p=t.normalScale;Array.isArray(p)===!1&&(p=[p,p]),u.normalScale=new Yi().fromArray(p)}return t.displacementMap!==void 0&&(u.displacementMap=s(t.displacementMap)),t.displacementScale!==void 0&&(u.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(u.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(u.roughnessMap=s(t.roughnessMap)),t.metalnessMap!==void 0&&(u.metalnessMap=s(t.metalnessMap)),t.emissiveMap!==void 0&&(u.emissiveMap=s(t.emissiveMap)),t.emissiveIntensity!==void 0&&(u.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(u.specularMap=s(t.specularMap)),t.specularIntensityMap!==void 0&&(u.specularIntensityMap=s(t.specularIntensityMap)),t.specularColorMap!==void 0&&(u.specularColorMap=s(t.specularColorMap)),t.envMap!==void 0&&(u.envMap=s(t.envMap)),t.envMapIntensity!==void 0&&(u.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(u.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(u.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(u.lightMap=s(t.lightMap)),t.lightMapIntensity!==void 0&&(u.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(u.aoMap=s(t.aoMap)),t.aoMapIntensity!==void 0&&(u.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(u.gradientMap=s(t.gradientMap)),t.clearcoatMap!==void 0&&(u.clearcoatMap=s(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(u.clearcoatRoughnessMap=s(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(u.clearcoatNormalMap=s(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(u.clearcoatNormalScale=new Yi().fromArray(t.clearcoatNormalScale)),t.transmissionMap!==void 0&&(u.transmissionMap=s(t.transmissionMap)),t.thicknessMap!==void 0&&(u.thicknessMap=s(t.thicknessMap)),t.sheenColorMap!==void 0&&(u.sheenColorMap=s(t.sheenColorMap)),t.sheenRoughnessMap!==void 0&&(u.sheenRoughnessMap=s(t.sheenRoughnessMap)),u}setTextures(t){return this.textures=t,this}}class Cl{static decodeText(t){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(t);let i="";for(let s=0,u=t.length;s<u;s++)i+=String.fromCharCode(t[s]);try{return decodeURIComponent(escape(i))}catch{return i}}static extractUrlBase(t){const i=t.lastIndexOf("/");return i===-1?"./":t.slice(0,i+1)}static resolveURL(t,i){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(i)&&/^\//.test(t)&&(i=i.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:i+t)}}class v8 extends vn{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const t=super.toJSON(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}v8.prototype.isInstancedBufferGeometry=!0;class iR extends ga{constructor(t){super(t)}load(t,i,s,u){const p=this,y=new Pa(p.manager);y.setPath(p.path),y.setRequestHeader(p.requestHeader),y.setWithCredentials(p.withCredentials),y.load(t,function(A){try{i(p.parse(JSON.parse(A)))}catch(E){u?u(E):console.error(E),p.manager.itemError(t)}},s,u)}parse(t){const i={},s={};function u(B,O){if(i[O]!==void 0)return i[O];const z=B.interleavedBuffers[O],Y=p(B,z.buffer),ee=wp(z.type,Y),ue=new Nh(ee,z.stride);return ue.uuid=z.uuid,i[O]=ue,ue}function p(B,O){if(s[O]!==void 0)return s[O];const z=B.arrayBuffers[O],Y=new Uint32Array(z).buffer;return s[O]=Y,Y}const y=t.isInstancedBufferGeometry?new v8:new vn,A=t.data.index;if(A!==void 0){const B=wp(A.type,A.array);y.setIndex(new d0(B,1))}const E=t.data.attributes;for(const B in E){const O=E[B];let H;if(O.isInterleavedBufferAttribute){const z=u(t.data,O.data);H=new ac(z,O.itemSize,O.offset,O.normalized)}else{const z=wp(O.type,O.array),Y=O.isInstancedBufferAttribute?Qd:d0;H=new Y(z,O.itemSize,O.normalized)}O.name!==void 0&&(H.name=O.name),O.usage!==void 0&&H.setUsage(O.usage),O.updateRange!==void 0&&(H.updateRange.offset=O.updateRange.offset,H.updateRange.count=O.updateRange.count),y.setAttribute(B,H)}const _=t.data.morphAttributes;if(_)for(const B in _){const O=_[B],H=[];for(let z=0,Y=O.length;z<Y;z++){const ee=O[z];let ue;if(ee.isInterleavedBufferAttribute){const oe=u(t.data,ee.data);ue=new ac(oe,ee.itemSize,ee.offset,ee.normalized)}else{const oe=wp(ee.type,ee.array);ue=new d0(oe,ee.itemSize,ee.normalized)}ee.name!==void 0&&(ue.name=ee.name),H.push(ue)}y.morphAttributes[B]=H}t.data.morphTargetsRelative&&(y.morphTargetsRelative=!0);const R=t.data.groups||t.data.drawcalls||t.data.offsets;if(R!==void 0)for(let B=0,O=R.length;B!==O;++B){const H=R[B];y.addGroup(H.start,H.count,H.materialIndex)}const P=t.data.boundingSphere;if(P!==void 0){const B=new wt;P.center!==void 0&&B.fromArray(P.center),y.boundingSphere=new Mu(B,P.radius)}return t.name&&(y.name=t.name),t.userData&&(y.userData=t.userData),y}}class Fh extends ga{constructor(t){super(t)}load(t,i,s,u){const p=this,y=this.path===""?Cl.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||y;const A=new Pa(this.manager);A.setPath(this.path),A.setRequestHeader(this.requestHeader),A.setWithCredentials(this.withCredentials),A.load(t,function(E){let _=null;try{_=JSON.parse(E)}catch(R){u!==void 0&&u(R),console.error("THREE:ObjectLoader: Can't parse "+t+".",R.message);return}const k=_.metadata;if(k===void 0||k.type===void 0||k.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+t);return}p.parse(_,i)},s,u)}async loadAsync(t,i){const s=this,u=this.path===""?Cl.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||u;const p=new Pa(this.manager);p.setPath(this.path),p.setRequestHeader(this.requestHeader),p.setWithCredentials(this.withCredentials);const y=await p.loadAsync(t,i),A=JSON.parse(y),E=A.metadata;if(E===void 0||E.type===void 0||E.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+t);return await s.parseAsync(A)}parse(t,i){const s=this.parseAnimations(t.animations),u=this.parseShapes(t.shapes),p=this.parseGeometries(t.geometries,u),y=this.parseImages(t.images,function(){i!==void 0&&i(_)}),A=this.parseTextures(t.textures,y),E=this.parseMaterials(t.materials,A),_=this.parseObject(t.object,p,E,A,s),k=this.parseSkeletons(t.skeletons,_);if(this.bindSkeletons(_,k),i!==void 0){let R=!1;for(const P in y)if(y[P]instanceof HTMLImageElement){R=!0;break}R===!1&&i(_)}return _}async parseAsync(t){const i=this.parseAnimations(t.animations),s=this.parseShapes(t.shapes),u=this.parseGeometries(t.geometries,s),p=await this.parseImagesAsync(t.images),y=this.parseTextures(t.textures,p),A=this.parseMaterials(t.materials,y),E=this.parseObject(t.object,u,A,y,i),_=this.parseSkeletons(t.skeletons,E);return this.bindSkeletons(E,_),E}parseShapes(t){const i={};if(t!==void 0)for(let s=0,u=t.length;s<u;s++){const p=new Df().fromJSON(t[s]);i[p.uuid]=p}return i}parseSkeletons(t,i){const s={},u={};if(i.traverse(function(p){p.isBone&&(u[p.uuid]=p)}),t!==void 0)for(let p=0,y=t.length;p<y;p++){const A=new Jg().fromJSON(t[p],u);s[A.uuid]=A}return s}parseGeometries(t,i){const s={};if(t!==void 0){const u=new iR;for(let p=0,y=t.length;p<y;p++){let A;const E=t[p];switch(E.type){case"BufferGeometry":case"InstancedBufferGeometry":A=u.parse(E);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:E.type in BS?A=BS[E.type].fromJSON(E,i):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${E.type}"`)}A.uuid=E.uuid,E.name!==void 0&&(A.name=E.name),A.isBufferGeometry===!0&&E.userData!==void 0&&(A.userData=E.userData),s[E.uuid]=A}}return s}parseMaterials(t,i){const s={},u={};if(t!==void 0){const p=new tR;p.setTextures(i);for(let y=0,A=t.length;y<A;y++){const E=t[y];if(E.type==="MultiMaterial"){const _=[];for(let k=0;k<E.materials.length;k++){const R=E.materials[k];s[R.uuid]===void 0&&(s[R.uuid]=p.parse(R)),_.push(s[R.uuid])}u[E.uuid]=_}else s[E.uuid]===void 0&&(s[E.uuid]=p.parse(E)),u[E.uuid]=s[E.uuid]}}return u}parseAnimations(t){const i={};if(t!==void 0)for(let s=0;s<t.length;s++){const u=t[s],p=$p.parse(u);i[p.uuid]=p}return i}parseImages(t,i){const s=this,u={};let p;function y(E){return s.manager.itemStart(E),p.load(E,function(){s.manager.itemEnd(E)},void 0,function(){s.manager.itemError(E),s.manager.itemEnd(E)})}function A(E){if(typeof E=="string"){const _=E,k=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(_)?_:s.resourcePath+_;return y(k)}else return E.data?{data:wp(E.type,E.data),width:E.width,height:E.height}:null}if(t!==void 0&&t.length>0){const E=new o2(i);p=new Bg(E),p.setCrossOrigin(this.crossOrigin);for(let _=0,k=t.length;_<k;_++){const R=t[_],P=R.url;if(Array.isArray(P)){const B=[];for(let O=0,H=P.length;O<H;O++){const z=P[O],Y=A(z);Y!==null&&(Y instanceof HTMLImageElement?B.push(Y):B.push(new Ud(Y.data,Y.width,Y.height)))}u[R.uuid]=new bh(B)}else{const B=A(R.url);u[R.uuid]=new bh(B)}}}return u}async parseImagesAsync(t){const i=this,s={};let u;async function p(y){if(typeof y=="string"){const A=y,E=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(A)?A:i.resourcePath+A;return await u.loadAsync(E)}else return y.data?{data:wp(y.type,y.data),width:y.width,height:y.height}:null}if(t!==void 0&&t.length>0){u=new Bg(this.manager),u.setCrossOrigin(this.crossOrigin);for(let y=0,A=t.length;y<A;y++){const E=t[y],_=E.url;if(Array.isArray(_)){const k=[];for(let R=0,P=_.length;R<P;R++){const B=_[R],O=await p(B);O!==null&&(O instanceof HTMLImageElement?k.push(O):k.push(new Ud(O.data,O.width,O.height)))}s[E.uuid]=new bh(k)}else{const k=await p(E.url);s[E.uuid]=new bh(k)}}}return s}parseTextures(t,i){function s(p,y){return typeof p=="number"?p:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",p),y[p])}const u={};if(t!==void 0)for(let p=0,y=t.length;p<y;p++){const A=t[p];A.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',A.uuid),i[A.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",A.image);const E=i[A.image],_=E.data;let k;Array.isArray(_)?(k=new h1,_.length===6&&(k.needsUpdate=!0)):(_&&_.data?k=new Ud:k=new ns,_&&(k.needsUpdate=!0)),k.source=E,k.uuid=A.uuid,A.name!==void 0&&(k.name=A.name),A.mapping!==void 0&&(k.mapping=s(A.mapping,fQ)),A.offset!==void 0&&k.offset.fromArray(A.offset),A.repeat!==void 0&&k.repeat.fromArray(A.repeat),A.center!==void 0&&k.center.fromArray(A.center),A.rotation!==void 0&&(k.rotation=A.rotation),A.wrap!==void 0&&(k.wrapS=s(A.wrap[0],NS),k.wrapT=s(A.wrap[1],NS)),A.format!==void 0&&(k.format=A.format),A.type!==void 0&&(k.type=A.type),A.encoding!==void 0&&(k.encoding=A.encoding),A.minFilter!==void 0&&(k.minFilter=s(A.minFilter,OS)),A.magFilter!==void 0&&(k.magFilter=s(A.magFilter,OS)),A.anisotropy!==void 0&&(k.anisotropy=A.anisotropy),A.flipY!==void 0&&(k.flipY=A.flipY),A.premultiplyAlpha!==void 0&&(k.premultiplyAlpha=A.premultiplyAlpha),A.unpackAlignment!==void 0&&(k.unpackAlignment=A.unpackAlignment),A.userData!==void 0&&(k.userData=A.userData),u[A.uuid]=k}return u}parseObject(t,i,s,u,p){let y;function A(P){return i[P]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",P),i[P]}function E(P){if(P!==void 0){if(Array.isArray(P)){const B=[];for(let O=0,H=P.length;O<H;O++){const z=P[O];s[z]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",z),B.push(s[z])}return B}return s[P]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",P),s[P]}}function _(P){return u[P]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",P),u[P]}let k,R;switch(t.type){case"Scene":y=new Ch,t.background!==void 0&&(Number.isInteger(t.background)?y.background=new _r(t.background):y.background=_(t.background)),t.environment!==void 0&&(y.environment=_(t.environment)),t.fog!==void 0&&(t.fog.type==="Fog"?y.fog=new m1(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(y.fog=new p1(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":y=new _o(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(y.focus=t.focus),t.zoom!==void 0&&(y.zoom=t.zoom),t.filmGauge!==void 0&&(y.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(y.filmOffset=t.filmOffset),t.view!==void 0&&(y.view=Object.assign({},t.view));break;case"OrthographicCamera":y=new Lh(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(y.zoom=t.zoom),t.view!==void 0&&(y.view=Object.assign({},t.view));break;case"AmbientLight":y=new b8(t.color,t.intensity);break;case"DirectionalLight":y=new Kg(t.color,t.intensity);break;case"PointLight":y=new Yg(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":y=new y8(t.color,t.intensity,t.width,t.height);break;case"SpotLight":y=new V4(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":y=new m8(t.color,t.groundColor,t.intensity);break;case"LightProbe":y=new $g().fromJSON(t);break;case"SkinnedMesh":k=A(t.geometry),R=E(t.material),y=new Wg(k,R),t.bindMode!==void 0&&(y.bindMode=t.bindMode),t.bindMatrix!==void 0&&y.bindMatrix.fromArray(t.bindMatrix),t.skeleton!==void 0&&(y.skeleton=t.skeleton);break;case"Mesh":k=A(t.geometry),R=E(t.material),y=new ir(k,R);break;case"InstancedMesh":k=A(t.geometry),R=E(t.material);const P=t.count,B=t.instanceMatrix,O=t.instanceColor;y=new I4(k,R,P),y.instanceMatrix=new Qd(new Float32Array(B.array),16),O!==void 0&&(y.instanceColor=new Qd(new Float32Array(O.array),O.itemSize));break;case"LOD":y=new H7;break;case"Line":y=new Eo(A(t.geometry),E(t.material));break;case"LineLoop":y=new D4(A(t.geometry),E(t.material));break;case"LineSegments":y=new Da(A(t.geometry),E(t.material));break;case"PointCloud":case"Points":y=new g1(A(t.geometry),E(t.material));break;case"Sprite":y=new Mf(E(t.material));break;case"Group":y=new xl;break;case"Bone":y=new Qg;break;default:y=new Rn}if(y.uuid=t.uuid,t.name!==void 0&&(y.name=t.name),t.matrix!==void 0?(y.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(y.matrixAutoUpdate=t.matrixAutoUpdate),y.matrixAutoUpdate&&y.matrix.decompose(y.position,y.quaternion,y.scale)):(t.position!==void 0&&y.position.fromArray(t.position),t.rotation!==void 0&&y.rotation.fromArray(t.rotation),t.quaternion!==void 0&&y.quaternion.fromArray(t.quaternion),t.scale!==void 0&&y.scale.fromArray(t.scale)),t.castShadow!==void 0&&(y.castShadow=t.castShadow),t.receiveShadow!==void 0&&(y.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.bias!==void 0&&(y.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&&(y.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&&(y.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&y.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(y.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(y.visible=t.visible),t.frustumCulled!==void 0&&(y.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(y.renderOrder=t.renderOrder),t.userData!==void 0&&(y.userData=t.userData),t.layers!==void 0&&(y.layers.mask=t.layers),t.children!==void 0){const P=t.children;for(let B=0;B<P.length;B++)y.add(this.parseObject(P[B],i,s,u,p))}if(t.animations!==void 0){const P=t.animations;for(let B=0;B<P.length;B++){const O=P[B];y.animations.push(p[O])}}if(t.type==="LOD"){t.autoUpdate!==void 0&&(y.autoUpdate=t.autoUpdate);const P=t.levels;for(let B=0;B<P.length;B++){const O=P[B],H=y.getObjectByProperty("uuid",O.object);H!==void 0&&y.addLevel(H,O.distance)}}return y}bindSkeletons(t,i){Object.keys(i).length!==0&&t.traverse(function(s){if(s.isSkinnedMesh===!0&&s.skeleton!==void 0){const u=i[s.skeleton];u===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",s.skeleton):s.bind(u,s.bindMatrix)}})}setTexturePath(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)}}const fQ={UVMapping:w4,CubeReflectionMapping:xh,CubeRefractionMapping:Eh,EquirectangularReflectionMapping:sc,EquirectangularRefractionMapping:xg,CubeUVReflectionMapping:u1},NS={RepeatWrapping:_h,ClampToEdgeWrapping:da,MirroredRepeatWrapping:Lp},OS={NearestFilter:so,NearestMipmapNearestFilter:Eg,NearestMipmapLinearFilter:_g,LinearFilter:Es,LinearMipmapNearestFilter:x4,LinearMipmapLinearFilter:Tu};class w8 extends ga{constructor(t){super(t),typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,i,s,u){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const p=this,y=qd.get(t);if(y!==void 0)return p.manager.itemStart(t),setTimeout(function(){i&&i(y),p.manager.itemEnd(t)},0),y;const A={};A.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",A.headers=this.requestHeader,fetch(t,A).then(function(E){return E.blob()}).then(function(E){return createImageBitmap(E,Object.assign(p.options,{colorSpaceConversion:"none"}))}).then(function(E){qd.add(t,E),i&&i(E),p.manager.itemEnd(t)}).catch(function(E){u&&u(E),p.manager.itemError(t),p.manager.itemEnd(t)}),p.manager.itemStart(t)}}w8.prototype.isImageBitmapLoader=!0;let qA;const x8={getContext:function(){return qA===void 0&&(qA=new(window.AudioContext||window.webkitAudioContext)),qA},setContext:function(l){qA=l}};class E8 extends ga{constructor(t){super(t)}load(t,i,s,u){const p=this,y=new Pa(this.manager);y.setResponseType("arraybuffer"),y.setPath(this.path),y.setRequestHeader(this.requestHeader),y.setWithCredentials(this.withCredentials),y.load(t,function(A){try{const E=A.slice(0);x8.getContext().decodeAudioData(E,function(k){i(k)})}catch(E){u?u(E):console.error(E),p.manager.itemError(t)}},s,u)}}class rR extends $g{constructor(t,i,s=1){super(void 0,s);const u=new _r().set(t),p=new _r().set(i),y=new wt(u.r,u.g,u.b),A=new wt(p.r,p.g,p.b),E=Math.sqrt(Math.PI),_=E*Math.sqrt(.75);this.sh.coefficients[0].copy(y).add(A).multiplyScalar(E),this.sh.coefficients[1].copy(y).sub(A).multiplyScalar(_)}}rR.prototype.isHemisphereLightProbe=!0;class nR extends $g{constructor(t,i=1){super(void 0,i);const s=new _r().set(t);this.sh.coefficients[0].set(s.r,s.g,s.b).multiplyScalar(2*Math.sqrt(Math.PI))}}nR.prototype.isAmbientLightProbe=!0;const HS=new Jr,US=new Jr,wd=new Jr;class uQ{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new _o,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new _o,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const i=this._cache;if(i.focus!==t.focus||i.fov!==t.fov||i.aspect!==t.aspect*this.aspect||i.near!==t.near||i.far!==t.far||i.zoom!==t.zoom||i.eyeSep!==this.eyeSep){i.focus=t.focus,i.fov=t.fov,i.aspect=t.aspect*this.aspect,i.near=t.near,i.far=t.far,i.zoom=t.zoom,i.eyeSep=this.eyeSep,wd.copy(t.projectionMatrix);const u=i.eyeSep/2,p=u*i.near/i.focus,y=i.near*Math.tan(Od*i.fov*.5)/i.zoom;let A,E;US.elements[12]=-u,HS.elements[12]=u,A=-y*i.aspect+p,E=y*i.aspect+p,wd.elements[0]=2*i.near/(E-A),wd.elements[8]=(E+A)/(E-A),this.cameraL.projectionMatrix.copy(wd),A=-y*i.aspect-p,E=y*i.aspect-p,wd.elements[0]=2*i.near/(E-A),wd.elements[8]=(E+A)/(E-A),this.cameraR.projectionMatrix.copy(wd)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(US),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(HS)}}class _8{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=VS(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const i=VS();t=(i-this.oldTime)/1e3,this.oldTime=i,this.elapsedTime+=t}return t}}function VS(){return(typeof performance=="undefined"?Date:performance).now()}const xd=new wt,jS=new D0,cQ=new wt,Ed=new wt;class sR extends Rn{constructor(){super(),this.type="AudioListener",this.context=x8.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new _8}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const i=this.context.listener,s=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(xd,jS,cQ),Ed.set(0,0,-1).applyQuaternion(jS),i.positionX){const u=this.context.currentTime+this.timeDelta;i.positionX.linearRampToValueAtTime(xd.x,u),i.positionY.linearRampToValueAtTime(xd.y,u),i.positionZ.linearRampToValueAtTime(xd.z,u),i.forwardX.linearRampToValueAtTime(Ed.x,u),i.forwardY.linearRampToValueAtTime(Ed.y,u),i.forwardZ.linearRampToValueAtTime(Ed.z,u),i.upX.linearRampToValueAtTime(s.x,u),i.upY.linearRampToValueAtTime(s.y,u),i.upZ.linearRampToValueAtTime(s.z,u)}else i.setPosition(xd.x,xd.y,xd.z),i.setOrientation(Ed.x,Ed.y,Ed.z,s.x,s.y,s.z)}}class j4 extends Rn{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const i=this.context.createBufferSource();return i.buffer=this.buffer,i.loop=this.loop,i.loopStart=this.loopStart,i.loopEnd=this.loopEnd,i.onended=this.onEnded.bind(this),i.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=i,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,i=this.filters.length;t<i;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,i=this.filters.length;t<i;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}const _d=new wt,GS=new D0,hQ=new wt,kd=new wt;class dQ extends j4{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,i,s){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=i,this.panner.coneOuterGain=s,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_d,GS,hQ),kd.set(0,0,1).applyQuaternion(GS);const i=this.panner;if(i.positionX){const s=this.context.currentTime+this.listener.timeDelta;i.positionX.linearRampToValueAtTime(_d.x,s),i.positionY.linearRampToValueAtTime(_d.y,s),i.positionZ.linearRampToValueAtTime(_d.z,s),i.orientationX.linearRampToValueAtTime(kd.x,s),i.orientationY.linearRampToValueAtTime(kd.y,s),i.orientationZ.linearRampToValueAtTime(kd.z,s)}else i.setPosition(_d.x,_d.y,_d.z),i.setOrientation(kd.x,kd.y,kd.z)}}class oR{constructor(t,i=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=i,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const i=this.getFrequencyData();for(let s=0;s<i.length;s++)t+=i[s];return t/i.length}}class aR{constructor(t,i,s){this.binding=t,this.valueSize=s;let u,p,y;switch(i){case"quaternion":u=this._slerp,p=this._slerpAdditive,y=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(s*6),this._workIndex=5;break;case"string":case"bool":u=this._select,p=this._select,y=this._setAdditiveIdentityOther,this.buffer=new Array(s*5);break;default:u=this._lerp,p=this._lerpAdditive,y=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(s*5)}this._mixBufferRegion=u,this._mixBufferRegionAdditive=p,this._setIdentity=y,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,i){const s=this.buffer,u=this.valueSize,p=t*u+u;let y=this.cumulativeWeight;if(y===0){for(let A=0;A!==u;++A)s[p+A]=s[A];y=i}else{y+=i;const A=i/y;this._mixBufferRegion(s,p,0,A,u)}this.cumulativeWeight=y}accumulateAdditive(t){const i=this.buffer,s=this.valueSize,u=s*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(i,u,0,t,s),this.cumulativeWeightAdditive+=t}apply(t){const i=this.valueSize,s=this.buffer,u=t*i+i,p=this.cumulativeWeight,y=this.cumulativeWeightAdditive,A=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,p<1){const E=i*this._origIndex;this._mixBufferRegion(s,u,E,1-p,i)}y>0&&this._mixBufferRegionAdditive(s,u,this._addIndex*i,1,i);for(let E=i,_=i+i;E!==_;++E)if(s[E]!==s[E+i]){A.setValue(s,u);break}}saveOriginalState(){const t=this.binding,i=this.buffer,s=this.valueSize,u=s*this._origIndex;t.getValue(i,u);for(let p=s,y=u;p!==y;++p)i[p]=i[u+p%s];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,i=t+this.valueSize;for(let s=t;s<i;s++)this.buffer[s]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,i=this._addIndex*this.valueSize;for(let s=0;s<this.valueSize;s++)this.buffer[i+s]=this.buffer[t+s]}_select(t,i,s,u,p){if(u>=.5)for(let y=0;y!==p;++y)t[i+y]=t[s+y]}_slerp(t,i,s,u){D0.slerpFlat(t,i,t,i,t,s,u)}_slerpAdditive(t,i,s,u,p){const y=this._workIndex*p;D0.multiplyQuaternionsFlat(t,y,t,i,t,s),D0.slerpFlat(t,i,t,i,t,y,u)}_lerp(t,i,s,u,p){const y=1-u;for(let A=0;A!==p;++A){const E=i+A;t[E]=t[E]*y+t[s+A]*u}}_lerpAdditive(t,i,s,u,p){for(let y=0;y!==p;++y){const A=i+y;t[A]=t[A]+t[s+y]*u}}}const k8="\\[\\]\\.:\\/",pQ=new RegExp("["+k8+"]","g"),C8="[^"+k8+"]",mQ="[^"+k8.replace("\\.","")+"]",gQ=/((?:WC+[\/:])*)/.source.replace("WC",C8),bQ=/(WCOD+)?/.source.replace("WCOD",mQ),yQ=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",C8),AQ=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",C8),vQ=new RegExp("^"+gQ+bQ+yQ+AQ+"$"),wQ=["material","materials","bones"];class xQ{constructor(t,i,s){const u=s||k0.parseTrackName(i);this._targetGroup=t,this._bindings=t.subscribe_(i,u)}getValue(t,i){this.bind();const s=this._targetGroup.nCachedObjects_,u=this._bindings[s];u!==void 0&&u.getValue(t,i)}setValue(t,i){const s=this._bindings;for(let u=this._targetGroup.nCachedObjects_,p=s.length;u!==p;++u)s[u].setValue(t,i)}bind(){const t=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=t.length;i!==s;++i)t[i].bind()}unbind(){const t=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=t.length;i!==s;++i)t[i].unbind()}}class k0{constructor(t,i,s){this.path=i,this.parsedPath=s||k0.parseTrackName(i),this.node=k0.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,i,s){return t&&t.isAnimationObjectGroup?new k0.Composite(t,i,s):new k0(t,i,s)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(pQ,"")}static parseTrackName(t){const i=vQ.exec(t);if(i===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const s={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},u=s.nodeName&&s.nodeName.lastIndexOf(".");if(u!==void 0&&u!==-1){const p=s.nodeName.substring(u+1);wQ.indexOf(p)!==-1&&(s.nodeName=s.nodeName.substring(0,u),s.objectName=p)}if(s.propertyName===null||s.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return s}static findNode(t,i){if(i===void 0||i===""||i==="."||i===-1||i===t.name||i===t.uuid)return t;if(t.skeleton){const s=t.skeleton.getBoneByName(i);if(s!==void 0)return s}if(t.children){const s=function(p){for(let y=0;y<p.length;y++){const A=p[y];if(A.name===i||A.uuid===i)return A;const E=s(A.children);if(E)return E}return null},u=s(t.children);if(u)return u}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,i){t[i]=this.targetObject[this.propertyName]}_getValue_array(t,i){const s=this.resolvedProperty;for(let u=0,p=s.length;u!==p;++u)t[i++]=s[u]}_getValue_arrayElement(t,i){t[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,i){this.resolvedProperty.toArray(t,i)}_setValue_direct(t,i){this.targetObject[this.propertyName]=t[i]}_setValue_direct_setNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,i){const s=this.resolvedProperty;for(let u=0,p=s.length;u!==p;++u)s[u]=t[i++]}_setValue_array_setNeedsUpdate(t,i){const s=this.resolvedProperty;for(let u=0,p=s.length;u!==p;++u)s[u]=t[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,i){const s=this.resolvedProperty;for(let u=0,p=s.length;u!==p;++u)s[u]=t[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,i){this.resolvedProperty[this.propertyIndex]=t[i]}_setValue_arrayElement_setNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,i){this.resolvedProperty.fromArray(t,i)}_setValue_fromArray_setNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,i){this.bind(),this.getValue(t,i)}_setValue_unbound(t,i){this.bind(),this.setValue(t,i)}bind(){let t=this.node;const i=this.parsedPath,s=i.objectName,u=i.propertyName;let p=i.propertyIndex;if(t||(t=k0.findNode(this.rootNode,i.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(s){let _=i.objectIndex;switch(s){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let k=0;k<t.length;k++)if(t[k].name===_){_=k;break}break;default:if(t[s]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[s]}if(_!==void 0){if(t[_]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[_]}}const y=t[u];if(y===void 0){const _=i.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+_+"."+u+" but it wasn't found.",t);return}let A=this.Versioning.None;this.targetObject=t,t.needsUpdate!==void 0?A=this.Versioning.NeedsUpdate:t.matrixWorldNeedsUpdate!==void 0&&(A=this.Versioning.MatrixWorldNeedsUpdate);let E=this.BindingType.Direct;if(p!==void 0){if(u==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[p]!==void 0&&(p=t.morphTargetDictionary[p])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}E=this.BindingType.ArrayElement,this.resolvedProperty=y,this.propertyIndex=p}else y.fromArray!==void 0&&y.toArray!==void 0?(E=this.BindingType.HasFromToArray,this.resolvedProperty=y):Array.isArray(y)?(E=this.BindingType.EntireArray,this.resolvedProperty=y):this.propertyName=u;this.getValue=this.GetterByBindingType[E],this.setValue=this.SetterByBindingTypeAndVersioning[E][A]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}k0.Composite=xQ;k0.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};k0.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};k0.prototype.GetterByBindingType=[k0.prototype._getValue_direct,k0.prototype._getValue_array,k0.prototype._getValue_arrayElement,k0.prototype._getValue_toArray];k0.prototype.SetterByBindingTypeAndVersioning=[[k0.prototype._setValue_direct,k0.prototype._setValue_direct_setNeedsUpdate,k0.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[k0.prototype._setValue_array,k0.prototype._setValue_array_setNeedsUpdate,k0.prototype._setValue_array_setMatrixWorldNeedsUpdate],[k0.prototype._setValue_arrayElement,k0.prototype._setValue_arrayElement_setNeedsUpdate,k0.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[k0.prototype._setValue_fromArray,k0.prototype._setValue_fromArray_setNeedsUpdate,k0.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class lR{constructor(){this.uuid=kl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let s=0,u=arguments.length;s!==u;++s)t[arguments[s].uuid]=s;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}add(){const t=this._objects,i=this._indicesByUUID,s=this._paths,u=this._parsedPaths,p=this._bindings,y=p.length;let A,E=t.length,_=this.nCachedObjects_;for(let k=0,R=arguments.length;k!==R;++k){const P=arguments[k],B=P.uuid;let O=i[B];if(O===void 0){O=E++,i[B]=O,t.push(P);for(let H=0,z=y;H!==z;++H)p[H].push(new k0(P,s[H],u[H]))}else if(O<_){A=t[O];const H=--_,z=t[H];i[z.uuid]=O,t[O]=z,i[B]=H,t[H]=P;for(let Y=0,ee=y;Y!==ee;++Y){const ue=p[Y],oe=ue[H];let Ae=ue[O];ue[O]=oe,Ae===void 0&&(Ae=new k0(P,s[Y],u[Y])),ue[H]=Ae}}else t[O]!==A&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=_}remove(){const t=this._objects,i=this._indicesByUUID,s=this._bindings,u=s.length;let p=this.nCachedObjects_;for(let y=0,A=arguments.length;y!==A;++y){const E=arguments[y],_=E.uuid,k=i[_];if(k!==void 0&&k>=p){const R=p++,P=t[R];i[P.uuid]=k,t[k]=P,i[_]=R,t[R]=E;for(let B=0,O=u;B!==O;++B){const H=s[B],z=H[R],Y=H[k];H[k]=z,H[R]=Y}}}this.nCachedObjects_=p}uncache(){const t=this._objects,i=this._indicesByUUID,s=this._bindings,u=s.length;let p=this.nCachedObjects_,y=t.length;for(let A=0,E=arguments.length;A!==E;++A){const _=arguments[A],k=_.uuid,R=i[k];if(R!==void 0)if(delete i[k],R<p){const P=--p,B=t[P],O=--y,H=t[O];i[B.uuid]=R,t[R]=B,i[H.uuid]=P,t[P]=H,t.pop();for(let z=0,Y=u;z!==Y;++z){const ee=s[z],ue=ee[P],oe=ee[O];ee[R]=ue,ee[P]=oe,ee.pop()}}else{const P=--y,B=t[P];P>0&&(i[B.uuid]=R),t[R]=B,t.pop();for(let O=0,H=u;O!==H;++O){const z=s[O];z[R]=z[P],z.pop()}}}this.nCachedObjects_=p}subscribe_(t,i){const s=this._bindingsIndicesByPath;let u=s[t];const p=this._bindings;if(u!==void 0)return p[u];const y=this._paths,A=this._parsedPaths,E=this._objects,_=E.length,k=this.nCachedObjects_,R=new Array(_);u=p.length,s[t]=u,y.push(t),A.push(i),p.push(R);for(let P=k,B=E.length;P!==B;++P){const O=E[P];R[P]=new k0(O,t,i)}return R}unsubscribe_(t){const i=this._bindingsIndicesByPath,s=i[t];if(s!==void 0){const u=this._paths,p=this._parsedPaths,y=this._bindings,A=y.length-1,E=y[A],_=t[A];i[_]=s,y[s]=E,y.pop(),p[s]=p[A],p.pop(),u[s]=u[A],u.pop()}}}lR.prototype.isAnimationObjectGroup=!0;class EQ{constructor(t,i,s=null,u=i.blendMode){this._mixer=t,this._clip=i,this._localRoot=s,this.blendMode=u;const p=i.tracks,y=p.length,A=new Array(y),E={endingStart:Pd,endingEnd:Pd};for(let _=0;_!==y;++_){const k=p[_].createInterpolant(null);A[_]=k,k.settings=E}this._interpolantSettings=E,this._interpolants=A,this._propertyBindings=new Array(y),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=l7,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,i){return this.loop=t,this.repetitions=i,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,i,s){if(t.fadeOut(i),this.fadeIn(i),s){const u=this._clip.duration,p=t._clip.duration,y=p/u,A=u/p;t.warp(1,y,i),this.warp(A,1,i)}return this}crossFadeTo(t,i,s){return t.crossFadeFrom(this,i,s)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,i,s){const u=this._mixer,p=u.time,y=this.timeScale;let A=this._timeScaleInterpolant;A===null&&(A=u._lendControlInterpolant(),this._timeScaleInterpolant=A);const E=A.parameterPositions,_=A.sampleValues;return E[0]=p,E[1]=p+s,_[0]=t/y,_[1]=i/y,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,i,s,u){if(!this.enabled){this._updateWeight(t);return}const p=this._startTime;if(p!==null){const E=(t-p)*s;if(E<0||s===0)return;this._startTime=null,i=s*E}i*=this._updateTimeScale(t);const y=this._updateTime(i),A=this._updateWeight(t);if(A>0){const E=this._interpolants,_=this._propertyBindings;switch(this.blendMode){case GE:for(let k=0,R=E.length;k!==R;++k)E[k].evaluate(y),_[k].accumulateAdditive(A);break;case E4:default:for(let k=0,R=E.length;k!==R;++k)E[k].evaluate(y),_[k].accumulate(u,A)}}}_updateWeight(t){let i=0;if(this.enabled){i=this.weight;const s=this._weightInterpolant;if(s!==null){const u=s.evaluate(t)[0];i*=u,t>s.parameterPositions[1]&&(this.stopFading(),u===0&&(this.enabled=!1))}}return this._effectiveWeight=i,i}_updateTimeScale(t){let i=0;if(!this.paused){i=this.timeScale;const s=this._timeScaleInterpolant;s!==null&&(i*=s.evaluate(t)[0],t>s.parameterPositions[1]&&(this.stopWarping(),i===0?this.paused=!0:this.timeScale=i))}return this._effectiveTimeScale=i,i}_updateTime(t){const i=this._clip.duration,s=this.loop;let u=this.time+t,p=this._loopCount;const y=s===f7;if(t===0)return p===-1?u:y&&(p&1)===1?i-u:u;if(s===a7){p===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(u>=i)u=i;else if(u<0)u=0;else{this.time=u;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=u,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(p===-1&&(t>=0?(p=0,this._setEndings(!0,this.repetitions===0,y)):this._setEndings(this.repetitions===0,!0,y)),u>=i||u<0){const A=Math.floor(u/i);u-=i*A,p+=Math.abs(A);const E=this.repetitions-p;if(E<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,u=t>0?i:0,this.time=u,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(E===1){const _=t<0;this._setEndings(_,!_,y)}else this._setEndings(!1,!1,y);this._loopCount=p,this.time=u,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:A})}}else this.time=u;if(y&&(p&1)===1)return i-u}return u}_setEndings(t,i,s){const u=this._interpolantSettings;s?(u.endingStart=Ld,u.endingEnd=Ld):(t?u.endingStart=this.zeroSlopeAtStart?Ld:Pd:u.endingStart=kg,i?u.endingEnd=this.zeroSlopeAtEnd?Ld:Pd:u.endingEnd=kg)}_scheduleFading(t,i,s){const u=this._mixer,p=u.time;let y=this._weightInterpolant;y===null&&(y=u._lendControlInterpolant(),this._weightInterpolant=y);const A=y.parameterPositions,E=y.sampleValues;return A[0]=p,E[0]=i,A[1]=p+t,E[1]=s,this}}class S8 extends cc{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,i){const s=t._localRoot||this._root,u=t._clip.tracks,p=u.length,y=t._propertyBindings,A=t._interpolants,E=s.uuid,_=this._bindingsByRootAndName;let k=_[E];k===void 0&&(k={},_[E]=k);for(let R=0;R!==p;++R){const P=u[R],B=P.name;let O=k[B];if(O!==void 0)++O.referenceCount,y[R]=O;else{if(O=y[R],O!==void 0){O._cacheIndex===null&&(++O.referenceCount,this._addInactiveBinding(O,E,B));continue}const H=i&&i._propertyBindings[R].binding.parsedPath;O=new aR(k0.create(s,B,H),P.ValueTypeName,P.getValueSize()),++O.referenceCount,this._addInactiveBinding(O,E,B),y[R]=O}A[R].resultBuffer=O.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const s=(t._localRoot||this._root).uuid,u=t._clip.uuid,p=this._actionsByClip[u];this._bindAction(t,p&&p.knownActions[0]),this._addInactiveAction(t,u,s)}const i=t._propertyBindings;for(let s=0,u=i.length;s!==u;++s){const p=i[s];p.useCount++===0&&(this._lendBinding(p),p.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const i=t._propertyBindings;for(let s=0,u=i.length;s!==u;++s){const p=i[s];--p.useCount===0&&(p.restoreOriginalState(),this._takeBackBinding(p))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const i=t._cacheIndex;return i!==null&&i<this._nActiveActions}_addInactiveAction(t,i,s){const u=this._actions,p=this._actionsByClip;let y=p[i];if(y===void 0)y={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,p[i]=y;else{const A=y.knownActions;t._byClipCacheIndex=A.length,A.push(t)}t._cacheIndex=u.length,u.push(t),y.actionByRoot[s]=t}_removeInactiveAction(t){const i=this._actions,s=i[i.length-1],u=t._cacheIndex;s._cacheIndex=u,i[u]=s,i.pop(),t._cacheIndex=null;const p=t._clip.uuid,y=this._actionsByClip,A=y[p],E=A.knownActions,_=E[E.length-1],k=t._byClipCacheIndex;_._byClipCacheIndex=k,E[k]=_,E.pop(),t._byClipCacheIndex=null;const R=A.actionByRoot,P=(t._localRoot||this._root).uuid;delete R[P],E.length===0&&delete y[p],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const i=t._propertyBindings;for(let s=0,u=i.length;s!==u;++s){const p=i[s];--p.referenceCount===0&&this._removeInactiveBinding(p)}}_lendAction(t){const i=this._actions,s=t._cacheIndex,u=this._nActiveActions++,p=i[u];t._cacheIndex=u,i[u]=t,p._cacheIndex=s,i[s]=p}_takeBackAction(t){const i=this._actions,s=t._cacheIndex,u=--this._nActiveActions,p=i[u];t._cacheIndex=u,i[u]=t,p._cacheIndex=s,i[s]=p}_addInactiveBinding(t,i,s){const u=this._bindingsByRootAndName,p=this._bindings;let y=u[i];y===void 0&&(y={},u[i]=y),y[s]=t,t._cacheIndex=p.length,p.push(t)}_removeInactiveBinding(t){const i=this._bindings,s=t.binding,u=s.rootNode.uuid,p=s.path,y=this._bindingsByRootAndName,A=y[u],E=i[i.length-1],_=t._cacheIndex;E._cacheIndex=_,i[_]=E,i.pop(),delete A[p],Object.keys(A).length===0&&delete y[u]}_lendBinding(t){const i=this._bindings,s=t._cacheIndex,u=this._nActiveBindings++,p=i[u];t._cacheIndex=u,i[u]=t,p._cacheIndex=s,i[s]=p}_takeBackBinding(t){const i=this._bindings,s=t._cacheIndex,u=--this._nActiveBindings,p=i[u];t._cacheIndex=u,i[u]=t,p._cacheIndex=s,i[s]=p}_lendControlInterpolant(){const t=this._controlInterpolants,i=this._nActiveControlInterpolants++;let s=t[i];return s===void 0&&(s=new c8(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),s.__cacheIndex=i,t[i]=s),s}_takeBackControlInterpolant(t){const i=this._controlInterpolants,s=t.__cacheIndex,u=--this._nActiveControlInterpolants,p=i[u];t.__cacheIndex=u,i[u]=t,p.__cacheIndex=s,i[s]=p}clipAction(t,i,s){const u=i||this._root,p=u.uuid;let y=typeof t=="string"?$p.findByName(u,t):t;const A=y!==null?y.uuid:t,E=this._actionsByClip[A];let _=null;if(s===void 0&&(y!==null?s=y.blendMode:s=E4),E!==void 0){const R=E.actionByRoot[p];if(R!==void 0&&R.blendMode===s)return R;_=E.knownActions[0],y===null&&(y=_._clip)}if(y===null)return null;const k=new EQ(this,y,i,s);return this._bindAction(k,_),this._addInactiveAction(k,A,p),k}existingAction(t,i){const s=i||this._root,u=s.uuid,p=typeof t=="string"?$p.findByName(s,t):t,y=p?p.uuid:t,A=this._actionsByClip[y];return A!==void 0&&A.actionByRoot[u]||null}stopAllAction(){const t=this._actions,i=this._nActiveActions;for(let s=i-1;s>=0;--s)t[s].stop();return this}update(t){t*=this.timeScale;const i=this._actions,s=this._nActiveActions,u=this.time+=t,p=Math.sign(t),y=this._accuIndex^=1;for(let _=0;_!==s;++_)i[_]._update(u,t,p,y);const A=this._bindings,E=this._nActiveBindings;for(let _=0;_!==E;++_)A[_].apply(y);return this}setTime(t){this.time=0;for(let i=0;i<this._actions.length;i++)this._actions[i].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const i=this._actions,s=t.uuid,u=this._actionsByClip,p=u[s];if(p!==void 0){const y=p.knownActions;for(let A=0,E=y.length;A!==E;++A){const _=y[A];this._deactivateAction(_);const k=_._cacheIndex,R=i[i.length-1];_._cacheIndex=null,_._byClipCacheIndex=null,R._cacheIndex=k,i[k]=R,i.pop(),this._removeInactiveBindingsForAction(_)}delete u[s]}}uncacheRoot(t){const i=t.uuid,s=this._actionsByClip;for(const y in s){const A=s[y].actionByRoot,E=A[i];E!==void 0&&(this._deactivateAction(E),this._removeInactiveAction(E))}const u=this._bindingsByRootAndName,p=u[i];if(p!==void 0)for(const y in p){const A=p[y];A.restoreOriginalState(),this._removeInactiveBinding(A)}}uncacheAction(t,i){const s=this.existingAction(t,i);s!==null&&(this._deactivateAction(s),this._removeInactiveAction(s))}}S8.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class G4{constructor(t){typeof t=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}clone(){return new G4(this.value.clone===void 0?this.value:this.value.clone())}}class fR extends Nh{constructor(t,i,s=1){super(t,i),this.meshPerAttribute=s}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const i=super.clone(t);return i.meshPerAttribute=this.meshPerAttribute,i}toJSON(t){const i=super.toJSON(t);return i.isInstancedInterleavedBuffer=!0,i.meshPerAttribute=this.meshPerAttribute,i}}fR.prototype.isInstancedInterleavedBuffer=!0;class uR{constructor(t,i,s,u,p){this.buffer=t,this.type=i,this.itemSize=s,this.elementSize=u,this.count=p,this.version=0}set needsUpdate(t){t===!0&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,i){return this.type=t,this.elementSize=i,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}uR.prototype.isGLBufferAttribute=!0;class eb{constructor(t,i,s=0,u=1/0){this.ray=new Ph(t,i),this.near=s,this.far=u,this.camera=null,this.layers=new _4,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,i){this.ray.set(t,i)}setFromCamera(t,i){i.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(i.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(i).sub(this.ray.origin).normalize(),this.camera=i):i.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(i.near+i.far)/(i.near-i.far)).unproject(i),this.ray.direction.set(0,0,-1).transformDirection(i.matrixWorld),this.camera=i):console.error("THREE.Raycaster: Unsupported camera type: "+i.type)}intersectObject(t,i=!0,s=[]){return sE(t,this,s,i),s.sort(zS),s}intersectObjects(t,i=!0,s=[]){for(let u=0,p=t.length;u<p;u++)sE(t[u],this,s,i);return s.sort(zS),s}}function zS(l,t){return l.distance-t.distance}function sE(l,t,i,s){if(l.layers.test(t.layers)&&l.raycast(t,i),s===!0){const u=l.children;for(let p=0,y=u.length;p<y;p++)sE(u[p],t,i,!0)}}class cR{constructor(t=1,i=0,s=0){return this.radius=t,this.phi=i,this.theta=s,this}set(t,i,s){return this.radius=t,this.phi=i,this.theta=s,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,i,s){return this.radius=Math.sqrt(t*t+i*i+s*s),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,s),this.phi=Math.acos(oo(i/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class _Q{constructor(t=1,i=0,s=0){return this.radius=t,this.theta=i,this.y=s,this}set(t,i,s){return this.radius=t,this.theta=i,this.y=s,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,i,s){return this.radius=Math.sqrt(t*t+s*s),this.theta=Math.atan2(t,s),this.y=i,this}clone(){return new this.constructor().copy(this)}}const WS=new Yi;class b1{constructor(t=new Yi(1/0,1/0),i=new Yi(-1/0,-1/0)){this.min=t,this.max=i}set(t,i){return this.min.copy(t),this.max.copy(i),this}setFromPoints(t){this.makeEmpty();for(let i=0,s=t.length;i<s;i++)this.expandByPoint(t[i]);return this}setFromCenterAndSize(t,i){const s=WS.copy(i).multiplyScalar(.5);return this.min.copy(t).sub(s),this.max.copy(t).add(s),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,i){return i.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,i){return i.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return WS.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}b1.prototype.isBox2=!0;const QS=new wt,ZA=new wt;class hR{constructor(t=new wt,i=new wt){this.start=t,this.end=i}set(t,i){return this.start.copy(t),this.end.copy(i),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,i){return this.delta(i).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,i){QS.subVectors(t,this.start),ZA.subVectors(this.end,this.start);const s=ZA.dot(ZA);let p=ZA.dot(QS)/s;return i&&(p=oo(p,0,1)),p}closestPointToPoint(t,i,s){const u=this.closestPointToPointParameter(t,i);return this.delta(s).multiplyScalar(u).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const JS=new wt;class dR extends Rn{constructor(t,i){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;const s=new vn,u=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let y=0,A=1,E=32;y<E;y++,A++){const _=y/E*Math.PI*2,k=A/E*Math.PI*2;u.push(Math.cos(_),Math.sin(_),1,Math.cos(k),Math.sin(k),1)}s.setAttribute("position",new $r(u,3));const p=new fo({fog:!1,toneMapped:!1});this.cone=new Da(s,p),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const t=this.light.distance?this.light.distance:1e3,i=t*Math.tan(this.light.angle);this.cone.scale.set(i,i,t),JS.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(JS),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const th=new wt,YA=new Jr,D3=new Jr;class t4 extends Da{constructor(t){const i=pR(t),s=new vn,u=[],p=[],y=new _r(0,0,1),A=new _r(0,1,0);for(let _=0;_<i.length;_++){const k=i[_];k.parent&&k.parent.isBone&&(u.push(0,0,0),u.push(0,0,0),p.push(y.r,y.g,y.b),p.push(A.r,A.g,A.b))}s.setAttribute("position",new $r(u,3)),s.setAttribute("color",new $r(p,3));const E=new fo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(s,E),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=i,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const i=this.bones,s=this.geometry,u=s.getAttribute("position");D3.copy(this.root.matrixWorld).invert();for(let p=0,y=0;p<i.length;p++){const A=i[p];A.parent&&A.parent.isBone&&(YA.multiplyMatrices(D3,A.matrixWorld),th.setFromMatrixPosition(YA),u.setXYZ(y,th.x,th.y,th.z),YA.multiplyMatrices(D3,A.parent.matrixWorld),th.setFromMatrixPosition(YA),u.setXYZ(y+1,th.x,th.y,th.z),y+=2)}s.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}function pR(l){const t=[];l.isBone===!0&&t.push(l);for(let i=0;i<l.children.length;i++)t.push.apply(t,pR(l.children[i]));return t}class mR extends ir{constructor(t,i,s){const u=new Nf(i,4,2),p=new Us({wireframe:!0,fog:!1,toneMapped:!1});super(u,p),this.light=t,this.light.updateMatrixWorld(),this.color=s,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const kQ=new wt,XS=new _r,qS=new _r;class gR extends Rn{constructor(t,i,s){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=s;const u=new Rf(i);u.rotateY(Math.PI*.5),this.material=new Us({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const p=u.getAttribute("position"),y=new Float32Array(p.count*3);u.setAttribute("color",new d0(y,3)),this.add(new ir(u,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const i=t.geometry.getAttribute("color");XS.copy(this.light.color),qS.copy(this.light.groundColor);for(let s=0,u=i.count;s<u;s++){const p=s<u/2?XS:qS;i.setXYZ(s,p.r,p.g,p.b)}i.needsUpdate=!0}t.lookAt(kQ.setFromMatrixPosition(this.light.matrixWorld).negate())}}class i4 extends Da{constructor(t=10,i=10,s=4473924,u=8947848){s=new _r(s),u=new _r(u);const p=i/2,y=t/i,A=t/2,E=[],_=[];for(let P=0,B=0,O=-A;P<=i;P++,O+=y){E.push(-A,0,O,A,0,O),E.push(O,0,-A,O,0,A);const H=P===p?s:u;H.toArray(_,B),B+=3,H.toArray(_,B),B+=3,H.toArray(_,B),B+=3,H.toArray(_,B),B+=3}const k=new vn;k.setAttribute("position",new $r(E,3)),k.setAttribute("color",new $r(_,3));const R=new fo({vertexColors:!0,toneMapped:!1});super(k,R),this.type="GridHelper"}}class CQ extends Da{constructor(t=10,i=16,s=8,u=64,p=4473924,y=8947848){p=new _r(p),y=new _r(y);const A=[],E=[];for(let R=0;R<=i;R++){const P=R/i*(Math.PI*2),B=Math.sin(P)*t,O=Math.cos(P)*t;A.push(0,0,0),A.push(B,0,O);const H=R&1?p:y;E.push(H.r,H.g,H.b),E.push(H.r,H.g,H.b)}for(let R=0;R<=s;R++){const P=R&1?p:y,B=t-t/s*R;for(let O=0;O<u;O++){let H=O/u*(Math.PI*2),z=Math.sin(H)*B,Y=Math.cos(H)*B;A.push(z,0,Y),E.push(P.r,P.g,P.b),H=(O+1)/u*(Math.PI*2),z=Math.sin(H)*B,Y=Math.cos(H)*B,A.push(z,0,Y),E.push(P.r,P.g,P.b)}}const _=new vn;_.setAttribute("position",new $r(A,3)),_.setAttribute("color",new $r(E,3));const k=new fo({vertexColors:!0,toneMapped:!1});super(_,k),this.type="PolarGridHelper"}}const ZS=new wt,KA=new wt,YS=new wt;class bR extends Rn{constructor(t,i,s){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=s,i===void 0&&(i=1);let u=new vn;u.setAttribute("position",new $r([-i,i,0,i,i,0,i,-i,0,-i,-i,0,-i,i,0],3));const p=new fo({fog:!1,toneMapped:!1});this.lightPlane=new Eo(u,p),this.add(this.lightPlane),u=new vn,u.setAttribute("position",new $r([0,0,0,0,0,1],3)),this.targetLine=new Eo(u,p),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){ZS.setFromMatrixPosition(this.light.matrixWorld),KA.setFromMatrixPosition(this.light.target.matrixWorld),YS.subVectors(KA,ZS),this.lightPlane.lookAt(KA),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(KA),this.targetLine.scale.z=YS.length()}}const $A=new wt,Qs=new Gg;class yR extends Da{constructor(t){const i=new vn,s=new fo({color:16777215,vertexColors:!0,toneMapped:!1}),u=[],p=[],y={},A=new _r(16755200),E=new _r(16711680),_=new _r(43775),k=new _r(16777215),R=new _r(3355443);P("n1","n2",A),P("n2","n4",A),P("n4","n3",A),P("n3","n1",A),P("f1","f2",A),P("f2","f4",A),P("f4","f3",A),P("f3","f1",A),P("n1","f1",A),P("n2","f2",A),P("n3","f3",A),P("n4","f4",A),P("p","n1",E),P("p","n2",E),P("p","n3",E),P("p","n4",E),P("u1","u2",_),P("u2","u3",_),P("u3","u1",_),P("c","t",k),P("p","c",R),P("cn1","cn2",R),P("cn3","cn4",R),P("cf1","cf2",R),P("cf3","cf4",R);function P(O,H,z){B(O,z),B(H,z)}function B(O,H){u.push(0,0,0),p.push(H.r,H.g,H.b),y[O]===void 0&&(y[O]=[]),y[O].push(u.length/3-1)}i.setAttribute("position",new $r(u,3)),i.setAttribute("color",new $r(p,3)),super(i,s),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=y,this.update()}update(){const t=this.geometry,i=this.pointMap,s=1,u=1;Qs.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ro("c",i,t,Qs,0,0,-1),ro("t",i,t,Qs,0,0,1),ro("n1",i,t,Qs,-s,-u,-1),ro("n2",i,t,Qs,s,-u,-1),ro("n3",i,t,Qs,-s,u,-1),ro("n4",i,t,Qs,s,u,-1),ro("f1",i,t,Qs,-s,-u,1),ro("f2",i,t,Qs,s,-u,1),ro("f3",i,t,Qs,-s,u,1),ro("f4",i,t,Qs,s,u,1),ro("u1",i,t,Qs,s*.7,u*1.1,-1),ro("u2",i,t,Qs,-s*.7,u*1.1,-1),ro("u3",i,t,Qs,0,u*2,-1),ro("cf1",i,t,Qs,-s,0,1),ro("cf2",i,t,Qs,s,0,1),ro("cf3",i,t,Qs,0,-u,1),ro("cf4",i,t,Qs,0,u,1),ro("cn1",i,t,Qs,-s,0,-1),ro("cn2",i,t,Qs,s,0,-1),ro("cn3",i,t,Qs,0,-u,-1),ro("cn4",i,t,Qs,0,u,-1),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ro(l,t,i,s,u,p,y){$A.set(u,p,y).unproject(s);const A=t[l];if(A!==void 0){const E=i.getAttribute("position");for(let _=0,k=A.length;_<k;_++)E.setXYZ(A[_],$A.x,$A.y,$A.z)}}const ev=new ia;class AR extends Da{constructor(t,i=16776960){const s=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),u=new Float32Array(8*3),p=new vn;p.setIndex(new d0(s,1)),p.setAttribute("position",new d0(u,3)),super(p,new fo({color:i,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(t){if(t!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&ev.setFromObject(this.object),ev.isEmpty())return;const i=ev.min,s=ev.max,u=this.geometry.attributes.position,p=u.array;p[0]=s.x,p[1]=s.y,p[2]=s.z,p[3]=i.x,p[4]=s.y,p[5]=s.z,p[6]=i.x,p[7]=i.y,p[8]=s.z,p[9]=s.x,p[10]=i.y,p[11]=s.z,p[12]=s.x,p[13]=s.y,p[14]=i.z,p[15]=i.x,p[16]=s.y,p[17]=i.z,p[18]=i.x,p[19]=i.y,p[20]=i.z,p[21]=s.x,p[22]=i.y,p[23]=i.z,u.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t){return Da.prototype.copy.call(this,t),this.object=t.object,this}}class vR extends Da{constructor(t,i=16776960){const s=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),u=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],p=new vn;p.setIndex(new d0(s,1)),p.setAttribute("position",new $r(u,3)),super(p,new fo({color:i,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const i=this.box;i.isEmpty()||(i.getCenter(this.position),i.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}}class SQ extends Eo{constructor(t,i=1,s=16776960){const u=s,p=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],y=new vn;y.setAttribute("position",new $r(p,3)),y.computeBoundingSphere(),super(y,new fo({color:u,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=i;const A=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],E=new vn;E.setAttribute("position",new $r(A,3)),E.computeBoundingSphere(),this.add(new ir(E,new Us({color:u,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){let i=-this.plane.constant;Math.abs(i)<1e-8&&(i=1e-8),this.scale.set(.5*this.size,.5*this.size,i),this.children[0].material.side=i<0?Qa:wh,this.lookAt(this.plane.normal),super.updateMatrixWorld(t)}}const KS=new wt;let tv,P3;class TQ extends Rn{constructor(t=new wt(0,0,1),i=new wt(0,0,0),s=1,u=16776960,p=s*.2,y=p*.2){super(),this.type="ArrowHelper",tv===void 0&&(tv=new vn,tv.setAttribute("position",new $r([0,0,0,0,1,0],3)),P3=new ws(0,.5,1,5,1),P3.translate(0,-.5,0)),this.position.copy(i),this.line=new Eo(tv,new fo({color:u,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ir(P3,new Us({color:u,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(s,p,y)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{KS.set(t.z,0,-t.x).normalize();const i=Math.acos(t.y);this.quaternion.setFromAxisAngle(KS,i)}}setLength(t,i=t*.2,s=i*.2){this.line.scale.set(1,Math.max(1e-4,t-i),1),this.line.updateMatrix(),this.cone.scale.set(s,i,s),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}}class wR extends Da{constructor(t=1){const i=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],s=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],u=new vn;u.setAttribute("position",new $r(i,3)),u.setAttribute("color",new $r(s,3));const p=new fo({vertexColors:!0,toneMapped:!1});super(u,p),this.type="AxesHelper"}setColors(t,i,s){const u=new _r,p=this.geometry.attributes.color.array;return u.set(t),u.toArray(p,0),u.toArray(p,3),u.set(i),u.toArray(p,6),u.toArray(p,9),u.set(s),u.toArray(p,12),u.toArray(p,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class MQ{constructor(){this.type="ShapePath",this.color=new _r,this.subPaths=[],this.currentPath=null}moveTo(t,i){return this.currentPath=new jp,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,i),this}lineTo(t,i){return this.currentPath.lineTo(t,i),this}quadraticCurveTo(t,i,s,u){return this.currentPath.quadraticCurveTo(t,i,s,u),this}bezierCurveTo(t,i,s,u,p,y){return this.currentPath.bezierCurveTo(t,i,s,u,p,y),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t,i){function s(ee){const ue=[];for(let oe=0,Ae=ee.length;oe<Ae;oe++){const be=ee[oe],xe=new Df;xe.curves=be.curves,ue.push(xe)}return ue}function u(ee,ue){const oe=ue.length;let Ae=!1;for(let be=oe-1,xe=0;xe<oe;be=xe++){let ne=ue[be],ae=ue[xe],ye=ae.x-ne.x,ge=ae.y-ne.y;if(Math.abs(ge)>Number.EPSILON){if(ge<0&&(ne=ue[xe],ye=-ye,ae=ue[be],ge=-ge),ee.y<ne.y||ee.y>ae.y)continue;if(ee.y===ne.y){if(ee.x===ne.x)return!0}else{const we=ge*(ee.x-ne.x)-ye*(ee.y-ne.y);if(we===0)return!0;if(we<0)continue;Ae=!Ae}}else{if(ee.y!==ne.y)continue;if(ae.x<=ee.x&&ee.x<=ne.x||ne.x<=ee.x&&ee.x<=ae.x)return!0}}return Ae}const p=gu.isClockWise,y=this.subPaths;if(y.length===0)return[];if(i===!0)return s(y);let A,E,_;const k=[];if(y.length===1)return E=y[0],_=new Df,_.curves=E.curves,k.push(_),k;let R=!p(y[0].getPoints());R=t?!R:R;const P=[],B=[];let O=[],H=0,z;B[H]=void 0,O[H]=[];for(let ee=0,ue=y.length;ee<ue;ee++)E=y[ee],z=E.getPoints(),A=p(z),A=t?!A:A,A?(!R&&B[H]&&H++,B[H]={s:new Df,p:z},B[H].s.curves=E.curves,R&&H++,O[H]=[]):O[H].push({h:E,p:z[0]});if(!B[0])return s(y);if(B.length>1){let ee=!1,ue=0;for(let oe=0,Ae=B.length;oe<Ae;oe++)P[oe]=[];for(let oe=0,Ae=B.length;oe<Ae;oe++){const be=O[oe];for(let xe=0;xe<be.length;xe++){const ne=be[xe];let ae=!0;for(let ye=0;ye<B.length;ye++)u(ne.p,B[ye].p)&&(oe!==ye&&ue++,ae?(ae=!1,P[ye].push(ne)):ee=!0);ae&&P[oe].push(ne)}}ue>0&&ee===!1&&(O=P)}let Y;for(let ee=0,ue=B.length;ee<ue;ee++){_=B[ee].s,k.push(_),Y=O[ee];for(let oe=0,Ae=Y.length;oe<Ae;oe++)_.holes.push(Y[oe].h)}return k}}class RQ{static toHalfFloat(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=oo(t,-65504,65504),$S[0]=t;const i=eT[0],s=i>>23&511;return xf[s]+((i&8388607)>>Ef[s])}static fromHalfFloat(t){const i=t>>10;return eT[0]=T8[ER[i]+(t&1023)]+y1[i],$S[0]}}const xR=new ArrayBuffer(4),$S=new Float32Array(xR),eT=new Uint32Array(xR),xf=new Uint32Array(512),Ef=new Uint32Array(512);for(let l=0;l<256;++l){const t=l-127;t<-27?(xf[l]=0,xf[l|256]=32768,Ef[l]=24,Ef[l|256]=24):t<-14?(xf[l]=1024>>-t-14,xf[l|256]=1024>>-t-14|32768,Ef[l]=-t-1,Ef[l|256]=-t-1):t<=15?(xf[l]=t+15<<10,xf[l|256]=t+15<<10|32768,Ef[l]=13,Ef[l|256]=13):t<128?(xf[l]=31744,xf[l|256]=64512,Ef[l]=24,Ef[l|256]=24):(xf[l]=31744,xf[l|256]=64512,Ef[l]=13,Ef[l|256]=13)}const T8=new Uint32Array(2048),y1=new Uint32Array(64),ER=new Uint32Array(64);for(let l=1;l<1024;++l){let t=l<<13,i=0;for(;(t&8388608)===0;)t<<=1,i-=8388608;t&=-8388609,i+=947912704,T8[l]=t|i}for(let l=1024;l<2048;++l)T8[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)y1[l]=l<<23;y1[31]=1199570944;y1[32]=2147483648;for(let l=33;l<63;++l)y1[l]=2147483648+(l-32<<23);y1[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(ER[l]=1024);const BQ=0,IQ=1,DQ=0,PQ=1,LQ=2;function NQ(l){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),l}function FQ(l=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),l.isMultiMaterial=!0,l.materials=l,l.clone=function(){return l.slice()},l}class OQ extends g1{constructor(t,i){console.warn("THREE.PointCloud has been renamed to THREE.Points."),super(t,i)}}class HQ extends Mf{constructor(t){console.warn("THREE.Particle has been renamed to THREE.Sprite."),super(t)}}class UQ extends g1{constructor(t,i){console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),super(t,i)}}class VQ extends hc{constructor(t){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),super(t)}}class jQ extends hc{constructor(t){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),super(t)}}class GQ extends hc{constructor(t){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),super(t)}}class zQ extends wt{constructor(t,i,s){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),super(t,i,s)}}class WQ extends d0{constructor(t,i){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),super(t,i),this.setUsage(Up)}}class QQ extends v7{constructor(t,i){console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),super(t,i)}}class JQ extends w7{constructor(t,i){console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),super(t,i)}}class XQ extends x7{constructor(t,i){console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),super(t,i)}}class qQ extends E7{constructor(t,i){console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),super(t,i)}}class ZQ extends k4{constructor(t,i){console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),super(t,i)}}class YQ extends _7{constructor(t,i){console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),super(t,i)}}class KQ extends C4{constructor(t,i){console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),super(t,i)}}class $Q extends $r{constructor(t,i){console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),super(t,i)}}class eJ extends C7{constructor(t,i){console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),super(t,i)}}Ml.create=function(l,t){return console.log("THREE.Curve.create() has been deprecated"),l.prototype=Object.create(Ml.prototype),l.prototype.constructor=l,l.prototype.getPoint=t,l};jp.prototype.fromPoints=function(l){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(l)};class tJ extends wR{constructor(t){console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),super(t)}}class iJ extends AR{constructor(t,i){console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),super(t,i)}}class rJ extends Da{constructor(t,i){console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),super(new r8(t.geometry),new fo({color:i!==void 0?i:16777215}))}}i4.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};t4.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};class nJ extends Da{constructor(t,i){console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),super(new n8(t.geometry),new fo({color:i!==void 0?i:16777215}))}}ga.prototype.extractUrlBase=function(l){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Cl.extractUrlBase(l)};ga.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};class sJ extends Pa{constructor(t){console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),super(t)}}class oJ extends d8{constructor(t){console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),super(t)}}b1.prototype.center=function(l){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(l)};b1.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};b1.prototype.isIntersectionBox=function(l){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(l)};b1.prototype.size=function(l){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(l)};ia.prototype.center=function(l){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(l)};ia.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};ia.prototype.isIntersectionBox=function(l){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(l)};ia.prototype.isIntersectionSphere=function(l){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(l)};ia.prototype.size=function(l){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(l)};ao.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")};Mu.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};zg.prototype.setFromMatrix=function(l){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(l)};hR.prototype.center=function(l){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(l)};qs.prototype.flattenToArrayOffset=function(l,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(l,t)};qs.prototype.multiplyVector3=function(l){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),l.applyMatrix3(this)};qs.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};qs.prototype.applyToBufferAttribute=function(l){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),l.applyMatrix3(this)};qs.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};qs.prototype.getInverse=function(l){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(l).invert()};Jr.prototype.extractPosition=function(l){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(l)};Jr.prototype.flattenToArrayOffset=function(l,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(l,t)};Jr.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new wt().setFromMatrixColumn(this,3)};Jr.prototype.setRotationFromQuaternion=function(l){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(l)};Jr.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Jr.prototype.multiplyVector3=function(l){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),l.applyMatrix4(this)};Jr.prototype.multiplyVector4=function(l){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),l.applyMatrix4(this)};Jr.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Jr.prototype.rotateAxis=function(l){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),l.transformDirection(this)};Jr.prototype.crossVector=function(l){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),l.applyMatrix4(this)};Jr.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Jr.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Jr.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Jr.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Jr.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Jr.prototype.applyToBufferAttribute=function(l){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),l.applyMatrix4(this)};Jr.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Jr.prototype.makeFrustum=function(l,t,i,s,u,p){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(l,t,s,i,u,p)};Jr.prototype.getInverse=function(l){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(l).invert()};cu.prototype.isIntersectionLine=function(l){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(l)};D0.prototype.multiplyVector3=function(l){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),l.applyQuaternion(this)};D0.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};Ph.prototype.isIntersectionBox=function(l){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(l)};Ph.prototype.isIntersectionPlane=function(l){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(l)};Ph.prototype.isIntersectionSphere=function(l){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(l)};lo.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};lo.prototype.barycoordFromPoint=function(l,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(l,t)};lo.prototype.midpoint=function(l){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(l)};lo.prototypenormal=function(l){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(l)};lo.prototype.plane=function(l){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(l)};lo.barycoordFromPoint=function(l,t,i,s,u){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),lo.getBarycoord(l,t,i,s,u)};lo.normal=function(l,t,i,s){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),lo.getNormal(l,t,i,s)};Df.prototype.extractAllPoints=function(l){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(l)};Df.prototype.extrude=function(l){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Lf(this,l)};Df.prototype.makeGeometry=function(l){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Xd(this,l)};Yi.prototype.fromAttribute=function(l,t,i){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(l,t,i)};Yi.prototype.distanceToManhattan=function(l){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(l)};Yi.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};wt.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};wt.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};wt.prototype.getPositionFromMatrix=function(l){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(l)};wt.prototype.getScaleFromMatrix=function(l){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(l)};wt.prototype.getColumnFromMatrix=function(l,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,l)};wt.prototype.applyProjection=function(l){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(l)};wt.prototype.fromAttribute=function(l,t,i){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(l,t,i)};wt.prototype.distanceToManhattan=function(l){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(l)};wt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};V0.prototype.fromAttribute=function(l,t,i){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(l,t,i)};V0.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Rn.prototype.getChildByName=function(l){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(l)};Rn.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};Rn.prototype.translate=function(l,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,l)};Rn.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};Rn.prototype.applyMatrix=function(l){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(l)};Object.defineProperties(Rn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(l){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=l}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});ir.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(ir.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),u7},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Wg.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};_o.prototype.setLens=function(l,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),t!==void 0&&(this.filmGauge=t),this.setFocalLength(l)};Object.defineProperties(Ff.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(l){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=l}},shadowCameraLeft:{set:function(l){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=l}},shadowCameraRight:{set:function(l){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=l}},shadowCameraTop:{set:function(l){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=l}},shadowCameraBottom:{set:function(l){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=l}},shadowCameraNear:{set:function(l){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=l}},shadowCameraFar:{set:function(l){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=l}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(l){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=l}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(l){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=l}},shadowMapHeight:{set:function(l){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=l}}});Object.defineProperties(d0.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Up},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Up)}}});d0.prototype.setDynamic=function(l){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(l===!0?Up:Hp),this};d0.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},d0.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};vn.prototype.addIndex=function(l){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(l)};vn.prototype.addAttribute=function(l,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(t&&t.isBufferAttribute)&&!(t&&t.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(l,new d0(arguments[1],arguments[2]))):l==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(l,t)};vn.prototype.addDrawCall=function(l,t,i){i!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(l,t)};vn.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};vn.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};vn.prototype.removeAttribute=function(l){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(l)};vn.prototype.applyMatrix=function(l){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(l)};Object.defineProperties(vn.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Nh.prototype.setDynamic=function(l){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(l===!0?Up:Hp),this};Nh.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Lf.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};Lf.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};Lf.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};Ch.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};G4.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(Bs.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new _r}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(l){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=l===HE}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(l){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=l}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(Tl.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(l){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=l}}});j0.prototype.clearTarget=function(l,t,i,s){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(l),this.clear(t,i,s)};j0.prototype.animate=function(l){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(l)};j0.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};j0.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};j0.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};j0.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};j0.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};j0.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};j0.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};j0.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};j0.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};j0.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};j0.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};j0.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};j0.prototype.enableScissorTest=function(l){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(l)};j0.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};j0.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};j0.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};j0.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};j0.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};j0.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};j0.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};j0.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};j0.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};j0.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(j0.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(l){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=l}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(l){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=l}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(l){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=l===!0?b0:oc}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(L7.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});class aJ extends T4{constructor(t,i,s){console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),super(t,s)}}Object.defineProperties(Ta.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(l){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=l}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(l){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=l}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(l){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=l}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(l){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=l}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(l){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=l}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(l){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=l}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(l){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=l}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(l){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=l}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(l){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=l}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(l){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=l}}});j4.prototype.load=function(l){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return new E8().load(l,function(s){t.setBuffer(s)}),this};oR.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};S4.prototype.updateCubeMap=function(l,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(l,t)};S4.prototype.clear=function(l,t,i,s){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(l,t,i,s)};Dh.crossOrigin=void 0;Dh.loadTexture=function(l,t,i,s){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const u=new p8;u.setCrossOrigin(this.crossOrigin);const p=u.load(l,i,void 0,s);return t&&(p.mapping=t),p};Dh.loadTextureCube=function(l,t,i,s){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const u=new Y7;u.setCrossOrigin(this.crossOrigin);const p=u.load(l,i,void 0,s);return t&&(p.mapping=t),p};Dh.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Dh.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function lJ(){console.error("THREE.CanvasRenderer has been removed")}function fJ(){console.error("THREE.JSONLoader has been removed.")}const uJ={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function cJ(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}class hJ extends vn{constructor(){console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),super()}}class dJ extends vn{constructor(){console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),super()}}function pJ(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function mJ(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function gJ(){console.error("THREE.ImmediateRenderObject has been removed.")}class bJ extends Ta{constructor(t,i,s){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(t,i,s),this.samples=4}}class yJ extends c1{constructor(t,i,s,u){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(t,i,s,u)}}class AJ extends jg{constructor(t,i,s,u){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(t,i,s,u)}}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:A4}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=A4);var vJ=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:z9,AddEquation:Bd,AddOperation:U9,AdditiveAnimationBlendMode:GE,AdditiveBlending:S5,AlphaFormat:Y9,AlwaysDepth:jE,AlwaysStencilFunc:d7,AmbientLight:b8,AmbientLightProbe:nR,AnimationClip:$p,AnimationLoader:aQ,AnimationMixer:S8,AnimationObjectGroup:lR,AnimationUtils:xs,ArcCurve:KE,ArrayCamera:qE,ArrowHelper:TQ,Audio:j4,AudioAnalyser:oR,AudioContext:x8,AudioListener:sR,AudioLoader:E8,AxesHelper:wR,AxisHelper:tJ,BackSide:Qa,BasicDepthPacking:WE,BasicShadowMap:rU,BinaryTextureLoader:oJ,Bone:Qg,BooleanKeyframeTrack:n2,BoundingBoxHelper:iJ,Box2:b1,Box3:ia,Box3Helper:vR,BoxBufferGeometry:fs,BoxGeometry:fs,BoxHelper:AR,BufferAttribute:d0,BufferGeometry:vn,BufferGeometryLoader:iR,ByteType:Q9,Cache:qd,Camera:Gg,CameraHelper:yR,CanvasRenderer:lJ,CanvasTexture:Xg,CapsuleBufferGeometry:Gp,CapsuleGeometry:Gp,CatmullRomCurve3:e8,CineonToneMapping:G9,CircleBufferGeometry:zp,CircleGeometry:zp,ClampToEdgeWrapping:da,Clock:_8,Color:_r,ColorKeyframeTrack:h8,ColorManagement:zl,CompressedTexture:YE,CompressedTextureLoader:lQ,ConeBufferGeometry:Sh,ConeGeometry:Sh,CubeCamera:S4,CubeReflectionMapping:xh,CubeRefractionMapping:Eh,CubeTexture:h1,CubeTextureLoader:Y7,CubeUVReflectionMapping:u1,CubicBezierCurve:P4,CubicBezierCurve3:t8,CubicInterpolant:J7,CullFaceBack:C5,CullFaceFront:A9,CullFaceFrontBack:iU,CullFaceNone:y9,Curve:Ml,CurvePath:G7,CustomBlending:w9,CustomToneMapping:W9,CylinderBufferGeometry:ws,CylinderGeometry:ws,Cylindrical:_Q,Data3DTexture:jg,DataArrayTexture:c1,DataTexture:Ud,DataTexture2DArray:yJ,DataTexture3D:AJ,DataTextureLoader:d8,DataUtils:RQ,DecrementStencilOp:dU,DecrementWrapStencilOp:mU,DefaultLoadingManager:Z7,DepthFormat:Ah,DepthStencilFormat:zd,DepthTexture:ZE,DirectionalLight:Kg,DirectionalLightHelper:bR,DiscreteInterpolant:X7,DodecahedronBufferGeometry:Wp,DodecahedronGeometry:Wp,DoubleSide:Pf,DstAlphaFactor:T9,DstColorFactor:R9,DynamicBufferAttribute:WQ,DynamicCopyUsage:MU,DynamicDrawUsage:Up,DynamicReadUsage:CU,EdgesGeometry:r8,EdgesHelper:rJ,EllipseCurve:qg,EqualDepth:L9,EqualStencilFunc:AU,EquirectangularReflectionMapping:sc,EquirectangularRefractionMapping:xg,Euler:ao,EventDispatcher:cc,ExtrudeBufferGeometry:Lf,ExtrudeGeometry:Lf,FaceColors:PQ,FileLoader:Pa,FlatShading:HE,Float16BufferAttribute:k7,Float32Attribute:$Q,Float32BufferAttribute:$r,Float64Attribute:eJ,Float64BufferAttribute:C7,FloatType:ic,Fog:m1,FogExp2:p1,Font:mJ,FontLoader:pJ,FramebufferTexture:V7,FrontSide:wh,Frustum:zg,GLBufferAttribute:uR,GLSL1:BU,GLSL3:$5,GreaterDepth:F9,GreaterEqualDepth:N9,GreaterEqualStencilFunc:EU,GreaterStencilFunc:wU,GridHelper:i4,Group:xl,HalfFloatType:Fp,HemisphereLight:m8,HemisphereLightHelper:gR,HemisphereLightProbe:rR,IcosahedronBufferGeometry:Qp,IcosahedronGeometry:Qp,ImageBitmapLoader:w8,ImageLoader:Bg,ImageUtils:Dh,ImmediateRenderObject:gJ,IncrementStencilOp:hU,IncrementWrapStencilOp:pU,InstancedBufferAttribute:Qd,InstancedBufferGeometry:v8,InstancedInterleavedBuffer:fR,InstancedMesh:I4,Int16Attribute:qQ,Int16BufferAttribute:E7,Int32Attribute:YQ,Int32BufferAttribute:_7,Int8Attribute:QQ,Int8BufferAttribute:v7,IntType:X9,InterleavedBuffer:Nh,InterleavedBufferAttribute:ac,Interpolant:xu,InterpolateDiscrete:Op,InterpolateLinear:Wd,InterpolateSmooth:Tv,InvertStencilOp:gU,JSONLoader:fJ,KeepStencilOp:Mv,KeyframeTrack:Hf,LOD:H7,LatheBufferGeometry:Jd,LatheGeometry:Jd,Layers:_4,LensFlare:cJ,LessDepth:P9,LessEqualDepth:Yv,LessEqualStencilFunc:vU,LessStencilFunc:yU,Light:Ff,LightProbe:$g,Line:Eo,Line3:hR,LineBasicMaterial:fo,LineCurve:Zg,LineCurve3:j7,LineDashedMaterial:U4,LineLoop:D4,LinePieces:IQ,LineSegments:Da,LineStrip:BQ,LinearEncoding:oc,LinearFilter:Es,LinearInterpolant:c8,LinearMipMapLinearFilter:lU,LinearMipMapNearestFilter:aU,LinearMipmapLinearFilter:Tu,LinearMipmapNearestFilter:x4,LinearSRGBColorSpace:gh,LinearToneMapping:V9,Loader:ga,LoaderUtils:Cl,LoadingManager:o2,LoopOnce:a7,LoopPingPong:f7,LoopRepeat:l7,LuminanceAlphaFormat:e7,LuminanceFormat:$9,MOUSE:eU,Material:Bs,MaterialLoader:tR,Math:Cf,MathUtils:Cf,Matrix3:qs,Matrix4:Jr,MaxEquation:B5,Mesh:ir,MeshBasicMaterial:Us,MeshDepthMaterial:R4,MeshDistanceMaterial:B4,MeshFaceMaterial:NQ,MeshLambertMaterial:f8,MeshMatcapMaterial:u8,MeshNormalMaterial:l8,MeshPhongMaterial:o8,MeshPhysicalMaterial:Ru,MeshStandardMaterial:is,MeshToonMaterial:a8,MinEquation:R5,MirroredRepeatWrapping:Lp,MixOperation:H9,MultiMaterial:FQ,MultiplyBlending:M5,MultiplyOperation:Vg,NearestFilter:so,NearestMipMapLinearFilter:oU,NearestMipMapNearestFilter:sU,NearestMipmapLinearFilter:_g,NearestMipmapNearestFilter:Eg,NeverDepth:D9,NeverStencilFunc:bU,NoBlending:nc,NoColorSpace:fU,NoColors:DQ,NoToneMapping:If,NormalAnimationBlendMode:E4,NormalBlending:Nd,NotEqualDepth:O9,NotEqualStencilFunc:xU,NumberKeyframeTrack:Yp,Object3D:Rn,ObjectLoader:Fh,ObjectSpaceNormalMap:h7,OctahedronBufferGeometry:Rf,OctahedronGeometry:Rf,OneFactor:k9,OneMinusDstAlphaFactor:M9,OneMinusDstColorFactor:B9,OneMinusSrcAlphaFactor:VE,OneMinusSrcColorFactor:S9,OrthographicCamera:Lh,PCFShadowMap:v4,PCFSoftShadowMap:v9,PMREMGenerator:e4,ParametricGeometry:hJ,Particle:HQ,ParticleBasicMaterial:jQ,ParticleSystem:UQ,ParticleSystemMaterial:GQ,Path:jp,PerspectiveCamera:_o,Plane:cu,PlaneBufferGeometry:$o,PlaneGeometry:$o,PlaneHelper:SQ,PointCloud:OQ,PointCloudMaterial:VQ,PointLight:Yg,PointLightHelper:mR,Points:g1,PointsMaterial:hc,PolarGridHelper:CQ,PolyhedronBufferGeometry:wu,PolyhedronGeometry:wu,PositionalAudio:dQ,PropertyBinding:k0,PropertyMixer:aR,QuadraticBezierCurve:L4,QuadraticBezierCurve3:N4,Quaternion:D0,QuaternionKeyframeTrack:Mh,QuaternionLinearInterpolant:q7,REVISION:A4,RGBADepthPacking:QE,RGBAFormat:wl,RGBAIntegerFormat:s7,RGBA_ASTC_10x10_Format:q5,RGBA_ASTC_10x5_Format:Q5,RGBA_ASTC_10x6_Format:J5,RGBA_ASTC_10x8_Format:X5,RGBA_ASTC_12x10_Format:Z5,RGBA_ASTC_12x12_Format:Y5,RGBA_ASTC_4x4_Format:O5,RGBA_ASTC_5x4_Format:H5,RGBA_ASTC_5x5_Format:U5,RGBA_ASTC_6x5_Format:V5,RGBA_ASTC_6x6_Format:j5,RGBA_ASTC_8x5_Format:G5,RGBA_ASTC_8x6_Format:z5,RGBA_ASTC_8x8_Format:W5,RGBA_BPTC_Format:K5,RGBA_ETC2_EAC_Format:F5,RGBA_PVRTC_2BPPV1_Format:L5,RGBA_PVRTC_4BPPV1_Format:P5,RGBA_S3TC_DXT1_Format:kv,RGBA_S3TC_DXT3_Format:Cv,RGBA_S3TC_DXT5_Format:Sv,RGBFormat:K9,RGB_ETC1_Format:o7,RGB_ETC2_Format:N5,RGB_PVRTC_2BPPV1_Format:D5,RGB_PVRTC_4BPPV1_Format:I5,RGB_S3TC_DXT1_Format:_v,RGFormat:r7,RGIntegerFormat:n7,RawShaderMaterial:H4,Ray:Ph,Raycaster:eb,RectAreaLight:y8,RedFormat:t7,RedIntegerFormat:i7,ReinhardToneMapping:j9,RepeatWrapping:_h,ReplaceStencilOp:cU,ReverseSubtractEquation:E9,RingBufferGeometry:Jp,RingGeometry:Jp,SRGBColorSpace:lu,Scene:Ch,SceneUtils:uJ,ShaderChunk:s0,ShaderLib:Tf,ShaderMaterial:Tl,ShadowMaterial:s8,Shape:Df,ShapeBufferGeometry:Xd,ShapeGeometry:Xd,ShapePath:MQ,ShapeUtils:gu,ShortType:J9,Skeleton:Jg,SkeletonHelper:t4,SkinnedMesh:Wg,SmoothShading:nU,Source:bh,Sphere:Mu,SphereBufferGeometry:Nf,SphereGeometry:Nf,Spherical:cR,SphericalHarmonics3:A8,SplineCurve:F4,SpotLight:V4,SpotLightHelper:dR,Sprite:Mf,SpriteMaterial:r2,SrcAlphaFactor:UE,SrcAlphaSaturateFactor:I9,SrcColorFactor:C9,StaticCopyUsage:TU,StaticDrawUsage:Hp,StaticReadUsage:kU,StereoCamera:uQ,StreamCopyUsage:RU,StreamDrawUsage:_U,StreamReadUsage:SU,StringKeyframeTrack:s2,SubtractEquation:x9,SubtractiveBlending:T5,TOUCH:tU,TangentSpaceNormalMap:i2,TetrahedronBufferGeometry:Xp,TetrahedronGeometry:Xp,TextGeometry:dJ,Texture:ns,TextureLoader:p8,TorusBufferGeometry:Zl,TorusGeometry:Zl,TorusKnotBufferGeometry:qp,TorusKnotGeometry:qp,Triangle:lo,TriangleFanDrawMode:zE,TriangleStripDrawMode:c7,TrianglesDrawMode:u7,TubeBufferGeometry:Zp,TubeGeometry:Zp,UVMapping:w4,Uint16Attribute:ZQ,Uint16BufferAttribute:k4,Uint32Attribute:KQ,Uint32BufferAttribute:C4,Uint8Attribute:JQ,Uint8BufferAttribute:w7,Uint8ClampedAttribute:XQ,Uint8ClampedBufferAttribute:x7,Uniform:G4,UniformsLib:Or,UniformsUtils:S7,UnsignedByteType:kh,UnsignedInt248Type:Fd,UnsignedIntType:cg,UnsignedShort4444Type:q9,UnsignedShort5551Type:Z9,UnsignedShortType:Np,VSMShadowMap:vp,Vector2:Yi,Vector3:wt,Vector4:V0,VectorKeyframeTrack:Kp,Vertex:zQ,VertexColors:LQ,VideoTexture:U7,WebGL1Renderer:F7,WebGL3DRenderTarget:y7,WebGLArrayRenderTarget:b7,WebGLCubeRenderTarget:T4,WebGLMultipleRenderTargets:A7,WebGLMultisampleRenderTarget:bJ,WebGLRenderTarget:Ta,WebGLRenderTargetCube:aJ,WebGLRenderer:j0,WebGLUtils:N7,WireframeGeometry:n8,WireframeHelper:nJ,WrapAroundEnding:kg,XHRLoader:sJ,ZeroCurvatureEnding:Pd,ZeroFactor:_9,ZeroSlopeEnding:Ld,ZeroStencilOp:uU,_SRGBAFormat:Kv,sRGBEncoding:b0},Symbol.toStringTag,{value:"Module"}));function wJ(){const l="room-maker",t={language:"en",autosave:!0,"project/title":"","project/editable":!1,"project/vr":!1,"project/renderer/antialias":!0,"project/renderer/shadows":!0,"project/renderer/shadowType":1,"project/renderer/physicallyCorrectLights":!1,"project/renderer/toneMapping":0,"project/renderer/toneMappingExposure":1,"settings/history":!1,"settings/shortcuts/translate":"w","settings/shortcuts/rotate":"e","settings/shortcuts/scale":"r","settings/shortcuts/undo":"z","settings/shortcuts/copy":"c","settings/shortcuts/focus":"f","settings/shortcuts/download":"o","settings/shortcuts/upload":"p","settings/shortcuts/multipleSelect":"Shift"};if(window.localStorage[l]===void 0)window.localStorage[l]=JSON.stringify(t);else{const i=JSON.parse(window.localStorage[l]);for(const s in i)t[s]=i[s]}return{getKey:function(i){return t[i]},setKey:function(){for(let i=0,s=arguments.length;i<s;i+=2)t[arguments[i]]=arguments[i+1];window.localStorage[l]=JSON.stringify(t)},clear:function(){delete window.localStorage[l]}}}const xJ="modulepreload",tT={},EJ="/",Ko=function(t,i){return!i||i.length===0?t():Promise.all(i.map(s=>{if(s=`${EJ}${s}`,s in tT)return;tT[s]=!0;const u=s.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${p}`))return;const y=document.createElement("link");if(y.rel=u?"stylesheet":xJ,u||(y.as="script",y.crossOrigin=""),y.href=s,document.head.appendChild(y),u)return new Promise((A,E)=>{y.addEventListener("load",A),y.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())};class _R extends d8{constructor(t){super(t)}parse(t){function i(de){switch(de.image_type){case P:case H:(de.colormap_length>256||de.colormap_size!==24||de.colormap_type!==1)&&console.error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case B:case O:case z:case Y:de.colormap_type&&console.error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case R:console.error("THREE.TGALoader: No data.");default:console.error('THREE.TGALoader: Invalid type "%s".',de.image_type)}(de.width<=0||de.height<=0)&&console.error("THREE.TGALoader: Invalid image size."),de.pixel_size!==8&&de.pixel_size!==16&&de.pixel_size!==24&&de.pixel_size!==32&&console.error('THREE.TGALoader: Invalid pixel size "%s".',de.pixel_size)}function s(de,Se,Be,Le,nt){let He,ce;const Re=Be.pixel_size>>3,lt=Be.width*Be.height*Re;if(Se&&(ce=nt.subarray(Le,Le+=Be.colormap_length*(Be.colormap_size>>3))),de){He=new Uint8Array(lt);let Te,Ye,mt,$e=0;const gt=new Uint8Array(Re);for(;$e<lt;)if(Te=nt[Le++],Ye=(Te&127)+1,Te&128){for(mt=0;mt<Re;++mt)gt[mt]=nt[Le++];for(mt=0;mt<Ye;++mt)He.set(gt,$e+mt*Re);$e+=Re*Ye}else{for(Ye*=Re,mt=0;mt<Ye;++mt)He[$e+mt]=nt[Le++];$e+=Ye}}else He=nt.subarray(Le,Le+=Se?Be.width*Be.height:lt);return{pixel_data:He,palettes:ce}}function u(de,Se,Be,Le,nt,He,ce,Re,lt){const Te=lt;let Ye,mt=0,$e,gt;const kt=ye.width;for(gt=Se;gt!==Le;gt+=Be)for($e=nt;$e!==ce;$e+=He,mt++)Ye=Re[mt],de[($e+kt*gt)*4+3]=255,de[($e+kt*gt)*4+2]=Te[Ye*3+0],de[($e+kt*gt)*4+1]=Te[Ye*3+1],de[($e+kt*gt)*4+0]=Te[Ye*3+2];return de}function p(de,Se,Be,Le,nt,He,ce,Re){let lt,Te=0,Ye,mt;const $e=ye.width;for(mt=Se;mt!==Le;mt+=Be)for(Ye=nt;Ye!==ce;Ye+=He,Te+=2)lt=Re[Te+0]+(Re[Te+1]<<8),de[(Ye+$e*mt)*4+0]=(lt&31744)>>7,de[(Ye+$e*mt)*4+1]=(lt&992)>>2,de[(Ye+$e*mt)*4+2]=(lt&31)<<3,de[(Ye+$e*mt)*4+3]=lt&32768?0:255;return de}function y(de,Se,Be,Le,nt,He,ce,Re){let lt=0,Te,Ye;const mt=ye.width;for(Ye=Se;Ye!==Le;Ye+=Be)for(Te=nt;Te!==ce;Te+=He,lt+=3)de[(Te+mt*Ye)*4+3]=255,de[(Te+mt*Ye)*4+2]=Re[lt+0],de[(Te+mt*Ye)*4+1]=Re[lt+1],de[(Te+mt*Ye)*4+0]=Re[lt+2];return de}function A(de,Se,Be,Le,nt,He,ce,Re){let lt=0,Te,Ye;const mt=ye.width;for(Ye=Se;Ye!==Le;Ye+=Be)for(Te=nt;Te!==ce;Te+=He,lt+=4)de[(Te+mt*Ye)*4+2]=Re[lt+0],de[(Te+mt*Ye)*4+1]=Re[lt+1],de[(Te+mt*Ye)*4+0]=Re[lt+2],de[(Te+mt*Ye)*4+3]=Re[lt+3];return de}function E(de,Se,Be,Le,nt,He,ce,Re){let lt,Te=0,Ye,mt;const $e=ye.width;for(mt=Se;mt!==Le;mt+=Be)for(Ye=nt;Ye!==ce;Ye+=He,Te++)lt=Re[Te],de[(Ye+$e*mt)*4+0]=lt,de[(Ye+$e*mt)*4+1]=lt,de[(Ye+$e*mt)*4+2]=lt,de[(Ye+$e*mt)*4+3]=255;return de}function _(de,Se,Be,Le,nt,He,ce,Re){let lt=0,Te,Ye;const mt=ye.width;for(Ye=Se;Ye!==Le;Ye+=Be)for(Te=nt;Te!==ce;Te+=He,lt+=2)de[(Te+mt*Ye)*4+0]=Re[lt+0],de[(Te+mt*Ye)*4+1]=Re[lt+0],de[(Te+mt*Ye)*4+2]=Re[lt+0],de[(Te+mt*Ye)*4+3]=Re[lt+1];return de}function k(de,Se,Be,Le,nt){let He,ce,Re,lt,Te,Ye;switch((ye.flags&ee)>>ue){default:case be:He=0,Re=1,Te=Se,ce=0,lt=1,Ye=Be;break;case oe:He=0,Re=1,Te=Se,ce=Be-1,lt=-1,Ye=-1;break;case xe:He=Se-1,Re=-1,Te=-1,ce=0,lt=1,Ye=Be;break;case Ae:He=Se-1,Re=-1,Te=-1,ce=Be-1,lt=-1,Ye=-1;break}if(le)switch(ye.pixel_size){case 8:E(de,ce,lt,Ye,He,Re,Te,Le);break;case 16:_(de,ce,lt,Ye,He,Re,Te,Le);break;default:console.error("THREE.TGALoader: Format not supported.");break}else switch(ye.pixel_size){case 8:u(de,ce,lt,Ye,He,Re,Te,Le,nt);break;case 16:p(de,ce,lt,Ye,He,Re,Te,Le);break;case 24:y(de,ce,lt,Ye,He,Re,Te,Le);break;case 32:A(de,ce,lt,Ye,He,Re,Te,Le);break;default:console.error("THREE.TGALoader: Format not supported.");break}return de}const R=0,P=1,B=2,O=3,H=9,z=10,Y=11,ee=48,ue=4,oe=0,Ae=1,be=2,xe=3;t.length<19&&console.error("THREE.TGALoader: Not enough data to contain header.");let ne=0;const ae=new Uint8Array(t),ye={id_length:ae[ne++],colormap_type:ae[ne++],image_type:ae[ne++],colormap_index:ae[ne++]|ae[ne++]<<8,colormap_length:ae[ne++]|ae[ne++]<<8,colormap_size:ae[ne++],origin:[ae[ne++]|ae[ne++]<<8,ae[ne++]|ae[ne++]<<8],width:ae[ne++]|ae[ne++]<<8,height:ae[ne++]|ae[ne++]<<8,pixel_size:ae[ne++],flags:ae[ne++]};i(ye),ye.id_length+ne>t.length&&console.error("THREE.TGALoader: No data."),ne+=ye.id_length;let ge=!1,we=!1,le=!1;switch(ye.image_type){case H:ge=!0,we=!0;break;case P:we=!0;break;case z:ge=!0;break;case B:break;case Y:ge=!0,le=!0;break;case O:le=!0;break}const ie=new Uint8Array(ye.width*ye.height*4),he=s(ge,we,ye,ne,ae);return k(ie,ye.width,ye.height,he.pixel_data,he.palettes),{data:ie,width:ye.width,height:ye.height,flipY:!0,generateMipmaps:!0,minFilter:Tu}}}class us{constructor(t){this.id=-1,this.inMemory=!1,this.updatable=!1,this.type="",this.name="",this.editor=t}toJSON(){const t={};return t.type=this.type,t.id=this.id,t.name=this.name,t}fromJSON(t){this.inMemory=!0,this.type=t.type,this.id=t.id,this.name=t.name}}class v0 extends us{constructor(t,i,s){super(t),this.type="AddObjectCommand",this.object=i,i!==void 0&&(this.name=`Add Object: ${i.name}`),s?(this.url=s,this.params=[]):(this.url="",this.params=[JSON.stringify(i.toJSON())])}execute(){var t;!["Exit","Entrance"].includes((t=this.object.userData)==null?void 0:t.type)&&!["DirectionalLight"].includes(this.object.type)&&(this.editor.addObject(this.object),this.editor.select(this.object))}undo(){this.editor.removeObject(this.object),this.editor.deselect()}toJSON(){const t=super.toJSON(this);return t.object=this.object.toJSON(),t}fromJSON(t){if(super.fromJSON(t),this.object=this.editor.objectByUuid(t.object.object.uuid),this.object===void 0){const i=new Fh;this.object=i.parse(t.object)}}}class M8 extends us{constructor(t,i,s){super(t),this.type="SetUuidCommand",this.name="Update UUID",this.object=i,this.oldUuid=i!==void 0?i.uuid:void 0,this.newUuid=s,this.params=[s]}execute(){this.object.uuid=this.newUuid,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.object.uuid=this.oldUuid,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.sceneGraphChanged.dispatch()}toJSON(){const t=super.toJSON(this);return t.oldUuid=this.oldUuid,t.newUuid=this.newUuid,t}fromJSON(t){super.fromJSON(t),this.oldUuid=t.oldUuid,this.newUuid=t.newUuid,this.object=this.editor.objectByUuid(t.oldUuid),this.object===void 0&&(this.object=this.editor.objectByUuid(t.newUuid))}}class vs extends us{constructor(t,i,s,u){super(t),this.type="SetValueCommand",this.name=`Set ${s}`,this.updatable=!0,this.object=i,this.attributeName=s,this.oldValue=i!==void 0?i[s]:void 0,this.newValue=u,this.params=[s,u]}execute(){this.object[this.attributeName]=this.newValue,this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.object[this.attributeName]=this.oldValue,this.editor.signals.objectChanged.dispatch(this.object)}update(t){this.newValue=t.newValue}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.attributeName=this.attributeName,t.oldValue=this.oldValue,t.newValue=this.newValue,t}fromJSON(t){super.fromJSON(t),this.attributeName=t.attributeName,this.oldValue=t.oldValue,this.newValue=t.newValue,this.object=this.editor.objectByUuid(t.objectUuid)}}class oE extends us{constructor(t,i,s){if(super(t),this.type="SetSceneCommand",this.name="Set Scene",this.cmdArray=[],i!==void 0)for(this.cmdArray.push(new M8(this.editor,this.editor.scene,i.uuid)),this.cmdArray.push(new vs(this.editor,this.editor.scene,"name",i.name)),this.cmdArray.push(new vs(this.editor,this.editor.scene,"userData",JSON.parse(JSON.stringify(i.userData))));i.children.length>0;){const u=i.children.pop();this.cmdArray.push(new v0(this.editor,u))}this.params=[],this.url=s}execute(){this.editor.signals.sceneGraphChanged.active=!1;for(let t=0;t<this.cmdArray.length;t++)this.cmdArray[t].execute();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.editor.signals.sceneGraphChanged.active=!1;for(let t=this.cmdArray.length-1;t>=0;t--)this.cmdArray[t].undo();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.sceneGraphChanged.dispatch()}toJSON(){const t=super.toJSON(this),i=[];for(let s=0;s<this.cmdArray.length;s++)i.push(this.cmdArray[s].toJSON());return t.cmds=i,t}fromJSON(t){super.fromJSON(t);const i=t.cmds;for(let s=0;s<i.length;s++){const u=new window[i[s].type];u.fromJSON(i[s]),this.cmdArray.push(u)}}}const iT={createFilesMap:function(l){const t={};for(let i=0;i<l.length;i++){const s=l[i];t[s.name]=s}return t},getFilesFromItemList:function(l,t){let i=0,s=0;const u=[],p={};function y(){i++,i===s&&t(u,p)}function A(E){E.isDirectory?E.createReader().readEntries(function(k){for(let R=0;R<k.length;R++)A(k[R]);y()}):E.isFile&&E.file(function(_){u.push(_),p[E.fullPath.slice(1)]=_,y()}),s++}for(let E=0;E<l.length;E++){const _=l[E];_.kind==="file"&&A(_.webkitGetAsEntry())}}};/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.6.9
*/var rT=function(l){return URL.createObjectURL(new Blob([l],{type:"text/javascript"}))};try{URL.revokeObjectURL(rT(""))}catch{rT=function(t){return"data:application/javascript;charset=UTF-8,"+encodeURI(t)}}var Ma=Uint8Array,Sa=Uint16Array,e1=Uint32Array,R8=new Ma([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),B8=new Ma([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),nT=new Ma([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),kR=function(l,t){for(var i=new Sa(31),s=0;s<31;++s)i[s]=t+=1<<l[s-1];for(var u=new e1(i[30]),s=1;s<30;++s)for(var p=i[s];p<i[s+1];++p)u[p]=p-i[s]<<5|s;return[i,u]},CR=kR(R8,2),_J=CR[0],aE=CR[1];_J[28]=258,aE[258]=28;var kJ=kR(B8,0),sT=kJ[1],lE=new Sa(32768);for(var _s=0;_s<32768;++_s){var ih=(_s&43690)>>>1|(_s&21845)<<1;ih=(ih&52428)>>>2|(ih&13107)<<2,ih=(ih&61680)>>>4|(ih&3855)<<4,lE[_s]=((ih&65280)>>>8|(ih&255)<<8)>>>1}var mg=function(l,t,i){for(var s=l.length,u=0,p=new Sa(t);u<s;++u)++p[l[u]-1];var y=new Sa(t);for(u=0;u<t;++u)y[u]=y[u-1]+p[u-1]<<1;var A;if(i){A=new Sa(1<<t);var E=15-t;for(u=0;u<s;++u)if(l[u])for(var _=u<<4|l[u],k=t-l[u],R=y[l[u]-1]++<<k,P=R|(1<<k)-1;R<=P;++R)A[lE[R]>>>E]=_}else for(A=new Sa(s),u=0;u<s;++u)l[u]&&(A[u]=lE[y[l[u]-1]++]>>>15-l[u]);return A},Zd=new Ma(288);for(var _s=0;_s<144;++_s)Zd[_s]=8;for(var _s=144;_s<256;++_s)Zd[_s]=9;for(var _s=256;_s<280;++_s)Zd[_s]=7;for(var _s=280;_s<288;++_s)Zd[_s]=8;var r4=new Ma(32);for(var _s=0;_s<32;++_s)r4[_s]=5;var CJ=mg(Zd,9,0),SJ=mg(r4,5,0),SR=function(l){return(l/8|0)+(l&7&&1)},TR=function(l,t,i){(t==null||t<0)&&(t=0),(i==null||i>l.length)&&(i=l.length);var s=new(l instanceof Sa?Sa:l instanceof e1?e1:Ma)(i-t);return s.set(l.subarray(t,i)),s},Zu=function(l,t,i){i<<=t&7;var s=t/8|0;l[s]|=i,l[s+1]|=i>>>8},Vm=function(l,t,i){i<<=t&7;var s=t/8|0;l[s]|=i,l[s+1]|=i>>>8,l[s+2]|=i>>>16},L3=function(l,t){for(var i=[],s=0;s<l.length;++s)l[s]&&i.push({s,f:l[s]});var u=i.length,p=i.slice();if(!u)return[I8,0];if(u==1){var y=new Ma(i[0].s+1);return y[i[0].s]=1,[y,1]}i.sort(function(Ae,be){return Ae.f-be.f}),i.push({s:-1,f:25001});var A=i[0],E=i[1],_=0,k=1,R=2;for(i[0]={s:-1,f:A.f+E.f,l:A,r:E};k!=u-1;)A=i[i[_].f<i[R].f?_++:R++],E=i[_!=k&&i[_].f<i[R].f?_++:R++],i[k++]={s:-1,f:A.f+E.f,l:A,r:E};for(var P=p[0].s,s=1;s<u;++s)p[s].s>P&&(P=p[s].s);var B=new Sa(P+1),O=fE(i[k-1],B,0);if(O>t){var s=0,H=0,z=O-t,Y=1<<z;for(p.sort(function(be,xe){return B[xe.s]-B[be.s]||be.f-xe.f});s<u;++s){var ee=p[s].s;if(B[ee]>t)H+=Y-(1<<O-B[ee]),B[ee]=t;else break}for(H>>>=z;H>0;){var ue=p[s].s;B[ue]<t?H-=1<<t-B[ue]++-1:++s}for(;s>=0&&H;--s){var oe=p[s].s;B[oe]==t&&(--B[oe],++H)}O=t}return[new Ma(B),O]},fE=function(l,t,i){return l.s==-1?Math.max(fE(l.l,t,i+1),fE(l.r,t,i+1)):t[l.s]=i},oT=function(l){for(var t=l.length;t&&!l[--t];);for(var i=new Sa(++t),s=0,u=l[0],p=1,y=function(E){i[s++]=E},A=1;A<=t;++A)if(l[A]==u&&A!=t)++p;else{if(!u&&p>2){for(;p>138;p-=138)y(32754);p>2&&(y(p>10?p-11<<5|28690:p-3<<5|12305),p=0)}else if(p>3){for(y(u),--p;p>6;p-=6)y(8304);p>2&&(y(p-3<<5|8208),p=0)}for(;p--;)y(u);p=1,u=l[A]}return[i.subarray(0,s),t]},jm=function(l,t){for(var i=0,s=0;s<t.length;++s)i+=l[s]*t[s];return i},Bv=function(l,t,i){var s=i.length,u=SR(t+2);l[u]=s&255,l[u+1]=s>>>8,l[u+2]=l[u]^255,l[u+3]=l[u+1]^255;for(var p=0;p<s;++p)l[u+p+4]=i[p];return(u+4+s)*8},aT=function(l,t,i,s,u,p,y,A,E,_,k){Zu(t,k++,i),++u[256];for(var R=L3(u,15),P=R[0],B=R[1],O=L3(p,15),H=O[0],z=O[1],Y=oT(P),ee=Y[0],ue=Y[1],oe=oT(H),Ae=oe[0],be=oe[1],xe=new Sa(19),ne=0;ne<ee.length;++ne)xe[ee[ne]&31]++;for(var ne=0;ne<Ae.length;++ne)xe[Ae[ne]&31]++;for(var ae=L3(xe,7),ye=ae[0],ge=ae[1],we=19;we>4&&!ye[nT[we-1]];--we);var le=_+5<<3,ie=jm(u,Zd)+jm(p,r4)+y,he=jm(u,P)+jm(p,H)+y+14+3*we+jm(xe,ye)+(2*xe[16]+3*xe[17]+7*xe[18]);if(le<=ie&&le<=he)return Bv(t,k,l.subarray(E,E+_));var de,Se,Be,Le;if(Zu(t,k,1+(he<ie)),k+=2,he<ie){de=mg(P,B,0),Se=P,Be=mg(H,z,0),Le=H;var nt=mg(ye,ge,0);Zu(t,k,ue-257),Zu(t,k+5,be-1),Zu(t,k+10,we-4),k+=14;for(var ne=0;ne<we;++ne)Zu(t,k+3*ne,ye[nT[ne]]);k+=3*we;for(var He=[ee,Ae],ce=0;ce<2;++ce)for(var Re=He[ce],ne=0;ne<Re.length;++ne){var lt=Re[ne]&31;Zu(t,k,nt[lt]),k+=ye[lt],lt>15&&(Zu(t,k,Re[ne]>>>5&127),k+=Re[ne]>>>12)}}else de=CJ,Se=Zd,Be=SJ,Le=r4;for(var ne=0;ne<A;++ne)if(s[ne]>255){var lt=s[ne]>>>18&31;Vm(t,k,de[lt+257]),k+=Se[lt+257],lt>7&&(Zu(t,k,s[ne]>>>23&31),k+=R8[lt]);var Te=s[ne]&31;Vm(t,k,Be[Te]),k+=Le[Te],Te>3&&(Vm(t,k,s[ne]>>>5&8191),k+=B8[Te])}else Vm(t,k,de[s[ne]]),k+=Se[s[ne]];return Vm(t,k,de[256]),k+Se[256]},TJ=new e1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),I8=new Ma(0),MJ=function(l,t,i,s,u,p){var y=l.length,A=new Ma(s+y+5*(1+Math.ceil(y/7e3))+u),E=A.subarray(s,A.length-u),_=0;if(!t||y<8)for(var k=0;k<=y;k+=65535){var R=k+65535;R<y?_=Bv(E,_,l.subarray(k,R)):(E[k]=p,_=Bv(E,_,l.subarray(k,y)))}else{for(var P=TJ[t-1],B=P>>>13,O=P&8191,H=(1<<i)-1,z=new Sa(32768),Y=new Sa(H+1),ee=Math.ceil(i/3),ue=2*ee,oe=function($t){return(l[$t]^l[$t+1]<<ee^l[$t+2]<<ue)&H},Ae=new e1(25e3),be=new Sa(288),xe=new Sa(32),ne=0,ae=0,k=0,ye=0,ge=0,we=0;k<y;++k){var le=oe(k),ie=k&32767,he=Y[le];if(z[ie]=he,Y[le]=ie,ge<=k){var de=y-k;if((ne>7e3||ye>24576)&&de>423){_=aT(l,E,0,Ae,be,xe,ae,ye,we,k-we,_),ye=ne=ae=0,we=k;for(var Se=0;Se<286;++Se)be[Se]=0;for(var Se=0;Se<30;++Se)xe[Se]=0}var Be=2,Le=0,nt=O,He=ie-he&32767;if(de>2&&le==oe(k-He))for(var ce=Math.min(B,de)-1,Re=Math.min(32767,k),lt=Math.min(258,de);He<=Re&&--nt&&ie!=he;){if(l[k+Be]==l[k+Be-He]){for(var Te=0;Te<lt&&l[k+Te]==l[k+Te-He];++Te);if(Te>Be){if(Be=Te,Le=He,Te>ce)break;for(var Ye=Math.min(He,Te-2),mt=0,Se=0;Se<Ye;++Se){var $e=k-He+Se+32768&32767,gt=z[$e],kt=$e-gt+32768&32767;kt>mt&&(mt=kt,he=$e)}}}ie=he,he=z[ie],He+=ie-he+32768&32767}if(Le){Ae[ye++]=268435456|aE[Be]<<18|sT[Le];var Kt=aE[Be]&31,Ft=sT[Le]&31;ae+=R8[Kt]+B8[Ft],++be[257+Kt],++xe[Ft],ge=k+Be,++ne}else Ae[ye++]=l[k],++be[l[k]]}}_=aT(l,E,p,Ae,be,xe,ae,ye,we,k-we,_),!p&&_&7&&(_=Bv(E,_+1,I8))}return TR(A,0,s+SR(_)+u)},RJ=function(){for(var l=new e1(256),t=0;t<256;++t){for(var i=t,s=9;--s;)i=(i&1&&3988292384)^i>>>1;l[t]=i}return l}(),BJ=function(){var l=-1;return{p:function(t){for(var i=l,s=0;s<t.length;++s)i=RJ[i&255^t[s]]^i>>>8;l=i},d:function(){return~l}}},IJ=function(l,t,i,s,u){return MJ(l,t.level==null?6:t.level,t.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(l.length)))*1.5):12+t.mem,i,s,!u)},MR=function(l,t){var i={};for(var s in l)i[s]=l[s];for(var s in t)i[s]=t[s];return i},Yo=function(l,t,i){for(;i;++t)l[t]=i,i>>>=8};function DJ(l,t){return IJ(l,t||{},0,0)}var RR=function(l,t,i,s){for(var u in l){var p=l[u],y=t+u;p instanceof Ma?i[y]=[p,s]:Array.isArray(p)?i[y]=[p[0],MR(s,p[1])]:RR(p,y+"/",i,s)}},lT=typeof TextEncoder!="undefined"&&new TextEncoder,PJ=typeof TextDecoder!="undefined"&&new TextDecoder,LJ=0;try{PJ.decode(I8,{stream:!0}),LJ=1}catch{}function Vo(l,t){if(t){for(var i=new Ma(l.length),s=0;s<l.length;++s)i[s]=l.charCodeAt(s);return i}if(lT)return lT.encode(l);for(var u=l.length,p=new Ma(l.length+(l.length>>1)),y=0,A=function(k){p[y++]=k},s=0;s<u;++s){if(y+5>p.length){var E=new Ma(y+8+(u-s<<1));E.set(p),p=E}var _=l.charCodeAt(s);_<128||t?A(_):_<2048?(A(192|_>>6),A(128|_&63)):_>55295&&_<57344?(_=65536+(_&1023<<10)|l.charCodeAt(++s)&1023,A(240|_>>18),A(128|_>>12&63),A(128|_>>6&63),A(128|_&63)):(A(224|_>>12),A(128|_>>6&63),A(128|_&63))}return TR(p,0,y)}var uE=function(l){var t=0;if(l)for(var i in l){var s=l[i].length;if(s>65535)throw"extra field too long";t+=s+4}return t},fT=function(l,t,i,s,u,p,y,A){var E=s.length,_=i.extra,k=A&&A.length,R=uE(_);Yo(l,t,y!=null?33639248:67324752),t+=4,y!=null&&(l[t++]=20,l[t++]=i.os),l[t]=20,t+=2,l[t++]=i.flag<<1|(p==null&&8),l[t++]=u&&8,l[t++]=i.compression&255,l[t++]=i.compression>>8;var P=new Date(i.mtime==null?Date.now():i.mtime),B=P.getFullYear()-1980;if(B<0||B>119)throw"date not in range 1980-2099";if(Yo(l,t,B<<25|P.getMonth()+1<<21|P.getDate()<<16|P.getHours()<<11|P.getMinutes()<<5|P.getSeconds()>>>1),t+=4,p!=null&&(Yo(l,t,i.crc),Yo(l,t+4,p),Yo(l,t+8,i.size)),Yo(l,t+12,E),Yo(l,t+14,R),t+=16,y!=null&&(Yo(l,t,k),Yo(l,t+6,i.attrs),Yo(l,t+10,y),t+=14),l.set(s,t),t+=E,R)for(var O in _){var H=_[O],z=H.length;Yo(l,t,+O),Yo(l,t+2,z),l.set(H,t+4),t+=4+z}return k&&(l.set(A,t),t+=k),t},NJ=function(l,t,i,s,u){Yo(l,t,101010256),Yo(l,t+8,i),Yo(l,t+10,i),Yo(l,t+12,s),Yo(l,t+16,u)};function FJ(l,t){t||(t={});var i={},s=[];RR(l,"",i,t);var u=0,p=0;for(var y in i){var A=i[y],E=A[0],_=A[1],k=_.level==0?0:8,R=Vo(y),P=R.length,B=_.comment,O=B&&Vo(B),H=O&&O.length,z=uE(_.extra);if(P>65535)throw"filename too long";var Y=k?DJ(E,_):E,ee=Y.length,ue=BJ();ue.p(E),s.push(MR(_,{size:E.length,crc:ue.d(),c:Y,f:R,m:O,u:P!=y.length||O&&B.length!=H,o:u,compression:k})),u+=30+P+z+ee,p+=76+2*(P+z)+(H||0)+ee}for(var oe=new Ma(p+22),Ae=u,be=p-u,xe=0;xe<s.length;++xe){var R=s[xe];fT(oe,R.o,R,R.f,R.u,R.c.length);var ne=30+R.f.length+uE(R.extra);oe.set(R.c,R.o+ne),fT(oe,u,R,R.f,R.u,R.c.length,R.o,R.m),u+=16+ne+(R.m?R.m.length:0)}return NJ(oe,u,s.length,be,Ae),oe}var Zs=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function OJ(l){if(l.__esModule)return l;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(l).forEach(function(i){var s=Object.getOwnPropertyDescriptor(l,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return l[i]}})}),t}var D8={exports:{}},BR=function(t,i){return function(){for(var u=new Array(arguments.length),p=0;p<u.length;p++)u[p]=arguments[p];return t.apply(i,u)}},HJ=BR,P8=Object.prototype.toString,L8=function(l){return function(t){var i=P8.call(t);return l[i]||(l[i]=i.slice(8,-1).toLowerCase())}}(Object.create(null));function a2(l){return l=l.toLowerCase(),function(i){return L8(i)===l}}function N8(l){return Array.isArray(l)}function n4(l){return typeof l=="undefined"}function UJ(l){return l!==null&&!n4(l)&&l.constructor!==null&&!n4(l.constructor)&&typeof l.constructor.isBuffer=="function"&&l.constructor.isBuffer(l)}var IR=a2("ArrayBuffer");function VJ(l){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(l):t=l&&l.buffer&&IR(l.buffer),t}function jJ(l){return typeof l=="string"}function GJ(l){return typeof l=="number"}function DR(l){return l!==null&&typeof l=="object"}function Iv(l){if(L8(l)!=="object")return!1;var t=Object.getPrototypeOf(l);return t===null||t===Object.prototype}var zJ=a2("Date"),WJ=a2("File"),QJ=a2("Blob"),JJ=a2("FileList");function F8(l){return P8.call(l)==="[object Function]"}function XJ(l){return DR(l)&&F8(l.pipe)}function qJ(l){var t="[object FormData]";return l&&(typeof FormData=="function"&&l instanceof FormData||P8.call(l)===t||F8(l.toString)&&l.toString()===t)}var ZJ=a2("URLSearchParams");function YJ(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function KJ(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function O8(l,t){if(!(l===null||typeof l=="undefined"))if(typeof l!="object"&&(l=[l]),N8(l))for(var i=0,s=l.length;i<s;i++)t.call(null,l[i],i,l);else for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&t.call(null,l[u],u,l)}function cE(){var l={};function t(u,p){Iv(l[p])&&Iv(u)?l[p]=cE(l[p],u):Iv(u)?l[p]=cE({},u):N8(u)?l[p]=u.slice():l[p]=u}for(var i=0,s=arguments.length;i<s;i++)O8(arguments[i],t);return l}function $J(l,t,i){return O8(t,function(u,p){i&&typeof u=="function"?l[p]=HJ(u,i):l[p]=u}),l}function eX(l){return l.charCodeAt(0)===65279&&(l=l.slice(1)),l}function tX(l,t,i,s){l.prototype=Object.create(t.prototype,s),l.prototype.constructor=l,i&&Object.assign(l.prototype,i)}function iX(l,t,i){var s,u,p,y={};t=t||{};do{for(s=Object.getOwnPropertyNames(l),u=s.length;u-- >0;)p=s[u],y[p]||(t[p]=l[p],y[p]=!0);l=Object.getPrototypeOf(l)}while(l&&(!i||i(l,t))&&l!==Object.prototype);return t}function rX(l,t,i){l=String(l),(i===void 0||i>l.length)&&(i=l.length),i-=t.length;var s=l.indexOf(t,i);return s!==-1&&s===i}function nX(l){if(!l)return null;var t=l.length;if(n4(t))return null;for(var i=new Array(t);t-- >0;)i[t]=l[t];return i}var sX=function(l){return function(t){return l&&t instanceof l}}(typeof Uint8Array!="undefined"&&Object.getPrototypeOf(Uint8Array)),ra={isArray:N8,isArrayBuffer:IR,isBuffer:UJ,isFormData:qJ,isArrayBufferView:VJ,isString:jJ,isNumber:GJ,isObject:DR,isPlainObject:Iv,isUndefined:n4,isDate:zJ,isFile:WJ,isBlob:QJ,isFunction:F8,isStream:XJ,isURLSearchParams:ZJ,isStandardBrowserEnv:KJ,forEach:O8,merge:cE,extend:$J,trim:YJ,stripBOM:eX,inherits:tX,toFlatObject:iX,kindOf:L8,kindOfTest:a2,endsWith:rX,toArray:nX,isTypedArray:sX,isFileList:JJ},cp=ra;function uT(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var PR=function(t,i,s){if(!i)return t;var u;if(s)u=s(i);else if(cp.isURLSearchParams(i))u=i.toString();else{var p=[];cp.forEach(i,function(E,_){E===null||typeof E=="undefined"||(cp.isArray(E)?_=_+"[]":E=[E],cp.forEach(E,function(R){cp.isDate(R)?R=R.toISOString():cp.isObject(R)&&(R=JSON.stringify(R)),p.push(uT(_)+"="+uT(R))}))}),u=p.join("&")}if(u){var y=t.indexOf("#");y!==-1&&(t=t.slice(0,y)),t+=(t.indexOf("?")===-1?"?":"&")+u}return t},oX=ra;function z4(){this.handlers=[]}z4.prototype.use=function(t,i,s){return this.handlers.push({fulfilled:t,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1};z4.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};z4.prototype.forEach=function(t){oX.forEach(this.handlers,function(s){s!==null&&t(s)})};var aX=z4,lX=ra,fX=function(t,i){lX.forEach(t,function(u,p){p!==i&&p.toUpperCase()===i.toUpperCase()&&(t[i]=u,delete t[p])})},LR=ra;function t1(l,t,i,s,u){Error.call(this),this.message=l,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),s&&(this.request=s),u&&(this.response=u)}LR.inherits(t1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var NR=t1.prototype,FR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(l){FR[l]={value:l}});Object.defineProperties(t1,FR);Object.defineProperty(NR,"isAxiosError",{value:!0});t1.from=function(l,t,i,s,u,p){var y=Object.create(NR);return LR.toFlatObject(l,y,function(E){return E!==Error.prototype}),t1.call(y,l.message,t,i,s,u),y.name=l.name,p&&Object.assign(y,p),y};var A1=t1,OR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bf=ra;function uX(l,t){t=t||new FormData;var i=[];function s(p){return p===null?"":bf.isDate(p)?p.toISOString():bf.isArrayBuffer(p)||bf.isTypedArray(p)?typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,y){if(bf.isPlainObject(p)||bf.isArray(p)){if(i.indexOf(p)!==-1)throw Error("Circular reference detected in "+y);i.push(p),bf.forEach(p,function(E,_){if(!bf.isUndefined(E)){var k=y?y+"."+_:_,R;if(E&&!y&&typeof E=="object"){if(bf.endsWith(_,"{}"))E=JSON.stringify(E);else if(bf.endsWith(_,"[]")&&(R=bf.toArray(E))){R.forEach(function(P){!bf.isUndefined(P)&&t.append(k,s(P))});return}}u(E,k)}}),i.pop()}else t.append(y,s(p))}return u(l),t}var HR=uX,N3=A1,cX=function(t,i,s){var u=s.config.validateStatus;!s.status||!u||u(s.status)?t(s):i(new N3("Request failed with status code "+s.status,[N3.ERR_BAD_REQUEST,N3.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))},iv=ra,hX=iv.isStandardBrowserEnv()?function(){return{write:function(i,s,u,p,y,A){var E=[];E.push(i+"="+encodeURIComponent(s)),iv.isNumber(u)&&E.push("expires="+new Date(u).toGMTString()),iv.isString(p)&&E.push("path="+p),iv.isString(y)&&E.push("domain="+y),A===!0&&E.push("secure"),document.cookie=E.join("; ")},read:function(i){var s=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),dX=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},pX=function(t,i){return i?t.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):t},mX=dX,gX=pX,UR=function(t,i){return t&&!mX(i)?gX(t,i):i},F3=ra,bX=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],yX=function(t){var i={},s,u,p;return t&&F3.forEach(t.split(`
`),function(A){if(p=A.indexOf(":"),s=F3.trim(A.substr(0,p)).toLowerCase(),u=F3.trim(A.substr(p+1)),s){if(i[s]&&bX.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([u]):i[s]=i[s]?i[s]+", "+u:u}}),i},cT=ra,AX=cT.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),s;function u(p){var y=p;return t&&(i.setAttribute("href",y),y=i.href),i.setAttribute("href",y),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return s=u(window.location.href),function(y){var A=cT.isString(y)?u(y):y;return A.protocol===s.protocol&&A.host===s.host}}():function(){return function(){return!0}}(),hE=A1,vX=ra;function VR(l){hE.call(this,l==null?"canceled":l,hE.ERR_CANCELED),this.name="CanceledError"}vX.inherits(VR,hE,{__CANCEL__:!0});var W4=VR,wX=function(t){var i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return i&&i[1]||""},Gm=ra,xX=cX,EX=hX,_X=PR,kX=UR,CX=yX,SX=AX,TX=OR,Yu=A1,MX=W4,RX=wX,hT=function(t){return new Promise(function(s,u){var p=t.data,y=t.headers,A=t.responseType,E;function _(){t.cancelToken&&t.cancelToken.unsubscribe(E),t.signal&&t.signal.removeEventListener("abort",E)}Gm.isFormData(p)&&Gm.isStandardBrowserEnv()&&delete y["Content-Type"];var k=new XMLHttpRequest;if(t.auth){var R=t.auth.username||"",P=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";y.Authorization="Basic "+btoa(R+":"+P)}var B=kX(t.baseURL,t.url);k.open(t.method.toUpperCase(),_X(B,t.params,t.paramsSerializer),!0),k.timeout=t.timeout;function O(){if(!!k){var Y="getAllResponseHeaders"in k?CX(k.getAllResponseHeaders()):null,ee=!A||A==="text"||A==="json"?k.responseText:k.response,ue={data:ee,status:k.status,statusText:k.statusText,headers:Y,config:t,request:k};xX(function(Ae){s(Ae),_()},function(Ae){u(Ae),_()},ue),k=null}}if("onloadend"in k?k.onloadend=O:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(O)},k.onabort=function(){!k||(u(new Yu("Request aborted",Yu.ECONNABORTED,t,k)),k=null)},k.onerror=function(){u(new Yu("Network Error",Yu.ERR_NETWORK,t,k,k)),k=null},k.ontimeout=function(){var ee=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",ue=t.transitional||TX;t.timeoutErrorMessage&&(ee=t.timeoutErrorMessage),u(new Yu(ee,ue.clarifyTimeoutError?Yu.ETIMEDOUT:Yu.ECONNABORTED,t,k)),k=null},Gm.isStandardBrowserEnv()){var H=(t.withCredentials||SX(B))&&t.xsrfCookieName?EX.read(t.xsrfCookieName):void 0;H&&(y[t.xsrfHeaderName]=H)}"setRequestHeader"in k&&Gm.forEach(y,function(ee,ue){typeof p=="undefined"&&ue.toLowerCase()==="content-type"?delete y[ue]:k.setRequestHeader(ue,ee)}),Gm.isUndefined(t.withCredentials)||(k.withCredentials=!!t.withCredentials),A&&A!=="json"&&(k.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&k.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&k.upload&&k.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(E=function(Y){!k||(u(!Y||Y&&Y.type?new MX:Y),k.abort(),k=null)},t.cancelToken&&t.cancelToken.subscribe(E),t.signal&&(t.signal.aborted?E():t.signal.addEventListener("abort",E))),p||(p=null);var z=RX(B);if(z&&["http","https","file"].indexOf(z)===-1){u(new Yu("Unsupported protocol "+z+":",Yu.ERR_BAD_REQUEST,t));return}k.send(p)})},BX=null,jo=ra,dT=fX,pT=A1,IX=OR,DX=HR,PX={"Content-Type":"application/x-www-form-urlencoded"};function mT(l,t){!jo.isUndefined(l)&&jo.isUndefined(l["Content-Type"])&&(l["Content-Type"]=t)}function LX(){var l;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(l=hT),l}function NX(l,t,i){if(jo.isString(l))try{return(t||JSON.parse)(l),jo.trim(l)}catch(s){if(s.name!=="SyntaxError")throw s}return(i||JSON.stringify)(l)}var Q4={transitional:IX,adapter:LX(),transformRequest:[function(t,i){if(dT(i,"Accept"),dT(i,"Content-Type"),jo.isFormData(t)||jo.isArrayBuffer(t)||jo.isBuffer(t)||jo.isStream(t)||jo.isFile(t)||jo.isBlob(t))return t;if(jo.isArrayBufferView(t))return t.buffer;if(jo.isURLSearchParams(t))return mT(i,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var s=jo.isObject(t),u=i&&i["Content-Type"],p;if((p=jo.isFileList(t))||s&&u==="multipart/form-data"){var y=this.env&&this.env.FormData;return DX(p?{"files[]":t}:t,y&&new y)}else if(s||u==="application/json")return mT(i,"application/json"),NX(t);return t}],transformResponse:[function(t){var i=this.transitional||Q4.transitional,s=i&&i.silentJSONParsing,u=i&&i.forcedJSONParsing,p=!s&&this.responseType==="json";if(p||u&&jo.isString(t)&&t.length)try{return JSON.parse(t)}catch(y){if(p)throw y.name==="SyntaxError"?pT.from(y,pT.ERR_BAD_RESPONSE,this,null,this.response):y}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:BX},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};jo.forEach(["delete","get","head"],function(t){Q4.headers[t]={}});jo.forEach(["post","put","patch"],function(t){Q4.headers[t]=jo.merge(PX)});var H8=Q4,FX=ra,OX=H8,HX=function(t,i,s){var u=this||OX;return FX.forEach(s,function(y){t=y.call(u,t,i)}),t},jR=function(t){return!!(t&&t.__CANCEL__)},gT=ra,O3=HX,UX=jR,VX=H8,jX=W4;function H3(l){if(l.cancelToken&&l.cancelToken.throwIfRequested(),l.signal&&l.signal.aborted)throw new jX}var GX=function(t){H3(t),t.headers=t.headers||{},t.data=O3.call(t,t.data,t.headers,t.transformRequest),t.headers=gT.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),gT.forEach(["delete","get","head","post","put","patch","common"],function(u){delete t.headers[u]});var i=t.adapter||VX.adapter;return i(t).then(function(u){return H3(t),u.data=O3.call(t,u.data,u.headers,t.transformResponse),u},function(u){return UX(u)||(H3(t),u&&u.response&&(u.response.data=O3.call(t,u.response.data,u.response.headers,t.transformResponse))),Promise.reject(u)})},bl=ra,GR=function(t,i){i=i||{};var s={};function u(k,R){return bl.isPlainObject(k)&&bl.isPlainObject(R)?bl.merge(k,R):bl.isPlainObject(R)?bl.merge({},R):bl.isArray(R)?R.slice():R}function p(k){if(bl.isUndefined(i[k])){if(!bl.isUndefined(t[k]))return u(void 0,t[k])}else return u(t[k],i[k])}function y(k){if(!bl.isUndefined(i[k]))return u(void 0,i[k])}function A(k){if(bl.isUndefined(i[k])){if(!bl.isUndefined(t[k]))return u(void 0,t[k])}else return u(void 0,i[k])}function E(k){if(k in i)return u(t[k],i[k]);if(k in t)return u(void 0,t[k])}var _={url:y,method:y,data:y,baseURL:A,transformRequest:A,transformResponse:A,paramsSerializer:A,timeout:A,timeoutMessage:A,withCredentials:A,adapter:A,responseType:A,xsrfCookieName:A,xsrfHeaderName:A,onUploadProgress:A,onDownloadProgress:A,decompress:A,maxContentLength:A,maxBodyLength:A,beforeRedirect:A,transport:A,httpAgent:A,httpsAgent:A,cancelToken:A,socketPath:A,responseEncoding:A,validateStatus:E};return bl.forEach(Object.keys(t).concat(Object.keys(i)),function(R){var P=_[R]||p,B=P(R);bl.isUndefined(B)&&P!==E||(s[R]=B)}),s},zR={version:"0.27.2"},zX=zR.version,fh=A1,U8={};["object","boolean","number","function","string","symbol"].forEach(function(l,t){U8[l]=function(s){return typeof s===l||"a"+(t<1?"n ":" ")+l}});var bT={};U8.transitional=function(t,i,s){function u(p,y){return"[Axios v"+zX+"] Transitional option '"+p+"'"+y+(s?". "+s:"")}return function(p,y,A){if(t===!1)throw new fh(u(y," has been removed"+(i?" in "+i:"")),fh.ERR_DEPRECATED);return i&&!bT[y]&&(bT[y]=!0,console.warn(u(y," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(p,y,A):!0}};function WX(l,t,i){if(typeof l!="object")throw new fh("options must be an object",fh.ERR_BAD_OPTION_VALUE);for(var s=Object.keys(l),u=s.length;u-- >0;){var p=s[u],y=t[p];if(y){var A=l[p],E=A===void 0||y(A,p,l);if(E!==!0)throw new fh("option "+p+" must be "+E,fh.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new fh("Unknown option "+p,fh.ERR_BAD_OPTION)}}var QX={assertOptions:WX,validators:U8},WR=ra,JX=PR,yT=aX,AT=GX,J4=GR,XX=UR,QR=QX,hp=QR.validators;function i1(l){this.defaults=l,this.interceptors={request:new yT,response:new yT}}i1.prototype.request=function(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=J4(this.defaults,i),i.method?i.method=i.method.toLowerCase():this.defaults.method?i.method=this.defaults.method.toLowerCase():i.method="get";var s=i.transitional;s!==void 0&&QR.assertOptions(s,{silentJSONParsing:hp.transitional(hp.boolean),forcedJSONParsing:hp.transitional(hp.boolean),clarifyTimeoutError:hp.transitional(hp.boolean)},!1);var u=[],p=!0;this.interceptors.request.forEach(function(B){typeof B.runWhen=="function"&&B.runWhen(i)===!1||(p=p&&B.synchronous,u.unshift(B.fulfilled,B.rejected))});var y=[];this.interceptors.response.forEach(function(B){y.push(B.fulfilled,B.rejected)});var A;if(!p){var E=[AT,void 0];for(Array.prototype.unshift.apply(E,u),E=E.concat(y),A=Promise.resolve(i);E.length;)A=A.then(E.shift(),E.shift());return A}for(var _=i;u.length;){var k=u.shift(),R=u.shift();try{_=k(_)}catch(P){R(P);break}}try{A=AT(_)}catch(P){return Promise.reject(P)}for(;y.length;)A=A.then(y.shift(),y.shift());return A};i1.prototype.getUri=function(t){t=J4(this.defaults,t);var i=XX(t.baseURL,t.url);return JX(i,t.params,t.paramsSerializer)};WR.forEach(["delete","get","head","options"],function(t){i1.prototype[t]=function(i,s){return this.request(J4(s||{},{method:t,url:i,data:(s||{}).data}))}});WR.forEach(["post","put","patch"],function(t){function i(s){return function(p,y,A){return this.request(J4(A||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:p,data:y}))}}i1.prototype[t]=i(),i1.prototype[t+"Form"]=i(!0)});var qX=i1,ZX=W4;function r1(l){if(typeof l!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(u){t=u});var i=this;this.promise.then(function(s){if(!!i._listeners){var u,p=i._listeners.length;for(u=0;u<p;u++)i._listeners[u](s);i._listeners=null}}),this.promise.then=function(s){var u,p=new Promise(function(y){i.subscribe(y),u=y}).then(s);return p.cancel=function(){i.unsubscribe(u)},p},l(function(u){i.reason||(i.reason=new ZX(u),t(i.reason))})}r1.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};r1.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};r1.prototype.unsubscribe=function(t){if(!!this._listeners){var i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}};r1.source=function(){var t,i=new r1(function(u){t=u});return{token:i,cancel:t}};var YX=r1,KX=function(t){return function(s){return t.apply(null,s)}},$X=ra,eq=function(t){return $X.isObject(t)&&t.isAxiosError===!0},vT=ra,tq=BR,Dv=qX,iq=GR,rq=H8;function JR(l){var t=new Dv(l),i=tq(Dv.prototype.request,t);return vT.extend(i,Dv.prototype,t),vT.extend(i,t),i.create=function(u){return JR(iq(l,u))},i}var Za=JR(rq);Za.Axios=Dv;Za.CanceledError=W4;Za.CancelToken=YX;Za.isCancel=jR;Za.VERSION=zR.version;Za.toFormData=HR;Za.AxiosError=A1;Za.Cancel=Za.CanceledError;Za.all=function(t){return Promise.all(t)};Za.spread=KX;Za.isAxiosError=eq;D8.exports=Za;D8.exports.default=Za;var Sl=D8.exports;function nq(l){const t=this;this.texturePath="",this.loadItemList=function(u){iT.getFilesFromItemList(u,function(p,y){t.loadFiles(p,y)})},this.loadFiles=function(u,p){if(u.length>0){p=p||iT.createFilesMap(u);const y=new o2;y.setURLModifier(function(A){A=A.replace(/^(\.?\/)/,"");const E=p[A];return E?(console.log("Loading",A),URL.createObjectURL(E)):A}),y.addHandler(/\.tga$/i,new _R);for(let A=0;A<u.length;A++)t.loadFile(u[A],y)}},this.loadFile=function(u,p,y,A=!1,E=null){const _=u.name;y=y||_.split(".").pop().toLowerCase(),console.log("loadFile",u,p,y,A,E);const k=new FileReader;switch(k.addEventListener("progress",function(R){const P="("+Math.floor(R.total/1e3).format()+" KB)",B=Math.floor(R.loaded/R.total*100)+"%";console.log("Loading",_,P,B)}),y){case"glb":{k.addEventListener("load",async function(R){const P=R.target.result,{DRACOLoader:B}=await Ko(()=>import("./DRACOLoader.043a3fb5.js"),[]),{GLTFLoader:O}=await Ko(()=>Promise.resolve().then(function(){return NT}),void 0),H=new B;H.setDecoderPath("../examples/js/libs/draco/gltf/");const z=new O;z.setDRACOLoader(H),z.parse(P,"",function(Y){const ee=Y.scene;if(ee.name=_,ee.animations.push(...Y.animations),A)l.executeSocket(new v0(l,ee,_));else{const ue=new FormData;ue.append("fields",new File([u],_)),Sl({method:"post",url:`https://play.grwth.hk/publishes/${window.assignmentSceneName}`,data:ue}).then(function(oe){console.log("%c Axios Post Success(GLTF to JSON)","color: black; background: #3ea086;",oe.data.files.fields.size),l.signals.publishClicked.dispatch("Uploaded",_)}).catch(function(oe){console.log(oe)}).finally(function(){l.execute(new v0(l,ee,_))})}})},!1),k.readAsArrayBuffer(u);break}case"gltf":{k.addEventListener("load",async function(R){const P=R.target.result;let B;if(s(P))alert("Import of glTF asset not possible. Only versions >= 2.0 are supported. Please try to upgrade the file to glTF 2.0 using glTF-Pipeline.");else{const{DRACOLoader:O}=await Ko(()=>import("./DRACOLoader.043a3fb5.js"),[]),{GLTFLoader:H}=await Ko(()=>Promise.resolve().then(function(){return NT}),void 0),z=new O;z.setDecoderPath("../examples/js/libs/draco/gltf/"),B=new H(p),B.setDRACOLoader(z)}B.parse(P,"",function(O){const H=O.scene;if(H.userData.type="Model",H.name=_,H.animations.push(...O.animations),A)l.executeSocket(new v0(l,H,_));else{const z=new FormData;z.append("fields",new File([u],_)),Sl({method:"post",url:`https://play.grwth.hk/publishes/${window.assignmentSceneName}`,data:z}).then(function(Y){console.log("%c Axios Post Success(GLTF to JSON)","color: black; background: #3ea086;",Y.data.files.fields.size),l.signals.publishClicked.dispatch("Uploaded",_)}).catch(function(Y){console.log(Y)}).finally(function(){l.execute(new v0(l,H,_))})}})},!1),k.readAsArrayBuffer(u);break}case"js":case"json":{k.addEventListener("load",function(R){const P=R.target.result;if(P.indexOf("postMessage")!==-1){const O=new Blob([P],{type:"text/javascript"}),H=URL.createObjectURL(O),z=new Worker(H);z.onmessage=function(Y){Y.data.metadata={version:2}},z.postMessage(Date.now());return}let B;try{B=JSON.parse(P)}catch(O){alert(O);return}i(B,_,A,E,u)},!1),k.readAsText(u);break}default:console.error("Unsupported file format ("+y+").");break}};function i(u,p,y=!1,A=null,E){switch(u.metadata===void 0&&(u.metadata={type:"Geometry"}),u.metadata.type===void 0&&(u.metadata.type="Geometry"),u.metadata.formatVersion!==void 0&&(u.metadata.version=u.metadata.formatVersion),u.metadata.type.toLowerCase()){case"object":{let _=`${A}.json`;const k=new Fh;k.setResourcePath(t.texturePath);let R;k.parse(u,function(P){if(console.log("loader.parse"),R=P,!y){const B=new Blob([E],{type:"application/json"},_),O=new FormData;O.append("fields",new File([B],_)),Sl({method:"post",url:`https://play.grwth.hk/publishes/${window.assignmentSceneName}`,data:O}).then(function(H){console.log("%c Axios Post Success(JSON)","color: black; background: #3ea086;",H.data.files.fields.size),l.signals.publishClicked.dispatch("Uploaded",_)}).catch(function(H){console.log(H)})}}),console.log(R),y?R.isScene?l.executeSocket(new oE(l,R,_)):l.executeSocket(new v0(l,R,_)):R.isScene?l.execute(new oE(l,R,_)):l.execute(new v0(l,R,_));break}case"app":l.fromJSON(u,p);break}}function s(u){let p;if(typeof u=="string")p=u;else{if(Cl.decodeText(new Uint8Array(u,0,4))==="glTF")return new DataView(u).getUint32(4,!0)<2;p=Cl.decodeText(new Uint8Array(u))}const y=JSON.parse(p);return y.asset!=null&&y.asset.version[0]<2}}class sq extends us{constructor(t,i,s){super(t),this.type="AddScriptCommand",this.name="Add Script",this.object=i,this.script=s,this.params=[s]}execute(){this.editor.scripts[this.object.uuid]===void 0&&(this.editor.scripts[this.object.uuid]=[]),this.editor.scripts[this.object.uuid].push(this.script),this.editor.signals.scriptAdded.dispatch(this.script)}undo(){if(this.editor.scripts[this.object.uuid]===void 0)return;const t=this.editor.scripts[this.object.uuid].indexOf(this.script);t!==-1&&this.editor.scripts[this.object.uuid].splice(t,1),this.editor.signals.scriptRemoved.dispatch(this.script)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.script=this.script,t}fromJSON(t){super.fromJSON(t),this.script=t.script,this.object=this.editor.objectByUuid(t.objectUuid)}}class Ig extends us{constructor(t,i,s,u,p){super(t),this.type="MoveObjectCommand",this.name="Move Object",this.object=i,this.moveAction=p,this.oldParent=i!==void 0?i.parent:void 0,this.oldIndex=this.oldParent!==void 0?this.oldParent.children.indexOf(this.object):void 0,this.newParent=s,u!==void 0?this.newIndex=s!==void 0?s.children.indexOf(u):void 0:this.newIndex=s!==void 0?s.children.length:void 0,this.oldParent===this.newParent&&this.newIndex>this.oldIndex&&this.newIndex--,this.newBefore=u,this.params=[s,u,p]}execute(){if(this.object.type==="Mesh"&&this.newParent.type==="Group"&&this.moveAction==="Grouping"){this.newParent.attach(this.object);return}this.oldParent.remove(this.object),this.newParent.children.splice(this.newIndex,0,this.object),this.object.parent=this.newParent,this.object.dispatchEvent({type:"added"}),this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.newParent.remove(this.object),this.oldParent.children.splice(this.oldIndex,0,this.object),this.object.parent=this.oldParent,this.object.dispatchEvent({type:"added"}),this.editor.signals.sceneGraphChanged.dispatch()}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.newParentUuid=this.newParent.uuid,t.oldParentUuid=this.oldParent.uuid,t.newIndex=this.newIndex,t.oldIndex=this.oldIndex,t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldParent=this.editor.objectByUuid(t.oldParentUuid),this.oldParent===void 0&&(this.oldParent=this.editor.scene),this.newParent=this.editor.objectByUuid(t.newParentUuid),this.newParent===void 0&&(this.newParent=this.editor.scene),this.newIndex=t.newIndex,this.oldIndex=t.oldIndex}}class oq extends us{constructor(t,i){super(t),this.type="MultiCmdsCommand",this.name="Multiple Changes",this.cmdArray=i!==void 0?i:[],this.params=[i]}execute(){this.editor.signals.sceneGraphChanged.active=!1;for(let t=0;t<this.cmdArray.length;t++)this.cmdArray[t].execute();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.editor.signals.sceneGraphChanged.active=!1;for(let t=this.cmdArray.length-1;t>=0;t--)this.cmdArray[t].undo();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.sceneGraphChanged.dispatch()}toJSON(){const t=super.toJSON(this),i=[];for(let s=0;s<this.cmdArray.length;s++)i.push(this.cmdArray[s].toJSON());return t.cmds=i,t}fromJSON(t){super.fromJSON(t);const i=t.cmds;for(let s=0;s<i.length;s++){const u=new window[i[s].type];u.fromJSON(i[s]),this.cmdArray.push(u)}}}class tb extends us{constructor(t,i){super(t),this.type="RemoveObjectCommand",this.name="Remove Object",this.object=i,this.parent=i!==void 0?i.parent:void 0,this.parent!==void 0&&(this.index=this.parent.children.indexOf(this.object)),this.params=[i]}execute(){var t;((t=this.object.userData)==null?void 0:t.type)&&["Exit","Entrance"].includes(this.object.userData.type)||(this.editor.removeObject(this.object),this.editor.deselect())}undo(){this.editor.addObject(this.object,this.parent,this.index),this.editor.select(this.object)}toJSON(){const t=super.toJSON(this);return t.object=this.object.toJSON(),t.index=this.index,t.parentUuid=this.parent.uuid,t}fromJSON(t){if(super.fromJSON(t),this.parent=this.editor.objectByUuid(t.parentUuid),this.parent===void 0&&(this.parent=this.editor.scene),this.index=t.index,this.object=this.editor.objectByUuid(t.object.object.uuid),this.object===void 0){const i=new Fh;this.object=i.parse(t.object)}}}class aq extends us{constructor(t,i,s){super(t),this.type="RemoveScriptCommand",this.name="Remove Script",this.object=i,this.script=s,this.object&&this.script&&(this.index=this.editor.scripts[this.object.uuid].indexOf(this.script)),this.params=[s]}execute(){this.editor.scripts[this.object.uuid]!==void 0&&(this.index!==-1&&this.editor.scripts[this.object.uuid].splice(this.index,1),this.editor.signals.scriptRemoved.dispatch(this.script))}undo(){this.editor.scripts[this.object.uuid]===void 0&&(this.editor.scripts[this.object.uuid]=[]),this.editor.scripts[this.object.uuid].splice(this.index,0,this.script),this.editor.signals.scriptAdded.dispatch(this.script)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.script=this.script,t.index=this.index,t}fromJSON(t){super.fromJSON(t),this.script=t.script,this.index=t.index,this.object=this.editor.objectByUuid(t.objectUuid)}}class XR extends us{constructor(t,i,s){var u,p;super(t),this.type="SetAudioOptionCommand",this.name=`Set audio option to ${s}`,this.object=i,this.oldOption=(u=t.getObjectAudio(i))!=null&&u.option?(p=t.getObjectAudio(i))==null?void 0:p.option:"none",this.newOption=s,this.params=[s]}execute(){this.editor.setObjectAudio(this.object,{option:this.newOption}),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.editor.setObjectAudio(this.object,{option:this.oldOption}),this.editor.signals.objectChanged.dispatch(this.object)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.oldOption=this.oldOption.toJSON(),t.newOption=this.newOption.toJSON(),t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldOption=t.oldOption,this.newOption=t.newOption}}class qR extends us{constructor(t,i,s){var y,A;super(t);const{base64:u,sourceFile:p}=s;this.type="SetAudioValueCommand",this.name="Set audio value",this.object=i,this.oldValue=(y=t.getObjectAudio(i))!=null&&y.value?(A=t.getObjectAudio(i))==null?void 0:A.value:"none",this.newValue={base64:u,sourceFile:p},this.params=[s]}execute(){this.editor.setObjectAudio(this.object,{value:this.newValue}),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.editor.setObjectAudio(this.object,{value:this.oldValue}),this.editor.signals.objectChanged.dispatch(this.object)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.oldValue=this.oldValue.toJSON(),t.newValue=this.newValue.toJSON(),t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldValue=t.oldValue,this.newValue=t.newValue}}class dE extends us{constructor(t,i,s,u){super(t),this.type="SetColorCommand",this.name=`Set ${s}`,this.updatable=!0,this.object=i,this.attributeName=s,this.oldValue=i!==void 0?this.object[this.attributeName].getHex():void 0,this.newValue=u,this.params=[s,u]}execute(){this.object[this.attributeName].setHex(this.newValue),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.object[this.attributeName].setHex(this.oldValue),this.editor.signals.objectChanged.dispatch(this.object)}update(t){this.newValue=t.newValue}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.attributeName=this.attributeName,t.oldValue=this.oldValue,t.newValue=this.newValue,t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.attributeName=t.attributeName,this.oldValue=t.oldValue,this.newValue=t.newValue}}class lq extends us{constructor(t,i,s){super(t),this.type="SetGeometryCommand",this.name="Set Geometry",this.updatable=!0,this.object=i,this.oldGeometry=i!==void 0?i.geometry:void 0,this.newGeometry=s,this.params=[s]}execute(){this.object.geometry.dispose(),this.object.geometry=this.newGeometry,this.object.geometry.computeBoundingSphere(),this.editor.signals.geometryChanged.dispatch(this.object),this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.object.geometry.dispose(),this.object.geometry=this.oldGeometry,this.object.geometry.computeBoundingSphere(),this.editor.signals.geometryChanged.dispatch(this.object),this.editor.signals.sceneGraphChanged.dispatch()}update(t){this.newGeometry=t.newGeometry}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.oldGeometry=this.object.geometry.toJSON(),t.newGeometry=this.newGeometry.toJSON(),t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldGeometry=i(t.oldGeometry),this.newGeometry=i(t.newGeometry);function i(s){return new Fh().parseGeometries([s])[s.uuid]}}}class fq extends us{constructor(t,i,s,u){super(t),this.type="SetGeometryValueCommand",this.name=`Set Geometry.${s}`,this.object=i,this.attributeName=s,this.oldValue=i!==void 0?i.geometry[s]:void 0,this.newValue=u,this.params=[s,u]}execute(){this.object.geometry[this.attributeName]=this.newValue,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.geometryChanged.dispatch(),this.editor.signals.sceneGraphChanged.dispatch()}undo(){this.object.geometry[this.attributeName]=this.oldValue,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.geometryChanged.dispatch(),this.editor.signals.sceneGraphChanged.dispatch()}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.attributeName=this.attributeName,t.oldValue=this.oldValue,t.newValue=this.newValue,t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.attributeName=t.attributeName,this.oldValue=t.oldValue,this.newValue=t.newValue}}class ZR extends us{constructor(t,i,s,u,p){super(t),this.type="SetMaterialColorCommand",this.name=`Set Material.${s}`,this.updatable=!0,this.object=i,this.material=this.object!==void 0?this.editor.getObjectMaterial(i,p):void 0,this.oldValue=this.material!==void 0?this.material[s].getHex():void 0,this.newValue=u,this.attributeName=s,this.params=[s,u,p]}execute(){this.material[this.attributeName].setHex(this.newValue),this.editor.signals.materialChanged.dispatch(this.material)}undo(){this.material[this.attributeName].setHex(this.oldValue),this.editor.signals.materialChanged.dispatch(this.material)}update(t){this.newValue=t.newValue}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.attributeName=this.attributeName,t.oldValue=this.oldValue,t.newValue=this.newValue,t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.attributeName=t.attributeName,this.oldValue=t.oldValue,this.newValue=t.newValue}}class YR extends us{constructor(t,i,s,u){super(t),this.type="SetMaterialCommand",this.name="New Material",this.object=i,this.materialSlot=u,this.oldMaterial=this.editor.getObjectMaterial(i,u),this.newMaterial=s,this.params=[s,u]}execute(){this.editor.setObjectMaterial(this.object,this.materialSlot,this.newMaterial),this.editor.signals.materialChanged.dispatch(this.newMaterial)}undo(){this.editor.setObjectMaterial(this.object,this.materialSlot,this.oldMaterial),this.editor.signals.materialChanged.dispatch(this.oldMaterial)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.oldMaterial=this.oldMaterial.toJSON(),t.newMaterial=this.newMaterial.toJSON(),t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldMaterial=i(t.oldMaterial),this.newMaterial=i(t.newMaterial);function i(s){const u=new Fh,p=u.parseImages(s.images),y=u.parseTextures(s.textures,p);return u.parseMaterials([s],y)[s.uuid]}}}class KR extends us{constructor(t,i,s,u,p){super(t),this.type="SetMaterialMapCommand",this.name=`Set Material.${s}`,this.object=i,this.material=this.editor.getObjectMaterial(i,p),this.oldMap=i!==void 0?this.material[s]:void 0,this.newMap=u,this.mapName=s,this.params=[s,u,p]}execute(){this.oldMap!==null&&this.oldMap!==void 0&&this.oldMap.dispose(),this.material[this.mapName]=this.newMap,this.material.needsUpdate=!0,this.editor.signals.materialChanged.dispatch(this.material)}undo(){this.material[this.mapName]=this.oldMap,this.material.needsUpdate=!0,this.editor.signals.materialChanged.dispatch(this.material)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.mapName=this.mapName,t.newMap=i(this.newMap),t.oldMap=i(this.oldMap),t;function i(u){if(u==null)return null;const p={geometries:{},materials:{},textures:{},images:{}},y=u.toJSON(p),A=s(p.images);return A.length>0&&(y.images=A),y.sourceFile=u.sourceFile,y}function s(u){const p=[];for(const y in u){const A=u[y];delete A.metadata,p.push(A)}return p}}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.mapName=t.mapName,this.oldMap=i(t.oldMap),this.newMap=i(t.newMap);function i(s){let u=null;if(s!==null){const p=new Fh,y=p.parseImages(s.images);u=p.parseTextures([s],y)[s.uuid],u.sourceFile=s.sourceFile}return u}}}class Ja extends us{constructor(t,i,s,u,p){super(t),this.type="SetMaterialValueCommand",this.name=`Set Material.${s}`,this.updatable=!0,this.object=i,this.material=this.editor.getObjectMaterial(i,p),this.oldValue=this.material!==void 0?this.material[s]:void 0,this.newValue=u,this.attributeName=s,this.params=[s,u,p]}execute(){this.material[this.attributeName]=this.newValue,this.material.needsUpdate=!0,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.materialChanged.dispatch(this.material)}undo(){this.material[this.attributeName]=this.oldValue,this.material.needsUpdate=!0,this.editor.signals.objectChanged.dispatch(this.object),this.editor.signals.materialChanged.dispatch(this.material)}update(t){this.newValue=t.newValue}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.attributeName=this.attributeName,t.oldValue=this.oldValue,t.newValue=this.newValue,t}fromJSON(t){super.fromJSON(t),this.attributeName=t.attributeName,this.oldValue=t.oldValue,this.newValue=t.newValue,this.object=this.editor.objectByUuid(t.objectUuid)}}class $R extends us{constructor(t,i,s,u,p){super(t),this.type="SetMaterialVectorCommand",this.name=`Set Material.${s}`,this.updatable=!0,this.object=i,this.material=this.editor.getObjectMaterial(i,p),this.oldValue=this.material!==void 0?this.material[s].toArray():void 0,this.newValue=u,this.attributeName=s,this.params=[s,u,p]}execute(){this.material[this.attributeName].fromArray(this.newValue),this.editor.signals.materialChanged.dispatch(this.material)}undo(){this.material[this.attributeName].fromArray(this.oldValue),this.editor.signals.materialChanged.dispatch(this.material)}update(t){this.newValue=t.newValue}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.attributeName=this.attributeName,t.oldValue=this.oldValue,t.newValue=this.newValue,t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.attributeName=t.attributeName,this.oldValue=t.oldValue,this.newValue=t.newValue}}class eB extends us{constructor(t,i,s){var u,p;super(t),this.type="SetOnClickOptionCommand",this.name=`Set audio option to ${s}`,this.object=i,this.oldOption=(u=t.getObjectOnClick(i))!=null&&u.option?(p=t.getObjectOnClick(i))==null?void 0:p.option:"none",this.newOption=s,this.params=[s]}execute(){this.editor.setObjectOnClick(this.object,{option:this.newOption}),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.editor.setObjectOnClick(this.object,{option:this.oldOption}),this.editor.signals.objectChanged.dispatch(this.object)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.oldOption=this.oldOption.toJSON(),t.newOption=this.newOption.toJSON(),t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldOption=t.oldOption,this.newOption=t.newOption}}class uq extends us{constructor(t,i,s){var y,A;super(t);const{base64:u,sourceFile:p}=s;this.type="SetOnClickValueCommand",this.name="Set audio value",this.object=i,this.oldValue=(y=t.getObjectAudio(i))!=null&&y.value?(A=t.getObjectAudio(i))==null?void 0:A.value:"none",this.newValue={base64:u,sourceFile:p},this.params=[s]}execute(){this.editor.setObjectAudio(this.object,{value:this.newValue}),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.editor.setObjectAudio(this.object,{value:this.oldValue}),this.editor.signals.objectChanged.dispatch(this.object)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.oldValue=this.oldValue.toJSON(),t.newValue=this.newValue.toJSON(),t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldValue=t.oldValue,this.newValue=t.newValue}}class n1 extends us{constructor(t,i,s,u){super(t),this.type="SetPositionCommand",this.name="Set Position",this.updatable=!0,this.object=i,i!==void 0&&s!==void 0&&(this.oldPosition=i.position.clone(),this.newPosition=s.clone()),u!==void 0&&(this.oldPosition=new wt(u.x,u.y,u.z)),this.params=[s,u]}execute(){this.object.position.copy(this.newPosition),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.object.position.copy(this.oldPosition),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}update(t){this.newPosition.copy(t.newPosition)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.oldPosition=this.oldPosition.toArray(),t.newPosition=this.newPosition.toArray(),t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldPosition=new wt().fromArray(t.oldPosition),this.newPosition=new wt().fromArray(t.newPosition)}}class tB extends us{constructor(t,i,s){var u,p;super(t),this.type="SetPresentationOptionCommand",this.name=`Set presentation option to ${s}`,this.object=i,this.oldOption=(u=t.getObjectPresentation(i))!=null&&u.option?(p=t.getObjectPresentation(i))==null?void 0:p.option:"none",this.newOption=s,this.params=[s]}execute(){this.editor.setObjectPresentation(this.object,{option:this.newOption}),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.editor.setObjectPresentation(this.object,{option:this.oldOption}),this.editor.signals.objectChanged.dispatch(this.object)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.oldOption=this.oldOption.toJSON(),t.newOption=this.newOption.toJSON(),t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldOption=t.oldOption,this.newOption=t.newOption}}class iB extends us{constructor(t,i,s){var y,A;super(t);const{base64:u,sourceFile:p}=s;this.type="SetPresentationValueCommand",this.name="Set presentation value",this.object=i,this.oldValue=(y=t.getObjectPresentation(i))!=null&&y.value?(A=t.getObjectPresentation(i))==null?void 0:A.value:"none",this.newValue={base64:u,sourceFile:p},this.params=[s]}execute(){this.editor.setObjectPresentation(this.object,{value:this.newValue}),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.editor.setObjectPresentation(this.object,{value:this.oldValue}),this.editor.signals.objectChanged.dispatch(this.object)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.oldValue=this.oldValue.toJSON(),t.newValue=this.newValue.toJSON(),t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldValue=t.oldValue,this.newValue=t.newValue}}class V8 extends us{constructor(t,i,s,u,p){super(t),this.type="SetRotationCommand",this.name="Set Rotation",this.updatable=!0,this.object=i,i!==void 0&&s!==void 0&&(this.oldRotation=i.rotation.clone(),p&&p==="socket"?this.newRotation=new ao(s._x,s._y,s._z):this.newRotation=s.clone()),u!=null&&(this.oldRotation=new ao(u.x,u.y,u.z)),this.params=[s,u]}execute(){this.object.rotation.copy(this.newRotation),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.object.rotation.copy(this.oldRotation),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}update(t){this.newRotation.copy(t.newRotation)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.oldRotation=this.oldRotation.toArray(),t.newRotation=this.newRotation.toArray(),t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldRotation=new ao().fromArray(t.oldRotation),this.newRotation=new ao().fromArray(t.newRotation)}}class j8 extends us{constructor(t,i,s,u){super(t),this.type="SetScaleCommand",this.name="Set Scale",this.updatable=!0,this.object=i,i!==void 0&&s!==void 0&&(console.log(i.scale),this.oldScale=i.scale.clone(),this.newScale=s.clone()),u!==void 0&&(this.oldScale=new wt(u.x,u.y,u.z)),this.params=[s,u]}execute(){this.object.scale.copy(this.newScale),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}undo(){this.object.scale.copy(this.oldScale),this.object.updateMatrixWorld(!0),this.editor.signals.objectChanged.dispatch(this.object)}update(t){this.newScale.copy(t.newScale)}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.oldScale=this.oldScale.toArray(),t.newScale=this.newScale.toArray(),t}fromJSON(t){super.fromJSON(t),this.object=this.editor.objectByUuid(t.objectUuid),this.oldScale=new wt().fromArray(t.oldScale),this.newScale=new wt().fromArray(t.newScale)}}class rB extends us{constructor(t,i,s,u,p){super(t),this.type="SetScriptValueCommand",this.name=`Set Script.${u}`,this.updatable=!0,this.object=i,this.script=s,this.attributeName=u,this.oldValue=s!==void 0?s[this.attributeName]:void 0,this.newValue=p,this.params=[s,u,p]}execute(){this.script[this.attributeName]=this.newValue,this.editor.signals.scriptChanged.dispatch()}undo(){this.script[this.attributeName]=this.oldValue,this.editor.signals.scriptChanged.dispatch()}update(t){this.newValue=t.newValue}toJSON(){const t=super.toJSON(this);return t.objectUuid=this.object.uuid,t.index=this.editor.scripts[this.object.uuid].indexOf(this.script),t.attributeName=this.attributeName,t.oldValue=this.oldValue,t.newValue=this.newValue,t}fromJSON(t){super.fromJSON(t),this.oldValue=t.oldValue,this.newValue=t.newValue,this.attributeName=t.attributeName,this.object=this.editor.objectByUuid(t.objectUuid),this.script=this.editor.scripts[t.objectUuid][t.index]}}var uh=Object.freeze(Object.defineProperty({__proto__:null,AddObjectCommand:v0,AddScriptCommand:sq,MoveObjectCommand:Ig,MultiCmdsCommand:oq,RemoveObjectCommand:tb,RemoveScriptCommand:aq,SetAudioOptionCommand:XR,SetAudioValueCommand:qR,SetColorCommand:dE,SetGeometryCommand:lq,SetGeometryValueCommand:fq,SetMaterialColorCommand:ZR,SetMaterialCommand:YR,SetMaterialMapCommand:KR,SetMaterialValueCommand:Ja,SetMaterialVectorCommand:$R,SetOnClickOptionCommand:eB,SetOnClickValueCommand:uq,SetPositionCommand:n1,SetPresentationOptionCommand:tB,SetPresentationValueCommand:iB,SetRotationCommand:V8,SetScaleCommand:j8,SetSceneCommand:oE,SetScriptValueCommand:rB,SetUuidCommand:M8,SetValueCommand:vs},Symbol.toStringTag,{value:"Module"}));function nB(l){this.editor=l,this.undos=[],this.redos=[],this.lastCmdTime=new Date,this.idCounter=0,this.historyDisabled=!1,this.config=l.config;const t=this;this.editor.signals.startPlayer.add(function(){t.historyDisabled=!0}),this.editor.signals.stopPlayer.add(function(){t.historyDisabled=!1})}nB.prototype={execute:function(l,t){const i=this.undos[this.undos.length-1],s=new Date().getTime()-this.lastCmdTime.getTime(),u=i&&i.updatable&&l.updatable&&i.object===l.object&&i.type===l.type&&i.script===l.script&&i.attributeName===l.attributeName;u&&l.type==="SetScriptValueCommand"||u&&s<500?(i.update(l),l=i):(this.undos.push(l),console.log(this.undos),l.id=++this.idCounter),l.name=t!==void 0?t:l.name,l.execute(),l.inMemory=!0,this.config.getKey("settings/history")&&(l.json=l.toJSON()),this.lastCmdTime=new Date,this.redos=[],this.editor.signals.historyChanged.dispatch(l)},undo:function(){if(this.historyDisabled){alert("Undo/Redo disabled while scene is playing.");return}let l;return this.undos.length>0&&(l=this.undos.pop(),l.inMemory===!1&&l.fromJSON(l.json)),l!==void 0&&(l.undo(),this.redos.push(l),this.editor.signals.historyChanged.dispatch(l)),l},redo:function(){if(this.historyDisabled){alert("Undo/Redo disabled while scene is playing.");return}let l;return this.redos.length>0&&(l=this.redos.pop(),l.inMemory===!1&&l.fromJSON(l.json)),l!==void 0&&(l.execute(),this.undos.push(l),this.editor.signals.historyChanged.dispatch(l)),l},toJSON:function(){const l={};if(l.undos=[],l.redos=[],!this.config.getKey("settings/history"))return l;for(let t=0;t<this.undos.length;t++)this.undos[t].hasOwnProperty("json")&&l.undos.push(this.undos[t].json);for(let t=0;t<this.redos.length;t++)this.redos[t].hasOwnProperty("json")&&l.redos.push(this.redos[t].json);return l},fromJSON:function(l){if(l!==void 0){for(let t=0;t<l.undos.length;t++){const i=l.undos[t],s=new uh[i.type](this.editor);s.json=i,s.id=i.id,s.name=i.name,this.undos.push(s),this.idCounter=i.id>this.idCounter?i.id:this.idCounter}for(let t=0;t<l.redos.length;t++){const i=l.redos[t],s=new uh[i.type](this.editor);s.json=i,s.id=i.id,s.name=i.name,this.redos.push(s),this.idCounter=i.id>this.idCounter?i.id:this.idCounter}this.editor.signals.historyChanged.dispatch(this.undos[this.undos.length-1])}},clear:function(){this.undos=[],this.redos=[],this.idCounter=0,this.editor.signals.historyChanged.dispatch()},goToState:function(l){if(this.historyDisabled){alert("Undo/Redo disabled while scene is playing.");return}this.editor.signals.sceneGraphChanged.active=!1,this.editor.signals.historyChanged.active=!1;let t=this.undos.length>0?this.undos[this.undos.length-1]:void 0;if(t===void 0||l>t.id)for(t=this.redo();t!==void 0&&l>t.id;)t=this.redo();else for(;t=this.undos[this.undos.length-1],!(t===void 0||l===t.id);)this.undo();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.historyChanged.active=!0,this.editor.signals.sceneGraphChanged.dispatch(),this.editor.signals.historyChanged.dispatch(t)},enableSerialization:function(l){this.goToState(-1),this.editor.signals.sceneGraphChanged.active=!1,this.editor.signals.historyChanged.active=!1;let t=this.redo();for(;t!==void 0;)t.hasOwnProperty("json")||(t.json=t.toJSON()),t=this.redo();this.editor.signals.sceneGraphChanged.active=!0,this.editor.signals.historyChanged.active=!0,this.goToState(l)}};function cq(l){const t=l.getKey("language"),i={en:{"menubar/file":"File","menubar/file/new":"New","menubar/file/import":"Import From:","menubar/file/import/computer":"My Computer","menubar/file/import/gdrive":"/Google Drive","menubar/file/import/meta":"/MetaMask","menubar/file/export/geometry":"Export Geometry","menubar/file/export/object":"Export Object","menubar/file/export/scene":"Export Scene","menubar/file/export/dae":"Export DAE","menubar/file/export/drc":"Export DRC","menubar/file/export/glb":"Export GLB","menubar/file/export/gltf":"Export GLTF","menubar/file/export/obj":"Export OBJ","menubar/file/export/ply":"Export PLY","menubar/file/export/ply_binary":"Export PLY (Binary)","menubar/file/export/stl":"Export STL","menubar/file/export/stl_binary":"Export STL (Binary)","menubar/file/export/usdz":"Export USDZ","menubar/file/publish":"Publish","menubar/file/export/pc":"Export zip","menubar/edit":"Edit","menubar/edit/undo":"Undo (Ctrl+Z)","menubar/edit/redo":"Redo (Ctrl+Shift+Z)","menubar/edit/clear_history":"Clear History","menubar/edit/center":"Center","menubar/edit/clone":"Clone","menubar/edit/copy":"Copy","menubar/edit/duplicate":"Duplicate","menubar/edit/delete":"Delete (Del)","menubar/edit/fixcolormaps":"Fix Color Maps","menubar/add":"Add","menubar/add/group":"Group","menubar/add/text":"Text","menubar/add/plane":"Plane","menubar/add/entrance":"Entrance","menubar/add/exit":"Exit","menubar/add/box":"Box","menubar/add/capsule":"Capsule","menubar/add/circle":"Circle","menubar/add/cylinder":"Cylinder","menubar/add/ring":"Ring","menubar/add/sphere":"Sphere","menubar/add/dodecahedron":"Dodecahedron","menubar/add/star":"Star","menubar/add/icosahedron":"Icosahedron","menubar/add/octahedron":"Octahedron","menubar/add/tetrahedron":"Tetrahedron","menubar/add/torus":"Torus","menubar/add/tube":"Tube","menubar/add/torusknot":"TorusKnot","menubar/add/lathe":"Lathe","menubar/add/sprite":"Sprite","menubar/add/pointlight":"PointLight","menubar/add/spotlight":"SpotLight","menubar/add/directionallight":"DirectionalLight","menubar/add/hemispherelight":"HemisphereLight","menubar/add/ambientlight":"AmbientLight","menubar/add/perspectivecamera":"PerspectiveCamera","menubar/add/orthographiccamera":"OrthographicCamera","addbar/option/cursor/undo":"Undo (Ctrl+Z)","addbar/option/cursor/redo":"Redo (Ctrl+Shift+Z)","addbar/option/cursor/clear_history":"Clear History","addbar/option/cursor/center":"Center","addbar/option/cursor/clone":"Clone","addbar/option/cursor/copy":"Copy","addbar/option/cursor/duplicate":"Duplicate","addbar/option/cursor/delete":"Delete (Del)","addbar/option/cursor/fixcolormaps":"Fix Color Maps","addbar/option/text/text":"Text","addbar/option/text/postit":"Post-it","addbar/option/object":"Add","addbar/option/object/plane":"Plane","addbar/option/object/portal":"Portal","addbar/option/object/presentation":"Presentation","addbar/option/object/box":"Box","addbar/option/object/sphere":"Sphere","addbar/option/object/pentagon":"Pentagon","addbar/option/object/hexagon":"Hexagon","addbar/option/object/pyramid":"Pyramid","addbar/option/object/cone":"Cone","addbar/option/object/torus":"Torus","addbar/option/object/star":"Star",PlaneGeometry:"addbar/option/object/plane",BoxGeometry:"addbar/option/object/box",SphereGeometry:"addbar/option/object/sphere",CylinderGeometry:"addbar/option/object/cylinder",ConeGeometry:"addbar/option/object/cone",TorusGeometry:"addbar/option/object/torus",ExtrudeGeometry:"addbar/option/object/star","addbar/option/object/group":"Group","addbar/option/object/capsule":"Capsule","addbar/option/object/circle":"Circle","addbar/option/object/cylinder":"Cylinder","addbar/option/object/ring":"Ring","addbar/option/object/dodecahedron":"Dodecahedron","addbar/option/object/icosahedron":"Icosahedron","addbar/option/object/octahedron":"Octahedron","addbar/option/object/tetrahedron":"Tetrahedron","addbar/option/object/tube":"Tube","addbar/option/object/torusknot":"TorusKnot","addbar/option/object/lathe":"Lathe","addbar/option/object/sprite":"Sprite","addbar/option/object/pointlight":"PointLight","addbar/option/object/spotlight":"SpotLight","addbar/option/object/directionallight":"DirectionalLight","addbar/option/object/hemispherelight":"HemisphereLight","addbar/option/object/ambientlight":"AmbientLight","addbar/option/object/perspectivecamera":"PerspectiveCamera","addbar/option/object/orthographiccamera":"OrthographicCamera","addbar/option/library":"Library","addbar/option/library/search":"Search","addbar/option/library/room":"Room","addbar/option/library/object":"Object","addbar/option/library/mylib":"My Library","addbar/option/library/favourites":"Favourites","addbar/option/file":"File","addbar/option/file/new":"New Room","addbar/option/file/save":"Save","addbar/option/file/import":"Import","addbar/option/file/importfrom":"Import From:","addbar/option/file/import/computer":"My Computer","addbar/option/file/import/gdrive":"/Google Drive","addbar/option/file/import/meta":"/MetaMask","addbar/option/file/export":"Export","addbar/option/file/export/geometry":"Export Geometry","addbar/option/file/export/object":"Export Object","addbar/option/file/export/scene":"Export Scene","addbar/option/file/export/dae":"Export DAE","addbar/option/file/export/drc":"Export DRC","addbar/option/file/export/glb":"Export GLB","addbar/option/file/export/gltf":"Export GLTF","addbar/option/file/export/obj":"Export OBJ","addbar/option/file/export/ply":"Export PLY","addbar/option/file/export/ply_binary":"Export PLY (Binary)","addbar/option/file/export/stl":"Export STL","addbar/option/file/export/stl_binary":"Export STL (Binary)","addbar/option/file/export/usdz":"Export USDZ","addbar/option/file/export/pc":"Export ZIP","addbar/option/file/publish":"Save","addbar/option/file/preview":"Preview My Room","addbar/option/file/play":"Play","addbar/option/setting/setting":"Setting","addbar/option/setting/help":"Help","addbar/option/setting/update":"Update","communicate/chat/top":"Chat Room","communicate/chat/hint":"*(All messages will be gone  when this window is closed.)","communicate/chat/send":"Send","menubar/status/autosave":"autosave","menubar/play":"Play","menubar/play/stop":"Stop","menubar/play/play":"Play","menubar/examples":"Examples","menubar/examples/Arkanoid":"Arkanoid","menubar/examples/Camera":"Camera","menubar/examples/Particles":"Particles","menubar/examples/Pong":"Pong","menubar/examples/Shaders":"Shaders","menubar/view":"View","menubar/view/fullscreen":"Fullscreen","menubar/help":"Help","menubar/help/source_code":"Source Code","menubar/help/icons":"Icon Pack","menubar/help/about":"About","menubar/help/manual":"Manual","sidebar/animations":"Animations","sidebar/animations/play":"Play","sidebar/animations/stop":"Stop","sidebar/animations/timescale":"Time Scale","sidebar/scene":"Scene","sidebar/room":"Layer","sidebar/scene/background":"Background","sidebar/scene/environment":"Environment","sidebar/scene/fog":"Fog","sidebar/properties/object":"Object","sidebar/properties/prop":"Prop","sidebar/properties/play":"Play","sidebar/properties/geometry":"Geometry","sidebar/properties/material":"Material","sidebar/properties/script":"Script","sidebar/object/title":"Object","sidebar/object/type":"Type","sidebar/object/new":"New","sidebar/object/uuid":"UUID","sidebar/object/name":"Name","sidebar/object/position":"Position","sidebar/object/rotation":"Rotation","sidebar/object/scale":"Scale","sidebar/object/fov":"Fov","sidebar/object/left":"Left","sidebar/object/right":"Right","sidebar/object/top":"Top","sidebar/object/bottom":"Bottom","sidebar/object/near":"Near","sidebar/object/far":"Far","sidebar/object/intensity":"Intensity","sidebar/object/color":"Color","sidebar/object/groundcolor":"Ground Color","sidebar/object/distance":"Distance","sidebar/object/angle":"Angle","sidebar/object/penumbra":"Penumbra","sidebar/object/decay":"Decay","sidebar/object/shadow":"Shadow","sidebar/object/shadowBias":"Shadow Bias","sidebar/object/shadowNormalBias":"Shadow Normal Bias","sidebar/object/shadowRadius":"Shadow Radius","sidebar/object/cast":"cast","sidebar/object/receive":"receive","sidebar/object/visible":"Visible","sidebar/object/frustumcull":"Frustum Cull","sidebar/object/renderorder":"Render Order","sidebar/object/userdata":"User data","sidebar/geometry/type":"Type","sidebar/geometry/new":"New","sidebar/geometry/uuid":"UUID","sidebar/geometry/name":"Name","sidebar/geometry/bounds":"Bounds","sidebar/geometry/show_vertex_normals":"Show Vertex Normals","sidebar/geometry/box_geometry/width":"Width","sidebar/geometry/box_geometry/height":"Height","sidebar/geometry/box_geometry/depth":"Depth","sidebar/geometry/box_geometry/widthseg":"Width Seg","sidebar/geometry/box_geometry/heightseg":"Height Seg","sidebar/geometry/box_geometry/depthseg":"Depth Seg","sidebar/geometry/buffer_geometry/attributes":"Attributes","sidebar/geometry/buffer_geometry/index":"index","sidebar/geometry/capsule_geometry/radius":"Radius","sidebar/geometry/capsule_geometry/length":"Length","sidebar/geometry/capsule_geometry/capseg":"Cap Seg","sidebar/geometry/capsule_geometry/radialseg":"Radial Seg","sidebar/geometry/circle_geometry/radius":"Radius","sidebar/geometry/circle_geometry/segments":"Segments","sidebar/geometry/circle_geometry/thetastart":"Theta start","sidebar/geometry/circle_geometry/thetalength":"Theta length","sidebar/geometry/cylinder_geometry/radiustop":"Radius top","sidebar/geometry/cylinder_geometry/radiusbottom":"Radius bottom","sidebar/geometry/cylinder_geometry/height":"Height","sidebar/geometry/cylinder_geometry/radialsegments":"Radial segments","sidebar/geometry/cylinder_geometry/heightsegments":"Height segments","sidebar/geometry/cylinder_geometry/openended":"Open ended","sidebar/geometry/extrude_geometry/curveSegments":"Curve Segments","sidebar/geometry/extrude_geometry/steps":"Steps","sidebar/geometry/extrude_geometry/depth":"Depth","sidebar/geometry/extrude_geometry/bevelEnabled":"Bevel?","sidebar/geometry/extrude_geometry/bevelThickness":"Thickness","sidebar/geometry/extrude_geometry/bevelSize":"Size","sidebar/geometry/extrude_geometry/bevelOffset":"Offset","sidebar/geometry/extrude_geometry/bevelSegments":"Segments","sidebar/geometry/extrude_geometry/shape":"Convert to Shape","sidebar/geometry/dodecahedron_geometry/radius":"Radius","sidebar/geometry/dodecahedron_geometry/detail":"Detail","sidebar/geometry/icosahedron_geometry/radius":"Radius","sidebar/geometry/icosahedron_geometry/detail":"Detail","sidebar/geometry/octahedron_geometry/radius":"Radius","sidebar/geometry/octahedron_geometry/detail":"Detail","sidebar/geometry/tetrahedron_geometry/radius":"Radius","sidebar/geometry/tetrahedron_geometry/detail":"Detail","sidebar/geometry/lathe_geometry/segments":"Segments","sidebar/geometry/lathe_geometry/phistart":"Phi start (\xB0)","sidebar/geometry/lathe_geometry/philength":"Phi length (\xB0)","sidebar/geometry/lathe_geometry/points":"Points","sidebar/geometry/plane_geometry/width":"Width","sidebar/geometry/plane_geometry/height":"Height","sidebar/geometry/plane_geometry/widthsegments":"Width segments","sidebar/geometry/plane_geometry/heightsegments":"Height segments","sidebar/geometry/ring_geometry/innerRadius":"Inner radius","sidebar/geometry/ring_geometry/outerRadius":"Outer radius","sidebar/geometry/ring_geometry/thetaSegments":"Theta segments","sidebar/geometry/ring_geometry/phiSegments":"Phi segments","sidebar/geometry/ring_geometry/thetastart":"Theta start","sidebar/geometry/ring_geometry/thetalength":"Theta length","sidebar/geometry/shape_geometry/curveSegments":"Curve Segments","sidebar/geometry/shape_geometry/extrude":"Extrude","sidebar/geometry/sphere_geometry/radius":"Radius","sidebar/geometry/sphere_geometry/widthsegments":"Width segments","sidebar/geometry/sphere_geometry/heightsegments":"Height segments","sidebar/geometry/sphere_geometry/phistart":"Phi start","sidebar/geometry/sphere_geometry/philength":"Phi length","sidebar/geometry/sphere_geometry/thetastart":"Theta start","sidebar/geometry/sphere_geometry/thetalength":"Theta length","sidebar/geometry/torus_geometry/radius":"Radius","sidebar/geometry/torus_geometry/tube":"Tube","sidebar/geometry/torus_geometry/radialsegments":"Radial segments","sidebar/geometry/torus_geometry/tubularsegments":"Tubular segments","sidebar/geometry/torus_geometry/arc":"Arc","sidebar/geometry/torusKnot_geometry/radius":"Radius","sidebar/geometry/torusKnot_geometry/tube":"Tube","sidebar/geometry/torusKnot_geometry/tubularsegments":"Tubular segments","sidebar/geometry/torusKnot_geometry/radialsegments":"Radial segments","sidebar/geometry/torusKnot_geometry/p":"P","sidebar/geometry/torusKnot_geometry/q":"Q","sidebar/geometry/tube_geometry/path":"Path","sidebar/geometry/tube_geometry/radius":"Radius","sidebar/geometry/tube_geometry/tube":"Tube","sidebar/geometry/tube_geometry/tubularsegments":"Tubular segments","sidebar/geometry/tube_geometry/radialsegments":"Radial segments","sidebar/geometry/tube_geometry/closed":"Closed","sidebar/geometry/tube_geometry/curvetype":"Curve Type","sidebar/geometry/tube_geometry/tension":"Tension","sidebar/play/text":"Text","sidebar/play/postit":"Post-It","sidebar/play/postitbg":"Background","sidebar/play/audio":"Audio","sidebar/play/audio/file":"Audio File","sidebar/play/audio/none":"None","sidebar/play/audio/onclick":"On click","sidebar/play/audio/range":"Range","sidebar/play/audio/upload":"Upload","sidebar/play/audio/uploaded":"Loaded","sidebar/play/onclick":"On click","sidebar/play/onclick/url":"Hyperlink","sidebar/play/presentation":"Presentation","sidebar/play/presentation/present":"Present","sidebar/play/presentation/file":"Present File","sidebar/play/presentation/upload":"Upload","sidebar/play/presentation/uploaded":"Loaded","sidebar/material/new":"New","sidebar/material/copy":"Copy","sidebar/material/paste":"Paste","sidebar/material/slot":"Slot","sidebar/material/type":"Type","sidebar/material/uuid":"UUID","sidebar/material/name":"Name","sidebar/material/program":"Program","sidebar/material/info":"Info","sidebar/material/vertex":"Vert","sidebar/material/fragment":"Frag","sidebar/material/color":"Color","sidebar/material/depthPacking":"Depth Packing","sidebar/material/roughness":"Roughness","sidebar/material/metalness":"Metalness","sidebar/material/reflectivity":"Reflectivity","sidebar/material/emissive":"Emissive","sidebar/material/specular":"Specular","sidebar/material/shininess":"Shininess","sidebar/material/clearcoat":"Clearcoat","sidebar/material/clearcoatroughness":"Clearcoat Roughness","sidebar/material/transmission":"Transmission","sidebar/material/attenuationDistance":"Attenuation Distance","sidebar/material/attenuationColor":"Attenuation Color","sidebar/material/thickness":"Thickness","sidebar/material/vertexcolors":"Vertex Colors","sidebar/material/matcap":"Matcap","sidebar/material/map":"Map","sidebar/material/texture":"Texture","sidebar/material/alphamap":"Alpha Map","sidebar/material/bumpmap":"Bump Map","sidebar/material/normalmap":"Normal Map","sidebar/material/clearcoatnormalmap":"Clearcoat Normal Map","sidebar/material/displacementmap":"Displace Map","sidebar/material/roughnessmap":"Rough. Map","sidebar/material/metalnessmap":"Metal. Map","sidebar/material/specularmap":"Specular Map","sidebar/material/envmap":"Env Map","sidebar/material/lightmap":"Light Map","sidebar/material/aomap":"AO Map","sidebar/material/emissivemap":"Emissive Map","sidebar/material/gradientmap":"Gradient Map","sidebar/material/side":"Side","sidebar/material/size":"Size","sidebar/material/sizeAttenuation":"Size Attenuation","sidebar/material/flatShading":"Flat Shading","sidebar/material/blending":"Blending","sidebar/material/opacity":"Opacity","sidebar/material/transparent":"Transparent","sidebar/material/alphatest":"Alpha Test","sidebar/material/depthtest":"Depth Test","sidebar/material/depthwrite":"Depth Write","sidebar/material/wireframe":"Wireframe","sidebar/material/userdata":"User data","sidebar/script":"Script","sidebar/script/new":"New","sidebar/script/edit":"Edit","sidebar/script/remove":"Remove","sidebar/project":"Background","sidebar/project/title":"Title","sidebar/project/editable":"Editable","sidebar/project/vr":"VR","sidebar/project/renderer":"Renderer","sidebar/project/antialias":"Antialias","sidebar/project/shadows":"Shadows","sidebar/project/physicallyCorrectLights":"Physical lights","sidebar/project/toneMapping":"Tone mapping","sidebar/project/materials":"Materials","sidebar/project/Assign":"Assign","sidebar/project/video":"Video","sidebar/project/resolution":"Resolution","sidebar/project/duration":"Duration","sidebar/project/render":"Render","sidebar/others":"Others","sidebar/settings/language":"Language","sidebar/settings/shortcuts":"Shortcuts","sidebar/settings/shortcuts/translate":"Translate","sidebar/settings/shortcuts/rotate":"Rotate","sidebar/settings/shortcuts/scale":"Scale","sidebar/settings/shortcuts/undo":"Undo","sidebar/settings/shortcuts/focus":"Focus","sidebar/settings/viewport":"Viewport","sidebar/settings/viewport/grid":"Grid","sidebar/settings/viewport/helpers":"Helpers","sidebar/history":"History","sidebar/history/persistent":"persistent","toolbar/translate":"Translate","toolbar/rotate":"Rotate","toolbar/scale":"Scale","toolbar/local":"Local","viewport/info/objects":"Objects","viewport/info/vertices":"Vertices","viewport/info/triangles":"Triangles","viewport/info/frametime":"Frametime"},fr:{"menubar/file":"Fichier","menubar/file/new":"Nouveau","menubar/file/import":"Importer","menubar/file/export/geometry":"Exporter Geometrie","menubar/file/export/object":"Exporter Objet","menubar/file/export/scene":"Exporter Scene","menubar/file/export/dae":"Exporter DAE","menubar/file/export/drc":"Exporter DRC","menubar/file/export/glb":"Exporter GLB","menubar/file/export/gltf":"Exporter GLTF","menubar/file/export/obj":"Exporter OBJ","menubar/file/export/ply":"Exporer PLY","menubar/file/export/ply_binary":"Exporter PLY (Binaire)","menubar/file/export/stl":"Exporter STL","menubar/file/export/stl_binary":"Exporter STL (Binaire)","menubar/file/export/usdz":"Exporter USDZ","menubar/file/publish":"Publier","menubar/edit":"Edition","menubar/edit/undo":"Annuler (Ctrl+Z)","menubar/edit/redo":"Refaire (Ctrl+Shift+Z)","menubar/edit/clear_history":"Supprimer Historique","menubar/edit/center":"Center","menubar/edit/clone":"Cloner","menubar/edit/delete":"Supprimer (Supp)","menubar/edit/fixcolormaps":"Correction des couleurs","menubar/add":"Ajouter","menubar/add/group":"Groupe","menubar/add/plane":"Plan","menubar/add/box":"Cube","menubar/add/capsule":"Capsule","menubar/add/circle":"Cercle","menubar/add/cylinder":"Cylindre","menubar/add/ring":"Bague","menubar/add/sphere":"Sph\xE8re","menubar/add/dodecahedron":"Dod\xE9ca\xE8dre","menubar/add/star":"Star","menubar/add/icosahedron":"Icosa\xE8dre","menubar/add/octahedron":"Octa\xE8dre","menubar/add/tetrahedron":"T\xE9tra\xE8dre","menubar/add/torus":"Torus","menubar/add/tube":"Tube","menubar/add/torusknot":"Noeud Torus","menubar/add/lathe":"Tour","menubar/add/sprite":"Sprite","menubar/add/pointlight":"Lumi\xE8re ponctuelle","menubar/add/spotlight":"Projecteur","menubar/add/directionallight":"Lumi\xE8re directionnelle","menubar/add/hemispherelight":"Lumi\xE8re h\xE9misph\xE9rique","menubar/add/ambientlight":"Lumi\xE8re ambiante","menubar/add/perspectivecamera":"Cam\xE9ra perspective","menubar/add/orthographiccamera":"Cam\xE9ra orthographique","menubar/status/autosave":"enregistrement automatique","menubar/play":"Jouer","menubar/play/stop":"Arr\xEAter","menubar/play/play":"Jouer","menubar/examples":"Exemples","menubar/examples/Arkanoid":"Arkanoid","menubar/examples/Camera":"Camera","menubar/examples/Particles":"Particles","menubar/examples/Pong":"Pong","menubar/examples/Shaders":"Shaders","menubar/view":"View","menubar/view/fullscreen":"Fullscreen","menubar/help":"Aide","menubar/help/source_code":"Code Source","menubar/help/icons":"Icon Pack","menubar/help/about":"A propos","menubar/help/manual":"Manual","sidebar/animations":"Animations","sidebar/animations/play":"Play","sidebar/animations/stop":"Stop","sidebar/animations/timescale":"Time Scale","sidebar/scene":"Sc\xE8ne","sidebar/scene/background":"Arri\xE8re Plan","sidebar/scene/environment":"Environment","sidebar/scene/fog":"Brouillard","sidebar/properties/object":"Objet","sidebar/properties/geometry":"G\xE9om\xE9trie","sidebar/properties/material":"Mat\xE9riaux","sidebar/properties/script":"Script","sidebar/object/title":"Object","sidebar/object/type":"Type","sidebar/object/new":"Nouveau","sidebar/object/uuid":"UUID","sidebar/object/name":"Nom","sidebar/object/position":"Position","sidebar/object/rotation":"Rotation","sidebar/object/scale":"\xC9chelle","sidebar/object/fov":"Champ de vision","sidebar/object/left":"Gauche","sidebar/object/right":"Droite","sidebar/object/top":"Haut","sidebar/object/bottom":"Bas","sidebar/object/near":"Pr\xE8s","sidebar/object/far":"Loin","sidebar/object/intensity":"Intensit\xE9","sidebar/object/color":"Couleur","sidebar/object/groundcolor":"Couleur de fond","sidebar/object/distance":"Distance","sidebar/object/angle":"Angle","sidebar/object/penumbra":"P\xE9nombre","sidebar/object/decay":"Affaiblissement","sidebar/object/shadow":"Ombre","sidebar/object/shadowBias":"Biais directionnel des ombres","sidebar/object/shadowNormalBias":"Shadow Normal Bias","sidebar/object/shadowRadius":"Rayon de l'ombre","sidebar/object/cast":"Proj\xE8te","sidebar/object/receive":"Re\xE7oit","sidebar/object/visible":"Visible","sidebar/object/frustumcull":"Culling","sidebar/object/renderorder":"Ordre de rendus","sidebar/object/userdata":"Donn\xE9es utilisateur","sidebar/geometry/type":"Type","sidebar/geometry/new":"Nouveau","sidebar/geometry/uuid":"UUID","sidebar/geometry/name":"Nom","sidebar/geometry/bounds":"Limites","sidebar/geometry/show_vertex_normals":"Afficher normales","sidebar/geometry/box_geometry/width":"Largeur","sidebar/geometry/box_geometry/height":"Hauteur","sidebar/geometry/box_geometry/depth":"Profondeur","sidebar/geometry/box_geometry/widthseg":"Segments en Largeur","sidebar/geometry/box_geometry/heightseg":"Segments en Hauteur","sidebar/geometry/box_geometry/depthseg":"Segments en Profondeur","sidebar/geometry/buffer_geometry/attributes":"Attributs","sidebar/geometry/buffer_geometry/index":"index","sidebar/geometry/capsule_geometry/radius":"Radius","sidebar/geometry/capsule_geometry/length":"Length","sidebar/geometry/capsule_geometry/capseg":"Cap Seg","sidebar/geometry/capsule_geometry/radialseg":"Radial Seg","sidebar/geometry/circle_geometry/radius":"Rayon","sidebar/geometry/circle_geometry/segments":"Segments","sidebar/geometry/circle_geometry/thetastart":"D\xE9but Th\xEAta (\xB0)","sidebar/geometry/circle_geometry/thetalength":"Longueur Th\xEAta (\xB0)","sidebar/geometry/cylinder_geometry/radiustop":"Rayon sup\xE9rieur","sidebar/geometry/cylinder_geometry/radiusbottom":"Rayon inf\xE9rieur","sidebar/geometry/cylinder_geometry/height":"Hauteur","sidebar/geometry/cylinder_geometry/radialsegments":"Segments radiaux","sidebar/geometry/cylinder_geometry/heightsegments":"Segments en hauteur","sidebar/geometry/cylinder_geometry/openended":"Extr\xE9mit\xE9s ouvertes","sidebar/geometry/extrude_geometry/curveSegments":"Segments de courbe","sidebar/geometry/extrude_geometry/steps":"Pas","sidebar/geometry/extrude_geometry/depth":"Profondeur","sidebar/geometry/extrude_geometry/bevelEnabled":"Biseau","sidebar/geometry/extrude_geometry/bevelThickness":"\xC9paisseur","sidebar/geometry/extrude_geometry/bevelSize":"Taille","sidebar/geometry/extrude_geometry/bevelOffset":"D\xE9calage","sidebar/geometry/extrude_geometry/bevelSegments":"Segments","sidebar/geometry/extrude_geometry/shape":"Convertir en forme","sidebar/geometry/dodecahedron_geometry/radius":"Rayon","sidebar/geometry/dodecahedron_geometry/detail":"D\xE9tail","sidebar/geometry/icosahedron_geometry/radius":"Rayon","sidebar/geometry/icosahedron_geometry/detail":"D\xE9tail","sidebar/geometry/octahedron_geometry/radius":"Rayon","sidebar/geometry/octahedron_geometry/detail":"D\xE9tail","sidebar/geometry/tetrahedron_geometry/radius":"Rayon","sidebar/geometry/tetrahedron_geometry/detail":"D\xE9tail","sidebar/geometry/lathe_geometry/segments":"Segments","sidebar/geometry/lathe_geometry/phistart":"D\xE9but Phi (\xB0)","sidebar/geometry/lathe_geometry/philength":"Longueur Phi (\xB0)","sidebar/geometry/lathe_geometry/points":"Points","sidebar/geometry/plane_geometry/width":"Largeur","sidebar/geometry/plane_geometry/height":"Hauteur","sidebar/geometry/plane_geometry/widthsegments":"Segments en Largeur","sidebar/geometry/plane_geometry/heightsegments":"Segments en Hauteur","sidebar/geometry/ring_geometry/innerRadius":"Rayon int\xE9rieur","sidebar/geometry/ring_geometry/outerRadius":"Rayon ext\xE9rieur","sidebar/geometry/ring_geometry/thetaSegments":"Segments Th\xEAta","sidebar/geometry/ring_geometry/phiSegments":"Phi segments","sidebar/geometry/ring_geometry/thetastart":"D\xE9but Th\xEAta","sidebar/geometry/ring_geometry/thetalength":"Longueur Th\xEAta","sidebar/geometry/shape_geometry/curveSegments":"Segments de courbe","sidebar/geometry/shape_geometry/extrude":"Extruder","sidebar/geometry/sphere_geometry/radius":"Rayon","sidebar/geometry/sphere_geometry/widthsegments":"Segments en Largeur","sidebar/geometry/sphere_geometry/heightsegments":"Segments en Hauteur","sidebar/geometry/sphere_geometry/phistart":"D\xE9but Phi (\xB0)","sidebar/geometry/sphere_geometry/philength":"Longueur Phi (\xB0)","sidebar/geometry/sphere_geometry/thetastart":"D\xE9but Th\xEAta","sidebar/geometry/sphere_geometry/thetalength":"Longueur Th\xEAta","sidebar/geometry/torus_geometry/radius":"Rayon","sidebar/geometry/torus_geometry/tube":"Tube","sidebar/geometry/torus_geometry/radialsegments":"Segments radiaux","sidebar/geometry/torus_geometry/tubularsegments":"Segments tubulaires","sidebar/geometry/torus_geometry/arc":"Arc","sidebar/geometry/torusKnot_geometry/radius":"Rayon","sidebar/geometry/torusKnot_geometry/tube":"Tube","sidebar/geometry/torusKnot_geometry/tubularsegments":"Segments tubulaires","sidebar/geometry/torusKnot_geometry/radialsegments":"Segments radiaux","sidebar/geometry/torusKnot_geometry/p":"P","sidebar/geometry/torusKnot_geometry/q":"Q","sidebar/geometry/tube_geometry/path":"Chemin","sidebar/geometry/tube_geometry/radius":"Rayon","sidebar/geometry/tube_geometry/tube":"Tube","sidebar/geometry/tube_geometry/tubularsegments":"Segments tubulaires","sidebar/geometry/tube_geometry/radialsegments":"Segments radiaux","sidebar/geometry/tube_geometry/closed":"Ferm\xE9","sidebar/geometry/tube_geometry/curvetype":"Type de courbe","sidebar/geometry/tube_geometry/tension":"Tension","sidebar/material/new":"Nouveau","sidebar/material/copy":"Copier","sidebar/material/paste":"Coller","sidebar/material/slot":"Slot","sidebar/material/type":"Type","sidebar/material/uuid":"UUID","sidebar/material/name":"Nom","sidebar/material/program":"Programme","sidebar/material/info":"Info","sidebar/material/vertex":"Sommet","sidebar/material/fragment":"Fragment","sidebar/material/color":"Couleur","sidebar/material/depthPacking":"Encodage profondeur de couleur","sidebar/material/roughness":"Rugosit\xE9","sidebar/material/metalness":"M\xE9tal","sidebar/material/reflectivity":"Reflectivity","sidebar/material/emissive":"\xC9missif","sidebar/material/specular":"Sp\xE9culaire","sidebar/material/shininess":"Brillance","sidebar/material/clearcoat":"Vernis","sidebar/material/clearcoatroughness":"Rugosit\xE9 du vernis","sidebar/material/transmission":"Transmission","sidebar/material/attenuationDistance":"Attenuation Distance","sidebar/material/attenuationColor":"Attenuation Color","sidebar/material/thickness":"Thickness","sidebar/material/vertexcolors":"Couleurs aux Sommets","sidebar/material/matcap":"Matcap","sidebar/material/map":"Texture","sidebar/material/alphamap":"Texture de transparence","sidebar/material/bumpmap":"Texture de relief","sidebar/material/normalmap":"Texture de normales","sidebar/material/clearcoatnormalmap":"Texture des normales du vernis","sidebar/material/displacementmap":"Texture de d\xE9placement","sidebar/material/roughnessmap":"Texture de rugosit\xE9","sidebar/material/metalnessmap":"Texture m\xE9tallique","sidebar/material/specularmap":"Texture sp\xE9culaire","sidebar/material/envmap":"Texture d'environnement","sidebar/material/lightmap":"Texture d'\xE9clairage","sidebar/material/aomap":"Texture d'occlusion ambiante","sidebar/material/emissivemap":"Texture d'\xE9mission","sidebar/material/gradientmap":"Texture de gradient","sidebar/material/side":"C\xF4t\xE9","sidebar/material/size":"Size","sidebar/material/sizeAttenuation":"Size Attenuation","sidebar/material/flatShading":"Flat Shading","sidebar/material/blending":"M\xE9lange","sidebar/material/opacity":"Opacit\xE9","sidebar/material/transparent":"Transparence","sidebar/material/alphatest":"Test de transparence","sidebar/material/depthtest":"Depth Test","sidebar/material/depthwrite":"Depth Write","sidebar/material/wireframe":"Fil de fer","sidebar/material/userdata":"Donn\xE9es utilisateur","sidebar/script":"Script","sidebar/script/new":"Nouveau","sidebar/script/edit":"Editer","sidebar/script/remove":"Supprimer","sidebar/project":"Projet","sidebar/project/title":"Titre","sidebar/project/editable":"Modifiable","sidebar/project/vr":"VR","sidebar/project/renderer":"Rendus","sidebar/project/antialias":"Anticr\xE9nelage","sidebar/project/shadows":"Ombres","sidebar/project/physicallyCorrectLights":"Physical lights","sidebar/project/toneMapping":"Mappage des nuances","sidebar/project/materials":"Mat\xE9riaux","sidebar/project/Assign":"Attribuer","sidebar/project/video":"Video","sidebar/project/resolution":"Resolution","sidebar/project/duration":"Duration","sidebar/project/render":"Render","sidebar/settings":"Param\xE8tres","sidebar/settings/language":"Langue","sidebar/settings/shortcuts":"Shortcuts","sidebar/settings/shortcuts/translate":"Position","sidebar/settings/shortcuts/rotate":"Rotation","sidebar/settings/shortcuts/scale":"\xC9chelle","sidebar/settings/shortcuts/undo":"Annuler","sidebar/settings/shortcuts/focus":"Focus","sidebar/settings/viewport":"Viewport","sidebar/settings/viewport/grid":"Grille","sidebar/settings/viewport/helpers":"Helpers","sidebar/history":"Historique","sidebar/history/persistent":"permanent","toolbar/translate":"Position","toolbar/rotate":"Rotation","toolbar/scale":"\xC9chelle","toolbar/local":"Local","viewport/info/objects":"Objets","viewport/info/vertices":"Sommets","viewport/info/triangles":"Triangles","viewport/info/frametime":"Temps de trame"},zh:{"menubar/file":"\u6587\u4EF6","menubar/file/new":"\u65B0\u5EFA","menubar/file/import":"\u5BFC\u5165","menubar/file/export/geometry":"\u5BFC\u51FA\u51E0\u4F55\u4F53","menubar/file/export/object":"\u5BFC\u51FA\u7269\u4F53","menubar/file/export/scene":"\u5BFC\u51FA\u573A\u666F","menubar/file/export/dae":"\u5BFC\u51FADAE","menubar/file/export/drc":"\u5BFC\u51FADRC","menubar/file/export/glb":"\u5BFC\u51FAGLB","menubar/file/export/gltf":"\u5BFC\u51FAGLTF","menubar/file/export/obj":"\u5BFC\u51FAOBJ","menubar/file/export/ply":"\u5BFC\u51FAPLY","menubar/file/export/ply_binary":"\u5BFC\u51FAPLY(\u4E8C\u8FDB\u5236)","menubar/file/export/stl":"\u5BFC\u51FASTL","menubar/file/export/stl_binary":"\u5BFC\u51FASTL(\u4E8C\u8FDB\u5236)","menubar/file/export/usdz":"\u5BFC\u51FAUSDZ","menubar/file/publish":"\u53D1\u5E03","menubar/edit":"\u7F16\u8F91","menubar/edit/undo":"\u64A4\u9500 (Ctrl+Z)","menubar/edit/redo":"\u91CD\u505A (Ctrl+Shift+Z)","menubar/edit/clear_history":"\u6E05\u7A7A\u5386\u53F2\u8BB0\u5F55","menubar/edit/center":"\u5C45\u4E2D","menubar/edit/clone":"\u62F7\u8D1D","menubar/edit/delete":"\u5220\u9664 (Del)","menubar/edit/fixcolormaps":"\u4FEE\u590D\u989C\u8272\u8D34\u56FE","menubar/add":"\u6DFB\u52A0","menubar/add/group":"\u7EC4","menubar/add/plane":"\u5E73\u9762","menubar/add/box":"\u6B63\u65B9\u4F53","menubar/add/capsule":"\u80F6\u56CA","menubar/add/circle":"\u5706","menubar/add/cylinder":"\u5706\u67F1\u4F53","menubar/add/ring":"\u73AF","menubar/add/sphere":"\u7403\u4F53","menubar/add/dodecahedron":"\u5341\u4E8C\u9762\u4F53","menubar/add/star":"\u661F","menubar/add/icosahedron":"\u4E8C\u5341\u9762\u4F53","menubar/add/octahedron":"\u516B\u9762\u4F53","menubar/add/tetrahedron":"\u56DB\u9762\u4F53","menubar/add/torus":"\u5706\u73AF\u4F53","menubar/add/torusknot":"\u73AF\u9762\u7EBD\u7ED3\u4F53","menubar/add/tube":"\u7BA1","menubar/add/lathe":"\u9152\u676F","menubar/add/sprite":"\u7CBE\u7075","menubar/add/pointlight":"\u70B9\u5149\u6E90","menubar/add/spotlight":"\u805A\u5149\u706F","menubar/add/directionallight":"\u5E73\u884C\u5149","menubar/add/hemispherelight":"\u534A\u7403\u5149","menubar/add/ambientlight":"\u73AF\u5883\u5149","menubar/add/perspectivecamera":"\u900F\u89C6\u76F8\u673A","menubar/add/orthographiccamera":"\u6B63\u4EA4\u76F8\u673A","menubar/status/autosave":"\u81EA\u52A8\u4FDD\u5B58","menubar/play":"\u542F\u52A8","menubar/play/stop":"\u6682\u505C","menubar/play/play":"\u542F\u52A8","menubar/examples":"\u793A\u4F8B","menubar/examples/Arkanoid":"\u6253\u7816\u5757","menubar/examples/Camera":" \u6444\u50CF\u673A","menubar/examples/Particles":"\u7C92\u5B50","menubar/examples/Pong":"\u4E52\u4E53\u7403","menubar/examples/Shaders":"\u7740\u8272\u5668","menubar/view":"\u89C6\u56FE","menubar/view/fullscreen":"\u5168\u5C4F","menubar/help":"\u5E2E\u52A9","menubar/help/source_code":"\u6E90\u7801","menubar/help/icons":"\u56FE\u6807\u7EC4\u4EF6\u5305","menubar/help/about":"\u5173\u4E8E","menubar/help/manual":"\u624B\u518C","sidebar/animations":"\u52A8\u753B","sidebar/animations/play":"\u64AD\u653E","sidebar/animations/stop":"\u6682\u505C","sidebar/animations/timescale":"\u65F6\u95F4\u7F29\u653E","sidebar/scene":"\u573A\u666F","sidebar/scene/background":"\u80CC\u666F","sidebar/scene/environment":"\u73AF\u5883","sidebar/scene/fog":"\u96FE","sidebar/properties/object":"\u5C5E\u6027","sidebar/properties/geometry":"\u51E0\u4F55\u7EC4\u4EF6","sidebar/properties/material":"\u6750\u8D28\u7EC4\u4EF6","sidebar/properties/script":"\u811A\u672C","sidebar/object/title":"\u7269\u54C1","sidebar/object/type":"\u7C7B\u578B","sidebar/object/new":"\u66F4\u65B0","sidebar/object/uuid":"\u8BC6\u522B\u7801","sidebar/object/name":"\u540D\u79F0","sidebar/object/position":"\u4F4D\u7F6E","sidebar/object/rotation":"\u65CB\u8F6C","sidebar/object/scale":"\u7F29\u653E","sidebar/object/fov":"\u89C6\u89D2","sidebar/object/left":"\u5DE6","sidebar/object/right":"\u53F3","sidebar/object/top":"\u4E0A","sidebar/object/bottom":"\u4E0B","sidebar/object/near":"\u8FD1\u70B9","sidebar/object/far":"\u8FDC\u70B9","sidebar/object/intensity":"\u5F3A\u5EA6","sidebar/object/color":"\u989C\u8272","sidebar/object/groundcolor":"\u57FA\u8272","sidebar/object/distance":"\u8DDD\u79BB","sidebar/object/angle":"\u89D2\u5EA6","sidebar/object/penumbra":"\u8FB9\u7F18","sidebar/object/decay":"\u8870\u51CF","sidebar/object/shadow":"\u9634\u5F71","sidebar/object/shadowBias":"\u9634\u5F71\u504F\u79FB","sidebar/object/shadowNormalBias":"\u9634\u5F71\u6CD5\u7EBF\u504F\u79FB","sidebar/object/shadowRadius":"\u9634\u5F71\u534A\u5F84","sidebar/object/cast":"\u4EA7\u751F","sidebar/object/receive":"\u63A5\u53D7","sidebar/object/visible":"\u53EF\u89C1\u6027","sidebar/object/frustumcull":"\u89C6\u9525\u4F53\u88C1\u526A","sidebar/object/renderorder":"\u6E32\u67D3\u6B21\u5E8F","sidebar/object/userdata":"\u81EA\u5B9A\u4E49\u6570\u636E","sidebar/geometry/type":"\u7C7B\u578B","sidebar/geometry/new":"\u66F4\u65B0","sidebar/geometry/uuid":"\u8BC6\u522B\u7801","sidebar/geometry/name":"\u540D\u79F0","sidebar/geometry/bounds":"\u754C\u9650","sidebar/geometry/show_vertex_normals":"\u663E\u793A\u9876\u70B9\u6CD5\u7EBF","sidebar/geometry/box_geometry/width":"\u5BBD\u5EA6","sidebar/geometry/box_geometry/height":"\u9AD8\u5EA6","sidebar/geometry/box_geometry/depth":"\u6DF1\u5EA6","sidebar/geometry/box_geometry/widthseg":"\u5BBD\u5EA6\u5206\u6BB5","sidebar/geometry/box_geometry/heightseg":"\u9AD8\u5EA6\u5206\u6BB5","sidebar/geometry/box_geometry/depthseg":"\u6DF1\u5EA6\u5206\u6BB5","sidebar/geometry/buffer_geometry/attributes":"\u5C5E\u6027","sidebar/geometry/buffer_geometry/index":"\u7D22\u5F15","sidebar/geometry/capsule_geometry/radius":"\u534A\u5F84","sidebar/geometry/capsule_geometry/length":"\u957F\u5EA6","sidebar/geometry/capsule_geometry/capseg":"\u80F6\u56CA\u5206\u6BB5","sidebar/geometry/capsule_geometry/radialseg":"\u534A\u5F84\u5206\u6BB5","sidebar/geometry/circle_geometry/radius":"\u534A\u5F84","sidebar/geometry/circle_geometry/segments":"\u5206\u6BB5","sidebar/geometry/circle_geometry/thetastart":"\u5F27\u5EA6\u8D77\u70B9","sidebar/geometry/circle_geometry/thetalength":"\u5F27\u5EA6\u957F\u5EA6","sidebar/geometry/cylinder_geometry/radiustop":"\u9876\u90E8\u534A\u5F84","sidebar/geometry/cylinder_geometry/radiusbottom":"\u5E95\u90E8\u534A\u5F84","sidebar/geometry/cylinder_geometry/height":"\u9AD8\u5EA6","sidebar/geometry/cylinder_geometry/radialsegments":"\u5F84\u5411\u5206\u6BB5","sidebar/geometry/cylinder_geometry/heightsegments":"\u9AD8\u5EA6\u5206\u6BB5","sidebar/geometry/cylinder_geometry/openended":"\u5F00\u7AEF","sidebar/geometry/extrude_geometry/curveSegments":"\u66F2\u7EBF\u6BB5","sidebar/geometry/extrude_geometry/steps":"\u7EC6\u5206\u70B9\u6570","sidebar/geometry/extrude_geometry/depth":"\u6DF1\u5EA6","sidebar/geometry/extrude_geometry/bevelEnabled":"\u542F\u7528\u659C\u89D2","sidebar/geometry/extrude_geometry/bevelThickness":"\u659C\u89D2\u539A\u5EA6","sidebar/geometry/extrude_geometry/bevelSize":"\u659C\u89D2\u5927\u5C0F","sidebar/geometry/extrude_geometry/bevelOffset":"\u659C\u89D2\u504F\u79FB\u91CF","sidebar/geometry/extrude_geometry/bevelSegments":"\u659C\u89D2\u5206\u6BB5","sidebar/geometry/extrude_geometry/shape":"\u8F6C\u6362\u56FE\u5F62","sidebar/geometry/dodecahedron_geometry/radius":"\u534A\u5F84","sidebar/geometry/dodecahedron_geometry/detail":"\u9762\u7247\u5206\u6BB5","sidebar/geometry/icosahedron_geometry/radius":"\u534A\u5F84","sidebar/geometry/icosahedron_geometry/detail":"\u9762\u7247\u5206\u6BB5","sidebar/geometry/octahedron_geometry/radius":"\u534A\u5F84","sidebar/geometry/octahedron_geometry/detail":"\u9762\u7247\u5206\u6BB5","sidebar/geometry/tetrahedron_geometry/radius":"\u534A\u5F84","sidebar/geometry/tetrahedron_geometry/detail":"\u9762\u7247\u5206\u6BB5","sidebar/geometry/lathe_geometry/segments":"\u5206\u6BB5","sidebar/geometry/lathe_geometry/phistart":"\u7ECF\u5EA6\u8D77\u70B9","sidebar/geometry/lathe_geometry/philength":"\u7ECF\u5EA6\u957F\u5EA6","sidebar/geometry/lathe_geometry/points":"\u70B9","sidebar/geometry/plane_geometry/width":"\u5BBD\u5EA6","sidebar/geometry/plane_geometry/height":"\u957F\u5EA6","sidebar/geometry/plane_geometry/widthsegments":"\u5BBD\u5EA6\u5206\u6BB5","sidebar/geometry/plane_geometry/heightsegments":"\u957F\u5EA6\u5206\u6BB5","sidebar/geometry/ring_geometry/innerRadius":"\u5185\u534A\u5F84","sidebar/geometry/ring_geometry/outerRadius":"\u5916\u534A\u5F84","sidebar/geometry/ring_geometry/thetaSegments":"\u5F27\u5EA6\u5206\u6BB5","sidebar/geometry/ring_geometry/phiSegments":"\u7ECF\u5EA6\u5206\u6BB5","sidebar/geometry/ring_geometry/thetastart":"\u5F27\u5EA6\u8D77\u70B9","sidebar/geometry/ring_geometry/thetalength":"\u5F27\u5EA6\u957F\u5EA6","sidebar/geometry/shape_geometry/curveSegments":"\u66F2\u7EBF\u6BB5","sidebar/geometry/shape_geometry/extrude":"\u62C9\u4F38","sidebar/geometry/sphere_geometry/radius":"\u534A\u5F84","sidebar/geometry/sphere_geometry/widthsegments":"\u5BBD\u5EA6\u5206\u6BB5","sidebar/geometry/sphere_geometry/heightsegments":"\u957F\u5EA6\u5206\u6BB5","sidebar/geometry/sphere_geometry/phistart":"\u7ECF\u5EA6\u8D77\u70B9","sidebar/geometry/sphere_geometry/philength":"\u7ECF\u5EA6\u957F\u5EA6","sidebar/geometry/sphere_geometry/thetastart":"\u7EAC\u5EA6\u8D77\u70B9","sidebar/geometry/sphere_geometry/thetalength":"\u7EAC\u5EA6\u957F\u5EA6","sidebar/geometry/torus_geometry/radius":"\u534A\u5F84","sidebar/geometry/torus_geometry/tube":"\u7BA1\u539A","sidebar/geometry/torus_geometry/radialsegments":"\u534A\u5F84\u5206\u6BB5","sidebar/geometry/torus_geometry/tubularsegments":"\u7BA1\u539A\u5206\u6BB5","sidebar/geometry/torus_geometry/arc":"\u5F27\u5EA6","sidebar/geometry/torusKnot_geometry/radius":"\u534A\u5F84","sidebar/geometry/torusKnot_geometry/tube":"\u7BA1\u539A","sidebar/geometry/torusKnot_geometry/tubularsegments":"\u7BA1\u539A\u5206\u6BB5","sidebar/geometry/torusKnot_geometry/radialsegments":"\u534A\u5F84\u5206\u6BB5","sidebar/geometry/torusKnot_geometry/p":"\u7BA1\u957F\u5F27\u5EA6","sidebar/geometry/torusKnot_geometry/q":"\u626D\u66F2\u5F27\u5EA6","sidebar/geometry/tube_geometry/path":"\u8DEF\u5F84","sidebar/geometry/tube_geometry/radius":"\u534A\u5F84","sidebar/geometry/tube_geometry/tube":"\u7BA1\u539A","sidebar/geometry/tube_geometry/tubularsegments":"\u7BA1\u539A\u5206\u6BB5","sidebar/geometry/tube_geometry/radialsegments":"\u534A\u5F84\u5206\u6BB5","sidebar/geometry/tube_geometry/closed":"\u95ED\u5408","sidebar/geometry/tube_geometry/curvetype":"\u66F2\u7EBF\u7C7B\u578B","sidebar/geometry/tube_geometry/tension":"\u5F20\u529B","sidebar/material/new":"\u66F4\u65B0","sidebar/material/copy":"\u590D\u5236","sidebar/material/paste":"\u7C98\u8D34","sidebar/material/slot":"\u63D2\u69FD","sidebar/material/type":"\u7C7B\u578B","sidebar/material/uuid":"\u8BC6\u522B\u7801","sidebar/material/name":"\u540D\u79F0","sidebar/material/program":"\u7A0B\u5E8F","sidebar/material/info":"\u4FE1\u606F","sidebar/material/vertex":"\u9876\u70B9","sidebar/material/fragment":"\u7247\u5143","sidebar/material/color":"\u989C\u8272","sidebar/material/depthPacking":"\u6DF1\u5EA6\u5305\u88C5","sidebar/material/roughness":"\u7C97\u7CD9\u5EA6","sidebar/material/metalness":"\u91D1\u5C5E\u5EA6","sidebar/material/reflectivity":"\u53CD\u5C04\u7387","sidebar/material/emissive":"\u81EA\u53D1\u5149","sidebar/material/specular":"\u9AD8\u5149","sidebar/material/shininess":"\u9AD8\u5149\u5927\u5C0F","sidebar/material/clearcoat":"\u6E05\u6F06","sidebar/material/clearcoatroughness":"\u6E05\u6F06\u7C97\u7CD9\u5EA6","sidebar/material/transmission":"\u900F\u5149","sidebar/material/attenuationDistance":"\u8870\u51CF\u8DDD\u79BB","sidebar/material/attenuationColor":"Attenuation Color","sidebar/material/thickness":"\u539A\u5EA6","sidebar/material/vertexcolors":"\u9876\u70B9\u989C\u8272","sidebar/material/matcap":"\u6750\u8D28\u6355\u83B7","sidebar/material/map":"\u8D34\u56FE","sidebar/material/alphamap":"\u900F\u660E\u8D34\u56FE","sidebar/material/bumpmap":"\u51F9\u51F8\u8D34\u56FE","sidebar/material/normalmap":"\u6CD5\u7EBF\u8D34\u56FE","sidebar/material/clearcoatnormalmap":"\u6E05\u6F06\u6CD5\u7EBF\u8D34\u56FE","sidebar/material/displacementmap":"\u7F6E\u6362\u8D34\u56FE","sidebar/material/roughnessmap":"\u7C97\u7CD9\u8D34\u56FE","sidebar/material/metalnessmap":"\u91D1\u5C5E\u8D34\u56FE","sidebar/material/specularmap":"\u9AD8\u5149\u8D34\u56FE","sidebar/material/envmap":"\u73AF\u5883\u8D34\u56FE","sidebar/material/lightmap":"\u5149\u7167\u8D34\u56FE","sidebar/material/aomap":"\u73AF\u5883\u5149\u906E\u853D\u8D34\u56FE","sidebar/material/emissivemap":"\u81EA\u53D1\u5149\u8D34\u56FE","sidebar/material/gradientmap":"\u6E10\u53D8\u8D34\u56FE","sidebar/material/side":"\u9762","sidebar/material/size":"\u5927\u5C0F","sidebar/material/sizeAttenuation":"\u5927\u5C0F\u8870\u51CF","sidebar/material/flatShading":"\u5E73\u9762\u7740\u8272","sidebar/material/blending":"\u6DF7\u5408","sidebar/material/opacity":"\u900F\u660E\u5EA6","sidebar/material/transparent":"\u900F\u660E\u6027","sidebar/material/alphatest":"\u03B1\u6D4B\u8BD5","sidebar/material/depthtest":"\u6DF1\u5EA6\u6D4B\u8BD5","sidebar/material/depthwrite":"\u6DF1\u5EA6\u7F13\u51B2","sidebar/material/wireframe":"\u7EBF\u6846","sidebar/material/userdata":"\u81EA\u5B9A\u4E49\u6570\u636E","sidebar/script":"\u811A\u672C","sidebar/script/new":"\u65B0\u5EFA","sidebar/script/edit":"\u7F16\u8F91","sidebar/script/remove":"\u5220\u9664","sidebar/project":"\u9879\u76EE","sidebar/project/title":"\u6807\u9898","sidebar/project/editable":"\u7F16\u8F91\u6027","sidebar/project/vr":"\u865A\u62DF\u73B0\u5B9E","sidebar/project/renderer":"\u6E32\u67D3\u5668","sidebar/project/antialias":"\u6297\u952F\u9F7F","sidebar/project/shadows":"\u9634\u5F71","sidebar/project/physicallyCorrectLights":"\u7269\u7406\u706F","sidebar/project/toneMapping":"\u8272\u8C03\u6620\u5C04","sidebar/project/materials":"\u6750\u8D28","sidebar/project/Assign":"\u5E94\u7528","sidebar/project/video":"\u89C6\u9891","sidebar/project/resolution":"\u5206\u8FA8\u7387","sidebar/project/duration":"\u65F6\u957F","sidebar/project/render":"\u6E32\u67D3","sidebar/settings":"\u8BBE\u7F6E","sidebar/settings/language":"\u8BED\u8A00","sidebar/settings/shortcuts":"\u5FEB\u6377\u952E","sidebar/settings/shortcuts/translate":"\u79FB\u52A8","sidebar/settings/shortcuts/rotate":"\u65CB\u8F6C","sidebar/settings/shortcuts/scale":"\u7F29\u653E","sidebar/settings/shortcuts/undo":"\u64A4\u9500","sidebar/settings/shortcuts/focus":"\u805A\u7126","sidebar/settings/viewport":"\u89C6\u7A97","sidebar/settings/viewport/grid":"\u7F51\u683C","sidebar/settings/viewport/helpers":"\u8F85\u52A9","sidebar/history":"\u5386\u53F2\u8BB0\u5F55","sidebar/history/persistent":"\u672C\u5730\u5B58\u50A8","toolbar/translate":"\u79FB\u52A8","toolbar/rotate":"\u65CB\u8F6C","toolbar/scale":"\u7F29\u653E","toolbar/local":"\u672C\u5730","viewport/info/objects":"\u7269\u4F53","viewport/info/vertices":"\u9876\u70B9","viewport/info/triangles":"\u4E09\u89D2\u5F62","viewport/info/frametime":"\u5E27\u65F6"}};return{getKey:function(s){return i[t][s]||"???"}}}function hq(){const l=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;if(l===void 0)return console.warn("Storage: IndexedDB not available."),{init:function(){},get:function(){},set:function(){},clear:function(){}};const t="room-maker",i=1;let s;return{init:function(u){const p=l.open(t,i);p.onupgradeneeded=function(y){const A=y.target.result;A.objectStoreNames.contains("states")===!1&&A.createObjectStore("states")},p.onsuccess=function(y){s=y.target.result,u()},p.onerror=function(y){console.error("IndexedDB",y)}},get:function(u){const A=s.transaction(["states"],"readwrite").objectStore("states").get(0);A.onsuccess=function(E){u(E.target.result)}},set:function(u){performance.now();const A=s.transaction(["states"],"readwrite").objectStore("states").put(u,0);A.onsuccess=function(){}},clear:function(){if(s===void 0)return;const y=s.transaction(["states"],"readwrite").objectStore("states").clear();y.onsuccess=function(){}}}}var ib=new _o(50,1,.01,1e3);ib.name="Camera";ib.position.set(0,5,10);ib.lookAt(new wt);function sB(){var l=signals.Signal;this.signals={editScript:new l,startPlayer:new l,stopPlayer:new l,toggleVR:new l,exitedVR:new l,editorCleared:new l,savingStarted:new l,savingFinished:new l,transformModeChanged:new l,snapChanged:new l,spaceChanged:new l,rendererCreated:new l,rendererUpdated:new l,sceneBackgroundChanged:new l,sceneEnvironmentChanged:new l,sceneFogChanged:new l,sceneFogSettingsChanged:new l,sceneGraphChanged:new l,sceneRendered:new l,cameraChanged:new l,cameraResetted:new l,geometryChanged:new l,objectSelected:new l,objectFocused:new l,objectAdded:new l,objectChanged:new l,objectRemoved:new l,cameraAdded:new l,cameraRemoved:new l,helperAdded:new l,helperRemoved:new l,materialAdded:new l,materialChanged:new l,materialRemoved:new l,scriptAdded:new l,scriptChanged:new l,scriptRemoved:new l,windowResize:new l,showGridChanged:new l,showHelpersChanged:new l,refreshSidebarObject3D:new l,historyChanged:new l,viewportCameraChanged:new l,publishClicked:new l,metaMaskConnected:new l,metadatasFetched:new l},this.config=new wJ,this.history=new nB(this),this.storage=new hq,this.strings=new cq(this.config),this.loader=new nq(this),this.camera=ib.clone(),this.scene=new Ch,this.scene.name="Scene",this.sceneHelpers=new Ch,this.object={},this.geometries={},this.materials={},this.textures={},this.scripts={},this.createCmd=["AddObjectCommand","SetSceneCommand"],this.materialsRefCounter=new Map,this.mixer=new S8(this.scene),this.selected=null,this.helpers={},this.cameras={},this.viewportCamera=this.camera,this.addCamera(this.camera)}sB.prototype={setScene:function(l){for(console.log(l),this.scene.uuid=l.uuid,this.scene.name=l.name,this.scene.background=l.background,this.scene.environment="ModelViewer",this.signals.sceneEnvironmentChanged.dispatch("ModelViewer",null),this.scene.fog=l.fog,this.scene.userData=JSON.parse(JSON.stringify(l.userData)),this.signals.sceneGraphChanged.active=!1;l.children.length>0;)this.addObject(l.children[0]);this.signals.sceneGraphChanged.active=!0,this.signals.sceneGraphChanged.dispatch()},addObject:function(l,t,i){var s=this;l.traverse(function(u){u.geometry!==void 0&&s.addGeometry(u.geometry),u.material!==void 0&&s.addMaterial(u.material),s.addCamera(u)}),t===void 0?this.scene.add(l):(t.children.splice(i,0,l),l.parent=t),this.signals.objectAdded.dispatch(l),this.signals.sceneGraphChanged.dispatch()},moveObject:function(l,t,i){if(t===void 0&&(t=this.scene),t.add(l),i!==void 0){var s=t.children.indexOf(i);t.children.splice(s,0,l),t.children.pop()}this.signals.sceneGraphChanged.dispatch()},nameObject:function(l,t){l.name=t,this.signals.sceneGraphChanged.dispatch()},removeObject:function(l){if(l.parent!==null){var t=this;l.traverse(function(i){t.removeCamera(i),t.removeHelper(i),i.material!==void 0&&t.removeMaterial(i.material)}),l.parent.remove(l),this.signals.objectRemoved.dispatch(l),this.signals.sceneGraphChanged.dispatch()}},addGeometry:function(l){this.geometries[l.uuid]=l},setGeometryName:function(l,t){l.name=t,this.signals.sceneGraphChanged.dispatch()},addMaterial:function(l){if(Array.isArray(l))for(var t=0,i=l.length;t<i;t++)this.addMaterialToRefCounter(l[t]);else this.addMaterialToRefCounter(l);this.signals.materialAdded.dispatch()},addMaterialToRefCounter:function(l){var t=this.materialsRefCounter,i=t.get(l);i===void 0?(t.set(l,1),this.materials[l.uuid]=l):(i++,t.set(l,i))},removeMaterial:function(l){if(Array.isArray(l))for(var t=0,i=l.length;t<i;t++)this.removeMaterialFromRefCounter(l[t]);else this.removeMaterialFromRefCounter(l);this.signals.materialRemoved.dispatch()},removeMaterialFromRefCounter:function(l){var t=this.materialsRefCounter,i=t.get(l);i--,i===0?(t.delete(l),delete this.materials[l.uuid]):t.set(l,i)},getMaterialById:function(l){for(var t,i=Object.values(this.materials),s=0;s<i.length;s++)if(i[s].id===l){t=i[s];break}return t},setMaterialName:function(l,t){l.name=t,this.signals.sceneGraphChanged.dispatch()},addTexture:function(l){this.textures[l.uuid]=l},addCamera:function(l){l.isCamera&&(this.cameras[l.uuid]=l,this.signals.cameraAdded.dispatch(l))},removeCamera:function(l){this.cameras[l.uuid]!==void 0&&(delete this.cameras[l.uuid],this.signals.cameraRemoved.dispatch(l))},addHelper:function(){var l=new Nf(2,4,2),t=new Us({color:16711680,visible:!1});return function(i,s){var u;if(s===void 0){if(i.isCamera)s=new yR(i);else if(i.isPointLight)s=new mR(i,1);else if(i.isDirectionalLight)s=new bR(i,1);else if(i.isSpotLight)s=new dR(i);else if(i.isHemisphereLight)s=new gR(i,1);else if(i.isSkinnedMesh)s=new t4(i.skeleton.bones[0]);else if(i.isBone===!0&&((u=i.parent)==null?void 0:u.isBone)!==!0)s=new t4(i);else return;const p=new ir(l,t);p.name="picker",p.userData.object=i,s.add(p)}this.sceneHelpers.add(s),this.helpers[i.id]=s,this.signals.helperAdded.dispatch(s)}}(),removeHelper:function(l){if(this.helpers[l.id]!==void 0){var t=this.helpers[l.id];t.parent.remove(t),delete this.helpers[l.id],this.signals.helperRemoved.dispatch(t)}},addScript:function(l,t){this.scripts[l.uuid]===void 0&&(this.scripts[l.uuid]=[]),this.scripts[l.uuid].push(t),this.signals.scriptAdded.dispatch(t)},removeScript:function(l,t){if(this.scripts[l.uuid]!==void 0){var i=this.scripts[l.uuid].indexOf(t);i!==-1&&this.scripts[l.uuid].splice(i,1),this.signals.scriptRemoved.dispatch(t)}},getObjectLock:function(l){var i;if(!((i=l.userData)!=null&&i.locked))return null;var t=l.userData.locked;return t},setObjectLock:function(l){var i;if(l){var t=((i=l.userData)==null?void 0:i.locked)||!1;l.userData=Hl(pl({},l.userData),{locked:!t}),this.signals.objectChanged.dispatch(l)}},getObjectText:function(l){var i,s;if(!((s=(i=l.userData)==null?void 0:i.play)!=null&&s.text))return null;var t=l.userData.play.text;return t},setObjectText:function(l,t){var u,p,y,A,E,_,k,R,P;const{option:i,value:s}=t;l.userData=Hl(pl({},l.userData),{play:Hl(pl({},(u=l.userData)==null?void 0:u.play),{text:{option:i||((E=(A=(y=(p=l.userData)==null?void 0:p.play)==null?void 0:y.text)==null?void 0:A.option)!=null?E:null),value:s||((P=(R=(k=(_=l.userData)==null?void 0:_.play)==null?void 0:k.text)==null?void 0:R.value)!=null?P:null)}})}),this.signals.objectChanged.dispatch(l)},getObjectPostit:function(l){var i,s;if(!((s=(i=l==null?void 0:l.userData)==null?void 0:i.play)!=null&&s.postit))return null;var t=l.userData.play.postit;return t},setObjectPostit:function(l,t){var p,y,A,E,_,k,R,P,B,O,H,z,Y;const{option:i,value:s,bgcolor:u}=t;l.userData=Hl(pl({},l.userData),{play:Hl(pl({},(p=l.userData)==null?void 0:p.play),{postit:{option:i||((_=(E=(A=(y=l.userData)==null?void 0:y.play)==null?void 0:A.postit)==null?void 0:E.option)!=null?_:null),bgcolor:u||((B=(P=(R=(k=l.userData)==null?void 0:k.play)==null?void 0:R.postit)==null?void 0:P.bgcolor)!=null?B:"16440786"),value:s||((Y=(z=(H=(O=l.userData)==null?void 0:O.play)==null?void 0:H.postit)==null?void 0:z.value)!=null?Y:null)}})}),this.signals.objectChanged.dispatch(l)},getObjectAudio:function(l){var i,s;if(!((s=(i=l.userData)==null?void 0:i.play)!=null&&s.audio))return null;var t=l.userData.play.audio;return t},setObjectAudio:function(l,t){var u,p,y,A,E,_,k,R,P;const{option:i,value:s}=t;l.userData=Hl(pl({},l.userData),{play:Hl(pl({},(u=l.userData)==null?void 0:u.play),{audio:{option:i||((E=(A=(y=(p=l.userData)==null?void 0:p.play)==null?void 0:y.audio)==null?void 0:A.option)!=null?E:null),value:s||((P=(R=(k=(_=l.userData)==null?void 0:_.play)==null?void 0:k.audio)==null?void 0:R.value)!=null?P:null)}})})},getObjectOnClick:function(l){var i,s;if(!((s=(i=l.userData)==null?void 0:i.play)!=null&&s.onClick))return null;var t=l.userData.play.onClick;return t},setObjectOnClick:function(l,t){var u,p,y,A,E,_,k,R,P;const{option:i,value:s}=t;l.userData=Hl(pl({},l.userData),{play:Hl(pl({},(u=l.userData)==null?void 0:u.play),{onClick:{option:i||((E=(A=(y=(p=l.userData)==null?void 0:p.play)==null?void 0:y.onClick)==null?void 0:A.option)!=null?E:null),value:s||((P=(R=(k=(_=l.userData)==null?void 0:_.play)==null?void 0:k.onClick)==null?void 0:R.value)!=null?P:null)}})})},getObjectPresentation:function(l){var i,s;if(!((s=(i=l==null?void 0:l.userData)==null?void 0:i.play)!=null&&s.presentation))return null;var t=l.userData.play.presentation;return t},setObjectPresentation:function(l,t){var u,p,y,A,E,_,k,R,P;const{option:i,value:s}=t;l.userData=Hl(pl({},l.userData),{play:Hl(pl({},(u=l.userData)==null?void 0:u.play),{presentation:{option:i||((E=(A=(y=(p=l.userData)==null?void 0:p.play)==null?void 0:y.presentation)==null?void 0:A.option)!=null?E:"none"),value:s||((P=(R=(k=(_=l.userData)==null?void 0:_.play)==null?void 0:k.presentation)==null?void 0:R.value)!=null?P:null)}})})},getObjectMaterial:function(l,t){var i=l.material;return Array.isArray(i)&&t!==void 0&&(i=i[t]),i},setObjectMaterial:function(l,t,i){Array.isArray(l.material)&&t!==void 0?l.material[t]=i:l.material=i},setViewportCamera:function(l){this.viewportCamera=this.cameras[l],this.signals.viewportCameraChanged.dispatch()},select:function(l){var i;if(!(this.selected===l||((i=l==null?void 0:l.userData)==null?void 0:i.locked))){var t=null;l!==null&&(t=l.uuid),this.selected=l,this.config.setKey("selected",t),this.signals.objectSelected.dispatch(l)}},selectById:function(l){if(l===this.camera.id){this.select(this.camera);return}this.select(this.scene.getObjectById(l))},selectByUuid:function(l){var t=this;this.scene.traverse(function(i){i.uuid===l&&t.select(i)})},deselect:function(){this.select(null)},focus:function(l){l!==void 0&&this.signals.objectFocused.dispatch(l)},focusById:function(l){this.focus(this.scene.getObjectById(l))},clear:function(){this.history.clear(),this.storage.clear(),this.camera.copy(ib),this.signals.cameraResetted.dispatch(),this.scene.name="Scene",this.scene.userData={},this.scene.background=null,this.scene.environment=null,this.signals.sceneEnvironmentChanged.dispatch("ModelViewer",null),this.scene.fog=null;for(var l=this.scene.children;l.length>0;)this.removeObject(l[0]);this.geometries={},this.materials={},this.textures={},this.scripts={},this.materialsRefCounter.clear(),this.animations={},this.mixer.stopAllAction(),this.deselect(),this.signals.editorCleared.dispatch()},fromJSON:async function(l,t){var i=new Fh,s=await i.parseAsync(l.camera);this.camera=s,this.history.fromJSON(l.history),this.scripts=l.scripts,this.setScene(await i.parseAsync(l.scene))},toJSON:function(){var l=this.scene,t=this.scripts;for(var i in t){var s=t[i];(s.length===0||l.getObjectByProperty("uuid",i)===void 0)&&delete t[i]}return{metadata:{},project:{},camera:this.camera.toJSON(),scene:this.scene.toJSON(),scripts:this.scripts,history:this.history.toJSON()}},objectByUuid:function(l){return this.scene.getObjectByProperty("uuid",l,!0)},execute:function(l,t){var i,s;console.log("cmd",l),this.createCmd.includes(l.type)?(console.log("%c Socket emit Room:Create ","color: black; background: #9fa4dd;",window.assignmentSceneName,l,l.params),window.socket.emit("Room:Create",{assignmentName:window.assignmentSceneName,cmd:l.type,objJson:l.params,url:l.url})):(console.log("%c Socket emit Room:Execute ","color: black; background: #9fa4dd;",window.assignmentSceneName,l.type,(i=l==null?void 0:l.object)==null?void 0:i.uuid,l==null?void 0:l.params,t),window.socket.emit("Room:Execute",{assignmentName:window.assignmentSceneName,cmd:l.type,objUuid:(s=l.object)==null?void 0:s.uuid,args:l.params,optionalName:t})),this.history.execute(l,t)},executeSocket:function(l,t){console.log("%c ExecuteSocket ","color: black; background: #9fa4dd;",window.assignmentSceneName,l.type,l.object.uuid,l.params,t),this.history.execute(l,t)},undo:function(){console.log("%c Socket emit Room:Undo ","color: black; background: #9fa4dd;"),window.socket.emit("Room:Undo",{assignmentName:window.assignmentSceneName}),this.history.undo()},undoSocket:function(){console.log("%c UndoSocket ","color: black; background: #9fa4dd;"),this.history.undo()},redo:function(){console.log("%c Socket emit Room:Redo ","color: black; background: #9fa4dd;"),window.socket.emit("Room:Redo",{assignmentName:window.assignmentSceneName}),this.history.redo()},redoSocket:function(){console.log("%c RedoSocket ","color: black; background: #9fa4dd;"),this.history.redo()}};const Cd=new eb,Ga=new wt,rh=new wt,Ms=new D0,wT={X:new wt(1,0,0),Y:new wt(0,1,0),Z:new wt(0,0,1)},U3={type:"change"},xT={type:"mouseDown"},ET={type:"mouseUp",mode:null},_T={type:"objectChange"};class oB extends Rn{constructor(t,i){super(),i===void 0&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),i=document),this.visible=!1,this.domElement=i,this.domElement.style.touchAction="none";const s=new aB;this._gizmo=s,this.add(s);const u=new lB;this._plane=u,this.add(u);const p=this;function y(ee,ue){let oe=ue;Object.defineProperty(p,ee,{get:function(){return oe!==void 0?oe:ue},set:function(Ae){oe!==Ae&&(oe=Ae,u[ee]=Ae,s[ee]=Ae,p.dispatchEvent({type:ee+"-changed",value:Ae}),p.dispatchEvent(U3))}}),p[ee]=ue,u[ee]=ue,s[ee]=ue}y("camera",t),y("object",void 0),y("enabled",!0),y("axis",null),y("mode","translate"),y("translationSnap",null),y("rotationSnap",null),y("scaleSnap",null),y("space","world"),y("size",1),y("dragging",!1),y("showX",!0),y("showY",!0),y("showZ",!0);const A=new wt,E=new wt,_=new D0,k=new D0,R=new wt,P=new D0,B=new wt,O=new wt,H=new wt,z=0,Y=new wt;y("worldPosition",A),y("worldPositionStart",E),y("worldQuaternion",_),y("worldQuaternionStart",k),y("cameraPosition",R),y("cameraQuaternion",P),y("pointStart",B),y("pointEnd",O),y("rotationAxis",H),y("rotationAngle",z),y("eye",Y),this._offset=new wt,this._startNorm=new wt,this._endNorm=new wt,this._cameraScale=new wt,this._parentPosition=new wt,this._parentQuaternion=new D0,this._parentQuaternionInv=new D0,this._parentScale=new wt,this._worldScaleStart=new wt,this._worldQuaternionInv=new D0,this._worldScale=new wt,this._positionStart=new wt,this._quaternionStart=new D0,this._scaleStart=new wt,this._getPointer=dq.bind(this),this._onPointerDown=mq.bind(this),this._onPointerHover=pq.bind(this),this._onPointerMove=gq.bind(this),this._onPointerUp=bq.bind(this),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointermove",this._onPointerHover),this.domElement.addEventListener("pointerup",this._onPointerUp)}updateMatrixWorld(){this.object!==void 0&&(this.object.updateMatrixWorld(),this.object.parent===null?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(this._parentPosition,this._parentQuaternion,this._parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this._worldScale),this._parentQuaternionInv.copy(this._parentQuaternion).invert(),this._worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this._cameraScale),this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),super.updateMatrixWorld(this)}pointerHover(t){if(this.object===void 0||this.dragging===!0)return;Cd.setFromCamera(t,this.camera);const i=V3(this._gizmo.picker[this.mode],Cd);i?this.axis=i.object.name:this.axis=null}pointerDown(t){if(!(this.object===void 0||this.dragging===!0||t.button!==0)&&this.axis!==null){Cd.setFromCamera(t,this.camera);const i=V3(this._plane,Cd,!0);i&&(this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this._positionStart.copy(this.object.position),this._quaternionStart.copy(this.object.quaternion),this._scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this._worldScaleStart),this.pointStart.copy(i.point).sub(this.worldPositionStart)),this.dragging=!0,xT.mode=this.mode,this.dispatchEvent(xT)}}pointerMove(t){const i=this.axis,s=this.mode,u=this.object;let p=this.space;if(s==="scale"?p="local":(i==="E"||i==="XYZE"||i==="XYZ")&&(p="world"),u===void 0||i===null||this.dragging===!1||t.button!==-1)return;Cd.setFromCamera(t,this.camera);const y=V3(this._plane,Cd,!0);if(!!y){if(this.pointEnd.copy(y.point).sub(this.worldPositionStart),s==="translate")this._offset.copy(this.pointEnd).sub(this.pointStart),p==="local"&&i!=="XYZ"&&this._offset.applyQuaternion(this._worldQuaternionInv),i.indexOf("X")===-1&&(this._offset.x=0),i.indexOf("Y")===-1&&(this._offset.y=0),i.indexOf("Z")===-1&&(this._offset.z=0),p==="local"&&i!=="XYZ"?this._offset.applyQuaternion(this._quaternionStart).divide(this._parentScale):this._offset.applyQuaternion(this._parentQuaternionInv).divide(this._parentScale),u.position.copy(this._offset).add(this._positionStart),this.translationSnap&&(p==="local"&&(u.position.applyQuaternion(Ms.copy(this._quaternionStart).invert()),i.search("X")!==-1&&(u.position.x=Math.round(u.position.x/this.translationSnap)*this.translationSnap),i.search("Y")!==-1&&(u.position.y=Math.round(u.position.y/this.translationSnap)*this.translationSnap),i.search("Z")!==-1&&(u.position.z=Math.round(u.position.z/this.translationSnap)*this.translationSnap),u.position.applyQuaternion(this._quaternionStart)),p==="world"&&(u.parent&&u.position.add(Ga.setFromMatrixPosition(u.parent.matrixWorld)),i.search("X")!==-1&&(u.position.x=Math.round(u.position.x/this.translationSnap)*this.translationSnap),i.search("Y")!==-1&&(u.position.y=Math.round(u.position.y/this.translationSnap)*this.translationSnap),i.search("Z")!==-1&&(u.position.z=Math.round(u.position.z/this.translationSnap)*this.translationSnap),u.parent&&u.position.sub(Ga.setFromMatrixPosition(u.parent.matrixWorld))));else if(s==="scale"){if(i.search("XYZ")!==-1){let A=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(A*=-1),rh.set(A,A,A)}else Ga.copy(this.pointStart),rh.copy(this.pointEnd),Ga.applyQuaternion(this._worldQuaternionInv),rh.applyQuaternion(this._worldQuaternionInv),rh.divide(Ga),i.search("X")===-1&&(rh.x=1),i.search("Y")===-1&&(rh.y=1),i.search("Z")===-1&&(rh.z=1);u.scale.copy(this._scaleStart).multiply(rh),this.scaleSnap&&(i.search("X")!==-1&&(u.scale.x=Math.round(u.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),i.search("Y")!==-1&&(u.scale.y=Math.round(u.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),i.search("Z")!==-1&&(u.scale.z=Math.round(u.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if(s==="rotate"){this._offset.copy(this.pointEnd).sub(this.pointStart);const A=20/this.worldPosition.distanceTo(Ga.setFromMatrixPosition(this.camera.matrixWorld));i==="E"?(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this._startNorm.copy(this.pointStart).normalize(),this._endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this._endNorm.cross(this._startNorm).dot(this.eye)<0?1:-1):i==="XYZE"?(this.rotationAxis.copy(this._offset).cross(this.eye).normalize(),this.rotationAngle=this._offset.dot(Ga.copy(this.rotationAxis).cross(this.eye))*A):(i==="X"||i==="Y"||i==="Z")&&(this.rotationAxis.copy(wT[i]),Ga.copy(wT[i]),p==="local"&&Ga.applyQuaternion(this.worldQuaternion),this.rotationAngle=this._offset.dot(Ga.cross(this.eye).normalize())*A),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),p==="local"&&i!=="E"&&i!=="XYZE"?(u.quaternion.copy(this._quaternionStart),u.quaternion.multiply(Ms.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this._parentQuaternionInv),u.quaternion.copy(Ms.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),u.quaternion.multiply(this._quaternionStart).normalize())}this.dispatchEvent(U3),this.dispatchEvent(_T)}}pointerUp(t){t.button===0&&(this.dragging&&this.axis!==null&&(ET.mode=this.mode,this.dispatchEvent(ET)),this.dragging=!1,this.axis=null)}dispose(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.traverse(function(t){t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose()})}attach(t){return this.object=t,this.visible=!0,this}detach(){return this.object=void 0,this.visible=!1,this.axis=null,this}reset(){!this.enabled||this.dragging&&(this.object.position.copy(this._positionStart),this.object.quaternion.copy(this._quaternionStart),this.object.scale.copy(this._scaleStart),this.dispatchEvent(U3),this.dispatchEvent(_T),this.pointStart.copy(this.pointEnd))}getRaycaster(){return Cd}getMode(){return this.mode}setMode(t){this.mode=t}setTranslationSnap(t){this.translationSnap=t}setRotationSnap(t){this.rotationSnap=t}setScaleSnap(t){this.scaleSnap=t}setSize(t){this.size=t}setSpace(t){this.space=t}update(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}}oB.prototype.isTransformControls=!0;function dq(l){if(this.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:l.button};{const t=this.domElement.getBoundingClientRect();return{x:(l.clientX-t.left)/t.width*2-1,y:-(l.clientY-t.top)/t.height*2+1,button:l.button}}}function pq(l){if(!!this.enabled)switch(l.pointerType){case"mouse":case"pen":this.pointerHover(this._getPointer(l));break}}function mq(l){!this.enabled||(document.pointerLockElement||this.domElement.setPointerCapture(l.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(l)),this.pointerDown(this._getPointer(l)))}function gq(l){!this.enabled||this.pointerMove(this._getPointer(l))}function bq(l){!this.enabled||(this.domElement.releasePointerCapture(l.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.pointerUp(this._getPointer(l)))}function V3(l,t,i){const s=t.intersectObject(l,!0);for(let u=0;u<s.length;u++)if(s[u].object.visible||i)return s[u];return!1}const rv=new ao,ls=new wt(0,1,0),kT=new wt(0,0,0),CT=new Jr,nv=new D0,Pv=new D0,ru=new wt,ST=new Jr,ng=new wt(1,0,0),Md=new wt(0,1,0),sg=new wt(0,0,1),sv=new wt,zm=new wt,Wm=new wt;class aB extends Rn{constructor(){super(),this.type="TransformControlsGizmo";const t=new Us({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),i=new fo({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),s=t.clone();s.opacity=.15;const u=i.clone();u.opacity=.5;const p=t.clone();p.color.setHex(16711680);const y=t.clone();y.color.setHex(65280);const A=t.clone();A.color.setHex(255);const E=t.clone();E.color.setHex(16711680),E.opacity=.5;const _=t.clone();_.color.setHex(65280),_.opacity=.5;const k=t.clone();k.color.setHex(255),k.opacity=.5;const R=t.clone();R.opacity=.25;const P=t.clone();P.color.setHex(16776960),P.opacity=.25,t.clone().color.setHex(16776960);const O=t.clone();O.color.setHex(7895160);const H=new ws(0,.04,.1,12);H.translate(0,.05,0);const z=new fs(.08,.08,.08);z.translate(0,.04,0);const Y=new vn;Y.setAttribute("position",new $r([0,0,0,1,0,0],3));const ee=new ws(.0075,.0075,.5,3);ee.translate(0,.25,0);function ue(he,de){const Se=new Zl(he,.0075,3,64,de*Math.PI*2);return Se.rotateY(Math.PI/2),Se.rotateX(Math.PI/2),Se}function oe(){const he=new vn;return he.setAttribute("position",new $r([0,0,0,1,1,1],3)),he}const Ae={X:[[new ir(H,p),[.5,0,0],[0,0,-Math.PI/2]],[new ir(H,p),[-.5,0,0],[0,0,Math.PI/2]],[new ir(ee,p),[0,0,0],[0,0,-Math.PI/2]]],Y:[[new ir(H,y),[0,.5,0]],[new ir(H,y),[0,-.5,0],[Math.PI,0,0]],[new ir(ee,y)]],Z:[[new ir(H,A),[0,0,.5],[Math.PI/2,0,0]],[new ir(H,A),[0,0,-.5],[-Math.PI/2,0,0]],[new ir(ee,A),null,[Math.PI/2,0,0]]],XYZ:[[new ir(new Rf(.1,0),R.clone()),[0,0,0]]],XY:[[new ir(new fs(.15,.15,.01),k.clone()),[.15,.15,0]]],YZ:[[new ir(new fs(.15,.15,.01),E.clone()),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ir(new fs(.15,.15,.01),_.clone()),[.15,0,.15],[-Math.PI/2,0,0]]]},be={X:[[new ir(new ws(.2,0,.6,4),s),[.3,0,0],[0,0,-Math.PI/2]],[new ir(new ws(.2,0,.6,4),s),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new ir(new ws(.2,0,.6,4),s),[0,.3,0]],[new ir(new ws(.2,0,.6,4),s),[0,-.3,0],[0,0,Math.PI]]],Z:[[new ir(new ws(.2,0,.6,4),s),[0,0,.3],[Math.PI/2,0,0]],[new ir(new ws(.2,0,.6,4),s),[0,0,-.3],[-Math.PI/2,0,0]]],XYZ:[[new ir(new Rf(.2,0),s)]],XY:[[new ir(new fs(.2,.2,.01),s),[.15,.15,0]]],YZ:[[new ir(new fs(.2,.2,.01),s),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ir(new fs(.2,.2,.01),s),[.15,0,.15],[-Math.PI/2,0,0]]]},xe={START:[[new ir(new Rf(.01,2),u),null,null,null,"helper"]],END:[[new ir(new Rf(.01,2),u),null,null,null,"helper"]],DELTA:[[new Eo(oe(),u),null,null,null,"helper"]],X:[[new Eo(Y,u.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Eo(Y,u.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Eo(Y,u.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},ne={XYZE:[[new ir(ue(.5,1),O),null,[0,Math.PI/2,0]]],X:[[new ir(ue(.5,.5),p)]],Y:[[new ir(ue(.5,.5),y),null,[0,0,-Math.PI/2]]],Z:[[new ir(ue(.5,.5),A),null,[0,Math.PI/2,0]]],E:[[new ir(ue(.75,1),P),null,[0,Math.PI/2,0]]]},ae={AXIS:[[new Eo(Y,u.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},ye={XYZE:[[new ir(new Nf(.25,10,8),s)]],X:[[new ir(new Zl(.5,.1,4,24),s),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new ir(new Zl(.5,.1,4,24),s),[0,0,0],[Math.PI/2,0,0]]],Z:[[new ir(new Zl(.5,.1,4,24),s),[0,0,0],[0,0,-Math.PI/2]]],E:[[new ir(new Zl(.75,.1,2,24),s)]]},ge={X:[[new ir(z,p),[.5,0,0],[0,0,-Math.PI/2]],[new ir(ee,p),[0,0,0],[0,0,-Math.PI/2]],[new ir(z,p),[-.5,0,0],[0,0,Math.PI/2]]],Y:[[new ir(z,y),[0,.5,0]],[new ir(ee,y)],[new ir(z,y),[0,-.5,0],[0,0,Math.PI]]],Z:[[new ir(z,A),[0,0,.5],[Math.PI/2,0,0]],[new ir(ee,A),[0,0,0],[Math.PI/2,0,0]],[new ir(z,A),[0,0,-.5],[-Math.PI/2,0,0]]],XY:[[new ir(new fs(.15,.15,.01),k),[.15,.15,0]]],YZ:[[new ir(new fs(.15,.15,.01),E),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ir(new fs(.15,.15,.01),_),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new ir(new fs(.1,.1,.1),R.clone())]]},we={X:[[new ir(new ws(.2,0,.6,4),s),[.3,0,0],[0,0,-Math.PI/2]],[new ir(new ws(.2,0,.6,4),s),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new ir(new ws(.2,0,.6,4),s),[0,.3,0]],[new ir(new ws(.2,0,.6,4),s),[0,-.3,0],[0,0,Math.PI]]],Z:[[new ir(new ws(.2,0,.6,4),s),[0,0,.3],[Math.PI/2,0,0]],[new ir(new ws(.2,0,.6,4),s),[0,0,-.3],[-Math.PI/2,0,0]]],XY:[[new ir(new fs(.2,.2,.01),s),[.15,.15,0]]],YZ:[[new ir(new fs(.2,.2,.01),s),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ir(new fs(.2,.2,.01),s),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new ir(new fs(.2,.2,.2),s),[0,0,0]]]},le={X:[[new Eo(Y,u.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Eo(Y,u.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Eo(Y,u.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]};function ie(he){const de=new Rn;for(const Se in he)for(let Be=he[Se].length;Be--;){const Le=he[Se][Be][0].clone(),nt=he[Se][Be][1],He=he[Se][Be][2],ce=he[Se][Be][3],Re=he[Se][Be][4];Le.name=Se,Le.tag=Re,nt&&Le.position.set(nt[0],nt[1],nt[2]),He&&Le.rotation.set(He[0],He[1],He[2]),ce&&Le.scale.set(ce[0],ce[1],ce[2]),Le.updateMatrix();const lt=Le.geometry.clone();lt.applyMatrix4(Le.matrix),Le.geometry=lt,Le.renderOrder=1/0,Le.position.set(0,0,0),Le.rotation.set(0,0,0),Le.scale.set(1,1,1),de.add(Le)}return de}this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=ie(Ae)),this.add(this.gizmo.rotate=ie(ne)),this.add(this.gizmo.scale=ie(ge)),this.add(this.picker.translate=ie(be)),this.add(this.picker.rotate=ie(ye)),this.add(this.picker.scale=ie(we)),this.add(this.helper.translate=ie(xe)),this.add(this.helper.rotate=ie(ae)),this.add(this.helper.scale=ie(le)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}updateMatrixWorld(t){const s=(this.mode==="scale"?"local":this.space)==="local"?this.worldQuaternion:Pv;this.gizmo.translate.visible=this.mode==="translate",this.gizmo.rotate.visible=this.mode==="rotate",this.gizmo.scale.visible=this.mode==="scale",this.helper.translate.visible=this.mode==="translate",this.helper.rotate.visible=this.mode==="rotate",this.helper.scale.visible=this.mode==="scale";let u=[];u=u.concat(this.picker[this.mode].children),u=u.concat(this.gizmo[this.mode].children),u=u.concat(this.helper[this.mode].children);for(let p=0;p<u.length;p++){const y=u[p];y.visible=!0,y.rotation.set(0,0,0),y.position.copy(this.worldPosition);let A;if(this.camera.isOrthographicCamera?A=(this.camera.top-this.camera.bottom)/this.camera.zoom:A=this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),y.scale.set(1,1,1).multiplyScalar(A*this.size/4),y.tag==="helper"){y.visible=!1,y.name==="AXIS"?(y.position.copy(this.worldPositionStart),y.visible=!!this.axis,this.axis==="X"&&(Ms.setFromEuler(rv.set(0,0,0)),y.quaternion.copy(s).multiply(Ms),Math.abs(ls.copy(ng).applyQuaternion(s).dot(this.eye))>.9&&(y.visible=!1)),this.axis==="Y"&&(Ms.setFromEuler(rv.set(0,0,Math.PI/2)),y.quaternion.copy(s).multiply(Ms),Math.abs(ls.copy(Md).applyQuaternion(s).dot(this.eye))>.9&&(y.visible=!1)),this.axis==="Z"&&(Ms.setFromEuler(rv.set(0,Math.PI/2,0)),y.quaternion.copy(s).multiply(Ms),Math.abs(ls.copy(sg).applyQuaternion(s).dot(this.eye))>.9&&(y.visible=!1)),this.axis==="XYZE"&&(Ms.setFromEuler(rv.set(0,Math.PI/2,0)),ls.copy(this.rotationAxis),y.quaternion.setFromRotationMatrix(CT.lookAt(kT,ls,Md)),y.quaternion.multiply(Ms),y.visible=this.dragging),this.axis==="E"&&(y.visible=!1)):y.name==="START"?(y.position.copy(this.worldPositionStart),y.visible=this.dragging):y.name==="END"?(y.position.copy(this.worldPosition),y.visible=this.dragging):y.name==="DELTA"?(y.position.copy(this.worldPositionStart),y.quaternion.copy(this.worldQuaternionStart),Ga.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),Ga.applyQuaternion(this.worldQuaternionStart.clone().invert()),y.scale.copy(Ga),y.visible=this.dragging):(y.quaternion.copy(s),this.dragging?y.position.copy(this.worldPositionStart):y.position.copy(this.worldPosition),this.axis&&(y.visible=this.axis.search(y.name)!==-1));continue}y.quaternion.copy(s),this.mode==="translate"||this.mode==="scale"?(y.name==="X"&&Math.abs(ls.copy(ng).applyQuaternion(s).dot(this.eye))>.99&&(y.scale.set(1e-10,1e-10,1e-10),y.visible=!1),y.name==="Y"&&Math.abs(ls.copy(Md).applyQuaternion(s).dot(this.eye))>.99&&(y.scale.set(1e-10,1e-10,1e-10),y.visible=!1),y.name==="Z"&&Math.abs(ls.copy(sg).applyQuaternion(s).dot(this.eye))>.99&&(y.scale.set(1e-10,1e-10,1e-10),y.visible=!1),y.name==="XY"&&Math.abs(ls.copy(sg).applyQuaternion(s).dot(this.eye))<.2&&(y.scale.set(1e-10,1e-10,1e-10),y.visible=!1),y.name==="YZ"&&Math.abs(ls.copy(ng).applyQuaternion(s).dot(this.eye))<.2&&(y.scale.set(1e-10,1e-10,1e-10),y.visible=!1),y.name==="XZ"&&Math.abs(ls.copy(Md).applyQuaternion(s).dot(this.eye))<.2&&(y.scale.set(1e-10,1e-10,1e-10),y.visible=!1)):this.mode==="rotate"&&(nv.copy(s),ls.copy(this.eye).applyQuaternion(Ms.copy(s).invert()),y.name.search("E")!==-1&&y.quaternion.setFromRotationMatrix(CT.lookAt(this.eye,kT,Md)),y.name==="X"&&(Ms.setFromAxisAngle(ng,Math.atan2(-ls.y,ls.z)),Ms.multiplyQuaternions(nv,Ms),y.quaternion.copy(Ms)),y.name==="Y"&&(Ms.setFromAxisAngle(Md,Math.atan2(ls.x,ls.z)),Ms.multiplyQuaternions(nv,Ms),y.quaternion.copy(Ms)),y.name==="Z"&&(Ms.setFromAxisAngle(sg,Math.atan2(ls.y,ls.x)),Ms.multiplyQuaternions(nv,Ms),y.quaternion.copy(Ms))),y.visible=y.visible&&(y.name.indexOf("X")===-1||this.showX),y.visible=y.visible&&(y.name.indexOf("Y")===-1||this.showY),y.visible=y.visible&&(y.name.indexOf("Z")===-1||this.showZ),y.visible=y.visible&&(y.name.indexOf("E")===-1||this.showX&&this.showY&&this.showZ),y.material._color=y.material._color||y.material.color.clone(),y.material._opacity=y.material._opacity||y.material.opacity,y.material.color.copy(y.material._color),y.material.opacity=y.material._opacity,this.enabled&&this.axis&&(y.name===this.axis||this.axis.split("").some(function(E){return y.name===E}))&&(y.material.color.setHex(16776960),y.material.opacity=1)}super.updateMatrixWorld(t)}}aB.prototype.isTransformControlsGizmo=!0;class lB extends ir{constructor(){super(new $o(1e5,1e5,2,2),new Us({visible:!1,wireframe:!0,side:Pf,transparent:!0,opacity:.1,toneMapped:!1})),this.type="TransformControlsPlane"}updateMatrixWorld(t){let i=this.space;switch(this.position.copy(this.worldPosition),this.mode==="scale"&&(i="local"),sv.copy(ng).applyQuaternion(i==="local"?this.worldQuaternion:Pv),zm.copy(Md).applyQuaternion(i==="local"?this.worldQuaternion:Pv),Wm.copy(sg).applyQuaternion(i==="local"?this.worldQuaternion:Pv),ls.copy(zm),this.mode){case"translate":case"scale":switch(this.axis){case"X":ls.copy(this.eye).cross(sv),ru.copy(sv).cross(ls);break;case"Y":ls.copy(this.eye).cross(zm),ru.copy(zm).cross(ls);break;case"Z":ls.copy(this.eye).cross(Wm),ru.copy(Wm).cross(ls);break;case"XY":ru.copy(Wm);break;case"YZ":ru.copy(sv);break;case"XZ":ls.copy(Wm),ru.copy(zm);break;case"XYZ":case"E":ru.set(0,0,0);break}break;case"rotate":default:ru.set(0,0,0)}ru.length()===0?this.quaternion.copy(this.cameraQuaternion):(ST.lookAt(Ga.set(0,0,0),ru,ls),this.quaternion.setFromRotationMatrix(ST)),super.updateMatrixWorld(t)}}lB.prototype.isTransformControlsPlane=!0;function rs(l){const t={"menubar/file":`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="none"
        viewBox="0 0 24 24"
      >
        <path
          stroke="#000"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2v11Z"
        />
      </svg>`,"menubar/file/new":"New","menubar/file/import":"Import","menubar/file/export/geometry":"Export Geometry","menubar/file/export/object":"Export Object","menubar/file/export/scene":"Export Scene","menubar/file/export/dae":"Export DAE","menubar/file/export/drc":"Export DRC","menubar/file/export/glb":"Export GLB","menubar/file/export/gltf":"Export GLTF","menubar/file/export/obj":"Export OBJ","menubar/file/export/ply":"Export PLY","menubar/file/export/ply_binary":"Export PLY (Binary)","menubar/file/export/stl":"Export STL","menubar/file/export/stl_binary":"Export STL (Binary)","menubar/file/export/usdz":"Export USDZ","menubar/file/publish":"Publish","menubar/edit":`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="none"
        viewBox="0 0 24 24"
      >
        <g
          stroke="#000"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
        >
          <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" />
          <path d="M18.5 2.5a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4 9.5-9.5Z" />
        </g>
      </svg>`,"menubar/edit/undo":"Undo (Ctrl+Z)","menubar/edit/redo":"Redo (Ctrl+Shift+Z)","menubar/edit/clear_history":"Clear History","menubar/edit/center":"Center","menubar/edit/clone":"Clone","menubar/edit/delete":"Delete (Del)","menubar/edit/fixcolormaps":"Fix Color Maps","menubar/add":"Add","menubar/add/group":"Group","menubar/add/plane":"Plane","menubar/add/box":"Box","menubar/add/capsule":"Capsule","menubar/add/circle":"Circle","menubar/add/cylinder":"Cylinder","menubar/add/ring":"Ring","menubar/add/sphere":"Sphere","menubar/add/dodecahedron":"Dodecahedron","menubar/add/star":"Star","menubar/add/icosahedron":"Icosahedron","menubar/add/octahedron":"Octahedron","menubar/add/tetrahedron":"Tetrahedron","menubar/add/torus":"Torus","menubar/add/tube":"Tube","menubar/add/torusknot":"TorusKnot","menubar/add/lathe":"Lathe","menubar/add/sprite":"Sprite","menubar/add/pointlight":"PointLight","menubar/add/spotlight":"SpotLight","menubar/add/directionallight":"DirectionalLight","menubar/add/hemispherelight":"HemisphereLight","menubar/add/ambientlight":"AmbientLight","menubar/add/perspectivecamera":"PerspectiveCamera","menubar/add/orthographiccamera":"OrthographicCamera","menubar/status/autosave":"autosave","menubar/play":"Play","menubar/play/stop":"Stop","menubar/play/play":"Play","menubar/examples":"Examples","menubar/examples/Arkanoid":"Arkanoid","menubar/examples/Camera":"Camera","menubar/examples/Particles":"Particles","menubar/examples/Pong":"Pong","menubar/examples/Shaders":"Shaders","menubar/view":"View","menubar/view/fullscreen":"Fullscreen","menubar/help":"Help","menubar/help/source_code":"Source Code","menubar/help/icons":"Icon Pack","menubar/help/about":"About","menubar/help/manual":"Manual","communicate/emoji":`<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36" fill="none">
    <path d="M18.139 32.2844C26.2436 32.2844 32.8137 25.7143 32.8137 17.6097C32.8137 9.50513 26.2436 2.93506 18.139 2.93506C10.0344 2.93506 3.46436 9.50513 3.46436 17.6097C3.46436 25.7143 10.0344 32.2844 18.139 32.2844Z" fill="#FFDA5B" stroke="#736E75" stroke-width="2.93493" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M12.2693 20.5446C12.2693 20.5446 14.4705 23.4795 18.1392 23.4795C21.8078 23.4795 24.009 20.5446 24.009 20.5446" stroke="#736E75" stroke-width="2.93493" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M13.7363 13.207H13.7518" stroke="#736E75" stroke-width="2.93493" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M22.5417 13.207H22.5572" stroke="#736E75" stroke-width="2.93493" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`,"communicate/chat":`<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36" fill="none">
    <path d="M31.3458 16.8759C31.3509 18.8127 30.8983 20.7234 30.0251 22.4522C28.9897 24.5239 27.398 26.2664 25.4282 27.4846C23.4584 28.7027 21.1884 29.3484 18.8723 29.3493C16.9355 29.3544 15.0248 28.9019 13.296 28.0286L4.9314 30.8168L7.71958 22.4522C6.84634 20.7234 6.39381 18.8127 6.39886 16.8759C6.39976 14.5598 7.04545 12.2898 8.2636 10.32C9.48176 8.35024 11.2243 6.7585 13.296 5.72311C15.0248 4.84986 16.9355 4.39734 18.8723 4.40239H19.6061C22.6648 4.57113 25.5538 5.86217 27.7199 8.02829C29.886 10.1944 31.1771 13.0834 31.3458 16.1421V16.8759Z" fill="#0094FF" stroke="#736E75" stroke-width="2.93493" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`,"communicate/mic":`<svg xmlns="http://www.w3.org/2000/svg" width="37" height="36" viewBox="0 0 37 36" fill="none">
    <g clip-path="url(#clip0_631_1991)">
    <path d="M18.5755 1.46729C17.4079 1.46729 16.2881 1.93111 15.4625 2.75672C14.6369 3.58233 14.1731 4.7021 14.1731 5.86969V17.6094C14.1731 18.777 14.6369 19.8968 15.4625 20.7224C16.2881 21.548 17.4079 22.0118 18.5755 22.0118C19.7431 22.0118 20.8629 21.548 21.6885 20.7224C22.5141 19.8968 22.9779 18.777 22.9779 17.6094V5.86969C22.9779 4.7021 22.5141 3.58233 21.6885 2.75672C20.8629 1.93111 19.7431 1.46729 18.5755 1.46729Z" fill="#72DBD4" stroke="#736E75" stroke-width="2.93493" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M28.8483 14.6748V17.6097C28.8483 20.3341 27.766 22.9469 25.8396 24.8733C23.9132 26.7998 21.3004 27.882 18.576 27.882C15.8516 27.882 13.2388 26.7998 11.3124 24.8733C9.38596 22.9469 8.30371 20.3341 8.30371 17.6097V14.6748" stroke="#736E75" stroke-width="2.93493" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M18.5757 27.8818V33.7517" stroke="#736E75" stroke-width="2.93493" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M12.7056 33.752H24.4453" stroke="#736E75" stroke-width="2.93493" stroke-linecap="round" stroke-linejoin="round"/>
    </g>
    <defs>
    <clipPath id="clip0_631_1991">
    <rect width="35.2192" height="35.2192" fill="white" transform="translate(0.966797)"/>
    </clipPath>
    </defs>
    </svg>`,"communicate/chat/cross":`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 25 25" fill="none">
    <path d="M6.91064 19.5244L19.6386 6.79649" stroke="#F2F2F2" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M6.91064 6.79645L19.6386 19.5244" stroke="#F2F2F2" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`,"addbar/option/cursor":`<svg xmlns="http://www.w3.org/2000/svg" width="62" height="51" viewBox="0 0 89 73" fill="none">
      <g filter="url(#filter0_d_727_58)">
      <circle cx="37.0273" cy="32.5" r="32.5" fill="url(#paint0_linear_727_58)"/>
      <path d="M22.4023 17.875L33.8911 45.4513L37.9698 33.4425L49.9786 29.3638L22.4023 17.875Z" fill="url(#paint1_linear_727_58)" stroke="#72D3F7" stroke-width="3.71816" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M38.6523 34.125L48.4023 43.875" stroke="#72D3F7" stroke-width="3.71816" stroke-linecap="round" stroke-linejoin="round"/>
      </g>
      <path d="M81.2773 39L87.2773 33L81.2773 27" stroke="#736E75" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <defs>
      <filter id="filter0_d_727_58" x="0.527344" y="0" width="73" height="73" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
      <feFlood flood-opacity="0" result="BackgroundImageFix"/>
      <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
      <feOffset dy="4"/>
      <feGaussianBlur stdDeviation="2"/>
      <feComposite in2="hardAlpha" operator="out"/>
      <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
      <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_727_58"/>
      <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_727_58" result="shape"/>
      </filter>
      <linearGradient id="paint0_linear_727_58" x1="37.0273" y1="0" x2="37.0273" y2="65" gradientUnits="userSpaceOnUse">
      <stop stop-color="#F5F5F5"/>
      <stop offset="1" stop-color="white"/>
      </linearGradient>
      <linearGradient id="paint1_linear_727_58" x1="36.1905" y1="17.875" x2="36.1905" y2="45.4513" gradientUnits="userSpaceOnUse">
      <stop stop-color="#F5F5F5"/>
      <stop offset="1" stop-color="white"/>
      </linearGradient>
      </defs>
      </svg>`,"addbar/option/cursor/undo":`<svg xmlns="http://www.w3.org/2000/svg" width="25" height="22" viewBox="0 0 25 22" fill="none">
      <path d="M2.06877 9.53283L4.10291 13.0561L7.62615 11.0219" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M22.7935 12.573C22.289 10.0128 20.7159 7.66998 18.2686 6.25702C13.7912 3.67199 8.08185 5.1776 5.5172 9.6197C4.98465 10.5421 4.63012 11.519 4.44161 12.51" stroke="#1E1E1E" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round"/>
      </svg>
    `,"addbar/option/cursor/redo":`<svg xmlns="http://www.w3.org/2000/svg" width="25" height="22" viewBox="0 0 25 22" fill="none">
      <path d="M23.0055 9.53283L20.9713 13.0561L17.4481 11.0219" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M2.28076 12.573C2.78522 10.0128 4.35831 7.66998 6.80561 6.25702C11.283 3.67199 16.9924 5.1776 19.557 9.6197C20.0896 10.5421 20.4441 11.519 20.6326 12.51" stroke="#1E1E1E" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round"/>
      </svg>
    `,"addbar/option/cursor/duplicate":`<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" fill="none">
      <path d="M20.5371 9.21484H11.5371C10.4325 9.21484 9.53711 10.1103 9.53711 11.2148V20.2148C9.53711 21.3194 10.4325 22.2148 11.5371 22.2148H20.5371C21.6417 22.2148 22.5371 21.3194 22.5371 20.2148V11.2148C22.5371 10.1103 21.6417 9.21484 20.5371 9.21484Z" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M5.53711 15.2148H4.53711C4.00668 15.2148 3.49797 15.0041 3.1229 14.6291C2.74782 14.254 2.53711 13.7453 2.53711 13.2148V4.21484C2.53711 3.68441 2.74782 3.1757 3.1229 2.80063C3.49797 2.42556 4.00668 2.21484 4.53711 2.21484H13.5371C14.0675 2.21484 14.5762 2.42556 14.9513 2.80063C15.3264 3.1757 15.5371 3.68441 15.5371 4.21484V5.21484" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    `,"addbar/option/cursor/delete":`<svg xmlns="http://www.w3.org/2000/svg" width="21" height="23" viewBox="0 0 21 23" fill="none">
      <path d="M1.53711 5.70117H3.53711H19.5371" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M6.53711 5.70117V3.70117C6.53711 3.17074 6.74782 2.66203 7.1229 2.28696C7.49797 1.91189 8.00668 1.70117 8.53711 1.70117H12.5371C13.0675 1.70117 13.5762 1.91189 13.9513 2.28696C14.3264 2.66203 14.5371 3.17074 14.5371 3.70117V5.70117M17.5371 5.70117V19.7012C17.5371 20.2316 17.3264 20.7403 16.9513 21.1154C16.5762 21.4905 16.0675 21.7012 15.5371 21.7012H5.53711C5.00668 21.7012 4.49797 21.4905 4.1229 21.1154C3.74782 20.7403 3.53711 20.2316 3.53711 19.7012V5.70117H17.5371Z" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M8.53711 10.7012V16.7012" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M12.5371 10.7012V16.7012" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    `,"addbar/option/text":`<svg xmlns="http://www.w3.org/2000/svg" width="62" height="51" viewBox="0 0 89 72" fill="none">
      <path d="M81.2773 38L87.2773 32L81.2773 26" stroke="#736E75" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <g filter="url(#filter0_d_728_59)">
      <circle cx="37.0273" cy="32.5" r="32.5" fill="url(#paint0_linear_727_58)"/>
      <path d="M48.4944 21.6744V15.4844H25.2295V21.6744" stroke="#43ABF5" stroke-width="4" stroke-linecap="round"/>
      <line x1="37.1997" y1="17.4844" x2="37.1997" y2="44.4346" stroke="#43ABF5" stroke-width="4" stroke-linecap="round"/>
      <line x1="32.8394" y1="46.1357" x2="41.2158" y2="46.1357" stroke="#43ABF5" stroke-width="4" stroke-linecap="round"/>
      </g>
      <defs>
      <filter id="filter0_d_728_59" x="0.527344" y="0" width="73" height="72" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
      <feFlood flood-opacity="0" result="BackgroundImageFix"/>
      <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
      <feOffset dy="4"/>
      <feGaussianBlur stdDeviation="2"/>
      <feComposite in2="hardAlpha" operator="out"/>
      <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
      <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_728_59"/>
      <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_728_59" result="shape"/>
      </filter>
      <linearGradient id="paint0_linear_728_59" x1="37.0273" y1="0" x2="37.0273" y2="64" gradientUnits="userSpaceOnUse">
      <stop stop-color="#F5F5F5"/>
      <stop offset="1" stop-color="white"/>
      </linearGradient>
      </defs>
      </svg>
    `,"addbar/option/text/text":`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="22" viewBox="0 0 20 22" fill="none">
      <path d="M18 5.7037V2H2V5.7037" stroke="black" stroke-width="3" stroke-linecap="round"/>
      <line x1="10.3569" y1="3.5" x2="10.3569" y2="19.0185" stroke="black" stroke-width="3" stroke-linecap="round"/>
      <line x1="8.07129" y1="20.5" x2="11.9284" y2="20.5" stroke="black" stroke-width="3" stroke-linecap="round"/>
      </svg>
    `,"addbar/option/text/postit":`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
    <path d="M11.7856 19V12.7861C11.7856 12.2338 12.2334 11.7861 12.7856 11.7861H19" stroke="black" stroke-width="1.9"/>
    <path d="M0.95 18V2C0.95 1.4201 1.4201 0.95 2 0.95H18C18.5799 0.95 19.05 1.4201 19.05 2V11.8501C19.05 12.1286 18.9394 12.3957 18.7425 12.5926L12.5926 18.7425C12.3957 18.9394 12.1286 19.05 11.8501 19.05H2C1.4201 19.05 0.95 18.5799 0.95 18Z" stroke="black" stroke-width="1.9"/>
    <line x1="3.92871" y1="5.11387" x2="16.0716" y2="5.11387" stroke="black" stroke-width="1.2"/>
    </svg>
    `,"addbar/option/library":`<svg xmlns="http://www.w3.org/2000/svg" width="62" height="51" viewBox="0 0 89 73" fill="none">
      <g filter="url(#filter0_d_738_61)">
      <circle cx="37.0273" cy="32.5" r="32.5" fill="url(#paint0_linear_738_61)"/>
      </g>
      <path d="M81.2783 38L87.2783 32L81.2783 26" stroke="#736E75" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M27.9017 13.9092H50.2999V47.0917H27.9017C26.8016 47.0917 25.7466 46.6547 24.9688 45.8768C24.1909 45.0989 23.7539 44.0439 23.7539 42.9438V18.057C23.7539 16.9569 24.1909 15.9019 24.9688 15.124C25.7466 14.3462 26.8016 13.9092 27.9017 13.9092Z" fill="url(#paint1_linear_738_61)" stroke="#FFA099" stroke-width="3.31825" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M23.7539 42.9437C23.7539 41.8436 24.1909 40.7886 24.9688 40.0108C25.7466 39.2329 26.8016 38.7959 27.9017 38.7959H50.2999" stroke="#FFA099" stroke-width="3.31825" stroke-linecap="round" stroke-linejoin="round"/>
      <defs>
      <filter id="filter0_d_738_61" x="0.527344" y="0" width="73" height="73" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
      <feFlood flood-opacity="0" result="BackgroundImageFix"/>
      <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
      <feOffset dy="4"/>
      <feGaussianBlur stdDeviation="2"/>
      <feComposite in2="hardAlpha" operator="out"/>
      <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
      <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_738_61"/>
      <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_738_61" result="shape"/>
      </filter>
      <linearGradient id="paint0_linear_738_61" x1="37.0273" y1="0" x2="37.0273" y2="65" gradientUnits="userSpaceOnUse">
      <stop stop-color="#F5F5F5"/>
      <stop offset="1" stop-color="white"/>
      </linearGradient>
      <linearGradient id="paint1_linear_738_61" x1="37.0269" y1="13.9092" x2="37.0269" y2="47.0917" gradientUnits="userSpaceOnUse">
      <stop stop-color="#F5F5F5"/>
      <stop offset="1" stop-color="white"/>
      </linearGradient>
      </defs>
      </svg>
    `,"addbar/option/library/search":`<svg xmlns="http://www.w3.org/2000/svg" width="15" height="14" viewBox="0 0 15 14" fill="none">
      <path d="M7.03009 11.3707C9.87501 11.3707 12.1813 9.06446 12.1813 6.21954C12.1813 3.37462 9.87501 1.06836 7.03009 1.06836C4.18517 1.06836 1.87891 3.37462 1.87891 6.21954C1.87891 9.06446 4.18517 11.3707 7.03009 11.3707Z" stroke="#736E75" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M13.4679 12.6584L10.667 9.85742" stroke="#736E75" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    `,"addbar/option/file":`<svg xmlns="http://www.w3.org/2000/svg" width="62" height="51" viewBox="0 0 89 72" fill="none">
      <g filter="url(#filter0_d_738_62)">
      <ellipse cx="37.0273" cy="32" rx="32.5" ry="32" fill="url(#paint0_linear_738_62)"/>
      </g>
      <path d="M54 44.6667C54 45.5507 53.6523 46.3986 53.0335 47.0237C52.4146 47.6488 51.5752 48 50.7 48H24.3C23.4248 48 22.5854 47.6488 21.9665 47.0237C21.3477 46.3986 21 45.5507 21 44.6667V21.3333C21 20.4493 21.3477 19.6014 21.9665 18.9763C22.5854 18.3512 23.4248 18 24.3 18H32.55L35.85 23H50.7C51.5752 23 52.4146 23.3512 53.0335 23.9763C53.6523 24.6014 54 25.4493 54 26.3333V44.6667Z" fill="url(#paint1_linear_738_62)" stroke="#F6902D" stroke-width="3.31825" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M81.2773 38L87.2773 32L81.2773 26" stroke="#736E75" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <defs>
      <filter id="filter0_d_738_62" x="0.527344" y="0" width="73" height="72" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
      <feFlood flood-opacity="0" result="BackgroundImageFix"/>
      <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
      <feOffset dy="4"/>
      <feGaussianBlur stdDeviation="2"/>
      <feComposite in2="hardAlpha" operator="out"/>
      <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
      <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_738_62"/>
      <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_738_62" result="shape"/>
      </filter>
      <linearGradient id="paint0_linear_738_62" x1="37.0273" y1="0" x2="37.0273" y2="64" gradientUnits="userSpaceOnUse">
      <stop stop-color="#F5F5F5"/>
      <stop offset="1" stop-color="white"/>
      </linearGradient>
      <linearGradient id="paint1_linear_738_62" x1="37.5" y1="18" x2="37.5" y2="48" gradientUnits="userSpaceOnUse">
      <stop stop-color="#F5F5F5"/>
      <stop offset="1" stop-color="white"/>
      </linearGradient>
      </defs>
      </svg>
    `,"addbar/option/file/export":`<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">
    <path d="M16.0273 12.3467V18.3467C16.0273 18.8771 15.8166 19.3858 15.4416 19.7609C15.0665 20.136 14.5578 20.3467 14.0273 20.3467H3.02734C2.49691 20.3467 1.9882 20.136 1.61313 19.7609C1.23806 19.3858 1.02734 18.8771 1.02734 18.3467V7.34668C1.02734 6.81625 1.23806 6.30754 1.61313 5.93247C1.9882 5.55739 2.49691 5.34668 3.02734 5.34668H9.02734" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M8.02734 13.3467L19.0273 2.34668" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M14.0273 1.34668H20.0273V7.34668" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,"addbar/option/file/import":`<svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21" fill="none">
    <path d="M4.02734 9.34668L4.02734 3.34668C4.02734 2.81625 4.23806 2.30754 4.61313 1.93247C4.9882 1.55739 5.49691 1.34668 6.02735 1.34668L17.0273 1.34668C17.5578 1.34668 18.0665 1.55739 18.4416 1.93247C18.8166 2.30754 19.0273 2.81625 19.0273 3.34668L19.0273 14.3467C19.0273 14.8771 18.8166 15.3858 18.4416 15.7609C18.0665 16.136 17.5578 16.3467 17.0273 16.3467L11.0273 16.3467" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M7.02734 19.3467L1.02734 19.3467L1.02734 13.3467" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M12.0273 8.34668L1.02734 19.3467" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    `,"addbar/option/file/publish":`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
    <g clip-path="url(#clip0_631_4630)">
    <path d="M13.3337 13.3333L10.0003 10L6.66699 13.3333" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M10 10V17.5" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M16.9919 15.3249C17.8047 14.8818 18.4467 14.1806 18.8168 13.3321C19.1868 12.4835 19.2637 11.5359 19.0354 10.6388C18.807 9.7417 18.2865 8.94616 17.5558 8.37778C16.8251 7.80939 15.9259 7.50052 15.0002 7.4999H13.9502C13.698 6.52427 13.2278 5.61852 12.5752 4.85073C11.9225 4.08295 11.1042 3.47311 10.182 3.06708C9.25967 2.66104 8.25734 2.46937 7.25031 2.50647C6.24328 2.54358 5.25777 2.80849 4.36786 3.28129C3.47795 3.7541 2.7068 4.42249 2.1124 5.23622C1.51799 6.04996 1.11579 6.98785 0.936028 7.9794C0.756269 8.97095 0.803632 9.99035 1.07456 10.961C1.34548 11.9316 1.83291 12.8281 2.50021 13.5832" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M13.3337 13.3333L10.0003 10L6.66699 13.3333" stroke="#1E1E1E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </g>
    <defs>
    <clipPath id="clip0_631_4630">
    <rect width="20" height="20" fill="white"/>
    </clipPath>
    </defs>
    </svg>
    `,"addbar/option/object":`<svg xmlns="http://www.w3.org/2000/svg" width="62" height="51" viewBox="0 0 89 73" fill="none">
      <g filter="url(#filter0_d_725_57)">
      <circle cx="37.0273" cy="32.5" r="32.5" fill="url(#paint0_linear_725_57)"/>
      <path d="M25.8983 13.333L28.5819 18.7698L34.5832 19.6469L30.2407 23.8765L31.2656 29.8517L25.8983 27.0291L20.531 29.8517L21.5558 23.8765L17.2134 19.6469L23.2146 18.7698L25.8983 13.333Z" fill="url(#paint1_linear_725_57)" stroke="#838CFF" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M24.4131 36.2316L17.057 48.5121C16.9053 48.7747 16.8251 49.0725 16.8242 49.3758C16.8234 49.6791 16.902 49.9773 17.0522 50.2408C17.2023 50.5043 17.4189 50.7239 17.6803 50.8777C17.9417 51.0315 18.2388 51.1142 18.5421 51.1176H33.2543C33.5576 51.1142 33.8547 51.0315 34.1161 50.8777C34.3775 50.7239 34.5941 50.5043 34.7443 50.2408C34.8945 49.9773 34.9731 49.6791 34.9722 49.3758C34.9714 49.0725 34.8911 48.7747 34.7395 48.5121L27.3833 36.2316C27.2285 35.9764 27.0105 35.7654 26.7504 35.6189C26.4902 35.4724 26.1968 35.3955 25.8982 35.3955C25.5997 35.3955 25.3062 35.4724 25.0461 35.6189C24.7859 35.7654 24.5679 35.9764 24.4131 36.2316V36.2316Z" fill="url(#paint2_linear_725_57)" stroke="#838CFF" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M48.5443 51.9411C53.3408 51.9411 57.2292 48.0527 57.2292 43.2562C57.2292 38.4597 53.3408 34.5713 48.5443 34.5713C43.7477 34.5713 39.8594 38.4597 39.8594 43.2562C39.8594 48.0527 43.7477 51.9411 48.5443 51.9411Z" fill="url(#paint3_linear_725_57)" stroke="#838CFF" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M54.6239 13.7754H42.465C41.5057 13.7754 40.728 14.5531 40.728 15.5124V27.6712C40.728 28.6305 41.5057 29.4082 42.465 29.4082H54.6239C55.5832 29.4082 56.3609 28.6305 56.3609 27.6712V15.5124C56.3609 14.5531 55.5832 13.7754 54.6239 13.7754Z" fill="url(#paint4_linear_725_57)" stroke="#838CFF" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
      </g>
      <path d="M81.2788 39L87.2788 33L81.2788 27" stroke="#736E75" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <defs>
      <filter id="filter0_d_725_57" x="0.527344" y="0" width="73" height="73" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
      <feFlood flood-opacity="0" result="BackgroundImageFix"/>
      <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
      <feOffset dy="4"/>
      <feGaussianBlur stdDeviation="2"/>
      <feComposite in2="hardAlpha" operator="out"/>
      <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
      <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_725_57"/>
      <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_725_57" result="shape"/>
      </filter>
      <linearGradient id="paint0_linear_725_57" x1="37.0273" y1="0" x2="37.0273" y2="65" gradientUnits="userSpaceOnUse">
      <stop stop-color="#F5F5F5"/>
      <stop offset="1" stop-color="white"/>
      </linearGradient>
      <linearGradient id="paint1_linear_725_57" x1="25.8983" y1="13.333" x2="25.8983" y2="29.8517" gradientUnits="userSpaceOnUse">
      <stop stop-color="#F5F5F5"/>
      <stop offset="1" stop-color="white"/>
      </linearGradient>
      <linearGradient id="paint2_linear_725_57" x1="25.8982" y1="35.3955" x2="25.8982" y2="51.1176" gradientUnits="userSpaceOnUse">
      <stop stop-color="#F5F5F5"/>
      <stop offset="1" stop-color="white"/>
      </linearGradient>
      <linearGradient id="paint3_linear_725_57" x1="48.5443" y1="34.5713" x2="48.5443" y2="51.9411" gradientUnits="userSpaceOnUse">
      <stop stop-color="#F5F5F5"/>
      <stop offset="1" stop-color="white"/>
      </linearGradient>
      <linearGradient id="paint4_linear_725_57" x1="48.5444" y1="13.7754" x2="48.5444" y2="29.4082" gradientUnits="userSpaceOnUse">
      <stop stop-color="#F5F5F5"/>
      <stop offset="1" stop-color="white"/>
      </linearGradient>
      </defs>
      </svg>
    `,"addbar/option/object/plane":`<svg xmlns="http://www.w3.org/2000/svg" width="47" height="47" fill="none" viewBox="0 0 47 47">
      <path fill="#fff" stroke="#000" stroke-width="2" d="M4.235 4.969h38v38h-38z"/>
    </svg>
    `,"addbar/option/object/portal":`<svg xmlns="http://www.w3.org/2000/svg" width="47" height="47" fill="none" viewBox="0 0 47 47">
      <path fill="#fff" stroke="#000" stroke-miterlimit="10" stroke-width="2" d="M23.05 33.684c10.82 0 19.591-4.566 19.591-10.2 0-5.633-8.771-10.199-19.591-10.199s-19.592 4.567-19.592 10.2c0 5.633 8.772 10.2 19.592 10.2Z"/>
      <path fill="#000" d="M24.356 27.94C21.253 27.81 4.45 28 6.99 19.901c1.186-2.936 3.354-4.462 5.292-6.078l.695 2.041c-1.41.949-2.81 1.958-4.012 3.354-5.731 6.459 13.123 8.546 15.39 8.713v.007Z"/>
      <path fill="#000" d="M13.965 21.033c3.845-7.847 19.826-5.229 25.84-4.067l-.262 2.246-3.255-.858c-5.38-1.297-18.572-4.052-22.318 2.687l-.005-.008Z"/>
      <path fill="#000" d="M26.503 18.59c3.15.242 17.079 1.267 12.56 9.547-1.306 2.102-2.942 3.437-4.593 4.773l-.694-2.041a25.793 25.793 0 0 0 2.361-1.723c1.05-.964 3.265-2.717 2.68-4.796-1.73-3.825-9.2-5.146-12.309-5.76h-.005Z"/>
      <path fill="#000" d="M27.982 23.097c1.28.6 6.671 2.952 4.743 5.76-1.954 2.004-4.461 2.17-6.74 2.748-2.303.44-4.612.72-6.927.94-2.309.213-4.623.365-6.938.479l-.01-2.277c5.742.114 11.515.357 17.199-.842 6.718-1.533 2.183-4.91-1.333-6.815l.006.007Z"/>
    </svg>
    `,"addbar/option/object/presentation":`<svg xmlns="http://www.w3.org/2000/svg" width="47" height="47" fill="none" viewBox="0 0 47 47">
      <path fill="#000" d="M42.89 39.86V7.41H4.74v16H1.89v-16c0-.8.28-1.48.83-2.03.55-.55 1.22-.82 2.02-.82h38.15c.77 0 1.43.28 2 .85.57.57.85 1.23.85 2v29.1c0 .83-.27 1.57-.83 2.2-.55.63-1.23 1.02-2.02 1.15ZM17.64 26.71c-2.17 0-3.93-.67-5.3-2.02-1.37-1.35-2.05-3.12-2.05-5.33s.68-3.94 2.02-5.32c1.35-1.38 3.12-2.07 5.32-2.07s3.94.69 5.33 2.07c1.38 1.38 2.08 3.16 2.08 5.32s-.69 3.93-2.08 5.3c-1.38 1.37-3.16 2.05-5.32 2.05ZM1.89 42.41v-4.55c0-1.23.31-2.29.92-3.17.61-.88 1.41-1.56 2.38-2.03 2.23-.97 4.36-1.7 6.37-2.2 2.02-.5 4.04-.75 6.07-.75 2.03 0 4.05.26 6.05.77 2 .52 4.1 1.26 6.3 2.23 1.03.43 1.87 1.09 2.5 1.97.63.88.95 1.94.95 3.17v4.55H1.89v.01Z"/>
    </svg>
    `,"addbar/option/object/box":`<svg xmlns="http://www.w3.org/2000/svg" width="47" height="47" fill="none" viewBox="0 0 47 47">
      <path fill="#fff" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M43.47 31.122V15.184a3.684 3.684 0 0 0-.597-1.99 4.245 4.245 0 0 0-1.626-1.457L25.692 3.768a4.846 4.846 0 0 0-2.223-.533c-.78 0-1.546.184-2.222.533l-15.556 7.97a4.244 4.244 0 0 0-1.625 1.456 3.673 3.673 0 0 0-.597 1.99v15.938c.001.698.207 1.385.597 1.99s.95 1.107 1.625 1.456l15.556 7.97c.676.349 1.442.533 2.222.533s1.547-.184 2.223-.534l15.555-7.969a4.245 4.245 0 0 0 1.626-1.456c.39-.605.595-1.292.596-1.99Z"/>
      <path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m4.069 13.112 19.4 10.06 19.4-10.06M23.47 43.234V23.153"/>
    </svg>
    `,"addbar/option/object/sphere":`<svg xmlns="http://www.w3.org/2000/svg" width="47" height="47" fill="none" viewBox="0 0 47 47">
      <g clip-path="url(#a)">
        <g filter="url(#b)">
          <circle cx="23.581" cy="25.085" r="20" fill="url(#c)" transform="rotate(105 23.58 25.085)"/>
        </g>
        <ellipse cx="14.162" cy="13.867" fill="#fff" rx="4.287" ry="3.146" transform="rotate(-41.219 14.162 13.867)"/>
      </g>
      <defs>
        <linearGradient id="c" x1="23.581" x2="23.581" y1="5.085" y2="45.085" gradientUnits="userSpaceOnUse">
          <stop stop-color="#A2A2A2"/>
          <stop offset="1" stop-color="#fff"/>
        </linearGradient>
        <clipPath id="a">
          <path fill="#fff" d="M0 0h46v46H0z" transform="translate(.58 .484)"/>
        </clipPath>
        <filter id="b" width="48.01" height="48.01" x="-.424" y="3.08" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse">
          <feFlood flood-opacity="0" result="BackgroundImageFix"/>
          <feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
          <feOffset dy="2"/>
          <feGaussianBlur stdDeviation="2"/>
          <feComposite in2="hardAlpha" operator="out"/>
          <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
          <feBlend in2="BackgroundImageFix" result="effect1_dropShadow_355_9"/>
          <feBlend in="SourceGraphic" in2="effect1_dropShadow_355_9" result="shape"/>
        </filter>
      </defs>
    </svg>
    `,"addbar/option/object/pentagon":`<svg xmlns="http://www.w3.org/2000/svg" width="47" height="47" fill="none" viewBox="0 0 47 47">
      <path fill="#fff" stroke="#000" stroke-width="2" d="m33.051 42.798 4.992-7.682a1 1 0 0 0 .161-.545V10.567a1 1 0 0 0-.658-.94L24.28 4.809a1 1 0 0 0-.683 0L10.331 9.627a1 1 0 0 0-.658.94V34.57a1 1 0 0 0 .161.545l4.992 7.682a1 1 0 0 0 .838.455h16.548a1 1 0 0 0 .839-.455Z"/>
      <path stroke="#000" stroke-width="2" d="m38.204 9.868-5.449 8.385H15.122l-5.45-8.385m23.116 8.317v25m-17.85-25v25"/>
    </svg>
    `,"addbar/option/object/hexagon":`<svg xmlns="http://www.w3.org/2000/svg" width="47" height="47" fill="none" viewBox="0 0 47 47">
      <g clip-path="url(#a)">
        <path fill="#fff" stroke="#000" stroke-width="2" d="M14.971 2.495 8.339 8.437a2 2 0 0 0-.666 1.49v26.111a2 2 0 0 0 .665 1.49l6.633 5.946a2 2 0 0 0 1.335.51H30.04a2 2 0 0 0 1.334-.51l6.633-5.947a2 2 0 0 0 .665-1.489V9.926a2 2 0 0 0-.665-1.49l-6.633-5.941a2 2 0 0 0-1.334-.51H16.305a2 2 0 0 0-1.334.51Z"/>
        <path stroke="#000" stroke-width="2" d="m37.673 9.48-7.25 6.495h-14.5L8.673 9.48m7 6.505v28m15-28v28"/>
      </g>
      <defs>
        <clipPath id="a">
          <path fill="#fff" d="M0 0h46v46H0z" transform="translate(.173 .484)"/>
        </clipPath>
      </defs>
    </svg>
    `,"addbar/option/object/cylinder":`<svg xmlns="http://www.w3.org/2000/svg" width="47" height="47" fill="none" viewBox="0 0 47 47">
      <path fill="#fff" stroke="#000" stroke-width="2" d="M23.408 43.484c7.953 0 14.4-2.938 14.4-6.564V11.484h-28.8V36.92c0 3.626 6.447 6.564 14.4 6.564Z"/>
      <ellipse cx="23.408" cy="9.884" fill="#fff" stroke="#000" stroke-width="2" rx="14.4" ry="6.4"/>
    </svg>
    `,"addbar/option/object/pyramid":`<svg xmlns="http://www.w3.org/2000/svg" width="47" height="47" fill="none" viewBox="0 0 47 47">
      <path fill="#fff" stroke="#000" stroke-width="2" d="M6.65 30.996 22.792 4.862a1 1 0 0 1 1.701 0l16.142 26.134a1 1 0 0 1-.296 1.358l-16.142 10.76a1 1 0 0 1-1.11 0L6.947 32.355a1 1 0 0 1-.296-1.358Z"/>
      <path stroke="#000" stroke-width="2" d="M23.642 4.484v38.5"/>
    </svg>
    `,"addbar/option/object/cone":`<svg xmlns="http://www.w3.org/2000/svg" width="47" height="47" fill="none" viewBox="0 0 47 47">
      <g clip-path="url(#a)">
        <path fill="#fff" stroke="#000" stroke-width="2" d="M7.581 36.992 22.976 4.961a1 1 0 0 1 1.802 0l15.395 32.031a.558.558 0 0 1-.181.698 27.912 27.912 0 0 1-32.23 0 .558.558 0 0 1-.18-.698Z"/>
      </g>
      <defs>
        <clipPath id="a">
          <path fill="#fff" d="M0 0h46v46H0z" transform="translate(.877 .484)"/>
        </clipPath>
      </defs>
    </svg>
    `,"addbar/option/object/torus":`<svg xmlns="http://www.w3.org/2000/svg" width="47" height="47" fill="none" viewBox="0 0 47 47">
      <mask id="a" fill="#fff">
        <path fill-rule="evenodd" d="M22.612 36.595c11.045 0 20-5.87 20-13.11 0-7.241-8.955-13.11-20-13.11-11.046 0-20 5.869-20 13.11 0 7.24 8.954 13.11 20 13.11ZM21.968 25.4c3.906 0 7.072-1.163 7.072-2.597s-3.166-2.596-7.072-2.596c-3.905 0-7.071 1.162-7.071 2.596 0 1.434 3.166 2.597 7.071 2.597Z" clip-rule="evenodd"/>
      </mask>
      <path fill="#fff" fill-rule="evenodd" d="M22.612 36.595c11.045 0 20-5.87 20-13.11 0-7.241-8.955-13.11-20-13.11-11.046 0-20 5.869-20 13.11 0 7.24 8.954 13.11 20 13.11ZM21.968 25.4c3.906 0 7.072-1.163 7.072-2.597s-3.166-2.596-7.072-2.596c-3.905 0-7.071 1.162-7.071 2.596 0 1.434 3.166 2.597 7.071 2.597Z" clip-rule="evenodd"/>
      <path fill="#000" d="M40.612 23.485c0 2.727-1.688 5.456-4.955 7.597-3.249 2.13-7.856 3.513-13.045 3.513v4c5.856 0 11.249-1.552 15.238-4.167 3.972-2.604 6.762-6.43 6.762-10.943h-4Zm-18-11.11c5.19 0 9.796 1.382 13.045 3.512 3.267 2.141 4.955 4.87 4.955 7.598h4c0-4.514-2.79-8.34-6.762-10.944-3.99-2.615-9.383-4.167-15.238-4.167v4Zm-18 11.11c0-2.728 1.687-5.457 4.954-7.598 3.25-2.13 7.856-3.513 13.046-3.513v-4c-5.856 0-11.25 1.552-15.239 4.167C3.401 15.145.612 18.971.612 23.485h4Zm18 11.11c-5.19 0-9.797-1.383-13.046-3.513-3.267-2.141-4.954-4.87-4.954-7.598h-4c0 4.513 2.789 8.34 6.761 10.944 3.99 2.615 9.383 4.167 15.239 4.167v-4Zm4.428-11.792c0-.436.247-.598.133-.5-.108.095-.382.271-.893.459-1.007.37-2.531.638-4.312.638v4c2.125 0 4.137-.313 5.69-.883.769-.282 1.53-.666 2.137-1.193.602-.522 1.245-1.368 1.245-2.52h-4Zm-5.072-.596c1.78 0 3.305.268 4.312.638.51.188.784.364.893.458.114.099-.133-.064-.133-.5h4c0-1.153-.643-1.998-1.244-2.52-.607-.527-1.37-.911-2.138-1.193-1.553-.57-3.565-.883-5.69-.883v4Zm-5.071.596c0 .436-.247.599-.133.5.108-.095.382-.27.893-.458 1.007-.37 2.53-.638 4.311-.638v-4c-2.125 0-4.137.313-5.69.883-.768.282-1.53.666-2.137 1.192-.601.523-1.244 1.368-1.244 2.521h4Zm5.071.597c-1.78 0-3.304-.269-4.31-.638-.512-.188-.786-.364-.895-.459-.113-.098.134.064.134.5h-4c0 1.153.643 1.999 1.244 2.521.607.527 1.37.91 2.138 1.193 1.552.57 3.564.883 5.69.883v-4Z" mask="url(#a)"/>
      <path stroke="#000" stroke-linecap="round" stroke-width="2" d="M32.335 22.077c0 2.413-4.671 4.37-10.433 4.37s-10.433-1.957-10.433-4.37"/>
    </svg>
    `,"addbar/option/object/star":`<svg xmlns="http://www.w3.org/2000/svg" width="47" height="47" fill="none" viewBox="0 0 47 47">
      <path fill="#fff" stroke="#000" stroke-width="2" d="m28.246 6.772-4.298-3.235a1 1 0 0 0-1.203 0l-4.299 3.235a1 1 0 0 1-.547.2l-10.25.553a1 1 0 0 0-.946.998v27.395a1 1 0 0 0 .614.923l5.114 2.135a1 1 0 0 1 .615.923v2.767a1 1 0 0 0 1.195.98l8.91-1.773c.129-.025.262-.025.39 0l8.91 1.774a1 1 0 0 0 1.195-.981v-2.91a1 1 0 0 1 .627-.927l4.95-1.994a1 1 0 0 0 .627-.922l.135-27.385a1 1 0 0 0-.946-1.003l-10.246-.553a1 1 0 0 1-.547-.2Z"/>
      <path stroke="#000" stroke-width="2" d="m7.346 8.084 7.095 2.315a.5.5 0 0 1 .28.723l-1.586 2.784a.5.5 0 0 0 .526.739l9.593-1.793a.5.5 0 0 1 .184 0l9.57 1.794a.5.5 0 0 0 .529-.737l-1.57-2.789a.5.5 0 0 1 .28-.72l7.1-2.316m-5.734 6.062v25.658M13.068 14.143v25.674m10.107-27.095v29.061"/>
    </svg>
    `,"addbar/option/setting":`<svg xmlns="http://www.w3.org/2000/svg" width="62" height="51" viewBox="0 0 86 73" fill="none">
    <g filter="url(#filter0_d_631_5132)">
    <circle cx="36.8594" cy="32.5" r="32.5" fill="url(#paint0_linear_631_5132)"/>
    </g>
    <path d="M35.0954 34.828C35.0954 35.8047 35.8872 36.5965 36.8639 36.5965C37.8406 36.5965 38.6323 35.8047 38.6323 34.828C38.6323 33.8513 37.8406 33.0596 36.8639 33.0596C35.8872 33.0596 35.0954 33.8513 35.0954 34.828Z" fill="#2CC5CE" stroke="#2CC5CE" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M47.4724 34.828C47.4724 35.8047 48.2641 36.5965 49.2408 36.5965C50.2175 36.5965 51.0093 35.8047 51.0093 34.828C51.0093 33.8513 50.2175 33.0596 49.2408 33.0596C48.2641 33.0596 47.4724 33.8513 47.4724 34.828Z" fill="#2CC5CE" stroke="#2CC5CE" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M22.7126 34.828C22.7126 35.8047 23.5044 36.5965 24.4811 36.5965C25.4577 36.5965 26.2495 35.8047 26.2495 34.828C26.2495 33.8513 25.4577 33.0596 24.4811 33.0596C23.5044 33.0596 22.7126 33.8513 22.7126 34.828Z" fill="#2CC5CE" stroke="#2CC5CE" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M78.2798 39L84.2798 33L78.2798 27" stroke="#736E75" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <defs>
    <filter id="filter0_d_631_5132" x="0.359375" y="0" width="73" height="73" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
    <feOffset dy="4"/>
    <feGaussianBlur stdDeviation="2"/>
    <feComposite in2="hardAlpha" operator="out"/>
    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_631_5132"/>
    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_631_5132" result="shape"/>
    </filter>
    <linearGradient id="paint0_linear_631_5132" x1="36.8594" y1="0" x2="36.8594" y2="65" gradientUnits="userSpaceOnUse">
    <stop stop-color="#F5F5F5"/>
    <stop offset="1" stop-color="white"/>
    </linearGradient>
    </defs>
    </svg>
    `,"addbar/option/setting/setting":`<svg xmlns="http://www.w3.org/2000/svg" width="30" height="31" viewBox="0 0 30 31" fill="none">
      <path d="M27.5489 16.9655C27.3041 16.6918 27.1691 16.3399 27.1691 15.9756C27.1691 15.6113 27.3041 15.2594 27.5489 14.9857L29.5032 12.826C29.7185 12.59 29.8522 12.2931 29.8852 11.9779C29.9181 11.6626 29.8485 11.3452 29.6864 11.0713L26.6328 5.88196C26.4723 5.60828 26.228 5.39134 25.9346 5.26207C25.6413 5.1328 25.3139 5.0978 24.9991 5.16206L22.1287 5.73198C21.7635 5.80611 21.3832 5.74636 21.0598 5.564C20.7363 5.38164 20.492 5.08929 20.3729 4.74211L19.4415 1.99749C19.3391 1.6996 19.1439 1.44086 18.8837 1.25785C18.6234 1.07484 18.3111 0.976814 17.991 0.977626H11.8838C11.5509 0.960555 11.2214 1.05101 10.9457 1.23516C10.67 1.41932 10.4632 1.68706 10.357 1.99749L9.502 4.74211C9.38291 5.08929 9.13858 5.38164 8.81511 5.564C8.49164 5.74636 8.11141 5.80611 7.74618 5.73198L4.79944 5.16206C4.50103 5.12063 4.19681 5.16689 3.92511 5.295C3.65341 5.42311 3.42639 5.62734 3.27263 5.88196L0.219022 11.0713C0.0528443 11.3422 -0.0218745 11.6578 0.00554772 11.973C0.0329699 12.2881 0.161129 12.5867 0.371702 12.826L2.31075 14.9857C2.55552 15.2594 2.69052 15.6113 2.69052 15.9756C2.69052 16.3399 2.55552 16.6918 2.31075 16.9655L0.371702 19.1252C0.161129 19.3645 0.0329699 19.663 0.00554772 19.9782C-0.0218745 20.2934 0.0528443 20.609 0.219022 20.8799L3.27263 26.0692C3.4331 26.3429 3.67742 26.5598 3.97077 26.6891C4.26412 26.8184 4.59153 26.8534 4.90632 26.7891L7.77671 26.2192C8.14195 26.1451 8.52218 26.2048 8.84565 26.3872C9.16912 26.5695 9.41345 26.8619 9.53254 27.2091L10.4639 29.9537C10.5701 30.2641 10.7769 30.5319 11.0526 30.716C11.3283 30.9002 11.6578 30.9906 11.9907 30.9735H18.0979C18.418 30.9744 18.7303 30.8763 18.9905 30.6933C19.2508 30.5103 19.446 30.2516 19.5484 29.9537L20.4797 27.2091C20.5988 26.8619 20.8432 26.5695 21.1666 26.3872C21.4901 26.2048 21.8703 26.1451 22.2356 26.2192L25.106 26.7891C25.4208 26.8534 25.7482 26.8184 26.0415 26.6891C26.3349 26.5598 26.5792 26.3429 26.7396 26.0692L29.7933 20.8799C29.9554 20.6059 30.0249 20.2885 29.992 19.9733C29.9591 19.658 29.8254 19.3611 29.61 19.1252L27.5489 16.9655ZM25.2739 18.9752L26.4954 20.325L24.541 23.6545L22.7394 23.2946C21.6398 23.0738 20.4959 23.2573 19.5249 23.8102C18.5539 24.3632 17.8233 25.2471 17.4719 26.2942L16.8917 27.974H12.9831L12.4335 26.2642C12.0821 25.2171 11.3515 24.3332 10.3805 23.7802C9.40952 23.2273 8.26563 23.0438 7.16599 23.2646L5.36436 23.6245L3.37951 20.31L4.60096 18.9602C5.35207 18.1353 5.76733 17.0673 5.76733 15.9606C5.76733 14.8538 5.35207 13.7859 4.60096 12.961L3.37951 11.6112L5.33382 8.31163L7.13545 8.67158C8.23509 8.89238 9.37899 8.7089 10.35 8.15595C11.321 7.603 12.0515 6.71908 12.4029 5.67199L12.9831 3.97722H16.8917L17.4719 5.68698C17.8233 6.73408 18.5539 7.618 19.5249 8.17094C20.4959 8.72389 21.6398 8.90738 22.7394 8.68658L24.541 8.32663L26.4954 11.6562L25.2739 13.006C24.5312 13.829 24.1211 14.8908 24.1211 15.9906C24.1211 17.0904 24.5312 18.1522 25.2739 18.9752V18.9752ZM14.9374 9.9764C13.7295 9.9764 12.5488 10.3282 11.5444 10.9874C10.5401 11.6466 9.75733 12.5836 9.29509 13.6798C8.83285 14.776 8.71191 15.9822 8.94756 17.146C9.18321 18.3097 9.76486 19.3786 10.619 20.2176C11.4731 21.0567 12.5613 21.628 13.746 21.8595C14.9307 22.091 16.1586 21.9722 17.2746 21.5181C18.3905 21.064 19.3443 20.2951 20.0154 19.3086C20.6865 18.322 21.0447 17.1621 21.0447 15.9756C21.0447 14.3845 20.4012 12.8586 19.2559 11.7335C18.1106 10.6085 16.5572 9.9764 14.9374 9.9764V9.9764ZM14.9374 18.9752C14.3335 18.9752 13.7431 18.7993 13.2409 18.4697C12.7388 18.1401 12.3474 17.6716 12.1163 17.1235C11.8851 16.5754 11.8247 15.9723 11.9425 15.3904C12.0603 14.8085 12.3511 14.2741 12.7782 13.8546C13.2053 13.4351 13.7494 13.1494 14.3417 13.0336C14.934 12.9179 15.548 12.9773 16.106 13.2043C16.664 13.4314 17.1409 13.8158 17.4764 14.3091C17.812 14.8024 17.991 15.3823 17.991 15.9756C17.991 16.7711 17.6693 17.5341 17.0967 18.0966C16.524 18.6591 15.7473 18.9752 14.9374 18.9752Z" fill="#646464"/>
      </svg>
    `,"addbar/option/setting/help":`<svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" viewBox="0 0 34 34" fill="none">
      <path d="M17 31.6445C25.2843 31.6445 32 24.9288 32 16.6445C32 8.36026 25.2843 1.64453 17 1.64453C8.71573 1.64453 2 8.36026 2 16.6445C2 24.9288 8.71573 31.6445 17 31.6445Z" stroke="#646464" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M12.6328 12.1444C12.9855 11.1419 13.6815 10.2966 14.5977 9.75811C15.5139 9.21965 16.5912 9.02282 17.6386 9.20248C18.686 9.38214 19.636 9.9267 20.3204 10.7397C21.0048 11.5527 21.3794 12.5817 21.3778 13.6444C21.3778 16.6444 16.8778 18.1444 16.8778 18.1444" stroke="#646464" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M17 24.1445H17.015" stroke="#646464" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    `,"addbar/option/setting/update":`<svg xmlns="http://www.w3.org/2000/svg" width="30" height="31" viewBox="0 0 30 31" fill="none">
      <g clip-path="url(#clip0_631_4927)">
      <path d="M7.33333 28.2727H12.6667C12.6667 29.7727 11.4667 31 10 31C8.53333 31 7.33333 29.7727 7.33333 28.2727ZM4.66667 26.9091H15.3333V24.1818H4.66667V26.9091ZM20 13.9545C20 19.1636 16.4533 21.9455 14.9733 22.8182H5.02667C3.54667 21.9455 0 19.1636 0 13.9545C0 8.30909 4.48 3.72727 10 3.72727C15.52 3.72727 20 8.30909 20 13.9545ZM17.3333 13.9545C17.3333 9.82273 14.04 6.45455 10 6.45455C5.96 6.45455 2.66667 9.82273 2.66667 13.9545C2.66667 17.3227 4.65333 19.2591 5.8 20.0909H14.2C15.3467 19.2591 17.3333 17.3227 17.3333 13.9545V13.9545ZM26.4933 11.05L24.6667 11.9091L26.4933 12.7682L27.3333 14.6364L28.1733 12.7682L30 11.9091L28.1733 11.05L27.3333 9.18182L26.4933 11.05ZM23.3333 9.18182L24.5867 6.37273L27.3333 5.09091L24.5867 3.80909L23.3333 1L22.08 3.80909L19.3333 5.09091L22.08 6.37273L23.3333 9.18182Z" fill="#646464"/>
      </g>
      <defs>
      <clipPath id="clip0_631_4927">
      <rect width="30" height="30" fill="white" transform="translate(0 0.644531)"/>
      </clipPath>
      </defs>
      </svg>`,"addbar/option/library/temp":"","sidebar/animations":"Animations","sidebar/animations/play":"Play","sidebar/animations/stop":"Stop","sidebar/animations/timescale":"Time Scale","sidebar/scene":"Scene","sidebar/room":`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="19"
        fill="none"
        viewBox="0 0 20 19"
      >
        <path
          stroke="#000"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M1 6.95 10 1l9 5.95v9.35c0 .45-.21.883-.586 1.202A2.192 2.192 0 0 1 17 18H3c-.53 0-1.04-.18-1.414-.498C1.21 17.183 1 16.751 1 16.3V6.95Z"
        />
        <path
          stroke="#000"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M7 18V9.5h6V18"
        />
      </svg>`,"sidebar/scene/background":"Background","sidebar/scene/environment":"Environment","sidebar/scene/fog":"Fog","sidebar/properties/object":"Object","sidebar/properties/geometry":"Geometry","sidebar/properties/material":"Material","sidebar/properties/script":"Script","sidebar/object/type":"Type","sidebar/object/new":"New","sidebar/object/uuid":"UUID","sidebar/object/name":"Name","sidebar/object/position":"Position","sidebar/object/rotation":"Rotation","sidebar/object/rotation/reset":`<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="none" viewBox="0 0 15 15">
    <path stroke="#000" stroke-linecap="round" stroke-linejoin="round" d="M.625 2.5v3.75h3.75"/>
    <path stroke="#000" stroke-linecap="round" stroke-linejoin="round" d="M2.194 9.375a5.625 5.625 0 1 0 1.331-5.85L.625 6.25"/>
    <path fill="#000" d="M9.375 7.5a1.875 1.875 0 1 0-3.75 0 1.875 1.875 0 0 0 3.75 0Z"/>
  </svg>
  `,"sidebar/object/scale":"Scale","sidebar/object/fov":"Fov","sidebar/object/left":"Left","sidebar/object/right":"Right","sidebar/object/top":"Top","sidebar/object/bottom":"Bottom","sidebar/object/near":"Near","sidebar/object/far":"Far","sidebar/object/intensity":"Intensity","sidebar/object/color":"Color","sidebar/object/groundcolor":"Ground Color","sidebar/object/distance":"Distance","sidebar/object/angle":"Angle","sidebar/object/penumbra":"Penumbra","sidebar/object/decay":"Decay","sidebar/object/shadow":"Shadow","sidebar/object/shadowBias":"Shadow Bias","sidebar/object/shadowNormalBias":"Shadow Normal Bias","sidebar/object/shadowRadius":"Shadow Radius","sidebar/object/cast":"cast","sidebar/object/receive":"receive","sidebar/object/visible":"Visible","sidebar/object/frustumcull":"Frustum Cull","sidebar/object/renderorder":"Render Order","sidebar/object/userdata":"User data","sidebar/geometry/type":"Type","sidebar/geometry/new":"New","sidebar/geometry/uuid":"UUID","sidebar/geometry/name":"Name","sidebar/geometry/bounds":"Bounds","sidebar/geometry/show_vertex_normals":"Show Vertex Normals","sidebar/geometry/box_geometry/width":"Width","sidebar/geometry/box_geometry/height":"Height","sidebar/geometry/box_geometry/depth":"Depth","sidebar/geometry/box_geometry/widthseg":"Width Seg","sidebar/geometry/box_geometry/heightseg":"Height Seg","sidebar/geometry/box_geometry/depthseg":"Depth Seg","sidebar/geometry/buffer_geometry/attributes":"Attributes","sidebar/geometry/buffer_geometry/index":"index","sidebar/geometry/capsule_geometry/radius":"Radius","sidebar/geometry/capsule_geometry/length":"Length","sidebar/geometry/capsule_geometry/capseg":"Cap Seg","sidebar/geometry/capsule_geometry/radialseg":"Radial Seg","sidebar/geometry/circle_geometry/radius":"Radius","sidebar/geometry/circle_geometry/segments":"Segments","sidebar/geometry/circle_geometry/thetastart":"Theta start","sidebar/geometry/circle_geometry/thetalength":"Theta length","sidebar/geometry/cylinder_geometry/radiustop":"Radius top","sidebar/geometry/cylinder_geometry/radiusbottom":"Radius bottom","sidebar/geometry/cylinder_geometry/height":"Height","sidebar/geometry/cylinder_geometry/radialsegments":"Radial segments","sidebar/geometry/cylinder_geometry/heightsegments":"Height segments","sidebar/geometry/cylinder_geometry/openended":"Open ended","sidebar/geometry/extrude_geometry/curveSegments":"Curve Segments","sidebar/geometry/extrude_geometry/steps":"Steps","sidebar/geometry/extrude_geometry/depth":"Depth","sidebar/geometry/extrude_geometry/bevelEnabled":"Bevel?","sidebar/geometry/extrude_geometry/bevelThickness":"Thickness","sidebar/geometry/extrude_geometry/bevelSize":"Size","sidebar/geometry/extrude_geometry/bevelOffset":"Offset","sidebar/geometry/extrude_geometry/bevelSegments":"Segments","sidebar/geometry/extrude_geometry/shape":"Convert to Shape","sidebar/geometry/dodecahedron_geometry/radius":"Radius","sidebar/geometry/dodecahedron_geometry/detail":"Detail","sidebar/geometry/icosahedron_geometry/radius":"Radius","sidebar/geometry/icosahedron_geometry/detail":"Detail","sidebar/geometry/octahedron_geometry/radius":"Radius","sidebar/geometry/octahedron_geometry/detail":"Detail","sidebar/geometry/tetrahedron_geometry/radius":"Radius","sidebar/geometry/tetrahedron_geometry/detail":"Detail","sidebar/geometry/lathe_geometry/segments":"Segments","sidebar/geometry/lathe_geometry/phistart":"Phi start (\xB0)","sidebar/geometry/lathe_geometry/philength":"Phi length (\xB0)","sidebar/geometry/lathe_geometry/points":"Points","sidebar/geometry/plane_geometry/width":"Width","sidebar/geometry/plane_geometry/height":"Height","sidebar/geometry/plane_geometry/widthsegments":"Width segments","sidebar/geometry/plane_geometry/heightsegments":"Height segments","sidebar/geometry/ring_geometry/innerRadius":"Inner radius","sidebar/geometry/ring_geometry/outerRadius":"Outer radius","sidebar/geometry/ring_geometry/thetaSegments":"Theta segments","sidebar/geometry/ring_geometry/phiSegments":"Phi segments","sidebar/geometry/ring_geometry/thetastart":"Theta start","sidebar/geometry/ring_geometry/thetalength":"Theta length","sidebar/geometry/shape_geometry/curveSegments":"Curve Segments","sidebar/geometry/shape_geometry/extrude":"Extrude","sidebar/geometry/sphere_geometry/radius":"Radius","sidebar/geometry/sphere_geometry/widthsegments":"Width segments","sidebar/geometry/sphere_geometry/heightsegments":"Height segments","sidebar/geometry/sphere_geometry/phistart":"Phi start","sidebar/geometry/sphere_geometry/philength":"Phi length","sidebar/geometry/sphere_geometry/thetastart":"Theta start","sidebar/geometry/sphere_geometry/thetalength":"Theta length","sidebar/geometry/torus_geometry/radius":"Radius","sidebar/geometry/torus_geometry/tube":"Tube","sidebar/geometry/torus_geometry/radialsegments":"Radial segments","sidebar/geometry/torus_geometry/tubularsegments":"Tubular segments","sidebar/geometry/torus_geometry/arc":"Arc","sidebar/geometry/torusKnot_geometry/radius":"Radius","sidebar/geometry/torusKnot_geometry/tube":"Tube","sidebar/geometry/torusKnot_geometry/tubularsegments":"Tubular segments","sidebar/geometry/torusKnot_geometry/radialsegments":"Radial segments","sidebar/geometry/torusKnot_geometry/p":"P","sidebar/geometry/torusKnot_geometry/q":"Q","sidebar/geometry/tube_geometry/path":"Path","sidebar/geometry/tube_geometry/radius":"Radius","sidebar/geometry/tube_geometry/tube":"Tube","sidebar/geometry/tube_geometry/tubularsegments":"Tubular segments","sidebar/geometry/tube_geometry/radialsegments":"Radial segments","sidebar/geometry/tube_geometry/closed":"Closed","sidebar/geometry/tube_geometry/curvetype":"Curve Type","sidebar/geometry/tube_geometry/tension":"Tension","sidebar/material/new":"New","sidebar/material/copy":"Copy","sidebar/material/paste":"Paste","sidebar/material/slot":"Slot","sidebar/material/type":"Type","sidebar/material/uuid":"UUID","sidebar/material/name":"Name","sidebar/material/program":"Program","sidebar/material/info":"Info","sidebar/material/vertex":"Vert","sidebar/material/fragment":"Frag","sidebar/material/color":"Color","sidebar/material/depthPacking":"Depth Packing","sidebar/material/roughness":"Roughness","sidebar/material/metalness":"Metalness","sidebar/material/reflectivity":"Reflectivity","sidebar/material/emissive":"Emissive","sidebar/material/specular":"Specular","sidebar/material/shininess":"Shininess","sidebar/material/clearcoat":"Clearcoat","sidebar/material/clearcoatroughness":"Clearcoat Roughness","sidebar/material/transmission":"Transmission","sidebar/material/attenuationDistance":"Attenuation Distance","sidebar/material/attenuationColor":"Attenuation Color","sidebar/material/thickness":"Thickness","sidebar/material/vertexcolors":"Vertex Colors","sidebar/material/matcap":"Matcap","sidebar/material/map":"Map","sidebar/material/alphamap":"Alpha Map","sidebar/material/bumpmap":"Bump Map","sidebar/material/normalmap":"Normal Map","sidebar/material/clearcoatnormalmap":"Clearcoat Normal Map","sidebar/material/displacementmap":"Displace Map","sidebar/material/roughnessmap":"Rough. Map","sidebar/material/metalnessmap":"Metal. Map","sidebar/material/specularmap":"Specular Map","sidebar/material/envmap":"Env Map","sidebar/material/lightmap":"Light Map","sidebar/material/aomap":"AO Map","sidebar/material/emissivemap":"Emissive Map","sidebar/material/gradientmap":"Gradient Map","sidebar/material/side":"Side","sidebar/material/size":"Size","sidebar/material/sizeAttenuation":"Size Attenuation","sidebar/material/flatShading":"Flat Shading","sidebar/material/blending":"Blending","sidebar/material/opacity":"Opacity","sidebar/material/transparent":"Transparent","sidebar/material/alphatest":"Alpha Test","sidebar/material/depthtest":"Depth Test","sidebar/material/depthwrite":"Depth Write","sidebar/material/wireframe":"Wireframe","sidebar/material/userdata":"User data","sidebar/script":"Script","sidebar/script/new":"New","sidebar/script/edit":"Edit","sidebar/script/remove":"Remove","sidebar/project":"Project","sidebar/project/title":"Title","sidebar/project/editable":"Editable","sidebar/project/vr":"VR","sidebar/project/renderer":"Renderer","sidebar/project/antialias":"Antialias","sidebar/project/shadows":"Shadows","sidebar/project/physicallyCorrectLights":"Physical lights","sidebar/project/toneMapping":"Tone mapping","sidebar/project/materials":"Materials","sidebar/project/Assign":"Assign","sidebar/project/video":"Video","sidebar/project/resolution":"Resolution","sidebar/project/duration":"Duration","sidebar/project/render":"Render","sidebar/others":`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="none"
        viewBox="0 0 24 24"
      >
        <path
          stroke="#000"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"
        />
      </svg>`,"sidebar/outliner/fold":`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="22"
        height="20"
        fill="none"
        viewBox="0 0 22 20"
      >
        <path
          stroke="#000"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M21 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2v11Z"
        />
      </svg>`,"sidebar/outliner/unfold":`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="26"
        height="21"
        fill="none"
        viewBox="0 0 26 21"
      >
        <path
          stroke="#000"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M21 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2v11Z"
        />
        <path
          fill="#000"
          stroke="#fff"
          stroke-linecap="round"
          d="M7.678 7.5a1.5 1.5 0 0 0-1.483 1.275l-1.515 10A1.5 1.5 0 0 0 6.163 20.5h16.159a1.5 1.5 0 0 0 1.483-1.275l1.515-10A1.5 1.5 0 0 0 23.837 7.5H7.678Z"
        />
      </svg>`,"sidebar/outliner/lock":`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="none"
        viewBox="0 0 24 24"
      >
        <path
          stroke="#000"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M19 11H5a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2ZM7 11V7a5 5 0 1 1 10 0v4"
        />
      </svg>`,"sidebar/outliner/unlock":`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="25"
        height="25"
        fill="none"
        viewBox="0 0 25 25"
      >
        <path
          stroke="#000"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M19.164 11.2h-14a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2Zm-12 0v-4a5 5 0 0 1 9.9-1"
        />
      </svg>`,"sidebar/outliner/group":`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="none"
        viewBox="0 0 24 24"
      >
        <path
          stroke="#000"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2v11Zm-10-8v6m-3-3h6"
        />
      </svg>`,"sidebar/outliner/ungroup":`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="23"
        height="21"
        fill="none"
        viewBox="0 0 23 21"
      >
        <path
          stroke="#000"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M21.164 17.2a2 2 0 0 1-2 2h-16a2 2 0 0 1-2-2v-14a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2v11Zm-13-5h6"
        />
      </svg>`,"sidebar/trigger/open":`<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 26 26" fill="none">
    <circle cx="13.4492" cy="13.3936" r="12.5" transform="rotate(-90 13.4492 13.3936)" fill="url(#paint0_linear_727_58)"/>
    <path d="M11 18.5752L16.2876 13.2876L11 7.99994" stroke="#736E75" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`,"sidebar/trigger/close":`<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 26 26" fill="none">
    <circle cx="13.4492" cy="13.3936" r="12.5" transform="rotate(-90 13.4492 13.3936)" fill="url(#paint0_linear_727_58)"/>
    <path d="M15.2876 8L9.99997 13.2876L15.2876 18.5753" stroke="#736E75" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`,"sidebar/settings/language":"Language","sidebar/settings/shortcuts":"Shortcuts","sidebar/settings/shortcuts/translate":"Translate","sidebar/settings/shortcuts/rotate":"Rotate","sidebar/settings/shortcuts/scale":"Scale","sidebar/settings/shortcuts/undo":"Undo","sidebar/settings/shortcuts/focus":"Focus","sidebar/settings/viewport":"Viewport","sidebar/settings/viewport/grid":"Grid","sidebar/settings/viewport/helpers":"Helpers","sidebar/history":`<svg
        xmlns="http://www.w3.org/2000/svg"
        width="19"
        height="21"
        fill="none"
        viewBox="0 0 19 21"
      >
        <g clip-path="url(#a)">
          <path
            fill="#000"
            d="M1 0a1 1 0 0 0-1 1v19a1 1 0 0 0 1 1h6.141a1 1 0 0 0 1-1V8.828c0-.026-.02-.052-.046-.052-.957-.135-1.757-.106-2.212.065a.8.8 0 0 0-.13.066 3.257 3.257 0 0 1-1.682.47C2.19 9.377.655 7.775.655 5.812c0-1.964 1.535-3.565 3.416-3.565 1.357 0 2.531.83 3.083 2.021.01.015.028.035.066.054.093.054.252.132.468.22a.33.33 0 0 0 .453-.308V1a1 1 0 0 0-1-1H1Zm3.07 3.126c-1.422 0-2.573 1.201-2.573 2.686 0 1.484 1.151 2.686 2.574 2.686.5 0 .959-.147 1.352-.4l.028-.02.028-.015c.716-.322 1.652-.313 2.728-.161 1.08.156 2.302.469 3.537.86 2.466.786 4.979 1.875 6.42 2.612.421.22.57.156.664.073.094-.083.192-.332.169-.693-.052-.718-.562-1.695-1.512-2.002-3.663-1.197-6.32-2.052-8.094-2.657a35.686 35.686 0 0 1-2.017-.738 4.33 4.33 0 0 1-.561-.268c-.15-.083-.281-.117-.393-.381-.407-.933-1.301-1.582-2.35-1.582Zm0 8.937c.828 0 1.498.7 1.498 1.563 0 .275-.071.542-.2.776-.17.307-.323.647-.267.993l.282 1.76a1 1 0 0 1-.988 1.159h-.649a1 1 0 0 1-.987-1.158l.282-1.76c.055-.347-.098-.687-.267-.995-.13-.233-.2-.5-.2-.775 0-.863.67-1.563 1.497-1.563Z"
          />
        </g>
        <defs>
          <clipPath id="a">
            <path fill="#fff" d="M0 0h19v21H0z" />
          </clipPath>
        </defs>
      </svg>`,"sidebar/history/persistent":"persistent","toolbar/translate":"Translate","toolbar/rotate":"Rotate","toolbar/scale":"Scale","toolbar/local":"Local","viewport/info/objects":"Objects","viewport/info/vertices":"Vertices","viewport/info/triangles":"Triangles","viewport/info/frametime":"Frametime"};return{getKey:function(i){return document.createRange().createContextualFragment(t[i]).firstChild||"???"}}}class Ys{constructor(t){this.dom=t}add(){for(let t=0;t<arguments.length;t++){const i=arguments[t];i instanceof Ys?this.dom.appendChild(i.dom):console.error("UIElement:",i,"is not an instance of UIElement.")}return this}remove(){for(let t=0;t<arguments.length;t++){const i=arguments[t];i instanceof Ys?this.dom.removeChild(i.dom):console.error("UIElement:",i,"is not an instance of UIElement.")}return this}clear(){for(;this.dom.children.length;)this.dom.removeChild(this.dom.lastChild)}setId(t){return this.dom.id=t,this}getId(){return this.dom.id}setClass(t){return this.dom.className=t,this}getClass(){return this.dom.className}addClass(t){return this.dom.classList.add(t),this}removeClass(t){return this.dom.classList.remove(t),this}setStyle(t,i){for(let s=0;s<i.length;s++)this.dom.style[t]=i[s];return this}setDisabled(t){return this.dom.disabled=t,this}setTextContent(t){return this.dom.textContent=t,this}setInnerHTML(t){this.dom.innerHTML=t}getIndexOfChild(t){return Array.prototype.indexOf.call(this.dom.children,t.dom)}}const yq=["position","left","top","right","bottom","width","height","display","verticalAlign","overflow","color","background","backgroundColor","opacity","border","borderLeft","borderTop","borderRight","borderBottom","borderColor","margin","marginLeft","marginTop","marginRight","marginBottom","padding","paddingLeft","paddingTop","paddingRight","paddingBottom","fontSize","fontWeight","textAlign","textDecoration","textTransform","cursor","zIndex"];yq.forEach(function(l){const t="set"+l.substr(0,1).toUpperCase()+l.substr(1,l.length);Ys.prototype[t]=function(){return this.setStyle(l,arguments),this}});const Aq=["KeyUp","KeyDown","MouseOver","MouseOut","Click","DblClick","Change","Input"];Aq.forEach(function(l){const t="on"+l;Ys.prototype[t]=function(i){return this.dom.addEventListener(l.toLowerCase(),i.bind(this)),this}});class l2 extends Ys{constructor(){super(document.createElement("span"))}}class ea extends Ys{constructor(){super(document.createElement("div"))}}class Ci extends ea{constructor(){super(),this.dom.className="Row"}}class on extends ea{constructor(){super(),this.dom.className="Panel"}}class dr extends l2{constructor(t){super(),this.dom.className="Text",this.dom.style.cursor="default",this.dom.style.display="inline-block",this.setValue(t)}getValue(){return this.dom.textContent}setValue(t){return t!==void 0&&(this.dom.textContent=t),this}}class Eu extends Ys{constructor(t){super(document.createElement("input")),this.dom.className="Input",this.dom.style.padding="2px",this.dom.style.border="1px solid transparent",this.dom.setAttribute("autocomplete","off"),this.dom.addEventListener("keydown",function(i){i.stopPropagation()}),this.setValue(t)}getValue(){return this.dom.value}setValue(t){return this.dom.value=t,this}}class G8 extends Ys{constructor(){super(document.createElement("textarea")),this.dom.className="TextArea",this.dom.style.padding="2px",this.dom.spellcheck=!1,this.dom.setAttribute("autocomplete","off"),this.dom.addEventListener("keydown",function(t){if(t.stopPropagation(),t.keyCode===9){t.preventDefault();const i=this.selectionStart;this.value=this.value.substring(0,i)+"	"+this.value.substring(i),this.selectionStart=i+1,this.selectionEnd=this.selectionStart}})}getValue(){return this.dom.value}setValue(t){return this.dom.value=t,this}}class Ra extends Ys{constructor(){super(document.createElement("select")),this.dom.className="Select",this.dom.style.padding="2px",this.dom.setAttribute("autocomplete","off")}setMultiple(t){return this.dom.multiple=t,this}setOptions(t){const i=this.dom.value;for(;this.dom.children.length>0;)this.dom.removeChild(this.dom.firstChild);for(const s in t){const u=document.createElement("option");u.value=s,u.innerHTML=t[s],this.dom.appendChild(u)}return this.dom.value=i,this}getValue(){return this.dom.value}setValue(t){return t=String(t),this.dom.value!==t&&(this.dom.value=t),this}}class Rh extends Ys{constructor(t){super(document.createElement("input")),this.dom.className="Checkbox",this.dom.type="checkbox",this.setValue(t)}getValue(){return this.dom.checked}setValue(t){return t!==void 0&&(this.dom.checked=t),this}}class Bh extends Ys{constructor(){super(document.createElement("input")),this.dom.className="Color",this.dom.style.width="32px",this.dom.style.height="18px",this.dom.style.border="1px solid #888",this.dom.style.padding="0px",this.dom.style.backgroundColor="transparent",this.dom.setAttribute("autocomplete","off");try{this.dom.type="color",this.dom.value="#ffffff"}catch(t){console.log(t)}}getValue(){return this.dom.value}getHexValue(){return parseInt(this.dom.value.substr(1),16)}setValue(t){return this.dom.value=t,this}setHexValue(t){return t&&(this.dom.value="#"+("000000"+t.toString(16)).slice(-6)),this}}class a0 extends Ys{constructor(t){super(document.createElement("input")),this.dom.style.cursor="ns-resize",this.dom.className="Number",this.dom.value="0.00",this.dom.setAttribute("autocomplete","off"),this.value=0,this.min=-1/0,this.max=1/0,this.precision=2,this.step=1,this.snap=1,this.unit="",this.nudge=.01,this.setValue(t);const i=this,s=document.createEvent("HTMLEvents");s.initEvent("change",!0,!0);let u=0,p=0;const y={x:0,y:0},A={x:0,y:0};function E(ee){ee.preventDefault(),u=0,p=i.value,A.x=ee.clientX,A.y=ee.clientY,document.addEventListener("mousemove",_),document.addEventListener("mouseup",k)}function _(ee){const ue=i.value;y.x=ee.clientX,y.y=ee.clientY,u+=y.x-A.x-(y.y-A.y);let oe=p+u/(ee.shiftKey?5:50)*i.step;oe=Math.min(i.max,Math.max(i.min,oe)),ue!==oe&&(i.setValue(oe),i.dom.dispatchEvent(s)),A.x=ee.clientX,A.y=ee.clientY}function k(){document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",k),Math.abs(u)<2&&(i.dom.focus(),i.dom.select())}function R(ee){ee.touches.length===1&&(u=0,p=i.value,A.x=ee.touches[0].pageX,A.y=ee.touches[0].pageY,document.addEventListener("touchmove",P),document.addEventListener("touchend",B))}function P(ee){const ue=i.value;y.x=ee.touches[0].pageX,y.y=ee.touches[0].pageY,u+=y.x-A.x-(y.y-A.y);let oe=p+u/(ee.shiftKey?5:50)*i.step;oe=Math.min(i.max,Math.max(i.min,oe)),ue!==oe&&(i.setValue(oe),i.dom.dispatchEvent(s)),A.x=ee.touches[0].pageX,A.y=ee.touches[0].pageY}function B(ee){ee.touches.length===0&&(document.removeEventListener("touchmove",P),document.removeEventListener("touchend",B))}function O(){i.setValue(i.dom.value)}function H(){i.dom.style.backgroundColor="",i.dom.style.cursor=""}function z(){i.dom.style.backgroundColor="transparent",i.dom.style.cursor="ns-resize"}function Y(ee){switch(ee.stopPropagation(),ee.keyCode){case 13:i.dom.blur();break;case 38:ee.preventDefault(),i.setValue(i.getValue()+i.nudge),i.dom.dispatchEvent(s);break;case 40:ee.preventDefault(),i.setValue(i.getValue()-i.nudge),i.dom.dispatchEvent(s);break}}z(),this.dom.addEventListener("keydown",Y),this.dom.addEventListener("mousedown",E),this.dom.addEventListener("touchstart",R),this.dom.addEventListener("change",O),this.dom.addEventListener("focus",H),this.dom.addEventListener("blur",z)}getValue(){return this.value}setValue(t){return t!==void 0&&(t=parseFloat(t),t<this.min&&(t=this.min),t>this.max&&(t=this.max),t=Math.round(t/this.snap)*this.snap,this.value=t,this.dom.value=t.toFixed(this.precision),this.unit!==""&&(this.dom.value+=" "+this.unit)),this}setPrecision(t){return this.precision=t,this}setStep(t){return this.step=t,this}setSnap(t){return this.snap=t,this}setNudge(t){return this.nudge=t,this}setRange(t,i){return this.min=t,this.max=i,this}setUnit(t){return this.unit=t,this}}class pa extends Ys{constructor(t,i){super(document.createElement("span")),this.dom.insertBefore(rs().getKey(t),super.firstChild),this.dom.style.cursor="pointer",this.dom.className="Icon",this.dom.setAttribute("autocomplete","off");function s(u){u.preventDefault(),i()}this.dom.addEventListener("mousedown",s)}getValue(){return this.value}setValue(t){return t!==void 0&&(t=parseFloat(t),t<this.min&&(t=this.min),t>this.max&&(t=this.max),t=Math.round(t/this.snap)*this.snap,this.value=t,this.dom.value=t.toFixed(this.precision),this.unit!==""&&(this.dom.value+=" "+this.unit)),this}setPrecision(t){return this.precision=t,this}setStep(t){return this.step=t,this}setSnap(t){return this.snap=t,this}setNudge(t){return this.nudge=t,this}setRange(t,i){return this.min=t,this.max=i,this}setUnit(t){return this.unit=t,this}}class og extends Ys{constructor(t){super(document.createElement("input")),this.dom.style.cursor="ns-resize",this.dom.className="Number",this.dom.value="0",this.dom.setAttribute("autocomplete","off"),this.value=0,this.min=-1/0,this.max=1/0,this.step=1,this.nudge=1,this.setValue(t);const i=this,s=document.createEvent("HTMLEvents");s.initEvent("change",!0,!0);let u=0,p=0;const y={x:0,y:0},A={x:0,y:0};function E(H){H.preventDefault(),u=0,p=i.value,A.x=H.clientX,A.y=H.clientY,document.addEventListener("mousemove",_),document.addEventListener("mouseup",k)}function _(H){const z=i.value;y.x=H.clientX,y.y=H.clientY,u+=y.x-A.x-(y.y-A.y);let Y=p+u/(H.shiftKey?5:50)*i.step;Y=Math.min(i.max,Math.max(i.min,Y))|0,z!==Y&&(i.setValue(Y),i.dom.dispatchEvent(s)),A.x=H.clientX,A.y=H.clientY}function k(){document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",k),Math.abs(u)<2&&(i.dom.focus(),i.dom.select())}function R(){i.setValue(i.dom.value)}function P(){i.dom.style.backgroundColor="",i.dom.style.cursor=""}function B(){i.dom.style.backgroundColor="transparent",i.dom.style.cursor="ns-resize"}function O(H){switch(H.stopPropagation(),H.keyCode){case 13:i.dom.blur();break;case 38:H.preventDefault(),i.setValue(i.getValue()+i.nudge),i.dom.dispatchEvent(s);break;case 40:H.preventDefault(),i.setValue(i.getValue()-i.nudge),i.dom.dispatchEvent(s);break}}B(),this.dom.addEventListener("keydown",O),this.dom.addEventListener("mousedown",E),this.dom.addEventListener("change",R),this.dom.addEventListener("focus",P),this.dom.addEventListener("blur",B)}getValue(){return this.value}setValue(t){return t!==void 0&&(t=parseInt(t),this.value=t,this.dom.value=t),this}setStep(t){return this.step=parseInt(t),this}setNudge(t){return this.nudge=t,this}setRange(t,i){return this.min=t,this.max=i,this}}class pE extends Ys{constructor(){super(document.createElement("br")),this.dom.className="Break"}}class mE extends Ys{constructor(){super(document.createElement("hr")),this.dom.className="HorizontalRule"}}class Xa extends Ys{constructor(t){super(document.createElement("button")),this.dom.className="Button",this.dom.textContent=t}}class vq extends Ys{constructor(t){super(document.createElement("progress")),this.dom.value=t}setValue(t){this.dom.value=t}}class fB extends ea{constructor(){super(),this.dom.className="TabbedPanel",this.tabs=[],this.panels=[],this.tabsDiv=new ea,this.tabsDiv.setClass("Tabs"),this.panelsDiv=new ea,this.panelsDiv.setClass("Panels"),this.add(this.tabsDiv),this.add(this.panelsDiv),this.selected=""}select(t){let i,s;const u=this;return this.selected&&this.selected.length&&(i=this.tabs.find(function(p){return p.dom.id===u.selected}),s=this.panels.find(function(p){return p.dom.id===u.selected}),i&&i.removeClass("selected"),s&&s.setDisplay("none")),i=this.tabs.find(function(p){return p.dom.id===t}),s=this.panels.find(function(p){return p.dom.id===t}),i&&i.addClass("selected"),s&&s.setDisplay(""),this.selected=t,this}addTab(t,i,s){const u=new xq(i,this);u.setId(t),this.tabs.push(u),this.tabsDiv.add(u);const p=new ea;p.setId(t),p.add(s),p.setDisplay("none"),this.panels.push(p),this.panelsDiv.add(p),this.select(t)}}class wq extends ea{constructor(t){super(),this.dom.className="Popup",this.headerText=new dr,this.headerText.setValue("Published!"),this.header=new ea,this.header.setClass("Header"),this.header.add(this.headerText),this.add(this.header),this.contentText=new dr,this.contentText.setValue("This room ID is "+window.assignmentSceneName),this.content=new ea,this.content.setClass("Content"),this.content.add(this.contentText),this.add(this.content),this.setDisplay("none");const i=this;t.signals.publishClicked.add(function(s,u){i.publish_dummy(s,u)})}show(){const t=setTimeout(()=>{this.setDisplay(""),clearTimeout(t),this.hide()},2e3)}hide(){const t=setTimeout(()=>{this.setDisplay("none"),clearTimeout(t)},4e3)}publish_dummy(t,i){this.setDisplay(""),this.headerText.setValue(t),this.contentText.setValue(i);const s=setTimeout(()=>{clearTimeout(s),this.headerText.setValue("Your room is being uploaded to the server!"),this.contentText.setValue("Please wait with patience."),this.hide()},500)}}class xq extends dr{constructor(t,i){super(t),this.dom.className="Tab",this.parent=i;const s=this;this.dom.addEventListener("click",function(){s.parent.select(s.dom.id)})}}function s4(l,t){this.enabled=!0,this.center=new wt,this.panSpeed=.002,this.zoomSpeed=.1,this.rotationSpeed=.005;var i=this,s=new wt,u=new wt,p=new ia,y={NONE:-1,ROTATE:0,ZOOM:1,PAN:2},A=y.NONE,E=this.center,_=new qs,k=new Yi,R=new Yi,P=new cR,B=new Mu,O={type:"change"};this.focus=function(we){var le;p.setFromObject(we),p.isEmpty()===!1?(p.getCenter(E),le=p.getBoundingSphere(B).radius):(E.setFromMatrixPosition(we.matrixWorld),le=.1),u.set(0,0,1),u.applyQuaternion(l.quaternion),u.multiplyScalar(le*4),l.position.copy(E).add(u),i.dispatchEvent(O)},this.pan=function(we){var le=l.position.distanceTo(E);we.multiplyScalar(le*i.panSpeed),we.applyMatrix3(_.getNormalMatrix(l.matrix)),l.position.add(we),E.add(we),i.dispatchEvent(O)},this.zoom=function(we){var le=l.position.distanceTo(E);we.multiplyScalar(le*i.zoomSpeed),!(we.length()>le)&&(we.applyMatrix3(_.getNormalMatrix(l.matrix)),l.position.add(we),i.dispatchEvent(O))},this.rotate=function(we){s.copy(l.position).sub(E),P.setFromVector3(s),P.theta+=we.x*i.rotationSpeed,P.phi+=we.y*i.rotationSpeed,P.makeSafe(),s.setFromSpherical(P),l.position.copy(E).add(s),l.lookAt(E),i.dispatchEvent(O)};function H(we){if(i.enabled!==!1){switch(we.pointerType){case"mouse":case"pen":ee(we);break}t.ownerDocument.addEventListener("pointermove",z),t.ownerDocument.addEventListener("pointerup",Y)}}function z(we){if(i.enabled!==!1)switch(we.pointerType){case"mouse":case"pen":ue(we);break}}function Y(we){switch(we.pointerType){case"mouse":case"pen":oe();break}t.ownerDocument.removeEventListener("pointermove",z),t.ownerDocument.removeEventListener("pointerup",Y)}function ee(we){we.button===0?A=y.ROTATE:we.button===1?A=y.ZOOM:we.button===2&&(A=y.PAN),R.set(we.clientX,we.clientY)}function ue(we){k.set(we.clientX,we.clientY);var le=k.x-R.x,ie=k.y-R.y;A===y.ROTATE?i.rotate(u.set(-le,-ie,0)):A===y.ZOOM?i.zoom(u.set(0,0,ie)):A===y.PAN&&i.pan(u.set(-le,ie,0)),R.set(we.clientX,we.clientY)}function oe(){A=y.NONE}function Ae(we){i.enabled!==!1&&(we.preventDefault(),i.zoom(u.set(0,0,we.deltaY>0?1:-1)))}function be(we){we.preventDefault()}this.dispose=function(){t.removeEventListener("contextmenu",be),t.removeEventListener("dblclick",oe),t.removeEventListener("wheel",Ae),t.removeEventListener("pointerdown",H),t.removeEventListener("touchstart",ye),t.removeEventListener("touchmove",ge)},t.addEventListener("contextmenu",be),t.addEventListener("dblclick",oe),t.addEventListener("wheel",Ae),t.addEventListener("pointerdown",H);var xe=[new wt,new wt,new wt],ne=[new wt,new wt,new wt],ae=null;function ye(we){if(i.enabled!==!1){switch(we.touches.length){case 1:xe[0].set(we.touches[0].pageX,we.touches[0].pageY,0).divideScalar(window.devicePixelRatio),xe[1].set(we.touches[0].pageX,we.touches[0].pageY,0).divideScalar(window.devicePixelRatio);break;case 2:xe[0].set(we.touches[0].pageX,we.touches[0].pageY,0).divideScalar(window.devicePixelRatio),xe[1].set(we.touches[1].pageX,we.touches[1].pageY,0).divideScalar(window.devicePixelRatio),ae=xe[0].distanceTo(xe[1]);break}ne[0].copy(xe[0]),ne[1].copy(xe[1])}}function ge(we){if(i.enabled===!1)return;we.preventDefault(),we.stopPropagation();function le(Se,Be){var Le=Be[0];for(var nt in Be)Le.distanceTo(Se)>Be[nt].distanceTo(Se)&&(Le=Be[nt]);return Le}switch(we.touches.length){case 1:xe[0].set(we.touches[0].pageX,we.touches[0].pageY,0).divideScalar(window.devicePixelRatio),xe[1].set(we.touches[0].pageX,we.touches[0].pageY,0).divideScalar(window.devicePixelRatio),i.rotate(xe[0].sub(le(xe[0],ne)).multiplyScalar(-1));break;case 2:xe[0].set(we.touches[0].pageX,we.touches[0].pageY,0).divideScalar(window.devicePixelRatio),xe[1].set(we.touches[1].pageX,we.touches[1].pageY,0).divideScalar(window.devicePixelRatio);var ie=xe[0].distanceTo(xe[1]);i.zoom(u.set(0,0,ae-ie)),ae=ie;var he=xe[0].clone().sub(le(xe[0],ne)),de=xe[1].clone().sub(le(xe[1],ne));he.x=-he.x,de.x=-de.x,i.pan(he.add(de));break}ne[0].copy(xe[0]),ne[1].copy(xe[1])}t.addEventListener("touchstart",ye),t.addEventListener("touchmove",ge)}s4.prototype=Object.create(cc.prototype);s4.prototype.constructor=s4;function Eq(l){const t=l.signals;l.strings;const i=new on;i.setId("info"),i.setPosition("absolute"),i.setLeft("10px"),i.setBottom("10px"),i.setFontSize("12px"),i.setColor("#fff");const s=new dr("0").setMarginLeft("6px"),u=new dr("0").setMarginLeft("6px"),p=new dr("0").setMarginLeft("6px"),y=new dr("0").setMarginLeft("6px");t.objectAdded.add(A),t.objectRemoved.add(A),t.geometryChanged.add(A);function A(){const _=l.scene;let k=0,R=0,P=0;for(let B=0,O=_.children.length;B<O;B++)_.children[B].traverseVisible(function(z){if(k++,z.isMesh){const Y=z.geometry;R+=Y.attributes.position.count,Y.index!==null?P+=Y.index.count/3:P+=Y.attributes.position.count/3}});s.setValue(k.format()),u.setValue(R.format()),p.setValue(P.format())}t.sceneRendered.add(E);function E(_){y.setValue(Number(_).toFixed(2)+" ms")}return i}const Qm=new V0;class uB extends Rn{constructor(t,i){super(),this.animating=!1,this.controls=null;const s=new _r("#ff3653"),u=new _r("#8adb00"),p=new _r("#2c8fff"),y=[],A=new eb,E=new Yi,_=new Rn,k=new Lh(-2,2,2,-2,0,4);k.position.set(0,0,2);const R=new fs(.8,.05,.05).translate(.4,0,0),P=new ir(R,ie(s)),B=new ir(R,ie(u)),O=new ir(R,ie(p));B.rotation.z=Math.PI/2,O.rotation.y=-Math.PI/2,this.add(P),this.add(O),this.add(B);const H=new Mf(he(s,"X"));H.userData.type="posX";const z=new Mf(he(u,"Y"));z.userData.type="posY";const Y=new Mf(he(p,"Z"));Y.userData.type="posZ";const ee=new Mf(he(s));ee.userData.type="negX";const ue=new Mf(he(u));ue.userData.type="negY";const oe=new Mf(he(p));oe.userData.type="negZ",H.position.x=1,z.position.y=1,Y.position.z=1,ee.position.x=-1,ee.scale.setScalar(.8),ue.position.y=-1,ue.scale.setScalar(.8),oe.position.z=-1,oe.scale.setScalar(.8),this.add(H),this.add(z),this.add(Y),this.add(ee),this.add(ue),this.add(oe),y.push(H),y.push(z),y.push(Y),y.push(ee),y.push(ue),y.push(oe);const Ae=new wt,be=128,xe=2*Math.PI;this.render=function(de){this.quaternion.copy(t.quaternion).invert(),this.updateMatrixWorld(),Ae.set(0,0,1),Ae.applyQuaternion(t.quaternion),Ae.x>=0?(H.material.opacity=1,ee.material.opacity=.5):(H.material.opacity=.5,ee.material.opacity=1),Ae.y>=0?(z.material.opacity=1,ue.material.opacity=.5):(z.material.opacity=.5,ue.material.opacity=1),Ae.z>=0?(Y.material.opacity=1,oe.material.opacity=.5):(Y.material.opacity=.5,oe.material.opacity=1);const Se=i.offsetWidth-be;de.clearDepth(),de.getViewport(Qm),de.setViewport(Se,0,be,be),de.render(this,k),de.setViewport(Qm.x,Qm.y,Qm.z,Qm.w)};const ne=new wt,ae=new D0,ye=new D0,ge=new D0;let we=0;this.handleClick=function(de){if(this.animating===!0)return!1;const Se=i.getBoundingClientRect(),Be=Se.left+(i.offsetWidth-be),Le=Se.top+(i.offsetHeight-be);E.x=(de.clientX-Be)/(Se.width-Be)*2-1,E.y=-((de.clientY-Le)/(Se.bottom-Le))*2+1,A.setFromCamera(E,k);const nt=A.intersectObjects(y);if(nt.length>0){const ce=nt[0].object;return le(ce,this.controls.center),this.animating=!0,!0}else return!1},this.update=function(de){const Se=de*xe,Be=this.controls.center;ye.rotateTowards(ge,Se),t.position.set(0,0,1).applyQuaternion(ye).multiplyScalar(we).add(Be),t.quaternion.rotateTowards(ae,Se),ye.angleTo(ge)===0&&(this.animating=!1)};function le(de,Se){switch(de.userData.type){case"posX":ne.set(1,0,0),ae.setFromEuler(new ao(0,Math.PI*.5,0));break;case"posY":ne.set(0,1,0),ae.setFromEuler(new ao(-Math.PI*.5,0,0));break;case"posZ":ne.set(0,0,1),ae.setFromEuler(new ao);break;case"negX":ne.set(-1,0,0),ae.setFromEuler(new ao(0,-Math.PI*.5,0));break;case"negY":ne.set(0,-1,0),ae.setFromEuler(new ao(Math.PI*.5,0,0));break;case"negZ":ne.set(0,0,-1),ae.setFromEuler(new ao(0,Math.PI,0));break;default:console.error("ViewHelper: Invalid axis.")}we=t.position.distanceTo(Se),ne.multiplyScalar(we).add(Se),_.position.copy(Se),_.lookAt(t.position),ye.copy(_.quaternion),_.lookAt(ne),ge.copy(_.quaternion)}function ie(de){return new Us({color:de,toneMapped:!1})}function he(de,Se=null){const Be=document.createElement("canvas");Be.width=64,Be.height=64;const Le=Be.getContext("2d");Le.beginPath(),Le.arc(32,32,16,0,2*Math.PI),Le.closePath(),Le.fillStyle=de.getStyle(),Le.fill(),Se!==null&&(Le.font="24px Arial",Le.textAlign="center",Le.fillStyle="#000000",Le.fillText(Se,32,41));const nt=new Xg(Be);return new r2({map:nt,toneMapped:!1})}}}uB.prototype.isViewHelper=!0;class _q extends uB{constructor(t,i){super(t,i.dom);const s=new on;s.setId("viewHelper"),s.setPosition("absolute"),s.setRight("0px"),s.setBottom("0px"),s.setHeight("128px"),s.setWidth("128px"),s.dom.addEventListener("pointerup",u=>{u.stopPropagation(),this.handleClick(u)}),s.dom.addEventListener("pointerdown",function(u){u.stopPropagation()}),i.add(s)}}class kq extends ir{constructor(t){const i=new Cq(t),s=new $o(i.image.width*.001,i.image.height*.001),u=new Us({map:i,toneMapped:!1});super(s,u);function p(y){u.map.dispatchDOMEvent(y)}this.addEventListener("mousedown",p),this.addEventListener("mousemove",p),this.addEventListener("mouseup",p),this.addEventListener("click",p),this.dispose=function(){s.dispose(),u.dispose(),u.map.dispose(),this.removeEventListener("mousedown",p),this.removeEventListener("mousemove",p),this.removeEventListener("mouseup",p),this.removeEventListener("click",p)}}}class Cq extends Xg{constructor(t){super(MT(t)),this.dom=t,this.anisotropy=16,this.encoding=b0,this.minFilter=Es,this.magFilter=Es;const i=new MutationObserver(()=>{this.scheduleUpdate||(this.scheduleUpdate=setTimeout(()=>this.update(),16))}),s={attributes:!0,childList:!0,subtree:!0,characterData:!0};i.observe(t,s),this.observer=i}dispatchDOMEvent(t){t.data&&Sq(this.dom,t.type,t.data.x,t.data.y)}update(){this.image=MT(this.dom),this.needsUpdate=!0,this.scheduleUpdate=null}dispose(){this.observer&&this.observer.disconnect(),this.scheduleUpdate=clearTimeout(this.scheduleUpdate),super.dispose()}}const TT=new WeakMap;function MT(l){const t=document.createRange();function i(k){const R=[];let P=!1;function B(){if(P&&(P=!1,k.restore()),R.length===0)return;let O=-1/0,H=-1/0,z=1/0,Y=1/0;for(let ee=0;ee<R.length;ee++){const ue=R[ee];O=Math.max(O,ue.x),H=Math.max(H,ue.y),z=Math.min(z,ue.x+ue.width),Y=Math.min(Y,ue.y+ue.height)}k.save(),k.beginPath(),k.rect(O,H,z-O,Y-H),k.clip(),P=!0}return{add:function(O){R.push(O),B()},remove:function(){R.pop(),B()}}}function s(k,R,P,B){B!==""&&(k.textTransform==="uppercase"&&(B=B.toUpperCase()),E.font=k.fontSize+" "+k.fontFamily,E.textBaseline="top",E.fillStyle=k.color,E.fillText(B,R,P))}function u(k,R,P,B,O,H){const z=k[R+"Width"],Y=k[R+"Style"],ee=k[R+"Color"];z!=="0px"&&Y!=="none"&&ee!=="transparent"&&ee!=="rgba(0, 0, 0, 0)"&&(E.strokeStyle=ee,E.beginPath(),E.moveTo(P,B),E.lineTo(P+O,B+H),E.stroke())}function p(k,R){let P=0,B=0,O=0,H=0;if(k.nodeType===Node.TEXT_NODE){t.selectNode(k);const Y=t.getBoundingClientRect();P=Y.left-y.left-.5,B=Y.top-y.top-.5,O=Y.width,H=Y.height,s(R,P,B,k.nodeValue.trim())}else{if(k.nodeType===Node.COMMENT_NODE)return;if(k instanceof HTMLCanvasElement){if(k.style.display==="none")return;E.save();const Y=window.devicePixelRatio;E.scale(1/Y,1/Y),E.drawImage(k,0,0),E.restore()}else{if(k.style.display==="none")return;const Y=k.getBoundingClientRect();P=Y.left-y.left-.5,B=Y.top-y.top-.5,O=Y.width,H=Y.height,R=window.getComputedStyle(k);const ee=R.backgroundColor;ee!=="transparent"&&ee!=="rgba(0, 0, 0, 0)"&&(E.fillStyle=ee,E.fillRect(P,B,O,H)),u(R,"borderTop",P,B,O,0),u(R,"borderLeft",P,B,0,H),u(R,"borderBottom",P,B+H,O,0),u(R,"borderRight",P+O,B,0,H),(k.type==="color"||k.type==="text"||k.type==="number")&&(_.add({x:P,y:B,width:O,height:H}),s(R,P+parseInt(R.paddingLeft),B+parseInt(R.paddingTop),k.value),_.remove())}}const z=R.overflow==="auto"||R.overflow==="hidden";z&&_.add({x:P,y:B,width:O,height:H});for(let Y=0;Y<k.childNodes.length;Y++)p(k.childNodes[Y],R);z&&_.remove()}const y=l.getBoundingClientRect();let A;TT.has(l)?A=TT.get(l):(A=document.createElement("canvas"),A.width=y.width,A.height=y.height);const E=A.getContext("2d"),_=new i(E);return p(l),A}function Sq(l,t,i,s){const u={clientX:i*l.offsetWidth+l.offsetLeft,clientY:s*l.offsetHeight+l.offsetTop,view:l.ownerDocument.defaultView};window.dispatchEvent(new MouseEvent(t,u));const p=l.getBoundingClientRect();i=i*p.width+p.left,s=s*p.height+p.top;function y(A){if(A.nodeType!==Node.TEXT_NODE&&A.nodeType!==Node.COMMENT_NODE){const E=A.getBoundingClientRect();i>E.left&&i<E.right&&s>E.top&&s<E.bottom&&A.dispatchEvent(new MouseEvent(t,u));for(let _=0;_<A.childNodes.length;_++)y(A.childNodes[_])}}y(l)}const Lv=new Yi,dp={type:"",data:Lv};class Tq extends xl{constructor(t,i){super();const s=this,u=new eb,p=new Jr,y=t.domElement;function A(P){P.stopPropagation(),Lv.x=P.clientX/y.clientWidth*2-1,Lv.y=-(P.clientY/y.clientHeight)*2+1,u.setFromCamera(Lv,i);const B=u.intersectObjects(s.children,!1);if(B.length>0){const O=B[0],H=O.object,z=O.uv;dp.type=P.type,dp.data.set(z.x,1-z.y),H.dispatchEvent(dp)}}y.addEventListener("pointerdown",A),y.addEventListener("pointerup",A),y.addEventListener("pointermove",A),y.addEventListener("mousedown",A),y.addEventListener("mouseup",A),y.addEventListener("mousemove",A),y.addEventListener("click",A);const E={move:"mousemove",select:"click",selectstart:"mousedown",selectend:"mouseup"};function _(P){const B=P.target;p.identity().extractRotation(B.matrixWorld),u.ray.origin.setFromMatrixPosition(B.matrixWorld),u.ray.direction.set(0,0,-1).applyMatrix4(p);const O=u.intersectObjects(s.children,!1);if(O.length>0){const H=O[0],z=H.object,Y=H.uv;dp.type=E[P.type],dp.data.set(Y.x,1-Y.y),z.dispatchEvent(dp)}}const k=t.xr.getController(0);k.addEventListener("move",_),k.addEventListener("select",_),k.addEventListener("selectstart",_),k.addEventListener("selectend",_);const R=t.xr.getController(1);R.addEventListener("move",_),R.addEventListener("select",_),R.addEventListener("selectstart",_),R.addEventListener("selectend",_)}}class cB extends ga{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(i){return new Dq(i)}),this.register(function(i){return new Uq(i)}),this.register(function(i){return new Vq(i)}),this.register(function(i){return new Lq(i)}),this.register(function(i){return new Nq(i)}),this.register(function(i){return new Fq(i)}),this.register(function(i){return new Oq(i)}),this.register(function(i){return new Iq(i)}),this.register(function(i){return new Hq(i)}),this.register(function(i){return new Pq(i)}),this.register(function(i){return new Rq(i)}),this.register(function(i){return new jq(i)}),this.register(function(i){return new Gq(i)})}load(t,i,s,u){const p=this;let y;this.resourcePath!==""?y=this.resourcePath:this.path!==""?y=this.path:y=Cl.extractUrlBase(t),this.manager.itemStart(t);const A=function(_){u?u(_):console.error(_),p.manager.itemError(t),p.manager.itemEnd(t)},E=new Pa(this.manager);E.setPath(this.path),E.setResponseType("arraybuffer"),E.setRequestHeader(this.requestHeader),E.setWithCredentials(this.withCredentials),E.load(t,function(_){try{p.parse(_,y,function(k){i(k),p.manager.itemEnd(t)},A)}catch(k){A(k)}},s,A)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return this.pluginCallbacks.indexOf(t)===-1&&this.pluginCallbacks.push(t),this}unregister(t){return this.pluginCallbacks.indexOf(t)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,i,s,u){let p;const y={},A={};if(typeof t=="string")p=JSON.parse(t);else if(t instanceof ArrayBuffer)if(Cl.decodeText(new Uint8Array(t,0,4))===hB){try{y[I0.KHR_BINARY_GLTF]=new zq(t)}catch(k){u&&u(k);return}p=JSON.parse(y[I0.KHR_BINARY_GLTF].content)}else p=JSON.parse(Cl.decodeText(new Uint8Array(t)));else p=t;if(p.asset===void 0||p.asset.version[0]<2){u&&u(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const E=new rZ(p,{path:i||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});E.fileLoader.setRequestHeader(this.requestHeader);for(let _=0;_<this.pluginCallbacks.length;_++){const k=this.pluginCallbacks[_](E);A[k.name]=k,y[k.name]=!0}if(p.extensionsUsed)for(let _=0;_<p.extensionsUsed.length;++_){const k=p.extensionsUsed[_],R=p.extensionsRequired||[];switch(k){case I0.KHR_MATERIALS_UNLIT:y[k]=new Bq;break;case I0.KHR_DRACO_MESH_COMPRESSION:y[k]=new Wq(p,this.dracoLoader);break;case I0.KHR_TEXTURE_TRANSFORM:y[k]=new Qq;break;case I0.KHR_MESH_QUANTIZATION:y[k]=new Jq;break;default:R.indexOf(k)>=0&&A[k]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+k+'".')}}E.setExtensions(y),E.setPlugins(A),E.parse(s,u)}parseAsync(t,i){const s=this;return new Promise(function(u,p){s.parse(t,i,u,p)})}}function Mq(){let l={};return{get:function(t){return l[t]},add:function(t,i){l[t]=i},remove:function(t){delete l[t]},removeAll:function(){l={}}}}const I0={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Rq{constructor(t){this.parser=t,this.name=I0.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,i=this.parser.json.nodes||[];for(let s=0,u=i.length;s<u;s++){const p=i[s];p.extensions&&p.extensions[this.name]&&p.extensions[this.name].light!==void 0&&t._addNodeRef(this.cache,p.extensions[this.name].light)}}_loadLight(t){const i=this.parser,s="light:"+t;let u=i.cache.get(s);if(u)return u;const p=i.json,E=((p.extensions&&p.extensions[this.name]||{}).lights||[])[t];let _;const k=new _r(16777215);E.color!==void 0&&k.fromArray(E.color);const R=E.range!==void 0?E.range:0;switch(E.type){case"directional":_=new Kg(k),_.target.position.set(0,0,-1),_.add(_.target);break;case"point":_=new Yg(k),_.distance=R;break;case"spot":_=new V4(k),_.distance=R,E.spot=E.spot||{},E.spot.innerConeAngle=E.spot.innerConeAngle!==void 0?E.spot.innerConeAngle:0,E.spot.outerConeAngle=E.spot.outerConeAngle!==void 0?E.spot.outerConeAngle:Math.PI/4,_.angle=E.spot.outerConeAngle,_.penumbra=1-E.spot.innerConeAngle/E.spot.outerConeAngle,_.target.position.set(0,0,-1),_.add(_.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+E.type)}return _.position.set(0,0,0),_.decay=2,ch(_,E),E.intensity!==void 0&&(_.intensity=E.intensity),_.name=i.createUniqueName(E.name||"light_"+t),u=Promise.resolve(_),i.cache.add(s,u),u}getDependency(t,i){if(t==="light")return this._loadLight(i)}createNodeAttachment(t){const i=this,s=this.parser,p=s.json.nodes[t],A=(p.extensions&&p.extensions[this.name]||{}).light;return A===void 0?null:this._loadLight(A).then(function(E){return s._getNodeRef(i.cache,A,E)})}}class Bq{constructor(){this.name=I0.KHR_MATERIALS_UNLIT}getMaterialType(){return Us}extendParams(t,i,s){const u=[];t.color=new _r(1,1,1),t.opacity=1;const p=i.pbrMetallicRoughness;if(p){if(Array.isArray(p.baseColorFactor)){const y=p.baseColorFactor;t.color.fromArray(y),t.opacity=y[3]}p.baseColorTexture!==void 0&&u.push(s.assignTexture(t,"map",p.baseColorTexture,b0))}return Promise.all(u)}}class Iq{constructor(t){this.parser=t,this.name=I0.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,i){const u=this.parser.json.materials[t];if(!u.extensions||!u.extensions[this.name])return Promise.resolve();const p=u.extensions[this.name].emissiveStrength;return p!==void 0&&(i.emissiveIntensity=p),Promise.resolve()}}class Dq{constructor(t){this.parser=t,this.name=I0.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const s=this.parser.json.materials[t];return!s.extensions||!s.extensions[this.name]?null:Ru}extendMaterialParams(t,i){const s=this.parser,u=s.json.materials[t];if(!u.extensions||!u.extensions[this.name])return Promise.resolve();const p=[],y=u.extensions[this.name];if(y.clearcoatFactor!==void 0&&(i.clearcoat=y.clearcoatFactor),y.clearcoatTexture!==void 0&&p.push(s.assignTexture(i,"clearcoatMap",y.clearcoatTexture)),y.clearcoatRoughnessFactor!==void 0&&(i.clearcoatRoughness=y.clearcoatRoughnessFactor),y.clearcoatRoughnessTexture!==void 0&&p.push(s.assignTexture(i,"clearcoatRoughnessMap",y.clearcoatRoughnessTexture)),y.clearcoatNormalTexture!==void 0&&(p.push(s.assignTexture(i,"clearcoatNormalMap",y.clearcoatNormalTexture)),y.clearcoatNormalTexture.scale!==void 0)){const A=y.clearcoatNormalTexture.scale;i.clearcoatNormalScale=new Yi(A,A)}return Promise.all(p)}}class Pq{constructor(t){this.parser=t,this.name=I0.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const s=this.parser.json.materials[t];return!s.extensions||!s.extensions[this.name]?null:Ru}extendMaterialParams(t,i){const s=this.parser,u=s.json.materials[t];if(!u.extensions||!u.extensions[this.name])return Promise.resolve();const p=[],y=u.extensions[this.name];return y.iridescenceFactor!==void 0&&(i.iridescence=y.iridescenceFactor),y.iridescenceTexture!==void 0&&p.push(s.assignTexture(i,"iridescenceMap",y.iridescenceTexture)),y.iridescenceIor!==void 0&&(i.iridescenceIOR=y.iridescenceIor),i.iridescenceThicknessRange===void 0&&(i.iridescenceThicknessRange=[100,400]),y.iridescenceThicknessMinimum!==void 0&&(i.iridescenceThicknessRange[0]=y.iridescenceThicknessMinimum),y.iridescenceThicknessMaximum!==void 0&&(i.iridescenceThicknessRange[1]=y.iridescenceThicknessMaximum),y.iridescenceThicknessTexture!==void 0&&p.push(s.assignTexture(i,"iridescenceThicknessMap",y.iridescenceThicknessTexture)),Promise.all(p)}}class Lq{constructor(t){this.parser=t,this.name=I0.KHR_MATERIALS_SHEEN}getMaterialType(t){const s=this.parser.json.materials[t];return!s.extensions||!s.extensions[this.name]?null:Ru}extendMaterialParams(t,i){const s=this.parser,u=s.json.materials[t];if(!u.extensions||!u.extensions[this.name])return Promise.resolve();const p=[];i.sheenColor=new _r(0,0,0),i.sheenRoughness=0,i.sheen=1;const y=u.extensions[this.name];return y.sheenColorFactor!==void 0&&i.sheenColor.fromArray(y.sheenColorFactor),y.sheenRoughnessFactor!==void 0&&(i.sheenRoughness=y.sheenRoughnessFactor),y.sheenColorTexture!==void 0&&p.push(s.assignTexture(i,"sheenColorMap",y.sheenColorTexture,b0)),y.sheenRoughnessTexture!==void 0&&p.push(s.assignTexture(i,"sheenRoughnessMap",y.sheenRoughnessTexture)),Promise.all(p)}}class Nq{constructor(t){this.parser=t,this.name=I0.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const s=this.parser.json.materials[t];return!s.extensions||!s.extensions[this.name]?null:Ru}extendMaterialParams(t,i){const s=this.parser,u=s.json.materials[t];if(!u.extensions||!u.extensions[this.name])return Promise.resolve();const p=[],y=u.extensions[this.name];return y.transmissionFactor!==void 0&&(i.transmission=y.transmissionFactor),y.transmissionTexture!==void 0&&p.push(s.assignTexture(i,"transmissionMap",y.transmissionTexture)),Promise.all(p)}}class Fq{constructor(t){this.parser=t,this.name=I0.KHR_MATERIALS_VOLUME}getMaterialType(t){const s=this.parser.json.materials[t];return!s.extensions||!s.extensions[this.name]?null:Ru}extendMaterialParams(t,i){const s=this.parser,u=s.json.materials[t];if(!u.extensions||!u.extensions[this.name])return Promise.resolve();const p=[],y=u.extensions[this.name];i.thickness=y.thicknessFactor!==void 0?y.thicknessFactor:0,y.thicknessTexture!==void 0&&p.push(s.assignTexture(i,"thicknessMap",y.thicknessTexture)),i.attenuationDistance=y.attenuationDistance||1/0;const A=y.attenuationColor||[1,1,1];return i.attenuationColor=new _r(A[0],A[1],A[2]),Promise.all(p)}}class Oq{constructor(t){this.parser=t,this.name=I0.KHR_MATERIALS_IOR}getMaterialType(t){const s=this.parser.json.materials[t];return!s.extensions||!s.extensions[this.name]?null:Ru}extendMaterialParams(t,i){const u=this.parser.json.materials[t];if(!u.extensions||!u.extensions[this.name])return Promise.resolve();const p=u.extensions[this.name];return i.ior=p.ior!==void 0?p.ior:1.5,Promise.resolve()}}class Hq{constructor(t){this.parser=t,this.name=I0.KHR_MATERIALS_SPECULAR}getMaterialType(t){const s=this.parser.json.materials[t];return!s.extensions||!s.extensions[this.name]?null:Ru}extendMaterialParams(t,i){const s=this.parser,u=s.json.materials[t];if(!u.extensions||!u.extensions[this.name])return Promise.resolve();const p=[],y=u.extensions[this.name];i.specularIntensity=y.specularFactor!==void 0?y.specularFactor:1,y.specularTexture!==void 0&&p.push(s.assignTexture(i,"specularIntensityMap",y.specularTexture));const A=y.specularColorFactor||[1,1,1];return i.specularColor=new _r(A[0],A[1],A[2]),y.specularColorTexture!==void 0&&p.push(s.assignTexture(i,"specularColorMap",y.specularColorTexture,b0)),Promise.all(p)}}class Uq{constructor(t){this.parser=t,this.name=I0.KHR_TEXTURE_BASISU}loadTexture(t){const i=this.parser,s=i.json,u=s.textures[t];if(!u.extensions||!u.extensions[this.name])return null;const p=u.extensions[this.name],y=i.options.ktx2Loader;if(!y){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return i.loadTextureImage(t,p.source,y)}}class Vq{constructor(t){this.parser=t,this.name=I0.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const i=this.name,s=this.parser,u=s.json,p=u.textures[t];if(!p.extensions||!p.extensions[i])return null;const y=p.extensions[i],A=u.images[y.source];let E=s.textureLoader;if(A.uri){const _=s.options.manager.getHandler(A.uri);_!==null&&(E=_)}return this.detectSupport().then(function(_){if(_)return s.loadTextureImage(t,y.source,E);if(u.extensionsRequired&&u.extensionsRequired.indexOf(i)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return s.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const i=new Image;i.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",i.onload=i.onerror=function(){t(i.height===1)}})),this.isSupported}}class jq{constructor(t){this.name=I0.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const i=this.parser.json,s=i.bufferViews[t];if(s.extensions&&s.extensions[this.name]){const u=s.extensions[this.name],p=this.parser.getDependency("buffer",u.buffer),y=this.parser.options.meshoptDecoder;if(!y||!y.supported){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return p.then(function(A){const E=u.byteOffset||0,_=u.byteLength||0,k=u.count,R=u.byteStride,P=new Uint8Array(A,E,_);return y.decodeGltfBufferAsync?y.decodeGltfBufferAsync(k,R,P,u.mode,u.filter).then(function(B){return B.buffer}):y.ready.then(function(){const B=new ArrayBuffer(k*R);return y.decodeGltfBuffer(new Uint8Array(B),k,R,P,u.mode,u.filter),B})})}else return null}}class Gq{constructor(t){this.name=I0.EXT_MESH_GPU_INSTANCING,this.parser=t}createNodeMesh(t){const i=this.parser.json,s=i.nodes[t];if(!s.extensions||!s.extensions[this.name]||s.mesh===void 0)return null;const u=i.meshes[s.mesh];for(const _ of u.primitives)if(_.mode!==Xl.TRIANGLES&&_.mode!==Xl.TRIANGLE_STRIP&&_.mode!==Xl.TRIANGLE_FAN&&_.mode!==void 0)return null;const y=s.extensions[this.name].attributes,A=[],E={};for(const _ in y)A.push(this.parser.getDependency("accessor",y[_]).then(k=>(E[_]=k,E[_])));return A.length<1?null:(A.push(this.parser.createNodeMesh(t)),Promise.all(A).then(_=>{const k=_.pop(),R=k.isGroup?k.children:[k],P=_[0].count,B=[];for(const O of R){const H=new Jr,z=new wt,Y=new D0,ee=new wt(1,1,1),ue=new I4(O.geometry,O.material,P);for(let oe=0;oe<P;oe++)E.TRANSLATION&&z.fromBufferAttribute(E.TRANSLATION,oe),E.ROTATION&&Y.fromBufferAttribute(E.ROTATION,oe),E.SCALE&&ee.fromBufferAttribute(E.SCALE,oe),ue.setMatrixAt(oe,H.compose(z,Y,ee));for(const oe in E)oe!=="TRANSLATION"&&oe!=="ROTATION"&&oe!=="SCALE"&&O.geometry.setAttribute(oe,E[oe]);Rn.prototype.copy.call(ue,O),ue.frustumCulled=!1,this.parser.assignFinalMaterial(ue),B.push(ue)}return k.isGroup?(k.clear(),k.add(...B),k):B[0]}))}}const hB="glTF",Jm=12,RT={JSON:1313821514,BIN:5130562};class zq{constructor(t){this.name=I0.KHR_BINARY_GLTF,this.content=null,this.body=null;const i=new DataView(t,0,Jm);if(this.header={magic:Cl.decodeText(new Uint8Array(t.slice(0,4))),version:i.getUint32(4,!0),length:i.getUint32(8,!0)},this.header.magic!==hB)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const s=this.header.length-Jm,u=new DataView(t,Jm);let p=0;for(;p<s;){const y=u.getUint32(p,!0);p+=4;const A=u.getUint32(p,!0);if(p+=4,A===RT.JSON){const E=new Uint8Array(t,Jm+p,y);this.content=Cl.decodeText(E)}else if(A===RT.BIN){const E=Jm+p;this.body=t.slice(E,E+y)}p+=y}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Wq{constructor(t,i){if(!i)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=I0.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=i,this.dracoLoader.preload()}decodePrimitive(t,i){const s=this.json,u=this.dracoLoader,p=t.extensions[this.name].bufferView,y=t.extensions[this.name].attributes,A={},E={},_={};for(const k in y){const R=gE[k]||k.toLowerCase();A[R]=y[k]}for(const k in t.attributes){const R=gE[k]||k.toLowerCase();if(y[k]!==void 0){const P=s.accessors[t.attributes[k]],B=Rp[P.componentType];_[R]=B.name,E[R]=P.normalized===!0}}return i.getDependency("bufferView",p).then(function(k){return new Promise(function(R){u.decodeDracoFile(k,function(P){for(const B in P.attributes){const O=P.attributes[B],H=E[B];H!==void 0&&(O.normalized=H)}R(P)},A,_)})})}}class Qq{constructor(){this.name=I0.KHR_TEXTURE_TRANSFORM}extendTexture(t,i){return i.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),i.offset===void 0&&i.rotation===void 0&&i.scale===void 0||(t=t.clone(),i.offset!==void 0&&t.offset.fromArray(i.offset),i.rotation!==void 0&&(t.rotation=i.rotation),i.scale!==void 0&&t.repeat.fromArray(i.scale),t.needsUpdate=!0),t}}class Jq{constructor(){this.name=I0.KHR_MESH_QUANTIZATION}}class dB extends xu{constructor(t,i,s,u){super(t,i,s,u)}copySampleValue_(t){const i=this.resultBuffer,s=this.sampleValues,u=this.valueSize,p=t*u*3+u;for(let y=0;y!==u;y++)i[y]=s[p+y];return i}interpolate_(t,i,s,u){const p=this.resultBuffer,y=this.sampleValues,A=this.valueSize,E=A*2,_=A*3,k=u-i,R=(s-i)/k,P=R*R,B=P*R,O=t*_,H=O-_,z=-2*B+3*P,Y=B-P,ee=1-z,ue=Y-P+R;for(let oe=0;oe!==A;oe++){const Ae=y[H+oe+A],be=y[H+oe+E]*k,xe=y[O+oe+A],ne=y[O+oe]*k;p[oe]=ee*Ae+ue*be+z*xe+Y*ne}return p}}const Xq=new D0;class qq extends dB{interpolate_(t,i,s,u){const p=super.interpolate_(t,i,s,u);return Xq.fromArray(p).normalize().toArray(p),p}}const Xl={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Rp={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},BT={9728:so,9729:Es,9984:Eg,9985:x4,9986:_g,9987:Tu},IT={33071:da,33648:Lp,10497:_h},j3={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},gE={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},nh={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Zq={CUBICSPLINE:void 0,LINEAR:Wd,STEP:Op},G3={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Yq(l){return l.DefaultMaterial===void 0&&(l.DefaultMaterial=new is({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:wh})),l.DefaultMaterial}function Xm(l,t,i){for(const s in i.extensions)l[s]===void 0&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[s]=i.extensions[s])}function ch(l,t){t.extras!==void 0&&(typeof t.extras=="object"?Object.assign(l.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function Kq(l,t,i){let s=!1,u=!1,p=!1;for(let _=0,k=t.length;_<k;_++){const R=t[_];if(R.POSITION!==void 0&&(s=!0),R.NORMAL!==void 0&&(u=!0),R.COLOR_0!==void 0&&(p=!0),s&&u&&p)break}if(!s&&!u&&!p)return Promise.resolve(l);const y=[],A=[],E=[];for(let _=0,k=t.length;_<k;_++){const R=t[_];if(s){const P=R.POSITION!==void 0?i.getDependency("accessor",R.POSITION):l.attributes.position;y.push(P)}if(u){const P=R.NORMAL!==void 0?i.getDependency("accessor",R.NORMAL):l.attributes.normal;A.push(P)}if(p){const P=R.COLOR_0!==void 0?i.getDependency("accessor",R.COLOR_0):l.attributes.color;E.push(P)}}return Promise.all([Promise.all(y),Promise.all(A),Promise.all(E)]).then(function(_){const k=_[0],R=_[1],P=_[2];return s&&(l.morphAttributes.position=k),u&&(l.morphAttributes.normal=R),p&&(l.morphAttributes.color=P),l.morphTargetsRelative=!0,l})}function $q(l,t){if(l.updateMorphTargets(),t.weights!==void 0)for(let i=0,s=t.weights.length;i<s;i++)l.morphTargetInfluences[i]=t.weights[i];if(t.extras&&Array.isArray(t.extras.targetNames)){const i=t.extras.targetNames;if(l.morphTargetInfluences.length===i.length){l.morphTargetDictionary={};for(let s=0,u=i.length;s<u;s++)l.morphTargetDictionary[i[s]]=s}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function eZ(l){const t=l.extensions&&l.extensions[I0.KHR_DRACO_MESH_COMPRESSION];let i;return t?i="draco:"+t.bufferView+":"+t.indices+":"+DT(t.attributes):i=l.indices+":"+DT(l.attributes)+":"+l.mode,i}function DT(l){let t="";const i=Object.keys(l).sort();for(let s=0,u=i.length;s<u;s++)t+=i[s]+":"+l[i[s]]+";";return t}function bE(l){switch(l){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function tZ(l){return l.search(/\.jpe?g($|\?)/i)>0||l.search(/^data\:image\/jpeg/)===0?"image/jpeg":l.search(/\.webp($|\?)/i)>0||l.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const iZ=new Jr;class rZ{constructor(t={},i={}){this.json=t,this.extensions={},this.plugins={},this.options=i,this.cache=new Mq,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let s=!1,u=!1,p=-1;typeof navigator!="undefined"&&(s=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,u=navigator.userAgent.indexOf("Firefox")>-1,p=u?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap=="undefined"||s||u&&p<98?this.textureLoader=new p8(this.options.manager):this.textureLoader=new w8(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Pa(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,i){const s=this,u=this.json,p=this.extensions;this.cache.removeAll(),this._invokeAll(function(y){return y._markDefs&&y._markDefs()}),Promise.all(this._invokeAll(function(y){return y.beforeRoot&&y.beforeRoot()})).then(function(){return Promise.all([s.getDependencies("scene"),s.getDependencies("animation"),s.getDependencies("camera")])}).then(function(y){const A={scene:y[0][u.scene||0],scenes:y[0],animations:y[1],cameras:y[2],asset:u.asset,parser:s,userData:{}};Xm(p,A,u),ch(A,u),Promise.all(s._invokeAll(function(E){return E.afterRoot&&E.afterRoot(A)})).then(function(){t(A)})}).catch(i)}_markDefs(){const t=this.json.nodes||[],i=this.json.skins||[],s=this.json.meshes||[];for(let u=0,p=i.length;u<p;u++){const y=i[u].joints;for(let A=0,E=y.length;A<E;A++)t[y[A]].isBone=!0}for(let u=0,p=t.length;u<p;u++){const y=t[u];y.mesh!==void 0&&(this._addNodeRef(this.meshCache,y.mesh),y.skin!==void 0&&(s[y.mesh].isSkinnedMesh=!0)),y.camera!==void 0&&this._addNodeRef(this.cameraCache,y.camera)}}_addNodeRef(t,i){i!==void 0&&(t.refs[i]===void 0&&(t.refs[i]=t.uses[i]=0),t.refs[i]++)}_getNodeRef(t,i,s){if(t.refs[i]<=1)return s;const u=s.clone(),p=(y,A)=>{const E=this.associations.get(y);E!=null&&this.associations.set(A,E);for(const[_,k]of y.children.entries())p(k,A.children[_])};return p(s,u),u.name+="_instance_"+t.uses[i]++,u}_invokeOne(t){const i=Object.values(this.plugins);i.push(this);for(let s=0;s<i.length;s++){const u=t(i[s]);if(u)return u}return null}_invokeAll(t){const i=Object.values(this.plugins);i.unshift(this);const s=[];for(let u=0;u<i.length;u++){const p=t(i[u]);p&&s.push(p)}return s}getDependency(t,i){const s=t+":"+i;let u=this.cache.get(s);if(!u){switch(t){case"scene":u=this.loadScene(i);break;case"node":u=this._invokeOne(function(p){return p.loadNode&&p.loadNode(i)});break;case"mesh":u=this._invokeOne(function(p){return p.loadMesh&&p.loadMesh(i)});break;case"accessor":u=this.loadAccessor(i);break;case"bufferView":u=this._invokeOne(function(p){return p.loadBufferView&&p.loadBufferView(i)});break;case"buffer":u=this.loadBuffer(i);break;case"material":u=this._invokeOne(function(p){return p.loadMaterial&&p.loadMaterial(i)});break;case"texture":u=this._invokeOne(function(p){return p.loadTexture&&p.loadTexture(i)});break;case"skin":u=this.loadSkin(i);break;case"animation":u=this._invokeOne(function(p){return p.loadAnimation&&p.loadAnimation(i)});break;case"camera":u=this.loadCamera(i);break;default:if(u=this._invokeOne(function(p){return p!=this&&p.getDependency&&p.getDependency(t,i)}),!u)throw new Error("Unknown type: "+t);break}this.cache.add(s,u)}return u}getDependencies(t){let i=this.cache.get(t);if(!i){const s=this,u=this.json[t+(t==="mesh"?"es":"s")]||[];i=Promise.all(u.map(function(p,y){return s.getDependency(t,y)})),this.cache.add(t,i)}return i}loadBuffer(t){const i=this.json.buffers[t],s=this.fileLoader;if(i.type&&i.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+i.type+" buffer type is not supported.");if(i.uri===void 0&&t===0)return Promise.resolve(this.extensions[I0.KHR_BINARY_GLTF].body);const u=this.options;return new Promise(function(p,y){s.load(Cl.resolveURL(i.uri,u.path),p,void 0,function(){y(new Error('THREE.GLTFLoader: Failed to load buffer "'+i.uri+'".'))})})}loadBufferView(t){const i=this.json.bufferViews[t];return this.getDependency("buffer",i.buffer).then(function(s){const u=i.byteLength||0,p=i.byteOffset||0;return s.slice(p,p+u)})}loadAccessor(t){const i=this,s=this.json,u=this.json.accessors[t];if(u.bufferView===void 0&&u.sparse===void 0){const y=j3[u.type],A=Rp[u.componentType],E=u.normalized===!0,_=new A(u.count*y);return Promise.resolve(new d0(_,y,E))}const p=[];return u.bufferView!==void 0?p.push(this.getDependency("bufferView",u.bufferView)):p.push(null),u.sparse!==void 0&&(p.push(this.getDependency("bufferView",u.sparse.indices.bufferView)),p.push(this.getDependency("bufferView",u.sparse.values.bufferView))),Promise.all(p).then(function(y){const A=y[0],E=j3[u.type],_=Rp[u.componentType],k=_.BYTES_PER_ELEMENT,R=k*E,P=u.byteOffset||0,B=u.bufferView!==void 0?s.bufferViews[u.bufferView].byteStride:void 0,O=u.normalized===!0;let H,z;if(B&&B!==R){const Y=Math.floor(P/B),ee="InterleavedBuffer:"+u.bufferView+":"+u.componentType+":"+Y+":"+u.count;let ue=i.cache.get(ee);ue||(H=new _(A,Y*B,u.count*B/k),ue=new Nh(H,B/k),i.cache.add(ee,ue)),z=new ac(ue,E,P%B/k,O)}else A===null?H=new _(u.count*E):H=new _(A,P,u.count*E),z=new d0(H,E,O);if(u.sparse!==void 0){const Y=j3.SCALAR,ee=Rp[u.sparse.indices.componentType],ue=u.sparse.indices.byteOffset||0,oe=u.sparse.values.byteOffset||0,Ae=new ee(y[1],ue,u.sparse.count*Y),be=new _(y[2],oe,u.sparse.count*E);A!==null&&(z=new d0(z.array.slice(),z.itemSize,z.normalized));for(let xe=0,ne=Ae.length;xe<ne;xe++){const ae=Ae[xe];if(z.setX(ae,be[xe*E]),E>=2&&z.setY(ae,be[xe*E+1]),E>=3&&z.setZ(ae,be[xe*E+2]),E>=4&&z.setW(ae,be[xe*E+3]),E>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return z})}loadTexture(t){const i=this.json,s=this.options,p=i.textures[t].source,y=i.images[p];let A=this.textureLoader;if(y.uri){const E=s.manager.getHandler(y.uri);E!==null&&(A=E)}return this.loadTextureImage(t,p,A)}loadTextureImage(t,i,s){const u=this,p=this.json,y=p.textures[t],A=p.images[i],E=(A.uri||A.bufferView)+":"+y.sampler;if(this.textureCache[E])return this.textureCache[E];const _=this.loadImageSource(i,s).then(function(k){k.flipY=!1,k.name=y.name||A.name||"";const P=(p.samplers||{})[y.sampler]||{};return k.magFilter=BT[P.magFilter]||Es,k.minFilter=BT[P.minFilter]||Tu,k.wrapS=IT[P.wrapS]||_h,k.wrapT=IT[P.wrapT]||_h,u.associations.set(k,{textures:t}),k}).catch(function(){return null});return this.textureCache[E]=_,_}loadImageSource(t,i){const s=this,u=this.json,p=this.options;if(this.sourceCache[t]!==void 0)return this.sourceCache[t].then(R=>R.clone());const y=u.images[t],A=self.URL||self.webkitURL;let E=y.uri||"",_=!1;if(y.bufferView!==void 0)E=s.getDependency("bufferView",y.bufferView).then(function(R){_=!0;const P=new Blob([R],{type:y.mimeType});return E=A.createObjectURL(P),E});else if(y.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const k=Promise.resolve(E).then(function(R){return new Promise(function(P,B){let O=P;i.isImageBitmapLoader===!0&&(O=function(H){const z=new ns(H);z.needsUpdate=!0,P(z)}),i.load(Cl.resolveURL(R,p.path),O,void 0,B)})}).then(function(R){return _===!0&&A.revokeObjectURL(E),R.userData.mimeType=y.mimeType||tZ(y.uri),R}).catch(function(R){throw console.error("THREE.GLTFLoader: Couldn't load texture",E),R});return this.sourceCache[t]=k,k}assignTexture(t,i,s,u){const p=this;return this.getDependency("texture",s.index).then(function(y){if(!y)return null;if(s.texCoord!==void 0&&s.texCoord!=0&&!(i==="aoMap"&&s.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+s.texCoord+" for texture "+i+" not yet supported."),p.extensions[I0.KHR_TEXTURE_TRANSFORM]){const A=s.extensions!==void 0?s.extensions[I0.KHR_TEXTURE_TRANSFORM]:void 0;if(A){const E=p.associations.get(y);y=p.extensions[I0.KHR_TEXTURE_TRANSFORM].extendTexture(y,A),p.associations.set(y,E)}}return u!==void 0&&(y.encoding=u),t[i]=y,y})}assignFinalMaterial(t){const i=t.geometry;let s=t.material;const u=i.attributes.tangent===void 0,p=i.attributes.color!==void 0,y=i.attributes.normal===void 0;if(t.isPoints){const A="PointsMaterial:"+s.uuid;let E=this.cache.get(A);E||(E=new hc,Bs.prototype.copy.call(E,s),E.color.copy(s.color),E.map=s.map,E.sizeAttenuation=!1,this.cache.add(A,E)),s=E}else if(t.isLine){const A="LineBasicMaterial:"+s.uuid;let E=this.cache.get(A);E||(E=new fo,Bs.prototype.copy.call(E,s),E.color.copy(s.color),this.cache.add(A,E)),s=E}if(u||p||y){let A="ClonedMaterial:"+s.uuid+":";u&&(A+="derivative-tangents:"),p&&(A+="vertex-colors:"),y&&(A+="flat-shading:");let E=this.cache.get(A);E||(E=s.clone(),p&&(E.vertexColors=!0),y&&(E.flatShading=!0),u&&(E.normalScale&&(E.normalScale.y*=-1),E.clearcoatNormalScale&&(E.clearcoatNormalScale.y*=-1)),this.cache.add(A,E),this.associations.set(E,this.associations.get(s))),s=E}s.aoMap&&i.attributes.uv2===void 0&&i.attributes.uv!==void 0&&i.setAttribute("uv2",i.attributes.uv),t.material=s}getMaterialType(){return is}loadMaterial(t){const i=this,s=this.json,u=this.extensions,p=s.materials[t];let y;const A={},E=p.extensions||{},_=[];if(E[I0.KHR_MATERIALS_UNLIT]){const R=u[I0.KHR_MATERIALS_UNLIT];y=R.getMaterialType(),_.push(R.extendParams(A,p,i))}else{const R=p.pbrMetallicRoughness||{};if(A.color=new _r(1,1,1),A.opacity=1,Array.isArray(R.baseColorFactor)){const P=R.baseColorFactor;A.color.fromArray(P),A.opacity=P[3]}R.baseColorTexture!==void 0&&_.push(i.assignTexture(A,"map",R.baseColorTexture,b0)),A.metalness=R.metallicFactor!==void 0?R.metallicFactor:1,A.roughness=R.roughnessFactor!==void 0?R.roughnessFactor:1,R.metallicRoughnessTexture!==void 0&&(_.push(i.assignTexture(A,"metalnessMap",R.metallicRoughnessTexture)),_.push(i.assignTexture(A,"roughnessMap",R.metallicRoughnessTexture))),y=this._invokeOne(function(P){return P.getMaterialType&&P.getMaterialType(t)}),_.push(Promise.all(this._invokeAll(function(P){return P.extendMaterialParams&&P.extendMaterialParams(t,A)})))}p.doubleSided===!0&&(A.side=Pf);const k=p.alphaMode||G3.OPAQUE;if(k===G3.BLEND?(A.transparent=!0,A.depthWrite=!1):(A.transparent=!1,k===G3.MASK&&(A.alphaTest=p.alphaCutoff!==void 0?p.alphaCutoff:.5)),p.normalTexture!==void 0&&y!==Us&&(_.push(i.assignTexture(A,"normalMap",p.normalTexture)),A.normalScale=new Yi(1,1),p.normalTexture.scale!==void 0)){const R=p.normalTexture.scale;A.normalScale.set(R,R)}return p.occlusionTexture!==void 0&&y!==Us&&(_.push(i.assignTexture(A,"aoMap",p.occlusionTexture)),p.occlusionTexture.strength!==void 0&&(A.aoMapIntensity=p.occlusionTexture.strength)),p.emissiveFactor!==void 0&&y!==Us&&(A.emissive=new _r().fromArray(p.emissiveFactor)),p.emissiveTexture!==void 0&&y!==Us&&_.push(i.assignTexture(A,"emissiveMap",p.emissiveTexture,b0)),Promise.all(_).then(function(){const R=new y(A);return p.name&&(R.name=p.name),ch(R,p),i.associations.set(R,{materials:t}),p.extensions&&Xm(u,R,p),R})}createUniqueName(t){const i=k0.sanitizeNodeName(t||"");let s=i;for(let u=1;this.nodeNamesUsed[s];++u)s=i+"_"+u;return this.nodeNamesUsed[s]=!0,s}loadGeometries(t){const i=this,s=this.extensions,u=this.primitiveCache;function p(A){return s[I0.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(A,i).then(function(E){return PT(E,A,i)})}const y=[];for(let A=0,E=t.length;A<E;A++){const _=t[A],k=eZ(_),R=u[k];if(R)y.push(R.promise);else{let P;_.extensions&&_.extensions[I0.KHR_DRACO_MESH_COMPRESSION]?P=p(_):P=PT(new vn,_,i),u[k]={primitive:_,promise:P},y.push(P)}}return Promise.all(y)}loadMesh(t){const i=this,s=this.json,u=this.extensions,p=s.meshes[t],y=p.primitives,A=[];for(let E=0,_=y.length;E<_;E++){const k=y[E].material===void 0?Yq(this.cache):this.getDependency("material",y[E].material);A.push(k)}return A.push(i.loadGeometries(y)),Promise.all(A).then(function(E){const _=E.slice(0,E.length-1),k=E[E.length-1],R=[];for(let B=0,O=k.length;B<O;B++){const H=k[B],z=y[B];let Y;const ee=_[B];if(z.mode===Xl.TRIANGLES||z.mode===Xl.TRIANGLE_STRIP||z.mode===Xl.TRIANGLE_FAN||z.mode===void 0)Y=p.isSkinnedMesh===!0?new Wg(H,ee):new ir(H,ee),Y.isSkinnedMesh===!0&&!Y.geometry.attributes.skinWeight.normalized&&Y.normalizeSkinWeights(),z.mode===Xl.TRIANGLE_STRIP?Y.geometry=LT(Y.geometry,c7):z.mode===Xl.TRIANGLE_FAN&&(Y.geometry=LT(Y.geometry,zE));else if(z.mode===Xl.LINES)Y=new Da(H,ee);else if(z.mode===Xl.LINE_STRIP)Y=new Eo(H,ee);else if(z.mode===Xl.LINE_LOOP)Y=new D4(H,ee);else if(z.mode===Xl.POINTS)Y=new g1(H,ee);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+z.mode);Object.keys(Y.geometry.morphAttributes).length>0&&$q(Y,p),Y.name=i.createUniqueName(p.name||"mesh_"+t),ch(Y,p),z.extensions&&Xm(u,Y,z),i.assignFinalMaterial(Y),R.push(Y)}for(let B=0,O=R.length;B<O;B++)i.associations.set(R[B],{meshes:t,primitives:B});if(R.length===1)return R[0];const P=new xl;i.associations.set(P,{meshes:t});for(let B=0,O=R.length;B<O;B++)P.add(R[B]);return P})}loadCamera(t){let i;const s=this.json.cameras[t],u=s[s.type];if(!u){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return s.type==="perspective"?i=new _o(Cf.radToDeg(u.yfov),u.aspectRatio||1,u.znear||1,u.zfar||2e6):s.type==="orthographic"&&(i=new Lh(-u.xmag,u.xmag,u.ymag,-u.ymag,u.znear,u.zfar)),s.name&&(i.name=this.createUniqueName(s.name)),ch(i,s),Promise.resolve(i)}loadSkin(t){const i=this.json.skins[t],s=[];for(let u=0,p=i.joints.length;u<p;u++)s.push(this.getDependency("node",i.joints[u]));return i.inverseBindMatrices!==void 0?s.push(this.getDependency("accessor",i.inverseBindMatrices)):s.push(null),Promise.all(s).then(function(u){const p=u.pop(),y=u,A=[],E=[];for(let _=0,k=y.length;_<k;_++){const R=y[_];if(R){A.push(R);const P=new Jr;p!==null&&P.fromArray(p.array,_*16),E.push(P)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',i.joints[_])}return new Jg(A,E)})}loadAnimation(t){const s=this.json.animations[t],u=[],p=[],y=[],A=[],E=[];for(let _=0,k=s.channels.length;_<k;_++){const R=s.channels[_],P=s.samplers[R.sampler],B=R.target,O=B.node,H=s.parameters!==void 0?s.parameters[P.input]:P.input,z=s.parameters!==void 0?s.parameters[P.output]:P.output;u.push(this.getDependency("node",O)),p.push(this.getDependency("accessor",H)),y.push(this.getDependency("accessor",z)),A.push(P),E.push(B)}return Promise.all([Promise.all(u),Promise.all(p),Promise.all(y),Promise.all(A),Promise.all(E)]).then(function(_){const k=_[0],R=_[1],P=_[2],B=_[3],O=_[4],H=[];for(let Y=0,ee=k.length;Y<ee;Y++){const ue=k[Y],oe=R[Y],Ae=P[Y],be=B[Y],xe=O[Y];if(ue===void 0)continue;ue.updateMatrix();let ne;switch(nh[xe.path]){case nh.weights:ne=Yp;break;case nh.rotation:ne=Mh;break;case nh.position:case nh.scale:default:ne=Kp;break}const ae=ue.name?ue.name:ue.uuid,ye=be.interpolation!==void 0?Zq[be.interpolation]:Wd,ge=[];nh[xe.path]===nh.weights?ue.traverse(function(le){le.morphTargetInfluences&&ge.push(le.name?le.name:le.uuid)}):ge.push(ae);let we=Ae.array;if(Ae.normalized){const le=bE(we.constructor),ie=new Float32Array(we.length);for(let he=0,de=we.length;he<de;he++)ie[he]=we[he]*le;we=ie}for(let le=0,ie=ge.length;le<ie;le++){const he=new ne(ge[le]+"."+nh[xe.path],oe.array,we,ye);be.interpolation==="CUBICSPLINE"&&(he.createInterpolant=function(Se){const Be=this instanceof Mh?qq:dB;return new Be(this.times,this.values,this.getValueSize()/3,Se)},he.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),H.push(he)}}const z=s.name?s.name:"animation_"+t;return new $p(z,void 0,H)})}createNodeMesh(t){const i=this.json,s=this,u=i.nodes[t];return u.mesh===void 0?null:s.getDependency("mesh",u.mesh).then(function(p){const y=s._getNodeRef(s.meshCache,u.mesh,p);return u.weights!==void 0&&y.traverse(function(A){if(!!A.isMesh)for(let E=0,_=u.weights.length;E<_;E++)A.morphTargetInfluences[E]=u.weights[E]}),y})}loadNode(t){const i=this.json,s=this.extensions,u=this,p=i.nodes[t],y=p.name?u.createUniqueName(p.name):"";return function(){const A=[],E=u._invokeOne(function(P){return P.createNodeMesh&&P.createNodeMesh(t)});E&&A.push(E),p.camera!==void 0&&A.push(u.getDependency("camera",p.camera).then(function(P){return u._getNodeRef(u.cameraCache,p.camera,P)})),u._invokeAll(function(P){return P.createNodeAttachment&&P.createNodeAttachment(t)}).forEach(function(P){A.push(P)});const _=[],k=p.children||[];for(let P=0,B=k.length;P<B;P++)_.push(u.getDependency("node",k[P]));const R=p.skin===void 0?Promise.resolve(null):u.getDependency("skin",p.skin);return Promise.all([Promise.all(A),Promise.all(_),R])}().then(function(A){const E=A[0],_=A[1],k=A[2];let R;if(p.isBone===!0?R=new Qg:E.length>1?R=new xl:E.length===1?R=E[0]:R=new Rn,R!==E[0])for(let P=0,B=E.length;P<B;P++)R.add(E[P]);if(p.name&&(R.userData.name=p.name,R.name=y),ch(R,p),p.extensions&&Xm(s,R,p),p.matrix!==void 0){const P=new Jr;P.fromArray(p.matrix),R.applyMatrix4(P)}else p.translation!==void 0&&R.position.fromArray(p.translation),p.rotation!==void 0&&R.quaternion.fromArray(p.rotation),p.scale!==void 0&&R.scale.fromArray(p.scale);u.associations.has(R)||u.associations.set(R,{}),u.associations.get(R).nodes=t,k!==null&&R.traverse(function(P){!P.isSkinnedMesh||P.bind(k,iZ)});for(let P=0,B=_.length;P<B;P++)R.add(_[P]);return R})}loadScene(t){const i=this.extensions,s=this.json.scenes[t],u=this,p=new xl;s.name&&(p.name=u.createUniqueName(s.name)),ch(p,s),s.extensions&&Xm(i,p,s);const y=s.nodes||[],A=[];for(let E=0,_=y.length;E<_;E++)A.push(u.getDependency("node",y[E]));return Promise.all(A).then(function(E){for(let k=0,R=E.length;k<R;k++)p.add(E[k]);const _=k=>{const R=new Map;for(const[P,B]of u.associations)(P instanceof Bs||P instanceof ns)&&R.set(P,B);return k.traverse(P=>{const B=u.associations.get(P);B!=null&&R.set(P,B)}),R};return u.associations=_(p),p})}}function nZ(l,t,i){const s=t.attributes,u=new ia;if(s.POSITION!==void 0){const A=i.json.accessors[s.POSITION],E=A.min,_=A.max;if(E!==void 0&&_!==void 0){if(u.set(new wt(E[0],E[1],E[2]),new wt(_[0],_[1],_[2])),A.normalized){const k=bE(Rp[A.componentType]);u.min.multiplyScalar(k),u.max.multiplyScalar(k)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const p=t.targets;if(p!==void 0){const A=new wt,E=new wt;for(let _=0,k=p.length;_<k;_++){const R=p[_];if(R.POSITION!==void 0){const P=i.json.accessors[R.POSITION],B=P.min,O=P.max;if(B!==void 0&&O!==void 0){if(E.setX(Math.max(Math.abs(B[0]),Math.abs(O[0]))),E.setY(Math.max(Math.abs(B[1]),Math.abs(O[1]))),E.setZ(Math.max(Math.abs(B[2]),Math.abs(O[2]))),P.normalized){const H=bE(Rp[P.componentType]);E.multiplyScalar(H)}A.max(E)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}u.expandByVector(A)}l.boundingBox=u;const y=new Mu;u.getCenter(y.center),y.radius=u.min.distanceTo(u.max)/2,l.boundingSphere=y}function PT(l,t,i){const s=t.attributes,u=[];function p(y,A){return i.getDependency("accessor",y).then(function(E){l.setAttribute(A,E)})}for(const y in s){const A=gE[y]||y.toLowerCase();A in l.attributes||u.push(p(s[y],A))}if(t.indices!==void 0&&!l.index){const y=i.getDependency("accessor",t.indices).then(function(A){l.setIndex(A)});u.push(y)}return ch(l,t),nZ(l,t,i),Promise.all(u).then(function(){return t.targets!==void 0?Kq(l,t.targets,i):l})}function LT(l,t){let i=l.getIndex();if(i===null){const y=[],A=l.getAttribute("position");if(A!==void 0){for(let E=0;E<A.count;E++)y.push(E);l.setIndex(y),i=l.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),l}const s=i.count-2,u=[];if(t===zE)for(let y=1;y<=s;y++)u.push(i.getX(0)),u.push(i.getX(y)),u.push(i.getX(y+1));else for(let y=0;y<s;y++)y%2===0?(u.push(i.getX(y)),u.push(i.getX(y+1)),u.push(i.getX(y+2))):(u.push(i.getX(y+2)),u.push(i.getX(y+1)),u.push(i.getX(y)));u.length/3!==s&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const p=l.clone();return p.setIndex(u),p}var NT=Object.freeze(Object.defineProperty({__proto__:null,GLTFLoader:cB},Symbol.toStringTag,{value:"Module"}));const Js={Handedness:Object.freeze({NONE:"none",LEFT:"left",RIGHT:"right"}),ComponentState:Object.freeze({DEFAULT:"default",TOUCHED:"touched",PRESSED:"pressed"}),ComponentProperty:Object.freeze({BUTTON:"button",X_AXIS:"xAxis",Y_AXIS:"yAxis",STATE:"state"}),ComponentType:Object.freeze({TRIGGER:"trigger",SQUEEZE:"squeeze",TOUCHPAD:"touchpad",THUMBSTICK:"thumbstick",BUTTON:"button"}),ButtonTouchThreshold:.05,AxisTouchThreshold:.1,VisualResponseProperty:Object.freeze({TRANSFORM:"transform",VISIBILITY:"visibility"})};async function pB(l){const t=await fetch(l);if(t.ok)return t.json();throw new Error(t.statusText)}async function sZ(l){if(!l)throw new Error("No basePath supplied");return await pB(`${l}/profilesList.json`)}async function oZ(l,t,i=null,s=!0){if(!l)throw new Error("No xrInputSource supplied");if(!t)throw new Error("No basePath supplied");const u=await sZ(t);let p;if(l.profiles.some(E=>{const _=u[E];return _&&(p={profileId:E,profilePath:`${t}/${_.path}`,deprecated:!!_.deprecated}),!!p}),!p){if(!i)throw new Error("No matching profile name found");const E=u[i];if(!E)throw new Error(`No matching profile name found and default profile "${i}" missing.`);p={profileId:i,profilePath:`${t}/${E.path}`,deprecated:!!E.deprecated}}const y=await pB(p.profilePath);let A;if(s){let E;if(l.handedness==="any"?E=y.layouts[Object.keys(y.layouts)[0]]:E=y.layouts[l.handedness],!E)throw new Error(`No matching handedness, ${l.handedness}, in profile ${p.profileId}`);E.assetPath&&(A=p.profilePath.replace("profile.json",E.assetPath))}return{profile:y,assetPath:A}}const aZ={xAxis:0,yAxis:0,button:0,state:Js.ComponentState.DEFAULT};function lZ(l=0,t=0){let i=l,s=t;if(Math.sqrt(l*l+t*t)>1){const y=Math.atan2(t,l);i=Math.cos(y),s=Math.sin(y)}return{normalizedXAxis:i*.5+.5,normalizedYAxis:s*.5+.5}}class fZ{constructor(t){this.componentProperty=t.componentProperty,this.states=t.states,this.valueNodeName=t.valueNodeName,this.valueNodeProperty=t.valueNodeProperty,this.valueNodeProperty===Js.VisualResponseProperty.TRANSFORM&&(this.minNodeName=t.minNodeName,this.maxNodeName=t.maxNodeName),this.value=0,this.updateFromComponent(aZ)}updateFromComponent({xAxis:t,yAxis:i,button:s,state:u}){const{normalizedXAxis:p,normalizedYAxis:y}=lZ(t,i);switch(this.componentProperty){case Js.ComponentProperty.X_AXIS:this.value=this.states.includes(u)?p:.5;break;case Js.ComponentProperty.Y_AXIS:this.value=this.states.includes(u)?y:.5;break;case Js.ComponentProperty.BUTTON:this.value=this.states.includes(u)?s:0;break;case Js.ComponentProperty.STATE:this.valueNodeProperty===Js.VisualResponseProperty.VISIBILITY?this.value=this.states.includes(u):this.value=this.states.includes(u)?1:0;break;default:throw new Error(`Unexpected visualResponse componentProperty ${this.componentProperty}`)}}}class uZ{constructor(t,i){if(!t||!i||!i.visualResponses||!i.gamepadIndices||Object.keys(i.gamepadIndices).length===0)throw new Error("Invalid arguments supplied");this.id=t,this.type=i.type,this.rootNodeName=i.rootNodeName,this.touchPointNodeName=i.touchPointNodeName,this.visualResponses={},Object.keys(i.visualResponses).forEach(s=>{const u=new fZ(i.visualResponses[s]);this.visualResponses[s]=u}),this.gamepadIndices=Object.assign({},i.gamepadIndices),this.values={state:Js.ComponentState.DEFAULT,button:this.gamepadIndices.button!==void 0?0:void 0,xAxis:this.gamepadIndices.xAxis!==void 0?0:void 0,yAxis:this.gamepadIndices.yAxis!==void 0?0:void 0}}get data(){return pl({id:this.id},this.values)}updateFromGamepad(t){if(this.values.state=Js.ComponentState.DEFAULT,this.gamepadIndices.button!==void 0&&t.buttons.length>this.gamepadIndices.button){const i=t.buttons[this.gamepadIndices.button];this.values.button=i.value,this.values.button=this.values.button<0?0:this.values.button,this.values.button=this.values.button>1?1:this.values.button,i.pressed||this.values.button===1?this.values.state=Js.ComponentState.PRESSED:(i.touched||this.values.button>Js.ButtonTouchThreshold)&&(this.values.state=Js.ComponentState.TOUCHED)}this.gamepadIndices.xAxis!==void 0&&t.axes.length>this.gamepadIndices.xAxis&&(this.values.xAxis=t.axes[this.gamepadIndices.xAxis],this.values.xAxis=this.values.xAxis<-1?-1:this.values.xAxis,this.values.xAxis=this.values.xAxis>1?1:this.values.xAxis,this.values.state===Js.ComponentState.DEFAULT&&Math.abs(this.values.xAxis)>Js.AxisTouchThreshold&&(this.values.state=Js.ComponentState.TOUCHED)),this.gamepadIndices.yAxis!==void 0&&t.axes.length>this.gamepadIndices.yAxis&&(this.values.yAxis=t.axes[this.gamepadIndices.yAxis],this.values.yAxis=this.values.yAxis<-1?-1:this.values.yAxis,this.values.yAxis=this.values.yAxis>1?1:this.values.yAxis,this.values.state===Js.ComponentState.DEFAULT&&Math.abs(this.values.yAxis)>Js.AxisTouchThreshold&&(this.values.state=Js.ComponentState.TOUCHED)),Object.values(this.visualResponses).forEach(i=>{i.updateFromComponent(this.values)})}}class cZ{constructor(t,i,s){if(!t)throw new Error("No xrInputSource supplied");if(!i)throw new Error("No profile supplied");this.xrInputSource=t,this.assetUrl=s,this.id=i.profileId,this.layoutDescription=i.layouts[t.handedness],this.components={},Object.keys(this.layoutDescription.components).forEach(u=>{const p=this.layoutDescription.components[u];this.components[u]=new uZ(u,p)}),this.updateFromGamepad()}get gripSpace(){return this.xrInputSource.gripSpace}get targetRaySpace(){return this.xrInputSource.targetRaySpace}get data(){const t=[];return Object.values(this.components).forEach(i=>{t.push(i.data)}),t}updateFromGamepad(){Object.values(this.components).forEach(t=>{t.updateFromGamepad(this.xrInputSource.gamepad)})}}const hZ="https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles",dZ="generic-trigger";class pZ extends Rn{constructor(){super(),this.motionController=null,this.envMap=null}setEnvironmentMap(t){return this.envMap==t?this:(this.envMap=t,this.traverse(i=>{i.isMesh&&(i.material.envMap=this.envMap,i.material.needsUpdate=!0)}),this)}updateMatrixWorld(t){super.updateMatrixWorld(t),this.motionController&&(this.motionController.updateFromGamepad(),Object.values(this.motionController.components).forEach(i=>{Object.values(i.visualResponses).forEach(s=>{const{valueNode:u,minNode:p,maxNode:y,value:A,valueNodeProperty:E}=s;!u||(E===Js.VisualResponseProperty.VISIBILITY?u.visible=A:E===Js.VisualResponseProperty.TRANSFORM&&(u.quaternion.slerpQuaternions(p.quaternion,y.quaternion,A),u.position.lerpVectors(p.position,y.position,A)))})}))}}function mZ(l,t){Object.values(l.components).forEach(i=>{const{type:s,touchPointNodeName:u,visualResponses:p}=i;if(s===Js.ComponentType.TOUCHPAD)if(i.touchPointNode=t.getObjectByName(u),i.touchPointNode){const y=new Nf(.001),A=new Us({color:255}),E=new ir(y,A);i.touchPointNode.add(E)}else console.warn(`Could not find touch dot, ${i.touchPointNodeName}, in touchpad component ${i.id}`);Object.values(p).forEach(y=>{const{valueNodeName:A,minNodeName:E,maxNodeName:_,valueNodeProperty:k}=y;if(k===Js.VisualResponseProperty.TRANSFORM){if(y.minNode=t.getObjectByName(E),y.maxNode=t.getObjectByName(_),!y.minNode){console.warn(`Could not find ${E} in the model`);return}if(!y.maxNode){console.warn(`Could not find ${_} in the model`);return}}y.valueNode=t.getObjectByName(A),y.valueNode||console.warn(`Could not find ${A} in the model`)})})}function FT(l,t){mZ(l.motionController,t),l.envMap&&t.traverse(i=>{i.isMesh&&(i.material.envMap=l.envMap,i.material.needsUpdate=!0)}),l.add(t)}class gZ{constructor(t=null){this.gltfLoader=t,this.path=hZ,this._assetCache={},this.gltfLoader||(this.gltfLoader=new cB)}createControllerModel(t){const i=new pZ;let s=null;return t.addEventListener("connected",u=>{const p=u.data;p.targetRayMode!=="tracked-pointer"||!p.gamepad||oZ(p,this.path,dZ).then(({profile:y,assetPath:A})=>{i.motionController=new cZ(p,y,A);const E=this._assetCache[i.motionController.assetUrl];if(E)s=E.scene.clone(),FT(i,s);else{if(!this.gltfLoader)throw new Error("GLTFLoader not set.");this.gltfLoader.setPath(""),this.gltfLoader.load(i.motionController.assetUrl,_=>{this._assetCache[i.motionController.assetUrl]=_,s=_.scene.clone(),FT(i,s)},null,()=>{throw new Error(`Asset ${i.motionController.assetUrl} missing or malformed.`)})}}).catch(y=>{console.warn(y)})}),t.addEventListener("disconnected",()=>{i.motionController=null,i.remove(s),s=null}),i}}class bZ{constructor(t){const i=t.signals;let s=null,u=null,p=null;this.currentSession=null;const y=async E=>{const _=document.getElementById("sidebar");if(_.style.width="300px",_.style.height="700px",s===null){s=new Tq(p),t.sceneHelpers.add(s);const k=new kq(_);k.position.set(1,1.5,-.5),k.rotation.y=-.5,k.scale.setScalar(2),s.add(k);const R=new vn;R.setFromPoints([new wt(0,0,0),new wt(0,0,-5)]);const P=p.xr.getController(0);P.add(new Eo(R)),s.add(P);const B=p.xr.getController(1);B.add(new Eo(R)),s.add(B);const O=new gZ,H=p.xr.getControllerGrip(0);H.add(O.createControllerModel(H)),s.add(H);const z=p.xr.getControllerGrip(1);z.add(O.createControllerModel(z)),s.add(z)}u=t.camera.clone(),s.visible=!0,this.currentSession=E,this.currentSession.addEventListener("end",A),await p.xr.setSession(this.currentSession)},A=async()=>{const E=document.getElementById("sidebar");E.style.width="",E.style.height="",t.camera.copy(u),s.visible=!1,this.currentSession.removeEventListener("end",A),this.currentSession=null,await p.xr.setSession(null),i.exitedVR.dispatch()};i.toggleVR.add(()=>{if(this.currentSession===null){const E={optionalFeatures:["local-floor","bounded-floor"]};navigator.xr.requestSession("immersive-vr",E).then(y)}else this.currentSession.end()}),i.rendererCreated.add(E=>{p=E,p.xr.enabled=!0})}}class yZ extends Ch{constructor(){super();const t=new fs;t.deleteAttribute("uv");const i=new is({side:Qa}),s=new is,u=new Yg(16777215,5,28,2);u.position.set(.418,16.199,.3),this.add(u);const p=new ir(t,i);p.position.set(-.757,13.219,.717),p.scale.set(31.713,28.305,28.591),this.add(p);const y=new ir(t,s);y.position.set(-10.906,2.009,1.846),y.rotation.set(0,-.195,0),y.scale.set(2.328,7.905,4.651),this.add(y);const A=new ir(t,s);A.position.set(-5.607,-.754,-.758),A.rotation.set(0,.994,0),A.scale.set(1.97,1.534,3.955),this.add(A);const E=new ir(t,s);E.position.set(6.167,.857,7.803),E.rotation.set(0,.561,0),E.scale.set(3.927,6.285,3.687),this.add(E);const _=new ir(t,s);_.position.set(-2.017,.018,6.124),_.rotation.set(0,.333,0),_.scale.set(2.002,4.566,2.064),this.add(_);const k=new ir(t,s);k.position.set(2.291,-.756,-2.621),k.rotation.set(0,-.286,0),k.scale.set(1.546,1.552,1.496),this.add(k);const R=new ir(t,s);R.position.set(-2.193,-.369,-5.547),R.rotation.set(0,.516,0),R.scale.set(3.875,3.487,2.986),this.add(R);const P=new ir(t,pp(50));P.position.set(-16.116,14.37,8.208),P.scale.set(.1,2.428,2.739),this.add(P);const B=new ir(t,pp(50));B.position.set(-16.109,18.021,-8.207),B.scale.set(.1,2.425,2.751),this.add(B);const O=new ir(t,pp(17));O.position.set(14.904,12.198,-1.832),O.scale.set(.15,4.265,6.331),this.add(O);const H=new ir(t,pp(43));H.position.set(-.462,8.89,14.52),H.scale.set(4.38,5.441,.088),this.add(H);const z=new ir(t,pp(20));z.position.set(3.235,11.486,-12.541),z.scale.set(2.5,2,.1),this.add(z);const Y=new ir(t,pp(100));Y.position.set(0,20,0),Y.scale.set(1,.1,1),this.add(Y)}}function pp(l){const t=new Us;return t.color.setScalar(l),t}new wt;new D0;new wt;class mB extends Rn{constructor(t=document.createElement("div")){super(),this.element=t,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(i){i.element instanceof Element&&i.element.parentNode!==null&&i.element.parentNode.removeChild(i.element)})})}copy(t,i){return super.copy(t,i),this.element=t.element.cloneNode(!0),this}}mB.prototype.isCSS3DObject=!0;class AZ extends mB{constructor(t){super(t),this.rotation2D=0}copy(t,i){return super.copy(t,i),this.rotation2D=t.rotation2D,this}}AZ.prototype.isCSS3DSprite=!0;new Jr;new Jr;const o4={ROOM:{SIZE:{X:{MIN:-100,MAX:100},Y:{MIN:-100,MAX:100},Z:{MIN:-100,MAX:100}}},OBJECT:{EDIT:{SCALE:{RANGE:{X:{MIN:.1,MAX:40},Y:{MIN:.1,MAX:40},Z:{MIN:.1,MAX:40}}}}}};function vZ(l){const t=l.signals,i=new on;i.setId("viewport"),i.setPosition("absolute"),i.add(new Eq(l));let s=null,u=null;const p=l.camera,y=l.scene,A=l.sceneHelpers;let E=!0;const _=new xl,k=new i4(40,40,8947848);k.material.color.setHex(8947848),k.material.vertexColors=!1,_.add(k);const R=new i4(40,8,2236962);R.material.color.setHex(2236962),R.material.depthFunc=jE,R.material.vertexColors=!1,_.add(R);const P=new on;P.setId("viewerContainer");const B=new _q(p,P);i.add(P);const O=new bZ(l),H=new ia,z=new vR(H);z.material.depthTest=!1,z.material.transparent=!0,z.visible=!1,A.add(z);let Y=null,ee=null,ue=null;const oe=new oB(p,i.dom);function Ae($e,gt,kt){const{X:Kt,Y:Ft,Z:Yt}=o4.ROOM.SIZE;return new wt($e>Kt.MAX?Kt.MAX:$e<Kt.MIN?Kt.MIN:$e,gt>Ft.MAX?Ft.MAX:gt<Ft.MIN?Ft.MIN:gt,kt>Yt.MAX?Yt.MAX:kt<Yt.MIN?Yt.MIN:kt)}function be($e,gt,kt){const{X:Kt,Y:Ft,Z:Yt}=o4.OBJECT.EDIT.SCALE.RANGE;return new wt($e>Kt.MAX?Kt.MAX:$e<Kt.MIN?Kt.MIN:$e,gt>Ft.MAX?Ft.MAX:gt<Ft.MIN?Ft.MIN:gt,kt>Yt.MAX?Yt.MAX:kt<Yt.MIN?Yt.MIN:kt)}oe.setTranslationSnap(.01),oe.setRotationSnap(1*(Math.PI/180)),oe.setScaleSnap(.1),oe.addEventListener("change",function(){let $e=oe.object;if($e!==void 0){H.setFromObject($e,!0);const gt=l.helpers[$e.id];gt!==void 0&&gt.isSkeletonHelper!==!0&&gt.update(),t.refreshSidebarObject3D.dispatch($e)}mt()}),oe.addEventListener("mouseDown",function(){const $e=oe.object;Y=$e.position.clone(),ee=$e.rotation.clone(),ue=$e.scale.clone(),He.enabled=!1}),oe.addEventListener("mouseUp",function(){const $e=oe.object;if($e!==void 0)switch(oe.getMode()){case"translate":if(!Y.equals($e.position)){const{x:gt,y:kt,z:Kt}=$e.position;l.execute(new n1(l,$e,Ae(gt,kt,Kt),Y))}break;case"rotate":ee.equals($e.rotation)||l.execute(new V8(l,$e,$e.rotation,ee));break;case"scale":if(!ue.equals($e.scale)){const{x:gt,y:kt,z:Kt}=$e.scale;["Entrance","Exit","Portal"].includes($e.userData.type)&&(gt!==1||kt!==1||Kt!==1)?($e.scale.copy(new wt(1,1,1)),$e.updateMatrixWorld(!0),l.signals.objectChanged.dispatch($e)):l.execute(new j8(l,$e,be(gt,kt,Kt),ue))}break}He.enabled=!0}),A.add(oe);const xe=new eb,ne=new Yi;function ae(){p.aspect=i.dom.offsetWidth/i.dom.offsetHeight,p.updateProjectionMatrix()}function ye($e){ne.set($e.x*2-1,-($e.y*2)+1),xe.setFromCamera(ne,p);const gt=[];return y.traverseVisible(function(kt){gt.push(kt)}),A.traverseVisible(function(kt){kt.name==="picker"&&gt.push(kt)}),xe.intersectObjects(gt,!1)}const ge=new Yi,we=new Yi,le=new Yi;function ie($e,gt,kt){const Kt=$e.getBoundingClientRect();return[(gt-Kt.left)/Kt.width,(kt-Kt.top)/Kt.height]}function he(){if(ge.distanceTo(we)===0){const $e=ye(we);if($e.length>0){const gt=$e[0].object;gt.userData.object!==void 0?l.select(gt.userData.object):gt.parent&&(gt.parent.type==="Group"||gt.parent.userData.type==="Model")&&(!l.selected||l.selected.uuid&&l.selected.uuid!==gt.parent.uuid&&l.selected.uuid!==gt.uuid)?l.select(gt.parent):l.select(gt)}else l.select(null);mt()}}function de($e){const gt=ie(i.dom,$e.clientX,$e.clientY);ge.fromArray(gt),document.addEventListener("mouseup",Se)}function Se($e){const gt=ie(i.dom,$e.clientX,$e.clientY);we.fromArray(gt),he(),document.removeEventListener("mouseup",Se)}function Be($e){const gt=$e.changedTouches[0],kt=ie(i.dom,gt.clientX,gt.clientY);ge.fromArray(kt),document.addEventListener("touchend",Le)}function Le($e){const gt=$e.changedTouches[0],kt=ie(i.dom,gt.clientX,gt.clientY);we.fromArray(kt),he(),document.removeEventListener("touchend",Le)}function nt($e){var Kt,Ft;const gt=ie(i.dom,$e.clientX,$e.clientY);le.fromArray(gt);const kt=ye(le);if(kt.length>0){const Yt=kt[0];if((Ft=(Kt=Yt.object)==null?void 0:Kt.userData)!=null&&Ft.locked)return;t.objectFocused.dispatch(Yt.object)}}i.dom.addEventListener("mousedown",de),i.dom.addEventListener("touchstart",Be),i.dom.addEventListener("dblclick",nt);const He=new s4(p,i.dom);He.addEventListener("change",function(){t.cameraChanged.dispatch(p),t.refreshSidebarObject3D.dispatch(p)}),B.controls=He,t.editorCleared.add(function(){He.center.set(0,0,0),mt()}),t.transformModeChanged.add(function($e){(l==null?void 0:l.selected)&&!["Portal","Exit","Entrance"].includes(l.selected.userData.type)&&oe.setMode($e)}),t.snapChanged.add(function($e){oe.setTranslationSnap($e)}),t.spaceChanged.add(function($e){oe.setSpace($e)}),t.rendererUpdated.add(function(){y.traverse(function($e){$e.material!==void 0&&($e.material.needsUpdate=!0)}),mt()}),t.rendererCreated.add(function($e){if(s!==null&&(s.setAnimationLoop(null),s.dispose(),u.dispose(),i.dom.removeChild(s.domElement)),s=$e,s.setAnimationLoop(lt),s.setClearColor(11184810),window.matchMedia){const gt=window.matchMedia("(prefers-color-scheme: dark)");gt.addEventListener("change",function(kt){s.setClearColor(kt.matches?3355443:11184810),OT(k,R,kt.matches?[2236962,8947848]:[8947848,2631720]),mt()}),s.setClearColor(gt.matches?3355443:11184810),OT(k,R,gt.matches?[2236962,8947848]:[8947848,2631720])}s.setPixelRatio(window.devicePixelRatio),s.setSize(i.dom.offsetWidth,i.dom.offsetHeight),u=new e4(s),u.compileEquirectangularShader(),i.dom.appendChild(s.domElement),mt()}),t.sceneGraphChanged.add(function(){mt()}),t.cameraChanged.add(function(){mt()}),t.objectSelected.add(function($e){z.visible=!1,oe.detach(),$e!==null&&$e!==y&&$e!==p&&(H.setFromObject($e,!0),H.isEmpty()===!1&&(z.visible=!0),oe.attach($e)),mt()}),t.objectFocused.add(function($e){He.focus($e)}),t.geometryChanged.add(function($e){$e!==void 0&&H.setFromObject($e,!0),mt()}),t.objectChanged.add(function($e){l.selected===$e&&H.setFromObject($e,!0),$e.isPerspectiveCamera&&$e.updateProjectionMatrix(),l.helpers[$e.id]!==void 0&&l.helpers[$e.id].update(),mt()}),t.objectRemoved.add(function($e){He.enabled=!0,$e===oe.object&&oe.detach()}),t.materialChanged.add(function(){mt()}),t.sceneBackgroundChanged.add(function($e,gt,kt,Kt){switch($e){case"None":y.background=null;break;case"Color":y.background=new _r(gt);break;case"Texture":kt&&(y.background=kt);break;case"Equirectangular":Kt&&(Kt.mapping=sc,y.background=Kt);break}mt()}),t.sceneEnvironmentChanged.add(function($e,gt){switch($e){default:y.environment=u.fromScene(new yZ,.04).texture;break}mt()}),t.sceneFogChanged.add(function($e,gt,kt,Kt,Ft){switch($e){case"None":y.fog=null;break;case"Fog":y.fog=new m1(gt,kt,Kt);break;case"FogExp2":y.fog=new p1(gt,Ft);break}mt()}),t.sceneFogSettingsChanged.add(function($e,gt,kt,Kt,Ft){switch($e){case"Fog":y.fog.color.setHex(gt),y.fog.near=kt,y.fog.far=Kt;break;case"FogExp2":y.fog.color.setHex(gt),y.fog.density=Ft;break}mt()}),t.viewportCameraChanged.add(function(){const $e=l.viewportCamera;$e.isPerspectiveCamera?($e.aspect=l.camera.aspect,$e.projectionMatrix.copy(l.camera.projectionMatrix)):$e.isOrthographicCamera,He.enabled=$e===l.camera,mt()}),t.exitedVR.add(mt),t.windowResize.add(function(){ae(),s.setSize(i.dom.offsetWidth,i.dom.offsetHeight),mt()}),t.showGridChanged.add(function($e){_.visible=$e,mt()}),t.showHelpersChanged.add(function($e){E=$e,oe.enabled=$e,mt()}),t.cameraResetted.add(ae);let ce=0;const Re=new _8;function lt(){const $e=l.mixer,gt=Re.getDelta();let kt=!1;const Kt=$e.stats.actions;(Kt.inUse>0||ce>0)&&(ce=Kt.inUse,$e.update(gt),kt=!0),B.animating===!0&&(B.update(gt),kt=!0),O.currentSession!==null&&(kt=!0),kt===!0&&mt()}let Te=0,Ye=0;function mt(){Te=performance.now(),y.add(_),s.setViewport(0,0,i.dom.offsetWidth,i.dom.offsetHeight),s.render(y,l.viewportCamera),y.remove(_),p===l.viewportCamera&&(s.autoClear=!1,E===!0&&s.render(A,p),O.currentSession===null&&B.render(s),s.autoClear=!0),Ye=performance.now(),l.signals.sceneRendered.dispatch(Ye-Te)}return i}function OT(l,t,i){l.material.color.setHex(i[0]),t.material.color.setHex(i[1])}var wZ="/assets/translate.d930c96a.svg",xZ="/assets/rotate.a277ca50.svg",EZ="/assets/scale.d25ce50c.svg";function _Z(l){const t=l.signals,i=l.strings,s=new on;s.setId("toolbar");const u=document.createElement("img");u.title=i.getKey("toolbar/translate"),u.src=wZ;const p=new Xa;p.dom.className="Button selected",p.dom.appendChild(u),p.onClick(function(){t.transformModeChanged.dispatch("translate")}),s.add(p);const y=document.createElement("img");y.title=i.getKey("toolbar/rotate"),y.src=xZ;const A=new Xa;A.dom.appendChild(y),A.onClick(function(){t.transformModeChanged.dispatch("rotate")}),s.add(A);const E=document.createElement("img");E.title=i.getKey("toolbar/scale"),E.src=EZ;const _=new Xa;_.dom.appendChild(E),_.onClick(function(){t.transformModeChanged.dispatch("scale")}),s.add(_);const k=new Rh(!1);return k.dom.title=i.getKey("toolbar/local"),k.onChange(function(){}),t.transformModeChanged.add(function(R){if(!["Portal","Exit","Entrance"].includes(l.selected.userData.type))switch(p.dom.classList.remove("selected"),A.dom.classList.remove("selected"),_.dom.classList.remove("selected"),R){case"translate":p.dom.classList.add("selected");break;case"rotate":A.dom.classList.add("selected");break;case"scale":_.dom.classList.add("selected");break}}),s}function kZ(l){const t=l.strings,i=new on;i.setId("communicatebar");const s=new Xa().onClick(Y);s.setId("triggerBtn"),i.add(s),s.dom.insertBefore(rs().getKey("sidebar/trigger/close"),s.firstChild);const u=new on;u.setClass("options communicate"),i.add(u);const p=new ea;let y=new pa("communicate/emoji",()=>{});p.add(y),u.add(p);const A=new ea;let E=new on;E.setClass("chatbox");let _=new on;_.setClass("chatTopbar"),_.add(new dr(t.getKey("communicate/chat/top"))),_.add(new pa("communicate/chat/cross",ee)),E.add(_);let k=new on;k.setId("chatContent"),k.setClass("chatContent"),E.add(k);let R=new on;R.setClass("chatEnter");let P=new Eu("");P.setId("chatInput"),P.setWidth("200px").setFontSize("12px"),R.add(P);let B=new Xa(t.getKey("communicate/chat/send"));B.onClick(function(){if(P.getValue()){let ue=document.createElement("div");ue.className="Row",ue.innerHTML=`${window.user}: ${P.getValue()}`;let oe=document.querySelector("#chatContent");oe.appendChild(ue),oe.scrollTop=oe.scrollHeight,console.log("%c Socket emit Communicate:Chat ","color: black; background: #9fa4dd;",window.assignmentSceneName,window.user,P.getValue()),window.socket.emit("Communicate:Chat",{assignmentName:window.assignmentSceneName,userName:window.user,chatContent:P.getValue(),time:new Date});let Ae=document.querySelector("#chatInput");console.log(Ae),Ae.value=""}}),R.add(B),E.add(R),A.add(E);let O=new pa("communicate/chat",ee);A.add(O),u.add(A);const H=new ea;let z=new pa("communicate/mic",()=>{});H.add(z),u.add(H);function Y(){i.getClass().includes("open")?i.removeClass("open"):i.addClass("open"),setTimeout(()=>{s.dom.replaceChild(rs().getKey(i.getClass().includes("open")?"sidebar/trigger/open":"sidebar/trigger/close"),s.dom.firstChild)},900)}function ee(){E.getClass().includes("open")?E.removeClass("open"):E.addClass("open")}return i}function CZ(l){const t=l.signals,i=new on;i.setId("script"),i.setPosition("absolute"),i.setBackgroundColor("#272822"),i.setDisplay("none");const s=new on;s.setPadding("10px"),i.add(s);const u=new dr().setColor("#fff");s.add(u);const p=function(){const ee=document.createElementNS("http://www.w3.org/2000/svg","svg");ee.setAttribute("width",32),ee.setAttribute("height",32);const ue=document.createElementNS("http://www.w3.org/2000/svg","path");return ue.setAttribute("d","M 12,12 L 22,22 M 22,12 12,22"),ue.setAttribute("stroke","#fff"),ee.appendChild(ue),ee}(),y=new Ys(p);y.setPosition("absolute"),y.setTop("3px"),y.setRight("1px"),y.setCursor("pointer"),y.onClick(function(){i.setDisplay("none")}),s.add(y);let A;t.rendererCreated.add(function(ee){A=ee});let E,_,k,R;const P=CodeMirror(i.dom,{value:"",lineNumbers:!0,matchBrackets:!0,indentWithTabs:!0,tabSize:4,indentUnit:4,hintOptions:{completeSingle:!1}});P.setOption("theme","monokai"),P.on("change",function(){P.state.focused!==!1&&(clearTimeout(E),E=setTimeout(function(){const ee=P.getValue();if(!z(ee))return;if(typeof k=="object"){ee!==k.source&&l.execute(new rB(l,R,k,"source",ee));return}if(k!=="programInfo")return;const ue=JSON.parse(ee);if(JSON.stringify(R.material.defines)!==JSON.stringify(ue.defines)){const oe=new Ja(l,R,"defines",ue.defines);oe.updatable=!1,l.execute(oe)}if(JSON.stringify(R.material.uniforms)!==JSON.stringify(ue.uniforms)){const oe=new Ja(l,R,"uniforms",ue.uniforms);oe.updatable=!1,l.execute(oe)}if(JSON.stringify(R.material.attributes)!==JSON.stringify(ue.attributes)){const oe=new Ja(l,R,"attributes",ue.attributes);oe.updatable=!1,l.execute(oe)}},300))}),P.getWrapperElement().addEventListener("keydown",function(ee){ee.stopPropagation()});const O=[],H=[],z=function(ee){let ue,oe=[];return P.operation(function(){for(;O.length>0;)P.removeLineClass(O.shift(),"background","errorLine");for(;H.length>0;)P.removeLineWidget(H.shift());switch(_){case"javascript":try{oe=esprima.parse(ee,{tolerant:!0}).errors}catch(xe){oe.push({lineNumber:xe.lineNumber-1,message:xe.message})}for(let xe=0;xe<oe.length;xe++){const ne=oe[xe];ne.message=ne.message.replace(/Line [0-9]+: /,"")}break;case"json":oe=[],jsonlint.parseError=function(xe,ne){xe=xe.split(`
`)[3],oe.push({lineNumber:ne.loc.first_line-1,message:xe})};try{jsonlint.parse(ee)}catch{}break;case"glsl":R.material[k]=ee,R.material.needsUpdate=!0,t.materialChanged.dispatch(R.material);const Ae=A.info.programs;ue=!0;const be=/^(?:ERROR|WARNING): \d+:(\d+): (.*)/g;for(let xe=0,ne=Ae.length;xe!==ne;++xe){const ae=Ae[xe].diagnostics;if(ae===void 0||ae.material!==R.material)continue;ae.runnable||(ue=!1);const ye=ae[k],ge=ye.prefix.split(/\r\n|\r|\n/).length;for(;;){const we=be.exec(ye.log);if(we===null)break;oe.push({lineNumber:we[1]-ge,message:we[2]})}break}}for(let Ae=0;Ae<oe.length;Ae++){const be=oe[Ae],xe=document.createElement("div");xe.className="esprima-error",xe.textContent=be.message;const ne=Math.max(be.lineNumber,0);O.push(ne),P.addLineClass(ne,"background","errorLine");const ae=P.addLineWidget(ne,xe);H.push(ae)}return ue!==void 0?ue:oe.length===0})},Y=new CodeMirror.TernServer({caseInsensitive:!0,plugins:{threejs:null}});return P.setOption("extraKeys",{"Ctrl-Space":function(ee){Y.complete(ee)},"Ctrl-I":function(ee){Y.showType(ee)},"Ctrl-O":function(ee){Y.showDocs(ee)},"Alt-.":function(ee){Y.jumpToDef(ee)},"Alt-,":function(ee){Y.jumpBack(ee)},"Ctrl-Q":function(ee){Y.rename(ee)},"Ctrl-.":function(ee){Y.selectName(ee)}}),P.on("cursorActivity",function(ee){_==="javascript"&&Y.updateArgHints(ee)}),P.on("keypress",function(ee,ue){if(_!=="javascript")return;const oe=String.fromCharCode(ue.which||ue.keyCode);/[\w\.]/.exec(oe)&&Y.complete(ee)}),t.editorCleared.add(function(){i.setDisplay("none")}),t.editScript.add(function(ee,ue){let oe,Ae,be;if(typeof ue=="object")oe="javascript",Ae=ue.name,be=ue.source,u.setValue(ee.name+" / "+Ae);else{switch(ue){case"vertexShader":oe="glsl",Ae="Vertex Shader",be=ee.material.vertexShader||"";break;case"fragmentShader":oe="glsl",Ae="Fragment Shader",be=ee.material.fragmentShader||"";break;case"programInfo":oe="json",Ae="Program Properties";const xe={defines:ee.material.defines,uniforms:ee.material.uniforms,attributes:ee.material.attributes};be=JSON.stringify(xe,null,"	")}u.setValue(ee.material.name+" / "+Ae)}_=oe,k=ue,R=ee,i.setDisplay(""),P.setValue(be),P.clearHistory(),oe==="json"&&(oe={name:"javascript",json:!0}),P.setOption("mode",oe)}),t.scriptRemoved.add(function(ee){k===ee&&i.setDisplay("none")}),i}var gB={Player:function(){var l=new THREE.WebGLRenderer({antialias:!0});l.setPixelRatio(window.devicePixelRatio),l.outputEncoding=THREE.sRGBEncoding;var t=new THREE.ObjectLoader,i,s,u=VRButton.createButton(l),p={},y=document.createElement("div");y.appendChild(l.domElement),this.dom=y,this.width=500,this.height=500,this.load=function(Y){var ee=Y.project;ee.vr!==void 0&&(l.xr.enabled=ee.vr),ee.shadows!==void 0&&(l.shadowMap.enabled=ee.shadows),ee.shadowType!==void 0&&(l.shadowMap.type=ee.shadowType),ee.toneMapping!==void 0&&(l.toneMapping=ee.toneMapping),ee.toneMappingExposure!==void 0&&(l.toneMappingExposure=ee.toneMappingExposure),ee.physicallyCorrectLights!==void 0&&(l.physicallyCorrectLights=ee.physicallyCorrectLights),this.setScene(t.parse(Y.scene)),this.setCamera(t.parse(Y.camera)),p={init:[],start:[],stop:[],keydown:[],keyup:[],pointerdown:[],pointerup:[],pointermove:[],update:[]};var ue="player,renderer,scene,camera",oe={};for(var Ae in p)ue+=","+Ae,oe[Ae]=Ae;var be=JSON.stringify(oe).replace(/\"/g,"");for(var xe in Y.scripts){var ne=s.getObjectByProperty("uuid",xe,!0);if(ne===void 0){console.warn("APP.Player: Script without object.",xe);continue}for(var ae=Y.scripts[xe],ye=0;ye<ae.length;ye++){var ge=ae[ye],we=new Function(ue,ge.source+`
return `+be+";").bind(ne)(this,l,s,i);for(var le in we)if(we[le]!==void 0){if(p[le]===void 0){console.warn("APP.Player: Event type not supported (",le,")");continue}p[le].push(we[le].bind(ne))}}}A(p.init,arguments)},this.setCamera=function(Y){i=Y,i.aspect=this.width/this.height,i.updateProjectionMatrix()},this.setScene=function(Y){s=Y},this.setPixelRatio=function(Y){l.setPixelRatio(Y)},this.setSize=function(Y,ee){this.width=Y,this.height=ee,i&&(i.aspect=this.width/this.height,i.updateProjectionMatrix()),l.setSize(Y,ee)};function A(Y,ee){for(var ue=0,oe=Y.length;ue<oe;ue++)Y[ue](ee)}var E,_,k;function R(){E=performance.now();try{A(p.update,{time:E-_,delta:E-k})}catch(Y){console.error(Y.message||Y,Y.stack||"")}l.render(s,i),k=E}this.play=function(){l.xr.enabled&&y.append(u),_=k=performance.now(),document.addEventListener("keydown",P),document.addEventListener("keyup",B),document.addEventListener("pointerdown",O),document.addEventListener("pointerup",H),document.addEventListener("pointermove",z),A(p.start,arguments),l.setAnimationLoop(R)},this.stop=function(){l.xr.enabled&&u.remove(),document.removeEventListener("keydown",P),document.removeEventListener("keyup",B),document.removeEventListener("pointerdown",O),document.removeEventListener("pointerup",H),document.removeEventListener("pointermove",z),A(p.stop,arguments),l.setAnimationLoop(null)},this.render=function(Y){A(p.update,{time:Y*1e3,delta:0}),l.render(s,i)},this.dispose=function(){l.dispose(),i=void 0,s=void 0};function P(Y){A(p.keydown,Y)}function B(Y){A(p.keyup,Y)}function O(Y){A(p.pointerdown,Y)}function H(Y){A(p.pointerup,Y)}function z(Y){A(p.pointermove,Y)}}};function SZ(l){const t=l.signals,i=new on;i.setId("player"),i.setPosition("absolute"),i.setDisplay("none");const s=new gB.Player;return i.dom.appendChild(s.dom),window.addEventListener("resize",function(){s.setSize(i.dom.clientWidth,i.dom.clientHeight)}),t.windowResize.add(function(){s.setSize(i.dom.clientWidth,i.dom.clientHeight)}),t.startPlayer.add(function(){i.setDisplay(""),s.load(l.toJSON()),s.setSize(i.dom.clientWidth,i.dom.clientHeight),s.play()}),t.stopPlayer.add(function(){i.setDisplay("none"),s.stop(),s.dispose()}),i}var a4={},X4={},Uf={};const TZ="bold|bolder|lighter|[1-9]00",MZ="italic|oblique",RZ="small-caps",BZ="ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",IZ="px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q",HT=`'([^']+)'|"([^"]+)"|[\\w\\s-]+`,DZ=new RegExp(`(${TZ}) +`,"i"),PZ=new RegExp(`(${MZ}) +`,"i"),LZ=new RegExp(`(${RZ}) +`,"i"),NZ=new RegExp(`(${BZ}) +`,"i"),FZ=new RegExp(`([\\d\\.]+)(${IZ}) *((?:${HT})( *, *(?:${HT}))*)`),z3={},OZ=16;var HZ=l=>{if(z3[l])return z3[l];const t=FZ.exec(l);if(!t)return;const i={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(t[1]),unit:t[2],family:t[3].replace(/["']/g,"").replace(/ *, */g,",")};let s,u,p,y;const A=l.substring(0,t.index);switch((s=DZ.exec(A))&&(i.weight=s[1]),(u=PZ.exec(A))&&(i.style=u[1]),(p=LZ.exec(A))&&(i.variant=p[1]),(y=NZ.exec(A))&&(i.stretch=y[1]),i.unit){case"pt":i.size/=.75;break;case"pc":i.size*=16;break;case"in":i.size*=96;break;case"cm":i.size*=96/2.54;break;case"mm":i.size*=96/25.4;break;case"%":break;case"em":case"rem":i.size*=OZ/.75;break;case"q":i.size*=96/25.4/4;break}return z3[l]=i};const UZ=HZ;Uf.parseFont=UZ;Uf.createCanvas=function(l,t){return Object.assign(document.createElement("canvas"),{width:l,height:t})};Uf.createImageData=function(l,t,i){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(l);case 2:return new ImageData(l,t);default:return new ImageData(l,t,i)}};Uf.loadImage=function(l,t){return new Promise(function(i,s){const u=Object.assign(document.createElement("img"),t);function p(){u.onload=null,u.onerror=null}u.onload=function(){p(),i(u)},u.onerror=function(){p(),s(new Error('Failed to load the image "'+l+'"'))},u.src=l})};/*! simple-concat. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var VZ=function(l,t){var i=[];l.on("data",function(s){i.push(s)}),l.once("end",function(){t&&t(null,Buffer.concat(i)),t=null}),l.once("error",function(s){t&&t(s),t=null})},jZ={},GZ=Object.freeze(Object.defineProperty({__proto__:null,default:jZ},Symbol.toStringTag,{value:"Module"})),f2=OJ(GZ),z8={exports:{}},zZ=bB;function bB(l,t){if(l&&t)return bB(l)(t);if(typeof l!="function")throw new TypeError("need wrapper function");return Object.keys(l).forEach(function(s){i[s]=l[s]}),i;function i(){for(var s=new Array(arguments.length),u=0;u<s.length;u++)s[u]=arguments[u];var p=l.apply(this,s),y=s[s.length-1];return typeof p=="function"&&p!==y&&Object.keys(y).forEach(function(A){p[A]=y[A]}),p}}var yB=zZ;z8.exports=yB(Nv);z8.exports.strict=yB(AB);Nv.proto=Nv(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Nv(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return AB(this)},configurable:!0})});function Nv(l){var t=function(){return t.called?t.value:(t.called=!0,t.value=l.apply(this,arguments))};return t.called=!1,t}function AB(l){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=l.apply(this,arguments)},i=l.name||"Function wrapped with `once`";return t.onceError=i+" shouldn't be called more than once",t.called=!1,t}var WZ=s1;const QZ=VZ,UT=f2,JZ=f2,XZ=f2,qZ=z8.exports,ZZ=f2,VT=f2,W3=l=>l!==null&&typeof l=="object"&&typeof l.pipe=="function";function s1(l,t){if(l=Object.assign({maxRedirects:10},typeof l=="string"?{url:l}:l),t=qZ(t),l.url){const{hostname:A,port:E,protocol:_,auth:k,path:R}=VT.parse(l.url);delete l.url,!A&&!E&&!_&&!k?l.path=R:Object.assign(l,{hostname:A,port:E,protocol:_,auth:k,path:R})}const i={"accept-encoding":"gzip, deflate"};l.headers&&Object.keys(l.headers).forEach(A=>i[A.toLowerCase()]=l.headers[A]),l.headers=i;let s;l.body?s=l.json&&!W3(l.body)?JSON.stringify(l.body):l.body:l.form&&(s=typeof l.form=="string"?l.form:ZZ.stringify(l.form),l.headers["content-type"]="application/x-www-form-urlencoded"),s&&(l.method||(l.method="POST"),W3(s)||(l.headers["content-length"]=Buffer.byteLength(s)),l.json&&!l.form&&(l.headers["content-type"]="application/json")),delete l.body,delete l.form,l.json&&(l.headers.accept="application/json"),l.method&&(l.method=l.method.toUpperCase());const u=l.hostname,y=(l.protocol==="https:"?XZ:JZ).request(l,A=>{if(l.followRedirects!==!1&&A.statusCode>=300&&A.statusCode<400&&A.headers.location){l.url=A.headers.location,delete l.headers.host,A.resume();const _=VT.parse(l.url).hostname;return _!==null&&_!==u&&(delete l.headers.cookie,delete l.headers.authorization),l.method==="POST"&&[301,302].includes(A.statusCode)&&(l.method="GET",delete l.headers["content-length"],delete l.headers["content-type"]),l.maxRedirects--===0?t(new Error("too many redirects")):s1(l,t)}const E=typeof UT=="function"&&l.method!=="HEAD";t(null,E?UT(A):A)});return y.on("timeout",()=>{y.abort(),t(new Error("Request timed out"))}),y.on("error",t),W3(s)?s.on("error",t).pipe(y):y.end(s),y}s1.concat=(l,t)=>s1(l,(i,s)=>{if(i)return t(i);QZ(s,(u,p)=>{if(u)return t(u);if(l.json)try{p=JSON.parse(p.toString())}catch(y){return t(y,s,p)}t(null,s,p)})});["get","post","put","patch","head","delete"].forEach(l=>{s1[l]=(t,i)=>(typeof t=="string"&&(t={url:t}),s1(Object.assign({method:l.toUpperCase()},t),i))});var YZ=Zs&&Zs.__createBinding||(Object.create?function(l,t,i,s){s===void 0&&(s=i),Object.defineProperty(l,s,{enumerable:!0,get:function(){return t[i]}})}:function(l,t,i,s){s===void 0&&(s=i),l[s]=t[i]}),KZ=Zs&&Zs.__setModuleDefault||(Object.create?function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}:function(l,t){l.default=t}),$Z=Zs&&Zs.__importStar||function(l){if(l&&l.__esModule)return l;var t={};if(l!=null)for(var i in l)i!=="default"&&Object.prototype.hasOwnProperty.call(l,i)&&YZ(t,l,i);return KZ(t,l),t},eY=Zs&&Zs.__awaiter||function(l,t,i,s){function u(p){return p instanceof i?p:new i(function(y){y(p)})}return new(i||(i=Promise))(function(p,y){function A(k){try{_(s.next(k))}catch(R){y(R)}}function E(k){try{_(s.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):u(k.value).then(A,E)}_((s=s.apply(l,t||[])).next())})};Object.defineProperty(X4,"__esModule",{value:!0});X4.getCanvasImage=void 0;const qm=$Z(Uf),tY=WZ,iY=l=>eY(void 0,void 0,void 0,function*(){if(l.buffer){const t=`data:image/jpg;base64,${l.buffer.toString("base64")}`;return yield qm.loadImage(t)}else if(l.arrayBuffer){const t=`data:image/jpg;base64,${Buffer.from(l.arrayBuffer).toString("base64")}`;return yield qm.loadImage(t)}else if(l.url){try{const i=`data:image/jpg;base64,${(yield new Promise((s,u)=>{tY.concat(l.url,(p,y,A)=>{if(p)return u(p);if(y.statusCode!==200)return u(new Error("Invalid Image"));s(A)})})).toString("base64")}`;return yield qm.loadImage(i)}catch{}yield new Promise(t=>setTimeout(t,1e3))}else if(l.base64){const t=l.base64;if(t.indexOf("data:")===0)return yield qm.loadImage(t);{const i=`data:image/jpg;base64,${t}`;return yield qm.loadImage(i)}}throw new Error("Invalid Image")});X4.getCanvasImage=iY;var q4={},v1={},Z4={};(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.hrtime=l.parseHexTo255=l.parseColor=l.parseColorString=l.getFontString=void 0;const t=y=>{const A=[];return y.fontStyle&&(typeof y.fontStyle=="boolean"?A.push("italic"):A.push(y.fontStyle)),y.fontWeight&&(typeof y.fontWeight=="boolean"?A.push("bold"):A.push(y.fontWeight.toString())),A.push(`${y.fontSize}px`),A.push(`"${y.fontFamily}"`),A.join(" ")};l.getFontString=t;const i=y=>{const{r:A,g:E,b:_,a:k}=l.parseColor(y);return`rgba(${A}, ${E}, ${_}, ${k})`};l.parseColorString=i;const s=y=>{if(typeof y=="string"){y=y.replace(/^0x/i,""),y=y.replace(/^#/,"");const A=l.parseHexTo255(y.substr(0,2),0),E=l.parseHexTo255(y.substr(2,2),0),_=l.parseHexTo255(y.substr(4,2),0),k=l.parseHexTo255(y.substr(6,2),255)/255;return{r:A,g:E,b:_,a:k}}else if(y<=16777215){const A=y>>16&255,E=y>>8&255,_=y>>0&255;return{r:A,g:E,b:_,a:1}}else{const A=y>>24&255,E=y>>16&255,_=y>>8&255,k=(y>>0&255)/255;return{r:A,g:E,b:_,a:k}}};l.parseColor=s;const u=(y,A)=>{try{if(y){const E=parseInt(`0x${y}`,16);if(!isNaN(E))return Math.max(0,Math.min(E,255))}}catch{}return A};l.parseHexTo255=u;const p=y=>{if(process&&process.hrtime)return process.hrtime(y);{const A=window.performance,E=Math.floor((Date.now()-A.now())*.001),_=A.now()*.001;let k=Math.floor(_)+E,R=Math.floor(_%1*1e9);return y&&(k=k-y[0],R=R-y[1],R<0&&(k--,R+=1e9)),[k,R]}};l.hrtime=p})(Z4);var rY=Zs&&Zs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(v1,"__esModule",{value:!0});v1.BaseClass=void 0;const nY=rY(f2),jT=Z4;class sY{constructor(){this.options={},this._renderedTime=0,this._before=[0,0]}get hasRendered(){return!!this._canvas}get canvas(){return this._checkHasRendered(),this._canvas}get renderedTime(){return this._checkHasRendered(),this._renderedTime}get width(){return this._checkHasRendered(),this.canvas.width}get height(){return this._checkHasRendered(),this.canvas.height}render(){return this}toDataUrl(t="image/png",i){return this._checkHasRendered(),t==="image/png"?this.canvas.toDataURL("image/png"):this.canvas.toDataURL("image/jpeg",i==null?void 0:i.quality)}toBuffer(t="image/png",i){return this._checkHasRendered(),t==="image/png"?this.canvas.toBuffer("image/png",i):this.canvas.toBuffer("image/jpeg",i)}toFile(t,i="",s){this._checkHasRendered(),i||(t.match(/\.jpg$|\.jpeg$/i)?i="image/jpeg":i="image/png");const u=this.toBuffer(i,s);nY.default.writeFileSync(t,u)}toStream(t="image/png",i){return this._checkHasRendered(),t==="image/png"?this.canvas.createPNGStream(i):this.canvas.createJPEGStream(i)}_checkHasRendered(){if(!this.hasRendered)throw new Error("Please run render() first!")}_startTimer(){this._before=jT.hrtime()}_endTimer(){const t=jT.hrtime(this._before);this._renderedTime=t[0]*1e3+t[1]/1e6}}v1.BaseClass=sY;var za={};Object.defineProperty(za,"__esModule",{value:!0});za.drawTexts=za.drawImages=za.drawBorder=za.drawBackgroundColor=za.renderHook=void 0;const oY=Uf,_p=Z4;function aY(l,t){t&&t(l)}za.renderHook=aY;function lY(l,t){if(t.color||typeof t.color=="number"){const{width:i,height:s}=l.canvas;l.fillStyle=_p.parseColorString(t.color),l.fillRect(0,0,i,s)}}za.drawBackgroundColor=lY;function fY(l,t){if(t.size&&(t.color||typeof t.color=="number")){const{width:i,height:s}=l.canvas;l.strokeStyle=_p.parseColorString(t.color),l.lineWidth=t.size*2,l.strokeRect(0,0,i,s)}}za.drawBorder=fY;function uY(l,t){const{images:i}=t,s=t.width|0,u=t.height|0;for(const p of i){const{canvasImage:y,repeat:A,sx:E,sy:_,tx:k,ty:R}=p,P=p.layer||0;if(!y||!y.width||!y.height||P!==t.layer)continue;const B=y.width,O=y.height,H=p.width==="image"?B:p.width==="canvas"?s:p.width||0,z=p.height==="image"?O:p.height==="canvas"?u:p.height||0,Y=typeof E=="number"?E>=0?E:s+E:p.x||0,ee=typeof _=="number"?_>=0?_:u+_:p.y||0,ue=typeof k=="number"?(k>0?k:s+k)-Y:H||s-Y,oe=typeof R=="number"?(R>0?R:u+R)-ee:z||u-ee;if(!(ue<=0||oe<=0)){if(!A||A==="none"||A==="topLeft")l.drawImage(y,0,0,ue,oe,Y,ee,ue,oe);else if(A==="topCenter"){const Ae=(B-ue)/2;l.drawImage(y,Ae,0,ue,oe,Y,ee,ue,oe)}else if(A==="topRight"){const Ae=B-ue;l.drawImage(y,Ae,0,ue,oe,Y,ee,ue,oe)}else if(A==="middleLeft"){const Ae=(O-oe)/2;l.drawImage(y,0,Ae,ue,oe,Y,ee,ue,oe)}else if(A==="center"){const Ae=(B-ue)/2,be=(O-oe)/2;l.drawImage(y,Ae,be,ue,oe,Y,ee,ue,oe)}else if(A==="middleRight"){const Ae=B-ue,be=(O-oe)/2;l.drawImage(y,Ae,be,ue,oe,Y,ee,ue,oe)}else if(A==="bottomLeft"){const Ae=O-oe;l.drawImage(y,0,Ae,ue,oe,Y,ee,ue,oe)}else if(A==="bottomCenter"){const Ae=(B-ue)/2,be=O-oe;l.drawImage(y,Ae,be,ue,oe,Y,ee,ue,oe)}else if(A==="bottomRight"){const Ae=B-ue,be=O-oe;l.drawImage(y,Ae,be,ue,oe,Y,ee,ue,oe)}else if(A==="fit")l.drawImage(y,0,0,B,O,Y,ee,ue,oe);else if(A==="fitX"){const Ae=Math.min(oe,O);l.drawImage(y,0,0,B,Ae,Y,ee,ue,Ae)}else if(A==="fitY"){const Ae=Math.min(Y+ue-Y,B);l.drawImage(y,0,0,Ae,O,Y,ee,Ae,oe)}else if(A==="repeat")for(let Ae=ee;Ae<ee+oe;Ae+=O)for(let be=Y;be<Y+ue;be+=B){const xe=Math.min(Y+ue-be,B),ne=Math.min(ee+oe-Ae,O);l.drawImage(y,0,0,xe,ne,be,Ae,xe,ne)}else if(A==="repeatY")for(let Ae=ee;Ae<ee+oe;Ae+=O){const be=Math.min(Y+ue-Y,B),xe=Math.min(ee+oe-Ae,O);l.drawImage(y,0,0,be,xe,Y,Ae,be,xe)}else if(A==="repeatX")for(let Ae=Y;Ae<Y+ue;Ae+=B){const be=Math.min(Y+ue-Ae,B),xe=Math.min(ee+oe-ee,O);l.drawImage(y,0,0,be,xe,Ae,ee,be,xe)}}}}za.drawImages=uY;function cY(l,t){const{measuredParagraph:i,width:s,height:u,fontFamily:p,fontStyle:y,fontWeight:A,fontSize:E,fontColor:_,strokeSize:k,strokeColor:R,valign:P,align:B,marginLeft:O,marginTop:H,marginRight:z,marginBottom:Y,chopOverflow:ee,useGlyphPadding:ue,underlineSize:oe,underlineColor:Ae}=t;if(!i.measuredLines.length)return;const be=ue?i.boundingWidth:i.width,xe=ue?i.boundingHeight:i.height,ne=Math.round(E/2),ae=oY.createCanvas(be+ne*2,xe+ne*2),ye=_p.parseColorString(_),ge=_p.parseColorString(Ae),we=ae.getContext("2d");we.font=_p.getFontString({fontStyle:y,fontWeight:A,fontSize:E,fontFamily:p});let le=ue?E+i.measuredLines[0].paddingTop:E;for(const nt of i.measuredLines){let He=0;B==="center"?(He=(be-nt.width)/2,ue&&(He=(be-(nt.width-nt.paddingLeft+nt.paddingRight))/2)):B==="right"?(He=be-nt.width,ue&&(He=be-nt.width-i.paddingRight)):ue&&(He=i.paddingLeft),oe&&(we.fillStyle=ge,we.fillRect(He+ne,le+ne,nt.width,oe)),we.fillStyle=ye,we.fillText(nt.text,He+ne,le+ne),k&&(we.strokeStyle=_p.parseColorString(R),we.lineWidth=k,we.strokeText(nt.text,He+ne,le+ne)),le+=nt.nextLineHeight}let ie=0,he=0,de=0,Se=0,Be=s,Le=u;B==="right"?(ie=be-s+z,ee&&(de+=O,ie+=O,Be=s-O-z)):B==="center"?(ie=(be-s-O+z)/2,ee&&(de+=O,ie+=O,Be=s-O-z)):(ie=-O,ee&&(Be=s-z)),P==="bottom"?(he=xe-u+Y,ee&&(Se+=H,he+=H,Le=u-H-Y)):P==="middle"?(he=(xe-u-H+Y)/2,ee&&(Se+=H,he+=H,Le=u-H-Y)):(he=-H,ee&&(Le=u-Y)),l.drawImage(ae,ie+ne,he+ne,Be,Le,de,Se,Be,Le)}za.drawTexts=cY;Object.defineProperty(q4,"__esModule",{value:!0});q4.HorizontalImage=void 0;const hY=Uf,dY=v1,Q3=za;class pY extends dY.BaseClass{constructor(t,i={},s={}){super(),this.ultimateTextToImages=t,this.options=i,this.renderOptions=s}render(){this._startTimer();const{backgroundColor:t}=this.options,i=this.options.margin||0;for(const E of this.ultimateTextToImages)E.render();const s=this.ultimateTextToImages.reduce((E,_)=>E+_.width,0)+i*2,u=this.ultimateTextToImages.reduce((E,_)=>Math.max(E,_.height),0)+i*2;this._canvas=new hY.Canvas(s,u);const p=this._canvas.getContext("2d");Q3.renderHook(this._canvas,this.renderOptions.preRender),Q3.drawBackgroundColor(p,{color:t});let y=i,A=0;for(const E of this.ultimateTextToImages){let _=this.options.valign;E.options.nestedValign&&(_=E.options.nestedValign),_==="bottom"?A=u-E.height-i:_==="middle"?A=(u-E.height)/2:A=i,p.drawImage(E.canvas,y,A),y+=E.width}return Q3.renderHook(this._canvas,this.renderOptions.posRender),this._endTimer(),this}}q4.HorizontalImage=pY;var Y4={},mY=Zs&&Zs.__createBinding||(Object.create?function(l,t,i,s){s===void 0&&(s=i),Object.defineProperty(l,s,{enumerable:!0,get:function(){return t[i]}})}:function(l,t,i,s){s===void 0&&(s=i),l[s]=t[i]}),gY=Zs&&Zs.__setModuleDefault||(Object.create?function(l,t){Object.defineProperty(l,"default",{enumerable:!0,value:t})}:function(l,t){l.default=t}),bY=Zs&&Zs.__importStar||function(l){if(l&&l.__esModule)return l;var t={};if(l!=null)for(var i in l)i!=="default"&&Object.prototype.hasOwnProperty.call(l,i)&&mY(t,l,i);return gY(t,l),t},yY=Zs&&Zs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Y4,"__esModule",{value:!0});Y4.registerFont=void 0;const AY=bY(Uf),vY=yY(f2),wY=(l,t)=>{const i=(t==null?void 0:t.family)||xY(16),s=typeof(t==null?void 0:t.weight)=="boolean"?t.weight?"bold":void 0:t!=null&&t.weight?t.weight.toString():void 0,u=typeof(t==null?void 0:t.style)=="boolean"?t.style?"italic":void 0:t!=null&&t.style?t.style:void 0;AY.registerFont(l,{family:i,weight:s,style:u})};Y4.registerFont=wY;function xY(l){return vY.default.randomBytes(Math.ceil(l/2)).toString("hex").substr(0,l)}var K4={},$4={},rb={},nb={};nb.byteLength=kY;nb.toByteArray=SY;nb.fromByteArray=RY;var du=[],ql=[],EY=typeof Uint8Array!="undefined"?Uint8Array:Array,J3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var mp=0,_Y=J3.length;mp<_Y;++mp)du[mp]=J3[mp],ql[J3.charCodeAt(mp)]=mp;ql["-".charCodeAt(0)]=62;ql["_".charCodeAt(0)]=63;function vB(l){var t=l.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=l.indexOf("=");i===-1&&(i=t);var s=i===t?0:4-i%4;return[i,s]}function kY(l){var t=vB(l),i=t[0],s=t[1];return(i+s)*3/4-s}function CY(l,t,i){return(t+i)*3/4-i}function SY(l){var t,i=vB(l),s=i[0],u=i[1],p=new EY(CY(l,s,u)),y=0,A=u>0?s-4:s,E;for(E=0;E<A;E+=4)t=ql[l.charCodeAt(E)]<<18|ql[l.charCodeAt(E+1)]<<12|ql[l.charCodeAt(E+2)]<<6|ql[l.charCodeAt(E+3)],p[y++]=t>>16&255,p[y++]=t>>8&255,p[y++]=t&255;return u===2&&(t=ql[l.charCodeAt(E)]<<2|ql[l.charCodeAt(E+1)]>>4,p[y++]=t&255),u===1&&(t=ql[l.charCodeAt(E)]<<10|ql[l.charCodeAt(E+1)]<<4|ql[l.charCodeAt(E+2)]>>2,p[y++]=t>>8&255,p[y++]=t&255),p}function TY(l){return du[l>>18&63]+du[l>>12&63]+du[l>>6&63]+du[l&63]}function MY(l,t,i){for(var s,u=[],p=t;p<i;p+=3)s=(l[p]<<16&16711680)+(l[p+1]<<8&65280)+(l[p+2]&255),u.push(TY(s));return u.join("")}function RY(l){for(var t,i=l.length,s=i%3,u=[],p=16383,y=0,A=i-s;y<A;y+=p)u.push(MY(l,y,y+p>A?A:y+p));return s===1?(t=l[i-1],u.push(du[t>>2]+du[t<<4&63]+"==")):s===2&&(t=(l[i-2]<<8)+l[i-1],u.push(du[t>>10]+du[t>>4&63]+du[t<<2&63]+"=")),u.join("")}var W8=0,wB=-3;function Dg(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function BY(l,t){this.source=l,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new Dg,this.dtree=new Dg}var xB=new Dg,EB=new Dg,Q8=new Uint8Array(30),J8=new Uint16Array(30),_B=new Uint8Array(30),kB=new Uint16Array(30),IY=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),GT=new Dg,nu=new Uint8Array(288+32);function CB(l,t,i,s){var u,p;for(u=0;u<i;++u)l[u]=0;for(u=0;u<30-i;++u)l[u+i]=u/i|0;for(p=s,u=0;u<30;++u)t[u]=p,p+=1<<l[u]}function DY(l,t){var i;for(i=0;i<7;++i)l.table[i]=0;for(l.table[7]=24,l.table[8]=152,l.table[9]=112,i=0;i<24;++i)l.trans[i]=256+i;for(i=0;i<144;++i)l.trans[24+i]=i;for(i=0;i<8;++i)l.trans[24+144+i]=280+i;for(i=0;i<112;++i)l.trans[24+144+8+i]=144+i;for(i=0;i<5;++i)t.table[i]=0;for(t.table[5]=32,i=0;i<32;++i)t.trans[i]=i}var zT=new Uint16Array(16);function X3(l,t,i,s){var u,p;for(u=0;u<16;++u)l.table[u]=0;for(u=0;u<s;++u)l.table[t[i+u]]++;for(l.table[0]=0,p=0,u=0;u<16;++u)zT[u]=p,p+=l.table[u];for(u=0;u<s;++u)t[i+u]&&(l.trans[zT[t[i+u]]++]=u)}function PY(l){l.bitcount--||(l.tag=l.source[l.sourceIndex++],l.bitcount=7);var t=l.tag&1;return l.tag>>>=1,t}function fu(l,t,i){if(!t)return i;for(;l.bitcount<24;)l.tag|=l.source[l.sourceIndex++]<<l.bitcount,l.bitcount+=8;var s=l.tag&65535>>>16-t;return l.tag>>>=t,l.bitcount-=t,s+i}function yE(l,t){for(;l.bitcount<24;)l.tag|=l.source[l.sourceIndex++]<<l.bitcount,l.bitcount+=8;var i=0,s=0,u=0,p=l.tag;do s=2*s+(p&1),p>>>=1,++u,i+=t.table[u],s-=t.table[u];while(s>=0);return l.tag=p,l.bitcount-=u,t.trans[i+s]}function LY(l,t,i){var s,u,p,y,A,E;for(s=fu(l,5,257),u=fu(l,5,1),p=fu(l,4,4),y=0;y<19;++y)nu[y]=0;for(y=0;y<p;++y){var _=fu(l,3,0);nu[IY[y]]=_}for(X3(GT,nu,0,19),A=0;A<s+u;){var k=yE(l,GT);switch(k){case 16:var R=nu[A-1];for(E=fu(l,2,3);E;--E)nu[A++]=R;break;case 17:for(E=fu(l,3,3);E;--E)nu[A++]=0;break;case 18:for(E=fu(l,7,11);E;--E)nu[A++]=0;break;default:nu[A++]=k;break}}X3(t,nu,0,s),X3(i,nu,s,u)}function WT(l,t,i){for(;;){var s=yE(l,t);if(s===256)return W8;if(s<256)l.dest[l.destLen++]=s;else{var u,p,y,A;for(s-=257,u=fu(l,Q8[s],J8[s]),p=yE(l,i),y=l.destLen-fu(l,_B[p],kB[p]),A=y;A<y+u;++A)l.dest[l.destLen++]=l.dest[A]}}}function NY(l){for(var t,i,s;l.bitcount>8;)l.sourceIndex--,l.bitcount-=8;if(t=l.source[l.sourceIndex+1],t=256*t+l.source[l.sourceIndex],i=l.source[l.sourceIndex+3],i=256*i+l.source[l.sourceIndex+2],t!==(~i&65535))return wB;for(l.sourceIndex+=4,s=t;s;--s)l.dest[l.destLen++]=l.source[l.sourceIndex++];return l.bitcount=0,W8}function FY(l,t){var i=new BY(l,t),s,u,p;do{switch(s=PY(i),u=fu(i,2,0),u){case 0:p=NY(i);break;case 1:p=WT(i,xB,EB);break;case 2:LY(i,i.ltree,i.dtree),p=WT(i,i.ltree,i.dtree);break;default:p=wB}if(p!==W8)throw new Error("Data error")}while(!s);return i.destLen<i.dest.length?typeof i.dest.slice=="function"?i.dest.slice(0,i.destLen):i.dest.subarray(0,i.destLen):i.dest}DY(xB,EB);CB(Q8,J8,4,3);CB(_B,kB,2,1);Q8[28]=0;J8[28]=258;var OY=FY;const QT=OY,X8=6+5,Vd=5,HY=X8-Vd,UY=65536>>X8,VY=1<<HY,jY=VY-1,Fv=2,GY=1<<Vd,q3=GY-1,SB=65536>>Vd,zY=1024>>Vd,WY=SB+zY,QY=WY,JY=32,XY=QY+JY,qY=1<<Fv;class ZY{constructor(t){const i=typeof t.readUInt32BE=="function"&&typeof t.slice=="function";if(i||t instanceof Uint8Array){let s;if(i)this.highStart=t.readUInt32BE(0),this.errorValue=t.readUInt32BE(4),s=t.readUInt32BE(8),t=t.slice(12);else{const u=new DataView(t.buffer);this.highStart=u.getUint32(0),this.errorValue=u.getUint32(4),s=u.getUint32(8),t=t.subarray(12)}t=QT(t,new Uint8Array(s)),t=QT(t,new Uint8Array(s)),this.data=new Uint32Array(t.buffer)}else({data:this.data,highStart:this.highStart,errorValue:this.errorValue}=t)}get(t){let i;return t<0||t>1114111?this.errorValue:t<55296||t>56319&&t<=65535?(i=(this.data[t>>Vd]<<Fv)+(t&q3),this.data[i]):t<=65535?(i=(this.data[SB+(t-55296>>Vd)]<<Fv)+(t&q3),this.data[i]):t<this.highStart?(i=this.data[XY-UY+(t>>X8)],i=this.data[i+(t>>Vd&jY)],i=(i<<Fv)+(t&q3),this.data[i]):this.data[this.data.length-qY]}}var YY=ZY,qn={};qn.OP=0;qn.CL=1;qn.CP=2;qn.QU=3;qn.GL=4;qn.NS=5;qn.EX=6;qn.SY=7;qn.IS=8;qn.PR=9;qn.PO=10;qn.NU=11;qn.AL=12;qn.HL=13;qn.ID=14;qn.IN=15;qn.HY=16;qn.BA=17;qn.BB=18;qn.B2=19;qn.ZW=20;qn.CM=21;qn.WJ=22;qn.H2=23;qn.H3=24;qn.JL=25;qn.JV=26;qn.JT=27;qn.RI=28;qn.AI=29;qn.BK=30;qn.CB=31;qn.CJ=32;qn.CR=33;qn.LF=34;qn.NL=35;qn.SA=36;qn.SG=37;qn.SP=38;qn.XX=39;var u2={};let ts,TB,Bt,Qt,si;u2.DI_BRK=Bt=0;u2.IN_BRK=Qt=1;u2.CI_BRK=ts=2;u2.CP_BRK=TB=3;u2.PR_BRK=si=4;u2.pairTable=[[si,si,si,si,si,si,si,si,si,si,si,si,si,si,si,si,si,si,si,si,si,TB,si,si,si,si,si,si,si],[Bt,si,si,Qt,Qt,si,si,si,si,Qt,Qt,Bt,Bt,Bt,Bt,Bt,Qt,Qt,Bt,Bt,si,ts,si,Bt,Bt,Bt,Bt,Bt,Bt],[Bt,si,si,Qt,Qt,si,si,si,si,Qt,Qt,Qt,Qt,Qt,Bt,Bt,Qt,Qt,Bt,Bt,si,ts,si,Bt,Bt,Bt,Bt,Bt,Bt],[si,si,si,Qt,Qt,Qt,si,si,si,Qt,Qt,Qt,Qt,Qt,Qt,Qt,Qt,Qt,Qt,Qt,si,ts,si,Qt,Qt,Qt,Qt,Qt,Qt],[Qt,si,si,Qt,Qt,Qt,si,si,si,Qt,Qt,Qt,Qt,Qt,Qt,Qt,Qt,Qt,Qt,Qt,si,ts,si,Qt,Qt,Qt,Qt,Qt,Qt],[Bt,si,si,Qt,Qt,Qt,si,si,si,Bt,Bt,Bt,Bt,Bt,Bt,Bt,Qt,Qt,Bt,Bt,si,ts,si,Bt,Bt,Bt,Bt,Bt,Bt],[Bt,si,si,Qt,Qt,Qt,si,si,si,Bt,Bt,Bt,Bt,Bt,Bt,Bt,Qt,Qt,Bt,Bt,si,ts,si,Bt,Bt,Bt,Bt,Bt,Bt],[Bt,si,si,Qt,Qt,Qt,si,si,si,Bt,Bt,Qt,Bt,Bt,Bt,Bt,Qt,Qt,Bt,Bt,si,ts,si,Bt,Bt,Bt,Bt,Bt,Bt],[Bt,si,si,Qt,Qt,Qt,si,si,si,Bt,Bt,Qt,Qt,Qt,Bt,Bt,Qt,Qt,Bt,Bt,si,ts,si,Bt,Bt,Bt,Bt,Bt,Bt],[Qt,si,si,Qt,Qt,Qt,si,si,si,Bt,Bt,Qt,Qt,Qt,Qt,Bt,Qt,Qt,Bt,Bt,si,ts,si,Qt,Qt,Qt,Qt,Qt,Bt],[Qt,si,si,Qt,Qt,Qt,si,si,si,Bt,Bt,Qt,Qt,Qt,Bt,Bt,Qt,Qt,Bt,Bt,si,ts,si,Bt,Bt,Bt,Bt,Bt,Bt],[Qt,si,si,Qt,Qt,Qt,si,si,si,Qt,Qt,Qt,Qt,Qt,Bt,Qt,Qt,Qt,Bt,Bt,si,ts,si,Bt,Bt,Bt,Bt,Bt,Bt],[Qt,si,si,Qt,Qt,Qt,si,si,si,Bt,Bt,Qt,Qt,Qt,Bt,Qt,Qt,Qt,Bt,Bt,si,ts,si,Bt,Bt,Bt,Bt,Bt,Bt],[Qt,si,si,Qt,Qt,Qt,si,si,si,Bt,Bt,Qt,Qt,Qt,Bt,Qt,Qt,Qt,Bt,Bt,si,ts,si,Bt,Bt,Bt,Bt,Bt,Bt],[Bt,si,si,Qt,Qt,Qt,si,si,si,Bt,Qt,Bt,Bt,Bt,Bt,Qt,Qt,Qt,Bt,Bt,si,ts,si,Bt,Bt,Bt,Bt,Bt,Bt],[Bt,si,si,Qt,Qt,Qt,si,si,si,Bt,Bt,Bt,Bt,Bt,Bt,Qt,Qt,Qt,Bt,Bt,si,ts,si,Bt,Bt,Bt,Bt,Bt,Bt],[Bt,si,si,Qt,Bt,Qt,si,si,si,Bt,Bt,Qt,Bt,Bt,Bt,Bt,Qt,Qt,Bt,Bt,si,ts,si,Bt,Bt,Bt,Bt,Bt,Bt],[Bt,si,si,Qt,Bt,Qt,si,si,si,Bt,Bt,Bt,Bt,Bt,Bt,Bt,Qt,Qt,Bt,Bt,si,ts,si,Bt,Bt,Bt,Bt,Bt,Bt],[Qt,si,si,Qt,Qt,Qt,si,si,si,Qt,Qt,Qt,Qt,Qt,Qt,Qt,Qt,Qt,Qt,Qt,si,ts,si,Qt,Qt,Qt,Qt,Qt,Qt],[Bt,si,si,Qt,Qt,Qt,si,si,si,Bt,Bt,Bt,Bt,Bt,Bt,Bt,Qt,Qt,Bt,si,si,ts,si,Bt,Bt,Bt,Bt,Bt,Bt],[Bt,Bt,Bt,Bt,Bt,Bt,Bt,Bt,Bt,Bt,Bt,Bt,Bt,Bt,Bt,Bt,Bt,Bt,Bt,Bt,si,Bt,Bt,Bt,Bt,Bt,Bt,Bt,Bt],[Qt,si,si,Qt,Qt,Qt,si,si,si,Bt,Bt,Qt,Qt,Qt,Bt,Qt,Qt,Qt,Bt,Bt,si,ts,si,Bt,Bt,Bt,Bt,Bt,Bt],[Qt,si,si,Qt,Qt,Qt,si,si,si,Qt,Qt,Qt,Qt,Qt,Qt,Qt,Qt,Qt,Qt,Qt,si,ts,si,Qt,Qt,Qt,Qt,Qt,Qt],[Bt,si,si,Qt,Qt,Qt,si,si,si,Bt,Qt,Bt,Bt,Bt,Bt,Qt,Qt,Qt,Bt,Bt,si,ts,si,Bt,Bt,Bt,Qt,Qt,Bt],[Bt,si,si,Qt,Qt,Qt,si,si,si,Bt,Qt,Bt,Bt,Bt,Bt,Qt,Qt,Qt,Bt,Bt,si,ts,si,Bt,Bt,Bt,Bt,Qt,Bt],[Bt,si,si,Qt,Qt,Qt,si,si,si,Bt,Qt,Bt,Bt,Bt,Bt,Qt,Qt,Qt,Bt,Bt,si,ts,si,Qt,Qt,Qt,Qt,Bt,Bt],[Bt,si,si,Qt,Qt,Qt,si,si,si,Bt,Qt,Bt,Bt,Bt,Bt,Qt,Qt,Qt,Bt,Bt,si,ts,si,Bt,Bt,Bt,Qt,Qt,Bt],[Bt,si,si,Qt,Qt,Qt,si,si,si,Bt,Qt,Bt,Bt,Bt,Bt,Qt,Qt,Qt,Bt,Bt,si,ts,si,Bt,Bt,Bt,Bt,Qt,Bt],[Bt,si,si,Qt,Qt,Qt,si,si,si,Bt,Bt,Bt,Bt,Bt,Bt,Bt,Qt,Qt,Bt,Bt,si,ts,si,Bt,Bt,Bt,Bt,Bt,Qt]];const KY=nb,$Y=YY,{BK:Ov,CR:Z3,LF:AE,NL:MB,SG:eK,WJ:tK,CB:vE,SP:ag,BA:RB,NS:iK,AI:rK,AL:JT,CJ:nK,ID:g0e,SA:sK,XX:oK}=qn,{DI_BRK:aK,IN_BRK:lK,CI_BRK:fK,CP_BRK:uK,PR_BRK:b0e,pairTable:cK}=u2,hK=KY.toByteArray("AA4IAAAAAAAAAhqg5VV7NJtZvz7fTC8zU5deplUlMrQoWqmqahD5So0aipYWrUhVFSVBQ10iSTtUtW6nKDVF6k7d75eQfEUbFcQ9KiFS90tQEolcP23nrLPmO+esr/+f39rr/a293t/e7/P8nmfvlz0O6RvrBJADtbBNaD88IOKTOmOrCqhu9zE770vc1pBV/xL5dxj2V7Zj4FGSomFKStCWNlV7hG1VabZfZ1LaHbFrRwzzLjzPoi1UHDnlV/lWbhgIIJvLBp/pu7AHEdRnIY+ROdXxg4fNpMdTxVnnm08OjozejAVsBqwqz8kddGRlRxsd8c55dNZoPuex6a7Dt6L0NNb03sqgTlR2/OT7eTt0Y0WnpUXxLsp5SMANc4DsmX4zJUBQvznwexm9tsMH+C9uRYMPOd96ZHB29NZjCIM2nfO7tsmQveX3l2r7ft0N4/SRJ7kO6Y8ZCaeuUQ4gMTZ67cp7TgxvlNDsPgOBdZi2YTam5Q7m3+00l+XG7PrDe6YoPmHgK+yLih7fAR16ZFCeD9WvOVt+gfNW/KT5/M6rb/9KERt+N1lad5RneVjzxXHsLofuU+TvrEsr3+26sVz5WJh6L/svoPK3qepFH9bysDljWtD1F7KrxzW1i9r+e/NLxV/acts7zuo304J9+t3Pd6Y6u8f3EAqxNRgv5DZjaI3unyvkvHPya/v3mWVYOC38qBq11+yHZ2bAyP1HbkV92vdno7r2lxz9UwCdCJVfd14NLcpO2CadHS/XPJ9doXgz5vLv/1OBVS3gX0D9n6LiNIDfpilO9RsLgZ2W/wIy8W/Rh93jfoz4qmRV2xElv6p2lRXQdO6/Cv8f5nGn3u0wLXjhnvClabL1o+7yvIpvLfT/xsKG30y/sTvq30ia9Czxp9dr9v/e7Yn/O0QJXxxBOJmceP/DBFa1q1v6oudn/e6qc/37dUoNvnYL4plQ9OoneYOh/r8fOFm7yl7FETHY9dXd5K2n/qEc53dOEe1TTJcvCfp1dpTC334l0vyaFL6mttNEbFjzO+ZV2mLk0qc3BrxJ4d9gweMmjRorxb7vic0rSq6D4wzAyFWas1TqPE0sLI8XLAryC8tPChaN3ALEZSWmtB34SyZcxXYn/E4Tg0LeMIPhgPKD9zyHGMxxhxnDDih7eI86xECTM8zodUCdgffUmRh4rQ8zyA6ow/Aei+01a8OMfziQQ+GAEkhwN/cqUFYAVzA9ex4n6jgtsiMvXf5BtXxEU4hSphvx3v8+9au8eEekEEpkrkne/zB1M+HAPuXIz3paxKlfe8aDMfGWAX6Md6PuuAdKHFVH++Ed5LEji94Z5zeiJIxbmWeN7rr1/ZcaBl5/nimdHsHgIH/ssyLUXZ4fDQ46HnBb+hQqG8yNiKRrXL/b1IPYDUsu3dFKtRMcjqlRvONd4xBvOufx2cUHuk8pmG1D7PyOQmUmluisVFS9OWS8fPIe8LiCtjwJKnEC9hrS9uKmISI3Wa5+vdXUG9dtyfr7g/oJv2wbzeZU838G6mEvntUb3SVV/fBZ6H/sL+lElzeRrHy2Xbe7UWX1q5sgOQ81rv+2baej4fP4m5Mf/GkoxfDtT3++KP7do9Jn26aa6xAhCf5L9RZVfkWKCcjI1eYbm2plvTEqkDxKC402bGzXCYaGnuALHabBT1dFLuOSB7RorOPEhZah1NjZIgR/UFGfK3p1ElYnevOMBDLURdpIjrI+qZk4sffGbRFiXuEmdFjiAODlQCJvIaB1rW61Ljg3y4eS4LAcSgDxxZQs0DYa15wA032Z+lGUfpoyOrFo3mg1sRQtN/fHHCx3TrM8eTrldMbYisDLXbUDoXMLejSq0fUNuO1muX0gEa8vgyegkqiqqbC3W0S4cC9Kmt8MuS/hFO7Xei3f8rSvIjeveMM7kxjUixOrl6gJshe4JU7PhOHpfrRYvu7yoAZKa3Buyk2J+K5W+nNTz1nhJDhRUfDJLiUXxjxXCJeeaOe/r7HlBP/uURc/5efaZEPxr55Qj39rfTLkugUGyMrwo7HAglfEjDriehF1jXtwJkPoiYkYQ5aoXSA7qbCBGKq5hwtu2VkpI9xVDop/1xrC52eiIvCoPWx4lLl40jm9upvycVPfpaH9/o2D4xKXpeNjE2HPQRS+3RFaYTc4Txw7Dvq5X6JBRwzs9mvoB49BK6b+XgsZVJYiInTlSXZ+62FT18mkFVcPKCJsoF5ahb19WheZLUYsSwdrrVM3aQ2XE6SzU2xHDS6iWkodk5AF6F8WUNmmushi8aVpMPwiIfEiQWo3CApONDRjrhDiVnkaFsaP5rjIJkmsN6V26li5LNM3JxGSyKgomknTyyrhcnwv9Qcqaq5utAh44W30SWo8Q0XHKR0glPF4fWst1FUCnk2woFq3iy9fAbzcjJ8fvSjgKVOfn14RDqyQuIgaGJZuswTywdCFSa89SakMf6fe+9KaQMYQlKxiJBczuPSho4wmBjdA+ag6QUOr2GdpcbSl51Ay6khhBt5UXdrnxc7ZGMxCvz96A4oLocxh2+px+1zkyLacCGrxnPzTRSgrLKpStFpH5ppKWm7PgMKZtwgytKLOjbGCOQLTm+KOowqa1sdut9raj1CZFkZD0jbaKNLpJUarSH5Qknx1YiOxdA5L6d5sfI/unmkSF65Ic/AvtXt98Pnrdwl5vgppQ3dYzWFwknZsy6xh2llmLxpegF8ayLwniknlXRHiF4hzzrgB8jQ4wdIqcaHCEAxyJwCeGkXPBZYSrrGa4vMwZvNN9aK0F4JBOK9mQ8g8EjEbIQVwvfS2D8GuCYsdqwqSWbQrfWdTRUJMqmpnWPax4Z7E137I6brHbvjpPlfNZpF1d7PP7HB/MPHcHVKTMhLO4f3CZcaccZEOiS2DpKiQB5KXDJ+Ospcz4qTRCRxgrKEQIgUkKLTKKwskdx2DWo3bg3PEoB5h2nA24olwfKSR+QR6TAvEDi/0czhUT59RZmO1MGeKGeEfuOSPWfL+XKmhqpZmOVR9mJVNDPKOS49Lq+Um10YsBybzDMtemlPCOJEtE8zaXhsaqEs9bngSJGhlOTTMlCXly9Qv5cRN3PVLK7zoMptutf7ihutrQ/Xj7VqeCdUwleTTKklOI8Wep9h7fCY0kVtDtIWKnubWAvbNZtsRRqOYl802vebPEkZRSZc6wXOfPtpPtN5HI63EUFfsy7U/TLr8NkIzaY3vx4A28x765XZMzRZTpMk81YIMuwJ5+/zoCuZj1wGnaHObxa5rpKZj4WhT670maRw04w0e3cZW74Z0aZe2n05hjZaxm6urenz8Ef5O6Yu1J2aqYAlqsCXs5ZB5o1JJ5l3xkTVr8rJQ09NLsBqRRDT2IIjOPmcJa6xQ1R5yGP9jAsj23xYDTezdyqG8YWZ7vJBIWK56K+iDgcHimiQOTIasNSua1fOBxsKMMEKd15jxTl+3CyvGCR+UyRwuSI2XuwRIPoNNclPihfJhaq2mKkNijwYLY6feqohktukmI3KDvOpN7ItCqHHhNuKlxMfBAEO5LjW2RKh6lE5Hd1dtAOopac/Z4FdsNsjMhXz/ug8JGmbVJTA+VOBJXdrYyJcIn5+OEeoK8kWEWF+wdG8ZtZHKSquWDtDVyhFPkRVqguKFkLkKCz46hcU1SUY9oJ2Sk+dmq0kglqk4kqKT1CV9JDELPjK1WsWGkEXF87g9P98e5ff0mIupm/w6vc3kCeq04X5bgJQlcMFRjlFWmSk+kssXCAVikfeAlMuzpUvCSdXiG+dc6KrIiLxxhbEVuKf7vW7KmDQI95bZe3H9mN3/77F6fZ2Yx/F9yClllj8gXpLWLpd5+v90iOaFa9sd7Pvx0lNa1o1+bkiZ69wCiC2x9UIb6/boBCuNMB/HYR0RC6+FD9Oe5qrgQl6JbXtkaYn0wkdNhROLqyhv6cKvyMj1Fvs2o3OOKoMYTubGENLfY5F6H9d8wX1cnINsvz+wZFQu3zhWVlwJvwBEp69Dqu/ZnkBf3nIfbx4TK7zOVJH5sGJX+IMwkn1vVBn38GbpTg9bJnMcTOb5F6Ci5gOn9Fcy6Qzcu+FL6mYJJ+f2ZZJGda1VqruZ0JRXItp8X0aTjIcJgzdaXlha7q7kV4ebrMsunfsRyRa9qYuryBHA0hc1KVsKdE+oI0ljLmSAyMze8lWmc5/lQ18slyTVC/vADTc+SNM5++gztTBLz4m0aVUKcfgOEExuKVomJ7XQDZuziMDjG6JP9tgR7JXZTeo9RGetW/Xm9/TgPJpTgHACPOGvmy2mDm9fl09WeMm9sQUAXP3Su2uApeCwJVT5iWCXDgmcuTsFgU9Nm6/PusJzSbDQIMfl6INY/OAEvZRN54BSSXUClM51im6Wn9VhVamKJmzOaFJErgJcs0etFZ40LIF3EPkjFTjGmAhsd174NnOwJW8TdJ1Dja+E6Wa6FVS22Haj1DDA474EesoMP5nbspAPJLWJ8rYcP1DwCslhnn+gTFm+sS9wY+U6SogAa9tiwpoxuaFeqm2OK+uozR6SfiLCOPz36LiDlzXr6UWd7BpY6mlrNANkTOeme5EgnnAkQRTGo9T6iYxbUKfGJcI9B+ub2PcyUOgpwXbOf3bHFWtygD7FYbRhb+vkzi87dB0JeXl/vBpBUz93VtqZi7AL7C1VowTF+tGmyurw7DBcktc+UMY0E10Jw4URojf8NdaNpN6E1q4+Oz+4YePtMLy8FPRP"),dK=new $Y(hK),XT=function(l){switch(l){case rK:return JT;case sK:case eK:case oK:return JT;case nK:return iK;default:return l}},qT=function(l){switch(l){case AE:case MB:return Ov;case vE:return RB;case ag:return tK;default:return l}};class ov{constructor(t,i=!1){this.position=t,this.required=i}}class pK{constructor(t){this.string=t,this.pos=0,this.lastPos=0,this.curClass=null,this.nextClass=null}nextCodePoint(){const t=this.string.charCodeAt(this.pos++),i=this.string.charCodeAt(this.pos);return 55296<=t&&t<=56319&&56320<=i&&i<=57343?(this.pos++,(t-55296)*1024+(i-56320)+65536):t}nextCharClass(){return XT(dK.get(this.nextCodePoint()))}nextBreak(){for(this.curClass==null&&(this.curClass=qT(this.nextCharClass()));this.pos<this.string.length;){this.lastPos=this.pos;const t=this.nextClass;if(this.nextClass=this.nextCharClass(),this.curClass===Ov||this.curClass===Z3&&this.nextClass!==AE)return this.curClass=qT(XT(this.nextClass)),new ov(this.lastPos,!0);let i;switch(this.nextClass){case ag:i=this.curClass;break;case Ov:case AE:case MB:i=Ov;break;case Z3:i=Z3;break;case vE:i=RB;break}if(i!=null){if(this.curClass=i,this.nextClass===vE)return new ov(this.lastPos);continue}let s=!1;switch(cK[this.curClass][this.nextClass]){case aK:s=!0;break;case lK:s=t===ag;break;case fK:if(s=t===ag,!s)continue;break;case uK:if(t!==ag)continue;break}if(this.curClass=this.nextClass,s)return new ov(this.lastPos)}if(this.pos>=this.string.length)return this.lastPos<this.string.length?(this.lastPos=this.string.length,new ov(this.string.length)):null}}var mK=pK;Object.defineProperty(rb,"__esModule",{value:!0});rb.UnicodeLineBreak=void 0;const gK=mK;class bK{constructor(t){this.text=t}getResults(){const t=[];for(const i of this)t.push(i);return t}[Symbol.iterator](){const t=this.text,i=new gK(t);let s=0;return{next:()=>{const u=i.nextBreak();if(!u)return{value:void 0,done:!0};const p=t.slice(s,u.position).replace(/(\r?\n)*$/,""),y=s,A=u.position===t.length;return s=u.position,{value:{word:p,index:y,hasLineBreak:u.required,isLastWord:A},done:!1}}}}}rb.UnicodeLineBreak=bK;var yK=Zs&&Zs.__rest||function(l,t){var i={};for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&t.indexOf(s)<0&&(i[s]=l[s]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(l);u<s.length;u++)t.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(l,s[u])&&(i[s[u]]=l[s[u]]);return i};Object.defineProperty($4,"__esModule",{value:!0});$4.Measurable=void 0;const AK=Uf,vK=rb,wK=Z4;class xK{constructor(){this.caches=new Map}clearCache(){this.caches.clear()}getMeasuredParagraph(t){const s=AK.createCanvas(100,100).getContext("2d");return this.testBestMeasuredParagraph(Object.assign({ctx:s},t))}testBestMeasuredParagraph(t){const{maxWidth:i,maxHeight:s,maxFontSize:u,minFontSize:p,fontSize:y}=t,A=yK(t,["maxWidth","maxHeight","maxFontSize","minFontSize","fontSize"]),E=this.testMeasuredParagraph(Object.assign(Object.assign({},A),{maxWidth:i,fontSize:y})),_=t.useGlyphPadding?E.boundingHeight:E.height,k=t.useGlyphPadding?E.boundingWidth:E.width;if(_<=s&&k<=i)if(t.maxFontSize>E.fontSize){const R=Math.ceil((t.fontSize+t.maxFontSize)/2);return this.testBestMeasuredParagraph(Object.assign(Object.assign({},t),{fontSize:R,minFontSize:E.fontSize}))}else return E;else if(t.minFontSize<E.fontSize){const R=Math.floor((t.fontSize+t.minFontSize)/2);return this.testBestMeasuredParagraph(Object.assign(Object.assign({},t),{fontSize:R,maxFontSize:E.fontSize-1}))}else return E}testMeasuredParagraph(t){const{ctx:i,text:s,noAutoWrap:u,fontFamily:p,fontStyle:y,fontWeight:A,fontSize:E,lineHeight:_,lineHeightMultiplier:k,autoWrapLineHeight:R,autoWrapLineHeightMultiplier:P,useGlyphPadding:B}=t,O=this.testMeasureWords({ctx:i,text:s,fontStyle:y,fontWeight:A,fontSize:E,fontFamily:p}),H=t.maxWidth,z=Math.round(typeof _=="number"?_:typeof k=="number"?E*k:E),Y=Math.round(typeof R=="number"?R:typeof P=="number"?E*P:z),ue=this.testMeasuredWord(Object.assign(Object.assign({},t),{text:" "})).width;let oe={text:"",width:0,paddingTop:-E,paddingBottom:0,paddingLeft:0,paddingRight:0,nextLineHeight:0,measuredWords:[]};const Ae={text:s,width:0,height:0,fontSize:E,fontFamily:p,fontStyle:y,fontWeight:A,spaceWidth:ue,boundingHeight:0,boundingWidth:0,paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,measuredLines:[]};let be;for(const ne of O){let ae=0,ye=0;be&&!be.hasLineBreak&&(ae=be.endingSpaceCount*ue,ye=be.endingSpaceCount);let ge=oe.width+ae+ne.width;B&&(ge+=ne.paddingLeft+ne.paddingRight),!u&&ge>H?(oe.text&&(oe.nextLineHeight=Y,Ae.measuredLines.push(oe)),oe={text:ne.text,width:ne.width,paddingTop:ne.paddingTop,paddingBottom:ne.paddingBottom,paddingLeft:ne.paddingLeft,paddingRight:ne.paddingRight,nextLineHeight:0,measuredWords:[]}):(oe.text+=" ".repeat(ye)+ne.text,oe.paddingTop=Math.max(oe.paddingTop,ne.paddingTop),oe.paddingBottom=Math.max(oe.paddingBottom,ne.paddingBottom),oe.width===0&&(oe.paddingLeft=ne.paddingLeft),oe.paddingRight=ne.paddingRight,oe.width=oe.width+ae+ne.width,oe.measuredWords.push(ne)),ne.isLastWord||ne.hasLineBreak&&(oe.nextLineHeight=z,Ae.measuredLines.push(oe),oe={text:"",width:0,paddingTop:-E,paddingBottom:0,paddingLeft:0,paddingRight:0,nextLineHeight:0,measuredWords:[]}),be=ne}oe.width&&Ae.measuredLines.push(oe);const xe=Ae.measuredLines.length;if(xe){Ae.width=Ae.measuredLines.reduce((ye,ge)=>Math.max(ye,ge.width),0),Ae.height=Ae.measuredLines.reduce((ye,ge)=>ye+ge.nextLineHeight,Ae.fontSize);const ne=Ae.measuredLines[0].paddingTop,ae=Ae.measuredLines[xe-1].paddingBottom;Ae.paddingTop=ne,Ae.paddingBottom=ae,Ae.boundingHeight=Ae.height+ne+ae,Ae.boundingWidth=Ae.measuredLines.reduce((ye,ge)=>Math.max(ye,ge.width+ge.paddingLeft+ge.paddingRight),0),Ae.paddingLeft=Ae.measuredLines.reduce((ye,ge)=>Math.max(ye,ge.paddingLeft),-E),Ae.paddingRight=Ae.measuredLines.reduce((ye,ge)=>Math.max(ye,ge.paddingRight),-E)}return Ae}testMeasureWords(t){const i=[],s=new vK.UnicodeLineBreak(t.text);for(const u of s){const p=u.word,y=p.trimRight(),A=this.testMeasuredWord(Object.assign(Object.assign({},t),{text:y}));i.push({text:y,width:A.width,paddingTop:A.paddingTop,paddingBottom:A.paddingBottom,paddingLeft:A.paddingLeft,paddingRight:A.paddingRight,endingSpaceCount:p.length-y.length,isLastWord:u.isLastWord,hasLineBreak:u.hasLineBreak})}return i}testMeasuredWord(t){const{ctx:i,text:s,fontStyle:u,fontWeight:p,fontSize:y,fontFamily:A}=t,E=wK.getFontString({fontStyle:u,fontWeight:p,fontSize:y,fontFamily:A});i.font=E,this.caches.has(E)||this.caches.set(E,new Map);const _=this.caches.get(E);_.has(y)||_.set(y,new Map);const k=_.get(y);if(!k.has(s)){const R=i.measureText(s);let P=R.actualBoundingBoxLeft,B=R.actualBoundingBoxRight-R.width;R.width>0&&R.actualBoundingBoxLeft/R.width>.8&&R.actualBoundingBoxRight/R.width<.2&&(P=R.actualBoundingBoxLeft-R.width,B=R.actualBoundingBoxRight),k.set(s,{text:s,width:R.width,paddingTop:R.actualBoundingBoxAscent-y,paddingBottom:R.actualBoundingBoxDescent,paddingLeft:P,paddingRight:B})}return k.get(s)}}$4.Measurable=xK;Object.defineProperty(K4,"__esModule",{value:!0});K4.UltimateTextToImage=void 0;const EK=Uf,_K=v1,kK=$4,sh=za;class jd extends _K.BaseClass{constructor(t,i={},s={}){super(),this.text=t,this.options=i,this.renderOptions=s,this._defaultOptions={width:void 0,height:void 0,maxWidth:void 0,maxHeight:void 0,noAutoWrap:!1,fontFamily:"Arial",fontWeight:!1,fontStyle:!1,fontSize:24,minFontSize:void 0,fontColor:"#333333",strokeSize:0,strokeColor:"#000000",lineHeight:void 0,lineHeightMultiplier:void 0,autoWrapLineHeight:void 0,autoWrapLineHeightMultiplier:void 0,margin:0,marginLeft:void 0,marginTop:void 0,marginRight:void 0,marginBottom:void 0,useGlyphPadding:!0,chopOverflow:!1,align:"left",valign:"top",alignToCenterIfHeightLE:0,alignToCenterIfLinesLE:0,borderColor:"#000000",borderSize:0,backgroundColor:"",underlineSize:0,underlineColor:"",images:[],nestedAlign:void 0,nestedValign:void 0}}get measuredParagraph(){return this._checkHasRendered(),this._measuredParagraph}render(){return this._startTimer(),this._createCanvas(),this._endTimer(),this}_createCanvas(){const t=this.text,i=Object.assign({},this._defaultOptions,this.options),{height:s,width:u,noAutoWrap:p,fontFamily:y,fontStyle:A,fontWeight:E,fontSize:_,chopOverflow:k,useGlyphPadding:R,underlineSize:P,underlineColor:B,images:O}=i;let{maxWidth:H,maxHeight:z,minFontSize:Y}=i;z=typeof z=="number"?z:typeof s=="number"?s:jd.maxSize,H=typeof H=="number"?H:typeof u=="number"?u:jd.maxSize,H=Math.max(u||1,H),z=Math.max(s||1,z),Y=typeof Y=="number"?Y:i.fontSize;const ee=typeof i.marginLeft=="number"?i.marginLeft:i.margin,ue=typeof i.marginTop=="number"?i.marginTop:i.margin,oe=typeof i.marginRight=="number"?i.marginRight:i.margin,Ae=typeof i.marginBottom=="number"?i.marginBottom:i.margin,be=jd.measurable.getMeasuredParagraph({text:t,maxWidth:H-ee-oe,maxHeight:z-ue-Ae,noAutoWrap:p,fontFamily:y,fontStyle:A,fontWeight:E,maxFontSize:_,minFontSize:Y,fontSize:_,useGlyphPadding:R,lineHeight:i.lineHeight,lineHeightMultiplier:i.lineHeightMultiplier,autoWrapLineHeight:i.autoWrapLineHeight,autoWrapLineHeightMultiplier:i.autoWrapLineHeightMultiplier}),xe=be.fontSize;let ne=i.valign,ae=i.align;const ye=be.height+ue+Ae,ge=be.boundingHeight+ue+Ae,we=be.width+ee+oe,le=be.boundingWidth+ee+oe;let ie=Math.max(typeof s=="number"?s:ye,Math.min(z,ye)),he=Math.max(typeof u=="number"?u:we,Math.min(H,we));i.alignToCenterIfHeightLE&&be.height<=i.alignToCenterIfHeightLE&&(ne="middle",ae="center"),i.alignToCenterIfLinesLE&&be.measuredLines.length<=i.alignToCenterIfLinesLE&&(ne="middle",ae="center"),R&&(ie=Math.max(typeof s=="number"?s:ge,Math.min(z,ge)),he=Math.max(typeof u=="number"?u:le,Math.min(H,le))),he=Math.max(1,he),ie=Math.max(1,ie),this._measuredParagraph=be,this._canvas=EK.createCanvas(he,ie);const de=this._canvas.getContext("2d");return sh.renderHook(this._canvas,this.renderOptions.preRender),sh.drawImages(de,{width:he,height:ie,layer:-1,images:O}),sh.drawBackgroundColor(de,{color:i.backgroundColor}),sh.drawBorder(de,{color:i.borderColor,size:i.borderSize}),sh.drawImages(de,{width:he,height:ie,layer:0,images:O}),sh.drawTexts(de,{measuredParagraph:be,width:he,height:ie,fontFamily:y,fontStyle:i.fontStyle,fontWeight:i.fontWeight,fontSize:xe,fontColor:i.fontColor,strokeSize:i.strokeSize,strokeColor:i.strokeColor,valign:ne,align:ae,marginLeft:ee,marginTop:ue,marginRight:oe,marginBottom:Ae,chopOverflow:k,useGlyphPadding:R,underlineSize:P,underlineColor:B}),sh.drawImages(de,{width:he,height:ie,layer:1,images:O}),sh.renderHook(this._canvas,this.renderOptions.posRender),this._canvas}}K4.UltimateTextToImage=jd;jd.measurable=new kK.Measurable;jd.maxSize=2<<14-1;var ew={};Object.defineProperty(ew,"__esModule",{value:!0});ew.VerticalImage=void 0;const CK=Uf,SK=v1,Y3=za;class TK extends SK.BaseClass{constructor(t,i={},s={}){super(),this.ultimateTextToImages=t,this.options=i,this.renderOptions=s}render(){this._startTimer();const{backgroundColor:t}=this.options,i=this.options.margin||0;for(const E of this.ultimateTextToImages)E.render();const s=this.ultimateTextToImages.reduce((E,_)=>Math.max(E,_.width),0)+i*2,u=this.ultimateTextToImages.reduce((E,_)=>E+_.height,0)+i*2;this._canvas=new CK.Canvas(s,u);const p=this._canvas.getContext("2d");Y3.renderHook(this._canvas,this.renderOptions.preRender),Y3.drawBackgroundColor(p,{color:t});let y=0,A=i;for(const E of this.ultimateTextToImages){let _=this.options.align;E.options.nestedAlign&&(_=E.options.nestedAlign),_==="right"?y=s-E.width-i:_==="center"?y=(s-E.width)/2:y=i,p.drawImage(E.canvas,y,A),A+=E.height}return Y3.renderHook(this._canvas,this.renderOptions.posRender),this._endTimer(),this}}ew.VerticalImage=TK;(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeLineBreak=l.VerticalImage=l.HorizontalImage=l.UltimateTextToImage=l.registerFont=l.getCanvasImage=void 0;const t=X4;Object.defineProperty(l,"getCanvasImage",{enumerable:!0,get:function(){return t.getCanvasImage}});const i=q4;Object.defineProperty(l,"HorizontalImage",{enumerable:!0,get:function(){return i.HorizontalImage}});const s=Y4;Object.defineProperty(l,"registerFont",{enumerable:!0,get:function(){return s.registerFont}});const u=K4;Object.defineProperty(l,"UltimateTextToImage",{enumerable:!0,get:function(){return u.UltimateTextToImage}});const p=rb;Object.defineProperty(l,"UnicodeLineBreak",{enumerable:!0,get:function(){return p.UnicodeLineBreak}});const y=ew;Object.defineProperty(l,"VerticalImage",{enumerable:!0,get:function(){return y.VerticalImage}})})(a4);class MK extends Xa{constructor(t){super();const i=this,s=document.createElement("form"),u=new sR;editor.camera.add(u);const p=document.createElement("input");p.type="file",p.accept=".mp3, .ogg",p.addEventListener("change",function(E){A(E.target.files[0])}),s.appendChild(p),i.dom.textContent="Upload",i.dom.style.color="",i.dom.addEventListener("click",function(){p.click()});const y=new j4(u);function A(E){const _=E.name.split(".").pop().toLowerCase(),k=new FileReader;if(E.size>8e6){i.dom.style.color="red",i.dom.textContent="File cannot be larger than 8Mb";return}if(!["mp3","ogg"].includes(_)){i.dom.style.color="red",i.dom.textContent="Suppport mp3 & ogg only";return}k.addEventListener("load",function(R){new E8().load(R.target.result,function(B){if(B.duration>60){i.dom.style.color="red",i.dom.textContent="Audio cannot be longer than 1 minute";return}i.dom.style.color="",i.dom.textContent=`${E.name}`,i.setValue({sourceFile:E.name,base64:R.target.result,objectUuid:editor.selected.uuid}),i.onChangeCallback&&i.onChangeCallback(B),y.setBuffer(B),y.play()})}),k.readAsDataURL(E),s.reset()}this.audio=null,this.onChangeCallback=null,editor.signals.objectSelected.add(async function(E){})}getValue(){return this.audio}setValue(t){var i;this.audio=t,this.dom.textContent=(i=t.sourceFile)!=null?i:"Upload"}onChange(t){return this.onChangeCallback=t,this}}class RK extends Xa{constructor(t){super();const i=this,s=document.createElement("form"),u=document.createElement("input");u.type="file",u.accept=".mp4, .pdf, .pptx",u.addEventListener("change",function(y){p(y.target.files[0])}),s.appendChild(u),i.dom.style.color="",i.dom.textContent="Upload",i.dom.addEventListener("click",function(){u.click()});async function p(y){var H,z;const A=editor.selected;if(((H=A==null?void 0:A.userData)==null?void 0:H.type)!=="Presentation")return;const E=y.name.split(".").pop().toLowerCase(),_=new FileReader;if(y.size>16e6){i.dom.style.color="red",i.dom.textContent="File cannot be larger than 16Mb";return}if(!["mp4","pdf","pptx"].includes(E)){i.dom.style.color="red",i.dom.textContent="Suppport mp4, pdf & pptx only";return}_.addEventListener("load",function(Y){const ee={};ee.sourceFile=y.name,ee.isPresentation=!0,ee.base64=Y.target.result,i.dom.textContent=`${ee.sourceFile}`,i.dom.style.color="",i.setValue({base64:ee.base64,sourceFile:ee.sourceFile,objectUuid:editor.selected.uuid}),i.onChangeCallback&&i.onChangeCallback(ee)}),_.readAsDataURL(y);let k="Presentation";const R=editor.getObjectPresentation(A);(z=R==null?void 0:R.value)!=null&&z.sourceFile&&(k=R.value.sourceFile),y.name&&(i.dom.textContent=y.name,k=y.name);let P=new Image;window.process=null;const B=new a4.UltimateTextToImage(k,{width:500,height:500,align:"center",valign:"middle",fontColor:"#ffffff",backgroundColor:"#000000"}).render().toDataUrl();P.src=B;let O=new ns;O.image=P,O.needsUpdate=!0,A.material.map=O,A.material.transparent=!1,A.material.map.needsUpdate=!0,A.material.needsUpdate=!0,s.reset()}this.presentation=null,this.onChangeCallback=null,editor.signals.objectChanged.add(function(y){var A,E;if(((A=editor.getObjectPresentation(y))==null?void 0:A.option)&&!editor.getObjectPresentation(y).value.sourceFile){u.accept=`.${(E=editor.getObjectPresentation(y))==null?void 0:E.option}`,i.dom.textContent="Upload";let _=new Image;window.process=null;const k=new a4.UltimateTextToImage("Presentation",{width:500,height:500,align:"center",valign:"middle",fontColor:"#ffffff",backgroundColor:"#000000"}).render().toDataUrl();_.src=k;let R=new ns;R.image=_,y.material.map=R,R.needsUpdate=!0,y.material.transparent=!1,y.material.map.needsUpdate=!0,y.material.needsUpdate=!0}}),editor.signals.objectSelected.add(async function(y){})}getValue(){return this.presentation}setValue(t){this.presentation=t}onChange(t){return this.onChangeCallback=t,this}}class Gd extends l2{constructor(t){super();const i=this,s=document.createElement("form"),u=document.createElement("input");u.type="file",u.addEventListener("change",function(A){y(A.target.files[0])}),s.appendChild(u);const p=document.createElement("canvas");p.width=32,p.height=18,p.style.cursor="pointer",p.style.marginRight="5px",p.style.border="1px solid #888",p.style.display="flex",p.addEventListener("click",function(){u.click()}),p.addEventListener("drop",function(A){A.preventDefault(),A.stopPropagation(),y(A.dataTransfer.files[0])}),this.dom.appendChild(p);function y(A){const E=A.name.split(".").pop().toLowerCase(),_=new FileReader;E==="hdr"||E==="pic"?(_.addEventListener("load",function(k){new RGBELoader().load(k.target.result,function(P){P.sourceFile=A.name,P.isHDRTexture=!0,i.setValue(P),i.onChangeCallback&&i.onChangeCallback(P)})}),_.readAsDataURL(A)):E==="tga"?(_.addEventListener("load",function(k){const R=new _R().parse(k.target.result),P=new Xg(R,t);P.sourceFile=A.name,i.setValue(P),i.onChangeCallback&&i.onChangeCallback(P)},!1),_.readAsArrayBuffer(A)):A.type.match("image.*")&&(_.addEventListener("load",function(k){const R=document.createElement("img");R.addEventListener("load",function(){const P=new ns(this,t);P.sourceFile=A.name,P.needsUpdate=!0,i.setValue(P),i.onChangeCallback&&i.onChangeCallback(P)},!1),R.src=k.target.result},!1),_.readAsDataURL(A)),s.reset()}this.texture=null,this.onChangeCallback=null}getValue(){return this.texture}setValue(t){const i=this.dom.children[0],s=i.getContext("2d");if(s&&s.clearRect(0,0,i.width,i.height),t!==null){const u=t.image;if(u!==void 0&&u.width>0){i.title=t.sourceFile;const p=i.width/u.width;if(u.data===void 0)s.drawImage(u,0,0,u.width*p,u.height*p);else{const y=DK(t);s.drawImage(y,0,0,u.width*p,u.height*p)}}else i.title=t.sourceFile+" (error)"}else i.title="empty";this.texture=t}setEncoding(t){const i=this.getValue();return i!==null&&(i.encoding=t),this}onChange(t){return this.onChangeCallback=t,this}}class BK extends ea{constructor(t){super(),this.dom.className="Outliner",this.dom.tabIndex=0;const i=this;this.scene=t.scene,this.dom.addEventListener("keydown",function(s){switch(s.keyCode){case 38:case 40:s.preventDefault(),s.stopPropagation();break}}),this.dom.addEventListener("keyup",function(s){switch(s.keyCode){case 38:i.selectIndex(i.selectedIndex-1);break;case 40:i.selectIndex(i.selectedIndex+1);break}}),this.editor=t,this.options=[],this.selectedIndex=-1,this.selectedValue=null}selectIndex(t){if(t>=0&&t<this.options.length){this.setValue(this.options[t].value);const i=document.createEvent("HTMLEvents");i.initEvent("change",!0,!0),this.dom.dispatchEvent(i)}}setOptions(t){const i=this;for(;i.dom.children.length>0;)i.dom.removeChild(i.dom.firstChild);function s(){i.setValue(this.value);const R=document.createEvent("HTMLEvents");R.initEvent("change",!0,!0),i.dom.dispatchEvent(R)}let u;function p(){u=this}function y(R){R.dataTransfer.setData("text","foo")}function A(R){if(this===u)return;const P=R.offsetY/this.clientHeight;P<.25?this.className="option dragTop":P>.75?this.className="option dragBottom":this.className="option drag"}function E(){this!==u&&(this.className="option")}function _(R){if(this===u||u===void 0)return;this.className="option";const P=i.scene,B=P.getObjectById(u.value),O=R.offsetY/this.clientHeight;if(O<.25){const H=P.getObjectById(this.value);k(B,H.parent,H)}else if(O>.75){let H,z;this.nextSibling!==null?(H=P.getObjectById(this.nextSibling.value),z=H.parent):(H=null,z=P.getObjectById(this.value).parent),k(B,z,H)}else{const H=P.getObjectById(this.value);if(B.type==="Mesh"&&H.type==="Mesh"||["Group","Exit","Entrance","Portal"].includes(`${B.userData.type}`))return;k(B,H,null,"Grouping")}}function k(R,P,B,O){B===null&&(B=void 0);let H=!1;if(R.traverse(function(ee){ee===P&&(H=!0)}),H)return;const z=i.editor;O==="Grouping"&&z.execute(new Ig(z,R,P,B,"Grouping")),z.execute(new Ig(z,R,P,B));const Y=document.createEvent("HTMLEvents");Y.initEvent("change",!0,!0),i.dom.dispatchEvent(Y)}i.options=[];for(let R=0;R<t.length;R++){const P=t[R];P.className="option",i.dom.appendChild(P),i.options.push(P),P.addEventListener("click",s),P.draggable===!0&&(P.addEventListener("drag",p),P.addEventListener("dragstart",y),P.addEventListener("dragover",A),P.addEventListener("dragleave",E),P.addEventListener("drop",_))}return i}getValue(){return this.selectedValue}setValue(t){for(let i=0;i<this.options.length;i++){const s=this.options[i];if(s.value===t){s.classList.add("active");const u=s.offsetTop-this.dom.offsetTop,y=u+s.offsetHeight-this.dom.offsetHeight;this.dom.scrollTop>u?this.dom.scrollTop=u:this.dom.scrollTop<y&&(this.dom.scrollTop=y),this.selectedIndex=i}else s.classList.remove("active")}return this.selectedValue=t,this}}class gg extends l2{constructor(t,i){super(),this.setMarginRight("4px"),this.checkbox=new Rh(t),this.text=new dr(i).setMarginLeft("3px"),this.add(this.checkbox),this.add(this.text)}getValue(){return this.checkbox.getValue()}setValue(t){return this.checkbox.setValue(t)}}class IK extends Ys{constructor(t,i){super(document.createElement("img")),this.dom.src=t,this.dom.style.cursor="pointer",this.dom.className="Icon",this.dom.setAttribute("autocomplete","off");function s(u){u.preventDefault(),i()}this.dom.addEventListener("mousedown",s)}getValue(){return this.value}setValue(t){return t!==void 0&&(t=parseFloat(t),t<this.min&&(t=this.min),t>this.max&&(t=this.max),t=Math.round(t/this.snap)*this.snap,this.value=t,this.dom.value=t.toFixed(this.precision),this.unit!==""&&(this.dom.value+=" "+this.unit)),this}setPrecision(t){return this.precision=t,this}setStep(t){return this.step=t,this}setSnap(t){return this.snap=t,this}setNudge(t){return this.nudge=t,this}setRange(t,i){return this.min=t,this.max=i,this}setUnit(t){return this.unit=t,this}}let gp;function DK(l){gp===void 0&&(gp=new j0,gp.outputEncoding=b0);const t=l.image;gp.setSize(t.width,t.height,!1);const i=new Ch,s=new Lh(-1,1,1,-1,0,1),u=new Us({map:l}),p=new $o(2,2),y=new ir(p,u);return i.add(y),gp.render(i,s),gp.domElement}function PK(l){const t=l.signals,i=l.strings,s=new on;s.setBorderTop("0");const u=new WeakMap;function p(He,ce){var lt,Te,Ye,mt;const Re=document.createElement("div");if(Re.draggable=ce,Re.innerHTML=E(He),Re.value=He.id,u.has(He)){const $e=u.get(He),gt=document.createElement("span");gt.classList.add("opener"),He.children&&(He.children.length>0&&gt.insertBefore(rs().getKey($e?"sidebar/outliner/unfold":"sidebar/outliner/fold"),gt.firstChild),gt.addEventListener("click",function(){u.set(He,u.get(He)===!1),Le()})),Re.insertBefore(gt,Re.firstChild);const kt=document.createElement("span");kt.classList.add("grouper"),((lt=He.parent)==null?void 0:lt.type)==="Scene"&&!["Exit","Entrance","Portal","Model"].includes((Te=He.userData)==null?void 0:Te.type)&&kt.insertBefore(rs().getKey(He.userData.type==="Group"?"sidebar/outliner/ungroup":"sidebar/outliner/group"),kt.firstChild),kt.addEventListener("click",function(){var Ft,Yt;if(((Ft=He.parent)==null?void 0:Ft.type)==="Scene"&&!["Exit","Entrance","Portal","Model"].includes((Yt=He.userData)==null?void 0:Yt.type)){if(He.userData.type==="Group")[...He.children].forEach(($t,vi)=>{l.execute(new Ig(l,$t,l.scene)),l.execute(new n1(l,$t,He.position.add($t.position),$t.position))}),l.execute(new tb(l,He));else{const $t=new xl;$t.userData.type="Group",$t.name=`${He.name}'s Group`;const{x:vi,y:Xi,z:Ki}=He.position;$t.translateX(vi),$t.translateY(Xi),$t.translateZ(Ki),l.execute(new v0(l,$t)),l.execute(new n1(l,He,new wt(0,0,0))),l.execute(new Ig(l,He,$t))}l.signals.objectChanged.dispatch(He),Le()}}),Re.insertBefore(kt,Re.firstChild);const Kt=document.createElement("span");Kt.classList.add("locker"),He&&Kt.insertBefore(rs().getKey((Ye=He.userData)!=null&&Ye.locked?"sidebar/outliner/lock":"sidebar/outliner/unlock"),Kt.firstChild),Kt.classList.add("locker"),Kt.classList.add((mt=He.userData)!=null&&mt.locked?"remove":"add"),Kt.addEventListener("click",function(){l.setObjectLock(He),Le()}),Re.insertBefore(Kt,Re.firstChild)}return Re}function y(He){return He.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function A(He){return He.isScene?"Scene":He.isCamera?"Camera":He.isLight?"Light":He.isMesh?"Mesh":He.isLine?"Line":He.isPoints?"Points":"Object3D"}function E(He){let ce=`<span class="type ${A(He)}"></span> ${y(He.name)}`;return He.isMesh&&(He.geometry,He.material,ce+=' <span class="type Material"></span>'),ce+=_(He.uuid),ce}function _(He){return l.scripts[He]!==void 0?' <span class="type Script"></span>':""}let k=!1;const R=new BK(l);R.setId("outliner"),R.onChange(function(){k=!0,l.scene.getObjectById(R.getValue())&&l.selectById(parseInt(R.getValue())),k=!1}),R.onDblClick(function(){l.focusById(parseInt(R.getValue()))}),s.add(R),s.add(new pE);const P=new Ci,B=new Eu(l.config.getKey("project/title")).setLeft("100px").setWidth("150px").onChange(function(){l.config.setKey("project/title",this.getValue())});P.add(new dr(i.getKey("sidebar/project/title")).setWidth("90px")),P.add(B);const O=new Ci,H=new Ra().setOptions({None:"",Color:"Color",Equirectangular:"Image"}).setWidth("150px");H.onChange(function(){ue(),oe()}),O.add(new dr(i.getKey("sidebar/scene/background")).setWidth("90px")),O.add(H);const z=new Bh().setValue("#eff9f9").setMarginLeft("8px").onInput(ue);O.add(z);const Y=new Gd().setMarginLeft("8px").onChange(ue);Y.setDisplay("none"),O.add(Y);const ee=new Gd().setMarginLeft("8px").onChange(ue);ee.setDisplay("none"),O.add(ee);function ue(){t.sceneBackgroundChanged.dispatch(H.getValue(),z.getHexValue(),Y.getValue(),ee.getValue())}function oe(){const He=H.getValue();H.setWidth(He==="None"?"150px":"110px"),z.setDisplay(He==="Color"?"":"none"),Y.setDisplay(He==="Texture"?"":"none"),ee.setDisplay(He==="Equirectangular"?"":"none")}const Ae=new Ci,be=new Ra().setOptions({None:"",Equirectangular:"Equirect",ModelViewer:"ModelViewer"}).setWidth("150px");be.setValue("ModelViewer"),be.onChange(function(){ne(),ae()}),Ae.add(new dr(i.getKey("sidebar/scene/environment")).setWidth("90px")),Ae.add(be);const xe=new Gd().setMarginLeft("8px").onChange(ne);xe.setDisplay("none"),Ae.add(xe);function ne(){t.sceneEnvironmentChanged.dispatch(be.getValue(),xe.getValue())}function ae(){const He=be.getValue();be.setWidth(He!=="Equirectangular"?"150px":"110px"),xe.setDisplay(He==="Equirectangular"?"":"none")}function ye(){t.sceneFogChanged.dispatch(le.getValue(),he.getHexValue(),de.getValue(),Se.getValue(),Be.getValue())}function ge(){t.sceneFogSettingsChanged.dispatch(le.getValue(),he.getHexValue(),de.getValue(),Se.getValue(),Be.getValue())}const we=new Ci,le=new Ra().setOptions({None:"",Fog:"Linear",FogExp2:"Exponential"}).setWidth("150px");le.onChange(function(){ye(),nt()}),we.add(new dr(i.getKey("sidebar/scene/fog")).setWidth("90px")),we.add(le);const ie=new Ci;ie.setDisplay("none"),ie.setMarginLeft("90px"),s.add(ie);const he=new Bh().setValue("#aaaaaa");he.onInput(ge),ie.add(he);const de=new a0(.1).setWidth("40px").setRange(0,1/0).onChange(ge);ie.add(de);const Se=new a0(50).setWidth("40px").setRange(0,1/0).onChange(ge);ie.add(Se);const Be=new a0(.05).setWidth("40px").setRange(0,.1).setStep(.001).setPrecision(3).onChange(ge);ie.add(Be);function Le(){const He=l.camera,ce=l.scene,Re=[];Re.push(p(He,!1)),Re.push(p(ce,!1)),function lt(Te,Ye){for(let mt=0,$e=Te.length;mt<$e;mt++){const gt=Te[mt];u.has(gt)===!1&&u.set(gt,!1);const kt=p(gt,!0);kt.style.paddingLeft=Ye*18+"px",Re.push(kt),u.get(gt)===!0&&lt(gt.children,Ye+1)}}(ce.children,0),R.setOptions(Re),l.selected!==null&&R.setValue(l.selected.id),B.setValue(l.config.getKey("project/title")),ce.background?ce.background.isColor?(H.setValue("Color"),z.setHexValue(ce.background.getHex())):ce.background.isTexture&&(ce.background.mapping===sc?(H.setValue("Equirectangular"),ee.setValue(ce.background)):(H.setValue("Texture"),Y.setValue(ce.background))):H.setValue("None"),ce.environment?ce.environment.mapping===sc&&(be.setValue("Equirectangular"),xe.setValue(ce.environment)):be.setValue("ModelViewer"),ce.fog?(he.setHexValue(ce.fog.color.getHex()),ce.fog.isFog?(le.setValue("Fog"),de.setValue(ce.fog.near),Se.setValue(ce.fog.far)):ce.fog.isFogExp2&&(le.setValue("FogExp2"),Be.setValue(ce.fog.density))):le.setValue("None"),oe(),ae(),nt()}function nt(){const He=le.getValue();ie.setDisplay(He==="None"?"none":""),de.setDisplay(He==="Fog"?"":"none"),Se.setDisplay(He==="Fog"?"":"none"),Be.setDisplay(He==="FogExp2"?"":"none")}return Le(),t.editorCleared.add(Le),t.sceneGraphChanged.add(Le),t.objectSelected.add(function(He){if(k!==!0)if(He!==null&&He.parent!==null){let ce=!1,Re=He.parent;for(;Re!==l.scene;)u.get(Re)!==!0&&(u.set(Re,!0),ce=!0),Re=Re.parent;ce&&Le(),R.setValue(He.id)}else R.setValue(null)}),t.editorCleared.add(function(){B.setValue(l.config.getKey("project/title")),Le()}),s}function LK(l){const t=l.strings,i=l.signals,s=new on;s.setBorderTop("0"),s.setDisplay("none");const u=new Ci;u.setClass("line"),s.add(u);const p=new Ci;p.setClass("title"),p.add(new dr(t.getKey("sidebar/properties/object")).setWidth("120px")),s.add(p);const y=new Ci,A=new dr;y.add(new dr(t.getKey("sidebar/object/type")).setWidth("120px")),y.add(A);const E=new Ci,_=new Eu().setWidth("102px").setFontSize("12px").setDisabled(!0),k=new Xa(t.getKey("sidebar/object/new")).setMarginLeft("7px").onClick(function(){_.setValue(Cf.generateUUID()),l.execute(new M8(l,l.selected,_.getValue()))});E.add(new dr(t.getKey("sidebar/object/uuid")).setWidth("120px")),E.add(_),E.add(k);const R=new Ci,P=new Eu().setWidth("150px").setFontSize("12px").onChange(function(){l.execute(new vs(l,l.selected,"name",P.getValue()))});R.add(new dr(t.getKey("sidebar/object/name")).setWidth("120px")),R.add(P),s.add(R);const B=new Ci,O=new Rh().onChange(ht);B.add(new dr(t.getKey("sidebar/object/visible")).setWidth("120px")),B.add(O),s.add(B);const{X:H,Y:z,Z:Y}=o4.ROOM.SIZE,ee=new Ci,ue=new a0().addClass("x").setSnap(.01).setPrecision(2).setRange(H.MIN,H.MAX).setWidth("40px").onChange(ht),oe=new a0().addClass("y").setSnap(.01).setPrecision(2).setRange(z.MIN,z.MAX).setWidth("40px").onChange(ht),Ae=new a0().addClass("z").setSnap(.01).setPrecision(2).setRange(Y.MIN,Y.MAX).setWidth("40px").onChange(ht);ee.add(new dr(t.getKey("sidebar/object/position")).setWidth("120px")),ee.add(ue,oe,Ae),s.add(ee);const be=new Ci,xe=new a0().addClass("x").setSnap(1).setStep(10).setPrecision(0).setUnit("\xB0").setWidth("40px").onChange(ht),ne=new a0().addClass("y").setSnap(1).setStep(10).setPrecision(0).setUnit("\xB0").setWidth("40px").onChange(ht),ae=new a0().addClass("z").setSnap(1).setStep(10).setPrecision(0).setUnit("\xB0").setWidth("40px").onChange(ht);be.add(new dr(t.getKey("sidebar/object/rotation")).setWidth("120px"));const ye=new pa("sidebar/object/rotation/reset",()=>{xe.setValue(0),ne.setValue(0),ae.setValue(0),ht()});be.add(xe,ne,ae,ye),s.add(be);const{X:ge,Y:we,Z:le}=o4.OBJECT.EDIT.SCALE.RANGE,ie=new Ci,he=new a0(1).addClass("x").setSnap(.1).setStep(1).setRange(ge.MIN,ge.MAX).setPrecision(1).setWidth("40px").onChange(ht),de=new a0(1).addClass("y").setSnap(.1).setStep(1).setRange(we.MIN,we.MAX).setPrecision(1).setWidth("40px").onChange(ht),Se=new a0(1).addClass("z").setSnap(.1).setStep(1).setRange(le.MIN,le.MAX).setPrecision(1).setWidth("40px").onChange(ht);ie.add(new dr(t.getKey("sidebar/object/scale")).setWidth("120px"));const Be=new pa("sidebar/object/rotation/reset",()=>{he.setValue(1),de.setValue(1),Se.setValue(1),ht()});ie.add(he,de,Se,Be),s.add(ie);const Le=new Ci,nt=new dr;Le.add(new dr(t.getKey("sidebar/geometry/type")).setWidth("120px")),Le.add(nt);const He=new l2;s.add(He);const ce=new Ci,Re=new a0().onChange(ht);ce.add(new dr(t.getKey("sidebar/object/fov")).setWidth("120px")),ce.add(Re),s.add(ce);const lt=new Ci,Te=new a0().onChange(ht);lt.add(new dr(t.getKey("sidebar/object/left")).setWidth("120px")),lt.add(Te),s.add(lt);const Ye=new Ci,mt=new a0().onChange(ht);Ye.add(new dr(t.getKey("sidebar/object/right")).setWidth("120px")),Ye.add(mt),s.add(Ye);const $e=new Ci,gt=new a0().onChange(ht);$e.add(new dr(t.getKey("sidebar/object/top")).setWidth("120px")),$e.add(gt),s.add($e);const kt=new Ci,Kt=new a0().onChange(ht);kt.add(new dr(t.getKey("sidebar/object/bottom")).setWidth("120px")),kt.add(Kt),s.add(kt);const Ft=new Ci,Yt=new a0().onChange(ht);Ft.add(new dr(t.getKey("sidebar/object/near")).setWidth("120px")),Ft.add(Yt),s.add(Ft);const $t=new Ci,vi=new a0().onChange(ht);$t.add(new dr(t.getKey("sidebar/object/far")).setWidth("120px")),$t.add(vi),s.add($t);const Xi=new Ci,Ki=new a0().setSnap(.1).onChange(ht);Xi.add(new dr(t.getKey("sidebar/object/intensity")).setWidth("120px")),Xi.add(Ki),s.add(Xi);const or=new Ci,Et=new Bh().onInput(ht);or.add(new dr(t.getKey("sidebar/object/color")).setWidth("120px")),or.add(Et),s.add(or);const Ct=new Ci,ri=new Bh().onInput(ht);Ct.add(new dr(t.getKey("sidebar/object/groundcolor")).setWidth("120px")),Ct.add(ri),s.add(Ct);const pt=new Ci,ft=new a0().setRange(0,1/0).onChange(ht);pt.add(new dr(t.getKey("sidebar/object/distance")).setWidth("120px")),pt.add(ft),s.add(pt);const Lt=new Ci,ii=new a0().setPrecision(3).setRange(0,Math.PI/2).onChange(ht);Lt.add(new dr(t.getKey("sidebar/object/angle")).setWidth("120px")),Lt.add(ii),s.add(Lt);const bi=new Ci,rt=new a0().setRange(0,1).onChange(ht);bi.add(new dr(t.getKey("sidebar/object/penumbra")).setWidth("120px")),bi.add(rt),s.add(bi);const Pe=new Ci,Me=new a0().setRange(0,1/0).onChange(ht);Pe.add(new dr(t.getKey("sidebar/object/decay")).setWidth("120px")),Pe.add(Me),s.add(Pe);const bt=new Ci;bt.add(new dr(t.getKey("sidebar/object/shadow")).setWidth("120px"));const zt=new gg(!1,t.getKey("sidebar/object/cast")).onChange(ht),It=new gg(!1,t.getKey("sidebar/object/receive")).onChange(ht),yt=new Ci;yt.add(new dr(t.getKey("sidebar/object/shadowBias")).setWidth("120px"));const Di=new a0(0).setPrecision(5).setStep(1e-4).setNudge(1e-5).onChange(ht);yt.add(Di);const Tt=new Ci;Tt.add(new dr(t.getKey("sidebar/object/shadowNormalBias")).setWidth("120px"));const Ot=new a0(0).onChange(ht);Tt.add(Ot);const li=new Ci;li.add(new dr(t.getKey("sidebar/object/shadowRadius")).setWidth("120px"));const Ti=new a0(1).onChange(ht);li.add(Ti);const Ui=new Ci,gr=new Rh().onChange(ht);Ui.add(new dr(t.getKey("sidebar/object/frustumcull")).setWidth("120px")),Ui.add(gr);const kr=new Ci,mr=new og().setWidth("50px").onChange(ht);kr.add(new dr(t.getKey("sidebar/object/renderorder")).setWidth("120px")),kr.add(mr);const Fe=new Ci,Ze=new G8().setWidth("150px").setHeight("40px").setFontSize("12px").onChange(ht);Ze.onKeyUp(function(){try{JSON.parse(Ze.getValue()),Ze.dom.classList.add("success"),Ze.dom.classList.remove("fail")}catch{Ze.dom.classList.remove("success"),Ze.dom.classList.add("fail")}}),Fe.add(new dr(t.getKey("sidebar/object/userdata")).setWidth("120px")),Fe.add(Ze);function ht(){const jt=l.selected;if(jt!==null){let nr=new wt(ue.getValue(),oe.getValue(),Ae.getValue());jt.position.distanceTo(nr)>=.01&&l.execute(new n1(l,jt,nr,jt.position));const Mn=new ao(xe.getValue()*Cf.DEG2RAD,ne.getValue()*Cf.DEG2RAD,ae.getValue()*Cf.DEG2RAD);new wt().setFromEuler(jt.rotation).distanceTo(new wt().setFromEuler(Mn))>=.01&&l.execute(new V8(l,jt,Mn));const Mt=new wt(he.getValue(),de.getValue(),Se.getValue());jt.scale.distanceTo(Mt)>=.01&&l.execute(new j8(l,jt,Mt,jt.scale)),jt.fov!==void 0&&Math.abs(jt.fov-Re.getValue())>=.01&&(l.execute(new vs(l,jt,"fov",Re.getValue())),jt.updateProjectionMatrix()),jt.left!==void 0&&Math.abs(jt.left-Te.getValue())>=.01&&(l.execute(new vs(l,jt,"left",Te.getValue())),jt.updateProjectionMatrix()),jt.right!==void 0&&Math.abs(jt.right-mt.getValue())>=.01&&(l.execute(new vs(l,jt,"right",mt.getValue())),jt.updateProjectionMatrix()),jt.top!==void 0&&Math.abs(jt.top-gt.getValue())>=.01&&(l.execute(new vs(l,jt,"top",gt.getValue())),jt.updateProjectionMatrix()),jt.bottom!==void 0&&Math.abs(jt.bottom-Kt.getValue())>=.01&&(l.execute(new vs(l,jt,"bottom",Kt.getValue())),jt.updateProjectionMatrix()),jt.near!==void 0&&Math.abs(jt.near-Yt.getValue())>=.01&&(l.execute(new vs(l,jt,"near",Yt.getValue())),jt.isOrthographicCamera&&jt.updateProjectionMatrix()),jt.far!==void 0&&Math.abs(jt.far-vi.getValue())>=.01&&(l.execute(new vs(l,jt,"far",vi.getValue())),jt.isOrthographicCamera&&jt.updateProjectionMatrix()),jt.intensity!==void 0&&Math.abs(jt.intensity-Ki.getValue())>=.01&&l.execute(new vs(l,jt,"intensity",Ki.getValue())),jt.color!==void 0&&jt.color.getHex()!==Et.getHexValue()&&l.execute(new dE(l,jt,"color",Et.getHexValue())),jt.groundColor!==void 0&&jt.groundColor.getHex()!==ri.getHexValue()&&l.execute(new dE(l,jt,"groundColor",ri.getHexValue())),jt.distance!==void 0&&Math.abs(jt.distance-ft.getValue())>=.01&&l.execute(new vs(l,jt,"distance",ft.getValue())),jt.angle!==void 0&&Math.abs(jt.angle-ii.getValue())>=.01&&l.execute(new vs(l,jt,"angle",ii.getValue())),jt.penumbra!==void 0&&Math.abs(jt.penumbra-rt.getValue())>=.01&&l.execute(new vs(l,jt,"penumbra",rt.getValue())),jt.decay!==void 0&&Math.abs(jt.decay-Me.getValue())>=.01&&l.execute(new vs(l,jt,"decay",Me.getValue())),jt.visible!==O.getValue()&&l.execute(new vs(l,jt,"visible",O.getValue())),jt.frustumCulled!==gr.getValue()&&l.execute(new vs(l,jt,"frustumCulled",gr.getValue())),jt.renderOrder!==mr.getValue()&&l.execute(new vs(l,jt,"renderOrder",mr.getValue())),jt.castShadow!==void 0&&jt.castShadow!==zt.getValue()&&l.execute(new vs(l,jt,"castShadow",zt.getValue())),jt.receiveShadow!==It.getValue()&&(jt.material!==void 0&&(jt.material.needsUpdate=!0),l.execute(new vs(l,jt,"receiveShadow",It.getValue()))),jt.shadow!==void 0&&(jt.shadow.bias!==Di.getValue()&&l.execute(new vs(l,jt.shadow,"bias",Di.getValue())),jt.shadow.normalBias!==Ot.getValue()&&l.execute(new vs(l,jt.shadow,"normalBias",Ot.getValue())),jt.shadow.radius!==Ti.getValue()&&l.execute(new vs(l,jt.shadow,"radius",Ti.getValue())));try{const ui=JSON.parse(Ze.getValue());JSON.stringify(jt.userData)!=JSON.stringify(ui)&&l.execute(new vs(l,jt,"userData",ui))}catch(ui){console.warn(ui)}}}function Ut(jt){const nr={fov:ce,left:lt,right:Ye,top:$e,bottom:kt,near:Ft,far:$t,intensity:Xi,color:or,groundColor:Ct,distance:pt,angle:Lt,penumbra:bi,decay:Pe,castShadow:bt,receiveShadow:It,shadow:[yt,Tt,li]};for(const Mn in nr){const Mt=nr[Mn];if(Array.isArray(Mt)===!0)for(let ui=0;ui<Mt.length;ui++)Mt[ui].setDisplay(jt[Mn]!==void 0?"":"none");else Mt.setDisplay(jt[Mn]!==void 0?"":"none")}jt.isLight&&It.setDisplay("none")}function ei(jt){var nr;jt.isLight||jt.isObject3D&&jt.userData.targetInverse||["Exit","Entrance","Portal"].includes((nr=jt.userData)==null?void 0:nr.type)?(be.setDisplay("none"),ie.setDisplay("none")):(be.setDisplay(""),ie.setDisplay(""))}i.objectSelected.add(function(jt){jt!==null?(s.setDisplay("block"),Ut(jt),sr(jt)):s.setDisplay("none")}),i.objectChanged.add(function(jt){jt===l.selected&&sr(jt)}),i.refreshSidebarObject3D.add(function(jt){jt===l.selected&&sr(jt)});async function Si(){const jt=l.selected;if(jt&&jt.geometry){const nr=jt.geometry;s.setDisplay("block"),nt.setValue(nr.type),jt.userData.type==="Presentation"?(he.setRange(1,40),de.setRange(1,40),Se.setRange(1,1)):(he.setRange(.1,40),de.setRange(.1,40),Se.setRange(.1,40))}}function sr(jt){nt.setValue(jt.type),_.setValue(jt.uuid),P.setValue(jt.name),l.signals.sceneGraphChanged.dispatch(),ue.setValue(jt.position.x),oe.setValue(jt.position.y),Ae.setValue(jt.position.z),xe.setValue(jt.rotation.x*Cf.RAD2DEG),ne.setValue(jt.rotation.y*Cf.RAD2DEG),ae.setValue(jt.rotation.z*Cf.RAD2DEG),he.setValue(jt.scale.x),de.setValue(jt.scale.y),Se.setValue(jt.scale.z),jt.fov!==void 0&&Re.setValue(jt.fov),jt.left!==void 0&&Te.setValue(jt.left),jt.right!==void 0&&mt.setValue(jt.right),jt.top!==void 0&&gt.setValue(jt.top),jt.bottom!==void 0&&Kt.setValue(jt.bottom),jt.near!==void 0&&Yt.setValue(jt.near),jt.far!==void 0&&vi.setValue(jt.far),jt.intensity!==void 0&&Ki.setValue(jt.intensity),jt.color!==void 0&&Et.setHexValue(jt.color.getHexString()),jt.groundColor!==void 0&&ri.setHexValue(jt.groundColor.getHexString()),jt.distance!==void 0&&ft.setValue(jt.distance),jt.angle!==void 0&&ii.setValue(jt.angle),jt.penumbra!==void 0&&rt.setValue(jt.penumbra),jt.decay!==void 0&&Me.setValue(jt.decay),jt.castShadow!==void 0&&zt.setValue(jt.castShadow),jt.receiveShadow!==void 0&&It.setValue(jt.receiveShadow),jt.shadow!==void 0&&(Di.setValue(jt.shadow.bias),Ot.setValue(jt.shadow.normalBias),Ti.setValue(jt.shadow.radius)),O.setValue(jt.visible),gr.setValue(jt.frustumCulled),mr.setValue(jt.renderOrder);try{Ze.setValue(JSON.stringify(jt.userData,null,"  "))}catch(nr){console.log(nr)}Ze.setBorderColor("transparent"),Ze.setBackgroundColor(""),ei(jt)}return i.objectSelected.add(function(jt){Si()}),i.geometryChanged.add(Si),s}function NK(l){const t=l.signals,i=l.strings;let s;const u=new on;u.setBorderTop("0"),u.setDisplay("none"),u.setMarginBottom("20px");const p=new Ci;p.setClass("line"),u.add(p);const y=new Ci;y.setClass("title"),y.add(new dr(i.getKey("sidebar/properties/play")).setWidth("120px")),u.add(y);const A=new Ci,E=new G8(l!=null&&l.selected?l.getObjectText(l.selected).value:"").setWidth("145px").onChange(xe);A.add(new dr(i.getKey("sidebar/play/text")).setWidth("120px")),A.add(E),u.add(A);const _=new Ci;_.add(new dr(i.getKey("sidebar/play/postitbg")).setWidth("120px"));const k=new Bh().onInput(xe);l!=null&&l.selected&&k.setValue(l.getObjectText(l.selected).value),_.add(k),u.add(_);const R=new Ci,P=new Ra().setWidth("150px").setFontSize("12px").onChange(xe);R.add(new dr(i.getKey("sidebar/play/onclick")).setWidth("120px")),R.add(P),u.add(R);const B=new Ci,O=new Eu(l!=null&&l.selected?l.getObjectOnClick(l.selected).value:"").setWidth("145px").onChange(function(){l.setObjectOnClick(l.selected,{value:this.getValue()})});B.add(new dr(`/${i.getKey("sidebar/play/onclick/url")}`).setWidth("120px")),B.add(O),u.add(B);const H=new Ci,z=new Ra().setWidth("150px").setFontSize("12px").onChange(xe);H.add(new dr(i.getKey("sidebar/play/audio")).setWidth("120px")),H.add(z),u.add(H);const Y=new Ci;Y.add(new dr(`/${i.getKey("sidebar/play/audio/file")}`).setWidth("120px"));const ee=new MK(i.getKey("sidebar/play/audio/upload")).onChange(xe);Y.add(ee),u.add(Y);const ue=new Ci,oe=new Ra().setWidth("150px").setFontSize("12px").onChange(xe);ue.add(new dr(i.getKey("sidebar/play/presentation/present")).setWidth("120px")),ue.add(oe),u.add(ue);const Ae=new Ci;Ae.add(new dr(`/${i.getKey("sidebar/play/presentation/file")}`).setWidth("120px"));const be=new RK(i.getKey("sidebar/play/presentation/upload")).onChange(xe);Ae.add(be),u.add(Ae);function xe(){var le,ie,he,de,Se,Be,Le,nt,He,ce,Re,lt,Te,Ye,mt,$e,gt;const ae=l.getObjectAudio(s),ye=z.getValue();((le=l.selected)==null?void 0:le.userData)&&!["Exit","Entrance","Portal","Presentation"].includes((he=(ie=l.selected)==null?void 0:ie.userData)==null?void 0:he.type)&&ye&&(ae==null?void 0:ae.option)!==ye&&(l.setObjectAudio(l.selected,{value:{base64:null,sourceFile:null}}),l.execute(new XR(l,s,ye))),((de=l.selected)==null?void 0:de.userData)&&!["Exit","Entrance","Portal","Presentation"].includes((Be=(Se=l.selected)==null?void 0:Se.userData)==null?void 0:Be.type)&&((Le=ee.audio)==null?void 0:Le.sourceFile)&&((nt=ae==null?void 0:ae.value)==null?void 0:nt.sourceFile)!==((He=ee.audio)==null?void 0:He.sourceFile)&&l.execute(new qR(l,l.selected,ee.audio)),!!P.getValue()&&P.getValue()!==((Te=(lt=(Re=(ce=l.selected)==null?void 0:ce.userData)==null?void 0:Re.play)==null?void 0:lt.onClick)==null?void 0:Te.option)&&l.execute(new eB(l,l.selected,P.getValue()));const ge=l.getObjectPresentation(s),we=oe.getValue();if(((Ye=s==null?void 0:s.userData)==null?void 0:Ye.type)==="Presentation"&&(ge==null?void 0:ge.option)&&(ge==null?void 0:ge.option)!==we){if(l.setObjectPresentation(s,{option:we,value:{sourceFile:null,base64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAH0CAYAAADL1t+KAAAAAXNSR0IArs4c6QAAIABJREFUeF7t3QWsJNe1BdBymJmZmZmZE4UZFGZmVJg5UZiZmUlhZmZmZsavXVJbncmM44nt/Hif1dLI45n3quusc+1d99atfnssy/KPxYsAAQIECBDYXwvsIdD31/1z8gQIECBAYBUQ6AYCAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxkCtwAEOcIDlUpe61HKa05xmpzX++c9/Xv7whz8s3/72t5cPfehDyw9/+MNai90tbI898r+GZfnHP/6xu9+606/f8XinOtWplnOd61zLwQ9+8OWNb3zj8sUvfnFfeR8HITBZQKBP7n557Qc72MGWRzziEcsVrnCFnVb697//ffnrX/+6/P73v1/D/L3vfe/ynOc8Z/nyl79cLrPr8o50pCMt17rWtZajH/3oy/Oe97zl05/+9D6y2NXxbnrTmy43vvGNl8Mf/vDL7W53u+XlL3/5Pnof30yAwLIIdKOgViCzv6c97WnL1a9+9bXGv/3tb0tCfPPKrPGABzzgkn9mJvqzn/1sefrTn7486UlPWr75zW/WuuxVYXe7292WhO13vvOd5a53vevyrne9ax857Op4Ofatb33r5YhHPOJyvetdb3nuc5+7j97HNxMgINCNgWKB7UBPQD/xiU9cPvaxj/1TxQc+8IGXK1/5ystlLnOZ5QhHOMLygx/8YLnZzW62vOpVryqW2XVpz3jGM5brXOc6y0c+8pHlTne60z4O9F0d72xnO9ty/vOffznEIQ6xvOxlL1s+9alPjfRWNIF9U8AMfd/UdKz/KYHtQP/c5z63Lu2+5S1v+adzzOz8eMc73nLf+953XZrPMn1mlQn/X/3qV/9T9fw3Tua/FejpzaEPfeh1dSTOf/zjH/8b5XkPAtUCAr26vbOL2zuBvhHKrPyOd7zjGu5Z/n3gAx+4ZFPd1a52teVYxzrW8p73vGc54QlPuJz+9Kdfw+eDH/zg8tKXvnT5xje+sW7suvzlL79c+MIXXo585CMvmfVns91XvvKV9Vi5D729uewgBznIulnvkpe85Hqv+kAHOtDyl7/8ZQ22bBDLr5/+9Kf/0rwc/9KXvvR6jgc96EGXbOrLvf8XvOAFy/ve977lT3/6057fc81rXnM9n49//OPLV7/61eXMZz7zujnwkIc85Pp9Oe9nP/vZ69/n3M5xjnOsFzSpI8f/xS9+sc6aP/CBD6z30j//+c+vHjnni13sYssxj3nMte58b973W9/61vL85z9/+ehHP7re2vh3x0vdWRU51KEOtTz1qU9d32fzOuxhD7tc6UpXWmfwWTXJ+8Y8deRccl6bWydxyL34c57znOv753WhC11oOf7xj78aZX9EVhte/OIXr9/vRaBZQKA3d3d4bbsT6Ne//vWXu9zlLsuJTnSi5VnPetbyoAc9aP39Pe95zyU7sn/84x+vM8oETMIkIZH7wLnXnEC53OUut4ZcZvgJoITar3/96yUrA4985COXN73pTWvIZ0Z6k5vcZP2eHD9LzvmzHDOh/r3vfW955StfuTzlKU/Zc3Ne3vcGN7jBkpDO9ySUc+8/35NjJqgys05o/ehHP1q7/pjHPGa9N53j5WuOcYxjrOeei4ec229/+9v1QiP1vfOd71yPf4c73GE58YlPvJ5/gjpfl93n+fMEf875Kle5ynKc4xxnPe+cQ175ut/97nfLl770peUe97jH8ra3vW2J514d7xSnOMVyq1vdaj2neLzwhS9cj3Xa0552udGNbrRc4hKXWI52tKOtoRyfbF78zW9+s77HYx/72OV1r3vd+u+xecITnrDeNvnkJz+5Xkyd4AQnWC8Ucn75vuyNyDk9/OEPX7/Gi0CrgEBv7ay61hnkZlPcrpbcw5SAfMhDHrLeO87vE0qPf/zjl/Od73zLve51r+V0pzvdqpmZbWbOOe6LXvSi5VGPetQ6g7/5zW++zsy/8IUvrEHz/e9/f50xXuACF1gOd7jDrY/EJfzf/e53L2c605mWBzzgAcsFL3jBNWxz/zghldlzZu0Jy5/85CfrffxXvOIVa7BuwvEkJznJ+v6vec1r1mA66UlPus7Y8z2ZIeeWQv4uAfvkJz95DfS8Eog5twR3wjoz96w25IIgNST8s9v83Oc+93LDG95wXYXIXoLcnsjO/4RhvicrGLmgyH6ErAgk7HOczKSzipFjZ7b90Ic+dA38vTpe3HbcFBereKcP+f1nP/vZ5Q1veMNa83nPe971MbcE+Gc+85n1YiHndZjDHGa9+MmFRi6IUnsutmJ+lKMcZXXOhVYurm5zm9uss/j00YtAo4BAb+yqmlaB7UBPeGbmvT1DSxgkiE596lOvAZxl4CxhZ+aYx6gSlptAz5JvZtpZDk9w5XinPOUpl7vf/e7rcnaCLxcBCe0s8yZMEvTZYZ/3efCDH7zOJDOTz2azzCJz3z5hlKX2BOp1r3vddaac2XRmzrmPn2BLQGZ5OkGfc8i5/fznP1+Pm5lszjcz3lwA5JiZeW8CPTPynHP+PbPshHsuKu585zsvZznLWdal7vw+AZiLmdRw1atedXXKsd7xjneslnnfPM4Wn4c97GFr0Oa8E7AJ2tve9rbrhcCHP/zh9Xjvf//7d3m8zOZzcbBjoCfIs0qSC5VcTKT+nFeW9I961KOunjm3LMmnnjySmNn3JtBz8ZPvya2E7373u+tqSc45F0THPvax19py7rn48SLQKCDQG7uqpn8J9MzKEogJk80r97Izk0xAZGk3of3oRz96edzjHrcG9mUve9k9Az0z0syycy9987rf/e63hkyWdxNimZ1mKXvzOutZz7qG8XnOc57lrW996zrzz0VAQiuz7cyY84hc/i4BnSDPDDhB9LWvfW1dzs997XxfAjuhml85t80rgZ8Qyww1KwM5n1e/+tV7BnpC7va3v/36OF4uNPJKzTnXXGzkPn9mrgnovHa2KS42WT3IikO+PrcEtkMxqxM5h5xrVhtyvNxi2NXx8uc7e2wt9lluzznnoueZz3zmnuec7znZyU62rijkHn4uODJLz2x8E+gJ8VxY5PwyU88r9/JzMZXVgqyG5CIlM3wvAo0CAr2xq2r6l0DfFUmWaRN0CYjcx33961+/BmOWo7cDPQGYZfkE7eaVMM6ydu7VZia548wvKwRnPOMZ11WA3OfOjDSb0RLKF73oRdeZZ0I7AZ1/JpwyM/3617++Lh/nlRWAzMAz488jd3n/7Wfp8zWZaWcTWI6XGX6WlTcz9Nxnzr3vbODbfiUEc+75lLwcP7cKdhXAmdVnJp6Lh1wMHPe4x13DNZvnsqqR1YXcMsg973woTwI9qwK7E+i5/x/jzKhTf6zSi+1XnLPKkZWMrA7k3nsuhjaBnh7kwmr72fmc02ZlJBc69773vd1H9/+HWgGBXttahW0vuSe4EhhZds5rs+krM7lsnMqu7twbzr3WzWs70Df31X/5y1+uf52Qy2z22te+9vr7BPCOQZuvy5J3gihLwwmg3OPOPecE9dnPfvb173MuWR3IveJcTCQM84l1Cf8sKyeQsxz+794jx0nYZcl5E+i5F36LW9xifd/tVy5GshSdWW0C/bWvfe1eBnA2r6XWzI6zkpBwz8pEjLPSsflo18zgE8a7G+g5v5xzVhp2Fsybc8/GtnjELRcvOe9NoGeVIbcqtj9rYPsee94jgf6JT3zCfxwEKgUEemVbFRWBHTfFZek5M7rNa2cBvC23HeiZdSY4smN888qScEIuf5bH2HLRsKtXltTzyFXCJOeV3eS555xwzz3o3ONNMOaVnepZws6Gvmx0S4BlZpxl/7169CqBnqX1fN0m0DPz356Bb85vdwI9S+6xy3lkg1nCOxc2WZHIZrvUnsfdsnFtsxKxu4H+kpe8ZD33a1zjGuujb7nHnlsSO76y5J5l+ZxDAj0rC5tA39kMPCsL+fvcexfo/r/QLiDQ2zs8uL69u8t9V0TbgZ5ZZ2b424G+WXLPn2XGveMScY6bpenMEjPbzq7wrAZsHlfLbDwzzSynZwacTXh5z2wA23xSWzbrbZbcc98594E394c3551d7llazgw/z2jnn/tmoGdJP/ehs+s/M/rUnYuG7BfI0nfqz22EPDqWWwI53726J5/z3vEeei52cgGTjXG5CLnlLW+556rBps6E+KaurKTkAuPNb36zQB/837jS/1lAoBsRtQL7daDn8bM8Xpal5wReNtNtngMPaj7eNMF08pOffN1MltBLQCf4EuTZVJcl46wUZFk+s/Q8QpZgz331zYa7XCzkGNndvtnFvmlaLgaygSwb1nK//P73v/+6CrFPAz0rCZklv/3tb18fZcu96TyillWJ1Lr9A2wufvGLr+eV3fO5/51A31zcbDbZbR9vZ4GeD+CJT2bfscmn9eUCKjVtXtlcmA/8iWFuneT8Mps3Q6/9T1hhuykg0HcTzJfvfwT260Df3sWe++95LCozzYR6ZubZzZ4Zd2boWU5OEOYecQIvO8Mzu8wSch55yyuPoCXIshSf3fSZxWYJOyF/xStecZ0Rb55/z27y3MvOD1LJ5rb8PveOE3J51Ow/DfScZ2bJeSIgFwdZxs55Zfd4HifL42i5wMjjeXll93h2m+fWQe7zZwafe/b5vrx2drwcO8fb8bG1PDOe98yFUFYzcr88FzFZ3s/mwly45Fxy+yGPn8UlTy0I9P3Pf5POdL8VEOj7ra+j/z8K7NeBnsfLEs75lUBNmGVpPUvQ2fmd++T5Zz42NSGYZej8WYLqIhe5yPp1uRDIxrUsJ2eGnl+ZoSbYsjs7y+d5dj2bvfIBN9lcl5DPJr4EaB5/y8VBZrL3uc991hl0AvA/DfSsMuTedFYMcm55r4RzVg2yIS7nnNl5as3X5J56nqnPueSVi47MsnPhkdfOjpdH+RLaOwZ6jpGVgCyl58eu5v3zK48cpsbcqsg98XzUbQI9HxaU7xHo/4//kXnr/ykBgf4/1Q4ns28KbAd6PnUsG8y2N8X9u/fKh7lkV3SCNKGdJeAdf4hIgjxLzpkp5+vyoTN5JaBzrzs7thNq2SSWoM1Hk2bzWGbSWULORcHmc97zPfmI2QRUlqqz6SzL8XlOPjviszEv37vj9yR0E+AJutyXz2uz6W3zWNqO9/ez6W57l/vmsbUs3Wf5PO+XWhLgua2Qe9YJ2zOc4Qx7fnxszjePyuUDbeKSR/HikdpSQ8J9Z8fLBUPu+28CPeex+fGp+fOsauSiILcZNrvnU1P8MmNPbXmWPEG/vektPyEv/dr+yW3bf++xtX834v39/l1AoO/fO+j8dymQQMoHsuRZ6YRLZpaZ4e7dV2aFuW+cUMgScO5r72xnfAI3X5cwyww8m9qyrJwNYplh5p/b94JzoZFZbZ7nzjJ2nlPPeWUZPYGe++1Ztt/+gS7ZaZ73yIw4z5znV5abE+YJ7U1tm+9JGOZ8ErQ57o4/7GXz9wnk1Lb5+yxnZ9afD8DJ6kL+PLcEEuiZIed8U2N25KeuzNRz3zwXL3m/zJhzTtnYlg2AuzpeViES3rnAyQpGVik2r2wQ3NSa98vXpL58Sl1qzUXL5uNbc5zUkk2Bscu5bFtnFSFjYFd/v3fHgq8jsH8QEOj7hy45x/2FQMIj4Z/ATpDmImLzATE7K2Dz9QnBBGt2jO/V129m/vn6bMTb/MCShNt2+O8bWKkhQZpj59w2x8/qQGrMxVKCMzP4vfPeuzreXp1r3n/7vbZ/mty+UaNjEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgSUQC17AAAGIklEQVQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgT+D+1/H21SjEKpgAAAABJRU5ErkJggg=="}}),we==="none"){let kt=new Image;kt.src=l.getObjectPresentation(s).value.base64,kt.onload=function(){let Kt=new ns;Kt.image=kt,s.material.transparent=!1,s.material.map=Kt,Kt.needsUpdate=!0,s.material.map.needsUpdate=!0,s.material.needsUpdate=!0,xe()}}l.execute(new tB(l,s,we))}((mt=be.presentation)==null?void 0:mt.base64)&&(($e=ge==null?void 0:ge.value)==null?void 0:$e.sourceFile)!==((gt=be.presentation)==null?void 0:gt.sourceFile)&&l.execute(new iB(l,l.selected,be!=null&&be.presentation?be==null?void 0:be.presentation:ge==null?void 0:ge.value)),E.getValue()&&l.setObjectText(l.selected,{value:E.getValue()}),k.getHexValue()&&l.setObjectPostit(l.selected,{bgcolor:k.getHexValue()}),ne()}function ne(){if(!s||!l.selected){u.setDisplay("none");return}const{userData:{type:ae}}=s,ye=l.getObjectText(s);E.setValue(ye==null?void 0:ye.value);const ge=l.getObjectText(s);k.setHexValue(ge==null?void 0:ge.bgcolor),z.setOptions(FK);const we=l.getObjectAudio(s);s.userData.type!=="Presentation"&&(we==null?void 0:we.option)&&(we==null?void 0:we.option)!=="none"?Y.setDisplay(""):Y.setDisplay("none"),we!=null&&we.option&&z.setValue(we.option),we!=null&&we.value?ee.setValue(we==null?void 0:we.value):ee.setValue({option:we==null?void 0:we.option,value:{sourceFile:null,base64:null}}),P.setOptions(OK);const le=l.getObjectOnClick(s);!(le!=null&&le.option)||(le==null?void 0:le.option)==="none"?B.setDisplay("none"):B.setDisplay(""),P.setValue(le==null?void 0:le.option),O.setValue(le==null?void 0:le.value),oe.setOptions(HK);const ie=l.getObjectPresentation(s);switch(!(ie!=null&&ie.option)||(ie==null?void 0:ie.option)==="none"?Ae.setDisplay("none"):Ae.setDisplay(""),ie!=null&&ie.option&&oe.setValue(ie.option),(ie==null?void 0:ie.option)!=="none"&&(ie==null?void 0:ie.value.sourceFile)&&(be.dom.innerText=ie.value.sourceFile),ae){case"Plane":case"Box":case"Sphere":case"Pentagon Cylinder":case"Hexagonal Cylinder":case"Circle Cylinder":case"Pyramid":case"Cone":case"Torus":case"Star":case"Mesh":p.setDisplay(""),y.setDisplay(""),H.setDisplay(""),R.setDisplay(""),A.setDisplay("none"),_.setDisplay("none"),ue.setDisplay("none");break;case"Postit":p.setDisplay(""),y.setDisplay(""),_.setDisplay(""),A.setDisplay(""),H.setDisplay("none"),ue.setDisplay("none"),R.setDisplay("none");break;case"Text":p.setDisplay(""),y.setDisplay(""),A.setDisplay(""),_.setDisplay("none"),H.setDisplay("none"),ue.setDisplay("none"),R.setDisplay("none");break;case"Presentation":p.setDisplay(""),y.setDisplay(""),ue.setDisplay(""),A.setDisplay("none"),_.setDisplay("none"),H.setDisplay("none"),R.setDisplay("none");break;case"Portal":case"Entrance":case"Exit":case"Group":case"Model":case"Scene":default:u.setDisplay("none"),p.setDisplay("none"),y.setDisplay("none"),A.setDisplay("none"),_.setDisplay("none"),H.setDisplay("none"),ue.setDisplay("none"),R.setDisplay("none");break}!ae&&s.type==="Mesh"&&(u.setDisplay(""),p.setDisplay(""),y.setDisplay(""),H.setDisplay(""),R.setDisplay(""),ue.setDisplay("none"),A.setDisplay("none"),_.setDisplay("none"))}return t.objectChanged.add(function(ae){if(ae===l.selected){if(ae.userData.type==="Text"||ae.userData.type==="Postit"){let ye=new Image;window.process=null;const{scale:{x:ge,y:we}}=ae,le=new a4.UltimateTextToImage(l.getObjectText(ae)?l.getObjectText(ae).value:"Text",{fontColor:0,fontSize:Math.max(ge,we)*Math.max(ge,we)*20,minFontSize:5,width:ge*100,height:we*100,align:"center",valign:"middle",backgroundColor:ae.userData.type==="Postit"?"#"+("000000"+l.getObjectPostit(ae).bgcolor.toString(16)).slice(-6):"0xFF000000"}).render().toDataUrl();ye.src=le;let ie=new ns;ie.image=ye,ie.needsUpdate=!0,ae.material.map=ie,ae.material.transparent=!0,ae.material.map.needsUpdate=!0,ae.material.needsUpdate=!0}t.objectSelected.dispatch(ae),ne()}}),t.refreshSidebarObject3D.add(function(ae){ae===l.selected&&ne()}),t.objectSelected.add(function(ae){ae!==null?(s=ae,ne(),u.setDisplay("")):u.setDisplay("none")}),t.materialChanged.add(ne),u}const FK={none:"None",onClick:"Play on Click",range:"Loop within Range"},OK={none:"None",urlPopUp:"Open New Tab"},HK={none:"None",mp4:"mp4",pdf:"pdf",pptx:"pptx"},y0e=new wt,A0e=new wt,v0e=new qs;function Sd(l,t,i){const s=l.signals,u=new Ci;u.add(new dr(i).setWidth("120px"));const p=new Rh().setLeft("100px").onChange(E);u.add(p);let y=null,A=null;function E(){A[t]!==p.getValue()&&l.execute(new Ja(l,y,t,p.getValue(),0))}function _(){y!==null&&y.material!==void 0&&(A=y.material,t in A?(p.setValue(A[t]),u.setDisplay("")):u.setDisplay("none"))}return s.objectSelected.add(function(k){y=k,_()}),s.materialChanged.add(_),u}function av(l,t,i){const s=l.signals,u=new Ci;u.add(new dr(i).setWidth("120px"));const p=new Bh().setMarginRight("8px").onInput(_);u.add(p);let y;t==="emissive"&&(y=new a0().setWidth("30px").setSnap(.1).onChange(_),u.add(y));let A=null,E=null;function _(){E[t].getHex()!==p.getHexValue()&&l.execute(new ZR(l,A,t,p.getHexValue(),0)),y!==void 0&&E[`${t}Intensity`]!==y.getValue()&&l.execute(new Ja(l,A,`${t}Intensity`,y.getValue(),0))}function k(){A!==null&&A.material!==void 0&&(E=A.material,t in E?(p.setHexValue(E[t].getHexString()),y!==void 0&&y.setValue(E[`${t}Intensity`]),u.setDisplay("")):u.setDisplay("none"))}return s.objectSelected.add(function(R){A=R,k()}),s.materialChanged.add(k),u}function K3(l,t,i,s){const u=l.signals,p=new Ci;p.add(new dr(i).setWidth("120px"));const y=new Ra().setOptions(s).onChange(_);p.add(y);let A=null,E=null;function _(){const R=parseInt(y.getValue());E[t]!==R&&l.execute(new Ja(l,A,t,R,0))}function k(){A!==null&&A.material!==void 0&&(E=A.material,t in E?(y.setValue(E[t]),p.setDisplay("")):p.setDisplay("none"))}return u.objectSelected.add(function(R){A=R,k()}),u.materialChanged.add(k),p}function ka(l,t,i){const s=l.signals,u=new Ci;u.add(new dr(i).setWidth("120px"));const p=new Rh(!1).setMarginRight("8px").onChange(O);u.add(p);const y=new Gd().setMarginRight("8px").onChange(H);u.add(y);const A=t.replace("Map","");let E;t==="aoMap"&&(E=new a0().setWidth("30px").onChange(z),u.add(E));let _;(t==="bumpMap"||t==="displacementMap")&&(_=new a0().setWidth("30px").onChange(Y),u.add(_));let k,R;(t==="normalMap"||t==="clearcoatNormalMap")&&(k=new a0().setWidth("30px").onChange(ee),u.add(k),R=new a0().setWidth("30px").onChange(ee),u.add(R));let P=null,B=null;function O(){const oe=p.getValue()?y.getValue():null;if(B[t]!==oe){if(oe!==null){const Ae=P.geometry;Ae.hasAttribute("uv")===!1&&console.warn("Geometry doesn't have uvs:",Ae),t==="envMap"&&(oe.mapping=sc)}l.execute(new KR(l,P,t,oe,0))}}function H(oe){oe!==null&&oe.isDataTexture!==!0&&oe.encoding!==b0&&(oe.encoding=b0,B.needsUpdate=!0),p.setDisabled(!1),p.setValue(B[t]!==null),O()}function z(){B[`${t}Intensity`]!==E.getValue()&&l.execute(new Ja(l,P,`${t}Intensity`,E.getValue(),0))}function Y(){B[`${A}Scale`]!==_.getValue()&&l.execute(new Ja(l,P,`${A}Scale`,_.getValue(),0))}function ee(){const oe=[k.getValue(),R.getValue()];(B[`${A}Scale`].x!==oe[0]||B[`${A}Scale`].y!==oe[1])&&l.execute(new $R(l,P,`${A}Scale`,oe,0))}function ue(){P!==null&&P.material!==void 0&&(B=P.material,t in B?(B[t]!==null&&y.setValue(B[t]),p.setValue(B[t]!==null),p.setDisabled(y.getValue()===null),E!==void 0&&E.setValue(B[`${t}Intensity`]),_!==void 0&&_.setValue(B[`${A}Scale`]),k!==void 0&&(k.setValue(B[`${A}Scale`].x),R.setValue(B[`${A}Scale`].y)),u.setDisplay("")):u.setDisplay("none"))}return s.objectSelected.add(function(oe){P=oe,y.setValue(null),u.setDisplay("none"),ue()}),s.materialChanged.add(ue),u}function yf(l,t,i,s=[-1/0,1/0]){const u=l.signals,p=new Ci;p.add(new dr(i).setWidth("120px"));const y=new a0().setWidth("60px").setPrecision(1).setSnap(.1).setRange(s[0],s[1]).onChange(_);p.add(y);let A=null,E=null;function _(){E[t]!==y.getValue()&&l.execute(new Ja(l,A,t,y.getValue(),0))}function k(){A!==null&&A.material!==void 0&&(E=A.material,t in E?(y.setValue(E[t]),p.setDisplay("")):p.setDisplay("none"))}return u.objectSelected.add(function(R){A=R,k()}),u.materialChanged.add(k),p}function UK(l,t,i){const s=l.signals,u=new Ci;u.add(new dr(i).setWidth("120px"));const p=new a0().setWidth("60px").setPrecision(0).setSnap(1).setStep(10).setRange(0,100).setUnit("%").onChange(E);u.add(p);let y=null,A=null;function E(){A[t]!==p.getValue()/100&&l.execute(new Ja(l,y,t,p.getValue()/100,0))}function _(){y!==null&&y.material!==void 0&&(A=y.material,t in A?(p.setValue(A[t]*100),u.setDisplay("")):u.setDisplay("none"))}return s.objectSelected.add(function(k){y=k,_()}),s.materialChanged.add(_),u}function VK(l,t){const i=l.signals,s=l.strings;let u=null,p=null;const y=new Ci;y.add(new dr(s.getKey("sidebar/material/program")).setWidth("120px"));const A=new Xa(s.getKey("sidebar/material/info"));A.setMarginRight("4px"),A.onClick(function(){i.editScript.dispatch(u,"programInfo")}),y.add(A);const E=new Xa(s.getKey("sidebar/material/vertex"));E.setMarginRight("4px"),E.onClick(function(){i.editScript.dispatch(u,"vertexShader")}),y.add(E);const _=new Xa(s.getKey("sidebar/material/fragment"));_.setMarginRight("4px"),_.onClick(function(){i.editScript.dispatch(u,"fragmentShader")}),y.add(_);function k(){u!==null&&u.material!==void 0&&(p=u.material,t in p?y.setDisplay(""):y.setDisplay("none"))}return i.objectSelected.add(function(R){u=R,k()}),i.materialChanged.add(k),y}function jK(l){const t=l.signals,i=l.strings;let s,u=0;const p=new on;p.setBorderTop("0"),p.setDisplay("none");const y=new Ci;y.setClass("line"),p.add(y);const A=new Ci;A.setClass("title"),A.add(new dr(i.getKey("sidebar/properties/material")).setWidth("120px")),p.add(A);const E=new Ci;E.add(new dr(i.getKey("sidebar/material/slot")).setWidth("120px"));const _=new Ra().setWidth("170px").setFontSize("12px").setDisabled(!0);_.setOptions({0:""}).setValue(0),E.add(_);const k=new Ci,R=new Ra().setWidth("150px").setFontSize("12px").onChange(Le);k.add(new dr(i.getKey("sidebar/material/type")).setWidth("120px")),k.add(R),p.add(k);const P=new Ci,B=new Eu().setWidth("123px").setFontSize("12px").setDisabled(!0),O=new Xa(i.getKey("sidebar/material/new")).setMarginLeft("7px");O.onClick(function(){B.setValue(Cf.generateUUID()),Le()}),P.add(new dr(i.getKey("sidebar/material/uuid")).setWidth("120px")),P.add(B),P.add(O);const H=new Ci,z=new Eu().setWidth("185px").setFontSize("12px").onChange(function(){l.execute(new Ja(l,l.selected,"name",z.getValue(),u))});H.add(new dr(i.getKey("sidebar/material/name")).setWidth("120px")),H.add(z),new VK(l,"vertexShader");const Y=new av(l,"color",i.getKey("sidebar/material/color"));p.add(Y);const ee=new ka(l,"map",i.getKey("sidebar/material/map"));p.add(ee);const ue=new av(l,"emissive",i.getKey("sidebar/material/emissive"));p.add(ue);const oe=new ka(l,"emissiveMap",i.getKey("sidebar/material/emissivemap"));p.add(oe),new yf(l,"reflectivity",i.getKey("sidebar/material/reflectivity"));const Ae=new av(l,"specular",i.getKey("sidebar/material/specular"));p.add(Ae);const be=new yf(l,"shininess",i.getKey("sidebar/material/shininess"));p.add(be);const xe=new yf(l,"roughness",i.getKey("sidebar/material/roughness"),[0,1]);p.add(xe);const ne=new yf(l,"metalness",i.getKey("sidebar/material/metalness"),[0,1]);p.add(ne),new yf(l,"clearcoat",i.getKey("sidebar/material/clearcoat"),[0,1]),new yf(l,"clearcoatRoughness",i.getKey("sidebar/material/clearcoatroughness"),[0,1]),new yf(l,"transmission",i.getKey("sidebar/material/transmission"),[0,1]),new yf(l,"attenuationDistance",i.getKey("sidebar/material/attenuationDistance")),new av(l,"attenuationColor",i.getKey("sidebar/material/attenuationColor")),new yf(l,"thickness",i.getKey("sidebar/material/thickness")),new Sd(l,"vertexColors",i.getKey("sidebar/material/vertexcolors"));const ae={[WE]:"Basic",[QE]:"RGBA"};new K3(l,"depthPacking",i.getKey("sidebar/material/depthPacking"),ae),new ka(l,"specularMap",i.getKey("sidebar/material/specularmap")),new ka(l,"matcap",i.getKey("sidebar/material/matcap")),new ka(l,"alphaMap",i.getKey("sidebar/material/alphamap")),new ka(l,"bumpMap",i.getKey("sidebar/material/bumpmap")),new ka(l,"normalMap",i.getKey("sidebar/material/normalmap")),new ka(l,"clearcoatNormalMap",i.getKey("sidebar/material/clearcoatnormalmap")),new ka(l,"displacementMap",i.getKey("sidebar/material/displacementmap")),new ka(l,"roughnessMap",i.getKey("sidebar/material/roughnessmap")),new ka(l,"metalnessMap",i.getKey("sidebar/material/metalnessmap")),new ka(l,"envMap",i.getKey("sidebar/material/envmap")),new ka(l,"lightMap",i.getKey("sidebar/material/lightmap")),new ka(l,"aoMap",i.getKey("sidebar/material/aomap")),new ka(l,"gradientMap",i.getKey("sidebar/material/gradientmap"));const ye={0:"Front",1:"Back",2:"Double"},ge=new K3(l,"side",i.getKey("sidebar/material/side"),ye);p.add(ge);const we=new yf(l,"size",i.getKey("sidebar/material/size"),[0,1/0]);p.add(we);const le=new Sd(l,"sizeAttenuation",i.getKey("sidebar/material/sizeAttenuation"));p.add(le),new Sd(l,"flatShading",i.getKey("sidebar/material/flatShading"));const ie={0:"No",1:"Normal",2:"Additive",3:"Subtractive",4:"Multiply",5:"Custom"};new K3(l,"blending",i.getKey("sidebar/material/blending"),ie);const he=new Sd(l,"transparent",i.getKey("sidebar/material/transparent"));p.add(he);const de=new UK(l,"opacity",i.getKey("sidebar/material/opacity"),[0,1]);p.add(de),new yf(l,"alphaTest",i.getKey("sidebar/material/alphatest"),[0,1]),new Sd(l,"depthTest",i.getKey("sidebar/material/depthtest")),new Sd(l,"depthWrite",i.getKey("sidebar/material/depthwrite")),new Sd(l,"wireframe",i.getKey("sidebar/material/wireframe"));const Se=new Ci,Be=new G8().setWidth("150px").setHeight("40px").setFontSize("12px").onChange(Le);Be.onKeyUp(function(){try{JSON.parse(Be.getValue()),Be.dom.classList.add("success"),Be.dom.classList.remove("fail")}catch{Be.dom.classList.remove("success"),Be.dom.classList.add("fail")}}),Se.add(new dr(i.getKey("sidebar/material/userdata")).setWidth("120px")),Se.add(Be);function Le(){const ce=u;u=parseInt(_.getValue()),u!==ce&&He();let Re=l.getObjectMaterial(s,u);if(Re){Re.uuid!==void 0&&Re.uuid!==B.getValue()&&l.execute(new Ja(l,s,"uuid",B.getValue(),u)),Re.type!==R.getValue()&&(Re=new GK[R.getValue()],Re.type==="RawShaderMaterial"&&(Re.vertexShader=zK+Re.vertexShader),Array.isArray(s.material)?l.removeMaterial(s.material[u]):l.removeMaterial(s.material),l.execute(new YR(l,s,Re,u),"New Material: "+R.getValue()),l.addMaterial(Re));try{const lt=JSON.parse(Be.getValue());JSON.stringify(Re.userData)!=JSON.stringify(lt)&&l.execute(new Ja(l,s,"userData",lt,u))}catch(lt){console.warn(lt)}He()}}function nt(){const ce=s.material;Array.isArray(ce)?E.setDisplay(""):E.setDisplay("none")}function He(){if(!s)return;let ce=s.material;if(Array.isArray(ce)){const Re={};u=Math.max(0,Math.min(ce.length,u));for(let lt=0;lt<ce.length;lt++)Re[lt]=String(lt+1)+": "+ce[lt].name;_.setOptions(Re).setValue(u)}ce=l.getObjectMaterial(s,u),ce.uuid!==void 0&&B.setValue(ce.uuid),ce.name!==void 0&&z.setValue(ce.name),s.isMesh?R.setOptions(WK):s.isSprite?R.setOptions(JK):s.isPoints?R.setOptions(XK):s.isLine&&R.setOptions(QK),R.setValue(ce.type),nt();try{Be.setValue(JSON.stringify(ce.userData,null,"  "))}catch(Re){console.log(Re)}Be.setBorderColor("transparent"),Be.setBackgroundColor("")}return t.objectSelected.add(function(ce){let Re=!1;ce&&ce.material&&(Re=!0,Array.isArray(ce.material)&&ce.material.length===0&&(Re=!1)),Re?(s=ce,He(),p.setDisplay("")):(s=null,p.setDisplay("none"))}),t.materialChanged.add(He),p}const GK={LineBasicMaterial:fo,LineDashedMaterial:U4,MeshBasicMaterial:Us,MeshStandardMaterial:is,RawShaderMaterial:H4,ShaderMaterial:Tl,SpriteMaterial:r2,PointsMaterial:hc},zK=["uniform mat4 projectionMatrix;",`uniform mat4 modelViewMatrix;
`,`attribute vec3 position;

`].join(`
`),WK={MeshBasicMaterial:"Basic Material",MeshStandardMaterial:"Standard Material"},QK={LineBasicMaterial:"Line Basic Material",LineDashedMaterial:"Line Dashed Material",RawShaderMaterial:"Raw Shader Material",ShaderMaterial:"Shader Material"},JK={SpriteMaterial:"Sprite Material",RawShaderMaterial:"Raw Shader Material",ShaderMaterial:"Shader Material"},XK={PointsMaterial:"Points Material",RawShaderMaterial:"RawShader Material",ShaderMaterial:"Shader Material"};function qK(l){const t=l.config,i=l.signals,s=l.strings;let u=null;const p=new on,y=new Ci;y.add(new dr(s.getKey("sidebar/project/renderer").toUpperCase())),p.add(y);const A=new Ci;p.add(A),A.add(new dr(s.getKey("sidebar/project/antialias")).setWidth("90px"));const E=new gg(t.getKey("project/renderer/antialias")).onChange(ue);A.add(E);const _=new Ci;p.add(_),_.add(new dr(s.getKey("sidebar/project/physicallyCorrectLights")).setWidth("90px"));const k=new gg(t.getKey("project/renderer/physicallyCorrectLights")).onChange(function(){u.physicallyCorrectLights=this.getValue(),i.rendererUpdated.dispatch()});_.add(k);const R=new Ci;p.add(R),R.add(new dr(s.getKey("sidebar/project/shadows")).setWidth("90px"));const P=new gg(t.getKey("project/renderer/shadows")).onChange(O);R.add(P);const B=new Ra().setOptions({0:"Basic",1:"PCF",2:"PCF Soft"}).setWidth("125px").onChange(O);B.setValue(t.getKey("project/renderer/shadowType")),R.add(B);function O(){u.shadowMap.enabled=P.getValue(),u.shadowMap.type=parseFloat(B.getValue()),i.rendererUpdated.dispatch()}const H=new Ci;p.add(H),H.add(new dr(s.getKey("sidebar/project/toneMapping")).setWidth("90px"));const z=new Ra().setOptions({0:"No",1:"Linear",2:"Reinhard",3:"Cineon",4:"ACESFilmic"}).setWidth("120px").onChange(ee);z.setValue(t.getKey("project/renderer/toneMapping")),H.add(z);const Y=new a0(t.getKey("project/renderer/toneMappingExposure"));Y.setDisplay(z.getValue()==="0"?"none":""),Y.setWidth("30px").setMarginLeft("10px"),Y.setRange(0,10),Y.onChange(ee),H.add(Y);function ee(){Y.setDisplay(z.getValue()==="0"?"none":""),u.toneMapping=parseFloat(z.getValue()),u.toneMappingExposure=Y.getValue(),i.rendererUpdated.dispatch()}function ue(){u=new j0({antialias:E.getValue()}),u.outputEncoding=b0,u.physicallyCorrectLights=k.getValue(),u.shadowMap.enabled=P.getValue(),u.shadowMap.type=parseFloat(B.getValue()),u.toneMapping=parseFloat(z.getValue()),u.toneMappingExposure=Y.getValue(),i.rendererCreated.dispatch(u),i.rendererUpdated.dispatch()}ue(),i.editorCleared.add(function(){u.physicallyCorrectLights=!1,u.shadowMap.enabled=!0,u.shadowMap.type=v4,u.toneMapping=If,u.toneMappingExposure=1,k.setValue(u.physicallyCorrectLights),P.setValue(u.shadowMap.enabled),B.setValue(u.shadowMap.type),z.setValue(u.toneMapping),Y.setValue(u.toneMappingExposure),Y.setDisplay(u.toneMapping===0?"none":""),i.rendererUpdated.dispatch()}),i.rendererUpdated.add(function(){t.setKey("project/renderer/antialias",E.getValue(),"project/renderer/physicallyCorrectLights",k.getValue(),"project/renderer/shadows",P.getValue(),"project/renderer/shadowType",parseFloat(B.getValue()),"project/renderer/toneMapping",parseFloat(z.getValue()),"project/renderer/toneMappingExposure",Y.getValue())})}function ZK(l){const t=l.strings,i=new on;i.setId("render"),i.add(new dr(t.getKey("sidebar/project/video")).setTextTransform("uppercase")),i.add(new pE,new pE);const s=new Ci;i.add(s),s.add(new dr(t.getKey("sidebar/project/resolution")).setWidth("90px"));const u=new og(1024).setTextAlign("center").setWidth("28px");s.add(u),s.add(new dr("\xD7").setTextAlign("center").setFontSize("12px").setWidth("12px"));const p=new og(1024).setTextAlign("center").setWidth("28px");s.add(p);const y=new og(30).setTextAlign("center").setWidth("20px");s.add(y),s.add(new dr("fps").setFontSize("12px"));const A=new Ci;A.add(new dr(t.getKey("sidebar/project/duration")).setWidth("90px"));const E=new og(10);A.add(E),i.add(A),i.add(new dr("").setWidth("90px"));const _=new vq(0);_.setDisplay("none"),_.setWidth("170px"),i.add(_);const k=new Xa(t.getKey("sidebar/project/render")).setTextTransform("uppercase");k.setWidth("170px"),k.onClick(async()=>{k.setDisplay("none"),_.setDisplay(""),_.setValue(0);const B=new gB.Player;B.load(l.toJSON()),B.setPixelRatio(1),B.setSize(u.getValue(),p.getValue());const O=B.dom.firstElementChild,{createFFmpeg:H,fetchFile:z}=FFmpeg,Y=H({log:!0});await Y.load(),Y.setProgress(({ratio:xe})=>{_.setValue(xe*.5+.5)});const ee=y.getValue(),oe=E.getValue()*ee;let Ae=0;for(let xe=0;xe<oe;xe++){B.render(Ae);const ne=xe.toString().padStart(5,"0");Y.FS("writeFile",`tmp.${ne}.png`,await z(O.toDataURL())),Ae+=1/ee,_.setValue(xe/oe*.5)}await Y.run("-framerate",String(ee),"-pattern_type","glob","-i","*.png","-c:v","libx264","-pix_fmt","yuv420p","-preset","slow","-crf",String(5),"out.mp4");const be=Y.FS("readFile","out.mp4");for(let xe=0;xe<oe;xe++){const ne=xe.toString().padStart(5,"0");Y.FS("unlink",`tmp.${ne}.png`)}P(new Blob([be.buffer],{type:"video/mp4"}),"out.mp4"),B.dispose(),k.setDisplay(""),_.setDisplay("none")}),i.add(k);const R=document.createElement("a");function P(B,O){R.href&&URL.revokeObjectURL(R.href),R.href=URL.createObjectURL(B),R.download=O,R.dispatchEvent(new MouseEvent("click"))}return i}function YK(l){const t=l.config,i=l.signals,s=l.strings,u=new l2,p=new on;p.setBorderTop("0"),p.setPaddingTop("20px"),u.add(p);const y=new Ci,A=new Eu(t.getKey("project/title")).setLeft("100px").setWidth("150px").onChange(function(){t.setKey("project/title",this.getValue())});y.add(new dr(s.getKey("sidebar/project/title")).setWidth("135px")),y.add(A),p.add(y);const E=new Ci,_=new Ra().setOptions({None:"None",Color:"Color",Equirectangular:"Image"}).setWidth("150px");_.onChange(function(){B(),O()}),E.add(new dr(s.getKey("sidebar/scene/background")).setWidth("135px")),E.add(_);const k=new Bh().setValue("#d6f0f0").setMarginLeft("13px").onInput(B);E.add(k);const R=new Gd().setMarginLeft("13px").onChange(B);R.setDisplay("none"),E.add(R);const P=new Gd().setMarginLeft("8px").onChange(B);P.setDisplay("none"),E.add(P),p.add(E);function B(){i.sceneBackgroundChanged.dispatch(_.getValue(),k.getHexValue(),R.getValue(),P.getValue())}function O(){const Le=_.getValue();_.setWidth(Le==="None"?"150px":"110px"),k.setDisplay(Le==="Color"?"":"none"),R.setDisplay(Le==="Texture"?"":"none"),P.setDisplay(Le==="Equirectangular"?"":"none")}const H=new Ci,z=new Ra().setOptions({None:"",Equirectangular:"Equirect",ModelViewer:"ModelViewer"}).setWidth("150px");z.setValue("ModelViewer"),z.onChange(function(){ee(),ue()}),H.add(new dr(s.getKey("sidebar/scene/environment")).setWidth("120px")),H.add(z);const Y=new Gd().setMarginLeft("8px").onChange(ee);Y.setDisplay("none"),H.add(Y);function ee(){i.sceneEnvironmentChanged.dispatch(z.getValue(),Y.getValue())}function ue(){const Le=z.getValue();z.setWidth(Le!=="Equirectangular"?"150px":"110px"),Y.setDisplay(Le==="Equirectangular"?"":"none")}function oe(){i.sceneFogChanged.dispatch(xe.getValue(),ae.getHexValue(),ye.getValue(),ge.getValue(),we.getValue())}function Ae(){i.sceneFogSettingsChanged.dispatch(xe.getValue(),ae.getHexValue(),ye.getValue(),ge.getValue(),we.getValue())}const be=new Ci,xe=new Ra().setOptions({None:"",Fog:"Linear",FogExp2:"Exponential"}).setWidth("150px");xe.onChange(function(){oe(),le()}),be.add(new dr(s.getKey("sidebar/scene/fog")).setWidth("120px")),be.add(xe);const ne=new Ci;ne.setDisplay("none"),ne.setMarginLeft("90px"),u.add(ne);const ae=new Bh().setValue("#aaaaaa");ae.onInput(Ae),ne.add(ae);const ye=new a0(.1).setWidth("40px").setRange(0,1/0).onChange(Ae);ne.add(ye);const ge=new a0(50).setWidth("40px").setRange(0,1/0).onChange(Ae);ne.add(ge);const we=new a0(.05).setWidth("40px").setRange(0,.1).setStep(.001).setPrecision(3).onChange(Ae);ne.add(we);function le(){const Le=xe.getValue();ne.setDisplay(Le==="None"?"none":""),ye.setDisplay(Le==="Fog"?"":"none"),ge.setDisplay(Le==="Fog"?"":"none"),we.setDisplay(Le==="FogExp2"?"":"none")}function ie(){l.camera;const Le=l.scene;A.setValue(l.config.getKey("project/title")),Le.background?Le.background.isColor?(_.setValue("Color"),k.setHexValue(Le.background.getHex())):Le.background.isTexture&&(Le.background.mapping===THREE.EquirectangularReflectionMapping?(_.setValue("Equirectangular"),P.setValue(Le.background)):(_.setValue("Texture"),R.setValue(Le.background))):_.setValue("None"),Le.environment?Le.environment.mapping===THREE.EquirectangularReflectionMapping&&(z.setValue("Equirectangular"),Y.setValue(Le.environment)):z.setValue("ModelViewer"),Le.fog?(ae.setHexValue(Le.fog.color.getHex()),Le.fog.isFog?(xe.setValue("Fog"),ye.setValue(Le.fog.near),ge.setValue(Le.fog.far)):Le.fog.isFogExp2&&(xe.setValue("FogExp2"),we.setValue(Le.fog.density))):xe.setValue("None"),O(),ue(),le()}ie();const he=new Ci,de=new Rh(t.getKey("project/editable")).setLeft("100px").onChange(function(){t.setKey("project/editable",this.getValue())});he.add(new dr(s.getKey("sidebar/project/editable")).setWidth("120px")),he.add(de);const Se=new Ci,Be=new Rh(t.getKey("project/vr")).setLeft("100px").onChange(function(){t.setKey("project/vr",this.getValue())});return Se.add(new dr(s.getKey("sidebar/project/vr")).setWidth("120px")),Se.add(Be),u.add(new qK(l)),"SharedArrayBuffer"in window&&u.add(new ZK(l)),u}const KK=new Proxy(new URLSearchParams(window.location.search),{get:(l,t)=>l.get(t)});let $3=KK.assignments;function $K(l){const t=l.strings,i=navigator.platform.toUpperCase().indexOf("MAC")>=0;function s(k){return k.match(/^[A-Za-z0-9]$/i)}const u=l.config,p=l.signals,y=new on,A=new Ci;A.add(new dr(t.getKey("sidebar/settings/shortcuts").toUpperCase())),y.add(A);const E=["translate","rotate","scale","undo","focus"];function _(k){const R="settings/shortcuts/"+k,P=new Ci,B=new Eu().setWidth("15px").setFontSize("12px");B.setTextAlign("center"),B.setTextTransform("lowercase"),B.onChange(function(){const O=B.getValue().toLowerCase();s(O)&&u.setKey(R,O)}),B.dom.addEventListener("click",function(){B.dom.select()}),B.dom.addEventListener("blur",function(){s(B.getValue())||B.setValue(u.getKey(R))}),B.dom.addEventListener("keyup",function(O){s(O.key)&&B.dom.blur()}),u.getKey(R)!==void 0&&B.setValue(u.getKey(R)),B.dom.maxLength=1,P.add(new dr(t.getKey("sidebar/settings/shortcuts/"+k)).setTextTransform("capitalize").setWidth("90px")),P.add(B),y.add(P)}for(let k=0;k<E.length;k++)_(E[k]);document.addEventListener("keydown",async function(k){var R;switch(k.key.toLowerCase()){case"backspace":k.preventDefault();case"delete":const P=l.selected;if(P===null)return;P.parent!==null&&l.execute(new tb(l,P));break;case u.getKey("settings/shortcuts/translate"):p.transformModeChanged.dispatch("translate");break;case u.getKey("settings/shortcuts/rotate"):p.transformModeChanged.dispatch("rotate");break;case u.getKey("settings/shortcuts/scale"):p.transformModeChanged.dispatch("scale");break;case u.getKey("settings/shortcuts/undo"):(i?k.metaKey:k.ctrlKey)&&(k.preventDefault(),k.shiftKey?l.redo():l.undo());break;case u.getKey("settings/shortcuts/copy"):if(i?k.metaKey:k.ctrlKey){k.preventDefault();let ue=l.selected;if(ue===null||ue.parent===null||["Exit","Entrance"].includes(ue.userData.type))return;if(ue.type==="Mesh"&&ue.parent.type!=="Group"){ue=ue.clone();const oe=new THREE.Mesh(ue.geometry,new THREE.MeshBasicMaterial({color:"#FFFFFF"}));(R=oe.material)!=null&&R.map&&(oe.material.map=ue.material.map,oe.material.polygonOffsetFactor=ue.material.polygonOffsetFactor+1,oe.material.needsUpdate=!0),oe.material.color.setHex(ue.material.color.getHex()),oe.material=new THREE.MeshStandardMaterial().copy(ue.material),oe.name=`${ue.name}'s copy`,oe.position.copy(ue.position),oe.scale.copy(ue.scale),oe.rotation.copy(ue.rotation),oe.needsUpdate=!0,oe.userData=JSON.parse(JSON.stringify(ue.userData)),l.execute(new v0(l,oe))}if(ue.type=="Group"){const oe=ue.clone();oe.children&&(console.log("mesh.children",oe.children),oe.children.forEach((Ae,be)=>{Ae.material&&(Ae.material=new THREE.MeshStandardMaterial().copy(ue.children[be].material))})),oe.name=`${ue.name}'s copy`,oe.position.copy(ue.position),oe.scale.copy(ue.scale),oe.rotation.copy(ue.rotation),oe.needsUpdate=!0,oe.userData=JSON.parse(JSON.stringify(oe.userData)),l.execute(new v0(l,oe))}}break;case u.getKey("settings/shortcuts/focus"):l.selected!==null&&l.focus(l.selected);break;case u.getKey("settings/shortcuts/download"):if(!(window!=null&&window.assignmentSceneName))break;await fetch(`https://play.grwth.hk/assignments/${$3}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(ue=>ue.json()).then(ue=>{l.clear(),console.log("o",JSON.stringify(ue).length),l.fromJSON(ue.json)});break;case u.getKey("settings/shortcuts/upload"):if(!(window!=null&&window.assignmentSceneName))break;const O=JSON.stringify(l.toJSON()),H=new TextEncoder().encode(O),z=new Blob([H],{type:"application/json"},`${$3}.json`),Y=new File([z],`${$3}.json`),ee=new FormData;ee.append("fields",Y),await Sl({method:"post",url:"https://play.grwth.hk/assignments",data:ee,headers:{"Content-Type":"multipart/form-data"}}).then(function(ue){console.log("p",ue.data.files.fields.size)}).catch(function(ue){console.log(ue)});break}})}function e$(l){const t=l.config,i=l.strings,s=new l2,u=new on;u.setBorderTop("0"),u.setPaddingTop("20px");const p={en:"English",fr:"Fran\xE7ais",zh:"\u4E2D\u6587"},y=new Ci,A=new Ra().setWidth("150px");return A.setOptions(p),t.getKey("language")!==void 0&&A.setValue(t.getKey("language")),A.onChange(function(){const E=this.getValue();l.config.setKey("language",E)}),y.add(new dr(i.getKey("sidebar/settings/language")).setWidth("90px")),s.add(new $K(l)),s}function t$(l){const t=l.strings,i=new on;i.setId("sidebar"),i.addClass("open");const s=new Xa().onClick(E);s.setId("triggerBtn"),i.add(s),s.dom.insertBefore(rs().getKey("sidebar/trigger/close"),s.firstChild);const u=new fB;u.setId("sidebarInner");const p=new l2().add(new PK(l),new LK(l),new jK(l),new NK(l)),y=new YK(l);new e$(l),u.addTab("scene",t.getKey("sidebar/room"),p),u.addTab("project",t.getKey("sidebar/project"),y),u.select("scene"),i.add(u);const A=new ea;A.addClass("blur"),i.add(A);function E(){i.getClass().includes("open")?i.removeClass("open"):i.addClass("open"),setTimeout(()=>{s.dom.replaceChild(rs().getKey(i.getClass().includes("open")?"sidebar/trigger/close":"sidebar/trigger/open"),s.dom.firstChild)},900)}return i}var BB={exports:{}};(function(l){(function(t,i){function s(le,ie){if(!le)throw new Error(ie||"Assertion failed")}function u(le,ie){le.super_=ie;var he=function(){};he.prototype=ie.prototype,le.prototype=new he,le.prototype.constructor=le}function p(le,ie,he){if(p.isBN(le))return le;this.negative=0,this.words=null,this.length=0,this.red=null,le!==null&&((ie==="le"||ie==="be")&&(he=ie,ie=10),this._init(le||0,ie||10,he||"be"))}typeof t=="object"?t.exports=p:i.BN=p,p.BN=p,p.wordSize=26;var y;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?y=window.Buffer:y=require("buffer").Buffer}catch{}p.isBN=function(ie){return ie instanceof p?!0:ie!==null&&typeof ie=="object"&&ie.constructor.wordSize===p.wordSize&&Array.isArray(ie.words)},p.max=function(ie,he){return ie.cmp(he)>0?ie:he},p.min=function(ie,he){return ie.cmp(he)<0?ie:he},p.prototype._init=function(ie,he,de){if(typeof ie=="number")return this._initNumber(ie,he,de);if(typeof ie=="object")return this._initArray(ie,he,de);he==="hex"&&(he=16),s(he===(he|0)&&he>=2&&he<=36),ie=ie.toString().replace(/\s+/g,"");var Se=0;ie[0]==="-"&&(Se++,this.negative=1),Se<ie.length&&(he===16?this._parseHex(ie,Se,de):(this._parseBase(ie,he,Se),de==="le"&&this._initArray(this.toArray(),he,de)))},p.prototype._initNumber=function(ie,he,de){ie<0&&(this.negative=1,ie=-ie),ie<67108864?(this.words=[ie&67108863],this.length=1):ie<4503599627370496?(this.words=[ie&67108863,ie/67108864&67108863],this.length=2):(s(ie<9007199254740992),this.words=[ie&67108863,ie/67108864&67108863,1],this.length=3),de==="le"&&this._initArray(this.toArray(),he,de)},p.prototype._initArray=function(ie,he,de){if(s(typeof ie.length=="number"),ie.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ie.length/3),this.words=new Array(this.length);for(var Se=0;Se<this.length;Se++)this.words[Se]=0;var Be,Le,nt=0;if(de==="be")for(Se=ie.length-1,Be=0;Se>=0;Se-=3)Le=ie[Se]|ie[Se-1]<<8|ie[Se-2]<<16,this.words[Be]|=Le<<nt&67108863,this.words[Be+1]=Le>>>26-nt&67108863,nt+=24,nt>=26&&(nt-=26,Be++);else if(de==="le")for(Se=0,Be=0;Se<ie.length;Se+=3)Le=ie[Se]|ie[Se+1]<<8|ie[Se+2]<<16,this.words[Be]|=Le<<nt&67108863,this.words[Be+1]=Le>>>26-nt&67108863,nt+=24,nt>=26&&(nt-=26,Be++);return this._strip()};function A(le,ie){var he=le.charCodeAt(ie);if(he>=48&&he<=57)return he-48;if(he>=65&&he<=70)return he-55;if(he>=97&&he<=102)return he-87;s(!1,"Invalid character in "+le)}function E(le,ie,he){var de=A(le,he);return he-1>=ie&&(de|=A(le,he-1)<<4),de}p.prototype._parseHex=function(ie,he,de){this.length=Math.ceil((ie.length-he)/6),this.words=new Array(this.length);for(var Se=0;Se<this.length;Se++)this.words[Se]=0;var Be=0,Le=0,nt;if(de==="be")for(Se=ie.length-1;Se>=he;Se-=2)nt=E(ie,he,Se)<<Be,this.words[Le]|=nt&67108863,Be>=18?(Be-=18,Le+=1,this.words[Le]|=nt>>>26):Be+=8;else{var He=ie.length-he;for(Se=He%2===0?he+1:he;Se<ie.length;Se+=2)nt=E(ie,he,Se)<<Be,this.words[Le]|=nt&67108863,Be>=18?(Be-=18,Le+=1,this.words[Le]|=nt>>>26):Be+=8}this._strip()};function _(le,ie,he,de){for(var Se=0,Be=0,Le=Math.min(le.length,he),nt=ie;nt<Le;nt++){var He=le.charCodeAt(nt)-48;Se*=de,He>=49?Be=He-49+10:He>=17?Be=He-17+10:Be=He,s(He>=0&&Be<de,"Invalid character"),Se+=Be}return Se}p.prototype._parseBase=function(ie,he,de){this.words=[0],this.length=1;for(var Se=0,Be=1;Be<=67108863;Be*=he)Se++;Se--,Be=Be/he|0;for(var Le=ie.length-de,nt=Le%Se,He=Math.min(Le,Le-nt)+de,ce=0,Re=de;Re<He;Re+=Se)ce=_(ie,Re,Re+Se,he),this.imuln(Be),this.words[0]+ce<67108864?this.words[0]+=ce:this._iaddn(ce);if(nt!==0){var lt=1;for(ce=_(ie,Re,ie.length,he),Re=0;Re<nt;Re++)lt*=he;this.imuln(lt),this.words[0]+ce<67108864?this.words[0]+=ce:this._iaddn(ce)}this._strip()},p.prototype.copy=function(ie){ie.words=new Array(this.length);for(var he=0;he<this.length;he++)ie.words[he]=this.words[he];ie.length=this.length,ie.negative=this.negative,ie.red=this.red};function k(le,ie){le.words=ie.words,le.length=ie.length,le.negative=ie.negative,le.red=ie.red}if(p.prototype._move=function(ie){k(ie,this)},p.prototype.clone=function(){var ie=new p(null);return this.copy(ie),ie},p.prototype._expand=function(ie){for(;this.length<ie;)this.words[this.length++]=0;return this},p.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},p.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{p.prototype[Symbol.for("nodejs.util.inspect.custom")]=R}catch{p.prototype.inspect=R}else p.prototype.inspect=R;function R(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var P=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],B=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];p.prototype.toString=function(ie,he){ie=ie||10,he=he|0||1;var de;if(ie===16||ie==="hex"){de="";for(var Se=0,Be=0,Le=0;Le<this.length;Le++){var nt=this.words[Le],He=((nt<<Se|Be)&16777215).toString(16);Be=nt>>>24-Se&16777215,Se+=2,Se>=26&&(Se-=26,Le--),Be!==0||Le!==this.length-1?de=P[6-He.length]+He+de:de=He+de}for(Be!==0&&(de=Be.toString(16)+de);de.length%he!==0;)de="0"+de;return this.negative!==0&&(de="-"+de),de}if(ie===(ie|0)&&ie>=2&&ie<=36){var ce=B[ie],Re=O[ie];de="";var lt=this.clone();for(lt.negative=0;!lt.isZero();){var Te=lt.modrn(Re).toString(ie);lt=lt.idivn(Re),lt.isZero()?de=Te+de:de=P[ce-Te.length]+Te+de}for(this.isZero()&&(de="0"+de);de.length%he!==0;)de="0"+de;return this.negative!==0&&(de="-"+de),de}s(!1,"Base should be between 2 and 36")},p.prototype.toNumber=function(){var ie=this.words[0];return this.length===2?ie+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ie+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ie:ie},p.prototype.toJSON=function(){return this.toString(16,2)},y&&(p.prototype.toBuffer=function(ie,he){return this.toArrayLike(y,ie,he)}),p.prototype.toArray=function(ie,he){return this.toArrayLike(Array,ie,he)};var H=function(ie,he){return ie.allocUnsafe?ie.allocUnsafe(he):new ie(he)};p.prototype.toArrayLike=function(ie,he,de){this._strip();var Se=this.byteLength(),Be=de||Math.max(1,Se);s(Se<=Be,"byte array longer than desired length"),s(Be>0,"Requested array length <= 0");var Le=H(ie,Be),nt=he==="le"?"LE":"BE";return this["_toArrayLike"+nt](Le,Se),Le},p.prototype._toArrayLikeLE=function(ie,he){for(var de=0,Se=0,Be=0,Le=0;Be<this.length;Be++){var nt=this.words[Be]<<Le|Se;ie[de++]=nt&255,de<ie.length&&(ie[de++]=nt>>8&255),de<ie.length&&(ie[de++]=nt>>16&255),Le===6?(de<ie.length&&(ie[de++]=nt>>24&255),Se=0,Le=0):(Se=nt>>>24,Le+=2)}if(de<ie.length)for(ie[de++]=Se;de<ie.length;)ie[de++]=0},p.prototype._toArrayLikeBE=function(ie,he){for(var de=ie.length-1,Se=0,Be=0,Le=0;Be<this.length;Be++){var nt=this.words[Be]<<Le|Se;ie[de--]=nt&255,de>=0&&(ie[de--]=nt>>8&255),de>=0&&(ie[de--]=nt>>16&255),Le===6?(de>=0&&(ie[de--]=nt>>24&255),Se=0,Le=0):(Se=nt>>>24,Le+=2)}if(de>=0)for(ie[de--]=Se;de>=0;)ie[de--]=0},Math.clz32?p.prototype._countBits=function(ie){return 32-Math.clz32(ie)}:p.prototype._countBits=function(ie){var he=ie,de=0;return he>=4096&&(de+=13,he>>>=13),he>=64&&(de+=7,he>>>=7),he>=8&&(de+=4,he>>>=4),he>=2&&(de+=2,he>>>=2),de+he},p.prototype._zeroBits=function(ie){if(ie===0)return 26;var he=ie,de=0;return(he&8191)===0&&(de+=13,he>>>=13),(he&127)===0&&(de+=7,he>>>=7),(he&15)===0&&(de+=4,he>>>=4),(he&3)===0&&(de+=2,he>>>=2),(he&1)===0&&de++,de},p.prototype.bitLength=function(){var ie=this.words[this.length-1],he=this._countBits(ie);return(this.length-1)*26+he};function z(le){for(var ie=new Array(le.bitLength()),he=0;he<ie.length;he++){var de=he/26|0,Se=he%26;ie[he]=le.words[de]>>>Se&1}return ie}p.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ie=0,he=0;he<this.length;he++){var de=this._zeroBits(this.words[he]);if(ie+=de,de!==26)break}return ie},p.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},p.prototype.toTwos=function(ie){return this.negative!==0?this.abs().inotn(ie).iaddn(1):this.clone()},p.prototype.fromTwos=function(ie){return this.testn(ie-1)?this.notn(ie).iaddn(1).ineg():this.clone()},p.prototype.isNeg=function(){return this.negative!==0},p.prototype.neg=function(){return this.clone().ineg()},p.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},p.prototype.iuor=function(ie){for(;this.length<ie.length;)this.words[this.length++]=0;for(var he=0;he<ie.length;he++)this.words[he]=this.words[he]|ie.words[he];return this._strip()},p.prototype.ior=function(ie){return s((this.negative|ie.negative)===0),this.iuor(ie)},p.prototype.or=function(ie){return this.length>ie.length?this.clone().ior(ie):ie.clone().ior(this)},p.prototype.uor=function(ie){return this.length>ie.length?this.clone().iuor(ie):ie.clone().iuor(this)},p.prototype.iuand=function(ie){var he;this.length>ie.length?he=ie:he=this;for(var de=0;de<he.length;de++)this.words[de]=this.words[de]&ie.words[de];return this.length=he.length,this._strip()},p.prototype.iand=function(ie){return s((this.negative|ie.negative)===0),this.iuand(ie)},p.prototype.and=function(ie){return this.length>ie.length?this.clone().iand(ie):ie.clone().iand(this)},p.prototype.uand=function(ie){return this.length>ie.length?this.clone().iuand(ie):ie.clone().iuand(this)},p.prototype.iuxor=function(ie){var he,de;this.length>ie.length?(he=this,de=ie):(he=ie,de=this);for(var Se=0;Se<de.length;Se++)this.words[Se]=he.words[Se]^de.words[Se];if(this!==he)for(;Se<he.length;Se++)this.words[Se]=he.words[Se];return this.length=he.length,this._strip()},p.prototype.ixor=function(ie){return s((this.negative|ie.negative)===0),this.iuxor(ie)},p.prototype.xor=function(ie){return this.length>ie.length?this.clone().ixor(ie):ie.clone().ixor(this)},p.prototype.uxor=function(ie){return this.length>ie.length?this.clone().iuxor(ie):ie.clone().iuxor(this)},p.prototype.inotn=function(ie){s(typeof ie=="number"&&ie>=0);var he=Math.ceil(ie/26)|0,de=ie%26;this._expand(he),de>0&&he--;for(var Se=0;Se<he;Se++)this.words[Se]=~this.words[Se]&67108863;return de>0&&(this.words[Se]=~this.words[Se]&67108863>>26-de),this._strip()},p.prototype.notn=function(ie){return this.clone().inotn(ie)},p.prototype.setn=function(ie,he){s(typeof ie=="number"&&ie>=0);var de=ie/26|0,Se=ie%26;return this._expand(de+1),he?this.words[de]=this.words[de]|1<<Se:this.words[de]=this.words[de]&~(1<<Se),this._strip()},p.prototype.iadd=function(ie){var he;if(this.negative!==0&&ie.negative===0)return this.negative=0,he=this.isub(ie),this.negative^=1,this._normSign();if(this.negative===0&&ie.negative!==0)return ie.negative=0,he=this.isub(ie),ie.negative=1,he._normSign();var de,Se;this.length>ie.length?(de=this,Se=ie):(de=ie,Se=this);for(var Be=0,Le=0;Le<Se.length;Le++)he=(de.words[Le]|0)+(Se.words[Le]|0)+Be,this.words[Le]=he&67108863,Be=he>>>26;for(;Be!==0&&Le<de.length;Le++)he=(de.words[Le]|0)+Be,this.words[Le]=he&67108863,Be=he>>>26;if(this.length=de.length,Be!==0)this.words[this.length]=Be,this.length++;else if(de!==this)for(;Le<de.length;Le++)this.words[Le]=de.words[Le];return this},p.prototype.add=function(ie){var he;return ie.negative!==0&&this.negative===0?(ie.negative=0,he=this.sub(ie),ie.negative^=1,he):ie.negative===0&&this.negative!==0?(this.negative=0,he=ie.sub(this),this.negative=1,he):this.length>ie.length?this.clone().iadd(ie):ie.clone().iadd(this)},p.prototype.isub=function(ie){if(ie.negative!==0){ie.negative=0;var he=this.iadd(ie);return ie.negative=1,he._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ie),this.negative=1,this._normSign();var de=this.cmp(ie);if(de===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Se,Be;de>0?(Se=this,Be=ie):(Se=ie,Be=this);for(var Le=0,nt=0;nt<Be.length;nt++)he=(Se.words[nt]|0)-(Be.words[nt]|0)+Le,Le=he>>26,this.words[nt]=he&67108863;for(;Le!==0&&nt<Se.length;nt++)he=(Se.words[nt]|0)+Le,Le=he>>26,this.words[nt]=he&67108863;if(Le===0&&nt<Se.length&&Se!==this)for(;nt<Se.length;nt++)this.words[nt]=Se.words[nt];return this.length=Math.max(this.length,nt),Se!==this&&(this.negative=1),this._strip()},p.prototype.sub=function(ie){return this.clone().isub(ie)};function Y(le,ie,he){he.negative=ie.negative^le.negative;var de=le.length+ie.length|0;he.length=de,de=de-1|0;var Se=le.words[0]|0,Be=ie.words[0]|0,Le=Se*Be,nt=Le&67108863,He=Le/67108864|0;he.words[0]=nt;for(var ce=1;ce<de;ce++){for(var Re=He>>>26,lt=He&67108863,Te=Math.min(ce,ie.length-1),Ye=Math.max(0,ce-le.length+1);Ye<=Te;Ye++){var mt=ce-Ye|0;Se=le.words[mt]|0,Be=ie.words[Ye]|0,Le=Se*Be+lt,Re+=Le/67108864|0,lt=Le&67108863}he.words[ce]=lt|0,He=Re|0}return He!==0?he.words[ce]=He|0:he.length--,he._strip()}var ee=function(ie,he,de){var Se=ie.words,Be=he.words,Le=de.words,nt=0,He,ce,Re,lt=Se[0]|0,Te=lt&8191,Ye=lt>>>13,mt=Se[1]|0,$e=mt&8191,gt=mt>>>13,kt=Se[2]|0,Kt=kt&8191,Ft=kt>>>13,Yt=Se[3]|0,$t=Yt&8191,vi=Yt>>>13,Xi=Se[4]|0,Ki=Xi&8191,or=Xi>>>13,Et=Se[5]|0,Ct=Et&8191,ri=Et>>>13,pt=Se[6]|0,ft=pt&8191,Lt=pt>>>13,ii=Se[7]|0,bi=ii&8191,rt=ii>>>13,Pe=Se[8]|0,Me=Pe&8191,bt=Pe>>>13,zt=Se[9]|0,It=zt&8191,yt=zt>>>13,Di=Be[0]|0,Tt=Di&8191,Ot=Di>>>13,li=Be[1]|0,Ti=li&8191,Ui=li>>>13,gr=Be[2]|0,kr=gr&8191,mr=gr>>>13,Fe=Be[3]|0,Ze=Fe&8191,ht=Fe>>>13,Ut=Be[4]|0,ei=Ut&8191,Si=Ut>>>13,sr=Be[5]|0,jt=sr&8191,nr=sr>>>13,Mn=Be[6]|0,Mt=Mn&8191,ui=Mn>>>13,Li=Be[7]|0,xi=Li&8191,Fi=Li>>>13,qr=Be[8]|0,fr=qr&8191,Pr=qr>>>13,hn=Be[9]|0,Lr=hn&8191,jr=hn>>>13;de.negative=ie.negative^he.negative,de.length=19,He=Math.imul(Te,Tt),ce=Math.imul(Te,Ot),ce=ce+Math.imul(Ye,Tt)|0,Re=Math.imul(Ye,Ot);var un=(nt+He|0)+((ce&8191)<<13)|0;nt=(Re+(ce>>>13)|0)+(un>>>26)|0,un&=67108863,He=Math.imul($e,Tt),ce=Math.imul($e,Ot),ce=ce+Math.imul(gt,Tt)|0,Re=Math.imul(gt,Ot),He=He+Math.imul(Te,Ti)|0,ce=ce+Math.imul(Te,Ui)|0,ce=ce+Math.imul(Ye,Ti)|0,Re=Re+Math.imul(Ye,Ui)|0;var Yn=(nt+He|0)+((ce&8191)<<13)|0;nt=(Re+(ce>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,He=Math.imul(Kt,Tt),ce=Math.imul(Kt,Ot),ce=ce+Math.imul(Ft,Tt)|0,Re=Math.imul(Ft,Ot),He=He+Math.imul($e,Ti)|0,ce=ce+Math.imul($e,Ui)|0,ce=ce+Math.imul(gt,Ti)|0,Re=Re+Math.imul(gt,Ui)|0,He=He+Math.imul(Te,kr)|0,ce=ce+Math.imul(Te,mr)|0,ce=ce+Math.imul(Ye,kr)|0,Re=Re+Math.imul(Ye,mr)|0;var ks=(nt+He|0)+((ce&8191)<<13)|0;nt=(Re+(ce>>>13)|0)+(ks>>>26)|0,ks&=67108863,He=Math.imul($t,Tt),ce=Math.imul($t,Ot),ce=ce+Math.imul(vi,Tt)|0,Re=Math.imul(vi,Ot),He=He+Math.imul(Kt,Ti)|0,ce=ce+Math.imul(Kt,Ui)|0,ce=ce+Math.imul(Ft,Ti)|0,Re=Re+Math.imul(Ft,Ui)|0,He=He+Math.imul($e,kr)|0,ce=ce+Math.imul($e,mr)|0,ce=ce+Math.imul(gt,kr)|0,Re=Re+Math.imul(gt,mr)|0,He=He+Math.imul(Te,Ze)|0,ce=ce+Math.imul(Te,ht)|0,ce=ce+Math.imul(Ye,Ze)|0,Re=Re+Math.imul(Ye,ht)|0;var Qn=(nt+He|0)+((ce&8191)<<13)|0;nt=(Re+(ce>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,He=Math.imul(Ki,Tt),ce=Math.imul(Ki,Ot),ce=ce+Math.imul(or,Tt)|0,Re=Math.imul(or,Ot),He=He+Math.imul($t,Ti)|0,ce=ce+Math.imul($t,Ui)|0,ce=ce+Math.imul(vi,Ti)|0,Re=Re+Math.imul(vi,Ui)|0,He=He+Math.imul(Kt,kr)|0,ce=ce+Math.imul(Kt,mr)|0,ce=ce+Math.imul(Ft,kr)|0,Re=Re+Math.imul(Ft,mr)|0,He=He+Math.imul($e,Ze)|0,ce=ce+Math.imul($e,ht)|0,ce=ce+Math.imul(gt,Ze)|0,Re=Re+Math.imul(gt,ht)|0,He=He+Math.imul(Te,ei)|0,ce=ce+Math.imul(Te,Si)|0,ce=ce+Math.imul(Ye,ei)|0,Re=Re+Math.imul(Ye,Si)|0;var Tr=(nt+He|0)+((ce&8191)<<13)|0;nt=(Re+(ce>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,He=Math.imul(Ct,Tt),ce=Math.imul(Ct,Ot),ce=ce+Math.imul(ri,Tt)|0,Re=Math.imul(ri,Ot),He=He+Math.imul(Ki,Ti)|0,ce=ce+Math.imul(Ki,Ui)|0,ce=ce+Math.imul(or,Ti)|0,Re=Re+Math.imul(or,Ui)|0,He=He+Math.imul($t,kr)|0,ce=ce+Math.imul($t,mr)|0,ce=ce+Math.imul(vi,kr)|0,Re=Re+Math.imul(vi,mr)|0,He=He+Math.imul(Kt,Ze)|0,ce=ce+Math.imul(Kt,ht)|0,ce=ce+Math.imul(Ft,Ze)|0,Re=Re+Math.imul(Ft,ht)|0,He=He+Math.imul($e,ei)|0,ce=ce+Math.imul($e,Si)|0,ce=ce+Math.imul(gt,ei)|0,Re=Re+Math.imul(gt,Si)|0,He=He+Math.imul(Te,jt)|0,ce=ce+Math.imul(Te,nr)|0,ce=ce+Math.imul(Ye,jt)|0,Re=Re+Math.imul(Ye,nr)|0;var ss=(nt+He|0)+((ce&8191)<<13)|0;nt=(Re+(ce>>>13)|0)+(ss>>>26)|0,ss&=67108863,He=Math.imul(ft,Tt),ce=Math.imul(ft,Ot),ce=ce+Math.imul(Lt,Tt)|0,Re=Math.imul(Lt,Ot),He=He+Math.imul(Ct,Ti)|0,ce=ce+Math.imul(Ct,Ui)|0,ce=ce+Math.imul(ri,Ti)|0,Re=Re+Math.imul(ri,Ui)|0,He=He+Math.imul(Ki,kr)|0,ce=ce+Math.imul(Ki,mr)|0,ce=ce+Math.imul(or,kr)|0,Re=Re+Math.imul(or,mr)|0,He=He+Math.imul($t,Ze)|0,ce=ce+Math.imul($t,ht)|0,ce=ce+Math.imul(vi,Ze)|0,Re=Re+Math.imul(vi,ht)|0,He=He+Math.imul(Kt,ei)|0,ce=ce+Math.imul(Kt,Si)|0,ce=ce+Math.imul(Ft,ei)|0,Re=Re+Math.imul(Ft,Si)|0,He=He+Math.imul($e,jt)|0,ce=ce+Math.imul($e,nr)|0,ce=ce+Math.imul(gt,jt)|0,Re=Re+Math.imul(gt,nr)|0,He=He+Math.imul(Te,Mt)|0,ce=ce+Math.imul(Te,ui)|0,ce=ce+Math.imul(Ye,Mt)|0,Re=Re+Math.imul(Ye,ui)|0;var Bn=(nt+He|0)+((ce&8191)<<13)|0;nt=(Re+(ce>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,He=Math.imul(bi,Tt),ce=Math.imul(bi,Ot),ce=ce+Math.imul(rt,Tt)|0,Re=Math.imul(rt,Ot),He=He+Math.imul(ft,Ti)|0,ce=ce+Math.imul(ft,Ui)|0,ce=ce+Math.imul(Lt,Ti)|0,Re=Re+Math.imul(Lt,Ui)|0,He=He+Math.imul(Ct,kr)|0,ce=ce+Math.imul(Ct,mr)|0,ce=ce+Math.imul(ri,kr)|0,Re=Re+Math.imul(ri,mr)|0,He=He+Math.imul(Ki,Ze)|0,ce=ce+Math.imul(Ki,ht)|0,ce=ce+Math.imul(or,Ze)|0,Re=Re+Math.imul(or,ht)|0,He=He+Math.imul($t,ei)|0,ce=ce+Math.imul($t,Si)|0,ce=ce+Math.imul(vi,ei)|0,Re=Re+Math.imul(vi,Si)|0,He=He+Math.imul(Kt,jt)|0,ce=ce+Math.imul(Kt,nr)|0,ce=ce+Math.imul(Ft,jt)|0,Re=Re+Math.imul(Ft,nr)|0,He=He+Math.imul($e,Mt)|0,ce=ce+Math.imul($e,ui)|0,ce=ce+Math.imul(gt,Mt)|0,Re=Re+Math.imul(gt,ui)|0,He=He+Math.imul(Te,xi)|0,ce=ce+Math.imul(Te,Fi)|0,ce=ce+Math.imul(Ye,xi)|0,Re=Re+Math.imul(Ye,Fi)|0;var os=(nt+He|0)+((ce&8191)<<13)|0;nt=(Re+(ce>>>13)|0)+(os>>>26)|0,os&=67108863,He=Math.imul(Me,Tt),ce=Math.imul(Me,Ot),ce=ce+Math.imul(bt,Tt)|0,Re=Math.imul(bt,Ot),He=He+Math.imul(bi,Ti)|0,ce=ce+Math.imul(bi,Ui)|0,ce=ce+Math.imul(rt,Ti)|0,Re=Re+Math.imul(rt,Ui)|0,He=He+Math.imul(ft,kr)|0,ce=ce+Math.imul(ft,mr)|0,ce=ce+Math.imul(Lt,kr)|0,Re=Re+Math.imul(Lt,mr)|0,He=He+Math.imul(Ct,Ze)|0,ce=ce+Math.imul(Ct,ht)|0,ce=ce+Math.imul(ri,Ze)|0,Re=Re+Math.imul(ri,ht)|0,He=He+Math.imul(Ki,ei)|0,ce=ce+Math.imul(Ki,Si)|0,ce=ce+Math.imul(or,ei)|0,Re=Re+Math.imul(or,Si)|0,He=He+Math.imul($t,jt)|0,ce=ce+Math.imul($t,nr)|0,ce=ce+Math.imul(vi,jt)|0,Re=Re+Math.imul(vi,nr)|0,He=He+Math.imul(Kt,Mt)|0,ce=ce+Math.imul(Kt,ui)|0,ce=ce+Math.imul(Ft,Mt)|0,Re=Re+Math.imul(Ft,ui)|0,He=He+Math.imul($e,xi)|0,ce=ce+Math.imul($e,Fi)|0,ce=ce+Math.imul(gt,xi)|0,Re=Re+Math.imul(gt,Fi)|0,He=He+Math.imul(Te,fr)|0,ce=ce+Math.imul(Te,Pr)|0,ce=ce+Math.imul(Ye,fr)|0,Re=Re+Math.imul(Ye,Pr)|0;var rn=(nt+He|0)+((ce&8191)<<13)|0;nt=(Re+(ce>>>13)|0)+(rn>>>26)|0,rn&=67108863,He=Math.imul(It,Tt),ce=Math.imul(It,Ot),ce=ce+Math.imul(yt,Tt)|0,Re=Math.imul(yt,Ot),He=He+Math.imul(Me,Ti)|0,ce=ce+Math.imul(Me,Ui)|0,ce=ce+Math.imul(bt,Ti)|0,Re=Re+Math.imul(bt,Ui)|0,He=He+Math.imul(bi,kr)|0,ce=ce+Math.imul(bi,mr)|0,ce=ce+Math.imul(rt,kr)|0,Re=Re+Math.imul(rt,mr)|0,He=He+Math.imul(ft,Ze)|0,ce=ce+Math.imul(ft,ht)|0,ce=ce+Math.imul(Lt,Ze)|0,Re=Re+Math.imul(Lt,ht)|0,He=He+Math.imul(Ct,ei)|0,ce=ce+Math.imul(Ct,Si)|0,ce=ce+Math.imul(ri,ei)|0,Re=Re+Math.imul(ri,Si)|0,He=He+Math.imul(Ki,jt)|0,ce=ce+Math.imul(Ki,nr)|0,ce=ce+Math.imul(or,jt)|0,Re=Re+Math.imul(or,nr)|0,He=He+Math.imul($t,Mt)|0,ce=ce+Math.imul($t,ui)|0,ce=ce+Math.imul(vi,Mt)|0,Re=Re+Math.imul(vi,ui)|0,He=He+Math.imul(Kt,xi)|0,ce=ce+Math.imul(Kt,Fi)|0,ce=ce+Math.imul(Ft,xi)|0,Re=Re+Math.imul(Ft,Fi)|0,He=He+Math.imul($e,fr)|0,ce=ce+Math.imul($e,Pr)|0,ce=ce+Math.imul(gt,fr)|0,Re=Re+Math.imul(gt,Pr)|0,He=He+Math.imul(Te,Lr)|0,ce=ce+Math.imul(Te,jr)|0,ce=ce+Math.imul(Ye,Lr)|0,Re=Re+Math.imul(Ye,jr)|0;var Z0=(nt+He|0)+((ce&8191)<<13)|0;nt=(Re+(ce>>>13)|0)+(Z0>>>26)|0,Z0&=67108863,He=Math.imul(It,Ti),ce=Math.imul(It,Ui),ce=ce+Math.imul(yt,Ti)|0,Re=Math.imul(yt,Ui),He=He+Math.imul(Me,kr)|0,ce=ce+Math.imul(Me,mr)|0,ce=ce+Math.imul(bt,kr)|0,Re=Re+Math.imul(bt,mr)|0,He=He+Math.imul(bi,Ze)|0,ce=ce+Math.imul(bi,ht)|0,ce=ce+Math.imul(rt,Ze)|0,Re=Re+Math.imul(rt,ht)|0,He=He+Math.imul(ft,ei)|0,ce=ce+Math.imul(ft,Si)|0,ce=ce+Math.imul(Lt,ei)|0,Re=Re+Math.imul(Lt,Si)|0,He=He+Math.imul(Ct,jt)|0,ce=ce+Math.imul(Ct,nr)|0,ce=ce+Math.imul(ri,jt)|0,Re=Re+Math.imul(ri,nr)|0,He=He+Math.imul(Ki,Mt)|0,ce=ce+Math.imul(Ki,ui)|0,ce=ce+Math.imul(or,Mt)|0,Re=Re+Math.imul(or,ui)|0,He=He+Math.imul($t,xi)|0,ce=ce+Math.imul($t,Fi)|0,ce=ce+Math.imul(vi,xi)|0,Re=Re+Math.imul(vi,Fi)|0,He=He+Math.imul(Kt,fr)|0,ce=ce+Math.imul(Kt,Pr)|0,ce=ce+Math.imul(Ft,fr)|0,Re=Re+Math.imul(Ft,Pr)|0,He=He+Math.imul($e,Lr)|0,ce=ce+Math.imul($e,jr)|0,ce=ce+Math.imul(gt,Lr)|0,Re=Re+Math.imul(gt,jr)|0;var Vs=(nt+He|0)+((ce&8191)<<13)|0;nt=(Re+(ce>>>13)|0)+(Vs>>>26)|0,Vs&=67108863,He=Math.imul(It,kr),ce=Math.imul(It,mr),ce=ce+Math.imul(yt,kr)|0,Re=Math.imul(yt,mr),He=He+Math.imul(Me,Ze)|0,ce=ce+Math.imul(Me,ht)|0,ce=ce+Math.imul(bt,Ze)|0,Re=Re+Math.imul(bt,ht)|0,He=He+Math.imul(bi,ei)|0,ce=ce+Math.imul(bi,Si)|0,ce=ce+Math.imul(rt,ei)|0,Re=Re+Math.imul(rt,Si)|0,He=He+Math.imul(ft,jt)|0,ce=ce+Math.imul(ft,nr)|0,ce=ce+Math.imul(Lt,jt)|0,Re=Re+Math.imul(Lt,nr)|0,He=He+Math.imul(Ct,Mt)|0,ce=ce+Math.imul(Ct,ui)|0,ce=ce+Math.imul(ri,Mt)|0,Re=Re+Math.imul(ri,ui)|0,He=He+Math.imul(Ki,xi)|0,ce=ce+Math.imul(Ki,Fi)|0,ce=ce+Math.imul(or,xi)|0,Re=Re+Math.imul(or,Fi)|0,He=He+Math.imul($t,fr)|0,ce=ce+Math.imul($t,Pr)|0,ce=ce+Math.imul(vi,fr)|0,Re=Re+Math.imul(vi,Pr)|0,He=He+Math.imul(Kt,Lr)|0,ce=ce+Math.imul(Kt,jr)|0,ce=ce+Math.imul(Ft,Lr)|0,Re=Re+Math.imul(Ft,jr)|0;var Ks=(nt+He|0)+((ce&8191)<<13)|0;nt=(Re+(ce>>>13)|0)+(Ks>>>26)|0,Ks&=67108863,He=Math.imul(It,Ze),ce=Math.imul(It,ht),ce=ce+Math.imul(yt,Ze)|0,Re=Math.imul(yt,ht),He=He+Math.imul(Me,ei)|0,ce=ce+Math.imul(Me,Si)|0,ce=ce+Math.imul(bt,ei)|0,Re=Re+Math.imul(bt,Si)|0,He=He+Math.imul(bi,jt)|0,ce=ce+Math.imul(bi,nr)|0,ce=ce+Math.imul(rt,jt)|0,Re=Re+Math.imul(rt,nr)|0,He=He+Math.imul(ft,Mt)|0,ce=ce+Math.imul(ft,ui)|0,ce=ce+Math.imul(Lt,Mt)|0,Re=Re+Math.imul(Lt,ui)|0,He=He+Math.imul(Ct,xi)|0,ce=ce+Math.imul(Ct,Fi)|0,ce=ce+Math.imul(ri,xi)|0,Re=Re+Math.imul(ri,Fi)|0,He=He+Math.imul(Ki,fr)|0,ce=ce+Math.imul(Ki,Pr)|0,ce=ce+Math.imul(or,fr)|0,Re=Re+Math.imul(or,Pr)|0,He=He+Math.imul($t,Lr)|0,ce=ce+Math.imul($t,jr)|0,ce=ce+Math.imul(vi,Lr)|0,Re=Re+Math.imul(vi,jr)|0;var rr=(nt+He|0)+((ce&8191)<<13)|0;nt=(Re+(ce>>>13)|0)+(rr>>>26)|0,rr&=67108863,He=Math.imul(It,ei),ce=Math.imul(It,Si),ce=ce+Math.imul(yt,ei)|0,Re=Math.imul(yt,Si),He=He+Math.imul(Me,jt)|0,ce=ce+Math.imul(Me,nr)|0,ce=ce+Math.imul(bt,jt)|0,Re=Re+Math.imul(bt,nr)|0,He=He+Math.imul(bi,Mt)|0,ce=ce+Math.imul(bi,ui)|0,ce=ce+Math.imul(rt,Mt)|0,Re=Re+Math.imul(rt,ui)|0,He=He+Math.imul(ft,xi)|0,ce=ce+Math.imul(ft,Fi)|0,ce=ce+Math.imul(Lt,xi)|0,Re=Re+Math.imul(Lt,Fi)|0,He=He+Math.imul(Ct,fr)|0,ce=ce+Math.imul(Ct,Pr)|0,ce=ce+Math.imul(ri,fr)|0,Re=Re+Math.imul(ri,Pr)|0,He=He+Math.imul(Ki,Lr)|0,ce=ce+Math.imul(Ki,jr)|0,ce=ce+Math.imul(or,Lr)|0,Re=Re+Math.imul(or,jr)|0;var dt=(nt+He|0)+((ce&8191)<<13)|0;nt=(Re+(ce>>>13)|0)+(dt>>>26)|0,dt&=67108863,He=Math.imul(It,jt),ce=Math.imul(It,nr),ce=ce+Math.imul(yt,jt)|0,Re=Math.imul(yt,nr),He=He+Math.imul(Me,Mt)|0,ce=ce+Math.imul(Me,ui)|0,ce=ce+Math.imul(bt,Mt)|0,Re=Re+Math.imul(bt,ui)|0,He=He+Math.imul(bi,xi)|0,ce=ce+Math.imul(bi,Fi)|0,ce=ce+Math.imul(rt,xi)|0,Re=Re+Math.imul(rt,Fi)|0,He=He+Math.imul(ft,fr)|0,ce=ce+Math.imul(ft,Pr)|0,ce=ce+Math.imul(Lt,fr)|0,Re=Re+Math.imul(Lt,Pr)|0,He=He+Math.imul(Ct,Lr)|0,ce=ce+Math.imul(Ct,jr)|0,ce=ce+Math.imul(ri,Lr)|0,Re=Re+Math.imul(ri,jr)|0;var Jt=(nt+He|0)+((ce&8191)<<13)|0;nt=(Re+(ce>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,He=Math.imul(It,Mt),ce=Math.imul(It,ui),ce=ce+Math.imul(yt,Mt)|0,Re=Math.imul(yt,ui),He=He+Math.imul(Me,xi)|0,ce=ce+Math.imul(Me,Fi)|0,ce=ce+Math.imul(bt,xi)|0,Re=Re+Math.imul(bt,Fi)|0,He=He+Math.imul(bi,fr)|0,ce=ce+Math.imul(bi,Pr)|0,ce=ce+Math.imul(rt,fr)|0,Re=Re+Math.imul(rt,Pr)|0,He=He+Math.imul(ft,Lr)|0,ce=ce+Math.imul(ft,jr)|0,ce=ce+Math.imul(Lt,Lr)|0,Re=Re+Math.imul(Lt,jr)|0;var Qi=(nt+He|0)+((ce&8191)<<13)|0;nt=(Re+(ce>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,He=Math.imul(It,xi),ce=Math.imul(It,Fi),ce=ce+Math.imul(yt,xi)|0,Re=Math.imul(yt,Fi),He=He+Math.imul(Me,fr)|0,ce=ce+Math.imul(Me,Pr)|0,ce=ce+Math.imul(bt,fr)|0,Re=Re+Math.imul(bt,Pr)|0,He=He+Math.imul(bi,Lr)|0,ce=ce+Math.imul(bi,jr)|0,ce=ce+Math.imul(rt,Lr)|0,Re=Re+Math.imul(rt,jr)|0;var $i=(nt+He|0)+((ce&8191)<<13)|0;nt=(Re+(ce>>>13)|0)+($i>>>26)|0,$i&=67108863,He=Math.imul(It,fr),ce=Math.imul(It,Pr),ce=ce+Math.imul(yt,fr)|0,Re=Math.imul(yt,Pr),He=He+Math.imul(Me,Lr)|0,ce=ce+Math.imul(Me,jr)|0,ce=ce+Math.imul(bt,Lr)|0,Re=Re+Math.imul(bt,jr)|0;var dn=(nt+He|0)+((ce&8191)<<13)|0;nt=(Re+(ce>>>13)|0)+(dn>>>26)|0,dn&=67108863,He=Math.imul(It,Lr),ce=Math.imul(It,jr),ce=ce+Math.imul(yt,Lr)|0,Re=Math.imul(yt,jr);var jn=(nt+He|0)+((ce&8191)<<13)|0;return nt=(Re+(ce>>>13)|0)+(jn>>>26)|0,jn&=67108863,Le[0]=un,Le[1]=Yn,Le[2]=ks,Le[3]=Qn,Le[4]=Tr,Le[5]=ss,Le[6]=Bn,Le[7]=os,Le[8]=rn,Le[9]=Z0,Le[10]=Vs,Le[11]=Ks,Le[12]=rr,Le[13]=dt,Le[14]=Jt,Le[15]=Qi,Le[16]=$i,Le[17]=dn,Le[18]=jn,nt!==0&&(Le[19]=nt,de.length++),de};Math.imul||(ee=Y);function ue(le,ie,he){he.negative=ie.negative^le.negative,he.length=le.length+ie.length;for(var de=0,Se=0,Be=0;Be<he.length-1;Be++){var Le=Se;Se=0;for(var nt=de&67108863,He=Math.min(Be,ie.length-1),ce=Math.max(0,Be-le.length+1);ce<=He;ce++){var Re=Be-ce,lt=le.words[Re]|0,Te=ie.words[ce]|0,Ye=lt*Te,mt=Ye&67108863;Le=Le+(Ye/67108864|0)|0,mt=mt+nt|0,nt=mt&67108863,Le=Le+(mt>>>26)|0,Se+=Le>>>26,Le&=67108863}he.words[Be]=nt,de=Le,Le=Se}return de!==0?he.words[Be]=de:he.length--,he._strip()}function oe(le,ie,he){return ue(le,ie,he)}p.prototype.mulTo=function(ie,he){var de,Se=this.length+ie.length;return this.length===10&&ie.length===10?de=ee(this,ie,he):Se<63?de=Y(this,ie,he):Se<1024?de=ue(this,ie,he):de=oe(this,ie,he),de},p.prototype.mul=function(ie){var he=new p(null);return he.words=new Array(this.length+ie.length),this.mulTo(ie,he)},p.prototype.mulf=function(ie){var he=new p(null);return he.words=new Array(this.length+ie.length),oe(this,ie,he)},p.prototype.imul=function(ie){return this.clone().mulTo(ie,this)},p.prototype.imuln=function(ie){var he=ie<0;he&&(ie=-ie),s(typeof ie=="number"),s(ie<67108864);for(var de=0,Se=0;Se<this.length;Se++){var Be=(this.words[Se]|0)*ie,Le=(Be&67108863)+(de&67108863);de>>=26,de+=Be/67108864|0,de+=Le>>>26,this.words[Se]=Le&67108863}return de!==0&&(this.words[Se]=de,this.length++),he?this.ineg():this},p.prototype.muln=function(ie){return this.clone().imuln(ie)},p.prototype.sqr=function(){return this.mul(this)},p.prototype.isqr=function(){return this.imul(this.clone())},p.prototype.pow=function(ie){var he=z(ie);if(he.length===0)return new p(1);for(var de=this,Se=0;Se<he.length&&he[Se]===0;Se++,de=de.sqr());if(++Se<he.length)for(var Be=de.sqr();Se<he.length;Se++,Be=Be.sqr())he[Se]!==0&&(de=de.mul(Be));return de},p.prototype.iushln=function(ie){s(typeof ie=="number"&&ie>=0);var he=ie%26,de=(ie-he)/26,Se=67108863>>>26-he<<26-he,Be;if(he!==0){var Le=0;for(Be=0;Be<this.length;Be++){var nt=this.words[Be]&Se,He=(this.words[Be]|0)-nt<<he;this.words[Be]=He|Le,Le=nt>>>26-he}Le&&(this.words[Be]=Le,this.length++)}if(de!==0){for(Be=this.length-1;Be>=0;Be--)this.words[Be+de]=this.words[Be];for(Be=0;Be<de;Be++)this.words[Be]=0;this.length+=de}return this._strip()},p.prototype.ishln=function(ie){return s(this.negative===0),this.iushln(ie)},p.prototype.iushrn=function(ie,he,de){s(typeof ie=="number"&&ie>=0);var Se;he?Se=(he-he%26)/26:Se=0;var Be=ie%26,Le=Math.min((ie-Be)/26,this.length),nt=67108863^67108863>>>Be<<Be,He=de;if(Se-=Le,Se=Math.max(0,Se),He){for(var ce=0;ce<Le;ce++)He.words[ce]=this.words[ce];He.length=Le}if(Le!==0)if(this.length>Le)for(this.length-=Le,ce=0;ce<this.length;ce++)this.words[ce]=this.words[ce+Le];else this.words[0]=0,this.length=1;var Re=0;for(ce=this.length-1;ce>=0&&(Re!==0||ce>=Se);ce--){var lt=this.words[ce]|0;this.words[ce]=Re<<26-Be|lt>>>Be,Re=lt&nt}return He&&Re!==0&&(He.words[He.length++]=Re),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},p.prototype.ishrn=function(ie,he,de){return s(this.negative===0),this.iushrn(ie,he,de)},p.prototype.shln=function(ie){return this.clone().ishln(ie)},p.prototype.ushln=function(ie){return this.clone().iushln(ie)},p.prototype.shrn=function(ie){return this.clone().ishrn(ie)},p.prototype.ushrn=function(ie){return this.clone().iushrn(ie)},p.prototype.testn=function(ie){s(typeof ie=="number"&&ie>=0);var he=ie%26,de=(ie-he)/26,Se=1<<he;if(this.length<=de)return!1;var Be=this.words[de];return!!(Be&Se)},p.prototype.imaskn=function(ie){s(typeof ie=="number"&&ie>=0);var he=ie%26,de=(ie-he)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=de)return this;if(he!==0&&de++,this.length=Math.min(de,this.length),he!==0){var Se=67108863^67108863>>>he<<he;this.words[this.length-1]&=Se}return this._strip()},p.prototype.maskn=function(ie){return this.clone().imaskn(ie)},p.prototype.iaddn=function(ie){return s(typeof ie=="number"),s(ie<67108864),ie<0?this.isubn(-ie):this.negative!==0?this.length===1&&(this.words[0]|0)<=ie?(this.words[0]=ie-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ie),this.negative=1,this):this._iaddn(ie)},p.prototype._iaddn=function(ie){this.words[0]+=ie;for(var he=0;he<this.length&&this.words[he]>=67108864;he++)this.words[he]-=67108864,he===this.length-1?this.words[he+1]=1:this.words[he+1]++;return this.length=Math.max(this.length,he+1),this},p.prototype.isubn=function(ie){if(s(typeof ie=="number"),s(ie<67108864),ie<0)return this.iaddn(-ie);if(this.negative!==0)return this.negative=0,this.iaddn(ie),this.negative=1,this;if(this.words[0]-=ie,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var he=0;he<this.length&&this.words[he]<0;he++)this.words[he]+=67108864,this.words[he+1]-=1;return this._strip()},p.prototype.addn=function(ie){return this.clone().iaddn(ie)},p.prototype.subn=function(ie){return this.clone().isubn(ie)},p.prototype.iabs=function(){return this.negative=0,this},p.prototype.abs=function(){return this.clone().iabs()},p.prototype._ishlnsubmul=function(ie,he,de){var Se=ie.length+de,Be;this._expand(Se);var Le,nt=0;for(Be=0;Be<ie.length;Be++){Le=(this.words[Be+de]|0)+nt;var He=(ie.words[Be]|0)*he;Le-=He&67108863,nt=(Le>>26)-(He/67108864|0),this.words[Be+de]=Le&67108863}for(;Be<this.length-de;Be++)Le=(this.words[Be+de]|0)+nt,nt=Le>>26,this.words[Be+de]=Le&67108863;if(nt===0)return this._strip();for(s(nt===-1),nt=0,Be=0;Be<this.length;Be++)Le=-(this.words[Be]|0)+nt,nt=Le>>26,this.words[Be]=Le&67108863;return this.negative=1,this._strip()},p.prototype._wordDiv=function(ie,he){var de=this.length-ie.length,Se=this.clone(),Be=ie,Le=Be.words[Be.length-1]|0,nt=this._countBits(Le);de=26-nt,de!==0&&(Be=Be.ushln(de),Se.iushln(de),Le=Be.words[Be.length-1]|0);var He=Se.length-Be.length,ce;if(he!=="mod"){ce=new p(null),ce.length=He+1,ce.words=new Array(ce.length);for(var Re=0;Re<ce.length;Re++)ce.words[Re]=0}var lt=Se.clone()._ishlnsubmul(Be,1,He);lt.negative===0&&(Se=lt,ce&&(ce.words[He]=1));for(var Te=He-1;Te>=0;Te--){var Ye=(Se.words[Be.length+Te]|0)*67108864+(Se.words[Be.length+Te-1]|0);for(Ye=Math.min(Ye/Le|0,67108863),Se._ishlnsubmul(Be,Ye,Te);Se.negative!==0;)Ye--,Se.negative=0,Se._ishlnsubmul(Be,1,Te),Se.isZero()||(Se.negative^=1);ce&&(ce.words[Te]=Ye)}return ce&&ce._strip(),Se._strip(),he!=="div"&&de!==0&&Se.iushrn(de),{div:ce||null,mod:Se}},p.prototype.divmod=function(ie,he,de){if(s(!ie.isZero()),this.isZero())return{div:new p(0),mod:new p(0)};var Se,Be,Le;return this.negative!==0&&ie.negative===0?(Le=this.neg().divmod(ie,he),he!=="mod"&&(Se=Le.div.neg()),he!=="div"&&(Be=Le.mod.neg(),de&&Be.negative!==0&&Be.iadd(ie)),{div:Se,mod:Be}):this.negative===0&&ie.negative!==0?(Le=this.divmod(ie.neg(),he),he!=="mod"&&(Se=Le.div.neg()),{div:Se,mod:Le.mod}):(this.negative&ie.negative)!==0?(Le=this.neg().divmod(ie.neg(),he),he!=="div"&&(Be=Le.mod.neg(),de&&Be.negative!==0&&Be.isub(ie)),{div:Le.div,mod:Be}):ie.length>this.length||this.cmp(ie)<0?{div:new p(0),mod:this}:ie.length===1?he==="div"?{div:this.divn(ie.words[0]),mod:null}:he==="mod"?{div:null,mod:new p(this.modrn(ie.words[0]))}:{div:this.divn(ie.words[0]),mod:new p(this.modrn(ie.words[0]))}:this._wordDiv(ie,he)},p.prototype.div=function(ie){return this.divmod(ie,"div",!1).div},p.prototype.mod=function(ie){return this.divmod(ie,"mod",!1).mod},p.prototype.umod=function(ie){return this.divmod(ie,"mod",!0).mod},p.prototype.divRound=function(ie){var he=this.divmod(ie);if(he.mod.isZero())return he.div;var de=he.div.negative!==0?he.mod.isub(ie):he.mod,Se=ie.ushrn(1),Be=ie.andln(1),Le=de.cmp(Se);return Le<0||Be===1&&Le===0?he.div:he.div.negative!==0?he.div.isubn(1):he.div.iaddn(1)},p.prototype.modrn=function(ie){var he=ie<0;he&&(ie=-ie),s(ie<=67108863);for(var de=(1<<26)%ie,Se=0,Be=this.length-1;Be>=0;Be--)Se=(de*Se+(this.words[Be]|0))%ie;return he?-Se:Se},p.prototype.modn=function(ie){return this.modrn(ie)},p.prototype.idivn=function(ie){var he=ie<0;he&&(ie=-ie),s(ie<=67108863);for(var de=0,Se=this.length-1;Se>=0;Se--){var Be=(this.words[Se]|0)+de*67108864;this.words[Se]=Be/ie|0,de=Be%ie}return this._strip(),he?this.ineg():this},p.prototype.divn=function(ie){return this.clone().idivn(ie)},p.prototype.egcd=function(ie){s(ie.negative===0),s(!ie.isZero());var he=this,de=ie.clone();he.negative!==0?he=he.umod(ie):he=he.clone();for(var Se=new p(1),Be=new p(0),Le=new p(0),nt=new p(1),He=0;he.isEven()&&de.isEven();)he.iushrn(1),de.iushrn(1),++He;for(var ce=de.clone(),Re=he.clone();!he.isZero();){for(var lt=0,Te=1;(he.words[0]&Te)===0&&lt<26;++lt,Te<<=1);if(lt>0)for(he.iushrn(lt);lt-- >0;)(Se.isOdd()||Be.isOdd())&&(Se.iadd(ce),Be.isub(Re)),Se.iushrn(1),Be.iushrn(1);for(var Ye=0,mt=1;(de.words[0]&mt)===0&&Ye<26;++Ye,mt<<=1);if(Ye>0)for(de.iushrn(Ye);Ye-- >0;)(Le.isOdd()||nt.isOdd())&&(Le.iadd(ce),nt.isub(Re)),Le.iushrn(1),nt.iushrn(1);he.cmp(de)>=0?(he.isub(de),Se.isub(Le),Be.isub(nt)):(de.isub(he),Le.isub(Se),nt.isub(Be))}return{a:Le,b:nt,gcd:de.iushln(He)}},p.prototype._invmp=function(ie){s(ie.negative===0),s(!ie.isZero());var he=this,de=ie.clone();he.negative!==0?he=he.umod(ie):he=he.clone();for(var Se=new p(1),Be=new p(0),Le=de.clone();he.cmpn(1)>0&&de.cmpn(1)>0;){for(var nt=0,He=1;(he.words[0]&He)===0&&nt<26;++nt,He<<=1);if(nt>0)for(he.iushrn(nt);nt-- >0;)Se.isOdd()&&Se.iadd(Le),Se.iushrn(1);for(var ce=0,Re=1;(de.words[0]&Re)===0&&ce<26;++ce,Re<<=1);if(ce>0)for(de.iushrn(ce);ce-- >0;)Be.isOdd()&&Be.iadd(Le),Be.iushrn(1);he.cmp(de)>=0?(he.isub(de),Se.isub(Be)):(de.isub(he),Be.isub(Se))}var lt;return he.cmpn(1)===0?lt=Se:lt=Be,lt.cmpn(0)<0&&lt.iadd(ie),lt},p.prototype.gcd=function(ie){if(this.isZero())return ie.abs();if(ie.isZero())return this.abs();var he=this.clone(),de=ie.clone();he.negative=0,de.negative=0;for(var Se=0;he.isEven()&&de.isEven();Se++)he.iushrn(1),de.iushrn(1);do{for(;he.isEven();)he.iushrn(1);for(;de.isEven();)de.iushrn(1);var Be=he.cmp(de);if(Be<0){var Le=he;he=de,de=Le}else if(Be===0||de.cmpn(1)===0)break;he.isub(de)}while(!0);return de.iushln(Se)},p.prototype.invm=function(ie){return this.egcd(ie).a.umod(ie)},p.prototype.isEven=function(){return(this.words[0]&1)===0},p.prototype.isOdd=function(){return(this.words[0]&1)===1},p.prototype.andln=function(ie){return this.words[0]&ie},p.prototype.bincn=function(ie){s(typeof ie=="number");var he=ie%26,de=(ie-he)/26,Se=1<<he;if(this.length<=de)return this._expand(de+1),this.words[de]|=Se,this;for(var Be=Se,Le=de;Be!==0&&Le<this.length;Le++){var nt=this.words[Le]|0;nt+=Be,Be=nt>>>26,nt&=67108863,this.words[Le]=nt}return Be!==0&&(this.words[Le]=Be,this.length++),this},p.prototype.isZero=function(){return this.length===1&&this.words[0]===0},p.prototype.cmpn=function(ie){var he=ie<0;if(this.negative!==0&&!he)return-1;if(this.negative===0&&he)return 1;this._strip();var de;if(this.length>1)de=1;else{he&&(ie=-ie),s(ie<=67108863,"Number is too big");var Se=this.words[0]|0;de=Se===ie?0:Se<ie?-1:1}return this.negative!==0?-de|0:de},p.prototype.cmp=function(ie){if(this.negative!==0&&ie.negative===0)return-1;if(this.negative===0&&ie.negative!==0)return 1;var he=this.ucmp(ie);return this.negative!==0?-he|0:he},p.prototype.ucmp=function(ie){if(this.length>ie.length)return 1;if(this.length<ie.length)return-1;for(var he=0,de=this.length-1;de>=0;de--){var Se=this.words[de]|0,Be=ie.words[de]|0;if(Se!==Be){Se<Be?he=-1:Se>Be&&(he=1);break}}return he},p.prototype.gtn=function(ie){return this.cmpn(ie)===1},p.prototype.gt=function(ie){return this.cmp(ie)===1},p.prototype.gten=function(ie){return this.cmpn(ie)>=0},p.prototype.gte=function(ie){return this.cmp(ie)>=0},p.prototype.ltn=function(ie){return this.cmpn(ie)===-1},p.prototype.lt=function(ie){return this.cmp(ie)===-1},p.prototype.lten=function(ie){return this.cmpn(ie)<=0},p.prototype.lte=function(ie){return this.cmp(ie)<=0},p.prototype.eqn=function(ie){return this.cmpn(ie)===0},p.prototype.eq=function(ie){return this.cmp(ie)===0},p.red=function(ie){return new ge(ie)},p.prototype.toRed=function(ie){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),ie.convertTo(this)._forceRed(ie)},p.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},p.prototype._forceRed=function(ie){return this.red=ie,this},p.prototype.forceRed=function(ie){return s(!this.red,"Already a number in reduction context"),this._forceRed(ie)},p.prototype.redAdd=function(ie){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,ie)},p.prototype.redIAdd=function(ie){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ie)},p.prototype.redSub=function(ie){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,ie)},p.prototype.redISub=function(ie){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,ie)},p.prototype.redShl=function(ie){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,ie)},p.prototype.redMul=function(ie){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,ie),this.red.mul(this,ie)},p.prototype.redIMul=function(ie){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,ie),this.red.imul(this,ie)},p.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},p.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},p.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},p.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},p.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},p.prototype.redPow=function(ie){return s(this.red&&!ie.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ie)};var Ae={k256:null,p224:null,p192:null,p25519:null};function be(le,ie){this.name=le,this.p=new p(ie,16),this.n=this.p.bitLength(),this.k=new p(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}be.prototype._tmp=function(){var ie=new p(null);return ie.words=new Array(Math.ceil(this.n/13)),ie},be.prototype.ireduce=function(ie){var he=ie,de;do this.split(he,this.tmp),he=this.imulK(he),he=he.iadd(this.tmp),de=he.bitLength();while(de>this.n);var Se=de<this.n?-1:he.ucmp(this.p);return Se===0?(he.words[0]=0,he.length=1):Se>0?he.isub(this.p):he.strip!==void 0?he.strip():he._strip(),he},be.prototype.split=function(ie,he){ie.iushrn(this.n,0,he)},be.prototype.imulK=function(ie){return ie.imul(this.k)};function xe(){be.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}u(xe,be),xe.prototype.split=function(ie,he){for(var de=4194303,Se=Math.min(ie.length,9),Be=0;Be<Se;Be++)he.words[Be]=ie.words[Be];if(he.length=Se,ie.length<=9){ie.words[0]=0,ie.length=1;return}var Le=ie.words[9];for(he.words[he.length++]=Le&de,Be=10;Be<ie.length;Be++){var nt=ie.words[Be]|0;ie.words[Be-10]=(nt&de)<<4|Le>>>22,Le=nt}Le>>>=22,ie.words[Be-10]=Le,Le===0&&ie.length>10?ie.length-=10:ie.length-=9},xe.prototype.imulK=function(ie){ie.words[ie.length]=0,ie.words[ie.length+1]=0,ie.length+=2;for(var he=0,de=0;de<ie.length;de++){var Se=ie.words[de]|0;he+=Se*977,ie.words[de]=he&67108863,he=Se*64+(he/67108864|0)}return ie.words[ie.length-1]===0&&(ie.length--,ie.words[ie.length-1]===0&&ie.length--),ie};function ne(){be.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}u(ne,be);function ae(){be.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}u(ae,be);function ye(){be.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}u(ye,be),ye.prototype.imulK=function(ie){for(var he=0,de=0;de<ie.length;de++){var Se=(ie.words[de]|0)*19+he,Be=Se&67108863;Se>>>=26,ie.words[de]=Be,he=Se}return he!==0&&(ie.words[ie.length++]=he),ie},p._prime=function(ie){if(Ae[ie])return Ae[ie];var he;if(ie==="k256")he=new xe;else if(ie==="p224")he=new ne;else if(ie==="p192")he=new ae;else if(ie==="p25519")he=new ye;else throw new Error("Unknown prime "+ie);return Ae[ie]=he,he};function ge(le){if(typeof le=="string"){var ie=p._prime(le);this.m=ie.p,this.prime=ie}else s(le.gtn(1),"modulus must be greater than 1"),this.m=le,this.prime=null}ge.prototype._verify1=function(ie){s(ie.negative===0,"red works only with positives"),s(ie.red,"red works only with red numbers")},ge.prototype._verify2=function(ie,he){s((ie.negative|he.negative)===0,"red works only with positives"),s(ie.red&&ie.red===he.red,"red works only with red numbers")},ge.prototype.imod=function(ie){return this.prime?this.prime.ireduce(ie)._forceRed(this):(k(ie,ie.umod(this.m)._forceRed(this)),ie)},ge.prototype.neg=function(ie){return ie.isZero()?ie.clone():this.m.sub(ie)._forceRed(this)},ge.prototype.add=function(ie,he){this._verify2(ie,he);var de=ie.add(he);return de.cmp(this.m)>=0&&de.isub(this.m),de._forceRed(this)},ge.prototype.iadd=function(ie,he){this._verify2(ie,he);var de=ie.iadd(he);return de.cmp(this.m)>=0&&de.isub(this.m),de},ge.prototype.sub=function(ie,he){this._verify2(ie,he);var de=ie.sub(he);return de.cmpn(0)<0&&de.iadd(this.m),de._forceRed(this)},ge.prototype.isub=function(ie,he){this._verify2(ie,he);var de=ie.isub(he);return de.cmpn(0)<0&&de.iadd(this.m),de},ge.prototype.shl=function(ie,he){return this._verify1(ie),this.imod(ie.ushln(he))},ge.prototype.imul=function(ie,he){return this._verify2(ie,he),this.imod(ie.imul(he))},ge.prototype.mul=function(ie,he){return this._verify2(ie,he),this.imod(ie.mul(he))},ge.prototype.isqr=function(ie){return this.imul(ie,ie.clone())},ge.prototype.sqr=function(ie){return this.mul(ie,ie)},ge.prototype.sqrt=function(ie){if(ie.isZero())return ie.clone();var he=this.m.andln(3);if(s(he%2===1),he===3){var de=this.m.add(new p(1)).iushrn(2);return this.pow(ie,de)}for(var Se=this.m.subn(1),Be=0;!Se.isZero()&&Se.andln(1)===0;)Be++,Se.iushrn(1);s(!Se.isZero());var Le=new p(1).toRed(this),nt=Le.redNeg(),He=this.m.subn(1).iushrn(1),ce=this.m.bitLength();for(ce=new p(2*ce*ce).toRed(this);this.pow(ce,He).cmp(nt)!==0;)ce.redIAdd(nt);for(var Re=this.pow(ce,Se),lt=this.pow(ie,Se.addn(1).iushrn(1)),Te=this.pow(ie,Se),Ye=Be;Te.cmp(Le)!==0;){for(var mt=Te,$e=0;mt.cmp(Le)!==0;$e++)mt=mt.redSqr();s($e<Ye);var gt=this.pow(Re,new p(1).iushln(Ye-$e-1));lt=lt.redMul(gt),Re=gt.redSqr(),Te=Te.redMul(Re),Ye=$e}return lt},ge.prototype.invm=function(ie){var he=ie._invmp(this.m);return he.negative!==0?(he.negative=0,this.imod(he).redNeg()):this.imod(he)},ge.prototype.pow=function(ie,he){if(he.isZero())return new p(1).toRed(this);if(he.cmpn(1)===0)return ie.clone();var de=4,Se=new Array(1<<de);Se[0]=new p(1).toRed(this),Se[1]=ie;for(var Be=2;Be<Se.length;Be++)Se[Be]=this.mul(Se[Be-1],ie);var Le=Se[0],nt=0,He=0,ce=he.bitLength()%26;for(ce===0&&(ce=26),Be=he.length-1;Be>=0;Be--){for(var Re=he.words[Be],lt=ce-1;lt>=0;lt--){var Te=Re>>lt&1;if(Le!==Se[0]&&(Le=this.sqr(Le)),Te===0&&nt===0){He=0;continue}nt<<=1,nt|=Te,He++,!(He!==de&&(Be!==0||lt!==0))&&(Le=this.mul(Le,Se[nt]),He=0,nt=0)}ce=26}return Le},ge.prototype.convertTo=function(ie){var he=ie.umod(this.m);return he===ie?he.clone():he},ge.prototype.convertFrom=function(ie){var he=ie.clone();return he.red=null,he},p.mont=function(ie){return new we(ie)};function we(le){ge.call(this,le),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new p(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}u(we,ge),we.prototype.convertTo=function(ie){return this.imod(ie.ushln(this.shift))},we.prototype.convertFrom=function(ie){var he=this.imod(ie.mul(this.rinv));return he.red=null,he},we.prototype.imul=function(ie,he){if(ie.isZero()||he.isZero())return ie.words[0]=0,ie.length=1,ie;var de=ie.imul(he),Se=de.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Be=de.isub(Se).iushrn(this.shift),Le=Be;return Be.cmp(this.m)>=0?Le=Be.isub(this.m):Be.cmpn(0)<0&&(Le=Be.iadd(this.m)),Le._forceRed(this)},we.prototype.mul=function(ie,he){if(ie.isZero()||he.isZero())return new p(0)._forceRed(this);var de=ie.mul(he),Se=de.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Be=de.isub(Se).iushrn(this.shift),Le=Be;return Be.cmp(this.m)>=0?Le=Be.isub(this.m):Be.cmpn(0)<0&&(Le=Be.iadd(this.m)),Le._forceRed(this)},we.prototype.invm=function(ie){var he=this.imod(ie._invmp(this.m).mul(this.r2));return he._forceRed(this)}})(l,Zs)})(BB);var Vn=BB.exports;const i$="logger/5.7.0";let ZT=!1,YT=!1;const Hv={debug:1,default:2,info:2,warning:3,error:4,off:5};let KT=Hv.default,e5=null;function r$(){try{const l=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{l.push(t)}}),l.length)throw new Error("missing "+l.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(l){return l.message}return null}const $T=r$();var wE;(function(l){l.DEBUG="DEBUG",l.INFO="INFO",l.WARNING="WARNING",l.ERROR="ERROR",l.OFF="OFF"})(wE||(wE={}));var kf;(function(l){l.UNKNOWN_ERROR="UNKNOWN_ERROR",l.NOT_IMPLEMENTED="NOT_IMPLEMENTED",l.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",l.NETWORK_ERROR="NETWORK_ERROR",l.SERVER_ERROR="SERVER_ERROR",l.TIMEOUT="TIMEOUT",l.BUFFER_OVERRUN="BUFFER_OVERRUN",l.NUMERIC_FAULT="NUMERIC_FAULT",l.MISSING_NEW="MISSING_NEW",l.INVALID_ARGUMENT="INVALID_ARGUMENT",l.MISSING_ARGUMENT="MISSING_ARGUMENT",l.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",l.CALL_EXCEPTION="CALL_EXCEPTION",l.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",l.NONCE_EXPIRED="NONCE_EXPIRED",l.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",l.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",l.TRANSACTION_REPLACED="TRANSACTION_REPLACED",l.ACTION_REJECTED="ACTION_REJECTED"})(kf||(kf={}));const eM="0123456789abcdef";class pi{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,i){const s=t.toLowerCase();Hv[s]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(KT>Hv[s])&&console.log.apply(console,i)}debug(...t){this._log(pi.levels.DEBUG,t)}info(...t){this._log(pi.levels.INFO,t)}warn(...t){this._log(pi.levels.WARNING,t)}makeError(t,i,s){if(YT)return this.makeError("censored error",i,{});i||(i=pi.errors.UNKNOWN_ERROR),s||(s={});const u=[];Object.keys(s).forEach(E=>{const _=s[E];try{if(_ instanceof Uint8Array){let k="";for(let R=0;R<_.length;R++)k+=eM[_[R]>>4],k+=eM[_[R]&15];u.push(E+"=Uint8Array(0x"+k+")")}else u.push(E+"="+JSON.stringify(_))}catch{u.push(E+"="+JSON.stringify(s[E].toString()))}}),u.push(`code=${i}`),u.push(`version=${this.version}`);const p=t;let y="";switch(i){case kf.NUMERIC_FAULT:{y="NUMERIC_FAULT";const E=t;switch(E){case"overflow":case"underflow":case"division-by-zero":y+="-"+E;break;case"negative-power":case"negative-width":y+="-unsupported";break;case"unbound-bitwise-result":y+="-unbound-result";break}break}case kf.CALL_EXCEPTION:case kf.INSUFFICIENT_FUNDS:case kf.MISSING_NEW:case kf.NONCE_EXPIRED:case kf.REPLACEMENT_UNDERPRICED:case kf.TRANSACTION_REPLACED:case kf.UNPREDICTABLE_GAS_LIMIT:y=i;break}y&&(t+=" [ See: https://links.ethers.org/v5-errors-"+y+" ]"),u.length&&(t+=" ("+u.join(", ")+")");const A=new Error(t);return A.reason=p,A.code=i,Object.keys(s).forEach(function(E){A[E]=s[E]}),A}throwError(t,i,s){throw this.makeError(t,i,s)}throwArgumentError(t,i,s){return this.throwError(t,pi.errors.INVALID_ARGUMENT,{argument:i,value:s})}assert(t,i,s,u){t||this.throwError(i,s,u)}assertArgument(t,i,s,u){t||this.throwArgumentError(i,s,u)}checkNormalize(t){$T&&this.throwError("platform missing String.prototype.normalize",pi.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:$T})}checkSafeUint53(t,i){typeof t=="number"&&(i==null&&(i="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(i,pi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(i,pi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,i,s){s?s=": "+s:s="",t<i&&this.throwError("missing argument"+s,pi.errors.MISSING_ARGUMENT,{count:t,expectedCount:i}),t>i&&this.throwError("too many arguments"+s,pi.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:i})}checkNew(t,i){(t===Object||t==null)&&this.throwError("missing new",pi.errors.MISSING_NEW,{name:i.name})}checkAbstract(t,i){t===i?this.throwError("cannot instantiate abstract class "+JSON.stringify(i.name)+" directly; use a sub-class",pi.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",pi.errors.MISSING_NEW,{name:i.name})}static globalLogger(){return e5||(e5=new pi(i$)),e5}static setCensorship(t,i){if(!t&&i&&this.globalLogger().throwError("cannot permanently disable censorship",pi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),ZT){if(!t)return;this.globalLogger().throwError("error censorship permanent",pi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}YT=!!t,ZT=!!i}static setLogLevel(t){const i=Hv[t.toLowerCase()];if(i==null){pi.globalLogger().warn("invalid log level - "+t);return}KT=i}static from(t){return new pi(t)}}pi.errors=kf;pi.levels=wE;const n$="bytes/5.7.0",Xs=new pi(n$);function IB(l){return!!l.toHexString}function Bp(l){return l.slice||(l.slice=function(){const t=Array.prototype.slice.call(arguments);return Bp(new Uint8Array(Array.prototype.slice.apply(l,t)))}),l}function q8(l){return t0(l)&&!(l.length%2)||w1(l)}function tM(l){return typeof l=="number"&&l==l&&l%1===0}function w1(l){if(l==null)return!1;if(l.constructor===Uint8Array)return!0;if(typeof l=="string"||!tM(l.length)||l.length<0)return!1;for(let t=0;t<l.length;t++){const i=l[t];if(!tM(i)||i<0||i>=256)return!1}return!0}function Cn(l,t){if(t||(t={}),typeof l=="number"){Xs.checkSafeUint53(l,"invalid arrayify value");const i=[];for(;l;)i.unshift(l&255),l=parseInt(String(l/256));return i.length===0&&i.push(0),Bp(new Uint8Array(i))}if(t.allowMissingPrefix&&typeof l=="string"&&l.substring(0,2)!=="0x"&&(l="0x"+l),IB(l)&&(l=l.toHexString()),t0(l)){let i=l.substring(2);i.length%2&&(t.hexPad==="left"?i="0"+i:t.hexPad==="right"?i+="0":Xs.throwArgumentError("hex data is odd-length","value",l));const s=[];for(let u=0;u<i.length;u+=2)s.push(parseInt(i.substring(u,u+2),16));return Bp(new Uint8Array(s))}return w1(l)?Bp(new Uint8Array(l)):Xs.throwArgumentError("invalid arrayify value","value",l)}function El(l){const t=l.map(u=>Cn(u)),i=t.reduce((u,p)=>u+p.length,0),s=new Uint8Array(i);return t.reduce((u,p)=>(s.set(p,u),u+p.length),0),Bp(s)}function o1(l){let t=Cn(l);if(t.length===0)return t;let i=0;for(;i<t.length&&t[i]===0;)i++;return i&&(t=t.slice(i)),t}function s$(l,t){l=Cn(l),l.length>t&&Xs.throwArgumentError("value out of range","value",arguments[0]);const i=new Uint8Array(t);return i.set(l,t-l.length),Bp(i)}function t0(l,t){return!(typeof l!="string"||!l.match(/^0x[0-9A-Fa-f]*$/)||t&&l.length!==2+2*t)}const t5="0123456789abcdef";function fn(l,t){if(t||(t={}),typeof l=="number"){Xs.checkSafeUint53(l,"invalid hexlify value");let i="";for(;l;)i=t5[l&15]+i,l=Math.floor(l/16);return i.length?(i.length%2&&(i="0"+i),"0x"+i):"0x00"}if(typeof l=="bigint")return l=l.toString(16),l.length%2?"0x0"+l:"0x"+l;if(t.allowMissingPrefix&&typeof l=="string"&&l.substring(0,2)!=="0x"&&(l="0x"+l),IB(l))return l.toHexString();if(t0(l))return l.length%2&&(t.hexPad==="left"?l="0x0"+l.substring(2):t.hexPad==="right"?l+="0":Xs.throwArgumentError("hex data is odd-length","value",l)),l.toLowerCase();if(w1(l)){let i="0x";for(let s=0;s<l.length;s++){let u=l[s];i+=t5[(u&240)>>4]+t5[u&15]}return i}return Xs.throwArgumentError("invalid hexlify value","value",l)}function Yd(l){if(typeof l!="string")l=fn(l);else if(!t0(l)||l.length%2)return null;return(l.length-2)/2}function ca(l,t,i){return typeof l!="string"?l=fn(l):(!t0(l)||l.length%2)&&Xs.throwArgumentError("invalid hexData","value",l),t=2+2*t,i!=null?"0x"+l.substring(t,2+2*i):"0x"+l.substring(t)}function Wa(l){let t="0x";return l.forEach(i=>{t+=fn(i).substring(2)}),t}function tw(l){const t=o$(fn(l,{hexPad:"left"}));return t==="0x"?"0x0":t}function o$(l){typeof l!="string"&&(l=fn(l)),t0(l)||Xs.throwArgumentError("invalid hex string","value",l),l=l.substring(2);let t=0;for(;t<l.length&&l[t]==="0";)t++;return"0x"+l.substring(t)}function Is(l,t){for(typeof l!="string"?l=fn(l):t0(l)||Xs.throwArgumentError("invalid hex string","value",l),l.length>2*t+2&&Xs.throwArgumentError("value out of range","value",arguments[1]);l.length<2*t+2;)l="0x0"+l.substring(2);return l}function iw(l){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(q8(l)){let i=Cn(l);i.length===64?(t.v=27+(i[32]>>7),i[32]&=127,t.r=fn(i.slice(0,32)),t.s=fn(i.slice(32,64))):i.length===65?(t.r=fn(i.slice(0,32)),t.s=fn(i.slice(32,64)),t.v=i[64]):Xs.throwArgumentError("invalid signature string","signature",l),t.v<27&&(t.v===0||t.v===1?t.v+=27:Xs.throwArgumentError("signature invalid v byte","signature",l)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(i[32]|=128),t._vs=fn(i.slice(32,64))}else{if(t.r=l.r,t.s=l.s,t.v=l.v,t.recoveryParam=l.recoveryParam,t._vs=l._vs,t._vs!=null){const u=s$(Cn(t._vs),32);t._vs=fn(u);const p=u[0]>=128?1:0;t.recoveryParam==null?t.recoveryParam=p:t.recoveryParam!==p&&Xs.throwArgumentError("signature recoveryParam mismatch _vs","signature",l),u[0]&=127;const y=fn(u);t.s==null?t.s=y:t.s!==y&&Xs.throwArgumentError("signature v mismatch _vs","signature",l)}if(t.recoveryParam==null)t.v==null?Xs.throwArgumentError("signature missing v and recoveryParam","signature",l):t.v===0||t.v===1?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(t.v==null)t.v=27+t.recoveryParam;else{const u=t.v===0||t.v===1?t.v:1-t.v%2;t.recoveryParam!==u&&Xs.throwArgumentError("signature recoveryParam mismatch v","signature",l)}t.r==null||!t0(t.r)?Xs.throwArgumentError("signature missing or invalid r","signature",l):t.r=Is(t.r,32),t.s==null||!t0(t.s)?Xs.throwArgumentError("signature missing or invalid s","signature",l):t.s=Is(t.s,32);const i=Cn(t.s);i[0]>=128&&Xs.throwArgumentError("signature s out of range","signature",l),t.recoveryParam&&(i[0]|=128);const s=fn(i);t._vs&&(t0(t._vs)||Xs.throwArgumentError("signature invalid _vs","signature",l),t._vs=Is(t._vs,32)),t._vs==null?t._vs=s:t._vs!==s&&Xs.throwArgumentError("signature _vs mismatch v and s","signature",l)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}const DB="bignumber/5.7.0";var l4=Vn.BN;const $u=new pi(DB),i5={},iM=9007199254740991;function a$(l){return l!=null&&(Er.isBigNumber(l)||typeof l=="number"&&l%1===0||typeof l=="string"&&!!l.match(/^-?[0-9]+$/)||t0(l)||typeof l=="bigint"||w1(l))}let rM=!1;class Er{constructor(t,i){t!==i5&&$u.throwError("cannot call constructor directly; use BigNumber.from",pi.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=i,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Ua(g0(this).fromTwos(t))}toTwos(t){return Ua(g0(this).toTwos(t))}abs(){return this._hex[0]==="-"?Er.from(this._hex.substring(1)):this}add(t){return Ua(g0(this).add(g0(t)))}sub(t){return Ua(g0(this).sub(g0(t)))}div(t){return Er.from(t).isZero()&&Vl("division-by-zero","div"),Ua(g0(this).div(g0(t)))}mul(t){return Ua(g0(this).mul(g0(t)))}mod(t){const i=g0(t);return i.isNeg()&&Vl("division-by-zero","mod"),Ua(g0(this).umod(i))}pow(t){const i=g0(t);return i.isNeg()&&Vl("negative-power","pow"),Ua(g0(this).pow(i))}and(t){const i=g0(t);return(this.isNegative()||i.isNeg())&&Vl("unbound-bitwise-result","and"),Ua(g0(this).and(i))}or(t){const i=g0(t);return(this.isNegative()||i.isNeg())&&Vl("unbound-bitwise-result","or"),Ua(g0(this).or(i))}xor(t){const i=g0(t);return(this.isNegative()||i.isNeg())&&Vl("unbound-bitwise-result","xor"),Ua(g0(this).xor(i))}mask(t){return(this.isNegative()||t<0)&&Vl("negative-width","mask"),Ua(g0(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Vl("negative-width","shl"),Ua(g0(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Vl("negative-width","shr"),Ua(g0(this).shrn(t))}eq(t){return g0(this).eq(g0(t))}lt(t){return g0(this).lt(g0(t))}lte(t){return g0(this).lte(g0(t))}gt(t){return g0(this).gt(g0(t))}gte(t){return g0(this).gte(g0(t))}isNegative(){return this._hex[0]==="-"}isZero(){return g0(this).isZero()}toNumber(){try{return g0(this).toNumber()}catch{Vl("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return $u.throwError("this platform does not support BigInt",pi.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?rM||(rM=!0,$u.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?$u.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",pi.errors.UNEXPECTED_ARGUMENT,{}):$u.throwError("BigNumber.toString does not accept parameters",pi.errors.UNEXPECTED_ARGUMENT,{})),g0(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Er)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new Er(i5,Pg(t)):t.match(/^-?[0-9]+$/)?new Er(i5,Pg(new l4(t))):$u.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&Vl("underflow","BigNumber.from",t),(t>=iM||t<=-iM)&&Vl("overflow","BigNumber.from",t),Er.from(String(t));const i=t;if(typeof i=="bigint")return Er.from(i.toString());if(w1(i))return Er.from(fn(i));if(i)if(i.toHexString){const s=i.toHexString();if(typeof s=="string")return Er.from(s)}else{let s=i._hex;if(s==null&&i.type==="BigNumber"&&(s=i.hex),typeof s=="string"&&(t0(s)||s[0]==="-"&&t0(s.substring(1))))return Er.from(s)}return $u.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}}function Pg(l){if(typeof l!="string")return Pg(l.toString(16));if(l[0]==="-")return l=l.substring(1),l[0]==="-"&&$u.throwArgumentError("invalid hex","value",l),l=Pg(l),l==="0x00"?l:"-"+l;if(l.substring(0,2)!=="0x"&&(l="0x"+l),l==="0x")return"0x00";for(l.length%2&&(l="0x0"+l.substring(2));l.length>4&&l.substring(0,4)==="0x00";)l="0x"+l.substring(4);return l}function Ua(l){return Er.from(Pg(l))}function g0(l){const t=Er.from(l).toHexString();return t[0]==="-"?new l4("-"+t.substring(3),16):new l4(t.substring(2),16)}function Vl(l,t,i){const s={fault:l,operation:t};return i!=null&&(s.value=i),$u.throwError(l,pi.errors.NUMERIC_FAULT,s)}function l$(l){return new l4(l,36).toString(16)}const Ca=new pi(DB),bg={},PB=Er.from(0),LB=Er.from(-1);function NB(l,t,i,s){const u={fault:t,operation:i};return s!==void 0&&(u.value=s),Ca.throwError(l,pi.errors.NUMERIC_FAULT,u)}let yg="0";for(;yg.length<256;)yg+=yg;function Z8(l){if(typeof l!="number")try{l=Er.from(l).toNumber()}catch{}return typeof l=="number"&&l>=0&&l<=256&&!(l%1)?"1"+yg.substring(0,l):Ca.throwArgumentError("invalid decimal size","decimals",l)}function r5(l,t){t==null&&(t=0);const i=Z8(t);l=Er.from(l);const s=l.lt(PB);s&&(l=l.mul(LB));let u=l.mod(i).toString();for(;u.length<i.length-1;)u="0"+u;u=u.match(/^([0-9]*[1-9]|0)(0*)/)[1];const p=l.div(i).toString();return i.length===1?l=p:l=p+"."+u,s&&(l="-"+l),l}function su(l,t){t==null&&(t=0);const i=Z8(t);(typeof l!="string"||!l.match(/^-?[0-9.]+$/))&&Ca.throwArgumentError("invalid decimal value","value",l);const s=l.substring(0,1)==="-";s&&(l=l.substring(1)),l==="."&&Ca.throwArgumentError("missing value","value",l);const u=l.split(".");u.length>2&&Ca.throwArgumentError("too many decimal points","value",l);let p=u[0],y=u[1];for(p||(p="0"),y||(y="0");y[y.length-1]==="0";)y=y.substring(0,y.length-1);for(y.length>i.length-1&&NB("fractional component exceeds decimals","underflow","parseFixed"),y===""&&(y="0");y.length<i.length-1;)y+="0";const A=Er.from(p),E=Er.from(y);let _=A.mul(i).add(E);return s&&(_=_.mul(LB)),_}class Ip{constructor(t,i,s,u){t!==bg&&Ca.throwError("cannot use FixedFormat constructor; use FixedFormat.from",pi.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=i,this.width=s,this.decimals=u,this.name=(i?"":"u")+"fixed"+String(s)+"x"+String(u),this._multiplier=Z8(u),Object.freeze(this)}static from(t){if(t instanceof Ip)return t;typeof t=="number"&&(t=`fixed128x${t}`);let i=!0,s=128,u=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")i=!1;else{const p=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);p||Ca.throwArgumentError("invalid fixed format","format",t),i=p[1]!=="u",s=parseInt(p[2]),u=parseInt(p[3])}}else if(t){const p=(y,A,E)=>t[y]==null?E:(typeof t[y]!==A&&Ca.throwArgumentError("invalid fixed format ("+y+" not "+A+")","format."+y,t[y]),t[y]);i=p("signed","boolean",i),s=p("width","number",s),u=p("decimals","number",u)}return s%8&&Ca.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",s),u>80&&Ca.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",u),new Ip(bg,i,s,u)}}class Zo{constructor(t,i,s,u){t!==bg&&Ca.throwError("cannot use FixedNumber constructor; use FixedNumber.from",pi.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=u,this._hex=i,this._value=s,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&Ca.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const i=su(this._value,this.format.decimals),s=su(t._value,t.format.decimals);return Zo.fromValue(i.add(s),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const i=su(this._value,this.format.decimals),s=su(t._value,t.format.decimals);return Zo.fromValue(i.sub(s),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const i=su(this._value,this.format.decimals),s=su(t._value,t.format.decimals);return Zo.fromValue(i.mul(s).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const i=su(this._value,this.format.decimals),s=su(t._value,t.format.decimals);return Zo.fromValue(i.mul(this.format._multiplier).div(s),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let i=Zo.from(t[0],this.format);const s=!t[1].match(/^(0*)$/);return this.isNegative()&&s&&(i=i.subUnsafe(nM.toFormat(i.format))),i}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let i=Zo.from(t[0],this.format);const s=!t[1].match(/^(0*)$/);return!this.isNegative()&&s&&(i=i.addUnsafe(nM.toFormat(i.format))),i}round(t){t==null&&(t=0);const i=this.toString().split(".");if(i.length===1&&i.push("0"),(t<0||t>80||t%1)&&Ca.throwArgumentError("invalid decimal count","decimals",t),i[1].length<=t)return this;const s=Zo.from("1"+yg.substring(0,t),this.format),u=f$.toFormat(this.format);return this.mulUnsafe(s).addUnsafe(u).floor().divUnsafe(s)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&Ca.throwArgumentError("invalid byte width","width",t);const i=Er.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return Is(i,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Zo.fromString(this._value,t)}static fromValue(t,i,s){return s==null&&i!=null&&!a$(i)&&(s=i,i=null),i==null&&(i=0),s==null&&(s="fixed"),Zo.fromString(r5(t,i),Ip.from(s))}static fromString(t,i){i==null&&(i="fixed");const s=Ip.from(i),u=su(t,s.decimals);!s.signed&&u.lt(PB)&&NB("unsigned value cannot be negative","overflow","value",t);let p=null;s.signed?p=u.toTwos(s.width).toHexString():(p=u.toHexString(),p=Is(p,s.width/8));const y=r5(u,s.decimals);return new Zo(bg,p,y,s)}static fromBytes(t,i){i==null&&(i="fixed");const s=Ip.from(i);if(Cn(t).length>s.width/8)throw new Error("overflow");let u=Er.from(t);s.signed&&(u=u.fromTwos(s.width));const p=u.toTwos((s.signed?0:1)+s.width).toHexString(),y=r5(u,s.decimals);return new Zo(bg,p,y,s)}static from(t,i){if(typeof t=="string")return Zo.fromString(t,i);if(w1(t))return Zo.fromBytes(t,i);try{return Zo.fromValue(t,0,i)}catch(s){if(s.code!==pi.errors.INVALID_ARGUMENT)throw s}return Ca.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}}const nM=Zo.from(1),f$=Zo.from("0.5"),u$="properties/5.7.0";var c$=globalThis&&globalThis.__awaiter||function(l,t,i,s){function u(p){return p instanceof i?p:new i(function(y){y(p)})}return new(i||(i=Promise))(function(p,y){function A(k){try{_(s.next(k))}catch(R){y(R)}}function E(k){try{_(s.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):u(k.value).then(A,E)}_((s=s.apply(l,t||[])).next())})};const f4=new pi(u$);function ar(l,t,i){Object.defineProperty(l,t,{enumerable:!0,value:i,writable:!1})}function _l(l,t){for(let i=0;i<32;i++){if(l[t])return l[t];if(!l.prototype||typeof l.prototype!="object")break;l=Object.getPrototypeOf(l.prototype).constructor}return null}function wo(l){return c$(this,void 0,void 0,function*(){const t=Object.keys(l).map(s=>{const u=l[s];return Promise.resolve(u).then(p=>({key:s,value:p}))});return(yield Promise.all(t)).reduce((s,u)=>(s[u.key]=u.value,s),{})})}function h$(l,t){(!l||typeof l!="object")&&f4.throwArgumentError("invalid object","object",l),Object.keys(l).forEach(i=>{t[i]||f4.throwArgumentError("invalid object key - "+i,"transaction:"+i,l)})}function Rs(l){const t={};for(const i in l)t[i]=l[i];return t}const d$={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function FB(l){if(l==null||d$[typeof l])return!0;if(Array.isArray(l)||typeof l=="object"){if(!Object.isFrozen(l))return!1;const t=Object.keys(l);for(let i=0;i<t.length;i++){let s=null;try{s=l[t[i]]}catch{continue}if(!FB(s))return!1}return!0}return f4.throwArgumentError(`Cannot deepCopy ${typeof l}`,"object",l)}function p$(l){if(FB(l))return l;if(Array.isArray(l))return Object.freeze(l.map(t=>qa(t)));if(typeof l=="object"){const t={};for(const i in l){const s=l[i];s!==void 0&&ar(t,i,qa(s))}return t}return f4.throwArgumentError(`Cannot deepCopy ${typeof l}`,"object",l)}function qa(l){return p$(l)}class sb{constructor(t){for(const i in t)this[i]=qa(t[i])}}const ob="abi/5.7.0",w0=new pi(ob),Kd={};let sM={calldata:!0,memory:!0,storage:!0},m$={calldata:!0,memory:!0};function lv(l,t){if(l==="bytes"||l==="string"){if(sM[t])return!0}else if(l==="address"){if(t==="payable")return!0}else if((l.indexOf("[")>=0||l==="tuple")&&m$[t])return!0;return(sM[t]||t==="payable")&&w0.throwArgumentError("invalid modifier","name",t),!1}function g$(l,t){let i=l;function s(A){w0.throwArgumentError(`unexpected character at position ${A}`,"param",l)}l=l.replace(/\s/g," ");function u(A){let E={type:"",name:"",parent:A,state:{allowType:!0}};return t&&(E.indexed=!1),E}let p={type:"",name:"",state:{allowType:!0}},y=p;for(let A=0;A<l.length;A++){let E=l[A];switch(E){case"(":y.state.allowType&&y.type===""?y.type="tuple":y.state.allowParams||s(A),y.state.allowType=!1,y.type=Ap(y.type),y.components=[u(y)],y=y.components[0];break;case")":delete y.state,y.name==="indexed"&&(t||s(A),y.indexed=!0,y.name=""),lv(y.type,y.name)&&(y.name=""),y.type=Ap(y.type);let _=y;y=y.parent,y||s(A),delete _.parent,y.state.allowParams=!1,y.state.allowName=!0,y.state.allowArray=!0;break;case",":delete y.state,y.name==="indexed"&&(t||s(A),y.indexed=!0,y.name=""),lv(y.type,y.name)&&(y.name=""),y.type=Ap(y.type);let k=u(y.parent);y.parent.components.push(k),delete y.parent,y=k;break;case" ":y.state.allowType&&y.type!==""&&(y.type=Ap(y.type),delete y.state.allowType,y.state.allowName=!0,y.state.allowParams=!0),y.state.allowName&&y.name!==""&&(y.name==="indexed"?(t||s(A),y.indexed&&s(A),y.indexed=!0,y.name=""):lv(y.type,y.name)?y.name="":y.state.allowName=!1);break;case"[":y.state.allowArray||s(A),y.type+=E,y.state.allowArray=!1,y.state.allowName=!1,y.state.readArray=!0;break;case"]":y.state.readArray||s(A),y.type+=E,y.state.readArray=!1,y.state.allowArray=!0,y.state.allowName=!0;break;default:y.state.allowType?(y.type+=E,y.state.allowParams=!0,y.state.allowArray=!0):y.state.allowName?(y.name+=E,delete y.state.allowArray):y.state.readArray?y.type+=E:s(A)}}return y.parent&&w0.throwArgumentError("unexpected eof","param",l),delete p.state,y.name==="indexed"?(t||s(i.length-7),y.indexed&&s(i.length-7),y.indexed=!0,y.name=""):lv(y.type,y.name)&&(y.name=""),p.type=Ap(p.type),p}function Uv(l,t){for(let i in t)ar(l,i,t[i])}const H0=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),b$=new RegExp(/^(.*)\[([0-9]*)\]$/);class Go{constructor(t,i){t!==Kd&&w0.throwError("use fromString",pi.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Uv(this,i);let s=this.type.match(b$);s?Uv(this,{arrayLength:parseInt(s[2]||"-1"),arrayChildren:Go.fromObject({type:s[1],components:this.components}),baseType:"array"}):Uv(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(t){if(t||(t=H0.sighash),H0[t]||w0.throwArgumentError("invalid format type","format",t),t===H0.json){let s={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.components&&(s.components=this.components.map(u=>JSON.parse(u.format(t)))),JSON.stringify(s)}let i="";return this.baseType==="array"?(i+=this.arrayChildren.format(t),i+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(t!==H0.sighash&&(i+=this.type),i+="("+this.components.map(s=>s.format(t)).join(t===H0.full?", ":",")+")"):i+=this.type,t!==H0.sighash&&(this.indexed===!0&&(i+=" indexed"),t===H0.full&&this.name&&(i+=" "+this.name)),i}static from(t,i){return typeof t=="string"?Go.fromString(t,i):Go.fromObject(t)}static fromObject(t){return Go.isParamType(t)?t:new Go(Kd,{name:t.name||null,type:Ap(t.type),indexed:t.indexed==null?null:!!t.indexed,components:t.components?t.components.map(Go.fromObject):null})}static fromString(t,i){function s(u){return Go.fromObject({name:u.name,type:u.type,indexed:u.indexed,components:u.components})}return s(g$(t,!!i))}static isParamType(t){return!!(t!=null&&t._isParamType)}}function Lg(l,t){return A$(l).map(i=>Go.fromString(i,t))}class rc{constructor(t,i){t!==Kd&&w0.throwError("use a static from method",pi.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Uv(this,i),this._isFragment=!0,Object.freeze(this)}static from(t){return rc.isFragment(t)?t:typeof t=="string"?rc.fromString(t):rc.fromObject(t)}static fromObject(t){if(rc.isFragment(t))return t;switch(t.type){case"function":return mu.fromObject(t);case"event":return tc.fromObject(t);case"constructor":return pu.fromObject(t);case"error":return hh.fromObject(t);case"fallback":case"receive":return null}return w0.throwArgumentError("invalid fragment object","value",t)}static fromString(t){return t=t.replace(/\s/g," "),t=t.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),t=t.trim(),t.split(" ")[0]==="event"?tc.fromString(t.substring(5).trim()):t.split(" ")[0]==="function"?mu.fromString(t.substring(8).trim()):t.split("(")[0].trim()==="constructor"?pu.fromString(t.trim()):t.split(" ")[0]==="error"?hh.fromString(t.substring(5).trim()):w0.throwArgumentError("unsupported fragment","value",t)}static isFragment(t){return!!(t&&t._isFragment)}}class tc extends rc{format(t){if(t||(t=H0.sighash),H0[t]||w0.throwArgumentError("invalid format type","format",t),t===H0.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(t)))});let i="";return t!==H0.sighash&&(i+="event "),i+=this.name+"("+this.inputs.map(s=>s.format(t)).join(t===H0.full?", ":",")+") ",t!==H0.sighash&&this.anonymous&&(i+="anonymous "),i.trim()}static from(t){return typeof t=="string"?tc.fromString(t):tc.fromObject(t)}static fromObject(t){if(tc.isEventFragment(t))return t;t.type!=="event"&&w0.throwArgumentError("invalid event object","value",t);const i={name:Ng(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(Go.fromObject):[],type:"event"};return new tc(Kd,i)}static fromString(t){let i=t.match(Fg);i||w0.throwArgumentError("invalid event string","value",t);let s=!1;return i[3].split(" ").forEach(u=>{switch(u.trim()){case"anonymous":s=!0;break;case"":break;default:w0.warn("unknown modifier: "+u)}}),tc.fromObject({name:i[1].trim(),anonymous:s,inputs:Lg(i[2],!0),type:"event"})}static isEventFragment(t){return t&&t._isFragment&&t.type==="event"}}function OB(l,t){t.gas=null;let i=l.split("@");return i.length!==1?(i.length>2&&w0.throwArgumentError("invalid human-readable ABI signature","value",l),i[1].match(/^[0-9]+$/)||w0.throwArgumentError("invalid human-readable ABI signature gas","value",l),t.gas=Er.from(i[1]),i[0]):l}function HB(l,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",l.split(" ").forEach(i=>{switch(i.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+i)}})}function UB(l){let t={constant:!1,payable:!0,stateMutability:"payable"};return l.stateMutability!=null?(t.stateMutability=l.stateMutability,t.constant=t.stateMutability==="view"||t.stateMutability==="pure",l.constant!=null&&!!l.constant!==t.constant&&w0.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",l),t.payable=t.stateMutability==="payable",l.payable!=null&&!!l.payable!==t.payable&&w0.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",l)):l.payable!=null?(t.payable=!!l.payable,l.constant==null&&!t.payable&&l.type!=="constructor"&&w0.throwArgumentError("unable to determine stateMutability","value",l),t.constant=!!l.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&w0.throwArgumentError("cannot have constant payable function","value",l)):l.constant!=null?(t.constant=!!l.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):l.type!=="constructor"&&w0.throwArgumentError("unable to determine stateMutability","value",l),t}class pu extends rc{format(t){if(t||(t=H0.sighash),H0[t]||w0.throwArgumentError("invalid format type","format",t),t===H0.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(t)))});t===H0.sighash&&w0.throwError("cannot format a constructor for sighash",pi.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let i="constructor("+this.inputs.map(s=>s.format(t)).join(t===H0.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(i+=this.stateMutability+" "),i.trim()}static from(t){return typeof t=="string"?pu.fromString(t):pu.fromObject(t)}static fromObject(t){if(pu.isConstructorFragment(t))return t;t.type!=="constructor"&&w0.throwArgumentError("invalid constructor object","value",t);let i=UB(t);i.constant&&w0.throwArgumentError("constructor cannot be constant","value",t);const s={name:null,type:t.type,inputs:t.inputs?t.inputs.map(Go.fromObject):[],payable:i.payable,stateMutability:i.stateMutability,gas:t.gas?Er.from(t.gas):null};return new pu(Kd,s)}static fromString(t){let i={type:"constructor"};t=OB(t,i);let s=t.match(Fg);return(!s||s[1].trim()!=="constructor")&&w0.throwArgumentError("invalid constructor string","value",t),i.inputs=Lg(s[2].trim(),!1),HB(s[3].trim(),i),pu.fromObject(i)}static isConstructorFragment(t){return t&&t._isFragment&&t.type==="constructor"}}class mu extends pu{format(t){if(t||(t=H0.sighash),H0[t]||w0.throwArgumentError("invalid format type","format",t),t===H0.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(t))),outputs:this.outputs.map(s=>JSON.parse(s.format(t)))});let i="";return t!==H0.sighash&&(i+="function "),i+=this.name+"("+this.inputs.map(s=>s.format(t)).join(t===H0.full?", ":",")+") ",t!==H0.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(i+=this.stateMutability+" "):this.constant&&(i+="view "),this.outputs&&this.outputs.length&&(i+="returns ("+this.outputs.map(s=>s.format(t)).join(", ")+") "),this.gas!=null&&(i+="@"+this.gas.toString()+" ")),i.trim()}static from(t){return typeof t=="string"?mu.fromString(t):mu.fromObject(t)}static fromObject(t){if(mu.isFunctionFragment(t))return t;t.type!=="function"&&w0.throwArgumentError("invalid function object","value",t);let i=UB(t);const s={type:t.type,name:Ng(t.name),constant:i.constant,inputs:t.inputs?t.inputs.map(Go.fromObject):[],outputs:t.outputs?t.outputs.map(Go.fromObject):[],payable:i.payable,stateMutability:i.stateMutability,gas:t.gas?Er.from(t.gas):null};return new mu(Kd,s)}static fromString(t){let i={type:"function"};t=OB(t,i);let s=t.split(" returns ");s.length>2&&w0.throwArgumentError("invalid function string","value",t);let u=s[0].match(Fg);if(u||w0.throwArgumentError("invalid function signature","value",t),i.name=u[1].trim(),i.name&&Ng(i.name),i.inputs=Lg(u[2],!1),HB(u[3].trim(),i),s.length>1){let p=s[1].match(Fg);(p[1].trim()!=""||p[3].trim()!="")&&w0.throwArgumentError("unexpected tokens","value",t),i.outputs=Lg(p[2],!1)}else i.outputs=[];return mu.fromObject(i)}static isFunctionFragment(t){return t&&t._isFragment&&t.type==="function"}}function oM(l){const t=l.format();return(t==="Error(string)"||t==="Panic(uint256)")&&w0.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",l),l}class hh extends rc{format(t){if(t||(t=H0.sighash),H0[t]||w0.throwArgumentError("invalid format type","format",t),t===H0.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(t)))});let i="";return t!==H0.sighash&&(i+="error "),i+=this.name+"("+this.inputs.map(s=>s.format(t)).join(t===H0.full?", ":",")+") ",i.trim()}static from(t){return typeof t=="string"?hh.fromString(t):hh.fromObject(t)}static fromObject(t){if(hh.isErrorFragment(t))return t;t.type!=="error"&&w0.throwArgumentError("invalid error object","value",t);const i={type:t.type,name:Ng(t.name),inputs:t.inputs?t.inputs.map(Go.fromObject):[]};return oM(new hh(Kd,i))}static fromString(t){let i={type:"error"},s=t.match(Fg);return s||w0.throwArgumentError("invalid error signature","value",t),i.name=s[1].trim(),i.name&&Ng(i.name),i.inputs=Lg(s[2],!1),oM(hh.fromObject(i))}static isErrorFragment(t){return t&&t._isFragment&&t.type==="error"}}function Ap(l){return l.match(/^uint($|[^1-9])/)?l="uint256"+l.substring(4):l.match(/^int($|[^1-9])/)&&(l="int256"+l.substring(3)),l}const y$=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Ng(l){return(!l||!l.match(y$))&&w0.throwArgumentError(`invalid identifier "${l}"`,"value",l),l}const Fg=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function A$(l){l=l.trim();let t=[],i="",s=0;for(let u=0;u<l.length;u++){let p=l[u];p===","&&s===0?(t.push(i),i=""):(i+=p,p==="("?s++:p===")"&&(s--,s===-1&&w0.throwArgumentError("unbalanced parenthesis","value",l)))}return i&&t.push(i),t}const Y8=new pi(ob);function v$(l){const t=[],i=function(s,u){if(!!Array.isArray(u))for(let p in u){const y=s.slice();y.push(p);try{i(y,u[p])}catch(A){t.push({path:y,error:A})}}};return i([],l),t}class dc{constructor(t,i,s,u){this.name=t,this.type=i,this.localName=s,this.dynamic=u}_throwError(t,i){Y8.throwArgumentError(t,this.localName,i)}}class xE{constructor(t){ar(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}get data(){return Wa(this._data)}get length(){return this._dataLength}_writeData(t){return this._data.push(t),this._dataLength+=t.length,t.length}appendWriter(t){return this._writeData(El(t._data))}writeBytes(t){let i=Cn(t);const s=i.length%this.wordSize;return s&&(i=El([i,this._padding.slice(s)])),this._writeData(i)}_getValue(t){let i=Cn(Er.from(t));return i.length>this.wordSize&&Y8.throwError("value out-of-bounds",pi.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:i.length}),i.length%this.wordSize&&(i=El([this._padding.slice(i.length%this.wordSize),i])),i}writeValue(t){return this._writeData(this._getValue(t))}writeUpdatableValue(){const t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,i=>{this._data[t]=this._getValue(i)}}}class u4{constructor(t,i,s,u){ar(this,"_data",Cn(t)),ar(this,"wordSize",i||32),ar(this,"_coerceFunc",s),ar(this,"allowLoose",u),this._offset=0}get data(){return fn(this._data)}get consumed(){return this._offset}static coerce(t,i){let s=t.match("^u?int([0-9]+)$");return s&&parseInt(s[1])<=48&&(i=i.toNumber()),i}coerce(t,i){return this._coerceFunc?this._coerceFunc(t,i):u4.coerce(t,i)}_peekBytes(t,i,s){let u=Math.ceil(i/this.wordSize)*this.wordSize;return this._offset+u>this._data.length&&(this.allowLoose&&s&&this._offset+i<=this._data.length?u=i:Y8.throwError("data out-of-bounds",pi.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+u})),this._data.slice(this._offset,this._offset+u)}subReader(t){return new u4(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(t,i){let s=this._peekBytes(0,t,!!i);return this._offset+=s.length,s.slice(0,t)}readValue(){return Er.from(this.readBytes(this.wordSize))}}var VB={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(l){(function(){var t="input is invalid type",i="finalize already called",s=typeof window=="object",u=s?window:{};u.JS_SHA3_NO_WINDOW&&(s=!1);var p=!s&&typeof self=="object",y=!u.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;y?u=Zs:p&&(u=self);var A=!u.JS_SHA3_NO_COMMON_JS&&!0&&l.exports,E=!u.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",_="0123456789abcdef".split(""),k=[31,7936,2031616,520093696],R=[4,1024,262144,67108864],P=[1,256,65536,16777216],B=[6,1536,393216,100663296],O=[0,8,16,24],H=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],z=[224,256,384,512],Y=[128,256],ee=["hex","buffer","arrayBuffer","array","digest"],ue={"128":168,"256":136};(u.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(Te){return Object.prototype.toString.call(Te)==="[object Array]"}),E&&(u.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(Te){return typeof Te=="object"&&Te.buffer&&Te.buffer.constructor===ArrayBuffer});for(var oe=function(Te,Ye,mt){return function($e){return new ce(Te,Ye,Te).update($e)[mt]()}},Ae=function(Te,Ye,mt){return function($e,gt){return new ce(Te,Ye,gt).update($e)[mt]()}},be=function(Te,Ye,mt){return function($e,gt,kt,Kt){return ie["cshake"+Te].update($e,gt,kt,Kt)[mt]()}},xe=function(Te,Ye,mt){return function($e,gt,kt,Kt){return ie["kmac"+Te].update($e,gt,kt,Kt)[mt]()}},ne=function(Te,Ye,mt,$e){for(var gt=0;gt<ee.length;++gt){var kt=ee[gt];Te[kt]=Ye(mt,$e,kt)}return Te},ae=function(Te,Ye){var mt=oe(Te,Ye,"hex");return mt.create=function(){return new ce(Te,Ye,Te)},mt.update=function($e){return mt.create().update($e)},ne(mt,oe,Te,Ye)},ye=function(Te,Ye){var mt=Ae(Te,Ye,"hex");return mt.create=function($e){return new ce(Te,Ye,$e)},mt.update=function($e,gt){return mt.create(gt).update($e)},ne(mt,Ae,Te,Ye)},ge=function(Te,Ye){var mt=ue[Te],$e=be(Te,Ye,"hex");return $e.create=function(gt,kt,Kt){return!kt&&!Kt?ie["shake"+Te].create(gt):new ce(Te,Ye,gt).bytepad([kt,Kt],mt)},$e.update=function(gt,kt,Kt,Ft){return $e.create(kt,Kt,Ft).update(gt)},ne($e,be,Te,Ye)},we=function(Te,Ye){var mt=ue[Te],$e=xe(Te,Ye,"hex");return $e.create=function(gt,kt,Kt){return new Re(Te,Ye,kt).bytepad(["KMAC",Kt],mt).bytepad([gt],mt)},$e.update=function(gt,kt,Kt,Ft){return $e.create(gt,Kt,Ft).update(kt)},ne($e,xe,Te,Ye)},le=[{name:"keccak",padding:P,bits:z,createMethod:ae},{name:"sha3",padding:B,bits:z,createMethod:ae},{name:"shake",padding:k,bits:Y,createMethod:ye},{name:"cshake",padding:R,bits:Y,createMethod:ge},{name:"kmac",padding:R,bits:Y,createMethod:we}],ie={},he=[],de=0;de<le.length;++de)for(var Se=le[de],Be=Se.bits,Le=0;Le<Be.length;++Le){var nt=Se.name+"_"+Be[Le];if(he.push(nt),ie[nt]=Se.createMethod(Be[Le],Se.padding),Se.name!=="sha3"){var He=Se.name+Be[Le];he.push(He),ie[He]=ie[nt]}}function ce(Te,Ye,mt){this.blocks=[],this.s=[],this.padding=Ye,this.outputBits=mt,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(Te<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=mt>>5,this.extraBytes=(mt&31)>>3;for(var $e=0;$e<50;++$e)this.s[$e]=0}ce.prototype.update=function(Te){if(this.finalized)throw new Error(i);var Ye,mt=typeof Te;if(mt!=="string"){if(mt==="object"){if(Te===null)throw new Error(t);if(E&&Te.constructor===ArrayBuffer)Te=new Uint8Array(Te);else if(!Array.isArray(Te)&&(!E||!ArrayBuffer.isView(Te)))throw new Error(t)}else throw new Error(t);Ye=!0}for(var $e=this.blocks,gt=this.byteCount,kt=Te.length,Kt=this.blockCount,Ft=0,Yt=this.s,$t,vi;Ft<kt;){if(this.reset)for(this.reset=!1,$e[0]=this.block,$t=1;$t<Kt+1;++$t)$e[$t]=0;if(Ye)for($t=this.start;Ft<kt&&$t<gt;++Ft)$e[$t>>2]|=Te[Ft]<<O[$t++&3];else for($t=this.start;Ft<kt&&$t<gt;++Ft)vi=Te.charCodeAt(Ft),vi<128?$e[$t>>2]|=vi<<O[$t++&3]:vi<2048?($e[$t>>2]|=(192|vi>>6)<<O[$t++&3],$e[$t>>2]|=(128|vi&63)<<O[$t++&3]):vi<55296||vi>=57344?($e[$t>>2]|=(224|vi>>12)<<O[$t++&3],$e[$t>>2]|=(128|vi>>6&63)<<O[$t++&3],$e[$t>>2]|=(128|vi&63)<<O[$t++&3]):(vi=65536+((vi&1023)<<10|Te.charCodeAt(++Ft)&1023),$e[$t>>2]|=(240|vi>>18)<<O[$t++&3],$e[$t>>2]|=(128|vi>>12&63)<<O[$t++&3],$e[$t>>2]|=(128|vi>>6&63)<<O[$t++&3],$e[$t>>2]|=(128|vi&63)<<O[$t++&3]);if(this.lastByteIndex=$t,$t>=gt){for(this.start=$t-gt,this.block=$e[Kt],$t=0;$t<Kt;++$t)Yt[$t]^=$e[$t];lt(Yt),this.reset=!0}else this.start=$t}return this},ce.prototype.encode=function(Te,Ye){var mt=Te&255,$e=1,gt=[mt];for(Te=Te>>8,mt=Te&255;mt>0;)gt.unshift(mt),Te=Te>>8,mt=Te&255,++$e;return Ye?gt.push($e):gt.unshift($e),this.update(gt),gt.length},ce.prototype.encodeString=function(Te){var Ye,mt=typeof Te;if(mt!=="string"){if(mt==="object"){if(Te===null)throw new Error(t);if(E&&Te.constructor===ArrayBuffer)Te=new Uint8Array(Te);else if(!Array.isArray(Te)&&(!E||!ArrayBuffer.isView(Te)))throw new Error(t)}else throw new Error(t);Ye=!0}var $e=0,gt=Te.length;if(Ye)$e=gt;else for(var kt=0;kt<Te.length;++kt){var Kt=Te.charCodeAt(kt);Kt<128?$e+=1:Kt<2048?$e+=2:Kt<55296||Kt>=57344?$e+=3:(Kt=65536+((Kt&1023)<<10|Te.charCodeAt(++kt)&1023),$e+=4)}return $e+=this.encode($e*8),this.update(Te),$e},ce.prototype.bytepad=function(Te,Ye){for(var mt=this.encode(Ye),$e=0;$e<Te.length;++$e)mt+=this.encodeString(Te[$e]);var gt=Ye-mt%Ye,kt=[];return kt.length=gt,this.update(kt),this},ce.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var Te=this.blocks,Ye=this.lastByteIndex,mt=this.blockCount,$e=this.s;if(Te[Ye>>2]|=this.padding[Ye&3],this.lastByteIndex===this.byteCount)for(Te[0]=Te[mt],Ye=1;Ye<mt+1;++Ye)Te[Ye]=0;for(Te[mt-1]|=2147483648,Ye=0;Ye<mt;++Ye)$e[Ye]^=Te[Ye];lt($e)}},ce.prototype.toString=ce.prototype.hex=function(){this.finalize();for(var Te=this.blockCount,Ye=this.s,mt=this.outputBlocks,$e=this.extraBytes,gt=0,kt=0,Kt="",Ft;kt<mt;){for(gt=0;gt<Te&&kt<mt;++gt,++kt)Ft=Ye[gt],Kt+=_[Ft>>4&15]+_[Ft&15]+_[Ft>>12&15]+_[Ft>>8&15]+_[Ft>>20&15]+_[Ft>>16&15]+_[Ft>>28&15]+_[Ft>>24&15];kt%Te===0&&(lt(Ye),gt=0)}return $e&&(Ft=Ye[gt],Kt+=_[Ft>>4&15]+_[Ft&15],$e>1&&(Kt+=_[Ft>>12&15]+_[Ft>>8&15]),$e>2&&(Kt+=_[Ft>>20&15]+_[Ft>>16&15])),Kt},ce.prototype.arrayBuffer=function(){this.finalize();var Te=this.blockCount,Ye=this.s,mt=this.outputBlocks,$e=this.extraBytes,gt=0,kt=0,Kt=this.outputBits>>3,Ft;$e?Ft=new ArrayBuffer(mt+1<<2):Ft=new ArrayBuffer(Kt);for(var Yt=new Uint32Array(Ft);kt<mt;){for(gt=0;gt<Te&&kt<mt;++gt,++kt)Yt[kt]=Ye[gt];kt%Te===0&&lt(Ye)}return $e&&(Yt[gt]=Ye[gt],Ft=Ft.slice(0,Kt)),Ft},ce.prototype.buffer=ce.prototype.arrayBuffer,ce.prototype.digest=ce.prototype.array=function(){this.finalize();for(var Te=this.blockCount,Ye=this.s,mt=this.outputBlocks,$e=this.extraBytes,gt=0,kt=0,Kt=[],Ft,Yt;kt<mt;){for(gt=0;gt<Te&&kt<mt;++gt,++kt)Ft=kt<<2,Yt=Ye[gt],Kt[Ft]=Yt&255,Kt[Ft+1]=Yt>>8&255,Kt[Ft+2]=Yt>>16&255,Kt[Ft+3]=Yt>>24&255;kt%Te===0&&lt(Ye)}return $e&&(Ft=kt<<2,Yt=Ye[gt],Kt[Ft]=Yt&255,$e>1&&(Kt[Ft+1]=Yt>>8&255),$e>2&&(Kt[Ft+2]=Yt>>16&255)),Kt};function Re(Te,Ye,mt){ce.call(this,Te,Ye,mt)}Re.prototype=new ce,Re.prototype.finalize=function(){return this.encode(this.outputBits,!0),ce.prototype.finalize.call(this)};var lt=function(Te){var Ye,mt,$e,gt,kt,Kt,Ft,Yt,$t,vi,Xi,Ki,or,Et,Ct,ri,pt,ft,Lt,ii,bi,rt,Pe,Me,bt,zt,It,yt,Di,Tt,Ot,li,Ti,Ui,gr,kr,mr,Fe,Ze,ht,Ut,ei,Si,sr,jt,nr,Mn,Mt,ui,Li,xi,Fi,qr,fr,Pr,hn,Lr,jr,un,Yn,ks,Qn,Tr;for($e=0;$e<48;$e+=2)gt=Te[0]^Te[10]^Te[20]^Te[30]^Te[40],kt=Te[1]^Te[11]^Te[21]^Te[31]^Te[41],Kt=Te[2]^Te[12]^Te[22]^Te[32]^Te[42],Ft=Te[3]^Te[13]^Te[23]^Te[33]^Te[43],Yt=Te[4]^Te[14]^Te[24]^Te[34]^Te[44],$t=Te[5]^Te[15]^Te[25]^Te[35]^Te[45],vi=Te[6]^Te[16]^Te[26]^Te[36]^Te[46],Xi=Te[7]^Te[17]^Te[27]^Te[37]^Te[47],Ki=Te[8]^Te[18]^Te[28]^Te[38]^Te[48],or=Te[9]^Te[19]^Te[29]^Te[39]^Te[49],Ye=Ki^(Kt<<1|Ft>>>31),mt=or^(Ft<<1|Kt>>>31),Te[0]^=Ye,Te[1]^=mt,Te[10]^=Ye,Te[11]^=mt,Te[20]^=Ye,Te[21]^=mt,Te[30]^=Ye,Te[31]^=mt,Te[40]^=Ye,Te[41]^=mt,Ye=gt^(Yt<<1|$t>>>31),mt=kt^($t<<1|Yt>>>31),Te[2]^=Ye,Te[3]^=mt,Te[12]^=Ye,Te[13]^=mt,Te[22]^=Ye,Te[23]^=mt,Te[32]^=Ye,Te[33]^=mt,Te[42]^=Ye,Te[43]^=mt,Ye=Kt^(vi<<1|Xi>>>31),mt=Ft^(Xi<<1|vi>>>31),Te[4]^=Ye,Te[5]^=mt,Te[14]^=Ye,Te[15]^=mt,Te[24]^=Ye,Te[25]^=mt,Te[34]^=Ye,Te[35]^=mt,Te[44]^=Ye,Te[45]^=mt,Ye=Yt^(Ki<<1|or>>>31),mt=$t^(or<<1|Ki>>>31),Te[6]^=Ye,Te[7]^=mt,Te[16]^=Ye,Te[17]^=mt,Te[26]^=Ye,Te[27]^=mt,Te[36]^=Ye,Te[37]^=mt,Te[46]^=Ye,Te[47]^=mt,Ye=vi^(gt<<1|kt>>>31),mt=Xi^(kt<<1|gt>>>31),Te[8]^=Ye,Te[9]^=mt,Te[18]^=Ye,Te[19]^=mt,Te[28]^=Ye,Te[29]^=mt,Te[38]^=Ye,Te[39]^=mt,Te[48]^=Ye,Te[49]^=mt,Et=Te[0],Ct=Te[1],nr=Te[11]<<4|Te[10]>>>28,Mn=Te[10]<<4|Te[11]>>>28,yt=Te[20]<<3|Te[21]>>>29,Di=Te[21]<<3|Te[20]>>>29,Yn=Te[31]<<9|Te[30]>>>23,ks=Te[30]<<9|Te[31]>>>23,ei=Te[40]<<18|Te[41]>>>14,Si=Te[41]<<18|Te[40]>>>14,Ui=Te[2]<<1|Te[3]>>>31,gr=Te[3]<<1|Te[2]>>>31,ri=Te[13]<<12|Te[12]>>>20,pt=Te[12]<<12|Te[13]>>>20,Mt=Te[22]<<10|Te[23]>>>22,ui=Te[23]<<10|Te[22]>>>22,Tt=Te[33]<<13|Te[32]>>>19,Ot=Te[32]<<13|Te[33]>>>19,Qn=Te[42]<<2|Te[43]>>>30,Tr=Te[43]<<2|Te[42]>>>30,fr=Te[5]<<30|Te[4]>>>2,Pr=Te[4]<<30|Te[5]>>>2,kr=Te[14]<<6|Te[15]>>>26,mr=Te[15]<<6|Te[14]>>>26,ft=Te[25]<<11|Te[24]>>>21,Lt=Te[24]<<11|Te[25]>>>21,Li=Te[34]<<15|Te[35]>>>17,xi=Te[35]<<15|Te[34]>>>17,li=Te[45]<<29|Te[44]>>>3,Ti=Te[44]<<29|Te[45]>>>3,Me=Te[6]<<28|Te[7]>>>4,bt=Te[7]<<28|Te[6]>>>4,hn=Te[17]<<23|Te[16]>>>9,Lr=Te[16]<<23|Te[17]>>>9,Fe=Te[26]<<25|Te[27]>>>7,Ze=Te[27]<<25|Te[26]>>>7,ii=Te[36]<<21|Te[37]>>>11,bi=Te[37]<<21|Te[36]>>>11,Fi=Te[47]<<24|Te[46]>>>8,qr=Te[46]<<24|Te[47]>>>8,sr=Te[8]<<27|Te[9]>>>5,jt=Te[9]<<27|Te[8]>>>5,zt=Te[18]<<20|Te[19]>>>12,It=Te[19]<<20|Te[18]>>>12,jr=Te[29]<<7|Te[28]>>>25,un=Te[28]<<7|Te[29]>>>25,ht=Te[38]<<8|Te[39]>>>24,Ut=Te[39]<<8|Te[38]>>>24,rt=Te[48]<<14|Te[49]>>>18,Pe=Te[49]<<14|Te[48]>>>18,Te[0]=Et^~ri&ft,Te[1]=Ct^~pt&Lt,Te[10]=Me^~zt&yt,Te[11]=bt^~It&Di,Te[20]=Ui^~kr&Fe,Te[21]=gr^~mr&Ze,Te[30]=sr^~nr&Mt,Te[31]=jt^~Mn&ui,Te[40]=fr^~hn&jr,Te[41]=Pr^~Lr&un,Te[2]=ri^~ft&ii,Te[3]=pt^~Lt&bi,Te[12]=zt^~yt&Tt,Te[13]=It^~Di&Ot,Te[22]=kr^~Fe&ht,Te[23]=mr^~Ze&Ut,Te[32]=nr^~Mt&Li,Te[33]=Mn^~ui&xi,Te[42]=hn^~jr&Yn,Te[43]=Lr^~un&ks,Te[4]=ft^~ii&rt,Te[5]=Lt^~bi&Pe,Te[14]=yt^~Tt&li,Te[15]=Di^~Ot&Ti,Te[24]=Fe^~ht&ei,Te[25]=Ze^~Ut&Si,Te[34]=Mt^~Li&Fi,Te[35]=ui^~xi&qr,Te[44]=jr^~Yn&Qn,Te[45]=un^~ks&Tr,Te[6]=ii^~rt&Et,Te[7]=bi^~Pe&Ct,Te[16]=Tt^~li&Me,Te[17]=Ot^~Ti&bt,Te[26]=ht^~ei&Ui,Te[27]=Ut^~Si&gr,Te[36]=Li^~Fi&sr,Te[37]=xi^~qr&jt,Te[46]=Yn^~Qn&fr,Te[47]=ks^~Tr&Pr,Te[8]=rt^~Et&ri,Te[9]=Pe^~Ct&pt,Te[18]=li^~Me&zt,Te[19]=Ti^~bt&It,Te[28]=ei^~Ui&kr,Te[29]=Si^~gr&mr,Te[38]=Fi^~sr&nr,Te[39]=qr^~jt&Mn,Te[48]=Qn^~fr&hn,Te[49]=Tr^~Pr&Lr,Te[0]^=H[$e],Te[1]^=H[$e+1]};if(A)l.exports=ie;else for(de=0;de<he.length;++de)u[he[de]]=ie[he[de]]})()})(VB);var w$=VB.exports;function Io(l){return"0x"+w$.keccak_256(Cn(l))}const x$="rlp/5.7.0",uu=new pi(x$);function aM(l){const t=[];for(;l;)t.unshift(l&255),l>>=8;return t}function lM(l,t,i){let s=0;for(let u=0;u<i;u++)s=s*256+l[t+u];return s}function jB(l){if(Array.isArray(l)){let s=[];if(l.forEach(function(p){s=s.concat(jB(p))}),s.length<=55)return s.unshift(192+s.length),s;const u=aM(s.length);return u.unshift(247+u.length),u.concat(s)}q8(l)||uu.throwArgumentError("RLP object must be BytesLike","object",l);const t=Array.prototype.slice.call(Cn(l));if(t.length===1&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const i=aM(t.length);return i.unshift(183+i.length),i.concat(t)}function rw(l){return fn(jB(l))}function fM(l,t,i,s){const u=[];for(;i<t+1+s;){const p=GB(l,i);u.push(p.result),i+=p.consumed,i>t+1+s&&uu.throwError("child data too short",pi.errors.BUFFER_OVERRUN,{})}return{consumed:1+s,result:u}}function GB(l,t){if(l.length===0&&uu.throwError("data too short",pi.errors.BUFFER_OVERRUN,{}),l[t]>=248){const i=l[t]-247;t+1+i>l.length&&uu.throwError("data short segment too short",pi.errors.BUFFER_OVERRUN,{});const s=lM(l,t+1,i);return t+1+i+s>l.length&&uu.throwError("data long segment too short",pi.errors.BUFFER_OVERRUN,{}),fM(l,t,t+1+i,i+s)}else if(l[t]>=192){const i=l[t]-192;return t+1+i>l.length&&uu.throwError("data array too short",pi.errors.BUFFER_OVERRUN,{}),fM(l,t,t+1,i)}else if(l[t]>=184){const i=l[t]-183;t+1+i>l.length&&uu.throwError("data array too short",pi.errors.BUFFER_OVERRUN,{});const s=lM(l,t+1,i);t+1+i+s>l.length&&uu.throwError("data array too short",pi.errors.BUFFER_OVERRUN,{});const u=fn(l.slice(t+1+i,t+1+i+s));return{consumed:1+i+s,result:u}}else if(l[t]>=128){const i=l[t]-128;t+1+i>l.length&&uu.throwError("data too short",pi.errors.BUFFER_OVERRUN,{});const s=fn(l.slice(t+1,t+1+i));return{consumed:1+i,result:s}}return{consumed:1,result:fn(l[t])}}function K8(l){const t=Cn(l),i=GB(t,0);return i.consumed!==t.length&&uu.throwArgumentError("invalid rlp data","data",l),i.result}const E$="address/5.7.0",kp=new pi(E$);function uM(l){t0(l,20)||kp.throwArgumentError("invalid address","address",l),l=l.toLowerCase();const t=l.substring(2).split(""),i=new Uint8Array(40);for(let u=0;u<40;u++)i[u]=t[u].charCodeAt(0);const s=Cn(Io(i));for(let u=0;u<40;u+=2)s[u>>1]>>4>=8&&(t[u]=t[u].toUpperCase()),(s[u>>1]&15)>=8&&(t[u+1]=t[u+1].toUpperCase());return"0x"+t.join("")}const _$=9007199254740991;function k$(l){return Math.log10?Math.log10(l):Math.log(l)/Math.LN10}const $8={};for(let l=0;l<10;l++)$8[String(l)]=String(l);for(let l=0;l<26;l++)$8[String.fromCharCode(65+l)]=String(10+l);const cM=Math.floor(k$(_$));function C$(l){l=l.toUpperCase(),l=l.substring(4)+l.substring(0,2)+"00";let t=l.split("").map(s=>$8[s]).join("");for(;t.length>=cM;){let s=t.substring(0,cM);t=parseInt(s,10)%97+t.substring(s.length)}let i=String(98-parseInt(t,10)%97);for(;i.length<2;)i="0"+i;return i}function ta(l){let t=null;if(typeof l!="string"&&kp.throwArgumentError("invalid address","address",l),l.match(/^(0x)?[0-9a-fA-F]{40}$/))l.substring(0,2)!=="0x"&&(l="0x"+l),t=uM(l),l.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==l&&kp.throwArgumentError("bad address checksum","address",l);else if(l.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(l.substring(2,4)!==C$(l)&&kp.throwArgumentError("bad icap checksum","address",l),t=l$(l.substring(4));t.length<40;)t="0"+t;t=uM("0x"+t)}else kp.throwArgumentError("invalid address","address",l);return t}function zB(l){let t=null;try{t=ta(l.from)}catch{kp.throwArgumentError("missing from address","transaction",l)}const i=o1(Cn(Er.from(l.nonce).toHexString()));return ta(ca(Io(rw([t,i])),12))}class S$ extends dc{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,i){try{i=ta(i)}catch(s){this._throwError(s.message,i)}return t.writeValue(i)}decode(t){return ta(Is(t.readValue().toHexString(),20))}}class T$ extends dc{constructor(t){super(t.name,t.type,void 0,t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,i){return this.coder.encode(t,i)}decode(t){return this.coder.decode(t)}}const Cp=new pi(ob);function WB(l,t,i){let s=null;if(Array.isArray(i))s=i;else if(i&&typeof i=="object"){let E={};s=t.map(_=>{const k=_.localName;return k||Cp.throwError("cannot encode object for signature with missing names",pi.errors.INVALID_ARGUMENT,{argument:"values",coder:_,value:i}),E[k]&&Cp.throwError("cannot encode object for signature with duplicate names",pi.errors.INVALID_ARGUMENT,{argument:"values",coder:_,value:i}),E[k]=!0,i[k]})}else Cp.throwArgumentError("invalid tuple value","tuple",i);t.length!==s.length&&Cp.throwArgumentError("types/value length mismatch","tuple",i);let u=new xE(l.wordSize),p=new xE(l.wordSize),y=[];t.forEach((E,_)=>{let k=s[_];if(E.dynamic){let R=p.length;E.encode(p,k);let P=u.writeUpdatableValue();y.push(B=>{P(B+R)})}else E.encode(u,k)}),y.forEach(E=>{E(u.length)});let A=l.appendWriter(u);return A+=l.appendWriter(p),A}function QB(l,t){let i=[],s=l.subReader(0);t.forEach(p=>{let y=null;if(p.dynamic){let A=l.readValue(),E=s.subReader(A.toNumber());try{y=p.decode(E)}catch(_){if(_.code===pi.errors.BUFFER_OVERRUN)throw _;y=_,y.baseType=p.name,y.name=p.localName,y.type=p.type}}else try{y=p.decode(l)}catch(A){if(A.code===pi.errors.BUFFER_OVERRUN)throw A;y=A,y.baseType=p.name,y.name=p.localName,y.type=p.type}y!=null&&i.push(y)});const u=t.reduce((p,y)=>{const A=y.localName;return A&&(p[A]||(p[A]=0),p[A]++),p},{});t.forEach((p,y)=>{let A=p.localName;if(!A||u[A]!==1||(A==="length"&&(A="_length"),i[A]!=null))return;const E=i[y];E instanceof Error?Object.defineProperty(i,A,{enumerable:!0,get:()=>{throw E}}):i[A]=E});for(let p=0;p<i.length;p++){const y=i[p];y instanceof Error&&Object.defineProperty(i,p,{enumerable:!0,get:()=>{throw y}})}return Object.freeze(i)}class M$ extends dc{constructor(t,i,s){const u=t.type+"["+(i>=0?i:"")+"]",p=i===-1||t.dynamic;super("array",u,s,p),this.coder=t,this.length=i}defaultValue(){const t=this.coder.defaultValue(),i=[];for(let s=0;s<this.length;s++)i.push(t);return i}encode(t,i){Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,t.writeValue(i.length)),Cp.checkArgumentCount(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let u=[];for(let p=0;p<i.length;p++)u.push(this.coder);return WB(t,u,i)}decode(t){let i=this.length;i===-1&&(i=t.readValue().toNumber(),i*32>t._data.length&&Cp.throwError("insufficient data length",pi.errors.BUFFER_OVERRUN,{length:t._data.length,count:i}));let s=[];for(let u=0;u<i;u++)s.push(new T$(this.coder));return t.coerce(this.name,QB(t,s))}}class R$ extends dc{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,i){return t.writeValue(i?1:0)}decode(t){return t.coerce(this.type,!t.readValue().isZero())}}class JB extends dc{constructor(t,i){super(t,t,i,!0)}defaultValue(){return"0x"}encode(t,i){i=Cn(i);let s=t.writeValue(i.length);return s+=t.writeBytes(i),s}decode(t){return t.readBytes(t.readValue().toNumber(),!0)}}class B$ extends JB{constructor(t){super("bytes",t)}decode(t){return t.coerce(this.name,fn(super.decode(t)))}}class I$ extends dc{constructor(t,i){let s="bytes"+String(t);super(s,s,i,!1),this.size=t}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,i){let s=Cn(i);return s.length!==this.size&&this._throwError("incorrect data length",i),t.writeBytes(s)}decode(t){return t.coerce(this.name,fn(t.readBytes(this.size)))}}class D$ extends dc{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,i){return i!=null&&this._throwError("not null",i),t.writeBytes([])}decode(t){return t.readBytes(0),t.coerce(this.name,null)}}const P$="0x0000000000000000000000000000000000000000",L$=Er.from(-1),XB=Er.from(0),N$=Er.from(1),F$=Er.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),O$="0x0000000000000000000000000000000000000000000000000000000000000000";class H$ extends dc{constructor(t,i,s){const u=(i?"int":"uint")+t*8;super(u,u,s,!1),this.size=t,this.signed=i}defaultValue(){return 0}encode(t,i){let s=Er.from(i),u=F$.mask(t.wordSize*8);if(this.signed){let p=u.mask(this.size*8-1);(s.gt(p)||s.lt(p.add(N$).mul(L$)))&&this._throwError("value out-of-bounds",i)}else(s.lt(XB)||s.gt(u.mask(this.size*8)))&&this._throwError("value out-of-bounds",i);return s=s.toTwos(this.size*8).mask(this.size*8),this.signed&&(s=s.fromTwos(this.size*8).toTwos(8*t.wordSize)),t.writeValue(s)}decode(t){let i=t.readValue().mask(this.size*8);return this.signed&&(i=i.fromTwos(this.size*8)),t.coerce(this.name,i)}}const U$="strings/5.7.0",qB=new pi(U$);var Og;(function(l){l.current="",l.NFC="NFC",l.NFD="NFD",l.NFKC="NFKC",l.NFKD="NFKD"})(Og||(Og={}));var Al;(function(l){l.UNEXPECTED_CONTINUE="unexpected continuation byte",l.BAD_PREFIX="bad codepoint prefix",l.OVERRUN="string overrun",l.MISSING_CONTINUE="missing continuation byte",l.OUT_OF_RANGE="out of UTF-8 range",l.UTF16_SURROGATE="UTF-16 surrogate",l.OVERLONG="overlong representation"})(Al||(Al={}));function V$(l,t,i,s,u){return qB.throwArgumentError(`invalid codepoint at offset ${t}; ${l}`,"bytes",i)}function ZB(l,t,i,s,u){if(l===Al.BAD_PREFIX||l===Al.UNEXPECTED_CONTINUE){let p=0;for(let y=t+1;y<i.length&&i[y]>>6===2;y++)p++;return p}return l===Al.OVERRUN?i.length-t-1:0}function j$(l,t,i,s,u){return l===Al.OVERLONG?(s.push(u),0):(s.push(65533),ZB(l,t,i))}const G$=Object.freeze({error:V$,ignore:ZB,replace:j$});function YB(l,t){t==null&&(t=G$.error),l=Cn(l);const i=[];let s=0;for(;s<l.length;){const u=l[s++];if(u>>7===0){i.push(u);continue}let p=null,y=null;if((u&224)===192)p=1,y=127;else if((u&240)===224)p=2,y=2047;else if((u&248)===240)p=3,y=65535;else{(u&192)===128?s+=t(Al.UNEXPECTED_CONTINUE,s-1,l,i):s+=t(Al.BAD_PREFIX,s-1,l,i);continue}if(s-1+p>=l.length){s+=t(Al.OVERRUN,s-1,l,i);continue}let A=u&(1<<8-p-1)-1;for(let E=0;E<p;E++){let _=l[s];if((_&192)!=128){s+=t(Al.MISSING_CONTINUE,s,l,i),A=null;break}A=A<<6|_&63,s++}if(A!==null){if(A>1114111){s+=t(Al.OUT_OF_RANGE,s-1-p,l,i,A);continue}if(A>=55296&&A<=57343){s+=t(Al.UTF16_SURROGATE,s-1-p,l,i,A);continue}if(A<=y){s+=t(Al.OVERLONG,s-1-p,l,i,A);continue}i.push(A)}}return i}function lc(l,t=Og.current){t!=Og.current&&(qB.checkNormalize(),l=l.normalize(t));let i=[];for(let s=0;s<l.length;s++){const u=l.charCodeAt(s);if(u<128)i.push(u);else if(u<2048)i.push(u>>6|192),i.push(u&63|128);else if((u&64512)==55296){s++;const p=l.charCodeAt(s);if(s>=l.length||(p&64512)!==56320)throw new Error("invalid utf-8 string");const y=65536+((u&1023)<<10)+(p&1023);i.push(y>>18|240),i.push(y>>12&63|128),i.push(y>>6&63|128),i.push(y&63|128)}else i.push(u>>12|224),i.push(u>>6&63|128),i.push(u&63|128)}return Cn(i)}function z$(l){return l.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function ab(l,t){return z$(YB(l,t))}function W$(l,t=Og.current){return YB(lc(l,t))}class Q$ extends JB{constructor(t){super("string",t)}defaultValue(){return""}encode(t,i){return super.encode(t,lc(i))}decode(t){return ab(super.decode(t))}}class fv extends dc{constructor(t,i){let s=!1;const u=[];t.forEach(y=>{y.dynamic&&(s=!0),u.push(y.type)});const p="tuple("+u.join(",")+")";super("tuple",p,i,s),this.coders=t}defaultValue(){const t=[];this.coders.forEach(s=>{t.push(s.defaultValue())});const i=this.coders.reduce((s,u)=>{const p=u.localName;return p&&(s[p]||(s[p]=0),s[p]++),s},{});return this.coders.forEach((s,u)=>{let p=s.localName;!p||i[p]!==1||(p==="length"&&(p="_length"),t[p]==null&&(t[p]=t[u]))}),Object.freeze(t)}encode(t,i){return WB(t,this.coders,i)}decode(t){return t.coerce(this.name,QB(t,this.coders))}}const uv=new pi(ob),J$=new RegExp(/^bytes([0-9]*)$/),X$=new RegExp(/^(u?int)([0-9]*)$/);class q${constructor(t){ar(this,"coerceFunc",t||null)}_getCoder(t){switch(t.baseType){case"address":return new S$(t.name);case"bool":return new R$(t.name);case"string":return new Q$(t.name);case"bytes":return new B$(t.name);case"array":return new M$(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new fv((t.components||[]).map(s=>this._getCoder(s)),t.name);case"":return new D$(t.name)}let i=t.type.match(X$);if(i){let s=parseInt(i[2]||"256");return(s===0||s>256||s%8!==0)&&uv.throwArgumentError("invalid "+i[1]+" bit length","param",t),new H$(s/8,i[1]==="int",t.name)}if(i=t.type.match(J$),i){let s=parseInt(i[1]);return(s===0||s>32)&&uv.throwArgumentError("invalid bytes length","param",t),new I$(s,t.name)}return uv.throwArgumentError("invalid type","type",t.type)}_getWordSize(){return 32}_getReader(t,i){return new u4(t,this._getWordSize(),this.coerceFunc,i)}_getWriter(){return new xE(this._getWordSize())}getDefaultValue(t){const i=t.map(u=>this._getCoder(Go.from(u)));return new fv(i,"_").defaultValue()}encode(t,i){t.length!==i.length&&uv.throwError("types/values length mismatch",pi.errors.INVALID_ARGUMENT,{count:{types:t.length,values:i.length},value:{types:t,values:i}});const s=t.map(y=>this._getCoder(Go.from(y))),u=new fv(s,"_"),p=this._getWriter();return u.encode(p,i),p.data}decode(t,i,s){const u=t.map(y=>this._getCoder(Go.from(y)));return new fv(u,"_").decode(this._getReader(Cn(i),s))}}const Z$=new q$;function Sp(l){return Io(lc(l))}const KB="hash/5.7.0";function $B(l){l=atob(l);const t=[];for(let i=0;i<l.length;i++)t.push(l.charCodeAt(i));return Cn(t)}function eI(l){l=Cn(l);let t="";for(let i=0;i<l.length;i++)t+=String.fromCharCode(l[i]);return btoa(t)}function tI(l,t){t==null&&(t=1);const i=[],s=i.forEach,u=function(p,y){s.call(p,function(A){y>0&&Array.isArray(A)?u(A,y-1):i.push(A)})};return u(l,t),i}function Y$(l){const t={};for(let i=0;i<l.length;i++){const s=l[i];t[s[0]]=s[1]}return t}function K$(l){let t=0;function i(){return l[t++]<<8|l[t++]}let s=i(),u=1,p=[0,1];for(let Ae=1;Ae<s;Ae++)p.push(u+=i());let y=i(),A=t;t+=y;let E=0,_=0;function k(){return E==0&&(_=_<<8|l[t++],E=8),_>>--E&1}const R=31,P=Math.pow(2,R),B=P>>>1,O=B>>1,H=P-1;let z=0;for(let Ae=0;Ae<R;Ae++)z=z<<1|k();let Y=[],ee=0,ue=P;for(;;){let Ae=Math.floor(((z-ee+1)*u-1)/ue),be=0,xe=s;for(;xe-be>1;){let ye=be+xe>>>1;Ae<p[ye]?xe=ye:be=ye}if(be==0)break;Y.push(be);let ne=ee+Math.floor(ue*p[be]/u),ae=ee+Math.floor(ue*p[be+1]/u)-1;for(;((ne^ae)&B)==0;)z=z<<1&H|k(),ne=ne<<1&H,ae=ae<<1&H|1;for(;ne&~ae&O;)z=z&B|z<<1&H>>>1|k(),ne=ne<<1^B,ae=(ae^B)<<1|B|1;ee=ne,ue=1+ae-ne}let oe=s-4;return Y.map(Ae=>{switch(Ae-oe){case 3:return oe+65792+(l[A++]<<16|l[A++]<<8|l[A++]);case 2:return oe+256+(l[A++]<<8|l[A++]);case 1:return oe+l[A++];default:return Ae-1}})}function $$(l){let t=0;return()=>l[t++]}function eee(l){return $$(K$(l))}function tee(l){return l&1?~l>>1:l>>1}function iee(l,t){let i=Array(l);for(let s=0;s<l;s++)i[s]=1+t();return i}function hM(l,t){let i=Array(l);for(let s=0,u=-1;s<l;s++)i[s]=u+=1+t();return i}function ree(l,t){let i=Array(l);for(let s=0,u=0;s<l;s++)i[s]=u+=tee(t());return i}function c4(l,t){let i=hM(l(),l),s=l(),u=hM(s,l),p=iee(s,l);for(let y=0;y<s;y++)for(let A=0;A<p[y];A++)i.push(u[y]+A);return t?i.map(y=>t[y]):i}function nee(l){let t=[];for(;;){let i=l();if(i==0)break;t.push(oee(i,l))}for(;;){let i=l()-1;if(i<0)break;t.push(aee(i,l))}return Y$(tI(t))}function see(l){let t=[];for(;;){let i=l();if(i==0)break;t.push(i)}return t}function iI(l,t,i){let s=Array(l).fill(void 0).map(()=>[]);for(let u=0;u<t;u++)ree(l,i).forEach((p,y)=>s[y].push(p));return s}function oee(l,t){let i=1+t(),s=t(),u=see(t),p=iI(u.length,1+l,t);return tI(p.map((y,A)=>{const E=y[0],_=y.slice(1);return Array(u[A]).fill(void 0).map((k,R)=>{let P=R*s;return[E+R*i,_.map(B=>B+P)]})}))}function aee(l,t){let i=1+t();return iI(i,1+l,t).map(u=>[u[0],u.slice(1)])}function lee(l){let t=c4(l).sort((s,u)=>s-u);return i();function i(){let s=[];for(;;){let _=c4(l,t);if(_.length==0)break;s.push({set:new Set(_),node:i()})}s.sort((_,k)=>k.set.size-_.set.size);let u=l(),p=u%3;u=u/3|0;let y=!!(u&1);u>>=1;let A=u==1,E=u==2;return{branches:s,valid:p,fe0f:y,save:A,check:E}}}function fee(){return eee($B("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const nw=fee(),uee=new Set(c4(nw)),cee=new Set(c4(nw)),hee=nee(nw),dee=lee(nw),dM=45,pM=95;function rI(l){return W$(l)}function pee(l){return l.filter(t=>t!=65039)}function nI(l){for(let t of l.split(".")){let i=rI(t);try{for(let s=i.lastIndexOf(pM)-1;s>=0;s--)if(i[s]!==pM)throw new Error("underscore only allowed at start");if(i.length>=4&&i.every(s=>s<128)&&i[2]===dM&&i[3]===dM)throw new Error("invalid label extension")}catch(s){throw new Error(`Invalid label "${t}": ${s.message}`)}}return l}function mee(l){return nI(gee(l,pee))}function gee(l,t){let i=rI(l).reverse(),s=[];for(;i.length;){let u=yee(i);if(u){s.push(...t(u));continue}let p=i.pop();if(uee.has(p)){s.push(p);continue}if(cee.has(p))continue;let y=hee[p];if(y){s.push(...y);continue}throw new Error(`Disallowed codepoint: 0x${p.toString(16).toUpperCase()}`)}return nI(bee(String.fromCodePoint(...s)))}function bee(l){return l.normalize("NFC")}function yee(l,t){var i;let s=dee,u,p,y=[],A=l.length;for(t&&(t.length=0);A;){let E=l[--A];if(s=(i=s.branches.find(_=>_.set.has(E)))===null||i===void 0?void 0:i.node,!s)break;if(s.save)p=E;else if(s.check&&E===p)break;y.push(E),s.fe0f&&(y.push(65039),A>0&&l[A-1]==65039&&A--),s.valid&&(u=y.slice(),s.valid==2&&u.splice(1,1),t&&t.push(...l.slice(A).reverse()),l.length=A)}return u}const Aee=new pi(KB),sI=new Uint8Array(32);sI.fill(0);function mM(l){if(l.length===0)throw new Error("invalid ENS name; empty component");return l}function oI(l){const t=lc(mee(l)),i=[];if(l.length===0)return i;let s=0;for(let u=0;u<t.length;u++)t[u]===46&&(i.push(mM(t.slice(s,u))),s=u+1);if(s>=t.length)throw new Error("invalid ENS name; empty component");return i.push(mM(t.slice(s))),i}function Vv(l){typeof l!="string"&&Aee.throwArgumentError("invalid ENS name; not a string","name",l);let t=sI;const i=oI(l);for(;i.length;)t=Io(El([t,Io(i.pop())]));return fn(t)}function vee(l){return fn(El(oI(l).map(t=>{if(t.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const i=new Uint8Array(t.length+1);return i.set(t,1),i[0]=i.length-1,i})))+"00"}var wee=globalThis&&globalThis.__awaiter||function(l,t,i,s){function u(p){return p instanceof i?p:new i(function(y){y(p)})}return new(i||(i=Promise))(function(p,y){function A(k){try{_(s.next(k))}catch(R){y(R)}}function E(k){try{_(s.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):u(k.value).then(A,E)}_((s=s.apply(l,t||[])).next())})};const Os=new pi(KB),aI=new Uint8Array(32);aI.fill(0);const xee=Er.from(-1),lI=Er.from(0),fI=Er.from(1),Eee=Er.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function _ee(l){const t=Cn(l),i=t.length%32;return i?Wa([t,aI.slice(i)]):fn(t)}const kee=Is(fI.toHexString(),32),Cee=Is(lI.toHexString(),32),gM={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},n5=["name","version","chainId","verifyingContract","salt"];function bM(l){return function(t){return typeof t!="string"&&Os.throwArgumentError(`invalid domain value for ${JSON.stringify(l)}`,`domain.${l}`,t),t}}const See={name:bM("name"),version:bM("version"),chainId:function(l){try{return Er.from(l).toString()}catch{}return Os.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",l)},verifyingContract:function(l){try{return ta(l).toLowerCase()}catch{}return Os.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",l)},salt:function(l){try{const t=Cn(l);if(t.length!==32)throw new Error("bad length");return fn(t)}catch{}return Os.throwArgumentError('invalid domain value "salt"',"domain.salt",l)}};function s5(l){{const t=l.match(/^(u?)int(\d*)$/);if(t){const i=t[1]==="",s=parseInt(t[2]||"256");(s%8!==0||s>256||t[2]&&t[2]!==String(s))&&Os.throwArgumentError("invalid numeric width","type",l);const u=Eee.mask(i?s-1:s),p=i?u.add(fI).mul(xee):lI;return function(y){const A=Er.from(y);return(A.lt(p)||A.gt(u))&&Os.throwArgumentError(`value out-of-bounds for ${l}`,"value",y),Is(A.toTwos(256).toHexString(),32)}}}{const t=l.match(/^bytes(\d+)$/);if(t){const i=parseInt(t[1]);return(i===0||i>32||t[1]!==String(i))&&Os.throwArgumentError("invalid bytes width","type",l),function(s){return Cn(s).length!==i&&Os.throwArgumentError(`invalid length for ${l}`,"value",s),_ee(s)}}}switch(l){case"address":return function(t){return Is(ta(t),32)};case"bool":return function(t){return t?kee:Cee};case"bytes":return function(t){return Io(t)};case"string":return function(t){return Sp(t)}}return null}function yM(l,t){return`${l}(${t.map(({name:i,type:s})=>s+" "+i).join(",")})`}class yl{constructor(t){ar(this,"types",Object.freeze(qa(t))),ar(this,"_encoderCache",{}),ar(this,"_types",{});const i={},s={},u={};Object.keys(t).forEach(A=>{i[A]={},s[A]=[],u[A]={}});for(const A in t){const E={};t[A].forEach(_=>{E[_.name]&&Os.throwArgumentError(`duplicate variable name ${JSON.stringify(_.name)} in ${JSON.stringify(A)}`,"types",t),E[_.name]=!0;const k=_.type.match(/^([^\x5b]*)(\x5b|$)/)[1];k===A&&Os.throwArgumentError(`circular type reference to ${JSON.stringify(k)}`,"types",t),!s5(k)&&(s[k]||Os.throwArgumentError(`unknown type ${JSON.stringify(k)}`,"types",t),s[k].push(A),i[A][k]=!0)})}const p=Object.keys(s).filter(A=>s[A].length===0);p.length===0?Os.throwArgumentError("missing primary type","types",t):p.length>1&&Os.throwArgumentError(`ambiguous primary types or unused types: ${p.map(A=>JSON.stringify(A)).join(", ")}`,"types",t),ar(this,"primaryType",p[0]);function y(A,E){E[A]&&Os.throwArgumentError(`circular type reference to ${JSON.stringify(A)}`,"types",t),E[A]=!0,Object.keys(i[A]).forEach(_=>{!s[_]||(y(_,E),Object.keys(E).forEach(k=>{u[k][_]=!0}))}),delete E[A]}y(this.primaryType,{});for(const A in u){const E=Object.keys(u[A]);E.sort(),this._types[A]=yM(A,t[A])+E.map(_=>yM(_,t[_])).join("")}}getEncoder(t){let i=this._encoderCache[t];return i||(i=this._encoderCache[t]=this._getEncoder(t)),i}_getEncoder(t){{const u=s5(t);if(u)return u}const i=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const u=i[1],p=this.getEncoder(u),y=parseInt(i[3]);return A=>{y>=0&&A.length!==y&&Os.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",A);let E=A.map(p);return this._types[u]&&(E=E.map(Io)),Io(Wa(E))}}const s=this.types[t];if(s){const u=Sp(this._types[t]);return p=>{const y=s.map(({name:A,type:E})=>{const _=this.getEncoder(E)(p[A]);return this._types[E]?Io(_):_});return y.unshift(u),Wa(y)}}return Os.throwArgumentError(`unknown type: ${t}`,"type",t)}encodeType(t){const i=this._types[t];return i||Os.throwArgumentError(`unknown type: ${JSON.stringify(t)}`,"name",t),i}encodeData(t,i){return this.getEncoder(t)(i)}hashStruct(t,i){return Io(this.encodeData(t,i))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,i,s){if(s5(t))return s(t,i);const u=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(u){const y=u[1],A=parseInt(u[3]);return A>=0&&i.length!==A&&Os.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",i),i.map(E=>this._visit(y,E,s))}const p=this.types[t];return p?p.reduce((y,{name:A,type:E})=>(y[A]=this._visit(E,i[A],s),y),{}):Os.throwArgumentError(`unknown type: ${t}`,"type",t)}visit(t,i){return this._visit(this.primaryType,t,i)}static from(t){return new yl(t)}static getPrimaryType(t){return yl.from(t).primaryType}static hashStruct(t,i,s){return yl.from(i).hashStruct(t,s)}static hashDomain(t){const i=[];for(const s in t){const u=gM[s];u||Os.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(s)}`,"domain",t),i.push({name:s,type:u})}return i.sort((s,u)=>n5.indexOf(s.name)-n5.indexOf(u.name)),yl.hashStruct("EIP712Domain",{EIP712Domain:i},t)}static encode(t,i,s){return Wa(["0x1901",yl.hashDomain(t),yl.from(i).hash(s)])}static hash(t,i,s){return Io(yl.encode(t,i,s))}static resolveNames(t,i,s,u){return wee(this,void 0,void 0,function*(){t=Rs(t);const p={};t.verifyingContract&&!t0(t.verifyingContract,20)&&(p[t.verifyingContract]="0x");const y=yl.from(i);y.visit(s,(A,E)=>(A==="address"&&!t0(E,20)&&(p[E]="0x"),E));for(const A in p)p[A]=yield u(A);return t.verifyingContract&&p[t.verifyingContract]&&(t.verifyingContract=p[t.verifyingContract]),s=y.visit(s,(A,E)=>A==="address"&&p[E]?p[E]:E),{domain:t,value:s}})}static getPayload(t,i,s){yl.hashDomain(t);const u={},p=[];n5.forEach(E=>{const _=t[E];_!=null&&(u[E]=See[E](_),p.push({name:E,type:gM[E]}))});const y=yl.from(i),A=Rs(i);return A.EIP712Domain?Os.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",i):A.EIP712Domain=p,y.encode(s),{types:A,domain:u,primaryType:y.primaryType,message:y.visit(s,(E,_)=>{if(E.match(/^bytes(\d*)/))return fn(Cn(_));if(E.match(/^u?int/))return Er.from(_).toString();switch(E){case"address":return _.toLowerCase();case"bool":return!!_;case"string":return typeof _!="string"&&Os.throwArgumentError("invalid string","value",_),_}return Os.throwArgumentError("unsupported type","type",E)})}}}const Ns=new pi(ob);class Tee extends sb{}class Mee extends sb{}class Ree extends sb{}class EE extends sb{static isIndexed(t){return!!(t&&t._isIndexed)}}const Bee={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function AM(l,t){const i=new Error(`deferred error during ABI decoding triggered accessing ${l}`);return i.error=t,i}class vM{constructor(t){let i=[];typeof t=="string"?i=JSON.parse(t):i=t,ar(this,"fragments",i.map(s=>rc.from(s)).filter(s=>s!=null)),ar(this,"_abiCoder",_l(new.target,"getAbiCoder")()),ar(this,"functions",{}),ar(this,"errors",{}),ar(this,"events",{}),ar(this,"structs",{}),this.fragments.forEach(s=>{let u=null;switch(s.type){case"constructor":if(this.deploy){Ns.warn("duplicate definition - constructor");return}ar(this,"deploy",s);return;case"function":u=this.functions;break;case"event":u=this.events;break;case"error":u=this.errors;break;default:return}let p=s.format();if(u[p]){Ns.warn("duplicate definition - "+p);return}u[p]=s}),this.deploy||ar(this,"deploy",pu.from({payable:!1,type:"constructor"})),ar(this,"_isInterface",!0)}format(t){t||(t=H0.full),t===H0.sighash&&Ns.throwArgumentError("interface does not support formatting sighash","format",t);const i=this.fragments.map(s=>s.format(t));return t===H0.json?JSON.stringify(i.map(s=>JSON.parse(s))):i}static getAbiCoder(){return Z$}static getAddress(t){return ta(t)}static getSighash(t){return ca(Sp(t.format()),0,4)}static getEventTopic(t){return Sp(t.format())}getFunction(t){if(t0(t)){for(const s in this.functions)if(t===this.getSighash(s))return this.functions[s];Ns.throwArgumentError("no matching function","sighash",t)}if(t.indexOf("(")===-1){const s=t.trim(),u=Object.keys(this.functions).filter(p=>p.split("(")[0]===s);return u.length===0?Ns.throwArgumentError("no matching function","name",s):u.length>1&&Ns.throwArgumentError("multiple matching functions","name",s),this.functions[u[0]]}const i=this.functions[mu.fromString(t).format()];return i||Ns.throwArgumentError("no matching function","signature",t),i}getEvent(t){if(t0(t)){const s=t.toLowerCase();for(const u in this.events)if(s===this.getEventTopic(u))return this.events[u];Ns.throwArgumentError("no matching event","topichash",s)}if(t.indexOf("(")===-1){const s=t.trim(),u=Object.keys(this.events).filter(p=>p.split("(")[0]===s);return u.length===0?Ns.throwArgumentError("no matching event","name",s):u.length>1&&Ns.throwArgumentError("multiple matching events","name",s),this.events[u[0]]}const i=this.events[tc.fromString(t).format()];return i||Ns.throwArgumentError("no matching event","signature",t),i}getError(t){if(t0(t)){const s=_l(this.constructor,"getSighash");for(const u in this.errors){const p=this.errors[u];if(t===s(p))return this.errors[u]}Ns.throwArgumentError("no matching error","sighash",t)}if(t.indexOf("(")===-1){const s=t.trim(),u=Object.keys(this.errors).filter(p=>p.split("(")[0]===s);return u.length===0?Ns.throwArgumentError("no matching error","name",s):u.length>1&&Ns.throwArgumentError("multiple matching errors","name",s),this.errors[u[0]]}const i=this.errors[mu.fromString(t).format()];return i||Ns.throwArgumentError("no matching error","signature",t),i}getSighash(t){if(typeof t=="string")try{t=this.getFunction(t)}catch(i){try{t=this.getError(t)}catch{throw i}}return _l(this.constructor,"getSighash")(t)}getEventTopic(t){return typeof t=="string"&&(t=this.getEvent(t)),_l(this.constructor,"getEventTopic")(t)}_decodeParams(t,i){return this._abiCoder.decode(t,i)}_encodeParams(t,i){return this._abiCoder.encode(t,i)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,i){typeof t=="string"&&(t=this.getError(t));const s=Cn(i);return fn(s.slice(0,4))!==this.getSighash(t)&&Ns.throwArgumentError(`data signature does not match error ${t.name}.`,"data",fn(s)),this._decodeParams(t.inputs,s.slice(4))}encodeErrorResult(t,i){return typeof t=="string"&&(t=this.getError(t)),fn(El([this.getSighash(t),this._encodeParams(t.inputs,i||[])]))}decodeFunctionData(t,i){typeof t=="string"&&(t=this.getFunction(t));const s=Cn(i);return fn(s.slice(0,4))!==this.getSighash(t)&&Ns.throwArgumentError(`data signature does not match function ${t.name}.`,"data",fn(s)),this._decodeParams(t.inputs,s.slice(4))}encodeFunctionData(t,i){return typeof t=="string"&&(t=this.getFunction(t)),fn(El([this.getSighash(t),this._encodeParams(t.inputs,i||[])]))}decodeFunctionResult(t,i){typeof t=="string"&&(t=this.getFunction(t));let s=Cn(i),u=null,p="",y=null,A=null,E=null;switch(s.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(t.outputs,s)}catch{}break;case 4:{const _=fn(s.slice(0,4)),k=Bee[_];if(k)y=this._abiCoder.decode(k.inputs,s.slice(4)),A=k.name,E=k.signature,k.reason&&(u=y[0]),A==="Error"?p=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(y[0])}`:A==="Panic"&&(p=`; VM Exception while processing transaction: reverted with panic code ${y[0]}`);else try{const R=this.getError(_);y=this._abiCoder.decode(R.inputs,s.slice(4)),A=R.name,E=R.format()}catch{}break}}return Ns.throwError("call revert exception"+p,pi.errors.CALL_EXCEPTION,{method:t.format(),data:fn(i),errorArgs:y,errorName:A,errorSignature:E,reason:u})}encodeFunctionResult(t,i){return typeof t=="string"&&(t=this.getFunction(t)),fn(this._abiCoder.encode(t.outputs,i||[]))}encodeFilterTopics(t,i){typeof t=="string"&&(t=this.getEvent(t)),i.length>t.inputs.length&&Ns.throwError("too many arguments for "+t.format(),pi.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:i});let s=[];t.anonymous||s.push(this.getEventTopic(t));const u=(p,y)=>p.type==="string"?Sp(y):p.type==="bytes"?Io(fn(y)):(p.type==="bool"&&typeof y=="boolean"&&(y=y?"0x01":"0x00"),p.type.match(/^u?int/)&&(y=Er.from(y).toHexString()),p.type==="address"&&this._abiCoder.encode(["address"],[y]),Is(fn(y),32));for(i.forEach((p,y)=>{let A=t.inputs[y];if(!A.indexed){p!=null&&Ns.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+A.name,p);return}p==null?s.push(null):A.baseType==="array"||A.baseType==="tuple"?Ns.throwArgumentError("filtering with tuples or arrays not supported","contract."+A.name,p):Array.isArray(p)?s.push(p.map(E=>u(A,E))):s.push(u(A,p))});s.length&&s[s.length-1]===null;)s.pop();return s}encodeEventLog(t,i){typeof t=="string"&&(t=this.getEvent(t));const s=[],u=[],p=[];return t.anonymous||s.push(this.getEventTopic(t)),i.length!==t.inputs.length&&Ns.throwArgumentError("event arguments/values mismatch","values",i),t.inputs.forEach((y,A)=>{const E=i[A];if(y.indexed)if(y.type==="string")s.push(Sp(E));else if(y.type==="bytes")s.push(Io(E));else{if(y.baseType==="tuple"||y.baseType==="array")throw new Error("not implemented");s.push(this._abiCoder.encode([y.type],[E]))}else u.push(y),p.push(E)}),{data:this._abiCoder.encode(u,p),topics:s}}decodeEventLog(t,i,s){if(typeof t=="string"&&(t=this.getEvent(t)),s!=null&&!t.anonymous){let P=this.getEventTopic(t);(!t0(s[0],32)||s[0].toLowerCase()!==P)&&Ns.throwError("fragment/topic mismatch",pi.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:P,value:s[0]}),s=s.slice(1)}let u=[],p=[],y=[];t.inputs.forEach((P,B)=>{P.indexed?P.type==="string"||P.type==="bytes"||P.baseType==="tuple"||P.baseType==="array"?(u.push(Go.fromObject({type:"bytes32",name:P.name})),y.push(!0)):(u.push(P),y.push(!1)):(p.push(P),y.push(!1))});let A=s!=null?this._abiCoder.decode(u,El(s)):null,E=this._abiCoder.decode(p,i,!0),_=[],k=0,R=0;t.inputs.forEach((P,B)=>{if(P.indexed)if(A==null)_[B]=new EE({_isIndexed:!0,hash:null});else if(y[B])_[B]=new EE({_isIndexed:!0,hash:A[R++]});else try{_[B]=A[R++]}catch(O){_[B]=O}else try{_[B]=E[k++]}catch(O){_[B]=O}if(P.name&&_[P.name]==null){const O=_[B];O instanceof Error?Object.defineProperty(_,P.name,{enumerable:!0,get:()=>{throw AM(`property ${JSON.stringify(P.name)}`,O)}}):_[P.name]=O}});for(let P=0;P<_.length;P++){const B=_[P];B instanceof Error&&Object.defineProperty(_,P,{enumerable:!0,get:()=>{throw AM(`index ${P}`,B)}})}return Object.freeze(_)}parseTransaction(t){let i=this.getFunction(t.data.substring(0,10).toLowerCase());return i?new Mee({args:this._abiCoder.decode(i.inputs,"0x"+t.data.substring(10)),functionFragment:i,name:i.name,signature:i.format(),sighash:this.getSighash(i),value:Er.from(t.value||"0")}):null}parseLog(t){let i=this.getEvent(t.topics[0]);return!i||i.anonymous?null:new Tee({eventFragment:i,name:i.name,signature:i.format(),topic:this.getEventTopic(i),args:this.decodeEventLog(i,t.data,t.topics)})}parseError(t){const i=fn(t);let s=this.getError(i.substring(0,10).toLowerCase());return s?new Ree({args:this._abiCoder.decode(s.inputs,"0x"+i.substring(10)),errorFragment:s,name:s.name,signature:s.format(),sighash:this.getSighash(s)}):null}static isInterface(t){return!!(t&&t._isInterface)}}const Iee="abstract-provider/5.7.0";var Dee=globalThis&&globalThis.__awaiter||function(l,t,i,s){function u(p){return p instanceof i?p:new i(function(y){y(p)})}return new(i||(i=Promise))(function(p,y){function A(k){try{_(s.next(k))}catch(R){y(R)}}function E(k){try{_(s.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):u(k.value).then(A,E)}_((s=s.apply(l,t||[])).next())})};const Pee=new pi(Iee);class Lee extends sb{static isForkEvent(t){return!!(t&&t._isForkEvent)}}class x1{constructor(){Pee.checkAbstract(new.target,x1),ar(this,"_isProvider",!0)}getFeeData(){return Dee(this,void 0,void 0,function*(){const{block:t,gasPrice:i}=yield wo({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(y=>null)});let s=null,u=null,p=null;return t&&t.baseFeePerGas&&(s=t.baseFeePerGas,p=Er.from("1500000000"),u=t.baseFeePerGas.mul(2).add(p)),{lastBaseFeePerGas:s,maxFeePerGas:u,maxPriorityFeePerGas:p,gasPrice:i}})}addListener(t,i){return this.on(t,i)}removeListener(t,i){return this.off(t,i)}static isProvider(t){return!!(t&&t._isProvider)}}const Nee="abstract-signer/5.7.0";var Af=globalThis&&globalThis.__awaiter||function(l,t,i,s){function u(p){return p instanceof i?p:new i(function(y){y(p)})}return new(i||(i=Promise))(function(p,y){function A(k){try{_(s.next(k))}catch(R){y(R)}}function E(k){try{_(s.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):u(k.value).then(A,E)}_((s=s.apply(l,t||[])).next())})};const Wl=new pi(Nee),Fee=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Oee=[pi.errors.INSUFFICIENT_FUNDS,pi.errors.NONCE_EXPIRED,pi.errors.REPLACEMENT_UNDERPRICED];class lb{constructor(){Wl.checkAbstract(new.target,lb),ar(this,"_isSigner",!0)}getBalance(t){return Af(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)})}getTransactionCount(t){return Af(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)})}estimateGas(t){return Af(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const i=yield wo(this.checkTransaction(t));return yield this.provider.estimateGas(i)})}call(t,i){return Af(this,void 0,void 0,function*(){this._checkProvider("call");const s=yield wo(this.checkTransaction(t));return yield this.provider.call(s,i)})}sendTransaction(t){return Af(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const i=yield this.populateTransaction(t),s=yield this.signTransaction(i);return yield this.provider.sendTransaction(s)})}getChainId(){return Af(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Af(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Af(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(t){return Af(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)})}checkTransaction(t){for(const s in t)Fee.indexOf(s)===-1&&Wl.throwArgumentError("invalid transaction key: "+s,"transaction",t);const i=Rs(t);return i.from==null?i.from=this.getAddress():i.from=Promise.all([Promise.resolve(i.from),this.getAddress()]).then(s=>(s[0].toLowerCase()!==s[1].toLowerCase()&&Wl.throwArgumentError("from address mismatch","transaction",t),s[0])),i}populateTransaction(t){return Af(this,void 0,void 0,function*(){const i=yield wo(this.checkTransaction(t));i.to!=null&&(i.to=Promise.resolve(i.to).then(u=>Af(this,void 0,void 0,function*(){if(u==null)return null;const p=yield this.resolveName(u);return p==null&&Wl.throwArgumentError("provided ENS name resolves to null","tx.to",u),p})),i.to.catch(u=>{}));const s=i.maxFeePerGas!=null||i.maxPriorityFeePerGas!=null;if(i.gasPrice!=null&&(i.type===2||s)?Wl.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t):(i.type===0||i.type===1)&&s&&Wl.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t),(i.type===2||i.type==null)&&i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)i.type=2;else if(i.type===0||i.type===1)i.gasPrice==null&&(i.gasPrice=this.getGasPrice());else{const u=yield this.getFeeData();if(i.type==null)if(u.maxFeePerGas!=null&&u.maxPriorityFeePerGas!=null)if(i.type=2,i.gasPrice!=null){const p=i.gasPrice;delete i.gasPrice,i.maxFeePerGas=p,i.maxPriorityFeePerGas=p}else i.maxFeePerGas==null&&(i.maxFeePerGas=u.maxFeePerGas),i.maxPriorityFeePerGas==null&&(i.maxPriorityFeePerGas=u.maxPriorityFeePerGas);else u.gasPrice!=null?(s&&Wl.throwError("network does not support EIP-1559",pi.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),i.gasPrice==null&&(i.gasPrice=u.gasPrice),i.type=0):Wl.throwError("failed to get consistent fee data",pi.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else i.type===2&&(i.maxFeePerGas==null&&(i.maxFeePerGas=u.maxFeePerGas),i.maxPriorityFeePerGas==null&&(i.maxPriorityFeePerGas=u.maxPriorityFeePerGas))}return i.nonce==null&&(i.nonce=this.getTransactionCount("pending")),i.gasLimit==null&&(i.gasLimit=this.estimateGas(i).catch(u=>{if(Oee.indexOf(u.code)>=0)throw u;return Wl.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",pi.errors.UNPREDICTABLE_GAS_LIMIT,{error:u,tx:i})})),i.chainId==null?i.chainId=this.getChainId():i.chainId=Promise.all([Promise.resolve(i.chainId),this.getChainId()]).then(u=>(u[1]!==0&&u[0]!==u[1]&&Wl.throwArgumentError("chainId address mismatch","transaction",t),u[0])),yield wo(i)})}_checkProvider(t){this.provider||Wl.throwError("missing provider",pi.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!!(t&&t._isSigner)}}class e_ extends lb{constructor(t,i){super(),ar(this,"address",t),ar(this,"provider",i||null)}getAddress(){return Promise.resolve(this.address)}_fail(t,i){return Promise.resolve().then(()=>{Wl.throwError(t,pi.errors.UNSUPPORTED_OPERATION,{operation:i})})}signMessage(t){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(t){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(t,i,s){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(t){return new e_(this.address,t)}}var uI={},y0={},fb=cI;function cI(l,t){if(!l)throw new Error(t||"Assertion failed")}cI.equal=function(t,i,s){if(t!=i)throw new Error(s||"Assertion failed: "+t+" != "+i)};var _E={exports:{}};typeof Object.create=="function"?_E.exports=function(t,i){i&&(t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:_E.exports=function(t,i){if(i){t.super_=i;var s=function(){};s.prototype=i.prototype,t.prototype=new s,t.prototype.constructor=t}};var Hee=fb,Uee=_E.exports;y0.inherits=Uee;function Vee(l,t){return(l.charCodeAt(t)&64512)!==55296||t<0||t+1>=l.length?!1:(l.charCodeAt(t+1)&64512)===56320}function jee(l,t){if(Array.isArray(l))return l.slice();if(!l)return[];var i=[];if(typeof l=="string")if(t){if(t==="hex")for(l=l.replace(/[^a-z0-9]+/ig,""),l.length%2!==0&&(l="0"+l),u=0;u<l.length;u+=2)i.push(parseInt(l[u]+l[u+1],16))}else for(var s=0,u=0;u<l.length;u++){var p=l.charCodeAt(u);p<128?i[s++]=p:p<2048?(i[s++]=p>>6|192,i[s++]=p&63|128):Vee(l,u)?(p=65536+((p&1023)<<10)+(l.charCodeAt(++u)&1023),i[s++]=p>>18|240,i[s++]=p>>12&63|128,i[s++]=p>>6&63|128,i[s++]=p&63|128):(i[s++]=p>>12|224,i[s++]=p>>6&63|128,i[s++]=p&63|128)}else for(u=0;u<l.length;u++)i[u]=l[u]|0;return i}y0.toArray=jee;function Gee(l){for(var t="",i=0;i<l.length;i++)t+=dI(l[i].toString(16));return t}y0.toHex=Gee;function hI(l){var t=l>>>24|l>>>8&65280|l<<8&16711680|(l&255)<<24;return t>>>0}y0.htonl=hI;function zee(l,t){for(var i="",s=0;s<l.length;s++){var u=l[s];t==="little"&&(u=hI(u)),i+=pI(u.toString(16))}return i}y0.toHex32=zee;function dI(l){return l.length===1?"0"+l:l}y0.zero2=dI;function pI(l){return l.length===7?"0"+l:l.length===6?"00"+l:l.length===5?"000"+l:l.length===4?"0000"+l:l.length===3?"00000"+l:l.length===2?"000000"+l:l.length===1?"0000000"+l:l}y0.zero8=pI;function Wee(l,t,i,s){var u=i-t;Hee(u%4===0);for(var p=new Array(u/4),y=0,A=t;y<p.length;y++,A+=4){var E;s==="big"?E=l[A]<<24|l[A+1]<<16|l[A+2]<<8|l[A+3]:E=l[A+3]<<24|l[A+2]<<16|l[A+1]<<8|l[A],p[y]=E>>>0}return p}y0.join32=Wee;function Qee(l,t){for(var i=new Array(l.length*4),s=0,u=0;s<l.length;s++,u+=4){var p=l[s];t==="big"?(i[u]=p>>>24,i[u+1]=p>>>16&255,i[u+2]=p>>>8&255,i[u+3]=p&255):(i[u+3]=p>>>24,i[u+2]=p>>>16&255,i[u+1]=p>>>8&255,i[u]=p&255)}return i}y0.split32=Qee;function Jee(l,t){return l>>>t|l<<32-t}y0.rotr32=Jee;function Xee(l,t){return l<<t|l>>>32-t}y0.rotl32=Xee;function qee(l,t){return l+t>>>0}y0.sum32=qee;function Zee(l,t,i){return l+t+i>>>0}y0.sum32_3=Zee;function Yee(l,t,i,s){return l+t+i+s>>>0}y0.sum32_4=Yee;function Kee(l,t,i,s,u){return l+t+i+s+u>>>0}y0.sum32_5=Kee;function $ee(l,t,i,s){var u=l[t],p=l[t+1],y=s+p>>>0,A=(y<s?1:0)+i+u;l[t]=A>>>0,l[t+1]=y}y0.sum64=$ee;function ete(l,t,i,s){var u=t+s>>>0,p=(u<t?1:0)+l+i;return p>>>0}y0.sum64_hi=ete;function tte(l,t,i,s){var u=t+s;return u>>>0}y0.sum64_lo=tte;function ite(l,t,i,s,u,p,y,A){var E=0,_=t;_=_+s>>>0,E+=_<t?1:0,_=_+p>>>0,E+=_<p?1:0,_=_+A>>>0,E+=_<A?1:0;var k=l+i+u+y+E;return k>>>0}y0.sum64_4_hi=ite;function rte(l,t,i,s,u,p,y,A){var E=t+s+p+A;return E>>>0}y0.sum64_4_lo=rte;function nte(l,t,i,s,u,p,y,A,E,_){var k=0,R=t;R=R+s>>>0,k+=R<t?1:0,R=R+p>>>0,k+=R<p?1:0,R=R+A>>>0,k+=R<A?1:0,R=R+_>>>0,k+=R<_?1:0;var P=l+i+u+y+E+k;return P>>>0}y0.sum64_5_hi=nte;function ste(l,t,i,s,u,p,y,A,E,_){var k=t+s+p+A+_;return k>>>0}y0.sum64_5_lo=ste;function ote(l,t,i){var s=t<<32-i|l>>>i;return s>>>0}y0.rotr64_hi=ote;function ate(l,t,i){var s=l<<32-i|t>>>i;return s>>>0}y0.rotr64_lo=ate;function lte(l,t,i){return l>>>i}y0.shr64_hi=lte;function fte(l,t,i){var s=l<<32-i|t>>>i;return s>>>0}y0.shr64_lo=fte;var E1={},wM=y0,ute=fb;function sw(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}E1.BlockHash=sw;sw.prototype.update=function(t,i){if(t=wM.toArray(t,i),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var s=t.length%this._delta8;this.pending=t.slice(t.length-s,t.length),this.pending.length===0&&(this.pending=null),t=wM.join32(t,0,t.length-s,this.endian);for(var u=0;u<t.length;u+=this._delta32)this._update(t,u,u+this._delta32)}return this};sw.prototype.digest=function(t){return this.update(this._pad()),ute(this.pending===null),this._digest(t)};sw.prototype._pad=function(){var t=this.pendingTotal,i=this._delta8,s=i-(t+this.padLength)%i,u=new Array(s+this.padLength);u[0]=128;for(var p=1;p<s;p++)u[p]=0;if(t<<=3,this.endian==="big"){for(var y=8;y<this.padLength;y++)u[p++]=0;u[p++]=0,u[p++]=0,u[p++]=0,u[p++]=0,u[p++]=t>>>24&255,u[p++]=t>>>16&255,u[p++]=t>>>8&255,u[p++]=t&255}else for(u[p++]=t&255,u[p++]=t>>>8&255,u[p++]=t>>>16&255,u[p++]=t>>>24&255,u[p++]=0,u[p++]=0,u[p++]=0,u[p++]=0,y=8;y<this.padLength;y++)u[p++]=0;return u};var _1={},Bu={},cte=y0,bu=cte.rotr32;function hte(l,t,i,s){if(l===0)return mI(t,i,s);if(l===1||l===3)return bI(t,i,s);if(l===2)return gI(t,i,s)}Bu.ft_1=hte;function mI(l,t,i){return l&t^~l&i}Bu.ch32=mI;function gI(l,t,i){return l&t^l&i^t&i}Bu.maj32=gI;function bI(l,t,i){return l^t^i}Bu.p32=bI;function dte(l){return bu(l,2)^bu(l,13)^bu(l,22)}Bu.s0_256=dte;function pte(l){return bu(l,6)^bu(l,11)^bu(l,25)}Bu.s1_256=pte;function mte(l){return bu(l,7)^bu(l,18)^l>>>3}Bu.g0_256=mte;function gte(l){return bu(l,17)^bu(l,19)^l>>>10}Bu.g1_256=gte;var a1=y0,bte=E1,yte=Bu,o5=a1.rotl32,Zm=a1.sum32,Ate=a1.sum32_5,vte=yte.ft_1,yI=bte.BlockHash,wte=[1518500249,1859775393,2400959708,3395469782];function _u(){if(!(this instanceof _u))return new _u;yI.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}a1.inherits(_u,yI);var xte=_u;_u.blockSize=512;_u.outSize=160;_u.hmacStrength=80;_u.padLength=64;_u.prototype._update=function(t,i){for(var s=this.W,u=0;u<16;u++)s[u]=t[i+u];for(;u<s.length;u++)s[u]=o5(s[u-3]^s[u-8]^s[u-14]^s[u-16],1);var p=this.h[0],y=this.h[1],A=this.h[2],E=this.h[3],_=this.h[4];for(u=0;u<s.length;u++){var k=~~(u/20),R=Ate(o5(p,5),vte(k,y,A,E),_,s[u],wte[k]);_=E,E=A,A=o5(y,30),y=p,p=R}this.h[0]=Zm(this.h[0],p),this.h[1]=Zm(this.h[1],y),this.h[2]=Zm(this.h[2],A),this.h[3]=Zm(this.h[3],E),this.h[4]=Zm(this.h[4],_)};_u.prototype._digest=function(t){return t==="hex"?a1.toHex32(this.h,"big"):a1.split32(this.h,"big")};var l1=y0,Ete=E1,k1=Bu,_te=fb,vf=l1.sum32,kte=l1.sum32_4,Cte=l1.sum32_5,Ste=k1.ch32,Tte=k1.maj32,Mte=k1.s0_256,Rte=k1.s1_256,Bte=k1.g0_256,Ite=k1.g1_256,AI=Ete.BlockHash,Dte=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ku(){if(!(this instanceof ku))return new ku;AI.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Dte,this.W=new Array(64)}l1.inherits(ku,AI);var vI=ku;ku.blockSize=512;ku.outSize=256;ku.hmacStrength=192;ku.padLength=64;ku.prototype._update=function(t,i){for(var s=this.W,u=0;u<16;u++)s[u]=t[i+u];for(;u<s.length;u++)s[u]=kte(Ite(s[u-2]),s[u-7],Bte(s[u-15]),s[u-16]);var p=this.h[0],y=this.h[1],A=this.h[2],E=this.h[3],_=this.h[4],k=this.h[5],R=this.h[6],P=this.h[7];for(_te(this.k.length===s.length),u=0;u<s.length;u++){var B=Cte(P,Rte(_),Ste(_,k,R),this.k[u],s[u]),O=vf(Mte(p),Tte(p,y,A));P=R,R=k,k=_,_=vf(E,B),E=A,A=y,y=p,p=vf(B,O)}this.h[0]=vf(this.h[0],p),this.h[1]=vf(this.h[1],y),this.h[2]=vf(this.h[2],A),this.h[3]=vf(this.h[3],E),this.h[4]=vf(this.h[4],_),this.h[5]=vf(this.h[5],k),this.h[6]=vf(this.h[6],R),this.h[7]=vf(this.h[7],P)};ku.prototype._digest=function(t){return t==="hex"?l1.toHex32(this.h,"big"):l1.split32(this.h,"big")};var kE=y0,wI=vI;function fc(){if(!(this instanceof fc))return new fc;wI.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}kE.inherits(fc,wI);var Pte=fc;fc.blockSize=512;fc.outSize=224;fc.hmacStrength=192;fc.padLength=64;fc.prototype._digest=function(t){return t==="hex"?kE.toHex32(this.h.slice(0,7),"big"):kE.split32(this.h.slice(0,7),"big")};var Ya=y0,Lte=E1,Nte=fb,yu=Ya.rotr64_hi,Au=Ya.rotr64_lo,xI=Ya.shr64_hi,EI=Ya.shr64_lo,oh=Ya.sum64,a5=Ya.sum64_hi,l5=Ya.sum64_lo,Fte=Ya.sum64_4_hi,Ote=Ya.sum64_4_lo,Hte=Ya.sum64_5_hi,Ute=Ya.sum64_5_lo,_I=Lte.BlockHash,Vte=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Of(){if(!(this instanceof Of))return new Of;_I.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Vte,this.W=new Array(160)}Ya.inherits(Of,_I);var kI=Of;Of.blockSize=1024;Of.outSize=512;Of.hmacStrength=192;Of.padLength=128;Of.prototype._prepareBlock=function(t,i){for(var s=this.W,u=0;u<32;u++)s[u]=t[i+u];for(;u<s.length;u+=2){var p=Kte(s[u-4],s[u-3]),y=$te(s[u-4],s[u-3]),A=s[u-14],E=s[u-13],_=Zte(s[u-30],s[u-29]),k=Yte(s[u-30],s[u-29]),R=s[u-32],P=s[u-31];s[u]=Fte(p,y,A,E,_,k,R,P),s[u+1]=Ote(p,y,A,E,_,k,R,P)}};Of.prototype._update=function(t,i){this._prepareBlock(t,i);var s=this.W,u=this.h[0],p=this.h[1],y=this.h[2],A=this.h[3],E=this.h[4],_=this.h[5],k=this.h[6],R=this.h[7],P=this.h[8],B=this.h[9],O=this.h[10],H=this.h[11],z=this.h[12],Y=this.h[13],ee=this.h[14],ue=this.h[15];Nte(this.k.length===s.length);for(var oe=0;oe<s.length;oe+=2){var Ae=ee,be=ue,xe=Xte(P,B),ne=qte(P,B),ae=jte(P,B,O,H,z),ye=Gte(P,B,O,H,z,Y),ge=this.k[oe],we=this.k[oe+1],le=s[oe],ie=s[oe+1],he=Hte(Ae,be,xe,ne,ae,ye,ge,we,le,ie),de=Ute(Ae,be,xe,ne,ae,ye,ge,we,le,ie);Ae=Qte(u,p),be=Jte(u,p),xe=zte(u,p,y,A,E),ne=Wte(u,p,y,A,E,_);var Se=a5(Ae,be,xe,ne),Be=l5(Ae,be,xe,ne);ee=z,ue=Y,z=O,Y=H,O=P,H=B,P=a5(k,R,he,de),B=l5(R,R,he,de),k=E,R=_,E=y,_=A,y=u,A=p,u=a5(he,de,Se,Be),p=l5(he,de,Se,Be)}oh(this.h,0,u,p),oh(this.h,2,y,A),oh(this.h,4,E,_),oh(this.h,6,k,R),oh(this.h,8,P,B),oh(this.h,10,O,H),oh(this.h,12,z,Y),oh(this.h,14,ee,ue)};Of.prototype._digest=function(t){return t==="hex"?Ya.toHex32(this.h,"big"):Ya.split32(this.h,"big")};function jte(l,t,i,s,u){var p=l&i^~l&u;return p<0&&(p+=4294967296),p}function Gte(l,t,i,s,u,p){var y=t&s^~t&p;return y<0&&(y+=4294967296),y}function zte(l,t,i,s,u){var p=l&i^l&u^i&u;return p<0&&(p+=4294967296),p}function Wte(l,t,i,s,u,p){var y=t&s^t&p^s&p;return y<0&&(y+=4294967296),y}function Qte(l,t){var i=yu(l,t,28),s=yu(t,l,2),u=yu(t,l,7),p=i^s^u;return p<0&&(p+=4294967296),p}function Jte(l,t){var i=Au(l,t,28),s=Au(t,l,2),u=Au(t,l,7),p=i^s^u;return p<0&&(p+=4294967296),p}function Xte(l,t){var i=yu(l,t,14),s=yu(l,t,18),u=yu(t,l,9),p=i^s^u;return p<0&&(p+=4294967296),p}function qte(l,t){var i=Au(l,t,14),s=Au(l,t,18),u=Au(t,l,9),p=i^s^u;return p<0&&(p+=4294967296),p}function Zte(l,t){var i=yu(l,t,1),s=yu(l,t,8),u=xI(l,t,7),p=i^s^u;return p<0&&(p+=4294967296),p}function Yte(l,t){var i=Au(l,t,1),s=Au(l,t,8),u=EI(l,t,7),p=i^s^u;return p<0&&(p+=4294967296),p}function Kte(l,t){var i=yu(l,t,19),s=yu(t,l,29),u=xI(l,t,6),p=i^s^u;return p<0&&(p+=4294967296),p}function $te(l,t){var i=Au(l,t,19),s=Au(t,l,29),u=EI(l,t,6),p=i^s^u;return p<0&&(p+=4294967296),p}var CE=y0,CI=kI;function uc(){if(!(this instanceof uc))return new uc;CI.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}CE.inherits(uc,CI);var eie=uc;uc.blockSize=1024;uc.outSize=384;uc.hmacStrength=192;uc.padLength=128;uc.prototype._digest=function(t){return t==="hex"?CE.toHex32(this.h.slice(0,12),"big"):CE.split32(this.h.slice(0,12),"big")};_1.sha1=xte;_1.sha224=Pte;_1.sha256=vI;_1.sha384=eie;_1.sha512=kI;var SI={},$d=y0,tie=E1,cv=$d.rotl32,xM=$d.sum32,Ym=$d.sum32_3,EM=$d.sum32_4,TI=tie.BlockHash;function Cu(){if(!(this instanceof Cu))return new Cu;TI.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}$d.inherits(Cu,TI);SI.ripemd160=Cu;Cu.blockSize=512;Cu.outSize=160;Cu.hmacStrength=192;Cu.padLength=64;Cu.prototype._update=function(t,i){for(var s=this.h[0],u=this.h[1],p=this.h[2],y=this.h[3],A=this.h[4],E=s,_=u,k=p,R=y,P=A,B=0;B<80;B++){var O=xM(cv(EM(s,_M(B,u,p,y),t[nie[B]+i],iie(B)),oie[B]),A);s=A,A=y,y=cv(p,10),p=u,u=O,O=xM(cv(EM(E,_M(79-B,_,k,R),t[sie[B]+i],rie(B)),aie[B]),P),E=P,P=R,R=cv(k,10),k=_,_=O}O=Ym(this.h[1],p,R),this.h[1]=Ym(this.h[2],y,P),this.h[2]=Ym(this.h[3],A,E),this.h[3]=Ym(this.h[4],s,_),this.h[4]=Ym(this.h[0],u,k),this.h[0]=O};Cu.prototype._digest=function(t){return t==="hex"?$d.toHex32(this.h,"little"):$d.split32(this.h,"little")};function _M(l,t,i,s){return l<=15?t^i^s:l<=31?t&i|~t&s:l<=47?(t|~i)^s:l<=63?t&s|i&~s:t^(i|~s)}function iie(l){return l<=15?0:l<=31?1518500249:l<=47?1859775393:l<=63?2400959708:2840853838}function rie(l){return l<=15?1352829926:l<=31?1548603684:l<=47?1836072691:l<=63?2053994217:0}var nie=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],sie=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],oie=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],aie=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],lie=y0,fie=fb;function f1(l,t,i){if(!(this instanceof f1))return new f1(l,t,i);this.Hash=l,this.blockSize=l.blockSize/8,this.outSize=l.outSize/8,this.inner=null,this.outer=null,this._init(lie.toArray(t,i))}var uie=f1;f1.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),fie(t.length<=this.blockSize);for(var i=t.length;i<this.blockSize;i++)t.push(0);for(i=0;i<t.length;i++)t[i]^=54;for(this.inner=new this.Hash().update(t),i=0;i<t.length;i++)t[i]^=106;this.outer=new this.Hash().update(t)};f1.prototype.update=function(t,i){return this.inner.update(t,i),this};f1.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};(function(l){var t=l;t.utils=y0,t.common=E1,t.sha=_1,t.ripemd=SI,t.hmac=uie,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(uI);var au=uI;function C1(l,t,i){return i={path:t,exports:{},require:function(s,u){return cie(s,u==null?i.path:u)}},l(i,i.exports),i.exports}function cie(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var t_=MI;function MI(l,t){if(!l)throw new Error(t||"Assertion failed")}MI.equal=function(t,i,s){if(t!=i)throw new Error(s||"Assertion failed: "+t+" != "+i)};var Bf=C1(function(l,t){var i=t;function s(y,A){if(Array.isArray(y))return y.slice();if(!y)return[];var E=[];if(typeof y!="string"){for(var _=0;_<y.length;_++)E[_]=y[_]|0;return E}if(A==="hex"){y=y.replace(/[^a-z0-9]+/ig,""),y.length%2!==0&&(y="0"+y);for(var _=0;_<y.length;_+=2)E.push(parseInt(y[_]+y[_+1],16))}else for(var _=0;_<y.length;_++){var k=y.charCodeAt(_),R=k>>8,P=k&255;R?E.push(R,P):E.push(P)}return E}i.toArray=s;function u(y){return y.length===1?"0"+y:y}i.zero2=u;function p(y){for(var A="",E=0;E<y.length;E++)A+=u(y[E].toString(16));return A}i.toHex=p,i.encode=function(A,E){return E==="hex"?p(A):A}}),Rl=C1(function(l,t){var i=t;i.assert=t_,i.toArray=Bf.toArray,i.zero2=Bf.zero2,i.toHex=Bf.toHex,i.encode=Bf.encode;function s(E,_,k){var R=new Array(Math.max(E.bitLength(),k)+1);R.fill(0);for(var P=1<<_+1,B=E.clone(),O=0;O<R.length;O++){var H,z=B.andln(P-1);B.isOdd()?(z>(P>>1)-1?H=(P>>1)-z:H=z,B.isubn(H)):H=0,R[O]=H,B.iushrn(1)}return R}i.getNAF=s;function u(E,_){var k=[[],[]];E=E.clone(),_=_.clone();for(var R=0,P=0,B;E.cmpn(-R)>0||_.cmpn(-P)>0;){var O=E.andln(3)+R&3,H=_.andln(3)+P&3;O===3&&(O=-1),H===3&&(H=-1);var z;(O&1)===0?z=0:(B=E.andln(7)+R&7,(B===3||B===5)&&H===2?z=-O:z=O),k[0].push(z);var Y;(H&1)===0?Y=0:(B=_.andln(7)+P&7,(B===3||B===5)&&O===2?Y=-H:Y=H),k[1].push(Y),2*R===z+1&&(R=1-R),2*P===Y+1&&(P=1-P),E.iushrn(1),_.iushrn(1)}return k}i.getJSF=u;function p(E,_,k){var R="_"+_;E.prototype[_]=function(){return this[R]!==void 0?this[R]:this[R]=k.call(this)}}i.cachedProperty=p;function y(E){return typeof E=="string"?i.toArray(E,"hex"):E}i.parseBytes=y;function A(E){return new Vn(E,"hex","le")}i.intFromLE=A}),h4=Rl.getNAF,hie=Rl.getJSF,d4=Rl.assert;function Oh(l,t){this.type=l,this.p=new Vn(t.p,16),this.red=t.prime?Vn.red(t.prime):Vn.mont(this.p),this.zero=new Vn(0).toRed(this.red),this.one=new Vn(1).toRed(this.red),this.two=new Vn(2).toRed(this.red),this.n=t.n&&new Vn(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var c2=Oh;Oh.prototype.point=function(){throw new Error("Not implemented")};Oh.prototype.validate=function(){throw new Error("Not implemented")};Oh.prototype._fixedNafMul=function(t,i){d4(t.precomputed);var s=t._getDoubles(),u=h4(i,1,this._bitLength),p=(1<<s.step+1)-(s.step%2===0?2:1);p/=3;var y=[],A,E;for(A=0;A<u.length;A+=s.step){E=0;for(var _=A+s.step-1;_>=A;_--)E=(E<<1)+u[_];y.push(E)}for(var k=this.jpoint(null,null,null),R=this.jpoint(null,null,null),P=p;P>0;P--){for(A=0;A<y.length;A++)E=y[A],E===P?R=R.mixedAdd(s.points[A]):E===-P&&(R=R.mixedAdd(s.points[A].neg()));k=k.add(R)}return k.toP()};Oh.prototype._wnafMul=function(t,i){var s=4,u=t._getNAFPoints(s);s=u.wnd;for(var p=u.points,y=h4(i,s,this._bitLength),A=this.jpoint(null,null,null),E=y.length-1;E>=0;E--){for(var _=0;E>=0&&y[E]===0;E--)_++;if(E>=0&&_++,A=A.dblp(_),E<0)break;var k=y[E];d4(k!==0),t.type==="affine"?k>0?A=A.mixedAdd(p[k-1>>1]):A=A.mixedAdd(p[-k-1>>1].neg()):k>0?A=A.add(p[k-1>>1]):A=A.add(p[-k-1>>1].neg())}return t.type==="affine"?A.toP():A};Oh.prototype._wnafMulAdd=function(t,i,s,u,p){var y=this._wnafT1,A=this._wnafT2,E=this._wnafT3,_=0,k,R,P;for(k=0;k<u;k++){P=i[k];var B=P._getNAFPoints(t);y[k]=B.wnd,A[k]=B.points}for(k=u-1;k>=1;k-=2){var O=k-1,H=k;if(y[O]!==1||y[H]!==1){E[O]=h4(s[O],y[O],this._bitLength),E[H]=h4(s[H],y[H],this._bitLength),_=Math.max(E[O].length,_),_=Math.max(E[H].length,_);continue}var z=[i[O],null,null,i[H]];i[O].y.cmp(i[H].y)===0?(z[1]=i[O].add(i[H]),z[2]=i[O].toJ().mixedAdd(i[H].neg())):i[O].y.cmp(i[H].y.redNeg())===0?(z[1]=i[O].toJ().mixedAdd(i[H]),z[2]=i[O].add(i[H].neg())):(z[1]=i[O].toJ().mixedAdd(i[H]),z[2]=i[O].toJ().mixedAdd(i[H].neg()));var Y=[-3,-1,-5,-7,0,7,5,1,3],ee=hie(s[O],s[H]);for(_=Math.max(ee[0].length,_),E[O]=new Array(_),E[H]=new Array(_),R=0;R<_;R++){var ue=ee[0][R]|0,oe=ee[1][R]|0;E[O][R]=Y[(ue+1)*3+(oe+1)],E[H][R]=0,A[O]=z}}var Ae=this.jpoint(null,null,null),be=this._wnafT4;for(k=_;k>=0;k--){for(var xe=0;k>=0;){var ne=!0;for(R=0;R<u;R++)be[R]=E[R][k]|0,be[R]!==0&&(ne=!1);if(!ne)break;xe++,k--}if(k>=0&&xe++,Ae=Ae.dblp(xe),k<0)break;for(R=0;R<u;R++){var ae=be[R];ae!==0&&(ae>0?P=A[R][ae-1>>1]:ae<0&&(P=A[R][-ae-1>>1].neg()),P.type==="affine"?Ae=Ae.mixedAdd(P):Ae=Ae.add(P))}}for(k=0;k<u;k++)A[k]=null;return p?Ae:Ae.toP()};function Kl(l,t){this.curve=l,this.type=t,this.precomputed=null}Oh.BasePoint=Kl;Kl.prototype.eq=function(){throw new Error("Not implemented")};Kl.prototype.validate=function(){return this.curve.validate(this)};Oh.prototype.decodePoint=function(t,i){t=Rl.toArray(t,i);var s=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*s){t[0]===6?d4(t[t.length-1]%2===0):t[0]===7&&d4(t[t.length-1]%2===1);var u=this.point(t.slice(1,1+s),t.slice(1+s,1+2*s));return u}else if((t[0]===2||t[0]===3)&&t.length-1===s)return this.pointFromX(t.slice(1,1+s),t[0]===3);throw new Error("Unknown point format")};Kl.prototype.encodeCompressed=function(t){return this.encode(t,!0)};Kl.prototype._encode=function(t){var i=this.curve.p.byteLength(),s=this.getX().toArray("be",i);return t?[this.getY().isEven()?2:3].concat(s):[4].concat(s,this.getY().toArray("be",i))};Kl.prototype.encode=function(t,i){return Rl.encode(this._encode(i),t)};Kl.prototype.precompute=function(t){if(this.precomputed)return this;var i={doubles:null,naf:null,beta:null};return i.naf=this._getNAFPoints(8),i.doubles=this._getDoubles(4,t),i.beta=this._getBeta(),this.precomputed=i,this};Kl.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var i=this.precomputed.doubles;return i?i.points.length>=Math.ceil((t.bitLength()+1)/i.step):!1};Kl.prototype._getDoubles=function(t,i){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var s=[this],u=this,p=0;p<i;p+=t){for(var y=0;y<t;y++)u=u.dbl();s.push(u)}return{step:t,points:s}};Kl.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var i=[this],s=(1<<t)-1,u=s===1?null:this.dbl(),p=1;p<s;p++)i[p]=i[p-1].add(u);return{wnd:t,points:i}};Kl.prototype._getBeta=function(){return null};Kl.prototype.dblp=function(t){for(var i=this,s=0;s<t;s++)i=i.dbl();return i};var i_=C1(function(l){typeof Object.create=="function"?l.exports=function(i,s){s&&(i.super_=s,i.prototype=Object.create(s.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:l.exports=function(i,s){if(s){i.super_=s;var u=function(){};u.prototype=s.prototype,i.prototype=new u,i.prototype.constructor=i}}}),die=Rl.assert;function $l(l){c2.call(this,"short",l),this.a=new Vn(l.a,16).toRed(this.red),this.b=new Vn(l.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(l),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}i_($l,c2);var pie=$l;$l.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var i,s;if(t.beta)i=new Vn(t.beta,16).toRed(this.red);else{var u=this._getEndoRoots(this.p);i=u[0].cmp(u[1])<0?u[0]:u[1],i=i.toRed(this.red)}if(t.lambda)s=new Vn(t.lambda,16);else{var p=this._getEndoRoots(this.n);this.g.mul(p[0]).x.cmp(this.g.x.redMul(i))===0?s=p[0]:(s=p[1],die(this.g.mul(s).x.cmp(this.g.x.redMul(i))===0))}var y;return t.basis?y=t.basis.map(function(A){return{a:new Vn(A.a,16),b:new Vn(A.b,16)}}):y=this._getEndoBasis(s),{beta:i,lambda:s,basis:y}}};$l.prototype._getEndoRoots=function(t){var i=t===this.p?this.red:Vn.mont(t),s=new Vn(2).toRed(i).redInvm(),u=s.redNeg(),p=new Vn(3).toRed(i).redNeg().redSqrt().redMul(s),y=u.redAdd(p).fromRed(),A=u.redSub(p).fromRed();return[y,A]};$l.prototype._getEndoBasis=function(t){for(var i=this.n.ushrn(Math.floor(this.n.bitLength()/2)),s=t,u=this.n.clone(),p=new Vn(1),y=new Vn(0),A=new Vn(0),E=new Vn(1),_,k,R,P,B,O,H,z=0,Y,ee;s.cmpn(0)!==0;){var ue=u.div(s);Y=u.sub(ue.mul(s)),ee=A.sub(ue.mul(p));var oe=E.sub(ue.mul(y));if(!R&&Y.cmp(i)<0)_=H.neg(),k=p,R=Y.neg(),P=ee;else if(R&&++z===2)break;H=Y,u=s,s=Y,A=p,p=ee,E=y,y=oe}B=Y.neg(),O=ee;var Ae=R.sqr().add(P.sqr()),be=B.sqr().add(O.sqr());return be.cmp(Ae)>=0&&(B=_,O=k),R.negative&&(R=R.neg(),P=P.neg()),B.negative&&(B=B.neg(),O=O.neg()),[{a:R,b:P},{a:B,b:O}]};$l.prototype._endoSplit=function(t){var i=this.endo.basis,s=i[0],u=i[1],p=u.b.mul(t).divRound(this.n),y=s.b.neg().mul(t).divRound(this.n),A=p.mul(s.a),E=y.mul(u.a),_=p.mul(s.b),k=y.mul(u.b),R=t.sub(A).sub(E),P=_.add(k).neg();return{k1:R,k2:P}};$l.prototype.pointFromX=function(t,i){t=new Vn(t,16),t.red||(t=t.toRed(this.red));var s=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),u=s.redSqrt();if(u.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var p=u.fromRed().isOdd();return(i&&!p||!i&&p)&&(u=u.redNeg()),this.point(t,u)};$l.prototype.validate=function(t){if(t.inf)return!0;var i=t.x,s=t.y,u=this.a.redMul(i),p=i.redSqr().redMul(i).redIAdd(u).redIAdd(this.b);return s.redSqr().redISub(p).cmpn(0)===0};$l.prototype._endoWnafMulAdd=function(t,i,s){for(var u=this._endoWnafT1,p=this._endoWnafT2,y=0;y<t.length;y++){var A=this._endoSplit(i[y]),E=t[y],_=E._getBeta();A.k1.negative&&(A.k1.ineg(),E=E.neg(!0)),A.k2.negative&&(A.k2.ineg(),_=_.neg(!0)),u[y*2]=E,u[y*2+1]=_,p[y*2]=A.k1,p[y*2+1]=A.k2}for(var k=this._wnafMulAdd(1,u,p,y*2,s),R=0;R<y*2;R++)u[R]=null,p[R]=null;return k};function zo(l,t,i,s){c2.BasePoint.call(this,l,"affine"),t===null&&i===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Vn(t,16),this.y=new Vn(i,16),s&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}i_(zo,c2.BasePoint);$l.prototype.point=function(t,i,s){return new zo(this,t,i,s)};$l.prototype.pointFromJSON=function(t,i){return zo.fromJSON(this,t,i)};zo.prototype._getBeta=function(){if(!!this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var i=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var s=this.curve,u=function(p){return s.point(p.x.redMul(s.endo.beta),p.y)};t.beta=i,i.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(u)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(u)}}}return i}};zo.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};zo.fromJSON=function(t,i,s){typeof i=="string"&&(i=JSON.parse(i));var u=t.point(i[0],i[1],s);if(!i[2])return u;function p(A){return t.point(A[0],A[1],s)}var y=i[2];return u.precomputed={beta:null,doubles:y.doubles&&{step:y.doubles.step,points:[u].concat(y.doubles.points.map(p))},naf:y.naf&&{wnd:y.naf.wnd,points:[u].concat(y.naf.points.map(p))}},u};zo.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};zo.prototype.isInfinity=function(){return this.inf};zo.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var i=this.y.redSub(t.y);i.cmpn(0)!==0&&(i=i.redMul(this.x.redSub(t.x).redInvm()));var s=i.redSqr().redISub(this.x).redISub(t.x),u=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,u)};zo.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var i=this.curve.a,s=this.x.redSqr(),u=t.redInvm(),p=s.redAdd(s).redIAdd(s).redIAdd(i).redMul(u),y=p.redSqr().redISub(this.x.redAdd(this.x)),A=p.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,A)};zo.prototype.getX=function(){return this.x.fromRed()};zo.prototype.getY=function(){return this.y.fromRed()};zo.prototype.mul=function(t){return t=new Vn(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};zo.prototype.mulAdd=function(t,i,s){var u=[this,i],p=[t,s];return this.curve.endo?this.curve._endoWnafMulAdd(u,p):this.curve._wnafMulAdd(1,u,p,2)};zo.prototype.jmulAdd=function(t,i,s){var u=[this,i],p=[t,s];return this.curve.endo?this.curve._endoWnafMulAdd(u,p,!0):this.curve._wnafMulAdd(1,u,p,2,!0)};zo.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};zo.prototype.neg=function(t){if(this.inf)return this;var i=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var s=this.precomputed,u=function(p){return p.neg()};i.precomputed={naf:s.naf&&{wnd:s.naf.wnd,points:s.naf.points.map(u)},doubles:s.doubles&&{step:s.doubles.step,points:s.doubles.points.map(u)}}}return i};zo.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function na(l,t,i,s){c2.BasePoint.call(this,l,"jacobian"),t===null&&i===null&&s===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Vn(0)):(this.x=new Vn(t,16),this.y=new Vn(i,16),this.z=new Vn(s,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}i_(na,c2.BasePoint);$l.prototype.jpoint=function(t,i,s){return new na(this,t,i,s)};na.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),i=t.redSqr(),s=this.x.redMul(i),u=this.y.redMul(i).redMul(t);return this.curve.point(s,u)};na.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};na.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var i=t.z.redSqr(),s=this.z.redSqr(),u=this.x.redMul(i),p=t.x.redMul(s),y=this.y.redMul(i.redMul(t.z)),A=t.y.redMul(s.redMul(this.z)),E=u.redSub(p),_=y.redSub(A);if(E.cmpn(0)===0)return _.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var k=E.redSqr(),R=k.redMul(E),P=u.redMul(k),B=_.redSqr().redIAdd(R).redISub(P).redISub(P),O=_.redMul(P.redISub(B)).redISub(y.redMul(R)),H=this.z.redMul(t.z).redMul(E);return this.curve.jpoint(B,O,H)};na.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var i=this.z.redSqr(),s=this.x,u=t.x.redMul(i),p=this.y,y=t.y.redMul(i).redMul(this.z),A=s.redSub(u),E=p.redSub(y);if(A.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var _=A.redSqr(),k=_.redMul(A),R=s.redMul(_),P=E.redSqr().redIAdd(k).redISub(R).redISub(R),B=E.redMul(R.redISub(P)).redISub(p.redMul(k)),O=this.z.redMul(A);return this.curve.jpoint(P,B,O)};na.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var i;if(this.curve.zeroA||this.curve.threeA){var s=this;for(i=0;i<t;i++)s=s.dbl();return s}var u=this.curve.a,p=this.curve.tinv,y=this.x,A=this.y,E=this.z,_=E.redSqr().redSqr(),k=A.redAdd(A);for(i=0;i<t;i++){var R=y.redSqr(),P=k.redSqr(),B=P.redSqr(),O=R.redAdd(R).redIAdd(R).redIAdd(u.redMul(_)),H=y.redMul(P),z=O.redSqr().redISub(H.redAdd(H)),Y=H.redISub(z),ee=O.redMul(Y);ee=ee.redIAdd(ee).redISub(B);var ue=k.redMul(E);i+1<t&&(_=_.redMul(B)),y=z,E=ue,k=ee}return this.curve.jpoint(y,k.redMul(p),E)};na.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};na.prototype._zeroDbl=function(){var t,i,s;if(this.zOne){var u=this.x.redSqr(),p=this.y.redSqr(),y=p.redSqr(),A=this.x.redAdd(p).redSqr().redISub(u).redISub(y);A=A.redIAdd(A);var E=u.redAdd(u).redIAdd(u),_=E.redSqr().redISub(A).redISub(A),k=y.redIAdd(y);k=k.redIAdd(k),k=k.redIAdd(k),t=_,i=E.redMul(A.redISub(_)).redISub(k),s=this.y.redAdd(this.y)}else{var R=this.x.redSqr(),P=this.y.redSqr(),B=P.redSqr(),O=this.x.redAdd(P).redSqr().redISub(R).redISub(B);O=O.redIAdd(O);var H=R.redAdd(R).redIAdd(R),z=H.redSqr(),Y=B.redIAdd(B);Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),t=z.redISub(O).redISub(O),i=H.redMul(O.redISub(t)).redISub(Y),s=this.y.redMul(this.z),s=s.redIAdd(s)}return this.curve.jpoint(t,i,s)};na.prototype._threeDbl=function(){var t,i,s;if(this.zOne){var u=this.x.redSqr(),p=this.y.redSqr(),y=p.redSqr(),A=this.x.redAdd(p).redSqr().redISub(u).redISub(y);A=A.redIAdd(A);var E=u.redAdd(u).redIAdd(u).redIAdd(this.curve.a),_=E.redSqr().redISub(A).redISub(A);t=_;var k=y.redIAdd(y);k=k.redIAdd(k),k=k.redIAdd(k),i=E.redMul(A.redISub(_)).redISub(k),s=this.y.redAdd(this.y)}else{var R=this.z.redSqr(),P=this.y.redSqr(),B=this.x.redMul(P),O=this.x.redSub(R).redMul(this.x.redAdd(R));O=O.redAdd(O).redIAdd(O);var H=B.redIAdd(B);H=H.redIAdd(H);var z=H.redAdd(H);t=O.redSqr().redISub(z),s=this.y.redAdd(this.z).redSqr().redISub(P).redISub(R);var Y=P.redSqr();Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),Y=Y.redIAdd(Y),i=O.redMul(H.redISub(t)).redISub(Y)}return this.curve.jpoint(t,i,s)};na.prototype._dbl=function(){var t=this.curve.a,i=this.x,s=this.y,u=this.z,p=u.redSqr().redSqr(),y=i.redSqr(),A=s.redSqr(),E=y.redAdd(y).redIAdd(y).redIAdd(t.redMul(p)),_=i.redAdd(i);_=_.redIAdd(_);var k=_.redMul(A),R=E.redSqr().redISub(k.redAdd(k)),P=k.redISub(R),B=A.redSqr();B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B);var O=E.redMul(P).redISub(B),H=s.redAdd(s).redMul(u);return this.curve.jpoint(R,O,H)};na.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),i=this.y.redSqr(),s=this.z.redSqr(),u=i.redSqr(),p=t.redAdd(t).redIAdd(t),y=p.redSqr(),A=this.x.redAdd(i).redSqr().redISub(t).redISub(u);A=A.redIAdd(A),A=A.redAdd(A).redIAdd(A),A=A.redISub(y);var E=A.redSqr(),_=u.redIAdd(u);_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var k=p.redIAdd(A).redSqr().redISub(y).redISub(E).redISub(_),R=i.redMul(k);R=R.redIAdd(R),R=R.redIAdd(R);var P=this.x.redMul(E).redISub(R);P=P.redIAdd(P),P=P.redIAdd(P);var B=this.y.redMul(k.redMul(_.redISub(k)).redISub(A.redMul(E)));B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B);var O=this.z.redAdd(A).redSqr().redISub(s).redISub(E);return this.curve.jpoint(P,B,O)};na.prototype.mul=function(t,i){return t=new Vn(t,i),this.curve._wnafMul(this,t)};na.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var i=this.z.redSqr(),s=t.z.redSqr();if(this.x.redMul(s).redISub(t.x.redMul(i)).cmpn(0)!==0)return!1;var u=i.redMul(this.z),p=s.redMul(t.z);return this.y.redMul(p).redISub(t.y.redMul(u)).cmpn(0)===0};na.prototype.eqXToP=function(t){var i=this.z.redSqr(),s=t.toRed(this.curve.red).redMul(i);if(this.x.cmp(s)===0)return!0;for(var u=t.clone(),p=this.curve.redN.redMul(i);;){if(u.iadd(this.curve.n),u.cmp(this.curve.p)>=0)return!1;if(s.redIAdd(p),this.x.cmp(s)===0)return!0}};na.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};na.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var jv=C1(function(l,t){var i=t;i.base=c2,i.short=pie,i.mont=null,i.edwards=null}),Gv=C1(function(l,t){var i=t,s=Rl.assert;function u(A){A.type==="short"?this.curve=new jv.short(A):A.type==="edwards"?this.curve=new jv.edwards(A):this.curve=new jv.mont(A),this.g=this.curve.g,this.n=this.curve.n,this.hash=A.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}i.PresetCurve=u;function p(A,E){Object.defineProperty(i,A,{configurable:!0,enumerable:!0,get:function(){var _=new u(E);return Object.defineProperty(i,A,{configurable:!0,enumerable:!0,value:_}),_}})}p("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:au.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),p("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:au.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),p("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:au.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),p("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:au.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),p("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:au.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),p("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:au.sha256,gRed:!1,g:["9"]}),p("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:au.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var y;try{y=null.crash()}catch{y=void 0}p("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:au.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",y]})});function Ih(l){if(!(this instanceof Ih))return new Ih(l);this.hash=l.hash,this.predResist=!!l.predResist,this.outLen=this.hash.outSize,this.minEntropy=l.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=Bf.toArray(l.entropy,l.entropyEnc||"hex"),i=Bf.toArray(l.nonce,l.nonceEnc||"hex"),s=Bf.toArray(l.pers,l.persEnc||"hex");t_(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,i,s)}var RI=Ih;Ih.prototype._init=function(t,i,s){var u=t.concat(i).concat(s);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var p=0;p<this.V.length;p++)this.K[p]=0,this.V[p]=1;this._update(u),this._reseed=1,this.reseedInterval=281474976710656};Ih.prototype._hmac=function(){return new au.hmac(this.hash,this.K)};Ih.prototype._update=function(t){var i=this._hmac().update(this.V).update([0]);t&&(i=i.update(t)),this.K=i.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())};Ih.prototype.reseed=function(t,i,s,u){typeof i!="string"&&(u=s,s=i,i=null),t=Bf.toArray(t,i),s=Bf.toArray(s,u),t_(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(s||[])),this._reseed=1};Ih.prototype.generate=function(t,i,s,u){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof i!="string"&&(u=s,s=i,i=null),s&&(s=Bf.toArray(s,u||"hex"),this._update(s));for(var p=[];p.length<t;)this.V=this._hmac().update(this.V).digest(),p=p.concat(this.V);var y=p.slice(0,t);return this._update(s),this._reseed++,Bf.encode(y,i)};var SE=Rl.assert;function ma(l,t){this.ec=l,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var r_=ma;ma.fromPublic=function(t,i,s){return i instanceof ma?i:new ma(t,{pub:i,pubEnc:s})};ma.fromPrivate=function(t,i,s){return i instanceof ma?i:new ma(t,{priv:i,privEnc:s})};ma.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ma.prototype.getPublic=function(t,i){return typeof t=="string"&&(i=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),i?this.pub.encode(i,t):this.pub};ma.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};ma.prototype._importPrivate=function(t,i){this.priv=new Vn(t,i||16),this.priv=this.priv.umod(this.ec.curve.n)};ma.prototype._importPublic=function(t,i){if(t.x||t.y){this.ec.curve.type==="mont"?SE(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&SE(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,i)};ma.prototype.derive=function(t){return t.validate()||SE(t.validate(),"public point not validated"),t.mul(this.priv).getX()};ma.prototype.sign=function(t,i,s){return this.ec.sign(t,this,i,s)};ma.prototype.verify=function(t,i){return this.ec.verify(t,i,this)};ma.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var mie=Rl.assert;function ow(l,t){if(l instanceof ow)return l;this._importDER(l,t)||(mie(l.r&&l.s,"Signature without r or s"),this.r=new Vn(l.r,16),this.s=new Vn(l.s,16),l.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=l.recoveryParam)}var aw=ow;function gie(){this.place=0}function f5(l,t){var i=l[t.place++];if(!(i&128))return i;var s=i&15;if(s===0||s>4)return!1;for(var u=0,p=0,y=t.place;p<s;p++,y++)u<<=8,u|=l[y],u>>>=0;return u<=127?!1:(t.place=y,u)}function kM(l){for(var t=0,i=l.length-1;!l[t]&&!(l[t+1]&128)&&t<i;)t++;return t===0?l:l.slice(t)}ow.prototype._importDER=function(t,i){t=Rl.toArray(t,i);var s=new gie;if(t[s.place++]!==48)return!1;var u=f5(t,s);if(u===!1||u+s.place!==t.length||t[s.place++]!==2)return!1;var p=f5(t,s);if(p===!1)return!1;var y=t.slice(s.place,p+s.place);if(s.place+=p,t[s.place++]!==2)return!1;var A=f5(t,s);if(A===!1||t.length!==A+s.place)return!1;var E=t.slice(s.place,A+s.place);if(y[0]===0)if(y[1]&128)y=y.slice(1);else return!1;if(E[0]===0)if(E[1]&128)E=E.slice(1);else return!1;return this.r=new Vn(y),this.s=new Vn(E),this.recoveryParam=null,!0};function u5(l,t){if(t<128){l.push(t);return}var i=1+(Math.log(t)/Math.LN2>>>3);for(l.push(i|128);--i;)l.push(t>>>(i<<3)&255);l.push(t)}ow.prototype.toDER=function(t){var i=this.r.toArray(),s=this.s.toArray();for(i[0]&128&&(i=[0].concat(i)),s[0]&128&&(s=[0].concat(s)),i=kM(i),s=kM(s);!s[0]&&!(s[1]&128);)s=s.slice(1);var u=[2];u5(u,i.length),u=u.concat(i),u.push(2),u5(u,s.length);var p=u.concat(s),y=[48];return u5(y,p.length),y=y.concat(p),Rl.encode(y,t)};var bie=function(){throw new Error("unsupported")},BI=Rl.assert;function Yl(l){if(!(this instanceof Yl))return new Yl(l);typeof l=="string"&&(BI(Object.prototype.hasOwnProperty.call(Gv,l),"Unknown curve "+l),l=Gv[l]),l instanceof Gv.PresetCurve&&(l={curve:l}),this.curve=l.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=l.curve.g,this.g.precompute(l.curve.n.bitLength()+1),this.hash=l.hash||l.curve.hash}var yie=Yl;Yl.prototype.keyPair=function(t){return new r_(this,t)};Yl.prototype.keyFromPrivate=function(t,i){return r_.fromPrivate(this,t,i)};Yl.prototype.keyFromPublic=function(t,i){return r_.fromPublic(this,t,i)};Yl.prototype.genKeyPair=function(t){t||(t={});for(var i=new RI({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||bie(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),s=this.n.byteLength(),u=this.n.sub(new Vn(2));;){var p=new Vn(i.generate(s));if(!(p.cmp(u)>0))return p.iaddn(1),this.keyFromPrivate(p)}};Yl.prototype._truncateToN=function(t,i){var s=t.byteLength()*8-this.n.bitLength();return s>0&&(t=t.ushrn(s)),!i&&t.cmp(this.n)>=0?t.sub(this.n):t};Yl.prototype.sign=function(t,i,s,u){typeof s=="object"&&(u=s,s=null),u||(u={}),i=this.keyFromPrivate(i,s),t=this._truncateToN(new Vn(t,16));for(var p=this.n.byteLength(),y=i.getPrivate().toArray("be",p),A=t.toArray("be",p),E=new RI({hash:this.hash,entropy:y,nonce:A,pers:u.pers,persEnc:u.persEnc||"utf8"}),_=this.n.sub(new Vn(1)),k=0;;k++){var R=u.k?u.k(k):new Vn(E.generate(this.n.byteLength()));if(R=this._truncateToN(R,!0),!(R.cmpn(1)<=0||R.cmp(_)>=0)){var P=this.g.mul(R);if(!P.isInfinity()){var B=P.getX(),O=B.umod(this.n);if(O.cmpn(0)!==0){var H=R.invm(this.n).mul(O.mul(i.getPrivate()).iadd(t));if(H=H.umod(this.n),H.cmpn(0)!==0){var z=(P.getY().isOdd()?1:0)|(B.cmp(O)!==0?2:0);return u.canonical&&H.cmp(this.nh)>0&&(H=this.n.sub(H),z^=1),new aw({r:O,s:H,recoveryParam:z})}}}}}};Yl.prototype.verify=function(t,i,s,u){t=this._truncateToN(new Vn(t,16)),s=this.keyFromPublic(s,u),i=new aw(i,"hex");var p=i.r,y=i.s;if(p.cmpn(1)<0||p.cmp(this.n)>=0||y.cmpn(1)<0||y.cmp(this.n)>=0)return!1;var A=y.invm(this.n),E=A.mul(t).umod(this.n),_=A.mul(p).umod(this.n),k;return this.curve._maxwellTrick?(k=this.g.jmulAdd(E,s.getPublic(),_),k.isInfinity()?!1:k.eqXToP(p)):(k=this.g.mulAdd(E,s.getPublic(),_),k.isInfinity()?!1:k.getX().umod(this.n).cmp(p)===0)};Yl.prototype.recoverPubKey=function(l,t,i,s){BI((3&i)===i,"The recovery param is more than two bits"),t=new aw(t,s);var u=this.n,p=new Vn(l),y=t.r,A=t.s,E=i&1,_=i>>1;if(y.cmp(this.curve.p.umod(this.curve.n))>=0&&_)throw new Error("Unable to find sencond key candinate");_?y=this.curve.pointFromX(y.add(this.curve.n),E):y=this.curve.pointFromX(y,E);var k=t.r.invm(u),R=u.sub(p).mul(k).umod(u),P=A.mul(k).umod(u);return this.g.mulAdd(R,y,P)};Yl.prototype.getKeyRecoveryParam=function(l,t,i,s){if(t=new aw(t,s),t.recoveryParam!==null)return t.recoveryParam;for(var u=0;u<4;u++){var p;try{p=this.recoverPubKey(l,t,u)}catch{continue}if(p.eq(i))return u}throw new Error("Unable to find valid recovery factor")};var Aie=C1(function(l,t){var i=t;i.version="6.5.4",i.utils=Rl,i.rand=function(){throw new Error("unsupported")},i.curve=jv,i.curves=Gv,i.ec=yie,i.eddsa=null}),vie=Aie.ec;const wie="signing-key/5.7.0",TE=new pi(wie);let c5=null;function hu(){return c5||(c5=new vie("secp256k1")),c5}class xie{constructor(t){ar(this,"curve","secp256k1"),ar(this,"privateKey",fn(t)),Yd(this.privateKey)!==32&&TE.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const i=hu().keyFromPrivate(Cn(this.privateKey));ar(this,"publicKey","0x"+i.getPublic(!1,"hex")),ar(this,"compressedPublicKey","0x"+i.getPublic(!0,"hex")),ar(this,"_isSigningKey",!0)}_addPoint(t){const i=hu().keyFromPublic(Cn(this.publicKey)),s=hu().keyFromPublic(Cn(t));return"0x"+i.pub.add(s.pub).encodeCompressed("hex")}signDigest(t){const i=hu().keyFromPrivate(Cn(this.privateKey)),s=Cn(t);s.length!==32&&TE.throwArgumentError("bad digest length","digest",t);const u=i.sign(s,{canonical:!0});return iw({recoveryParam:u.recoveryParam,r:Is("0x"+u.r.toString(16),32),s:Is("0x"+u.s.toString(16),32)})}computeSharedSecret(t){const i=hu().keyFromPrivate(Cn(this.privateKey)),s=hu().keyFromPublic(Cn(II(t)));return Is("0x"+i.derive(s.getPublic()).toString(16),32)}static isSigningKey(t){return!!(t&&t._isSigningKey)}}function Eie(l,t){const i=iw(t),s={r:Cn(i.r),s:Cn(i.s)};return"0x"+hu().recoverPubKey(Cn(l),s,i.recoveryParam).encode("hex",!1)}function II(l,t){const i=Cn(l);if(i.length===32){const s=new xie(i);return t?"0x"+hu().keyFromPrivate(i).getPublic(!0,"hex"):s.publicKey}else{if(i.length===33)return t?fn(i):"0x"+hu().keyFromPublic(i).getPublic(!1,"hex");if(i.length===65)return t?"0x"+hu().keyFromPublic(i).getPublic(!0,"hex"):fn(i)}return TE.throwArgumentError("invalid public or private key","key","[REDACTED]")}const _ie="transactions/5.7.0",pc=new pi(_ie);var CM;(function(l){l[l.legacy=0]="legacy",l[l.eip2930=1]="eip2930",l[l.eip1559=2]="eip1559"})(CM||(CM={}));function n_(l){return l==="0x"?null:ta(l)}function ha(l){return l==="0x"?XB:Er.from(l)}function kie(l){const t=II(l);return ta(ca(Io(ca(t,1)),12))}function DI(l,t){return kie(Eie(Cn(l),t))}function vl(l,t){const i=o1(Er.from(l).toHexString());return i.length>32&&pc.throwArgumentError("invalid length for "+t,"transaction:"+t,l),i}function h5(l,t){return{address:ta(l),storageKeys:(t||[]).map((i,s)=>(Yd(i)!==32&&pc.throwArgumentError("invalid access list storageKey",`accessList[${l}:${s}]`,i),i.toLowerCase()))}}function h2(l){if(Array.isArray(l))return l.map((i,s)=>Array.isArray(i)?(i.length>2&&pc.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${s}]`,i),h5(i[0],i[1])):h5(i.address,i.storageKeys));const t=Object.keys(l).map(i=>{const s=l[i].reduce((u,p)=>(u[p]=!0,u),{});return h5(i,Object.keys(s).sort())});return t.sort((i,s)=>i.address.localeCompare(s.address)),t}function PI(l){return h2(l).map(t=>[t.address,t.storageKeys])}function Cie(l,t){if(l.gasPrice!=null){const s=Er.from(l.gasPrice),u=Er.from(l.maxFeePerGas||0);s.eq(u)||pc.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:s,maxFeePerGas:u})}const i=[vl(l.chainId||0,"chainId"),vl(l.nonce||0,"nonce"),vl(l.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),vl(l.maxFeePerGas||0,"maxFeePerGas"),vl(l.gasLimit||0,"gasLimit"),l.to!=null?ta(l.to):"0x",vl(l.value||0,"value"),l.data||"0x",PI(l.accessList||[])];if(t){const s=iw(t);i.push(vl(s.recoveryParam,"recoveryParam")),i.push(o1(s.r)),i.push(o1(s.s))}return Wa(["0x02",rw(i)])}function Sie(l,t){const i=[vl(l.chainId||0,"chainId"),vl(l.nonce||0,"nonce"),vl(l.gasPrice||0,"gasPrice"),vl(l.gasLimit||0,"gasLimit"),l.to!=null?ta(l.to):"0x",vl(l.value||0,"value"),l.data||"0x",PI(l.accessList||[])];if(t){const s=iw(t);i.push(vl(s.recoveryParam,"recoveryParam")),i.push(o1(s.r)),i.push(o1(s.s))}return Wa(["0x01",rw(i)])}function LI(l,t,i){try{const s=ha(t[0]).toNumber();if(s!==0&&s!==1)throw new Error("bad recid");l.v=s}catch{pc.throwArgumentError("invalid v for transaction type: 1","v",t[0])}l.r=Is(t[1],32),l.s=Is(t[2],32);try{const s=Io(i(l));l.from=DI(s,{r:l.r,s:l.s,recoveryParam:l.v})}catch{}}function Tie(l){const t=K8(l.slice(1));t.length!==9&&t.length!==12&&pc.throwArgumentError("invalid component count for transaction type: 2","payload",fn(l));const i=ha(t[2]),s=ha(t[3]),u={type:2,chainId:ha(t[0]).toNumber(),nonce:ha(t[1]).toNumber(),maxPriorityFeePerGas:i,maxFeePerGas:s,gasPrice:null,gasLimit:ha(t[4]),to:n_(t[5]),value:ha(t[6]),data:t[7],accessList:h2(t[8])};return t.length===9||(u.hash=Io(l),LI(u,t.slice(9),Cie)),u}function Mie(l){const t=K8(l.slice(1));t.length!==8&&t.length!==11&&pc.throwArgumentError("invalid component count for transaction type: 1","payload",fn(l));const i={type:1,chainId:ha(t[0]).toNumber(),nonce:ha(t[1]).toNumber(),gasPrice:ha(t[2]),gasLimit:ha(t[3]),to:n_(t[4]),value:ha(t[5]),data:t[6],accessList:h2(t[7])};return t.length===8||(i.hash=Io(l),LI(i,t.slice(8),Sie)),i}function Rie(l){const t=K8(l);t.length!==9&&t.length!==6&&pc.throwArgumentError("invalid raw transaction","rawTransaction",l);const i={nonce:ha(t[0]).toNumber(),gasPrice:ha(t[1]),gasLimit:ha(t[2]),to:n_(t[3]),value:ha(t[4]),data:t[5],chainId:0};if(t.length===6)return i;try{i.v=Er.from(t[6]).toNumber()}catch{return i}if(i.r=Is(t[7],32),i.s=Is(t[8],32),Er.from(i.r).isZero()&&Er.from(i.s).isZero())i.chainId=i.v,i.v=0;else{i.chainId=Math.floor((i.v-35)/2),i.chainId<0&&(i.chainId=0);let s=i.v-27;const u=t.slice(0,6);i.chainId!==0&&(u.push(fn(i.chainId)),u.push("0x"),u.push("0x"),s-=i.chainId*2+8);const p=Io(rw(u));try{i.from=DI(p,{r:fn(i.r),s:fn(i.s),recoveryParam:s})}catch{}i.hash=Io(l)}return i.type=null,i}function Bie(l){const t=Cn(l);if(t[0]>127)return Rie(t);switch(t[0]){case 1:return Mie(t);case 2:return Tie(t)}return pc.throwError(`unsupported transaction type: ${t[0]}`,pi.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}const Iie="contracts/5.7.0";var e2=globalThis&&globalThis.__awaiter||function(l,t,i,s){function u(p){return p instanceof i?p:new i(function(y){y(p)})}return new(i||(i=Promise))(function(p,y){function A(k){try{_(s.next(k))}catch(R){y(R)}}function E(k){try{_(s.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):u(k.value).then(A,E)}_((s=s.apply(l,t||[])).next())})};const no=new pi(Iie);function p4(l,t){return e2(this,void 0,void 0,function*(){const i=yield t;typeof i!="string"&&no.throwArgumentError("invalid address or ENS name","name",i);try{return ta(i)}catch{}l||no.throwError("a provider or signer is needed to resolve ENS names",pi.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const s=yield l.resolveName(i);return s==null&&no.throwArgumentError("resolver or addr is not configured for ENS name","name",i),s})}function zv(l,t,i){return e2(this,void 0,void 0,function*(){return Array.isArray(i)?yield Promise.all(i.map((s,u)=>zv(l,Array.isArray(t)?t[u]:t[s.name],s))):i.type==="address"?yield p4(l,t):i.type==="tuple"?yield zv(l,t,i.components):i.baseType==="array"?Array.isArray(t)?yield Promise.all(t.map(s=>zv(l,s,i.arrayChildren))):Promise.reject(no.makeError("invalid value for array",pi.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t})}function lw(l,t,i){return e2(this,void 0,void 0,function*(){let s={};i.length===t.inputs.length+1&&typeof i[i.length-1]=="object"&&(s=Rs(i.pop())),no.checkArgumentCount(i.length,t.inputs.length,"passed to contract"),l.signer?s.from?s.from=wo({override:p4(l.signer,s.from),signer:l.signer.getAddress()}).then(_=>e2(this,void 0,void 0,function*(){return ta(_.signer)!==_.override&&no.throwError("Contract with a Signer cannot override from",pi.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),_.override})):s.from=l.signer.getAddress():s.from&&(s.from=p4(l.provider,s.from));const u=yield wo({args:zv(l.signer||l.provider,i,t.inputs),address:l.resolvedAddress,overrides:wo(s)||{}}),p=l.interface.encodeFunctionData(t,u.args),y={data:p,to:u.address},A=u.overrides;if(A.nonce!=null&&(y.nonce=Er.from(A.nonce).toNumber()),A.gasLimit!=null&&(y.gasLimit=Er.from(A.gasLimit)),A.gasPrice!=null&&(y.gasPrice=Er.from(A.gasPrice)),A.maxFeePerGas!=null&&(y.maxFeePerGas=Er.from(A.maxFeePerGas)),A.maxPriorityFeePerGas!=null&&(y.maxPriorityFeePerGas=Er.from(A.maxPriorityFeePerGas)),A.from!=null&&(y.from=A.from),A.type!=null&&(y.type=A.type),A.accessList!=null&&(y.accessList=h2(A.accessList)),y.gasLimit==null&&t.gas!=null){let _=21e3;const k=Cn(p);for(let R=0;R<k.length;R++)_+=4,k[R]&&(_+=64);y.gasLimit=Er.from(t.gas).add(_)}if(A.value){const _=Er.from(A.value);!_.isZero()&&!t.payable&&no.throwError("non-payable method cannot override value",pi.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:s.value}),y.value=_}A.customData&&(y.customData=Rs(A.customData)),A.ccipReadEnabled&&(y.ccipReadEnabled=!!A.ccipReadEnabled),delete s.nonce,delete s.gasLimit,delete s.gasPrice,delete s.from,delete s.value,delete s.type,delete s.accessList,delete s.maxFeePerGas,delete s.maxPriorityFeePerGas,delete s.customData,delete s.ccipReadEnabled;const E=Object.keys(s).filter(_=>s[_]!=null);return E.length&&no.throwError(`cannot override ${E.map(_=>JSON.stringify(_)).join(",")}`,pi.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:E}),y})}function Die(l,t){return function(...i){return lw(l,t,i)}}function Pie(l,t){const i=l.signer||l.provider;return function(...s){return e2(this,void 0,void 0,function*(){i||no.throwError("estimate require a provider or signer",pi.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const u=yield lw(l,t,s);return yield i.estimateGas(u)})}}function Lie(l,t){const i=t.wait.bind(t);t.wait=s=>i(s).then(u=>(u.events=u.logs.map(p=>{let y=qa(p),A=null;try{A=l.interface.parseLog(p)}catch{}return A&&(y.args=A.args,y.decode=(E,_)=>l.interface.decodeEventLog(A.eventFragment,E,_),y.event=A.name,y.eventSignature=A.signature),y.removeListener=()=>l.provider,y.getBlock=()=>l.provider.getBlock(u.blockHash),y.getTransaction=()=>l.provider.getTransaction(u.transactionHash),y.getTransactionReceipt=()=>Promise.resolve(u),y}),u))}function NI(l,t,i){const s=l.signer||l.provider;return function(...u){return e2(this,void 0,void 0,function*(){let p;if(u.length===t.inputs.length+1&&typeof u[u.length-1]=="object"){const E=Rs(u.pop());E.blockTag!=null&&(p=yield E.blockTag),delete E.blockTag,u.push(E)}l.deployTransaction!=null&&(yield l._deployed(p));const y=yield lw(l,t,u),A=yield s.call(y,p);try{let E=l.interface.decodeFunctionResult(t,A);return i&&t.outputs.length===1&&(E=E[0]),E}catch(E){throw E.code===pi.errors.CALL_EXCEPTION&&(E.address=l.address,E.args=u,E.transaction=y),E}})}}function Nie(l,t){return function(...i){return e2(this,void 0,void 0,function*(){l.signer||no.throwError("sending a transaction requires a signer",pi.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),l.deployTransaction!=null&&(yield l._deployed());const s=yield lw(l,t,i),u=yield l.signer.sendTransaction(s);return Lie(l,u),u})}}function SM(l,t,i){return t.constant?NI(l,t,i):Nie(l,t)}function FI(l){return l.address&&(l.topics==null||l.topics.length===0)?"*":(l.address||"*")+"@"+(l.topics?l.topics.map(t=>Array.isArray(t)?t.join("|"):t).join(":"):"")}class Hg{constructor(t,i){ar(this,"tag",t),ar(this,"filter",i),this._listeners=[]}addListener(t,i){this._listeners.push({listener:t,once:i})}removeListener(t){let i=!1;this._listeners=this._listeners.filter(s=>i||s.listener!==t?!0:(i=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(t=>t.listener)}listenerCount(){return this._listeners.length}run(t){const i=this.listenerCount();return this._listeners=this._listeners.filter(s=>{const u=t.slice();return setTimeout(()=>{s.listener.apply(this,u)},0),!s.once}),i}prepareEvent(t){}getEmit(t){return[t]}}class Fie extends Hg{constructor(){super("error",null)}}class TM extends Hg{constructor(t,i,s,u){const p={address:t};let y=i.getEventTopic(s);u?(y!==u[0]&&no.throwArgumentError("topic mismatch","topics",u),p.topics=u.slice()):p.topics=[y],super(FI(p),p),ar(this,"address",t),ar(this,"interface",i),ar(this,"fragment",s)}prepareEvent(t){super.prepareEvent(t),t.event=this.fragment.name,t.eventSignature=this.fragment.format(),t.decode=(i,s)=>this.interface.decodeEventLog(this.fragment,i,s);try{t.args=this.interface.decodeEventLog(this.fragment,t.data,t.topics)}catch(i){t.args=null,t.decodeError=i}}getEmit(t){const i=v$(t.args);if(i.length)throw i[0].error;const s=(t.args||[]).slice();return s.push(t),s}}class MM extends Hg{constructor(t,i){super("*",{address:t}),ar(this,"address",t),ar(this,"interface",i)}prepareEvent(t){super.prepareEvent(t);try{const i=this.interface.parseLog(t);t.event=i.name,t.eventSignature=i.signature,t.decode=(s,u)=>this.interface.decodeEventLog(i.eventFragment,s,u),t.args=i.args}catch{}}}class Oie{constructor(t,i,s){ar(this,"interface",_l(new.target,"getInterface")(i)),s==null?(ar(this,"provider",null),ar(this,"signer",null)):lb.isSigner(s)?(ar(this,"provider",s.provider||null),ar(this,"signer",s)):x1.isProvider(s)?(ar(this,"provider",s),ar(this,"signer",null)):no.throwArgumentError("invalid signer or provider","signerOrProvider",s),ar(this,"callStatic",{}),ar(this,"estimateGas",{}),ar(this,"functions",{}),ar(this,"populateTransaction",{}),ar(this,"filters",{});{const y={};Object.keys(this.interface.events).forEach(A=>{const E=this.interface.events[A];ar(this.filters,A,(..._)=>({address:this.address,topics:this.interface.encodeFilterTopics(E,_)})),y[E.name]||(y[E.name]=[]),y[E.name].push(A)}),Object.keys(y).forEach(A=>{const E=y[A];E.length===1?ar(this.filters,A,this.filters[E[0]]):no.warn(`Duplicate definition of ${A} (${E.join(", ")})`)})}if(ar(this,"_runningEvents",{}),ar(this,"_wrappedEmits",{}),t==null&&no.throwArgumentError("invalid contract address or ENS name","addressOrName",t),ar(this,"address",t),this.provider)ar(this,"resolvedAddress",p4(this.provider,t));else try{ar(this,"resolvedAddress",Promise.resolve(ta(t)))}catch{no.throwError("provider is required to use ENS name as contract address",pi.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(y=>{});const u={},p={};Object.keys(this.interface.functions).forEach(y=>{const A=this.interface.functions[y];if(p[y]){no.warn(`Duplicate ABI entry for ${JSON.stringify(y)}`);return}p[y]=!0;{const E=A.name;u[`%${E}`]||(u[`%${E}`]=[]),u[`%${E}`].push(y)}this[y]==null&&ar(this,y,SM(this,A,!0)),this.functions[y]==null&&ar(this.functions,y,SM(this,A,!1)),this.callStatic[y]==null&&ar(this.callStatic,y,NI(this,A,!0)),this.populateTransaction[y]==null&&ar(this.populateTransaction,y,Die(this,A)),this.estimateGas[y]==null&&ar(this.estimateGas,y,Pie(this,A))}),Object.keys(u).forEach(y=>{const A=u[y];if(A.length>1)return;y=y.substring(1);const E=A[0];try{this[y]==null&&ar(this,y,this[E])}catch{}this.functions[y]==null&&ar(this.functions,y,this.functions[E]),this.callStatic[y]==null&&ar(this.callStatic,y,this.callStatic[E]),this.populateTransaction[y]==null&&ar(this.populateTransaction,y,this.populateTransaction[E]),this.estimateGas[y]==null&&ar(this.estimateGas,y,this.estimateGas[E])})}static getContractAddress(t){return zB(t)}static getInterface(t){return vM.isInterface(t)?t:new vM(t)}deployed(){return this._deployed()}_deployed(t){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,t).then(i=>(i==="0x"&&no.throwError("contract not deployed",pi.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(t){this.signer||no.throwError("sending a transactions require a signer",pi.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const i=Rs(t||{});return["from","to"].forEach(function(s){i[s]!=null&&no.throwError("cannot override "+s,pi.errors.UNSUPPORTED_OPERATION,{operation:s})}),i.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(i))}connect(t){typeof t=="string"&&(t=new e_(t,this.provider));const i=new this.constructor(this.address,this.interface,t);return this.deployTransaction&&ar(i,"deployTransaction",this.deployTransaction),i}attach(t){return new this.constructor(t,this.interface,this.signer||this.provider)}static isIndexed(t){return EE.isIndexed(t)}_normalizeRunningEvent(t){return this._runningEvents[t.tag]?this._runningEvents[t.tag]:t}_getRunningEvent(t){if(typeof t=="string"){if(t==="error")return this._normalizeRunningEvent(new Fie);if(t==="event")return this._normalizeRunningEvent(new Hg("event",null));if(t==="*")return this._normalizeRunningEvent(new MM(this.address,this.interface));const i=this.interface.getEvent(t);return this._normalizeRunningEvent(new TM(this.address,this.interface,i))}if(t.topics&&t.topics.length>0){try{const s=t.topics[0];if(typeof s!="string")throw new Error("invalid topic");const u=this.interface.getEvent(s);return this._normalizeRunningEvent(new TM(this.address,this.interface,u,t.topics))}catch{}const i={address:this.address,topics:t.topics};return this._normalizeRunningEvent(new Hg(FI(i),i))}return this._normalizeRunningEvent(new MM(this.address,this.interface))}_checkRunningEvents(t){if(t.listenerCount()===0){delete this._runningEvents[t.tag];const i=this._wrappedEmits[t.tag];i&&t.filter&&(this.provider.off(t.filter,i),delete this._wrappedEmits[t.tag])}}_wrapEvent(t,i,s){const u=qa(i);return u.removeListener=()=>{!s||(t.removeListener(s),this._checkRunningEvents(t))},u.getBlock=()=>this.provider.getBlock(i.blockHash),u.getTransaction=()=>this.provider.getTransaction(i.transactionHash),u.getTransactionReceipt=()=>this.provider.getTransactionReceipt(i.transactionHash),t.prepareEvent(u),u}_addEventListener(t,i,s){if(this.provider||no.throwError("events require a provider or a signer with a provider",pi.errors.UNSUPPORTED_OPERATION,{operation:"once"}),t.addListener(i,s),this._runningEvents[t.tag]=t,!this._wrappedEmits[t.tag]){const u=p=>{let y=this._wrapEvent(t,p,i);if(y.decodeError==null)try{const A=t.getEmit(y);this.emit(t.filter,...A)}catch(A){y.decodeError=A.error}t.filter!=null&&this.emit("event",y),y.decodeError!=null&&this.emit("error",y.decodeError,y)};this._wrappedEmits[t.tag]=u,t.filter!=null&&this.provider.on(t.filter,u)}}queryFilter(t,i,s){const u=this._getRunningEvent(t),p=Rs(u.filter);return typeof i=="string"&&t0(i,32)?(s!=null&&no.throwArgumentError("cannot specify toBlock with blockhash","toBlock",s),p.blockHash=i):(p.fromBlock=i!=null?i:0,p.toBlock=s!=null?s:"latest"),this.provider.getLogs(p).then(y=>y.map(A=>this._wrapEvent(u,A,null)))}on(t,i){return this._addEventListener(this._getRunningEvent(t),i,!1),this}once(t,i){return this._addEventListener(this._getRunningEvent(t),i,!0),this}emit(t,...i){if(!this.provider)return!1;const s=this._getRunningEvent(t),u=s.run(i)>0;return this._checkRunningEvents(s),u}listenerCount(t){return this.provider?t==null?Object.keys(this._runningEvents).reduce((i,s)=>i+this._runningEvents[s].listenerCount(),0):this._getRunningEvent(t).listenerCount():0}listeners(t){if(!this.provider)return[];if(t==null){const i=[];for(let s in this._runningEvents)this._runningEvents[s].listeners().forEach(u=>{i.push(u)});return i}return this._getRunningEvent(t).listeners()}removeAllListeners(t){if(!this.provider)return this;if(t==null){for(const s in this._runningEvents){const u=this._runningEvents[s];u.removeAllListeners(),this._checkRunningEvents(u)}return this}const i=this._getRunningEvent(t);return i.removeAllListeners(),this._checkRunningEvents(i),this}off(t,i){if(!this.provider)return this;const s=this._getRunningEvent(t);return s.removeListener(i),this._checkRunningEvents(s),this}removeListener(t,i){return this.off(t,i)}}class Hie extends Oie{}class OI{constructor(t){ar(this,"alphabet",t),ar(this,"base",t.length),ar(this,"_alphabetMap",{}),ar(this,"_leader",t.charAt(0));for(let i=0;i<t.length;i++)this._alphabetMap[t.charAt(i)]=i}encode(t){let i=Cn(t);if(i.length===0)return"";let s=[0];for(let p=0;p<i.length;++p){let y=i[p];for(let A=0;A<s.length;++A)y+=s[A]<<8,s[A]=y%this.base,y=y/this.base|0;for(;y>0;)s.push(y%this.base),y=y/this.base|0}let u="";for(let p=0;i[p]===0&&p<i.length-1;++p)u+=this._leader;for(let p=s.length-1;p>=0;--p)u+=this.alphabet[s[p]];return u}decode(t){if(typeof t!="string")throw new TypeError("Expected String");let i=[];if(t.length===0)return new Uint8Array(i);i.push(0);for(let s=0;s<t.length;s++){let u=this._alphabetMap[t[s]];if(u===void 0)throw new Error("Non-base"+this.base+" character");let p=u;for(let y=0;y<i.length;++y)p+=i[y]*this.base,i[y]=p&255,p>>=8;for(;p>0;)i.push(p&255),p>>=8}for(let s=0;t[s]===this._leader&&s<t.length-1;++s)i.push(0);return Cn(new Uint8Array(i.reverse()))}}new OI("abcdefghijklmnopqrstuvwxyz234567");const ME=new OI("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Uie="sha2/5.7.0";new pi(Uie);function RM(l){return"0x"+au.sha256().update(Cn(l)).digest("hex")}function Vie(l){l=l.slice();for(let t=l.length-1;t>0;t--){const i=Math.floor(Math.random()*(t+1)),s=l[t];l[t]=l[i],l[i]=s}return l}const jie="networks/5.7.0",BM=new pi(jie);function Gie(l){return l&&typeof l.renetwork=="function"}function dh(l){const t=function(i,s){s==null&&(s={});const u=[];if(i.InfuraProvider&&s.infura!=="-")try{u.push(new i.InfuraProvider(l,s.infura))}catch{}if(i.EtherscanProvider&&s.etherscan!=="-")try{u.push(new i.EtherscanProvider(l,s.etherscan))}catch{}if(i.AlchemyProvider&&s.alchemy!=="-")try{u.push(new i.AlchemyProvider(l,s.alchemy))}catch{}if(i.PocketProvider&&s.pocket!=="-"){const p=["goerli","ropsten","rinkeby"];try{const y=new i.PocketProvider(l,s.pocket);y.network&&p.indexOf(y.network.name)===-1&&u.push(y)}catch{}}if(i.CloudflareProvider&&s.cloudflare!=="-")try{u.push(new i.CloudflareProvider(l))}catch{}if(i.AnkrProvider&&s.ankr!=="-")try{const p=["ropsten"],y=new i.AnkrProvider(l,s.ankr);y.network&&p.indexOf(y.network.name)===-1&&u.push(y)}catch{}if(u.length===0)return null;if(i.FallbackProvider){let p=1;return s.quorum!=null?p=s.quorum:l==="homestead"&&(p=2),new i.FallbackProvider(u,p)}return u[0]};return t.renetwork=function(i){return dh(i)},t}function m4(l,t){const i=function(s,u){return s.JsonRpcProvider?new s.JsonRpcProvider(l,t):null};return i.renetwork=function(s){return m4(l,s)},i}const IM={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:dh("homestead")},DM={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:dh("ropsten")},PM={chainId:63,name:"classicMordor",_defaultProvider:m4("https://www.ethercluster.com/mordor","classicMordor")},hv={unspecified:{chainId:0,name:"unspecified"},homestead:IM,mainnet:IM,morden:{chainId:2,name:"morden"},ropsten:DM,testnet:DM,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:dh("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:dh("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:dh("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:m4("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:PM,classicTestnet:PM,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:m4("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:dh("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:dh("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function s_(l){if(l==null)return null;if(typeof l=="number"){for(const s in hv){const u=hv[s];if(u.chainId===l)return{name:u.name,chainId:u.chainId,ensAddress:u.ensAddress||null,_defaultProvider:u._defaultProvider||null}}return{chainId:l,name:"unknown"}}if(typeof l=="string"){const s=hv[l];return s==null?null:{name:s.name,chainId:s.chainId,ensAddress:s.ensAddress,_defaultProvider:s._defaultProvider||null}}const t=hv[l.name];if(!t)return typeof l.chainId!="number"&&BM.throwArgumentError("invalid network chainId","network",l),l;l.chainId!==0&&l.chainId!==t.chainId&&BM.throwArgumentError("network chainId mismatch","network",l);let i=l._defaultProvider||null;return i==null&&t._defaultProvider&&(Gie(t._defaultProvider)?i=t._defaultProvider.renetwork(l):i=t._defaultProvider),{name:l.name,chainId:t.chainId,ensAddress:l.ensAddress||t.ensAddress||null,_defaultProvider:i}}const zie="web/5.7.0";var Wie=globalThis&&globalThis.__awaiter||function(l,t,i,s){function u(p){return p instanceof i?p:new i(function(y){y(p)})}return new(i||(i=Promise))(function(p,y){function A(k){try{_(s.next(k))}catch(R){y(R)}}function E(k){try{_(s.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):u(k.value).then(A,E)}_((s=s.apply(l,t||[])).next())})};function Qie(l,t){return Wie(this,void 0,void 0,function*(){t==null&&(t={});const i={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};if(t.skipFetchSetup!==!0&&(i.mode="cors",i.cache="no-cache",i.credentials="same-origin",i.redirect="follow",i.referrer="client"),t.fetchOptions!=null){const y=t.fetchOptions;y.mode&&(i.mode=y.mode),y.cache&&(i.cache=y.cache),y.credentials&&(i.credentials=y.credentials),y.redirect&&(i.redirect=y.redirect),y.referrer&&(i.referrer=y.referrer)}const s=yield fetch(l,i),u=yield s.arrayBuffer(),p={};return s.headers.forEach?s.headers.forEach((y,A)=>{p[A.toLowerCase()]=y}):s.headers.keys().forEach(y=>{p[y.toLowerCase()]=s.headers.get(y)}),{headers:p,statusCode:s.status,statusMessage:s.statusText,body:Cn(new Uint8Array(u))}})}var Jie=globalThis&&globalThis.__awaiter||function(l,t,i,s){function u(p){return p instanceof i?p:new i(function(y){y(p)})}return new(i||(i=Promise))(function(p,y){function A(k){try{_(s.next(k))}catch(R){y(R)}}function E(k){try{_(s.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):u(k.value).then(A,E)}_((s=s.apply(l,t||[])).next())})};const _f=new pi(zie);function LM(l){return new Promise(t=>{setTimeout(t,l)})}function ah(l,t){if(l==null)return null;if(typeof l=="string")return l;if(q8(l)){if(t&&(t.split("/")[0]==="text"||t.split(";")[0].trim()==="application/json"))try{return ab(l)}catch{}return fn(l)}return l}function Xie(l,t,i){const s=typeof l=="object"&&l.throttleLimit!=null?l.throttleLimit:12;_f.assertArgument(s>0&&s%1===0,"invalid connection throttle limit","connection.throttleLimit",s);const u=typeof l=="object"?l.throttleCallback:null,p=typeof l=="object"&&typeof l.throttleSlotInterval=="number"?l.throttleSlotInterval:100;_f.assertArgument(p>0&&p%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",p);const y=typeof l=="object"?!!l.errorPassThrough:!1,A={};let E=null;const _={method:"GET"};let k=!1,R=2*60*1e3;if(typeof l=="string")E=l;else if(typeof l=="object"){if((l==null||l.url==null)&&_f.throwArgumentError("missing URL","connection.url",l),E=l.url,typeof l.timeout=="number"&&l.timeout>0&&(R=l.timeout),l.headers)for(const Y in l.headers)A[Y.toLowerCase()]={key:Y,value:String(l.headers[Y])},["if-none-match","if-modified-since"].indexOf(Y.toLowerCase())>=0&&(k=!0);if(_.allowGzip=!!l.allowGzip,l.user!=null&&l.password!=null){E.substring(0,6)!=="https:"&&l.allowInsecureAuthentication!==!0&&_f.throwError("basic authentication requires a secure https url",pi.errors.INVALID_ARGUMENT,{argument:"url",url:E,user:l.user,password:"[REDACTED]"});const Y=l.user+":"+l.password;A.authorization={key:"Authorization",value:"Basic "+eI(lc(Y))}}l.skipFetchSetup!=null&&(_.skipFetchSetup=!!l.skipFetchSetup),l.fetchOptions!=null&&(_.fetchOptions=Rs(l.fetchOptions))}const P=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),B=E?E.match(P):null;if(B)try{const Y={statusCode:200,statusMessage:"OK",headers:{"content-type":B[1]},body:$B(B[2])};let ee=Y.body;return i&&(ee=i(Y.body,Y)),Promise.resolve(ee)}catch(Y){_f.throwError("processing response error",pi.errors.SERVER_ERROR,{body:ah(B[1],B[2]),error:Y,requestBody:null,requestMethod:"GET",url:E})}t&&(_.method="POST",_.body=t,A["content-type"]==null&&(A["content-type"]={key:"Content-Type",value:"application/octet-stream"}),A["content-length"]==null&&(A["content-length"]={key:"Content-Length",value:String(t.length)}));const O={};Object.keys(A).forEach(Y=>{const ee=A[Y];O[ee.key]=ee.value}),_.headers=O;const H=function(){let Y=null;return{promise:new Promise(function(oe,Ae){R&&(Y=setTimeout(()=>{Y!=null&&(Y=null,Ae(_f.makeError("timeout",pi.errors.TIMEOUT,{requestBody:ah(_.body,O["content-type"]),requestMethod:_.method,timeout:R,url:E})))},R))}),cancel:function(){Y!=null&&(clearTimeout(Y),Y=null)}}}(),z=function(){return Jie(this,void 0,void 0,function*(){for(let Y=0;Y<s;Y++){let ee=null;try{if(ee=yield Qie(E,_),Y<s){if(ee.statusCode===301||ee.statusCode===302){const oe=ee.headers.location||"";if(_.method==="GET"&&oe.match(/^https:/)){E=ee.headers.location;continue}}else if(ee.statusCode===429){let oe=!0;if(u&&(oe=yield u(Y,E)),oe){let Ae=0;const be=ee.headers["retry-after"];typeof be=="string"&&be.match(/^[1-9][0-9]*$/)?Ae=parseInt(be)*1e3:Ae=p*parseInt(String(Math.random()*Math.pow(2,Y))),yield LM(Ae);continue}}}}catch(oe){ee=oe.response,ee==null&&(H.cancel(),_f.throwError("missing response",pi.errors.SERVER_ERROR,{requestBody:ah(_.body,O["content-type"]),requestMethod:_.method,serverError:oe,url:E}))}let ue=ee.body;if(k&&ee.statusCode===304?ue=null:!y&&(ee.statusCode<200||ee.statusCode>=300)&&(H.cancel(),_f.throwError("bad response",pi.errors.SERVER_ERROR,{status:ee.statusCode,headers:ee.headers,body:ah(ue,ee.headers?ee.headers["content-type"]:null),requestBody:ah(_.body,O["content-type"]),requestMethod:_.method,url:E})),i)try{const oe=yield i(ue,ee);return H.cancel(),oe}catch(oe){if(oe.throttleRetry&&Y<s){let Ae=!0;if(u&&(Ae=yield u(Y,E)),Ae){const be=p*parseInt(String(Math.random()*Math.pow(2,Y)));yield LM(be);continue}}H.cancel(),_f.throwError("processing response error",pi.errors.SERVER_ERROR,{body:ah(ue,ee.headers?ee.headers["content-type"]:null),error:oe,requestBody:ah(_.body,O["content-type"]),requestMethod:_.method,url:E})}return H.cancel(),ue}return _f.throwError("failed response",pi.errors.SERVER_ERROR,{requestBody:ah(_.body,O["content-type"]),requestMethod:_.method,url:E})})}();return Promise.race([H.promise,z])}function ub(l,t,i){let s=(p,y)=>{let A=null;if(p!=null)try{A=JSON.parse(ab(p))}catch(E){_f.throwError("invalid JSON",pi.errors.SERVER_ERROR,{body:p,error:E})}return i&&(A=i(A,y)),A},u=null;if(t!=null){u=lc(t);const p=typeof l=="string"?{url:l}:Rs(l);p.headers?Object.keys(p.headers).filter(A=>A.toLowerCase()==="content-type").length!==0||(p.headers=Rs(p.headers),p.headers["content-type"]="application/json"):p.headers={"content-type":"application/json"},l=p}return Xie(l,u,s)}function Tp(l,t){return t||(t={}),t=Rs(t),t.floor==null&&(t.floor=0),t.ceiling==null&&(t.ceiling=1e4),t.interval==null&&(t.interval=250),new Promise(function(i,s){let u=null,p=!1;const y=()=>p?!1:(p=!0,u&&clearTimeout(u),!0);t.timeout&&(u=setTimeout(()=>{y()&&s(new Error("timeout"))},t.timeout));const A=t.retryLimit;let E=0;function _(){return l().then(function(k){if(k!==void 0)y()&&i(k);else if(t.oncePoll)t.oncePoll.once("poll",_);else if(t.onceBlock)t.onceBlock.once("block",_);else if(!p){if(E++,E>A){y()&&s(new Error("retry limit reached"));return}let R=t.interval*parseInt(String(Math.random()*Math.pow(2,E)));R<t.floor&&(R=t.floor),R>t.ceiling&&(R=t.ceiling),setTimeout(_,R)}return null},function(k){y()&&s(k)})}_()})}var g4="qpzry9x8gf2tvdw0s3jn54khce6mua7l",RE={};for(var dv=0;dv<g4.length;dv++){var d5=g4.charAt(dv);if(RE[d5]!==void 0)throw new TypeError(d5+" is ambiguous");RE[d5]=dv}function Dp(l){var t=l>>25;return(l&33554431)<<5^-(t>>0&1)&996825010^-(t>>1&1)&642813549^-(t>>2&1)&513874426^-(t>>3&1)&1027748829^-(t>>4&1)&705979059}function HI(l){for(var t=1,i=0;i<l.length;++i){var s=l.charCodeAt(i);if(s<33||s>126)return"Invalid prefix ("+l+")";t=Dp(t)^s>>5}for(t=Dp(t),i=0;i<l.length;++i){var u=l.charCodeAt(i);t=Dp(t)^u&31}return t}function qie(l,t,i){if(i=i||90,l.length+7+t.length>i)throw new TypeError("Exceeds length limit");l=l.toLowerCase();var s=HI(l);if(typeof s=="string")throw new Error(s);for(var u=l+"1",p=0;p<t.length;++p){var y=t[p];if(y>>5!==0)throw new Error("Non 5-bit word");s=Dp(s)^y,u+=g4.charAt(y)}for(p=0;p<6;++p)s=Dp(s);for(s^=1,p=0;p<6;++p){var A=s>>(5-p)*5&31;u+=g4.charAt(A)}return u}function UI(l,t){if(t=t||90,l.length<8)return l+" too short";if(l.length>t)return"Exceeds length limit";var i=l.toLowerCase(),s=l.toUpperCase();if(l!==i&&l!==s)return"Mixed-case string "+l;l=i;var u=l.lastIndexOf("1");if(u===-1)return"No separator character for "+l;if(u===0)return"Missing prefix for "+l;var p=l.slice(0,u),y=l.slice(u+1);if(y.length<6)return"Data too short";var A=HI(p);if(typeof A=="string")return A;for(var E=[],_=0;_<y.length;++_){var k=y.charAt(_),R=RE[k];if(R===void 0)return"Unknown character "+k;A=Dp(A)^R,!(_+6>=y.length)&&E.push(R)}return A!==1?"Invalid checksum for "+l:{prefix:p,words:E}}function Zie(){var l=UI.apply(null,arguments);if(typeof l=="object")return l}function Yie(l){var t=UI.apply(null,arguments);if(typeof t=="object")return t;throw new Error(t)}function fw(l,t,i,s){for(var u=0,p=0,y=(1<<i)-1,A=[],E=0;E<l.length;++E)for(u=u<<t|l[E],p+=t;p>=i;)p-=i,A.push(u>>p&y);if(s)p>0&&A.push(u<<i-p&y);else{if(p>=t)return"Excess padding";if(u<<i-p&y)return"Non-zero padding"}return A}function Kie(l){var t=fw(l,8,5,!0);if(Array.isArray(t))return t}function $ie(l){var t=fw(l,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)}function ere(l){var t=fw(l,5,8,!1);if(Array.isArray(t))return t}function tre(l){var t=fw(l,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}var ire={decodeUnsafe:Zie,decode:Yie,encode:qie,toWordsUnsafe:Kie,toWords:$ie,fromWordsUnsafe:ere,fromWords:tre},NM=ire;const ba="providers/5.7.0",Km=new pi(ba);class Kr{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const t={},i=this.address.bind(this),s=this.bigNumber.bind(this),u=this.blockTag.bind(this),p=this.data.bind(this),y=this.hash.bind(this),A=this.hex.bind(this),E=this.number.bind(this),_=this.type.bind(this),k=R=>this.data(R,!0);return t.transaction={hash:y,type:_,accessList:Kr.allowNull(this.accessList.bind(this),null),blockHash:Kr.allowNull(y,null),blockNumber:Kr.allowNull(E,null),transactionIndex:Kr.allowNull(E,null),confirmations:Kr.allowNull(E,null),from:i,gasPrice:Kr.allowNull(s),maxPriorityFeePerGas:Kr.allowNull(s),maxFeePerGas:Kr.allowNull(s),gasLimit:s,to:Kr.allowNull(i,null),value:s,nonce:E,data:p,r:Kr.allowNull(this.uint256),s:Kr.allowNull(this.uint256),v:Kr.allowNull(E),creates:Kr.allowNull(i,null),raw:Kr.allowNull(p)},t.transactionRequest={from:Kr.allowNull(i),nonce:Kr.allowNull(E),gasLimit:Kr.allowNull(s),gasPrice:Kr.allowNull(s),maxPriorityFeePerGas:Kr.allowNull(s),maxFeePerGas:Kr.allowNull(s),to:Kr.allowNull(i),value:Kr.allowNull(s),data:Kr.allowNull(k),type:Kr.allowNull(E),accessList:Kr.allowNull(this.accessList.bind(this),null)},t.receiptLog={transactionIndex:E,blockNumber:E,transactionHash:y,address:i,topics:Kr.arrayOf(y),data:p,logIndex:E,blockHash:y},t.receipt={to:Kr.allowNull(this.address,null),from:Kr.allowNull(this.address,null),contractAddress:Kr.allowNull(i,null),transactionIndex:E,root:Kr.allowNull(A),gasUsed:s,logsBloom:Kr.allowNull(p),blockHash:y,transactionHash:y,logs:Kr.arrayOf(this.receiptLog.bind(this)),blockNumber:E,confirmations:Kr.allowNull(E,null),cumulativeGasUsed:s,effectiveGasPrice:Kr.allowNull(s),status:Kr.allowNull(E),type:_},t.block={hash:Kr.allowNull(y),parentHash:y,number:E,timestamp:E,nonce:Kr.allowNull(A),difficulty:this.difficulty.bind(this),gasLimit:s,gasUsed:s,miner:Kr.allowNull(i),extraData:p,transactions:Kr.allowNull(Kr.arrayOf(y)),baseFeePerGas:Kr.allowNull(s)},t.blockWithTransactions=Rs(t.block),t.blockWithTransactions.transactions=Kr.allowNull(Kr.arrayOf(this.transactionResponse.bind(this))),t.filter={fromBlock:Kr.allowNull(u,void 0),toBlock:Kr.allowNull(u,void 0),blockHash:Kr.allowNull(y,void 0),address:Kr.allowNull(i,void 0),topics:Kr.allowNull(this.topics.bind(this),void 0)},t.filterLog={blockNumber:Kr.allowNull(E),blockHash:Kr.allowNull(y),transactionIndex:E,removed:Kr.allowNull(this.boolean.bind(this)),address:i,data:Kr.allowFalsish(p,"0x"),topics:Kr.arrayOf(y),transactionHash:y,logIndex:E},t}accessList(t){return h2(t||[])}number(t){return t==="0x"?0:Er.from(t).toNumber()}type(t){return t==="0x"||t==null?0:Er.from(t).toNumber()}bigNumber(t){return Er.from(t)}boolean(t){if(typeof t=="boolean")return t;if(typeof t=="string"){if(t=t.toLowerCase(),t==="true")return!0;if(t==="false")return!1}throw new Error("invalid boolean - "+t)}hex(t,i){return typeof t=="string"&&(!i&&t.substring(0,2)!=="0x"&&(t="0x"+t),t0(t))?t.toLowerCase():Km.throwArgumentError("invalid hash","value",t)}data(t,i){const s=this.hex(t,i);if(s.length%2!==0)throw new Error("invalid data; odd-length - "+t);return s}address(t){return ta(t)}callAddress(t){if(!t0(t,32))return null;const i=ta(ca(t,12));return i===P$?null:i}contractAddress(t){return zB(t)}blockTag(t){if(t==null)return"latest";if(t==="earliest")return"0x0";switch(t){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return t}if(typeof t=="number"||t0(t))return tw(t);throw new Error("invalid blockTag")}hash(t,i){const s=this.hex(t,i);return Yd(s)!==32?Km.throwArgumentError("invalid hash","value",t):s}difficulty(t){if(t==null)return null;const i=Er.from(t);try{return i.toNumber()}catch{}return null}uint256(t){if(!t0(t))throw new Error("invalid uint256");return Is(t,32)}_block(t,i){t.author!=null&&t.miner==null&&(t.miner=t.author);const s=t._difficulty!=null?t._difficulty:t.difficulty,u=Kr.check(i,t);return u._difficulty=s==null?null:Er.from(s),u}block(t){return this._block(t,this.formats.block)}blockWithTransactions(t){return this._block(t,this.formats.blockWithTransactions)}transactionRequest(t){return Kr.check(this.formats.transactionRequest,t)}transactionResponse(t){t.gas!=null&&t.gasLimit==null&&(t.gasLimit=t.gas),t.to&&Er.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),t.input!=null&&t.data==null&&(t.data=t.input),t.to==null&&t.creates==null&&(t.creates=this.contractAddress(t)),(t.type===1||t.type===2)&&t.accessList==null&&(t.accessList=[]);const i=Kr.check(this.formats.transaction,t);if(t.chainId!=null){let s=t.chainId;t0(s)&&(s=Er.from(s).toNumber()),i.chainId=s}else{let s=t.networkId;s==null&&i.v==null&&(s=t.chainId),t0(s)&&(s=Er.from(s).toNumber()),typeof s!="number"&&i.v!=null&&(s=(i.v-35)/2,s<0&&(s=0),s=parseInt(s)),typeof s!="number"&&(s=0),i.chainId=s}return i.blockHash&&i.blockHash.replace(/0/g,"")==="x"&&(i.blockHash=null),i}transaction(t){return Bie(t)}receiptLog(t){return Kr.check(this.formats.receiptLog,t)}receipt(t){const i=Kr.check(this.formats.receipt,t);if(i.root!=null)if(i.root.length<=4){const s=Er.from(i.root).toNumber();s===0||s===1?(i.status!=null&&i.status!==s&&Km.throwArgumentError("alt-root-status/status mismatch","value",{root:i.root,status:i.status}),i.status=s,delete i.root):Km.throwArgumentError("invalid alt-root-status","value.root",i.root)}else i.root.length!==66&&Km.throwArgumentError("invalid root hash","value.root",i.root);return i.status!=null&&(i.byzantium=!0),i}topics(t){return Array.isArray(t)?t.map(i=>this.topics(i)):t!=null?this.hash(t,!0):null}filter(t){return Kr.check(this.formats.filter,t)}filterLog(t){return Kr.check(this.formats.filterLog,t)}static check(t,i){const s={};for(const u in t)try{const p=t[u](i[u]);p!==void 0&&(s[u]=p)}catch(p){throw p.checkKey=u,p.checkValue=i[u],p}return s}static allowNull(t,i){return function(s){return s==null?i:t(s)}}static allowFalsish(t,i){return function(s){return s?t(s):i}}static arrayOf(t){return function(i){if(!Array.isArray(i))throw new Error("not an array");const s=[];return i.forEach(function(u){s.push(t(u))}),s}}}function VI(l){return l&&typeof l.isCommunityResource=="function"}function BE(l){return VI(l)&&l.isCommunityResource()}let FM=!1;function cb(){FM||(FM=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var Nn=globalThis&&globalThis.__awaiter||function(l,t,i,s){function u(p){return p instanceof i?p:new i(function(y){y(p)})}return new(i||(i=Promise))(function(p,y){function A(k){try{_(s.next(k))}catch(R){y(R)}}function E(k){try{_(s.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):u(k.value).then(A,E)}_((s=s.apply(l,t||[])).next())})};const o0=new pi(ba),rre=10;function OM(l){return l==null?"null":(Yd(l)!==32&&o0.throwArgumentError("invalid topic","topic",l),l.toLowerCase())}function HM(l){for(l=l.slice();l.length>0&&l[l.length-1]==null;)l.pop();return l.map(t=>{if(Array.isArray(t)){const i={};t.forEach(u=>{i[OM(u)]=!0});const s=Object.keys(i);return s.sort(),s.join("|")}else return OM(t)}).join("&")}function nre(l){return l===""?[]:l.split(/&/g).map(t=>{if(t==="")return[];const i=t.split("|").map(s=>s==="null"?null:s);return i.length===1?i[0]:i})}function bp(l){if(typeof l=="string"){if(l=l.toLowerCase(),Yd(l)===32)return"tx:"+l;if(l.indexOf(":")===-1)return l}else{if(Array.isArray(l))return"filter:*:"+HM(l);if(Lee.isForkEvent(l))throw o0.warn("not implemented"),new Error("not implemented");if(l&&typeof l=="object")return"filter:"+(l.address||"*")+":"+HM(l.topics||[])}throw new Error("invalid event - "+l)}function $m(){return new Date().getTime()}function UM(l){return new Promise(t=>{setTimeout(t,l)})}const sre=["block","network","pending","poll"];class ore{constructor(t,i,s){ar(this,"tag",t),ar(this,"listener",i),ar(this,"once",s),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const t=this.tag.split(":");return t[0]!=="tx"?null:t[1]}get filter(){const t=this.tag.split(":");if(t[0]!=="filter")return null;const i=t[1],s=nre(t[2]),u={};return s.length>0&&(u.topics=s),i&&i!=="*"&&(u.address=i),u}pollable(){return this.tag.indexOf(":")>=0||sre.indexOf(this.tag)>=0}}const are={"0":{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},"2":{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},"3":{symbol:"doge",p2pkh:30,p2sh:22},"60":{symbol:"eth",ilk:"eth"},"61":{symbol:"etc",ilk:"eth"},"700":{symbol:"xdai",ilk:"eth"}};function p5(l){return Is(Er.from(l).toHexString(),32)}function VM(l){return ME.encode(El([l,ca(RM(RM(l)),0,4)]))}const jI=new RegExp("^(ipfs)://(.*)$","i"),jM=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),jI,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Wv(l,t){try{return ab(Ug(l,t))}catch{}return null}function Ug(l,t){if(l==="0x")return null;const i=Er.from(ca(l,t,t+32)).toNumber(),s=Er.from(ca(l,i,i+32)).toNumber();return ca(l,i+32,i+32+s)}function m5(l){return l.match(/^ipfs:\/\/ipfs\//i)?l=l.substring(12):l.match(/^ipfs:\/\//i)?l=l.substring(7):o0.throwArgumentError("unsupported IPFS format","link",l),`https://gateway.ipfs.io/ipfs/${l}`}function GM(l){const t=Cn(l);if(t.length>32)throw new Error("internal; should not happen");const i=new Uint8Array(32);return i.set(t,32-t.length),i}function lre(l){if(l.length%32===0)return l;const t=new Uint8Array(Math.ceil(l.length/32)*32);return t.set(l),t}function GI(l){const t=[];let i=0;for(let s=0;s<l.length;s++)t.push(null),i+=32;for(let s=0;s<l.length;s++){const u=Cn(l[s]);t[s]=GM(i),t.push(GM(u.length)),t.push(lre(u)),i+=32+Math.ceil(u.length/32)*32}return Wa(t)}class IE{constructor(t,i,s,u){ar(this,"provider",t),ar(this,"name",s),ar(this,"address",t.formatter.address(i)),ar(this,"_resolvedAddress",u)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(t=>Er.from(t).eq(1)).catch(t=>{if(t.code===pi.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,t})),this._supportsEip2544}_fetch(t,i){return Nn(this,void 0,void 0,function*(){const s={to:this.address,ccipReadEnabled:!0,data:Wa([t,Vv(this.name),i||"0x"])};let u=!1;(yield this.supportsWildcard())&&(u=!0,s.data=Wa(["0x9061b923",GI([vee(this.name),s.data])]));try{let p=yield this.provider.call(s);return Cn(p).length%32===4&&o0.throwError("resolver threw error",pi.errors.CALL_EXCEPTION,{transaction:s,data:p}),u&&(p=Ug(p,0)),p}catch(p){if(p.code===pi.errors.CALL_EXCEPTION)return null;throw p}})}_fetchBytes(t,i){return Nn(this,void 0,void 0,function*(){const s=yield this._fetch(t,i);return s!=null?Ug(s,0):null})}_getAddress(t,i){const s=are[String(t)];if(s==null&&o0.throwError(`unsupported coin type: ${t}`,pi.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`}),s.ilk==="eth")return this.provider.formatter.address(i);const u=Cn(i);if(s.p2pkh!=null){const p=i.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(p){const y=parseInt(p[1],16);if(p[2].length===y*2&&y>=1&&y<=75)return VM(El([[s.p2pkh],"0x"+p[2]]))}}if(s.p2sh!=null){const p=i.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(p){const y=parseInt(p[1],16);if(p[2].length===y*2&&y>=1&&y<=75)return VM(El([[s.p2sh],"0x"+p[2]]))}}if(s.prefix!=null){const p=u[1];let y=u[0];if(y===0?p!==20&&p!==32&&(y=-1):y=-1,y>=0&&u.length===2+p&&p>=1&&p<=75){const A=NM.toWords(u.slice(2));return A.unshift(y),NM.encode(s.prefix,A)}}return null}getAddress(t){return Nn(this,void 0,void 0,function*(){if(t==null&&(t=60),t===60)try{const u=yield this._fetch("0x3b3b57de");return u==="0x"||u===O$?null:this.provider.formatter.callAddress(u)}catch(u){if(u.code===pi.errors.CALL_EXCEPTION)return null;throw u}const i=yield this._fetchBytes("0xf1cb7e06",p5(t));if(i==null||i==="0x")return null;const s=this._getAddress(t,i);return s==null&&o0.throwError("invalid or unsupported coin data",pi.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`,coinType:t,data:i}),s})}getAvatar(){return Nn(this,void 0,void 0,function*(){const t=[{type:"name",content:this.name}];try{const i=yield this.getText("avatar");if(i==null)return null;for(let s=0;s<jM.length;s++){const u=i.match(jM[s]);if(u==null)continue;const p=u[1].toLowerCase();switch(p){case"https":return t.push({type:"url",content:i}),{linkage:t,url:i};case"data":return t.push({type:"data",content:i}),{linkage:t,url:i};case"ipfs":return t.push({type:"ipfs",content:i}),{linkage:t,url:m5(i)};case"erc721":case"erc1155":{const y=p==="erc721"?"0xc87b56dd":"0x0e89341c";t.push({type:p,content:i});const A=this._resolvedAddress||(yield this.getAddress()),E=(u[2]||"").split("/");if(E.length!==2)return null;const _=yield this.provider.formatter.address(E[0]),k=Is(Er.from(E[1]).toHexString(),32);if(p==="erc721"){const H=this.provider.formatter.callAddress(yield this.provider.call({to:_,data:Wa(["0x6352211e",k])}));if(A!==H)return null;t.push({type:"owner",content:H})}else if(p==="erc1155"){const H=Er.from(yield this.provider.call({to:_,data:Wa(["0x00fdd58e",Is(A,32),k])}));if(H.isZero())return null;t.push({type:"balance",content:H.toString()})}const R={to:this.provider.formatter.address(E[0]),data:Wa([y,k])};let P=Wv(yield this.provider.call(R),0);if(P==null)return null;t.push({type:"metadata-url-base",content:P}),p==="erc1155"&&(P=P.replace("{id}",k.substring(2)),t.push({type:"metadata-url-expanded",content:P})),P.match(/^ipfs:/i)&&(P=m5(P)),t.push({type:"metadata-url",content:P});const B=yield ub(P);if(!B)return null;t.push({type:"metadata",content:JSON.stringify(B)});let O=B.image;if(typeof O!="string")return null;if(!O.match(/^(https:\/\/|data:)/i)){if(O.match(jI)==null)return null;t.push({type:"url-ipfs",content:O}),O=m5(O)}return t.push({type:"url",content:O}),{linkage:t,url:O}}}}}catch{}return null})}getContentHash(){return Nn(this,void 0,void 0,function*(){const t=yield this._fetchBytes("0xbc1c58d1");if(t==null||t==="0x")return null;const i=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(i){const y=parseInt(i[3],16);if(i[4].length===y*2)return"ipfs://"+ME.encode("0x"+i[1])}const s=t.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(s){const y=parseInt(s[3],16);if(s[4].length===y*2)return"ipns://"+ME.encode("0x"+s[1])}const u=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(u&&u[1].length===32*2)return"bzz://"+u[1];const p=t.match(/^0x90b2c605([0-9a-f]*)$/);if(p&&p[1].length===34*2){const y={"=":"","+":"-","/":"_"},A=eI("0x"+p[1]).replace(/[=+\/]/g,E=>y[E]);return"sia://"+A}return o0.throwError("invalid or unsupported content hash data",pi.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t})})}getText(t){return Nn(this,void 0,void 0,function*(){let i=lc(t);i=El([p5(64),p5(i.length),i]),i.length%32!==0&&(i=El([i,Is("0x",32-t.length%32)]));const s=yield this._fetchBytes("0x59d1d43c",fn(i));return s==null||s==="0x"?null:ab(s)})}}let g5=null,fre=1;class uw extends x1{constructor(t){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),ar(this,"anyNetwork",t==="any"),this.anyNetwork&&(t=this.detectNetwork()),t instanceof Promise)this._networkPromise=t,t.catch(i=>{}),this._ready().catch(i=>{});else{const i=_l(new.target,"getNetwork")(t);i?(ar(this,"_network",i),this.emit("network",i,null)):o0.throwArgumentError("invalid network","network",t)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Nn(this,void 0,void 0,function*(){if(this._network==null){let t=null;if(this._networkPromise)try{t=yield this._networkPromise}catch{}t==null&&(t=yield this.detectNetwork()),t||o0.throwError("no network detected",pi.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=t:ar(this,"_network",t),this.emit("network",t,null))}return this._network})}get ready(){return Tp(()=>this._ready().then(t=>t,t=>{if(!(t.code===pi.errors.NETWORK_ERROR&&t.event==="noNetwork"))throw t}))}static getFormatter(){return g5==null&&(g5=new Kr),g5}static getNetwork(t){return s_(t==null?"homestead":t)}ccipReadFetch(t,i,s){return Nn(this,void 0,void 0,function*(){if(this.disableCcipRead||s.length===0)return null;const u=t.to.toLowerCase(),p=i.toLowerCase(),y=[];for(let A=0;A<s.length;A++){const E=s[A],_=E.replace("{sender}",u).replace("{data}",p),k=E.indexOf("{data}")>=0?null:JSON.stringify({data:p,sender:u}),R=yield ub({url:_,errorPassThrough:!0},k,(B,O)=>(B.status=O.statusCode,B));if(R.data)return R.data;const P=R.message||"unknown error";if(R.status>=400&&R.status<500)return o0.throwError(`response not found during CCIP fetch: ${P}`,pi.errors.SERVER_ERROR,{url:E,errorMessage:P});y.push(P)}return o0.throwError(`error encountered during CCIP fetch: ${y.map(A=>JSON.stringify(A)).join(", ")}`,pi.errors.SERVER_ERROR,{urls:s,errorMessages:y})})}_getInternalBlockNumber(t){return Nn(this,void 0,void 0,function*(){if(yield this._ready(),t>0)for(;this._internalBlockNumber;){const u=this._internalBlockNumber;try{const p=yield u;if($m()-p.respTime<=t)return p.blockNumber;break}catch{if(this._internalBlockNumber===u)break}}const i=$m(),s=wo({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(u=>null,u=>u)}).then(({blockNumber:u,networkError:p})=>{if(p)throw this._internalBlockNumber===s&&(this._internalBlockNumber=null),p;const y=$m();return u=Er.from(u).toNumber(),u<this._maxInternalBlockNumber&&(u=this._maxInternalBlockNumber),this._maxInternalBlockNumber=u,this._setFastBlockNumber(u),{blockNumber:u,reqTime:i,respTime:y}});return this._internalBlockNumber=s,s.catch(u=>{this._internalBlockNumber===s&&(this._internalBlockNumber=null)}),(yield s).blockNumber})}poll(){return Nn(this,void 0,void 0,function*(){const t=fre++,i=[];let s=null;try{s=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(u){this.emit("error",u);return}if(this._setFastBlockNumber(s),this.emit("poll",t,s),s===this._lastBlockNumber){this.emit("didPoll",t);return}if(this._emitted.block===-2&&(this._emitted.block=s-1),Math.abs(this._emitted.block-s)>1e3)o0.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${s})`),this.emit("error",o0.makeError("network block skew detected",pi.errors.NETWORK_ERROR,{blockNumber:s,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",s);else for(let u=this._emitted.block+1;u<=s;u++)this.emit("block",u);this._emitted.block!==s&&(this._emitted.block=s,Object.keys(this._emitted).forEach(u=>{if(u==="block")return;const p=this._emitted[u];p!=="pending"&&s-p>12&&delete this._emitted[u]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=s-1),this._events.forEach(u=>{switch(u.type){case"tx":{const p=u.hash;let y=this.getTransactionReceipt(p).then(A=>(!A||A.blockNumber==null||(this._emitted["t:"+p]=A.blockNumber,this.emit(p,A)),null)).catch(A=>{this.emit("error",A)});i.push(y);break}case"filter":{if(!u._inflight){u._inflight=!0,u._lastBlockNumber===-2&&(u._lastBlockNumber=s-1);const p=u.filter;p.fromBlock=u._lastBlockNumber+1,p.toBlock=s;const y=p.toBlock-this._maxFilterBlockRange;y>p.fromBlock&&(p.fromBlock=y),p.fromBlock<0&&(p.fromBlock=0);const A=this.getLogs(p).then(E=>{u._inflight=!1,E.length!==0&&E.forEach(_=>{_.blockNumber>u._lastBlockNumber&&(u._lastBlockNumber=_.blockNumber),this._emitted["b:"+_.blockHash]=_.blockNumber,this._emitted["t:"+_.transactionHash]=_.blockNumber,this.emit(p,_)})}).catch(E=>{this.emit("error",E),u._inflight=!1});i.push(A)}break}}}),this._lastBlockNumber=s,Promise.all(i).then(()=>{this.emit("didPoll",t)}).catch(u=>{this.emit("error",u)})})}resetEventsBlock(t){this._lastBlockNumber=t-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Nn(this,void 0,void 0,function*(){return o0.throwError("provider does not support network detection",pi.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Nn(this,void 0,void 0,function*(){const t=yield this._ready(),i=yield this.detectNetwork();if(t.chainId!==i.chainId){if(this.anyNetwork)return this._network=i,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",i,t),yield UM(0),this._network;const s=o0.makeError("underlying network changed",pi.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:i});throw this.emit("error",s),s}return t})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(t=>{this._setFastBlockNumber(t)},t=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(t){t&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!t&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(t){if(typeof t!="number"||t<=0||parseInt(String(t))!=t)throw new Error("invalid polling interval");this._pollingInterval=t,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const t=$m();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then(i=>((this._fastBlockNumber==null||i>this._fastBlockNumber)&&(this._fastBlockNumber=i),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(t){this._fastBlockNumber!=null&&t<this._fastBlockNumber||(this._fastQueryDate=$m(),(this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t,this._fastBlockNumberPromise=Promise.resolve(t)))}waitForTransaction(t,i,s){return Nn(this,void 0,void 0,function*(){return this._waitForTransaction(t,i==null?1:i,s||0,null)})}_waitForTransaction(t,i,s,u){return Nn(this,void 0,void 0,function*(){const p=yield this.getTransactionReceipt(t);return(p?p.confirmations:0)>=i?p:new Promise((y,A)=>{const E=[];let _=!1;const k=function(){return _?!0:(_=!0,E.forEach(P=>{P()}),!1)},R=P=>{P.confirmations<i||k()||y(P)};if(this.on(t,R),E.push(()=>{this.removeListener(t,R)}),u){let P=u.startBlock,B=null;const O=H=>Nn(this,void 0,void 0,function*(){_||(yield UM(1e3),this.getTransactionCount(u.from).then(z=>Nn(this,void 0,void 0,function*(){if(!_){if(z<=u.nonce)P=H;else{{const Y=yield this.getTransaction(t);if(Y&&Y.blockNumber!=null)return}for(B==null&&(B=P-3,B<u.startBlock&&(B=u.startBlock));B<=H;){if(_)return;const Y=yield this.getBlockWithTransactions(B);for(let ee=0;ee<Y.transactions.length;ee++){const ue=Y.transactions[ee];if(ue.hash===t)return;if(ue.from===u.from&&ue.nonce===u.nonce){if(_)return;const oe=yield this.waitForTransaction(ue.hash,i);if(k())return;let Ae="replaced";ue.data===u.data&&ue.to===u.to&&ue.value.eq(u.value)?Ae="repriced":ue.data==="0x"&&ue.from===ue.to&&ue.value.isZero()&&(Ae="cancelled"),A(o0.makeError("transaction was replaced",pi.errors.TRANSACTION_REPLACED,{cancelled:Ae==="replaced"||Ae==="cancelled",reason:Ae,replacement:this._wrapTransaction(ue),hash:t,receipt:oe}));return}}B++}}_||this.once("block",O)}}),z=>{_||this.once("block",O)}))});if(_)return;this.once("block",O),E.push(()=>{this.removeListener("block",O)})}if(typeof s=="number"&&s>0){const P=setTimeout(()=>{k()||A(o0.makeError("timeout exceeded",pi.errors.TIMEOUT,{timeout:s}))},s);P.unref&&P.unref(),E.push(()=>{clearTimeout(P)})}})})}getBlockNumber(){return Nn(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Nn(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield this.perform("getGasPrice",{});try{return Er.from(t)}catch(i){return o0.throwError("bad result from backend",pi.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:i})}})}getBalance(t,i){return Nn(this,void 0,void 0,function*(){yield this.getNetwork();const s=yield wo({address:this._getAddress(t),blockTag:this._getBlockTag(i)}),u=yield this.perform("getBalance",s);try{return Er.from(u)}catch(p){return o0.throwError("bad result from backend",pi.errors.SERVER_ERROR,{method:"getBalance",params:s,result:u,error:p})}})}getTransactionCount(t,i){return Nn(this,void 0,void 0,function*(){yield this.getNetwork();const s=yield wo({address:this._getAddress(t),blockTag:this._getBlockTag(i)}),u=yield this.perform("getTransactionCount",s);try{return Er.from(u).toNumber()}catch(p){return o0.throwError("bad result from backend",pi.errors.SERVER_ERROR,{method:"getTransactionCount",params:s,result:u,error:p})}})}getCode(t,i){return Nn(this,void 0,void 0,function*(){yield this.getNetwork();const s=yield wo({address:this._getAddress(t),blockTag:this._getBlockTag(i)}),u=yield this.perform("getCode",s);try{return fn(u)}catch(p){return o0.throwError("bad result from backend",pi.errors.SERVER_ERROR,{method:"getCode",params:s,result:u,error:p})}})}getStorageAt(t,i,s){return Nn(this,void 0,void 0,function*(){yield this.getNetwork();const u=yield wo({address:this._getAddress(t),blockTag:this._getBlockTag(s),position:Promise.resolve(i).then(y=>tw(y))}),p=yield this.perform("getStorageAt",u);try{return fn(p)}catch(y){return o0.throwError("bad result from backend",pi.errors.SERVER_ERROR,{method:"getStorageAt",params:u,result:p,error:y})}})}_wrapTransaction(t,i,s){if(i!=null&&Yd(i)!==32)throw new Error("invalid response - sendTransaction");const u=t;return i!=null&&t.hash!==i&&o0.throwError("Transaction hash mismatch from Provider.sendTransaction.",pi.errors.UNKNOWN_ERROR,{expectedHash:t.hash,returnedHash:i}),u.wait=(p,y)=>Nn(this,void 0,void 0,function*(){p==null&&(p=1),y==null&&(y=0);let A;p!==0&&s!=null&&(A={data:t.data,from:t.from,nonce:t.nonce,to:t.to,value:t.value,startBlock:s});const E=yield this._waitForTransaction(t.hash,p,y,A);return E==null&&p===0?null:(this._emitted["t:"+t.hash]=E.blockNumber,E.status===0&&o0.throwError("transaction failed",pi.errors.CALL_EXCEPTION,{transactionHash:t.hash,transaction:t,receipt:E}),E)}),u}sendTransaction(t){return Nn(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Promise.resolve(t).then(p=>fn(p)),s=this.formatter.transaction(t);s.confirmations==null&&(s.confirmations=0);const u=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const p=yield this.perform("sendTransaction",{signedTransaction:i});return this._wrapTransaction(s,p,u)}catch(p){throw p.transaction=s,p.transactionHash=s.hash,p}})}_getTransactionRequest(t){return Nn(this,void 0,void 0,function*(){const i=yield t,s={};return["from","to"].forEach(u=>{i[u]!=null&&(s[u]=Promise.resolve(i[u]).then(p=>p?this._getAddress(p):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(u=>{i[u]!=null&&(s[u]=Promise.resolve(i[u]).then(p=>p?Er.from(p):null))}),["type"].forEach(u=>{i[u]!=null&&(s[u]=Promise.resolve(i[u]).then(p=>p!=null?p:null))}),i.accessList&&(s.accessList=this.formatter.accessList(i.accessList)),["data"].forEach(u=>{i[u]!=null&&(s[u]=Promise.resolve(i[u]).then(p=>p?fn(p):null))}),this.formatter.transactionRequest(yield wo(s))})}_getFilter(t){return Nn(this,void 0,void 0,function*(){t=yield t;const i={};return t.address!=null&&(i.address=this._getAddress(t.address)),["blockHash","topics"].forEach(s=>{t[s]!=null&&(i[s]=t[s])}),["fromBlock","toBlock"].forEach(s=>{t[s]!=null&&(i[s]=this._getBlockTag(t[s]))}),this.formatter.filter(yield wo(i))})}_call(t,i,s){return Nn(this,void 0,void 0,function*(){s>=rre&&o0.throwError("CCIP read exceeded maximum redirections",pi.errors.SERVER_ERROR,{redirects:s,transaction:t});const u=t.to,p=yield this.perform("call",{transaction:t,blockTag:i});if(s>=0&&i==="latest"&&u!=null&&p.substring(0,10)==="0x556f1830"&&Yd(p)%32===4)try{const y=ca(p,4),A=ca(y,0,32);Er.from(A).eq(u)||o0.throwError("CCIP Read sender did not match",pi.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:p});const E=[],_=Er.from(ca(y,32,64)).toNumber(),k=Er.from(ca(y,_,_+32)).toNumber(),R=ca(y,_+32);for(let Y=0;Y<k;Y++){const ee=Wv(R,Y*32);ee==null&&o0.throwError("CCIP Read contained corrupt URL string",pi.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:p}),E.push(ee)}const P=Ug(y,64);Er.from(ca(y,100,128)).isZero()||o0.throwError("CCIP Read callback selector included junk",pi.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:p});const B=ca(y,96,100),O=Ug(y,128),H=yield this.ccipReadFetch(t,P,E);H==null&&o0.throwError("CCIP Read disabled or provided no URLs",pi.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:p});const z={to:u,data:Wa([B,GI([H,O])])};return this._call(z,i,s+1)}catch(y){if(y.code===pi.errors.SERVER_ERROR)throw y}try{return fn(p)}catch(y){return o0.throwError("bad result from backend",pi.errors.SERVER_ERROR,{method:"call",params:{transaction:t,blockTag:i},result:p,error:y})}})}call(t,i){return Nn(this,void 0,void 0,function*(){yield this.getNetwork();const s=yield wo({transaction:this._getTransactionRequest(t),blockTag:this._getBlockTag(i),ccipReadEnabled:Promise.resolve(t.ccipReadEnabled)});return this._call(s.transaction,s.blockTag,s.ccipReadEnabled?0:-1)})}estimateGas(t){return Nn(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield wo({transaction:this._getTransactionRequest(t)}),s=yield this.perform("estimateGas",i);try{return Er.from(s)}catch(u){return o0.throwError("bad result from backend",pi.errors.SERVER_ERROR,{method:"estimateGas",params:i,result:s,error:u})}})}_getAddress(t){return Nn(this,void 0,void 0,function*(){t=yield t,typeof t!="string"&&o0.throwArgumentError("invalid address or ENS name","name",t);const i=yield this.resolveName(t);return i==null&&o0.throwError("ENS name not configured",pi.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(t)})`}),i})}_getBlock(t,i){return Nn(this,void 0,void 0,function*(){yield this.getNetwork(),t=yield t;let s=-128;const u={includeTransactions:!!i};if(t0(t,32))u.blockHash=t;else try{u.blockTag=yield this._getBlockTag(t),t0(u.blockTag)&&(s=parseInt(u.blockTag.substring(2),16))}catch{o0.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",t)}return Tp(()=>Nn(this,void 0,void 0,function*(){const p=yield this.perform("getBlock",u);if(p==null)return u.blockHash!=null&&this._emitted["b:"+u.blockHash]==null||u.blockTag!=null&&s>this._emitted.block?null:void 0;if(i){let y=null;for(let E=0;E<p.transactions.length;E++){const _=p.transactions[E];if(_.blockNumber==null)_.confirmations=0;else if(_.confirmations==null){y==null&&(y=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let k=y-_.blockNumber+1;k<=0&&(k=1),_.confirmations=k}}const A=this.formatter.blockWithTransactions(p);return A.transactions=A.transactions.map(E=>this._wrapTransaction(E)),A}return this.formatter.block(p)}),{oncePoll:this})})}getBlock(t){return this._getBlock(t,!1)}getBlockWithTransactions(t){return this._getBlock(t,!0)}getTransaction(t){return Nn(this,void 0,void 0,function*(){yield this.getNetwork(),t=yield t;const i={transactionHash:this.formatter.hash(t,!0)};return Tp(()=>Nn(this,void 0,void 0,function*(){const s=yield this.perform("getTransaction",i);if(s==null)return this._emitted["t:"+t]==null?null:void 0;const u=this.formatter.transactionResponse(s);if(u.blockNumber==null)u.confirmations=0;else if(u.confirmations==null){let y=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-u.blockNumber+1;y<=0&&(y=1),u.confirmations=y}return this._wrapTransaction(u)}),{oncePoll:this})})}getTransactionReceipt(t){return Nn(this,void 0,void 0,function*(){yield this.getNetwork(),t=yield t;const i={transactionHash:this.formatter.hash(t,!0)};return Tp(()=>Nn(this,void 0,void 0,function*(){const s=yield this.perform("getTransactionReceipt",i);if(s==null)return this._emitted["t:"+t]==null?null:void 0;if(s.blockHash==null)return;const u=this.formatter.receipt(s);if(u.blockNumber==null)u.confirmations=0;else if(u.confirmations==null){let y=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-u.blockNumber+1;y<=0&&(y=1),u.confirmations=y}return u}),{oncePoll:this})})}getLogs(t){return Nn(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield wo({filter:this._getFilter(t)}),s=yield this.perform("getLogs",i);return s.forEach(u=>{u.removed==null&&(u.removed=!1)}),Kr.arrayOf(this.formatter.filterLog.bind(this.formatter))(s)})}getEtherPrice(){return Nn(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(t){return Nn(this,void 0,void 0,function*(){if(t=yield t,typeof t=="number"&&t<0){t%1&&o0.throwArgumentError("invalid BlockTag","blockTag",t);let i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return i+=t,i<0&&(i=0),this.formatter.blockTag(i)}return this.formatter.blockTag(t)})}getResolver(t){return Nn(this,void 0,void 0,function*(){let i=t;for(;;){if(i===""||i==="."||t!=="eth"&&i==="eth")return null;const s=yield this._getResolver(i,"getResolver");if(s!=null){const u=new IE(this,s,t);return i!==t&&!(yield u.supportsWildcard())?null:u}i=i.split(".").slice(1).join(".")}})}_getResolver(t,i){return Nn(this,void 0,void 0,function*(){i==null&&(i="ENS");const s=yield this.getNetwork();s.ensAddress||o0.throwError("network does not support ENS",pi.errors.UNSUPPORTED_OPERATION,{operation:i,network:s.name});try{const u=yield this.call({to:s.ensAddress,data:"0x0178b8bf"+Vv(t).substring(2)});return this.formatter.callAddress(u)}catch{}return null})}resolveName(t){return Nn(this,void 0,void 0,function*(){t=yield t;try{return Promise.resolve(this.formatter.address(t))}catch(s){if(t0(t))throw s}typeof t!="string"&&o0.throwArgumentError("invalid ENS name","name",t);const i=yield this.getResolver(t);return i?yield i.getAddress():null})}lookupAddress(t){return Nn(this,void 0,void 0,function*(){t=yield t,t=this.formatter.address(t);const i=t.substring(2).toLowerCase()+".addr.reverse",s=yield this._getResolver(i,"lookupAddress");if(s==null)return null;const u=Wv(yield this.call({to:s,data:"0x691f3431"+Vv(i).substring(2)}),0);return(yield this.resolveName(u))!=t?null:u})}getAvatar(t){return Nn(this,void 0,void 0,function*(){let i=null;if(t0(t)){const p=this.formatter.address(t).substring(2).toLowerCase()+".addr.reverse",y=yield this._getResolver(p,"getAvatar");if(!y)return null;i=new IE(this,y,p);try{const A=yield i.getAvatar();if(A)return A.url}catch(A){if(A.code!==pi.errors.CALL_EXCEPTION)throw A}try{const A=Wv(yield this.call({to:y,data:"0x691f3431"+Vv(p).substring(2)}),0);i=yield this.getResolver(A)}catch(A){if(A.code!==pi.errors.CALL_EXCEPTION)throw A;return null}}else if(i=yield this.getResolver(t),!i)return null;const s=yield i.getAvatar();return s==null?null:s.url})}perform(t,i){return o0.throwError(t+" not implemented",pi.errors.NOT_IMPLEMENTED,{operation:t})}_startEvent(t){this.polling=this._events.filter(i=>i.pollable()).length>0}_stopEvent(t){this.polling=this._events.filter(i=>i.pollable()).length>0}_addEventListener(t,i,s){const u=new ore(bp(t),i,s);return this._events.push(u),this._startEvent(u),this}on(t,i){return this._addEventListener(t,i,!1)}once(t,i){return this._addEventListener(t,i,!0)}emit(t,...i){let s=!1,u=[],p=bp(t);return this._events=this._events.filter(y=>y.tag!==p?!0:(setTimeout(()=>{y.listener.apply(this,i)},0),s=!0,y.once?(u.push(y),!1):!0)),u.forEach(y=>{this._stopEvent(y)}),s}listenerCount(t){if(!t)return this._events.length;let i=bp(t);return this._events.filter(s=>s.tag===i).length}listeners(t){if(t==null)return this._events.map(s=>s.listener);let i=bp(t);return this._events.filter(s=>s.tag===i).map(s=>s.listener)}off(t,i){if(i==null)return this.removeAllListeners(t);const s=[];let u=!1,p=bp(t);return this._events=this._events.filter(y=>y.tag!==p||y.listener!=i||u?!0:(u=!0,s.push(y),!1)),s.forEach(y=>{this._stopEvent(y)}),this}removeAllListeners(t){let i=[];if(t==null)i=this._events,this._events=[];else{const s=bp(t);this._events=this._events.filter(u=>u.tag!==s?!0:(i.push(u),!1))}return i.forEach(s=>{this._stopEvent(s)}),this}}var ec=globalThis&&globalThis.__awaiter||function(l,t,i,s){function u(p){return p instanceof i?p:new i(function(y){y(p)})}return new(i||(i=Promise))(function(p,y){function A(k){try{_(s.next(k))}catch(R){y(R)}}function E(k){try{_(s.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):u(k.value).then(A,E)}_((s=s.apply(l,t||[])).next())})};const xo=new pi(ba),ure=["call","estimateGas"];function Ag(l,t){if(l==null)return null;if(typeof l.message=="string"&&l.message.match("reverted")){const i=t0(l.data)?l.data:null;if(!t||i)return{message:l.message,data:i}}if(typeof l=="object"){for(const i in l){const s=Ag(l[i],t);if(s)return s}return null}if(typeof l=="string")try{return Ag(JSON.parse(l),t)}catch{}return null}function zI(l,t,i){const s=i.transaction||i.signedTransaction;if(l==="call"){const p=Ag(t,!0);if(p)return p.data;xo.throwError("missing revert data in call exception; Transaction reverted without a reason string",pi.errors.CALL_EXCEPTION,{data:"0x",transaction:s,error:t})}if(l==="estimateGas"){let p=Ag(t.body,!1);p==null&&(p=Ag(t,!1)),p&&xo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",pi.errors.UNPREDICTABLE_GAS_LIMIT,{reason:p.message,method:l,transaction:s,error:t})}let u=t.message;throw t.code===pi.errors.SERVER_ERROR&&t.error&&typeof t.error.message=="string"?u=t.error.message:typeof t.body=="string"?u=t.body:typeof t.responseText=="string"&&(u=t.responseText),u=(u||"").toLowerCase(),u.match(/insufficient funds|base fee exceeds gas limit/i)&&xo.throwError("insufficient funds for intrinsic transaction cost",pi.errors.INSUFFICIENT_FUNDS,{error:t,method:l,transaction:s}),u.match(/nonce (is )?too low/i)&&xo.throwError("nonce has already been used",pi.errors.NONCE_EXPIRED,{error:t,method:l,transaction:s}),u.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&xo.throwError("replacement fee too low",pi.errors.REPLACEMENT_UNDERPRICED,{error:t,method:l,transaction:s}),u.match(/only replay-protected/i)&&xo.throwError("legacy pre-eip-155 transactions not supported",pi.errors.UNSUPPORTED_OPERATION,{error:t,method:l,transaction:s}),ure.indexOf(l)>=0&&u.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&xo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",pi.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:l,transaction:s}),t}function zM(l){return new Promise(function(t){setTimeout(t,l)})}function cre(l){if(l.error){const t=new Error(l.error.message);throw t.code=l.error.code,t.data=l.error.data,t}return l.result}function eg(l){return l&&l.toLowerCase()}const DE={};class o_ extends lb{constructor(t,i,s){if(super(),t!==DE)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");ar(this,"provider",i),s==null&&(s=0),typeof s=="string"?(ar(this,"_address",this.provider.formatter.address(s)),ar(this,"_index",null)):typeof s=="number"?(ar(this,"_index",s),ar(this,"_address",null)):xo.throwArgumentError("invalid address or index","addressOrIndex",s)}connect(t){return xo.throwError("cannot alter JSON-RPC Signer connection",pi.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new hre(DE,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(t=>(t.length<=this._index&&xo.throwError("unknown account #"+this._index,pi.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(t[this._index])))}sendUncheckedTransaction(t){t=Rs(t);const i=this.getAddress().then(s=>(s&&(s=s.toLowerCase()),s));if(t.gasLimit==null){const s=Rs(t);s.from=i,t.gasLimit=this.provider.estimateGas(s)}return t.to!=null&&(t.to=Promise.resolve(t.to).then(s=>ec(this,void 0,void 0,function*(){if(s==null)return null;const u=yield this.provider.resolveName(s);return u==null&&xo.throwArgumentError("provided ENS name resolves to null","tx.to",s),u}))),wo({tx:wo(t),sender:i}).then(({tx:s,sender:u})=>{s.from!=null?s.from.toLowerCase()!==u&&xo.throwArgumentError("from address mismatch","transaction",t):s.from=u;const p=this.provider.constructor.hexlifyTransaction(s,{from:!0});return this.provider.send("eth_sendTransaction",[p]).then(y=>y,y=>(typeof y.message=="string"&&y.message.match(/user denied/i)&&xo.throwError("user rejected transaction",pi.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:s}),zI("sendTransaction",y,p)))})}signTransaction(t){return xo.throwError("signing transactions is unsupported",pi.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(t){return ec(this,void 0,void 0,function*(){const i=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),s=yield this.sendUncheckedTransaction(t);try{return yield Tp(()=>ec(this,void 0,void 0,function*(){const u=yield this.provider.getTransaction(s);if(u!==null)return this.provider._wrapTransaction(u,s,i)}),{oncePoll:this.provider})}catch(u){throw u.transactionHash=s,u}})}signMessage(t){return ec(this,void 0,void 0,function*(){const i=typeof t=="string"?lc(t):t,s=yield this.getAddress();try{return yield this.provider.send("personal_sign",[fn(i),s.toLowerCase()])}catch(u){throw typeof u.message=="string"&&u.message.match(/user denied/i)&&xo.throwError("user rejected signing",pi.errors.ACTION_REJECTED,{action:"signMessage",from:s,message:i}),u}})}_legacySignMessage(t){return ec(this,void 0,void 0,function*(){const i=typeof t=="string"?lc(t):t,s=yield this.getAddress();try{return yield this.provider.send("eth_sign",[s.toLowerCase(),fn(i)])}catch(u){throw typeof u.message=="string"&&u.message.match(/user denied/i)&&xo.throwError("user rejected signing",pi.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:s,message:i}),u}})}_signTypedData(t,i,s){return ec(this,void 0,void 0,function*(){const u=yield yl.resolveNames(t,i,s,y=>this.provider.resolveName(y)),p=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[p.toLowerCase(),JSON.stringify(yl.getPayload(u.domain,i,u.value))])}catch(y){throw typeof y.message=="string"&&y.message.match(/user denied/i)&&xo.throwError("user rejected signing",pi.errors.ACTION_REJECTED,{action:"_signTypedData",from:p,message:{domain:u.domain,types:i,value:u.value}}),y}})}unlock(t){return ec(this,void 0,void 0,function*(){const i=this.provider,s=yield this.getAddress();return i.send("personal_unlockAccount",[s.toLowerCase(),t,null])})}}class hre extends o_{sendTransaction(t){return this.sendUncheckedTransaction(t).then(i=>({hash:i,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:s=>this.provider.waitForTransaction(i,s)}))}}const dre={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class t2 extends uw{constructor(t,i){let s=i;s==null&&(s=new Promise((u,p)=>{setTimeout(()=>{this.detectNetwork().then(y=>{u(y)},y=>{p(y)})},0)})),super(s),t||(t=_l(this.constructor,"defaultUrl")()),typeof t=="string"?ar(this,"connection",Object.freeze({url:t})):ar(this,"connection",Object.freeze(Rs(t))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return ec(this,void 0,void 0,function*(){yield zM(0);let t=null;try{t=yield this.send("eth_chainId",[])}catch{try{t=yield this.send("net_version",[])}catch{}}if(t!=null){const i=_l(this.constructor,"getNetwork");try{return i(Er.from(t).toNumber())}catch(s){return xo.throwError("could not detect network",pi.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:s})}}return xo.throwError("could not detect network",pi.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(t){return new o_(DE,this,t)}getUncheckedSigner(t){return this.getSigner(t).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(t=>t.map(i=>this.formatter.address(i)))}send(t,i){const s={method:t,params:i,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:qa(s),provider:this});const u=["eth_chainId","eth_blockNumber"].indexOf(t)>=0;if(u&&this._cache[t])return this._cache[t];const p=ub(this.connection,JSON.stringify(s),cre).then(y=>(this.emit("debug",{action:"response",request:s,response:y,provider:this}),y),y=>{throw this.emit("debug",{action:"response",error:y,request:s,provider:this}),y});return u&&(this._cache[t]=p,setTimeout(()=>{this._cache[t]=null},0)),p}prepareRequest(t,i){switch(t){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[eg(i.address),i.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[eg(i.address),i.blockTag]];case"getCode":return["eth_getCode",[eg(i.address),i.blockTag]];case"getStorageAt":return["eth_getStorageAt",[eg(i.address),Is(i.position,32),i.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[i.signedTransaction]];case"getBlock":return i.blockTag?["eth_getBlockByNumber",[i.blockTag,!!i.includeTransactions]]:i.blockHash?["eth_getBlockByHash",[i.blockHash,!!i.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[i.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[i.transactionHash]];case"call":{const s=_l(this.constructor,"hexlifyTransaction");return["eth_call",[s(i.transaction,{from:!0}),i.blockTag]]}case"estimateGas":{const s=_l(this.constructor,"hexlifyTransaction");return["eth_estimateGas",[s(i.transaction,{from:!0})]]}case"getLogs":return i.filter&&i.filter.address!=null&&(i.filter.address=eg(i.filter.address)),["eth_getLogs",[i.filter]]}return null}perform(t,i){return ec(this,void 0,void 0,function*(){if(t==="call"||t==="estimateGas"){const u=i.transaction;if(u&&u.type!=null&&Er.from(u.type).isZero()&&u.maxFeePerGas==null&&u.maxPriorityFeePerGas==null){const p=yield this.getFeeData();p.maxFeePerGas==null&&p.maxPriorityFeePerGas==null&&(i=Rs(i),i.transaction=Rs(u),delete i.transaction.type)}}const s=this.prepareRequest(t,i);s==null&&xo.throwError(t+" not implemented",pi.errors.NOT_IMPLEMENTED,{operation:t});try{return yield this.send(s[0],s[1])}catch(u){return zI(t,u,i)}})}_startEvent(t){t.tag==="pending"&&this._startPending(),super._startEvent(t)}_startPending(){if(this._pendingFilter!=null)return;const t=this,i=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=i,i.then(function(s){function u(){t.send("eth_getFilterChanges",[s]).then(function(p){if(t._pendingFilter!=i)return null;let y=Promise.resolve();return p.forEach(function(A){t._emitted["t:"+A.toLowerCase()]="pending",y=y.then(function(){return t.getTransaction(A).then(function(E){return t.emit("pending",E),null})})}),y.then(function(){return zM(1e3)})}).then(function(){if(t._pendingFilter!=i){t.send("eth_uninstallFilter",[s]);return}return setTimeout(function(){u()},0),null}).catch(p=>{})}return u(),s}).catch(s=>{})}_stopEvent(t){t.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(t)}static hexlifyTransaction(t,i){const s=Rs(dre);if(i)for(const p in i)i[p]&&(s[p]=!0);h$(t,s);const u={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(p){if(t[p]==null)return;const y=tw(Er.from(t[p]));p==="gasLimit"&&(p="gas"),u[p]=y}),["from","to","data"].forEach(function(p){t[p]!=null&&(u[p]=fn(t[p]))}),t.accessList&&(u.accessList=h2(t.accessList)),u}}let vg=null;try{if(vg=WebSocket,vg==null)throw new Error("inject please")}catch{const t=new pi(ba);vg=function(){t.throwError("WebSockets not supported in this environment",pi.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var b5=globalThis&&globalThis.__awaiter||function(l,t,i,s){function u(p){return p instanceof i?p:new i(function(y){y(p)})}return new(i||(i=Promise))(function(p,y){function A(k){try{_(s.next(k))}catch(R){y(R)}}function E(k){try{_(s.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):u(k.value).then(A,E)}_((s=s.apply(l,t||[])).next())})};const pv=new pi(ba);let pre=1;class cw extends t2{constructor(t,i){i==="any"&&pv.throwError("WebSocketProvider does not support 'any' network yet",pi.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof t=="string"?super(t,i):super("_websocket",i),this._pollingInterval=-1,this._wsReady=!1,typeof t=="string"?ar(this,"_websocket",new vg(this.connection.url)):ar(this,"_websocket",t),ar(this,"_requests",{}),ar(this,"_subs",{}),ar(this,"_subIds",{}),ar(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(u=>{this.websocket.send(this._requests[u].payload)})},this.websocket.onmessage=u=>{const p=u.data,y=JSON.parse(p);if(y.id!=null){const A=String(y.id),E=this._requests[A];if(delete this._requests[A],y.result!==void 0)E.callback(null,y.result),this.emit("debug",{action:"response",request:JSON.parse(E.payload),response:y.result,provider:this});else{let _=null;y.error?(_=new Error(y.error.message||"unknown error"),ar(_,"code",y.error.code||null),ar(_,"response",p)):_=new Error("unknown error"),E.callback(_,void 0),this.emit("debug",{action:"response",error:_,request:JSON.parse(E.payload),provider:this})}}else if(y.method==="eth_subscription"){const A=this._subs[y.params.subscription];A&&A.processFunc(y.params.result)}else console.warn("this should not happen")};const s=setInterval(()=>{this.emit("poll")},1e3);s.unref&&s.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(t){pv.throwError("cannot reset events block on WebSocketProvider",pi.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(t){pv.throwError("cannot set polling interval on WebSocketProvider",pi.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return b5(this,void 0,void 0,function*(){return null})}set polling(t){!t||pv.throwError("cannot set polling on WebSocketProvider",pi.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(t,i){const s=pre++;return new Promise((u,p)=>{function y(E,_){return E?p(E):u(_)}const A=JSON.stringify({method:t,params:i,id:s,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(A),provider:this}),this._requests[String(s)]={callback:y,payload:A},this._wsReady&&this.websocket.send(A)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(t,i,s){return b5(this,void 0,void 0,function*(){let u=this._subIds[t];u==null&&(u=Promise.all(i).then(y=>this.send("eth_subscribe",y)),this._subIds[t]=u);const p=yield u;this._subs[p]={tag:t,processFunc:s}})}_startEvent(t){switch(t.type){case"block":this._subscribe("block",["newHeads"],i=>{const s=Er.from(i.number).toNumber();this._emitted.block=s,this.emit("block",s)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],i=>{this.emit("pending",i)});break;case"filter":this._subscribe(t.tag,["logs",this._getFilter(t.filter)],i=>{i.removed==null&&(i.removed=!1),this.emit(t.filter,this.formatter.filterLog(i))});break;case"tx":{const i=s=>{const u=s.hash;this.getTransactionReceipt(u).then(p=>{!p||this.emit(u,p)})};i(t),this._subscribe("tx",["newHeads"],s=>{this._events.filter(u=>u.type==="tx").forEach(i)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",t);break}}_stopEvent(t){let i=t.tag;if(t.type==="tx"){if(this._events.filter(u=>u.type==="tx").length)return;i="tx"}else if(this.listenerCount(t.event))return;const s=this._subIds[i];!s||(delete this._subIds[i],s.then(u=>{!this._subs[u]||(delete this._subs[u],this.send("eth_unsubscribe",[u]))}))}destroy(){return b5(this,void 0,void 0,function*(){this.websocket.readyState===vg.CONNECTING&&(yield new Promise(t=>{this.websocket.onopen=function(){t(!0)},this.websocket.onerror=function(){t(!1)}})),this.websocket.close(1e3)})}}var mre=globalThis&&globalThis.__awaiter||function(l,t,i,s){function u(p){return p instanceof i?p:new i(function(y){y(p)})}return new(i||(i=Promise))(function(p,y){function A(k){try{_(s.next(k))}catch(R){y(R)}}function E(k){try{_(s.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):u(k.value).then(A,E)}_((s=s.apply(l,t||[])).next())})};const lg=new pi(ba);class WI extends t2{detectNetwork(){const t=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return mre(this,void 0,void 0,function*(){let i=this.network;return i==null&&(i=yield t.detectNetwork.call(this),i||lg.throwError("no network detected",pi.errors.UNKNOWN_ERROR,{}),this._network==null&&(ar(this,"_network",i),this.emit("network",i,null))),i})}}class mc extends WI{constructor(t,i){lg.checkAbstract(new.target,mc),t=_l(new.target,"getNetwork")(t),i=_l(new.target,"getApiKey")(i);const s=_l(new.target,"getUrl")(t,i);super(s,t),typeof i=="string"?ar(this,"apiKey",i):i!=null&&Object.keys(i).forEach(u=>{ar(this,u,i[u])})}_startPending(){lg.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(t){return lg.throwError("API provider does not support signing",pi.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(t){return t}static getUrl(t,i){return lg.throwError("not implemented; sub-classes must override getUrl",pi.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const WM=new pi(ba),Qv="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class QI extends cw{constructor(t,i){const s=new a_(t,i),u=s.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(u,s.network),ar(this,"apiKey",s.apiKey)}isCommunityResource(){return this.apiKey===Qv}}class a_ extends mc{static getWebSocketProvider(t,i){return new QI(t,i)}static getApiKey(t){return t==null?Qv:(t&&typeof t!="string"&&WM.throwArgumentError("invalid apiKey","apiKey",t),t)}static getUrl(t,i){let s=null;switch(t.name){case"homestead":s="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":s="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":s="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":s="eth-goerli.alchemyapi.io/v2/";break;case"kovan":s="eth-kovan.alchemyapi.io/v2/";break;case"matic":s="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":s="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":s="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-rinkeby":s="arb-rinkeby.g.alchemy.com/v2/";break;case"arbitrum-goerli":s="arb-goerli.g.alchemy.com/v2/";break;case"optimism":s="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-kovan":s="opt-kovan.g.alchemy.com/v2/";break;case"optimism-goerli":s="opt-goerli.g.alchemy.com/v2/";break;default:WM.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+s+i,throttleCallback:(u,p)=>(i===Qv&&cb(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===Qv}}const gre=new pi(ba),mv="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function bre(l){switch(l){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return gre.throwArgumentError("unsupported network","name",l)}class JI extends mc{isCommunityResource(){return this.apiKey===mv}static getApiKey(t){return t==null?mv:t}static getUrl(t,i){i==null&&(i=mv);const s={allowGzip:!0,url:"https://"+bre(t.name)+i,throttleCallback:(u,p)=>(i.apiKey===mv&&cb(),Promise.resolve(!0))};return i.projectSecret!=null&&(s.user="",s.password=i.projectSecret),s}}var yre=globalThis&&globalThis.__awaiter||function(l,t,i,s){function u(p){return p instanceof i?p:new i(function(y){y(p)})}return new(i||(i=Promise))(function(p,y){function A(k){try{_(s.next(k))}catch(R){y(R)}}function E(k){try{_(s.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):u(k.value).then(A,E)}_((s=s.apply(l,t||[])).next())})};const QM=new pi(ba);class XI extends mc{static getApiKey(t){return t!=null&&QM.throwArgumentError("apiKey not supported for cloudflare","apiKey",t),null}static getUrl(t,i){let s=null;switch(t.name){case"homestead":s="https://cloudflare-eth.com/";break;default:QM.throwArgumentError("unsupported network","network",arguments[0])}return s}perform(t,i){const s=Object.create(null,{perform:{get:()=>super.perform}});return yre(this,void 0,void 0,function*(){return t==="getBlockNumber"?(yield s.perform.call(this,"getBlock",{blockTag:"latest"})).number:s.perform.call(this,t,i)})}}var gv=globalThis&&globalThis.__awaiter||function(l,t,i,s){function u(p){return p instanceof i?p:new i(function(y){y(p)})}return new(i||(i=Promise))(function(p,y){function A(k){try{_(s.next(k))}catch(R){y(R)}}function E(k){try{_(s.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):u(k.value).then(A,E)}_((s=s.apply(l,t||[])).next())})};const ph=new pi(ba);function JM(l){const t={};for(let i in l){if(l[i]==null)continue;let s=l[i];i==="type"&&s===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[i]?s=tw(fn(s)):i==="accessList"?s="["+h2(s).map(u=>`{address:"${u.address}",storageKeys:["${u.storageKeys.join('","')}"]}`).join(",")+"]":s=fn(s),t[i]=s)}return t}function Are(l){if(l.status==0&&(l.message==="No records found"||l.message==="No transactions found"))return l.result;if(l.status!=1||typeof l.message!="string"||!l.message.match(/^OK/)){const t=new Error("invalid response");throw t.result=JSON.stringify(l),(l.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return l.result}function XM(l){if(l&&l.status==0&&l.message=="NOTOK"&&(l.result||"").toLowerCase().indexOf("rate limit")>=0){const t=new Error("throttled response");throw t.result=JSON.stringify(l),t.throttleRetry=!0,t}if(l.jsonrpc!="2.0"){const t=new Error("invalid response");throw t.result=JSON.stringify(l),t}if(l.error){const t=new Error(l.error.message||"unknown error");throw l.error.code&&(t.code=l.error.code),l.error.data&&(t.data=l.error.data),t}return l.result}function qM(l){if(l==="pending")throw new Error("pending not supported");return l==="latest"?l:parseInt(l.substring(2),16)}function y5(l,t,i){if(l==="call"&&t.code===pi.errors.SERVER_ERROR){const u=t.error;if(u&&(u.message.match(/reverted/i)||u.message.match(/VM execution error/i))){let p=u.data;if(p&&(p="0x"+p.replace(/^.*0x/i,"")),t0(p))return p;ph.throwError("missing revert data in call exception",pi.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}let s=t.message;throw t.code===pi.errors.SERVER_ERROR&&(t.error&&typeof t.error.message=="string"?s=t.error.message:typeof t.body=="string"?s=t.body:typeof t.responseText=="string"&&(s=t.responseText)),s=(s||"").toLowerCase(),s.match(/insufficient funds/)&&ph.throwError("insufficient funds for intrinsic transaction cost",pi.errors.INSUFFICIENT_FUNDS,{error:t,method:l,transaction:i}),s.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&ph.throwError("nonce has already been used",pi.errors.NONCE_EXPIRED,{error:t,method:l,transaction:i}),s.match(/another transaction with same nonce/)&&ph.throwError("replacement fee too low",pi.errors.REPLACEMENT_UNDERPRICED,{error:t,method:l,transaction:i}),s.match(/execution failed due to an exception|execution reverted/)&&ph.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",pi.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:l,transaction:i}),t}class qI extends uw{constructor(t,i){super(t),ar(this,"baseUrl",this.getBaseUrl()),ar(this,"apiKey",i||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"ropsten":return"https://api-ropsten.etherscan.io";case"rinkeby":return"https://api-rinkeby.etherscan.io";case"kovan":return"https://api-kovan.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-kovan":return"https://api-kovan-optimistic.etherscan.io"}return ph.throwArgumentError("unsupported network","network",this.network.name)}getUrl(t,i){const s=Object.keys(i).reduce((p,y)=>{const A=i[y];return A!=null&&(p+=`&${y}=${A}`),p},""),u=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${t}${s}${u}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(t,i){return i.module=t,i.apikey=this.apiKey,i}fetch(t,i,s){return gv(this,void 0,void 0,function*(){const u=s?this.getPostUrl():this.getUrl(t,i),p=s?this.getPostData(t,i):null,y=t==="proxy"?XM:Are;this.emit("debug",{action:"request",request:u,provider:this});const A={url:u,throttleSlotInterval:1e3,throttleCallback:(k,R)=>(this.isCommunityResource()&&cb(),Promise.resolve(!0))};let E=null;p&&(A.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},E=Object.keys(p).map(k=>`${k}=${p[k]}`).join("&"));const _=yield ub(A,E,y||XM);return this.emit("debug",{action:"response",request:u,response:qa(_),provider:this}),_})}detectNetwork(){return gv(this,void 0,void 0,function*(){return this.network})}perform(t,i){const s=Object.create(null,{perform:{get:()=>super.perform}});return gv(this,void 0,void 0,function*(){switch(t){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:i.address,tag:i.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:i.address,tag:i.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:i.address,tag:i.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:i.address,position:i.position,tag:i.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:i.signedTransaction},!0).catch(u=>y5("sendTransaction",u,i.signedTransaction));case"getBlock":if(i.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:i.blockTag,boolean:i.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:i.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:i.transactionHash});case"call":{if(i.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const u=JM(i.transaction);u.module="proxy",u.action="eth_call";try{return yield this.fetch("proxy",u,!0)}catch(p){return y5("call",p,i.transaction)}}case"estimateGas":{const u=JM(i.transaction);u.module="proxy",u.action="eth_estimateGas";try{return yield this.fetch("proxy",u,!0)}catch(p){return y5("estimateGas",p,i.transaction)}}case"getLogs":{const u={action:"getLogs"};if(i.filter.fromBlock&&(u.fromBlock=qM(i.filter.fromBlock)),i.filter.toBlock&&(u.toBlock=qM(i.filter.toBlock)),i.filter.address&&(u.address=i.filter.address),i.filter.topics&&i.filter.topics.length>0&&(i.filter.topics.length>1&&ph.throwError("unsupported topic count",pi.errors.UNSUPPORTED_OPERATION,{topics:i.filter.topics}),i.filter.topics.length===1)){const A=i.filter.topics[0];(typeof A!="string"||A.length!==66)&&ph.throwError("unsupported topic format",pi.errors.UNSUPPORTED_OPERATION,{topic0:A}),u.topic0=A}const p=yield this.fetch("logs",u);let y={};for(let A=0;A<p.length;A++){const E=p[A];if(E.blockHash==null){if(y[E.blockNumber]==null){const _=yield this.getBlock(E.blockNumber);_&&(y[E.blockNumber]=_.hash)}E.blockHash=y[E.blockNumber]}}return p}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return s.perform.call(this,t,i)})}getHistory(t,i,s){return gv(this,void 0,void 0,function*(){const u={action:"txlist",address:yield this.resolveName(t),startblock:i==null?0:i,endblock:s==null?99999999:s,sort:"asc"};return(yield this.fetch("account",u)).map(y=>{["contractAddress","to"].forEach(function(E){y[E]==""&&delete y[E]}),y.creates==null&&y.contractAddress!=null&&(y.creates=y.contractAddress);const A=this.formatter.transactionResponse(y);return y.timeStamp&&(A.timestamp=parseInt(y.timeStamp)),A})})}isCommunityResource(){return this.apiKey==null}}var b4=globalThis&&globalThis.__awaiter||function(l,t,i,s){function u(p){return p instanceof i?p:new i(function(y){y(p)})}return new(i||(i=Promise))(function(p,y){function A(k){try{_(s.next(k))}catch(R){y(R)}}function E(k){try{_(s.throw(k))}catch(R){y(R)}}function _(k){k.done?p(k.value):u(k.value).then(A,E)}_((s=s.apply(l,t||[])).next())})};const Dd=new pi(ba);function bv(){return new Date().getTime()}function ZM(l){let t=null;for(let i=0;i<l.length;i++){const s=l[i];if(s==null)return null;t?t.name===s.name&&t.chainId===s.chainId&&(t.ensAddress===s.ensAddress||t.ensAddress==null&&s.ensAddress==null)||Dd.throwArgumentError("provider mismatch","networks",l):t=s}return t}function YM(l,t){l=l.slice().sort();const i=Math.floor(l.length/2);if(l.length%2)return l[i];const s=l[i-1],u=l[i];return t!=null&&Math.abs(s-u)>t?null:(s+u)/2}function Mp(l){if(l===null)return"null";if(typeof l=="number"||typeof l=="boolean")return JSON.stringify(l);if(typeof l=="string")return l;if(Er.isBigNumber(l))return l.toString();if(Array.isArray(l))return JSON.stringify(l.map(t=>Mp(t)));if(typeof l=="object"){const t=Object.keys(l);return t.sort(),"{"+t.map(i=>{let s=l[i];return typeof s=="function"?s="[function]":s=Mp(s),JSON.stringify(i)+":"+s}).join(",")+"}"}throw new Error("unknown value type: "+typeof l)}let vre=1;function KM(l){let t=null,i=null,s=new Promise(y=>{t=function(){i&&(clearTimeout(i),i=null),y()},i=setTimeout(t,l)});const u=y=>(s=s.then(y),s);function p(){return s}return{cancel:t,getPromise:p,wait:u}}const wre=[pi.errors.CALL_EXCEPTION,pi.errors.INSUFFICIENT_FUNDS,pi.errors.NONCE_EXPIRED,pi.errors.REPLACEMENT_UNDERPRICED,pi.errors.UNPREDICTABLE_GAS_LIMIT],xre=["address","args","errorArgs","errorSignature","method","transaction"];function yv(l,t){const i={weight:l.weight};return Object.defineProperty(i,"provider",{get:()=>l.provider}),l.start&&(i.start=l.start),t&&(i.duration=t-l.start),l.done&&(l.error?i.error=l.error:i.result=l.result||null),i}function Ere(l,t){return function(i){const s={};i.forEach(p=>{const y=l(p.result);s[y]||(s[y]={count:0,result:p.result}),s[y].count++});const u=Object.keys(s);for(let p=0;p<u.length;p++){const y=s[u[p]];if(y.count>=t)return y.result}}}function _re(l,t,i){let s=Mp;switch(t){case"getBlockNumber":return function(u){const p=u.map(A=>A.result);let y=YM(u.map(A=>A.result),2);if(y!=null)return y=Math.ceil(y),p.indexOf(y+1)>=0&&y++,y>=l._highestBlockNumber&&(l._highestBlockNumber=y),l._highestBlockNumber};case"getGasPrice":return function(u){const p=u.map(y=>y.result);return p.sort(),p[Math.floor(p.length/2)]};case"getEtherPrice":return function(u){return YM(u.map(p=>p.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":s=function(u){return u==null?null:(u=Rs(u),u.confirmations=-1,Mp(u))};break;case"getBlock":i.includeTransactions?s=function(u){return u==null?null:(u=Rs(u),u.transactions=u.transactions.map(p=>(p=Rs(p),p.confirmations=-1,p)),Mp(u))}:s=function(u){return u==null?null:Mp(u)};break;default:throw new Error("unknown method: "+t)}return Ere(s,l.quorum)}function tg(l,t){return b4(this,void 0,void 0,function*(){const i=l.provider;return i.blockNumber!=null&&i.blockNumber>=t||t===-1?i:Tp(()=>new Promise((s,u)=>{setTimeout(function(){return i.blockNumber>=t?s(i):l.cancelled?s(null):s(void 0)},0)}),{oncePoll:i})})}function kre(l,t,i,s){return b4(this,void 0,void 0,function*(){let u=l.provider;switch(i){case"getBlockNumber":case"getGasPrice":return u[i]();case"getEtherPrice":if(u.getEtherPrice)return u.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return s.blockTag&&t0(s.blockTag)&&(u=yield tg(l,t)),u[i](s.address,s.blockTag||"latest");case"getStorageAt":return s.blockTag&&t0(s.blockTag)&&(u=yield tg(l,t)),u.getStorageAt(s.address,s.position,s.blockTag||"latest");case"getBlock":return s.blockTag&&t0(s.blockTag)&&(u=yield tg(l,t)),u[s.includeTransactions?"getBlockWithTransactions":"getBlock"](s.blockTag||s.blockHash);case"call":case"estimateGas":return s.blockTag&&t0(s.blockTag)&&(u=yield tg(l,t)),i==="call"&&s.blockTag?u[i](s.transaction,s.blockTag):u[i](s.transaction);case"getTransaction":case"getTransactionReceipt":return u[i](s.transactionHash);case"getLogs":{let p=s.filter;return(p.fromBlock&&t0(p.fromBlock)||p.toBlock&&t0(p.toBlock))&&(u=yield tg(l,t)),u.getLogs(p)}}return Dd.throwError("unknown method error",pi.errors.UNKNOWN_ERROR,{method:i,params:s})})}class ZI extends uw{constructor(t,i){t.length===0&&Dd.throwArgumentError("missing providers","providers",t);const s=t.map((y,A)=>{if(x1.isProvider(y)){const k=BE(y)?2e3:750;return Object.freeze({provider:y,weight:1,stallTimeout:k,priority:1})}const E=Rs(y);E.priority==null&&(E.priority=1),E.stallTimeout==null&&(E.stallTimeout=BE(y)?2e3:750),E.weight==null&&(E.weight=1);const _=E.weight;return(_%1||_>512||_<1)&&Dd.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${A}].weight`,_),Object.freeze(E)}),u=s.reduce((y,A)=>y+A.weight,0);i==null?i=u/2:i>u&&Dd.throwArgumentError("quorum will always fail; larger than total weight","quorum",i);let p=ZM(s.map(y=>y.provider.network));p==null&&(p=new Promise((y,A)=>{setTimeout(()=>{this.detectNetwork().then(y,A)},0)})),super(p),ar(this,"providerConfigs",Object.freeze(s)),ar(this,"quorum",i),this._highestBlockNumber=-1}detectNetwork(){return b4(this,void 0,void 0,function*(){const t=yield Promise.all(this.providerConfigs.map(i=>i.provider.getNetwork()));return ZM(t)})}perform(t,i){return b4(this,void 0,void 0,function*(){if(t==="sendTransaction"){const E=yield Promise.all(this.providerConfigs.map(_=>_.provider.sendTransaction(i.signedTransaction).then(k=>k.hash,k=>k)));for(let _=0;_<E.length;_++){const k=E[_];if(typeof k=="string")return k}throw E[0]}this._highestBlockNumber===-1&&t!=="getBlockNumber"&&(yield this.getBlockNumber());const s=_re(this,t,i),u=Vie(this.providerConfigs.map(Rs));u.sort((E,_)=>E.priority-_.priority);const p=this._highestBlockNumber;let y=0,A=!0;for(;;){const E=bv();let _=u.filter(B=>B.runner&&E-B.start<B.stallTimeout).reduce((B,O)=>B+O.weight,0);for(;_<this.quorum&&y<u.length;){const B=u[y++],O=vre++;B.start=bv(),B.staller=KM(B.stallTimeout),B.staller.wait(()=>{B.staller=null}),B.runner=kre(B,p,t,i).then(H=>{B.done=!0,B.result=H,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:O,backend:yv(B,bv()),request:{method:t,params:qa(i)},provider:this})},H=>{B.done=!0,B.error=H,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:O,backend:yv(B,bv()),request:{method:t,params:qa(i)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:O,backend:yv(B,null),request:{method:t,params:qa(i)},provider:this}),_+=B.weight}const k=[];u.forEach(B=>{B.done||!B.runner||(k.push(B.runner),B.staller&&k.push(B.staller.getPromise()))}),k.length&&(yield Promise.race(k));const R=u.filter(B=>B.done&&B.error==null);if(R.length>=this.quorum){const B=s(R);if(B!==void 0)return u.forEach(O=>{O.staller&&O.staller.cancel(),O.cancelled=!0}),B;A||(yield KM(100).getPromise()),A=!1}const P=u.reduce((B,O)=>{if(!O.done||O.error==null)return B;const H=O.error.code;return wre.indexOf(H)>=0&&(B[H]||(B[H]={error:O.error,weight:0}),B[H].weight+=O.weight),B},{});if(Object.keys(P).forEach(B=>{const O=P[B];if(O.weight<this.quorum)return;u.forEach(Y=>{Y.staller&&Y.staller.cancel(),Y.cancelled=!0});const H=O.error,z={};xre.forEach(Y=>{H[Y]!=null&&(z[Y]=H[Y])}),Dd.throwError(H.reason||H.message,B,z)}),u.filter(B=>!B.done).length===0)break}return u.forEach(E=>{E.staller&&E.staller.cancel(),E.cancelled=!0}),Dd.throwError("failed to meet quorum",pi.errors.SERVER_ERROR,{method:t,params:i,results:u.map(E=>yv(E)),provider:this})})}}const YI=null,Jv=new pi(ba),fg="84842078b09946638c03157f83405213";class KI extends cw{constructor(t,i){const s=new l_(t,i),u=s.connection;u.password&&Jv.throwError("INFURA WebSocket project secrets unsupported",pi.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const p=u.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(p,t),ar(this,"apiKey",s.projectId),ar(this,"projectId",s.projectId),ar(this,"projectSecret",s.projectSecret)}isCommunityResource(){return this.projectId===fg}}class l_ extends mc{static getWebSocketProvider(t,i){return new KI(t,i)}static getApiKey(t){const i={apiKey:fg,projectId:fg,projectSecret:null};return t==null||(typeof t=="string"?i.projectId=t:t.projectSecret!=null?(Jv.assertArgument(typeof t.projectId=="string","projectSecret requires a projectId","projectId",t.projectId),Jv.assertArgument(typeof t.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),i.projectId=t.projectId,i.projectSecret=t.projectSecret):t.projectId&&(i.projectId=t.projectId),i.apiKey=i.projectId),i}static getUrl(t,i){let s=null;switch(t?t.name:"unknown"){case"homestead":s="mainnet.infura.io";break;case"ropsten":s="ropsten.infura.io";break;case"rinkeby":s="rinkeby.infura.io";break;case"kovan":s="kovan.infura.io";break;case"goerli":s="goerli.infura.io";break;case"matic":s="polygon-mainnet.infura.io";break;case"maticmum":s="polygon-mumbai.infura.io";break;case"optimism":s="optimism-mainnet.infura.io";break;case"optimism-kovan":s="optimism-kovan.infura.io";break;case"arbitrum":s="arbitrum-mainnet.infura.io";break;case"arbitrum-rinkeby":s="arbitrum-rinkeby.infura.io";break;default:Jv.throwError("unsupported network",pi.errors.INVALID_ARGUMENT,{argument:"network",value:t})}const u={allowGzip:!0,url:"https://"+s+"/v3/"+i.projectId,throttleCallback:(p,y)=>(i.projectId===fg&&cb(),Promise.resolve(!0))};return i.projectSecret!=null&&(u.user="",u.password=i.projectSecret),u}isCommunityResource(){return this.projectId===fg}}class Cre extends t2{send(t,i){const s={method:t,params:i,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);const u={request:s,resolve:null,reject:null},p=new Promise((y,A)=>{u.resolve=y,u.reject=A});return this._pendingBatch.push(u),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const y=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const A=y.map(E=>E.request);return this.emit("debug",{action:"requestBatch",request:qa(A),provider:this}),ub(this.connection,JSON.stringify(A)).then(E=>{this.emit("debug",{action:"response",request:A,response:E,provider:this}),y.forEach((_,k)=>{const R=E[k];if(R.error){const P=new Error(R.error.message);P.code=R.error.code,P.data=R.error.data,_.reject(P)}else _.resolve(R.result)})},E=>{this.emit("debug",{action:"response",error:E,request:A,provider:this}),y.forEach(_=>{_.reject(E)})})},10)),p}}const A5=new pi(ba),Sre="ETHERS_JS_SHARED";class $I extends mc{static getApiKey(t){return t&&typeof t!="string"&&A5.throwArgumentError("invalid apiKey","apiKey",t),t||Sre}static getUrl(t,i){A5.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let s=null;switch(t.name){case"homestead":s="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":s="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":s="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":s="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":s="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:A5.throwArgumentError("unsupported network","network",arguments[0])}return s+"?apiKey="+i}}const $M=new pi(ba),e9="62e1ad51b37b8e00394bda3b";class eD extends mc{static getApiKey(t){const i={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return t==null?i.applicationId=e9:typeof t=="string"?i.applicationId=t:t.applicationSecretKey!=null?(i.applicationId=t.applicationId,i.applicationSecretKey=t.applicationSecretKey):t.applicationId?i.applicationId=t.applicationId:$M.throwArgumentError("unsupported PocketProvider apiKey","apiKey",t),i}static getUrl(t,i){let s=null;switch(t?t.name:"unknown"){case"goerli":s="eth-goerli.gateway.pokt.network";break;case"homestead":s="eth-mainnet.gateway.pokt.network";break;case"kovan":s="poa-kovan.gateway.pokt.network";break;case"matic":s="poly-mainnet.gateway.pokt.network";break;case"maticmum":s="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":s="eth-rinkeby.gateway.pokt.network";break;case"ropsten":s="eth-ropsten.gateway.pokt.network";break;default:$M.throwError("unsupported network",pi.errors.INVALID_ARGUMENT,{argument:"network",value:t})}const u=`https://${s}/v1/lb/${i.applicationId}`,p={headers:{},url:u};return i.applicationSecretKey!=null&&(p.user="",p.password=i.applicationSecretKey),p}isCommunityResource(){return this.applicationId===e9}}const t9=new pi(ba);let Tre=1;function i9(l,t){const i="Web3LegacyFetcher";return function(s,u){const p={method:s,params:u,id:Tre++,jsonrpc:"2.0"};return new Promise((y,A)=>{this.emit("debug",{action:"request",fetcher:i,request:qa(p),provider:this}),t(p,(E,_)=>{if(E)return this.emit("debug",{action:"response",fetcher:i,error:E,request:p,provider:this}),A(E);if(this.emit("debug",{action:"response",fetcher:i,request:p,response:_,provider:this}),_.error){const k=new Error(_.error.message);return k.code=_.error.code,k.data=_.error.data,A(k)}y(_.result)})})}}function Mre(l){return function(t,i){i==null&&(i=[]);const s={method:t,params:i};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:qa(s),provider:this}),l.request(s).then(u=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:s,response:u,provider:this}),u),u=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:s,error:u,provider:this}),u})}}class f_ extends t2{constructor(t,i){t==null&&t9.throwArgumentError("missing provider","provider",t);let s=null,u=null,p=null;typeof t=="function"?(s="unknown:",u=t):(s=t.host||t.path||"",!s&&t.isMetaMask&&(s="metamask"),p=t,t.request?(s===""&&(s="eip-1193:"),u=Mre(t)):t.sendAsync?u=i9(t,t.sendAsync.bind(t)):t.send?u=i9(t,t.send.bind(t)):t9.throwArgumentError("unsupported provider","provider",t),s||(s="unknown:")),super(s,i),ar(this,"jsonRpcFetchFunc",u),ar(this,"provider",p)}send(t,i){return this.jsonRpcFetchFunc(t,i)}}const r9=new pi(ba);function Rre(l,t){if(l==null&&(l="homestead"),typeof l=="string"){const s=l.match(/^(ws|http)s?:/i);if(s)switch(s[1].toLowerCase()){case"http":case"https":return new t2(l);case"ws":case"wss":return new cw(l);default:r9.throwArgumentError("unsupported URL scheme","network",l)}}const i=s_(l);return(!i||!i._defaultProvider)&&r9.throwError("unsupported getDefaultProvider network",pi.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:l}),i._defaultProvider({FallbackProvider:ZI,AlchemyProvider:a_,AnkrProvider:JI,CloudflareProvider:XI,EtherscanProvider:qI,InfuraProvider:l_,JsonRpcProvider:t2,NodesmithProvider:$I,PocketProvider:eD,Web3Provider:f_,IpcProvider:YI},t)}var Bre=Object.freeze(Object.defineProperty({__proto__:null,Provider:x1,BaseProvider:uw,Resolver:IE,UrlJsonRpcProvider:mc,FallbackProvider:ZI,AlchemyProvider:a_,AlchemyWebSocketProvider:QI,AnkrProvider:JI,CloudflareProvider:XI,EtherscanProvider:qI,InfuraProvider:l_,InfuraWebSocketProvider:KI,JsonRpcProvider:t2,JsonRpcBatchProvider:Cre,NodesmithProvider:$I,PocketProvider:eD,StaticJsonRpcProvider:WI,Web3Provider:f_,WebSocketProvider:cw,IpcProvider:YI,JsonRpcSigner:o_,getDefaultProvider:Rre,getNetwork:s_,isCommunityResource:BE,isCommunityResourcable:VI,showThrottleMessage:cb,Formatter:Kr},Symbol.toStringTag,{value:"Module"}));const Ire="units/5.7.0",Dre=new pi(Ire),Pre=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Lre(l,t){if(typeof l!="string"&&Dre.throwArgumentError("value must be a string","value",l),typeof t=="string"){const i=Pre.indexOf(t);i!==-1&&(t=3*i)}return su(l,t!=null?t:18)}function Nre(l){return Lre(l,18)}const Fre="hh-sol-artifact-1",Ore="RoomMaker",Hre="contracts/RoomMaker.sol",Ure=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPerWallet",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"mintPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"metadataURI",type:"string"}],name:"mintToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"maxPerWallet_",type:"uint256"}],name:"setMaxPerWallet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"mintPrice_",type:"uint256"}],name:"setMintPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],Vre="0x60806040523480156200001157600080fd5b506040518060400160405280600981526020017f526f6f6d4d616b657200000000000000000000000000000000000000000000008152506040518060400160405280600481526020017f524d4b5200000000000000000000000000000000000000000000000000000000815250816000908051906020019062000096929190620001d7565b508060019080519060200190620000af929190620001d7565b5050506000600760006101000a81548160ff021916908315150217905550620000ed620000e16200010960201b60201c565b6200011160201b60201c565b662386f26fc100006008819055506005600981905550620002ec565b600033905090565b6000600760019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600760016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b828054620001e590620002b6565b90600052602060002090601f01602090048101928262000209576000855562000255565b82601f106200022457805160ff191683800117855562000255565b8280016001018555821562000255579182015b828111156200025457825182559160200191906001019062000237565b5b50905062000264919062000268565b5090565b5b808211156200028357600081600090555060010162000269565b5090565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680620002cf57607f821691505b60208210811415620002e657620002e562000287565b5b50919050565b6137dd80620002fc6000396000f3fe6080604052600436106101c25760003560e01c806370a08231116100f7578063b88d4fde11610095578063e985e9c511610064578063e985e9c51461060d578063f2fde38b1461064a578063f4a0a52814610673578063f8b2cb4f1461069c576101c2565b8063b88d4fde14610541578063c41a360a1461056a578063c87b56dd146105a7578063e268e4d3146105e4576101c2565b80638da5cb5b116100d15780638da5cb5b1461049757806395d89b41146104c2578063a22cb465146104ed578063a87d942c14610516576101c2565b806370a082311461042c578063715018a6146104695780638456cb5914610480576101c2565b80633f4ba83a11610164578063453c23101161013e578063453c23101461036e5780635c975abb146103995780636352211e146103c45780636817c76c14610401576101c2565b80633f4ba83a1461030557806342842e0e1461031c57806342966c6814610345576101c2565b8063095ea7b3116101a0578063095ea7b31461026c57806323b872dd1461029557806333eba49a146102be5780633ccfd60b146102ee576101c2565b806301ffc9a7146101c757806306fdde0314610204578063081812fc1461022f575b600080fd5b3480156101d357600080fd5b506101ee60048036038101906101e99190612460565b6106d9565b6040516101fb91906124a8565b60405180910390f35b34801561021057600080fd5b506102196107bb565b604051610226919061255c565b60405180910390f35b34801561023b57600080fd5b50610256600480360381019061025191906125b4565b61084d565b6040516102639190612622565b60405180910390f35b34801561027857600080fd5b50610293600480360381019061028e9190612669565b610893565b005b3480156102a157600080fd5b506102bc60048036038101906102b791906126a9565b6109ab565b005b6102d860048036038101906102d39190612831565b610a0b565b6040516102e59190612889565b60405180910390f35b3480156102fa57600080fd5b50610303610ae1565b005b34801561031157600080fd5b5061031a610b9f565b005b34801561032857600080fd5b50610343600480360381019061033e91906126a9565b610bb1565b005b34801561035157600080fd5b5061036c600480360381019061036791906125b4565b610bd1565b005b34801561037a57600080fd5b50610383610c2d565b6040516103909190612889565b60405180910390f35b3480156103a557600080fd5b506103ae610c33565b6040516103bb91906124a8565b60405180910390f35b3480156103d057600080fd5b506103eb60048036038101906103e691906125b4565b610c4a565b6040516103f89190612622565b60405180910390f35b34801561040d57600080fd5b50610416610cfc565b6040516104239190612889565b60405180910390f35b34801561043857600080fd5b50610453600480360381019061044e91906128a4565b610d02565b6040516104609190612889565b60405180910390f35b34801561047557600080fd5b5061047e610dba565b005b34801561048c57600080fd5b50610495610dce565b005b3480156104a357600080fd5b506104ac610de0565b6040516104b99190612622565b60405180910390f35b3480156104ce57600080fd5b506104d7610e0a565b6040516104e4919061255c565b60405180910390f35b3480156104f957600080fd5b50610514600480360381019061050f91906128fd565b610e9c565b005b34801561052257600080fd5b5061052b610eb2565b6040516105389190612889565b60405180910390f35b34801561054d57600080fd5b50610568600480360381019061056391906129de565b610ec3565b005b34801561057657600080fd5b50610591600480360381019061058c91906125b4565b610f25565b60405161059e9190612622565b60405180910390f35b3480156105b357600080fd5b506105ce60048036038101906105c991906125b4565b610f37565b6040516105db919061255c565b60405180910390f35b3480156105f057600080fd5b5061060b600480360381019061060691906125b4565b610f49565b005b34801561061957600080fd5b50610634600480360381019061062f9190612a61565b610f5b565b60405161064191906124a8565b60405180910390f35b34801561065657600080fd5b50610671600480360381019061066c91906128a4565b610fef565b005b34801561067f57600080fd5b5061069a600480360381019061069591906125b4565b611073565b005b3480156106a857600080fd5b506106c360048036038101906106be91906128a4565b611085565b6040516106d09190612889565b60405180910390f35b60007f80ac58cd000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614806107a457507f5b5e139f000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b806107b457506107b382611097565b5b9050919050565b6060600080546107ca90612ad0565b80601f01602080910402602001604051908101604052809291908181526020018280546107f690612ad0565b80156108435780601f1061081857610100808354040283529160200191610843565b820191906000526020600020905b81548152906001019060200180831161082657829003601f168201915b5050505050905090565b600061085882611101565b6004600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b600061089e82610c4a565b90508073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16141561090f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161090690612b74565b60405180910390fd5b8073ffffffffffffffffffffffffffffffffffffffff1661092e61114c565b73ffffffffffffffffffffffffffffffffffffffff16148061095d575061095c8161095761114c565b610f5b565b5b61099c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161099390612c06565b60405180910390fd5b6109a68383611154565b505050565b6109bc6109b661114c565b8261120d565b6109fb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109f290612c98565b60405180910390fd5b610a068383836112a2565b505050565b6000610a15611509565b6000339050600854341015610a5f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a5690612d04565b60405180910390fd5b600954610a6b82610d02565b10610aab576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610aa290612d70565b60405180910390fd5b6000610ab7600a611553565b9050610ac3600a611561565b610acd8282611577565b610ad78185611595565b8092505050919050565b610ae9611609565b6000610af3610de0565b73ffffffffffffffffffffffffffffffffffffffff1647604051610b1690612dc1565b60006040518083038185875af1925050503d8060008114610b53576040519150601f19603f3d011682016040523d82523d6000602084013e610b58565b606091505b5050905080610b9c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b9390612e22565b60405180910390fd5b50565b610ba7611609565b610baf611687565b565b610bcc83838360405180602001604052806000815250610ec3565b505050565b610be2610bdc61114c565b8261120d565b610c21576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c1890612c98565b60405180910390fd5b610c2a816116ea565b50565b60095481565b6000600760009054906101000a900460ff16905090565b6000806002600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415610cf3576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610cea90612e8e565b60405180910390fd5b80915050919050565b60085481565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610d73576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d6a90612f20565b60405180910390fd5b600360008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b610dc2611609565b610dcc60006116f6565b565b610dd6611609565b610dde6117bc565b565b6000600760019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b606060018054610e1990612ad0565b80601f0160208091040260200160405190810160405280929190818152602001828054610e4590612ad0565b8015610e925780601f10610e6757610100808354040283529160200191610e92565b820191906000526020600020905b815481529060010190602001808311610e7557829003601f168201915b5050505050905090565b610eae610ea761114c565b838361181f565b5050565b6000610ebe600a611553565b905090565b610ed4610ece61114c565b8361120d565b610f13576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f0a90612c98565b60405180910390fd5b610f1f8484848461198c565b50505050565b6000610f3082610c4a565b9050919050565b6060610f42826119e8565b9050919050565b610f51611609565b8060098190555050565b6000600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b610ff7611609565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415611067576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161105e90612fb2565b60405180910390fd5b611070816116f6565b50565b61107b611609565b8060088190555050565b600061109082610d02565b9050919050565b60007f01ffc9a7000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149050919050565b61110a81611afb565b611149576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161114090612e8e565b60405180910390fd5b50565b600033905090565b816004600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff166111c783610c4a565b73ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45050565b60008061121983610c4a565b90508073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16148061125b575061125a8185610f5b565b5b8061129957508373ffffffffffffffffffffffffffffffffffffffff166112818461084d565b73ffffffffffffffffffffffffffffffffffffffff16145b91505092915050565b8273ffffffffffffffffffffffffffffffffffffffff166112c282610c4a565b73ffffffffffffffffffffffffffffffffffffffff1614611318576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161130f90613044565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611388576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161137f906130d6565b60405180910390fd5b611393838383611b67565b61139e600082611154565b6001600360008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546113ee9190613125565b925050819055506001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546114459190613159565b92505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4611504838383611b7f565b505050565b611511610c33565b15611551576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611548906131fb565b60405180910390fd5b565b600081600001549050919050565b6001816000016000828254019250508190555050565b611591828260405180602001604052806000815250611b84565b5050565b61159e82611afb565b6115dd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016115d49061328d565b60405180910390fd5b80600660008481526020019081526020016000209080519060200190611604929190612311565b505050565b61161161114c565b73ffffffffffffffffffffffffffffffffffffffff1661162f610de0565b73ffffffffffffffffffffffffffffffffffffffff1614611685576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161167c906132f9565b60405180910390fd5b565b61168f611bdf565b6000600760006101000a81548160ff0219169083151502179055507f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa6116d361114c565b6040516116e09190612622565b60405180910390a1565b6116f381611c28565b50565b6000600760019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600760016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b6117c4611509565b6001600760006101000a81548160ff0219169083151502179055507f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a25861180861114c565b6040516118159190612622565b60405180910390a1565b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16141561188e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161188590613365565b60405180910390fd5b80600560008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c318360405161197f91906124a8565b60405180910390a3505050565b6119978484846112a2565b6119a384848484611c7b565b6119e2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016119d9906133f7565b60405180910390fd5b50505050565b60606119f382611101565b6000600660008481526020019081526020016000208054611a1390612ad0565b80601f0160208091040260200160405190810160405280929190818152602001828054611a3f90612ad0565b8015611a8c5780601f10611a6157610100808354040283529160200191611a8c565b820191906000526020600020905b815481529060010190602001808311611a6f57829003601f168201915b505050505090506000611a9d611e12565b9050600081511415611ab3578192505050611af6565b600082511115611ae8578082604051602001611ad0929190613453565b60405160208183030381529060405292505050611af6565b611af184611e29565b925050505b919050565b60008073ffffffffffffffffffffffffffffffffffffffff166002600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614159050919050565b611b6f611509565b611b7a838383611e91565b505050565b505050565b611b8e8383611e96565b611b9b6000848484611c7b565b611bda576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611bd1906133f7565b60405180910390fd5b505050565b611be7610c33565b611c26576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611c1d906134c3565b60405180910390fd5b565b611c3181612070565b6000600660008381526020019081526020016000208054611c5190612ad0565b905014611c7857600660008281526020019081526020016000206000611c779190612397565b5b50565b6000611c9c8473ffffffffffffffffffffffffffffffffffffffff1661218d565b15611e05578373ffffffffffffffffffffffffffffffffffffffff1663150b7a02611cc561114c565b8786866040518563ffffffff1660e01b8152600401611ce79493929190613538565b602060405180830381600087803b158015611d0157600080fd5b505af1925050508015611d3257506040513d601f19601f82011682018060405250810190611d2f9190613599565b60015b611db5573d8060008114611d62576040519150601f19603f3d011682016040523d82523d6000602084013e611d67565b606091505b50600081511415611dad576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611da4906133f7565b60405180910390fd5b805181602001fd5b63150b7a0260e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614915050611e0a565b600190505b949350505050565b606060405180602001604052806000815250905090565b6060611e3482611101565b6000611e3e611e12565b90506000815111611e5e5760405180602001604052806000815250611e89565b80611e68846121b0565b604051602001611e79929190613453565b6040516020818303038152906040525b915050919050565b505050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611f06576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611efd90613612565b60405180910390fd5b611f0f81611afb565b15611f4f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611f469061367e565b60405180910390fd5b611f5b60008383611b67565b6001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254611fab9190613159565b92505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a461206c60008383611b7f565b5050565b600061207b82610c4a565b905061208981600084611b67565b612094600083611154565b6001600360008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546120e49190613125565b925050819055506002600083815260200190815260200160002060006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905581600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a461218981600084611b7f565b5050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b606060008214156121f8576040518060400160405280600181526020017f3000000000000000000000000000000000000000000000000000000000000000815250905061230c565b600082905060005b6000821461222a5780806122139061369e565b915050600a826122239190613716565b9150612200565b60008167ffffffffffffffff81111561224657612245612706565b5b6040519080825280601f01601f1916602001820160405280156122785781602001600182028036833780820191505090505b5090505b60008514612305576001826122919190613125565b9150600a856122a09190613747565b60306122ac9190613159565b60f81b8183815181106122c2576122c1613778565b5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600a856122fe9190613716565b945061227c565b8093505050505b919050565b82805461231d90612ad0565b90600052602060002090601f01602090048101928261233f5760008555612386565b82601f1061235857805160ff1916838001178555612386565b82800160010185558215612386579182015b8281111561238557825182559160200191906001019061236a565b5b50905061239391906123d7565b5090565b5080546123a390612ad0565b6000825580601f106123b557506123d4565b601f0160209004906000526020600020908101906123d391906123d7565b5b50565b5b808211156123f05760008160009055506001016123d8565b5090565b6000604051905090565b600080fd5b600080fd5b60007fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b61243d81612408565b811461244857600080fd5b50565b60008135905061245a81612434565b92915050565b600060208284031215612476576124756123fe565b5b60006124848482850161244b565b91505092915050565b60008115159050919050565b6124a28161248d565b82525050565b60006020820190506124bd6000830184612499565b92915050565b600081519050919050565b600082825260208201905092915050565b60005b838110156124fd5780820151818401526020810190506124e2565b8381111561250c576000848401525b50505050565b6000601f19601f8301169050919050565b600061252e826124c3565b61253881856124ce565b93506125488185602086016124df565b61255181612512565b840191505092915050565b600060208201905081810360008301526125768184612523565b905092915050565b6000819050919050565b6125918161257e565b811461259c57600080fd5b50565b6000813590506125ae81612588565b92915050565b6000602082840312156125ca576125c96123fe565b5b60006125d88482850161259f565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061260c826125e1565b9050919050565b61261c81612601565b82525050565b60006020820190506126376000830184612613565b92915050565b61264681612601565b811461265157600080fd5b50565b6000813590506126638161263d565b92915050565b600080604083850312156126805761267f6123fe565b5b600061268e85828601612654565b925050602061269f8582860161259f565b9150509250929050565b6000806000606084860312156126c2576126c16123fe565b5b60006126d086828701612654565b93505060206126e186828701612654565b92505060406126f28682870161259f565b9150509250925092565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61273e82612512565b810181811067ffffffffffffffff8211171561275d5761275c612706565b5b80604052505050565b60006127706123f4565b905061277c8282612735565b919050565b600067ffffffffffffffff82111561279c5761279b612706565b5b6127a582612512565b9050602081019050919050565b82818337600083830152505050565b60006127d46127cf84612781565b612766565b9050828152602081018484840111156127f0576127ef612701565b5b6127fb8482856127b2565b509392505050565b600082601f830112612818576128176126fc565b5b81356128288482602086016127c1565b91505092915050565b600060208284031215612847576128466123fe565b5b600082013567ffffffffffffffff81111561286557612864612403565b5b61287184828501612803565b91505092915050565b6128838161257e565b82525050565b600060208201905061289e600083018461287a565b92915050565b6000602082840312156128ba576128b96123fe565b5b60006128c884828501612654565b91505092915050565b6128da8161248d565b81146128e557600080fd5b50565b6000813590506128f7816128d1565b92915050565b60008060408385031215612914576129136123fe565b5b600061292285828601612654565b9250506020612933858286016128e8565b9150509250929050565b600067ffffffffffffffff82111561295857612957612706565b5b61296182612512565b9050602081019050919050565b600061298161297c8461293d565b612766565b90508281526020810184848401111561299d5761299c612701565b5b6129a88482856127b2565b509392505050565b600082601f8301126129c5576129c46126fc565b5b81356129d584826020860161296e565b91505092915050565b600080600080608085870312156129f8576129f76123fe565b5b6000612a0687828801612654565b9450506020612a1787828801612654565b9350506040612a288782880161259f565b925050606085013567ffffffffffffffff811115612a4957612a48612403565b5b612a55878288016129b0565b91505092959194509250565b60008060408385031215612a7857612a776123fe565b5b6000612a8685828601612654565b9250506020612a9785828601612654565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680612ae857607f821691505b60208210811415612afc57612afb612aa1565b5b50919050565b7f4552433732313a20617070726f76616c20746f2063757272656e74206f776e6560008201527f7200000000000000000000000000000000000000000000000000000000000000602082015250565b6000612b5e6021836124ce565b9150612b6982612b02565b604082019050919050565b60006020820190508181036000830152612b8d81612b51565b9050919050565b7f4552433732313a20617070726f76652063616c6c6572206973206e6f7420746f60008201527f6b656e206f776e6572206e6f7220617070726f76656420666f7220616c6c0000602082015250565b6000612bf0603e836124ce565b9150612bfb82612b94565b604082019050919050565b60006020820190508181036000830152612c1f81612be3565b9050919050565b7f4552433732313a2063616c6c6572206973206e6f7420746f6b656e206f776e6560008201527f72206e6f7220617070726f766564000000000000000000000000000000000000602082015250565b6000612c82602e836124ce565b9150612c8d82612c26565b604082019050919050565b60006020820190508181036000830152612cb181612c75565b9050919050565b7f496e636f7272656374206d696e742076616c7565000000000000000000000000600082015250565b6000612cee6014836124ce565b9150612cf982612cb8565b602082019050919050565b60006020820190508181036000830152612d1d81612ce1565b9050919050565b7f4d6178696d756d206d696e747320726561636865640000000000000000000000600082015250565b6000612d5a6015836124ce565b9150612d6582612d24565b602082019050919050565b60006020820190508181036000830152612d8981612d4d565b9050919050565b600081905092915050565b50565b6000612dab600083612d90565b9150612db682612d9b565b600082019050919050565b6000612dcc82612d9e565b9150819050919050565b7f5769746864726177206661696c65640000000000000000000000000000000000600082015250565b6000612e0c600f836124ce565b9150612e1782612dd6565b602082019050919050565b60006020820190508181036000830152612e3b81612dff565b9050919050565b7f4552433732313a20696e76616c696420746f6b656e2049440000000000000000600082015250565b6000612e786018836124ce565b9150612e8382612e42565b602082019050919050565b60006020820190508181036000830152612ea781612e6b565b9050919050565b7f4552433732313a2061646472657373207a65726f206973206e6f74206120766160008201527f6c6964206f776e65720000000000000000000000000000000000000000000000602082015250565b6000612f0a6029836124ce565b9150612f1582612eae565b604082019050919050565b60006020820190508181036000830152612f3981612efd565b9050919050565b7f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160008201527f6464726573730000000000000000000000000000000000000000000000000000602082015250565b6000612f9c6026836124ce565b9150612fa782612f40565b604082019050919050565b60006020820190508181036000830152612fcb81612f8f565b9050919050565b7f4552433732313a207472616e736665722066726f6d20696e636f72726563742060008201527f6f776e6572000000000000000000000000000000000000000000000000000000602082015250565b600061302e6025836124ce565b915061303982612fd2565b604082019050919050565b6000602082019050818103600083015261305d81613021565b9050919050565b7f4552433732313a207472616e7366657220746f20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b60006130c06024836124ce565b91506130cb82613064565b604082019050919050565b600060208201905081810360008301526130ef816130b3565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60006131308261257e565b915061313b8361257e565b92508282101561314e5761314d6130f6565b5b828203905092915050565b60006131648261257e565b915061316f8361257e565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff038211156131a4576131a36130f6565b5b828201905092915050565b7f5061757361626c653a2070617573656400000000000000000000000000000000600082015250565b60006131e56010836124ce565b91506131f0826131af565b602082019050919050565b60006020820190508181036000830152613214816131d8565b9050919050565b7f45524337323155524953746f726167653a2055524920736574206f66206e6f6e60008201527f6578697374656e7420746f6b656e000000000000000000000000000000000000602082015250565b6000613277602e836124ce565b91506132828261321b565b604082019050919050565b600060208201905081810360008301526132a68161326a565b9050919050565b7f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572600082015250565b60006132e36020836124ce565b91506132ee826132ad565b602082019050919050565b60006020820190508181036000830152613312816132d6565b9050919050565b7f4552433732313a20617070726f766520746f2063616c6c657200000000000000600082015250565b600061334f6019836124ce565b915061335a82613319565b602082019050919050565b6000602082019050818103600083015261337e81613342565b9050919050565b7f4552433732313a207472616e7366657220746f206e6f6e20455243373231526560008201527f63656976657220696d706c656d656e7465720000000000000000000000000000602082015250565b60006133e16032836124ce565b91506133ec82613385565b604082019050919050565b60006020820190508181036000830152613410816133d4565b9050919050565b600081905092915050565b600061342d826124c3565b6134378185613417565b93506134478185602086016124df565b80840191505092915050565b600061345f8285613422565b915061346b8284613422565b91508190509392505050565b7f5061757361626c653a206e6f7420706175736564000000000000000000000000600082015250565b60006134ad6014836124ce565b91506134b882613477565b602082019050919050565b600060208201905081810360008301526134dc816134a0565b9050919050565b600081519050919050565b600082825260208201905092915050565b600061350a826134e3565b61351481856134ee565b93506135248185602086016124df565b61352d81612512565b840191505092915050565b600060808201905061354d6000830187612613565b61355a6020830186612613565b613567604083018561287a565b818103606083015261357981846134ff565b905095945050505050565b60008151905061359381612434565b92915050565b6000602082840312156135af576135ae6123fe565b5b60006135bd84828501613584565b91505092915050565b7f4552433732313a206d696e7420746f20746865207a65726f2061646472657373600082015250565b60006135fc6020836124ce565b9150613607826135c6565b602082019050919050565b6000602082019050818103600083015261362b816135ef565b9050919050565b7f4552433732313a20746f6b656e20616c7265616479206d696e74656400000000600082015250565b6000613668601c836124ce565b915061367382613632565b602082019050919050565b600060208201905081810360008301526136978161365b565b9050919050565b60006136a98261257e565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8214156136dc576136db6130f6565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b60006137218261257e565b915061372c8361257e565b92508261373c5761373b6136e7565b5b828204905092915050565b60006137528261257e565b915061375d8361257e565b92508261376d5761376c6136e7565b5b828206905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fdfea2646970667358221220fdaca120900fd02c030e577556041b44e9105a3788a0e31d2889b1b4c1e8b87d64736f6c63430008090033",jre="0x6080604052600436106101c25760003560e01c806370a08231116100f7578063b88d4fde11610095578063e985e9c511610064578063e985e9c51461060d578063f2fde38b1461064a578063f4a0a52814610673578063f8b2cb4f1461069c576101c2565b8063b88d4fde14610541578063c41a360a1461056a578063c87b56dd146105a7578063e268e4d3146105e4576101c2565b80638da5cb5b116100d15780638da5cb5b1461049757806395d89b41146104c2578063a22cb465146104ed578063a87d942c14610516576101c2565b806370a082311461042c578063715018a6146104695780638456cb5914610480576101c2565b80633f4ba83a11610164578063453c23101161013e578063453c23101461036e5780635c975abb146103995780636352211e146103c45780636817c76c14610401576101c2565b80633f4ba83a1461030557806342842e0e1461031c57806342966c6814610345576101c2565b8063095ea7b3116101a0578063095ea7b31461026c57806323b872dd1461029557806333eba49a146102be5780633ccfd60b146102ee576101c2565b806301ffc9a7146101c757806306fdde0314610204578063081812fc1461022f575b600080fd5b3480156101d357600080fd5b506101ee60048036038101906101e99190612460565b6106d9565b6040516101fb91906124a8565b60405180910390f35b34801561021057600080fd5b506102196107bb565b604051610226919061255c565b60405180910390f35b34801561023b57600080fd5b50610256600480360381019061025191906125b4565b61084d565b6040516102639190612622565b60405180910390f35b34801561027857600080fd5b50610293600480360381019061028e9190612669565b610893565b005b3480156102a157600080fd5b506102bc60048036038101906102b791906126a9565b6109ab565b005b6102d860048036038101906102d39190612831565b610a0b565b6040516102e59190612889565b60405180910390f35b3480156102fa57600080fd5b50610303610ae1565b005b34801561031157600080fd5b5061031a610b9f565b005b34801561032857600080fd5b50610343600480360381019061033e91906126a9565b610bb1565b005b34801561035157600080fd5b5061036c600480360381019061036791906125b4565b610bd1565b005b34801561037a57600080fd5b50610383610c2d565b6040516103909190612889565b60405180910390f35b3480156103a557600080fd5b506103ae610c33565b6040516103bb91906124a8565b60405180910390f35b3480156103d057600080fd5b506103eb60048036038101906103e691906125b4565b610c4a565b6040516103f89190612622565b60405180910390f35b34801561040d57600080fd5b50610416610cfc565b6040516104239190612889565b60405180910390f35b34801561043857600080fd5b50610453600480360381019061044e91906128a4565b610d02565b6040516104609190612889565b60405180910390f35b34801561047557600080fd5b5061047e610dba565b005b34801561048c57600080fd5b50610495610dce565b005b3480156104a357600080fd5b506104ac610de0565b6040516104b99190612622565b60405180910390f35b3480156104ce57600080fd5b506104d7610e0a565b6040516104e4919061255c565b60405180910390f35b3480156104f957600080fd5b50610514600480360381019061050f91906128fd565b610e9c565b005b34801561052257600080fd5b5061052b610eb2565b6040516105389190612889565b60405180910390f35b34801561054d57600080fd5b50610568600480360381019061056391906129de565b610ec3565b005b34801561057657600080fd5b50610591600480360381019061058c91906125b4565b610f25565b60405161059e9190612622565b60405180910390f35b3480156105b357600080fd5b506105ce60048036038101906105c991906125b4565b610f37565b6040516105db919061255c565b60405180910390f35b3480156105f057600080fd5b5061060b600480360381019061060691906125b4565b610f49565b005b34801561061957600080fd5b50610634600480360381019061062f9190612a61565b610f5b565b60405161064191906124a8565b60405180910390f35b34801561065657600080fd5b50610671600480360381019061066c91906128a4565b610fef565b005b34801561067f57600080fd5b5061069a600480360381019061069591906125b4565b611073565b005b3480156106a857600080fd5b506106c360048036038101906106be91906128a4565b611085565b6040516106d09190612889565b60405180910390f35b60007f80ac58cd000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614806107a457507f5b5e139f000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b806107b457506107b382611097565b5b9050919050565b6060600080546107ca90612ad0565b80601f01602080910402602001604051908101604052809291908181526020018280546107f690612ad0565b80156108435780601f1061081857610100808354040283529160200191610843565b820191906000526020600020905b81548152906001019060200180831161082657829003601f168201915b5050505050905090565b600061085882611101565b6004600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b600061089e82610c4a565b90508073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16141561090f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161090690612b74565b60405180910390fd5b8073ffffffffffffffffffffffffffffffffffffffff1661092e61114c565b73ffffffffffffffffffffffffffffffffffffffff16148061095d575061095c8161095761114c565b610f5b565b5b61099c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161099390612c06565b60405180910390fd5b6109a68383611154565b505050565b6109bc6109b661114c565b8261120d565b6109fb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109f290612c98565b60405180910390fd5b610a068383836112a2565b505050565b6000610a15611509565b6000339050600854341015610a5f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a5690612d04565b60405180910390fd5b600954610a6b82610d02565b10610aab576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610aa290612d70565b60405180910390fd5b6000610ab7600a611553565b9050610ac3600a611561565b610acd8282611577565b610ad78185611595565b8092505050919050565b610ae9611609565b6000610af3610de0565b73ffffffffffffffffffffffffffffffffffffffff1647604051610b1690612dc1565b60006040518083038185875af1925050503d8060008114610b53576040519150601f19603f3d011682016040523d82523d6000602084013e610b58565b606091505b5050905080610b9c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b9390612e22565b60405180910390fd5b50565b610ba7611609565b610baf611687565b565b610bcc83838360405180602001604052806000815250610ec3565b505050565b610be2610bdc61114c565b8261120d565b610c21576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c1890612c98565b60405180910390fd5b610c2a816116ea565b50565b60095481565b6000600760009054906101000a900460ff16905090565b6000806002600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415610cf3576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610cea90612e8e565b60405180910390fd5b80915050919050565b60085481565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610d73576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d6a90612f20565b60405180910390fd5b600360008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b610dc2611609565b610dcc60006116f6565b565b610dd6611609565b610dde6117bc565b565b6000600760019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b606060018054610e1990612ad0565b80601f0160208091040260200160405190810160405280929190818152602001828054610e4590612ad0565b8015610e925780601f10610e6757610100808354040283529160200191610e92565b820191906000526020600020905b815481529060010190602001808311610e7557829003601f168201915b5050505050905090565b610eae610ea761114c565b838361181f565b5050565b6000610ebe600a611553565b905090565b610ed4610ece61114c565b8361120d565b610f13576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f0a90612c98565b60405180910390fd5b610f1f8484848461198c565b50505050565b6000610f3082610c4a565b9050919050565b6060610f42826119e8565b9050919050565b610f51611609565b8060098190555050565b6000600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b610ff7611609565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415611067576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161105e90612fb2565b60405180910390fd5b611070816116f6565b50565b61107b611609565b8060088190555050565b600061109082610d02565b9050919050565b60007f01ffc9a7000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149050919050565b61110a81611afb565b611149576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161114090612e8e565b60405180910390fd5b50565b600033905090565b816004600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff166111c783610c4a565b73ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45050565b60008061121983610c4a565b90508073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff16148061125b575061125a8185610f5b565b5b8061129957508373ffffffffffffffffffffffffffffffffffffffff166112818461084d565b73ffffffffffffffffffffffffffffffffffffffff16145b91505092915050565b8273ffffffffffffffffffffffffffffffffffffffff166112c282610c4a565b73ffffffffffffffffffffffffffffffffffffffff1614611318576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161130f90613044565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611388576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161137f906130d6565b60405180910390fd5b611393838383611b67565b61139e600082611154565b6001600360008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546113ee9190613125565b925050819055506001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546114459190613159565b92505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4611504838383611b7f565b505050565b611511610c33565b15611551576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611548906131fb565b60405180910390fd5b565b600081600001549050919050565b6001816000016000828254019250508190555050565b611591828260405180602001604052806000815250611b84565b5050565b61159e82611afb565b6115dd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016115d49061328d565b60405180910390fd5b80600660008481526020019081526020016000209080519060200190611604929190612311565b505050565b61161161114c565b73ffffffffffffffffffffffffffffffffffffffff1661162f610de0565b73ffffffffffffffffffffffffffffffffffffffff1614611685576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161167c906132f9565b60405180910390fd5b565b61168f611bdf565b6000600760006101000a81548160ff0219169083151502179055507f5db9ee0a495bf2e6ff9c91a7834c1ba4fdd244a5e8aa4e537bd38aeae4b073aa6116d361114c565b6040516116e09190612622565b60405180910390a1565b6116f381611c28565b50565b6000600760019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600760016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b6117c4611509565b6001600760006101000a81548160ff0219169083151502179055507f62e78cea01bee320cd4e420270b5ea74000d11b0c9f74754ebdbfc544b05a25861180861114c565b6040516118159190612622565b60405180910390a1565b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16141561188e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161188590613365565b60405180910390fd5b80600560008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c318360405161197f91906124a8565b60405180910390a3505050565b6119978484846112a2565b6119a384848484611c7b565b6119e2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016119d9906133f7565b60405180910390fd5b50505050565b60606119f382611101565b6000600660008481526020019081526020016000208054611a1390612ad0565b80601f0160208091040260200160405190810160405280929190818152602001828054611a3f90612ad0565b8015611a8c5780601f10611a6157610100808354040283529160200191611a8c565b820191906000526020600020905b815481529060010190602001808311611a6f57829003601f168201915b505050505090506000611a9d611e12565b9050600081511415611ab3578192505050611af6565b600082511115611ae8578082604051602001611ad0929190613453565b60405160208183030381529060405292505050611af6565b611af184611e29565b925050505b919050565b60008073ffffffffffffffffffffffffffffffffffffffff166002600084815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614159050919050565b611b6f611509565b611b7a838383611e91565b505050565b505050565b611b8e8383611e96565b611b9b6000848484611c7b565b611bda576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611bd1906133f7565b60405180910390fd5b505050565b611be7610c33565b611c26576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611c1d906134c3565b60405180910390fd5b565b611c3181612070565b6000600660008381526020019081526020016000208054611c5190612ad0565b905014611c7857600660008281526020019081526020016000206000611c779190612397565b5b50565b6000611c9c8473ffffffffffffffffffffffffffffffffffffffff1661218d565b15611e05578373ffffffffffffffffffffffffffffffffffffffff1663150b7a02611cc561114c565b8786866040518563ffffffff1660e01b8152600401611ce79493929190613538565b602060405180830381600087803b158015611d0157600080fd5b505af1925050508015611d3257506040513d601f19601f82011682018060405250810190611d2f9190613599565b60015b611db5573d8060008114611d62576040519150601f19603f3d011682016040523d82523d6000602084013e611d67565b606091505b50600081511415611dad576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611da4906133f7565b60405180910390fd5b805181602001fd5b63150b7a0260e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614915050611e0a565b600190505b949350505050565b606060405180602001604052806000815250905090565b6060611e3482611101565b6000611e3e611e12565b90506000815111611e5e5760405180602001604052806000815250611e89565b80611e68846121b0565b604051602001611e79929190613453565b6040516020818303038152906040525b915050919050565b505050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611f06576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611efd90613612565b60405180910390fd5b611f0f81611afb565b15611f4f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611f469061367e565b60405180910390fd5b611f5b60008383611b67565b6001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254611fab9190613159565b92505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a461206c60008383611b7f565b5050565b600061207b82610c4a565b905061208981600084611b67565b612094600083611154565b6001600360008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546120e49190613125565b925050819055506002600083815260200190815260200160002060006101000a81549073ffffffffffffffffffffffffffffffffffffffff021916905581600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a461218981600084611b7f565b5050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b606060008214156121f8576040518060400160405280600181526020017f3000000000000000000000000000000000000000000000000000000000000000815250905061230c565b600082905060005b6000821461222a5780806122139061369e565b915050600a826122239190613716565b9150612200565b60008167ffffffffffffffff81111561224657612245612706565b5b6040519080825280601f01601f1916602001820160405280156122785781602001600182028036833780820191505090505b5090505b60008514612305576001826122919190613125565b9150600a856122a09190613747565b60306122ac9190613159565b60f81b8183815181106122c2576122c1613778565b5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600a856122fe9190613716565b945061227c565b8093505050505b919050565b82805461231d90612ad0565b90600052602060002090601f01602090048101928261233f5760008555612386565b82601f1061235857805160ff1916838001178555612386565b82800160010185558215612386579182015b8281111561238557825182559160200191906001019061236a565b5b50905061239391906123d7565b5090565b5080546123a390612ad0565b6000825580601f106123b557506123d4565b601f0160209004906000526020600020908101906123d391906123d7565b5b50565b5b808211156123f05760008160009055506001016123d8565b5090565b6000604051905090565b600080fd5b600080fd5b60007fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b61243d81612408565b811461244857600080fd5b50565b60008135905061245a81612434565b92915050565b600060208284031215612476576124756123fe565b5b60006124848482850161244b565b91505092915050565b60008115159050919050565b6124a28161248d565b82525050565b60006020820190506124bd6000830184612499565b92915050565b600081519050919050565b600082825260208201905092915050565b60005b838110156124fd5780820151818401526020810190506124e2565b8381111561250c576000848401525b50505050565b6000601f19601f8301169050919050565b600061252e826124c3565b61253881856124ce565b93506125488185602086016124df565b61255181612512565b840191505092915050565b600060208201905081810360008301526125768184612523565b905092915050565b6000819050919050565b6125918161257e565b811461259c57600080fd5b50565b6000813590506125ae81612588565b92915050565b6000602082840312156125ca576125c96123fe565b5b60006125d88482850161259f565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061260c826125e1565b9050919050565b61261c81612601565b82525050565b60006020820190506126376000830184612613565b92915050565b61264681612601565b811461265157600080fd5b50565b6000813590506126638161263d565b92915050565b600080604083850312156126805761267f6123fe565b5b600061268e85828601612654565b925050602061269f8582860161259f565b9150509250929050565b6000806000606084860312156126c2576126c16123fe565b5b60006126d086828701612654565b93505060206126e186828701612654565b92505060406126f28682870161259f565b9150509250925092565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61273e82612512565b810181811067ffffffffffffffff8211171561275d5761275c612706565b5b80604052505050565b60006127706123f4565b905061277c8282612735565b919050565b600067ffffffffffffffff82111561279c5761279b612706565b5b6127a582612512565b9050602081019050919050565b82818337600083830152505050565b60006127d46127cf84612781565b612766565b9050828152602081018484840111156127f0576127ef612701565b5b6127fb8482856127b2565b509392505050565b600082601f830112612818576128176126fc565b5b81356128288482602086016127c1565b91505092915050565b600060208284031215612847576128466123fe565b5b600082013567ffffffffffffffff81111561286557612864612403565b5b61287184828501612803565b91505092915050565b6128838161257e565b82525050565b600060208201905061289e600083018461287a565b92915050565b6000602082840312156128ba576128b96123fe565b5b60006128c884828501612654565b91505092915050565b6128da8161248d565b81146128e557600080fd5b50565b6000813590506128f7816128d1565b92915050565b60008060408385031215612914576129136123fe565b5b600061292285828601612654565b9250506020612933858286016128e8565b9150509250929050565b600067ffffffffffffffff82111561295857612957612706565b5b61296182612512565b9050602081019050919050565b600061298161297c8461293d565b612766565b90508281526020810184848401111561299d5761299c612701565b5b6129a88482856127b2565b509392505050565b600082601f8301126129c5576129c46126fc565b5b81356129d584826020860161296e565b91505092915050565b600080600080608085870312156129f8576129f76123fe565b5b6000612a0687828801612654565b9450506020612a1787828801612654565b9350506040612a288782880161259f565b925050606085013567ffffffffffffffff811115612a4957612a48612403565b5b612a55878288016129b0565b91505092959194509250565b60008060408385031215612a7857612a776123fe565b5b6000612a8685828601612654565b9250506020612a9785828601612654565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680612ae857607f821691505b60208210811415612afc57612afb612aa1565b5b50919050565b7f4552433732313a20617070726f76616c20746f2063757272656e74206f776e6560008201527f7200000000000000000000000000000000000000000000000000000000000000602082015250565b6000612b5e6021836124ce565b9150612b6982612b02565b604082019050919050565b60006020820190508181036000830152612b8d81612b51565b9050919050565b7f4552433732313a20617070726f76652063616c6c6572206973206e6f7420746f60008201527f6b656e206f776e6572206e6f7220617070726f76656420666f7220616c6c0000602082015250565b6000612bf0603e836124ce565b9150612bfb82612b94565b604082019050919050565b60006020820190508181036000830152612c1f81612be3565b9050919050565b7f4552433732313a2063616c6c6572206973206e6f7420746f6b656e206f776e6560008201527f72206e6f7220617070726f766564000000000000000000000000000000000000602082015250565b6000612c82602e836124ce565b9150612c8d82612c26565b604082019050919050565b60006020820190508181036000830152612cb181612c75565b9050919050565b7f496e636f7272656374206d696e742076616c7565000000000000000000000000600082015250565b6000612cee6014836124ce565b9150612cf982612cb8565b602082019050919050565b60006020820190508181036000830152612d1d81612ce1565b9050919050565b7f4d6178696d756d206d696e747320726561636865640000000000000000000000600082015250565b6000612d5a6015836124ce565b9150612d6582612d24565b602082019050919050565b60006020820190508181036000830152612d8981612d4d565b9050919050565b600081905092915050565b50565b6000612dab600083612d90565b9150612db682612d9b565b600082019050919050565b6000612dcc82612d9e565b9150819050919050565b7f5769746864726177206661696c65640000000000000000000000000000000000600082015250565b6000612e0c600f836124ce565b9150612e1782612dd6565b602082019050919050565b60006020820190508181036000830152612e3b81612dff565b9050919050565b7f4552433732313a20696e76616c696420746f6b656e2049440000000000000000600082015250565b6000612e786018836124ce565b9150612e8382612e42565b602082019050919050565b60006020820190508181036000830152612ea781612e6b565b9050919050565b7f4552433732313a2061646472657373207a65726f206973206e6f74206120766160008201527f6c6964206f776e65720000000000000000000000000000000000000000000000602082015250565b6000612f0a6029836124ce565b9150612f1582612eae565b604082019050919050565b60006020820190508181036000830152612f3981612efd565b9050919050565b7f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160008201527f6464726573730000000000000000000000000000000000000000000000000000602082015250565b6000612f9c6026836124ce565b9150612fa782612f40565b604082019050919050565b60006020820190508181036000830152612fcb81612f8f565b9050919050565b7f4552433732313a207472616e736665722066726f6d20696e636f72726563742060008201527f6f776e6572000000000000000000000000000000000000000000000000000000602082015250565b600061302e6025836124ce565b915061303982612fd2565b604082019050919050565b6000602082019050818103600083015261305d81613021565b9050919050565b7f4552433732313a207472616e7366657220746f20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b60006130c06024836124ce565b91506130cb82613064565b604082019050919050565b600060208201905081810360008301526130ef816130b3565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60006131308261257e565b915061313b8361257e565b92508282101561314e5761314d6130f6565b5b828203905092915050565b60006131648261257e565b915061316f8361257e565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff038211156131a4576131a36130f6565b5b828201905092915050565b7f5061757361626c653a2070617573656400000000000000000000000000000000600082015250565b60006131e56010836124ce565b91506131f0826131af565b602082019050919050565b60006020820190508181036000830152613214816131d8565b9050919050565b7f45524337323155524953746f726167653a2055524920736574206f66206e6f6e60008201527f6578697374656e7420746f6b656e000000000000000000000000000000000000602082015250565b6000613277602e836124ce565b91506132828261321b565b604082019050919050565b600060208201905081810360008301526132a68161326a565b9050919050565b7f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572600082015250565b60006132e36020836124ce565b91506132ee826132ad565b602082019050919050565b60006020820190508181036000830152613312816132d6565b9050919050565b7f4552433732313a20617070726f766520746f2063616c6c657200000000000000600082015250565b600061334f6019836124ce565b915061335a82613319565b602082019050919050565b6000602082019050818103600083015261337e81613342565b9050919050565b7f4552433732313a207472616e7366657220746f206e6f6e20455243373231526560008201527f63656976657220696d706c656d656e7465720000000000000000000000000000602082015250565b60006133e16032836124ce565b91506133ec82613385565b604082019050919050565b60006020820190508181036000830152613410816133d4565b9050919050565b600081905092915050565b600061342d826124c3565b6134378185613417565b93506134478185602086016124df565b80840191505092915050565b600061345f8285613422565b915061346b8284613422565b91508190509392505050565b7f5061757361626c653a206e6f7420706175736564000000000000000000000000600082015250565b60006134ad6014836124ce565b91506134b882613477565b602082019050919050565b600060208201905081810360008301526134dc816134a0565b9050919050565b600081519050919050565b600082825260208201905092915050565b600061350a826134e3565b61351481856134ee565b93506135248185602086016124df565b61352d81612512565b840191505092915050565b600060808201905061354d6000830187612613565b61355a6020830186612613565b613567604083018561287a565b818103606083015261357981846134ff565b905095945050505050565b60008151905061359381612434565b92915050565b6000602082840312156135af576135ae6123fe565b5b60006135bd84828501613584565b91505092915050565b7f4552433732313a206d696e7420746f20746865207a65726f2061646472657373600082015250565b60006135fc6020836124ce565b9150613607826135c6565b602082019050919050565b6000602082019050818103600083015261362b816135ef565b9050919050565b7f4552433732313a20746f6b656e20616c7265616479206d696e74656400000000600082015250565b6000613668601c836124ce565b915061367382613632565b602082019050919050565b600060208201905081810360008301526136978161365b565b9050919050565b60006136a98261257e565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8214156136dc576136db6130f6565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b60006137218261257e565b915061372c8361257e565b92508261373c5761373b6136e7565b5b828204905092915050565b60006137528261257e565b915061375d8361257e565b92508261376d5761376c6136e7565b5b828206905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fdfea2646970667358221220fdaca120900fd02c030e577556041b44e9105a3788a0e31d2889b1b4c1e8b87d64736f6c63430008090033",Gre={},zre={};var Wre={_format:Fre,contractName:Ore,sourceName:Hre,abi:Ure,bytecode:Vre,deployedBytecode:jre,linkReferences:Gre,deployedLinkReferences:zre},tD={},u_={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */u_.read=function(l,t,i,s,u){var p,y,A=u*8-s-1,E=(1<<A)-1,_=E>>1,k=-7,R=i?u-1:0,P=i?-1:1,B=l[t+R];for(R+=P,p=B&(1<<-k)-1,B>>=-k,k+=A;k>0;p=p*256+l[t+R],R+=P,k-=8);for(y=p&(1<<-k)-1,p>>=-k,k+=s;k>0;y=y*256+l[t+R],R+=P,k-=8);if(p===0)p=1-_;else{if(p===E)return y?NaN:(B?-1:1)*(1/0);y=y+Math.pow(2,s),p=p-_}return(B?-1:1)*y*Math.pow(2,p-s)};u_.write=function(l,t,i,s,u,p){var y,A,E,_=p*8-u-1,k=(1<<_)-1,R=k>>1,P=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,B=s?0:p-1,O=s?1:-1,H=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(A=isNaN(t)?1:0,y=k):(y=Math.floor(Math.log(t)/Math.LN2),t*(E=Math.pow(2,-y))<1&&(y--,E*=2),y+R>=1?t+=P/E:t+=P*Math.pow(2,1-R),t*E>=2&&(y++,E/=2),y+R>=k?(A=0,y=k):y+R>=1?(A=(t*E-1)*Math.pow(2,u),y=y+R):(A=t*Math.pow(2,R-1)*Math.pow(2,u),y=0));u>=8;l[i+B]=A&255,B+=O,A/=256,u-=8);for(y=y<<u|A,_+=u;_>0;l[i+B]=y&255,B+=O,y/=256,_-=8);l[i+B-O]|=H*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(l){const t=nb,i=u_,s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;l.Buffer=A,l.SlowBuffer=ee,l.INSPECT_MAX_BYTES=50;const u=2147483647;l.kMaxLength=u,A.TYPED_ARRAY_SUPPORT=p(),!A.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function p(){try{const rt=new Uint8Array(1),Pe={foo:function(){return 42}};return Object.setPrototypeOf(Pe,Uint8Array.prototype),Object.setPrototypeOf(rt,Pe),rt.foo()===42}catch{return!1}}Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(!!A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(!!A.isBuffer(this))return this.byteOffset}});function y(rt){if(rt>u)throw new RangeError('The value "'+rt+'" is invalid for option "size"');const Pe=new Uint8Array(rt);return Object.setPrototypeOf(Pe,A.prototype),Pe}function A(rt,Pe,Me){if(typeof rt=="number"){if(typeof Pe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return R(rt)}return E(rt,Pe,Me)}A.poolSize=8192;function E(rt,Pe,Me){if(typeof rt=="string")return P(rt,Pe);if(ArrayBuffer.isView(rt))return O(rt);if(rt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof rt);if(pt(rt,ArrayBuffer)||rt&&pt(rt.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(pt(rt,SharedArrayBuffer)||rt&&pt(rt.buffer,SharedArrayBuffer)))return H(rt,Pe,Me);if(typeof rt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const bt=rt.valueOf&&rt.valueOf();if(bt!=null&&bt!==rt)return A.from(bt,Pe,Me);const zt=z(rt);if(zt)return zt;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof rt[Symbol.toPrimitive]=="function")return A.from(rt[Symbol.toPrimitive]("string"),Pe,Me);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof rt)}A.from=function(rt,Pe,Me){return E(rt,Pe,Me)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array);function _(rt){if(typeof rt!="number")throw new TypeError('"size" argument must be of type number');if(rt<0)throw new RangeError('The value "'+rt+'" is invalid for option "size"')}function k(rt,Pe,Me){return _(rt),rt<=0?y(rt):Pe!==void 0?typeof Me=="string"?y(rt).fill(Pe,Me):y(rt).fill(Pe):y(rt)}A.alloc=function(rt,Pe,Me){return k(rt,Pe,Me)};function R(rt){return _(rt),y(rt<0?0:Y(rt)|0)}A.allocUnsafe=function(rt){return R(rt)},A.allocUnsafeSlow=function(rt){return R(rt)};function P(rt,Pe){if((typeof Pe!="string"||Pe==="")&&(Pe="utf8"),!A.isEncoding(Pe))throw new TypeError("Unknown encoding: "+Pe);const Me=ue(rt,Pe)|0;let bt=y(Me);const zt=bt.write(rt,Pe);return zt!==Me&&(bt=bt.slice(0,zt)),bt}function B(rt){const Pe=rt.length<0?0:Y(rt.length)|0,Me=y(Pe);for(let bt=0;bt<Pe;bt+=1)Me[bt]=rt[bt]&255;return Me}function O(rt){if(pt(rt,Uint8Array)){const Pe=new Uint8Array(rt);return H(Pe.buffer,Pe.byteOffset,Pe.byteLength)}return B(rt)}function H(rt,Pe,Me){if(Pe<0||rt.byteLength<Pe)throw new RangeError('"offset" is outside of buffer bounds');if(rt.byteLength<Pe+(Me||0))throw new RangeError('"length" is outside of buffer bounds');let bt;return Pe===void 0&&Me===void 0?bt=new Uint8Array(rt):Me===void 0?bt=new Uint8Array(rt,Pe):bt=new Uint8Array(rt,Pe,Me),Object.setPrototypeOf(bt,A.prototype),bt}function z(rt){if(A.isBuffer(rt)){const Pe=Y(rt.length)|0,Me=y(Pe);return Me.length===0||rt.copy(Me,0,0,Pe),Me}if(rt.length!==void 0)return typeof rt.length!="number"||ft(rt.length)?y(0):B(rt);if(rt.type==="Buffer"&&Array.isArray(rt.data))return B(rt.data)}function Y(rt){if(rt>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return rt|0}function ee(rt){return+rt!=rt&&(rt=0),A.alloc(+rt)}A.isBuffer=function(Pe){return Pe!=null&&Pe._isBuffer===!0&&Pe!==A.prototype},A.compare=function(Pe,Me){if(pt(Pe,Uint8Array)&&(Pe=A.from(Pe,Pe.offset,Pe.byteLength)),pt(Me,Uint8Array)&&(Me=A.from(Me,Me.offset,Me.byteLength)),!A.isBuffer(Pe)||!A.isBuffer(Me))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Pe===Me)return 0;let bt=Pe.length,zt=Me.length;for(let It=0,yt=Math.min(bt,zt);It<yt;++It)if(Pe[It]!==Me[It]){bt=Pe[It],zt=Me[It];break}return bt<zt?-1:zt<bt?1:0},A.isEncoding=function(Pe){switch(String(Pe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(Pe,Me){if(!Array.isArray(Pe))throw new TypeError('"list" argument must be an Array of Buffers');if(Pe.length===0)return A.alloc(0);let bt;if(Me===void 0)for(Me=0,bt=0;bt<Pe.length;++bt)Me+=Pe[bt].length;const zt=A.allocUnsafe(Me);let It=0;for(bt=0;bt<Pe.length;++bt){let yt=Pe[bt];if(pt(yt,Uint8Array))It+yt.length>zt.length?(A.isBuffer(yt)||(yt=A.from(yt)),yt.copy(zt,It)):Uint8Array.prototype.set.call(zt,yt,It);else if(A.isBuffer(yt))yt.copy(zt,It);else throw new TypeError('"list" argument must be an Array of Buffers');It+=yt.length}return zt};function ue(rt,Pe){if(A.isBuffer(rt))return rt.length;if(ArrayBuffer.isView(rt)||pt(rt,ArrayBuffer))return rt.byteLength;if(typeof rt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof rt);const Me=rt.length,bt=arguments.length>2&&arguments[2]===!0;if(!bt&&Me===0)return 0;let zt=!1;for(;;)switch(Pe){case"ascii":case"latin1":case"binary":return Me;case"utf8":case"utf-8":return Ki(rt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Me*2;case"hex":return Me>>>1;case"base64":return Ct(rt).length;default:if(zt)return bt?-1:Ki(rt).length;Pe=(""+Pe).toLowerCase(),zt=!0}}A.byteLength=ue;function oe(rt,Pe,Me){let bt=!1;if((Pe===void 0||Pe<0)&&(Pe=0),Pe>this.length||((Me===void 0||Me>this.length)&&(Me=this.length),Me<=0)||(Me>>>=0,Pe>>>=0,Me<=Pe))return"";for(rt||(rt="utf8");;)switch(rt){case"hex":return Le(this,Pe,Me);case"utf8":case"utf-8":return ie(this,Pe,Me);case"ascii":return Se(this,Pe,Me);case"latin1":case"binary":return Be(this,Pe,Me);case"base64":return le(this,Pe,Me);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nt(this,Pe,Me);default:if(bt)throw new TypeError("Unknown encoding: "+rt);rt=(rt+"").toLowerCase(),bt=!0}}A.prototype._isBuffer=!0;function Ae(rt,Pe,Me){const bt=rt[Pe];rt[Pe]=rt[Me],rt[Me]=bt}A.prototype.swap16=function(){const Pe=this.length;if(Pe%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Me=0;Me<Pe;Me+=2)Ae(this,Me,Me+1);return this},A.prototype.swap32=function(){const Pe=this.length;if(Pe%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Me=0;Me<Pe;Me+=4)Ae(this,Me,Me+3),Ae(this,Me+1,Me+2);return this},A.prototype.swap64=function(){const Pe=this.length;if(Pe%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Me=0;Me<Pe;Me+=8)Ae(this,Me,Me+7),Ae(this,Me+1,Me+6),Ae(this,Me+2,Me+5),Ae(this,Me+3,Me+4);return this},A.prototype.toString=function(){const Pe=this.length;return Pe===0?"":arguments.length===0?ie(this,0,Pe):oe.apply(this,arguments)},A.prototype.toLocaleString=A.prototype.toString,A.prototype.equals=function(Pe){if(!A.isBuffer(Pe))throw new TypeError("Argument must be a Buffer");return this===Pe?!0:A.compare(this,Pe)===0},A.prototype.inspect=function(){let Pe="";const Me=l.INSPECT_MAX_BYTES;return Pe=this.toString("hex",0,Me).replace(/(.{2})/g,"$1 ").trim(),this.length>Me&&(Pe+=" ... "),"<Buffer "+Pe+">"},s&&(A.prototype[s]=A.prototype.inspect),A.prototype.compare=function(Pe,Me,bt,zt,It){if(pt(Pe,Uint8Array)&&(Pe=A.from(Pe,Pe.offset,Pe.byteLength)),!A.isBuffer(Pe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Pe);if(Me===void 0&&(Me=0),bt===void 0&&(bt=Pe?Pe.length:0),zt===void 0&&(zt=0),It===void 0&&(It=this.length),Me<0||bt>Pe.length||zt<0||It>this.length)throw new RangeError("out of range index");if(zt>=It&&Me>=bt)return 0;if(zt>=It)return-1;if(Me>=bt)return 1;if(Me>>>=0,bt>>>=0,zt>>>=0,It>>>=0,this===Pe)return 0;let yt=It-zt,Di=bt-Me;const Tt=Math.min(yt,Di),Ot=this.slice(zt,It),li=Pe.slice(Me,bt);for(let Ti=0;Ti<Tt;++Ti)if(Ot[Ti]!==li[Ti]){yt=Ot[Ti],Di=li[Ti];break}return yt<Di?-1:Di<yt?1:0};function be(rt,Pe,Me,bt,zt){if(rt.length===0)return-1;if(typeof Me=="string"?(bt=Me,Me=0):Me>2147483647?Me=2147483647:Me<-2147483648&&(Me=-2147483648),Me=+Me,ft(Me)&&(Me=zt?0:rt.length-1),Me<0&&(Me=rt.length+Me),Me>=rt.length){if(zt)return-1;Me=rt.length-1}else if(Me<0)if(zt)Me=0;else return-1;if(typeof Pe=="string"&&(Pe=A.from(Pe,bt)),A.isBuffer(Pe))return Pe.length===0?-1:xe(rt,Pe,Me,bt,zt);if(typeof Pe=="number")return Pe=Pe&255,typeof Uint8Array.prototype.indexOf=="function"?zt?Uint8Array.prototype.indexOf.call(rt,Pe,Me):Uint8Array.prototype.lastIndexOf.call(rt,Pe,Me):xe(rt,[Pe],Me,bt,zt);throw new TypeError("val must be string, number or Buffer")}function xe(rt,Pe,Me,bt,zt){let It=1,yt=rt.length,Di=Pe.length;if(bt!==void 0&&(bt=String(bt).toLowerCase(),bt==="ucs2"||bt==="ucs-2"||bt==="utf16le"||bt==="utf-16le")){if(rt.length<2||Pe.length<2)return-1;It=2,yt/=2,Di/=2,Me/=2}function Tt(li,Ti){return It===1?li[Ti]:li.readUInt16BE(Ti*It)}let Ot;if(zt){let li=-1;for(Ot=Me;Ot<yt;Ot++)if(Tt(rt,Ot)===Tt(Pe,li===-1?0:Ot-li)){if(li===-1&&(li=Ot),Ot-li+1===Di)return li*It}else li!==-1&&(Ot-=Ot-li),li=-1}else for(Me+Di>yt&&(Me=yt-Di),Ot=Me;Ot>=0;Ot--){let li=!0;for(let Ti=0;Ti<Di;Ti++)if(Tt(rt,Ot+Ti)!==Tt(Pe,Ti)){li=!1;break}if(li)return Ot}return-1}A.prototype.includes=function(Pe,Me,bt){return this.indexOf(Pe,Me,bt)!==-1},A.prototype.indexOf=function(Pe,Me,bt){return be(this,Pe,Me,bt,!0)},A.prototype.lastIndexOf=function(Pe,Me,bt){return be(this,Pe,Me,bt,!1)};function ne(rt,Pe,Me,bt){Me=Number(Me)||0;const zt=rt.length-Me;bt?(bt=Number(bt),bt>zt&&(bt=zt)):bt=zt;const It=Pe.length;bt>It/2&&(bt=It/2);let yt;for(yt=0;yt<bt;++yt){const Di=parseInt(Pe.substr(yt*2,2),16);if(ft(Di))return yt;rt[Me+yt]=Di}return yt}function ae(rt,Pe,Me,bt){return ri(Ki(Pe,rt.length-Me),rt,Me,bt)}function ye(rt,Pe,Me,bt){return ri(or(Pe),rt,Me,bt)}function ge(rt,Pe,Me,bt){return ri(Ct(Pe),rt,Me,bt)}function we(rt,Pe,Me,bt){return ri(Et(Pe,rt.length-Me),rt,Me,bt)}A.prototype.write=function(Pe,Me,bt,zt){if(Me===void 0)zt="utf8",bt=this.length,Me=0;else if(bt===void 0&&typeof Me=="string")zt=Me,bt=this.length,Me=0;else if(isFinite(Me))Me=Me>>>0,isFinite(bt)?(bt=bt>>>0,zt===void 0&&(zt="utf8")):(zt=bt,bt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const It=this.length-Me;if((bt===void 0||bt>It)&&(bt=It),Pe.length>0&&(bt<0||Me<0)||Me>this.length)throw new RangeError("Attempt to write outside buffer bounds");zt||(zt="utf8");let yt=!1;for(;;)switch(zt){case"hex":return ne(this,Pe,Me,bt);case"utf8":case"utf-8":return ae(this,Pe,Me,bt);case"ascii":case"latin1":case"binary":return ye(this,Pe,Me,bt);case"base64":return ge(this,Pe,Me,bt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return we(this,Pe,Me,bt);default:if(yt)throw new TypeError("Unknown encoding: "+zt);zt=(""+zt).toLowerCase(),yt=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function le(rt,Pe,Me){return Pe===0&&Me===rt.length?t.fromByteArray(rt):t.fromByteArray(rt.slice(Pe,Me))}function ie(rt,Pe,Me){Me=Math.min(rt.length,Me);const bt=[];let zt=Pe;for(;zt<Me;){const It=rt[zt];let yt=null,Di=It>239?4:It>223?3:It>191?2:1;if(zt+Di<=Me){let Tt,Ot,li,Ti;switch(Di){case 1:It<128&&(yt=It);break;case 2:Tt=rt[zt+1],(Tt&192)===128&&(Ti=(It&31)<<6|Tt&63,Ti>127&&(yt=Ti));break;case 3:Tt=rt[zt+1],Ot=rt[zt+2],(Tt&192)===128&&(Ot&192)===128&&(Ti=(It&15)<<12|(Tt&63)<<6|Ot&63,Ti>2047&&(Ti<55296||Ti>57343)&&(yt=Ti));break;case 4:Tt=rt[zt+1],Ot=rt[zt+2],li=rt[zt+3],(Tt&192)===128&&(Ot&192)===128&&(li&192)===128&&(Ti=(It&15)<<18|(Tt&63)<<12|(Ot&63)<<6|li&63,Ti>65535&&Ti<1114112&&(yt=Ti))}}yt===null?(yt=65533,Di=1):yt>65535&&(yt-=65536,bt.push(yt>>>10&1023|55296),yt=56320|yt&1023),bt.push(yt),zt+=Di}return de(bt)}const he=4096;function de(rt){const Pe=rt.length;if(Pe<=he)return String.fromCharCode.apply(String,rt);let Me="",bt=0;for(;bt<Pe;)Me+=String.fromCharCode.apply(String,rt.slice(bt,bt+=he));return Me}function Se(rt,Pe,Me){let bt="";Me=Math.min(rt.length,Me);for(let zt=Pe;zt<Me;++zt)bt+=String.fromCharCode(rt[zt]&127);return bt}function Be(rt,Pe,Me){let bt="";Me=Math.min(rt.length,Me);for(let zt=Pe;zt<Me;++zt)bt+=String.fromCharCode(rt[zt]);return bt}function Le(rt,Pe,Me){const bt=rt.length;(!Pe||Pe<0)&&(Pe=0),(!Me||Me<0||Me>bt)&&(Me=bt);let zt="";for(let It=Pe;It<Me;++It)zt+=Lt[rt[It]];return zt}function nt(rt,Pe,Me){const bt=rt.slice(Pe,Me);let zt="";for(let It=0;It<bt.length-1;It+=2)zt+=String.fromCharCode(bt[It]+bt[It+1]*256);return zt}A.prototype.slice=function(Pe,Me){const bt=this.length;Pe=~~Pe,Me=Me===void 0?bt:~~Me,Pe<0?(Pe+=bt,Pe<0&&(Pe=0)):Pe>bt&&(Pe=bt),Me<0?(Me+=bt,Me<0&&(Me=0)):Me>bt&&(Me=bt),Me<Pe&&(Me=Pe);const zt=this.subarray(Pe,Me);return Object.setPrototypeOf(zt,A.prototype),zt};function He(rt,Pe,Me){if(rt%1!==0||rt<0)throw new RangeError("offset is not uint");if(rt+Pe>Me)throw new RangeError("Trying to access beyond buffer length")}A.prototype.readUintLE=A.prototype.readUIntLE=function(Pe,Me,bt){Pe=Pe>>>0,Me=Me>>>0,bt||He(Pe,Me,this.length);let zt=this[Pe],It=1,yt=0;for(;++yt<Me&&(It*=256);)zt+=this[Pe+yt]*It;return zt},A.prototype.readUintBE=A.prototype.readUIntBE=function(Pe,Me,bt){Pe=Pe>>>0,Me=Me>>>0,bt||He(Pe,Me,this.length);let zt=this[Pe+--Me],It=1;for(;Me>0&&(It*=256);)zt+=this[Pe+--Me]*It;return zt},A.prototype.readUint8=A.prototype.readUInt8=function(Pe,Me){return Pe=Pe>>>0,Me||He(Pe,1,this.length),this[Pe]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(Pe,Me){return Pe=Pe>>>0,Me||He(Pe,2,this.length),this[Pe]|this[Pe+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(Pe,Me){return Pe=Pe>>>0,Me||He(Pe,2,this.length),this[Pe]<<8|this[Pe+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(Pe,Me){return Pe=Pe>>>0,Me||He(Pe,4,this.length),(this[Pe]|this[Pe+1]<<8|this[Pe+2]<<16)+this[Pe+3]*16777216},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(Pe,Me){return Pe=Pe>>>0,Me||He(Pe,4,this.length),this[Pe]*16777216+(this[Pe+1]<<16|this[Pe+2]<<8|this[Pe+3])},A.prototype.readBigUInt64LE=ii(function(Pe){Pe=Pe>>>0,Yt(Pe,"offset");const Me=this[Pe],bt=this[Pe+7];(Me===void 0||bt===void 0)&&$t(Pe,this.length-8);const zt=Me+this[++Pe]*2**8+this[++Pe]*2**16+this[++Pe]*2**24,It=this[++Pe]+this[++Pe]*2**8+this[++Pe]*2**16+bt*2**24;return BigInt(zt)+(BigInt(It)<<BigInt(32))}),A.prototype.readBigUInt64BE=ii(function(Pe){Pe=Pe>>>0,Yt(Pe,"offset");const Me=this[Pe],bt=this[Pe+7];(Me===void 0||bt===void 0)&&$t(Pe,this.length-8);const zt=Me*2**24+this[++Pe]*2**16+this[++Pe]*2**8+this[++Pe],It=this[++Pe]*2**24+this[++Pe]*2**16+this[++Pe]*2**8+bt;return(BigInt(zt)<<BigInt(32))+BigInt(It)}),A.prototype.readIntLE=function(Pe,Me,bt){Pe=Pe>>>0,Me=Me>>>0,bt||He(Pe,Me,this.length);let zt=this[Pe],It=1,yt=0;for(;++yt<Me&&(It*=256);)zt+=this[Pe+yt]*It;return It*=128,zt>=It&&(zt-=Math.pow(2,8*Me)),zt},A.prototype.readIntBE=function(Pe,Me,bt){Pe=Pe>>>0,Me=Me>>>0,bt||He(Pe,Me,this.length);let zt=Me,It=1,yt=this[Pe+--zt];for(;zt>0&&(It*=256);)yt+=this[Pe+--zt]*It;return It*=128,yt>=It&&(yt-=Math.pow(2,8*Me)),yt},A.prototype.readInt8=function(Pe,Me){return Pe=Pe>>>0,Me||He(Pe,1,this.length),this[Pe]&128?(255-this[Pe]+1)*-1:this[Pe]},A.prototype.readInt16LE=function(Pe,Me){Pe=Pe>>>0,Me||He(Pe,2,this.length);const bt=this[Pe]|this[Pe+1]<<8;return bt&32768?bt|4294901760:bt},A.prototype.readInt16BE=function(Pe,Me){Pe=Pe>>>0,Me||He(Pe,2,this.length);const bt=this[Pe+1]|this[Pe]<<8;return bt&32768?bt|4294901760:bt},A.prototype.readInt32LE=function(Pe,Me){return Pe=Pe>>>0,Me||He(Pe,4,this.length),this[Pe]|this[Pe+1]<<8|this[Pe+2]<<16|this[Pe+3]<<24},A.prototype.readInt32BE=function(Pe,Me){return Pe=Pe>>>0,Me||He(Pe,4,this.length),this[Pe]<<24|this[Pe+1]<<16|this[Pe+2]<<8|this[Pe+3]},A.prototype.readBigInt64LE=ii(function(Pe){Pe=Pe>>>0,Yt(Pe,"offset");const Me=this[Pe],bt=this[Pe+7];(Me===void 0||bt===void 0)&&$t(Pe,this.length-8);const zt=this[Pe+4]+this[Pe+5]*2**8+this[Pe+6]*2**16+(bt<<24);return(BigInt(zt)<<BigInt(32))+BigInt(Me+this[++Pe]*2**8+this[++Pe]*2**16+this[++Pe]*2**24)}),A.prototype.readBigInt64BE=ii(function(Pe){Pe=Pe>>>0,Yt(Pe,"offset");const Me=this[Pe],bt=this[Pe+7];(Me===void 0||bt===void 0)&&$t(Pe,this.length-8);const zt=(Me<<24)+this[++Pe]*2**16+this[++Pe]*2**8+this[++Pe];return(BigInt(zt)<<BigInt(32))+BigInt(this[++Pe]*2**24+this[++Pe]*2**16+this[++Pe]*2**8+bt)}),A.prototype.readFloatLE=function(Pe,Me){return Pe=Pe>>>0,Me||He(Pe,4,this.length),i.read(this,Pe,!0,23,4)},A.prototype.readFloatBE=function(Pe,Me){return Pe=Pe>>>0,Me||He(Pe,4,this.length),i.read(this,Pe,!1,23,4)},A.prototype.readDoubleLE=function(Pe,Me){return Pe=Pe>>>0,Me||He(Pe,8,this.length),i.read(this,Pe,!0,52,8)},A.prototype.readDoubleBE=function(Pe,Me){return Pe=Pe>>>0,Me||He(Pe,8,this.length),i.read(this,Pe,!1,52,8)};function ce(rt,Pe,Me,bt,zt,It){if(!A.isBuffer(rt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Pe>zt||Pe<It)throw new RangeError('"value" argument is out of bounds');if(Me+bt>rt.length)throw new RangeError("Index out of range")}A.prototype.writeUintLE=A.prototype.writeUIntLE=function(Pe,Me,bt,zt){if(Pe=+Pe,Me=Me>>>0,bt=bt>>>0,!zt){const Di=Math.pow(2,8*bt)-1;ce(this,Pe,Me,bt,Di,0)}let It=1,yt=0;for(this[Me]=Pe&255;++yt<bt&&(It*=256);)this[Me+yt]=Pe/It&255;return Me+bt},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(Pe,Me,bt,zt){if(Pe=+Pe,Me=Me>>>0,bt=bt>>>0,!zt){const Di=Math.pow(2,8*bt)-1;ce(this,Pe,Me,bt,Di,0)}let It=bt-1,yt=1;for(this[Me+It]=Pe&255;--It>=0&&(yt*=256);)this[Me+It]=Pe/yt&255;return Me+bt},A.prototype.writeUint8=A.prototype.writeUInt8=function(Pe,Me,bt){return Pe=+Pe,Me=Me>>>0,bt||ce(this,Pe,Me,1,255,0),this[Me]=Pe&255,Me+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(Pe,Me,bt){return Pe=+Pe,Me=Me>>>0,bt||ce(this,Pe,Me,2,65535,0),this[Me]=Pe&255,this[Me+1]=Pe>>>8,Me+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(Pe,Me,bt){return Pe=+Pe,Me=Me>>>0,bt||ce(this,Pe,Me,2,65535,0),this[Me]=Pe>>>8,this[Me+1]=Pe&255,Me+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(Pe,Me,bt){return Pe=+Pe,Me=Me>>>0,bt||ce(this,Pe,Me,4,4294967295,0),this[Me+3]=Pe>>>24,this[Me+2]=Pe>>>16,this[Me+1]=Pe>>>8,this[Me]=Pe&255,Me+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(Pe,Me,bt){return Pe=+Pe,Me=Me>>>0,bt||ce(this,Pe,Me,4,4294967295,0),this[Me]=Pe>>>24,this[Me+1]=Pe>>>16,this[Me+2]=Pe>>>8,this[Me+3]=Pe&255,Me+4};function Re(rt,Pe,Me,bt,zt){Ft(Pe,bt,zt,rt,Me,7);let It=Number(Pe&BigInt(4294967295));rt[Me++]=It,It=It>>8,rt[Me++]=It,It=It>>8,rt[Me++]=It,It=It>>8,rt[Me++]=It;let yt=Number(Pe>>BigInt(32)&BigInt(4294967295));return rt[Me++]=yt,yt=yt>>8,rt[Me++]=yt,yt=yt>>8,rt[Me++]=yt,yt=yt>>8,rt[Me++]=yt,Me}function lt(rt,Pe,Me,bt,zt){Ft(Pe,bt,zt,rt,Me,7);let It=Number(Pe&BigInt(4294967295));rt[Me+7]=It,It=It>>8,rt[Me+6]=It,It=It>>8,rt[Me+5]=It,It=It>>8,rt[Me+4]=It;let yt=Number(Pe>>BigInt(32)&BigInt(4294967295));return rt[Me+3]=yt,yt=yt>>8,rt[Me+2]=yt,yt=yt>>8,rt[Me+1]=yt,yt=yt>>8,rt[Me]=yt,Me+8}A.prototype.writeBigUInt64LE=ii(function(Pe,Me=0){return Re(this,Pe,Me,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=ii(function(Pe,Me=0){return lt(this,Pe,Me,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(Pe,Me,bt,zt){if(Pe=+Pe,Me=Me>>>0,!zt){const Tt=Math.pow(2,8*bt-1);ce(this,Pe,Me,bt,Tt-1,-Tt)}let It=0,yt=1,Di=0;for(this[Me]=Pe&255;++It<bt&&(yt*=256);)Pe<0&&Di===0&&this[Me+It-1]!==0&&(Di=1),this[Me+It]=(Pe/yt>>0)-Di&255;return Me+bt},A.prototype.writeIntBE=function(Pe,Me,bt,zt){if(Pe=+Pe,Me=Me>>>0,!zt){const Tt=Math.pow(2,8*bt-1);ce(this,Pe,Me,bt,Tt-1,-Tt)}let It=bt-1,yt=1,Di=0;for(this[Me+It]=Pe&255;--It>=0&&(yt*=256);)Pe<0&&Di===0&&this[Me+It+1]!==0&&(Di=1),this[Me+It]=(Pe/yt>>0)-Di&255;return Me+bt},A.prototype.writeInt8=function(Pe,Me,bt){return Pe=+Pe,Me=Me>>>0,bt||ce(this,Pe,Me,1,127,-128),Pe<0&&(Pe=255+Pe+1),this[Me]=Pe&255,Me+1},A.prototype.writeInt16LE=function(Pe,Me,bt){return Pe=+Pe,Me=Me>>>0,bt||ce(this,Pe,Me,2,32767,-32768),this[Me]=Pe&255,this[Me+1]=Pe>>>8,Me+2},A.prototype.writeInt16BE=function(Pe,Me,bt){return Pe=+Pe,Me=Me>>>0,bt||ce(this,Pe,Me,2,32767,-32768),this[Me]=Pe>>>8,this[Me+1]=Pe&255,Me+2},A.prototype.writeInt32LE=function(Pe,Me,bt){return Pe=+Pe,Me=Me>>>0,bt||ce(this,Pe,Me,4,2147483647,-2147483648),this[Me]=Pe&255,this[Me+1]=Pe>>>8,this[Me+2]=Pe>>>16,this[Me+3]=Pe>>>24,Me+4},A.prototype.writeInt32BE=function(Pe,Me,bt){return Pe=+Pe,Me=Me>>>0,bt||ce(this,Pe,Me,4,2147483647,-2147483648),Pe<0&&(Pe=4294967295+Pe+1),this[Me]=Pe>>>24,this[Me+1]=Pe>>>16,this[Me+2]=Pe>>>8,this[Me+3]=Pe&255,Me+4},A.prototype.writeBigInt64LE=ii(function(Pe,Me=0){return Re(this,Pe,Me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=ii(function(Pe,Me=0){return lt(this,Pe,Me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Te(rt,Pe,Me,bt,zt,It){if(Me+bt>rt.length)throw new RangeError("Index out of range");if(Me<0)throw new RangeError("Index out of range")}function Ye(rt,Pe,Me,bt,zt){return Pe=+Pe,Me=Me>>>0,zt||Te(rt,Pe,Me,4),i.write(rt,Pe,Me,bt,23,4),Me+4}A.prototype.writeFloatLE=function(Pe,Me,bt){return Ye(this,Pe,Me,!0,bt)},A.prototype.writeFloatBE=function(Pe,Me,bt){return Ye(this,Pe,Me,!1,bt)};function mt(rt,Pe,Me,bt,zt){return Pe=+Pe,Me=Me>>>0,zt||Te(rt,Pe,Me,8),i.write(rt,Pe,Me,bt,52,8),Me+8}A.prototype.writeDoubleLE=function(Pe,Me,bt){return mt(this,Pe,Me,!0,bt)},A.prototype.writeDoubleBE=function(Pe,Me,bt){return mt(this,Pe,Me,!1,bt)},A.prototype.copy=function(Pe,Me,bt,zt){if(!A.isBuffer(Pe))throw new TypeError("argument should be a Buffer");if(bt||(bt=0),!zt&&zt!==0&&(zt=this.length),Me>=Pe.length&&(Me=Pe.length),Me||(Me=0),zt>0&&zt<bt&&(zt=bt),zt===bt||Pe.length===0||this.length===0)return 0;if(Me<0)throw new RangeError("targetStart out of bounds");if(bt<0||bt>=this.length)throw new RangeError("Index out of range");if(zt<0)throw new RangeError("sourceEnd out of bounds");zt>this.length&&(zt=this.length),Pe.length-Me<zt-bt&&(zt=Pe.length-Me+bt);const It=zt-bt;return this===Pe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Me,bt,zt):Uint8Array.prototype.set.call(Pe,this.subarray(bt,zt),Me),It},A.prototype.fill=function(Pe,Me,bt,zt){if(typeof Pe=="string"){if(typeof Me=="string"?(zt=Me,Me=0,bt=this.length):typeof bt=="string"&&(zt=bt,bt=this.length),zt!==void 0&&typeof zt!="string")throw new TypeError("encoding must be a string");if(typeof zt=="string"&&!A.isEncoding(zt))throw new TypeError("Unknown encoding: "+zt);if(Pe.length===1){const yt=Pe.charCodeAt(0);(zt==="utf8"&&yt<128||zt==="latin1")&&(Pe=yt)}}else typeof Pe=="number"?Pe=Pe&255:typeof Pe=="boolean"&&(Pe=Number(Pe));if(Me<0||this.length<Me||this.length<bt)throw new RangeError("Out of range index");if(bt<=Me)return this;Me=Me>>>0,bt=bt===void 0?this.length:bt>>>0,Pe||(Pe=0);let It;if(typeof Pe=="number")for(It=Me;It<bt;++It)this[It]=Pe;else{const yt=A.isBuffer(Pe)?Pe:A.from(Pe,zt),Di=yt.length;if(Di===0)throw new TypeError('The value "'+Pe+'" is invalid for argument "value"');for(It=0;It<bt-Me;++It)this[It+Me]=yt[It%Di]}return this};const $e={};function gt(rt,Pe,Me){$e[rt]=class extends Me{constructor(){super(),Object.defineProperty(this,"message",{value:Pe.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${rt}]`,this.stack,delete this.name}get code(){return rt}set code(zt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:zt,writable:!0})}toString(){return`${this.name} [${rt}]: ${this.message}`}}}gt("ERR_BUFFER_OUT_OF_BOUNDS",function(rt){return rt?`${rt} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),gt("ERR_INVALID_ARG_TYPE",function(rt,Pe){return`The "${rt}" argument must be of type number. Received type ${typeof Pe}`},TypeError),gt("ERR_OUT_OF_RANGE",function(rt,Pe,Me){let bt=`The value of "${rt}" is out of range.`,zt=Me;return Number.isInteger(Me)&&Math.abs(Me)>2**32?zt=kt(String(Me)):typeof Me=="bigint"&&(zt=String(Me),(Me>BigInt(2)**BigInt(32)||Me<-(BigInt(2)**BigInt(32)))&&(zt=kt(zt)),zt+="n"),bt+=` It must be ${Pe}. Received ${zt}`,bt},RangeError);function kt(rt){let Pe="",Me=rt.length;const bt=rt[0]==="-"?1:0;for(;Me>=bt+4;Me-=3)Pe=`_${rt.slice(Me-3,Me)}${Pe}`;return`${rt.slice(0,Me)}${Pe}`}function Kt(rt,Pe,Me){Yt(Pe,"offset"),(rt[Pe]===void 0||rt[Pe+Me]===void 0)&&$t(Pe,rt.length-(Me+1))}function Ft(rt,Pe,Me,bt,zt,It){if(rt>Me||rt<Pe){const yt=typeof Pe=="bigint"?"n":"";let Di;throw It>3?Pe===0||Pe===BigInt(0)?Di=`>= 0${yt} and < 2${yt} ** ${(It+1)*8}${yt}`:Di=`>= -(2${yt} ** ${(It+1)*8-1}${yt}) and < 2 ** ${(It+1)*8-1}${yt}`:Di=`>= ${Pe}${yt} and <= ${Me}${yt}`,new $e.ERR_OUT_OF_RANGE("value",Di,rt)}Kt(bt,zt,It)}function Yt(rt,Pe){if(typeof rt!="number")throw new $e.ERR_INVALID_ARG_TYPE(Pe,"number",rt)}function $t(rt,Pe,Me){throw Math.floor(rt)!==rt?(Yt(rt,Me),new $e.ERR_OUT_OF_RANGE(Me||"offset","an integer",rt)):Pe<0?new $e.ERR_BUFFER_OUT_OF_BOUNDS:new $e.ERR_OUT_OF_RANGE(Me||"offset",`>= ${Me?1:0} and <= ${Pe}`,rt)}const vi=/[^+/0-9A-Za-z-_]/g;function Xi(rt){if(rt=rt.split("=")[0],rt=rt.trim().replace(vi,""),rt.length<2)return"";for(;rt.length%4!==0;)rt=rt+"=";return rt}function Ki(rt,Pe){Pe=Pe||1/0;let Me;const bt=rt.length;let zt=null;const It=[];for(let yt=0;yt<bt;++yt){if(Me=rt.charCodeAt(yt),Me>55295&&Me<57344){if(!zt){if(Me>56319){(Pe-=3)>-1&&It.push(239,191,189);continue}else if(yt+1===bt){(Pe-=3)>-1&&It.push(239,191,189);continue}zt=Me;continue}if(Me<56320){(Pe-=3)>-1&&It.push(239,191,189),zt=Me;continue}Me=(zt-55296<<10|Me-56320)+65536}else zt&&(Pe-=3)>-1&&It.push(239,191,189);if(zt=null,Me<128){if((Pe-=1)<0)break;It.push(Me)}else if(Me<2048){if((Pe-=2)<0)break;It.push(Me>>6|192,Me&63|128)}else if(Me<65536){if((Pe-=3)<0)break;It.push(Me>>12|224,Me>>6&63|128,Me&63|128)}else if(Me<1114112){if((Pe-=4)<0)break;It.push(Me>>18|240,Me>>12&63|128,Me>>6&63|128,Me&63|128)}else throw new Error("Invalid code point")}return It}function or(rt){const Pe=[];for(let Me=0;Me<rt.length;++Me)Pe.push(rt.charCodeAt(Me)&255);return Pe}function Et(rt,Pe){let Me,bt,zt;const It=[];for(let yt=0;yt<rt.length&&!((Pe-=2)<0);++yt)Me=rt.charCodeAt(yt),bt=Me>>8,zt=Me%256,It.push(zt),It.push(bt);return It}function Ct(rt){return t.toByteArray(Xi(rt))}function ri(rt,Pe,Me,bt){let zt;for(zt=0;zt<bt&&!(zt+Me>=Pe.length||zt>=rt.length);++zt)Pe[zt+Me]=rt[zt];return zt}function pt(rt,Pe){return rt instanceof Pe||rt!=null&&rt.constructor!=null&&rt.constructor.name!=null&&rt.constructor.name===Pe.name}function ft(rt){return rt!==rt}const Lt=function(){const rt="0123456789abcdef",Pe=new Array(256);for(let Me=0;Me<16;++Me){const bt=Me*16;for(let zt=0;zt<16;++zt)Pe[bt+zt]=rt[Me]+rt[zt]}return Pe}();function ii(rt){return typeof BigInt=="undefined"?bi:rt}function bi(){throw new Error("BigInt not supported")}})(tD);var Qre={exports:{}};(function(l){var t=function(){var i=String.fromCharCode,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",p={};function y(E,_){if(!p[E]){p[E]={};for(var k=0;k<E.length;k++)p[E][E.charAt(k)]=k}return p[E][_]}var A={compressToBase64:function(E){if(E==null)return"";var _=A._compress(E,6,function(k){return s.charAt(k)});switch(_.length%4){default:case 0:return _;case 1:return _+"===";case 2:return _+"==";case 3:return _+"="}},decompressFromBase64:function(E){return E==null?"":E==""?null:A._decompress(E.length,32,function(_){return y(s,E.charAt(_))})},compressToUTF16:function(E){return E==null?"":A._compress(E,15,function(_){return i(_+32)})+" "},decompressFromUTF16:function(E){return E==null?"":E==""?null:A._decompress(E.length,16384,function(_){return E.charCodeAt(_)-32})},compressToUint8Array:function(E){for(var _=A.compress(E),k=new Uint8Array(_.length*2),R=0,P=_.length;R<P;R++){var B=_.charCodeAt(R);k[R*2]=B>>>8,k[R*2+1]=B%256}return k},decompressFromUint8Array:function(E){if(E==null)return A.decompress(E);for(var _=new Array(E.length/2),k=0,R=_.length;k<R;k++)_[k]=E[k*2]*256+E[k*2+1];var P=[];return _.forEach(function(B){P.push(i(B))}),A.decompress(P.join(""))},compressToEncodedURIComponent:function(E){return E==null?"":A._compress(E,6,function(_){return u.charAt(_)})},decompressFromEncodedURIComponent:function(E){return E==null?"":E==""?null:(E=E.replace(/ /g,"+"),A._decompress(E.length,32,function(_){return y(u,E.charAt(_))}))},compress:function(E){return A._compress(E,16,function(_){return i(_)})},_compress:function(E,_,k){if(E==null)return"";var R,P,B={},O={},H="",z="",Y="",ee=2,ue=3,oe=2,Ae=[],be=0,xe=0,ne;for(ne=0;ne<E.length;ne+=1)if(H=E.charAt(ne),Object.prototype.hasOwnProperty.call(B,H)||(B[H]=ue++,O[H]=!0),z=Y+H,Object.prototype.hasOwnProperty.call(B,z))Y=z;else{if(Object.prototype.hasOwnProperty.call(O,Y)){if(Y.charCodeAt(0)<256){for(R=0;R<oe;R++)be=be<<1,xe==_-1?(xe=0,Ae.push(k(be)),be=0):xe++;for(P=Y.charCodeAt(0),R=0;R<8;R++)be=be<<1|P&1,xe==_-1?(xe=0,Ae.push(k(be)),be=0):xe++,P=P>>1}else{for(P=1,R=0;R<oe;R++)be=be<<1|P,xe==_-1?(xe=0,Ae.push(k(be)),be=0):xe++,P=0;for(P=Y.charCodeAt(0),R=0;R<16;R++)be=be<<1|P&1,xe==_-1?(xe=0,Ae.push(k(be)),be=0):xe++,P=P>>1}ee--,ee==0&&(ee=Math.pow(2,oe),oe++),delete O[Y]}else for(P=B[Y],R=0;R<oe;R++)be=be<<1|P&1,xe==_-1?(xe=0,Ae.push(k(be)),be=0):xe++,P=P>>1;ee--,ee==0&&(ee=Math.pow(2,oe),oe++),B[z]=ue++,Y=String(H)}if(Y!==""){if(Object.prototype.hasOwnProperty.call(O,Y)){if(Y.charCodeAt(0)<256){for(R=0;R<oe;R++)be=be<<1,xe==_-1?(xe=0,Ae.push(k(be)),be=0):xe++;for(P=Y.charCodeAt(0),R=0;R<8;R++)be=be<<1|P&1,xe==_-1?(xe=0,Ae.push(k(be)),be=0):xe++,P=P>>1}else{for(P=1,R=0;R<oe;R++)be=be<<1|P,xe==_-1?(xe=0,Ae.push(k(be)),be=0):xe++,P=0;for(P=Y.charCodeAt(0),R=0;R<16;R++)be=be<<1|P&1,xe==_-1?(xe=0,Ae.push(k(be)),be=0):xe++,P=P>>1}ee--,ee==0&&(ee=Math.pow(2,oe),oe++),delete O[Y]}else for(P=B[Y],R=0;R<oe;R++)be=be<<1|P&1,xe==_-1?(xe=0,Ae.push(k(be)),be=0):xe++,P=P>>1;ee--,ee==0&&(ee=Math.pow(2,oe),oe++)}for(P=2,R=0;R<oe;R++)be=be<<1|P&1,xe==_-1?(xe=0,Ae.push(k(be)),be=0):xe++,P=P>>1;for(;;)if(be=be<<1,xe==_-1){Ae.push(k(be));break}else xe++;return Ae.join("")},decompress:function(E){return E==null?"":E==""?null:A._decompress(E.length,32768,function(_){return E.charCodeAt(_)})},_decompress:function(E,_,k){var R=[],P=4,B=4,O=3,H="",z=[],Y,ee,ue,oe,Ae,be,xe,ne={val:k(0),position:_,index:1};for(Y=0;Y<3;Y+=1)R[Y]=Y;for(ue=0,Ae=Math.pow(2,2),be=1;be!=Ae;)oe=ne.val&ne.position,ne.position>>=1,ne.position==0&&(ne.position=_,ne.val=k(ne.index++)),ue|=(oe>0?1:0)*be,be<<=1;switch(ue){case 0:for(ue=0,Ae=Math.pow(2,8),be=1;be!=Ae;)oe=ne.val&ne.position,ne.position>>=1,ne.position==0&&(ne.position=_,ne.val=k(ne.index++)),ue|=(oe>0?1:0)*be,be<<=1;xe=i(ue);break;case 1:for(ue=0,Ae=Math.pow(2,16),be=1;be!=Ae;)oe=ne.val&ne.position,ne.position>>=1,ne.position==0&&(ne.position=_,ne.val=k(ne.index++)),ue|=(oe>0?1:0)*be,be<<=1;xe=i(ue);break;case 2:return""}for(R[3]=xe,ee=xe,z.push(xe);;){if(ne.index>E)return"";for(ue=0,Ae=Math.pow(2,O),be=1;be!=Ae;)oe=ne.val&ne.position,ne.position>>=1,ne.position==0&&(ne.position=_,ne.val=k(ne.index++)),ue|=(oe>0?1:0)*be,be<<=1;switch(xe=ue){case 0:for(ue=0,Ae=Math.pow(2,8),be=1;be!=Ae;)oe=ne.val&ne.position,ne.position>>=1,ne.position==0&&(ne.position=_,ne.val=k(ne.index++)),ue|=(oe>0?1:0)*be,be<<=1;R[B++]=i(ue),xe=B-1,P--;break;case 1:for(ue=0,Ae=Math.pow(2,16),be=1;be!=Ae;)oe=ne.val&ne.position,ne.position>>=1,ne.position==0&&(ne.position=_,ne.val=k(ne.index++)),ue|=(oe>0?1:0)*be,be<<=1;R[B++]=i(ue),xe=B-1,P--;break;case 2:return z.join("")}if(P==0&&(P=Math.pow(2,O),O++),R[xe])H=R[xe];else if(xe===B)H=ee+ee.charAt(0);else return null;z.push(H),R[B++]=ee+H.charAt(0),P--,ee=H,P==0&&(P=Math.pow(2,O),O++)}}};return A}();l!=null&&(l.exports=t)})(Qre);var Jre=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,v5=Math.ceil,ou=Math.floor,ja="[BigNumber Error] ",n9=ja+"Number primitive has more than 15 significant digits: ",wf=1e14,Un=14,w5=9007199254740991,x5=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],lh=1e7,Uo=1e9;function iD(l){var t,i,s,u=ee.prototype={constructor:ee,toString:null,valueOf:null},p=new ee(1),y=20,A=4,E=-7,_=21,k=-1e7,R=1e7,P=!1,B=1,O=0,H={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},z="0123456789abcdefghijklmnopqrstuvwxyz",Y=!0;function ee(ne,ae){var ye,ge,we,le,ie,he,de,Se,Be=this;if(!(Be instanceof ee))return new ee(ne,ae);if(ae==null){if(ne&&ne._isBigNumber===!0){Be.s=ne.s,!ne.c||ne.e>R?Be.c=Be.e=null:ne.e<k?Be.c=[Be.e=0]:(Be.e=ne.e,Be.c=ne.c.slice());return}if((he=typeof ne=="number")&&ne*0==0){if(Be.s=1/ne<0?(ne=-ne,-1):1,ne===~~ne){for(le=0,ie=ne;ie>=10;ie/=10,le++);le>R?Be.c=Be.e=null:(Be.e=le,Be.c=[ne]);return}Se=String(ne)}else{if(!Jre.test(Se=String(ne)))return s(Be,Se,he);Be.s=Se.charCodeAt(0)==45?(Se=Se.slice(1),-1):1}(le=Se.indexOf("."))>-1&&(Se=Se.replace(".","")),(ie=Se.search(/e/i))>0?(le<0&&(le=ie),le+=+Se.slice(ie+1),Se=Se.substring(0,ie)):le<0&&(le=Se.length)}else{if(Fs(ae,2,z.length,"Base"),ae==10&&Y)return Be=new ee(ne),be(Be,y+Be.e+1,A);if(Se=String(ne),he=typeof ne=="number"){if(ne*0!=0)return s(Be,Se,he,ae);if(Be.s=1/ne<0?(Se=Se.slice(1),-1):1,ee.DEBUG&&Se.replace(/^0\.0*|\./,"").length>15)throw Error(n9+ne)}else Be.s=Se.charCodeAt(0)===45?(Se=Se.slice(1),-1):1;for(ye=z.slice(0,ae),le=ie=0,de=Se.length;ie<de;ie++)if(ye.indexOf(ge=Se.charAt(ie))<0){if(ge=="."){if(ie>le){le=de;continue}}else if(!we&&(Se==Se.toUpperCase()&&(Se=Se.toLowerCase())||Se==Se.toLowerCase()&&(Se=Se.toUpperCase()))){we=!0,ie=-1,le=0;continue}return s(Be,String(ne),he,ae)}he=!1,Se=i(Se,ae,10,Be.s),(le=Se.indexOf("."))>-1?Se=Se.replace(".",""):le=Se.length}for(ie=0;Se.charCodeAt(ie)===48;ie++);for(de=Se.length;Se.charCodeAt(--de)===48;);if(Se=Se.slice(ie,++de)){if(de-=ie,he&&ee.DEBUG&&de>15&&(ne>w5||ne!==ou(ne)))throw Error(n9+Be.s*ne);if((le=le-ie-1)>R)Be.c=Be.e=null;else if(le<k)Be.c=[Be.e=0];else{if(Be.e=le,Be.c=[],ie=(le+1)%Un,le<0&&(ie+=Un),ie<de){for(ie&&Be.c.push(+Se.slice(0,ie)),de-=Un;ie<de;)Be.c.push(+Se.slice(ie,ie+=Un));ie=Un-(Se=Se.slice(ie)).length}else ie-=de;for(;ie--;Se+="0");Be.c.push(+Se)}}else Be.c=[Be.e=0]}ee.clone=iD,ee.ROUND_UP=0,ee.ROUND_DOWN=1,ee.ROUND_CEIL=2,ee.ROUND_FLOOR=3,ee.ROUND_HALF_UP=4,ee.ROUND_HALF_DOWN=5,ee.ROUND_HALF_EVEN=6,ee.ROUND_HALF_CEIL=7,ee.ROUND_HALF_FLOOR=8,ee.EUCLID=9,ee.config=ee.set=function(ne){var ae,ye;if(ne!=null)if(typeof ne=="object"){if(ne.hasOwnProperty(ae="DECIMAL_PLACES")&&(ye=ne[ae],Fs(ye,0,Uo,ae),y=ye),ne.hasOwnProperty(ae="ROUNDING_MODE")&&(ye=ne[ae],Fs(ye,0,8,ae),A=ye),ne.hasOwnProperty(ae="EXPONENTIAL_AT")&&(ye=ne[ae],ye&&ye.pop?(Fs(ye[0],-Uo,0,ae),Fs(ye[1],0,Uo,ae),E=ye[0],_=ye[1]):(Fs(ye,-Uo,Uo,ae),E=-(_=ye<0?-ye:ye))),ne.hasOwnProperty(ae="RANGE"))if(ye=ne[ae],ye&&ye.pop)Fs(ye[0],-Uo,-1,ae),Fs(ye[1],1,Uo,ae),k=ye[0],R=ye[1];else if(Fs(ye,-Uo,Uo,ae),ye)k=-(R=ye<0?-ye:ye);else throw Error(ja+ae+" cannot be zero: "+ye);if(ne.hasOwnProperty(ae="CRYPTO"))if(ye=ne[ae],ye===!!ye)if(ye)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))P=ye;else throw P=!ye,Error(ja+"crypto unavailable");else P=ye;else throw Error(ja+ae+" not true or false: "+ye);if(ne.hasOwnProperty(ae="MODULO_MODE")&&(ye=ne[ae],Fs(ye,0,9,ae),B=ye),ne.hasOwnProperty(ae="POW_PRECISION")&&(ye=ne[ae],Fs(ye,0,Uo,ae),O=ye),ne.hasOwnProperty(ae="FORMAT"))if(ye=ne[ae],typeof ye=="object")H=ye;else throw Error(ja+ae+" not an object: "+ye);if(ne.hasOwnProperty(ae="ALPHABET"))if(ye=ne[ae],typeof ye=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(ye))Y=ye.slice(0,10)=="0123456789",z=ye;else throw Error(ja+ae+" invalid: "+ye)}else throw Error(ja+"Object expected: "+ne);return{DECIMAL_PLACES:y,ROUNDING_MODE:A,EXPONENTIAL_AT:[E,_],RANGE:[k,R],CRYPTO:P,MODULO_MODE:B,POW_PRECISION:O,FORMAT:H,ALPHABET:z}},ee.isBigNumber=function(ne){if(!ne||ne._isBigNumber!==!0)return!1;if(!ee.DEBUG)return!0;var ae,ye,ge=ne.c,we=ne.e,le=ne.s;e:if({}.toString.call(ge)=="[object Array]"){if((le===1||le===-1)&&we>=-Uo&&we<=Uo&&we===ou(we)){if(ge[0]===0){if(we===0&&ge.length===1)return!0;break e}if(ae=(we+1)%Un,ae<1&&(ae+=Un),String(ge[0]).length==ae){for(ae=0;ae<ge.length;ae++)if(ye=ge[ae],ye<0||ye>=wf||ye!==ou(ye))break e;if(ye!==0)return!0}}}else if(ge===null&&we===null&&(le===null||le===1||le===-1))return!0;throw Error(ja+"Invalid BigNumber: "+ne)},ee.maximum=ee.max=function(){return oe(arguments,u.lt)},ee.minimum=ee.min=function(){return oe(arguments,u.gt)},ee.random=function(){var ne=9007199254740992,ae=Math.random()*ne&2097151?function(){return ou(Math.random()*ne)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(ye){var ge,we,le,ie,he,de=0,Se=[],Be=new ee(p);if(ye==null?ye=y:Fs(ye,0,Uo),ie=v5(ye/Un),P)if(crypto.getRandomValues){for(ge=crypto.getRandomValues(new Uint32Array(ie*=2));de<ie;)he=ge[de]*131072+(ge[de+1]>>>11),he>=9e15?(we=crypto.getRandomValues(new Uint32Array(2)),ge[de]=we[0],ge[de+1]=we[1]):(Se.push(he%1e14),de+=2);de=ie/2}else if(crypto.randomBytes){for(ge=crypto.randomBytes(ie*=7);de<ie;)he=(ge[de]&31)*281474976710656+ge[de+1]*1099511627776+ge[de+2]*4294967296+ge[de+3]*16777216+(ge[de+4]<<16)+(ge[de+5]<<8)+ge[de+6],he>=9e15?crypto.randomBytes(7).copy(ge,de):(Se.push(he%1e14),de+=7);de=ie/7}else throw P=!1,Error(ja+"crypto unavailable");if(!P)for(;de<ie;)he=ae(),he<9e15&&(Se[de++]=he%1e14);for(ie=Se[--de],ye%=Un,ie&&ye&&(he=x5[Un-ye],Se[de]=ou(ie/he)*he);Se[de]===0;Se.pop(),de--);if(de<0)Se=[le=0];else{for(le=-1;Se[0]===0;Se.splice(0,1),le-=Un);for(de=1,he=Se[0];he>=10;he/=10,de++);de<Un&&(le-=Un-de)}return Be.e=le,Be.c=Se,Be}}(),ee.sum=function(){for(var ne=1,ae=arguments,ye=new ee(ae[0]);ne<ae.length;)ye=ye.plus(ae[ne++]);return ye},i=function(){var ne="0123456789";function ae(ye,ge,we,le){for(var ie,he=[0],de,Se=0,Be=ye.length;Se<Be;){for(de=he.length;de--;he[de]*=ge);for(he[0]+=le.indexOf(ye.charAt(Se++)),ie=0;ie<he.length;ie++)he[ie]>we-1&&(he[ie+1]==null&&(he[ie+1]=0),he[ie+1]+=he[ie]/we|0,he[ie]%=we)}return he.reverse()}return function(ye,ge,we,le,ie){var he,de,Se,Be,Le,nt,He,ce,Re=ye.indexOf("."),lt=y,Te=A;for(Re>=0&&(Be=O,O=0,ye=ye.replace(".",""),ce=new ee(ge),nt=ce.pow(ye.length-Re),O=Be,ce.c=ae(Ku(jl(nt.c),nt.e,"0"),10,we,ne),ce.e=ce.c.length),He=ae(ye,ge,we,ie?(he=z,ne):(he=ne,z)),Se=Be=He.length;He[--Be]==0;He.pop());if(!He[0])return he.charAt(0);if(Re<0?--Se:(nt.c=He,nt.e=Se,nt.s=le,nt=t(nt,ce,lt,Te,we),He=nt.c,Le=nt.r,Se=nt.e),de=Se+lt+1,Re=He[de],Be=we/2,Le=Le||de<0||He[de+1]!=null,Le=Te<4?(Re!=null||Le)&&(Te==0||Te==(nt.s<0?3:2)):Re>Be||Re==Be&&(Te==4||Le||Te==6&&He[de-1]&1||Te==(nt.s<0?8:7)),de<1||!He[0])ye=Le?Ku(he.charAt(1),-lt,he.charAt(0)):he.charAt(0);else{if(He.length=de,Le)for(--we;++He[--de]>we;)He[de]=0,de||(++Se,He=[1].concat(He));for(Be=He.length;!He[--Be];);for(Re=0,ye="";Re<=Be;ye+=he.charAt(He[Re++]));ye=Ku(ye,Se,he.charAt(0))}return ye}}(),t=function(){function ne(ge,we,le){var ie,he,de,Se,Be=0,Le=ge.length,nt=we%lh,He=we/lh|0;for(ge=ge.slice();Le--;)de=ge[Le]%lh,Se=ge[Le]/lh|0,ie=He*de+Se*nt,he=nt*de+ie%lh*lh+Be,Be=(he/le|0)+(ie/lh|0)+He*Se,ge[Le]=he%le;return Be&&(ge=[Be].concat(ge)),ge}function ae(ge,we,le,ie){var he,de;if(le!=ie)de=le>ie?1:-1;else for(he=de=0;he<le;he++)if(ge[he]!=we[he]){de=ge[he]>we[he]?1:-1;break}return de}function ye(ge,we,le,ie){for(var he=0;le--;)ge[le]-=he,he=ge[le]<we[le]?1:0,ge[le]=he*ie+ge[le]-we[le];for(;!ge[0]&&ge.length>1;ge.splice(0,1));}return function(ge,we,le,ie,he){var de,Se,Be,Le,nt,He,ce,Re,lt,Te,Ye,mt,$e,gt,kt,Kt,Ft,Yt=ge.s==we.s?1:-1,$t=ge.c,vi=we.c;if(!$t||!$t[0]||!vi||!vi[0])return new ee(!ge.s||!we.s||($t?vi&&$t[0]==vi[0]:!vi)?NaN:$t&&$t[0]==0||!vi?Yt*0:Yt/0);for(Re=new ee(Yt),lt=Re.c=[],Se=ge.e-we.e,Yt=le+Se+1,he||(he=wf,Se=Ql(ge.e/Un)-Ql(we.e/Un),Yt=Yt/Un|0),Be=0;vi[Be]==($t[Be]||0);Be++);if(vi[Be]>($t[Be]||0)&&Se--,Yt<0)lt.push(1),Le=!0;else{for(gt=$t.length,Kt=vi.length,Be=0,Yt+=2,nt=ou(he/(vi[0]+1)),nt>1&&(vi=ne(vi,nt,he),$t=ne($t,nt,he),Kt=vi.length,gt=$t.length),$e=Kt,Te=$t.slice(0,Kt),Ye=Te.length;Ye<Kt;Te[Ye++]=0);Ft=vi.slice(),Ft=[0].concat(Ft),kt=vi[0],vi[1]>=he/2&&kt++;do{if(nt=0,de=ae(vi,Te,Kt,Ye),de<0){if(mt=Te[0],Kt!=Ye&&(mt=mt*he+(Te[1]||0)),nt=ou(mt/kt),nt>1)for(nt>=he&&(nt=he-1),He=ne(vi,nt,he),ce=He.length,Ye=Te.length;ae(He,Te,ce,Ye)==1;)nt--,ye(He,Kt<ce?Ft:vi,ce,he),ce=He.length,de=1;else nt==0&&(de=nt=1),He=vi.slice(),ce=He.length;if(ce<Ye&&(He=[0].concat(He)),ye(Te,He,Ye,he),Ye=Te.length,de==-1)for(;ae(vi,Te,Kt,Ye)<1;)nt++,ye(Te,Kt<Ye?Ft:vi,Ye,he),Ye=Te.length}else de===0&&(nt++,Te=[0]);lt[Be++]=nt,Te[0]?Te[Ye++]=$t[$e]||0:(Te=[$t[$e]],Ye=1)}while(($e++<gt||Te[0]!=null)&&Yt--);Le=Te[0]!=null,lt[0]||lt.splice(0,1)}if(he==wf){for(Be=1,Yt=lt[0];Yt>=10;Yt/=10,Be++);be(Re,le+(Re.e=Be+Se*Un-1)+1,ie,Le)}else Re.e=Se,Re.r=+Le;return Re}}();function ue(ne,ae,ye,ge){var we,le,ie,he,de;if(ye==null?ye=A:Fs(ye,0,8),!ne.c)return ne.toString();if(we=ne.c[0],ie=ne.e,ae==null)de=jl(ne.c),de=ge==1||ge==2&&(ie<=E||ie>=_)?vv(de,ie):Ku(de,ie,"0");else if(ne=be(new ee(ne),ae,ye),le=ne.e,de=jl(ne.c),he=de.length,ge==1||ge==2&&(ae<=le||le<=E)){for(;he<ae;de+="0",he++);de=vv(de,le)}else if(ae-=ie,de=Ku(de,le,"0"),le+1>he){if(--ae>0)for(de+=".";ae--;de+="0");}else if(ae+=le-he,ae>0)for(le+1==he&&(de+=".");ae--;de+="0");return ne.s<0&&we?"-"+de:de}function oe(ne,ae){for(var ye,ge=1,we=new ee(ne[0]);ge<ne.length;ge++)if(ye=new ee(ne[ge]),ye.s)ae.call(we,ye)&&(we=ye);else{we=ye;break}return we}function Ae(ne,ae,ye){for(var ge=1,we=ae.length;!ae[--we];ae.pop());for(we=ae[0];we>=10;we/=10,ge++);return(ye=ge+ye*Un-1)>R?ne.c=ne.e=null:ye<k?ne.c=[ne.e=0]:(ne.e=ye,ne.c=ae),ne}s=function(){var ne=/^(-?)0([xbo])(?=\w[\w.]*$)/i,ae=/^([^.]+)\.$/,ye=/^\.([^.]+)$/,ge=/^-?(Infinity|NaN)$/,we=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(le,ie,he,de){var Se,Be=he?ie:ie.replace(we,"");if(ge.test(Be))le.s=isNaN(Be)?null:Be<0?-1:1;else{if(!he&&(Be=Be.replace(ne,function(Le,nt,He){return Se=(He=He.toLowerCase())=="x"?16:He=="b"?2:8,!de||de==Se?nt:Le}),de&&(Se=de,Be=Be.replace(ae,"$1").replace(ye,"0.$1")),ie!=Be))return new ee(Be,Se);if(ee.DEBUG)throw Error(ja+"Not a"+(de?" base "+de:"")+" number: "+ie);le.s=null}le.c=le.e=null}}();function be(ne,ae,ye,ge){var we,le,ie,he,de,Se,Be,Le=ne.c,nt=x5;if(Le){e:{for(we=1,he=Le[0];he>=10;he/=10,we++);if(le=ae-we,le<0)le+=Un,ie=ae,de=Le[Se=0],Be=de/nt[we-ie-1]%10|0;else if(Se=v5((le+1)/Un),Se>=Le.length)if(ge){for(;Le.length<=Se;Le.push(0));de=Be=0,we=1,le%=Un,ie=le-Un+1}else break e;else{for(de=he=Le[Se],we=1;he>=10;he/=10,we++);le%=Un,ie=le-Un+we,Be=ie<0?0:de/nt[we-ie-1]%10|0}if(ge=ge||ae<0||Le[Se+1]!=null||(ie<0?de:de%nt[we-ie-1]),ge=ye<4?(Be||ge)&&(ye==0||ye==(ne.s<0?3:2)):Be>5||Be==5&&(ye==4||ge||ye==6&&(le>0?ie>0?de/nt[we-ie]:0:Le[Se-1])%10&1||ye==(ne.s<0?8:7)),ae<1||!Le[0])return Le.length=0,ge?(ae-=ne.e+1,Le[0]=nt[(Un-ae%Un)%Un],ne.e=-ae||0):Le[0]=ne.e=0,ne;if(le==0?(Le.length=Se,he=1,Se--):(Le.length=Se+1,he=nt[Un-le],Le[Se]=ie>0?ou(de/nt[we-ie]%nt[ie])*he:0),ge)for(;;)if(Se==0){for(le=1,ie=Le[0];ie>=10;ie/=10,le++);for(ie=Le[0]+=he,he=1;ie>=10;ie/=10,he++);le!=he&&(ne.e++,Le[0]==wf&&(Le[0]=1));break}else{if(Le[Se]+=he,Le[Se]!=wf)break;Le[Se--]=0,he=1}for(le=Le.length;Le[--le]===0;Le.pop());}ne.e>R?ne.c=ne.e=null:ne.e<k&&(ne.c=[ne.e=0])}return ne}function xe(ne){var ae,ye=ne.e;return ye===null?ne.toString():(ae=jl(ne.c),ae=ye<=E||ye>=_?vv(ae,ye):Ku(ae,ye,"0"),ne.s<0?"-"+ae:ae)}return u.absoluteValue=u.abs=function(){var ne=new ee(this);return ne.s<0&&(ne.s=1),ne},u.comparedTo=function(ne,ae){return yp(this,new ee(ne,ae))},u.decimalPlaces=u.dp=function(ne,ae){var ye,ge,we,le=this;if(ne!=null)return Fs(ne,0,Uo),ae==null?ae=A:Fs(ae,0,8),be(new ee(le),ne+le.e+1,ae);if(!(ye=le.c))return null;if(ge=((we=ye.length-1)-Ql(this.e/Un))*Un,we=ye[we])for(;we%10==0;we/=10,ge--);return ge<0&&(ge=0),ge},u.dividedBy=u.div=function(ne,ae){return t(this,new ee(ne,ae),y,A)},u.dividedToIntegerBy=u.idiv=function(ne,ae){return t(this,new ee(ne,ae),0,1)},u.exponentiatedBy=u.pow=function(ne,ae){var ye,ge,we,le,ie,he,de,Se,Be,Le=this;if(ne=new ee(ne),ne.c&&!ne.isInteger())throw Error(ja+"Exponent not an integer: "+xe(ne));if(ae!=null&&(ae=new ee(ae)),he=ne.e>14,!Le.c||!Le.c[0]||Le.c[0]==1&&!Le.e&&Le.c.length==1||!ne.c||!ne.c[0])return Be=new ee(Math.pow(+xe(Le),he?2-Av(ne):+xe(ne))),ae?Be.mod(ae):Be;if(de=ne.s<0,ae){if(ae.c?!ae.c[0]:!ae.s)return new ee(NaN);ge=!de&&Le.isInteger()&&ae.isInteger(),ge&&(Le=Le.mod(ae))}else{if(ne.e>9&&(Le.e>0||Le.e<-1||(Le.e==0?Le.c[0]>1||he&&Le.c[1]>=24e7:Le.c[0]<8e13||he&&Le.c[0]<=9999975e7)))return le=Le.s<0&&Av(ne)?-0:0,Le.e>-1&&(le=1/le),new ee(de?1/le:le);O&&(le=v5(O/Un+2))}for(he?(ye=new ee(.5),de&&(ne.s=1),Se=Av(ne)):(we=Math.abs(+xe(ne)),Se=we%2),Be=new ee(p);;){if(Se){if(Be=Be.times(Le),!Be.c)break;le?Be.c.length>le&&(Be.c.length=le):ge&&(Be=Be.mod(ae))}if(we){if(we=ou(we/2),we===0)break;Se=we%2}else if(ne=ne.times(ye),be(ne,ne.e+1,1),ne.e>14)Se=Av(ne);else{if(we=+xe(ne),we===0)break;Se=we%2}Le=Le.times(Le),le?Le.c&&Le.c.length>le&&(Le.c.length=le):ge&&(Le=Le.mod(ae))}return ge?Be:(de&&(Be=p.div(Be)),ae?Be.mod(ae):le?be(Be,O,A,ie):Be)},u.integerValue=function(ne){var ae=new ee(this);return ne==null?ne=A:Fs(ne,0,8),be(ae,ae.e+1,ne)},u.isEqualTo=u.eq=function(ne,ae){return yp(this,new ee(ne,ae))===0},u.isFinite=function(){return!!this.c},u.isGreaterThan=u.gt=function(ne,ae){return yp(this,new ee(ne,ae))>0},u.isGreaterThanOrEqualTo=u.gte=function(ne,ae){return(ae=yp(this,new ee(ne,ae)))===1||ae===0},u.isInteger=function(){return!!this.c&&Ql(this.e/Un)>this.c.length-2},u.isLessThan=u.lt=function(ne,ae){return yp(this,new ee(ne,ae))<0},u.isLessThanOrEqualTo=u.lte=function(ne,ae){return(ae=yp(this,new ee(ne,ae)))===-1||ae===0},u.isNaN=function(){return!this.s},u.isNegative=function(){return this.s<0},u.isPositive=function(){return this.s>0},u.isZero=function(){return!!this.c&&this.c[0]==0},u.minus=function(ne,ae){var ye,ge,we,le,ie=this,he=ie.s;if(ne=new ee(ne,ae),ae=ne.s,!he||!ae)return new ee(NaN);if(he!=ae)return ne.s=-ae,ie.plus(ne);var de=ie.e/Un,Se=ne.e/Un,Be=ie.c,Le=ne.c;if(!de||!Se){if(!Be||!Le)return Be?(ne.s=-ae,ne):new ee(Le?ie:NaN);if(!Be[0]||!Le[0])return Le[0]?(ne.s=-ae,ne):new ee(Be[0]?ie:A==3?-0:0)}if(de=Ql(de),Se=Ql(Se),Be=Be.slice(),he=de-Se){for((le=he<0)?(he=-he,we=Be):(Se=de,we=Le),we.reverse(),ae=he;ae--;we.push(0));we.reverse()}else for(ge=(le=(he=Be.length)<(ae=Le.length))?he:ae,he=ae=0;ae<ge;ae++)if(Be[ae]!=Le[ae]){le=Be[ae]<Le[ae];break}if(le&&(we=Be,Be=Le,Le=we,ne.s=-ne.s),ae=(ge=Le.length)-(ye=Be.length),ae>0)for(;ae--;Be[ye++]=0);for(ae=wf-1;ge>he;){if(Be[--ge]<Le[ge]){for(ye=ge;ye&&!Be[--ye];Be[ye]=ae);--Be[ye],Be[ge]+=wf}Be[ge]-=Le[ge]}for(;Be[0]==0;Be.splice(0,1),--Se);return Be[0]?Ae(ne,Be,Se):(ne.s=A==3?-1:1,ne.c=[ne.e=0],ne)},u.modulo=u.mod=function(ne,ae){var ye,ge,we=this;return ne=new ee(ne,ae),!we.c||!ne.s||ne.c&&!ne.c[0]?new ee(NaN):!ne.c||we.c&&!we.c[0]?new ee(we):(B==9?(ge=ne.s,ne.s=1,ye=t(we,ne,0,3),ne.s=ge,ye.s*=ge):ye=t(we,ne,0,B),ne=we.minus(ye.times(ne)),!ne.c[0]&&B==1&&(ne.s=we.s),ne)},u.multipliedBy=u.times=function(ne,ae){var ye,ge,we,le,ie,he,de,Se,Be,Le,nt,He,ce,Re,lt,Te=this,Ye=Te.c,mt=(ne=new ee(ne,ae)).c;if(!Ye||!mt||!Ye[0]||!mt[0])return!Te.s||!ne.s||Ye&&!Ye[0]&&!mt||mt&&!mt[0]&&!Ye?ne.c=ne.e=ne.s=null:(ne.s*=Te.s,!Ye||!mt?ne.c=ne.e=null:(ne.c=[0],ne.e=0)),ne;for(ge=Ql(Te.e/Un)+Ql(ne.e/Un),ne.s*=Te.s,de=Ye.length,Le=mt.length,de<Le&&(ce=Ye,Ye=mt,mt=ce,we=de,de=Le,Le=we),we=de+Le,ce=[];we--;ce.push(0));for(Re=wf,lt=lh,we=Le;--we>=0;){for(ye=0,nt=mt[we]%lt,He=mt[we]/lt|0,ie=de,le=we+ie;le>we;)Se=Ye[--ie]%lt,Be=Ye[ie]/lt|0,he=He*Se+Be*nt,Se=nt*Se+he%lt*lt+ce[le]+ye,ye=(Se/Re|0)+(he/lt|0)+He*Be,ce[le--]=Se%Re;ce[le]=ye}return ye?++ge:ce.splice(0,1),Ae(ne,ce,ge)},u.negated=function(){var ne=new ee(this);return ne.s=-ne.s||null,ne},u.plus=function(ne,ae){var ye,ge=this,we=ge.s;if(ne=new ee(ne,ae),ae=ne.s,!we||!ae)return new ee(NaN);if(we!=ae)return ne.s=-ae,ge.minus(ne);var le=ge.e/Un,ie=ne.e/Un,he=ge.c,de=ne.c;if(!le||!ie){if(!he||!de)return new ee(we/0);if(!he[0]||!de[0])return de[0]?ne:new ee(he[0]?ge:we*0)}if(le=Ql(le),ie=Ql(ie),he=he.slice(),we=le-ie){for(we>0?(ie=le,ye=de):(we=-we,ye=he),ye.reverse();we--;ye.push(0));ye.reverse()}for(we=he.length,ae=de.length,we-ae<0&&(ye=de,de=he,he=ye,ae=we),we=0;ae;)we=(he[--ae]=he[ae]+de[ae]+we)/wf|0,he[ae]=wf===he[ae]?0:he[ae]%wf;return we&&(he=[we].concat(he),++ie),Ae(ne,he,ie)},u.precision=u.sd=function(ne,ae){var ye,ge,we,le=this;if(ne!=null&&ne!==!!ne)return Fs(ne,1,Uo),ae==null?ae=A:Fs(ae,0,8),be(new ee(le),ne,ae);if(!(ye=le.c))return null;if(we=ye.length-1,ge=we*Un+1,we=ye[we]){for(;we%10==0;we/=10,ge--);for(we=ye[0];we>=10;we/=10,ge++);}return ne&&le.e+1>ge&&(ge=le.e+1),ge},u.shiftedBy=function(ne){return Fs(ne,-w5,w5),this.times("1e"+ne)},u.squareRoot=u.sqrt=function(){var ne,ae,ye,ge,we,le=this,ie=le.c,he=le.s,de=le.e,Se=y+4,Be=new ee("0.5");if(he!==1||!ie||!ie[0])return new ee(!he||he<0&&(!ie||ie[0])?NaN:ie?le:1/0);if(he=Math.sqrt(+xe(le)),he==0||he==1/0?(ae=jl(ie),(ae.length+de)%2==0&&(ae+="0"),he=Math.sqrt(+ae),de=Ql((de+1)/2)-(de<0||de%2),he==1/0?ae="5e"+de:(ae=he.toExponential(),ae=ae.slice(0,ae.indexOf("e")+1)+de),ye=new ee(ae)):ye=new ee(he+""),ye.c[0]){for(de=ye.e,he=de+Se,he<3&&(he=0);;)if(we=ye,ye=Be.times(we.plus(t(le,we,Se,1))),jl(we.c).slice(0,he)===(ae=jl(ye.c)).slice(0,he))if(ye.e<de&&--he,ae=ae.slice(he-3,he+1),ae=="9999"||!ge&&ae=="4999"){if(!ge&&(be(we,we.e+y+2,0),we.times(we).eq(le))){ye=we;break}Se+=4,he+=4,ge=1}else{(!+ae||!+ae.slice(1)&&ae.charAt(0)=="5")&&(be(ye,ye.e+y+2,1),ne=!ye.times(ye).eq(le));break}}return be(ye,ye.e+y+1,A,ne)},u.toExponential=function(ne,ae){return ne!=null&&(Fs(ne,0,Uo),ne++),ue(this,ne,ae,1)},u.toFixed=function(ne,ae){return ne!=null&&(Fs(ne,0,Uo),ne=ne+this.e+1),ue(this,ne,ae)},u.toFormat=function(ne,ae,ye){var ge,we=this;if(ye==null)ne!=null&&ae&&typeof ae=="object"?(ye=ae,ae=null):ne&&typeof ne=="object"?(ye=ne,ne=ae=null):ye=H;else if(typeof ye!="object")throw Error(ja+"Argument not an object: "+ye);if(ge=we.toFixed(ne,ae),we.c){var le,ie=ge.split("."),he=+ye.groupSize,de=+ye.secondaryGroupSize,Se=ye.groupSeparator||"",Be=ie[0],Le=ie[1],nt=we.s<0,He=nt?Be.slice(1):Be,ce=He.length;if(de&&(le=he,he=de,de=le,ce-=le),he>0&&ce>0){for(le=ce%he||he,Be=He.substr(0,le);le<ce;le+=he)Be+=Se+He.substr(le,he);de>0&&(Be+=Se+He.slice(le)),nt&&(Be="-"+Be)}ge=Le?Be+(ye.decimalSeparator||"")+((de=+ye.fractionGroupSize)?Le.replace(new RegExp("\\d{"+de+"}\\B","g"),"$&"+(ye.fractionGroupSeparator||"")):Le):Be}return(ye.prefix||"")+ge+(ye.suffix||"")},u.toFraction=function(ne){var ae,ye,ge,we,le,ie,he,de,Se,Be,Le,nt,He=this,ce=He.c;if(ne!=null&&(he=new ee(ne),!he.isInteger()&&(he.c||he.s!==1)||he.lt(p)))throw Error(ja+"Argument "+(he.isInteger()?"out of range: ":"not an integer: ")+xe(he));if(!ce)return new ee(He);for(ae=new ee(p),Se=ye=new ee(p),ge=de=new ee(p),nt=jl(ce),le=ae.e=nt.length-He.e-1,ae.c[0]=x5[(ie=le%Un)<0?Un+ie:ie],ne=!ne||he.comparedTo(ae)>0?le>0?ae:Se:he,ie=R,R=1/0,he=new ee(nt),de.c[0]=0;Be=t(he,ae,0,1),we=ye.plus(Be.times(ge)),we.comparedTo(ne)!=1;)ye=ge,ge=we,Se=de.plus(Be.times(we=Se)),de=we,ae=he.minus(Be.times(we=ae)),he=we;return we=t(ne.minus(ye),ge,0,1),de=de.plus(we.times(Se)),ye=ye.plus(we.times(ge)),de.s=Se.s=He.s,le=le*2,Le=t(Se,ge,le,A).minus(He).abs().comparedTo(t(de,ye,le,A).minus(He).abs())<1?[Se,ge]:[de,ye],R=ie,Le},u.toNumber=function(){return+xe(this)},u.toPrecision=function(ne,ae){return ne!=null&&Fs(ne,1,Uo),ue(this,ne,ae,2)},u.toString=function(ne){var ae,ye=this,ge=ye.s,we=ye.e;return we===null?ge?(ae="Infinity",ge<0&&(ae="-"+ae)):ae="NaN":(ne==null?ae=we<=E||we>=_?vv(jl(ye.c),we):Ku(jl(ye.c),we,"0"):ne===10&&Y?(ye=be(new ee(ye),y+we+1,A),ae=Ku(jl(ye.c),ye.e,"0")):(Fs(ne,2,z.length,"Base"),ae=i(Ku(jl(ye.c),we,"0"),10,ne,ge,!0)),ge<0&&ye.c[0]&&(ae="-"+ae)),ae},u.valueOf=u.toJSON=function(){return xe(this)},u._isBigNumber=!0,u[Symbol.toStringTag]="BigNumber",u[Symbol.for("nodejs.util.inspect.custom")]=u.valueOf,l!=null&&ee.set(l),ee}function Ql(l){var t=l|0;return l>0||l===t?t:t-1}function jl(l){for(var t,i,s=1,u=l.length,p=l[0]+"";s<u;){for(t=l[s++]+"",i=Un-t.length;i--;t="0"+t);p+=t}for(u=p.length;p.charCodeAt(--u)===48;);return p.slice(0,u+1||1)}function yp(l,t){var i,s,u=l.c,p=t.c,y=l.s,A=t.s,E=l.e,_=t.e;if(!y||!A)return null;if(i=u&&!u[0],s=p&&!p[0],i||s)return i?s?0:-A:y;if(y!=A)return y;if(i=y<0,s=E==_,!u||!p)return s?0:!u^i?1:-1;if(!s)return E>_^i?1:-1;for(A=(E=u.length)<(_=p.length)?E:_,y=0;y<A;y++)if(u[y]!=p[y])return u[y]>p[y]^i?1:-1;return E==_?0:E>_^i?1:-1}function Fs(l,t,i,s){if(l<t||l>i||l!==ou(l))throw Error(ja+(s||"Argument")+(typeof l=="number"?l<t||l>i?" out of range: ":" not an integer: ":" not a primitive number: ")+String(l))}function Av(l){var t=l.c.length-1;return Ql(l.e/Un)==t&&l.c[t]%2!=0}function vv(l,t){return(l.length>1?l.charAt(0)+"."+l.slice(1):l)+(t<0?"e":"e+")+t}function Ku(l,t,i){var s,u;if(t<0){for(u=i+".";++t;u+=i);l=u+l}else if(s=l.length,++t>s){for(u=i,t-=s;--t;u+=i);l+=u}else t<s&&(l=l.slice(0,t)+"."+l.slice(t));return l}iD();const Xre="0x0c4272eE2DE9d51073995874E1908Ac7BE71a8e6";let E5=null,_5=null,Pp=null;(window==null?void 0:window.ethereum)&&Bre&&(E5=new f_(window.ethereum),E5&&(_5=E5.getSigner(),_5&&(Pp=new Hie(Xre,Wre.abi,_5))));const qre=async l=>{if(Pp&&l){const t=await window.ethereum.request({method:"eth_requestAccounts"});l.signals.metaMaskConnected.dispatch(),await Pp.getCount(),console.log("addr",t);const s=(await fetch(`https://eth-goerli.g.alchemy.com/v2/grj2v0Knpbrr7Mn6lN3N6tz00uh1dd2i/getNFTs?owner=${t[0]}`).then(A=>A.json())).ownedNfts;let u=[];s.forEach(async A=>{const E=parseInt(A.id.tokenId,16);await u.push(fetch(`https://play.grwth.hk/nft-metadatas/${E}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(_=>_.json()))});const p=new THREE.ObjectLoader,y=await Promise.all(u).then(A=>{const E=A.map(_=>{const k=JSON.parse(tD.Buffer.from(_.data.Body.data).toString());return k.attributes[0].value=p.parse(JSON.parse(k.attributes[0].value)),k});return window.nftMetadatas=[...E],E}).catch(A=>console.log("error",A));await l.signals.metadatasFetched.dispatch(y)}},rD=async l=>{const t={name:"Name of NFT (user set?)",description:"Description of NFT (user set?)",image:"Must be complete URL",animation_url:"Must be complete URL, enables interactive 3D previews, not necessary",attributes:[{trait_type:"mesh",value:JSON.stringify(l.toJSON())}]},i=await Pp.getCount(),s=JSON.stringify(t),u=new TextEncoder().encode(s),p=i.toString(),y=new Blob([u],{type:"application/json"},`${p}.json`),A=new File([y],`${p}.json`),E=new FormData;E.append("fields",A),E.append("wallet",Pp.address),await Sl({method:"post",url:"https://play.grwth.hk/nft-metadatas",data:E,headers:{"Content-Type":"multipart/form-data"}}).then(function(R){console.log(R)}).catch(function(R){console.log(R)});const _=`https://grwth-1313285235.cos.ap-hongkong.myqcloud.com/nft-metadatas/${p}.json`,k="0.01";await Pp.mintToken(_,{value:Nre(k)})};function Zre(l){const t=l.strings,i=new on;i.addClass("menu"),i.addClass("cursor");const s=new on;s.setClass("title"),i.add(s);const u=new on;u.setClass("options word cursor"),i.add(u),s.dom.insertBefore(rs().getKey("addbar/option/cursor"),s.firstChild);const p=new Ci;let y=new pa("addbar/option/cursor/undo",()=>{});p.add(y),p.add(new dr(t.getKey("addbar/option/cursor/undo"))),p.setClass("option desc"),p.onClick(function(){l.undo()}),u.add(p);const A=new Ci;y=new pa("addbar/option/cursor/redo",()=>{}),A.add(y),A.add(new dr(t.getKey("addbar/option/cursor/redo"))),A.setClass("option desc"),A.onClick(function(){l.redo()}),u.add(A);let E=new Ci;E.setClass("option desc"),E.setTextContent(t.getKey("addbar/option/cursor/clear_history")),E.onClick(function(){confirm("The Undo/Redo History will be cleared. Are you sure?")&&l.history.clear()}),l.signals.historyChanged.add(function(){const H=l.history;p.setClass("option desc"),A.setClass("option desc"),H.undos.length==0&&p.addClass("inactive"),H.redos.length==0&&A.addClass("inactive")}),E=new Ci,E.setClass("option desc"),E.setTextContent(t.getKey("addbar/option/cursor/center")),E.onClick(function(){const H=l.selected;if(H===null||H.parent===null)return;const Y=new Box3().setFromObject(H).getCenter(new Vector3),ee=new Vector3;ee.x=H.position.x+(H.position.x-Y.x),ee.y=H.position.y+(H.position.y-Y.y),ee.z=H.position.z+(H.position.z-Y.z),l.execute(new SetPositionCommand(l,H,ee))});const _=new Ci;_.setClass("line"),u.add(_);const k=new Ci;k.setClass("option desc inactive"),k.setTextContent("Mint"),k.onClick(function(){const H=l.selected;rD(H)}),l.signals.metaMaskConnected.add(function(H){window.metaMaskConnected=!0}),l.signals.objectSelected.add(function(H){var z;window!=null&&window.metaMaskConnected&&k.setClass("option desc"),(!H||["Exit","Entrance"].includes((z=H==null?void 0:H.userData)==null?void 0:z.type))&&k.addClass("inactive")}),u.add(k);const R=new Ci;y=new pa("addbar/option/cursor/duplicate",()=>{}),R.add(y),R.add(new dr(t.getKey("addbar/option/cursor/duplicate"))),R.setClass("option desc"),R.onClick(function(){var z;let H=l.selected;if(!(H===null||H.parent===null||["Exit","Entrance"].includes(H.userData.type))){if(H.type==="Mesh"&&H.parent.type!=="Group"){const Y=new ir(H.geometry,new is({color:"#FFFFFF"}));(z=Y.material)!=null&&z.map&&(Y.material.map=H.material.map,Y.material.polygonOffsetFactor=H.material.polygonOffsetFactor+1,Y.material.needsUpdate=!0),console.log(Y.material),H.material.color.getHex()&&Y.material.color.setHex(H.material.color.getHex()),H.material&&(Y.material=new is().copy(H.material)),Y.name=`${H.name}'s copy`,Y.position.copy(H.position),Y.scale.copy(H.scale),Y.rotation.copy(H.rotation),Y.needsUpdate=!0,Y.userData=JSON.parse(JSON.stringify(H.userData)),l.execute(new v0(l,Y))}if(H.type=="Group"){const Y=H.clone();Y.children&&(console.log("mesh.children",Y.children),Y.children.forEach((ee,ue)=>{ee.material&&(ee.material=new is().copy(H.children[ue].material))})),Y.name=`${H.name}'s copy`,Y.position.copy(H.position),Y.scale.copy(H.scale),Y.rotation.copy(H.rotation),Y.needsUpdate=!0,Y.userData=JSON.parse(JSON.stringify(Y.userData)),l.execute(new v0(l,Y))}}}),u.add(R),l.signals.objectSelected.add(function(H){var z;R.setClass("option desc"),["Exit","Entrance"].includes((z=H==null?void 0:H.userData)==null?void 0:z.type)&&R.addClass("inactive")}),E=new Ci,y=new pa("addbar/option/cursor/delete",()=>{}),E.add(y),E.add(new dr(t.getKey("addbar/option/cursor/delete"))),E.setClass("option desc"),E.onClick(function(){const H=l.selected;H!==null&&H.parent!==null&&l.execute(new tb(l,H))}),u.add(E),E=new Ci,E.setClass("option desc"),E.setTextContent(t.getKey("addbar/option/cursor/fixcolormaps")),E.onClick(function(){l.scene.traverse(B)});const P=["map","envMap","emissiveMap"];function B(H){const z=H.material;if(z!==void 0){if(Array.isArray(z)===!0)for(let Y=0;Y<z.length;Y++)O(z[Y]);else O(z);l.signals.sceneGraphChanged.dispatch()}}function O(H){let z=H.needsUpdate;for(let Y=0;Y<P.length;Y++){const ee=H[P[Y]];ee&&(ee.encoding=b0,z=!0)}H.needsUpdate=z}return i}function s9(l){return l==null?void 0:l.scene.children.reduce((i,s)=>(s.type==="Mesh"&&!["Group","Exit","Entrance","Portal"].includes(s.userData.type)&&i++,s.type==="Group"&&(s==null||s.children.forEach(u=>{i++})),i),0)}function o9(l,t){const{name:i,type:s}=l;i?t.name=i:t.name=s,t.userData.type=s,["Exit","Entrance","Portal","Presentation"].includes(s)||(editor.setObjectAudio(t,{option:"none",value:null}),editor.setObjectOnClick(t,{option:"none",value:"https://play.grwth.hk/"}),editor.setObjectPostit(t,{option:"none",value:"Post-It",bgcolor:"16440786"}))}function Yre(l){const t=l.strings,i=new on;i.addClass("menu"),i.addClass("text");const s=new on;s.setClass("title"),i.add(s);const u=new on;u.setClass("options"),i.add(u);const p=new on;p.setClass("options word"),i.add(p);let y=new Ci;return y.setClass("option"),s.dom.insertBefore(rs().getKey("addbar/option/text"),s.firstChild),y=new Ci,y.setClass("option"),y.dom.insertBefore(rs().getKey("addbar/option/text/text"),y.firstChild),y.onClick(function(){const A=new $o(1,1,1,1),E=new is({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-s9(l),transparent:!0,side:Pf});E.transparent=!0;const _=new ir(A,E);l.setObjectText(_,{option:"none",value:"Text"}),o9({type:"Text"},_),_.scale.copy(new wt(3,1,1)),_.updateMatrixWorld(!0),l.execute(new v0(l,_)),l.signals.objectChanged.dispatch(_),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),u.add(y),y=new Ci,y.setClass("desc option"),y.setTextContent(t.getKey("addbar/option/text/text")),p.add(y),y=new Ci,y.setClass("option"),y.dom.insertBefore(rs().getKey("addbar/option/text/postit"),y.firstChild),y.onClick(function(){const A=new $o(1,1,1,1),E=new is({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-s9(l),transparent:!0,side:Pf});E.transparent=!0;const _=new ir(A,E);l.setObjectPostit(_,{option:"none",value:"Postit",bgcolor:0}),o9({type:"Postit"},_),_.scale.copy(new wt(3,1,1)),_.updateMatrixWorld(!0),l.execute(new v0(l,_)),l.signals.objectChanged.dispatch(_),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),u.add(y),y=new Ci,y.setClass("desc option"),y.setTextContent(t.getKey("addbar/option/text/postit")),p.add(y),i}function Va(l){return l==null?void 0:l.scene.children.reduce((i,s)=>(s.type==="Mesh"&&!["Group","Exit","Entrance","Portal"].includes(s.userData.type)&&i++,s.type==="Group"&&(s==null||s.children.forEach(u=>{i++})),i),0)}function Gl(l,t){const{name:i,type:s}=l;i?t.name=i:t.name=s,t.userData.type=s,["Exit","Entrance","Portal","Presentation"].includes(s)||(editor.setObjectAudio(t,{option:"none",value:null}),editor.setObjectOnClick(t,{option:"none",value:"https://play.grwth.hk/"}))}function Kre(l){const t=l.strings,i=new on;i.addClass("menu"),i.addClass("object");const s=new on;s.setClass("title"),i.add(s);const u=new on;u.setClass("options"),i.add(u);const p=new on;p.setClass("options word"),i.add(p);let y=new Ci;return y.setClass("option"),s.dom.insertBefore(rs().getKey("addbar/option/object"),s.firstChild),y=new Ci,y.setClass("option"),y.setTextContent(t.getKey("menubar/add/sprite")),y.onClick(function(){const A=new Mf(new r2);A.name="Sprite",l.execute(new v0(l,A))}),y=new Ci,y.setClass("option"),y.dom.insertBefore(rs().getKey("addbar/option/object/plane"),y.firstChild),y.onClick(function(){const A=new $o(1,1,1,1),E=new is({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-Va(l),transparent:!0});E.transparent=!0;const _=new ir(A,E);Gl({type:"Plane"},_),l.execute(new v0(l,_)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),u.add(y),y=new Ci,y.setClass("desc option"),y.setTextContent(t.getKey("addbar/option/object/plane")),p.add(y),y=new Ci,y.setClass("option"),y.dom.insertBefore(rs().getKey("addbar/option/object/box"),y.firstChild),y.onClick(function(){const A=new fs(1,1,1,1,1,1),E=new is({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-Va(l),transparent:!0});E.transparent=!0;const _=new ir(A,E);Gl({type:"Box"},_),console.log(_),l.execute(new v0(l,_)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),u.add(y),y=new Ci,y.setClass("desc option"),y.setTextContent(t.getKey("addbar/option/object/box")),p.add(y),y=new Ci,y.setClass("option"),y.dom.insertBefore(rs().getKey("addbar/option/object/cylinder"),y.firstChild),y.onClick(function(){const A=new ws(.5,.5,1,12,1,!1,0,Math.PI*2),E=new is({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-Va(l),transparent:!0});E.transparent=!0;const _=new ir(A,E);Gl({type:"Circle Cylinder"},_),l.execute(new v0(l,_)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),u.add(y),y=new Ci,y.setClass("desc option"),y.setTextContent(t.getKey("addbar/option/object/cylinder")),p.add(y),y=new Ci,y.setClass("option"),y.dom.insertBefore(rs().getKey("addbar/option/object/pentagon"),y.firstChild),y.onClick(function(){const A=new ws(.5,.5,.5,5,1,!1,0,Math.PI*2),E=new is({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-Va(l),transparent:!0});E.transparent=!0;const _=new ir(A,E);Gl({type:"Pentagon Cylinder"},_),l.execute(new v0(l,_)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),u.add(y),y=new Ci,y.setClass("desc option"),y.setTextContent(t.getKey("addbar/option/object/pentagon")),p.add(y),y=new Ci,y.setClass("option"),y.dom.insertBefore(rs().getKey("addbar/option/object/hexagon"),y.firstChild),y.onClick(function(){const A=new ws(.5,.5,1,6,1,!1,0,Math.PI*2),E=new is({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-Va(l),transparent:!0});E.transparent=!0;const _=new ir(A,E);Gl({type:"Hexagonal Cylinder"},_),l.execute(new v0(l,_)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),u.add(y),y=new Ci,y.setClass("desc option"),y.setTextContent(t.getKey("addbar/option/object/hexagon")),p.add(y),y=new Ci,y.setClass("option"),y.dom.insertBefore(rs().getKey("addbar/option/object/star"),y.firstChild),y.onClick(function(){const A=[];for(let O=0;O<5*2;O++){const H=O%2==1?.25:.5,z=O/5*Math.PI;A.push(new Yi(Math.cos(z)*H,Math.sin(z)*H))}const _=new Df(A),k={depth:.5,steps:1,bevelEnabled:!1},R=new Lf(_,k),P=new is({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-Va(l),transparent:!0});P.transparent=!0;const B=new ir(R,P);Gl({type:"Star"},B),l.execute(new v0(l,B)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),u.add(y),y=new Ci,y.setClass("desc option"),y.setTextContent(t.getKey("addbar/option/object/star")),p.add(y),y=new Ci,y.setClass("option"),y.dom.insertBefore(rs().getKey("addbar/option/object/pyramid"),y.firstChild),y.onClick(function(){const A=new Sh(.5,1,4),E=new is({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-Va(l),transparent:!0});E.transparent=!0;const _=new ir(A,E);Gl({type:"Pyramid"},_),l.execute(new v0(l,_)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),u.add(y),y=new Ci,y.setClass("desc option"),y.setTextContent(t.getKey("addbar/option/object/pyramid")),p.add(y),y=new Ci,y.setClass("option"),y.dom.insertBefore(rs().getKey("addbar/option/object/cone"),y.firstChild),y.onClick(function(){const A=new Sh(.5,1,14),E=new is({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-Va(l),transparent:!0});E.transparent=!0;const _=new ir(A,E);Gl({type:"Cone"},_),l.execute(new v0(l,_)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),u.add(y),y=new Ci,y.setClass("desc option"),y.setTextContent(t.getKey("addbar/option/object/cone")),p.add(y),y=new Ci,y.setClass("option"),y.dom.insertBefore(rs().getKey("addbar/option/object/torus"),y.firstChild),y.onClick(function(){const A=new Zl(.4,.1,30,200,Math.PI*2),E=new is({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-Va(l),transparent:!0});E.transparent=!0;const _=new ir(A,E);Gl({type:"Torus"},_),l.execute(new v0(l,_)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),u.add(y),y=new Ci,y.setClass("desc option"),y.setTextContent(t.getKey("addbar/option/object/torus")),p.add(y),y=new Ci,y.setClass("option"),y.dom.insertBefore(rs().getKey("addbar/option/object/sphere"),y.firstChild),y.onClick(function(){const A=new Nf(.5,32,16,0,Math.PI*2,0,Math.PI),E=new is({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-Va(l),transparent:!0});E.transparent=!0;const _=new ir(A,E);Gl({type:"Sphere"},_),l.execute(new v0(l,_)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),u.add(y),y=new Ci,y.setClass("desc option"),y.setTextContent(t.getKey("addbar/option/object/sphere")),p.add(y),y=new Ci,y.setClass("option"),y.dom.insertBefore(rs().getKey("addbar/option/object/portal"),y.firstChild),y.onClick(function(){const A=new $o(1,1,1,1),E=new is({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-Va(l),transparent:!0});E.color=new _r(16711680),E.transparent=!0;const _=new ir(A,E);Gl({type:"Portal"},_),_.rotation.copy(new ao(-1.57,0,-1.57,"XYZ")),_.updateMatrixWorld(!0),l.execute(new v0(l,_)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),u.add(y),y=new Ci,y.setClass("desc option"),y.setTextContent(t.getKey("addbar/option/object/portal")),p.add(y),y=new Ci,y.setClass("option"),y.dom.insertBefore(rs().getKey("addbar/option/object/presentation"),y.firstChild),y.onClick(function(){const A=new $o(1,1,1,1),E=new is({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-Va(l)});E.color=new _r("white");const _=new ir(A,E);l.setObjectPresentation(_,{option:"none",value:{sourceFile:null,base64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAH0CAYAAADL1t+KAAAAAXNSR0IArs4c6QAAIABJREFUeF7t3QWsJNe1BdBymJmZmZmZE4UZFGZmVJg5UZiZmUlhZmZmZsavXVJbncmM44nt/Hif1dLI45n3quusc+1d99atfnssy/KPxYsAAQIECBDYXwvsIdD31/1z8gQIECBAYBUQ6AYCAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxgABAgQIECgQEOgFTVQCAQIECBAQ6MYAAQIECBAoEBDoBU1UAgECBAgQEOjGAAECBAgQKBAQ6AVNVAIBAgQIEBDoxkCtwAEOcIDlUpe61HKa05xmpzX++c9/Xv7whz8s3/72t5cPfehDyw9/+MNai90tbI898r+GZfnHP/6xu9+606/f8XinOtWplnOd61zLwQ9+8OWNb3zj8sUvfnFfeR8HITBZQKBP7n557Qc72MGWRzziEcsVrnCFnVb697//ffnrX/+6/P73v1/D/L3vfe/ynOc8Z/nyl79cLrPr8o50pCMt17rWtZajH/3oy/Oe97zl05/+9D6y2NXxbnrTmy43vvGNl8Mf/vDL7W53u+XlL3/5Pnof30yAwLIIdKOgViCzv6c97WnL1a9+9bXGv/3tb0tCfPPKrPGABzzgkn9mJvqzn/1sefrTn7486UlPWr75zW/WuuxVYXe7292WhO13vvOd5a53vevyrne9ax857Op4Ofatb33r5YhHPOJyvetdb3nuc5+7j97HNxMgINCNgWKB7UBPQD/xiU9cPvaxj/1TxQc+8IGXK1/5ystlLnOZ5QhHOMLygx/8YLnZzW62vOpVryqW2XVpz3jGM5brXOc6y0c+8pHlTne60z4O9F0d72xnO9ty/vOffznEIQ6xvOxlL1s+9alPjfRWNIF9U8AMfd/UdKz/KYHtQP/c5z63Lu2+5S1v+adzzOz8eMc73nLf+953XZrPMn1mlQn/X/3qV/9T9fw3Tua/FejpzaEPfeh1dSTOf/zjH/8b5XkPAtUCAr26vbOL2zuBvhHKrPyOd7zjGu5Z/n3gAx+4ZFPd1a52teVYxzrW8p73vGc54QlPuJz+9Kdfw+eDH/zg8tKXvnT5xje+sW7suvzlL79c+MIXXo585CMvmfVns91XvvKV9Vi5D729uewgBznIulnvkpe85Hqv+kAHOtDyl7/8ZQ22bBDLr5/+9Kf/0rwc/9KXvvR6jgc96EGXbOrLvf8XvOAFy/ve977lT3/6057fc81rXnM9n49//OPLV7/61eXMZz7zujnwkIc85Pp9Oe9nP/vZ69/n3M5xjnOsFzSpI8f/xS9+sc6aP/CBD6z30j//+c+vHjnni13sYssxj3nMte58b973W9/61vL85z9/+ehHP7re2vh3x0vdWRU51KEOtTz1qU9d32fzOuxhD7tc6UpXWmfwWTXJ+8Y8deRccl6bWydxyL34c57znOv753WhC11oOf7xj78aZX9EVhte/OIXr9/vRaBZQKA3d3d4bbsT6Ne//vWXu9zlLsuJTnSi5VnPetbyoAc9aP39Pe95zyU7sn/84x+vM8oETMIkIZH7wLnXnEC53OUut4ZcZvgJoITar3/96yUrA4985COXN73pTWvIZ0Z6k5vcZP2eHD9LzvmzHDOh/r3vfW955StfuTzlKU/Zc3Ne3vcGN7jBkpDO9ySUc+8/35NjJqgys05o/ehHP1q7/pjHPGa9N53j5WuOcYxjrOeei4ec229/+9v1QiP1vfOd71yPf4c73GE58YlPvJ5/gjpfl93n+fMEf875Kle5ynKc4xxnPe+cQ175ut/97nfLl770peUe97jH8ra3vW2J514d7xSnOMVyq1vdaj2neLzwhS9cj3Xa0552udGNbrRc4hKXWI52tKOtoRyfbF78zW9+s77HYx/72OV1r3vd+u+xecITnrDeNvnkJz+5Xkyd4AQnWC8Ucn75vuyNyDk9/OEPX7/Gi0CrgEBv7ay61hnkZlPcrpbcw5SAfMhDHrLeO87vE0qPf/zjl/Od73zLve51r+V0pzvdqpmZbWbOOe6LXvSi5VGPetQ6g7/5zW++zsy/8IUvrEHz/e9/f50xXuACF1gOd7jDrY/EJfzf/e53L2c605mWBzzgAcsFL3jBNWxz/zghldlzZu0Jy5/85CfrffxXvOIVa7BuwvEkJznJ+v6vec1r1mA66UlPus7Y8z2ZIeeWQv4uAfvkJz95DfS8Eog5twR3wjoz96w25IIgNST8s9v83Oc+93LDG95wXYXIXoLcnsjO/4RhvicrGLmgyH6ErAgk7HOczKSzipFjZ7b90Ic+dA38vTpe3HbcFBereKcP+f1nP/vZ5Q1veMNa83nPe971MbcE+Gc+85n1YiHndZjDHGa9+MmFRi6IUnsutmJ+lKMcZXXOhVYurm5zm9uss/j00YtAo4BAb+yqmlaB7UBPeGbmvT1DSxgkiE596lOvAZxl4CxhZ+aYx6gSlptAz5JvZtpZDk9w5XinPOUpl7vf/e7rcnaCLxcBCe0s8yZMEvTZYZ/3efCDH7zOJDOTz2azzCJz3z5hlKX2BOp1r3vddaac2XRmzrmPn2BLQGZ5OkGfc8i5/fznP1+Pm5lszjcz3lwA5JiZeW8CPTPynHP+PbPshHsuKu585zsvZznLWdal7vw+AZiLmdRw1atedXXKsd7xjneslnnfPM4Wn4c97GFr0Oa8E7AJ2tve9rbrhcCHP/zh9Xjvf//7d3m8zOZzcbBjoCfIs0qSC5VcTKT+nFeW9I961KOunjm3LMmnnjySmNn3JtBz8ZPvya2E7373u+tqSc45F0THPvax19py7rn48SLQKCDQG7uqpn8J9MzKEogJk80r97Izk0xAZGk3of3oRz96edzjHrcG9mUve9k9Az0z0syycy9987rf/e63hkyWdxNimZ1mKXvzOutZz7qG8XnOc57lrW996zrzz0VAQiuz7cyY84hc/i4BnSDPDDhB9LWvfW1dzs997XxfAjuhml85t80rgZ8Qyww1KwM5n1e/+tV7BnpC7va3v/36OF4uNPJKzTnXXGzkPn9mrgnovHa2KS42WT3IikO+PrcEtkMxqxM5h5xrVhtyvNxi2NXx8uc7e2wt9lluzznnoueZz3zmnuec7znZyU62rijkHn4uODJLz2x8E+gJ8VxY5PwyU88r9/JzMZXVgqyG5CIlM3wvAo0CAr2xq2r6l0DfFUmWaRN0CYjcx33961+/BmOWo7cDPQGYZfkE7eaVMM6ydu7VZia548wvKwRnPOMZ11WA3OfOjDSb0RLKF73oRdeZZ0I7AZ1/JpwyM/3617++Lh/nlRWAzMAz488jd3n/7Wfp8zWZaWcTWI6XGX6WlTcz9Nxnzr3vbODbfiUEc+75lLwcP7cKdhXAmdVnJp6Lh1wMHPe4x13DNZvnsqqR1YXcMsg973woTwI9qwK7E+i5/x/jzKhTf6zSi+1XnLPKkZWMrA7k3nsuhjaBnh7kwmr72fmc02ZlJBc69773vd1H9/+HWgGBXttahW0vuSe4EhhZds5rs+krM7lsnMqu7twbzr3WzWs70Df31X/5y1+uf52Qy2z22te+9vr7BPCOQZuvy5J3gihLwwmg3OPOPecE9dnPfvb173MuWR3IveJcTCQM84l1Cf8sKyeQsxz+794jx0nYZcl5E+i5F36LW9xifd/tVy5GshSdWW0C/bWvfe1eBnA2r6XWzI6zkpBwz8pEjLPSsflo18zgE8a7G+g5v5xzVhp2Fsybc8/GtnjELRcvOe9NoGeVIbcqtj9rYPsee94jgf6JT3zCfxwEKgUEemVbFRWBHTfFZek5M7rNa2cBvC23HeiZdSY4smN888qScEIuf5bH2HLRsKtXltTzyFXCJOeV3eS555xwzz3o3ONNMOaVnepZws6Gvmx0S4BlZpxl/7169CqBnqX1fN0m0DPz356Bb85vdwI9S+6xy3lkg1nCOxc2WZHIZrvUnsfdsnFtsxKxu4H+kpe8ZD33a1zjGuujb7nHnlsSO76y5J5l+ZxDAj0rC5tA39kMPCsL+fvcexfo/r/QLiDQ2zs8uL69u8t9V0TbgZ5ZZ2b424G+WXLPn2XGveMScY6bpenMEjPbzq7wrAZsHlfLbDwzzSynZwacTXh5z2wA23xSWzbrbZbcc98594E394c3551d7llazgw/z2jnn/tmoGdJP/ehs+s/M/rUnYuG7BfI0nfqz22EPDqWWwI53726J5/z3vEeei52cgGTjXG5CLnlLW+556rBps6E+KaurKTkAuPNb36zQB/837jS/1lAoBsRtQL7daDn8bM8Xpal5wReNtNtngMPaj7eNMF08pOffN1MltBLQCf4EuTZVJcl46wUZFk+s/Q8QpZgz331zYa7XCzkGNndvtnFvmlaLgaygSwb1nK//P73v/+6CrFPAz0rCZklv/3tb18fZcu96TyillWJ1Lr9A2wufvGLr+eV3fO5/51A31zcbDbZbR9vZ4GeD+CJT2bfscmn9eUCKjVtXtlcmA/8iWFuneT8Mps3Q6/9T1hhuykg0HcTzJfvfwT260Df3sWe++95LCozzYR6ZubZzZ4Zd2boWU5OEOYecQIvO8Mzu8wSch55yyuPoCXIshSf3fSZxWYJOyF/xStecZ0Rb55/z27y3MvOD1LJ5rb8PveOE3J51Ow/DfScZ2bJeSIgFwdZxs55Zfd4HifL42i5wMjjeXll93h2m+fWQe7zZwafe/b5vrx2drwcO8fb8bG1PDOe98yFUFYzcr88FzFZ3s/mwly45Fxy+yGPn8UlTy0I9P3Pf5POdL8VEOj7ra+j/z8K7NeBnsfLEs75lUBNmGVpPUvQ2fmd++T5Zz42NSGYZej8WYLqIhe5yPp1uRDIxrUsJ2eGnl+ZoSbYsjs7y+d5dj2bvfIBN9lcl5DPJr4EaB5/y8VBZrL3uc991hl0AvA/DfSsMuTedFYMcm55r4RzVg2yIS7nnNl5as3X5J56nqnPueSVi47MsnPhkdfOjpdH+RLaOwZ6jpGVgCyl58eu5v3zK48cpsbcqsg98XzUbQI9HxaU7xHo/4//kXnr/ykBgf4/1Q4ns28KbAd6PnUsG8y2N8X9u/fKh7lkV3SCNKGdJeAdf4hIgjxLzpkp5+vyoTN5JaBzrzs7thNq2SSWoM1Hk2bzWGbSWULORcHmc97zPfmI2QRUlqqz6SzL8XlOPjviszEv37vj9yR0E+AJutyXz2uz6W3zWNqO9/ez6W57l/vmsbUs3Wf5PO+XWhLgua2Qe9YJ2zOc4Qx7fnxszjePyuUDbeKSR/HikdpSQ8J9Z8fLBUPu+28CPeex+fGp+fOsauSiILcZNrvnU1P8MmNPbXmWPEG/vektPyEv/dr+yW3bf++xtX834v39/l1AoO/fO+j8dymQQMoHsuRZ6YRLZpaZ4e7dV2aFuW+cUMgScO5r72xnfAI3X5cwyww8m9qyrJwNYplh5p/b94JzoZFZbZ7nzjJ2nlPPeWUZPYGe++1Ztt/+gS7ZaZ73yIw4z5znV5abE+YJ7U1tm+9JGOZ8ErQ57o4/7GXz9wnk1Lb5+yxnZ9afD8DJ6kL+PLcEEuiZIed8U2N25KeuzNRz3zwXL3m/zJhzTtnYlg2AuzpeViES3rnAyQpGVik2r2wQ3NSa98vXpL58Sl1qzUXL5uNbc5zUkk2Bscu5bFtnFSFjYFd/v3fHgq8jsH8QEOj7hy45x/2FQMIj4Z/ATpDmImLzATE7K2Dz9QnBBGt2jO/V129m/vn6bMTb/MCShNt2+O8bWKkhQZpj59w2x8/qQGrMxVKCMzP4vfPeuzreXp1r3n/7vbZ/mty+UaNjEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgSUQC17AAAGIklEQVQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgTEOhtHVUPAQIECIwUEOgj265oAgQIEGgT+D+1/H21SjEKpgAAAABJRU5ErkJggg=="}});let k=new Image;k.src=l.getObjectPresentation(_).value.base64;let R=new ns;R.image=k,E.transparent=!1,E.map=R,R.needsUpdate=!0,E.map.needsUpdate=!0,E.needsUpdate=!0,Gl({type:"Presentation"},_),_.scale.copy(new wt(10,10,1)),_.updateMatrixWorld(!0),l.execute(new v0(l,_)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),u.add(y),y=new Ci,y.setClass("desc option"),y.setTextContent(t.getKey("addbar/option/object/presentation")),p.add(y),y=new Ci,y.setClass("option"),y.setTextContent(t.getKey("menubar/add/directionallight")),y.onClick(function(){const _=new Kg(16777215,1);_.name="DirectionalLight",_.target.name="DirectionalLight Target",_.position.set(5,10,7.5),l.execute(new v0(l,_)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),y=new Ci,y.setClass("option"),y.setTextContent(t.getKey("menubar/add/entrance")),y.onClick(function(){const A=new $o(1,1,1,1),E=new is({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-Va(l),transparent:!0}),_=new ir(A,E);_.name="Entrance",_.userData.type="Entrance",l.execute(new v0(l,_)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),y=new Ci,y.setClass("option"),y.setTextContent(t.getKey("menubar/add/exit")),y.onClick(function(){const A=new $o(1,1,1,1),E=new is({depthTest:!0,depthWrite:!0,polygonOffset:!0,polygonOffsetFactor:-Va(l),transparent:!0}),_=new ir(A,E);_.name="Exit",_.userData.type="Exit",l.execute(new v0(l,_)),document.querySelector("#sidebar").className.includes("open")||document.querySelector("#triggerBtn").click()}),i}const $re=[{name:"Color_Rainbow",enabled:!0},{name:"Country_China",enabled:!0},{name:"Country_Egypt",enabled:!0},{name:"Country_Japan",enabled:!0},{name:"Festival_Christmas",enabled:!0},{name:"Festival_Halloween",enabled:!0},{name:"Hobbies_Cooking",enabled:!0},{name:"Hobbies_FootBall",enabled:!0},{name:"Hobbies_Gaming",enabled:!0},{name:"Hobbies_Garden",enabled:!0},{name:"Hobbies_Sport",enabled:!0},{name:"Name_Venus",enabled:!0},{name:"Name_VenusB",enabled:!0},{name:"Seasons_Summer",enabled:!0},{name:"Shop_Bakery",enabled:!0},{name:"Theme_Magic",enabled:!0},{name:"Theme_Nautical",enabled:!0},{name:"Theme_Party",enabled:!0}],ene=[{name:"Chair_Karlstad_(Color_Rainbow)",enabled:!0,category:["Color_Rainbow"]},{name:"Rainbow_Arch_(Color_Rainbow)",enabled:!0,category:["Color_Rainbow"]},{name:"Stacking_Tower_Toy_(Color_Rainbow)",enabled:!0,category:["Color_Rainbow"]},{name:"Toy_Blocks_(Color_Rainbow)",enabled:!0,category:["Color_Rainbow"]},{name:"Wall_(Color_Rainbow)",enabled:!0,category:["Color_Rainbow"]},{name:"Canopy_(Country_China)",enabled:!0,category:["Country_China"]},{name:"Chinese_Decor_(Country_China)",enabled:!0,category:["Country_China"]},{name:"Door_(Country_China)",enabled:!0,category:["Country_China"]},{name:"Fan_(Country_China)",enabled:!0,category:["Country_China"]},{name:"Latern_(Country_China)",enabled:!0,category:["Country_China"]},{name:"Latern_Pillar_(Country_China)",enabled:!0,category:["Country_China"]},{name:"Road_(Country_China)",enabled:!0,category:["Country_China"]},{name:"Room_(Country_China)",enabled:!0,category:["Country_China"]},{name:"Title_(Country_China)",enabled:!0,category:["Country_China"]},{name:"Altar_(Country_Egypt)",enabled:!0,category:["Country_Egypt"]},{name:"Arubis_(Country_Egypt)",enabled:!0,category:["Country_Egypt"]},{name:"Bunker_(Country_Egypt)",enabled:!0,category:["Country_Egypt"]},{name:"Fire_Platform_(Country_Egypt)",enabled:!0,category:["Country_Egypt"]},{name:"Obelisk_(Country_Egypt)",enabled:!0,category:["Country_Egypt"]},{name:"Wall_(Country_Egypt)",enabled:!0,category:["Country_Egypt"]},{name:"Bridge_(Country_Japan)",enabled:!0,category:["Country_Japan"]},{name:"Light_Stand_(Country_Japan)",enabled:!0,category:["Country_Japan"]},{name:"Painting_(Country_Japan)",enabled:!0,category:["Country_Japan"]},{name:"Plant_(Country_Japan)",enabled:!0,category:["Country_Japan"]},{name:"Round_Window_(Country_Japan)",enabled:!0,category:["Country_Japan"]},{name:"Toril_(Country_Japan)",enabled:!0,category:["Country_Japan"]},{name:"Wall_(Country_Japan)",enabled:!0,category:["Country_Japan"]},{name:"Wealth_Cat_(Country_Japan)",enabled:!0,category:["Country_Japan"]},{name:"Window_(Country_Japan)",enabled:!0,category:["Country_Japan"]},{name:"Camp_Fire_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Candle_Stick_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Carpet_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Christmas_Ring_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Christmas_Tree_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Gift_Cube_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Gift_Cuboid_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Lamp_Line_A_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Lamp_Line_B_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Rocking_Chair_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Shelf_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Stove_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Tool_A_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Tool_B_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Wall_(Festival_Christmas)",enabled:!0,category:["Festival_Christmas"]},{name:"Candle_A_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Candle_B_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Candle_C_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Cloud_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"House_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Monster_Foot_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Monster_Hand_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Moon_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Posion_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Pumkin_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Railing_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Skull_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Spider_Web_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Tombstone_A_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Tombstone_B_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Tombstone_C_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Tombstone_D_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Tree_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Wall_(Festival_Halloween)",enabled:!0,category:["Festival_Halloween"]},{name:"Bottle_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Box_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Coffee_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Cutboard_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Fridge_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Island_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Oven_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Pot_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Shelf_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Sink_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Table_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Towel_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Trolley_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Wall_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Window_(Hobbies_Cooking)",enabled:!0,category:["Hobbies_Cooking"]},{name:"Bed_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Carpet_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Court_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Foot_Ball_A_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Foot_Ball_B_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Foot_Ball_C_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Foot_Ball_D_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Foot_Ball_Stand_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Goal_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Lamp_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Small_Goal_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Sofa_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"TV_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Wall_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"World_Cup_(Hobbies_FootBall)",enabled:!0,category:["Hobbies_FootBall"]},{name:"Cabinet_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Figure_Amoug_Us_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Game_Box_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Game_Chair_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"KeyBoard_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Light_Pad_Hexagon_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Light_Pad_Triangle_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Mac_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Mouse_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Photo_Frame_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"PS_Lamp_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Screen_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Table_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"TV_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Wall_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Wifi_Router_(Hobbies_Gaming)",enabled:!0,category:["Hobbies_Gaming"]},{name:"Bench_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Chair_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Door_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Fence_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Frame_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Garlamd_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Light_Bulb_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"MailBox_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Plant_A_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Plant_B_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Props_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Table_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Wall_(Hobbies_Garden)",enabled:!0,category:["Hobbies_Garden"]},{name:"Bracket_(Hobbies_Sport)",enabled:!0,category:["Hobbies_Sport"]},{name:"Discus_(Hobbies_Sport)",enabled:!0,category:["Hobbies_Sport"]},{name:"Discus_Holder_(Hobbies_Sport)",enabled:!0,category:["Hobbies_Sport"]},{name:"Dumbell_(Hobbies_Sport)",enabled:!0,category:["Hobbies_Sport"]},{name:"Gloves_(Hobbies_Sport)",enabled:!0,category:["Hobbies_Sport"]},{name:"Kettle_Bell_(Hobbies_Sport)",enabled:!0,category:["Hobbies_Sport"]},{name:"Sand_Bag_(Hobbies_Sport)",enabled:!0,category:["Hobbies_Sport"]},{name:"Wall_(Hobbies_Sport)",enabled:!0,category:["Hobbies_Sport"]},{name:"Word_Light_(Hobbies_Sport)",enabled:!0,category:["Hobbies_Sport"]},{name:"Book_A_(Name_Veuns)",enabled:!0,category:["Name_Veuns"]},{name:"Book_B_(Name_Veuns)",enabled:!0,category:["Name_Veuns"]},{name:"Book_C_(Name_Veuns)",enabled:!0,category:["Name_Veuns"]},{name:"Book_Shelf_(Name_Veuns)",enabled:!0,category:["Name_Veuns"]},{name:"Carpet_(Name_Veuns)",enabled:!0,category:["Name_Veuns"]},{name:"Chair_(Name_Veuns)",enabled:!0,category:["Name_Veuns"]},{name:"Computer_(Name_Veuns)",enabled:!0,category:["Name_Veuns"]},{name:"Desk_(Name_Veuns)",enabled:!0,category:["Name_Veuns"]},{name:"Draw_Desk_(Name_Veuns)",enabled:!0,category:["Name_Veuns"]},{name:"Earth_(Name_Veuns)",enabled:!0,category:["Name_Veuns"]},{name:"Wall_(Name_Veuns)",enabled:!0,category:["Name_Veuns"]},{name:"Book_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Book_Shelf_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Cabinet_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Carpet_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Cat_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Cushion_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Diving_Photo_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Figure_Canada_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Figure_Hong_Kong_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Figure_Japan_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Figure_USA_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Pet_Food_Plate_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Plastic_Plate_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Sofa_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Sound_Bar_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"TV_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Wall_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Word_(Name_VeunsB)",enabled:!0,category:["Name_VeunsB"]},{name:"Beach_Chair_(Seasons_Summer)",enabled:!0,category:["Seasons_Summer"]},{name:"Bench_(Seasons_Summer)",enabled:!0,category:["Seasons_Summer"]},{name:"Bucket_(Seasons_Summer)",enabled:!0,category:["Seasons_Summer"]},{name:"Pool_Ring_A_(Seasons_Summer)",enabled:!0,category:["Seasons_Summer"]},{name:"Pool_Ring_B_(Seasons_Summer)",enabled:!0,category:["Seasons_Summer"]},{name:"Surboard_(Seasons_Summer)",enabled:!0,category:["Seasons_Summer"]},{name:"Table_(Seasons_Summer)",enabled:!0,category:["Seasons_Summer"]},{name:"Umbrella_(Seasons_Summer)",enabled:!0,category:["Seasons_Summer"]},{name:"Wall_(Seasons_Summer)",enabled:!0,category:["Seasons_Summer"]},{name:"Watermelon_(Seasons_Summer)",enabled:!0,category:["Seasons_Summer"]},{name:"Bakery_Word_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Basket_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_A_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_A_Half_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_B_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_B_Half_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_C_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_D_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_E_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_F_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_G_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_H_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_I_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Bread_I_OnePiece_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Cabinet_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Counter_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Cream_Croissant_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Croissant_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Cutting_Board_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Knife_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Pie_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Table_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Wall_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Wooden_Box_A_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Wooden_Box_B_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Wooden_Box_C_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Wooden_Table_(Shop_Bakery)",enabled:!0,category:["Shop_Bakery"]},{name:"Boiling_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Book_A_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Book_B_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Book_C_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Book_Shelf_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Broom_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Candle_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Carpet_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Color_Window_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Crystal_Ball_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Flag_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Fly_Book_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Magician_Stuff_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Mirror_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Table_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Wall_(Theme_Magic)",enabled:!0,category:["Theme_Magic"]},{name:"Bottle_(Theme_Nautical)",enabled:!0,category:["Theme_Nautical"]},{name:"Cushion_(Theme_Nautical)",enabled:!0,category:["Theme_Nautical"]},{name:"Flag_(Theme_Nautical)",enabled:!0,category:["Theme_Nautical"]},{name:"Map_(Theme_Nautical)",enabled:!0,category:["Theme_Nautical"]},{name:"Mark_(Theme_Nautical)",enabled:!0,category:["Theme_Nautical"]},{name:"Pool_Ring_(Theme_Nautical)",enabled:!0,category:["Theme_Nautical"]},{name:"Round_Window_(Theme_Nautical)",enabled:!0,category:["Theme_Nautical"]},{name:"Ship_Bed_(Theme_Nautical)",enabled:!0,category:["Theme_Nautical"]},{name:"Treasure_Box_(Theme_Nautical)",enabled:!0,category:["Theme_Nautical"]},{name:"Wall_(Theme_Nautical)",enabled:!0,category:["Theme_Nautical"]},{name:"Wheel_(Theme_Nautical)",enabled:!0,category:["Theme_Nautical"]},{name:"Balloon_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"Bottle_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"Cake_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"CupCake_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"Flag_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"Gift_A_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"Gift_B_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"Gift_C_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"Glass_Cup_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"Party_Balloon_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"Rocking_Horse_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"Table_(Theme_Party)",enabled:!0,category:["Theme_Party"]},{name:"Wall_(Theme_Party)",enabled:!0,category:["Theme_Party"]}],tne=[{name:"StarWarsX-wing",enabled:!0},{name:"X-wing",enabled:!0}],ine=[];var k5={room:$re,object:ene,mylib:tne,favourites:ine};function wv(l,t,i,s){l.strings;const u=new o2;let p,y,A,E;const _=new on;_.setClass("list");async function k(P){let B=document.querySelector(".loader-container");B.style.display="flex",console.log(P,E[P]),await Sl({method:"get",baseURL:"https://play.grwth.hk",url:`/library/${t}/${E[P].name}`}).then(O=>{if(O.data.json!==void 0){console.log("%c AddbarLibrarySelection:fetchJson Success","color: black; background: #85a7c3;",t,E[P].name,O.data.json);const H=new Blob([JSON.stringify(O.data.json)],{type:"application/json"});l.loader.loadFile(H,u,"json",!1,`${E[P].name}`)}else console.log("%c AddbarLibrarySelection:fetchJson Fail","color: black; background: #85a7c3;",t,E[P].name,O.data.json)}).catch(O=>{console.log(O)}).finally(()=>{B.style.display="none"})}function R(P){if(_.dom.replaceChildren(),k5[t][0]===void 0)p=new ea,p.setTextContent("This function is not available now."),p.setClass("disable"),_.add(p);else{E=k5[t],!!P&&P!=="Search"&&(E=k5[t].filter(B=>B.name.replaceAll("_"," ").toLowerCase().includes(P.toLowerCase())));for(let B=0;E[B];B++)E[B].enabled===!0&&(p=new ea,p.setClass("selection"),y=new IK(`https://play.grwth.hk/library/${t}/${E[B].name}.png`,()=>{k(B)}),y.setClass("image"),A=new ea,A.setTextContent(E[B].name.replaceAll("_"," ")),A.setClass("name"),p.add(y),p.add(A),_.add(p))}}return R(),s.dom.addEventListener("change",function(){R(s.dom.value)}),_}function rne(l){const t=l.strings,i=new on;i.addClass("menu"),i.addClass("library");const s=new on;s.setClass("title"),i.add(s),s.dom.insertBefore(rs().getKey("addbar/option/library"),s.firstChild);let u=new on;u.setClass("options library"),i.add(u);let p=new on;p.setClass("libTopbar"),u.add(p);let y=new Eu("Search");y.setId("libSearch"),y.setWidth("150px").setFontSize("12px"),p.add(y);let A=new fB;A.setId("libContent"),A.setClass("libContent"),u.add(A);const E=new wv(l,"room",window.user,y),_=new wv(l,"object",window.user,y),k=new wv(l,"mylib",window.user,y),R=new wv(l,"favourites",window.user,y);return A.addTab("room",t.getKey("addbar/option/library/room"),E),A.addTab("object",t.getKey("addbar/option/library/object"),_),A.addTab("mylib",t.getKey("addbar/option/library/mylib"),k),A.addTab("favourites",t.getKey("addbar/option/library/favourites"),R),A.select("room"),i}class nD{parse(t){let i="",s=0,u=0,p=0;const y=new wt,A=new _r,E=new wt,_=new Yi,k=[];function R(O){let H=0,z=0,Y=0;const ee=O.geometry,ue=new qs;if(ee.isBufferGeometry!==!0)throw new Error("THREE.OBJExporter: Geometry is not of type THREE.BufferGeometry.");const oe=ee.getAttribute("position"),Ae=ee.getAttribute("normal"),be=ee.getAttribute("uv"),xe=ee.getIndex();if(i+="o "+O.name+`
`,O.material&&O.material.name&&(i+="usemtl "+O.material.name+`
`),oe!==void 0)for(let ne=0,ae=oe.count;ne<ae;ne++,H++)y.fromBufferAttribute(oe,ne),y.applyMatrix4(O.matrixWorld),i+="v "+y.x+" "+y.y+" "+y.z+`
`;if(be!==void 0)for(let ne=0,ae=be.count;ne<ae;ne++,Y++)_.fromBufferAttribute(be,ne),i+="vt "+_.x+" "+_.y+`
`;if(Ae!==void 0){ue.getNormalMatrix(O.matrixWorld);for(let ne=0,ae=Ae.count;ne<ae;ne++,z++)E.fromBufferAttribute(Ae,ne),E.applyMatrix3(ue).normalize(),i+="vn "+E.x+" "+E.y+" "+E.z+`
`}if(xe!==null)for(let ne=0,ae=xe.count;ne<ae;ne+=3){for(let ye=0;ye<3;ye++){const ge=xe.getX(ne+ye)+1;k[ye]=s+ge+(Ae||be?"/"+(be?u+ge:"")+(Ae?"/"+(p+ge):""):"")}i+="f "+k.join(" ")+`
`}else for(let ne=0,ae=oe.count;ne<ae;ne+=3){for(let ye=0;ye<3;ye++){const ge=ne+ye+1;k[ye]=s+ge+(Ae||be?"/"+(be?u+ge:"")+(Ae?"/"+(p+ge):""):"")}i+="f "+k.join(" ")+`
`}s+=H,u+=Y,p+=z}function P(O){let H=0;const z=O.geometry,Y=O.type;if(z.isBufferGeometry!==!0)throw new Error("THREE.OBJExporter: Geometry is not of type THREE.BufferGeometry.");const ee=z.getAttribute("position");if(i+="o "+O.name+`
`,ee!==void 0)for(let ue=0,oe=ee.count;ue<oe;ue++,H++)y.fromBufferAttribute(ee,ue),y.applyMatrix4(O.matrixWorld),i+="v "+y.x+" "+y.y+" "+y.z+`
`;if(Y==="Line"){i+="l ";for(let ue=1,oe=ee.count;ue<=oe;ue++)i+=s+ue+" ";i+=`
`}if(Y==="LineSegments")for(let ue=1,oe=ue+1,Ae=ee.count;ue<Ae;ue+=2,oe=ue+1)i+="l "+(s+ue)+" "+(s+oe)+`
`;s+=H}function B(O){let H=0;const z=O.geometry;if(z.isBufferGeometry!==!0)throw new Error("THREE.OBJExporter: Geometry is not of type THREE.BufferGeometry.");const Y=z.getAttribute("position"),ee=z.getAttribute("color");if(i+="o "+O.name+`
`,Y!==void 0){for(let ue=0,oe=Y.count;ue<oe;ue++,H++)y.fromBufferAttribute(Y,ue),y.applyMatrix4(O.matrixWorld),i+="v "+y.x+" "+y.y+" "+y.z,ee!==void 0&&(A.fromBufferAttribute(ee,ue).convertLinearToSRGB(),i+=" "+A.r+" "+A.g+" "+A.b),i+=`
`;i+="p ";for(let ue=1,oe=Y.count;ue<=oe;ue++)i+=s+ue+" ";i+=`
`}s+=H}return t.traverse(function(O){O.isMesh===!0&&R(O),O.isLine===!0&&P(O),O.isPoints===!0&&B(O)}),i}}var a9=Object.freeze(Object.defineProperty({__proto__:null,OBJExporter:nD},Symbol.toStringTag,{value:"Module"}));const nne={},sne={},one={metadata:{version:4.5,type:"Object",generator:"Object3D.toJSON"},object:{uuid:"0C0DD0AD-3A7F-4ECD-A9FE-CECD97D5CBD9",type:"PerspectiveCamera",name:"Camera",layers:1,matrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,5,10,1],fov:50,zoom:1,near:.01,far:1e3,focus:10,aspect:1,filmGauge:35,filmOffset:0}},ane={metadata:{version:4.5,type:"Object",generator:"Object3D.toJSON"},geometries:[{uuid:"c0353472-3856-417c-aef9-3bd900b2fba5",type:"PlaneGeometry",width:1,height:1,widthSegments:1,heightSegments:1},{uuid:"cdd20912-a526-4cf0-99cd-902e0f5b1c59",type:"PlaneGeometry",width:1,height:1,widthSegments:1,heightSegments:1}],materials:[{uuid:"7ee8bf43-8655-4225-b20a-a93f5694f031",type:"MeshStandardMaterial",color:14342874,roughness:1,metalness:0,emissive:0,map:"0ce94445-6835-4f35-a1d3-1ec1b52cfcae",envMapIntensity:1,side:2,transparent:!0,depthFunc:3,depthTest:!0,depthWrite:!0,colorWrite:!0,stencilWrite:!1,stencilWriteMask:255,stencilFunc:519,stencilRef:0,stencilFuncMask:255,stencilFail:7680,stencilZFail:7680,stencilZPass:7680,polygonOffset:!0,polygonOffsetFactor:-4},{uuid:"10e0f37f-a21b-42f7-8833-b64ca8f812ef",type:"MeshStandardMaterial",color:11382189,roughness:1,metalness:0,emissive:0,map:"c55acd1b-37cb-42e7-b86f-c2201df25dc9",envMapIntensity:1,side:2,transparent:!0,depthFunc:3,depthTest:!0,depthWrite:!0,colorWrite:!0,stencilWrite:!1,stencilWriteMask:255,stencilFunc:519,stencilRef:0,stencilFuncMask:255,stencilFail:7680,stencilZFail:7680,stencilZPass:7680,polygonOffset:!0,polygonOffsetFactor:-4}],textures:[{uuid:"984497bd-309b-49dc-8256-b56053de0795",name:"PMREM.cubeUv",image:"549633df-ddbc-4624-af29-e263254762d4",mapping:306,repeat:[1,1],offset:[0,0],center:[0,0],rotation:0,wrap:[1001,1001],format:1023,type:1016,encoding:3e3,minFilter:1006,magFilter:1006,anisotropy:1,flipY:!1,premultiplyAlpha:!1,unpackAlignment:4},{uuid:"0ce94445-6835-4f35-a1d3-1ec1b52cfcae",name:"",image:"ea3fac0a-8d55-40ca-a2da-d5b1fd5ed605",mapping:300,repeat:[1,1],offset:[0,0],center:[0,0],rotation:0,wrap:[1001,1001],format:1023,type:1009,encoding:3001,minFilter:1008,magFilter:1006,anisotropy:1,flipY:!0,premultiplyAlpha:!1,unpackAlignment:4},{uuid:"c55acd1b-37cb-42e7-b86f-c2201df25dc9",name:"",image:"edae0ac3-1109-424e-b59e-2cf696008ff3",mapping:300,repeat:[1,1],offset:[0,0],center:[0,0],rotation:0,wrap:[1001,1001],format:1023,type:1009,encoding:3001,minFilter:1008,magFilter:1006,anisotropy:1,flipY:!0,premultiplyAlpha:!1,unpackAlignment:4}],images:[{uuid:"549633df-ddbc-4624-af29-e263254762d4",url:{}},{uuid:"ea3fac0a-8d55-40ca-a2da-d5b1fd5ed605",url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAYAAACLz2ctAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABgXSURBVHgB7Z1NcBRHlsdfVjeSEBKSwWZA4KXZNYEiEItksDdsZsKCvS/4vEwYfFq4GC7riyeAmLmwF8PF3GyI5bYHW3vaE2hijB0zNm55jWJxYK+bMYgvQ0gIhJDUlZP/UqfUavVHZVZWVldX/yJEI6EWrap/v698+ZJRkwX6s9nu2VnKOHOUYa6b4Y6z2eVuN2MsQ5y6GVE3vo8TZco9n3EaJ0bj4t+9R/Gd44ycnPhZN8XPyrlpyo2+PjBCTRZglFAgtvwzGuTc7RdXYSfjrL+SsEJgRKg1J5T8LTnOcLqNRkYGBsYpgSRGgJ7gpugAxEacH7AoNr+MMOJCmM5QiglBvjGQowTQ0ALs+zI7KB7eEoIbFNZmkOIEo2HH5UP5Fme4kd12wwmw98tsJk30DnP5oTq0clqIm5Qjxj4TlvFso1nGhhAg3Kv71D3kOmx/7CydKsIyMs4vfLdn13lqAGItwH5h7eZg7fL8GGfzGWpS8Kwi8eGU45yKs1WMpQC92I7zEw1v7XwikpfzcRVirATYFF514ijEWAjQc7Wcf9IUnj/iJMS6FmChWHyCc36MmigTByHWrQD7vsi+J0opJ5OWXJimkKycqtesue4E2H8l2z/H+IdRudvV6RT1tLRQb8dK6kilaNuqdu9rG9taqFN8DnpaW8o+d+z5jPd4WzxOzuW9zx/PzdH3T5/R2PQMjc3g8zxFAYSYctjeerOGdSVAkWScIGH1yCKvre4QIlvpCe31ro6K4jLF91PP6LYQ41cTk54wv3r8hKzisJPX3hg4RXVCXQjQSzJc/in+SiEDge1b00X71nZTb/tK6kynKEpgKa8LUV56OE5fTzzx/h429WQNIxegjVgPVm53VycdWLcmdAsXFLjtS48maOjew7DFOM4ZPzX65q4zFCGRCTDsDBdx279uWEevCbcKAcYRiPGjn+94lvF2Ib40DWPsTOo5nRrZG007WCQCDNPlQmwHe9Z5j1G7V5MM3X9EF8fuh2IVo3TJ1gWI1QyxdvupaZcLwR35uw2xtXZ+QdICIcJNmwQidIm9PbrHbuuXVQFu/zKLNqnzZJCkCK8UuOfTP90yLkQRFx63GRdaE2DfFVFiIXMllqQKrxRYxN/duGk2RrRYqrEiQJPiQ3Lxby9voN9ueImaLIIY8ZxIWIwJ0ZIIQxfgji+yH5rKdA+KrPboy+sbKrkwicyaIUYjWBBhqALccSX7CSd+iAKyUdTufr91c+LdrV++EmWb3/1gxi2joUGsIx+mkAhNgKbcbtPq6WHSGqJW+N2bA8cpBEIRoAnx1VusN+269EQsm81x7v09zUQdaUXaa1ioZy6OPaBzt+4Eb4IIyR0bF6AJ8cHlfrx9K/W0RbdsNj435wnu4ax4zM8Lrxi8xlfEWnIcgDV899qN4C45BBEaFSDWdYnzQDUkxHlne/8+EpcL0f0yM0v3xEep4CRtjuN1z3Sn0xQnTNUNucMOjb4xcIEMYUyAXh8f8SwFAPHe+1s2km0gvJvPnnuP1YC73d7R7okwrnz0812vXBMIsWwnLOEwGcCIALG2m3f55SAbwY+KeO+ISDZsMl5oFkVMV4tftazwXC5iv7hjQITjaYcNmFg7Dnw152eu8GwQ8f37lk1Wkw3EdD9OTde0eJLNba2UWdlGjQSSk9O5WxSAkfQM2xu0iyawL/FaqgKI7w+vbLYqPrjaq2L5KsniAwd7XvKufQD68610ggISyAIGTTpwAfavW0M2gJuFu/UrPNCo4isGdcIPRNFal6DNC9oC9OK+vHC9mm1VNt0uXO7okylfsZ4EMV/vqnZKAgHdcaB4UNsFe0mHpviOWiwwo6QCl6siPmS5canxmQDu+Ii4J5p0F5qLtdASIIrNunGfzWwXhdfrT6eUngPx7exc1RDZrgpY7jyobxT6+65cPUkaKF/lQjv9T6QBdqOhyGwDiO8HjfZ1FJnXt9T3xqUwwYqJ7lZRTmxAtaNa2QLC9ZIGWLp6P7OJbAC3qyM+CC/J4gMwEBs1dw4yDBRQREmAO65ktaaOorHA1touYj0d8cH1bl7ZSkkHS6Af92317pkynAa3f3FVqffTtwDhesX/oFX3QVeLLfF9O/m04jpuNSC+OC+xmQR7p49s0ktKGGcn+i9nfSenvq943tUrOKPOZyvjxeqGSrYrgfCS7npLQWasmZR0qxSofQkQ1k+nsxmxxNFN2um9Ekg6fpmdJR2arrc8qFjoxIPYgjHvMWvjS4CwfqQB2uhtud7cs2nSoWn9KoN48Peay3XeQFEf1BSgrvWD67W1hwPi04n7gK2+PtlJjQ8sB8oPrNLohA22wGgTLVcsEpLCOS1VqXn1dayfTdd7V7helF10Me1+PYEVuqifu3yhm9rPGwTFb1hkfKxKOV7/YVvhMUrgiv/7wSP1tn7uJa3D1b6laiFat+hss8ngzxOT2hYEN3ZXQCsNYeFNMCFuDiyariWuBgQJS90lXCL2oUSRrWuvF9doXq1qAXWtny3x4cYHcV9oONBBig77RVS6a3TB73h3ZkZ8zH8OMeK1r7c4ag5Z8aVH4+qrJDWsYEULqGv9UMS0FfuhyQAuThes+arEgBAbppuGZelUkZbRVg0T+43fHb1BqqQdtqVSt0zFV61j/bDWa0t8MoDXxdtW6VN8+L9Q4MYHSj31ID4gLeOfC+N+w05mdGctzrnuoUr/VuVtwwdJEVtrveBuwC2GCPJrUSw8G642CFKI6PgO8w2i17bF3qu0OlL2Luis+cL62drHiwscJPMF1TJL/HysqsRBeKXkpqe90OTu83Amqmpawe7Z1vJWsKwARSX7HVIEU0lt8UtA8QFkk+WA4HADbz1/TnHF234w9cx7E4VhDXWsICO2v9zXlwnQW0Jhamd09K5aaXVw0C+zwa1SuYZTafXquTCsAt5Eqt3gftCygqIw3VtmeW6ZAEXAqDxKDRvKbTJhwC0WZ424QXG3epWQv5vpUELH46XLJCPLBFjJVFbCZt0PmCqBSAHKFq4gGXW9g+uF3/HWtLk3GCygas+g0Nay0G6JADFeQzX52N1ld2bfuEH3C9GF4aLqlR/FmjmyZBN0esdgqK0RQ1ul68NLBDjL3UFSxNaar2TCwFlrECCyaN3m1TiDLNmUJXxtdScp4y7V2BIBqrpfJB+2R6iZcJUQHXbLJU18EljCewYqCVrJCGNvFX+6IECd7PdfLMZ+wG9XiZ+fk3Swb8bEm1k5BBPZcHFRekGA+dm88qlF//yC3aN8GzlRsA3ehJgWEfTNeGDdWlIl3+IekH9fdMGpVN273+l8MpIFW8h5OUHABiZVHfCiI9oWBChWP5Qs4O4IJtYnJVu1CZorgq4s7XuhS+n7i3MNT4CeT2ZqBwfivF3bJC12e7FlBW1rX+lN6UK9de2K+aZU02NDsGwX5NruW6OmBZRjZBzoLYjOpdVPrdwWwfCepAkQlgnCK9d4KveSjBeaYp8GCE9wXVGa0R1Fh3BMlXyrl/B+Nu+CHbX6n04V3ATYY5E0kCiUS77QzfPiivmxwbtFPe6fujq9uTa6jak3hQB1QxwUpVXLMZy7ntHzXq0w6DtVnrxtVXJGl0WNzFZriUNuL4UQ0emts90gyCqJqiY4sUUBcs4yCs8VBUiNCngTbVRHjqDTG8M1IUYVIQbp9lYVoFMwevP2WjEBieoAmVTCZvYVo1MygVWUQvTjmmUsqMPrikZJJiIOGhBUngh/3xvR9NB0cvXnAQulIxCIDyL0swda9zQl1ANV84LZVZRx8vl8RuVJG1ubYyyiJEiykGlrq2kNYQV1ewd7FEecOHNCgK7DMipP6olQgM3xafMCCbJ6IUcQI4OuhG5heluHmmd0yc04IqzKqDwpygy4KcB5YKGCbDrCdcSRY5W82UPNnstOxREijAsLKMIqpfFHUZ7bm7TB4dX48VnwDUeoIZaLC+HidX62cinGoS5HlGCU1lE2tkY3S6+jeWj1AkEy1mIQF5YToU4cqNyiL8p/8GlKAozSAsJ1NK3gIshYTSxPQoSl7lhn64OyceLULWJARQsY8TDHej+h3CamrCCAOy4eVaKTaXcqb1ISAuTE7be1BMDPSI0kcdvgBITis5CfWuq9VHbBUa2CSOJ2UnnYBKnblYLwRp4SpePaVUt0WA2JnTmpNFIjyZjaaglsn5cSOwGqjFVLCqbnFW4SyYStwe1WBGi6kXRtS1OApZiehvUP7XbOSbYiQAz9MUnzWIXlPJw1O/vFFlYEqNvFUYmmG16OnMYfN8RSHMupPGFsWt3Up9j80pHJfb0b25pWsBiIL+p902PqYcC41STET2u5X2ABm6siSxmPmRtmECDnfFzlSY9d9XdZR2reXUJ8JnbjA4ivaQWXErUFVC2K84IFVBKgjgtucxYtFS6SqaQE5YKmFVzExOSwIEyqFsSZECBz6KbKcx5rVN1LEwZMdDchwqYVXIo8jy4qVGNA8XInlF2wTjduudULjMM1UcFvWsGlRJkJq54lx4jnhAApp/KkSY04AwIp18WCYYlBh+PgZ9sqmsaBJxG6YdV7yRnlHMflOZUn6Qqm0uoF3HHQMbkoTDfrgvNE6oIV8wOHnJyTSqVyKk/Sbf+pJhAkJkEPhUE7eNMVRzu+ZGxGTRtuWlhAmlF0wcLE62TCEGC1ZlK5+183LrTdxdFkKfCMqjHg6OsDI87I3oFx1dWQvzyeJB38NBEgLsSZZzpbA5GQ6B7B2ijM8mhc8G31M1ZG8EdhJcQdUXiidhzoN2P1CtZPp7ROgERreZLb9qPKgnGUqwriVXrlP6fwybcqT9YVoGrdTp4AqRIf4v8obi1vYgdVTYgSzKIFZHmuZAFxavZjzXRfp24nj02FGP1Md5e7/5tJiR2QFyifpO44w94D/kjlU8OkiC0rWAzcMbJwlG3kIc1oxCwnyKSKMIrf9/qUuhbS0/MxoJcVIBHZcSWb48Qzfn/ApUfj3kElOsAK3ns+G6hmJU8Lv1uUkCP2g/BaxdozbgQ+UCNsxEMIK7GC2Q89Lj1UWkwDI9Ac/rI4JZ/cIVLg0qMJ0gXCCGPGDCwhml9hJTFFCj2ISRIfSEVg8L9WTEBk/AecxS86SnEgFp516oES1AWbo97MYzv5gg6UXTBzFozdwqtNzdBnpMjQg4cUBExlb2arZmmzvHEfoZgqwkovt4CeT+Y0TAqo1n5KKd4I3cQMtt/QQ/ceKX2/cLXDI28M5OSnS18t538kBZB6BxWhzFaTjqk3oc0ivI77FYnuklyj5O0yX5tR4WvNZblicNGSevSD9AImkgfbK0Af/XyHlEkv1dgSAV77zcCw6rrwf955oF2ULgblkqSJUFp/JGR5AytotgWo6v3Eey2HBoTiry0LGLjrXiAFUAU3YQWBFGESYkIpPikaE2u4NidGDN1/qNGCz5eV+pYJMJ12zpMiF8cekCkgQtyYRs6OceDgrtUdC7+jqSZSmxZQ556nHedM6deW3WUvQ1HNhg0kI8XgQjaqCFH77O/sWGLlTQgQorZ1vXC/1Wt/S7NfSdlXXJqp+OGcTkBaBZXDVeKAdLmvlDnkZ85AF3O1YxdMc3HsPqnCOC8b2pUV4IpZzw0rVRhNW0GJn8NV6h1YPbjcStsSTAyYfNFSIy7iPtVlWCQf3+3Zdb7cv5W9q15R2uVnSRHTVlAirSF2v8VJiDLWg9WrllgFHYdr0/2e/ukWKcP5cKV/qviqdZKRsKygBF00cGNwy/UsRAgCrxOxnp/EIOhIjfWW1tRxf3WaUFKOc6rSv1W8izrJCAjLCkogPLhl3OAgBzSbRrZ+SeH53SYadLqpPCfYBh/cUBqi4cGIny+XfEiqXyXOTonocZAUwLvk4p37dHDDOgoTeeHxIY+uwpBG23siYO0Qf+F16NQvg060spWk6dT9QDXrB2pesb7Pv7ksvmuQFMB5Ef/z6nblk3NMgH5A7KiDWwvjqAGIbO2KtHdqk67oikF3t64LlrFx2EB4h6/dUBYgrJ9IPg5X+57afkLDCmJ1BK74/S2byDYoR8iShBzaCCsjJ4hClH6sJISF9VnZZY1HzLgx6fJR/wsS/9myfljzDcP6AV9vXx0rCD7evlW7bT9sZPEXYsSHbOEHtuLK60+n6J7m0ag4sGf36vCtH0Kqd4X1U8WP9QO+rnQ6xWr+oHJ88MNNI40KYQCRLVi2wtQG+TVbBJnn19cRfgsbrJ5O4gH8WD/g62p7WYxGXRC/QNhZcVxB0qS7BLe5zU4ZStf11sp8i/H9W6TnnJOkuDoCLt554GXFTZZyU/PUAGTd2MoQNrhnQ/cVu51pftXDr/UDvgWI1RGHc98/uJiPfr4baANTo3Fb0/rB6vWuaqewgdXDPdNCaMSv9QPKNQTdhAQH2f3Xzt5ISjP1hJwCpipAJEjFLVxhoVtyAd6a75uvblF5jvJvwxk7ThrgFzp2/f8p6eSeTWtZP1urPljr1REfSDG2lxRR/o1G9wyMiIREyxUjpddazG4QkHjolF0gPhvtVkg69AcOqLleiXYZv+/KN1nx0E8aHH15PR15eQMlCV3XC/HZWOuF+M5pxn06rleibdPTDnubNLJigAA3SZkxCt2q4pPjS2yID/dCW3xCAzquV6ItQJhb3awYnP7ptlaaH0dUB23K7mkb4kOTAe6FLi7Xc72SQFHt//561xmdArUEKyWNLkLU+9Ag4RfZS2hjgxHE98EPfyV9+NlRaCAAgdOqQoFaabBRMRBho7pjiA9Zrx/keSfoJbSR7eKaBxEf4r50u3fvA2FkA27/l9nMnMuRlHSTJo2WmOAoMr+j4WD1UGC2tQ4dJOEA3mqHiPuCuN6Fn0WG6PtTdpAcfpkC0AgiRMKBmM+P25XLajYP2fkPUQbDNIsgpIkNjOwZ0PZ6xRgdQbDjSvYQJ/4JBWDfmi56P7OJemJ4CKE8jrZWj18UwkOP5ntiIUB5lnMJnPPjQeO+YozPwOj709WT5LATFAAs232yfWusRIhtAdXOQsbYYGweQmYbxRBJ3eW1pfBT1/bsOkkGCWUIiwkRoq0fLjnsvSVBgeBwulNpvAfBeX2G2DMiVjGi2jyFZAN118nAfZnmxQdCmwIkRHhGiPA9Csj+dWvo6KYNdWsNYfmmi/aedBT26EY9YAmCO527ZajMFY74QKhXacfn35znjN6hgMAl/+GVzXXb3l9vIM5DJ3Nwl4uRGnThu1+/eohCIvS3qQl3LKl3axg1cjNY0Cx3EX5WWL5jFCJW/IRJEcIaIjbcv24tNVnEXKwnCc/tFmMtUDEpQuC55a3CLa9OtluGuz331zuByytLsSM+YDVS/sfPrx5zGfuQDBLnumEQwhGeN5rv8GiFSVZhYD1V234l2+8w/qmoXmTIIBDiwZ51DW8RwxIe2qq4y97GnHCySCS1Aqwd5zm/bFqEYFv7Svptz0sNFSPK0ygxGNK08DwYjYiy0dsm1nbV/+uI6L+c7Z5LuydN1ArLgRgRZZs4Z80Q29cTk15WOxnaBn9+Fl0tIwMDWs3FQYl8HH0hLkRyot1JUwtYxQO/WkP7XuiuezGidoc+PcxZDMXaFYDLRTOpyXVdzdcRPWG65FIgRljGfWu7qVf8vTPibaKwbBj4jSNPsSHIRPG4JhG63OUvpY4wXarxA5IW7L14ravTs4697eEelgOB/UVYt++fTnltW2FaubK4osTyGzslFj/UlQCBTWtYDljEnpYW71R3CBMb6XtaW72vy+NleyqMxJXW63E+702CwGAmCA3tWf/35BmNzcyEGMvVgNFwmrPjpvr4TFF3ApSgt1AsRJ6ISoiNQr3EepWoWwECzxrm+UkTDQ3JJNoM1w91LUBJU4iKwN0ydrgekoxaxEKAkqYQayCER3l2yvZqRhBiJUBJU4glxFB4klgKUCKFSA69lbRkZX7tVsR4aed8HFxtJWItwGK8HXmcv6MzuzBWCGvnuHzIWSWEV8fJhV8aRoCS+U3y7jHG2P5GsYriJuWEtbswJ6zd9Rhbu3I0nACLQetXiruDLrH9sbOMXlzH/0jkDMcxtvNLQwuwGC9enKV+cvgBkbzsJM3ZhmHhWTniQ4yckVQ7fdYI7tUPiRFgKf3ZbPfcEwjSHRSfCkGyDFkSZUFsWBL7luWF4DppOCmCKyWxAqyE17Gdpwxz3IzLvBhyM3HWLa5UN5tvGevmFVrHICw8cgzu5CJLZTwnvjbhcMRwTs5NUW5FO+WSKrZy/A2zwTT1hg5zVwAAAABJRU5ErkJggg=="},{uuid:"edae0ac3-1109-424e-b59e-2cf696008ff3",url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAYAAACLz2ctAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABZlSURBVHgB7Z3fjxzVlcfPrRnbY4PtWW8wG7Bh2EQ8LEow7LISKBZjKdLygBZQpLxkJcz+A3jiYK3Ng8cP2CuIGecvYPyQl0hR8IqVghbJExEt0rLBJpHzkJDdDoawsVkyNvjH/Oi6ud+qvp6enu6eOufeulXV1R+p3T2eXz1d3z6/7rnnKhpyCz0zPU60ZYJoeYJiMvd0L5EaJ4XHejx5nHyhnujxI+ZJqXnzBeZm7jUexw3z/7+niMz9aENNHTpPQ26hqKakYts4SbHeQzTyIClz31tYflF0nnTUIGq+T1E0R7RwXk1Nz1MNqY0AU8FtetoIzohNPR1MbFlJRKnOU6TPmA+MIA83qAYMtAD1zIlJc/c4aZo0gpukKqHUnHnOZyganRtktz1wAjSimzB3zxrR7S+dlZPTMLfXKVI/GDTLOBACTNxrvHG/sRpPVc7ScUksY3xaHXxxlgaASgvwlrWL9QFzP071omEu35zJro9V2SpWUoBJbKfp6MBbu8yo2aoKsVICHApvPaonxEoIMHG1ml4bCi8r1RFiqQXYKhYfNasSB2iIgPILsbQC1K/+6/Mm25um+iUXvmmYV/NYWbPm0glQz7xslsSaM4W5202biLYZze/caR6PEd1xJ9EY/m97+jHA425cvbJyv3CT6Err/vKl9PFVs9q2sEAF0TB1xH1ls4alEqCJ9Yy71dMUkl33GLHdmQpt9z29xeWLy39MBXrxQ6JL5vFHH1JQIjVtRHiMSkIpBJgkGU39E/Ns9lDeQGBfvT+93bFzxaoVhbWQH/wmFSUEmj+lsYaFCzBIrAcrt/teoge+lr+FcwXWEWK88Ku8xYjuGxMbHjlFBVKYAHPPcBHLPfz3qVuFAKsIxPjO26lltPGld6JTFN08VlQ7WCECzNXlQmwPP5IKr2j36hNYxPfezcsqFuaSgwswWc2Ijfh8u1wI77G91bV2WUHSAiHCTfulQc3RZ9ShsK1fQQWoXz2ONqlZ8kldhNcJXPLcfxgh/pY8MxUyLgwmQO8llroKrxNYxJ++4TdGDFiqCSJAr+JDcvHo3jTOG7ICYkQkLL6EGEiEuQtQzxyf8ZbpQnSPfmOwkguf2KwZYvRBABHmKkBj+V4zlm8/uYLa3RNPDt1tVry6ZTWrDh5+jnIiNwF6c7tDqyfDqzWMTqmD/zJFOZCLAL2Ir2yx3vIy0eICUdwkWjKPo4hobHP6PMsMSjYQomsTRE7u2LsAvYgPLvfb3yl22ezmjfSiXbvWEl68+vPbTRnzL79ElQDW8Ec/dHfJOYjQqwBb67puNSTEeU99qxiXC9FBcJ9fXSs4y+ho2j0D61clkrrhW+4FbEX71XePnCZPeBNg0scXL58jF+BuJ79JwYHwPvssve/HRuNu/+rLqQiryjs/T12yC7FZtnvh8Bx5wIsAk7XdmM6aRxMkBfEeko2QQHDoyUN8tx5bt6UuF7Ff1XEX4bxxxw/5WDt2FmC6KXzTOSfxweqFTDYQ2/3/p+tbPMtf7EhvgwSSE7hkKZhloxb3uXbReHg7bzzqJL5/eDKs+P5kXO3HF+stPoDXHK+9FE0m5Bo7So44WUDnpAMvAJpEQwA3C3ebVXhgUMXXDuqEb75BDjg1L4gFmMZ9GkmHrK0qpNuFy/3jJ9liPQtiPrTs1wE3d+wUD8pdcJJ0CMUXssCMkgpcLkd8yHKrUuPzQbLatJeEjJNO+jtFiASYFJulcV/IbPfKfLrhhwPEd9euwch2OeCaSI2CiQf1yZemSQDbBbdc7/+SBOxE+8dvURAgPmS6XOB24X7rClZMpFtFm6MPcTuq+W/z1PXywbJaqCIz3K5EfLdvq7f4AFahpEugo80ZYsISoD55Yr/I9WLBPtTaLmI9ifjgencMeMabBSyB4lpJmiy0ntQnj7N6PzMLsDUMUlb3QdwXSnx/+Kj3Om4/UG6p8hKbT3Ct5EnJ0XTLbTayW8CYZIkH6nyhMt5PL/OyXQuEV3fX2wmumey6jXMK1JkEmFo/QWez2zuJB5KO69dIxKAXm6UgMxZ5rvhAy2OuSzYLGAtdL9roQ7leLLFJGFq/3iAefEK4XIeBohlYV4Bi6wfXG2oPB8QnifvA2BYKAp4f3ii4YTnQ3tDsKgkbQmEnTXBBQvJKck5LX9aPuiXWL6TrRckFNym+M99EYNfN8t8i0dLSSjd1ljcIit+jG1KrjCwUNzzeWHDbP1zxhV/y2/pHEu3M9fuSvoVocdE5ZJPBhw25BcGF3bWbnICw8Aa40bJoUkvcD4gQlnqzcYmbtxSTrUvXi9dpXu3/l0itXyjx4cK7uK+tW0mEFR3a9zndNVLwN35xNb0BbAfAcw8Zu8INo52fu0qyjhXsaQHF1g9FzFCx30cXUxcn5a67eXs7ILb5+fwsHRdrGXcEqmFCfFiq4xKp+3p1y/ROQiTW7yv3hxOfDeCl2G2VWX/XHz5Obyj1lEF8wFpGhCGXLuWfzOwSzlqM4/29PtUvC54kLvsCbij6/HNyIktg3y68EK7WBStEl4pAFh6TJJfq+V6rI10FKFrzRadLqH28NgZzod9aJ34+1pOrILxOIEC4StfXpxcyK5geJtmF7hZQ0bPEJeS+jmtfkDObe7hfCA4X8EqFDzCHK0YfJN5EeVhDiRXESaZdWCPA9Fgs5hkdOOIg5OCga8Ilt3a6NZxaq1fmwjAHvInwZvL990isIArTXZbn1l4FHfNHqYWe3+LDLaLga8EFQkZdZavXi+Rv+zCtU/pEcs27JCNdBBh1NZU9CVn3A75KILZsYVu4Fgs7wSh/8Hp98rHfN1gyBJ67QqPWhHarBKhnXtrDTj52B57Z5+OdbN0vlpbycFFlBSGGtGmjEzQq8K3gROf68GoLGKtJ4hJqzdfiS4DIEmEVylLTCwUE6MsS4vAfLlE8uerDVZ/skan0BMlH6BFqPlwlRIcssW7is8AS+ijTSJIRFT3e/uEtAYqy35CxH8jaVZLl59QdiNDHyZ27JdnwSlF6xQI2Nf/UIhSfQzLIiUJo8CbEtAjXN+MDXyc28Yan7cMVAVbB/S4v0RCP2Hk5LkADXB20HdHWJkCmBQyd/YKlmmSrIUFzhWthn+sJ9YqxSwSY+GTNPDgwtPsFdYvdttyWntyOTVOYSY2P0cHje2wIDkB0eW35WpiwcWCrGrsJ9T9i8aUCJkfVTYCwThDe7V0aT+1eEpSlbji2puF1RWlGujtQMkWsuXHS/Pt61HoCk6xvRuo9VsAQ8aUaxoBIFLplq2gng0XEFC9sK7hnIhWCtDEV9UFpQR5FaXY5Jg35WrZcPUgcMCV+SBhstrqeOOz2UggRnd6Sdv3PHFZJ2JqI2gSoaII4DI/MCgt35AjiRFhDiJEjxOtfyMMcthvWidFLBchNQLb7PWs6M3Wb2deOpGQCq2iFmMU121hQAn9ZLklEorQBgQH8fVGja0dGqNYgKZEIBOKDCLMkGVIBohbI7o7ZMhFRU01wvqXQ47OGuCULEOB61hBWUNrwsY3pGZvLRoDc+G97gQIcjk9LBeKyemFHECOD7oV0yNNOpmc02jMCZPb/FTk5fsNQgAloynXpZoEIceRYr1heuueGe76f0V5klkV40WOR5/aqmseA7fjYcIQaYre4EC5e8rO5xklH240FVDzHXWQMWPazeUPikrG20+swHsm+G7YFhAsmzRPgWIEWEK6jzqWYTiBAH8uTdq25HUkiws4P9Li5mhWygKDoUWVlwpcVBHDH7aNKJK1vXAuoyQhQ64KqykKGbng1Pne6tZ+FvBCm+Rf+rFoWsGonleeNS92uE4Q39pQoiWvna2OiegHV5qEA1+BrqyWABQw4tL16AuSMVasLvucVIiEJNPwyjAB9N5LedhsN6cD3NKxAp4WGEeCngqOz+jE8VmEtPgY2FUAYAaLPzGe2NnTDa7HT+CsGVkIanG+gq1eIDQTjayO0ZXu1qke5A/EtFLxvmq+N+bBJSJbW8qxszmF3WNWp2jTXVICa5xsl7zK7egHx/d8nflwFxDe0gqspenIE1wKqRICKJ0BJLLehbRgkXiRfSQkEOLSCK9wo2ALevEk8VGIBf8/6ngXuL6G1CcMXwhPNOxlawdXY8+iKgmsBNV3hu2CMNePSbfUCltRHBX9oBVcTN6kwuMZJxQ00pDY43yOygBBIty4WCPCSQNCdPztQ0bQSFJkJc7cKGO0ZAVKD8z1iwfRavYA7xoBwpzPftg3rgpZCXTBzNcZoL6IR3eB8j6gOCPoJBIkJNl67BNHYmT90xcVOELvKTFBHRo0AaanB+Z7EBUtEiDiwXzMp3rmY2exy8nnALo4hHWDCFtP9q6lD5yM1NT3PXg25yEucb5GliQACxJlnkq2BAbs4SosuKAm5wq4BnsddazSHPs/65svCODBrxmoL1pITIJGQ1Lltv1nQejD3HGGtEivWUoN+nzhIN0Zz63b2BEjOoYH4He2t5UPCwNZE3G4BFc8CQu03BeUYIKnb2WNTIUYUsNdbcrK7/4dJSRiQF3AtYBzN4S69QiOLc8TlU6Ebdlm9gDtODuC7uHJIMxoxuwkSIvzy3fUT4UgBf68kJBtdWLGAokTkg9+QGAjQ1UXa08Lxx0OQ//NBeo/Y0R5JBctZt6SkiOkRXC2YBCTRHK1qSI3PEAcXAcIq3ZHDlFVYQjvCDAKEEAfxBMx+FGEBL7ITkFsh38qz1REvDkQtUFqUBqgLDhsJ/BM6+YIGLnOX4PQtY7ciwGjhdeJy4ZfkBArHw2zVL+2tbyGQeMKRLhawFQfOEQeu6e2kfSP0ED+EfkNf+BXry6ExNXW4YT9cfeV1/DPigNT7I0cR2my17vh6E4Yswju6X9BxXnBam2EhXZZrB/Neihx8WSSJF/BULgq9AvSfbxObaHRu1YftH6gXDs+xyzHv/be8KN0OyiV1E6G1/ugU8rFPJrQAud5PUQMNCO3/tfZtp+PTxEFSBe+FFWEdYkK7WmOnffkQ4O0BJ0YgAWVXQfSaUt/aKx1Fs8TlvXfJGxAhrMIgZ8eweDjsx/6NvppIQ1pAeD4uKjrV+V9rBJhkKNxs2Ecy0g6sAqzDIIoQtc/OmM/HOcgQdajXC9eam3x0ZL+W7r5Oa96qCJAEpP3gHK5SBRKXe3f3/Ss+WqhCDmz6xX8Rmx6hXXcBRouz5l/eGpZvK2jJcrhK2YHVS04Y7bEtwcdEg9tupyAg7vvdb1nfkiQfB1+c7faprgJMF4r1D4iLbytosdYQ1qNKQoTg7t6dPu9+iZXrTraQ7nfuLWKje4d0vV8VSTKSlxW0JPHTrvIv4UEQcLe4ZZlp7TpSY+tWCgKurWTpLaJjvT/VA1EyAvKygha7+QhCdDmg2TewcDjZ3Aov6zZR1+mm9pzgEPz0DeKjZrslH5b+Bbdmb+X2BO8Sn2WZXnQ7oLmI+iGEBheL54Gz0rj7k13nuYRK0kR1P+pr/dJP96G1MjJHXN75uZ/VkazYA5on/jrdDwIx5lUTs5YOosPvg/hdxoO4TDYNZf0gPFxTNv2tH1jff8EKRjRJHLA6gie875sUHJwCaU+ChGtDfAUrs7Cw8nEWlwdB2ZEiaHHatNEIfYtfl48CtEv8F8r6IazKwfoBRRnQr544a2qDk8Tl299Jyw9lxK4+YJgPBJkIrtXOHiquvHxJPlwcb4xduyl3EFL96IfEx1i/g4efW++rsvkNRev+oK4gaA3pijlAZLjhQo61pjbY/wvFjeskBqFG3sDqiRIPymT90i/LQOLHtaAuKI4dagAsn8vJ5yHeKFLXmyH2s2SPnEeWpom7OgLOvRsmK64a0hk4sNYhYj9cs18zu52BWfXIav1AZgG2ttHxyzIAVtBlA9OggZ16EusHq7czh92EnSSeS1jP1fpYVusHMiUhq36+NCHBQXb/9M/FnjdcBiA8jKLjChBJUnsLV15AfEg6JAYDa77fPXIf51v4xavlkSmSgD/o335MtQeuV2L9sI86RNx39i25t1JqHzFhC1AdQku1lrlipPRnBYvZgwISD0nZBUX2EO1WcLu/Ew4ciHmu18J2wRb96vFzpGkPSXj0G+a2l2qF1PVCfCFWOyA+acVC4Hot8sVTpZ4hSVYM8IfWKTNGoZsrvmR8SSDx4VrIxTcvcb0WsQBb5lbmigH6yi4I0vwqgtl5HPHZ3XIhxIcmgzmHsMgs1Upcr8WpfUQdPHJKVKC2vPnG4IsQSQdn3HDSS7grWx+hKxDfm/9OYsy1Vy8cOUUOuPcvoUDdmvcrAiIcVHcM8WUtONvzTu4KtCMQr7mL+FBwThcnnBAnIe3omRMTJgs6Zx7Kx10NWmLCGQ0Hq7fzznDr0C4JB4D4TNzn4npXfpQn9CsnJinSZ8mFQRAhEg7EfFncLoS3Y0fYQ3YQ77l6nGj0oc4JB1K8CRDokyf2m39fIxe+cn/aR4iVk6php/uv1+NXhPDQo3nmx+57dmKaco372vEqQKBfeWmaInWUXID40EtYJRFib0e/s5Bt9zJuRQyRlC6vtYNi8wsvTpNHvAsQeBHhprHUJT/8CJUaCA6JRme8B5Ghgxqd1NizW9TmqaTG97b71s8cxAdyESDQ33/plAlUnydX/uZrRI/tLa81RLt/s220RtLYuqH4AUtwuVj2/LWHMldO4gO5CRDo7x+fNb/hWXIF4nviyfK295cNxHnoZPbRAqfptPrekf2UE7kKEHhxx5ayW8OisZvBfNVVUWj+3osHKEdyFyDwKkKID7HhA1+nIW34ivUsObrddoIIEHgVIRi65RS4W+zd8DkSJZD4QDABAn3yOMz5DPmkynVDF/IQHmjq59Sh7pOs8iCoAIF++eU9NNr8iYkvJsgnEOLfPjL4FjEv4aGtqqmeSaZhBCS4AEGydqzprHcRArSuP/x3gxUj2jncv3g3n+ljaCZRRnwe1nb5v7og9Mz0ODU3THupFXYDLhnWsMpZM8SGYzCQYPhKLjpBO93I0rQ9PDA0hQnQ0ooLkZzkd3AcrOIDpoTz1fvLL0bU7tCndzHnWYuJy6VjPtd1ZU+jBOTqkjuBGHffk4oRLe+bCt4mCveKGTEY/IhbiP3TBbpcWvNUSoT3Uk0W4KbRi4d7jFnL+7AcCOxia8o82rbytHLdCFhiyUKpBAiCWsNuoBV+23jqqne2LCQej42tuO9ebtxaL8RraE7APYQGK4fT3a/O5xfLrQfmPKqRKV99fL4onQAtSW+hMrFhUUIcFEoS6/Wi4JaN3qiDh9HIsA+L4TREBjJctXhfWcUHSmsB20ncclNPe+msqQOJu6XnypBkrEclBGgZCnEdILzE3YZdzXChUgK0DIXYQQWFZ6mkAC23hBipx2uXrCTJhYnxRqPZKrjaXlRagO20suZnRbMLqwSsHQ6TjBZni1o+88nACNCSWsX4AEXRUwNjFXGKfTM+TcvG2h2urrXrxsAJsJ2k9WtkedJcwKcqZxmTuC7+mamUzVUxtsvKQAuwnVa8iHmGT5vq54Pi2YZ5ASsXx2dIRecpWnh9ENxrFmojwE6SdrDlTXsoiieJRh4kFU8EEyXEppVZEmu+n9yPLM7VRXCd1FaAvUjcdrQ8YV6ZiSSGVCP3ktJmcRg3ld7rHq1jEFb6U4yY1Lz5OiO0+EoqOPM4Hm3QhuuNuoqtG38G06EFAaGPSiUAAAAASUVORK5CYII="}],object:{uuid:"7fade3a3-a405-4bac-9480-fd258ddb174f",type:"Scene",name:"Scene",layers:1,matrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],environment:"984497bd-309b-49dc-8256-b56053de0795",children:[{uuid:"60b80b3e-55ca-4625-ad48-a52da8e168dc",type:"Mesh",name:"Entrance",userData:{type:"Entrance"},layers:1,matrix:[1,0,0,0,0,22204460492503136e-32,-1.0000000000000002,0,0,1.0000000000000002,22204460492503136e-32,0,9.5,0,9.5,1],geometry:"c0353472-3856-417c-aef9-3bd900b2fba5",material:"7ee8bf43-8655-4225-b20a-a93f5694f031"},{uuid:"fa76d3de-1578-4f3b-8a1c-d8c0d23b9b12",type:"Mesh",name:"Exit",userData:{type:"Exit"},layers:1,matrix:[1,0,0,0,0,22204460492503136e-32,-1.0000000000000002,0,0,1.0000000000000002,22204460492503136e-32,0,-9,0,-9,1],geometry:"cdd20912-a526-4cf0-99cd-902e0f5b1c59",material:"10e0f37f-a21b-42f7-8833-b64ca8f812ef"}]}},lne={},fne={undos:[],redos:[]};var c_={metadata:nne,project:sne,camera:one,scene:ane,scripts:lne,history:fne};function une(l){const t=l.strings;l.config;const i=[],s=new on;s.addClass("menu"),s.addClass("file");const u=new on;u.setClass("title"),s.add(u);const p=new on;p.setClass("options word file"),s.add(p),new Ci().setClass("option desc"),u.dom.insertBefore(rs().getKey("addbar/option/file"),u.firstChild),new Proxy(new URLSearchParams(window.location.search),{get:(de,Se)=>de.get(Se)}).assignments;let E=c_;const _=new Ci;let k=new pa("addbar/option/file/export",()=>{});_.add(k),_.setId("click"),_.setClass("option desc"),_.add(new dr(t.getKey("addbar/option/file/export"))),p.add(_);const R=new Ci;k=new pa("addbar/option/file/import",()=>{}),R.add(k),R.setId("click"),R.setClass("option desc"),R.add(new dr(t.getKey("addbar/option/file/import"))),p.add(R);const P=new Ci;P.setClass("line"),p.add(P);const B=new Ci;B.setClass("option desc"),B.setTextContent(t.getKey("addbar/option/file/new")),B.onClick(function(){confirm("Any unsaved data will be lost. Are you sure?")&&(l.clear(),l.fromJSON(E),l.config.setKey("project/title",E.metadata.title))}),p.add(B);const O=new Ci;k=new pa("addbar/option/file/publish",()=>{}),O.add(k),O.setClass("option desc"),O.add(new dr(t.getKey("addbar/option/file/publish"))),O.onClick(async function(){ie()}),p.add(O);const H=new Ci;H.setClass("option desc"),H.add(new dr(t.getKey("addbar/option/file/preview"))),H.onClick(function(){ie("preview")}),p.add(H);const z=new Ci;z.setClass("option desc"),z.add(new dr(t.getKey("addbar/option/file/play"))),z.onClick(function(){ie("play")}),p.add(z);const Y=new on;Y.setClass("options word file extent"),R.add(Y);const ee=document.createElement("form");ee.style.display="none",document.body.appendChild(ee);const ue=document.createElement("input");ue.multiple=!0,ue.type="file",ue.addEventListener("change",function(){l.loader.loadFiles(ue.files),ee.reset()}),ee.appendChild(ue);const oe=new Ci;oe.setClass("option desc"),oe.setClass("option desc"),oe.setTextContent(t.getKey("addbar/option/file/importfrom")),oe.setDisabled(!0),Y.add(oe);const Ae=new Ci;Ae.setClass("option desc"),Ae.setPaddingLeft("30px"),Ae.setTextContent(t.getKey("addbar/option/file/import/computer")),Ae.onClick(function(){ue.click()}),Y.add(Ae);const be=new Ci;be.setClass("option desc"),be.setPaddingLeft("30px"),be.setClass("option desc inactive"),be.setTextContent(t.getKey("addbar/option/file/import/gdrive")),be.onClick(function(){console.log("importFromGoogleDrive")}),be.setDisabled(!0),Y.add(be);const xe=new Ci;xe.setClass("option desc inactive"),xe.setPaddingLeft("30px"),xe.setTextContent(t.getKey("addbar/option/file/import/meta")),xe.onClick(function(){console.log("importFromMetaMask")}),xe.setDisabled(!0),Y.add(xe),l.signals.metadatasFetched.add(function(de){de.forEach(Se=>{console.log("metadata",Se);const Be=new Ci;Be.setClass("option desc"),Be.setTextContent(Se.attributes[0].value.name),Be.onClick(function(){l.execute(new v0(l,Se.attributes[0].value))}),Y.add(Be)})});let ne=new on;ne=new on,ne.setClass("options word file extent"),_.add(ne);let ae=new Ci;ae.setClass("option desc"),ae.setTextContent(t.getKey("addbar/option/file/export/scene")),ae.onClick(function(){let de=l.toJSON();try{de=JSON.stringify(de,null,"	"),de=de.replace(/[\n\t]+([\d\.e\-\[\]]+)/g,"$1")}catch{de=JSON.stringify(de)}we(de,"editor.json")}),ae=new Ci,ae.setClass("option desc"),ae.setTextContent(t.getKey("addbar/option/file/export/scene")),ae.onClick(function(){let de=l.scene.toJSON();try{de=JSON.stringify(de,null,"	"),de=de.replace(/[\n\t]+([\d\.e\-\[\]]+)/g,"$1")}catch{de=JSON.stringify(de)}we(de,"scene.json")}),ne.add(ae),ae=new Ci,ae.setClass("option desc"),ae.setTextContent(t.getKey("addbar/option/file/export/object")),ae.onClick(function(){const de=l.selected;if(de===null){alert("No object selected");return}let Se=de.toJSON();try{Se=JSON.stringify(Se,null,"	"),Se=Se.replace(/[\n\t]+([\d\.e\-\[\]]+)/g,"$1")}catch{Se=JSON.stringify(Se)}we(Se,`${de.name.split(".")[0]}.json`)}),ne.add(ae),ae=new Ci,ae.setClass("option desc"),ae.setTextContent(t.getKey("addbar/option/file/export/pc")),ae.onClick(async function(){const de=l.scene,Se=le(de),{GLTFExporter:Be}=await Ko(()=>import("./GLTFExporter.2dfa1f24.js"),[]);new Be().parse(de,function(nt){we(JSON.stringify(nt,null,2),"scene.gltf")},void 0,{animations:Se})});const ye=document.createElement("a");function ge(de,Se){ye.href&&URL.revokeObjectURL(ye.href),ye.href=URL.createObjectURL(de),ye.download=Se||"data.json",ye.dispatchEvent(new MouseEvent("click"))}function we(de,Se){ge(new Blob([de],{type:"text/plain"}),Se)}function le(de){const Se=[];return de.traverse(function(Be){Se.push(...Be.animations)}),Se}async function ie(de=null){let Be=new Proxy(new URLSearchParams(window.location.search),{get:(gt,kt)=>gt.get(kt)}).assignments;function Le(gt){gt=window.atob(gt);for(var kt=new ArrayBuffer(gt.length),Kt=new Uint8Array(kt),Ft=0;Ft<gt.length;Ft++)Kt[Ft]=gt.charCodeAt(Ft);return kt}async function nt(){const gt=JSON.stringify(l.toJSON());console.log("saveJson",l.toJSON());const kt=new TextEncoder().encode(gt),Kt=new Blob([kt],{type:"application/json"},`${Be}.json`),Ft=new File([Kt],`${Be}.json`),Yt=new FormData;Yt.append("fields",Ft),await Sl({method:"post",url:"https://play.grwth.hk/assignments",data:Yt,headers:{"Content-Type":"multipart/form-data"}}).then(function($t){console.log("%c Axios Post Success(JSON)","color: black; background: #3ea086;",$t.data.files.fields.size),l.signals.publishClicked.dispatch("Uploaded",`${Be}.json`)}).catch(function($t){console.log("%c Error: saveJson ","color: black; background: #C03F45;",$t)})}nt();async function He(gt){var Kt,Ft,Yt,$t,vi,Xi,Ki,or,Et,Ct,ri,pt,ft;async function kt(Lt,ii,bi){const rt=Lt.split(";base64,")[1],Pe=Le(rt),Me=new Uint8Array(Pe),bt=new Blob([Me],{type:"application/json"},`${Be}.${bi}`),zt=new FormData;zt.append("fields",new File([bt],`${ii}.${bi}`)),await Sl({method:"post",url:`https://play.grwth.hk/publishes/${Be}`,data:zt}).then(function(It){console.log("%c Axios Post Success(Assets)","color: black; background: #3ea086;",It.data.files.fields.size),l.signals.publishClicked.dispatch("Uploaded",ii+"."+bi)}).catch(function(It){console.log(It)})}if(gt.isGroup)[...gt.children].forEach(async Lt=>{await He(Lt)});else{if((Kt=gt.material)!=null&&Kt.map,($t=(Yt=(Ft=gt.userData)==null?void 0:Ft.play)==null?void 0:Yt.audio)!=null&&$t.value){const Lt=(Ki=(Xi=(vi=gt.userData)==null?void 0:vi.play)==null?void 0:Xi.audio)==null?void 0:Ki.value,ii=Lt.base64;if(Lt!=null&&Lt.sourceFile){const bi=Lt.sourceFile.split(".")[0],rt=Lt.sourceFile.split(".")[(Lt==null?void 0:Lt.sourceFile.split(".").length)-1];await kt(ii,`${gt.uuid}/${bi}`,rt)}}if((Ct=(Et=(or=gt.userData)==null?void 0:or.play)==null?void 0:Et.presentation)!=null&&Ct.value){const Lt=(ft=(pt=(ri=gt.userData)==null?void 0:ri.play)==null?void 0:pt.presentation)==null?void 0:ft.value,ii=Lt.base64,bi=Lt.sourceFile.split(".")[0],rt=Lt.sourceFile.split(".")[(Lt==null?void 0:Lt.sourceFile.split(".").length)-1];await kt(ii,`${gt.uuid}/${bi}`,rt)}}}l.scene.children.forEach(async(gt,kt,Kt)=>{await He(gt),gt.userData.type=="Model"?[...gt.children].forEach(async Ft=>{await He(Ft)}):gt.isMesh||gt.isGroup&&[...gt.children].forEach(async Ft=>{await He(Ft)})});function ce(gt,kt){Re(new Blob([gt],{type:"text/plain"}),kt)}function Re(gt,kt){lt(gt,kt)}async function lt(gt,kt){const Kt=new FormData;Kt.append("fields",new File([gt],`${kt}`)),await Sl({method:"post",url:`https://play.grwth.hk/publishes/${Be}`,data:Kt,headers:{"Content-Type":"multipart/form-data"}}).then(function(Ft){console.log("%c Axios Post Success(GLTF)","color: black; background: #3EA055;",Ft),l.signals.publishClicked.dispatch("Uploaded",kt)}).catch(function(Ft){console.log("%c Error: sendFileToBackend ","color: black; background: #C03F45;",Ft)}).finally(function(){de&&window.open(`https://play.grwth.hk/${de}/?assignments=${Be}`,"_blank")})}l.signals.publishClicked.dispatch("Uploading to Server...","Please wait with patience.");const Te=l.scene,Ye=le(Te),{GLTFExporter:mt}=await Ko(()=>import("./GLTFExporter.2dfa1f24.js"),[]);new mt().parse(Te,function(gt){console.log(gt),window.result=gt,ce(JSON.stringify(gt,null,2),"scene.gltf")},void 0,{animations:Ye})}i.push(R),i.push(_),i.push(P),i.push(B),i.push(O),i.push(H);let he=setTimeout(()=>{},0);return i.forEach(de=>{de.dom.addEventListener("mouseover",function(){i.forEach(Se=>{de!==Se&&Se.removeClass("expend")}),clearTimeout(he),de.dom.classList.contains("expend")||de.addClass("expend")})}),i.forEach(de=>{de.dom.addEventListener("mouseleave",function(){de.dom.classList.contains("expend")&&(he=setTimeout(()=>{de.removeClass("expend")},250))})}),s}function cne(l){const t=l.strings,i=new on;i.addClass("menu"),i.addClass("setting");const s=new on;s.setClass("title"),i.add(s);const u=new on;u.setClass("options setting"),i.add(u);const p=new on;p.setClass("options word"),i.add(p),s.dom.insertBefore(rs().getKey("addbar/option/setting"),s.firstChild);let y=new Ci,A=new pa("addbar/option/setting/setting",()=>{});return y.add(A),y.setClass("option"),u.add(y),y=new Ci,y.setClass("desc option"),y.setTextContent(t.getKey("addbar/option/setting/setting")),p.add(y),y=new Ci,A=new pa("addbar/option/setting/help",()=>{window.open("https://play.grwth.hk/tutorial.pdf","_blank")}),y.add(A),y.setClass("option"),u.add(y),y=new Ci,y.setClass("desc option"),y.setTextContent(t.getKey("addbar/option/setting/help")),p.add(y),y=new Ci,A=new pa("addbar/option/setting/update",()=>{}),y.add(A),y.setClass("option"),u.add(y),y=new Ci,y.setClass("desc option"),y.setTextContent(t.getKey("addbar/option/setting/update")),p.add(y),i}function hne(l){const t=new on;t.setId("addbar");const i=[],s=new Zre(l),u=new Yre(l),p=new Kre(l),y=new rne(l),A=new une(l),E=new cne(l);i.push(s),i.push(u),i.push(p),i.push(y),i.push(A),i.push(E),t.add(s),t.add(u),t.add(p),t.add(y),t.add(A),t.add(E),i.forEach(k=>{k.dom.addEventListener("click",function(R){if(_(k),!k.dom.classList.contains("expend"))k.addClass("expend");else if(k)if(k!==y)k.removeClass("expend");else{const P=document.querySelector("div.Panel.menu.library");document.querySelector("div.Panel.menu.library .title").contains(R.target)&&P.classList.contains("expend")&&(P.classList="Panel menu library")}})});function _(k){i.forEach(R=>{R!==k&&R.dom.classList.contains("expend")&&R.removeClass("expend")})}return t}function dne(l){l.strings;const t=new on;t.setClass("menu");const i=new on;i.setClass("title"),i.setTextContent("Online"),t.add(i);const s=new on;s.setClass("options"),t.add(s);const u=new Ci;u.setClass("option"),u.setTextContent("Save"),u.onClick(async function(){let B=new Proxy(new URLSearchParams(window.location.search),{get:(ee,ue)=>ee.get(ue)}).assignments;function O(ee){ee=window.atob(ee);for(var ue=new ArrayBuffer(ee.length),oe=new Uint8Array(ue),Ae=0;Ae<ee.length;Ae++)oe[Ae]=ee.charCodeAt(Ae);return ue}async function H(ee){var oe,Ae,be,xe,ne,ae,ye,ge,we,le,ie,he,de,Se,Be;async function ue(Le,nt,He){const ce=Le.split(";base64,")[1],Re=O(ce),lt=new Uint8Array(Re),Te=new Blob([lt],{type:"application/json"},`${B}.${He}`),Ye=new FormData;Ye.append("fields",new File([Te],`${nt}.${He}`)),await Sl({method:"post",url:`https://play.grwth.hk/publishes/${B}`,data:Ye}).then(function(mt){console.log("%c Axios Post Success(JSON)","color: black; background: #3ea086;",mt.data.files.fields.size),l.signals.publishClicked.dispatch("Uploaded",nt+He)}).catch(function(mt){console.log(mt)})}if(ee.type==="Scene"&&ee.background&&typeof ee.background!="number"){const Le=ee.background.source.data.currentSrc,nt=ee.background.source.data.currentSrc.split(";")[0].split("/")[1];await ue(Le,ee.uuid,nt)}if(ee.isGroup)[...ee.children].forEach(async Le=>{await H(Le),await z(`${Le.uuid}.obj`,Vo(Y.parse(Le)))});else{if((oe=ee.material)!=null&&oe.map){const Le=(Ae=ee.material)==null?void 0:Ae.map.source.data.currentSrc,nt=(be=ee.material)==null?void 0:be.map.source.data.currentSrc.split(";")[0].split("/")[1];await ue(Le,ee.uuid,nt)}if((ae=(ne=(xe=ee.userData)==null?void 0:xe.play)==null?void 0:ne.audio)!=null&&ae.value){const Le=(we=(ge=(ye=ee.userData)==null?void 0:ye.play)==null?void 0:ge.audio)==null?void 0:we.value,nt=Le.base64;if(Le!=null&&Le.sourceFile){const He=Le.sourceFile.split(".")[0],ce=Le.sourceFile.split(".")[(Le==null?void 0:Le.sourceFile.split(".").length)-1];await ue(nt,`${ee.uuid}/${He}`,ce)}}if((he=(ie=(le=ee.userData)==null?void 0:le.play)==null?void 0:ie.presentation)!=null&&he.value){const Le=(Be=(Se=(de=ee.userData)==null?void 0:de.play)==null?void 0:Se.presentation)==null?void 0:Be.value,nt=Le.base64,He=Le.sourceFile.split(".")[0],ce=Le.sourceFile.split(".")[(Le==null?void 0:Le.sourceFile.split(".").length)-1];await ue(nt,`${ee.uuid}/${He}`,ce)}}}async function z(ee,ue){const oe=new Blob([ue],{type:"application/json"},`${ee}`),Ae=new FormData;Ae.append("fields",new File([oe],`${ee}`)),await Sl({method:"post",url:`https://play.grwth.hk/publishes/${B}`,data:Ae,headers:{"Content-Type":"multipart/form-data"}}).then(function(be){console.log("%c Axios Post Success(OBJ)","color: black; background: #3EA055;",be.data.files.fields.size),l.signals.publishClicked.dispatch("Uploaded",ee)}).catch(function(be){console.log(be)})}const Y=new nD;H(l.scene),l.scene.children.forEach(async(ee,ue,oe)=>{console.log(ee),await H(ee),ee.userData.type=="Model"?[...ee.children].forEach(async Ae=>{await H(Ae),await z(`${Ae.uuid}.obj`,Vo(Y.parse(Ae)))}):ee.isMesh?await z(`${ee.uuid}.obj`,Vo(Y.parse(ee))):ee.isGroup&&[...ee.children].forEach(async Ae=>{await H(Ae),await z(`${Ae.uuid}.obj`,Vo(Y.parse(Ae)))})})}),s.add(u);const p=new Ci;p.setClass("option"),p.setTextContent("Preview My Room"),p.onClick(function(){window.open(`https://play.grwth.hk/preview/?assignments=${assignmentSceneName}`,"_blank")}),s.add(p);const y=new Ci;y.setClass("option"),y.setClass("inactive"),y.setTextContent("Login as:");const A=new Ci;A.setClass("option"),A.setTextContent("User A in group A"),A.onClick(function(){});const E=new Ci;E.setClass("option"),E.setTextContent("User B in group B"),E.onClick(function(){});const _=new Ci;_.setClass("option"),_.setTextContent("User C in group B"),_.onClick(function(){});const k=new Ci;k.setClass("option"),k.setClass("inactive"),k.setTextContent("Assignments:");const R=new Ci;return R.setClass("option"),R.setTextContent("_Save"),R.onClick(function(){l.signals.publishClicked.dispatch()}),t}function pne(l){const t=l.strings,i=new on;i.setClass("menu");const s=new on;s.setClass("title"),s.setTextContent(t.getKey("menubar/edit")),i.add(s);const u=new on;u.setClass("options"),i.add(u);const p=new Ci;p.setClass("option"),p.setTextContent(t.getKey("menubar/edit/undo")),p.onClick(function(){l.undo()}),u.add(p);const y=new Ci;y.setClass("option"),y.setTextContent(t.getKey("menubar/edit/redo")),y.onClick(function(){l.redo()}),u.add(y);let A=new Ci;A.setClass("option"),A.setTextContent(t.getKey("menubar/edit/clear_history")),A.onClick(function(){confirm("The Undo/Redo History will be cleared. Are you sure?")&&l.history.clear()}),l.signals.historyChanged.add(function(){const B=l.history;p.setClass("option"),y.setClass("option"),B.undos.length==0&&p.setClass("inactive"),B.redos.length==0&&y.setClass("inactive")}),u.add(new mE),A=new Ci,A.setClass("option"),A.setTextContent(t.getKey("menubar/edit/center")),A.onClick(function(){const B=l.selected;if(B===null||B.parent===null)return;const H=new ia().setFromObject(B).getCenter(new wt),z=new wt;z.x=B.position.x+(B.position.x-H.x),z.y=B.position.y+(B.position.y-H.y),z.z=B.position.z+(B.position.z-H.z),l.execute(new n1(l,B,z))});const E=new Ci;E.setClass("inactive"),E.setTextContent("Mint"),E.onClick(function(){const B=l.selected;rD(B)}),l.signals.metaMaskConnected.add(function(B){window.metaMaskConnected=!0}),l.signals.objectSelected.add(function(B){var O;window!=null&&window.metaMaskConnected&&E.setClass("option"),(!B||["Exit","Entrance"].includes((O=B==null?void 0:B.userData)==null?void 0:O.type))&&E.setClass("inactive")}),u.add(E);const _=new Ci;_.setClass("option"),_.setTextContent(t.getKey("menubar/edit/duplicate")),_.onClick(function(){var O;let B=l.selected;if(!(B===null||B.parent===null||["Exit","Entrance"].includes(B.userData.type))){if(B.type==="Mesh"&&B.parent.type!=="Group"){B=B.clone();const H=new THREE.Mesh(B.geometry,new THREE.MeshBasicMaterial({color:"#FFFFFF"}));(O=H.material)!=null&&O.map&&(H.material.map=B.material.map,H.material.polygonOffsetFactor=B.material.polygonOffsetFactor+1,H.material.needsUpdate=!0),H.material.color.setHex(B.material.color.getHex()),H.material=new THREE.MeshStandardMaterial().copy(B.material),H.name=`${B.name}'s copy`,H.position.copy(B.position),H.scale.copy(B.scale),H.rotation.copy(B.rotation),H.needsUpdate=!0,H.userData=JSON.parse(JSON.stringify(B.userData)),l.execute(new v0(l,H))}if(B.type=="Group"){const H=B.clone();H.children&&(console.log("mesh.children",H.children),H.children.forEach((z,Y)=>{z.material&&(z.material=new THREE.MeshStandardMaterial().copy(B.children[Y].material))})),H.name=`${B.name}'s copy`,H.position.copy(B.position),H.scale.copy(B.scale),H.rotation.copy(B.rotation),H.needsUpdate=!0,H.userData=JSON.parse(JSON.stringify(H.userData)),l.execute(new v0(l,H))}}}),u.add(_),l.signals.objectSelected.add(function(B){var O;_.setClass("option"),["Exit","Entrance"].includes((O=B==null?void 0:B.userData)==null?void 0:O.type)&&_.setClass("inactive")}),A=new Ci,A.setClass("option"),A.setTextContent(t.getKey("menubar/edit/delete")),A.onClick(function(){const B=l.selected;B!==null&&B.parent!==null&&l.execute(new tb(l,B))}),u.add(A),A=new Ci,A.setClass("option"),A.setTextContent(t.getKey("menubar/edit/fixcolormaps")),A.onClick(function(){l.scene.traverse(R)});const k=["map","envMap","emissiveMap"];function R(B){const O=B.material;if(O!==void 0){if(Array.isArray(O)===!0)for(let H=0;H<O.length;H++)P(O[H]);else P(O);l.signals.sceneGraphChanged.dispatch()}}function P(B){let O=B.needsUpdate;for(let H=0;H<k.length;H++){const z=B[k[H]];z&&(z.encoding=THREE.sRGBEncoding,O=!0)}B.needsUpdate=O}return i}function mne(l){let i=new Proxy(new URLSearchParams(window.location.search),{get:(oe,Ae)=>oe.get(Ae)}).assignments;switch(i){default:i=c_}const s=l.config,u=l.strings,p=new on;p.setClass("menu");const y=new on;y.setClass("title"),y.setTextContent(u.getKey("menubar/file")),p.add(y);const A=new on;A.setClass("options"),p.add(A);let E=new Ci;E.setClass("option"),E.setTextContent("From scratch"),E.onClick(function(){confirm("Any unsaved data will be lost. Are you sure?")&&(l.config.setKey("project/title","New room"),l.clear())}),E=new Ci,E.setClass("option"),E.setTextContent("New"),E.onClick(function(){confirm("Any unsaved data will be lost. Are you sure?")&&(l.clear(),l.fromJSON(i),l.config.setKey("project/title",i.metadata.title))}),A.add(E),A.add(new mE),E=new Ci,E.setClass("option"),E.setTextContent(u.getKey("menubar/file/export/geometry")),E.onClick(function(){const oe=l.selected;if(oe===null){alert("No object selected.");return}const Ae=oe.geometry;if(Ae===void 0){alert("The selected object doesn't have geometry.");return}let be=Ae.toJSON();try{be=JSON.stringify(be,null,"	"),be=be.replace(/[\n\t]+([\d\.e\-\[\]]+)/g,"$1")}catch{be=JSON.stringify(be)}ee(be,"geometry.json")}),E=new Ci,E.setClass("option"),E.setTextContent(u.getKey("addbar/option/file/export/object")),E.onClick(function(){const oe=l.selected;if(oe===null){alert("No object selected");return}let Ae=oe.toJSON();try{Ae=JSON.stringify(Ae,null,"	"),Ae=Ae.replace(/[\n\t]+([\d\.e\-\[\]]+)/g,"$1")}catch{Ae=JSON.stringify(Ae)}ee(Ae,`${oe.name}.json`)}),A.add(E),E=new Ci,E.setClass("option"),E.setTextContent(u.getKey("menubar/file/export/scene")),E.onClick(function(){let oe=l.scene.toJSON();try{oe=JSON.stringify(oe,null,"	"),oe=oe.replace(/[\n\t]+([\d\.e\-\[\]]+)/g,"$1")}catch{oe=JSON.stringify(oe)}ee(oe,"scene.json")}),A.add(E),E=new Ci,E.setClass("option"),E.setTextContent(u.getKey("menubar/file/export/dae")),E.onClick(async function(){const{ColladaExporter:oe}=await Ko(()=>import("./ColladaExporter.0a4061ab.js"),[]);new oe().parse(l.scene,function(be){ee(be.data,"scene.dae")})}),E=new Ci,E.setClass("option"),E.setTextContent(u.getKey("menubar/file/export/drc")),E.onClick(async function(){const oe=l.selected;if(oe===null||oe.isMesh===void 0){alert("No mesh selected");return}const{DRACOExporter:Ae}=await Ko(()=>import("./DRACOExporter.7ecf3e52.js"),[]),be=new Ae,xe={decodeSpeed:5,encodeSpeed:5,encoderMethod:Ae.MESH_EDGEBREAKER_ENCODING,quantization:[16,8,8,8,8],exportUvs:!0,exportNormals:!0,exportColor:oe.geometry.hasAttribute("color")},ne=be.parse(oe,xe);Y(ne,"model.drc")}),E=new Ci,E.setClass("option"),E.setTextContent(u.getKey("menubar/file/export/glb")),E.onClick(async function(){const oe=l.scene,Ae=ue(oe),{GLTFExporter:be}=await Ko(()=>import("./GLTFExporter.2dfa1f24.js"),[]);new be().parse(oe,function(ne){Y(ne,"scene.glb")},void 0,{binary:!0,animations:Ae})}),E=new Ci,E.setClass("option"),E.setTextContent(u.getKey("menubar/file/export/gltf")),E.onClick(async function(){const oe=l.scene,Ae=ue(oe),{GLTFExporter:be}=await Ko(()=>import("./GLTFExporter.2dfa1f24.js"),[]);new be().parse(oe,function(ne){ee(JSON.stringify(ne,null,2),"scene.gltf")},void 0,{animations:Ae})}),A.add(E),E=new Ci,E.setClass("option"),E.setTextContent(u.getKey("menubar/file/export/obj")),E.onClick(async function(){const oe=l.selected;if(oe===null){alert("No object selected.");return}const{OBJExporter:Ae}=await Ko(()=>Promise.resolve().then(function(){return a9}),void 0),be=new Ae;ee(be.parse(oe),"model.obj")}),E=new Ci,E.setClass("option"),E.setTextContent(u.getKey("menubar/file/export/ply")),E.onClick(async function(){const{PLYExporter:oe}=await Ko(()=>import("./PLYExporter.c1c9c29f.js"),[]);new oe().parse(l.scene,function(be){Y(be,"model.ply")})}),E=new Ci,E.setClass("option"),E.setTextContent(u.getKey("menubar/file/export/ply_binary")),E.onClick(async function(){const{PLYExporter:oe}=await Ko(()=>import("./PLYExporter.c1c9c29f.js"),[]);new oe().parse(l.scene,function(be){Y(be,"model-binary.ply")},{binary:!0})}),E=new Ci,E.setClass("option"),E.setTextContent(u.getKey("menubar/file/export/stl")),E.onClick(async function(){const{STLExporter:oe}=await Ko(()=>import("./STLExporter.004cafc7.js"),[]),Ae=new oe;ee(Ae.parse(l.scene),"model.stl")}),E=new Ci,E.setClass("option"),E.setTextContent(u.getKey("menubar/file/export/stl_binary")),E.onClick(async function(){const{STLExporter:oe}=await Ko(()=>import("./STLExporter.004cafc7.js"),[]),Ae=new oe;Y(Ae.parse(l.scene,{binary:!0}),"model-binary.stl")}),E=new Ci,E.setClass("option"),E.setTextContent(u.getKey("menubar/file/export/usdz")),E.onClick(async function(){const{USDZExporter:oe}=await Ko(()=>import("./USDZExporter.cab8839d.js"),[]),Ae=new oe;Y(await Ae.parse(l.scene,{binary:!0}),"model.usdz")}),E=new Ci,E.setClass("option"),E.setTextContent(u.getKey("menubar/file/export/pc")),E.onClick(async function(){const oe={},{OBJExporter:Ae}=await Ko(()=>Promise.resolve().then(function(){return a9}),void 0),be=new Ae;function xe(le){le=window.atob(le);for(var ie=new ArrayBuffer(le.length),he=new Uint8Array(ie),de=0;de<le.length;de++)he[de]=le.charCodeAt(de);return ie}function ne(le){var he,de,Se,Be,Le,nt,He,ce,Re,lt,Te,Ye,mt,$e,gt;function ie(kt,Kt,Ft){const Yt=kt.split(";base64,")[1],$t=xe(Yt),vi=new Uint8Array($t);console.log("dataUrl, fileName, extension",{dataUrl:kt,fileName:Kt,extension:Ft}),oe[`${Kt}.${Ft}`]=vi}if(le.type==="Scene"&&le.background&&typeof le.background!="number"){const kt=le.background.source.data.currentSrc,Kt=le.background.source.data.currentSrc.split(";")[0].split("/")[1];ie(kt,le.uuid,Kt)}if(le.isGroup)[...le.children].forEach(kt=>{ne(kt),oe[`${kt.uuid}.obj`]=Vo(be.parse(kt))});else{if((he=le.material)!=null&&he.map){const kt=(de=le.material)==null?void 0:de.map.source.data.currentSrc,Kt=(Se=le.material)==null?void 0:Se.map.source.data.currentSrc.split(";")[0].split("/")[1];ie(kt,le.uuid,Kt)}if((nt=(Le=(Be=le.userData)==null?void 0:Be.play)==null?void 0:Le.audio)!=null&&nt.value){const kt=(Re=(ce=(He=le.userData)==null?void 0:He.play)==null?void 0:ce.audio)==null?void 0:Re.value,Kt=kt.base64;if(kt!=null&&kt.sourceFile){const Ft=kt.sourceFile.split(".")[0],Yt=kt.sourceFile.split(".")[(kt==null?void 0:kt.sourceFile.split(".").length)-1];ie(Kt,`${le.uuid}/${Ft}`,Yt)}}if((Ye=(Te=(lt=le.userData)==null?void 0:lt.play)==null?void 0:Te.presentation)!=null&&Ye.value){const kt=(gt=($e=(mt=le.userData)==null?void 0:mt.play)==null?void 0:$e.presentation)==null?void 0:gt.value,Kt=kt.base64,Ft=kt.sourceFile.split(".")[0],Yt=kt.sourceFile.split(".")[(kt==null?void 0:kt.sourceFile.split(".").length)-1];ie(Kt,`${le.uuid}/${Ft}`,Yt)}}}ne(l.scene),l.scene.children.forEach(le=>{ne(le),le.userData.type=="Model"?[...le.children].forEach(ie=>{console.log("groupChild",ie),ne(ie),oe[`${ie.uuid}.obj`]=Vo(be.parse(ie))}):le.isMesh?oe[`${le.uuid}.obj`]=Vo(be.parse(le)):le.isGroup&&[...le.children].forEach(ie=>{ne(ie),oe[`${ie.uuid}.obj`]=Vo(be.parse(ie))})});let ae=l.toJSON();ae.camera.object.children=ae.camera.object.children.filter(le=>le.type!=="Object3D"),ae.metadata.type="App",ae.metadata.title=s.getKey("project/title"),delete ae.history,ae=JSON.stringify(ae,null,"	"),ae=ae.replace(/[\n\t]+([\d\.e\-\[\]]+)/g,"$1"),oe["app.json"]=Vo(ae);const ye=s.getKey("project/title"),ge=new o2(function(){console.log("toZip",oe);const le=FJ(oe,{level:9}),ie=new Blob([le.buffer],{type:"application/zip"});z(ie,(ye!==""?ye:"untitled")+".zip")}),we=new Pa(ge);we.load("js/libs/app/index.html",function(le){le=le.replace("<!-- title -->",ye);const ie=[];le=le.replace("<!-- includes -->",ie.join(`
		`));let he="";s.getKey("project/editable")&&(he=["			let button = document.createElement( 'a' );","			button.href = 'https://threejs.org/editor/#file=' + location.href.split( '/' ).slice( 0, - 1 ).join( '/' ) + '/app.json';","			button.style.cssText = 'position: absolute; bottom: 20px; right: 20px; padding: 10px 16px; color: #fff; border: 1px solid #fff; border-radius: 20px; text-decoration: none;';","			button.target = '_blank';","			button.textContent = 'EDIT';","			document.body.appendChild( button );"].join(`
`)),le=le.replace("			/* edit button */",he),oe["index.html"]=Vo(le)}),we.load("js/libs/app.js",function(le){oe["js/app.js"]=Vo(le)}),we.load("../build/three.module.js",function(le){oe["js/three.module.js"]=Vo(le)})}),A.add(E),E=new Ci,E.setClass("option"),E.setTextContent(u.getKey("menubar/file/publish")),E.onClick(function(){l.signals.publishClicked.dispatch();const oe=new Pa(manager);oe.load("js/libs/app/index.html",function(Ae){Ae=Ae.replace("<!-- title -->",y);const be=[];Ae=Ae.replace("<!-- includes -->",be.join(`
		`));let xe="";s.getKey("project/editable")&&(xe=["			let button = document.createElement( 'a' );","			button.href = 'https://threejs.org/editor/#file=' + location.href.split( '/' ).slice( 0, - 1 ).join( '/' ) + '/app.json';","			button.style.cssText = 'position: absolute; bottom: 20px; right: 20px; padding: 10px 16px; color: #fff; border: 1px solid #fff; border-radius: 20px; text-decoration: none;';","			button.target = '_blank';","			button.textContent = 'EDIT';","			document.body.appendChild( button );"].join(`
`)),Ae=Ae.replace("			/* edit button */",xe),toZip["index.html"]=Vo(Ae)}),oe.load("js/libs/app.js",function(Ae){toZip["js/app.js"]=Vo(Ae)}),oe.load("../build/three.module.js",function(Ae){toZip["js/three.module.js"]=Vo(Ae)}),oe.load("../examples/jsm/webxr/VRButton.js",function(Ae){toZip["js/VRButton.js"]=Vo(Ae)})}),A.add(new mE);const _=document.createElement("form");_.style.display="none",document.body.appendChild(_);const k=document.createElement("input");k.multiple=!0,k.type="file",k.addEventListener("change",function(){l.loader.loadFiles(k.files),_.reset()}),_.appendChild(k);const R=new Ci;R.setClass("option"),R.setClass("inactive"),R.setTextContent("Import from:"),A.add(R);const P=new Ci;P.setClass("option"),P.setTextContent("My computer"),P.onClick(function(){k.click()}),A.add(P);const B=new Ci;B.setClass("option"),B.setClass("inactive"),B.setTextContent("_Google Drive"),B.onClick(function(){}),A.add(B);const O=new Ci;O.setClass("inactive"),O.setTextContent("/MetaMask:"),O.onClick(function(){}),A.add(O),l.signals.metadatasFetched.add(function(oe){oe.forEach(Ae=>{console.log("metadata",Ae);const be=new Ci;be.setClass("option"),be.setTextContent(Ae.attributes[0].value.name),be.onClick(function(){l.execute(new v0(l,Ae.attributes[0].value))}),A.add(be)})});const H=document.createElement("a");function z(oe,Ae){H.href&&URL.revokeObjectURL(H.href),H.href=URL.createObjectURL(oe),H.download=Ae||"data.json",H.dispatchEvent(new MouseEvent("click"))}function Y(oe,Ae){z(new Blob([oe],{type:"application/octet-stream"}),Ae)}function ee(oe,Ae){z(new Blob([oe],{type:"text/plain"}),Ae)}function ue(oe){const Ae=[];return oe.traverse(function(be){Ae.push(...be.animations)}),Ae}return p}function gne(l){const t=new on;return t.setId("menubar"),t.add(new mne(l)),t.add(new pne(l)),t.add(new dne(l)),t}function bne(l){const t=l.signals,i=document.createElement("div");i.id="resizer";function s(y){y.isPrimary!==!1&&(i.ownerDocument.addEventListener("pointermove",p),i.ownerDocument.addEventListener("pointerup",u))}function u(y){y.isPrimary!==!1&&(i.ownerDocument.removeEventListener("pointermove",p),i.ownerDocument.removeEventListener("pointerup",u))}function p(y){if(y.isPrimary===!1)return;const A=document.body.offsetWidth,E=y.clientX,_=E<0?0:E>A?A:E,k=A-_;i.style.right=k+"px",document.getElementById("sidebar").style.width=k+"px",document.getElementById("player").style.right=k+"px",document.getElementById("script").style.right=k+"px",document.getElementById("viewport").style.right=k+"px",t.windowResize.dispatch()}return i.addEventListener("pointerdown",s),new Ys(i)}const y4=class{static createButton(t,i){i&&console.error('THREE.VRButton: The "options" parameter has been removed. Please set the reference space type via renderer.xr.setReferenceSpaceType() instead.');const s=document.createElement("button");function u(){let _=null;async function k(P){P.addEventListener("end",R),await t.xr.setSession(P),s.textContent="EXIT VR",_=P}function R(){_.removeEventListener("end",R),s.textContent="ENTER VR",_=null}s.style.display="",s.style.cursor="pointer",s.style.left="calc(50% - 50px)",s.style.width="100px",s.textContent="ENTER VR",s.onmouseenter=function(){s.style.opacity="1.0"},s.onmouseleave=function(){s.style.opacity="0.5"},s.onclick=function(){if(_===null){const P={optionalFeatures:["local-floor","bounded-floor","hand-tracking","layers"]};navigator.xr.requestSession("immersive-vr",P).then(k)}else _.end()}}function p(){s.style.display="",s.style.cursor="auto",s.style.left="calc(50% - 75px)",s.style.width="150px",s.onmouseenter=null,s.onmouseleave=null,s.onclick=null}function y(){p(),s.textContent="VR NOT SUPPORTED"}function A(_){p(),console.warn("Exception when trying to call xr.isSessionSupported",_),s.textContent="VR NOT ALLOWED"}function E(_){_.style.position="absolute",_.style.bottom="20px",_.style.padding="12px 6px",_.style.border="1px solid #fff",_.style.borderRadius="4px",_.style.background="rgba(0,0,0,0.1)",_.style.color="#fff",_.style.font="normal 13px sans-serif",_.style.textAlign="center",_.style.opacity="0.5",_.style.outline="none",_.style.zIndex="999"}if("xr"in navigator)return s.id="VRButton",s.style.display="none",E(s),navigator.xr.isSessionSupported("immersive-vr").then(function(_){_?u():y(),_&&y4.xrSessionIsGranted&&s.click()}).catch(A),s;{const _=document.createElement("a");return window.isSecureContext===!1?(_.href=document.location.href.replace(/^http:/,"https:"),_.innerHTML="WEBXR NEEDS HTTPS"):(_.href="https://immersiveweb.dev/",_.innerHTML="WEBXR NOT AVAILABLE"),_.style.left="calc(50% - 90px)",_.style.width="180px",_.style.textDecoration="none",E(_),_}}static registerSessionGrantedListener(){if("xr"in navigator){if(/WebXRViewer\//i.test(navigator.userAgent))return;navigator.xr.addEventListener("sessiongranted",()=>{y4.xrSessionIsGranted=!0})}}};let wg=y4;MC(wg,"xrSessionIsGranted",!1);wg.registerSessionGrantedListener();const Su=Object.create(null);Su.open="0";Su.close="1";Su.ping="2";Su.pong="3";Su.message="4";Su.upgrade="5";Su.noop="6";const Xv=Object.create(null);Object.keys(Su).forEach(l=>{Xv[Su[l]]=l});const yne={type:"error",data:"parser error"},Ane=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",vne=typeof ArrayBuffer=="function",wne=l=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(l):l&&l.buffer instanceof ArrayBuffer,sD=({type:l,data:t},i,s)=>Ane&&t instanceof Blob?i?s(t):l9(t,s):vne&&(t instanceof ArrayBuffer||wne(t))?i?s(t):l9(new Blob([t]),s):s(Su[l]+(t||"")),l9=(l,t)=>{const i=new FileReader;return i.onload=function(){const s=i.result.split(",")[1];t("b"+s)},i.readAsDataURL(l)},f9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ug=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(let l=0;l<f9.length;l++)ug[f9.charCodeAt(l)]=l;const xne=l=>{let t=l.length*.75,i=l.length,s,u=0,p,y,A,E;l[l.length-1]==="="&&(t--,l[l.length-2]==="="&&t--);const _=new ArrayBuffer(t),k=new Uint8Array(_);for(s=0;s<i;s+=4)p=ug[l.charCodeAt(s)],y=ug[l.charCodeAt(s+1)],A=ug[l.charCodeAt(s+2)],E=ug[l.charCodeAt(s+3)],k[u++]=p<<2|y>>4,k[u++]=(y&15)<<4|A>>2,k[u++]=(A&3)<<6|E&63;return _},Ene=typeof ArrayBuffer=="function",oD=(l,t)=>{if(typeof l!="string")return{type:"message",data:aD(l,t)};const i=l.charAt(0);return i==="b"?{type:"message",data:_ne(l.substring(1),t)}:Xv[i]?l.length>1?{type:Xv[i],data:l.substring(1)}:{type:Xv[i]}:yne},_ne=(l,t)=>{if(Ene){const i=xne(l);return aD(i,t)}else return{base64:!0,data:l}},aD=(l,t)=>{switch(t){case"blob":return l instanceof ArrayBuffer?new Blob([l]):l;case"arraybuffer":default:return l}},lD=String.fromCharCode(30),kne=(l,t)=>{const i=l.length,s=new Array(i);let u=0;l.forEach((p,y)=>{sD(p,!1,A=>{s[y]=A,++u===i&&t(s.join(lD))})})},Cne=(l,t)=>{const i=l.split(lD),s=[];for(let u=0;u<i.length;u++){const p=oD(i[u],t);if(s.push(p),p.type==="error")break}return s},fD=4;function ko(l){if(l)return Sne(l)}function Sne(l){for(var t in ko.prototype)l[t]=ko.prototype[t];return l}ko.prototype.on=ko.prototype.addEventListener=function(l,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+l]=this._callbacks["$"+l]||[]).push(t),this};ko.prototype.once=function(l,t){function i(){this.off(l,i),t.apply(this,arguments)}return i.fn=t,this.on(l,i),this};ko.prototype.off=ko.prototype.removeListener=ko.prototype.removeAllListeners=ko.prototype.removeEventListener=function(l,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i=this._callbacks["$"+l];if(!i)return this;if(arguments.length==1)return delete this._callbacks["$"+l],this;for(var s,u=0;u<i.length;u++)if(s=i[u],s===t||s.fn===t){i.splice(u,1);break}return i.length===0&&delete this._callbacks["$"+l],this};ko.prototype.emit=function(l){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),i=this._callbacks["$"+l],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(i){i=i.slice(0);for(var s=0,u=i.length;s<u;++s)i[s].apply(this,t)}return this};ko.prototype.emitReserved=ko.prototype.emit;ko.prototype.listeners=function(l){return this._callbacks=this._callbacks||{},this._callbacks["$"+l]||[]};ko.prototype.hasListeners=function(l){return!!this.listeners(l).length};const yh=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")())();function uD(l,...t){return t.reduce((i,s)=>(l.hasOwnProperty(s)&&(i[s]=l[s]),i),{})}const Tne=setTimeout,Mne=clearTimeout;function hw(l,t){t.useNativeTimers?(l.setTimeoutFn=Tne.bind(yh),l.clearTimeoutFn=Mne.bind(yh)):(l.setTimeoutFn=setTimeout.bind(yh),l.clearTimeoutFn=clearTimeout.bind(yh))}const Rne=1.33;function Bne(l){return typeof l=="string"?Ine(l):Math.ceil((l.byteLength||l.size)*Rne)}function Ine(l){let t=0,i=0;for(let s=0,u=l.length;s<u;s++)t=l.charCodeAt(s),t<128?i+=1:t<2048?i+=2:t<55296||t>=57344?i+=3:(s++,i+=4);return i}class Dne extends Error{constructor(t,i,s){super(t),this.description=i,this.context=s,this.type="TransportError"}}class cD extends ko{constructor(t){super(),this.writable=!1,hw(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,i,s){return super.emitReserved("error",new Dne(t,i,s)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const i=oD(t,this.socket.binaryType);this.onPacket(i)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}}const hD="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),PE=64,Pne={};let u9=0,xv=0,c9;function h9(l){let t="";do t=hD[l%PE]+t,l=Math.floor(l/PE);while(l>0);return t}function dD(){const l=h9(+new Date);return l!==c9?(u9=0,c9=l):l+"."+h9(u9++)}for(;xv<PE;xv++)Pne[hD[xv]]=xv;function pD(l){let t="";for(let i in l)l.hasOwnProperty(i)&&(t.length&&(t+="&"),t+=encodeURIComponent(i)+"="+encodeURIComponent(l[i]));return t}function Lne(l){let t={},i=l.split("&");for(let s=0,u=i.length;s<u;s++){let p=i[s].split("=");t[decodeURIComponent(p[0])]=decodeURIComponent(p[1])}return t}let mD=!1;try{mD=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch{}const Nne=mD;function gD(l){const t=l.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!t||Nne))return new XMLHttpRequest}catch{}if(!t)try{return new yh[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Fne(){}const One=function(){return new gD({xdomain:!1}).responseType!=null}();class Hne extends cD{constructor(t){if(super(t),this.polling=!1,typeof location!="undefined"){const s=location.protocol==="https:";let u=location.port;u||(u=s?"443":"80"),this.xd=typeof location!="undefined"&&t.hostname!==location.hostname||u!==t.port,this.xs=t.secure!==s}const i=t&&t.forceBase64;this.supportsBinary=One&&!i}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const i=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||i()})),this.writable||(s++,this.once("drain",function(){--s||i()}))}else i()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const i=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};Cne(t,this.socket.binaryType).forEach(i),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,kne(t,i=>{this.doWrite(i,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.query||{};const i=this.opts.secure?"https":"http";let s="";this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=dD()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.opts.port&&(i==="https"&&Number(this.opts.port)!==443||i==="http"&&Number(this.opts.port)!==80)&&(s=":"+this.opts.port);const u=pD(t),p=this.opts.hostname.indexOf(":")!==-1;return i+"://"+(p?"["+this.opts.hostname+"]":this.opts.hostname)+s+this.opts.path+(u.length?"?"+u:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new vu(this.uri(),t)}doWrite(t,i){const s=this.request({method:"POST",data:t});s.on("success",i),s.on("error",(u,p)=>{this.onError("xhr post error",u,p)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(i,s)=>{this.onError("xhr poll error",i,s)}),this.pollXhr=t}}class vu extends ko{constructor(t,i){super(),hw(this,i),this.opts=i,this.method=i.method||"GET",this.uri=t,this.async=i.async!==!1,this.data=i.data!==void 0?i.data:null,this.create()}create(){const t=uD(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const i=this.xhr=new gD(t);try{i.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=()=>{i.readyState===4&&(i.status===200||i.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof i.status=="number"?i.status:0)},0))},i.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document!="undefined"&&(this.index=vu.requestsCount++,vu.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=Fne,t)try{this.xhr.abort()}catch{}typeof document!="undefined"&&delete vu.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}vu.requestsCount=0;vu.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",d9);else if(typeof addEventListener=="function"){const l="onpagehide"in yh?"pagehide":"unload";addEventListener(l,d9,!1)}}function d9(){for(let l in vu.requests)vu.requests.hasOwnProperty(l)&&vu.requests[l].abort()}const bD=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,i)=>i(t,0))(),Ev=yh.WebSocket||yh.MozWebSocket,p9=!0,Une="arraybuffer",m9=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Vne extends cD{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),i=this.opts.protocols,s=m9?{}:uD(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=p9&&!m9?i?new Ev(t,i):new Ev(t):new Ev(t,i,s)}catch(u){return this.emitReserved("error",u)}this.ws.binaryType=this.socket.binaryType||Une,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let i=0;i<t.length;i++){const s=t[i],u=i===t.length-1;sD(s,this.supportsBinary,p=>{const y={};try{p9&&this.ws.send(p)}catch{}u&&bD(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const i=this.opts.secure?"wss":"ws";let s="";this.opts.port&&(i==="wss"&&Number(this.opts.port)!==443||i==="ws"&&Number(this.opts.port)!==80)&&(s=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=dD()),this.supportsBinary||(t.b64=1);const u=pD(t),p=this.opts.hostname.indexOf(":")!==-1;return i+"://"+(p?"["+this.opts.hostname+"]":this.opts.hostname)+s+this.opts.path+(u.length?"?"+u:"")}check(){return!!Ev}}const jne={websocket:Vne,polling:Hne},Gne=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,zne=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function LE(l){const t=l,i=l.indexOf("["),s=l.indexOf("]");i!=-1&&s!=-1&&(l=l.substring(0,i)+l.substring(i,s).replace(/:/g,";")+l.substring(s,l.length));let u=Gne.exec(l||""),p={},y=14;for(;y--;)p[zne[y]]=u[y]||"";return i!=-1&&s!=-1&&(p.source=t,p.host=p.host.substring(1,p.host.length-1).replace(/;/g,":"),p.authority=p.authority.replace("[","").replace("]","").replace(/;/g,":"),p.ipv6uri=!0),p.pathNames=Wne(p,p.path),p.queryKey=Qne(p,p.query),p}function Wne(l,t){const i=/\/{2,9}/g,s=t.replace(i,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function Qne(l,t){const i={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,u,p){u&&(i[u]=p)}),i}class mh extends ko{constructor(t,i={}){super(),t&&typeof t=="object"&&(i=t,t=null),t?(t=LE(t),i.hostname=t.host,i.secure=t.protocol==="https"||t.protocol==="wss",i.port=t.port,t.query&&(i.query=t.query)):i.host&&(i.hostname=LE(i.host).host),hw(this,i),this.secure=i.secure!=null?i.secure:typeof location!="undefined"&&location.protocol==="https:",i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=i.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=i.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},i),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=Lne(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const i=Object.assign({},this.opts.query);i.EIO=fD,i.transport=t,this.id&&(i.sid=this.id);const s=Object.assign({},this.opts.transportOptions[t],this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new jne[t](s)}open(){let t;if(this.opts.rememberUpgrade&&mh.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",i=>this.onClose("transport close",i))}probe(t){let i=this.createTransport(t),s=!1;mh.priorWebsocketSuccess=!1;const u=()=>{s||(i.send([{type:"ping",data:"probe"}]),i.once("packet",R=>{if(!s)if(R.type==="pong"&&R.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",i),!i)return;mh.priorWebsocketSuccess=i.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(k(),this.setTransport(i),i.send([{type:"upgrade"}]),this.emitReserved("upgrade",i),i=null,this.upgrading=!1,this.flush())})}else{const P=new Error("probe error");P.transport=i.name,this.emitReserved("upgradeError",P)}}))};function p(){s||(s=!0,k(),i.close(),i=null)}const y=R=>{const P=new Error("probe error: "+R);P.transport=i.name,p(),this.emitReserved("upgradeError",P)};function A(){y("transport closed")}function E(){y("socket closed")}function _(R){i&&R.name!==i.name&&p()}const k=()=>{i.removeListener("open",u),i.removeListener("error",y),i.removeListener("close",A),this.off("close",E),this.off("upgrading",_)};i.once("open",u),i.once("error",y),i.once("close",A),this.once("close",E),this.once("upgrading",_),i.open()}onOpen(){if(this.readyState="open",mh.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let t=0;const i=this.upgrades.length;for(;t<i;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const i=new Error("server error");i.code=t.data,this.onError(i);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let s=0;s<this.writeBuffer.length;s++){const u=this.writeBuffer[s].data;if(u&&(i+=Bne(u)),s>0&&i>this.maxPayload)return this.writeBuffer.slice(0,s);i+=2}return this.writeBuffer}write(t,i,s){return this.sendPacket("message",t,i,s),this}send(t,i,s){return this.sendPacket("message",t,i,s),this}sendPacket(t,i,s,u){if(typeof i=="function"&&(u=i,i=void 0),typeof s=="function"&&(u=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const p={type:t,data:i,options:s};this.emitReserved("packetCreate",p),this.writeBuffer.push(p),u&&this.once("flush",u),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),t()},s=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){mh.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,i){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,i),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const i=[];let s=0;const u=t.length;for(;s<u;s++)~this.transports.indexOf(t[s])&&i.push(t[s]);return i}}mh.protocol=fD;function Jne(l,t="",i){let s=l;i=i||typeof location!="undefined"&&location,l==null&&(l=i.protocol+"//"+i.host),typeof l=="string"&&(l.charAt(0)==="/"&&(l.charAt(1)==="/"?l=i.protocol+l:l=i.host+l),/^(https?|wss?):\/\//.test(l)||(typeof i!="undefined"?l=i.protocol+"//"+l:l="https://"+l),s=LE(l)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const p=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+p+":"+s.port+t,s.href=s.protocol+"://"+p+(i&&i.port===s.port?"":":"+s.port),s}const Xne=typeof ArrayBuffer=="function",qne=l=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(l):l.buffer instanceof ArrayBuffer,yD=Object.prototype.toString,Zne=typeof Blob=="function"||typeof Blob!="undefined"&&yD.call(Blob)==="[object BlobConstructor]",Yne=typeof File=="function"||typeof File!="undefined"&&yD.call(File)==="[object FileConstructor]";function h_(l){return Xne&&(l instanceof ArrayBuffer||qne(l))||Zne&&l instanceof Blob||Yne&&l instanceof File}function qv(l,t){if(!l||typeof l!="object")return!1;if(Array.isArray(l)){for(let i=0,s=l.length;i<s;i++)if(qv(l[i]))return!0;return!1}if(h_(l))return!0;if(l.toJSON&&typeof l.toJSON=="function"&&arguments.length===1)return qv(l.toJSON(),!0);for(const i in l)if(Object.prototype.hasOwnProperty.call(l,i)&&qv(l[i]))return!0;return!1}function Kne(l){const t=[],i=l.data,s=l;return s.data=NE(i,t),s.attachments=t.length,{packet:s,buffers:t}}function NE(l,t){if(!l)return l;if(h_(l)){const i={_placeholder:!0,num:t.length};return t.push(l),i}else if(Array.isArray(l)){const i=new Array(l.length);for(let s=0;s<l.length;s++)i[s]=NE(l[s],t);return i}else if(typeof l=="object"&&!(l instanceof Date)){const i={};for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&(i[s]=NE(l[s],t));return i}return l}function $ne(l,t){return l.data=FE(l.data,t),l.attachments=void 0,l}function FE(l,t){if(!l)return l;if(l&&l._placeholder===!0){if(typeof l.num=="number"&&l.num>=0&&l.num<t.length)return t[l.num];throw new Error("illegal attachments")}else if(Array.isArray(l))for(let i=0;i<l.length;i++)l[i]=FE(l[i],t);else if(typeof l=="object")for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&(l[i]=FE(l[i],t));return l}const e0e=5;var C0;(function(l){l[l.CONNECT=0]="CONNECT",l[l.DISCONNECT=1]="DISCONNECT",l[l.EVENT=2]="EVENT",l[l.ACK=3]="ACK",l[l.CONNECT_ERROR=4]="CONNECT_ERROR",l[l.BINARY_EVENT=5]="BINARY_EVENT",l[l.BINARY_ACK=6]="BINARY_ACK"})(C0||(C0={}));class t0e{constructor(t){this.replacer=t}encode(t){return(t.type===C0.EVENT||t.type===C0.ACK)&&qv(t)?(t.type=t.type===C0.EVENT?C0.BINARY_EVENT:C0.BINARY_ACK,this.encodeAsBinary(t)):[this.encodeAsString(t)]}encodeAsString(t){let i=""+t.type;return(t.type===C0.BINARY_EVENT||t.type===C0.BINARY_ACK)&&(i+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(i+=t.nsp+","),t.id!=null&&(i+=t.id),t.data!=null&&(i+=JSON.stringify(t.data,this.replacer)),i}encodeAsBinary(t){const i=Kne(t),s=this.encodeAsString(i.packet),u=i.buffers;return u.unshift(s),u}}class d_ extends ko{constructor(t){super(),this.reviver=t}add(t){let i;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");i=this.decodeString(t),i.type===C0.BINARY_EVENT||i.type===C0.BINARY_ACK?(this.reconstructor=new i0e(i),i.attachments===0&&super.emitReserved("decoded",i)):super.emitReserved("decoded",i)}else if(h_(t)||t.base64)if(this.reconstructor)i=this.reconstructor.takeBinaryData(t),i&&(this.reconstructor=null,super.emitReserved("decoded",i));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let i=0;const s={type:Number(t.charAt(0))};if(C0[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===C0.BINARY_EVENT||s.type===C0.BINARY_ACK){const p=i+1;for(;t.charAt(++i)!=="-"&&i!=t.length;);const y=t.substring(p,i);if(y!=Number(y)||t.charAt(i)!=="-")throw new Error("Illegal attachments");s.attachments=Number(y)}if(t.charAt(i+1)==="/"){const p=i+1;for(;++i&&!(t.charAt(i)===","||i===t.length););s.nsp=t.substring(p,i)}else s.nsp="/";const u=t.charAt(i+1);if(u!==""&&Number(u)==u){const p=i+1;for(;++i;){const y=t.charAt(i);if(y==null||Number(y)!=y){--i;break}if(i===t.length)break}s.id=Number(t.substring(p,i+1))}if(t.charAt(++i)){const p=this.tryParse(t.substr(i));if(d_.isPayloadValid(s.type,p))s.data=p;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,i){switch(t){case C0.CONNECT:return typeof i=="object";case C0.DISCONNECT:return i===void 0;case C0.CONNECT_ERROR:return typeof i=="string"||typeof i=="object";case C0.EVENT:case C0.BINARY_EVENT:return Array.isArray(i)&&i.length>0;case C0.ACK:case C0.BINARY_ACK:return Array.isArray(i)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class i0e{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const i=$ne(this.reconPack,this.buffers);return this.finishedReconstruction(),i}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var r0e=Object.freeze(Object.defineProperty({__proto__:null,protocol:e0e,get PacketType(){return C0},Encoder:t0e,Decoder:d_},Symbol.toStringTag,{value:"Module"}));function Sf(l,t,i){return l.on(t,i),function(){l.off(t,i)}}const n0e=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class AD extends ko{constructor(t,i,s){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=i,s&&s.auth&&(this.auth=s.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Sf(t,"open",this.onopen.bind(this)),Sf(t,"packet",this.onpacket.bind(this)),Sf(t,"error",this.onerror.bind(this)),Sf(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...i){if(n0e.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');i.unshift(t);const s={type:C0.EVENT,data:i};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof i[i.length-1]=="function"){const y=this.ids++,A=i.pop();this._registerAckCallback(y,A),s.id=y}const u=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!u||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,i){const s=this.flags.timeout;if(s===void 0){this.acks[t]=i;return}const u=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let p=0;p<this.sendBuffer.length;p++)this.sendBuffer[p].id===t&&this.sendBuffer.splice(p,1);i.call(this,new Error("operation has timed out"))},s);this.acks[t]=(...p)=>{this.io.clearTimeoutFn(u),i.apply(this,[null,...p])}}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this.packet({type:C0.CONNECT,data:t})}):this.packet({type:C0.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,i){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,i)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case C0.CONNECT:if(t.data&&t.data.sid){const u=t.data.sid;this.onconnect(u)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case C0.EVENT:case C0.BINARY_EVENT:this.onevent(t);break;case C0.ACK:case C0.BINARY_ACK:this.onack(t);break;case C0.DISCONNECT:this.ondisconnect();break;case C0.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const i=t.data||[];t.id!=null&&i.push(this.ack(t.id)),this.connected?this.emitEvent(i):this.receiveBuffer.push(Object.freeze(i))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const i=this._anyListeners.slice();for(const s of i)s.apply(this,t)}super.emit.apply(this,t)}ack(t){const i=this;let s=!1;return function(...u){s||(s=!0,i.packet({type:C0.ACK,id:t,data:u}))}}onack(t){const i=this.acks[t.id];typeof i=="function"&&(i.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:C0.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const i=this._anyListeners;for(let s=0;s<i.length;s++)if(t===i[s])return i.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const i=this._anyOutgoingListeners;for(let s=0;s<i.length;s++)if(t===i[s])return i.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const i=this._anyOutgoingListeners.slice();for(const s of i)s.apply(this,t.data)}}}function S1(l){l=l||{},this.ms=l.min||100,this.max=l.max||1e4,this.factor=l.factor||2,this.jitter=l.jitter>0&&l.jitter<=1?l.jitter:0,this.attempts=0}S1.prototype.duration=function(){var l=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),i=Math.floor(t*this.jitter*l);l=(Math.floor(t*10)&1)==0?l-i:l+i}return Math.min(l,this.max)|0};S1.prototype.reset=function(){this.attempts=0};S1.prototype.setMin=function(l){this.ms=l};S1.prototype.setMax=function(l){this.max=l};S1.prototype.setJitter=function(l){this.jitter=l};class OE extends ko{constructor(t,i){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(i=t,t=void 0),i=i||{},i.path=i.path||"/socket.io",this.opts=i,hw(this,i),this.reconnection(i.reconnection!==!1),this.reconnectionAttempts(i.reconnectionAttempts||1/0),this.reconnectionDelay(i.reconnectionDelay||1e3),this.reconnectionDelayMax(i.reconnectionDelayMax||5e3),this.randomizationFactor((s=i.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new S1({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(i.timeout==null?2e4:i.timeout),this._readyState="closed",this.uri=t;const u=i.parser||r0e;this.encoder=new u.Encoder,this.decoder=new u.Decoder,this._autoConnect=i.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var i;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(i=this.backoff)===null||i===void 0||i.setMin(t),this)}randomizationFactor(t){var i;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(i=this.backoff)===null||i===void 0||i.setJitter(t),this)}reconnectionDelayMax(t){var i;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(i=this.backoff)===null||i===void 0||i.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new mh(this.uri,this.opts);const i=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const u=Sf(i,"open",function(){s.onopen(),t&&t()}),p=Sf(i,"error",y=>{s.cleanup(),s._readyState="closed",this.emitReserved("error",y),t?t(y):s.maybeReconnectOnOpen()});if(this._timeout!==!1){const y=this._timeout;y===0&&u();const A=this.setTimeoutFn(()=>{u(),i.close(),i.emit("error",new Error("timeout"))},y);this.opts.autoUnref&&A.unref(),this.subs.push(function(){clearTimeout(A)})}return this.subs.push(u),this.subs.push(p),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Sf(t,"ping",this.onping.bind(this)),Sf(t,"data",this.ondata.bind(this)),Sf(t,"error",this.onerror.bind(this)),Sf(t,"close",this.onclose.bind(this)),Sf(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(i){this.onclose("parse error",i)}}ondecoded(t){bD(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,i){let s=this.nsps[t];return s||(s=new AD(this,t,i),this.nsps[t]=s),s}_destroy(t){const i=Object.keys(this.nsps);for(const s of i)if(this.nsps[s].active)return;this._close()}_packet(t){const i=this.encoder.encode(t);for(let s=0;s<i.length;s++)this.engine.write(i[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,i){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,i),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const i=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(u=>{u?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",u)):t.onreconnect()}))},i);this.opts.autoUnref&&s.unref(),this.subs.push(function(){clearTimeout(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ig={};function Zv(l,t){typeof l=="object"&&(t=l,l=void 0),t=t||{};const i=Jne(l,t.path||"/socket.io"),s=i.source,u=i.id,p=i.path,y=ig[u]&&p in ig[u].nsps,A=t.forceNew||t["force new connection"]||t.multiplex===!1||y;let E;return A?E=new OE(s,t):(ig[u]||(ig[u]=new OE(s,t)),E=ig[u]),i.query&&!t.query&&(t.query=i.queryKey),E.socket(i.path,t)}Object.assign(Zv,{Manager:OE,Socket:AD,io:Zv,connect:Zv});function g9({editor:l,cmd:t,objUuid:i,args:s,optionalName:u}){console.log("SocketCommandController",t,i,s,u);const p=new THREE.LoadingManager;let y=i?l.objectByUuid(i):null;async function A(E){console.log("getItemJson",`https://play.grwth.hk/publishes/${window.assignmentSceneName}/${E}`);let _=document.querySelector(".loader-container");_.style.display="flex",await Sl({method:"get",baseURL:"https://play.grwth.hk",url:`/publishes/${window.assignmentSceneName}/${E}`}).then(k=>{let R=E.split(".").pop().toLowerCase();if(console.log("%c Axios Get Success(JSON/GLTF)","color: black; background: #3ea086;",k),k.data!==void 0){let P;R==="json"?(P=new Blob([JSON.stringify(k.data)],{type:"application/json"}),l.loader.loadFile(P,p,R,!0,E)):R==="gltf"&&(P=new Blob([JSON.stringify(k.data,null,2)],{type:"text/plain"}),l.loader.loadFile(P,p,R,!0,E))}}).catch(k=>{console.log(k)}).finally(()=>{_.style.display="none"})}switch(t){case"MultiCmdsCommand":break;case"AddObjectCommand":if(console.log(s[0]),s[1]===""){const _=new Blob([s[0]],{type:"application/json"});l.loader.loadFile(_,p,"json",!0)}else A(s[1]);break;case"SetSceneCommand":A(s[1]);break;case"SetMaterialMapCommand":break;case"SetPositionCommand":case"SetScaleCommand":let E=new wt(s[0].x,s[0].y,s[0].z);l.executeSocket(new uh[t](l,y,E,s[1]));break;case"SetRotationCommand":l.executeSocket(new uh[t](l,y,s[0],s[1],"socket"));break;case"RemoveObjectCommand":l.executeSocket(new uh[t](l,y));break;case"AddScriptCommand":case"RemoveScriptCommand":case"SetAudioOptionCommand":case"SetAudioValueCommand":case"SetGeometryCommand":case"SetOnClickOptionCommand":case"SetOnClickValueCommand":case"SetPresentationOptionCommand":case"SetPresentationValueCommand":case"SetUuidCommand":l.executeSocket(new uh[t](l,y,s[0]));break;case"SetColorCommand":case"SetGeometryValueCommand":case"SetMaterialCommand":case"SetValueCommand":l.executeSocket(new uh[t](l,y,s[0],s[1]));break;case"MoveObjectCommand":case"SetMaterialColorCommand":case"SetMaterialValueCommand":case"SetMaterialVectorCommand":case"SetScriptValueCommand":l.executeSocket(new uh[t](l,y,s[0],s[1],s[2]));break}}var s0e=function(l){var t=document.createElement("a");return t.href=l,t},vD=s0e(window.location.href.toString());vD.hostname;vD.pathname.split("/")[1];window.URL=window.URL||window.webkitURL;window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder;const p_=new Proxy(new URLSearchParams(window.location.search),{get:(l,t)=>l.get(t)});let Jl=p_.assignments,Rd=p_.startobj,o0e=p_.user;Number.prototype.format=function(){return this.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")};const h0=new sB;window.process=null;window.editor=h0;window.THREE=vJ;window.VRButton=wg;window.assignmentSceneName=Jl;window.startObj=Rd;window.user=o0e;window.prevSceneJson=null;window.tick=0;const a0e=new vZ(h0);document.body.appendChild(a0e.dom);const l0e=new _Z(h0);document.body.appendChild(l0e.dom);const f0e=new kZ(h0);document.body.appendChild(f0e.dom);new CZ(h0);new SZ(h0);const u0e=new hne(h0);document.body.appendChild(u0e.dom);const c0e=new wq(h0);document.body.appendChild(c0e.dom);const h0e=new t$(h0);document.body.appendChild(h0e.dom);const d0e=new gne(h0);document.body.appendChild(d0e.dom);const p0e=new bne(h0);document.body.appendChild(p0e.dom);h0.storage.init(function(){h0.storage.get(function(s){if(Jl){y();const p=Zv("https://play.grwth.hk/");p.on("connect",()=>{window.isConnected=Jl,window.socket=p,p.emit("Room:Join",{assignmentName:Jl,from:p.id}),console.log("%c Socket emit Room:Join ","color: black; background: #9fa4dd;",Jl,p.id)}),p.on("Room:Join",_=>{console.log("%c Socket on Room:Join ","color: black; background: #9fa4dd;",_)});async function y(){let _=!1,k=document.querySelector(".loader-container");if(k.style.display="flex",await fetch(`https://play.grwth.hk/assignments/${Jl}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(R=>R.json()).then(R=>{E(),h0.clear(),R.json!==void 0?(console.log(Jl,"fromJSON data.json"),h0.fromJSON(R.json,Jl)):(console.log(Jl,"fromJSON defaultJson"),h0.fromJSON(c_,Jl),_=!0)}),Rd&&_){let R=document.querySelector(".loader-container");R.style.display="flex";const P=new o2;let B="room";Rd.includes("(")&&(B="object"),await Sl({method:"get",baseURL:"https://play.grwth.hk",url:`/library/${B}/${Rd}`}).then(O=>{if(O.data.json!==void 0){console.log("%c Main StartObj:fetchJson Success","color: black; background: #85a7c3;",B,Rd,O.data.json);const H=new Blob([JSON.stringify(O.data.json)],{type:"application/json"});h0.loader.loadFile(H,P,"json",!1,`${Rd}`)}else console.log("%c Main StartObj:fetchJson Fail","color: black; background: #85a7c3;",B,Rd,O.data.json)}).catch(O=>{console.log(O)}).finally(()=>{R.style.display="none"})}}const A=document.querySelector(".loader-container"),E=()=>{A.style.display="none"};document.addEventListener("wheel",_=>{},{passive:!1}),p.on("space:edit",({assignmentName:_,from:k,edit:R})=>{console.log("%c Socket on space:edit ","color: black; background: #9fa4dd;",_)}),p.on("Room:Create",({assignmentName:_,cmd:k,objJson:R,url:P})=>{console.log("%c Socket on Room:Create ","color: black; background: #9fa4dd;",_,k,R,P),g9({editor:h0,cmd:k,args:[R,P]})}),p.on("Room:Execute",({cmd:_,objUuid:k,args:R,optionalName:P})=>{console.log("%c Socket on Room:Execute ","color: black; background: #9fa4dd;",_,k,R,P),g9({editor:h0,cmd:_,objUuid:k,args:R,optionalName:P})}),p.on("Room:Undo",({assignmentName:_})=>{console.log("%c Socket on Room:Undo ","color: black; background: #9fa4dd;"),h0.undoSocket()}),p.on("Room:Redo",({assignmentName:_})=>{console.log("%c Socket on Room:Redo ","color: black; background: #9fa4dd;"),h0.redoSocket()}),p.on("Communicate:Chat",({userName:_,chatContent:k,time:R})=>{console.log("%c Socket on Communicate:Chat ","color: black; background: #9fa4dd;",_,k,R);let P=document.createElement("div");P.className="Row",P.innerHTML=`${_}: ${k}`;let B=document.querySelector("#chatContent");B.appendChild(P),B.scrollTop=B.scrollHeight});return}if(xD||Jl)return;s!==void 0?h0.fromJSON(s):h0.fromJSON(Jl);const u=h0.config.getKey("selected");u!==void 0&&h0.selectByUuid(u)});let l;function t(){h0.config.getKey("autosave")!==!1&&(clearTimeout(l),l=setTimeout(function(){h0.signals.savingStarted.dispatch(),l=setTimeout(function(){h0.storage.set(h0.toJSON()),h0.signals.savingFinished.dispatch()},100)},1e3))}const i=h0.signals;i.geometryChanged.add(t),i.objectAdded.add(t),i.objectChanged.add(t),i.objectRemoved.add(t),i.materialChanged.add(t),i.sceneBackgroundChanged.add(t),i.sceneFogChanged.add(t),i.sceneGraphChanged.add(t),i.scriptChanged.add(t),i.historyChanged.add(t),i.sceneEnvironmentChanged.add(t),qre(h0)});document.addEventListener("dragover",function(l){l.preventDefault(),l.dataTransfer.dropEffect="copy"});document.addEventListener("drop",function(l){l.preventDefault(),l.dataTransfer.types[0]!=="text/plain"&&(l.dataTransfer.items?h0.loader.loadItemList(l.dataTransfer.items):h0.loader.loadFiles(l.dataTransfer.files))});function wD(){h0.signals.windowResize.dispatch()}window.addEventListener("resize",wD);wD();let xD=!1;const b9=window.location.hash;if(b9.slice(1,6)==="file="){const l=b9.slice(6);if(confirm("Any unsaved data will be lost. Are you sure?")){const t=new Pa;t.crossOrigin="",t.load(l,function(i){h0.clear(),h0.fromJSON(JSON.parse(i))}),xD=!0}}export{vn as B,da as C,Pf as D,Pa as F,Op as I,ga as L,Cf as M,so as N,k0 as P,wl as R,bh as S,wt as V,d0 as a,oc as b,Jr as c,Ch as d,Wd as e,Eg as f,_g as g,Es as h,x4 as i,Tu as j,_h as k,Lp as l,_r as m,Us as n,qs as o,Vo as p,b0 as s,FJ as z};
